{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":5,"creation_date":1649987532,"post_id":71879242,"comment_id":127017907,"body_markdown":"Your constructor has a ***parameter***, so you need to supply it.  Alternatively you can create a no-parameter constructor.","body":"Your constructor has a <b><i>parameter</i></b>, so you need to supply it.  Alternatively you can create a no-parameter constructor."},{"owner":{"account_id":13122749,"reputation":129,"user_id":9479686,"display_name":"The man"},"score":0,"creation_date":1650018157,"post_id":71879242,"comment_id":127023488,"body_markdown":"@PM 77, I supplied it but the compiler says `Value &#39;world&#39; is always &#39;null&#39; `","body":"@PM 77, I supplied it but the compiler says <code>Value &#39;world&#39; is always &#39;null&#39; </code>"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1650026998,"post_id":71879242,"comment_id":127025871,"body_markdown":"You need to have/create an ***instance*** of `World` and pass it to your constructor.","body":"You need to have/create an <b><i>instance</i></b> of <code>World</code> and pass it to your constructor."}],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649987536,"creation_date":1649987536,"answer_id":71879261,"question_id":71879242,"body_markdown":"You need to pass a `World` reference to the constructor to create a `MyClassOne`. That&#39;s what your constructor is declared to need.","title":"Can the object of a class having a constructor be created?","body":"<p>You need to pass a <code>World</code> reference to the constructor to create a <code>MyClassOne</code>. That's what your constructor is declared to need.</p>\n"}],"owner":{"account_id":13122749,"reputation":129,"user_id":9479686,"display_name":"The man"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1649987536,"creation_date":1649987322,"question_id":71879242,"body_markdown":"Given this class:\r\n\r\n    public class MyClassOne {\r\n    \r\n    private World world;\r\n      \r\n    \r\n      public MyClassOne(World world) { \r\n        this.world = world;\r\n      }\r\n    \r\n    public void myMethod() {\r\n        //do something;\r\n      }\r\n    }\r\n\r\nI tried creating an object `MyClassOne` in `MyClassTwo`:\r\n\r\n\r\n\r\n    Public class MyClassTwo{\r\n      \r\n    MyClassOne mco = new MyClassOne();  // error thrown on this line\r\n    \r\n    public void myMethod2() {\r\n        //do something\r\n       \r\n      }\r\n    }\r\n\r\nI gpt a compilation eror:\r\n\r\n    &#39;MyClassOne(config.World)&#39; in &#39;mypackage.MyClassOne&#39; cannot be applied to &#39;()\r\n\r\nWhat am I doing wrong? How can I successfully create an object of `MyClassOne` given it contains a constructor?\r\n\r\n\r\n\r\n","title":"Can the object of a class having a constructor be created?","body":"<p>Given this class:</p>\n<pre><code>public class MyClassOne {\n\nprivate World world;\n  \n\n  public MyClassOne(World world) { \n    this.world = world;\n  }\n\npublic void myMethod() {\n    //do something;\n  }\n}\n</code></pre>\n<p>I tried creating an object <code>MyClassOne</code> in <code>MyClassTwo</code>:</p>\n<pre><code>Public class MyClassTwo{\n  \nMyClassOne mco = new MyClassOne();  // error thrown on this line\n\npublic void myMethod2() {\n    //do something\n   \n  }\n}\n</code></pre>\n<p>I gpt a compilation eror:</p>\n<pre><code>'MyClassOne(config.World)' in 'mypackage.MyClassOne' cannot be applied to '()\n</code></pre>\n<p>What am I doing wrong? How can I successfully create an object of <code>MyClassOne</code> given it contains a constructor?</p>\n"},{"tags":["java","compiler-errors","compilation","package","javac"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1649988444,"post_id":70258282,"comment_id":127018004,"body_markdown":"Try `cd ..` and then `javac myPack/Main.java`. NB it is customary to use only lowercase in package names. Don&#39;t ask me why.","body":"Try <code>cd ..</code> and then <code>javac myPack&#47;Main.java</code>. NB it is customary to use only lowercase in package names. Don&#39;t ask me why."}],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638876781,"creation_date":1638876781,"answer_id":70259394,"question_id":70258282,"body_markdown":"Try this for compiling\r\n```bash\r\n# compile all files .java in folder ./myPack and outputing in ./folder-compiled\r\njavac -d folder-compiled $(find ./myPack -name &#39;*.java&#39;)\r\n```\r\nSo you can run all compiled class with this\r\n```bash\r\n# run all Main.class already compiled in ./folder-compiled\r\njava -cp folder-compiled Main\r\n```\r\n\r\n&gt; this example above will work because I&#39;m considering your classpath is in myPack/* and you are not working with modular classpath jdk9+ in other way may be diferent\r\n\r\n*the other simple and easy way is working with building tools such as gradle or maven*","title":"Compiling error while compiling two java files in the same package that use each other","body":"<p>Try this for compiling</p>\n<pre class=\"lang-sh prettyprint-override\"><code># compile all files .java in folder ./myPack and outputing in ./folder-compiled\njavac -d folder-compiled $(find ./myPack -name '*.java')\n</code></pre>\n<p>So you can run all compiled class with this</p>\n<pre class=\"lang-sh prettyprint-override\"><code># run all Main.class already compiled in ./folder-compiled\njava -cp folder-compiled Main\n</code></pre>\n<blockquote>\n<p>this example above will work because I'm considering your classpath is in myPack/* and you are not working with modular classpath jdk9+ in other way may be diferent</p>\n</blockquote>\n<p><em>the other simple and easy way is working with building tools such as gradle or maven</em></p>\n"}],"owner":{"account_id":22043495,"reputation":49,"user_id":16308913,"display_name":"AmirCH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1649987393,"creation_date":1638871918,"question_id":70258282,"body_markdown":"Suppose we have two .java files in the same directory.\r\n\r\nTest.java:\r\n\r\n    public class Test {\r\n    \tpublic void func() {\r\n    \t\tSystem.out.println(&quot;Hello World&quot;);\r\n    \t}\r\n    }\r\n\r\nMain.java:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tTest t = new Test();\r\n    \t\tt.func();\r\n    \t}\r\n    }\r\n\r\nIf I write in the command line: **javac Main.java**  \r\nit creates the Main.class and automatically creates Test.class and for running this program I use : **java Main**\r\n\r\nbut when I add **package myPack** statement in the first line of two files everything changes.\r\nand the structure of the files is as follows:\r\n\r\nmyPack  \r\n├── Main.java  \r\n└── Test.java  \r\n\r\nIf I write **javac Main.java** the compiler says:  \r\n\r\n&gt; Main.java:5: error: cannot find symbol\r\n&gt;     Test t = new Test();\r\n\r\nand I should compile both of them at the same time. **(javac Main.java Test.java)**  \r\n\r\nQuestion 1) Why it happens?\r\n\r\nQuestion 2) When I compiled both files I cant run program with **java Main.** \r\n\r\n&gt; (Error: Could not find or load main class Main ).\r\n\r\n What&#39;s the problem?\r\n\r\n\r\nQuestion 3) I read somewhere you should compile and run this from the parent directory like this : \r\n**javac myPack/Main.java** (it automatically creates Test.class file)\r\nand then **java myPack.Main** . this way the program works properly.\r\nbut why should we compile and run programs from the parent directory with this syntax?","title":"Compiling error while compiling two java files in the same package that use each other","body":"<p>Suppose we have two .java files in the same directory.</p>\n<p>Test.java:</p>\n<pre><code>public class Test {\n    public void func() {\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>Main.java:</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        Test t = new Test();\n        t.func();\n    }\n}\n</code></pre>\n<p>If I write in the command line: <strong>javac Main.java</strong><br />\nit creates the Main.class and automatically creates Test.class and for running this program I use : <strong>java Main</strong></p>\n<p>but when I add <strong>package myPack</strong> statement in the first line of two files everything changes.\nand the structure of the files is as follows:</p>\n<p>myPack<br />\n├── Main.java<br />\n└── Test.java</p>\n<p>If I write <strong>javac Main.java</strong> the compiler says:</p>\n<blockquote>\n<p>Main.java:5: error: cannot find symbol\nTest t = new Test();</p>\n</blockquote>\n<p>and I should compile both of them at the same time. <strong>(javac Main.java Test.java)</strong></p>\n<p>Question 1) Why it happens?</p>\n<p>Question 2) When I compiled both files I cant run program with <strong>java Main.</strong></p>\n<blockquote>\n<p>(Error: Could not find or load main class Main ).</p>\n</blockquote>\n<p>What's the problem?</p>\n<p>Question 3) I read somewhere you should compile and run this from the parent directory like this :\n<strong>javac myPack/Main.java</strong> (it automatically creates Test.class file)\nand then <strong>java myPack.Main</strong> . this way the program works properly.\nbut why should we compile and run programs from the parent directory with this syntax?</p>\n"},{"tags":["java","spring-boot","java-ee-6","websphere-8","xmlapi2"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1650033504,"post_id":71879235,"comment_id":127027930,"body_markdown":"Try to create separate, isolated shared libraries with all the xml, dozer jars and attach it to the server classloader, and run app with parent last option.","body":"Try to create separate, isolated shared libraries with all the xml, dozer jars and attach it to the server classloader, and run app with parent last option."},{"owner":{"account_id":24942587,"reputation":1,"user_id":18808266,"display_name":"Sudheer"},"score":0,"creation_date":1650104591,"post_id":71879235,"comment_id":127040881,"body_markdown":"I was tried to find out which classes in xml-apis were\n really being used  which were not provided in JDK to load XML. Got to know ElementTraversal is the only interface which is missed and rest all were part of JDK. so created that interface alone with same package. that resolved my issue.","body":"I was tried to find out which classes in xml-apis were  really being used  which were not provided in JDK to load XML. Got to know ElementTraversal is the only interface which is missed and rest all were part of JDK. so created that interface alone with same package. that resolved my issue."}],"owner":{"account_id":24942587,"reputation":1,"user_id":18808266,"display_name":"Sudheer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649987189,"creation_date":1649987189,"question_id":71879235,"body_markdown":"In spring boot application we are dependent on Sax XML parsers and dozer mappers. So we have used xercesImpl.jar which internally has xml-apis as dependency.  \r\nWhen we install and run application in WAS, giving exception as below, \r\n\r\n*java.lang.RuntimeException: XPathFactory#newInstance() failed to create an XPathFactory for the default object model: http://java.sun.com/jaxp/xpath/dom with the XPathFactoryConfigurationException: javax.xml.xpath.XPathFactoryConfigurationException: No XPathFctory implementation found for the object model: http://java.sun.com/jaxp/xpath/dom\r\n    at javax.xml.xpath.XPathFactory.newInstance(Unknown Source)*\r\n\r\nWhen I excluded xml-apis dependency then app is coming up but it&#39;s failing to load dozer xmls, with below exception\r\n\r\n*java.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal* \r\n\r\nWe have set application class loader config to parent last as spring boot 2.3.12 is conflicting with parent first class loder config. \r\n\r\n**Versions**\r\nSpring boot - 2.3.12,\r\nxercesImpl.jar - 2.12.2,\r\nxml-apis - 1.4, \r\nWebsphere - 8.5,\r\nClass Loader : PARENT_LAST\r\n\r\n**Summarising - with xml-apis, app is not coming up. If we exclude xml-apis app is coming up but nothing working.**\r\n\r\nLooking for suggestions. \r\n\r\nThanks,","title":"When we have XML-APIS dependency in class path, spring boot application is not coming up in websphere 8.5. class loader is PARENT_LAST","body":"<p>In spring boot application we are dependent on Sax XML parsers and dozer mappers. So we have used xercesImpl.jar which internally has xml-apis as dependency.<br />\nWhen we install and run application in WAS, giving exception as below,</p>\n<p><em>java.lang.RuntimeException: XPathFactory#newInstance() failed to create an XPathFactory for the default object model: <a href=\"http://java.sun.com/jaxp/xpath/dom\" rel=\"nofollow noreferrer\">http://java.sun.com/jaxp/xpath/dom</a> with the XPathFactoryConfigurationException: javax.xml.xpath.XPathFactoryConfigurationException: No XPathFctory implementation found for the object model: <a href=\"http://java.sun.com/jaxp/xpath/dom\" rel=\"nofollow noreferrer\">http://java.sun.com/jaxp/xpath/dom</a>\nat javax.xml.xpath.XPathFactory.newInstance(Unknown Source)</em></p>\n<p>When I excluded xml-apis dependency then app is coming up but it's failing to load dozer xmls, with below exception</p>\n<p><em>java.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal</em></p>\n<p>We have set application class loader config to parent last as spring boot 2.3.12 is conflicting with parent first class loder config.</p>\n<p><strong>Versions</strong>\nSpring boot - 2.3.12,\nxercesImpl.jar - 2.12.2,\nxml-apis - 1.4,\nWebsphere - 8.5,\nClass Loader : PARENT_LAST</p>\n<p><strong>Summarising - with xml-apis, app is not coming up. If we exclude xml-apis app is coming up but nothing working.</strong></p>\n<p>Looking for suggestions.</p>\n<p>Thanks,</p>\n"},{"tags":["java","h2"],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649986722,"creation_date":1649986722,"answer_id":71879193,"question_id":71876074,"body_markdown":"Function aliases returning a `ResultSet` are called multiple times. You need to check URL of passed connection. If it is equal to `jdbc:columnlist:connection`, you need to return an empty `ResultSet` with properly configured columns, you can use `org.h2.tools.SimpleResultSet` or some other implementation. These invocations are performed during compilation or recompilation of the query before its actual execution.\r\n\r\n```lang-java\r\nString url = conn.getMetaData().getURL();\r\nif (url.equals(&quot;jdbc:columnlist:connection&quot;)) {\r\n    SimpleResultSet rs = new SimpleResultSet();\r\n    // With some connection options &quot;id&quot; should be used instead\r\n    rs.addColumn(&quot;ID&quot;, Types.BIGINT, 19, 0);\r\n    return rs;\r\n}\r\n// main code\r\n```\r\nThis result set must have columns with exactly the same names and data types as your function normally returns. Be careful with column names, `` `id` `` usually means `&quot;ID&quot;`, but if `;DATABASE_TO_LOWER=TRUE` or `;DATABASE_TO_UPPER=FALSE` were specified in JDBC URL used by your application, it means `&quot;id&quot;`. Your function shouldn&#39;t modify any data during this execution, it is only asked about its metadata.\r\n\r\nIf URL is different, it is a real function call during execution of a query or other command and you need to execute your code.\r\n\r\nSee also an example:\r\nhttps://github.com/h2database/h2database/blob/45b609dec0e45125e6a93f85c9018d34551332a1/h2/src/test/org/h2/samples/Function.java#L140","title":"Why does H2 alias duplicate inserted rows?","body":"<p>Function aliases returning a <code>ResultSet</code> are called multiple times. You need to check URL of passed connection. If it is equal to <code>jdbc:columnlist:connection</code>, you need to return an empty <code>ResultSet</code> with properly configured columns, you can use <code>org.h2.tools.SimpleResultSet</code> or some other implementation. These invocations are performed during compilation or recompilation of the query before its actual execution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String url = conn.getMetaData().getURL();\nif (url.equals(&quot;jdbc:columnlist:connection&quot;)) {\n    SimpleResultSet rs = new SimpleResultSet();\n    // With some connection options &quot;id&quot; should be used instead\n    rs.addColumn(&quot;ID&quot;, Types.BIGINT, 19, 0);\n    return rs;\n}\n// main code\n</code></pre>\n<p>This result set must have columns with exactly the same names and data types as your function normally returns. Be careful with column names, <code>`id`</code> usually means <code>&quot;ID&quot;</code>, but if <code>;DATABASE_TO_LOWER=TRUE</code> or <code>;DATABASE_TO_UPPER=FALSE</code> were specified in JDBC URL used by your application, it means <code>&quot;id&quot;</code>. Your function shouldn't modify any data during this execution, it is only asked about its metadata.</p>\n<p>If URL is different, it is a real function call during execution of a query or other command and you need to execute your code.</p>\n<p>See also an example:\n<a href=\"https://github.com/h2database/h2database/blob/45b609dec0e45125e6a93f85c9018d34551332a1/h2/src/test/org/h2/samples/Function.java#L140\" rel=\"nofollow noreferrer\">https://github.com/h2database/h2database/blob/45b609dec0e45125e6a93f85c9018d34551332a1/h2/src/test/org/h2/samples/Function.java#L140</a></p>\n"}],"owner":{"account_id":8220042,"reputation":181,"user_id":6184926,"display_name":"Jakub Moravec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71879193,"answer_count":1,"score":1,"last_activity_date":1649986722,"creation_date":1649960401,"question_id":71876074,"body_markdown":"I have created the following H2 alias: \r\n\r\n``` \r\nCREATE ALIAS INSERT_CHANGE_RECORD AS  &#39;\r\njava.sql.ResultSet insertChangeRecord(final java.sql.Connection conn) throws java.sql.SQLException\r\n{\r\n  String sql = &quot;insert into `change_records` (`made_when`, `made_by`) values (CURRENT_TIMESTAMP(9), &#39;&#39;admin&#39;&#39;);&quot;;\r\n  java.sql.PreparedStatement ps = conn.prepareStatement(sql, java.sql.Statement.RETURN_GENERATED_KEYS);\r\n  ps.executeUpdate();\r\n  java.sql.ResultSet results = ps.getGeneratedKeys() ;\r\n  return results;\r\n}\r\n&#39;;\r\n```\r\n\r\nWeirdly enough, when I call the alias (once) using ```call INSERT_CHANGE_RECORD();``` 3 identical records are created in the table, instead of one. \r\n\r\nWhen I use the following definition of the alias instead (the difference is that I actually retrieve the generated ID from the resultset), only 1 row is inserted. \r\n\r\n``` \r\nCREATE ALIAS IF NOT EXISTS INSERT_CHANGE_RECORD AS  &#39;\r\nLong insertChangeRecord(final java.sql.Connection conn) throws java.sql.SQLException\r\n{\r\n  String sql = &quot;insert into `change_records` (`made_when`, `made_by`) values (CURRENT_TIMESTAMP(9), &#39;&#39;admin&#39;&#39;);&quot;;\r\n  java.sql.PreparedStatement ps = conn.prepareStatement(sql, java.sql.Statement.RETURN_GENERATED_KEYS);\r\n  ps.executeUpdate();\r\n  java.sql.ResultSet results = ps.getGeneratedKeys();\r\n  results.next();\r\n  return results.getLong(1);\r\n}\r\n&#39;;\r\n```\r\n\r\nIs this a bug in H2, or is there any reasonable explanation for this behavior? I&#39;m using H2 *2.1.210*. \r\n\r\nHere is the DDL of the table that I insert into. \r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS `change_records` (\r\n    `id` BIGINT NOT NULL AUTO_INCREMENT CONSTRAINT `change_records_id_pk` PRIMARY KEY,\r\n    `made_when` TIMESTAMP (9) WITH TIME ZONE NOT NULL,\r\n    `made_by` VARCHAR NOT NULL\r\n);\r\n```","title":"Why does H2 alias duplicate inserted rows?","body":"<p>I have created the following H2 alias:</p>\n<pre><code>CREATE ALIAS INSERT_CHANGE_RECORD AS  '\njava.sql.ResultSet insertChangeRecord(final java.sql.Connection conn) throws java.sql.SQLException\n{\n  String sql = &quot;insert into `change_records` (`made_when`, `made_by`) values (CURRENT_TIMESTAMP(9), ''admin'');&quot;;\n  java.sql.PreparedStatement ps = conn.prepareStatement(sql, java.sql.Statement.RETURN_GENERATED_KEYS);\n  ps.executeUpdate();\n  java.sql.ResultSet results = ps.getGeneratedKeys() ;\n  return results;\n}\n';\n</code></pre>\n<p>Weirdly enough, when I call the alias (once) using <code>call INSERT_CHANGE_RECORD();</code> 3 identical records are created in the table, instead of one.</p>\n<p>When I use the following definition of the alias instead (the difference is that I actually retrieve the generated ID from the resultset), only 1 row is inserted.</p>\n<pre><code>CREATE ALIAS IF NOT EXISTS INSERT_CHANGE_RECORD AS  '\nLong insertChangeRecord(final java.sql.Connection conn) throws java.sql.SQLException\n{\n  String sql = &quot;insert into `change_records` (`made_when`, `made_by`) values (CURRENT_TIMESTAMP(9), ''admin'');&quot;;\n  java.sql.PreparedStatement ps = conn.prepareStatement(sql, java.sql.Statement.RETURN_GENERATED_KEYS);\n  ps.executeUpdate();\n  java.sql.ResultSet results = ps.getGeneratedKeys();\n  results.next();\n  return results.getLong(1);\n}\n';\n</code></pre>\n<p>Is this a bug in H2, or is there any reasonable explanation for this behavior? I'm using H2 <em>2.1.210</em>.</p>\n<p>Here is the DDL of the table that I insert into.</p>\n<pre><code>CREATE TABLE IF NOT EXISTS `change_records` (\n    `id` BIGINT NOT NULL AUTO_INCREMENT CONSTRAINT `change_records_id_pk` PRIMARY KEY,\n    `made_when` TIMESTAMP (9) WITH TIME ZONE NOT NULL,\n    `made_by` VARCHAR NOT NULL\n);\n</code></pre>\n"},{"tags":["java","arrays","output"],"answers":[{"tags":[],"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649984935,"creation_date":1649838391,"answer_id":71854257,"question_id":71853529,"body_markdown":"This may help you:\r\n\r\n\r\n    public char[][] createBoardGame() {\r\n        char[][] boardGame = new char[xAxis][yAxis];\r\n        for (char[] row : boardGame) {\r\n            Arrays.fill(row, water);\r\n\r\n        }\r\n        return placeShips(boardGame);\r\n    }\r\n\r\nRhis code creates 2 different board games and fills them with water ( specifically &quot;-&quot; )...\r\n\r\n\r\n**only one board game is filled with the battle ship but the second one is not filled** ...\r\n\r\n*This is what is giving you unsatisfied output and this is your actual question and not &quot;**my createBoardGame() does not create to different filled board games instead fills ups the first one but the second one stays blank.**&quot;*","title":"Why is my second object created from my Board class not printing out the same game board filled with battleships like my first object?","body":"<p>This may help you:</p>\n<pre><code>public char[][] createBoardGame() {\n    char[][] boardGame = new char[xAxis][yAxis];\n    for (char[] row : boardGame) {\n        Arrays.fill(row, water);\n\n    }\n    return placeShips(boardGame);\n}\n</code></pre>\n<p>Rhis code creates 2 different board games and fills them with water ( specifically &quot;-&quot; )...</p>\n<p><strong>only one board game is filled with the battle ship but the second one is not filled</strong> ...</p>\n<p><em>This is what is giving you unsatisfied output and this is your actual question and not &quot;<strong>my createBoardGame() does not create to different filled board games instead fills ups the first one but the second one stays blank.</strong>&quot;</em></p>\n"}],"owner":{"account_id":18416814,"reputation":15,"user_id":13415461,"display_name":"Yayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1649984935,"creation_date":1649834835,"question_id":71853529,"body_markdown":"I&#39;m creating a Battleship game for my Java course (might not be the best code structure or the neatest but I&#39;m trying). I&#39;m running across a problem where I create two objects from my Board class and only one of the objects prints out a board game filled with water and battle ships while the second one if not filled with battleships. I&#39;m confused to why the second object won&#39;t print out the same results as the first objects if they&#39;re completely different objects themselves I thought that&#39;s how object oriented programming worked? I&#39;ve tried even creating a second createBoardGame2() method to see if that would help it create a different result if the original method stopped working after using it for the first object for some reason.\r\n\r\n```\r\npublic class Main {\r\n    public static char hit = &#39;X&#39;;\r\n    char miss = &#39;O&#39;;\r\n    public static char water = &#39;-&#39;;\r\n    public static char ship = &#39;S&#39;;\r\n    int i = 0;\r\n    public static Board board = new Board(10, 10, water, ship);\r\n    public static Board playerOwnBoard = new Board(10, 10, water, ship); // Creates opponent board game which we will do guesses on\r\n    public static int shipsNum = 5;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        playGame();\r\n\r\n    }\r\n\r\n    static void playGame() {\r\n        playerOwnBoard.printBoardGameOwn(playerOwnBoard.createBoardGame());\r\n        board.printBoardGameOwn(board.createBoardGame());\r\n\r\n        int undetectedShipNumber = shipsNum;\r\n        \r\n    }\r\n\r\n}\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Board {\r\n    private static final int xAxis = 10;\r\n    private static final int yAxis = 10;\r\n    // Symo\r\n    public static char water = &#39;-&#39;;\r\n    public static char ship = &#39;S&#39;;\r\n    public static char hit = &#39;X&#39;;\r\n    public static char miss = &#39;O&#39;;\r\n    // Number of ships allowed are no more than 1\r\n    private static int placedShips = 0;\r\n    private static int battleship = 0;\r\n    private static int carrier = 0;\r\n    private static int destroyer = 0;\r\n    private static int submarine = 0;\r\n    private static int patrolBoat = 0;\r\n    private static int shipsNum = 5;\r\n    private static final char[] BOARD_LETTERS = {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;}; // Row input on grid\r\n    //public static char[][] boardGame;\r\n\r\n    public static int[][] carrierShip = new int[5][2];\r\n    public static int[] guessCoordinates;\r\n    public static char locationViewUpdates;\r\n\r\n    static Scanner sc = new Scanner(System.in);\r\n\r\n  \r\n    public char[][] createBoardGame() {\r\n        char[][] boardGame = new char[xAxis][yAxis];\r\n        for (char[] row : boardGame) {\r\n            Arrays.fill(row, water);\r\n\r\n        }\r\n        return placeShips(boardGame);\r\n    }\r\n\r\n    public static void printBoardGameOwn(char[][] boardGame) {\r\n        int j = 0;\r\n        for (int i = 1; i &lt;= yAxis; i++) {\r\n            System.out.print(&quot;\\t&quot; + i);\r\n        }\r\n        System.out.println();\r\n\r\n        for (int row = 0; row &lt; boardGame.length; row++) {\r\n            System.out.print(BOARD_LETTERS[j] + &quot; | &quot;);\r\n\r\n            for (int col = 0; col &lt; boardGame.length; col++) {\r\n                char position = boardGame[row][col];\r\n                if (position == ship) {\r\n                    System.out.print(ship + &quot; | &quot;);\r\n                }\r\n                else {\r\n                    System.out.print(position + &quot; | &quot;);\r\n                }\r\n            }\r\n            j++;\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static char[][] placeShips(char[][] boardGame) {\r\n        int gameBoardLength = boardGame.length;\r\n        while (placedShips &lt; shipsNum) {\r\n            int location = generateShipCoordinates(gameBoardLength);\r\n            int location2 = generateShipCoordinates(gameBoardLength);\r\n\r\n            char possiblePlacement = boardGame[location][location2];\r\n            if (possiblePlacement == water &amp;&amp; carrier == 0 &amp;&amp; location2 &lt; 6) {\r\n                for (int q = 0; q &lt; 5; q++) {\r\n                    if (possiblePlacement == water) {\r\n                        boardGame[location][location2] = ship;\r\n                        carrierShip[q][0] = location;\r\n                        carrierShip[q][1] = location2;\r\n\r\n                        location2++;\r\n                    }\r\n                }\r\n                carrier++;\r\n                placedShips++;\r\n            }\r\n            else if (possiblePlacement == water &amp;&amp; battleship == 0 &amp;&amp; location2 &lt; 7) {\r\n                for (int q = 0; q &lt; 4; q++) {\r\n                    if (possiblePlacement == water) {\r\n                        boardGame[location][location2] = ship;\r\n                        location2++;\r\n                    }\r\n                }\r\n                battleship++;\r\n                placedShips++;\r\n            }else if (possiblePlacement == water &amp;&amp; destroyer == 0 &amp;&amp; location2 &lt; 8) {\r\n                for (int q = 0; q &lt; 3; q++) {\r\n                    if (possiblePlacement == water) {\r\n                        boardGame[location][location2] = ship;\r\n                        location2++;\r\n                    }\r\n                }\r\n                destroyer++;\r\n                placedShips++;\r\n            }else if (possiblePlacement == water &amp;&amp; submarine == 0 &amp;&amp; location2 &lt; 8) {\r\n                for (int q = 0; q &lt; 3; q++) {\r\n                    if (possiblePlacement == water) {\r\n                        boardGame[location][location2] = ship;\r\n                        location2++;\r\n                    }\r\n                }\r\n                submarine++;\r\n                placedShips++;\r\n            }else if (possiblePlacement == water &amp;&amp; patrolBoat == 0 &amp;&amp; location2 &lt; 9) {\r\n                for (int q = 0; q &lt; 2; q++) {\r\n                    if (possiblePlacement == water) {\r\n                        boardGame[location][location2] = ship;\r\n                        location2++;\r\n                    }\r\n                    else {\r\n\r\n                    }\r\n                }\r\n                patrolBoat++;\r\n                placedShips++;\r\n            }\r\n        }\r\n        return boardGame;\r\n\r\n    }\r\n\r\n    public static int generateShipCoordinates(int gameBoardLength) {\r\n        int coordinates = 0;\r\n        for (int i = 0; i &lt; gameBoardLength; i++) {\r\n            coordinates = new Random().nextInt(gameBoardLength);\r\n        }\r\n        return coordinates;\r\n    }\r\n```\r\n[![sample output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fdqez.png\r\n\r\nSecond boardgames should be filled like the first with different locations for the S","title":"Why is my second object created from my Board class not printing out the same game board filled with battleships like my first object?","body":"<p>I'm creating a Battleship game for my Java course (might not be the best code structure or the neatest but I'm trying). I'm running across a problem where I create two objects from my Board class and only one of the objects prints out a board game filled with water and battle ships while the second one if not filled with battleships. I'm confused to why the second object won't print out the same results as the first objects if they're completely different objects themselves I thought that's how object oriented programming worked? I've tried even creating a second createBoardGame2() method to see if that would help it create a different result if the original method stopped working after using it for the first object for some reason.</p>\n<pre><code>public class Main {\n    public static char hit = 'X';\n    char miss = 'O';\n    public static char water = '-';\n    public static char ship = 'S';\n    int i = 0;\n    public static Board board = new Board(10, 10, water, ship);\n    public static Board playerOwnBoard = new Board(10, 10, water, ship); // Creates opponent board game which we will do guesses on\n    public static int shipsNum = 5;\n\n    public static void main(String[] args) {\n\n        playGame();\n\n    }\n\n    static void playGame() {\n        playerOwnBoard.printBoardGameOwn(playerOwnBoard.createBoardGame());\n        board.printBoardGameOwn(board.createBoardGame());\n\n        int undetectedShipNumber = shipsNum;\n        \n    }\n\n}\n\nimport java.util.Arrays;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Board {\n    private static final int xAxis = 10;\n    private static final int yAxis = 10;\n    // Symo\n    public static char water = '-';\n    public static char ship = 'S';\n    public static char hit = 'X';\n    public static char miss = 'O';\n    // Number of ships allowed are no more than 1\n    private static int placedShips = 0;\n    private static int battleship = 0;\n    private static int carrier = 0;\n    private static int destroyer = 0;\n    private static int submarine = 0;\n    private static int patrolBoat = 0;\n    private static int shipsNum = 5;\n    private static final char[] BOARD_LETTERS = {'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'}; // Row input on grid\n    //public static char[][] boardGame;\n\n    public static int[][] carrierShip = new int[5][2];\n    public static int[] guessCoordinates;\n    public static char locationViewUpdates;\n\n    static Scanner sc = new Scanner(System.in);\n\n  \n    public char[][] createBoardGame() {\n        char[][] boardGame = new char[xAxis][yAxis];\n        for (char[] row : boardGame) {\n            Arrays.fill(row, water);\n\n        }\n        return placeShips(boardGame);\n    }\n\n    public static void printBoardGameOwn(char[][] boardGame) {\n        int j = 0;\n        for (int i = 1; i &lt;= yAxis; i++) {\n            System.out.print(&quot;\\t&quot; + i);\n        }\n        System.out.println();\n\n        for (int row = 0; row &lt; boardGame.length; row++) {\n            System.out.print(BOARD_LETTERS[j] + &quot; | &quot;);\n\n            for (int col = 0; col &lt; boardGame.length; col++) {\n                char position = boardGame[row][col];\n                if (position == ship) {\n                    System.out.print(ship + &quot; | &quot;);\n                }\n                else {\n                    System.out.print(position + &quot; | &quot;);\n                }\n            }\n            j++;\n            System.out.println();\n        }\n    }\n\n    public static char[][] placeShips(char[][] boardGame) {\n        int gameBoardLength = boardGame.length;\n        while (placedShips &lt; shipsNum) {\n            int location = generateShipCoordinates(gameBoardLength);\n            int location2 = generateShipCoordinates(gameBoardLength);\n\n            char possiblePlacement = boardGame[location][location2];\n            if (possiblePlacement == water &amp;&amp; carrier == 0 &amp;&amp; location2 &lt; 6) {\n                for (int q = 0; q &lt; 5; q++) {\n                    if (possiblePlacement == water) {\n                        boardGame[location][location2] = ship;\n                        carrierShip[q][0] = location;\n                        carrierShip[q][1] = location2;\n\n                        location2++;\n                    }\n                }\n                carrier++;\n                placedShips++;\n            }\n            else if (possiblePlacement == water &amp;&amp; battleship == 0 &amp;&amp; location2 &lt; 7) {\n                for (int q = 0; q &lt; 4; q++) {\n                    if (possiblePlacement == water) {\n                        boardGame[location][location2] = ship;\n                        location2++;\n                    }\n                }\n                battleship++;\n                placedShips++;\n            }else if (possiblePlacement == water &amp;&amp; destroyer == 0 &amp;&amp; location2 &lt; 8) {\n                for (int q = 0; q &lt; 3; q++) {\n                    if (possiblePlacement == water) {\n                        boardGame[location][location2] = ship;\n                        location2++;\n                    }\n                }\n                destroyer++;\n                placedShips++;\n            }else if (possiblePlacement == water &amp;&amp; submarine == 0 &amp;&amp; location2 &lt; 8) {\n                for (int q = 0; q &lt; 3; q++) {\n                    if (possiblePlacement == water) {\n                        boardGame[location][location2] = ship;\n                        location2++;\n                    }\n                }\n                submarine++;\n                placedShips++;\n            }else if (possiblePlacement == water &amp;&amp; patrolBoat == 0 &amp;&amp; location2 &lt; 9) {\n                for (int q = 0; q &lt; 2; q++) {\n                    if (possiblePlacement == water) {\n                        boardGame[location][location2] = ship;\n                        location2++;\n                    }\n                    else {\n\n                    }\n                }\n                patrolBoat++;\n                placedShips++;\n            }\n        }\n        return boardGame;\n\n    }\n\n    public static int generateShipCoordinates(int gameBoardLength) {\n        int coordinates = 0;\n        for (int i = 0; i &lt; gameBoardLength; i++) {\n            coordinates = new Random().nextInt(gameBoardLength);\n        }\n        return coordinates;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fdqez.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fdqez.png\" alt=\"sample output\" /></a></p>\n<p>Second boardgames should be filled like the first with different locations for the S</p>\n"},{"tags":["java","c#","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":315634,"reputation":639,"user_id":631417,"accept_rate":79,"display_name":"Jordan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1649984221,"creation_date":1487689249,"answer_id":42370828,"question_id":42341417,"body_markdown":"In C# I believe the above would look something like this:\r\n\r\n```\r\npublic Cookie GetTokenCookie()\r\n{\r\n    var webDriver = new ChromeDriver(); //or any IWebDriver\r\n\r\n    var wait = new WebDriverWait(webDriver, TimeSpan.FromSeconds(10));\r\n\r\n    Cookie cookie = default(Cookie);\r\n\r\n    try\r\n    {\r\n        cookie = wait.Until(driver =&gt;\r\n        {\r\n            Cookie tokenCookie = driver.Manage().Cookies.GetCookieNamed(&quot;nameOfCookie&quot;);\r\n            if (tokenCookie != null)\r\n            {\r\n                Console.WriteLine(&quot;\\nToken Cookie added: &quot; + tokenCookie);\r\n                return tokenCookie;\r\n            }\r\n            else\r\n            {\r\n                Console.WriteLine(&quot;waiting for cookie...&quot;);\r\n                return null;\r\n            }\r\n        });\r\n    }\r\n    catch (Exception e)\r\n    {\r\n        Console.WriteLine($&quot;{e.Message}&quot;);\r\n    }\r\n\r\n    return cookie;\r\n}\r\n```\r\n\r\nIn the dotnet bindings, `ExpectedConditions` isn&#39;t required when consuming `WebDriverWait.Until&lt;T&gt;`.  You can just send in a `Func&lt;IWebDriver, T&gt;` for your condition.\r\n\r\nIt&#39;s also worth noting that if `Until` fails to meet the condition it will check the list of configured ignored exception types before throwing. - [Details on configuring these](https://github.com/SeleniumHQ/selenium/blob/ceaf3da79542024becdda5953059dfbb96fb3a90/dotnet/src/support/UI/DefaultWait%7BT%7D.cs#L110)\r\n\r\nFor more details on getting cookies with the dotnet bindings check out the [ICookieJar](https://github.com/SeleniumHQ/selenium/blob/master/dotnet/src/webdriver/ICookieJar.cs) interface.\r\n\r\nAdditional info on custom waiting with the dotnet bindings in general can be found [here](https://stackoverflow.com/questions/21339339/how-to-add-custom-expectedconditions-for-selenium).  \r\n\r\nHope this helps!\r\n","title":"How to wait for login cookie in C# Selenium WebDriver?","body":"<p>In C# I believe the above would look something like this:</p>\n<pre><code>public Cookie GetTokenCookie()\n{\n    var webDriver = new ChromeDriver(); //or any IWebDriver\n\n    var wait = new WebDriverWait(webDriver, TimeSpan.FromSeconds(10));\n\n    Cookie cookie = default(Cookie);\n\n    try\n    {\n        cookie = wait.Until(driver =&gt;\n        {\n            Cookie tokenCookie = driver.Manage().Cookies.GetCookieNamed(&quot;nameOfCookie&quot;);\n            if (tokenCookie != null)\n            {\n                Console.WriteLine(&quot;\\nToken Cookie added: &quot; + tokenCookie);\n                return tokenCookie;\n            }\n            else\n            {\n                Console.WriteLine(&quot;waiting for cookie...&quot;);\n                return null;\n            }\n        });\n    }\n    catch (Exception e)\n    {\n        Console.WriteLine($&quot;{e.Message}&quot;);\n    }\n\n    return cookie;\n}\n</code></pre>\n<p>In the dotnet bindings, <code>ExpectedConditions</code> isn't required when consuming <code>WebDriverWait.Until&lt;T&gt;</code>.  You can just send in a <code>Func&lt;IWebDriver, T&gt;</code> for your condition.</p>\n<p>It's also worth noting that if <code>Until</code> fails to meet the condition it will check the list of configured ignored exception types before throwing. - <a href=\"https://github.com/SeleniumHQ/selenium/blob/ceaf3da79542024becdda5953059dfbb96fb3a90/dotnet/src/support/UI/DefaultWait%7BT%7D.cs#L110\" rel=\"nofollow noreferrer\">Details on configuring these</a></p>\n<p>For more details on getting cookies with the dotnet bindings check out the <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/dotnet/src/webdriver/ICookieJar.cs\" rel=\"nofollow noreferrer\">ICookieJar</a> interface.</p>\n<p>Additional info on custom waiting with the dotnet bindings in general can be found <a href=\"https://stackoverflow.com/questions/21339339/how-to-add-custom-expectedconditions-for-selenium\">here</a>.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":10290270,"reputation":65,"user_id":7592232,"display_name":"Mr Null"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4154,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42370828,"answer_count":1,"score":3,"last_activity_date":1649984221,"creation_date":1487584648,"question_id":42341417,"body_markdown":"Im only been working with Java before but need to set up some tests in C#.\r\n\r\nIn a login test I like to have a wait method waiting for the login cookie to be set.\r\n\r\nIn Java I can do something like this, but not able to create the same in C#, can anyone help me convert this code to C#?\r\n\r\n        public void getTokenCookie(){\r\n        try {\r\n            wait.until(\r\n                    new ExpectedCondition&lt;Cookie&gt;() {\r\n                        @Override\r\n                        public Cookie apply(WebDriver webDriver) {\r\n                            Cookie tokenCookie = driver.manage().getCookieNamed(&quot;nameOfCookie&quot;);\r\n                            if (tokenCookie != null) {\r\n                                System.out.println(&quot;\\nToken Cookie added: &quot; + tokenCookie);\r\n                                return tokenCookie;\r\n                            } else {\r\n                                System.out.println(&quot;waiting for cookie..&quot;);\r\n                                return null;\r\n                            }\r\n                        }\r\n                    }\r\n            );\r\n\r\n        } catch (Exception e){\r\n            System.out.println(e.getMessage());\r\n            fail(&quot;Failed to login, no cookie set&quot;);\r\n        }\r\n    }","title":"How to wait for login cookie in C# Selenium WebDriver?","body":"<p>Im only been working with Java before but need to set up some tests in C#.</p>\n\n<p>In a login test I like to have a wait method waiting for the login cookie to be set.</p>\n\n<p>In Java I can do something like this, but not able to create the same in C#, can anyone help me convert this code to C#?</p>\n\n<pre><code>    public void getTokenCookie(){\n    try {\n        wait.until(\n                new ExpectedCondition&lt;Cookie&gt;() {\n                    @Override\n                    public Cookie apply(WebDriver webDriver) {\n                        Cookie tokenCookie = driver.manage().getCookieNamed(\"nameOfCookie\");\n                        if (tokenCookie != null) {\n                            System.out.println(\"\\nToken Cookie added: \" + tokenCookie);\n                            return tokenCookie;\n                        } else {\n                            System.out.println(\"waiting for cookie..\");\n                            return null;\n                        }\n                    }\n                }\n        );\n\n    } catch (Exception e){\n        System.out.println(e.getMessage());\n        fail(\"Failed to login, no cookie set\");\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"score":0,"creation_date":1502466446,"post_id":45638943,"comment_id":78237662,"body_markdown":"If you want to do anything after the completion of the threads, do after `awaitTermination`.","body":"If you want to do anything after the completion of the threads, do after <code>awaitTermination</code>."},{"owner":{"account_id":4494711,"reputation":63,"user_id":3654808,"accept_rate":33,"display_name":"MSR"},"score":0,"creation_date":1502466681,"post_id":45638943,"comment_id":78237832,"body_markdown":"@Chinmayjain I am not trying to do it after the threads. I want to open 100 threads and process the loop faster and i want to execute the run method line by line. When i print it the first thing is it prints queueIds 100 times . But why its not printing the sId which is the first line in run method.","body":"@Chinmayjain I am not trying to do it after the threads. I want to open 100 threads and process the loop faster and i want to execute the run method line by line. When i print it the first thing is it prints queueIds 100 times . But why its not printing the sId which is the first line in run method."},{"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"score":0,"creation_date":1502467065,"post_id":45638943,"comment_id":78238050,"body_markdown":"Because you are trying to print queueIds just after the executor. So what it is doing is **it opens a new executor in each loop, and prints the queueIds**. All the processing in the executor will be done afterwards, asynchronously. Move queueIds after `awaitTermination`.","body":"Because you are trying to print queueIds just after the executor. So what it is doing is <b>it opens a new executor in each loop, and prints the queueIds</b>. All the processing in the executor will be done afterwards, asynchronously. Move queueIds after <code>awaitTermination</code>."}],"owner":{"account_id":4494711,"reputation":63,"user_id":3654808,"accept_rate":33,"display_name":"MSR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649984073,"creation_date":1502465818,"question_id":45638943,"body_markdown":"I am using Executor Service for multithreading. I have the below code:\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(100);\r\n    final Multimap&lt;String, String&gt; queueIds = ArrayListMultimap.create();\r\n    \r\n    for (final String sId : sMultiMap.keySet()) {\r\n\t\tfor (final String gL : gsList) {\r\n\t\t\tfor (final String sL : ssList) {\r\n\t\t\t\texecutor.execute(new Runnable() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tSystem.out.println(sId);\r\n\t\t\t\t\t\tJSONArray guList = null;\r\n\t\t\t\t\t\tJSONArray coJsonArray;\r\n\t\t\t\t\t\tJSONObject arrayGuidObject, coResults = null;\r\n\t\t\t\t\t\tString skillSetParam;\r\n\t\t\t\t\t\tString url;\r\n\t\t\t\t\t\tint result_count;\r\n\t\t\t\t\t\tLong queue_id;\r\n\t\t\t\t\t\tskillSetParam = &quot;parameters&quot;;\r\n\t\t\t\t\t\turl = &quot; here is the url&quot;;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tURL urlEncoded = new URL(url);\r\n\t\t\t\t\t\t\tURI uri = new URI(urlEncoded.getProtocol(), urlEncoded.getUserInfo(),\r\n\t\t\t\t\t\t\t\t\turlEncoded.getHost(), urlEncoded.getPort(), urlEncoded.getPath(),\r\n\t\t\t\t\t\t\t\t\turlEncoded.getQuery(), urlEncoded.getRef());\r\n\t\t\t\t\t\t\turlEncoded = uri.toURL();\r\n\r\n\t\t\t\t\t\t\tguList = // get a list from API\r\n\r\n\t\t\t\t\t\t\tfor (int i = 0; i &lt; guList.length(); i++) {\r\n\t\t\t\t\t\t\t\tarrayGuidObject = guList.optJSONObject(i);\r\n\r\n\t\t\t\t\t\t\t\tif (arrayGuidObject != null) {\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;Here 1&quot;);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcoJsonArray = coResults.getJSONArray(&quot;results&quot;);\r\n\t\t\t\t\t\t\tif (coResults != null) {\r\n\t\t\t\t\t\t\t\tresult_count = coResults.getInt(&quot;resultcount&quot;);\r\n\t\t\t\t\t\t\t\tif (result_count &gt; 0) {\r\n\t\t\t\t\t\t\t\t\tfor (int k = 0; k &lt;= coJsonArray.length() ; k++) {\r\n\t\t\t\t\t\t\t\t\t\tJSONObject j = coJsonArray.getJSONObject(k);\r\n\t\t\t\t\t\t\t\t\t\tqueue_id = j.getLong(&quot;id&quot;);\r\n\t\t\t\t\t\t\t\t\t\tqueueIds.put(sId + &quot;-&quot; + gL + &quot;-&quot; + sL,\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;\\&quot;&quot; + Long.toString(queue_id) + &quot;\\&quot;&quot;);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tint size = queueIds.keySet().size();\r\n\t\t\t\t\t\t\tint flag = 0;\r\n\t\t\t\t\t\t\tBufferedWriter writer = new BufferedWriter(\r\n\t\t\t\t\t\t\t\t\tnew OutputStreamWriter(new FileOutputStream(&quot;folderPath&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t+ sId + &quot;-&quot; + gL + &quot;-&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t+ sL.replace(&quot; &quot;, &quot;&quot;).replaceAll(&quot;/&quot;, &quot;_&quot;) + &quot;.json&quot;),\r\n\t\t\t\t\t\t\t\t\t\t\t&quot;utf-8&quot;));\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Entered here&quot;);\r\n\t\t\t\t\t\t\t\tfor (String sGS : queueIds.keySet()) {\r\n\t\t\t\t\t\t\t\t\tif (flag == 0) {\r\n\t\t\t\t\t\t\t\t\t\twriter.write(&quot;{&quot;);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tflag++;\r\n\t\t\t\t\t\t\t\t\tif (flag == size) {\r\n\t\t\t\t\t\t\t\t\t\twriter.write(&quot;\\&quot;&quot; + sGS + &quot;\\&quot;&quot; + &quot;: &quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ queueIds.get(sGS).toString());\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\twriter.write(&quot;\\&quot;&quot; + sGS + &quot;\\&quot;&quot; + &quot;: &quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ queueIds.get(sGS).toString() + &quot;,&quot;);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (flag == size) {\r\n\t\t\t\t\t\t\t\t\t\twriter.write(&quot;}&quot;);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Done&quot;);\r\n\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\twriter.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tqueueIds.clear();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;queueIds &quot; + queueIds);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\texecutor.shutdown();\r\n\texecutor.awaitTermination(24L, TimeUnit.HOURS);\r\n    } catch (Exception e) {\r\n\t    e.printStackTrace();\r\n    }\r\n\r\nSo here i am not able to find the correct execution flow. When i run the program, it prints the empty queueIds First, which is after the execute. So my intention here is to open 100 threads at a time which loops through 100 values of the loop and i want to see the line by line execution here. I want to see sID which i am printing in the first line after the execute. Can anyone please suggest the flow of execution.","title":"Execution Flow for Executor Service","body":"<p>I am using Executor Service for multithreading. I have the below code:</p>\n\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(100);\nfinal Multimap&lt;String, String&gt; queueIds = ArrayListMultimap.create();\n\nfor (final String sId : sMultiMap.keySet()) {\n    for (final String gL : gsList) {\n        for (final String sL : ssList) {\n            executor.execute(new Runnable() {\n                @Override\n                public void run() {\n                    System.out.println(sId);\n                    JSONArray guList = null;\n                    JSONArray coJsonArray;\n                    JSONObject arrayGuidObject, coResults = null;\n                    String skillSetParam;\n                    String url;\n                    int result_count;\n                    Long queue_id;\n                    skillSetParam = \"parameters\";\n                    url = \" here is the url\";\n                    try {\n                        URL urlEncoded = new URL(url);\n                        URI uri = new URI(urlEncoded.getProtocol(), urlEncoded.getUserInfo(),\n                                urlEncoded.getHost(), urlEncoded.getPort(), urlEncoded.getPath(),\n                                urlEncoded.getQuery(), urlEncoded.getRef());\n                        urlEncoded = uri.toURL();\n\n                        guList = // get a list from API\n\n                        for (int i = 0; i &lt; guList.length(); i++) {\n                            arrayGuidObject = guList.optJSONObject(i);\n\n                            if (arrayGuidObject != null) {\n                                System.out.println(\"Here 1\");\n                            }\n                        }\n                        coJsonArray = coResults.getJSONArray(\"results\");\n                        if (coResults != null) {\n                            result_count = coResults.getInt(\"resultcount\");\n                            if (result_count &gt; 0) {\n                                for (int k = 0; k &lt;= coJsonArray.length() ; k++) {\n                                    JSONObject j = coJsonArray.getJSONObject(k);\n                                    queue_id = j.getLong(\"id\");\n                                    queueIds.put(sId + \"-\" + gL + \"-\" + sL,\n                                            \"\\\"\" + Long.toString(queue_id) + \"\\\"\");\n                                }\n                            }\n                        }\n                        int size = queueIds.keySet().size();\n                        int flag = 0;\n                        BufferedWriter writer = new BufferedWriter(\n                                new OutputStreamWriter(new FileOutputStream(\"folderPath\"\n                                        + sId + \"-\" + gL + \"-\"\n                                        + sL.replace(\" \", \"\").replaceAll(\"/\", \"_\") + \".json\"),\n                                        \"utf-8\"));\n                        try {\n                            System.out.println(\"Entered here\");\n                            for (String sGS : queueIds.keySet()) {\n                                if (flag == 0) {\n                                    writer.write(\"{\");\n                                }\n                                flag++;\n                                if (flag == size) {\n                                    writer.write(\"\\\"\" + sGS + \"\\\"\" + \": \"\n                                            + queueIds.get(sGS).toString());\n                                } else {\n                                    writer.write(\"\\\"\" + sGS + \"\\\"\" + \": \"\n                                            + queueIds.get(sGS).toString() + \",\");\n                                }\n\n                                if (flag == size) {\n                                    writer.write(\"}\");\n                                }\n                            }\n                            System.out.println(\"Done\");\n                        } finally {\n                            writer.close();\n                        }\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                    queueIds.clear();\n                }\n            });\n\n            System.out.println(\"queueIds \" + queueIds);\n\n        }\n    }\n}\nexecutor.shutdown();\nexecutor.awaitTermination(24L, TimeUnit.HOURS);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>So here i am not able to find the correct execution flow. When i run the program, it prints the empty queueIds First, which is after the execute. So my intention here is to open 100 threads at a time which loops through 100 values of the loop and i want to see the line by line execution here. I want to see sID which i am printing in the first line after the execute. Can anyone please suggest the flow of execution.</p>\n"},{"tags":["java","selenium","webdriver","htmlunit","page-load-time"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649983253,"creation_date":1641649105,"answer_id":70632839,"question_id":70630913,"body_markdown":"No this is not the same.\r\n\r\n`ExpectedConditions.elementToBeClickable` waits until the element is there/visible and enabled.\r\n\r\n`webClient.waitForBackgroundJavaScript(timeoutMillis)` looks only for (async) JavaScript jobs and waits if there are still any that are currently running or waiting in the queue.\r\n","title":"How to wait for the page to load in HtmlUnit not HtmlUnitDriver","body":"<p>No this is not the same.</p>\n<p><code>ExpectedConditions.elementToBeClickable</code> waits until the element is there/visible and enabled.</p>\n<p><code>webClient.waitForBackgroundJavaScript(timeoutMillis)</code> looks only for (async) JavaScript jobs and waits if there are still any that are currently running or waiting in the queue.</p>\n"}],"owner":{"account_id":11979939,"reputation":19,"user_id":8766073,"display_name":"buraz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649983253,"creation_date":1641632599,"question_id":70630913,"body_markdown":"\r\nI have a selenium code below which wait for the page to load before the action(click button) is performed. How do I do the same thing with HtmlUnit not HtmlUnitDriver.\r\n\r\n```\r\n\r\ndriver = new ChromeDriver();\r\n\r\nWebDriverWait wait = new WebDriverWait(driver,30);\r\n\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;couple&#39;]&quot;))).click();\r\n\r\n```\r\n\r\nI know there is this line of code below in HtmlUnit:\r\n```\r\nwebClient.waitForBackgroundJavaScript();\r\n\r\n```\r\nBut does it do the same thing?","title":"How to wait for the page to load in HtmlUnit not HtmlUnitDriver","body":"<p>I have a selenium code below which wait for the page to load before the action(click button) is performed. How do I do the same thing with HtmlUnit not HtmlUnitDriver.</p>\n<pre><code>\ndriver = new ChromeDriver();\n\nWebDriverWait wait = new WebDriverWait(driver,30);\n\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='couple']&quot;))).click();\n\n</code></pre>\n<p>I know there is this line of code below in HtmlUnit:</p>\n<pre><code>webClient.waitForBackgroundJavaScript();\n\n</code></pre>\n<p>But does it do the same thing?</p>\n"},{"tags":["java","json","parsing","dto","pojo"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1649981569,"post_id":71878790,"comment_id":127017125,"body_markdown":"Are you persisting Car to a database using a library like hibernate or JPA?","body":"Are you persisting Car to a database using a library like hibernate or JPA?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1649981690,"post_id":71878790,"comment_id":127017137,"body_markdown":"You have a structural mismatch between your JSON and your object model.  You will need to write code to bridge the gap.  Where that code lives will depend on how you intend to use the various objects and contained objects, and without much more detail there won&#39;t be a &quot;right&quot; answer.","body":"You have a structural mismatch between your JSON and your object model.  You will need to write code to bridge the gap.  Where that code lives will depend on how you intend to use the various objects and contained objects, and without much more detail there won&#39;t be a &quot;right&quot; answer."},{"owner":{"account_id":13352803,"reputation":181,"user_id":9637498,"display_name":"N.A"},"score":0,"creation_date":1649981808,"post_id":71878790,"comment_id":127017158,"body_markdown":"@Bohemian No I&#39;m not, I&#39;m passing List&lt;Car&gt; to some downstream logic","body":"@Bohemian No I&#39;m not, I&#39;m passing List&lt;Car&gt; to some downstream logic"},{"owner":{"account_id":13352803,"reputation":181,"user_id":9637498,"display_name":"N.A"},"score":0,"creation_date":1649981971,"post_id":71878790,"comment_id":127017185,"body_markdown":"@JimGarrison This is a pretty separated process from the rest of the code that will use the object model. That is why I was having trouble deciding which to use, because all this job is doing is getting the JSON from S3, turning it into the correct object, and passing it to something downstream.","body":"@JimGarrison This is a pretty separated process from the rest of the code that will use the object model. That is why I was having trouble deciding which to use, because all this job is doing is getting the JSON from S3, turning it into the correct object, and passing it to something downstream."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1649982301,"post_id":71878790,"comment_id":127017256,"body_markdown":"Best practice will be to write the adapter code to convert in both directions ONCE and encapsulate it all in one place so if you ever need to change it, you only have to change one source module.  It would also help to specify the adapter as an interface.","body":"Best practice will be to write the adapter code to convert in both directions ONCE and encapsulate it all in one place so if you ever need to change it, you only have to change one source module.  It would also help to specify the adapter as an interface."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649982711,"creation_date":1649982711,"answer_id":71878907,"question_id":71878790,"body_markdown":"Use a DTO.\r\n\r\nAlthough you *can* deserialize from json directly to your domain class, their structure differs so you would have to create a custom deserializer... DO NOT TRY THIS AT HOME. I&#39;ve been there and it&#39;s completely not worth the hassle.\r\n\r\nUse the DTO to parse the json into a POJO, then map the DTO to the domain object.\r\n\r\nThis will decouple the transport from your domain object, allowing both to change freely with only the mapping code being affected. It&#39;s also way easier to write, understand, test and debug.","title":"Use DTO to map JSON to final object, or just parse JSON?","body":"<p>Use a DTO.</p>\n<p>Although you <em>can</em> deserialize from json directly to your domain class, their structure differs so you would have to create a custom deserializer... DO NOT TRY THIS AT HOME. I've been there and it's completely not worth the hassle.</p>\n<p>Use the DTO to parse the json into a POJO, then map the DTO to the domain object.</p>\n<p>This will decouple the transport from your domain object, allowing both to change freely with only the mapping code being affected. It's also way easier to write, understand, test and debug.</p>\n"}],"owner":{"account_id":13352803,"reputation":181,"user_id":9637498,"display_name":"N.A"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2980,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71878907,"answer_count":1,"score":0,"last_activity_date":1649982711,"creation_date":1649981311,"question_id":71878790,"body_markdown":"I have some json object that looks like this: \r\n\r\n```\r\n{\r\n   &quot;make&quot;:&quot;Volvo&quot;,\r\n   &quot;model&quot;:&quot;240&quot;,\r\n   &quot;metadata&quot;:{\r\n      &quot;color&quot;:&quot;white&quot;,\r\n      &quot;year&quot;:&quot;1986&quot;,\r\n      &quot;previousOwner&quot;:&quot;Joe&quot;,\r\n      &quot;condition&quot;:&quot;good&quot;\r\n   }\r\n}\r\n```\r\n\r\nAnd I want to turn this JSON into `List&lt;Car&gt;`, which is comprised of the following objects:\r\n\r\n```\r\n\r\npublic class Car {\r\n\r\n    private String make;\r\n\r\n    private String model;\r\n\r\n    private CarMetadata carMetadata;\r\n\r\n}\r\n\r\npublic class CarMetadata {\r\n\r\n    private Body body;\r\n\r\n    private History history;\r\n\r\n}\r\n\r\npublic class Body {\r\n\r\n    private String color;\r\n\r\n    private String condition;\r\n\r\n}\r\n\r\npublic class History {\r\n\r\n    private String previousOwner;\r\n\r\n    private String year;\r\n\r\n}\r\n\r\n```\r\n\r\nSo essentially the point is that the object I want to turn it into (Car) is very nested, whereas my JSON is not very nested. In reality the &quot;Car&quot; object is actually much more nested than this example I&#39;m showing.\r\n\r\nI was thinking of two options:\r\n\r\n1. Create a CarDTO object to represent my input JSON, do `objectMapper.readValue(json, CarDTO.class)`, then map CarDTO to Car to create my `List&lt;Car&gt;`.\r\n\r\n2. Just parse the JSON and create the final `List&lt;Car&gt;` object in the first place.\r\n\r\nI don&#39;t want to create an unnecessary DTO, but I also don&#39;t want to mess with parsing this JSON.\r\n\r\nIs there a best practice in this scenario, and would this even be a valid use of a DTO?\r\n","title":"Use DTO to map JSON to final object, or just parse JSON?","body":"<p>I have some json object that looks like this:</p>\n<pre><code>{\n   &quot;make&quot;:&quot;Volvo&quot;,\n   &quot;model&quot;:&quot;240&quot;,\n   &quot;metadata&quot;:{\n      &quot;color&quot;:&quot;white&quot;,\n      &quot;year&quot;:&quot;1986&quot;,\n      &quot;previousOwner&quot;:&quot;Joe&quot;,\n      &quot;condition&quot;:&quot;good&quot;\n   }\n}\n</code></pre>\n<p>And I want to turn this JSON into <code>List&lt;Car&gt;</code>, which is comprised of the following objects:</p>\n<pre><code>\npublic class Car {\n\n    private String make;\n\n    private String model;\n\n    private CarMetadata carMetadata;\n\n}\n\npublic class CarMetadata {\n\n    private Body body;\n\n    private History history;\n\n}\n\npublic class Body {\n\n    private String color;\n\n    private String condition;\n\n}\n\npublic class History {\n\n    private String previousOwner;\n\n    private String year;\n\n}\n\n</code></pre>\n<p>So essentially the point is that the object I want to turn it into (Car) is very nested, whereas my JSON is not very nested. In reality the &quot;Car&quot; object is actually much more nested than this example I'm showing.</p>\n<p>I was thinking of two options:</p>\n<ol>\n<li><p>Create a CarDTO object to represent my input JSON, do <code>objectMapper.readValue(json, CarDTO.class)</code>, then map CarDTO to Car to create my <code>List&lt;Car&gt;</code>.</p>\n</li>\n<li><p>Just parse the JSON and create the final <code>List&lt;Car&gt;</code> object in the first place.</p>\n</li>\n</ol>\n<p>I don't want to create an unnecessary DTO, but I also don't want to mess with parsing this JSON.</p>\n<p>Is there a best practice in this scenario, and would this even be a valid use of a DTO?</p>\n"},{"tags":["java","refresh","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":99289,"reputation":42852,"user_id":268273,"accept_rate":93,"display_name":"Mosty Mostacho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333144516,"creation_date":1333144516,"answer_id":9950896,"question_id":9950694,"body_markdown":"I had a similar problem some months ago and I did solve it by clearing the cache. Make sure you&#39;re using the appropriate variables. Give this code a try (correct any syntactical errors):\r\n\r\n    public static HtmlPage myGetPage(WebClient webClient, String url,\r\n      boolean clearCache) throws Exception {\r\n        if (clearCache) {\r\n            webClient.getCache().clear();\r\n        }\r\n        return webClient.getPage(url);\r\n    }\r\n\r\n    public void myMethod() {\r\n        WebClient webClient = new WebClient();\r\n        webClient.setJavaScriptEnabled(true);\r\n        String url = &quot;http://stackoverflow.com/users/268273&quot;;\r\n        HtmlPage page = myGetPage(webClient, url, false); // We don&#39;t clear de cache\r\n        System.out.println(page.asXml()); // Should return original value\r\n        page = myGetPage(webClient, url, true); // We clear the cache\r\n        System.out.println(page.asXml()); // Should return the new value\r\n    }\r\n\r\nPS: Of course, use your URL :)","title":"How to do HtmlPage refresh using HTMLUNIT Java?","body":"<p>I had a similar problem some months ago and I did solve it by clearing the cache. Make sure you're using the appropriate variables. Give this code a try (correct any syntactical errors):</p>\n\n<pre><code>public static HtmlPage myGetPage(WebClient webClient, String url,\n  boolean clearCache) throws Exception {\n    if (clearCache) {\n        webClient.getCache().clear();\n    }\n    return webClient.getPage(url);\n}\n\npublic void myMethod() {\n    WebClient webClient = new WebClient();\n    webClient.setJavaScriptEnabled(true);\n    String url = \"http://stackoverflow.com/users/268273\";\n    HtmlPage page = myGetPage(webClient, url, false); // We don't clear de cache\n    System.out.println(page.asXml()); // Should return original value\n    page = myGetPage(webClient, url, true); // We clear the cache\n    System.out.println(page.asXml()); // Should return the new value\n}\n</code></pre>\n\n<p>PS: Of course, use your URL :)</p>\n"},{"tags":[],"owner":{"account_id":1385320,"reputation":778,"user_id":1317495,"display_name":"maxmax"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1649981937,"creation_date":1335971180,"answer_id":10416465,"question_id":9950694,"body_markdown":"Did you try this simple one?\r\n\r\n```\r\npage.refresh();\r\n```\r\n\r\nShould do the work.","title":"How to do HtmlPage refresh using HTMLUNIT Java?","body":"<p>Did you try this simple one?</p>\n<pre><code>page.refresh();\n</code></pre>\n<p>Should do the work.</p>\n"}],"owner":{"account_id":1368218,"reputation":11,"user_id":1304175,"display_name":"Naga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5023,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649981937,"creation_date":1333143302,"question_id":9950694,"body_markdown":"I am facing an issue while refreshing the page.\r\nI am using HTMLUNIT.I am using WebClient and HTMLPAge to access a resource.\r\n\r\n    com.gargoylesoftware.htmlunit.WebClient\r\n    com.gargoylesoftware.htmlunit.HtmlPage\r\n \r\n\r\n    WebClient webClient = new WebClient()\r\n    webClient.setJavaScriptEnabled(true)\r\n    HtmlPage page = (HtmlPage)webClient.getPage(resource)\r\n\r\nI need to refresh the page in order to get the new data from the resource.\r\nI tried to clear the cache webClient.getCache().clear();\r\nand also tried to access the resource again with\r\n\r\n    HtmlPage page = (HtmlPage)webClient.getPage(resource)`.\r\n\r\nI am getting the same previous data from the resource.\r\nI am beginner, can anyone please guide me how to do that.\r\n\r\n\r\nThanks,\r\nNaga\r\n\r\n\r\n","title":"How to do HtmlPage refresh using HTMLUNIT Java?","body":"<p>I am facing an issue while refreshing the page.\nI am using HTMLUNIT.I am using WebClient and HTMLPAge to access a resource.</p>\n\n<pre><code>com.gargoylesoftware.htmlunit.WebClient\ncom.gargoylesoftware.htmlunit.HtmlPage\n\n\nWebClient webClient = new WebClient()\nwebClient.setJavaScriptEnabled(true)\nHtmlPage page = (HtmlPage)webClient.getPage(resource)\n</code></pre>\n\n<p>I need to refresh the page in order to get the new data from the resource.\nI tried to clear the cache webClient.getCache().clear();\nand also tried to access the resource again with</p>\n\n<pre><code>HtmlPage page = (HtmlPage)webClient.getPage(resource)`.\n</code></pre>\n\n<p>I am getting the same previous data from the resource.\nI am beginner, can anyone please guide me how to do that.</p>\n\n<p>Thanks,\nNaga</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1649977658,"post_id":71878373,"comment_id":127016531,"body_markdown":"You should be able to tell by looking at the definition of enqueue.  We can&#39;t see what that is for you.","body":"You should be able to tell by looking at the definition of enqueue.  We can&#39;t see what that is for you."},{"owner":{"account_id":12671827,"reputation":301,"user_id":12700297,"display_name":"Bubino"},"score":0,"creation_date":1649977921,"post_id":71878373,"comment_id":127016581,"body_markdown":"App is not mine so I ask you for advice, it is a chat app, this piece of code is in a MessageActivity","body":"App is not mine so I ask you for advice, it is a chat app, this piece of code is in a MessageActivity"}],"answers":[{"tags":[],"owner":{"account_id":19371172,"reputation":16,"user_id":14164443,"display_name":"nikitapatel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649981363,"creation_date":1649981363,"answer_id":71878794,"question_id":71878373,"body_markdown":"It seems like you are looking for the [retrofit2][1] package. I suspect you will need to import Call and Response from this package as well. Depending on where else this module is used, you may need to import additional classes from this package. Try adding the following lines:\r\n\r\n```\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n```\r\n\r\n\r\n\r\n  [1]: https://square.github.io/retrofit/2.x/retrofit/retrofit2/package-summary.html\r\n  [2]: https://square.github.io/retrofit/2.x/retrofit/retrofit2/Callback.html","title":"Callback error, which class to import? chat app","body":"<p>It seems like you are looking for the <a href=\"https://square.github.io/retrofit/2.x/retrofit/retrofit2/package-summary.html\" rel=\"nofollow noreferrer\">retrofit2</a> package. I suspect you will need to import Call and Response from this package as well. Depending on where else this module is used, you may need to import additional classes from this package. Try adding the following lines:</p>\n<pre><code>import retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\n</code></pre>\n"}],"owner":{"account_id":12671827,"reputation":301,"user_id":12700297,"display_name":"Bubino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71878794,"answer_count":1,"score":0,"last_activity_date":1649981363,"creation_date":1649976452,"question_id":71878373,"body_markdown":"I&#39;m creating a chat app and I imported this 3-year-old project so a lot of things have changed, especially this thing that I can&#39;t fix, Android studio advises me to import a class to fix this error only that many come out and I don&#39;t know which one to choose ?\r\n\r\nGives me the error on Callback on 10 line - (Cannot resolve symbol &#39;Callback&#39;)\r\n\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                    Token token = snapshot.getValue(Token.class);\r\n                    Data data = new Data(fuser.getUid(), R.mipmap.ic_launcher, username+&quot;: &quot;+message, &quot;New Message&quot;,\r\n                            userid);\r\n\r\n                    Sender sender = new Sender(data, token.getToken());\r\n\r\n                    apiService.sendNotification(sender)\r\n                            .enqueue(new Callback&lt;MyResponse&gt;() {\r\n                                @Override\r\n                                public void onResponse(Call&lt;MyResponse&gt; call, Response&lt;MyResponse&gt; response) {\r\n                                    if (response.code() == 200){\r\n                                        if (response.body().success != 1){\r\n                                            Toast.makeText(MessageActivity.this, &quot;Failed!&quot;, Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFailure(Call&lt;MyResponse&gt; call, Throwable t) {\r\n\r\n                                }\r\n                            });\r\n                }\r\n            }","title":"Callback error, which class to import? chat app","body":"<p>I'm creating a chat app and I imported this 3-year-old project so a lot of things have changed, especially this thing that I can't fix, Android studio advises me to import a class to fix this error only that many come out and I don't know which one to choose ?</p>\n<p>Gives me the error on Callback on 10 line - (Cannot resolve symbol 'Callback')</p>\n<pre><code>public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            for (DataSnapshot snapshot : dataSnapshot.getChildren()){\n                Token token = snapshot.getValue(Token.class);\n                Data data = new Data(fuser.getUid(), R.mipmap.ic_launcher, username+&quot;: &quot;+message, &quot;New Message&quot;,\n                        userid);\n\n                Sender sender = new Sender(data, token.getToken());\n\n                apiService.sendNotification(sender)\n                        .enqueue(new Callback&lt;MyResponse&gt;() {\n                            @Override\n                            public void onResponse(Call&lt;MyResponse&gt; call, Response&lt;MyResponse&gt; response) {\n                                if (response.code() == 200){\n                                    if (response.body().success != 1){\n                                        Toast.makeText(MessageActivity.this, &quot;Failed!&quot;, Toast.LENGTH_SHORT).show();\n                                    }\n                                }\n                            }\n\n                            @Override\n                            public void onFailure(Call&lt;MyResponse&gt; call, Throwable t) {\n\n                            }\n                        });\n            }\n        }\n</code></pre>\n"},{"tags":["java","compilation","javac"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1649981300,"post_id":71878757,"comment_id":127017097,"body_markdown":"It should create all .class files that are referenced from `Main`, and all class files that are referenced from those files, and so forth. Is `Main` in `package main`? i.e. is your package structure the same as your directory structure?","body":"It should create all .class files that are referenced from <code>Main</code>, and all class files that are referenced from those files, and so forth. Is <code>Main</code> in <code>package main</code>? i.e. is your package structure the same as your directory structure?"},{"owner":{"account_id":18935067,"reputation":115,"user_id":13816325,"display_name":"Kai"},"score":0,"creation_date":1649983449,"post_id":71878757,"comment_id":127017415,"body_markdown":"@user207421 Yes, my package structure is the same as my directory structure.","body":"@user207421 Yes, my package structure is the same as my directory structure."},{"owner":{"account_id":18935067,"reputation":115,"user_id":13816325,"display_name":"Kai"},"score":1,"creation_date":1649983925,"post_id":71878757,"comment_id":127017462,"body_markdown":"Just found a sort of fix. I&#39;m using Atom to edit my code, and when I create new files with it, they don&#39;t seem to register with the system. But if I edit the files in VSCode then save, the classes are properly generated. Not sure why this is, but it works I guess.","body":"Just found a sort of fix. I&#39;m using Atom to edit my code, and when I create new files with it, they don&#39;t seem to register with the system. But if I edit the files in VSCode then save, the classes are properly generated. Not sure why this is, but it works I guess."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1649988271,"post_id":71878757,"comment_id":127017980,"body_markdown":"Maybe Atom doesn&#39;t change the last-modification date?","body":"Maybe Atom doesn&#39;t change the last-modification date?"}],"owner":{"account_id":18935067,"reputation":115,"user_id":13816325,"display_name":"Kai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649981238,"creation_date":1649980990,"question_id":71878757,"body_markdown":"When I run `javac main/Main.java` (in the cd of `src`), it creates most of the class files, but not all of them.\r\nThis is my file structure\r\n```\r\nsrc\r\n│\r\n├───entity (creates .class files)\r\n│\r\n└───main (creates .class files)\r\n    │\r\n    ├───object (does not create all .class files)\r\n    │\r\n    └───tile (creates .class files)\r\n```\r\nI have tried `javac -d ./classes/ main/Main.java` but this only creates one .class file, and I don&#39;t want to have to go though each file in the tree.","title":"Javac not creating all the .class files","body":"<p>When I run <code>javac main/Main.java</code> (in the cd of <code>src</code>), it creates most of the class files, but not all of them.\nThis is my file structure</p>\n<pre><code>src\n│\n├───entity (creates .class files)\n│\n└───main (creates .class files)\n    │\n    ├───object (does not create all .class files)\n    │\n    └───tile (creates .class files)\n</code></pre>\n<p>I have tried <code>javac -d ./classes/ main/Main.java</code> but this only creates one .class file, and I don't want to have to go though each file in the tree.</p>\n"},{"tags":["java","filereader","java-io"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1395535579,"post_id":22585621,"comment_id":34383620,"body_markdown":"&quot;for some reason, it cannot be found.&quot; which means what? Paste the stacktrace","body":"&quot;for some reason, it cannot be found.&quot; which means what? Paste the stacktrace"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1395536687,"post_id":22585621,"comment_id":34383813,"body_markdown":"Oh, and you don&#39;t specify the charset to use for reading the file","body":"Oh, and you don&#39;t specify the charset to use for reading the file"},{"owner":{"account_id":3387577,"reputation":117,"user_id":2843235,"accept_rate":57,"display_name":"user2843235"},"score":5,"creation_date":1395546546,"post_id":22585621,"comment_id":34385848,"body_markdown":"Maybe some people are just beginners, EJP? lol\nAnyways, my stack trace is this:\njava.io.FileNotFoundException: C:\\Users\\homar_000\\workspace\\RankFavorites\\icecreamTopping.txt (The system cannot find the file specified)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n\tat java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n\tat java.io.FileReader.&lt;init&gt;(Unknown Source)\n\tat MainFavorites.main(MainFavorites.java:28)","body":"Maybe some people are just beginners, EJP? lol Anyways, my stack trace is this: java.io.FileNotFoundException: C:\\Users\\homar_000\\workspace\\RankFavorites\\icecreamTopping.t&zwnj;&#8203;xt (The system cannot find the file specified) \tat java.io.FileInputStream.open(Native Method) \tat java.io.FileInputStream.&lt;init&gt;(Unknown Source) \tat java.io.FileInputStream.&lt;init&gt;(Unknown Source) \tat java.io.FileReader.&lt;init&gt;(Unknown Source) \tat MainFavorites.main(MainFavorites.java:28)"}],"answers":[{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1395556696,"creation_date":1395535781,"answer_id":22585647,"question_id":22585621,"body_markdown":"Replace below line \r\n\r\n    reader = new BufferedReader(new FileReader(&quot;icecreamTopping.txt&quot;));\r\n\r\nwith \r\n\r\n    reader = new BufferedReader(new FileReader(&quot;resources/icecreamTopping.txt&quot;));\r\n\r\nand put the file under resources folder that resides parallel to src folder.\r\n____________\r\n\r\nSample code:\r\n\r\nReading a file `abc.txt` from resources folder\r\n\r\n    reader = new BufferedReader(new FileReader(&quot;resources/abc.txt&quot;));\r\n\r\nHere is the project structure\r\n\r\n![enter image description here][1]\r\n\r\n\r\n________________\r\n\r\nTry below code to find out where it is pointing to file `icecreamTopping.txt`.\r\n\r\n     File f=new File(&quot;icecreamTopping.txt&quot;);\r\n     System.out.println(f.getAbsolutePath());\r\n\r\nAfter getting the absolute path, just place the file there.\r\n_______________\r\n--EDIT--\r\n\r\nAs per your last comments, put `icecreamTopping.txt` file in the project `RankFavorites` directly as shown in below snapshot and It will definitely solve your problem.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/62sps.png\r\n  [2]: http://i.stack.imgur.com/yK30m.png","title":"The FileReader cannot find my text file","body":"<p>Replace below line </p>\n\n<pre><code>reader = new BufferedReader(new FileReader(\"icecreamTopping.txt\"));\n</code></pre>\n\n<p>with </p>\n\n<pre><code>reader = new BufferedReader(new FileReader(\"resources/icecreamTopping.txt\"));\n</code></pre>\n\n<p>and put the file under resources folder that resides parallel to src folder.</p>\n\n<hr>\n\n<p>Sample code:</p>\n\n<p>Reading a file <code>abc.txt</code> from resources folder</p>\n\n<pre><code>reader = new BufferedReader(new FileReader(\"resources/abc.txt\"));\n</code></pre>\n\n<p>Here is the project structure</p>\n\n<p><img src=\"https://i.stack.imgur.com/62sps.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>Try below code to find out where it is pointing to file <code>icecreamTopping.txt</code>.</p>\n\n<pre><code> File f=new File(\"icecreamTopping.txt\");\n System.out.println(f.getAbsolutePath());\n</code></pre>\n\n<p>After getting the absolute path, just place the file there.</p>\n\n<hr>\n\n<p>--EDIT--</p>\n\n<p>As per your last comments, put <code>icecreamTopping.txt</code> file in the project <code>RankFavorites</code> directly as shown in below snapshot and It will definitely solve your problem.</p>\n\n<p><img src=\"https://i.stack.imgur.com/yK30m.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":4095148,"reputation":332,"user_id":3362157,"display_name":"Govtart"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1395535837,"creation_date":1395535837,"answer_id":22585658,"question_id":22585621,"body_markdown":"Try to use File class to detect your file in storage:\r\n\r\n    File sdcard = Environment.getExternalStorageDirectory();\r\n    \r\n    //Get the text file\r\n    File file = new File(sdcard,&quot;file.txt&quot;);\r\n    \r\n    BufferedReader br = new BufferedReader(new FileReader(file));","title":"The FileReader cannot find my text file","body":"<p>Try to use File class to detect your file in storage:</p>\n\n<pre><code>File sdcard = Environment.getExternalStorageDirectory();\n\n//Get the text file\nFile file = new File(sdcard,\"file.txt\");\n\nBufferedReader br = new BufferedReader(new FileReader(file));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3387577,"reputation":117,"user_id":2843235,"accept_rate":57,"display_name":"user2843235"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1395687012,"creation_date":1395687012,"answer_id":22618107,"question_id":22585621,"body_markdown":"Found out what was the problem. It was unnecessary for me to put the file extension so I removed the .txt because when I kept it, it read it as &quot;icecreamTopping.txt.txt&quot;","title":"The FileReader cannot find my text file","body":"<p>Found out what was the problem. It was unnecessary for me to put the file extension so I removed the .txt because when I kept it, it read it as \"icecreamTopping.txt.txt\"</p>\n"},{"tags":[],"owner":{"account_id":18046647,"reputation":39,"user_id":13117467,"display_name":"Sahan"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1605354640,"creation_date":1605353916,"answer_id":64833473,"question_id":22585621,"body_markdown":"\r\n    import org.json.simple.parser.ParseException;\r\n    import org.json.simple.parser.JSONParser;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n\r\n    \r\n    JSONParser parser = new JSONParser();\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    try {\r\n        \r\n        Object obj = parser.parse(new FileReader(&quot;/home/sahan/Desktop/data.json&quot;));\r\n        ObjectNode objNode = mapper.convertValue(obj, ObjectNode.class);\r\n        System.out.println(objNode);\r\n    \r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    } catch (ParseException e) {\r\n        e.printStackTrace();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }","title":"The FileReader cannot find my text file","body":"<pre><code>import org.json.simple.parser.ParseException;\nimport org.json.simple.parser.JSONParser;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\n\nJSONParser parser = new JSONParser();\nObjectMapper mapper = new ObjectMapper();\n\ntry {\n    \n    Object obj = parser.parse(new FileReader(&quot;/home/sahan/Desktop/data.json&quot;));\n    ObjectNode objNode = mapper.convertValue(obj, ObjectNode.class);\n    System.out.println(objNode);\n\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n} catch (ParseException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1569634,"reputation":19,"user_id":1457608,"display_name":"Neyyadupakkam Sundarasekaran"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649981131,"creation_date":1649981131,"answer_id":71878776,"question_id":22585621,"body_markdown":"Move the text file to java/main/resources folder if you are using Maven or to classes folder, so that it will be in classpath. Then use the following line of code to get the file path. Replace MyClass with your class name. Use the path as argument in FileReader.\r\n\r\nString path = MyClass.class.getClassLoader().getResource(&quot;text_file.txt&quot;).getPath();\r\n\r\nBufferedReader reader = new BufferedReader(new FileReader(path));","title":"The FileReader cannot find my text file","body":"<p>Move the text file to java/main/resources folder if you are using Maven or to classes folder, so that it will be in classpath. Then use the following line of code to get the file path. Replace MyClass with your class name. Use the path as argument in FileReader.</p>\n<p>String path = MyClass.class.getClassLoader().getResource(&quot;text_file.txt&quot;).getPath();</p>\n<p>BufferedReader reader = new BufferedReader(new FileReader(path));</p>\n"}],"owner":{"account_id":3387577,"reputation":117,"user_id":2843235,"accept_rate":57,"display_name":"user2843235"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82937,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":22618107,"answer_count":5,"score":2,"last_activity_date":1649981131,"creation_date":1395535492,"question_id":22585621,"body_markdown":"I have a simple text file and for some reason, it cannot be found. I don&#39;t see anything wrong with the code because I got it from a site, and I am starting to think that I didn&#39;t place the text file in the right place. Any suggestion please?\r\n\r\nCode:\r\n----\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class MainFavorites {\r\n        public static void main(String[] args) throws IOException {\r\n            /**\r\n            * finds pathway to the file\r\n            */\r\n            //      File file = new File(&quot;icecreamTopping.txt&quot;);\r\n            //      System.out.println(file.getCanonicalPath());\r\n            \r\n            BufferedReader reader = null;\r\n            ArrayList &lt;String&gt; myFileLines = new ArrayList &lt;String&gt;();\r\n            try {\r\n                String sCurrentLine;\r\n                reader = new BufferedReader(new FileReader(&quot;icecreamTopping.txt&quot;));\r\n                while ((sCurrentLine = reader.readLine()) != null) {\r\n                    //System.out.println(sCurrentLine);\r\n                    myFileLines.add(sCurrentLine);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                System.out.print(e.getMessage());\r\n            } finally {\r\n                try {\r\n                    if (reader != null)reader.close();\r\n                } catch (IOException ex) {\r\n                    System.out.println(ex.getMessage());\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n            int numElements = myFileLines.size();\r\n            System.out.println (&quot;there are n lines in the file:&quot; + numElements);\r\n            \r\n            for (int counter = numElements-1; counter &gt;= 0; counter--) {\r\n                String mylineout = myFileLines.get(counter);\r\n                System.out.println (mylineout);\r\n            }\r\n        }\r\n    }\r\n    \r\nFile content:\r\n------------\r\n\r\n    1- Blueberry \r\n    2- Banana Buzz\r\n    3- Cookie Batter\r\n\r\nMy stack trace is this:\r\n\r\n    java.io.FileNotFoundException: C:\\Users\\homar_000\\workspace\\RankFavorites\\icecreamTopping.txt (The system cannot find the file specified)\r\n    at java.io.FileInputStream.open(Native Method) at java.io.FileInputStream.&lt;init&gt;(Unknown Source)\r\n    at java.io.FileInputStream.&lt;init&gt;(Unknown Source)\r\n    at java.io.FileReader.&lt;init&gt;(Unknown Source)\r\n    at MainFavorites.main(MainFavorites.java:28)\r\n\r\n","title":"The FileReader cannot find my text file","body":"<p>I have a simple text file and for some reason, it cannot be found. I don't see anything wrong with the code because I got it from a site, and I am starting to think that I didn't place the text file in the right place. Any suggestion please?</p>\n\n<h2>Code:</h2>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class MainFavorites {\n    public static void main(String[] args) throws IOException {\n        /**\n        * finds pathway to the file\n        */\n        //      File file = new File(\"icecreamTopping.txt\");\n        //      System.out.println(file.getCanonicalPath());\n\n        BufferedReader reader = null;\n        ArrayList &lt;String&gt; myFileLines = new ArrayList &lt;String&gt;();\n        try {\n            String sCurrentLine;\n            reader = new BufferedReader(new FileReader(\"icecreamTopping.txt\"));\n            while ((sCurrentLine = reader.readLine()) != null) {\n                //System.out.println(sCurrentLine);\n                myFileLines.add(sCurrentLine);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            System.out.print(e.getMessage());\n        } finally {\n            try {\n                if (reader != null)reader.close();\n            } catch (IOException ex) {\n                System.out.println(ex.getMessage());\n                ex.printStackTrace();\n            }\n        }\n        int numElements = myFileLines.size();\n        System.out.println (\"there are n lines in the file:\" + numElements);\n\n        for (int counter = numElements-1; counter &gt;= 0; counter--) {\n            String mylineout = myFileLines.get(counter);\n            System.out.println (mylineout);\n        }\n    }\n}\n</code></pre>\n\n<h2>File content:</h2>\n\n<pre><code>1- Blueberry \n2- Banana Buzz\n3- Cookie Batter\n</code></pre>\n\n<p>My stack trace is this:</p>\n\n<pre><code>java.io.FileNotFoundException: C:\\Users\\homar_000\\workspace\\RankFavorites\\icecreamTopping.txt (The system cannot find the file specified)\nat java.io.FileInputStream.open(Native Method) at java.io.FileInputStream.&lt;init&gt;(Unknown Source)\nat java.io.FileInputStream.&lt;init&gt;(Unknown Source)\nat java.io.FileReader.&lt;init&gt;(Unknown Source)\nat MainFavorites.main(MainFavorites.java:28)\n</code></pre>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":1811021,"reputation":1567,"user_id":1647098,"accept_rate":45,"display_name":"eimmer"},"score":1,"creation_date":1601883233,"post_id":64203986,"comment_id":113532903,"body_markdown":"Have you read this? https://flutter.dev/docs/development/accessibility-and-localization/accessibility","body":"Have you read this? <a href=\"https://flutter.dev/docs/development/accessibility-and-localization/accessibility\" rel=\"nofollow noreferrer\">flutter.dev/docs/development/accessibility-and-localization/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":2563604,"reputation":4307,"user_id":2224226,"accept_rate":69,"display_name":"JayVDiyk"},"score":0,"creation_date":1601895241,"post_id":64203986,"comment_id":113538257,"body_markdown":"Yes, but it is irrelevant to the question I am asking. Such as, Android Accessibility API allows our app to read the content on screen OUTSIDE the app","body":"Yes, but it is irrelevant to the question I am asking. Such as, Android Accessibility API allows our app to read the content on screen OUTSIDE the app"}],"answers":[{"tags":[],"owner":{"account_id":18884677,"reputation":246,"user_id":13776382,"display_name":"Iheb Briki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649980057,"creation_date":1649980057,"answer_id":71878693,"question_id":64203986,"body_markdown":"Yes it&#39;s possible of course since it&#39;s possible with native android you can use native channels for this \r\nI have already built a plugin for interacting with accessibility service in android and he does the job you can read contents from the screen outside with it this is the plugin [flutter_accessibility_service][1] just check the example and instruction from the use\r\n\r\n\r\n  [1]: https://pub.dev/packages/flutter_accessibility_service","title":"Is it possible to use Flutter to make Android app that implemented Accessibility API?","body":"<p>Yes it's possible of course since it's possible with native android you can use native channels for this\nI have already built a plugin for interacting with accessibility service in android and he does the job you can read contents from the screen outside with it this is the plugin <a href=\"https://pub.dev/packages/flutter_accessibility_service\" rel=\"nofollow noreferrer\">flutter_accessibility_service</a> just check the example and instruction from the use</p>\n"}],"owner":{"account_id":2563604,"reputation":4307,"user_id":2224226,"accept_rate":69,"display_name":"JayVDiyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649980057,"creation_date":1601882197,"question_id":64203986,"body_markdown":"Have anyone had the experience in using Flutter to make Android app that utilize the Android accessibility API?\r\n\r\nIs this possible? ","title":"Is it possible to use Flutter to make Android app that implemented Accessibility API?","body":"<p>Have anyone had the experience in using Flutter to make Android app that utilize the Android accessibility API?</p>\n<p>Is this possible?</p>\n"},{"tags":["java","oop","inheritance","interface","factory-pattern"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1649961342,"post_id":71876203,"comment_id":127012397,"body_markdown":"Please post *real* code in your question, not kind-of / sort-of code.","body":"Please post <i>real</i> code in your question, not kind-of / sort-of code."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1649961346,"post_id":71876203,"comment_id":127012398,"body_markdown":"The `B` and `C` you&#39;ve given do not implement any interfaces, so the return types are invalid. What is this interface you claim they have in common and what does it contain? See [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"The <code>B</code> and <code>C</code> you&#39;ve given do not implement any interfaces, so the return types are invalid. What is this interface you claim they have in common and what does it contain? See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>"},{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":1,"creation_date":1649961500,"post_id":71876203,"comment_id":127012449,"body_markdown":"It sounds like to me you&#39;re after a factory pattern design.  When you have multiple classes implementing an interface, your factory class would determine which one gets instantiated.","body":"It sounds like to me you&#39;re after a factory pattern design.  When you have multiple classes implementing an interface, your factory class would determine which one gets instantiated."},{"owner":{"account_id":18261190,"reputation":11,"user_id":13293947,"display_name":"Volxxe"},"score":0,"creation_date":1649961564,"post_id":71876203,"comment_id":127012475,"body_markdown":"@SilvioMayolo The interface isn&#39;t that important for my question I just wanted the return type to work","body":"@SilvioMayolo The interface isn&#39;t that important for my question I just wanted the return type to work"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1649963435,"post_id":71876203,"comment_id":127013020,"body_markdown":"The interface is *very* important. Java is a statically typed language. For the same reason a function with a return type of `String` can&#39;t return `6`, a function with a return type of `SomeInterface` can&#39;t return `new C(...)` in your example. We need to see *actual* code representing your situation, not &quot;it&#39;s kinda like this&quot;. Because &quot;it&#39;s kinda like this&quot; leaves off crucial details that can affect a good answer.","body":"The interface is <i>very</i> important. Java is a statically typed language. For the same reason a function with a return type of <code>String</code> can&#39;t return <code>6</code>, a function with a return type of <code>SomeInterface</code> can&#39;t return <code>new C(...)</code> in your example. We need to see <i>actual</i> code representing your situation, not &quot;it&#39;s kinda like this&quot;. Because &quot;it&#39;s kinda like this&quot; leaves off crucial details that can affect a good answer."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649963127,"creation_date":1649962578,"answer_id":71876420,"question_id":71876203,"body_markdown":"You can do something like this with reflection, although it will be prone to failure.\r\n\r\n```\r\n    public SomeInterface foo() {\r\n        Constructor&lt;? extends SomeInterface&gt; c = getClass().getConstructor(int.class, int.class);\r\n        return c.newInstance( 1, 1);\r\n    }\r\n```\r\n\r\nYou&#39;ll have to manage some exceptions, but is this what you&#39;re after?\r\n\r\nThe question would then be, where can this be used? Interfaces don&#39;t have a common constructor. \r\n\r\n```\r\npublic interface SomeInterface{\r\n    default SomeInterface another(){\r\n        Constructor&lt;? extends SomeInterface&gt; c = getClass().getConstructor(int.class, int.class);\r\n        return c.newInstance( 1, 1);\r\n    }\r\n}\r\n```\r\n\r\nThat would work provided whatever the implementations try to use it have that constructor. There is no guarantee that constructor exists though. Maybe you would want it on an abstract class?","title":"Creating an intance of a Class via method of an Interface implemented by that class","body":"<p>You can do something like this with reflection, although it will be prone to failure.</p>\n<pre><code>    public SomeInterface foo() {\n        Constructor&lt;? extends SomeInterface&gt; c = getClass().getConstructor(int.class, int.class);\n        return c.newInstance( 1, 1);\n    }\n</code></pre>\n<p>You'll have to manage some exceptions, but is this what you're after?</p>\n<p>The question would then be, where can this be used? Interfaces don't have a common constructor.</p>\n<pre><code>public interface SomeInterface{\n    default SomeInterface another(){\n        Constructor&lt;? extends SomeInterface&gt; c = getClass().getConstructor(int.class, int.class);\n        return c.newInstance( 1, 1);\n    }\n}\n</code></pre>\n<p>That would work provided whatever the implementations try to use it have that constructor. There is no guarantee that constructor exists though. Maybe you would want it on an abstract class?</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649979174,"creation_date":1649973051,"answer_id":71877986,"question_id":71876203,"body_markdown":"&gt; use the foo method that is found in A it will call their constructor and just like that save me lines of code? \r\n\r\nYou are getting it wrong. Class design decisions must be based on use cases and relationships of the classes in your domain. If your main criteria will be to spare some lines of code, you can end up with a *coffee machine* extending *combine harvester* because both of them have tree dimensions. Don&#39;t take a pill if you have no headache. \r\n\r\nParent class `A` that you&#39;ve mentioned doesn&#39;t make any sense because method `foo()` returns an instance of `SomeInterface` interface which `A` doesn&#39;t implement (because if it does, its subclasses don&#39;t need to declare to implement it). I.e. `A` and `SomeInterface` are not compatible and compiler will not allow to type cast between them. Therefore, I&#39;ll omit the parent class.\r\n\r\nAs an example, the &quot;template&quot; you&#39;ve provided might be useful, will be a situation when classes with similar functionality need to grouped together. \r\n\r\nThe interface can serve as a single entry point for the user of the code. Every class will implement the behavior defined by the interface, and only through the interface it&#39;ll be possible to get an instance of the class with a particular flavor of functionality. The actual classes will be hidden from the user. \r\n\r\nSimilarly, abstract class `NumberFormat` from the JDK provides a way to obtain different kinds of formatters, but actual implementations are hidden are not exposed (*the approach shown below is far more simple than the actual way of how factory methods of the `NumberFormat` are implemented*).\r\n\r\nNote, interface and its implementations must reside in the same package.\r\n```\r\npublic interface BaseInterface {\r\n    public static BaseInterface getInstance(Classifier classifier) { // factory\r\n        return switch(classifier) {\r\n            case A -&gt; new A();\r\n            case B -&gt; new B();\r\n        };\r\n    }\r\n    \r\n    void doSomeThingUseful(); // behaviour that every class should implement\r\n}\r\n\r\nenum Classifier { A, B }\r\n\r\nclass A implements BaseInterface {\r\n    A() {}\r\n    \r\n    @Override\r\n    public void doSomeThingUseful() {\r\n        System.out.println(&quot;Class A&quot;);\r\n    }\r\n}\r\n\r\nclass B implements BaseInterface {\r\n    B() {}\r\n    \r\n    @Override\r\n    public void doSomeThingUseful() {\r\n        System.out.println(&quot;Class B&quot;);\r\n    }\r\n}\r\n```\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;BaseInterface&gt; items = List.of(BaseInterface.getInstance(Classifier.A),\r\n                                            BaseInterface.getInstance(Classifier.B));\r\n        for (BaseInterface item: items) {\r\n            item.doSomeThingUseful();\r\n        }\r\n    }\r\n\r\n**Output**\r\n```\r\nClass A\r\nClass B\r\n```","title":"Creating an intance of a Class via method of an Interface implemented by that class","body":"<blockquote>\n<p>use the foo method that is found in A it will call their constructor and just like that save me lines of code?</p>\n</blockquote>\n<p>You are getting it wrong. Class design decisions must be based on use cases and relationships of the classes in your domain. If your main criteria will be to spare some lines of code, you can end up with a <em>coffee machine</em> extending <em>combine harvester</em> because both of them have tree dimensions. Don't take a pill if you have no headache.</p>\n<p>Parent class <code>A</code> that you've mentioned doesn't make any sense because method <code>foo()</code> returns an instance of <code>SomeInterface</code> interface which <code>A</code> doesn't implement (because if it does, its subclasses don't need to declare to implement it). I.e. <code>A</code> and <code>SomeInterface</code> are not compatible and compiler will not allow to type cast between them. Therefore, I'll omit the parent class.</p>\n<p>As an example, the &quot;template&quot; you've provided might be useful, will be a situation when classes with similar functionality need to grouped together.</p>\n<p>The interface can serve as a single entry point for the user of the code. Every class will implement the behavior defined by the interface, and only through the interface it'll be possible to get an instance of the class with a particular flavor of functionality. The actual classes will be hidden from the user.</p>\n<p>Similarly, abstract class <code>NumberFormat</code> from the JDK provides a way to obtain different kinds of formatters, but actual implementations are hidden are not exposed (<em>the approach shown below is far more simple than the actual way of how factory methods of the <code>NumberFormat</code> are implemented</em>).</p>\n<p>Note, interface and its implementations must reside in the same package.</p>\n<pre><code>public interface BaseInterface {\n    public static BaseInterface getInstance(Classifier classifier) { // factory\n        return switch(classifier) {\n            case A -&gt; new A();\n            case B -&gt; new B();\n        };\n    }\n    \n    void doSomeThingUseful(); // behaviour that every class should implement\n}\n\nenum Classifier { A, B }\n\nclass A implements BaseInterface {\n    A() {}\n    \n    @Override\n    public void doSomeThingUseful() {\n        System.out.println(&quot;Class A&quot;);\n    }\n}\n\nclass B implements BaseInterface {\n    B() {}\n    \n    @Override\n    public void doSomeThingUseful() {\n        System.out.println(&quot;Class B&quot;);\n    }\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;BaseInterface&gt; items = List.of(BaseInterface.getInstance(Classifier.A),\n                                        BaseInterface.getInstance(Classifier.B));\n    for (BaseInterface item: items) {\n        item.doSomeThingUseful();\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Class A\nClass B\n</code></pre>\n"}],"owner":{"account_id":18261190,"reputation":11,"user_id":13293947,"display_name":"Volxxe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1649979174,"creation_date":1649961234,"question_id":71876203,"body_markdown":"I want to call the constructor of a class inside the method of an interface. \r\n\r\nFor example, if I have two classes `B` and `C` and they both implement `SomeInterface`, so that each of them has method `foo()`.\r\n\r\n```\r\ninterface SomeInterface {\r\n    public SomeInterface foo();\r\n}\r\n\r\nclass B implements SomeInterface {\r\n    public B(int fst, int snd) {}\r\n    \r\n    @Override\r\n    public SomeInterface foo() {\r\n        return new B(1, 1);\r\n    }\r\n}\r\n\r\nclass C implements SomeInterface {\r\n    public C(int fst, int snd) {}\r\n    \r\n    @Override\r\n    public SomeInterface foo() {\r\n        return new C(1, 1);\r\n    }\r\n}\r\n```\r\n\r\nAnd let&#39;s say, for the sake of this question, that I have a lot more classes that implement `SomeInterface` and they all do the same thing, that is `return new &lt;nameoftheclass&gt;(1,1)`\r\nand all these classes extend the parent class `A`. \r\n\r\nIs there a way for me to create only one method in `A` such that if any of these classes use the `foo` method that is found in  `A` it will call **their constructor** and just like that save me lines of code?\r\n\r\n","title":"Creating an intance of a Class via method of an Interface implemented by that class","body":"<p>I want to call the constructor of a class inside the method of an interface.</p>\n<p>For example, if I have two classes <code>B</code> and <code>C</code> and they both implement <code>SomeInterface</code>, so that each of them has method <code>foo()</code>.</p>\n<pre><code>interface SomeInterface {\n    public SomeInterface foo();\n}\n\nclass B implements SomeInterface {\n    public B(int fst, int snd) {}\n    \n    @Override\n    public SomeInterface foo() {\n        return new B(1, 1);\n    }\n}\n\nclass C implements SomeInterface {\n    public C(int fst, int snd) {}\n    \n    @Override\n    public SomeInterface foo() {\n        return new C(1, 1);\n    }\n}\n</code></pre>\n<p>And let's say, for the sake of this question, that I have a lot more classes that implement <code>SomeInterface</code> and they all do the same thing, that is <code>return new &lt;nameoftheclass&gt;(1,1)</code>\nand all these classes extend the parent class <code>A</code>.</p>\n<p>Is there a way for me to create only one method in <code>A</code> such that if any of these classes use the <code>foo</code> method that is found in  <code>A</code> it will call <strong>their constructor</strong> and just like that save me lines of code?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1649941237,"post_id":71871556,"comment_id":127005170,"body_markdown":"It is not reproducible, add all configuration please.","body":"It is not reproducible, add all configuration please."},{"owner":{"account_id":17054720,"reputation":97,"user_id":12339552,"display_name":"thetruth"},"score":0,"creation_date":1649941324,"post_id":71871556,"comment_id":127005202,"body_markdown":"@hatefalipoor Added my configuration","body":"@hatefalipoor Added my configuration"}],"answers":[{"tags":[],"owner":{"account_id":17054720,"reputation":97,"user_id":12339552,"display_name":"thetruth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649978931,"creation_date":1649978931,"answer_id":71878591,"question_id":71871556,"body_markdown":"So the issue was actually in the configure method. I was actually allowing the specific endpoint to only role-specific users as following:\r\n\r\n&gt; .antMatchers(&quot;/api/**&quot;)             .hasRole(ApplicationUserRole.USER.name()).anyRequest().authenticated()\r\n\r\nI missed this, as I was actually using /management/api/ but did not know this was applied and thought there was something wrong with my filter, but it was a security configuration issue.","title":"filterChain.doFilter does not reach its destination in Spring","body":"<p>So the issue was actually in the configure method. I was actually allowing the specific endpoint to only role-specific users as following:</p>\n<blockquote>\n<p>.antMatchers(&quot;/api/**&quot;)             .hasRole(ApplicationUserRole.USER.name()).anyRequest().authenticated()</p>\n</blockquote>\n<p>I missed this, as I was actually using /management/api/ but did not know this was applied and thought there was something wrong with my filter, but it was a security configuration issue.</p>\n"}],"owner":{"account_id":17054720,"reputation":97,"user_id":12339552,"display_name":"thetruth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71878591,"answer_count":1,"score":0,"last_activity_date":1649978931,"creation_date":1649939043,"question_id":71871556,"body_markdown":"I have the following controller that creates a user based on the request body.\r\n```\r\n    @PostMapping\r\n    public void registerNewUser(@RequestBody User user) {\r\n        userService.addNewUser(user);\r\n\r\n    }\r\n```\r\nHowever I have also implemented a filter chain to validate the request&#39;s cookie, but since I am creating a user no cookies need to be validated. Therefore I have made the following if statement\r\n\r\n```\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n                                    HttpServletResponse response,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        if(request.getCookies() == null) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n....\r\n```\r\nBut this is where the issue occurs. It does not reach its end destination (the controller) and create my user. In fact it gives me a 403 Forbidden status code.\r\nWhat am I missing?\r\n\r\nI suspect that my authentication filter might cause the issue. I believe it is trying to authenticate all incoming requests which I don&#39;t want for the registration endpoint.\r\n\r\n```\r\npublic class JwtUsernameAndPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        \r\n        try {\r\n            UsernameAndPasswordAuthenticationRequest authenticationRequest = new ObjectMapper().readValue(request.getInputStream(), UsernameAndPasswordAuthenticationRequest.class);\r\n            Authentication authentication = new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword());\r\n            Authentication authenticate = authenticationManager.authenticate(authentication);\r\n            return authenticate;\r\n\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n\r\n        String token = Jwts.builder()\r\n                .setSubject(authResult.getName())\r\n                .claim(&quot;authorities&quot;, authResult.getAuthorities())\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusDays(jwtConfig.getTokenExpirationAfterDays())))\r\n                .signWith(secretKey)\r\n                .compact();\r\n\r\n\r\n        response.resetBuffer();\r\n        response.setHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n        response.getOutputStream().print(new ObjectMapper().writeValueAsString(&quot;Authenticated!&quot;));\r\n        Cookie sessionCookie = new Cookie(&quot;JSESSIONID&quot;, token);\r\n        response.addCookie(sessionCookie);\r\n        response.flushBuffer();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy configuration\r\n\r\n```\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().configurationSource(corsConfigurationSource()).and().csrf().disable().formLogin().disable().httpBasic().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and().addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager(), jwtConfig, secretKey))\r\n                .addFilterAfter(new JwtTokenVerifier(secretKey, jwtConfig), JwtUsernameAndPasswordAuthenticationFilter.class)\r\n                .authorizeRequests().antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll().antMatchers(&quot;/api/**&quot;)\r\n                .hasRole(ApplicationUserRole.USER.name()).anyRequest().authenticated();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(daoAuthenticationProvider());\r\n    }\r\n@Bean\r\npublic CorsConfigurationSource corsConfigurationSource() {\r\n    final CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n    configuration.addAllowedHeader(&quot;Access-Control-Allow-Origin&quot;);\r\n    configuration.addAllowedHeader(&quot;Content-Type&quot;);\r\n    configuration.setAllowCredentials(true);\r\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n}\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(passwordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n\r\n@Configuration\r\n@EnableWebMvc\r\npublic class CorsConfig implements WebMvcConfigurer{\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:3000&quot;).allowCredentials(true).allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;);\r\n\r\n\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nJust an update:\r\n\r\nI have implemented a shouldnotfilter method to avoid filtering on registering, but the problem still persist. I still receive 403 Forbidden but it seems like it does not filter on the registration endpoint\r\n```\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n        String path = request.getRequestURI();\r\n        return &quot;/management/api/v1/users/register&quot;.equals(path);\r\n    }\r\n```\r\n","title":"filterChain.doFilter does not reach its destination in Spring","body":"<p>I have the following controller that creates a user based on the request body.</p>\n<pre><code>    @PostMapping\n    public void registerNewUser(@RequestBody User user) {\n        userService.addNewUser(user);\n\n    }\n</code></pre>\n<p>However I have also implemented a filter chain to validate the request's cookie, but since I am creating a user no cookies need to be validated. Therefore I have made the following if statement</p>\n<pre><code>    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        if(request.getCookies() == null) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n....\n</code></pre>\n<p>But this is where the issue occurs. It does not reach its end destination (the controller) and create my user. In fact it gives me a 403 Forbidden status code.\nWhat am I missing?</p>\n<p>I suspect that my authentication filter might cause the issue. I believe it is trying to authenticate all incoming requests which I don't want for the registration endpoint.</p>\n<pre><code>public class JwtUsernameAndPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        \n        try {\n            UsernameAndPasswordAuthenticationRequest authenticationRequest = new ObjectMapper().readValue(request.getInputStream(), UsernameAndPasswordAuthenticationRequest.class);\n            Authentication authentication = new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword());\n            Authentication authenticate = authenticationManager.authenticate(authentication);\n            return authenticate;\n\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n\n        String token = Jwts.builder()\n                .setSubject(authResult.getName())\n                .claim(&quot;authorities&quot;, authResult.getAuthorities())\n                .setIssuedAt(new Date())\n                .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusDays(jwtConfig.getTokenExpirationAfterDays())))\n                .signWith(secretKey)\n                .compact();\n\n\n        response.resetBuffer();\n        response.setHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\n        response.getOutputStream().print(new ObjectMapper().writeValueAsString(&quot;Authenticated!&quot;));\n        Cookie sessionCookie = new Cookie(&quot;JSESSIONID&quot;, token);\n        response.addCookie(sessionCookie);\n        response.flushBuffer();\n\n    }\n}\n\n</code></pre>\n<p>My configuration</p>\n<pre><code>    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().configurationSource(corsConfigurationSource()).and().csrf().disable().formLogin().disable().httpBasic().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager(), jwtConfig, secretKey))\n                .addFilterAfter(new JwtTokenVerifier(secretKey, jwtConfig), JwtUsernameAndPasswordAuthenticationFilter.class)\n                .authorizeRequests().antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll().antMatchers(&quot;/api/**&quot;)\n                .hasRole(ApplicationUserRole.USER.name()).anyRequest().authenticated();\n\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n    final CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n    configuration.addAllowedHeader(&quot;Access-Control-Allow-Origin&quot;);\n    configuration.addAllowedHeader(&quot;Content-Type&quot;);\n    configuration.setAllowCredentials(true);\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n\n@Configuration\n@EnableWebMvc\npublic class CorsConfig implements WebMvcConfigurer{\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:3000&quot;).allowCredentials(true).allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;);\n\n\n            }\n        };\n    }\n}\n</code></pre>\n<p>Just an update:</p>\n<p>I have implemented a shouldnotfilter method to avoid filtering on registering, but the problem still persist. I still receive 403 Forbidden but it seems like it does not filter on the registration endpoint</p>\n<pre><code>    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n        String path = request.getRequestURI();\n        return &quot;/management/api/v1/users/register&quot;.equals(path);\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1561469452,"creation_date":1561469452,"answer_id":56755255,"question_id":56754704,"body_markdown":"To find the offsets that correspond to a timestamp, you need to use the [`offsetsForTimes()`][1] method.\r\n\r\nFor example, this will print the offsets for partition 0 of `mytopic` that correspond to 1 second ago:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(configs);) {\r\n        Map&lt;TopicPartition, Long&gt; timestamps = new HashMap&lt;&gt;();\r\n        timestamps.put(new TopicPartition(&quot;mytopic&quot;, 0), System.currentTimeMillis()-1*1000);\r\n        Map&lt;TopicPartition, OffsetAndTimestamp&gt; offsets = consumer.offsetsForTimes(timestamps);\r\n        System.err.println(offsets);\r\n    }\r\n\r\nThat will display something like:\r\n\r\n    {offset-test-0=(timestamp=1561469319192, leaderEpoch=0, offset=100131)}\r\n\r\n\r\n  [1]: http://kafka.apache.org/22/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#offsetsForTimes-java.util.Map-","title":"How to get kafka offset data, specified on timestamp","body":"<p>To find the offsets that correspond to a timestamp, you need to use the <a href=\"http://kafka.apache.org/22/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#offsetsForTimes-java.util.Map-\" rel=\"noreferrer\"><code>offsetsForTimes()</code></a> method.</p>\n\n<p>For example, this will print the offsets for partition 0 of <code>mytopic</code> that correspond to 1 second ago:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(configs);) {\n    Map&lt;TopicPartition, Long&gt; timestamps = new HashMap&lt;&gt;();\n    timestamps.put(new TopicPartition(\"mytopic\", 0), System.currentTimeMillis()-1*1000);\n    Map&lt;TopicPartition, OffsetAndTimestamp&gt; offsets = consumer.offsetsForTimes(timestamps);\n    System.err.println(offsets);\n}\n</code></pre>\n\n<p>That will display something like:</p>\n\n<pre><code>{offset-test-0=(timestamp=1561469319192, leaderEpoch=0, offset=100131)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1698216,"reputation":1760,"user_id":1559071,"display_name":"EricRobertBrewer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649978507,"creation_date":1649892693,"answer_id":71864858,"question_id":56754704,"body_markdown":"You can use [`Admin.listOffsets`][1] with [`OffsetSpec.forTimestamp`][2]:\r\n\r\n```\r\nMap&lt;TopicPartition, OffsetSpec&gt; topicOffsetSpecs = new HashMap&lt;&gt;();\r\nTopicPartition topicPartition = new TopicPartition(&quot;topic1&quot;, 0);\r\nOffsetSpec offsetSpec = OffsetSpec.forTimestamp(timestamp);\r\ntopicOffsetSpecs.put(topicPartition, offsetSpec);\r\nadmin.listOffsets(topicOffsetSpecs).all().get(); // Info for given timestamp\r\n```\r\n\r\n  [1]: https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/admin/Admin.html#listOffsets(java.util.Map)\r\n  [2]:\r\nhttps://kafka.apache.org/31/javadoc/org/apache/kafka/clients/admin/OffsetSpec.html#forTimestamp(long)","title":"How to get kafka offset data, specified on timestamp","body":"<p>You can use <a href=\"https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/admin/Admin.html#listOffsets(java.util.Map)\" rel=\"nofollow noreferrer\"><code>Admin.listOffsets</code></a> with <a href=\"https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/admin/OffsetSpec.html#forTimestamp(long)\" rel=\"nofollow noreferrer\"><code>OffsetSpec.forTimestamp</code></a>:</p>\n<pre><code>Map&lt;TopicPartition, OffsetSpec&gt; topicOffsetSpecs = new HashMap&lt;&gt;();\nTopicPartition topicPartition = new TopicPartition(&quot;topic1&quot;, 0);\nOffsetSpec offsetSpec = OffsetSpec.forTimestamp(timestamp);\ntopicOffsetSpecs.put(topicPartition, offsetSpec);\nadmin.listOffsets(topicOffsetSpecs).all().get(); // Info for given timestamp\n</code></pre>\n"}],"owner":{"account_id":14715005,"reputation":213,"user_id":10627225,"display_name":"tisispa1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19015,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56755255,"answer_count":2,"score":5,"last_activity_date":1649978507,"creation_date":1561467632,"question_id":56754704,"body_markdown":"I&#39;ve **tried to get the offset** from Kafka topic based on timestamp when I tried to run it was throwing null pointer error,\r\n```java\r\nMap&lt;TopicPartition, Long&gt; timestampsToSearch = new HashMap&lt;&gt;();\r\n\t\t      for (TopicPartition partition : partitions) {\r\n\t\t        timestampsToSearch.put(partition,  startTimestamp);\r\n\t\t      }\r\nMap&lt;TopicPartition, OffsetAndTimestamp&gt; outOffsets = consumer.offsetsForTimes(timestampsToSearch);\r\n\t\t      for (TopicPartition partition : partitions) {\r\n\t\t        Long seekOffset = outOffsets.get(partition).offset();\r\nconsumer.seek(partition, seekOffset);\r\n```\r\n\r\nAny help will be appreciated.","title":"How to get kafka offset data, specified on timestamp","body":"<p>I've <strong>tried to get the offset</strong> from Kafka topic based on timestamp when I tried to run it was throwing null pointer error,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;TopicPartition, Long&gt; timestampsToSearch = new HashMap&lt;&gt;();\n              for (TopicPartition partition : partitions) {\n                timestampsToSearch.put(partition,  startTimestamp);\n              }\nMap&lt;TopicPartition, OffsetAndTimestamp&gt; outOffsets = consumer.offsetsForTimes(timestampsToSearch);\n              for (TopicPartition partition : partitions) {\n                Long seekOffset = outOffsets.get(partition).offset();\nconsumer.seek(partition, seekOffset);\n</code></pre>\n\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","hibernate","c3p0"],"comments":[{"owner":{"account_id":1192700,"reputation":2253,"user_id":1165132,"display_name":"Adrian"},"score":0,"creation_date":1358622336,"post_id":14417692,"comment_id":20066301,"body_markdown":"Typically it should be &quot;immidiatly&quot;. Maybe try another pooling lib to make sure it is a c3p0 problem, like BoneCP (http://jolbox.com/).","body":"Typically it should be &quot;immidiatly&quot;. Maybe try another pooling lib to make sure it is a c3p0 problem, like BoneCP (<a href=\"http://jolbox.com/\" rel=\"nofollow noreferrer\">jolbox.com</a>)."},{"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":0,"creation_date":1358624498,"post_id":14417692,"comment_id":20066905,"body_markdown":"hi. first, what version of c3p0 are you using? can you try upgrading to the most recent (c3p0-0.9.2-pre8), if you are using c3p0-0.9.1.x? re your settings: please choose an acquireIncrement greater than 1 (the default of three is probably ok, given your pool size). you might try setting acquireRetryDelay to a lower value -- if that speeds up your initialization, it means c3p0 is experiencing occasional failures on Connection acquisition. (if you set the level of the logger to com.mchange.v2.resourcepool.BasicResourcePool to FINE or DEBUG, you&#39;ll see these failures.)","body":"hi. first, what version of c3p0 are you using? can you try upgrading to the most recent (c3p0-0.9.2-pre8), if you are using c3p0-0.9.1.x? re your settings: please choose an acquireIncrement greater than 1 (the default of three is probably ok, given your pool size). you might try setting acquireRetryDelay to a lower value -- if that speeds up your initialization, it means c3p0 is experiencing occasional failures on Connection acquisition. (if you set the level of the logger to com.mchange.v2.resourcepool.BasicResourcePool to FINE or DEBUG, you&#39;ll see these failures.)"},{"owner":{"account_id":1177043,"reputation":1038,"user_id":1152783,"accept_rate":80,"display_name":"bentrm"},"score":0,"creation_date":1358678385,"post_id":14417692,"comment_id":20076791,"body_markdown":"I made a mistake when comparing initialization on local and remote db server. Sry, for the confusion. Locally, initialization is pretty much immediately, remotely it takes around 2 minutes. I tested it with a Heroku Dev instance of Postgres. Is this still an atypical long time?","body":"I made a mistake when comparing initialization on local and remote db server. Sry, for the confusion. Locally, initialization is pretty much immediately, remotely it takes around 2 minutes. I tested it with a Heroku Dev instance of Postgres. Is this still an atypical long time?"},{"owner":{"account_id":1177043,"reputation":1038,"user_id":1152783,"accept_rate":80,"display_name":"bentrm"},"score":0,"creation_date":1358678606,"post_id":14417692,"comment_id":20076841,"body_markdown":"@SteveWaldman The c3p0 logging is set to debug and I could not find a way to have more granular logging of the init and connection process. Could you offer a hint how to enable logging for com.mchange.v2.resourcepool.BasicResourcePool?","body":"@SteveWaldman The c3p0 logging is set to debug and I could not find a way to have more granular logging of the init and connection process. Could you offer a hint how to enable logging for com.mchange.v2.resourcepool.BasicResourcePool?"},{"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":1,"creation_date":1358755895,"post_id":14417692,"comment_id":20095994,"body_markdown":"it depends on your logging library -- com.mchange.v2.resourcepool.BasicResourcePool is the logger for which you want to enable more detailed loggers. if you are using the Java standard logging library, there should be a logging.properties file. if you are using log4j, log4j.properties. c3p0 dumps which logging framework it is using on startup, look for a line like &quot;MLog clients using&quot;, and then a string identifying the logging lib.","body":"it depends on your logging library -- com.mchange.v2.resourcepool.BasicResourcePool is the logger for which you want to enable more detailed loggers. if you are using the Java standard logging library, there should be a logging.properties file. if you are using log4j, log4j.properties. c3p0 dumps which logging framework it is using on startup, look for a line like &quot;MLog clients using&quot;, and then a string identifying the logging lib."},{"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":0,"creation_date":1358756010,"post_id":14417692,"comment_id":20096041,"body_markdown":"(two minutes is a very long time to have to await availability of your first Connection. unless your network is VERY high latency, something is amiss.)","body":"(two minutes is a very long time to have to await availability of your first Connection. unless your network is VERY high latency, something is amiss.)"},{"owner":{"account_id":1177043,"reputation":1038,"user_id":1152783,"accept_rate":80,"display_name":"bentrm"},"score":0,"creation_date":1358793080,"post_id":14417692,"comment_id":20114038,"body_markdown":"@SteveWaldman I edited my post attaching a log. Would be happy if someone took a look.","body":"@SteveWaldman I edited my post attaching a log. Would be happy if someone took a look."},{"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":0,"creation_date":1358887725,"post_id":14417692,"comment_id":20153499,"body_markdown":"so, in this log, it looks like three Connections are acquired and one checked out within 2 secs. there&#39;s a gap in log output between 19:19 and 19:21, which I suppose is there the hang that you are seeing is. but all Connections have been acquired by the pool by this point. i&#39;d pull a Thread dump during the hang to try to get a better sense of what&#39;s going on. [also, i&#39;d again recommend the 0.9.2 seris over 0.9.1. 0.9.2 final will be done just as soon as I can get some time to publish it. other than doc changes, it&#39;s just 0.9.2-pre8.]","body":"so, in this log, it looks like three Connections are acquired and one checked out within 2 secs. there&#39;s a gap in log output between 19:19 and 19:21, which I suppose is there the hang that you are seeing is. but all Connections have been acquired by the pool by this point. i&#39;d pull a Thread dump during the hang to try to get a better sense of what&#39;s going on. [also, i&#39;d again recommend the 0.9.2 seris over 0.9.1. 0.9.2 final will be done just as soon as I can get some time to publish it. other than doc changes, it&#39;s just 0.9.2-pre8.]"},{"owner":{"account_id":1177043,"reputation":1038,"user_id":1152783,"accept_rate":80,"display_name":"bentrm"},"score":0,"creation_date":1358889345,"post_id":14417692,"comment_id":20154269,"body_markdown":"@SteveWaldman thanks for your support. I&#39;m not that comfortable with logs and thread dumps as just yet. Anyhow, in the end I don&#39;t think c3p0 is the reason for this delay. In fact, in a moment of despair I changed my backend to MySQL today and it turns out everything is going smoothly now.\nI can&#39;t really tell what the reason for all this has been though. This is a follow up post that I made on the issue: http://stackoverflow.com/questions/14445838/hibernate-startup-very-slow","body":"@SteveWaldman thanks for your support. I&#39;m not that comfortable with logs and thread dumps as just yet. Anyhow, in the end I don&#39;t think c3p0 is the reason for this delay. In fact, in a moment of despair I changed my backend to MySQL today and it turns out everything is going smoothly now. I can&#39;t really tell what the reason for all this has been though. This is a follow up post that I made on the issue: <a href=\"http://stackoverflow.com/questions/14445838/hibernate-startup-very-slow\" title=\"hibernate startup very slow\">stackoverflow.com/questions/14445838/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1578776,"reputation":136,"user_id":1464600,"display_name":"fabriciobc"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1649978208,"creation_date":1396965707,"answer_id":22939386,"question_id":14417692,"body_markdown":"Set the property `hibernate.temp.use_jdbc_metadata_defaults` to false in the configuration of your session factory ([documentation][1]). This will indicate to Hibernate using metadata dialect instead of the connection, which makes the slow startup. You must also configure an appropriate dialect for your driver.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-internal","title":"Initializing C3P0 connection pool takes 2 min","body":"<p>Set the property <code>hibernate.temp.use_jdbc_metadata_defaults</code> to false in the configuration of your session factory (<a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-internal\" rel=\"nofollow noreferrer\">documentation</a>). This will indicate to Hibernate using metadata dialect instead of the connection, which makes the slow startup. You must also configure an appropriate dialect for your driver.</p>\n"}],"owner":{"account_id":1177043,"reputation":1038,"user_id":1152783,"accept_rate":80,"display_name":"bentrm"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17772,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22939386,"answer_count":1,"score":10,"last_activity_date":1649978208,"creation_date":1358621732,"question_id":14417692,"body_markdown":"I can&#39;t wrap my head around why the initialization of a c3p0 connection pool takes 2 min in my Hibernate application.\r\n\r\nThis is in my Hibernate.cfg.xml:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t&lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.url&quot;/&gt;\r\n    \t\t&lt;property name=&quot;connection.default_schema&quot;/&gt;\r\n    \t\t&lt;property name=&quot;connection.username&quot;/&gt;\r\n    \t\t&lt;property name=&quot;connection.password&quot;/&gt; \r\n      \t\t\r\n      \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\r\n      \t\t&lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\r\n      \t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n      \t\t\r\n      \t\t&lt;property name=&quot;hibernate.c3p0.acquire_increment&quot;&gt;1&lt;/property&gt;\r\n      \t\t&lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;3&lt;/property&gt;\r\n      \t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;10&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.c3p0.&quot;&gt;&lt;/property&gt;\r\n      \r\n      \t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n      \t\t&lt;property name=&quot;format_sql&quot;&gt;false&lt;/property&gt;\r\n      \t\t\r\n      \t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n     &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nThe connection settings are set in my HibernateUtil file when building the session factory.\r\n\r\nThe pool is initialize when the first transaction in my tests is openend.\r\nConnecting and querying the db works just fine afterwards, it only hangs on the following line for a while before it will start. I formated the output a bit as I assume the problem may be with one of the settings mentioned here.:\r\n\r\n    INFO: Initializing c3p0 pool... \r\n    com.mchange.v2.c3p0.PoolBackedDataSource@30670080 [\r\n      connectionPoolDataSource -&gt; com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@ecfec4d0 [\r\n        acquireIncrement -&gt; 1,\r\n        acquireRetryAttempts -&gt; 30,\r\n        acquireRetryDelay -&gt; 1000,\r\n        autoCommitOnClose -&gt; false,\r\n        automaticTestTable -&gt; null,\r\n        breakAfterAcquireFailure -&gt; false,\r\n        checkoutTimeout -&gt; 0,\r\n        connectionCustomizerClassName -&gt; null,\r\n        connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester,        \r\n        debugUnreturnedConnectionStackTraces -&gt; false,\r\n        factoryClassLocation -&gt; null,\r\n        forceIgnoreUnresolvedTransactions -&gt; false,\r\n        identityToken -&gt; I-REMOVED-THIS,\r\n        idleConnectionTestPeriod -&gt; 3000,\r\n        initialPoolSize -&gt; 3,\r\n        maxAdministrativeTaskTime -&gt; 0,\r\n        maxConnectionAge -&gt; 0,\r\n        maxIdleTime -&gt; 300,\r\n        maxIdleTimeExcessConnections -&gt; 0,\r\n        maxPoolSize -&gt; 10,\r\n        maxStatements -&gt; 50,\r\n        maxStatementsPerConnection -&gt; 0,\r\n        minPoolSize -&gt; 3,\r\n        nestedDataSource -&gt; com.mchange.v2.c3p0.DriverManagerDataSource@b17e5c65 [\r\n          description -&gt; null,\r\n          driverClass -&gt; null,\r\n          factoryClassLocation -&gt; null,\r\n          identityToken -&gt; I-REMOVED-THIS,\r\n          jdbcUrl -&gt; jdbc:postgresql://URL-TO-MY_DB,\r\n          properties -&gt; {user=******, password=******, default_schema=}\r\n        ],\r\n        preferredTestQuery -&gt; null,\r\n        propertyCycle -&gt; 0,\r\n        testConnectionOnCheckin -&gt; false,\r\n        testConnectionOnCheckout -&gt; false,\r\n        unreturnedConnectionTimeout -&gt; 0,\r\n        usesTraditionalReflectiveProxies -&gt; false;\r\n        userOverrides: {}\r\n      ],\r\n      dataSourceName -&gt; null,\r\n      factoryClassLocation -&gt; null,\r\n      identityToken -&gt; I-REMOVED-THIS,\r\n      numHelperThreads -&gt; 3\r\n    ]\r\n\r\nIt&#39;s the first time I&#39;m using Hibernate and c3p0 and I was expecting it to be much quicker when starting the pool? Is it a misconception of mine?\r\n\r\nIt&#39;s no difference between using the remote DB nor a local PostgreSQL instance.\r\n\r\n(Edit: This is not true. I made a mistake when comparing local and remote db server. Locally, initialization is pretty much immediately, remotely it takes around 2 minutes.)\r\n\r\nEdit2: [Here][1] is a log of the connection process.\r\n\r\n\r\n  [1]: https://gist.github.com/6cba1ae8b2982cec2afa &quot;Log&quot;","title":"Initializing C3P0 connection pool takes 2 min","body":"<p>I can't wrap my head around why the initialization of a c3p0 connection pool takes 2 min in my Hibernate application.</p>\n\n<p>This is in my Hibernate.cfg.xml:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"connection.driver_class\"&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=\"connection.url\"/&gt;\n        &lt;property name=\"connection.default_schema\"/&gt;\n        &lt;property name=\"connection.username\"/&gt;\n        &lt;property name=\"connection.password\"/&gt; \n\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\n        &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;property name=\"hibernate.c3p0.acquire_increment\"&gt;1&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.min_size\"&gt;3&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.max_size\"&gt;10&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.timeout\"&gt;300&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.max_statements\"&gt;50&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.idle_test_period\"&gt;3000&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.\"&gt;&lt;/property&gt;\n\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"format_sql\"&gt;false&lt;/property&gt;\n\n        &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>The connection settings are set in my HibernateUtil file when building the session factory.</p>\n\n<p>The pool is initialize when the first transaction in my tests is openend.\nConnecting and querying the db works just fine afterwards, it only hangs on the following line for a while before it will start. I formated the output a bit as I assume the problem may be with one of the settings mentioned here.:</p>\n\n<pre><code>INFO: Initializing c3p0 pool... \ncom.mchange.v2.c3p0.PoolBackedDataSource@30670080 [\n  connectionPoolDataSource -&gt; com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@ecfec4d0 [\n    acquireIncrement -&gt; 1,\n    acquireRetryAttempts -&gt; 30,\n    acquireRetryDelay -&gt; 1000,\n    autoCommitOnClose -&gt; false,\n    automaticTestTable -&gt; null,\n    breakAfterAcquireFailure -&gt; false,\n    checkoutTimeout -&gt; 0,\n    connectionCustomizerClassName -&gt; null,\n    connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester,        \n    debugUnreturnedConnectionStackTraces -&gt; false,\n    factoryClassLocation -&gt; null,\n    forceIgnoreUnresolvedTransactions -&gt; false,\n    identityToken -&gt; I-REMOVED-THIS,\n    idleConnectionTestPeriod -&gt; 3000,\n    initialPoolSize -&gt; 3,\n    maxAdministrativeTaskTime -&gt; 0,\n    maxConnectionAge -&gt; 0,\n    maxIdleTime -&gt; 300,\n    maxIdleTimeExcessConnections -&gt; 0,\n    maxPoolSize -&gt; 10,\n    maxStatements -&gt; 50,\n    maxStatementsPerConnection -&gt; 0,\n    minPoolSize -&gt; 3,\n    nestedDataSource -&gt; com.mchange.v2.c3p0.DriverManagerDataSource@b17e5c65 [\n      description -&gt; null,\n      driverClass -&gt; null,\n      factoryClassLocation -&gt; null,\n      identityToken -&gt; I-REMOVED-THIS,\n      jdbcUrl -&gt; jdbc:postgresql://URL-TO-MY_DB,\n      properties -&gt; {user=******, password=******, default_schema=}\n    ],\n    preferredTestQuery -&gt; null,\n    propertyCycle -&gt; 0,\n    testConnectionOnCheckin -&gt; false,\n    testConnectionOnCheckout -&gt; false,\n    unreturnedConnectionTimeout -&gt; 0,\n    usesTraditionalReflectiveProxies -&gt; false;\n    userOverrides: {}\n  ],\n  dataSourceName -&gt; null,\n  factoryClassLocation -&gt; null,\n  identityToken -&gt; I-REMOVED-THIS,\n  numHelperThreads -&gt; 3\n]\n</code></pre>\n\n<p>It's the first time I'm using Hibernate and c3p0 and I was expecting it to be much quicker when starting the pool? Is it a misconception of mine?</p>\n\n<p>It's no difference between using the remote DB nor a local PostgreSQL instance.</p>\n\n<p>(Edit: This is not true. I made a mistake when comparing local and remote db server. Locally, initialization is pretty much immediately, remotely it takes around 2 minutes.)</p>\n\n<p>Edit2: <a href=\"https://gist.github.com/6cba1ae8b2982cec2afa\" rel=\"noreferrer\" title=\"Log\">Here</a> is a log of the connection process.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649900338,"post_id":71865507,"comment_id":126994506,"body_markdown":"Problem number one:  your try-with-resources block lacks a catch block. Catch the exceptions and print out the stack trace. No sense in flying blind.","body":"Problem number one:  your try-with-resources block lacks a catch block. Catch the exceptions and print out the stack trace. No sense in flying blind."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649900422,"post_id":71865507,"comment_id":126994518,"body_markdown":"Problem number two: You don&#39;t tell us anything about what output or errors you may be seeing. &quot;It doesn&#39;t work&quot; really doesn&#39;t tell us anything of use. Please [edit] and improve the question. The [ask] and [tour] links can help you with this.","body":"Problem number two: You don&#39;t tell us anything about what output or errors you may be seeing. &quot;It doesn&#39;t work&quot; really doesn&#39;t tell us anything of use. Please <a href=\"https://stackoverflow.com/posts/71865507/edit\">edit</a> and improve the question. The <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> links can help you with this."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649900480,"post_id":71865507,"comment_id":126994529,"body_markdown":"Problem number three: you read the information, split it, but then discard it. Aren&#39;t you supposed to create an array that holds ***all*** the data from the file? That would need to either be a 2D array or a single dimensional array of custom object, or better, an ArrayList of custom object.","body":"Problem number three: you read the information, split it, but then discard it. Aren&#39;t you supposed to create an array that holds <b><i>all</i></b> the data from the file? That would need to either be a 2D array or a single dimensional array of custom object, or better, an ArrayList of custom object."},{"owner":{"account_id":24931815,"reputation":13,"user_id":18798831,"display_name":"Freeman"},"score":0,"creation_date":1649900745,"post_id":71865507,"comment_id":126994569,"body_markdown":"error : incompatible types : java.lang.String [] cannot be cannot be converted to forfait []\\","body":"error : incompatible types : java.lang.String [] cannot be cannot be converted to forfait []\\"},{"owner":{"account_id":24931815,"reputation":13,"user_id":18798831,"display_name":"Freeman"},"score":0,"creation_date":1649900782,"post_id":71865507,"comment_id":126994575,"body_markdown":"i got some restriction on this code thats why i can&#39;t use ArrayList","body":"i got some restriction on this code thats why i can&#39;t use ArrayList"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649900839,"post_id":71865507,"comment_id":126994584,"body_markdown":"Ah, so you&#39;ve already got a Forfait class. I should have known by the code. Create an array of `String` from the split call, then call the Forfait&#39;s constructor and put the data in a Forfait object and put that into the Forfait array.","body":"Ah, so you&#39;ve already got a Forfait class. I should have known by the code. Create an array of <code>String</code> from the split call, then call the Forfait&#39;s constructor and put the data in a Forfait object and put that into the Forfait array."},{"owner":{"account_id":24931815,"reputation":13,"user_id":18798831,"display_name":"Freeman"},"score":0,"creation_date":1649977592,"post_id":71865507,"comment_id":127016511,"body_markdown":"hi I put the class Forfait in my question. Tried what you told me yesterday by the float prix blocked me then I tried to convert it to the token [2] to a float but its doesn&#39;t work","body":"hi I put the class Forfait in my question. Tried what you told me yesterday by the float prix blocked me then I tried to convert it to the token [2] to a float but its doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649901956,"creation_date":1649900968,"answer_id":71865592,"question_id":71865507,"body_markdown":"This:\r\n\r\n    tableauForfaits = line.split(&quot;\\\\|&quot;);\r\n\r\nwon&#39;t work because `String#split(...)` returns an array of String, and you&#39;re trying to force this into an array of a different type, a Forfait object. \r\n\r\nInstead, that line should be \r\n\r\n    String[] tokens = line.split(&quot;\\\\|&quot;);\r\n\r\nThis will hopefully split the row from the text file into individual small String tokens that can be used to help you create a single Forfait object with the tokens. How you create the object completely depends on the structure of this class (one that we are currently unable to see), but you likely need to call its constructor, using the String tokens obtained, and then put the Forfaitobject created into the tableauForfaits array, perhaps something like,\r\n\r\n`Forfait forfait = new Forfait(token[0], token[1].....);`\r\n\r\nNote that you *may* need to parse numeric token Strings to a numeric value before doing this, such as\r\n\r\n`Forfait forfait = new Forfait(Integer.parseInt(token[0]), token[1], .....);`\r\n\r\nAgain, it&#39;s impossible to say for sure, since we currently cannot see the Forfait class or the text file.\r\n\r\nYou will also need to create an int index variable before the while loop, increment it within the while loop, and use this as an index to the tableauForfaits array to help you decide which row of the array to put your newly create object into.","title":"Java Extracting values from text files and put it into a array type class Forfait","body":"<p>This:</p>\n<pre><code>tableauForfaits = line.split(&quot;\\\\|&quot;);\n</code></pre>\n<p>won't work because <code>String#split(...)</code> returns an array of String, and you're trying to force this into an array of a different type, a Forfait object.</p>\n<p>Instead, that line should be</p>\n<pre><code>String[] tokens = line.split(&quot;\\\\|&quot;);\n</code></pre>\n<p>This will hopefully split the row from the text file into individual small String tokens that can be used to help you create a single Forfait object with the tokens. How you create the object completely depends on the structure of this class (one that we are currently unable to see), but you likely need to call its constructor, using the String tokens obtained, and then put the Forfaitobject created into the tableauForfaits array, perhaps something like,</p>\n<p><code>Forfait forfait = new Forfait(token[0], token[1].....);</code></p>\n<p>Note that you <em>may</em> need to parse numeric token Strings to a numeric value before doing this, such as</p>\n<p><code>Forfait forfait = new Forfait(Integer.parseInt(token[0]), token[1], .....);</code></p>\n<p>Again, it's impossible to say for sure, since we currently cannot see the Forfait class or the text file.</p>\n<p>You will also need to create an int index variable before the while loop, increment it within the while loop, and use this as an index to the tableauForfaits array to help you decide which row of the array to put your newly create object into.</p>\n"}],"owner":{"account_id":24931815,"reputation":13,"user_id":18798831,"display_name":"Freeman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71865592,"answer_count":1,"score":1,"last_activity_date":1649977308,"creation_date":1649900104,"question_id":71865507,"body_markdown":"\\\r\nIm new in java hope y&#39;all doing great.\\\r\nSo i was trying to extract values from my text files and put into the array named tableauForfaits but i&#39;m blocked can someone help me to see where&#39;s my error because when i try to split it doesn&#39;t work. \r\n \r\n\r\nprivate static final String FIC_FORFAITS   = &quot;Forfaits.txt&quot;;\r\n\r\n    // D&#233;claration des variables\r\n    private static Forfait tableauForfaits[] = new Forfait[6];\r\n\r\n   \r\n     * Read data from different packages (id | description | price)\r\n     * in the &quot;Forfaits.txt&quot; file. The first line in this file is the\r\n     * description of other lines and it should be ignored when\r\n     * reading. The other lines of this file are each composed of the identifier,\r\n     * of the description, and the price separated from each other by a vertical bar.\r\n     * Each of these lines must be read and cut to create an object of type\r\n     * Package, and this item should be added in the package table above\r\n     * defined (see Forfaits.txt file for more details)\r\n     *\r\n\r\n    \r\n    public static void lireFichierForfaits() throws IOException,FileNotFoundException {\r\n        try (BufferedReader reader = new BufferedReader (new FileReader(FIC_FORFAITS))) {\r\n         \r\n            while (true) {\r\n                String line = reader.readLine();\r\n                if (line == null) {\r\n                    break;\r\n                }\r\n                tableauForfaits = line.split(&quot;\\\\|&quot;);\r\n                for (String part : tableauForfaits) {\r\n                    System.out.println(part);\r\n                }\r\n                System.out.println();\r\n            }\r\n            reader.close();\r\n        }\r\n    }\r\n\r\n/ The Class Forfait : \r\n \r\n    private String identifiant;\r\n    private String description;\r\n    private float prix;\r\n    \r\n    \r\n    public Forfait (String identifiant, String description, float prix) {\r\n        this.identifiant = identifiant;\r\n        this.description = description;\r\n        this.prix = prix;\r\n    }\r\n    \r\n    \r\n    public String getIdentifiant () {\r\n        return identifiant;\r\n    }\r\n    \r\n    \r\n    public void setIdentifiant (String identifiant) {\r\n        this.identifiant = identifiant;\r\n    }\r\n    \r\n    \r\n    public String getDescription () {\r\n        return description;\r\n    }\r\n    \r\n    \r\n    public void setDescription (String description) {\r\n        this.description = description;\r\n    }\r\n    \r\n   \r\n    public float getPrix () {\r\n        return prix;\r\n    }\r\n    \r\n    \r\n    public void setPrix (float prix) {\r\n        this.prix = prix;\r\n    }","title":"Java Extracting values from text files and put it into a array type class Forfait","body":"<p><br />\nIm new in java hope y'all doing great.<br />\nSo i was trying to extract values from my text files and put into the array named tableauForfaits but i'm blocked can someone help me to see where's my error because when i try to split it doesn't work.</p>\n<p>private static final String FIC_FORFAITS   = &quot;Forfaits.txt&quot;;</p>\n<pre><code>// Déclaration des variables\nprivate static Forfait tableauForfaits[] = new Forfait[6];\n\n\n * Read data from different packages (id | description | price)\n * in the &quot;Forfaits.txt&quot; file. The first line in this file is the\n * description of other lines and it should be ignored when\n * reading. The other lines of this file are each composed of the identifier,\n * of the description, and the price separated from each other by a vertical bar.\n * Each of these lines must be read and cut to create an object of type\n * Package, and this item should be added in the package table above\n * defined (see Forfaits.txt file for more details)\n *\n\n\npublic static void lireFichierForfaits() throws IOException,FileNotFoundException {\n    try (BufferedReader reader = new BufferedReader (new FileReader(FIC_FORFAITS))) {\n     \n        while (true) {\n            String line = reader.readLine();\n            if (line == null) {\n                break;\n            }\n            tableauForfaits = line.split(&quot;\\\\|&quot;);\n            for (String part : tableauForfaits) {\n                System.out.println(part);\n            }\n            System.out.println();\n        }\n        reader.close();\n    }\n}\n</code></pre>\n<p>/ The Class Forfait :</p>\n<pre><code>private String identifiant;\nprivate String description;\nprivate float prix;\n\n\npublic Forfait (String identifiant, String description, float prix) {\n    this.identifiant = identifiant;\n    this.description = description;\n    this.prix = prix;\n}\n\n\npublic String getIdentifiant () {\n    return identifiant;\n}\n\n\npublic void setIdentifiant (String identifiant) {\n    this.identifiant = identifiant;\n}\n\n\npublic String getDescription () {\n    return description;\n}\n\n\npublic void setDescription (String description) {\n    this.description = description;\n}\n\n\npublic float getPrix () {\n    return prix;\n}\n\n\npublic void setPrix (float prix) {\n    this.prix = prix;\n}\n</code></pre>\n"},{"tags":["java","soap","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":11924335,"reputation":27,"user_id":9084367,"display_name":"Andrei Gavrilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648739387,"creation_date":1648739387,"answer_id":71694986,"question_id":71692930,"body_markdown":"You can use defined bean instead: \r\n```\r\n@Configuration\r\npublic class CxfBeans {\r\n    @Value(&quot;${endpoint.wsdl}&quot;) //url will be defined in application.properties - your wsdl url address (not localhost)\r\n    private String SOAP_URL;\r\n    \r\n    @Bean(name = &quot;cxfConvertTemp&quot;)\r\n    public CxfEndpoint buildCxfEndpoint() {\r\n        CxfEndpoint cxf = new CxfEndpoint();\r\n        cxf.setAddress(SOAP_URL);\r\n//service class of your wsdl\r\n        cxf.setServiceClass(TempConverterEndpoint.class);\r\n        return cxf;\r\n    }\r\n    \r\n}\r\n```\r\nand after use it in the route: \r\n```java\r\n .to(&quot;cxf:bean:cxfConvertTemp&quot;)\r\n```","title":"Soap Request with Apache Camel","body":"<p>You can use defined bean instead:</p>\n<pre><code>@Configuration\npublic class CxfBeans {\n    @Value(&quot;${endpoint.wsdl}&quot;) //url will be defined in application.properties - your wsdl url address (not localhost)\n    private String SOAP_URL;\n    \n    @Bean(name = &quot;cxfConvertTemp&quot;)\n    public CxfEndpoint buildCxfEndpoint() {\n        CxfEndpoint cxf = new CxfEndpoint();\n        cxf.setAddress(SOAP_URL);\n//service class of your wsdl\n        cxf.setServiceClass(TempConverterEndpoint.class);\n        return cxf;\n    }\n    \n}\n</code></pre>\n<p>and after use it in the route:</p>\n<pre class=\"lang-java prettyprint-override\"><code> .to(&quot;cxf:bean:cxfConvertTemp&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11924335,"reputation":27,"user_id":9084367,"display_name":"Andrei Gavrilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648893378,"creation_date":1648893378,"answer_id":71716507,"question_id":71692930,"body_markdown":"Are you using spring? Or just a java app? Are you familiar with beans?\r\n\r\n@Value() - shall be used for injecting data from application.properties. \r\nDefine your String URL like \r\n```java\r\nString WSDL_URL = &quot;YOUR_URL&quot;.\r\n```\r\n\r\nOr just put address into your bean:\r\n```java\r\n@Configuration\r\npublic class CxfBeans {  \r\n    @Bean(name = &quot;cxfConvertTemp&quot;)\r\n    public CxfEndpoint buildCxfEndpoint() {\r\n        CxfEndpoint cxf = new CxfEndpoint();\r\n        cxf.setAddress(&quot;YOUR URL STRING&quot;);\r\n        cxf.setServiceClass(TempConverterEndpoint.class);\r\n        cxf.setWsdlURL(&quot;YOUR URL STRING&quot;);\r\n        return cxf;\r\n    }\r\n}\r\n```\r\n\r\nAlso make your route annotated with @Component. \r\n\r\n```java\r\n@Componet\r\npublic class MyRouteBuilder extends RouteBuilder {\r\n @Override\r\n    public void configure() throws Exception {\r\n     from(&quot;timer://start?repeatCount=1&quot;)\r\n    .setBody(constant(&quot;11&quot;))\r\n    .bean(NumberToWordsRequestBuilder.class)\r\n    .log(&quot;OPERATION_NAME: &quot;+CxfConstants.OPERATION_NAME)\r\n    .setHeader(CxfConstants.OPERATION_NAME, constant(&quot;NumberToWords&quot;))\r\n    .log(&quot;OPERATION_NAMESPACE: &quot;+CxfConstants.OPERATION_NAMESPACE)\r\n    .setHeader(CxfConstants.OPERATION_NAMESPACE, constant(&quot;http://www.dataaccess.com/webservicesserver/&quot;))\r\n     .to(&quot;cxf:bean:cxfConvertTemp&quot;)\r\n    //or you can use .to(&quot;cxf://someAddress[?options]&quot;)\r\n\r\n    // You can retrieve fields from the response using the Simple language\r\n    .log(&quot;The title is: ${body[0].book.title}&quot;)\r\n\r\n    .to(&quot;mock:output&quot;);            \r\n    }\r\n\r\n}\r\n```","title":"Soap Request with Apache Camel","body":"<p>Are you using spring? Or just a java app? Are you familiar with beans?</p>\n<p>@Value() - shall be used for injecting data from application.properties.\nDefine your String URL like</p>\n<pre class=\"lang-java prettyprint-override\"><code>String WSDL_URL = &quot;YOUR_URL&quot;.\n</code></pre>\n<p>Or just put address into your bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CxfBeans {  \n    @Bean(name = &quot;cxfConvertTemp&quot;)\n    public CxfEndpoint buildCxfEndpoint() {\n        CxfEndpoint cxf = new CxfEndpoint();\n        cxf.setAddress(&quot;YOUR URL STRING&quot;);\n        cxf.setServiceClass(TempConverterEndpoint.class);\n        cxf.setWsdlURL(&quot;YOUR URL STRING&quot;);\n        return cxf;\n    }\n}\n</code></pre>\n<p>Also make your route annotated with @Component.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Componet\npublic class MyRouteBuilder extends RouteBuilder {\n @Override\n    public void configure() throws Exception {\n     from(&quot;timer://start?repeatCount=1&quot;)\n    .setBody(constant(&quot;11&quot;))\n    .bean(NumberToWordsRequestBuilder.class)\n    .log(&quot;OPERATION_NAME: &quot;+CxfConstants.OPERATION_NAME)\n    .setHeader(CxfConstants.OPERATION_NAME, constant(&quot;NumberToWords&quot;))\n    .log(&quot;OPERATION_NAMESPACE: &quot;+CxfConstants.OPERATION_NAMESPACE)\n    .setHeader(CxfConstants.OPERATION_NAMESPACE, constant(&quot;http://www.dataaccess.com/webservicesserver/&quot;))\n     .to(&quot;cxf:bean:cxfConvertTemp&quot;)\n    //or you can use .to(&quot;cxf://someAddress[?options]&quot;)\n\n    // You can retrieve fields from the response using the Simple language\n    .log(&quot;The title is: ${body[0].book.title}&quot;)\n\n    .to(&quot;mock:output&quot;);            \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8566920,"reputation":159,"user_id":6419129,"accept_rate":14,"display_name":"Jt1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649976062,"creation_date":1648731592,"question_id":71692930,"body_markdown":"i have a wsdl file hosted on a site (which i can&#39;t share), and i want to invoke a soap request through apache-camel framework.\r\nI created a maven project, and used the component apache-cxf to compile the .wsdl file and i got all the .java files.\r\nNow i defined a CamelContext and a RouteBuilder to send request, but i am not sure if i understand the flow.\r\n\r\nThis is my CamelContext:\r\n\r\n    /**\r\n     * A Camel Application\r\n     */\r\n    public class MainApp {\r\n    \r\n    \tprivate static final long DURATION_MILIS = 1000;\r\n    \t/**\r\n    \t * A main() so we can easily run these routing rules in our IDE\r\n    \t */\r\n    \tpublic static void main(String... args) throws Exception {\r\n    \t\tCamelContext camelContext = new DefaultCamelContext();\r\n    \t\tcamelContext.addRoutes(new MyRouteBuilder());\r\n    \t\tSystem.out.println(&quot;================== STARTING ==================&quot;);\r\n    \t\tcamelContext.start();\r\n    \t\tThread.sleep(DURATION_MILIS);\r\n    \t\tSystem.out.println(&quot;================== CLOSING ==================&quot;);\r\n    \t\tcamelContext.stop();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThis is my RouteBuilder:\r\n\r\n        import org.apache.camel.builder.RouteBuilder;\r\n        import org.apache.camel.component.cxf.common.message.CxfConstants;\r\n        import org.springframework.stereotype.Component;\r\n        \r\n        @Component\r\n        public class MyRouteBuilder extends RouteBuilder {\r\n         @Override\r\n            public void configure() throws Exception {\r\n             from(&quot;timer://start?repeatCount=1&quot;)\r\n            .setBody(constant(&quot;11&quot;))\r\n            .bean(NumberToWordsRequestBuilder.class)\r\n            .log(&quot;OPERATION_NAME: &quot;+CxfConstants.OPERATION_NAME)\r\n            .setHeader(CxfConstants.OPERATION_NAME, constant(&quot;NumberToWords&quot;))\r\n            .log(&quot;OPERATION_NAMESPACE: &quot;+CxfConstants.OPERATION_NAMESPACE)\r\n            .setHeader(CxfConstants.OPERATION_NAMESPACE, constant(&quot;http://www.dataaccess.com/webservicesserver/&quot;))\r\n             .to(&quot;cxf:bean:cxfConvertTemp&quot;)\r\n            //or you can use .to(&quot;cxf://someAddress[?options]&quot;)\r\n        \r\n            // You can retrieve fields from the response using the Simple language\r\n            .log(&quot;The title is: ${body[0].book.title}&quot;)\r\n        \r\n            .to(&quot;mock:output&quot;);\r\n            \r\n            }\r\n       }\r\n\r\nMy CxfEndpoint class:\r\n\r\n    import org.apache.camel.component.cxf.CxfEndpoint;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import com.apache.test.NumberConversion.NumberConversionSoapType;\r\n    \r\n    @Configuration\r\n    public class CxfBeans {  \r\n        @Bean(name = &quot;cxfConvertTemp&quot;)\r\n        public CxfEndpoint buildCxfEndpoint() {\r\n            CxfEndpoint cxf = new CxfEndpoint();\r\n            cxf.setAddress(&quot;https://www.dataaccess.com/webservicesserver/NumberConversion.wso&quot;);\r\n            cxf.setServiceClass(NumberConversionSoapType.class);\r\n            cxf.setWsdlURL(&quot;https://www.dataaccess.com/webservicesserver/NumberConversion.wso?WSDL&quot;);\r\n            return cxf;\r\n        }\r\n    }\r\n\r\nWhat i am not understanding, is that the .wsdl is hosted on a site but all the tutorial use as cxf-endpoint localhost.\r\nCan someone help me? Thank you.\r\n\r\n\r\n","title":"Soap Request with Apache Camel","body":"<p>i have a wsdl file hosted on a site (which i can't share), and i want to invoke a soap request through apache-camel framework.\nI created a maven project, and used the component apache-cxf to compile the .wsdl file and i got all the .java files.\nNow i defined a CamelContext and a RouteBuilder to send request, but i am not sure if i understand the flow.</p>\n<p>This is my CamelContext:</p>\n<pre><code>/**\n * A Camel Application\n */\npublic class MainApp {\n\n    private static final long DURATION_MILIS = 1000;\n    /**\n     * A main() so we can easily run these routing rules in our IDE\n     */\n    public static void main(String... args) throws Exception {\n        CamelContext camelContext = new DefaultCamelContext();\n        camelContext.addRoutes(new MyRouteBuilder());\n        System.out.println(&quot;================== STARTING ==================&quot;);\n        camelContext.start();\n        Thread.sleep(DURATION_MILIS);\n        System.out.println(&quot;================== CLOSING ==================&quot;);\n        camelContext.stop();\n    }\n\n}\n</code></pre>\n<p>This is my RouteBuilder:</p>\n<pre><code>    import org.apache.camel.builder.RouteBuilder;\n    import org.apache.camel.component.cxf.common.message.CxfConstants;\n    import org.springframework.stereotype.Component;\n    \n    @Component\n    public class MyRouteBuilder extends RouteBuilder {\n     @Override\n        public void configure() throws Exception {\n         from(&quot;timer://start?repeatCount=1&quot;)\n        .setBody(constant(&quot;11&quot;))\n        .bean(NumberToWordsRequestBuilder.class)\n        .log(&quot;OPERATION_NAME: &quot;+CxfConstants.OPERATION_NAME)\n        .setHeader(CxfConstants.OPERATION_NAME, constant(&quot;NumberToWords&quot;))\n        .log(&quot;OPERATION_NAMESPACE: &quot;+CxfConstants.OPERATION_NAMESPACE)\n        .setHeader(CxfConstants.OPERATION_NAMESPACE, constant(&quot;http://www.dataaccess.com/webservicesserver/&quot;))\n         .to(&quot;cxf:bean:cxfConvertTemp&quot;)\n        //or you can use .to(&quot;cxf://someAddress[?options]&quot;)\n    \n        // You can retrieve fields from the response using the Simple language\n        .log(&quot;The title is: ${body[0].book.title}&quot;)\n    \n        .to(&quot;mock:output&quot;);\n        \n        }\n   }\n</code></pre>\n<p>My CxfEndpoint class:</p>\n<pre><code>import org.apache.camel.component.cxf.CxfEndpoint;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.apache.test.NumberConversion.NumberConversionSoapType;\n\n@Configuration\npublic class CxfBeans {  \n    @Bean(name = &quot;cxfConvertTemp&quot;)\n    public CxfEndpoint buildCxfEndpoint() {\n        CxfEndpoint cxf = new CxfEndpoint();\n        cxf.setAddress(&quot;https://www.dataaccess.com/webservicesserver/NumberConversion.wso&quot;);\n        cxf.setServiceClass(NumberConversionSoapType.class);\n        cxf.setWsdlURL(&quot;https://www.dataaccess.com/webservicesserver/NumberConversion.wso?WSDL&quot;);\n        return cxf;\n    }\n}\n</code></pre>\n<p>What i am not understanding, is that the .wsdl is hosted on a site but all the tutorial use as cxf-endpoint localhost.\nCan someone help me? Thank you.</p>\n"},{"tags":["java","javascript","actionscript-3","geolocation","latitude-longitude"],"comments":[{"owner":{"account_id":473127,"reputation":23114,"user_id":882051,"accept_rate":70,"display_name":"hmakholm left over Monica"},"score":2,"creation_date":1313018711,"post_id":7019101,"comment_id":8382991,"body_markdown":"You need to know which map projection the computation must work for. The example computation in your question will _not_ work for a Mercator map; it assumes an [equirectangular projection](http://en.wikipedia.org/wiki/Equirectangular_projection).","body":"You need to know which map projection the computation must work for. The example computation in your question will <i>not</i> work for a Mercator map; it assumes an <a href=\"http://en.wikipedia.org/wiki/Equirectangular_projection\" rel=\"nofollow noreferrer\">equirectangular projection</a>."},{"owner":{"account_id":32036,"reputation":5505,"user_id":88404,"display_name":"Tyler Egeto"},"score":0,"creation_date":1313018917,"post_id":7019101,"comment_id":8383025,"body_markdown":"I&#39;m open to any 2D projection, equirectangular will meet my needs perfectly. I&#39;m not visualizing the result, so I&#39;m not tied to a specific projection.","body":"I&#39;m open to any 2D projection, equirectangular will meet my needs perfectly. I&#39;m not visualizing the result, so I&#39;m not tied to a specific projection."},{"owner":{"account_id":473127,"reputation":23114,"user_id":882051,"accept_rate":70,"display_name":"hmakholm left over Monica"},"score":0,"creation_date":1313019110,"post_id":7019101,"comment_id":8383077,"body_markdown":"If you are not displaying anything, then what on earth (!) are you using pixels for in the first place?","body":"If you are not displaying anything, then what on earth (!) are you using pixels for in the first place?"},{"owner":{"account_id":32036,"reputation":5505,"user_id":88404,"display_name":"Tyler Egeto"},"score":0,"creation_date":1313019675,"post_id":7019101,"comment_id":8383194,"body_markdown":"Doing some server side stuff that needs to translate lat/lng to a 2D plane, it eventually gets converted back to lat/lng before it gets visualized client side. Pixels is not a very accurate word for the problem, but helped me to express what I needed.","body":"Doing some server side stuff that needs to translate lat/lng to a 2D plane, it eventually gets converted back to lat/lng before it gets visualized client side. Pixels is not a very accurate word for the problem, but helped me to express what I needed."},{"owner":{"account_id":473127,"reputation":23114,"user_id":882051,"accept_rate":70,"display_name":"hmakholm left over Monica"},"score":0,"creation_date":1313020060,"post_id":7019101,"comment_id":8383267,"body_markdown":"But (latitude,longitude) _already_ constitutes 2D coordinates. You can call it &quot;pixels&quot; in your head (x=longitude, y=latitude) without changing them in any way, if that will help you visualize a computation.","body":"But (latitude,longitude) <i>already</i> constitutes 2D coordinates. You can call it &quot;pixels&quot; in your head (x=longitude, y=latitude) without changing them in any way, if that will help you visualize a computation."},{"owner":{"account_id":32036,"reputation":5505,"user_id":88404,"display_name":"Tyler Egeto"},"score":0,"creation_date":1313020822,"post_id":7019101,"comment_id":8383409,"body_markdown":"I needed to work with whole numbers for my particular solution. I don&#39;t doubt there are ways of accomplishing my goal without the conversion, (they&#39;re probably better), but that&#39;s the one I came up with.","body":"I needed to work with whole numbers for my particular solution. I don&#39;t doubt there are ways of accomplishing my goal without the conversion, (they&#39;re probably better), but that&#39;s the one I came up with."},{"owner":{"account_id":13230729,"reputation":776,"user_id":9554434,"display_name":"Michael T"},"score":0,"creation_date":1602667283,"post_id":7019101,"comment_id":113790440,"body_markdown":"What unit is MAP_HEIGHT?","body":"What unit is MAP_HEIGHT?"}],"answers":[{"tags":[],"owner":{"account_id":471480,"reputation":165,"user_id":879310,"display_name":"Markcf"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1313022247,"creation_date":1313018733,"answer_id":7019152,"question_id":7019101,"body_markdown":"    var y = Math.round(((-1 * lat) + 90) * (this.MAP_HEIGHT / 180));\r\n    var x = Math.round((lng + 180) * (this.MAP_WIDTH / 360));\r\n\r\nUse some algebra and I came out with:\r\n\r\n    var lat=(y/(this.MAP_HEIGHT/180)-90)/-1\r\n    var lng = x/(this.MAP_WIDTH/360)-180\r\n\r\nNot completely confident in that math since it was done in my head, but those should work, just make sure to test them first.\r\n\r\n","title":"Convert pixel location to latitude/longitude &amp; vise versa","body":"<pre><code>var y = Math.round(((-1 * lat) + 90) * (this.MAP_HEIGHT / 180));\nvar x = Math.round((lng + 180) * (this.MAP_WIDTH / 360));\n</code></pre>\n\n<p>Use some algebra and I came out with:</p>\n\n<pre><code>var lat=(y/(this.MAP_HEIGHT/180)-90)/-1\nvar lng = x/(this.MAP_WIDTH/360)-180\n</code></pre>\n\n<p>Not completely confident in that math since it was done in my head, but those should work, just make sure to test them first.</p>\n"}],"owner":{"account_id":32036,"reputation":5505,"user_id":88404,"display_name":"Tyler Egeto"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14707,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7019152,"answer_count":1,"score":10,"last_activity_date":1649975159,"creation_date":1313018376,"question_id":7019101,"body_markdown":"I need to convert latitude longitude values into pixel positions as well as do the opposite. I&#39;ve found many solutions to go from lat/lng-&gt;pixel, but can&#39;t find anything on the reverse.\r\n\r\nA couple of notes:\r\n\r\n - The map is a fixed size, no zooming, no tiles.\r\n - I don&#39;t need anything super accurate, its not important.\r\n - Preferably mercator projection, but not required. I&#39;m not actually display the result. (Any 2D projection)\r\n - I can&#39;t rely on any web based API&#39;s, ie: no Google Maps\r\n\r\nA solution in almost any programming language would be fine, as long as it doesn&#39;t rely on any platform specific APIs.\r\n\r\nThis is an example of going from lat/lng-&gt;pixel:\r\n\r\n    var y = Math.round(((-1 * lat) + 90) * (this.MAP_HEIGHT / 180));\r\n    var x = Math.round((lng + 180) * (this.MAP_WIDTH / 360));","title":"Convert pixel location to latitude/longitude &amp; vise versa","body":"<p>I need to convert latitude longitude values into pixel positions as well as do the opposite. I've found many solutions to go from lat/lng->pixel, but can't find anything on the reverse.</p>\n\n<p>A couple of notes:</p>\n\n<ul>\n<li>The map is a fixed size, no zooming, no tiles.</li>\n<li>I don't need anything super accurate, its not important.</li>\n<li>Preferably mercator projection, but not required. I'm not actually display the result. (Any 2D projection)</li>\n<li>I can't rely on any web based API's, ie: no Google Maps</li>\n</ul>\n\n<p>A solution in almost any programming language would be fine, as long as it doesn't rely on any platform specific APIs.</p>\n\n<p>This is an example of going from lat/lng->pixel:</p>\n\n<pre><code>var y = Math.round(((-1 * lat) + 90) * (this.MAP_HEIGHT / 180));\nvar x = Math.round((lng + 180) * (this.MAP_WIDTH / 360));\n</code></pre>\n"},{"tags":["java","algorithm","matrix"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1649972090,"post_id":71877748,"comment_id":127015417,"body_markdown":"Example 3 has both rows 1 and 2 using column 3, but your text says the a row&#39;s column must be *less* than (not less than of equal to) the next row&#39;s column. Please explain.","body":"Example 3 has both rows 1 and 2 using column 3, but your text says the a row&#39;s column must be <i>less</i> than (not less than of equal to) the next row&#39;s column. Please explain."}],"answers":[{"tags":[],"owner":{"account_id":12226611,"reputation":329,"user_id":8923995,"display_name":"pasthec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649972283,"creation_date":1649972283,"answer_id":71877894,"question_id":71877748,"body_markdown":"This can be done using a dynamic programming approach and quadratic time in the number of coefficients if you want to have the number of answers or in the size of answers if you want to list them.\r\n\r\nThe observation is the following : a combination assigning 1 at row `i` and column `j` is one assigning 1 at row `i-1` and column `k` for some `k&lt;=j`.\r\n\r\nSo you can store the answer for each `i` and `j` and iteratively build it with two for loops (increasing `i` and `j`).","title":"How to traverse a 2D matrix of binary values and get all possible combinations of row and column mappings","body":"<p>This can be done using a dynamic programming approach and quadratic time in the number of coefficients if you want to have the number of answers or in the size of answers if you want to list them.</p>\n<p>The observation is the following : a combination assigning 1 at row <code>i</code> and column <code>j</code> is one assigning 1 at row <code>i-1</code> and column <code>k</code> for some <code>k&lt;=j</code>.</p>\n<p>So you can store the answer for each <code>i</code> and <code>j</code> and iteratively build it with two for loops (increasing <code>i</code> and <code>j</code>).</p>\n"}],"owner":{"account_id":17548643,"reputation":47,"user_id":12729446,"display_name":"jam_swagger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649973901,"creation_date":1649971292,"question_id":71877748,"body_markdown":"I have a matrix of 1&#39;s and 0&#39;s and I would like to find all combinations of placing in 1 in a column and row.\r\n\r\nThe constraints for the matrix are that each row needs a 1, and the index row[i]&#39;s 1 position needs to be less than the index of row[i+1]&#39;s position, so in other words, it forms a somewhat left triangular matrix.\r\n\r\nFor example:\r\n\r\nI have the matrix:\r\n```\r\n[\r\n[1 0 0 0 0],\r\n[0 0 1 1 0],\r\n[0 0 0 1 1],\r\n]\r\n\r\n```\r\nI would like to be able to find all of these combinations:\r\n\r\n1. Assign 1 to row 0 and column 0, assign 1 to row 1, column 2 and assign 1 to row 2, column 3.\r\n1. Assign 1 to row 0 and column 0, assign 1 to row 1, column 2 and assign 1 to row 2, column 4\r\n1. Assign 1 to row 0 and column 0, assign 1 to row 1, column 3 and assign 1 to row 2, column 4\r\n\r\nEssentially what I&#39;m aiming for is a way to find all permutations of the matrix having a 1 that spans a row and column. Is it possible? I can&#39;t seem to wrap my head around how it could be done with for loops or recursion. I think a recursive strategy will probably be needed but I can&#39;t for the life of me think about how it would be implemented - any advice would be greatly appreciated!\r\n\r\n","title":"How to traverse a 2D matrix of binary values and get all possible combinations of row and column mappings","body":"<p>I have a matrix of 1's and 0's and I would like to find all combinations of placing in 1 in a column and row.</p>\n<p>The constraints for the matrix are that each row needs a 1, and the index row[i]'s 1 position needs to be less than the index of row[i+1]'s position, so in other words, it forms a somewhat left triangular matrix.</p>\n<p>For example:</p>\n<p>I have the matrix:</p>\n<pre><code>[\n[1 0 0 0 0],\n[0 0 1 1 0],\n[0 0 0 1 1],\n]\n\n</code></pre>\n<p>I would like to be able to find all of these combinations:</p>\n<ol>\n<li>Assign 1 to row 0 and column 0, assign 1 to row 1, column 2 and assign 1 to row 2, column 3.</li>\n<li>Assign 1 to row 0 and column 0, assign 1 to row 1, column 2 and assign 1 to row 2, column 4</li>\n<li>Assign 1 to row 0 and column 0, assign 1 to row 1, column 3 and assign 1 to row 2, column 4</li>\n</ol>\n<p>Essentially what I'm aiming for is a way to find all permutations of the matrix having a 1 that spans a row and column. Is it possible? I can't seem to wrap my head around how it could be done with for loops or recursion. I think a recursive strategy will probably be needed but I can't for the life of me think about how it would be implemented - any advice would be greatly appreciated!</p>\n"},{"tags":["java","android","sqlite","android-sqlite","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649953201,"creation_date":1649952792,"answer_id":71874660,"question_id":71874399,"body_markdown":"&gt; How do I return a cursor based on the position of entry\r\n\r\nFirst, your method `getRowCursor()` should return a `Cursor`.&lt;br/&gt;\r\nAlso, you should not close the returned cursor because I assume that you want to use its results somehow.&lt;br/&gt;\r\n\r\nYour code with the method `rawQuery()` should work like this:\r\n\r\n    public Cursor getRowCursor(int position) {\r\n        SQLiteDatabase database = getWritableDatabase();\r\n        String sql = &quot;SELECT * FROM &quot; + TABLE_NAME + &quot; WHERE ID = &quot; + String.valueOf(position);\r\n        Cursor cursor = database.rawQuery(sql, null);\r\n        // cursor.moveToFirst();\r\n        return cursor;\r\n    }\r\n\r\n\r\nBut, the safe and recommended way to pass parameters to a query is with `?` placeholders instead of concatenating them inside the sql statement and passing them as array items in the 2nd argument of `rawQuery()`:\r\n\r\n    public Cursor getRowCursor(int position) {\r\n        SQLiteDatabase database = getWritableDatabase();\r\n        String sql = &quot;SELECT * FROM &quot; + TABLE_NAME + &quot; WHERE ID = ?&quot;;\r\n        Cursor cursor = database.rawQuery(sql, new String[] {String.valueOf(position)});\r\n        // cursor.moveToFirst();\r\n        return cursor;\r\n    }\r\n\r\nNote that `moveToFirst()` moves the cursor&#39;s index at the 1st row of the cursor (if it exists).&lt;br/&gt;\r\nI commented out this call, because you should use it after you call `getRowCursor()` like this:\r\n\r\n    Cursor cursor = getRowCursor(10); // or any other ID\r\n    if (cursor.moveToFirst()) {  // the cursor contains at least 1 row\r\n        ....\r\n    } else {  // the cursor is empty\r\n        ....\r\n    }\r\nand when you are done with the cursor:\r\n\r\n    cursor.close();","title":"How to get row cursor with primary key android","body":"<blockquote>\n<p>How do I return a cursor based on the position of entry</p>\n</blockquote>\n<p>First, your method <code>getRowCursor()</code> should return a <code>Cursor</code>.<br/>\nAlso, you should not close the returned cursor because I assume that you want to use its results somehow.<br/></p>\n<p>Your code with the method <code>rawQuery()</code> should work like this:</p>\n<pre><code>public Cursor getRowCursor(int position) {\n    SQLiteDatabase database = getWritableDatabase();\n    String sql = &quot;SELECT * FROM &quot; + TABLE_NAME + &quot; WHERE ID = &quot; + String.valueOf(position);\n    Cursor cursor = database.rawQuery(sql, null);\n    // cursor.moveToFirst();\n    return cursor;\n}\n</code></pre>\n<p>But, the safe and recommended way to pass parameters to a query is with <code>?</code> placeholders instead of concatenating them inside the sql statement and passing them as array items in the 2nd argument of <code>rawQuery()</code>:</p>\n<pre><code>public Cursor getRowCursor(int position) {\n    SQLiteDatabase database = getWritableDatabase();\n    String sql = &quot;SELECT * FROM &quot; + TABLE_NAME + &quot; WHERE ID = ?&quot;;\n    Cursor cursor = database.rawQuery(sql, new String[] {String.valueOf(position)});\n    // cursor.moveToFirst();\n    return cursor;\n}\n</code></pre>\n<p>Note that <code>moveToFirst()</code> moves the cursor's index at the 1st row of the cursor (if it exists).<br/>\nI commented out this call, because you should use it after you call <code>getRowCursor()</code> like this:</p>\n<pre><code>Cursor cursor = getRowCursor(10); // or any other ID\nif (cursor.moveToFirst()) {  // the cursor contains at least 1 row\n    ....\n} else {  // the cursor is empty\n    ....\n}\n</code></pre>\n<p>and when you are done with the cursor:</p>\n<pre><code>cursor.close();\n</code></pre>\n"}],"owner":{"account_id":14237857,"reputation":419,"user_id":10285173,"display_name":"Bret Joseph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71874660,"answer_count":1,"score":1,"last_activity_date":1649972306,"creation_date":1649951519,"question_id":71874399,"body_markdown":"I have a table with the following\r\n```\r\n@Override\r\npublic void onCreate(SQLiteDatabase database) {\r\n    database.execSQL( &quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (&quot; + &quot;ID&quot; + &quot; INTEGER PRIMARY KEY,&quot; +\r\n        COLUMN_TOPIC + &quot; TEXT,&quot; + COLUMN_LOCATION + &quot; TEXT)&quot;);\r\n}\r\n```\r\n\r\nI am trying to get all the data at a given rowid\r\n\r\n```\r\npublic void getRowCursor(int position){\r\n    SQLiteDatabase database = getWritableDatabase();\r\n    \r\n    Cursor cursor = database.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME + &quot; WHERE &quot; +\r\n                &quot;ID&quot; + &quot;=&quot; + String.valueOf(position), null);\r\n    cursor.moveToFirst();\r\n    cursor.close\r\n    //or\r\n    \r\n    Cursor cursor = database.query(TABLE_NAME, null, &quot;ID&quot;, new String[]{\r\n        String.valueOf(position)},  null, null, null, null );\r\n    cursor.moveToFirst();\r\n    cursor.close\r\n    database.close\r\n}\r\n```\r\n\r\nI get an error\r\n```\r\njava.lang.IllegalArgumentException: Cannot bind argument at index 1 because the index is out of range.  The statement has 0 parameters.\r\n```\r\n\r\nI did populate the table. How do I return a cursor based on the position of entry.","title":"How to get row cursor with primary key android","body":"<p>I have a table with the following</p>\n<pre><code>@Override\npublic void onCreate(SQLiteDatabase database) {\n    database.execSQL( &quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (&quot; + &quot;ID&quot; + &quot; INTEGER PRIMARY KEY,&quot; +\n        COLUMN_TOPIC + &quot; TEXT,&quot; + COLUMN_LOCATION + &quot; TEXT)&quot;);\n}\n</code></pre>\n<p>I am trying to get all the data at a given rowid</p>\n<pre><code>public void getRowCursor(int position){\n    SQLiteDatabase database = getWritableDatabase();\n    \n    Cursor cursor = database.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME + &quot; WHERE &quot; +\n                &quot;ID&quot; + &quot;=&quot; + String.valueOf(position), null);\n    cursor.moveToFirst();\n    cursor.close\n    //or\n    \n    Cursor cursor = database.query(TABLE_NAME, null, &quot;ID&quot;, new String[]{\n        String.valueOf(position)},  null, null, null, null );\n    cursor.moveToFirst();\n    cursor.close\n    database.close\n}\n</code></pre>\n<p>I get an error</p>\n<pre><code>java.lang.IllegalArgumentException: Cannot bind argument at index 1 because the index is out of range.  The statement has 0 parameters.\n</code></pre>\n<p>I did populate the table. How do I return a cursor based on the position of entry.</p>\n"},{"tags":["java","sql-server","string","string-comparison"],"comments":[{"owner":{"account_id":9936681,"reputation":1505,"user_id":7354796,"display_name":"OwlsSleeping"},"score":0,"creation_date":1649970295,"post_id":71877462,"comment_id":127014993,"body_markdown":"Maybe whitespace characters? Try auth.toString().Length","body":"Maybe whitespace characters? Try auth.toString().Length"},{"owner":{"account_id":9129232,"reputation":23,"user_id":8710905,"display_name":"ZolloKaptain"},"score":0,"creation_date":1649970616,"post_id":71877462,"comment_id":127015077,"body_markdown":"Good tip, I just found it out as you commented. But, doing that would have revealed the issue as well.","body":"Good tip, I just found it out as you commented. But, doing that would have revealed the issue as well."}],"answers":[{"tags":[],"owner":{"account_id":9129232,"reputation":23,"user_id":8710905,"display_name":"ZolloKaptain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649970577,"creation_date":1649970577,"answer_id":71877649,"question_id":71877462,"body_markdown":"Found out why this was occurring. The Azure server database appended spaces to the end of the strings that I wasn&#39;t initially aware of.","title":"String obtained from ResultSet does not match normally defined String of the same content","body":"<p>Found out why this was occurring. The Azure server database appended spaces to the end of the strings that I wasn't initially aware of.</p>\n"}],"owner":{"account_id":9129232,"reputation":23,"user_id":8710905,"display_name":"ZolloKaptain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1649971372,"creation_date":1649969338,"question_id":71877462,"body_markdown":"I have a simulation for a hospital management system. Accompanying that is an Azure SQL server to store log information and the user access levels within the system (referred to as variable `access` in the `authorize()` method.) \r\n\r\nI connect to the database server, use a prepared statement to find a specific record in my employee table, and retrieve a specific column which, in this specific instance, is a string containing `Doctor`.\r\n\r\nIn my `main()` method I save the return statement of the `authorize` function as `String auth`, which I use to compare to another string `Doctor` in an `if` statement. I even have the system print what is contained in `auth`, which always returns `&quot;Doctor&quot;`. Yet the if statement is never executed. \r\n\r\nHow can I resolve this?\r\n\r\n\r\n    public static void main(String args[]) throws SQLException\r\n    {   \r\n        connect();\r\n        String auth = (authorize(1083, &quot;pass&quot;));\r\n        System.out.println(&quot;The authentication string is: &quot; + auth);\r\n        System.out.println(&quot;\\nTesting to see if authentication String matches: Doctor&quot;);\r\n        if(auth.toString().equals(&quot;Doctor&quot;))\r\n        {\r\n            System.out.println(&quot;Authentication string matches!&quot;);\r\n        }\r\n        else System.out.println(&quot;Authenication String does not match!&quot;);\r\n        close();\r\n    } \r\n\r\n    public static void connect()\r\n    {\r\n        //buffer.connect();\r\n        try \r\n        {\r\n            String server = &quot;jdbc:sqlserver://hospital-mangement.database.windows.net:1433;database=Hospital-Mangement;user=********;password=********;encrypt=true;hostNameInCertificate=*.database.windows.net;loginTimeout=30;&quot;;\r\n            con = DriverManager.getConnection(server);\r\n            if (con != null) {\r\n                System.out.println(&quot;Database connection is successful!&quot;);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            error = e.toString();\r\n        }\r\n    }\r\n\r\n    public static String authorize(int ID, String pass) throws SQLException\r\n    {\r\n        //connect();\r\n        ResultSet user = null;\r\n        String access = null;\r\n        try\r\n        {\r\n            PreparedStatement stmt = con.prepareStatement(&quot;SELECT * FROM Employee WHERE ID = ? AND Password = ?&quot;);\r\n            \r\n            stmt.setInt(1, ID);\r\n            stmt.setString(2, pass);\r\n            user = stmt.executeQuery();\r\n            user.next();\r\n            access = user.getString(&quot;Access_Level&quot;);\r\n            return access;\r\n            \r\n\r\n        } catch (Exception e) {\r\n            error = e.toString();\r\n        }\r\n\r\n        //close();\r\n\r\n        return null;  \r\n    }\r\n\r\n\r\nOutput that I get: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g9gux.png","title":"String obtained from ResultSet does not match normally defined String of the same content","body":"<p>I have a simulation for a hospital management system. Accompanying that is an Azure SQL server to store log information and the user access levels within the system (referred to as variable <code>access</code> in the <code>authorize()</code> method.)</p>\n<p>I connect to the database server, use a prepared statement to find a specific record in my employee table, and retrieve a specific column which, in this specific instance, is a string containing <code>Doctor</code>.</p>\n<p>In my <code>main()</code> method I save the return statement of the <code>authorize</code> function as <code>String auth</code>, which I use to compare to another string <code>Doctor</code> in an <code>if</code> statement. I even have the system print what is contained in <code>auth</code>, which always returns <code>&quot;Doctor&quot;</code>. Yet the if statement is never executed.</p>\n<p>How can I resolve this?</p>\n<pre><code>public static void main(String args[]) throws SQLException\n{   \n    connect();\n    String auth = (authorize(1083, &quot;pass&quot;));\n    System.out.println(&quot;The authentication string is: &quot; + auth);\n    System.out.println(&quot;\\nTesting to see if authentication String matches: Doctor&quot;);\n    if(auth.toString().equals(&quot;Doctor&quot;))\n    {\n        System.out.println(&quot;Authentication string matches!&quot;);\n    }\n    else System.out.println(&quot;Authenication String does not match!&quot;);\n    close();\n} \n\npublic static void connect()\n{\n    //buffer.connect();\n    try \n    {\n        String server = &quot;jdbc:sqlserver://hospital-mangement.database.windows.net:1433;database=Hospital-Mangement;user=********;password=********;encrypt=true;hostNameInCertificate=*.database.windows.net;loginTimeout=30;&quot;;\n        con = DriverManager.getConnection(server);\n        if (con != null) {\n            System.out.println(&quot;Database connection is successful!&quot;);\n        }\n\n    } catch (Exception e) {\n        error = e.toString();\n    }\n}\n\npublic static String authorize(int ID, String pass) throws SQLException\n{\n    //connect();\n    ResultSet user = null;\n    String access = null;\n    try\n    {\n        PreparedStatement stmt = con.prepareStatement(&quot;SELECT * FROM Employee WHERE ID = ? AND Password = ?&quot;);\n        \n        stmt.setInt(1, ID);\n        stmt.setString(2, pass);\n        user = stmt.executeQuery();\n        user.next();\n        access = user.getString(&quot;Access_Level&quot;);\n        return access;\n        \n\n    } catch (Exception e) {\n        error = e.toString();\n    }\n\n    //close();\n\n    return null;  \n}\n</code></pre>\n<p>Output that I get:</p>\n<p><a href=\"https://i.stack.imgur.com/g9gux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g9gux.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","reactjs","post","axios"],"answers":[{"tags":[],"owner":{"account_id":17089777,"reputation":108,"user_id":12366211,"display_name":"eliyahu levi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649971087,"creation_date":1649970787,"answer_id":71877675,"question_id":71877404,"body_markdown":"in the first image you are using GET request,\r\n\r\nand in your code you are using POST request \r\n\r\nthere is a differences between those two requests.\r\nthis is why the server telling you it can&#39;t handle it in your code but, when you using it in the url it works fine.\r\n\r\n \r\n\r\n\r\n\r\n\r\nchange it to \r\n```\r\n&gt; axios.get(&quot;http://localhost:8000/iris/classify/class?petalLength=1&amp;petalWidth=1&amp;sepalLength=1&amp;sepalWidth=3.1&quot;)\r\n&gt;       .then((res) =&gt; {\r\n&gt;         const data = res.data.data\r\n&gt;         console.log(data)\r\n&gt;         const msg = `Prediction: ${data}`\r\n&gt;         alert(msg)\r\n&gt;         reset()\r\n&gt;       })\r\n&gt;       .catch((error) =&gt; alert(`Error: ${error.message}`))   }\r\n```\r\n\r\ngood luck (:\r\n\r\nBy the way, your website looks nice (:","title":"AXIOS POST Response Fetch","body":"<p>in the first image you are using GET request,</p>\n<p>and in your code you are using POST request</p>\n<p>there is a differences between those two requests.\nthis is why the server telling you it can't handle it in your code but, when you using it in the url it works fine.</p>\n<p>change it to</p>\n<pre><code>&gt; axios.get(&quot;http://localhost:8000/iris/classify/class?petalLength=1&amp;petalWidth=1&amp;sepalLength=1&amp;sepalWidth=3.1&quot;)\n&gt;       .then((res) =&gt; {\n&gt;         const data = res.data.data\n&gt;         console.log(data)\n&gt;         const msg = `Prediction: ${data}`\n&gt;         alert(msg)\n&gt;         reset()\n&gt;       })\n&gt;       .catch((error) =&gt; alert(`Error: ${error.message}`))   }\n</code></pre>\n<p>good luck (:</p>\n<p>By the way, your website looks nice (:</p>\n"}],"owner":{"account_id":15266289,"reputation":617,"user_id":11014826,"display_name":"CFD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71877675,"answer_count":1,"score":0,"last_activity_date":1649971087,"creation_date":1649968962,"question_id":71877404,"body_markdown":"I have a React ui which is supposed to communicate with the backend and fetch data.\r\nBackend works well and here is its response to my request:\r\n[![enter image description here][1]][1]\r\nwhile I receive this error in my React for the same request. The url is the same, the parameters are in place but still there is an error and I am not able to capture the output:\r\n[![enter image description here][2]][2]\r\n\r\nHere is the code that I have for this sections which is based on AXIOS.POST:\r\n\r\n    const handleSubmit = (e) =&gt; {\r\n        e.preventDefault()\r\n        const params = { petalLength, petalWidth, sepalLength, sepalWidth }\r\n    \r\n    \r\n        axios.post(&quot;http://localhost:8000/iris/classify/class&quot;, {},{params:params})\r\n          .then((res) =&gt; {\r\n            const data = res.data.data\r\n            console.log(data)\r\n            const msg = `Prediction: ${data}`\r\n            alert(msg)\r\n            reset()\r\n          })\r\n          .catch((error) =&gt; alert(`Error: ${error.message}`))\r\n      }\r\n    \r\n      const reset = () =&gt; {\r\n        setPetalLength(&#39;&#39;)\r\n        setPetalWidth(&#39;&#39;)\r\n        setSepalLength(&#39;&#39;)\r\n        setSepalWidth(&#39;&#39;)\r\n      }\r\n\r\n\r\neven having it in the following form doesn&#39;t work:\r\n\r\n    &gt;   \r\n    &gt; axios.post(&quot;http://localhost:8000/iris/classify/class?petalLength=1&amp;petalWidth=1&amp;sepalLength=1&amp;sepalWidth=3.1&quot;)\r\n    &gt;       .then((res) =&gt; {\r\n    &gt;         const data = res.data.data\r\n    &gt;         console.log(data)\r\n    &gt;         const msg = `Prediction: ${data}`\r\n    &gt;         alert(msg)\r\n    &gt;         reset()\r\n    &gt;       })\r\n    &gt;       .catch((error) =&gt; alert(`Error: ${error.message}`))   }\r\n    &gt; \r\n    &gt;   const reset = () =&gt; {\r\n    &gt;     setPetalLength(&#39;&#39;)\r\n    &gt;     setPetalWidth(&#39;&#39;)\r\n    &gt;     setSepalLength(&#39;&#39;)\r\n    &gt;     setSepalWidth(&#39;&#39;)   }\r\n\r\n  [1]: https://i.stack.imgur.com/YzsLM.png\r\n  [2]: https://i.stack.imgur.com/VfnnJ.png","title":"AXIOS POST Response Fetch","body":"<p>I have a React ui which is supposed to communicate with the backend and fetch data.\nBackend works well and here is its response to my request:\n<a href=\"https://i.stack.imgur.com/YzsLM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YzsLM.png\" alt=\"enter image description here\" /></a>\nwhile I receive this error in my React for the same request. The url is the same, the parameters are in place but still there is an error and I am not able to capture the output:\n<a href=\"https://i.stack.imgur.com/VfnnJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VfnnJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code that I have for this sections which is based on AXIOS.POST:</p>\n<pre><code>const handleSubmit = (e) =&gt; {\n    e.preventDefault()\n    const params = { petalLength, petalWidth, sepalLength, sepalWidth }\n\n\n    axios.post(&quot;http://localhost:8000/iris/classify/class&quot;, {},{params:params})\n      .then((res) =&gt; {\n        const data = res.data.data\n        console.log(data)\n        const msg = `Prediction: ${data}`\n        alert(msg)\n        reset()\n      })\n      .catch((error) =&gt; alert(`Error: ${error.message}`))\n  }\n\n  const reset = () =&gt; {\n    setPetalLength('')\n    setPetalWidth('')\n    setSepalLength('')\n    setSepalWidth('')\n  }\n</code></pre>\n<p>even having it in the following form doesn't work:</p>\n<pre><code>&gt;   \n&gt; axios.post(&quot;http://localhost:8000/iris/classify/class?petalLength=1&amp;petalWidth=1&amp;sepalLength=1&amp;sepalWidth=3.1&quot;)\n&gt;       .then((res) =&gt; {\n&gt;         const data = res.data.data\n&gt;         console.log(data)\n&gt;         const msg = `Prediction: ${data}`\n&gt;         alert(msg)\n&gt;         reset()\n&gt;       })\n&gt;       .catch((error) =&gt; alert(`Error: ${error.message}`))   }\n&gt; \n&gt;   const reset = () =&gt; {\n&gt;     setPetalLength('')\n&gt;     setPetalWidth('')\n&gt;     setSepalLength('')\n&gt;     setSepalWidth('')   }\n</code></pre>\n"},{"tags":["java","mysql","query-optimization","hikaricp"],"comments":[{"owner":{"account_id":71085,"reputation":105190,"user_id":205608,"accept_rate":69,"display_name":"O. Jones"},"score":0,"creation_date":1649933333,"post_id":71870261,"comment_id":127002320,"body_markdown":"Is it possible your 5.6 table uses the `MyISAM` storage engine and your 5.7 table uses `InnoDB`? Please [edit] your question to show us the output from `SHOW CREATE TABLE Data` from **both** versions. `InnoDB` is a lot more picky than `MyISAM` about concurrent queries.","body":"Is it possible your 5.6 table uses the <code>MyISAM</code> storage engine and your 5.7 table uses <code>InnoDB</code>? Please <a href=\"https://stackoverflow.com/posts/71870261/edit\">edit</a> your question to show us the output from <code>SHOW CREATE TABLE Data</code> from <b>both</b> versions. <code>InnoDB</code> is a lot more picky than <code>MyISAM</code> about concurrent queries."},{"owner":{"account_id":4118287,"reputation":3,"user_id":3379331,"display_name":"user3379331"},"score":0,"creation_date":1649935563,"post_id":71870261,"comment_id":127003095,"body_markdown":"Both tables have ENGINE=InnoDB","body":"Both tables have ENGINE=InnoDB"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1649970192,"post_id":71870261,"comment_id":127014960,"body_markdown":"Please provide `EXPLAIN SELECT ...` on both servers.  Also `SHOW CREATE TABLE`.","body":"Please provide <code>EXPLAIN SELECT ...</code> on both servers.  Also <code>SHOW CREATE TABLE</code>."}],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649970405,"creation_date":1649970405,"answer_id":71877622,"question_id":71870261,"body_markdown":"For _that_ query, this is likely to be optimal:\r\n\r\n    INDEX(Condition02, EntityID, StartDate)\r\n\r\nWe could discuss a potentially faster approach using [_Summary Tables_](http://mysql.rjweb.org/doc.php/summarytables) , but first, tell us some details about the selectivity of each column.","title":"MySQL parallel execution for date range count() query do not give performance optimization","body":"<p>For <em>that</em> query, this is likely to be optimal:</p>\n<pre><code>INDEX(Condition02, EntityID, StartDate)\n</code></pre>\n<p>We could discuss a potentially faster approach using <a href=\"http://mysql.rjweb.org/doc.php/summarytables\" rel=\"nofollow noreferrer\"><em>Summary Tables</em></a> , but first, tell us some details about the selectivity of each column.</p>\n"}],"owner":{"account_id":4118287,"reputation":3,"user_id":3379331,"display_name":"user3379331"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649970405,"creation_date":1649932704,"question_id":71870261,"body_markdown":"DB:\r\n\r\n    MySQL 5.7\r\n\r\nTable Engine:\r\n\r\n    ENGINE=InnoDB\r\n\r\nQuery:\r\n\r\n    SELECT count(*) as COUNT\r\n    FROM Data d\r\n    WHERE d.StartDate &gt;= ?\r\n      AND d.StartDate &lt; ?\r\n      AND d.EntityID IN (1245)\r\n      AND d.Condition01 &gt; 0\r\n      AND d.Condition02 = &#39;abs&#39;\r\n      AND (d.Condition03 LIKE &#39;%abs%&#39; OR p.Condition04 LIKE &#39;%abs%&#39;);\r\n\r\nParameters:\r\n\r\n    String start = &quot;2021-12-01 00:00:00&quot;;\r\n    \r\n    String end = &quot;2022-04-01 00:00:00&quot;;\r\n\r\nOn a 200+ millions of rows query executes 20 seconds.\r\n\r\nIf start and date range divide to smaller periods, for example: \r\n\r\n    2021-12-01 00:00:00  2021-12-02 00:00:00\r\n    \r\n    2021-12-02 00:00:00  2021-12-03 00:00:00\r\n    \r\n    ...\r\n    \r\n    2022-03-30 00:00:00  2022-03-31 00:00:00\r\n    \r\n    2022-03-31 00:00:00  2022-04-01 00:00:00\r\n\r\nand execute queries with this parameters in parallel results will be obtained in 2 seconds.\r\n\r\nApproach works well on Server with MySQL 5.6 but does not work on Server with MySQL 5.7.\r\n\r\nIs it MySQL inner optimization or can be something else?\r\nCan TABLE LOCK cause problem? \r\nWhat else can cause the same long execution for count queries in parallel execution as for one query with big date range?","title":"MySQL parallel execution for date range count() query do not give performance optimization","body":"<p>DB:</p>\n<pre><code>MySQL 5.7\n</code></pre>\n<p>Table Engine:</p>\n<pre><code>ENGINE=InnoDB\n</code></pre>\n<p>Query:</p>\n<pre><code>SELECT count(*) as COUNT\nFROM Data d\nWHERE d.StartDate &gt;= ?\n  AND d.StartDate &lt; ?\n  AND d.EntityID IN (1245)\n  AND d.Condition01 &gt; 0\n  AND d.Condition02 = 'abs'\n  AND (d.Condition03 LIKE '%abs%' OR p.Condition04 LIKE '%abs%');\n</code></pre>\n<p>Parameters:</p>\n<pre><code>String start = &quot;2021-12-01 00:00:00&quot;;\n\nString end = &quot;2022-04-01 00:00:00&quot;;\n</code></pre>\n<p>On a 200+ millions of rows query executes 20 seconds.</p>\n<p>If start and date range divide to smaller periods, for example:</p>\n<pre><code>2021-12-01 00:00:00  2021-12-02 00:00:00\n\n2021-12-02 00:00:00  2021-12-03 00:00:00\n\n...\n\n2022-03-30 00:00:00  2022-03-31 00:00:00\n\n2022-03-31 00:00:00  2022-04-01 00:00:00\n</code></pre>\n<p>and execute queries with this parameters in parallel results will be obtained in 2 seconds.</p>\n<p>Approach works well on Server with MySQL 5.6 but does not work on Server with MySQL 5.7.</p>\n<p>Is it MySQL inner optimization or can be something else?\nCan TABLE LOCK cause problem?\nWhat else can cause the same long execution for count queries in parallel execution as for one query with big date range?</p>\n"},{"tags":["java","c#","collections"],"comments":[{"owner":{"account_id":587594,"reputation":323,"user_id":256882,"accept_rate":100,"display_name":"Nick Tucker"},"score":0,"creation_date":1439196650,"post_id":31914380,"comment_id":51743528,"body_markdown":"I am going to use ListOrderedMap in the Apache Commons Collection that appears to offer the functionality that I want.","body":"I am going to use ListOrderedMap in the Apache Commons Collection that appears to offer the functionality that I want."}],"answers":[{"tags":[],"owner":{"account_id":6702666,"reputation":31,"user_id":5168671,"display_name":"TheVoicedElk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439194086,"creation_date":1439194086,"answer_id":31914571,"question_id":31914380,"body_markdown":"I think the closest thing I can think of to what you want is a treemap (http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html), however you cannot get items by index only by key.","title":"Java collection like c# KeyedColllection&lt;TKey,TItem&gt;","body":"<p>I think the closest thing I can think of to what you want is a treemap (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html</a>), however you cannot get items by index only by key.</p>\n"},{"tags":[],"owner":{"account_id":6707463,"reputation":423,"user_id":5171861,"display_name":"RatheeshTS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1439194140,"creation_date":1439194140,"answer_id":31914589,"question_id":31914380,"body_markdown":"I think you can develop Your own class by extending a HashMap\r\n\r\n -  ","title":"Java collection like c# KeyedColllection&lt;TKey,TItem&gt;","body":"<p>I think you can develop Your own class by extending a HashMap</p>\n\n<ul>\n<li></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1381366,"reputation":7038,"user_id":1314276,"accept_rate":78,"display_name":"Leonel Sanches da Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603238273,"creation_date":1603238273,"answer_id":64454828,"question_id":31914380,"body_markdown":"Given an `Entity` class:\r\n\r\n    @Data // lombok.Data, to have getters and setters\r\n    public class Entity {\r\n        private String myIndexingProperty;\r\n        // Other fields here\r\n    }\r\n\r\nAn attempt to implement something like the `KeyedCollection&lt;T&gt;` of C# is (Java 8+):\r\n\r\n    import com.my.application.model.Entity;\r\n    \r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public final class EntityMap implements Map&lt;String, Entity&gt; {\r\n        private TreeSet&lt;Entity&gt; set;\r\n    \r\n        public EntityMap() {\r\n            set = new TreeSet&lt;&gt;();\r\n        }\r\n    \r\n        @Override\r\n        public int size() {\r\n            return set.size();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEmpty() {\r\n            return set.isEmpty();\r\n        }\r\n    \r\n        @Override\r\n        public boolean containsKey(Object o) {\r\n            return set.stream()\r\n                    .anyMatch(e -&gt; String.valueOf(o).equalsIgnoreCase(e.getMyIndexingProperty()));\r\n        }\r\n    \r\n        @Override\r\n        public boolean containsValue(Object o) {\r\n            return set.stream()\r\n                    .anyMatch(e -&gt; String.valueOf(o).equalsIgnoreCase(e.getMyIndexingProperty()));\r\n        }\r\n    \r\n        @Override\r\n        public Entity get(Object o) {\r\n            return set.stream()\r\n                    .filter(e -&gt; String.valueOf(o).equalsIgnoreCase(e.getMyIndexingProperty()))\r\n                    .findFirst()\r\n                    .orElse(null);\r\n        }\r\n    \r\n        @Override\r\n        public Entity put(String s, Entity entity) {\r\n            set.add(entity);\r\n            return set.stream()\r\n                    .filter(e -&gt; String.valueOf(entity.getMyIndexingProperty()).equalsIgnoreCase(e.getMyIndexingProperty()))\r\n                    .findFirst()\r\n                    .orElse(null);\r\n        }\r\n    \r\n        @Override\r\n        public Verb remove(Object o) {\r\n            boolean removed = set.removeIf(e -&gt; e.equals(o));\r\n            if (!removed) {\r\n                return null;\r\n            }\r\n\r\n            return get(o);\r\n        }\r\n    \r\n        @Override\r\n        public void putAll(Map&lt;? extends String, ? extends Entity&gt; map) {\r\n            map.forEach(this::put);\r\n        }\r\n    \r\n        @Override\r\n        public void clear() {\r\n            set.clear();\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;String&gt; keySet() {\r\n            return set.stream()\r\n                    .map(Entity::getMyIndexingProperty)\r\n                    .collect(Collectors.toSet());\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;Entity&gt; values() {\r\n            return set;\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Entry&lt;String, Entity&gt;&gt; entrySet() {\r\n            return set.stream()\r\n                    .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.getMyIndexingProperty(), e))\r\n                    .collect(Collectors.toSet());\r\n        }\r\n    }","title":"Java collection like c# KeyedColllection&lt;TKey,TItem&gt;","body":"<p>Given an <code>Entity</code> class:</p>\n<pre><code>@Data // lombok.Data, to have getters and setters\npublic class Entity {\n    private String myIndexingProperty;\n    // Other fields here\n}\n</code></pre>\n<p>An attempt to implement something like the <code>KeyedCollection&lt;T&gt;</code> of C# is (Java 8+):</p>\n<pre><code>import com.my.application.model.Entity;\n\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic final class EntityMap implements Map&lt;String, Entity&gt; {\n    private TreeSet&lt;Entity&gt; set;\n\n    public EntityMap() {\n        set = new TreeSet&lt;&gt;();\n    }\n\n    @Override\n    public int size() {\n        return set.size();\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return set.isEmpty();\n    }\n\n    @Override\n    public boolean containsKey(Object o) {\n        return set.stream()\n                .anyMatch(e -&gt; String.valueOf(o).equalsIgnoreCase(e.getMyIndexingProperty()));\n    }\n\n    @Override\n    public boolean containsValue(Object o) {\n        return set.stream()\n                .anyMatch(e -&gt; String.valueOf(o).equalsIgnoreCase(e.getMyIndexingProperty()));\n    }\n\n    @Override\n    public Entity get(Object o) {\n        return set.stream()\n                .filter(e -&gt; String.valueOf(o).equalsIgnoreCase(e.getMyIndexingProperty()))\n                .findFirst()\n                .orElse(null);\n    }\n\n    @Override\n    public Entity put(String s, Entity entity) {\n        set.add(entity);\n        return set.stream()\n                .filter(e -&gt; String.valueOf(entity.getMyIndexingProperty()).equalsIgnoreCase(e.getMyIndexingProperty()))\n                .findFirst()\n                .orElse(null);\n    }\n\n    @Override\n    public Verb remove(Object o) {\n        boolean removed = set.removeIf(e -&gt; e.equals(o));\n        if (!removed) {\n            return null;\n        }\n\n        return get(o);\n    }\n\n    @Override\n    public void putAll(Map&lt;? extends String, ? extends Entity&gt; map) {\n        map.forEach(this::put);\n    }\n\n    @Override\n    public void clear() {\n        set.clear();\n    }\n\n    @Override\n    public Set&lt;String&gt; keySet() {\n        return set.stream()\n                .map(Entity::getMyIndexingProperty)\n                .collect(Collectors.toSet());\n    }\n\n    @Override\n    public Collection&lt;Entity&gt; values() {\n        return set;\n    }\n\n    @Override\n    public Set&lt;Entry&lt;String, Entity&gt;&gt; entrySet() {\n        return set.stream()\n                .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.getMyIndexingProperty(), e))\n                .collect(Collectors.toSet());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4445025,"reputation":23,"user_id":3618592,"display_name":"DamosCas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649970358,"creation_date":1649954463,"answer_id":71875005,"question_id":31914380,"body_markdown":"Here is a full implementation using a &quot;KeyedItem&quot; interface. I&#39;ve included comments as best I could.\r\n\r\n```java\r\n/** \r\n*  An interface that must be implemented by an item inserted into a KeyedItemHashMap.\r\n*/\r\npublic interface KeyedItem {\r\n    /** \r\n    *  Returns an ID for this item to be used in a KeyedItemHashMap.\r\n    *  @return An ID for this item to be used in a KeyedItemHashMap.\r\n    */\r\n    public String getId();\r\n}\r\n```\r\nAnd then the implementation of the HashMap class...\r\n\r\n```java\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\n/**\r\n * Hash table based implementation of the {@code Map} interface.  This\r\n * implementation provides all of the optional map operations, and permits\r\n * {@code null} values and the {@code null} key.  (The {@code HashMap}\r\n * class is roughly equivalent to {@code Hashtable}, except that it is\r\n * unsynchronized and permits nulls.)  This class makes no guarantees as to\r\n * the order of the map; in particular, it does not guarantee that the order\r\n * will remain constant over time.\r\n *\r\n * Unlike a typical hash map, this implementation uses KeyedItem&#39;s as the \r\n * value. A KeyedItem must implement the {@code KeyedItem} interface and \r\n * provide a unique ID to avoid collisions within the map.\r\n * \r\n * For more details see the {@code HashMap} class.\r\n */\r\npublic final class KeyedItemHashMap implements Map&lt;String,KeyedItem&gt;{\r\n    private HashMap&lt;String,KeyedItem&gt; m_map;\r\n\r\n    /**\r\n     * Constructs an empty HashMap with the default initial capacity (16) and \r\n     * the default load factor (0.75).\r\n     */\r\n    public KeyedItemHashMap() {\r\n        m_map = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    /**\r\n     * Returns the number of key-value mappings in this map.\r\n     * @return The number of key-value mappings in this map.\r\n     */\r\n    public int size() {\r\n        return m_map.size();\r\n    }\r\n\r\n    /**\r\n     * Returns {@code true} if this map contains no key-value mappings.\r\n     * @return {@code true} if this map contains no key-value mappings.\r\n     */\r\n    public boolean isEmpty() {\r\n        return m_map.isEmpty();\r\n    }\r\n\r\n    /**\r\n     * Returns {@code true} if this map contains a mapping for the specified key.\r\n     * @param key The key whose presence in this map is to be tested.\r\n     * @return {@code true} if this map contains a mapping for the specified key.\r\n     */\r\n    public boolean containsKey(Object key) {\r\n        return m_map.containsKey(key);\r\n    }\r\n\r\n    public boolean containsValue(Object keyedItem) {\r\n        return m_map.containsValue(keyedItem);\r\n    }\r\n\r\n    /**\r\n     * Returns the string representation of the {@code Object} argument.\r\n     *\r\n     * @param   obj   an {@code Object}.\r\n     * @return  if the argument is {@code null}, then a string equal to\r\n     *          {@code &quot;null&quot;}; otherwise, the value of\r\n     *          {@code obj.toString()} is returned.\r\n     * @see     java.lang.Object#toString()\r\n     */\r\n    public KeyedItem get(Object obj) {\r\n        return m_map.get(String.valueOf(obj));\r\n    }\r\n\r\n    /**\r\n     * Associates the specified value with the keyedItem&#39;s ID in this map.\r\n     * If the map previously contained a mapping for the keyedItem&#39;s ID, the old\r\n     * value is replaced.\r\n     *\r\n     * @param key UNUSED here but necessary for override.\r\n     * @param keyedItem Value that implements the KeyedItem interface. The getId() function will\r\n     * be used to determine the key for the map.\r\n     * @return the previous value associated with {@code keyedItem.getId()}, or\r\n     *         {@code null} if there was no mapping for {@code keyedItem.getId()}.\r\n     *         (A {@code null} return can also indicate that the map\r\n     *         previously associated {@code null} with {@code keyedItem.getId()}.)\r\n     */\r\n    public KeyedItem put(String key, KeyedItem keyedItem) {\r\n        return m_map.put(keyedItem.getId(), keyedItem);\r\n    }\r\n\r\n    /**\r\n     * Associates the specified value with the keyedItem&#39;s ID in this map.\r\n     * If the map previously contained a mapping for the keyedItem&#39;s ID, the old\r\n     * value is replaced.\r\n     *\r\n     * @param keyedItem Value that implements the KeyedItem interface. The getId() function will\r\n     * be used to determine the key for the map.\r\n     * @return the previous value associated with {@code keyedItem.getId()}, or\r\n     *         {@code null} if there was no mapping for {@code keyedItem.getId()}.\r\n     *         (A {@code null} return can also indicate that the map\r\n     *         previously associated {@code null} with {@code keyedItem.getId()}.)\r\n     */\r\n    public KeyedItem put(KeyedItem keyedItem) {\r\n        return m_map.put(keyedItem.getId(), keyedItem);\r\n    }\r\n\r\n    /**\r\n     * Removes the mapping for the specified keyedItem&#39;s ID from this map if present.\r\n     *\r\n     * @param  keyedItem KeyedItem whose mapping is to be removed from the map.\r\n     * @return the previous value associated with {@code keyedItem.getId()}, or\r\n     *         {@code null} if there was no mapping for {@code keyedItem.getId()}.\r\n     *         (A {@code null} return can also indicate that the map\r\n     *         previously associated {@code null} with {@code keyedItem.getId()}.)\r\n     * @throws ClassCastException if the keyedItem does not implement the KeyedItem interface.\r\n     */\r\n    public KeyedItem remove(Object keyedItem) {\r\n        return m_map.remove(((KeyedItem)keyedItem).getId());\r\n    }\r\n\r\n    /**\r\n     * Copies all of the mappings from the specified map to this map.\r\n     * These mappings will replace any mappings that this map had for\r\n     * any of the keys currently in the specified map.\r\n     *\r\n     * @param map mappings to be stored in this map\r\n     * @throws NullPointerException if the specified map is null\r\n     */\r\n    public void putAll(Map&lt;? extends String, ? extends KeyedItem&gt; map) {\r\n        m_map.putAll(map);\r\n    }\r\n\r\n    /**\r\n     * Removes all of the mappings from this map.\r\n     * The map will be empty after this call returns.\r\n     */\r\n    public void clear() {\r\n        m_map.clear();\r\n    }\r\n\r\n    /**\r\n     * Returns a {@link Set} view of the keys contained in this map.\r\n     * The set is backed by the map, so changes to the map are\r\n     * reflected in the set, and vice-versa.  If the map is modified\r\n     * while an iteration over the set is in progress (except through\r\n     * the iterator&#39;s own {@code remove} operation), the results of\r\n     * the iteration are undefined.  The set supports element removal,\r\n     * which removes the corresponding mapping from the map, via the\r\n     * {@code Iterator.remove}, {@code Set.remove},\r\n     * {@code removeAll}, {@code retainAll}, and {@code clear}\r\n     * operations.  It does not support the {@code add} or {@code addAll}\r\n     * operations.\r\n     *\r\n     * @return a set view of the keys contained in this map\r\n     */\r\n    public Set&lt;String&gt; keySet() {\r\n        return m_map.keySet();\r\n    }\r\n\r\n    /**\r\n     * Returns a {@link Collection} view of the values contained in this map.\r\n     * The collection is backed by the map, so changes to the map are\r\n     * reflected in the collection, and vice-versa.  If the map is\r\n     * modified while an iteration over the collection is in progress\r\n     * (except through the iterator&#39;s own {@code remove} operation),\r\n     * the results of the iteration are undefined.  The collection\r\n     * supports element removal, which removes the corresponding\r\n     * mapping from the map, via the {@code Iterator.remove},\r\n     * {@code Collection.remove}, {@code removeAll},\r\n     * {@code retainAll} and {@code clear} operations.  It does not\r\n     * support the {@code add} or {@code addAll} operations.\r\n     *\r\n     * @return a view of the values contained in this map\r\n     */\r\n    public Collection&lt;KeyedItem&gt; values() {\r\n        return m_map.values();\r\n    }\r\n\r\n    /**\r\n     * Returns a {@link Set} view of the mappings contained in this map.\r\n     * The set is backed by the map, so changes to the map are\r\n     * reflected in the set, and vice-versa.  If the map is modified\r\n     * while an iteration over the set is in progress (except through\r\n     * the iterator&#39;s own {@code remove} operation, or through the\r\n     * {@code setValue} operation on a map entry returned by the\r\n     * iterator) the results of the iteration are undefined.  The set\r\n     * supports element removal, which removes the corresponding\r\n     * mapping from the map, via the {@code Iterator.remove},\r\n     * {@code Set.remove}, {@code removeAll}, {@code retainAll} and\r\n     * {@code clear} operations.  It does not support the\r\n     * {@code add} or {@code addAll} operations.\r\n     *\r\n     * @return a set view of the mappings contained in this map\r\n     */\r\n    public Set&lt;Entry&lt;String, KeyedItem&gt;&gt; entrySet() {\r\n        return m_map.entrySet();\r\n    }\r\n}\r\n```\r\nThis should be flexible enough for you to just add the interface to any class you want to store.\r\n\r\nYou want to implement the map interface so that your new hashmap can be used in any capacity that a generic hashmap could be used, unfortunately this means you have a put function that takes in a key that isn&#39;t used. I&#39;ve noted that in the comments.\r\n\r\nEdit: fixed some syntax errors and included imports","title":"Java collection like c# KeyedColllection&lt;TKey,TItem&gt;","body":"<p>Here is a full implementation using a &quot;KeyedItem&quot; interface. I've included comments as best I could.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** \n*  An interface that must be implemented by an item inserted into a KeyedItemHashMap.\n*/\npublic interface KeyedItem {\n    /** \n    *  Returns an ID for this item to be used in a KeyedItemHashMap.\n    *  @return An ID for this item to be used in a KeyedItemHashMap.\n    */\n    public String getId();\n}\n</code></pre>\n<p>And then the implementation of the HashMap class...</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\n\n/**\n * Hash table based implementation of the {@code Map} interface.  This\n * implementation provides all of the optional map operations, and permits\n * {@code null} values and the {@code null} key.  (The {@code HashMap}\n * class is roughly equivalent to {@code Hashtable}, except that it is\n * unsynchronized and permits nulls.)  This class makes no guarantees as to\n * the order of the map; in particular, it does not guarantee that the order\n * will remain constant over time.\n *\n * Unlike a typical hash map, this implementation uses KeyedItem's as the \n * value. A KeyedItem must implement the {@code KeyedItem} interface and \n * provide a unique ID to avoid collisions within the map.\n * \n * For more details see the {@code HashMap} class.\n */\npublic final class KeyedItemHashMap implements Map&lt;String,KeyedItem&gt;{\n    private HashMap&lt;String,KeyedItem&gt; m_map;\n\n    /**\n     * Constructs an empty HashMap with the default initial capacity (16) and \n     * the default load factor (0.75).\n     */\n    public KeyedItemHashMap() {\n        m_map = new HashMap&lt;&gt;();\n    }\n\n    /**\n     * Returns the number of key-value mappings in this map.\n     * @return The number of key-value mappings in this map.\n     */\n    public int size() {\n        return m_map.size();\n    }\n\n    /**\n     * Returns {@code true} if this map contains no key-value mappings.\n     * @return {@code true} if this map contains no key-value mappings.\n     */\n    public boolean isEmpty() {\n        return m_map.isEmpty();\n    }\n\n    /**\n     * Returns {@code true} if this map contains a mapping for the specified key.\n     * @param key The key whose presence in this map is to be tested.\n     * @return {@code true} if this map contains a mapping for the specified key.\n     */\n    public boolean containsKey(Object key) {\n        return m_map.containsKey(key);\n    }\n\n    public boolean containsValue(Object keyedItem) {\n        return m_map.containsValue(keyedItem);\n    }\n\n    /**\n     * Returns the string representation of the {@code Object} argument.\n     *\n     * @param   obj   an {@code Object}.\n     * @return  if the argument is {@code null}, then a string equal to\n     *          {@code &quot;null&quot;}; otherwise, the value of\n     *          {@code obj.toString()} is returned.\n     * @see     java.lang.Object#toString()\n     */\n    public KeyedItem get(Object obj) {\n        return m_map.get(String.valueOf(obj));\n    }\n\n    /**\n     * Associates the specified value with the keyedItem's ID in this map.\n     * If the map previously contained a mapping for the keyedItem's ID, the old\n     * value is replaced.\n     *\n     * @param key UNUSED here but necessary for override.\n     * @param keyedItem Value that implements the KeyedItem interface. The getId() function will\n     * be used to determine the key for the map.\n     * @return the previous value associated with {@code keyedItem.getId()}, or\n     *         {@code null} if there was no mapping for {@code keyedItem.getId()}.\n     *         (A {@code null} return can also indicate that the map\n     *         previously associated {@code null} with {@code keyedItem.getId()}.)\n     */\n    public KeyedItem put(String key, KeyedItem keyedItem) {\n        return m_map.put(keyedItem.getId(), keyedItem);\n    }\n\n    /**\n     * Associates the specified value with the keyedItem's ID in this map.\n     * If the map previously contained a mapping for the keyedItem's ID, the old\n     * value is replaced.\n     *\n     * @param keyedItem Value that implements the KeyedItem interface. The getId() function will\n     * be used to determine the key for the map.\n     * @return the previous value associated with {@code keyedItem.getId()}, or\n     *         {@code null} if there was no mapping for {@code keyedItem.getId()}.\n     *         (A {@code null} return can also indicate that the map\n     *         previously associated {@code null} with {@code keyedItem.getId()}.)\n     */\n    public KeyedItem put(KeyedItem keyedItem) {\n        return m_map.put(keyedItem.getId(), keyedItem);\n    }\n\n    /**\n     * Removes the mapping for the specified keyedItem's ID from this map if present.\n     *\n     * @param  keyedItem KeyedItem whose mapping is to be removed from the map.\n     * @return the previous value associated with {@code keyedItem.getId()}, or\n     *         {@code null} if there was no mapping for {@code keyedItem.getId()}.\n     *         (A {@code null} return can also indicate that the map\n     *         previously associated {@code null} with {@code keyedItem.getId()}.)\n     * @throws ClassCastException if the keyedItem does not implement the KeyedItem interface.\n     */\n    public KeyedItem remove(Object keyedItem) {\n        return m_map.remove(((KeyedItem)keyedItem).getId());\n    }\n\n    /**\n     * Copies all of the mappings from the specified map to this map.\n     * These mappings will replace any mappings that this map had for\n     * any of the keys currently in the specified map.\n     *\n     * @param map mappings to be stored in this map\n     * @throws NullPointerException if the specified map is null\n     */\n    public void putAll(Map&lt;? extends String, ? extends KeyedItem&gt; map) {\n        m_map.putAll(map);\n    }\n\n    /**\n     * Removes all of the mappings from this map.\n     * The map will be empty after this call returns.\n     */\n    public void clear() {\n        m_map.clear();\n    }\n\n    /**\n     * Returns a {@link Set} view of the keys contained in this map.\n     * The set is backed by the map, so changes to the map are\n     * reflected in the set, and vice-versa.  If the map is modified\n     * while an iteration over the set is in progress (except through\n     * the iterator's own {@code remove} operation), the results of\n     * the iteration are undefined.  The set supports element removal,\n     * which removes the corresponding mapping from the map, via the\n     * {@code Iterator.remove}, {@code Set.remove},\n     * {@code removeAll}, {@code retainAll}, and {@code clear}\n     * operations.  It does not support the {@code add} or {@code addAll}\n     * operations.\n     *\n     * @return a set view of the keys contained in this map\n     */\n    public Set&lt;String&gt; keySet() {\n        return m_map.keySet();\n    }\n\n    /**\n     * Returns a {@link Collection} view of the values contained in this map.\n     * The collection is backed by the map, so changes to the map are\n     * reflected in the collection, and vice-versa.  If the map is\n     * modified while an iteration over the collection is in progress\n     * (except through the iterator's own {@code remove} operation),\n     * the results of the iteration are undefined.  The collection\n     * supports element removal, which removes the corresponding\n     * mapping from the map, via the {@code Iterator.remove},\n     * {@code Collection.remove}, {@code removeAll},\n     * {@code retainAll} and {@code clear} operations.  It does not\n     * support the {@code add} or {@code addAll} operations.\n     *\n     * @return a view of the values contained in this map\n     */\n    public Collection&lt;KeyedItem&gt; values() {\n        return m_map.values();\n    }\n\n    /**\n     * Returns a {@link Set} view of the mappings contained in this map.\n     * The set is backed by the map, so changes to the map are\n     * reflected in the set, and vice-versa.  If the map is modified\n     * while an iteration over the set is in progress (except through\n     * the iterator's own {@code remove} operation, or through the\n     * {@code setValue} operation on a map entry returned by the\n     * iterator) the results of the iteration are undefined.  The set\n     * supports element removal, which removes the corresponding\n     * mapping from the map, via the {@code Iterator.remove},\n     * {@code Set.remove}, {@code removeAll}, {@code retainAll} and\n     * {@code clear} operations.  It does not support the\n     * {@code add} or {@code addAll} operations.\n     *\n     * @return a set view of the mappings contained in this map\n     */\n    public Set&lt;Entry&lt;String, KeyedItem&gt;&gt; entrySet() {\n        return m_map.entrySet();\n    }\n}\n</code></pre>\n<p>This should be flexible enough for you to just add the interface to any class you want to store.</p>\n<p>You want to implement the map interface so that your new hashmap can be used in any capacity that a generic hashmap could be used, unfortunately this means you have a put function that takes in a key that isn't used. I've noted that in the comments.</p>\n<p>Edit: fixed some syntax errors and included imports</p>\n"}],"owner":{"account_id":587594,"reputation":323,"user_id":256882,"accept_rate":100,"display_name":"Nick Tucker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31914589,"answer_count":4,"score":1,"last_activity_date":1649970358,"creation_date":1439193449,"question_id":31914380,"body_markdown":"Is there a Java collection that has the same behavior as the c# abstract KeyedCollection&lt;TKey,TItem&gt; class (that is items can be retrieved by both key and index)?  I have looked around but can&#39;t find anything similar.\r\n\r\nThanks,\r\nNick","title":"Java collection like c# KeyedColllection&lt;TKey,TItem&gt;","body":"<p>Is there a Java collection that has the same behavior as the c# abstract KeyedCollection class (that is items can be retrieved by both key and index)?  I have looked around but can't find anything similar.</p>\n\n<p>Thanks,\nNick</p>\n"},{"tags":["java","http","http-post"],"answers":[{"tags":[],"owner":{"account_id":9881990,"reputation":847,"user_id":7317789,"display_name":"Alejandro Lorefice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649969987,"creation_date":1649969987,"answer_id":71877556,"question_id":71874658,"body_markdown":"have you tried with this in raw format?\r\n\r\nI think when it comes to JSON structures a PHP array is taken like a JSON object. So what you would need to do here is to put all your JSON inside a data field of content-type application/json as shown in this screenshot and it should work. Let me know how it goes. [![postman screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iqDbq.png","title":"How to send multipart/form data with array from Java?","body":"<p>have you tried with this in raw format?</p>\n<p>I think when it comes to JSON structures a PHP array is taken like a JSON object. So what you would need to do here is to put all your JSON inside a data field of content-type application/json as shown in this screenshot and it should work. Let me know how it goes. <a href=\"https://i.stack.imgur.com/iqDbq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iqDbq.png\" alt=\"postman screenshot\" /></a></p>\n"}],"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649969987,"creation_date":1649952788,"question_id":71874658,"body_markdown":"\r\nWhen I use Postman, I send a request like &quot;form-data&quot;, and it works. \r\n\r\nI know how to make a request, but I do not know how to assemble the body of such a request.\r\n\r\n[enter image description here][1]\r\n\r\nThe resource to which I should send the post request expects this format:\r\n\r\n    array \r\n    (\r\n       &quot;data&quot; =&gt;  array\r\n            (\r\n                0 =&gt;  array \r\n                (\r\n                    &quot;external_id&quot; =&gt; 123, \r\n                    &quot;count&quot;       =&gt; 1,\r\n                    &quot;price&quot;       =&gt; 1000,\r\n                ),\r\n            1 =&gt;  array \r\n                (\r\n                    &quot;external_id&quot; =&gt; 345,\r\n                    &quot;count&quot;       =&gt; 2,\r\n                    &quot;price&quot;       =&gt; 2000,\r\n                ),\r\n            2 =&gt;  array \r\n                (\r\n                    &quot;external_id&quot; =&gt; 456,\r\n                    &quot;count&quot;       =&gt; 3,\r\n                    &quot;price&quot;       =&gt; 3000,\r\n                ),\r\n        ),\r\n)\r\n\r\n\r\n**Thanks for any help.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lI9dd.jpg","title":"How to send multipart/form data with array from Java?","body":"<p>When I use Postman, I send a request like &quot;form-data&quot;, and it works.</p>\n<p>I know how to make a request, but I do not know how to assemble the body of such a request.</p>\n<p><a href=\"https://i.stack.imgur.com/lI9dd.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The resource to which I should send the post request expects this format:</p>\n<pre><code>array \n(\n   &quot;data&quot; =&gt;  array\n        (\n            0 =&gt;  array \n            (\n                &quot;external_id&quot; =&gt; 123, \n                &quot;count&quot;       =&gt; 1,\n                &quot;price&quot;       =&gt; 1000,\n            ),\n        1 =&gt;  array \n            (\n                &quot;external_id&quot; =&gt; 345,\n                &quot;count&quot;       =&gt; 2,\n                &quot;price&quot;       =&gt; 2000,\n            ),\n        2 =&gt;  array \n            (\n                &quot;external_id&quot; =&gt; 456,\n                &quot;count&quot;       =&gt; 3,\n                &quot;price&quot;       =&gt; 3000,\n            ),\n    ),\n</code></pre>\n<p>)</p>\n<p><strong>Thanks for any help.</strong></p>\n"},{"tags":["java","algorithm","iterator","priority-queue","heap"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":2,"creation_date":1649917053,"post_id":71866421,"comment_id":126997097,"body_markdown":"O(n log n) is the best you can do with constant space. The lower bound on the number of comparisons for a comparison sort is Ω(n log n). The number of comparisons needed to heapify an array is O(n). So heapify is essentially doing one O(n) pass out of the log(n) passes needed to fully sort the array. Hence, if you can iterate the elements in the heap in sorted order in less than O(nlog(n) - n) time, then you&#39;ve invented a new type of sorting algorithm that&#39;s faster than the theoretically best possible sorting algorithm.","body":"O(n log n) is the best you can do with constant space. The lower bound on the number of comparisons for a comparison sort is Ω(n log n). The number of comparisons needed to heapify an array is O(n). So heapify is essentially doing one O(n) pass out of the log(n) passes needed to fully sort the array. Hence, if you can iterate the elements in the heap in sorted order in less than O(nlog(n) - n) time, then you&#39;ve invented a new type of sorting algorithm that&#39;s faster than the theoretically best possible sorting algorithm."},{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1649949151,"post_id":71866421,"comment_id":127008341,"body_markdown":"You can do it in constant space easily enough, if you&#39;re allowed to destroy the heap while you iterate.","body":"You can do it in constant space easily enough, if you&#39;re allowed to destroy the heap while you iterate."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649969952,"creation_date":1649969952,"answer_id":71877547,"question_id":71866421,"body_markdown":"No, there is no algorithm that iterates a heap in order with a time complexity of O(n).\r\n\r\nAn optimal comparison based sorting algorithm has a [worst case time complexity of O(nlogn)](https://stackoverflow.com/questions/1891506/comparison-sorting-algorithm-complexity). If you could iterate a heap (which is comparison based) in ascending order with a time complexity of O(n), you&#39;d have a comparison based sorting algorithm with a time complexity of O(n), which is not possible.\r\n","title":"Is there any efficient algorithm for traversing a Heap-Based Priority Queue?","body":"<p>No, there is no algorithm that iterates a heap in order with a time complexity of O(n).</p>\n<p>An optimal comparison based sorting algorithm has a <a href=\"https://stackoverflow.com/questions/1891506/comparison-sorting-algorithm-complexity\">worst case time complexity of O(nlogn)</a>. If you could iterate a heap (which is comparison based) in ascending order with a time complexity of O(n), you'd have a comparison based sorting algorithm with a time complexity of O(n), which is not possible.</p>\n"}],"owner":{"account_id":18287208,"reputation":23,"user_id":13314829,"display_name":"IkhideIfidon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71877547,"answer_count":1,"score":0,"last_activity_date":1649969952,"creation_date":1649909359,"question_id":71866421,"body_markdown":"I have implemented a ***Heap-Based Priority Queue*** in Java but my challenge now is implementing an efficient ***Iterator&lt;E&gt;*** that has a definite (increasing or decreasing) order of traversal. Is there any algorithm that does this at constant auxiliary\r\nspace and time complexity of O(n)? The O(nlogn) is quite trivial. Also, there is absolutely no subtlety in O(n) space algorithm. Please help if you can. ","title":"Is there any efficient algorithm for traversing a Heap-Based Priority Queue?","body":"<p>I have implemented a <em><strong>Heap-Based Priority Queue</strong></em> in Java but my challenge now is implementing an efficient <em><strong>Iterator</strong></em> that has a definite (increasing or decreasing) order of traversal. Is there any algorithm that does this at constant auxiliary\nspace and time complexity of O(n)? The O(nlogn) is quite trivial. Also, there is absolutely no subtlety in O(n) space algorithm. Please help if you can.</p>\n"},{"tags":["java","android-studio","rx-java"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649969822,"creation_date":1649969822,"answer_id":71877531,"question_id":71873584,"body_markdown":"Get each list in the form of `Single&lt;List&lt;X&gt;&gt;`, where X is a record that indicates what happened to a particular item, and `zip` them together. Now you can walk both lists and do your combination logic synchronously:\r\n\r\n```java\r\nrecord Item(int id, boolean added, boolean deleted) { }\r\n\r\nSingle&lt;List&lt;Item&gt;&gt; remoteListSource = ...\r\nSingle&lt;List&lt;Item&gt;&gt; localListSource = ...\r\n\r\nSingle.&lt;List&lt;Item&gt;&gt;zip(remoteListSource, localListSource, \r\n(remoteList, localList) -&gt; {\r\n\r\n    Set&lt;Integer&gt; deleted = new HashSet&lt;&gt;();\r\n\r\n    // collect deleted ids\r\n    remoteList.stream()\r\n        .filter(item -&gt; item.deleted)\r\n        .forEach(item -&gt; deleted.add(item.id));\r\n    localList.stream()\r\n        .filter(item -&gt; item.deleted)\r\n        .forEach(item -&gt; deleted.add(item.id));\r\n\r\n    Set&lt;Integer&gt; duplicate = new HashSet&lt;&gt;();\r\n    List&lt;Item&gt; result = new ArrayList&lt;&gt;();\r\n\r\n    // go through both lists, ignoring deleted ids\r\n    Stream.concat(remoteList.stream(), localList.stream())\r\n    .filter(item -&gt; !deleted.contains(item.id))\r\n    .forEach(item -&gt; {\r\n         // id already seen?\r\n         if (duplicate.contains(item.id)) {\r\n             // if this is an addition, generate new item\r\n             if (item.added) {\r\n                 \r\n                 item = new Item(Collections.max(duplicate) + 1, true, false);\r\n                 duplicate.add(item.id);\r\n                 result.add(item);\r\n             } else {\r\n                 // else we have an unmodified item already in result\r\n                 // nothing to do\r\n             }\r\n         } else {\r\n             // was not a duplicate, remember it\r\n             duplicate.add(item.id);\r\n             result.add(item);\r\n         }\r\n    });\r\n\r\n    return result;\r\n})\r\n.subscribe(combinedList -&gt; { /* ... */ });\r\n```","title":"RxJava: Combine 2 lists, ignoring missing items in list 2","body":"<p>Get each list in the form of <code>Single&lt;List&lt;X&gt;&gt;</code>, where X is a record that indicates what happened to a particular item, and <code>zip</code> them together. Now you can walk both lists and do your combination logic synchronously:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Item(int id, boolean added, boolean deleted) { }\n\nSingle&lt;List&lt;Item&gt;&gt; remoteListSource = ...\nSingle&lt;List&lt;Item&gt;&gt; localListSource = ...\n\nSingle.&lt;List&lt;Item&gt;&gt;zip(remoteListSource, localListSource, \n(remoteList, localList) -&gt; {\n\n    Set&lt;Integer&gt; deleted = new HashSet&lt;&gt;();\n\n    // collect deleted ids\n    remoteList.stream()\n        .filter(item -&gt; item.deleted)\n        .forEach(item -&gt; deleted.add(item.id));\n    localList.stream()\n        .filter(item -&gt; item.deleted)\n        .forEach(item -&gt; deleted.add(item.id));\n\n    Set&lt;Integer&gt; duplicate = new HashSet&lt;&gt;();\n    List&lt;Item&gt; result = new ArrayList&lt;&gt;();\n\n    // go through both lists, ignoring deleted ids\n    Stream.concat(remoteList.stream(), localList.stream())\n    .filter(item -&gt; !deleted.contains(item.id))\n    .forEach(item -&gt; {\n         // id already seen?\n         if (duplicate.contains(item.id)) {\n             // if this is an addition, generate new item\n             if (item.added) {\n                 \n                 item = new Item(Collections.max(duplicate) + 1, true, false);\n                 duplicate.add(item.id);\n                 result.add(item);\n             } else {\n                 // else we have an unmodified item already in result\n                 // nothing to do\n             }\n         } else {\n             // was not a duplicate, remember it\n             duplicate.add(item.id);\n             result.add(item);\n         }\n    });\n\n    return result;\n})\n.subscribe(combinedList -&gt; { /* ... */ });\n</code></pre>\n"}],"owner":{"account_id":21525246,"reputation":39,"user_id":15865665,"display_name":"beebopbogo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649969822,"creation_date":1649947930,"question_id":71873584,"body_markdown":"I have two lists of objects, RemoteList and LocalList.&lt;br&gt;\r\nWhile my app is offline, remote users can be adding and deleting objects from the RemoteList while local users are editing the LocalList.&lt;br&gt;\r\nWhen the app becomes connected again, it should sync the two lists.&lt;br&gt;\r\n[Marble Diagram showing how the lists should be merged][1]\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nFor example, here are the object ids in each list before syncing:&lt;br&gt;\r\nRemoteList: 0, 1, 2 (deleted), 3 (new), 4 (new)&lt;br&gt;\r\nLocalList:  0, 1 (delete), 2, 3 (new)\r\n\r\nWhen syncing, the ids have to be changed to prevent having two separate objects with the same id.\r\n\r\nMergedList: 0, 3, 4, 5 (local id 3 was changed to 5)\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\nI&#39;m experimenting with RxJava, so a quick point in the right direction would be great. Merge? Fork? A combination? Maybe using Filter and adding a field to Object like isSynced?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrcjl.jpg","title":"RxJava: Combine 2 lists, ignoring missing items in list 2","body":"<p>I have two lists of objects, RemoteList and LocalList.<br>\nWhile my app is offline, remote users can be adding and deleting objects from the RemoteList while local users are editing the LocalList.<br>\nWhen the app becomes connected again, it should sync the two lists.<br>\n<a href=\"https://i.stack.imgur.com/mrcjl.jpg\" rel=\"nofollow noreferrer\">Marble Diagram showing how the lists should be merged</a>\n<br>\n<br>\n<br>\nFor example, here are the object ids in each list before syncing:<br>\nRemoteList: 0, 1, 2 (deleted), 3 (new), 4 (new)<br>\nLocalList:  0, 1 (delete), 2, 3 (new)</p>\n<p>When syncing, the ids have to be changed to prevent having two separate objects with the same id.</p>\n<p>MergedList: 0, 3, 4, 5 (local id 3 was changed to 5)\n<br>\n<br>\n<br></p>\n<p>I'm experimenting with RxJava, so a quick point in the right direction would be great. Merge? Fork? A combination? Maybe using Filter and adding a field to Object like isSynced?</p>\n"},{"tags":["java","spring-boot","amazon-ses","testcontainers","localstack"],"comments":[{"owner":{"account_id":15769639,"reputation":36,"user_id":11379051,"display_name":"sabbysabs"},"score":1,"creation_date":1649278859,"post_id":71768287,"comment_id":126838735,"body_markdown":"I&#39;ve added a publish to the SNS topic directly and the SQS receives the message, because the test actually passes. So that eliminates the SNS/SQS subscription setup.","body":"I&#39;ve added a publish to the SNS topic directly and the SQS receives the message, because the test actually passes. So that eliminates the SNS/SQS subscription setup."},{"owner":{"account_id":15769639,"reputation":36,"user_id":11379051,"display_name":"sabbysabs"},"score":0,"creation_date":1649422748,"post_id":71768287,"comment_id":126878023,"body_markdown":"I found this PR https://github.com/localstack/localstack/pull/5771 where SES will add ConfigurationSet for sending notifications, it doesn&#39;t look like this feature is currently available on the version that I&#39;m using.","body":"I found this PR <a href=\"https://github.com/localstack/localstack/pull/5771\" rel=\"nofollow noreferrer\">github.com/localstack/localstack/pull/5771</a> where SES will add ConfigurationSet for sending notifications, it doesn&#39;t look like this feature is currently available on the version that I&#39;m using."}],"owner":{"account_id":15769639,"reputation":36,"user_id":11379051,"display_name":"sabbysabs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649969537,"creation_date":1649254091,"question_id":71768287,"body_markdown":"I&#39;m using Spring Boot 2.6.3, with testcontainers version 1.16.3 and aws-java-sdk version 1.12.178. I&#39;m trying to create an Integration test using testcontainers and the testcontainer localstack module. The test is to send an email to SES and have SES publish the message to an SNS topic, where an SQS queue is subscribed to the SNS topic.\r\n\r\nI&#39;ve successfully built a test where I publish a message directly to SNS and read the message from the SQS queue, however going through SES the message never makes it to SQS or at the very least is not getting published.\r\n\r\nI have to think that I&#39;m not setting the ACL correctly or that maybe SES via Localstack does not allow for publishing to other AWS services.\r\n\r\nWhere am I going wrong?\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;jacoco&#39;\r\n    id &#39;idea&#39;\r\n    id &#39;maven-publish&#39;\r\n    id &#39;signing&#39;\r\n    id &#39;com.palantir.docker&#39; version &#39;0.32.0&#39;\r\n    id &#39;net.researchgate.release&#39; version &#39;2.8.1&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.3&#39;\r\n    id &#39;com.diffplug.spotless&#39; version &#39;6.2.0&#39;\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &#39;io.awspring.cloud:spring-cloud-aws-dependencies:2.3.3&#39;\r\n        mavenBom &#39;com.amazonaws:aws-java-sdk-bom:1.12.178&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // implementation\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    implementation &#39;org.projectlombok:lombok&#39;\r\n    implementation &#39;net.devh:grpc-server-spring-boot-starter:2.13.1.RELEASE&#39;\r\n    implementation &#39;org.springframework.data:spring-data-envers&#39;\r\n\r\n    \r\n\r\n    // These dependencies (spring-boot-starter-data-jpa, liquibase-core, postgresql) are needed to\r\n    // have liquibase startup and execute the changelog if you don&#39;t have jpa nothing gets picked\r\n    // up, if you don&#39;t have postgresql we bomb out stating that it can&#39;t find a driver\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.liquibase:liquibase-core&#39;\r\n    implementation &#39;org.postgresql:postgresql&#39;\r\n\r\n    implementation &#39;org.springframework:spring-jms&#39;\r\n    implementation &#39;com.amazonaws:amazon-sqs-java-messaging-lib:1.0.8&#39;\r\n    implementation &#39;com.amazonaws:aws-java-sdk-sns&#39;\r\n    implementation &#39;com.amazonaws:aws-java-sdk-sts&#39;\r\n    implementation &#39;com.amazonaws:aws-java-sdk-core&#39;\r\n    implementation &#39;com.amazonaws:aws-java-sdk-ses&#39;\r\n    implementation &#39;io.awspring.cloud:spring-cloud-starter-aws-secrets-manager-config&#39;\r\n\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    // runtime\r\n    runtimeOnly &#39;org.apache.logging.log4j:log4j-layout-template-json&#39;\r\n\r\n    // testing implementations\r\n    testImplementation &#39;org.mockito:mockito-inline&#39;\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n        exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    }\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-params&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-engine&#39;\r\n    testImplementation &#39;org.testcontainers:testcontainers:1.16.3&#39;\r\n    testImplementation &#39;org.testcontainers:junit-jupiter:1.16.3&#39;\r\n    testImplementation &#39;org.testcontainers:postgresql:1.16.3&#39;\r\n    testImplementation &quot;org.testcontainers:localstack:1.16.3&quot;\r\n    integrationTestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n        exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAbstractIT.java\r\n```\r\n@ActiveProfiles(&quot;it&quot;)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n@ContextConfiguration(initializers = AbstractIT.DockerPostgreDataSourceInitializer.class)\r\n@Transactional\r\n@Testcontainers\r\npublic class AbstractIT {\r\n\r\n  public static final PostgreSQLContainer&lt;?&gt; postgresDBContainer =\r\n      new PostgreSQLContainer&lt;&gt;(&quot;postgres:12.1&quot;);\r\n\r\n  static {\r\n    postgresDBContainer.start();\r\n  }\r\n\r\n  public static class DockerPostgreDataSourceInitializer\r\n      implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n    @Override\r\n    @DynamicPropertySource\r\n    public void initialize(ConfigurableApplicationContext applicationContext) {\r\n      TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\r\n          applicationContext,\r\n          &quot;spring.datasource.web.hikari.jdbc-url=&quot; + postgresDBContainer.getJdbcUrl(),\r\n          &quot;spring.datasource.web.hikari.username=&quot; + postgresDBContainer.getUsername(),\r\n          &quot;spring.datasource.password=&quot; + postgresDBContainer.getPassword());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nLocalStackAbstractIT.java\r\n```\r\n@Testcontainers\r\npublic class LocalStackAbstractIT extends AbstractIT {\r\n\r\n  @ClassRule\r\n  public static final LocalStackContainer localStackContainer =\r\n      new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack&quot;).withTag(&quot;0.14.2&quot;))\r\n          .withServices(Service.S3, Service.SES, Service.SNS, Service.SQS)\r\n          .withEnv(&quot;AWS_ACCESS_KEY_ID&quot;, &quot;accesskey&quot;)\r\n          .withEnv(&quot;AWS_SECRET_ACCESS_KEY&quot;, &quot;secretkey&quot;);\r\n\r\n  static {\r\n    localStackContainer.start();\r\n    try {\r\n      verifyEmail();\r\n    } catch (IOException | InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n\r\n  private static void verifyEmail() throws IOException, InterruptedException {\r\n    String command =\r\n        &quot;aws ses verify-email-identity --email-address no-reply@sabbysabs.com --region us-east-1 --endpoint-url http://localhost:4566&quot;;\r\n    ExecResult result = localStackContainer.execInContainer(command.split(&quot; &quot;));\r\n    if (result.getExitCode() != 0) {\r\n      throw new RuntimeException(result.getStderr());\r\n    }\r\n  }\r\n\r\n  @DynamicPropertySource\r\n  static void overrideConfiguration(DynamicPropertyRegistry registry) {\r\n    registry.add(\r\n        &quot;cloud.aws.sqs.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(Service.SQS));\r\n    registry.add(\r\n        &quot;cloud.aws.s3.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(Service.S3));\r\n    registry.add(\r\n        &quot;cloud.aws.sns.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(Service.SNS));\r\n    registry.add(\r\n        &quot;cloud.aws.ses.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(Service.SES));\r\n    registry.add(&quot;cloud.aws.credentials.access-key&quot;, localStackContainer::getAccessKey);\r\n    registry.add(&quot;cloud.aws.credentials.secret-key&quot;, localStackContainer::getSecretKey);\r\n  }\r\n\r\n}\r\n```\r\n\r\nEmailNotificationRequestHandlerITTest.java\r\n```\r\n@AutoConfigureTestEntityManager\r\npublic class EmailNotificationRequestHandlerITTest extends LocalStackAbstractIT {\r\n  @Autowired private ApplicationConfig config;\r\n  @Autowired private NotificationRepository notificationRepository;\r\n  @Autowired private TemplateRepository templateRepository;\r\n  @Autowired private EmailNotificationRepository emailNotificationRepository;\r\n  @Autowired private AmazonSNS snsClient;\r\n  @Autowired private AmazonSQS sqsClient;\r\n  @Autowired private AmazonSimpleEmailService sesClient;\r\n  @Autowired private EmailNotificationRequestHandler handler;\r\n  @Autowired private ObjectMapper objectMapper;\r\n\r\n  @Test\r\n  public void testHandleEmailNotificationCreate() throws JsonProcessingException {\r\n    ConfigurationSet configurationSet = new ConfigurationSet();\r\n    configurationSet.withName(&quot;click-send-local&quot;);\r\n\r\n    CreateConfigurationSetRequest createConfigurationSetRequest =\r\n            new CreateConfigurationSetRequest();\r\n    createConfigurationSetRequest.withConfigurationSet(configurationSet);\r\n    sesClient.createConfigurationSet(createConfigurationSetRequest);\r\n\r\n    CreateTopicResult emailRequestActivityTopic =\r\n        snsClient.createTopic(&quot;EmailRequestActivityTopicITTest&quot;);\r\n    Condition accountCondition = new StringCondition(StringComparisonType.StringEqualsIgnoreCase, &quot;AWS:SourceAccount&quot;, &quot;000000000000&quot;);\r\n    Condition sourceArnCondition = new StringCondition(StringComparisonType.StringEqualsIgnoreCase, &quot;AWS:SourceArn&quot;, &quot;arn:aws:ses:us-east-1:000000000000:configuration-set/click-send-local&quot;);\r\n    Policy policy =\r\n        new Policy()\r\n            .withStatements(\r\n                new Statement(Effect.Allow)\r\n                    .withPrincipals(Principal.All)\r\n                    .withActions(SNSActions.Publish)\r\n                    .withResources(new Resource(emailRequestActivityTopic.getTopicArn()))\r\n                    .withConditions(accountCondition, sourceArnCondition));\r\n    SetTopicAttributesRequest setTopicAttributesRequest = new SetTopicAttributesRequest();\r\n    setTopicAttributesRequest\r\n        .withTopicArn(emailRequestActivityTopic.getTopicArn())\r\n        .withAttributeName(&quot;Policy&quot;)\r\n        .withAttributeValue(policy.toJson());\r\n    snsClient.setTopicAttributes(setTopicAttributesRequest);\r\n\r\n    CreateQueueResult emailRequestActivityQueueResult =\r\n        sqsClient.createQueue(config.notificationEmailRequestActivityCreateQueue);\r\n    SubscribeRequest subscribeRequest = new SubscribeRequest();\r\n    subscribeRequest\r\n        .withTopicArn(emailRequestActivityTopic.getTopicArn())\r\n        .withEndpoint(emailRequestActivityQueueResult.getQueueUrl())\r\n        .withProtocol(&quot;sqs&quot;);\r\n    snsClient.subscribe(subscribeRequest);\r\n\r\n    SNSDestination snsDestination = new SNSDestination();\r\n    snsDestination.withTopicARN(emailRequestActivityTopic.getTopicArn());\r\n    EventDestination eventDestination = new EventDestination();\r\n    eventDestination\r\n        .withSNSDestination(snsDestination)\r\n        .withName(&quot;EmailRequestActivityTopicITTest&quot;)\r\n        .withEnabled(true)\r\n        .withMatchingEventTypes(\r\n            &quot;Send&quot;,\r\n            &quot;Reject&quot;,\r\n            &quot;Bounce&quot;,\r\n            &quot;Complaint&quot;,\r\n            &quot;Delivery&quot;,\r\n            &quot;Open&quot;,\r\n            &quot;Click&quot;,\r\n            &quot;RenderingFailure&quot;);\r\n    CreateConfigurationSetEventDestinationRequest configurationSetEventDestinationRequest =\r\n        new CreateConfigurationSetEventDestinationRequest();\r\n    configurationSetEventDestinationRequest\r\n        .withConfigurationSetName(configurationSet.getName())\r\n        .withEventDestination(eventDestination);\r\n    sesClient.createConfigurationSetEventDestination(configurationSetEventDestinationRequest);\r\n\r\n    NotificationRequest notificationRequest = createNotificationRequest();\r\n    EmailNotification emailNotification =\r\n        EmailNotification.builder()\r\n            .notificationRequest(notificationRequest)\r\n            .toAddress(&quot;emailExample@domain.com&quot;)\r\n            .title(&quot;title&quot;)\r\n            .message(&quot;message&quot;)\r\n            .actionText(&quot;actionText&quot;)\r\n            .actionUrl(&quot;actionUrl&quot;)\r\n            .status(EmailNotificationStatus.PENDING)\r\n            .id(UUID.randomUUID())\r\n            .build();\r\n    EmailNotification savedEmailNotification = emailNotificationRepository.save(emailNotification);\r\n    EmailNotificationMessage emailNotificationMessage = new EmailNotificationMessage();\r\n    emailNotificationMessage.setId(savedEmailNotification.getId().toString());\r\n    handler.handleEmailNotificationCreate(emailNotificationMessage);\r\n\r\n    EmailNotification finalEmailNotification =\r\n        emailNotificationRepository.getById(savedEmailNotification.getId());\r\n    assertNotNull(finalEmailNotification.getMessageId());\r\n\r\n    ReceiveMessageResult receiveMessageResult =\r\n        sqsClient.receiveMessage(emailRequestActivityQueueResult.getQueueUrl());\r\n    assertNotNull(receiveMessageResult);\r\n    List&lt;Message&gt; messageList = receiveMessageResult.getMessages();\r\n    assertNotNull(messageList);\r\n    assertFalse(messageList.isEmpty());\r\n    assertEquals(1, messageList.size());\r\n    Message message = messageList.get(0);\r\n    Map&lt;String, String&gt; payload = objectMapper.readValue(message.getBody(), Map.class);\r\n    String messageStr = payload.get(&quot;Message&quot;);\r\n    System.out.println(&quot;MS STR: &quot; + messageStr);\r\n  }\r\n\r\n  private NotificationRequest createNotificationRequest() {\r\n    return createNotificationRequest(UUID.randomUUID());\r\n  }\r\n\r\n  private NotificationRequest createNotificationRequest(UUID id) {\r\n    UUID templateId = createTemplate();\r\n    NotificationRequest request =\r\n        NotificationRequest.builder()\r\n            .id(id)\r\n            .templateId(templateId)\r\n            .languageTag(&quot;language-tag&quot;)\r\n            .relatedUserId(&quot;recipientId&quot;)\r\n            .createdAt(null)\r\n            .build();\r\n\r\n    return notificationRepository.saveAndFlush(request);\r\n  }\r\n\r\n  private UUID createTemplate() {\r\n    return createTemplate(UUID.randomUUID());\r\n  }\r\n\r\n  private UUID createTemplate(UUID id) {\r\n    Template template =\r\n        Template.builder()\r\n            .id(id)\r\n            .translationGroupId(&quot;translationGroupId-NotificationRepository&quot;)\r\n            .titleKey(&quot;title-NotificationRepository&quot;)\r\n            .messageKey(&quot;message-NotificationRepository&quot;)\r\n            .application(&quot;application-NotificationRepository&quot;)\r\n            .owner(&quot;ownerIntegrationTest-NotificationRepository&quot;)\r\n            .recipient(TemplateRecipient.SABBY_USER)\r\n            .status(TemplateStatus.DRAFT)\r\n            .urgent(false)\r\n            .library(false)\r\n            .build();\r\n    templateRepository.saveAndFlush(template);\r\n    return id;\r\n  }\r\n}\r\n```\r\n\r\nEmailNotificationRequestHandler.java\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n@Validated\r\npublic class EmailNotificationRequestHandler {\r\n  private final EmailNotificationRepository emailNotificationRepository;\r\n  private final TemplateRepository templateRepository;\r\n  private final AmazonSimpleEmailService sesClient;\r\n  private final ApplicationConfig applicationConfig;\r\n\r\n  @Transactional\r\n  public void handleEmailNotificationCreate(@Valid @NotNull EmailNotificationMessage message) {\r\n    String id = message.getId();\r\n    log.debug(&quot;sending email notification for {}&quot;, id);\r\n    Optional&lt;EmailNotification&gt; optionalEmailNotification =\r\n        emailNotificationRepository.findById(UUID.fromString(id));\r\n    if (optionalEmailNotification.isEmpty()) {\r\n      String errorMsg = String.format(&quot;Email Notification %s does not exist, unable to send.&quot;, id);\r\n      log.warn(errorMsg);\r\n      throw new IllegalArgumentException(errorMsg);\r\n    }\r\n    EmailNotification emailNotification = optionalEmailNotification.get();\r\n    Optional&lt;Template&gt; optionalTemplate =\r\n        templateRepository.findById(emailNotification.getNotificationRequest().getTemplateId());\r\n    if (optionalTemplate.isEmpty()) {\r\n      String errorMsg =\r\n          String.format(\r\n              &quot;Template with id %s, does not exist for Email Notification %s&quot;,\r\n              emailNotification.getNotificationRequest().getTemplateId(), id);\r\n      log.warn(errorMsg);\r\n      throw new IllegalArgumentException(errorMsg);\r\n    }\r\n    Template template = optionalTemplate.get();\r\n    log.debug(&quot;Found Template: {} for EmailNotification: {}&quot;, template, emailNotification);\r\n    SendEmailRequest emailRequest = buildSendEmailRequest(emailNotification, template);\r\n    log.debug(&quot;Built Send Email Request: {}&quot;, emailRequest);\r\n    SendEmailResult result = sesClient.sendEmail(emailRequest);\r\n    log.debug(&quot;Sent Email Result: {}&quot;, result.toString());\r\n    EmailNotification updateEmailNotification =\r\n        emailNotification.toBuilder().messageId(result.getMessageId()).build();\r\n    EmailNotification savedUpdateEmailNotification =\r\n        emailNotificationRepository.save(updateEmailNotification);\r\n    log.debug(&quot;Saved Updated Email Notification: {}&quot;, savedUpdateEmailNotification);\r\n  }\r\n\r\n  @VisibleForTesting\r\n  SendEmailRequest buildSendEmailRequest(\r\n      @NonNull EmailNotification emailNotification, @NonNull Template template) {\r\n    return new SendEmailRequest()\r\n        .withDestination(new Destination().withToAddresses(emailNotification.getToAddress()))\r\n        .withMessage(\r\n            new Message(\r\n                new Content(emailNotification.getTitle()),\r\n                new Body(new Content(emailNotification.getMessage()))))\r\n        .withSource(applicationConfig.emailSourceAddress)\r\n        .withConfigurationSetName(applicationConfig.sesConfigSet)\r\n        .withTags(getMessageTags(template.getApplication() + &quot;-&quot; + template.getTitleKey()));\r\n  }\r\n\r\n  @VisibleForTesting\r\n  MessageTag getMessageTags(@NonNull String name) {\r\n    MessageTag tags = new MessageTag().withName(applicationConfig.cloudWatchMetric).withValue(name);\r\n    return tags;\r\n  }\r\n}\r\n```","title":"Testcontainers, Localstack SES and Publishing to SNS","body":"<p>I'm using Spring Boot 2.6.3, with testcontainers version 1.16.3 and aws-java-sdk version 1.12.178. I'm trying to create an Integration test using testcontainers and the testcontainer localstack module. The test is to send an email to SES and have SES publish the message to an SNS topic, where an SQS queue is subscribed to the SNS topic.</p>\n<p>I've successfully built a test where I publish a message directly to SNS and read the message from the SQS queue, however going through SES the message never makes it to SQS or at the very least is not getting published.</p>\n<p>I have to think that I'm not setting the ACL correctly or that maybe SES via Localstack does not allow for publishing to other AWS services.</p>\n<p>Where am I going wrong?</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'jacoco'\n    id 'idea'\n    id 'maven-publish'\n    id 'signing'\n    id 'com.palantir.docker' version '0.32.0'\n    id 'net.researchgate.release' version '2.8.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'org.springframework.boot' version '2.6.3'\n    id 'com.diffplug.spotless' version '6.2.0'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom 'io.awspring.cloud:spring-cloud-aws-dependencies:2.3.3'\n        mavenBom 'com.amazonaws:aws-java-sdk-bom:1.12.178'\n    }\n}\n\ndependencies {\n    // implementation\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.projectlombok:lombok'\n    implementation 'net.devh:grpc-server-spring-boot-starter:2.13.1.RELEASE'\n    implementation 'org.springframework.data:spring-data-envers'\n\n    \n\n    // These dependencies (spring-boot-starter-data-jpa, liquibase-core, postgresql) are needed to\n    // have liquibase startup and execute the changelog if you don't have jpa nothing gets picked\n    // up, if you don't have postgresql we bomb out stating that it can't find a driver\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.liquibase:liquibase-core'\n    implementation 'org.postgresql:postgresql'\n\n    implementation 'org.springframework:spring-jms'\n    implementation 'com.amazonaws:amazon-sqs-java-messaging-lib:1.0.8'\n    implementation 'com.amazonaws:aws-java-sdk-sns'\n    implementation 'com.amazonaws:aws-java-sdk-sts'\n    implementation 'com.amazonaws:aws-java-sdk-core'\n    implementation 'com.amazonaws:aws-java-sdk-ses'\n    implementation 'io.awspring.cloud:spring-cloud-starter-aws-secrets-manager-config'\n\n    annotationProcessor 'org.projectlombok:lombok'\n\n    // runtime\n    runtimeOnly 'org.apache.logging.log4j:log4j-layout-template-json'\n\n    // testing implementations\n    testImplementation 'org.mockito:mockito-inline'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation 'org.junit.jupiter:junit-jupiter-api'\n    testImplementation 'org.junit.jupiter:junit-jupiter-params'\n    testImplementation 'org.junit.jupiter:junit-jupiter-engine'\n    testImplementation 'org.testcontainers:testcontainers:1.16.3'\n    testImplementation 'org.testcontainers:junit-jupiter:1.16.3'\n    testImplementation 'org.testcontainers:postgresql:1.16.3'\n    testImplementation &quot;org.testcontainers:localstack:1.16.3&quot;\n    integrationTestImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n\n</code></pre>\n<p>AbstractIT.java</p>\n<pre><code>@ActiveProfiles(&quot;it&quot;)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@ContextConfiguration(initializers = AbstractIT.DockerPostgreDataSourceInitializer.class)\n@Transactional\n@Testcontainers\npublic class AbstractIT {\n\n  public static final PostgreSQLContainer&lt;?&gt; postgresDBContainer =\n      new PostgreSQLContainer&lt;&gt;(&quot;postgres:12.1&quot;);\n\n  static {\n    postgresDBContainer.start();\n  }\n\n  public static class DockerPostgreDataSourceInitializer\n      implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n    @Override\n    @DynamicPropertySource\n    public void initialize(ConfigurableApplicationContext applicationContext) {\n      TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\n          applicationContext,\n          &quot;spring.datasource.web.hikari.jdbc-url=&quot; + postgresDBContainer.getJdbcUrl(),\n          &quot;spring.datasource.web.hikari.username=&quot; + postgresDBContainer.getUsername(),\n          &quot;spring.datasource.password=&quot; + postgresDBContainer.getPassword());\n    }\n  }\n}\n</code></pre>\n<p>LocalStackAbstractIT.java</p>\n<pre><code>@Testcontainers\npublic class LocalStackAbstractIT extends AbstractIT {\n\n  @ClassRule\n  public static final LocalStackContainer localStackContainer =\n      new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack&quot;).withTag(&quot;0.14.2&quot;))\n          .withServices(Service.S3, Service.SES, Service.SNS, Service.SQS)\n          .withEnv(&quot;AWS_ACCESS_KEY_ID&quot;, &quot;accesskey&quot;)\n          .withEnv(&quot;AWS_SECRET_ACCESS_KEY&quot;, &quot;secretkey&quot;);\n\n  static {\n    localStackContainer.start();\n    try {\n      verifyEmail();\n    } catch (IOException | InterruptedException e) {\n      e.printStackTrace();\n    }\n  }\n\n  private static void verifyEmail() throws IOException, InterruptedException {\n    String command =\n        &quot;aws ses verify-email-identity --email-address no-reply@sabbysabs.com --region us-east-1 --endpoint-url http://localhost:4566&quot;;\n    ExecResult result = localStackContainer.execInContainer(command.split(&quot; &quot;));\n    if (result.getExitCode() != 0) {\n      throw new RuntimeException(result.getStderr());\n    }\n  }\n\n  @DynamicPropertySource\n  static void overrideConfiguration(DynamicPropertyRegistry registry) {\n    registry.add(\n        &quot;cloud.aws.sqs.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(Service.SQS));\n    registry.add(\n        &quot;cloud.aws.s3.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(Service.S3));\n    registry.add(\n        &quot;cloud.aws.sns.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(Service.SNS));\n    registry.add(\n        &quot;cloud.aws.ses.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(Service.SES));\n    registry.add(&quot;cloud.aws.credentials.access-key&quot;, localStackContainer::getAccessKey);\n    registry.add(&quot;cloud.aws.credentials.secret-key&quot;, localStackContainer::getSecretKey);\n  }\n\n}\n</code></pre>\n<p>EmailNotificationRequestHandlerITTest.java</p>\n<pre><code>@AutoConfigureTestEntityManager\npublic class EmailNotificationRequestHandlerITTest extends LocalStackAbstractIT {\n  @Autowired private ApplicationConfig config;\n  @Autowired private NotificationRepository notificationRepository;\n  @Autowired private TemplateRepository templateRepository;\n  @Autowired private EmailNotificationRepository emailNotificationRepository;\n  @Autowired private AmazonSNS snsClient;\n  @Autowired private AmazonSQS sqsClient;\n  @Autowired private AmazonSimpleEmailService sesClient;\n  @Autowired private EmailNotificationRequestHandler handler;\n  @Autowired private ObjectMapper objectMapper;\n\n  @Test\n  public void testHandleEmailNotificationCreate() throws JsonProcessingException {\n    ConfigurationSet configurationSet = new ConfigurationSet();\n    configurationSet.withName(&quot;click-send-local&quot;);\n\n    CreateConfigurationSetRequest createConfigurationSetRequest =\n            new CreateConfigurationSetRequest();\n    createConfigurationSetRequest.withConfigurationSet(configurationSet);\n    sesClient.createConfigurationSet(createConfigurationSetRequest);\n\n    CreateTopicResult emailRequestActivityTopic =\n        snsClient.createTopic(&quot;EmailRequestActivityTopicITTest&quot;);\n    Condition accountCondition = new StringCondition(StringComparisonType.StringEqualsIgnoreCase, &quot;AWS:SourceAccount&quot;, &quot;000000000000&quot;);\n    Condition sourceArnCondition = new StringCondition(StringComparisonType.StringEqualsIgnoreCase, &quot;AWS:SourceArn&quot;, &quot;arn:aws:ses:us-east-1:000000000000:configuration-set/click-send-local&quot;);\n    Policy policy =\n        new Policy()\n            .withStatements(\n                new Statement(Effect.Allow)\n                    .withPrincipals(Principal.All)\n                    .withActions(SNSActions.Publish)\n                    .withResources(new Resource(emailRequestActivityTopic.getTopicArn()))\n                    .withConditions(accountCondition, sourceArnCondition));\n    SetTopicAttributesRequest setTopicAttributesRequest = new SetTopicAttributesRequest();\n    setTopicAttributesRequest\n        .withTopicArn(emailRequestActivityTopic.getTopicArn())\n        .withAttributeName(&quot;Policy&quot;)\n        .withAttributeValue(policy.toJson());\n    snsClient.setTopicAttributes(setTopicAttributesRequest);\n\n    CreateQueueResult emailRequestActivityQueueResult =\n        sqsClient.createQueue(config.notificationEmailRequestActivityCreateQueue);\n    SubscribeRequest subscribeRequest = new SubscribeRequest();\n    subscribeRequest\n        .withTopicArn(emailRequestActivityTopic.getTopicArn())\n        .withEndpoint(emailRequestActivityQueueResult.getQueueUrl())\n        .withProtocol(&quot;sqs&quot;);\n    snsClient.subscribe(subscribeRequest);\n\n    SNSDestination snsDestination = new SNSDestination();\n    snsDestination.withTopicARN(emailRequestActivityTopic.getTopicArn());\n    EventDestination eventDestination = new EventDestination();\n    eventDestination\n        .withSNSDestination(snsDestination)\n        .withName(&quot;EmailRequestActivityTopicITTest&quot;)\n        .withEnabled(true)\n        .withMatchingEventTypes(\n            &quot;Send&quot;,\n            &quot;Reject&quot;,\n            &quot;Bounce&quot;,\n            &quot;Complaint&quot;,\n            &quot;Delivery&quot;,\n            &quot;Open&quot;,\n            &quot;Click&quot;,\n            &quot;RenderingFailure&quot;);\n    CreateConfigurationSetEventDestinationRequest configurationSetEventDestinationRequest =\n        new CreateConfigurationSetEventDestinationRequest();\n    configurationSetEventDestinationRequest\n        .withConfigurationSetName(configurationSet.getName())\n        .withEventDestination(eventDestination);\n    sesClient.createConfigurationSetEventDestination(configurationSetEventDestinationRequest);\n\n    NotificationRequest notificationRequest = createNotificationRequest();\n    EmailNotification emailNotification =\n        EmailNotification.builder()\n            .notificationRequest(notificationRequest)\n            .toAddress(&quot;emailExample@domain.com&quot;)\n            .title(&quot;title&quot;)\n            .message(&quot;message&quot;)\n            .actionText(&quot;actionText&quot;)\n            .actionUrl(&quot;actionUrl&quot;)\n            .status(EmailNotificationStatus.PENDING)\n            .id(UUID.randomUUID())\n            .build();\n    EmailNotification savedEmailNotification = emailNotificationRepository.save(emailNotification);\n    EmailNotificationMessage emailNotificationMessage = new EmailNotificationMessage();\n    emailNotificationMessage.setId(savedEmailNotification.getId().toString());\n    handler.handleEmailNotificationCreate(emailNotificationMessage);\n\n    EmailNotification finalEmailNotification =\n        emailNotificationRepository.getById(savedEmailNotification.getId());\n    assertNotNull(finalEmailNotification.getMessageId());\n\n    ReceiveMessageResult receiveMessageResult =\n        sqsClient.receiveMessage(emailRequestActivityQueueResult.getQueueUrl());\n    assertNotNull(receiveMessageResult);\n    List&lt;Message&gt; messageList = receiveMessageResult.getMessages();\n    assertNotNull(messageList);\n    assertFalse(messageList.isEmpty());\n    assertEquals(1, messageList.size());\n    Message message = messageList.get(0);\n    Map&lt;String, String&gt; payload = objectMapper.readValue(message.getBody(), Map.class);\n    String messageStr = payload.get(&quot;Message&quot;);\n    System.out.println(&quot;MS STR: &quot; + messageStr);\n  }\n\n  private NotificationRequest createNotificationRequest() {\n    return createNotificationRequest(UUID.randomUUID());\n  }\n\n  private NotificationRequest createNotificationRequest(UUID id) {\n    UUID templateId = createTemplate();\n    NotificationRequest request =\n        NotificationRequest.builder()\n            .id(id)\n            .templateId(templateId)\n            .languageTag(&quot;language-tag&quot;)\n            .relatedUserId(&quot;recipientId&quot;)\n            .createdAt(null)\n            .build();\n\n    return notificationRepository.saveAndFlush(request);\n  }\n\n  private UUID createTemplate() {\n    return createTemplate(UUID.randomUUID());\n  }\n\n  private UUID createTemplate(UUID id) {\n    Template template =\n        Template.builder()\n            .id(id)\n            .translationGroupId(&quot;translationGroupId-NotificationRepository&quot;)\n            .titleKey(&quot;title-NotificationRepository&quot;)\n            .messageKey(&quot;message-NotificationRepository&quot;)\n            .application(&quot;application-NotificationRepository&quot;)\n            .owner(&quot;ownerIntegrationTest-NotificationRepository&quot;)\n            .recipient(TemplateRecipient.SABBY_USER)\n            .status(TemplateStatus.DRAFT)\n            .urgent(false)\n            .library(false)\n            .build();\n    templateRepository.saveAndFlush(template);\n    return id;\n  }\n}\n</code></pre>\n<p>EmailNotificationRequestHandler.java</p>\n<pre><code>@Component\n@RequiredArgsConstructor\n@Slf4j\n@Validated\npublic class EmailNotificationRequestHandler {\n  private final EmailNotificationRepository emailNotificationRepository;\n  private final TemplateRepository templateRepository;\n  private final AmazonSimpleEmailService sesClient;\n  private final ApplicationConfig applicationConfig;\n\n  @Transactional\n  public void handleEmailNotificationCreate(@Valid @NotNull EmailNotificationMessage message) {\n    String id = message.getId();\n    log.debug(&quot;sending email notification for {}&quot;, id);\n    Optional&lt;EmailNotification&gt; optionalEmailNotification =\n        emailNotificationRepository.findById(UUID.fromString(id));\n    if (optionalEmailNotification.isEmpty()) {\n      String errorMsg = String.format(&quot;Email Notification %s does not exist, unable to send.&quot;, id);\n      log.warn(errorMsg);\n      throw new IllegalArgumentException(errorMsg);\n    }\n    EmailNotification emailNotification = optionalEmailNotification.get();\n    Optional&lt;Template&gt; optionalTemplate =\n        templateRepository.findById(emailNotification.getNotificationRequest().getTemplateId());\n    if (optionalTemplate.isEmpty()) {\n      String errorMsg =\n          String.format(\n              &quot;Template with id %s, does not exist for Email Notification %s&quot;,\n              emailNotification.getNotificationRequest().getTemplateId(), id);\n      log.warn(errorMsg);\n      throw new IllegalArgumentException(errorMsg);\n    }\n    Template template = optionalTemplate.get();\n    log.debug(&quot;Found Template: {} for EmailNotification: {}&quot;, template, emailNotification);\n    SendEmailRequest emailRequest = buildSendEmailRequest(emailNotification, template);\n    log.debug(&quot;Built Send Email Request: {}&quot;, emailRequest);\n    SendEmailResult result = sesClient.sendEmail(emailRequest);\n    log.debug(&quot;Sent Email Result: {}&quot;, result.toString());\n    EmailNotification updateEmailNotification =\n        emailNotification.toBuilder().messageId(result.getMessageId()).build();\n    EmailNotification savedUpdateEmailNotification =\n        emailNotificationRepository.save(updateEmailNotification);\n    log.debug(&quot;Saved Updated Email Notification: {}&quot;, savedUpdateEmailNotification);\n  }\n\n  @VisibleForTesting\n  SendEmailRequest buildSendEmailRequest(\n      @NonNull EmailNotification emailNotification, @NonNull Template template) {\n    return new SendEmailRequest()\n        .withDestination(new Destination().withToAddresses(emailNotification.getToAddress()))\n        .withMessage(\n            new Message(\n                new Content(emailNotification.getTitle()),\n                new Body(new Content(emailNotification.getMessage()))))\n        .withSource(applicationConfig.emailSourceAddress)\n        .withConfigurationSetName(applicationConfig.sesConfigSet)\n        .withTags(getMessageTags(template.getApplication() + &quot;-&quot; + template.getTitleKey()));\n  }\n\n  @VisibleForTesting\n  MessageTag getMessageTags(@NonNull String name) {\n    MessageTag tags = new MessageTag().withName(applicationConfig.cloudWatchMetric).withValue(name);\n    return tags;\n  }\n}\n</code></pre>\n"},{"tags":["java","arrays","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649964436,"post_id":71876672,"comment_id":127013323,"body_markdown":"The formula will depend on the dimensions of the component and the grid.  Please show real [mre] code if possible.","body":"The formula will depend on the dimensions of the component and the grid.  Please show real <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code if possible."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649964469,"post_id":71876672,"comment_id":127013337,"body_markdown":"Better still, fill the JPanel with a grid of JLabel using a GridLayout, and give the JLabels a MouseListener.","body":"Better still, fill the JPanel with a grid of JLabel using a GridLayout, and give the JLabels a MouseListener."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1649964936,"post_id":71876672,"comment_id":127013474,"body_markdown":"But for your example, int remainder (`%`) and int division (`/`) will be all you need.","body":"But for your example, int remainder (<code>%</code>) and int division (<code>&#47;</code>) will be all you need."},{"owner":{"account_id":24940065,"reputation":41,"user_id":18806082,"display_name":"Ernest P W"},"score":0,"creation_date":1649965256,"post_id":71876672,"comment_id":127013574,"body_markdown":"The problem is that I can&#39;t use JLabel cause each Rectangle should be a representation of a &quot;pixel&quot; and should change its color after a certain MouseEvent. I had a solution in which i iterated through the entire array to check if given point is within a rectangle, but I want to optimize it by getting the indices directly through calculation.","body":"The problem is that I can&#39;t use JLabel cause each Rectangle should be a representation of a &quot;pixel&quot; and should change its color after a certain MouseEvent. I had a solution in which i iterated through the entire array to check if given point is within a rectangle, but I want to optimize it by getting the indices directly through calculation."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649965338,"post_id":71876672,"comment_id":127013597,"body_markdown":"*&quot;The problem is that I can&#39;t use JLabel cause each Rectangle should be a representation of a &quot;pixel&quot; and should change its color after a certain MouseEvent.&quot;* -- this hardly rules out use of a JLabel. The representation of the rectangle is all about your program&#39;s underlying model and has nothing to do with what you choose to represent it with. Separate your concerns.","body":"<i>&quot;The problem is that I can&#39;t use JLabel cause each Rectangle should be a representation of a &quot;pixel&quot; and should change its color after a certain MouseEvent.&quot;</i> -- this hardly rules out use of a JLabel. The representation of the rectangle is all about your program&#39;s underlying model and has nothing to do with what you choose to represent it with. Separate your concerns."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649965369,"post_id":71876672,"comment_id":127013610,"body_markdown":"As far as &quot;optimization&quot; that also doesn&#39;t make sense since these issues have little to do with program bottleneck.","body":"As far as &quot;optimization&quot; that also doesn&#39;t make sense since these issues have little to do with program bottleneck."},{"owner":{"account_id":24940065,"reputation":41,"user_id":18806082,"display_name":"Ernest P W"},"score":0,"creation_date":1649967913,"post_id":71876672,"comment_id":127014359,"body_markdown":"@HovercraftFullOfEels I probably didn&#39;t make myself clear enough, so I made a short code representation of my problem. mousePositionToRectangleIndex() should return a Point with the indices of the Rectangle-object in &quot;grid&quot;-array.","body":"@HovercraftFullOfEels I probably didn&#39;t make myself clear enough, so I made a short code representation of my problem. mousePositionToRectangleIndex() should return a Point with the indices of the Rectangle-object in &quot;grid&quot;-array."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649969093,"creation_date":1649968532,"answer_id":71877343,"question_id":71876672,"body_markdown":"You can simply check which rectangle has been pressed in your mouse listener to find out your i and j. For example:\r\n\r\n1. give the grid JPanel a preferred size, not a size:\r\n\r\n```\r\n    public Grid() {\r\n        // this.setSize(300, 300);\r\n    \tsetPreferredSize(new Dimension(300, 300));\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                grid[i][j] = new Rectangle((i * getPreferredSize().width) / 10, (j * getPreferredSize().height) / 10, 30, 30);\r\n            }\r\n        }\r\n        \r\n        addMouseListener(new MyMouse());\r\n    }\r\n```\r\n\r\n2. give it a MouseListener that checks if a rectangle contains the click point:\r\n\r\n```\r\n    private class MyMouse extends MouseAdapter {\r\n    \t@Override\r\n    \tpublic void mousePressed(MouseEvent e) {\r\n    \t\tfor (int i = 0; i &lt; grid.length; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; grid[i].length; j++) {\r\n\t\t\t\t\tif (grid[i][j].contains(e.getPoint())) {\r\n\t\t\t\t\t\tSystem.out.printf(&quot;Point pressed, i, j: [%d, %d]%n&quot;, i, j);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n    \t}\r\n    }\r\n```\r\n\r\n3. Don&#39;t set the JFrame&#39;s size (you&#39;re forgetting the menu bar takes space, but rather pack it:\r\n\r\n```\r\n        frame.add(grid);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        // frame.setSize(300, 300);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n```\r\n\r\nFor example:\r\n\r\n```\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Point;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseMotionListener;\r\n\r\npublic class Grid extends JPanel {\r\n    private final Rectangle[][] grid = new Rectangle[10][10];\r\n\r\n    public Grid() {\r\n        // this.setSize(300, 300);\r\n    \tsetPreferredSize(new Dimension(300, 300));\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                grid[i][j] = new Rectangle((i * getPreferredSize().width) / 10, (j * getPreferredSize().height) / 10, 30, 30);\r\n            }\r\n        }\r\n        \r\n        addMouseListener(new MyMouse());\r\n    }\r\n    \r\n    private class MyMouse extends MouseAdapter {\r\n    \t@Override\r\n    \tpublic void mousePressed(MouseEvent e) {\r\n    \t\tfor (int i = 0; i &lt; grid.length; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; grid[i].length; j++) {\r\n\t\t\t\t\tif (grid[i][j].contains(e.getPoint())) {\r\n\t\t\t\t\t\tSystem.out.printf(&quot;Point pressed, i, j: [%d, %d]%n&quot;, i, j);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n    \t}\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                g2.setColor(Color.BLUE);\r\n                // g.fillRect((int) grid[i][j].getX(), (int) grid[i][j].getY(), (int) grid[i][j].getWidth(), (int) grid[i][j].getHeight());\r\n                g2.fill(grid[i][j]);\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public static Point mousePositionToRectangleIndex(int xPos, int yPos) {\r\n        //Problem:\r\n        //int indexX = formulaHere;\r\n        //int indexY = formulaHere;\r\n        // return new Point(indexX, indexY);\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        Grid grid = new Grid();\r\n        MouseMotionListener mml = new MouseMotionListener() {\r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n                mousePositionToRectangleIndex(e.getX(), e.getY());\r\n            }\r\n\r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n\r\n            }\r\n        };\r\n        // frame.addMouseMotionListener(mml);\r\n        frame.add(grid);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        // frame.setSize(300, 300);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nBut having said that, the whole thing can be done with a JLabel grid, and perhaps a little more cleanly too. Here I increment the color of the clicked cell:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.swing.*;\r\n\r\npublic class Grid2 {\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tGridPanel mainPanel = new GridPanel();\r\n\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(mainPanel);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass GridPanel extends JPanel {\r\n\tprivate static final int SIDES = 10;\r\n\tprivate static final int MAX_COLORS = 6;\r\n\tprivate static final Dimension LABEL_SIZE = new Dimension(30, 30);\r\n\tprivate int[][] model = new int[SIDES][SIDES];\r\n\tprivate JLabel[][] labelGrid = new JLabel[SIDES][SIDES];\r\n\tprivate List&lt;Color&gt; colors = new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic GridPanel() {\r\n\t\tfor (int i = 0; i &lt; MAX_COLORS; i++) {\r\n\t\t\tfloat hue = ((float) i) / MAX_COLORS;\r\n\t\t\tColor c = Color.getHSBColor(hue, 1f, 1f);\r\n\t\t\tcolors.add(c);\r\n\t\t}\r\n\t\tsetLayout(new GridLayout(SIDES, SIDES));\r\n\t\tfor (int i = 0; i &lt; labelGrid.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; labelGrid[i].length; j++) {\r\n\t\t\t\tmodel[i][j] = 0;\r\n\t\t\t\tJLabel label = new JLabel();\r\n\t\t\t\tlabel.setPreferredSize(LABEL_SIZE);\r\n\t\t\t\tlabel.setOpaque(true);\r\n\t\t\t\tlabel.setBackground(colors.get(0));\r\n\t\t\t\tlabel.addMouseListener(new MyMouse(i, j));\r\n\t\t\t\tlabelGrid[i][j] = label;\r\n\t\t\t\tadd(label);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate class MyMouse extends MouseAdapter {\r\n\t\tprivate int i;\r\n\t\tprivate int j;\r\n\t\t\r\n\t\tpublic MyMouse(int i, int j) {\r\n\t\t\tthis.i = i;\r\n\t\t\tthis.j = j;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\tSystem.out.printf(&quot;Point pressed, i, j: [%d, %d]%n&quot;, i, j);\r\n\t\t\tmodel[i][j]++;\r\n\t\t\tmodel[i][j] %= MAX_COLORS;\r\n\t\t\tlabelGrid[i][j].setBackground(colors.get(model[i][j]));\r\n\t\t}\r\n\t}\t\r\n}\r\n```","title":"How to convert a point on screen into indices of the corresponding object in a 2d-array","body":"<p>You can simply check which rectangle has been pressed in your mouse listener to find out your i and j. For example:</p>\n<ol>\n<li>give the grid JPanel a preferred size, not a size:</li>\n</ol>\n<pre><code>    public Grid() {\n        // this.setSize(300, 300);\n        setPreferredSize(new Dimension(300, 300));\n        for (int i = 0; i &lt; 10; i++) {\n            for (int j = 0; j &lt; 10; j++) {\n                grid[i][j] = new Rectangle((i * getPreferredSize().width) / 10, (j * getPreferredSize().height) / 10, 30, 30);\n            }\n        }\n        \n        addMouseListener(new MyMouse());\n    }\n</code></pre>\n<ol start=\"2\">\n<li>give it a MouseListener that checks if a rectangle contains the click point:</li>\n</ol>\n<pre><code>    private class MyMouse extends MouseAdapter {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            for (int i = 0; i &lt; grid.length; i++) {\n                for (int j = 0; j &lt; grid[i].length; j++) {\n                    if (grid[i][j].contains(e.getPoint())) {\n                        System.out.printf(&quot;Point pressed, i, j: [%d, %d]%n&quot;, i, j);\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<ol start=\"3\">\n<li>Don't set the JFrame's size (you're forgetting the menu bar takes space, but rather pack it:</li>\n</ol>\n<pre><code>        frame.add(grid);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        // frame.setSize(300, 300);\n        frame.pack();\n        frame.setVisible(true);\n</code></pre>\n<p>For example:</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionListener;\n\npublic class Grid extends JPanel {\n    private final Rectangle[][] grid = new Rectangle[10][10];\n\n    public Grid() {\n        // this.setSize(300, 300);\n        setPreferredSize(new Dimension(300, 300));\n        for (int i = 0; i &lt; 10; i++) {\n            for (int j = 0; j &lt; 10; j++) {\n                grid[i][j] = new Rectangle((i * getPreferredSize().width) / 10, (j * getPreferredSize().height) / 10, 30, 30);\n            }\n        }\n        \n        addMouseListener(new MyMouse());\n    }\n    \n    private class MyMouse extends MouseAdapter {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            for (int i = 0; i &lt; grid.length; i++) {\n                for (int j = 0; j &lt; grid[i].length; j++) {\n                    if (grid[i][j].contains(e.getPoint())) {\n                        System.out.printf(&quot;Point pressed, i, j: [%d, %d]%n&quot;, i, j);\n                    }\n                }\n            }\n        }\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        for (int i = 0; i &lt; 10; i++) {\n            for (int j = 0; j &lt; 10; j++) {\n                g2.setColor(Color.BLUE);\n                // g.fillRect((int) grid[i][j].getX(), (int) grid[i][j].getY(), (int) grid[i][j].getWidth(), (int) grid[i][j].getHeight());\n                g2.fill(grid[i][j]);\n            }\n        }\n\n\n    }\n\n    public static Point mousePositionToRectangleIndex(int xPos, int yPos) {\n        //Problem:\n        //int indexX = formulaHere;\n        //int indexY = formulaHere;\n        // return new Point(indexX, indexY);\n        return null;\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        Grid grid = new Grid();\n        MouseMotionListener mml = new MouseMotionListener() {\n            @Override\n            public void mouseDragged(MouseEvent e) {\n                mousePositionToRectangleIndex(e.getX(), e.getY());\n            }\n\n            @Override\n            public void mouseMoved(MouseEvent e) {\n\n            }\n        };\n        // frame.addMouseMotionListener(mml);\n        frame.add(grid);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        // frame.setSize(300, 300);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>But having said that, the whole thing can be done with a JLabel grid, and perhaps a little more cleanly too. Here I increment the color of the clicked cell:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.*;\n\npublic class Grid2 {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            GridPanel mainPanel = new GridPanel();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass GridPanel extends JPanel {\n    private static final int SIDES = 10;\n    private static final int MAX_COLORS = 6;\n    private static final Dimension LABEL_SIZE = new Dimension(30, 30);\n    private int[][] model = new int[SIDES][SIDES];\n    private JLabel[][] labelGrid = new JLabel[SIDES][SIDES];\n    private List&lt;Color&gt; colors = new ArrayList&lt;&gt;();\n    \n    public GridPanel() {\n        for (int i = 0; i &lt; MAX_COLORS; i++) {\n            float hue = ((float) i) / MAX_COLORS;\n            Color c = Color.getHSBColor(hue, 1f, 1f);\n            colors.add(c);\n        }\n        setLayout(new GridLayout(SIDES, SIDES));\n        for (int i = 0; i &lt; labelGrid.length; i++) {\n            for (int j = 0; j &lt; labelGrid[i].length; j++) {\n                model[i][j] = 0;\n                JLabel label = new JLabel();\n                label.setPreferredSize(LABEL_SIZE);\n                label.setOpaque(true);\n                label.setBackground(colors.get(0));\n                label.addMouseListener(new MyMouse(i, j));\n                labelGrid[i][j] = label;\n                add(label);\n            }\n        }\n    }\n    \n    private class MyMouse extends MouseAdapter {\n        private int i;\n        private int j;\n        \n        public MyMouse(int i, int j) {\n            this.i = i;\n            this.j = j;\n        }\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n            System.out.printf(&quot;Point pressed, i, j: [%d, %d]%n&quot;, i, j);\n            model[i][j]++;\n            model[i][j] %= MAX_COLORS;\n            labelGrid[i][j].setBackground(colors.get(model[i][j]));\n        }\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":24940065,"reputation":41,"user_id":18806082,"display_name":"Ernest P W"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71877343,"answer_count":1,"score":0,"last_activity_date":1649969093,"creation_date":1649964168,"question_id":71876672,"body_markdown":"I have a 2d-array of Rectangle-objects which make up a grid in JPanel. I want to make a method which will take x and y coordinates of a MouseEvent as parameters and return the indices of the corresponding Rectangle in that array. Let&#39;s say every Rectangle in that array has the area of 30x30 pixels and we have a point at x = 36, y = 15. The result in this case should be indexX = 1 and indexY = 0. All I need is a formula which would calculate it.\r\n\r\nEdit: I made a simplified version of my problem:\r\n~~~java\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Point;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseMotionListener;\r\n\r\npublic class Grid extends JPanel {\r\n    private final Rectangle[][] grid = new Rectangle[10][10];\r\n\r\n    public Grid() {\r\n        this.setSize(300, 300);\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                grid[i][j] = new Rectangle(i * getWidth() / 10, j * getHeight() / 10, 30, 30);\r\n            }\r\n        }\r\n        this.setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                g.setColor(Color.BLUE);\r\n                g.fillRect((int) grid[i][j].getX(), (int) grid[i][j].getY(), (int) grid[i][j].getWidth(), (int) grid[i][j].getHeight());\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public static Point mousePositionToRectangleIndex(int xPos, int yPos) {\r\n        //Problem:\r\n        //int indexX = formulaHere;\r\n        //int indexY = formulaHere;\r\n        // return new Point(indexX, indexY);\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        Grid grid = new Grid();\r\n        MouseMotionListener mml = new MouseMotionListener() {\r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n                mousePositionToRectangleIndex(e.getX(), e.getY());\r\n            }\r\n\r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n\r\n            }\r\n        };\r\n        frame.addMouseMotionListener(mml);\r\n        frame.add(grid);\r\n        frame.setSize(300, 300);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n~~~\r\nAll I need is the formula for mousePositionToRectangleIndex()\r\n","title":"How to convert a point on screen into indices of the corresponding object in a 2d-array","body":"<p>I have a 2d-array of Rectangle-objects which make up a grid in JPanel. I want to make a method which will take x and y coordinates of a MouseEvent as parameters and return the indices of the corresponding Rectangle in that array. Let's say every Rectangle in that array has the area of 30x30 pixels and we have a point at x = 36, y = 15. The result in this case should be indexX = 1 and indexY = 0. All I need is a formula which would calculate it.</p>\n<p>Edit: I made a simplified version of my problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionListener;\n\npublic class Grid extends JPanel {\n    private final Rectangle[][] grid = new Rectangle[10][10];\n\n    public Grid() {\n        this.setSize(300, 300);\n        for (int i = 0; i &lt; 10; i++) {\n            for (int j = 0; j &lt; 10; j++) {\n                grid[i][j] = new Rectangle(i * getWidth() / 10, j * getHeight() / 10, 30, 30);\n            }\n        }\n        this.setVisible(true);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        for (int i = 0; i &lt; 10; i++) {\n            for (int j = 0; j &lt; 10; j++) {\n                g.setColor(Color.BLUE);\n                g.fillRect((int) grid[i][j].getX(), (int) grid[i][j].getY(), (int) grid[i][j].getWidth(), (int) grid[i][j].getHeight());\n            }\n        }\n\n\n    }\n\n    public static Point mousePositionToRectangleIndex(int xPos, int yPos) {\n        //Problem:\n        //int indexX = formulaHere;\n        //int indexY = formulaHere;\n        // return new Point(indexX, indexY);\n        return null;\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        Grid grid = new Grid();\n        MouseMotionListener mml = new MouseMotionListener() {\n            @Override\n            public void mouseDragged(MouseEvent e) {\n                mousePositionToRectangleIndex(e.getX(), e.getY());\n            }\n\n            @Override\n            public void mouseMoved(MouseEvent e) {\n\n            }\n        };\n        frame.addMouseMotionListener(mml);\n        frame.add(grid);\n        frame.setSize(300, 300);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>All I need is the formula for mousePositionToRectangleIndex()</p>\n"},{"tags":["java","arrays"],"owner":{"account_id":23757702,"reputation":11,"user_id":17773589,"display_name":"chrypig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649969083,"creation_date":1649960389,"question_id":71876069,"body_markdown":"Can anyone explain how to make empty elements in arrays of Java?\r\nI was solving a problem about graph. The graph is given as follows: graph[i] is a list of all nodes you can visit from node i (i.e., there is a directed edge from node i to node graph[i][j]). \r\n\r\nExample:\r\n[Example][1]\r\n\r\n  [1]: https://i.stack.imgur.com/GqhbP.png\r\n\r\n```\r\ninput: Input: graph = [[1,2],[3],[3],[]]\r\n```\r\nI think the array in the example should be at least int[4][2]. So in the input, what is ```graph[1][1]``` or ```graph[2][1]``` or even ```graph[3][1]```? Will the empty elements be just 0 or null?","title":"Questions about empty elements in arrays of Java","body":"<p>Can anyone explain how to make empty elements in arrays of Java?\nI was solving a problem about graph. The graph is given as follows: graph[i] is a list of all nodes you can visit from node i (i.e., there is a directed edge from node i to node graph[i][j]).</p>\n<p>Example:\n<a href=\"https://i.stack.imgur.com/GqhbP.png\" rel=\"nofollow noreferrer\">Example</a></p>\n<pre><code>input: Input: graph = [[1,2],[3],[3],[]]\n</code></pre>\n<p>I think the array in the example should be at least int[4][2]. So in the input, what is <code>graph[1][1]</code> or <code>graph[2][1]</code> or even <code>graph[3][1]</code>? Will the empty elements be just 0 or null?</p>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":1281402,"reputation":3791,"user_id":1235433,"display_name":"Ivan"},"score":0,"creation_date":1489187326,"post_id":42729092,"comment_id":72577963,"body_markdown":"This sentence seems to be incomplete `The issue I am having is when I am passing the text information to javas Deflate`. What is the issue you&#39;re having? What are the symptoms?","body":"This sentence seems to be incomplete <code>The issue I am having is when I am passing the text information to javas Deflate</code>. What is the issue you&#39;re having? What are the symptoms?"},{"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"score":0,"creation_date":1489188030,"post_id":42729092,"comment_id":72578184,"body_markdown":"Do you keep the outputstream open all the time you write?","body":"Do you keep the outputstream open all the time you write?"},{"owner":{"account_id":26231,"reputation":883,"user_id":68046,"accept_rate":88,"display_name":"XanderLynn"},"score":0,"creation_date":1489191210,"post_id":42729092,"comment_id":72579067,"body_markdown":"@Ivan I am backing up on my queues and my CPU utilization is skyrocketing. My assumption is that getting the text, formatting, and then passing to the compression algorithm is causing me delay. Is there a way to get the the byte string from Message or AMQTextMessage without going to text? I would be willing to store the entire message and all payload information. I am batching between 200-500 messages each message is approximately 700 lines. That batch cycle takes between 30-45 seconds to write with 25 threads performing similar actions.","body":"@Ivan I am backing up on my queues and my CPU utilization is skyrocketing. My assumption is that getting the text, formatting, and then passing to the compression algorithm is causing me delay. Is there a way to get the the byte string from Message or AMQTextMessage without going to text? I would be willing to store the entire message and all payload information. I am batching between 200-500 messages each message is approximately 700 lines. That batch cycle takes between 30-45 seconds to write with 25 threads performing similar actions."},{"owner":{"account_id":26231,"reputation":883,"user_id":68046,"accept_rate":88,"display_name":"XanderLynn"},"score":0,"creation_date":1489191273,"post_id":42729092,"comment_id":72579085,"body_markdown":"@HRgiger I close it once the localQueue is empty.","body":"@HRgiger I close it once the localQueue is empty."},{"owner":{"account_id":1281402,"reputation":3791,"user_id":1235433,"display_name":"Ivan"},"score":0,"creation_date":1489343056,"post_id":42729092,"comment_id":72618928,"body_markdown":"You can have a look at `getContent()` method. I recommend you to use a profiler to collect more information to base your hypothesis before trying implementation strategies","body":"You can have a look at <code>getContent()</code> method. I recommend you to use a profiler to collect more information to base your hypothesis before trying implementation strategies"},{"owner":{"account_id":26231,"reputation":883,"user_id":68046,"accept_rate":88,"display_name":"XanderLynn"},"score":0,"creation_date":1489344592,"post_id":42729092,"comment_id":72619454,"body_markdown":"@ivan do you have a good suggestion on a profiler?","body":"@ivan do you have a good suggestion on a profiler?"},{"owner":{"account_id":1281402,"reputation":3791,"user_id":1235433,"display_name":"Ivan"},"score":0,"creation_date":1489350278,"post_id":42729092,"comment_id":72621575,"body_markdown":"I&#39;ve used JProfiler for quite a while. JVisualVM is most probably already installed on your dev machine and also has some helpful capabilities - it&#39;s included with JDK. There are other options on the internet","body":"I&#39;ve used JProfiler for quite a while. JVisualVM is most probably already installed on your dev machine and also has some helpful capabilities - it&#39;s included with JDK. There are other options on the internet"}],"owner":{"account_id":26231,"reputation":883,"user_id":68046,"accept_rate":88,"display_name":"XanderLynn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649967393,"creation_date":1489186494,"question_id":42729092,"body_markdown":"I am trying to consume ActiveMQTextMessages (received as Message objects) and store into a file given a very high data rate (9K a second is the target). I am running into performance problems trying to save the messages into a set of files.\r\n\r\nI am currently receiving at 30K a second and pushing into a ConcurrentLinkedQueue of which I have a configurable set of workers popping off the queue until they reach a max internal queue amount.  This all seems fine. The issue I am having is when I am passing the concatenated text (longest running time I think) to the compression algorithm. I would be willing to store the textmessage received from the message but, when I stored it out, what would be a more efficient way to handle the following pseudo?\r\n\r\n    FileOutputStream fout = new FileOutputStream(op);\r\n\tDeflater df = new Deflater(Deflater.BEST_SPEED);\r\n\tDeflaterOutputStream out = new DeflaterOutputStream(fout, df);\r\n\twhile(!localQueue.isEmpty())\r\n\t{\r\n\t    Message msg = localQueue.remove();\r\n\t    ActiveMQTextMessage amqtextmesssage = (ActiveMQTextMessage)msg;\r\n\t    String textMessage = amqtextmesssage.getText();\r\n\t    String jmsCorrID = amqtextmesssage.getJMSCorrelationID();\r\n\t    Destination destinationID = amqtextmesssage.getJMSDestination();\r\n\t    long jmsTimeStamp = amqtextmesssage.getJMSTimestamp();\r\n\t\r\n\t   //FORMAT FOR SPECIFIC OUTPUT TO BE POSTPROCESSED\r\n\t   String result = String.format(/*format strings here*/);\r\n\t   InputStream is = new ByteArrayInputStream(result.getBytes());\r\n\t   \r\n\t   int i;\r\n\t\twhile ((i = is.read()) != -1) {\r\n\t\t\tout.write((byte) i);\r\n\t\t\tout.flush();\r\n\t\t}\r\n\t\tis.close();\r\n\t}","title":"Performance Issues Saving ActiveMQTextMessages","body":"<p>I am trying to consume ActiveMQTextMessages (received as Message objects) and store into a file given a very high data rate (9K a second is the target). I am running into performance problems trying to save the messages into a set of files.</p>\n<p>I am currently receiving at 30K a second and pushing into a ConcurrentLinkedQueue of which I have a configurable set of workers popping off the queue until they reach a max internal queue amount.  This all seems fine. The issue I am having is when I am passing the concatenated text (longest running time I think) to the compression algorithm. I would be willing to store the textmessage received from the message but, when I stored it out, what would be a more efficient way to handle the following pseudo?</p>\n<pre><code>FileOutputStream fout = new FileOutputStream(op);\nDeflater df = new Deflater(Deflater.BEST_SPEED);\nDeflaterOutputStream out = new DeflaterOutputStream(fout, df);\nwhile(!localQueue.isEmpty())\n{\n    Message msg = localQueue.remove();\n    ActiveMQTextMessage amqtextmesssage = (ActiveMQTextMessage)msg;\n    String textMessage = amqtextmesssage.getText();\n    String jmsCorrID = amqtextmesssage.getJMSCorrelationID();\n    Destination destinationID = amqtextmesssage.getJMSDestination();\n    long jmsTimeStamp = amqtextmesssage.getJMSTimestamp();\n\n   //FORMAT FOR SPECIFIC OUTPUT TO BE POSTPROCESSED\n   String result = String.format(/*format strings here*/);\n   InputStream is = new ByteArrayInputStream(result.getBytes());\n   \n   int i;\n    while ((i = is.read()) != -1) {\n        out.write((byte) i);\n        out.flush();\n    }\n    is.close();\n}\n</code></pre>\n"},{"tags":["java","docker","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1649933412,"post_id":71870283,"comment_id":127002347,"body_markdown":"Can you do a timings ? Start with `/timings on`, wait few seconds then do `/timings paste`","body":"Can you do a timings ? Start with <code>&#47;timings on</code>, wait few seconds then do <code>&#47;timings paste</code>"},{"owner":{"account_id":24935856,"reputation":11,"user_id":18802445,"display_name":"Ashton"},"score":0,"creation_date":1649934095,"post_id":71870283,"comment_id":127002566,"body_markdown":"@Elikill58 I’ve ran multiple timings and couldn’t find an issue, should’ve included that in the post. Here’s the timings: https://timings.aikar.co/?id=6ffc55e7d32a4db9911885a69f4bd600","body":"@Elikill58 I’ve ran multiple timings and couldn’t find an issue, should’ve included that in the post. Here’s the timings: <a href=\"https://timings.aikar.co/?id=6ffc55e7d32a4db9911885a69f4bd600\" rel=\"nofollow noreferrer\">timings.aikar.co/?id=6ffc55e7d32a4db9911885a69f4bd600</a>"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1649934505,"post_id":71870283,"comment_id":127002734,"body_markdown":"Firstly you can check for [Aikar flags](https://aikar.co/mcflags.html) that can help you. Also, is that the same map ? It seems to take lot of time to manage hoppers and beacon. Finally, I suggest you to check docker limitation, specially in read/write IO","body":"Firstly you can check for <a href=\"https://aikar.co/mcflags.html\" rel=\"nofollow noreferrer\">Aikar flags</a> that can help you. Also, is that the same map ? It seems to take lot of time to manage hoppers and beacon. Finally, I suggest you to check docker limitation, specially in read/write IO"},{"owner":{"account_id":24935856,"reputation":11,"user_id":18802445,"display_name":"Ashton"},"score":0,"creation_date":1649934902,"post_id":71870283,"comment_id":127002886,"body_markdown":"@Elikill58 The exact same server / map / same files, literally the template the docker image is made off of, runs with good performance. Everywhere I looked it claimed there were no default docker limits, although I will keep looking further into that.","body":"@Elikill58 The exact same server / map / same files, literally the template the docker image is made off of, runs with good performance. Everywhere I looked it claimed there were no default docker limits, although I will keep looking further into that."}],"owner":{"account_id":24935856,"reputation":11,"user_id":18802445,"display_name":"Ashton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649967378,"creation_date":1649932776,"question_id":71870283,"body_markdown":"I&#39;m trying to run a 1.8.8 spigot instance out of a docker container and am receiving terrible performance in comparison with just running the instance out of a screen or tmux session. \r\n\r\nI&#39;ve looked across so many places, although I&#39;ve been unable to find anything useful on the matter. \r\nI have no cpu / memory limitations setup on the container, although it still seems like somethings hitting a threshold.\r\n\r\nHere&#39;s performance with 50 players running in a tmux session: https://prnt.sc/sfuLEVAWpOKf \\\r\nHere&#39;s that same template although this time out of a container: https://prnt.sc/EIp5klbWY4p7\r\n\r\nBoth of these tests were ran with 0 plugins running on the server and in a mostly voided world.\r\n\r\nThe only lead I could find on something that could be considered even slightly useful was an article that claimed their were issues running java 8 or 9 with docker due to a mismatch with what cpus java believed to be available. Learning this, I updated the containers to java 10, although still received the same performance hits.\r\n\r\nHere&#39;s my simple docker file:\r\n\r\n    FROM java:8\r\n    COPY . .\r\n    CMD [&quot;bash&quot;, &quot;start.sh&quot;]\r\n\r\nHere&#39;s the start script:\r\n\r\n    while true\r\n    do\r\n\t    java -Xms512M -Xmx512M -jar spigot.jar\r\n\t    echo Restarting\r\n\t    sleep 1\r\n    done\r\n\r\nHere&#39;s the directory of the docker file:\\\r\nhttps://prnt.sc/pPXHK8O_-Tnv\r\n\r\nThis is the docker inspection:\\\r\nhttps://pastebin.com/wBWqQKTK\r\n\r\nI&#39;ve been dealing with this issue for almost 24 hours already and am super close to giving up and writing my own solution to deal with this situation, so I would appreciate any help / insight anybody has on this situation!\r\n\r\n**UPDATE: I&#39;ve changed the parent image to &quot;openjdk&quot; rather than just &quot;java&quot; and performance seems to of increased. It&#39;s still not comparable to what it is running outside of the container, although it&#39;s significantly better.**","title":"Receiving bad performance while running Minecraft Spigot inside of a docker container","body":"<p>I'm trying to run a 1.8.8 spigot instance out of a docker container and am receiving terrible performance in comparison with just running the instance out of a screen or tmux session.</p>\n<p>I've looked across so many places, although I've been unable to find anything useful on the matter.\nI have no cpu / memory limitations setup on the container, although it still seems like somethings hitting a threshold.</p>\n<p>Here's performance with 50 players running in a tmux session: <a href=\"https://prnt.sc/sfuLEVAWpOKf\" rel=\"nofollow noreferrer\">https://prnt.sc/sfuLEVAWpOKf</a> <br />\nHere's that same template although this time out of a container: <a href=\"https://prnt.sc/EIp5klbWY4p7\" rel=\"nofollow noreferrer\">https://prnt.sc/EIp5klbWY4p7</a></p>\n<p>Both of these tests were ran with 0 plugins running on the server and in a mostly voided world.</p>\n<p>The only lead I could find on something that could be considered even slightly useful was an article that claimed their were issues running java 8 or 9 with docker due to a mismatch with what cpus java believed to be available. Learning this, I updated the containers to java 10, although still received the same performance hits.</p>\n<p>Here's my simple docker file:</p>\n<pre><code>FROM java:8\nCOPY . .\nCMD [&quot;bash&quot;, &quot;start.sh&quot;]\n</code></pre>\n<p>Here's the start script:</p>\n<pre><code>while true\ndo\n    java -Xms512M -Xmx512M -jar spigot.jar\n    echo Restarting\n    sleep 1\ndone\n</code></pre>\n<p>Here's the directory of the docker file:<br />\n<a href=\"https://prnt.sc/pPXHK8O_-Tnv\" rel=\"nofollow noreferrer\">https://prnt.sc/pPXHK8O_-Tnv</a></p>\n<p>This is the docker inspection:<br />\n<a href=\"https://pastebin.com/wBWqQKTK\" rel=\"nofollow noreferrer\">https://pastebin.com/wBWqQKTK</a></p>\n<p>I've been dealing with this issue for almost 24 hours already and am super close to giving up and writing my own solution to deal with this situation, so I would appreciate any help / insight anybody has on this situation!</p>\n<p><strong>UPDATE: I've changed the parent image to &quot;openjdk&quot; rather than just &quot;java&quot; and performance seems to of increased. It's still not comparable to what it is running outside of the container, although it's significantly better.</strong></p>\n"},{"tags":["java","rx-java","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649967291,"creation_date":1649967291,"answer_id":71877177,"question_id":71872120,"body_markdown":"Pretty much all of this is necessary, assuming you don&#39;t actually create `CompositeDisposable` like that and then throw it away. \r\n\r\nYou can save `cd.add(d);` and perhaps `Disposable d=` with RxJava 3 if you supply `cd` as the third parameter to [`subscribe`](http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/Single.html#subscribe-io.reactivex.rxjava3.functions.Consumer-io.reactivex.rxjava3.functions.Consumer-io.reactivex.rxjava3.disposables.DisposableContainer-).","title":"Cleanest way to dispose of Single subscriptions","body":"<p>Pretty much all of this is necessary, assuming you don't actually create <code>CompositeDisposable</code> like that and then throw it away.</p>\n<p>You can save <code>cd.add(d);</code> and perhaps <code>Disposable d=</code> with RxJava 3 if you supply <code>cd</code> as the third parameter to <a href=\"http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/Single.html#subscribe-io.reactivex.rxjava3.functions.Consumer-io.reactivex.rxjava3.functions.Consumer-io.reactivex.rxjava3.disposables.DisposableContainer-\" rel=\"nofollow noreferrer\"><code>subscribe</code></a>.</p>\n"}],"owner":{"account_id":254833,"reputation":465,"user_id":534495,"accept_rate":57,"display_name":"sorin.silaghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71877177,"answer_count":1,"score":0,"last_activity_date":1649967291,"creation_date":1649941442,"question_id":71872120,"body_markdown":"I&#39;m using RxHttpClient to make requests and return Single using .firstOrError(). I then subscribe to it to get the result. In order to dispose of that subscription, I used a CompositeDisposable like in the example below.\r\n\r\nIs there some other way to do this that doesn&#39;t require so much boilerplate? Do I need to do this at all in the current situation?\r\n\r\nThis code is in an API that needs to make a request to another API to validate some data.\r\n\r\n``` \r\nsingle = httpClient.retrieve(HttpRequest.POST(&quot;/endpoint&quot;, request), ResultDto.class)\r\n                    .firstOrError()\r\n                    .subscribeOn(Schedulers.io())\r\n\r\nCompositeDisposable cd = new CompositeDisposable();\r\nDisposable d = single.subscribe(result -&gt; {\r\n                // ...\r\n                cd.dispose();\r\n            }, error -&gt; {\r\n                cd.dispose();\r\n            });\r\ncd.add(d);\r\n```","title":"Cleanest way to dispose of Single subscriptions","body":"<p>I'm using RxHttpClient to make requests and return Single using .firstOrError(). I then subscribe to it to get the result. In order to dispose of that subscription, I used a CompositeDisposable like in the example below.</p>\n<p>Is there some other way to do this that doesn't require so much boilerplate? Do I need to do this at all in the current situation?</p>\n<p>This code is in an API that needs to make a request to another API to validate some data.</p>\n<pre><code>single = httpClient.retrieve(HttpRequest.POST(&quot;/endpoint&quot;, request), ResultDto.class)\n                    .firstOrError()\n                    .subscribeOn(Schedulers.io())\n\nCompositeDisposable cd = new CompositeDisposable();\nDisposable d = single.subscribe(result -&gt; {\n                // ...\n                cd.dispose();\n            }, error -&gt; {\n                cd.dispose();\n            });\ncd.add(d);\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"owner":{"account_id":22697076,"reputation":111,"user_id":16865023,"display_name":"JovanniJovanni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650285106,"answer_count":2,"score":0,"last_activity_date":1649967281,"creation_date":1649884993,"question_id":71863971,"body_markdown":"The `javac` and `java` keywords are working in terminals like powershell, but not in vscode, see [here](https://gyazo.com/26ed5d6538886648faf9e898031b4a8d). I&#39;ve been having this problem for 2 days now and haven&#39;t been able to find a fix. ","title":"javac and java keywords not recognized in vscode terminal but working in other terminals","body":"<p>The <code>javac</code> and <code>java</code> keywords are working in terminals like powershell, but not in vscode, see <a href=\"https://gyazo.com/26ed5d6538886648faf9e898031b4a8d\" rel=\"nofollow noreferrer\">here</a>. I've been having this problem for 2 days now and haven't been able to find a fix.</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":19801357,"reputation":7,"user_id":14502301,"display_name":"tmm"},"score":0,"creation_date":1649966613,"post_id":71876971,"comment_id":127014007,"body_markdown":"@Dan Thanks now it gives me no error, but System.out.println(re.getId()); return nothing","body":"@Dan Thanks now it gives me no error, but System.out.println(re.getId()); return nothing"},{"owner":{"account_id":19801357,"reputation":7,"user_id":14502301,"display_name":"tmm"},"score":0,"creation_date":1649968103,"post_id":71876971,"comment_id":127014418,"body_markdown":"@Dan i tried to see if System.out.println(&quot;c&quot;); returns the c and it dosen&#39;t. You know why it not enter in the for cycle?","body":"@Dan i tried to see if System.out.println(&quot;c&quot;); returns the c and it dosen&#39;t. You know why it not enter in the for cycle?"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1649968258,"post_id":71876971,"comment_id":127014464,"body_markdown":"because apparently the list does not contain any elements. This could be either because the xml does not contain any elements or because your unmarshall is not reading the xml properly.","body":"because apparently the list does not contain any elements. This could be either because the xml does not contain any elements or because your unmarshall is not reading the xml properly."},{"owner":{"account_id":19801357,"reputation":7,"user_id":14502301,"display_name":"tmm"},"score":0,"creation_date":1649968594,"post_id":71876971,"comment_id":127014554,"body_markdown":"@Dan I&#39;m not sure but, you think that maybe is because i didn&#39;t pass the json to a string but directly to a xml string?","body":"@Dan I&#39;m not sure but, you think that maybe is because i didn&#39;t pass the json to a string but directly to a xml string?"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1649968658,"post_id":71876971,"comment_id":127014568,"body_markdown":"it could be either that or the file does not contain any data.","body":"it could be either that or the file does not contain any data."},{"owner":{"account_id":19801357,"reputation":7,"user_id":14502301,"display_name":"tmm"},"score":0,"creation_date":1649968746,"post_id":71876971,"comment_id":127014586,"body_markdown":"@Dan ok, I will try something, thks for the help. Bye","body":"@Dan ok, I will try something, thks for the help. Bye"},{"owner":{"account_id":19801357,"reputation":7,"user_id":14502301,"display_name":"tmm"},"score":0,"creation_date":1649969487,"post_id":71876971,"comment_id":127014785,"body_markdown":"@Dan i did, but dosen&#39;t show because i don&#39;t have reputation","body":"@Dan i did, but dosen&#39;t show because i don&#39;t have reputation"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1649982788,"post_id":71876971,"comment_id":127017327,"body_markdown":"@Dan Because `list` is null actually.","body":"@Dan Because <code>list</code> is null actually."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1649967114,"creation_date":1649967114,"answer_id":71877155,"question_id":71876971,"body_markdown":"It seems like that the &lt;code&gt;unmarshal&lt;/code&gt; with &lt;code&gt;jaxbUnmarshaller&lt;/code&gt; returns null to that list you&#39;re using later on. Can you maybe check what it returns with the debug? \r\n\r\nPlus, your &lt;code&gt;Recipes&lt;/code&gt; class leaves the internal &lt;code&gt;List&lt;Recipe&gt;&lt;/code&gt; of &lt;code&gt;Recipes&lt;/code&gt; set to null if your class is instantiated with the no-args constructor. You might wanna type the following code within that empty constructor:\r\n\r\n```\r\nrecipes = new ArrayList&lt;&gt;(); \r\n```","title":"XML String to Java Object nullpoiterexception","body":"<p>It seems like that the <code>unmarshal</code> with <code>jaxbUnmarshaller</code> returns null to that list you're using later on. Can you maybe check what it returns with the debug?</p>\n<p>Plus, your <code>Recipes</code> class leaves the internal <code>List</code> of <code>Recipes</code> set to null if your class is instantiated with the no-args constructor. You might wanna type the following code within that empty constructor:</p>\n<pre><code>recipes = new ArrayList&lt;&gt;(); \n</code></pre>\n"}],"owner":{"account_id":19801357,"reputation":7,"user_id":14502301,"display_name":"tmm"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1649982735,"accepted_answer_id":71877155,"answer_count":1,"score":0,"last_activity_date":1649967114,"creation_date":1649965953,"question_id":71876971,"body_markdown":"Error: java.lang.NullPointerException: Cannot invoke &quot;java.util.List.iterator()&quot; because &quot;list&quot; is null\r\n\r\nMain class:\r\n\r\n    try {\r\n            jaxbContext = JAXBContext.newInstance(Recipes.class);\r\n            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n            Recipes rec = (Recipes) jaxbUnmarshaller.unmarshal(new StringReader(xml));\r\n\r\n            List &lt;Recipe&gt; list = rec.getRecipes();\r\n            for (Recipe re: list){\r\n                System.out.println(re.getId());\r\n            }\r\n        } catch (JAXBException e) {\r\n            e.printStackTrace();\r\n          }\r\n\r\nRecipe class:\r\n\r\n    @XmlRootElement(name = &quot;results&quot;)\r\n    public class Recipe {\r\n    private int id;\r\n    private String title;\r\n    private Image image;\r\n\r\n    public Recipe(){}\r\n\r\n    public Recipe(int id, String title, Image image){\r\n        this.id = id;\r\n        this.title = title;\r\n        this.image = image;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public Image getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(Image image) {\r\n        this.image = image;\r\n    }\r\n\r\nRecipes class:\r\n\r\n    @XmlRootElement\r\n    public class Recipes {\r\n    private List&lt;Recipe&gt; recipes;\r\n\r\n    public Recipes(){}\r\n\r\n    public Recipes(List&lt;Recipe&gt; recipes){\r\n        this.recipes = recipes;\r\n    }\r\n    @XmlElement\r\n    public List&lt;Recipe&gt; getRecipes() {\r\n        return recipes;\r\n    }\r\n\r\n    public void setRecipes(List&lt;Recipe&gt; recipes) {\r\n        this.recipes = recipes;\r\n    }\r\n    }\r\nI&#39;m trying to manage a xml string, that can be transformed in an array of objects.\r\nAn error give me this message that the list is empty, I think, but i don&#39;t understand why, thanks for helping.","title":"XML String to Java Object nullpoiterexception","body":"<p>Error: java.lang.NullPointerException: Cannot invoke &quot;java.util.List.iterator()&quot; because &quot;list&quot; is null</p>\n<p>Main class:</p>\n<pre><code>try {\n        jaxbContext = JAXBContext.newInstance(Recipes.class);\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n        Recipes rec = (Recipes) jaxbUnmarshaller.unmarshal(new StringReader(xml));\n\n        List &lt;Recipe&gt; list = rec.getRecipes();\n        for (Recipe re: list){\n            System.out.println(re.getId());\n        }\n    } catch (JAXBException e) {\n        e.printStackTrace();\n      }\n</code></pre>\n<p>Recipe class:</p>\n<pre><code>@XmlRootElement(name = &quot;results&quot;)\npublic class Recipe {\nprivate int id;\nprivate String title;\nprivate Image image;\n\npublic Recipe(){}\n\npublic Recipe(int id, String title, Image image){\n    this.id = id;\n    this.title = title;\n    this.image = image;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic Image getImage() {\n    return image;\n}\n\npublic void setImage(Image image) {\n    this.image = image;\n}\n</code></pre>\n<p>Recipes class:</p>\n<pre><code>@XmlRootElement\npublic class Recipes {\nprivate List&lt;Recipe&gt; recipes;\n\npublic Recipes(){}\n\npublic Recipes(List&lt;Recipe&gt; recipes){\n    this.recipes = recipes;\n}\n@XmlElement\npublic List&lt;Recipe&gt; getRecipes() {\n    return recipes;\n}\n\npublic void setRecipes(List&lt;Recipe&gt; recipes) {\n    this.recipes = recipes;\n}\n}\n</code></pre>\n<p>I'm trying to manage a xml string, that can be transformed in an array of objects.\nAn error give me this message that the list is empty, I think, but i don't understand why, thanks for helping.</p>\n"},{"tags":["java","rx-java","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649966708,"creation_date":1649966708,"answer_id":71877093,"question_id":71854963,"body_markdown":"`retryWhen` needs a signal to perform the retry from that inner source. However, `isRetryButtonClicked` is a field so changes to it are not signals. What you need is a `Subject`. For example:\r\n\r\n```java\r\nPublishSubject&lt;String&gt; subjectToRetry = PublishSubject.create();\r\n\r\nsource.retryWhen(errors -&gt; errors.zipWith(subjectToRetry, (e, s) -&gt; s))\r\n    .doOnNext(throwable -&gt; Log.w(&quot;...&quot;, &quot;doOnNext&quot;))\r\n    .doOnComplete(() -&gt; Log.w(&quot;...&quot;, &quot;doOnComplete&quot;))\r\n    .doOnError(throwable -&gt; Log.w(&quot;...&quot;, &quot;doOnError &quot; + throwable))\r\n    .doOnSubscribe(subscription -&gt; Log.w(&quot;...&quot;, &quot;doOnSubscribe&quot;)))\r\n\r\n// inside the retryButton&#39;s click handler:\r\n\r\nsubjectToRetry.onNext(&quot;Doit!&quot;);\r\n```","title":"SkipWhile method does not work as I expected in RxJava","body":"<p><code>retryWhen</code> needs a signal to perform the retry from that inner source. However, <code>isRetryButtonClicked</code> is a field so changes to it are not signals. What you need is a <code>Subject</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PublishSubject&lt;String&gt; subjectToRetry = PublishSubject.create();\n\nsource.retryWhen(errors -&gt; errors.zipWith(subjectToRetry, (e, s) -&gt; s))\n    .doOnNext(throwable -&gt; Log.w(&quot;...&quot;, &quot;doOnNext&quot;))\n    .doOnComplete(() -&gt; Log.w(&quot;...&quot;, &quot;doOnComplete&quot;))\n    .doOnError(throwable -&gt; Log.w(&quot;...&quot;, &quot;doOnError &quot; + throwable))\n    .doOnSubscribe(subscription -&gt; Log.w(&quot;...&quot;, &quot;doOnSubscribe&quot;)))\n\n// inside the retryButton's click handler:\n\nsubjectToRetry.onNext(&quot;Doit!&quot;);\n</code></pre>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71877093,"answer_count":1,"score":0,"last_activity_date":1649966708,"creation_date":1649841543,"question_id":71854963,"body_markdown":"    boolean isRetryButtonClicked = false;\r\n\r\n    .retryWhen(throwableFlowable -&gt; throwableFlowable.skipWhile(throwable -&gt; !isRetryButtonClicked)\r\n        .doOnNext(throwable -&gt; Log.w(&quot;...&quot;, &quot;doOnNext&quot;))\r\n        .doOnComplete(() -&gt; Log.w(&quot;...&quot;, &quot;doOnComplete&quot;))\r\n        .doOnError(throwable -&gt; Log.w(&quot;...&quot;, &quot;doOnError &quot; + throwable))\r\n        .doOnSubscribe(subscription -&gt; Log.w(&quot;...&quot;, &quot;doOnSubscribe&quot;)))\r\n\r\nIf the `isRetryButtonClicked` variable was false then it will not print doOnNext and that is okay because I told it to skip while `isRetryButtonClicked` equal false, But when the user clicks on the retry button I&#39;ll change the `isRetryButtonClicked` value to true, And after that it must start to print doOnNext but the current result is still not print anything.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TWyjp.png","title":"SkipWhile method does not work as I expected in RxJava","body":"<pre><code>boolean isRetryButtonClicked = false;\n\n.retryWhen(throwableFlowable -&gt; throwableFlowable.skipWhile(throwable -&gt; !isRetryButtonClicked)\n    .doOnNext(throwable -&gt; Log.w(&quot;...&quot;, &quot;doOnNext&quot;))\n    .doOnComplete(() -&gt; Log.w(&quot;...&quot;, &quot;doOnComplete&quot;))\n    .doOnError(throwable -&gt; Log.w(&quot;...&quot;, &quot;doOnError &quot; + throwable))\n    .doOnSubscribe(subscription -&gt; Log.w(&quot;...&quot;, &quot;doOnSubscribe&quot;)))\n</code></pre>\n<p>If the <code>isRetryButtonClicked</code> variable was false then it will not print doOnNext and that is okay because I told it to skip while <code>isRetryButtonClicked</code> equal false, But when the user clicks on the retry button I'll change the <code>isRetryButtonClicked</code> value to true, And after that it must start to print doOnNext but the current result is still not print anything.</p>\n"},{"tags":["java","json","rest-assured"],"comments":[{"owner":{"account_id":3218357,"reputation":2453,"user_id":2716383,"accept_rate":57,"display_name":"pedromss"},"score":0,"creation_date":1503649603,"post_id":45877139,"comment_id":78712912,"body_markdown":"What do you mean by &quot;I&#39;m struggling&quot;?","body":"What do you mean by &quot;I&#39;m struggling&quot;?"},{"owner":{"account_id":11523906,"reputation":69,"user_id":8444946,"display_name":"Peter Kirby"},"score":0,"creation_date":1503650000,"post_id":45877139,"comment_id":78713159,"body_markdown":"So I&#39;ve got it calling apiary. I&#39;ve got it coming back with a 200 response. I now want t use this json-unit to check the expected file against the rest response. How do I do that? becuase the json-unit documentation isn&#39;t particularly clear in my eyes.","body":"So I&#39;ve got it calling apiary. I&#39;ve got it coming back with a 200 response. I now want t use this json-unit to check the expected file against the rest response. How do I do that? becuase the json-unit documentation isn&#39;t particularly clear in my eyes."}],"answers":[{"tags":[],"owner":{"account_id":3218357,"reputation":2453,"user_id":2716383,"accept_rate":57,"display_name":"pedromss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1597352375,"creation_date":1503655536,"answer_id":45879055,"question_id":45877139,"body_markdown":"You need to: \r\n\r\n - Read in the resource with the JsonUnit API\r\n - Extract the response from rest assured to a variable\r\n - Assert you are already doing\r\n\r\nExample:\r\n\r\n    Response response = when().get(&quot;&lt;url&gt;&quot;);\r\n            response\r\n                    .then()\r\n                    .statusCode(200);\r\n    \r\n            // compares two JSON documents\r\n            assertJsonEquals(resource(&quot;resource-inside-resources-folder.json&quot;), response.asString());","title":"Asserting Rest Assured response with Json Unit","body":"<p>You need to:</p>\n<ul>\n<li>Read in the resource with the JsonUnit API</li>\n<li>Extract the response from rest assured to a variable</li>\n<li>Assert you are already doing</li>\n</ul>\n<p>Example:</p>\n<pre><code>Response response = when().get(&quot;&lt;url&gt;&quot;);\n        response\n                .then()\n                .statusCode(200);\n\n        // compares two JSON documents\n        assertJsonEquals(resource(&quot;resource-inside-resources-folder.json&quot;), response.asString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4905129,"reputation":446,"user_id":3952065,"display_name":"frevib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597316808,"creation_date":1597316808,"answer_id":63393820,"question_id":45877139,"body_markdown":"For Restassured Kotlin DSL:\r\n\r\n```kotlin\r\n        When {\r\n            get(&quot;http://nowjidev1vm01.ath.bskyb.com/calskyplussearch/health&quot;)\r\n        } Then {\r\n            statusCode(200)\r\n        } Extract {\r\n            assertJsonEquals(expectedBody, response().asString())\r\n        }\r\n```","title":"Asserting Rest Assured response with Json Unit","body":"<p>For Restassured Kotlin DSL:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        When {\n            get(&quot;http://nowjidev1vm01.ath.bskyb.com/calskyplussearch/health&quot;)\n        } Then {\n            statusCode(200)\n        } Extract {\n            assertJsonEquals(expectedBody, response().asString())\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5940176,"reputation":81,"user_id":4671720,"display_name":"Tamas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649966399,"creation_date":1649966399,"answer_id":71877036,"question_id":45877139,"body_markdown":"It is easier than you think. Rest Assures is passing the entire body as string in case of a &quot;body matcher&quot; is specified. Therefore you can just use the *jsonEquals* matcher of json unit directly:\r\n\r\n    import static net.javacrumbs.jsonunit.JsonMatchers.jsonEquals;\r\n    \r\n    public class RestAssuredWithJsonUnit {\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            \r\n            given().when().get(&quot;/api/service/v1&quot;).\r\n                    then().\r\n                    statusCode(200).\r\n                    body(jsonEquals(resource(&quot;resource-on-classpath.json&quot;)));\r\n    \r\n        }\r\n    \r\n        public static String resource(String resourceName) throws IOException {\r\n            Objects.requireNonNull(resourceName, &quot;&#39;null&#39; passed instead of resource name&quot;);\r\n            return IOUtils.resourceToString(resourceName, UTF_8);\r\n        }\r\n\r\nPlease note the implementation of the &quot;resource&quot; method. The one provided in *ResourceUtils* is using the system classloader, which did not found my resoulces unfortunately. IOUtils from commons-io does the job well!","title":"Asserting Rest Assured response with Json Unit","body":"<p>It is easier than you think. Rest Assures is passing the entire body as string in case of a &quot;body matcher&quot; is specified. Therefore you can just use the <em>jsonEquals</em> matcher of json unit directly:</p>\n<pre><code>import static net.javacrumbs.jsonunit.JsonMatchers.jsonEquals;\n\npublic class RestAssuredWithJsonUnit {\n\n    @Test\n    public void test() throws Exception {\n        \n        given().when().get(&quot;/api/service/v1&quot;).\n                then().\n                statusCode(200).\n                body(jsonEquals(resource(&quot;resource-on-classpath.json&quot;)));\n\n    }\n\n    public static String resource(String resourceName) throws IOException {\n        Objects.requireNonNull(resourceName, &quot;'null' passed instead of resource name&quot;);\n        return IOUtils.resourceToString(resourceName, UTF_8);\n    }\n</code></pre>\n<p>Please note the implementation of the &quot;resource&quot; method. The one provided in <em>ResourceUtils</em> is using the system classloader, which did not found my resoulces unfortunately. IOUtils from commons-io does the job well!</p>\n"}],"owner":{"account_id":11523906,"reputation":69,"user_id":8444946,"display_name":"Peter Kirby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45879055,"answer_count":3,"score":0,"last_activity_date":1649966399,"creation_date":1503649052,"question_id":45877139,"body_markdown":"I&#39;m currently using rest assured and Json-unit to assert a local json file against the requested rest assured response. \r\n\r\nI currently have a before class method with my base uri. \r\n\r\nI don&#39;t know how to make this assertion. I&#39;m struggling with the json-unit documentation. Do I need to input a file first? \r\n\r\n        @Test\r\n        public void ApiaryTest1() throws Exception {\r\n    \r\n            when()\r\n    \r\n                    .get(&quot;/test&quot;)\r\n                    .then()\r\n                    .statusCode(200);\r\n    \r\n            // compares two JSON documents\r\n            assertJsonEquals(&quot;expected/test.json&quot;, &quot;http://apiary/test&quot;);\r\n            }","title":"Asserting Rest Assured response with Json Unit","body":"<p>I'm currently using rest assured and Json-unit to assert a local json file against the requested rest assured response. </p>\n\n<p>I currently have a before class method with my base uri. </p>\n\n<p>I don't know how to make this assertion. I'm struggling with the json-unit documentation. Do I need to input a file first? </p>\n\n<pre><code>    @Test\n    public void ApiaryTest1() throws Exception {\n\n        when()\n\n                .get(\"/test\")\n                .then()\n                .statusCode(200);\n\n        // compares two JSON documents\n        assertJsonEquals(\"expected/test.json\", \"http://apiary/test\");\n        }\n</code></pre>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":20361869,"reputation":2962,"user_id":14936001,"display_name":"cSharp"},"score":0,"creation_date":1650248277,"post_id":71872097,"comment_id":127064840,"body_markdown":"You could store an `origin` point in each shape, store the original `mouseX` and `mouseY` on `keydown` and use the current `mouseX` and `mouseY` to calculate the difference, add it to the `origin`, and use that to manipulate every shape drawn in that shape object.","body":"You could store an <code>origin</code> point in each shape, store the original <code>mouseX</code> and <code>mouseY</code> on <code>keydown</code> and use the current <code>mouseX</code> and <code>mouseY</code> to calculate the difference, add it to the <code>origin</code>, and use that to manipulate every shape drawn in that shape object."}],"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649965923,"creation_date":1649941313,"question_id":71872097,"body_markdown":"The current project allows me to draw and select the drawn shape, what I would like to do is once I press the button select and click on the shape, I would like to move the shape to the location where the mouse is clicked. As seen in the example which I have provided below.\r\n\r\nI have inserted one part of the code as the code is big to upload here, I have uploaded the full code to https://github.com/Muhammad-786/DrawingShapes\r\n\r\nExample of moving shapes: https://github.com/Muhammad-786/MovingShapes\r\n\r\n\r\n    SimpleUI myUI;\r\n    DrawingList drawingList;\r\n\r\n    String toolMode = &quot;&quot;;\r\n\r\n    void setup() {\r\n      size(900,600);\r\n      \r\n      myUI = new SimpleUI();\r\n      drawingList = new DrawingList();\r\n     \r\n      RadioButton  rectButton = myUI.addRadioButton(&quot;rect&quot;, 5, 50, &quot;group1&quot;);\r\n      myUI.addRadioButton(&quot;ellipse&quot;, 5, 80, &quot;group1&quot;);\r\n      myUI.addRadioButton(&quot;line&quot;, 5, 110, &quot;group1&quot;);\r\n      myUI.addRadioButton(&quot;image&quot;, 5, 140, &quot;group1&quot;);\r\n      rectButton.selected = true;\r\n      toolMode = rectButton.UILabel;\r\n      \r\n      // add a new tool .. the select tool\r\n      myUI.addRadioButton(&quot;select&quot;, 5, 200, &quot;group1&quot;);\r\n      \r\n      myUI.addCanvas(110,10,780,580);\r\n      \r\n    }\r\n\r\n    void draw() {\r\n     background(255);\r\n     drawingList.drawMe();\r\n     myUI.update();\r\n    }\r\n\r\n\r\n    void handleUIEvent(UIEventData eventData){\r\n      \r\n      // if from a tool-mode button, the just set the current tool mode string \r\n      if(eventData.uiComponentType == &quot;RadioButton&quot;){\r\n        toolMode = eventData.uiLabel;\r\n        return;\r\n      }\r\n\r\n      // only canvas events below here! First get the mouse point\r\n      if(eventData.eventIsFromWidget(&quot;canvas&quot;)==false) return;\r\n      PVector p =  new PVector(eventData.mousex, eventData.mousey);\r\n      \r\n      // this next line catches all the tool shape-drawing modes \r\n      // so that drawing events are sent to the display list class only if the current tool \r\n      // is a shape drawing tool\r\n      if( toolMode.equals(&quot;rect&quot;) || \r\n          toolMode.equals(&quot;ellipse&quot;) || \r\n          toolMode.equals(&quot;line&quot;) ||\r\n          toolMode.equals(&quot;image&quot;)){    \r\n         drawingList.handleMouseDrawEvent(toolMode,eventData.mouseEventType, p);\r\n         return;\r\n      }\r\n       \r\n      // if the current tool is &quot;select&quot; then do this\r\n      if( toolMode.equals(&quot;select&quot;) ) {    \r\n          drawingList.trySelect(eventData.mouseEventType, p);\r\n        }\r\n      \r\n\r\n    }\r\n\r\n    void keyPressed(){\r\n      if(key == BACKSPACE){\r\n        drawingList.deleteSelected();\r\n      }\r\n    }\r\n\r\n\r\n","title":"Moving drawn shape to the location where the mouse is clicked using select button in processing","body":"<p>The current project allows me to draw and select the drawn shape, what I would like to do is once I press the button select and click on the shape, I would like to move the shape to the location where the mouse is clicked. As seen in the example which I have provided below.</p>\n<p>I have inserted one part of the code as the code is big to upload here, I have uploaded the full code to <a href=\"https://github.com/Muhammad-786/DrawingShapes\" rel=\"nofollow noreferrer\">https://github.com/Muhammad-786/DrawingShapes</a></p>\n<p>Example of moving shapes: <a href=\"https://github.com/Muhammad-786/MovingShapes\" rel=\"nofollow noreferrer\">https://github.com/Muhammad-786/MovingShapes</a></p>\n<pre><code>SimpleUI myUI;\nDrawingList drawingList;\n\nString toolMode = &quot;&quot;;\n\nvoid setup() {\n  size(900,600);\n  \n  myUI = new SimpleUI();\n  drawingList = new DrawingList();\n \n  RadioButton  rectButton = myUI.addRadioButton(&quot;rect&quot;, 5, 50, &quot;group1&quot;);\n  myUI.addRadioButton(&quot;ellipse&quot;, 5, 80, &quot;group1&quot;);\n  myUI.addRadioButton(&quot;line&quot;, 5, 110, &quot;group1&quot;);\n  myUI.addRadioButton(&quot;image&quot;, 5, 140, &quot;group1&quot;);\n  rectButton.selected = true;\n  toolMode = rectButton.UILabel;\n  \n  // add a new tool .. the select tool\n  myUI.addRadioButton(&quot;select&quot;, 5, 200, &quot;group1&quot;);\n  \n  myUI.addCanvas(110,10,780,580);\n  \n}\n\nvoid draw() {\n background(255);\n drawingList.drawMe();\n myUI.update();\n}\n\n\nvoid handleUIEvent(UIEventData eventData){\n  \n  // if from a tool-mode button, the just set the current tool mode string \n  if(eventData.uiComponentType == &quot;RadioButton&quot;){\n    toolMode = eventData.uiLabel;\n    return;\n  }\n\n  // only canvas events below here! First get the mouse point\n  if(eventData.eventIsFromWidget(&quot;canvas&quot;)==false) return;\n  PVector p =  new PVector(eventData.mousex, eventData.mousey);\n  \n  // this next line catches all the tool shape-drawing modes \n  // so that drawing events are sent to the display list class only if the current tool \n  // is a shape drawing tool\n  if( toolMode.equals(&quot;rect&quot;) || \n      toolMode.equals(&quot;ellipse&quot;) || \n      toolMode.equals(&quot;line&quot;) ||\n      toolMode.equals(&quot;image&quot;)){    \n     drawingList.handleMouseDrawEvent(toolMode,eventData.mouseEventType, p);\n     return;\n  }\n   \n  // if the current tool is &quot;select&quot; then do this\n  if( toolMode.equals(&quot;select&quot;) ) {    \n      drawingList.trySelect(eventData.mouseEventType, p);\n    }\n  \n\n}\n\nvoid keyPressed(){\n  if(key == BACKSPACE){\n    drawingList.deleteSelected();\n  }\n}\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649965823,"creation_date":1479299376,"answer_id":40632235,"question_id":40631558,"body_markdown":"In the best traditions, right after posting the question, I&#39;ve managed to solve this.\r\n\r\nTwo things:\r\n\r\n* I had to do `newJsonParser.nextToken();` to avoid NPE.\r\n* Extend `DelegatingDeserializer`\r\n\r\nHere&#39;s a working `DelegatingDeserializer`:\r\n\r\n    public static class ModifiedServiceIdMigratingContainerDeserializer \r\n                                                 extends DelegatingDeserializer {\r\n\r\n        public ModifiedServiceIdMigratingContainerDeserializer(JsonDeserializer&lt;?&gt; defaultDeserializer) {\r\n            super(defaultDeserializer);\r\n        }\r\n\r\n        @Override\r\n        protected JsonDeserializer&lt;?&gt; newDelegatingInstance(JsonDeserializer&lt;?&gt; newDelegatee) {\r\n            return new ModifiedServiceIdMigratingContainerDeserializer(newDelegatee);\r\n        }\r\n\r\n        @Override\r\n        public Object deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            return super.deserialize(restructure(p), ctxt);\r\n        }\r\n\r\n        @Override\r\n        public Object deserialize(JsonParser p, DeserializationContext ctxt, Object intoValue) throws IOException,\r\n                JsonProcessingException {\r\n            return super.deserialize(restructure(p), ctxt, intoValue);\r\n        }\r\n\r\n        public Object deserializeWithType(JsonParser jp, DeserializationContext ctxt, TypeDeserializer typeDeserializer)\r\n                throws IOException, JsonProcessingException {\r\n            return super.deserializeWithType(restructure(jp), ctxt, typeDeserializer);\r\n        }\r\n\r\n        public JsonParser restructure(JsonParser p) throws IOException, JsonParseException {\r\n            final ObjectNode node = p.readValueAsTree();\r\n            migrate(node);\r\n            final TreeTraversingParser newJsonParser = new TreeTraversingParser(node, p.getCodec());\r\n            newJsonParser.nextToken();\r\n            return newJsonParser;\r\n        }\r\n\r\n        private void migrate(ObjectNode containerNode) {\r\n            TreeNode referenceNode = containerNode.get(&quot;reference&quot;);\r\n            if (referenceNode != null &amp;&amp; referenceNode.isObject()) {\r\n                TreeNode serviceIdNode = containerNode.get(&quot;serviceId&quot;);\r\n                if (serviceIdNode == null) {\r\n                    TreeNode referenceServiceIdNode = referenceNode.get(&quot;serviceId&quot;);\r\n                    if (referenceServiceIdNode != null &amp;&amp; referenceServiceIdNode.isValueNode()) {\r\n                        containerNode.set(&quot;serviceId&quot;, (ValueNode) referenceServiceIdNode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"Restructure JSON before deserializing with Jackson","body":"<p>In the best traditions, right after posting the question, I've managed to solve this.</p>\n<p>Two things:</p>\n<ul>\n<li>I had to do <code>newJsonParser.nextToken();</code> to avoid NPE.</li>\n<li>Extend <code>DelegatingDeserializer</code></li>\n</ul>\n<p>Here's a working <code>DelegatingDeserializer</code>:</p>\n<pre><code>public static class ModifiedServiceIdMigratingContainerDeserializer \n                                             extends DelegatingDeserializer {\n\n    public ModifiedServiceIdMigratingContainerDeserializer(JsonDeserializer&lt;?&gt; defaultDeserializer) {\n        super(defaultDeserializer);\n    }\n\n    @Override\n    protected JsonDeserializer&lt;?&gt; newDelegatingInstance(JsonDeserializer&lt;?&gt; newDelegatee) {\n        return new ModifiedServiceIdMigratingContainerDeserializer(newDelegatee);\n    }\n\n    @Override\n    public Object deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        return super.deserialize(restructure(p), ctxt);\n    }\n\n    @Override\n    public Object deserialize(JsonParser p, DeserializationContext ctxt, Object intoValue) throws IOException,\n            JsonProcessingException {\n        return super.deserialize(restructure(p), ctxt, intoValue);\n    }\n\n    public Object deserializeWithType(JsonParser jp, DeserializationContext ctxt, TypeDeserializer typeDeserializer)\n            throws IOException, JsonProcessingException {\n        return super.deserializeWithType(restructure(jp), ctxt, typeDeserializer);\n    }\n\n    public JsonParser restructure(JsonParser p) throws IOException, JsonParseException {\n        final ObjectNode node = p.readValueAsTree();\n        migrate(node);\n        final TreeTraversingParser newJsonParser = new TreeTraversingParser(node, p.getCodec());\n        newJsonParser.nextToken();\n        return newJsonParser;\n    }\n\n    private void migrate(ObjectNode containerNode) {\n        TreeNode referenceNode = containerNode.get(&quot;reference&quot;);\n        if (referenceNode != null &amp;&amp; referenceNode.isObject()) {\n            TreeNode serviceIdNode = containerNode.get(&quot;serviceId&quot;);\n            if (serviceIdNode == null) {\n                TreeNode referenceServiceIdNode = referenceNode.get(&quot;serviceId&quot;);\n                if (referenceServiceIdNode != null &amp;&amp; referenceServiceIdNode.isValueNode()) {\n                    containerNode.set(&quot;serviceId&quot;, (ValueNode) referenceServiceIdNode);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1649965823,"creation_date":1479297294,"question_id":40631558,"body_markdown":"We have a service which currently consumes JSON. We want to slightly restructure this JSON (move one property one level up) but also implement graceful migration so that our service could process old structure as well as new structure. We&#39;re using Jackson for JSON deserialization. \r\n\r\n**How do we restructure JSON prior to deserialization with Jackson?**\r\n\r\nHere&#39;s a MCVE.\r\n\r\nAssume our old JSON looks as follows:\r\n\r\n    {&quot;reference&quot;: {&quot;number&quot; : &quot;one&quot;, &quot;startDate&quot; : [2016, 11, 16], &quot;serviceId&quot; : &quot;0815&quot;}}\r\n\r\nWe want to move `serviceId` one level up:\r\n\r\n    {&quot;reference&quot;: {&quot;number&quot; : &quot;one&quot;, &quot;startDate&quot; : [2016, 11, 16]}, &quot;serviceId&quot; : &quot;0815&quot;}\r\n\r\nThis are the classes we want to deserialize from *both* old an new JSONs:\r\n\r\n       public final static class Container {\r\n    \r\n            public final Reference reference;\r\n    \r\n            public final String serviceId;\r\n    \r\n            @JsonCreator\r\n            public Container(@JsonProperty(&quot;reference&quot;) Reference reference, @JsonProperty(&quot;serviceId&quot;) String serviceId) {\r\n                this.reference = reference;\r\n                this.serviceId = serviceId;\r\n            }\r\n   \r\n        }\r\n    \r\n        public final static class Reference {\r\n    \r\n            public final String number;\r\n    \r\n            public final LocalDate startDate;\r\n    \r\n            @JsonCreator\r\n            public Reference(@JsonProperty(&quot;number&quot;) String number, @JsonProperty(&quot;startDate&quot;) LocalDate startDate) {\r\n                this.number = number;\r\n                this.startDate = startDate;\r\n            }\r\n        }\r\n\r\nWe only want `serviceId` in `Container`, not in both classes.\r\n\r\nWhat I&#39;ve got working is the following deserializer:\r\n\r\n    public static class ServiceIdMigratingContainerDeserializer extends JsonDeserializer&lt;Container&gt; {\r\n\r\n        private final ObjectMapper objectMapper;\r\n\r\n        {\r\n            objectMapper = new ObjectMapper();\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n            objectMapper.configure(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL, true);\r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        }\r\n\r\n        @Override\r\n        public Container deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            ObjectNode node = p.readValueAsTree();\r\n            migrate(node);\r\n            return objectMapper.treeToValue(node, Container.class);\r\n        }\r\n\r\n        private void migrate(ObjectNode containerNode) {\r\n            TreeNode referenceNode = containerNode.get(&quot;reference&quot;);\r\n            if (referenceNode != null &amp;&amp; referenceNode.isObject()) {\r\n                TreeNode serviceIdNode = containerNode.get(&quot;serviceId&quot;);\r\n                if (serviceIdNode == null) {\r\n                    TreeNode referenceServiceIdNode = referenceNode.get(&quot;serviceId&quot;);\r\n                    if (referenceServiceIdNode != null &amp;&amp; referenceServiceIdNode.isValueNode()) {\r\n                        containerNode.set(&quot;serviceId&quot;, (ValueNode) referenceServiceIdNode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis deserializer first retrieves the tree, manipulates it and then deserializers it using an own instance of `ObjectMapper`. It works but we really dislike the fact that we have another instance of `ObjectMapper` here. If we don&#39;t create it and somehow use the system-wide instance of `ObjectMapper` we get an infinite cycle because when we try to call `objectMapper.treeToValue`, our deserializer gets called recursively. So this works (with an own instance of `ObjectMapper`) but it is not an optimal solution.\r\n\r\nAnother method I&#39;ve tried was using a `BeanDeserializerModifier` and a own `JsonDeserializer` which &quot;wraps&quot; the default serializer:\r\n\r\n    public static class ServiceIdMigrationBeanDeserializerModifier extends BeanDeserializerModifier {\r\n        \r\n        @Override\r\n        public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config, BeanDescription beanDesc,\r\n                JsonDeserializer&lt;?&gt; defaultDeserializer) {\r\n            if (beanDesc.getBeanClass() == Container.class) {\r\n                return new ModifiedServiceIdMigratingContainerDeserializer((JsonDeserializer&lt;Container&gt;) defaultDeserializer);\r\n            } else {\r\n                return defaultDeserializer;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class ModifiedServiceIdMigratingContainerDeserializer extends JsonDeserializer&lt;Container&gt; {\r\n\r\n        private final JsonDeserializer&lt;Container&gt; defaultDeserializer;\r\n\r\n        public ModifiedServiceIdMigratingContainerDeserializer(JsonDeserializer&lt;Container&gt; defaultDeserializer) {\r\n            this.defaultDeserializer = defaultDeserializer;\r\n        }\r\n\r\n        @Override\r\n        public Container deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            ObjectNode node = p.readValueAsTree();\r\n            migrate(node);\r\n            return defaultDeserializer.deserialize(new TreeTraversingParser(node, p.getCodec()), ctxt);\r\n        }\r\n\r\n        private void migrate(ObjectNode containerNode) {\r\n            TreeNode referenceNode = containerNode.get(&quot;reference&quot;);\r\n            if (referenceNode != null &amp;&amp; referenceNode.isObject()) {\r\n                TreeNode serviceIdNode = containerNode.get(&quot;serviceId&quot;);\r\n                if (serviceIdNode == null) {\r\n                    TreeNode referenceServiceIdNode = referenceNode.get(&quot;serviceId&quot;);\r\n                    if (referenceServiceIdNode != null &amp;&amp; referenceServiceIdNode.isValueNode()) {\r\n                        containerNode.set(&quot;serviceId&quot;, (ValueNode) referenceServiceIdNode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n&quot;Wrapping&quot; a default deserializer seems to be a better approach, but this fails with an NPE:\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:157)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:150)\r\n    \tat de.db.vz.rikernpushadapter.migration.ServiceIdMigrationTest$ModifiedServiceIdMigratingContainerDeserializer.deserialize(ServiceIdMigrationTest.java:235)\r\n    \tat de.db.vz.rikernpushadapter.migration.ServiceIdMigrationTest$ModifiedServiceIdMigratingContainerDeserializer.deserialize(ServiceIdMigrationTest.java:1)\r\n    \tat com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1623)\r\n    \tat com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1217)\r\n    \tat ...\r\n\r\nThe whole MCVE code is in the following [PasteBin](http://pastebin.com/Zee1Tqj0). It is a single-class all-containing test case which demonstrates both approaches. The `migratesViaDeserializerModifierAndUnmarshalsServiceId` fails.\r\n\r\nSo this leaves me with a question:\r\n\r\n**How do we restructure JSON prior to deserialization with Jackson?**","title":"Restructure JSON before deserializing with Jackson","body":"<p>We have a service which currently consumes JSON. We want to slightly restructure this JSON (move one property one level up) but also implement graceful migration so that our service could process old structure as well as new structure. We're using Jackson for JSON deserialization. </p>\n\n<p><strong>How do we restructure JSON prior to deserialization with Jackson?</strong></p>\n\n<p>Here's a MCVE.</p>\n\n<p>Assume our old JSON looks as follows:</p>\n\n<pre><code>{\"reference\": {\"number\" : \"one\", \"startDate\" : [2016, 11, 16], \"serviceId\" : \"0815\"}}\n</code></pre>\n\n<p>We want to move <code>serviceId</code> one level up:</p>\n\n<pre><code>{\"reference\": {\"number\" : \"one\", \"startDate\" : [2016, 11, 16]}, \"serviceId\" : \"0815\"}\n</code></pre>\n\n<p>This are the classes we want to deserialize from <em>both</em> old an new JSONs:</p>\n\n<pre><code>   public final static class Container {\n\n        public final Reference reference;\n\n        public final String serviceId;\n\n        @JsonCreator\n        public Container(@JsonProperty(\"reference\") Reference reference, @JsonProperty(\"serviceId\") String serviceId) {\n            this.reference = reference;\n            this.serviceId = serviceId;\n        }\n\n    }\n\n    public final static class Reference {\n\n        public final String number;\n\n        public final LocalDate startDate;\n\n        @JsonCreator\n        public Reference(@JsonProperty(\"number\") String number, @JsonProperty(\"startDate\") LocalDate startDate) {\n            this.number = number;\n            this.startDate = startDate;\n        }\n    }\n</code></pre>\n\n<p>We only want <code>serviceId</code> in <code>Container</code>, not in both classes.</p>\n\n<p>What I've got working is the following deserializer:</p>\n\n<pre><code>public static class ServiceIdMigratingContainerDeserializer extends JsonDeserializer&lt;Container&gt; {\n\n    private final ObjectMapper objectMapper;\n\n    {\n        objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        objectMapper.configure(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL, true);\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    }\n\n    @Override\n    public Container deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        ObjectNode node = p.readValueAsTree();\n        migrate(node);\n        return objectMapper.treeToValue(node, Container.class);\n    }\n\n    private void migrate(ObjectNode containerNode) {\n        TreeNode referenceNode = containerNode.get(\"reference\");\n        if (referenceNode != null &amp;&amp; referenceNode.isObject()) {\n            TreeNode serviceIdNode = containerNode.get(\"serviceId\");\n            if (serviceIdNode == null) {\n                TreeNode referenceServiceIdNode = referenceNode.get(\"serviceId\");\n                if (referenceServiceIdNode != null &amp;&amp; referenceServiceIdNode.isValueNode()) {\n                    containerNode.set(\"serviceId\", (ValueNode) referenceServiceIdNode);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This deserializer first retrieves the tree, manipulates it and then deserializers it using an own instance of <code>ObjectMapper</code>. It works but we really dislike the fact that we have another instance of <code>ObjectMapper</code> here. If we don't create it and somehow use the system-wide instance of <code>ObjectMapper</code> we get an infinite cycle because when we try to call <code>objectMapper.treeToValue</code>, our deserializer gets called recursively. So this works (with an own instance of <code>ObjectMapper</code>) but it is not an optimal solution.</p>\n\n<p>Another method I've tried was using a <code>BeanDeserializerModifier</code> and a own <code>JsonDeserializer</code> which \"wraps\" the default serializer:</p>\n\n<pre><code>public static class ServiceIdMigrationBeanDeserializerModifier extends BeanDeserializerModifier {\n\n    @Override\n    public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config, BeanDescription beanDesc,\n            JsonDeserializer&lt;?&gt; defaultDeserializer) {\n        if (beanDesc.getBeanClass() == Container.class) {\n            return new ModifiedServiceIdMigratingContainerDeserializer((JsonDeserializer&lt;Container&gt;) defaultDeserializer);\n        } else {\n            return defaultDeserializer;\n        }\n    }\n}\n\npublic static class ModifiedServiceIdMigratingContainerDeserializer extends JsonDeserializer&lt;Container&gt; {\n\n    private final JsonDeserializer&lt;Container&gt; defaultDeserializer;\n\n    public ModifiedServiceIdMigratingContainerDeserializer(JsonDeserializer&lt;Container&gt; defaultDeserializer) {\n        this.defaultDeserializer = defaultDeserializer;\n    }\n\n    @Override\n    public Container deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        ObjectNode node = p.readValueAsTree();\n        migrate(node);\n        return defaultDeserializer.deserialize(new TreeTraversingParser(node, p.getCodec()), ctxt);\n    }\n\n    private void migrate(ObjectNode containerNode) {\n        TreeNode referenceNode = containerNode.get(\"reference\");\n        if (referenceNode != null &amp;&amp; referenceNode.isObject()) {\n            TreeNode serviceIdNode = containerNode.get(\"serviceId\");\n            if (serviceIdNode == null) {\n                TreeNode referenceServiceIdNode = referenceNode.get(\"serviceId\");\n                if (referenceServiceIdNode != null &amp;&amp; referenceServiceIdNode.isValueNode()) {\n                    containerNode.set(\"serviceId\", (ValueNode) referenceServiceIdNode);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>\"Wrapping\" a default deserializer seems to be a better approach, but this fails with an NPE:</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:157)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:150)\n    at de.db.vz.rikernpushadapter.migration.ServiceIdMigrationTest$ModifiedServiceIdMigratingContainerDeserializer.deserialize(ServiceIdMigrationTest.java:235)\n    at de.db.vz.rikernpushadapter.migration.ServiceIdMigrationTest$ModifiedServiceIdMigratingContainerDeserializer.deserialize(ServiceIdMigrationTest.java:1)\n    at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1623)\n    at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1217)\n    at ...\n</code></pre>\n\n<p>The whole MCVE code is in the following <a href=\"http://pastebin.com/Zee1Tqj0\" rel=\"noreferrer\">PasteBin</a>. It is a single-class all-containing test case which demonstrates both approaches. The <code>migratesViaDeserializerModifierAndUnmarshalsServiceId</code> fails.</p>\n\n<p>So this leaves me with a question:</p>\n\n<p><strong>How do we restructure JSON prior to deserialization with Jackson?</strong></p>\n"},{"tags":["java","xpath","jaxb","unmarshalling"],"comments":[{"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"score":0,"creation_date":1371449047,"post_id":17141154,"comment_id":24808520,"body_markdown":"what have you done so far ?","body":"what have you done so far ?"},{"owner":{"account_id":1367548,"reputation":3154,"user_id":1303680,"accept_rate":47,"display_name":"Pratik Shelar"},"score":1,"creation_date":1371459258,"post_id":17141154,"comment_id":24812712,"body_markdown":"From what I have found it seems I will have to use eclipseLink MOXy to achieve this","body":"From what I have found it seems I will have to use eclipseLink MOXy to achieve this"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1371483693,"creation_date":1371460933,"answer_id":17144208,"question_id":17141154,"body_markdown":"If all you want is the street name, just use an XPath expression to get it as a string, and forget about JAXB - the complex JAXB machinery is not adding any value.\r\n\r\n    import javax.xml.xpath.*;\r\n    import org.xml.sax.InputSource;\r\n    \r\n    public class XPathDemo {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            XPathFactory xpf = XPathFactory.newInstance();\r\n            XPath xpath = xpf.newXPath();\r\n            \r\n            InputSource xml = new InputSource(&quot;src/forum17141154/input.xml&quot;);\r\n            String result = (String) xpath.evaluate(&quot;/root/record/AddressDetails/street&quot;, xml, XPathConstants.STRING);\r\n            System.out.println(result);\r\n        }\r\n    \r\n    }","title":"Unmarshalling an XML using Xpath expression and jaxb","body":"<p>If all you want is the street name, just use an XPath expression to get it as a string, and forget about JAXB - the complex JAXB machinery is not adding any value.</p>\n\n<pre><code>import javax.xml.xpath.*;\nimport org.xml.sax.InputSource;\n\npublic class XPathDemo {\n\n    public static void main(String[] args) throws Exception {\n        XPathFactory xpf = XPathFactory.newInstance();\n        XPath xpath = xpf.newXPath();\n\n        InputSource xml = new InputSource(\"src/forum17141154/input.xml\");\n        String result = (String) xpath.evaluate(\"/root/record/AddressDetails/street\", xml, XPathConstants.STRING);\n        System.out.println(result);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1503049553,"creation_date":1371465266,"answer_id":17145457,"question_id":17141154,"body_markdown":"**Note:**  I&#39;m the [**EclipseLink JAXB (MOXy)**][1] lead and a member of the [**JAXB (JST-222)**][2] expert group.\r\n\r\nYou could use MOXy&#39;s `@XmlPath` extension for this use case.\r\n\r\n**Response**\r\n\r\n    import javax.xml.bind.annotation.*;\r\n    import org.eclipse.persistence.oxm.annotations.XmlPath;\r\n    \r\n    @XmlRootElement(name=&quot;root&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Response{\r\n        @XmlPath(&quot;record/AddressDetails/street/text()&quot;)\r\n        String street; \r\n    \r\n        //getter and setters\r\n    }\r\n\r\n**jaxb.properties**\r\n\r\nTo use MOXy as your JAXB provider you need to include a file called `jaxb.properties` in the same package as your domain model with the following entry (see:  http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html)\r\n\r\n    javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory\r\n\r\n**Demo**\r\n\r\n    import java.io.File;\r\n    import javax.xml.bind.*;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            JAXBContext jc = JAXBContext.newInstance(Response.class);\r\n            \r\n            Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n            File xml = new File(&quot;src/forum17141154/input.xml&quot;);\r\n            Response response = (Response) unmarshaller.unmarshal(xml);\r\n            \r\n            Marshaller marshaller = jc.createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n            marshaller.marshal(response, System.out);\r\n        }\r\n    \r\n    }\r\n\r\n**Output**\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;root&gt;\r\n       &lt;record&gt;\r\n          &lt;AddressDetails&gt;\r\n             &lt;street&gt; M G Road &lt;/street&gt;\r\n          &lt;/AddressDetails&gt;\r\n       &lt;/record&gt;\r\n    &lt;/root&gt;\r\n\r\n**For More Information**\r\n\r\n  - http://blog.bdoughan.com/2010/07/xpath-based-mapping.html\r\n  - http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/#moxy\r\n  [2]: http://jcp.org/en/jsr/detail?id=222\r\n","title":"Unmarshalling an XML using Xpath expression and jaxb","body":"<p><strong>Note:</strong>  I'm the <a href=\"http://www.eclipse.org/eclipselink/#moxy\" rel=\"noreferrer\"><strong>EclipseLink JAXB (MOXy)</strong></a> lead and a member of the <a href=\"http://jcp.org/en/jsr/detail?id=222\" rel=\"noreferrer\"><strong>JAXB (JST-222)</strong></a> expert group.</p>\n\n<p>You could use MOXy's <code>@XmlPath</code> extension for this use case.</p>\n\n<p><strong>Response</strong></p>\n\n<pre><code>import javax.xml.bind.annotation.*;\nimport org.eclipse.persistence.oxm.annotations.XmlPath;\n\n@XmlRootElement(name=\"root\")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Response{\n    @XmlPath(\"record/AddressDetails/street/text()\")\n    String street; \n\n    //getter and setters\n}\n</code></pre>\n\n<p><strong>jaxb.properties</strong></p>\n\n<p>To use MOXy as your JAXB provider you need to include a file called <code>jaxb.properties</code> in the same package as your domain model with the following entry (see:  <a href=\"http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html\" rel=\"noreferrer\">http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html</a>)</p>\n\n<pre><code>javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory\n</code></pre>\n\n<p><strong>Demo</strong></p>\n\n<pre><code>import java.io.File;\nimport javax.xml.bind.*;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(Response.class);\n\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        File xml = new File(\"src/forum17141154/input.xml\");\n        Response response = (Response) unmarshaller.unmarshal(xml);\n\n        Marshaller marshaller = jc.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        marshaller.marshal(response, System.out);\n    }\n\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;root&gt;\n   &lt;record&gt;\n      &lt;AddressDetails&gt;\n         &lt;street&gt; M G Road &lt;/street&gt;\n      &lt;/AddressDetails&gt;\n   &lt;/record&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>For More Information</strong></p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2010/07/xpath-based-mapping.html\" rel=\"noreferrer\">http://blog.bdoughan.com/2010/07/xpath-based-mapping.html</a></li>\n<li><a href=\"http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html\" rel=\"noreferrer\">http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371483465,"creation_date":1371483465,"answer_id":17151448,"question_id":17141154,"body_markdown":"If you want to map to the middle of an XML document you could do the following:\r\n\r\n**Demo Code**\r\n\r\nYou could use a StAX parser to advance to the part of the document you wish to unmarshal, and then unmarshal the `XMLStreamReader` from there,.\r\n\r\n    import javax.xml.bind.*;\r\n    import javax.xml.stream.*;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            JAXBContext jc = JAXBContext.newInstance(Response.class);\r\n            \r\n            XMLInputFactory xif = XMLInputFactory.newFactory();\r\n            StreamSource xml = new StreamSource(&quot;src/forum17141154/input.xml&quot;);\r\n            XMLStreamReader xsr = xif.createXMLStreamReader(xml);\r\n            while(!(xsr.isStartElement() &amp;&amp; xsr.getLocalName().equals(&quot;AddressDetails&quot;))) {\r\n                xsr.next();\r\n            }\r\n            \r\n            Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n            JAXBElement&lt;Response&gt; response = unmarshaller.unmarshal(xsr, Response.class);\r\n            \r\n            Marshaller marshaller = jc.createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n            marshaller.marshal(response, System.out);\r\n        }\r\n    \r\n    }\r\n\r\n**Response**\r\n\r\nThe mappings on the domain object are made relative to the fragment of the XML document you are mapping to.\r\n\r\n    import javax.xml.bind.annotation.*;\r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Response{\r\n    \r\n        String street; \r\n    \r\n        //getter and setters\r\n    }\r\n\r\n**Output**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;AddressDetails&gt;\r\n       &lt;street&gt; M G Road &lt;/street&gt;\r\n    &lt;/AddressDetails&gt;\r\n\r\n**For More Information**\r\n\r\n  - http://blog.bdoughan.com/2012/08/handle-middle-of-xml-document-with-jaxb.html","title":"Unmarshalling an XML using Xpath expression and jaxb","body":"<p>If you want to map to the middle of an XML document you could do the following:</p>\n\n<p><strong>Demo Code</strong></p>\n\n<p>You could use a StAX parser to advance to the part of the document you wish to unmarshal, and then unmarshal the <code>XMLStreamReader</code> from there,.</p>\n\n<pre><code>import javax.xml.bind.*;\nimport javax.xml.stream.*;\nimport javax.xml.transform.stream.StreamSource;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(Response.class);\n\n        XMLInputFactory xif = XMLInputFactory.newFactory();\n        StreamSource xml = new StreamSource(\"src/forum17141154/input.xml\");\n        XMLStreamReader xsr = xif.createXMLStreamReader(xml);\n        while(!(xsr.isStartElement() &amp;&amp; xsr.getLocalName().equals(\"AddressDetails\"))) {\n            xsr.next();\n        }\n\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        JAXBElement&lt;Response&gt; response = unmarshaller.unmarshal(xsr, Response.class);\n\n        Marshaller marshaller = jc.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        marshaller.marshal(response, System.out);\n    }\n\n}\n</code></pre>\n\n<p><strong>Response</strong></p>\n\n<p>The mappings on the domain object are made relative to the fragment of the XML document you are mapping to.</p>\n\n<pre><code>import javax.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Response{\n\n    String street; \n\n    //getter and setters\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;AddressDetails&gt;\n   &lt;street&gt; M G Road &lt;/street&gt;\n&lt;/AddressDetails&gt;\n</code></pre>\n\n<p><strong>For More Information</strong></p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2012/08/handle-middle-of-xml-document-with-jaxb.html\" rel=\"nofollow\">http://blog.bdoughan.com/2012/08/handle-middle-of-xml-document-with-jaxb.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10837284,"reputation":21,"user_id":7969847,"display_name":"Rhode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649965538,"creation_date":1649965538,"answer_id":71876904,"question_id":17141154,"body_markdown":"@Xpath of Moxy works like a charm. But I got only null values in the beginning. Seems that it works a bit different with java 11 and above:\r\n\r\nFor me this post was helpful: https://stackoverflow.com/questions/67500565/xmlpath-has-no-impact-during-the-jaxb-marshalling/67515165#67515165 . \r\n1) It finally worked with using these dependencies:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n2) This in de jaxb.properties file (notice &#39;jakarta&#39;, this is different for older versions of java: jakarta.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory\r\n\r\n3) Put this jaxb.properties file in the exact same location as the class files\r\n\r\n4) In my pom.xml also the underneath, to copy de jaxb.properties file to the exact same location. (check in you target folder if it worked, the properties file should be in the exact same folder.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n5) Check in your imports that for jakarta is used for the Unmarshaller etc. \r\nSo your import statements should be like this: \r\n\r\nimport jakarta.xml.bind.JAXBContext;\r\nimport jakarta.xml.bind.Unmarshaller;\r\n\r\nGood luck!","title":"Unmarshalling an XML using Xpath expression and jaxb","body":"<p>@Xpath of Moxy works like a charm. But I got only null values in the beginning. Seems that it works a bit different with java 11 and above:</p>\n<p>For me this post was helpful: <a href=\"https://stackoverflow.com/questions/67500565/xmlpath-has-no-impact-during-the-jaxb-marshalling/67515165#67515165\">@XmlPath has no impact during the JAXB Marshalling</a> .</p>\n<ol>\n<li><p>It finally worked with using these dependencies:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n     &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n     &lt;version&gt;3.0.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n     &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n     &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\n     &lt;version&gt;3.0.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n     &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n     &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n     &lt;version&gt;3.0.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n     &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n     &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n     &lt;version&gt;2.0.1&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>This in de jaxb.properties file (notice 'jakarta', this is different for older versions of java: jakarta.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory</p>\n</li>\n<li><p>Put this jaxb.properties file in the exact same location as the class files</p>\n</li>\n<li><p>In my pom.xml also the underneath, to copy de jaxb.properties file to the exact same location. (check in you target folder if it worked, the properties file should be in the exact same folder.</p>\n \n     \n         \n             org.apache.maven.plugins\n             maven-compiler-plugin\n         \n     \n     \n         \n             src/main/java\n             \n                 **/*.java\n             \n         \n     \n \n</li>\n<li><p>Check in your imports that for jakarta is used for the Unmarshaller etc.\nSo your import statements should be like this:</p>\n</li>\n</ol>\n<p>import jakarta.xml.bind.JAXBContext;\nimport jakarta.xml.bind.Unmarshaller;</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":1367548,"reputation":3154,"user_id":1303680,"accept_rate":47,"display_name":"Pratik Shelar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28242,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":17145457,"answer_count":4,"score":19,"last_activity_date":1649965538,"creation_date":1371448571,"question_id":17141154,"body_markdown":"I am new to JAXB and would like to know if there is a way by which I can unmarshall an XML to my response object but using xpath expressions. The issue is that I am calling a third party webservice and the response which I receive has a lot of details. I do not wish to map all the details in the XML to my response object. I just wish to map few details from the xml using which I can get using specific XPath expressions and map those to my response object. Is there an annotation which can help me achieve this?\r\n\r\nFor example consider the following response\r\n\r\n    &lt;root&gt;\r\n      &lt;record&gt;\r\n        &lt;id&gt;1&lt;/id&gt;\r\n        &lt;name&gt;Ian&lt;/name&gt;\r\n        &lt;AddressDetails&gt;\r\n          &lt;street&gt; M G Road &lt;/street&gt;\r\n        &lt;/AddressDetails&gt;\r\n      &lt;/record&gt;  \r\n    &lt;/root&gt;\r\n\r\nI am only intrested in retrieving the street name so I want to use xpath expression to get value of street using &#39;root/record/AddressDetails/street&#39; and map it to my response object\r\n\r\n    public class Response{\r\n         // How do i map this in jaxb, I do not wish to map record,id or name elements\r\n         String street; \r\n         \r\n         //getter and setters\r\n         ....\r\n    }   \r\n\r\n\r\n\r\nThanks","title":"Unmarshalling an XML using Xpath expression and jaxb","body":"<p>I am new to JAXB and would like to know if there is a way by which I can unmarshall an XML to my response object but using xpath expressions. The issue is that I am calling a third party webservice and the response which I receive has a lot of details. I do not wish to map all the details in the XML to my response object. I just wish to map few details from the xml using which I can get using specific XPath expressions and map those to my response object. Is there an annotation which can help me achieve this?</p>\n\n<p>For example consider the following response</p>\n\n<pre><code>&lt;root&gt;\n  &lt;record&gt;\n    &lt;id&gt;1&lt;/id&gt;\n    &lt;name&gt;Ian&lt;/name&gt;\n    &lt;AddressDetails&gt;\n      &lt;street&gt; M G Road &lt;/street&gt;\n    &lt;/AddressDetails&gt;\n  &lt;/record&gt;  \n&lt;/root&gt;\n</code></pre>\n\n<p>I am only intrested in retrieving the street name so I want to use xpath expression to get value of street using 'root/record/AddressDetails/street' and map it to my response object</p>\n\n<pre><code>public class Response{\n     // How do i map this in jaxb, I do not wish to map record,id or name elements\n     String street; \n\n     //getter and setters\n     ....\n}   \n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","android","statusbar","android-statusbar"],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649965515,"creation_date":1649904995,"answer_id":71865988,"question_id":71865491,"body_markdown":"As per documentation: you need to use `WindowInsetsController` to set [`setAppearanceLightStatusBars`][1] which changes the foreground color of the status bars (icons &amp; text):\r\n```\r\nnew WindowInsetsControllerCompat(getWindow(), \r\n        getWindow().getDecorView()).setAppearanceLightStatusBars(true); \r\n```\r\n\r\n**UPDATE**\r\n\r\n\r\nNo need to the below, also they have deprecated APIs:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 21) {\r\n        Window window = this.getWindow();\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\r\n        \r\n    }\r\n\r\nTo make the status bar light &amp; icons/text dark on API Level 30:\r\n\r\n**Method 1:** Programmatically:\r\n\r\n    new WindowInsetsControllerCompat(getWindow(), \r\n                    getWindow().getDecorView()).setAppearanceLightStatusBars(true);\r\n    getWindow().setStatusBarColor( ResourcesCompat.getColor(getResources(), R.color.primary_color, null)); // Or Color.WHITE make it white\r\n\r\n\r\n**Method 2:** In themes.xml:\r\n\r\nadd this in your app&#39;s theme:\r\n\r\n    &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;\r\n    &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/primary_color&lt;/item&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/core/view/WindowInsetsControllerCompat#setAppearanceLightStatusBars(boolean)","title":"Change the Color of Status Bar TEXT and icon in API 30","body":"<p>As per documentation: you need to use <code>WindowInsetsController</code> to set <a href=\"https://developer.android.com/reference/androidx/core/view/WindowInsetsControllerCompat#setAppearanceLightStatusBars(boolean)\" rel=\"nofollow noreferrer\"><code>setAppearanceLightStatusBars</code></a> which changes the foreground color of the status bars (icons &amp; text):</p>\n<pre><code>new WindowInsetsControllerCompat(getWindow(), \n        getWindow().getDecorView()).setAppearanceLightStatusBars(true); \n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>No need to the below, also they have deprecated APIs:</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 21) {\n    Window window = this.getWindow();\n    window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n    window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n    \n}\n</code></pre>\n<p>To make the status bar light &amp; icons/text dark on API Level 30:</p>\n<p><strong>Method 1:</strong> Programmatically:</p>\n<pre><code>new WindowInsetsControllerCompat(getWindow(), \n                getWindow().getDecorView()).setAppearanceLightStatusBars(true);\ngetWindow().setStatusBarColor( ResourcesCompat.getColor(getResources(), R.color.primary_color, null)); // Or Color.WHITE make it white\n</code></pre>\n<p><strong>Method 2:</strong> In themes.xml:</p>\n<p>add this in your app's theme:</p>\n<pre><code>&lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;\n&lt;item name=&quot;android:statusBarColor&quot;&gt;@color/primary_color&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":22259144,"reputation":131,"user_id":16490858,"display_name":"Dejo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649965515,"creation_date":1649899983,"question_id":71865491,"body_markdown":"I want the **icons and text** on the StatusBar to be black. I have tried in various ways, but obviously it is a problem because API 30 does not respond to the already existing solutions I found on the net. Can anyone give specific instructions on how to **change the color of icons and text**. Please note that I am using ```Theme.AppCompat.DayNight.DarkActionBar```\r\nI ask for your help.\r\n\r\nThis is what it should look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy style.xml\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.DayNight.DarkActionBar&quot;&gt;\r\n\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot; targetApi=&quot;23&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;item name=&quot;customBackgroundColor&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n        &lt;item name=&quot;customPrimaryTextColor&quot;&gt;#000000&lt;/item&gt;\r\n\r\n    &lt;/style&gt;\r\n\r\n\r\nThis code changes the background color of the StatusBar, but I needs to change the color of the text and icons on the StatusBar.\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= 21) {\r\n            Window window = this.getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\r\n            window.setStatusBarColor(this.getResources().getColor(R.color.primary_color));\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7EJyu.jpg","title":"Change the Color of Status Bar TEXT and icon in API 30","body":"<p>I want the <strong>icons and text</strong> on the StatusBar to be black. I have tried in various ways, but obviously it is a problem because API 30 does not respond to the already existing solutions I found on the net. Can anyone give specific instructions on how to <strong>change the color of icons and text</strong>. Please note that I am using <code>Theme.AppCompat.DayNight.DarkActionBar</code>\nI ask for your help.</p>\n<p>This is what it should look like:</p>\n<p><a href=\"https://i.stack.imgur.com/7EJyu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7EJyu.jpg\" alt=\"enter image description here\" /></a></p>\n<p>My style.xml</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.DayNight.DarkActionBar&quot;&gt;\n\n    &lt;item name=&quot;colorPrimary&quot;&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryDark&quot; targetApi=&quot;23&quot;&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n    &lt;item name=&quot;customBackgroundColor&quot;&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=&quot;customPrimaryTextColor&quot;&gt;#000000&lt;/item&gt;\n\n&lt;/style&gt;\n</code></pre>\n<p>This code changes the background color of the StatusBar, but I needs to change the color of the text and icons on the StatusBar.</p>\n<pre><code>    if (Build.VERSION.SDK_INT &gt;= 21) {\n        Window window = this.getWindow();\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n        window.setStatusBarColor(this.getResources().getColor(R.color.primary_color));\n    }\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1649968157,"post_id":71876793,"comment_id":127014430,"body_markdown":"Is the problem necessarily in your HashMap? If you take Java out of the picture for the moment and run your SQL query in a database tool such as MySQL Workbench, does it return the correct results?","body":"Is the problem necessarily in your HashMap? If you take Java out of the picture for the moment and run your SQL query in a database tool such as MySQL Workbench, does it return the correct results?"},{"owner":{"account_id":15963670,"reputation":85,"user_id":11519977,"display_name":"dennod"},"score":0,"creation_date":1649968668,"post_id":71876793,"comment_id":127014570,"body_markdown":"I think the problem is after if(!subjectMap.containsKey(subjectID))  because it starts getting the grades but doesn&#39;t continue mapping them after it gets the first grade and it puts the first grade it gets on all the other subjects, so yes I think the problem is java.","body":"I think the problem is after if(!subjectMap.containsKey(subjectID))  because it starts getting the grades but doesn&#39;t continue mapping them after it gets the first grade and it puts the first grade it gets on all the other subjects, so yes I think the problem is java."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1649969365,"post_id":71876793,"comment_id":127014749,"body_markdown":"So have you done as I suggested and run your SQL query in a tool such as MySQL Workbench? Sometimes we might think we know where the problem in a piece of code is but it turns out the problem is somewhere else that we&#39;ve overlooked. Look at the data returned by your SQL query. If it&#39;s all good, then we know the problem isn&#39;t with your query. If your SQL query is returning the wrong data, then your Java code will also return the wrong data. In fact, looking at your query, why are you joining on `student_subject_marks` twice?","body":"So have you done as I suggested and run your SQL query in a tool such as MySQL Workbench? Sometimes we might think we know where the problem in a piece of code is but it turns out the problem is somewhere else that we&#39;ve overlooked. Look at the data returned by your SQL query. If it&#39;s all good, then we know the problem isn&#39;t with your query. If your SQL query is returning the wrong data, then your Java code will also return the wrong data. In fact, looking at your query, why are you joining on <code>student_subject_marks</code> twice?"},{"owner":{"account_id":15963670,"reputation":85,"user_id":11519977,"display_name":"dennod"},"score":0,"creation_date":1649969473,"post_id":71876793,"comment_id":127014778,"body_markdown":"Because I don&#39;t know how to do it otherwise.","body":"Because I don&#39;t know how to do it otherwise."}],"owner":{"account_id":15963670,"reputation":85,"user_id":11519977,"display_name":"dennod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649965512,"creation_date":1649964793,"question_id":71876793,"body_markdown":"On all the **subjects** of the student the same **grade** is retrieved, the grade of the **first** subject is repeated in the other subject grades. I know the problem is in the hashmap that I have defined for subjects so what changes do I need to do there for this problem to be fixed.\r\n\r\n**Here is what it looks like:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the method that the **GET REQUEST** calls:\r\n\r\n      public Student getStudentById(int id) throws Exception {\r\n            Connection connection = null;\r\n    \r\n            Student student = new Student();\r\n    \r\n    \r\n            student.setSubjectList(new ArrayList&lt;&gt;());\r\n    \r\n    \r\n            Map&lt;String,Subject&gt; subjectMap = new HashMap&lt;&gt;();\r\n            Map&lt;String,StudentMark&gt; markMap = new HashMap&lt;&gt;();\r\n    \r\n            try {\r\n                connection = new MysqlDbConnectionService().getConnection();\r\n    \r\n    \r\n                String select = &quot;SELECT s.user_id, s.username, s.password,  s.fullname,  s.email,subj.id, subj.name, f.fid, f.university_id,&quot; +\r\n                        &quot; f.fname,p.professor_id, p.first_name,p.last_name,p.title, g.grade_id, g.mark, g.description &quot; +\r\n                        &quot; FROM student s &quot; +\r\n                        &quot;         INNER JOIN student_faculty sf ON sf.student_id=s.user_id\\n&quot; +\r\n                        &quot;         INNER JOIN faculty f ON sf.faculty_id=f.fid\\n&quot; +\r\n                        &quot;         INNER JOIN faculty_subject fs ON f.fid = fs.faculty_id\\n&quot; +\r\n                        &quot;         INNER JOIN subject subj ON fs.subject_id = subj.id\\n&quot; +\r\n                        &quot;         INNER JOIN professor_subject ps ON ps.subject_id = subj.id\\n&quot; +\r\n                        &quot;         INNER JOIN professor p ON ps.prof_id = p.professor_id\\n&quot; +\r\n                        &quot;         INNER JOIN student_subject_marks sm ON sm.student_id = s.user_id\\n&quot; +\r\n                        &quot;         INNER JOIN student_subject_marks ds ON ds.subject_id = subj.id\\n&quot; +\r\n                        &quot;         INNER JOIN grade g ON sm.grade_id = g.grade_id\\n&quot; +\r\n                        &quot;WHERE user_id = ?&quot;;\r\n    \r\n                PreparedStatement ps = connection.prepareStatement(select);\r\n                ps.setInt(1, id);\r\n                ResultSet rs = ps.executeQuery();\r\n    \r\n    \r\n                while (rs.next()) {\r\n    \r\n                    if(student.getId()==null) {\r\n    \r\n                        student.setId(rs.getString(&quot;user_id&quot;));\r\n                        student.setUsername(rs.getString(&quot;username&quot;));\r\n                        student.setPassword(rs.getString(&quot;password&quot;));\r\n                        student.setFullName(rs.getString(&quot;fullname&quot;));\r\n                        student.setEmail(rs.getString(&quot;email&quot;));\r\n                    }\r\n    \r\n                    String subjectID=rs.getString(&quot;id&quot;);\r\n    \r\n                    Subject subject =null;\r\n                    Professor professor=null;\r\n                    StudentMark mark = null;\r\n    \r\n                    if(!subjectMap.containsKey(subjectID)) {\r\n                       subject=new Subject();\r\n                        subject.setId(rs.getInt(&quot;id&quot;));\r\n                        subject.setName(rs.getString(&quot;name&quot;));\r\n                        subject.setProfessorList(new ArrayList&lt;&gt;());\r\n                        subject.setMarkList(new ArrayList&lt;&gt;());\r\n                        subjectMap.put(subjectID, subject);\r\n    \r\n                        professor = new Professor();\r\n                        professor.setProfessor_id(rs.getInt(&quot;professor_id&quot;));\r\n                        professor.setFirst_name(rs.getString(&quot;first_name&quot;));\r\n                        professor.setLast_name(rs.getString(&quot;last_name&quot;));\r\n                        professor.setTitle(rs.getString(&quot;title&quot;));\r\n    \r\n                        mark = new StudentMark();\r\n                        mark.setGrade_id(rs.getInt(&quot;grade_id&quot;));\r\n                        mark.setMark(rs.getInt(&quot;mark&quot;));\r\n                        mark.setDescription(rs.getString(&quot;description&quot;));\r\n    \r\n                        subject.getProfessorList().add(professor);\r\n                        subject.getMarkList().add(mark);\r\n    \r\n                    }\r\n                    else{\r\n                        subject = subjectMap.get(subjectID);\r\n                    }\r\n    //\r\n    \r\n    \r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(e + &quot;Retrieve not successful&quot;);\r\n    \r\n            }\r\n            student.getSubjectList().addAll(subjectMap.values());\r\n    \r\n    \r\n            return student;\r\n    \r\n    \r\n\r\n        }\r\n\r\nHere is the **ER DIAGRAM:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BfaVc.png\r\n  [2]: https://i.stack.imgur.com/lbGZS.png","title":"GET REQUEST not returning student grade properly","body":"<p>On all the <strong>subjects</strong> of the student the same <strong>grade</strong> is retrieved, the grade of the <strong>first</strong> subject is repeated in the other subject grades. I know the problem is in the hashmap that I have defined for subjects so what changes do I need to do there for this problem to be fixed.</p>\n<p><strong>Here is what it looks like:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/BfaVc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BfaVc.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the method that the <strong>GET REQUEST</strong> calls:</p>\n<pre><code>  public Student getStudentById(int id) throws Exception {\n        Connection connection = null;\n\n        Student student = new Student();\n\n\n        student.setSubjectList(new ArrayList&lt;&gt;());\n\n\n        Map&lt;String,Subject&gt; subjectMap = new HashMap&lt;&gt;();\n        Map&lt;String,StudentMark&gt; markMap = new HashMap&lt;&gt;();\n\n        try {\n            connection = new MysqlDbConnectionService().getConnection();\n\n\n            String select = &quot;SELECT s.user_id, s.username, s.password,  s.fullname,  s.email,subj.id, subj.name, f.fid, f.university_id,&quot; +\n                    &quot; f.fname,p.professor_id, p.first_name,p.last_name,p.title, g.grade_id, g.mark, g.description &quot; +\n                    &quot; FROM student s &quot; +\n                    &quot;         INNER JOIN student_faculty sf ON sf.student_id=s.user_id\\n&quot; +\n                    &quot;         INNER JOIN faculty f ON sf.faculty_id=f.fid\\n&quot; +\n                    &quot;         INNER JOIN faculty_subject fs ON f.fid = fs.faculty_id\\n&quot; +\n                    &quot;         INNER JOIN subject subj ON fs.subject_id = subj.id\\n&quot; +\n                    &quot;         INNER JOIN professor_subject ps ON ps.subject_id = subj.id\\n&quot; +\n                    &quot;         INNER JOIN professor p ON ps.prof_id = p.professor_id\\n&quot; +\n                    &quot;         INNER JOIN student_subject_marks sm ON sm.student_id = s.user_id\\n&quot; +\n                    &quot;         INNER JOIN student_subject_marks ds ON ds.subject_id = subj.id\\n&quot; +\n                    &quot;         INNER JOIN grade g ON sm.grade_id = g.grade_id\\n&quot; +\n                    &quot;WHERE user_id = ?&quot;;\n\n            PreparedStatement ps = connection.prepareStatement(select);\n            ps.setInt(1, id);\n            ResultSet rs = ps.executeQuery();\n\n\n            while (rs.next()) {\n\n                if(student.getId()==null) {\n\n                    student.setId(rs.getString(&quot;user_id&quot;));\n                    student.setUsername(rs.getString(&quot;username&quot;));\n                    student.setPassword(rs.getString(&quot;password&quot;));\n                    student.setFullName(rs.getString(&quot;fullname&quot;));\n                    student.setEmail(rs.getString(&quot;email&quot;));\n                }\n\n                String subjectID=rs.getString(&quot;id&quot;);\n\n                Subject subject =null;\n                Professor professor=null;\n                StudentMark mark = null;\n\n                if(!subjectMap.containsKey(subjectID)) {\n                   subject=new Subject();\n                    subject.setId(rs.getInt(&quot;id&quot;));\n                    subject.setName(rs.getString(&quot;name&quot;));\n                    subject.setProfessorList(new ArrayList&lt;&gt;());\n                    subject.setMarkList(new ArrayList&lt;&gt;());\n                    subjectMap.put(subjectID, subject);\n\n                    professor = new Professor();\n                    professor.setProfessor_id(rs.getInt(&quot;professor_id&quot;));\n                    professor.setFirst_name(rs.getString(&quot;first_name&quot;));\n                    professor.setLast_name(rs.getString(&quot;last_name&quot;));\n                    professor.setTitle(rs.getString(&quot;title&quot;));\n\n                    mark = new StudentMark();\n                    mark.setGrade_id(rs.getInt(&quot;grade_id&quot;));\n                    mark.setMark(rs.getInt(&quot;mark&quot;));\n                    mark.setDescription(rs.getString(&quot;description&quot;));\n\n                    subject.getProfessorList().add(professor);\n                    subject.getMarkList().add(mark);\n\n                }\n                else{\n                    subject = subjectMap.get(subjectID);\n                }\n//\n\n\n            }\n        } catch (Exception e) {\n            System.out.println(e + &quot;Retrieve not successful&quot;);\n\n        }\n        student.getSubjectList().addAll(subjectMap.values());\n\n\n        return student;\n\n\n\n    }\n</code></pre>\n<p>Here is the <strong>ER DIAGRAM:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/lbGZS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lbGZS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","iostream","java-io","spring-batch"],"comments":[{"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"score":0,"creation_date":1573389366,"post_id":7338223,"comment_id":103859372,"body_markdown":"Here you can find the implementation for the same. \n https://github.com/akkida746/SpringBatch.git","body":"Here you can find the implementation for the same.   <a href=\"https://github.com/akkida746/SpringBatch.git\" rel=\"nofollow noreferrer\">github.com/akkida746/SpringBatch.git</a>"}],"answers":[{"tags":[],"owner":{"account_id":320345,"reputation":439,"user_id":638569,"display_name":"Jay Lindquist"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1315445250,"creation_date":1315445250,"answer_id":7342199,"question_id":7338223,"body_markdown":"I don&#39;t think there is anything out of the box that does what you are looking for. It is simple enough to create your own `ItemWriter` that does a simple `System.out.println()`. You can then use the [`CompositeItemWriter`][1] to tie the two together if you still want the file.\r\n\r\nAlternately, you can throw on a custom [`ItemWriterListener`][2] and do the printing there.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/item/support/CompositeItemWriter.html\r\n  [2]: http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/core/ItemWriteListener.html","title":"How can I write to stdout using FlatFileItemWriter in spring batch?","body":"<p>I don't think there is anything out of the box that does what you are looking for. It is simple enough to create your own <code>ItemWriter</code> that does a simple <code>System.out.println()</code>. You can then use the <a href=\"http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/item/support/CompositeItemWriter.html\" rel=\"nofollow\"><code>CompositeItemWriter</code></a> to tie the two together if you still want the file.</p>\n\n<p>Alternately, you can throw on a custom <a href=\"http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/core/ItemWriteListener.html\" rel=\"nofollow\"><code>ItemWriterListener</code></a> and do the printing there.</p>\n"},{"tags":[],"owner":{"account_id":3208053,"reputation":4435,"user_id":2708667,"accept_rate":43,"display_name":"santon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407188304,"creation_date":1407188304,"answer_id":25128001,"question_id":7338223,"body_markdown":"There&#39;s another hack you can use to write to stdout. Essentially, you can specify `/dev/stdout` as the output file resource. Be sure to set `shouldDeleteIfExists` to `false` and `appendAllowed` to `true` within the writer or you&#39;ll get runtime errors.","title":"How can I write to stdout using FlatFileItemWriter in spring batch?","body":"<p>There's another hack you can use to write to stdout. Essentially, you can specify <code>/dev/stdout</code> as the output file resource. Be sure to set <code>shouldDeleteIfExists</code> to <code>false</code> and <code>appendAllowed</code> to <code>true</code> within the writer or you'll get runtime errors.</p>\n"}],"owner":{"account_id":91239,"reputation":6733,"user_id":250648,"accept_rate":87,"display_name":"Philippe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8776,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7342199,"answer_count":2,"score":5,"last_activity_date":1649965320,"creation_date":1315417588,"question_id":7338223,"body_markdown":"I have the following writer configured in my beans definition file of a spring batch project :\r\n\r\n    &lt;bean id=&quot;writer&quot; class=&quot;org.springframework.batch.item.file.FlatFileItemWriter&quot;&gt;\r\n\t\t&lt;property name=&quot;resource&quot; value=&quot;file:/path/to/somefile&quot;/&gt;\r\n\t\t&lt;property name=&quot;lineAggregator&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;MyCustomLineAggregator&quot;/&gt;\r\n\t\t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nNow, instead of writing to /path/to/somefile, I want the output to go to the stdout, reason being that I want to launch this job through the command-line launcher and pipe the output to another unix program.\r\n\r\nI tried by setting the resource property to &quot;file:/dev/stdout&quot;, but then I get the exception :\r\norg.springframework.batch.item.ItemStreamException: Unable to create file: [/dev/stdout]\r\n\r\nI tried to see if there was an out of the box resource that could handle this, but I&#39;m a bit clueless on which one could do the job...\r\n\r\nThanks for your help.\r\n\r\nEDIT : Below is the solution I came up with, following your advise :\r\n\r\n    import java.util.List;\r\n    import org.springframework.batch.item.ItemWriter;\r\n    import org.springframework.batch.item.file.transform.LineAggregator;\r\n\r\n    public class StdoutWriter&lt;T&gt; implements ItemWriter&lt;T&gt; {\r\n\t\r\n\tLineAggregator&lt;T&gt; lineAggregator;\r\n\t\r\n\tpublic void setLineAggregator(LineAggregator&lt;T&gt; lineAggregator) {\r\n\t\tthis.lineAggregator = lineAggregator;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void write(List&lt;? extends T&gt; items) throws Exception {\r\n\t\tfor (T item : items) {\r\n\t\t\tSystem.out.println(lineAggregator.aggregate(item));\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n","title":"How can I write to stdout using FlatFileItemWriter in spring batch?","body":"<p>I have the following writer configured in my beans definition file of a spring batch project :</p>\n\n<pre><code>&lt;bean id=\"writer\" class=\"org.springframework.batch.item.file.FlatFileItemWriter\"&gt;\n    &lt;property name=\"resource\" value=\"file:/path/to/somefile\"/&gt;\n    &lt;property name=\"lineAggregator\"&gt;\n        &lt;bean class=\"MyCustomLineAggregator\"/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Now, instead of writing to /path/to/somefile, I want the output to go to the stdout, reason being that I want to launch this job through the command-line launcher and pipe the output to another unix program.</p>\n\n<p>I tried by setting the resource property to \"file:/dev/stdout\", but then I get the exception :\norg.springframework.batch.item.ItemStreamException: Unable to create file: [/dev/stdout]</p>\n\n<p>I tried to see if there was an out of the box resource that could handle this, but I'm a bit clueless on which one could do the job...</p>\n\n<p>Thanks for your help.</p>\n\n<p>EDIT : Below is the solution I came up with, following your advise :</p>\n\n<pre><code>import java.util.List;\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.batch.item.file.transform.LineAggregator;\n\npublic class StdoutWriter&lt;T&gt; implements ItemWriter&lt;T&gt; {\n\nLineAggregator&lt;T&gt; lineAggregator;\n\npublic void setLineAggregator(LineAggregator&lt;T&gt; lineAggregator) {\n    this.lineAggregator = lineAggregator;\n}\n\n@Override\npublic void write(List&lt;? extends T&gt; items) throws Exception {\n    for (T item : items) {\n        System.out.println(lineAggregator.aggregate(item));\n    }\n}\n\n}\n</code></pre>\n"},{"tags":["java","oop","treenode"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649964627,"creation_date":1649964627,"answer_id":71876756,"question_id":71876638,"body_markdown":"Yes, you do.  There is no possible way for `TreeMap` to know that a value&#39;s position in the map should have changed.\r\n\r\n`TreeMap` doesn&#39;t say this in so many words, but `Map` specifies that\r\n\r\n&gt; The behavior of a map is not specified if the value of an object is changed in a manner that affects `equals` comparisons while the object is a key in the map. \r\n\r\nand `TreeMap` documents that it uses the specified comparator instead of `equals`.","title":"Does a TreeMap change ordering dynamically?","body":"<p>Yes, you do.  There is no possible way for <code>TreeMap</code> to know that a value's position in the map should have changed.</p>\n<p><code>TreeMap</code> doesn't say this in so many words, but <code>Map</code> specifies that</p>\n<blockquote>\n<p>The behavior of a map is not specified if the value of an object is changed in a manner that affects <code>equals</code> comparisons while the object is a key in the map.</p>\n</blockquote>\n<p>and <code>TreeMap</code> documents that it uses the specified comparator instead of <code>equals</code>.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649965135,"creation_date":1649964790,"answer_id":71876791,"question_id":71876638,"body_markdown":"Elements within a [TreeMap][1] are stored according to their natural ordering or to the Comparator provided at construction time. This rule is only applied when an element is added to the data structure.\r\n\r\nThe TreeMap does not perform any &lt;i&gt;observation&lt;/i&gt; of its keys to rearrange itself. If one of your keys&#39; internal state changes, you would have to update your TreeMap manually in order to respect its proper structure. \r\n\r\nHere&#39;s an example:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        TreeMap&lt;StringBuilder, Integer&gt; treeMap = new TreeMap&lt;&gt;();\r\n\r\n        StringBuilder str1 = new StringBuilder(&quot;a&quot;);\r\n        treeMap.put(str1, 32);\r\n\r\n        StringBuilder str2 = new StringBuilder(&quot;b&quot;);\r\n        treeMap.put(str2, 15);\r\n\r\n        StringBuilder str3 = new StringBuilder(&quot;c&quot;);\r\n        treeMap.put(str3, 78);\r\n\r\n        System.out.println(&quot;Original&quot;);\r\n        for (Map.Entry entry : treeMap.entrySet()) {\r\n            System.out.printf(&quot;%s =&gt; %d%n&quot;, entry.getKey(), entry.getValue());\r\n        }\r\n\r\n        System.out.println(&quot;\\nUpdated&quot;);\r\n        str2.replace(0, str2.length(), &quot;z&quot;);\r\n        for (Map.Entry entry : treeMap.entrySet()) {\r\n            System.out.printf(&quot;%s =&gt; %d%n&quot;, entry.getKey(), entry.getValue());\r\n        }\r\n\r\n        treeMap.remove(str2);\r\n        treeMap.put(str2, 15);\r\n        System.out.println(&quot;\\nRearranged&quot;);\r\n        for (Map.Entry entry : treeMap.entrySet()) {\r\n            System.out.printf(&quot;%s =&gt; %d%n&quot;, entry.getKey(), entry.getValue());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html","title":"Does a TreeMap change ordering dynamically?","body":"<p>Elements within a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a> are stored according to their natural ordering or to the Comparator provided at construction time. This rule is only applied when an element is added to the data structure.</p>\n<p>The TreeMap does not perform any <i>observation</i> of its keys to rearrange itself. If one of your keys' internal state changes, you would have to update your TreeMap manually in order to respect its proper structure.</p>\n<p>Here's an example:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        TreeMap&lt;StringBuilder, Integer&gt; treeMap = new TreeMap&lt;&gt;();\n\n        StringBuilder str1 = new StringBuilder(&quot;a&quot;);\n        treeMap.put(str1, 32);\n\n        StringBuilder str2 = new StringBuilder(&quot;b&quot;);\n        treeMap.put(str2, 15);\n\n        StringBuilder str3 = new StringBuilder(&quot;c&quot;);\n        treeMap.put(str3, 78);\n\n        System.out.println(&quot;Original&quot;);\n        for (Map.Entry entry : treeMap.entrySet()) {\n            System.out.printf(&quot;%s =&gt; %d%n&quot;, entry.getKey(), entry.getValue());\n        }\n\n        System.out.println(&quot;\\nUpdated&quot;);\n        str2.replace(0, str2.length(), &quot;z&quot;);\n        for (Map.Entry entry : treeMap.entrySet()) {\n            System.out.printf(&quot;%s =&gt; %d%n&quot;, entry.getKey(), entry.getValue());\n        }\n\n        treeMap.remove(str2);\n        treeMap.put(str2, 15);\n        System.out.println(&quot;\\nRearranged&quot;);\n        for (Map.Entry entry : treeMap.entrySet()) {\n            System.out.printf(&quot;%s =&gt; %d%n&quot;, entry.getKey(), entry.getValue());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1589320,"reputation":83,"user_id":1473020,"accept_rate":20,"display_name":"Nimroo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71876756,"answer_count":2,"score":1,"last_activity_date":1649965135,"creation_date":1649963905,"question_id":71876638,"body_markdown":"Let&#39;s say I put in an entry in to my map which holds an object as a key: \r\n```\r\ntreeNode.put(someObject,someValue); \r\n```\r\nthen some time later I get that entry, and change the object so that now if resorted it lands somewhere else in the map. \r\n```\r\ntreeNode.get(someObject); \r\nsomeObject.change();\r\n```\r\nDo I have to remove the old entry in the map, and put again for the map to remain consistent with the new key?","title":"Does a TreeMap change ordering dynamically?","body":"<p>Let's say I put in an entry in to my map which holds an object as a key:</p>\n<pre><code>treeNode.put(someObject,someValue); \n</code></pre>\n<p>then some time later I get that entry, and change the object so that now if resorted it lands somewhere else in the map.</p>\n<pre><code>treeNode.get(someObject); \nsomeObject.change();\n</code></pre>\n<p>Do I have to remove the old entry in the map, and put again for the map to remain consistent with the new key?</p>\n"},{"tags":["java","spring","multithreading","spring-boot","concurrency"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1649771918,"post_id":71843943,"comment_id":126956996,"body_markdown":"Have you read the stacktrace? It probably tells you that the `maxPoolSize` needs to be larger then the `corePoolSize`.","body":"Have you read the stacktrace? It probably tells you that the <code>maxPoolSize</code> needs to be larger then the <code>corePoolSize</code>."},{"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"score":0,"creation_date":1649772224,"post_id":71843943,"comment_id":126957152,"body_markdown":"Thanks, but No such words in the stack trace","body":"Thanks, but No such words in the stack trace"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1649772600,"post_id":71843943,"comment_id":126957313,"body_markdown":"Add the stacktrace. The full one not just a snippet.","body":"Add the stacktrace. The full one not just a snippet."},{"owner":{"account_id":6155088,"reputation":226,"user_id":4798347,"display_name":"Zephyr"},"score":1,"creation_date":1649772744,"post_id":71843943,"comment_id":126957384,"body_markdown":"Although the error message probably doesn&#39;t contain that information (`ThreadPoolExecutor#setMaximumPoolSize` throws an empty IllegalArgumentException in that case), it should provide the info that the Exception originates from the call to `ThreadPoolExecutor#setMaximumPoolSize`, not `Runtime.getRuntime().availableProcessors()`.","body":"Although the error message probably doesn&#39;t contain that information (<code>ThreadPoolExecutor#setMaximumPoolSize</code> throws an empty IllegalArgumentException in that case), it should provide the info that the Exception originates from the call to <code>ThreadPoolExecutor#setMaximumPoolSize</code>, not <code>Runtime.getRuntime().availableProcessors()</code>."},{"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"score":0,"creation_date":1649774328,"post_id":71843943,"comment_id":126958118,"body_markdown":"Thanks, but no string containing &quot;Max&quot; in the stacktrack. Moreover, if I remove @Configure annotation, the error is also gone","body":"Thanks, but no string containing &quot;Max&quot; in the stacktrack. Moreover, if I remove @Configure annotation, the error is also gone"},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1649775394,"post_id":71843943,"comment_id":126958626,"body_markdown":"Would suggest you to share complete stacktrace in question.","body":"Would suggest you to share complete stacktrace in question."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649948897,"post_id":71843943,"comment_id":127008258,"body_markdown":"Wait, what? This error occurs when you “submit the code to the gitlab”?","body":"Wait, what? This error occurs when you “submit the code to the gitlab”?"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649965056,"creation_date":1649771514,"question_id":71843943,"body_markdown":"I have a ThreadPoolTaskExecutor defined as:\r\n\r\n    @Configuration\r\n    public class MyTaskExecutor \r\n        {    /**     * creates PrepTaskSchedulerConfig bean at startup     * @return ThreadPoolTaskScheduler bean     */    \r\n            @Bean \r\n            public ThreadPoolTaskExecutor myExecutor(){        \r\n                ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();        \r\n                threadPoolTaskExecutor.setThreadNamePrefix(&quot;MyExecutor&quot;);        \r\n          \r\n                threadPoolTaskExecutor.setCorePoolSize(5);        \r\n                threadPoolTaskExecutor.setMaxPoolSize(Runtime.getRuntime().availableProcessors());        \r\n                return threadPoolTaskExecutor;    \r\n            }\r\n        }\r\n\r\nAnd this bean will be get from the application context as:\r\n\r\n    ThreadPoolTaskExecutor threadPoolTaskExecutor = m_applicationContext.getBean(ThreadPoolTaskExecutor.class);\r\n\r\nWhen build it on my local machine, everything is fine. But after submitted the code to the gitlab, and run the build there, it has build error:\r\n\r\n&gt; Error creating bean with name Invocation of init method failed\r\n&gt; exception is java.lang.IllegalArgumentException\r\n\r\nBut if I remove `Runtime.getRuntime().availableProcessors()` and change that line to:\r\n\r\n    threadPoolTaskExecutor.setMaxPoolSize(10);\r\n\r\nAlso, if I remove the `@Configuration`annotation (remain setMaxPoolSize unchanged), the error is also gone.\r\n\r\nEverything passes. Want to know why \r\nRuntime.getRuntime().availableProcessors() causing &quot;Error creating bean with name &quot; ?\r\n\r\n","title":"Runtime.getRuntime().availableProcessors() causing &quot;Error creating bean with name &quot;","body":"<p>I have a ThreadPoolTaskExecutor defined as:</p>\n<pre><code>@Configuration\npublic class MyTaskExecutor \n    {    /**     * creates PrepTaskSchedulerConfig bean at startup     * @return ThreadPoolTaskScheduler bean     */    \n        @Bean \n        public ThreadPoolTaskExecutor myExecutor(){        \n            ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();        \n            threadPoolTaskExecutor.setThreadNamePrefix(&quot;MyExecutor&quot;);        \n      \n            threadPoolTaskExecutor.setCorePoolSize(5);        \n            threadPoolTaskExecutor.setMaxPoolSize(Runtime.getRuntime().availableProcessors());        \n            return threadPoolTaskExecutor;    \n        }\n    }\n</code></pre>\n<p>And this bean will be get from the application context as:</p>\n<pre><code>ThreadPoolTaskExecutor threadPoolTaskExecutor = m_applicationContext.getBean(ThreadPoolTaskExecutor.class);\n</code></pre>\n<p>When build it on my local machine, everything is fine. But after submitted the code to the gitlab, and run the build there, it has build error:</p>\n<blockquote>\n<p>Error creating bean with name Invocation of init method failed\nexception is java.lang.IllegalArgumentException</p>\n</blockquote>\n<p>But if I remove <code>Runtime.getRuntime().availableProcessors()</code> and change that line to:</p>\n<pre><code>threadPoolTaskExecutor.setMaxPoolSize(10);\n</code></pre>\n<p>Also, if I remove the <code>@Configuration</code>annotation (remain setMaxPoolSize unchanged), the error is also gone.</p>\n<p>Everything passes. Want to know why\nRuntime.getRuntime().availableProcessors() causing &quot;Error creating bean with name &quot; ?</p>\n"},{"tags":["java","out-of-memory","heap-memory","ignite","gridgain"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1642592551,"post_id":70769424,"comment_id":125110223,"body_markdown":"Create and check a memory dump, see for example https://plumbr.io/blog/memory-leaks/solving-outofmemoryerror-dump-is-not-a-waste. It could be that your guess of what the heap contains is wrong. A heap dump can help. When you are sure about the cause it is easier to find a solution.","body":"Create and check a memory dump, see for example <a href=\"https://plumbr.io/blog/memory-leaks/solving-outofmemoryerror-dump-is-not-a-waste\" rel=\"nofollow noreferrer\">plumbr.io/blog/memory-leaks/&hellip;</a>. It could be that your guess of what the heap contains is wrong. A heap dump can help. When you are sure about the cause it is easier to find a solution."}],"answers":[{"tags":[],"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649964015,"creation_date":1649964015,"answer_id":71876652,"question_id":70769424,"body_markdown":"The cause of the OOM most likely is because of Ignite&#39;s internal metrics &amp; meta data which is per client that causes OOM when multiple clients frequently fetch data from caches (especially non-trivial sized data, since the metrics internally hold references to the data) and there is connectivity problems with these clients either because of slow clients (due to things like JVM pauses, etc) or because the server config/threads aren&#39;t enough to handle the clients.\r\n\r\nTherefore, the `onHeapEnabled = &#39;True&#39;` option is not going to address the OOM, if anything it will only make it worse.\r\n\r\nInstead, I would suggest that you enable [Near Cache][1] for this specific cache that you mention along with configuring things like `nearStartSize` &amp; `nearEvictionPolicy` on the client nodes. That will solve your issue.\r\n\r\nNote that, near caches are fully transactional &amp; also get updated or invalidated automatically whenever the data changes on the server nodes, as clearly mentioned in the docs.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://ignite.apache.org/docs/latest/configuring-caches/near-cache","title":"Java OOMs on ignite server nodes although onheap enabled","body":"<p>The cause of the OOM most likely is because of Ignite's internal metrics &amp; meta data which is per client that causes OOM when multiple clients frequently fetch data from caches (especially non-trivial sized data, since the metrics internally hold references to the data) and there is connectivity problems with these clients either because of slow clients (due to things like JVM pauses, etc) or because the server config/threads aren't enough to handle the clients.</p>\n<p>Therefore, the <code>onHeapEnabled = 'True'</code> option is not going to address the OOM, if anything it will only make it worse.</p>\n<p>Instead, I would suggest that you enable <a href=\"https://ignite.apache.org/docs/latest/configuring-caches/near-cache\" rel=\"nofollow noreferrer\">Near Cache</a> for this specific cache that you mention along with configuring things like <code>nearStartSize</code> &amp; <code>nearEvictionPolicy</code> on the client nodes. That will solve your issue.</p>\n<p>Note that, near caches are fully transactional &amp; also get updated or invalidated automatically whenever the data changes on the server nodes, as clearly mentioned in the docs.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":9906576,"reputation":21,"user_id":17973380,"display_name":"User0000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649964015,"creation_date":1642590083,"question_id":70769424,"body_markdown":"In our project we are currently (still) using Apache Ignite 2.81. We are currently facing OOMs on server nodes when multiple clients are simultaneously fetching the content of a specific cache. So far, we thought the reason is that the data is stored only off-heap and therefore with each client-request a copy of the data is moved into the heap (-&gt; Heap &gt;= number_of_clients * size_of_cache). We expected to mitigate this by putting onHeapEnabled = &#39;True&#39; for the given cache as according to our understanding only one copy of the data should then exist in the heap and it should therefore not explode anymore.\r\n\r\n 1. Are our assumptions in general correct? \r\n 2. Aren&#39;t the server nodes using some kind of byte-stream internally when responding the \r\n    data to clients? In this case it would be even more surprising that with on-heap \r\n    activated the heap still explodes.\r\n\r\nWe are aware that scaling the server nodes/providing more heap would be a solution here but we would be interested in finding a resource-saving one.\r\n\r\n","title":"Java OOMs on ignite server nodes although onheap enabled","body":"<p>In our project we are currently (still) using Apache Ignite 2.81. We are currently facing OOMs on server nodes when multiple clients are simultaneously fetching the content of a specific cache. So far, we thought the reason is that the data is stored only off-heap and therefore with each client-request a copy of the data is moved into the heap (-&gt; Heap &gt;= number_of_clients * size_of_cache). We expected to mitigate this by putting onHeapEnabled = 'True' for the given cache as according to our understanding only one copy of the data should then exist in the heap and it should therefore not explode anymore.</p>\n<ol>\n<li>Are our assumptions in general correct?</li>\n<li>Aren't the server nodes using some kind of byte-stream internally when responding the\ndata to clients? In this case it would be even more surprising that with on-heap\nactivated the heap still explodes.</li>\n</ol>\n<p>We are aware that scaling the server nodes/providing more heap would be a solution here but we would be interested in finding a resource-saving one.</p>\n"},{"tags":["java","kotlin","upload","sftp","apache-commons-vfs"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1650198806,"post_id":71822831,"comment_id":127055855,"body_markdown":"Nobody can help you if you are &quot;following an example&quot; but not showing your actual code. Please provide an [MCVE](https://stackoverflow.com/help/mcve) reproducing the problem, ideally also with a real or fake server to connect to.","body":"Nobody can help you if you are &quot;following an example&quot; but not showing your actual code. Please provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> reproducing the problem, ideally also with a real or fake server to connect to."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1650208068,"post_id":71822831,"comment_id":127057756,"body_markdown":"_&quot;Is it due to Kotlin?&quot;_ Do you have a reason to ask that? Does it work in Java with the equivalent libraries and original example code?","body":"<i>&quot;Is it due to Kotlin?&quot;</i> Do you have a reason to ask that? Does it work in Java with the equivalent libraries and original example code?"}],"owner":{"account_id":915838,"reputation":3865,"user_id":948654,"accept_rate":39,"display_name":"Bosco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1649963944,"creation_date":1649652800,"question_id":71822831,"body_markdown":"I have code to use SFTP for uploading file to a remote server. I am using Kotlin/Java and Apache commons library. \r\n\r\n\r\n    val manager = StandardFileSystemManager()\r\n    manager.init()\r\n    ...\r\n    val tempFile: File = File (&quot;/test.txt&quot;)\r\n    \r\n\r\nI am following the example [here][1] . However I get following error at `manager.init()` call\r\n\r\n    java.lang.NullPointerException: Cannot invoke \r\n    &quot;java.nio.file.attribute.BasicFileAttributes.lastModifiedTime()&quot; because \r\n    &quot;this.attrs&quot; is null\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21399561/sftp-upload-download-exist-and-move-using-apache-commons-vfs/21399562\r\n\r\nStacktrace\r\n\r\n    0 = {StackTraceElement@4220} &quot;java.base/java.util.zip.ZipFile$Source$Key.hashCode(ZipFile.java:1235)&quot;\r\n    1 = {StackTraceElement@4221} &quot;java.base/java.util.HashMap.hash(HashMap.java:338)&quot;\r\n    2 = {StackTraceElement@4222} &quot;java.base/java.util.HashMap.getNode(HashMap.java:568)&quot;\r\n    3 = {StackTraceElement@4223} &quot;java.base/java.util.HashMap.get(HashMap.java:556)&quot;\r\n    4 = {StackTraceElement@4224} &quot;java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)&quot;\r\n    5 = {StackTraceElement@4225} &quot;java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:709)&quot;\r\n    6 = {StackTraceElement@4226} &quot;java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:243)&quot;\r\n    7 = {StackTraceElement@4227} &quot;java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:172)&quot;\r\n    8 = {StackTraceElement@4228} &quot;java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:347)&quot;\r\n    9 = {StackTraceElement@4229} &quot;java.base/sun.net.www.protocol.jar.URLJarFile.&lt;init&gt;(URLJarFile.java:103)&quot;\r\n    10 = {StackTraceElement@4230} &quot;java.base/sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:72)&quot;\r\n    11 = {StackTraceElement@4231} &quot;java.base/sun.net.www.protocol.jar.JarFileFactory.getOrCreate(JarFileFactory.java:106)&quot;\r\n    12 = {StackTraceElement@4232} &quot;java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:132)&quot;\r\n    13 = {StackTraceElement@4233} &quot;java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:175)&quot;\r\n    14 = {StackTraceElement@4234} &quot;org.apache.commons.vfs2.util.CombinedResources.loadResources(CombinedResources.java:85)&quot;\r\n    15 = {StackTraceElement@4235} &quot;org.apache.commons.vfs2.util.CombinedResources.init(CombinedResources.java:48)&quot;\r\n    16 = {StackTraceElement@4236} &quot;org.apache.commons.vfs2.util.CombinedResources.handleGetObject(CombinedResources.java:123)&quot;\r\n    17 = {StackTraceElement@4237} &quot;java.base/java.util.ResourceBundle.getObject(ResourceBundle.java:555)&quot;\r\n    18 = {StackTraceElement@4238} &quot;java.base/java.util.ResourceBundle.getString(ResourceBundle.java:521)&quot;\r\n    19 = {StackTraceElement@4239} &quot;org.apache.commons.vfs2.util.Messages.findMessage(Messages.java:93)&quot;\r\n    20 = {StackTraceElement@4240} &quot;org.apache.commons.vfs2.util.Messages.getString(Messages.java:76)&quot;\r\n    21 = {StackTraceElement@4241} &quot;org.apache.commons.vfs2.util.Messages.getString(Messages.java:60)&quot;\r\n    22 = {StackTraceElement@4242} &quot;org.apache.commons.vfs2.impl.DefaultFileReplicator.init(DefaultFileReplicator.java:180)&quot;\r\n    23 = {StackTraceElement@4243} &quot;org.apache.commons.vfs2.impl.PrivilegedFileReplicator$InitAction.run(PrivilegedFileReplicator.java:127)&quot;\r\n    24 = {StackTraceElement@4244} &quot;java.base/java.security.AccessController.doPrivileged(AccessController.java:569)&quot;\r\n    25 = {StackTraceElement@4245} &quot;org.apache.commons.vfs2.impl.PrivilegedFileReplicator.init(PrivilegedFileReplicator.java:83)&quot;\r\n    26 = {StackTraceElement@4246} &quot;org.apache.commons.vfs2.impl.DefaultFileSystemManager.setupComponent(DefaultFileSystemManager.java:434)&quot;\r\n    27 = {StackTraceElement@4247} &quot;org.apache.commons.vfs2.impl.DefaultFileSystemManager.setReplicator(DefaultFileSystemManager.java:393)&quot;\r\n    28 = {StackTraceElement@4248} &quot;org.apache.commons.vfs2.impl.StandardFileSystemManager.init(StandardFileSystemManager.java:94)&quot;\r\n\r\n\r\nWhat could be the issue here? Is it due to Kotlin? What am I missing? \r\n\r\n\r\nThanks","title":"Null pointer exception in SFTP upload using Apache Commons VFS","body":"<p>I have code to use SFTP for uploading file to a remote server. I am using Kotlin/Java and Apache commons library.</p>\n<pre><code>val manager = StandardFileSystemManager()\nmanager.init()\n...\nval tempFile: File = File (&quot;/test.txt&quot;)\n</code></pre>\n<p>I am following the example <a href=\"https://stackoverflow.com/questions/21399561/sftp-upload-download-exist-and-move-using-apache-commons-vfs/21399562\">here</a> . However I get following error at <code>manager.init()</code> call</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke \n&quot;java.nio.file.attribute.BasicFileAttributes.lastModifiedTime()&quot; because \n&quot;this.attrs&quot; is null\n</code></pre>\n<p>Stacktrace</p>\n<pre><code>0 = {StackTraceElement@4220} &quot;java.base/java.util.zip.ZipFile$Source$Key.hashCode(ZipFile.java:1235)&quot;\n1 = {StackTraceElement@4221} &quot;java.base/java.util.HashMap.hash(HashMap.java:338)&quot;\n2 = {StackTraceElement@4222} &quot;java.base/java.util.HashMap.getNode(HashMap.java:568)&quot;\n3 = {StackTraceElement@4223} &quot;java.base/java.util.HashMap.get(HashMap.java:556)&quot;\n4 = {StackTraceElement@4224} &quot;java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)&quot;\n5 = {StackTraceElement@4225} &quot;java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:709)&quot;\n6 = {StackTraceElement@4226} &quot;java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:243)&quot;\n7 = {StackTraceElement@4227} &quot;java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:172)&quot;\n8 = {StackTraceElement@4228} &quot;java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:347)&quot;\n9 = {StackTraceElement@4229} &quot;java.base/sun.net.www.protocol.jar.URLJarFile.&lt;init&gt;(URLJarFile.java:103)&quot;\n10 = {StackTraceElement@4230} &quot;java.base/sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:72)&quot;\n11 = {StackTraceElement@4231} &quot;java.base/sun.net.www.protocol.jar.JarFileFactory.getOrCreate(JarFileFactory.java:106)&quot;\n12 = {StackTraceElement@4232} &quot;java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:132)&quot;\n13 = {StackTraceElement@4233} &quot;java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:175)&quot;\n14 = {StackTraceElement@4234} &quot;org.apache.commons.vfs2.util.CombinedResources.loadResources(CombinedResources.java:85)&quot;\n15 = {StackTraceElement@4235} &quot;org.apache.commons.vfs2.util.CombinedResources.init(CombinedResources.java:48)&quot;\n16 = {StackTraceElement@4236} &quot;org.apache.commons.vfs2.util.CombinedResources.handleGetObject(CombinedResources.java:123)&quot;\n17 = {StackTraceElement@4237} &quot;java.base/java.util.ResourceBundle.getObject(ResourceBundle.java:555)&quot;\n18 = {StackTraceElement@4238} &quot;java.base/java.util.ResourceBundle.getString(ResourceBundle.java:521)&quot;\n19 = {StackTraceElement@4239} &quot;org.apache.commons.vfs2.util.Messages.findMessage(Messages.java:93)&quot;\n20 = {StackTraceElement@4240} &quot;org.apache.commons.vfs2.util.Messages.getString(Messages.java:76)&quot;\n21 = {StackTraceElement@4241} &quot;org.apache.commons.vfs2.util.Messages.getString(Messages.java:60)&quot;\n22 = {StackTraceElement@4242} &quot;org.apache.commons.vfs2.impl.DefaultFileReplicator.init(DefaultFileReplicator.java:180)&quot;\n23 = {StackTraceElement@4243} &quot;org.apache.commons.vfs2.impl.PrivilegedFileReplicator$InitAction.run(PrivilegedFileReplicator.java:127)&quot;\n24 = {StackTraceElement@4244} &quot;java.base/java.security.AccessController.doPrivileged(AccessController.java:569)&quot;\n25 = {StackTraceElement@4245} &quot;org.apache.commons.vfs2.impl.PrivilegedFileReplicator.init(PrivilegedFileReplicator.java:83)&quot;\n26 = {StackTraceElement@4246} &quot;org.apache.commons.vfs2.impl.DefaultFileSystemManager.setupComponent(DefaultFileSystemManager.java:434)&quot;\n27 = {StackTraceElement@4247} &quot;org.apache.commons.vfs2.impl.DefaultFileSystemManager.setReplicator(DefaultFileSystemManager.java:393)&quot;\n28 = {StackTraceElement@4248} &quot;org.apache.commons.vfs2.impl.StandardFileSystemManager.init(StandardFileSystemManager.java:94)&quot;\n</code></pre>\n<p>What could be the issue here? Is it due to Kotlin? What am I missing?</p>\n<p>Thanks</p>\n"},{"tags":["java","string","format","output"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649963548,"creation_date":1649961944,"answer_id":71876312,"question_id":71876271,"body_markdown":"A more flexible approach will be to provide `width`, `start` and `end` the sequence dynamically, so that none of the values will be hard coded.\r\n\r\nA template for the output with the given width will be created by using string concatination.\r\n\r\n    public static void printZeroPaddedSequence(int start, int end, int width) {\r\n        String template = &quot;%0&quot; + width + &quot;d &quot;;\r\n        for (int i = start; i &lt;= end; i++) {\r\n            System.out.printf(&quot;template&quot;, i);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        printZeroPaddedSequence(1, 10, 4);\r\n    }\r\n\r\n\r\n**Output**\r\n```\r\n0001 0002 0003 0004 0005 0006 0007 0008 0009 0010\r\n```","title":"How to Count Integers With Padded Zeros","body":"<p>A more flexible approach will be to provide <code>width</code>, <code>start</code> and <code>end</code> the sequence dynamically, so that none of the values will be hard coded.</p>\n<p>A template for the output with the given width will be created by using string concatination.</p>\n<pre><code>public static void printZeroPaddedSequence(int start, int end, int width) {\n    String template = &quot;%0&quot; + width + &quot;d &quot;;\n    for (int i = start; i &lt;= end; i++) {\n        System.out.printf(&quot;template&quot;, i);\n    }\n}\n\npublic static void main(String[] args) {\n    printZeroPaddedSequence(1, 10, 4);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>0001 0002 0003 0004 0005 0006 0007 0008 0009 0010\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2392155,"reputation":2372,"user_id":2091803,"accept_rate":86,"display_name":"Abdullah Leghari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649962362,"creation_date":1649962362,"answer_id":71876390,"question_id":71876271,"body_markdown":"You can create a format String with a variable length of format specifier. Adjust the width variable to whatever leading 0s you need.\r\n\r\n    int width = 2;\r\n    String format = &quot;%0&quot;+width+&quot;d&quot;;\r\n    \r\n    for(int i = 1; i &lt;= 10; i++)  {\r\n        String output = String.format(format, i);\r\n        System.out.println(output);\r\n    }\r\n\r\n\r\n    /* Output:\r\n    01\r\n    02\r\n    03\r\n    04\r\n    05\r\n    06\r\n    07\r\n    08\r\n    09\r\n    10\r\n    */","title":"How to Count Integers With Padded Zeros","body":"<p>You can create a format String with a variable length of format specifier. Adjust the width variable to whatever leading 0s you need.</p>\n<pre><code>int width = 2;\nString format = &quot;%0&quot;+width+&quot;d&quot;;\n\nfor(int i = 1; i &lt;= 10; i++)  {\n    String output = String.format(format, i);\n    System.out.println(output);\n}\n\n\n/* Output:\n01\n02\n03\n04\n05\n06\n07\n08\n09\n10\n*/\n</code></pre>\n"}],"owner":{"account_id":22257746,"reputation":45,"user_id":16489668,"display_name":"codequestion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71876390,"answer_count":2,"score":2,"last_activity_date":1649963548,"creation_date":1649961680,"question_id":71876271,"body_markdown":"I want to count from `1` to `10` with a *variable* **width**.\r\n\r\nExample for **width**: `4`\r\n\r\n*Count Should Be:*\r\n```\r\n0001 0002 0003 0004 0005 0006 0007 0008 0009 0010 ---&gt; Note that it&#39;s not 00010\r\n```\r\nExample for **width**: `2`\r\n\r\nCount Should Be:\r\n```\r\n01 ... 09 10 ---&gt; Not 010\r\n```\r\nI&#39;ve tried the following:\r\n\r\n*First attempt*\r\n```\r\nfor(int i = 1; i &lt;= 10; ++i) {\r\n   System.out.println(&quot;0&quot;.repeat(width-1) + i);\r\n}\r\n```\r\n*Second attempt*\r\n```\r\nString output = String.format(&quot;%04d&quot;, 1);\r\n``` \r\nThese do not properly format numbers as the number of digits changes.","title":"How to Count Integers With Padded Zeros","body":"<p>I want to count from <code>1</code> to <code>10</code> with a <em>variable</em> <strong>width</strong>.</p>\n<p>Example for <strong>width</strong>: <code>4</code></p>\n<p><em>Count Should Be:</em></p>\n<pre><code>0001 0002 0003 0004 0005 0006 0007 0008 0009 0010 ---&gt; Note that it's not 00010\n</code></pre>\n<p>Example for <strong>width</strong>: <code>2</code></p>\n<p>Count Should Be:</p>\n<pre><code>01 ... 09 10 ---&gt; Not 010\n</code></pre>\n<p>I've tried the following:</p>\n<p><em>First attempt</em></p>\n<pre><code>for(int i = 1; i &lt;= 10; ++i) {\n   System.out.println(&quot;0&quot;.repeat(width-1) + i);\n}\n</code></pre>\n<p><em>Second attempt</em></p>\n<pre><code>String output = String.format(&quot;%04d&quot;, 1);\n</code></pre>\n<p>These do not properly format numbers as the number of digits changes.</p>\n"},{"tags":["java","jsp","struts","tiles","struts-1"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397225045,"creation_date":1396981571,"answer_id":22945298,"question_id":22935243,"body_markdown":"The `path` attribute should be absolute. According to the `struts-config_1.3.dtd`\r\n\r\n&gt; path - The module-relative path to the resources that is \r\n&gt;                      encapsulated by the logical name of this ActionForward.\r\n&gt;                      This value should begin with a slash (&quot;/&quot;) character.\r\n\r\nBut it is different if you use a tiles request processor. Put the following line to the `struts-config.xml`:\r\n\r\n    &lt;controller processorClass=&quot;org.apache.struts.tiles.TilesRequestProcessor&quot;/&gt;\r\n\r\n","title":"HTTP Status 500 - Path friends does not start with a &quot;/&quot; character","body":"<p>The <code>path</code> attribute should be absolute. According to the <code>struts-config_1.3.dtd</code></p>\n\n<blockquote>\n  <p>path - The module-relative path to the resources that is \n                       encapsulated by the logical name of this ActionForward.\n                       This value should begin with a slash (\"/\") character.</p>\n</blockquote>\n\n<p>But it is different if you use a tiles request processor. Put the following line to the <code>struts-config.xml</code>:</p>\n\n<pre><code>&lt;controller processorClass=\"org.apache.struts.tiles.TilesRequestProcessor\"/&gt;\n</code></pre>\n"}],"owner":{"account_id":35106,"reputation":1197,"user_id":99322,"accept_rate":46,"display_name":"user99322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649963461,"creation_date":1396955577,"question_id":22935243,"body_markdown":"**Below is the error:**\r\n\r\n    HTTP Status 500 - Path friends does not start with a &quot;/&quot; character\r\n    \r\n    type Exception report\r\n    \r\n    message Path friends does not start with a &quot;/&quot; character\r\n    \r\n    description The server encountered an internal error that prevented it from fulfilling this request.\r\n\r\n**Exception:**\r\n\r\n    java.lang.IllegalArgumentException: Path friends does not start with a &quot;/&quot; character\r\n\torg.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1074)\r\n\torg.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:295)\r\n\torg.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:396)\r\n\torg.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:347)\r\n\torg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:232)\r\n\torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\torg.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\torg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\r\n\r\n\r\n\r\n\r\n\r\n**`struts-config.xml` file:**\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n  \r\n    &lt;action-mappings&gt;\r\n        &lt;action path=&quot;/Link&quot; parameter=&quot;method&quot; type=&quot;com.vaannila.LinkAction&quot;&gt;\r\n            &lt;forward name=&quot;friends&quot; path=&quot;friends&quot;/&gt;\r\n            &lt;forward name=&quot;office&quot; path=&quot;office&quot;/&gt;\r\n        &lt;/action&gt;\r\n        &lt;action path=&quot;/Welcome&quot; forward=&quot;/welcomeStruts.jsp&quot;/&gt;\r\n    &lt;/action-mappings&gt;\r\n\r\n\r\n\r\n\r\n**`menu.jsp`:**\r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n            &lt;title&gt;JSP Page&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;a href=&quot;Link.do?method=friends&quot; &gt;Friends&lt;/a&gt;&lt;br&gt;\r\n            &lt;a href=&quot;Link.do?method=office&quot; &gt;The Office&lt;/a&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n**`baseLayout.jsp`:**\r\n\r\n\r\n     &lt;body&gt;\r\n            &lt;table border=&quot;1&quot; cellpadding=&quot;2&quot; cellspacing=&quot;2&quot; align=&quot;center&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td height=&quot;20%&quot; colspan=&quot;2&quot;&gt;\r\n                        &lt;tiles:insert attribute=&quot;header&quot; ignore=&quot;true&quot; /&gt;\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td width=&quot;20%&quot; height=&quot;250&quot;&gt;\r\n                        &lt;tiles:insert attribute=&quot;menu&quot; /&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;tiles:insert attribute=&quot;body&quot; /&gt;\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td height=&quot;20%&quot; colspan=&quot;2&quot;&gt;\r\n                        &lt;tiles:insert attribute=&quot;footer&quot; /&gt;\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**`index.jsp`:**\r\n\r\n\r\n    &lt;tiles:insert page=&quot;/baseLayout.jsp&quot; flush=&quot;true&quot;&gt;\r\n        &lt;tiles:put name=&quot;title&quot; value=&quot;Tiles Example&quot; /&gt;\r\n        &lt;tiles:put name=&quot;header&quot; value=&quot;/header.jsp&quot; /&gt;\r\n        &lt;tiles:put name=&quot;menu&quot; value=&quot;/menu.jsp&quot; /&gt;\r\n        &lt;tiles:put name=&quot;body&quot; value=&quot;/body.jsp&quot; /&gt;\r\n        &lt;tiles:put name=&quot;footer&quot; value=&quot;/footer.jsp&quot; /&gt;\r\n    &lt;/tiles:insert&gt;\r\n\r\n\r\n**`LinkAction.java`:**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class LinkAction extends DispatchAction {\r\n    \r\n   \r\n    /**\r\n     * This is the Struts action method called on\r\n     * http://.../actionPath?method=myAction1,\r\n     * where &quot;method&quot; is the value specified in &lt;action&gt; element : \r\n     * ( &lt;action parameter=&quot;method&quot; .../&gt; )\r\n     */\r\n    public ActionForward friends(ActionMapping mapping, ActionForm  form,\r\n            HttpServletRequest request, HttpServletResponse response)\r\n            throws Exception {\r\n        \r\n        return mapping.findForward(&quot;friends&quot;);\r\n    }\r\n\r\n    /**\r\n     * This is the Struts action method called on\r\n     * http://.../actionPath?method=myAction2,\r\n     * where &quot;method&quot; is the value specified in &lt;action&gt; element : \r\n     * ( &lt;action parameter=&quot;method&quot; .../&gt; )\r\n     */\r\n    public ActionForward office(ActionMapping mapping, ActionForm  form,\r\n            HttpServletRequest request, HttpServletResponse response)\r\n            throws Exception {\r\n        \r\n        return mapping.findForward(&quot;office&quot;);\r\n    }\r\n\r\n","title":"HTTP Status 500 - Path friends does not start with a &quot;/&quot; character","body":"<p><strong>Below is the error:</strong></p>\n<pre><code>HTTP Status 500 - Path friends does not start with a &quot;/&quot; character\n\ntype Exception report\n\nmessage Path friends does not start with a &quot;/&quot; character\n\ndescription The server encountered an internal error that prevented it from fulfilling this request.\n</code></pre>\n<p><strong>Exception:</strong></p>\n<pre><code>java.lang.IllegalArgumentException: Path friends does not start with a &quot;/&quot; character\norg.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1074)\norg.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:295)\norg.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:396)\norg.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:347)\norg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:232)\norg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\norg.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:621)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:728)\norg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\n</code></pre>\n<p><strong><code>struts-config.xml</code> file:</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action-mappings&gt;\n    &lt;action path=&quot;/Link&quot; parameter=&quot;method&quot; type=&quot;com.vaannila.LinkAction&quot;&gt;\n        &lt;forward name=&quot;friends&quot; path=&quot;friends&quot;/&gt;\n        &lt;forward name=&quot;office&quot; path=&quot;office&quot;/&gt;\n    &lt;/action&gt;\n    &lt;action path=&quot;/Welcome&quot; forward=&quot;/welcomeStruts.jsp&quot;/&gt;\n&lt;/action-mappings&gt;\n</code></pre>\n<p><strong><code>menu.jsp</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;a href=&quot;Link.do?method=friends&quot; &gt;Friends&lt;/a&gt;&lt;br&gt;\n        &lt;a href=&quot;Link.do?method=office&quot; &gt;The Office&lt;/a&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong><code>baseLayout.jsp</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;body&gt;\n        &lt;table border=&quot;1&quot; cellpadding=&quot;2&quot; cellspacing=&quot;2&quot; align=&quot;center&quot;&gt;\n            &lt;tr&gt;\n                &lt;td height=&quot;20%&quot; colspan=&quot;2&quot;&gt;\n                    &lt;tiles:insert attribute=&quot;header&quot; ignore=&quot;true&quot; /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td width=&quot;20%&quot; height=&quot;250&quot;&gt;\n                    &lt;tiles:insert attribute=&quot;menu&quot; /&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;tiles:insert attribute=&quot;body&quot; /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td height=&quot;20%&quot; colspan=&quot;2&quot;&gt;\n                    &lt;tiles:insert attribute=&quot;footer&quot; /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong><code>index.jsp</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;tiles:insert page=&quot;/baseLayout.jsp&quot; flush=&quot;true&quot;&gt;\n    &lt;tiles:put name=&quot;title&quot; value=&quot;Tiles Example&quot; /&gt;\n    &lt;tiles:put name=&quot;header&quot; value=&quot;/header.jsp&quot; /&gt;\n    &lt;tiles:put name=&quot;menu&quot; value=&quot;/menu.jsp&quot; /&gt;\n    &lt;tiles:put name=&quot;body&quot; value=&quot;/body.jsp&quot; /&gt;\n    &lt;tiles:put name=&quot;footer&quot; value=&quot;/footer.jsp&quot; /&gt;\n&lt;/tiles:insert&gt;\n</code></pre>\n<p><strong><code>LinkAction.java</code>:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LinkAction extends DispatchAction {\n\n\n/**\n * This is the Struts action method called on\n * http://.../actionPath?method=myAction1,\n * where &quot;method&quot; is the value specified in &lt;action&gt; element : \n * ( &lt;action parameter=&quot;method&quot; .../&gt; )\n */\npublic ActionForward friends(ActionMapping mapping, ActionForm  form,\n        HttpServletRequest request, HttpServletResponse response)\n        throws Exception {\n    \n    return mapping.findForward(&quot;friends&quot;);\n}\n\n/**\n * This is the Struts action method called on\n * http://.../actionPath?method=myAction2,\n * where &quot;method&quot; is the value specified in &lt;action&gt; element : \n * ( &lt;action parameter=&quot;method&quot; .../&gt; )\n */\npublic ActionForward office(ActionMapping mapping, ActionForm  form,\n        HttpServletRequest request, HttpServletResponse response)\n        throws Exception {\n    \n    return mapping.findForward(&quot;office&quot;);\n}\n</code></pre>\n"},{"tags":["java","user-input"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1649958253,"post_id":71875717,"comment_id":127011545,"body_markdown":"That&#39;s not how you write benchmarking code in Java. Relevant: [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)","body":"That&#39;s not how you write benchmarking code in Java. Relevant: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1649958416,"post_id":71875717,"comment_id":127011590,"body_markdown":"Your `FastWriter` is using a buffered writer on top of the already-buffered `System.out` (which would be slower). I&#39;m not sure of the specific semantics at play here, but I&#39;d assume that&#39;s the primary factor.","body":"Your <code>FastWriter</code> is using a buffered writer on top of the already-buffered <code>System.out</code> (which would be slower). I&#39;m not sure of the specific semantics at play here, but I&#39;d assume that&#39;s the primary factor."},{"owner":{"account_id":18985091,"reputation":1,"user_id":13877228,"display_name":"Gaurav Kumar"},"score":0,"creation_date":1650007563,"post_id":71875717,"comment_id":127020900,"body_markdown":"It has nothing to do with benchmarking. I&#39;m just trying something else with that.\n\nOkay, I understand that. here I&#39;m try to write a FastIO class for a coding competition and when I try to output some statement to the console. The output is not in particular order(sequence).\nHow can I resolve this issue.?","body":"It has nothing to do with benchmarking. I&#39;m just trying something else with that.  Okay, I understand that. here I&#39;m try to write a FastIO class for a coding competition and when I try to output some statement to the console. The output is not in particular order(sequence). How can I resolve this issue.?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649962088,"creation_date":1649962088,"answer_id":71876332,"question_id":71875717,"body_markdown":"Everything that you write into the `FastWriter` is buffered in its `BufferedWriter bw` until either the buffer in `bw` overflows or the `FastWriter` is closed. Only then is it written out to `System.out`.\r\n\r\nThis is the sequence:\r\n\r\n    writer.println(&quot;Print String Using FastIO&quot;);  // this is buffered in writer.bw\r\n    // ...\r\n    writer.println(&quot;Time taken by FastIO: &quot;+(endTime-startTime)+&quot;ms&quot;);  // this is buffered in writer.bw\r\n    // ...\r\n    System.out.println(&quot;Print String Using System.out&quot;);  // this is directly written to System.out\r\n    // ...\r\n    writer.println(&quot;Time taken by System.out: &quot;+(endTime-startTime)+&quot;ms&quot;);  // this is buffered in writer.bw\r\n    writer.close();  // now the 3 lines buffered in writer.bw are written to System.out","title":"what is going wrong here.?","body":"<p>Everything that you write into the <code>FastWriter</code> is buffered in its <code>BufferedWriter bw</code> until either the buffer in <code>bw</code> overflows or the <code>FastWriter</code> is closed. Only then is it written out to <code>System.out</code>.</p>\n<p>This is the sequence:</p>\n<pre><code>writer.println(&quot;Print String Using FastIO&quot;);  // this is buffered in writer.bw\n// ...\nwriter.println(&quot;Time taken by FastIO: &quot;+(endTime-startTime)+&quot;ms&quot;);  // this is buffered in writer.bw\n// ...\nSystem.out.println(&quot;Print String Using System.out&quot;);  // this is directly written to System.out\n// ...\nwriter.println(&quot;Time taken by System.out: &quot;+(endTime-startTime)+&quot;ms&quot;);  // this is buffered in writer.bw\nwriter.close();  // now the 3 lines buffered in writer.bw are written to System.out\n</code></pre>\n"}],"owner":{"account_id":18985091,"reputation":1,"user_id":13877228,"display_name":"Gaurav Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1649962774,"creation_date":1649958133,"question_id":71875717,"body_markdown":"Why system.out.println() Method output the value first then user Define output class..?\r\n\r\n    public class FastIO {\r\n            static class FastReader {...}\r\n    \r\n            static class FastWriter {\r\n                private final BufferedWriter bw;\r\n    \r\n                public FastWriter() {\r\n                    this.bw = new BufferedWriter(new OutputStreamWriter(System.out));\r\n                }\r\n    \r\n                public void print(Object object) throws IOException {\r\n                    bw.append(&quot;&quot;).append(String.valueOf(object));\r\n                }\r\n    \r\n                public void println(Object object) throws IOException {\r\n                    print(object);\r\n                    bw.append(&quot;\\n&quot;);\r\n                }\r\n    \r\n                public void close() throws IOException {\r\n                    bw.close();\r\n                }\r\n            }\r\n    \r\n            public static void main(String[] args) {\r\n                try {\r\n                    //FastReader reader=new FastReader();\r\n                    FastWriter writer = new FastWriter();\r\n                        long startTime;\r\n                        long endTime;\r\n    \r\n                        startTime=System.currentTimeMillis();\r\n                        writer.println(&quot;Print String Using FastIO&quot;);\r\n                        endTime=System.currentTimeMillis();\r\n    \r\n                        writer.println(&quot;Time taken by FastIO: &quot;+(endTime-startTime)+&quot;ms&quot;);\r\n    \r\n                        startTime=System.currentTimeMillis();\r\n                        System.out.println(&quot;Print String Using System.out&quot;);\r\n                        endTime=System.currentTimeMillis();\r\n                        writer.println(&quot;Time taken by System.out: &quot;+(endTime-startTime)+&quot;ms&quot;);\r\n                    writer.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n    }\r\n\r\n**Output :**&lt;br&gt;\r\nPrint String Using System.out&lt;br&gt;\r\nPrint String Using FastIO&lt;br&gt;\r\nTime taken by FastIO: 0ms&lt;br&gt;\r\nTime taken by System.out: 0ms&lt;br&gt;\r\n","title":"what is going wrong here.?","body":"<p>Why system.out.println() Method output the value first then user Define output class..?</p>\n<pre><code>public class FastIO {\n        static class FastReader {...}\n\n        static class FastWriter {\n            private final BufferedWriter bw;\n\n            public FastWriter() {\n                this.bw = new BufferedWriter(new OutputStreamWriter(System.out));\n            }\n\n            public void print(Object object) throws IOException {\n                bw.append(&quot;&quot;).append(String.valueOf(object));\n            }\n\n            public void println(Object object) throws IOException {\n                print(object);\n                bw.append(&quot;\\n&quot;);\n            }\n\n            public void close() throws IOException {\n                bw.close();\n            }\n        }\n\n        public static void main(String[] args) {\n            try {\n                //FastReader reader=new FastReader();\n                FastWriter writer = new FastWriter();\n                    long startTime;\n                    long endTime;\n\n                    startTime=System.currentTimeMillis();\n                    writer.println(&quot;Print String Using FastIO&quot;);\n                    endTime=System.currentTimeMillis();\n\n                    writer.println(&quot;Time taken by FastIO: &quot;+(endTime-startTime)+&quot;ms&quot;);\n\n                    startTime=System.currentTimeMillis();\n                    System.out.println(&quot;Print String Using System.out&quot;);\n                    endTime=System.currentTimeMillis();\n                    writer.println(&quot;Time taken by System.out: &quot;+(endTime-startTime)+&quot;ms&quot;);\n                writer.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n}\n</code></pre>\n<p><strong>Output :</strong><br>\nPrint String Using System.out<br>\nPrint String Using FastIO<br>\nTime taken by FastIO: 0ms<br>\nTime taken by System.out: 0ms<br></p>\n"},{"tags":["java","xml","dom4j"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1649955928,"post_id":71873596,"comment_id":127010817,"body_markdown":"Please [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nPlease show your attempts you have tried and the problems/error messages you get from your attempts.","body":"Please <a href=\"https://stackoverflow.com/posts/71873596/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Please show your attempts you have tried and the problems/error messages you get from your attempts."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649962274,"creation_date":1649962274,"answer_id":71876375,"question_id":71873596,"body_markdown":"When you write one `addText()` followed by three `addElement()` calls you will get an XML content where you have the text at the beginning and the XML elements at the end. You have to interleave the `addText()` and `addElement()` calls like this:\r\n\r\n\tElement foo = new DefaultElement(&quot;foo&quot;);\r\n\tfoo.addAttribute(&quot;myattribute&quot;, &quot;bar&quot;);\r\n\tfoo.addText(&quot;i am some text&quot;);\r\n\tfoo.addElement(&quot;aninnertag&quot;).addText(&quot;false&quot;);\r\n\tfoo.addText(&quot;(more text specific stuff &quot;);\r\n\tfoo.addElement(&quot;atag&quot;).addText(&quot;woot&quot;);\r\n\tfoo.addText(&quot;) and (another section &quot;);\r\n\tfoo.addElement(&quot;atag&quot;).addText(&quot;woot again&quot;);\r\n\tfoo.addText(&quot; etc)&quot;);\r\n\tSystem.out.println(foo.asXML());\r\n\r\nThis will generate the following output:\r\n\r\n    &lt;foo myattribute=&quot;bar&quot;&gt;i am some text&lt;aninnertag&gt;false&lt;/aninnertag&gt;\r\n    (more text specific stuff &lt;atag&gt;woot&lt;/atag&gt;) and (another section\r\n    &lt;atag&gt;woot again&lt;/atag&gt; etc)&lt;/foo&gt;\r\n","title":"Constructing mixed text/tag element","body":"<p>When you write one <code>addText()</code> followed by three <code>addElement()</code> calls you will get an XML content where you have the text at the beginning and the XML elements at the end. You have to interleave the <code>addText()</code> and <code>addElement()</code> calls like this:</p>\n<pre><code>Element foo = new DefaultElement(&quot;foo&quot;);\nfoo.addAttribute(&quot;myattribute&quot;, &quot;bar&quot;);\nfoo.addText(&quot;i am some text&quot;);\nfoo.addElement(&quot;aninnertag&quot;).addText(&quot;false&quot;);\nfoo.addText(&quot;(more text specific stuff &quot;);\nfoo.addElement(&quot;atag&quot;).addText(&quot;woot&quot;);\nfoo.addText(&quot;) and (another section &quot;);\nfoo.addElement(&quot;atag&quot;).addText(&quot;woot again&quot;);\nfoo.addText(&quot; etc)&quot;);\nSystem.out.println(foo.asXML());\n</code></pre>\n<p>This will generate the following output:</p>\n<pre><code>&lt;foo myattribute=&quot;bar&quot;&gt;i am some text&lt;aninnertag&gt;false&lt;/aninnertag&gt;\n(more text specific stuff &lt;atag&gt;woot&lt;/atag&gt;) and (another section\n&lt;atag&gt;woot again&lt;/atag&gt; etc)&lt;/foo&gt;\n</code></pre>\n"}],"owner":{"account_id":1354657,"reputation":3826,"user_id":1293320,"accept_rate":80,"display_name":"Lucas Holt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71876375,"answer_count":1,"score":0,"last_activity_date":1649962274,"creation_date":1649947985,"question_id":71873596,"body_markdown":"I am trying to convert some code that is building XML in a StringBuilder to using dom4j. \r\n\r\nPart of the code is generating something structured similar to this: \r\n\r\n    &lt;foo myattribute=&quot;bar&quot;&gt;i am some text&lt;aninnertag&gt;false&lt;/aninnertag&gt; \r\n    (more text specific stuff &lt;atag&gt;woot&lt;/atag&gt;) \r\n    and (another section &lt;atag&gt;woot again&lt;/atag&gt; etc)\r\n    &lt;/foo&gt;\r\n\r\nI&#39;m trying to figure out how to build this in dom4j. I could add elements for the inner tags but it&#39;s not going to generate it in a meaningful context. I could add it all as text but tags would get escaped.\r\n\r\nHow would one implement something like this in dom4j? Is it even possible?\r\n\r\nThis xml is terrible and I can&#39;t change it.\r\n\r\nThis is obviously incorrect in terms of output, but a basic example:\r\n\r\n    Element foo = new DefaultElement(&quot;foo&quot;);\r\n    foo.addText(&quot;i am some text&quot; + &quot;(more text specific stuff &quot; + &quot;)&quot; + &quot;and (another section &quot;+ &quot; etc)&quot;);\r\n    foo.addElement(&quot;aninnertag&quot;).addText(&quot;false&quot;);\r\n    foo.addElement(&quot;atag&quot;).addText(&quot;woot&quot;);\r\n    foo.addElement(&quot;atag&quot;).addText(&quot;woot again&quot;);","title":"Constructing mixed text/tag element","body":"<p>I am trying to convert some code that is building XML in a StringBuilder to using dom4j.</p>\n<p>Part of the code is generating something structured similar to this:</p>\n<pre><code>&lt;foo myattribute=&quot;bar&quot;&gt;i am some text&lt;aninnertag&gt;false&lt;/aninnertag&gt; \n(more text specific stuff &lt;atag&gt;woot&lt;/atag&gt;) \nand (another section &lt;atag&gt;woot again&lt;/atag&gt; etc)\n&lt;/foo&gt;\n</code></pre>\n<p>I'm trying to figure out how to build this in dom4j. I could add elements for the inner tags but it's not going to generate it in a meaningful context. I could add it all as text but tags would get escaped.</p>\n<p>How would one implement something like this in dom4j? Is it even possible?</p>\n<p>This xml is terrible and I can't change it.</p>\n<p>This is obviously incorrect in terms of output, but a basic example:</p>\n<pre><code>Element foo = new DefaultElement(&quot;foo&quot;);\nfoo.addText(&quot;i am some text&quot; + &quot;(more text specific stuff &quot; + &quot;)&quot; + &quot;and (another section &quot;+ &quot; etc)&quot;);\nfoo.addElement(&quot;aninnertag&quot;).addText(&quot;false&quot;);\nfoo.addElement(&quot;atag&quot;).addText(&quot;woot&quot;);\nfoo.addElement(&quot;atag&quot;).addText(&quot;woot again&quot;);\n</code></pre>\n"},{"tags":["java","docker","junit","dockerfile","testcontainers"],"comments":[{"owner":{"account_id":12360697,"reputation":224,"user_id":9015036,"display_name":"MC Ninjava"},"score":0,"creation_date":1570023955,"post_id":58202705,"comment_id":102783726,"body_markdown":"Can you make a breakpoint after the container starts and inspect it to see what port was mapped. Anyway if you do something like port = container.getMappedPort(24999)","body":"Can you make a breakpoint after the container starts and inspect it to see what port was mapped. Anyway if you do something like port = container.getMappedPort(24999)"},{"owner":{"account_id":5301167,"reputation":83,"user_id":4230725,"display_name":"NoradX"},"score":0,"creation_date":1570025912,"post_id":58202705,"comment_id":102784924,"body_markdown":"OK, I changed to port = container.getMappedPort(24999) but it isn&#39;t working anyway. I did the debug, but I am not sure where to look at. container.exposedPorts is [24999]; container.portBindings is [].","body":"OK, I changed to port = container.getMappedPort(24999) but it isn&#39;t working anyway. I did the debug, but I am not sure where to look at. container.exposedPorts is [24999]; container.portBindings is []."}],"answers":[{"tags":[],"owner":{"account_id":16584466,"reputation":44,"user_id":11984264,"display_name":"Ashis Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570025035,"creation_date":1570025035,"answer_id":58203167,"question_id":58202705,"body_markdown":"Since your mail server and client are running in the container, I think you should connect to port 24999 and not to the mapped port","title":"Java Testcontainers - Cannot connect to exposed port","body":"<p>Since your mail server and client are running in the container, I think you should connect to port 24999 and not to the mapped port</p>\n"},{"tags":[],"owner":{"account_id":2806533,"reputation":95,"user_id":2413672,"display_name":"ygun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570034412,"creation_date":1570034412,"answer_id":58205777,"question_id":58202705,"body_markdown":"Try `container.getMappedPort(24999)` instead `getFirstMappedPort`. Probably your docker image exposes a couple of ports.","title":"Java Testcontainers - Cannot connect to exposed port","body":"<p>Try <code>container.getMappedPort(24999)</code> instead <code>getFirstMappedPort</code>. Probably your docker image exposes a couple of ports.</p>\n"},{"tags":[],"owner":{"account_id":2283435,"reputation":259,"user_id":2008040,"display_name":"lecandas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570112999,"creation_date":1570112999,"answer_id":58221327,"question_id":58202705,"body_markdown":"Try adding a http check.\r\n\r\n     new GenericContainer&lt;&gt;(&quot;immerfroehlich/emailfilter:latest&quot;)\r\n     .withExposedPorts(24999)\r\n     .waitingFor(new HttpWaitStrategy().forPort(24999)\r\n     .withStartupTimeout(Duration.ofMinutes(5)));\r\n\r\nThere is a possibility that your container starts but you are trying to connect before your server initializes.\r\n\r\nAlso, register a log appender to see what is going on with the server inside the container.\r\n\r\n     .withLogConsumer(new Slf4jLogConsumer(LoggerFactory.getLogger(\r\n                  DockerPop3AutocryptKeyProvidingAndReceivingTest.class)))","title":"Java Testcontainers - Cannot connect to exposed port","body":"<p>Try adding a http check.</p>\n\n<pre><code> new GenericContainer&lt;&gt;(\"immerfroehlich/emailfilter:latest\")\n .withExposedPorts(24999)\n .waitingFor(new HttpWaitStrategy().forPort(24999)\n .withStartupTimeout(Duration.ofMinutes(5)));\n</code></pre>\n\n<p>There is a possibility that your container starts but you are trying to connect before your server initializes.</p>\n\n<p>Also, register a log appender to see what is going on with the server inside the container.</p>\n\n<pre><code> .withLogConsumer(new Slf4jLogConsumer(LoggerFactory.getLogger(\n              DockerPop3AutocryptKeyProvidingAndReceivingTest.class)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27396,"reputation":442,"user_id":72305,"display_name":"Richard North"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1570564341,"creation_date":1570564341,"answer_id":58293182,"question_id":58202705,"body_markdown":"There&#39;s some good advice in other answers; I&#39;ll augment these with a couple of other tips:\r\n\r\nAs already suggested:\r\n\r\n* absolutely do add the `LogConsumer` so that you can see the container&#39;s log output - maybe something useful will appear there, now or in the future. It&#39;s always good to have.\r\n\r\n* set a breakpoint after the container is started, just before you start your client.\r\n\r\nAdditionally, I&#39;d hope the following things make the difference. While paused at the breakpoint:\r\n\r\n* run `docker ps -a` in the terminal\r\n* firstly, check that your container is running and hasn&#39;t exited. If it has exited, have a look at the logs for the container from the terminal.\r\n* secondly, check the port mapping in the `docker ps` output. You should see something like `0.0.0.0:32768-&gt;24999/tcp` (first port number is random, though).\r\n* evaluate `container.getFirstMappedPort()` in your IDE and check that the port number you get back is the same as the randomised exposed port. Unless you have a very unusual Docker installation on your local machine, this container should be reachable at `localhost:` + this port.\r\n* if you&#39;ve got this far then it&#39;s likely that there&#39;s something wrong with either the container or the client code. You could try connecting a different client to the running container - even something like [`nc`](https://webmechanic.blogspot.com/2006/11/using-gnu-netcat-to-access-your-pop3.html) could help if you don&#39;t have another POP3 client handy.\r\n\r\nAnother thing to try is to run the container manually, just to reduce the amount of indirection taking place. The Testcontainers code snippet you&#39;ve given is equivalent to:\r\n\r\n```\r\ndocker run -p 24999 immerfroehlich/emailfilter:latest\r\n```\r\n\r\nYou might find that this helps you divide up the problem space into smaller pieces.","title":"Java Testcontainers - Cannot connect to exposed port","body":"<p>There's some good advice in other answers; I'll augment these with a couple of other tips:</p>\n\n<p>As already suggested:</p>\n\n<ul>\n<li><p>absolutely do add the <code>LogConsumer</code> so that you can see the container's log output - maybe something useful will appear there, now or in the future. It's always good to have.</p></li>\n<li><p>set a breakpoint after the container is started, just before you start your client.</p></li>\n</ul>\n\n<p>Additionally, I'd hope the following things make the difference. While paused at the breakpoint:</p>\n\n<ul>\n<li>run <code>docker ps -a</code> in the terminal</li>\n<li>firstly, check that your container is running and hasn't exited. If it has exited, have a look at the logs for the container from the terminal.</li>\n<li>secondly, check the port mapping in the <code>docker ps</code> output. You should see something like <code>0.0.0.0:32768-&gt;24999/tcp</code> (first port number is random, though).</li>\n<li>evaluate <code>container.getFirstMappedPort()</code> in your IDE and check that the port number you get back is the same as the randomised exposed port. Unless you have a very unusual Docker installation on your local machine, this container should be reachable at <code>localhost:</code> + this port.</li>\n<li>if you've got this far then it's likely that there's something wrong with either the container or the client code. You could try connecting a different client to the running container - even something like <a href=\"https://webmechanic.blogspot.com/2006/11/using-gnu-netcat-to-access-your-pop3.html\" rel=\"noreferrer\"><code>nc</code></a> could help if you don't have another POP3 client handy.</li>\n</ul>\n\n<p>Another thing to try is to run the container manually, just to reduce the amount of indirection taking place. The Testcontainers code snippet you've given is equivalent to:</p>\n\n<pre><code>docker run -p 24999 immerfroehlich/emailfilter:latest\n</code></pre>\n\n<p>You might find that this helps you divide up the problem space into smaller pieces.</p>\n"},{"tags":[],"owner":{"account_id":5301167,"reputation":83,"user_id":4230725,"display_name":"NoradX"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1571604766,"creation_date":1571604766,"answer_id":58477213,"question_id":58202705,"body_markdown":"Thanks for all of your help. This led me towards the solution. It has been a combination of the missing WaitStrategy and problems with the port mapping.\r\n\r\nHere is what I did:\r\n1) In the MyPop3Server.listenToPort(String port) method I added a System.out.println:\r\n\r\n```\r\npublic class MyPop3Server {\r\n  public void listenToPort(String port) {\r\n     //simplified: do initialization and listenToPort\r\n     System.out.println(&quot;Awaiting Connection...&quot;);\r\n  }\r\n}\r\n```\r\nIn my test I added a LogMessageWaitStrategy that listens for &quot;Awaiting Connection&quot;\r\n```\r\nGenericContainer container = new GenericContainer&lt;&gt;(&quot;immerfroehlich/emailfilter:latest&quot;)\r\n   .waitingFor(Wait.forLogMessage(&quot;Awaiting Connection.*&quot;, 1))\r\n   .withExposedPorts(24999);\r\n```\r\n2) I switched from container.getFirstMappedPort() to\r\n```\r\ncontainer.getMappedPort(24999);\r\n```\r\n\r\nHere is the whole changed and working test code:\r\n```\r\npublic class DockerPop3AutocryptKeyProvidingAndReceivingTest {\r\n    @Test\r\n    public void test() throws InterruptedException {\r\n        GenericContainer container = new GenericContainer&lt;&gt;(&quot;immerfroehlich/emailfilter:latest&quot;)\r\n                .waitingFor(Wait.forLogMessage(&quot;Awaiting Connection.*&quot;, 1))\r\n                .withExposedPorts(24999);\r\n\r\n        container.start();\r\n\r\n        String host = container.getContainerIpAddress();\r\n        String port = container.getMappedPort(24999).toString();\r\n\r\n        //The following is simplified, but copied from the working jar used in the Docker Client image/container\r\n        MyPOP3Client client = new MyPOP3Client(host, port);\r\n        client.connect();\r\n\r\n        container.stop();\r\n    }\r\n}\r\n```\r\n\r\nThank you everyone.","title":"Java Testcontainers - Cannot connect to exposed port","body":"<p>Thanks for all of your help. This led me towards the solution. It has been a combination of the missing WaitStrategy and problems with the port mapping.</p>\n\n<p>Here is what I did:\n1) In the MyPop3Server.listenToPort(String port) method I added a System.out.println:</p>\n\n<pre><code>public class MyPop3Server {\n  public void listenToPort(String port) {\n     //simplified: do initialization and listenToPort\n     System.out.println(\"Awaiting Connection...\");\n  }\n}\n</code></pre>\n\n<p>In my test I added a LogMessageWaitStrategy that listens for \"Awaiting Connection\"</p>\n\n<pre><code>GenericContainer container = new GenericContainer&lt;&gt;(\"immerfroehlich/emailfilter:latest\")\n   .waitingFor(Wait.forLogMessage(\"Awaiting Connection.*\", 1))\n   .withExposedPorts(24999);\n</code></pre>\n\n<p>2) I switched from container.getFirstMappedPort() to</p>\n\n<pre><code>container.getMappedPort(24999);\n</code></pre>\n\n<p>Here is the whole changed and working test code:</p>\n\n<pre><code>public class DockerPop3AutocryptKeyProvidingAndReceivingTest {\n    @Test\n    public void test() throws InterruptedException {\n        GenericContainer container = new GenericContainer&lt;&gt;(\"immerfroehlich/emailfilter:latest\")\n                .waitingFor(Wait.forLogMessage(\"Awaiting Connection.*\", 1))\n                .withExposedPorts(24999);\n\n        container.start();\n\n        String host = container.getContainerIpAddress();\n        String port = container.getMappedPort(24999).toString();\n\n        //The following is simplified, but copied from the working jar used in the Docker Client image/container\n        MyPOP3Client client = new MyPOP3Client(host, port);\n        client.connect();\n\n        container.stop();\n    }\n}\n</code></pre>\n\n<p>Thank you everyone.</p>\n"}],"owner":{"account_id":5301167,"reputation":83,"user_id":4230725,"display_name":"NoradX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17610,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58477213,"answer_count":5,"score":5,"last_activity_date":1649962272,"creation_date":1570023416,"question_id":58202705,"body_markdown":"I implemented a POP3 server and client using javax.mail just to try doing integration testing with Docker. So I created two Docker images based on the openjdk:8-jre image and copied my jars to them and started it. Based on my configuration (see below) it is working. They are talking to each other.\r\n\r\nBut as want to have multiple integration tests it is going to be tedious to build an image for each one and starting them. Also I don&#39;t know how to automate the results.\r\nBut then I stumbled across TestContainers and it seems that this would be big help when implementing those tests.\r\n\r\nSo I started to port those tests to TestContainers using my POP3 Server image as a GenericContainer and starting my POP3 Client classes in the JUnit test method. I exposed the port 24999 which my POP3 Server is listening to. But when I try to connect to the server I get the following error:\r\n\r\n```\r\ncom.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: localhost, 32782; timeout -1;\r\n  nested exception is:\r\n\tjava.net.ConnectException: Connection refused\r\n...\r\n```\r\nThere is probably some setting I am missing in TestContainers. Could you please help me.\r\n\r\nHere is the code I am using:\r\n```\r\npublic class DockerPop3AutocryptKeyProvidingAndReceivingTest {\r\n\t@Test\r\n\tpublic void test() throws InterruptedException {\r\n\t\tGenericContainer container = new GenericContainer&lt;&gt;(&quot;immerfroehlich/emailfilter:latest&quot;)\r\n                .withExposedPorts(24999);\r\n\t\t\r\n\t\tcontainer.start();\r\n\t\t\r\n\t\tString host = container.getContainerIpAddress();\r\n\t\tString port = container.getFirstMappedPort().toString();\r\n\r\n\t\t//The following is simplified, but copied from the working jar used in the Docker Client image/container\r\n\t\tMyPOP3Client client = new MyPOP3Client(host, port);\r\n\t\tclient.connect();\r\n\t\t\r\n\t\tcontainer.stop();\r\n\t}\r\n}\r\n```\r\n\r\nThis is how I create my Docker image:\r\n```\r\nFROM openjdk:8-jre\r\n\r\nADD build/distributions/MyPOP3Server.tar . #This is where I have packed all the needed files to. It gets unpacked by Docker.\r\n#EXPOSE 24999 #I tried both with and without this expose\r\nWORKDIR /MyPOP3Server/bin\r\nENTRYPOINT [&quot;sh&quot;,&quot;MyPOP3Server&quot;] #Executes the shell script which runs java with my jar\r\n```\r\nThis is a simplified version of the code that is running inside the Server Jar:\r\n```\r\nMyPOP3Server server = new MyPOP3Server();\r\nserver.listenToPort(24999);\r\n```\r\nPlease tell me what am I missing. What is wrong here?\r\n\r\nThanks and kind regards.","title":"Java Testcontainers - Cannot connect to exposed port","body":"<p>I implemented a POP3 server and client using javax.mail just to try doing integration testing with Docker. So I created two Docker images based on the openjdk:8-jre image and copied my jars to them and started it. Based on my configuration (see below) it is working. They are talking to each other.</p>\n<p>But as want to have multiple integration tests it is going to be tedious to build an image for each one and starting them. Also I don't know how to automate the results.\nBut then I stumbled across TestContainers and it seems that this would be big help when implementing those tests.</p>\n<p>So I started to port those tests to TestContainers using my POP3 Server image as a GenericContainer and starting my POP3 Client classes in the JUnit test method. I exposed the port 24999 which my POP3 Server is listening to. But when I try to connect to the server I get the following error:</p>\n<pre><code>com.sun.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 32782; timeout -1;\n  nested exception is:\n    java.net.ConnectException: Connection refused\n...\n</code></pre>\n<p>There is probably some setting I am missing in TestContainers. Could you please help me.</p>\n<p>Here is the code I am using:</p>\n<pre><code>public class DockerPop3AutocryptKeyProvidingAndReceivingTest {\n    @Test\n    public void test() throws InterruptedException {\n        GenericContainer container = new GenericContainer&lt;&gt;(&quot;immerfroehlich/emailfilter:latest&quot;)\n                .withExposedPorts(24999);\n        \n        container.start();\n        \n        String host = container.getContainerIpAddress();\n        String port = container.getFirstMappedPort().toString();\n\n        //The following is simplified, but copied from the working jar used in the Docker Client image/container\n        MyPOP3Client client = new MyPOP3Client(host, port);\n        client.connect();\n        \n        container.stop();\n    }\n}\n</code></pre>\n<p>This is how I create my Docker image:</p>\n<pre><code>FROM openjdk:8-jre\n\nADD build/distributions/MyPOP3Server.tar . #This is where I have packed all the needed files to. It gets unpacked by Docker.\n#EXPOSE 24999 #I tried both with and without this expose\nWORKDIR /MyPOP3Server/bin\nENTRYPOINT [&quot;sh&quot;,&quot;MyPOP3Server&quot;] #Executes the shell script which runs java with my jar\n</code></pre>\n<p>This is a simplified version of the code that is running inside the Server Jar:</p>\n<pre><code>MyPOP3Server server = new MyPOP3Server();\nserver.listenToPort(24999);\n</code></pre>\n<p>Please tell me what am I missing. What is wrong here?</p>\n<p>Thanks and kind regards.</p>\n"},{"tags":["java","spring-boot","spring-mvc","graalvm","graaljs"],"answers":[{"tags":[],"owner":{"account_id":4129702,"reputation":430,"user_id":3387943,"display_name":"Sneh Tripathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649961708,"creation_date":1649961708,"answer_id":71876276,"question_id":67837787,"body_markdown":"Try to install Java 11+ and latest karate jar","title":"org.graalvm.polyglot.PolyglotException: ReferenceError: document is not defined","body":"<p>Try to install Java 11+ and latest karate jar</p>\n"}],"owner":{"account_id":4749640,"reputation":1513,"user_id":3839980,"accept_rate":0,"display_name":"Nitin Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649961708,"creation_date":1622812056,"question_id":67837787,"body_markdown":"&gt; I am using Spring boot 2.4.4, JDK 1.8, and created ScriptEngine as shown.\r\nPage loaded perfectly for the first time but the second time it throws the exception mentioned below.\r\n\r\n    @Bean\r\n\tpublic ScriptEngine scriptEngine() {\r\n\t\tScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;graal.js&quot;);\r\n\t\tBindings bindings = engine.getBindings(ScriptContext.ENGINE_SCOPE);\r\n\t\tbindings.put(&quot;polyglot.js.allowAllAccess&quot;, true);\r\n\t\tbindings.put(&quot;polyglot.js.allowHostClassLookup&quot;, true);\r\n\t\t//engine.setBindings(bindings, ScriptContext.GLOBAL_SCOPE);\r\n\t\treturn engine;\r\n\t}\r\n\r\n    org.graalvm.polyglot.PolyglotException: ReferenceError: document is not defined\r\n\t&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\r\n\t&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\r\n\t&lt;js&gt;.r(&lt;eval&gt;:1)\r\n\t&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\r\n\t&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\r\n\t&lt;js&gt;.r(&lt;eval&gt;:1)\r\n\t&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\r\n\t&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\r\n\t&lt;js&gt;.r(&lt;eval&gt;:1)\r\n\t&lt;js&gt;.:anonymous(&lt;eval&gt;:1)\r\n\t&lt;js&gt;.:program(&lt;eval&gt;:1)\r\n\torg.graalvm.polyglot.Context.eval(Context.java:344)\r\n","title":"org.graalvm.polyglot.PolyglotException: ReferenceError: document is not defined","body":"<blockquote>\n<p>I am using Spring boot 2.4.4, JDK 1.8, and created ScriptEngine as shown.\nPage loaded perfectly for the first time but the second time it throws the exception mentioned below.</p>\n</blockquote>\n<pre><code>@Bean\npublic ScriptEngine scriptEngine() {\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;graal.js&quot;);\n    Bindings bindings = engine.getBindings(ScriptContext.ENGINE_SCOPE);\n    bindings.put(&quot;polyglot.js.allowAllAccess&quot;, true);\n    bindings.put(&quot;polyglot.js.allowHostClassLookup&quot;, true);\n    //engine.setBindings(bindings, ScriptContext.GLOBAL_SCOPE);\n    return engine;\n}\n\norg.graalvm.polyglot.PolyglotException: ReferenceError: document is not defined\n&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\n&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\n&lt;js&gt;.r(&lt;eval&gt;:1)\n&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\n&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\n&lt;js&gt;.r(&lt;eval&gt;:1)\n&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\n&lt;js&gt;.:anonymous(&lt;eval&gt;:13)\n&lt;js&gt;.r(&lt;eval&gt;:1)\n&lt;js&gt;.:anonymous(&lt;eval&gt;:1)\n&lt;js&gt;.:program(&lt;eval&gt;:1)\norg.graalvm.polyglot.Context.eval(Context.java:344)\n</code></pre>\n"},{"tags":["java","jquery","ajax","spring","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":2058163,"reputation":1882,"user_id":1835378,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1357279051,"creation_date":1357279051,"answer_id":14151862,"question_id":14151383,"body_markdown":"Try this \r\n\r\n            $.ajax({\r\n            url:&#39;anki&#39;,\r\n            type:&#39;POST&#39;,\r\n            data:JSON.stringify(eval({&quot;name&quot;:&quot;me&quot;})),\r\n            dataType: &#39;json&#39;,\r\n            contentType: &#39;application/json&#39;,    \r\n            success:function(data){\r\n            alert(&#39;here gain&#39;);\r\n\r\n           //  $(&#39;#time&#39;).html(data.name);\r\n\r\n\r\n        }\r\n        });\r\n\r\nDont forget to change the Method to POST in your controller\r\n\r\n    method=RequestMethod.POST \r\n\r\n","title":"In Spring mvc application, @RequestBody is throwing java.io.EOFException","body":"<p>Try this </p>\n\n<pre><code>        $.ajax({\n        url:'anki',\n        type:'POST',\n        data:JSON.stringify(eval({\"name\":\"me\"})),\n        dataType: 'json',\n        contentType: 'application/json',    \n        success:function(data){\n        alert('here gain');\n\n       //  $('#time').html(data.name);\n\n\n    }\n    });\n</code></pre>\n\n<p>Dont forget to change the Method to POST in your controller</p>\n\n<pre><code>method=RequestMethod.POST \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16787422,"reputation":1,"user_id":12136022,"display_name":"Saurabh Kutwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649961038,"creation_date":1649961038,"answer_id":71876168,"question_id":14151383,"body_markdown":"The GET method will not work because it will send the data in the URL and not in the request body. \r\n@RequestBody expects data to be present in body of request. Changing the http method to POST will resolve the error.","title":"In Spring mvc application, @RequestBody is throwing java.io.EOFException","body":"<p>The GET method will not work because it will send the data in the URL and not in the request body.\n@RequestBody expects data to be present in body of request. Changing the http method to POST will resolve the error.</p>\n"}],"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14151862,"answer_count":2,"score":0,"last_activity_date":1649961038,"creation_date":1357276177,"question_id":14151383,"body_markdown":"        In the jsp i am passing the data as json,as in the controller method i am trying to map the data to  Personbean object using @RequestMapping. But its throwing an exception.\r\n@ResponseBody is working fine, if i remove the @ResponseBody code.\r\n    Please suggest what am i doing wrong?\r\n    I have pasted the code for reference.\r\n    \r\n    \r\n    //jsp    (added the data as json and also content type)\r\n        &lt;script&gt;\r\n        \tfunction abc(){\r\n        \t\talert(&#39;here!!&#39;);\r\n        \t\t\r\n        \r\n        \t\t\r\n        \t\t$.ajax({\r\n        \t\t\turl:&#39;anki&#39;,\r\n        \t\t\ttype:&#39;GET&#39;,\r\n        \t\t\tdata:({name:&quot;me&quot;}),\r\n        \t\t\tdataType: &#39;json&#39;,\r\n        \t\t\tcontentType: &#39;application/json&#39;,\t\r\n        \t\t\tsuccess:function(data){\r\n        \t\t\talert(&#39;here gain&#39;);\r\n        \t\t\t\t\r\n        \t\t\t $(&#39;#time&#39;).html(data.name);\r\n        \t\t\t\t\r\n        \t\t\r\n        \t\t}\r\n        \t\t});\r\n        \t}\r\n        \t&lt;/script&gt;\r\n        &lt;input type=&quot;button&quot; name=&quot;submit&quot; title=&quot;submit&quot; onclick=&quot;abc()&quot;/&gt;\r\n        &lt;div id=&quot;time&quot;&gt;&lt;/div&gt;\r\n        \r\n    \r\n    //PersonBean (Bean class)\r\n    \r\n    package com.controller;\r\n    \r\n    public class Personbean {\r\n    \tprivate String name;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n    \r\n        // controller method\r\n//(Trying to use both  @ResponseBody and @RequestBody in this method)\r\n        \r\n        @RequestMapping(value=&quot;/anki&quot;,method=RequestMethod.GET)\r\n        \tpublic @ResponseBody EmployeeBean hhh(@RequestBody Personbean pb){\r\n        \t\tSystem.out.println(pb.getName());\r\n        \t\tSystem.out.println(&quot;new method&quot;);\r\n        \t\tEmployeeBean e=new EmployeeBean();\r\n        \t\te.setId(&quot;1001&quot;);\r\n        \t\te.setName(&quot;ankita&quot;);\r\n        \t\treturn e;\r\n        \t}\r\n      \r\n    //i have added the &quot;jacksonMessageConverter&quot; in the dispatcher servlet\r\n        \r\n        //dispatcher servlet\r\n        \r\n        &lt;bean id=&quot;jacksonMessageConverter&quot; class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt;&lt;/bean&gt;\r\n         &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n        &lt;property name=&quot;messageConverters&quot;&gt;\r\n          &lt;list&gt;\r\n            &lt;ref bean=&quot;jacksonMessageConverter&quot;/&gt;\r\n             &lt;/list&gt;\r\n        &lt;/property&gt;\r\n        \r\n        \r\n    \r\n    //Exception stacktrace(For reference)\r\n        \r\n        java.io.EOFException: No content to map to Object due to end of input\r\n        \tat org.codehaus.jackson.map.ObjectMapper._initForReading(ObjectMapper.java:2444)\r\n        \tat org.codehaus.jackson.map.ObjectMapper._readMapAndClose(ObjectMapper.java:2396)\r\n        \tat org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1662)\r\n        \tat org.springframework.http.converter.json.MappingJacksonHttpMessageConverter.readInternal(MappingJacksonHttpMessageConverter.java:124)\r\n        \tat org.springframework.http.converter.AbstractHttpMessageConverter.read(AbstractHttpMessageConverter.java:154)\r\n        \tat org.springframework.web.bind.annotation.support.HandlerMethodInvoker.readWithMessageConverters(HandlerMethodInvoker.java:633)\r\n        \tat org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveRequestBody(HandlerMethodInvoker.java:597)\r\n        \tat org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveHandlerArguments(HandlerMethodInvoker.java:346)\r\n        \tat org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:171)\r\n        \tat org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:436)\r\n        \tat org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:424)\r\n        \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)\r\n        \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:669)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:574)\r\n        \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n        \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n        \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)\r\n        \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)\r\n        \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n        \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\r\n        \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n        \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)\r\n        \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n        \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:394)\r\n        \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:243)\r\n        \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)\r\n        \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\n\r\n\r\n","title":"In Spring mvc application, @RequestBody is throwing java.io.EOFException","body":"<pre><code>    In the jsp i am passing the data as json,as in the controller method i am trying to map the data to  Personbean object using @RequestMapping. But its throwing an exception.\n</code></pre>\n\n<p>@ResponseBody is working fine, if i remove the @ResponseBody code.\n    Please suggest what am i doing wrong?\n    I have pasted the code for reference.</p>\n\n<pre><code>//jsp    (added the data as json and also content type)\n    &lt;script&gt;\n        function abc(){\n            alert('here!!');\n\n\n\n            $.ajax({\n                url:'anki',\n                type:'GET',\n                data:({name:\"me\"}),\n                dataType: 'json',\n                contentType: 'application/json',    \n                success:function(data){\n                alert('here gain');\n\n                 $('#time').html(data.name);\n\n\n            }\n            });\n        }\n        &lt;/script&gt;\n    &lt;input type=\"button\" name=\"submit\" title=\"submit\" onclick=\"abc()\"/&gt;\n    &lt;div id=\"time\"&gt;&lt;/div&gt;\n\n\n//PersonBean (Bean class)\n\npackage com.controller;\n\npublic class Personbean {\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n\n}\n\n    // controller method\n</code></pre>\n\n<p>//(Trying to use both  @ResponseBody and @RequestBody in this method)</p>\n\n<pre><code>    @RequestMapping(value=\"/anki\",method=RequestMethod.GET)\n        public @ResponseBody EmployeeBean hhh(@RequestBody Personbean pb){\n            System.out.println(pb.getName());\n            System.out.println(\"new method\");\n            EmployeeBean e=new EmployeeBean();\n            e.setId(\"1001\");\n            e.setName(\"ankita\");\n            return e;\n        }\n\n//i have added the \"jacksonMessageConverter\" in the dispatcher servlet\n\n    //dispatcher servlet\n\n    &lt;bean id=\"jacksonMessageConverter\" class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\"&gt;&lt;/bean&gt;\n     &lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n      &lt;list&gt;\n        &lt;ref bean=\"jacksonMessageConverter\"/&gt;\n         &lt;/list&gt;\n    &lt;/property&gt;\n\n\n\n//Exception stacktrace(For reference)\n\n    java.io.EOFException: No content to map to Object due to end of input\n        at org.codehaus.jackson.map.ObjectMapper._initForReading(ObjectMapper.java:2444)\n        at org.codehaus.jackson.map.ObjectMapper._readMapAndClose(ObjectMapper.java:2396)\n        at org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1662)\n        at org.springframework.http.converter.json.MappingJacksonHttpMessageConverter.readInternal(MappingJacksonHttpMessageConverter.java:124)\n        at org.springframework.http.converter.AbstractHttpMessageConverter.read(AbstractHttpMessageConverter.java:154)\n        at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.readWithMessageConverters(HandlerMethodInvoker.java:633)\n        at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveRequestBody(HandlerMethodInvoker.java:597)\n        at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveHandlerArguments(HandlerMethodInvoker.java:346)\n        at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:171)\n        at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:436)\n        at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:424)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:669)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:574)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:394)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:243)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","c"],"comments":[{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1649963685,"post_id":71875326,"comment_id":127013100,"body_markdown":"I know nasal demons, but this is still very surprising to me. What compiler/system are you on and what is the answer? There are 3 types of integer representations mandated by C17-: `int8_t 127+1` equals, 1&#39;s -127, 2&#39;s -128, SM -0.","body":"I know nasal demons, but this is still very surprising to me. What compiler/system are you on and what is the answer? There are 3 types of integer representations mandated by C17-: <code>int8_t 127+1</code> equals, 1&#39;s -127, 2&#39;s -128, SM -0."},{"owner":{"account_id":16805054,"reputation":22950,"user_id":12149471,"display_name":"Andreas Wenzel"},"score":1,"creation_date":1649966084,"post_id":71875326,"comment_id":127013840,"body_markdown":"@Neil: I was able to reproduce the problem on [godbolt](https://godbolt.org/) using OP&#39;s code with the latest gcc compiler, but not with clang. When I added the [`-fwrapv`](https://gcc.gnu.org/onlinedocs/gcc/Code-Gen-Options.html#index-fwrapv) compiler command-line option, then OP&#39;s code also works on gcc.","body":"@Neil: I was able to reproduce the problem on <a href=\"https://godbolt.org/\" rel=\"nofollow noreferrer\">godbolt</a> using OP&#39;s code with the latest gcc compiler, but not with clang. When I added the <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Code-Gen-Options.html#index-fwrapv\" rel=\"nofollow noreferrer\"><code>-fwrapv</code></a> compiler command-line option, then OP&#39;s code also works on gcc."}],"answers":[{"tags":[],"owner":{"account_id":16805054,"reputation":22950,"user_id":12149471,"display_name":"Andreas Wenzel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1649960590,"creation_date":1649956738,"answer_id":71875468,"question_id":71875326,"body_markdown":"Your code seems to falsely assume that in C, an `int` is guaranteed to wrap to a negative number on [overflow](https://en.wikipedia.org/wiki/Integer_overflow). This assumption is wrong. Such a signed integer overflow will invoke [undefined behavior](https://en.wikipedia.org/wiki/Undefined_behavior) in C, so you cannot rely on any specific behavior if you let that happen.\r\n\r\nIn order to find the largest representable value of an `int`, you can use the macro constant [`INT_MAX`](https://en.cppreference.com/w/c/types/limits), which is defined in `limits.h`.\r\n\r\nNote however that it is only **signed** integer overflow that invokes undefined behavior in C. In constrast to that, when using unsigned numbers, they are guaranteed to wrap in a well-defined manner. Therefore, you could find the largest representable `unsigned int` using your method.\r\n\r\nAlso, some compilers have a setting that will cause the behavior of signed integer overflow to become well-defined (assuming that your hardware supports it and uses [two&#39;s complement](https://en.wikipedia.org/wiki/Two&#39;s_complement) for representing signed numbers, which is probably the case). In gcc and clang, you can use the [`-fwrapv`](https://gcc.gnu.org/onlinedocs/gcc/Code-Gen-Options.html#index-fwrapv) compiler command-line option to achieve this.","title":"Find biggest value in C using overflow and loop","body":"<p>Your code seems to falsely assume that in C, an <code>int</code> is guaranteed to wrap to a negative number on <a href=\"https://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">overflow</a>. This assumption is wrong. Such a signed integer overflow will invoke <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow noreferrer\">undefined behavior</a> in C, so you cannot rely on any specific behavior if you let that happen.</p>\n<p>In order to find the largest representable value of an <code>int</code>, you can use the macro constant <a href=\"https://en.cppreference.com/w/c/types/limits\" rel=\"nofollow noreferrer\"><code>INT_MAX</code></a>, which is defined in <code>limits.h</code>.</p>\n<p>Note however that it is only <strong>signed</strong> integer overflow that invokes undefined behavior in C. In constrast to that, when using unsigned numbers, they are guaranteed to wrap in a well-defined manner. Therefore, you could find the largest representable <code>unsigned int</code> using your method.</p>\n<p>Also, some compilers have a setting that will cause the behavior of signed integer overflow to become well-defined (assuming that your hardware supports it and uses <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two's complement</a> for representing signed numbers, which is probably the case). In gcc and clang, you can use the <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Code-Gen-Options.html#index-fwrapv\" rel=\"nofollow noreferrer\"><code>-fwrapv</code></a> compiler command-line option to achieve this.</p>\n"}],"owner":{"account_id":20293138,"reputation":105,"user_id":14884359,"display_name":"NoCodeNoBlunder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71875468,"answer_count":1,"score":2,"last_activity_date":1649960590,"creation_date":1649956115,"question_id":71875326,"body_markdown":"The task is to find the biggest int value with a loop. I have the exact same code almost \r\nin C and in Java. In Java it works fine, but in C I get the smallest value instead and\r\nI would like to know why.\r\n\r\n**C**\r\n```c\r\n#include &lt;stdio.h&gt;\r\nint main() {\r\n    int i = 0;\r\n    for (; i+1 &gt; 0; i++) { }\r\n    printf(&quot;%d&quot;, i);\r\n    return 0;\r\n}\r\n```\r\n\r\n**Java**\r\n```java\r\npublic class Java {\r\n    public static void main(String[] args) {\r\n        int i = 0;\r\n        for (; i+1 &gt; 0; i++) { }\r\n        System.out.println(i);\r\n    }\r\n}\r\n```","title":"Find biggest value in C using overflow and loop","body":"<p>The task is to find the biggest int value with a loop. I have the exact same code almost\nin C and in Java. In Java it works fine, but in C I get the smallest value instead and\nI would like to know why.</p>\n<p><strong>C</strong></p>\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\nint main() {\n    int i = 0;\n    for (; i+1 &gt; 0; i++) { }\n    printf(&quot;%d&quot;, i);\n    return 0;\n}\n</code></pre>\n<p><strong>Java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Java {\n    public static void main(String[] args) {\n        int i = 0;\n        for (; i+1 &gt; 0; i++) { }\n        System.out.println(i);\n    }\n}\n</code></pre>\n"},{"tags":["java","wicket"],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649960445,"creation_date":1649960445,"answer_id":71876080,"question_id":71872709,"body_markdown":"Almost all Wicket dependencies are 8.14.0 but few are 8.13.0 (not really a problem but better keep them in sync):\r\n\r\n- org.apache.wicket:wicket-bean-validation:jar:8.13.0:compile\r\n- com.googlecode.wicket-jquery-ui:wicket-jquery-ui:jar:8.13.0:compile\r\n- com.googlecode.wicket-jquery-ui:wicket-jquery-ui-core:jar:8.13.0:compile\r\n\r\nThe real problem is:\r\n\r\n    [INFO] +- org.wicketstuff:wicketstuff-tinymce:jar:6.30.0:compile\r\n    [INFO] |  +- org.apache.wicket:wicket-extensions:jar:6.30.0:compile\r\n    [INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\r\n    [INFO] |  +- net.sf.jazzy:jazzy:jar:0.5.2-rtext-1.4.1:compile\r\n    [INFO] |  +- org.json:json:jar:20090211:compile\r\n    [INFO] |  \\- org.apache.wicket:wicket:pom:6.30.0:compile\r\n\r\nDo not mix Wicket deps with differences in the major version (8 vs 6)!","title":"java.lang.ClassNotFoundException: org.apache.wicket.settings.def.JavaScriptLibrarySettings","body":"<p>Almost all Wicket dependencies are 8.14.0 but few are 8.13.0 (not really a problem but better keep them in sync):</p>\n<ul>\n<li>org.apache.wicket:wicket-bean-validation:jar:8.13.0:compile</li>\n<li>com.googlecode.wicket-jquery-ui:wicket-jquery-ui:jar:8.13.0:compile</li>\n<li>com.googlecode.wicket-jquery-ui:wicket-jquery-ui-core:jar:8.13.0:compile</li>\n</ul>\n<p>The real problem is:</p>\n<pre><code>[INFO] +- org.wicketstuff:wicketstuff-tinymce:jar:6.30.0:compile\n[INFO] |  +- org.apache.wicket:wicket-extensions:jar:6.30.0:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\n[INFO] |  +- net.sf.jazzy:jazzy:jar:0.5.2-rtext-1.4.1:compile\n[INFO] |  +- org.json:json:jar:20090211:compile\n[INFO] |  \\- org.apache.wicket:wicket:pom:6.30.0:compile\n</code></pre>\n<p>Do not mix Wicket deps with differences in the major version (8 vs 6)!</p>\n"}],"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71876080,"answer_count":1,"score":0,"last_activity_date":1649960445,"creation_date":1649943997,"question_id":71872709,"body_markdown":"I have wicket application and it sometimes fails on :\r\n\r\n java.lang.NoClassDefFoundError: org/apache/wicket/settings/def/JavaScriptLibrarySettings\r\n    \tjava.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tjava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n    \tjava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n    \t\r\n\r\nI have this mvn configuration :\r\n\r\n    [INFO] com.dhl.crdb:crdb:war:1.2.2-SNAPSHOT\r\n    [INFO] +- com.dhl.webcommon:dhl-wc:jar:1.2.30.0:compile\r\n    [INFO] |  +- org.springframework:spring-tx:jar:5.3.18:compile\r\n    [INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.18:compile\r\n    [INFO] |  +- org.springframework:spring-webmvc:jar:5.3.18:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:5.3.18:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.18:compile\r\n    [INFO] |  +- org.springframework:spring-orm:jar:5.1.6.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.1.6.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:5.3.18:compile\r\n    [INFO] |  +- org.springframework:spring-expression:jar:5.3.18:compile\r\n    [INFO] |  +- org.springframework:spring-aop:jar:5.3.18:compile\r\n    [INFO] |  +- org.springframework:spring-aspects:jar:5.3.18:compile\r\n    [INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\r\n    [INFO] |  +- org.springframework:spring-jms:jar:5.3.18:compile\r\n    [INFO] |  |  \\- org.springframework:spring-messaging:jar:5.3.18:compile\r\n    [INFO] |  +- org.springframework:spring-context:jar:5.3.18:compile\r\n    [INFO] |  +- org.springframework:spring-context-support:jar:5.3.18:compile\r\n    [INFO] |  +- org.springframework.security:spring-security-core:jar:3.2.3.RELEASE:compile\r\n    [INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\r\n    [INFO] |  +- org.springframework.security:spring-security-web:jar:3.2.3.RELEASE:compile\r\n    [INFO] |  +- org.springframework.security:spring-security-config:jar:3.2.3.RELEASE:compile\r\n    [INFO] |  +- org.springframework.batch:spring-batch-core:jar:2.2.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.batch:spring-batch-infrastructure:jar:2.2.1.RELEASE:compile\r\n    [INFO] |  |  |  \\- org.springframework.retry:spring-retry:jar:1.0.2.RELEASE:compile\r\n    [INFO] |  |  +- com.thoughtworks.xstream:xstream:jar:1.3:compile\r\n    [INFO] |  |  |  \\- xpp3:xpp3_min:jar:1.1.4c:compile\r\n    [INFO] |  |  \\- org.codehaus.jettison:jettison:jar:1.1:compile\r\n    [INFO] |  +- org.springframework.ldap:spring-ldap-core:jar:1.3.2.RELEASE:compile\r\n    [INFO] |  +- org.apache.wicket:wicket-core:jar:8.14.0:compile\r\n    [INFO] |  |  +- com.github.openjson:openjson:jar:1.0.11:compile\r\n    [INFO] |  |  +- org.apache.wicket:wicket-request:jar:8.14.0:compile\r\n    [INFO] |  |  +- org.apache.wicket:wicket-util:jar:8.14.0:compile\r\n    [INFO] |  |  \\- org.danekja:jdk-serializable-functional:jar:1.8.6:compile\r\n    [INFO] |  +- org.apache.wicket:wicket-spring:jar:8.14.0:compile\r\n    [INFO] |  |  \\- org.apache.wicket:wicket-ioc:jar:8.14.0:compile\r\n    [INFO] |  |     +- cglib:cglib-nodep:jar:3.2.12:compile\r\n    [INFO] |  |     +- javax.inject:javax.inject:jar:1:compile\r\n    [INFO] |  |     \\- org.ow2.asm:asm-util:jar:7.1:compile\r\n    [INFO] |  |        +- org.ow2.asm:asm:jar:7.1:compile\r\n    [INFO] |  |        +- org.ow2.asm:asm-tree:jar:7.1:compile\r\n    [INFO] |  |        \\- org.ow2.asm:asm-analysis:jar:7.1:compile\r\n    [INFO] |  +- org.wicketstuff:wicketstuff-minis:jar:8.14.0:compile\r\n    [INFO] |  +- org.apache.wicket:wicket-bean-validation:jar:8.13.0:compile\r\n    [INFO] |  +- com.vaynberg.wicket.select2:wicket-select2:jar:4.1:compile\r\n    [INFO] |  +- cas:casclient:jar:2.1.1:compile\r\n    [INFO] |  |  \\- commons-logging:commons-logging:jar:1.0.4:compile\r\n    [INFO] |  +- org.jasig.cas:cas-client-core:jar:3.1.2:compile\r\n    [INFO] |  +- joda-time:joda-time-hibernate:jar:1.3:compile\r\n    [INFO] |  +- org.jadira.usertype:usertype.jodatime:jar:2.0.1:compile\r\n    [INFO] |  |  \\- org.jadira.usertype:usertype.spi:jar:2.0.1:compile\r\n    [INFO] |  +- org.hibernate:hibernate-core:jar:5.3.6.Final:compile\r\n    [INFO] |  |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\r\n    [INFO] |  |  +- org.javassist:javassist:jar:3.23.1-GA:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.8.17:compile\r\n    [INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\r\n    [INFO] |  |  +- org.jboss:jandex:jar:2.0.5.Final:compile\r\n    [INFO] |  |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n    [INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.4.Final:compile\r\n    [INFO] |  +- commons-dbcp:commons-dbcp:jar:1.4:compile\r\n    [INFO] |  |  \\- commons-pool:commons-pool:jar:1.5.4:compile\r\n    [INFO] |  +- org.hibernate:hibernate-ehcache:jar:5.3.6.Final:compile\r\n    [INFO] |  |  \\- net.sf.ehcache:ehcache:jar:2.10.3:compile\r\n    [INFO] |  +- com.ibm.icu:icu4j:jar:4.0.1:compile\r\n    [INFO] |  +- org.apache.xmlbeans:xmlbeans:jar:2.6.0:compile\r\n    [INFO] |  |  \\- stax:stax-api:jar:1.0.1:compile\r\n    [INFO] |  +- com.oracle:ojdbc16:jar:11.2.0.3.0:runtime\r\n    [INFO] |  +- commons-lang:commons-lang:jar:2.6:compile\r\n    [INFO] |  +- org.aspectj:aspectjrt:jar:1.5.4:compile\r\n    [INFO] |  +- log4j:log4j:jar:1.2.17:compile\r\n    [INFO] |  +- commons-io:commons-io:jar:2.4:compile\r\n    [INFO] |  +- org.hibernate:hibernate-envers:jar:5.3.6.Final:compile\r\n    [INFO] |  +- javax.mail:mail:jar:1.4.4:compile\r\n    [INFO] |  |  \\- javax.activation:activation:jar:1.1:compile\r\n    [INFO] |  +- com.code-troopers:wicket-editable-grid:jar:0.1:compile\r\n    [INFO] |  +- org.apache.cxf:cxf-rt-databinding-jaxb:jar:2.7.3:compile\r\n    [INFO] |  |  +- org.apache.cxf:cxf-api:jar:2.7.3:compile\r\n    [INFO] |  |  |  +- org.codehaus.woodstox:woodstox-core-asl:jar:4.1.4:runtime\r\n    [INFO] |  |  |  |  \\- org.codehaus.woodstox:stax2-api:jar:3.1.1:runtime\r\n    [INFO] |  |  |  +- org.apache.ws.xmlschema:xmlschema-core:jar:2.0.3:compile\r\n    [INFO] |  |  |  \\- wsdl4j:wsdl4j:jar:1.6.2:compile\r\n    [INFO] |  |  +- org.apache.cxf:cxf-rt-core:jar:2.7.3:compile\r\n    [INFO] |  |  +- com.sun.xml.bind:jaxb-impl:jar:2.1.13:compile\r\n    [INFO] |  |  \\- com.sun.xml.bind:jaxb-xjc:jar:2.1.13:compile\r\n    [INFO] |  +- org.apache.cxf:cxf-rt-frontend-jaxws:jar:2.7.3:compile\r\n    [INFO] |  |  +- xml-resolver:xml-resolver:jar:1.2:compile\r\n    [INFO] |  |  +- asm:asm:jar:3.3.1:compile\r\n    [INFO] |  |  +- org.apache.cxf:cxf-rt-bindings-soap:jar:2.7.3:compile\r\n    [INFO] |  |  +- org.apache.cxf:cxf-rt-bindings-xml:jar:2.7.3:compile\r\n    [INFO] |  |  +- org.apache.cxf:cxf-rt-frontend-simple:jar:2.7.3:compile\r\n    [INFO] |  |  \\- org.apache.cxf:cxf-rt-ws-addr:jar:2.7.3:compile\r\n    [INFO] |  |     \\- org.apache.cxf:cxf-rt-ws-policy:jar:2.7.3:compile\r\n    [INFO] |  |        \\- org.apache.neethi:neethi:jar:3.0.2:compile\r\n    [INFO] |  +- org.apache.cxf:cxf-rt-transports-http:jar:2.7.3:compile\r\n    [INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.4:compile\r\n    [INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.9.1:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.1:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.1:compile\r\n    [INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.9.1:compile\r\n    [INFO] |  |  \\- joda-time:joda-time:jar:2.7:compile\r\n    [INFO] |  +- com.googlecode.wicket-jquery-ui:wicket-jquery-ui:jar:8.13.0:compile\r\n    [INFO] |  |  \\- com.googlecode.wicket-jquery-ui:wicket-jquery-ui-core:jar:8.13.0:compile\r\n    [INFO] |  +- com.dhl.webcommon:saml-filter:jar:1.0.10.0:compile\r\n    [INFO] |  +- com.dhl.webcommon:dhl-dbc:jar:1.1.82.0:compile\r\n    [INFO] |  +- com.dhl.webcommon:dhl-resources:jar:1.1.160.0:compile\r\n    [INFO] |  \\- org.flywaydb:flyway-core:jar:4.0.3:compile\r\n    [INFO] +- org.codehaus.mojo:animal-sniffer-annotations:jar:1.14:compile\r\n    [INFO] +- javax.validation:validation-api:jar:2.0.1.Final:compile\r\n    [INFO] +- ch.qos.logback:logback-core:jar:1.2.3:compile\r\n    [INFO] +- ch.qos.logback:logback-classic:jar:1.2.3:compile\r\n    [INFO] +- org.slf4j:slf4j-api:jar:1.7.25:compile\r\n    [INFO] +- javax.xml.ws:jaxws-api:jar:2.2.12:compile\r\n    [INFO] |  \\- javax.xml.soap:javax.xml.soap-api:jar:1.3.5:compile\r\n    [INFO] +- javax.jws:javax.jws-api:jar:1.1:compile\r\n    [INFO] +- net.logstash.logback:logstash-logback-encoder:jar:6.3:compile\r\n    [INFO] +- org.codehaus.janino:janino:jar:3.0.6:compile\r\n    [INFO] |  \\- org.codehaus.janino:commons-compiler:jar:3.0.6:compile\r\n    [INFO] +- javax.annotation:javax.annotation-api:jar:1.3.2:compile\r\n    [INFO] +- org.springframework.security.oauth:spring-security-oauth2:jar:2.0.12.RELEASE:compile\r\n    [INFO] |  +- commons-codec:commons-codec:jar:1.9:compile\r\n    [INFO] |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\r\n    [INFO] |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\r\n    [INFO] +- net.ttddyy:datasource-proxy:jar:1.4.1:compile\r\n    [INFO] |  \\- org.mockito:mockito-core:jar:1.9.5:compile\r\n    [INFO] |     \\- org.objenesis:objenesis:jar:1.0:compile\r\n    [INFO] +- junit:junit:jar:4.11:test\r\n    [INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n    [INFO] +- org.hsqldb:hsqldb:jar:2.2.8:test\r\n    [INFO] +- org.mockito:mockito-all:jar:1.9.5:test\r\n    [INFO] +- javax.servlet:javax.servlet-api:jar:3.0.1:test\r\n    [INFO] +- com.jayway.jsonpath:json-path:jar:0.8.1:test\r\n    [INFO] |  \\- net.minidev:json-smart:jar:1.1.1:test\r\n    [INFO] +- com.jayway.jsonpath:json-path-assert:jar:0.8.1:test\r\n    [INFO] |  \\- org.hamcrest:hamcrest-library:jar:1.2.1:test\r\n    [INFO] +- org.wicketstuff:wicketstuff-tinymce:jar:6.30.0:compile\r\n    [INFO] |  +- org.apache.wicket:wicket-extensions:jar:6.30.0:compile\r\n    [INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\r\n    [INFO] |  +- net.sf.jazzy:jazzy:jar:0.5.2-rtext-1.4.1:compile\r\n    [INFO] |  +- org.json:json:jar:20090211:compile\r\n    [INFO] |  \\- org.apache.wicket:wicket:pom:6.30.0:compile\r\n    [INFO] +- javax.servlet:servlet-api:jar:2.5:provided\r\n    [INFO] +- org.apache.tika:tika-core:jar:1.17:compile\r\n    [INFO] +- org.hibernate.validator:hibernate-validator:jar:6.0.12.Final:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\r\n    [INFO] |  \\- com.fasterxml:classmate:jar:1.3.4:compile\r\n    [INFO] +- org.hibernate.validator:hibernate-validator-annotation-processor:jar:6.0.12.Final:compile\r\n    [INFO] +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.2.Final:compile\r\n    [INFO] +- org.apache.poi:poi:jar:3.17:compile\r\n    [INFO] +- org.apache.poi:poi-ooxml:jar:3.17:compile\r\n    [INFO] |  \\- com.github.virtuald:curvesapi:jar:1.04:compile\r\n    [INFO] +- org.apache.poi:ooxml-schemas:jar:1.1:compile\r\n    [INFO] +- org.apache.poi:poi-ooxml-schemas:jar:3.14:compile\r\n    [INFO] +- javax.xml.bind:jaxb-api:jar:2.2.11:compile\r\n    [INFO] +- io.springfox:springfox-swagger2:jar:2.9.2:compile\r\n    [INFO] |  +- io.swagger:swagger-annotations:jar:1.5.20:compile\r\n    [INFO] |  +- io.swagger:swagger-models:jar:1.5.20:compile\r\n    [INFO] |  +- io.springfox:springfox-spi:jar:2.9.2:compile\r\n    [INFO] |  |  \\- io.springfox:springfox-core:jar:2.9.2:compile\r\n    [INFO] |  +- io.springfox:springfox-schema:jar:2.9.2:compile\r\n    [INFO] |  +- io.springfox:springfox-swagger-common:jar:2.9.2:compile\r\n    [INFO] |  +- io.springfox:springfox-spring-web:jar:2.9.2:compile\r\n    [INFO] |  +- org.springframework.plugin:spring-plugin-core:jar:1.2.0.RELEASE:compile\r\n    [INFO] |  +- org.springframework.plugin:spring-plugin-metadata:jar:1.2.0.RELEASE:compile\r\n    [INFO] |  \\- org.mapstruct:mapstruct:jar:1.2.0.Final:compile\r\n    [INFO] +- io.springfox:springfox-swagger-ui:jar:2.9.2:compile\r\n    [INFO] +- com.google.guava:guava:jar:21.0:compile\r\n    [INFO] +- io.jsonwebtoken:jjwt:jar:0.7.0:compile\r\n    [INFO] +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n    [INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\r\n    [INFO] +- io.swagger:swagger-jaxrs:jar:1.6.0:compile\r\n    [INFO] |  +- io.swagger:swagger-core:jar:1.6.0:compile\r\n    [INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.2.1:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.10.1:compile\r\n    [INFO] |  |     \\- org.yaml:snakeyaml:jar:1.24:compile\r\n    [INFO] |  +- javax.ws.rs:jsr311-api:jar:1.1.1:compile\r\n    [INFO] |  \\- org.reflections:reflections:jar:0.9.11:compile\r\n    [INFO] +- org.owasp.esapi:esapi:jar:2.2.3.1:compile\r\n    [INFO] |  +- com.io7m.xom:xom:jar:1.2.10:compile\r\n    [INFO] |  +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\r\n    [INFO] |  +- commons-configuration:commons-configuration:jar:1.10:compile\r\n    [INFO] |  +- commons-fileupload:commons-fileupload:jar:1.3.3:compile\r\n    [INFO] |  +- org.apache-extras.beanshell:bsh:jar:2.0b6:compile\r\n    [INFO] |  +- org.owasp.antisamy:antisamy:jar:1.6.3:compile\r\n    [INFO] |  |  +- net.sourceforge.nekohtml:nekohtml:jar:1.9.22:compile\r\n    [INFO] |  |  +- org.apache.xmlgraphics:batik-css:jar:1.14:compile\r\n    [INFO] |  |  |  +- org.apache.xmlgraphics:batik-shared-resources:jar:1.14:compile\r\n    [INFO] |  |  |  +- org.apache.xmlgraphics:batik-util:jar:1.14:compile\r\n    [INFO] |  |  |  |  +- org.apache.xmlgraphics:batik-constants:jar:1.14:compile\r\n    [INFO] |  |  |  |  \\- org.apache.xmlgraphics:batik-i18n:jar:1.14:compile\r\n    [INFO] |  |  |  \\- org.apache.xmlgraphics:xmlgraphics-commons:jar:2.6:compile\r\n    [INFO] |  |  +- xerces:xercesImpl:jar:2.12.1:compile\r\n    [INFO] |  |  \\- xml-apis:xml-apis-ext:jar:1.3.04:compile\r\n    [INFO] |  \\- xml-apis:xml-apis:jar:1.4.01:compile\r\n    [INFO] \\- org.springframework:spring-test:jar:4.3.1.RELEASE:test\r\n\r\nCan someone please give me a point how to solve this issue? Im little stuck with it. In org.apache.wicket.settings there is JavaScriptLibrarySettings in wicket core. I dont know how to solve this issue, maybe there is some obsolate dependency. Thanks for help.\r\n","title":"java.lang.ClassNotFoundException: org.apache.wicket.settings.def.JavaScriptLibrarySettings","body":"<p>I have wicket application and it sometimes fails on :</p>\n<p>java.lang.NoClassDefFoundError: org/apache/wicket/settings/def/JavaScriptLibrarySettings\njava.base/java.lang.ClassLoader.defineClass1(Native Method)\njava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\njava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)</p>\n<p>I have this mvn configuration :</p>\n<pre><code>[INFO] com.dhl.crdb:crdb:war:1.2.2-SNAPSHOT\n[INFO] +- com.dhl.webcommon:dhl-wc:jar:1.2.30.0:compile\n[INFO] |  +- org.springframework:spring-tx:jar:5.3.18:compile\n[INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.18:compile\n[INFO] |  +- org.springframework:spring-webmvc:jar:5.3.18:compile\n[INFO] |  +- org.springframework:spring-core:jar:5.3.18:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.18:compile\n[INFO] |  +- org.springframework:spring-orm:jar:5.1.6.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.1.6.RELEASE:compile\n[INFO] |  +- org.springframework:spring-web:jar:5.3.18:compile\n[INFO] |  +- org.springframework:spring-expression:jar:5.3.18:compile\n[INFO] |  +- org.springframework:spring-aop:jar:5.3.18:compile\n[INFO] |  +- org.springframework:spring-aspects:jar:5.3.18:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\n[INFO] |  +- org.springframework:spring-jms:jar:5.3.18:compile\n[INFO] |  |  \\- org.springframework:spring-messaging:jar:5.3.18:compile\n[INFO] |  +- org.springframework:spring-context:jar:5.3.18:compile\n[INFO] |  +- org.springframework:spring-context-support:jar:5.3.18:compile\n[INFO] |  +- org.springframework.security:spring-security-core:jar:3.2.3.RELEASE:compile\n[INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  +- org.springframework.security:spring-security-web:jar:3.2.3.RELEASE:compile\n[INFO] |  +- org.springframework.security:spring-security-config:jar:3.2.3.RELEASE:compile\n[INFO] |  +- org.springframework.batch:spring-batch-core:jar:2.2.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.batch:spring-batch-infrastructure:jar:2.2.1.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework.retry:spring-retry:jar:1.0.2.RELEASE:compile\n[INFO] |  |  +- com.thoughtworks.xstream:xstream:jar:1.3:compile\n[INFO] |  |  |  \\- xpp3:xpp3_min:jar:1.1.4c:compile\n[INFO] |  |  \\- org.codehaus.jettison:jettison:jar:1.1:compile\n[INFO] |  +- org.springframework.ldap:spring-ldap-core:jar:1.3.2.RELEASE:compile\n[INFO] |  +- org.apache.wicket:wicket-core:jar:8.14.0:compile\n[INFO] |  |  +- com.github.openjson:openjson:jar:1.0.11:compile\n[INFO] |  |  +- org.apache.wicket:wicket-request:jar:8.14.0:compile\n[INFO] |  |  +- org.apache.wicket:wicket-util:jar:8.14.0:compile\n[INFO] |  |  \\- org.danekja:jdk-serializable-functional:jar:1.8.6:compile\n[INFO] |  +- org.apache.wicket:wicket-spring:jar:8.14.0:compile\n[INFO] |  |  \\- org.apache.wicket:wicket-ioc:jar:8.14.0:compile\n[INFO] |  |     +- cglib:cglib-nodep:jar:3.2.12:compile\n[INFO] |  |     +- javax.inject:javax.inject:jar:1:compile\n[INFO] |  |     \\- org.ow2.asm:asm-util:jar:7.1:compile\n[INFO] |  |        +- org.ow2.asm:asm:jar:7.1:compile\n[INFO] |  |        +- org.ow2.asm:asm-tree:jar:7.1:compile\n[INFO] |  |        \\- org.ow2.asm:asm-analysis:jar:7.1:compile\n[INFO] |  +- org.wicketstuff:wicketstuff-minis:jar:8.14.0:compile\n[INFO] |  +- org.apache.wicket:wicket-bean-validation:jar:8.13.0:compile\n[INFO] |  +- com.vaynberg.wicket.select2:wicket-select2:jar:4.1:compile\n[INFO] |  +- cas:casclient:jar:2.1.1:compile\n[INFO] |  |  \\- commons-logging:commons-logging:jar:1.0.4:compile\n[INFO] |  +- org.jasig.cas:cas-client-core:jar:3.1.2:compile\n[INFO] |  +- joda-time:joda-time-hibernate:jar:1.3:compile\n[INFO] |  +- org.jadira.usertype:usertype.jodatime:jar:2.0.1:compile\n[INFO] |  |  \\- org.jadira.usertype:usertype.spi:jar:2.0.1:compile\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.3.6.Final:compile\n[INFO] |  |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\n[INFO] |  |  +- org.javassist:javassist:jar:3.23.1-GA:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.8.17:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.0.5.Final:compile\n[INFO] |  |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.4.Final:compile\n[INFO] |  +- commons-dbcp:commons-dbcp:jar:1.4:compile\n[INFO] |  |  \\- commons-pool:commons-pool:jar:1.5.4:compile\n[INFO] |  +- org.hibernate:hibernate-ehcache:jar:5.3.6.Final:compile\n[INFO] |  |  \\- net.sf.ehcache:ehcache:jar:2.10.3:compile\n[INFO] |  +- com.ibm.icu:icu4j:jar:4.0.1:compile\n[INFO] |  +- org.apache.xmlbeans:xmlbeans:jar:2.6.0:compile\n[INFO] |  |  \\- stax:stax-api:jar:1.0.1:compile\n[INFO] |  +- com.oracle:ojdbc16:jar:11.2.0.3.0:runtime\n[INFO] |  +- commons-lang:commons-lang:jar:2.6:compile\n[INFO] |  +- org.aspectj:aspectjrt:jar:1.5.4:compile\n[INFO] |  +- log4j:log4j:jar:1.2.17:compile\n[INFO] |  +- commons-io:commons-io:jar:2.4:compile\n[INFO] |  +- org.hibernate:hibernate-envers:jar:5.3.6.Final:compile\n[INFO] |  +- javax.mail:mail:jar:1.4.4:compile\n[INFO] |  |  \\- javax.activation:activation:jar:1.1:compile\n[INFO] |  +- com.code-troopers:wicket-editable-grid:jar:0.1:compile\n[INFO] |  +- org.apache.cxf:cxf-rt-databinding-jaxb:jar:2.7.3:compile\n[INFO] |  |  +- org.apache.cxf:cxf-api:jar:2.7.3:compile\n[INFO] |  |  |  +- org.codehaus.woodstox:woodstox-core-asl:jar:4.1.4:runtime\n[INFO] |  |  |  |  \\- org.codehaus.woodstox:stax2-api:jar:3.1.1:runtime\n[INFO] |  |  |  +- org.apache.ws.xmlschema:xmlschema-core:jar:2.0.3:compile\n[INFO] |  |  |  \\- wsdl4j:wsdl4j:jar:1.6.2:compile\n[INFO] |  |  +- org.apache.cxf:cxf-rt-core:jar:2.7.3:compile\n[INFO] |  |  +- com.sun.xml.bind:jaxb-impl:jar:2.1.13:compile\n[INFO] |  |  \\- com.sun.xml.bind:jaxb-xjc:jar:2.1.13:compile\n[INFO] |  +- org.apache.cxf:cxf-rt-frontend-jaxws:jar:2.7.3:compile\n[INFO] |  |  +- xml-resolver:xml-resolver:jar:1.2:compile\n[INFO] |  |  +- asm:asm:jar:3.3.1:compile\n[INFO] |  |  +- org.apache.cxf:cxf-rt-bindings-soap:jar:2.7.3:compile\n[INFO] |  |  +- org.apache.cxf:cxf-rt-bindings-xml:jar:2.7.3:compile\n[INFO] |  |  +- org.apache.cxf:cxf-rt-frontend-simple:jar:2.7.3:compile\n[INFO] |  |  \\- org.apache.cxf:cxf-rt-ws-addr:jar:2.7.3:compile\n[INFO] |  |     \\- org.apache.cxf:cxf-rt-ws-policy:jar:2.7.3:compile\n[INFO] |  |        \\- org.apache.neethi:neethi:jar:3.0.2:compile\n[INFO] |  +- org.apache.cxf:cxf-rt-transports-http:jar:2.7.3:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.4:compile\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.9.1:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.1:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.1:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.9.1:compile\n[INFO] |  |  \\- joda-time:joda-time:jar:2.7:compile\n[INFO] |  +- com.googlecode.wicket-jquery-ui:wicket-jquery-ui:jar:8.13.0:compile\n[INFO] |  |  \\- com.googlecode.wicket-jquery-ui:wicket-jquery-ui-core:jar:8.13.0:compile\n[INFO] |  +- com.dhl.webcommon:saml-filter:jar:1.0.10.0:compile\n[INFO] |  +- com.dhl.webcommon:dhl-dbc:jar:1.1.82.0:compile\n[INFO] |  +- com.dhl.webcommon:dhl-resources:jar:1.1.160.0:compile\n[INFO] |  \\- org.flywaydb:flyway-core:jar:4.0.3:compile\n[INFO] +- org.codehaus.mojo:animal-sniffer-annotations:jar:1.14:compile\n[INFO] +- javax.validation:validation-api:jar:2.0.1.Final:compile\n[INFO] +- ch.qos.logback:logback-core:jar:1.2.3:compile\n[INFO] +- ch.qos.logback:logback-classic:jar:1.2.3:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.25:compile\n[INFO] +- javax.xml.ws:jaxws-api:jar:2.2.12:compile\n[INFO] |  \\- javax.xml.soap:javax.xml.soap-api:jar:1.3.5:compile\n[INFO] +- javax.jws:javax.jws-api:jar:1.1:compile\n[INFO] +- net.logstash.logback:logstash-logback-encoder:jar:6.3:compile\n[INFO] +- org.codehaus.janino:janino:jar:3.0.6:compile\n[INFO] |  \\- org.codehaus.janino:commons-compiler:jar:3.0.6:compile\n[INFO] +- javax.annotation:javax.annotation-api:jar:1.3.2:compile\n[INFO] +- org.springframework.security.oauth:spring-security-oauth2:jar:2.0.12.RELEASE:compile\n[INFO] |  +- commons-codec:commons-codec:jar:1.9:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\n[INFO] |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\n[INFO] +- net.ttddyy:datasource-proxy:jar:1.4.1:compile\n[INFO] |  \\- org.mockito:mockito-core:jar:1.9.5:compile\n[INFO] |     \\- org.objenesis:objenesis:jar:1.0:compile\n[INFO] +- junit:junit:jar:4.11:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] +- org.hsqldb:hsqldb:jar:2.2.8:test\n[INFO] +- org.mockito:mockito-all:jar:1.9.5:test\n[INFO] +- javax.servlet:javax.servlet-api:jar:3.0.1:test\n[INFO] +- com.jayway.jsonpath:json-path:jar:0.8.1:test\n[INFO] |  \\- net.minidev:json-smart:jar:1.1.1:test\n[INFO] +- com.jayway.jsonpath:json-path-assert:jar:0.8.1:test\n[INFO] |  \\- org.hamcrest:hamcrest-library:jar:1.2.1:test\n[INFO] +- org.wicketstuff:wicketstuff-tinymce:jar:6.30.0:compile\n[INFO] |  +- org.apache.wicket:wicket-extensions:jar:6.30.0:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\n[INFO] |  +- net.sf.jazzy:jazzy:jar:0.5.2-rtext-1.4.1:compile\n[INFO] |  +- org.json:json:jar:20090211:compile\n[INFO] |  \\- org.apache.wicket:wicket:pom:6.30.0:compile\n[INFO] +- javax.servlet:servlet-api:jar:2.5:provided\n[INFO] +- org.apache.tika:tika-core:jar:1.17:compile\n[INFO] +- org.hibernate.validator:hibernate-validator:jar:6.0.12.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\n[INFO] |  \\- com.fasterxml:classmate:jar:1.3.4:compile\n[INFO] +- org.hibernate.validator:hibernate-validator-annotation-processor:jar:6.0.12.Final:compile\n[INFO] +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.2.Final:compile\n[INFO] +- org.apache.poi:poi:jar:3.17:compile\n[INFO] +- org.apache.poi:poi-ooxml:jar:3.17:compile\n[INFO] |  \\- com.github.virtuald:curvesapi:jar:1.04:compile\n[INFO] +- org.apache.poi:ooxml-schemas:jar:1.1:compile\n[INFO] +- org.apache.poi:poi-ooxml-schemas:jar:3.14:compile\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.2.11:compile\n[INFO] +- io.springfox:springfox-swagger2:jar:2.9.2:compile\n[INFO] |  +- io.swagger:swagger-annotations:jar:1.5.20:compile\n[INFO] |  +- io.swagger:swagger-models:jar:1.5.20:compile\n[INFO] |  +- io.springfox:springfox-spi:jar:2.9.2:compile\n[INFO] |  |  \\- io.springfox:springfox-core:jar:2.9.2:compile\n[INFO] |  +- io.springfox:springfox-schema:jar:2.9.2:compile\n[INFO] |  +- io.springfox:springfox-swagger-common:jar:2.9.2:compile\n[INFO] |  +- io.springfox:springfox-spring-web:jar:2.9.2:compile\n[INFO] |  +- org.springframework.plugin:spring-plugin-core:jar:1.2.0.RELEASE:compile\n[INFO] |  +- org.springframework.plugin:spring-plugin-metadata:jar:1.2.0.RELEASE:compile\n[INFO] |  \\- org.mapstruct:mapstruct:jar:1.2.0.Final:compile\n[INFO] +- io.springfox:springfox-swagger-ui:jar:2.9.2:compile\n[INFO] +- com.google.guava:guava:jar:21.0:compile\n[INFO] +- io.jsonwebtoken:jjwt:jar:0.7.0:compile\n[INFO] +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\n[INFO] +- io.swagger:swagger-jaxrs:jar:1.6.0:compile\n[INFO] |  +- io.swagger:swagger-core:jar:1.6.0:compile\n[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.2.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.10.1:compile\n[INFO] |  |     \\- org.yaml:snakeyaml:jar:1.24:compile\n[INFO] |  +- javax.ws.rs:jsr311-api:jar:1.1.1:compile\n[INFO] |  \\- org.reflections:reflections:jar:0.9.11:compile\n[INFO] +- org.owasp.esapi:esapi:jar:2.2.3.1:compile\n[INFO] |  +- com.io7m.xom:xom:jar:1.2.10:compile\n[INFO] |  +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |  +- commons-configuration:commons-configuration:jar:1.10:compile\n[INFO] |  +- commons-fileupload:commons-fileupload:jar:1.3.3:compile\n[INFO] |  +- org.apache-extras.beanshell:bsh:jar:2.0b6:compile\n[INFO] |  +- org.owasp.antisamy:antisamy:jar:1.6.3:compile\n[INFO] |  |  +- net.sourceforge.nekohtml:nekohtml:jar:1.9.22:compile\n[INFO] |  |  +- org.apache.xmlgraphics:batik-css:jar:1.14:compile\n[INFO] |  |  |  +- org.apache.xmlgraphics:batik-shared-resources:jar:1.14:compile\n[INFO] |  |  |  +- org.apache.xmlgraphics:batik-util:jar:1.14:compile\n[INFO] |  |  |  |  +- org.apache.xmlgraphics:batik-constants:jar:1.14:compile\n[INFO] |  |  |  |  \\- org.apache.xmlgraphics:batik-i18n:jar:1.14:compile\n[INFO] |  |  |  \\- org.apache.xmlgraphics:xmlgraphics-commons:jar:2.6:compile\n[INFO] |  |  +- xerces:xercesImpl:jar:2.12.1:compile\n[INFO] |  |  \\- xml-apis:xml-apis-ext:jar:1.3.04:compile\n[INFO] |  \\- xml-apis:xml-apis:jar:1.4.01:compile\n[INFO] \\- org.springframework:spring-test:jar:4.3.1.RELEASE:test\n</code></pre>\n<p>Can someone please give me a point how to solve this issue? Im little stuck with it. In org.apache.wicket.settings there is JavaScriptLibrarySettings in wicket core. I dont know how to solve this issue, maybe there is some obsolate dependency. Thanks for help.</p>\n"},{"tags":["java","spring-boot","spring-mvc","velocity","spring-context"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649960257,"creation_date":1649960257,"answer_id":71876046,"question_id":71872568,"body_markdown":"This won’t work as Spring Boot 2.6 requires Spring Framework 5.3. Velocity support was [deprecated in Spring Framework 4.3](https://github.com/spring-projects/spring-framework/issues/17826) and removed in 5.0. If you want to use an up-to-date and supported version of Spring Boot (2.5.x or 2.6.x at the time of writing), you should migrate to an alternative templating engine. ","title":"Cannot access org.springframework.ui.velocity.VelocityEngineFactory Method setVelocityEngine()","body":"<p>This won’t work as Spring Boot 2.6 requires Spring Framework 5.3. Velocity support was <a href=\"https://github.com/spring-projects/spring-framework/issues/17826\" rel=\"nofollow noreferrer\">deprecated in Spring Framework 4.3</a> and removed in 5.0. If you want to use an up-to-date and supported version of Spring Boot (2.5.x or 2.6.x at the time of writing), you should migrate to an alternative templating engine.</p>\n"}],"owner":{"account_id":16254861,"reputation":3,"user_id":11737739,"display_name":"Coru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71876046,"answer_count":1,"score":0,"last_activity_date":1649960257,"creation_date":1649943420,"question_id":71872568,"body_markdown":"i have upgraded my java web project from spring boot 1.5.22 to 2.6.6. During this Upgrade the Velocity package is not even deprecated, it got removed. I know that it is recommended to switch to FreeMarker, but as a quick fix i was trying to fix my project.\r\nFirst i included the following three dependencies to get the old velocity package and classes.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.25.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\nAfter this most of my code got fixed after some changes.\r\nThe last remaining problem in my configuration bean is my VelocityConfigurer. I am trying to init a VelocityEngine with some properties and to create a VelocityConfigurer with the freshly created VelocityEngine afterwards. Like i did it before the spring boot update.\r\n\r\n\r\n\r\n    import org.apache.velocity.app.Velocity;\r\n    import org.apache.velocity.app.VelocityEngine;\r\n    import org.apache.velocity.runtime.RuntimeConstants;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.web.servlet.view.velocity.VelocityConfigurer;\r\n\r\n    @Configuration\r\n    public class MailConfig {\r\n\r\n    @Bean\r\n    @Primary\r\n    public VelocityConfigurer velocityEngineBean() {\r\n\r\n        VelocityEngine engine = new VelocityEngine();\r\n        engine.setProperty(Velocity.RESOURCE_LOADER, &quot;ds&quot;);\r\n        engine.setProperty(&quot;ds.resource.loader.class&quot;, &quot;XXX.CustomDataResourceLoader&quot;);\r\n\r\n        engine.setProperty(&quot;spring.velocity.checkTemplateLocation=false&quot;, &quot;false&quot;);\r\n        engine.setProperty(&quot;spring.velocity.velocimacro.library&quot;, &quot;XXX.vm&quot;);\r\n\r\n        engine.setProperty(RuntimeConstants.RUNTIME_LOG_LOGSYSTEM_CLASS, Slf4jLogChute.class.getName());\r\n\r\n        engine.init();\r\n\r\n        VelocityConfigurer velocityConfigurer = new VelocityConfigurer();\r\n        velocityConfigurer.setVelocityEngine(engine);\r\n        return velocityConfigurer;\r\n    }\r\n\r\n}\r\n\r\nBut i get the following error. [Error: Cannot access org.springframework.ui.velocity.VelocityEngineFactory][1]\r\n\r\nI can figure out why it can access this method.\r\nThe .jar with the Class is there.[VelocityEngineFactory][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ip3S8.png\r\n  [2]: https://i.stack.imgur.com/h8MW8.png","title":"Cannot access org.springframework.ui.velocity.VelocityEngineFactory Method setVelocityEngine()","body":"<p>i have upgraded my java web project from spring boot 1.5.22 to 2.6.6. During this Upgrade the Velocity package is not even deprecated, it got removed. I know that it is recommended to switch to FreeMarker, but as a quick fix i was trying to fix my project.\nFirst i included the following three dependencies to get the old velocity package and classes.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.3.25.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;4.3.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n        &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After this most of my code got fixed after some changes.\nThe last remaining problem in my configuration bean is my VelocityConfigurer. I am trying to init a VelocityEngine with some properties and to create a VelocityConfigurer with the freshly created VelocityEngine afterwards. Like i did it before the spring boot update.</p>\n<pre><code>import org.apache.velocity.app.Velocity;\nimport org.apache.velocity.app.VelocityEngine;\nimport org.apache.velocity.runtime.RuntimeConstants;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.web.servlet.view.velocity.VelocityConfigurer;\n\n@Configuration\npublic class MailConfig {\n\n@Bean\n@Primary\npublic VelocityConfigurer velocityEngineBean() {\n\n    VelocityEngine engine = new VelocityEngine();\n    engine.setProperty(Velocity.RESOURCE_LOADER, &quot;ds&quot;);\n    engine.setProperty(&quot;ds.resource.loader.class&quot;, &quot;XXX.CustomDataResourceLoader&quot;);\n\n    engine.setProperty(&quot;spring.velocity.checkTemplateLocation=false&quot;, &quot;false&quot;);\n    engine.setProperty(&quot;spring.velocity.velocimacro.library&quot;, &quot;XXX.vm&quot;);\n\n    engine.setProperty(RuntimeConstants.RUNTIME_LOG_LOGSYSTEM_CLASS, Slf4jLogChute.class.getName());\n\n    engine.init();\n\n    VelocityConfigurer velocityConfigurer = new VelocityConfigurer();\n    velocityConfigurer.setVelocityEngine(engine);\n    return velocityConfigurer;\n}\n</code></pre>\n<p>}</p>\n<p>But i get the following error. <a href=\"https://i.stack.imgur.com/ip3S8.png\" rel=\"nofollow noreferrer\">Error: Cannot access org.springframework.ui.velocity.VelocityEngineFactory</a></p>\n<p>I can figure out why it can access this method.\nThe .jar with the Class is there.<a href=\"https://i.stack.imgur.com/h8MW8.png\" rel=\"nofollow noreferrer\">VelocityEngineFactory</a></p>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1649958845,"post_id":71875619,"comment_id":127011717,"body_markdown":"I don&#39;t notice the problem using JDK11 on Windows 10. Comments about the code: 1) Make sure the frame and its components are created on the `Event Dispatch Thread (EDT)`. 2) Swing components are double buffered by default.","body":"I don&#39;t notice the problem using JDK11 on Windows 10. Comments about the code: 1) Make sure the frame and its components are created on the <code>Event Dispatch Thread (EDT)</code>. 2) Swing components are double buffered by default."},{"owner":{"account_id":24939477,"reputation":33,"user_id":18805559,"display_name":"Henri Egger"},"score":0,"creation_date":1649959668,"post_id":71875619,"comment_id":127011949,"body_markdown":"I forgot to mention i am running Windows 11 and JDK 18. I&#39;m fairly new to programming and have not yet fully understood how threads work, i thought this is handled by default, if not how do i make sure the components are created on the EDT? Also thank&#39;s for the info.","body":"I forgot to mention i am running Windows 11 and JDK 18. I&#39;m fairly new to programming and have not yet fully understood how threads work, i thought this is handled by default, if not how do i make sure the components are created on the EDT? Also thank&#39;s for the info."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1649965247,"post_id":71875619,"comment_id":127013573,"body_markdown":"Do you have Windows screen scaling &gt; 100%?  If so, that can cause drawing artifacts.","body":"Do you have Windows screen scaling &gt; 100%?  If so, that can cause drawing artifacts."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1649972715,"post_id":71875619,"comment_id":127015548,"body_markdown":"`how do i make sure the components are created on the EDT?` - Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html). All the tutorial examples follow this approach;.","body":"<code>how do i make sure the components are created on the EDT?</code> - Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">Concurrency</a>. All the tutorial examples follow this approach;."},{"owner":{"account_id":24939477,"reputation":33,"user_id":18805559,"display_name":"Henri Egger"},"score":0,"creation_date":1650098794,"post_id":71875619,"comment_id":127039835,"body_markdown":"Indeed it was the screen scaling, i had it to 125% by default, setting it to 100 fixed the problem. Thank&#39;s a lot","body":"Indeed it was the screen scaling, i had it to 125% by default, setting it to 100 fixed the problem. Thank&#39;s a lot"}],"owner":{"account_id":24939477,"reputation":33,"user_id":18805559,"display_name":"Henri Egger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649959703,"creation_date":1649957567,"question_id":71875619,"body_markdown":"I want a `JPanel` which is currently black but will change color, inside of a `JFrame`. I only set the size of the panel and then call `.pack` on my frame, but an ugly white 1px line appears on the bottom and right side of my frame. Why is that and how can I fix it?\r\nI am currently running Windows 11.\r\n\r\n```\r\nimport javax.swing.JFrame;\r\n\r\npublic class Main {\r\n\t\r\n\tprivate static GamePanel gamePanel;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tcreateWindow();\r\n\t\t\r\n\t\tgamePanel = new GamePanel();\r\n\t\twindow.add(gamePanel);\r\n\t\t\r\n\t\twindow.pack();\r\n\t\twindow.setLocationRelativeTo(null);\r\n\t\twindow.setVisible(true);\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static JFrame window;\r\n\t\r\n\tprivate static void createWindow() {\r\n\t\twindow = new JFrame();\r\n\t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\twindow.setTitle(&quot;My Game&quot;);\r\n\t\twindow.setResizable(false);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport javax.swing.JPanel;\r\n\r\npublic class GamePanel extends JPanel {\r\n\t\r\n\t// Screen settings\r\n\tfinal int originalTileSize = 16;\r\n\tfinal int scaleFactor = 3;\r\n\t\r\n\tfinal int tileSize = originalTileSize * scaleFactor;\r\n\tfinal int maxScreenCol = 16;\r\n\tfinal int maxScreenRow = 12;\r\n\tfinal int screenWidth = maxScreenCol * tileSize;\r\n\tfinal int screenHeight = maxScreenRow * tileSize;\r\n\t\r\n\t// --- Constructor ---\r\n\tGamePanel () {\r\n\t\tthis.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setDoubleBuffered(true);\r\n\t}\r\n\t\r\n\tpublic int getScreenWidth () {\r\n\t\treturn screenWidth;\r\n\t}\r\n}\r\n```\r\n    \r\n","title":"How to get rid of white 1px line on bottom and right side of a JFrame?","body":"<p>I want a <code>JPanel</code> which is currently black but will change color, inside of a <code>JFrame</code>. I only set the size of the panel and then call <code>.pack</code> on my frame, but an ugly white 1px line appears on the bottom and right side of my frame. Why is that and how can I fix it?\nI am currently running Windows 11.</p>\n<pre><code>import javax.swing.JFrame;\n\npublic class Main {\n    \n    private static GamePanel gamePanel;\n\n    public static void main(String[] args) {\n        \n        createWindow();\n        \n        gamePanel = new GamePanel();\n        window.add(gamePanel);\n        \n        window.pack();\n        window.setLocationRelativeTo(null);\n        window.setVisible(true);\n        \n    }\n    \n    private static JFrame window;\n    \n    private static void createWindow() {\n        window = new JFrame();\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setTitle(&quot;My Game&quot;);\n        window.setResizable(false);\n    }\n    \n}\n</code></pre>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport javax.swing.JPanel;\n\npublic class GamePanel extends JPanel {\n    \n    // Screen settings\n    final int originalTileSize = 16;\n    final int scaleFactor = 3;\n    \n    final int tileSize = originalTileSize * scaleFactor;\n    final int maxScreenCol = 16;\n    final int maxScreenRow = 12;\n    final int screenWidth = maxScreenCol * tileSize;\n    final int screenHeight = maxScreenRow * tileSize;\n    \n    // --- Constructor ---\n    GamePanel () {\n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n        this.setBackground(Color.black);\n        this.setDoubleBuffered(true);\n    }\n    \n    public int getScreenWidth () {\n        return screenWidth;\n    }\n}\n</code></pre>\n"},{"tags":["java","bouncycastle","private-key","elliptic-curve","ed25519"],"comments":[{"owner":{"account_id":1044212,"reputation":3002,"user_id":1049542,"accept_rate":36,"display_name":"Sergey Ponomarev"},"score":0,"creation_date":1698860294,"post_id":71847121,"comment_id":136459452,"body_markdown":"related https://crypto.stackexchange.com/questions/99639/generating-and-validating-a-signature-with-ed25519-expanded-private-key","body":"related <a href=\"https://crypto.stackexchange.com/questions/99639/generating-and-validating-a-signature-with-ed25519-expanded-private-key\" title=\"generating and validating a signature with ed25519 expanded private key\">crypto.stackexchange.com/questions/99639/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649846361,"creation_date":1649846361,"answer_id":71856092,"question_id":71847121,"body_markdown":"BouncyCastle uses the RFC 8032 definition of the private key, which is basically a 32 byte seed. That seed is input to SHA512, which produces 64 bytes consisting of an &#39;internal&#39; 32 byte secret (&quot;s&quot;) and an additional 32 bytes pseudo-random value (&quot;h&quot;). It looks like Tor treats this latter 64 bytes (the output of SHA512) as the secret key, so this is incompatible.\r\n\r\nOf course it would be relatively straightforward to provide a way to work with these keys (at least in low-level utilities), but it doesn&#39;t exist yet.","title":"Generating and validating a signature with ED25519 expanded private key","body":"<p>BouncyCastle uses the RFC 8032 definition of the private key, which is basically a 32 byte seed. That seed is input to SHA512, which produces 64 bytes consisting of an 'internal' 32 byte secret (&quot;s&quot;) and an additional 32 bytes pseudo-random value (&quot;h&quot;). It looks like Tor treats this latter 64 bytes (the output of SHA512) as the secret key, so this is incompatible.</p>\n<p>Of course it would be relatively straightforward to provide a way to work with these keys (at least in low-level utilities), but it doesn't exist yet.</p>\n"}],"owner":{"account_id":13291251,"reputation":23,"user_id":9595647,"display_name":"Miliano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649959315,"creation_date":1649785706,"question_id":71847121,"body_markdown":"I am building a encrypted messaging app over tor network and currently I&#39;m struggling on using tor generated ed25519 private key to sign and verify any message.\r\n\r\nBelow piece of code works with a 32 bytes key however after skipping 32 header bytes of *hs_ed25519_secret_key* it fails to verify the signature on below cases:\r\n\r\n1 - secret: left half of the remaining 64 bytes, public: right half  \r\n2 - secret: left half of the remaining 64 bytes, public: last 32 bytes of *hs_ed25519_public_key* after removing the header  \r\n3 - secret: all 64 bytes, public: last 32 bytes of *hs_ed25519_public_key* \r\n\r\nI found a python library that seems to do this ***PyNaCl*** however i not familiar with py too much.   \r\n\r\nIs there something i am doing wrong or bouncycastle does not support expanded 64 bytes private keys \r\n\r\n```\r\nimport org.bouncycastle.crypto.Signer;\r\nimport org.bouncycastle.crypto.params.Ed25519PrivateKeyParameters;\r\nimport org.bouncycastle.crypto.params.Ed25519PublicKeyParameters;\r\nimport org.bouncycastle.crypto.signers.Ed25519Signer;\r\nimport java.nio.charset.StandardCharsets;\r\npublic class ED25519 {\r\n    public static void main(String[] args) throws Exception {\r\n        byte[] message = &quot;a msg to be signed&quot;.getBytes(StandardCharsets.UTF_8);\r\n        Signer signer = new Ed25519Signer();\r\n        signer.init(true,  new Ed25519PrivateKeyParameters(KeysUtil.myPrivKey, 0));\r\n        signer.update(message, 0, message.length);\r\n        Signer verifier = new Ed25519Signer();\r\n        verifier.init(false, new Ed25519PublicKeyParameters(KeysUtil.myPubKey, 0));\r\n        verifier.update(message, 0, message.length);\r\n        boolean validSig = verifier.verifySignature(signer.generateSignature());\r\n    }\r\n}\r\n\r\n```","title":"Generating and validating a signature with ED25519 expanded private key","body":"<p>I am building a encrypted messaging app over tor network and currently I'm struggling on using tor generated ed25519 private key to sign and verify any message.</p>\n<p>Below piece of code works with a 32 bytes key however after skipping 32 header bytes of <em>hs_ed25519_secret_key</em> it fails to verify the signature on below cases:</p>\n<p>1 - secret: left half of the remaining 64 bytes, public: right half<br />\n2 - secret: left half of the remaining 64 bytes, public: last 32 bytes of <em>hs_ed25519_public_key</em> after removing the header<br />\n3 - secret: all 64 bytes, public: last 32 bytes of <em>hs_ed25519_public_key</em></p>\n<p>I found a python library that seems to do this <em><strong>PyNaCl</strong></em> however i not familiar with py too much.</p>\n<p>Is there something i am doing wrong or bouncycastle does not support expanded 64 bytes private keys</p>\n<pre><code>import org.bouncycastle.crypto.Signer;\nimport org.bouncycastle.crypto.params.Ed25519PrivateKeyParameters;\nimport org.bouncycastle.crypto.params.Ed25519PublicKeyParameters;\nimport org.bouncycastle.crypto.signers.Ed25519Signer;\nimport java.nio.charset.StandardCharsets;\npublic class ED25519 {\n    public static void main(String[] args) throws Exception {\n        byte[] message = &quot;a msg to be signed&quot;.getBytes(StandardCharsets.UTF_8);\n        Signer signer = new Ed25519Signer();\n        signer.init(true,  new Ed25519PrivateKeyParameters(KeysUtil.myPrivKey, 0));\n        signer.update(message, 0, message.length);\n        Signer verifier = new Ed25519Signer();\n        verifier.init(false, new Ed25519PublicKeyParameters(KeysUtil.myPubKey, 0));\n        verifier.update(message, 0, message.length);\n        boolean validSig = verifier.verifySignature(signer.generateSignature());\n    }\n}\n\n</code></pre>\n"},{"tags":["java","maven","maven-plugin","maven-plugin-development"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649974233,"post_id":71875906,"comment_id":127015866,"body_markdown":"Generated code should not have dependencies on the plugin because they are completely separated. If you have such things best would be separate out those dependencies into a separate artifact which can be added as a usual dependency many tools do that for example antlr plugin (antlr-runtime).. etc?","body":"Generated code should not have dependencies on the plugin because they are completely separated. If you have such things best would be separate out those dependencies into a separate artifact which can be added as a usual dependency many tools do that for example antlr plugin (antlr-runtime).. etc?"},{"owner":{"account_id":6671432,"reputation":304,"user_id":5147466,"accept_rate":38,"display_name":"Venkata Rahul S"},"score":0,"creation_date":1650102528,"post_id":71875906,"comment_id":127040511,"body_markdown":"Separate the code to be shared into a new maven library project and add it as a ependency to both your plugin and the main project","body":"Separate the code to be shared into a new maven library project and add it as a ependency to both your plugin and the main project"}],"owner":{"account_id":20868012,"reputation":1,"user_id":15328610,"display_name":"Egor Malko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649959308,"creation_date":1649959308,"question_id":71875906,"body_markdown":"I developed my own maven plugin, which has a goal of generating sources. These sources have dependencies from my plugin code and are not compiling without it.\r\n\r\nIs there any way to add plugin code dependencies to generated sources? \r\nOr more precisely, is there any option beside adding plugin and dependencies separetly in pom?","title":"How add dependencies to generated sources","body":"<p>I developed my own maven plugin, which has a goal of generating sources. These sources have dependencies from my plugin code and are not compiling without it.</p>\n<p>Is there any way to add plugin code dependencies to generated sources?\nOr more precisely, is there any option beside adding plugin and dependencies separetly in pom?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1649939116,"post_id":71871513,"comment_id":127004335,"body_markdown":"you are not actually testing anything. please show a reproducible example","body":"you are not actually testing anything. please show a reproducible example"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1649939743,"post_id":71871513,"comment_id":127004568,"body_markdown":"the code you posted won&#39;t even compile, let alone that it can reproduce the issue","body":"the code you posted won&#39;t even compile, let alone that it can reproduce the issue"}],"answers":[{"tags":[],"owner":{"account_id":23095038,"reputation":146,"user_id":17205307,"display_name":"Johannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649946405,"creation_date":1649946405,"answer_id":71873243,"question_id":71871513,"body_markdown":"@ExtendWith(MockitoExtension.class) indicates you are using junit5. so make sure you also use the @Test annotation from junit5 and not junit4 ","title":"Java Mockito object is mocked but throws NullPointerException","body":"<p>@ExtendWith(MockitoExtension.class) indicates you are using junit5. so make sure you also use the @Test annotation from junit5 and not junit4</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649955162,"creation_date":1649955162,"answer_id":71875146,"question_id":71871513,"body_markdown":"You are using a mock of `Configuration`,\r\nbut you are not stubbing either the\r\n`configuration.getSourceClient()` method or\r\nthe `configuration.getDestinationClient()` method.\r\n\r\nBecause of this,\r\n`sourceClient` is null in the `SomeService.fetch()` method.","title":"Java Mockito object is mocked but throws NullPointerException","body":"<p>You are using a mock of <code>Configuration</code>,\nbut you are not stubbing either the\n<code>configuration.getSourceClient()</code> method or\nthe <code>configuration.getDestinationClient()</code> method.</p>\n<p>Because of this,\n<code>sourceClient</code> is null in the <code>SomeService.fetch()</code> method.</p>\n"}],"owner":{"account_id":22570426,"reputation":15,"user_id":16756665,"display_name":"javax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649958909,"creation_date":1649938852,"question_id":71871513,"body_markdown":"I&#39;m trying to mock my service class but I can&#39;t mock my service. \r\nThe service class:\r\n\r\n    @Service\r\n    class SomeService {\r\n      private final Mapper mapper;\r\n      private final Client sourceClient;\r\n      private final Client destinationClient;\r\n\r\n      public SomeService(Configuration configuration, Mapper mapper) {\r\n       this.mapper = mapper;\r\n       this.sourceClient = configuration.getSourceClient();\r\n       this.destinationClient = configuration.getDestinationClient();\r\n      }\r\n      private Object fetch() {\r\n       sourceClient.getData();\r\n      }\r\n\r\n     public List&lt;MyClass&gt; doLogic() {\r\n      // do some logic here...\r\n      Object dataFromClient = fetch()\r\n     }\r\n    }\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class SomeServiceTest {\r\n     @InjectMocks\r\n     private SomeService someService;\r\n     @Mock\r\n     private Client sourceClient;\r\n     @Mock Client destinationClient;\r\n     @Mock Configuration configuration;\r\n     @Mock Mapper mapper;\r\n\r\n     @Test\r\n     void test() {\r\n      // given\r\n       when(sourceClient.getData().getItems()).thenReturn(preparedData());\r\n      // when\r\n      someService.doLogic();\r\n     }\r\n\r\n     private Object prepareData() {\r\n      return new Object();\r\n     }\r\n\r\n\r\nI&#39;m getting NullPointerException as it is now. I&#39;ve noticed that the source of the problem is to call method getItems() in &#39;when(sourceClient.getData().getItems())&#39;. When there is just getData() there is no NullPointerException but I would like to use getData().getItems(). Is there any way to mock or spy on that methods ? I would like to avoid mocking just getData() because of the object required to mock it.","title":"Java Mockito object is mocked but throws NullPointerException","body":"<p>I'm trying to mock my service class but I can't mock my service.\nThe service class:</p>\n<pre><code>@Service\nclass SomeService {\n  private final Mapper mapper;\n  private final Client sourceClient;\n  private final Client destinationClient;\n\n  public SomeService(Configuration configuration, Mapper mapper) {\n   this.mapper = mapper;\n   this.sourceClient = configuration.getSourceClient();\n   this.destinationClient = configuration.getDestinationClient();\n  }\n  private Object fetch() {\n   sourceClient.getData();\n  }\n\n public List&lt;MyClass&gt; doLogic() {\n  // do some logic here...\n  Object dataFromClient = fetch()\n }\n}\n\n@ExtendWith(MockitoExtension.class)\nclass SomeServiceTest {\n @InjectMocks\n private SomeService someService;\n @Mock\n private Client sourceClient;\n @Mock Client destinationClient;\n @Mock Configuration configuration;\n @Mock Mapper mapper;\n\n @Test\n void test() {\n  // given\n   when(sourceClient.getData().getItems()).thenReturn(preparedData());\n  // when\n  someService.doLogic();\n }\n\n private Object prepareData() {\n  return new Object();\n }\n</code></pre>\n<p>I'm getting NullPointerException as it is now. I've noticed that the source of the problem is to call method getItems() in 'when(sourceClient.getData().getItems())'. When there is just getData() there is no NullPointerException but I would like to use getData().getItems(). Is there any way to mock or spy on that methods ? I would like to avoid mocking just getData() because of the object required to mock it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1649869277,"post_id":71861268,"comment_id":126987084,"body_markdown":"read up on regular expressions","body":"read up on regular expressions"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1649869307,"post_id":71861268,"comment_id":126987094,"body_markdown":"What do you intend by `line.indexOf(-2, -1)`? You are perhaps meaning to use `line.substring`, but you can&#39;t pass that negative arguments: `line.substring(line.length()-2, line.length()-1)` (although the -1 shouldn&#39;t be there).","body":"What do you intend by <code>line.indexOf(-2, -1)</code>? You are perhaps meaning to use <code>line.substring</code>, but you can&#39;t pass that negative arguments: <code>line.substring(line.length()-2, line.length()-1)</code> (although the -1 shouldn&#39;t be there)."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649869348,"post_id":71861268,"comment_id":126987111,"body_markdown":"The regex for a two digit number is `\\d\\d`","body":"The regex for a two digit number is <code>\\d\\d</code>"},{"owner":{"account_id":24105469,"reputation":11,"user_id":18076730,"display_name":"TheSwampyBogbeard"},"score":0,"creation_date":1649869378,"post_id":71861268,"comment_id":126987125,"body_markdown":"I tried using one of those in the index of method as well (&quot;[0-9]&quot;, -2) (which I think should start at the second to last index and go until it finds a number), however that was not working aswell.","body":"I tried using one of those in the index of method as well (&quot;[0-9]&quot;, -2) (which I think should start at the second to last index and go until it finds a number), however that was not working aswell."},{"owner":{"account_id":24105469,"reputation":11,"user_id":18076730,"display_name":"TheSwampyBogbeard"},"score":0,"creation_date":1649869458,"post_id":71861268,"comment_id":126987147,"body_markdown":"I might be using the wrong parameters for my intentions.  By using line.indexOf(-2, -1), I&#39;m trying to return a integer starting at the 2nd to last index of the string and ending at the last index of the string (which in my case would give 45).","body":"I might be using the wrong parameters for my intentions.  By using line.indexOf(-2, -1), I&#39;m trying to return a integer starting at the 2nd to last index of the string and ending at the last index of the string (which in my case would give 45)."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649872138,"creation_date":1649870384,"answer_id":71861525,"question_id":71861268,"body_markdown":"You could use a regular expression to parse the string. This just computes the average.  You can also assign the individual values as you deem appropriate.\r\n\r\n```\r\nString s =  &quot;Stern Brenda 90 86 45&quot;;\r\ndouble sum = 0;\r\n```\r\n- `\\\\b` - a word boundary\r\n- `\\\\d+` - one or more digits\r\n- `()` - a capture group\r\n- matching on the string `s`\r\n\r\n```\r\nMatcher m = Pattern.compile(&quot;\\\\b(\\\\d+)\\\\b&quot;).matcher(s);\r\nint count = 0;\r\n```\r\n- a long as `find()` returns true, you have a match\r\n- so convert `group(1)` to a double, add to sum and increment the count.\r\n```\r\nwhile (m.find()) {\r\n\tsum+= Double.parseDouble(m.group(1));\r\n\tcount++;\r\n}\r\n```\r\nWhen done, compute the average.\r\n```\r\nSystem.out.println(sum + &quot; &quot; + count); // just for demo purposes.\r\nif (count &gt; 0) { //just in case\r\n   double avg = sum/count;\r\n   System.out.println(&quot;Avg = &quot; + avg);\r\n}\r\n```\r\nprints\r\n```\r\n221.0 3\r\nAvg = 73.66666666666667\r\n```\r\nCheck out the [Pattern](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html) class for more details.\r\n\r\nFormatting the final answer may be desirable.  See [System.out.printf](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...))\r\n\r\n","title":"Getting integers out of a string containing words in java","body":"<p>You could use a regular expression to parse the string. This just computes the average.  You can also assign the individual values as you deem appropriate.</p>\n<pre><code>String s =  &quot;Stern Brenda 90 86 45&quot;;\ndouble sum = 0;\n</code></pre>\n<ul>\n<li><code>\\\\b</code> - a word boundary</li>\n<li><code>\\\\d+</code> - one or more digits</li>\n<li><code>()</code> - a capture group</li>\n<li>matching on the string <code>s</code></li>\n</ul>\n<pre><code>Matcher m = Pattern.compile(&quot;\\\\b(\\\\d+)\\\\b&quot;).matcher(s);\nint count = 0;\n</code></pre>\n<ul>\n<li>a long as <code>find()</code> returns true, you have a match</li>\n<li>so convert <code>group(1)</code> to a double, add to sum and increment the count.</li>\n</ul>\n<pre><code>while (m.find()) {\n    sum+= Double.parseDouble(m.group(1));\n    count++;\n}\n</code></pre>\n<p>When done, compute the average.</p>\n<pre><code>System.out.println(sum + &quot; &quot; + count); // just for demo purposes.\nif (count &gt; 0) { //just in case\n   double avg = sum/count;\n   System.out.println(&quot;Avg = &quot; + avg);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>221.0 3\nAvg = 73.66666666666667\n</code></pre>\n<p>Check out the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a> class for more details.</p>\n<p>Formatting the final answer may be desirable.  See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">System.out.printf</a></p>\n"},{"tags":[],"owner":{"account_id":4999927,"reputation":952,"user_id":4019273,"display_name":"Cheshiremoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649957870,"creation_date":1649874462,"answer_id":71862288,"question_id":71861268,"body_markdown":"StringTokenizer is a very useful way to work with data strings that come files or streams. If your data is separated by a specific character (space in this case), StringTokenizer is a easy way to brake a large string into parts &amp; iterate through the data.  \r\n\r\nSince you don&#39;t seem to care about the other &#39;words&#39; in the line &amp; have not specified if it will be a constant number (middle name?) my example puts all the tokens in an array to get the last three like in the question.  I have also added the parseInt() method to convert from strings to int.  Here is how you would tokenize your lines.\r\n\r\n    while ((line = reader.readLine()) != null) {\r\n\r\n      List&lt;String&gt; tokens = new ArrayList&lt;&gt;();\r\n      StringTokenizer tokenizer = new StringTokenizer(line, &quot; &quot;);\r\n      while (tokenizer.hasMoreElements()) {\r\n        tokens.add(tokenizer.nextToken());\r\n      }\r\n    \r\n      test3 = Integer.parseInt(tokens.get(tokens.size()-1));\r\n      test2 = Integer.parseInt(tokens.get(tokens.size()-2));\r\n      test1 = Integer.parseInt(tokens.get(tokens.size()-3));\r\n    }\r\n","title":"Getting integers out of a string containing words in java","body":"<p>StringTokenizer is a very useful way to work with data strings that come files or streams. If your data is separated by a specific character (space in this case), StringTokenizer is a easy way to brake a large string into parts &amp; iterate through the data.</p>\n<p>Since you don't seem to care about the other 'words' in the line &amp; have not specified if it will be a constant number (middle name?) my example puts all the tokens in an array to get the last three like in the question.  I have also added the parseInt() method to convert from strings to int.  Here is how you would tokenize your lines.</p>\n<pre><code>while ((line = reader.readLine()) != null) {\n\n  List&lt;String&gt; tokens = new ArrayList&lt;&gt;();\n  StringTokenizer tokenizer = new StringTokenizer(line, &quot; &quot;);\n  while (tokenizer.hasMoreElements()) {\n    tokens.add(tokenizer.nextToken());\n  }\n\n  test3 = Integer.parseInt(tokens.get(tokens.size()-1));\n  test2 = Integer.parseInt(tokens.get(tokens.size()-2));\n  test1 = Integer.parseInt(tokens.get(tokens.size()-3));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14706153,"reputation":46,"user_id":10620823,"display_name":"ESR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649885354,"creation_date":1649885354,"answer_id":71864016,"question_id":71861268,"body_markdown":"CheshireMoe almost has it right, but he&#39;s accessing a List like an array, which probably won&#39;t work.  In his example:\r\n\r\nInstead of:\r\n```\r\n  test3 = Integer.parseInt(tokens[tokens.length-1]);\r\n  test2 = Integer.parseInt(tokens[tokens.length-2]);\r\n  test1 = Integer.parseInt(tokens[tokens.length-3]);\r\n```\r\n\r\nShould be:\r\n  ```\r\n    test3 = Integer.parseInt(tokens.get(tokens.size()-1));\r\n    test2 = Integer.parseInt(tokens.get(tokens.size()-2));\r\n    test1 = Integer.parseInt(tokens.get(tokens.size()-3));\r\n```\r\n\r\nAn easier solution might be just to split the array using the space:\r\n```\r\nwhile ((line = reader.readLine()) != null) {\r\n\r\n  String [] tokens = line.split(&quot; &quot;);\r\n  if (tokens.length != 5) {  // catch errors in your data!\r\n     throw new Exception();  // &lt;-- use this if you want to stop on bad data\r\n     // continue;  &lt;-- use this if you just want to skip the record, instead\r\n  }\r\n  test3 = Integer.parseInt(tokens[4]);\r\n  test2 = Integer.parseInt(tokens[3]);\r\n  test1 = Integer.parseInt(tokens[2]);\r\n}\r\n```\r\n\r\nBased on your data, you might also consider putting in some validation like I&#39;ve shown, to catch things like:\r\n\r\n - a value is missing (student didn&#39;t take one of the tests) \r\n - not all the grades were entered as numbers (i.e. bad characters)\r\n - first and last name both exist \r\n","title":"Getting integers out of a string containing words in java","body":"<p>CheshireMoe almost has it right, but he's accessing a List like an array, which probably won't work.  In his example:</p>\n<p>Instead of:</p>\n<pre><code>  test3 = Integer.parseInt(tokens[tokens.length-1]);\n  test2 = Integer.parseInt(tokens[tokens.length-2]);\n  test1 = Integer.parseInt(tokens[tokens.length-3]);\n</code></pre>\n<p>Should be:</p>\n<pre><code>  test3 = Integer.parseInt(tokens.get(tokens.size()-1));\n  test2 = Integer.parseInt(tokens.get(tokens.size()-2));\n  test1 = Integer.parseInt(tokens.get(tokens.size()-3));\n</code></pre>\n<p>An easier solution might be just to split the array using the space:</p>\n<pre><code>while ((line = reader.readLine()) != null) {\n\n  String [] tokens = line.split(&quot; &quot;);\n  if (tokens.length != 5) {  // catch errors in your data!\n     throw new Exception();  // &lt;-- use this if you want to stop on bad data\n     // continue;  &lt;-- use this if you just want to skip the record, instead\n  }\n  test3 = Integer.parseInt(tokens[4]);\n  test2 = Integer.parseInt(tokens[3]);\n  test1 = Integer.parseInt(tokens[2]);\n}\n</code></pre>\n<p>Based on your data, you might also consider putting in some validation like I've shown, to catch things like:</p>\n<ul>\n<li>a value is missing (student didn't take one of the tests)</li>\n<li>not all the grades were entered as numbers (i.e. bad characters)</li>\n<li>first and last name both exist</li>\n</ul>\n"}],"owner":{"account_id":24105469,"reputation":11,"user_id":18076730,"display_name":"TheSwampyBogbeard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649957870,"creation_date":1649869205,"question_id":71861268,"body_markdown":"Right now I have a string input along the lines of &quot;Stern    Brenda  90  86  45&quot;.  I&#39;m trying to find a way to get 90 86 and 45 out of that and assign them as ints to tests 3, 2, and 1 respectively to compute an average of them.\r\n```\r\n      while ((line = reader.readLine()) != null) {\r\n    \t  test3 = line.indexOf(-2, -1);\r\n    \t  test2 = line.indexOf(-5, -4);\r\n    \t  test1 = line.indexOf(-8, -7);\r\n```\r\nThis is returning a value of -1 for each test (I tried using a regular expression to start from index -2 and go until another integer is found.  Trying to get a two digit integer (as opposed to if I was just trying to get something like 5 or 6) is really whats throwing me off.  Is using the .indexOf method the best way to go about getting these numbers out of the string?  If so how am I using it incorrectly?\r\n\r\nedit: I found a solution that was relatively simple.\r\n```\r\n      while ((line = reader.readLine()) != null) {\r\n    \t  String nums = line.replaceAll(&quot;[\\\\D]&quot;, &quot;&quot;);\r\n    \t  test1 = Integer.parseInt(nums.substring(0,2));\r\n    \t  test2 = Integer.parseInt(nums.substring(2,4));\r\n    \t  test3 = Integer.parseInt(nums.substring(4,6));\r\n```\r\nFor the input &quot;Stern    Brenda  90  86  45&quot;, this returns 90 for test1, 86 for test2, and 45 for test3 (all as integers).","title":"Getting integers out of a string containing words in java","body":"<p>Right now I have a string input along the lines of &quot;Stern    Brenda  90  86  45&quot;.  I'm trying to find a way to get 90 86 and 45 out of that and assign them as ints to tests 3, 2, and 1 respectively to compute an average of them.</p>\n<pre><code>      while ((line = reader.readLine()) != null) {\n          test3 = line.indexOf(-2, -1);\n          test2 = line.indexOf(-5, -4);\n          test1 = line.indexOf(-8, -7);\n</code></pre>\n<p>This is returning a value of -1 for each test (I tried using a regular expression to start from index -2 and go until another integer is found.  Trying to get a two digit integer (as opposed to if I was just trying to get something like 5 or 6) is really whats throwing me off.  Is using the .indexOf method the best way to go about getting these numbers out of the string?  If so how am I using it incorrectly?</p>\n<p>edit: I found a solution that was relatively simple.</p>\n<pre><code>      while ((line = reader.readLine()) != null) {\n          String nums = line.replaceAll(&quot;[\\\\D]&quot;, &quot;&quot;);\n          test1 = Integer.parseInt(nums.substring(0,2));\n          test2 = Integer.parseInt(nums.substring(2,4));\n          test3 = Integer.parseInt(nums.substring(4,6));\n</code></pre>\n<p>For the input &quot;Stern    Brenda  90  86  45&quot;, this returns 90 for test1, 86 for test2, and 45 for test3 (all as integers).</p>\n"},{"tags":["java","security","elytron","wildfly-26"],"answers":[{"tags":[],"owner":{"account_id":23931050,"reputation":91,"user_id":17925539,"display_name":"diavil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649777488,"creation_date":1649777488,"answer_id":71845416,"question_id":71244362,"body_markdown":"the namespace jboss.security.security-domain is related to the legacy security and not Elytron. Elytron is probably not enabled in some resource and that resource is referring to the `myapp-application-security-domain` as a legacy security domain and the error gets thrown.","title":"Wildfly 26 elytron security domain config is not working","body":"<p>the namespace jboss.security.security-domain is related to the legacy security and not Elytron. Elytron is probably not enabled in some resource and that resource is referring to the <code>myapp-application-security-domain</code> as a legacy security domain and the error gets thrown.</p>\n"},{"tags":[],"owner":{"account_id":1401411,"reputation":826,"user_id":1330130,"display_name":"jmiguel77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649957858,"creation_date":1649957858,"answer_id":71875669,"question_id":71244362,"body_markdown":"I finally have it working thanks to diavil response and this post:\r\n\r\n[How to configure Elytron][1]\r\n\r\n\r\n  [1]: http://www.mastertheboss.com/jbossas/jboss-security/how-to-configure-an-elytron-jaas-security-realm/\r\n\r\nWhat i ended up doing was configuring the security config named other both in the ejb3 and undertow subsystem; it&#39;s not a solution that i like too much but it is what it is","title":"Wildfly 26 elytron security domain config is not working","body":"<p>I finally have it working thanks to diavil response and this post:</p>\n<p><a href=\"http://www.mastertheboss.com/jbossas/jboss-security/how-to-configure-an-elytron-jaas-security-realm/\" rel=\"nofollow noreferrer\">How to configure Elytron</a></p>\n<p>What i ended up doing was configuring the security config named other both in the ejb3 and undertow subsystem; it's not a solution that i like too much but it is what it is</p>\n"}],"owner":{"account_id":1401411,"reputation":826,"user_id":1330130,"display_name":"jmiguel77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5016,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649957858,"creation_date":1645652426,"question_id":71244362,"body_markdown":"I am trying to migrate an application to wildfly 26, and i am trying to use elytron to secure the application.\r\n\r\nI successfully run this commands using the jboss cli\r\n\r\n    /subsystem=elytron/jdbc-realm=myapp-security-realm:add(principal-query=[{sql=&quot;select clave from admin.usuario where usuario = ?&quot;, data-source=&quot;SISMedicalDS&quot;, simple-digest-mapper={algorithm=simple-digest-sha-256,password-index=1}},{sql=&quot;select r.nombre, &#39;Roles&#39; from admin.rol r join admin.perfil p on r.id = p.rol_id join admin.usuario u on u.id = p.usuario_id where u.usuario = ?&quot;, data-source=&quot;SISMedicalDS&quot;, attribute-mapping=[{index=1, to=roles}]}])\r\n    \r\n    /subsystem=elytron/security-domain=myapp-security-domain:add(realms=[{realm=myapp-security-realm}], default-realm=myapp-security-realm, permission-mapper=default-permission-mapper)\r\n    \r\n    /subsystem=elytron/http-authentication-factory=myapp-security-http:add(http-server-mechanism-factory=global, security-domain=myapp-security-domain, mechanism-configurations=[{mechanism-name=FORM}])\r\n    \r\n    /subsystem=undertow/application-security-domain=myapp-application-security-domain:add(http-authentication-factory=myapp-security-http)\r\n\r\nAnd i also changed my jboss-web.xml and web.xml files to the suggested configuration\r\n\r\njboss-web.xml\r\n\r\n    &lt;!DOCTYPE jboss-web&gt;\r\n    &lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot;\r\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                   xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee http://www.jboss.org/schema/jbossas/jboss-web_13_0.xsd&quot;\r\n                   version=&quot;13.0&quot;&gt;\r\n     \t&lt;security-domain&gt;nmedical-application-security-domain&lt;/security-domain&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\nweb.xml (login config only)\r\n\r\n    &lt;login-config&gt;\r\n    \t\t&lt;auth-method&gt;FORM&lt;/auth-method&gt;\r\n    \t\t&lt;realm-name&gt;nmedical-application-security-domain&lt;/realm-name&gt;\t\t\r\n    \t\t&lt;form-login-config&gt;\r\n    \t\t\t&lt;form-login-page&gt;/login.jsp&lt;/form-login-page&gt;\r\n    \t\t\t&lt;form-error-page&gt;/login.jsp?error=true&lt;/form-error-page&gt;\r\n    \t\t&lt;/form-login-config&gt;\r\n    \t&lt;/login-config&gt;\r\n\r\nWhen i try to deploy the application in the wildfly 26 server i always get this error\r\n\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.security.security-domain.myapp-application-security-domain&quot;]\r\n\r\nI have checked the server console and under the web (undertow) subsystem i can see that the myapp-application-security-domain exists, so i really don&#39;t know what the problem might be\r\n\r\nAny help appreciated \r\n","title":"Wildfly 26 elytron security domain config is not working","body":"<p>I am trying to migrate an application to wildfly 26, and i am trying to use elytron to secure the application.</p>\n<p>I successfully run this commands using the jboss cli</p>\n<pre><code>/subsystem=elytron/jdbc-realm=myapp-security-realm:add(principal-query=[{sql=&quot;select clave from admin.usuario where usuario = ?&quot;, data-source=&quot;SISMedicalDS&quot;, simple-digest-mapper={algorithm=simple-digest-sha-256,password-index=1}},{sql=&quot;select r.nombre, 'Roles' from admin.rol r join admin.perfil p on r.id = p.rol_id join admin.usuario u on u.id = p.usuario_id where u.usuario = ?&quot;, data-source=&quot;SISMedicalDS&quot;, attribute-mapping=[{index=1, to=roles}]}])\n\n/subsystem=elytron/security-domain=myapp-security-domain:add(realms=[{realm=myapp-security-realm}], default-realm=myapp-security-realm, permission-mapper=default-permission-mapper)\n\n/subsystem=elytron/http-authentication-factory=myapp-security-http:add(http-server-mechanism-factory=global, security-domain=myapp-security-domain, mechanism-configurations=[{mechanism-name=FORM}])\n\n/subsystem=undertow/application-security-domain=myapp-application-security-domain:add(http-authentication-factory=myapp-security-http)\n</code></pre>\n<p>And i also changed my jboss-web.xml and web.xml files to the suggested configuration</p>\n<p>jboss-web.xml</p>\n<pre><code>&lt;!DOCTYPE jboss-web&gt;\n&lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot;\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n               xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee http://www.jboss.org/schema/jbossas/jboss-web_13_0.xsd&quot;\n               version=&quot;13.0&quot;&gt;\n    &lt;security-domain&gt;nmedical-application-security-domain&lt;/security-domain&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>web.xml (login config only)</p>\n<pre><code>&lt;login-config&gt;\n        &lt;auth-method&gt;FORM&lt;/auth-method&gt;\n        &lt;realm-name&gt;nmedical-application-security-domain&lt;/realm-name&gt;       \n        &lt;form-login-config&gt;\n            &lt;form-login-page&gt;/login.jsp&lt;/form-login-page&gt;\n            &lt;form-error-page&gt;/login.jsp?error=true&lt;/form-error-page&gt;\n        &lt;/form-login-config&gt;\n    &lt;/login-config&gt;\n</code></pre>\n<p>When i try to deploy the application in the wildfly 26 server i always get this error</p>\n<pre><code>&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.security.security-domain.myapp-application-security-domain&quot;]\n</code></pre>\n<p>I have checked the server console and under the web (undertow) subsystem i can see that the myapp-application-security-domain exists, so i really don't know what the problem might be</p>\n<p>Any help appreciated</p>\n"},{"tags":["java","intellij-idea","system"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1649957493,"post_id":71875573,"comment_id":127011313,"body_markdown":"Please post code here as text. In particular, create a [mcve] which duplicates the error.","body":"Please post code here as text. In particular, create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which duplicates the error."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1649957533,"post_id":71875573,"comment_id":127011325,"body_markdown":"@Code-Apprentice: agree, however that image also shows the presence of a System.java class, so in this instance, a picture did help solve the problem. Regardless, the question should probably be closed though as a typo/trivial error.","body":"@Code-Apprentice: agree, however that image also shows the presence of a System.java class, so in this instance, a picture did help solve the problem. Regardless, the question should probably be closed though as a typo/trivial error."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649957396,"creation_date":1649957396,"answer_id":71875590,"question_id":71875573,"body_markdown":"You have a class of your own named `System.java` and you are confusing the compiler (and yourself) with this, since the compiler thinks that `out` should be a static field of this class. Rename that class ASAP.","title":"System.out.printf. Cannot resolve symbol &#39;out&#39;","body":"<p>You have a class of your own named <code>System.java</code> and you are confusing the compiler (and yourself) with this, since the compiler thinks that <code>out</code> should be a static field of this class. Rename that class ASAP.</p>\n"}],"owner":{"account_id":23064063,"reputation":41,"user_id":17178740,"display_name":"destructor"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1649961114,"accepted_answer_id":71875590,"answer_count":1,"score":-1,"last_activity_date":1649957502,"creation_date":1649957318,"question_id":71875573,"body_markdown":"I am using IntelliJ IDEA to learn Java. All went well until yesterday when the mentioned error happened.\r\nI didn&#39;t make any changes. I was looking for the solution in the following ways:\r\n\r\n1. reboot the pc\r\n2. restart IntelliJ.\r\n\r\nIt keeps showing this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3Nr4a.png","title":"System.out.printf. Cannot resolve symbol &#39;out&#39;","body":"<p>I am using IntelliJ IDEA to learn Java. All went well until yesterday when the mentioned error happened.\nI didn't make any changes. I was looking for the solution in the following ways:</p>\n<ol>\n<li>reboot the pc</li>\n<li>restart IntelliJ.</li>\n</ol>\n<p>It keeps showing this error:</p>\n<p><a href=\"https://i.stack.imgur.com/3Nr4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Nr4a.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dictionary","hashmap"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1415267181,"post_id":26776106,"comment_id":42130856,"body_markdown":"Use a `TreeMap` instead of a `HashMap`.  It has methods like `firstKey`, `lastKey` and `subMap` which will help you.","body":"Use a <code>TreeMap</code> instead of a <code>HashMap</code>.  It has methods like <code>firstKey</code>, <code>lastKey</code> and <code>subMap</code> which will help you."},{"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"score":0,"creation_date":1415267314,"post_id":26776106,"comment_id":42130925,"body_markdown":"depends what you mean by top.  Insertion order or natural sorted order?","body":"depends what you mean by top.  Insertion order or natural sorted order?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1415267354,"post_id":26776106,"comment_id":42130947,"body_markdown":"Ooh, if you mean insertion order, then the class you want is `LinkedHashMap`.","body":"Ooh, if you mean insertion order, then the class you want is <code>LinkedHashMap</code>."},{"owner":{"account_id":4792902,"reputation":5097,"user_id":3871551,"accept_rate":50,"display_name":"Leo"},"score":0,"creation_date":1415267723,"post_id":26776106,"comment_id":42131143,"body_markdown":"yes, I mean insertion order.","body":"yes, I mean insertion order."},{"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"score":0,"creation_date":1415267953,"post_id":26776106,"comment_id":42131285,"body_markdown":"then you have to use a LinkedHashMap, not a HashMap","body":"then you have to use a LinkedHashMap, not a HashMap"}],"answers":[{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1415267510,"creation_date":1415267185,"answer_id":26776182,"question_id":26776106,"body_markdown":"Use a SortedMap, such as a TreeMap instead of a HashMap. You can then iterate through the keys in order. That makes it possible to find and delete the 3 smallest keys. Delete the three largest key by finding and then deleting the last key three times.","title":"Delete top or bottom n elements of a map","body":"<p>Use a SortedMap, such as a TreeMap instead of a HashMap. You can then iterate through the keys in order. That makes it possible to find and delete the 3 smallest keys. Delete the three largest key by finding and then deleting the last key three times.</p>\n"},{"tags":[],"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415269014,"creation_date":1415267607,"answer_id":26776335,"question_id":26776106,"body_markdown":"There are some terrible answers to this question.\r\n\r\nFirstly, it depends what you mean by top. Insertion order or natural sorted order?\r\n\r\nA [LinkedHashMap][1] preserves insertion order.  A [TreeMap][2] maintains its keys in natural sorted order.\r\n\r\nIf it&#39;s a sorted map, then you can request a view of the keys using [Treemap.headMap(K key)][3],   tailMap() and [subMap()][4];\r\n\r\nIf it&#39;s insertion order then you&#39;ll have to extract the submap yourself.  Guava provides a helper in Maps called [Maps.filterKeys][5] that will allow you to view the underlying map fltered by a Predicate you pass in.  This is useful if you don&#39;t want to copy the map, just view it differently.  Of course, you can always copy the resultant map if that&#39;s what you want or roll your own more specialised case.\r\n\r\n[This question shows how to write a generic subMap method for LinkedHashMaps.][6]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#headMap(K)\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#subMap(K,%20boolean,%20K,%20boolean)\r\n  [5]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html#filterKeys(java.util.Map,%20com.google.common.base.Predicate)\r\n  [6]: https://stackoverflow.com/questions/10589089/how-to-get-submap-of-linkedhashmap-by-element-index","title":"Delete top or bottom n elements of a map","body":"<p>There are some terrible answers to this question.</p>\n\n<p>Firstly, it depends what you mean by top. Insertion order or natural sorted order?</p>\n\n<p>A <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a> preserves insertion order.  A <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a> maintains its keys in natural sorted order.</p>\n\n<p>If it's a sorted map, then you can request a view of the keys using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#headMap(K)\" rel=\"nofollow noreferrer\">Treemap.headMap(K key)</a>,   tailMap() and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#subMap(K,%20boolean,%20K,%20boolean)\" rel=\"nofollow noreferrer\">subMap()</a>;</p>\n\n<p>If it's insertion order then you'll have to extract the submap yourself.  Guava provides a helper in Maps called <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html#filterKeys(java.util.Map,%20com.google.common.base.Predicate)\" rel=\"nofollow noreferrer\">Maps.filterKeys</a> that will allow you to view the underlying map fltered by a Predicate you pass in.  This is useful if you don't want to copy the map, just view it differently.  Of course, you can always copy the resultant map if that's what you want or roll your own more specialised case.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10589089/how-to-get-submap-of-linkedhashmap-by-element-index\">This question shows how to write a generic subMap method for LinkedHashMaps.</a></p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415270815,"creation_date":1415267623,"answer_id":26776338,"question_id":26776106,"body_markdown":"You can remove n elements from a map without iteration this way\r\n\r\n    map.keySet().removeAll(Arrays.asList(map.keySet().toArray()).subList(0, 5));","title":"Delete top or bottom n elements of a map","body":"<p>You can remove n elements from a map without iteration this way</p>\n\n<pre><code>map.keySet().removeAll(Arrays.asList(map.keySet().toArray()).subList(0, 5));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416840129,"creation_date":1415267746,"answer_id":26776373,"question_id":26776106,"body_markdown":"`LinkedHashMap` maintains a linked list of the entries in the `map`, in the order in which they were inserted.\r\n\r\n        Map&lt;String,String&gt; map = new LinkedHashMap&lt;String, String&gt;();\r\n\t\tmap.put(&quot;1&quot;,&quot;One&quot;);    //KV1\r\n\t\tmap.put(&quot;3&quot;,&quot;Three&quot;);  //KV2\r\n\t\tmap.put(&quot;2&quot;,&quot;Two&quot;);    //KV3\r\n\t\tmap.put(&quot;5&quot;,&quot;Five&quot;);   //KV4\r\n\t\tmap.put(&quot;4&quot;,&quot;Four&quot;);   //KV5\r\n\t\t\r\n\t\tfor(Map.Entry&lt;String, String&gt; mapentry : map.entrySet() ){\r\n\t\t\tSystem.out.println(mapentry.getKey()); // you can get the keys and values \r\n\t\t\tSystem.out.println(mapentry.getValue());\r\n\t\t}","title":"Delete top or bottom n elements of a map","body":"<p><code>LinkedHashMap</code> maintains a linked list of the entries in the <code>map</code>, in the order in which they were inserted.</p>\n\n<pre><code>    Map&lt;String,String&gt; map = new LinkedHashMap&lt;String, String&gt;();\n    map.put(\"1\",\"One\");    //KV1\n    map.put(\"3\",\"Three\");  //KV2\n    map.put(\"2\",\"Two\");    //KV3\n    map.put(\"5\",\"Five\");   //KV4\n    map.put(\"4\",\"Four\");   //KV5\n\n    for(Map.Entry&lt;String, String&gt; mapentry : map.entrySet() ){\n        System.out.println(mapentry.getKey()); // you can get the keys and values \n        System.out.println(mapentry.getValue());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3017528,"reputation":363,"user_id":2559237,"accept_rate":80,"display_name":"Dhananjayan Santhanakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649957120,"creation_date":1649719247,"answer_id":71835342,"question_id":26776106,"body_markdown":"Maybe this can work for skipping n elements at the end of list, limit here is (n-m) where m is the number of elements to be skipped at the bottom of the list\r\n\r\n    items.entrySet().stream()\r\n              .limit(limit)\r\n              .collect(LinkedHashMap::new, (m, e) -&gt; m.put(e.getKey(), e.getValue()), Map::putAll );\r\n    \r\n\r\nOr you can use skip to ignore elements at the start of the map, where skipElements here is the number of elements that you want to skip in the beginning of the list, \r\n\r\n    items.entrySet().stream()\r\n                  .skip(skipElements)\r\n                  .collect(LinkedHashMap::new, (m, e) -&gt; m.put(e.getKey(), e.getValue()), Map::putAll );\r\n\r\n\r\nI haven&#39;t tested this. ","title":"Delete top or bottom n elements of a map","body":"<p>Maybe this can work for skipping n elements at the end of list, limit here is (n-m) where m is the number of elements to be skipped at the bottom of the list</p>\n<pre><code>items.entrySet().stream()\n          .limit(limit)\n          .collect(LinkedHashMap::new, (m, e) -&gt; m.put(e.getKey(), e.getValue()), Map::putAll );\n</code></pre>\n<p>Or you can use skip to ignore elements at the start of the map, where skipElements here is the number of elements that you want to skip in the beginning of the list,</p>\n<pre><code>items.entrySet().stream()\n              .skip(skipElements)\n              .collect(LinkedHashMap::new, (m, e) -&gt; m.put(e.getKey(), e.getValue()), Map::putAll );\n</code></pre>\n<p>I haven't tested this.</p>\n"}],"owner":{"account_id":4792902,"reputation":5097,"user_id":3871551,"accept_rate":50,"display_name":"Leo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3344,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1649957120,"creation_date":1415266993,"question_id":26776106,"body_markdown":"I have a HashMap like below:\r\n\r\n    map.put(&quot;1&quot;,&quot;One&quot;);    \\\\KV1\r\n    map.put(&quot;3&quot;,&quot;Three&quot;);  \\\\KV2\r\n    map.put(&quot;2&quot;,&quot;Two&quot;);    \\\\KV3\r\n    map.put(&quot;5&quot;,&quot;Five&quot;);   \\\\KV4\r\n    map.put(&quot;4&quot;,&quot;Four&quot;);   \\\\KV5\r\n\r\nIs there any function where I can get top 3(KV1,KV2,KV3) or bottom 3(KV3,KV4,KV5) key-value pairs? or may be any function by which I can delete top n or bottom n elements?\r\n\r\nThanks in advance.","title":"Delete top or bottom n elements of a map","body":"<p>I have a HashMap like below:</p>\n\n<pre><code>map.put(\"1\",\"One\");    \\\\KV1\nmap.put(\"3\",\"Three\");  \\\\KV2\nmap.put(\"2\",\"Two\");    \\\\KV3\nmap.put(\"5\",\"Five\");   \\\\KV4\nmap.put(\"4\",\"Four\");   \\\\KV5\n</code></pre>\n\n<p>Is there any function where I can get top 3(KV1,KV2,KV3) or bottom 3(KV3,KV4,KV5) key-value pairs? or may be any function by which I can delete top n or bottom n elements?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","mysql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649956969,"creation_date":1649956969,"answer_id":71875511,"question_id":71873713,"body_markdown":"@OneToMany annotation indicates that one user can have multiple roles, but one role cannot relate to multiple users.\r\n\r\nTry with this:\r\n\r\n    User:\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    Role:\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users;\r\n\r\n","title":"Spring Boot JPA - What&#39;s the appropriate way to assign a role to a user?","body":"<p>@OneToMany annotation indicates that one user can have multiple roles, but one role cannot relate to multiple users.</p>\n<p>Try with this:</p>\n<pre><code>User:\n@ManyToMany(cascade = CascadeType.ALL)\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\nRole:\n@ManyToMany(mappedBy = &quot;roles&quot;)\nprivate Set&lt;User&gt; users;\n</code></pre>\n"}],"owner":{"account_id":19452055,"reputation":11,"user_id":14228230,"display_name":"Nicol&#225;s Ort&#237;z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71875511,"answer_count":1,"score":0,"last_activity_date":1649956969,"creation_date":1649948517,"question_id":71873713,"body_markdown":"I&#39;m trying to develop an application in which users get assigned a specific role, and based on that role they have access to certain functionalities. This is what I have so far:\r\n\r\nUser class:\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;,\r\n    uniqueConstraints = {\r\n      @UniqueConstraint(columnNames = &quot;username&quot;),\r\n      @UniqueConstraint(columnNames = &quot;email&quot;)\r\n    })\r\npublic class User {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;usid_generator&quot;)\r\n  @SequenceGenerator(name = &quot;usid_generator&quot;, initialValue = 1000, allocationSize = 1, sequenceName = &quot;usid_seq&quot;)\r\n  private Long id;\r\n\r\n  @NotBlank\r\n  @Size(max = 20)\r\n  private String username;\r\n\r\n  @NotBlank\r\n  @Size(max = 50)\r\n  @Email\r\n  private String email;\r\n\r\n  @NotBlank\r\n  @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n  @Size(max = 120)\r\n  private String password;\r\n\r\n  @OneToMany(cascade = CascadeType.ALL,\r\n      fetch = FetchType.LAZY)\r\n  @JoinTable(name = &quot;user_roles&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n  private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n  private Integer notifications;\r\n```\r\n\r\nRole class:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\npublic class Role {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;roleid_generator&quot;)\r\n  @SequenceGenerator(name = &quot;roleid_generator&quot;, initialValue = 100, allocationSize = 1, sequenceName = &quot;roleid_seq&quot;)\r\n  private Integer id;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(length = 20)\r\n  private ERole name;\r\n```\r\n\r\nHowever, I&#39;m runnning into some issues. I have some buttons on the front end of my application that allow me to change the role of a user, here is one example:\r\n\r\n```\r\n@PutMapping(&quot;/users/setadmin/{id}&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n    public ResponseEntity&lt;User&gt; setAdmin(@PathVariable(&quot;id&quot;) Long id, @RequestBody User user) {\r\n        Optional&lt;User&gt; userData = userRepository.findById(id);\r\n        Optional&lt;Role&gt; adminRole = roleRepository.findByName(ERole.ROLE_ADMIN);\r\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n        roles.add(adminRole.get());\r\n        if (userData.isPresent()) {\r\n            User _user = userData.get();\r\n            _user.setRoles(roles);\r\n            return new ResponseEntity&lt;&gt;(userRepository.save(_user), HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n```\r\n\r\nThe ERoles are stored in a separate class:\r\n\r\n```\r\npublic enum ERole {\r\n  ROLE_USER,\r\n  ROLE_MODERATOR,\r\n  ROLE_ADMIN\r\n}\r\n```\r\n\r\nHowever, by using this approach I&#39;m getting two errors: \r\n\r\n1. I can&#39;t seem to have more than three users in the whole database. Every time I create a new user with a role that another user already has I get an error. Here is an example of what I got when trying to assign the role `USER` to a new account, after already having another user with that role in the DB:\r\n\r\n```java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;1&#39; for key &#39;user_roles.UK_5q4rc4fh1on6567qk69uesvyf&#39;```\r\n\r\n2. When I delete a user from the DB, the role that they had assigned gets deleted from the `roles` table. So, if I delete a user who had the role `MODERATOR`, the role `MODERATOR` itself gets deleted as well. \r\n\r\nI&#39;m guessing it&#39;s an issue with the `CascadeType.ALL` property on the User class. I was reading some documentation about the types of cascades, but I can&#39;t figure out which one I should use, or if that&#39;s the problem at all. Any help is much appreciated","title":"Spring Boot JPA - What&#39;s the appropriate way to assign a role to a user?","body":"<p>I'm trying to develop an application in which users get assigned a specific role, and based on that role they have access to certain functionalities. This is what I have so far:</p>\n<p>User class:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;,\n    uniqueConstraints = {\n      @UniqueConstraint(columnNames = &quot;username&quot;),\n      @UniqueConstraint(columnNames = &quot;email&quot;)\n    })\npublic class User {\n  @Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;usid_generator&quot;)\n  @SequenceGenerator(name = &quot;usid_generator&quot;, initialValue = 1000, allocationSize = 1, sequenceName = &quot;usid_seq&quot;)\n  private Long id;\n\n  @NotBlank\n  @Size(max = 20)\n  private String username;\n\n  @NotBlank\n  @Size(max = 50)\n  @Email\n  private String email;\n\n  @NotBlank\n  @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n  @Size(max = 120)\n  private String password;\n\n  @OneToMany(cascade = CascadeType.ALL,\n      fetch = FetchType.LAZY)\n  @JoinTable(name = &quot;user_roles&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n  private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n  private Integer notifications;\n</code></pre>\n<p>Role class:</p>\n<pre><code>@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role {\n  @Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;roleid_generator&quot;)\n  @SequenceGenerator(name = &quot;roleid_generator&quot;, initialValue = 100, allocationSize = 1, sequenceName = &quot;roleid_seq&quot;)\n  private Integer id;\n\n  @Enumerated(EnumType.STRING)\n  @Column(length = 20)\n  private ERole name;\n</code></pre>\n<p>However, I'm runnning into some issues. I have some buttons on the front end of my application that allow me to change the role of a user, here is one example:</p>\n<pre><code>@PutMapping(&quot;/users/setadmin/{id}&quot;)\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    public ResponseEntity&lt;User&gt; setAdmin(@PathVariable(&quot;id&quot;) Long id, @RequestBody User user) {\n        Optional&lt;User&gt; userData = userRepository.findById(id);\n        Optional&lt;Role&gt; adminRole = roleRepository.findByName(ERole.ROLE_ADMIN);\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n        roles.add(adminRole.get());\n        if (userData.isPresent()) {\n            User _user = userData.get();\n            _user.setRoles(roles);\n            return new ResponseEntity&lt;&gt;(userRepository.save(_user), HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p>The ERoles are stored in a separate class:</p>\n<pre><code>public enum ERole {\n  ROLE_USER,\n  ROLE_MODERATOR,\n  ROLE_ADMIN\n}\n</code></pre>\n<p>However, by using this approach I'm getting two errors:</p>\n<ol>\n<li>I can't seem to have more than three users in the whole database. Every time I create a new user with a role that another user already has I get an error. Here is an example of what I got when trying to assign the role <code>USER</code> to a new account, after already having another user with that role in the DB:</li>\n</ol>\n<p><code>java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'user_roles.UK_5q4rc4fh1on6567qk69uesvyf'</code></p>\n<ol start=\"2\">\n<li>When I delete a user from the DB, the role that they had assigned gets deleted from the <code>roles</code> table. So, if I delete a user who had the role <code>MODERATOR</code>, the role <code>MODERATOR</code> itself gets deleted as well.</li>\n</ol>\n<p>I'm guessing it's an issue with the <code>CascadeType.ALL</code> property on the User class. I was reading some documentation about the types of cascades, but I can't figure out which one I should use, or if that's the problem at all. Any help is much appreciated</p>\n"},{"tags":["java","string","arraylist"],"comments":[{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":1,"creation_date":1649954456,"post_id":71874903,"comment_id":127010365,"body_markdown":"Don&#39;t you want to use `&amp;&amp;` in that case?","body":"Don&#39;t you want to use <code>&amp;&amp;</code> in that case?"}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649954950,"creation_date":1649954950,"answer_id":71875104,"question_id":71874903,"body_markdown":"Consider using the Collection Iterator for safe removal of elements during iteration.\r\n\r\n    for (Iterator&lt;String&gt; iter = dictionary.iterator() ; iter.hasNext() ; ) {\r\n      String word = iter.next();\r\n      if (word.length() == 1 \r\n          &amp;&amp; !&quot;I&quot;.equals(word)\r\n          &amp;&amp; !&quot;A&quot;.equalsIgnoreCase(word)) {\r\n        iter.remove();\r\n      }\r\n    }","title":"How to remove a specific String from a String ArrayList","body":"<p>Consider using the Collection Iterator for safe removal of elements during iteration.</p>\n<pre><code>for (Iterator&lt;String&gt; iter = dictionary.iterator() ; iter.hasNext() ; ) {\n  String word = iter.next();\n  if (word.length() == 1 \n      &amp;&amp; !&quot;I&quot;.equals(word)\n      &amp;&amp; !&quot;A&quot;.equalsIgnoreCase(word)) {\n    iter.remove();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649955079,"creation_date":1649955079,"answer_id":71875127,"question_id":71874903,"body_markdown":"Use iterators instead. Let&#39;s say you have a list of (1,2,3,4,5) and you want to remove the numbers 2 and 3. You start looping through and get to the second element 2. Here your `i` is 1. You remove that element and go to `i=2`. What you have now is (1,3,4,5). Since `i=2`, you have missed one element.\r\n\r\nAnd that&#39;s the reason you should use iterators instead. Refer to @vsfDawg answer.","title":"How to remove a specific String from a String ArrayList","body":"<p>Use iterators instead. Let's say you have a list of (1,2,3,4,5) and you want to remove the numbers 2 and 3. You start looping through and get to the second element 2. Here your <code>i</code> is 1. You remove that element and go to <code>i=2</code>. What you have now is (1,3,4,5). Since <code>i=2</code>, you have missed one element.</p>\n<p>And that's the reason you should use iterators instead. Refer to @vsfDawg answer.</p>\n"},{"tags":[],"owner":{"account_id":7009040,"reputation":134,"user_id":5382934,"display_name":"Gerardo Gonzalez - Nemis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649956715,"creation_date":1649956715,"answer_id":71875464,"question_id":71874903,"body_markdown":"My suggestion is the following:\r\n\r\nYou can use removeIf in a next way. \r\n\r\n**removeIf** takes a predicate. \r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; dictionary =  new ArrayList&lt;&gt;();\r\n        dictionary.add(&quot;I&quot;);\r\n        dictionary.add(&quot;A&quot;);\r\n        dictionary.add(&quot;p&quot;);\r\n        dictionary.add(&quot;its&quot;);\r\n        dictionary.add(&quot;water&quot;);\r\n        dictionary.add(&quot;s&quot;);\r\n        Integer sizeRemove =1;\r\n        dictionary.removeIf(\r\n                word -&gt;\r\n                !&quot;I&quot;.equals(word)\r\n                &amp;&amp; !&quot;A&quot;.equalsIgnoreCase(word)\r\n                &amp;&amp; word.length() == sizeRemove\r\n        );\r\n        System.out.println(dictionary);\r\n    }\r\nThe output is the following:\r\n[I, A, its, water]\r\n\r\nReference: \r\n[https://www.programiz.com/java-programming/library/arraylist/removeif][1]\r\n\r\n\r\n  [1]: https://www.programiz.com/java-programming/library/arraylist/removeif","title":"How to remove a specific String from a String ArrayList","body":"<p>My suggestion is the following:</p>\n<p>You can use removeIf in a next way.</p>\n<p><strong>removeIf</strong> takes a predicate.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; dictionary =  new ArrayList&lt;&gt;();\n    dictionary.add(&quot;I&quot;);\n    dictionary.add(&quot;A&quot;);\n    dictionary.add(&quot;p&quot;);\n    dictionary.add(&quot;its&quot;);\n    dictionary.add(&quot;water&quot;);\n    dictionary.add(&quot;s&quot;);\n    Integer sizeRemove =1;\n    dictionary.removeIf(\n            word -&gt;\n            !&quot;I&quot;.equals(word)\n            &amp;&amp; !&quot;A&quot;.equalsIgnoreCase(word)\n            &amp;&amp; word.length() == sizeRemove\n    );\n    System.out.println(dictionary);\n}\n</code></pre>\n<p>The output is the following:\n[I, A, its, water]</p>\n<p>Reference:\n<a href=\"https://www.programiz.com/java-programming/library/arraylist/removeif\" rel=\"nofollow noreferrer\">https://www.programiz.com/java-programming/library/arraylist/removeif</a></p>\n"}],"owner":{"account_id":24555610,"reputation":7,"user_id":18464241,"display_name":"WAM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71875464,"answer_count":3,"score":0,"last_activity_date":1649956715,"creation_date":1649953966,"question_id":71874903,"body_markdown":"I have an ArrayList that contains a bunch of words each in their own cell that come from a file. Some of those words are complete word like &quot;physicist, water, gravity&quot;. However, other words are just letters that got split throughout the process of the program. For example, &quot;it&#39;s&quot; became &quot;it&quot; and &quot;s&quot;. As such, I want to remove all of the single letter *words* except &quot;I&quot; and &quot;A&quot; because these are actual words.\r\n\r\nThis is the code I have for now:\r\n\r\n    for(int i=0;i&lt;dictionnary.size();i++) {\r\n\t\t\t\tif(dictionnary.get(i).compareToIgnoreCase(&quot;I&quot;)!=0||dictionnary.get(i).compareToIgnoreCase(&quot;A&quot;)!=0||dictionnary.get(i).length()==1){\r\n\t\t\t\t\tdictionnary.remove(i);\r\n\t\t\t\t}\r\n\t\t}\r\n\r\nWhere dictionnary is my ArrayList. However, when I print out the content of my arrayList the &quot;s&quot; from it&#39;s remains. I also know that there was originally a word &quot;E&quot; that got removed throughout the process above. I&#39;m confused as to why the &quot;S&quot; remains and how to fix it.\r\n\r\nFrom my understanding this code goes through the ArrayList and checks if the length of the case is 1 (which is the case for all single letter *words*) as well as checking if that case is a case of &quot;I&quot; or &quot;A&quot; regardless of if it is capitalized or not. It then removes the cases that don&#39;t correspond to the &quot;I&quot; or &quot;A&quot;.","title":"How to remove a specific String from a String ArrayList","body":"<p>I have an ArrayList that contains a bunch of words each in their own cell that come from a file. Some of those words are complete word like &quot;physicist, water, gravity&quot;. However, other words are just letters that got split throughout the process of the program. For example, &quot;it's&quot; became &quot;it&quot; and &quot;s&quot;. As such, I want to remove all of the single letter <em>words</em> except &quot;I&quot; and &quot;A&quot; because these are actual words.</p>\n<p>This is the code I have for now:</p>\n<pre><code>for(int i=0;i&lt;dictionnary.size();i++) {\n            if(dictionnary.get(i).compareToIgnoreCase(&quot;I&quot;)!=0||dictionnary.get(i).compareToIgnoreCase(&quot;A&quot;)!=0||dictionnary.get(i).length()==1){\n                dictionnary.remove(i);\n            }\n    }\n</code></pre>\n<p>Where dictionnary is my ArrayList. However, when I print out the content of my arrayList the &quot;s&quot; from it's remains. I also know that there was originally a word &quot;E&quot; that got removed throughout the process above. I'm confused as to why the &quot;S&quot; remains and how to fix it.</p>\n<p>From my understanding this code goes through the ArrayList and checks if the length of the case is 1 (which is the case for all single letter <em>words</em>) as well as checking if that case is a case of &quot;I&quot; or &quot;A&quot; regardless of if it is capitalized or not. It then removes the cases that don't correspond to the &quot;I&quot; or &quot;A&quot;.</p>\n"},{"tags":["java","mouseevent","action","abstract-action"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1649956565,"post_id":71875391,"comment_id":127011000,"body_markdown":"You never want to &quot;wait&quot; in a program that uses an event-driven programming paradigm and instead should have the program alter the behavior of its listeners depending on its state. As for your specific problem, if you don&#39;t get a decent answer soon, consider telling and showing more details of the problem, including possibly an [mre] program code post with the question.","body":"You never want to &quot;wait&quot; in a program that uses an event-driven programming paradigm and instead should have the program alter the behavior of its listeners depending on its state. As for your specific problem, if you don&#39;t get a decent answer soon, consider telling and showing more details of the problem, including possibly an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> program code post with the question."},{"owner":{"account_id":21192751,"reputation":329,"user_id":15584917,"display_name":"1288Meow"},"score":0,"creation_date":1650013827,"post_id":71875391,"comment_id":127022262,"body_markdown":"Thank you! Your comment really helped me think of the problem in a different way and I was able to find a solution.","body":"Thank you! Your comment really helped me think of the problem in a different way and I was able to find a solution."}],"owner":{"account_id":21192751,"reputation":329,"user_id":15584917,"display_name":"1288Meow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649956410,"creation_date":1649956410,"question_id":71875391,"body_markdown":"I am trying to write an AbstractAction class which waits for a mouse click event and then processes the Object clicked. Is there a relatively simple way to do this? \r\n\r\nAlso, if the user clicks the wrong type of object, would like to ask the user to try again.\r\n\r\n\r\n\tprivate class MyAction extends AbstractAction implements EventListener {\r\n\r\n\t\tMyAction() {\r\n\t\t\tsuper(&quot;Do something...&quot;);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t */\r\n\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\t\t// Wait for User to click to select Object\r\n\t\t\t\tObject o = ...;\r\n\t\t\t\t// Do something with object that was clicked/selected\r\n\t\t}\r\n\t\t\r\n\t}","title":"Have an Abstract Action wait for a Mouse Event?","body":"<p>I am trying to write an AbstractAction class which waits for a mouse click event and then processes the Object clicked. Is there a relatively simple way to do this?</p>\n<p>Also, if the user clicks the wrong type of object, would like to ask the user to try again.</p>\n<pre><code>private class MyAction extends AbstractAction implements EventListener {\n\n    MyAction() {\n        super(&quot;Do something...&quot;);\n    }\n\n    /**\n     *\n     */\n    public void actionPerformed(ActionEvent arg0) {\n            // Wait for User to click to select Object\n            Object o = ...;\n            // Do something with object that was clicked/selected\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","exception","junit","assert","ioexception"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1649955193,"post_id":71875065,"comment_id":127010622,"body_markdown":"Just curious: If an IOException is thrown when opening the file, how would you continue after with no data?","body":"Just curious: If an IOException is thrown when opening the file, how would you continue after with no data?"},{"owner":{"account_id":18544814,"reputation":1,"user_id":13512451,"display_name":"ggtr"},"score":0,"creation_date":1649956711,"post_id":71875065,"comment_id":127011038,"body_markdown":"The exception I&#39;m looking for is an exception triggered by another method that is called in etlArticles. I&#39;m not talking about exceptions connected to the file operations.","body":"The exception I&#39;m looking for is an exception triggered by another method that is called in etlArticles. I&#39;m not talking about exceptions connected to the file operations."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1649958936,"post_id":71875065,"comment_id":127011743,"body_markdown":"in your question you asked &quot;How should I write if I want to check if an IOException was thrown&quot; then in your response to my comment above, you stated: &quot;I&#39;m not talking about exceptions connected to the file operations&quot;. Based on your sample code, this is seemingly contradictory. Can you explain what you are truly trying to debug/fix?","body":"in your question you asked &quot;How should I write if I want to check if an IOException was thrown&quot; then in your response to my comment above, you stated: &quot;I&#39;m not talking about exceptions connected to the file operations&quot;. Based on your sample code, this is seemingly contradictory. Can you explain what you are truly trying to debug/fix?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1649958967,"post_id":71875065,"comment_id":127011754,"body_markdown":"I’m voting to close this question because this question makes no sense","body":"I’m voting to close this question because this question makes no sense"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649955889,"creation_date":1649955889,"answer_id":71875286,"question_id":71875065,"body_markdown":"Simple; a try/catch statement will take care of it.\r\n\r\nReplace this:\r\n\r\n&gt; ```java\r\n&gt; service.etlArticles(listOfArticles.stream().flatMap(List::stream).collect(Collectors.toList())));\r\n&gt; ```\r\n\r\nWith:\r\n\r\n```java\r\ntry {\r\n \r\n service.etlArticles(listOfArticles.stream().flatMap(List::stream).collect(Collectors.toList())));\r\n} catch (IOException e) {\r\n  // Code jumps to here if an IOException occurs during the execution of anything in the try block\r\n}\r\n```\r\n\r\nYou are free to e.g. do some logging and then just `Assert.fail`, if you want.\r\n\r\nassertThrows is quite simple, all it does is this:\r\n\r\n```java\r\n  try {\r\n    runThatCode();\r\n  } catch (Throwable e) {\r\n    if (e instanceof TypeThatShouldBeThrown) {\r\n      // Great, that means the code is working as designed, so, just...\r\n      return;\r\n    }\r\n    // If we get here, an exception was thrown, but it wasn&#39;t the right type.\r\n    // Let&#39;s just throw it, the test framework will register it as a fail.\r\n    throw e;\r\n  }\r\n\r\n  // If we get here, the exception was NOT thrown, and that&#39;s bad, so..\r\n  Assert.fail(&quot;Expected exception &quot; + expected + &quot; but didn&#39;t see it.&quot;);\r\n}\r\n```\r\n\r\nNow that you know how it works, you can write it yourself and thus add or change or log or whatever you want to do during this process at the right place. However given you know it&#39;s `IOException`, instead of an `instanceof` check you can just `catch (IOException e)`, simpler.","title":"Check if an exception was thrown and continue after the exception was thrown","body":"<p>Simple; a try/catch statement will take care of it.</p>\n<p>Replace this:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>service.etlArticles(listOfArticles.stream().flatMap(List::stream).collect(Collectors.toList())));\n</code></pre>\n</blockquote>\n<p>With:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n \n service.etlArticles(listOfArticles.stream().flatMap(List::stream).collect(Collectors.toList())));\n} catch (IOException e) {\n  // Code jumps to here if an IOException occurs during the execution of anything in the try block\n}\n</code></pre>\n<p>You are free to e.g. do some logging and then just <code>Assert.fail</code>, if you want.</p>\n<p>assertThrows is quite simple, all it does is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  try {\n    runThatCode();\n  } catch (Throwable e) {\n    if (e instanceof TypeThatShouldBeThrown) {\n      // Great, that means the code is working as designed, so, just...\n      return;\n    }\n    // If we get here, an exception was thrown, but it wasn't the right type.\n    // Let's just throw it, the test framework will register it as a fail.\n    throw e;\n  }\n\n  // If we get here, the exception was NOT thrown, and that's bad, so..\n  Assert.fail(&quot;Expected exception &quot; + expected + &quot; but didn't see it.&quot;);\n}\n</code></pre>\n<p>Now that you know how it works, you can write it yourself and thus add or change or log or whatever you want to do during this process at the right place. However given you know it's <code>IOException</code>, instead of an <code>instanceof</code> check you can just <code>catch (IOException e)</code>, simpler.</p>\n"}],"owner":{"account_id":18544814,"reputation":1,"user_id":13512451,"display_name":"ggtr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649955889,"creation_date":1649954793,"question_id":71875065,"body_markdown":"I want to make a test that reads from a file some data and passes that data to a function. That function calls other methods and some of them throw some exceptions. I&#39;m interested in how can I check whether or not calling the method with the parameters from the file triggered an IOException somewhere along. I know that the code snippet provided will stop the execution because I&#39;ve used assert. How should I write if I want to check if an IOException was thrown and if it was, to get the error message, without stopping the execution of the test? Thanks!\r\n\r\n    void test() throws IOException {\r\n        Service service = helperFunction();\r\n        File articles = new File(&quot;file.txt&quot;);\r\n        Scanner scanner = new Scanner(articles);\r\n        while(scanner.hasNextLine()) {\r\n            String line = scanner.nextLine();\r\n            line = line.replaceAll(&quot;[^\\\\d]&quot;, &quot; &quot;);\r\n            line = line.trim();\r\n            line = line.replaceAll(&quot; +&quot;, &quot; &quot;);\r\n            String[] numberOnTheLine = line.split(&quot; &quot;);\r\n \r\n            List&lt;Integer&gt; list = Arrays.stream(numberOnTheLine).map(Integer::valueOf).collect(Collectors.toList());\r\n            Article article = new Article(Long.valueOf(list.get(0)),\r\n                    new HashSet&lt;&gt;(List.of(new Version(list.get(1)))));\r\n \r\n            List&lt;List&lt;Article&gt;&gt; listOfArticles = Collections.singletonList(List.of(article));\r\n            Assertions.assertThrows(IOException.class,\r\n                    () -&gt; service.etlArticles(listOfArticles.stream().flatMap(List::stream).collect(Collectors.toList())));\r\n        }\r\n    }","title":"Check if an exception was thrown and continue after the exception was thrown","body":"<p>I want to make a test that reads from a file some data and passes that data to a function. That function calls other methods and some of them throw some exceptions. I'm interested in how can I check whether or not calling the method with the parameters from the file triggered an IOException somewhere along. I know that the code snippet provided will stop the execution because I've used assert. How should I write if I want to check if an IOException was thrown and if it was, to get the error message, without stopping the execution of the test? Thanks!</p>\n<pre><code>void test() throws IOException {\n    Service service = helperFunction();\n    File articles = new File(&quot;file.txt&quot;);\n    Scanner scanner = new Scanner(articles);\n    while(scanner.hasNextLine()) {\n        String line = scanner.nextLine();\n        line = line.replaceAll(&quot;[^\\\\d]&quot;, &quot; &quot;);\n        line = line.trim();\n        line = line.replaceAll(&quot; +&quot;, &quot; &quot;);\n        String[] numberOnTheLine = line.split(&quot; &quot;);\n\n        List&lt;Integer&gt; list = Arrays.stream(numberOnTheLine).map(Integer::valueOf).collect(Collectors.toList());\n        Article article = new Article(Long.valueOf(list.get(0)),\n                new HashSet&lt;&gt;(List.of(new Version(list.get(1)))));\n\n        List&lt;List&lt;Article&gt;&gt; listOfArticles = Collections.singletonList(List.of(article));\n        Assertions.assertThrows(IOException.class,\n                () -&gt; service.etlArticles(listOfArticles.stream().flatMap(List::stream).collect(Collectors.toList())));\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","objectinputstream","eofexception"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649941604,"post_id":71872137,"comment_id":127005290,"body_markdown":"Please tell the details of your problem -- what exception are you seeing (if any)? Also, an OOS cannot write to a text file since it outputs binary data, not text data.","body":"Please tell the details of your problem -- what exception are you seeing (if any)? Also, an OOS cannot write to a text file since it outputs binary data, not text data."},{"owner":{"account_id":22142810,"reputation":23,"user_id":16392608,"display_name":"VeraTuran"},"score":0,"creation_date":1649944475,"post_id":71872137,"comment_id":127006429,"body_markdown":"java.io.EOFException\n\tat java.base/java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2956)\n\tat java.base/java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:3451)\n\tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:988)\n\tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:419)\n\tat idpack.Main.main(Main.java:30)","body":"java.io.EOFException \tat java.base/java.io.ObjectInputStream$PeekInputStream.readFull&zwnj;&#8203;y(ObjectInputStream.&zwnj;&#8203;java:2956) \tat java.base/java.io.ObjectInputStream$BlockDataInputStream.rea&zwnj;&#8203;dShort(ObjectInputSt&zwnj;&#8203;ream.java:3451) \tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectI&zwnj;&#8203;nputStream.java:988) \tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream&zwnj;&#8203;.java:419) \tat idpack.Main.main(Main.java:30)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649944762,"post_id":71872137,"comment_id":127006554,"body_markdown":"You appear to be trying to open the file for both writing and reading at the same time. That won&#39;t work. Also ObjectInputStream will throw an EOFException when it has completed reading in the data as per the API.","body":"You appear to be trying to open the file for both writing and reading at the same time. That won&#39;t work. Also ObjectInputStream will throw an EOFException when it has completed reading in the data as per the API."},{"owner":{"account_id":22142810,"reputation":23,"user_id":16392608,"display_name":"VeraTuran"},"score":0,"creation_date":1649944790,"post_id":71872137,"comment_id":127006575,"body_markdown":"Whats puzzling is, when I write ```oos.writeObject(new User (&quot;someStringid&quot;, &quot;someotherstring&quot;)); ``` directly in the code it absolutely will write it in the text file. If oos can&#39;t get String data, then how is this possible? And how do I get it to write scanner input?","body":"Whats puzzling is, when I write <code>oos.writeObject(new User (&quot;someStringid&quot;, &quot;someotherstring&quot;)); </code> directly in the code it absolutely will write it in the text file. If oos can&#39;t get String data, then how is this possible? And how do I get it to write scanner input?"},{"owner":{"account_id":22142810,"reputation":23,"user_id":16392608,"display_name":"VeraTuran"},"score":0,"creation_date":1649944956,"post_id":71872137,"comment_id":127006646,"body_markdown":"I see! What I am trying to do is basically to get a scanner going in the console, that writes on the text file, then after having finished writing, display the content in the console as well. How would I go about that then?","body":"I see! What I am trying to do is basically to get a scanner going in the console, that writes on the text file, then after having finished writing, display the content in the console as well. How would I go about that then?"},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1649945037,"post_id":71872137,"comment_id":127006678,"body_markdown":"Do you need a User object in the file or its properties like id from scanner? if only id so write id and not through ObjectOutputstream","body":"Do you need a User object in the file or its properties like id from scanner? if only id so write id and not through ObjectOutputstream"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649945043,"post_id":71872137,"comment_id":127006681,"body_markdown":"*&quot;If oos can&#39;t get String data&quot;* -- I never stated this. I stated that OOS doesn&#39;t write data as text. It writes data as binary data.","body":"<i>&quot;If oos can&#39;t get String data&quot;</i> -- I never stated this. I stated that OOS doesn&#39;t write data as text. It writes data as binary data."},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1649945114,"post_id":71872137,"comment_id":127006713,"body_markdown":"oos must not write as text - it writes object serialized to bytes in Java internal format. BTW String is also an Object - everything in Java are objects, but few primitives","body":"oos must not write as text - it writes object serialized to bytes in Java internal format. BTW String is also an Object - everything in Java are objects, but few primitives"}],"answers":[{"tags":[],"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649955683,"creation_date":1649944744,"answer_id":71872880,"question_id":71872137,"body_markdown":"Looks like - there are some basic Java conceptions you missed:\r\n1. &quot;Object&quot; in Java is what you defined and it is internal for java object not represented by String or anything else.\r\n\r\n2. When you use ObjectOutputStream to write object - JVM serialize it into internal for Java serilized form of bytes. \r\n To use it your User object must implements java.io.Serializable interface.\r\n\r\n you need to check - does User class definition looks like \r\n\r\n    public class User implements Serializable {\r\n    ...\r\n\r\n3. then when you write your User object what will be in file is those bytes which can be read back as User object by  \r\n\r\n   ```\r\n   ois.readObject()\r\n   ```\r\nSo... your file regardless of how you name it will have bytes which are serializable form of your Object.\r\n\r\nMore: \r\n- when you try to print your object using toString() method it prints return from User.toString() method - if it overrides Java default one for Object class.\r\nIf User class does not override toString() it will look like \r\n\r\n    User@1234ab56\r\n\r\n- you do not need to wrap FileOutputSteram to BufferedOutputStream (same for FielInputStream) Object streams will work without it. \r\n\r\n- and keep in mind your code creates two different User objects at\r\n\r\n  ```\r\n    User u = new User(id, mdp); // u is the one\r\n\r\n    oos.writeObject(new User (id, mdp)); // another one written to the file \r\n  ```\r\n\r\ndid you do it on purpose?\r\n\r\n- this loop has no sense at all\r\n\r\n   ```\r\n   for (User t:ul) {\r\n      System.out.println(((User)ois.readObject()).toString());\r\n   }\r\n   ```\r\n\r\n if there are 2 or more user objects in ul - at second attempt to read there will be EOF exception - ois is already at the end of file.\r\n \r\nUPD:\r\nI feel like &quot;Object&quot; conception from script languages (e.g. JavaScript) misleads you... what I can suggest: \r\n1. comment out all reading operations and run only &quot;write&quot; part. \r\n2. examine result file - is it what you expected? if not make it &quot;write&quot; part to do what you want to read. \r\n3. The work on &quot;read&quot; part.\r\n4. BTW you have to properly close OutputStream/file before attempt to read from it\r\n5. when you read from it once you need to close it and have a new InputStream to start over...\r\n","title":"Why doesn&#39;t the ObjectOutputStream write the variables in the file as intended?","body":"<p>Looks like - there are some basic Java conceptions you missed:</p>\n<ol>\n<li><p>&quot;Object&quot; in Java is what you defined and it is internal for java object not represented by String or anything else.</p>\n</li>\n<li><p>When you use ObjectOutputStream to write object - JVM serialize it into internal for Java serilized form of bytes.\nTo use it your User object must implements java.io.Serializable interface.</p>\n</li>\n</ol>\n<p>you need to check - does User class definition looks like</p>\n<pre><code>public class User implements Serializable {\n...\n</code></pre>\n<ol start=\"3\">\n<li><p>then when you write your User object what will be in file is those bytes which can be read back as User object by</p>\n<pre><code>ois.readObject()\n</code></pre>\n</li>\n</ol>\n<p>So... your file regardless of how you name it will have bytes which are serializable form of your Object.</p>\n<p>More:</p>\n<ul>\n<li><p>when you try to print your object using toString() method it prints return from User.toString() method - if it overrides Java default one for Object class.\nIf User class does not override toString() it will look like</p>\n<p>User@1234ab56</p>\n</li>\n<li><p>you do not need to wrap FileOutputSteram to BufferedOutputStream (same for FielInputStream) Object streams will work without it.</p>\n</li>\n<li><p>and keep in mind your code creates two different User objects at</p>\n<pre><code>  User u = new User(id, mdp); // u is the one\n\n  oos.writeObject(new User (id, mdp)); // another one written to the file \n</code></pre>\n</li>\n</ul>\n<p>did you do it on purpose?</p>\n<ul>\n<li><p>this loop has no sense at all</p>\n<pre><code>for (User t:ul) {\n    System.out.println(((User)ois.readObject()).toString());\n}\n</code></pre>\n</li>\n</ul>\n<p>if there are 2 or more user objects in ul - at second attempt to read there will be EOF exception - ois is already at the end of file.</p>\n<p>UPD:\nI feel like &quot;Object&quot; conception from script languages (e.g. JavaScript) misleads you... what I can suggest:</p>\n<ol>\n<li>comment out all reading operations and run only &quot;write&quot; part.</li>\n<li>examine result file - is it what you expected? if not make it &quot;write&quot; part to do what you want to read.</li>\n<li>The work on &quot;read&quot; part.</li>\n<li>BTW you have to properly close OutputStream/file before attempt to read from it</li>\n<li>when you read from it once you need to close it and have a new InputStream to start over...</li>\n</ol>\n"}],"owner":{"account_id":22142810,"reputation":23,"user_id":16392608,"display_name":"VeraTuran"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649944636,"answer_count":1,"score":0,"last_activity_date":1649955683,"creation_date":1649941504,"question_id":71872137,"body_markdown":"I am learning Java and I&#39;m trying to get a programme to write the attributes of one class instance of another into a .txt file, like a phonebook for instance. I have a class User :\r\n\r\n```\r\npackage idpack;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class User implements Serializable {\r\n\tprivate String id;\r\n\tprivate String mdp;\r\n\t\r\n\tpublic User (String id, String mdp) {\r\n\t\tthis.id = id;\r\n\t\tthis.mdp = mdp;\r\n\t}\r\n}\r\n```\r\nand a main, in which I declare my ObjectOutputStream, ObjectInputStream, my scanner and then try to write the input from the scanner into the file. It looks like this: \r\n```\r\npackage idpack;\r\n\r\n// import everything here\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tObjectInputStream ois;\r\n\t\tObjectOutputStream oos;\r\n\t\t\r\n\t\ttry {\r\n\t\t\toos = new ObjectOutputStream(\r\n\t\t\t\t\tnew BufferedOutputStream(\r\n\t\t\t\t\t\t\tnew FileOutputStream(\r\n\t\t\t\t\t\t\t\t\tnew File(&quot;identifiant.txt&quot;))));\r\n\t\t\t\r\n\t\t\tois = new ObjectInputStream(\r\n\t\t\t\t\tnew BufferedInputStream(\r\n\t\t\t\t\t\t\tnew FileInputStream(\r\n\t\t\t\t\t\t\t\t\tnew File (&quot;identifiant.txt&quot;))));\r\n\t\t\t\r\n\t\t\tArrayList&lt;User&gt; ul = new ArrayList&lt;User&gt;();\r\n\t\t\tScanner scan = new Scanner(System.in);\r\n\t\t\tboolean isTyping = true;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\twhile(isTyping) {\r\n\t\t\t\t\tSystem.out.println(&quot;press[&#39;x&#39; to exit]\\n = type in the id :&quot;);\r\n\t\t\t\t\tString id = scan.next();\r\n\t\t\t\t\tif (id.equalsIgnoreCase(&quot;x&quot;)) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;type in the number :&quot;);\r\n\t\t\t\t\tString mdp = scan.next();\r\n\t\t\t\t\tUser u = new User(id, mdp);\r\n\t\t\t\t\tul.add(u);\r\n\t\t\t\t\toos.writeObject(new User (id, mdp));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (User t:ul) {\r\n\t\t\t\t\tSystem.out.println(((User)ois.readObject()).toString());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\toos.close();\r\n\t\t\tois.close();\r\n\t\t\t\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (EOFException e) { // the console throws EOFException ObjectInputStream of all kinds, so I though catching them would be a good idea, but this code doesn&#39;t do anything to remedy it\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI have tried moving around where I close oos and ois and getting rid of the first try catch block, but to no avail. The scanner in itself is working, I largely used this post as a model: https://stackoverflow.com/questions/52181838/adding-objects-to-an-array-list-with-scanner-in-java","title":"Why doesn&#39;t the ObjectOutputStream write the variables in the file as intended?","body":"<p>I am learning Java and I'm trying to get a programme to write the attributes of one class instance of another into a .txt file, like a phonebook for instance. I have a class User :</p>\n<pre><code>package idpack;\n\nimport java.io.Serializable;\n\npublic class User implements Serializable {\n    private String id;\n    private String mdp;\n    \n    public User (String id, String mdp) {\n        this.id = id;\n        this.mdp = mdp;\n    }\n}\n</code></pre>\n<p>and a main, in which I declare my ObjectOutputStream, ObjectInputStream, my scanner and then try to write the input from the scanner into the file. It looks like this:</p>\n<pre><code>package idpack;\n\n// import everything here\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        ObjectInputStream ois;\n        ObjectOutputStream oos;\n        \n        try {\n            oos = new ObjectOutputStream(\n                    new BufferedOutputStream(\n                            new FileOutputStream(\n                                    new File(&quot;identifiant.txt&quot;))));\n            \n            ois = new ObjectInputStream(\n                    new BufferedInputStream(\n                            new FileInputStream(\n                                    new File (&quot;identifiant.txt&quot;))));\n            \n            ArrayList&lt;User&gt; ul = new ArrayList&lt;User&gt;();\n            Scanner scan = new Scanner(System.in);\n            boolean isTyping = true;\n            \n            try {\n                while(isTyping) {\n                    System.out.println(&quot;press['x' to exit]\\n = type in the id :&quot;);\n                    String id = scan.next();\n                    if (id.equalsIgnoreCase(&quot;x&quot;)) {\n                        break;\n                    }\n                    System.out.println(&quot;type in the number :&quot;);\n                    String mdp = scan.next();\n                    User u = new User(id, mdp);\n                    ul.add(u);\n                    oos.writeObject(new User (id, mdp));\n                }\n                \n                for (User t:ul) {\n                    System.out.println(((User)ois.readObject()).toString());\n                }\n                \n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            \n            oos.close();\n            ois.close();\n            \n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (EOFException e) { // the console throws EOFException ObjectInputStream of all kinds, so I though catching them would be a good idea, but this code doesn't do anything to remedy it\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I have tried moving around where I close oos and ois and getting rid of the first try catch block, but to no avail. The scanner in itself is working, I largely used this post as a model: <a href=\"https://stackoverflow.com/questions/52181838/adding-objects-to-an-array-list-with-scanner-in-java\">Adding objects to an array list with scanner in Java</a></p>\n"},{"tags":["java","jdatechooser"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1396989421,"post_id":22947596,"comment_id":35034295,"body_markdown":"I don&#39;t think getDate returns a String","body":"I don&#39;t think getDate returns a String"},{"owner":{"account_id":3701070,"reputation":13,"user_id":3080796,"accept_rate":57,"display_name":"XenonDragon"},"score":0,"creation_date":1396989671,"post_id":22947596,"comment_id":35034425,"body_markdown":"Okay then, what data Type does it return? And how do I get the date from it?","body":"Okay then, what data Type does it return? And how do I get the date from it?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1396989760,"post_id":22947596,"comment_id":35034477,"body_markdown":"It might also help if you could tell us which JDateChooser you&#39;re using","body":"It might also help if you could tell us which JDateChooser you&#39;re using"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1396989960,"post_id":22947596,"comment_id":35034595,"body_markdown":"Like most languages, time in Java is representation of a period of time since a fixed moment in time. In Java, this is represented by the number of milliseconds since the unix epoch and is represented by the java.util.Date class","body":"Like most languages, time in Java is representation of a period of time since a fixed moment in time. In Java, this is represented by the number of milliseconds since the unix epoch and is represented by the java.util.Date class"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1396989988,"post_id":22947596,"comment_id":35034614,"body_markdown":"I did a google search and found no less then 4 different versions. Where did you download it from?","body":"I did a google search and found no less then 4 different versions. Where did you download it from?"},{"owner":{"account_id":3701070,"reputation":13,"user_id":3080796,"accept_rate":57,"display_name":"XenonDragon"},"score":0,"creation_date":1396990113,"post_id":22947596,"comment_id":35034680,"body_markdown":"I downloaded it from toedtr","body":"I downloaded it from toedtr"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1396990187,"post_id":22947596,"comment_id":35034730,"body_markdown":"Good, because that&#39;s the JavaDocs I referenced in my answer","body":"Good, because that&#39;s the JavaDocs I referenced in my answer"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396989651,"creation_date":1396989651,"answer_id":22947725,"question_id":22947596,"body_markdown":"If I have the right component, the [Java Docs](http://max-server.myftp.org/jcalendar/ibuild/dist/doc/api/com/toedter/calendar/JDateChooser.html#getDate()) show that the `getDate` method returns `Date`\r\n\r\n&gt; getDate&lt;br&gt;&lt;br&gt;\r\n&gt; \r\n&gt; public java.util.Date getDate()&lt;br&gt;&lt;br&gt; Returns the date. If the\r\n&gt; JDateChooser is started with a null date and no date was set by the\r\n&gt; user, null is returned.&lt;br&gt;&lt;br&gt; Returns:&lt;br&gt; the current date\r\n\r\n","title":"How to retrieve chosen date from JDatechooser?","body":"<p>If I have the right component, the <a href=\"http://max-server.myftp.org/jcalendar/ibuild/dist/doc/api/com/toedter/calendar/JDateChooser.html#getDate%28%29\" rel=\"nofollow\">Java Docs</a> show that the <code>getDate</code> method returns <code>Date</code></p>\n\n<blockquote>\n  <p>getDate<br><br></p>\n  \n  <p>public java.util.Date getDate()<br><br> Returns the date. If the\n  JDateChooser is started with a null date and no date was set by the\n  user, null is returned.<br><br> Returns:<br> the current date</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":56888,"reputation":11998,"user_id":170383,"accept_rate":71,"display_name":"David R Tribble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1396991068,"creation_date":1396991068,"answer_id":22948141,"question_id":22947596,"body_markdown":"Retrieve the date that the user selected by calling `getDate()`, which returns a `Date` object. Then convert that object into a `String` by calling `SimpleDateFormat.format()`:\r\n\r\n    Date              d;\r\n    SimpleDateFormat  sdf;\r\n    String            s;\r\n    \r\n    d = dateChooser.getDate();                      // Date selected by user\r\n    sdf = SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);  // Or whatever format you need\r\n    s = sdf.format(d);                              // Viola\r\n\r\n**See also**: [Question 5683728][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5683728/convert-java-util-date-to-string","title":"How to retrieve chosen date from JDatechooser?","body":"<p>Retrieve the date that the user selected by calling <code>getDate()</code>, which returns a <code>Date</code> object. Then convert that object into a <code>String</code> by calling <code>SimpleDateFormat.format()</code>:</p>\n\n<pre><code>Date              d;\nSimpleDateFormat  sdf;\nString            s;\n\nd = dateChooser.getDate();                      // Date selected by user\nsdf = SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\");  // Or whatever format you need\ns = sdf.format(d);                              // Viola\n</code></pre>\n\n<p><strong>See also</strong>: <a href=\"https://stackoverflow.com/questions/5683728/convert-java-util-date-to-string\">Question 5683728</a></p>\n"},{"tags":[],"owner":{"account_id":20545100,"reputation":15,"user_id":15079157,"display_name":"Vishwjeet Ujgare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649955416,"creation_date":1649955416,"answer_id":71875198,"question_id":22947596,"body_markdown":" String dob =new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;).format(jDateChooser1.getDate());","title":"How to retrieve chosen date from JDatechooser?","body":"<p>String dob =new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;).format(jDateChooser1.getDate());</p>\n"}],"owner":{"account_id":3701070,"reputation":13,"user_id":3080796,"accept_rate":57,"display_name":"XenonDragon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22948141,"answer_count":3,"score":0,"last_activity_date":1649955416,"creation_date":1396989218,"question_id":22947596,"body_markdown":"I am using Eclipse to do a college project on Java. I realized that java does not have a built in date selector like C#, so I downloaded and added `JDateChooser`. I tried to retrieve the chosen date but it failed:\r\n\r\n     String Date = dateChooser.getDate(); //I want to the date to be retrieved as string\r\n\r\nAny ideas? Is there some kind of initialization that I must do?","title":"How to retrieve chosen date from JDatechooser?","body":"<p>I am using Eclipse to do a college project on Java. I realized that java does not have a built in date selector like C#, so I downloaded and added <code>JDateChooser</code>. I tried to retrieve the chosen date but it failed:</p>\n\n<pre><code> String Date = dateChooser.getDate(); //I want to the date to be retrieved as string\n</code></pre>\n\n<p>Any ideas? Is there some kind of initialization that I must do?</p>\n"},{"tags":["java","salesforce","apex-code","unhandled-exception","salesforce-flow"],"answers":[{"tags":[],"owner":{"account_id":149249,"reputation":2211,"user_id":361599,"display_name":"JCD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343246562,"creation_date":1343246562,"answer_id":11657709,"question_id":11656492,"body_markdown":"Take a look at the SOQL statement that is being executed in the error message:\r\n\r\n    Account.Annual_RR__c FROM Account WHERE (Account.Id = &#39;{!Commission__c.AccountId__c}&#39;)\r\n\r\nThis is telling me that the link in your email template is passing the literal value &quot;{!Commission_\\_c.AccountId__c}&quot; into your SOQL, rather than binding the value of that field when sending the email out. So rather than passing an Account Id into the URL, you&#39;re passing this string which is most certainly not what the flow is expecting.\r\n\r\nThis can happen when the API name of the field is entered incorrectly in the email template, or if the record bound to the template isn&#39;t of type `Commission__c` as you were expecting. So this could be one of two things: either the record you&#39;re sending out isn&#39;t of the correct object type for email template `00XF0000000LfE0`, or there is no `AccountId__c` field on the `Commission__c` object.","title":"Salesforce: How do I get a flow to realize that it needs to pull information from the account is referenced in my apex scheduler?","body":"<p>Take a look at the SOQL statement that is being executed in the error message:</p>\n\n<pre><code>Account.Annual_RR__c FROM Account WHERE (Account.Id = '{!Commission__c.AccountId__c}')\n</code></pre>\n\n<p>This is telling me that the link in your email template is passing the literal value \"{!Commission__c.AccountId__c}\" into your SOQL, rather than binding the value of that field when sending the email out. So rather than passing an Account Id into the URL, you're passing this string which is most certainly not what the flow is expecting.</p>\n\n<p>This can happen when the API name of the field is entered incorrectly in the email template, or if the record bound to the template isn't of type <code>Commission__c</code> as you were expecting. So this could be one of two things: either the record you're sending out isn't of the correct object type for email template <code>00XF0000000LfE0</code>, or there is no <code>AccountId__c</code> field on the <code>Commission__c</code> object.</p>\n"}],"owner":{"account_id":1660679,"reputation":47,"user_id":1529039,"accept_rate":17,"display_name":"user1529039"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649955317,"creation_date":1343241903,"question_id":11656492,"body_markdown":"I am new to apex and have built an apex schedule class that runs everyday. If an account has an account review date for commissions is two weeks (14 days) away the scheduler will send an email to our Sales Department. The email contains a link to a flow. The flow starts a process to calculate the new commission. To do that, the flow needs to understand to pull information from the account that triggered the email to be sent, the account that has an account review date in 2weeks.\r\n\r\nCurrently, the email sends out fine with the link to the flow. The link to the flow works, but once you get to the flow, the flow does not know/understand what account it should be pulling information from. I’m not sure if I need to alter my code in my scheduler and/or the code in my flow. \r\n\r\nHere is how the flow is accessing information: \r\n\r\nBefore the first screen, a record lookup in flow occurs. It pulls the information from the account ID and a variable, vaAccountID. I think that the variable {!vaAccountID} is populated with the AccountID that is linked to the commission. \r\n\r\nWhen I run my scheduler, I have it determine if there is an account with an account review date based upon the account Id. It sends the email template with the flow link to the sales department. \r\n\r\nThe scheduler sends the email and is “happy”. The criteria it needs to execute the method is complete (there is an account with an account review date 14 days from now and it sends the email). \r\n\r\n    global class AccountReviewSchedulerEmailAcc implements Schedulable { \r\n\r\n        global void execute (SchedulableContext ctx) \r\n        { \r\n            sendEmail(); \r\n        }\r\n\r\n        public void sendEmail()\r\n        {\r\n    \r\n            for(Account acc : [SELECT Id FROM Account WHERE Next_Account_Review_Date__c = : system.Today().addDays(14)])\r\n            {\r\n                Messaging.SingleEmailMessage mail = new Messaging.SingleEmailMessage(); \r\n                mail.setTemplateId(&#39;00XF0000000LfE0&#39;); \r\n                mail.setTargetObjectId(&#39;005J0000000JWYx&#39;); \r\n                mail.setSaveAsActivity(false);\r\n                Messaging.sendEmail(new Messaging.SingleEmailMessage[] {mail }); \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThe flow however, is not “happy”. It does not know what account to pull information from. \r\n\r\nIn the first screen of the flow, it’s supposed to show the recurring revenue and link to the account page. The recurring revenue field is blank. The link to account page does not work. \r\n\r\nIf I try to advance past the first screen of the flow, I get a generic error screen from Salesforce and a detailed error message from Salesforce. It says: \r\n\r\n    Encountered unhandled fault when running process Organic_Commission_Determination_Flow/301J000000001Tx exception by user/organization: 00DJ00000000YTl/{4} Source organization: 00DA0000000KZI8 (null)\r\n    interaction.dal.exception.DALExecutionFault: ; nested exception is: \r\n    \tcommon.exception.ApiQueryException: \r\n    Account.Annual_RR__c FROM Account WHERE (Account.Id = &#39;{!Commission__c.AccountId__c}&#39;)\r\n                                             ^ ERROR at Row:1:Column:89 invalid ID field: {!Commission__c.AccountId__c} (There was a problem executing your command.) &gt; RETRIEVE\r\n    \r\n    caused by element : Data lookup.Lookup_Account\r\n    \r\n    caused by: interaction.dal.exception.DALExecutionFault: ; nested exception is: \r\n    \tcommon.exception.ApiQueryException: \r\n    Account.Annual_RR__c FROM Account WHERE (Account.Id = &#39;{!Commission__c.AccountId__c}&#39;)\r\n                                             ^ ERROR at Row:1:Column:89 invalid ID field: {!Commission__c.AccountId__c} (There was a problem executing your command.) &gt; RETRIEVE\r\n    \r\n    Salesforce Error ID: 580775287-15539 (1733087783)\r\n\r\nWhat does this error message mean? How can I get more information on Salesforce errors and how to trouble shoot on this matter?\r\nI understand this process is very complex but it relates back to one fundamental question: How do I get the flow to realize that it needs to pull information from the account that had the review date 14 days away in my apex scheduler? ","title":"Salesforce: How do I get a flow to realize that it needs to pull information from the account is referenced in my apex scheduler?","body":"<p>I am new to apex and have built an apex schedule class that runs everyday. If an account has an account review date for commissions is two weeks (14 days) away the scheduler will send an email to our Sales Department. The email contains a link to a flow. The flow starts a process to calculate the new commission. To do that, the flow needs to understand to pull information from the account that triggered the email to be sent, the account that has an account review date in 2weeks.</p>\n\n<p>Currently, the email sends out fine with the link to the flow. The link to the flow works, but once you get to the flow, the flow does not know/understand what account it should be pulling information from. I’m not sure if I need to alter my code in my scheduler and/or the code in my flow. </p>\n\n<p>Here is how the flow is accessing information: </p>\n\n<p>Before the first screen, a record lookup in flow occurs. It pulls the information from the account ID and a variable, vaAccountID. I think that the variable {!vaAccountID} is populated with the AccountID that is linked to the commission. </p>\n\n<p>When I run my scheduler, I have it determine if there is an account with an account review date based upon the account Id. It sends the email template with the flow link to the sales department. </p>\n\n<p>The scheduler sends the email and is “happy”. The criteria it needs to execute the method is complete (there is an account with an account review date 14 days from now and it sends the email). </p>\n\n<pre><code>global class AccountReviewSchedulerEmailAcc implements Schedulable { \n\n    global void execute (SchedulableContext ctx) \n    { \n        sendEmail(); \n    }\n\n    public void sendEmail()\n    {\n\n        for(Account acc : [SELECT Id FROM Account WHERE Next_Account_Review_Date__c = : system.Today().addDays(14)])\n        {\n            Messaging.SingleEmailMessage mail = new Messaging.SingleEmailMessage(); \n            mail.setTemplateId('00XF0000000LfE0'); \n            mail.setTargetObjectId('005J0000000JWYx'); \n            mail.setSaveAsActivity(false);\n            Messaging.sendEmail(new Messaging.SingleEmailMessage[] {mail }); \n        }\n    }\n\n}\n</code></pre>\n\n<p>The flow however, is not “happy”. It does not know what account to pull information from. </p>\n\n<p>In the first screen of the flow, it’s supposed to show the recurring revenue and link to the account page. The recurring revenue field is blank. The link to account page does not work. </p>\n\n<p>If I try to advance past the first screen of the flow, I get a generic error screen from Salesforce and a detailed error message from Salesforce. It says: </p>\n\n<pre><code>Encountered unhandled fault when running process Organic_Commission_Determination_Flow/301J000000001Tx exception by user/organization: 00DJ00000000YTl/{4} Source organization: 00DA0000000KZI8 (null)\ninteraction.dal.exception.DALExecutionFault: ; nested exception is: \n    common.exception.ApiQueryException: \nAccount.Annual_RR__c FROM Account WHERE (Account.Id = '{!Commission__c.AccountId__c}')\n                                         ^ ERROR at Row:1:Column:89 invalid ID field: {!Commission__c.AccountId__c} (There was a problem executing your command.) &gt; RETRIEVE\n\ncaused by element : Data lookup.Lookup_Account\n\ncaused by: interaction.dal.exception.DALExecutionFault: ; nested exception is: \n    common.exception.ApiQueryException: \nAccount.Annual_RR__c FROM Account WHERE (Account.Id = '{!Commission__c.AccountId__c}')\n                                         ^ ERROR at Row:1:Column:89 invalid ID field: {!Commission__c.AccountId__c} (There was a problem executing your command.) &gt; RETRIEVE\n\nSalesforce Error ID: 580775287-15539 (1733087783)\n</code></pre>\n\n<p>What does this error message mean? How can I get more information on Salesforce errors and how to trouble shoot on this matter?\nI understand this process is very complex but it relates back to one fundamental question: How do I get the flow to realize that it needs to pull information from the account that had the review date 14 days away in my apex scheduler? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1649954231,"post_id":71874858,"comment_id":127010294,"body_markdown":"Yes, it&#39;s possible.  You would use a `JTextArea` for the code.","body":"Yes, it&#39;s possible.  You would use a <code>JTextArea</code> for the code."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1649954398,"post_id":71874858,"comment_id":127010344,"body_markdown":"Since a JTextField would basically only hold a single line of possible code.","body":"Since a JTextField would basically only hold a single line of possible code."}],"answers":[{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649954115,"creation_date":1649954115,"answer_id":71874940,"question_id":71874858,"body_markdown":"You could save the contents of the text field to a file with the `.java` extension, then compile it and run the corresponding binary with `Runtime.getRuntime().exec(&quot;javac &quot; + [insert the name of your java file here]);` and `Runtime.getRuntime().exec(&quot;java &quot; + [insert class name here]);`. Though of course this wouldn&#39;t validate that the contents of the text field are valid java, nor would it work for any sufficiently complex code. For that, you&#39;d basically be writing your own IDE, which is a task too complex to be discussed in a Stack Overflow answer.","title":"How do I execute java code INSIDE a java program?","body":"<p>You could save the contents of the text field to a file with the <code>.java</code> extension, then compile it and run the corresponding binary with <code>Runtime.getRuntime().exec(&quot;javac &quot; + [insert the name of your java file here]);</code> and <code>Runtime.getRuntime().exec(&quot;java &quot; + [insert class name here]);</code>. Though of course this wouldn't validate that the contents of the text field are valid java, nor would it work for any sufficiently complex code. For that, you'd basically be writing your own IDE, which is a task too complex to be discussed in a Stack Overflow answer.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649954336,"creation_date":1649954336,"answer_id":71874978,"question_id":71874858,"body_markdown":"Yes. Short outline:\r\n\r\n - Define an empty Class (implementing some Interface if you need parameters/feedback)\r\n - Put the text from the JTextArea into that class\r\n - Use a runtime compilation (`javax.tools.ToolProvider.getSystemJavaCompiler();`)\r\n - get the class via `final URLClassLoader classLoader = new URLClassLoader(new URL[] { new File(&quot;./&quot;).toURI().toURL() });`\r\n - load the class `final Class&lt;?&gt; loadedClass = classLoader.loadClass(pFullClassName);`\r\n - cast it into your interface\r\n - call the interface&#39;s methods on it\r\n - voil&#224;\r\n\r\nAll in all it is hell to implement all that, took me 3 full days to have it working all in RAM without temporary files. Usually it&#39;s easier just to use some runtime container for JavaScript or something alike.\r\n\r\nAND there may be probles, like when getting the compiler: it might not be present in your JVM. You&#39;d have to run the code in a JDK, or add the Java Compiler jars to your classpath.","title":"How do I execute java code INSIDE a java program?","body":"<p>Yes. Short outline:</p>\n<ul>\n<li>Define an empty Class (implementing some Interface if you need parameters/feedback)</li>\n<li>Put the text from the JTextArea into that class</li>\n<li>Use a runtime compilation (<code>javax.tools.ToolProvider.getSystemJavaCompiler();</code>)</li>\n<li>get the class via <code>final URLClassLoader classLoader = new URLClassLoader(new URL[] { new File(&quot;./&quot;).toURI().toURL() });</code></li>\n<li>load the class <code>final Class&lt;?&gt; loadedClass = classLoader.loadClass(pFullClassName);</code></li>\n<li>cast it into your interface</li>\n<li>call the interface's methods on it</li>\n<li>voilà</li>\n</ul>\n<p>All in all it is hell to implement all that, took me 3 full days to have it working all in RAM without temporary files. Usually it's easier just to use some runtime container for JavaScript or something alike.</p>\n<p>AND there may be probles, like when getting the compiler: it might not be present in your JVM. You'd have to run the code in a JDK, or add the Java Compiler jars to your classpath.</p>\n"}],"owner":{"account_id":21188398,"reputation":29,"user_id":15581318,"display_name":"Peeyur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1649956753,"answer_count":2,"score":-1,"last_activity_date":1649954336,"creation_date":1649953725,"question_id":71874858,"body_markdown":"So to explain my question, I would like to be able to write code inside a JTextField and with a press of a button my program would take that code, and execute it.\r\n\r\nIs that even possible with normal java?","title":"How do I execute java code INSIDE a java program?","body":"<p>So to explain my question, I would like to be able to write code inside a JTextField and with a press of a button my program would take that code, and execute it.</p>\n<p>Is that even possible with normal java?</p>\n"},{"tags":["java","unit-testing","kotlin","testing","mockito"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1649954364,"post_id":71874951,"comment_id":127010335,"body_markdown":"What do you think the error message mean?","body":"What do you think the error message mean?"},{"owner":{"account_id":24748273,"reputation":3,"user_id":18634156,"display_name":"DopplerEffect -v"},"score":0,"creation_date":1649954797,"post_id":71874951,"comment_id":127010487,"body_markdown":"I think it&#39;s about doesn&#39;t match anylist() this save((Mutable)List&lt;ShopPartnerPayment?&gt;!). This save() it&#39;s by default in the repositoy, I&#39;m not sure how to fix it.","body":"I think it&#39;s about doesn&#39;t match anylist() this save((Mutable)List&lt;ShopPartnerPayment?&gt;!). This save() it&#39;s by default in the repositoy, I&#39;m not sure how to fix it."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1649959804,"post_id":71874951,"comment_id":127011986,"body_markdown":"Does ``anyList&lt;ShopPartnerPayment&gt;()`` help? (Maybe the type needs to be nullable too)","body":"Does <code>anyList&lt;ShopPartnerPayment&gt;()</code> help? (Maybe the type needs to be nullable too)"},{"owner":{"account_id":24748273,"reputation":3,"user_id":18634156,"display_name":"DopplerEffect -v"},"score":0,"creation_date":1649960849,"post_id":71874951,"comment_id":127012253,"body_markdown":"Hi, mm it&#39;s not possible anyList&lt;ShopPartnerPayment&gt;() but this works, ty.\nvar list = listOf&lt;ShopPartnerPayment&gt;()\nverify(shopPartnerPaymentRepository, never())?.save(list)","body":"Hi, mm it&#39;s not possible anyList&lt;ShopPartnerPayment&gt;() but this works, ty. var list = listOf&lt;ShopPartnerPayment&gt;() verify(shopPartnerPaymentRepository, never())?.save(list)"}],"owner":{"account_id":24748273,"reputation":3,"user_id":18634156,"display_name":"DopplerEffect -v"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649954194,"creation_date":1649954194,"question_id":71874951,"body_markdown":"I&#39;m doing a test class(kotlin). This class is based on another one that was written in java and in that one I haven&#39;t had this problem.\r\n\r\nHere is my test class.\r\n```\r\npackage com.fourtwenty.core.services.mgmt\r\n\r\nimport ...\r\nimport org.mockito.*\r\nimport org.mockito.runners.MockitoJUnitRunner\r\nimport java.lang.Exception\r\nimport java.util.ArrayList\r\n\r\nimport org.junit.Assert.assertEquals\r\n\r\nimport org.mockito.Matchers.anyString\r\n\r\nimport org.mockito.Mockito.*\r\n\r\n\r\n@RunWith(MockitoJUnitRunner::class)\r\nclass ShopPartnerPaymentServiceTest {\r\n    var shopPartnerPaymentService: ShopPartnerPaymentServiceImpl? = null\r\n\r\n    @Mock\r\n    var shopPartnerPaymentRepository: ShopPartnerPaymentRepository? = null\r\n\r\n    ...\r\n    \r\n    @Test\r\n    fun should_updateShopPartnerPayment_When_CallToFunction() {\r\n        //given\r\n        val shopPartnerPayment = ShopPartnerPayment()\r\n        ...\r\n        //when\r\n        Mockito.`when`(shopPartnerPaymentRepository!!.listByShop(anyString(), anyString()))\r\n            .thenReturn(existingShopPartnerPayments)\r\n        ...\r\n        //then\r\n        verify(shopPartnerPaymentRepository, never())?.save(anyList())\r\n        ...\r\n    }\r\n\r\n```\r\nBut in the last line. In verify(...)?.save(anyList())\r\nI got this error: \r\n\r\nNone of the following functions can be called with the arguments supplied.\r\n\r\n - save(ShopPartnerPayment?) defined in\r\n   com.fourtwenty.core.domain.repositories.company.ShopPartnerPaymentRepository\r\n - save((Mutable)List&lt;ShopPartnerPayment?&gt;!) defined in\r\n   com.fourtwenty.core.domain.repositories.company.ShopPartnerPaymentRepository\r\n\r\n\r\nSo, here is the repository class.\r\n```\r\npackage ...company\r\n\r\nimport ...mongo.MongoShopBaseRepository\r\nimport ...ShopPartnerPayment\r\n\r\ninterface ShopPartnerPaymentRepository : MongoShopBaseRepository&lt;ShopPartnerPayment?&gt;\r\n```\r\nAnd here impl btw. This last class is in Java.\r\n```\r\npackage ...company.impl;\r\n\r\nimport ...MongoDb;\r\nimport ...ShopPartnerPayment;\r\nimport ...impl.ShopBaseRepositoryImpl;\r\nimport ...company.ShopPartnerPaymentRepository;\r\n\r\nimport javax.inject.Inject;\r\n\r\npublic class ShopPartnerPaymentRepositoryImpl extends ShopBaseRepositoryImpl&lt;ShopPartnerPayment&gt; implements ShopPartnerPaymentRepository {\r\n\r\n    @Inject\r\n    public ShopPartnerPaymentRepositoryImpl(MongoDb mongoManager) throws Exception {\r\n        super(ShopPartnerPayment.class, mongoManager);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Error on .save() while I&#39;m doing my test class in kotlin","body":"<p>I'm doing a test class(kotlin). This class is based on another one that was written in java and in that one I haven't had this problem.</p>\n<p>Here is my test class.</p>\n<pre><code>package com.fourtwenty.core.services.mgmt\n\nimport ...\nimport org.mockito.*\nimport org.mockito.runners.MockitoJUnitRunner\nimport java.lang.Exception\nimport java.util.ArrayList\n\nimport org.junit.Assert.assertEquals\n\nimport org.mockito.Matchers.anyString\n\nimport org.mockito.Mockito.*\n\n\n@RunWith(MockitoJUnitRunner::class)\nclass ShopPartnerPaymentServiceTest {\n    var shopPartnerPaymentService: ShopPartnerPaymentServiceImpl? = null\n\n    @Mock\n    var shopPartnerPaymentRepository: ShopPartnerPaymentRepository? = null\n\n    ...\n    \n    @Test\n    fun should_updateShopPartnerPayment_When_CallToFunction() {\n        //given\n        val shopPartnerPayment = ShopPartnerPayment()\n        ...\n        //when\n        Mockito.`when`(shopPartnerPaymentRepository!!.listByShop(anyString(), anyString()))\n            .thenReturn(existingShopPartnerPayments)\n        ...\n        //then\n        verify(shopPartnerPaymentRepository, never())?.save(anyList())\n        ...\n    }\n\n</code></pre>\n<p>But in the last line. In verify(...)?.save(anyList())\nI got this error:</p>\n<p>None of the following functions can be called with the arguments supplied.</p>\n<ul>\n<li>save(ShopPartnerPayment?) defined in\ncom.fourtwenty.core.domain.repositories.company.ShopPartnerPaymentRepository</li>\n<li>save((Mutable)List&lt;ShopPartnerPayment?&gt;!) defined in\ncom.fourtwenty.core.domain.repositories.company.ShopPartnerPaymentRepository</li>\n</ul>\n<p>So, here is the repository class.</p>\n<pre><code>package ...company\n\nimport ...mongo.MongoShopBaseRepository\nimport ...ShopPartnerPayment\n\ninterface ShopPartnerPaymentRepository : MongoShopBaseRepository&lt;ShopPartnerPayment?&gt;\n</code></pre>\n<p>And here impl btw. This last class is in Java.</p>\n<pre><code>package ...company.impl;\n\nimport ...MongoDb;\nimport ...ShopPartnerPayment;\nimport ...impl.ShopBaseRepositoryImpl;\nimport ...company.ShopPartnerPaymentRepository;\n\nimport javax.inject.Inject;\n\npublic class ShopPartnerPaymentRepositoryImpl extends ShopBaseRepositoryImpl&lt;ShopPartnerPayment&gt; implements ShopPartnerPaymentRepository {\n\n    @Inject\n    public ShopPartnerPaymentRepositoryImpl(MongoDb mongoManager) throws Exception {\n        super(ShopPartnerPayment.class, mongoManager);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","math","compiler-construction","operator-precedence"],"comments":[{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1649947991,"post_id":71872538,"comment_id":127007890,"body_markdown":"The correct output would be `t1 = 5 / 3` then `t2 = 5 + t1`. `5+5` is wrong wherever it appears.","body":"The correct output would be <code>t1 = 5 &#47; 3</code> then <code>t2 = 5 + t1</code>. <code>5+5</code> is wrong wherever it appears."},{"owner":{"account_id":24633556,"reputation":7,"user_id":18532498,"display_name":"zed unseened"},"score":0,"creation_date":1649953332,"post_id":71872538,"comment_id":127009961,"body_markdown":"@rici yes you are correct but in that case, could you demonstrate how to do it correctly through the use of code cause I&#39;m still not sure how to implement it in java.","body":"@rici yes you are correct but in that case, could you demonstrate how to do it correctly through the use of code cause I&#39;m still not sure how to implement it in java."},{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1649959254,"post_id":71872538,"comment_id":127011829,"body_markdown":"First suggestion: separate the logic for identifying input tokens (numbers, operators, parentheses) from the parser and the code generator. You have three separate tasks; keep them separate. For the parser, there are lots of relevant questions here already: https://stackoverflow.com/search?q=Shunting+yard+java","body":"First suggestion: separate the logic for identifying input tokens (numbers, operators, parentheses) from the parser and the code generator. You have three separate tasks; keep them separate. For the parser, there are lots of relevant questions here already: <a href=\"https://stackoverflow.com/search?q=Shunting+yard+java\">stackoverflow.com/search?q=Shunting+yard+java</a>"}],"owner":{"account_id":24633556,"reputation":7,"user_id":18532498,"display_name":"zed unseened"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649953562,"creation_date":1649943316,"question_id":71872538,"body_markdown":"So I am basically trying to create an intermediate code generation in java. My code will take in user input and will try to print out the intermediate code generation representation of the code for example:\r\n```\r\ntheinputwillbe: 5+5/3 \r\noutput will be: t1=5/3 \r\n                t2=5+t1\r\n```\r\nhere is the sample code\r\n```\r\n      public static void main(String[] args) {\r\n      String str1;\r\n      Scanner str = new Scanner(System.in);\r\n      System.out.println(&quot; &quot;);\r\n      System.out.println(&quot;Enter String (Containing 0 to 9 and/or operators: +,/,*,-)&quot;);\r\n    str1 = str.nextLine();\r\n     int len1=str1.length();\r\n     int pp, pp2, pp0,j=0;\r\n     for(pp=0;pp&lt;len1;pp++)\r\n      {     \r\n          if (pp+1 == len1) pp2 = len1-1; else pp2 = pp+1;\r\n          if( str1.charAt(pp) == &#39;/&#39;) {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1);  \r\n          j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\r\n         if( str1.charAt(pp) == &#39;*&#39;) {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \r\n           j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\r\n         if( str1.charAt(pp) == &#39;+&#39;) {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \r\n           j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\r\n         if( str1.charAt(pp) == &#39;-&#39;) {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \r\n          j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\r\n         //j++;\r\n         }\r\n        }\r\n      }\r\n\r\n\r\n```\r\nThis is the output i am getting\r\n```\r\nEnter String (Containing 0 to 9 and/or operators: +,/,*,-)\r\n5+5/3\r\nt1= 5+5\r\nt2= 5/3\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nThe output i am getting is incorrect because its not following the rules of BEDMAS The correct way  it should be is:\r\n```\r\nt1=5/3\r\nt2=5+t1\r\n\r\n```\r\n\r\nCould someone please assist me to fix this code so it prints out the output the correct way","title":"Trying to implement Bedmas functionality into my code","body":"<p>So I am basically trying to create an intermediate code generation in java. My code will take in user input and will try to print out the intermediate code generation representation of the code for example:</p>\n<pre><code>theinputwillbe: 5+5/3 \noutput will be: t1=5/3 \n                t2=5+t1\n</code></pre>\n<p>here is the sample code</p>\n<pre><code>      public static void main(String[] args) {\n      String str1;\n      Scanner str = new Scanner(System.in);\n      System.out.println(&quot; &quot;);\n      System.out.println(&quot;Enter String (Containing 0 to 9 and/or operators: +,/,*,-)&quot;);\n    str1 = str.nextLine();\n     int len1=str1.length();\n     int pp, pp2, pp0,j=0;\n     for(pp=0;pp&lt;len1;pp++)\n      {     \n          if (pp+1 == len1) pp2 = len1-1; else pp2 = pp+1;\n          if( str1.charAt(pp) == '/') {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1);  \n          j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\n         if( str1.charAt(pp) == '*') {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \n           j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\n         if( str1.charAt(pp) == '+') {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \n           j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\n         if( str1.charAt(pp) == '-') {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \n          j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\n         //j++;\n         }\n        }\n      }\n\n\n</code></pre>\n<p>This is the output i am getting</p>\n<pre><code>Enter String (Containing 0 to 9 and/or operators: +,/,*,-)\n5+5/3\nt1= 5+5\nt2= 5/3\n\nProcess finished with exit code 0\n</code></pre>\n<p>The output i am getting is incorrect because its not following the rules of BEDMAS The correct way  it should be is:</p>\n<pre><code>t1=5/3\nt2=5+t1\n\n</code></pre>\n<p>Could someone please assist me to fix this code so it prints out the output the correct way</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1649931651,"post_id":71869975,"comment_id":127001812,"body_markdown":"that name is irrelevant. and no, they won&#39;t overwrite each other.","body":"that name is irrelevant. and no, they won&#39;t overwrite each other."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":4,"creation_date":1649931657,"post_id":71869975,"comment_id":127001817,"body_markdown":"Objects don&#39;t have names, variables have names and the compiler will tell you if you try to declare the same variable name twice in the same scope (barring all sorts of special overriding and shadowing cases).","body":"Objects don&#39;t have names, variables have names and the compiler will tell you if you try to declare the same variable name twice in the same scope (barring all sorts of special overriding and shadowing cases)."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1649932106,"post_id":71869975,"comment_id":127001973,"body_markdown":"`if (participants.size() &lt; 100) {`. You might consider returning a boolean, whether added.","body":"<code>if (participants.size() &lt; 100) {</code>. You might consider returning a boolean, whether added."}],"answers":[{"tags":[],"owner":{"account_id":24250709,"reputation":390,"user_id":18201731,"display_name":"stht55 "},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649931888,"creation_date":1649931888,"answer_id":71870085,"question_id":71869975,"body_markdown":"`Person participant = new Person(name, age);` \r\n\r\ninside the function creates a local object. \r\nThis object is initialized with the arguments \r\nfrom your function namely `String name, int age`.\r\n\r\nHowever, your condition `if (i&lt;100) {...}` will always be true. \r\nYou initialize the local variable `int i = 0;` and then \r\nexecute the code in the if-case which will always be the case.\r\n\r\nIf you where to write a for-loop like this: \r\n\r\n```Java\r\nfor (int i = 0; i &lt; 100; i++){\r\n... }\r\n```\r\nYou would create the same participant (same name and age given in the arguments in the function) 100 times. ","title":"Naming objects different names when creating in a method","body":"<p><code>Person participant = new Person(name, age);</code></p>\n<p>inside the function creates a local object.\nThis object is initialized with the arguments\nfrom your function namely <code>String name, int age</code>.</p>\n<p>However, your condition <code>if (i&lt;100) {...}</code> will always be true.\nYou initialize the local variable <code>int i = 0;</code> and then\nexecute the code in the if-case which will always be the case.</p>\n<p>If you where to write a for-loop like this:</p>\n<pre><code>for (int i = 0; i &lt; 100; i++){\n... }\n</code></pre>\n<p>You would create the same participant (same name and age given in the arguments in the function) 100 times.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649953551,"creation_date":1649944090,"answer_id":71872736,"question_id":71869975,"body_markdown":"The [Answer by stht55][1] is correct and important. Objects do not have a name while reference variables do. \r\n\r\nAlso note that your code is instantiating a `Person` object and then immediately discarding it after extracting the name. So there is no point to calling `new Person` in that code. \r\n\r\n# Loop collection\r\n\r\nOne solution is to loop the collection, interrogating each contained object for its member field `name` to see if it is a match. \r\n\r\n    List&lt; Person &gt; persons = \r\n        List.of(\r\n            new Person( &quot;Alice&quot; , 42 ) ,\r\n            new Person( &quot;Bob&quot; , 28 )\r\n        )\r\n    ;\r\n    for( Person p : persons ) {\r\n        if( p.getName().equals( &quot;Bob&quot; ) { … we have a match … }\r\n    }\r\n\r\n\r\n# `Map`\r\n\r\nPerhaps the data structure you want is a [`Map`][2], a pairing of a *key* object that leans to *value* object. \r\n\r\n    Map &lt; String , Person &gt; map = new HashMap&lt;&gt;() ;\r\n\r\nTo use it, pass the name as *key*, and pass a new `Person` object as *value*. \r\n\r\n    map.put( name , new Person( name , age ) ) ;\r\n\r\nRetrieval. \r\n\r\n    Person p = map.get( &quot;Bob&quot; ) ;\r\n\r\nBeware of multiple objects coincidentally sharing the same key. In your case, several people might share the name “Bob”, but the map can store only one value per key. One way around this is to use a [*multimap*][3], where the value paired with the key is a collection of value objects rather than a single. This has been covered many times already on Stack Overflow, so search to learn more. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71870085/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\r\n  [3]: https://en.wikipedia.org/wiki/Multimap","title":"Naming objects different names when creating in a method","body":"<p>The <a href=\"https://stackoverflow.com/a/71870085/642706\">Answer by stht55</a> is correct and important. Objects do not have a name while reference variables do.</p>\n<p>Also note that your code is instantiating a <code>Person</code> object and then immediately discarding it after extracting the name. So there is no point to calling <code>new Person</code> in that code.</p>\n<h1>Loop collection</h1>\n<p>One solution is to loop the collection, interrogating each contained object for its member field <code>name</code> to see if it is a match.</p>\n<pre><code>List&lt; Person &gt; persons = \n    List.of(\n        new Person( &quot;Alice&quot; , 42 ) ,\n        new Person( &quot;Bob&quot; , 28 )\n    )\n;\nfor( Person p : persons ) {\n    if( p.getName().equals( &quot;Bob&quot; ) { … we have a match … }\n}\n</code></pre>\n<h1><code>Map</code></h1>\n<p>Perhaps the data structure you want is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>, a pairing of a <em>key</em> object that leans to <em>value</em> object.</p>\n<pre><code>Map &lt; String , Person &gt; map = new HashMap&lt;&gt;() ;\n</code></pre>\n<p>To use it, pass the name as <em>key</em>, and pass a new <code>Person</code> object as <em>value</em>.</p>\n<pre><code>map.put( name , new Person( name , age ) ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>Person p = map.get( &quot;Bob&quot; ) ;\n</code></pre>\n<p>Beware of multiple objects coincidentally sharing the same key. In your case, several people might share the name “Bob”, but the map can store only one value per key. One way around this is to use a <a href=\"https://en.wikipedia.org/wiki/Multimap\" rel=\"nofollow noreferrer\"><em>multimap</em></a>, where the value paired with the key is a collection of value objects rather than a single. This has been covered many times already on Stack Overflow, so search to learn more.</p>\n"}],"owner":{"account_id":24881656,"reputation":9,"user_id":18754786,"display_name":"cjz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1649953551,"creation_date":1649931311,"question_id":71869975,"body_markdown":"I&#39;m trying to create a Person-object inside of a method called on, and then i want to add that person to a list of participants. \r\n```\r\npublic void addPerson(String name, int age){\r\n        //Adding person in a list of participants, capping it at 99 participants\r\n        int i = 0;\r\n        if (i&lt;100) {\r\n            Person participant = new Person(name, age);\r\n            participants.add(participant.getName());  \r\n            this.newest= deltager;\r\n            i++;     \r\n        }\r\n    }\r\n```\r\nIf i want to call on a specific participant after having filled up the list, how would i name the object so that they won&#39;t all be called &quot;participant&quot;? Wouldn&#39;t the object be overridden every time i add a new person, because the name of it would be the same? ","title":"Naming objects different names when creating in a method","body":"<p>I'm trying to create a Person-object inside of a method called on, and then i want to add that person to a list of participants.</p>\n<pre><code>public void addPerson(String name, int age){\n        //Adding person in a list of participants, capping it at 99 participants\n        int i = 0;\n        if (i&lt;100) {\n            Person participant = new Person(name, age);\n            participants.add(participant.getName());  \n            this.newest= deltager;\n            i++;     \n        }\n    }\n</code></pre>\n<p>If i want to call on a specific participant after having filled up the list, how would i name the object so that they won't all be called &quot;participant&quot;? Wouldn't the object be overridden every time i add a new person, because the name of it would be the same?</p>\n"},{"tags":["java","eclipse","spring-boot","maven","cxf-codegen-plugin"],"answers":[{"tags":[],"owner":{"account_id":6516145,"reputation":1,"user_id":5041908,"display_name":"Rome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597070451,"creation_date":1595097437,"answer_id":62972379,"question_id":62019855,"body_markdown":"Use JDK to compile instead of jre.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"cxf-codegen-plugin could not find artifact com.sun:tools:jar:1.8.0 from C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar","body":"<p>Use JDK to compile instead of jre.</p>\n"},{"tags":[],"owner":{"account_id":2922632,"reputation":2034,"user_id":3540652,"display_name":"Mumrah81"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649952988,"creation_date":1595099901,"answer_id":62972801,"question_id":62019855,"body_markdown":"Sometimes maven plugins use the JAVA_HOME environment variable to use jdk&#39;s tools.\r\n\r\nFrom my understanding your system define a JAVA_HOME environment variable pointing to a JRE.\r\n\r\nPossible solutions:\r\n\r\n- Delete the JAVA_HOME environment variable or update the value to a compliant JDK\r\n- Use maven toolchain configuration if &quot;cxf-codegen-plugin&quot; allows it\r\n\r\n","title":"cxf-codegen-plugin could not find artifact com.sun:tools:jar:1.8.0 from C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar","body":"<p>Sometimes maven plugins use the JAVA_HOME environment variable to use jdk's tools.</p>\n<p>From my understanding your system define a JAVA_HOME environment variable pointing to a JRE.</p>\n<p>Possible solutions:</p>\n<ul>\n<li>Delete the JAVA_HOME environment variable or update the value to a compliant JDK</li>\n<li>Use maven toolchain configuration if &quot;cxf-codegen-plugin&quot; allows it</li>\n</ul>\n"}],"owner":{"account_id":1705504,"reputation":139,"user_id":1564626,"accept_rate":20,"display_name":"srikant_mantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649952988,"creation_date":1590488337,"question_id":62019855,"body_markdown":"I am using a springboot application and generating stub using cxf codegen plugin.\r\nI have JDK_HOME configured to run my springboot project.\r\n\r\nAfter upgrading the cxf-version from 3.2.4 to 3.3.6, I see the below error in my pom.xml.\r\n\r\n```\r\nExecution generate-sources of goal org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java failed: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar (org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java:generate-sources:generate-sources)\r\n\r\norg.apache.maven.plugin.PluginExecutionException: Execution generate-sources of goal org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java failed: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:109)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:331)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$7(MavenImpl.java:1342)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1341)\r\n\tat org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:52)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:137)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:173)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1$1.call(MavenBuilder.java:116)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:106)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201)\r\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\r\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\r\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\r\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\r\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\nCaused by: org.apache.maven.plugin.PluginResolutionException: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\r\n\tat org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:218)\r\n\tat org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:149)\r\n\tat org.eclipse.m2e.core.internal.project.registry.EclipsePluginDependenciesResolver.resolve(EclipsePluginDependenciesResolver.java:59)\r\n\tat org.apache.maven.plugin.internal.DefaultMavenPluginManager.createPluginRealm(DefaultMavenPluginManager.java:402)\r\n\tat org.apache.maven.plugin.internal.DefaultMavenPluginManager.setupPluginRealm(DefaultMavenPluginManager.java:374)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.getPluginRealm(DefaultBuildPluginManager.java:234)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:105)\r\n\t... 30 more\r\nCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:422)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:224)\r\n\tat org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:338)\r\n\tat org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:210)\r\n\t... 36 more\r\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:264)\r\n\t... 39 more \r\n```\r\n\r\nWhen I tried reducing the cxf version all the way till 3.3.2, this issue doesn&#39;t appear.\r\nAlso, this error is not a build-breaker, but unable to get out of my head whenever I see that my pom.xml is seen with red marker.\r\n\r\nAny help would be appreciated\r\n\r\nmy pom.xml\r\n\r\n```\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n&lt;executions&gt;\r\n\t&lt;execution&gt;\r\n\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;sourceRoot&gt;${project.build.directory}/generated-sources/cxf\r\n\t\t\t&lt;/sourceRoot&gt;\r\n\t\t\t&lt;wsdlOptions&gt;\r\n\t\t\t\t&lt;wsdlOption&gt;\r\n\t\t\t\t\t&lt;wsdl&gt;${basedir}/src/main/resources/META-INF/wsdl/test.wsdl\r\n\t\t\t\t\t&lt;/wsdl&gt;\r\n\t\t\t\t\t&lt;frontEnd&gt;jaxws21&lt;/frontEnd&gt;\r\n\t\t\t\t\t&lt;faultSerialVersionUID&gt;1&lt;/faultSerialVersionUID&gt;\r\n\t\t\t\t\t&lt;extraargs&gt;\r\n\t\t\t\t\t\t&lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n\t\t\t\t\t\t&lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n\t\t\t\t\t&lt;/extraargs&gt;\r\n\t\t\t\t&lt;/wsdlOption&gt;\r\n\t\t\t&lt;/wsdlOptions&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t&lt;/execution&gt;\r\n&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"cxf-codegen-plugin could not find artifact com.sun:tools:jar:1.8.0 from C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar","body":"<p>I am using a springboot application and generating stub using cxf codegen plugin.\nI have JDK_HOME configured to run my springboot project.</p>\n\n<p>After upgrading the cxf-version from 3.2.4 to 3.3.6, I see the below error in my pom.xml.</p>\n\n<pre><code>Execution generate-sources of goal org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java failed: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar (org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java:generate-sources:generate-sources)\n\norg.apache.maven.plugin.PluginExecutionException: Execution generate-sources of goal org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java failed: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:109)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:331)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$7(MavenImpl.java:1342)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1341)\n    at org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:52)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:137)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:173)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1$1.call(MavenBuilder.java:116)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:106)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201)\n    at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\n    at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\n    at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\n    at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\n    at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: org.apache.maven.plugin.PluginResolutionException: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\n    at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:218)\n    at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:149)\n    at org.eclipse.m2e.core.internal.project.registry.EclipsePluginDependenciesResolver.resolve(EclipsePluginDependenciesResolver.java:59)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.createPluginRealm(DefaultMavenPluginManager.java:402)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.setupPluginRealm(DefaultMavenPluginManager.java:374)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.getPluginRealm(DefaultBuildPluginManager.java:234)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:105)\n    ... 30 more\nCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:422)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:224)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:338)\n    at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:210)\n    ... 36 more\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:264)\n    ... 39 more \n</code></pre>\n\n<p>When I tried reducing the cxf version all the way till 3.3.2, this issue doesn't appear.\nAlso, this error is not a build-breaker, but unable to get out of my head whenever I see that my pom.xml is seen with red marker.</p>\n\n<p>Any help would be appreciated</p>\n\n<p>my pom.xml</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n&lt;version&gt;${cxf.version}&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;generate-sources&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;sourceRoot&gt;${project.build.directory}/generated-sources/cxf\n            &lt;/sourceRoot&gt;\n            &lt;wsdlOptions&gt;\n                &lt;wsdlOption&gt;\n                    &lt;wsdl&gt;${basedir}/src/main/resources/META-INF/wsdl/test.wsdl\n                    &lt;/wsdl&gt;\n                    &lt;frontEnd&gt;jaxws21&lt;/frontEnd&gt;\n                    &lt;faultSerialVersionUID&gt;1&lt;/faultSerialVersionUID&gt;\n                    &lt;extraargs&gt;\n                        &lt;extraarg&gt;-client&lt;/extraarg&gt;\n                        &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                    &lt;/extraargs&gt;\n                &lt;/wsdlOption&gt;\n            &lt;/wsdlOptions&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","try-catch","infinite"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1649953192,"post_id":71874659,"comment_id":127009918,"body_markdown":"Aside from the issue you&#39;re having: don&#39;t throw an exception only to catch it again immediately. Handle the thing that&#39;s wrong.","body":"Aside from the issue you&#39;re having: don&#39;t throw an exception only to catch it again immediately. Handle the thing that&#39;s wrong."},{"owner":{"account_id":24936914,"reputation":1,"user_id":18803371,"display_name":"vromm"},"score":0,"creation_date":1649953587,"post_id":71874659,"comment_id":127010061,"body_markdown":"Oh yes greatly thank you very much. You saved me there I&#39;ve been stuck with this problem for hours now. Once again thank you","body":"Oh yes greatly thank you very much. You saved me there I&#39;ve been stuck with this problem for hours now. Once again thank you"}],"owner":{"account_id":24936914,"reputation":1,"user_id":18803371,"display_name":"vromm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649953199,"answer_count":0,"score":0,"last_activity_date":1649952789,"creation_date":1649952789,"question_id":71874659,"body_markdown":"I think my code is doing alright except for the second catch exception which loops infinitely and I don&#39;t know why. I want it to loop again but like the first catch where after it catches an exception it loops back to the user input, but the second catch doesn&#39;t do it, it just loops infinitely.\r\n\r\nhere is what I did\r\n```\r\nimport java.util.*;\r\nimport java.util.*;\r\nclass OutofBounds extends Exception{\r\n    public OutofBounds(){\r\n        super(&quot;Out of range&quot;);\r\n    }\r\n}\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      Scanner in = new Scanner(System.in);\r\n      int count = 0;\r\n      int min = 1;\r\n      int max = 50;\r\n      int ran = (int)(Math.random()*(max-min)) + min;\r\n      int ent;\r\n      do{\r\n      System.out.println(&quot;Guess the number from 1 to 50.&quot;);\r\n      try{\r\n          do{\r\n          ent = in.nextInt();\r\n          count++;\r\n          if(ent &gt; ran &amp;&amp; ent &lt; max){\r\n              System.out.println(&quot;Too high. Try again.&quot;);\r\n          }else if(ent &lt; ran &amp;&amp; ent &gt; min){\r\n              System.out.println(&quot;Too low. Try again.&quot;);\r\n          }else if(ent &lt; 1 || ent &gt; 50){\r\n              throw new OutofBounds();\r\n          }\r\n          }while(ent!=ran);\r\n          System.out.println(&quot;You got it in &quot; + count + &quot; attempt(s).&quot;);\r\n      }\r\n      catch(OutofBounds exe){\r\n          System.out.println(exe.getMessage());\r\n      }\r\n      catch(InputMismatchException ex){\r\n          System.out.println(&quot;Invalid input.&quot;);\r\n      }\r\n    }while(true);\r\n    }\r\n```\r\n    \r\n\r\n\r\n","title":"second catch exception loops infinetely","body":"<p>I think my code is doing alright except for the second catch exception which loops infinitely and I don't know why. I want it to loop again but like the first catch where after it catches an exception it loops back to the user input, but the second catch doesn't do it, it just loops infinitely.</p>\n<p>here is what I did</p>\n<pre><code>import java.util.*;\nimport java.util.*;\nclass OutofBounds extends Exception{\n    public OutofBounds(){\n        super(&quot;Out of range&quot;);\n    }\n}\npublic class MyClass {\n    public static void main(String args[]) {\n      Scanner in = new Scanner(System.in);\n      int count = 0;\n      int min = 1;\n      int max = 50;\n      int ran = (int)(Math.random()*(max-min)) + min;\n      int ent;\n      do{\n      System.out.println(&quot;Guess the number from 1 to 50.&quot;);\n      try{\n          do{\n          ent = in.nextInt();\n          count++;\n          if(ent &gt; ran &amp;&amp; ent &lt; max){\n              System.out.println(&quot;Too high. Try again.&quot;);\n          }else if(ent &lt; ran &amp;&amp; ent &gt; min){\n              System.out.println(&quot;Too low. Try again.&quot;);\n          }else if(ent &lt; 1 || ent &gt; 50){\n              throw new OutofBounds();\n          }\n          }while(ent!=ran);\n          System.out.println(&quot;You got it in &quot; + count + &quot; attempt(s).&quot;);\n      }\n      catch(OutofBounds exe){\n          System.out.println(exe.getMessage());\n      }\n      catch(InputMismatchException ex){\n          System.out.println(&quot;Invalid input.&quot;);\n      }\n    }while(true);\n    }\n</code></pre>\n"},{"tags":["java","algorithm","arraylist","graph","java-stream"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649695307,"creation_date":1649694608,"answer_id":71831268,"question_id":71831102,"body_markdown":"You should do something like a depth-first or breadth-first search (*):\r\n\r\n* Maintain a `Set&lt;Integer&gt;` containing all the people you have already seen.\r\n* Maintain a queue of some kind (e.g. an `ArrayDeque`), of people you are going to check.\r\n* Put the first person (or any number of people, actually) into this queue.\r\n* Then, while the queue is not empty:\r\n  * Take the next person in the queue\r\n  * If you&#39;ve already seen them, go to the next item in the queue\r\n  * If you&#39;ve not already seen them, put the person into the seen set; add all of their mentees into the queue\r\n\r\nThat&#39;s it. The number of people at the end is the size of the seen set.\r\n\r\n---\r\n\r\n(*) Whether you do depth-first or breadth-first search depends on which end of the queue you add mentees to: adding them to the same end that you remove them from results in depth-first search; adding them to the other end results in breadth-first search. If you don&#39;t care which, choose either.","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>You should do something like a depth-first or breadth-first search (*):</p>\n<ul>\n<li>Maintain a <code>Set&lt;Integer&gt;</code> containing all the people you have already seen.</li>\n<li>Maintain a queue of some kind (e.g. an <code>ArrayDeque</code>), of people you are going to check.</li>\n<li>Put the first person (or any number of people, actually) into this queue.</li>\n<li>Then, while the queue is not empty:\n<ul>\n<li>Take the next person in the queue</li>\n<li>If you've already seen them, go to the next item in the queue</li>\n<li>If you've not already seen them, put the person into the seen set; add all of their mentees into the queue</li>\n</ul>\n</li>\n</ul>\n<p>That's it. The number of people at the end is the size of the seen set.</p>\n<hr />\n<p>(*) Whether you do depth-first or breadth-first search depends on which end of the queue you add mentees to: adding them to the same end that you remove them from results in depth-first search; adding them to the other end results in breadth-first search. If you don't care which, choose either.</p>\n"},{"tags":[],"owner":{"account_id":17015788,"reputation":278,"user_id":12309729,"display_name":"acornTime"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649696888,"creation_date":1649696888,"answer_id":71831752,"question_id":71831102,"body_markdown":"I would recommend using good object oriented design, you shouldn&#39;t just use integer id&#39;s like that, because in this situation you could simply make an ArrayList of Person objects Where Mentees, and Mentors Inherit from Person. Then you can check if a Person is an instance of Mentee versus Mentor:\r\n```\r\nfor (Person p : people) {\r\n    if (p instanceof Mentor)\r\n    {\r\n        // Mentor logic\r\n    }\r\n    if (p instanceof Mentee)\r\n    {\r\n        // Mentee Logic\r\n    }\r\n}\r\n```","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>I would recommend using good object oriented design, you shouldn't just use integer id's like that, because in this situation you could simply make an ArrayList of Person objects Where Mentees, and Mentors Inherit from Person. Then you can check if a Person is an instance of Mentee versus Mentor:</p>\n<pre><code>for (Person p : people) {\n    if (p instanceof Mentor)\n    {\n        // Mentor logic\n    }\n    if (p instanceof Mentee)\n    {\n        // Mentee Logic\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649724117,"creation_date":1649722607,"answer_id":71835620,"question_id":71831102,"body_markdown":"Firstly, let&#39;s briefly recap the task.\r\n\r\n*You have a set of mentors, each mentor has a collection of mentees. Some of them might happen also to be mentors and so on.*\r\n\r\n&lt;h3&gt;Class design&lt;/h3&gt;\r\n\r\nFrom the perspective of class design, the solution is pretty simple: you need only one class to describe this relationship - `Mentor`. And each `Mentor` should hold a reference to a collection of `Mentor`s (not integer ids). \r\n\r\nIn your domain model, as you described it, there&#39;s no substantial difference between a mentor and a mentee. Mentor points to other mentors - is a simplest way to model that. Mentee is just an edge case, a mentor which has an empty collection of mentors.\r\n\r\nYou don&#39;t need to include classes and features in your application that doesn&#39;t bring benefit.\r\n\r\n&lt;h3&gt;Data structure&lt;/h3&gt;\r\n\r\nFrom the perspective of data structures, this problem can be described very well with an *acyclic disjointed* **Graph**.\r\n\r\n*Acyclic* because if we consider the relationship between mentors when a mentor could indirectly point at themself (i.e. a mentor `N` has a mentee, with in tern points to another mentee that happens to be also a mentor of mentor `N`) the task becomes ambiguous. Therefore, I&#39;m making an assumption that no one can be a mentor to himself.\r\n\r\nI also depicted this data structure as *disjointed* because mentors in this model (*as well as in real life*) can form isolated groups, which in graph theory called *connected components*. That means that there could be several mentors with the same count of mentee, which happens to be the largest.\r\n\r\n&lt;h3&gt;Depth first search&lt;/h3&gt;\r\n\r\nIn order to find all the vertices (*mentors*) connected with a particular mentor, we have a classic traversal algorithm, which is called *Depth first search* (DFS). The core idea of DFS is to peek a single *neighbor* of the given *vertex*, then in turn peek one of its *neighbors* and so on until the hit the *vertex* that doesn&#39;t point to the other *vertex* (i.e. maximum depth is reached). And then it should be done with every other *neighbors* of the previously visited *vertices*.\r\n\r\nThere are two ways to implement DFS.\r\n\r\n**Iterative approach**\r\n\r\nFor that, we need a *stack*. It will store all unvisited *neighbors* of the previously encountered *vertexes*. The last *vertex* from each list of *neighbors* in every *branch* will be explored first because it will be placed on the top of the *stack*. Then it will get removed from the *stack* and it&#39;s *neighbors* will be placed on the *stack*. This process repeats in a loop until the *stack* contains at least one element.\r\n\r\nThe most performant choice of collection for the stack is `ArrayDeque`.\r\n\r\nBecause this approach require continuous modification of the *stack* by adding and removing *vertices*, it isn&#39;t suitable to be implemented with Stream IPA.\r\n\r\n**Recursive approach**\r\n\r\nThe overall principle is the same as described above, but we don&#39;t need to provide a stack explosively. The call stack of the JVM will be utilized for that purpose.\r\n\r\nWith this approach, there&#39;s also some room to apply streams. For that reason, I&#39;ve chosen the recursive implementation. Also, its code is probably a bit easier to understand. But keep in mind that recursion has certain limitations, especially in Java, and not suitable for processing a large set of data.\r\n\r\n&lt;h3&gt;Recursion&lt;/h3&gt;\r\n\r\nA quick recap on recursion. \r\n\r\nEvery recursive implementation consists of two parts:\r\n\r\n* **Base case** - that represents a simple edge-case for which the outcome is known in advance. For this task, the *base case* is the given *vertex* has no *neighbors*. That means `menteesCount` of this vertex needs to be set to `0` because it has no *mentee*. And the return value for the *base case* is `1` because this *vertex*, in turn, is a valid *mentee* of another *vertex* that holds a reference to it.\r\n* **Recursive case** - a part of a solution where *recursive calls* a made and where the main logic resides.\r\n\r\n*The recursive case* could be implemented using *streams* and entails recursive invocation of the for every *neighbor* of the *given vertex*. Each of these values will contribute to the `menteesCount` of the *given vertex*.\r\n\r\nThe value returned by the method will be `menteesCount + 1` because for the *vertex* which triggered this method call, the *given vertex* will be a *mentee* as well as its *mentees*.\r\n\r\n&lt;h3&gt;Implementation&lt;/h3&gt;\r\n\r\nClass mentor basically serves as a vertex of the graph. Each vertex has a unique `id` and collection of adjacent vertexes.\r\n\r\nAlso, in order to reuse values obtained by performing DFS I&#39;ve added a *field* `menteesCount` which is initially initialized to `-1` in order to distinguish between *vertices* that has no *adjacent vertices* (i.e. `menteesCount` has to be `0`) and *vertices* which value wasn&#39;t calculated. Every value will be established only ones and then reused (*another approach will be to utilize a map for that purpose*).\r\n\r\nMethod `getTopMentors()` iterates over the collection of *vertices* and invokes DFS for every *vertex* which value wasn&#39;t calculated yet. This method returns a list of *mentors* with the highest number of associated *mentees*\r\n\r\nMethod `addMentor()` that takes a *vertex id*, and *id* of its *neighbors* (*if any*) was added in order to interact with the *graph* in a convenient way.\r\n\r\nMap `mentorById` contains every *vertex* that was added in the *graph* and, as its name suggests, allows retrieving it based on the *vertex id*.\r\n```\r\npublic class MentorGraph {\r\n    private Map&lt;Integer, Mentor&gt; mentorById = new HashMap&lt;&gt;();\r\n    \r\n    public void addMentor(int mentorId, int... menteeIds) {\r\n        Mentor mentor = mentorById.computeIfAbsent(mentorId, Mentor::new);\r\n        for (int menteeId: menteeIds) {\r\n            mentor.addMentee(mentorById.computeIfAbsent(menteeId, Mentor::new));\r\n        }\r\n    }\r\n    \r\n    public List&lt;Mentor&gt; getTopMentors() {\r\n        List&lt;Mentor&gt; topMentors = new ArrayList&lt;&gt;();\r\n        for (Mentor mentor: mentorById.values()) {\r\n            if (mentor.getCount() != -1) continue;\r\n            performDFS(mentor);\r\n    \r\n            if (topMentors.isEmpty() || mentor.getCount() == topMentors.get(0).getCount()) {\r\n                topMentors.add(mentor);\r\n        \r\n            } else if (mentor.getCount() &gt; topMentors.get(0).getCount()) {\r\n    \r\n                topMentors.clear();\r\n                topMentors.add(mentor);\r\n            }\r\n        }\r\n        return topMentors;\r\n    }\r\n    \r\n    private int performDFS(Mentor mentor) {\r\n        if (mentor.getCount() == -1 &amp;&amp; mentor.getMentees().isEmpty()) { // base case\r\n            mentor.setCount(0);\r\n            return 1;\r\n        }\r\n        \r\n        int menteeCount = // recursive case\r\n            mentor.getMentees().stream()\r\n                .mapToInt(m -&gt; m.getCount() == -1 ? performDFS(m) : m.getCount() + 1)\r\n                .sum();\r\n        \r\n        mentor.setCount(menteeCount);\r\n        return menteeCount + 1;\r\n    }\r\n    \r\n    public static class Mentor {\r\n        private int id;\r\n        private Set&lt;Mentor&gt; mentees = new HashSet&lt;&gt;();\r\n        private int menteesCount = -1;\r\n        \r\n        public Mentor(int id) {\r\n            this.id = id;\r\n        }\r\n        \r\n        public boolean addMentee(Mentor mentee) {\r\n            return mentees.add(mentee);\r\n        }\r\n    \r\n        // getters, setter for menteesCount, equeals/hashCode\r\n    }\r\n}\r\n```\r\n\r\nAn ***example*** of the *graph* used as a *demo*.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n`main()` - the code models the graph shown above\r\n\r\n    public static void main(String[] args) {\r\n        MentorGraph graph = new MentorGraph();\r\n\r\n        graph.addMentor(1, 3, 4);\r\n        graph.addMentor(2, 5, 6, 7);\r\n        graph.addMentor(3, 8, 9);\r\n        graph.addMentor(4, 10);\r\n        graph.addMentor(5, 11, 12);\r\n        graph.addMentor(6);\r\n        graph.addMentor(7, 13, 14);\r\n        graph.addMentor(8);\r\n        graph.addMentor(9, 16, 17, 18);\r\n        graph.addMentor(10);\r\n        graph.addMentor(11, 18);\r\n        graph.addMentor(12);\r\n        graph.addMentor(13);\r\n        graph.addMentor(14, 19, 20);\r\n        graph.addMentor(15);\r\n        graph.addMentor(16, 21, 22);\r\n        graph.addMentor(17);\r\n        graph.addMentor(18);\r\n        graph.addMentor(19);\r\n        graph.addMentor(20);\r\n        graph.addMentor(21);\r\n        graph.addMentor(22);\r\n        \r\n        graph.getTopMentors()\r\n             .forEach(m -&gt; System.out.printf(&quot;mentorId: %d\\tmentees: %d\\n&quot;, m.getId(), m.getCount()));\r\n    }\r\n\r\n**Output**\r\n```\r\nmentorId: 1\tmentees: 10\r\nmentorId: 2\tmentees: 10\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/6eXJNl.jpg","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>Firstly, let's briefly recap the task.</p>\n<p><em>You have a set of mentors, each mentor has a collection of mentees. Some of them might happen also to be mentors and so on.</em></p>\n<h3>Class design</h3>\n<p>From the perspective of class design, the solution is pretty simple: you need only one class to describe this relationship - <code>Mentor</code>. And each <code>Mentor</code> should hold a reference to a collection of <code>Mentor</code>s (not integer ids).</p>\n<p>In your domain model, as you described it, there's no substantial difference between a mentor and a mentee. Mentor points to other mentors - is a simplest way to model that. Mentee is just an edge case, a mentor which has an empty collection of mentors.</p>\n<p>You don't need to include classes and features in your application that doesn't bring benefit.</p>\n<h3>Data structure</h3>\n<p>From the perspective of data structures, this problem can be described very well with an <em>acyclic disjointed</em> <strong>Graph</strong>.</p>\n<p><em>Acyclic</em> because if we consider the relationship between mentors when a mentor could indirectly point at themself (i.e. a mentor <code>N</code> has a mentee, with in tern points to another mentee that happens to be also a mentor of mentor <code>N</code>) the task becomes ambiguous. Therefore, I'm making an assumption that no one can be a mentor to himself.</p>\n<p>I also depicted this data structure as <em>disjointed</em> because mentors in this model (<em>as well as in real life</em>) can form isolated groups, which in graph theory called <em>connected components</em>. That means that there could be several mentors with the same count of mentee, which happens to be the largest.</p>\n<h3>Depth first search</h3>\n<p>In order to find all the vertices (<em>mentors</em>) connected with a particular mentor, we have a classic traversal algorithm, which is called <em>Depth first search</em> (DFS). The core idea of DFS is to peek a single <em>neighbor</em> of the given <em>vertex</em>, then in turn peek one of its <em>neighbors</em> and so on until the hit the <em>vertex</em> that doesn't point to the other <em>vertex</em> (i.e. maximum depth is reached). And then it should be done with every other <em>neighbors</em> of the previously visited <em>vertices</em>.</p>\n<p>There are two ways to implement DFS.</p>\n<p><strong>Iterative approach</strong></p>\n<p>For that, we need a <em>stack</em>. It will store all unvisited <em>neighbors</em> of the previously encountered <em>vertexes</em>. The last <em>vertex</em> from each list of <em>neighbors</em> in every <em>branch</em> will be explored first because it will be placed on the top of the <em>stack</em>. Then it will get removed from the <em>stack</em> and it's <em>neighbors</em> will be placed on the <em>stack</em>. This process repeats in a loop until the <em>stack</em> contains at least one element.</p>\n<p>The most performant choice of collection for the stack is <code>ArrayDeque</code>.</p>\n<p>Because this approach require continuous modification of the <em>stack</em> by adding and removing <em>vertices</em>, it isn't suitable to be implemented with Stream IPA.</p>\n<p><strong>Recursive approach</strong></p>\n<p>The overall principle is the same as described above, but we don't need to provide a stack explosively. The call stack of the JVM will be utilized for that purpose.</p>\n<p>With this approach, there's also some room to apply streams. For that reason, I've chosen the recursive implementation. Also, its code is probably a bit easier to understand. But keep in mind that recursion has certain limitations, especially in Java, and not suitable for processing a large set of data.</p>\n<h3>Recursion</h3>\n<p>A quick recap on recursion.</p>\n<p>Every recursive implementation consists of two parts:</p>\n<ul>\n<li><strong>Base case</strong> - that represents a simple edge-case for which the outcome is known in advance. For this task, the <em>base case</em> is the given <em>vertex</em> has no <em>neighbors</em>. That means <code>menteesCount</code> of this vertex needs to be set to <code>0</code> because it has no <em>mentee</em>. And the return value for the <em>base case</em> is <code>1</code> because this <em>vertex</em>, in turn, is a valid <em>mentee</em> of another <em>vertex</em> that holds a reference to it.</li>\n<li><strong>Recursive case</strong> - a part of a solution where <em>recursive calls</em> a made and where the main logic resides.</li>\n</ul>\n<p><em>The recursive case</em> could be implemented using <em>streams</em> and entails recursive invocation of the for every <em>neighbor</em> of the <em>given vertex</em>. Each of these values will contribute to the <code>menteesCount</code> of the <em>given vertex</em>.</p>\n<p>The value returned by the method will be <code>menteesCount + 1</code> because for the <em>vertex</em> which triggered this method call, the <em>given vertex</em> will be a <em>mentee</em> as well as its <em>mentees</em>.</p>\n<h3>Implementation</h3>\n<p>Class mentor basically serves as a vertex of the graph. Each vertex has a unique <code>id</code> and collection of adjacent vertexes.</p>\n<p>Also, in order to reuse values obtained by performing DFS I've added a <em>field</em> <code>menteesCount</code> which is initially initialized to <code>-1</code> in order to distinguish between <em>vertices</em> that has no <em>adjacent vertices</em> (i.e. <code>menteesCount</code> has to be <code>0</code>) and <em>vertices</em> which value wasn't calculated. Every value will be established only ones and then reused (<em>another approach will be to utilize a map for that purpose</em>).</p>\n<p>Method <code>getTopMentors()</code> iterates over the collection of <em>vertices</em> and invokes DFS for every <em>vertex</em> which value wasn't calculated yet. This method returns a list of <em>mentors</em> with the highest number of associated <em>mentees</em></p>\n<p>Method <code>addMentor()</code> that takes a <em>vertex id</em>, and <em>id</em> of its <em>neighbors</em> (<em>if any</em>) was added in order to interact with the <em>graph</em> in a convenient way.</p>\n<p>Map <code>mentorById</code> contains every <em>vertex</em> that was added in the <em>graph</em> and, as its name suggests, allows retrieving it based on the <em>vertex id</em>.</p>\n<pre><code>public class MentorGraph {\n    private Map&lt;Integer, Mentor&gt; mentorById = new HashMap&lt;&gt;();\n    \n    public void addMentor(int mentorId, int... menteeIds) {\n        Mentor mentor = mentorById.computeIfAbsent(mentorId, Mentor::new);\n        for (int menteeId: menteeIds) {\n            mentor.addMentee(mentorById.computeIfAbsent(menteeId, Mentor::new));\n        }\n    }\n    \n    public List&lt;Mentor&gt; getTopMentors() {\n        List&lt;Mentor&gt; topMentors = new ArrayList&lt;&gt;();\n        for (Mentor mentor: mentorById.values()) {\n            if (mentor.getCount() != -1) continue;\n            performDFS(mentor);\n    \n            if (topMentors.isEmpty() || mentor.getCount() == topMentors.get(0).getCount()) {\n                topMentors.add(mentor);\n        \n            } else if (mentor.getCount() &gt; topMentors.get(0).getCount()) {\n    \n                topMentors.clear();\n                topMentors.add(mentor);\n            }\n        }\n        return topMentors;\n    }\n    \n    private int performDFS(Mentor mentor) {\n        if (mentor.getCount() == -1 &amp;&amp; mentor.getMentees().isEmpty()) { // base case\n            mentor.setCount(0);\n            return 1;\n        }\n        \n        int menteeCount = // recursive case\n            mentor.getMentees().stream()\n                .mapToInt(m -&gt; m.getCount() == -1 ? performDFS(m) : m.getCount() + 1)\n                .sum();\n        \n        mentor.setCount(menteeCount);\n        return menteeCount + 1;\n    }\n    \n    public static class Mentor {\n        private int id;\n        private Set&lt;Mentor&gt; mentees = new HashSet&lt;&gt;();\n        private int menteesCount = -1;\n        \n        public Mentor(int id) {\n            this.id = id;\n        }\n        \n        public boolean addMentee(Mentor mentee) {\n            return mentees.add(mentee);\n        }\n    \n        // getters, setter for menteesCount, equeals/hashCode\n    }\n}\n</code></pre>\n<p>An <em><strong>example</strong></em> of the <em>graph</em> used as a <em>demo</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/6eXJNl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6eXJNl.jpg\" alt=\"enter image description here\" /></a></p>\n<p><code>main()</code> - the code models the graph shown above</p>\n<pre><code>public static void main(String[] args) {\n    MentorGraph graph = new MentorGraph();\n\n    graph.addMentor(1, 3, 4);\n    graph.addMentor(2, 5, 6, 7);\n    graph.addMentor(3, 8, 9);\n    graph.addMentor(4, 10);\n    graph.addMentor(5, 11, 12);\n    graph.addMentor(6);\n    graph.addMentor(7, 13, 14);\n    graph.addMentor(8);\n    graph.addMentor(9, 16, 17, 18);\n    graph.addMentor(10);\n    graph.addMentor(11, 18);\n    graph.addMentor(12);\n    graph.addMentor(13);\n    graph.addMentor(14, 19, 20);\n    graph.addMentor(15);\n    graph.addMentor(16, 21, 22);\n    graph.addMentor(17);\n    graph.addMentor(18);\n    graph.addMentor(19);\n    graph.addMentor(20);\n    graph.addMentor(21);\n    graph.addMentor(22);\n    \n    graph.getTopMentors()\n         .forEach(m -&gt; System.out.printf(&quot;mentorId: %d\\tmentees: %d\\n&quot;, m.getId(), m.getCount()));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>mentorId: 1 mentees: 10\nmentorId: 2 mentees: 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649952616,"creation_date":1649737260,"answer_id":71837085,"question_id":71831102,"body_markdown":"Use `Person` and `Mentor` and `Mentee` subclasses as suggested by [acornTime](https://stackoverflow.com/a/71831752/3992939), define `mentees` as a list of `Person` and the information you want becomes simple to get: \r\n\t\r\n\timport java.util.*;\r\n\timport java.util.stream.Stream;\r\n\t\r\n\tpublic class Main{\r\n\t\r\n\t\tpublic static void main(String[] args)\t{\r\n\t\t\tArrayList&lt;Person&gt; mentees = new ArrayList&lt;&gt;();\r\n\t\r\n\t\t    mentees.add(new Mentee(11));\r\n\t\t    mentees.add(new Mentee(12));\r\n\t\t    mentees.add(new Mentor(2, new ArrayList&lt;&gt;()));\r\n\t\t    mentees.add(new Mentee(13));\r\n\t\t    mentees.add(new Mentee(14));\r\n\t\t    mentees.add(new Mentor(3, new ArrayList&lt;&gt;()));\r\n\t\t    mentees.add(new Mentor(4, new ArrayList&lt;&gt;()));\r\n\t\t    mentees.add(new Mentor(5, new ArrayList&lt;&gt;()));\r\n\t\r\n\t\t\tMentor mentor = new Mentor(1, mentees);\r\n\t\r\n\t\t\tSystem.out.println(mentor.menteesCount());\r\n\t\t\tSystem.out.println(mentor.mentorsInMentees().count());\r\n\t\t}\r\n\t}\r\n\t\r\n\tinterface Person {\r\n\t\tint getId();\r\n\t}\r\n\t\r\n\tclass Mentor implements Person{\r\n\t\r\n\t    private final int mentorId;\r\n\t    private List&lt;Person&gt; mentees = new ArrayList&lt;&gt;();\r\n\t\r\n\t    public Mentor(int id, ArrayList&lt;Person&gt; mentees) {\r\n\t        mentorId = id;\r\n\t        this.mentees = mentees ;\r\n\t    }\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getId() {\r\n\t\t\treturn mentorId;\r\n\t\t}\r\n\t\r\n\t\tpublic List&lt;Person&gt; getMentees() {\r\n\t\t\treturn mentees;\r\n\t\t}\r\n\t\r\n\t\tpublic int menteesCount() {\r\n\t\t\treturn mentees.size();\r\n\t\t}\r\n\t\r\n\t\tpublic Stream&lt;Person&gt; mentorsInMentees(){\r\n\t\t\treturn mentees.stream().filter(m -&gt; (m instanceof Mentor));\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Mentee implements Person{\r\n\t\r\n\t    private final int menteeId;\r\n\t\r\n\t    public Mentee(int id) {\r\n\t        menteeId = id;\r\n\t    }\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getId() {\r\n\t\t\treturn menteeId;\r\n\t\t}\r\n\t}\r\n\t\r\nTest it online [here](https://replit.com/@c0derrepo/Mentor#)\r\n","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>Use <code>Person</code> and <code>Mentor</code> and <code>Mentee</code> subclasses as suggested by <a href=\"https://stackoverflow.com/a/71831752/3992939\">acornTime</a>, define <code>mentees</code> as a list of <code>Person</code> and the information you want becomes simple to get:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Stream;\n\npublic class Main{\n\n    public static void main(String[] args)  {\n        ArrayList&lt;Person&gt; mentees = new ArrayList&lt;&gt;();\n\n        mentees.add(new Mentee(11));\n        mentees.add(new Mentee(12));\n        mentees.add(new Mentor(2, new ArrayList&lt;&gt;()));\n        mentees.add(new Mentee(13));\n        mentees.add(new Mentee(14));\n        mentees.add(new Mentor(3, new ArrayList&lt;&gt;()));\n        mentees.add(new Mentor(4, new ArrayList&lt;&gt;()));\n        mentees.add(new Mentor(5, new ArrayList&lt;&gt;()));\n\n        Mentor mentor = new Mentor(1, mentees);\n\n        System.out.println(mentor.menteesCount());\n        System.out.println(mentor.mentorsInMentees().count());\n    }\n}\n\ninterface Person {\n    int getId();\n}\n\nclass Mentor implements Person{\n\n    private final int mentorId;\n    private List&lt;Person&gt; mentees = new ArrayList&lt;&gt;();\n\n    public Mentor(int id, ArrayList&lt;Person&gt; mentees) {\n        mentorId = id;\n        this.mentees = mentees ;\n    }\n\n    @Override\n    public int getId() {\n        return mentorId;\n    }\n\n    public List&lt;Person&gt; getMentees() {\n        return mentees;\n    }\n\n    public int menteesCount() {\n        return mentees.size();\n    }\n\n    public Stream&lt;Person&gt; mentorsInMentees(){\n        return mentees.stream().filter(m -&gt; (m instanceof Mentor));\n    }\n}\n\nclass Mentee implements Person{\n\n    private final int menteeId;\n\n    public Mentee(int id) {\n        menteeId = id;\n    }\n\n    @Override\n    public int getId() {\n        return menteeId;\n    }\n}\n</code></pre>\n<p>Test it online <a href=\"https://replit.com/@c0derrepo/Mentor#\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":17868854,"reputation":135,"user_id":12980614,"display_name":"mrkn0007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71835620,"answer_count":4,"score":3,"last_activity_date":1649952616,"creation_date":1649693861,"question_id":71831102,"body_markdown":"I have a `Mentor` class in which I have an `ID` for each mentor and an `ArrayList` of mentee `ID`s, like this:\r\n\r\n```\r\npublic class Mentor {\r\n    \r\n    int mentorId;\r\n    ArrayList&lt;Integer&gt; mentees = new ArrayList&lt;&gt;();\r\n\r\n    public Mentor(int mentorId, ArrayList&lt;Integer&gt; mentees) {\r\n        this.mentorId = mentorId;\r\n        this.mentees = mentees ;\r\n    }\r\n}\r\n```\r\nThe problem is that some *mentees* can be *mentors* too.\r\n\r\nI would like to somehow get a ***count*** of all of the *mentees* associated to the top *mentor* as well as how many mentors are under the top mentor.\r\n\r\nSo, basically, if a *mentor* has a *mentee*, who is also a *mentor*, then this *mentor*&#39;s *mentees* are also associated to the *top mentor*.\r\n\r\nSo, my thinking was to loop through the *mentee-list* and see if any of the id&#39;s match an `ID` of `Mentor`. If true, Add this mentor&#39;s list of mentees to a list and loop again, but this will not work dynamically.\r\n\r\nMy main class looks something like this:\r\n```\r\n    ArrayList&lt;Mentor&gt; mentors = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Integer&gt; mentees = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Integer&gt; mentees2 = new ArrayList&lt;&gt;();\r\n\r\n    mentees.add(2);\r\n    mentees.add(3);\r\n    mentees2.add(4);\r\n    mentees2.add(5);\r\n\r\n    //[1,{2,3}]\r\n    mentors.add(new Mentor(1, mentees));\r\n    //[2,{4,5}]\r\n    mentors.add(new Mentor(2, mentees2));\r\n    int mentorCount = 0;\r\n    int menteeCount = 0;\r\n    for (Mentor mentor : mentors) {\r\n\r\n        for (Integer mentee : mentees) {\r\n            mentorCount++;\r\n            if (mentee == mentor.mentorId){\r\n                mentorCount++;\r\n                //add each mentee to arraylist and start the process again, but is there an easier way to do this.\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI was wondering if there is a way of solving this, maybe using **streams**?\r\n","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>I have a <code>Mentor</code> class in which I have an <code>ID</code> for each mentor and an <code>ArrayList</code> of mentee <code>ID</code>s, like this:</p>\n<pre><code>public class Mentor {\n    \n    int mentorId;\n    ArrayList&lt;Integer&gt; mentees = new ArrayList&lt;&gt;();\n\n    public Mentor(int mentorId, ArrayList&lt;Integer&gt; mentees) {\n        this.mentorId = mentorId;\n        this.mentees = mentees ;\n    }\n}\n</code></pre>\n<p>The problem is that some <em>mentees</em> can be <em>mentors</em> too.</p>\n<p>I would like to somehow get a <em><strong>count</strong></em> of all of the <em>mentees</em> associated to the top <em>mentor</em> as well as how many mentors are under the top mentor.</p>\n<p>So, basically, if a <em>mentor</em> has a <em>mentee</em>, who is also a <em>mentor</em>, then this <em>mentor</em>'s <em>mentees</em> are also associated to the <em>top mentor</em>.</p>\n<p>So, my thinking was to loop through the <em>mentee-list</em> and see if any of the id's match an <code>ID</code> of <code>Mentor</code>. If true, Add this mentor's list of mentees to a list and loop again, but this will not work dynamically.</p>\n<p>My main class looks something like this:</p>\n<pre><code>    ArrayList&lt;Mentor&gt; mentors = new ArrayList&lt;&gt;();\n    ArrayList&lt;Integer&gt; mentees = new ArrayList&lt;&gt;();\n    ArrayList&lt;Integer&gt; mentees2 = new ArrayList&lt;&gt;();\n\n    mentees.add(2);\n    mentees.add(3);\n    mentees2.add(4);\n    mentees2.add(5);\n\n    //[1,{2,3}]\n    mentors.add(new Mentor(1, mentees));\n    //[2,{4,5}]\n    mentors.add(new Mentor(2, mentees2));\n    int mentorCount = 0;\n    int menteeCount = 0;\n    for (Mentor mentor : mentors) {\n\n        for (Integer mentee : mentees) {\n            mentorCount++;\n            if (mentee == mentor.mentorId){\n                mentorCount++;\n                //add each mentee to arraylist and start the process again, but is there an easier way to do this.\n            }\n        }\n    }\n</code></pre>\n<p>I was wondering if there is a way of solving this, maybe using <strong>streams</strong>?</p>\n"},{"tags":["java","hadoop","thread-safety","distributed-filesystem"],"answers":[{"tags":[],"owner":{"account_id":1418844,"reputation":830,"user_id":1343904,"accept_rate":88,"display_name":"Ben Win"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1429021015,"creation_date":1429021015,"answer_id":29629773,"question_id":29629249,"body_markdown":"Hadoop DFS uses a so-called [WORM-Model][1]. This makes it more robust when it comes to concurrency issues.\r\n\r\n**But**, to answer the question, it is **not** safe in general. You still need to think about concurrency control requirements. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Write_once_read_many","title":"is hadoop DistributedFileSystem thread safe?","body":"<p>Hadoop DFS uses a so-called <a href=\"http://en.wikipedia.org/wiki/Write_once_read_many\" rel=\"nofollow\">WORM-Model</a>. This makes it more robust when it comes to concurrency issues.</p>\n\n<p><strong>But</strong>, to answer the question, it is <strong>not</strong> safe in general. You still need to think about concurrency control requirements. </p>\n"},{"tags":[],"owner":{"account_id":14027868,"reputation":31,"user_id":10132476,"display_name":"kai.tian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649952523,"creation_date":1649952523,"answer_id":71874616,"question_id":29629249,"body_markdown":"If  `config.setBoolean(&quot;fs.hdfs.impl.disable. cache&quot;, true);`  is modified first, `FileSystem.get(config)` can be used in multiple threads.","title":"is hadoop DistributedFileSystem thread safe?","body":"<p>If  <code>config.setBoolean(&quot;fs.hdfs.impl.disable. cache&quot;, true);</code>  is modified first, <code>FileSystem.get(config)</code> can be used in multiple threads.</p>\n"}],"owner":{"account_id":982763,"reputation":595,"user_id":1002065,"accept_rate":31,"display_name":"user1002065"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2822,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29629773,"answer_count":2,"score":2,"last_activity_date":1649952523,"creation_date":1429019601,"question_id":29629249,"body_markdown":"I am using hadoop for writing data I scrape.\r\n\r\nI have a spring service that is called from multiple threads to write some content to the HDFS.\r\n\r\n    @Service\r\n    public class WriteService\r\n    {\r\n    \tpublic void write(String path, String content)\r\n    \t{\r\n    \t\tFileSystem fs = FileSystem.get(conf);\r\n    \t}\r\n    }\r\n\r\nI am not sure whether the FileSystem object can be a member of the WriteService and I don&#39;t find whether it is thread safe or not.\r\nI am using the DistributedFileSystem object.\r\n\r\nDo you know if it is thread-safe and I can use it as a member to my service?\r\n\r\nThank you","title":"is hadoop DistributedFileSystem thread safe?","body":"<p>I am using hadoop for writing data I scrape.</p>\n\n<p>I have a spring service that is called from multiple threads to write some content to the HDFS.</p>\n\n<pre><code>@Service\npublic class WriteService\n{\n    public void write(String path, String content)\n    {\n        FileSystem fs = FileSystem.get(conf);\n    }\n}\n</code></pre>\n\n<p>I am not sure whether the FileSystem object can be a member of the WriteService and I don't find whether it is thread safe or not.\nI am using the DistributedFileSystem object.</p>\n\n<p>Do you know if it is thread-safe and I can use it as a member to my service?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":24938705,"reputation":1,"user_id":18804915,"display_name":"Erick"},"score":0,"creation_date":1649953922,"post_id":71874607,"comment_id":127010186,"body_markdown":"I&#180;m using this versions com.itextpdf:itext7-core:7.2.2 and com.itextpdf:html2pdf:4.0.2","body":"I&#180;m using this versions com.itextpdf:itext7-core:7.2.2 and com.itextpdf:html2pdf:4.0.2"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649994926,"post_id":71874607,"comment_id":127018787,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24938705,"reputation":1,"user_id":18804915,"display_name":"Erick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649952489,"creation_date":1649952489,"question_id":71874607,"body_markdown":"[cropped image with htmlConverter][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NGLhr.png","title":"When I download my HTML document with HtmlConverter, I cannot prevent the images to appear cut off, any ideas?","body":"<p><a href=\"https://i.stack.imgur.com/NGLhr.png\" rel=\"nofollow noreferrer\">cropped image with htmlConverter</a></p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-query","mongodb-java"],"answers":[{"tags":[],"owner":{"account_id":10624067,"reputation":31,"user_id":7824236,"display_name":"Pulkit Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569170438,"creation_date":1569170438,"answer_id":58051317,"question_id":57021921,"body_markdown":"I think you can accomplish this using the different Updates options provided by Mongo Java client. Just try exploring `pullByFilter` to filter out the document that you need to replace and then use `push` method to push the new document to the array. You can try these method instead of using simple `set` method.\r\n\r\nFor detailed documentation , please refer this link https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/client/model/Updates.html.","title":"How to update partial objects in an array of objects in mongo-db using java?","body":"<p>I think you can accomplish this using the different Updates options provided by Mongo Java client. Just try exploring <code>pullByFilter</code> to filter out the document that you need to replace and then use <code>push</code> method to push the new document to the array. You can try these method instead of using simple <code>set</code> method.</p>\n\n<p>For detailed documentation , please refer this link <a href=\"https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/client/model/Updates.html\" rel=\"nofollow noreferrer\">https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/client/model/Updates.html</a>.</p>\n"},{"tags":[],"owner":{"account_id":4289211,"reputation":2763,"user_id":3506022,"accept_rate":70,"display_name":"Eria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649952463,"creation_date":1649952463,"answer_id":71874603,"question_id":57021921,"body_markdown":"Maybe something like this:\r\n\r\n```java\r\ndatabase.getCollection(&quot;yourCollection&quot;)\r\n    // you want to update one element\r\n    .updateOne( \r\n        // you identify the element to update with its _id\r\n        Filters.eq(&quot;_id&quot;, &quot;6691e5068dwe335w42cb0a699650f&quot;),\r\n        // you want to perform several updates operations\r\n        Updates.combine(\r\n            // first you update the &quot;Stage_Status&quot; property of your element\r\n            Updates.set(&quot;Stage_Status&quot;, &quot;I&quot;),\r\n            // this is the tricky part: you look for an element inside the array 1555556059584 and you want to update its &quot;Notes&quot; property\r\n            Updates.set(&quot;1555556059584.$[note].Notes&quot;, &quot;updated note 123&quot;) \r\n        ),\r\n        // finally, the options below specify which element of the array you want to update: you filter with the id property of the elements.\r\n        new UpdateOptions().arrayFilters(Arrays.asList(\r\n            Filters.eq(&quot;note.id&quot;, &quot;1557389940585&quot;)\r\n        ))\r\n    );","title":"How to update partial objects in an array of objects in mongo-db using java?","body":"<p>Maybe something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>database.getCollection(&quot;yourCollection&quot;)\n    // you want to update one element\n    .updateOne( \n        // you identify the element to update with its _id\n        Filters.eq(&quot;_id&quot;, &quot;6691e5068dwe335w42cb0a699650f&quot;),\n        // you want to perform several updates operations\n        Updates.combine(\n            // first you update the &quot;Stage_Status&quot; property of your element\n            Updates.set(&quot;Stage_Status&quot;, &quot;I&quot;),\n            // this is the tricky part: you look for an element inside the array 1555556059584 and you want to update its &quot;Notes&quot; property\n            Updates.set(&quot;1555556059584.$[note].Notes&quot;, &quot;updated note 123&quot;) \n        ),\n        // finally, the options below specify which element of the array you want to update: you filter with the id property of the elements.\n        new UpdateOptions().arrayFilters(Arrays.asList(\n            Filters.eq(&quot;note.id&quot;, &quot;1557389940585&quot;)\n        ))\n    );\n</code></pre>\n"}],"owner":{"account_id":7079796,"reputation":33,"user_id":5418599,"display_name":"Srinivas Pasam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649952463,"creation_date":1563043520,"question_id":57021921,"body_markdown":"I want to update request fields only in an array using java.This is my existing document in mongo db:\r\n\r\n\r\n```\r\n{\r\n    &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\r\n    &quot;Opportunity_Owner&quot; : &quot;Self&quot;,\r\n    &quot;Account_Name&quot; : &quot;IC&quot;,\r\n    &quot;Lead_Source&quot; : &quot;Callbox&quot;,\r\n    &quot;Opportunity_Name&quot; : &quot;name1 &quot;,\r\n    &quot;Stage&quot; : &quot;Proposal&quot;,\r\n    &quot;Stage_Status&quot; : &quot;A&quot;,\r\n    &quot;1555570551211&quot; : [],\r\n    &quot;1555556165153&quot; : [],\r\n    &quot;1555556059584&quot; : [ \r\n        {\r\n            &quot;id&quot; : &quot;1557389940585&quot;,\r\n            &quot;Notes&quot; : &quot;Note 1&quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389945398&quot;,\r\n           &quot;Notes&quot; : &quot;Hi Bobby &quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389978181&quot;,\r\n            &quot;Notes&quot; : &quot;Spoken to Bobby.&quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389990159&quot;,\r\n            &quot;Notes&quot; : &quot;plan to call on 29/Apr&quot;\r\n        }\r\n    ],\r\n    \r\n    &quot;createdBy&quot; : &quot;2c18b8dbb7d74a41a66f53a90117480a&quot;,\r\n    &quot;createdDate&quot; : &quot;1562911250917&quot;\r\n}\r\n```\r\n\r\nRequest payload:\r\n```\r\n{\r\n &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\r\n &quot;Stage_Status&quot; : &quot;I&quot;,\r\n &quot;1555556059584&quot; : [ \r\n        {\r\n            &quot;id&quot; : &quot;1557389940585&quot;,\r\n            &quot;Notes&quot; : &quot;updated note 123&quot;\r\n        }\r\n     ]\r\n}\r\n```\r\n\r\nI am trying to update  &quot;Stage_Status&quot; and &quot;1555556059584.Notes&quot;  at a time  using $set.I am able to update &quot;Stage_Status&quot; but &quot;1555556059584&quot; array is going to reset with what i have updated with last one.\r\n\r\nMy except output :\r\n```\r\n{\r\n    &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\r\n    &quot;Opportunity_Owner&quot; : &quot;Self&quot;,\r\n    &quot;Account_Name&quot; : &quot;IC&quot;,\r\n    &quot;Lead_Source&quot; : &quot;Callbox&quot;,\r\n    &quot;Opportunity_Name&quot; : &quot;name1 &quot;,\r\n    &quot;Stage&quot; : &quot;Proposal&quot;,\r\n    &quot;Stage_Status&quot; : &quot;I&quot;,\r\n    &quot;1555570551211&quot; : [],\r\n    &quot;1555556165153&quot; : [],\r\n    &quot;1555556059584&quot; : [ \r\n        {\r\n            &quot;id&quot; : &quot;1557389940585&quot;,\r\n            &quot;Notes&quot; : &quot;updated note 123&quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389945398&quot;,\r\n           &quot;Notes&quot; : &quot;Hi Bobby &quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389978181&quot;,\r\n            &quot;Notes&quot; : &quot;Spoken to Bobby.&quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389990159&quot;,\r\n            &quot;Notes&quot; : &quot;plan to call on 29/Apr&quot;\r\n        }\r\n    ],\r\n    \r\n    &quot;createdBy&quot; : &quot;2c18b8dbb7d74a41a66f53a90117480a&quot;,\r\n    &quot;createdDate&quot; : &quot;1562911250917&quot;\r\n}\r\n```\r\n\r\ncan any one please help me to figure it out in java.","title":"How to update partial objects in an array of objects in mongo-db using java?","body":"<p>I want to update request fields only in an array using java.This is my existing document in mongo db:</p>\n<pre><code>{\n    &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\n    &quot;Opportunity_Owner&quot; : &quot;Self&quot;,\n    &quot;Account_Name&quot; : &quot;IC&quot;,\n    &quot;Lead_Source&quot; : &quot;Callbox&quot;,\n    &quot;Opportunity_Name&quot; : &quot;name1 &quot;,\n    &quot;Stage&quot; : &quot;Proposal&quot;,\n    &quot;Stage_Status&quot; : &quot;A&quot;,\n    &quot;1555570551211&quot; : [],\n    &quot;1555556165153&quot; : [],\n    &quot;1555556059584&quot; : [ \n        {\n            &quot;id&quot; : &quot;1557389940585&quot;,\n            &quot;Notes&quot; : &quot;Note 1&quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389945398&quot;,\n           &quot;Notes&quot; : &quot;Hi Bobby &quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389978181&quot;,\n            &quot;Notes&quot; : &quot;Spoken to Bobby.&quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389990159&quot;,\n            &quot;Notes&quot; : &quot;plan to call on 29/Apr&quot;\n        }\n    ],\n    \n    &quot;createdBy&quot; : &quot;2c18b8dbb7d74a41a66f53a90117480a&quot;,\n    &quot;createdDate&quot; : &quot;1562911250917&quot;\n}\n</code></pre>\n<p>Request payload:</p>\n<pre><code>{\n &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\n &quot;Stage_Status&quot; : &quot;I&quot;,\n &quot;1555556059584&quot; : [ \n        {\n            &quot;id&quot; : &quot;1557389940585&quot;,\n            &quot;Notes&quot; : &quot;updated note 123&quot;\n        }\n     ]\n}\n</code></pre>\n<p>I am trying to update  &quot;Stage_Status&quot; and &quot;1555556059584.Notes&quot;  at a time  using $set.I am able to update &quot;Stage_Status&quot; but &quot;1555556059584&quot; array is going to reset with what i have updated with last one.</p>\n<p>My except output :</p>\n<pre><code>{\n    &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\n    &quot;Opportunity_Owner&quot; : &quot;Self&quot;,\n    &quot;Account_Name&quot; : &quot;IC&quot;,\n    &quot;Lead_Source&quot; : &quot;Callbox&quot;,\n    &quot;Opportunity_Name&quot; : &quot;name1 &quot;,\n    &quot;Stage&quot; : &quot;Proposal&quot;,\n    &quot;Stage_Status&quot; : &quot;I&quot;,\n    &quot;1555570551211&quot; : [],\n    &quot;1555556165153&quot; : [],\n    &quot;1555556059584&quot; : [ \n        {\n            &quot;id&quot; : &quot;1557389940585&quot;,\n            &quot;Notes&quot; : &quot;updated note 123&quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389945398&quot;,\n           &quot;Notes&quot; : &quot;Hi Bobby &quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389978181&quot;,\n            &quot;Notes&quot; : &quot;Spoken to Bobby.&quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389990159&quot;,\n            &quot;Notes&quot; : &quot;plan to call on 29/Apr&quot;\n        }\n    ],\n    \n    &quot;createdBy&quot; : &quot;2c18b8dbb7d74a41a66f53a90117480a&quot;,\n    &quot;createdDate&quot; : &quot;1562911250917&quot;\n}\n</code></pre>\n<p>can any one please help me to figure it out in java.</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649952453,"creation_date":1649951753,"answer_id":71874448,"question_id":71874275,"body_markdown":"Use the length and a loop to tell which one is present.  Use `-1` in split to process all delimiters.\r\n```\r\nString idString = &quot;||id2||||&quot;;\r\n\r\nString ids[] = idString.split(&quot;\\\\|\\\\|&quot;, -1);\r\nfor (int i = 0; i &lt; ids.length; i++) {\r\n\tSystem.out.printf(&quot;id[%d] -&gt; %s%n&quot;, i, ids[i].isEmpty() ? &quot;is Empty&quot; :ids[i]);\r\n}\r\n```\r\nprints\r\n```\r\nid[0] -&gt; is Empty\r\nid[1] -&gt; id2\r\nid[2] -&gt; is Empty\r\nid[3] -&gt; is Empty","title":"Split string with positional values separated by delimiter Java","body":"<p>Use the length and a loop to tell which one is present.  Use <code>-1</code> in split to process all delimiters.</p>\n<pre><code>String idString = &quot;||id2||||&quot;;\n\nString ids[] = idString.split(&quot;\\\\|\\\\|&quot;, -1);\nfor (int i = 0; i &lt; ids.length; i++) {\n    System.out.printf(&quot;id[%d] -&gt; %s%n&quot;, i, ids[i].isEmpty() ? &quot;is Empty&quot; :ids[i]);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>id[0] -&gt; is Empty\nid[1] -&gt; id2\nid[2] -&gt; is Empty\nid[3] -&gt; is Empty\n</code></pre>\n"}],"owner":{"account_id":13298121,"reputation":37,"user_id":9600398,"display_name":"jerry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1650006910,"accepted_answer_id":71874448,"answer_count":1,"score":1,"last_activity_date":1649952453,"creation_date":1649950928,"question_id":71874275,"body_markdown":"I have an input string that contains 4 ids separated by delimiter(||). I am using the following code:\r\n\r\n    String idString = &quot;id1||id2||id3||id4&quot;;\r\n\r\n      String ids[] = idString.split(&quot;\\\\|\\\\|&quot;);\r\n      String id1 = ids[0];\r\n      String id2 = ids[1];\r\n      String id3 = ids[2];\r\n      String id4 = ids[3];\r\n\r\nBut there are cases where not all ids are present like :\r\n\r\n    String idString = &quot;||id2||||&quot;;\r\n\r\nIn the above scenario the split won&#39;t happen in 4 parts and it is not able to tell which id is missing in the split array.\r\n\r\nCan someone help with an efficient solution.","title":"Split string with positional values separated by delimiter Java","body":"<p>I have an input string that contains 4 ids separated by delimiter(||). I am using the following code:</p>\n<pre><code>String idString = &quot;id1||id2||id3||id4&quot;;\n\n  String ids[] = idString.split(&quot;\\\\|\\\\|&quot;);\n  String id1 = ids[0];\n  String id2 = ids[1];\n  String id3 = ids[2];\n  String id4 = ids[3];\n</code></pre>\n<p>But there are cases where not all ids are present like :</p>\n<pre><code>String idString = &quot;||id2||||&quot;;\n</code></pre>\n<p>In the above scenario the split won't happen in 4 parts and it is not able to tell which id is missing in the split array.</p>\n<p>Can someone help with an efficient solution.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649946074,"creation_date":1649946074,"answer_id":71873159,"question_id":71872730,"body_markdown":"Since you are using \r\n\r\n    componentModel = &quot;spring&quot;\r\n\r\ni would suggest that you simply inject the mappers like normal dependencies via dependency injection. \r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class StudentService {\r\n\r\n        private final StudentMapper studentMapper;\r\n\r\n        public void update(final @Valid Map&lt;String, Object&gt; map, Student student) { \r\n            Student result = MAPPER.updateStudentFromMap(map, student);\r\n        }\r\n    }\r\n   \r\n\r\nI am not sure the code you provided is a viable way to use mapstruct. \r\n    \r\n    public interface StudentMapper {\r\n\r\n    StudentMapper MAPPER = Mappers.getMapper( StudentMapper.class );\r\n","title":"using mapstruct with service","body":"<p>Since you are using</p>\n<pre><code>componentModel = &quot;spring&quot;\n</code></pre>\n<p>i would suggest that you simply inject the mappers like normal dependencies via dependency injection.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class StudentService {\n\n    private final StudentMapper studentMapper;\n\n    public void update(final @Valid Map&lt;String, Object&gt; map, Student student) { \n        Student result = MAPPER.updateStudentFromMap(map, student);\n    }\n}\n</code></pre>\n<p>I am not sure the code you provided is a viable way to use mapstruct.</p>\n<pre><code>public interface StudentMapper {\n\nStudentMapper MAPPER = Mappers.getMapper( StudentMapper.class );\n</code></pre>\n"}],"owner":{"account_id":2105234,"reputation":1029,"user_id":1871717,"accept_rate":51,"display_name":"sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71873159,"answer_count":1,"score":0,"last_activity_date":1649952344,"creation_date":1649944076,"question_id":71872730,"body_markdown":"I have the following Mapper:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;,\r\n        nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n    public interface StudentMapper {\r\n    \r\n        StudentMapper MAPPER = Mappers.getMapper( StudentMapper.class );\r\n    \r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        Student map(Map&lt;String, Object&gt; map, @MappingTarget Student student);\r\n    \r\n    }\r\n\r\nThis is my StudentService which uses the MAPPER:\r\n\r\n    import static com.test.StudentMapper.MAPPER;\r\n\r\n    public class StudentService {\r\n        public void update(final @Valid Map&lt;String, Object&gt; map, Student student) { \r\n            Student result = MAPPER.map(map, student);\r\n        }\r\n    }\r\n\r\nWhen I run my tests:\r\n\r\nI am getting `java.lang.NullPointerException: Cannot invoke map(Object) because &quot;this.qualifier&quot; is null`\r\n\r\nHow can I inject Qualifier properly when I use the mapper in my StudentService class?\r\n\r\n","title":"using mapstruct with service","body":"<p>I have the following Mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;,\n    nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\npublic interface StudentMapper {\n\n    StudentMapper MAPPER = Mappers.getMapper( StudentMapper.class );\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    Student map(Map&lt;String, Object&gt; map, @MappingTarget Student student);\n\n}\n</code></pre>\n<p>This is my StudentService which uses the MAPPER:</p>\n<pre><code>import static com.test.StudentMapper.MAPPER;\n\npublic class StudentService {\n    public void update(final @Valid Map&lt;String, Object&gt; map, Student student) { \n        Student result = MAPPER.map(map, student);\n    }\n}\n</code></pre>\n<p>When I run my tests:</p>\n<p>I am getting <code>java.lang.NullPointerException: Cannot invoke map(Object) because &quot;this.qualifier&quot; is null</code></p>\n<p>How can I inject Qualifier properly when I use the mapper in my StudentService class?</p>\n"},{"tags":["java","spring","spring-boot","performance","architecture"],"answers":[{"tags":[],"owner":{"account_id":6709809,"reputation":150,"user_id":5173611,"display_name":"J.R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649952336,"creation_date":1649950217,"answer_id":71874100,"question_id":71873744,"body_markdown":"You can try [Spring Cloud Gateway][1] or [Spring Cloud Netflix][2].\r\n\r\nYou don`t need to build a gateway from scratch unless you want. And even if you want to, you could consider aspects such as security, maturity and maintenance \r\n\r\nSome modules of Spring Cloud Netflix \r\nhave gone into maintenance mode, therefore, Spring Cloud Gateway might be a good option as [GJohannes][3] quoted\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud-gateway\r\n  [2]: https://spring.io/projects/spring-cloud-netflix\r\n  [3]: https://stackoverflow.com/users/10254476/gjohannes","title":"Using Resttemplate as a simple API gateway","body":"<p>You can try <a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">Spring Cloud Gateway</a> or <a href=\"https://spring.io/projects/spring-cloud-netflix\" rel=\"nofollow noreferrer\">Spring Cloud Netflix</a>.</p>\n<p>You don`t need to build a gateway from scratch unless you want. And even if you want to, you could consider aspects such as security, maturity and maintenance</p>\n<p>Some modules of Spring Cloud Netflix\nhave gone into maintenance mode, therefore, Spring Cloud Gateway might be a good option as <a href=\"https://stackoverflow.com/users/10254476/gjohannes\">GJohannes</a> quoted</p>\n"}],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71874100,"answer_count":1,"score":0,"last_activity_date":1649952336,"creation_date":1649948647,"question_id":71873744,"body_markdown":"I am using Resttemplate to build an simple API gateway in spring-boot project. When my gateway receive a request from client, it dispatch the request to another Service through RESTful call, and then pass the response back to client.\r\n\r\nMy code snippet like below:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;api/v1/message&quot;)\r\npublic class GatewayController {\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Response&gt; dispatchRequest(@RequestBody Request request) {\r\n        validateInput(request);         \r\n\r\n        Response response = restTemplate.post(URL_OF_ANOTHOER_SERVICE, request, ...);\r\n\r\n        return ResponseEntity.ok(response);\r\n    }\r\n}\r\n```\r\n\r\nI have more than 100 requests per second approximately, and I know that Resttemplate is thread-safe.\r\n\r\nMy questions:\r\n1. Is Resttemplate OK to do such work? Will it become bottleneck?\r\n2. Is there any other suggestions?\r\n\r\nThank you very much.","title":"Using Resttemplate as a simple API gateway","body":"<p>I am using Resttemplate to build an simple API gateway in spring-boot project. When my gateway receive a request from client, it dispatch the request to another Service through RESTful call, and then pass the response back to client.</p>\n<p>My code snippet like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;api/v1/message&quot;)\npublic class GatewayController {\n\n    @PostMapping\n    public ResponseEntity&lt;Response&gt; dispatchRequest(@RequestBody Request request) {\n        validateInput(request);         \n\n        Response response = restTemplate.post(URL_OF_ANOTHOER_SERVICE, request, ...);\n\n        return ResponseEntity.ok(response);\n    }\n}\n</code></pre>\n<p>I have more than 100 requests per second approximately, and I know that Resttemplate is thread-safe.</p>\n<p>My questions:</p>\n<ol>\n<li>Is Resttemplate OK to do such work? Will it become bottleneck?</li>\n<li>Is there any other suggestions?</li>\n</ol>\n<p>Thank you very much.</p>\n"},{"tags":["java","spring","spring-boot","server-sent-events"],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649952107,"creation_date":1649947960,"question_id":71873593,"body_markdown":"I am new to Server Sent Event concepts. Recently I added SSEemitter in my existing Spring Boot application, taking idea from internet.\r\n\r\n\r\nIn-memory `SseEmitter` repository class is as follow:\r\n\r\n\r\n    @Repository\r\n    public class InMemorySseEmitterRepository implements SseEmitterRepository {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(InMemorySseEmitterRepository.class);\r\n    \r\n      private Map&lt;String, SseEmitter&gt; userEmitterMap = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n      @Override\r\n      public void addEmitter(String memberId, SseEmitter emitter) {\r\n        userEmitterMap.put(memberId, emitter);\r\n      }\r\n    \r\n      @Override\r\n      public void remove(String memberId) {\r\n        if (userEmitterMap != null &amp;&amp; userEmitterMap.containsKey(memberId)) {\r\n          log.info(&quot;Removing emitter for member: {}&quot;, memberId);\r\n          userEmitterMap.remove(memberId);\r\n        } else {\r\n          log.info(&quot;No emitter to remove for member: {}&quot;, memberId);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public Optional&lt;SseEmitter&gt; get(String memberId) {\r\n        return Optional.ofNullable(userEmitterMap.get(memberId));\r\n      }\r\n    } \r\n\r\n\r\n`SseEmitter` service class is as follows:\r\n\r\n    @Service\r\n    public class SseEmitterServiceImpl implements SseEmitterService {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(SseEmitterServiceImpl.class);\r\n      private final SseEmitterRepository repository;\r\n    \r\n      public SseEmitterServiceImpl(@Value(SseEmitterRepository repository) {\r\n        this.repository = repository;\r\n      }\r\n    \r\n      @Override\r\n      public SseEmitter subscribe(String entityId, EventType eventType) {\r\n        SseEmitter emitter = new SseEmitter(-1L);        //SO THAT IT NEVER TIMES OUT\r\n        String memberId = entityId + &quot;_&quot; + eventType;    //MEMBER ID HAS BEEN INTRODUCED BECAUSE FOR DIFFERENT ENTITIES, FOR DIFFERENT EVENTS WE CAN SEND EVENTS FROM SERVER TO CLIENT\r\n        emitter.onCompletion(() -&gt; repository.remove(memberId));\r\n        emitter.onTimeout(() -&gt; repository.remove(memberId));\r\n        emitter.onError(e -&gt; {\r\n          log.error(&quot;Create SseEmitter exception&quot;, e);\r\n          repository.remove(memberId);\r\n        });\r\n        repository.addEmitter(memberId, emitter);\r\n        return emitter;\r\n      }\r\n    } \r\n\r\nAssociated resource class is as follows:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class SseEmitterResource {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(SseEmitterResource.class);\r\n      private final SseEmitterService emitterService;\r\n    \r\n      public SseEmitterResource(SseEmitterService emitterService) {\r\n        this.emitterService = emitterService;\r\n      }\r\n    \r\n      @GetMapping(&quot;/subscribe/{eventType}&quot;)\r\n      public SseEmitter subscribeToEvents(\r\n          @PathVariable EventType eventType,\r\n          @RequestParam(required = false, defaultValue = &quot;&quot;) String entityId) {\r\n        log.info(&quot;Subscribing member with event type {} for entity id {}&quot;, eventType, entityId);\r\n        return emitterService.subscribe(entityId, eventType);\r\n      }\r\n    }\r\n\r\nActually, there can be multiple event type and multiple entity ids for which we should be able to send events from Server to Client.\r\n\r\nThe service class, responsible for sending the notification is as follows:\r\n\r\n    @Service\r\n    public class SseNotificationServiceImpl implements SseNotificationService {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(SseNotificationServiceImpl.class);\r\n    \r\n      private final SseEmitterRepository emitterRepository;\r\n      private final DataMapper dataMapper;\r\n    \r\n      public SseNotificationServiceImpl(\r\n          SseEmitterRepository emitterRepository,\r\n          DataMapper dataMapper) {\r\n        this.emitterRepository = emitterRepository;\r\n        this.dataMapper = dataMapper;\r\n      }\r\n    \r\n      @Override\r\n      public void sendSseNotification(String memberId, MyDTO dto) {\r\n        sendNotification(memberId, dto);\r\n      }\r\n    \r\n      private void sendNotification(String memberId, MyDTO dto) {\r\n        emitterRepository.get(memberId).ifPresentOrElse(sseEmitter -&gt; {\r\n          try {\r\n            sseEmitter.send(dataMapper.map(dto));\r\n          } catch (IOException e) {\r\n            ...\r\n            emitterRepository.remove(memberId);\r\n          }\r\n        }, () -&gt; ...;\r\n      }\r\n    } \r\n\r\nFinally, the place, where I send this Server Sent Event notification is as follows:\r\n\r\n\r\n    sseNotificationService.sendSseNotification(...);\r\n\r\n\r\nNow, my questions are as follows: \r\n\r\n1. if there are multiple, say 6 clients for the Spring Boot application deployed on single POD, will all of them receive notification through the single `SseEmitter` instance, as I have shown above ? \r\n\r\n2. If not, could anyone please help me with the changes which I need to incorporate in the above code, in order to send Server Sent Event notification to all clients ? Thanks.","title":"Server Sent Event from Spring Boot application on single server with multiple UI clients","body":"<p>I am new to Server Sent Event concepts. Recently I added SSEemitter in my existing Spring Boot application, taking idea from internet.</p>\n<p>In-memory <code>SseEmitter</code> repository class is as follow:</p>\n<pre><code>@Repository\npublic class InMemorySseEmitterRepository implements SseEmitterRepository {\n\n  private static final Logger log = LoggerFactory.getLogger(InMemorySseEmitterRepository.class);\n\n  private Map&lt;String, SseEmitter&gt; userEmitterMap = new ConcurrentHashMap&lt;&gt;();\n\n  @Override\n  public void addEmitter(String memberId, SseEmitter emitter) {\n    userEmitterMap.put(memberId, emitter);\n  }\n\n  @Override\n  public void remove(String memberId) {\n    if (userEmitterMap != null &amp;&amp; userEmitterMap.containsKey(memberId)) {\n      log.info(&quot;Removing emitter for member: {}&quot;, memberId);\n      userEmitterMap.remove(memberId);\n    } else {\n      log.info(&quot;No emitter to remove for member: {}&quot;, memberId);\n    }\n  }\n\n  @Override\n  public Optional&lt;SseEmitter&gt; get(String memberId) {\n    return Optional.ofNullable(userEmitterMap.get(memberId));\n  }\n} \n</code></pre>\n<p><code>SseEmitter</code> service class is as follows:</p>\n<pre><code>@Service\npublic class SseEmitterServiceImpl implements SseEmitterService {\n\n  private static final Logger log = LoggerFactory.getLogger(SseEmitterServiceImpl.class);\n  private final SseEmitterRepository repository;\n\n  public SseEmitterServiceImpl(@Value(SseEmitterRepository repository) {\n    this.repository = repository;\n  }\n\n  @Override\n  public SseEmitter subscribe(String entityId, EventType eventType) {\n    SseEmitter emitter = new SseEmitter(-1L);        //SO THAT IT NEVER TIMES OUT\n    String memberId = entityId + &quot;_&quot; + eventType;    //MEMBER ID HAS BEEN INTRODUCED BECAUSE FOR DIFFERENT ENTITIES, FOR DIFFERENT EVENTS WE CAN SEND EVENTS FROM SERVER TO CLIENT\n    emitter.onCompletion(() -&gt; repository.remove(memberId));\n    emitter.onTimeout(() -&gt; repository.remove(memberId));\n    emitter.onError(e -&gt; {\n      log.error(&quot;Create SseEmitter exception&quot;, e);\n      repository.remove(memberId);\n    });\n    repository.addEmitter(memberId, emitter);\n    return emitter;\n  }\n} \n</code></pre>\n<p>Associated resource class is as follows:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class SseEmitterResource {\n\n  private static final Logger log = LoggerFactory.getLogger(SseEmitterResource.class);\n  private final SseEmitterService emitterService;\n\n  public SseEmitterResource(SseEmitterService emitterService) {\n    this.emitterService = emitterService;\n  }\n\n  @GetMapping(&quot;/subscribe/{eventType}&quot;)\n  public SseEmitter subscribeToEvents(\n      @PathVariable EventType eventType,\n      @RequestParam(required = false, defaultValue = &quot;&quot;) String entityId) {\n    log.info(&quot;Subscribing member with event type {} for entity id {}&quot;, eventType, entityId);\n    return emitterService.subscribe(entityId, eventType);\n  }\n}\n</code></pre>\n<p>Actually, there can be multiple event type and multiple entity ids for which we should be able to send events from Server to Client.</p>\n<p>The service class, responsible for sending the notification is as follows:</p>\n<pre><code>@Service\npublic class SseNotificationServiceImpl implements SseNotificationService {\n\n  private static final Logger log = LoggerFactory.getLogger(SseNotificationServiceImpl.class);\n\n  private final SseEmitterRepository emitterRepository;\n  private final DataMapper dataMapper;\n\n  public SseNotificationServiceImpl(\n      SseEmitterRepository emitterRepository,\n      DataMapper dataMapper) {\n    this.emitterRepository = emitterRepository;\n    this.dataMapper = dataMapper;\n  }\n\n  @Override\n  public void sendSseNotification(String memberId, MyDTO dto) {\n    sendNotification(memberId, dto);\n  }\n\n  private void sendNotification(String memberId, MyDTO dto) {\n    emitterRepository.get(memberId).ifPresentOrElse(sseEmitter -&gt; {\n      try {\n        sseEmitter.send(dataMapper.map(dto));\n      } catch (IOException e) {\n        ...\n        emitterRepository.remove(memberId);\n      }\n    }, () -&gt; ...;\n  }\n} \n</code></pre>\n<p>Finally, the place, where I send this Server Sent Event notification is as follows:</p>\n<pre><code>sseNotificationService.sendSseNotification(...);\n</code></pre>\n<p>Now, my questions are as follows:</p>\n<ol>\n<li><p>if there are multiple, say 6 clients for the Spring Boot application deployed on single POD, will all of them receive notification through the single <code>SseEmitter</code> instance, as I have shown above ?</p>\n</li>\n<li><p>If not, could anyone please help me with the changes which I need to incorporate in the above code, in order to send Server Sent Event notification to all clients ? Thanks.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","maven","spring-boot-maven-plugin"],"owner":{"account_id":7814309,"reputation":36,"user_id":5909546,"display_name":"dr_astico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649951299,"creation_date":1649950442,"question_id":71874168,"body_markdown":"I&#39;m facing a problem building a spring project resulting in a NullPointerException when running\r\n\r\n    mvn spring-boot:build-image -e\r\n\r\nrunning simple &quot;mvn package&quot; directive results in successful build without issues.\r\n\r\nhere is the full stack trace:\r\n\r\n    $ mvn spring-boot:build-image -DskipTests -e\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\n    WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    [INFO] Error stacktraces are turned on.\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------&lt; com.cannibalsmurf:loans-manager &gt;-------------------\r\n    [INFO] Building loans-manager 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; spring-boot-maven-plugin:2.6.6:build-image (default-cli) &gt; package @ loans-manager &gt;&gt;&gt;\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ loans-manager ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 1 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ loans-manager ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ loans-manager ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] skip non existing resourceDirectory /home/clue/UDEMY/UDEMY/loans-manager/src/test/resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ loans-manager ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ loans-manager ---\r\n    [INFO] Tests are skipped.\r\n    [INFO]\r\n    [INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ loans-manager ---\r\n    [INFO] Building jar: /home/clue/UDEMY/UDEMY/loans-manager/target/loans-manager-0.0.1-SNAPSHOT.jar\r\n    [INFO]\r\n    [INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.6.6:build-image (default-cli) &lt; package @ loans-manager &lt;&lt;&lt;\r\n    [INFO]\r\n    [INFO]\r\n    [INFO] --- spring-boot-maven-plugin:2.6.6:build-image (default-cli) @ loans-manager ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  2.673 s\r\n    [INFO] Finished at: 2022-04-14T13:02:41+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image (default-cli) on project loans-manager: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.: NullPointerException -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image (default-cli) on project loans-manager: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.NullPointerException\r\n        at org.springframework.boot.maven.BuildImageMojo.getArchiveFile (BuildImageMojo.java:285)\r\n        at org.springframework.boot.maven.BuildImageMojo.getBuildRequest (BuildImageMojo.java:238)\r\n        at org.springframework.boot.maven.BuildImageMojo.buildImage (BuildImageMojo.java:228)\r\n        at org.springframework.boot.maven.BuildImageMojo.execute (BuildImageMojo.java:220)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\nand here is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.cannibalsmurf&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;loans-manager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;loans-manager&lt;/name&gt;\r\n    \t&lt;description&gt;whatever&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\r\n    \t\t&lt;repackage.classifier /&gt;\r\n    \t\t&lt;spring-native.version&gt;0.11.4&lt;/spring-native.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.experimental/spring-graal-native --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-native&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;id&gt;test-generate&lt;/id&gt;\r\n    \t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goal&gt;test-generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;id&gt;generate&lt;/id&gt;\r\n    \t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;image&gt;\r\n    \t\t\t\t\t\t\t&lt;buildpacks&gt;\r\n    \t\t\t\t\t\t\t\t&lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image:7.1.0&lt;/buildpack&gt;\r\n    \t\t\t\t\t\t\t&lt;/buildpacks&gt;\r\n    \t\t\t\t\t\t\t&lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\r\n    \t\t\t\t\t\t\t&lt;env&gt;\r\n    \t\t\t\t\t\t\t\t&lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n    \t\t\t\t\t\t\t&lt;/env&gt;\r\n    \t\t\t\t\t\t&lt;/image&gt;\r\n    \t\t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Releases&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Releases&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nI just can&#39;t figure out what is going wrong.\r\n\r\nI found a [similar issue][1] on the projectlombok that doesn&#39;t seem to be related, since the stack trace doesn&#39;t match, and a [workaround][2] was released for what seems to be a javac bug.\r\n\r\nhere the code which throws the exception from spring-boot-maven-plugin version 2.6.6:\r\n\r\n    278    private File getArchiveFile() {\r\n    279    \t// We can use &#39;project.getArtifact().getFile()&#39; because that was done in a\r\n    280    \t// forked lifecycle and is now null\r\n    281    \tFile archiveFile = getTargetFile(this.finalName, this.classifier, this.sourceDirectory);\r\n    282    \tif (!archiveFile.exists()) {\r\n    283    \t\tarchiveFile = getSourceArtifact(this.classifier).getFile();\r\n    284    \t}\r\n    285    \tif (!archiveFile.exists()) {\r\n    286    \t\tthrow new IllegalStateException(&quot;A jar or war file is required for building image&quot;);\r\n    287    \t}\r\n    288    \treturn archiveFile;\r\n    289    }\r\n\r\nas per stack trace, (AFAIK) the NPE is thrown at line 285. Since 282 is executed and `archiveFile` at the same line is not null, then `archiveFile` is assigned null at 283. So the method `getSourceArtifact` returns an `Artifact` instance with the property `file` assigned to null. \r\n\r\nthe getSourceArtifact methods involved:\r\n\r\n    \t/**\r\n\t * Return the source {@link Artifact} to repackage. If a classifier is specified and\r\n\t * an artifact with that classifier exists, it is used. Otherwise, the main artifact\r\n\t * is used.\r\n\t * @param classifier the artifact classifier\r\n\t * @return the source artifact to repackage\r\n\t */\r\n\tprotected Artifact getSourceArtifact(String classifier) {\r\n\t\tArtifact sourceArtifact = getArtifact(classifier);\r\n\t\treturn (sourceArtifact != null) ? sourceArtifact : this.project.getArtifact();\r\n\t}\r\n\r\n\tprivate Artifact getArtifact(String classifier) {\r\n\t\tif (classifier != null) {\r\n\t\t\tfor (Artifact attachedArtifact : this.project.getAttachedArtifacts()) {\r\n\t\t\t\tif (classifier.equals(attachedArtifact.getClassifier()) &amp;&amp; attachedArtifact.getFile() != null\r\n\t\t\t\t\t\t&amp;&amp; attachedArtifact.getFile().isFile()) {\r\n\t\t\t\t\treturn attachedArtifact;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nI&#39;m not able to investigate further (maybe I should first figure out how to proceed to debug this code in order to understand if the problem is in my code or in some dependency inside the pom, or somewhere else in the plugin itself). \r\n\r\n\r\nany suggestion would be really appreciated.\r\n\r\nThank you\r\n\r\n\r\n  [1]:\r\nhttps://github.com/projectlombok/lombok/issues/2184\r\n  [2]: https://github.com/projectlombok/lombok/commit/867c3caf61fcc76b7cb8a7356e71858889f85ebf","title":"SPRING NPE building docker image using spring-boot-maven-plugin and Buildpacks","body":"<p>I'm facing a problem building a spring project resulting in a NullPointerException when running</p>\n<pre><code>mvn spring-boot:build-image -e\n</code></pre>\n<p>running simple &quot;mvn package&quot; directive results in successful build without issues.</p>\n<p>here is the full stack trace:</p>\n<pre><code>$ mvn spring-boot:build-image -DskipTests -e\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[INFO] Error stacktraces are turned on.\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------&lt; com.cannibalsmurf:loans-manager &gt;-------------------\n[INFO] Building loans-manager 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; spring-boot-maven-plugin:2.6.6:build-image (default-cli) &gt; package @ loans-manager &gt;&gt;&gt;\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ loans-manager ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 1 resource\n[INFO] Copying 1 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ loans-manager ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ loans-manager ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] skip non existing resourceDirectory /home/clue/UDEMY/UDEMY/loans-manager/src/test/resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ loans-manager ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ loans-manager ---\n[INFO] Tests are skipped.\n[INFO]\n[INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ loans-manager ---\n[INFO] Building jar: /home/clue/UDEMY/UDEMY/loans-manager/target/loans-manager-0.0.1-SNAPSHOT.jar\n[INFO]\n[INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.6.6:build-image (default-cli) &lt; package @ loans-manager &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- spring-boot-maven-plugin:2.6.6:build-image (default-cli) @ loans-manager ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.673 s\n[INFO] Finished at: 2022-04-14T13:02:41+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image (default-cli) on project loans-manager: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.: NullPointerException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image (default-cli) on project loans-manager: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NullPointerException\n    at org.springframework.boot.maven.BuildImageMojo.getArchiveFile (BuildImageMojo.java:285)\n    at org.springframework.boot.maven.BuildImageMojo.getBuildRequest (BuildImageMojo.java:238)\n    at org.springframework.boot.maven.BuildImageMojo.buildImage (BuildImageMojo.java:228)\n    at org.springframework.boot.maven.BuildImageMojo.execute (BuildImageMojo.java:220)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n<p>and here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.cannibalsmurf&lt;/groupId&gt;\n    &lt;artifactId&gt;loans-manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;loans-manager&lt;/name&gt;\n    &lt;description&gt;whatever&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\n        &lt;repackage.classifier /&gt;\n        &lt;spring-native.version&gt;0.11.4&lt;/spring-native.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.experimental/spring-graal-native --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\n            &lt;version&gt;${spring-native.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${spring-native.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;test-generate&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test-generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;generate&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;image&gt;\n                            &lt;buildpacks&gt;\n                                &lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image:7.1.0&lt;/buildpack&gt;\n                            &lt;/buildpacks&gt;\n                            &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\n                            &lt;env&gt;\n                                &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n                            &lt;/env&gt;\n                        &lt;/image&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;classifier&gt;exec&lt;/classifier&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I just can't figure out what is going wrong.</p>\n<p>I found a <a href=\"https://github.com/projectlombok/lombok/issues/2184\" rel=\"nofollow noreferrer\">similar issue</a> on the projectlombok that doesn't seem to be related, since the stack trace doesn't match, and a <a href=\"https://github.com/projectlombok/lombok/commit/867c3caf61fcc76b7cb8a7356e71858889f85ebf\" rel=\"nofollow noreferrer\">workaround</a> was released for what seems to be a javac bug.</p>\n<p>here the code which throws the exception from spring-boot-maven-plugin version 2.6.6:</p>\n<pre><code>278    private File getArchiveFile() {\n279     // We can use 'project.getArtifact().getFile()' because that was done in a\n280     // forked lifecycle and is now null\n281     File archiveFile = getTargetFile(this.finalName, this.classifier, this.sourceDirectory);\n282     if (!archiveFile.exists()) {\n283         archiveFile = getSourceArtifact(this.classifier).getFile();\n284     }\n285     if (!archiveFile.exists()) {\n286         throw new IllegalStateException(&quot;A jar or war file is required for building image&quot;);\n287     }\n288     return archiveFile;\n289    }\n</code></pre>\n<p>as per stack trace, (AFAIK) the NPE is thrown at line 285. Since 282 is executed and <code>archiveFile</code> at the same line is not null, then <code>archiveFile</code> is assigned null at 283. So the method <code>getSourceArtifact</code> returns an <code>Artifact</code> instance with the property <code>file</code> assigned to null.</p>\n<p>the getSourceArtifact methods involved:</p>\n<pre><code>    /**\n * Return the source {@link Artifact} to repackage. If a classifier is specified and\n * an artifact with that classifier exists, it is used. Otherwise, the main artifact\n * is used.\n * @param classifier the artifact classifier\n * @return the source artifact to repackage\n */\nprotected Artifact getSourceArtifact(String classifier) {\n    Artifact sourceArtifact = getArtifact(classifier);\n    return (sourceArtifact != null) ? sourceArtifact : this.project.getArtifact();\n}\n\nprivate Artifact getArtifact(String classifier) {\n    if (classifier != null) {\n        for (Artifact attachedArtifact : this.project.getAttachedArtifacts()) {\n            if (classifier.equals(attachedArtifact.getClassifier()) &amp;&amp; attachedArtifact.getFile() != null\n                    &amp;&amp; attachedArtifact.getFile().isFile()) {\n                return attachedArtifact;\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>I'm not able to investigate further (maybe I should first figure out how to proceed to debug this code in order to understand if the problem is in my code or in some dependency inside the pom, or somewhere else in the plugin itself).</p>\n<p>any suggestion would be really appreciated.</p>\n<p>Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1649943774,"post_id":71872632,"comment_id":127006138,"body_markdown":"If you get a `ClassCastException` then the element returned is not of type `SpecOption`. Hence, it cannot be cast to a `SpecOption`.","body":"If you get a <code>ClassCastException</code> then the element returned is not of type <code>SpecOption</code>. Hence, it cannot be cast to a <code>SpecOption</code>."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1649944046,"post_id":71872632,"comment_id":127006251,"body_markdown":"If you want to get a `List&lt;SpecOption&gt;` reference to a `List&lt;Option&gt;` and check that the elements are of the correct type, you would have to iterate through the list and check the type of each element.","body":"If you want to get a <code>List&lt;SpecOption&gt;</code> reference to a <code>List&lt;Option&gt;</code> and check that the elements are of the correct type, you would have to iterate through the list and check the type of each element."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1649944080,"post_id":71872632,"comment_id":127006264,"body_markdown":"@Turing85 yes, but why do I get a list of the wrong objects? I need to get this exception earlier in the ```getOptions()``` method.","body":"@Turing85 yes, but why do I get a list of the wrong objects? I need to get this exception earlier in the <code>getOptions()</code> method."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1649944683,"post_id":71872632,"comment_id":127006517,"body_markdown":"The generic type is defined wrong then. Casting does nothing else then change the compiler&#39;s view. IIRC, the JLS just states that a cast has to be inserted to guarantee types, but the compiler is allowed to insert it wherever it sees fit.","body":"The generic type is defined wrong then. Casting does nothing else then change the compiler&#39;s view. IIRC, the JLS just states that a cast has to be inserted to guarantee types, but the compiler is allowed to insert it wherever it sees fit."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649945357,"post_id":71872632,"comment_id":127006824,"body_markdown":"I would expect an error starting at `this.options = options;`; at least one at `public &lt;T extends Option&gt; getOptions()` - maybe you should work with `Data&lt;T&gt;` (have that class generic, not just the methods)","body":"I would expect an error starting at <code>this.options = options;</code>; at least one at <code>public &lt;T extends Option&gt; getOptions()</code> - maybe you should work with <code>Data&lt;T&gt;</code> (have that class generic, not just the methods)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1649950812,"post_id":71872632,"comment_id":127009066,"body_markdown":"If you are getting a `ClassCastException`, then maybe the code that you are running differs from the code you have posted. Because your class `Data` will not compile. Assignment in the `setOptions()` is illegal. And return type is missing in the declaration of `getOptions()` method.","body":"If you are getting a <code>ClassCastException</code>, then maybe the code that you are running differs from the code you have posted. Because your class <code>Data</code> will not compile. Assignment in the <code>setOptions()</code> is illegal. And return type is missing in the declaration of <code>getOptions()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649951244,"creation_date":1649951244,"answer_id":71874346,"question_id":71872632,"body_markdown":"Generics are figment of `javac`&#39;s imagination. It&#39;s entirely a compile time show.\r\n\r\nThe offending line is this one:\r\n\r\n&gt; ```java\r\n&gt; public &lt;T extends Option&gt; getOptions() {\r\n&gt;   return (List&lt;T&gt;) options;\r\n&gt; }\r\n&gt; ```\r\n\r\nWhich is why javac gave you a warning which you evidently decided to ignore (don&#39;t do that). generics is something that applies solely to compile time, and the compiler is telling you that it can&#39;t verify any of the generics. In other words, now you have no type checking at all. The compiler is telling you: If you ignore this warning, you will get ClassCastExceptions in really bizarre places: Places with zero casts!\r\n\r\nIt&#39;s not entirely clear what you want here, but in broad strokes, you want something like either this:\r\n\r\n```\r\npublic class Data {\r\n  private List&lt;? extends Option&gt; options;\r\n\r\n  public void setOptions(List&lt;? extends Option&gt; options) {\r\n    this.options = options;\r\n  }\r\n\r\n  public List&lt;? extends Option&gt; getOptions() {\r\n    return this.options;\r\n  }\r\n\r\n  public &lt;T extends Options&gt; List&lt;T&gt; getOptionsAs(Class&lt;T&gt; desiredType) {\r\n    var result = new ArrayList&lt;T&gt;();\r\n    for (Option o : options) {\r\n      result.add(desiredType.cast(o));\r\n    }\r\n    return result;\r\n}\r\n\r\n// and to use:\r\n\r\nList&lt;SpecOption&gt; options = opt.getOptionsAs(SpecOption.class);\r\n// The above line throws a ClassCastEx if neccessary.\r\n```\r\n\r\nThe above has no generics warnings, lets you &#39;set&#39; options with anything suitable (given a `List&lt;SpecOption&gt;`, you can just pass that to `setOption`, whereas in your code you can&#39;t without a warning-causing cast. You don&#39;t want those casts. You can read the options, and if you want specifically: Either give me the options specifically as a list of SpecOption objects, or, if there&#39;s one or more option objects in there that isn&#39;t a SpecOption, throw a ClassCastException right away - then that&#39;s what `getOptionsAs` does.\r\n\r\nYes, a loop. As I said, generics is purely a compiler show. If you want type safety you have to program it, which the above example does.\r\n\r\nor, perhaps something more along the lines of this:\r\n\r\n```\r\npublic class Data&lt;T extends Option&gt; {\r\n  private List&lt;? extends T&gt; options;\r\n\r\n  public void setOptions(List&lt;? extends T&gt; options) {\r\n    this.options = options;\r\n  }\r\n\r\n  public List&lt;? extends T&gt; getOptions() {\r\n    return this.options;\r\n  }\r\n}\r\n```\r\n\r\nHere you set up a `Data` object to pre-pick the kind of option type it&#39;s supposed to have.","title":"How to cast List&lt;T&gt; to specific type","body":"<p>Generics are figment of <code>javac</code>'s imagination. It's entirely a compile time show.</p>\n<p>The offending line is this one:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends Option&gt; getOptions() {\n  return (List&lt;T&gt;) options;\n}\n</code></pre>\n</blockquote>\n<p>Which is why javac gave you a warning which you evidently decided to ignore (don't do that). generics is something that applies solely to compile time, and the compiler is telling you that it can't verify any of the generics. In other words, now you have no type checking at all. The compiler is telling you: If you ignore this warning, you will get ClassCastExceptions in really bizarre places: Places with zero casts!</p>\n<p>It's not entirely clear what you want here, but in broad strokes, you want something like either this:</p>\n<pre><code>public class Data {\n  private List&lt;? extends Option&gt; options;\n\n  public void setOptions(List&lt;? extends Option&gt; options) {\n    this.options = options;\n  }\n\n  public List&lt;? extends Option&gt; getOptions() {\n    return this.options;\n  }\n\n  public &lt;T extends Options&gt; List&lt;T&gt; getOptionsAs(Class&lt;T&gt; desiredType) {\n    var result = new ArrayList&lt;T&gt;();\n    for (Option o : options) {\n      result.add(desiredType.cast(o));\n    }\n    return result;\n}\n\n// and to use:\n\nList&lt;SpecOption&gt; options = opt.getOptionsAs(SpecOption.class);\n// The above line throws a ClassCastEx if neccessary.\n</code></pre>\n<p>The above has no generics warnings, lets you 'set' options with anything suitable (given a <code>List&lt;SpecOption&gt;</code>, you can just pass that to <code>setOption</code>, whereas in your code you can't without a warning-causing cast. You don't want those casts. You can read the options, and if you want specifically: Either give me the options specifically as a list of SpecOption objects, or, if there's one or more option objects in there that isn't a SpecOption, throw a ClassCastException right away - then that's what <code>getOptionsAs</code> does.</p>\n<p>Yes, a loop. As I said, generics is purely a compiler show. If you want type safety you have to program it, which the above example does.</p>\n<p>or, perhaps something more along the lines of this:</p>\n<pre><code>public class Data&lt;T extends Option&gt; {\n  private List&lt;? extends T&gt; options;\n\n  public void setOptions(List&lt;? extends T&gt; options) {\n    this.options = options;\n  }\n\n  public List&lt;? extends T&gt; getOptions() {\n    return this.options;\n  }\n}\n</code></pre>\n<p>Here you set up a <code>Data</code> object to pre-pick the kind of option type it's supposed to have.</p>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71874346,"answer_count":1,"score":-1,"last_activity_date":1649951244,"creation_date":1649943647,"question_id":71872632,"body_markdown":"I have the code that looks like the following:\r\n```\r\npublic class Option {\r\n    ...\r\n}\r\n\r\npublic class SpecOption extends Option {\r\n    ...\r\n}\r\n\r\npublic class Data {\r\n    private List&lt;Option&gt; options;\r\n\r\n    public &lt;T extends Option&gt; void setOptions(List&lt;T&gt; options) {\r\n        this.options = options;\r\n    }\r\n    public &lt;T extends Option&gt; getOptions() {\r\n        return (List&lt;T&gt;) options;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String... args) {\r\n        Option option = new Option();\r\n        List&lt;Option&gt; lst = new ArrayList&lt;&gt;();\r\n        lst.add(option);\r\n        Data data = new Data();\r\n        data.setOptions(lst);\r\n\r\n        List&lt;SpecOption&gt; spec = data.getOptions(); // I want to get here null or ClassCastException.\r\n        SpecOption = spec.get(0);    // I get ClassCastException here\r\n    }\r\n}\r\n```\r\nhow to cast to specific type in the line above ```SpecOption = spec.get(0);```?","title":"How to cast List&lt;T&gt; to specific type","body":"<p>I have the code that looks like the following:</p>\n<pre><code>public class Option {\n    ...\n}\n\npublic class SpecOption extends Option {\n    ...\n}\n\npublic class Data {\n    private List&lt;Option&gt; options;\n\n    public &lt;T extends Option&gt; void setOptions(List&lt;T&gt; options) {\n        this.options = options;\n    }\n    public &lt;T extends Option&gt; getOptions() {\n        return (List&lt;T&gt;) options;\n    }\n}\n\npublic class Main {\n    public static void main(String... args) {\n        Option option = new Option();\n        List&lt;Option&gt; lst = new ArrayList&lt;&gt;();\n        lst.add(option);\n        Data data = new Data();\n        data.setOptions(lst);\n\n        List&lt;SpecOption&gt; spec = data.getOptions(); // I want to get here null or ClassCastException.\n        SpecOption = spec.get(0);    // I get ClassCastException here\n    }\n}\n</code></pre>\n<p>how to cast to specific type in the line above <code>SpecOption = spec.get(0);</code>?</p>\n"},{"tags":["java","android","button","floating-action-button"],"comments":[{"owner":{"account_id":3242958,"reputation":6768,"user_id":2735471,"display_name":"Neerajlal K"},"score":0,"creation_date":1476085078,"post_id":39953066,"comment_id":67186561,"body_markdown":"Show your code.","body":"Show your code."}],"answers":[{"tags":[],"owner":{"account_id":6726788,"reputation":713,"user_id":5184462,"accept_rate":80,"display_name":"Jordan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1476086355,"creation_date":1476085706,"answer_id":39953518,"question_id":39953066,"body_markdown":"You could simply use Android support library to create a Floating Action Button.\r\nFor example here is a floating action button example with custom background color, pressed and focused states.\r\n\r\n**XML**\r\n\r\n    &lt;android.support.design.widget.FloatingActionButton xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                        android:id=&quot;@+id/fb&quot;\r\n                        android:layout_width=&quot;60dp&quot;\r\n                        android:layout_height=&quot;60dp&quot;\r\n                        android:src=&quot;@drawable/fb_icon_play&quot;\r\n                        app:backgroundTint=&quot;@drawable/fb_play_bg&quot; /&gt;\r\n\r\n\r\n**fb_icon_play.xml in Drawable Folder**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot; android:drawable=&quot;@drawable/floating_button_blue_play_icon_pressed&quot; /&gt;\r\n        &lt;item android:state_focused=&quot;true&quot; android:drawable=&quot;@drawable/floating_button_yellow_play_icon_pressed&quot; /&gt;\r\n    \r\n        &lt;item android:drawable=&quot;@drawable/floating_button_yellow_play_icon_pressed&quot; /&gt;\r\n    &lt;/selector&gt;\r\n\r\n**fb_play_bg.xml in Drawable Folder**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:state_focused=&quot;true&quot; android:state_pressed=&quot;false&quot; android:color=&quot;#3389b3&quot;/&gt;\r\n    &lt;item android:state_focused=&quot;true&quot; android:state_pressed=&quot;true&quot; android:color=&quot;#3389b3&quot; /&gt;\r\n    &lt;item android:state_focused=&quot;false&quot; android:state_pressed=&quot;true&quot; android:color=&quot;#d1930f&quot; /&gt;\r\n    &lt;item android:color=&quot;#3389b3&quot; /&gt;\r\n    &lt;/selector&gt;\r\n\r\n\r\n[Here][1] is another tutorial for creating a custom FloatingActionButton. \r\n\r\n\r\n  [1]: http://www.android4devs.com/2015/03/how-to-make-floating-action-button-fab.html","title":"how to create or make or set custom background in floating button android","body":"<p>You could simply use Android support library to create a Floating Action Button.\nFor example here is a floating action button example with custom background color, pressed and focused states.</p>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                    android:id=\"@+id/fb\"\n                    android:layout_width=\"60dp\"\n                    android:layout_height=\"60dp\"\n                    android:src=\"@drawable/fb_icon_play\"\n                    app:backgroundTint=\"@drawable/fb_play_bg\" /&gt;\n</code></pre>\n\n<p><strong>fb_icon_play.xml in Drawable Folder</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:state_pressed=\"true\" android:drawable=\"@drawable/floating_button_blue_play_icon_pressed\" /&gt;\n    &lt;item android:state_focused=\"true\" android:drawable=\"@drawable/floating_button_yellow_play_icon_pressed\" /&gt;\n\n    &lt;item android:drawable=\"@drawable/floating_button_yellow_play_icon_pressed\" /&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p><strong>fb_play_bg.xml in Drawable Folder</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;item android:state_focused=\"true\" android:state_pressed=\"false\" android:color=\"#3389b3\"/&gt;\n&lt;item android:state_focused=\"true\" android:state_pressed=\"true\" android:color=\"#3389b3\" /&gt;\n&lt;item android:state_focused=\"false\" android:state_pressed=\"true\" android:color=\"#d1930f\" /&gt;\n&lt;item android:color=\"#3389b3\" /&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p><a href=\"http://www.android4devs.com/2015/03/how-to-make-floating-action-button-fab.html\" rel=\"nofollow\">Here</a> is another tutorial for creating a custom FloatingActionButton. </p>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649950749,"creation_date":1649950749,"answer_id":71874231,"question_id":39953066,"body_markdown":"You can use the new version of FAB, **Extended FAB** in XML\r\n\r\nThe old one \r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton/&gt;\r\n\r\nThe newest:\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.ExtendedFloatingActionButton/&gt;\r\n\r\nthen you can define **Icon**, **Text** and **Shape**:\r\n \r\n\r\n    android:text=&quot;Hi&quot; \r\n    app:icon=&quot;@android:drawable/ic_media_play&quot;\r\n    app:shapeAppearance=&quot;@style/ShapeAppearanceOverlay.Material3.FloatingActionButton&quot;\r\n    app:shapeAppearanceOverlay=&quot;null&quot;\r\n\r\n\r\n\r\n","title":"how to create or make or set custom background in floating button android","body":"<p>You can use the new version of FAB, <strong>Extended FAB</strong> in XML</p>\n<p>The old one</p>\n<pre><code>&lt;com.google.android.material.floatingactionbutton.FloatingActionButton/&gt;\n</code></pre>\n<p>The newest:</p>\n<pre><code>&lt;com.google.android.material.floatingactionbutton.ExtendedFloatingActionButton/&gt;\n</code></pre>\n<p>then you can define <strong>Icon</strong>, <strong>Text</strong> and <strong>Shape</strong>:</p>\n<pre><code>android:text=&quot;Hi&quot; \napp:icon=&quot;@android:drawable/ic_media_play&quot;\napp:shapeAppearance=&quot;@style/ShapeAppearanceOverlay.Material3.FloatingActionButton&quot;\napp:shapeAppearanceOverlay=&quot;null&quot;\n</code></pre>\n"}],"owner":{"display_name":"user4933560"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6396,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":39953518,"answer_count":2,"score":1,"last_activity_date":1649950749,"creation_date":1476083959,"question_id":39953066,"body_markdown":"I have created custom floating button and use all library but not created custom floating button i have very tried to make to this button if you any idea how to make custom floating button.\r\n&lt;br&gt;Plz help me\r\n\r\nMy button look like this:\r\n\r\n![Floating Button image][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/d0RDq.jpg\r\n\r\n**My code**\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_build_now&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:layout_weight=&quot;0&quot;\r\n        android:background=&quot;@color/Background_Main&quot;\r\n        android:drawableBottom=&quot;@drawable/button_bg&quot;\r\n        android:paddingBottom=&quot;10dp&quot; /&gt;","title":"how to create or make or set custom background in floating button android","body":"<p>I have created custom floating button and use all library but not created custom floating button i have very tried to make to this button if you any idea how to make custom floating button.\n<br>Plz help me</p>\n\n<p>My button look like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/d0RDq.jpg\" alt=\"Floating Button image\"></p>\n\n<p><strong>My code</strong></p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/btn_build_now\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center_horizontal\"\n    android:layout_weight=\"0\"\n    android:background=\"@color/Background_Main\"\n    android:drawableBottom=\"@drawable/button_bg\"\n    android:paddingBottom=\"10dp\" /&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","hive","apache-spark-sql"],"comments":[{"owner":{"account_id":16526902,"reputation":148,"user_id":12109772,"display_name":"Smile"},"score":0,"creation_date":1649820130,"post_id":67776394,"comment_id":126970039,"body_markdown":"Hi @aggrawalnikhil02, have you found a solution? I&#39;m having the same problem..","body":"Hi @aggrawalnikhil02, have you found a solution? I&#39;m having the same problem.."}],"answers":[{"tags":[],"owner":{"account_id":16526902,"reputation":148,"user_id":12109772,"display_name":"Smile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649950683,"creation_date":1649950683,"answer_id":71874217,"question_id":67776394,"body_markdown":"To create UDFs the Java class needs to follow a specific pattern.\r\nAccording to the [documentation][1], the implementing class should extend one of the base classes:\r\n\r\n&gt;`class_name`\r\n&gt;\r\n&gt;Specifies the name of the class that provides the implementation for function to be created. The implementing class should extend one of the base classes as follows:\r\n&gt; - Should extend `UDF` or `UDAF` in `org.apache.hadoop.hive.ql.exec` package.\r\n&gt; - Should extend `AbstractGenericUDAFResolver`, `GenericUDF`, or `GenericUDTF` in `org.apache.hadoop.hive.ql.udf.generic` package.\r\n&gt; - Should extend `UserDefinedAggregateFunction` in `org.apache.spark.sql.expressions` package.\r\n\r\nTherefore, for example, your class definition should look like:\r\n\r\n```\r\nimport org.apache.hadoop.hive.ql.exec.UDF;\r\n\r\npublic class ClusterAlgocall_Main3 extends UDF { ... }\r\n```\r\n\r\n\r\n[Here][2] is an example.\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/3.0.0-preview/sql-ref-syntax-ddl-create-function.html\r\n  [2]: https://github.com/curtishoward/sparkudfexamples/blob/master/hive-udf/src/main/java/com/cloudera/fce/curtis/sparkudfexamples/hiveudf/CTOF.java","title":"No handler for UDF/UDAF/UDTF - Spark UDF3","body":"<p>To create UDFs the Java class needs to follow a specific pattern.\nAccording to the <a href=\"https://spark.apache.org/docs/3.0.0-preview/sql-ref-syntax-ddl-create-function.html\" rel=\"nofollow noreferrer\">documentation</a>, the implementing class should extend one of the base classes:</p>\n<blockquote>\n<p><code>class_name</code></p>\n<p>Specifies the name of the class that provides the implementation for function to be created. The implementing class should extend one of the base classes as follows:</p>\n<ul>\n<li>Should extend <code>UDF</code> or <code>UDAF</code> in <code>org.apache.hadoop.hive.ql.exec</code> package.</li>\n<li>Should extend <code>AbstractGenericUDAFResolver</code>, <code>GenericUDF</code>, or <code>GenericUDTF</code> in <code>org.apache.hadoop.hive.ql.udf.generic</code> package.</li>\n<li>Should extend <code>UserDefinedAggregateFunction</code> in <code>org.apache.spark.sql.expressions</code> package.</li>\n</ul>\n</blockquote>\n<p>Therefore, for example, your class definition should look like:</p>\n<pre><code>import org.apache.hadoop.hive.ql.exec.UDF;\n\npublic class ClusterAlgocall_Main3 extends UDF { ... }\n</code></pre>\n<p><a href=\"https://github.com/curtishoward/sparkudfexamples/blob/master/hive-udf/src/main/java/com/cloudera/fce/curtis/sparkudfexamples/hiveudf/CTOF.java\" rel=\"nofollow noreferrer\">Here</a> is an example.</p>\n"}],"owner":{"account_id":15980911,"reputation":11,"user_id":11532603,"display_name":"aggrawalnikhil02"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649950683,"creation_date":1622474171,"question_id":67776394,"body_markdown":"**Java Code -** \r\n\r\n    package ClusterAlgoCall2;\r\n    \r\n    import org.apache.spark.sql.SparkSession;\r\n    import org.apache.spark.sql.api.java.UDF3;\r\n    import org.apache.spark.sql.types.DataTypes;\r\n    \r\n    public class ClusterAlgocall_Main3 {\r\n    \tpublic static void main(String[] args) {\r\n    \tSparkSession spark = SparkSession.builder().appName(&quot;someappname&quot;).enableHiveSupport().getOrCreate();\r\n    \r\n    \tUDF3 UDFCosinetoTxt = new UDF3&lt;String, String, String, String&gt;() {\r\n            public String call(String col1, String col2 , String col3) throws Exception {\r\n                return col3  ;\r\n            }\r\n        };\r\n        spark.udf().register(&quot;UDFCosinetoTxt&quot;, UDFCosinetoTxt, DataTypes.StringType);\r\n    }\r\n    }\r\n**Built it &amp; created a jar for it. Tried to use this jar in spark-SQL**\r\n**After creating a temp function using -**\r\n\r\n    add jar s3://xxxx/jar/ClusterAlgoCall2.jar ;\r\n    CREATE TEMPORARY FUNCTION ClusterAlgo as &#39;ClusterAlgoCall2.ClusterAlgocall_Main3&#39; using jar &#39;s3://xxxx/jar/ClusterAlgoCall2.jar&#39;;\r\n\r\n**Error While running Query -** \r\n\r\n    select ClusterAlgo2(col1,col2,col3) from clusteralgo_test ;\r\n    Error in query: No handler for UDF/UDAF/UDTF &#39;ClusterAlgoCall2.ClusterAlgocall_Main3&#39;; line 1 pos 7\r\n\r\n","title":"No handler for UDF/UDAF/UDTF - Spark UDF3","body":"<p><strong>Java Code -</strong></p>\n<pre><code>package ClusterAlgoCall2;\n\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.api.java.UDF3;\nimport org.apache.spark.sql.types.DataTypes;\n\npublic class ClusterAlgocall_Main3 {\n    public static void main(String[] args) {\n    SparkSession spark = SparkSession.builder().appName(&quot;someappname&quot;).enableHiveSupport().getOrCreate();\n\n    UDF3 UDFCosinetoTxt = new UDF3&lt;String, String, String, String&gt;() {\n        public String call(String col1, String col2 , String col3) throws Exception {\n            return col3  ;\n        }\n    };\n    spark.udf().register(&quot;UDFCosinetoTxt&quot;, UDFCosinetoTxt, DataTypes.StringType);\n}\n}\n</code></pre>\n<p><strong>Built it &amp; created a jar for it. Tried to use this jar in spark-SQL</strong>\n<strong>After creating a temp function using -</strong></p>\n<pre><code>add jar s3://xxxx/jar/ClusterAlgoCall2.jar ;\nCREATE TEMPORARY FUNCTION ClusterAlgo as 'ClusterAlgoCall2.ClusterAlgocall_Main3' using jar 's3://xxxx/jar/ClusterAlgoCall2.jar';\n</code></pre>\n<p><strong>Error While running Query -</strong></p>\n<pre><code>select ClusterAlgo2(col1,col2,col3) from clusteralgo_test ;\nError in query: No handler for UDF/UDAF/UDTF 'ClusterAlgoCall2.ClusterAlgocall_Main3'; line 1 pos 7\n</code></pre>\n"},{"tags":["java","arrays","split"],"comments":[{"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"score":1,"creation_date":1649950408,"post_id":71874111,"comment_id":127008893,"body_markdown":"Try escaping the pipes `\\|\\|`.","body":"Try escaping the pipes <code>\\|\\|</code>."},{"owner":{"account_id":7468171,"reputation":2758,"user_id":5676949,"accept_rate":79,"display_name":"Dog"},"score":0,"creation_date":1649950486,"post_id":71874111,"comment_id":127008931,"body_markdown":"tells me illegal escape character","body":"tells me illegal escape character"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1649950497,"post_id":71874111,"comment_id":127008939,"body_markdown":"`split` takes a regular expression, and `|` has a special meaning in regular expressions. In a string literal, you need to double the backslash (so `&quot;\\\\|\\\\|&quot;`)","body":"<code>split</code> takes a regular expression, and <code>|</code> has a special meaning in regular expressions. In a string literal, you need to double the backslash (so <code>&quot;\\\\|\\\\|&quot;</code>)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1649950603,"post_id":71874111,"comment_id":127008981,"body_markdown":"Related, arguably a duplicate: [Split function doesn&#39;t work](https://stackoverflow.com/questions/21644970/split-function-doesnt-work), [Why String.split(&quot;$&quot;) doesn&#39;t work?](https://stackoverflow.com/questions/13218504/why-string-split-doesnt-work)","body":"Related, arguably a duplicate: <a href=\"https://stackoverflow.com/questions/21644970/split-function-doesnt-work\">Split function doesn&#39;t work</a>, <a href=\"https://stackoverflow.com/questions/13218504/why-string-split-doesnt-work\">Why String.split(&quot;$&quot;) doesn&#39;t work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649950633,"creation_date":1649950633,"answer_id":71874207,"question_id":71874111,"body_markdown":"You need to double escape them.  Once for the `String` and once for the `regex`. `\\\\` escapes the slash so it can be passed on to the regex as `\\|` which escapes the `|`.\r\n\r\nThe `\\\\s*` allows for 0 or more white spaces before and after the `||`\r\n```\r\nString animalString = &quot;animal || type || area&quot;;\r\nString animalArray[] = animalString.split(&quot;\\\\s*\\\\|\\\\|\\\\s*&quot;);\r\n\r\nSystem.out.println(&quot;result = &quot; + Arrays.toString(animalArray));\r\n```\r\nprints\r\n```\r\nresult = [animal, type, area]","title":"String Split in Java Giving Unexpected Results","body":"<p>You need to double escape them.  Once for the <code>String</code> and once for the <code>regex</code>. <code>\\\\</code> escapes the slash so it can be passed on to the regex as <code>\\|</code> which escapes the <code>|</code>.</p>\n<p>The <code>\\\\s*</code> allows for 0 or more white spaces before and after the <code>||</code></p>\n<pre><code>String animalString = &quot;animal || type || area&quot;;\nString animalArray[] = animalString.split(&quot;\\\\s*\\\\|\\\\|\\\\s*&quot;);\n\nSystem.out.println(&quot;result = &quot; + Arrays.toString(animalArray));\n</code></pre>\n<p>prints</p>\n<pre><code>result = [animal, type, area]\n</code></pre>\n"}],"owner":{"account_id":7468171,"reputation":2758,"user_id":5676949,"accept_rate":79,"display_name":"Dog"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71874207,"answer_count":1,"score":1,"last_activity_date":1649950633,"creation_date":1649950258,"question_id":71874111,"body_markdown":"I have a series of strings with the following format: &quot;animal || type || area ||&quot;. \r\n\r\nIn Java, I&#39;m trying to split the string so I can just the first part. Everything I have read online says to split the string:\r\n\r\n```\r\nString animalString = &quot;animal || type || area&quot;\r\nString animalArray[] = animalString.split(&quot;||&quot;)\r\n\r\nSystem.out.println(&quot;result = &quot; + Arrays.toString(animalArray));\r\n```\r\n\r\nHowever, when I split the string it doesn&#39;t merely split based on the &#39;||&#39; division but instead splits every letter:\r\n```\r\nresult = [a, n, i, m, a, l,  , |, |,  , t, y, p, e,  , |, |,  , a, r, e, a,  , |, |]\r\n```\r\nWhen I add a delimiter to the split method, it delimits the first part of the string, so that is not effective. \r\n\r\nHow can I split a string that has the above format so I can get the three words themselves in an array and not just the letters? \r\n","title":"String Split in Java Giving Unexpected Results","body":"<p>I have a series of strings with the following format: &quot;animal || type || area ||&quot;.</p>\n<p>In Java, I'm trying to split the string so I can just the first part. Everything I have read online says to split the string:</p>\n<pre><code>String animalString = &quot;animal || type || area&quot;\nString animalArray[] = animalString.split(&quot;||&quot;)\n\nSystem.out.println(&quot;result = &quot; + Arrays.toString(animalArray));\n</code></pre>\n<p>However, when I split the string it doesn't merely split based on the '||' division but instead splits every letter:</p>\n<pre><code>result = [a, n, i, m, a, l,  , |, |,  , t, y, p, e,  , |, |,  , a, r, e, a,  , |, |]\n</code></pre>\n<p>When I add a delimiter to the split method, it delimits the first part of the string, so that is not effective.</p>\n<p>How can I split a string that has the above format so I can get the three words themselves in an array and not just the letters?</p>\n"},{"tags":["java","javafx","javafx-css"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1649937666,"post_id":71871193,"comment_id":127003804,"body_markdown":"please read the api doc: _This method is a no-op if the Node is not in a Scene_","body":"please read the api doc: <i>This method is a no-op if the Node is not in a Scene</i>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1649937892,"post_id":71871193,"comment_id":127003881,"body_markdown":"This just looks like an X-Y problem; you seem to be trying to manage the layout by hand (e.g. setting the preferred height of the `mainAnchorPane` depending on the calculated height of its child nodes). You almost certainly don&#39;t need to do that (it&#39;s the default behavior for most layout panes), and in the rare circumstances when you do, this is not the way to do it. What are you actually trying to do here? Why are you using an `AnchorPane`: are you sure that is the best layout pane to achieve whatever layout it is you want?","body":"This just looks like an X-Y problem; you seem to be trying to manage the layout by hand (e.g. setting the preferred height of the <code>mainAnchorPane</code> depending on the calculated height of its child nodes). You almost certainly don&#39;t need to do that (it&#39;s the default behavior for most layout panes), and in the rare circumstances when you do, this is not the way to do it. What are you actually trying to do here? Why are you using an <code>AnchorPane</code>: are you sure that is the best layout pane to achieve whatever layout it is you want?"}],"answers":[{"tags":[],"owner":{"account_id":24202681,"reputation":1,"user_id":18160307,"display_name":"MicroKlizma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649950489,"creation_date":1649950489,"answer_id":71874175,"question_id":71871193,"body_markdown":"In my case, I was using `mainAnchorPane.setPrefHeight(vbox.getHeight())` because after experiments I noticed that without that method mainAnchorPane wouldn&#39;t change the height. That is because I set exact pref height value for AnchorPane in SceneBuilder. But after setting USE_COMPUTED_SIZE, my AnchorPane will have the size that I actually want. So all I need is:\r\n\r\n[set computed size for all fields][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GBvls.png","title":"Why does JavaFX Node have wrong sizes in initialize method after css is applied?","body":"<p>In my case, I was using <code>mainAnchorPane.setPrefHeight(vbox.getHeight())</code> because after experiments I noticed that without that method mainAnchorPane wouldn't change the height. That is because I set exact pref height value for AnchorPane in SceneBuilder. But after setting USE_COMPUTED_SIZE, my AnchorPane will have the size that I actually want. So all I need is:</p>\n<p><a href=\"https://i.stack.imgur.com/GBvls.png\" rel=\"nofollow noreferrer\">set computed size for all fields</a></p>\n"}],"owner":{"account_id":24202681,"reputation":1,"user_id":18160307,"display_name":"MicroKlizma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71874175,"answer_count":1,"score":-2,"last_activity_date":1649950489,"creation_date":1649937206,"question_id":71871193,"body_markdown":"I have a VBox that have several AnchorPane. I decided to add css style to these AnchorPane: -fx-border-width. But the VBox is inside another &quot;main&quot; AnchorPane, and main AnchorPane is inside the ScrollPane. If I&#39;m adding css to elements, not all the elements in the ScrollPane will be displayed. For testing, I made border-width 0 0 10 0. I have 20 elements, so the total size of the VBox after applying the style to each element of the VBox should increase by 200. In the controller&#39;s intiailize() method, after calling the layout() and applyCss(), getHeight( ) for the VBox returns 1200 (and I know that is the height of VBox if I wouldn&#39;t add css). Then for the main anchorPane I&#39;m setting the height setPrefHeight(vbox.getHeight()). But after my application finally runs, I see that the VBox size is 1400 as expected. But the size of the AnchorPane still 1200, and therefore if I will scroll to the end, some elements inside the ScrollPane will not be visible. How can I fix it?\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        for (int i = 0; i &lt; 20; i++) {\r\n            addElementsToVBox();\r\n        }\r\n    \r\n        vbox.applyCss();\r\n        vbox.layout();\r\n    \r\n        mainAnchorPane.applyCss();\r\n        mainAnchorPane.layout();\r\n    \r\n        System.out.println(vbox.getHeight()); //in my case will be 1200, \r\n        //but after the application will complete the loading, vbox.getHeight() will return 1400\r\n        //if I would invoke it from button&#39;s onAction() for example\r\n    \r\n        mainAnchorPane.setPrefHeight(vbox.getHeight());\r\n    }\r\n    \r\n    private void addElementsToVBox() {\r\n        Label label = new Label();\r\n        label.setText(&quot;Test&quot;);\r\n        \r\n        AnchorPane anchorPane = new AnchorPane();\r\n        anchorPane.getChildren().add(label);\r\n        anchorPane.setPadding( new Insets(2, 0, 2, 0) );\r\n        anchorPane.setStyle(&quot;-fx-border-width: 0 0 10 0; -fx-border-color: black&quot;);\r\n        anchorPane.applyCss();\r\n        anchorPane.layout();\r\n    \r\n        vbox.getChildren().add(anchorPane);\r\n    }","title":"Why does JavaFX Node have wrong sizes in initialize method after css is applied?","body":"<p>I have a VBox that have several AnchorPane. I decided to add css style to these AnchorPane: -fx-border-width. But the VBox is inside another &quot;main&quot; AnchorPane, and main AnchorPane is inside the ScrollPane. If I'm adding css to elements, not all the elements in the ScrollPane will be displayed. For testing, I made border-width 0 0 10 0. I have 20 elements, so the total size of the VBox after applying the style to each element of the VBox should increase by 200. In the controller's intiailize() method, after calling the layout() and applyCss(), getHeight( ) for the VBox returns 1200 (and I know that is the height of VBox if I wouldn't add css). Then for the main anchorPane I'm setting the height setPrefHeight(vbox.getHeight()). But after my application finally runs, I see that the VBox size is 1400 as expected. But the size of the AnchorPane still 1200, and therefore if I will scroll to the end, some elements inside the ScrollPane will not be visible. How can I fix it?</p>\n<pre><code>@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    for (int i = 0; i &lt; 20; i++) {\n        addElementsToVBox();\n    }\n\n    vbox.applyCss();\n    vbox.layout();\n\n    mainAnchorPane.applyCss();\n    mainAnchorPane.layout();\n\n    System.out.println(vbox.getHeight()); //in my case will be 1200, \n    //but after the application will complete the loading, vbox.getHeight() will return 1400\n    //if I would invoke it from button's onAction() for example\n\n    mainAnchorPane.setPrefHeight(vbox.getHeight());\n}\n\nprivate void addElementsToVBox() {\n    Label label = new Label();\n    label.setText(&quot;Test&quot;);\n    \n    AnchorPane anchorPane = new AnchorPane();\n    anchorPane.getChildren().add(label);\n    anchorPane.setPadding( new Insets(2, 0, 2, 0) );\n    anchorPane.setStyle(&quot;-fx-border-width: 0 0 10 0; -fx-border-color: black&quot;);\n    anchorPane.applyCss();\n    anchorPane.layout();\n\n    vbox.getChildren().add(anchorPane);\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-mvc","intellij-idea"],"answers":[{"tags":[],"owner":{"display_name":"user18778919"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649949863,"creation_date":1649949863,"answer_id":71874018,"question_id":71873422,"body_markdown":"You gotta put step 4 before step 3.\r\n&lt;!-- enable the configuration of transactional behavior based on annotations --&gt;\r\n    &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;&lt;!-- a PlatformTransactionManager is still required --&gt;\r\n    &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n        &lt;!-- (this dependency is defined somewhere else) --&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;/bean&gt;\r\n","title":"&quot;transaction-manager&quot; in &quot;&lt;tx:annotation-driven ... &quot; tag does not get recognized as a valid reference","body":"<p>You gotta put step 4 before step 3.</p>\n\n<pre><code>&lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;&lt;!-- a PlatformTransactionManager is still required --&gt;\n&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n    &lt;!-- (this dependency is defined somewhere else) --&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":18808809,"reputation":97,"user_id":13717463,"display_name":"user13717463"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649949863,"creation_date":1649947225,"question_id":71873422,"body_markdown":"The context is Java Spring MVC and Hibernate, in IntelliJ. For some reason, in the Spring MVC config file, &quot;transaction-manager&quot; is not recognized as a valid reference. See the red text below:\r\n\r\n[![transaction-manager attribute is not allowed here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/zQksl.png\r\n\r\nAny tips on how to resolve this?\r\n\r\nHere is the full config file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/cache&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd&quot;&gt;\r\n\r\n    &lt;!-- Base-package --&gt;\r\n    &lt;context:component-scan base-package=&quot;com.sprang&quot;/&gt;\r\n    &lt;mvc:annotation-driven/&gt;\r\n\r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Step 1: Define Database DataSource/Connection Pool --&gt;\r\n    &lt;bean id=&quot;myDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://us-cdbr-east-05.cleardb.net:3306/heroku_1e4cf119be0ff4a&quot;/&gt;\r\n        &lt;property name=&quot;user&quot; value=&quot;b3a0c1309826f0&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;5b30f68e&quot;/&gt;\r\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;/&gt;\r\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot;/&gt;\r\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;30000&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Step 2: Setup Hibernate session factory --&gt;\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.sprang.model&quot;/&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Step 3: Setup Hibernate transaction manager --&gt;\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Step 4: Enable configuration of transactional behavior based on annotations --&gt;\r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n&lt;/beans&gt;\r\n```","title":"&quot;transaction-manager&quot; in &quot;&lt;tx:annotation-driven ... &quot; tag does not get recognized as a valid reference","body":"<p>The context is Java Spring MVC and Hibernate, in IntelliJ. For some reason, in the Spring MVC config file, &quot;transaction-manager&quot; is not recognized as a valid reference. See the red text below:</p>\n<p><a href=\"https://i.stack.imgur.com/zQksl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zQksl.png\" alt=\"transaction-manager attribute is not allowed here\" /></a></p>\n<p>Any tips on how to resolve this?</p>\n<p>Here is the full config file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/cache&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd&quot;&gt;\n\n    &lt;!-- Base-package --&gt;\n    &lt;context:component-scan base-package=&quot;com.sprang&quot;/&gt;\n    &lt;mvc:annotation-driven/&gt;\n\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 1: Define Database DataSource/Connection Pool --&gt;\n    &lt;bean id=&quot;myDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://us-cdbr-east-05.cleardb.net:3306/heroku_1e4cf119be0ff4a&quot;/&gt;\n        &lt;property name=&quot;user&quot; value=&quot;b3a0c1309826f0&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;5b30f68e&quot;/&gt;\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;/&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot;/&gt;\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;30000&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 2: Setup Hibernate session factory --&gt;\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.sprang.model&quot;/&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 3: Setup Hibernate transaction manager --&gt;\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 4: Enable configuration of transactional behavior based on annotations --&gt;\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","android","zoom-sdk"],"answers":[{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649949780,"creation_date":1649949780,"answer_id":71874000,"question_id":71830063,"body_markdown":"Solution:\r\n\r\n* Add the required app scopes\r\n* Make sure, that the current user is allowed to manage breakout-session (is host or co-host)\r\n\r\nTo add the scopes:\r\n\r\n1. Go to [zoom&#39;s marketplace development site][1]\r\n2. At the dropdown on the top right choose &quot;develop/build app&quot;\r\n3. At &quot;SDK&quot; choose &quot;view here&quot;\r\n4. Go to the tab &quot;Scopes&quot;\r\n5. Click on &quot;+ Add scopes&quot;\r\n6. Choose the corresponding scopes (I just added all of them - just to be sure)\r\n\r\n\r\n  [1]: https://marketplace.zoom.us/develop","title":"How to assign User to Breakout session with the zoom-andoid-sdk?","body":"<p>Solution:</p>\n<ul>\n<li>Add the required app scopes</li>\n<li>Make sure, that the current user is allowed to manage breakout-session (is host or co-host)</li>\n</ul>\n<p>To add the scopes:</p>\n<ol>\n<li>Go to <a href=\"https://marketplace.zoom.us/develop\" rel=\"nofollow noreferrer\">zoom's marketplace development site</a></li>\n<li>At the dropdown on the top right choose &quot;develop/build app&quot;</li>\n<li>At &quot;SDK&quot; choose &quot;view here&quot;</li>\n<li>Go to the tab &quot;Scopes&quot;</li>\n<li>Click on &quot;+ Add scopes&quot;</li>\n<li>Choose the corresponding scopes (I just added all of them - just to be sure)</li>\n</ol>\n"}],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649949780,"creation_date":1649689222,"question_id":71830063,"body_markdown":"I want to automatically assign users to breakout-rooms during a meeting (not beforehand, not with CSV-import).\r\n\r\nWhen I use the android-sdk demo app and add a listener, then the `IBOAdmin` is always  `null`.\r\n\r\n    ZoomSDKInitializeListener listener = new ZoomSDKInitializeListener() {\r\n        @Override\r\n        public void onZoomSDKInitializeResult(int errorCode, int internalErrorCode) {\r\n            sdk.getInMeetingService().addListener(new InMeetingServiceAdapter() {\r\n                @Override\r\n                public void onChatMessageReceived(InMeetingChatMessage inMeetingChatMessage) {\r\n                    IBOAdmin bOAdmin = sdk.getInMeetingService().getInMeetingBOController().getBOAdminHelper();\r\n\r\n                    // not working, bOAdmin is always null\r\n                    bOAdmin.assignNewUserToRunningBO(&quot;&quot; + inMeetingChatMessage.getSenderUserId(), &quot;Raum 1&quot;);\r\n                }\r\n            });\r\n        }\r\n        ...\r\n    };\r\n    sdk.initialize(context, listener, params);\r\n\r\nThe exceptions says:\r\n\r\n    Attempt to invoke interface method &#39;boolean us.zoom.sdk.IBOAdmin.startBO()&#39; on a null object reference\r\n\r\n\r\nI tried to:\r\n\r\n * Start the zoom conference from within the app (as `host`)\r\n * Join an existing zoom conference and being assigned as `host`\r\n * Join an existing zoom conference and being assigned as `co-host`\r\n * Join an existing zoom conference with enabled breakout-session and being assigned as `co-host`\r\n\r\nHow can I assign other users to breakout-sessions with the Zoom Android SDK?","title":"How to assign User to Breakout session with the zoom-andoid-sdk?","body":"<p>I want to automatically assign users to breakout-rooms during a meeting (not beforehand, not with CSV-import).</p>\n<p>When I use the android-sdk demo app and add a listener, then the <code>IBOAdmin</code> is always  <code>null</code>.</p>\n<pre><code>ZoomSDKInitializeListener listener = new ZoomSDKInitializeListener() {\n    @Override\n    public void onZoomSDKInitializeResult(int errorCode, int internalErrorCode) {\n        sdk.getInMeetingService().addListener(new InMeetingServiceAdapter() {\n            @Override\n            public void onChatMessageReceived(InMeetingChatMessage inMeetingChatMessage) {\n                IBOAdmin bOAdmin = sdk.getInMeetingService().getInMeetingBOController().getBOAdminHelper();\n\n                // not working, bOAdmin is always null\n                bOAdmin.assignNewUserToRunningBO(&quot;&quot; + inMeetingChatMessage.getSenderUserId(), &quot;Raum 1&quot;);\n            }\n        });\n    }\n    ...\n};\nsdk.initialize(context, listener, params);\n</code></pre>\n<p>The exceptions says:</p>\n<pre><code>Attempt to invoke interface method 'boolean us.zoom.sdk.IBOAdmin.startBO()' on a null object reference\n</code></pre>\n<p>I tried to:</p>\n<ul>\n<li>Start the zoom conference from within the app (as <code>host</code>)</li>\n<li>Join an existing zoom conference and being assigned as <code>host</code></li>\n<li>Join an existing zoom conference and being assigned as <code>co-host</code></li>\n<li>Join an existing zoom conference with enabled breakout-session and being assigned as <code>co-host</code></li>\n</ul>\n<p>How can I assign other users to breakout-sessions with the Zoom Android SDK?</p>\n"},{"tags":["java","kotlin","intellij-idea","service","bind"],"answers":[{"tags":[],"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649949190,"creation_date":1649949190,"answer_id":71873864,"question_id":71873766,"body_markdown":"I&#39;ve never used Guice (I&#39;m assuming this is guice, since it isn&#39;t tagged), but the same issue arises as with spring so the same solution should apply.\r\n\r\nThe fields are `val` so they can&#39;t be modified by the DI framework after being initialized to null.\r\n\r\nThey will need to become `var` so they can be updated afterwards.\r\n\r\nOn top of that you are probably certain that most or all of those fields won&#39;t be null, so the verbose nullability checks could be circumvented using the lateinit keyword. In fact DI is one of the main use cases mentioned for the existence of the lateinit keyword: https://kotlinlang.org/docs/properties.html#late-initialized-properties-and-variables\r\n\r\nSo it would become:\r\n\r\n    private lateinit var metrcAccountRepository: MetrcAccountRepository\r\n\r\nDo note that a cleaner alternative (with `val`) is to do constructor injection, if possible in your situation.","title":"How can I binding two kotlin files","body":"<p>I've never used Guice (I'm assuming this is guice, since it isn't tagged), but the same issue arises as with spring so the same solution should apply.</p>\n<p>The fields are <code>val</code> so they can't be modified by the DI framework after being initialized to null.</p>\n<p>They will need to become <code>var</code> so they can be updated afterwards.</p>\n<p>On top of that you are probably certain that most or all of those fields won't be null, so the verbose nullability checks could be circumvented using the lateinit keyword. In fact DI is one of the main use cases mentioned for the existence of the lateinit keyword: <a href=\"https://kotlinlang.org/docs/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/properties.html#late-initialized-properties-and-variables</a></p>\n<p>So it would become:</p>\n<pre><code>private lateinit var metrcAccountRepository: MetrcAccountRepository\n</code></pre>\n<p>Do note that a cleaner alternative (with <code>val</code>) is to do constructor injection, if possible in your situation.</p>\n"}],"owner":{"account_id":24748273,"reputation":3,"user_id":18634156,"display_name":"DopplerEffect -v"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71873864,"answer_count":1,"score":0,"last_activity_date":1649949190,"creation_date":1649948761,"question_id":71873766,"body_markdown":"I&#39;m working with a project in Java and Kotlin.\r\nThis project was originally in java only. And I&#39;m doing a migration of some classes to kotlin. But I have this problem in this class that I migrated to kotlin. This problem is in a configure file.\r\n\r\nConfigure file.\r\n```\r\npackage com.fourtwenty.core\r\n\r\nimport ...\r\nclass CoreModule : AbstractModule() {\r\n    override fun configure() {\r\n        // Repositories\r\n        bind(AppRepository::class.java).to(AppRepositoryImpl::class.java)\r\n        ...\r\n        // Services\r\n        bind(AuthenticationService::class.java).to(AuthenticationServiceImpl::class.java)\r\n\r\n```\r\n\r\nBindingClassImpl\r\n\r\n```\r\npackage com.fourtwenty.core.services.mgmt.impl\r\n\r\n\r\nimport ...\r\nopen class AuthenticationServiceImpl @Inject constructor(token: Provider&lt;ConnectAuthToken&gt;) : AbstractAuthServiceImpl(token), AuthenticationService {\r\n    @Inject\r\n    private val metrcAccountRepository: MetrcAccountRepository? = null\r\n\r\n    @Inject\r\n    private val stripeService: StripeService? = null\r\n\r\n    @Inject\r\n    var integrationSettingRepository: IntegrationSettingRepository? = null\r\n\r\n    @Inject\r\n    private val shopPaymentOptionRepository: ShopPaymentOptionRepository? = null\r\n\r\n    @Inject\r\n    private val amazonServiceManager: AmazonServiceManager? = null\r\n    ...\r\n```\r\nBindingClass\r\n```\r\npackage com.fourtwenty.core.services.mgmt\r\n\r\nimport ...\r\n\r\ninterface AuthenticationService {\r\n    fun getCurrentActiveEmployee(): InitialLoginResult?\r\n    fun adminLogin(request: EmailLoginRequest?): InitialLoginResult?\r\n    ...\r\n\r\n```\r\nAnd I got this error in IntellIJ\r\n```\r\n1) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.metrcAccountRepository cannot be final.\r\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\r\n\r\n2) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.stripeService cannot be final.\r\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\r\n\r\n3) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.shopPaymentOptionRepository cannot be final.\r\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\r\n\r\n4) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.amazonServiceManager cannot be final.\r\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\r\n5) ...\r\n```","title":"How can I binding two kotlin files","body":"<p>I'm working with a project in Java and Kotlin.\nThis project was originally in java only. And I'm doing a migration of some classes to kotlin. But I have this problem in this class that I migrated to kotlin. This problem is in a configure file.</p>\n<p>Configure file.</p>\n<pre><code>package com.fourtwenty.core\n\nimport ...\nclass CoreModule : AbstractModule() {\n    override fun configure() {\n        // Repositories\n        bind(AppRepository::class.java).to(AppRepositoryImpl::class.java)\n        ...\n        // Services\n        bind(AuthenticationService::class.java).to(AuthenticationServiceImpl::class.java)\n\n</code></pre>\n<p>BindingClassImpl</p>\n<pre><code>package com.fourtwenty.core.services.mgmt.impl\n\n\nimport ...\nopen class AuthenticationServiceImpl @Inject constructor(token: Provider&lt;ConnectAuthToken&gt;) : AbstractAuthServiceImpl(token), AuthenticationService {\n    @Inject\n    private val metrcAccountRepository: MetrcAccountRepository? = null\n\n    @Inject\n    private val stripeService: StripeService? = null\n\n    @Inject\n    var integrationSettingRepository: IntegrationSettingRepository? = null\n\n    @Inject\n    private val shopPaymentOptionRepository: ShopPaymentOptionRepository? = null\n\n    @Inject\n    private val amazonServiceManager: AmazonServiceManager? = null\n    ...\n</code></pre>\n<p>BindingClass</p>\n<pre><code>package com.fourtwenty.core.services.mgmt\n\nimport ...\n\ninterface AuthenticationService {\n    fun getCurrentActiveEmployee(): InitialLoginResult?\n    fun adminLogin(request: EmailLoginRequest?): InitialLoginResult?\n    ...\n\n</code></pre>\n<p>And I got this error in IntellIJ</p>\n<pre><code>1) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.metrcAccountRepository cannot be final.\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\n\n2) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.stripeService cannot be final.\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\n\n3) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.shopPaymentOptionRepository cannot be final.\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\n\n4) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.amazonServiceManager cannot be final.\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\n5) ...\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1649910708,"post_id":71866523,"comment_id":126995908,"body_markdown":"did you try to add an exception to the logs in `onFailure`? Never ignore errors in coding","body":"did you try to add an exception to the logs in <code>onFailure</code>? Never ignore errors in coding"},{"owner":{"account_id":15714846,"reputation":139,"user_id":11339304,"display_name":"REX"},"score":3,"creation_date":1649910934,"post_id":71866523,"comment_id":126995948,"body_markdown":"Can you provide logs or error messages?. It would help deducing the problem","body":"Can you provide logs or error messages?. It would help deducing the problem"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1649919833,"post_id":71866523,"comment_id":126997850,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond with @AlexMamo","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond with @AlexMamo"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1649944726,"post_id":71866523,"comment_id":127006533,"body_markdown":"@AlexMamo I have edited the code please take a look ,Thank you","body":"@AlexMamo I have edited the code please take a look ,Thank you"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1649944742,"post_id":71866523,"comment_id":127006543,"body_markdown":"@REX I have edited the code please take a look ,Thank you","body":"@REX I have edited the code please take a look ,Thank you"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649948119,"post_id":71866523,"comment_id":127007943,"body_markdown":"Please also edit your question and show us the content of your `CheckoutModel` class. Besides that, I think that this [article](https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10) will help. Right?","body":"Please also edit your question and show us the content of your <code>CheckoutModel</code> class. Besides that, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">article</a> will help. Right?"}],"answers":[{"tags":[],"owner":{"account_id":18782185,"reputation":296,"user_id":13696581,"display_name":"Kashif Masood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649949040,"creation_date":1649949040,"answer_id":71873828,"question_id":71866523,"body_markdown":"Two things can be done,\r\n\r\n 1. Instead of mapping the whole list, try iterating through document and map one object at a time.\r\n 2. Secondly, In your checkOutModel give initial values to all of your variables. Mapping gives error if variables does not have initial values.\r\nLike, instantiate string variables with &quot; &quot;, and numeric variable with 0 or 1.","title":"Error retrieving a list of data from firebase firestore","body":"<p>Two things can be done,</p>\n<ol>\n<li>Instead of mapping the whole list, try iterating through document and map one object at a time.</li>\n<li>Secondly, In your checkOutModel give initial values to all of your variables. Mapping gives error if variables does not have initial values.\nLike, instantiate string variables with &quot; &quot;, and numeric variable with 0 or 1.</li>\n</ol>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71873828,"answer_count":1,"score":-1,"last_activity_date":1649949040,"creation_date":1649910531,"question_id":71866523,"body_markdown":"I have a shopping app where i need to save a list of objects, the saving into firestorm is working fine but upon getting the data, it keeps crashing and throwing an error, if anyone could help, Thank you in  advance\r\n\r\n\r\n * This is a screenshot of firestorm and how is data saved\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/os1zJ.png\r\n\r\n\r\n * Error thrown \r\n \r\n```\r\n  E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.shoppingapp, PID: 2110\r\n    java.lang.ClassCastException: java.util.HashMap cannot be cast to com.example.shoppingapp.models.CheckoutModel\r\n \r\n```\r\n\r\n * This is how i&#39;m saving data into firestore\r\n   \r\n```\r\n                Map&lt;String,Object&gt; paymentMap = new HashMap&lt;&gt;();\r\n                paymentMap.put(&quot;total&quot;,String.valueOf(itemsTotal));\r\n                paymentMap.put(&quot;items&quot;,list);\r\n\r\n                firebaseFirestore\r\n                        .collection(&quot;Orders&quot;)\r\n                        .document(uniqueID)\r\n                        .set(paymentMap)\r\n \r\n```\r\n\r\n * This is how i&#39;m trying to retrieve data \r\n \r\n```\r\n   firebaseFirestore\r\n                .collection(&quot;Orders&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @RequiresApi(api = Build.VERSION_CODES.N)\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        for(DocumentSnapshot document : task.getResult()){\r\n                            List&lt;CheckoutModel&gt; map = (List&lt;CheckoutModel&gt;) document.get(&quot;items&quot;);\r\n                            String totalPrice = document.get(&quot;total&quot;).toString();\r\n\r\n                            // TESTING BY GETTING PRODUCT ID\r\n                            // it throws exception here\r\n                            textView.setText(map.get(0).getProductID());\r\n                        }\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n\r\n                    }\r\n                });\r\n```","title":"Error retrieving a list of data from firebase firestore","body":"<p>I have a shopping app where i need to save a list of objects, the saving into firestorm is working fine but upon getting the data, it keeps crashing and throwing an error, if anyone could help, Thank you in  advance</p>\n<ul>\n<li>This is a screenshot of firestorm and how is data saved\n<a href=\"https://i.stack.imgur.com/os1zJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/os1zJ.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n<ul>\n<li>Error thrown</li>\n</ul>\n<pre><code>  E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.shoppingapp, PID: 2110\n    java.lang.ClassCastException: java.util.HashMap cannot be cast to com.example.shoppingapp.models.CheckoutModel\n \n</code></pre>\n<ul>\n<li>This is how i'm saving data into firestore</li>\n</ul>\n<pre><code>                Map&lt;String,Object&gt; paymentMap = new HashMap&lt;&gt;();\n                paymentMap.put(&quot;total&quot;,String.valueOf(itemsTotal));\n                paymentMap.put(&quot;items&quot;,list);\n\n                firebaseFirestore\n                        .collection(&quot;Orders&quot;)\n                        .document(uniqueID)\n                        .set(paymentMap)\n \n</code></pre>\n<ul>\n<li>This is how i'm trying to retrieve data</li>\n</ul>\n<pre><code>   firebaseFirestore\n                .collection(&quot;Orders&quot;)\n                .get()\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @RequiresApi(api = Build.VERSION_CODES.N)\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        for(DocumentSnapshot document : task.getResult()){\n                            List&lt;CheckoutModel&gt; map = (List&lt;CheckoutModel&gt;) document.get(&quot;items&quot;);\n                            String totalPrice = document.get(&quot;total&quot;).toString();\n\n                            // TESTING BY GETTING PRODUCT ID\n                            // it throws exception here\n                            textView.setText(map.get(0).getProductID());\n                        }\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n\n                    }\n                });\n</code></pre>\n"},{"tags":["java","h2","liquibase","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":1,"creation_date":1649903151,"post_id":71857904,"comment_id":126994898,"body_markdown":"I created one auxiliary class in my test package to clean all the tables before every test execution. When is possible, I use the `TestTransaction`, according to [this guide](https://quarkus.io/guides/getting-started-testing#tests-and-transactions) &quot;If you want any changes made to be rolled back at the end of the test you can use the io.quarkus.test.TestTransaction annotation. This will run the test method in a transaction, but roll it back once the test method is complete to revert any database changes.&quot;","body":"I created one auxiliary class in my test package to clean all the tables before every test execution. When is possible, I use the <code>TestTransaction</code>, according to <a href=\"https://quarkus.io/guides/getting-started-testing#tests-and-transactions\" rel=\"nofollow noreferrer\">this guide</a> &quot;If you want any changes made to be rolled back at the end of the test you can use the io.quarkus.test.TestTransaction annotation. This will run the test method in a transaction, but roll it back once the test method is complete to revert any database changes.&quot;"},{"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"score":1,"creation_date":1649921362,"post_id":71857904,"comment_id":126998311,"body_markdown":"It looks it&#39;s working only when I&#39;m testing transactional methods directly. When I&#39;m testing rest endpoints that internally have @Transactional methods, once they are completed and committed, this TestTransaction has no effect apparently..","body":"It looks it&#39;s working only when I&#39;m testing transactional methods directly. When I&#39;m testing rest endpoints that internally have @Transactional methods, once they are completed and committed, this TestTransaction has no effect apparently.."},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":1,"creation_date":1649936976,"post_id":71857904,"comment_id":127003569,"body_markdown":"That&#39;s exactly how the TestTransaction works, it only works when you&#39;re testing transactional methods directly. I would also like to have this feature you&#39;re suggesting, that is to clean all tables after each test execution. I face the same problem, that&#39;s why I created one class on my test package with DELETE executions on all tables. So, in the begging of my test classes, I execute this method that deletes all rows of my tables.","body":"That&#39;s exactly how the TestTransaction works, it only works when you&#39;re testing transactional methods directly. I would also like to have this feature you&#39;re suggesting, that is to clean all tables after each test execution. I face the same problem, that&#39;s why I created one class on my test package with DELETE executions on all tables. So, in the begging of my test classes, I execute this method that deletes all rows of my tables."}],"answers":[{"tags":[],"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649948976,"creation_date":1649948976,"answer_id":71873820,"question_id":71857904,"body_markdown":"I don&#39;t know if there is a way to &quot;automatically clean all the tables after every test execution&quot;.\r\n\r\nOne workaround I&#39;m doing is to create one class on the test package and put all the DELETEs needed there. The idea is to run this deletion method on the beginning of the tests that need clean tables.\r\n\r\n```java\r\npackage org.acme.tests;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\nimport javax.persistence.EntityManager;\r\nimport javax.transaction.Transactional;\r\n\r\n@ApplicationScoped\r\npublic class CleanTables {\r\n\r\n  @Inject\r\n  EntityManager entityManager;\r\n\r\n  @Transactional\r\n  public void clean() {\r\n    entityManager.createNativeQuery(&quot;DELETE FROM YOUR_SCHEMA.YOUR_TABLE_A&quot;).executeUpdate();\r\n\r\n    entityManager.createNativeQuery(&quot;DELETE FROM YOUR_SCHEMA.YOUR_TABLE_B&quot;).executeUpdate();\r\n  }\r\n\r\n}\r\n``` ","title":"Quarkus: clean H2 DB after every test","body":"<p>I don't know if there is a way to &quot;automatically clean all the tables after every test execution&quot;.</p>\n<p>One workaround I'm doing is to create one class on the test package and put all the DELETEs needed there. The idea is to run this deletion method on the beginning of the tests that need clean tables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.tests;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.persistence.EntityManager;\nimport javax.transaction.Transactional;\n\n@ApplicationScoped\npublic class CleanTables {\n\n  @Inject\n  EntityManager entityManager;\n\n  @Transactional\n  public void clean() {\n    entityManager.createNativeQuery(&quot;DELETE FROM YOUR_SCHEMA.YOUR_TABLE_A&quot;).executeUpdate();\n\n    entityManager.createNativeQuery(&quot;DELETE FROM YOUR_SCHEMA.YOUR_TABLE_B&quot;).executeUpdate();\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649948976,"creation_date":1649854764,"question_id":71857904,"body_markdown":"I set up a standard Quarkus project as described in the quickstart, and I&#39;m now running multiple `@QuarkusTest`, using Liquibase and H2. \r\n\r\nI noticed that between tests, the data written in H2 is preserved.\r\n\r\nIs my project wrongly configured or does it behave like so for everyone? \r\nDo Quarkus/H2 provide a way to automatically clean all the tables after every test execution? ","title":"Quarkus: clean H2 DB after every test","body":"<p>I set up a standard Quarkus project as described in the quickstart, and I'm now running multiple <code>@QuarkusTest</code>, using Liquibase and H2.</p>\n<p>I noticed that between tests, the data written in H2 is preserved.</p>\n<p>Is my project wrongly configured or does it behave like so for everyone?\nDo Quarkus/H2 provide a way to automatically clean all the tables after every test execution?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8563,"page":1429,"page_size":100}
