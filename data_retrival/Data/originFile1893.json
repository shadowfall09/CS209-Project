{"items":[{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635764159,"creation_date":1635623994,"answer_id":69781703,"question_id":69780127,"body_markdown":"A solution to this problem is as follows:\r\n\r\nWe only need four parameters for our function, the string to parse, the list of results, the current found combination and the index where to start forming a new number of an ip address.\r\n```\r\npublic void restoreIp(String s, List&lt;List&lt;Integer&gt;&gt; results, List&lt;Integer&gt; combination, int startIndex)\r\n```\r\n\r\nWe start by declaring the stopping conditions, we stop calling the function when the combination has 4 numbers or the string is fully parsed. If the combination has 4 numbers and the string is fully parsed, we add the combination to the list of results, otherwise we just break from the recursive call.\r\n```\r\nif (combination.size() == 4 &amp;&amp; startIndex &gt;= s.length()) {\r\n    results.add(combination);\r\n    return;\r\n}\r\n\r\nif (combination.size() == 4 || startIndex &gt;= s.length()) {\r\n    return;\r\n}\r\n```\r\n\r\nNow the body of the algorithm is to iterate through the string from the `startIndex` and starts forming new numbers, if the number is starting with 0 and has more than two digits (01, 02, ...etc) or greater than 255 we stop iterating because is not a valid ip number otherwise we add the number to the combination and the function call itself.\r\n```\r\nfor (int i = startIndex; i &lt; s.length(); i++) {\r\n    String strNumber = s.substring(startIndex, i + 1);\r\n    int number = Integer.parseInt(strNumber);\r\n    if ((s.charAt(startIndex) == &#39;0&#39; &amp;&amp; strNumber.length() &gt; 1) || number &gt; 255) {\r\n        return;\r\n    }\r\n    List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\r\n    newCombination.add(number);\r\n\r\n    restoreIp(s, results, newCombination, i + 1);\r\n}\r\n```\r\n\r\nSo the whole code is:\r\n```\r\npublic static void restoreIp(String s, List&lt;List&lt;Integer&gt;&gt; results, List&lt;Integer&gt; combination, int startIndex) {\r\n    if (combination.size() == 4 &amp;&amp; startIndex &gt;= s.length()) {\r\n        results.add(combination);\r\n        return;\r\n    }\r\n    \r\n    if (combination.size() == 4 || startIndex &gt;= s.length()) {\r\n        return;\r\n    }\r\n    \r\n    for (int i = startIndex; i &lt; s.length(); i++) {\r\n        String strNumber = s.substring(startIndex, i + 1);\r\n        int number = Integer.parseInt(strNumber);\r\n        if ((s.charAt(startIndex) == &#39;0&#39; &amp;&amp; strNumber.length() &gt; 1) || number &gt; 255) {\r\n            return;\r\n        }\r\n        List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\r\n        newCombination.add(number);\r\n    \r\n        restoreIp(s, results, newCombination, i + 1);\r\n    }\r\n}\r\n```\r\n\r\nTesting with:\r\n```\r\nString str = &quot;17125120120&quot;;\r\nList&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\nrestoreIp(str, result, new ArrayList&lt;&gt;(), 0);\r\nSystem.out.println(result);\r\n```\r\nwill generate:\r\n```\r\n[[17, 125, 120, 120], [171, 25, 120, 120], [171, 251, 20, 120], [171, 251, 201, 20]]\r\n```\r\n\r\nand with: `s = &quot;25525511135&quot;`\r\n```\r\n[[255, 255, 11, 135], [255, 255, 111, 35]]\r\n```","title":"List all possible combinations of Ip addresses from given String using Recursive Function","body":"<p>A solution to this problem is as follows:</p>\n<p>We only need four parameters for our function, the string to parse, the list of results, the current found combination and the index where to start forming a new number of an ip address.</p>\n<pre><code>public void restoreIp(String s, List&lt;List&lt;Integer&gt;&gt; results, List&lt;Integer&gt; combination, int startIndex)\n</code></pre>\n<p>We start by declaring the stopping conditions, we stop calling the function when the combination has 4 numbers or the string is fully parsed. If the combination has 4 numbers and the string is fully parsed, we add the combination to the list of results, otherwise we just break from the recursive call.</p>\n<pre><code>if (combination.size() == 4 &amp;&amp; startIndex &gt;= s.length()) {\n    results.add(combination);\n    return;\n}\n\nif (combination.size() == 4 || startIndex &gt;= s.length()) {\n    return;\n}\n</code></pre>\n<p>Now the body of the algorithm is to iterate through the string from the <code>startIndex</code> and starts forming new numbers, if the number is starting with 0 and has more than two digits (01, 02, ...etc) or greater than 255 we stop iterating because is not a valid ip number otherwise we add the number to the combination and the function call itself.</p>\n<pre><code>for (int i = startIndex; i &lt; s.length(); i++) {\n    String strNumber = s.substring(startIndex, i + 1);\n    int number = Integer.parseInt(strNumber);\n    if ((s.charAt(startIndex) == '0' &amp;&amp; strNumber.length() &gt; 1) || number &gt; 255) {\n        return;\n    }\n    List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\n    newCombination.add(number);\n\n    restoreIp(s, results, newCombination, i + 1);\n}\n</code></pre>\n<p>So the whole code is:</p>\n<pre><code>public static void restoreIp(String s, List&lt;List&lt;Integer&gt;&gt; results, List&lt;Integer&gt; combination, int startIndex) {\n    if (combination.size() == 4 &amp;&amp; startIndex &gt;= s.length()) {\n        results.add(combination);\n        return;\n    }\n    \n    if (combination.size() == 4 || startIndex &gt;= s.length()) {\n        return;\n    }\n    \n    for (int i = startIndex; i &lt; s.length(); i++) {\n        String strNumber = s.substring(startIndex, i + 1);\n        int number = Integer.parseInt(strNumber);\n        if ((s.charAt(startIndex) == '0' &amp;&amp; strNumber.length() &gt; 1) || number &gt; 255) {\n            return;\n        }\n        List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\n        newCombination.add(number);\n    \n        restoreIp(s, results, newCombination, i + 1);\n    }\n}\n</code></pre>\n<p>Testing with:</p>\n<pre><code>String str = &quot;17125120120&quot;;\nList&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\nrestoreIp(str, result, new ArrayList&lt;&gt;(), 0);\nSystem.out.println(result);\n</code></pre>\n<p>will generate:</p>\n<pre><code>[[17, 125, 120, 120], [171, 25, 120, 120], [171, 251, 20, 120], [171, 251, 201, 20]]\n</code></pre>\n<p>and with: <code>s = &quot;25525511135&quot;</code></p>\n<pre><code>[[255, 255, 11, 135], [255, 255, 111, 35]]\n</code></pre>\n"}],"owner":{"account_id":12509045,"reputation":661,"user_id":9104942,"display_name":"Abdusoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69781703,"answer_count":1,"score":1,"last_activity_date":1635764159,"creation_date":1635601142,"question_id":69780127,"body_markdown":"I have a String ```s = &quot;25525511135&quot;```. How can I find all possible list of IP addresses using **recursive function**. I wrote a recursive function for this purpose but it is not working. I cannot understand where I am making a mistake.\r\n\r\n```\r\nString s = &quot;25525511135&quot;;\r\nint endInd = 1,strInd = 1;\r\nString strNum = s.substring(0,1);\r\n\r\npublic void restoreIp(String s,List&lt;List&lt;String&gt;&gt; results,List&lt;String&gt; combination,\r\n                          int startIndex, int endIndex,String strNum){\r\n\r\n        int num = Integer.parseInt(strNum);\r\n        Integer sumStr = combination.stream().mapToInt(String::length).reduce(0,Integer::sum);\r\n\r\n        if (sumStr == s.length() &amp;&amp; combination.size() == 4){\r\n            results.add(new ArrayList&lt;&gt;(combination));\r\n            return;\r\n        }\r\n\r\n        for (int i = startIndex; i &lt; s.length(); i++){\r\n\r\n            if (num &gt;= 0 &amp;&amp; num &lt;= 255 &amp;&amp; combination.size() &lt; 4){\r\n                combination.add(&quot;&quot; + num);\r\n            } else { break; }\r\n\r\n            if (sumStr &lt; s.length() &amp;&amp; combination.size() &gt; 4){ break; }\r\n\r\n            if (sumStr &lt; s.length() &amp;&amp; combination.size() == 4){\r\n                if (endIndex &lt; 4) {\r\n                    endIndex = endIndex + 1;\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            restoreIp(s,results,combination,i+1,endIndex,s.substring(i,startIndex + endIndex));\r\n            combination.remove(combination.size() - 1);\r\n        }\r\n\r\n    }\r\n\r\n```\r\n\r\nI need to collect all possible lists inside ```results``` list.\r\nResult should look like below:\r\n```\r\n[\r\n[255,255,11,135]]\r\n[255,255,111,35]\r\n]\r\n\r\n```","title":"List all possible combinations of Ip addresses from given String using Recursive Function","body":"<p>I have a String <code>s = &quot;25525511135&quot;</code>. How can I find all possible list of IP addresses using <strong>recursive function</strong>. I wrote a recursive function for this purpose but it is not working. I cannot understand where I am making a mistake.</p>\n<pre><code>String s = &quot;25525511135&quot;;\nint endInd = 1,strInd = 1;\nString strNum = s.substring(0,1);\n\npublic void restoreIp(String s,List&lt;List&lt;String&gt;&gt; results,List&lt;String&gt; combination,\n                          int startIndex, int endIndex,String strNum){\n\n        int num = Integer.parseInt(strNum);\n        Integer sumStr = combination.stream().mapToInt(String::length).reduce(0,Integer::sum);\n\n        if (sumStr == s.length() &amp;&amp; combination.size() == 4){\n            results.add(new ArrayList&lt;&gt;(combination));\n            return;\n        }\n\n        for (int i = startIndex; i &lt; s.length(); i++){\n\n            if (num &gt;= 0 &amp;&amp; num &lt;= 255 &amp;&amp; combination.size() &lt; 4){\n                combination.add(&quot;&quot; + num);\n            } else { break; }\n\n            if (sumStr &lt; s.length() &amp;&amp; combination.size() &gt; 4){ break; }\n\n            if (sumStr &lt; s.length() &amp;&amp; combination.size() == 4){\n                if (endIndex &lt; 4) {\n                    endIndex = endIndex + 1;\n                } else {\n                    break;\n                }\n            }\n\n            restoreIp(s,results,combination,i+1,endIndex,s.substring(i,startIndex + endIndex));\n            combination.remove(combination.size() - 1);\n        }\n\n    }\n\n</code></pre>\n<p>I need to collect all possible lists inside <code>results</code> list.\nResult should look like below:</p>\n<pre><code>[\n[255,255,11,135]]\n[255,255,111,35]\n]\n\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":904230,"reputation":2233,"user_id":939497,"accept_rate":40,"display_name":"Balconsky"},"score":1,"creation_date":1571750467,"post_id":58504516,"comment_id":103338823,"body_markdown":"Also if it meter for you, int types are atomic in multithreading (reading and changing are happening per one operation). Read more: https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html","body":"Also if it meter for you, int types are atomic in multithreading (reading and changing are happening per one operation). Read more: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":341845,"reputation":19101,"user_id":672689,"accept_rate":82,"display_name":"Roee Gavirel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1571748094,"creation_date":1571748047,"answer_id":58504550,"question_id":58504516,"body_markdown":"In short - it won&#39;t be locked.\r\n\r\nIf you want it to be locked you need to protect the getJ function as well:\r\n\r\n    public void getJ() {\r\n        synchronized (Data.class) {\r\n            System.out.println(fmt() + &quot; &gt; &quot; + Thread.currentThread().getName() + (&quot; READ &gt; &quot;+ j));\r\n        }\r\n    }\r\n\r\nThat has nothing to do with the fact there are static variables. The variables themselves can&#39;t be locked. Only access to them. If you allow un-locked access through getJ, there is nothing to stop you.","title":"Static variables behavior in class level locking","body":"<p>In short - it won't be locked.</p>\n\n<p>If you want it to be locked you need to protect the getJ function as well:</p>\n\n<pre><code>public void getJ() {\n    synchronized (Data.class) {\n        System.out.println(fmt() + \" &gt; \" + Thread.currentThread().getName() + (\" READ &gt; \"+ j));\n    }\n}\n</code></pre>\n\n<p>That has nothing to do with the fact there are static variables. The variables themselves can't be locked. Only access to them. If you allow un-locked access through getJ, there is nothing to stop you.</p>\n"},{"tags":[],"owner":{"account_id":8079803,"reputation":1,"user_id":6089463,"display_name":"Anjani Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635763953,"creation_date":1635763953,"answer_id":69795869,"question_id":58504516,"body_markdown":"Interestingly, You can access lock on the class level variables even when class level synchronized method is running by some other Thread \r\n\r\nExample where both the **main** thread and another thread &#39;**thread**&#39; will run at the same time : \r\n\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class ThreadExample extends Thread {\r\n\r\n    public ThreadExample() {\r\n    }\r\n\r\n    public ThreadExample(String[] arr) {\r\n        this.arrObj = arr;\r\n    }\r\n\r\n    private String[] arrObj = new String[2];\r\n    private final static ThreadExample obj = new ThreadExample(new String[]{&quot;Hello&quot;, &quot;World&quot;});\r\n\r\n    private static synchronized void call() throws InterruptedException {\r\n            obj.arrObj[0] += &#39;C&#39;;\r\n            System.out.println(&quot;Inside Thread ... &quot; + Arrays.toString(obj.arrObj));\r\n            Thread.sleep(5000);\r\n            System.out.println(&quot;Inside Thread ... Done&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            call();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ThreadExample thread = new ThreadExample();\r\n\r\n        thread.start();\r\n        Thread.sleep(1000);\r\n\r\n        synchronized (ThreadExample.obj) {\r\n            obj.arrObj[1] += &quot;K&quot;;\r\n            System.out.println(&quot;Main Thread ... &quot; + Arrays.toString(obj.arrObj));\r\n            Thread.sleep(5000);\r\n            System.out.println(&quot;Main Thread ... Done&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Static variables behavior in class level locking","body":"<p>Interestingly, You can access lock on the class level variables even when class level synchronized method is running by some other Thread</p>\n<p>Example where both the <strong>main</strong> thread and another thread '<strong>thread</strong>' will run at the same time :</p>\n<pre><code>import java.util.Arrays;\n\npublic class ThreadExample extends Thread {\n\npublic ThreadExample() {\n}\n\npublic ThreadExample(String[] arr) {\n    this.arrObj = arr;\n}\n\nprivate String[] arrObj = new String[2];\nprivate final static ThreadExample obj = new ThreadExample(new String[]{&quot;Hello&quot;, &quot;World&quot;});\n\nprivate static synchronized void call() throws InterruptedException {\n        obj.arrObj[0] += 'C';\n        System.out.println(&quot;Inside Thread ... &quot; + Arrays.toString(obj.arrObj));\n        Thread.sleep(5000);\n        System.out.println(&quot;Inside Thread ... Done&quot;);\n}\n\n@Override\npublic void run() {\n    try {\n        call();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n}\n\npublic static void main(String[] args) throws InterruptedException {\n    ThreadExample thread = new ThreadExample();\n\n    thread.start();\n    Thread.sleep(1000);\n\n    synchronized (ThreadExample.obj) {\n        obj.arrObj[1] += &quot;K&quot;;\n        System.out.println(&quot;Main Thread ... &quot; + Arrays.toString(obj.arrObj));\n        Thread.sleep(5000);\n        System.out.println(&quot;Main Thread ... Done&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":2251813,"reputation":78,"user_id":1983894,"display_name":"ap91"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58504550,"answer_count":2,"score":1,"last_activity_date":1635763953,"creation_date":1571747933,"question_id":58504516,"body_markdown":"I need some clarity on static variables behavior in class level locking.\r\n\r\nScenario:\r\nConsider below class called Data.\r\n\r\n```java\r\npublic class Data {\r\n\r\n\tprivate static int i = 1;\r\n\tprivate static int j = 1;\r\n\t\r\n\t\r\n\tpublic void updateI() {\r\n\t\tsynchronized (Data.class) {\r\n\t\t\t++i;\r\n\t\t\tSystem.out.println(fmt() + &quot; &gt; &quot; + Thread.currentThread().getName() + (&quot; UPDATED &gt; &quot;+ i));\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void getJ() {\r\n\t\tSystem.out.println(fmt() + &quot; &gt; &quot; + Thread.currentThread().getName() + (&quot; READ &gt; &quot;+ j));\r\n\t}\r\n}\r\n```\r\n\r\nHere,\r\n\r\n - Thread-A calls updateI() method and acquires the lock. \r\n - At the same time Thread-B is calling getJ() method. \r\n - **Will it be block Thread-B \r\n   as class level lock is already acquired by Thread-A?** Or it will allow\r\n   to access both methods simultaneously?\r\n\r\nThanks....\r\n","title":"Static variables behavior in class level locking","body":"<p>I need some clarity on static variables behavior in class level locking.</p>\n\n<p>Scenario:\nConsider below class called Data.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Data {\n\n    private static int i = 1;\n    private static int j = 1;\n\n\n    public void updateI() {\n        synchronized (Data.class) {\n            ++i;\n            System.out.println(fmt() + \" &gt; \" + Thread.currentThread().getName() + (\" UPDATED &gt; \"+ i));\n        }\n    }\n\n    public void getJ() {\n        System.out.println(fmt() + \" &gt; \" + Thread.currentThread().getName() + (\" READ &gt; \"+ j));\n    }\n}\n</code></pre>\n\n<p>Here,</p>\n\n<ul>\n<li>Thread-A calls updateI() method and acquires the lock. </li>\n<li>At the same time Thread-B is calling getJ() method. </li>\n<li><strong>Will it be block Thread-B \nas class level lock is already acquired by Thread-A?</strong> Or it will allow\nto access both methods simultaneously?</li>\n</ul>\n\n<p>Thanks....</p>\n"},{"tags":["java","lotus-domino","jvm-arguments"],"comments":[{"owner":{"account_id":9955,"reputation":2840,"user_id":18603,"accept_rate":76,"display_name":"Scott Leis"},"score":0,"creation_date":1635832103,"post_id":69795857,"comment_id":123391080,"body_markdown":"Can you just stop the agent manager (by running the `tell amgr quit` command on the server), then start it again when you&#39;ve gathered enough logs? I&#39;m fairly sure the agent manager only handles scheduled agents, and it may be OK if none of those run for an hour or so, depending on the environment.","body":"Can you just stop the agent manager (by running the <code>tell amgr quit</code> command on the server), then start it again when you&#39;ve gathered enough logs? I&#39;m fairly sure the agent manager only handles scheduled agents, and it may be OK if none of those run for an hour or so, depending on the environment."},{"owner":{"account_id":12936459,"reputation":11,"user_id":9353618,"display_name":"Bastian Lotsch"},"score":0,"creation_date":1635849369,"post_id":69795857,"comment_id":123396629,"body_markdown":"Yeah, that&#39;s what we are doing right now. But I&#39;d hoped we could proceed in a more elegant way.","body":"Yeah, that&#39;s what we are doing right now. But I&#39;d hoped we could proceed in a more elegant way."}],"owner":{"account_id":12936459,"reputation":11,"user_id":9353618,"display_name":"Bastian Lotsch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635763874,"creation_date":1635763874,"question_id":69795857,"body_markdown":"For troubleshooting reasons I need to gain insight into what the garbage collector of the JVM the https tasks uses does. For this I can pass the required arguments (-verbose:gc and -Xverbosegclog:%some_path%) via an options file that is setup by the notes.ini setting JAVAOPTIONSFILE=%file%.\r\n\r\nThis works fine. However those options are also picked up by the JVM(s) started seperatedly by the amgr task. So different JVMs log into the same file which makes the analysis rather useless.\r\n\r\nIs there a way to pass the required arguments to **only** the JVM used by the http task?","title":"Domino server: Passing JVM options to http task only","body":"<p>For troubleshooting reasons I need to gain insight into what the garbage collector of the JVM the https tasks uses does. For this I can pass the required arguments (-verbose:gc and -Xverbosegclog:%some_path%) via an options file that is setup by the notes.ini setting JAVAOPTIONSFILE=%file%.</p>\n<p>This works fine. However those options are also picked up by the JVM(s) started seperatedly by the amgr task. So different JVMs log into the same file which makes the analysis rather useless.</p>\n<p>Is there a way to pass the required arguments to <strong>only</strong> the JVM used by the http task?</p>\n"},{"tags":["java","spring-mvc","jsp","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":16257655,"reputation":379,"user_id":11739931,"display_name":"retoen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635755657,"creation_date":1635755657,"answer_id":69794387,"question_id":69794009,"body_markdown":"You should use another identifier for the var attribute, as commentsList is already used by the list. Example:\r\n    \r\n   \r\n\r\n    &lt;div&gt;\r\n        &lt;form class=&quot;form-horizontal&quot; action=&quot;do_comment&quot; method=&quot;POST&quot;&gt;\r\n            &lt;textarea rows=&quot;2&quot; class=&quot;comment-area&quot;&gt;&lt;/textarea&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Comment&quot;/&gt;\r\n        &lt;/form&gt;\r\n        &lt;c:forEach items=&quot;${commentsList}&quot; var=&quot;commentObject&quot;&gt;\r\n            &lt;div&gt;\r\n               &lt;p&gt;${commentObject.comment}&lt;/p&gt;&lt;hr&gt;&lt;br&gt;\r\n            &lt;/div&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/div&gt;","title":"List traversal is not working in jsp but works fine when I just pass a single element","body":"<p>You should use another identifier for the var attribute, as commentsList is already used by the list. Example:</p>\n<pre><code>&lt;div&gt;\n    &lt;form class=&quot;form-horizontal&quot; action=&quot;do_comment&quot; method=&quot;POST&quot;&gt;\n        &lt;textarea rows=&quot;2&quot; class=&quot;comment-area&quot;&gt;&lt;/textarea&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Comment&quot;/&gt;\n    &lt;/form&gt;\n    &lt;c:forEach items=&quot;${commentsList}&quot; var=&quot;commentObject&quot;&gt;\n        &lt;div&gt;\n           &lt;p&gt;${commentObject.comment}&lt;/p&gt;&lt;hr&gt;&lt;br&gt;\n        &lt;/div&gt;\n    &lt;/c:forEach&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23203198,"reputation":11,"user_id":17297769,"display_name":"Vinay Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635763843,"creation_date":1635763843,"answer_id":69795852,"question_id":69794009,"body_markdown":"I added this line and it worked `&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;`","title":"List traversal is not working in jsp but works fine when I just pass a single element","body":"<p>I added this line and it worked <code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;</code></p>\n"}],"owner":{"account_id":23203198,"reputation":11,"user_id":17297769,"display_name":"Vinay Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635763843,"creation_date":1635753251,"question_id":69794009,"body_markdown":"# Controller code #\r\n```\r\n\t@RequestMapping(&quot;post/{id}&quot;)\r\n\tpublic ModelAndView post(ModelAndView model, @PathVariable Integer id) throws IOException {\r\n\r\n\t\tList&lt;Posts&gt; post = postDao.findPostById(id);\r\n\t\tList&lt;Comments&gt; comments = new ArrayList&lt;Comments&gt;();\r\n\t\tcomments = (List&lt;Comments&gt;) commentsRepository.findAll();\r\n//\t\tList&lt;Comments&gt; comments = postDao.findAll(id);\r\n\t\tmodel.addObject(&quot;post&quot;, post.get(0));\r\n\t\tSystem.out.println(comments);\r\n\t\tmodel.addObject(&quot;commentsList&quot;,comments);\r\n\t\tmodel.setViewName(&quot;Post&quot;);\r\n\r\n\t\treturn model;\r\n\t}\r\n```\r\n# JSP code #\r\n```\r\n&lt;div&gt;\r\n\t\t\t&lt;form class=&quot;form-horizontal&quot; action=&quot;do_comment&quot; method=&quot;POST&quot;&gt;\r\n\t\t\t\t&lt;textarea rows=&quot;2&quot; class=&quot;comment-area&quot;&gt;&lt;/textarea&gt;\r\n\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Comment&quot;/&gt;\r\n\t\t\t&lt;/form&gt;\r\n \t\t\t&lt;c:forEach items=&quot;${commentsList}&quot; var=&quot;commentsList&quot;&gt;\r\n \t\t\t&lt;div&gt;\r\n\t\t\t\t&lt;p&gt;${commentsList.comment}&lt;/p&gt;&lt;hr&gt;&lt;br&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/c:forEach&gt;\r\n\t\t&lt;/div&gt;\r\n```\r\n# Comments Class #\r\n```\r\n@Entity\r\npublic class Comments {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int commentId;\r\n\tprivate int postId;\r\n\tprivate int userId;\r\n\tprivate String comment;\r\n...\r\n```\r\nIn Console it says **NumberFormatException** but I am not parsing anything.\r\n# Console #\r\n```\r\nServlet.service() for servlet [jsp] threw exception\r\n    \r\n    java.lang.NumberFormatException: For input string: &quot;comment&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67) ~[na:na]\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:660) ~[na:na]\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:778) ~[na:na]\r\n    \tat javax.el.ListELResolver.coerce(ListELResolver.java:148) ~[tomcat-embed-el-9.0.54.jar:3.0.FR]\r\n    \tat javax.el.ListELResolver.getValue(ListELResolver.java:65) ~[tomcat-embed-el-9.0.54.jar:3.0.FR]\r\n    \tat org.apache.jasper.el.JasperELResolver.getValue(JasperELResolver.java:124) ~[tomcat-jasper-9.0.53.jar:9.0.53]\r\n    \tat org.apache.el.parser.AstValue.getValue(AstValue.java:168) ~[tomcat-embed-el-9.0.54.jar:9.0.54]\r\n    \tat org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189) ~[tomcat-embed-el-9.0.54.jar:9.0.54]\r\n    \tat org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:692) ~[tomcat-jasper-9.0.53.jar:9.0.53]\r\n    \tat org.apache.jsp.WEB_002dINF.views.jsp.Post_jsp._jspService(Post_jsp.java:425) ~[na:na]\r\n    \tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) ~[tomcat-jasper-9.0.53.jar:9.0.53]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466) ~[tomcat-jasper-9.0.53.jar:9.0.53]\r\n    \tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379) ~[tomcat-jasper-9.0.53.jar:9.0.53]\r\n    \tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327) ~[tomcat-jasper-9.0.53.jar:9.0.53]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:171) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1400) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n    \r\n```\r\nBut the same code works when I pass just one element insead of whole list, like this :\r\n```\r\n\t@RequestMapping(&quot;post/{id}&quot;)\r\n\tpublic ModelAndView post(ModelAndView model, @PathVariable Integer id) throws IOException {\r\n\r\n\t\tList&lt;Posts&gt; post = postDao.findPostById(id);\r\n\t\tList&lt;Comments&gt; comments = new ArrayList&lt;Comments&gt;();\r\n\t\tcomments = (List&lt;Comments&gt;) commentsRepository.findAll();\r\n//\t\tList&lt;Comments&gt; comments = postDao.findAll(id);\r\n\t\tmodel.addObject(&quot;post&quot;, post.get(0));\r\n\t\tSystem.out.println(comments);\r\n\t\tmodel.addObject(&quot;commentsList&quot;,comments.get(0));\r\n\t\tmodel.setViewName(&quot;Post&quot;);\r\n\r\n\t\treturn model;\r\n\t}\r\n```\r\n# comment DB #\r\n[Image of comment database][1]\r\n\r\nWhat should i change here so that this works for the entire list of comments is traversed and displayed? \r\nThanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7rM9u.png","title":"List traversal is not working in jsp but works fine when I just pass a single element","body":"<h1>Controller code</h1>\n<pre><code>    @RequestMapping(&quot;post/{id}&quot;)\n    public ModelAndView post(ModelAndView model, @PathVariable Integer id) throws IOException {\n\n        List&lt;Posts&gt; post = postDao.findPostById(id);\n        List&lt;Comments&gt; comments = new ArrayList&lt;Comments&gt;();\n        comments = (List&lt;Comments&gt;) commentsRepository.findAll();\n//      List&lt;Comments&gt; comments = postDao.findAll(id);\n        model.addObject(&quot;post&quot;, post.get(0));\n        System.out.println(comments);\n        model.addObject(&quot;commentsList&quot;,comments);\n        model.setViewName(&quot;Post&quot;);\n\n        return model;\n    }\n</code></pre>\n<h1>JSP code</h1>\n<pre><code>&lt;div&gt;\n            &lt;form class=&quot;form-horizontal&quot; action=&quot;do_comment&quot; method=&quot;POST&quot;&gt;\n                &lt;textarea rows=&quot;2&quot; class=&quot;comment-area&quot;&gt;&lt;/textarea&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Comment&quot;/&gt;\n            &lt;/form&gt;\n            &lt;c:forEach items=&quot;${commentsList}&quot; var=&quot;commentsList&quot;&gt;\n            &lt;div&gt;\n                &lt;p&gt;${commentsList.comment}&lt;/p&gt;&lt;hr&gt;&lt;br&gt;\n                &lt;/div&gt;\n            &lt;/c:forEach&gt;\n        &lt;/div&gt;\n</code></pre>\n<h1>Comments Class</h1>\n<pre><code>@Entity\npublic class Comments {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int commentId;\n    private int postId;\n    private int userId;\n    private String comment;\n...\n</code></pre>\n<p>In Console it says <strong>NumberFormatException</strong> but I am not parsing anything.</p>\n<h1>Console</h1>\n<pre><code>Servlet.service() for servlet [jsp] threw exception\n    \n    java.lang.NumberFormatException: For input string: &quot;comment&quot;\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67) ~[na:na]\n        at java.base/java.lang.Integer.parseInt(Integer.java:660) ~[na:na]\n        at java.base/java.lang.Integer.parseInt(Integer.java:778) ~[na:na]\n        at javax.el.ListELResolver.coerce(ListELResolver.java:148) ~[tomcat-embed-el-9.0.54.jar:3.0.FR]\n        at javax.el.ListELResolver.getValue(ListELResolver.java:65) ~[tomcat-embed-el-9.0.54.jar:3.0.FR]\n        at org.apache.jasper.el.JasperELResolver.getValue(JasperELResolver.java:124) ~[tomcat-jasper-9.0.53.jar:9.0.53]\n        at org.apache.el.parser.AstValue.getValue(AstValue.java:168) ~[tomcat-embed-el-9.0.54.jar:9.0.54]\n        at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189) ~[tomcat-embed-el-9.0.54.jar:9.0.54]\n        at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:692) ~[tomcat-jasper-9.0.53.jar:9.0.53]\n        at org.apache.jsp.WEB_002dINF.views.jsp.Post_jsp._jspService(Post_jsp.java:425) ~[na:na]\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) ~[tomcat-jasper-9.0.53.jar:9.0.53]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466) ~[tomcat-jasper-9.0.53.jar:9.0.53]\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379) ~[tomcat-jasper-9.0.53.jar:9.0.53]\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327) ~[tomcat-jasper-9.0.53.jar:9.0.53]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:171) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171) ~[spring-webmvc-5.3.12.jar:5.3.12]\n        at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.3.12.jar:5.3.12]\n        at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1400) ~[spring-webmvc-5.3.12.jar:5.3.12]\n        at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.12.jar:5.3.12]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.12.jar:5.3.12]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n        at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n    \n</code></pre>\n<p>But the same code works when I pass just one element insead of whole list, like this :</p>\n<pre><code>    @RequestMapping(&quot;post/{id}&quot;)\n    public ModelAndView post(ModelAndView model, @PathVariable Integer id) throws IOException {\n\n        List&lt;Posts&gt; post = postDao.findPostById(id);\n        List&lt;Comments&gt; comments = new ArrayList&lt;Comments&gt;();\n        comments = (List&lt;Comments&gt;) commentsRepository.findAll();\n//      List&lt;Comments&gt; comments = postDao.findAll(id);\n        model.addObject(&quot;post&quot;, post.get(0));\n        System.out.println(comments);\n        model.addObject(&quot;commentsList&quot;,comments.get(0));\n        model.setViewName(&quot;Post&quot;);\n\n        return model;\n    }\n</code></pre>\n<h1>comment DB</h1>\n<p><a href=\"https://i.stack.imgur.com/7rM9u.png\" rel=\"nofollow noreferrer\">Image of comment database</a></p>\n<p>What should i change here so that this works for the entire list of comments is traversed and displayed?\nThanks in advance</p>\n"},{"tags":["java","maven","runtime","pom.xml"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1559843787,"post_id":56482739,"comment_id":99555901,"body_markdown":"Post the code so that SO members can help you.","body":"Post the code so that SO members can help you."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1559849070,"post_id":56482739,"comment_id":99558012,"body_markdown":"I would try resource filtering instead of reading the POM. Which information do you need?","body":"I would try resource filtering instead of reading the POM. Which information do you need?"},{"owner":{"account_id":3801209,"reputation":283,"user_id":3154817,"accept_rate":50,"display_name":"raedma"},"score":0,"creation_date":1559890996,"post_id":56482739,"comment_id":99567907,"body_markdown":"Currently I mainly want to retrieve the artifactID and version of my tool. But later I also want to access the dependency versions","body":"Currently I mainly want to retrieve the artifactID and version of my tool. But later I also want to access the dependency versions"}],"answers":[{"tags":[],"owner":{"account_id":1709870,"reputation":4053,"user_id":1568138,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1559895337,"creation_date":1559894086,"answer_id":56490184,"question_id":56482739,"body_markdown":"The problem is that\r\n\r\n    Model model = reader.read(new FileReader(&quot;pom.xml&quot;));\r\n\r\ntries to read the POM from the directory where your program is executed. Normally, `pom.xml` won&#39;t get copied to `target`, but it is embedded in the resulting artifact. You can override and force Maven to copy the POM to the `target` directory if you want to (for your own project), but it won&#39;t help you for other Maven artifacts.\r\n\r\nMost of the time, a Maven artifact will have the POM coordinates included in the JAR/WAR/EAR output. If you unpack such a file, you&#39;ll notice that there are two files stored under `META-INF/maven/&lt;groupId&gt;/&lt;artifactId&gt;`: `pom.xml` and `pom.properties` where the latter is far easier to parse than `pom.xml` but it doesn&#39;t include the dependencies. \r\n\r\nParsing the embedded `pom.xml` from the classpath (and not from disk) should work better for you, especially if you always run your program with `java -jar target\\mytool.jar`. In your program, try this:\r\n\r\n    try (InputStream is = MavenModelExample.class.getClassLoader().getResourceAsStream(&quot;META-INF/maven/&lt;your groupId&gt;/&lt;your artifactId&gt;/pom.xml&quot;)) {\r\n    \t\t\tMavenXpp3Reader reader = new MavenXpp3Reader();\r\n    \t\t\tModel model = reader.read(is);\r\n    \t\t\tSystem.out.println(model.getId());\r\n    \t        System.out.println(model.getGroupId());\r\n    \t        System.out.println(model.getArtifactId());\r\n    \t        System.out.println(model.getVersion());\r\n\r\n                // If you want to get fancy:\r\n                model.getDependencies().stream().forEach(System.out::println);  \r\n\r\n    \t\t}\r\n    \t\tcatch (IOException e) {\r\n    \t\t\t// Do whatever you need to do if the operation fails.\r\n    \t\t}\r\n\r\n\r\n`&lt;your groupId&gt;` and `&lt;your artifactId&gt;` should be fairly static, but if you do relocate your artifact&#39;s coordinates, then you need to change this in your code as well.","title":"Maven: Access POM at runtime - How to get &#39;pom.xml&#39; available from anywhere?","body":"<p>The problem is that</p>\n\n<pre><code>Model model = reader.read(new FileReader(\"pom.xml\"));\n</code></pre>\n\n<p>tries to read the POM from the directory where your program is executed. Normally, <code>pom.xml</code> won't get copied to <code>target</code>, but it is embedded in the resulting artifact. You can override and force Maven to copy the POM to the <code>target</code> directory if you want to (for your own project), but it won't help you for other Maven artifacts.</p>\n\n<p>Most of the time, a Maven artifact will have the POM coordinates included in the JAR/WAR/EAR output. If you unpack such a file, you'll notice that there are two files stored under <code>META-INF/maven/&lt;groupId&gt;/&lt;artifactId&gt;</code>: <code>pom.xml</code> and <code>pom.properties</code> where the latter is far easier to parse than <code>pom.xml</code> but it doesn't include the dependencies. </p>\n\n<p>Parsing the embedded <code>pom.xml</code> from the classpath (and not from disk) should work better for you, especially if you always run your program with <code>java -jar target\\mytool.jar</code>. In your program, try this:</p>\n\n<pre><code>try (InputStream is = MavenModelExample.class.getClassLoader().getResourceAsStream(\"META-INF/maven/&lt;your groupId&gt;/&lt;your artifactId&gt;/pom.xml\")) {\n            MavenXpp3Reader reader = new MavenXpp3Reader();\n            Model model = reader.read(is);\n            System.out.println(model.getId());\n            System.out.println(model.getGroupId());\n            System.out.println(model.getArtifactId());\n            System.out.println(model.getVersion());\n\n            // If you want to get fancy:\n            model.getDependencies().stream().forEach(System.out::println);  \n\n        }\n        catch (IOException e) {\n            // Do whatever you need to do if the operation fails.\n        }\n</code></pre>\n\n<p><code>&lt;your groupId&gt;</code> and <code>&lt;your artifactId&gt;</code> should be fairly static, but if you do relocate your artifact's coordinates, then you need to change this in your code as well.</p>\n"},{"tags":[],"owner":{"account_id":8379001,"reputation":73,"user_id":6291622,"display_name":"H.BENIZID"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635763693,"creation_date":1635515898,"answer_id":69770200,"question_id":56482739,"body_markdown":"problem is that :\r\n \r\n    read(new FileReader(&quot;pom.xml&quot;)) \r\n\r\nworks fine when you start your application from STS or else, but when you build your application as JAR the path of the pom.xml file change to :\r\n\r\n **META- INF/maven/${groupId}/${artifactId}/pom.xml**.\r\n \r\nfor that, try this code :\r\n\r\n    MavenXpp3Reader mavenXpp3Reader = new MavenXpp3Reader();\r\n    Model model;\r\n    if ((new File(&quot;pom.xml&quot;)).exists()) {\r\n\t  model = mavenXpp3Reader.read(new FileReader(&quot;pom.xml&quot;));\r\n    }\r\n    else {\r\n     // Packaged artifacts contain a META- INF/maven/${groupId}/${artifactId}/pom.properties\r\n      model = mavenXpp3Reader.read(new \r\n      InputStreamReader(Application.class.getResourceAsStream(\r\n        &quot;/META-INF/maven/groupId/artifactId/pom.xml&quot;)));\r\n    }","title":"Maven: Access POM at runtime - How to get &#39;pom.xml&#39; available from anywhere?","body":"<p>problem is that :</p>\n<pre><code>read(new FileReader(&quot;pom.xml&quot;)) \n</code></pre>\n<p>works fine when you start your application from STS or else, but when you build your application as JAR the path of the pom.xml file change to :</p>\n<p><strong>META- INF/maven/${groupId}/${artifactId}/pom.xml</strong>.</p>\n<p>for that, try this code :</p>\n<pre><code>MavenXpp3Reader mavenXpp3Reader = new MavenXpp3Reader();\nModel model;\nif ((new File(&quot;pom.xml&quot;)).exists()) {\n  model = mavenXpp3Reader.read(new FileReader(&quot;pom.xml&quot;));\n}\nelse {\n // Packaged artifacts contain a META- INF/maven/${groupId}/${artifactId}/pom.properties\n  model = mavenXpp3Reader.read(new \n  InputStreamReader(Application.class.getResourceAsStream(\n    &quot;/META-INF/maven/groupId/artifactId/pom.xml&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":3801209,"reputation":283,"user_id":3154817,"accept_rate":50,"display_name":"raedma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2489,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56490184,"answer_count":2,"score":3,"last_activity_date":1635763693,"creation_date":1559843479,"question_id":56482739,"body_markdown":"I want to access some information from the `pom.xml` to display in a Info dialog. So I googled and found [this post][1]:\r\n\r\n    public class MavenModelExample {\r\n        public static void main(String[] args) throws IOException, XmlPullParserException {\r\n            MavenXpp3Reader reader = new MavenXpp3Reader();\r\n            Model model = reader.read(new FileReader(&quot;pom.xml&quot;));\r\n            System.out.println(model.getId());\r\n            System.out.println(model.getGroupId());\r\n            System.out.println(model.getArtifactId());\r\n            System.out.println(model.getVersion());\r\n        }\r\n    }\r\n\r\nI implemented it in my tool, added\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto my pom and was happy that everything ran as expected when I run the tool from the project root directory with `java -jar target\\mytool.jar`.\r\n\r\nWhen I move to any other directory, e.g. directly into `target` and execute my tool with `java -jar mytool.jar`, I get:\r\n\r\n    java.io.FileNotFoundException: pom.xml (The system cannot find the specified file)\r\n            at java.base/java.io.FileInputStream.open0(Native Method)\r\n            at java.base/java.io.FileInputStream.open(FileInputStream.java:213)\r\n            at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:155)\r\n            at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:110)\r\n            at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\r\n\r\nWhich is kind of comprehensible. How should the code know, where the `pom.xml` is located, as it is not a resource. Is there any way to work around that?\r\n\r\nIn the mean time I use the approach from [this thread][2] to obtain the version and artifactID.\r\n\r\n\r\n  [1]: https://riptutorial.com/maven/example/30104/reading-a-pom-xml-at-runtime-using-maven-model-plugin\r\n  [2]: https://stackoverflow.com/a/24749717/3154817","title":"Maven: Access POM at runtime - How to get &#39;pom.xml&#39; available from anywhere?","body":"<p>I want to access some information from the <code>pom.xml</code> to display in a Info dialog. So I googled and found <a href=\"https://riptutorial.com/maven/example/30104/reading-a-pom-xml-at-runtime-using-maven-model-plugin\" rel=\"nofollow noreferrer\">this post</a>:</p>\n\n<pre><code>public class MavenModelExample {\n    public static void main(String[] args) throws IOException, XmlPullParserException {\n        MavenXpp3Reader reader = new MavenXpp3Reader();\n        Model model = reader.read(new FileReader(\"pom.xml\"));\n        System.out.println(model.getId());\n        System.out.println(model.getGroupId());\n        System.out.println(model.getArtifactId());\n        System.out.println(model.getVersion());\n    }\n}\n</code></pre>\n\n<p>I implemented it in my tool, added</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n  &lt;version&gt;3.3.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>to my pom and was happy that everything ran as expected when I run the tool from the project root directory with <code>java -jar target\\mytool.jar</code>.</p>\n\n<p>When I move to any other directory, e.g. directly into <code>target</code> and execute my tool with <code>java -jar mytool.jar</code>, I get:</p>\n\n<pre><code>java.io.FileNotFoundException: pom.xml (The system cannot find the specified file)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:213)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:155)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:110)\n        at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\n</code></pre>\n\n<p>Which is kind of comprehensible. How should the code know, where the <code>pom.xml</code> is located, as it is not a resource. Is there any way to work around that?</p>\n\n<p>In the mean time I use the approach from <a href=\"https://stackoverflow.com/a/24749717/3154817\">this thread</a> to obtain the version and artifactID.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"score":0,"creation_date":1337207429,"post_id":10627657,"comment_id":13774722,"body_markdown":"Java runs in a virtual machine. JavaScript is executed straight from the code. Try timing either larger programs (smaller overhead) or only the execution time (no virtual machine lag).","body":"Java runs in a virtual machine. JavaScript is executed straight from the code. Try timing either larger programs (smaller overhead) or only the execution time (no virtual machine lag)."},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":2,"creation_date":1337207440,"post_id":10627657,"comment_id":13774728,"body_markdown":"You may want to read about Java Quick Starter: http://www.java.com/en/download/help/quickstarter.xml and http://www.javalobby.org/java/forums/t102150.html","body":"You may want to read about Java Quick Starter: <a href=\"http://www.java.com/en/download/help/quickstarter.xml\" rel=\"nofollow noreferrer\">java.com/en/download/help/quickstarter.xml</a> and <a href=\"http://www.javalobby.org/java/forums/t102150.html\" rel=\"nofollow noreferrer\">javalobby.org/java/forums/t102150.html</a>"},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1337207869,"post_id":10627657,"comment_id":13774829,"body_markdown":"Java *isn&#39;t* suitable for writing command-line scripts. There are many other languages better suited it.  Use the appropriate tool for the job.","body":"Java <i>isn&#39;t</i> suitable for writing command-line scripts. There are many other languages better suited it.  Use the appropriate tool for the job."},{"owner":{"account_id":91497,"reputation":19283,"user_id":251162,"accept_rate":80,"display_name":"Aaron Yodaiken"},"score":0,"creation_date":1337207989,"post_id":10627657,"comment_id":13774857,"body_markdown":"@GuillaumePolet Trying to write code primarily for OSX/Unix, but thanks.","body":"@GuillaumePolet Trying to write code primarily for OSX/Unix, but thanks."},{"owner":{"account_id":91497,"reputation":19283,"user_id":251162,"accept_rate":80,"display_name":"Aaron Yodaiken"},"score":0,"creation_date":1337208059,"post_id":10627657,"comment_id":13774874,"body_markdown":"@skaffman Unfortunately, there are many libraries for which the best interface is Java, e.g. ANTLR (I know that there are C-target options, but it is not kept in sync with the code and is sort of Java-in-C style code.)","body":"@skaffman Unfortunately, there are many libraries for which the best interface is Java, e.g. ANTLR (I know that there are C-target options, but it is not kept in sync with the code and is sort of Java-in-C style code.)"},{"owner":{"account_id":91497,"reputation":19283,"user_id":251162,"accept_rate":80,"display_name":"Aaron Yodaiken"},"score":0,"creation_date":1337208152,"post_id":10627657,"comment_id":13774888,"body_markdown":"@HIdde I&#39;m not trying to say that Java has worse performance than JavaScript, and I&#39;m aware that it&#39;s in a VM. I&#39;m trying to find a way to get better _startup_ performance (perhaps by keeping a VM around or something).","body":"@HIdde I&#39;m not trying to say that Java has worse performance than JavaScript, and I&#39;m aware that it&#39;s in a VM. I&#39;m trying to find a way to get better <i>startup</i> performance (perhaps by keeping a VM around or something)."},{"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"score":0,"creation_date":1337208692,"post_id":10627657,"comment_id":13774978,"body_markdown":"@luxun Have you looked into Mono? It starts up for me in 1/4 the time of java on my OS X machine.","body":"@luxun Have you looked into Mono? It starts up for me in 1/4 the time of java on my OS X machine."},{"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"score":0,"creation_date":1337209178,"post_id":10627657,"comment_id":13775052,"body_markdown":"@luxun I read the timings incorrectly. Mono starts in 1/10 the time of Java in trival cases for me.","body":"@luxun I read the timings incorrectly. Mono starts in 1/10 the time of Java in trival cases for me."},{"owner":{"account_id":91497,"reputation":19283,"user_id":251162,"accept_rate":80,"display_name":"Aaron Yodaiken"},"score":0,"creation_date":1337210672,"post_id":10627657,"comment_id":13775318,"body_markdown":"I (unfortunately in this regard) need to use Java for this project, I believe.","body":"I (unfortunately in this regard) need to use Java for this project, I believe."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1351951066,"post_id":10627657,"comment_id":17986910,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/4056280/anyway-to-boost-java-jvm-startup-speed","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4056280/anyway-to-boost-java-jvm-startup-speed\" title=\"anyway to boost java jvm startup speed\">stackoverflow.com/questions/4056280/&hellip;</a>"},{"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"score":0,"creation_date":1416951823,"post_id":10627657,"comment_id":42772609,"body_markdown":"possible duplicate of [How to speed up Java VM (JVM) startup time?](http://stackoverflow.com/questions/1491325/how-to-speed-up-java-vm-jvm-startup-time)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1491325/how-to-speed-up-java-vm-jvm-startup-time\">How to speed up Java VM (JVM) startup time?</a>"}],"answers":[{"tags":[],"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337207469,"creation_date":1337207469,"answer_id":10627686,"question_id":10627657,"body_markdown":"Not likely, only thing you might be able to try is a different implementation of the JVM, but that probably won&#39;t change. Most Java apps are (relatively) long lived though and possibly interactive, which means the JVM startup time becomes lost in the noise of normal uses.","title":"make java startup faster","body":"<p>Not likely, only thing you might be able to try is a different implementation of the JVM, but that probably won't change. Most Java apps are (relatively) long lived though and possibly interactive, which means the JVM startup time becomes lost in the noise of normal uses.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337208575,"creation_date":1337207822,"answer_id":10627741,"question_id":10627657,"body_markdown":"Have you actually tried timing a Java command-line app called repeatedly, though? I would expect after the first incarnation for the start-up time to be alleviated somewhat by the library classes being in the file system cache.\r\n\r\nThat said, yes, the Java platform is not one of the simplest and in any case you&#39;re not going to compete with a small native executable.\r\n\r\nEdit: as you say that the timings above are for &quot;warmed up&quot; calls, then a possible workaround could be:\r\n\r\n- write the gubbins of your commands in Java\r\n- write a simple local continually running &quot;server&quot; that takes commands and passes them to the relevant Java routines\r\n- write a simple native command-line wrapper (or write it in something that&#39;s fast to start up) whose sole raison d&#39;&#234;tre is to pass commands on to the Java server and spit out the result.\r\n\r\nThis ain&#39;t nice, but it could allow you to write the gubbins of your routines in Java (which I assume is essentially what you want) while still keeping the command line model of invocation.\r\n","title":"make java startup faster","body":"<p>Have you actually tried timing a Java command-line app called repeatedly, though? I would expect after the first incarnation for the start-up time to be alleviated somewhat by the library classes being in the file system cache.</p>\n\n<p>That said, yes, the Java platform is not one of the simplest and in any case you're not going to compete with a small native executable.</p>\n\n<p>Edit: as you say that the timings above are for \"warmed up\" calls, then a possible workaround could be:</p>\n\n<ul>\n<li>write the gubbins of your commands in Java</li>\n<li>write a simple local continually running \"server\" that takes commands and passes them to the relevant Java routines</li>\n<li>write a simple native command-line wrapper (or write it in something that's fast to start up) whose sole raison d'être is to pass commands on to the Java server and spit out the result.</li>\n</ul>\n\n<p>This ain't nice, but it could allow you to write the gubbins of your routines in Java (which I assume is essentially what you want) while still keeping the command line model of invocation.</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337208715,"creation_date":1337208715,"answer_id":10627853,"question_id":10627657,"body_markdown":"As others have said, the plain answer is just &quot;not really&quot;. You can possibly make minor performance improvements, but you&#39;re never going to get away from the fact that the VM is going to take a while to start up and get going.\r\n\r\nMake sure you haven&#39;t got the server VM selected for apps like this - that&#39;s one thing that really will increase the start up time.\r\n\r\nThe only real way round it is to compile Java to native code, which you *can* do with GCJ - so if you must write these apps in Java and you must have them faster, that might be a route to look down. Bear in mind though it&#39;s not that up-to-date and maintenance on it largely seems to be dying out too.","title":"make java startup faster","body":"<p>As others have said, the plain answer is just \"not really\". You can possibly make minor performance improvements, but you're never going to get away from the fact that the VM is going to take a while to start up and get going.</p>\n\n<p>Make sure you haven't got the server VM selected for apps like this - that's one thing that really will increase the start up time.</p>\n\n<p>The only real way round it is to compile Java to native code, which you <em>can</em> do with GCJ - so if you must write these apps in Java and you must have them faster, that might be a route to look down. Bear in mind though it's not that up-to-date and maintenance on it largely seems to be dying out too.</p>\n"},{"tags":[],"owner":{"account_id":787215,"reputation":5511,"user_id":860522,"accept_rate":70,"display_name":"OneSolitaryNoob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364759636,"creation_date":1364759636,"answer_id":15733821,"question_id":10627657,"body_markdown":"Haven&#39;t tried it yet but might be worth looking at nailgun.    It will run your Java programs in the same JVM, so after &quot;warming up&quot; should be pretty fast.    A &quot;hello world&quot; example goes from taking 0.132s to taking 0.004s\r\n\r\n\r\nhttp://www.martiansoftware.com/nailgun/background.html","title":"make java startup faster","body":"<p>Haven't tried it yet but might be worth looking at nailgun.    It will run your Java programs in the same JVM, so after \"warming up\" should be pretty fast.    A \"hello world\" example goes from taking 0.132s to taking 0.004s</p>\n\n<p><a href=\"http://www.martiansoftware.com/nailgun/background.html\" rel=\"nofollow\">http://www.martiansoftware.com/nailgun/background.html</a></p>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635763128,"creation_date":1635763128,"answer_id":69795739,"question_id":10627657,"body_markdown":"You can get a small speed-up with class data sharing https://rmannibucau.metawerx.net/post/java-class-data-sharing-docker-startup\r\n\r\nA much bigger speedup should come from doing ahead-of-time compilation to a static binary using GraalVM native-image, although it&#39;s still tricky to use. A lot of libraries haven&#39;t been made compatible.\r\n","title":"make java startup faster","body":"<p>You can get a small speed-up with class data sharing <a href=\"https://rmannibucau.metawerx.net/post/java-class-data-sharing-docker-startup\" rel=\"nofollow noreferrer\">https://rmannibucau.metawerx.net/post/java-class-data-sharing-docker-startup</a></p>\n<p>A much bigger speedup should come from doing ahead-of-time compilation to a static binary using GraalVM native-image, although it's still tricky to use. A lot of libraries haven't been made compatible.</p>\n"}],"owner":{"account_id":91497,"reputation":19283,"user_id":251162,"accept_rate":80,"display_name":"Aaron Yodaiken"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2216,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1635763128,"creation_date":1337207289,"question_id":10627657,"body_markdown":"Is there some way to get reasonable (not noticeable) starting times for Java, thus making it suitable for writing command line scripts (not long-lived apps)?\r\n\r\n---\r\n\r\nFor a demonstation of the issue, take a simple Hello World program in Java and JavaScript (run w/ node.js) on my Macbook Pro:\r\n\r\n    $ time java T\r\n    Hello world!\r\n    \r\n    real\t0m0.352s\r\n    user\t0m0.301s\r\n    sys\t0m0.053s\r\n\r\n    $ time node T.js\r\n    Hello world!\r\n    \r\n    real\t0m0.098s\r\n    user\t0m0.079s\r\n    sys\t0m0.013s\r\n\r\nThere is a noticeable lag with the Java version, not so with Node. This makes command line tools seem unresponsive. (This is especially true if they rely on more than one class, unlike the simple `T.java` above.","title":"make java startup faster","body":"<p>Is there some way to get reasonable (not noticeable) starting times for Java, thus making it suitable for writing command line scripts (not long-lived apps)?</p>\n\n<hr>\n\n<p>For a demonstation of the issue, take a simple Hello World program in Java and JavaScript (run w/ node.js) on my Macbook Pro:</p>\n\n<pre><code>$ time java T\nHello world!\n\nreal    0m0.352s\nuser    0m0.301s\nsys 0m0.053s\n\n$ time node T.js\nHello world!\n\nreal    0m0.098s\nuser    0m0.079s\nsys 0m0.013s\n</code></pre>\n\n<p>There is a noticeable lag with the Java version, not so with Node. This makes command line tools seem unresponsive. (This is especially true if they rely on more than one class, unlike the simple <code>T.java</code> above.</p>\n"},{"tags":["java","collections","constructor","linked-list","copyonwritearraylist"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1635673095,"post_id":69785568,"comment_id":123353838,"body_markdown":"What do you mean by &quot;doesn&#39;t work&quot;?","body":"What do you mean by &quot;doesn&#39;t work&quot;?"},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1635673208,"post_id":69785568,"comment_id":123353862,"body_markdown":"`this.list = list;      this.list2 = list; .......   ` All those 7 lists refer to the same memory location.","body":"<code>this.list = list;      this.list2 = list; .......   </code> All those 7 lists refer to the same memory location."},{"owner":{"account_id":22275346,"reputation":5,"user_id":16515722,"display_name":"Bronskidev"},"score":0,"creation_date":1635673658,"post_id":69785568,"comment_id":123353966,"body_markdown":"please tell me how to properly clone them inside this constructor? I cannot understand this moment, so that each sheet has its own memory block","body":"please tell me how to properly clone them inside this constructor? I cannot understand this moment, so that each sheet has its own memory block"},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":1,"creation_date":1635674208,"post_id":69785568,"comment_id":123354048,"body_markdown":"@Bronskidev use `this.list2 = new ArrayList&lt;&gt;(list);` to initialize all those 7 lists","body":"@Bronskidev use <code>this.list2 = new ArrayList&lt;&gt;(list);</code> to initialize all those 7 lists"},{"owner":{"account_id":22275346,"reputation":5,"user_id":16515722,"display_name":"Bronskidev"},"score":0,"creation_date":1635675206,"post_id":69785568,"comment_id":123354245,"body_markdown":"@GauthamM and if this constructor is called with LinkedList or CopyOnWriteArrayList? is this even possible? can I use one constructor for 3 different collections?","body":"@GauthamM and if this constructor is called with LinkedList or CopyOnWriteArrayList? is this even possible? can I use one constructor for 3 different collections?"},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":1,"creation_date":1635676565,"post_id":69785568,"comment_id":123354514,"body_markdown":"@Bronskidev you can check the type of list using `instanceof`, Then, write a method (you may name it copy) that would return `new ArrayList&lt;&gt;(list)` or `new LinkedList&lt;&gt;(list)` or any other required type based on conditions like `if(list instanceof ArrayList)`. Then in the constructor just call `this.list4 = copy(list)`","body":"@Bronskidev you can check the type of list using <code>instanceof</code>, Then, write a method (you may name it copy) that would return <code>new ArrayList&lt;&gt;(list)</code> or <code>new LinkedList&lt;&gt;(list)</code> or any other required type based on conditions like <code>if(list instanceof ArrayList)</code>. Then in the constructor just call <code>this.list4 = copy(list)</code>"}],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635762971,"creation_date":1635747228,"answer_id":69793199,"question_id":69785568,"body_markdown":"With the below statements, all your lists point to the same memory location and hence any operation on the list would be visible to all of list1 to list7. \r\n\r\n`this.list = list;    this.list2 = list;    this.list3 = list;`\r\n\r\nInstead you need to generate a new arraylist containing the elements of the input list using the appropriate list constructor which accepts a `Collection` as the argument.\r\n\r\nSince the input could be of any `List` type, you could make use of `instanceof` to check the type of input and invoke the appropriate constructor.\r\n\r\n**NOTE: You are only creating a new list. So changes to the original list won&#39;t be reflected on those seven lists. BUT the objects contained in the list are still referenced in the new lists as we are not cloning the object. We are just creating a new list with the same objects. SO if you were using `List&lt;SomeObject&gt;` instead of `List&lt;Integer&gt;`, were `SomeObject` is mutable, then any operations on the objects would be reflected on every list. This is not applicable to this specific question as it uses immutable `Integer` objects.**\r\n\r\n```java\r\nprivate static List&lt;Integer&gt; copy(List&lt;Integer&gt; input) {\r\n    if(input instanceof ArrayList) {\r\n        return new ArrayList&lt;&gt;(input);\r\n    } else if (input instanceof LinkedList) {\r\n        return new LinkedList&lt;&gt;(input);\r\n    }\r\n    // others\r\n    ...............\r\n    ...............\r\n\r\n}\r\n```\r\nNow invoke this method in your class&#39; constructor.\r\n```java\r\nthis.list = copy(list);\r\nthis.list2 = copy(list);\r\nthis.list3 = copy(list);\r\n```\r\n\r\nYou could also replace the for loop at the beginning with the below:\r\n```java\r\nCollections.fill(list, 1);\r\n```\r\n\r\nBut with the current code, all inputs are empty and hence the `size` of every list you are passing would be `0`. Hence no filling of elements would take place (using `for` loop or `Collections.fill`)\r\n\r\n`new ArrayList&lt;&gt;(10000)` does not update the size of the arraylist. It only initializes the backing array.\r\n\r\nRead [this](https://stackoverflow.com/questions/69785568/how-to-clone-the-list-correctly-in-the-constructor/69793199#comment123371307_69793199) too.","title":"How to clone the List correctly in the constructor?","body":"<p>With the below statements, all your lists point to the same memory location and hence any operation on the list would be visible to all of list1 to list7.</p>\n<p><code>this.list = list;    this.list2 = list;    this.list3 = list;</code></p>\n<p>Instead you need to generate a new arraylist containing the elements of the input list using the appropriate list constructor which accepts a <code>Collection</code> as the argument.</p>\n<p>Since the input could be of any <code>List</code> type, you could make use of <code>instanceof</code> to check the type of input and invoke the appropriate constructor.</p>\n<p><strong>NOTE: You are only creating a new list. So changes to the original list won't be reflected on those seven lists. BUT the objects contained in the list are still referenced in the new lists as we are not cloning the object. We are just creating a new list with the same objects. SO if you were using <code>List&lt;SomeObject&gt;</code> instead of <code>List&lt;Integer&gt;</code>, were <code>SomeObject</code> is mutable, then any operations on the objects would be reflected on every list. This is not applicable to this specific question as it uses immutable <code>Integer</code> objects.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;Integer&gt; copy(List&lt;Integer&gt; input) {\n    if(input instanceof ArrayList) {\n        return new ArrayList&lt;&gt;(input);\n    } else if (input instanceof LinkedList) {\n        return new LinkedList&lt;&gt;(input);\n    }\n    // others\n    ...............\n    ...............\n\n}\n</code></pre>\n<p>Now invoke this method in your class' constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.list = copy(list);\nthis.list2 = copy(list);\nthis.list3 = copy(list);\n</code></pre>\n<p>You could also replace the for loop at the beginning with the below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.fill(list, 1);\n</code></pre>\n<p>But with the current code, all inputs are empty and hence the <code>size</code> of every list you are passing would be <code>0</code>. Hence no filling of elements would take place (using <code>for</code> loop or <code>Collections.fill</code>)</p>\n<p><code>new ArrayList&lt;&gt;(10000)</code> does not update the size of the arraylist. It only initializes the backing array.</p>\n<p>Read <a href=\"https://stackoverflow.com/questions/69785568/how-to-clone-the-list-correctly-in-the-constructor/69793199#comment123371307_69793199\">this</a> too.</p>\n"}],"owner":{"account_id":22275346,"reputation":5,"user_id":16515722,"display_name":"Bronskidev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69793199,"answer_count":1,"score":0,"last_activity_date":1635763089,"creation_date":1635672977,"question_id":69785568,"body_markdown":"The constructor takes a List as parameters, this List needs to be filled with the same elements, for example &quot;1&quot; and cloned 7 times, assign the result to different collections, so that then 7 methods would process each of their lists. \r\n\r\nconstructor call:\r\n\r\n    public Class1 {\r\n        public Class2 arrayList = new Class2(new ArrayList&lt;&gt;(10000))\r\n        public Class2 linkedList = new Class2(new LinkedList&lt;&gt;())\r\n        public Class2 cowList = new Class2(new CopyOnWriteArrayList&lt;&gt;())\r\n    }\r\n    \r\n    public Class2 {\r\n    \r\n        private List&lt;Integer&gt; list;\r\n        private List&lt;Integer&gt; list2;\r\n        private List&lt;Integer&gt; list3;\r\n        private List&lt;Integer&gt; list4;\r\n        private List&lt;Integer&gt; list5;\r\n        private List&lt;Integer&gt; list6;\r\n        private List&lt;Integer&gt; list7;\r\n    \r\n        public Class2(List&lt;Integer&gt; list) {\r\n    \r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                list.add(1);\r\n            }\r\n    \r\n            this.list = list;\r\n            this.list2 = list;\r\n            this.list3 = list;\r\n            this.list4 = list;\r\n            this.list5 = list;\r\n            this.list6 = list;\r\n            this.list7 = list;\r\n        }\r\n    \r\n        method1(){\r\n            // list - doSomething...;\r\n        }\r\n    \r\n        method2(){\r\n            // list1 - doSomething...;\r\n        }\r\n    \r\n        method3(){\r\n            // list2 - doSomething...;\r\n        }    \r\n    \r\n        method4(){\r\n            // list3 - doSomething...;\r\n        }\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\nEach method performs a specific operation on its list. Depending on the constructor being called, the list is - `ArrayList` or `LinkedList` or `CopyOnWriteArrayList`\r\n\r\nMy code doesn&#39;t work. What am I doing wrong?","title":"How to clone the List correctly in the constructor?","body":"<p>The constructor takes a List as parameters, this List needs to be filled with the same elements, for example &quot;1&quot; and cloned 7 times, assign the result to different collections, so that then 7 methods would process each of their lists.</p>\n<p>constructor call:</p>\n<pre><code>public Class1 {\n    public Class2 arrayList = new Class2(new ArrayList&lt;&gt;(10000))\n    public Class2 linkedList = new Class2(new LinkedList&lt;&gt;())\n    public Class2 cowList = new Class2(new CopyOnWriteArrayList&lt;&gt;())\n}\n\npublic Class2 {\n\n    private List&lt;Integer&gt; list;\n    private List&lt;Integer&gt; list2;\n    private List&lt;Integer&gt; list3;\n    private List&lt;Integer&gt; list4;\n    private List&lt;Integer&gt; list5;\n    private List&lt;Integer&gt; list6;\n    private List&lt;Integer&gt; list7;\n\n    public Class2(List&lt;Integer&gt; list) {\n\n        for (int i = 0; i &lt; list.size(); i++) {\n            list.add(1);\n        }\n\n        this.list = list;\n        this.list2 = list;\n        this.list3 = list;\n        this.list4 = list;\n        this.list5 = list;\n        this.list6 = list;\n        this.list7 = list;\n    }\n\n    method1(){\n        // list - doSomething...;\n    }\n\n    method2(){\n        // list1 - doSomething...;\n    }\n\n    method3(){\n        // list2 - doSomething...;\n    }    \n\n    method4(){\n        // list3 - doSomething...;\n    }\n\n    ...\n\n}\n</code></pre>\n<p>Each method performs a specific operation on its list. Depending on the constructor being called, the list is - <code>ArrayList</code> or <code>LinkedList</code> or <code>CopyOnWriteArrayList</code></p>\n<p>My code doesn't work. What am I doing wrong?</p>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":10320392,"reputation":723,"user_id":7613480,"display_name":"UdonN00dle"},"score":0,"creation_date":1635763143,"post_id":69795710,"comment_id":123372005,"body_markdown":"It seems your temp folder is full? Perhaps try clearing it out","body":"It seems your temp folder is full? Perhaps try clearing it out"},{"owner":{"account_id":10320392,"reputation":723,"user_id":7613480,"display_name":"UdonN00dle"},"score":0,"creation_date":1635763162,"post_id":69795710,"comment_id":123372011,"body_markdown":"By temp folder I mean /tmp","body":"By temp folder I mean /tmp"},{"owner":{"account_id":5634549,"reputation":101,"user_id":8181320,"display_name":"Rajesh Rathod"},"score":0,"creation_date":1635763336,"post_id":69795710,"comment_id":123372072,"body_markdown":"steps to clean  /tmp folder","body":"steps to clean  /tmp folder"},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":1,"creation_date":1635763700,"post_id":69795710,"comment_id":123372204,"body_markdown":"Just like you would any other folder.","body":"Just like you would any other folder."}],"owner":{"account_id":5634549,"reputation":101,"user_id":8181320,"display_name":"Rajesh Rathod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635762965,"creation_date":1635762965,"question_id":69795710,"body_markdown":"Here when i tried to run Jenkins from command line, also ran \r\n\r\nsudo systemctl restart jenkins\r\nJob for jenkins.service failed because the control process exited with error code.\r\nSee &quot;systemctl status jenkins.service&quot; and &quot;journalctl -xe&quot; for details.\r\nbut failed to start jenkins\r\n\r\n```\r\nXXXXXXXXXXXX-XXXXXXXXXX:/var/lib/jenkins/workspace$ /usr/bin/java -Djava.awt.headless=true -jar /usr/share/jenkins/jenkins.war --webroot=/var/cache/jenkins/war --httpPort=8080 --ajp13Port=-1\r\nPicked up _JAVA_OPTIONS: -Xmx16000m\r\nRunning from: /usr/share/jenkins/jenkins.war\r\nException in thread &quot;main&quot; java.io.IOException: No space left on device\r\nat java.base/java.io.FileOutputStream.writeBytes(Native Method)\r\nat java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\r\nat Main.copyStream(Main.java:394)\r\nat Main.extractFromJar(Main.java:416)\r\nat Main._main(Main.java:247)\r\nat Main.main(Main.java:114)\r\nleadschool_app@ip-10-0-67-70:/var/lib/jenkins/workspace$\r\n```\r\n-------------------------------------------------------------------------------------------------\r\n````\r\nXXXXXXXXXXXX-XXXXXXXXXX:/var/lib/jenkins/workspace$ df -h\r\nFilesystem      Size  Used Avail Use% Mounted on\r\n/dev/root        30G   14G   16G  47% /\r\ndevtmpfs         16G     0   16G   0% /dev\r\ntmpfs            16G     0   16G   0% /dev/shm\r\ntmpfs           3.2G  354M  2.8G  12% /run\r\ntmpfs           5.0M     0  5.0M   0% /run/lock\r\ntmpfs            16G     0   16G   0% /sys/fs/cgroup\r\n/dev/loop0       34M   34M     0 100% /snap/amazon-ssm-agent/3552\r\n/dev/loop4       71M   71M     0 100% /snap/lxd/21029\r\ntmpfs            10M   10M   32K 100% /tmp\r\n/dev/loop5       25M   25M     0 100% /snap/amazon-ssm-agent/4046\r\ntmpfs           3.2G     0  3.2G   0% /run/user/1001\r\n/dev/loop8       56M   56M     0 100% /snap/core18/2128\r\n/dev/loop9       62M   62M     0 100% /snap/core20/1081\r\n/dev/loop10      68M   68M     0 100% /snap/lxd/21545\r\n````\r\nabove is the space in my system,\r\nhow should I start my Jenkins?","title":"Jenkins Down - &#39;no space left on device&#39; error","body":"<p>Here when i tried to run Jenkins from command line, also ran</p>\n<p>sudo systemctl restart jenkins\nJob for jenkins.service failed because the control process exited with error code.\nSee &quot;systemctl status jenkins.service&quot; and &quot;journalctl -xe&quot; for details.\nbut failed to start jenkins</p>\n<pre><code>XXXXXXXXXXXX-XXXXXXXXXX:/var/lib/jenkins/workspace$ /usr/bin/java -Djava.awt.headless=true -jar /usr/share/jenkins/jenkins.war --webroot=/var/cache/jenkins/war --httpPort=8080 --ajp13Port=-1\nPicked up _JAVA_OPTIONS: -Xmx16000m\nRunning from: /usr/share/jenkins/jenkins.war\nException in thread &quot;main&quot; java.io.IOException: No space left on device\nat java.base/java.io.FileOutputStream.writeBytes(Native Method)\nat java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\nat Main.copyStream(Main.java:394)\nat Main.extractFromJar(Main.java:416)\nat Main._main(Main.java:247)\nat Main.main(Main.java:114)\nleadschool_app@ip-10-0-67-70:/var/lib/jenkins/workspace$\n</code></pre>\n<hr />\n<pre><code>XXXXXXXXXXXX-XXXXXXXXXX:/var/lib/jenkins/workspace$ df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/root        30G   14G   16G  47% /\ndevtmpfs         16G     0   16G   0% /dev\ntmpfs            16G     0   16G   0% /dev/shm\ntmpfs           3.2G  354M  2.8G  12% /run\ntmpfs           5.0M     0  5.0M   0% /run/lock\ntmpfs            16G     0   16G   0% /sys/fs/cgroup\n/dev/loop0       34M   34M     0 100% /snap/amazon-ssm-agent/3552\n/dev/loop4       71M   71M     0 100% /snap/lxd/21029\ntmpfs            10M   10M   32K 100% /tmp\n/dev/loop5       25M   25M     0 100% /snap/amazon-ssm-agent/4046\ntmpfs           3.2G     0  3.2G   0% /run/user/1001\n/dev/loop8       56M   56M     0 100% /snap/core18/2128\n/dev/loop9       62M   62M     0 100% /snap/core20/1081\n/dev/loop10      68M   68M     0 100% /snap/lxd/21545\n</code></pre>\n<p>above is the space in my system,\nhow should I start my Jenkins?</p>\n"},{"tags":["java","ssh"],"owner":{"account_id":17535470,"reputation":21,"user_id":12718692,"display_name":"Damir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635762959,"creation_date":1635762959,"question_id":69795709,"body_markdown":"Environment\r\n1. Java 1.7.0_79\r\n2. SFTP client\r\nOpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013\r\n3. SFTP server\r\nSSH-2.0-OpenSSH_7.2p2 Ubuntu-4ubuntu2.10\r\n\r\nAction:\r\nSFTP client try to connect to SFTP server using java. As result, it has error:\r\n```\r\nCaused by: com.maverick.ssh.SshException: Key exchange failed: Expected SSH_MSG_KEX_GEX_GROUP [id=3] [Unknown cause]\r\n    at com.maverick.ssh.components.jce.DiffieHellmanGroupExchangeSha1.performClientExchange(Unknown Source)\r\n    at com.maverick.ssh2.TransportProtocol.e(Unknown Source)\r\n    at com.maverick.ssh2.TransportProtocol.processMessage(Unknown Source)\r\n    at com.maverick.ssh2.TransportProtocol.startTransportProtocol(Unknown Source)\r\n    at com.maverick.ssh2.Ssh2Client.connect(Unknown Source)\r\n    at com.maverick.ssh.SshConnector.connect(Unknown Source)\r\n    at com.maverick.ssh.SshConnector.connect(Unknown Source)\r\n    at com.bea.wli.sb.transports.sftp.client.SFTPClient.authenticate(SFTPClient.java:236)\r\n    at com.bea.wli.sb.transports.sftp.connector.SFTPResource.&lt;init&gt;(SFTPResource.java:89)\r\n    at com.bea.wli.sb.transports.sftp.resource.SFTPUtils.createSFTPResource(SFTPUtils.java:153)\r\n    at com.bea.wli.sb.transports.sftp.connector.SFTPWorkPartitioningAgent.getSftpResource(SFTPWorkPartitioningAgent.java:161)\r\n    ... 9 more\r\n```\r\n\r\nThis error is generated by the DiffieHellmanGroupExchangeSha1 class from j2ssh-maverick:\r\nhttps://github.com/sshtools/j2ssh-maverick/blob/master/j2ssh-maverick/src/main/java/com/sshtools/ssh/components/jce/DiffieHellmanGroupExchangeSha1.java\r\n```\r\nfinal static int SSH_MSG_KEXDH_GEX_GROUP = 31;\r\n...\r\nbyte[] tmp = transport.nextMessage();\r\n...\r\nif (tmp[0] != SSH_MSG_KEXDH_GEX_GROUP) {\r\ntransport.disconnect(TransportProtocol.KEY_EXCHANGE_FAILED,\r\n&quot;Expected SSH_MSG_KEX_GEX_GROUP&quot;);\r\nthrow new SshException(\r\n&quot;Key exchange failed: Expected SSH_MSG_KEX_GEX_GROUP [id=&quot;\r\n+ tmp[0] + &quot;]&quot;, SshException.INTERNAL_ERROR);\r\n}\r\n```\r\nbecause of this code, get the description of the error:\r\n```\r\nKey exchange failed: Expected SSH_MSG_KEX_GEX_GROUP [id=3]\r\n```\r\n\r\nIt means after request SSH2_MSG_KEX_DH_GEX_REQUEST expecting response with value &#171;31&#187; to continue connecting.\r\n\r\nExperiment conducted:\r\n\r\n1. If to connect from cleint with OpenSSH_7.2p2 to server with OpenSSH_5.3p1, it has ssh log behind:\r\n```\r\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(2048&lt;3072&lt;8192) sent\r\ndebug3: receive packet: type 31\r\ndebug1: got SSH2_MSG_KEX_DH_GEX_GROUP\r\ndebug2: bits set: 1511/3072\r\ndebug3: send packet: type 32\r\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\r\ndebug3: receive packet: type 33\r\ndebug1: got SSH2_MSG_KEX_DH_GEX_REPLY\r\n```\r\n\r\n2. If to connect from cleint with OpenSSH_5.3p1 to server with OpenSSH_5.3p1 or OpenSSH_7.2p2, it has ssh log behind:\r\n```\r\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\r\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\r\ndebug3: Wrote 24 bytes for a total of 909\r\ndebug2: dh_gen_key: priv key bits set: 162/320\r\ndebug2: bits set: 1044/2048\r\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\r\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\r\n```\r\n\r\nFor the first experiment it get value &#171;31&#187;, but for the second experiment no any information about value &#171;3&#187; ([id=3]).\r\n\r\n\r\nWhy is different log stack between two experiments? \r\nHow to solve this error?","title":"com.maverick.ssh.SshException: Key exchange failed: Expected SSH_MSG_KEX_GEX_GROUP [id=3]","body":"<p>Environment</p>\n<ol>\n<li>Java 1.7.0_79</li>\n<li>SFTP client\nOpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013</li>\n<li>SFTP server\nSSH-2.0-OpenSSH_7.2p2 Ubuntu-4ubuntu2.10</li>\n</ol>\n<p>Action:\nSFTP client try to connect to SFTP server using java. As result, it has error:</p>\n<pre><code>Caused by: com.maverick.ssh.SshException: Key exchange failed: Expected SSH_MSG_KEX_GEX_GROUP [id=3] [Unknown cause]\n    at com.maverick.ssh.components.jce.DiffieHellmanGroupExchangeSha1.performClientExchange(Unknown Source)\n    at com.maverick.ssh2.TransportProtocol.e(Unknown Source)\n    at com.maverick.ssh2.TransportProtocol.processMessage(Unknown Source)\n    at com.maverick.ssh2.TransportProtocol.startTransportProtocol(Unknown Source)\n    at com.maverick.ssh2.Ssh2Client.connect(Unknown Source)\n    at com.maverick.ssh.SshConnector.connect(Unknown Source)\n    at com.maverick.ssh.SshConnector.connect(Unknown Source)\n    at com.bea.wli.sb.transports.sftp.client.SFTPClient.authenticate(SFTPClient.java:236)\n    at com.bea.wli.sb.transports.sftp.connector.SFTPResource.&lt;init&gt;(SFTPResource.java:89)\n    at com.bea.wli.sb.transports.sftp.resource.SFTPUtils.createSFTPResource(SFTPUtils.java:153)\n    at com.bea.wli.sb.transports.sftp.connector.SFTPWorkPartitioningAgent.getSftpResource(SFTPWorkPartitioningAgent.java:161)\n    ... 9 more\n</code></pre>\n<p>This error is generated by the DiffieHellmanGroupExchangeSha1 class from j2ssh-maverick:\n<a href=\"https://github.com/sshtools/j2ssh-maverick/blob/master/j2ssh-maverick/src/main/java/com/sshtools/ssh/components/jce/DiffieHellmanGroupExchangeSha1.java\" rel=\"nofollow noreferrer\">https://github.com/sshtools/j2ssh-maverick/blob/master/j2ssh-maverick/src/main/java/com/sshtools/ssh/components/jce/DiffieHellmanGroupExchangeSha1.java</a></p>\n<pre><code>final static int SSH_MSG_KEXDH_GEX_GROUP = 31;\n...\nbyte[] tmp = transport.nextMessage();\n...\nif (tmp[0] != SSH_MSG_KEXDH_GEX_GROUP) {\ntransport.disconnect(TransportProtocol.KEY_EXCHANGE_FAILED,\n&quot;Expected SSH_MSG_KEX_GEX_GROUP&quot;);\nthrow new SshException(\n&quot;Key exchange failed: Expected SSH_MSG_KEX_GEX_GROUP [id=&quot;\n+ tmp[0] + &quot;]&quot;, SshException.INTERNAL_ERROR);\n}\n</code></pre>\n<p>because of this code, get the description of the error:</p>\n<pre><code>Key exchange failed: Expected SSH_MSG_KEX_GEX_GROUP [id=3]\n</code></pre>\n<p>It means after request SSH2_MSG_KEX_DH_GEX_REQUEST expecting response with value «31» to continue connecting.</p>\n<p>Experiment conducted:</p>\n<ol>\n<li>If to connect from cleint with OpenSSH_7.2p2 to server with OpenSSH_5.3p1, it has ssh log behind:</li>\n</ol>\n<pre><code>debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(2048&lt;3072&lt;8192) sent\ndebug3: receive packet: type 31\ndebug1: got SSH2_MSG_KEX_DH_GEX_GROUP\ndebug2: bits set: 1511/3072\ndebug3: send packet: type 32\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug3: receive packet: type 33\ndebug1: got SSH2_MSG_KEX_DH_GEX_REPLY\n</code></pre>\n<ol start=\"2\">\n<li>If to connect from cleint with OpenSSH_5.3p1 to server with OpenSSH_5.3p1 or OpenSSH_7.2p2, it has ssh log behind:</li>\n</ol>\n<pre><code>debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug3: Wrote 24 bytes for a total of 909\ndebug2: dh_gen_key: priv key bits set: 162/320\ndebug2: bits set: 1044/2048\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\n</code></pre>\n<p>For the first experiment it get value «31», but for the second experiment no any information about value «3» ([id=3]).</p>\n<p>Why is different log stack between two experiments?\nHow to solve this error?</p>\n"},{"tags":["java","jasper-reports","jaspersoft-studio"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1635105165,"post_id":69699763,"comment_id":123200632,"body_markdown":"You can try to add your class(es) or jar with help of `Properties` -&gt; `Java Build Path` -&gt; `Libraries` -&gt; `&quot;Add ..&quot;`","body":"You can try to add your class(es) or jar with help of <code>Properties</code> -&gt; <code>Java Build Path</code> -&gt; <code>Libraries</code> -&gt; <code>&quot;Add ..&quot;</code>"},{"owner":{"account_id":5067945,"reputation":617,"user_id":4067559,"display_name":"Val Martinez"},"score":0,"creation_date":1635149308,"post_id":69699763,"comment_id":123208553,"body_markdown":"@AlexK src folder is on the path. Also i tried to export my classes in an external jar and then import them and no way. Same exception is thrown.","body":"@AlexK src folder is on the path. Also i tried to export my classes in an external jar and then import them and no way. Same exception is thrown."},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1635166202,"post_id":69699763,"comment_id":123215111,"body_markdown":"Did you restart JSS after adding the jar file?","body":"Did you restart JSS after adding the jar file?"},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1635172414,"post_id":69699763,"comment_id":123218166,"body_markdown":"How are you running the `jasper` file? You say that `you&#39;re not generating reports on the fly` what exactly are you doing to run it?  Command line? Web API? Etc?","body":"How are you running the <code>jasper</code> file? You say that <code>you&#39;re not generating reports on the fly</code> what exactly are you doing to run it?  Command line? Web API? Etc?"},{"owner":{"account_id":5067945,"reputation":617,"user_id":4067559,"display_name":"Val Martinez"},"score":0,"creation_date":1635184234,"post_id":69699763,"comment_id":123223064,"body_markdown":"@AlexK Yes I did.","body":"@AlexK Yes I did."},{"owner":{"account_id":5067945,"reputation":617,"user_id":4067559,"display_name":"Val Martinez"},"score":0,"creation_date":1635184389,"post_id":69699763,"comment_id":123223120,"body_markdown":"@kendavidson In the Report Desing perspective, just opening the jrxml file and clicking on the preview tab.","body":"@kendavidson In the Report Desing perspective, just opening the jrxml file and clicking on the preview tab."},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":1,"creation_date":1635184511,"post_id":69699763,"comment_id":123223166,"body_markdown":"@ValMartinez Looks like a JSS bug","body":"@ValMartinez Looks like a JSS bug"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1635184621,"post_id":69699763,"comment_id":123223198,"body_markdown":"@ValMartinez BTW, Are you sure that you are using the fully qualified name of class?","body":"@ValMartinez BTW, Are you sure that you are using the fully qualified name of class?"},{"owner":{"account_id":5067945,"reputation":617,"user_id":4067559,"display_name":"Val Martinez"},"score":0,"creation_date":1635184712,"post_id":69699763,"comment_id":123223226,"body_markdown":"@AlexK Yes Alex. Its canonical name: package.name. I agree. Seems a bug.","body":"@AlexK Yes Alex. Its canonical name: package.name. I agree. Seems a bug."}],"answers":[{"tags":[],"owner":{"account_id":5067945,"reputation":617,"user_id":4067559,"display_name":"Val Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635762588,"creation_date":1635762588,"answer_id":69795640,"question_id":69699763,"body_markdown":"After asking to the Jasper Community, they have given me a solution.\r\n\r\nIts a bug in the 6.17 version. In order to solved it, just add an extra jar to the plugin installation folder, relaunch Jasper with -clean option and done. Now I can refer and use my own classes within the report.\r\n\r\nDetails here: https://community.jaspersoft.com/jaspersoft-studio/issues/13616#comment-873711\r\n\r\nAlso told me that a new release is comming and will fix this issue.","title":"Cannot use my Java classes working with Jasper Reports: ClassNotFoundException","body":"<p>After asking to the Jasper Community, they have given me a solution.</p>\n<p>Its a bug in the 6.17 version. In order to solved it, just add an extra jar to the plugin installation folder, relaunch Jasper with -clean option and done. Now I can refer and use my own classes within the report.</p>\n<p>Details here: <a href=\"https://community.jaspersoft.com/jaspersoft-studio/issues/13616#comment-873711\" rel=\"nofollow noreferrer\">https://community.jaspersoft.com/jaspersoft-studio/issues/13616#comment-873711</a></p>\n<p>Also told me that a new release is comming and will fix this issue.</p>\n"}],"owner":{"account_id":5067945,"reputation":617,"user_id":4067559,"display_name":"Val Martinez"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69795640,"answer_count":1,"score":0,"last_activity_date":1635762588,"creation_date":1635101007,"question_id":69699763,"body_markdown":"I have installed JasperReports Studio 6.17 in order to generate reports with Jasper Reports. Everything is ok, i can define my templates (jrxml files), filled them with jdbc or cvs remote data, and export them correctly to several formats.\r\n\r\nThe problem is when i try to use one my own Java classes such as Scritplett or as functions expressions. There is no way to recognize my classes. ClassNotFoundException is thrown each time.\r\n\r\nBuild path seems to be ok. All depedencies seems to be correct also, but i am not able to extend the functionality interacting with my Java classes. Any idea? Thanks in advance.\r\n\r\npd: I am not generating reports on the fly, just from the template, declaratively.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GRQvQ.png","title":"Cannot use my Java classes working with Jasper Reports: ClassNotFoundException","body":"<p>I have installed JasperReports Studio 6.17 in order to generate reports with Jasper Reports. Everything is ok, i can define my templates (jrxml files), filled them with jdbc or cvs remote data, and export them correctly to several formats.</p>\n<p>The problem is when i try to use one my own Java classes such as Scritplett or as functions expressions. There is no way to recognize my classes. ClassNotFoundException is thrown each time.</p>\n<p>Build path seems to be ok. All depedencies seems to be correct also, but i am not able to extend the functionality interacting with my Java classes. Any idea? Thanks in advance.</p>\n<p>pd: I am not generating reports on the fly, just from the template, declaratively.</p>\n<p><a href=\"https://i.stack.imgur.com/GRQvQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GRQvQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","spring-boot","rest","dto"],"answers":[{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635724890,"creation_date":1635724890,"answer_id":69791490,"question_id":69790410,"body_markdown":"[`@ManyToOne`](https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToOne.html) is available:\r\n\r\n```java\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\n\r\n@Entity\r\npublic class TblEmployees {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int emp_id;\r\n    private String empName;\r\n    private Boolean empActive;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;dbid&quot;)\r\n    private TblDepartments department;\r\n\r\n    // Getters and Setters\r\n\r\n}\r\n```\r\n[full sample code](https://github.com/yukihane/stackoverflow-qa/tree/master/so69790410)","title":"json object returns null spring boot","body":"<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToOne.html\" rel=\"nofollow noreferrer\"><code>@ManyToOne</code></a> is available:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\n\n@Entity\npublic class TblEmployees {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int emp_id;\n    private String empName;\n    private Boolean empActive;\n    @ManyToOne\n    @JoinColumn(name = &quot;dbid&quot;)\n    private TblDepartments department;\n\n    // Getters and Setters\n\n}\n</code></pre>\n<p><a href=\"https://github.com/yukihane/stackoverflow-qa/tree/master/so69790410\" rel=\"nofollow noreferrer\">full sample code</a></p>\n"}],"owner":{"account_id":18260282,"reputation":19,"user_id":17250338,"display_name":"robot "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69791490,"answer_count":1,"score":1,"last_activity_date":1635762294,"creation_date":1635712686,"question_id":69790410,"body_markdown":"І am developing a REST API app with Spring Boot. I have 2 tables in the database, the first is called `TblEmployees`, the second is called `TblDepartments`. From these 2 tables I made a class `Employees_DTO` which should return data in JSON format. And from the `TblEmployees` table it will return data and from the `TblDepartments` table it returns null. `dbID` is a foreign key I did as I thought but at me it doesn&#39;t work:\r\n\r\n        public class TblDepartments {\r\n    private Integer dbID;\r\n    private String dep_name;\r\n    \r\n    public class TblEmployees {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int emp_id;\r\n    private String empName;\r\n    private Boolean empActive;\r\n    private Integer dbID;\r\n    \r\n    public class Employees_DTO {\r\n    private int emp_id;\r\n    private String empName;\r\n    private Boolean empActive;\r\n    private String dep_name;\r\n       }\r\n    \r\n    package com.example.test_task.exceptions;\r\n    \r\n    import com.example.test_task.*;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.modelmapper.convention.MatchingStrategies;\r\n    import org.modelmapper.spi.MatchingStrategy;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n     import java.util.stream.Collectors;\r\n    \r\n     @Service\r\n    public class EmployessServise {\r\n    @Autowired\r\n    private EmplployeesRepository repo;\r\n    \r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n    \r\n    public EmployessServise() {\r\n    }\r\n    \r\n    public List&lt;Employees_DTO&gt; getAll_Emp(){\r\n        return repo.findAll()\r\n                .stream()\r\n                .map(this::convertEntityToDto)\r\n                .collect(Collectors.toList());\r\n    }\r\n    \r\n    private Employees_DTO convertEntityToDto(TblEmployees tblEmployees){\r\n        modelMapper.getConfiguration()\r\n                .setMatchingStrategy(MatchingStrategies.LOOSE);\r\n        Employees_DTO employees_dto=new Employees_DTO();\r\n        employees_dto=modelMapper.map(tblEmployees,Employees_DTO.class);\r\n        return employees_dto;\r\n    }\r\n    \r\n    private TblEmployees convertEntityToDto(Employees_DTO employees_dto){\r\n        modelMapper.getConfiguration()\r\n                .setMatchingStrategy(MatchingStrategies.LOOSE);\r\n        TblEmployees tblEmployees=new TblEmployees();\r\n        tblEmployees=modelMapper.map(employees_dto,TblEmployees.class);\r\n        return tblEmployees;\r\n    }\r\n      }","title":"json object returns null spring boot","body":"<p>І am developing a REST API app with Spring Boot. I have 2 tables in the database, the first is called <code>TblEmployees</code>, the second is called <code>TblDepartments</code>. From these 2 tables I made a class <code>Employees_DTO</code> which should return data in JSON format. And from the <code>TblEmployees</code> table it will return data and from the <code>TblDepartments</code> table it returns null. <code>dbID</code> is a foreign key I did as I thought but at me it doesn't work:</p>\n<pre><code>    public class TblDepartments {\nprivate Integer dbID;\nprivate String dep_name;\n\npublic class TblEmployees {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate int emp_id;\nprivate String empName;\nprivate Boolean empActive;\nprivate Integer dbID;\n\npublic class Employees_DTO {\nprivate int emp_id;\nprivate String empName;\nprivate Boolean empActive;\nprivate String dep_name;\n   }\n\npackage com.example.test_task.exceptions;\n\nimport com.example.test_task.*;\nimport org.modelmapper.ModelMapper;\nimport org.modelmapper.convention.MatchingStrategies;\nimport org.modelmapper.spi.MatchingStrategy;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n import java.util.stream.Collectors;\n\n @Service\npublic class EmployessServise {\n@Autowired\nprivate EmplployeesRepository repo;\n\n@Autowired\nprivate ModelMapper modelMapper;\n\npublic EmployessServise() {\n}\n\npublic List&lt;Employees_DTO&gt; getAll_Emp(){\n    return repo.findAll()\n            .stream()\n            .map(this::convertEntityToDto)\n            .collect(Collectors.toList());\n}\n\nprivate Employees_DTO convertEntityToDto(TblEmployees tblEmployees){\n    modelMapper.getConfiguration()\n            .setMatchingStrategy(MatchingStrategies.LOOSE);\n    Employees_DTO employees_dto=new Employees_DTO();\n    employees_dto=modelMapper.map(tblEmployees,Employees_DTO.class);\n    return employees_dto;\n}\n\nprivate TblEmployees convertEntityToDto(Employees_DTO employees_dto){\n    modelMapper.getConfiguration()\n            .setMatchingStrategy(MatchingStrategies.LOOSE);\n    TblEmployees tblEmployees=new TblEmployees();\n    tblEmployees=modelMapper.map(employees_dto,TblEmployees.class);\n    return tblEmployees;\n}\n  }\n</code></pre>\n"},{"tags":["java","macos","swing","jlayer"],"comments":[{"owner":{"account_id":16838121,"reputation":952,"user_id":12174160,"display_name":"weisj"},"score":0,"creation_date":1633879548,"post_id":69514258,"comment_id":122872576,"body_markdown":"My suggestion would be to only paint to the offscreen when turning the blur mode on. If you only use the blur effect when showing a modal dialog then it is safe to assume that the frame won’t change its size or content.","body":"My suggestion would be to only paint to the offscreen when turning the blur mode on. If you only use the blur effect when showing a modal dialog then it is safe to assume that the frame won’t change its size or content."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1633900799,"post_id":69514258,"comment_id":122877297,"body_markdown":"@weisj Well, that was a very clever suggestion. While this does fix he delay, it has two unfortunate consequences. First, it fails to repaint the button I pressed to launch the message. This happens on any L&amp;F. This is probably because that component goes from focussed to unfocussed, and needs repainting. Second, only on the Mac, it fails to paint any of the buttons or checkboxes. I think they&#39;re all getting invalidated, which is why they need to be repainted. I&#39;ve been trying to fix this but it doesn&#39;t look promising.","body":"@weisj Well, that was a very clever suggestion. While this does fix he delay, it has two unfortunate consequences. First, it fails to repaint the button I pressed to launch the message. This happens on any L&amp;F. This is probably because that component goes from focussed to unfocussed, and needs repainting. Second, only on the Mac, it fails to paint any of the buttons or checkboxes. I think they&#39;re all getting invalidated, which is why they need to be repainted. I&#39;ve been trying to fix this but it doesn&#39;t look promising."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1633912967,"post_id":69514258,"comment_id":122878930,"body_markdown":"@weisj BTW, would you agree that this is a bug in the Aqua L&amp;F?","body":"@weisj BTW, would you agree that this is a bug in the Aqua L&amp;F?"},{"owner":{"account_id":16838121,"reputation":952,"user_id":12174160,"display_name":"weisj"},"score":0,"creation_date":1633957343,"post_id":69514258,"comment_id":122890789,"body_markdown":"Components not being painted at seems very weird to me. Though the button still being focused should be avoidable by simply changing the blur state in SwingUtilities#invokeLater to ensure it happens after focus has moved to the dialog. Sadly I don&#39;t have easy access to a Mac so I can’t debug the problem myself.","body":"Components not being painted at seems very weird to me. Though the button still being focused should be avoidable by simply changing the blur state in SwingUtilities#invokeLater to ensure it happens after focus has moved to the dialog. Sadly I don&#39;t have easy access to a Mac so I can’t debug the problem myself."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1634204192,"post_id":69514258,"comment_id":122964535,"body_markdown":"At first, it looked like your fix worked. But when I tried it in an actual application, it didn&#39;t work. I don&#39;t yet know why it works in the test case but not in the application, but when I figure it out, I may need to revise my test case. This isn&#39;t over.","body":"At first, it looked like your fix worked. But when I tried it in an actual application, it didn&#39;t work. I don&#39;t yet know why it works in the test case but not in the application, but when I figure it out, I may need to revise my test case. This isn&#39;t over."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1651313458,"post_id":69514258,"comment_id":127338369,"body_markdown":"I have since realized that one reason why this is only an issue with Aqua is that Aqua is the only L&amp;F that paints the checkboxes one way when the window has the focus, and another way when it doesn&#39;t. This hasn&#39;t led me to a solution yet, but I&#39;m still looking.","body":"I have since realized that one reason why this is only an issue with Aqua is that Aqua is the only L&amp;F that paints the checkboxes one way when the window has the focus, and another way when it doesn&#39;t. This hasn&#39;t led me to a solution yet, but I&#39;m still looking."},{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1697493544,"post_id":69514258,"comment_id":136284485,"body_markdown":"Although I&#39;d say let the L&amp;F paint the blur effect if that&#39;s what the system would normally do.","body":"Although I&#39;d say let the L&amp;F paint the blur effect if that&#39;s what the system would normally do."},{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1697496337,"post_id":69514258,"comment_id":136284764,"body_markdown":"There definitely seems to be a strange thing happening with the repainting of those checkboxes. Even with the blur disabled, the repaint is quite slow. I&#39;d say you should identify why its repainting all those checkboxes like that.","body":"There definitely seems to be a strange thing happening with the repainting of those checkboxes. Even with the blur disabled, the repaint is quite slow. I&#39;d say you should identify why its repainting all those checkboxes like that."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1698655047,"post_id":69514258,"comment_id":136427992,"body_markdown":"@Charlie identifying why it&#39;s repainting them is easier said than done. I don&#39;t have the source code for Apples Aqua L&amp;F, and decompiling it produces arcane code that&#39;s tough to understand.","body":"@Charlie identifying why it&#39;s repainting them is easier said than done. I don&#39;t have the source code for Apples Aqua L&amp;F, and decompiling it produces arcane code that&#39;s tough to understand."},{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1698683713,"post_id":69514258,"comment_id":136433521,"body_markdown":"@MiguelMunoz Undersood and agreed it would be difficult. I&#39;ve had luck in the past working around that a bit. For example, seems something is calling Component.repaint(), which is queuing the repaint. The stack traces to to the repaint don&#39;t include the call to repaint() which is the tricky part. A break point on the repaint() call might help.","body":"@MiguelMunoz Undersood and agreed it would be difficult. I&#39;ve had luck in the past working around that a bit. For example, seems something is calling Component.repaint(), which is queuing the repaint. The stack traces to to the repaint don&#39;t include the call to repaint() which is the tricky part. A break point on the repaint() call might help."}],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1635762220,"creation_date":1633860878,"question_id":69514258,"body_markdown":"I&#39;m having a serious performance issue using a JLayer to do special drawing, but only under the AquaLookAndFeel on Macintosh. Using any other look and feel, the performance is fine. \r\n\r\nHere&#39;s the scoop:\r\n\r\nI have a test case that blurs the main window when a child dialog pops up above it. On most L&amp;Fs it works fine. On Aqua, it takes five seconds to draw, and the screen is frozen the whole time. I can press OK to dismiss the dialog, but it doesn&#39;t respond until it&#39;s done drawing. And the reason it takes so long to draw is because Aqua is firing multiple paint events. For every component that might change its visual state, it fires a paint event. So it redraws the entire window, using the blur effect, once for each of the twelve JButtons or Checkboxes in the window. The blur effect takes about one third of a second to draw, but it takes about 5 seconds with all the repaints.\r\n\r\nUnder any other look and feel, only two paint events are fired, so the performance is acceptable.\r\n\r\nTo see this in action, run the test case at https://github.com/SwingGuy1024/Bugs/blob/main/AquaPaintBug.java\r\n\r\nIt lets you try it under different looks-and-feels. It runs fine on all but Aqua.\r\n\r\nHas anyone else seen this? Does anyone know of a workaround? Is this a bug in Aqua, or am I missing something? If I can&#39;t use JLayer to enhance the drawing of a component, the JLayer is useless for drawing.\r\n\r\n*Note: I think this is partly caused by a PropertyChangeListener that gets set by the AquaRootPaneUI class, on a property called `AquaFocusHandler.FRAME_ACTIVE_PROPERTY`, which is defined as &quot;Frame.active&quot;. This seems to get activated when the window&#39;s active state changes, which is what happens when a dialog opens up. This explains why it repaints all the JCheckBoxes, but doesn&#39;t explain why they each get a separate paint event.*","title":"Serious Performance issue using JLayer drawing with AquaLookAndFeel","body":"<p>I'm having a serious performance issue using a JLayer to do special drawing, but only under the AquaLookAndFeel on Macintosh. Using any other look and feel, the performance is fine.</p>\n<p>Here's the scoop:</p>\n<p>I have a test case that blurs the main window when a child dialog pops up above it. On most L&amp;Fs it works fine. On Aqua, it takes five seconds to draw, and the screen is frozen the whole time. I can press OK to dismiss the dialog, but it doesn't respond until it's done drawing. And the reason it takes so long to draw is because Aqua is firing multiple paint events. For every component that might change its visual state, it fires a paint event. So it redraws the entire window, using the blur effect, once for each of the twelve JButtons or Checkboxes in the window. The blur effect takes about one third of a second to draw, but it takes about 5 seconds with all the repaints.</p>\n<p>Under any other look and feel, only two paint events are fired, so the performance is acceptable.</p>\n<p>To see this in action, run the test case at <a href=\"https://github.com/SwingGuy1024/Bugs/blob/main/AquaPaintBug.java\" rel=\"nofollow noreferrer\">https://github.com/SwingGuy1024/Bugs/blob/main/AquaPaintBug.java</a></p>\n<p>It lets you try it under different looks-and-feels. It runs fine on all but Aqua.</p>\n<p>Has anyone else seen this? Does anyone know of a workaround? Is this a bug in Aqua, or am I missing something? If I can't use JLayer to enhance the drawing of a component, the JLayer is useless for drawing.</p>\n<p><em>Note: I think this is partly caused by a PropertyChangeListener that gets set by the AquaRootPaneUI class, on a property called <code>AquaFocusHandler.FRAME_ACTIVE_PROPERTY</code>, which is defined as &quot;Frame.active&quot;. This seems to get activated when the window's active state changes, which is what happens when a dialog opens up. This explains why it repaints all the JCheckBoxes, but doesn't explain why they each get a separate paint event.</em></p>\n"},{"tags":["java","swing","jframe","jpanel"],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635761975,"creation_date":1635761083,"answer_id":69795343,"question_id":69795235,"body_markdown":"When you do `ip = new ImagePanel(&quot;new_image.jpg&quot;);` you&#39;re creating a whole new ImagePanel that has nothing to do with your current layout. You could.\r\n\r\n    remove(ip);\r\n    ip = new ImagePanel(&quot;new_image.jpg&quot;);\r\n    add(ip);\r\n    repaint();\r\n\r\nAnother way you could do it is to just change the buffered image.\r\n\r\nAdd the following method to your image panel.\r\n\r\n    public void loadImage(String dateiname) {\r\n        try {\r\n            bf = ImageIO.read(new File(dateiname));\r\n\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThen in your action listener.\r\n \r\n    ip.loadNewImage(&quot;new_image.jpg&quot;);\r\n    ip.repaint();\r\n\r\nYou have a bunch of bad habits going on in your code though.\r\n\r\nSuch as, override paintComponent instead of paint and it should look like.\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        g.drawImage(bf.getScaledInstance(300,200,1),0,0,null );\r\n    }\r\n\r\nThat way transparency will be handled correctly.\r\n\r\nYou shouldn&#39;t extend JFrame, you should just create a JFrame. \r\n\r\nWhen you add components, you there is a layout manager involved. It&#39;s good to be aware of that and handle things accordingly. I would change your constructor to.\r\n\r\n```\r\npublic Hauptfenster() {\r\n\r\n    JFrame frame = new JFrame();\r\n    ip = new ImagePanel(&quot;first_image.jpg&quot;);\r\n    buttonPanel = new JPanel();\r\n    changeImage = new JButton(&quot;change image&quot;);\r\n    buttonPanel.add(changeImage);\r\n\r\n    changeImage.addActionListener((e) -&gt; {\r\n        frame.remove(ip);\r\n        ip = new ImagePanel(&quot;new_image.jpg&quot;);\r\n        frame.add(ip, BorderLayout.CENTER);\r\n        frame.repaint();\r\n    });\r\n    frame.add(buttonPanel, BorderLayout.SOUTH);\r\n    frame.add(ip, BorderLayout.CENTER);\r\n    frame.setVisible(true);\r\n}\r\n```\r\n\r\n\r\nIf you need more help, you&#39;ll need to actually make your example compilable. There are too many errors right now.","title":"How can a JPanel be changed after added to JFrame?","body":"<p>When you do <code>ip = new ImagePanel(&quot;new_image.jpg&quot;);</code> you're creating a whole new ImagePanel that has nothing to do with your current layout. You could.</p>\n<pre><code>remove(ip);\nip = new ImagePanel(&quot;new_image.jpg&quot;);\nadd(ip);\nrepaint();\n</code></pre>\n<p>Another way you could do it is to just change the buffered image.</p>\n<p>Add the following method to your image panel.</p>\n<pre><code>public void loadImage(String dateiname) {\n    try {\n        bf = ImageIO.read(new File(dateiname));\n\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Then in your action listener.</p>\n<pre><code>ip.loadNewImage(&quot;new_image.jpg&quot;);\nip.repaint();\n</code></pre>\n<p>You have a bunch of bad habits going on in your code though.</p>\n<p>Such as, override paintComponent instead of paint and it should look like.</p>\n<pre><code>@Override\npublic void paintComponent(Graphics g){\n    super.paintComponent(g);\n    g.drawImage(bf.getScaledInstance(300,200,1),0,0,null );\n}\n</code></pre>\n<p>That way transparency will be handled correctly.</p>\n<p>You shouldn't extend JFrame, you should just create a JFrame.</p>\n<p>When you add components, you there is a layout manager involved. It's good to be aware of that and handle things accordingly. I would change your constructor to.</p>\n<pre><code>public Hauptfenster() {\n\n    JFrame frame = new JFrame();\n    ip = new ImagePanel(&quot;first_image.jpg&quot;);\n    buttonPanel = new JPanel();\n    changeImage = new JButton(&quot;change image&quot;);\n    buttonPanel.add(changeImage);\n\n    changeImage.addActionListener((e) -&gt; {\n        frame.remove(ip);\n        ip = new ImagePanel(&quot;new_image.jpg&quot;);\n        frame.add(ip, BorderLayout.CENTER);\n        frame.repaint();\n    });\n    frame.add(buttonPanel, BorderLayout.SOUTH);\n    frame.add(ip, BorderLayout.CENTER);\n    frame.setVisible(true);\n}\n</code></pre>\n<p>If you need more help, you'll need to actually make your example compilable. There are too many errors right now.</p>\n"}],"owner":{"account_id":23204145,"reputation":3,"user_id":17298601,"display_name":"huel4444"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69795343,"answer_count":1,"score":0,"last_activity_date":1635761975,"creation_date":1635760549,"question_id":69795235,"body_markdown":"I have created a subclass of JPanel to display images. I instantiate this in the constructor of a JFrame and add it to that JFrame. This works perfectly. Then I have added a button with an ActionListener to change that Image. My problem is that the JFrame won&#180;t update although I have tried repainting etc.\r\n\r\nThe subclass of JPanel: \r\n```\r\npublic class ImagePanel extends JPanel {\r\n\r\n    BufferedImage bf;\r\n    public ImagePanel(String dateiname)\r\n    {\r\n        try {\r\n            bf = ImageIO.read(new File(dateiname));\r\n\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void paint(Graphics g)\r\n    {\r\n        g.drawImage(bf.getScaledInstance(300,200,1),0,0,null );\r\n    }\r\n}\r\n```\r\n\r\nThe JFrame is basically this\r\n```\r\npublic class Hauptfenster extends JFrame {\r\n\r\nprivate JButton changeImage;\r\nprivate JPanel buttonPanel;\r\nprivate ImagePanel ip;\r\n\r\n\r\npublic Hauptfenster {\r\n\r\nip = new ImagePanel(&quot;first_image.jpg&quot;);\r\n\r\nbuttonPanel = new JPanel();\r\nbuttonPanel.add(changeImage);\r\n\r\nchangeImage.addActionListener((e) -&gt; {\r\n\r\nip = new ImagePanel(&quot;new_image.jpg&quot;);\r\nip.setVisible(true);\r\n\r\n\r\n});\r\n\r\n\r\nthis.add(buttonPanel);\r\nthis.add(ip);\r\nthis.setVisible(true);\r\n\r\n}\r\n\r\n}\r\n\r\n```\r\nWhy doesn&#180;t the method in the ActionListener update the ip component in the JFrame Hauptfenster?\r\n\r\n","title":"How can a JPanel be changed after added to JFrame?","body":"<p>I have created a subclass of JPanel to display images. I instantiate this in the constructor of a JFrame and add it to that JFrame. This works perfectly. Then I have added a button with an ActionListener to change that Image. My problem is that the JFrame won´t update although I have tried repainting etc.</p>\n<p>The subclass of JPanel:</p>\n<pre><code>public class ImagePanel extends JPanel {\n\n    BufferedImage bf;\n    public ImagePanel(String dateiname)\n    {\n        try {\n            bf = ImageIO.read(new File(dateiname));\n\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void paint(Graphics g)\n    {\n        g.drawImage(bf.getScaledInstance(300,200,1),0,0,null );\n    }\n}\n</code></pre>\n<p>The JFrame is basically this</p>\n<pre><code>public class Hauptfenster extends JFrame {\n\nprivate JButton changeImage;\nprivate JPanel buttonPanel;\nprivate ImagePanel ip;\n\n\npublic Hauptfenster {\n\nip = new ImagePanel(&quot;first_image.jpg&quot;);\n\nbuttonPanel = new JPanel();\nbuttonPanel.add(changeImage);\n\nchangeImage.addActionListener((e) -&gt; {\n\nip = new ImagePanel(&quot;new_image.jpg&quot;);\nip.setVisible(true);\n\n\n});\n\n\nthis.add(buttonPanel);\nthis.add(ip);\nthis.setVisible(true);\n\n}\n\n}\n\n</code></pre>\n<p>Why doesn´t the method in the ActionListener update the ip component in the JFrame Hauptfenster?</p>\n"},{"tags":["java","string","period","datetime-parsing"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1635477731,"post_id":69759329,"comment_id":123314735,"body_markdown":"I recommend that you don’t use simple `int` variables for your period. Use a `java.time.Period`. It will make more sense. You can trivially retrieve the numbers from the `Period` in case you should need to. See the answer by Arvind Kumar Avinash.","body":"I recommend that you don’t use simple <code>int</code> variables for your period. Use a <code>java.time.Period</code>. It will make more sense. You can trivially retrieve the numbers from the <code>Period</code> in case you should need to. See the answer by Arvind Kumar Avinash."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635447395,"creation_date":1635447395,"answer_id":69759500,"question_id":69759329,"body_markdown":"I would suggest a regex approach to find each part one by one, as the order may vary\r\n\r\n    static void parse(String value) {\r\n        int year = 0, month = 0, day = 0;\r\n        Matcher m;\r\n        if ((m = year_ptn.matcher(value)).find())\r\n            year = Integer.parseInt(m.group(1));\r\n        if ((m = month_ptn.matcher(value)).find())\r\n            month = Integer.parseInt(m.group(1));\r\n        if ((m = day_ptn.matcher(value)).find())\r\n            day = Integer.parseInt(m.group(1));\r\n\r\n        System.out.format(&quot;y=%2s  m=%2s  d=%2s\\n&quot;, year, month, day);\r\n    }\r\n\r\n    static Pattern year_ptn = Pattern.compile(&quot;(\\\\d+)\\\\s+year&quot;);\r\n    static Pattern month_ptn = Pattern.compile(&quot;(\\\\d+)\\\\s+month&quot;);\r\n    static Pattern day_ptn = Pattern.compile(&quot;(\\\\d+)\\\\s+day&quot;);\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; values = Arrays.asList(&quot;1 years, 2 months, 22 days&quot;, &quot;1 years, 1 months, 14 days&quot;,\r\n                &quot;1 months, 1 years, 14 days&quot;, &quot;4 years, 24 days&quot;, &quot;13 years, 21 days&quot;, &quot;9 months, 1 day&quot;);\r\n\r\n        for (String s : values) {\r\n            parse(s);\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- --&gt;\r\n\r\n    y= 1  m= 2  d=22\r\n    y= 1  m= 1  d=14\r\n    y= 1  m= 1  d=14\r\n    y= 4  m= 0  d=24\r\n    y=13  m= 0  d=21\r\n    y= 0  m= 9  d= 1","title":"How to extract 3 numbers from a String","body":"<p>I would suggest a regex approach to find each part one by one, as the order may vary</p>\n<pre><code>static void parse(String value) {\n    int year = 0, month = 0, day = 0;\n    Matcher m;\n    if ((m = year_ptn.matcher(value)).find())\n        year = Integer.parseInt(m.group(1));\n    if ((m = month_ptn.matcher(value)).find())\n        month = Integer.parseInt(m.group(1));\n    if ((m = day_ptn.matcher(value)).find())\n        day = Integer.parseInt(m.group(1));\n\n    System.out.format(&quot;y=%2s  m=%2s  d=%2s\\n&quot;, year, month, day);\n}\n\nstatic Pattern year_ptn = Pattern.compile(&quot;(\\\\d+)\\\\s+year&quot;);\nstatic Pattern month_ptn = Pattern.compile(&quot;(\\\\d+)\\\\s+month&quot;);\nstatic Pattern day_ptn = Pattern.compile(&quot;(\\\\d+)\\\\s+day&quot;);\n\npublic static void main(String[] args) {\n    List&lt;String&gt; values = Arrays.asList(&quot;1 years, 2 months, 22 days&quot;, &quot;1 years, 1 months, 14 days&quot;,\n            &quot;1 months, 1 years, 14 days&quot;, &quot;4 years, 24 days&quot;, &quot;13 years, 21 days&quot;, &quot;9 months, 1 day&quot;);\n\n    for (String s : values) {\n        parse(s);\n    }\n}\n</code></pre>\n\n<pre><code>y= 1  m= 2  d=22\ny= 1  m= 1  d=14\ny= 1  m= 1  d=14\ny= 4  m= 0  d=24\ny=13  m= 0  d=21\ny= 0  m= 9  d= 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8781258,"reputation":291,"user_id":6564819,"display_name":"Eden Katabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635447544,"creation_date":1635447544,"answer_id":69759531,"question_id":69759329,"body_markdown":"Not really a java programmer but, you can just iterate over the string and do the following.\r\nInt iterator =0;\r\n While(iterator!=str.length)\r\n1.Create a new empty string.\r\n\r\n2.If the current char is a number add it to the string \r\n  advance the iterator and Repeat phase 2.\r\n\r\n3. else if the current char is not a number do the following.\r\n  3.1. Convert the string you created to a number\r\n  3.2 if the current char is &#39;y&#39; its the years, &#39;m&#39; months &#39;d&#39; days.\r\n\r\n4. Move the iterator to the next first number position.\r\n\r\nYou should have all the numbers corrolated to the years,months,days","title":"How to extract 3 numbers from a String","body":"<p>Not really a java programmer but, you can just iterate over the string and do the following.\nInt iterator =0;\nWhile(iterator!=str.length)\n1.Create a new empty string.</p>\n<p>2.If the current char is a number add it to the string\nadvance the iterator and Repeat phase 2.</p>\n<ol start=\"3\">\n<li><p>else if the current char is not a number do the following.\n3.1. Convert the string you created to a number\n3.2 if the current char is 'y' its the years, 'm' months 'd' days.</p>\n</li>\n<li><p>Move the iterator to the next first number position.</p>\n</li>\n</ol>\n<p>You should have all the numbers corrolated to the years,months,days</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635447758,"creation_date":1635447758,"answer_id":69759560,"question_id":69759329,"body_markdown":"I would simply use a `switch` block for this.\r\n\r\n\tint years = 0, months = 0, days = 0;\r\n\r\n\tString[] fields = s1.split(&quot;, +&quot;);\r\n\tfor (String field : fields) {\r\n\t\tString[] parts = field.split(&quot; &quot;);\r\n\t\tint value = Integer.parseInt(parts[0]);\r\n\r\n\t\tswitch (parts[1]) {\r\n\t\t\tcase &quot;year&quot;:\r\n\t\t\tcase &quot;years&quot;:\r\n\t\t\t\tyears = value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;month&quot;:\r\n\t\t\tcase &quot;months&quot;:\r\n\t\t\t\tmonths = value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;day&quot;:\r\n\t\t\tcase &quot;days&quot;:\r\n\t\t\t\tdays = value;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Unknown time unit: &quot; + parts[1]);\r\n\t\t}\r\n\t}","title":"How to extract 3 numbers from a String","body":"<p>I would simply use a <code>switch</code> block for this.</p>\n<pre><code>int years = 0, months = 0, days = 0;\n\nString[] fields = s1.split(&quot;, +&quot;);\nfor (String field : fields) {\n    String[] parts = field.split(&quot; &quot;);\n    int value = Integer.parseInt(parts[0]);\n\n    switch (parts[1]) {\n        case &quot;year&quot;:\n        case &quot;years&quot;:\n            years = value;\n            break;\n        case &quot;month&quot;:\n        case &quot;months&quot;:\n            months = value;\n            break;\n        case &quot;day&quot;:\n        case &quot;days&quot;:\n            days = value;\n            break;\n        default:\n            throw new IllegalArgumentException(&quot;Unknown time unit: &quot; + parts[1]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635467166,"creation_date":1635447870,"answer_id":69759582,"question_id":69759329,"body_markdown":"### Solution using `java.time` API:\r\n\r\nI recommend you use [`java.time.Period`](https://docs.oracle.com/javase/8/docs/api/java/time/Period.html) which is modelled on [ISO-8601 standards](https://en.wikipedia.org/wiki/ISO_8601#Durations) and was introduced with *Java-8* as part of [JSR-310 implementation](https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html).\r\n\r\n**Demo:**\r\n\r\n    import java.time.Period;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] arr = { &quot;1 years, 2 months, 22 days&quot;, &quot;1 years, 1 months, 14 days&quot;, &quot;4 years, 24 days&quot;,\r\n    \t\t\t\t&quot;13 years, 21 days&quot;, &quot;9 months, 1 day&quot; };\r\n    \r\n    \t\tList&lt;Period&gt; periodList = \r\n    \t\t\t\tArrays.stream(arr)\r\n    \t\t\t\t\t.map(s -&gt; Period.parse( \r\n    \t\t\t\t\t\t\t\t&quot;P&quot; + s.replaceAll(&quot;[\\\\s+,]&quot;, &quot;&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t.replaceAll(&quot;years?&quot;,&quot;Y&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t.replaceAll(&quot;months?&quot;, &quot;M&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t.replaceAll(&quot;days?&quot;, &quot;D&quot;)\r\n    \t\t\t\t\t\t\t)\r\n    \t\t\t\t\t)\r\n    \t\t\t\t\t.collect(Collectors.toList());\r\n    \t\t\r\n    \t\tSystem.out.println(periodList);\r\n    \t\t\r\n    \t\t// Now you can retrieve year,  month and day from the Period e.g.\r\n    \t\tperiodList.forEach(p -&gt; \r\n    \t\t\tSystem.out.println(\r\n    \t\t\t\t\tp + &quot; =&gt; &quot; + \r\n    \t\t\t\t\tp.getYears() + &quot; years &quot; + \r\n    \t\t\t\t\tp.getMonths() + &quot; months &quot;+ \r\n    \t\t\t\t\tp.getDays() +&quot; days&quot;\r\n    \t\t\t)\r\n    \t\t);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [P1Y2M22D, P1Y1M14D, P4Y24D, P13Y21D, P9M1D]\r\n    P1Y2M22D =&gt; 1 years 2 months 22 days\r\n    P1Y1M14D =&gt; 1 years 1 months 14 days\r\n    P4Y24D =&gt; 4 years 0 months 24 days\r\n    P13Y21D =&gt; 13 years 0 months 21 days\r\n    P9M1D =&gt; 0 years 9 months 1 days\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n### Solution using Java RegEx API:\r\n\r\nAnother way of doing it can be by using [`Matcher#find`](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#find--).\r\n\r\n**Demo:**\r\n\r\n    import java.util.Arrays;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] arr = { &quot;1 years, 2 months, 22 days&quot;, &quot;1 years, 1 months, 14 days&quot;, &quot;4 years, 24 days&quot;,\r\n    \t\t\t\t&quot;13 years, 21 days&quot;, &quot;9 months, 1 day&quot; };\r\n    \r\n    \t\tint[] years = new int[arr.length];\r\n    \t\tint[] months = new int[arr.length];\r\n    \t\tint[] days = new int[arr.length];\r\n    \r\n    \t\tPattern yearPattern = Pattern.compile(&quot;\\\\d+(?= year(?:s)?)&quot;);\r\n    \t\tPattern monthPattern = Pattern.compile(&quot;\\\\d+(?= month(?:s)?)&quot;);\r\n    \t\tPattern dayPattern = Pattern.compile(&quot;\\\\d+(?= day(?:s)?)&quot;);\r\n    \r\n    \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\t\tMatcher yearMatcher = yearPattern.matcher(arr[i]);\r\n    \t\t\tMatcher monthMatcher = monthPattern.matcher(arr[i]);\r\n    \t\t\tMatcher dayMatcher = dayPattern.matcher(arr[i]);\r\n    \r\n    \t\t\tyears[i] = yearMatcher.find() ? Integer.parseInt(yearMatcher.group()) : 0;\r\n    \t\t\tmonths[i] = monthMatcher.find() ? Integer.parseInt(monthMatcher.group()) : 0;\r\n    \t\t\tdays[i] = dayMatcher.find() ? Integer.parseInt(dayMatcher.group()) : 0;\r\n    \t\t}\r\n    \r\n    \t\t// Display\r\n    \t\tSystem.out.println(Arrays.toString(years));\r\n    \t\tSystem.out.println(Arrays.toString(months));\r\n    \t\tSystem.out.println(Arrays.toString(days));\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    [1, 1, 4, 13, 0]\r\n    [2, 1, 0, 0, 9]\r\n    [22, 14, 24, 21, 1]\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][2]\r\n\r\n**Explanation of the regex**:\r\n\r\n  - `\\d+`: One or more digits\r\n  - `(?=` : Start of lookahead assertion pattern\r\n    - ` year` : A whitespace character followed by `year`\r\n    - `(?:s)?` : Optional character, `s`\r\n  - `)` : End of lookahead assertion pattern\r\n\r\nCheck this [regex demo](https://regex101.com/r/mcJuER/1) to understand the regex more closely.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/5966TZ\r\n  [2]: https://ideone.com/MamLcF\r\n","title":"How to extract 3 numbers from a String","body":"<h3>Solution using <code>java.time</code> API:</h3>\n<p>I recommend you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Period.html\" rel=\"nofollow noreferrer\"><code>java.time.Period</code></a> which is modelled on <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO-8601 standards</a> and was introduced with <em>Java-8</em> as part of <a href=\"https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\" rel=\"nofollow noreferrer\">JSR-310 implementation</a>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Period;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        String[] arr = { &quot;1 years, 2 months, 22 days&quot;, &quot;1 years, 1 months, 14 days&quot;, &quot;4 years, 24 days&quot;,\n                &quot;13 years, 21 days&quot;, &quot;9 months, 1 day&quot; };\n\n        List&lt;Period&gt; periodList = \n                Arrays.stream(arr)\n                    .map(s -&gt; Period.parse( \n                                &quot;P&quot; + s.replaceAll(&quot;[\\\\s+,]&quot;, &quot;&quot;)\n                                        .replaceAll(&quot;years?&quot;,&quot;Y&quot;)\n                                        .replaceAll(&quot;months?&quot;, &quot;M&quot;)\n                                        .replaceAll(&quot;days?&quot;, &quot;D&quot;)\n                            )\n                    )\n                    .collect(Collectors.toList());\n        \n        System.out.println(periodList);\n        \n        // Now you can retrieve year,  month and day from the Period e.g.\n        periodList.forEach(p -&gt; \n            System.out.println(\n                    p + &quot; =&gt; &quot; + \n                    p.getYears() + &quot; years &quot; + \n                    p.getMonths() + &quot; months &quot;+ \n                    p.getDays() +&quot; days&quot;\n            )\n        );\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[P1Y2M22D, P1Y1M14D, P4Y24D, P13Y21D, P9M1D]\nP1Y2M22D =&gt; 1 years 2 months 22 days\nP1Y1M14D =&gt; 1 years 1 months 14 days\nP4Y24D =&gt; 4 years 0 months 24 days\nP13Y21D =&gt; 13 years 0 months 21 days\nP9M1D =&gt; 0 years 9 months 1 days\n</code></pre>\n<p><a href=\"https://ideone.com/5966TZ\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<h3>Solution using Java RegEx API:</h3>\n<p>Another way of doing it can be by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#find--\" rel=\"nofollow noreferrer\"><code>Matcher#find</code></a>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.util.Arrays;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String[] arr = { &quot;1 years, 2 months, 22 days&quot;, &quot;1 years, 1 months, 14 days&quot;, &quot;4 years, 24 days&quot;,\n                &quot;13 years, 21 days&quot;, &quot;9 months, 1 day&quot; };\n\n        int[] years = new int[arr.length];\n        int[] months = new int[arr.length];\n        int[] days = new int[arr.length];\n\n        Pattern yearPattern = Pattern.compile(&quot;\\\\d+(?= year(?:s)?)&quot;);\n        Pattern monthPattern = Pattern.compile(&quot;\\\\d+(?= month(?:s)?)&quot;);\n        Pattern dayPattern = Pattern.compile(&quot;\\\\d+(?= day(?:s)?)&quot;);\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            Matcher yearMatcher = yearPattern.matcher(arr[i]);\n            Matcher monthMatcher = monthPattern.matcher(arr[i]);\n            Matcher dayMatcher = dayPattern.matcher(arr[i]);\n\n            years[i] = yearMatcher.find() ? Integer.parseInt(yearMatcher.group()) : 0;\n            months[i] = monthMatcher.find() ? Integer.parseInt(monthMatcher.group()) : 0;\n            days[i] = dayMatcher.find() ? Integer.parseInt(dayMatcher.group()) : 0;\n        }\n\n        // Display\n        System.out.println(Arrays.toString(years));\n        System.out.println(Arrays.toString(months));\n        System.out.println(Arrays.toString(days));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[1, 1, 4, 13, 0]\n[2, 1, 0, 0, 9]\n[22, 14, 24, 21, 1]\n</code></pre>\n<p><a href=\"https://ideone.com/MamLcF\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p><strong>Explanation of the regex</strong>:</p>\n<ul>\n<li><code>\\d+</code>: One or more digits</li>\n<li><code>(?=</code> : Start of lookahead assertion pattern\n<ul>\n<li><code> year</code> : A whitespace character followed by <code>year</code></li>\n<li><code>(?:s)?</code> : Optional character, <code>s</code></li>\n</ul>\n</li>\n<li><code>)</code> : End of lookahead assertion pattern</li>\n</ul>\n<p>Check this <a href=\"https://regex101.com/r/mcJuER/1\" rel=\"nofollow noreferrer\">regex demo</a> to understand the regex more closely.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635493161,"creation_date":1635449415,"answer_id":69759854,"question_id":69759329,"body_markdown":"I would use one regular expression, if the fields must be given in the sequence `years`, `months`, `days`:\r\n````java\r\nvar pattern = Pattern.compile(&quot;(?:(\\\\d+) years?),? ?(?:(\\\\d+) months?),? ?(?:(\\\\d+) days?)&quot;);\r\nvar matcher = pattern.matcher(duracao);\r\nif (matcher.matches()) {\r\n    var anos = Integer.parseInt(Objects.requireNonNullElse(matcher.group(1), &quot;0&quot;));    \r\n    var meses = Integer.parseInt(Objects.requireNonNullElse(matcher.group(2), &quot;0&quot;));\r\n    var dias = Integer.parseInt(Objects.requireNonNullElse(matcher.group(3), &quot;0&quot;));\r\n    ...\r\n} else {\r\n    // mensagem de erro\r\n}\r\n````","title":"How to extract 3 numbers from a String","body":"<p>I would use one regular expression, if the fields must be given in the sequence <code>years</code>, <code>months</code>, <code>days</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var pattern = Pattern.compile(&quot;(?:(\\\\d+) years?),? ?(?:(\\\\d+) months?),? ?(?:(\\\\d+) days?)&quot;);\nvar matcher = pattern.matcher(duracao);\nif (matcher.matches()) {\n    var anos = Integer.parseInt(Objects.requireNonNullElse(matcher.group(1), &quot;0&quot;));    \n    var meses = Integer.parseInt(Objects.requireNonNullElse(matcher.group(2), &quot;0&quot;));\n    var dias = Integer.parseInt(Objects.requireNonNullElse(matcher.group(3), &quot;0&quot;));\n    ...\n} else {\n    // mensagem de erro\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23163786,"reputation":56,"user_id":17264056,"display_name":"Susanne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635761780,"creation_date":1635761305,"answer_id":69795388,"question_id":69759329,"body_markdown":"Here is another possibility to extract the amount of years,months, days of an item in the list of strings that you have.\r\n\r\nI suggest to use a map of regular expressions and a function to match the regular expressions and return the result as a map of [ChronoUnit][1] | amount pairs.\r\n\r\nHere is some sample code to illustrate my suggestion.\r\n\r\n\r\n     private static final Map&lt;ChronoUnit,String&gt; durationRegexMap = Map.ofEntries(\r\n            Map.entry(ChronoUnit.YEARS,&quot;\\\\d+ (years|year)&quot;),\r\n            Map.entry(ChronoUnit.MONTHS,&quot;\\\\d+ (months|month)&quot;),\r\n            Map.entry(ChronoUnit.DAYS, &quot;\\\\d+ (days|day)&quot;)\r\n    );\r\n\r\n    private Map&lt;ChronoUnit, Integer&gt; parseDuration(String durationString) {\r\n        return new MapStringToChronoUnitsFunction(durationRegexMap)\r\n                .apply(durationString);\r\n    }\r\n\r\n    class MapStringToChronoUnitsFunction implements Function&lt;String, Map&lt;ChronoUnit, Integer&gt;&gt; {\r\n\r\n        Map&lt;ChronoUnit,String&gt; durationRegexMap = new HashMap&lt;&gt;();\r\n\r\n        public MapStringToChronoUnitsFunction(Map&lt;ChronoUnit,String&gt; durationByRegex) {\r\n            durationRegexMap.putAll(durationByRegex);\r\n        }\r\n\r\n        @Override\r\n        public Map&lt;ChronoUnit, Integer&gt; apply(String textWithDurations) {\r\n            String[] splittedTextWithDurations = textWithDurations.split(&quot;,&quot;);\r\n\r\n            return this.durationRegexMap.entrySet().stream()\r\n                    .flatMap(regex -&gt; Arrays.stream(splittedTextWithDurations)\r\n                            .map(String::trim)\r\n                            .filter(trimmedDurationString -&gt; trimmedDurationString.matches(regex.getValue()))\r\n                            .map(matchingTrimmedDurationString -&gt; matchingTrimmedDurationString.replaceAll(&quot;\\\\w+[a-zA-Z]&quot;, &quot; &quot;))\r\n                            .map(String::trim)\r\n                            .map(t -&gt; Map.entry(regex.getKey(),Integer.valueOf(t))))\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n        }\r\n    }\r\n\r\n\r\nThe function call would look like this\r\n\r\n    Map&lt;ChronoUnit, Integer&gt; durationList = chronoUnitsMapper.parseDuration(&quot;1 years, 2 months, 22 days&quot;);\r\n\r\n \r\nThe function `MapStringToChronoUnitsFunction` runs through the regular expressions that are registered in `durationRegexMap`. It matches each comma separated part of an input string against a regular expression and returns the match result as `ChronoUnit` and value pair.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/11/docs/api/java/time/temporal/ChronoUnit.html","title":"How to extract 3 numbers from a String","body":"<p>Here is another possibility to extract the amount of years,months, days of an item in the list of strings that you have.</p>\n<p>I suggest to use a map of regular expressions and a function to match the regular expressions and return the result as a map of <a href=\"https://docs.oracle.com/javase/11/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"nofollow noreferrer\">ChronoUnit</a> | amount pairs.</p>\n<p>Here is some sample code to illustrate my suggestion.</p>\n<pre><code> private static final Map&lt;ChronoUnit,String&gt; durationRegexMap = Map.ofEntries(\n        Map.entry(ChronoUnit.YEARS,&quot;\\\\d+ (years|year)&quot;),\n        Map.entry(ChronoUnit.MONTHS,&quot;\\\\d+ (months|month)&quot;),\n        Map.entry(ChronoUnit.DAYS, &quot;\\\\d+ (days|day)&quot;)\n);\n\nprivate Map&lt;ChronoUnit, Integer&gt; parseDuration(String durationString) {\n    return new MapStringToChronoUnitsFunction(durationRegexMap)\n            .apply(durationString);\n}\n\nclass MapStringToChronoUnitsFunction implements Function&lt;String, Map&lt;ChronoUnit, Integer&gt;&gt; {\n\n    Map&lt;ChronoUnit,String&gt; durationRegexMap = new HashMap&lt;&gt;();\n\n    public MapStringToChronoUnitsFunction(Map&lt;ChronoUnit,String&gt; durationByRegex) {\n        durationRegexMap.putAll(durationByRegex);\n    }\n\n    @Override\n    public Map&lt;ChronoUnit, Integer&gt; apply(String textWithDurations) {\n        String[] splittedTextWithDurations = textWithDurations.split(&quot;,&quot;);\n\n        return this.durationRegexMap.entrySet().stream()\n                .flatMap(regex -&gt; Arrays.stream(splittedTextWithDurations)\n                        .map(String::trim)\n                        .filter(trimmedDurationString -&gt; trimmedDurationString.matches(regex.getValue()))\n                        .map(matchingTrimmedDurationString -&gt; matchingTrimmedDurationString.replaceAll(&quot;\\\\w+[a-zA-Z]&quot;, &quot; &quot;))\n                        .map(String::trim)\n                        .map(t -&gt; Map.entry(regex.getKey(),Integer.valueOf(t))))\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    }\n}\n</code></pre>\n<p>The function call would look like this</p>\n<pre><code>Map&lt;ChronoUnit, Integer&gt; durationList = chronoUnitsMapper.parseDuration(&quot;1 years, 2 months, 22 days&quot;);\n</code></pre>\n<p>The function <code>MapStringToChronoUnitsFunction</code> runs through the regular expressions that are registered in <code>durationRegexMap</code>. It matches each comma separated part of an input string against a regular expression and returns the match result as <code>ChronoUnit</code> and value pair.</p>\n"}],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69759582,"answer_count":6,"score":3,"last_activity_date":1635761780,"creation_date":1635446481,"question_id":69759329,"body_markdown":"I have an array of strings that contains the following:\r\n\r\n    &quot;1 years, 2 months, 22 days&quot;,\r\n    &quot;1 years, 1 months, 14 days&quot;,\r\n    &quot;4 years, 24 days&quot;,\r\n    &quot;13 years, 21 days&quot;,\r\n    &quot;9 months, 1 day&quot;;\r\n\r\nI need to extract the amount of years,months, days of each item in the list.\r\n\r\nWhat I have tried and failed:\r\n\r\n    String[] split = duracao.split(&quot;,&quot;);\r\n\r\n    if (split.length &gt;= 3) {\r\n\r\n        anos = Integer.parseInt(split[0].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\r\n        meses = Integer.parseInt(split[1].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\r\n        dias = Integer.parseInt(split[2].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\r\n    } else if (split.length &gt;= 2) {\r\n\r\n        meses = Integer.parseInt(split[0].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\r\n        dias = Integer.parseInt(split[1].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\r\n    } else if (split.length &gt;= 1) {\r\n\r\n        dias = Integer.parseInt(split[0].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\r\n    }\r\n\r\n\r\nIt doesnt work because sometimes the first item in the String is years, and sometimes its months.\r\n\r\n\r\nIs it possible to use regex to achieve what I want?\r\nTo deal with the &quot;plurarism&quot;, I can do :\r\n\r\n    duration = duration.replace(&quot;months&quot;, &quot;month&quot;);\r\n    duration = duration.replace(&quot;days&quot;, &quot;day&quot;);\r\n    duration = duration.replace(&quot;years&quot;, &quot;year&quot;);\r\n\r\n\r\nBut now How do I extract the data I need?\r\n","title":"How to extract 3 numbers from a String","body":"<p>I have an array of strings that contains the following:</p>\n<pre><code>&quot;1 years, 2 months, 22 days&quot;,\n&quot;1 years, 1 months, 14 days&quot;,\n&quot;4 years, 24 days&quot;,\n&quot;13 years, 21 days&quot;,\n&quot;9 months, 1 day&quot;;\n</code></pre>\n<p>I need to extract the amount of years,months, days of each item in the list.</p>\n<p>What I have tried and failed:</p>\n<pre><code>String[] split = duracao.split(&quot;,&quot;);\n\nif (split.length &gt;= 3) {\n\n    anos = Integer.parseInt(split[0].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\n    meses = Integer.parseInt(split[1].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\n    dias = Integer.parseInt(split[2].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\n} else if (split.length &gt;= 2) {\n\n    meses = Integer.parseInt(split[0].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\n    dias = Integer.parseInt(split[1].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\n} else if (split.length &gt;= 1) {\n\n    dias = Integer.parseInt(split[0].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;));\n}\n</code></pre>\n<p>It doesnt work because sometimes the first item in the String is years, and sometimes its months.</p>\n<p>Is it possible to use regex to achieve what I want?\nTo deal with the &quot;plurarism&quot;, I can do :</p>\n<pre><code>duration = duration.replace(&quot;months&quot;, &quot;month&quot;);\nduration = duration.replace(&quot;days&quot;, &quot;day&quot;);\nduration = duration.replace(&quot;years&quot;, &quot;year&quot;);\n</code></pre>\n<p>But now How do I extract the data I need?</p>\n"},{"tags":["java","multithreading","intellij-idea","chromium-embedded"],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635761204,"creation_date":1635586887,"answer_id":69778424,"question_id":69777679,"body_markdown":"A time consuming task should be performed under a progress indicator, see `com.intellij.openapi.progress.ProgressManager`. During the task you can then call `com.intellij.openapi.progress.ProgressManager#checkCanceled` to see if the task has been canceled by the user. This call is supposed to be cheap, so you can call it often to make sure your process responds promptly to the users&#39; request for cancellation.","title":"Is it possible to interrupt a runnable called by ApplicationManager.getApplication().executeOnPooledThread?","body":"<p>A time consuming task should be performed under a progress indicator, see <code>com.intellij.openapi.progress.ProgressManager</code>. During the task you can then call <code>com.intellij.openapi.progress.ProgressManager#checkCanceled</code> to see if the task has been canceled by the user. This call is supposed to be cheap, so you can call it often to make sure your process responds promptly to the users' request for cancellation.</p>\n"}],"owner":{"account_id":12559944,"reputation":37,"user_id":14286534,"display_name":"C. Augustus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69778424,"answer_count":1,"score":0,"last_activity_date":1635761204,"creation_date":1635579735,"question_id":69777679,"body_markdown":"I am currently working on developing an IDEA extension that embeds JCEF for frontend interaction. Once the user clicks on a button, the implemented `onQuery` method in `MessageRouterHandler` would be executed, and a time-consuming task would be performed.\r\n\r\nThe time-consuming task is implemented in a method (asynchronous on a thread other than the main thread in case the UI to be frozen) and is wrapped in a form like\r\n```\r\nprivate void task(CefBrowser browser, CefQueryCallback callback) {\r\n    ApplicationManager.getApplication().executeOnPooledThread(() -&gt; {\r\n        ...DETAILED IMPLEMENTATION FOR THE TASK...\r\n    });\r\n}\r\n```\r\nThe runnable only contains the operation related to file reading (selected by the user clicking on another button on the JCEF webview) and has nothing to do with the IDE interface so I did not add `runWriteAction` or `runReadAction` here.\r\n\r\nSince the task might take a longer time, I would like to add a button for the user&#39;s cancelling order. However, I am quite new to extension development, and could anyone help me to figure out how to implement the **cancel** function? Great great many thanks for any suggestions.","title":"Is it possible to interrupt a runnable called by ApplicationManager.getApplication().executeOnPooledThread?","body":"<p>I am currently working on developing an IDEA extension that embeds JCEF for frontend interaction. Once the user clicks on a button, the implemented <code>onQuery</code> method in <code>MessageRouterHandler</code> would be executed, and a time-consuming task would be performed.</p>\n<p>The time-consuming task is implemented in a method (asynchronous on a thread other than the main thread in case the UI to be frozen) and is wrapped in a form like</p>\n<pre><code>private void task(CefBrowser browser, CefQueryCallback callback) {\n    ApplicationManager.getApplication().executeOnPooledThread(() -&gt; {\n        ...DETAILED IMPLEMENTATION FOR THE TASK...\n    });\n}\n</code></pre>\n<p>The runnable only contains the operation related to file reading (selected by the user clicking on another button on the JCEF webview) and has nothing to do with the IDE interface so I did not add <code>runWriteAction</code> or <code>runReadAction</code> here.</p>\n<p>Since the task might take a longer time, I would like to add a button for the user's cancelling order. However, I am quite new to extension development, and could anyone help me to figure out how to implement the <strong>cancel</strong> function? Great great many thanks for any suggestions.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635760102,"post_id":69795121,"comment_id":123370926,"body_markdown":"Advice? What is the problem? And what is the question?","body":"Advice? What is the problem? And what is the question?"},{"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"score":0,"creation_date":1635760142,"post_id":69795121,"comment_id":123370940,"body_markdown":"https://github.com/scottyab/rootbeer","body":"<a href=\"https://github.com/scottyab/rootbeer\" rel=\"nofollow noreferrer\">github.com/scottyab/rootbeer</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1635760153,"post_id":69795121,"comment_id":123370946,"body_markdown":"Superuser is pretty outdated, modern devices are all rooted via Magisk. But with root permissions you can hide everything from an app. Perform at least Google SafetyNet check and validate the result on server side.","body":"Superuser is pretty outdated, modern devices are all rooted via Magisk. But with root permissions you can hide everything from an app. Perform at least Google SafetyNet check and validate the result on server side."},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1635760208,"post_id":69795121,"comment_id":123370960,"body_markdown":"&quot;security expert saying it can be installed&quot;. Is installing or running the requirement? because preventing installing is impossible I think. As for running, maybe this question helps: https://stackoverflow.com/questions/27540545/how-to-prevent-rooted-android-phones-from-installing-my-app","body":"&quot;security expert saying it can be installed&quot;. Is installing or running the requirement? because preventing installing is impossible I think. As for running, maybe this question helps: <a href=\"https://stackoverflow.com/questions/27540545/how-to-prevent-rooted-android-phones-from-installing-my-app\" title=\"how to prevent rooted android phones from installing my app\">stackoverflow.com/questions/27540545/&hellip;</a>"},{"owner":{"account_id":1598249,"reputation":6617,"user_id":1479853,"accept_rate":72,"display_name":"someone"},"score":0,"creation_date":1635762745,"post_id":69795121,"comment_id":123371858,"body_markdown":"@Robert you comment was useful SafetyNet has several limitations, hence checking for alternative solutions.","body":"@Robert you comment was useful SafetyNet has several limitations, hence checking for alternative solutions."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1635764982,"post_id":69795121,"comment_id":123372652,"body_markdown":"Google SafetyNet check is the only solution that can not bypassed (on some devices) as it is executed in TEE. Therefore there is no alternative providing the same.","body":"Google SafetyNet check is the only solution that can not bypassed (on some devices) as it is executed in TEE. Therefore there is no alternative providing the same."}],"owner":{"account_id":1598249,"reputation":6617,"user_id":1479853,"accept_rate":72,"display_name":"someone"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635760816,"creation_date":1635759920,"question_id":69795121,"body_markdown":"\r\nI&#39;m using following code for root detection in Android device. But still my security expert saying it can be installed and run in rooted device. Could someone detect what the issue with my code\r\n\r\n    public static boolean isDeviceRooted() {\r\n      // get from build info\r\n      String buildTags = android.os.Build.TAGS;\r\n      if (buildTags != null &amp;&amp; buildTags.contains(&quot;test-keys&quot;)) {\r\n        return true;\r\n      }\r\n      return checkFiles() || checkLocations();\r\n      }\r\n       private static boolean checkFiles(){\r\n    String[] files = {\r\n        &quot;/system/app/Superuser.apk&quot;,\r\n        &quot;/system/etc/init.d/99SuperSUDaemon&quot;,\r\n        &quot;/dev/com.koushikdutta.superuser.daemon/&quot;,\r\n        &quot;/system/xbin/daemonsu&quot;\r\n    };\r\n    for (String fileData : files) {\r\n        try {\r\n            File file = new File(fileData);\r\n            if (file.exists()) {\r\n                return true;\r\n            }\r\n        } catch (Exception e1) {\r\n              // ignore\r\n        }\r\n    }\r\n    return false;\r\n      }\r\n       private static boolean checkLocations(){\r\n    String su = &quot;su&quot;;\r\n    String[] locations = {\r\n        &quot;/system/bin/&quot;,\r\n        &quot;/system/xbin/&quot;,\r\n        &quot;/sbin/&quot;,\r\n        &quot;/system/sd/xbin/&quot;,\r\n        &quot;/system/bin/failsafe/&quot;,\r\n        &quot;/data/local/xbin/&quot;,\r\n        &quot;/data/local/bin/&quot;,\r\n        &quot;/data/local/&quot;,\r\n        &quot;/system/sbin/&quot;,\r\n        &quot;/usr/bin/&quot;,\r\n        &quot;/vendor/bin/&quot;\r\n    };\r\n    for (String location : locations) {\r\n        if (new File(location + su).exists()) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n      }","title":"Android root detection not working with mentioned code","body":"<p>I'm using following code for root detection in Android device. But still my security expert saying it can be installed and run in rooted device. Could someone detect what the issue with my code</p>\n<pre><code>public static boolean isDeviceRooted() {\n  // get from build info\n  String buildTags = android.os.Build.TAGS;\n  if (buildTags != null &amp;&amp; buildTags.contains(&quot;test-keys&quot;)) {\n    return true;\n  }\n  return checkFiles() || checkLocations();\n  }\n   private static boolean checkFiles(){\nString[] files = {\n    &quot;/system/app/Superuser.apk&quot;,\n    &quot;/system/etc/init.d/99SuperSUDaemon&quot;,\n    &quot;/dev/com.koushikdutta.superuser.daemon/&quot;,\n    &quot;/system/xbin/daemonsu&quot;\n};\nfor (String fileData : files) {\n    try {\n        File file = new File(fileData);\n        if (file.exists()) {\n            return true;\n        }\n    } catch (Exception e1) {\n          // ignore\n    }\n}\nreturn false;\n  }\n   private static boolean checkLocations(){\nString su = &quot;su&quot;;\nString[] locations = {\n    &quot;/system/bin/&quot;,\n    &quot;/system/xbin/&quot;,\n    &quot;/sbin/&quot;,\n    &quot;/system/sd/xbin/&quot;,\n    &quot;/system/bin/failsafe/&quot;,\n    &quot;/data/local/xbin/&quot;,\n    &quot;/data/local/bin/&quot;,\n    &quot;/data/local/&quot;,\n    &quot;/system/sbin/&quot;,\n    &quot;/usr/bin/&quot;,\n    &quot;/vendor/bin/&quot;\n};\nfor (String location : locations) {\n    if (new File(location + su).exists()) {\n        return true;\n    }\n}\nreturn false;\n  }\n</code></pre>\n"},{"tags":["java","docker-compose","redis","jedis","redis-server"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1635759651,"post_id":69795053,"comment_id":123370765,"body_markdown":"why is it failing? please post the exception and relevant logs.","body":"why is it failing? please post the exception and relevant logs."},{"owner":{"account_id":2872559,"reputation":79,"user_id":2465532,"display_name":"ss-ss-v1"},"score":0,"creation_date":1635759753,"post_id":69795053,"comment_id":123370803,"body_markdown":"@TomElias added error logs","body":"@TomElias added error logs"}],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635760235,"creation_date":1635760235,"answer_id":69795186,"question_id":69795053,"body_markdown":"i think your Redis container does not expose ports outside for connection, only the commander exposes 8002. (try connecting to localhost:8002). docker compose creates a default &quot;bridge&quot; network so the containers can talk between themselves, but not outside unless you expose ports. the commander can connect to REDIS since they are on the same network.","title":"Connect to Redis using java code if there is docker compose of Redis and Redis Commander","body":"<p>i think your Redis container does not expose ports outside for connection, only the commander exposes 8002. (try connecting to localhost:8002). docker compose creates a default &quot;bridge&quot; network so the containers can talk between themselves, but not outside unless you expose ports. the commander can connect to REDIS since they are on the same network.</p>\n"}],"owner":{"account_id":2872559,"reputation":79,"user_id":2465532,"display_name":"ss-ss-v1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69795186,"answer_count":1,"score":0,"last_activity_date":1635760719,"creation_date":1635759539,"question_id":69795053,"body_markdown":"I am trying to connect to Redis using below Java code with Jedis library but connection is failng can someonen please help on this ?.\r\n```\r\nJedis jedis = new Jedis(&quot;localhost&quot;);\r\nString pingResponse = jedis.ping();\r\nSystem.out.println(&quot;ping should return pong&quot; + pingResponse);\r\n```\r\nand this is my docker-compose file\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  redis:\r\n    container_name: redis\r\n    hostname: redis\r\n    image: redis\r\n\r\n  redis-commander:\r\n    container_name: redis-commander\r\n    hostname: redis-commander\r\n    image: rediscommander/redis-commander:latest\r\n    restart: always\r\n    environment:\r\n    - REDIS_HOSTS=local:redis:6379\r\n    ports:\r\n    - &quot;8082:8081&quot;\r\n```\r\n\r\nbelow is the exception I am getting :\r\n```\r\nException in thread &quot;main&quot; redis.clients.jedis.exceptions.JedisConnectionException: Failed connecting to host redis:6379\r\n\tat redis.clients.jedis.Connection.connect(Connection.java:204)\r\n\tat redis.clients.jedis.BinaryClient.connect(BinaryClient.java:100)\r\n\tat redis.clients.jedis.Connection.sendCommand(Connection.java:125)\r\n\tat redis.clients.jedis.Connection.sendCommand(Connection.java:120)\r\n\tat redis.clients.jedis.BinaryClient.ping(BinaryClient.java:113)\r\n\tat redis.clients.jedis.BinaryJedis.ping(BinaryJedis.java:188)\r\n\tat com.altimetrik.demo.bean.Sample.main(Sample.java:23)\r\n```","title":"Connect to Redis using java code if there is docker compose of Redis and Redis Commander","body":"<p>I am trying to connect to Redis using below Java code with Jedis library but connection is failng can someonen please help on this ?.</p>\n<pre><code>Jedis jedis = new Jedis(&quot;localhost&quot;);\nString pingResponse = jedis.ping();\nSystem.out.println(&quot;ping should return pong&quot; + pingResponse);\n</code></pre>\n<p>and this is my docker-compose file</p>\n<pre><code>version: '3'\nservices:\n  redis:\n    container_name: redis\n    hostname: redis\n    image: redis\n\n  redis-commander:\n    container_name: redis-commander\n    hostname: redis-commander\n    image: rediscommander/redis-commander:latest\n    restart: always\n    environment:\n    - REDIS_HOSTS=local:redis:6379\n    ports:\n    - &quot;8082:8081&quot;\n</code></pre>\n<p>below is the exception I am getting :</p>\n<pre><code>Exception in thread &quot;main&quot; redis.clients.jedis.exceptions.JedisConnectionException: Failed connecting to host redis:6379\n    at redis.clients.jedis.Connection.connect(Connection.java:204)\n    at redis.clients.jedis.BinaryClient.connect(BinaryClient.java:100)\n    at redis.clients.jedis.Connection.sendCommand(Connection.java:125)\n    at redis.clients.jedis.Connection.sendCommand(Connection.java:120)\n    at redis.clients.jedis.BinaryClient.ping(BinaryClient.java:113)\n    at redis.clients.jedis.BinaryJedis.ping(BinaryJedis.java:188)\n    at com.altimetrik.demo.bean.Sample.main(Sample.java:23)\n</code></pre>\n"},{"tags":["java","algorithm","time-complexity"],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635760403,"creation_date":1635760403,"answer_id":69795211,"question_id":69794970,"body_markdown":"For some value of `i` you&#39;ll try all values of `j` from `i` to `n`. And for each `j` you&#39;ll calculate the sum of `j-i` elements. You&#39;ll need O(0 + 1 + ... + (n-i))=O((n-i)^2) operations for that. So for all possible values of `i` you&#39;ll need O(n^2 + (n-1)^2 + ... + 2^2 + 1^2) = O(n^3) operations. Answer: O(n^3).","title":"Analysing the time complexity of a Leetcode problem &quot;974. Subarray Sums Divisible by K&quot;","body":"<p>For some value of <code>i</code> you'll try all values of <code>j</code> from <code>i</code> to <code>n</code>. And for each <code>j</code> you'll calculate the sum of <code>j-i</code> elements. You'll need O(0 + 1 + ... + (n-i))=O((n-i)^2) operations for that. So for all possible values of <code>i</code> you'll need O(n^2 + (n-1)^2 + ... + 2^2 + 1^2) = O(n^3) operations. Answer: O(n^3).</p>\n"}],"owner":{"account_id":18882731,"reputation":13,"user_id":13774794,"display_name":"Navjyot Bhele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69795211,"answer_count":1,"score":0,"last_activity_date":1635760403,"creation_date":1635758927,"question_id":69794970,"body_markdown":"I came up to an algorithm to solve this problem. however i am not preety sure what excactly is the time complexity of this solution. Is it O(n^3) or O(n^2) .I want to know what is the time complexity of the given function subarraysDivByK? Please help\r\n\r\n```class Solution \r\n{\r\n    public int subarraysDivByK(int[] A, int K) \r\n    {\r\n        int n = A.length;\r\n        int count = 0;\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            for(int j=i;j&lt;n;j++)\r\n            {\r\n                int sumWindow = findSum(A,i,j);\r\n                if(sumWindow%K==0)\r\n                {\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n    \r\n    public int findSum(int[] a, int start, int end)\r\n    {\r\n        int sum = 0;\r\n        for(int i = start;i&lt;=end;i++)\r\n        {\r\n            sum = sum + a[i];\r\n        }\r\n        return sum;\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Analysing the time complexity of a Leetcode problem &quot;974. Subarray Sums Divisible by K&quot;","body":"<p>I came up to an algorithm to solve this problem. however i am not preety sure what excactly is the time complexity of this solution. Is it O(n^3) or O(n^2) .I want to know what is the time complexity of the given function subarraysDivByK? Please help</p>\n<pre><code>{\n    public int subarraysDivByK(int[] A, int K) \n    {\n        int n = A.length;\n        int count = 0;\n        for(int i=0;i&lt;n;i++)\n        {\n            for(int j=i;j&lt;n;j++)\n            {\n                int sumWindow = findSum(A,i,j);\n                if(sumWindow%K==0)\n                {\n                    count++;\n                }\n            }\n        }\n        return count;\n    }\n    \n    public int findSum(int[] a, int start, int end)\n    {\n        int sum = 0;\n        for(int i = start;i&lt;=end;i++)\n        {\n            sum = sum + a[i];\n        }\n        return sum;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","resilience4j","resilience4j-retry"],"answers":[{"tags":[],"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1635760194,"creation_date":1635760194,"answer_id":69795174,"question_id":69792829,"body_markdown":"\r\n**Q:** Does a fallback method need to be implemented in order for retry functionality to work?\r\n\r\n**Ans:** No, ***Fallback*** is ***optional*** in Resilience4J Retry feature.\r\n\r\n***Behaviour*** of  `Resilience4J Retry`:\r\n\r\n1. At startup, resilience retry loads the configuration from application.properties/yml if configured else will initialize with default values as mentioned [here in the documentation][1].\r\n\r\n2. When a method annotated with @Retry is invoked, then it will be under retry monitor.\r\n\r\n3. If property `resilience4j.retry.instances.&lt;instance name&gt;.retryExceptions` is configured explicitly then only the configured exceptions will be considered as a failure and retry will be triggered for only these failures and for the rest of the exceptions it behaves normal without the retry feature.\r\n\r\n4. When an expected exception is occurred under `@retry` annotated method, then it won&#39;t log anything about the exception but it retries the same method as per the `maxAttempts` property configured. Default value of `maxAttempts` property is `3`. Ater the maxAttempts it throws the exceptions and can be seen in the log.\r\n\r\n5. There are also properties like `waitDuration`, `intervalFunction`, `ignoreExceptions`.. e.tc which can be explicitly configured. For more look at the documentation link.\r\n\r\n6. To see actually what&#39;s happening during an event of exception in the method annotated with `@retry`, Enable the RetryRegistry event consumer to print the events received to it.\r\n\r\nExample Code for RetryRegistry event listener:\r\n\r\n\r\n    package com.resilience.retry.config;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import io.github.resilience4j.retry.RetryRegistry;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Component\r\n    @Slf4j\r\n    public class RetryRegistryEventListener {\r\n    \r\n    \t@Autowired\r\n    \tprivate RetryRegistry registry;\r\n    \r\n\r\n    \t@PostConstruct\r\n    \tpublic void postConstruct() {\r\n            //registry.retry(&lt;resilience retry instance name&gt;)\r\n    \t\tregistry.retry(&quot;sample-api&quot;).getEventPublisher()\r\n    \t\t\t\t.onRetry(ev -&gt; log.info(&quot;#### RetryRegistryEventListener message: {}&quot;, ev));\r\n    \t}\r\n    }\r\n\r\n\r\n&gt; example log:\r\n\r\n    2021-11-01 14:55:12.337  INFO 18176 --- [nio-8080-exec-1] c.r.retry.controller.RetryController     : Sample Api call receieved\r\n    2021-11-01 14:55:12.345  INFO 18176 --- [nio-8080-exec-1] c.r.r.config.RetryRegistryEventListener  : #### RetryRegistryEventListener message: 2021-11-01T14:55:12.344325600+05:30[Asia/Calcutta]: Retry &#39;sample-api&#39;, waiting PT10S until attempt &#39;1&#39;. Last attempt failed with exception &#39;org.springframework.web.client.HttpServerErrorException: 500 INTERNAL_SERVER_ERROR&#39;.\r\n    2021-11-01 14:55:12.350  INFO 18176 --- [nio-8080-exec-1] c.r.retry.controller.RetryController     : messsage: 2021-11-01T14:55:12.344325600+05:30[Asia/Calcutta]: Retry &#39;sample-api&#39;, waiting PT10S until attempt &#39;1&#39;. Last attempt failed with exception &#39;org.springframework.web.client.HttpServerErrorException: 500 INTERNAL_SERVER_ERROR&#39;.\r\n    2021-11-01 14:55:22.359  INFO 18176 --- [nio-8080-exec-1] c.r.retry.controller.RetryController     : Sample Api call receieved\r\n    2021-11-01 14:55:22.360  INFO 18176 --- [nio-8080-exec-1] c.r.r.config.RetryRegistryEventListener  : #### RetryRegistryEventListener message: 2021-11-01T14:55:22.360672900+05:30[Asia/Calcutta]: Retry &#39;sample-api&#39;, waiting PT10S until attempt &#39;2&#39;. Last attempt failed with exception &#39;org.springframework.web.client.HttpServerErrorException: 500 INTERNAL_SERVER_ERROR&#39;.\r\n    2021-11-01 14:55:22.361  INFO 18176 --- [nio-8080-exec-1] c.r.retry.controller.RetryController     : messsage: 2021-11-01T14:55:22.360672900+05:30[Asia/Calcutta]: Retry &#39;sample-api&#39;, waiting PT10S until attempt &#39;2&#39;. Last attempt failed with exception &#39;org.springframework.web.client.HttpServerErrorException: 500 INTERNAL_SERVER_ERROR&#39;.\r\n\r\n\r\n\r\n@FerdTurgusen: I believe there is some mistake in your code else it would be working fine. With the given information in the question i was unable to exactly find the issue. Hence, I have created a sample spring boot with resilience4j example, replicated your issue and it&#39;s working fine for me, hence uploaded to Github for your reference. I suggest you to add RetryRegistryEventListener class and find the issue in event logs, if still not resolved please share the event listener log.\r\n\r\n***Github Reference***: [sample spring-boot with resilience4j retry project][2]\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs/retry\r\n  [2]: https://github.com/arunsai271/Resilience-Retry-Example","title":"What is the expected behavior of Resilience4J Retry?","body":"<p><strong>Q:</strong> Does a fallback method need to be implemented in order for retry functionality to work?</p>\n<p><strong>Ans:</strong> No, <em><strong>Fallback</strong></em> is <em><strong>optional</strong></em> in Resilience4J Retry feature.</p>\n<p><em><strong>Behaviour</strong></em> of  <code>Resilience4J Retry</code>:</p>\n<ol>\n<li><p>At startup, resilience retry loads the configuration from application.properties/yml if configured else will initialize with default values as mentioned <a href=\"https://resilience4j.readme.io/docs/retry\" rel=\"noreferrer\">here in the documentation</a>.</p>\n</li>\n<li><p>When a method annotated with @Retry is invoked, then it will be under retry monitor.</p>\n</li>\n<li><p>If property <code>resilience4j.retry.instances.&lt;instance name&gt;.retryExceptions</code> is configured explicitly then only the configured exceptions will be considered as a failure and retry will be triggered for only these failures and for the rest of the exceptions it behaves normal without the retry feature.</p>\n</li>\n<li><p>When an expected exception is occurred under <code>@retry</code> annotated method, then it won't log anything about the exception but it retries the same method as per the <code>maxAttempts</code> property configured. Default value of <code>maxAttempts</code> property is <code>3</code>. Ater the maxAttempts it throws the exceptions and can be seen in the log.</p>\n</li>\n<li><p>There are also properties like <code>waitDuration</code>, <code>intervalFunction</code>, <code>ignoreExceptions</code>.. e.tc which can be explicitly configured. For more look at the documentation link.</p>\n</li>\n<li><p>To see actually what's happening during an event of exception in the method annotated with <code>@retry</code>, Enable the RetryRegistry event consumer to print the events received to it.</p>\n</li>\n</ol>\n<p>Example Code for RetryRegistry event listener:</p>\n<pre><code>package com.resilience.retry.config;\n\nimport javax.annotation.PostConstruct;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport io.github.resilience4j.retry.RetryRegistry;\nimport lombok.extern.slf4j.Slf4j;\n\n@Component\n@Slf4j\npublic class RetryRegistryEventListener {\n\n    @Autowired\n    private RetryRegistry registry;\n\n\n    @PostConstruct\n    public void postConstruct() {\n        //registry.retry(&lt;resilience retry instance name&gt;)\n        registry.retry(&quot;sample-api&quot;).getEventPublisher()\n                .onRetry(ev -&gt; log.info(&quot;#### RetryRegistryEventListener message: {}&quot;, ev));\n    }\n}\n</code></pre>\n<blockquote>\n<p>example log:</p>\n</blockquote>\n<pre><code>2021-11-01 14:55:12.337  INFO 18176 --- [nio-8080-exec-1] c.r.retry.controller.RetryController     : Sample Api call receieved\n2021-11-01 14:55:12.345  INFO 18176 --- [nio-8080-exec-1] c.r.r.config.RetryRegistryEventListener  : #### RetryRegistryEventListener message: 2021-11-01T14:55:12.344325600+05:30[Asia/Calcutta]: Retry 'sample-api', waiting PT10S until attempt '1'. Last attempt failed with exception 'org.springframework.web.client.HttpServerErrorException: 500 INTERNAL_SERVER_ERROR'.\n2021-11-01 14:55:12.350  INFO 18176 --- [nio-8080-exec-1] c.r.retry.controller.RetryController     : messsage: 2021-11-01T14:55:12.344325600+05:30[Asia/Calcutta]: Retry 'sample-api', waiting PT10S until attempt '1'. Last attempt failed with exception 'org.springframework.web.client.HttpServerErrorException: 500 INTERNAL_SERVER_ERROR'.\n2021-11-01 14:55:22.359  INFO 18176 --- [nio-8080-exec-1] c.r.retry.controller.RetryController     : Sample Api call receieved\n2021-11-01 14:55:22.360  INFO 18176 --- [nio-8080-exec-1] c.r.r.config.RetryRegistryEventListener  : #### RetryRegistryEventListener message: 2021-11-01T14:55:22.360672900+05:30[Asia/Calcutta]: Retry 'sample-api', waiting PT10S until attempt '2'. Last attempt failed with exception 'org.springframework.web.client.HttpServerErrorException: 500 INTERNAL_SERVER_ERROR'.\n2021-11-01 14:55:22.361  INFO 18176 --- [nio-8080-exec-1] c.r.retry.controller.RetryController     : messsage: 2021-11-01T14:55:22.360672900+05:30[Asia/Calcutta]: Retry 'sample-api', waiting PT10S until attempt '2'. Last attempt failed with exception 'org.springframework.web.client.HttpServerErrorException: 500 INTERNAL_SERVER_ERROR'.\n</code></pre>\n<p>@FerdTurgusen: I believe there is some mistake in your code else it would be working fine. With the given information in the question i was unable to exactly find the issue. Hence, I have created a sample spring boot with resilience4j example, replicated your issue and it's working fine for me, hence uploaded to Github for your reference. I suggest you to add RetryRegistryEventListener class and find the issue in event logs, if still not resolved please share the event listener log.</p>\n<p><em><strong>Github Reference</strong></em>: <a href=\"https://github.com/arunsai271/Resilience-Retry-Example\" rel=\"noreferrer\">sample spring-boot with resilience4j retry project</a></p>\n"}],"owner":{"account_id":10080379,"reputation":320,"user_id":7450916,"display_name":"FerdTurgusen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9919,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69795174,"answer_count":1,"score":5,"last_activity_date":1635760194,"creation_date":1635743129,"question_id":69792829,"body_markdown":"I&#39;m using Resilience4J in a Spring Boot project to make a call to a REST client like so:\r\n\r\n```\r\n@Retry(name = &quot;customerService&quot;)\r\npublic Customer getCustomer(String customerNumber) {\r\n    restTemplate.exchange(&quot;https://customer-service.net&quot;, HttpMethod.GET, ..., customerNumber);\r\n}\r\n```\r\n\r\nWith this configuration:\r\n\r\n```\r\nresilience4j.retry:\r\n    instances:\r\n        customerService:\r\n            maxAttempts: 3\r\n            waitDuration: 10s\r\n            retryExceptions:\r\n                - org.springframework.web.client.HttpServerErrorException\r\n```\r\n\r\nMy expectation is if `restTemplate.exchange()` is invoked and the customer service responds with a `HttpServerErrorException`, the `getCustomer()` method will be called 3 more times after a wait of ten seconds.\r\n\r\nHowever, this is not the case.\r\n\r\nThis method is never called again, and the exception is immediately thrown.\r\n\r\nSeeing that a fallback method is included in the examples, I decided to add it, even though I don&#39;t really want to invoke a different method, I just want my original method called again.\r\n\r\nAnyway, I specified a fall back:\r\n\r\n```\r\n@Retry(name = &quot;customerService&quot;, fallback = &quot;customerFb&quot;)\r\npublic Customer getCustomer(String customerNumber) {\r\n    return getCustomer();\r\n}\r\n\r\nprivate Customer customerFb(String customerNumber, HttpServerErrorException ex) {\r\n    log.error(&quot;Could not retrieve customer... retrying...&quot;);\r\n    return getCustomer();\r\n}\r\n\r\nprivate Customer getCustomer(String customerNumber) {\r\n    return restTemplate.exchange(&quot;https://customer-service.net&quot;, HttpMethod.GET, ..., customerNumber);\r\n}\r\n```\r\n\r\nNow, I am seeing the fallback method being retried, however, the HttpServerErrorException is being thrown each time, meaning that consumers will receive an exception as a response to their calls.\r\n\r\nMy questions are:\r\n\r\nDoes a fallback method need to be implemented in order for retry functionality to work? \r\n\r\nand \r\n\r\nIs it expected behavior for the exceptions to be thrown? Am I doing something wrong? I don&#39;t want callers of this service to receive an exception until all retry attempts have been made.\r\n\r\nThanks","title":"What is the expected behavior of Resilience4J Retry?","body":"<p>I'm using Resilience4J in a Spring Boot project to make a call to a REST client like so:</p>\n<pre><code>@Retry(name = &quot;customerService&quot;)\npublic Customer getCustomer(String customerNumber) {\n    restTemplate.exchange(&quot;https://customer-service.net&quot;, HttpMethod.GET, ..., customerNumber);\n}\n</code></pre>\n<p>With this configuration:</p>\n<pre><code>resilience4j.retry:\n    instances:\n        customerService:\n            maxAttempts: 3\n            waitDuration: 10s\n            retryExceptions:\n                - org.springframework.web.client.HttpServerErrorException\n</code></pre>\n<p>My expectation is if <code>restTemplate.exchange()</code> is invoked and the customer service responds with a <code>HttpServerErrorException</code>, the <code>getCustomer()</code> method will be called 3 more times after a wait of ten seconds.</p>\n<p>However, this is not the case.</p>\n<p>This method is never called again, and the exception is immediately thrown.</p>\n<p>Seeing that a fallback method is included in the examples, I decided to add it, even though I don't really want to invoke a different method, I just want my original method called again.</p>\n<p>Anyway, I specified a fall back:</p>\n<pre><code>@Retry(name = &quot;customerService&quot;, fallback = &quot;customerFb&quot;)\npublic Customer getCustomer(String customerNumber) {\n    return getCustomer();\n}\n\nprivate Customer customerFb(String customerNumber, HttpServerErrorException ex) {\n    log.error(&quot;Could not retrieve customer... retrying...&quot;);\n    return getCustomer();\n}\n\nprivate Customer getCustomer(String customerNumber) {\n    return restTemplate.exchange(&quot;https://customer-service.net&quot;, HttpMethod.GET, ..., customerNumber);\n}\n</code></pre>\n<p>Now, I am seeing the fallback method being retried, however, the HttpServerErrorException is being thrown each time, meaning that consumers will receive an exception as a response to their calls.</p>\n<p>My questions are:</p>\n<p>Does a fallback method need to be implemented in order for retry functionality to work?</p>\n<p>and</p>\n<p>Is it expected behavior for the exceptions to be thrown? Am I doing something wrong? I don't want callers of this service to receive an exception until all retry attempts have been made.</p>\n<p>Thanks</p>\n"},{"tags":["java","rx-java","reactivex"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1635760093,"post_id":69793576,"comment_id":123370922,"body_markdown":"You mean like `filter()`? That methods allows you to filter elements from the observable, like the `4` you don&#39;t want.","body":"You mean like <code>filter()</code>? That methods allows you to filter elements from the observable, like the <code>4</code> you don&#39;t want."},{"owner":{"account_id":6320160,"reputation":63,"user_id":4908548,"display_name":"Naiad"},"score":0,"creation_date":1635762176,"post_id":69793576,"comment_id":123371649,"body_markdown":"no. filter just filtering observable data when use pipe. i mean i want to handle observable data when Subscription timeing change.","body":"no. filter just filtering observable data when use pipe. i mean i want to handle observable data when Subscription timeing change."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1635764873,"post_id":69793576,"comment_id":123372626,"body_markdown":"Why not use `filter(it -&gt; it != 4)` before/at your subscription for `Sub1`? You get any value but the value `4`, which you don&#39;t want. Please [edit] your question to include a more detailed description of what you are trying to do, it looks like some information is still missing.","body":"Why not use <code>filter(it -&gt; it != 4)</code> before/at your subscription for <code>Sub1</code>? You get any value but the value <code>4</code>, which you don&#39;t want. Please <a href=\"https://stackoverflow.com/posts/69793576/edit\">edit</a> your question to include a more detailed description of what you are trying to do, it looks like some information is still missing."}],"owner":{"account_id":6320160,"reputation":63,"user_id":4908548,"display_name":"Naiad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635759949,"creation_date":1635750255,"question_id":69793576,"body_markdown":"i have some problem about rxjava.\r\n\r\nWe want to collect different data depending on when the subscribe function is called.\r\n\r\ndata`ll comes in in the order of 1 to 9.\r\n\r\nOne subscribe function is called before inserting data. (called `Sub1`)\r\n\r\nAnother subscribe function is called after inserting data. (called `Sub2`)\r\n\r\nA value of 4 will be the trigger. `Sub1` ignores this value, and `Sub2` merges the previous value when this value comes in.\r\n\r\ndetail logic is like below.\r\n\r\n```\r\npublic void someTestFunc() {\r\n\r\n    ReplaySubject&lt;Integer&gt; subject = ReplaySubject.create();\r\n\r\n    Observable ob = Observable.somefilterOperation(...);\r\n\r\n    ob.subsribe(res -&gt; {\r\n         // this is Sub1\r\n         // data is output 1~3 5~9\r\n         // 4 value is skipped. cause 4 is only use trigger.\r\n         // output is 1,2,3, 5,6,7,8\r\n         System.out.println(&quot;Subscribtion Before OnNext &quot; + res);\r\n    });\r\n\r\n    for(int i = 1; i &lt; 9; i++) {\r\n       ob.onNext(i); // data input 1~9\r\n    }\r\n\r\n    ob.subsribe(res -&gt; {\r\n         // this is Sub2\r\n         // 4 value is trigger value.\r\n         // 1~3 value is added by some function. ex &quot;reduce&quot;, &quot;scan&quot;\r\n         // output is 6(1~3 data added), 5, 6, 7, 8\r\n         System.out.println(&quot;Subscribtion After OnNext &quot; + res);\r\n    });\r\n\r\n}\r\n```\r\n\r\n```\r\nSubscribtion Before OnNext 1\r\nSubscribtion Before OnNext 2\r\nSubscribtion Before OnNext 3\r\n// 4 is skip cause that value is trigger\r\nSubscribtion Before OnNext 5\r\nSubscribtion Before OnNext 6\r\nSubscribtion Before OnNext 7\r\nSubscribtion Before OnNext 8\r\n\r\nSubscribtion After OnNext 6 // this value is reduce value from 1 to 3 values\r\nSubscribtion After OnNext 5\r\nSubscribtion After OnNext 6\r\nSubscribtion After OnNext 7\r\nSubscribtion After OnNext 8\r\n```\r\n\r\nIs it possible to create a function called `somefilterOperation`?","title":"How to apply operator of data according to the time of subscribtion in rxjava","body":"<p>i have some problem about rxjava.</p>\n<p>We want to collect different data depending on when the subscribe function is called.</p>\n<p>data`ll comes in in the order of 1 to 9.</p>\n<p>One subscribe function is called before inserting data. (called <code>Sub1</code>)</p>\n<p>Another subscribe function is called after inserting data. (called <code>Sub2</code>)</p>\n<p>A value of 4 will be the trigger. <code>Sub1</code> ignores this value, and <code>Sub2</code> merges the previous value when this value comes in.</p>\n<p>detail logic is like below.</p>\n<pre><code>public void someTestFunc() {\n\n    ReplaySubject&lt;Integer&gt; subject = ReplaySubject.create();\n\n    Observable ob = Observable.somefilterOperation(...);\n\n    ob.subsribe(res -&gt; {\n         // this is Sub1\n         // data is output 1~3 5~9\n         // 4 value is skipped. cause 4 is only use trigger.\n         // output is 1,2,3, 5,6,7,8\n         System.out.println(&quot;Subscribtion Before OnNext &quot; + res);\n    });\n\n    for(int i = 1; i &lt; 9; i++) {\n       ob.onNext(i); // data input 1~9\n    }\n\n    ob.subsribe(res -&gt; {\n         // this is Sub2\n         // 4 value is trigger value.\n         // 1~3 value is added by some function. ex &quot;reduce&quot;, &quot;scan&quot;\n         // output is 6(1~3 data added), 5, 6, 7, 8\n         System.out.println(&quot;Subscribtion After OnNext &quot; + res);\n    });\n\n}\n</code></pre>\n<pre><code>Subscribtion Before OnNext 1\nSubscribtion Before OnNext 2\nSubscribtion Before OnNext 3\n// 4 is skip cause that value is trigger\nSubscribtion Before OnNext 5\nSubscribtion Before OnNext 6\nSubscribtion Before OnNext 7\nSubscribtion Before OnNext 8\n\nSubscribtion After OnNext 6 // this value is reduce value from 1 to 3 values\nSubscribtion After OnNext 5\nSubscribtion After OnNext 6\nSubscribtion After OnNext 7\nSubscribtion After OnNext 8\n</code></pre>\n<p>Is it possible to create a function called <code>somefilterOperation</code>?</p>\n"},{"tags":["java","jmeter","jboss","wildfly","keycloak"],"comments":[{"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1635768992,"post_id":69795003,"comment_id":123374064,"body_markdown":"Solution: scale horizontally - use cluster, not a single node so you will spread a load across multiple nodes.","body":"Solution: scale horizontally - use cluster, not a single node so you will spread a load across multiple nodes."},{"owner":{"account_id":20172800,"reputation":71,"user_id":14795240,"display_name":"David Bister"},"score":0,"creation_date":1690461791,"post_id":69795003,"comment_id":135359143,"body_markdown":"Can u please provider stress test template or refrence im stucked at it ?","body":"Can u please provider stress test template or refrence im stucked at it ?"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635759741,"creation_date":1635759741,"answer_id":69795089,"question_id":69795003,"body_markdown":"If CPU is the bottleneck - buy more computing power. Alternatively you can use a profiler tool like [JProfiler][1] or [YourKit][2] to analyze what is causing high CPU usage and fix that function, Keycloak source code is available at [Github][3]\r\n\r\nAlso your &quot;1000&quot; people might not be fully true, I would recommend looking at i.e. [Active Threads Over Time][4] listener output, my expectation is that the actual concurrency is even less, try setting the number of iterations in Thread Group to `-1` and let your test to run 10-20 minutes, see [JMeter Test Results: Why the Actual Users Number is Lower than Expected][5] article for more detailed explanation.  \r\n\r\n\r\n  [1]: https://www.ej-technologies.com/products/jprofiler/overview.html\r\n  [2]: https://www.yourkit.com/java/profiler/features/\r\n  [3]: https://github.com/keycloak/keycloak\r\n  [4]: https://jmeter-plugins.org/wiki/ActiveThreadsOverTime/\r\n  [5]: https://www.blazemeter.com/blog/jmeter-test-results-why-actual-users-number-lower-expected","title":"Stress testing Keycloak with Jmeter resulted in 100% CPU usage","body":"<p>If CPU is the bottleneck - buy more computing power. Alternatively you can use a profiler tool like <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a> or <a href=\"https://www.yourkit.com/java/profiler/features/\" rel=\"nofollow noreferrer\">YourKit</a> to analyze what is causing high CPU usage and fix that function, Keycloak source code is available at <a href=\"https://github.com/keycloak/keycloak\" rel=\"nofollow noreferrer\">Github</a></p>\n<p>Also your &quot;1000&quot; people might not be fully true, I would recommend looking at i.e. <a href=\"https://jmeter-plugins.org/wiki/ActiveThreadsOverTime/\" rel=\"nofollow noreferrer\">Active Threads Over Time</a> listener output, my expectation is that the actual concurrency is even less, try setting the number of iterations in Thread Group to <code>-1</code> and let your test to run 10-20 minutes, see <a href=\"https://www.blazemeter.com/blog/jmeter-test-results-why-actual-users-number-lower-expected\" rel=\"nofollow noreferrer\">JMeter Test Results: Why the Actual Users Number is Lower than Expected</a> article for more detailed explanation.</p>\n"}],"owner":{"account_id":11816334,"reputation":11,"user_id":8646447,"display_name":"Allen Chang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635759741,"creation_date":1635759199,"question_id":69795003,"body_markdown":"Stress testing Keycloak with Jmeter resulted in 100% CPU usage.\r\n\r\nI  have a Keycloak server, and I need to test it with 1,000 people logging at the same time to get OAuth Tokens.\r\n\r\n[enter image description here][1]\r\n[enter image description here][2]\r\n\r\nHowever, after testing, it was found that as long as there are more than 70 users login in at the same time, the CPU usage of the server where the Keycloak is set up will reach 100%.\r\n\r\nIt resulting a long response time of the api of login Keycloak server get token. It can even reach 10-20 seconds when there are 1000 people.\r\n\r\n[enter image description here][3]\r\n\r\nI originally thought that OAuth Server would all like this, but when I  testing with Identity Server did not have this problem.\r\n\r\nWould anyone have a solution? Thanks a lot.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YlxoT.jpg\r\n  [2]: https://i.stack.imgur.com/XwGir.jpg\r\n  [3]: https://i.stack.imgur.com/drKtT.jpg","title":"Stress testing Keycloak with Jmeter resulted in 100% CPU usage","body":"<p>Stress testing Keycloak with Jmeter resulted in 100% CPU usage.</p>\n<p>I  have a Keycloak server, and I need to test it with 1,000 people logging at the same time to get OAuth Tokens.</p>\n<p><a href=\"https://i.stack.imgur.com/YlxoT.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/XwGir.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>However, after testing, it was found that as long as there are more than 70 users login in at the same time, the CPU usage of the server where the Keycloak is set up will reach 100%.</p>\n<p>It resulting a long response time of the api of login Keycloak server get token. It can even reach 10-20 seconds when there are 1000 people.</p>\n<p><a href=\"https://i.stack.imgur.com/drKtT.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I originally thought that OAuth Server would all like this, but when I  testing with Identity Server did not have this problem.</p>\n<p>Would anyone have a solution? Thanks a lot.</p>\n"},{"tags":["java","maven","jenkins","maven-plugin","maven-war-plugin"],"owner":{"account_id":8566809,"reputation":445,"user_id":6419050,"accept_rate":38,"display_name":"mansing shinde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635759406,"creation_date":1635747923,"question_id":69793271,"body_markdown":"We&#39;re trying to build a Java-based project with Maven (v3.5.4) and with the JDK 1.8.92 but we getting an error ```Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project embedded-analytics: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.2:war failed: basedir /data/jenkins/workspace/test-mansing-embedded/target/dist does not exist -&gt; [Help 1]```\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                  &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;target/dist&lt;/directory&gt;\r\n                            &lt;filtering&gt;true&lt;/filtering&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;main/main.js&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/resource&gt;\r\n                  &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n             &lt;/plugin&gt;\r\n```\r\n\r\n\r\n1. The permission on the workspace directory looks OK.\r\n2. I tried adding a version for maven-war-plugin but no luck. \r\n\r\nAny suggestion is really apperciated. ","title":"maven-war-plugin basedir &lt;workspace&gt;/target/dist does not exist","body":"<p>We're trying to build a Java-based project with Maven (v3.5.4) and with the JDK 1.8.92 but we getting an error <code>Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project embedded-analytics: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.2:war failed: basedir /data/jenkins/workspace/test-mansing-embedded/target/dist does not exist -&gt; [Help 1]</code></p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                  &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                  &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;target/dist&lt;/directory&gt;\n                            &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;main/main.js&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/resource&gt;\n                  &lt;/webResources&gt;\n                &lt;/configuration&gt;\n             &lt;/plugin&gt;\n</code></pre>\n<ol>\n<li>The permission on the workspace directory looks OK.</li>\n<li>I tried adding a version for maven-war-plugin but no luck.</li>\n</ol>\n<p>Any suggestion is really apperciated.</p>\n"},{"tags":["java","tomcat","soap","websphere","jax-ws"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1635801953,"post_id":69795030,"comment_id":123385969,"body_markdown":"Different JVM so different JAXB implementation?","body":"Different JVM so different JAXB implementation?"},{"owner":{"account_id":13739626,"reputation":116,"user_id":9915084,"display_name":"Thomas Johnson"},"score":1,"creation_date":1635862956,"post_id":69795030,"comment_id":123402156,"body_markdown":"To @LMC&#39;s point you could try switching the JAXBContextFactory used by default on Websphere. There&#39;s another SO answer that describes how to do that: https://stackoverflow.com/questions/34762565/jaxb-in-websphere","body":"To @LMC&#39;s point you could try switching the JAXBContextFactory used by default on Websphere. There&#39;s another SO answer that describes how to do that: <a href=\"https://stackoverflow.com/questions/34762565/jaxb-in-websphere\">stackoverflow.com/questions/34762565/jaxb-in-websphere</a>"}],"owner":{"account_id":10465788,"reputation":12036,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635759363,"creation_date":1635759363,"question_id":69795030,"body_markdown":"I have an application which works in Tomcat but does not work in Websphere. An external SOAP service call is executed which gives this error in production:\r\n\r\n    javax.xml.ws.soap.SOAPFaultException: javax.xml.stream.XMLStreamException: com.ibm.ws.websvcs.transport.http.out.ClosedConnectionException: OutputStream encountered error during write\r\n    \tat org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.createSystemException(MethodMarshallerUtils.java:1363)\r\n    \tat org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.demarshalFaultResponse(MethodMarshallerUtils.java:1089)\r\n    \tat org.apache.axis2.jaxws.marshaller.impl.alt.DocLitWrappedMethodMarshaller.demarshalFaultResponse(DocLitWrappedMethodMarshaller.java:680)\r\n\r\nI tried reproducing this problem locally, but it fails with this error:\r\n\r\n    javax.xml.ws.soap.SOAPFaultException: Could not determine the operation name from the SOAP Message context (for adding a message to the service log).\r\n    \tat org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.createSystemException(MethodMarshallerUtils.java:1363)\r\n    \tat org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.demarshalFaultResponse(MethodMarshallerUtils.java:1089)\r\n    \tat org.apache.axis2.jaxws.marshaller.impl.alt.DocLitWrappedMethodMarshaller.demarshalFaultResponse(DocLitWrappedMethodMarshaller.java:680)\r\n    \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.getFaultResponse(JAXWSProxyHandler.java:632)\r\n    \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.createResponse(JAXWSProxyHandler.java:566)\r\n    \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invokeSEIMethod(JAXWSProxyHandler.java:432)\r\n    \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invoke(JAXWSProxyHandler.java:213)\r\n\r\nAgain: it works in Tomcat 9, but it doesn&#39;t work in Wepshere 8.5.5.20. \r\n\r\nAnyone has an idea how to fix above problems? I can not easily debug the applications because they are invoked with a proxy.","title":"javax.xml.ws.soap.SOAPFaultException: Could not determine the operation name from the SOAP Message context and javax.xml.stream.XMLStreamException","body":"<p>I have an application which works in Tomcat but does not work in Websphere. An external SOAP service call is executed which gives this error in production:</p>\n<pre><code>javax.xml.ws.soap.SOAPFaultException: javax.xml.stream.XMLStreamException: com.ibm.ws.websvcs.transport.http.out.ClosedConnectionException: OutputStream encountered error during write\n    at org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.createSystemException(MethodMarshallerUtils.java:1363)\n    at org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.demarshalFaultResponse(MethodMarshallerUtils.java:1089)\n    at org.apache.axis2.jaxws.marshaller.impl.alt.DocLitWrappedMethodMarshaller.demarshalFaultResponse(DocLitWrappedMethodMarshaller.java:680)\n</code></pre>\n<p>I tried reproducing this problem locally, but it fails with this error:</p>\n<pre><code>javax.xml.ws.soap.SOAPFaultException: Could not determine the operation name from the SOAP Message context (for adding a message to the service log).\n    at org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.createSystemException(MethodMarshallerUtils.java:1363)\n    at org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.demarshalFaultResponse(MethodMarshallerUtils.java:1089)\n    at org.apache.axis2.jaxws.marshaller.impl.alt.DocLitWrappedMethodMarshaller.demarshalFaultResponse(DocLitWrappedMethodMarshaller.java:680)\n    at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.getFaultResponse(JAXWSProxyHandler.java:632)\n    at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.createResponse(JAXWSProxyHandler.java:566)\n    at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invokeSEIMethod(JAXWSProxyHandler.java:432)\n    at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invoke(JAXWSProxyHandler.java:213)\n</code></pre>\n<p>Again: it works in Tomcat 9, but it doesn't work in Wepshere 8.5.5.20.</p>\n<p>Anyone has an idea how to fix above problems? I can not easily debug the applications because they are invoked with a proxy.</p>\n"},{"tags":["java","android","text-size"],"comments":[{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":0,"creation_date":1635759912,"post_id":69794322,"comment_id":123370853,"body_markdown":"I&#39;m guessing the problem is when you override `getResources` and create the configuration from a context that is not locale aware, hence the crash you get. I rarely stop to say things like this in stackoverflow since its main purpose is to teach. However a lot of it also encourages others to copy your approach and I cannot stress enough that you should NOT do this. There are a lot of people that require apps to adjust to this setting in order to be able to use them. Not all of us have 20-20 vision. Perhaps the better approach would be to reconsider the design.","body":"I&#39;m guessing the problem is when you override <code>getResources</code> and create the configuration from a context that is not locale aware, hence the crash you get. I rarely stop to say things like this in stackoverflow since its main purpose is to teach. However a lot of it also encourages others to copy your approach and I cannot stress enough that you should NOT do this. There are a lot of people that require apps to adjust to this setting in order to be able to use them. Not all of us have 20-20 vision. Perhaps the better approach would be to reconsider the design."},{"owner":{"account_id":23203465,"reputation":19,"user_id":17298006,"display_name":"yyyy"},"score":0,"creation_date":1635818965,"post_id":69794322,"comment_id":123389175,"body_markdown":"Thanks.I&#39;ll check the lifecycle.Change design is not the decision I can make.","body":"Thanks.I&#39;ll check the lifecycle.Change design is not the decision I can make."}],"owner":{"account_id":23203465,"reputation":19,"user_id":17298006,"display_name":"yyyy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635759263,"creation_date":1635755286,"question_id":69794322,"body_markdown":"The goal was to make textsize in app dont change with system settings.\r\nI found to override getResources() in activity and override attachBaseContext() in fragment.Like the code below:\r\n\r\n    @Override\r\n    public Resources getResources() {\r\n        Resources resources = super.getResources();\r\n        Configuration config = resources.getConfiguration();\r\n        config.setToDefaults();\r\n        return createConfigurationContext(config).getResources();\r\n    }\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context newBase) {\r\n        Configuration config = newBase.getResources().getConfiguration();\r\n        config.fontScale=1;\r\n        Context context=newBase.createConfigurationContext(config);\r\n        super.attachBaseContext(context);\r\n    }\r\nAfter I added these code,I found some strange crash start to appear.Crash info:\r\n\r\n    android.view.InflateException: Binary XML file line #9 in \r\n    com.xx.xx:layout/default_loading: Binary XML file line #9 in \r\n    com.xx.xx:layout/default_loading: Error inflating class android.widget.ProgressBar\r\n    Caused by: android.view.InflateException: Binary XML file line #9 in \r\n    com.xx.xx:layout/default_loading: Error inflating class android.widget.ProgressBar\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n\tat android.view.LayoutInflater.createView(LayoutInflater.java:852)\r\n\tat android.view.LayoutInflater.createView(LayoutInflater.java:774)\r\n\tat com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1138)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1099)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:479)\r\n\tat com.jianzhiku.activity.HomeActivity.onCreateView(HomeActivity.java:432)\r\n\tat androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\r\n\tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\r\n\tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n\tat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n\tat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\r\n\tat androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1971)\r\n\tat androidx.fragment.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:311)\r\n\tat androidx.fragment.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:249)\r\n\tat androidx.viewpager.widget.ViewPager.populate(ViewPager.java:1244)\r\n\tat androidx.viewpager.widget.ViewPager.populate(ViewPager.java:1092)\r\n\tat androidx.viewpager.widget.ViewPager.onMeasure(ViewPager.java:1622)\r\n\tat android.view.View.measure(View.java:25960)\r\n\tat android.widget.LinearLayout.measureVertical(LinearLayout.java:995)\r\n\tat android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n\tat android.view.View.measure(View.java:25960)\r\n\tat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n\tat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n\tat android.view.View.measure(View.java:25960)\r\n\tat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n\tat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n\tat android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n\tat android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n\tat android.view.View.measure(View.java:25960)\r\n\tat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\r\n\tat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n\tat com.android.internal.policy.DecorView.onMeasure(DecorView.java:830)\r\n\tat android.view.View.measure(View.java:25960)\r\n\tat android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3906)\r\n\tat android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:2625)\r\n\tat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2888)\r\n\tat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2345)\r\n\tat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:9046)\r\n\tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:1066)\r\n\tat android.view.Choreographer.doCallbacks(Choreographer.java:889)\r\n\tat android.view.Choreographer.doFrame(Choreographer.java:816)\r\n\tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1051)\r\n\tat android.os.Handler.handleCallback(Handler.java:938)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loop(Looper.java:264)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8262)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:632)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1049)\r\n    Caused by: java.lang.NullPointerException: locale == null\r\n\tat libcore.icu.LocaleData.get(LocaleData.java:242)\r\n\tat java.text.NumberFormat.getInstance(NumberFormat.java:840)\r\n\tat java.text.NumberFormat.getPercentInstance(NumberFormat.java:548)\r\n\tat android.widget.ProgressBar.formatStateDescription(ProgressBar.java:1580)\r\n\tat android.widget.ProgressBar.(ProgressBar.java:312)\r\n\tat android.widget.ProgressBar.(ProgressBar.java:262)\r\n\tat android.widget.ProgressBar.(ProgressBar.java:258)\r\n\t... 58 more\r\n\r\nHere is the layout/default_loading:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:padding=&quot;8dp&quot;&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/prograssbar&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;30dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/loading_text&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;8dp&quot;\r\n        android:text=&quot;loading...&quot;\r\n        android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\nAnd I&#39;m sure before override getResources() in activity and attachBaseContext(Context newBase) in fragment,this crash dont exist.And I tested to remove these override,crash dont happen anymore.\r\n\r\nI asked some other guys,they didnt have this problem.\r\n\r\nWhy this crash happens?And how to fix this?\r\n\r\nMy app structure is like this:\r\nFirst Open a splashactivity then finish and open mainactivity,mainactivity contains a viewpager+fragment with 4 fragments.\r\nOther function start activity from fragment.\r\n","title":"Strange problem after override getResources() to make textsize dont change with system settings","body":"<p>The goal was to make textsize in app dont change with system settings.\nI found to override getResources() in activity and override attachBaseContext() in fragment.Like the code below:</p>\n<pre><code>@Override\npublic Resources getResources() {\n    Resources resources = super.getResources();\n    Configuration config = resources.getConfiguration();\n    config.setToDefaults();\n    return createConfigurationContext(config).getResources();\n}\n\n@Override\nprotected void attachBaseContext(Context newBase) {\n    Configuration config = newBase.getResources().getConfiguration();\n    config.fontScale=1;\n    Context context=newBase.createConfigurationContext(config);\n    super.attachBaseContext(context);\n}\n</code></pre>\n<p>After I added these code,I found some strange crash start to appear.Crash info:</p>\n<pre><code>android.view.InflateException: Binary XML file line #9 in \ncom.xx.xx:layout/default_loading: Binary XML file line #9 in \ncom.xx.xx:layout/default_loading: Error inflating class android.widget.ProgressBar\nCaused by: android.view.InflateException: Binary XML file line #9 in \ncom.xx.xx:layout/default_loading: Error inflating class android.widget.ProgressBar\nCaused by: java.lang.reflect.InvocationTargetException\nat java.lang.reflect.Constructor.newInstance0(Native Method)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:343)\nat android.view.LayoutInflater.createView(LayoutInflater.java:852)\nat android.view.LayoutInflater.createView(LayoutInflater.java:774)\nat com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\nat android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\nat android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:1138)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1099)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:680)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:532)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:479)\nat com.jianzhiku.activity.HomeActivity.onCreateView(HomeActivity.java:432)\nat androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\nat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\nat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\nat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\nat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\nat androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1971)\nat androidx.fragment.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:311)\nat androidx.fragment.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:249)\nat androidx.viewpager.widget.ViewPager.populate(ViewPager.java:1244)\nat androidx.viewpager.widget.ViewPager.populate(ViewPager.java:1092)\nat androidx.viewpager.widget.ViewPager.onMeasure(ViewPager.java:1622)\nat android.view.View.measure(View.java:25960)\nat android.widget.LinearLayout.measureVertical(LinearLayout.java:995)\nat android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\nat android.view.View.measure(View.java:25960)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat android.view.View.measure(View.java:25960)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\nat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\nat android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\nat android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\nat android.view.View.measure(View.java:25960)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7112)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat com.android.internal.policy.DecorView.onMeasure(DecorView.java:830)\nat android.view.View.measure(View.java:25960)\nat android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3906)\nat android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:2625)\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2888)\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2345)\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:9046)\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:1066)\nat android.view.Choreographer.doCallbacks(Choreographer.java:889)\nat android.view.Choreographer.doFrame(Choreographer.java:816)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1051)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:264)\nat android.app.ActivityThread.main(ActivityThread.java:8262)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:632)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1049)\nCaused by: java.lang.NullPointerException: locale == null\nat libcore.icu.LocaleData.get(LocaleData.java:242)\nat java.text.NumberFormat.getInstance(NumberFormat.java:840)\nat java.text.NumberFormat.getPercentInstance(NumberFormat.java:548)\nat android.widget.ProgressBar.formatStateDescription(ProgressBar.java:1580)\nat android.widget.ProgressBar.(ProgressBar.java:312)\nat android.widget.ProgressBar.(ProgressBar.java:262)\nat android.widget.ProgressBar.(ProgressBar.java:258)\n... 58 more\n</code></pre>\n<p>Here is the layout/default_loading:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:gravity=&quot;center&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:padding=&quot;8dp&quot;&gt;\n\n&lt;ProgressBar\n    android:id=&quot;@+id/prograssbar&quot;\n    android:layout_width=&quot;30dp&quot;\n    android:layout_height=&quot;30dp&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/loading_text&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginLeft=&quot;8dp&quot;\n    android:text=&quot;loading...&quot;\n    android:textSize=&quot;14sp&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And I'm sure before override getResources() in activity and attachBaseContext(Context newBase) in fragment,this crash dont exist.And I tested to remove these override,crash dont happen anymore.</p>\n<p>I asked some other guys,they didnt have this problem.</p>\n<p>Why this crash happens?And how to fix this?</p>\n<p>My app structure is like this:\nFirst Open a splashactivity then finish and open mainactivity,mainactivity contains a viewpager+fragment with 4 fragments.\nOther function start activity from fragment.</p>\n"},{"tags":["java","localization","annotations","internationalization"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1635522959,"post_id":69766648,"comment_id":123329757,"body_markdown":"“the project is not based on spring”. That’s a valuable information, but even better would be telling what you are using instead. In the end, there must be code reading the annotation and presenting the user a message based on that annotation. *This code* is responsible for doing the internationalization.","body":"“the project is not based on spring”. That’s a valuable information, but even better would be telling what you are using instead. In the end, there must be code reading the annotation and presenting the user a message based on that annotation. <i>This code</i> is responsible for doing the internationalization."},{"owner":{"account_id":22540543,"reputation":27,"user_id":16731154,"display_name":"Robinyer"},"score":0,"creation_date":1635562823,"post_id":69766648,"comment_id":123338673,"body_markdown":"@Holger Thanks for your help. I update the question and add the code reading the annotation. I will try to add internationalization code in &#39;getCapabilityDescription&#39; function next Monday and update this problem. Thank you for your help again, This problem really bothers me. I&#39;m so stupid that I can&#39;t find any solution to the internationalization of non spring project annotations on Google.","body":"@Holger Thanks for your help. I update the question and add the code reading the annotation. I will try to add internationalization code in &#39;getCapabilityDescription&#39; function next Monday and update this problem. Thank you for your help again, This problem really bothers me. I&#39;m so stupid that I can&#39;t find any solution to the internationalization of non spring project annotations on Google."}],"answers":[{"tags":[],"owner":{"account_id":22540543,"reputation":27,"user_id":16731154,"display_name":"Robinyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635758978,"creation_date":1635758978,"answer_id":69794974,"question_id":69766648,"body_markdown":"Thanks Holger&#39;s help. I modified the code dealing with &quot;CapabilityDescription&quot; and successfully implemented the requirements.\r\n\r\n    /**\r\n     * Gets the capability description from the specified class.\r\n     */\r\n    private String getCapabilityDescription(final Class&lt;?&gt; cls) {\r\n        try {\r\n            Locale myLocale = new Locale(&quot;zh&quot;);\r\n            ResourceBundle myLanguageBundle = ResourceBundle.getBundle(&quot;Messages&quot;, myLocale);\r\n            return myLanguageBundle.getString(&quot;CapabilityDescription_&quot;+cls.getSimpleName());\r\n        }catch (Exception e){\r\n            final CapabilityDescription capabilityDesc = cls.getAnnotation(CapabilityDescription.class);\r\n            return capabilityDesc == null ? null : capabilityDesc.value();\r\n        }\r\n\r\n    }\r\n\r\n","title":"How to Internationalization in java Annotations","body":"<p>Thanks Holger's help. I modified the code dealing with &quot;CapabilityDescription&quot; and successfully implemented the requirements.</p>\n<pre><code>/**\n * Gets the capability description from the specified class.\n */\nprivate String getCapabilityDescription(final Class&lt;?&gt; cls) {\n    try {\n        Locale myLocale = new Locale(&quot;zh&quot;);\n        ResourceBundle myLanguageBundle = ResourceBundle.getBundle(&quot;Messages&quot;, myLocale);\n        return myLanguageBundle.getString(&quot;CapabilityDescription_&quot;+cls.getSimpleName());\n    }catch (Exception e){\n        final CapabilityDescription capabilityDesc = cls.getAnnotation(CapabilityDescription.class);\n        return capabilityDesc == null ? null : capabilityDesc.value();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22540543,"reputation":27,"user_id":16731154,"display_name":"Robinyer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1635758978,"creation_date":1635500107,"question_id":69766648,"body_markdown":"I want to internationalize the annotation in java, **but the project is not based on spring.** \r\n\r\n(Sorry I&#39;m a freshman in Java. The project is in NiFi and I don&#39;t know what it using. The project was built by Maven, Generating a NAR package that defines the processor is the purpose of the project build)(NAR package is a concept in NiFi. Similar to jar package, NAR package consists of multiple jar packages and configuration files.)\r\n\r\nIs there any way to use the replacement symbol $ in non spring project? To refer to the translated text in Messages.properties like \r\n``` @CapabilityDescription(value = &quot;${text}&quot;). ```\r\n\r\nand set ```text=&quot;description&quot;```in Messages.properties\r\n\r\nI try ResourceBundle.getString in annotation but failed(Attribute value must be constant)\r\n```@CapabilityDescription(MyResourceBundle.mybundle.getString(&quot;text&quot;))```\r\n\r\n\r\nthis is the definition code of CapabilityDescription\r\n```/**\r\n * Annotation that may be placed on a {@link org.apache.nifi.processor.Processor Processor},\r\n * {@link org.apache.nifi.controller.ControllerService ControllerService}, or\r\n * {@link org.apache.nifi.reporting.ReportingTask ReportingTask} allowing for a\r\n * description to be provided. This description can be provided to a user in\r\n * logs, UI, etc.\r\n *\r\n */\r\n@Documented\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\npublic @interface CapabilityDescription {\r\n\r\n    String value();\r\n}\r\n```\r\n\r\nOr any idea that can realize the internationalization in annotation. Thank you for your idea.\r\n\r\nThanks for @Holger I find the code that reading the annotation. (DtoFactory.java In another project)\r\n```\r\n/**\r\n * Gets the capability description from the specified class.\r\n */\r\nprivate String getCapabilityDescription(final Class&lt;?&gt; cls) {\r\n    final CapabilityDescription capabilityDesc = cls.getAnnotation(CapabilityDescription.class);\r\n    return capabilityDesc == null ? null : capabilityDesc.value();\r\n}\r\n```","title":"How to Internationalization in java Annotations","body":"<p>I want to internationalize the annotation in java, <strong>but the project is not based on spring.</strong></p>\n<p>(Sorry I'm a freshman in Java. The project is in NiFi and I don't know what it using. The project was built by Maven, Generating a NAR package that defines the processor is the purpose of the project build)(NAR package is a concept in NiFi. Similar to jar package, NAR package consists of multiple jar packages and configuration files.)</p>\n<p>Is there any way to use the replacement symbol $ in non spring project? To refer to the translated text in Messages.properties like\n<code>@CapabilityDescription(value = &quot;${text}&quot;).</code></p>\n<p>and set <code>text=&quot;description&quot;</code>in Messages.properties</p>\n<p>I try ResourceBundle.getString in annotation but failed(Attribute value must be constant)\n<code>@CapabilityDescription(MyResourceBundle.mybundle.getString(&quot;text&quot;))</code></p>\n<p>this is the definition code of CapabilityDescription</p>\n<pre><code> * Annotation that may be placed on a {@link org.apache.nifi.processor.Processor Processor},\n * {@link org.apache.nifi.controller.ControllerService ControllerService}, or\n * {@link org.apache.nifi.reporting.ReportingTask ReportingTask} allowing for a\n * description to be provided. This description can be provided to a user in\n * logs, UI, etc.\n *\n */\n@Documented\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\npublic @interface CapabilityDescription {\n\n    String value();\n}\n</code></pre>\n<p>Or any idea that can realize the internationalization in annotation. Thank you for your idea.</p>\n<p>Thanks for @Holger I find the code that reading the annotation. (DtoFactory.java In another project)</p>\n<pre><code>/**\n * Gets the capability description from the specified class.\n */\nprivate String getCapabilityDescription(final Class&lt;?&gt; cls) {\n    final CapabilityDescription capabilityDesc = cls.getAnnotation(CapabilityDescription.class);\n    return capabilityDesc == null ? null : capabilityDesc.value();\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1635766708,"post_id":69794905,"comment_id":123373254,"body_markdown":"Check this https://stackoverflow.com/q/39944223/2000323","body":"Check this <a href=\"https://stackoverflow.com/q/39944223/2000323\">stackoverflow.com/q/39944223/2000323</a>"},{"owner":{"account_id":7018638,"reputation":1,"user_id":5378979,"display_name":"ivan long"},"score":0,"creation_date":1635814044,"post_id":69794905,"comment_id":123388416,"body_markdown":"The error is the xml of the dependency package, the answer of this link can not solve my problem","body":"The error is the xml of the dependency package, the answer of this link can not solve my problem"},{"owner":{"account_id":7018638,"reputation":1,"user_id":5378979,"display_name":"ivan long"},"score":0,"creation_date":1635814753,"post_id":69794905,"comment_id":123388541,"body_markdown":"What I don’t understand is, the same pom.xml, why eclipse can start normally, the idea will report this error when started","body":"What I don’t understand is, the same pom.xml, why eclipse can start normally, the idea will report this error when started"},{"owner":{"account_id":7018638,"reputation":1,"user_id":5378979,"display_name":"ivan long"},"score":0,"creation_date":1635909609,"post_id":69794905,"comment_id":123415909,"body_markdown":"I am using the idea community edition, the Ultimate edition does not have this problem","body":"I am using the idea community edition, the Ultimate edition does not have this problem"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1636018370,"post_id":69794905,"comment_id":123447590,"body_markdown":"This is expected with Community Edition as it doesn&#39;t have Spring support and does not bundle spring resources that it uses for validation of the Spring schemas and the run configuration for running Spring applications.","body":"This is expected with Community Edition as it doesn&#39;t have Spring support and does not bundle spring resources that it uses for validation of the Spring schemas and the run configuration for running Spring applications."}],"owner":{"account_id":7018638,"reputation":1,"user_id":5378979,"display_name":"ivan long"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635758583,"creation_date":1635758583,"question_id":69794905,"body_markdown":"I use the idea startup program to report an error, but I can start normally with eclipse. What is the reason?\r\n\r\n    [2021-11-01 16:53:27.886] [main                  ] [ERROR] \r\n    [org.springframework.boot.SpringApplication                  :837] - Application run failed\r\n    org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration \r\n    problem: Unable to locate Spring NamespaceHandler for XML schema namespace \r\n    [http://www.springframework.org/schema/data/jpa]\r\n    Offending resource: URL [jar:file:/D:/mavens/repository/com/ygsoft/necp/component/necp.component.unstructure/7.1.0.ecp/necp.component.unstructure-7.1.0.ecp.jar!/META-INF/ecp-spring/ecp.unstructure.xml]\r\n","title":"idea run error:Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.springframework.org/schema/data/jpa]","body":"<p>I use the idea startup program to report an error, but I can start normally with eclipse. What is the reason?</p>\n<pre><code>[2021-11-01 16:53:27.886] [main                  ] [ERROR] \n[org.springframework.boot.SpringApplication                  :837] - Application run failed\norg.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration \nproblem: Unable to locate Spring NamespaceHandler for XML schema namespace \n[http://www.springframework.org/schema/data/jpa]\nOffending resource: URL [jar:file:/D:/mavens/repository/com/ygsoft/necp/component/necp.component.unstructure/7.1.0.ecp/necp.component.unstructure-7.1.0.ecp.jar!/META-INF/ecp-spring/ecp.unstructure.xml]\n</code></pre>\n"},{"tags":["java","kubernetes","openshift","quarkus","fabric8"],"answers":[{"tags":[],"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635530711,"creation_date":1635529105,"answer_id":69772833,"question_id":69766220,"body_markdown":"Fabric8 Kubernetes Client has `client.getApiGroups()` method to get a list of all available api groups. You can then get api resource for each version using `client.getApiResources()` to get output like `kubectl api-resources`.\r\n\r\nI was able to do it with something like this. I am using Fabric8 Kubernetes Client v5.9.0:\r\n\r\n```java\r\ntry (KubernetesClient client = new DefaultKubernetesClient()) {\r\n  APIGroupList apiGroupList = client.getApiGroups();\r\n\r\n  apiGroupList.getGroups()\r\n    .forEach(group -&gt; group.getVersions().forEach(gv -&gt; {\r\n      APIResourceList apiResourceList = client.getApiResources(gv.getGroupVersion());\r\n      apiResourceList.getResources()\r\n        .stream()\r\n        .filter(r -&gt; !r.getName().contains(&quot;/&quot;))\r\n        .forEach(r -&gt; System.out.printf(&quot;%s  %s   %s   %s   %s%n&quot;, r.getName(), String.join( &quot;,&quot;, r.getShortNames()), \r\n          gv.getGroupVersion(), r.getNamespaced(), r.getKind()));\r\n    }));\r\n}\r\n```","title":"Retrieve list of openshift resources with fabric8 openshift-client","body":"<p>Fabric8 Kubernetes Client has <code>client.getApiGroups()</code> method to get a list of all available api groups. You can then get api resource for each version using <code>client.getApiResources()</code> to get output like <code>kubectl api-resources</code>.</p>\n<p>I was able to do it with something like this. I am using Fabric8 Kubernetes Client v5.9.0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (KubernetesClient client = new DefaultKubernetesClient()) {\n  APIGroupList apiGroupList = client.getApiGroups();\n\n  apiGroupList.getGroups()\n    .forEach(group -&gt; group.getVersions().forEach(gv -&gt; {\n      APIResourceList apiResourceList = client.getApiResources(gv.getGroupVersion());\n      apiResourceList.getResources()\n        .stream()\n        .filter(r -&gt; !r.getName().contains(&quot;/&quot;))\n        .forEach(r -&gt; System.out.printf(&quot;%s  %s   %s   %s   %s%n&quot;, r.getName(), String.join( &quot;,&quot;, r.getShortNames()), \n          gv.getGroupVersion(), r.getNamespaced(), r.getKind()));\n    }));\n}\n</code></pre>\n"}],"owner":{"account_id":5519215,"reputation":605,"user_id":4382794,"accept_rate":33,"display_name":"alphamikevictor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635758370,"creation_date":1635498152,"question_id":69766220,"body_markdown":"I am trying to get a list of all possible resources of a given cluster using the fabric8 openshift-client (or kubernetes-client), so trying to obtain same as command `oc api-resources`. So far I am able to get the list of apiGroups with a code like this\r\n\r\n```java\r\nOpenShiftClient client = new DefaultOpenshiftClient();\r\nList&lt;APIService&gt; apiservices = client.apiServices().list().getItems();\r\nfor (APIService apiservice : apiservices){\r\n  System.out.println(apiservice.getSpec().getGroup());\r\n}\r\n```\r\n\r\nNow I am looking how to obtain a list of Resources (and I see in the code there is a class names APIResource) belonging to a particular group, but I am not able to find it.\r\n\r\nEDIT:\r\n\r\nWhile I see in code there is a getApiResources() method, for some reason this is not shipped with the quarkus-kubernetes-client (or quarkus-openshift-client) on Quarkus 2.3\r\n\r\nAs a workaround I have used kubernetes API using RestClient to access /apis/{group}/{version} and /api/v1","title":"Retrieve list of openshift resources with fabric8 openshift-client","body":"<p>I am trying to get a list of all possible resources of a given cluster using the fabric8 openshift-client (or kubernetes-client), so trying to obtain same as command <code>oc api-resources</code>. So far I am able to get the list of apiGroups with a code like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>OpenShiftClient client = new DefaultOpenshiftClient();\nList&lt;APIService&gt; apiservices = client.apiServices().list().getItems();\nfor (APIService apiservice : apiservices){\n  System.out.println(apiservice.getSpec().getGroup());\n}\n</code></pre>\n<p>Now I am looking how to obtain a list of Resources (and I see in the code there is a class names APIResource) belonging to a particular group, but I am not able to find it.</p>\n<p>EDIT:</p>\n<p>While I see in code there is a getApiResources() method, for some reason this is not shipped with the quarkus-kubernetes-client (or quarkus-openshift-client) on Quarkus 2.3</p>\n<p>As a workaround I have used kubernetes API using RestClient to access /apis/{group}/{version} and /api/v1</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":6883697,"reputation":1206,"user_id":5289570,"display_name":"Wassadamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586377553,"creation_date":1586377553,"answer_id":61109428,"question_id":61109427,"body_markdown":"Figured it out using:\r\n\r\n    SchemaMetadata sm = client.getLatestSchemaMetadata(schemaName);\r\n    System.out.println(sm.getSchema());","title":"Retrieve Schema From Confluent Schema Registry","body":"<p>Figured it out using:</p>\n\n<pre><code>SchemaMetadata sm = client.getLatestSchemaMetadata(schemaName);\nSystem.out.println(sm.getSchema());\n</code></pre>\n"}],"owner":{"account_id":6883697,"reputation":1206,"user_id":5289570,"display_name":"Wassadamo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635758281,"creation_date":1586377553,"question_id":61109427,"body_markdown":"I&#39;m trying to retrieve schema subject versions given a kafka topic from a schema registry. I can successfully POST a new version with `client.register(schema-name, schema)`, but I&#39;m not sure how to retrieve the versions. I tried below using a curl request, but the result hits -1 immediately (empty).\r\n\r\n    CachedSchemaRegistryClient client = new CachedSchemaRegistryClient(schemaRegistryUrl, 20);\r\n    \r\n    // curl -X GET http://schema.registry.url:8888/subjects/{topic}/versions/\r\n    \r\n    String command = &quot;curl -X GET --header &#39;Accept: application/vnd.schemaregistry.v1+json&#39; &#39;https://schema.registry.url:8888/api/schema-proxy/subjects/mytopic-value/versions&#39;&quot;;\r\n    Process process = Runtime.getRuntime().exec(command);\r\n    \r\n    Reader reader = new InputStreamReader(process.getInputStream());\r\n    int result;\r\n    while ((result = reader.read()) != -1){ // Nothing printed\r\n        System.out.println(result);\r\n    }\r\n\r\nHow can I fix this GET request, or better yet, how should I use the schema registry `client` to retrieve a schema?","title":"Retrieve Schema From Confluent Schema Registry","body":"<p>I'm trying to retrieve schema subject versions given a kafka topic from a schema registry. I can successfully POST a new version with <code>client.register(schema-name, schema)</code>, but I'm not sure how to retrieve the versions. I tried below using a curl request, but the result hits -1 immediately (empty).</p>\n\n<pre><code>CachedSchemaRegistryClient client = new CachedSchemaRegistryClient(schemaRegistryUrl, 20);\n\n// curl -X GET http://schema.registry.url:8888/subjects/{topic}/versions/\n\nString command = \"curl -X GET --header 'Accept: application/vnd.schemaregistry.v1+json' 'https://schema.registry.url:8888/api/schema-proxy/subjects/mytopic-value/versions'\";\nProcess process = Runtime.getRuntime().exec(command);\n\nReader reader = new InputStreamReader(process.getInputStream());\nint result;\nwhile ((result = reader.read()) != -1){ // Nothing printed\n    System.out.println(result);\n}\n</code></pre>\n\n<p>How can I fix this GET request, or better yet, how should I use the schema registry <code>client</code> to retrieve a schema?</p>\n"},{"tags":["java","hibernate","configuration","deprecated","bootstrapping"],"comments":[{"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"score":0,"creation_date":1426671633,"post_id":8621906,"comment_id":46464260,"body_markdown":"Even in 4.3.8 quick start guide they are using this example: new Configuration()       .configure().buildSessionFactory(); :(","body":"Even in 4.3.8 quick start guide they are using this example: new Configuration()       .configure().buildSessionFactory(); :("},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1452986740,"post_id":8621906,"comment_id":57408135,"body_markdown":"@VenkataRaju May be, it is not bad, because of in Hibernate 5 everything turn back and this example correct, but (!) all configuration examples here are [not valid for Hibernate 5](http://stackoverflow.com/a/32711654/3405171).","body":"@VenkataRaju May be, it is not bad, because of in Hibernate 5 everything turn back and this example correct, but (!) all configuration examples here are <a href=\"http://stackoverflow.com/a/32711654/3405171\">not valid for Hibernate 5</a>."}],"answers":[{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1324688375,"creation_date":1324688375,"answer_id":8621964,"question_id":8621906,"body_markdown":"It&#39;s as simple as this: the JBoss docs are not 100% perfectly well-maintained. Go with [what the JavaDoc says][1]: `buildSessionFactory(ServiceRegistry serviceRegistry)`.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/4.0/javadocs/org/hibernate/cfg/Configuration.html#buildSessionFactory%28org.hibernate.service.ServiceRegistry%29","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>It's as simple as this: the JBoss docs are not 100% perfectly well-maintained. Go with <a href=\"http://docs.jboss.org/hibernate/core/4.0/javadocs/org/hibernate/cfg/Configuration.html#buildSessionFactory%28org.hibernate.service.ServiceRegistry%29\" rel=\"nofollow\">what the JavaDoc says</a>: <code>buildSessionFactory(ServiceRegistry serviceRegistry)</code>.</p>\n"},{"tags":[],"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1324750351,"creation_date":1324688444,"answer_id":8621969,"question_id":8621906,"body_markdown":"Yes, it is deprecated.  http://docs.jboss.org/hibernate/core/4.0/javadocs/org/hibernate/cfg/Configuration.html#buildSessionFactory() specifically tells you to use the other method you found instead (`buildSessionFactory(ServiceRegistry serviceRegistry)`) - so use it.\r\n\r\nThe documentation is copied over from release to release, and likely just hasn&#39;t been updated yet (they don&#39;t rewrite the manual with every release) - so trust the Javadocs.\r\n\r\nThe specifics of this change can be viewed at:\r\n\r\n - Source code: https://github.com/hibernate/hibernate-core/commit/0b10334e403cf2b11ee60725cc5619eaafecc00b\r\n - Ticket: https://hibernate.onjira.com/browse/HHH-5991\r\n\r\nSome additional references:\r\n\r\n - http://relation.to/Bloggers/HibernateCore40IsFinal\r\n - http://relation.to/19942.lace\r\n - http://docs.jboss.org/hibernate/core/4.0/devguide/en-US/html/ch07.html#services-registry\r\n - http://sourceforge.net/apps/mediawiki/hibernate/index.php?title=Category:Services","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>Yes, it is deprecated.  <a href=\"http://docs.jboss.org/hibernate/core/4.0/javadocs/org/hibernate/cfg/Configuration.html#buildSessionFactory\">http://docs.jboss.org/hibernate/core/4.0/javadocs/org/hibernate/cfg/Configuration.html#buildSessionFactory</a>() specifically tells you to use the other method you found instead (<code>buildSessionFactory(ServiceRegistry serviceRegistry)</code>) - so use it.</p>\n\n<p>The documentation is copied over from release to release, and likely just hasn't been updated yet (they don't rewrite the manual with every release) - so trust the Javadocs.</p>\n\n<p>The specifics of this change can be viewed at:</p>\n\n<ul>\n<li>Source code: <a href=\"https://github.com/hibernate/hibernate-core/commit/0b10334e403cf2b11ee60725cc5619eaafecc00b\">https://github.com/hibernate/hibernate-core/commit/0b10334e403cf2b11ee60725cc5619eaafecc00b</a></li>\n<li>Ticket: <a href=\"https://hibernate.onjira.com/browse/HHH-5991\">https://hibernate.onjira.com/browse/HHH-5991</a></li>\n</ul>\n\n<p>Some additional references:</p>\n\n<ul>\n<li><a href=\"http://relation.to/Bloggers/HibernateCore40IsFinal\">http://relation.to/Bloggers/HibernateCore40IsFinal</a></li>\n<li><a href=\"http://relation.to/19942.lace\">http://relation.to/19942.lace</a></li>\n<li><a href=\"http://docs.jboss.org/hibernate/core/4.0/devguide/en-US/html/ch07.html#services-registry\">http://docs.jboss.org/hibernate/core/4.0/devguide/en-US/html/ch07.html#services-registry</a></li>\n<li><a href=\"http://sourceforge.net/apps/mediawiki/hibernate/index.php?title=Category:Services\">http://sourceforge.net/apps/mediawiki/hibernate/index.php?title=Category:Services</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452987363,"creation_date":1324865644,"answer_id":8632566,"question_id":8621906,"body_markdown":"It is not unusual to find discrepancies between different versions of documentation.  Most developers view documentation as a chore, and they tend to put it off.\r\n\r\nAs a rule of thumb, if the javadoc says one thing and some non-javadoc documentation contradicts it, the chances are that the javadoc is more accurate.  Programmers are more likely to keep the javadoc up to date with changes to the code ... because the &quot;source&quot; for the javadoc is in the same file as the code.\r\n\r\nIn the case of `@deprecated` tags, it is a virtual certainty that the javadoc is more accurate.  Developers deprecate things after careful consideration ... and (generally speaking) they don&#39;t undeprecate them.\r\n\r\n","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>It is not unusual to find discrepancies between different versions of documentation.  Most developers view documentation as a chore, and they tend to put it off.</p>\n\n<p>As a rule of thumb, if the javadoc says one thing and some non-javadoc documentation contradicts it, the chances are that the javadoc is more accurate.  Programmers are more likely to keep the javadoc up to date with changes to the code ... because the \"source\" for the javadoc is in the same file as the code.</p>\n\n<p>In the case of <code>@deprecated</code> tags, it is a virtual certainty that the javadoc is more accurate.  Developers deprecate things after careful consideration ... and (generally speaking) they don't undeprecate them.</p>\n"},{"tags":[],"owner":{"account_id":1043773,"reputation":5458,"user_id":1049184,"accept_rate":83,"display_name":"batbaatar"},"down_vote_count":0,"up_vote_count":385,"is_accepted":true,"score":385,"last_activity_date":1479724060,"creation_date":1326348438,"answer_id":8830848,"question_id":8621906,"body_markdown":"Yes it is deprecated. Replace your SessionFactory with the following:\r\n\r\nIn **Hibernate 4.0, 4.1, 4.2**\r\n\r\n    private static SessionFactory sessionFactory;\r\n    private static ServiceRegistry serviceRegistry;\r\n    \r\n    public static SessionFactory createSessionFactory() {\r\n    \tConfiguration configuration = new Configuration();\r\n    \tconfiguration.configure();\r\n    \tServiceRegistry serviceRegistry = new ServiceRegistryBuilder().applySettings(\r\n    \t\t\tconfiguration.getProperties()). buildServiceRegistry();\r\n    \tsessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n    \treturn sessionFactory;\r\n    }\r\n\r\n&gt; **UPDATE:**\r\n\r\nIn **Hibernate 4.3** ServiceRegistryBuilder is **deprecated**. Use the following instead.\r\n\r\n    serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\r\n    \t\t\tconfiguration.getProperties()).build();","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>Yes it is deprecated. Replace your SessionFactory with the following:</p>\n\n<p>In <strong>Hibernate 4.0, 4.1, 4.2</strong></p>\n\n<pre><code>private static SessionFactory sessionFactory;\nprivate static ServiceRegistry serviceRegistry;\n\npublic static SessionFactory createSessionFactory() {\n    Configuration configuration = new Configuration();\n    configuration.configure();\n    ServiceRegistry serviceRegistry = new ServiceRegistryBuilder().applySettings(\n            configuration.getProperties()). buildServiceRegistry();\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n    return sessionFactory;\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>UPDATE:</strong></p>\n</blockquote>\n\n<p>In <strong>Hibernate 4.3</strong> ServiceRegistryBuilder is <strong>deprecated</strong>. Use the following instead.</p>\n\n<pre><code>serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n            configuration.getProperties()).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005077,"reputation":131,"user_id":1795195,"display_name":"mixturez"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1364560362,"creation_date":1364558977,"answer_id":15702946,"question_id":8621906,"body_markdown":"or \r\n\r\n    public class Hbutil {\r\n\r\n        private static SessionFactory sessionFactory;\r\n        private static ServiceRegistry serviceRegistry;\r\n\r\n        private static SessionFactory configureSessionFactory() throws HibernateException {\r\n            Configuration configuration = new Configuration();\r\n            configuration.configure();\r\n            serviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();        \r\n            sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n            return sessionFactory;\r\n        }\r\n\r\n        public static SessionFactory getSessionFactory() {\r\n            return configureSessionFactory();\r\n\r\n        }\r\n    }\r\n\r\n","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>or </p>\n\n<pre><code>public class Hbutil {\n\n    private static SessionFactory sessionFactory;\n    private static ServiceRegistry serviceRegistry;\n\n    private static SessionFactory configureSessionFactory() throws HibernateException {\n        Configuration configuration = new Configuration();\n        configuration.configure();\n        serviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();        \n        sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n        return sessionFactory;\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return configureSessionFactory();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2080225"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1399620426,"creation_date":1391201783,"answer_id":21489886,"question_id":8621906,"body_markdown":"Code verified to work in Hibernate 4.3.0. Notice you can remove the XML filename parameter, or else provide your own path there.  This is similar to (but typos corrected) other posts here, but this one is correct.\r\n\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.service.ServiceRegistry;    \r\n\r\n \r\n    Configuration configuration = new Configuration();\r\n    configuration.configure(&quot;/com/rtw/test/hiber/hibernate.cfg.xml&quot;);\r\n    ServiceRegistry  serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();        \r\n\t    sessionFactory = configuration.buildSessionFactory(serviceRegistry);","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>Code verified to work in Hibernate 4.3.0. Notice you can remove the XML filename parameter, or else provide your own path there.  This is similar to (but typos corrected) other posts here, but this one is correct.</p>\n\n<pre><code>import org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;    \n\n\nConfiguration configuration = new Configuration();\nconfiguration.configure(\"/com/rtw/test/hiber/hibernate.cfg.xml\");\nServiceRegistry  serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();        \n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3999398,"reputation":1959,"user_id":3295819,"display_name":"Bharathiraja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397535942,"creation_date":1397535942,"answer_id":23074654,"question_id":8621906,"body_markdown":"    public class HibernateSessionFactory {\r\n\r\n    private static final SessionFactory sessionFactory = buildSessionFactory1();\r\n\r\n    private static SessionFactory buildSessionFactory1() {\r\n    Configuration configuration = new Configuration().configure(); // configuration\r\n                                                                    // settings\r\n                                                                    // from\r\n                                                                    // hibernate.cfg.xml\r\n\r\n    StandardServiceRegistryBuilder serviceRegistryBuilder = new StandardServiceRegistryBuilder();\r\n\r\n\r\n    serviceRegistryBuilder.applySettings(configuration.getProperties());\r\n\r\n    ServiceRegistry serviceRegistry = serviceRegistryBuilder.build();\r\n\r\n    return configuration.buildSessionFactory(serviceRegistry);\r\n    }\r\n\r\n    public static SessionFactory getSessionFactory() {\r\n    return sessionFactory;\r\n     }\r\n\r\n    public static void shutdown() {\r\n    // Close caches and connection pools\r\n    getSessionFactory().close();\r\n     }","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<pre><code>public class HibernateSessionFactory {\n\nprivate static final SessionFactory sessionFactory = buildSessionFactory1();\n\nprivate static SessionFactory buildSessionFactory1() {\nConfiguration configuration = new Configuration().configure(); // configuration\n                                                                // settings\n                                                                // from\n                                                                // hibernate.cfg.xml\n\nStandardServiceRegistryBuilder serviceRegistryBuilder = new StandardServiceRegistryBuilder();\n\n\nserviceRegistryBuilder.applySettings(configuration.getProperties());\n\nServiceRegistry serviceRegistry = serviceRegistryBuilder.build();\n\nreturn configuration.buildSessionFactory(serviceRegistry);\n}\n\npublic static SessionFactory getSessionFactory() {\nreturn sessionFactory;\n }\n\npublic static void shutdown() {\n// Close caches and connection pools\ngetSessionFactory().close();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1922425,"reputation":1733,"user_id":1733575,"accept_rate":0,"display_name":"Thadeuse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406272005,"creation_date":1406272005,"answer_id":24949920,"question_id":8621906,"body_markdown":"public void sampleConnection() throws Exception {\r\n\r\n         Configuration cfg = new Configuration().addResource(&quot;hibernate.cfg.xml&quot;).configure();\r\n         StandardServiceRegistryBuilder ssrb = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\r\n         SessionFactory sessionFactory = configuration.buildSessionFactory(ssrb.build());\r\n         Session session = sessionFactory.openSession();\r\n         logger.debug(&quot; connection with the database created successfuly.&quot;);\r\n    }","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>public void sampleConnection() throws Exception {</p>\n\n<pre><code>     Configuration cfg = new Configuration().addResource(\"hibernate.cfg.xml\").configure();\n     StandardServiceRegistryBuilder ssrb = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\n     SessionFactory sessionFactory = configuration.buildSessionFactory(ssrb.build());\n     Session session = sessionFactory.openSession();\n     logger.debug(\" connection with the database created successfuly.\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":739058,"reputation":5786,"user_id":1730115,"accept_rate":60,"display_name":"Nadjib Mami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406718464,"creation_date":1406718127,"answer_id":25035144,"question_id":8621906,"body_markdown":"I edited the method created by [batbaatar above][1] so it accepts the Configuration object as a parameter:\r\n\r\n        public static SessionFactory createSessionFactory(Configuration configuration) {\r\n            serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\r\n                    configuration.getProperties()).build();\r\n            factory = configuration.buildSessionFactory(serviceRegistry);\r\n            return factory;\r\n        }\r\n\r\nIn the main class I did:\r\n\r\n        private static SessionFactory factory;\r\n        private static Configuration configuration \r\n        ...      \r\n        configuration = new Configuration();\r\n        configuration.configure().addAnnotatedClass(Employee.class);\r\n        // Other configurations, then           \r\n        factory = createSessionFactory(configuration);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/8830848#8830848","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>I edited the method created by <a href=\"https://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/8830848#8830848\">batbaatar above</a> so it accepts the Configuration object as a parameter:</p>\n\n<pre><code>    public static SessionFactory createSessionFactory(Configuration configuration) {\n        serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n                configuration.getProperties()).build();\n        factory = configuration.buildSessionFactory(serviceRegistry);\n        return factory;\n    }\n</code></pre>\n\n<p>In the main class I did:</p>\n\n<pre><code>    private static SessionFactory factory;\n    private static Configuration configuration \n    ...      \n    configuration = new Configuration();\n    configuration.configure().addAnnotatedClass(Employee.class);\n    // Other configurations, then           \n    factory = createSessionFactory(configuration);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4554710,"reputation":692,"user_id":3698756,"accept_rate":67,"display_name":"Prasad Bhosale"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1407076257,"creation_date":1407076257,"answer_id":25105679,"question_id":8621906,"body_markdown":"Just import following package,\r\n\r\n    import org.hibernate.cfg.Configuration;","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>Just import following package,</p>\n\n<pre><code>import org.hibernate.cfg.Configuration;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2022605,"reputation":3327,"user_id":1808417,"display_name":"saneryee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415697843,"creation_date":1415697843,"answer_id":26861458,"question_id":8621906,"body_markdown":"In **Hibernate 4.2.2**\r\n\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.service.ServiceRegistry;\r\n    import org.hibernate.service.ServiceRegistryBuilder;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) throws Exception\r\n    {\r\n        Configuration configuration = new Configuration()\r\n                .configure();\r\n\r\n        ServiceRegistry serviceRegistry = new ServiceRegistryBuilder().applySettings(\r\n                configuration.getProperties()).buildServiceRegistry();\r\n\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n\r\n        Session session = sessionFactory.openSession();\r\n\r\n        Transaction transaction = session.beginTransaction();\r\n\r\n        Users users = new Users();\r\n\r\n        ... ...\r\n\r\n        session.save(users);\r\n\r\n        transaction.commit();\r\n\r\n        session.close();\r\n\r\n        sessionFactory.close();\r\n\r\n        }\r\n    }","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>In <strong>Hibernate 4.2.2</strong></p>\n\n<pre><code>import org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\nimport org.hibernate.service.ServiceRegistryBuilder;\n\npublic class Test {\n    public static void main(String[] args) throws Exception\n{\n    Configuration configuration = new Configuration()\n            .configure();\n\n    ServiceRegistry serviceRegistry = new ServiceRegistryBuilder().applySettings(\n            configuration.getProperties()).buildServiceRegistry();\n\n    SessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n\n    Session session = sessionFactory.openSession();\n\n    Transaction transaction = session.beginTransaction();\n\n    Users users = new Users();\n\n    ... ...\n\n    session.save(users);\n\n    transaction.commit();\n\n    session.close();\n\n    sessionFactory.close();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3252189,"reputation":4357,"user_id":2742156,"accept_rate":64,"display_name":"Pratap A.K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426316285,"creation_date":1426316285,"answer_id":29046342,"question_id":8621906,"body_markdown":"    Tested on 4.2.7 release\r\n    \r\n    package com.national.software.hibernate;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.service.ServiceRegistry;\r\n    import org.hibernate.service.ServiceRegistryBuilder;\r\n    \r\n    import com.national.software.dto.UserDetails;\r\n    \r\n    public class HibernateTest {\r\n    \r\n    \tstatic SessionFactory sessionFactory;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tUserDetails user = new UserDetails();\r\n    \t\tuser.setUserId(1);\r\n    \t\tuser.setUserName(&quot;user1&quot;);\r\n    \t\t\r\n    \t\tConfiguration config = new Configuration();\r\n    \t\tconfig.configure();\r\n    \t\t\r\n    \t\tServiceRegistry  serviceRegistry = (ServiceRegistry) new ServiceRegistryBuilder().applySettings(config.getProperties()).buildServiceRegistry();\r\n    \t\tsessionFactory = config.buildSessionFactory(serviceRegistry);\r\n    \t\t\r\n    \t\tSession session = sessionFactory.openSession();\r\n    \t\tsession.beginTransaction();\r\n    \t\tsession.save(user);\r\n    \t\tsession.getTransaction().commit();\r\n     \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<pre><code>Tested on 4.2.7 release\n\npackage com.national.software.hibernate;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\nimport org.hibernate.service.ServiceRegistryBuilder;\n\nimport com.national.software.dto.UserDetails;\n\npublic class HibernateTest {\n\n    static SessionFactory sessionFactory;\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        UserDetails user = new UserDetails();\n        user.setUserId(1);\n        user.setUserName(\"user1\");\n\n        Configuration config = new Configuration();\n        config.configure();\n\n        ServiceRegistry  serviceRegistry = (ServiceRegistry) new ServiceRegistryBuilder().applySettings(config.getProperties()).buildServiceRegistry();\n        sessionFactory = config.buildSessionFactory(serviceRegistry);\n\n        Session session = sessionFactory.openSession();\n        session.beginTransaction();\n        session.save(user);\n        session.getTransaction().commit();\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1922425,"reputation":1733,"user_id":1733575,"accept_rate":0,"display_name":"Thadeuse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429610381,"creation_date":1429610381,"answer_id":29768931,"question_id":8621906,"body_markdown":"here are many APIs deprecated in the hibernate core framework.\r\n\r\nwe have created the session factory as below:\r\n\r\nSessionFactory sessionFactory = new Configuration().configure().buildSessionFactory(); \r\n\r\nThe method buildSessionFactory is deprecated from the hibernate 4 release and it is replaced with the new API. If you are using the hibernate 4.3.0 and above, your code has to be:\r\n\r\n1.\tConfiguration configuration = new Configuration().configure();\r\n\r\n2.\tStandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\r\n\r\n3.\tSessionFactory factory = configuration.buildSessionFactory(builder.build());\r\n\r\nClass ServiceRegistryBuilder is  replaced by StandardServiceRegistryBuilder from 4.3.0. It looks like there will be lot of changes in the 5.0 release. Still there is not much clarity on the deprecated APIs and the suitable alternatives to use. Every incremental release comes up with more deprecated API, they are in way of fine tuning the core framework for the release 5.0.","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>here are many APIs deprecated in the hibernate core framework.</p>\n\n<p>we have created the session factory as below:</p>\n\n<p>SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory(); </p>\n\n<p>The method buildSessionFactory is deprecated from the hibernate 4 release and it is replaced with the new API. If you are using the hibernate 4.3.0 and above, your code has to be:</p>\n\n<ol>\n<li><p>Configuration configuration = new Configuration().configure();</p></li>\n<li><p>StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());</p></li>\n<li><p>SessionFactory factory = configuration.buildSessionFactory(builder.build());</p></li>\n</ol>\n\n<p>Class ServiceRegistryBuilder is  replaced by StandardServiceRegistryBuilder from 4.3.0. It looks like there will be lot of changes in the 5.0 release. Still there is not much clarity on the deprecated APIs and the suitable alternatives to use. Every incremental release comes up with more deprecated API, they are in way of fine tuning the core framework for the release 5.0.</p>\n"},{"tags":[],"owner":{"account_id":5061558,"reputation":1331,"user_id":4062987,"accept_rate":100,"display_name":"kavi temre"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1431743615,"creation_date":1431718234,"answer_id":30267369,"question_id":8621906,"body_markdown":"A better way to create **SessionFactory** object in Latest hibernate release **4.3.0** onward is as follow:\r\n\r\n    Configuration configuration = new Configuration().configure();\r\n    StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().\r\n    applySettings(configuration.getProperties());\r\n    SessionFactory factory = configuration.buildSessionFactory(builder.build());","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>A better way to create <strong>SessionFactory</strong> object in Latest hibernate release <strong>4.3.0</strong> onward is as follow:</p>\n\n<pre><code>Configuration configuration = new Configuration().configure();\nStandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().\napplySettings(configuration.getProperties());\nSessionFactory factory = configuration.buildSessionFactory(builder.build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7428495,"reputation":600,"user_id":5650261,"accept_rate":50,"display_name":"Hasan K"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1493104468,"creation_date":1493102433,"answer_id":43603416,"question_id":8621906,"body_markdown":"If you are using **Hibernate 5.2** and above then you can use this:\r\n\r\n      private static StandardServiceRegistry registry;\r\n      private static SessionFactory sessionFactory;\r\n    \r\n      public static SessionFactory getSessionFactory() {\r\n        if (sessionFactory == null) {\r\n          try {\r\n            // Creating a registry\r\n            registry = new StandardServiceRegistryBuilder().configure(&quot;hibernate.cfg.xml&quot;).build();\r\n    \r\n            // Create the MetadataSources\r\n            MetadataSources sources = new MetadataSources(registry);\r\n    \r\n            // Create the Metadata\r\n            Metadata metadata = sources.getMetadataBuilder().build();\r\n    \r\n            // Create SessionFactory\r\n            sessionFactory = metadata.getSessionFactoryBuilder().build();\r\n    \r\n          } catch (Exception e) {\r\n            e.printStackTrace();\r\n            if (registry != null) {\r\n              StandardServiceRegistryBuilder.destroy(registry);\r\n            }\r\n          }\r\n        }\r\n        return sessionFactory;\r\n      }\r\n\r\n      //To shut down\r\n     public static void shutdown() {\r\n        if (registry != null) {\r\n          StandardServiceRegistryBuilder.destroy(registry);\r\n        }\r\n      }\r\n\r\n","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>If you are using <strong>Hibernate 5.2</strong> and above then you can use this:</p>\n\n<pre><code>  private static StandardServiceRegistry registry;\n  private static SessionFactory sessionFactory;\n\n  public static SessionFactory getSessionFactory() {\n    if (sessionFactory == null) {\n      try {\n        // Creating a registry\n        registry = new StandardServiceRegistryBuilder().configure(\"hibernate.cfg.xml\").build();\n\n        // Create the MetadataSources\n        MetadataSources sources = new MetadataSources(registry);\n\n        // Create the Metadata\n        Metadata metadata = sources.getMetadataBuilder().build();\n\n        // Create SessionFactory\n        sessionFactory = metadata.getSessionFactoryBuilder().build();\n\n      } catch (Exception e) {\n        e.printStackTrace();\n        if (registry != null) {\n          StandardServiceRegistryBuilder.destroy(registry);\n        }\n      }\n    }\n    return sessionFactory;\n  }\n\n  //To shut down\n public static void shutdown() {\n    if (registry != null) {\n      StandardServiceRegistryBuilder.destroy(registry);\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9697694,"reputation":1266,"user_id":7193619,"display_name":"Quan VO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530018390,"creation_date":1530018390,"answer_id":51043688,"question_id":8621906,"body_markdown":"In `hibernate 5.3.1`, you can try this:\r\n\r\n    ServiceRegistry standardRegistry = \r\n                    new StandardServiceRegistryBuilder().configure().build();\r\n    \r\n    Metadata sources = new MetadataSources(standardRegistry).addAnnotatedClass(MyEntity.class).getMetadataBuilder().build();\r\n    \r\n    SessionFactory sf = sources.buildSessionFactory();\r\n\r\n","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>In <code>hibernate 5.3.1</code>, you can try this:</p>\n\n<pre><code>ServiceRegistry standardRegistry = \n                new StandardServiceRegistryBuilder().configure().build();\n\nMetadata sources = new MetadataSources(standardRegistry).addAnnotatedClass(MyEntity.class).getMetadataBuilder().build();\n\nSessionFactory sf = sources.buildSessionFactory();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5660305,"reputation":590,"user_id":4478147,"display_name":"Lilac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568398215,"creation_date":1568398215,"answer_id":57928471,"question_id":8621906,"body_markdown":"If anyone here after updating to 5.1 this is how it works\r\n\r\n```\r\nStandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure().build();\r\n\t\t\t\tMetadataSources sources = new MetadataSources(registry);\r\n\t\t\t\tMetadata metadata = sources.getMetadataBuilder().build();\r\n\t\t\t\tsessionFactory = metadata.getSessionFactoryBuilder().build();\r\n```\r\n\r\ninstead of the below in hibernate 4.3\r\n```\r\n ServiceRegistry serviceRegistry = new ServiceRegistryBuilder().applySettings(\r\n            configuration.getProperties()). buildServiceRegistry();\r\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n```","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>If anyone here after updating to 5.1 this is how it works</p>\n\n<pre><code>StandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure().build();\n                MetadataSources sources = new MetadataSources(registry);\n                Metadata metadata = sources.getMetadataBuilder().build();\n                sessionFactory = metadata.getSessionFactoryBuilder().build();\n</code></pre>\n\n<p>instead of the below in hibernate 4.3</p>\n\n<pre><code> ServiceRegistry serviceRegistry = new ServiceRegistryBuilder().applySettings(\n            configuration.getProperties()). buildServiceRegistry();\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583007301,"creation_date":1583007301,"answer_id":60469231,"question_id":8621906,"body_markdown":"TL;DR\r\n-----\r\n\r\nYes, it is. There are better ways to bootstrap Hibernate, like the following ones.\r\n\r\nHibernate-native bootstrap\r\n--------------------------\r\n\r\nThe legacy `Configuration` object is less powerful than using the `BootstrapServiceRegistryBuilder`, introduced since Hibernate 4:\r\n\r\n    final BootstrapServiceRegistryBuilder bsrb = new BootstrapServiceRegistryBuilder()\r\n        .enableAutoClose();\r\n    \r\n    Integrator integrator = integrator();\r\n    if (integrator != null) {\r\n        bsrb.applyIntegrator( integrator );\r\n    }\r\n    \r\n    final BootstrapServiceRegistry bsr = bsrb.build();\r\n    \r\n    final StandardServiceRegistry serviceRegistry = \r\n        new StandardServiceRegistryBuilder(bsr)\r\n            .applySettings(properties())\r\n            .build();\r\n    \r\n    final MetadataSources metadataSources = new MetadataSources(serviceRegistry);\r\n    \r\n    for (Class annotatedClass : entities()) {\r\n        metadataSources.addAnnotatedClass(annotatedClass);\r\n    }\r\n    \r\n    String[] packages = packages();\r\n    if (packages != null) {\r\n        for (String annotatedPackage : packages) {\r\n            metadataSources.addPackage(annotatedPackage);\r\n        }\r\n    }\r\n    \r\n    String[] resources = resources();\r\n    if (resources != null) {\r\n        for (String resource : resources) {\r\n            metadataSources.addResource(resource);\r\n        }\r\n    }\r\n    \r\n    final MetadataBuilder metadataBuilder = metadataSources.getMetadataBuilder()\r\n        .enableNewIdentifierGeneratorSupport(true)\r\n        .applyImplicitNamingStrategy(ImplicitNamingStrategyLegacyJpaImpl.INSTANCE);\r\n    \r\n    final List&lt;Type&gt; additionalTypes = additionalTypes();\r\n    if (additionalTypes != null) {\r\n        additionalTypes.stream().forEach(type -&gt; {\r\n            metadataBuilder.applyTypes((typeContributions, sr) -&gt; {\r\n                if(type instanceof BasicType) {\r\n                    typeContributions.contributeType((BasicType) type);\r\n                } else if (type instanceof UserType ){\r\n                    typeContributions.contributeType((UserType) type);\r\n                } else if (type instanceof CompositeUserType) {\r\n                    typeContributions.contributeType((CompositeUserType) type);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    \r\n    additionalMetadata(metadataBuilder);\r\n    \r\n    MetadataImplementor metadata = (MetadataImplementor) metadataBuilder.build();\r\n    \r\n    final SessionFactoryBuilder sfb = metadata.getSessionFactoryBuilder();\r\n    Interceptor interceptor = interceptor();\r\n    if(interceptor != null) {\r\n        sfb.applyInterceptor(interceptor);\r\n    }\r\n    \r\n    SessionFactory sessionFactory = sfb.build();\r\n\r\nJPA bootstrap\r\n-------------\r\n\r\nYou can also bootstrap Hibernate using JPA:\r\n\r\n    PersistenceUnitInfo persistenceUnitInfo = persistenceUnitInfo(getClass().getSimpleName());\r\n    Map configuration = properties();\r\n    \r\n    Interceptor interceptor = interceptor();\r\n    if (interceptor != null) {\r\n    \tconfiguration.put(AvailableSettings.INTERCEPTOR, interceptor);\r\n    }\r\n    \r\n    Integrator integrator = integrator();\r\n    if (integrator != null) {\r\n    \tconfiguration.put(\r\n    \t\t&quot;hibernate.integrator_provider&quot;, \r\n    \t\t(IntegratorProvider) () -&gt; Collections.singletonList(integrator));\r\n    }\r\n    \r\n    EntityManagerFactoryBuilderImpl entityManagerFactoryBuilder = \r\n    \tnew EntityManagerFactoryBuilderImpl(\r\n    \t\tnew PersistenceUnitInfoDescriptor(persistenceUnitInfo), \r\n    \t\tconfiguration\r\n    );\r\n    EntityManagerFactory entityManagerFactory = entityManagerFactoryBuilder.build();\r\n\r\nThis way, you are building the `EntityManagerFactory` instead of a `SessionFactory`. However, the `SessionFactory` extends the `EntityManagerFactory, so the actual object that&#39;s built is a `SessionFactoryImpl` too.\r\n\r\nConclusion\r\n----------\r\n\r\nThese two bootstrapping methods affect Hibernate behavior. When using the native bootstrap, Hibernate behaves in the legacy mode, which predates JPA.\r\n\r\nWhen bootstrapping using JPA, Hibernate will behave according to the JPA specification.\r\n\r\nThere are several differences between these two modes:\r\n\r\n- [How the AUTO flush mode works in regards to native SQL queries](https://vladmihalcea.com/how-does-the-auto-flush-work-in-jpa-and-hibernate/)\r\n- How the entity Proxy is built. Traditionally, Hibernate did not hit the DB when building a Proxy, but JPA requires throwing an `EntityNotFoundException`, therefore demanding a DB check.\r\n- whether you can delete a non-managed entity\r\n\r\n&gt; For more details about these differences, check out the [`JpaCompliance`](https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/jpa/spi/JpaCompliance.java) class.\r\n\r\n","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<h2>TL;DR</h2>\n\n<p>Yes, it is. There are better ways to bootstrap Hibernate, like the following ones.</p>\n\n<h2>Hibernate-native bootstrap</h2>\n\n<p>The legacy <code>Configuration</code> object is less powerful than using the <code>BootstrapServiceRegistryBuilder</code>, introduced since Hibernate 4:</p>\n\n<pre><code>final BootstrapServiceRegistryBuilder bsrb = new BootstrapServiceRegistryBuilder()\n    .enableAutoClose();\n\nIntegrator integrator = integrator();\nif (integrator != null) {\n    bsrb.applyIntegrator( integrator );\n}\n\nfinal BootstrapServiceRegistry bsr = bsrb.build();\n\nfinal StandardServiceRegistry serviceRegistry = \n    new StandardServiceRegistryBuilder(bsr)\n        .applySettings(properties())\n        .build();\n\nfinal MetadataSources metadataSources = new MetadataSources(serviceRegistry);\n\nfor (Class annotatedClass : entities()) {\n    metadataSources.addAnnotatedClass(annotatedClass);\n}\n\nString[] packages = packages();\nif (packages != null) {\n    for (String annotatedPackage : packages) {\n        metadataSources.addPackage(annotatedPackage);\n    }\n}\n\nString[] resources = resources();\nif (resources != null) {\n    for (String resource : resources) {\n        metadataSources.addResource(resource);\n    }\n}\n\nfinal MetadataBuilder metadataBuilder = metadataSources.getMetadataBuilder()\n    .enableNewIdentifierGeneratorSupport(true)\n    .applyImplicitNamingStrategy(ImplicitNamingStrategyLegacyJpaImpl.INSTANCE);\n\nfinal List&lt;Type&gt; additionalTypes = additionalTypes();\nif (additionalTypes != null) {\n    additionalTypes.stream().forEach(type -&gt; {\n        metadataBuilder.applyTypes((typeContributions, sr) -&gt; {\n            if(type instanceof BasicType) {\n                typeContributions.contributeType((BasicType) type);\n            } else if (type instanceof UserType ){\n                typeContributions.contributeType((UserType) type);\n            } else if (type instanceof CompositeUserType) {\n                typeContributions.contributeType((CompositeUserType) type);\n            }\n        });\n    });\n}\n\nadditionalMetadata(metadataBuilder);\n\nMetadataImplementor metadata = (MetadataImplementor) metadataBuilder.build();\n\nfinal SessionFactoryBuilder sfb = metadata.getSessionFactoryBuilder();\nInterceptor interceptor = interceptor();\nif(interceptor != null) {\n    sfb.applyInterceptor(interceptor);\n}\n\nSessionFactory sessionFactory = sfb.build();\n</code></pre>\n\n<h2>JPA bootstrap</h2>\n\n<p>You can also bootstrap Hibernate using JPA:</p>\n\n<pre><code>PersistenceUnitInfo persistenceUnitInfo = persistenceUnitInfo(getClass().getSimpleName());\nMap configuration = properties();\n\nInterceptor interceptor = interceptor();\nif (interceptor != null) {\n    configuration.put(AvailableSettings.INTERCEPTOR, interceptor);\n}\n\nIntegrator integrator = integrator();\nif (integrator != null) {\n    configuration.put(\n        \"hibernate.integrator_provider\", \n        (IntegratorProvider) () -&gt; Collections.singletonList(integrator));\n}\n\nEntityManagerFactoryBuilderImpl entityManagerFactoryBuilder = \n    new EntityManagerFactoryBuilderImpl(\n        new PersistenceUnitInfoDescriptor(persistenceUnitInfo), \n        configuration\n);\nEntityManagerFactory entityManagerFactory = entityManagerFactoryBuilder.build();\n</code></pre>\n\n<p>This way, you are building the <code>EntityManagerFactory</code> instead of a <code>SessionFactory</code>. However, the <code>SessionFactory</code> extends the <code>EntityManagerFactory, so the actual object that's built is a</code>SessionFactoryImpl` too.</p>\n\n<h2>Conclusion</h2>\n\n<p>These two bootstrapping methods affect Hibernate behavior. When using the native bootstrap, Hibernate behaves in the legacy mode, which predates JPA.</p>\n\n<p>When bootstrapping using JPA, Hibernate will behave according to the JPA specification.</p>\n\n<p>There are several differences between these two modes:</p>\n\n<ul>\n<li><a href=\"https://vladmihalcea.com/how-does-the-auto-flush-work-in-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">How the AUTO flush mode works in regards to native SQL queries</a></li>\n<li>How the entity Proxy is built. Traditionally, Hibernate did not hit the DB when building a Proxy, but JPA requires throwing an <code>EntityNotFoundException</code>, therefore demanding a DB check.</li>\n<li>whether you can delete a non-managed entity</li>\n</ul>\n\n<blockquote>\n  <p>For more details about these differences, check out the <a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/jpa/spi/JpaCompliance.java\" rel=\"nofollow noreferrer\"><code>JpaCompliance</code></a> class.</p>\n</blockquote>\n"}],"owner":{"account_id":891335,"reputation":3416,"user_id":929529,"accept_rate":88,"display_name":"pushistic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187009,"favorite_count":0,"down_vote_count":0,"up_vote_count":223,"accepted_answer_id":8830848,"answer_count":18,"score":223,"last_activity_date":1635758148,"creation_date":1324687436,"question_id":8621906,"body_markdown":"When I updated the Hibernate version from 3.6.8 to 4.0.0, I got a warning about deprecated method `buildSessionFactory()` in this line:\r\n\r\n    private static final SessionFactory sessionFactory =\r\n             new Configuration().configure().buildSessionFactory();\r\n\r\nthe Javadoc recommends using another method \r\n\r\n `buildSessionFactory(ServiceRegistry serviceRegistry)`\r\n\r\nbut in the [documentation][1] I found deprecated variant\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/session-configuration.html#configuration-sessionfactory","title":"Is the buildSessionFactory() Configuration method deprecated in Hibernate?","body":"<p>When I updated the Hibernate version from 3.6.8 to 4.0.0, I got a warning about deprecated method <code>buildSessionFactory()</code> in this line:</p>\n<pre><code>private static final SessionFactory sessionFactory =\n         new Configuration().configure().buildSessionFactory();\n</code></pre>\n<p>the Javadoc recommends using another method</p>\n<p><code>buildSessionFactory(ServiceRegistry serviceRegistry)</code></p>\n<p>but in the <a href=\"http://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/session-configuration.html#configuration-sessionfactory\" rel=\"nofollow noreferrer\">documentation</a> I found deprecated variant</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635757901,"post_id":69794680,"comment_id":123370205,"body_markdown":"Look at your inner loop. Is it traversing the second dimension of your array?","body":"Look at your inner loop. Is it traversing the second dimension of your array?"}],"answers":[{"tags":[],"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635757935,"creation_date":1635757935,"answer_id":69794781,"question_id":69794680,"body_markdown":"Your inner loop should count the elements of each array element by accessing them via `array[i]`:\r\n\r\n```\r\nint[][] array = {{2, 3, 2}, {2, 2}};\r\nint counter = 0;\r\nfor (int i = 0; i &lt; array.length; i++) {\r\n    for (int k = 0; k &lt; array[i].length; k++) {\r\n        counter++;\r\n    }\r\n}\r\n```","title":"Counting elements of a 2d array","body":"<p>Your inner loop should count the elements of each array element by accessing them via <code>array[i]</code>:</p>\n<pre><code>int[][] array = {{2, 3, 2}, {2, 2}};\nint counter = 0;\nfor (int i = 0; i &lt; array.length; i++) {\n    for (int k = 0; k &lt; array[i].length; k++) {\n        counter++;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16939577,"reputation":11,"user_id":12251780,"display_name":"Pedro Diniz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1635819505,"answer_count":1,"score":-1,"last_activity_date":1635757935,"creation_date":1635757306,"question_id":69794680,"body_markdown":"I&#39;m trying to count each element of a 2d array, but for some reason I&#39;m doing something wrong: \r\n\r\n        int[][] array = {{2, 3, 2}, {2, 2}};\r\n        int counter = 0;\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            int k = 0;\r\n            for (k = 0; k &lt; array.length; k++) {\r\n                counter++;\r\n            }\r\n        }\r\n        System.out.println(counter);\r\n\r\n\r\n","title":"Counting elements of a 2d array","body":"<p>I'm trying to count each element of a 2d array, but for some reason I'm doing something wrong:</p>\n<pre><code>    int[][] array = {{2, 3, 2}, {2, 2}};\n    int counter = 0;\n    for (int i = 0; i &lt; array.length; i++) {\n        int k = 0;\n        for (k = 0; k &lt; array.length; k++) {\n            counter++;\n        }\n    }\n    System.out.println(counter);\n</code></pre>\n"},{"tags":["java","android","background-process"],"answers":[{"tags":[],"owner":{"account_id":8873341,"reputation":1424,"user_id":6626422,"display_name":"Thecarisma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1525568416,"creation_date":1525562604,"answer_id":50194895,"question_id":50193623,"body_markdown":"There is no default way to do this you will need external libraries for this function. I have achived this once in my application by using **jaredrummler** android library. A simple usage is illustrated below\r\n\r\n&gt; Add to gradle\r\n\r\n    dependencies {\r\n        ...\r\n        compile &#39;com.jaredrummler:android-processes:1.1.1&#39;\r\n    }\r\n\r\n&gt; Create a wrapper Class Model\r\n\r\nYou can create a wrapper model like below if you want to store the basic informations about the running process to use it inside list view or elsewhere\r\n\r\n    ...\r\n    import android.graphics.drawable.Drawable;\r\n    \r\n    public class RunningApplication {\r\n         public String processName, pid = &quot;&quot; ;\r\n         public long startTime = 0 ;\r\n         public Drawable processIcon = null ;\r\n    \r\n         public RunningApplication(String name, long start, String pid, Drawable icon) {\r\n            this.processName = name ;\r\n            this.startTime = start ;\r\n            this.pid = pid ;\r\n            this.processIcon = icon ;\r\n         }\r\n    \r\n         public getProcessName() {\r\n            return processname ;\r\n         }\r\n    \r\n         ...\r\n         \r\n    }\r\n\r\n&gt; Use in you class\r\n\r\n    ...\r\n    import android.content.pm.ApplicationInfo;\r\n    import android.content.pm.PackageInfo;\r\n    import android.content.pm.PackageManager;\r\n    \r\n    import com.jaredrummler.android.processes.AndroidProcesses;\r\n    import com.jaredrummler.android.processes.models.AndroidAppProcess;\r\n    import com.jaredrummler.android.processes.models.Stat;\r\n    import com.jaredrummler.android.processes.models.Statm;\r\n    \r\n    class YourClass extends Activity {\r\n        List&lt;RunningApplication&gt; runningApplicationList = new ArrayList&lt;&gt;();\r\n    \r\n        ...\r\n        public void getRunningApps() {\r\n            List&lt;AndroidAppProcess&gt; processes = AndroidProcesses.getRunningAppProcesses();\r\n            PackageManager pm = getPackageManager();\r\n            for (AndroidAppProcess pro : processes) {\r\n               try {\r\n                    String proccessname = pro.name;\r\n                    Stat stat = pro.stat();\r\n                    int pid = stat.getPid();\r\n                    int parentProccessId = stat.ppid();\r\n                    long startTime = stat.stime();\r\n                    int policy = stat.policy();\r\n                    char state = stat.state();\r\n    \r\n                    Statm statm = pro.statm();\r\n                    long totalSizeofProccess = statm.getSize();\r\n                    long residentSetSize = statm.getResidentSetSize();\r\n    \r\n                    PackageInfo packageInfo = pro.getPackageInfo(basecontext, 0);\r\n                    \r\n                    //get the app name\r\n                    String appName = packageInfo.applicationInfo.loadLabel(pm).toString();\r\n                    //Get the app icon\r\n                    Drawable appIcon = packageInfo.applicationInfo.loadIcon(pm);\r\n                    //Add it to your list of running app\r\n                    RunningApplication ra = new RunningApplication(appName,startTime,pid,appIcon);\r\n                    runningApplicationList.add(ra);\r\n               } catch (Exception ex) {\r\n                    Log.e(&quot;APPNAME.CONTEXT&quot;,e.getMessage());\r\n               }\r\n            }\r\n        }\r\n        \r\n    }\r\n    ...\r\n\r\n**NOTE:** It been over a year since i use the above code but it work perfectly fine at that time and it is not tested. You can search for the **jaredrummler** library for more information and possible updates","title":"How can I get running application names in background?","body":"<p>There is no default way to do this you will need external libraries for this function. I have achived this once in my application by using <strong>jaredrummler</strong> android library. A simple usage is illustrated below</p>\n\n<blockquote>\n  <p>Add to gradle</p>\n</blockquote>\n\n<pre><code>dependencies {\n    ...\n    compile 'com.jaredrummler:android-processes:1.1.1'\n}\n</code></pre>\n\n<blockquote>\n  <p>Create a wrapper Class Model</p>\n</blockquote>\n\n<p>You can create a wrapper model like below if you want to store the basic informations about the running process to use it inside list view or elsewhere</p>\n\n<pre><code>...\nimport android.graphics.drawable.Drawable;\n\npublic class RunningApplication {\n     public String processName, pid = \"\" ;\n     public long startTime = 0 ;\n     public Drawable processIcon = null ;\n\n     public RunningApplication(String name, long start, String pid, Drawable icon) {\n        this.processName = name ;\n        this.startTime = start ;\n        this.pid = pid ;\n        this.processIcon = icon ;\n     }\n\n     public getProcessName() {\n        return processname ;\n     }\n\n     ...\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Use in you class</p>\n</blockquote>\n\n<pre><code>...\nimport android.content.pm.ApplicationInfo;\nimport android.content.pm.PackageInfo;\nimport android.content.pm.PackageManager;\n\nimport com.jaredrummler.android.processes.AndroidProcesses;\nimport com.jaredrummler.android.processes.models.AndroidAppProcess;\nimport com.jaredrummler.android.processes.models.Stat;\nimport com.jaredrummler.android.processes.models.Statm;\n\nclass YourClass extends Activity {\n    List&lt;RunningApplication&gt; runningApplicationList = new ArrayList&lt;&gt;();\n\n    ...\n    public void getRunningApps() {\n        List&lt;AndroidAppProcess&gt; processes = AndroidProcesses.getRunningAppProcesses();\n        PackageManager pm = getPackageManager();\n        for (AndroidAppProcess pro : processes) {\n           try {\n                String proccessname = pro.name;\n                Stat stat = pro.stat();\n                int pid = stat.getPid();\n                int parentProccessId = stat.ppid();\n                long startTime = stat.stime();\n                int policy = stat.policy();\n                char state = stat.state();\n\n                Statm statm = pro.statm();\n                long totalSizeofProccess = statm.getSize();\n                long residentSetSize = statm.getResidentSetSize();\n\n                PackageInfo packageInfo = pro.getPackageInfo(basecontext, 0);\n\n                //get the app name\n                String appName = packageInfo.applicationInfo.loadLabel(pm).toString();\n                //Get the app icon\n                Drawable appIcon = packageInfo.applicationInfo.loadIcon(pm);\n                //Add it to your list of running app\n                RunningApplication ra = new RunningApplication(appName,startTime,pid,appIcon);\n                runningApplicationList.add(ra);\n           } catch (Exception ex) {\n                Log.e(\"APPNAME.CONTEXT\",e.getMessage());\n           }\n        }\n    }\n\n}\n...\n</code></pre>\n\n<p><strong>NOTE:</strong> It been over a year since i use the above code but it work perfectly fine at that time and it is not tested. You can search for the <strong>jaredrummler</strong> library for more information and possible updates</p>\n"}],"owner":{"account_id":9946500,"reputation":15,"user_id":7361010,"display_name":"Mehmet Ali Aydemir"},"comment_count":0,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1525604748,"accepted_answer_id":50194895,"answer_count":1,"score":-4,"last_activity_date":1635757145,"creation_date":1525551117,"question_id":50193623,"body_markdown":"For example, Instagram is running on background. I want get running app names on my **background running application** in java.","title":"How can I get running application names in background?","body":"<p>For example, Instagram is running on background. I want get running app names on my <strong>background running application</strong> in java.</p>\n"},{"tags":["java","input"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1561039886,"post_id":56687821,"comment_id":99941217,"body_markdown":"I&#39;m sure this is a duplicate, but basically `scanner.nextInt()` doesn&#39;t consume the token if it&#39;s not an integer. I&#39;d personally be tempted to avoid `Scanner` entirely, and just read lines from `System.in` instead. I&#39;ve seen a *lot* of questions about `Scanner` that basically show it&#39;s a hard to use API.","body":"I&#39;m sure this is a duplicate, but basically <code>scanner.nextInt()</code> doesn&#39;t consume the token if it&#39;s not an integer. I&#39;d personally be tempted to avoid <code>Scanner</code> entirely, and just read lines from <code>System.in</code> instead. I&#39;ve seen a <i>lot</i> of questions about <code>Scanner</code> that basically show it&#39;s a hard to use API."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1561040009,"post_id":56687821,"comment_id":99941302,"body_markdown":"Relevant but not a dup: [Scanner is skipping nextLine() after using next() or nextFoo()?](//stackoverflow.com/q/13102045)","body":"Relevant but not a dup: <a href=\"//stackoverflow.com/q/13102045\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635756956,"creation_date":1561040090,"answer_id":56687955,"question_id":56687821,"body_markdown":"You&#39;re on the right track with a while loop, basically, you just need to use [&lt;code&gt;Scanner.&lt;b&gt;next()&lt;/b&gt;&lt;/code&gt;](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--) when the user enters something other than an integer:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            String prompt = &quot;Please enter an integer: &quot;;\r\n            int userInteger = getIntegerInput(prompt, scanner);\r\n            System.out.printf(&quot;You entered: %d%n&quot;, userInteger);\r\n        }\r\n    \r\n        private static int getIntegerInput(String prompt, Scanner scanner) {\r\n            System.out.print(prompt);\r\n            int validInteger = -1;\r\n            while (scanner.hasNext()) {\r\n                if (scanner.hasNextInt()) {\r\n                    validInteger = scanner.nextInt();\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;Error: Invalid input, try again...&quot;);\r\n                    System.out.print(prompt);\r\n                    scanner.next();\r\n                }\r\n            }\r\n            return validInteger;\r\n        }\r\n    }\r\n\r\n**Example Usage:**\r\n\r\n    Please enter an integer: a\r\n    Error: Invalid input, try again...\r\n    Please enter an integer: &#128512;\r\n    Error: Invalid input, try again...\r\n    Please enter an integer: 1.0\r\n    Error: Invalid input, try again...\r\n    Please enter an integer: 6\r\n    You entered: 6","title":"How to avoid endless loop when testing if input is integer","body":"<p>You're on the right track with a while loop, basically, you just need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\" rel=\"nofollow noreferrer\"><code>Scanner.<b>next()</b></code></a> when the user enters something other than an integer:</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String prompt = &quot;Please enter an integer: &quot;;\n        int userInteger = getIntegerInput(prompt, scanner);\n        System.out.printf(&quot;You entered: %d%n&quot;, userInteger);\n    }\n\n    private static int getIntegerInput(String prompt, Scanner scanner) {\n        System.out.print(prompt);\n        int validInteger = -1;\n        while (scanner.hasNext()) {\n            if (scanner.hasNextInt()) {\n                validInteger = scanner.nextInt();\n                break;\n            } else {\n                System.out.println(&quot;Error: Invalid input, try again...&quot;);\n                System.out.print(prompt);\n                scanner.next();\n            }\n        }\n        return validInteger;\n    }\n}\n</code></pre>\n<p><strong>Example Usage:</strong></p>\n<pre><code>Please enter an integer: a\nError: Invalid input, try again...\nPlease enter an integer: 😀\nError: Invalid input, try again...\nPlease enter an integer: 1.0\nError: Invalid input, try again...\nPlease enter an integer: 6\nYou entered: 6\n</code></pre>\n"}],"owner":{"account_id":16173107,"reputation":193,"user_id":11676447,"display_name":"Calipee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56687955,"answer_count":1,"score":1,"last_activity_date":1635756956,"creation_date":1561039708,"question_id":56687821,"body_markdown":"I&#39;m trying to only allow an integer input and stop my programm from breaking when something else is entered. Somehow my code creates an endless loop and doesn&#39;t let me enter a new input.\r\n\r\n        private static int x;\r\n    \r\n        public static void main(String[] args) {\r\n            testInput();\r\n        }\r\n    \r\n        public static void testInput(){\r\n            while (true){\r\n                System.out.println(&quot;Please enter Integer:&quot;);\r\n                try{\r\n                    setX(scanner.nextInt());\r\n                    break;\r\n                }catch (InputMismatchException i){\r\n                    System.out.println(&quot;Please use Integer&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void setX(int integer){\r\n            x = integer;\r\n        }\r\n    }\r\n\r\nCreates endless loop which says: Please enter Integer: , Please use Integer instead of letting me make new input.\r\n","title":"How to avoid endless loop when testing if input is integer","body":"<p>I'm trying to only allow an integer input and stop my programm from breaking when something else is entered. Somehow my code creates an endless loop and doesn't let me enter a new input.</p>\n\n<pre><code>    private static int x;\n\n    public static void main(String[] args) {\n        testInput();\n    }\n\n    public static void testInput(){\n        while (true){\n            System.out.println(\"Please enter Integer:\");\n            try{\n                setX(scanner.nextInt());\n                break;\n            }catch (InputMismatchException i){\n                System.out.println(\"Please use Integer\");\n            }\n        }\n    }\n\n    public static void setX(int integer){\n        x = integer;\n    }\n}\n</code></pre>\n\n<p>Creates endless loop which says: Please enter Integer: , Please use Integer instead of letting me make new input.</p>\n"},{"tags":["java","jsp","tomcat","servlets"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":2,"creation_date":1635597426,"post_id":69779252,"comment_id":123344065,"body_markdown":"Which version of tomcat do you have in eclipse, and which one is it where it doesn&#39;t work? Also, can you provide more detailed error message, e.g. from the log?","body":"Which version of tomcat do you have in eclipse, and which one is it where it doesn&#39;t work? Also, can you provide more detailed error message, e.g. from the log?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1635599575,"post_id":69779252,"comment_id":123344542,"body_markdown":"e.g. if deployment doesn&#39;t work on Tomcat 10: Check https://stackoverflow.com/q/64387472/13447","body":"e.g. if deployment doesn&#39;t work on Tomcat 10: Check <a href=\"https://stackoverflow.com/q/64387472/13447\">stackoverflow.com/q/64387472/13447</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1635618159,"post_id":69779252,"comment_id":123346181,"body_markdown":"Always search Stack Overflow thoroughly before posting. If similar Questions exist, explain how they do not address your issue.","body":"Always search Stack Overflow thoroughly before posting. If similar Questions exist, explain how they do not address your issue."},{"owner":{"account_id":17443217,"reputation":29,"user_id":12644751,"display_name":"Roank1112"},"score":0,"creation_date":1635737073,"post_id":69779252,"comment_id":123366197,"body_markdown":"Virson is Tomcat 9.0.54.","body":"Virson is Tomcat 9.0.54."},{"owner":{"account_id":17443217,"reputation":29,"user_id":12644751,"display_name":"Roank1112"},"score":0,"creation_date":1635737853,"post_id":69779252,"comment_id":123366287,"body_markdown":"Version is Tomcat 9.0.54 on both server and eclipse PC. The operating system Win 10 and also tired on win server 2016.   At First time when I  run Servlet, it gives an error **Error instantiating servlet class [com.MyServlets.test]** here I have uploaded a full error screenshot [link](https://ibb.co/BBNN4Sg).   &amp;   When I try to access the same servlet second time I get this **The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.**  here I have uploaded a full error screenshot [link](https://ibb.co/2PNV98p).","body":"Version is Tomcat 9.0.54 on both server and eclipse PC. The operating system Win 10 and also tired on win server 2016.   At First time when I  run Servlet, it gives an error <b>Error instantiating servlet class [com.MyServlets.test]</b> here I have uploaded a full error screenshot <a href=\"https://ibb.co/BBNN4Sg\" rel=\"nofollow noreferrer\">link</a>.   &amp;   When I try to access the same servlet second time I get this <b>The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</b>  here I have uploaded a full error screenshot <a href=\"https://ibb.co/2PNV98p\" rel=\"nofollow noreferrer\">link</a>."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1635754757,"post_id":69779252,"comment_id":123369384,"body_markdown":"Does [Tomcat - UnsupportedClassException](https://stackoverflow.com/q/1907015/11748454) answer your question?","body":"Does <a href=\"https://stackoverflow.com/q/1907015/11748454\">Tomcat - UnsupportedClassException</a> answer your question?"}],"owner":{"account_id":17443217,"reputation":29,"user_id":12644751,"display_name":"Roank1112"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635756399,"answer_count":0,"score":0,"last_activity_date":1635756330,"creation_date":1635593701,"question_id":69779252,"body_markdown":"I am new to JAVA development.\r\n\r\n\r\nI have created a simple Servlet called &#39;test&#39;.\r\n\r\n\r\n\r\n```\r\npackage com.MyServlets;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n\r\n@WebServlet(&quot;/test&quot;)\r\npublic class test extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n   \r\n    public test() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\t\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\r\n\t\tresponse.setContentType(&quot;text/html&quot;);  \r\n\t\tPrintWriter pw= response.getWriter();  \r\n\t\tpw.println(&quot;&lt;h1&gt;This is get request.&lt;/h1&gt;&quot;);\r\n\t}\r\n\r\n\t\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\r\n\t\tresponse.setContentType(&quot;text/html&quot;);  \r\n\t\tPrintWriter pw= response.getWriter();  \r\n\t\tpw.println(&quot;&lt;h1&gt;This is post request.&lt;/h1&gt;&quot;);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nits works in Eclipse with Apache Tomcat. But after deployment on Apache Tomcat, it gives the error *&quot; error instantiating servlet class&quot;*.\r\n\r\nVersion is Tomcat 9.0.54 on both server and eclipse PC. \r\n\r\nThe operating system Win 10 and also tired on win server 2016. \r\n\r\nAt First time when I run Servlet, it gives an error `Error instantiating servlet class [com.MyServlets.test] `\r\nhere I have uploaded a full error screenshot \r\n[enter link description here][1]\r\n\r\nAnd When I try to access the same servlet second time I get this `The origin server did not find a current representation for the target resource or is not willing to disclose that one exists`. Here I have uploaded a full error screenshot [enter link description here][2]\r\n\r\n\r\n\r\nMy other JSP page works properly on the same Apache Tomcat.\r\n\r\nI tried [enter link description here][3]\r\nIt still has not worked \r\n\r\n\r\n  [1]: https://ibb.co/BBNN4Sg\r\n  [2]: https://ibb.co/2PNV98p\r\n  [3]: https://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does","title":"Servlet not working after deployment in apache tomcat 9.0","body":"<p>I am new to JAVA development.</p>\n<p>I have created a simple Servlet called 'test'.</p>\n<pre><code>package com.MyServlets;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n\n@WebServlet(&quot;/test&quot;)\npublic class test extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n   \n    public test() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    \n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        \n        response.setContentType(&quot;text/html&quot;);  \n        PrintWriter pw= response.getWriter();  \n        pw.println(&quot;&lt;h1&gt;This is get request.&lt;/h1&gt;&quot;);\n    }\n\n    \n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        \n        response.setContentType(&quot;text/html&quot;);  \n        PrintWriter pw= response.getWriter();  \n        pw.println(&quot;&lt;h1&gt;This is post request.&lt;/h1&gt;&quot;);\n        \n    }\n\n}\n</code></pre>\n<p>its works in Eclipse with Apache Tomcat. But after deployment on Apache Tomcat, it gives the error <em>&quot; error instantiating servlet class&quot;</em>.</p>\n<p>Version is Tomcat 9.0.54 on both server and eclipse PC.</p>\n<p>The operating system Win 10 and also tired on win server 2016.</p>\n<p>At First time when I run Servlet, it gives an error <code>Error instantiating servlet class [com.MyServlets.test] </code>\nhere I have uploaded a full error screenshot\n<a href=\"https://ibb.co/BBNN4Sg\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n<p>And When I try to access the same servlet second time I get this <code>The origin server did not find a current representation for the target resource or is not willing to disclose that one exists</code>. Here I have uploaded a full error screenshot <a href=\"https://ibb.co/2PNV98p\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n<p>My other JSP page works properly on the same Apache Tomcat.</p>\n<p>I tried <a href=\"https://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does\">enter link description here</a>\nIt still has not worked</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635675181,"post_id":69785194,"comment_id":123354239,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data). Please also indicate what is that `~~~`?","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>. Please also indicate what is that <code>~~~</code>?"},{"owner":{"account_id":17525669,"reputation":69,"user_id":12741593,"display_name":"Eye Lamp"},"score":0,"creation_date":1635676201,"post_id":69785194,"comment_id":123354456,"body_markdown":"I edited json file and ~~~ thing.","body":"I edited json file and ~~~ thing."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635755916,"creation_date":1635677013,"answer_id":69786062,"question_id":69785194,"body_markdown":"If you want to delete the first node (`-MCCtOfEcs-t8OhKAj_R`) that exists in the &quot;Posts&quot; node, please note that there is **no** need to perform a query. Since the key of the node is the same as the value of the `postKey` field, then you should simply use the following lines of code:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    db.child(&quot;Posts&quot;).child(&quot;-MCCtOfEcs-t8OhKAj_R&quot;)).removeValue();\r\n\r\nI also recommend you attach a complete listener to the `removeValue()` operation, to see if something goes wrong. If you don&#39;t have the proper rules, then an Exception will be thrown.\r\n\r\n**Edit:**\r\n\r\nAccording to your last comment:\r\n\r\n&gt; I want to delete Instances that have old timestamp.\r\n\r\nIn this case, you indeed need to use a query. If you need to delete, for example, children that are before a specific timestamp, then you use the [Query#endAt()][1] method, which:\r\n\r\n&gt; Creates a query constrained to only return child nodes with a value less than or equal to the given value, using the given orderBy directive or priority as default, and additionally only child nodes with a key less than or equal to the given key.\r\n\r\nHere is a working example:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    Query queryByTimestamp = db.child(&quot;Posts&quot;).orderByChild(&quot;timeStamp&quot;).endAt(1615602220595);\r\n    queryByTimestamp.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tds.getRef().removeValue();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nThe result of this query will be the removal of all children that exist before `1615602220595`.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#endAt(double,%20java.lang.String)","title":"in firebase realtime database delete post by timestamp","body":"<p>If you want to delete the first node (<code>-MCCtOfEcs-t8OhKAj_R</code>) that exists in the &quot;Posts&quot; node, please note that there is <strong>no</strong> need to perform a query. Since the key of the node is the same as the value of the <code>postKey</code> field, then you should simply use the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\ndb.child(&quot;Posts&quot;).child(&quot;-MCCtOfEcs-t8OhKAj_R&quot;)).removeValue();\n</code></pre>\n<p>I also recommend you attach a complete listener to the <code>removeValue()</code> operation, to see if something goes wrong. If you don't have the proper rules, then an Exception will be thrown.</p>\n<p><strong>Edit:</strong></p>\n<p>According to your last comment:</p>\n<blockquote>\n<p>I want to delete Instances that have old timestamp.</p>\n</blockquote>\n<p>In this case, you indeed need to use a query. If you need to delete, for example, children that are before a specific timestamp, then you use the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#endAt(double,%20java.lang.String)\" rel=\"nofollow noreferrer\">Query#endAt()</a> method, which:</p>\n<blockquote>\n<p>Creates a query constrained to only return child nodes with a value less than or equal to the given value, using the given orderBy directive or priority as default, and additionally only child nodes with a key less than or equal to the given key.</p>\n</blockquote>\n<p>Here is a working example:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nQuery queryByTimestamp = db.child(&quot;Posts&quot;).orderByChild(&quot;timeStamp&quot;).endAt(1615602220595);\nqueryByTimestamp.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                ds.getRef().removeValue();\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>The result of this query will be the removal of all children that exist before <code>1615602220595</code>.</p>\n"}],"owner":{"account_id":17525669,"reputation":69,"user_id":12741593,"display_name":"Eye Lamp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69786062,"answer_count":1,"score":1,"last_activity_date":1635755916,"creation_date":1635669677,"question_id":69785194,"body_markdown":"[It is my Realtime Database data][1]\r\n\r\n     &quot;Posts&quot; : {\r\n    &quot;-MCCtOfEcs-t8OhKAj_R&quot; : {\r\n      &quot;description&quot; : &quot;&quot;,\r\n      &quot;picture&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/instagram-c0686.appspot.com/o/blog_images%2Fimage%3A22222?alt=media&amp;token=eb7ffc1f-f7bd-4ab7-a108-5baf92e3ef47&quot;,\r\n      &quot;postKey&quot; : &quot;-MCCtOfEcs-t8OhKAj_R&quot;,\r\n      &quot;timeStamp&quot; : 1594739760019,\r\n      &quot;title&quot; : &quot;&quot;,\r\n      &quot;userId&quot; : &quot;1tXK0R5B9uOWyAbzlZMEIs6axHo1&quot;\r\n    },\r\n    &quot;-MCCtPZxoFEChRczT9nY&quot; : {\r\n      &quot;description&quot; : &quot;&quot;,\r\n      &quot;picture&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/instagram-c0686.appspot.com/o/blog_images%2Fimage%3A22222?alt=media&amp;token=c92b64ff-c2f6-4076-949a-b176253f0497&quot;,\r\n      &quot;postKey&quot; : &quot;-MCCtPZxoFEChRczT9nY&quot;,\r\n      &quot;timeStamp&quot; : 1594739763718,\r\n      &quot;title&quot; : &quot;&quot;,\r\n      &quot;userId&quot; : &quot;1tXK0R5B9uOWyAbzlZMEIs6axHo1&quot;\r\n    },\r\n\r\n  [1]: https://i.stack.imgur.com/gp4gv.png\r\n\r\n\r\nI want to delete a post by using the equalTo timeStamp variable. So I make a code.\r\n\r\n    Query fquery =FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).orderByChild(&quot;timeStamp&quot;).equalTo(&quot;1615602220595&quot;);\r\n\r\nBut I don&#39;t know why not working.. when I do this\r\n\r\n    Query fquery =FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).orderByChild(&quot;postKey&quot;).equalTo(&quot;-MCCtOfEcs-t8OhKAj_R&quot;);\r\n\r\nIt&#39;s worked.\r\n\r\nHere is full code.\r\n\r\n    public class PostDetailActivity extends AppCompatActivity {\r\n\r\n    ImageView imgPost,imgUserPost,imgCurrentUser;\r\n    TextView txtPostDesc,txtPostDateName,txtPostTitle;\r\n    EditText editTextComment;\r\n    Button btnAddComment;\r\n    String PostKey;\r\n    FirebaseAuth firebaseAuth;\r\n    FirebaseUser firebaseUser;\r\n    FirebaseDatabase firebaseDatabase;\r\n    RecyclerView RvComment;\r\n    CommentAdapter commentAdapter;\r\n    List&lt;Comment&gt; listComment;\r\n    static String COMMENT_KEY = &quot;Comment&quot;;\r\n    InputMethodManager imm;\r\n    EditText et;\r\n    Button btnDeletePost;\r\n    String myUid;\r\n    String UId;\r\n    String postImage;\r\n    private DatabaseReference mDatabase;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_post_detail);\r\n        imm = (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);\r\n        et = (EditText)findViewById(R.id.post_detail_comment);\r\n\r\n\r\n\r\n        // let&#39;s set the statue bar to transparent\r\n\r\n\r\n        // ini Views\r\n        RvComment = findViewById(R.id.rv_comment);\r\n        imgPost =findViewById(R.id.post_detail_img);\r\n        imgUserPost = findViewById(R.id.post_detail_user_img);\r\n        imgCurrentUser = findViewById(R.id.post_detail_currentuser_img);\r\n\r\n        txtPostTitle = findViewById(R.id.post_detail_title);\r\n        txtPostDesc = findViewById(R.id.post_detail_desc);\r\n        txtPostDateName = findViewById(R.id.post_detail_date_name);\r\n\r\n        editTextComment = findViewById(R.id.post_detail_comment);\r\n        btnAddComment = findViewById(R.id.post_detail_add_comment_btn);\r\n        btnDeletePost = findViewById(R.id.button_delete);\r\n\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        firebaseUser = firebaseAuth.getCurrentUser();\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        // add post delete button\r\n        mDatabase= FirebaseDatabase.getInstance().getReference();\r\n\r\n        myUid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\r\n        btnDeletePost.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //여기 수정 주의 UId.equals(myUid)\r\n                if (true){\r\n                    Toast.makeText(PostDetailActivity.this,&quot;삭제중...&quot;,Toast.LENGTH_SHORT).show();\r\n                    beginDelete();\r\n                    onBackPressed();\r\n                }\r\n                else{\r\n                    Toast.makeText(PostDetailActivity.this,&quot;다른 사용자의 게시글입니다.&quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        // add Comment button click listner\r\n\r\n        btnAddComment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                btnAddComment.setVisibility(View.INVISIBLE);\r\n                DatabaseReference commentReference = firebaseDatabase.getReference(COMMENT_KEY).child(PostKey).push();\r\n                String comment_content = editTextComment.getText().toString();\r\n                String uid = firebaseUser.getUid();\r\n                String uname = firebaseUser.getDisplayName();\r\n                if (firebaseUser.getPhotoUrl()!=null){\r\n                    String uimg = firebaseUser.getPhotoUrl().toString();\r\n                    Comment comment = new Comment(comment_content,uid,uimg,uname);\r\n                    commentReference.setValue(comment).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            showMessage(&quot;comment added&quot;);\r\n                            editTextComment.setText(&quot;&quot;);\r\n                            btnAddComment.setVisibility(View.VISIBLE);\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            showMessage(&quot;fail to add comment : &quot;+e.getMessage());\r\n                        }\r\n                    });\r\n\r\n                }\r\n                else{\r\n                    String usphoto =Integer.toString(R.drawable.userphoto);\r\n                    Comment comment = new Comment(comment_content,uid,usphoto,uname);\r\n                    commentReference.setValue(comment).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            showMessage(&quot;comment added&quot;);\r\n                            editTextComment.setText(&quot;&quot;);\r\n                            btnAddComment.setVisibility(View.VISIBLE);\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            showMessage(&quot;fail to add comment : &quot;+e.getMessage());\r\n                        }\r\n                    });\r\n                }\r\n\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n        // now we need to bind all data into those views\r\n        // firt we need to get post data\r\n        // we need to send post detail data to this activity first ...\r\n        // now we can get post data\r\n\r\n\r\n\r\n        // 게시글 사진 백지 케이스\r\n        postImage = getIntent().getExtras().getString(&quot;postImage&quot;) ;\r\n        if(postImage!=null){\r\n            Glide.with(this).load(postImage).into(imgPost);\r\n        }\r\n        else{\r\n            Glide.with(this).load(R.drawable.whitepaper).into(imgPost);\r\n        }\r\n\r\n\r\n        String postTitle = getIntent().getExtras().getString(&quot;title&quot;);\r\n        txtPostTitle.setText(postTitle);\r\n\r\n        String userpostImage = getIntent().getExtras().getString(&quot;userPhoto&quot;);\r\n        if (userpostImage!=null){\r\n            Glide.with(this).load(userpostImage).into(imgUserPost);\r\n        }\r\n        else {\r\n            Glide.with(this).load(R.drawable.userphoto).into(imgUserPost);\r\n        }\r\n\r\n        String postDescription = getIntent().getExtras().getString(&quot;description&quot;);\r\n        txtPostDesc.setText(postDescription);\r\n\r\n        // set comment user image\r\n        if (firebaseUser.getPhotoUrl()!=null){\r\n            Glide.with(this).load(firebaseUser.getPhotoUrl()).into(imgCurrentUser);\r\n        }\r\n        else{\r\n            Glide.with(this).load(R.drawable.userphoto).into(imgCurrentUser);\r\n        }\r\n        // get post key\r\n        PostKey = getIntent().getExtras().getString(&quot;postKey&quot;);\r\n\r\n        String date = timestampToString(getIntent().getExtras().getLong(&quot;postDate&quot;));\r\n        txtPostDateName.setText(date);\r\n        // get post uid\r\n        UId = getIntent().getExtras().getString(&quot;userId&quot;);\r\n\r\n\r\n\r\n        // ini Recyclerview Comment\r\n        iniRvComment();\r\n\r\n\r\n    }\r\n\r\n    private void beginDelete() {\r\n\r\n        StorageReference picRef = FirebaseStorage.getInstance().getReferenceFromUrl(postImage);\r\n        picRef.delete()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        //image deleted, now delete database\r\n                        Query fquery =FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).orderByChild(&quot;timeStamp&quot;).equalTo(&quot;1615602220595&quot;);\r\n                        fquery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                                for (DataSnapshot ds:dataSnapshot.getChildren()){\r\n                                    ds.getRef().removeValue(); // remove values from firebase where postkey matches\r\n                                }\r\n                                //Deleted\r\n                                Toast.makeText(PostDetailActivity.this,&quot;게시글이 삭제되었습니다.&quot;,Toast.LENGTH_SHORT).show();\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                            }\r\n                        });\r\n\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        //failed, can&#39;t go further\r\n                        Toast.makeText(PostDetailActivity.this,&quot;&quot;+e.getMessage(),Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    public void linearOnClick(View v) {\r\n        imm.hideSoftInputFromWindow(et.getWindowToken(), 0);\r\n    }\r\n\r\n\r\n    private void iniRvComment() {\r\n\r\n        RvComment.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        DatabaseReference commentRef = firebaseDatabase.getReference(COMMENT_KEY).child(PostKey);\r\n        commentRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                listComment = new ArrayList&lt;&gt;();\r\n                for (DataSnapshot snap:dataSnapshot.getChildren()) {\r\n\r\n                    Comment comment = snap.getValue(Comment.class);\r\n                    listComment.add(comment) ;\r\n\r\n                }\r\n\r\n                commentAdapter = new CommentAdapter(getApplicationContext(),listComment);\r\n                RvComment.setAdapter(commentAdapter);\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private void showMessage(String message) {\r\n\r\n        Toast.makeText(this,message,Toast.LENGTH_LONG).show();\r\n\r\n    }\r\n\r\n\r\n    private String timestampToString(long time) {\r\n\r\n        Calendar calendar = Calendar.getInstance(Locale.ENGLISH);\r\n        calendar.setTimeInMillis(time);\r\n        String date = DateFormat.format(&quot;yyyy-MM-dd&quot;,calendar).toString();\r\n        return date;\r\n\r\n\r\n    }\r\n\r\n\r\n}","title":"in firebase realtime database delete post by timestamp","body":"<p><a href=\"https://i.stack.imgur.com/gp4gv.png\" rel=\"nofollow noreferrer\">It is my Realtime Database data</a></p>\n<pre><code> &quot;Posts&quot; : {\n&quot;-MCCtOfEcs-t8OhKAj_R&quot; : {\n  &quot;description&quot; : &quot;&quot;,\n  &quot;picture&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/instagram-c0686.appspot.com/o/blog_images%2Fimage%3A22222?alt=media&amp;token=eb7ffc1f-f7bd-4ab7-a108-5baf92e3ef47&quot;,\n  &quot;postKey&quot; : &quot;-MCCtOfEcs-t8OhKAj_R&quot;,\n  &quot;timeStamp&quot; : 1594739760019,\n  &quot;title&quot; : &quot;&quot;,\n  &quot;userId&quot; : &quot;1tXK0R5B9uOWyAbzlZMEIs6axHo1&quot;\n},\n&quot;-MCCtPZxoFEChRczT9nY&quot; : {\n  &quot;description&quot; : &quot;&quot;,\n  &quot;picture&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/instagram-c0686.appspot.com/o/blog_images%2Fimage%3A22222?alt=media&amp;token=c92b64ff-c2f6-4076-949a-b176253f0497&quot;,\n  &quot;postKey&quot; : &quot;-MCCtPZxoFEChRczT9nY&quot;,\n  &quot;timeStamp&quot; : 1594739763718,\n  &quot;title&quot; : &quot;&quot;,\n  &quot;userId&quot; : &quot;1tXK0R5B9uOWyAbzlZMEIs6axHo1&quot;\n},\n</code></pre>\n<p>I want to delete a post by using the equalTo timeStamp variable. So I make a code.</p>\n<pre><code>Query fquery =FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).orderByChild(&quot;timeStamp&quot;).equalTo(&quot;1615602220595&quot;);\n</code></pre>\n<p>But I don't know why not working.. when I do this</p>\n<pre><code>Query fquery =FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).orderByChild(&quot;postKey&quot;).equalTo(&quot;-MCCtOfEcs-t8OhKAj_R&quot;);\n</code></pre>\n<p>It's worked.</p>\n<p>Here is full code.</p>\n<pre><code>public class PostDetailActivity extends AppCompatActivity {\n\nImageView imgPost,imgUserPost,imgCurrentUser;\nTextView txtPostDesc,txtPostDateName,txtPostTitle;\nEditText editTextComment;\nButton btnAddComment;\nString PostKey;\nFirebaseAuth firebaseAuth;\nFirebaseUser firebaseUser;\nFirebaseDatabase firebaseDatabase;\nRecyclerView RvComment;\nCommentAdapter commentAdapter;\nList&lt;Comment&gt; listComment;\nstatic String COMMENT_KEY = &quot;Comment&quot;;\nInputMethodManager imm;\nEditText et;\nButton btnDeletePost;\nString myUid;\nString UId;\nString postImage;\nprivate DatabaseReference mDatabase;\n\n\n\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_post_detail);\n    imm = (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);\n    et = (EditText)findViewById(R.id.post_detail_comment);\n\n\n\n    // let's set the statue bar to transparent\n\n\n    // ini Views\n    RvComment = findViewById(R.id.rv_comment);\n    imgPost =findViewById(R.id.post_detail_img);\n    imgUserPost = findViewById(R.id.post_detail_user_img);\n    imgCurrentUser = findViewById(R.id.post_detail_currentuser_img);\n\n    txtPostTitle = findViewById(R.id.post_detail_title);\n    txtPostDesc = findViewById(R.id.post_detail_desc);\n    txtPostDateName = findViewById(R.id.post_detail_date_name);\n\n    editTextComment = findViewById(R.id.post_detail_comment);\n    btnAddComment = findViewById(R.id.post_detail_add_comment_btn);\n    btnDeletePost = findViewById(R.id.button_delete);\n\n\n    firebaseAuth = FirebaseAuth.getInstance();\n    firebaseUser = firebaseAuth.getCurrentUser();\n    firebaseDatabase = FirebaseDatabase.getInstance();\n    // add post delete button\n    mDatabase= FirebaseDatabase.getInstance().getReference();\n\n    myUid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n\n    btnDeletePost.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            //여기 수정 주의 UId.equals(myUid)\n            if (true){\n                Toast.makeText(PostDetailActivity.this,&quot;삭제중...&quot;,Toast.LENGTH_SHORT).show();\n                beginDelete();\n                onBackPressed();\n            }\n            else{\n                Toast.makeText(PostDetailActivity.this,&quot;다른 사용자의 게시글입니다.&quot;,Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n\n    // add Comment button click listner\n\n    btnAddComment.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            btnAddComment.setVisibility(View.INVISIBLE);\n            DatabaseReference commentReference = firebaseDatabase.getReference(COMMENT_KEY).child(PostKey).push();\n            String comment_content = editTextComment.getText().toString();\n            String uid = firebaseUser.getUid();\n            String uname = firebaseUser.getDisplayName();\n            if (firebaseUser.getPhotoUrl()!=null){\n                String uimg = firebaseUser.getPhotoUrl().toString();\n                Comment comment = new Comment(comment_content,uid,uimg,uname);\n                commentReference.setValue(comment).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        showMessage(&quot;comment added&quot;);\n                        editTextComment.setText(&quot;&quot;);\n                        btnAddComment.setVisibility(View.VISIBLE);\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        showMessage(&quot;fail to add comment : &quot;+e.getMessage());\n                    }\n                });\n\n            }\n            else{\n                String usphoto =Integer.toString(R.drawable.userphoto);\n                Comment comment = new Comment(comment_content,uid,usphoto,uname);\n                commentReference.setValue(comment).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        showMessage(&quot;comment added&quot;);\n                        editTextComment.setText(&quot;&quot;);\n                        btnAddComment.setVisibility(View.VISIBLE);\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        showMessage(&quot;fail to add comment : &quot;+e.getMessage());\n                    }\n                });\n            }\n\n\n\n\n        }\n    });\n\n\n    // now we need to bind all data into those views\n    // firt we need to get post data\n    // we need to send post detail data to this activity first ...\n    // now we can get post data\n\n\n\n    // 게시글 사진 백지 케이스\n    postImage = getIntent().getExtras().getString(&quot;postImage&quot;) ;\n    if(postImage!=null){\n        Glide.with(this).load(postImage).into(imgPost);\n    }\n    else{\n        Glide.with(this).load(R.drawable.whitepaper).into(imgPost);\n    }\n\n\n    String postTitle = getIntent().getExtras().getString(&quot;title&quot;);\n    txtPostTitle.setText(postTitle);\n\n    String userpostImage = getIntent().getExtras().getString(&quot;userPhoto&quot;);\n    if (userpostImage!=null){\n        Glide.with(this).load(userpostImage).into(imgUserPost);\n    }\n    else {\n        Glide.with(this).load(R.drawable.userphoto).into(imgUserPost);\n    }\n\n    String postDescription = getIntent().getExtras().getString(&quot;description&quot;);\n    txtPostDesc.setText(postDescription);\n\n    // set comment user image\n    if (firebaseUser.getPhotoUrl()!=null){\n        Glide.with(this).load(firebaseUser.getPhotoUrl()).into(imgCurrentUser);\n    }\n    else{\n        Glide.with(this).load(R.drawable.userphoto).into(imgCurrentUser);\n    }\n    // get post key\n    PostKey = getIntent().getExtras().getString(&quot;postKey&quot;);\n\n    String date = timestampToString(getIntent().getExtras().getLong(&quot;postDate&quot;));\n    txtPostDateName.setText(date);\n    // get post uid\n    UId = getIntent().getExtras().getString(&quot;userId&quot;);\n\n\n\n    // ini Recyclerview Comment\n    iniRvComment();\n\n\n}\n\nprivate void beginDelete() {\n\n    StorageReference picRef = FirebaseStorage.getInstance().getReferenceFromUrl(postImage);\n    picRef.delete()\n            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void aVoid) {\n                    //image deleted, now delete database\n                    Query fquery =FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).orderByChild(&quot;timeStamp&quot;).equalTo(&quot;1615602220595&quot;);\n                    fquery.addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                            for (DataSnapshot ds:dataSnapshot.getChildren()){\n                                ds.getRef().removeValue(); // remove values from firebase where postkey matches\n                            }\n                            //Deleted\n                            Toast.makeText(PostDetailActivity.this,&quot;게시글이 삭제되었습니다.&quot;,Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                        }\n                    });\n\n                }\n            })\n            .addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    //failed, can't go further\n                    Toast.makeText(PostDetailActivity.this,&quot;&quot;+e.getMessage(),Toast.LENGTH_SHORT).show();\n                }\n            });\n\n}\n\npublic void linearOnClick(View v) {\n    imm.hideSoftInputFromWindow(et.getWindowToken(), 0);\n}\n\n\nprivate void iniRvComment() {\n\n    RvComment.setLayoutManager(new LinearLayoutManager(this));\n\n    DatabaseReference commentRef = firebaseDatabase.getReference(COMMENT_KEY).child(PostKey);\n    commentRef.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            listComment = new ArrayList&lt;&gt;();\n            for (DataSnapshot snap:dataSnapshot.getChildren()) {\n\n                Comment comment = snap.getValue(Comment.class);\n                listComment.add(comment) ;\n\n            }\n\n            commentAdapter = new CommentAdapter(getApplicationContext(),listComment);\n            RvComment.setAdapter(commentAdapter);\n\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n\n\n\n\n}\n\nprivate void showMessage(String message) {\n\n    Toast.makeText(this,message,Toast.LENGTH_LONG).show();\n\n}\n\n\nprivate String timestampToString(long time) {\n\n    Calendar calendar = Calendar.getInstance(Locale.ENGLISH);\n    calendar.setTimeInMillis(time);\n    String date = DateFormat.format(&quot;yyyy-MM-dd&quot;,calendar).toString();\n    return date;\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","debugging","intellij-idea","remote-debugging"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1635504047,"post_id":69767377,"comment_id":123321976,"body_markdown":"How do you start on server-side the application to which you want to connect?","body":"How do you start on server-side the application to which you want to connect?"},{"owner":{"account_id":10806367,"reputation":59,"user_id":8483171,"display_name":"java-dev-ua"},"score":0,"creation_date":1635505853,"post_id":69767377,"comment_id":123322663,"body_markdown":"@MatteoNNZ Spring Boot application with embedded tomcat server","body":"@MatteoNNZ Spring Boot application with embedded tomcat server"},{"owner":{"account_id":10806367,"reputation":59,"user_id":8483171,"display_name":"java-dev-ua"},"score":0,"creation_date":1635505913,"post_id":69767377,"comment_id":123322686,"body_markdown":"@MatteoNNZ via command `java -jar bla.jar`","body":"@MatteoNNZ via command <code>java -jar bla.jar</code>"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1635505939,"post_id":69767377,"comment_id":123322691,"body_markdown":"IntelliJ shows you arguments for the JVM (`-agentlib:jdwp`...)... have you added them when starting the program (before you click on connect from IntelliJ)?","body":"IntelliJ shows you arguments for the JVM (<code>-agentlib:jdwp</code>...)... have you added them when starting the program (before you click on connect from IntelliJ)?"},{"owner":{"account_id":10806367,"reputation":59,"user_id":8483171,"display_name":"java-dev-ua"},"score":0,"creation_date":1635506039,"post_id":69767377,"comment_id":123322722,"body_markdown":"@MatteoNNZ nope, how I can do that? just type something like `java -jar bla.jar -agentlib...` ?","body":"@MatteoNNZ nope, how I can do that? just type something like <code>java -jar bla.jar -agentlib...</code> ?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1635508576,"post_id":69767377,"comment_id":123323592,"body_markdown":"Yes, simply `java -agentlib:... -jar bla.jar` (put it right after `java`). Once started, you should be able to connect remotely.","body":"Yes, simply <code>java -agentlib:... -jar bla.jar</code> (put it right after <code>java</code>). Once started, you should be able to connect remotely."},{"owner":{"account_id":10806367,"reputation":59,"user_id":8483171,"display_name":"java-dev-ua"},"score":0,"creation_date":1635510581,"post_id":69767377,"comment_id":123324358,"body_markdown":"@MatteoNNZ nope :( still have a problem `Unable to open debugger port (host:5005): java.net.ConnectException &quot;Connection timed out: connect&quot;`","body":"@MatteoNNZ nope :( still have a problem <code>Unable to open debugger port (host:5005): java.net.ConnectException &quot;Connection timed out: connect&quot;</code>"},{"owner":{"account_id":10806367,"reputation":59,"user_id":8483171,"display_name":"java-dev-ua"},"score":0,"creation_date":1635510656,"post_id":69767377,"comment_id":123324393,"body_markdown":"and I see the message after starting jar `Listening for transport dt_socket at address: 8000` (on the remote server).","body":"and I see the message after starting jar <code>Listening for transport dt_socket at address: 8000</code> (on the remote server)."},{"owner":{"account_id":10806367,"reputation":59,"user_id":8483171,"display_name":"java-dev-ua"},"score":0,"creation_date":1635511674,"post_id":69767377,"comment_id":123324795,"body_markdown":"@MatteoNNZ server protected with ssh private key. That&#39;s could be as a reason?","body":"@MatteoNNZ server protected with ssh private key. That&#39;s could be as a reason?"},{"owner":{"account_id":10806367,"reputation":59,"user_id":8483171,"display_name":"java-dev-ua"},"score":0,"creation_date":1635514907,"post_id":69767377,"comment_id":123326290,"body_markdown":"oh, I see that firewall blocking possibility to debug.","body":"oh, I see that firewall blocking possibility to debug."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1635591594,"post_id":69767377,"comment_id":123342867,"body_markdown":"You&#39;re not launching the right configuration. Your argument says port 8000, but you try to connect on port 5005.","body":"You&#39;re not launching the right configuration. Your argument says port 8000, but you try to connect on port 5005."}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635755840,"creation_date":1635755840,"answer_id":69794424,"question_id":69767377,"body_markdown":"You need to start the JVM on a remote host with the command line IDE shows you. And make sure the `port` and `host` that are specified in this command is accessible from the host where IDE is running.","title":"Remote debugging via IntellijIdea","body":"<p>You need to start the JVM on a remote host with the command line IDE shows you. And make sure the <code>port</code> and <code>host</code> that are specified in this command is accessible from the host where IDE is running.</p>\n"}],"owner":{"account_id":10806367,"reputation":59,"user_id":8483171,"display_name":"java-dev-ua"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635755840,"creation_date":1635503405,"question_id":69767377,"body_markdown":"I want to configure debugging flow for the application that is placed on a dedicated Linux server. I can connect to the server via SSH for now(with private key protection). F.E. `ssh -i private_key.txt user@host`. But I can&#39;t create a connection to the server via Intellij Idea to debug remotely(sample on the picture).\r\nQ: do I need to add some properties to the java application. Or I need to build a connection in a different way.\r\n\r\n[![remote debug config][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F7cci.png","title":"Remote debugging via IntellijIdea","body":"<p>I want to configure debugging flow for the application that is placed on a dedicated Linux server. I can connect to the server via SSH for now(with private key protection). F.E. <code>ssh -i private_key.txt user@host</code>. But I can't create a connection to the server via Intellij Idea to debug remotely(sample on the picture).\nQ: do I need to add some properties to the java application. Or I need to build a connection in a different way.</p>\n<p><a href=\"https://i.stack.imgur.com/F7cci.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F7cci.png\" alt=\"remote debug config\" /></a></p>\n"},{"tags":["java","kotlin","intellij-idea","rgb","bufferedimage"],"comments":[{"owner":{"account_id":14334032,"reputation":1310,"user_id":10354066,"display_name":"vytaute"},"score":0,"creation_date":1635755395,"post_id":69794203,"comment_id":123369539,"body_markdown":"But how do I convert Color type to int then? For example Color(255, 0, 0)?","body":"But how do I convert Color type to int then? For example Color(255, 0, 0)?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1635755464,"post_id":69794203,"comment_id":123369559,"body_markdown":"I posted an answer below.","body":"I posted an answer below."},{"owner":{"account_id":14334032,"reputation":1310,"user_id":10354066,"display_name":"vytaute"},"score":0,"creation_date":1635755577,"post_id":69794203,"comment_id":123369586,"body_markdown":"Yes, thank you. That was the thing I struggled on and started to look for another function constructor. It fixed now. Thank you!","body":"Yes, thank you. That was the thing I struggled on and started to look for another function constructor. It fixed now. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":5654135,"reputation":3774,"user_id":4473822,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635755405,"creation_date":1635755405,"answer_id":69794339,"question_id":69794203,"body_markdown":"`setRGB` expect a primitive `int[]`\r\n\r\nIn kotlin the java equivalent of `int[]` is `IntArray` (https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/)\r\n\r\nSo you should change the creation of `val newColor` to:\r\n```kotlin\r\nval newColor = intArrayOf(color.red, 0, 0)\r\n```\r\n\r\nFull example:\r\n```kotlin\r\nval c: Int = bufferedImage.getRGB(x, y)\r\nval color = Color(c)\r\n\r\nval newColor = intArrayOf(color.red, 0, 0)\r\nbufferedImage.setRGB(x, y, 0, 0, newColor, 0, 0)\r\n```\r\n\r\nFor more info regarding the function you can refer to the javadoc: https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#setRGB(int,%20int,%20int,%20int,%20int[],%20int,%20int)","title":"Using setRGB() required IntArray in Kotlin","body":"<p><code>setRGB</code> expect a primitive <code>int[]</code></p>\n<p>In kotlin the java equivalent of <code>int[]</code> is <code>IntArray</code> (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/</a>)</p>\n<p>So you should change the creation of <code>val newColor</code> to:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val newColor = intArrayOf(color.red, 0, 0)\n</code></pre>\n<p>Full example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val c: Int = bufferedImage.getRGB(x, y)\nval color = Color(c)\n\nval newColor = intArrayOf(color.red, 0, 0)\nbufferedImage.setRGB(x, y, 0, 0, newColor, 0, 0)\n</code></pre>\n<p>For more info regarding the function you can refer to the javadoc: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#setRGB(int,%20int,%20int,%20int,%20int%5B%5D,%20int,%20int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#setRGB(int,%20int,%20int,%20int,%20int[],%20int,%20int)</a></p>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635755807,"creation_date":1635755412,"answer_id":69794343,"question_id":69794203,"body_markdown":"If you are only changing one pixel (at a time), you should use the `setRGB(int x, int y, int aRGB)` method. Don&#39;t bother with arrays at all.\r\n\r\nI don&#39;t normally program Kotlin, so the syntax may not be 100% correct, but anyway:\r\n\r\n    val c: Int = bufferedImage.getRGB(x, y)\r\n    val color = Color(c)\r\n\r\n    val newColor = Color(color.red, 0, 0)\r\n    bufferedImage.setRGB(x, y, newColor.getRGB())\r\n\r\n\r\n--- \r\n\r\nThat said, the `width` and `height` parameters of the `setRGB` method that takes an `int` array, is the height and with of the region you want to set (and usually `offset == 0` and `scansize == width`) . You typically use this only to set multiple pixels. To set a single pixel using it, the values should be simply `1, 1` (I borrowed the `intArrayOf` part from @Tom&#39;s answer):\r\n\r\n    val newColor = intArrayOf(color.red, 0, 0)\r\n    bufferedImage.setRGB(x, y, 1, 1, newColor, 0, 1)\r\n\r\nThis should also work. But I think it&#39;s less elegant and probably slower due to array bounds checking and copying. ","title":"Using setRGB() required IntArray in Kotlin","body":"<p>If you are only changing one pixel (at a time), you should use the <code>setRGB(int x, int y, int aRGB)</code> method. Don't bother with arrays at all.</p>\n<p>I don't normally program Kotlin, so the syntax may not be 100% correct, but anyway:</p>\n<pre><code>val c: Int = bufferedImage.getRGB(x, y)\nval color = Color(c)\n\nval newColor = Color(color.red, 0, 0)\nbufferedImage.setRGB(x, y, newColor.getRGB())\n</code></pre>\n<hr />\n<p>That said, the <code>width</code> and <code>height</code> parameters of the <code>setRGB</code> method that takes an <code>int</code> array, is the height and with of the region you want to set (and usually <code>offset == 0</code> and <code>scansize == width</code>) . You typically use this only to set multiple pixels. To set a single pixel using it, the values should be simply <code>1, 1</code> (I borrowed the <code>intArrayOf</code> part from @Tom's answer):</p>\n<pre><code>val newColor = intArrayOf(color.red, 0, 0)\nbufferedImage.setRGB(x, y, 1, 1, newColor, 0, 1)\n</code></pre>\n<p>This should also work. But I think it's less elegant and probably slower due to array bounds checking and copying.</p>\n"}],"owner":{"account_id":14334032,"reputation":1310,"user_id":10354066,"display_name":"vytaute"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69794343,"answer_count":2,"score":0,"last_activity_date":1635755807,"creation_date":1635754503,"question_id":69794203,"body_markdown":"I want to change color of a pixel in Kotlin. I get a pixel, want to set new values for it but I get an error in setRGB method that it requires IntArray! but found Array&lt;Int&gt;:\r\n\r\n    val c: Int = bufferedImage.getRGB(x, y)\r\n    val color = Color(c)\r\n    \r\n    val newColor = Array&lt;Int&gt;(3) { color.red; 0; 0 }\r\n    bufferedImage.setRGB(x, y, 0, 0, newColor, 0, 0)\r\n\r\nAlso, I am writing code in Kotlin/Java and cannot find detailed explanation how does setRGB() method work. I know from Intelij IDE that parameters are: setRGB(x, y, width, height, IntArray for rgb color, offset, scansize).\r\n\r\nBut what is width, height? Is it dimensions of a picture? Why do they matter if I only change one pixel? \r\n\r\nAnd how do I pass new color to setRGB() method correctly as IntArray?\r\n","title":"Using setRGB() required IntArray in Kotlin","body":"<p>I want to change color of a pixel in Kotlin. I get a pixel, want to set new values for it but I get an error in setRGB method that it requires IntArray! but found Array:</p>\n<pre><code>val c: Int = bufferedImage.getRGB(x, y)\nval color = Color(c)\n\nval newColor = Array&lt;Int&gt;(3) { color.red; 0; 0 }\nbufferedImage.setRGB(x, y, 0, 0, newColor, 0, 0)\n</code></pre>\n<p>Also, I am writing code in Kotlin/Java and cannot find detailed explanation how does setRGB() method work. I know from Intelij IDE that parameters are: setRGB(x, y, width, height, IntArray for rgb color, offset, scansize).</p>\n<p>But what is width, height? Is it dimensions of a picture? Why do they matter if I only change one pixel?</p>\n<p>And how do I pass new color to setRGB() method correctly as IntArray?</p>\n"},{"tags":["java","architecture","jakarta-ee","workflow","rule-engine"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235474853,"creation_date":1235474853,"answer_id":581419,"question_id":581212,"body_markdown":"Why do you regard Javaspaces as dead, beyond the fact that the Jini 2.1 release was some time ago (October 2005) ? Having used that, I&#39;d suggest that it indicates a mature and complete technology set rather than something abandoned and defunct.\r\n\r\nFor another implementation of Javaspaces, take a look at [Blitz Javaspaces][1]. That&#39;s maintained and enhanced more regularly (latest release July 2008) and offers a more performant and manageable Javaspace implementation than the default `outrigger` supplied by Sun.\r\n\r\n\r\n  [1]: http://www.dancres.org/blitz/index.html","title":"Space-based architecture?","body":"<p>Why do you regard Javaspaces as dead, beyond the fact that the Jini 2.1 release was some time ago (October 2005) ? Having used that, I'd suggest that it indicates a mature and complete technology set rather than something abandoned and defunct.</p>\n\n<p>For another implementation of Javaspaces, take a look at <a href=\"http://www.dancres.org/blitz/index.html\" rel=\"nofollow noreferrer\">Blitz Javaspaces</a>. That's maintained and enhanced more regularly (latest release July 2008) and offers a more performant and manageable Javaspace implementation than the default <code>outrigger</code> supplied by Sun.</p>\n"},{"tags":[],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235572789,"creation_date":1235572789,"answer_id":586219,"question_id":581212,"body_markdown":"Gigaspaces is a successful commercial implementation of JavaSpaces -- so, I wouldn&#39;t say JavaSpaces is dead.\r\n\r\nYou might take a look at [Java Shared Data Toolkit][1] ([also this article][2]) to see if it meets your requirements.\r\n\r\n\r\n  [1]: http://java.sun.com/products/java-media/jsdt/\r\n  [2]: http://www.ddj.com/184403999","title":"Space-based architecture?","body":"<p>Gigaspaces is a successful commercial implementation of JavaSpaces -- so, I wouldn't say JavaSpaces is dead.</p>\n\n<p>You might take a look at <a href=\"http://java.sun.com/products/java-media/jsdt/\" rel=\"nofollow noreferrer\">Java Shared Data Toolkit</a> (<a href=\"http://www.ddj.com/184403999\" rel=\"nofollow noreferrer\">also this article</a>) to see if it meets your requirements.</p>\n"},{"tags":[],"owner":{"account_id":1925798,"reputation":1207,"user_id":1736287,"display_name":"cpurdy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392407149,"creation_date":1392407149,"answer_id":21788256,"question_id":581212,"body_markdown":"While it doesn&#39;t support the JavaSpaces API, I&#39;d suggest looking at Oracle Coherence for a distributed and reliable &quot;live&quot; data store that can drive event-based workflow. Deutsche Bank, for example, successfully replaced a &quot;SBA&quot; (Space Based Architecture) with an event-driven system built on Coherence for their FX trading, because of both reliability and performance issues.\r\n\r\n*For the sake of full disclosure, I work at Oracle. The opinions and views expressed in this post are my own, and do not necessarily reflect the opinions or views of my employer.*","title":"Space-based architecture?","body":"<p>While it doesn't support the JavaSpaces API, I'd suggest looking at Oracle Coherence for a distributed and reliable \"live\" data store that can drive event-based workflow. Deutsche Bank, for example, successfully replaced a \"SBA\" (Space Based Architecture) with an event-driven system built on Coherence for their FX trading, because of both reliability and performance issues.</p>\n\n<p><em>For the sake of full disclosure, I work at Oracle. The opinions and views expressed in this post are my own, and do not necessarily reflect the opinions or views of my employer.</em></p>\n"},{"tags":[],"owner":{"account_id":23138293,"reputation":11,"user_id":17286691,"display_name":"geetha geetha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635755726,"creation_date":1635755726,"answer_id":69794400,"question_id":581212,"body_markdown":"Space-based architecture is a distributed-computing architecture for achieving linear scalability of stateful, high-performance applications using the tuple space paradigm With a space-based architecture, applications are built out of a set of self-sufficient units, known as processing-units.\r\nEx: Gigaspaces \r\nhere I attached the reference for gigaspaces.\r\nhttps://docs.gigaspaces.com/latest/overview/space-based-architecture.html","title":"Space-based architecture?","body":"<p>Space-based architecture is a distributed-computing architecture for achieving linear scalability of stateful, high-performance applications using the tuple space paradigm With a space-based architecture, applications are built out of a set of self-sufficient units, known as processing-units.\nEx: Gigaspaces\nhere I attached the reference for gigaspaces.\n<a href=\"https://docs.gigaspaces.com/latest/overview/space-based-architecture.html\" rel=\"nofollow noreferrer\">https://docs.gigaspaces.com/latest/overview/space-based-architecture.html</a></p>\n"}],"owner":{"account_id":26862,"reputation":6868,"user_id":70288,"accept_rate":91,"display_name":"Robert Campbell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2859,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1635755726,"creation_date":1235470671,"question_id":581212,"body_markdown":"One chapter in Pragmatic Programmer recommends looking at a blackboard/space-based architecture + a rules engine as a more flexible alternative to a traditional workflow system.\r\n\r\nThe project I&#39;m working on currently uses a workflow engine, but I&#39;d like to evaluate alternatives. I really feel like a SBA would be a better solution to our business problems, but I&#39;m worried about a total lack of community support/user base/venders/options.\r\n\r\nJavaSpaces is dead, and the JINI spin-off Apache River seems to be on life support. SemiSpace looks perfect, but it&#39;s a one-man show. The only viable solution seems to be GigaSpaces.\r\n\r\nI&#39;d like to hear your thoughts on space based architecture and any experiences you&#39;ve had with real world implementations.","title":"Space-based architecture?","body":"<p>One chapter in Pragmatic Programmer recommends looking at a blackboard/space-based architecture + a rules engine as a more flexible alternative to a traditional workflow system.</p>\n\n<p>The project I'm working on currently uses a workflow engine, but I'd like to evaluate alternatives. I really feel like a SBA would be a better solution to our business problems, but I'm worried about a total lack of community support/user base/venders/options.</p>\n\n<p>JavaSpaces is dead, and the JINI spin-off Apache River seems to be on life support. SemiSpace looks perfect, but it's a one-man show. The only viable solution seems to be GigaSpaces.</p>\n\n<p>I'd like to hear your thoughts on space based architecture and any experiences you've had with real world implementations.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-sdk"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1632493903,"post_id":69316682,"comment_id":122515483,"body_markdown":"Why are you trying to run unit-tests against a real database? I do not think you need to do that unless you need to do some kind of integration testing. If the latter is not your goal, then simply mock the database client and test your code using mocks.","body":"Why are you trying to run unit-tests against a real database? I do not think you need to do that unless you need to do some kind of integration testing. If the latter is not your goal, then simply mock the database client and test your code using mocks."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632499069,"creation_date":1632494177,"answer_id":69316829,"question_id":69316682,"body_markdown":"I run the UNIT tests from the IntelliJ IDE. I find using the IDE works better then from the command line. Once I setup the [config.properties][1] file that contains the values for the tests and run them, all tests pass -- as shown here: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn fact - we test all Java V2 code examples in this manner to ensure they all work.\r\n\r\n\r\nI also tested all DynamoDB examples from the command line using **mvn test** . All passed: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\n\r\nAmend your test to build a single instance of the DynamoDB client and then as your first test, make sure it was created successfully. See if this works for you. Once you get this working, add more tests! \r\n\r\n\r\n    public class DynamoDBTest {\r\n    \r\n        private static DynamoDbClient ddb;\r\n    \r\n       \r\n    \r\n        @BeforeAll\r\n        public static void setUp() throws IOException {\r\n    \r\n            // Run tests on Real AWS Resources\r\n            Region region = Region.US_WEST_2;\r\n            ddb = DynamoDbClient.builder().region(region).build();\r\n            try (InputStream input = DynamoDBTest.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)) {\r\n    \r\n                Properties prop = new Properties();\r\n    \r\n                if (input == null) {\r\n                    System.out.println(&quot;Sorry, unable to find config.properties&quot;);\r\n                    return;\r\n                }\r\n    \r\n                //load a properties file from class path, inside static method\r\n                prop.load(input);\r\n    \r\n               \r\n    \r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        @Order(1)\r\n        public void whenInitializingAWSService_thenNotNull() {\r\n            assertNotNull(ddb);\r\n            System.out.println(&quot;Test 1 passed&quot;);\r\n        }\r\n\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/example_code/dynamodb\r\n  [2]: https://i.stack.imgur.com/BIgDB.png\r\n  [3]: https://i.stack.imgur.com/D7xUD.png\r\n","title":"Cannot get Junit test to run for dynamodb class","body":"<p>I run the UNIT tests from the IntelliJ IDE. I find using the IDE works better then from the command line. Once I setup the <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/example_code/dynamodb\" rel=\"nofollow noreferrer\">config.properties</a> file that contains the values for the tests and run them, all tests pass -- as shown here:</p>\n<p><a href=\"https://i.stack.imgur.com/BIgDB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BIgDB.png\" alt=\"enter image description here\" /></a></p>\n<p>In fact - we test all Java V2 code examples in this manner to ensure they all work.</p>\n<p>I also tested all DynamoDB examples from the command line using <strong>mvn test</strong> . All passed:</p>\n<p><a href=\"https://i.stack.imgur.com/D7xUD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D7xUD.png\" alt=\"enter image description here\" /></a></p>\n<p>Amend your test to build a single instance of the DynamoDB client and then as your first test, make sure it was created successfully. See if this works for you. Once you get this working, add more tests!</p>\n<pre><code>public class DynamoDBTest {\n\n    private static DynamoDbClient ddb;\n\n   \n\n    @BeforeAll\n    public static void setUp() throws IOException {\n\n        // Run tests on Real AWS Resources\n        Region region = Region.US_WEST_2;\n        ddb = DynamoDbClient.builder().region(region).build();\n        try (InputStream input = DynamoDBTest.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)) {\n\n            Properties prop = new Properties();\n\n            if (input == null) {\n                System.out.println(&quot;Sorry, unable to find config.properties&quot;);\n                return;\n            }\n\n            //load a properties file from class path, inside static method\n            prop.load(input);\n\n           \n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    @Test\n    @Order(1)\n    public void whenInitializingAWSService_thenNotNull() {\n        assertNotNull(ddb);\n        System.out.println(&quot;Test 1 passed&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15193140,"reputation":621,"user_id":10963322,"display_name":"TheWalkingMalteser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632598952,"creation_date":1632598952,"answer_id":69329453,"question_id":69316682,"body_markdown":"Turns out my pom file contained other clients, so had to remove the likes of :\r\n```\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nand replaced them with :\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.14.13-PREVIEW&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nas mentioned in https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/","title":"Cannot get Junit test to run for dynamodb class","body":"<p>Turns out my pom file contained other clients, so had to remove the likes of :</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;s3&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                    &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                    &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and replaced them with :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\n        &lt;version&gt;2.14.13-PREVIEW&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>as mentioned in <a href=\"https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/</a></p>\n"},{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635755474,"creation_date":1635755474,"answer_id":69794358,"question_id":69316682,"body_markdown":"as a complement to the other answers, for me only worked the [option 4 from the reference](https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/).\r\n&gt; Option 4: Change the default HTTP client using a system property in Java code.\r\n\r\nI defined it on the `setUp()` method of my integration test using JUnit 5.\r\n\r\n```\r\n@BeforeAll\r\npublic static void setUp() {\r\n    System.setProperty(\r\n         SdkSystemSetting.SYNC_HTTP_SERVICE_IMPL.property(), \r\n         &quot;software.amazon.awssdk.http.apache.ApacheSdkHttpService&quot;);\r\n}\r\n```\r\nand because I am using gradle:\r\n```\r\n    implementation (&quot;software.amazon.awssdk:s3:${awssdk2Version}&quot;) {\r\n        exclude group: &#39;software.amazon.awssdk&#39;, module: &#39;netty-nio-client&#39;\r\n        exclude group: &#39;software.amazon.awssdk&#39;, module: &#39;apache-client&#39;\r\n    }\r\n    implementation &quot;software.amazon.awssdk:aws-crt-client:2.17.71-PREVIEW&quot;\r\n```","title":"Cannot get Junit test to run for dynamodb class","body":"<p>as a complement to the other answers, for me only worked the <a href=\"https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">option 4 from the reference</a>.</p>\n<blockquote>\n<p>Option 4: Change the default HTTP client using a system property in Java code.</p>\n</blockquote>\n<p>I defined it on the <code>setUp()</code> method of my integration test using JUnit 5.</p>\n<pre><code>@BeforeAll\npublic static void setUp() {\n    System.setProperty(\n         SdkSystemSetting.SYNC_HTTP_SERVICE_IMPL.property(), \n         &quot;software.amazon.awssdk.http.apache.ApacheSdkHttpService&quot;);\n}\n</code></pre>\n<p>and because I am using gradle:</p>\n<pre><code>    implementation (&quot;software.amazon.awssdk:s3:${awssdk2Version}&quot;) {\n        exclude group: 'software.amazon.awssdk', module: 'netty-nio-client'\n        exclude group: 'software.amazon.awssdk', module: 'apache-client'\n    }\n    implementation &quot;software.amazon.awssdk:aws-crt-client:2.17.71-PREVIEW&quot;\n</code></pre>\n"}],"owner":{"account_id":15193140,"reputation":621,"user_id":10963322,"display_name":"TheWalkingMalteser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3292,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69329453,"answer_count":3,"score":0,"last_activity_date":1635755474,"creation_date":1632493628,"question_id":69316682,"body_markdown":"I have a class that scans a column from a dynamo db table, whilst using the aws sdk for java(main method taken out for simplicity):\r\n```\r\npublic class fetchCmdbColumn {\r\n    \r\n    public static List&lt;String&gt; CMDB(String tableName, String tableColumn) throws Exception {\r\n\r\n        DynamoDbClient client = DynamoDbClient.builder()\r\n                .region(Region.EU_WEST_1)\r\n                .build();\r\n        List&lt;String&gt; ListValues = new ArrayList&lt;&gt;();\r\n        \r\n        try {\r\n            \r\n            ScanRequest scanRequest = ScanRequest.builder()\r\n                        .tableName(tableName)\r\n                        .build();\r\n            ScanResponse response = client.scan(scanRequest);\r\n\r\n            for (Map&lt;String, AttributeValue&gt; item : response.items()){\r\n                Set&lt;String&gt; keys = item.keySet();\r\n                for (String key : keys) {\r\n                    \r\n                    if (key == tableColumn) {\r\n                        ListValues.add(item.get(key).s()) ;\r\n                    }\r\n                }\r\n            }\r\n            //To check what is being returned, comment out below\r\n           // System.out.println(ListValues);\r\n            \r\n        } catch (DynamoDbException e){\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n        client.close();\r\n        return ListValues;\r\n        \r\n    }\r\n}\r\n```\r\nI also have a junit tests created for that class:\r\n```\r\npublic class fetchCMDBTest {\r\n\r\n\r\n    // Define the data members required for the test\r\n    private static String tableName = &quot;&quot;;\r\n    private static String tableColumn = &quot;&quot;;\r\n\r\n\r\n    @BeforeAll\r\n    public static void setUp() throws IOException {\r\n\r\n        // Run tests on Real AWS Resources\r\n        try (InputStream input = fetchCMDBTest.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)) {\r\n\r\n            Properties prop = new Properties();\r\n\r\n            if (input == null) {\r\n                System.out.println(&quot;Sorry, unable to find config.properties&quot;);\r\n                return;\r\n            }\r\n\r\n            //load a properties file from class path, inside static method\r\n            prop.load(input);\r\n\r\n            // Populate the data members required for all tests\r\n            tableName = prop.getProperty(&quot;environment_list&quot;);\r\n            tableColumn = prop.getProperty(&quot;env_name&quot;);\r\n\r\n\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void fetchCMDBtable() throws Exception{\r\n        try {\r\n            fetchCMDB.CMDB(tableName, tableColumn);\r\n            System.out.println(&quot;Test 1 passed&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Test 1 failed!&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        \r\n    }   \r\n}\r\n```\r\nWhen i run the test using mvn test I get the error:\r\n \r\n```software.amazon.awssdk.core.exception.SdkClientException: Multiple HTTP implementations were found on the classpath ```, \r\n\r\neven though I have only declared the client builder once in the class. \r\n\r\nWhat am i missing?","title":"Cannot get Junit test to run for dynamodb class","body":"<p>I have a class that scans a column from a dynamo db table, whilst using the aws sdk for java(main method taken out for simplicity):</p>\n<pre><code>public class fetchCmdbColumn {\n    \n    public static List&lt;String&gt; CMDB(String tableName, String tableColumn) throws Exception {\n\n        DynamoDbClient client = DynamoDbClient.builder()\n                .region(Region.EU_WEST_1)\n                .build();\n        List&lt;String&gt; ListValues = new ArrayList&lt;&gt;();\n        \n        try {\n            \n            ScanRequest scanRequest = ScanRequest.builder()\n                        .tableName(tableName)\n                        .build();\n            ScanResponse response = client.scan(scanRequest);\n\n            for (Map&lt;String, AttributeValue&gt; item : response.items()){\n                Set&lt;String&gt; keys = item.keySet();\n                for (String key : keys) {\n                    \n                    if (key == tableColumn) {\n                        ListValues.add(item.get(key).s()) ;\n                    }\n                }\n            }\n            //To check what is being returned, comment out below\n           // System.out.println(ListValues);\n            \n        } catch (DynamoDbException e){\n            e.printStackTrace();\n            System.exit(1);\n        }\n        client.close();\n        return ListValues;\n        \n    }\n}\n</code></pre>\n<p>I also have a junit tests created for that class:</p>\n<pre><code>public class fetchCMDBTest {\n\n\n    // Define the data members required for the test\n    private static String tableName = &quot;&quot;;\n    private static String tableColumn = &quot;&quot;;\n\n\n    @BeforeAll\n    public static void setUp() throws IOException {\n\n        // Run tests on Real AWS Resources\n        try (InputStream input = fetchCMDBTest.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)) {\n\n            Properties prop = new Properties();\n\n            if (input == null) {\n                System.out.println(&quot;Sorry, unable to find config.properties&quot;);\n                return;\n            }\n\n            //load a properties file from class path, inside static method\n            prop.load(input);\n\n            // Populate the data members required for all tests\n            tableName = prop.getProperty(&quot;environment_list&quot;);\n            tableColumn = prop.getProperty(&quot;env_name&quot;);\n\n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    @Test\n    void fetchCMDBtable() throws Exception{\n        try {\n            fetchCMDB.CMDB(tableName, tableColumn);\n            System.out.println(&quot;Test 1 passed&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Test 1 failed!&quot;);\n            e.printStackTrace();\n        }\n        \n    }   \n}\n</code></pre>\n<p>When i run the test using mvn test I get the error:</p>\n<p><code>software.amazon.awssdk.core.exception.SdkClientException: Multiple HTTP implementations were found on the classpath </code>,</p>\n<p>even though I have only declared the client builder once in the class.</p>\n<p>What am i missing?</p>\n"},{"tags":["java","openssl","tls1.2","sni","tls1.3"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1635760319,"post_id":69726793,"comment_id":123370994,"body_markdown":"This &#39;problem&#39; occurs when you use SNI to contain something other than the domain name of the server because SNI is _defined_ by all applicable standards to always and only contain the domain name of the server. Using anything else is prohibited, and no software designed to comply to standards is allowed to support anything else. While this is well-researched and (admirably) clear, I can&#39;t vote for it as useful because it is in fact harmful..","body":"This &#39;problem&#39; occurs when you use SNI to contain something other than the domain name of the server because SNI is <i>defined</i> by all applicable standards to always and only contain the domain name of the server. Using anything else is prohibited, and no software designed to comply to standards is allowed to support anything else. While this is well-researched and (admirably) clear, I can&#39;t vote for it as useful because it is in fact harmful.."}],"owner":{"account_id":10041911,"reputation":17,"user_id":7424464,"display_name":"elefanxp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635755466,"creation_date":1635265684,"question_id":69726793,"body_markdown":"I&#39;m running on Java 11.  \r\n\r\n    &gt;     bash-4.4$ java -version\r\n    &gt;     openjdk version &quot;11.0.12&quot; 2021-07-20\r\n    &gt;     OpenJDK Runtime Environment (build 11.0.12+7-suse-3.62.1-x8664)\r\n    &gt;     OpenJDK 64-Bit Server VM (build 11.0.12+7-suse-3.62.1-x8664, mixed mode)\r\n\r\nMy scenario is this:\r\n- My TLS Client uses the SNI extension and sets the Server Name field to the CN field of the Root CA&#39;s SubjectDN.\r\n- My Server shall use the SNI to select the Intermediate CA certificate to send together with the Server certificate in the TLS handshake.\r\n- The ServerCertificate is cross-signed by two SubCAs according to this picture:\r\n```\r\nRootCA1        RootCA2\r\n|              |\r\n+--+           |\r\n    |          |\r\n    +--&gt;Sub2*  +-&gt; Sub2\r\n        |          |\r\n        +---------&gt;+-&gt; ServerCertificate\r\n```\r\nNote that:\r\n- Sub2 and Sub2* have the same SubjectDN, but they have different IssuerDN.\r\n- Sub2&#39;s IssuerDN is RootCA2\r\n- Sub2*&#39;s IssuerDN is RootCA1\r\n\r\nIn the Server KeyStore I have two entries:\r\n - [KeyStore-Entry-0] {alias: &quot;Primary&quot;, key, [ServerCertificate, Sub2]}\r\n - [KeyStore-Entry-1] {alias: &quot;Secondary&quot;, key, [ServerCertificate, Sub2*]}\r\n\r\nThe SNIMatcher, added into the SSL Parameters, in the Java Server is set to accept something like &quot;RootCA*&quot;\r\n\r\nI use openssl to test this setup in that way:\r\n```\r\nopenssl s_client -servername &#39;RootCA1&#39; -CAfile ./RootCA1.pem -connect localhost:4321\r\nopenssl s_client -servername &#39;RootCA2&#39; -CAfile ./RootCA2.pem -connect localhost:4321\r\n```\r\n\r\n**EXPECTED BEHAVIOR:**\r\nI was expecting that Java KeyManager addressed SNI requests according to the IssuerDN field of the trusted Sub2s certificates. But it doesn&#39;t work.\r\n\r\nOn Client Hello with SNI set to &quot;RootCA1&quot; my server shall return the chain &quot;ServerCertificate + Sub2*&quot;\r\nOn Client Hello with SNI set to &quot;RootCA2&quot; my server shall return the chain &quot;ServerCertificate + Sub2&quot;\r\n\r\n**OBSERVED BEHAVIOR:**\r\nUnfortunately the observed behavior is that my server always returns the chain &quot;ServerCertificate + Sub2&quot; and the following handshake fails\r\n```\r\nopenssl s_client -servername &#39;RootCA1&#39; -CAfile ./RootCA1.pem -connect localhost:4321\r\n...\r\nVerification error: unable to get local issuer certificate\r\n...\r\n```\r\nI tried with no success to play with the aliases in my Keystore or with the key order...\r\n\r\nAny idea?\r\nWhat I&#39;m doing wrong?\r\nHow can my Server return the chain &quot;ServerCertificate + Sub2*&quot; when the client&#39;s SNI is set to RootCA1?\r\n\r\nThank you!\r\n\r\n**SOLUTION**\r\n\r\nI managed to find a solution and want to share it for those who will meet the same problem.\r\n\r\n - The first step was to set the SNI Matcher in the SSL Parameters using a proper regular expression. The effect of the javax.net.ssl.SNIMatcher is just to reject wrong client requests returning a TLS Alert &quot;Unrecognized Name&quot;.\r\n - The second step was to populate the KeyStore using aliases in lower case.\r\n - The third step was to extend the X509ExtendedKeyManager with my own implementation to override the method chooseServerAlias. The method chooseServerAlias (and similarly chooseEngineServerAlias depending on the implementation) is needed to inspect the SNI sent by openssl client and to return the exact keystore alias used later to get the correct certificate chain.\r\n\r\nHere&#39;s the code snapshot.\r\n\r\nNote that SniKeyManager is wrapping the ExtendedKeyManager built by KeyManagerFactory, then it is passed to SSLContext.init.\r\nProbably there&#39;s some better solution, but I prefer to keep the original X509ExtendedKeyManager build by KeyManagerFactory that also owns the KeyStore.\r\n\r\nHere&#39;s how I set my SniKeyManager into the SSLContext:\r\n```\r\n        for (KeyManager keyManager : keyManagerFactory.getKeyManagers()) {\r\n            if (keyManager instanceof X509ExtendedKeyManager) {\r\n                x509KeyManager = (X509ExtendedKeyManager) keyManager;\r\n                break;\r\n            }\r\n        }\r\n        SniKeyManager sniKeyManager = new SniKeyManager(x509KeyManager);\r\n        sslContext.init(new KeyManager[] {sniKeyManager}, null, null);\r\n```\r\n\r\nHere&#39;s a snapshot of SniKeyManager:\r\n```\r\npublic final class SniKeyManager extends X509ExtendedKeyManager {\r\n    private final X509ExtendedKeyManager keyManager;\r\n\r\n\tpublic SniKeyManager(X509ExtendedKeyManager keyManager) {\r\n\t\tthis.keyManager = keyManager;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String chooseServerAlias(String keyType, Principal[] issuers, Socket socket) {\r\n        String result = this.keyManager.chooseServerAlias(keyType, issuers, socket);\r\n        //chooseServerAlias may return null on invalid keyType\r\n        \r\n        if (result != null &amp;&amp; socket instanceof SSLSocket) {\r\n            SSLSocket s = (SSLSocket) socket;\r\n            ExtendedSSLSession session = (ExtendedSSLSession) s.getHandshakeSession();\r\n            List&lt;SNIServerName&gt; snis = session.getRequestedServerNames();\r\n            for (SNIServerName sniValue : snis) {\r\n                result = getKeyStoreAliasBySni(sniValue);\r\n                if (null != result) break;\r\n            }\r\n        }\r\n        //note that result must be still in lower case\r\n        return result;\r\n\t}\r\n    ...\r\n    @Override\r\n\tpublic X509Certificate[] getCertificateChain(String alias) {\r\n        return keyManager.getCertificateChain(alias);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic PrivateKey getPrivateKey(String alias) {\r\n        return keyManager.getPrivateKey(alias);\r\n\t}\r\n}\r\n```\r\n\r\nThe method SniKeyManager.getKeyStoreAliasBySni contains the logic for binding the SNI value to the keystore alias.\r\n\r\nThe Java class ServerHandshaker ([link][1]) handles the TLS Handshake by using the X509ExtendedKeyManager. There you can see that the value returned by chooseServerAlias will be the entry for getPrivateKey and getCertificateChain.\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/openjdk-jdk8u-backup-06-sep-2018/blob/master/jdk/src/share/classes/sun/security/ssl/ServerHandshaker.java","title":"Java Server certificate chains not associated to the SNI field","body":"<p>I'm running on Java 11.</p>\n<pre><code>&gt;     bash-4.4$ java -version\n&gt;     openjdk version &quot;11.0.12&quot; 2021-07-20\n&gt;     OpenJDK Runtime Environment (build 11.0.12+7-suse-3.62.1-x8664)\n&gt;     OpenJDK 64-Bit Server VM (build 11.0.12+7-suse-3.62.1-x8664, mixed mode)\n</code></pre>\n<p>My scenario is this:</p>\n<ul>\n<li>My TLS Client uses the SNI extension and sets the Server Name field to the CN field of the Root CA's SubjectDN.</li>\n<li>My Server shall use the SNI to select the Intermediate CA certificate to send together with the Server certificate in the TLS handshake.</li>\n<li>The ServerCertificate is cross-signed by two SubCAs according to this picture:</li>\n</ul>\n<pre><code>RootCA1        RootCA2\n|              |\n+--+           |\n    |          |\n    +--&gt;Sub2*  +-&gt; Sub2\n        |          |\n        +---------&gt;+-&gt; ServerCertificate\n</code></pre>\n<p>Note that:</p>\n<ul>\n<li>Sub2 and Sub2* have the same SubjectDN, but they have different IssuerDN.</li>\n<li>Sub2's IssuerDN is RootCA2</li>\n<li>Sub2*'s IssuerDN is RootCA1</li>\n</ul>\n<p>In the Server KeyStore I have two entries:</p>\n<ul>\n<li>[KeyStore-Entry-0] {alias: &quot;Primary&quot;, key, [ServerCertificate, Sub2]}</li>\n<li>[KeyStore-Entry-1] {alias: &quot;Secondary&quot;, key, [ServerCertificate, Sub2*]}</li>\n</ul>\n<p>The SNIMatcher, added into the SSL Parameters, in the Java Server is set to accept something like &quot;RootCA*&quot;</p>\n<p>I use openssl to test this setup in that way:</p>\n<pre><code>openssl s_client -servername 'RootCA1' -CAfile ./RootCA1.pem -connect localhost:4321\nopenssl s_client -servername 'RootCA2' -CAfile ./RootCA2.pem -connect localhost:4321\n</code></pre>\n<p><strong>EXPECTED BEHAVIOR:</strong>\nI was expecting that Java KeyManager addressed SNI requests according to the IssuerDN field of the trusted Sub2s certificates. But it doesn't work.</p>\n<p>On Client Hello with SNI set to &quot;RootCA1&quot; my server shall return the chain &quot;ServerCertificate + Sub2*&quot;\nOn Client Hello with SNI set to &quot;RootCA2&quot; my server shall return the chain &quot;ServerCertificate + Sub2&quot;</p>\n<p><strong>OBSERVED BEHAVIOR:</strong>\nUnfortunately the observed behavior is that my server always returns the chain &quot;ServerCertificate + Sub2&quot; and the following handshake fails</p>\n<pre><code>openssl s_client -servername 'RootCA1' -CAfile ./RootCA1.pem -connect localhost:4321\n...\nVerification error: unable to get local issuer certificate\n...\n</code></pre>\n<p>I tried with no success to play with the aliases in my Keystore or with the key order...</p>\n<p>Any idea?\nWhat I'm doing wrong?\nHow can my Server return the chain &quot;ServerCertificate + Sub2*&quot; when the client's SNI is set to RootCA1?</p>\n<p>Thank you!</p>\n<p><strong>SOLUTION</strong></p>\n<p>I managed to find a solution and want to share it for those who will meet the same problem.</p>\n<ul>\n<li>The first step was to set the SNI Matcher in the SSL Parameters using a proper regular expression. The effect of the javax.net.ssl.SNIMatcher is just to reject wrong client requests returning a TLS Alert &quot;Unrecognized Name&quot;.</li>\n<li>The second step was to populate the KeyStore using aliases in lower case.</li>\n<li>The third step was to extend the X509ExtendedKeyManager with my own implementation to override the method chooseServerAlias. The method chooseServerAlias (and similarly chooseEngineServerAlias depending on the implementation) is needed to inspect the SNI sent by openssl client and to return the exact keystore alias used later to get the correct certificate chain.</li>\n</ul>\n<p>Here's the code snapshot.</p>\n<p>Note that SniKeyManager is wrapping the ExtendedKeyManager built by KeyManagerFactory, then it is passed to SSLContext.init.\nProbably there's some better solution, but I prefer to keep the original X509ExtendedKeyManager build by KeyManagerFactory that also owns the KeyStore.</p>\n<p>Here's how I set my SniKeyManager into the SSLContext:</p>\n<pre><code>        for (KeyManager keyManager : keyManagerFactory.getKeyManagers()) {\n            if (keyManager instanceof X509ExtendedKeyManager) {\n                x509KeyManager = (X509ExtendedKeyManager) keyManager;\n                break;\n            }\n        }\n        SniKeyManager sniKeyManager = new SniKeyManager(x509KeyManager);\n        sslContext.init(new KeyManager[] {sniKeyManager}, null, null);\n</code></pre>\n<p>Here's a snapshot of SniKeyManager:</p>\n<pre><code>public final class SniKeyManager extends X509ExtendedKeyManager {\n    private final X509ExtendedKeyManager keyManager;\n\n    public SniKeyManager(X509ExtendedKeyManager keyManager) {\n        this.keyManager = keyManager;\n    }\n\n    @Override\n    public String chooseServerAlias(String keyType, Principal[] issuers, Socket socket) {\n        String result = this.keyManager.chooseServerAlias(keyType, issuers, socket);\n        //chooseServerAlias may return null on invalid keyType\n        \n        if (result != null &amp;&amp; socket instanceof SSLSocket) {\n            SSLSocket s = (SSLSocket) socket;\n            ExtendedSSLSession session = (ExtendedSSLSession) s.getHandshakeSession();\n            List&lt;SNIServerName&gt; snis = session.getRequestedServerNames();\n            for (SNIServerName sniValue : snis) {\n                result = getKeyStoreAliasBySni(sniValue);\n                if (null != result) break;\n            }\n        }\n        //note that result must be still in lower case\n        return result;\n    }\n    ...\n    @Override\n    public X509Certificate[] getCertificateChain(String alias) {\n        return keyManager.getCertificateChain(alias);\n    }\n\n    @Override\n    public PrivateKey getPrivateKey(String alias) {\n        return keyManager.getPrivateKey(alias);\n    }\n}\n</code></pre>\n<p>The method SniKeyManager.getKeyStoreAliasBySni contains the logic for binding the SNI value to the keystore alias.</p>\n<p>The Java class ServerHandshaker (<a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u-backup-06-sep-2018/blob/master/jdk/src/share/classes/sun/security/ssl/ServerHandshaker.java\" rel=\"nofollow noreferrer\">link</a>) handles the TLS Handshake by using the X509ExtendedKeyManager. There you can see that the value returned by chooseServerAlias will be the entry for getPrivateKey and getCertificateChain.</p>\n"},{"tags":["java","concurrency","wildfly","http-proxy"],"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1635435157,"post_id":64888343,"comment_id":123303275,"body_markdown":"Did you find the reason?","body":"Did you find the reason?"}],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635755306,"creation_date":1635755306,"answer_id":69794326,"question_id":64888343,"body_markdown":"Maybe your server is not tuned to cater the maximum number of processes? Add the following to your `/etc/security/limits.conf` file:\r\n\r\n    jboss soft nproc 8000\r\n    jboss hard nproc 12000\r\n    jboss soft nofile 9999\r\n    jboss hard nofile 9999","title":"Wildfly - Can&#39;t get Max Connections greater than 256","body":"<p>Maybe your server is not tuned to cater the maximum number of processes? Add the following to your <code>/etc/security/limits.conf</code> file:</p>\n<pre><code>jboss soft nproc 8000\njboss hard nproc 12000\njboss soft nofile 9999\njboss hard nofile 9999\n</code></pre>\n"}],"owner":{"account_id":1726740,"reputation":2422,"user_id":1581226,"accept_rate":62,"display_name":"qwerty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635755306,"creation_date":1605682233,"question_id":64888343,"body_markdown":"I am load testing an application deployed on Wildfly 20 using JMeter. The observation is that under load of `300 requests/sec` and more **Wildfly server doesn&#39;t respond to few requests and those requests time out**. On analyzing server logs (both system and application) and thread dumps nothing related to this is found and memory utilization is also normal. \r\n\r\nOn tuning some parameters such as `Open File Descriptors`, Wildfly `IO threads/Task Max Threads`, `Max Connections` and Apache configuration *[details below]* the number of requests getting timed out have significantly reduced but still a lot of requests time out.\r\n\r\nUsing Wildfly Runtime for monitoring during load testing one thing drew my attention that even on setting the Undertow&#39;s `Http Max Connections` parameter to a value lets say 1000 the `Connection Count` value (circled in screenshot below) never exceeds 256. On playing with this parameter a bit I saw that `Http Max Connections` parameter sets to any value less than 256 but never more. And it looks like once this limit is reached no new request is served as gets timed out until some connections are freed.\r\n\r\nIs there is some other configuration (Apache or OS) which puts this limit or any other Wildfly configuration responsible for this? Am I missing anything?\r\n***[Used Wildfly Management Console for all configurations]*** \r\n\r\n*[from standalone.xml]*\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:io:3.0&quot;&gt;    \r\n        &lt;worker name=&quot;default&quot; io-threads=&quot;300&quot; task-max-threads=&quot;300&quot;/&gt;    \r\n        &lt;buffer-pool name=&quot;default&quot;/&gt;    \r\n    &lt;/subsystem&gt;\r\n\r\n... \r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:11.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;true&quot;&gt;\r\n                &lt;buffer-cache name=&quot;default&quot;/&gt;\r\n                &lt;server name=&quot;default-server&quot;&gt;\r\n                    &lt;http-listener name=&quot;default&quot; max-connections=&quot;500&quot; socket-binding=&quot;http&quot; max-cookies=&quot;100&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\r\n                    &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; max-cookies=&quot;100&quot; record-request-start-time=&quot;true&quot; security-realm=&quot;ApplicationRealm&quot; enable-http2=&quot;true&quot;/&gt;\r\n                    &lt;host name=&quot;default-host&quot;&gt;\r\n                        &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\r\n                        &lt;filter-ref name=&quot;limit-connections&quot;/&gt;\r\n                        &lt;http-invoker security-realm=&quot;ApplicationRealm&quot;/&gt;\r\n                    &lt;/host&gt;\r\n                &lt;/server&gt;\r\n                &lt;servlet-container name=&quot;default&quot;&gt;\r\n                    &lt;jsp-config/&gt;\r\n                    &lt;websockets/&gt;\r\n                &lt;/servlet-container&gt;\r\n                &lt;handlers&gt;\r\n                    &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\r\n                &lt;/handlers&gt;\r\n                &lt;filters&gt;\r\n                    &lt;request-limit name=&quot;limit-connections&quot; max-concurrent-requests=&quot;10000&quot; queue-size=&quot;10000&quot;/&gt;\r\n                &lt;/filters&gt;\r\n            &lt;/subsystem&gt;\r\n\r\n*[Apache configuration]*\r\n\r\n    &lt;IfModule mpm_worker_module&gt;\r\n        ServerLimit          40\r\n        StartServers          2\r\n        MaxClients          1000\r\n        MinSpareThreads      25\r\n        MaxSpareThreads      75\r\n        ThreadsPerChild      25\r\n        MaxRequestsPerChild   0\r\n    &lt;/IfModule&gt;\r\n\r\n*[Wildfly Runtime monitoring console during testing]*\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/epUDm.png\r\n","title":"Wildfly - Can&#39;t get Max Connections greater than 256","body":"<p>I am load testing an application deployed on Wildfly 20 using JMeter. The observation is that under load of <code>300 requests/sec</code> and more <strong>Wildfly server doesn't respond to few requests and those requests time out</strong>. On analyzing server logs (both system and application) and thread dumps nothing related to this is found and memory utilization is also normal.</p>\n<p>On tuning some parameters such as <code>Open File Descriptors</code>, Wildfly <code>IO threads/Task Max Threads</code>, <code>Max Connections</code> and Apache configuration <em>[details below]</em> the number of requests getting timed out have significantly reduced but still a lot of requests time out.</p>\n<p>Using Wildfly Runtime for monitoring during load testing one thing drew my attention that even on setting the Undertow's <code>Http Max Connections</code> parameter to a value lets say 1000 the <code>Connection Count</code> value (circled in screenshot below) never exceeds 256. On playing with this parameter a bit I saw that <code>Http Max Connections</code> parameter sets to any value less than 256 but never more. And it looks like once this limit is reached no new request is served as gets timed out until some connections are freed.</p>\n<p>Is there is some other configuration (Apache or OS) which puts this limit or any other Wildfly configuration responsible for this? Am I missing anything?\n<em><strong>[Used Wildfly Management Console for all configurations]</strong></em></p>\n<p><em>[from standalone.xml]</em></p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:io:3.0&quot;&gt;    \n    &lt;worker name=&quot;default&quot; io-threads=&quot;300&quot; task-max-threads=&quot;300&quot;/&gt;    \n    &lt;buffer-pool name=&quot;default&quot;/&gt;    \n&lt;/subsystem&gt;\n</code></pre>\n<p>...</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:11.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;true&quot;&gt;\n            &lt;buffer-cache name=&quot;default&quot;/&gt;\n            &lt;server name=&quot;default-server&quot;&gt;\n                &lt;http-listener name=&quot;default&quot; max-connections=&quot;500&quot; socket-binding=&quot;http&quot; max-cookies=&quot;100&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\n                &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; max-cookies=&quot;100&quot; record-request-start-time=&quot;true&quot; security-realm=&quot;ApplicationRealm&quot; enable-http2=&quot;true&quot;/&gt;\n                &lt;host name=&quot;default-host&quot;&gt;\n                    &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\n                    &lt;filter-ref name=&quot;limit-connections&quot;/&gt;\n                    &lt;http-invoker security-realm=&quot;ApplicationRealm&quot;/&gt;\n                &lt;/host&gt;\n            &lt;/server&gt;\n            &lt;servlet-container name=&quot;default&quot;&gt;\n                &lt;jsp-config/&gt;\n                &lt;websockets/&gt;\n            &lt;/servlet-container&gt;\n            &lt;handlers&gt;\n                &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\n            &lt;/handlers&gt;\n            &lt;filters&gt;\n                &lt;request-limit name=&quot;limit-connections&quot; max-concurrent-requests=&quot;10000&quot; queue-size=&quot;10000&quot;/&gt;\n            &lt;/filters&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p><em>[Apache configuration]</em></p>\n<pre><code>&lt;IfModule mpm_worker_module&gt;\n    ServerLimit          40\n    StartServers          2\n    MaxClients          1000\n    MinSpareThreads      25\n    MaxSpareThreads      75\n    ThreadsPerChild      25\n    MaxRequestsPerChild   0\n&lt;/IfModule&gt;\n</code></pre>\n<p><em>[Wildfly Runtime monitoring console during testing]</em>\n<a href=\"https://i.stack.imgur.com/epUDm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/epUDm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","redis"],"comments":[{"owner":{"account_id":42395,"reputation":1101,"user_id":123498,"accept_rate":25,"display_name":"sushant"},"score":0,"creation_date":1635256353,"post_id":69724311,"comment_id":123244356,"body_markdown":"The error is reported because you don’t have a value with key `UUID.randomUUID()`, which seems logical because you have not created any entry. The `randomUUID` will return a random number, so the `findById` is “guaranteed” to return empty.","body":"The error is reported because you don’t have a value with key <code>UUID.randomUUID()</code>, which seems logical because you have not created any entry. The <code>randomUUID</code> will return a random number, so the <code>findById</code> is “guaranteed” to return empty."},{"owner":{"account_id":42395,"reputation":1101,"user_id":123498,"accept_rate":25,"display_name":"sushant"},"score":0,"creation_date":1635256407,"post_id":69724311,"comment_id":123244382,"body_markdown":"The return value of `findById` is an optional. If you invoke `get` on an empty optional, you will get a `NoSuchElementException`. No surprises there.","body":"The return value of <code>findById</code> is an optional. If you invoke <code>get</code> on an empty optional, you will get a <code>NoSuchElementException</code>. No surprises there."}],"owner":{"account_id":1195896,"reputation":95,"user_id":1167642,"display_name":"user1167642"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635755146,"creation_date":1635256054,"question_id":69724311,"body_markdown":"I have a test, where Spring Data Redis is used.\r\n\r\nThis is the configuration:\r\n\r\n    public class StartUpConfiguration {\r\n\r\n    @Bean\r\n    JedisConnectionFactory jedisConnectionFactory() {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new\r\n                RedisStandaloneConfiguration(&quot;redis server&quot;, 6379);\r\n        //redisStandaloneConfiguration.setPassword(RedisPassword.of(&quot;yourRedisPasswordIfAny&quot;));\r\n        return new JedisConnectionFactory(redisStandaloneConfiguration);\r\n    }\r\n\r\n    @Bean\r\n    RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(jedisConnectionFactory());\r\n        return redisTemplate;\r\n    }\r\n    }\r\n\r\nThis is the repository\r\n\r\n        @Repository\r\n    public interface repo extends CrudRepository&lt;repoRedisEntity, String&gt; {\r\n    }\r\n    \r\nThis is the entity\r\n    \r\n        @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @RedisHash(value = &quot;Quote&quot;, timeToLive = 3600)\r\n    public class RedisEntity implements Serializable {\r\n        @Id\r\n        private final String id;\r\n        private Double price;\r\n    }\r\n\r\nAnd this is the test\r\n\r\n    RedisEntity retrievedEntity = quoteRedisRepository.findById(UUID.randomUUID().toString()).get();\r\n        retrievedQuoteRedisEntity.setPrice(10 * item / 100);\r\n        quoteRedisRepository.save(retrievedQuoteRedisEntity);\r\n\r\nFor some reason I am receiving.\r\n\r\n    java.util.NoSuchElementException: No value present","title":"&quot;java.util.NoSuchElementException: No value present&quot; in Spring Data Redis","body":"<p>I have a test, where Spring Data Redis is used.</p>\n<p>This is the configuration:</p>\n<pre><code>public class StartUpConfiguration {\n\n@Bean\nJedisConnectionFactory jedisConnectionFactory() {\n    RedisStandaloneConfiguration redisStandaloneConfiguration = new\n            RedisStandaloneConfiguration(&quot;redis server&quot;, 6379);\n    //redisStandaloneConfiguration.setPassword(RedisPassword.of(&quot;yourRedisPasswordIfAny&quot;));\n    return new JedisConnectionFactory(redisStandaloneConfiguration);\n}\n\n@Bean\nRedisTemplate&lt;String, Object&gt; redisTemplate() {\n    RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n    redisTemplate.setConnectionFactory(jedisConnectionFactory());\n    return redisTemplate;\n}\n}\n</code></pre>\n<p>This is the repository</p>\n<pre><code>    @Repository\npublic interface repo extends CrudRepository&lt;repoRedisEntity, String&gt; {\n}\n</code></pre>\n<p>This is the entity</p>\n<pre><code>    @AllArgsConstructor\n@Getter\n@Setter\n@RedisHash(value = &quot;Quote&quot;, timeToLive = 3600)\npublic class RedisEntity implements Serializable {\n    @Id\n    private final String id;\n    private Double price;\n}\n</code></pre>\n<p>And this is the test</p>\n<pre><code>RedisEntity retrievedEntity = quoteRedisRepository.findById(UUID.randomUUID().toString()).get();\n    retrievedQuoteRedisEntity.setPrice(10 * item / 100);\n    quoteRedisRepository.save(retrievedQuoteRedisEntity);\n</code></pre>\n<p>For some reason I am receiving.</p>\n<pre><code>java.util.NoSuchElementException: No value present\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10214190,"reputation":2729,"user_id":7540393,"accept_rate":73,"display_name":"Arthur Attout"},"score":1,"creation_date":1635754648,"post_id":69794206,"comment_id":123369352,"body_markdown":"There is a semicolon after your first if statement. Also this is not the proper syntax to write an `else`","body":"There is a semicolon after your first if statement. Also this is not the proper syntax to write an <code>else</code>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1635754650,"post_id":69794206,"comment_id":123369354,"body_markdown":"That&#39;s invalid code. You don&#39;t write `Else: ` in Java, and if you use the correct way of writing it, the problem with the semicolon will be shown up.","body":"That&#39;s invalid code. You don&#39;t write <code>Else: </code> in Java, and if you use the correct way of writing it, the problem with the semicolon will be shown up."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1635754661,"post_id":69794206,"comment_id":123369359,"body_markdown":"&quot;*`Else :`*&quot; - This is not an [`else` statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html). This is a [label](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html).","body":"&quot;<i><code>Else :</code></i>&quot; - This is not an <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html\" rel=\"nofollow noreferrer\"><code>else</code> statement</a>. This is a <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow noreferrer\">label</a>."}],"answers":[{"tags":[],"owner":{"account_id":10821237,"reputation":245,"user_id":7958655,"display_name":"Bernana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635754968,"creation_date":1635754910,"answer_id":69794270,"question_id":69794206,"body_markdown":"You are using &#39;;&#39; incorrectly at the of of the `if` statement.\r\nAlso at the else you don&#39;t need &#39;:&#39;","title":"Java: else statement still executing even if if statement is true","body":"<p>You are using ';' incorrectly at the of of the <code>if</code> statement.\nAlso at the else you don't need ':'</p>\n"}],"owner":{"account_id":23203480,"reputation":1,"user_id":17298019,"display_name":"DJKIDF06 kyl3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1635755148,"answer_count":1,"score":-1,"last_activity_date":1635754968,"creation_date":1635754516,"question_id":69794206,"body_markdown":"there currently doing an IT assessment at school and have come into a problem with my else statement. \r\n\r\nCode:\r\n\r\n             if (SPEED.getPower() + HEALTH.getPower() + POWER.getPower() == 100);{\r\n\t    \t System.out.println(&quot;********&quot;);\r\n\t    \t System.out.println(&quot;Your battleBots name is &quot;+ name11.getName());\r\n\t    \t System.out.println(&quot;Your battleBots Health stat is &quot;+HEALTH.getHealth());\r\n\t    \t System.out.println(&quot;Your battleBots Power stat is &quot;+POWER.getPower());\r\n\t    \t System.out.println(&quot;Your battleBots Speed stat is &quot;+SPEED.getSpeed());\r\n\t    \t System.out.println(&quot;********&quot;);}\r\n\t         Else :\r\n\t         {\r\n\t        \tSystem.out.println(&quot;your stat total did not equal a total of 100 (over or under), this means your stats will be set to 40/30/30&quot;);\r\n\t   \t     \tHEALTH.setHealth(40);\r\n\t   \t     \tSPEED.setSpeed(30);\r\n\t   \t     \tPOWER.setPower(30);\r\n\t         }\r\n\r\nthis also uses a second blueprint as my school calls it for the assessment.\r\n\r\nCode:\r\n\r\n    package BattleBots;\r\n    \r\n    public class BattleBotsBlueprint {\r\n    \r\n    \r\n    \t\tprivate double health;\r\n    \t\tprivate double power;\r\n    \t\tprivate double speed;\r\n    \t\tprivate String name1;\r\n    \t\t\r\n    \r\n    \t\tpublic void setHealth(double h)\r\n    \t\t{\thealth = h;}\r\n    \t\tpublic void setName(String n)\r\n    \t\t{\tname1 = n;}\r\n    \t\t\r\n    \t\tpublic void setPower(double p)\r\n    \t\t{\tpower = p;}\r\n    \t\t\r\n    \t\tpublic void setSpeed(double s)\r\n    \t\t{\tspeed = s;}\r\n    \t\t\r\n    \t\tpublic double getPower()\r\n    \t\t{\treturn power;}\r\n    \t\tpublic String getName()\r\n    \t\t{\treturn name1;}\r\n    \t\t\r\n    \t\tpublic double getHealth()\r\n    \t\t{\treturn health;}\r\n    \t\t\r\n    \t\tpublic double getSpeed()\r\n    \t\t{\treturn speed;}\r\n    \t\t\r\n    \t\t\r\n    \t\t}\r\n\t\t\r\nanyways why is the else statement being used even though the if statement is true?\r\n\t\t\r\n\r\n\t\r\n\r\n\r\n","title":"Java: else statement still executing even if if statement is true","body":"<p>there currently doing an IT assessment at school and have come into a problem with my else statement.</p>\n<p>Code:</p>\n<pre><code>         if (SPEED.getPower() + HEALTH.getPower() + POWER.getPower() == 100);{\n         System.out.println(&quot;********&quot;);\n         System.out.println(&quot;Your battleBots name is &quot;+ name11.getName());\n         System.out.println(&quot;Your battleBots Health stat is &quot;+HEALTH.getHealth());\n         System.out.println(&quot;Your battleBots Power stat is &quot;+POWER.getPower());\n         System.out.println(&quot;Your battleBots Speed stat is &quot;+SPEED.getSpeed());\n         System.out.println(&quot;********&quot;);}\n         Else :\n         {\n            System.out.println(&quot;your stat total did not equal a total of 100 (over or under), this means your stats will be set to 40/30/30&quot;);\n            HEALTH.setHealth(40);\n            SPEED.setSpeed(30);\n            POWER.setPower(30);\n         }\n</code></pre>\n<p>this also uses a second blueprint as my school calls it for the assessment.</p>\n<p>Code:</p>\n<pre><code>package BattleBots;\n\npublic class BattleBotsBlueprint {\n\n\n        private double health;\n        private double power;\n        private double speed;\n        private String name1;\n        \n\n        public void setHealth(double h)\n        {   health = h;}\n        public void setName(String n)\n        {   name1 = n;}\n        \n        public void setPower(double p)\n        {   power = p;}\n        \n        public void setSpeed(double s)\n        {   speed = s;}\n        \n        public double getPower()\n        {   return power;}\n        public String getName()\n        {   return name1;}\n        \n        public double getHealth()\n        {   return health;}\n        \n        public double getSpeed()\n        {   return speed;}\n        \n        \n        }\n    \n</code></pre>\n<p>anyways why is the else statement being used even though the if statement is true?</p>\n"},{"tags":["java","scala","apache-spark","apache-spark-sql","apache-spark-dataset"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1635714081,"post_id":69790422,"comment_id":123362790,"body_markdown":"How the target schema is represented? As map or something else?","body":"How the target schema is represented? As map or something else?"},{"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"score":0,"creation_date":1635749250,"post_id":69790422,"comment_id":123368021,"body_markdown":"As a StructType","body":"As a StructType"}],"answers":[{"tags":[],"owner":{"account_id":17134943,"reputation":9221,"user_id":12400214,"display_name":"Gabio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635754170,"creation_date":1635754170,"answer_id":69794141,"question_id":69790422,"body_markdown":"Try:\r\n```\r\nval newDf = sparkSession.createDataFrame(oldDf.rdd, schema)\r\n```","title":"Cast Spark dataframe existing schema at once","body":"<p>Try:</p>\n<pre><code>val newDf = sparkSession.createDataFrame(oldDf.rdd, schema)\n</code></pre>\n"}],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1757,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69794141,"answer_count":1,"score":2,"last_activity_date":1635754170,"creation_date":1635712795,"question_id":69790422,"body_markdown":"I have a dataframe that all of its columns are of String type, and I have a schema that contains the wanted type for each column. Is there any way of inserting the conversion into a one big try/ catch clause and covert the whole schema dynamically at once? The only solution I&#39;ve seen is to handle each column specifically and convert its type.","title":"Cast Spark dataframe existing schema at once","body":"<p>I have a dataframe that all of its columns are of String type, and I have a schema that contains the wanted type for each column. Is there any way of inserting the conversion into a one big try/ catch clause and covert the whole schema dynamically at once? The only solution I've seen is to handle each column specifically and convert its type.</p>\n"},{"tags":["java","parsing","time","jodatime"],"comments":[{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1308503882,"post_id":6403851,"comment_id":7508464,"body_markdown":"I&#39;ve seen this &quot;Xd Yh Zm&quot; or &quot;Xd Yh Zmin&quot; referred to as &quot;JIRA notation&quot;, but I don&#39;t know if that term is widespread.","body":"I&#39;ve seen this &quot;Xd Yh Zm&quot; or &quot;Xd Yh Zmin&quot; referred to as &quot;JIRA notation&quot;, but I don&#39;t know if that term is widespread."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1635529401,"post_id":6403851,"comment_id":123331922,"body_markdown":"Related Gist in Kotlin: https://gist.github.com/OndraZizka/5fd56479ed2f6175703eb8a2e1bb1088","body":"Related Gist in Kotlin: <a href=\"https://gist.github.com/OndraZizka/5fd56479ed2f6175703eb8a2e1bb1088\" rel=\"nofollow noreferrer\">gist.github.com/OndraZizka/5fd56479ed2f6175703eb8a2e1bb1088</a>"}],"answers":[{"tags":[],"owner":{"account_id":106190,"reputation":9362,"user_id":282968,"accept_rate":73,"display_name":"MJB"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1308504139,"creation_date":1308504139,"answer_id":6403925,"question_id":6403851,"body_markdown":"No, Joda defaults to taking only Durations, Instant intervals, and objects. For the latter it accepts things like Dates or SOAP ISO format. You can add you own converter here for the Duration class, and admittedly that would hide all your ugly code.","title":"Parsing time strings like &quot;1h 30min&quot;","body":"<p>No, Joda defaults to taking only Durations, Instant intervals, and objects. For the latter it accepts things like Dates or SOAP ISO format. You can add you own converter here for the Duration class, and admittedly that would hide all your ugly code.</p>\n"},{"tags":[],"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1385072531,"creation_date":1308504541,"answer_id":6403973,"question_id":6403851,"body_markdown":"You&#39;ll probably have to tweak this a bit for your own format, but try something along these lines:\r\n\r\n    PeriodFormatter formatter = new PeriodFormatterBuilder()\r\n        .appendDays().appendSuffix(&quot;d &quot;)\r\n        .appendHours().appendSuffix(&quot;h &quot;)\r\n        .appendMinutes().appendSuffix(&quot;min&quot;)\r\n        .toFormatter();\r\n\r\n    Period p = formatter.parsePeriod(&quot;2d 5h 30min&quot;);\r\n\r\nnote that there is a `appendSuffix` that takes a `variants` parameter if you need to make it more flexible.\r\n\r\n**Update**: Joda Time has since added [`Period.toStandardDuration()`](http://joda-time.sourceforge.net/api-release/org/joda/time/Period.html#toStandardDuration()), and from there you can use [`getStandardSeconds()`](http://joda-time.sourceforge.net/api-release/org/joda/time/Duration.html#getStandardSeconds()) to get the elapsed time in seconds as a `long`.\r\n\r\nIf you&#39;re using an older version without these methods you can still calculate a timestamp yourself by assuming the standard 24/hr in a day, 60min/hr, etc. (In this case, take advantage of the constants in the `DateTimeConstants` class to avoid the need for magic numbers.)","title":"Parsing time strings like &quot;1h 30min&quot;","body":"<p>You'll probably have to tweak this a bit for your own format, but try something along these lines:</p>\n\n<pre><code>PeriodFormatter formatter = new PeriodFormatterBuilder()\n    .appendDays().appendSuffix(\"d \")\n    .appendHours().appendSuffix(\"h \")\n    .appendMinutes().appendSuffix(\"min\")\n    .toFormatter();\n\nPeriod p = formatter.parsePeriod(\"2d 5h 30min\");\n</code></pre>\n\n<p>note that there is a <code>appendSuffix</code> that takes a <code>variants</code> parameter if you need to make it more flexible.</p>\n\n<p><strong>Update</strong>: Joda Time has since added <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/Period.html#toStandardDuration()\" rel=\"noreferrer\"><code>Period.toStandardDuration()</code></a>, and from there you can use <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/Duration.html#getStandardSeconds()\" rel=\"noreferrer\"><code>getStandardSeconds()</code></a> to get the elapsed time in seconds as a <code>long</code>.</p>\n\n<p>If you're using an older version without these methods you can still calculate a timestamp yourself by assuming the standard 24/hr in a day, 60min/hr, etc. (In this case, take advantage of the constants in the <code>DateTimeConstants</code> class to avoid the need for magic numbers.)</p>\n"},{"tags":[],"owner":{"account_id":2453,"reputation":3435,"user_id":3419,"accept_rate":50,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1391786632,"creation_date":1391786632,"answer_id":21631490,"question_id":6403851,"body_markdown":"I wanted to make the day, hour and minute optional and this seems to work to do that.  Note that the appendSuffix() calls do not have a space after the character.\r\n\r\nUsing Joda 2.3.\r\n\r\n    PeriodParser parser = new PeriodFormatterBuilder()\r\n            .appendDays().appendSuffix(&quot;d&quot;).appendSeparatorIfFieldsAfter(&quot; &quot;)\r\n            .appendHours().appendSuffix(&quot;h&quot;).appendSeparatorIfFieldsAfter(&quot; &quot;)\r\n            .appendMinutes().appendSuffix(&quot;min&quot;)\r\n            .toParser();\r\n\r\nThe above code passes these tests.\r\n\r\n    @Test\r\n    public void testConvert() {\r\n        DurationConverter c = new DurationConverter();\r\n\r\n        Duration d;\r\n        Duration expected;\r\n\r\n        d = c.convert(&quot;1d&quot;);\r\n        expected = Duration.ZERO\r\n                .withDurationAdded(Duration.standardDays(1),1);\r\n        assertEquals(d, expected);\r\n\r\n        d = c.convert(&quot;1d 1h 1min&quot;);\r\n        expected = Duration.ZERO\r\n                .withDurationAdded(Duration.standardDays(1),1)\r\n                .withDurationAdded(Duration.standardHours(1),1)\r\n                .withDurationAdded(Duration.standardMinutes(1),1);\r\n        assertEquals(d, expected);\r\n\r\n\r\n        d = c.convert(&quot;1h 1min&quot;);\r\n        expected = Duration.ZERO\r\n                .withDurationAdded(Duration.standardHours(1),1)\r\n                .withDurationAdded(Duration.standardMinutes(1),1);\r\n        assertEquals(d, expected);\r\n\r\n        d = c.convert(&quot;1h&quot;);\r\n        expected = Duration.ZERO\r\n                .withDurationAdded(Duration.standardHours(1),1);\r\n        assertEquals(d, expected);\r\n\r\n        d = c.convert(&quot;1min&quot;);\r\n        expected = Duration.ZERO\r\n                .withDurationAdded(Duration.standardMinutes(1),1);\r\n        assertEquals(d, expected);\r\n\r\n    }","title":"Parsing time strings like &quot;1h 30min&quot;","body":"<p>I wanted to make the day, hour and minute optional and this seems to work to do that.  Note that the appendSuffix() calls do not have a space after the character.</p>\n\n<p>Using Joda 2.3.</p>\n\n<pre><code>PeriodParser parser = new PeriodFormatterBuilder()\n        .appendDays().appendSuffix(\"d\").appendSeparatorIfFieldsAfter(\" \")\n        .appendHours().appendSuffix(\"h\").appendSeparatorIfFieldsAfter(\" \")\n        .appendMinutes().appendSuffix(\"min\")\n        .toParser();\n</code></pre>\n\n<p>The above code passes these tests.</p>\n\n<pre><code>@Test\npublic void testConvert() {\n    DurationConverter c = new DurationConverter();\n\n    Duration d;\n    Duration expected;\n\n    d = c.convert(\"1d\");\n    expected = Duration.ZERO\n            .withDurationAdded(Duration.standardDays(1),1);\n    assertEquals(d, expected);\n\n    d = c.convert(\"1d 1h 1min\");\n    expected = Duration.ZERO\n            .withDurationAdded(Duration.standardDays(1),1)\n            .withDurationAdded(Duration.standardHours(1),1)\n            .withDurationAdded(Duration.standardMinutes(1),1);\n    assertEquals(d, expected);\n\n\n    d = c.convert(\"1h 1min\");\n    expected = Duration.ZERO\n            .withDurationAdded(Duration.standardHours(1),1)\n            .withDurationAdded(Duration.standardMinutes(1),1);\n    assertEquals(d, expected);\n\n    d = c.convert(\"1h\");\n    expected = Duration.ZERO\n            .withDurationAdded(Duration.standardHours(1),1);\n    assertEquals(d, expected);\n\n    d = c.convert(\"1min\");\n    expected = Duration.ZERO\n            .withDurationAdded(Duration.standardMinutes(1),1);\n    assertEquals(d, expected);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1485641230,"creation_date":1395069759,"answer_id":22458291,"question_id":6403851,"body_markdown":"Duration parsing is now included in [Java 8][1]. Use standard [ISO 8601][2] format with [`Duration.parse`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-).\r\n\r\n    Duration d = Duration.parse(&quot;PT1H30M&quot;)\r\n\r\nYou can [convert this duration][3] to the total length in milliseconds. Beware that `Duration` has a resolution of nanoseconds, so you may have data loss going from [nanoseconds][4] to [milliseconds][5].\r\n\r\n    long milliseconds = d.toMillis();\r\n\r\nThe format is slightly different than what you describe but could be easily translated from one to another.\r\n\r\n\r\n  [1]:        http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#toMillis--\r\n  [4]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [5]: https://en.wikipedia.org/wiki/Millisecond","title":"Parsing time strings like &quot;1h 30min&quot;","body":"<p>Duration parsing is now included in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"noreferrer\">Java 8</a>. Use standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">ISO 8601</a> format with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"noreferrer\"><code>Duration.parse</code></a>.</p>\n\n<pre><code>Duration d = Duration.parse(\"PT1H30M\")\n</code></pre>\n\n<p>You can <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#toMillis--\" rel=\"noreferrer\">convert this duration</a> to the total length in milliseconds. Beware that <code>Duration</code> has a resolution of nanoseconds, so you may have data loss going from <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> to <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a>.</p>\n\n<pre><code>long milliseconds = d.toMillis();\n</code></pre>\n\n<p>The format is slightly different than what you describe but could be easily translated from one to another.</p>\n"},{"tags":[],"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1559309132,"creation_date":1559309132,"answer_id":56395975,"question_id":6403851,"body_markdown":"FYI, Just wrote this for hour+ periods, only uses `java.time.*`, pretty simple to understand and customize for any need;\r\n\r\nThis version works with strings like; `3d12h`, `2y`, `9m10d`, etc.\r\n\r\n```java\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.time.Period;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\nimport java.util.Locale;\r\n```\r\n\r\n```java\r\nprivate static final Pattern periodPattern = Pattern.compile(&quot;([0-9]+)([hdwmy])&quot;);\r\n\r\npublic static Long parsePeriod(String period){\r\n    if(period == null) return null;\r\n    period = period.toLowerCase(Locale.ENGLISH);\r\n    Matcher matcher = periodPattern.matcher(period);\r\n    Instant instant=Instant.EPOCH;\r\n    while(matcher.find()){\r\n        int num = Integer.parseInt(matcher.group(1));\r\n        String typ = matcher.group(2);\r\n        switch (typ) {\r\n            case &quot;h&quot;:\r\n                instant=instant.plus(Duration.ofHours(num));\r\n                break;\r\n            case &quot;d&quot;:\r\n                instant=instant.plus(Duration.ofDays(num));\r\n                break;\r\n            case &quot;w&quot;:\r\n                instant=instant.plus(Period.ofWeeks(num));\r\n                break;\r\n            case &quot;m&quot;:\r\n                instant=instant.plus(Period.ofMonths(num));\r\n                break;\r\n            case &quot;y&quot;:\r\n                instant=instant.plus(Period.ofYears(num));\r\n                break;\r\n        }\r\n    }\r\n    return instant.toEpochMilli();\r\n}\r\n\r\n```\r\n","title":"Parsing time strings like &quot;1h 30min&quot;","body":"<p>FYI, Just wrote this for hour+ periods, only uses <code>java.time.*</code>, pretty simple to understand and customize for any need;</p>\n\n<p>This version works with strings like; <code>3d12h</code>, <code>2y</code>, <code>9m10d</code>, etc.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Duration;\nimport java.time.Instant;\nimport java.time.Period;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.Locale;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final Pattern periodPattern = Pattern.compile(\"([0-9]+)([hdwmy])\");\n\npublic static Long parsePeriod(String period){\n    if(period == null) return null;\n    period = period.toLowerCase(Locale.ENGLISH);\n    Matcher matcher = periodPattern.matcher(period);\n    Instant instant=Instant.EPOCH;\n    while(matcher.find()){\n        int num = Integer.parseInt(matcher.group(1));\n        String typ = matcher.group(2);\n        switch (typ) {\n            case \"h\":\n                instant=instant.plus(Duration.ofHours(num));\n                break;\n            case \"d\":\n                instant=instant.plus(Duration.ofDays(num));\n                break;\n            case \"w\":\n                instant=instant.plus(Period.ofWeeks(num));\n                break;\n            case \"m\":\n                instant=instant.plus(Period.ofMonths(num));\n                break;\n            case \"y\":\n                instant=instant.plus(Period.ofYears(num));\n                break;\n        }\n    }\n    return instant.toEpochMilli();\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8138701,"reputation":71,"user_id":6129599,"display_name":"Cosmin Marginean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596379728,"creation_date":1596379728,"answer_id":63217394,"question_id":6403851,"body_markdown":"I realise this thread is a few years old but it keeps popping up at the top of a Google search so I thought we&#39;d share this.\r\n\r\nWe needed this capability as well on a couple of projects, so we created this small library for it: https://github.com/blueanvil/kotlin-duration-string\r\n\r\nIt&#39;s written in/for Kotlin, but you can use it from Java code as well (see [JavaTest.java][1]):\r\n```\r\nDuration duration = toDuration(&quot;24d 3h 45m&quot;);\r\n...\r\ntoHumanReadableString(duration);\r\n```\r\n\r\n\r\n  [1]: https://github.com/blueanvil/kotlin-duration-string/blob/master/src/test/kotlin/com/blueanvil/durationstr/JavaTest.java","title":"Parsing time strings like &quot;1h 30min&quot;","body":"<p>I realise this thread is a few years old but it keeps popping up at the top of a Google search so I thought we'd share this.</p>\n<p>We needed this capability as well on a couple of projects, so we created this small library for it: <a href=\"https://github.com/blueanvil/kotlin-duration-string\" rel=\"nofollow noreferrer\">https://github.com/blueanvil/kotlin-duration-string</a></p>\n<p>It's written in/for Kotlin, but you can use it from Java code as well (see <a href=\"https://github.com/blueanvil/kotlin-duration-string/blob/master/src/test/kotlin/com/blueanvil/durationstr/JavaTest.java\" rel=\"nofollow noreferrer\">JavaTest.java</a>):</p>\n<pre><code>Duration duration = toDuration(&quot;24d 3h 45m&quot;);\n...\ntoHumanReadableString(duration);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635529646,"creation_date":1635529646,"answer_id":69772933,"question_id":6403851,"body_markdown":"Not exactly Java - rather Kotlin, and not using Joda but JDK&#39;s `java.time`:\r\n\r\n    val RELAXED_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy[-MM[-dd[&#39; &#39;HH:mm[:ss[.SSS]]]]]&quot;)\r\n\r\n    fun parseTemporalInput(input: String): LocalDateTime? {\r\n        var result = LocalDateTime.MAX.withNano(0)\r\n\r\n        if (input.lowercase() == &quot;now&quot;)\r\n            return LocalDateTime.now()\r\n\r\n        try {\r\n            val parsed = RELAXED_FORMATTER.parse(input)\r\n            for (field in listOf(YEAR, MONTH_OF_YEAR, DAY_OF_MONTH, HOUR_OF_DAY, MINUTE_OF_HOUR, SECOND_OF_MINUTE)) {\r\n                try {\r\n                    result = result.with(field, parsed.getLong(field))\r\n                } catch (ex: UnsupportedTemporalTypeException) {\r\n                    result = result.with(field, if (field.isDateBased) 1 else 0)\r\n                }\r\n            }\r\n            return result\r\n        } \r\n        catch (parseEx: DateTimeParseException) {\r\n            try {\r\n                val inputToIso8601 = &quot;P&quot; + input.uppercase().replace(&quot;-&quot;,&quot;&quot;).replace(&quot; &quot;, &quot;&quot;).replace(&quot;D&quot;, &quot;DT&quot;).removeSuffix(&quot;T&quot;)\r\n                // Expected format:  &quot;PnDTnHnMn.nS&quot;\r\n                val duration = Duration.parse(inputToIso8601)\r\n\r\n                val base = LocalDateTime.now().let {\r\n                    if (!inputToIso8601.contains(&quot;D&quot;)) it\r\n                    else it.truncatedTo(ChronoUnit.DAYS)\r\n                }\r\n\r\n                return base.minus(duration)\r\n            }\r\n            catch (ex: DateTimeParseException) {\r\n                return null\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n* Only supports days (since the underlying ISO 8601 does not standardize weeks, months etc.)\r\n* Does not handle relative in the future, although easy to add.\r\n* Is not meant as a full-blown implementation of duration parsing, so take it as that.\r\n\r\nTaken from this Gist:\r\nhttps://gist.github.com/OndraZizka/5fd56479ed2f6175703eb8a2e1bb1088","title":"Parsing time strings like &quot;1h 30min&quot;","body":"<p>Not exactly Java - rather Kotlin, and not using Joda but JDK's <code>java.time</code>:</p>\n<pre><code>val RELAXED_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy[-MM[-dd[' 'HH:mm[:ss[.SSS]]]]]&quot;)\n\nfun parseTemporalInput(input: String): LocalDateTime? {\n    var result = LocalDateTime.MAX.withNano(0)\n\n    if (input.lowercase() == &quot;now&quot;)\n        return LocalDateTime.now()\n\n    try {\n        val parsed = RELAXED_FORMATTER.parse(input)\n        for (field in listOf(YEAR, MONTH_OF_YEAR, DAY_OF_MONTH, HOUR_OF_DAY, MINUTE_OF_HOUR, SECOND_OF_MINUTE)) {\n            try {\n                result = result.with(field, parsed.getLong(field))\n            } catch (ex: UnsupportedTemporalTypeException) {\n                result = result.with(field, if (field.isDateBased) 1 else 0)\n            }\n        }\n        return result\n    } \n    catch (parseEx: DateTimeParseException) {\n        try {\n            val inputToIso8601 = &quot;P&quot; + input.uppercase().replace(&quot;-&quot;,&quot;&quot;).replace(&quot; &quot;, &quot;&quot;).replace(&quot;D&quot;, &quot;DT&quot;).removeSuffix(&quot;T&quot;)\n            // Expected format:  &quot;PnDTnHnMn.nS&quot;\n            val duration = Duration.parse(inputToIso8601)\n\n            val base = LocalDateTime.now().let {\n                if (!inputToIso8601.contains(&quot;D&quot;)) it\n                else it.truncatedTo(ChronoUnit.DAYS)\n            }\n\n            return base.minus(duration)\n        }\n        catch (ex: DateTimeParseException) {\n            return null\n        }\n    }\n    return null\n}\n</code></pre>\n<ul>\n<li>Only supports days (since the underlying ISO 8601 does not standardize weeks, months etc.)</li>\n<li>Does not handle relative in the future, although easy to add.</li>\n<li>Is not meant as a full-blown implementation of duration parsing, so take it as that.</li>\n</ul>\n<p>Taken from this Gist:\n<a href=\"https://gist.github.com/OndraZizka/5fd56479ed2f6175703eb8a2e1bb1088\" rel=\"nofollow noreferrer\">https://gist.github.com/OndraZizka/5fd56479ed2f6175703eb8a2e1bb1088</a></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635753910,"creation_date":1635533133,"answer_id":69773512,"question_id":6403851,"body_markdown":"# *java.time* \r\n\r\nQuoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\nYou can convert the input string into [ISO_8601#Duration](https://en.wikipedia.org/wiki/ISO_8601#Durations) format and then parse the same into [`java.time.Duration`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html) which was introduced with *Java-8* as part of [JSR-310 implementation](https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html).\r\n\r\n**Demo:**\r\n\r\n    import java.time.Duration;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tStream.of(\r\n    \t\t\t\t&quot;30min&quot;, \r\n    \t\t\t\t&quot;2h 15min&quot;, \r\n    \t\t\t\t&quot;2d 15h 30min&quot;\r\n    \t\t).forEach(s -&gt; System.out.println(s + &quot; =&gt; &quot; + toMillis(s) + &quot;ms&quot;));\r\n    \t}\r\n    \r\n    \tstatic long toMillis(String strDuration) {\r\n    \t\tstrDuration = strDuration.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).replaceFirst(&quot;(\\\\d+d)&quot;, &quot;P$1T&quot;);\r\n    \t\tstrDuration = strDuration.charAt(0) != &#39;P&#39; ? &quot;PT&quot; + strDuration.replace(&quot;min&quot;, &quot;m&quot;)\r\n    \t\t\t\t: strDuration.replace(&quot;min&quot;, &quot;m&quot;);\r\n    \t\tDuration duration = Duration.parse(strDuration);\r\n    \t\treturn duration.toMillis();\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    30min =&gt; 1800000ms\r\n    2h 15min =&gt; 8100000ms\r\n    2d 15h 30min =&gt; 228600000ms\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/wi8C8x\r\n","title":"Parsing time strings like &quot;1h 30min&quot;","body":"<h1><em>java.time</em></h1>\n<p>Quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<p>You can convert the input string into <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO_8601#Duration</a> format and then parse the same into <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>java.time.Duration</code></a> which was introduced with <em>Java-8</em> as part of <a href=\"https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\" rel=\"nofollow noreferrer\">JSR-310 implementation</a>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Duration;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        Stream.of(\n                &quot;30min&quot;, \n                &quot;2h 15min&quot;, \n                &quot;2d 15h 30min&quot;\n        ).forEach(s -&gt; System.out.println(s + &quot; =&gt; &quot; + toMillis(s) + &quot;ms&quot;));\n    }\n\n    static long toMillis(String strDuration) {\n        strDuration = strDuration.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).replaceFirst(&quot;(\\\\d+d)&quot;, &quot;P$1T&quot;);\n        strDuration = strDuration.charAt(0) != 'P' ? &quot;PT&quot; + strDuration.replace(&quot;min&quot;, &quot;m&quot;)\n                : strDuration.replace(&quot;min&quot;, &quot;m&quot;);\n        Duration duration = Duration.parse(strDuration);\n        return duration.toMillis();\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>30min =&gt; 1800000ms\n2h 15min =&gt; 8100000ms\n2d 15h 30min =&gt; 228600000ms\n</code></pre>\n<p><a href=\"https://ideone.com/wi8C8x\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36262,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":6403973,"answer_count":8,"score":47,"last_activity_date":1635753910,"creation_date":1308503395,"question_id":6403851,"body_markdown":"Anyone know of a Java library that can parse time strings such as &quot;30min&quot; or &quot;2h 15min&quot; or &quot;2d 15h 30min&quot; as milliseconds (or some kind of Duration object). Can Joda-Time do something like this?\r\n\r\n(I have an ugly long method to maintain that does such parsing and would like to get rid of it / replace it with something that does a better job.)","title":"Parsing time strings like &quot;1h 30min&quot;","body":"<p>Anyone know of a Java library that can parse time strings such as \"30min\" or \"2h 15min\" or \"2d 15h 30min\" as milliseconds (or some kind of Duration object). Can Joda-Time do something like this?</p>\n\n<p>(I have an ugly long method to maintain that does such parsing and would like to get rid of it / replace it with something that does a better job.)</p>\n"},{"tags":["java","tomcat","web","netbeans-7"],"answers":[{"tags":[],"owner":{"account_id":2429830,"reputation":340,"user_id":2121002,"accept_rate":100,"display_name":"Zero-dev"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1395399014,"creation_date":1368653331,"answer_id":16575263,"question_id":16400810,"body_markdown":"may its so late but the response useful for others so : \r\nSometimes, when you don&#39;t specify a server or servlet container at the \r\ncreation of the project, *NetBeans* fails to create a `context.xml` file. \r\n\r\n1. In your project under Web Pages, create a folder called `META-INF`. \r\n\r\nDo this by right mouse button clicking on Web pages, and select: \r\n\r\n`New-&gt;Other-&gt;Other-&gt;File Folder` \r\n\r\nName the folder `META-INF`. Case is important, even on Windows. \r\n\r\n2. Create a file called `context.xml` in the `META-INF` folder. \r\n\r\nDo this by right mouse button clicking on the new `META-INF` folder, and \r\nselect: \r\n\r\n`New-&gt;Other-&gt;XML-&gt;XML` Document \r\n\r\nName it context (NetBeans adds the `.xml`) \r\nSelect Well-formed Document \r\nPress Finish \r\n\r\n3. Edit the new document (`context.xml`), and add the following: \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n        &lt;Context antiJARLocking=&quot;true&quot; path=&quot;/app-name&quot;/&gt; \r\n\r\nReplace app-name with the name of your application.\r\n\r\nNow your in-place deployment should work. If not, make sure that the \r\nfile can be read by everyone. \r\n\r\nThe `context.xml` file is specific to Tomcat. For more information about \r\nthat file, see the Tomcat documentation at `tomcat.apache.org`. ","title":"build-impl.xml:1031: The module has not been deployed","body":"<p>may its so late but the response useful for others so : \nSometimes, when you don't specify a server or servlet container at the \ncreation of the project, <em>NetBeans</em> fails to create a <code>context.xml</code> file. </p>\n\n<ol>\n<li>In your project under Web Pages, create a folder called <code>META-INF</code>. </li>\n</ol>\n\n<p>Do this by right mouse button clicking on Web pages, and select: </p>\n\n<p><code>New-&gt;Other-&gt;Other-&gt;File Folder</code> </p>\n\n<p>Name the folder <code>META-INF</code>. Case is important, even on Windows. </p>\n\n<ol>\n<li>Create a file called <code>context.xml</code> in the <code>META-INF</code> folder. </li>\n</ol>\n\n<p>Do this by right mouse button clicking on the new <code>META-INF</code> folder, and \nselect: </p>\n\n<p><code>New-&gt;Other-&gt;XML-&gt;XML</code> Document </p>\n\n<p>Name it context (NetBeans adds the <code>.xml</code>) \nSelect Well-formed Document \nPress Finish </p>\n\n<ol>\n<li><p>Edit the new document (<code>context.xml</code>), and add the following: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; \n&lt;Context antiJARLocking=\"true\" path=\"/app-name\"/&gt; \n</code></pre></li>\n</ol>\n\n<p>Replace app-name with the name of your application.</p>\n\n<p>Now your in-place deployment should work. If not, make sure that the \nfile can be read by everyone. </p>\n\n<p>The <code>context.xml</code> file is specific to Tomcat. For more information about \nthat file, see the Tomcat documentation at <code>tomcat.apache.org</code>. </p>\n"},{"tags":[],"owner":{"account_id":1432143,"reputation":6832,"user_id":1354334,"accept_rate":94,"display_name":"Saif"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413783118,"creation_date":1413783118,"answer_id":26459082,"question_id":16400810,"body_markdown":" - Check if there any other instance of the server is running already\r\n - Check if the port that will be used by the server is free.","title":"build-impl.xml:1031: The module has not been deployed","body":"<ul>\n<li>Check if there any other instance of the server is running already</li>\n<li>Check if the port that will be used by the server is free.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1465637,"reputation":4872,"user_id":1505348,"accept_rate":96,"display_name":"Lucio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414530065,"creation_date":1414530065,"answer_id":26618406,"question_id":16400810,"body_markdown":"**Take a look at the server logs!**\r\n\r\nI had been with this for hours. The awful Tomcat servlet is not very helpful neither but if you can see the stacktrace that should be enough.\r\n\r\nFor instance, I read the following error message there:\r\n\r\n![Caused by: java.lang.IllegalArgumentException: The servlets named [DetailsServlet] and [AddToCart] are both mapped to the url-pattern [/carrito] which is not permitted][1]\r\n\r\nAs you can see, the message was pretty clear and easy to fix :-)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GIspU.png","title":"build-impl.xml:1031: The module has not been deployed","body":"<p><strong>Take a look at the server logs!</strong></p>\n\n<p>I had been with this for hours. The awful Tomcat servlet is not very helpful neither but if you can see the stacktrace that should be enough.</p>\n\n<p>For instance, I read the following error message there:</p>\n\n<p><img src=\"https://i.stack.imgur.com/GIspU.png\" alt=\"Caused by: java.lang.IllegalArgumentException: The servlets named [DetailsServlet] and [AddToCart] are both mapped to the url-pattern [/carrito] which is not permitted\"></p>\n\n<p>As you can see, the message was pretty clear and easy to fix :-)</p>\n"},{"tags":[],"owner":{"account_id":4810539,"reputation":1183,"user_id":3884173,"accept_rate":71,"display_name":"prashanth-g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422437640,"creation_date":1422437640,"answer_id":28188769,"question_id":16400810,"body_markdown":"If you add jars in tomcat&#39;s lib folder you can see this error","title":"build-impl.xml:1031: The module has not been deployed","body":"<p>If you add jars in tomcat's lib folder you can see this error</p>\n"},{"tags":[],"owner":{"account_id":1688425,"reputation":163,"user_id":1551257,"accept_rate":50,"display_name":"Shamsuddin Altamash"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438600957,"creation_date":1438600358,"answer_id":31785757,"question_id":16400810,"body_markdown":"Start your IDE with administrative privilege( Windows: right click and run as admin), so that it has read write access to tomact folder for deployment. It worked for me.","title":"build-impl.xml:1031: The module has not been deployed","body":"<p>Start your IDE with administrative privilege( Windows: right click and run as admin), so that it has read write access to tomact folder for deployment. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":14225505,"reputation":47,"user_id":10276338,"display_name":"Subramani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551108462,"creation_date":1551108462,"answer_id":54869539,"question_id":16400810,"body_markdown":"Check whether you placed the &lt;init-parameter&gt; within the &lt;servlet&gt;..&lt;/servlet&gt; or outside the &lt;servlet&gt;...&lt;/servlet&gt;\r\nIf you placed it outside the server tag , and if you try to access the init-parameter then it will give error.","title":"build-impl.xml:1031: The module has not been deployed","body":"<p>Check whether you placed the  within the .. or outside the ...\nIf you placed it outside the server tag , and if you try to access the init-parameter then it will give error.</p>\n"},{"tags":[],"owner":{"account_id":8590259,"reputation":27,"user_id":6435074,"display_name":"Kenan G&#246;kbak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551945395,"creation_date":1551945395,"answer_id":55038712,"question_id":16400810,"body_markdown":"- Close Netbeans.\r\n- Delete all libraries in the folder &quot;yourprojectfolder&quot;\\build\\web\\WEB-INF\\lib\r\n- Open Netbeans.\r\n- Clean and Build project.\r\n- Deploy project.","title":"build-impl.xml:1031: The module has not been deployed","body":"<ul>\n<li>Close Netbeans.</li>\n<li>Delete all libraries in the folder \"yourprojectfolder\"\\build\\web\\WEB-INF\\lib</li>\n<li>Open Netbeans.</li>\n<li>Clean and Build project.</li>\n<li>Deploy project.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9935645,"reputation":801,"user_id":7354078,"display_name":"Mukesh Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559216160,"creation_date":1559216160,"answer_id":56377556,"question_id":16400810,"body_markdown":"One of the main reason for this error is due to permission not granted to all users. so remove this error, follow the following steps :  \r\n1) Go to the **C:/Programme Files/Apache Software Foundation/Tomcat 7.0**  \r\n2) Right click on the **Tomcat 7.0** folder and click on **properties**.  \r\n3) go to **Security** Tab.  \r\n4) Select the User and click on **Edit**... button  \r\n5) Grant all the permission to the user and click on **apply** and **ok**.  \r\nRefresh the system and now try. I hope it will work","title":"build-impl.xml:1031: The module has not been deployed","body":"<p>One of the main reason for this error is due to permission not granted to all users. so remove this error, follow the following steps :<br>\n1) Go to the <strong>C:/Programme Files/Apache Software Foundation/Tomcat 7.0</strong><br>\n2) Right click on the <strong>Tomcat 7.0</strong> folder and click on <strong>properties</strong>.<br>\n3) go to <strong>Security</strong> Tab.<br>\n4) Select the User and click on <strong>Edit</strong>... button<br>\n5) Grant all the permission to the user and click on <strong>apply</strong> and <strong>ok</strong>.<br>\nRefresh the system and now try. I hope it will work</p>\n"},{"tags":[],"owner":{"account_id":8590259,"reputation":27,"user_id":6435074,"display_name":"Kenan G&#246;kbak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594119527,"creation_date":1594119527,"answer_id":62773728,"question_id":16400810,"body_markdown":"if you still getting this error try this.\r\n\r\n1. Go to Netbeans services\r\n2. Remove Apache Tomcat.\r\n3. Add Apache Tomcat again.\r\n4. Build Project.\r\n5. Deploy Project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8f56e.jpg","title":"build-impl.xml:1031: The module has not been deployed","body":"<p>if you still getting this error try this.</p>\n<ol>\n<li>Go to Netbeans services</li>\n<li>Remove Apache Tomcat.</li>\n<li>Add Apache Tomcat again.</li>\n<li>Build Project.</li>\n<li>Deploy Project</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8f56e.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8f56e.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20910290,"reputation":46,"user_id":15361345,"display_name":"L&#234; Thị Quỳnh Hương"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635752578,"creation_date":1635752578,"answer_id":69793904,"question_id":16400810,"body_markdown":"in my case , it said that the 8080 port is in use , so I change the server port of Tomcat to 8081 and it works","title":"build-impl.xml:1031: The module has not been deployed","body":"<p>in my case , it said that the 8080 port is in use , so I change the server port of Tomcat to 8081 and it works</p>\n"}],"owner":{"account_id":2627595,"reputation":125,"user_id":2274311,"display_name":"Kromer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182147,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":16575263,"answer_count":10,"score":11,"last_activity_date":1635752578,"creation_date":1367850209,"question_id":16400810,"body_markdown":"I have been working on a Java web application and i am  using *SmartGwt* on *Netbeans 7.3* and out of a sudden I encountered this problem. I tried cleaning the `build-impl.xml` then restarting the IDE and I should say I have fairly low knowledge on this. Can someone please tell me why it is giving an error and how I can fix that?\r\n\r\nThe error message says :\r\n\r\n    nbproject/build-impl.xml:1031: The module has not been deployed. See the server log for details. \r\n    BUILD FAILED (total time: 4 seconds)\r\n\r\nNote: i am using *Tomcat 7.0.34*\r\n","title":"build-impl.xml:1031: The module has not been deployed","body":"<p>I have been working on a Java web application and i am  using <em>SmartGwt</em> on <em>Netbeans 7.3</em> and out of a sudden I encountered this problem. I tried cleaning the <code>build-impl.xml</code> then restarting the IDE and I should say I have fairly low knowledge on this. Can someone please tell me why it is giving an error and how I can fix that?</p>\n\n<p>The error message says :</p>\n\n<pre><code>nbproject/build-impl.xml:1031: The module has not been deployed. See the server log for details. \nBUILD FAILED (total time: 4 seconds)\n</code></pre>\n\n<p>Note: i am using <em>Tomcat 7.0.34</em></p>\n"},{"tags":["java","spring","apache-kafka","spring-integration","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":5864435,"reputation":1116,"user_id":4618966,"display_name":"bachrc"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1513101811,"creation_date":1513101811,"answer_id":47778893,"question_id":47777395,"body_markdown":"Because I didn&#39;t saw any example of this, I&#39;m gonna explain how I did here.\r\n\r\nThe class of your `@KafkaListener` must implement a `ConsumerSeekAware` class, which will permit to the listener to control the offset seeking when partitions are attributed. (source : https://docs.spring.io/spring-kafka/reference/htmlsingle/#seek )\r\n\r\n    public class KafkaMessageListener implements ConsumerSeekAware {\r\n        @KafkaListener(topics = &quot;your.topic&quot;)\r\n        public void listen(byte[] payload) {\r\n            // ...\r\n        }\r\n        \r\n        @Override\r\n        public void registerSeekCallback(ConsumerSeekCallback callback) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onPartitionsAssigned(Map&lt;TopicPartition, Long&gt; assignments, ConsumerSeekCallback callback) {\r\n            assignments.forEach((t, o) -&gt; callback.seekToEnd(t.topic(), t.partition()));\r\n        }\r\n\r\n        @Override\r\n        public void onIdleContainer(Map&lt;TopicPartition, Long&gt; assignments, ConsumerSeekCallback callback) {\r\n            \r\n\r\n        }\r\n    }\r\n\r\nHere, on a rebalance, we use the given callback to seek the last offset for all the given topics. Thanks to Artem Bilan ( https://stackoverflow.com/users/2756547/artem-bilan ) for guiding me to the answer.","title":"Spring Kafka - How to reset offset to latest with a group id?","body":"<p>Because I didn't saw any example of this, I'm gonna explain how I did here.</p>\n\n<p>The class of your <code>@KafkaListener</code> must implement a <code>ConsumerSeekAware</code> class, which will permit to the listener to control the offset seeking when partitions are attributed. (source : <a href=\"https://docs.spring.io/spring-kafka/reference/htmlsingle/#seek\" rel=\"noreferrer\">https://docs.spring.io/spring-kafka/reference/htmlsingle/#seek</a> )</p>\n\n<pre><code>public class KafkaMessageListener implements ConsumerSeekAware {\n    @KafkaListener(topics = \"your.topic\")\n    public void listen(byte[] payload) {\n        // ...\n    }\n\n    @Override\n    public void registerSeekCallback(ConsumerSeekCallback callback) {\n\n    }\n\n    @Override\n    public void onPartitionsAssigned(Map&lt;TopicPartition, Long&gt; assignments, ConsumerSeekCallback callback) {\n        assignments.forEach((t, o) -&gt; callback.seekToEnd(t.topic(), t.partition()));\n    }\n\n    @Override\n    public void onIdleContainer(Map&lt;TopicPartition, Long&gt; assignments, ConsumerSeekCallback callback) {\n\n\n    }\n}\n</code></pre>\n\n<p>Here, on a rebalance, we use the given callback to seek the last offset for all the given topics. Thanks to Artem Bilan ( <a href=\"https://stackoverflow.com/users/2756547/artem-bilan\">https://stackoverflow.com/users/2756547/artem-bilan</a> ) for guiding me to the answer.</p>\n"},{"tags":[],"owner":{"account_id":11605108,"reputation":133,"user_id":8501104,"display_name":"A.Chinese"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541427507,"creation_date":1533719453,"answer_id":51742794,"question_id":47777395,"body_markdown":"You can set a `ConsumerRebalanceListener` for the kafka consumer while you subscribing to some topics,in which you can get the lastest offset of each partition by `KafkaConsumer.endOffsets()` method, and set this to consumer by `KafkaConsumer.seek()` method ,like this:\r\n\r\n    kafkaConsumer.subscribe(Collections.singletonList(topics),\r\n        new ConsumerRebalanceListener() {\r\n            @Override\r\n            public void onPartitionsRevoked(Collection&lt;TopicPartition&gt; partitions) {\r\n                //do nothing\r\n            }\r\n\r\n            @Override\r\n            public void onPartitionsAssigned(Collection&lt;TopicPartition&gt; partitions) {\r\n                //get and set the lastest offset for each partiton\r\n                kafkaConsumer.endOffsets(partitions) \r\n                    .forEach((partition, offset) -&gt; kafkaConsumer.seek(partition, offset));\r\n            }\r\n        }\r\n    );\r\n\r\n","title":"Spring Kafka - How to reset offset to latest with a group id?","body":"<p>You can set a <code>ConsumerRebalanceListener</code> for the kafka consumer while you subscribing to some topics,in which you can get the lastest offset of each partition by <code>KafkaConsumer.endOffsets()</code> method, and set this to consumer by <code>KafkaConsumer.seek()</code> method ,like this:</p>\n\n<pre><code>kafkaConsumer.subscribe(Collections.singletonList(topics),\n    new ConsumerRebalanceListener() {\n        @Override\n        public void onPartitionsRevoked(Collection&lt;TopicPartition&gt; partitions) {\n            //do nothing\n        }\n\n        @Override\n        public void onPartitionsAssigned(Collection&lt;TopicPartition&gt; partitions) {\n            //get and set the lastest offset for each partiton\n            kafkaConsumer.endOffsets(partitions) \n                .forEach((partition, offset) -&gt; kafkaConsumer.seek(partition, offset));\n        }\n    }\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8587613,"reputation":67,"user_id":6433163,"display_name":"link"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1541426891,"creation_date":1541426891,"answer_id":53156021,"question_id":47777395,"body_markdown":"you can use partitionOffsets annotation to start with exact offset,for example:\r\n\r\n    @KafkaListener(id = &quot;bar&quot;, topicPartitions =\r\n        { @TopicPartition(topic = &quot;topic1&quot;, partitions = { &quot;0&quot;, &quot;1&quot; }),\r\n          @TopicPartition(topic = &quot;topic2&quot;, partitions = &quot;0&quot;,\r\n             partitionOffsets = @PartitionOffset(partition = &quot;1&quot;, initialOffset = &quot;100&quot;))\r\n        })public void listen(ConsumerRecord&lt;?, ?&gt; record) {\r\n         }\r\n\r\n","title":"Spring Kafka - How to reset offset to latest with a group id?","body":"<p>you can use partitionOffsets annotation to start with exact offset,for example:</p>\n\n<pre><code>@KafkaListener(id = \"bar\", topicPartitions =\n    { @TopicPartition(topic = \"topic1\", partitions = { \"0\", \"1\" }),\n      @TopicPartition(topic = \"topic2\", partitions = \"0\",\n         partitionOffsets = @PartitionOffset(partition = \"1\", initialOffset = \"100\"))\n    })public void listen(ConsumerRecord&lt;?, ?&gt; record) {\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1594804732,"creation_date":1581345917,"answer_id":60152764,"question_id":47777395,"body_markdown":"For a new consumer group that doesn&#39;t have an initial offset in kafka, you can set `AUTO_OFFSET_RESET_CONFIG`:\r\n\r\n    properties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;consumer-group-id&quot;);\r\n    properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n\r\nFor an existing consumer group, you can:\r\n\r\n 1. Change group id to appear as new i.e. `consumer-group-id-v2`\r\n 2. Implement `ConsumerSeekAware` so you can seek to desired offset during initialization [See docs][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/html/#topicpartition-initial-offset","title":"Spring Kafka - How to reset offset to latest with a group id?","body":"<p>For a new consumer group that doesn't have an initial offset in kafka, you can set <code>AUTO_OFFSET_RESET_CONFIG</code>:</p>\n<pre><code>properties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;consumer-group-id&quot;);\nproperties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n</code></pre>\n<p>For an existing consumer group, you can:</p>\n<ol>\n<li>Change group id to appear as new i.e. <code>consumer-group-id-v2</code></li>\n<li>Implement <code>ConsumerSeekAware</code> so you can seek to desired offset during initialization <a href=\"https://docs.spring.io/spring-kafka/reference/html/#topicpartition-initial-offset\" rel=\"nofollow noreferrer\">See docs</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8307636,"reputation":1170,"user_id":6244053,"display_name":"bovenson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635752552,"creation_date":1635752552,"answer_id":69793900,"question_id":47777395,"body_markdown":"Another way, we can always consume lastest message without commit group offset , by specify properties value with `{&quot;enable.auto.commit:false&quot;, &quot;auto.offset.reset:latest&quot;}` for KafkaListener annotation.\r\n\r\n```\r\n@KafkaListener(id = &quot;example-group&quot;,\r\n        properties = {&quot;enable.auto.commit:false&quot;, &quot;auto.offset.reset:latest&quot;},\r\n        topics = &quot;example&quot;)\r\n```","title":"Spring Kafka - How to reset offset to latest with a group id?","body":"<p>Another way, we can always consume lastest message without commit group offset , by specify properties value with <code>{&quot;enable.auto.commit:false&quot;, &quot;auto.offset.reset:latest&quot;}</code> for KafkaListener annotation.</p>\n<pre><code>@KafkaListener(id = &quot;example-group&quot;,\n        properties = {&quot;enable.auto.commit:false&quot;, &quot;auto.offset.reset:latest&quot;},\n        topics = &quot;example&quot;)\n</code></pre>\n"}],"owner":{"account_id":5864435,"reputation":1116,"user_id":4618966,"display_name":"bachrc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41487,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":47778893,"answer_count":5,"score":18,"last_activity_date":1635752552,"creation_date":1513096484,"question_id":47777395,"body_markdown":"&lt;!-- What are you trying to accomplish? (Please include sample data.) --&gt;\r\nI am currently using Spring Integration Kafka to make real-time statistics. Though, the group name makes Kafka search all the previous values the listener didn&#39;t read.\r\n\r\n    @Value(&quot;${kafka.consumer.group.id}&quot;)\r\n    private String consumerGroupId;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(getDefaultProperties());\r\n    }\r\n\r\n    public Map&lt;String, Object&gt; getDefaultProperties() {\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n\r\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\r\n\r\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\r\n        return properties;\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public KafkaMessageListener listener() {\r\n        return new KafkaMessageListener();\r\n    }\r\n\r\n\r\n&lt;!-- Paste the part of the code that shows the problem. (Please indent 4 spaces.) --&gt;\r\n\r\n&lt;!-- What do you expect the result to be? --&gt;\r\n\r\nI would like to begin to the latest offset, and not be bothered by old values. Is there a possibility to reset the offset of the group ?\r\n","title":"Spring Kafka - How to reset offset to latest with a group id?","body":"<p>\nI am currently using Spring Integration Kafka to make real-time statistics. Though, the group name makes Kafka search all the previous values the listener didn't read.</p>\n\n<pre><code>@Value(\"${kafka.consumer.group.id}\")\nprivate String consumerGroupId;\n\n@Bean\npublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\n    return new DefaultKafkaConsumerFactory&lt;&gt;(getDefaultProperties());\n}\n\npublic Map&lt;String, Object&gt; getDefaultProperties() {\n    Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n\n    properties.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\n\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\n    return properties;\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n}\n\n@Bean\npublic KafkaMessageListener listener() {\n    return new KafkaMessageListener();\n}\n</code></pre>\n\n\n\n\n\n<p>I would like to begin to the latest offset, and not be bothered by old values. Is there a possibility to reset the offset of the group ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18709295,"reputation":41,"user_id":13639703,"display_name":"FirePizza"},"score":0,"creation_date":1635749974,"post_id":69793499,"comment_id":123368184,"body_markdown":"or is there any way to\nredirect error page for page request\nand response Object body for @ResponseBody request\n\nwhen Exception occured?","body":"or is there any way to redirect error page for page request and response Object body for @ResponseBody request  when Exception occured?"},{"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"score":0,"creation_date":1635754457,"post_id":69793499,"comment_id":123369305,"body_markdown":"Instead of the annotation maybe you could use the method name instead. https://stackoverflow.com/questions/47922306/how-to-find-controller-name-in-controlleradvice-or-restcontrolleradvice-in-spr","body":"Instead of the annotation maybe you could use the method name instead. <a href=\"https://stackoverflow.com/questions/47922306/how-to-find-controller-name-in-controlleradvice-or-restcontrolleradvice-in-spr\" title=\"how to find controller name in controlleradvice or restcontrolleradvice in spr\">stackoverflow.com/questions/47922306/&hellip;</a>"}],"owner":{"account_id":18709295,"reputation":41,"user_id":13639703,"display_name":"FirePizza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635752519,"creation_date":1635749741,"question_id":69793499,"body_markdown":"I have some code like this\r\n```java\r\n@Controller\r\nclass SomeController\r\n\r\n\r\n@GetMapping(&quot;/someAsync&quot;)\r\n@ResponseBody\r\npublic String someAsync() {\r\n    throw new SomeException();\r\n}\r\n\r\n@GetMapping(&quot;/somePage&quot;)\r\npublic String somePage() {\r\n    throw new SomeException();\r\n}\r\n\r\n```\r\n\r\n\r\nin this case, i want to redirect to default error page for &quot;/somePage&quot;\r\n\r\nand I need to response like { HttpStatus:500, message: &quot;something happened&quot; }\r\n\r\n\r\nI made this ControllerAdvice\r\n\r\n```java\r\n@ControllerAdvice\r\nclass SomeAdvice \r\n\r\n@ExceptionHandler(Exception.class)\r\n@ResponseBody\r\npublic Object handle(Exception e) {\r\n    // in this method, I want to know this Exception was called by a method that contains &quot;@ResponseBody&quot;\r\n}\r\n\r\n```\r\n\r\nCould I know the method signature like this way?","title":"how to get method signature from controlleradvice","body":"<p>I have some code like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\nclass SomeController\n\n\n@GetMapping(&quot;/someAsync&quot;)\n@ResponseBody\npublic String someAsync() {\n    throw new SomeException();\n}\n\n@GetMapping(&quot;/somePage&quot;)\npublic String somePage() {\n    throw new SomeException();\n}\n\n</code></pre>\n<p>in this case, i want to redirect to default error page for &quot;/somePage&quot;</p>\n<p>and I need to response like { HttpStatus:500, message: &quot;something happened&quot; }</p>\n<p>I made this ControllerAdvice</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\nclass SomeAdvice \n\n@ExceptionHandler(Exception.class)\n@ResponseBody\npublic Object handle(Exception e) {\n    // in this method, I want to know this Exception was called by a method that contains &quot;@ResponseBody&quot;\n}\n\n</code></pre>\n<p>Could I know the method signature like this way?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1267806207,"post_id":2386064,"comment_id":2366314,"body_markdown":"Several good ideas below. See also http://java.sun.com/docs/books/tutorial/2d/","body":"Several good ideas below. See also <a href=\"http://java.sun.com/docs/books/tutorial/2d/\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/tutorial/2d</a>"},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":0,"creation_date":1358226939,"post_id":2386064,"comment_id":19918059,"body_markdown":"Hussain: give one of these detailed answers the check","body":"Hussain: give one of these detailed answers the check"}],"answers":[{"tags":[],"owner":{"account_id":64777,"reputation":2537,"user_id":191064,"accept_rate":89,"display_name":"ultrajohn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529074289,"creation_date":1267786259,"answer_id":2386119,"question_id":2386064,"body_markdown":"You need to read about Java Image API and mouse-related API, maybe somewhere under the `java.awt.event package`. \r\n\r\nFor a start, you need to be able to load and display the image to the screen, maybe you&#39;ll use a `JPanel`. \r\n\r\nThen from there, you will try implement a mouse motion listener interface and other related interfaces. Maybe you&#39;ll get tied on the `mouseDragged` method...\r\n\r\nFor a `mousedragged` action, you will get the coordinate of the rectangle form by the drag...\r\n\r\nThen from these coordinates, you will get the subimage from the image you have and you sort of redraw it anew....\r\n\r\nAnd then display the cropped image... I don&#39;t know if this will work, just a product of my imagination... just a thought!\r\n\r\n","title":"How do I crop an image in Java?","body":"<p>You need to read about Java Image API and mouse-related API, maybe somewhere under the <code>java.awt.event package</code>. </p>\n\n<p>For a start, you need to be able to load and display the image to the screen, maybe you'll use a <code>JPanel</code>. </p>\n\n<p>Then from there, you will try implement a mouse motion listener interface and other related interfaces. Maybe you'll get tied on the <code>mouseDragged</code> method...</p>\n\n<p>For a <code>mousedragged</code> action, you will get the coordinate of the rectangle form by the drag...</p>\n\n<p>Then from these coordinates, you will get the subimage from the image you have and you sort of redraw it anew....</p>\n\n<p>And then display the cropped image... I don't know if this will work, just a product of my imagination... just a thought!</p>\n"},{"tags":[],"owner":{"account_id":92183,"reputation":9849,"user_id":252736,"accept_rate":79,"display_name":"Maurits Rijk"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1267786270,"creation_date":1267786270,"answer_id":2386122,"question_id":2386064,"body_markdown":"This question has not enough information to answer. A general solution (depending on your GUI framework): add a mouse event handler that will catch clicks and mouse movements. This will give you your (x, y) coordinates. Next use these coordinates to crop your image.","title":"How do I crop an image in Java?","body":"<p>This question has not enough information to answer. A general solution (depending on your GUI framework): add a mouse event handler that will catch clicks and mouse movements. This will give you your (x, y) coordinates. Next use these coordinates to crop your image.</p>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1525152831,"creation_date":1267790556,"answer_id":2386495,"question_id":2386064,"body_markdown":"This is a method which will work:\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n\r\n    public BufferedImage crop(BufferedImage src, Rectangle rect)\r\n    {\r\n        BufferedImage dest = new BufferedImage(rect.getWidth(), rect.getHeight(), BufferedImage.TYPE_ARGB_PRE);\r\n        Graphics g = dest.getGraphics();\r\n        g.drawImage(src, 0, 0, rect.getWidth(), rect.getHeight(), rect.getX(), rect.getY(), rect.getX() + rect.getWidth(), rect.getY() + rect.getHeight(), null);\r\n        g.dispose();\r\n        return dest;\r\n    }\r\n\r\n\r\nOf course you have to make your own JComponent:\r\n\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Graphics;\r\n    import javax.swing.JComponent;\r\n\r\n    public class JImageCropComponent extends JComponent implements MouseListener, MouseMotionListener\r\n    {\r\n       private BufferedImage img;\r\n       private int x1, y1, x2, y2;\r\n    \r\n       public JImageCropComponent(BufferedImage img)\r\n       {\r\n           this.img = img;\r\n           this.addMouseListener(this);\r\n           this.addMouseMotionListener(this);\r\n       }\r\n    \r\n       public void setImage(BufferedImage img)\r\n       {\r\n           this.img = img;\r\n       }\r\n    \r\n       public BufferedImage getImage()\r\n       {\r\n           return this;\r\n       }\r\n    \r\n       @Override\r\n       public void paintComponent(Graphics g)\r\n       {\r\n          g.drawImage(img, 0, 0, this);\r\n          if (cropping)\r\n          {\r\n              // Paint the area we are going to crop.\r\n              g.setColor(Color.RED);\r\n              g.drawRect(Math.min(x1, x2), Math.min(y1, y2), Math.max(x1, x2), Math.max(y1, y2));\r\n          }\r\n       }\r\n    \r\n       @Override\r\n       public void mousePressed(MouseEvent evt)\r\n       {\r\n           this.x1 = evt.getX();\r\n           this.y1 = evt.getY();\r\n       }\r\n    \r\n       @Override\r\n       public void mouseReleased(MouseEvent evt)\r\n       {\r\n           this.cropping = false;\r\n           // Now we crop the image;\r\n           // This is the method a wrote in the other snipped\r\n           BufferedImage cropped = crop(new Rectangle(Math.min(x1, x2), Math.min(y1, y2), Math.max(x1, x2), Math.max(y1, y2));\r\n           // Now you have the cropped image;\r\n           // You have to choose what you want to do with it\r\n           this.img = cropped;\r\n       }\r\n    \r\n       @Override\r\n       public void mouseDragged(MouseEvent evt)\r\n       {\r\n           cropping = true;\r\n           this.x2 = evt.getX();\r\n           this.y2 = evt.getY();\r\n       }\r\n    \r\n       //TODO: Implement the other unused methods from Mouse(Motion)Listener\r\n    \r\n    }\r\n\r\nI didn&#39;t test it. Maybe there are some mistakes (I&#39;m not sure about all the imports).&lt;br&gt;\r\n\r\nYou can put the `crop(img, rect)` method in this class.\r\nHope this helps.","title":"How do I crop an image in Java?","body":"<p>This is a method which will work:</p>\n\n<pre><code>import java.awt.image.BufferedImage;\nimport java.awt.Rectangle;\nimport java.awt.Color;\nimport java.awt.Graphics;\n\npublic BufferedImage crop(BufferedImage src, Rectangle rect)\n{\n    BufferedImage dest = new BufferedImage(rect.getWidth(), rect.getHeight(), BufferedImage.TYPE_ARGB_PRE);\n    Graphics g = dest.getGraphics();\n    g.drawImage(src, 0, 0, rect.getWidth(), rect.getHeight(), rect.getX(), rect.getY(), rect.getX() + rect.getWidth(), rect.getY() + rect.getHeight(), null);\n    g.dispose();\n    return dest;\n}\n</code></pre>\n\n<p>Of course you have to make your own JComponent:</p>\n\n<pre><code>import java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.image.BufferedImage;\nimport java.awt.Rectangle;\nimport java.awt.Graphics;\nimport javax.swing.JComponent;\n\npublic class JImageCropComponent extends JComponent implements MouseListener, MouseMotionListener\n{\n   private BufferedImage img;\n   private int x1, y1, x2, y2;\n\n   public JImageCropComponent(BufferedImage img)\n   {\n       this.img = img;\n       this.addMouseListener(this);\n       this.addMouseMotionListener(this);\n   }\n\n   public void setImage(BufferedImage img)\n   {\n       this.img = img;\n   }\n\n   public BufferedImage getImage()\n   {\n       return this;\n   }\n\n   @Override\n   public void paintComponent(Graphics g)\n   {\n      g.drawImage(img, 0, 0, this);\n      if (cropping)\n      {\n          // Paint the area we are going to crop.\n          g.setColor(Color.RED);\n          g.drawRect(Math.min(x1, x2), Math.min(y1, y2), Math.max(x1, x2), Math.max(y1, y2));\n      }\n   }\n\n   @Override\n   public void mousePressed(MouseEvent evt)\n   {\n       this.x1 = evt.getX();\n       this.y1 = evt.getY();\n   }\n\n   @Override\n   public void mouseReleased(MouseEvent evt)\n   {\n       this.cropping = false;\n       // Now we crop the image;\n       // This is the method a wrote in the other snipped\n       BufferedImage cropped = crop(new Rectangle(Math.min(x1, x2), Math.min(y1, y2), Math.max(x1, x2), Math.max(y1, y2));\n       // Now you have the cropped image;\n       // You have to choose what you want to do with it\n       this.img = cropped;\n   }\n\n   @Override\n   public void mouseDragged(MouseEvent evt)\n   {\n       cropping = true;\n       this.x2 = evt.getX();\n       this.y2 = evt.getY();\n   }\n\n   //TODO: Implement the other unused methods from Mouse(Motion)Listener\n\n}\n</code></pre>\n\n<p>I didn't test it. Maybe there are some mistakes (I'm not sure about all the imports).<br></p>\n\n<p>You can put the <code>crop(img, rect)</code> method in this class.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":701234,"reputation":1719,"user_id":592536,"display_name":"codehead"},"down_vote_count":1,"up_vote_count":172,"is_accepted":false,"score":171,"last_activity_date":1421076271,"creation_date":1296145666,"answer_id":4818980,"question_id":2386064,"body_markdown":"The solution I found most useful for cropping a buffered image uses the getSubImage(x,y,w,h);\r\n\r\nMy cropping routine ended up looking like this: \r\n\r\n      private BufferedImage cropImage(BufferedImage src, Rectangle rect) {\r\n          BufferedImage dest = src.getSubimage(0, 0, rect.width, rect.height);\r\n          return dest; \r\n       }\r\n","title":"How do I crop an image in Java?","body":"<p>The solution I found most useful for cropping a buffered image uses the getSubImage(x,y,w,h);</p>\n\n<p>My cropping routine ended up looking like this: </p>\n\n<pre><code>  private BufferedImage cropImage(BufferedImage src, Rectangle rect) {\n      BufferedImage dest = src.getSubimage(0, 0, rect.width, rect.height);\n      return dest; \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2751874,"reputation":757,"user_id":2371083,"accept_rate":68,"display_name":"Joshua Zollinger"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1399753201,"creation_date":1399753201,"answer_id":23585894,"question_id":2386064,"body_markdown":"There are two potentially major problem with the leading answer to this question. First, as per the docs: \r\n\r\n  &gt;  public BufferedImage getSubimage(int x,\r\n                        int y,\r\n                        int w,\r\n                        int h)\r\n\r\n&gt;    Returns a subimage defined by a specified rectangular region. \r\n&gt; **The returned BufferedImage shares the same data array as the original\r\n&gt; image.**\r\n\r\n\r\nEssentially, what this means is that result from getSubimage acts as a pointer which points at a subsection of the original image.\r\n\r\nWhy is this important? Well, if you are planning to edit the subimage for any reason, the edits will also happen to the original image. For example, I ran into this problem when I was using the smaller image in a separate window to zoom in on the original image. (kind of like a magnifying glass). I made it possible to invert the colors to see certain details more easily, but the area that was &quot;zoomed&quot; also got inverted in the original image! So there was a small section of the original image that had inverted colors while the rest of it remained normal. In many cases, this won&#39;t matter, but if you want to edit the image, or if you just want a copy of the cropped section, you might want to consider a method.\r\n\r\nWhich brings us to the second problem. Fortunately, it is not as big a problem as the first. getSubImage shares the same data array as the original image. That means that the entire original image is still stored in memory. Assuming that by &quot;crop&quot; the image you actually want a smaller image, you will need to redraw it as a new image rather than just get the subimage.\r\n\r\nTry this:\r\n\r\n    BufferedImage img = image.getSubimage(startX, startY, endX, endY); //fill in the corners of the desired crop location here\r\n    BufferedImage copyOfImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_RGB);\r\n\tGraphics g = copyOfImage.createGraphics();\r\n\tg.drawImage(img, 0, 0, null);\r\n\treturn copyOfImage; //or use it however you want\r\n\r\nThis technique will give you the cropped image you are looking for by itself, without the link back to the original image. This will preserve the integrity of the original image as well as save you the memory overhead of storing the larger image. (If you do dump the original image later)","title":"How do I crop an image in Java?","body":"<p>There are two potentially major problem with the leading answer to this question. First, as per the docs: </p>\n\n<blockquote>\n  <p>public BufferedImage getSubimage(int x,\n                          int y,\n                          int w,\n                          int h)</p>\n  \n  <p>Returns a subimage defined by a specified rectangular region. \n  <strong>The returned BufferedImage shares the same data array as the original\n  image.</strong></p>\n</blockquote>\n\n<p>Essentially, what this means is that result from getSubimage acts as a pointer which points at a subsection of the original image.</p>\n\n<p>Why is this important? Well, if you are planning to edit the subimage for any reason, the edits will also happen to the original image. For example, I ran into this problem when I was using the smaller image in a separate window to zoom in on the original image. (kind of like a magnifying glass). I made it possible to invert the colors to see certain details more easily, but the area that was \"zoomed\" also got inverted in the original image! So there was a small section of the original image that had inverted colors while the rest of it remained normal. In many cases, this won't matter, but if you want to edit the image, or if you just want a copy of the cropped section, you might want to consider a method.</p>\n\n<p>Which brings us to the second problem. Fortunately, it is not as big a problem as the first. getSubImage shares the same data array as the original image. That means that the entire original image is still stored in memory. Assuming that by \"crop\" the image you actually want a smaller image, you will need to redraw it as a new image rather than just get the subimage.</p>\n\n<p>Try this:</p>\n\n<pre><code>BufferedImage img = image.getSubimage(startX, startY, endX, endY); //fill in the corners of the desired crop location here\nBufferedImage copyOfImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_RGB);\nGraphics g = copyOfImage.createGraphics();\ng.drawImage(img, 0, 0, null);\nreturn copyOfImage; //or use it however you want\n</code></pre>\n\n<p>This technique will give you the cropped image you are looking for by itself, without the link back to the original image. This will preserve the integrity of the original image as well as save you the memory overhead of storing the larger image. (If you do dump the original image later)</p>\n"},{"tags":[],"owner":{"account_id":5229654,"reputation":606,"user_id":4180464,"display_name":"Pankaj Mandale"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1635751827,"creation_date":1453123499,"answer_id":34855858,"question_id":2386064,"body_markdown":"    File fileToWrite = new File(filePath, &quot;url&quot;);\r\n\r\n    BufferedImage bufferedImage = cropImage(fileToWrite, x, y, w, h);\r\n\r\n    private BufferedImage cropImage(File filePath, int x, int y, int w, int h){\r\n\t\t\r\n\t\ttry {\r\n\t\t\tBufferedImage originalImgage = ImageIO.read(filePath);\r\n\t\t\t\r\n\t\t\tBufferedImage subImgage = originalImgage.getSubimage(x, y, w, h);\t\t\t\r\n\t\t\treturn subImgage;\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}","title":"How do I crop an image in Java?","body":"<pre><code>File fileToWrite = new File(filePath, &quot;url&quot;);\n\nBufferedImage bufferedImage = cropImage(fileToWrite, x, y, w, h);\n\nprivate BufferedImage cropImage(File filePath, int x, int y, int w, int h){\n    \n    try {\n        BufferedImage originalImgage = ImageIO.read(filePath);\n        \n        BufferedImage subImgage = originalImgage.getSubimage(x, y, w, h);           \n        return subImgage;\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2038913,"reputation":4421,"user_id":1820583,"accept_rate":84,"display_name":"Eduardo Briguenti Vieira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552050368,"creation_date":1535923178,"answer_id":52141118,"question_id":2386064,"body_markdown":"I&#39;m giving this example because this actually work for my use case.\r\n\r\nI was trying to use the **AWS Rekognition API**.\r\nThe API returns a BoundingBox object:\r\n\r\n    BoundingBox boundingBox = faceDetail.getBoundingBox();\r\n\r\n\r\nThe code below uses it to crop the image:\r\n\r\n\r\n\r\n    import com.amazonaws.services.rekognition.model.BoundingBox;\r\n\r\n    private BufferedImage cropImage(BufferedImage image, BoundingBox box) {\r\n    \t\tRectangle goal = new Rectangle(Math.round(box.getLeft()* image.getWidth()),Math.round(box.getTop()* image.getHeight()),Math.round(box.getWidth() * image.getWidth()), Math.round(box.getHeight() * image.getHeight()));\r\n    \r\n    \t\tRectangle clip = goal.intersection(new Rectangle(image.getWidth(), image.getHeight()));\r\n    \t\t\r\n    \t\tBufferedImage clippedImg = image.getSubimage(clip.x, clip.y , clip.width, clip.height);\r\n    \t\t\r\n    \t\treturn clippedImg;\r\n    \t}","title":"How do I crop an image in Java?","body":"<p>I'm giving this example because this actually work for my use case.</p>\n\n<p>I was trying to use the <strong>AWS Rekognition API</strong>.\nThe API returns a BoundingBox object:</p>\n\n<pre><code>BoundingBox boundingBox = faceDetail.getBoundingBox();\n</code></pre>\n\n<p>The code below uses it to crop the image:</p>\n\n<pre><code>import com.amazonaws.services.rekognition.model.BoundingBox;\n\nprivate BufferedImage cropImage(BufferedImage image, BoundingBox box) {\n        Rectangle goal = new Rectangle(Math.round(box.getLeft()* image.getWidth()),Math.round(box.getTop()* image.getHeight()),Math.round(box.getWidth() * image.getWidth()), Math.round(box.getHeight() * image.getHeight()));\n\n        Rectangle clip = goal.intersection(new Rectangle(image.getWidth(), image.getHeight()));\n\n        BufferedImage clippedImg = image.getSubimage(clip.x, clip.y , clip.width, clip.height);\n\n        return clippedImg;\n    }\n</code></pre>\n"}],"owner":{"account_id":106754,"reputation":927,"user_id":284253,"accept_rate":35,"display_name":"Hussain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133066,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"answer_count":7,"score":83,"last_activity_date":1635751827,"creation_date":1267785780,"question_id":2386064,"body_markdown":"I want to crop an image manually using the mouse.  \r\nSuppose the image has some text, and I want to select some text from an image, then \r\nfor that purpose I want to crop that area by using the mouse. ","title":"How do I crop an image in Java?","body":"<p>I want to crop an image manually using the mouse.<br>\nSuppose the image has some text, and I want to select some text from an image, then \nfor that purpose I want to crop that area by using the mouse. </p>\n"},{"tags":["java","spring","spring-boot","command-line-interface","converters"],"comments":[{"owner":{"account_id":609731,"reputation":444,"user_id":332319,"accept_rate":67,"display_name":"Kjeld"},"score":0,"creation_date":1633380435,"post_id":66207963,"comment_id":122740219,"body_markdown":"Have you ever found a solution for this?","body":"Have you ever found a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":7632635,"reputation":463,"user_id":5787185,"accept_rate":22,"display_name":"Thanh Nhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635751632,"creation_date":1635751632,"answer_id":69793772,"question_id":66207963,"body_markdown":"`Converter` seems to only work on properties bound to a `ConfigurationProperties`, but not `@Value`.\r\n\r\nThis works for me:\r\n\r\n```java\r\npublic enum OSFamily { }\r\n\r\n@Component\r\n@ConfigurationPropertiesBinding\r\npublic class OSFamilyConverter implements Converter&lt;String, OSFamily&gt; { }\r\n\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;system&quot;)\r\n@Getter @Setter\r\nclass SystemProperties{\r\n    private OSFamily ais;\r\n    private OSFamily db;\r\n    private OSFamily rcm;\r\n}\r\n\r\n...\r\n// Then inject normally\r\n@Autowired\r\nMyConfigProperties systemProperties;\r\n\r\n```","title":"How register custom Converter in Spring Boot CLI application","body":"<p><code>Converter</code> seems to only work on properties bound to a <code>ConfigurationProperties</code>, but not <code>@Value</code>.</p>\n<p>This works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum OSFamily { }\n\n@Component\n@ConfigurationPropertiesBinding\npublic class OSFamilyConverter implements Converter&lt;String, OSFamily&gt; { }\n\n@Component\n@ConfigurationProperties(prefix = &quot;system&quot;)\n@Getter @Setter\nclass SystemProperties{\n    private OSFamily ais;\n    private OSFamily db;\n    private OSFamily rcm;\n}\n\n...\n// Then inject normally\n@Autowired\nMyConfigProperties systemProperties;\n\n</code></pre>\n"}],"owner":{"account_id":5604414,"reputation":1,"user_id":4439536,"display_name":"Luigy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635751632,"creation_date":1613391821,"question_id":66207963,"body_markdown":"I would like register in my **spring boot command line app custom spring Converter** but i can&#39;t solve it. Each solution what I found are for spring boot web app. I think it has to be somehow possible.\r\n\r\nMy application is configured via property file. For loading property file into app we use spring run argument **--spring.config.location** with value path to our property file.\r\n\r\nFor easier usage in app I would like use enums for some properties. If user use in property value which isn’t supported by Enum class. App will throw exception\r\n```\r\nCaused by: java.lang.IllegalArgumentException: No enum constant com.actimize.amlperfreport.enums.OSFamily.window\r\n\tat org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.findEnum(LenientObjectToEnumConverterFactory.java:93)\r\n\tat org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.convert(LenientObjectToEnumConverterFactory.java:80)\r\n\tat org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.convert(LenientObjectToEnumConverterFactory.java:61)\r\n\tat org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:436)\r\n\tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\r\n\t... 107 common frames omitted\r\n```\r\n\r\nIt isn&#39;t user friendly. I would like use custom Converter for validate input values from property file before convert to enum, log my custom log message and set default value for errors.\r\n\r\nPart of my property file for example:\r\n\r\n```\r\nais.system.environment=windows\r\ndb.system.environment=windows\r\nrcm.system.environment=unix\r\ndb.server.type=mssql\r\n...\r\n```\r\n\r\nClass for store values from property file in app:\r\n```\r\n@Slf4j\r\n@Getter\r\n@Setter\r\n@Configuration\r\npublic class ExecutionTemplate {\r\n\r\n    @Value(&quot;#{&#39;${ais.system.environment}&#39;.toLowerCase()}&quot;)\r\n    private OSFamily environmentAIS;\r\n...\r\n```\r\nCustom Converter:\r\n\r\n```\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.core.convert.converter.Converter;\r\n\r\n@Slf4j\r\npublic class OSFamilyConverter implements Converter&lt;String,OSFamily&gt; {\r\n    @Override\r\n    public OSFamily convert(String source) {\r\n        if(OSFamily.WINDOWS.getType().equals(source)){\r\n            return OSFamily.WINDOWS;\r\n        } else if(OSFamily.UNIX.getType().equals(source)){\r\n            return OSFamily.UNIX;\r\n        }\r\n        log.error(&quot;[{}] isn&#39;t between supported operation system. App will use as operation system [{}]. Supporter operation systems are [{},{}].&quot;,\r\n                source,OSFamily.UNIX.getType(),OSFamily.UNIX.getType(),OSFamily.WINDOWS.getType());\r\n        return OSFamily.UNIX;\r\n    }\r\n}\r\n```\r\n\r\nMain class:\r\n\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@SpringBootApplication\r\npublic class AmlPerfReportApplication implements CommandLineRunner {\r\n\r\n    private final ApplicationContext context;\r\n    private final OrchestratorService orchestratorService;\r\n    private final Messenger messenger;\r\n    private JCommander jCommander;\r\n\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication app = new SpringApplication(AmlPerfReportApplication.class);\r\n\r\n        app.setBannerMode(Banner.Mode.LOG);\r\n        app.run(args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        Args arguments = new Args();\r\n...\r\n```\r\nIf i am right custom converter has to be register in main method before call run method. But i don&#39;t know how.\r\n\r\nMy app doesn&#39;t have web interface i can&#39;t use method **addFormatter** from **WebMvcConfigurer** https://stackoverflow.com/questions/34239585/how-to-register-custom-converters-in-spring-boot\r\n\r\nCould you please help me?\r\n\r\n\r\n","title":"How register custom Converter in Spring Boot CLI application","body":"<p>I would like register in my <strong>spring boot command line app custom spring Converter</strong> but i can't solve it. Each solution what I found are for spring boot web app. I think it has to be somehow possible.</p>\n<p>My application is configured via property file. For loading property file into app we use spring run argument <strong>--spring.config.location</strong> with value path to our property file.</p>\n<p>For easier usage in app I would like use enums for some properties. If user use in property value which isn’t supported by Enum class. App will throw exception</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: No enum constant com.actimize.amlperfreport.enums.OSFamily.window\n    at org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.findEnum(LenientObjectToEnumConverterFactory.java:93)\n    at org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.convert(LenientObjectToEnumConverterFactory.java:80)\n    at org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.convert(LenientObjectToEnumConverterFactory.java:61)\n    at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:436)\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\n    ... 107 common frames omitted\n</code></pre>\n<p>It isn't user friendly. I would like use custom Converter for validate input values from property file before convert to enum, log my custom log message and set default value for errors.</p>\n<p>Part of my property file for example:</p>\n<pre><code>ais.system.environment=windows\ndb.system.environment=windows\nrcm.system.environment=unix\ndb.server.type=mssql\n...\n</code></pre>\n<p>Class for store values from property file in app:</p>\n<pre><code>@Slf4j\n@Getter\n@Setter\n@Configuration\npublic class ExecutionTemplate {\n\n    @Value(&quot;#{'${ais.system.environment}'.toLowerCase()}&quot;)\n    private OSFamily environmentAIS;\n...\n</code></pre>\n<p>Custom Converter:</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.core.convert.converter.Converter;\n\n@Slf4j\npublic class OSFamilyConverter implements Converter&lt;String,OSFamily&gt; {\n    @Override\n    public OSFamily convert(String source) {\n        if(OSFamily.WINDOWS.getType().equals(source)){\n            return OSFamily.WINDOWS;\n        } else if(OSFamily.UNIX.getType().equals(source)){\n            return OSFamily.UNIX;\n        }\n        log.error(&quot;[{}] isn't between supported operation system. App will use as operation system [{}]. Supporter operation systems are [{},{}].&quot;,\n                source,OSFamily.UNIX.getType(),OSFamily.UNIX.getType(),OSFamily.WINDOWS.getType());\n        return OSFamily.UNIX;\n    }\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@SpringBootApplication\npublic class AmlPerfReportApplication implements CommandLineRunner {\n\n    private final ApplicationContext context;\n    private final OrchestratorService orchestratorService;\n    private final Messenger messenger;\n    private JCommander jCommander;\n\n\n    public static void main(String[] args) {\n        SpringApplication app = new SpringApplication(AmlPerfReportApplication.class);\n\n        app.setBannerMode(Banner.Mode.LOG);\n        app.run(args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        Args arguments = new Args();\n...\n</code></pre>\n<p>If i am right custom converter has to be register in main method before call run method. But i don't know how.</p>\n<p>My app doesn't have web interface i can't use method <strong>addFormatter</strong> from <strong>WebMvcConfigurer</strong> <a href=\"https://stackoverflow.com/questions/34239585/how-to-register-custom-converters-in-spring-boot\">How to register custom converters in spring boot?</a></p>\n<p>Could you please help me?</p>\n"},{"tags":["java","android","testing","android-espresso"],"owner":{"account_id":17351394,"reputation":41,"user_id":12569818,"display_name":"mehdi dehghani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635751221,"creation_date":1635596670,"question_id":69779602,"body_markdown":"I&#39;m Working with espresso test for my project. Inside one of my methods Allow some permissions for test and in next method I have to revoke The same permissions for The rest of the tests, but when test is run it arrive to this method for revoke permissions The test is done . I use revoke permissions in @BeforeClass and @AfterClass But there is no problem in these parts.\r\n\r\nThanks if anyone can help.\r\n\r\nhere is my code:\r\n\r\n    @Test\r\n    public void test4clickAllowLocation() {\r\n        context = getInstrumentation().getContext();\r\n        onView(withId(R.id.location_switch)).perform(scrollTo()).perform(click());\r\n        onView(isRoot()).perform(waitFor(3000));\r\n        onView(withId(R.id.second_Btn)).inRoot(isDialog()).perform(click());\r\n        allowPermissionsJustOne(&quot;ALLOW&quot;, &quot;Allow&quot;, &quot;Allow only while using the app&quot;);\r\n        PurpleLabeledSwitch purpleLabeledSwitch = new PurpleLabeledSwitch(context);\r\n        purpleLabeledSwitch.findViewById(R.id.location_switch);\r\n        purpleLabeledSwitch.setOn(true);\r\n        assertTrue(purpleLabeledSwitch.isOn());\r\n        onView(isRoot()).perform(waitFor(3000));\r\n        onView(withId(R.id.location_image_view))\r\n                .check(matches(withEffectiveVisibility(ViewMatchers.Visibility.VISIBLE)));\r\n        onView(withId(R.id.location_image_view))\r\n                .check(matches(withDrawable(R.drawable.ic_right_arrow_green)));\r\n    }\r\n  \r\n\r\n     @Test\r\n        public void test5revokePermission()  {\r\n            UiDevice mDevice = UiDevice.getInstance(InstrumentationRegistry.getInstrumentation());\r\n            mDevice.pressHome();\r\n            revokePermission();\r\n        }\r\n\r\n    public static void revokePermission() {\r\n            InstrumentationRegistry.getInstrumentation().getUiAutomation().\r\n                    executeShellCommand(&quot;pm revoke &quot; + getInstrumentation().getTargetContext()\r\n                    .getPackageName() + &quot; android.permission.ACCESS_FINE_LOCATION&quot;);\r\n            InstrumentationRegistry.getInstrumentation().getUiAutomation().\r\n                    executeShellCommand(&quot;pm revoke &quot; + getInstrumentation().getTargetContext()\r\n                           .getPackageName() + &quot; android.permission.ACCESS_COARSE_LOCATION&quot;);\r\n        }\r\n\r\n","title":"revoke permission in espresso test in @Test","body":"<p>I'm Working with espresso test for my project. Inside one of my methods Allow some permissions for test and in next method I have to revoke The same permissions for The rest of the tests, but when test is run it arrive to this method for revoke permissions The test is done . I use revoke permissions in @BeforeClass and @AfterClass But there is no problem in these parts.</p>\n<p>Thanks if anyone can help.</p>\n<p>here is my code:</p>\n<pre><code>@Test\npublic void test4clickAllowLocation() {\n    context = getInstrumentation().getContext();\n    onView(withId(R.id.location_switch)).perform(scrollTo()).perform(click());\n    onView(isRoot()).perform(waitFor(3000));\n    onView(withId(R.id.second_Btn)).inRoot(isDialog()).perform(click());\n    allowPermissionsJustOne(&quot;ALLOW&quot;, &quot;Allow&quot;, &quot;Allow only while using the app&quot;);\n    PurpleLabeledSwitch purpleLabeledSwitch = new PurpleLabeledSwitch(context);\n    purpleLabeledSwitch.findViewById(R.id.location_switch);\n    purpleLabeledSwitch.setOn(true);\n    assertTrue(purpleLabeledSwitch.isOn());\n    onView(isRoot()).perform(waitFor(3000));\n    onView(withId(R.id.location_image_view))\n            .check(matches(withEffectiveVisibility(ViewMatchers.Visibility.VISIBLE)));\n    onView(withId(R.id.location_image_view))\n            .check(matches(withDrawable(R.drawable.ic_right_arrow_green)));\n}\n\n\n @Test\n    public void test5revokePermission()  {\n        UiDevice mDevice = UiDevice.getInstance(InstrumentationRegistry.getInstrumentation());\n        mDevice.pressHome();\n        revokePermission();\n    }\n\npublic static void revokePermission() {\n        InstrumentationRegistry.getInstrumentation().getUiAutomation().\n                executeShellCommand(&quot;pm revoke &quot; + getInstrumentation().getTargetContext()\n                .getPackageName() + &quot; android.permission.ACCESS_FINE_LOCATION&quot;);\n        InstrumentationRegistry.getInstrumentation().getUiAutomation().\n                executeShellCommand(&quot;pm revoke &quot; + getInstrumentation().getTargetContext()\n                       .getPackageName() + &quot; android.permission.ACCESS_COARSE_LOCATION&quot;);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":15732752,"reputation":281,"user_id":11352672,"display_name":"Avik Kesari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635747349,"creation_date":1635747349,"answer_id":69793216,"question_id":69793034,"body_markdown":"Your cron looks a bit off. @Scheduled spring uses [Spring Cron][1]. \r\n\r\n[![Format of spring cron][2]][2]\r\n\r\nYour cron expression should be \r\n\r\n**Midnight:** `&quot;0 0 0 * * *&quot;`. You can also use `@midnight` here.\r\n\r\n**3AM:** `&quot;0 0 3 * * *&quot;`\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html\r\n  [2]: https://i.stack.imgur.com/lVnpU.png","title":"Spring Boot @Scheduled&#39;s cron job doesn&#39;t work properly when created two jobs","body":"<p>Your cron looks a bit off. @Scheduled spring uses <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html\" rel=\"nofollow noreferrer\">Spring Cron</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/lVnpU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lVnpU.png\" alt=\"Format of spring cron\" /></a></p>\n<p>Your cron expression should be</p>\n<p><strong>Midnight:</strong> <code>&quot;0 0 0 * * *&quot;</code>. You can also use <code>@midnight</code> here.</p>\n<p><strong>3AM:</strong> <code>&quot;0 0 3 * * *&quot;</code></p>\n"}],"owner":{"account_id":23202398,"reputation":1,"user_id":17297031,"display_name":"Yoshihito Koyama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635750865,"creation_date":1635745440,"question_id":69793034,"body_markdown":"### What I want to do\r\n\r\nI am creating two batch processes using @Scheduled function of Spring Boot by kotlin.\r\n\r\n1. batch to retrieve data running at 00:00 a.m. (Japan time) every day\r\n2. batch to integrate data running at 03:00 a.m. (Japan time) every day\r\n\r\n### Problems\r\n\r\nI was able to confirm from the log that the batch executed at 00:00 worked correctly, but I was unable to confirm the execution of batch 2.\r\n\r\n## The source code in question\r\n\r\nThe following is the application code.\r\n```\r\n@Service\r\nclass ScheduledTaskService {\r\n\r\n    @Scheduled(cron = &quot;\\${task.fetch-data.cron}&quot;, zone = &quot;\\${task.fetch-data.zone}&quot;)\r\n    fun fetchData() {\r\n        println(&quot;The time is now &quot; + ZonedDateTime.now(ZoneId.of(&quot;Asia/Tokyo&quot;)).toString())\r\n        println(&quot;start to fetch data&quot;)\r\n    }\r\n\r\n    @Scheduled(cron = &quot;\\${task.integrate-data.cron}&quot;, zone = &quot;\\${task.integrate-data.zone}&quot;)\r\n    fun integrateData() {\r\n        println(&quot;The time is now &quot; + ZonedDateTime.now(ZoneId.of(&quot;Asia/Tokyo&quot;)).toString())\r\n        println(&quot;start to integrate data&quot;)\r\n    }\r\n}\r\n```\r\n\r\nThe following is the application.yml\r\n```\r\ntask:\r\n  fetch-data:\r\n    cron: ${TASK_FETCH_DATA_CRON:0 0 0 * * *}\r\n    zone: ${TASK_FETCH_DATA_ZONE:Asia/Tokyo}\r\n  integrate-data:\r\n    cron: ${TASK_INTEGRATE_DATA_CRON:0 0 3 * * *}\r\n    zone: ${TASK_INTEGRATE_DATA_ZONE:Asia/Tokyo}\r\n````\r\n\r\nI also added `@EnableScheduling` to the main class.\r\n```\r\n@SpringBootApplication\r\n@EnableTransactionManagement\r\n@ConfigurationPropertiesScan\r\n@EnableScheduling\r\nclass APIApplication(private val apiConfig: APIConfig) : ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n...\r\n```\r\n\r\n### Things I tried\r\n\r\n#### Verified at different times\r\nBatch 1: 11:00 AM\r\n\r\nBatch 2: 12:00 PM\r\n\r\nResult: **batch 1 worked, batch 2 did not**.\r\n\r\n#### Set the execution timing of 2 to 1 minute after 1\r\nBatch 1: 12:20 PM\r\n\r\nBatch 2: 12:21 PM\r\n\r\nResult: **both 1 and 2 worked**.\r\n\r\n#### Change the execution timing of 1 and 2 to 2-&gt;1 order\r\nBatch 1: 14:30 PM\r\n\r\nBatch 2: 14:05 PM\r\n\r\nResult: **batch 2 worked, batch 1 did not**.\r\n\r\nI am currently investigating the possibility that the results may vary depending on the time between when the server is started and when the batch is executed.\r\n\r\nIf you have any ideas, I&#39;d love to hear them.\r\n\r\n### Additional information (FW/tool version, etc.)\r\n- PC: macOS Big Sur 2.5GHz quad-core Intel Core i7 with 16GM memory\r\n- Project SDK: Java 11 (Amazon correto)\r\n- Spring Boot version: 2.2.4.RELEASE\r\n- Editor: IntelliJ","title":"Spring Boot @Scheduled&#39;s cron job doesn&#39;t work properly when created two jobs","body":"<h3>What I want to do</h3>\n<p>I am creating two batch processes using @Scheduled function of Spring Boot by kotlin.</p>\n<ol>\n<li>batch to retrieve data running at 00:00 a.m. (Japan time) every day</li>\n<li>batch to integrate data running at 03:00 a.m. (Japan time) every day</li>\n</ol>\n<h3>Problems</h3>\n<p>I was able to confirm from the log that the batch executed at 00:00 worked correctly, but I was unable to confirm the execution of batch 2.</p>\n<h2>The source code in question</h2>\n<p>The following is the application code.</p>\n<pre><code>@Service\nclass ScheduledTaskService {\n\n    @Scheduled(cron = &quot;\\${task.fetch-data.cron}&quot;, zone = &quot;\\${task.fetch-data.zone}&quot;)\n    fun fetchData() {\n        println(&quot;The time is now &quot; + ZonedDateTime.now(ZoneId.of(&quot;Asia/Tokyo&quot;)).toString())\n        println(&quot;start to fetch data&quot;)\n    }\n\n    @Scheduled(cron = &quot;\\${task.integrate-data.cron}&quot;, zone = &quot;\\${task.integrate-data.zone}&quot;)\n    fun integrateData() {\n        println(&quot;The time is now &quot; + ZonedDateTime.now(ZoneId.of(&quot;Asia/Tokyo&quot;)).toString())\n        println(&quot;start to integrate data&quot;)\n    }\n}\n</code></pre>\n<p>The following is the application.yml</p>\n<pre><code>task:\n  fetch-data:\n    cron: ${TASK_FETCH_DATA_CRON:0 0 0 * * *}\n    zone: ${TASK_FETCH_DATA_ZONE:Asia/Tokyo}\n  integrate-data:\n    cron: ${TASK_INTEGRATE_DATA_CRON:0 0 3 * * *}\n    zone: ${TASK_INTEGRATE_DATA_ZONE:Asia/Tokyo}\n</code></pre>\n<p>I also added <code>@EnableScheduling</code> to the main class.</p>\n<pre><code>@SpringBootApplication\n@EnableTransactionManagement\n@ConfigurationPropertiesScan\n@EnableScheduling\nclass APIApplication(private val apiConfig: APIConfig) : ApplicationListener&lt;ApplicationReadyEvent&gt; {\n...\n</code></pre>\n<h3>Things I tried</h3>\n<h4>Verified at different times</h4>\n<p>Batch 1: 11:00 AM</p>\n<p>Batch 2: 12:00 PM</p>\n<p>Result: <strong>batch 1 worked, batch 2 did not</strong>.</p>\n<h4>Set the execution timing of 2 to 1 minute after 1</h4>\n<p>Batch 1: 12:20 PM</p>\n<p>Batch 2: 12:21 PM</p>\n<p>Result: <strong>both 1 and 2 worked</strong>.</p>\n<h4>Change the execution timing of 1 and 2 to 2-&gt;1 order</h4>\n<p>Batch 1: 14:30 PM</p>\n<p>Batch 2: 14:05 PM</p>\n<p>Result: <strong>batch 2 worked, batch 1 did not</strong>.</p>\n<p>I am currently investigating the possibility that the results may vary depending on the time between when the server is started and when the batch is executed.</p>\n<p>If you have any ideas, I'd love to hear them.</p>\n<h3>Additional information (FW/tool version, etc.)</h3>\n<ul>\n<li>PC: macOS Big Sur 2.5GHz quad-core Intel Core i7 with 16GM memory</li>\n<li>Project SDK: Java 11 (Amazon correto)</li>\n<li>Spring Boot version: 2.2.4.RELEASE</li>\n<li>Editor: IntelliJ</li>\n</ul>\n"},{"tags":["java","image","printing","escpos"],"answers":[{"tags":[],"owner":{"account_id":12359629,"reputation":4160,"user_id":9014308,"display_name":"kunif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635750825,"creation_date":1635750825,"answer_id":69793660,"question_id":69738321,"body_markdown":"If you search on the web, you will find a library or method that converts the vertical and horizontal size of the image data and converts it according to the maximum width of the paper to be printed.  \r\n\r\nHowever, since the size of the original data is as small as 113 width and 48 height, those conversions will cause jaggy and less artistic.  \r\n\r\nIt is better to create and use image data that matches the width of the paper to be printed in advance.  \r\n\r\nFor example, if you use GIMP to enlarge the width to 512 and the height to 217 as JPEG, it will be as follows.  \r\n[![enlargeGIMP][1]][1]\r\n\r\n\r\nOr if you enlarge it to the same size with Windows Paint and then convert it to BMP in monochrome binary format, it will be as follows.  \r\n[![enlargemonochromePaint][2]][2]\r\n\r\nRather than performing such conversion, it will be much more beautiful and effective for marketing etc. if you create a design by specifying the width 512 from the beginning.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7qozo.jpg\r\n  [2]: https://i.stack.imgur.com/HmU2R.png","title":"Java ESC/POS Image full width Printing","body":"<p>If you search on the web, you will find a library or method that converts the vertical and horizontal size of the image data and converts it according to the maximum width of the paper to be printed.</p>\n<p>However, since the size of the original data is as small as 113 width and 48 height, those conversions will cause jaggy and less artistic.</p>\n<p>It is better to create and use image data that matches the width of the paper to be printed in advance.</p>\n<p>For example, if you use GIMP to enlarge the width to 512 and the height to 217 as JPEG, it will be as follows.<br />\n<a href=\"https://i.stack.imgur.com/7qozo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7qozo.jpg\" alt=\"enlargeGIMP\" /></a></p>\n<p>Or if you enlarge it to the same size with Windows Paint and then convert it to BMP in monochrome binary format, it will be as follows.<br />\n<a href=\"https://i.stack.imgur.com/HmU2R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HmU2R.png\" alt=\"enlargemonochromePaint\" /></a></p>\n<p>Rather than performing such conversion, it will be much more beautiful and effective for marketing etc. if you create a design by specifying the width 512 from the beginning.</p>\n"}],"owner":{"account_id":20211028,"reputation":1,"user_id":14823725,"display_name":"Malindu Gimhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635750825,"creation_date":1635336115,"question_id":69738321,"body_markdown":"I&#39;m trying to print image using Esc/Pos command which given in [this blog](http://new-grumpy-mentat.blogspot.com/2014/06/java-escpos-image-printing.html). It&#39;s printing fine but i want to align  image to center and fit to paper size.\r\nI print this image:\r\n\r\n![][1]  \r\n\r\nand output like this:\r\n\r\n![][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZZRL7.jpg\r\n  [2]: https://i.stack.imgur.com/QrXF6.jpg\r\n\r\nMy code same as [this blog post](http://new-grumpy-mentat.blogspot.com/2014/06/java-escpos-image-printing.html)\r\nbut I change `getPixelsSlow(BufferedImage image)` method to this two method because Android doesn&#39;t have `BufferedImage` class.\r\n\r\n    private int[][] getPixelsSlow(Bitmap image) {\r\n      int width = image.getWidth();\r\n      int height = image.getHeight();\r\n      int[][] result = new int[height][width];\r\n      for (int row = 0; row &lt; height; row++) {\r\n        for (int col = 0; col &lt; width; col++) {\r\n          result[row][col] = getRGB(image, col, row);\r\n         }\r\n       }\r\n    \r\n      return result;\r\n    }\r\n    \r\n    private int getRGB(Bitmap bmpOriginal, int col, int row) {\r\n       // get one pixel color\r\n       int pixel = bmpOriginal.getPixel(col, row);\r\n       // retrieve color of all channels\r\n       int R = Color.red(pixel);\r\n       int G = Color.green(pixel);\r\n       int B = Color.blue(pixel);\r\n       return Color.rgb(R, G, B);\r\n    }\r\n\r\n   \r\n\r\n\r\nHow can I print image in full width?. Thank you!","title":"Java ESC/POS Image full width Printing","body":"<p>I'm trying to print image using Esc/Pos command which given in <a href=\"http://new-grumpy-mentat.blogspot.com/2014/06/java-escpos-image-printing.html\" rel=\"nofollow noreferrer\">this blog</a>. It's printing fine but i want to align  image to center and fit to paper size.\nI print this image:</p>\n<p><img src=\"https://i.stack.imgur.com/ZZRL7.jpg\" alt=\"\" /></p>\n<p>and output like this:</p>\n<p><img src=\"https://i.stack.imgur.com/QrXF6.jpg\" alt=\"\" /></p>\n<p>My code same as <a href=\"http://new-grumpy-mentat.blogspot.com/2014/06/java-escpos-image-printing.html\" rel=\"nofollow noreferrer\">this blog post</a>\nbut I change <code>getPixelsSlow(BufferedImage image)</code> method to this two method because Android doesn't have <code>BufferedImage</code> class.</p>\n<pre><code>private int[][] getPixelsSlow(Bitmap image) {\n  int width = image.getWidth();\n  int height = image.getHeight();\n  int[][] result = new int[height][width];\n  for (int row = 0; row &lt; height; row++) {\n    for (int col = 0; col &lt; width; col++) {\n      result[row][col] = getRGB(image, col, row);\n     }\n   }\n\n  return result;\n}\n\nprivate int getRGB(Bitmap bmpOriginal, int col, int row) {\n   // get one pixel color\n   int pixel = bmpOriginal.getPixel(col, row);\n   // retrieve color of all channels\n   int R = Color.red(pixel);\n   int G = Color.green(pixel);\n   int B = Color.blue(pixel);\n   return Color.rgb(R, G, B);\n}\n</code></pre>\n<p>How can I print image in full width?. Thank you!</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1624521278,"post_id":68111537,"comment_id":120382685,"body_markdown":"File =&gt; Invalidate caches &amp; restart","body":"File =&gt; Invalidate caches &amp; restart"}],"answers":[{"tags":[],"owner":{"account_id":23203055,"reputation":1,"user_id":17297625,"display_name":"FAMDEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635750467,"creation_date":1635750467,"answer_id":69793602,"question_id":68111537,"body_markdown":"\r\nChange -Dfile.endcoding=UTF-8  To -Duser.country=US -Duser.language=en","title":"Execution failed for task &#39;:app:mergeDebugResources&#39;. Error","body":"<p>Change -Dfile.endcoding=UTF-8  To -Duser.country=US -Duser.language=en</p>\n"}],"owner":{"account_id":18204836,"reputation":9,"user_id":13248378,"display_name":"Jaxon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635750467,"creation_date":1624520671,"question_id":68111537,"body_markdown":"Hi I have a problem with app:mergeDebugResources I added multidlex and check the link in Gradle.properties \r\njvmargs=-Xmx2048m -Dfile.encoding=UTF-8. But id doesn&#39;t help still the same. In the logs saying that&#39;s a cooler problem. I don&#39;t have any idea what should I do. Invalid caches and Restart also didn&#39;t help\r\nThanks for any help \r\n\r\n\r\n[Error  log.png][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tLuuD.png","title":"Execution failed for task &#39;:app:mergeDebugResources&#39;. Error","body":"<p>Hi I have a problem with app:mergeDebugResources I added multidlex and check the link in Gradle.properties\njvmargs=-Xmx2048m -Dfile.encoding=UTF-8. But id doesn't help still the same. In the logs saying that's a cooler problem. I don't have any idea what should I do. Invalid caches and Restart also didn't help\nThanks for any help</p>\n<p><a href=\"https://i.stack.imgur.com/tLuuD.png\" rel=\"nofollow noreferrer\">Error  log.png</a></p>\n"},{"tags":["java","json","spring-mvc"],"comments":[{"owner":{"account_id":320797,"reputation":5319,"user_id":639258,"accept_rate":92,"display_name":"Pramod Karandikar"},"score":0,"creation_date":1635751082,"post_id":69793583,"comment_id":123368450,"body_markdown":"The question is not very clear. Provide more details including code, log stacktrace etc. Also, if you are using a Gmail account to send emails, you will need to do some additional steps for setting up authentication and allowing the mails to be sent from the account. Example: https://mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/","body":"The question is not very clear. Provide more details including code, log stacktrace etc. Also, if you are using a Gmail account to send emails, you will need to do some additional steps for setting up authentication and allowing the mails to be sent from the account. Example: <a href=\"https://mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/\" rel=\"nofollow noreferrer\">mkyong.com/java/&hellip;</a>"},{"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"score":0,"creation_date":1635762993,"post_id":69793583,"comment_id":123371951,"body_markdown":"I had a similar issue, did your code worked in the past and suddently stopped ?","body":"I had a similar issue, did your code worked in the past and suddently stopped ?"}],"owner":{"account_id":23159448,"reputation":11,"user_id":17260297,"display_name":"karnail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635750305,"creation_date":1635750305,"question_id":69793583,"body_markdown":"when is send link on website through email then I got an error  Error sending mail Exception is :: javax.mail.AuthenticationFailedException.\r\nIf you have any idea please comment.","title":"javax.mail.AuthenticationFailedException in java by sending an invitation link by official email in java","body":"<p>when is send link on website through email then I got an error  Error sending mail Exception is :: javax.mail.AuthenticationFailedException.\nIf you have any idea please comment.</p>\n"},{"tags":["java","algorithm","data-structures","bit-manipulation","gray-code"],"comments":[{"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"score":3,"creation_date":1635748759,"post_id":69793348,"comment_id":123367929,"body_markdown":"Your output and expected output look the same to me. What&#39;s the difference?","body":"Your output and expected output look the same to me. What&#39;s the difference?"}],"answers":[{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635749819,"creation_date":1635749819,"answer_id":69793512,"question_id":69793348,"body_markdown":"`indexOf` is not doing what you think (look it up in the documentation). Use this instead\r\n\r\n    int sun = x+result.get(i-1);\r\n\r\nThis leads to the result\r\n\r\n    [0, 1, 3, 2, 6, 7, 5, 4, 12, 13, 15, 14, 10, 11, 9, 8]\r\n\r\nwhich is a gray code.","title":"Hi am confused about output when we give input as 4 while it works for 3","body":"<p><code>indexOf</code> is not doing what you think (look it up in the documentation). Use this instead</p>\n<pre><code>int sun = x+result.get(i-1);\n</code></pre>\n<p>This leads to the result</p>\n<pre><code>[0, 1, 3, 2, 6, 7, 5, 4, 12, 13, 15, 14, 10, 11, 9, 8]\n</code></pre>\n<p>which is a gray code.</p>\n"}],"owner":{"account_id":13164035,"reputation":1,"user_id":13611738,"display_name":"Prabhakar singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635749819,"creation_date":1635748608,"question_id":69793348,"body_markdown":"    My Output   : [0,1,3,2,6,7,5,4,13,12,14,15,10,11,9,8]\r\n    Expected O/P: [0,1,3,2,6,7,5,4,13,12,14,15,10,11,9,8]\r\n    n = 4\r\n\r\nwhile debugging it&#39;s doing the right index calculations but it&#39;s still adding 13 instead of 12 first.\r\n\r\nProblem: \r\nAn n-bit gray code sequence is a sequence of 2n integers where:\r\n\r\nEvery integer is in the inclusive range [0, 2n - 1],\r\nThe first integer is 0,\r\nAn integer appears no more than once in the sequence,\r\nThe binary representation of every pair of adjacent integers differs by exactly one bit, and\r\nThe binary representation of the first and last integers differs by exactly one bit.\r\nGiven an integer n, return any valid n-bit gray code sequence. \r\n\r\n\r\nMy solution: \r\n\r\n    public static List&lt;Integer&gt; grayCode(int n) {\r\n                List&lt;Integer&gt; resuList = new ArrayList&lt;Integer&gt;();\r\n                resuList = callrecursion(n);\r\n                return resuList;\r\n                \r\n            }\r\n        \r\n            public static List&lt;Integer&gt; callrecursion(int n){\r\n        \r\n                if (n==1) {\r\n                    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n                    list.add(0);\r\n                    list.add(1);\r\n                    return list;\r\n                }\r\n        \r\n                List&lt;Integer&gt;result = new ArrayList&lt;&gt;();\r\n        \r\n                List&lt;Integer&gt; list = callrecursion(n-1);\r\n        \r\n                for (Integer integer : list) {\r\n        \r\n                    result.add(integer);\r\n                }\r\n                for (int i = list.size(); i &gt;0; i--) {\r\n                    int x = (int)Math.pow(2, n-1);\r\n                    int sun = x+result.indexOf(i-1);\r\n                    result.add(sun);\r\n                }\r\n        \r\n        \r\n                return result;\r\n        \r\n            }","title":"Hi am confused about output when we give input as 4 while it works for 3","body":"<pre><code>My Output   : [0,1,3,2,6,7,5,4,13,12,14,15,10,11,9,8]\nExpected O/P: [0,1,3,2,6,7,5,4,13,12,14,15,10,11,9,8]\nn = 4\n</code></pre>\n<p>while debugging it's doing the right index calculations but it's still adding 13 instead of 12 first.</p>\n<p>Problem:\nAn n-bit gray code sequence is a sequence of 2n integers where:</p>\n<p>Every integer is in the inclusive range [0, 2n - 1],\nThe first integer is 0,\nAn integer appears no more than once in the sequence,\nThe binary representation of every pair of adjacent integers differs by exactly one bit, and\nThe binary representation of the first and last integers differs by exactly one bit.\nGiven an integer n, return any valid n-bit gray code sequence.</p>\n<p>My solution:</p>\n<pre><code>public static List&lt;Integer&gt; grayCode(int n) {\n            List&lt;Integer&gt; resuList = new ArrayList&lt;Integer&gt;();\n            resuList = callrecursion(n);\n            return resuList;\n            \n        }\n    \n        public static List&lt;Integer&gt; callrecursion(int n){\n    \n            if (n==1) {\n                List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n                list.add(0);\n                list.add(1);\n                return list;\n            }\n    \n            List&lt;Integer&gt;result = new ArrayList&lt;&gt;();\n    \n            List&lt;Integer&gt; list = callrecursion(n-1);\n    \n            for (Integer integer : list) {\n    \n                result.add(integer);\n            }\n            for (int i = list.size(); i &gt;0; i--) {\n                int x = (int)Math.pow(2, n-1);\n                int sun = x+result.indexOf(i-1);\n                result.add(sun);\n            }\n    \n    \n            return result;\n    \n        }\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1635756020,"post_id":69793452,"comment_id":123369694,"body_markdown":"Why on Earth do you want to do this? Every Sun, Oracle and now OpenJDK build of Java since at least 2000 (_long_ before j8) includes SunJCE in the provider list automatically, and on the few systems that don&#39;t include it (like IBM-AIX Java and I _think_ Android) it isn&#39;t available at all so your program would make itself unusable.","body":"Why on Earth do you want to do this? Every Sun, Oracle and now OpenJDK build of Java since at least 2000 (<i>long</i> before j8) includes SunJCE in the provider list automatically, and on the few systems that don&#39;t include it (like IBM-AIX Java and I <i>think</i> Android) it isn&#39;t available at all so your program would make itself unusable."},{"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"score":0,"creation_date":1635756282,"post_id":69793452,"comment_id":123369760,"body_markdown":"@dave_thompson_085 Any idea why I am getting that error if its already provided ?","body":"@dave_thompson_085 Any idea why I am getting that error if its already provided ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635765451,"post_id":69793452,"comment_id":123372831,"body_markdown":"First if you are on JDK17 I strongly recommend to use most recent versions of maven plugins and not a nine year old version ....furthermore it looks like the test is using java module system?","body":"First if you are on JDK17 I strongly recommend to use most recent versions of maven plugins and not a nine year old version ....furthermore it looks like the test is using java module system?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1635765774,"post_id":69793452,"comment_id":123372947,"body_markdown":"Your code, if not modified for the new module rules in 9 up, can&#39;t access a `com.sun` class by _name_. You can access _algorithms_ from the _provider_ by calls like `Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;,&quot;SunJCE&quot;)` where the _class_ your code accesses is `javax.crypto.Cipher` and _that_ _internally_ accesses the `com.sun` classes which _it_ can do because _it_ has been modified to follow the new module rules. Or put more simply, module accessibility is not automatically transitive.","body":"Your code, if not modified for the new module rules in 9 up, can&#39;t access a <code>com.sun</code> class by <i>name</i>. You can access <i>algorithms</i> from the <i>provider</i> by calls like <code>Cipher.getInstance(&quot;AES&#47;CTR&#47;NoPadding&quot;,&quot;SunJCE&quot;)</code> where the <i>class</i> your code accesses is <code>javax.crypto.Cipher</code> and <i>that</i> <i>internally</i> accesses the <code>com.sun</code> classes which <i>it</i> can do because <i>it</i> has been modified to follow the new module rules. Or put more simply, module accessibility is not automatically transitive."}],"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3388,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635749395,"creation_date":1635749395,"question_id":69793452,"body_markdown":"Currently we are trying to compile code in JDK 8 and run it in OpenJDK 17.\r\nBut during Tomcat startup I am getting below error :\r\n\r\n    Caused by: java.lang.IllegalAccessException: class com.test.TestXYZ cannot access class com.sun.crypto.provider.SunJCE (in module java.base) because module java.base does not export com.sun.crypto.provider to unnamed module \r\n    \tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\r\n    \tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n    \tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347\r\n   \r\nThis issue is occurring when we are trying to add instance of `com.sun.crypto.provider.SunJCE` to `java.security.Security` by calling addProvider() method of `java.security.Security` class\r\n\r\nI tried the the fix mentioned in https://stackoverflow.com/questions/61957114/how-to-resolve-the-type-com-sun-crypto-provider-sunjce-is-not-accessible-with but it didnt work may be because\r\nthis is to fix compile time issue. Not sure though.\r\n\r\nCould you please help me resolving this issue ?\r\n\r\n**POM Entry :**\r\n\r\n    &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;compilerArgs&gt;\r\n                            &lt;arg&gt;--add-exports=java.base/com.sun.crypto.provider=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;/compilerArgs&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n**Tomcat Version :**  9.0.36\r\n\r\nThank you","title":"Getting cannot access class com.sun.crypto.provider.SunJCE (in module java.base) error during Tomcat startup","body":"<p>Currently we are trying to compile code in JDK 8 and run it in OpenJDK 17.\nBut during Tomcat startup I am getting below error :</p>\n<pre><code>Caused by: java.lang.IllegalAccessException: class com.test.TestXYZ cannot access class com.sun.crypto.provider.SunJCE (in module java.base) because module java.base does not export com.sun.crypto.provider to unnamed module \n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347\n</code></pre>\n<p>This issue is occurring when we are trying to add instance of <code>com.sun.crypto.provider.SunJCE</code> to <code>java.security.Security</code> by calling addProvider() method of <code>java.security.Security</code> class</p>\n<p>I tried the the fix mentioned in <a href=\"https://stackoverflow.com/questions/61957114/how-to-resolve-the-type-com-sun-crypto-provider-sunjce-is-not-accessible-with\">How to resolve &quot;The type com.sun.crypto.provider.SunJCE is not accessible&quot; with Java11?</a> but it didnt work may be because\nthis is to fix compile time issue. Not sure though.</p>\n<p>Could you please help me resolving this issue ?</p>\n<p><strong>POM Entry :</strong></p>\n<pre><code>&lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;compilerArgs&gt;\n                        &lt;arg&gt;--add-exports=java.base/com.sun.crypto.provider=ALL-UNNAMED&lt;/arg&gt;\n            &lt;/compilerArgs&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p><strong>Tomcat Version :</strong>  9.0.36</p>\n<p>Thank you</p>\n"},{"tags":["java","firebase","android-studio"],"comments":[{"owner":{"account_id":14877095,"reputation":3715,"user_id":10756025,"display_name":"Milo Chen"},"score":0,"creation_date":1635755300,"post_id":69793447,"comment_id":123369517,"body_markdown":"Hi @Jakaria, Bluetooth is not running for 55Hz or 1Hz. What do you mean 55Hz and 1Hz here ?","body":"Hi @Jakaria, Bluetooth is not running for 55Hz or 1Hz. What do you mean 55Hz and 1Hz here ?"},{"owner":{"account_id":12031276,"reputation":3,"user_id":8801421,"display_name":"Jakaria"},"score":0,"creation_date":1635831893,"post_id":69793447,"comment_id":123391051,"body_markdown":"Hi @MiloChen, the frequency as I mention above, is for sampling rate data. the problem is I was received data from the insole and transmitted it to App. but it&#39;s too slow, so I need to increase the speed. then my professor told me to change the sampling rate of the insole from 1Hz to 55Hz. so I ask here is it possible if I want to change the frequency of sampling rate? because I can&#39;t find any reference for changing the BLE frequency.","body":"Hi @MiloChen, the frequency as I mention above, is for sampling rate data. the problem is I was received data from the insole and transmitted it to App. but it&#39;s too slow, so I need to increase the speed. then my professor told me to change the sampling rate of the insole from 1Hz to 55Hz. so I ask here is it possible if I want to change the frequency of sampling rate? because I can&#39;t find any reference for changing the BLE frequency."},{"owner":{"account_id":14877095,"reputation":3715,"user_id":10756025,"display_name":"Milo Chen"},"score":0,"creation_date":1635832007,"post_id":69793447,"comment_id":123391062,"body_markdown":"The standard BLE frequency is not so low like you said. \nYou can check ble core specification.  \niOS follow the standard BLE frequency to implement BLE  API. In the application layer, you cannot change the frequency.","body":"The standard BLE frequency is not so low like you said.  You can check ble core specification.   iOS follow the standard BLE frequency to implement BLE  API. In the application layer, you cannot change the frequency."}],"owner":{"account_id":12031276,"reputation":3,"user_id":8801421,"display_name":"Jakaria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635749375,"creation_date":1635749375,"question_id":69793447,"body_markdown":"in my case, I got the data from the insole by Bluetooth and the data will be transmitted to App, then the App will store the data to firebase. the problem is now the insole use 1Hz frequency and I want to change the frequency to 55Hz. it is possible or not if I want change the sampling rate of the insole? Because I was read lots of references and for changing the sampling rate it only works for Audio format.","title":"How to control the sampling rate on the App from the smart-insole android studio?","body":"<p>in my case, I got the data from the insole by Bluetooth and the data will be transmitted to App, then the App will store the data to firebase. the problem is now the insole use 1Hz frequency and I want to change the frequency to 55Hz. it is possible or not if I want change the sampling rate of the insole? Because I was read lots of references and for changing the sampling rate it only works for Audio format.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635747338,"post_id":69793141,"comment_id":123367659,"body_markdown":"Why don&#39;t you log the values you go through in your loop, run with one of the numbers which doesn&#39;t work, and *find out* what the problem is?","body":"Why don&#39;t you log the values you go through in your loop, run with one of the numbers which doesn&#39;t work, and <i>find out</i> what the problem is?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1635747370,"post_id":69793141,"comment_id":123367667,"body_markdown":"Describe what &quot;doesn&#39;t work&quot; looks like.","body":"Describe what &quot;doesn&#39;t work&quot; looks like."},{"owner":{"account_id":23202410,"reputation":21,"user_id":17297044,"display_name":"trashprogrammerD"},"score":0,"creation_date":1635748141,"post_id":69793141,"comment_id":123367810,"body_markdown":"It wasn&#39;t working as intended. The last output was supposed to be 1 but instead, I was getting negative random numbers, but my problem was solved, I had to use long instead of int","body":"It wasn&#39;t working as intended. The last output was supposed to be 1 but instead, I was getting negative random numbers, but my problem was solved, I had to use long instead of int"}],"answers":[{"tags":[],"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635747098,"creation_date":1635747098,"answer_id":69793192,"question_id":69793141,"body_markdown":"I think `int` is going out or range or out of bytes after some calculation try the given code using `long`:\r\n\r\n    import java.util.*;\r\n    public class practice {\r\n        public static void solve(long n){\r\n            while(n &gt; 1){\r\n                System.out.print(n + &quot; &quot;);\r\n                if(n % 2 == 0){\r\n                    n=n/2;\r\n                }else{\r\n                    n=(3*n)+1;\r\n                }\r\n            }\r\n            System.out.print(n);\r\n        }\r\n        public static void main(String[] args) {\r\n            Scanner keyboard = new Scanner(System.in);\r\n            long input = keyboard.nextLong();\r\n            solve(input);\r\n        }\r\n    }","title":"algorithm is not working with some inputs","body":"<p>I think <code>int</code> is going out or range or out of bytes after some calculation try the given code using <code>long</code>:</p>\n<pre><code>import java.util.*;\npublic class practice {\n    public static void solve(long n){\n        while(n &gt; 1){\n            System.out.print(n + &quot; &quot;);\n            if(n % 2 == 0){\n                n=n/2;\n            }else{\n                n=(3*n)+1;\n            }\n        }\n        System.out.print(n);\n    }\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        long input = keyboard.nextLong();\n        solve(input);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23202410,"reputation":21,"user_id":17297044,"display_name":"trashprogrammerD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1635748677,"accepted_answer_id":69793192,"answer_count":1,"score":-1,"last_activity_date":1635748831,"creation_date":1635746618,"question_id":69793141,"body_markdown":"I&#39;m new to programming, and I saw a problem in a website to practice. I was asked to create an algorithm that takes a positive integer, let&#39;s say *n*. If *n* is even the algorithm divides *n* by 2. If *n* is odd, it multiplies *n* by 3 and adds 1. This is repeated until it gets *n* = 1. For example,  *n*=3 the the output would be 3 &gt; 10 &gt; 5 &gt; 16 &gt; 8 &gt; 4 &gt; 2 &gt; 1\r\nMy code looks like this: \r\n```\r\nimport java.util.*;\r\npublic class practice {\r\n    public static void solve(int n){\r\n        while(n &gt; 1){\r\n            System.out.print(n + &quot; &quot;);\r\n            if(n % 2 == 0){\r\n                n=n/2;\r\n            }else{\r\n                n=(3*n)+1;\r\n            }\r\n        }\r\n        System.out.print(n);\r\n    }\r\n    public static void main(String[] args) {\r\n        Scanner keyboard = new Scanner(System.in);\r\n        int input = keyboard.nextInt();\r\n        solve(input);\r\n    }\r\n}\r\n```\r\n(Edit: Last output is suppose to be 1, but instead I&#39;m getting random negative numbers with the next inputs):\r\n138367\r\n270271\r\n665215\r\n704511\r\nI have no idea what I&#39;m doing wrong...\r\n","title":"algorithm is not working with some inputs","body":"<p>I'm new to programming, and I saw a problem in a website to practice. I was asked to create an algorithm that takes a positive integer, let's say <em>n</em>. If <em>n</em> is even the algorithm divides <em>n</em> by 2. If <em>n</em> is odd, it multiplies <em>n</em> by 3 and adds 1. This is repeated until it gets <em>n</em> = 1. For example,  <em>n</em>=3 the the output would be 3 &gt; 10 &gt; 5 &gt; 16 &gt; 8 &gt; 4 &gt; 2 &gt; 1\nMy code looks like this:</p>\n<pre><code>import java.util.*;\npublic class practice {\n    public static void solve(int n){\n        while(n &gt; 1){\n            System.out.print(n + &quot; &quot;);\n            if(n % 2 == 0){\n                n=n/2;\n            }else{\n                n=(3*n)+1;\n            }\n        }\n        System.out.print(n);\n    }\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        int input = keyboard.nextInt();\n        solve(input);\n    }\n}\n</code></pre>\n<p>(Edit: Last output is suppose to be 1, but instead I'm getting random negative numbers with the next inputs):\n138367\n270271\n665215\n704511\nI have no idea what I'm doing wrong...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1635748792,"post_id":69793338,"comment_id":123367933,"body_markdown":"`s1.equals(s2)` is `true`. How did you test when it produced `false`?","body":"<code>s1.equals(s2)</code> is <code>true</code>. How did you test when it produced <code>false</code>?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1635751700,"post_id":69793338,"comment_id":123368602,"body_markdown":"You essentially never need to use `new String(String)`. Strings are immutable, so there is no need to have distinct instances with the same value.","body":"You essentially never need to use <code>new String(String)</code>. Strings are immutable, so there is no need to have distinct instances with the same value."}],"owner":{"account_id":23202499,"reputation":23,"user_id":17297123,"display_name":"disamaj964"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1635748612,"answer_count":0,"score":1,"last_activity_date":1635748528,"creation_date":1635748528,"question_id":69793338,"body_markdown":"When I compare string s1 and s2 it give equal result but with s3 it gives a different result\r\n\r\n    String s1=&quot;Hello&quot;\r\n    String s2=&quot;Hello&quot;\r\n    String s3=new String(&quot;Hello&quot;);\r\n\r\n## Output\r\n\r\n    s1==s2 //true\r\n    s1.equals(s2) //false\r\n    s1==s3 //false\r\n    s1.equals(s3) //true\r\n\r\nwhy does it produce different output even if the string is the same?\r\n","title":"Why does comparing same string gives dfferent result?","body":"<p>When I compare string s1 and s2 it give equal result but with s3 it gives a different result</p>\n<pre><code>String s1=&quot;Hello&quot;\nString s2=&quot;Hello&quot;\nString s3=new String(&quot;Hello&quot;);\n</code></pre>\n<h2>Output</h2>\n<pre><code>s1==s2 //true\ns1.equals(s2) //false\ns1==s3 //false\ns1.equals(s3) //true\n</code></pre>\n<p>why does it produce different output even if the string is the same?</p>\n"},{"tags":["java","eclipse","gradle","build.gradle","gradle-eclipse"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1441151099,"post_id":32340929,"comment_id":52559486,"body_markdown":"I only refresh from Eclipse, but customize using the gradle eclipse plugin. I have run into issues where `afterEvaluate` resolved races so you could try that to see if you need to delay the change until the end of the configuration phase.","body":"I only refresh from Eclipse, but customize using the gradle eclipse plugin. I have run into issues where <code>afterEvaluate</code> resolved races so you could try that to see if you need to delay the change until the end of the configuration phase."},{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":1,"creation_date":1449611229,"post_id":32340929,"comment_id":56080609,"body_markdown":"I&#39;m with @BenManes on this one. It is possible that your allprojects block is being run before a list of subprojects is assembled, resulting in the behavior you&#39;re seeing. Have you tried using afterEvaluate?","body":"I&#39;m with @BenManes on this one. It is possible that your allprojects block is being run before a list of subprojects is assembled, resulting in the behavior you&#39;re seeing. Have you tried using afterEvaluate?"}],"answers":[{"tags":[],"owner":{"account_id":96101,"reputation":3895,"user_id":261378,"accept_rate":75,"display_name":"Verhagen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445335916,"creation_date":1445268606,"answer_id":33218350,"question_id":32340929,"body_markdown":"Install [Gradle plug-in for Eclipse](https://marketplace.eclipse.org/content/buildship-gradle-integration)\r\n\r\nThen use Eclipse menu: _File -&gt; Import..._ to import the Gradle project.\r\nIt will add the Gradle Nature. And 2 extra Eclipse views, one for quickly running Gradle tasks. One for Gradle output of those executed tasks.\r\n\r\n__TIP:__ Before importing an existing Gradle project, create a _New Gradle_ project, to see if the Gradle plug-in is working as expected.\r\n\r\n__New Gradle Project__\r\n\r\n- Use the Eclispe menu: _File -&gt; New -&gt; Other..._ \r\n- Select the wizard: _Gradle -&gt; Gradle Project_\r\n- Enter the project name\r\n- Press the button _Finish_\r\n\r\nThis should set up a minimal Gradle project.","title":"Gradle eclipse task doesn&#39;t add proper gradle nature","body":"<p>Install <a href=\"https://marketplace.eclipse.org/content/buildship-gradle-integration\" rel=\"nofollow\">Gradle plug-in for Eclipse</a></p>\n\n<p>Then use Eclipse menu: <em>File -> Import...</em> to import the Gradle project.\nIt will add the Gradle Nature. And 2 extra Eclipse views, one for quickly running Gradle tasks. One for Gradle output of those executed tasks.</p>\n\n<p><strong>TIP:</strong> Before importing an existing Gradle project, create a <em>New Gradle</em> project, to see if the Gradle plug-in is working as expected.</p>\n\n<p><strong>New Gradle Project</strong></p>\n\n<ul>\n<li>Use the Eclispe menu: <em>File -> New -> Other...</em> </li>\n<li>Select the wizard: <em>Gradle -> Gradle Project</em></li>\n<li>Enter the project name</li>\n<li>Press the button <em>Finish</em></li>\n</ul>\n\n<p>This should set up a minimal Gradle project.</p>\n"},{"tags":[],"owner":{"account_id":2237738,"reputation":41,"user_id":1973596,"display_name":"user1973596"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633164095,"creation_date":1449481200,"answer_id":34130424,"question_id":32340929,"body_markdown":"I think you must set gradle to your system environment.\r\nSteps:\r\n\r\n 1.  Install Gradle from gradle website. \r\n 2.  Go to eclipse preferences set Home path in gradle EnIDE like &lt;code&gt;C:\\gradle-2.3&lt;/code&gt;\r\nor whatever  directory you have installed. \r\n 3. Also make sure to add path to your    system environment variable.","title":"Gradle eclipse task doesn&#39;t add proper gradle nature","body":"<p>I think you must set gradle to your system environment.\nSteps:</p>\n<ol>\n<li>Install Gradle from gradle website.</li>\n<li>Go to eclipse preferences set Home path in gradle EnIDE like <code>C:\\gradle-2.3</code>\nor whatever  directory you have installed.</li>\n<li>Also make sure to add path to your    system environment variable.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449611676,"creation_date":1449611676,"answer_id":34166758,"question_id":32340929,"body_markdown":"If there is an evaluation phase race condition, you can eliminate it by using the `afterEvaluate` qualifier. I would try:\r\n\r\n\tallprojects {\r\n\t\tafterEvaluate {\r\n\t\t\teclipse.project {\r\n\t\t\t\tnatures &#39;org.springsource.ide.eclipse.gradle.core.nature&#39;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Gradle eclipse task doesn&#39;t add proper gradle nature","body":"<p>If there is an evaluation phase race condition, you can eliminate it by using the <code>afterEvaluate</code> qualifier. I would try:</p>\n\n<pre><code>allprojects {\n    afterEvaluate {\n        eclipse.project {\n            natures 'org.springsource.ide.eclipse.gradle.core.nature'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5813722,"reputation":721,"user_id":4584031,"display_name":"Mahfuz Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633111345,"creation_date":1449665079,"answer_id":34179159,"question_id":32340929,"body_markdown":"[![Screenshot of the root dir][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KXkj8.png\r\n\r\nin the `settings.gradle` &gt;&gt;\r\n\r\n     include &#39;Device&#39;, &#39;Secugen&#39;, &#39;Morpho&#39;, &#39;NIDVSADesktop&#39;\r\n\r\nhere `NIDVSADesktop` is my root project.\r\nin the root project gradle \r\n\r\n    dependencies {\r\n\t  compile project(&#39;:Secugen&#39;) \r\n\t  compile project(&#39;:Morpho&#39;)\r\n\t\r\n    }\r\nhere `Secugen` and `Morpho` are my 2 sub projects","title":"Gradle eclipse task doesn&#39;t add proper gradle nature","body":"<p><a href=\"https://i.stack.imgur.com/KXkj8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXkj8.png\" alt=\"Screenshot of the root dir\" /></a></p>\n<p>in the <code>settings.gradle</code> &gt;&gt;</p>\n<pre><code> include 'Device', 'Secugen', 'Morpho', 'NIDVSADesktop'\n</code></pre>\n<p>here <code>NIDVSADesktop</code> is my root project.\nin the root project gradle</p>\n<pre><code>dependencies {\n  compile project(':Secugen') \n  compile project(':Morpho')\n\n}\n</code></pre>\n<p>here <code>Secugen</code> and <code>Morpho</code> are my 2 sub projects</p>\n"},{"tags":[],"owner":{"account_id":271113,"reputation":3120,"user_id":561476,"accept_rate":79,"display_name":"Alex Q"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1633081785,"creation_date":1456498703,"answer_id":35654982,"question_id":32340929,"body_markdown":"Using the [Buildship: Eclipse Plug-ins for Gradle][1] I had to use natures string &lt;code&gt;org.eclipse.buildship.core.gradleprojectnature&lt;/code&gt;\r\n\r\nFor Example:\r\n\r\n    allprojects {\r\n    \teclipse.project {\r\n    \t\tnatures &#39;org.eclipse.buildship.core.gradleprojectnature&#39;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://projects.eclipse.org/projects/tools.buildship/downloads","title":"Gradle eclipse task doesn&#39;t add proper gradle nature","body":"<p>Using the <a href=\"http://projects.eclipse.org/projects/tools.buildship/downloads\" rel=\"nofollow noreferrer\">Buildship: Eclipse Plug-ins for Gradle</a> I had to use natures string <code>org.eclipse.buildship.core.gradleprojectnature</code></p>\n<p>For Example:</p>\n<pre><code>allprojects {\n    eclipse.project {\n        natures 'org.eclipse.buildship.core.gradleprojectnature'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23202724,"reputation":1,"user_id":17297321,"display_name":"user17297321"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635747782,"creation_date":1635747782,"answer_id":69793257,"question_id":32340929,"body_markdown":"Remove Gradle Nature close ecllips then go to project folder structure  and run the command &quot;./gradlew clean build  -x test cleanEclipse eclipse&quot; next open eclipse and just refresh the project ","title":"Gradle eclipse task doesn&#39;t add proper gradle nature","body":"<p>Remove Gradle Nature close ecllips then go to project folder structure  and run the command &quot;./gradlew clean build  -x test cleanEclipse eclipse&quot; next open eclipse and just refresh the project</p>\n"}],"owner":{"account_id":1052629,"reputation":3982,"user_id":1056138,"accept_rate":50,"display_name":"ATrubka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10961,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":6,"score":12,"last_activity_date":1635747782,"creation_date":1441141616,"question_id":32340929,"body_markdown":"I have the following project structure:\r\n\r\n  + root-gradle (`build.gradle`)\r\n    + project-group1 (no build file)\r\n       + project1 (`build.gradle`)\r\n       + project2 (`build.gradle`)\r\n       + ...\r\n    + project-group2 (no build file)\r\n       + ...\r\n\r\nSo happens that I have to recreate Eclipse projects often. I run command:\r\n\r\n    gradle cleanEclipse eclipse\r\n\r\nAfter a number of runs &quot;eclipse&quot; task stops working as expected. Namely, it does not add gradle nature to the projects anymore and does not recognize\r\n\r\n    sourceCompatibility = 1.6\r\n\r\nanymore attempting to build everything with 1.8 version of Java.\r\n\r\nI added the following to the root `build.gradle`:\r\n\r\n\tallprojects {\r\n\t\tsourceCompatibility = 1.6\r\n\t    eclipse.project {\r\n\t  \t\tnatures &#39;org.springsource.ide.eclipse.gradle.core.nature&#39;\r\n\t\t}\r\n        // more stuff here ...\r\n    }\r\n\r\nThis helped with the root project, but had no effect on any other project.\r\nI added the same thing to subprojects with the same unsatisfactory result.\r\nI have to say than even after the nature had been added to the root project and Gradle plugin options became available for the root again I still don&#39;t see the &quot;G&quot; icon.\r\n\r\nSo it looks like I have 2 problems with the gradle setup.\r\n\r\n1. Disappearance of the gradle nature. After a few runs Eclipse stops recognizing gradle projects. I wouldn&#39;t even face the second problem if that worked properly.\r\n\r\n2. Some problem with my gradle build files or projects layout as my settings don&#39;t seem to take effect on subprojects.\r\n\r\n3. Missing &quot;G&quot; icon for the project with restored Gradle nature.\r\n\r\n","title":"Gradle eclipse task doesn&#39;t add proper gradle nature","body":"<p>I have the following project structure:</p>\n<ul>\n<li>root-gradle (<code>build.gradle</code>)\n<ul>\n<li>project-group1 (no build file)\n<ul>\n<li>project1 (<code>build.gradle</code>)</li>\n<li>project2 (<code>build.gradle</code>)</li>\n<li>...</li>\n</ul>\n</li>\n<li>project-group2 (no build file)\n<ul>\n<li>...</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>So happens that I have to recreate Eclipse projects often. I run command:</p>\n<pre><code>gradle cleanEclipse eclipse\n</code></pre>\n<p>After a number of runs &quot;eclipse&quot; task stops working as expected. Namely, it does not add gradle nature to the projects anymore and does not recognize</p>\n<pre><code>sourceCompatibility = 1.6\n</code></pre>\n<p>anymore attempting to build everything with 1.8 version of Java.</p>\n<p>I added the following to the root <code>build.gradle</code>:</p>\n<pre><code>allprojects {\n    sourceCompatibility = 1.6\n    eclipse.project {\n        natures 'org.springsource.ide.eclipse.gradle.core.nature'\n    }\n    // more stuff here ...\n}\n</code></pre>\n<p>This helped with the root project, but had no effect on any other project.\nI added the same thing to subprojects with the same unsatisfactory result.\nI have to say than even after the nature had been added to the root project and Gradle plugin options became available for the root again I still don't see the &quot;G&quot; icon.</p>\n<p>So it looks like I have 2 problems with the gradle setup.</p>\n<ol>\n<li><p>Disappearance of the gradle nature. After a few runs Eclipse stops recognizing gradle projects. I wouldn't even face the second problem if that worked properly.</p>\n</li>\n<li><p>Some problem with my gradle build files or projects layout as my settings don't seem to take effect on subprojects.</p>\n</li>\n<li><p>Missing &quot;G&quot; icon for the project with restored Gradle nature.</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":1,"creation_date":1443382942,"post_id":32810178,"comment_id":53460706,"body_markdown":"Show `CompanyApplication`","body":"Show <code>CompanyApplication</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1443426924,"post_id":32810178,"comment_id":53472240,"body_markdown":"Which Spring Boot version are you using? Do you have `spring-boot-starter-jdbc` in your dependency list and do you have the MySQL driver present?","body":"Which Spring Boot version are you using? Do you have <code>spring-boot-starter-jdbc</code> in your dependency list and do you have the MySQL driver present?"},{"owner":{"account_id":1568042,"reputation":532,"user_id":1456388,"accept_rate":33,"display_name":"fritsMaister"},"score":0,"creation_date":1443564759,"post_id":32810178,"comment_id":53542906,"body_markdown":"@M.Deinum was right, I had one dependency left spring-boot-starter-jdbc. Now I&#39;m having problems with com.mysql.jdbc.Driver\n`Cannot load driver class: com.mysql.jdbc.Driver`","body":"@M.Deinum was right, I had one dependency left spring-boot-starter-jdbc. Now I&#39;m having problems with com.mysql.jdbc.Driver <code>Cannot load driver class: com.mysql.jdbc.Driver</code>"},{"owner":{"account_id":1568042,"reputation":532,"user_id":1456388,"accept_rate":33,"display_name":"fritsMaister"},"score":0,"creation_date":1443565831,"post_id":32810178,"comment_id":53543303,"body_markdown":"That&#39;s it, another dependency left, sorry","body":"That&#39;s it, another dependency left, sorry"},{"owner":{"account_id":2042921,"reputation":10170,"user_id":3222249,"accept_rate":73,"display_name":"emilly"},"score":0,"creation_date":1457850609,"post_id":32810178,"comment_id":59589083,"body_markdown":"@M.Deinum can yo reply to http://stackoverflow.com/questions/35967143/no-qualifying-bean-of-type-javax-sql-datasource-is-defined. Its same think but I am getting where is the issue ?","body":"@M.Deinum can yo reply to <a href=\"http://stackoverflow.com/questions/35967143/no-qualifying-bean-of-type-javax-sql-datasource-is-defined\" title=\"no qualifying bean of type javax sql datasource is defined\">stackoverflow.com/questions/35967143/&hellip;</a>. Its same think but I am getting where is the issue ?"}],"answers":[{"tags":[],"owner":{"account_id":416079,"reputation":1214,"user_id":791260,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1443427471,"creation_date":1443427471,"answer_id":32818287,"question_id":32810178,"body_markdown":"As [@M. Deinum](https://stackoverflow.com/users/2696260/m-deinum) mentioned in his comment it seems to be a dependency configuration problem. [You need a dependency on spring-jdbc for an embedded database to be auto-configured](http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html).\r\n\r\nPlease make sure you&#39;ve followed on the  [documentation](https://spring.io/guides/gs/relational-data-access/)\r\n\r\nYou should also check out this [spring-boot-jdb sample](http://xantorohara.blogspot.ca/2013/11/spring-boot-jdbc-sample.html) \r\n","title":"Springboot No qualifying bean of type [javax.sql.DataSource]","body":"<p>As <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">@M. Deinum</a> mentioned in his comment it seems to be a dependency configuration problem. <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\" rel=\"noreferrer\">You need a dependency on spring-jdbc for an embedded database to be auto-configured</a>.</p>\n\n<p>Please make sure you've followed on the  <a href=\"https://spring.io/guides/gs/relational-data-access/\" rel=\"noreferrer\">documentation</a></p>\n\n<p>You should also check out this <a href=\"http://xantorohara.blogspot.ca/2013/11/spring-boot-jdbc-sample.html\" rel=\"noreferrer\">spring-boot-jdb sample</a> </p>\n"},{"tags":[],"owner":{"account_id":4742801,"reputation":97,"user_id":3834989,"display_name":"DzianisH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474320080,"creation_date":1474320080,"answer_id":39582314,"question_id":32810178,"body_markdown":"I&#39;ve faced this problem and figured out that implementation of DataSource is placed in Tomcat libs. So for 8th tomcat you going to include `org.apache.tomcat.jdbc.pool.DataSource` class that placed in `org.apache.tomcat:tomcat-jdbc:jar:8.0.36`","title":"Springboot No qualifying bean of type [javax.sql.DataSource]","body":"<p>I've faced this problem and figured out that implementation of DataSource is placed in Tomcat libs. So for 8th tomcat you going to include <code>org.apache.tomcat.jdbc.pool.DataSource</code> class that placed in <code>org.apache.tomcat:tomcat-jdbc:jar:8.0.36</code></p>\n"},{"tags":[],"owner":{"account_id":9146210,"reputation":66,"user_id":6802317,"display_name":"espendennis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474323922,"creation_date":1474323922,"answer_id":39582996,"question_id":32810178,"body_markdown":"I had the same problem. In my case I solved it by adding the dependency for the mysql java connector.","title":"Springboot No qualifying bean of type [javax.sql.DataSource]","body":"<p>I had the same problem. In my case I solved it by adding the dependency for the mysql java connector.</p>\n"},{"tags":[],"owner":{"account_id":8546240,"reputation":51,"user_id":6404691,"display_name":"Iclo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1534247127,"creation_date":1521111739,"answer_id":49297770,"question_id":32810178,"body_markdown":"Spring boot is mostly based on the principle than putting a specific jar in the classpath will trigger the activation of the related functionality. Spring boot is scanning the classpath at startup and will start &quot;everything he found&quot; except if you disable it by using annotation.\r\n\r\nSo to have Spring Boot initializing a DataSource you must have one of the following dependencies:\r\n- spring-boot-starter-jdbc : will allow to use the DataSource and JDBC stuff.\r\n- spring-boot-starter-data-jpa : will load the JPA and so the DataSource as a sub-module\r\n","title":"Springboot No qualifying bean of type [javax.sql.DataSource]","body":"<p>Spring boot is mostly based on the principle than putting a specific jar in the classpath will trigger the activation of the related functionality. Spring boot is scanning the classpath at startup and will start \"everything he found\" except if you disable it by using annotation.</p>\n\n<p>So to have Spring Boot initializing a DataSource you must have one of the following dependencies:\n- spring-boot-starter-jdbc : will allow to use the DataSource and JDBC stuff.\n- spring-boot-starter-data-jpa : will load the JPA and so the DataSource as a sub-module</p>\n"},{"tags":[],"owner":{"account_id":10855584,"reputation":531,"user_id":10597842,"display_name":"Adarsh D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1635747352,"creation_date":1623055234,"answer_id":67868449,"question_id":32810178,"body_markdown":"I got a similar error and I solved it by adding the following dependency\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Springboot No qualifying bean of type [javax.sql.DataSource]","body":"<p>I got a similar error and I solved it by adding the following dependency</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1161864,"reputation":2061,"user_id":1141215,"display_name":"PJ_Finnegan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633517183,"creation_date":1633507289,"answer_id":69461889,"question_id":32810178,"body_markdown":"This should be the correct declaration of your runner class:\r\n\r\n```\r\npackage com.companies;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class CompanyApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.exit(SpringApplication.exit(\r\n            SpringApplication.run(CompanyApplication.class, args)));\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAmidst other things, it will auto-initialize your `DataSource` from the `application.properties`.\r\n\r\n**EDIT**: in your `application.properties` you should have entries similar to these, which are specific for an Oracle DataSource:\r\n\r\n```\r\nspring.datasource.url=jdbc:oracle:thin:@&lt;hostaddr&gt;:&lt;port&gt;:&lt;instance_name&gt;\r\nspring.datasource.username=&lt;username&gt;\r\nspring.datasource.password=&lt;password&gt;\r\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n```","title":"Springboot No qualifying bean of type [javax.sql.DataSource]","body":"<p>This should be the correct declaration of your runner class:</p>\n<pre><code>package com.companies;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CompanyApplication {\n\n    public static void main(String[] args) {\n        System.exit(SpringApplication.exit(\n            SpringApplication.run(CompanyApplication.class, args)));\n    }\n\n}\n</code></pre>\n<p>Amidst other things, it will auto-initialize your <code>DataSource</code> from the <code>application.properties</code>.</p>\n<p><strong>EDIT</strong>: in your <code>application.properties</code> you should have entries similar to these, which are specific for an Oracle DataSource:</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@&lt;hostaddr&gt;:&lt;port&gt;:&lt;instance_name&gt;\nspring.datasource.username=&lt;username&gt;\nspring.datasource.password=&lt;password&gt;\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n"}],"owner":{"account_id":1568042,"reputation":532,"user_id":1456388,"accept_rate":33,"display_name":"fritsMaister"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92780,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":6,"score":13,"last_activity_date":1635747352,"creation_date":1443371367,"question_id":32810178,"body_markdown":"I&#39;m trying to use application.properties to bean datasource but it seems that spring boot does not find the file or something like.\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [javax.sql.DataSource] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\r\n\r\nHere my structure:\r\n\r\n     .\r\n    ├── build.gradle\r\n    └── src\r\n        └── main\r\n            ├── java\r\n            │&#160;&#160; └── com\r\n            │&#160;&#160;     └── companies\r\n            │&#160;&#160;         ├── CompanyApplication.java\r\n            │&#160;&#160;         ├── config\r\n            │&#160;&#160;         │&#160;&#160; └── WebMvcConfig.java\r\n            │&#160;&#160;         ├── controller\r\n            │&#160;&#160;         │&#160;&#160; └── HelloWorldController.java\r\n            │&#160;&#160;         └── model\r\n            │&#160;&#160;             ├── Article.java\r\n            │&#160;&#160;             ├── daoInterface\r\n            │&#160;&#160;             │&#160;&#160; └── ArticleDaoInterface.java\r\n            │&#160;&#160;             ├── daoTemplates\r\n            │&#160;&#160;             │&#160;&#160; └── ArticleDao.java\r\n            │&#160;&#160;             └── mappers\r\n            │&#160;&#160;                 └── ArticleMapper.java\r\n            ├── resources\r\n            │&#160;&#160; └── application.properties\r\n            └── webapp\r\n                └── WEB-INF\r\n                    └── pages\r\n                        └── hello.jsp\r\n\r\nI&#39;ve try to move application.properties file from resources to config and nothing. \r\n`application.properties:`\r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://127.0.0.1:3306/name\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\n`build.gradle`\r\n\r\n \r\n\r\n    buildscript {\r\n            repositories {\r\n                //Required repos\r\n                mavenCentral()\r\n                maven { url &quot;http://repo.spring.io/snapshot&quot; }\r\n                maven { url &quot;http://repo.spring.io/milestone&quot; }\r\n            }\r\n            dependencies {\r\n                //Required dependency for spring-boot plugin\r\n                classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:1.2.6.RELEASE&quot;\r\n            }\r\n        }\r\n        \r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;war&#39;\r\n        apply plugin: &#39;spring-boot&#39;\r\n        \r\n        jar {\r\n        \tbaseName = &#39;companies&#39;\r\n        \tversion = &#39;0.2&#39;\r\n        }\r\n        \r\n        war {\r\n            baseName = &#39;companies&#39;\r\n            version =  &#39;0.1&#39;\r\n        }\r\n        \r\n        sourceCompatibility = 1.8\r\n        targetCompatibility = 1.8\r\n        \r\n        repositories {\r\n            mavenCentral()\r\n            maven { url &quot;http://repo.spring.io/snapshot&quot; }\r\n            maven { url &quot;http://repo.spring.io/milestone&quot; }\r\n        }\r\n        \r\n        dependencies {\r\n            compile &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n            compile(&quot;org.springframework.boot:spring-boot-starter&quot;)\r\n            compile(&quot;org.springframework:spring-jdbc&quot;)\r\n            compile(&#39;org.springframework.boot:spring-boot-starter-jdbc:1.2.6.RELEASE&#39;)\r\n            testCompile(&quot;junit:junit&quot;)\r\n            //Required dependency for JSP\r\n            compile &#39;org.apache.tomcat.embed:tomcat-embed-jasper&#39;\r\n        }\r\n\r\nAnd where I&#39;m trying to autowire the dataSource:\r\n\r\n\r\n    package com.companies.model.daoTemplates;\r\n    \r\n    import com.companies.model.Article;\r\n    import com.companies.model.daoInterface.ArticleDaoInterface;\r\n    import com.companies.model.mappers.ArticleMapper;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public class ArticleDao implements ArticleDaoInterface {\r\n    \r\n        private JdbcTemplate jdbcTemplateObject;\r\n        \r\n        private final String DB_NAME = &quot;articles&quot;;\r\n    \r\n        @Override\r\n        @Autowired\r\n        public void setDataSource(DataSource ds) {\r\n            this.jdbcTemplateObject = new JdbcTemplate(ds);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Article&gt; listArticle() {\r\n            String SQL = &quot;select * from &quot; + DB_NAME + &quot; where inactive = false ORDER BY name&quot;;\r\n            List &lt;Article&gt; article = jdbcTemplateObject.query(SQL,\r\n                    new ArticleMapper());\r\n            return article;\r\n        }\r\n    \r\n    }\r\n\r\n`CompanyApplication.java`\r\n\r\n    package com.companies;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @ComponentScan\r\n    @EnableAutoConfiguration\r\n    public class CompanyApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CompanyApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nI cannot find where I&#39;m failing at.\r\n\r\n","title":"Springboot No qualifying bean of type [javax.sql.DataSource]","body":"<p>I'm trying to use application.properties to bean datasource but it seems that spring boot does not find the file or something like.</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [javax.sql.DataSource] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\n</code></pre>\n\n<p>Here my structure:</p>\n\n<pre><code> .\n├── build.gradle\n└── src\n    └── main\n        ├── java\n        │   └── com\n        │       └── companies\n        │           ├── CompanyApplication.java\n        │           ├── config\n        │           │   └── WebMvcConfig.java\n        │           ├── controller\n        │           │   └── HelloWorldController.java\n        │           └── model\n        │               ├── Article.java\n        │               ├── daoInterface\n        │               │   └── ArticleDaoInterface.java\n        │               ├── daoTemplates\n        │               │   └── ArticleDao.java\n        │               └── mappers\n        │                   └── ArticleMapper.java\n        ├── resources\n        │   └── application.properties\n        └── webapp\n            └── WEB-INF\n                └── pages\n                    └── hello.jsp\n</code></pre>\n\n<p>I've try to move application.properties file from resources to config and nothing. \n<code>application.properties:</code></p>\n\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/name\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n\n<p><code>build.gradle</code></p>\n\n<pre><code>buildscript {\n        repositories {\n            //Required repos\n            mavenCentral()\n            maven { url \"http://repo.spring.io/snapshot\" }\n            maven { url \"http://repo.spring.io/milestone\" }\n        }\n        dependencies {\n            //Required dependency for spring-boot plugin\n            classpath \"org.springframework.boot:spring-boot-gradle-plugin:1.2.6.RELEASE\"\n        }\n    }\n\n    apply plugin: 'java'\n    apply plugin: 'war'\n    apply plugin: 'spring-boot'\n\n    jar {\n        baseName = 'companies'\n        version = '0.2'\n    }\n\n    war {\n        baseName = 'companies'\n        version =  '0.1'\n    }\n\n    sourceCompatibility = 1.8\n    targetCompatibility = 1.8\n\n    repositories {\n        mavenCentral()\n        maven { url \"http://repo.spring.io/snapshot\" }\n        maven { url \"http://repo.spring.io/milestone\" }\n    }\n\n    dependencies {\n        compile 'org.springframework.boot:spring-boot-starter-web'\n        compile(\"org.springframework.boot:spring-boot-starter\")\n        compile(\"org.springframework:spring-jdbc\")\n        compile('org.springframework.boot:spring-boot-starter-jdbc:1.2.6.RELEASE')\n        testCompile(\"junit:junit\")\n        //Required dependency for JSP\n        compile 'org.apache.tomcat.embed:tomcat-embed-jasper'\n    }\n</code></pre>\n\n<p>And where I'm trying to autowire the dataSource:</p>\n\n<pre><code>package com.companies.model.daoTemplates;\n\nimport com.companies.model.Article;\nimport com.companies.model.daoInterface.ArticleDaoInterface;\nimport com.companies.model.mappers.ArticleMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.stereotype.Repository;\n\nimport javax.sql.DataSource;\nimport java.util.List;\n\n@Repository\npublic class ArticleDao implements ArticleDaoInterface {\n\n    private JdbcTemplate jdbcTemplateObject;\n\n    private final String DB_NAME = \"articles\";\n\n    @Override\n    @Autowired\n    public void setDataSource(DataSource ds) {\n        this.jdbcTemplateObject = new JdbcTemplate(ds);\n    }\n\n    @Override\n    public List&lt;Article&gt; listArticle() {\n        String SQL = \"select * from \" + DB_NAME + \" where inactive = false ORDER BY name\";\n        List &lt;Article&gt; article = jdbcTemplateObject.query(SQL,\n                new ArticleMapper());\n        return article;\n    }\n\n}\n</code></pre>\n\n<p><code>CompanyApplication.java</code></p>\n\n<pre><code>package com.companies;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan\n@EnableAutoConfiguration\npublic class CompanyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CompanyApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>I cannot find where I'm failing at.</p>\n"},{"tags":["java","arrays","element","nested-loops","static-methods"],"answers":[{"tags":[],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635739574,"creation_date":1635739574,"answer_id":69792525,"question_id":69792346,"body_markdown":"[System.arraycopy](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)) doesn&#39;t copy an element from an array to another, it\r\n\r\n&gt; Copies an array from the specified source array, beginning at the specified position, to the specified position of the destination array.A subsequence of array components are copied from the source array referenced by src to the destination array referenced by dest. The number of components copied is equal to the length argument. The components at positions srcPos through srcPos+length-1 in the source array are copied into positions destPos through destPos+length-1, respectively, of the destination array.\r\n\r\nmeans it copies consecutive elements from the source array, starting at srcPos, and puts them in the order they&#39;re in, in the destination array, starting from destPos.\r\n\r\nwhat you&#39;re trying to do could be done by simply setting the value of pushArray[j] to in[i], without the need for the nested loop :\r\n\r\n    public static int[] remove(int v, int[] in) {\r\n    \tint size = 0;\r\n    \tfor (int i = 0; i &lt; in.length; i++) {\r\n    \t\tif (in[i] != v) {\r\n    \t\t\tsize++;\r\n    \t\t}\r\n    \t}\r\n    \tint[] pushArray = new int[size];\r\n    \r\n    \tint j = 0;\r\n    \tfor (int i = 0; i &lt; in.length; i++) {\r\n    \t\tif (in[i] != v) {\r\n    \t\t\tpushArray[j++] = in[i];\r\n    \t\t}\r\n    \t}\r\n    \treturn pushArray;\r\n    }\r\n\r\nOutput : \r\n\r\n    Values from array: \r\n    [0, 1, 3, 2, 3, 0, 3, 1]\r\n    Removing all values of 3 from array above ^\r\n    [0, 1, 2, 0, 1]","title":"Copy values from a larger size array to a smaller size array in Java","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">System.arraycopy</a> doesn't copy an element from an array to another, it</p>\n<blockquote>\n<p>Copies an array from the specified source array, beginning at the specified position, to the specified position of the destination array.A subsequence of array components are copied from the source array referenced by src to the destination array referenced by dest. The number of components copied is equal to the length argument. The components at positions srcPos through srcPos+length-1 in the source array are copied into positions destPos through destPos+length-1, respectively, of the destination array.</p>\n</blockquote>\n<p>means it copies consecutive elements from the source array, starting at srcPos, and puts them in the order they're in, in the destination array, starting from destPos.</p>\n<p>what you're trying to do could be done by simply setting the value of pushArray[j] to in[i], without the need for the nested loop :</p>\n<pre><code>public static int[] remove(int v, int[] in) {\n    int size = 0;\n    for (int i = 0; i &lt; in.length; i++) {\n        if (in[i] != v) {\n            size++;\n        }\n    }\n    int[] pushArray = new int[size];\n\n    int j = 0;\n    for (int i = 0; i &lt; in.length; i++) {\n        if (in[i] != v) {\n            pushArray[j++] = in[i];\n        }\n    }\n    return pushArray;\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>Values from array: \n[0, 1, 3, 2, 3, 0, 3, 1]\nRemoving all values of 3 from array above ^\n[0, 1, 2, 0, 1]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635745860,"creation_date":1635745860,"answer_id":69793081,"question_id":69792346,"body_markdown":"Try this.\r\n\r\n    public static int[] remove(int v, int[] in) {\r\n        return IntStream.of(in)\r\n            .filter(i -&gt; i != v)\r\n            .toArray();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] in = {0, 1, 3, 2, 3, 0, 3, 1};\r\n        int[] out = remove(3, in);\r\n        System.out.println(Arrays.toString(out));\r\n    }\r\n\r\noutput:\r\n\r\n    [0, 1, 2, 0, 1]\r\n","title":"Copy values from a larger size array to a smaller size array in Java","body":"<p>Try this.</p>\n<pre><code>public static int[] remove(int v, int[] in) {\n    return IntStream.of(in)\n        .filter(i -&gt; i != v)\n        .toArray();\n}\n\npublic static void main(String[] args) {\n    int[] in = {0, 1, 3, 2, 3, 0, 3, 1};\n    int[] out = remove(3, in);\n    System.out.println(Arrays.toString(out));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[0, 1, 2, 0, 1]\n</code></pre>\n"}],"owner":{"account_id":5332987,"reputation":3,"user_id":4253052,"display_name":"lieuja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69792525,"answer_count":2,"score":0,"last_activity_date":1635745860,"creation_date":1635737323,"question_id":69792346,"body_markdown":"I have an array that holds these values: ```{0, 1, 3, 2, 3, 0, 3, 1}```\r\n\r\nI would like to call a static void remove() function that removes all the #3 values from the original array. I created a new array and with a smaller array size that will fit the numbers I need to be copied over. I loop through both arrays to copy the non #3 values over but keep getting the ```ArrayIndexOutOfBoundsException``` where the ```last destination index 6 out of bounds for int[5]```\r\n\r\nI believe this logic is correct, essentially, how do you copy values from a larger array to a small array? Am I missing another array to copy values over?\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n    public static int[] remove(int v, int[] in) {\r\n        int size = 0;\r\n        for (int i=0; i&lt;in.length; i++) {\r\n            if (in[i] != v) {\r\n                size++;\r\n            }\r\n        }\r\n        int[] pushArray = new int[size];\r\n        for (int j=0; j&lt;pushArray.length; j++) {\r\n            for (int i=0; i&lt;in.length; i++) {\r\n                if (in[i] == v) {\r\n                    continue;\r\n                } else {\r\n                    System.arraycopy(in, in[i], pushArray, pushArray[i], pushArray.length);\r\n                }\r\n            }\r\n        }\r\n        return pushArray;\r\n    }\r\n    \r\n    public static void main(String args[]) {\r\n        System.out.println(&quot;Values from array: &quot;);\r\n        int[] intArray = new int[] {0, 1, 3, 2, 3, 0, 3, 1};\r\n        System.out.println(Arrays.toString(intArray));\r\n        \r\n        int v = 3;\r\n        \r\n        System.out.println(&quot;Removing all values of &quot; + v + &quot; from array above ^&quot;);\r\n        \r\n        int[] newArray = remove(v, intArray);\r\n        System.out.println(Arrays.toString(newArray));\r\n    }\r\n}","title":"Copy values from a larger size array to a smaller size array in Java","body":"<p>I have an array that holds these values: <code>{0, 1, 3, 2, 3, 0, 3, 1}</code></p>\n<p>I would like to call a static void remove() function that removes all the #3 values from the original array. I created a new array and with a smaller array size that will fit the numbers I need to be copied over. I loop through both arrays to copy the non #3 values over but keep getting the <code>ArrayIndexOutOfBoundsException</code> where the <code>last destination index 6 out of bounds for int[5]</code></p>\n<p>I believe this logic is correct, essentially, how do you copy values from a larger array to a small array? Am I missing another array to copy values over?</p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static int[] remove(int v, int[] in) {\n        int size = 0;\n        for (int i=0; i&lt;in.length; i++) {\n            if (in[i] != v) {\n                size++;\n            }\n        }\n        int[] pushArray = new int[size];\n        for (int j=0; j&lt;pushArray.length; j++) {\n            for (int i=0; i&lt;in.length; i++) {\n                if (in[i] == v) {\n                    continue;\n                } else {\n                    System.arraycopy(in, in[i], pushArray, pushArray[i], pushArray.length);\n                }\n            }\n        }\n        return pushArray;\n    }\n    \n    public static void main(String args[]) {\n        System.out.println(&quot;Values from array: &quot;);\n        int[] intArray = new int[] {0, 1, 3, 2, 3, 0, 3, 1};\n        System.out.println(Arrays.toString(intArray));\n        \n        int v = 3;\n        \n        System.out.println(&quot;Removing all values of &quot; + v + &quot; from array above ^&quot;);\n        \n        int[] newArray = remove(v, intArray);\n        System.out.println(Arrays.toString(newArray));\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","amazon-web-services","amazon-ec2","jar"],"answers":[{"tags":[],"owner":{"account_id":23027726,"reputation":84,"user_id":17147685,"display_name":"The blank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635254115,"creation_date":1635254115,"answer_id":69723807,"question_id":69678243,"body_markdown":"I am not sure which system you are using in starting application:\r\nFor linux base system, you can use crontab to schedule the task when the server reboot.\r\nFollow this steps:\r\n1. Download crontab\r\n\r\n    #apt-get install cron\r\n\r\n2. Edit the file file to enable the task\r\n\r\n    crontab -e\r\n\r\n    (Choose Vim or nano to edit the task)\r\n\r\n3. Add this code to your server\r\n\r\n    @reboot /usr/bin/java -jar XXXXX.jar\r\n\r\n4. Save your file\r\n\r\n5. Check the result\r\n\r\n    crontab -l\r\n    #systemctl status cron\r\n\r\nThis method works in my Debian system. For more details, you can refer to\r\n[How to automatically run program on Linux startup][1]\r\n\r\n\r\n  [1]: https://www.simplified.guide/linux/automatically-run-program-on-startup","title":"How to automatically start 2 Java jars on AWS EC2?","body":"<p>I am not sure which system you are using in starting application:\nFor linux base system, you can use crontab to schedule the task when the server reboot.\nFollow this steps:</p>\n<ol>\n<li><p>Download crontab</p>\n<p>#apt-get install cron</p>\n</li>\n<li><p>Edit the file file to enable the task</p>\n<p>crontab -e</p>\n<p>(Choose Vim or nano to edit the task)</p>\n</li>\n<li><p>Add this code to your server</p>\n<p>@reboot /usr/bin/java -jar XXXXX.jar</p>\n</li>\n<li><p>Save your file</p>\n</li>\n<li><p>Check the result</p>\n<p>crontab -l\n#systemctl status cron</p>\n</li>\n</ol>\n<p>This method works in my Debian system. For more details, you can refer to\n<a href=\"https://www.simplified.guide/linux/automatically-run-program-on-startup\" rel=\"nofollow noreferrer\">How to automatically run program on Linux startup</a></p>\n"},{"tags":[],"owner":{"account_id":12683449,"reputation":1423,"user_id":9216229,"display_name":"Marco Caberletti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635254237,"creation_date":1635254237,"answer_id":69723842,"question_id":69678243,"body_markdown":"I recommend to use Systemd.\r\nCreate a Systemd unit file for every microservice, save it in `/etc/systemd/system/my-app.service`. Something like that:\r\n\r\n    [Unit]\r\n    Description=My Java app\r\n    After=syslog.target network.target\r\n    \r\n    [Service]\r\n    EnvironmentFile=/etc/sysconfig/my-app-env\r\n    WorkingDirectory=/my/app/home\r\n    ExecStart=/usr/bin/java $JAVA_OPTS -jar my-app.jar\r\n    KillMode=process\r\n    User=my-app-user\r\n    Restart=on-failure\r\n    \r\n    [Install]\r\n    WantedBy=multi-user.target\r\n\r\nThen, run:\r\n```\r\nsystemctl daemon-reload\r\nsystemctl enable --now my-app\r\n```\r\n\r\nAfter that, you can use:\r\n```\r\nsystemctl status my-app\r\nsystemctl stop my-app\r\nsystemctl start my-app\r\n```","title":"How to automatically start 2 Java jars on AWS EC2?","body":"<p>I recommend to use Systemd.\nCreate a Systemd unit file for every microservice, save it in <code>/etc/systemd/system/my-app.service</code>. Something like that:</p>\n<pre><code>[Unit]\nDescription=My Java app\nAfter=syslog.target network.target\n\n[Service]\nEnvironmentFile=/etc/sysconfig/my-app-env\nWorkingDirectory=/my/app/home\nExecStart=/usr/bin/java $JAVA_OPTS -jar my-app.jar\nKillMode=process\nUser=my-app-user\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>Then, run:</p>\n<pre><code>systemctl daemon-reload\nsystemctl enable --now my-app\n</code></pre>\n<p>After that, you can use:</p>\n<pre><code>systemctl status my-app\nsystemctl stop my-app\nsystemctl start my-app\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15586524,"reputation":1970,"user_id":11244881,"display_name":"SKumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635266124,"creation_date":1635262243,"answer_id":69725948,"question_id":69678243,"body_markdown":"I am not a unix expert, but I see the only issue in running 2 java commands from terminal is that unless the first command returns, the next command is not executed. So, I think the solution would be run the 1st command in some interactive mode so that the other commands can be executed simultaneously.\r\n\r\nThere are ways in unix shell to run a command in background. I found this useful link - https://www.maketecheasier.com/run-bash-commands-background-linux/\r\n\r\nIn bash terminal, a command can be made to run in background by appending it with `&amp;`. So, I think you should be able to start both jars if you do something like -\r\n\r\n    java -jar /home/ec2-user/first.jar &amp;\r\n    java -jar /home/ec2-user/second.jar\r\n\r\n","title":"How to automatically start 2 Java jars on AWS EC2?","body":"<p>I am not a unix expert, but I see the only issue in running 2 java commands from terminal is that unless the first command returns, the next command is not executed. So, I think the solution would be run the 1st command in some interactive mode so that the other commands can be executed simultaneously.</p>\n<p>There are ways in unix shell to run a command in background. I found this useful link - <a href=\"https://www.maketecheasier.com/run-bash-commands-background-linux/\" rel=\"nofollow noreferrer\">https://www.maketecheasier.com/run-bash-commands-background-linux/</a></p>\n<p>In bash terminal, a command can be made to run in background by appending it with <code>&amp;</code>. So, I think you should be able to start both jars if you do something like -</p>\n<pre><code>java -jar /home/ec2-user/first.jar &amp;\njava -jar /home/ec2-user/second.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1635272608,"creation_date":1635272608,"answer_id":69728179,"question_id":69678243,"body_markdown":"Another solution is to bundle your jars into Docker images. This of course requires Docker runtime and adds an overhead, but it also has some benefits:\r\n\r\n- Complete separation of jar files. Easily use different java versions.\r\n- No need to worry about differences of local and ec2 environment.\r\n- Easily scale to 3 or more jars.\r\n- Use Docker Cli to build and start containers. Works great in a Devops Pipeline.\r\n\r\nYou can read [here][1] to learn how to create Spring Boot Docker images. After you build an image. You start it like this.:\r\n\r\n    docker run -p 8080:8080 springio/gs-spring-boot-docker\r\n\r\nYou can run as many docker run commands you need, one after another.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/spring-boot-docker/","title":"How to automatically start 2 Java jars on AWS EC2?","body":"<p>Another solution is to bundle your jars into Docker images. This of course requires Docker runtime and adds an overhead, but it also has some benefits:</p>\n<ul>\n<li>Complete separation of jar files. Easily use different java versions.</li>\n<li>No need to worry about differences of local and ec2 environment.</li>\n<li>Easily scale to 3 or more jars.</li>\n<li>Use Docker Cli to build and start containers. Works great in a Devops Pipeline.</li>\n</ul>\n<p>You can read <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"nofollow noreferrer\">here</a> to learn how to create Spring Boot Docker images. After you build an image. You start it like this.:</p>\n<pre><code>docker run -p 8080:8080 springio/gs-spring-boot-docker\n</code></pre>\n<p>You can run as many docker run commands you need, one after another.</p>\n"},{"tags":[],"owner":{"account_id":6962218,"reputation":186,"user_id":5341306,"display_name":"Imran.Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635395980,"creation_date":1635314269,"answer_id":69733491,"question_id":69678243,"body_markdown":"If you are running from bash, then join two jar commands with &quot;&amp;&quot; like below. \r\n\r\n    java -jar /home/ec2-user/first.jar&amp;java -jar /home/ec2-user/second.jar\r\n\r\n","title":"How to automatically start 2 Java jars on AWS EC2?","body":"<p>If you are running from bash, then join two jar commands with &quot;&amp;&quot; like below.</p>\n<pre><code>java -jar /home/ec2-user/first.jar&amp;java -jar /home/ec2-user/second.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13753711,"reputation":676,"user_id":9925191,"display_name":"Rose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635745806,"creation_date":1635745806,"answer_id":69793074,"question_id":69678243,"body_markdown":"**coupon service**\r\n1. Run the command &#39;java -jar /home/ec2-user/coupon-service-0.0.1-SNAPSHOT.JAR&#39;\r\n2. Press CTRL+Z, type bg, press Enter, type disown, press Enter.\r\n\r\n**product service**\r\n1. Run the command &#39;java -jar /home/ec2-user/product-service-0.0.1-SNAPSHOT.JAR&#39;\r\n2. Press CTRL+Z, type bg, press Enter, type disown, press Enter.\r\n\r\n**NOTE**: Both services should have different ports.","title":"How to automatically start 2 Java jars on AWS EC2?","body":"<p><strong>coupon service</strong></p>\n<ol>\n<li>Run the command 'java -jar /home/ec2-user/coupon-service-0.0.1-SNAPSHOT.JAR'</li>\n<li>Press CTRL+Z, type bg, press Enter, type disown, press Enter.</li>\n</ol>\n<p><strong>product service</strong></p>\n<ol>\n<li>Run the command 'java -jar /home/ec2-user/product-service-0.0.1-SNAPSHOT.JAR'</li>\n<li>Press CTRL+Z, type bg, press Enter, type disown, press Enter.</li>\n</ol>\n<p><strong>NOTE</strong>: Both services should have different ports.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69725948,"answer_count":6,"score":0,"last_activity_date":1635745806,"creation_date":1634911429,"question_id":69678243,"body_markdown":"I&#39;m learning to deploy Spring Boot apps on AWS EC2. And I know how to automate app launch, when I start the EC2 instance, I don&#39;t need to manually use the command java -jar java-service.jar, I just add this command in the /etc/rc.local file and that is all. But I have 2 microservice, and I want to start both of them automatically, but if I try to add both commands in the /etc/rc.local it&#39;s not working, only the first service will start, the second service will not start. \r\nSo I have the commands added like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd after I start the EC2 instance only the first service is started:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThank you!\r\n\r\n  [1]: https://i.stack.imgur.com/3CtuU.jpg\r\n  [2]: https://i.stack.imgur.com/Qd8rf.jpg","title":"How to automatically start 2 Java jars on AWS EC2?","body":"<p>I'm learning to deploy Spring Boot apps on AWS EC2. And I know how to automate app launch, when I start the EC2 instance, I don't need to manually use the command java -jar java-service.jar, I just add this command in the /etc/rc.local file and that is all. But I have 2 microservice, and I want to start both of them automatically, but if I try to add both commands in the /etc/rc.local it's not working, only the first service will start, the second service will not start.\nSo I have the commands added like this:</p>\n<p><a href=\"https://i.stack.imgur.com/3CtuU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3CtuU.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And after I start the EC2 instance only the first service is started:</p>\n<p><a href=\"https://i.stack.imgur.com/Qd8rf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qd8rf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Thank you!</p>\n"},{"tags":["java","arrays","decrement"],"answers":[{"tags":[],"owner":{"account_id":18114685,"reputation":125,"user_id":13171472,"display_name":"Vasudeva S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635745735,"creation_date":1635745735,"answer_id":69793062,"question_id":69792980,"body_markdown":"From what you have posted, I feel you need to hardcode a value of number of seats as n \r\ni.e. \r\n``` \r\nint n = 35;\r\n```\r\nFrom then on create a method to book seat and when that method is called from the front end decrement the value by one. \r\n\r\n``` \r\nreturn_type bookSeat(someParameters...){\r\n // Some Function Code\r\n  n--;\r\n}\r\n```\r\n\r\nIf you want to have a specific thing like seat numbers and if that seat is booked or not types\r\nthen create a boolan array something like \r\n\r\n```\r\nboolean arr[n+1] // denoting one based indexing\r\n```\r\n\r\nand initially set flag values as true or false denoting booked or not and then when the seat is booked then check if the seat is already booked or not. \r\nIf suppose i need to check by 23rd seat is booked or not \r\nwe could check \r\n```\r\nif(seatArr[23] == true){\r\n//Some function or output\r\n}\r\nelse{\r\n//Something else\r\n}\r\n```\r\n","title":"i want to do &quot;if a person book a seat the available seats must be depreciate by one&quot;. how can i do that?","body":"<p>From what you have posted, I feel you need to hardcode a value of number of seats as n\ni.e.</p>\n<pre><code>int n = 35;\n</code></pre>\n<p>From then on create a method to book seat and when that method is called from the front end decrement the value by one.</p>\n<pre><code>return_type bookSeat(someParameters...){\n // Some Function Code\n  n--;\n}\n</code></pre>\n<p>If you want to have a specific thing like seat numbers and if that seat is booked or not types\nthen create a boolan array something like</p>\n<pre><code>boolean arr[n+1] // denoting one based indexing\n</code></pre>\n<p>and initially set flag values as true or false denoting booked or not and then when the seat is booked then check if the seat is already booked or not.\nIf suppose i need to check by 23rd seat is booked or not\nwe could check</p>\n<pre><code>if(seatArr[23] == true){\n//Some function or output\n}\nelse{\n//Something else\n}\n</code></pre>\n"}],"owner":{"account_id":22918476,"reputation":11,"user_id":17054694,"display_name":"Vimesh Perera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69793062,"answer_count":1,"score":-2,"last_activity_date":1635745735,"creation_date":1635744949,"question_id":69792980,"body_markdown":"THE PROCESS IS &quot;I a person book a seat the available seats must be depreciate by one seat. The number of seats available are 35. I think I have to use array for this but I don&#39;t have an idea how to use it. \r\n\r\nThe below code (available_seats) that&#39;s where i want to show the available seats.\r\n\r\n          try {\r\n\r\n            String route_number = rnB.toString();\r\n            String depature_on = doB.toString();\r\n            String depature_time = dtB.toString();\r\n            String time_taken = timeB.toString();\r\n            String available_seats = asB.toString();\r\n            String price = pB.toString();\r\n            String custname = name.toString();\r\n            String custcontact = contact.toString();\r\n            \r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/eurobusdb?useSSL=false&quot;,&quot;root&quot;,&quot;Abc123&quot;);\r\n            \r\n            String SQL_INSERT_BOOKING = &quot;INSERT INTO booking (Depature_Country_And_City , Destination_Country_And_City, Depature_On, Depature_Time, Estimated_Time_Taken, Available_Seats, Price, Status, route, name, contact_number) VALUES ( ?,?,?,?,?,?,?,?,?,?,?);&quot;;\r\n            \r\n            PreparedStatement preparedStatement = connection.prepareStatement(SQL_INSERT_BOOKING);\r\n                  System.out.println(preparedStatement);\r\n            \r\n    \r\n            preparedStatement.setString(1, String.valueOf(combo1.getSelectedItem()));\r\n            preparedStatement.setString(2, String.valueOf(combo2.getSelectedItem()));\r\n            preparedStatement.setString(3, doB.getText());\r\n            preparedStatement.setString(4, dtB.getText());\r\n            preparedStatement.setString(5, timeB.getText());\r\n            preparedStatement.setString(6, asb.getText());\r\n            preparedStatement.setString(7, pB.getText());\r\n            preparedStatement.setString(8, &quot;Booked&quot;);\r\n            preparedStatement.setString(9, rnB.getText());\r\n            preparedStatement.setString(10, name.getText());\r\n            preparedStatement.setString(11, contact.getText());\r\n            preparedStatement.executeUpdate();\r\n            \r\n            System.out.println(preparedStatement);\r\n              }\r\n                  \r\n                  \r\n                  \r\n        } catch (Exception e) {\r\n        }","title":"i want to do &quot;if a person book a seat the available seats must be depreciate by one&quot;. how can i do that?","body":"<p>THE PROCESS IS &quot;I a person book a seat the available seats must be depreciate by one seat. The number of seats available are 35. I think I have to use array for this but I don't have an idea how to use it.</p>\n<p>The below code (available_seats) that's where i want to show the available seats.</p>\n<pre><code>      try {\n\n        String route_number = rnB.toString();\n        String depature_on = doB.toString();\n        String depature_time = dtB.toString();\n        String time_taken = timeB.toString();\n        String available_seats = asB.toString();\n        String price = pB.toString();\n        String custname = name.toString();\n        String custcontact = contact.toString();\n        \n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/eurobusdb?useSSL=false&quot;,&quot;root&quot;,&quot;Abc123&quot;);\n        \n        String SQL_INSERT_BOOKING = &quot;INSERT INTO booking (Depature_Country_And_City , Destination_Country_And_City, Depature_On, Depature_Time, Estimated_Time_Taken, Available_Seats, Price, Status, route, name, contact_number) VALUES ( ?,?,?,?,?,?,?,?,?,?,?);&quot;;\n        \n        PreparedStatement preparedStatement = connection.prepareStatement(SQL_INSERT_BOOKING);\n              System.out.println(preparedStatement);\n        \n\n        preparedStatement.setString(1, String.valueOf(combo1.getSelectedItem()));\n        preparedStatement.setString(2, String.valueOf(combo2.getSelectedItem()));\n        preparedStatement.setString(3, doB.getText());\n        preparedStatement.setString(4, dtB.getText());\n        preparedStatement.setString(5, timeB.getText());\n        preparedStatement.setString(6, asb.getText());\n        preparedStatement.setString(7, pB.getText());\n        preparedStatement.setString(8, &quot;Booked&quot;);\n        preparedStatement.setString(9, rnB.getText());\n        preparedStatement.setString(10, name.getText());\n        preparedStatement.setString(11, contact.getText());\n        preparedStatement.executeUpdate();\n        \n        System.out.println(preparedStatement);\n          }\n              \n              \n              \n    } catch (Exception e) {\n    }\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":4300291,"reputation":2427,"user_id":3514144,"accept_rate":17,"display_name":"Ajay Pandya"},"score":0,"creation_date":1562646174,"post_id":56945307,"comment_id":100430179,"body_markdown":"Didn&#39;t get your problem exactly what you want ?","body":"Didn&#39;t get your problem exactly what you want ?"},{"owner":{"account_id":5083634,"reputation":8667,"user_id":4079010,"accept_rate":50,"display_name":"Rahul Khurana"},"score":0,"creation_date":1562646257,"post_id":56945307,"comment_id":100430196,"body_markdown":"It is clearly written **Invalid data. Nested arrays are not supported**. You should try to save it another way like json etc","body":"It is clearly written <b>Invalid data. Nested arrays are not supported</b>. You should try to save it another way like json etc"},{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1562648350,"post_id":56945307,"comment_id":100430648,"body_markdown":"Check [this](https://stackoverflow.com/questions/46593953/nested-arrays-are-not-supported)","body":"Check <a href=\"https://stackoverflow.com/questions/46593953/nested-arrays-are-not-supported\">this</a>"},{"owner":{"account_id":3107277,"reputation":1237,"user_id":2629813,"accept_rate":100,"display_name":"Akshatha S R"},"score":0,"creation_date":1562648547,"post_id":56945307,"comment_id":100430692,"body_markdown":"What are u trying to insert? Is it a file or data? If you are trying to insert data, better use firebase realtime database, or it is a file, there is some other way","body":"What are u trying to insert? Is it a file or data? If you are trying to insert data, better use firebase realtime database, or it is a file, there is some other way"}],"answers":[{"tags":[],"owner":{"account_id":3107277,"reputation":1237,"user_id":2629813,"accept_rate":100,"display_name":"Akshatha S R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562648754,"creation_date":1562648754,"answer_id":56945671,"question_id":56945307,"body_markdown":"Here is the code to upload a file to firestore\r\n\r\n    FirebaseStorage storage = FirebaseStorage.getInstance();\r\n    StorageReference storageReference = storage.getReference();\r\n\r\n    private void uploadImage() {\r\n            if (filePath != null) { //path of the file you want to upload\r\n                final ProgressDialog dialog = new ProgressDialog(this);\r\n                dialog.setTitle(&quot;Uploading...&quot;);\r\n                dialog.show();\r\n    \r\n                StorageReference ref = storageReference.child(&quot;images/&quot; + UUID.randomUUID().toString());\r\n                ref.putFile(filePath)\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                            @Override\r\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                dialog.dismiss();\r\n                                System.out.println(&quot;image uploaded path &quot; + taskSnapshot.getUploadSessionUri());\r\n                                Toast.makeText(ListActivity.this, R.string.upload_success, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                dialog.dismiss();\r\n                                Toast.makeText(ListActivity.this, R.string.upload_failure, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        })\r\n                        .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                            @Override\r\n                            public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                double progress = (100.0*taskSnapshot.getBytesTransferred()/taskSnapshot\r\n                                        .getTotalByteCount());\r\n                                dialog.setMessage(&quot;Uploaded &quot;+(int)progress+&quot;%&quot;);\r\n                            }\r\n                        });\r\n    \r\n            }\r\n        }","title":"Problem with Cloud Firestore adding document - Android Studio","body":"<p>Here is the code to upload a file to firestore</p>\n\n<pre><code>FirebaseStorage storage = FirebaseStorage.getInstance();\nStorageReference storageReference = storage.getReference();\n\nprivate void uploadImage() {\n        if (filePath != null) { //path of the file you want to upload\n            final ProgressDialog dialog = new ProgressDialog(this);\n            dialog.setTitle(\"Uploading...\");\n            dialog.show();\n\n            StorageReference ref = storageReference.child(\"images/\" + UUID.randomUUID().toString());\n            ref.putFile(filePath)\n                    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                            dialog.dismiss();\n                            System.out.println(\"image uploaded path \" + taskSnapshot.getUploadSessionUri());\n                            Toast.makeText(ListActivity.this, R.string.upload_success, Toast.LENGTH_LONG).show();\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            dialog.dismiss();\n                            Toast.makeText(ListActivity.this, R.string.upload_failure, Toast.LENGTH_LONG).show();\n                        }\n                    })\n                    .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n                        @Override\n                        public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\n                            double progress = (100.0*taskSnapshot.getBytesTransferred()/taskSnapshot\n                                    .getTotalByteCount());\n                            dialog.setMessage(\"Uploaded \"+(int)progress+\"%\");\n                        }\n                    });\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7756842,"reputation":859,"user_id":5870824,"display_name":"Parth Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635745655,"creation_date":1562651120,"answer_id":56946013,"question_id":56945307,"body_markdown":"If you want to store an ArrayList data into Firestore, first iterate the entire ArrayList. Then, pass that variable only into HashMap.\r\n\r\n    private ArrayList serviceNameList = new ArrayList();\r\n    \r\n    serviceNameList.add(&quot;windows&quot;);\r\n    serviceNameList.add(&quot;linux&quot;);\r\n    serviceNameList.add(&quot;mac&quot;);\r\n    \r\n    Map&lt;String, Object&gt; service = new HashMap&lt;&gt;();\r\n    service.put(&quot;full_name&quot;, full_name.getText().toString());\r\n    service.put(&quot;Services_names&quot;, serviceNameList);\r\n\r\n\r\n&gt; Kotlin\r\n\r\n    val serviceNameList = ArrayList&lt;Any&gt;()\r\n\r\n    serviceNameList.add(&quot;windows&quot;)\r\n    serviceNameList.add(&quot;linux&quot;)\r\n    serviceNameList.add(&quot;mac&quot;)\r\n\r\n    val service: MutableMap&lt;String, Any&gt; = HashMap()\r\n    service[&quot;full_name&quot;] = full_name.getText().toString()\r\n    service[&quot;Services_names&quot;] = serviceNameList","title":"Problem with Cloud Firestore adding document - Android Studio","body":"<p>If you want to store an ArrayList data into Firestore, first iterate the entire ArrayList. Then, pass that variable only into HashMap.</p>\n<pre><code>private ArrayList serviceNameList = new ArrayList();\n\nserviceNameList.add(&quot;windows&quot;);\nserviceNameList.add(&quot;linux&quot;);\nserviceNameList.add(&quot;mac&quot;);\n\nMap&lt;String, Object&gt; service = new HashMap&lt;&gt;();\nservice.put(&quot;full_name&quot;, full_name.getText().toString());\nservice.put(&quot;Services_names&quot;, serviceNameList);\n</code></pre>\n<blockquote>\n<p>Kotlin</p>\n</blockquote>\n<pre><code>val serviceNameList = ArrayList&lt;Any&gt;()\n\nserviceNameList.add(&quot;windows&quot;)\nserviceNameList.add(&quot;linux&quot;)\nserviceNameList.add(&quot;mac&quot;)\n\nval service: MutableMap&lt;String, Any&gt; = HashMap()\nservice[&quot;full_name&quot;] = full_name.getText().toString()\nservice[&quot;Services_names&quot;] = serviceNameList\n</code></pre>\n"}],"owner":{"account_id":16281810,"reputation":83,"user_id":11757500,"display_name":"yuli casta&#241;o"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1118,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56946013,"answer_count":2,"score":5,"last_activity_date":1635745655,"creation_date":1562646066,"question_id":56945307,"body_markdown":"pls help me with this tinny issue\r\n\r\nI&#39;ve this android code:\r\n\r\n    private ArrayList serviceNameList = new ArrayList();\r\n\r\n    serviceNameList.add(&quot;windows&quot;);\r\n    serviceNameList.add(&quot;linux&quot;);\r\n    serviceNameList.add(&quot;mac&quot;);\r\n\r\nthen, i use firestore to save my data:\r\n\r\n    Map&lt;String, Object&gt; service = new HashMap&lt;&gt;();\r\n                service.put(&quot;full_name&quot;, full_name.getText().toString());\r\n                service.put(&quot;Services_names&quot;, Collections.singletonList(serviceNameList));\r\n\r\n                firestore.collection(&quot;service&quot;).document(&quot;new_service&quot;)\r\n                        .set(service)\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                                public void onSuccess(Void aVoid) {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Success..!&quot;,Toast.LENGTH_SHORT).show();\r\n                                }\r\n                })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    String error = e.getMessage();\r\n                                    Toast.makeText(getApplicationContext(), &quot;Error: &quot; + error,Toast.LENGTH_SHORT).show();\r\n                            }\r\n                });\r\n\r\n\r\nall works fine when i comment or delete this line:\r\n\r\n    service.put(&quot;Services_names&quot;,Collections.singletonList(serviceNameList));\r\n\r\nBut when i enable it again my app fail... I want to know what can i do for solve this...\r\n\r\nThank you..!!!!\r\n\r\nbtw, this is my logcat\r\n\r\n    2019-07-08 23:03:04.943 com.comas.app E: FATAL EXCEPTION: main\r\n    Process: com.comas.app, PID: 30989\r\n    java.lang.IllegalArgumentException: Invalid data. Nested arrays are not supported\r\n        at com.google.firebase.firestore.core.UserData$ParseContext.createError(com.google.firebase:firebase-firestore@@19.0.2:293)\r\n        at com.google.firebase.firestore.UserDataConverter.parseData(com.google.firebase:firebase-firestore@@19.0.2:270)\r\n        at com.google.firebase.firestore.UserDataConverter.parseList(com.google.firebase:firebase-firestore@@19.0.2:307)\r\n        at com.google.firebase.firestore.UserDataConverter.parseData(com.google.firebase:firebase-firestore@@19.0.2:272)\r\n        at com.google.firebase.firestore.UserDataConverter.parseMap(com.google.firebase:firebase-firestore@@19.0.2:294)\r\n        at com.google.firebase.firestore.UserDataConverter.parseData(com.google.firebase:firebase-firestore@@19.0.2:250)\r\n        at com.google.firebase.firestore.UserDataConverter.convertAndParseDocumentData(com.google.firebase:firebase-firestore@@19.0.2:230)\r\n        at com.google.firebase.firestore.UserDataConverter.parseSetData(com.google.firebase:firebase-firestore@@19.0.2:83)\r\n        at com.google.firebase.firestore.DocumentReference.set(com.google.firebase:firebase-firestore@@19.0.2:175)\r\n        at com.google.firebase.firestore.DocumentReference.set(com.google.firebase:firebase-firestore@@19.0.2:154)\r\n        at com.comas.app.PopUpActivity$2.onClick(PopUpActivity.java:173)\r\n        at android.view.View.performClick(View.java:6663)\r\n        at android.view.View.performClickInternal(View.java:6635)\r\n        at android.view.View.access$3100(View.java:794)\r\n        at android.view.View$PerformClick.run(View.java:26199)\r\n        at android.os.Handler.handleCallback(Handler.java:907)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:216)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7593)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)2019-07-08 23:03:04.955 ? E: FaultDetect: DUMPTOOL_PRINTF return.\r\n\r\n","title":"Problem with Cloud Firestore adding document - Android Studio","body":"<p>pls help me with this tinny issue</p>\n\n<p>I've this android code:</p>\n\n<pre><code>private ArrayList serviceNameList = new ArrayList();\n\nserviceNameList.add(\"windows\");\nserviceNameList.add(\"linux\");\nserviceNameList.add(\"mac\");\n</code></pre>\n\n<p>then, i use firestore to save my data:</p>\n\n<pre><code>Map&lt;String, Object&gt; service = new HashMap&lt;&gt;();\n            service.put(\"full_name\", full_name.getText().toString());\n            service.put(\"Services_names\", Collections.singletonList(serviceNameList));\n\n            firestore.collection(\"service\").document(\"new_service\")\n                    .set(service)\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                            public void onSuccess(Void aVoid) {\n                                Toast.makeText(getApplicationContext(), \"Success..!\",Toast.LENGTH_SHORT).show();\n                            }\n            })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                            public void onFailure(@NonNull Exception e) {\n                                String error = e.getMessage();\n                                Toast.makeText(getApplicationContext(), \"Error: \" + error,Toast.LENGTH_SHORT).show();\n                        }\n            });\n</code></pre>\n\n<p>all works fine when i comment or delete this line:</p>\n\n<pre><code>service.put(\"Services_names\",Collections.singletonList(serviceNameList));\n</code></pre>\n\n<p>But when i enable it again my app fail... I want to know what can i do for solve this...</p>\n\n<p>Thank you..!!!!</p>\n\n<p>btw, this is my logcat</p>\n\n<pre><code>2019-07-08 23:03:04.943 com.comas.app E: FATAL EXCEPTION: main\nProcess: com.comas.app, PID: 30989\njava.lang.IllegalArgumentException: Invalid data. Nested arrays are not supported\n    at com.google.firebase.firestore.core.UserData$ParseContext.createError(com.google.firebase:firebase-firestore@@19.0.2:293)\n    at com.google.firebase.firestore.UserDataConverter.parseData(com.google.firebase:firebase-firestore@@19.0.2:270)\n    at com.google.firebase.firestore.UserDataConverter.parseList(com.google.firebase:firebase-firestore@@19.0.2:307)\n    at com.google.firebase.firestore.UserDataConverter.parseData(com.google.firebase:firebase-firestore@@19.0.2:272)\n    at com.google.firebase.firestore.UserDataConverter.parseMap(com.google.firebase:firebase-firestore@@19.0.2:294)\n    at com.google.firebase.firestore.UserDataConverter.parseData(com.google.firebase:firebase-firestore@@19.0.2:250)\n    at com.google.firebase.firestore.UserDataConverter.convertAndParseDocumentData(com.google.firebase:firebase-firestore@@19.0.2:230)\n    at com.google.firebase.firestore.UserDataConverter.parseSetData(com.google.firebase:firebase-firestore@@19.0.2:83)\n    at com.google.firebase.firestore.DocumentReference.set(com.google.firebase:firebase-firestore@@19.0.2:175)\n    at com.google.firebase.firestore.DocumentReference.set(com.google.firebase:firebase-firestore@@19.0.2:154)\n    at com.comas.app.PopUpActivity$2.onClick(PopUpActivity.java:173)\n    at android.view.View.performClick(View.java:6663)\n    at android.view.View.performClickInternal(View.java:6635)\n    at android.view.View.access$3100(View.java:794)\n    at android.view.View$PerformClick.run(View.java:26199)\n    at android.os.Handler.handleCallback(Handler.java:907)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:216)\n    at android.app.ActivityThread.main(ActivityThread.java:7593)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)2019-07-08 23:03:04.955 ? E: FaultDetect: DUMPTOOL_PRINTF return.\n</code></pre>\n"},{"tags":["java","macos","java-8","java-10"],"comments":[{"owner":{"account_id":9451181,"reputation":864,"user_id":7519767,"accept_rate":50,"display_name":"Peter Samokhin"},"score":2,"creation_date":1524810961,"post_id":50056598,"comment_id":87129628,"body_markdown":"You tried `sudo rm -rf jdk1.8.0_06.jdk` ?","body":"You tried <code>sudo rm -rf jdk1.8.0_06.jdk</code> ?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":6,"creation_date":1524811078,"post_id":50056598,"comment_id":87129693,"body_markdown":"This would better fit on superuser.com or maybe https://apple.stackexchange.com/","body":"This would better fit on superuser.com or maybe <a href=\"https://apple.stackexchange.com/\">apple.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1529751222,"creation_date":1524812321,"answer_id":50056979,"question_id":50056598,"body_markdown":"From the [official Oracle manual][1]. \r\n\r\n&gt; Navigate to `/Library/Java/JavaVirtualMachines` and remove the directory whose name matches the following format:\r\n\r\n&gt;     /Library/Java/JavaVirtualMachines/jdkmajor.minor.macro[_update].jdk\r\nFor example, to uninstall 8u6:\r\n\r\n&gt;     %rm -rf jdk1.8.0_06.jdk\r\n\r\n&gt; Do not attempt to uninstall Java by removing the Java tools from `/usr/bin`. This directory is part of the system software and any changes will be reset by Apple the next time you perform an update of the OS.\r\n\r\n\r\nTo remove system files you need to add sudo before rm -rf command.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html","title":"How to uninstall JDK on Mac OS?","body":"<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html\" rel=\"noreferrer\">official Oracle manual</a>. </p>\n\n<blockquote>\n  <p>Navigate to <code>/Library/Java/JavaVirtualMachines</code> and remove the directory whose name matches the following format:</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdkmajor.minor.macro[_update].jdk\n</code></pre>\n  \n  <p>For example, to uninstall 8u6:</p>\n\n<pre><code>%rm -rf jdk1.8.0_06.jdk\n</code></pre>\n  \n  <p>Do not attempt to uninstall Java by removing the Java tools from <code>/usr/bin</code>. This directory is part of the system software and any changes will be reset by Apple the next time you perform an update of the OS.</p>\n</blockquote>\n\n<p>To remove system files you need to add sudo before rm -rf command.</p>\n"},{"tags":[],"owner":{"account_id":10601614,"reputation":101,"user_id":7808399,"display_name":"Shawn Carey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1550002439,"creation_date":1550002076,"answer_id":54657944,"question_id":50056598,"body_markdown":"This answer is correct for JDK 8, but it would be nice to point out that Oracle provides different instructions for each release of the JDK. The link structure changes slightly for some versions, but generally you can go to https://docs.oracle.com/en/java/javase, select your JDK release, and look for the &quot;Install Guide&quot; link in the Overview group.\r\n\r\nFor example:\r\n\r\n* [JDK 9](https://docs.oracle.com/javase/9/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-F9183C70-2E96-40F4-9104-F3814A5A331F)\r\n* [JDK 10](https://docs.oracle.com/javase/10/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-F9183C70-2E96-40F4-9104-F3814A5A331F)\r\n* [JDK 11](https://docs.oracle.com/en/java/javase/11/install/installation-jdk-macos.html#GUID-F9183C70-2E96-40F4-9104-F3814A5A331F)\r\n\r\nAlso, the files in /usr/bin are _not_ part of the JDK, so you don&#39;t really want to remove them. On a system that has never had the JDK installed:\r\n\r\n    $ ls -l /usr/bin/java\r\n    lrwxr-xr-x  1 root  wheel  74 Sep 27 17:08 /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\r\n    \r\n    $ java -version\r\n    No Java runtime present, requesting install.\r\n\r\nApparently macOS includes a baseline version of the JDK, where each command is a stub that just prints this message and pops up a dialog in the GUI.","title":"How to uninstall JDK on Mac OS?","body":"<p>This answer is correct for JDK 8, but it would be nice to point out that Oracle provides different instructions for each release of the JDK. The link structure changes slightly for some versions, but generally you can go to <a href=\"https://docs.oracle.com/en/java/javase\" rel=\"noreferrer\">https://docs.oracle.com/en/java/javase</a>, select your JDK release, and look for the \"Install Guide\" link in the Overview group.</p>\n\n<p>For example:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/9/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-F9183C70-2E96-40F4-9104-F3814A5A331F\" rel=\"noreferrer\">JDK 9</a></li>\n<li><a href=\"https://docs.oracle.com/javase/10/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-F9183C70-2E96-40F4-9104-F3814A5A331F\" rel=\"noreferrer\">JDK 10</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/install/installation-jdk-macos.html#GUID-F9183C70-2E96-40F4-9104-F3814A5A331F\" rel=\"noreferrer\">JDK 11</a></li>\n</ul>\n\n<p>Also, the files in /usr/bin are <em>not</em> part of the JDK, so you don't really want to remove them. On a system that has never had the JDK installed:</p>\n\n<pre><code>$ ls -l /usr/bin/java\nlrwxr-xr-x  1 root  wheel  74 Sep 27 17:08 /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\n\n$ java -version\nNo Java runtime present, requesting install.\n</code></pre>\n\n<p>Apparently macOS includes a baseline version of the JDK, where each command is a stub that just prints this message and pops up a dialog in the GUI.</p>\n"},{"tags":[],"owner":{"account_id":6143954,"reputation":841,"user_id":5524245,"display_name":"Chetan kapoor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1551708303,"creation_date":1551708303,"answer_id":54984895,"question_id":50056598,"body_markdown":"If you want to remove JDK from mac you can use the following command:\r\n\r\n    cd /Library/Java/JavaVirtualMachines/\r\n\r\nand then use sudo to remove the jdk because you need root permissions to delete jdk from /Library/Java/JavaVirtualMachines/. \r\n/Library/Java/JavaVirtualMachines/ is owned by root.\r\n\r\n    sudo rm -rf jdk1.8.0_06.jdk\r\n\r\nhttps://installvirtual.com/uninstall-java-8-mac-os-x/\r\n","title":"How to uninstall JDK on Mac OS?","body":"<p>If you want to remove JDK from mac you can use the following command:</p>\n\n<pre><code>cd /Library/Java/JavaVirtualMachines/\n</code></pre>\n\n<p>and then use sudo to remove the jdk because you need root permissions to delete jdk from /Library/Java/JavaVirtualMachines/. \n/Library/Java/JavaVirtualMachines/ is owned by root.</p>\n\n<pre><code>sudo rm -rf jdk1.8.0_06.jdk\n</code></pre>\n\n<p><a href=\"https://installvirtual.com/uninstall-java-8-mac-os-x/\" rel=\"noreferrer\">https://installvirtual.com/uninstall-java-8-mac-os-x/</a></p>\n"},{"tags":[],"owner":{"account_id":9885056,"reputation":917,"user_id":7319797,"display_name":"KR Akhil"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1635745159,"creation_date":1635745159,"answer_id":69793007,"question_id":50056598,"body_markdown":"For MacOS - Big Sur | Using Terminal\r\n\r\nI was able to remove OpenJDK as per information provided in below link.\r\n\r\n[Site Link][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://actonnotes.wordpress.com/2020/11/22/how-to-remove-openjdk-version-15-on-apple-macos/\r\n  [2]: https://i.stack.imgur.com/GE11U.png","title":"How to uninstall JDK on Mac OS?","body":"<p>For MacOS - Big Sur | Using Terminal</p>\n<p>I was able to remove OpenJDK as per information provided in below link.</p>\n<p><a href=\"https://actonnotes.wordpress.com/2020/11/22/how-to-remove-openjdk-version-15-on-apple-macos/\" rel=\"noreferrer\">Site Link</a></p>\n<p><a href=\"https://i.stack.imgur.com/GE11U.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GE11U.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5979250,"reputation":381,"user_id":4698928,"display_name":"Shivank Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94968,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":50056979,"answer_count":4,"score":36,"last_activity_date":1635745159,"creation_date":1524810877,"question_id":50056598,"body_markdown":"Folks - I am facing challenges while trying to uninstall JDK from my MAC (macOS High Sierra Version 10.13.4 - 17E199). I have two JDK instances installed and I want to uninstall both of them.\r\n\r\nI am following the steps listed on this page: https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html\r\n\r\nI am trying to run this command in the /Library/Java/JavaVirtualMachines directory which throws an error that I do not have the permission.\r\n\r\n    rm -rf jdk1.8.0_06.jdk\r\n\r\nI am the administrator of the machine and am not sure what more permission do I need. I have made attempts as the admistrator and as the root user with no success.\r\n\r\nPlease share your thoughts on this.","title":"How to uninstall JDK on Mac OS?","body":"<p>Folks - I am facing challenges while trying to uninstall JDK from my MAC (macOS High Sierra Version 10.13.4 - 17E199). I have two JDK instances installed and I want to uninstall both of them.</p>\n\n<p>I am following the steps listed on this page: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html</a></p>\n\n<p>I am trying to run this command in the /Library/Java/JavaVirtualMachines directory which throws an error that I do not have the permission.</p>\n\n<pre><code>rm -rf jdk1.8.0_06.jdk\n</code></pre>\n\n<p>I am the administrator of the machine and am not sure what more permission do I need. I have made attempts as the admistrator and as the root user with no success.</p>\n\n<p>Please share your thoughts on this.</p>\n"},{"tags":["java","list","interface","decoupling"],"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1329425340,"post_id":2279030,"comment_id":11756969,"body_markdown":"More info here:  http://stackoverflow.com/questions/716597/array-or-list-in-java-which-is-faster","body":"More info here:  <a href=\"http://stackoverflow.com/questions/716597/array-or-list-in-java-which-is-faster\" title=\"array or list in java which is faster\">stackoverflow.com/questions/716597/&hellip;</a>"},{"owner":{"account_id":305754,"reputation":1711,"user_id":616104,"display_name":"raudi"},"score":0,"creation_date":1479118973,"post_id":2279030,"comment_id":68408141,"body_markdown":"See my answer about Serialization where you have to use (2)!","body":"See my answer about Serialization where you have to use (2)!"},{"owner":{"account_id":5059496,"reputation":57,"user_id":4061615,"display_name":"Ashish Prajapat"},"score":1,"creation_date":1633161981,"post_id":2279030,"comment_id":122691118,"body_markdown":"You will understand the difference when you solve this problem\nhttps://leetcode.com/problems/kids-with-the-greatest-number-of-candies/\nWhere, \nArrayList&lt;Boolean&gt; result = new ArrayList&lt;Boolean&gt;();\nis faster than\nList&lt;Boolean&gt; result = new ArrayList&lt;Boolean&gt;();","body":"You will understand the difference when you solve this problem <a href=\"https://leetcode.com/problems/kids-with-the-greatest-number-of-candies/\" rel=\"nofollow noreferrer\">leetcode.com/problems/kids-with-the-greatest-number-of-candi&zwnj;&#8203;es</a> Where,  ArrayList&lt;Boolean&gt; result = new ArrayList&lt;Boolean&gt;(); is faster than List&lt;Boolean&gt; result = new ArrayList&lt;Boolean&gt;();"},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1636195645,"post_id":2279030,"comment_id":123494949,"body_markdown":"@AshishPrajapat No way. An interface is not faster than an implementation. They both use the same object under the hood.","body":"@AshishPrajapat No way. An interface is not faster than an implementation. They both use the same object under the hood."},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1644506446,"post_id":2279030,"comment_id":125629832,"body_markdown":"https://stackoverflow.com/a/31202308/1216775 simple answer!!","body":"<a href=\"https://stackoverflow.com/a/31202308/1216775\">stackoverflow.com/a/31202308/1216775</a> simple answer!!"}],"answers":[{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":2,"up_vote_count":500,"is_accepted":true,"score":498,"last_activity_date":1571912781,"creation_date":1266392771,"answer_id":2279059,"question_id":2279030,"body_markdown":"Almost always `List` is preferred over `ArrayList` because, for instance, `List` can be translated into a [`LinkedList`][1] without affecting the rest of the codebase.\r\n\r\nIf one used `ArrayList` instead of `List`, it&#39;s hard to change the `ArrayList` implementation into a `LinkedList` one because `ArrayList` specific methods have been used in the codebase that would also require restructuring.\r\n\r\nYou can read about the `List` implementations [here][2].\r\n\r\nYou may start with an `ArrayList`, but soon after discover that another implementation is the more appropriate choice.\r\n\r\n  [1]: http://java.sun.com/javase/7/docs/api/java/util/LinkedList.html\r\n  [2]: http://java.sun.com/docs/books/tutorial/collections/implementations/list.html","title":"Type List vs type ArrayList in Java","body":"<p>Almost always <code>List</code> is preferred over <code>ArrayList</code> because, for instance, <code>List</code> can be translated into a <a href=\"http://java.sun.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\"><code>LinkedList</code></a> without affecting the rest of the codebase.</p>\n\n<p>If one used <code>ArrayList</code> instead of <code>List</code>, it's hard to change the <code>ArrayList</code> implementation into a <code>LinkedList</code> one because <code>ArrayList</code> specific methods have been used in the codebase that would also require restructuring.</p>\n\n<p>You can read about the <code>List</code> implementations <a href=\"http://java.sun.com/docs/books/tutorial/collections/implementations/list.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>You may start with an <code>ArrayList</code>, but soon after discover that another implementation is the more appropriate choice.</p>\n"},{"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1266392878,"creation_date":1266392878,"answer_id":2279067,"question_id":2279030,"body_markdown":"I would say that 1 is preferred, unless \r\n\r\n  - you are depending on the implementation of optional behavior* in ArrayList, in that case explicitly using ArrayList is more clear\r\n  - You will be using the ArrayList in a method call which requires ArrayList, possibly for optional behavior or performance characteristics\r\n\r\nMy guess is that in 99% of the cases you can get by with List, which is preferred.\r\n\r\n* for instance `removeAll`, or `add(null)`","title":"Type List vs type ArrayList in Java","body":"<p>I would say that 1 is preferred, unless </p>\n\n<ul>\n<li>you are depending on the implementation of optional behavior* in ArrayList, in that case explicitly using ArrayList is more clear</li>\n<li>You will be using the ArrayList in a method call which requires ArrayList, possibly for optional behavior or performance characteristics</li>\n</ul>\n\n<p>My guess is that in 99% of the cases you can get by with List, which is preferred.</p>\n\n<ul>\n<li>for instance <code>removeAll</code>, or <code>add(null)</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":2,"up_vote_count":130,"is_accepted":false,"score":128,"last_activity_date":1635745065,"creation_date":1266393013,"answer_id":2279079,"question_id":2279030,"body_markdown":"&gt; I am wondering if anyone uses (2)? \r\n\r\nYes.  But rarely for a sound reason (IMO).\r\n\r\nAnd people get burned because they used `ArrayList` when they should have used `List`:\r\n\r\n  - Utility methods like `Collections.singletonList(...)` or `Arrays.asList(...)` don&#39;t return an `ArrayList`.\r\n\r\n  - Methods in the `List` API don&#39;t guarantee to return a list of the same type.  \r\n\r\nFor example of someone getting burned, in https://stackoverflow.com/a/1481123/139985 the poster had problems with &quot;slicing&quot; because `ArrayList.sublist(...)` doesn&#39;t return an `ArrayList` ... and he had designed his code to use `ArrayList` as the type of all of his list variables.  He ended up &quot;solving&quot; the problem by copying the sublist into a new `ArrayList`.\r\n\r\nThe argument that you need to know how the `List` behaves is largely addressed by using the `RandomAccess` marker interface.  Yes, it is a bit clunky, but the alternative is worse.\r\n\r\n&gt; Also, how often does the situation actually require using (1) over (2) (i.e. where (2) wouldn&#39;t suffice..aside &#39;coding to interfaces&#39; and best practices etc.)\r\n\r\nThe &quot;how often&quot; part of the question is objectively unanswerable.  \r\n\r\n&gt; (and can I please get an example) \r\n\r\nOccasionally, the application may require that you use methods in the `ArrayList` API that are *not* in the `List` API.  For example, `ensureCapacity(int)`, `trimToSize()` or `removeRange(int, int)`.  (And the last one will only arise if you have created a subtype of ArrayList that declares the method to be `public`.)\r\n\r\nThat is the only sound reason for coding to the class rather than the interface, IMO.  \r\n\r\n(It is theoretically possible that you will get a slight improvement in performance ... under certain circumstances ... on some platforms ... but unless you really need that last 0.05%, it is not worth doing this.  This is not a sound reason, IMO.)\r\n\r\n----------------\r\n\r\n&gt; You can’t write efficient code if you don’t know whether random access is efficient or not.\r\n\r\nThat is a valid point.  However, Java provides better ways to deal with that; e.g.\r\n\r\n    public &lt;T extends List &amp; RandomAccess&gt; void test(T list) {\r\n        // do stuff\r\n    }\r\n\r\nIf you call that with a list that does not implement `RandomAccess` you will get a compilation error.\r\n\r\nYou could also test dynamically ... using `instanceof` ... if static typing is too awkward.  And you could even write your code to use different algorithms (dynamically) depending on whether or not a list supported random access.\r\n\r\nNote that `ArrayList` is not the only list class that implements `RandomAccess`.  Others include `CopyOnWriteList`, `Stack` and `Vector`.\r\n\r\nI&#39;ve seen people make the same argument about `Serializable` (because `List` doesn&#39;t implement it) ... but the approach above solves this problem too.  (To the extent that it is *solvable at all* using runtime types.  An `ArrayList` will fail serialization if any element is not serializable.)\r\n\r\n-------------------\r\n\r\nFinally, I&#39;m not going to say &quot;because its is good style&quot;.  That &quot;reason&quot; is both a circular argument (&quot;**Why** is it &#39;good style&#39;?&quot;) and an appeal to an unstated (and probably non-existent!) higher authority (&quot;**Who** says it is &#39;good style&#39;?&quot;).\r\n\r\n(I do think it is good style to program to the interface, but I&#39;m not going to give that as a reason.  It is better for you to understand the *real* reasons and come to the (IMO) correct conclusions for yourself.  The correct conclusion *may* not always be the same ... depending on the context.)","title":"Type List vs type ArrayList in Java","body":"<blockquote>\n<p>I am wondering if anyone uses (2)?</p>\n</blockquote>\n<p>Yes.  But rarely for a sound reason (IMO).</p>\n<p>And people get burned because they used <code>ArrayList</code> when they should have used <code>List</code>:</p>\n<ul>\n<li><p>Utility methods like <code>Collections.singletonList(...)</code> or <code>Arrays.asList(...)</code> don't return an <code>ArrayList</code>.</p>\n</li>\n<li><p>Methods in the <code>List</code> API don't guarantee to return a list of the same type.</p>\n</li>\n</ul>\n<p>For example of someone getting burned, in <a href=\"https://stackoverflow.com/a/1481123/139985\">https://stackoverflow.com/a/1481123/139985</a> the poster had problems with &quot;slicing&quot; because <code>ArrayList.sublist(...)</code> doesn't return an <code>ArrayList</code> ... and he had designed his code to use <code>ArrayList</code> as the type of all of his list variables.  He ended up &quot;solving&quot; the problem by copying the sublist into a new <code>ArrayList</code>.</p>\n<p>The argument that you need to know how the <code>List</code> behaves is largely addressed by using the <code>RandomAccess</code> marker interface.  Yes, it is a bit clunky, but the alternative is worse.</p>\n<blockquote>\n<p>Also, how often does the situation actually require using (1) over (2) (i.e. where (2) wouldn't suffice..aside 'coding to interfaces' and best practices etc.)</p>\n</blockquote>\n<p>The &quot;how often&quot; part of the question is objectively unanswerable.</p>\n<blockquote>\n<p>(and can I please get an example)</p>\n</blockquote>\n<p>Occasionally, the application may require that you use methods in the <code>ArrayList</code> API that are <em>not</em> in the <code>List</code> API.  For example, <code>ensureCapacity(int)</code>, <code>trimToSize()</code> or <code>removeRange(int, int)</code>.  (And the last one will only arise if you have created a subtype of ArrayList that declares the method to be <code>public</code>.)</p>\n<p>That is the only sound reason for coding to the class rather than the interface, IMO.</p>\n<p>(It is theoretically possible that you will get a slight improvement in performance ... under certain circumstances ... on some platforms ... but unless you really need that last 0.05%, it is not worth doing this.  This is not a sound reason, IMO.)</p>\n<hr />\n<blockquote>\n<p>You can’t write efficient code if you don’t know whether random access is efficient or not.</p>\n</blockquote>\n<p>That is a valid point.  However, Java provides better ways to deal with that; e.g.</p>\n<pre><code>public &lt;T extends List &amp; RandomAccess&gt; void test(T list) {\n    // do stuff\n}\n</code></pre>\n<p>If you call that with a list that does not implement <code>RandomAccess</code> you will get a compilation error.</p>\n<p>You could also test dynamically ... using <code>instanceof</code> ... if static typing is too awkward.  And you could even write your code to use different algorithms (dynamically) depending on whether or not a list supported random access.</p>\n<p>Note that <code>ArrayList</code> is not the only list class that implements <code>RandomAccess</code>.  Others include <code>CopyOnWriteList</code>, <code>Stack</code> and <code>Vector</code>.</p>\n<p>I've seen people make the same argument about <code>Serializable</code> (because <code>List</code> doesn't implement it) ... but the approach above solves this problem too.  (To the extent that it is <em>solvable at all</em> using runtime types.  An <code>ArrayList</code> will fail serialization if any element is not serializable.)</p>\n<hr />\n<p>Finally, I'm not going to say &quot;because its is good style&quot;.  That &quot;reason&quot; is both a circular argument (&quot;<strong>Why</strong> is it 'good style'?&quot;) and an appeal to an unstated (and probably non-existent!) higher authority (&quot;<strong>Who</strong> says it is 'good style'?&quot;).</p>\n<p>(I do think it is good style to program to the interface, but I'm not going to give that as a reason.  It is better for you to understand the <em>real</em> reasons and come to the (IMO) correct conclusions for yourself.  The correct conclusion <em>may</em> not always be the same ... depending on the context.)</p>\n"},{"tags":[],"owner":{"account_id":102455,"reputation":1500,"user_id":275020,"accept_rate":86,"display_name":"Pavel Vyazankin"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1597928012,"creation_date":1266393098,"answer_id":2279083,"question_id":2279030,"body_markdown":"```java\r\n(3) Collection myCollection = new ArrayList&lt;?&gt;();\r\n```\r\n\r\nI am using this typically. And __only__ if I need List methods, I will use List. Same with ArrayList. You always can switch to more &quot;narrow&quot; interface, but you can&#39;t switch to more &quot;wide&quot;.","title":"Type List vs type ArrayList in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>(3) Collection myCollection = new ArrayList&lt;?&gt;();\n</code></pre>\n<p>I am using this typically. And <strong>only</strong> if I need List methods, I will use List. Same with ArrayList. You always can switch to more &quot;narrow&quot; interface, but you can't switch to more &quot;wide&quot;.</p>\n"},{"tags":[],"owner":{"account_id":101889,"reputation":5685,"user_id":273826,"accept_rate":100,"display_name":"Hans Westerbeek"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1266393269,"creation_date":1266393269,"answer_id":2279100,"question_id":2279030,"body_markdown":"The only case that I am aware of where (2) *can be* better is when using GWT, because it reduces application footprint (not my idea, but the google web toolkit team says so). But for regular java running inside the JVM (1) is probably always better.","title":"Type List vs type ArrayList in Java","body":"<p>The only case that I am aware of where (2) <em>can be</em> better is when using GWT, because it reduces application footprint (not my idea, but the google web toolkit team says so). But for regular java running inside the JVM (1) is probably always better.</p>\n"},{"tags":[],"owner":{"account_id":46515,"reputation":8715,"user_id":137483,"accept_rate":96,"display_name":"True Soft"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1266393327,"creation_date":1266393327,"answer_id":2279102,"question_id":2279030,"body_markdown":"I think the people who use (2) don&#39;t know the [Liskov substitution principle][1] or the [Dependency inversion principle][2]. Or they really have to use `ArrayList`.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Liskov_substitution_principle\r\n  [2]: http://en.wikipedia.org/wiki/Dependency_inversion_principle","title":"Type List vs type ArrayList in Java","body":"<p>I think the people who use (2) don't know the <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"noreferrer\">Liskov substitution principle</a> or the <a href=\"http://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"noreferrer\">Dependency inversion principle</a>. Or they really have to use <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":313842,"reputation":1285,"user_id":628696,"accept_rate":58,"display_name":"mazatwork"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1366546837,"creation_date":1366546837,"answer_id":16131034,"question_id":2279030,"body_markdown":"I use (2) if code is the &quot;owner&quot; of the list. This is for example true for local-only variables. There is no reason to use the abstract type `List` instead of `ArrayList`.\r\nAnother example to demonstrate ownership:\r\n\r\n\tpublic class Test {\r\n\t\t\r\n\t\t// This object is the owner of strings, so use the concrete type.\r\n\t\tprivate final ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t// This object uses the argument but doesn&#39;t own it, so use abstract type.\r\n\t\tpublic void addStrings(List&lt;String&gt; add) {\r\n\t\t\tstrings.addAll(add);\r\n\t\t}\r\n\t\t\r\n\t\t// Here we return the list but we do not give ownership away, so use abstract type. This also allows to create optionally an unmodifiable list.\r\n\t\tpublic List&lt;String&gt; getStrings() {\r\n\t\t\treturn Collections.unmodifiableList(strings);\r\n\t\t}\r\n\t\t\r\n\t\t// Here we create a new list and give ownership to the caller. Use concrete type.\r\n\t\tpublic ArrayList&lt;String&gt; getStringsCopy() {\r\n\t\t\treturn new ArrayList&lt;&gt;(strings);\r\n\t\t}\r\n\t}\r\n","title":"Type List vs type ArrayList in Java","body":"<p>I use (2) if code is the \"owner\" of the list. This is for example true for local-only variables. There is no reason to use the abstract type <code>List</code> instead of <code>ArrayList</code>.\nAnother example to demonstrate ownership:</p>\n\n<pre><code>public class Test {\n\n    // This object is the owner of strings, so use the concrete type.\n    private final ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\n\n    // This object uses the argument but doesn't own it, so use abstract type.\n    public void addStrings(List&lt;String&gt; add) {\n        strings.addAll(add);\n    }\n\n    // Here we return the list but we do not give ownership away, so use abstract type. This also allows to create optionally an unmodifiable list.\n    public List&lt;String&gt; getStrings() {\n        return Collections.unmodifiableList(strings);\n    }\n\n    // Here we create a new list and give ownership to the caller. Use concrete type.\n    public ArrayList&lt;String&gt; getStringsCopy() {\n        return new ArrayList&lt;&gt;(strings);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1408178103,"creation_date":1377085598,"answer_id":18356563,"question_id":2279030,"body_markdown":"It is ***considered good style*** to store a reference to a `HashSet` or `TreeSet` in a variable of type Set.\r\n\r\n`Set&lt;String&gt; names = new HashSet&lt;String&gt;();`\r\n\r\nThis way, you have to change only one line if you decide to use a `TreeSet` instead.\r\n\r\nAlso, methods that operate on sets should specify parameters of type Set:\r\n\r\n`public static void print(Set&lt;String&gt; s)`\r\n\r\nThen ***the method can be used for all set implementations***.\r\n\r\nIn theory, we should make the same recommendation for linked lists, namely to save\r\nLinkedList references in variables of type List. However, in the Java library, the List interface is common to both the `ArrayList` and the `LinkedList` class. In particular, it has get and set methods for random access, even though these methods are very inefficient for linked lists.\r\n\r\nYou ***can’t write efficient code*** if you don’t know whether random access is efficient or not.\r\n\r\nThis is plainly a serious design error in the standard library, and I cannot recommend using\r\nthe List interface for that reason. \r\n\r\nTo see just how embarrassing that error is, have a look at\r\nthe source code for the `binarySearch` method of the ***Collections*** class. That method takes a\r\nList parameter, but binary search makes no sense for a linked list. The code then clumsily\r\ntries to discover whether the list is a linked list, and then switches to a linear search!\r\n\r\nThe `Set` interface and the `Map` interface, are well designed, and you should use them.\r\n","title":"Type List vs type ArrayList in Java","body":"<p>It is <strong><em>considered good style</em></strong> to store a reference to a <code>HashSet</code> or <code>TreeSet</code> in a variable of type Set.</p>\n\n<p><code>Set&lt;String&gt; names = new HashSet&lt;String&gt;();</code></p>\n\n<p>This way, you have to change only one line if you decide to use a <code>TreeSet</code> instead.</p>\n\n<p>Also, methods that operate on sets should specify parameters of type Set:</p>\n\n<p><code>public static void print(Set&lt;String&gt; s)</code></p>\n\n<p>Then <strong><em>the method can be used for all set implementations</em></strong>.</p>\n\n<p>In theory, we should make the same recommendation for linked lists, namely to save\nLinkedList references in variables of type List. However, in the Java library, the List interface is common to both the <code>ArrayList</code> and the <code>LinkedList</code> class. In particular, it has get and set methods for random access, even though these methods are very inefficient for linked lists.</p>\n\n<p>You <strong><em>can’t write efficient code</em></strong> if you don’t know whether random access is efficient or not.</p>\n\n<p>This is plainly a serious design error in the standard library, and I cannot recommend using\nthe List interface for that reason. </p>\n\n<p>To see just how embarrassing that error is, have a look at\nthe source code for the <code>binarySearch</code> method of the <strong><em>Collections</em></strong> class. That method takes a\nList parameter, but binary search makes no sense for a linked list. The code then clumsily\ntries to discover whether the list is a linked list, and then switches to a linear search!</p>\n\n<p>The <code>Set</code> interface and the <code>Map</code> interface, are well designed, and you should use them.</p>\n"},{"tags":[],"owner":{"account_id":391142,"reputation":15526,"user_id":751641,"accept_rate":72,"display_name":"Denis Kutlubaev"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1386263650,"creation_date":1386263650,"answer_id":20406398,"question_id":2279030,"body_markdown":"When you write `List`, you actually tell, that your object implements `List` interface only, but you don&#39;t specify what class your object belongs to. \r\n\r\nWhen you write `ArrayList`, you specify that your object class is a resizable-array.\r\n\r\nSo, the first version makes your code more flexible in future.\r\n\r\nLook at Java docs: \r\n\r\n**[Class `ArrayList`][1]** - Resizable-array implementation of the `List` interface.\r\n\r\n**[Interface `List`][2]** - An ordered collection (also known as a sequence). The user of this interface has precise control over where in the list each element is inserted.\r\n\r\n**[`Array`][3]** - container object that holds a fixed number of values of a single type.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/List.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","title":"Type List vs type ArrayList in Java","body":"<p>When you write <code>List</code>, you actually tell, that your object implements <code>List</code> interface only, but you don't specify what class your object belongs to. </p>\n\n<p>When you write <code>ArrayList</code>, you specify that your object class is a resizable-array.</p>\n\n<p>So, the first version makes your code more flexible in future.</p>\n\n<p>Look at Java docs: </p>\n\n<p><strong><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\">Class <code>ArrayList</code></a></strong> - Resizable-array implementation of the <code>List</code> interface.</p>\n\n<p><strong><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html\">Interface <code>List</code></a></strong> - An ordered collection (also known as a sequence). The user of this interface has precise control over where in the list each element is inserted.</p>\n\n<p><strong><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\"><code>Array</code></a></strong> - container object that holds a fixed number of values of a single type.</p>\n"},{"tags":[],"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1410275525,"creation_date":1410275525,"answer_id":25748128,"question_id":2279030,"body_markdown":"For example you might decide a `LinkedList` is the best choice for your application, but then later decide `ArrayList` might be a better choice for performance reason.\r\n\r\nUse:\r\n\r\n    List list = new ArrayList(100); // will be better also to set the initial capacity of a collection \r\n\r\nInstead of:\r\n\r\n    ArrayList list = new ArrayList();\r\n\r\n---\r\n\r\n**For reference:**\r\n\r\n![enter image description here][1]\r\n\r\n*&lt;sup&gt;(posted mostly for Collection diagram)&lt;/sup&gt;*\r\n\r\n  [1]: http://i.stack.imgur.com/RvYA5.png","title":"Type List vs type ArrayList in Java","body":"<p>For example you might decide a <code>LinkedList</code> is the best choice for your application, but then later decide <code>ArrayList</code> might be a better choice for performance reason.</p>\n\n<p>Use:</p>\n\n<pre><code>List list = new ArrayList(100); // will be better also to set the initial capacity of a collection \n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>ArrayList list = new ArrayList();\n</code></pre>\n\n<hr>\n\n<p><strong>For reference:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/RvYA5.png\" alt=\"enter image description here\"></p>\n\n<p><em><sup>(posted mostly for Collection diagram)</sup></em></p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1435912804,"creation_date":1435912804,"answer_id":31202308,"question_id":2279030,"body_markdown":"Out of the following two:\r\n\r\n    (1) List&lt;?&gt; myList = new ArrayList&lt;?&gt;();\r\n    (2) ArrayList&lt;?&gt; myList = new ArrayList&lt;?&gt;();\r\n\r\nFirst is generally preferred. As you will be using methods from `List` interface only, it provides you the freedom to use some other implementation of `List` e.g. `LinkedList` in future. So it decouples you from specific implementation. Now there are two points worth mentioning:\r\n\r\n 1. We should always program to interface. More [here][1].\r\n 2. You will almost always end up using `ArrayList` over `LinkedList`. More [here][2].\r\n\r\n&gt; I am wondering if anyone uses (2)\r\n\r\nYes sometimes (read rarely). When we need methods that are part of implementation of `ArrayList` but not part of the interface `List`. For example `ensureCapacity`.\r\n\r\n&gt; Also, how often (and can I please get an example) does the situation\r\n&gt; actually require using (1) over (2)\r\n\r\nAlmost always you prefer option (1). This is a classical design pattern in OOP where you always try to decouple your code from specific implementation and program to the interface.\r\n\r\n  [1]: https://stackoverflow.com/questions/1992384/program-to-an-interface-what-does-it-mean\r\n  [2]: https://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist","title":"Type List vs type ArrayList in Java","body":"<p>Out of the following two:</p>\n\n<pre><code>(1) List&lt;?&gt; myList = new ArrayList&lt;?&gt;();\n(2) ArrayList&lt;?&gt; myList = new ArrayList&lt;?&gt;();\n</code></pre>\n\n<p>First is generally preferred. As you will be using methods from <code>List</code> interface only, it provides you the freedom to use some other implementation of <code>List</code> e.g. <code>LinkedList</code> in future. So it decouples you from specific implementation. Now there are two points worth mentioning:</p>\n\n<ol>\n<li>We should always program to interface. More <a href=\"https://stackoverflow.com/questions/1992384/program-to-an-interface-what-does-it-mean\">here</a>.</li>\n<li>You will almost always end up using <code>ArrayList</code> over <code>LinkedList</code>. More <a href=\"https://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist\">here</a>.</li>\n</ol>\n\n<blockquote>\n  <p>I am wondering if anyone uses (2)</p>\n</blockquote>\n\n<p>Yes sometimes (read rarely). When we need methods that are part of implementation of <code>ArrayList</code> but not part of the interface <code>List</code>. For example <code>ensureCapacity</code>.</p>\n\n<blockquote>\n  <p>Also, how often (and can I please get an example) does the situation\n  actually require using (1) over (2)</p>\n</blockquote>\n\n<p>Almost always you prefer option (1). This is a classical design pattern in OOP where you always try to decouple your code from specific implementation and program to the interface.</p>\n"},{"tags":[],"owner":{"account_id":5345191,"reputation":1314,"user_id":4260932,"accept_rate":8,"display_name":"Xar-e-ahmer Khan"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1597929059,"creation_date":1445946644,"answer_id":33367262,"question_id":2279030,"body_markdown":"**List is an interface. It doesn&#39;t have methods. When you call a method on a List reference, it in fact calls the method of ArrayList in both cases.**\r\n\r\nAnd for the future you can change `List obj = new ArrayList&lt;&gt;` to  `List obj = new LinkList&lt;&gt;` or other types which implement **List interface**.\r\n","title":"Type List vs type ArrayList in Java","body":"<p><strong>List is an interface. It doesn't have methods. When you call a method on a List reference, it in fact calls the method of ArrayList in both cases.</strong></p>\n<p>And for the future you can change <code>List obj = new ArrayList&lt;&gt;</code> to  <code>List obj = new LinkList&lt;&gt;</code> or other types which implement <strong>List interface</strong>.</p>\n"},{"tags":[],"owner":{"account_id":305754,"reputation":1711,"user_id":616104,"display_name":"raudi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1479122447,"creation_date":1479118950,"answer_id":40586435,"question_id":2279030,"body_markdown":"Actually there are occasions where (2) is not only preferred but mandatory and I am very surprised, that nobody mentions this here.\r\n\r\nSerialization!\r\n\r\nIf you have a serializable class and you want it to contain a list, then you must declare the field to be of a concrete and serializable type like `ArrayList` because the `List` interface does not extend `java.io.Serializable`\r\n\r\nObviously most people do not need serialization and forget about this.\r\n\r\nAn example:\r\n\r\n    public class ExampleData implements java.io.Serializable {\r\n\r\n    // The following also guarantees that strings is always an ArrayList.\r\n    private final ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n","title":"Type List vs type ArrayList in Java","body":"<p>Actually there are occasions where (2) is not only preferred but mandatory and I am very surprised, that nobody mentions this here.</p>\n\n<p>Serialization!</p>\n\n<p>If you have a serializable class and you want it to contain a list, then you must declare the field to be of a concrete and serializable type like <code>ArrayList</code> because the <code>List</code> interface does not extend <code>java.io.Serializable</code></p>\n\n<p>Obviously most people do not need serialization and forget about this.</p>\n\n<p>An example:</p>\n\n<pre><code>public class ExampleData implements java.io.Serializable {\n\n// The following also guarantees that strings is always an ArrayList.\nprivate final ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9693064,"reputation":396,"user_id":7190513,"display_name":"toxicafunk"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1482491160,"creation_date":1482491160,"answer_id":41300257,"question_id":2279030,"body_markdown":"Somebody asked this again (duplicate) which made me go a little deeper on this issue. \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\tlist.add(&quot;a&quot;);\r\n\t\tlist.add(&quot;b&quot;);\r\n\t\t\r\n\t\tArrayList&lt;String&gt; aList = new ArrayList&lt;String&gt;();\r\n\t\taList.add(&quot;a&quot;);\r\n\t\taList.add(&quot;b&quot;);\r\n\t\t\r\n\t}\r\n\r\nIf we use a bytecode viewer (I used http://asm.ow2.org/eclipse/index.html) weĺl see the following (only list initialization and assignment) for our **list** snippet:\r\n\r\n  \r\n\r\n       L0\r\n        LINENUMBER 9 L0\r\n        NEW ArrayList\r\n        DUP\r\n        INVOKESPECIAL ArrayList.&lt;init&gt; () : void\r\n        ASTORE 1\r\n       L1\r\n        LINENUMBER 10 L1\r\n        ALOAD 1: list\r\n        LDC &quot;a&quot;\r\n        INVOKEINTERFACE List.add (Object) : boolean\r\n        POP\r\n       L2\r\n        LINENUMBER 11 L2\r\n        ALOAD 1: list\r\n        LDC &quot;b&quot;\r\n        INVOKEINTERFACE List.add (Object) : boolean\r\n        POP\r\n\r\nand for **alist**:\r\n\r\n   \r\n\r\n       L3\r\n        LINENUMBER 13 L3\r\n        NEW java/util/ArrayList\r\n        DUP\r\n        INVOKESPECIAL java/util/ArrayList.&lt;init&gt; ()V\r\n        ASTORE 2\r\n       L4\r\n        LINENUMBER 14 L4\r\n        ALOAD 2\r\n        LDC &quot;a&quot;\r\n        INVOKEVIRTUAL java/util/ArrayList.add (Ljava/lang/Object;)Z\r\n        POP\r\n       L5\r\n        LINENUMBER 15 L5\r\n        ALOAD 2\r\n        LDC &quot;b&quot;\r\n        INVOKEVIRTUAL java/util/ArrayList.add (Ljava/lang/Object;)Z\r\n        POP\r\n\r\nThe difference is **list** ends up calling **INVOKEINTERFACE** whereas **aList** calls **INVOKEVIRTUAL**. Accoding to the Bycode Outline Plugin reference, \r\n\r\n&gt; invokeinterface is used to invoke a method declared within a Java\r\n&gt; interface\r\n\r\n while invokevirtual \r\n\r\n&gt; invokes all methods except interface methods (which use\r\n&gt; invokeinterface), static methods (which use invokestatic), and the few\r\n&gt; special cases handled by invokespecial.\r\n\r\nIn summary, invokevirtual pops **objectref** off the stack while for invokeinterface \r\n\r\n&gt; the interpreter pops &#39;n&#39; items off the operand stack, where &#39;n&#39; is an 8-bit unsigned\r\n&gt; integer parameter taken from the bytecode. The first of these items is\r\n&gt; objectref, a reference to the object whose method is being called.\r\n\r\nIf I understand this correctly, the difference is basically how each way retrieves **objectref**.","title":"Type List vs type ArrayList in Java","body":"<p>Somebody asked this again (duplicate) which made me go a little deeper on this issue. </p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    list.add(\"a\");\n    list.add(\"b\");\n\n    ArrayList&lt;String&gt; aList = new ArrayList&lt;String&gt;();\n    aList.add(\"a\");\n    aList.add(\"b\");\n\n}\n</code></pre>\n\n<p>If we use a bytecode viewer (I used <a href=\"http://asm.ow2.org/eclipse/index.html\" rel=\"nofollow noreferrer\">http://asm.ow2.org/eclipse/index.html</a>) weĺl see the following (only list initialization and assignment) for our <strong>list</strong> snippet:</p>\n\n<pre><code>   L0\n    LINENUMBER 9 L0\n    NEW ArrayList\n    DUP\n    INVOKESPECIAL ArrayList.&lt;init&gt; () : void\n    ASTORE 1\n   L1\n    LINENUMBER 10 L1\n    ALOAD 1: list\n    LDC \"a\"\n    INVOKEINTERFACE List.add (Object) : boolean\n    POP\n   L2\n    LINENUMBER 11 L2\n    ALOAD 1: list\n    LDC \"b\"\n    INVOKEINTERFACE List.add (Object) : boolean\n    POP\n</code></pre>\n\n<p>and for <strong>alist</strong>:</p>\n\n<pre><code>   L3\n    LINENUMBER 13 L3\n    NEW java/util/ArrayList\n    DUP\n    INVOKESPECIAL java/util/ArrayList.&lt;init&gt; ()V\n    ASTORE 2\n   L4\n    LINENUMBER 14 L4\n    ALOAD 2\n    LDC \"a\"\n    INVOKEVIRTUAL java/util/ArrayList.add (Ljava/lang/Object;)Z\n    POP\n   L5\n    LINENUMBER 15 L5\n    ALOAD 2\n    LDC \"b\"\n    INVOKEVIRTUAL java/util/ArrayList.add (Ljava/lang/Object;)Z\n    POP\n</code></pre>\n\n<p>The difference is <strong>list</strong> ends up calling <strong>INVOKEINTERFACE</strong> whereas <strong>aList</strong> calls <strong>INVOKEVIRTUAL</strong>. Accoding to the Bycode Outline Plugin reference, </p>\n\n<blockquote>\n  <p>invokeinterface is used to invoke a method declared within a Java\n  interface</p>\n</blockquote>\n\n<p>while invokevirtual </p>\n\n<blockquote>\n  <p>invokes all methods except interface methods (which use\n  invokeinterface), static methods (which use invokestatic), and the few\n  special cases handled by invokespecial.</p>\n</blockquote>\n\n<p>In summary, invokevirtual pops <strong>objectref</strong> off the stack while for invokeinterface </p>\n\n<blockquote>\n  <p>the interpreter pops 'n' items off the operand stack, where 'n' is an 8-bit unsigned\n  integer parameter taken from the bytecode. The first of these items is\n  objectref, a reference to the object whose method is being called.</p>\n</blockquote>\n\n<p>If I understand this correctly, the difference is basically how each way retrieves <strong>objectref</strong>.</p>\n"},{"tags":[],"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529099009,"creation_date":1529098684,"answer_id":50882972,"question_id":2279030,"body_markdown":"`List` interface have several different classes - `ArrayList` and `LinkedList`. `LinkedList` is used to create an indexed collections and `ArrayList` - to create sorted lists. So, you can use any of it in your arguments, but you can allow others developers who use your code, library, etc. to use different types of lists, not only which you use, so, in this method\r\n\r\n    ArrayList&lt;Object&gt; myMethod (ArrayList&lt;Object&gt; input) {\r\n       // body\r\n    }\r\n\r\nyou can use it only with `ArrayList`, not `LinkedList`, but you can allow to use any of `List` classes on other places where it method is using, it&#39;s just your choise, so using an interface can allow it:\r\n\r\n    List&lt;Object&gt; myMethod (List&lt;Object&gt; input) {\r\n       // body\r\n    }\r\n\r\nIn this method arguments you can use any of `List` classes which you want to use:\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt; ();\r\n\r\n    list.add (&quot;string&quot;);\r\n    \r\n    myMethod (list);\r\n\r\n\r\n**CONCLUSION:**\r\n\r\nUse the interfaces everywhere when it possible, don&#39;t restrict you or others to use different methods which they want to use.","title":"Type List vs type ArrayList in Java","body":"<p><code>List</code> interface have several different classes - <code>ArrayList</code> and <code>LinkedList</code>. <code>LinkedList</code> is used to create an indexed collections and <code>ArrayList</code> - to create sorted lists. So, you can use any of it in your arguments, but you can allow others developers who use your code, library, etc. to use different types of lists, not only which you use, so, in this method</p>\n\n<pre><code>ArrayList&lt;Object&gt; myMethod (ArrayList&lt;Object&gt; input) {\n   // body\n}\n</code></pre>\n\n<p>you can use it only with <code>ArrayList</code>, not <code>LinkedList</code>, but you can allow to use any of <code>List</code> classes on other places where it method is using, it's just your choise, so using an interface can allow it:</p>\n\n<pre><code>List&lt;Object&gt; myMethod (List&lt;Object&gt; input) {\n   // body\n}\n</code></pre>\n\n<p>In this method arguments you can use any of <code>List</code> classes which you want to use:</p>\n\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt; ();\n\nlist.add (\"string\");\n\nmyMethod (list);\n</code></pre>\n\n<p><strong>CONCLUSION:</strong></p>\n\n<p>Use the interfaces everywhere when it possible, don't restrict you or others to use different methods which they want to use.</p>\n"}],"owner":{"account_id":589790,"reputation":6691,"user_id":275030,"display_name":"kji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465840,"favorite_count":0,"down_vote_count":2,"up_vote_count":633,"closed_date":1586155639,"accepted_answer_id":2279059,"answer_count":15,"score":631,"last_activity_date":1635745065,"creation_date":1266392413,"question_id":2279030,"body_markdown":"    (1) List&lt;?&gt; myList = new ArrayList&lt;?&gt;();\r\n\r\n    (2) ArrayList&lt;?&gt; myList = new ArrayList&lt;?&gt;();\r\n\r\nI understand that with (1), implementations of the **List** interface can be swapped.  It seems that (1) is typically used in an application regardless of need (myself I always use this).  \r\n\r\nI am wondering if anyone uses (2)?  \r\n\r\nAlso, how often (and can I please get an example) does the situation actually require using (1) over (2) (i.e. where (2) wouldn&#39;t suffice..aside ***coding to interfaces*** and ***best practices*** etc.)\r\n","title":"Type List vs type ArrayList in Java","body":"<pre><code>(1) List&lt;?&gt; myList = new ArrayList&lt;?&gt;();\n\n(2) ArrayList&lt;?&gt; myList = new ArrayList&lt;?&gt;();\n</code></pre>\n\n<p>I understand that with (1), implementations of the <strong>List</strong> interface can be swapped.  It seems that (1) is typically used in an application regardless of need (myself I always use this).  </p>\n\n<p>I am wondering if anyone uses (2)?  </p>\n\n<p>Also, how often (and can I please get an example) does the situation actually require using (1) over (2) (i.e. where (2) wouldn't suffice..aside <strong><em>coding to interfaces</em></strong> and <strong><em>best practices</em></strong> etc.)</p>\n"},{"tags":["java","algorithm","dynamic","breadth-first-search"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1635745038,"post_id":69766080,"comment_id":123367287,"body_markdown":"The question seems to be related to [this](https://stackoverflow.com/questions/69792201/dynamic-programming-algorithm-that-finds-a-maximum-weight-independent-set-for-a) one","body":"The question seems to be related to <a href=\"https://stackoverflow.com/questions/69792201/dynamic-programming-algorithm-that-finds-a-maximum-weight-independent-set-for-a\">this</a> one"}],"owner":{"account_id":21386503,"reputation":11,"user_id":15751408,"display_name":"Christian Rechdan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635744864,"creation_date":1635497511,"question_id":69766080,"body_markdown":"can someone help me implement the maximum weight independent set for a TREE (not a graph)?\r\nThe tree is represented by an adjacency matrix, and we have an array for the weights of the vertices. \r\nBFS output: // 0: distances from start vertex\r\n        // 1: BFS-order\r\n        // 2: parent-IDs\r\nI tried this code, it doesn&#39;t work on all test cases and it says most of the time that the weight is too small.\r\nCan someone help me find the errors?\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Lab5\r\n{\r\n\r\n    /**\r\n     *  Problem: Find a maximum weight independent set using dynammic programming.\r\n     */\r\n\t\r\n\t\r\n    private static int[] problem(Tree t, int[] weights)\r\n    {\r\n        // Implement me!\r\n    \t\r\n    \t//base cases\r\n    \tif (t.noOfVertices==0) {\r\n    \t\treturn new int[] {};\r\n    \t}\r\n    \tif (t.noOfVertices==1) {\r\n    \t\treturn new int[] {weights[0]};\r\n    \t}\r\n    \t\r\n    \t//we will implement this using bfs, we will use 0 as the root\r\n    \tint[][] bfs = t.bfs(0);\r\n    \t\r\n    \t//finding leaves\r\n    \tint leaf[] = new int [t.noOfVertices];\r\n    \t\r\n    \t//now we can implement our algorithm\r\n    \t//M is the maximum weight of the tree if it contains i, and M1 is the maximum weight of the tree if it doesn&#39;t contain i\r\n    \tint M[]=new int[t.noOfVertices];\r\n    \tint M1[]=new int[t.noOfVertices];\r\n    \t\r\n    \t//treating elements that aren&#39;t leaves\r\n    \tint nodeDiscovered[] = new int[t.noOfVertices];\r\n    \t\r\n    \t\r\n    \tfor (int i = 0; i&lt;t.noOfVertices; i++) {\r\n    \t\tif (t.edges[i].length==1) {\r\n    \t\t\tleaf[i]=1;\r\n    \t\t\tM[i]=weights[i];\r\n    \t\t\tnodeDiscovered[i]=1;\r\n    \t\t\tM1[i]=0;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tleaf[i]=0;  \r\n    \t\t\tnodeDiscovered[i]=0;\r\n    \t\t\t}\r\n    \t}\r\n    \r\n    \tfor (int i = 1; i&lt;t.noOfVertices; i++) {\r\n    \t\tif (leaf[i]==1) {\r\n    \t\t\tint node = bfs[2][i];\r\n    \t\t\tif (nodeDiscovered[node]!=0) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n        \t\twhile (node&gt;-1) {\r\n        \t\t\tint parent = bfs[2][node];\r\n        \t\t\tArrayList&lt;Integer&gt; sibs = new ArrayList&lt;Integer&gt;();\r\n        \t\t\tif (parent!=-1) {\r\n        \t\t\t\tfor (int j = 0; j&lt;t.edges[parent].length; j++) {\r\n        \t\t\t\t\tif (t.edges[parent][j]!=bfs[2][parent]) {\r\n        \t\t\t\t\t\tsibs.add(t.edges[parent][j]);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t\telse {\r\n        \t\t\t\tsibs.add(node);\r\n        \t\t\t}\r\n        \t\t\tfor (int sib : sibs) {\r\n        \t\t\t\tif (nodeDiscovered[sib]!=0) {\r\n        \t\t\t\t\tcontinue;\r\n        \t\t\t\t}\r\n        \t\t\t\tM[sib]=weights[sib];\r\n        \t\t\t\tfor (int k : t.edges[sib]) {\r\n        \t\t\t\t\tif(bfs[0][sib]==bfs[0][k]-1) {\r\n        \t\t\t\t\t\tM[sib]=M[sib]+M1[k];\r\n        \t\t\t\t\t\tM1[sib]+=(M[k]&gt;M1[k])?M[k]:M1[k];\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t\tnodeDiscovered[sib]=1;\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\tnode = bfs[2][node];\r\n        \t\t}\r\n        \t\t\r\n    \t\t}\r\n    \t}\r\n    \t//putting the answers in an arraylist\r\n    \tArrayList&lt;Integer&gt; set = new ArrayList&lt;Integer&gt;();\r\n    \tif (M[0]&gt;M1[0]) {\r\n    \t\tset.add(0);\r\n    \t}\r\n    \tfor (int i = 1; i&lt;t.noOfVertices; i++) {\r\n    \t\tif (!set.contains(bfs[2][i]) &amp;&amp; M[i]&gt;=M1[i] ) {\r\n    \t\t\tset.add(i);\r\n    \t\t}\r\n    \t}\r\n    \tSystem.out.println(set);\r\n    \t//putting the elements of the arraylist into an array of int\r\n    \tint[] set1 = new int[set.size()];\r\n    \tfor (int i = 0; i&lt;set.size(); i++) {\r\n    \t\tset1[i]=set.get(i);\r\n    \t}\r\n        return set1;\r\n        \r\n    }\r\n\r\n    // ---------------------------------------------------------------------\r\n    // Do not change any of the code below!\r\n    // Do not change any of the code below!\r\n\r\n    /**\r\n     *  Determines if a given set of vertices is an independent set for the given tree.\r\n     */\r\n    private static boolean isIndSet(Tree t, int[] set)\r\n    {\r\n        if (set == null) return false;\r\n\r\n        boolean[] covered = new boolean[t.noOfVertices];\r\n\r\n        for (int i = 0; i &lt; set.length; i++)\r\n        {\r\n            int vId = set[i];\r\n            int[] neighs = t.edges[vId];\r\n\r\n            if (covered[vId]) return false;\r\n            covered[vId] = true;\r\n\r\n            for (int j = 0; j &lt; neighs.length; j++)\r\n            {\r\n                int nId = neighs[j];\r\n                covered[nId] = true;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private static final int LabNo = 5;\r\n    private static final String course = &quot;CS 427&quot;;\r\n    private static final String quarter = &quot;Fall 2021&quot;;\r\n    private static final Random rng = new Random(190817);\r\n\r\n    private static boolean testProblem(int[][] testCase)\r\n    {\r\n        int[] parents = testCase[0];\r\n        int[] weights = testCase[1];\r\n\r\n        Tree t = Tree.fromParents(parents);\r\n\r\n        int[] solution = maxIsWeight(t, weights);\r\n        int isWeight = solution[0];\r\n        int isSize = solution[1];\r\n\r\n        int[] answer = problem(t, weights.clone());\r\n\r\n        if (!isIndSet(t, answer))\r\n        {\r\n            System.out.println(&quot;Not an independent set.&quot;);\r\n            return false;\r\n        }\r\n\r\n        int ansWeight = 0;\r\n        for (int i = 0; i &lt; answer.length; i++)\r\n        {\r\n            ansWeight += weights[answer[i]];\r\n        }\r\n\r\n        if (ansWeight &lt; isWeight)\r\n        {\r\n            System.out.println(&quot;Weight too small.&quot;);\r\n            return false;\r\n        }\r\n\r\n        if (answer.length &lt; isSize)\r\n        {\r\n            System.out.println(&quot;Set too small.&quot;);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private static int[] maxIsWeight(Tree t, int[] weigh)\r\n    {\r\n        int n = t.noOfVertices;\r\n\r\n        int[][] dfs = t.dfs(0);\r\n        int[] post = dfs[2];\r\n\r\n        int[] w = new int[n];\r\n        for (int i = 0; i &lt; n; i++)\r\n        {\r\n            w[i] = weigh[i] * n + 1;\r\n        }\r\n\r\n        boolean[] isCandidate = new boolean[n];\r\n\r\n        for (int i = 0; i &lt; n; i++)\r\n        {\r\n            int vId = post[i];\r\n            if (w[vId] &lt;= 0) continue;\r\n\r\n            isCandidate[vId] = true;\r\n\r\n            int[] neighs = t.edges[vId];\r\n            for (int j = 0; j &lt; neighs.length; j++)\r\n            {\r\n                int uId = neighs[j];\r\n                w[uId] = Math.max(w[uId] - w[vId], 0);\r\n            }\r\n        }\r\n\r\n        int isWeight = 0;\r\n        int isSize = 0;\r\n\r\n        for (int i = n - 1; i &gt;= 0; i--)\r\n        {\r\n            int vId = post[i];\r\n            if (!isCandidate[vId]) continue;\r\n\r\n            isWeight += weigh[vId];\r\n            isSize++;\r\n\r\n            int[] neighs = t.edges[vId];\r\n            for (int j = 0; j &lt; neighs.length; j++)\r\n            {\r\n                int uId = neighs[j];\r\n                isCandidate[uId] = false;\r\n            }\r\n        }\r\n\r\n        return new int[] { isWeight, isSize };\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        System.out.println(course + &quot; -- &quot; + quarter + &quot; -- Lab &quot; + LabNo);\r\n\r\n        int noOfTests = 300;\r\n        boolean passedAll = true;\r\n\r\n        System.out.println(&quot;-- -- -- -- --&quot;);\r\n        System.out.println(noOfTests + &quot; random test cases.&quot;);\r\n\r\n        for (int i = 1; i &lt;= noOfTests; i++)\r\n        {\r\n            boolean passed = false;\r\n            boolean exce = false;\r\n\r\n            try\r\n            {\r\n                int[][] testCase = createProblem(i);\r\n                passed = testProblem(testCase);\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                passed = false;\r\n                exce = true;\r\n                ex.printStackTrace();\r\n            }\r\n\r\n            if (!passed)\r\n            {\r\n                System.out.println(&quot;Test &quot; + i + &quot; failed!&quot; + (exce ? &quot; (Exception)&quot; : &quot;&quot;));\r\n                passedAll = false;\r\n               //break;\r\n            }\r\n        }\r\n\r\n        if (passedAll)\r\n        {\r\n            System.out.println(&quot;All test passed.&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    private static int[][] createProblem(int testNo)\r\n    {\r\n        int size = rng.nextInt(Math.min(testNo, 5000)) + 5;\r\n\r\n        // -- Generate tree. ---\r\n\r\n        int[] parents = new int[size];\r\n        parents[0] = -1;\r\n\r\n        for (int i = 1; i &lt; parents.length; i++)\r\n        {\r\n            parents[i] = rng.nextInt(i);\r\n        }\r\n\r\n        // -- Generate weights. ---\r\n\r\n        int[] weights = new int[size];\r\n\r\n        for (int i = 0; i &lt; weights.length; i++)\r\n        {\r\n            weights[i] = rng.nextInt(256);\r\n        }\r\n\r\n        return new int[][] { parents, weights };\r\n    }\r\n\r\n}\r\n```\r\nI attached an image that contains the algorithm that I used.\r\n\r\n![][1]\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jbek6.jpg\r\n","title":"How to correctly implement maximum weight independent set of positive tree using BFS","body":"<p>can someone help me implement the maximum weight independent set for a TREE (not a graph)?\nThe tree is represented by an adjacency matrix, and we have an array for the weights of the vertices.\nBFS output: // 0: distances from start vertex\n// 1: BFS-order\n// 2: parent-IDs\nI tried this code, it doesn't work on all test cases and it says most of the time that the weight is too small.\nCan someone help me find the errors?</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Lab5\n{\n\n    /**\n     *  Problem: Find a maximum weight independent set using dynammic programming.\n     */\n    \n    \n    private static int[] problem(Tree t, int[] weights)\n    {\n        // Implement me!\n        \n        //base cases\n        if (t.noOfVertices==0) {\n            return new int[] {};\n        }\n        if (t.noOfVertices==1) {\n            return new int[] {weights[0]};\n        }\n        \n        //we will implement this using bfs, we will use 0 as the root\n        int[][] bfs = t.bfs(0);\n        \n        //finding leaves\n        int leaf[] = new int [t.noOfVertices];\n        \n        //now we can implement our algorithm\n        //M is the maximum weight of the tree if it contains i, and M1 is the maximum weight of the tree if it doesn't contain i\n        int M[]=new int[t.noOfVertices];\n        int M1[]=new int[t.noOfVertices];\n        \n        //treating elements that aren't leaves\n        int nodeDiscovered[] = new int[t.noOfVertices];\n        \n        \n        for (int i = 0; i&lt;t.noOfVertices; i++) {\n            if (t.edges[i].length==1) {\n                leaf[i]=1;\n                M[i]=weights[i];\n                nodeDiscovered[i]=1;\n                M1[i]=0;\n            }\n            else {\n                leaf[i]=0;  \n                nodeDiscovered[i]=0;\n                }\n        }\n    \n        for (int i = 1; i&lt;t.noOfVertices; i++) {\n            if (leaf[i]==1) {\n                int node = bfs[2][i];\n                if (nodeDiscovered[node]!=0) {\n                    continue;\n                }\n                while (node&gt;-1) {\n                    int parent = bfs[2][node];\n                    ArrayList&lt;Integer&gt; sibs = new ArrayList&lt;Integer&gt;();\n                    if (parent!=-1) {\n                        for (int j = 0; j&lt;t.edges[parent].length; j++) {\n                            if (t.edges[parent][j]!=bfs[2][parent]) {\n                                sibs.add(t.edges[parent][j]);\n                            }\n                        }\n                    }\n                    else {\n                        sibs.add(node);\n                    }\n                    for (int sib : sibs) {\n                        if (nodeDiscovered[sib]!=0) {\n                            continue;\n                        }\n                        M[sib]=weights[sib];\n                        for (int k : t.edges[sib]) {\n                            if(bfs[0][sib]==bfs[0][k]-1) {\n                                M[sib]=M[sib]+M1[k];\n                                M1[sib]+=(M[k]&gt;M1[k])?M[k]:M1[k];\n                            }\n                        }\n                        nodeDiscovered[sib]=1;\n                    }\n                    \n                    node = bfs[2][node];\n                }\n                \n            }\n        }\n        //putting the answers in an arraylist\n        ArrayList&lt;Integer&gt; set = new ArrayList&lt;Integer&gt;();\n        if (M[0]&gt;M1[0]) {\n            set.add(0);\n        }\n        for (int i = 1; i&lt;t.noOfVertices; i++) {\n            if (!set.contains(bfs[2][i]) &amp;&amp; M[i]&gt;=M1[i] ) {\n                set.add(i);\n            }\n        }\n        System.out.println(set);\n        //putting the elements of the arraylist into an array of int\n        int[] set1 = new int[set.size()];\n        for (int i = 0; i&lt;set.size(); i++) {\n            set1[i]=set.get(i);\n        }\n        return set1;\n        \n    }\n\n    // ---------------------------------------------------------------------\n    // Do not change any of the code below!\n    // Do not change any of the code below!\n\n    /**\n     *  Determines if a given set of vertices is an independent set for the given tree.\n     */\n    private static boolean isIndSet(Tree t, int[] set)\n    {\n        if (set == null) return false;\n\n        boolean[] covered = new boolean[t.noOfVertices];\n\n        for (int i = 0; i &lt; set.length; i++)\n        {\n            int vId = set[i];\n            int[] neighs = t.edges[vId];\n\n            if (covered[vId]) return false;\n            covered[vId] = true;\n\n            for (int j = 0; j &lt; neighs.length; j++)\n            {\n                int nId = neighs[j];\n                covered[nId] = true;\n            }\n        }\n\n        return true;\n    }\n\n    private static final int LabNo = 5;\n    private static final String course = &quot;CS 427&quot;;\n    private static final String quarter = &quot;Fall 2021&quot;;\n    private static final Random rng = new Random(190817);\n\n    private static boolean testProblem(int[][] testCase)\n    {\n        int[] parents = testCase[0];\n        int[] weights = testCase[1];\n\n        Tree t = Tree.fromParents(parents);\n\n        int[] solution = maxIsWeight(t, weights);\n        int isWeight = solution[0];\n        int isSize = solution[1];\n\n        int[] answer = problem(t, weights.clone());\n\n        if (!isIndSet(t, answer))\n        {\n            System.out.println(&quot;Not an independent set.&quot;);\n            return false;\n        }\n\n        int ansWeight = 0;\n        for (int i = 0; i &lt; answer.length; i++)\n        {\n            ansWeight += weights[answer[i]];\n        }\n\n        if (ansWeight &lt; isWeight)\n        {\n            System.out.println(&quot;Weight too small.&quot;);\n            return false;\n        }\n\n        if (answer.length &lt; isSize)\n        {\n            System.out.println(&quot;Set too small.&quot;);\n            return false;\n        }\n\n        return true;\n    }\n\n    private static int[] maxIsWeight(Tree t, int[] weigh)\n    {\n        int n = t.noOfVertices;\n\n        int[][] dfs = t.dfs(0);\n        int[] post = dfs[2];\n\n        int[] w = new int[n];\n        for (int i = 0; i &lt; n; i++)\n        {\n            w[i] = weigh[i] * n + 1;\n        }\n\n        boolean[] isCandidate = new boolean[n];\n\n        for (int i = 0; i &lt; n; i++)\n        {\n            int vId = post[i];\n            if (w[vId] &lt;= 0) continue;\n\n            isCandidate[vId] = true;\n\n            int[] neighs = t.edges[vId];\n            for (int j = 0; j &lt; neighs.length; j++)\n            {\n                int uId = neighs[j];\n                w[uId] = Math.max(w[uId] - w[vId], 0);\n            }\n        }\n\n        int isWeight = 0;\n        int isSize = 0;\n\n        for (int i = n - 1; i &gt;= 0; i--)\n        {\n            int vId = post[i];\n            if (!isCandidate[vId]) continue;\n\n            isWeight += weigh[vId];\n            isSize++;\n\n            int[] neighs = t.edges[vId];\n            for (int j = 0; j &lt; neighs.length; j++)\n            {\n                int uId = neighs[j];\n                isCandidate[uId] = false;\n            }\n        }\n\n        return new int[] { isWeight, isSize };\n    }\n\n    public static void main(String args[])\n    {\n        System.out.println(course + &quot; -- &quot; + quarter + &quot; -- Lab &quot; + LabNo);\n\n        int noOfTests = 300;\n        boolean passedAll = true;\n\n        System.out.println(&quot;-- -- -- -- --&quot;);\n        System.out.println(noOfTests + &quot; random test cases.&quot;);\n\n        for (int i = 1; i &lt;= noOfTests; i++)\n        {\n            boolean passed = false;\n            boolean exce = false;\n\n            try\n            {\n                int[][] testCase = createProblem(i);\n                passed = testProblem(testCase);\n            }\n            catch (Exception ex)\n            {\n                passed = false;\n                exce = true;\n                ex.printStackTrace();\n            }\n\n            if (!passed)\n            {\n                System.out.println(&quot;Test &quot; + i + &quot; failed!&quot; + (exce ? &quot; (Exception)&quot; : &quot;&quot;));\n                passedAll = false;\n               //break;\n            }\n        }\n\n        if (passedAll)\n        {\n            System.out.println(&quot;All test passed.&quot;);\n        }\n\n    }\n\n    private static int[][] createProblem(int testNo)\n    {\n        int size = rng.nextInt(Math.min(testNo, 5000)) + 5;\n\n        // -- Generate tree. ---\n\n        int[] parents = new int[size];\n        parents[0] = -1;\n\n        for (int i = 1; i &lt; parents.length; i++)\n        {\n            parents[i] = rng.nextInt(i);\n        }\n\n        // -- Generate weights. ---\n\n        int[] weights = new int[size];\n\n        for (int i = 0; i &lt; weights.length; i++)\n        {\n            weights[i] = rng.nextInt(256);\n        }\n\n        return new int[][] { parents, weights };\n    }\n\n}\n</code></pre>\n<p>I attached an image that contains the algorithm that I used.</p>\n<p><img src=\"https://i.stack.imgur.com/jbek6.jpg\" alt=\"\" /></p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635743914,"creation_date":1635743914,"answer_id":69792884,"question_id":69792859,"body_markdown":"Your `result` list is a list of references to `row`. The first time you iterate, `row` refers to an array like `[1]`. As you keep going through the iterations, you&#39;re continuously dereferencing and referencing the variable row. \r\nSince result is essentially [row ,row , row, row ... and so on], you&#39;re seeing the result you see here. You&#39;ll get the same object as the same block of memory is being referenced and you&#39;re overwriting it each time. \r\n\r\nOn the other hand, `new ArrayList(row)` actually creates a new block of memory with duplicated data from `row` - hence this works.","title":"Why do I get wrong result","body":"<p>Your <code>result</code> list is a list of references to <code>row</code>. The first time you iterate, <code>row</code> refers to an array like <code>[1]</code>. As you keep going through the iterations, you're continuously dereferencing and referencing the variable row.\nSince result is essentially [row ,row , row, row ... and so on], you're seeing the result you see here. You'll get the same object as the same block of memory is being referenced and you're overwriting it each time.</p>\n<p>On the other hand, <code>new ArrayList(row)</code> actually creates a new block of memory with duplicated data from <code>row</code> - hence this works.</p>\n"}],"owner":{"account_id":12817770,"reputation":27,"user_id":9273847,"display_name":"Binky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69792884,"answer_count":1,"score":-1,"last_activity_date":1635744271,"creation_date":1635743531,"question_id":69792859,"body_markdown":"I am doing Leetcode 118 Pascal&#39;s Triangle and my code is as below. The testcase is five. I should get\r\n```none\r\n[[1],[1,1],[1,2,1],[1,3,3,1],[1,4,6,4,1]].\r\n```\r\nHowever, my output is\r\n```none\r\n[[1,4,6,4,1],[1,4,6,4,1],[1,4,6,4,1],[1,4,6,4,1],[1,4,6,4,1]]\r\n```\r\nI know that the line with comments was not right. But can anyone let me know why I can&#39;t just add row to the result? Thanks! \r\n\r\n    class Solution {\r\n        public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\r\n            List&lt;List&lt;Integer&gt;&gt; result = new ArrayList();\r\n            List&lt;Integer&gt; row = new ArrayList();\r\n            for(int i = 0; i &lt; numRows; i++ ){\r\n                row.add(0,1);\r\n                for(int j = 1; j &lt; row.size()-1; j++){\r\n                    row.set(j, row.get(j) + row.get(j+1));\r\n                }\r\n                result.add(row); // this line should be result.add(new ArrayList(row));\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n","title":"Why do I get wrong result","body":"<p>I am doing Leetcode 118 Pascal's Triangle and my code is as below. The testcase is five. I should get</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[1],[1,1],[1,2,1],[1,3,3,1],[1,4,6,4,1]].\n</code></pre>\n<p>However, my output is</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[1,4,6,4,1],[1,4,6,4,1],[1,4,6,4,1],[1,4,6,4,1],[1,4,6,4,1]]\n</code></pre>\n<p>I know that the line with comments was not right. But can anyone let me know why I can't just add row to the result? Thanks!</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList();\n        List&lt;Integer&gt; row = new ArrayList();\n        for(int i = 0; i &lt; numRows; i++ ){\n            row.add(0,1);\n            for(int j = 1; j &lt; row.size()-1; j++){\n                row.set(j, row.get(j) + row.get(j+1));\n            }\n            result.add(row); // this line should be result.add(new ArrayList(row));\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3806886,"reputation":5410,"user_id":3159059,"display_name":"GaryMBloom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635743489,"creation_date":1606604697,"answer_id":65055341,"question_id":49581705,"body_markdown":"To use CMUdict to count syllables, you simply need to find a CMUdict entry that corresponds to the word you&#39;re analyzing. Once you have an entry, you can count the vowel sounds in it. The vowel sounds always end in a numeric digit, either 0, 1, or 2.\r\n\r\nThere is a module called cmudict which automatically imports the CMUdict library and preprocesses it. You should start there.\r\n\r\n    import cmudict\r\n\r\n    def lookup_word(word_s):\r\n        return cmudict.dict().get(word_s)\r\n\r\n    def count_syllables(word_s):\r\n        count = 0\r\n        phones = lookup_word(word_s) # this returns a list of matching phonetic rep&#39;s\r\n        if phones:                   # if the list isn&#39;t empty (the word was found)\r\n            phones0 = phones[0]      #     process the first\r\n            count = len([p for p in phones0 if p[-1].isdigit()]) # count the vowels\r\n        return count\r\n\r\n    word_s = &#39;hello&#39;\r\n    phones = cmudict.dict().get(word_s)\r\n    count = count_syllables(word_s)\r\n    print(f&quot;PHONES({word_s!r}) yields {phones}\\nCOUNT is {count}&quot;)\r\n\r\nYou can do a lot more with CMUdict than the above, but it&#39;s a start...\r\n\r\nPS - Rereading your post, I see I missed part of it. \r\nYou can use a regular expression (regex) to split all the input text by white space and punctuation marks. That should give you all the words. Then you can run each word, one at a time, through the above routine to calculate the number of syllables for the word, and sum the syllable counts as you go along.\r\nYou can also use the above to verify your previous word count. But your current routine for counting words probably only detects the beginning of each word, not the end, and may not help you with this unless you extend it to detect the end of the word, as well. If you do that, you can disregard the regex for splitting.","title":"Using cmudict to count syllables","body":"<p>To use CMUdict to count syllables, you simply need to find a CMUdict entry that corresponds to the word you're analyzing. Once you have an entry, you can count the vowel sounds in it. The vowel sounds always end in a numeric digit, either 0, 1, or 2.</p>\n<p>There is a module called cmudict which automatically imports the CMUdict library and preprocesses it. You should start there.</p>\n<pre><code>import cmudict\n\ndef lookup_word(word_s):\n    return cmudict.dict().get(word_s)\n\ndef count_syllables(word_s):\n    count = 0\n    phones = lookup_word(word_s) # this returns a list of matching phonetic rep's\n    if phones:                   # if the list isn't empty (the word was found)\n        phones0 = phones[0]      #     process the first\n        count = len([p for p in phones0 if p[-1].isdigit()]) # count the vowels\n    return count\n\nword_s = 'hello'\nphones = cmudict.dict().get(word_s)\ncount = count_syllables(word_s)\nprint(f&quot;PHONES({word_s!r}) yields {phones}\\nCOUNT is {count}&quot;)\n</code></pre>\n<p>You can do a lot more with CMUdict than the above, but it's a start...</p>\n<p>PS - Rereading your post, I see I missed part of it.\nYou can use a regular expression (regex) to split all the input text by white space and punctuation marks. That should give you all the words. Then you can run each word, one at a time, through the above routine to calculate the number of syllables for the word, and sum the syllable counts as you go along.\nYou can also use the above to verify your previous word count. But your current routine for counting words probably only detects the beginning of each word, not the end, and may not help you with this unless you extend it to detect the end of the word, as well. If you do that, you can disregard the regex for splitting.</p>\n"}],"owner":{"account_id":13262787,"reputation":147,"user_id":9576749,"display_name":"C0DeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635743489,"creation_date":1522445592,"question_id":49581705,"body_markdown":"I&#39;m trying to write a program that uses CMU Pronouncing Dictionary (cmudict.txt) to count all the syllables from a text file that contains English words. What would be the best approach? \r\nThe program is supposed to analyze some provided text files by counting number of words, sentences, and characters. I was able to finish these parts without any problem. Now, I&#39;m trying to figure out how I can use the cmudict.txt provided to count the number of syllables. I&#39;m not sure where to start.\r\nThanks!\r\n\r\n    while ((line = reader.readLine()) != null) {\r\n\t\t\tif (line.equals(&quot;&quot;)) {\r\n\t\t\t\tnumParagraph++;\r\n\t\t\t}\r\n\t\t\tif (!(line.equals(&quot;&quot;))) {\r\n\t\t\t\t// Count number of Characters in file\r\n\t\t\t\tnumChar += line.length();\r\n\t\t\t\t// Count number of words in file\r\n\t\t\t\tString[] wordList = line.split(&quot;\\\\s+&quot;);\r\n\t\t\t\tnumWords += wordList.length;\r\n\t\t\t\t// Count number of sentences in a file\r\n\t\t\t\tfor(int i = 0; i &lt; line.length(); i++) {\r\n\t\t\t\t\tif(delimiters.indexOf(line.charAt(i)) != -1) {\r\n\t\t\t\t\t\tsentenceCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//Average number of Characters per word\r\n\t\t\t\twordListLength = wordList.length;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}","title":"Using cmudict to count syllables","body":"<p>I'm trying to write a program that uses CMU Pronouncing Dictionary (cmudict.txt) to count all the syllables from a text file that contains English words. What would be the best approach? \nThe program is supposed to analyze some provided text files by counting number of words, sentences, and characters. I was able to finish these parts without any problem. Now, I'm trying to figure out how I can use the cmudict.txt provided to count the number of syllables. I'm not sure where to start.\nThanks!</p>\n\n<pre><code>while ((line = reader.readLine()) != null) {\n        if (line.equals(\"\")) {\n            numParagraph++;\n        }\n        if (!(line.equals(\"\"))) {\n            // Count number of Characters in file\n            numChar += line.length();\n            // Count number of words in file\n            String[] wordList = line.split(\"\\\\s+\");\n            numWords += wordList.length;\n            // Count number of sentences in a file\n            for(int i = 0; i &lt; line.length(); i++) {\n                if(delimiters.indexOf(line.charAt(i)) != -1) {\n                    sentenceCount++;\n                }\n            }\n            //Average number of Characters per word\n            wordListLength = wordList.length;\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","bluej"],"answers":[{"tags":[],"owner":{"account_id":17332753,"reputation":50,"user_id":12555403,"display_name":"Timothy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635743035,"creation_date":1576638952,"answer_id":59384997,"question_id":59384881,"body_markdown":"From the information, I have...\r\n\r\nYou probably have a Main class, where actions are taking place.\r\n\r\nThe book (textbook) is going to be null in the following cases:\r\n\r\n - if `nextbook &gt; bookshelf.length`\r\n - `card` is expired\r\n\r\nBasically, method doesn&#39;t get inside the &quot;if&quot; braces and returns null.\r\n\r\nHope it helps!","title":"How to return the textbook so it is not set to null?","body":"<p>From the information, I have...</p>\n<p>You probably have a Main class, where actions are taking place.</p>\n<p>The book (textbook) is going to be null in the following cases:</p>\n<ul>\n<li>if <code>nextbook &gt; bookshelf.length</code></li>\n<li><code>card</code> is expired</li>\n</ul>\n<p>Basically, method doesn't get inside the &quot;if&quot; braces and returns null.</p>\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576639747,"creation_date":1576639747,"answer_id":59385091,"question_id":59384881,"body_markdown":"Your `study` method has a problem you are returning an object in the `study` method which is a void method, this will result in compilation errors.\r\n\r\nAssuming that you want to assign the `book` variable to the return value of `library.borrowBook(card)` then you need to assign the like `book=library.borrowBook(card)` and remove the return statement.\r\n\r\nSo your code should be as below.\r\n\r\n```java\r\npublic void study(){\r\n    if( book == null ){\r\n          book = library.borrowBook(card);\r\n    }else{\r\n        if( !book.isFinished() ){\r\n          book.readNextChapter();\r\n        }else{\r\n          library.returnBook(book);\r\n        }\r\n    }\r\n}\r\n``` ","title":"How to return the textbook so it is not set to null?","body":"<p>Your <code>study</code> method has a problem you are returning an object in the <code>study</code> method which is a void method, this will result in compilation errors.</p>\n\n<p>Assuming that you want to assign the <code>book</code> variable to the return value of <code>library.borrowBook(card)</code> then you need to assign the like <code>book=library.borrowBook(card)</code> and remove the return statement.</p>\n\n<p>So your code should be as below.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void study(){\n    if( book == null ){\n          book = library.borrowBook(card);\n    }else{\n        if( !book.isFinished() ){\n          book.readNextChapter();\n        }else{\n          library.returnBook(book);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16622724,"reputation":70,"user_id":12012539,"display_name":"kecoliva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1619624901,"creation_date":1576639769,"answer_id":59385095,"question_id":59384881,"body_markdown":"```\r\npublic void study()\r\n{\r\n    if( book == null ){\r\n          library.borrowBook(card);\r\n          return book;\r\n    }            \r\n    else{\r\n        if( !book.isFinished() ){\r\n          book.readNextChapter();\r\n        }\r\n        else{\r\n          library.returnBook(book);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nFirst of all, the return type of the function is `void` hence your function should not return anything. Currently there is a `return book` in your function.\r\n\r\nNow correct me if I&#39;m wrong. I think this is what you want to achieve:\r\n\r\n```\r\npublic void study() {\r\n    if(book == null) {\r\n        book = library.borrowBook(card);\r\n    } else {\r\n        if(!book.isFinished()) {\r\n            book.readNextChapter();\r\n        } else {\r\n            library.returnBook(book);\r\n        }\r\n    }\r\n}\r\n```\r\nSince `library.borrowBook(card);` returns the borrowed book, just assign it to `book`. Also, always write clean code (correct indention, consistent position of curly braces, and, remove unnecessary spaces, and etc...). Clean code is good code. I hope this helps!","title":"How to return the textbook so it is not set to null?","body":"<pre><code>public void study()\n{\n    if( book == null ){\n          library.borrowBook(card);\n          return book;\n    }            \n    else{\n        if( !book.isFinished() ){\n          book.readNextChapter();\n        }\n        else{\n          library.returnBook(book);\n        }\n    }\n\n}\n</code></pre>\n<p>First of all, the return type of the function is <code>void</code> hence your function should not return anything. Currently there is a <code>return book</code> in your function.</p>\n<p>Now correct me if I'm wrong. I think this is what you want to achieve:</p>\n<pre><code>public void study() {\n    if(book == null) {\n        book = library.borrowBook(card);\n    } else {\n        if(!book.isFinished()) {\n            book.readNextChapter();\n        } else {\n            library.returnBook(book);\n        }\n    }\n}\n</code></pre>\n<p>Since <code>library.borrowBook(card);</code> returns the borrowed book, just assign it to <code>book</code>. Also, always write clean code (correct indention, consistent position of curly braces, and, remove unnecessary spaces, and etc...). Clean code is good code. I hope this helps!</p>\n"}],"owner":{"account_id":17333255,"reputation":5,"user_id":12555793,"display_name":"Alex Davis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59385095,"answer_count":3,"score":0,"last_activity_date":1635743035,"creation_date":1576638114,"question_id":59384881,"body_markdown":"I&#39;m still new to Java, currently using BlueJ.\r\n\r\nThe first method is from class Library and works fine:\r\n\r\n    public TextBook borrowBook(LibraryCard card){\r\n\r\n        TextBook book = null;\r\n        if ( (nextBook &lt; bookShelf.length)  &amp;&amp; !card.expired() ) {\r\n            book = bookShelf[ nextBook ];\r\n            bookShelf[ nextBook ] = null;\r\n            nextBook++;\r\n            card.swipe();\r\n        }\r\n        return book;\r\n    }\r\n\r\n\r\nThe second is from class Student and I can not figure out how to change book from null to the book taken off the bookshelf( an array of TextBook objects):\r\n\r\n    public void study()\r\n    {\r\n        if( book == null ){\r\n              library.borrowBook(card);\r\n              return book;\r\n        }            \r\n        else{\r\n            if( !book.isFinished() ){\r\n              book.readNextChapter();\r\n            }\r\n            else{\r\n              library.returnBook(book);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n","title":"How to return the textbook so it is not set to null?","body":"<p>I'm still new to Java, currently using BlueJ.</p>\n\n<p>The first method is from class Library and works fine:</p>\n\n<pre><code>public TextBook borrowBook(LibraryCard card){\n\n    TextBook book = null;\n    if ( (nextBook &lt; bookShelf.length)  &amp;&amp; !card.expired() ) {\n        book = bookShelf[ nextBook ];\n        bookShelf[ nextBook ] = null;\n        nextBook++;\n        card.swipe();\n    }\n    return book;\n}\n</code></pre>\n\n<p>The second is from class Student and I can not figure out how to change book from null to the book taken off the bookshelf( an array of TextBook objects):</p>\n\n<pre><code>public void study()\n{\n    if( book == null ){\n          library.borrowBook(card);\n          return book;\n    }            \n    else{\n        if( !book.isFinished() ){\n          book.readNextChapter();\n        }\n        else{\n          library.returnBook(book);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","mockito","powermock"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1635474458,"post_id":69762396,"comment_id":123314208,"body_markdown":"Are you sure?  What you&#39;ve done looks fine to me.","body":"Are you sure?  What you&#39;ve done looks fine to me."},{"owner":{"account_id":8278453,"reputation":896,"user_id":6900540,"accept_rate":14,"display_name":"Chirag Arora"},"score":0,"creation_date":1635495680,"post_id":69762396,"comment_id":123318928,"body_markdown":"Yeah. Doesn&#39;t works.","body":"Yeah. Doesn&#39;t works."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1635500597,"post_id":69762396,"comment_id":123320726,"body_markdown":"Show us your full test class and content of testClass. Also don&#39;t mixup Mockito and PowerMockito, when you use one for a mock you have to use it for the verify.","body":"Show us your full test class and content of testClass. Also don&#39;t mixup Mockito and PowerMockito, when you use one for a mock you have to use it for the verify."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1635555780,"post_id":69762396,"comment_id":123337954,"body_markdown":"OK.  Until you can show a reproducible example though, I don&#39;t think anyone can help you.","body":"OK.  Until you can show a reproducible example though, I don&#39;t think anyone can help you."},{"owner":{"account_id":8278453,"reputation":896,"user_id":6900540,"accept_rate":14,"display_name":"Chirag Arora"},"score":0,"creation_date":1635673856,"post_id":69762396,"comment_id":123353996,"body_markdown":"I was able to fix it. I needed to wrap `testClass.anotherMethod();` in a `try-catch` because it throws Exception.","body":"I was able to fix it. I needed to wrap <code>testClass.anotherMethod();</code> in a <code>try-catch</code> because it throws Exception."}],"owner":{"account_id":8278453,"reputation":896,"user_id":6900540,"accept_rate":14,"display_name":"Chirag Arora"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635742581,"creation_date":1635468097,"question_id":69762396,"body_markdown":"I have a stubbed method whose invocation count I would like to assert. But it looks like the `times(x)` parameter makes no difference at all when the method is stubbed. Why is this? And what&#39;s the right to way to do this?\r\n\r\n```\r\n@Test\r\npublic void MyTest() {\r\n  PowerMockito.when(mock.someMethod()).thenThrow(RuntimeException.class);\r\n\r\n  testClass.anotherMethod();\r\n\r\n  Mockito.verify(mock, times(10)).someMethod(); // succeeds regardless of count\r\n}\r\n```","title":"Mockito - Asserting invocations for a stubbed method","body":"<p>I have a stubbed method whose invocation count I would like to assert. But it looks like the <code>times(x)</code> parameter makes no difference at all when the method is stubbed. Why is this? And what's the right to way to do this?</p>\n<pre><code>@Test\npublic void MyTest() {\n  PowerMockito.when(mock.someMethod()).thenThrow(RuntimeException.class);\n\n  testClass.anotherMethod();\n\n  Mockito.verify(mock, times(10)).someMethod(); // succeeds regardless of count\n}\n</code></pre>\n"},{"tags":["java","android","computer-science"],"answers":[{"tags":[],"owner":{"account_id":1109560,"reputation":490,"user_id":1100288,"display_name":"Parmesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635741255,"creation_date":1634967781,"answer_id":69685460,"question_id":69685219,"body_markdown":"In order to calculate x and y which are entering, I have made changes in all three classes which you have posted above.\r\n\r\nxml layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;&gt;\r\n      &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n      xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n      android:layout_width=&quot;166dp&quot;\r\n      android:layout_height=&quot;70dp&quot;\r\n      android:gravity=&quot;center&quot;\r\n      android:text=&quot;Math Test Demo&quot;\r\n      android:textAlignment=&quot;center&quot;\r\n      android:textSize=&quot;20sp&quot;\r\n      android:textStyle=&quot;bold&quot;\r\n      app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n      app:layout_constraintHorizontal_bias=&quot;0.044&quot;\r\n      app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n      app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n      app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n      app:layout_constraintVertical_bias=&quot;0.167&quot; /&gt;\r\n\r\n    &lt;EditText\r\n      android:id=&quot;@+id/calculateX&quot;\r\n      android:layout_width=&quot;251dp&quot;\r\n      android:layout_height=&quot;62dp&quot;\r\n      android:hint=&quot;Enter x value:&quot;\r\n      android:padding=&quot;15dp&quot;\r\n      app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n      app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n      app:layout_constraintHorizontal_bias=&quot;0.071&quot;\r\n      app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n      app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n      app:layout_constraintVertical_bias=&quot;0.316&quot; /&gt;\r\n\r\n\r\n    &lt;EditText\r\n      android:id=&quot;@+id/calculateY&quot;\r\n      android:layout_width=&quot;265dp&quot;\r\n      android:layout_height=&quot;58dp&quot;\r\n      android:hint=&quot;Enter y value:&quot;\r\n      android:padding=&quot;15dp&quot;\r\n      app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n      app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n      app:layout_constraintHorizontal_bias=&quot;0.078&quot;\r\n      app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n      app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n      app:layout_constraintVertical_bias=&quot;0.456&quot; /&gt;\r\n    \r\n    &lt;EditText\r\n      android:id=&quot;@+id/math_test2&quot;\r\n      android:layout_width=&quot;324dp&quot;\r\n      android:layout_height=&quot;68dp&quot;\r\n      android:hint=&quot;Calculated Output for x and y: &quot;\r\n      android:padding=&quot;15dp&quot;\r\n      app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n      app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n      app:layout_constraintHorizontal_bias=&quot;0.126&quot;\r\n      app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n      app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n      app:layout_constraintVertical_bias=&quot;0.598&quot; /&gt;\r\n\r\n    &lt;Button\r\n      android:id=&quot;@+id/calculate&quot;\r\n      android:layout_width=&quot;wrap_content&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:text=&quot;Calculate&quot;\r\n      app:layout_constraintTop_toBottomOf=&quot;@id/math_test2&quot;\r\n      app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n      app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\r\n\r\n     &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nMainActivity:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    EditText calculateX, calculateY, output;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        calculateX = findViewById(R.id.calculateX);\r\n        calculateY = findViewById(R.id.calculateY);\r\n        output = findViewById(R.id.math_test2);\r\n\r\n        findViewById(R.id.calculate).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                JavaMathExample1 myObj = new JavaMathExample1();\r\n                String inputX = calculateX.getText().toString();\r\n                String inputY = calculateY.getText().toString();\r\n\r\n                if (inputX.isEmpty() || inputY.isEmpty()) {\r\n                    Toast.makeText(MainActivity.this, &quot;Enter X or Y value&quot;, Toast.LENGTH_LONG).show();\r\n                } else {\r\n                    double x = Double.parseDouble(inputX);  // Enter a number for x\r\n                    double y = Double.parseDouble(inputY); // Enter a number for y\r\n                    double max = myObj.fullThrottle(x, y); //This will give you result\r\n                    output.setText(String.format(&quot;%s&quot;, max));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\nJavaMathExample1:\r\n\r\n    public class JavaMathExample1 {\r\n    public double fullThrottle(double x, double y) {\r\n        double max = Math.max(x, y);\r\n        // return the maximum of two numbers\r\n        System.out.println(&quot;Maximum number of x and y is: &quot; + max);\r\n        return max;\r\n    }\r\n    }\r\n\r\nIf you still have issue, you can find full code here:\r\nhttps://github.com/parmeshtoyou/StackOverflow/tree/sof_23_oct_21\r\n\r\nResult will look like this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t6hhs.png","title":"Calculate in android studio Java","body":"<p>In order to calculate x and y which are entering, I have made changes in all three classes which you have posted above.</p>\n<p>xml layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;&gt;\n  &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n  android:layout_width=&quot;match_parent&quot;\n  android:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;TextView\n  android:layout_width=&quot;166dp&quot;\n  android:layout_height=&quot;70dp&quot;\n  android:gravity=&quot;center&quot;\n  android:text=&quot;Math Test Demo&quot;\n  android:textAlignment=&quot;center&quot;\n  android:textSize=&quot;20sp&quot;\n  android:textStyle=&quot;bold&quot;\n  app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n  app:layout_constraintHorizontal_bias=&quot;0.044&quot;\n  app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n  app:layout_constraintRight_toRightOf=&quot;parent&quot;\n  app:layout_constraintTop_toTopOf=&quot;parent&quot;\n  app:layout_constraintVertical_bias=&quot;0.167&quot; /&gt;\n\n&lt;EditText\n  android:id=&quot;@+id/calculateX&quot;\n  android:layout_width=&quot;251dp&quot;\n  android:layout_height=&quot;62dp&quot;\n  android:hint=&quot;Enter x value:&quot;\n  android:padding=&quot;15dp&quot;\n  app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n  app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n  app:layout_constraintHorizontal_bias=&quot;0.071&quot;\n  app:layout_constraintStart_toStartOf=&quot;parent&quot;\n  app:layout_constraintTop_toTopOf=&quot;parent&quot;\n  app:layout_constraintVertical_bias=&quot;0.316&quot; /&gt;\n\n\n&lt;EditText\n  android:id=&quot;@+id/calculateY&quot;\n  android:layout_width=&quot;265dp&quot;\n  android:layout_height=&quot;58dp&quot;\n  android:hint=&quot;Enter y value:&quot;\n  android:padding=&quot;15dp&quot;\n  app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n  app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n  app:layout_constraintHorizontal_bias=&quot;0.078&quot;\n  app:layout_constraintStart_toStartOf=&quot;parent&quot;\n  app:layout_constraintTop_toTopOf=&quot;parent&quot;\n  app:layout_constraintVertical_bias=&quot;0.456&quot; /&gt;\n\n&lt;EditText\n  android:id=&quot;@+id/math_test2&quot;\n  android:layout_width=&quot;324dp&quot;\n  android:layout_height=&quot;68dp&quot;\n  android:hint=&quot;Calculated Output for x and y: &quot;\n  android:padding=&quot;15dp&quot;\n  app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n  app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n  app:layout_constraintHorizontal_bias=&quot;0.126&quot;\n  app:layout_constraintStart_toStartOf=&quot;parent&quot;\n  app:layout_constraintTop_toTopOf=&quot;parent&quot;\n  app:layout_constraintVertical_bias=&quot;0.598&quot; /&gt;\n\n&lt;Button\n  android:id=&quot;@+id/calculate&quot;\n  android:layout_width=&quot;wrap_content&quot;\n  android:layout_height=&quot;wrap_content&quot;\n  android:text=&quot;Calculate&quot;\n  app:layout_constraintTop_toBottomOf=&quot;@id/math_test2&quot;\n  app:layout_constraintStart_toStartOf=&quot;parent&quot;\n  app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\n\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nEditText calculateX, calculateY, output;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    calculateX = findViewById(R.id.calculateX);\n    calculateY = findViewById(R.id.calculateY);\n    output = findViewById(R.id.math_test2);\n\n    findViewById(R.id.calculate).setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            JavaMathExample1 myObj = new JavaMathExample1();\n            String inputX = calculateX.getText().toString();\n            String inputY = calculateY.getText().toString();\n\n            if (inputX.isEmpty() || inputY.isEmpty()) {\n                Toast.makeText(MainActivity.this, &quot;Enter X or Y value&quot;, Toast.LENGTH_LONG).show();\n            } else {\n                double x = Double.parseDouble(inputX);  // Enter a number for x\n                double y = Double.parseDouble(inputY); // Enter a number for y\n                double max = myObj.fullThrottle(x, y); //This will give you result\n                output.setText(String.format(&quot;%s&quot;, max));\n            }\n        }\n    });\n}\n}\n</code></pre>\n<p>JavaMathExample1:</p>\n<pre><code>public class JavaMathExample1 {\npublic double fullThrottle(double x, double y) {\n    double max = Math.max(x, y);\n    // return the maximum of two numbers\n    System.out.println(&quot;Maximum number of x and y is: &quot; + max);\n    return max;\n}\n}\n</code></pre>\n<p>If you still have issue, you can find full code here:\n<a href=\"https://github.com/parmeshtoyou/StackOverflow/tree/sof_23_oct_21\" rel=\"nofollow noreferrer\">https://github.com/parmeshtoyou/StackOverflow/tree/sof_23_oct_21</a></p>\n<p>Result will look like this:\n<a href=\"https://i.stack.imgur.com/t6hhs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t6hhs.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23070372,"reputation":5,"user_id":17184219,"display_name":"pansego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69685460,"answer_count":1,"score":0,"last_activity_date":1635741255,"creation_date":1634964601,"question_id":69685219,"body_markdown":"I have created several EditTexts that a user can enter numbers and I would like to get and show the output in the last Edittext called math_test2.Can you guys help me with the syntax? Iam new to android studio and I dont know the syntax to make this work. I think I need to store the number input of x and y and another variable z and then set z = output. Then get the method from the regular java file I created. I know I am suppose to created an instance, but I am not sure I know how to do that correctly.I am trying to get better at using android studio. I made the MainActivity dependent of the JavaMathExample1 file located in the New module I created. Thank you!\r\n\r\n    **activity_main.xml file:**\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;166dp&quot;\r\n            android:layout_height=&quot;70dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Math Test Demo&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.044&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.167&quot; /&gt;\r\n    \r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/calculateX&quot;\r\n            android:layout_width=&quot;251dp&quot;\r\n            android:layout_height=&quot;62dp&quot;\r\n            android:hint=&quot;Enter x value:&quot;\r\n            android:padding=&quot;15dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.071&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.316&quot; /&gt;\r\n    \r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/calculateY&quot;\r\n            android:layout_width=&quot;265dp&quot;\r\n            android:layout_height=&quot;58dp&quot;\r\n            android:hint=&quot;Enter y value:&quot;\r\n            android:padding=&quot;15dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.078&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.456&quot; /&gt;\r\n    \r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/math_test2&quot;\r\n            android:layout_width=&quot;324dp&quot;\r\n            android:layout_height=&quot;68dp&quot;\r\n            android:hint=&quot;Calculated Output for x and y: &quot;\r\n            android:padding=&quot;15dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.126&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.598&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    **MainActivity.java file:**\r\n    \r\n    package com.example.testdemo;\r\n    \r\n    \r\n    \r\n    import com.example.javaprogram.JavaMathExample1;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        EditText calculateX,calculateY,output;\r\n        JavaMathExample1 javaMathExample1;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            calculateX = (EditText) findViewById(R.id.calculateX);\r\n            calculateY = (EditText) findViewById(R.id.calculateY);\r\n            output = (EditText) findViewById(R.id.math_test2);\r\n    \r\n    \r\n            String x = calculateX.getText().toString();// Enter a number for x\r\n            String y  = calculateY.getText().toString();// Enter a number for y\r\n            String result = output.getText().toString();// Get output from method created in JavaMathExample1\r\n    \r\n            calculateY.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                }\r\n            });\r\n    \r\n            calculateY.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                }\r\n            });\r\n    \r\n            output.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                \r\n                JavaMathExample1 myObj = new JavaMathExample1();\r\n                myObj.fullThrottle(x,y);\r\n    \r\n                }\r\n            }); \r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    **Regular Java file from &quot;New Module android library created&quot;**\r\n    \r\n    package com.example.javaprogram\r\n    \r\n    public class JavaMathExample1 {\r\n    \r\n        public void fullThrottle(double x, double y) {\r\n    \r\n            // return the maximum of two numbers\r\n            System.out.println(&quot;Maximum number of x and y is: &quot; + Math.max(x, y));\r\n        }\r\n    }\r\n\r\n","title":"Calculate in android studio Java","body":"<p>I have created several EditTexts that a user can enter numbers and I would like to get and show the output in the last Edittext called math_test2.Can you guys help me with the syntax? Iam new to android studio and I dont know the syntax to make this work. I think I need to store the number input of x and y and another variable z and then set z = output. Then get the method from the regular java file I created. I know I am suppose to created an instance, but I am not sure I know how to do that correctly.I am trying to get better at using android studio. I made the MainActivity dependent of the JavaMathExample1 file located in the New module I created. Thank you!</p>\n<pre><code>**activity_main.xml file:**\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;166dp&quot;\n        android:layout_height=&quot;70dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Math Test Demo&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.044&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.167&quot; /&gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/calculateX&quot;\n        android:layout_width=&quot;251dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:hint=&quot;Enter x value:&quot;\n        android:padding=&quot;15dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.071&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.316&quot; /&gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/calculateY&quot;\n        android:layout_width=&quot;265dp&quot;\n        android:layout_height=&quot;58dp&quot;\n        android:hint=&quot;Enter y value:&quot;\n        android:padding=&quot;15dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.078&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.456&quot; /&gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/math_test2&quot;\n        android:layout_width=&quot;324dp&quot;\n        android:layout_height=&quot;68dp&quot;\n        android:hint=&quot;Calculated Output for x and y: &quot;\n        android:padding=&quot;15dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.126&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.598&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n**MainActivity.java file:**\n\npackage com.example.testdemo;\n\n\n\nimport com.example.javaprogram.JavaMathExample1;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText calculateX,calculateY,output;\n    JavaMathExample1 javaMathExample1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        calculateX = (EditText) findViewById(R.id.calculateX);\n        calculateY = (EditText) findViewById(R.id.calculateY);\n        output = (EditText) findViewById(R.id.math_test2);\n\n\n        String x = calculateX.getText().toString();// Enter a number for x\n        String y  = calculateY.getText().toString();// Enter a number for y\n        String result = output.getText().toString();// Get output from method created in JavaMathExample1\n\n        calculateY.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n            }\n        });\n\n        calculateY.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n            }\n        });\n\n        output.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n            \n            JavaMathExample1 myObj = new JavaMathExample1();\n            myObj.fullThrottle(x,y);\n\n            }\n        }); \n    }\n}\n\n\n\n**Regular Java file from &quot;New Module android library created&quot;**\n\npackage com.example.javaprogram\n\npublic class JavaMathExample1 {\n\n    public void fullThrottle(double x, double y) {\n\n        // return the maximum of two numbers\n        System.out.println(&quot;Maximum number of x and y is: &quot; + Math.max(x, y));\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","multithreading","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635741119,"creation_date":1635740790,"answer_id":69792618,"question_id":69787775,"body_markdown":"&gt; and delete it once done\r\n\r\nAre you talking about milliseconds later?  Or hours later?  Locking the row &quot;until it is done&quot; is practical for up to a few seconds.  For longer &quot;locks&quot;, you need to invent a different mechanism.  (We can discuss that if needed.)\r\n\r\nThis is how to InnoDB to lock the row, let you do some work, then delete it:\r\n\r\n    START TRANSACTION;\r\n    SELECT id, ...\r\n         ORDER BY ... DESC\r\n         LIMIT 1\r\n         FOR UPDATE;   -- &#39;lock&#39; the last row\r\n    ... do the work\r\n    DELETE ... WHERE id = ...;\r\n    COMMIT;\r\n\r\nIf you need to break out of that sequence of statements, do a `ROLLBACK`.\r\n\r\nIf you expect to have multiple threads each working on some row in that table, say so.  What I have presented essentially can only do one &quot;last row&quot; at a time; other threads must wait.\r\n\r\n(If you want to discuss your code, please provide the generated SQL; it is the lingua franca of this site.)\r\n","title":"What happens in MySQL when a locked row, which multiple threads are waiting on, gets deleted?","body":"<blockquote>\n<p>and delete it once done</p>\n</blockquote>\n<p>Are you talking about milliseconds later?  Or hours later?  Locking the row &quot;until it is done&quot; is practical for up to a few seconds.  For longer &quot;locks&quot;, you need to invent a different mechanism.  (We can discuss that if needed.)</p>\n<p>This is how to InnoDB to lock the row, let you do some work, then delete it:</p>\n<pre><code>START TRANSACTION;\nSELECT id, ...\n     ORDER BY ... DESC\n     LIMIT 1\n     FOR UPDATE;   -- 'lock' the last row\n... do the work\nDELETE ... WHERE id = ...;\nCOMMIT;\n</code></pre>\n<p>If you need to break out of that sequence of statements, do a <code>ROLLBACK</code>.</p>\n<p>If you expect to have multiple threads each working on some row in that table, say so.  What I have presented essentially can only do one &quot;last row&quot; at a time; other threads must wait.</p>\n<p>(If you want to discuss your code, please provide the generated SQL; it is the lingua franca of this site.)</p>\n"}],"owner":{"account_id":6868391,"reputation":1588,"user_id":5279855,"accept_rate":32,"display_name":"Auro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635741119,"creation_date":1635692351,"question_id":69787775,"body_markdown":"I have a requirement where a request has to gain access to the top most row in the DB, read it and delete it, all in one go by locking the particular row.\r\n\r\nThe use-case here is that a URL shortening application is going to query this table to get a pre-generated URL key and delete it once done.\r\n\r\nI am using Spring Data JPA, so I will add the following code\r\n\r\n**URLKeyEntity.java**\r\n\r\n    @Entity(name = &quot;urlKeyEntity&quot;)\r\n    @Table(name = &quot;url_key&quot;)\r\n    @Data\r\n    public class URLKeyEntity {\r\n    \r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.AUTO)\r\n     private Long id;\r\n     private String urlKey;\r\n    }\r\n\r\n\r\n**URLKeyRepository.java**\r\n\r\n    @Repository\r\n    public interface URLKeyRepository extends JpaRepository&lt;URLKeyEntity, Long&gt; {\r\n    \r\n     @Lock(LockMode.PESSIMISTIC_WRITE)\r\n     @Query(&quot;SELECT u FROM urlKeyEntity u ORDER BY u.id&quot;)\r\n     List&lt;URLKeyEntity&gt; fetchTopRow(Pageable p);\r\n    }\r\n\r\n\r\n**URLKeyService.java**\r\n\r\n    @Service\r\n    public class URLKeyService {\r\n    \r\n     @Autowired\r\n     private URLKeyRepository urlKeyRepository;\r\n    \r\n     @Transactional\r\n     public String getUrlKey() {\r\n      final URLKeyEntity u = urlKeyRepository.findTopRow(PageRequest.of(0,1));\r\n      final String key = u.get(0).getUrlKey();\r\n      urlKeyRepository.delete(u.getId());\r\n     }\r\n    }\r\n\r\nWhat I am having difficulty understanding is how this will play out when multiple threads are trying to execute the same method.\r\n\r\nSay, threads **T1** and **T2** are executing the same method **parallelly**. At any given point, T1 acquires the lock on the first row R1 while T2 waits for the lock on the same row. \r\n\r\nBy the time T1 is done, the row itself does not exist, how will T2 then proceed?\r\n\r\nAnd if we acquire a lock on the entire table, then that may result in poor performance as the write load increases. \r\n\r\n\r\nWhat is the best way to handle this so that locking does not become a bottle-neck in scalability?","title":"What happens in MySQL when a locked row, which multiple threads are waiting on, gets deleted?","body":"<p>I have a requirement where a request has to gain access to the top most row in the DB, read it and delete it, all in one go by locking the particular row.</p>\n<p>The use-case here is that a URL shortening application is going to query this table to get a pre-generated URL key and delete it once done.</p>\n<p>I am using Spring Data JPA, so I will add the following code</p>\n<p><strong>URLKeyEntity.java</strong></p>\n<pre><code>@Entity(name = &quot;urlKeyEntity&quot;)\n@Table(name = &quot;url_key&quot;)\n@Data\npublic class URLKeyEntity {\n\n @Id\n @GeneratedValue(strategy = GenerationType.AUTO)\n private Long id;\n private String urlKey;\n}\n</code></pre>\n<p><strong>URLKeyRepository.java</strong></p>\n<pre><code>@Repository\npublic interface URLKeyRepository extends JpaRepository&lt;URLKeyEntity, Long&gt; {\n\n @Lock(LockMode.PESSIMISTIC_WRITE)\n @Query(&quot;SELECT u FROM urlKeyEntity u ORDER BY u.id&quot;)\n List&lt;URLKeyEntity&gt; fetchTopRow(Pageable p);\n}\n</code></pre>\n<p><strong>URLKeyService.java</strong></p>\n<pre><code>@Service\npublic class URLKeyService {\n\n @Autowired\n private URLKeyRepository urlKeyRepository;\n\n @Transactional\n public String getUrlKey() {\n  final URLKeyEntity u = urlKeyRepository.findTopRow(PageRequest.of(0,1));\n  final String key = u.get(0).getUrlKey();\n  urlKeyRepository.delete(u.getId());\n }\n}\n</code></pre>\n<p>What I am having difficulty understanding is how this will play out when multiple threads are trying to execute the same method.</p>\n<p>Say, threads <strong>T1</strong> and <strong>T2</strong> are executing the same method <strong>parallelly</strong>. At any given point, T1 acquires the lock on the first row R1 while T2 waits for the lock on the same row.</p>\n<p>By the time T1 is done, the row itself does not exist, how will T2 then proceed?</p>\n<p>And if we acquire a lock on the entire table, then that may result in poor performance as the write load increases.</p>\n<p>What is the best way to handle this so that locking does not become a bottle-neck in scalability?</p>\n"},{"tags":["java","asynchronous","concurrency","completable-future"],"comments":[{"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"score":1,"creation_date":1635577171,"post_id":69767216,"comment_id":123340405,"body_markdown":"Does [this](https://stackoverflow.com/a/52426642/8746228) help?","body":"Does <a href=\"https://stackoverflow.com/a/52426642/8746228\">this</a> help?"}],"answers":[{"tags":[],"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635740855,"creation_date":1635666475,"answer_id":69784833,"question_id":69767216,"body_markdown":"The `main` thread gets blocked either way.\r\n\r\n```java\r\nstatic CompletableFuture&lt;Void&gt; getFailingCF() {\r\n    return CompletableFuture.runAsync(() -&gt; {\r\n        System.out.println(&quot;getFailingCF :: Started getFailingCF.. &quot;);\r\n        throw new RuntimeException(&quot;getFailingCF:: Failed&quot;);\r\n    });\r\n}\r\n\r\nstatic CompletableFuture&lt;Void&gt; getOkCF() {\r\n    return CompletableFuture.runAsync(() -&gt; {\r\n        System.out.println(&quot;getOkCF :: Started getOkCF.. &quot;);\r\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(3));\r\n        System.out.println(&quot;getOkCF :: Completed getOkCF.. &quot;);\r\n    });\r\n}\r\n\r\npublic static void main(String[] args) {\r\n     List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n     futures.add(getFailingCF());\r\n     futures.add(getOkCF());\r\n      \r\n     // using CompletableFuture.allOf\r\n     var allOfCF = CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]));\r\n     \r\n     allOfCF.join();\r\n    \r\n     // invoking join on individual CF\r\n     futures.stream()\r\n            .map(CompletableFuture::join)\r\n            .collect(Collectors.toList());\r\n }\r\n```\r\n\r\nIn the code snippet above, the difference lies in handling exception: The `CompletableFuture.allOf(..)` wraps any exception thrown by any of the `CompletableFuture`s while allowing rest of the threads (executing the `CompletableFuture`) continue their execution.\r\n\r\nThe `list.stream.map(cf -&gt; cf.join())...` way immediately throws the exception and terminates the app (and all threads executing the CFs in the list).\r\n\r\nNote that invoking `join()` on `allOf` throws the wrapped exception, too. It will also terminate the app. But, by this time, unlike `list.stream.map(cf -&gt; cf.join())...`, the rest of the threads have completed their processing.\r\n\r\n&lt;hr&gt;\r\n\r\n`allOfCF.whenComplete(..) ` is one of the graceful ways to handle the execution result (normal or exceptional) of all the CFs:\r\n\r\n```java\r\n allOfCF.whenComplete((v, ex) -&gt; {\r\n     System.out.println(&quot;In whenComplete...&quot;);\r\n     System.out.println(&quot;----------- Exception Status ------------&quot;);\r\n\r\n     System.out.println(&quot; 1: &quot; + futures.get(0).isCompletedExceptionally());\r\n     System.out.println(&quot; 2: &quot; + futures.get(1).isCompletedExceptionally());\r\n });\r\n```\r\nIn the `list.stream.map(cf -&gt; cf.join())...` way, one needs to wrap the `join()` call in `try/catch`.\r\n","title":"Has CompletableFuture.allOf() any advantage over a loop with CompletableFuture.join() when just waiting for completion?","body":"<p>The <code>main</code> thread gets blocked either way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static CompletableFuture&lt;Void&gt; getFailingCF() {\n    return CompletableFuture.runAsync(() -&gt; {\n        System.out.println(&quot;getFailingCF :: Started getFailingCF.. &quot;);\n        throw new RuntimeException(&quot;getFailingCF:: Failed&quot;);\n    });\n}\n\nstatic CompletableFuture&lt;Void&gt; getOkCF() {\n    return CompletableFuture.runAsync(() -&gt; {\n        System.out.println(&quot;getOkCF :: Started getOkCF.. &quot;);\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(3));\n        System.out.println(&quot;getOkCF :: Completed getOkCF.. &quot;);\n    });\n}\n\npublic static void main(String[] args) {\n     List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\n     futures.add(getFailingCF());\n     futures.add(getOkCF());\n      \n     // using CompletableFuture.allOf\n     var allOfCF = CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]));\n     \n     allOfCF.join();\n    \n     // invoking join on individual CF\n     futures.stream()\n            .map(CompletableFuture::join)\n            .collect(Collectors.toList());\n }\n</code></pre>\n<p>In the code snippet above, the difference lies in handling exception: The <code>CompletableFuture.allOf(..)</code> wraps any exception thrown by any of the <code>CompletableFuture</code>s while allowing rest of the threads (executing the <code>CompletableFuture</code>) continue their execution.</p>\n<p>The <code>list.stream.map(cf -&gt; cf.join())...</code> way immediately throws the exception and terminates the app (and all threads executing the CFs in the list).</p>\n<p>Note that invoking <code>join()</code> on <code>allOf</code> throws the wrapped exception, too. It will also terminate the app. But, by this time, unlike <code>list.stream.map(cf -&gt; cf.join())...</code>, the rest of the threads have completed their processing.</p>\n<hr>\n<p><code>allOfCF.whenComplete(..) </code> is one of the graceful ways to handle the execution result (normal or exceptional) of all the CFs:</p>\n<pre class=\"lang-java prettyprint-override\"><code> allOfCF.whenComplete((v, ex) -&gt; {\n     System.out.println(&quot;In whenComplete...&quot;);\n     System.out.println(&quot;----------- Exception Status ------------&quot;);\n\n     System.out.println(&quot; 1: &quot; + futures.get(0).isCompletedExceptionally());\n     System.out.println(&quot; 2: &quot; + futures.get(1).isCompletedExceptionally());\n });\n</code></pre>\n<p>In the <code>list.stream.map(cf -&gt; cf.join())...</code> way, one needs to wrap the <code>join()</code> call in <code>try/catch</code>.</p>\n"}],"owner":{"account_id":9781115,"reputation":76,"user_id":7249141,"display_name":"Jose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2643,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":69784833,"answer_count":1,"score":4,"last_activity_date":1635740855,"creation_date":1635502538,"question_id":69767216,"body_markdown":"I am making multiple async calls to my database. I store all those async calls on a ```List&lt;CompletableFuture&lt;X&gt;&gt; list```. I want to collect all the results together, so I need to wait for all of those calls to complete.\r\n\r\nOne way is to create a ```CompletableFuture.allOf(list.toArray(...))...```\r\n\r\nAnother way is to use: ```list.stream.map(cf -&gt; cf.join())...```\r\n\r\nI was just wondering if there are any advantages of creating the global CompletableFuture and waiting for it to complete (when all the individual CompletableFuture  complete) over directly waiting for the individual CompletableFutures to complete.","title":"Has CompletableFuture.allOf() any advantage over a loop with CompletableFuture.join() when just waiting for completion?","body":"<p>I am making multiple async calls to my database. I store all those async calls on a <code>List&lt;CompletableFuture&lt;X&gt;&gt; list</code>. I want to collect all the results together, so I need to wait for all of those calls to complete.</p>\n<p>One way is to create a <code>CompletableFuture.allOf(list.toArray(...))...</code></p>\n<p>Another way is to use: <code>list.stream.map(cf -&gt; cf.join())...</code></p>\n<p>I was just wondering if there are any advantages of creating the global CompletableFuture and waiting for it to complete (when all the individual CompletableFuture  complete) over directly waiting for the individual CompletableFutures to complete.</p>\n"},{"tags":["java","android","kotlin","android-app-links"],"owner":{"account_id":13662809,"reputation":747,"user_id":9938850,"display_name":"Stephen Fong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635739000,"creation_date":1635739000,"question_id":69792483,"body_markdown":"Currently I am developing an application which is supposed to be invoked when the user clicked on a predefined format of an url in any browsers on a web page. There are two choices of the format comes to my mind.\r\n\r\n    https://mobile.meta.com/payment/applink.html?page=login&amp;payload=some_payload (app link with https scheme)\r\n    \r\n    metaapp://payment?page=login&amp;payload=some_payload (app link with custom scheme)\r\n\r\nSo I tried https scheme first. I was testing my app on chrome and everything works fine. My app get invoked directly without any problems.\r\n\r\nSo when I use\r\n\r\n    intent.getData()\r\nin my native code, it returns the correct https request that invokes the app.\r\n\r\nHowever, when I installed other browsers and test, something went wrong. My app get launched successfully but intent.getData() returns a custom url with all the query parameters lost (this is a custom url I defined in the app manifest already). It also appears that for most of the browser , the page get redirected to the play store page of the app. (that isn&#39;t happening in Chrome)\r\n\r\nhttps://mobile.meta.com/payment/applink.html is a domain owned by the owner of the application I&#39;m developing, I have no control over this website hence it&#39;s more preferable if I can solve this problem entirely in the android application side, when I entered this url into the browser, it redirects to the google play store page of this application.\r\n\r\nSo my first question is why are their behaviours different? Why isn&#39;t the application invoked by the browser directly like how Chrome is reacting but instead the page get redirected to the website first, then the app is invoked?\r\n\r\nMy second question is how to resolve this problem (without altering the website, i.e. doing all the work in the android app manifest maybe)?\r\n\r\nNext, I tried the custom scheme and all the browsers behave in the same way, the app get invoked without any problems.\r\n\r\nSo my third question is why this time all the browsers behave in the same way?\r\n\r\nMy last question is why click the url https://mobile.meta.com/payment/applink.html can invoke the application with a custom scheme url? What is this site actually doing behind the scene so that it can actually open the google play store page plus calling the application?\r\n\r\nPS I&#39;m aware of the following related questions but it seems that they are telling there&#39;s no solution for this problem:\r\n\r\nhttps://stackoverflow.com/questions/44590382/intent-filter-for-opening-app-from-a-link-not-working-in-samsung-browser-firefox\r\n\r\nhttps://stackoverflow.com/questions/29535614/open-app-from-url-works-on-firefox-for-android-but-not-on-google-chrome\r\n\r\nhttps://stackoverflow.com/questions/17706667/workaround-for-chrome-on-android-not-firing-intent-when-links-are-clicked\r\n\r\n","title":"open app using app link in browsers other than chrome in Android","body":"<p>Currently I am developing an application which is supposed to be invoked when the user clicked on a predefined format of an url in any browsers on a web page. There are two choices of the format comes to my mind.</p>\n<pre><code>https://mobile.meta.com/payment/applink.html?page=login&amp;payload=some_payload (app link with https scheme)\n\nmetaapp://payment?page=login&amp;payload=some_payload (app link with custom scheme)\n</code></pre>\n<p>So I tried https scheme first. I was testing my app on chrome and everything works fine. My app get invoked directly without any problems.</p>\n<p>So when I use</p>\n<pre><code>intent.getData()\n</code></pre>\n<p>in my native code, it returns the correct https request that invokes the app.</p>\n<p>However, when I installed other browsers and test, something went wrong. My app get launched successfully but intent.getData() returns a custom url with all the query parameters lost (this is a custom url I defined in the app manifest already). It also appears that for most of the browser , the page get redirected to the play store page of the app. (that isn't happening in Chrome)</p>\n<p><a href=\"https://mobile.meta.com/payment/applink.html\" rel=\"nofollow noreferrer\">https://mobile.meta.com/payment/applink.html</a> is a domain owned by the owner of the application I'm developing, I have no control over this website hence it's more preferable if I can solve this problem entirely in the android application side, when I entered this url into the browser, it redirects to the google play store page of this application.</p>\n<p>So my first question is why are their behaviours different? Why isn't the application invoked by the browser directly like how Chrome is reacting but instead the page get redirected to the website first, then the app is invoked?</p>\n<p>My second question is how to resolve this problem (without altering the website, i.e. doing all the work in the android app manifest maybe)?</p>\n<p>Next, I tried the custom scheme and all the browsers behave in the same way, the app get invoked without any problems.</p>\n<p>So my third question is why this time all the browsers behave in the same way?</p>\n<p>My last question is why click the url <a href=\"https://mobile.meta.com/payment/applink.html\" rel=\"nofollow noreferrer\">https://mobile.meta.com/payment/applink.html</a> can invoke the application with a custom scheme url? What is this site actually doing behind the scene so that it can actually open the google play store page plus calling the application?</p>\n<p>PS I'm aware of the following related questions but it seems that they are telling there's no solution for this problem:</p>\n<p><a href=\"https://stackoverflow.com/questions/44590382/intent-filter-for-opening-app-from-a-link-not-working-in-samsung-browser-firefox\">Intent filter for opening app from a link not working in Samsung Browser/Firefox etc. but working in Chrome</a></p>\n<p><a href=\"https://stackoverflow.com/questions/29535614/open-app-from-url-works-on-firefox-for-android-but-not-on-google-chrome\">Open App from URL works on Firefox for Android but not on Google Chrome</a></p>\n<p><a href=\"https://stackoverflow.com/questions/17706667/workaround-for-chrome-on-android-not-firing-intent-when-links-are-clicked\">Workaround for Chrome on Android not firing intent when links are clicked</a></p>\n"},{"tags":["java","groovy","jmeter","jms","ibm-mq"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1635712631,"post_id":69790388,"comment_id":123362500,"body_markdown":"Have you checked the source?","body":"Have you checked the source?"},{"owner":{"account_id":11490065,"reputation":385,"user_id":8421343,"display_name":"JustNatural"},"score":0,"creation_date":1635712740,"post_id":69790388,"comment_id":123362520,"body_markdown":"@Thorbj&#248;rnRavnAndersen What do you mean by source? I have checked this [link](https://www.ibm.com/docs/en/ibm-mq/9.0?topic=jms-jmstextmessage)","body":"@Thorbj&#248;rnRavnAndersen What do you mean by source? I have checked this <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.0?topic=jms-jmstextmessage\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":11490065,"reputation":385,"user_id":8421343,"display_name":"JustNatural"},"score":0,"creation_date":1635713840,"post_id":69790388,"comment_id":123362744,"body_markdown":"@Thorbj&#248;rnRavnAndersen I&#39;ve added the imports now. Hopefully that&#39;s what you were referring to?","body":"@Thorbj&#248;rnRavnAndersen I&#39;ve added the imports now. Hopefully that&#39;s what you were referring to?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1635715960,"post_id":69790388,"comment_id":123363210,"body_markdown":"No, the source of the toString() method in question.","body":"No, the source of the toString() method in question."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1635721156,"post_id":69790388,"comment_id":123364139,"body_markdown":"@JustNatural, why you have decided it should print full message?","body":"@JustNatural, why you have decided it should print full message?"},{"owner":{"account_id":11490065,"reputation":385,"user_id":8421343,"display_name":"JustNatural"},"score":0,"creation_date":1635753249,"post_id":69790388,"comment_id":123368993,"body_markdown":"@daggett I just thought that&#39;s what toString()&#39;s supposed to do. Now I think I understand how to interpret the documentation and that my expectation is no guarantee. I really appreciated the explanation of Justin Bertram. Thank you all!","body":"@daggett I just thought that&#39;s what toString()&#39;s supposed to do. Now I think I understand how to interpret the documentation and that my expectation is no guarantee. I really appreciated the explanation of Justin Bertram. Thank you all!"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635738211,"creation_date":1635729806,"answer_id":69791825,"question_id":69790388,"body_markdown":"According to the [IBM documentation][1] `com.ibm.jms.JMSTextMessage` inherits the `toString()` implementation from `com.ibm.jms.JMSMessage` and [the JavaDoc for that method][2] says:\r\n\r\n&gt; Gets a String containing a formatted version of the message header.\r\n\r\nMy guess is that the body is cut off simply because `toString()` is really just meant to give you the header. However, only IBM would know for sure why it works that way. To be clear, there is no guarantee that `toString()` will (or should) return the entire body of the message.\r\n\r\nIf you really want to inspect the body of the text message you should invoke `getText()`. This method is required to return the body of the text-message according to [the JMS JavaDoc][3] as well as [IBM&#39;s own JavaDoc][4]. Both state:\r\n\r\n&gt; Gets the String containing this message&#39;s data. The default value is null.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/ibm-mq/9.0?topic=jms-jmstextmessage\r\n  [2]: https://www.ibm.com/docs/api/v1/content/SSFKSJ_9.0.0/com.ibm.mq.javadoc.doc/WMQJMSClasses/com/ibm/jms/JMSMessage.html#toString--\r\n  [3]: https://docs.oracle.com/javaee/7/api/javax/jms/TextMessage.html#getText--\r\n  [4]: https://www.ibm.com/docs/api/v1/content/SSFKSJ_9.0.0/com.ibm.mq.javadoc.doc/WMQJMSClasses/com/ibm/jms/JMSTextMessage.html#getText--","title":"Why does a variable of type com.ibm.jms.JMSTextMessage print truncated content and ellipses (...)?","body":"<p>According to the <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.0?topic=jms-jmstextmessage\" rel=\"nofollow noreferrer\">IBM documentation</a> <code>com.ibm.jms.JMSTextMessage</code> inherits the <code>toString()</code> implementation from <code>com.ibm.jms.JMSMessage</code> and <a href=\"https://www.ibm.com/docs/api/v1/content/SSFKSJ_9.0.0/com.ibm.mq.javadoc.doc/WMQJMSClasses/com/ibm/jms/JMSMessage.html#toString--\" rel=\"nofollow noreferrer\">the JavaDoc for that method</a> says:</p>\n<blockquote>\n<p>Gets a String containing a formatted version of the message header.</p>\n</blockquote>\n<p>My guess is that the body is cut off simply because <code>toString()</code> is really just meant to give you the header. However, only IBM would know for sure why it works that way. To be clear, there is no guarantee that <code>toString()</code> will (or should) return the entire body of the message.</p>\n<p>If you really want to inspect the body of the text message you should invoke <code>getText()</code>. This method is required to return the body of the text-message according to <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/TextMessage.html#getText--\" rel=\"nofollow noreferrer\">the JMS JavaDoc</a> as well as <a href=\"https://www.ibm.com/docs/api/v1/content/SSFKSJ_9.0.0/com.ibm.mq.javadoc.doc/WMQJMSClasses/com/ibm/jms/JMSTextMessage.html#getText--\" rel=\"nofollow noreferrer\">IBM's own JavaDoc</a>. Both state:</p>\n<blockquote>\n<p>Gets the String containing this message's data. The default value is null.</p>\n</blockquote>\n"}],"owner":{"account_id":11490065,"reputation":385,"user_id":8421343,"display_name":"JustNatural"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69791825,"answer_count":1,"score":2,"last_activity_date":1635738211,"creation_date":1635712508,"question_id":69790388,"body_markdown":"I would like to understand why a variable of type com.ibm.jms.JMSTextMessage is printed with truncated content and ellipses (...) when converted to string.\r\n\r\n\r\nI have this code in a JSR223 Sampler in JMeter:\r\n\r\n    import com.ibm.msg.client.jms.JmsConnectionFactory\r\n    import com.ibm.msg.client.jms.JmsFactoryFactory\r\n    import com.ibm.msg.client.wmq.WMQConstants\r\n    import javax.jms.Session\r\n    import javax.jms.TextMessage\r\n\r\n    def hostName = &quot;127.0.0.1&quot;\r\n    def hostPort = 1414\r\n    def channelName = &quot;DEV.APP.SVRCONN&quot;\r\n    def queueManagerName = &quot;QM1&quot;\r\n    def queueName = &quot;DEV.QUEUE.1&quot;\r\n    \r\n    def ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER)\r\n    def cf = ff.createConnectionFactory()\r\n    \r\n    cf.setStringProperty(WMQConstants.WMQ_HOST_NAME, hostName)\r\n    cf.setIntProperty(WMQConstants.WMQ_PORT, hostPort)\r\n    cf.setStringProperty(WMQConstants.WMQ_CHANNEL, channelName)\r\n    cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT)\r\n    \r\n    def connInboundQueue = cf.createConnection(&quot;user&quot;, &quot;password&quot;)\r\n    \r\n    def sessInboundQueue = connInboundQueue.createSession(false, Session.AUTO_ACKNOWLEDGE)\r\n\r\n \r\n    def payload = &quot;AAA:+.? &#39;\\n&quot; +\r\n            &quot;ABC+ABCD:1+ABCDEFG:ZZ+ABCDEF:ZZ+123456:2042+12345678901++ABCD&#39;\\n&quot; +\r\n            &quot;DEF+ABCD+LH+FVKJUB+20000:2042+Y1234567+UN+D:21B&#39;\\n&quot; +\r\n            &quot;GHI+1+ABCD:D:11A:AA:ABCD+ABCD12345678901123ABC123456&#39;\\n&quot; +\r\n            &quot;JKL+745&#39;\\n&quot; +\r\n            &quot;HHH+TN:IIAA891011213531235BNM422244:::001&#39;\\n&quot; +\r\n            &quot;CCC+NT+++ABCDEFGHIJKLMNOPQRS&#39;\\n&quot; +\r\n            &quot;STU+00123456789012:UF+0000000000:GY&#39;\\n&quot; +\r\n            &quot;VXY+50+MI1234+++MI&#39;\\n&quot; +\r\n            &quot;AAA+235+ABC&#39;\\n&quot; +\r\n            &quot;BBB+200:3202062000:301&#39;\\n&quot; +\r\n            &quot;FFF+90+USA&#39;\\n&quot; +\r\n            &quot;BBB+232:2101051135:201&#39;\\n&quot; +\r\n            &quot;CCC+FF+++AaBaBa001:TEST1&#39;\\n&quot; +\r\n            &quot;DDD+3++G&#39;\\n&quot; +\r\n            &quot;EEE+329:711013&#39;\\n&quot; +\r\n            &quot;FFF+178+XXX&#39;\\n&quot; +\r\n            &quot;FFF+179+YYY&#39;\\n&quot; +\r\n            &quot;GGG+2+ZZZ&#39;\\n&quot; +\r\n            &quot;HHH+BXG:ABCDEF&#39;\\n&quot; +\r\n            &quot;HHH+ABC:12AB3E01234E8UD8&#39;\\n&quot; +\r\n            &quot;III+P:110:111+100000001&#39;\\n&quot; +\r\n            &quot;EEE+36:281105&#39;\\n&quot; +\r\n            &quot;FFF+91+ASD&#39;\\n&quot; +\r\n            &quot;VVV+50:2&#39;\\n&quot; +\r\n            &quot;XXX+0011+1&#39;\\n&quot; +\r\n            &quot;YYY+1+U0123456&#39;\\n&quot; +\r\n            &quot;ZZZ+1+U1234560002&#39;\\n&quot;\r\n \r\n    TextMessage msg = sessInboundQueue.createTextMessage()\r\n    msg.setText(payload)\r\n    \r\n    log.info(msg.toString())\r\n    log.info(msg.getClass().toString())\r\n    log.info(msg.getText())\r\n\r\nI would like to understand why `log.info(msg.toString())` does not print the whole text content and show ellipses after some `point (...)`\r\n\r\nIf I do `log.info(msg.getText())`, I can see the whole text message.\r\n\r\nHere is the print outcome in jmeter&#39;s console:\r\n\r\n    2021-10-31 22:05:25,491 INFO o.a.j.p.j.s.J.JSR223 Sampler - Producer - Inbound Queue: \r\n      JMSMessage class: jms_text\r\n      JMSType:          null\r\n      JMSDeliveryMode:  2\r\n      JMSDeliveryDelay: 0\r\n      JMSDeliveryTime:  1635710725481\r\n      JMSExpiration:    0\r\n      JMSPriority:      4\r\n      JMSMessageID:     ID:414d5120514d312020202020202020201f537d6101c31040\r\n      JMSTimestamp:     1635710725481\r\n      JMSCorrelationID: 1757416553\r\n      JMSDestination:   queue:///DEV.QUEUE.1\r\n      JMSReplyTo:       null\r\n      JMSRedelivered:   false\r\n        JMSXAppID: 4.1\\bin\\ApacheJMeter.jar    \r\n        JMSXDeliveryCount: 0\r\n        JMSXUserID: mquser1     \r\n        JMS_IBM_PutApplType: 28\r\n        JMS_IBM_PutDate: 20211031\r\n        JMS_IBM_PutTime: 20052548\r\n    AAA:+.? &#39;\r\n    ABC+ABCD:1+ABCDEFG:ZZ+ABCDEF:ZZ+123456:2042+12345678901++ABCD&#39;\r\n    DEF+ABCD+LH+FVKJUB+20000:20 ...\r\n    2021-10-31 22:05:25,491 INFO o.a.j.p.j.s.J.JSR223 Sampler - Producer - Inbound Queue: class com.ibm.jms.JMSTextMessage\r\n    2021-10-31 22:05:25,491 INFO o.a.j.p.j.s.J.JSR223 Sampler - Producer - Inbound Queue: AAA:+.? &#39;\r\n    ABC+ABCD:1+ABCDEFG:ZZ+ABCDEF:ZZ+123456:2042+12345678901++ABCD&#39;\r\n    DEF+ABCD+LH+FVKJUB+20000:2042+Y1234567+UN+D:21B&#39;\r\n    GHI+1+ABCD:D:11A:AA:ABCD+ABCD12345678901123ABC123456&#39;\r\n    JKL+745&#39;\r\n    HHH+TN:IIAA891011213531235BNM422244:::001&#39;\r\n    CCC+NT+++ABCDEFGHIJKLMNOPQRS&#39;\r\n    STU+00123456789012:UF+0000000000:GY&#39;\r\n    VXY+50+MI1234+++MI&#39;\r\n    AAA+235+ABC&#39;\r\n    BBB+200:3202062000:301&#39;\r\n    FFF+90+USA&#39;\r\n    BBB+232:2101051135:201&#39;\r\n    CCC+FF+++AaBaBa001:TEST1&#39;\r\n    DDD+3++G&#39;\r\n    EEE+329:711013&#39;\r\n    FFF+178+XXX&#39;\r\n    FFF+179+YYY&#39;\r\n    GGG+2+ZZZ&#39;\r\n    HHH+BXG:ABCDEF&#39;\r\n    HHH+ABC:12AB3E01234E8UD8&#39;\r\n    III+P:110:111+100000001&#39;\r\n    EEE+36:281105&#39;\r\n    FFF+91+ASD&#39;\r\n    VVV+50:2&#39;\r\n    XXX+0011+1&#39;\r\n    YYY+1+U0123456&#39;\r\n    ZZZ+1+U1234560002&#39;\r\n    \r\n ","title":"Why does a variable of type com.ibm.jms.JMSTextMessage print truncated content and ellipses (...)?","body":"<p>I would like to understand why a variable of type com.ibm.jms.JMSTextMessage is printed with truncated content and ellipses (...) when converted to string.</p>\n<p>I have this code in a JSR223 Sampler in JMeter:</p>\n<pre><code>import com.ibm.msg.client.jms.JmsConnectionFactory\nimport com.ibm.msg.client.jms.JmsFactoryFactory\nimport com.ibm.msg.client.wmq.WMQConstants\nimport javax.jms.Session\nimport javax.jms.TextMessage\n\ndef hostName = &quot;127.0.0.1&quot;\ndef hostPort = 1414\ndef channelName = &quot;DEV.APP.SVRCONN&quot;\ndef queueManagerName = &quot;QM1&quot;\ndef queueName = &quot;DEV.QUEUE.1&quot;\n\ndef ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER)\ndef cf = ff.createConnectionFactory()\n\ncf.setStringProperty(WMQConstants.WMQ_HOST_NAME, hostName)\ncf.setIntProperty(WMQConstants.WMQ_PORT, hostPort)\ncf.setStringProperty(WMQConstants.WMQ_CHANNEL, channelName)\ncf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT)\n\ndef connInboundQueue = cf.createConnection(&quot;user&quot;, &quot;password&quot;)\n\ndef sessInboundQueue = connInboundQueue.createSession(false, Session.AUTO_ACKNOWLEDGE)\n\n\ndef payload = &quot;AAA:+.? '\\n&quot; +\n        &quot;ABC+ABCD:1+ABCDEFG:ZZ+ABCDEF:ZZ+123456:2042+12345678901++ABCD'\\n&quot; +\n        &quot;DEF+ABCD+LH+FVKJUB+20000:2042+Y1234567+UN+D:21B'\\n&quot; +\n        &quot;GHI+1+ABCD:D:11A:AA:ABCD+ABCD12345678901123ABC123456'\\n&quot; +\n        &quot;JKL+745'\\n&quot; +\n        &quot;HHH+TN:IIAA891011213531235BNM422244:::001'\\n&quot; +\n        &quot;CCC+NT+++ABCDEFGHIJKLMNOPQRS'\\n&quot; +\n        &quot;STU+00123456789012:UF+0000000000:GY'\\n&quot; +\n        &quot;VXY+50+MI1234+++MI'\\n&quot; +\n        &quot;AAA+235+ABC'\\n&quot; +\n        &quot;BBB+200:3202062000:301'\\n&quot; +\n        &quot;FFF+90+USA'\\n&quot; +\n        &quot;BBB+232:2101051135:201'\\n&quot; +\n        &quot;CCC+FF+++AaBaBa001:TEST1'\\n&quot; +\n        &quot;DDD+3++G'\\n&quot; +\n        &quot;EEE+329:711013'\\n&quot; +\n        &quot;FFF+178+XXX'\\n&quot; +\n        &quot;FFF+179+YYY'\\n&quot; +\n        &quot;GGG+2+ZZZ'\\n&quot; +\n        &quot;HHH+BXG:ABCDEF'\\n&quot; +\n        &quot;HHH+ABC:12AB3E01234E8UD8'\\n&quot; +\n        &quot;III+P:110:111+100000001'\\n&quot; +\n        &quot;EEE+36:281105'\\n&quot; +\n        &quot;FFF+91+ASD'\\n&quot; +\n        &quot;VVV+50:2'\\n&quot; +\n        &quot;XXX+0011+1'\\n&quot; +\n        &quot;YYY+1+U0123456'\\n&quot; +\n        &quot;ZZZ+1+U1234560002'\\n&quot;\n\nTextMessage msg = sessInboundQueue.createTextMessage()\nmsg.setText(payload)\n\nlog.info(msg.toString())\nlog.info(msg.getClass().toString())\nlog.info(msg.getText())\n</code></pre>\n<p>I would like to understand why <code>log.info(msg.toString())</code> does not print the whole text content and show ellipses after some <code>point (...)</code></p>\n<p>If I do <code>log.info(msg.getText())</code>, I can see the whole text message.</p>\n<p>Here is the print outcome in jmeter's console:</p>\n<pre><code>2021-10-31 22:05:25,491 INFO o.a.j.p.j.s.J.JSR223 Sampler - Producer - Inbound Queue: \n  JMSMessage class: jms_text\n  JMSType:          null\n  JMSDeliveryMode:  2\n  JMSDeliveryDelay: 0\n  JMSDeliveryTime:  1635710725481\n  JMSExpiration:    0\n  JMSPriority:      4\n  JMSMessageID:     ID:414d5120514d312020202020202020201f537d6101c31040\n  JMSTimestamp:     1635710725481\n  JMSCorrelationID: 1757416553\n  JMSDestination:   queue:///DEV.QUEUE.1\n  JMSReplyTo:       null\n  JMSRedelivered:   false\n    JMSXAppID: 4.1\\bin\\ApacheJMeter.jar    \n    JMSXDeliveryCount: 0\n    JMSXUserID: mquser1     \n    JMS_IBM_PutApplType: 28\n    JMS_IBM_PutDate: 20211031\n    JMS_IBM_PutTime: 20052548\nAAA:+.? '\nABC+ABCD:1+ABCDEFG:ZZ+ABCDEF:ZZ+123456:2042+12345678901++ABCD'\nDEF+ABCD+LH+FVKJUB+20000:20 ...\n2021-10-31 22:05:25,491 INFO o.a.j.p.j.s.J.JSR223 Sampler - Producer - Inbound Queue: class com.ibm.jms.JMSTextMessage\n2021-10-31 22:05:25,491 INFO o.a.j.p.j.s.J.JSR223 Sampler - Producer - Inbound Queue: AAA:+.? '\nABC+ABCD:1+ABCDEFG:ZZ+ABCDEF:ZZ+123456:2042+12345678901++ABCD'\nDEF+ABCD+LH+FVKJUB+20000:2042+Y1234567+UN+D:21B'\nGHI+1+ABCD:D:11A:AA:ABCD+ABCD12345678901123ABC123456'\nJKL+745'\nHHH+TN:IIAA891011213531235BNM422244:::001'\nCCC+NT+++ABCDEFGHIJKLMNOPQRS'\nSTU+00123456789012:UF+0000000000:GY'\nVXY+50+MI1234+++MI'\nAAA+235+ABC'\nBBB+200:3202062000:301'\nFFF+90+USA'\nBBB+232:2101051135:201'\nCCC+FF+++AaBaBa001:TEST1'\nDDD+3++G'\nEEE+329:711013'\nFFF+178+XXX'\nFFF+179+YYY'\nGGG+2+ZZZ'\nHHH+BXG:ABCDEF'\nHHH+ABC:12AB3E01234E8UD8'\nIII+P:110:111+100000001'\nEEE+36:281105'\nFFF+91+ASD'\nVVV+50:2'\nXXX+0011+1'\nYYY+1+U0123456'\nZZZ+1+U1234560002'\n</code></pre>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1635768713,"post_id":69790342,"comment_id":123373945,"body_markdown":"You look for an `AffineTransform` that corresponds to the desired effect. Unfortunately your effect cannot be created by an affine transform in the plane (which is the type of transform supported by PDF). You can create something similar by replacing the grid bitmap with PDF vector graphics and applying local approximations of the transform on a per letter base. Essentially @KJ in his meanwhile deleted answer was correct, though.","body":"You look for an <code>AffineTransform</code> that corresponds to the desired effect. Unfortunately your effect cannot be created by an affine transform in the plane (which is the type of transform supported by PDF). You can create something similar by replacing the grid bitmap with PDF vector graphics and applying local approximations of the transform on a per letter base. Essentially @KJ in his meanwhile deleted answer was correct, though."},{"owner":{"account_id":21074056,"reputation":19,"user_id":15489692,"display_name":"cixikoy607"},"score":0,"creation_date":1638660403,"post_id":69790342,"comment_id":124148002,"body_markdown":"Where is his answer? i dont how transform svg and letters","body":"Where is his answer? i dont how transform svg and letters"}],"owner":{"account_id":21074056,"reputation":19,"user_id":15489692,"display_name":"cixikoy607"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1635737330,"creation_date":1635712025,"question_id":69790342,"body_markdown":"\r\npublic class Perspective {\r\n    public static final String DEST = &quot;./results/perspective.pdf&quot;;\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(DEST));\r\n\r\n        PdfCanvas canvas = new PdfCanvas(pdfDoc.getFirstPage());\r\n        AffineTransform transformContent = AffineTransform.?;\r\n                canvas.concatMatrix(transformContent);\r\n\r\n\r\n\r\n    \r\n    }\r\n \r\nI need to tilt a photo with text only forward as shown below(greed is images)\r\n\r\nOriginal:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWith perspective:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nOriginal Pdf:\r\nhttps://dropmefiles.com/cji1I\r\n\r\n  [1]: https://i.stack.imgur.com/SRIac.png\r\n  [2]: https://i.stack.imgur.com/itZRj.jpg","title":"perspective effect itext 7","body":"<p>public class Perspective {\npublic static final String DEST = &quot;./results/perspective.pdf&quot;;</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n    PdfDocument pdfDoc = new PdfDocument(new PdfWriter(DEST));\n\n    PdfCanvas canvas = new PdfCanvas(pdfDoc.getFirstPage());\n    AffineTransform transformContent = AffineTransform.?;\n            canvas.concatMatrix(transformContent);\n\n\n\n\n}\n</code></pre>\n<p>I need to tilt a photo with text only forward as shown below(greed is images)</p>\n<p>Original:</p>\n<p><a href=\"https://i.stack.imgur.com/SRIac.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SRIac.png\" alt=\"enter image description here\" /></a></p>\n<p>With perspective:</p>\n<p><a href=\"https://i.stack.imgur.com/itZRj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/itZRj.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Original Pdf:\n<a href=\"https://dropmefiles.com/cji1I\" rel=\"nofollow noreferrer\">https://dropmefiles.com/cji1I</a></p>\n"},{"tags":["java","encryption","cryptography","aes"],"comments":[{"owner":{"account_id":297679,"reputation":29954,"user_id":603316,"accept_rate":75,"display_name":"Peter"},"score":0,"creation_date":1559223156,"post_id":56375147,"comment_id":99358869,"body_markdown":"The length of the output of any block cipher is always the block size (16 bytes for AES). Encrypting more data is usually done with a block cipher mode of operation which chains multiple block encryptions together and consequently produces a multiple of the block size. You have to pick a stream cipher to get equal length output. Some modes such as CFB or OFB construct stream ciphers from block ciphers.","body":"The length of the output of any block cipher is always the block size (16 bytes for AES). Encrypting more data is usually done with a block cipher mode of operation which chains multiple block encryptions together and consequently produces a multiple of the block size. You have to pick a stream cipher to get equal length output. Some modes such as CFB or OFB construct stream ciphers from block ciphers."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1559523589,"post_id":56375147,"comment_id":99435571,"body_markdown":"There are some libraries (few?) that provide FPE. When I need to consider it in a design (not often), I go back to Bellare and Rogaway&#39;s paper at [Format-Preserving Encryption](https://eprint.iacr.org/2009/251.pdf). Note: a well designed system usually will not need FPE. A well desgined system is not sensitive to lengths or alphabets. A well designed system has the crypto built-in, not tacked-on.","body":"There are some libraries (few?) that provide FPE. When I need to consider it in a design (not often), I go back to Bellare and Rogaway&#39;s paper at <a href=\"https://eprint.iacr.org/2009/251.pdf\" rel=\"nofollow noreferrer\">Format-Preserving Encryption</a>. Note: a well designed system usually will not need FPE. A well desgined system is not sensitive to lengths or alphabets. A well designed system has the crypto built-in, not tacked-on."},{"owner":{"account_id":9593310,"reputation":11,"user_id":7123368,"display_name":"Jas Arora"},"score":0,"creation_date":1559539701,"post_id":56375147,"comment_id":99438110,"body_markdown":"@Peter thanks that was valuable information.","body":"@Peter thanks that was valuable information."},{"owner":{"account_id":9593310,"reputation":11,"user_id":7123368,"display_name":"Jas Arora"},"score":0,"creation_date":1559539925,"post_id":56375147,"comment_id":99438156,"body_markdown":"@jww thanks, I got your point will see the paper.","body":"@jww thanks, I got your point will see the paper."}],"answers":[{"tags":[],"owner":{"account_id":4665915,"reputation":1291,"user_id":3778976,"display_name":"Brad Schoening"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635737147,"creation_date":1635737147,"answer_id":69792334,"question_id":56375147,"body_markdown":"As of late 2021, you probably want to use NIST approved FPE and not the older FFX or BPS. There are two Open Source libraries which support this, [Mysto][1] and [Bouncy Castle][2].\r\n\r\n\r\n  [1]: https://github.com/mysto/java-fpe\r\n  [2]: https://github.com/bcgit/bc-java","title":"Converting output of AES encryption to a format preserving one (FPE)","body":"<p>As of late 2021, you probably want to use NIST approved FPE and not the older FFX or BPS. There are two Open Source libraries which support this, <a href=\"https://github.com/mysto/java-fpe\" rel=\"nofollow noreferrer\">Mysto</a> and <a href=\"https://github.com/bcgit/bc-java\" rel=\"nofollow noreferrer\">Bouncy Castle</a>.</p>\n"}],"owner":{"account_id":9593310,"reputation":11,"user_id":7123368,"display_name":"Jas Arora"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635737147,"creation_date":1559207544,"question_id":56375147,"body_markdown":"I have an existing Java code in which I am encrypting the data received using an AES-256 encryption but I am getting the output as a longer text I want the data to preserve the format for example if I enter a phone number(10 digits) the output should be some phone number(10 digits) similarly for other sensitive fields like credit card number(16 digits) the output should be 16 random digits.\r\n\r\nWhat I found is that we have 3 algorithms proposed for this work FFX , BPS and VFPE.   \r\n\r\nI have just written the basic encryption code similar to this https://howtodoinjava.com/security/java-aes-encryption-example/\r\nand was trying to understand it but I am not able to its totally out of my understanding anyone who has a simpler understanding of the algorithm please help.\r\n\r\n\r\n\r\nI just expect some resource or some basic understanding of BPS or anyone who would have implemented (as the documentation https://csrc.nist.gov/csrc/media/projects/block-cipher-techniques/documents/bcm/proposed-modes/bps/bps-spec.pdf  is confusing ). Please help as to how to do it and I am a newbie at it so even the slightest clue will be helpful, Thanks.","title":"Converting output of AES encryption to a format preserving one (FPE)","body":"<p>I have an existing Java code in which I am encrypting the data received using an AES-256 encryption but I am getting the output as a longer text I want the data to preserve the format for example if I enter a phone number(10 digits) the output should be some phone number(10 digits) similarly for other sensitive fields like credit card number(16 digits) the output should be 16 random digits.</p>\n\n<p>What I found is that we have 3 algorithms proposed for this work FFX , BPS and VFPE.   </p>\n\n<p>I have just written the basic encryption code similar to this <a href=\"https://howtodoinjava.com/security/java-aes-encryption-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/security/java-aes-encryption-example/</a>\nand was trying to understand it but I am not able to its totally out of my understanding anyone who has a simpler understanding of the algorithm please help.</p>\n\n<p>I just expect some resource or some basic understanding of BPS or anyone who would have implemented (as the documentation <a href=\"https://csrc.nist.gov/csrc/media/projects/block-cipher-techniques/documents/bcm/proposed-modes/bps/bps-spec.pdf\" rel=\"nofollow noreferrer\">https://csrc.nist.gov/csrc/media/projects/block-cipher-techniques/documents/bcm/proposed-modes/bps/bps-spec.pdf</a>  is confusing ). Please help as to how to do it and I am a newbie at it so even the slightest clue will be helpful, Thanks.</p>\n"},{"tags":["java","visual-studio-code","java-8"],"comments":[{"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"score":0,"creation_date":1635713795,"post_id":69790516,"comment_id":123362731,"body_markdown":"you probably will want the &quot;Extension pack for java&quot; as it will help you run/setup a basic project.  Also how are you currently running the code? are you using `java` and `javac` for compiling and running?","body":"you probably will want the &quot;Extension pack for java&quot; as it will help you run/setup a basic project.  Also how are you currently running the code? are you using <code>java</code> and <code>javac</code> for compiling and running?"},{"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"score":0,"creation_date":1635713971,"post_id":69790516,"comment_id":123362765,"body_markdown":"Here: https://code.labstack.com/uMC0YAAu","body":"Here: <a href=\"https://code.labstack.com/uMC0YAAu\" rel=\"nofollow noreferrer\">code.labstack.com/uMC0YAAu</a>"},{"owner":{"account_id":22933556,"reputation":33,"user_id":17067354,"display_name":"Levin Kent"},"score":0,"creation_date":1635714205,"post_id":69790516,"comment_id":123362809,"body_markdown":"Since i&#39;m on VSCode I was just pressing run at the top. Ashu&#39;s answer seems to work. I need to explore now how to properly set up projects and the purpose of the main class. Thanks","body":"Since i&#39;m on VSCode I was just pressing run at the top. Ashu&#39;s answer seems to work. I need to explore now how to properly set up projects and the purpose of the main class. Thanks"},{"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"score":0,"creation_date":1635715346,"post_id":69790516,"comment_id":123363072,"body_markdown":"@LevinKent a class with the static main method is the entry point to a project (or other classes in it).","body":"@LevinKent a class with the static main method is the entry point to a project (or other classes in it)."}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635736830,"creation_date":1635736348,"answer_id":69792265,"question_id":69790516,"body_markdown":"**Figure.java:**\r\n\r\n    class Figure {\r\n      void display() { System.out.print(&quot;Figure &quot;); }\r\n    }\r\n\r\n**Rectangle.java:**\r\n\r\n    class Rectangle extends Figure {\r\n      void display() { System.out.print(&quot;Rectangle &quot;); }\r\n      void display(String s){ System.out.print(s); } \r\n    }\r\n\r\n**Box.java:**\r\n\r\n    class Box extends Figure {\r\n      void display() { System.out.print(&quot;Box &quot;);  }\r\n      void display(String s){ System.out.print(s); }\r\n    } \r\n\r\nThe rest code should be in `main` method and you can put `main` method in any one of the above .java files. I put it in `Figure.java`, please have a try.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j5yAf.png","title":"How would you execute this on VSCode?","body":"<p><strong>Figure.java:</strong></p>\n<pre><code>class Figure {\n  void display() { System.out.print(&quot;Figure &quot;); }\n}\n</code></pre>\n<p><strong>Rectangle.java:</strong></p>\n<pre><code>class Rectangle extends Figure {\n  void display() { System.out.print(&quot;Rectangle &quot;); }\n  void display(String s){ System.out.print(s); } \n}\n</code></pre>\n<p><strong>Box.java:</strong></p>\n<pre><code>class Box extends Figure {\n  void display() { System.out.print(&quot;Box &quot;);  }\n  void display(String s){ System.out.print(s); }\n} \n</code></pre>\n<p>The rest code should be in <code>main</code> method and you can put <code>main</code> method in any one of the above .java files. I put it in <code>Figure.java</code>, please have a try.</p>\n<p><a href=\"https://i.stack.imgur.com/j5yAf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j5yAf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22933556,"reputation":33,"user_id":17067354,"display_name":"Levin Kent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69792265,"answer_count":1,"score":-1,"last_activity_date":1635736830,"creation_date":1635713501,"question_id":69790516,"body_markdown":"I&#39;ve found the following code online but don&#39;t know how to run it on IDE as I&#39;m new to Java could you please help.\r\n\r\n``` \r\nclass Figure {\r\n  void display() { System.out.print(&quot;Figure &quot;); }\r\n}\r\nclass Rectangle extends Figure {\r\n  void display() { System.out.print(&quot;Rectangle &quot;); }\r\n  void display(String s){ System.out.print(s); } \r\n}\r\nclass Box extends Figure {\r\n  void display() { System.out.print(&quot;Box &quot;);  }\r\n  void display(String s){ System.out.print(s); }\r\n} \r\n\r\nFigure f = new Figure();\r\nRectangle r = new Rectangle();\r\nBox b = new Box();\r\nf = r;\r\n((Figure) f).display();\r\nf = (Figure) b;\r\nf.display();\r\n```\r\n\r\nI tried creating a class and copy-pasting the code but couldn&#39;t manage to produce any output. Super stuck and am still a novice. Doing it by hand I think it should output Rectangle Box.\r\n\r\n\r\n","title":"How would you execute this on VSCode?","body":"<p>I've found the following code online but don't know how to run it on IDE as I'm new to Java could you please help.</p>\n<pre><code>class Figure {\n  void display() { System.out.print(&quot;Figure &quot;); }\n}\nclass Rectangle extends Figure {\n  void display() { System.out.print(&quot;Rectangle &quot;); }\n  void display(String s){ System.out.print(s); } \n}\nclass Box extends Figure {\n  void display() { System.out.print(&quot;Box &quot;);  }\n  void display(String s){ System.out.print(s); }\n} \n\nFigure f = new Figure();\nRectangle r = new Rectangle();\nBox b = new Box();\nf = r;\n((Figure) f).display();\nf = (Figure) b;\nf.display();\n</code></pre>\n<p>I tried creating a class and copy-pasting the code but couldn't manage to produce any output. Super stuck and am still a novice. Doing it by hand I think it should output Rectangle Box.</p>\n"},{"tags":["java","algorithm","math","logarithm"],"comments":[{"owner":{"account_id":408372,"reputation":8732,"user_id":778990,"display_name":"ignis"},"score":0,"creation_date":1355274997,"post_id":13831150,"comment_id":19035609,"body_markdown":"The tricks mentioned in that question take advantage of the way numbers are stored in memory. You had better rely on Math&#39;s (or BigInteger/BigDecimal&#39;s) methods if you do not fully understand those tricks. Anyway, they take advantage of the fact that numbers are internally represented very closely to their representation in base 2. In Java you have no unions, instead you get the raw bits of a double via [Double.doubleToRawLongBits](http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html#doubleToRawLongBits(double)).","body":"The tricks mentioned in that question take advantage of the way numbers are stored in memory. You had better rely on Math&#39;s (or BigInteger/BigDecimal&#39;s) methods if you do not fully understand those tricks. Anyway, they take advantage of the fact that numbers are internally represented very closely to their representation in base 2. In Java you have no unions, instead you get the raw bits of a double via <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html#doubleToRawLongBits(double)\" rel=\"nofollow noreferrer\">Double.doubleToRawLongBits</a>."},{"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"score":0,"creation_date":1355275114,"post_id":13831150,"comment_id":19035643,"body_markdown":"BigInteger and BigDecimal do not contain log methods.","body":"BigInteger and BigDecimal do not contain log methods."},{"owner":{"display_name":"user719662"},"score":0,"creation_date":1355277359,"post_id":13831150,"comment_id":19036138,"body_markdown":"exactly. for ints use that obvious bit shift in a counted loop.","body":"exactly. for ints use that obvious bit shift in a counted loop."}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":2,"up_vote_count":106,"is_accepted":true,"score":104,"last_activity_date":1629821693,"creation_date":1355274440,"answer_id":13831166,"question_id":13831150,"body_markdown":"Use this identity:\r\n\r\n&gt; log&lt;sub&gt;b&lt;/sub&gt;(n) = log&lt;sub&gt;e&lt;/sub&gt;(n) / log&lt;sub&gt;e&lt;/sub&gt;(b)\r\n\r\nWhere `log` can be a logarithm function in any base, `n` is the number and `b` is the base. For example, in Java this will find the base-2 logarithm of 256:\r\n\r\n    Math.log(256) / Math.log(2)\r\n    =&gt; 8.0\r\n\r\n[`Math.log()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#log(double)) uses base `e`, by the way. And there&#39;s also [`Math.log10()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#log10(double)), which uses base `10`.","title":"Logarithm Algorithm","body":"<p>Use this identity:</p>\n<blockquote>\n<p>log<sub>b</sub>(n) = log<sub>e</sub>(n) / log<sub>e</sub>(b)</p>\n</blockquote>\n<p>Where <code>log</code> can be a logarithm function in any base, <code>n</code> is the number and <code>b</code> is the base. For example, in Java this will find the base-2 logarithm of 256:</p>\n<pre><code>Math.log(256) / Math.log(2)\n=&gt; 8.0\n</code></pre>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#log(double)\" rel=\"noreferrer\"><code>Math.log()</code></a> uses base <code>e</code>, by the way. And there's also <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#log10(double)\" rel=\"noreferrer\"><code>Math.log10()</code></a>, which uses base <code>10</code>.</p>\n"},{"tags":[],"owner":{"account_id":10286865,"reputation":65,"user_id":11325633,"display_name":"Alexandre Piccini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635736481,"creation_date":1635735973,"answer_id":69792240,"question_id":13831150,"body_markdown":"I know this is extremely late, but this may come to be useful for some since the matter here is precision. One way of doing this is essentially implementing a root-finding algorithm that uses, from its base, the high precision types you might want to be using, consisting of simple +-x/ operations.\r\n\r\nI would recommend implementing Newton&#39;s ​method since it demands relatively few iterations and has great convergence. For this sort of application, specifically, I believe it&#39;s fair to say it will always provide the correct result provided good input validation is implemented.\r\n\r\n\r\nConsidering a simple constant &quot;a&quot; where\r\n![log_b(x) = a](https://chart.googleapis.com/chart?cht=tx&amp;chl=log_b(x)=a)\r\n\r\nWhere a is sought to be solved for such that it obeys, then\r\n![x - b^a = 0](https://chart.googleapis.com/chart?cht=tx&amp;chl=x-b^a=0)\r\n\r\nWe can use the [Newton method](https://en.wikipedia.org/wiki/Newton%27s_method) iteratively to find &quot;a&quot; within any specified tolerance, where each a-ith iteration can be computed by\r\n![a_i = a_{i-1} - \\frac{x - b^a}{-ab^{a-1}}](https://chart.googleapis.com/chart?cht=tx&amp;chl=a_i%20=%20a_{i-1}%20-%20\\frac{x%20-%20b^a}{(-a)b^{a-1}})\r\n\r\nand the denominator is\r\n\r\n![-ab^{a-1} = \\frac{\\partial}{\\partial a}](https://chart.googleapis.com/chart?cht=tx&amp;chl=-ab^{a-1}=\\frac{\\partial}{\\partial{a}}),\r\n\r\nbecause that&#39;s the first derivative of the function, as necessary for the Newton method. Once this is solved for, &quot;a&quot; is the direct answer for the &quot;a = log,b(x)&quot; problem, obtainable by simple +-x/ operations, so you&#39;re already good to go. &quot;Wait, but there&#39;s a power there?&quot;. Yes. If you can rely on your power function as being accurate enough, then there are no issues with going ahead and using it there. Otherwise, you can further break down the power operation into a series of other +-x/ operations by using [these methods](https://www.wikihow.com/Solve-Decimal-Exponents) to simplify whatever decimal number that is on the power into two integer power operations that can be computed easily with a series of multiplication operations. This process will eventually leave you with nth-roots to solve for, which you can also find with the Newton method. If you do go down that road, you can use this for the newton method\r\n\r\n![\\frac{\\partial (\\sqrt[b]{x})}{\\partial x} = \\frac{\\sqrt[b]{x}}{bx}](https://chart.googleapis.com/chart?cht=tx&amp;chl=\\frac{\\partial(\\sqrt[b]{x})}{\\partial{x}}=\\frac{\\sqrt[b]{x}}{bx})\r\n\r\nwhich, as you can see, has to be solved for recursively until you reach b = 1.\r\n\r\nPhew, but yeah, that&#39;s it. This is the way you can solve the problem by making sure you use high precision types along the whole way with only +-x/ operations. Below is a quick implementation I did in Excel to solve for log,2(3), compared with the solution given by the software&#39;s original function. As you can see, I can just keep refining &quot;a&quot; until I reach the tolerance I want by monitoring what the optimization function gives me. In this, I used a=2 as the initial guess, which you can use and should be fine for most cases.\r\n\r\n![Newton method for the solution of a log operation](https://i.ibb.co/jwLCGqR/Newton-Solves-Log.jpg)\r\n\r\n\r\n\r\n","title":"Logarithm Algorithm","body":"<p>I know this is extremely late, but this may come to be useful for some since the matter here is precision. One way of doing this is essentially implementing a root-finding algorithm that uses, from its base, the high precision types you might want to be using, consisting of simple +-x/ operations.</p>\n<p>I would recommend implementing Newton's ​method since it demands relatively few iterations and has great convergence. For this sort of application, specifically, I believe it's fair to say it will always provide the correct result provided good input validation is implemented.</p>\n<p>Considering a simple constant &quot;a&quot; where\n<img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=log_b(x)=a\" alt=\"log_b(x) = a\" /></p>\n<p>Where a is sought to be solved for such that it obeys, then\n<img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=x-b%5Ea=0\" alt=\"x - b^a = 0\" /></p>\n<p>We can use the <a href=\"https://en.wikipedia.org/wiki/Newton%27s_method\" rel=\"nofollow noreferrer\">Newton method</a> iteratively to find &quot;a&quot; within any specified tolerance, where each a-ith iteration can be computed by\n<img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=a_i%20=%20a_%7Bi-1%7D%20-%20%5Cfrac%7Bx%20-%20b%5Ea%7D%7B(-a)b%5E%7Ba-1%7D%7D\" alt=\"a_i = a_{i-1} - \\frac{x - b^a}{-ab^{a-1}}\" /></p>\n<p>and the denominator is</p>\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=-ab%5E%7Ba-1%7D=%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%7Ba%7D%7D\" alt=\"-ab^{a-1} = \\frac{\\partial}{\\partial a}\" />,</p>\n<p>because that's the first derivative of the function, as necessary for the Newton method. Once this is solved for, &quot;a&quot; is the direct answer for the &quot;a = log,b(x)&quot; problem, obtainable by simple +-x/ operations, so you're already good to go. &quot;Wait, but there's a power there?&quot;. Yes. If you can rely on your power function as being accurate enough, then there are no issues with going ahead and using it there. Otherwise, you can further break down the power operation into a series of other +-x/ operations by using <a href=\"https://www.wikihow.com/Solve-Decimal-Exponents\" rel=\"nofollow noreferrer\">these methods</a> to simplify whatever decimal number that is on the power into two integer power operations that can be computed easily with a series of multiplication operations. This process will eventually leave you with nth-roots to solve for, which you can also find with the Newton method. If you do go down that road, you can use this for the newton method</p>\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Cfrac%7B%5Cpartial(%5Csqrt%5Bb%5D%7Bx%7D)%7D%7B%5Cpartial%7Bx%7D%7D=%5Cfrac%7B%5Csqrt%5Bb%5D%7Bx%7D%7D%7Bbx%7D\" alt=\"\\frac{\\partial (\\sqrt[b]{x})}{\\partial x} = \\frac{\\sqrt[b]{x}}{bx}\" /></p>\n<p>which, as you can see, has to be solved for recursively until you reach b = 1.</p>\n<p>Phew, but yeah, that's it. This is the way you can solve the problem by making sure you use high precision types along the whole way with only +-x/ operations. Below is a quick implementation I did in Excel to solve for log,2(3), compared with the solution given by the software's original function. As you can see, I can just keep refining &quot;a&quot; until I reach the tolerance I want by monitoring what the optimization function gives me. In this, I used a=2 as the initial guess, which you can use and should be fine for most cases.</p>\n<p><img src=\"https://i.ibb.co/jwLCGqR/Newton-Solves-Log.jpg\" alt=\"Newton method for the solution of a log operation\" /></p>\n"}],"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59465,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":13831166,"answer_count":2,"score":44,"last_activity_date":1635736481,"creation_date":1355274281,"question_id":13831150,"body_markdown":"I need to evaluate a logarithm of any base, it does not matter, to some precision. Is there an algorithm for this? I program in Java, so I&#39;m fine with Java code.\r\n\r\n&lt;https://stackoverflow.com/questions/2668248/how-to-find-a-binary-logarithm-very-fast-o1-at-best&gt; might be able to answer my question, but I don&#39;t understand it. Can it be clarified?","title":"Logarithm Algorithm","body":"<p>I need to evaluate a logarithm of any base, it does not matter, to some precision. Is there an algorithm for this? I program in Java, so I'm fine with Java code.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2668248/how-to-find-a-binary-logarithm-very-fast-o1-at-best\">How to find a binary logarithm very fast? (O(1) at best)</a> might be able to answer my question, but I don't understand it. Can it be clarified?</p>\n"},{"tags":["java","atom-editor","javac"],"comments":[{"owner":{"account_id":4719941,"reputation":29117,"user_id":4518341,"display_name":"wjandrea"},"score":3,"creation_date":1635735870,"post_id":69780708,"comment_id":123366059,"body_markdown":"I might have a workaround. Try this: do **Script: Run Options** (Atom command `script:run-options`) and in **Command Arguments**, put `&quot;{FILE_ACTIVE}&quot;`, then **Run**.","body":"I might have a workaround. Try this: do <b>Script: Run Options</b> (Atom command <code>script:run-options</code>) and in <b>Command Arguments</b>, put <code>&quot;{FILE_ACTIVE}&quot;</code>, then <b>Run</b>."},{"owner":{"account_id":4719941,"reputation":29117,"user_id":4518341,"display_name":"wjandrea"},"score":2,"creation_date":1635736012,"post_id":69780708,"comment_id":123366075,"body_markdown":"It looks like this is a known bug: [Error while running scripts whose path contains whitespaces.](https://github.com/atom-community/atom-script/issues/2185)","body":"It looks like this is a known bug: <a href=\"https://github.com/atom-community/atom-script/issues/2185\" rel=\"nofollow noreferrer\">Error while running scripts whose path contains whitespaces.</a>"},{"owner":{"account_id":19530089,"reputation":478,"user_id":14290076,"display_name":"ph140"},"score":1,"creation_date":1635859439,"post_id":69780708,"comment_id":123400532,"body_markdown":"Thanks, that worked, for others who might see this post, remember to put `java` in the commandfield aswell","body":"Thanks, that worked, for others who might see this post, remember to put <code>java</code> in the commandfield aswell"}],"owner":{"account_id":19530089,"reputation":478,"user_id":14290076,"display_name":"ph140"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1635735629,"creation_date":1635616092,"question_id":69780708,"body_markdown":"I have a simple Java program that I believe is not the problem, but I will post it anyway because i am new to Java. \r\n\r\n```\r\nclass myclass{\r\n  public static void main(String args[]){\r\n    System.out.println(&quot;Hello Java&quot;);\r\n  }\r\n}\r\n```\r\n\r\nWhen using terminal and typing `java filename.java` this runs fine. But when I tried running it from inside Atom code editor, using the [`script` package][1], i get this error message:\r\n\r\n```none\r\nerror: invalid flag: Mylastname\\Desktop\\kode\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\nuse --help for a list of possible options\r\n```\r\n\r\nSince my username consists of my first and last name, with a space in between, I think this may be a problem with whitespace? But I have no idea on how to fix it, is there a way?\r\n\r\n\r\n  [1]: https://github.com/atom-community/atom-script#script","title":"Java code does not run using &#39;script&#39; package in Atom, but runs fine using terminal","body":"<p>I have a simple Java program that I believe is not the problem, but I will post it anyway because i am new to Java.</p>\n<pre><code>class myclass{\n  public static void main(String args[]){\n    System.out.println(&quot;Hello Java&quot;);\n  }\n}\n</code></pre>\n<p>When using terminal and typing <code>java filename.java</code> this runs fine. But when I tried running it from inside Atom code editor, using the <a href=\"https://github.com/atom-community/atom-script#script\" rel=\"nofollow noreferrer\"><code>script</code> package</a>, i get this error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: invalid flag: Mylastname\\Desktop\\kode\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse --help for a list of possible options\n</code></pre>\n<p>Since my username consists of my first and last name, with a space in between, I think this may be a problem with whitespace? But I have no idea on how to fix it, is there a way?</p>\n"},{"tags":["java","vert.x","http-status-codes"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635734399,"creation_date":1635734399,"answer_id":69792136,"question_id":69792076,"body_markdown":"This is strange. [Searching on Central](https://search.maven.org/search?q=fc:io.vertx.ext.web.handler.impl.HttpStatusException%20g:io.vertx) for `fc:io.vertx.ext.web.handler.impl.HttpStatusException g:io.vertx`, it looks like `HttpStatusException` *was* dropped from `vertx-web` in 4.1 and not moved to another dependency.\r\n\r\nProjects that use Semantic Versioning should not have breaking changes of this sort except at a major version, but it appears Vert.x does not use that set of rules. [The class was moved to a different namespace](https://github.com/vert-x3/wiki/wiki/4.1.0-Deprecations-and-breaking-changes) because despite the fact that it was visible, the previous namespace was considered &quot;internal&quot;.","title":"Failed to import &quot;HttpStatusException&quot; when upgrading to Vert.x 4.2.0","body":"<p>This is strange. <a href=\"https://search.maven.org/search?q=fc:io.vertx.ext.web.handler.impl.HttpStatusException%20g:io.vertx\" rel=\"nofollow noreferrer\">Searching on Central</a> for <code>fc:io.vertx.ext.web.handler.impl.HttpStatusException g:io.vertx</code>, it looks like <code>HttpStatusException</code> <em>was</em> dropped from <code>vertx-web</code> in 4.1 and not moved to another dependency.</p>\n<p>Projects that use Semantic Versioning should not have breaking changes of this sort except at a major version, but it appears Vert.x does not use that set of rules. <a href=\"https://github.com/vert-x3/wiki/wiki/4.1.0-Deprecations-and-breaking-changes\" rel=\"nofollow noreferrer\">The class was moved to a different namespace</a> because despite the fact that it was visible, the previous namespace was considered &quot;internal&quot;.</p>\n"}],"owner":{"display_name":"user17085185"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635734399,"creation_date":1635733414,"question_id":69792076,"body_markdown":"I just tried upgrading a Vert.x project which was originally written in version 4.0.3 to 4.2.0, and I stumbled on an error where I could not import io.vertx.ext.web.handler.impl.HttpStatusException.\r\n\r\nI can&#39;t seem to find any documentation regarding this issue and was wondering if there would be a fix to this.\r\n\r\nThe part that hinders my build is as follows.\r\n\r\n    public void failureHandler(RoutingContext context) {\r\n    int statusCode = context.statusCode();\r\n    String errorMessage;\r\n    if (context.failure() instanceof HttpStatusException) {\r\n      errorMessage = context.failure().getMessage();\r\n    } else {\r\n      errorMessage = context.failure().getMessage();\r\n    }\r\n    log.error(&quot;fail: {}&quot;, errorMessage);\r\n    JsonObject errInfo = new JsonObject().put(&quot;result&quot;, &quot;FAIL&quot;).put(&quot;msg&quot;, errorMessage).put(&quot;data&quot;, new JsonObject());\r\n\r\n    context.response()\r\n      .setStatusCode(statusCode)\r\n      .putHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n      .end(errInfo.encodePrettily());}","title":"Failed to import &quot;HttpStatusException&quot; when upgrading to Vert.x 4.2.0","body":"<p>I just tried upgrading a Vert.x project which was originally written in version 4.0.3 to 4.2.0, and I stumbled on an error where I could not import io.vertx.ext.web.handler.impl.HttpStatusException.</p>\n<p>I can't seem to find any documentation regarding this issue and was wondering if there would be a fix to this.</p>\n<p>The part that hinders my build is as follows.</p>\n<pre><code>public void failureHandler(RoutingContext context) {\nint statusCode = context.statusCode();\nString errorMessage;\nif (context.failure() instanceof HttpStatusException) {\n  errorMessage = context.failure().getMessage();\n} else {\n  errorMessage = context.failure().getMessage();\n}\nlog.error(&quot;fail: {}&quot;, errorMessage);\nJsonObject errInfo = new JsonObject().put(&quot;result&quot;, &quot;FAIL&quot;).put(&quot;msg&quot;, errorMessage).put(&quot;data&quot;, new JsonObject());\n\ncontext.response()\n  .setStatusCode(statusCode)\n  .putHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;)\n  .end(errInfo.encodePrettily());}\n</code></pre>\n"},{"tags":["java","performance","for-loop"],"answers":[{"tags":[],"owner":{"account_id":13848741,"reputation":10825,"user_id":9997212,"display_name":"enzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635341902,"creation_date":1635341902,"answer_id":69739750,"question_id":69739631,"body_markdown":"It&#39;s an infinite loop: you&#39;re not doing anything with `z` if you use only `z.replace`. Since strings are immutable in Java, you can&#39;t change it by only calling a method, you must assign it again:\r\n\r\n```\r\nz = z.replace(...)\r\n```","title":"Vowel counter Java application: stuck in for loops? Doesn&#39;t seem to be an infinite loop","body":"<p>It's an infinite loop: you're not doing anything with <code>z</code> if you use only <code>z.replace</code>. Since strings are immutable in Java, you can't change it by only calling a method, you must assign it again:</p>\n<pre><code>z = z.replace(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14052025,"reputation":1,"user_id":10150488,"display_name":"user10150488"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635543541,"creation_date":1635415760,"answer_id":69752152,"question_id":69739631,"body_markdown":"I took the liberty of using while-loop instead of for-loop since the idea is to keep looping till find, count and replace all the vowels one by one.\r\n\r\n```\r\nstatic int countVowels(String x, String vowels) {\r\n    int count = 0;\r\n    String z = x.toLowerCase();\r\n\r\n    for (int i = 0; i &lt; vowels.length(); i++) {\r\n        String vowel = Character.toString(vowels.charAt(i));\r\n        while (z.indexOf(vowel) != -1) {\r\n            count++;\r\n            z = z.replaceFirst(vowel, &quot;&quot;);\r\n        }\r\n    }\r\n\r\n    return count;\r\n}\r\n```","title":"Vowel counter Java application: stuck in for loops? Doesn&#39;t seem to be an infinite loop","body":"<p>I took the liberty of using while-loop instead of for-loop since the idea is to keep looping till find, count and replace all the vowels one by one.</p>\n<pre><code>static int countVowels(String x, String vowels) {\n    int count = 0;\n    String z = x.toLowerCase();\n\n    for (int i = 0; i &lt; vowels.length(); i++) {\n        String vowel = Character.toString(vowels.charAt(i));\n        while (z.indexOf(vowel) != -1) {\n            count++;\n            z = z.replaceFirst(vowel, &quot;&quot;);\n        }\n    }\n\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":23160929,"reputation":3,"user_id":17261586,"display_name":"user17261586"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69739750,"answer_count":2,"score":0,"last_activity_date":1635733760,"creation_date":1635341470,"question_id":69739631,"body_markdown":"I made a java program to count the number of vowels in a string, and I need to use a, or multiple, for loop(s) to do it for a project. The problem is that it does not do anything, or just takes too long, after inputting the string:\r\n```\r\nimport java.util.Scanner;\r\nclass Main\r\n{\r\n  public static void main(String[] args)\r\n  {\r\n    Scanner s = new Scanner(System.in);\r\n    System.out.print(&quot;Enter a string to count the vowels&gt;&gt; &quot;);\r\n    String x = s.nextLine();\r\n    int numVowels = countVowels(x, &quot;aeiou&quot;);\r\n    System.out.println(numVowels);\r\n  }\r\n\r\n  static int countVowels(String x, String vowels)\r\n  {\r\n    int count = 0;\r\n    String z = x.toLowerCase();\r\n    for (int i = 0; i &lt;= vowels.length() - 1; i++)\r\n    {\r\n      if (i == vowels.length() - 1)\r\n      {\r\n        for (int n = z.indexOf(vowels.substring(i)); n != -1; count++)\r\n        {\r\n          z.replace(vowels.substring(i), &quot;&quot;);\r\n        }\r\n      }\r\n      else if (z.indexOf(vowels.substring(i, i + 1)) != -1)\r\n      {\r\n        for (int n = z.indexOf(vowels.substring(i, i + 1)); n != -1; count++)\r\n        {\r\n          z.replace(vowels.substring(i, i + 1), &quot;&quot;);\r\n        }\r\n      }\r\n    }\r\n    return count;\r\n  }\r\n}\r\n```\r\n\r\nI have reduced the number of loops, because the original was very confusing. I think the problem is with the nested loops, but I have not yet tried running this on a local compiler, only online IDEs. I&#39;ve heard that it makes a world of difference for compile times.","title":"Vowel counter Java application: stuck in for loops? Doesn&#39;t seem to be an infinite loop","body":"<p>I made a java program to count the number of vowels in a string, and I need to use a, or multiple, for loop(s) to do it for a project. The problem is that it does not do anything, or just takes too long, after inputting the string:</p>\n<pre><code>import java.util.Scanner;\nclass Main\n{\n  public static void main(String[] args)\n  {\n    Scanner s = new Scanner(System.in);\n    System.out.print(&quot;Enter a string to count the vowels&gt;&gt; &quot;);\n    String x = s.nextLine();\n    int numVowels = countVowels(x, &quot;aeiou&quot;);\n    System.out.println(numVowels);\n  }\n\n  static int countVowels(String x, String vowels)\n  {\n    int count = 0;\n    String z = x.toLowerCase();\n    for (int i = 0; i &lt;= vowels.length() - 1; i++)\n    {\n      if (i == vowels.length() - 1)\n      {\n        for (int n = z.indexOf(vowels.substring(i)); n != -1; count++)\n        {\n          z.replace(vowels.substring(i), &quot;&quot;);\n        }\n      }\n      else if (z.indexOf(vowels.substring(i, i + 1)) != -1)\n      {\n        for (int n = z.indexOf(vowels.substring(i, i + 1)); n != -1; count++)\n        {\n          z.replace(vowels.substring(i, i + 1), &quot;&quot;);\n        }\n      }\n    }\n    return count;\n  }\n}\n</code></pre>\n<p>I have reduced the number of loops, because the original was very confusing. I think the problem is with the nested loops, but I have not yet tried running this on a local compiler, only online IDEs. I've heard that it makes a world of difference for compile times.</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":17067030,"reputation":55,"user_id":12348894,"display_name":"pro100kryto"},"score":0,"creation_date":1635063337,"post_id":69685487,"comment_id":123190890,"body_markdown":"It seems like is a strange feature of the jvm. I just used guava library to load all classes from my package after the object was created to solve the problem.\nhttps://www.baeldung.com/java-find-all-classes-in-package","body":"It seems like is a strange feature of the jvm. I just used guava library to load all classes from my package after the object was created to solve the problem. <a href=\"https://www.baeldung.com/java-find-all-classes-in-package\" rel=\"nofollow noreferrer\">baeldung.com/java-find-all-classes-in-package</a>"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1635521620,"post_id":69685487,"comment_id":123329198,"body_markdown":"Is the absence of `new B()` in the second example possibly relevant? I can imagine different results when the bytecode contains a static reference to the other class, vs. when it doesn&#39;t. To be absolutely sure it&#39;s not this, can you test? We can only be sure it&#39;s your constructor causing it if there are no other differences.","body":"Is the absence of <code>new B()</code> in the second example possibly relevant? I can imagine different results when the bytecode contains a static reference to the other class, vs. when it doesn&#39;t. To be absolutely sure it&#39;s not this, can you test? We can only be sure it&#39;s your constructor causing it if there are no other differences."},{"owner":{"account_id":17067030,"reputation":55,"user_id":12348894,"display_name":"pro100kryto"},"score":0,"creation_date":1635731372,"post_id":69685487,"comment_id":123365498,"body_markdown":"@kaya3, is not real code but a demostrative example. I will try to create a test project repeating this behavior. | My real project (is in development) where the problem i had is https://github.com/p1k-Server/Server-env-test, branch *dev*. To repeat the case, see the commit &quot;510a864c&quot; (/Server) which contains my fix.","body":"@kaya3, is not real code but a demostrative example. I will try to create a test project repeating this behavior. | My real project (is in development) where the problem i had is <a href=\"https://github.com/p1k-Server/Server-env-test\" rel=\"nofollow noreferrer\">github.com/p1k-Server/Server-env-test</a>, branch <i>dev</i>. To repeat the case, see the commit &quot;510a864c&quot; (/Server) which contains my fix."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1635748115,"post_id":69685487,"comment_id":123367805,"body_markdown":"Does this answer your question? [Does the Java ClassLoader load inner classes?](https://stackoverflow.com/questions/24538509/does-the-java-classloader-load-inner-classes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24538509/does-the-java-classloader-load-inner-classes\">Does the Java ClassLoader load inner classes?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1635520146,"creation_date":1634987575,"answer_id":69687598,"question_id":69685487,"body_markdown":"NoClassDefFoundError invariably means the $inner **class file** (in this specific case) itself **could not be found**. packaging or copying problem or a url referencing problem (? JNDI naming problem) but whatever, the file was not located where stated. (sometimes the filename is a typo somewhere and the location to it is correct).\r\n\r\nunfortunately two points, 1 the sub class is static , so an extremely weird choice to invoke using reflect, 2 You simply cause a statement that does not get used or assigned (weirder)\r\nre\r\n\r\n    this.getClass().getClassLoader().loadClass(&quot;A$B&quot;); // throw\r\n\r\n\r\n*although it may only be required inside its enclosing class to be known as &quot;B&quot;*\r\n\r\n\r\ne.g. \r\n\r\n    B subcab = (Class&lt;B&gt;).....\r\n\r\nYour problem seems very alike &quot;nested inner class **shadowing**&quot;\r\nIts a long time back but i think that&#39;s as possible as A.B inside its enclosing class.\r\n\r\nI would see more sense in attempting with reflect something like either...\r\n?\r\n\r\n    A.B subcab = (Class&lt;A.B&gt;)((this.getClass()).getClassLoader().loadClass(&quot;A$B&quot;)); // A should have , its package name if any, also - see &quot;binary name&quot;\r\n\r\nOne more vague note from years back, i think when you load using classloader you require to do that inside a check\r\n\r\n    Class&lt;?&gt; aclss = this.getClass();\r\n    if( (Class&lt;?&gt;.isAssignableFrom(aclss)) &amp;&amp; (Class&lt;?&gt;.isInstance(aclss)) ){\r\n    //... load here\r\n    }\r\n\r\n","title":"ClassLoader does not load inner class","body":"<p>NoClassDefFoundError invariably means the $inner <strong>class file</strong> (in this specific case) itself <strong>could not be found</strong>. packaging or copying problem or a url referencing problem (? JNDI naming problem) but whatever, the file was not located where stated. (sometimes the filename is a typo somewhere and the location to it is correct).</p>\n<p>unfortunately two points, 1 the sub class is static , so an extremely weird choice to invoke using reflect, 2 You simply cause a statement that does not get used or assigned (weirder)\nre</p>\n<pre><code>this.getClass().getClassLoader().loadClass(&quot;A$B&quot;); // throw\n</code></pre>\n<p><em>although it may only be required inside its enclosing class to be known as &quot;B&quot;</em></p>\n<p>e.g.</p>\n<pre><code>B subcab = (Class&lt;B&gt;).....\n</code></pre>\n<p>Your problem seems very alike &quot;nested inner class <strong>shadowing</strong>&quot;\nIts a long time back but i think that's as possible as A.B inside its enclosing class.</p>\n<p>I would see more sense in attempting with reflect something like either...\n?</p>\n<pre><code>A.B subcab = (Class&lt;A.B&gt;)((this.getClass()).getClassLoader().loadClass(&quot;A$B&quot;)); // A should have , its package name if any, also - see &quot;binary name&quot;\n</code></pre>\n<p>One more vague note from years back, i think when you load using classloader you require to do that inside a check</p>\n<pre><code>Class&lt;?&gt; aclss = this.getClass();\nif( (Class&lt;?&gt;.isAssignableFrom(aclss)) &amp;&amp; (Class&lt;?&gt;.isInstance(aclss)) ){\n//... load here\n}\n</code></pre>\n"}],"owner":{"account_id":17067030,"reputation":55,"user_id":12348894,"display_name":"pro100kryto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1635748115,"answer_count":1,"score":3,"last_activity_date":1635732470,"creation_date":1634968071,"question_id":69685487,"body_markdown":"`ClassLoader` clMain -&gt; `URLClassLoader` clA (class A, $B).\r\n$B is a inner class B of the class A.\r\n\r\n1) From clMain creating new clA with specified url to the jar file which contains class A (and class $B). Then creating new object A via clA.\r\n2) Another class, loaded from X `ClassLoader`, execute a method of the object A via interface without problems.\r\n3) Then, in that method, should be created new object $B, but it throws the `NoClassDefFoundError`.\r\n4) Loading the class $B in the constructor of the class A is solving the problem: `this.getClass().getClassLoader().loadClass(&quot;A$B&quot;);`\r\n\r\nSo, the cuestion is: *&quot;Why the definition of the class $B cannot be found for step 3 and Can be solved this porblem in another way?&quot;*\r\n\r\nChecking the `ClassLoader` used in the method (`this.getClass().getClassLoader()`) and comparing it with the `ClassLoader` used in the constructor - is the same and contains the necessary url.\r\nJava 8 and 14 tried to run, jdk 8 to build.\r\n\r\nEdit:\r\n```\r\npublic class A {\r\n public A(){\r\n  this.getClass().getClassLoader().loadClass(&quot;A$B&quot;); // success\r\n }\r\n public void foo(){\r\n  this.getClass().getClassLoader().loadClass(&quot;A$B&quot;); // success\r\n  new B(); // success\r\n }\r\n public static final class B {}\r\n}\r\n```\r\n```\r\npublic class A {\r\n public A(){\r\n }\r\n public void foo(){\r\n  this.getClass().getClassLoader().loadClass(&quot;A$B&quot;); // throw\r\n  new B(); // Edit: added this line to demostrate what is not the main diff between two examples\r\n }\r\n public static final class B {}\r\n}\r\n```\r\n\r\nEdit: this behavior is not related specifically to inner class, but to every class located in the jar. In simple words, i need to iterate every class located in the jar and load them manually before they are used, or else jvm will throw the `NoClassDefFoundError`.\r\n","title":"ClassLoader does not load inner class","body":"<p><code>ClassLoader</code> clMain -&gt; <code>URLClassLoader</code> clA (class A, $B).\n$B is a inner class B of the class A.</p>\n<ol>\n<li>From clMain creating new clA with specified url to the jar file which contains class A (and class $B). Then creating new object A via clA.</li>\n<li>Another class, loaded from X <code>ClassLoader</code>, execute a method of the object A via interface without problems.</li>\n<li>Then, in that method, should be created new object $B, but it throws the <code>NoClassDefFoundError</code>.</li>\n<li>Loading the class $B in the constructor of the class A is solving the problem: <code>this.getClass().getClassLoader().loadClass(&quot;A$B&quot;);</code></li>\n</ol>\n<p>So, the cuestion is: <em>&quot;Why the definition of the class $B cannot be found for step 3 and Can be solved this porblem in another way?&quot;</em></p>\n<p>Checking the <code>ClassLoader</code> used in the method (<code>this.getClass().getClassLoader()</code>) and comparing it with the <code>ClassLoader</code> used in the constructor - is the same and contains the necessary url.\nJava 8 and 14 tried to run, jdk 8 to build.</p>\n<p>Edit:</p>\n<pre><code>public class A {\n public A(){\n  this.getClass().getClassLoader().loadClass(&quot;A$B&quot;); // success\n }\n public void foo(){\n  this.getClass().getClassLoader().loadClass(&quot;A$B&quot;); // success\n  new B(); // success\n }\n public static final class B {}\n}\n</code></pre>\n<pre><code>public class A {\n public A(){\n }\n public void foo(){\n  this.getClass().getClassLoader().loadClass(&quot;A$B&quot;); // throw\n  new B(); // Edit: added this line to demostrate what is not the main diff between two examples\n }\n public static final class B {}\n}\n</code></pre>\n<p>Edit: this behavior is not related specifically to inner class, but to every class located in the jar. In simple words, i need to iterate every class located in the jar and load them manually before they are used, or else jvm will throw the <code>NoClassDefFoundError</code>.</p>\n"},{"tags":["java","mongodb","spring-boot","mono","reactive"],"answers":[{"tags":[],"owner":{"account_id":11172711,"reputation":300,"user_id":8199232,"display_name":"swapnil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635679617,"creation_date":1635679617,"answer_id":69786432,"question_id":69786088,"body_markdown":"There are different ways you can create an object. Checkout this link for better understanding **https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html**\r\nHere you can just use the `Mono.just(new User());` \r\n","title":"How to initialize an empty Mono Class object in reactive programming?","body":"<p>There are different ways you can create an object. Checkout this link for better understanding <strong><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html</a></strong>\nHere you can just use the <code>Mono.just(new User());</code></p>\n"}],"owner":{"account_id":23196718,"reputation":11,"user_id":17292251,"display_name":"rash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2353,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69786432,"answer_count":1,"score":-1,"last_activity_date":1635732393,"creation_date":1635677226,"question_id":69786088,"body_markdown":"I am learning reactive and I wanted to know how to initialize a `Mono` object, like in Java when:`User usr=new User()`. \r\n\r\nHow to create a Mono object of this similar class?\r\n ","title":"How to initialize an empty Mono Class object in reactive programming?","body":"<p>I am learning reactive and I wanted to know how to initialize a <code>Mono</code> object, like in Java when:<code>User usr=new User()</code>.</p>\n<p>How to create a Mono object of this similar class?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":1,"creation_date":1635522797,"post_id":69771654,"comment_id":123329698,"body_markdown":"You need to read about the scope of variables in Java, the charge variable is only visible in the calculation function. There&#39;s no way you can access it outside the function. If you want to access it outside make it a class variable","body":"You need to read about the scope of variables in Java, the charge variable is only visible in the calculation function. There&#39;s no way you can access it outside the function. If you want to access it outside make it a class variable"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1635523011,"post_id":69771654,"comment_id":123329774,"body_markdown":"See: [What is &#39;scope&#39; in Java?](https://stackoverflow.com/questions/38177140/what-is-scope-in-java)","body":"See: <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\">What is &#39;scope&#39; in Java?</a>"},{"owner":{"account_id":23078539,"reputation":1,"user_id":17191160,"display_name":"yeppidyyep35"},"score":0,"creation_date":1635524632,"post_id":69771654,"comment_id":123330381,"body_markdown":"Is there no other way other than using global variables ?","body":"Is there no other way other than using global variables ?"},{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1635525059,"post_id":69771654,"comment_id":123330545,"body_markdown":"@patres2002 of course there&#39;s, for example you can make calculation function returns the charge and in your all function use: double charge = calculation()","body":"@patres2002 of course there&#39;s, for example you can make calculation function returns the charge and in your all function use: double charge = calculation()"},{"owner":{"account_id":23078539,"reputation":1,"user_id":17191160,"display_name":"yeppidyyep35"},"score":0,"creation_date":1635525390,"post_id":69771654,"comment_id":123330661,"body_markdown":"what about deduction1?","body":"what about deduction1?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1635534413,"post_id":69771654,"comment_id":123333418,"body_markdown":"In the all() method you invoke old_age_pensioner() with only two arguments.  This won&#39;t compile as that method takes three arguments.","body":"In the all() method you invoke old_age_pensioner() with only two arguments.  This won&#39;t compile as that method takes three arguments."}],"answers":[{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635533494,"creation_date":1635533494,"answer_id":69773564,"question_id":69771654,"body_markdown":"One way to do this is like follows (I tried to not change a lot of code, and you should add print statement for your user to know what to enter):\r\n```\r\npublic static void main (String [] a) {\r\n    double charge = calculation();\r\n    double deduction1 = local_l();\r\n    double result = old_age_pensioner(charge, deduction1);\r\n    System.out.println(&quot;The result: &quot; + result);\r\n}\r\n\r\npublic static double local_l(){\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Do you live locally ? (Yes or No)&quot;);\r\n\r\n    String local;\r\n    double deduction1 = 0.0;\r\n    local = scanner.nextLine();\r\n    if (local.equals(&quot;Yes&quot;)){\r\n        deduction1 = 1.0;\r\n    } else if (local.equals(&quot;No&quot;)){\r\n        deduction1 = 0;\r\n    } else {\r\n        System.out.println(&quot;Invalid answer, please answer : Yes or No (exactly as written)&quot;);\r\n    }\r\n\r\n    return deduction1;\r\n}\r\n\r\npublic static double calculation(){\r\n    Scanner scanner = new Scanner(System.in);\r\n    int hours;\r\n    double charge = 0.0;\r\n    String disabled;\r\n    disabled = scanner.nextLine();\r\n    if (disabled.equals(&quot;Yes&quot;)){\r\n        System.out.println(&quot;Parking is free&quot;);\r\n    } else if (disabled.equals(&quot;No&quot;)){\r\n        hours = scanner.nextInt();\r\n        if (hours == 1){\r\n            charge = 1.00;\r\n        } else if (hours &gt;=2 &amp;&amp; hours &lt;= 4){\r\n            charge = 4.00;\r\n        } else if (hours &gt;=5 &amp;&amp; hours &lt;=6){\r\n            charge = 4.50;\r\n        } else if (hours &gt;= 7 &amp;&amp; hours &lt;=8){\r\n            charge = 5.50;\r\n        }\r\n    }\r\n\r\n    return charge;\r\n}\r\n\r\npublic static double old_age_pensioner (double charge, double deduction1){\r\n    Scanner scanner = new Scanner(System.in);\r\n    String oap;\r\n    double deduction2 = 0.0;\r\n    System.out.println(&quot;Are you an old age pensioner? &quot;);\r\n    oap = scanner.nextLine();\r\n    if(oap.equals(&quot;Yes&quot;)){\r\n        deduction2 = 2.0;\r\n    } else if (oap.equals(&quot;No&quot;)){\r\n        deduction2 = 0;\r\n    } else {\r\n        System.out.println(&quot;Invalid answer, please answer : Yes or No (exactly as written&quot;);\r\n    }\r\n\r\n    double result = charge - deduction1 - deduction2;\r\n    return result;\r\n}\r\n```","title":"Cannot be resolved to a variable whilst already declared and assigned a value?","body":"<p>One way to do this is like follows (I tried to not change a lot of code, and you should add print statement for your user to know what to enter):</p>\n<pre><code>public static void main (String [] a) {\n    double charge = calculation();\n    double deduction1 = local_l();\n    double result = old_age_pensioner(charge, deduction1);\n    System.out.println(&quot;The result: &quot; + result);\n}\n\npublic static double local_l(){\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Do you live locally ? (Yes or No)&quot;);\n\n    String local;\n    double deduction1 = 0.0;\n    local = scanner.nextLine();\n    if (local.equals(&quot;Yes&quot;)){\n        deduction1 = 1.0;\n    } else if (local.equals(&quot;No&quot;)){\n        deduction1 = 0;\n    } else {\n        System.out.println(&quot;Invalid answer, please answer : Yes or No (exactly as written)&quot;);\n    }\n\n    return deduction1;\n}\n\npublic static double calculation(){\n    Scanner scanner = new Scanner(System.in);\n    int hours;\n    double charge = 0.0;\n    String disabled;\n    disabled = scanner.nextLine();\n    if (disabled.equals(&quot;Yes&quot;)){\n        System.out.println(&quot;Parking is free&quot;);\n    } else if (disabled.equals(&quot;No&quot;)){\n        hours = scanner.nextInt();\n        if (hours == 1){\n            charge = 1.00;\n        } else if (hours &gt;=2 &amp;&amp; hours &lt;= 4){\n            charge = 4.00;\n        } else if (hours &gt;=5 &amp;&amp; hours &lt;=6){\n            charge = 4.50;\n        } else if (hours &gt;= 7 &amp;&amp; hours &lt;=8){\n            charge = 5.50;\n        }\n    }\n\n    return charge;\n}\n\npublic static double old_age_pensioner (double charge, double deduction1){\n    Scanner scanner = new Scanner(System.in);\n    String oap;\n    double deduction2 = 0.0;\n    System.out.println(&quot;Are you an old age pensioner? &quot;);\n    oap = scanner.nextLine();\n    if(oap.equals(&quot;Yes&quot;)){\n        deduction2 = 2.0;\n    } else if (oap.equals(&quot;No&quot;)){\n        deduction2 = 0;\n    } else {\n        System.out.println(&quot;Invalid answer, please answer : Yes or No (exactly as written&quot;);\n    }\n\n    double result = charge - deduction1 - deduction2;\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":23078539,"reputation":1,"user_id":17191160,"display_name":"yeppidyyep35"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1660218998,"answer_count":1,"score":-3,"last_activity_date":1635732385,"creation_date":1635522549,"question_id":69771654,"body_markdown":"The variables `charge` and `deduction1` cannot be resolved as variables. I have declared the type and assigned values to them however they cant be resolved.\r\n\r\nAny help is appreciated.\r\n\r\nComments are written next to the unresolved variables        \r\n\r\n\r\n\r\n\r\n\r\n\r\n  **This program calculates a parking charge for an ` \r\n                                       individual while taking into account pensioners, time and \r\n                                         disablities**\r\n    \r\n    class parking \r\n    {\r\n        public static void main (String [] a)\r\n        {\r\n            all(); \r\n            System.exit(0);\r\n        }\r\n        public static double local_l(){\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.println(&quot;Do you live locally ? (Yes or No)&quot;);\r\n                   \r\n            String local;\r\n            double deduction1;\r\n            local = scanner.nextLine();\r\n            if (local.equals(&quot;Yes&quot;)){\r\n                deduction1 = 1.0;\r\n                return deduction1;\r\n            }\r\n                   \r\n            if (local.equals(&quot;No&quot;)){\r\n                 deduction1 = 0;\r\n                 return deduction1;\r\n            } else{\r\n                 System.out.println(&quot;Invalid answer, please answer : Yes or No (exactly as written)&quot;);\r\n                      \r\n            }\r\n            return 0.0;\r\n       }\r\n                   \r\n       public static void calculation(){\r\n           Scanner scanner = new Scanner(System.in);\r\n           int hours;\r\n           double charge;\r\n           String disabled;\r\n           disabled = scanner.nextLine();\r\n           if (disabled.equals(&quot;Yes&quot;)){\r\n               System.out.println(&quot;Parking is free&quot;);   \r\n           }\r\n                        \r\n           if (disabled.equals(&quot;No&quot;)){\r\n               hours = scanner.nextInt();\r\n               if (hours == 1){\r\n                   charge = 1.00;\r\n               } \r\n               if (hours &gt;=2 &amp;&amp; hours &lt;= 4){\r\n                   charge = 4.00;\r\n               }\r\n           \r\n               if (hours &gt;=5 &amp;&amp; hours &lt;=6){\r\n                   charge = 4.50;\r\n               }\r\n           \r\n               if (hours &gt;= 7 &amp;&amp; hours &lt;=8){\r\n                   charge = 5.50;\r\n               } \r\n           }\r\n                       \r\n       }\r\n           \r\n       public static double old_age_pensioner (double charge, double deduction1,double deduction2){\r\n           Scanner scanner = new Scanner(System.in);\r\n           String oap;\r\n           System.out.println(&quot;Are you an old age pensioner? &quot;);\r\n           oap = scanner.nextLine();\r\n           if(oap.equals(&quot;Yes&quot;)){\r\n               deduction2 = 2.0;\r\n               return deduction2;\r\n           }\r\n           if (oap.equals(&quot;No&quot;)){\r\n               deduction2 = 0; \r\n               return deduction2;\r\n           } else {\r\n               System.out.println(&quot;Invalid answer, please answer : Yes or No (exactly as written&quot;);\r\n                      \r\n           }\r\n            \r\n           double result;\r\n           result = charge - deduction1 - deduction2; **charge cannot be resolved to a \r\n                                                            variable as well as deduction 1**\r\n           System.out.println(&quot;The parking charge is&quot; + result);\r\n           return 0;\r\n       }\r\n           \r\n       public static void all(){\r\n           calculation();\r\n           local_l();\r\n           old_age_pensioner( charge, deduction1);\r\n       }  \r\n    }","title":"Cannot be resolved to a variable whilst already declared and assigned a value?","body":"<p>The variables <code>charge</code> and <code>deduction1</code> cannot be resolved as variables. I have declared the type and assigned values to them however they cant be resolved.</p>\n<p>Any help is appreciated.</p>\n<p>Comments are written next to the unresolved variables</p>\n<p><strong>This program calculates a parking charge for an `\nindividual while taking into account pensioners, time and\ndisablities</strong></p>\n<pre><code>class parking \n{\n    public static void main (String [] a)\n    {\n        all(); \n        System.exit(0);\n    }\n    public static double local_l(){\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Do you live locally ? (Yes or No)&quot;);\n               \n        String local;\n        double deduction1;\n        local = scanner.nextLine();\n        if (local.equals(&quot;Yes&quot;)){\n            deduction1 = 1.0;\n            return deduction1;\n        }\n               \n        if (local.equals(&quot;No&quot;)){\n             deduction1 = 0;\n             return deduction1;\n        } else{\n             System.out.println(&quot;Invalid answer, please answer : Yes or No (exactly as written)&quot;);\n                  \n        }\n        return 0.0;\n   }\n               \n   public static void calculation(){\n       Scanner scanner = new Scanner(System.in);\n       int hours;\n       double charge;\n       String disabled;\n       disabled = scanner.nextLine();\n       if (disabled.equals(&quot;Yes&quot;)){\n           System.out.println(&quot;Parking is free&quot;);   \n       }\n                    \n       if (disabled.equals(&quot;No&quot;)){\n           hours = scanner.nextInt();\n           if (hours == 1){\n               charge = 1.00;\n           } \n           if (hours &gt;=2 &amp;&amp; hours &lt;= 4){\n               charge = 4.00;\n           }\n       \n           if (hours &gt;=5 &amp;&amp; hours &lt;=6){\n               charge = 4.50;\n           }\n       \n           if (hours &gt;= 7 &amp;&amp; hours &lt;=8){\n               charge = 5.50;\n           } \n       }\n                   \n   }\n       \n   public static double old_age_pensioner (double charge, double deduction1,double deduction2){\n       Scanner scanner = new Scanner(System.in);\n       String oap;\n       System.out.println(&quot;Are you an old age pensioner? &quot;);\n       oap = scanner.nextLine();\n       if(oap.equals(&quot;Yes&quot;)){\n           deduction2 = 2.0;\n           return deduction2;\n       }\n       if (oap.equals(&quot;No&quot;)){\n           deduction2 = 0; \n           return deduction2;\n       } else {\n           System.out.println(&quot;Invalid answer, please answer : Yes or No (exactly as written&quot;);\n                  \n       }\n        \n       double result;\n       result = charge - deduction1 - deduction2; **charge cannot be resolved to a \n                                                        variable as well as deduction 1**\n       System.out.println(&quot;The parking charge is&quot; + result);\n       return 0;\n   }\n       \n   public static void all(){\n       calculation();\n       local_l();\n       old_age_pensioner( charge, deduction1);\n   }  \n}\n</code></pre>\n"},{"tags":["java","zip","compression"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1635416957,"post_id":69752383,"comment_id":123294937,"body_markdown":"What is your array?  `String[][]`?","body":"What is your array?  <code>String[][]</code>?"},{"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"score":0,"creation_date":1635417242,"post_id":69752383,"comment_id":123295069,"body_markdown":"It&#39;s Int[][]  and I need to insert a comma between each element.","body":"It&#39;s Int[][]  and I need to insert a comma between each element."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635417279,"post_id":69752383,"comment_id":123295090,"body_markdown":"Ok, why not write the data to a file and then compress it?","body":"Ok, why not write the data to a file and then compress it?"},{"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"score":0,"creation_date":1635417530,"post_id":69752383,"comment_id":123295203,"body_markdown":"I would like to avoid creating an uncompressed txt file and then read it again to create a compressed txt file (it would take an extra time).","body":"I would like to avoid creating an uncompressed txt file and then read it again to create a compressed txt file (it would take an extra time)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635418205,"post_id":69752383,"comment_id":123295494,"body_markdown":"So you want the `int`s rendered to Strings? i.e. a value of 10,234 becomes &quot;10234&quot;?","body":"So you want the <code>int</code>s rendered to Strings? i.e. a value of 10,234 becomes &quot;10234&quot;?"},{"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"score":0,"creation_date":1635419479,"post_id":69752383,"comment_id":123296044,"body_markdown":"@tgdavies, Yes, I need the `int`s rendered to Strings. The compressed text file will be filled with many numbers, all separated from each other by commas (like a csv file).","body":"@tgdavies, Yes, I need the <code>int</code>s rendered to Strings. The compressed text file will be filled with many numbers, all separated from each other by commas (like a csv file)."}],"answers":[{"tags":[],"owner":{"account_id":23170428,"reputation":34,"user_id":17269759,"display_name":"spring"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635417376,"creation_date":1635417376,"answer_id":69752549,"question_id":69752383,"body_markdown":"```java\r\nimport java.util.*;\r\nimport java.io.*;\r\nimport java.util.zip.ZipEntry;\r\nimport java.util.zip.ZipOutputStream;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        FileOutputStream fos = null;\r\n        ZipOutputStream zipOut = null;\r\n        ZipEntry ze = null;\r\n        try {\r\n            char[][] arr = {{&#39;a&#39;, &#39;b&#39;}, {&#39;d&#39;, &#39;c&#39;}};\r\n            fos = new FileOutputStream(&quot;a.zip&quot;);\r\n            zipOut = new ZipOutputStream(new BufferedOutputStream(fos));\r\n            ze = new ZipEntry(&quot;out.txt&quot;);\r\n            zipOut.putNextEntry(ze);\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int r = 0; r &lt; arr.length; r++) {\r\n                for (int c = 0; c &lt; arr[0].length; c++) {\r\n                    sb.append(arr[r][c]).append(&quot;,&quot;);\r\n                }\r\n\r\n                sb.append(&quot;\\n&quot;); // how do I write this line?\r\n            }\r\n            zipOut.write(sb.toString().getBytes());\r\n            zipOut.closeEntry();\r\n            zipOut.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\nmaybe this is useful for you","title":"How to save data from a &quot;For Loop&quot; into a compressed &quot;.txt&quot; file","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class Main {\n    public static void main(String[] args) {\n        FileOutputStream fos = null;\n        ZipOutputStream zipOut = null;\n        ZipEntry ze = null;\n        try {\n            char[][] arr = {{'a', 'b'}, {'d', 'c'}};\n            fos = new FileOutputStream(&quot;a.zip&quot;);\n            zipOut = new ZipOutputStream(new BufferedOutputStream(fos));\n            ze = new ZipEntry(&quot;out.txt&quot;);\n            zipOut.putNextEntry(ze);\n            StringBuilder sb = new StringBuilder();\n            for (int r = 0; r &lt; arr.length; r++) {\n                for (int c = 0; c &lt; arr[0].length; c++) {\n                    sb.append(arr[r][c]).append(&quot;,&quot;);\n                }\n\n                sb.append(&quot;\\n&quot;); // how do I write this line?\n            }\n            zipOut.write(sb.toString().getBytes());\n            zipOut.closeEntry();\n            zipOut.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n\n</code></pre>\n<p>maybe this is useful for you</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635731830,"creation_date":1635419715,"answer_id":69753083,"question_id":69752383,"body_markdown":"So, my &quot;big&quot; concern is in how you might &quot;read&quot; the data back in, writing it is actually relatively easy.\r\n\r\nThe following does a &quot;basic&quot; job, using a couple of `StringJoiners` to produce a `String` which can be written to the file and the a, somewhat, convoluted process to decompress it.\r\n\r\nThe problem here is, the limiting factor (for me at least), is the fact that you need to read the entire contents of the file before you can begin reconstructing it.\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.StringJoiner;\r\n    import java.util.zip.DataFormatException;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipInputStream;\r\n    import java.util.zip.ZipOutputStream;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) throws IOException, DataFormatException {\r\n            File targetFile = new File(&quot;Test.dat&quot;);\r\n\r\n            int[][] data = new int[][]{\r\n                {0, 1, 2, 3, 4, 5},\r\n                {6, 7, 8, 9, 10, 11}\r\n            };\r\n\r\n            StringJoiner outterJoiner = new StringJoiner(&quot;\\n&quot;);\r\n            for (int[] outter : data) {\r\n                StringJoiner innerJoiner = new StringJoiner(&quot;,&quot;);\r\n                for (int value : outter) {\r\n                    innerJoiner.add(Integer.toString(value));\r\n                }\r\n                outterJoiner.add(innerJoiner.toString());\r\n            }\r\n\r\n            try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(targetFile))) {\r\n                ZipEntry zipEntry = new ZipEntry(&quot;master&quot;);\r\n                zos.putNextEntry(zipEntry);\r\n                zos.write(outterJoiner.toString().getBytes());\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\r\n            try (ZipInputStream zis = new ZipInputStream(new FileInputStream(targetFile)); ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\r\n                ZipEntry zipEntry = zis.getNextEntry();\r\n                if (zipEntry != null) {\r\n                    byte[] buffer = new byte[1024];\r\n                    int bytesRead = -1;\r\n                    while ((bytesRead = zis.read(buffer)) != -1) {\r\n                        baos.write(buffer, 0, bytesRead);\r\n                    }\r\n\r\n                    String contents = new String(baos.toByteArray());\r\n                    System.out.println(contents);\r\n                }\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m wondering if, instead of relying on `\\n` as a delimiter, you used the `ZipEntry` instead, this would allow you to process each individual &quot;line&quot; of data at a time...\r\n\r\n\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.StringJoiner;\r\n    import java.util.zip.DataFormatException;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipInputStream;\r\n    import java.util.zip.ZipOutputStream;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) throws IOException, DataFormatException {\r\n            File targetFile = new File(&quot;Test.dat&quot;);\r\n\r\n            int[][] data = new int[][]{\r\n                {0, 1, 2, 3, 4, 5},\r\n                {6, 7, 8, 9, 10, 11}\r\n            };\r\n\r\n            try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(targetFile))) {\r\n                for (int index = 0; index &lt; data.length; index++) {\r\n                    int[] values = data[index];\r\n                    ZipEntry zipEntry = new ZipEntry(&quot;Values-&quot; + index);\r\n                    zos.putNextEntry(zipEntry);\r\n                    StringJoiner joiner = new StringJoiner(&quot;,&quot;);\r\n                    for (int value : values) {\r\n                        joiner.add(Integer.toString(value));\r\n                    }\r\n                    zos.write(joiner.toString().getBytes());\r\n                }\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\r\n            try (ZipInputStream zis = new ZipInputStream(new FileInputStream(targetFile))) {\r\n                ZipEntry zipEntry = null;\r\n                while ((zipEntry = zis.getNextEntry()) != null) {\r\n                    System.out.println(zipEntry.getName());\r\n                    try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\r\n                        byte[] buffer = new byte[1024];\r\n                        int bytesRead = -1;\r\n                        while ((bytesRead = zis.read(buffer)) != -1) {\r\n                            baos.write(buffer, 0, bytesRead);\r\n                        }\r\n\r\n                        String contents = new String(baos.toByteArray());\r\n                        System.out.println(contents);\r\n                    }\r\n                }\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nWhich prints out...\r\n\r\n    Values-0\r\n    0,1,2,3,4,5\r\n    Values-1\r\n    6,7,8,9,10,11\r\n\r\nNow, obviously, you might not know how many lines you need, where as the first example, a simple `String#split` will tell you.  (You could pre-read each entry, but that&#39;s double dipping)\r\n\r\n&gt; is it possible to have ZipOutputStream save &quot;contents&quot; into a compressed &quot;.txt&quot; file called &quot;Compressed file.txt&quot; in a zip file &quot;C:/Users/Username/Documents/Compressed folder.zip&quot; ?\r\n\r\nThat&#39;s entirely up to you, if you&#39;re not concerned about reading/parse the file again, then the process can be greatly reduced (in effort and complexity).\r\n\r\nSo, the example below will write a line of content at time, so you&#39;re only ever creating a single line of text and then writing it to the `ZipEntry`.  The `StringJoiner` makes this process SOOOO much simpler\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.StringJoiner;\r\n    import java.util.zip.DataFormatException;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) throws IOException, DataFormatException {\r\n            File targetFile = new File(&quot;Compressed.zip&quot;);\r\n\r\n            int[][] data = new int[][]{\r\n                {0, 1, 2, 3, 4, 5},\r\n                {6, 7, 8, 9, 10, 11}\r\n            };\r\n\r\n            try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(targetFile))) {\r\n                ZipEntry zipEntry = new ZipEntry(&quot;Compressed.txt&quot;);\r\n                zos.putNextEntry(zipEntry);\r\n                for (int[] outter : data) {\r\n                    StringJoiner joiner = new StringJoiner(&quot;,&quot;, &quot;&quot;, &quot;\\n&quot;);\r\n                    for (int value : outter) {\r\n                        joiner.add(Integer.toString(value));\r\n                    }\r\n                    zos.write(joiner.toString().getBytes());\r\n                }\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n","title":"How to save data from a &quot;For Loop&quot; into a compressed &quot;.txt&quot; file","body":"<p>So, my &quot;big&quot; concern is in how you might &quot;read&quot; the data back in, writing it is actually relatively easy.</p>\n<p>The following does a &quot;basic&quot; job, using a couple of <code>StringJoiners</code> to produce a <code>String</code> which can be written to the file and the a, somewhat, convoluted process to decompress it.</p>\n<p>The problem here is, the limiting factor (for me at least), is the fact that you need to read the entire contents of the file before you can begin reconstructing it.</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.StringJoiner;\nimport java.util.zip.DataFormatException;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\nimport java.util.zip.ZipOutputStream;\n\npublic class Test {\n\n    public static void main(String[] args) throws IOException, DataFormatException {\n        File targetFile = new File(&quot;Test.dat&quot;);\n\n        int[][] data = new int[][]{\n            {0, 1, 2, 3, 4, 5},\n            {6, 7, 8, 9, 10, 11}\n        };\n\n        StringJoiner outterJoiner = new StringJoiner(&quot;\\n&quot;);\n        for (int[] outter : data) {\n            StringJoiner innerJoiner = new StringJoiner(&quot;,&quot;);\n            for (int value : outter) {\n                innerJoiner.add(Integer.toString(value));\n            }\n            outterJoiner.add(innerJoiner.toString());\n        }\n\n        try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(targetFile))) {\n            ZipEntry zipEntry = new ZipEntry(&quot;master&quot;);\n            zos.putNextEntry(zipEntry);\n            zos.write(outterJoiner.toString().getBytes());\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n\n        try (ZipInputStream zis = new ZipInputStream(new FileInputStream(targetFile)); ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n            ZipEntry zipEntry = zis.getNextEntry();\n            if (zipEntry != null) {\n                byte[] buffer = new byte[1024];\n                int bytesRead = -1;\n                while ((bytesRead = zis.read(buffer)) != -1) {\n                    baos.write(buffer, 0, bytesRead);\n                }\n\n                String contents = new String(baos.toByteArray());\n                System.out.println(contents);\n            }\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I'm wondering if, instead of relying on <code>\\n</code> as a delimiter, you used the <code>ZipEntry</code> instead, this would allow you to process each individual &quot;line&quot; of data at a time...</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.StringJoiner;\nimport java.util.zip.DataFormatException;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\nimport java.util.zip.ZipOutputStream;\n\npublic class Test {\n\n    public static void main(String[] args) throws IOException, DataFormatException {\n        File targetFile = new File(&quot;Test.dat&quot;);\n\n        int[][] data = new int[][]{\n            {0, 1, 2, 3, 4, 5},\n            {6, 7, 8, 9, 10, 11}\n        };\n\n        try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(targetFile))) {\n            for (int index = 0; index &lt; data.length; index++) {\n                int[] values = data[index];\n                ZipEntry zipEntry = new ZipEntry(&quot;Values-&quot; + index);\n                zos.putNextEntry(zipEntry);\n                StringJoiner joiner = new StringJoiner(&quot;,&quot;);\n                for (int value : values) {\n                    joiner.add(Integer.toString(value));\n                }\n                zos.write(joiner.toString().getBytes());\n            }\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n\n        try (ZipInputStream zis = new ZipInputStream(new FileInputStream(targetFile))) {\n            ZipEntry zipEntry = null;\n            while ((zipEntry = zis.getNextEntry()) != null) {\n                System.out.println(zipEntry.getName());\n                try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n                    byte[] buffer = new byte[1024];\n                    int bytesRead = -1;\n                    while ((bytesRead = zis.read(buffer)) != -1) {\n                        baos.write(buffer, 0, bytesRead);\n                    }\n\n                    String contents = new String(baos.toByteArray());\n                    System.out.println(contents);\n                }\n            }\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Which prints out...</p>\n<pre><code>Values-0\n0,1,2,3,4,5\nValues-1\n6,7,8,9,10,11\n</code></pre>\n<p>Now, obviously, you might not know how many lines you need, where as the first example, a simple <code>String#split</code> will tell you.  (You could pre-read each entry, but that's double dipping)</p>\n<blockquote>\n<p>is it possible to have ZipOutputStream save &quot;contents&quot; into a compressed &quot;.txt&quot; file called &quot;Compressed file.txt&quot; in a zip file &quot;C:/Users/Username/Documents/Compressed folder.zip&quot; ?</p>\n</blockquote>\n<p>That's entirely up to you, if you're not concerned about reading/parse the file again, then the process can be greatly reduced (in effort and complexity).</p>\n<p>So, the example below will write a line of content at time, so you're only ever creating a single line of text and then writing it to the <code>ZipEntry</code>.  The <code>StringJoiner</code> makes this process SOOOO much simpler</p>\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.StringJoiner;\nimport java.util.zip.DataFormatException;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class Test {\n\n    public static void main(String[] args) throws IOException, DataFormatException {\n        File targetFile = new File(&quot;Compressed.zip&quot;);\n\n        int[][] data = new int[][]{\n            {0, 1, 2, 3, 4, 5},\n            {6, 7, 8, 9, 10, 11}\n        };\n\n        try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(targetFile))) {\n            ZipEntry zipEntry = new ZipEntry(&quot;Compressed.txt&quot;);\n            zos.putNextEntry(zipEntry);\n            for (int[] outter : data) {\n                StringJoiner joiner = new StringJoiner(&quot;,&quot;, &quot;&quot;, &quot;\\n&quot;);\n                for (int value : outter) {\n                    joiner.add(Integer.toString(value));\n                }\n                zos.write(joiner.toString().getBytes());\n            }\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635426775,"creation_date":1635426775,"answer_id":69754742,"question_id":69752383,"body_markdown":"Here a very basic/simplyfied *idea*:\r\n\r\n````java\r\nvar zos = new ZipOutputStream(new FileOutputStream(&quot;text.zip&quot;));\r\ntry (zos) {\r\n    var entry = new ZipEntry(&quot;test.txt&quot;);\r\n    zos.putNextEntry(entry);\r\n\r\n    var value = 12345; // just an example, should come from array/loop\r\n    \r\n    zos.write(Integer.toString(value).getBytes());\r\n    zos.write(&quot;,&quot;.getBytes());\r\n    \r\n    zos.write(&quot;\\n&quot;.getBytes());\r\n    \r\n    zos.closeEntry();\r\n}\r\n````\r\n\r\nyou&#39;ll need to add the loop.  \r\n\r\nNote1: use variables/constants for `&quot;,&quot;.getBytes(...)` and `&quot;\\n&quot;...`  \r\nNote2: using the default system charset for `getBytes()`, to use a specific one, use something like `getBytes(StandardCharsets.UTF_8)`\r\n","title":"How to save data from a &quot;For Loop&quot; into a compressed &quot;.txt&quot; file","body":"<p>Here a very basic/simplyfied <em>idea</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var zos = new ZipOutputStream(new FileOutputStream(&quot;text.zip&quot;));\ntry (zos) {\n    var entry = new ZipEntry(&quot;test.txt&quot;);\n    zos.putNextEntry(entry);\n\n    var value = 12345; // just an example, should come from array/loop\n    \n    zos.write(Integer.toString(value).getBytes());\n    zos.write(&quot;,&quot;.getBytes());\n    \n    zos.write(&quot;\\n&quot;.getBytes());\n    \n    zos.closeEntry();\n}\n</code></pre>\n<p>you'll need to add the loop.</p>\n<p>Note1: use variables/constants for <code>&quot;,&quot;.getBytes(...)</code> and <code>&quot;\\n&quot;...</code><br />\nNote2: using the default system charset for <code>getBytes()</code>, to use a specific one, use something like <code>getBytes(StandardCharsets.UTF_8)</code></p>\n"}],"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69752549,"answer_count":3,"score":0,"last_activity_date":1635731830,"creation_date":1635416686,"question_id":69752383,"body_markdown":"I am trying to write a java code to save data from a &quot;For Loop&quot; (2d array named &quot;arr&quot;) into a compressed &quot;.txt&quot; file.\r\n\r\n    FileOutputStream fos = new FileOutputStream(path to zip file);\r\n    ZipOutputStream zipOut = new ZipOutputStream(new BufferedOutputStream(fos));\r\n    ZipEntry ze = new ZipEntry(path txt file);\r\n    zipOut.putNextEntry(ze);\r\n    for (int r = 0; r &lt; 1048577; r++) {\r\n        for (int c = 0; c &lt; 25; c++) {\r\n            zipOut.write(arr[r][c] + &quot;,&quot;); // how do I write this line?\r\n        }\r\n\r\n        zipOut.write(&quot;\\n&quot;); // how do I write this line?\r\n    }\r\n\r\n    zipOut.closeEntry();\r\n    zipOut.close();\r\n\r\nWhat piece of code should be added to convert the result into Bytes and then use &quot;ZipOutputStream&quot; to write data into a compressed &quot;.txt&quot; file?\r\n\r\nThanks.","title":"How to save data from a &quot;For Loop&quot; into a compressed &quot;.txt&quot; file","body":"<p>I am trying to write a java code to save data from a &quot;For Loop&quot; (2d array named &quot;arr&quot;) into a compressed &quot;.txt&quot; file.</p>\n<pre><code>FileOutputStream fos = new FileOutputStream(path to zip file);\nZipOutputStream zipOut = new ZipOutputStream(new BufferedOutputStream(fos));\nZipEntry ze = new ZipEntry(path txt file);\nzipOut.putNextEntry(ze);\nfor (int r = 0; r &lt; 1048577; r++) {\n    for (int c = 0; c &lt; 25; c++) {\n        zipOut.write(arr[r][c] + &quot;,&quot;); // how do I write this line?\n    }\n\n    zipOut.write(&quot;\\n&quot;); // how do I write this line?\n}\n\nzipOut.closeEntry();\nzipOut.close();\n</code></pre>\n<p>What piece of code should be added to convert the result into Bytes and then use &quot;ZipOutputStream&quot; to write data into a compressed &quot;.txt&quot; file?</p>\n<p>Thanks.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635729780,"creation_date":1635729780,"answer_id":69791822,"question_id":69791752,"body_markdown":"You could eliminate the redundant assignment by changing from a `while` loop to a `do-while` loop. Like,\r\n\r\n\tint x;\r\n\tint o = 0;\r\n\tdo {\r\n\t\tx = r.nextInt(50) + 1;\r\n\t\tSystem.out.println(&quot;Try number: &quot; + o + &quot; and random number is: &quot; + x);\r\n\t\to++;\r\n\t} while (x != 15);\r\n\tSystem.out.println(&quot;The answer is 15!&quot;);\r\n\r\n","title":"Java counter + random numbers","body":"<p>You could eliminate the redundant assignment by changing from a <code>while</code> loop to a <code>do-while</code> loop. Like,</p>\n<pre><code>int x;\nint o = 0;\ndo {\n    x = r.nextInt(50) + 1;\n    System.out.println(&quot;Try number: &quot; + o + &quot; and random number is: &quot; + x);\n    o++;\n} while (x != 15);\nSystem.out.println(&quot;The answer is 15!&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635730295,"creation_date":1635730295,"answer_id":69791865,"question_id":69791752,"body_markdown":"I made your code look shorter but it actually loses readability.\r\n\r\n```\r\nimport java.util.Random;\r\n\r\npublic class ReandomInt {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    Random r = new Random();\r\n\t    int x;\r\n\t    int o = 0;\r\n\t    \r\n\t    while(( x = r.nextInt(50)+1)!=15) {\t       \r\n\t        System.out.println(&quot;Try number: &quot; + (++o) + &quot; and random number is: &quot; + x);\r\n\t    }\r\n\t    \r\n\t    System.out.println(&quot;The answer is 15!&quot;);\r\n\t}\r\n\r\n}\r\n```","title":"Java counter + random numbers","body":"<p>I made your code look shorter but it actually loses readability.</p>\n<pre><code>import java.util.Random;\n\npublic class ReandomInt {\n\n    public static void main(String[] args) {\n        Random r = new Random();\n        int x;\n        int o = 0;\n        \n        while(( x = r.nextInt(50)+1)!=15) {        \n            System.out.println(&quot;Try number: &quot; + (++o) + &quot; and random number is: &quot; + x);\n        }\n        \n        System.out.println(&quot;The answer is 15!&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23201015,"reputation":1,"user_id":17295834,"display_name":"iTaeyeon"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635742179,"accepted_answer_id":69791822,"answer_count":2,"score":-2,"last_activity_date":1635730295,"creation_date":1635728785,"question_id":69791752,"body_markdown":"I am trying to generate random number, but also I want to count how many times does it take to generate specific number and show random number which was generated.\r\n\r\nSo far, my code works just how I wanted, but I feel it could be written easier and more precisely, since I need to set random number range twice.\r\n\r\n\r\n\t\t\r\n\t\tRandom r = new Random();\r\n\t\tint x = r.nextInt(50)+1;\r\n\t\tint o = 0;\r\n\t\t\r\n\t\twhile(x!=15) {\r\n\t\t\to++;\r\n\t\t\tSystem.out.println(&quot;Try number: &quot; + o + &quot; and random number is: &quot; + x);\r\n\t\t\tx = r.nextInt(50)+1;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;The answer is 15!&quot;);\r\n\t}","title":"Java counter + random numbers","body":"<p>I am trying to generate random number, but also I want to count how many times does it take to generate specific number and show random number which was generated.</p>\n<p>So far, my code works just how I wanted, but I feel it could be written easier and more precisely, since I need to set random number range twice.</p>\n<pre><code>    Random r = new Random();\n    int x = r.nextInt(50)+1;\n    int o = 0;\n    \n    while(x!=15) {\n        o++;\n        System.out.println(&quot;Try number: &quot; + o + &quot; and random number is: &quot; + x);\n        x = r.nextInt(50)+1;\n    }\n    \n    System.out.println(&quot;The answer is 15!&quot;);\n}\n</code></pre>\n"},{"tags":["java","android","buildconfig","android-buildconfig"],"comments":[{"owner":{"account_id":1109560,"reputation":490,"user_id":1100288,"display_name":"Parmesh"},"score":0,"creation_date":1635660101,"post_id":69784015,"comment_id":123351868,"body_markdown":"can you update your question with project folder structure for better understanding. Also from which directory you are giving build command?","body":"can you update your question with project folder structure for better understanding. Also from which directory you are giving build command?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635675327,"post_id":69784015,"comment_id":123354265,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23194814,"reputation":1,"user_id":17290614,"display_name":"android"},"score":0,"creation_date":1635727137,"post_id":69784015,"comment_id":123364973,"body_markdown":"@Parmesh the build command is triggered in the root dir of the project","body":"@Parmesh the build command is triggered in the root dir of the project"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1635727157,"post_id":69784015,"comment_id":123364978,"body_markdown":"`Note that the package name is correct...`  Q: *WHICH* name: &quot;BuildConfig&quot; or &quot;BuildCongfig&quot;?","body":"<code>Note that the package name is correct...</code>  Q: <i>WHICH</i> name: &quot;BuildConfig&quot; or &quot;BuildCongfig&quot;?"}],"owner":{"account_id":23194814,"reputation":1,"user_id":17290614,"display_name":"android"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635729688,"creation_date":1635655809,"question_id":69784015,"body_markdown":"I have two modules, A and B. A added B as dependency. BuildConfig is generated in B, while being used in both A and B. No error shows in Android Studio, and the app can be installed successfully. But when making the whole project from command line, it shows the error &quot;Cannot find symbol&quot; on line &quot;import com.package.b.BuildConfig&quot;. The odd thing is this only occurs on module B, but not module A. Note that the package name is correct and the app can normally run.\r\n\r\n    Module A\r\n      |____com.package.a\r\n            |____Class X\r\n    Module B\r\n      |____com.package.b\r\n            |____Class Y\r\n            |____Class Z\r\n            |____BuildConfig(generated)","title":"Android cannot find symbol BuildConfig","body":"<p>I have two modules, A and B. A added B as dependency. BuildConfig is generated in B, while being used in both A and B. No error shows in Android Studio, and the app can be installed successfully. But when making the whole project from command line, it shows the error &quot;Cannot find symbol&quot; on line &quot;import com.package.b.BuildConfig&quot;. The odd thing is this only occurs on module B, but not module A. Note that the package name is correct and the app can normally run.</p>\n<pre><code>Module A\n  |____com.package.a\n        |____Class X\nModule B\n  |____com.package.b\n        |____Class Y\n        |____Class Z\n        |____BuildConfig(generated)\n</code></pre>\n"},{"tags":["java","json","apache-beam","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635729418,"creation_date":1635729418,"answer_id":69791802,"question_id":69789702,"body_markdown":"While the error message seems to imply that the list of strings is what needs encoding, it is actually the `JsonNode`. I just had to read a little further down in the error message, as the opening statement is a bit deceiving as to where the issue is:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Unable to return a default Coder for Traverse Json tree/MapElements/Map/ParMultiDo(Anonymous).output [PCollection@1324829744]. \r\n...\r\n...\r\nInferring a Coder from the CoderRegistry failed: Unable to provide a Coder \r\nfor com.fasterxml.jackson.databind.JsonNode.\r\nBuilding a Coder using a registered CoderProvider failed.\r\n```\r\n\r\nOnce I discovered this, I solved the problem by extending Beam&#39;s `CustomCoder` class. This abstract class is nice because you only have to write the code to serialize and deserialize the object:\r\n\r\n```\r\npublic class JsonNodeCoder extends CustomCoder&lt;JsonNode&gt; {\r\n\r\n    @Override\r\n    public void encode(JsonNode node, OutputStream outStream) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String nodeString = mapper.writeValueAsString(node);\r\n        outStream.write(nodeString.getBytes());\r\n    }\r\n\r\n    @Override\r\n    public JsonNode decode(InputStream inStream) throws IOException {\r\n        byte[] bytes = IOUtils.toByteArray(inStream);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String json = new String(bytes);\r\n        return mapper.readTree(json);\r\n    }\r\n}\r\n```\r\nHopes this helps some other Beam newbie out there. ","title":"How do I set the coder for a PCollection&lt;List&lt;String&gt;&gt; in Apache Beam?","body":"<p>While the error message seems to imply that the list of strings is what needs encoding, it is actually the <code>JsonNode</code>. I just had to read a little further down in the error message, as the opening statement is a bit deceiving as to where the issue is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Unable to return a default Coder for Traverse Json tree/MapElements/Map/ParMultiDo(Anonymous).output [PCollection@1324829744]. \n...\n...\nInferring a Coder from the CoderRegistry failed: Unable to provide a Coder \nfor com.fasterxml.jackson.databind.JsonNode.\nBuilding a Coder using a registered CoderProvider failed.\n</code></pre>\n<p>Once I discovered this, I solved the problem by extending Beam's <code>CustomCoder</code> class. This abstract class is nice because you only have to write the code to serialize and deserialize the object:</p>\n<pre><code>public class JsonNodeCoder extends CustomCoder&lt;JsonNode&gt; {\n\n    @Override\n    public void encode(JsonNode node, OutputStream outStream) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        String nodeString = mapper.writeValueAsString(node);\n        outStream.write(nodeString.getBytes());\n    }\n\n    @Override\n    public JsonNode decode(InputStream inStream) throws IOException {\n        byte[] bytes = IOUtils.toByteArray(inStream);\n        ObjectMapper mapper = new ObjectMapper();\n        String json = new String(bytes);\n        return mapper.readTree(json);\n    }\n}\n</code></pre>\n<p>Hopes this helps some other Beam newbie out there.</p>\n"}],"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1962,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69791802,"answer_count":1,"score":2,"last_activity_date":1635729418,"creation_date":1635706835,"question_id":69789702,"body_markdown":"I&#39;m teaching myself Apache Beam, specifically for using in parsing JSON. I was able to create a simple example that parsed JSON to a POJO and POJO to CSV. It required that I use `.setCoder()` \r\nfor my simple POJO class. \r\n\r\n```\r\n        pipeline\r\n            .apply(&quot;Read source JSON file.&quot;, TextIO.read().from(options.getInput()))\r\n            .apply(&quot;Parse to POJO matching schema&quot;, ParseJsons.of(Person.class))\r\n            .setCoder(SerializableCoder.of(Person.class))\r\n            .apply(&quot;Create comma delimited string&quot;, new PersonToCsvRow())\r\n            .apply(&quot;Write out to file&quot;, TextIO.write().to(options.getOutput())\r\n                .withoutSharding());\r\n```\r\n### The problem\r\n\r\nNow I am trying to skip the POJO step of parsing using some custom transforms. My pipeline looks like this:\r\n\r\n```\r\n        pipeline\r\n            .apply(&quot;Read Json&quot;, TextIO.read().from(&quot;src/main/resources/family_tree.json&quot;))\r\n            .apply(&quot;Traverse Json tree&quot;, new JSONTreeToPaths())\r\n            .apply(&quot;Format tree paths&quot;, new PathsToCSV())\r\n            .apply(&quot;Write to CSV&quot;, TextIO.write().to(&quot;src/main/resources/paths.csv&quot;)\r\n                .withoutSharding());\r\n```\r\nThis pipeline is supposed to take a heavily nested JSON structure and print each individual path through the tree. I&#39;m getting the same error I did in the POJO example above:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Unable to return a default Coder for Traverse Json tree/MapElements/Map/ParMultiDo(Anonymous).output [PCollection@331122245]. Correct one of the following root causes:\r\n  No Coder has been manually specified;  you may do so using .setCoder().\r\n```\r\n\r\n### What I tried\r\nSo I tried to add a coder in a few different ways:\r\n\r\n```\r\n.setCoder(SerializableCoder.of(List&lt;String&gt;.class))\r\n```\r\nResults in &quot;Cannot select from parameterized type&quot;. I found another instance of this error generated by a different use case [here][1], but the accepted answer seemed only be applicable to that use case.\r\n\r\nSo then I started perusing the Beam docs and found `ListCoder.of()` which has (literally) no description. But it looked promising, so I tried it:\r\n\r\n```\r\n.setCoder(ListCoder.of(SerializableCoder.of(String.class)))\r\n```\r\n\r\nBut this takes me back to the initial error of not having manually set a coder. \r\n\r\n### The question\r\nHow do I satisfy this requirement to set a coder for a `List&lt;String&gt;` object?\r\n\r\n### Code\r\nThe transform that is causing the `setCoder` error is this one:\r\n\r\n```\r\npackage transforms;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.apache.beam.sdk.transforms.MapElements;\r\nimport org.apache.beam.sdk.transforms.PTransform;\r\nimport org.apache.beam.sdk.transforms.SimpleFunction;\r\nimport org.apache.beam.sdk.values.PCollection;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class JSONTreeToPaths extends PTransform&lt;PCollection&lt;String&gt;, PCollection&lt;List&lt;String&gt;&gt;&gt; {\r\n\r\n    public static class ExtractPathsFromTree extends SimpleFunction&lt;JsonNode, List&lt;String&gt;&gt; {\r\n        public List&lt;String&gt; apply(JsonNode root) {\r\n            List&lt;String&gt; pathContainer = new ArrayList&lt;&gt;();\r\n            getPaths(root, &quot;&quot;, pathContainer);\r\n            return pathContainer;\r\n        }\r\n    }\r\n\r\n    public static class GetRootNode extends SimpleFunction&lt;String, JsonNode&gt; {\r\n        public JsonNode apply(String jsonString) {\r\n            try {\r\n                return getRoot(jsonString);\r\n            } catch (JsonProcessingException e) {\r\n               e.printStackTrace();\r\n               return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public PCollection&lt;List&lt;String&gt;&gt; expand(PCollection&lt;String&gt; input) {\r\n        return input\r\n            .apply(MapElements.via(new GetRootNode()))\r\n            .apply(MapElements.via(new ExtractPathsFromTree()));\r\n    }\r\n\r\n    private static JsonNode getRoot(String jsonString) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return mapper.readTree(jsonString);\r\n    }\r\n\r\n    private static void getPaths(JsonNode node, String currentPath, List&lt;String&gt; paths) {\r\n        //check if leaf:\r\n        if (node.path(&quot;children&quot;).isMissingNode()) {\r\n            currentPath += node.get(&quot;Id&quot;);\r\n            paths.add(currentPath);\r\n            System.out.println(currentPath);\r\n            return;\r\n        }\r\n\r\n        // recursively iterate over children\r\n        currentPath += (node.get(&quot;Id&quot;) + &quot;,&quot;);\r\n        for (JsonNode child : node.get(&quot;children&quot;)) {\r\n            getPaths(child, currentPath, paths);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53235553/how-do-i-use-mapelements-and-kv-in-together-in-apache-beam","title":"How do I set the coder for a PCollection&lt;List&lt;String&gt;&gt; in Apache Beam?","body":"<p>I'm teaching myself Apache Beam, specifically for using in parsing JSON. I was able to create a simple example that parsed JSON to a POJO and POJO to CSV. It required that I use <code>.setCoder()</code>\nfor my simple POJO class.</p>\n<pre><code>        pipeline\n            .apply(&quot;Read source JSON file.&quot;, TextIO.read().from(options.getInput()))\n            .apply(&quot;Parse to POJO matching schema&quot;, ParseJsons.of(Person.class))\n            .setCoder(SerializableCoder.of(Person.class))\n            .apply(&quot;Create comma delimited string&quot;, new PersonToCsvRow())\n            .apply(&quot;Write out to file&quot;, TextIO.write().to(options.getOutput())\n                .withoutSharding());\n</code></pre>\n<h3>The problem</h3>\n<p>Now I am trying to skip the POJO step of parsing using some custom transforms. My pipeline looks like this:</p>\n<pre><code>        pipeline\n            .apply(&quot;Read Json&quot;, TextIO.read().from(&quot;src/main/resources/family_tree.json&quot;))\n            .apply(&quot;Traverse Json tree&quot;, new JSONTreeToPaths())\n            .apply(&quot;Format tree paths&quot;, new PathsToCSV())\n            .apply(&quot;Write to CSV&quot;, TextIO.write().to(&quot;src/main/resources/paths.csv&quot;)\n                .withoutSharding());\n</code></pre>\n<p>This pipeline is supposed to take a heavily nested JSON structure and print each individual path through the tree. I'm getting the same error I did in the POJO example above:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Unable to return a default Coder for Traverse Json tree/MapElements/Map/ParMultiDo(Anonymous).output [PCollection@331122245]. Correct one of the following root causes:\n  No Coder has been manually specified;  you may do so using .setCoder().\n</code></pre>\n<h3>What I tried</h3>\n<p>So I tried to add a coder in a few different ways:</p>\n<pre><code>.setCoder(SerializableCoder.of(List&lt;String&gt;.class))\n</code></pre>\n<p>Results in &quot;Cannot select from parameterized type&quot;. I found another instance of this error generated by a different use case <a href=\"https://stackoverflow.com/questions/53235553/how-do-i-use-mapelements-and-kv-in-together-in-apache-beam\">here</a>, but the accepted answer seemed only be applicable to that use case.</p>\n<p>So then I started perusing the Beam docs and found <code>ListCoder.of()</code> which has (literally) no description. But it looked promising, so I tried it:</p>\n<pre><code>.setCoder(ListCoder.of(SerializableCoder.of(String.class)))\n</code></pre>\n<p>But this takes me back to the initial error of not having manually set a coder.</p>\n<h3>The question</h3>\n<p>How do I satisfy this requirement to set a coder for a <code>List&lt;String&gt;</code> object?</p>\n<h3>Code</h3>\n<p>The transform that is causing the <code>setCoder</code> error is this one:</p>\n<pre><code>package transforms;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.apache.beam.sdk.transforms.MapElements;\nimport org.apache.beam.sdk.transforms.PTransform;\nimport org.apache.beam.sdk.transforms.SimpleFunction;\nimport org.apache.beam.sdk.values.PCollection;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class JSONTreeToPaths extends PTransform&lt;PCollection&lt;String&gt;, PCollection&lt;List&lt;String&gt;&gt;&gt; {\n\n    public static class ExtractPathsFromTree extends SimpleFunction&lt;JsonNode, List&lt;String&gt;&gt; {\n        public List&lt;String&gt; apply(JsonNode root) {\n            List&lt;String&gt; pathContainer = new ArrayList&lt;&gt;();\n            getPaths(root, &quot;&quot;, pathContainer);\n            return pathContainer;\n        }\n    }\n\n    public static class GetRootNode extends SimpleFunction&lt;String, JsonNode&gt; {\n        public JsonNode apply(String jsonString) {\n            try {\n                return getRoot(jsonString);\n            } catch (JsonProcessingException e) {\n               e.printStackTrace();\n               return null;\n            }\n        }\n    }\n\n    @Override\n    public PCollection&lt;List&lt;String&gt;&gt; expand(PCollection&lt;String&gt; input) {\n        return input\n            .apply(MapElements.via(new GetRootNode()))\n            .apply(MapElements.via(new ExtractPathsFromTree()));\n    }\n\n    private static JsonNode getRoot(String jsonString) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        return mapper.readTree(jsonString);\n    }\n\n    private static void getPaths(JsonNode node, String currentPath, List&lt;String&gt; paths) {\n        //check if leaf:\n        if (node.path(&quot;children&quot;).isMissingNode()) {\n            currentPath += node.get(&quot;Id&quot;);\n            paths.add(currentPath);\n            System.out.println(currentPath);\n            return;\n        }\n\n        // recursively iterate over children\n        currentPath += (node.get(&quot;Id&quot;) + &quot;,&quot;);\n        for (JsonNode child : node.get(&quot;children&quot;)) {\n            getPaths(child, currentPath, paths);\n        }\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1635724144,"post_id":69791431,"comment_id":123364579,"body_markdown":"Put the sets in a `List`.","body":"Put the sets in a <code>List</code>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1635724285,"post_id":69791431,"comment_id":123364596,"body_markdown":"Or an array of `n` size.","body":"Or an array of <code>n</code> size."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1635729238,"creation_date":1635724380,"answer_id":69791450,"question_id":69791431,"body_markdown":"The following does the trick:\r\n```java\r\nint numberOfMaps = 10;\r\nList&lt;HashSet&lt;String&gt;&gt; hashSetsList = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; numberOfMaps; i++) {\r\n    hashSetsList.add(new HashSet&lt;&gt;());\r\n}\r\n```\r\n\r\nOr using Java 8 new features:\r\n```java\r\nint numberOfMaps = 10;\r\nList&lt;HashSet&lt;String&gt;&gt; hashSetsList = new ArrayList&lt;&gt;();\r\nIntStream.range(0, numberOfMaps).forEach(i -&gt; hashSetsList.add(new HashSet&lt;&gt;()));\r\n```\r\nor\r\n\r\n```java\r\nList&lt;HashSet&lt;String&gt;&gt; hashSetsList = IntStream.range(0, numberOfMaps)\r\n      .mapToObj(i -&gt; new HashSet&lt;String&gt;()).collect(Collectors.toList());\r\n```\r\n*(Thanks @magicmn for the input)*\r\n\r\nor\r\n\r\n```java\r\nList&lt;HashSet&lt;String&gt;&gt; hashSetsList = new ArrayList&lt;&gt;(Stream.generate(() -&gt; new HashSet&lt;String&gt;())\r\n      .limit(numberOfMaps).collect(Collectors.toList()));\r\n```\r\n*(Thanks @Elliott Frisch for the input)*\r\n\r\nYou just need to adjust the `numberOfMaps` value.","title":"Can java create multiple hashsets with loop","body":"<p>The following does the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int numberOfMaps = 10;\nList&lt;HashSet&lt;String&gt;&gt; hashSetsList = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; numberOfMaps; i++) {\n    hashSetsList.add(new HashSet&lt;&gt;());\n}\n</code></pre>\n<p>Or using Java 8 new features:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int numberOfMaps = 10;\nList&lt;HashSet&lt;String&gt;&gt; hashSetsList = new ArrayList&lt;&gt;();\nIntStream.range(0, numberOfMaps).forEach(i -&gt; hashSetsList.add(new HashSet&lt;&gt;()));\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;HashSet&lt;String&gt;&gt; hashSetsList = IntStream.range(0, numberOfMaps)\n      .mapToObj(i -&gt; new HashSet&lt;String&gt;()).collect(Collectors.toList());\n</code></pre>\n<p><em>(Thanks @magicmn for the input)</em></p>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;HashSet&lt;String&gt;&gt; hashSetsList = new ArrayList&lt;&gt;(Stream.generate(() -&gt; new HashSet&lt;String&gt;())\n      .limit(numberOfMaps).collect(Collectors.toList()));\n</code></pre>\n<p><em>(Thanks @Elliott Frisch for the input)</em></p>\n<p>You just need to adjust the <code>numberOfMaps</code> value.</p>\n"}],"owner":{"account_id":23200643,"reputation":11,"user_id":17295527,"display_name":"2333333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635729238,"creation_date":1635724031,"question_id":69791431,"body_markdown":"if I want to create 3 hashsets will be like:\r\n```\r\nHashSet&lt;String&gt; hashSet1 = new HashSet&lt;String&gt;();\r\nHashSet&lt;String&gt; hashSet2 = new HashSet&lt;String&gt;();\r\nHashSet&lt;String&gt; hashSet3 = new HashSet&lt;String&gt;();\r\n```\r\nso how could I create n hashsets by using a loop?\r\nlike\r\n```\r\nHashSet&lt;String&gt; hashSet1 = new HashSet&lt;String&gt;();\r\nHashSet&lt;String&gt; hashSet2 = new HashSet&lt;String&gt;();\r\nHashSet&lt;String&gt; hashSet3 = new HashSet&lt;String&gt;();\r\n...\r\n...\r\n...\r\nHashSet&lt;String&gt; hashSetn = new HashSet&lt;String&gt;();\r\n```\r\n\r\n-Thanks","title":"Can java create multiple hashsets with loop","body":"<p>if I want to create 3 hashsets will be like:</p>\n<pre><code>HashSet&lt;String&gt; hashSet1 = new HashSet&lt;String&gt;();\nHashSet&lt;String&gt; hashSet2 = new HashSet&lt;String&gt;();\nHashSet&lt;String&gt; hashSet3 = new HashSet&lt;String&gt;();\n</code></pre>\n<p>so how could I create n hashsets by using a loop?\nlike</p>\n<pre><code>HashSet&lt;String&gt; hashSet1 = new HashSet&lt;String&gt;();\nHashSet&lt;String&gt; hashSet2 = new HashSet&lt;String&gt;();\nHashSet&lt;String&gt; hashSet3 = new HashSet&lt;String&gt;();\n...\n...\n...\nHashSet&lt;String&gt; hashSetn = new HashSet&lt;String&gt;();\n</code></pre>\n<p>-Thanks</p>\n"},{"tags":["java","servlets","java-ee-8"],"comments":[{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":1,"creation_date":1634471963,"post_id":69604041,"comment_id":123028645,"body_markdown":"you have to store the information about the login temptatives somewhere: in a file, in a database or simply in the application scope or wherever you want","body":"you have to store the information about the login temptatives somewhere: in a file, in a database or simply in the application scope or wherever you want"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1634473288,"post_id":69604041,"comment_id":123028941,"body_markdown":"`attempts` is a local variable declared in method `doGet`. That means that every time the method is called, `attempts` is re-initialized to 3. Maybe you could store the value of `attempts` in the `HttpSession`?","body":"<code>attempts</code> is a local variable declared in method <code>doGet</code>. That means that every time the method is called, <code>attempts</code> is re-initialized to 3. Maybe you could store the value of <code>attempts</code> in the <code>HttpSession</code>?"},{"owner":{"account_id":21628202,"reputation":99,"user_id":15952224,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1634497645,"post_id":69604041,"comment_id":123034756,"body_markdown":"@Renato isn&#39;t it possible to do it without using a database , I can&#39;t use a database , I&#39;m trying to think of a way since morning and I can&#39;t think of a way to solve the problem :(","body":"@Renato isn&#39;t it possible to do it without using a database , I can&#39;t use a database , I&#39;m trying to think of a way since morning and I can&#39;t think of a way to solve the problem :("}],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635729087,"creation_date":1635726858,"answer_id":69791637,"question_id":69604041,"body_markdown":"The easiest way, as your example is simple (string literals checking), is keeping the attempts in the session. This way the attempts are tied up to the session (in other words, to the browser&#39;s cookies).\r\n\r\nTo set the values in the session:\r\n\r\n```java\r\nrequest.getSession().setAttribute(&quot;loginAttempts&quot;, 3);\r\nrequest.getSession().setAttribute(&quot;lastLoginAttempt&quot;, LocalDateTime.now());\r\n```\r\n\r\nTo read them:\r\n\r\n```java\r\nInteger attempts = (Integer) request.getSession().getAttribute(&quot;loginAttempts&quot;);\r\nLocalDateTime lastLoginAttempt = (LocalDateTime) request.getSession().getAttribute(&quot;lastLoginAttempt&quot;);\r\n```\r\n\r\nNow you just have to play with the values, recalculate, and reset them after a successful login. The variables will be kept as long as the browser session is kept.\r\n\r\n**TL;DR;**\r\n\r\nI see that everyone who ends up here may need a bit of a briefing about requests and sessions.\r\n\r\nYou have to understand that the piece of code that goes inside de `doGet` or `doPost` is executed every time you enter the url in the browser (The `int attempts = 3;` from your original post is executed every time, so it will always be 3).\r\n\r\nThe server collects all the data that comes from the client&#39;s browser request and builds a brand new `HttpServletRequest` object that contains all the data (url, request params, cookies, ip, port, etc.) every time. Press f5? everything gets executed again with a brand new `HttpServletRequest`. \r\n\r\nThe way the servers use to keep a conversational state between the server and the client (browser) is through the Session. The Session is the only thing that is kept between requests. You can save variables in the Session for later (like the `attempts` and the `lastLoginAttempt`), and rely on the Session to see if a user is successfully logged in.\r\n\r\nAnd how do the server keeps the session between requests if everything gets recreated in each request? through the session cookie. The server users a normal cookie to which it gives a special value (In the Servlet specification this cookie is `JSESSIONID`). When a request come without that cookie the server creates one giving it the value of a unique identifier. Next requests from the same browser will have that cookie, and the server will use the cookie to attach the session to every `HttpServletRequest` generated from requests from that browser. So in the brand new `HttpServletRequest` that is created in every request, the server injects into it the same `HttpSession` that was being used by the same `JSESSIONID`.","title":"user verification email and password (Java web,servlets)","body":"<p>The easiest way, as your example is simple (string literals checking), is keeping the attempts in the session. This way the attempts are tied up to the session (in other words, to the browser's cookies).</p>\n<p>To set the values in the session:</p>\n<pre class=\"lang-java prettyprint-override\"><code>request.getSession().setAttribute(&quot;loginAttempts&quot;, 3);\nrequest.getSession().setAttribute(&quot;lastLoginAttempt&quot;, LocalDateTime.now());\n</code></pre>\n<p>To read them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer attempts = (Integer) request.getSession().getAttribute(&quot;loginAttempts&quot;);\nLocalDateTime lastLoginAttempt = (LocalDateTime) request.getSession().getAttribute(&quot;lastLoginAttempt&quot;);\n</code></pre>\n<p>Now you just have to play with the values, recalculate, and reset them after a successful login. The variables will be kept as long as the browser session is kept.</p>\n<p><strong>TL;DR;</strong></p>\n<p>I see that everyone who ends up here may need a bit of a briefing about requests and sessions.</p>\n<p>You have to understand that the piece of code that goes inside de <code>doGet</code> or <code>doPost</code> is executed every time you enter the url in the browser (The <code>int attempts = 3;</code> from your original post is executed every time, so it will always be 3).</p>\n<p>The server collects all the data that comes from the client's browser request and builds a brand new <code>HttpServletRequest</code> object that contains all the data (url, request params, cookies, ip, port, etc.) every time. Press f5? everything gets executed again with a brand new <code>HttpServletRequest</code>.</p>\n<p>The way the servers use to keep a conversational state between the server and the client (browser) is through the Session. The Session is the only thing that is kept between requests. You can save variables in the Session for later (like the <code>attempts</code> and the <code>lastLoginAttempt</code>), and rely on the Session to see if a user is successfully logged in.</p>\n<p>And how do the server keeps the session between requests if everything gets recreated in each request? through the session cookie. The server users a normal cookie to which it gives a special value (In the Servlet specification this cookie is <code>JSESSIONID</code>). When a request come without that cookie the server creates one giving it the value of a unique identifier. Next requests from the same browser will have that cookie, and the server will use the cookie to attach the session to every <code>HttpServletRequest</code> generated from requests from that browser. So in the brand new <code>HttpServletRequest</code> that is created in every request, the server injects into it the same <code>HttpSession</code> that was being used by the same <code>JSESSIONID</code>.</p>\n"}],"owner":{"account_id":21628202,"reputation":99,"user_id":15952224,"display_name":"Mohammed Hamdoon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635729087,"creation_date":1634471327,"question_id":69604041,"body_markdown":"I&#39;ve created a simple login web where the user enters the email and password and checks if the user and password are correct then he gets redirected to a welcome.jsp page , where it says login success , I&#39;m checking 3 emails and passwords and creating session for each one , the problem I&#39;m facing is that if the user enters the email or password wrong after 3 attempts he will be blocked for a certain amount of time and after the time expires he can try again , I can&#39;t think of a way of doing this , is there a way in which this could be done ?\r\n\r\n    import java.io.*;\r\n    import jakarta.servlet.http.*;\r\n    import jakarta.servlet.annotation.*;\r\n\r\n    //@WebServlet(name = &quot;loginController&quot;, value = &quot;/login&quot;)\r\n    @WebServlet(&quot;/HelloServlet&quot;)\r\n    public class HelloServlet extends HttpServlet {\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws \r\n    IOException {\r\n        String email = request.getParameter(&quot;email&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n        String er = &quot;Invalid user info&quot;;\r\n        int attempts = 3;\r\n        PrintWriter printWriter = response.getWriter();\r\n        LoginBean loginBean = new LoginBean();\r\n\r\n        loginBean.setEmail(email);\r\n        loginBean.setPassword(password);\r\n\r\n        try\r\n        {\r\n            if(email.equals(&quot;Mhamdoon4@gmail.com&quot;) &amp;&amp; password.equals(&quot;pass001&quot;))\r\n            {\r\n                System.out.println(&quot;Admin&#39;s Home&quot;);\r\n\r\n                HttpSession session = request.getSession(); //Creating a session\r\n                session.setAttribute(&quot;Mohammed&quot;, email); //setting session attribute\r\n                request.setAttribute(&quot;email&quot;, email);\r\n\r\n                request.getRequestDispatcher(&quot;welcome.jsp&quot;).forward(request, response);\r\n            }\r\n            else{\r\n                attempts--;\r\n                printWriter.println(attempts + &quot; left&quot;);\r\n\r\n            }\r\n            if(email.equals(&quot;Mhamdoon6@gmail.com&quot;) &amp;&amp; password.equals(&quot;pass0011&quot;))\r\n            {\r\n                System.out.println(&quot;Editor&#39;s Home&quot;);\r\n\r\n                HttpSession session = request.getSession();\r\n                session.setAttribute(&quot;Ali&quot;, email);\r\n                request.setAttribute(&quot;email&quot;, email);\r\n\r\n                request.getRequestDispatcher(&quot;welcome.jsp&quot;).forward(request, response);\r\n            }\r\n            else{\r\n                attempts--;\r\n                printWriter.println(attempts + &quot; left&quot;);\r\n            }\r\n            if(email.equals(&quot;Mhamdoon12@gmail.com&quot;) &amp;&amp; password.equals(&quot;pass00901&quot;))\r\n            {\r\n                System.out.println(&quot;User&#39;s Home&quot;);\r\n\r\n                HttpSession session = request.getSession();\r\n                session.setAttribute(&quot;Adam&quot;, email);\r\n                request.setAttribute(&quot;email&quot;, email);\r\n\r\n                request.getRequestDispatcher(&quot;welcome.jsp&quot;).forward(request, response);\r\n            }\r\n            else{\r\n                attempts--;\r\n                printWriter.println(attempts + &quot; left&quot;);\r\n            }\r\n    //            if()\r\n    //            {\r\n    //                System.out.println(&quot;Error message = Invalid info&quot;);\r\n    //                request.setAttribute(&quot;errMessage&quot;, er);\r\n    //\r\n    //                request.getRequestDispatcher(&quot;fail.jsp&quot;).forward(request, response);\r\n    //            }\r\n        }\r\n        catch (IOException e1)\r\n        {\r\n            e1.printStackTrace();\r\n        }\r\n        catch (Exception e2)\r\n        {\r\n            e2.printStackTrace();\r\n        }\r\n        }\r\n    public void destroy() {\r\n    }\r\n    }","title":"user verification email and password (Java web,servlets)","body":"<p>I've created a simple login web where the user enters the email and password and checks if the user and password are correct then he gets redirected to a welcome.jsp page , where it says login success , I'm checking 3 emails and passwords and creating session for each one , the problem I'm facing is that if the user enters the email or password wrong after 3 attempts he will be blocked for a certain amount of time and after the time expires he can try again , I can't think of a way of doing this , is there a way in which this could be done ?</p>\n<pre><code>import java.io.*;\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.annotation.*;\n\n//@WebServlet(name = &quot;loginController&quot;, value = &quot;/login&quot;)\n@WebServlet(&quot;/HelloServlet&quot;)\npublic class HelloServlet extends HttpServlet {\n\npublic void doGet(HttpServletRequest request, HttpServletResponse response) throws \nIOException {\n    String email = request.getParameter(&quot;email&quot;);\n    String password = request.getParameter(&quot;password&quot;);\n    String er = &quot;Invalid user info&quot;;\n    int attempts = 3;\n    PrintWriter printWriter = response.getWriter();\n    LoginBean loginBean = new LoginBean();\n\n    loginBean.setEmail(email);\n    loginBean.setPassword(password);\n\n    try\n    {\n        if(email.equals(&quot;Mhamdoon4@gmail.com&quot;) &amp;&amp; password.equals(&quot;pass001&quot;))\n        {\n            System.out.println(&quot;Admin's Home&quot;);\n\n            HttpSession session = request.getSession(); //Creating a session\n            session.setAttribute(&quot;Mohammed&quot;, email); //setting session attribute\n            request.setAttribute(&quot;email&quot;, email);\n\n            request.getRequestDispatcher(&quot;welcome.jsp&quot;).forward(request, response);\n        }\n        else{\n            attempts--;\n            printWriter.println(attempts + &quot; left&quot;);\n\n        }\n        if(email.equals(&quot;Mhamdoon6@gmail.com&quot;) &amp;&amp; password.equals(&quot;pass0011&quot;))\n        {\n            System.out.println(&quot;Editor's Home&quot;);\n\n            HttpSession session = request.getSession();\n            session.setAttribute(&quot;Ali&quot;, email);\n            request.setAttribute(&quot;email&quot;, email);\n\n            request.getRequestDispatcher(&quot;welcome.jsp&quot;).forward(request, response);\n        }\n        else{\n            attempts--;\n            printWriter.println(attempts + &quot; left&quot;);\n        }\n        if(email.equals(&quot;Mhamdoon12@gmail.com&quot;) &amp;&amp; password.equals(&quot;pass00901&quot;))\n        {\n            System.out.println(&quot;User's Home&quot;);\n\n            HttpSession session = request.getSession();\n            session.setAttribute(&quot;Adam&quot;, email);\n            request.setAttribute(&quot;email&quot;, email);\n\n            request.getRequestDispatcher(&quot;welcome.jsp&quot;).forward(request, response);\n        }\n        else{\n            attempts--;\n            printWriter.println(attempts + &quot; left&quot;);\n        }\n//            if()\n//            {\n//                System.out.println(&quot;Error message = Invalid info&quot;);\n//                request.setAttribute(&quot;errMessage&quot;, er);\n//\n//                request.getRequestDispatcher(&quot;fail.jsp&quot;).forward(request, response);\n//            }\n    }\n    catch (IOException e1)\n    {\n        e1.printStackTrace();\n    }\n    catch (Exception e2)\n    {\n        e2.printStackTrace();\n    }\n    }\npublic void destroy() {\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":1,"creation_date":1635728302,"post_id":69791705,"comment_id":123365136,"body_markdown":"Your data violates first normal form. Strongly consider reviewing your DB model instead of writing tricky code","body":"Your data violates first normal form. Strongly consider reviewing your DB model instead of writing tricky code"}],"owner":{"account_id":16125143,"reputation":251,"user_id":11640072,"display_name":"hirarqi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635728032,"creation_date":1635728032,"question_id":69791705,"body_markdown":"I have data stored in the database, it looks more or less like this\r\n```\r\n[\r\n  {\r\n    &quot;accountNumber&quot;: &quot;00000123,0000124&quot;,\r\n    &quot;fullName&quot;: &quot;CUSTOMER XXX&quot;\r\n  },\r\n  {\r\n    &quot;accountNumber&quot;: &quot;00000128&quot;,\r\n    &quot;fullName&quot;: &quot;CUSTOMER AAA&quot;\r\n  }\r\n]\r\n```\r\nhere I add code to retrieve data with condition using ***like***\r\n```\r\n        CriteriaBuilder builder = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;ModelEntity&gt; query = builder.createQuery(ModelEntity.class);\r\n        Root&lt;ModelEntity&gt; root = query.from(ModelEntity.class);\r\n        \r\n        List&lt;Predicate&gt; listWhere = new ArrayList&lt;&gt;();\r\n\r\n        if(!Strings.isNullOrEmpty(param.getAccountNumber())){\r\n\r\n            // it&#39;s over here\r\n        \tlistWhere.add(builder.like(root.get(&#39;accountNumber&#39;), &#39;%&#39;+param.getAccountNumber()+&#39;%&#39;));\r\n        }\r\n\r\n        TypedQuery&lt;ModelEntity&gt; typedQuery = em.createQuery(query\r\n                .where(listWhere.toArray(new Predicate[] {}))\r\n                .orderBy(builder.desc(root.get(&#39;createdDate&#39;)))\r\n        );   \r\n```\r\nbecause the condition uses ***like***, then there is a possibility if the accountNumber parameter that is sent is this = **&quot;0000012&quot;**, both data will be taken, therefore I added a re-filter to remove data that does not match the sent param\r\n```\r\n        // filter accountNumbers\r\n        if(!Strings.isNullOrEmpty(param.getAccountNumber()) &amp;&amp; typedQuery.getResultList().size() &gt; 0){\r\n        \tList&lt;ModelEntity&gt; removeData = new ArrayList&lt;&gt;();\r\n        \ttypedQuery.getResultList().forEach(data-&gt;{\r\n        \t\tList&lt;String&gt; accountNumbers = new ArrayList&lt;&gt;();\r\n        \t\t\r\n        \t\tif (!Strings.isNullOrEmpty(data.getAccountNumber())) {\r\n        \t\t\taccountNumbers.addAll(Arrays.asList(data.getAccountNumber().split(&quot;,&quot;)));\t// accountNumber value = &quot;00000123,0000124&quot;\r\n\t            }\r\n        \t\t\r\n        \t\tif(!accountNumbers.isEmpty() &amp;&amp; !accountNumbers.contains(param.getAccountNumber())) {\r\n        \t\t\tremoveData.add(data);\r\n        \t\t}\r\n        \t});\r\n        \t\r\n        \tif(!removeData.isEmpty()) {\r\n        \t\ttypedQuery.getResultList().removeAll(removeData);\r\n        \t}\r\n        }\r\n\r\n        Integer total = typedQuery.getResultList().size();\r\n        List&lt;ModelEntity&gt; result = typedQuery\r\n                .setMaxResults(paging.getRowPerPage())\t\t\t\t\t\t\t// rowPerPage = 10\r\n                .setFirstResult(paging.getRowPerPage() * (paging.getPage()-1))  // page = 1\r\n                .getResultList();\r\n```\r\nthe problem is this code doesn&#39;t work ```typedQuery.getResultList().removeAll(removeData);``` , the data attached is still size 2, but the expectation is 0. is there something wrong?, please help","title":"TypedQuery remove data from getResultList()","body":"<p>I have data stored in the database, it looks more or less like this</p>\n<pre><code>[\n  {\n    &quot;accountNumber&quot;: &quot;00000123,0000124&quot;,\n    &quot;fullName&quot;: &quot;CUSTOMER XXX&quot;\n  },\n  {\n    &quot;accountNumber&quot;: &quot;00000128&quot;,\n    &quot;fullName&quot;: &quot;CUSTOMER AAA&quot;\n  }\n]\n</code></pre>\n<p>here I add code to retrieve data with condition using <em><strong>like</strong></em></p>\n<pre><code>        CriteriaBuilder builder = em.getCriteriaBuilder();\n        CriteriaQuery&lt;ModelEntity&gt; query = builder.createQuery(ModelEntity.class);\n        Root&lt;ModelEntity&gt; root = query.from(ModelEntity.class);\n        \n        List&lt;Predicate&gt; listWhere = new ArrayList&lt;&gt;();\n\n        if(!Strings.isNullOrEmpty(param.getAccountNumber())){\n\n            // it's over here\n            listWhere.add(builder.like(root.get('accountNumber'), '%'+param.getAccountNumber()+'%'));\n        }\n\n        TypedQuery&lt;ModelEntity&gt; typedQuery = em.createQuery(query\n                .where(listWhere.toArray(new Predicate[] {}))\n                .orderBy(builder.desc(root.get('createdDate')))\n        );   \n</code></pre>\n<p>because the condition uses <em><strong>like</strong></em>, then there is a possibility if the accountNumber parameter that is sent is this = <strong>&quot;0000012&quot;</strong>, both data will be taken, therefore I added a re-filter to remove data that does not match the sent param</p>\n<pre><code>        // filter accountNumbers\n        if(!Strings.isNullOrEmpty(param.getAccountNumber()) &amp;&amp; typedQuery.getResultList().size() &gt; 0){\n            List&lt;ModelEntity&gt; removeData = new ArrayList&lt;&gt;();\n            typedQuery.getResultList().forEach(data-&gt;{\n                List&lt;String&gt; accountNumbers = new ArrayList&lt;&gt;();\n                \n                if (!Strings.isNullOrEmpty(data.getAccountNumber())) {\n                    accountNumbers.addAll(Arrays.asList(data.getAccountNumber().split(&quot;,&quot;)));   // accountNumber value = &quot;00000123,0000124&quot;\n                }\n                \n                if(!accountNumbers.isEmpty() &amp;&amp; !accountNumbers.contains(param.getAccountNumber())) {\n                    removeData.add(data);\n                }\n            });\n            \n            if(!removeData.isEmpty()) {\n                typedQuery.getResultList().removeAll(removeData);\n            }\n        }\n\n        Integer total = typedQuery.getResultList().size();\n        List&lt;ModelEntity&gt; result = typedQuery\n                .setMaxResults(paging.getRowPerPage())                          // rowPerPage = 10\n                .setFirstResult(paging.getRowPerPage() * (paging.getPage()-1))  // page = 1\n                .getResultList();\n</code></pre>\n<p>the problem is this code doesn't work <code>typedQuery.getResultList().removeAll(removeData);</code> , the data attached is still size 2, but the expectation is 0. is there something wrong?, please help</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1635723430,"post_id":69791363,"comment_id":123364487,"body_markdown":"You are not adding the `b` to the list anywhere, why do you expect this to work?","body":"You are not adding the <code>b</code> to the list anywhere, why do you expect this to work?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1635723715,"post_id":69791363,"comment_id":123364521,"body_markdown":"Does this answer your question? [Modifying Objects within stream in Java8 while iterating](https://stackoverflow.com/questions/30778017/modifying-objects-within-stream-in-java8-while-iterating)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30778017/modifying-objects-within-stream-in-java8-while-iterating\">Modifying Objects within stream in Java8 while iterating</a>"},{"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"score":0,"creation_date":1635727847,"post_id":69791363,"comment_id":123365075,"body_markdown":"And how could I add?","body":"And how could I add?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635723631,"creation_date":1635723631,"answer_id":69791401,"question_id":69791363,"body_markdown":"Use [`contains()`][1]:\r\n\r\n    if (!lista.contains(&quot;b&quot;)) {\r\n        lista.add(&quot;b&quot;);\r\n    }\r\n\r\nConsider using a `Set&lt;String&gt;` if you want to prevent duplicates.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/Collection.html#contains(java.lang.Object)","title":"Add an element to the list if it doesn&#39;t find it with lambda","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/Collection.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>contains()</code></a>:</p>\n<pre><code>if (!lista.contains(&quot;b&quot;)) {\n    lista.add(&quot;b&quot;);\n}\n</code></pre>\n<p>Consider using a <code>Set&lt;String&gt;</code> if you want to prevent duplicates.</p>\n"}],"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635780673,"answer_count":1,"score":0,"last_activity_date":1635726511,"creation_date":1635723040,"question_id":69791363,"body_markdown":"I&#39;m filtering an object in a list if the condition is true, if not found it will create and add a new object to the list. But it&#39;s not working... could someone help?\r\n\r\n\r\n    for (int i = 0; i &lt; questao.getQuestaoOpcao().size(); i++) {\t\t\t\t\r\n        questao.getQuestaoOpcao().stream().flatMap(qoi -&gt; qoi.getQuestaoOpcoesIdioma().stream())\r\n                .filter(qoi -&gt; qoi.getIdioma().equals(idiomaSelecionado)).findFirst()\r\n            .orElse(new QuestaoOpcaoIdioma(questao.getQuestaoOpcao().get(i), nomesOpcoesList.get(i), idiomaSelecionado));\r\n    }\r\n\r\n","title":"Add an element to the list if it doesn&#39;t find it with lambda","body":"<p>I'm filtering an object in a list if the condition is true, if not found it will create and add a new object to the list. But it's not working... could someone help?</p>\n<pre><code>for (int i = 0; i &lt; questao.getQuestaoOpcao().size(); i++) {                \n    questao.getQuestaoOpcao().stream().flatMap(qoi -&gt; qoi.getQuestaoOpcoesIdioma().stream())\n            .filter(qoi -&gt; qoi.getIdioma().equals(idiomaSelecionado)).findFirst()\n        .orElse(new QuestaoOpcaoIdioma(questao.getQuestaoOpcao().get(i), nomesOpcoesList.get(i), idiomaSelecionado));\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":13547347,"reputation":2140,"user_id":9773274,"display_name":"NatFar"},"score":0,"creation_date":1556577345,"post_id":55905824,"comment_id":98478197,"body_markdown":"What&#39;s the exact Spring Security response?","body":"What&#39;s the exact Spring Security response?"},{"owner":{"account_id":7712450,"reputation":2036,"user_id":5841337,"accept_rate":100,"display_name":"Frank"},"score":0,"creation_date":1556608747,"post_id":55905824,"comment_id":98485812,"body_markdown":"There is nothing in the response body. Just the 404 status in the header. When doing more debugging I found out that there is the 403 at first. It is just changed to a 404 further up the filter chain.","body":"There is nothing in the response body. Just the 404 status in the header. When doing more debugging I found out that there is the 403 at first. It is just changed to a 404 further up the filter chain."}],"answers":[{"tags":[],"owner":{"account_id":7712450,"reputation":2036,"user_id":5841337,"accept_rate":100,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556614198,"creation_date":1556614198,"answer_id":55917181,"question_id":55905824,"body_markdown":"I finally found a solution fitting my purposes. I do not know if this is the best way to deal with this, but just adding an ExceptionHandler did the trick. Somewhere deep inside the filterchain the 403 mutates to 404 when there is no such handler in place. \r\nPerhaps I am to dump to read and understand the documentation, but I did not find anything that suggest you have to do this. So maybe I am wrong solving the problem like this, but here is the code that did the trick (it is a really basic implementation that should be improved over time):\r\n\r\n    @ControllerAdvice\r\n    public class MyExceptionHandler {\r\n\r\n        @ExceptionHandler(Throwable.class)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;String&gt; handleControllerException(Throwable ex) {\r\n            HttpStatus status = HttpStatus.INTERNAL_SERVER_ERROR;\r\n            if(ex instanceof AccessDeniedException) {\r\n                status = HttpStatus.FORBIDDEN;\r\n            }\r\n\r\n            return new ResponseEntity&lt;&gt;(ex.getMessage(), status);\r\n        }\r\n    }","title":"Spring Security returns 404 instead of 403 when using @PreAuthorize","body":"<p>I finally found a solution fitting my purposes. I do not know if this is the best way to deal with this, but just adding an ExceptionHandler did the trick. Somewhere deep inside the filterchain the 403 mutates to 404 when there is no such handler in place. \nPerhaps I am to dump to read and understand the documentation, but I did not find anything that suggest you have to do this. So maybe I am wrong solving the problem like this, but here is the code that did the trick (it is a really basic implementation that should be improved over time):</p>\n\n<pre><code>@ControllerAdvice\npublic class MyExceptionHandler {\n\n    @ExceptionHandler(Throwable.class)\n    @ResponseBody\n    public ResponseEntity&lt;String&gt; handleControllerException(Throwable ex) {\n        HttpStatus status = HttpStatus.INTERNAL_SERVER_ERROR;\n        if(ex instanceof AccessDeniedException) {\n            status = HttpStatus.FORBIDDEN;\n        }\n\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), status);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1556617358,"creation_date":1556617358,"answer_id":55918129,"question_id":55905824,"body_markdown":"You need to define the exceptionHandling at security configuration as follows,\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable() // Using JWT there is no need for CSRF-protection!\r\n                .authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling().accessDeniedHandler(new AccessDeniedExceptionHandler())\r\n                .and()\r\n                .addFilter(new JwtAuthorizationFilter(authenticationManagerBean(), sessionRepository));\r\n    }\r\n\r\n\r\nYou can define AccessDeniedExceptionHandler class as follows,\r\n\r\n    public class AccessDeniedExceptionHandler implements AccessDeniedHandler\r\n    {\r\n        @Override\r\n        public void handle(HttpServletRequest request, HttpServletResponse response,\r\n                AccessDeniedException ex) throws IOException, ServletException {\r\n            response.setStatus(HttpStatus.FORBIDDEN);\r\n        }\r\n    }","title":"Spring Security returns 404 instead of 403 when using @PreAuthorize","body":"<p>You need to define the exceptionHandling at security configuration as follows,</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable() // Using JWT there is no need for CSRF-protection!\n            .authorizeRequests()\n            .anyRequest().authenticated()\n            .and()\n            .exceptionHandling().accessDeniedHandler(new AccessDeniedExceptionHandler())\n            .and()\n            .addFilter(new JwtAuthorizationFilter(authenticationManagerBean(), sessionRepository));\n}\n</code></pre>\n\n<p>You can define AccessDeniedExceptionHandler class as follows,</p>\n\n<pre><code>public class AccessDeniedExceptionHandler implements AccessDeniedHandler\n{\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response,\n            AccessDeniedException ex) throws IOException, ServletException {\n        response.setStatus(HttpStatus.FORBIDDEN);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8183566,"reputation":51,"user_id":6159982,"display_name":"Jazeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598197956,"creation_date":1598197956,"answer_id":63549009,"question_id":55905824,"body_markdown":"\r\nGlobal method security can be enabled with the help of annotation `@EnableGlobalMethodSecurity(prePostEnabled=true)` . The combination of this and `@Preauthorize` will create a new proxy for your controller and it will loose the Request mapping which will result in 404 Exception. \r\n\r\nTo handle this you can use the annotation `@EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)` which is there in your `SecurityConfiguration` class. \r\n\r\nProvided the details in [another answer][1] as well.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63527761/6159982","title":"Spring Security returns 404 instead of 403 when using @PreAuthorize","body":"<p>Global method security can be enabled with the help of annotation <code>@EnableGlobalMethodSecurity(prePostEnabled=true)</code> . The combination of this and <code>@Preauthorize</code> will create a new proxy for your controller and it will loose the Request mapping which will result in 404 Exception.</p>\n<p>To handle this you can use the annotation <code>@EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)</code> which is there in your <code>SecurityConfiguration</code> class.</p>\n<p>Provided the details in <a href=\"https://stackoverflow.com/a/63527761/6159982\">another answer</a> as well.</p>\n"}],"owner":{"account_id":7712450,"reputation":2036,"user_id":5841337,"accept_rate":100,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6460,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":55918129,"answer_count":3,"score":6,"last_activity_date":1635726123,"creation_date":1556549328,"question_id":55905824,"body_markdown":"After struggling with this for a few days (searching SO for similar questions, doing trial &amp; error), I am tempted to give up...\r\n\r\nSo the problem is I have a REST service based on Spring Boot using Spring Security and JWT for authentication. Now I want to secure some of the methods to be only called by authorized people using the `@PreAuthorize`-annotation.\r\nThis seems to work partly because instead of calling the method Spring returns 404. I would have expected 403.\r\n\r\nI have read this [SO-question][1] and tried the answers given there, but it did not help. I have moved the `@EnableGlobalMethodSecurity(prePostEnabled = true)`-Annotation from my SecurityConfiguration to the Application class as suggested elsewhere, still it does not work.\r\n\r\nMy security configuration looks like this:\r\n\r\n    @Configuration\r\n    @Profile(&quot;production&quot;)\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Value(&quot;${adDomain}&quot;)\r\n    private String adDomain;\r\n\r\n    @Value(&quot;${adUrl}&quot;)\r\n    private String adUrl;\r\n\r\n    @Value(&quot;${rootDn}&quot;)\r\n    private String rootDn;\r\n\r\n    @Value(&quot;${searchFilter}&quot;)\r\n    private String searchFilter;\r\n\r\n    private final AuthenticationManagerBuilder auth;\r\n\r\n    private final SessionRepository sessionRepository;\r\n\r\n    @Autowired\r\n    public SecurityConfiguration(AuthenticationManagerBuilder auth, SessionRepository sessionRepository) {\r\n        this.auth = auth;\r\n        this.sessionRepository = sessionRepository;\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity webSecurity) throws Exception\r\n    {\r\n        webSecurity\r\n                .ignoring()\r\n                // All of Spring Security will ignore the requests\r\n                .antMatchers(&quot;/static/**&quot;, &quot;/api/web/logout&quot;)\r\n                .antMatchers(HttpMethod.POST, &quot;/api/web/login&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable() // Using JWT there is no need for CSRF-protection!\r\n                .authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilter(new JwtAuthorizationFilter(authenticationManagerBean(), sessionRepository));\r\n    }\r\n\r\n    @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        ActiveDirectoryLdapAuthenticationProvider adProvider =\r\n                new ActiveDirectoryLdapAuthenticationProvider(adDomain, adUrl, rootDn);\r\n        adProvider.setConvertSubErrorCodesToExceptions(true);\r\n        adProvider.setUseAuthenticationRequestCredentials(true);\r\n        adProvider.setSearchFilter(searchFilter);\r\n        adProvider.setUserDetailsContextMapper(new InetOrgPersonContextMapper());\r\n        auth.authenticationProvider(adProvider);\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n\r\nThe controller method looks like this\r\n\r\n    @RequestMapping(path = &quot;/licenses&quot;, method = RequestMethod.GET)\r\n    @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n    public ResponseEntity&lt;?&gt; getAllLicenses(@RequestParam(&quot;after&quot;) int pagenumber, @RequestParam(&quot;size&quot;) int pagesize\r\n            , @RequestParam(&quot;searchText&quot;) String searchText) {       \r\n        List&lt;LicenseDTO&gt; result = ...\r\n        return new ResponseEntity&lt;Object&gt;(result, HttpStatus.OK);\r\n    }\r\n\r\nI am quite sure I am missing something very simple, but I just cannot figure out what.\r\n\r\nBy the way: if the user requesting the licenses has the ADMIN role everything works as expected, so the problem is not a real 404.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50429124/spring-security-preauthorize-returns-404","title":"Spring Security returns 404 instead of 403 when using @PreAuthorize","body":"<p>After struggling with this for a few days (searching SO for similar questions, doing trial &amp; error), I am tempted to give up...</p>\n\n<p>So the problem is I have a REST service based on Spring Boot using Spring Security and JWT for authentication. Now I want to secure some of the methods to be only called by authorized people using the <code>@PreAuthorize</code>-annotation.\nThis seems to work partly because instead of calling the method Spring returns 404. I would have expected 403.</p>\n\n<p>I have read this <a href=\"https://stackoverflow.com/questions/50429124/spring-security-preauthorize-returns-404\">SO-question</a> and tried the answers given there, but it did not help. I have moved the <code>@EnableGlobalMethodSecurity(prePostEnabled = true)</code>-Annotation from my SecurityConfiguration to the Application class as suggested elsewhere, still it does not work.</p>\n\n<p>My security configuration looks like this:</p>\n\n<pre><code>@Configuration\n@Profile(\"production\")\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n@Value(\"${adDomain}\")\nprivate String adDomain;\n\n@Value(\"${adUrl}\")\nprivate String adUrl;\n\n@Value(\"${rootDn}\")\nprivate String rootDn;\n\n@Value(\"${searchFilter}\")\nprivate String searchFilter;\n\nprivate final AuthenticationManagerBuilder auth;\n\nprivate final SessionRepository sessionRepository;\n\n@Autowired\npublic SecurityConfiguration(AuthenticationManagerBuilder auth, SessionRepository sessionRepository) {\n    this.auth = auth;\n    this.sessionRepository = sessionRepository;\n}\n\n@Override\npublic void configure(WebSecurity webSecurity) throws Exception\n{\n    webSecurity\n            .ignoring()\n            // All of Spring Security will ignore the requests\n            .antMatchers(\"/static/**\", \"/api/web/logout\")\n            .antMatchers(HttpMethod.POST, \"/api/web/login\");\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable() // Using JWT there is no need for CSRF-protection!\n            .authorizeRequests()\n            .anyRequest().authenticated()\n            .and()\n            .addFilter(new JwtAuthorizationFilter(authenticationManagerBean(), sessionRepository));\n}\n\n@Bean(name = BeanIds.AUTHENTICATION_MANAGER)\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    ActiveDirectoryLdapAuthenticationProvider adProvider =\n            new ActiveDirectoryLdapAuthenticationProvider(adDomain, adUrl, rootDn);\n    adProvider.setConvertSubErrorCodesToExceptions(true);\n    adProvider.setUseAuthenticationRequestCredentials(true);\n    adProvider.setSearchFilter(searchFilter);\n    adProvider.setUserDetailsContextMapper(new InetOrgPersonContextMapper());\n    auth.authenticationProvider(adProvider);\n    return super.authenticationManagerBean();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The controller method looks like this</p>\n\n<pre><code>@RequestMapping(path = \"/licenses\", method = RequestMethod.GET)\n@PreAuthorize(\"hasRole('ADMIN')\")\npublic ResponseEntity&lt;?&gt; getAllLicenses(@RequestParam(\"after\") int pagenumber, @RequestParam(\"size\") int pagesize\n        , @RequestParam(\"searchText\") String searchText) {       \n    List&lt;LicenseDTO&gt; result = ...\n    return new ResponseEntity&lt;Object&gt;(result, HttpStatus.OK);\n}\n</code></pre>\n\n<p>I am quite sure I am missing something very simple, but I just cannot figure out what.</p>\n\n<p>By the way: if the user requesting the licenses has the ADMIN role everything works as expected, so the problem is not a real 404.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635720708,"creation_date":1635720708,"answer_id":69791178,"question_id":69791045,"body_markdown":"This one is tricky because you cannot define a key for each `Movie` since such an object can appear under multiple keys.\r\n\r\nThe **best** solution is as far as I know equal to yours:\r\n\r\n```\r\nMap&lt;String, List&lt;Movie&gt;&gt; groupedMovies = new HashMap&lt;&gt;();\r\nmovies.forEach(movie -&gt; {\r\n\tmovie.getGenres().forEach(genre -&gt;\r\n\t\tgroupedMovies.computeIfAbsent(genre, g -&gt; new ArrayList&lt;&gt;()).add(movie)\r\n\t);\r\n});\r\n```\r\n\r\nIf you want to &quot;convert&quot; this snippet into [tag:java-stream], you have to start with *what you have* - which is the individual genres. Extract them from each `Movie` using `flatMap` and `distinct` to avoid duplicates. Then use a `Collector.toMap` to get the desired output. \r\n\r\n - **Key:** `Function.identity()` to map each unique `genre` as a key itself.\r\n - **Value:** Use another `Stream` to filter out the movies containing a particular `genre` to assign them to the key.\r\n\r\n```\r\nMap&lt;String, List&lt;Movie&gt;&gt; groupedMovies = movies.stream()\r\n\t.map(Movie::getGenres)\r\n\t.flatMap(List::stream)\r\n\t.distinct()\r\n\t.collect(Collectors.toMap(\r\n\t\t\tFunction.identity(),\r\n\t\t\tgenre -&gt; movies.stream()\r\n\t\t\t\t\t\t   .filter(movie -&gt; movie.getGenres().contains(genre))\r\n\t\t\t\t\t\t   .collect(Collectors.toList())));\r\n```\r\n\r\nThe procedural approach in the first snippet is faster, easier to read and understand. I don&#39;t recommend using [tag:java-stream] here.\r\n\r\n_____\r\n\r\nA note.. there is no meaning of using `forEach` right after `stream`: The sequence of `list.stream().forEach(...)` can be `list.forEach(...)` instead.","title":"Java Stream API - Group by items of an object&#39;s inner list","body":"<p>This one is tricky because you cannot define a key for each <code>Movie</code> since such an object can appear under multiple keys.</p>\n<p>The <strong>best</strong> solution is as far as I know equal to yours:</p>\n<pre><code>Map&lt;String, List&lt;Movie&gt;&gt; groupedMovies = new HashMap&lt;&gt;();\nmovies.forEach(movie -&gt; {\n    movie.getGenres().forEach(genre -&gt;\n        groupedMovies.computeIfAbsent(genre, g -&gt; new ArrayList&lt;&gt;()).add(movie)\n    );\n});\n</code></pre>\n<p>If you want to &quot;convert&quot; this snippet into <a href=\"/questions/tagged/java-stream\" class=\"post-tag\" title=\"show questions tagged &#39;java-stream&#39;\" rel=\"tag\">java-stream</a>, you have to start with <em>what you have</em> - which is the individual genres. Extract them from each <code>Movie</code> using <code>flatMap</code> and <code>distinct</code> to avoid duplicates. Then use a <code>Collector.toMap</code> to get the desired output.</p>\n<ul>\n<li><strong>Key:</strong> <code>Function.identity()</code> to map each unique <code>genre</code> as a key itself.</li>\n<li><strong>Value:</strong> Use another <code>Stream</code> to filter out the movies containing a particular <code>genre</code> to assign them to the key.</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;Movie&gt;&gt; groupedMovies = movies.stream()\n    .map(Movie::getGenres)\n    .flatMap(List::stream)\n    .distinct()\n    .collect(Collectors.toMap(\n            Function.identity(),\n            genre -&gt; movies.stream()\n                           .filter(movie -&gt; movie.getGenres().contains(genre))\n                           .collect(Collectors.toList())));\n</code></pre>\n<p>The procedural approach in the first snippet is faster, easier to read and understand. I don't recommend using <a href=\"/questions/tagged/java-stream\" class=\"post-tag\" title=\"show questions tagged &#39;java-stream&#39;\" rel=\"tag\">java-stream</a> here.</p>\n<hr />\n<p>A note.. there is no meaning of using <code>forEach</code> right after <code>stream</code>: The sequence of <code>list.stream().forEach(...)</code> can be <code>list.forEach(...)</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635724206,"creation_date":1635723636,"answer_id":69791403,"question_id":69791045,"body_markdown":"First we might want to create a `Pair` or `Tuple` as follows:\r\n\r\n```\r\n    public static class Pair {\r\n        Movie movie;\r\n        String genre;\r\n\r\n        public Pair(Movie movie, String genre) {\r\n            this.movie = movie;\r\n            this.genre = genre;\r\n        }\r\n       \r\n       // Getters omitted\r\n\r\n    }\r\n```\r\nThis can be a `Record` as well in Java 17.\r\n\r\nNext, we can do the following with `toMap`:\r\n\r\n```\r\nMap&lt;String, List&lt;Movie&gt;&gt; map = movies.stream()\r\n                .flatMap(movie -&gt; movie.getGenres().stream().map(genre -&gt; new Pair(movie, genre)))\r\n                .collect(Collectors.toMap(Pair::getGenre, pair -&gt; new ArrayList&lt;&gt;(List.of(pair.getMovie())),\r\n                        (existing, current) -&gt; {\r\n                            existing.addAll(current);\r\n                            return existing;\r\n                        }));\r\n```\r\n\r\nOr we can use `groupBy`:\r\n\r\n```\r\nMap&lt;String, List&lt;Movie&gt;&gt; map = movies.stream()\r\n                .flatMap(movie -&gt; movie.getGenres().stream().map(genre -&gt; new Pair(movie, genre)))\r\n                .collect(Collectors.groupingBy(Pair::getGenre,\r\n                        HashMap::new,\r\n                        Collectors.mapping(Pair::getMovie, Collectors.toList())));\r\n```\r\n\r\nEssentially we create a `Pair` for every movie with its every possible `genre`. After we have this pairs, we are grouping them in a way to get rid of the `Pair`.","title":"Java Stream API - Group by items of an object&#39;s inner list","body":"<p>First we might want to create a <code>Pair</code> or <code>Tuple</code> as follows:</p>\n<pre><code>    public static class Pair {\n        Movie movie;\n        String genre;\n\n        public Pair(Movie movie, String genre) {\n            this.movie = movie;\n            this.genre = genre;\n        }\n       \n       // Getters omitted\n\n    }\n</code></pre>\n<p>This can be a <code>Record</code> as well in Java 17.</p>\n<p>Next, we can do the following with <code>toMap</code>:</p>\n<pre><code>Map&lt;String, List&lt;Movie&gt;&gt; map = movies.stream()\n                .flatMap(movie -&gt; movie.getGenres().stream().map(genre -&gt; new Pair(movie, genre)))\n                .collect(Collectors.toMap(Pair::getGenre, pair -&gt; new ArrayList&lt;&gt;(List.of(pair.getMovie())),\n                        (existing, current) -&gt; {\n                            existing.addAll(current);\n                            return existing;\n                        }));\n</code></pre>\n<p>Or we can use <code>groupBy</code>:</p>\n<pre><code>Map&lt;String, List&lt;Movie&gt;&gt; map = movies.stream()\n                .flatMap(movie -&gt; movie.getGenres().stream().map(genre -&gt; new Pair(movie, genre)))\n                .collect(Collectors.groupingBy(Pair::getGenre,\n                        HashMap::new,\n                        Collectors.mapping(Pair::getMovie, Collectors.toList())));\n</code></pre>\n<p>Essentially we create a <code>Pair</code> for every movie with its every possible <code>genre</code>. After we have this pairs, we are grouping them in a way to get rid of the <code>Pair</code>.</p>\n"},{"tags":[],"owner":{"account_id":23191479,"reputation":56,"user_id":17287795,"display_name":"somayaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635726111,"creation_date":1635726111,"answer_id":69791578,"question_id":69791045,"body_markdown":"```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport static java.util.stream.Collectors.groupingBy;\r\n\r\n\r\nclass Movie {\r\n        String type;\r\n        String name;\r\n        Movie(String type, String name)\r\n        {\r\n            this.type = type;\r\n            this.name = name;\r\n        }\r\n\r\n    public Movie(String type) {\r\n            this.type = type;\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        List&lt;Movie&gt; posts = new ArrayList&lt;&gt;();\r\n        posts.add( new Movie(&quot;HORROR&quot;, &quot;movie1&quot;));\r\n        posts.add( new Movie(&quot;HORROR&quot;, &quot;movie1&quot;));\r\n        posts.add( new Movie(&quot;HORROR&quot;, &quot;movie1&quot;));\r\n        posts.add( new Movie(&quot;COMEDY&quot;, &quot;movie1&quot;));\r\n        posts.add( new Movie(&quot;COMEDY&quot;, &quot;movie2&quot;));\r\n        posts.add( new Movie(&quot;COMEDY&quot;, &quot;movie3&quot;));\r\n        posts.add( new Movie(&quot;COMEDY&quot;, &quot;movie2&quot;));\r\n\r\n\r\n        Map&lt;String, List&lt;Movie&gt;&gt;postsPerType = posts.stream()\r\n            .collect(groupingBy(Movie::getType));\r\n\r\n        postsPerType.forEach((k,v) -&gt; System.out.println(&quot;Key = &quot;\r\n            + k + &quot;, Value = &quot; + v.size()));\r\n\r\n        Map&lt;String, List&lt;Movie&gt;&gt;postsPerName = posts.stream()\r\n            .collect(groupingBy(Movie::getName));\r\n        postsPerName.forEach((k,v) -&gt; System.out.println(&quot;Key = &quot;\r\n            + k + &quot;, Value = &quot; + v.size()));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nKey = HORROR, Value = 3\r\nKey = COMEDY, Value = 4\r\nKey = movie3, Value = 1\r\nKey = movie2, Value = 2\r\nKey = movie1, Value = 4\r\n```","title":"Java Stream API - Group by items of an object&#39;s inner list","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport static java.util.stream.Collectors.groupingBy;\n\n\nclass Movie {\n        String type;\n        String name;\n        Movie(String type, String name)\n        {\n            this.type = type;\n            this.name = name;\n        }\n\n    public Movie(String type) {\n            this.type = type;\n    }\n\n    public String getType() {\n        return type;\n    }\n    public String getName()\n    {\n        return name;\n    }\n\n    public static void main(String... args) {\n        List&lt;Movie&gt; posts = new ArrayList&lt;&gt;();\n        posts.add( new Movie(&quot;HORROR&quot;, &quot;movie1&quot;));\n        posts.add( new Movie(&quot;HORROR&quot;, &quot;movie1&quot;));\n        posts.add( new Movie(&quot;HORROR&quot;, &quot;movie1&quot;));\n        posts.add( new Movie(&quot;COMEDY&quot;, &quot;movie1&quot;));\n        posts.add( new Movie(&quot;COMEDY&quot;, &quot;movie2&quot;));\n        posts.add( new Movie(&quot;COMEDY&quot;, &quot;movie3&quot;));\n        posts.add( new Movie(&quot;COMEDY&quot;, &quot;movie2&quot;));\n\n\n        Map&lt;String, List&lt;Movie&gt;&gt;postsPerType = posts.stream()\n            .collect(groupingBy(Movie::getType));\n\n        postsPerType.forEach((k,v) -&gt; System.out.println(&quot;Key = &quot;\n            + k + &quot;, Value = &quot; + v.size()));\n\n        Map&lt;String, List&lt;Movie&gt;&gt;postsPerName = posts.stream()\n            .collect(groupingBy(Movie::getName));\n        postsPerName.forEach((k,v) -&gt; System.out.println(&quot;Key = &quot;\n            + k + &quot;, Value = &quot; + v.size()));\n\n    }\n}\n\n</code></pre>\n<pre><code>Key = HORROR, Value = 3\nKey = COMEDY, Value = 4\nKey = movie3, Value = 1\nKey = movie2, Value = 2\nKey = movie1, Value = 4\n</code></pre>\n"}],"owner":{"account_id":2006296,"reputation":992,"user_id":1796101,"accept_rate":86,"display_name":"Pedro Estev&#227;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69791178,"answer_count":3,"score":2,"last_activity_date":1635726111,"creation_date":1635719098,"question_id":69791045,"body_markdown":"Is there a way to achieve the following example code, leveraging Java Stream API rather than having to create a `HashMap` and populate it inside double `forEach`es? I was trying to play around with `groupingBy` and `flatMap` but couldn&#39;t find a way out.\r\n\r\nHaving a list of Movies, where each one has a list of genres (Strings)...\r\n\r\n```\r\nclass Movie {\r\n    List&lt;String&gt; genres;\r\n}\r\n```\r\n```\r\nList&lt;Movie&gt; movies = new ArrayList&lt;&gt;();\r\n```\r\n\r\n...I want to group all the movies by genre\r\n\r\n```\r\nMap&lt;String, List&lt;Movie&gt;&gt; moviesByGenre = new HashMap();\r\nmovies.stream()\r\n        .forEach(movie -&gt; movie.getGenres()\r\n                .stream()\r\n                .forEach(genre -&gt; moviesByGenre\r\n                        .computeIfAbsent(genre, k -&gt; new ArrayList&lt;&gt;())\r\n                        .add(movie)));","title":"Java Stream API - Group by items of an object&#39;s inner list","body":"<p>Is there a way to achieve the following example code, leveraging Java Stream API rather than having to create a <code>HashMap</code> and populate it inside double <code>forEach</code>es? I was trying to play around with <code>groupingBy</code> and <code>flatMap</code> but couldn't find a way out.</p>\n<p>Having a list of Movies, where each one has a list of genres (Strings)...</p>\n<pre><code>class Movie {\n    List&lt;String&gt; genres;\n}\n</code></pre>\n<pre><code>List&lt;Movie&gt; movies = new ArrayList&lt;&gt;();\n</code></pre>\n<p>...I want to group all the movies by genre</p>\n<pre><code>Map&lt;String, List&lt;Movie&gt;&gt; moviesByGenre = new HashMap();\nmovies.stream()\n        .forEach(movie -&gt; movie.getGenres()\n                .stream()\n                .forEach(genre -&gt; moviesByGenre\n                        .computeIfAbsent(genre, k -&gt; new ArrayList&lt;&gt;())\n                        .add(movie)));\n</code></pre>\n"},{"tags":["java","android-snackbar"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635725398,"creation_date":1635725398,"answer_id":69791537,"question_id":69791482,"body_markdown":"You never call new on any Activity.  That will not correctly initialize it.  The only way to correctly initialize an Activity is for the framework to do it, which happens when startActivity is called with the proper Intent.\r\n\r\nYou wouldn&#39;t make a Snackbar from on Activity accessible in any other Activity.  Because that Snackbar is only visible when the Activity is in the foreground.  Those other Activities should make their own if they want to show one.\r\n\r\nIf you want another class to change the Snackbar of an Activity, you pass that Snackbar in as a parameter to that class, either in the constructor or in the method you call.  Please note that even if you do save a snackbar from the main activity in some other class and access it later, changing anything in it will have no effect on Snackbars in other activities.  Please also not that you should NEVER save a view in a static variable or try to make it persist longer than the Activity its a part of, as doing so will cause a massive memory leak.","title":"how to make a snackbar accessible from any activity in android?","body":"<p>You never call new on any Activity.  That will not correctly initialize it.  The only way to correctly initialize an Activity is for the framework to do it, which happens when startActivity is called with the proper Intent.</p>\n<p>You wouldn't make a Snackbar from on Activity accessible in any other Activity.  Because that Snackbar is only visible when the Activity is in the foreground.  Those other Activities should make their own if they want to show one.</p>\n<p>If you want another class to change the Snackbar of an Activity, you pass that Snackbar in as a parameter to that class, either in the constructor or in the method you call.  Please note that even if you do save a snackbar from the main activity in some other class and access it later, changing anything in it will have no effect on Snackbars in other activities.  Please also not that you should NEVER save a view in a static variable or try to make it persist longer than the Activity its a part of, as doing so will cause a massive memory leak.</p>\n"}],"owner":{"account_id":20591283,"reputation":135,"user_id":15114844,"display_name":"yamut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635725398,"creation_date":1635724810,"question_id":69791482,"body_markdown":"i have declared below snackbar in main activits and tried to call from another java class  .but it crashed my app with below errors . how can i make a snackbar accessible from any activity or any non activity java classes. \r\n\r\n\r\ni am calling snackbar declared in an activity from another java simple class as below \r\n\r\n    MainActivity main=new MainActivity();\r\n    showSnackbar(&quot;EASY BOSE WE ARE ONLINE &quot;);\r\n\r\nBut it returns this error and crashed my app \r\n   \r\n\r\n&gt;  java.lang.NullPointerException: Attempt to invoke virtual method\r\n&gt; &#39;android.content.pm.ApplicationInfo\r\n&gt; android.content.Context.getApplicationInfo()&#39; on a null object\r\n&gt; reference\r\n\r\n\r\n\r\n    public void showSnackbar(String message){\r\n         View rootView = findViewById(android.R.id.content);\r\n         if(rootView != null) {\r\n             Snackbar.make(rootView, message, Snackbar.LENGTH_LONG).show();\r\n         }\r\n     }\r\n\r\n\r\n","title":"how to make a snackbar accessible from any activity in android?","body":"<p>i have declared below snackbar in main activits and tried to call from another java class  .but it crashed my app with below errors . how can i make a snackbar accessible from any activity or any non activity java classes.</p>\n<p>i am calling snackbar declared in an activity from another java simple class as below</p>\n<pre><code>MainActivity main=new MainActivity();\nshowSnackbar(&quot;EASY BOSE WE ARE ONLINE &quot;);\n</code></pre>\n<p>But it returns this error and crashed my app</p>\n<blockquote>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method\n'android.content.pm.ApplicationInfo\nandroid.content.Context.getApplicationInfo()' on a null object\nreference</p>\n</blockquote>\n<pre><code>public void showSnackbar(String message){\n     View rootView = findViewById(android.R.id.content);\n     if(rootView != null) {\n         Snackbar.make(rootView, message, Snackbar.LENGTH_LONG).show();\n     }\n }\n</code></pre>\n"},{"tags":["java","eclipse","swt","eclipse-luna"],"comments":[{"owner":{"account_id":4398090,"reputation":1218,"user_id":3676217,"accept_rate":57,"display_name":"lschuetze"},"score":0,"creation_date":1427616780,"post_id":29324488,"comment_id":46844031,"body_markdown":"Not an answer to your question but imho you would be better off if you directly download the [Oomph installer](https://eclipse.org/downloads/index-developer.php) and use this one. Would save you lots of time.","body":"Not an answer to your question but imho you would be better off if you directly download the <a href=\"https://eclipse.org/downloads/index-developer.php\" rel=\"nofollow noreferrer\">Oomph installer</a> and use this one. Would save you lots of time."}],"answers":[{"tags":[],"owner":{"account_id":4558321,"reputation":1,"user_id":3701359,"display_name":"user3701359"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463671288,"creation_date":1463671288,"answer_id":37327620,"question_id":29324488,"body_markdown":"Try right-click -&gt; quick fixes -&gt; import org.eclipse.swt.widgets.Shell to your directory","title":"Eclipse SWT Hello world tutorial: Display cannot be resolved to a type","body":"<p>Try right-click -> quick fixes -> import org.eclipse.swt.widgets.Shell to your directory</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571355559,"creation_date":1571355559,"answer_id":58442057,"question_id":29324488,"body_markdown":"I know this is an old post, but I just ran into this issue today and something I thought would be simple to fix took me hours.\r\n\r\nThis is the solution I used.  \r\n\r\nI&#39;m on Windows 10, with the \r\n\r\n&gt; Eclipse J2EE 2019-09-17 R version\r\n\r\n, but the RCP version worked as well.  I tried JAVA JDK 9, 10, 11, and finally \r\n\r\n&gt; JAVA JDK 1.8\r\n\r\n and with this version of SWT: \r\n\r\n&gt; org.eclipse.swt.win32.win32x86_64\r\n\r\n I got it to work.  I brought it in as project dependency only as I had tried adding the jar file as a variable and as an external jar, but nothing worked.\r\n\r\nBelow is a screenshot of it successfully running:\r\n\r\n[![Hello World SWT][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4RXAp.png","title":"Eclipse SWT Hello world tutorial: Display cannot be resolved to a type","body":"<p>I know this is an old post, but I just ran into this issue today and something I thought would be simple to fix took me hours.</p>\n\n<p>This is the solution I used.  </p>\n\n<p>I'm on Windows 10, with the </p>\n\n<blockquote>\n  <p>Eclipse J2EE 2019-09-17 R version</p>\n</blockquote>\n\n<p>, but the RCP version worked as well.  I tried JAVA JDK 9, 10, 11, and finally </p>\n\n<blockquote>\n  <p>JAVA JDK 1.8</p>\n</blockquote>\n\n<p>and with this version of SWT: </p>\n\n<blockquote>\n  <p>org.eclipse.swt.win32.win32x86_64</p>\n</blockquote>\n\n<p>I got it to work.  I brought it in as project dependency only as I had tried adding the jar file as a variable and as an external jar, but nothing worked.</p>\n\n<p>Below is a screenshot of it successfully running:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4RXAp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4RXAp.png\" alt=\"Hello World SWT\"></a></p>\n"},{"tags":[],"owner":{"account_id":2235218,"reputation":11,"user_id":13119575,"display_name":"Sam_Fani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635725195,"creation_date":1635725195,"answer_id":69791520,"question_id":29324488,"body_markdown":"I had the same issue; then I changed Java Compliance level (in Preferences --&gt; Java Compiler) to 1.8 in Preferences and it work.","title":"Eclipse SWT Hello world tutorial: Display cannot be resolved to a type","body":"<p>I had the same issue; then I changed Java Compliance level (in Preferences --&gt; Java Compiler) to 1.8 in Preferences and it work.</p>\n"}],"owner":{"account_id":3124348,"reputation":457,"user_id":2643499,"accept_rate":40,"display_name":"Ian Riley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1635725195,"creation_date":1427590875,"question_id":29324488,"body_markdown":"I just installed Eclipse Luna v 4.4.2. I was running through the tutorials after installing the Java Developer Tools and Plug-in Development Environment packages. The basic HelloWorld program worked fine. However, the SWT version compilation failed with these errors:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\r\n    \r\n    Display cannot be resolved to a type\r\n    \r\n    Shell cannot be resolved to a type\r\n\r\nHere&#39;s what I have done:\r\n\r\n - Installed Eclipse 4.4.2 (Luna) using the software application in Fedora 21\r\n - After realizing that it did not, in fact, come with JDT and PDE as was promised, I installed those packages from the Eclipse Luna Repository using the Eclipse help &gt; install new software.\r\n - Went to File &gt; import &gt; &quot;Plug-in Development&quot; &gt; &quot;Plug-ins and Fragments&quot; and imported org.eclipse.swt.gtk.linux.x86_64 with the following specifications, per the tutorial&#39;s instructions\r\n\r\n  - Import from: The active target platform\r\n  - Plug-ins and Fragments to import: Select from all plug-ins and fragments found at specified location.\r\n  - Import as: Projects with source folders\r\n - Added org.eclipse.swt.gtk.linux.x86_64 to the buildpath of my project\r\n - Right-clicked on the open class file and selected Source &gt; &quot;Organize imports&quot;\r\n\r\nWhen the project wouldn&#39;t compile, I followed the advice of [this post](http://www.eclipse.org/forums/index.php/t/477829/) on the eclipse community forums, and installed all SWT packages from the luna repo with Eclipse&#39;s &quot;install new software&quot; function. I then deleted the project entirely, closed Eclipse, re-opened it, went to a different workspace and tried to do the entire tutorial over again to no avail.\r\n\r\nI then tried to add these import statements to the top of the class file:\r\n\r\n    import org.eclipse.swt.widgets.Display;\r\n    import org.eclipse.swt.widgets.Shell;\r\n\r\nBut Eclipse said that the package org.eclipse could not be resolved. However, the package was available to me in the package explorer, so I looked for the class files in the import statements. When I opened org.eclipse.swt.widgets.Display, it displayed this message at the top:\r\n\r\n&gt; There is no source file attached to the file Display.class\r\n\r\nIt seems like this is probably the source (no pun intended) of my problem. I didn&#39;t find anything helpful in further google searches. Any help getting this to compile and understanding why there are no source files attached to the class files is greatly appreciated.\r\n\r\nThanks.","title":"Eclipse SWT Hello world tutorial: Display cannot be resolved to a type","body":"<p>I just installed Eclipse Luna v 4.4.2. I was running through the tutorials after installing the Java Developer Tools and Plug-in Development Environment packages. The basic HelloWorld program worked fine. However, the SWT version compilation failed with these errors:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.Error: Unresolved compilation problems:\n\nDisplay cannot be resolved to a type\n\nShell cannot be resolved to a type\n</code></pre>\n\n<p>Here's what I have done:</p>\n\n<ul>\n<li>Installed Eclipse 4.4.2 (Luna) using the software application in Fedora 21</li>\n<li>After realizing that it did not, in fact, come with JDT and PDE as was promised, I installed those packages from the Eclipse Luna Repository using the Eclipse help > install new software.</li>\n<li><p>Went to File > import > \"Plug-in Development\" > \"Plug-ins and Fragments\" and imported org.eclipse.swt.gtk.linux.x86_64 with the following specifications, per the tutorial's instructions</p>\n\n<ul>\n<li>Import from: The active target platform</li>\n<li>Plug-ins and Fragments to import: Select from all plug-ins and fragments found at specified location.</li>\n<li>Import as: Projects with source folders</li>\n</ul></li>\n<li>Added org.eclipse.swt.gtk.linux.x86_64 to the buildpath of my project</li>\n<li>Right-clicked on the open class file and selected Source > \"Organize imports\"</li>\n</ul>\n\n<p>When the project wouldn't compile, I followed the advice of <a href=\"http://www.eclipse.org/forums/index.php/t/477829/\" rel=\"nofollow\">this post</a> on the eclipse community forums, and installed all SWT packages from the luna repo with Eclipse's \"install new software\" function. I then deleted the project entirely, closed Eclipse, re-opened it, went to a different workspace and tried to do the entire tutorial over again to no avail.</p>\n\n<p>I then tried to add these import statements to the top of the class file:</p>\n\n<pre><code>import org.eclipse.swt.widgets.Display;\nimport org.eclipse.swt.widgets.Shell;\n</code></pre>\n\n<p>But Eclipse said that the package org.eclipse could not be resolved. However, the package was available to me in the package explorer, so I looked for the class files in the import statements. When I opened org.eclipse.swt.widgets.Display, it displayed this message at the top:</p>\n\n<blockquote>\n  <p>There is no source file attached to the file Display.class</p>\n</blockquote>\n\n<p>It seems like this is probably the source (no pun intended) of my problem. I didn't find anything helpful in further google searches. Any help getting this to compile and understanding why there are no source files attached to the class files is greatly appreciated.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","junit","mockito","spring-kafka"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1635703039,"post_id":69788822,"comment_id":123360347,"body_markdown":"Hope this can help you : https://www.baeldung.com/spring-boot-kafka-testing. Also  no where in your code, you use `Mockito`?","body":"Hope this can help you : <a href=\"https://www.baeldung.com/spring-boot-kafka-testing\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-kafka-testing</a>. Also  no where in your code, you use <code>Mockito</code>?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1635711043,"post_id":69788822,"comment_id":123362208,"body_markdown":"Show your test code, please","body":"Show your test code, please"}],"owner":{"account_id":15631866,"reputation":19,"user_id":11277956,"display_name":"tv2k18"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635724571,"creation_date":1635700085,"question_id":69788822,"body_markdown":"I have a class which has a public method which calls the `kafkatemplate.send()` method as shown below.\r\n\r\nI wrote a test case for this class method but the `kafkaTemplate` is showing as null, so how to test the kafka template and get the value for `futureKafkaResponse`\r\n\r\n```\r\n  public class KafkaProducerService  {\r\n\r\n  \r\n    @Autowired\r\n    private KafkaTemplate&lt;String, ShopResponse&gt; kafkaTemplate;\r\n\r\n    @Value(&quot;${kafka.order.response.topic}&quot;)\r\n    private String kafkaOrderResponseTopic;\r\n\r\n\r\n    public void sendOrderResponseToKafka(OrderResponseHeader orderResponseHeader) {\r\n        ShopResponse shopResponse = createShopResponse(orderResponseHeader);\r\n       \r\n     \r\n   ListenableFuture&lt;SendResult&lt;String, ShopResponse&gt;&gt; futureKafkaResponse = kafkaTemplate.send(kafkaOrderResponseTopic,\r\n                    shopResponse);\r\n\r\n       \r\n    }\r\n```","title":"How to test Kafka Template using Mockito?","body":"<p>I have a class which has a public method which calls the <code>kafkatemplate.send()</code> method as shown below.</p>\n<p>I wrote a test case for this class method but the <code>kafkaTemplate</code> is showing as null, so how to test the kafka template and get the value for <code>futureKafkaResponse</code></p>\n<pre><code>  public class KafkaProducerService  {\n\n  \n    @Autowired\n    private KafkaTemplate&lt;String, ShopResponse&gt; kafkaTemplate;\n\n    @Value(&quot;${kafka.order.response.topic}&quot;)\n    private String kafkaOrderResponseTopic;\n\n\n    public void sendOrderResponseToKafka(OrderResponseHeader orderResponseHeader) {\n        ShopResponse shopResponse = createShopResponse(orderResponseHeader);\n       \n     \n   ListenableFuture&lt;SendResult&lt;String, ShopResponse&gt;&gt; futureKafkaResponse = kafkaTemplate.send(kafkaOrderResponseTopic,\n                    shopResponse);\n\n       \n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8099,"page":1893,"page_size":100}
