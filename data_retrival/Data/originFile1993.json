{"items":[{"tags":["java","json","spring-boot","jackson","deserialization"],"comments":[{"owner":{"account_id":1887489,"reputation":8619,"user_id":4811873,"accept_rate":6,"display_name":"Mike Robinson"},"score":0,"creation_date":1614351964,"post_id":66387794,"comment_id":117367205,"body_markdown":"If you know that the path is `https` protected, you can send secrets without fear of interception.  But it is highly desirable to use an authentication mechanism that does not rely on shared secrets.","body":"If you know that the path is <code>https</code> protected, you can send secrets without fear of interception.  But it is highly desirable to use an authentication mechanism that does not rely on shared secrets."},{"owner":{"account_id":12173928,"reputation":147,"user_id":8887622,"display_name":"Nikhil Dhirmalani"},"score":0,"creation_date":1614352509,"post_id":66387794,"comment_id":117367498,"body_markdown":"I do not have problem with that, the problem is while deserializing the json password string, I want to deserialize as char array or guarded string.","body":"I do not have problem with that, the problem is while deserializing the json password string, I want to deserialize as char array or guarded string."}],"owner":{"account_id":12173928,"reputation":147,"user_id":8887622,"display_name":"Nikhil Dhirmalani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1632764677,"creation_date":1614350437,"question_id":66387794,"body_markdown":"I have a post rest api in spring boot. I am sending the password string in json payload for this api. While deserializing using jackson, I am using the String field in Request Dto class. Since, it is not secure I would like to know if there is way to deserialize the password string in json to guarded string implementation. \r\nGuarded String Url : https://docs.oracle.com/html/E28160_01/org/identityconnectors/common/security/GuardedString.html\r\n\r\nOr is. there a way to deserialize the string json to char array using jackson annotations.\r\n\r\n\r\n\r\n ","title":"Deserialize password string in json to Guarded String","body":"<p>I have a post rest api in spring boot. I am sending the password string in json payload for this api. While deserializing using jackson, I am using the String field in Request Dto class. Since, it is not secure I would like to know if there is way to deserialize the password string in json to guarded string implementation.\nGuarded String Url : <a href=\"https://docs.oracle.com/html/E28160_01/org/identityconnectors/common/security/GuardedString.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/html/E28160_01/org/identityconnectors/common/security/GuardedString.html</a></p>\n<p>Or is. there a way to deserialize the string json to char array using jackson annotations.</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":2,"creation_date":1632764273,"post_id":69350802,"comment_id":122576186,"body_markdown":"I have no experience with opencsv, but this one talks to me  - `ICSVWriter.NO_QUOTE_CHARACTER`.","body":"I have no experience with opencsv, but this one talks to me  - <code>ICSVWriter.NO_QUOTE_CHARACTER</code>."}],"answers":[{"tags":[],"owner":{"account_id":12375458,"reputation":640,"user_id":9023547,"display_name":"Chandan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632764524,"creation_date":1632764524,"answer_id":69351080,"question_id":69350802,"body_markdown":"Everything looks good except the `ICSVWriter.NO_QUOTE_CHARACTER`. By passing `NO_QUOTE_CHARACTER` as the parameter you are asking OpenCSV to consider quotes as regular text in the file and that is what it is doing.\r\n\r\nIf you are confident that double quotes are going to be your quote character, you can change it to `ICSVWriter.DEFAULT_QUOTE_CHARACTER`\r\n\r\nFinally your snippet looks like below:\r\n\r\n    try (Writer fileWriter = Files.newBufferedWriter(Paths.get(filePath))) {\r\n\r\n      CSVWriter csvWriter =\r\n          new CSVWriter(\r\n              fileWriter,\r\n              ICSVWriter.DEFAULT_SEPARATOR,\r\n              ICSVWriter.DEFAULT_QUOTE_CHARACTER,\r\n              ICSVWriter.DEFAULT_ESCAPE_CHARACTER,\r\n              ICSVWriter.DEFAULT_LINE_END);\r\n      csvWriter.writeNext(headers);\r\n      csvWriter.writeAll(rows);\r\n    } catch (IOException e) {\r\n      throw new IOException(e);\r\n    }","title":"OpenCSV fields with commas","body":"<p>Everything looks good except the <code>ICSVWriter.NO_QUOTE_CHARACTER</code>. By passing <code>NO_QUOTE_CHARACTER</code> as the parameter you are asking OpenCSV to consider quotes as regular text in the file and that is what it is doing.</p>\n<p>If you are confident that double quotes are going to be your quote character, you can change it to <code>ICSVWriter.DEFAULT_QUOTE_CHARACTER</code></p>\n<p>Finally your snippet looks like below:</p>\n<pre><code>try (Writer fileWriter = Files.newBufferedWriter(Paths.get(filePath))) {\n\n  CSVWriter csvWriter =\n      new CSVWriter(\n          fileWriter,\n          ICSVWriter.DEFAULT_SEPARATOR,\n          ICSVWriter.DEFAULT_QUOTE_CHARACTER,\n          ICSVWriter.DEFAULT_ESCAPE_CHARACTER,\n          ICSVWriter.DEFAULT_LINE_END);\n  csvWriter.writeNext(headers);\n  csvWriter.writeAll(rows);\n} catch (IOException e) {\n  throw new IOException(e);\n}\n</code></pre>\n"}],"owner":{"account_id":3085397,"reputation":2842,"user_id":2612651,"accept_rate":78,"display_name":"nerdlyist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1086,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69351080,"answer_count":1,"score":0,"last_activity_date":1632764524,"creation_date":1632763185,"question_id":69350802,"body_markdown":"I am creating a csv where fields may include commas. In java the writing is done with opencsv. \r\n\r\n````\r\ntry (Writer fileWriter = Files.newBufferedWriter(Paths.get(filePath))) {\r\n\r\n      CSVWriter csvWriter =\r\n          new CSVWriter(\r\n              fileWriter,\r\n              ICSVWriter.DEFAULT_SEPARATOR,\r\n              ICSVWriter.NO_QUOTE_CHARACTER,\r\n              ICSVWriter.DEFAULT_ESCAPE_CHARACTER,\r\n              ICSVWriter.DEFAULT_LINE_END);\r\n      csvWriter.writeNext(headers);\r\n      csvWriter.writeAll(rows);\r\n    } catch (IOException e) {\r\n      throw new IOException(e);\r\n    }\r\n\r\n````\r\n\r\nSo taking field like `[&quot;field, 1&quot;, &quot;field, 2&quot;, &quot;field, 3&quot;]` I would expect to get a column with `&quot;field, 1&quot;, &quot;field, 2&quot;, &quot;field, 3&quot;` but I am getting `field&quot;, 1,field&quot;, 2,field&quot;, 3` .\r\n\r\nIn the actual the commas are gone when opening in excel and for expected the quotes would not be shown. I am not seeing any docs for this on opencsv.\r\n\r\n\r\n\r\n","title":"OpenCSV fields with commas","body":"<p>I am creating a csv where fields may include commas. In java the writing is done with opencsv.</p>\n<pre><code>try (Writer fileWriter = Files.newBufferedWriter(Paths.get(filePath))) {\n\n      CSVWriter csvWriter =\n          new CSVWriter(\n              fileWriter,\n              ICSVWriter.DEFAULT_SEPARATOR,\n              ICSVWriter.NO_QUOTE_CHARACTER,\n              ICSVWriter.DEFAULT_ESCAPE_CHARACTER,\n              ICSVWriter.DEFAULT_LINE_END);\n      csvWriter.writeNext(headers);\n      csvWriter.writeAll(rows);\n    } catch (IOException e) {\n      throw new IOException(e);\n    }\n\n</code></pre>\n<p>So taking field like <code>[&quot;field, 1&quot;, &quot;field, 2&quot;, &quot;field, 3&quot;]</code> I would expect to get a column with <code>&quot;field, 1&quot;, &quot;field, 2&quot;, &quot;field, 3&quot;</code> but I am getting <code>field&quot;, 1,field&quot;, 2,field&quot;, 3</code> .</p>\n<p>In the actual the commas are gone when opening in excel and for expected the quotes would not be shown. I am not seeing any docs for this on opencsv.</p>\n"},{"tags":["java","performance","http","jmeter"],"answers":[{"tags":[],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632763936,"creation_date":1632763936,"answer_id":69350952,"question_id":69350011,"body_markdown":"I was missing dependency of functions:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ApacheJMeter_functions&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter adding this to class path the function got recognized","title":"JMeter Java Test - ${__UUID()} function in JSON doesn&#39;t work","body":"<p>I was missing dependency of functions:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n    &lt;artifactId&gt;ApacheJMeter_functions&lt;/artifactId&gt;\n    &lt;version&gt;5.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After adding this to class path the function got recognized</p>\n"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632763936,"creation_date":1632759575,"question_id":69350011,"body_markdown":"The task:\r\nI need to perform a post request to an endpoint.\r\nRequest body type is JSON:\r\n\r\n    {\r\n       &quot;id&quot;: &quot;${__UUID()}&quot;\r\n    }\r\n\r\nI want to simulate 10 users that each will send a payload with unique &quot;id&quot; field generated.\r\n\r\nFrom JMeter GUI it works as expected, but from Java Code it seems not to be recognized and reads it like a simple string or so.\r\n\r\nHere is the Java Code:\r\n\r\n    public JMeterClient httpSamplerProxy(String name, String endpoint, String payload, String httpMethod) {\r\n        Arguments arguments = new Arguments();\r\n        HTTPArgument httpArgument = new HTTPArgument();\r\n        httpArgument.setMetaData(&quot;=&quot;);\r\n        httpArgument.setValue(payload);\r\n        List&lt;Argument&gt; args = new ArrayList&lt;&gt;();\r\n        args.add(httpArgument);\r\n        arguments.setArguments(args);\r\n\r\n        HTTPSamplerProxy httpSamplerProxy = new HTTPSamplerProxy();\r\n        httpSamplerProxy.setProperty(TestElement.TEST_CLASS, HTTPSamplerProxy.class.getName());\r\n        httpSamplerProxy.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\r\n        httpSamplerProxy.setName(name);\r\n        httpSamplerProxy.setEnabled(true);\r\n        httpSamplerProxy.setPostBodyRaw(true);\r\n        httpSamplerProxy.setFollowRedirects(true);\r\n        httpSamplerProxy.setAutoRedirects(false);\r\n        httpSamplerProxy.setUseKeepAlive(true);\r\n        httpSamplerProxy.setDoMultipart(false);\r\n        httpSamplerProxy.setPath(endpoint);\r\n        httpSamplerProxy.setMethod(httpMethod);\r\n        httpSamplerProxy.setArguments(arguments);\r\n        httpSamplerProxies.add(httpSamplerProxy);\r\n\r\n        return this;\r\n    }\r\n\r\nwhere **payload** is a json in a string representative.\r\n\r\nI Use JMeter 5.4.1\r\n\r\nBesides that I need this to work, how can I enable logging of Post Body in Java to see it in console?","title":"JMeter Java Test - ${__UUID()} function in JSON doesn&#39;t work","body":"<p>The task:\nI need to perform a post request to an endpoint.\nRequest body type is JSON:</p>\n<pre><code>{\n   &quot;id&quot;: &quot;${__UUID()}&quot;\n}\n</code></pre>\n<p>I want to simulate 10 users that each will send a payload with unique &quot;id&quot; field generated.</p>\n<p>From JMeter GUI it works as expected, but from Java Code it seems not to be recognized and reads it like a simple string or so.</p>\n<p>Here is the Java Code:</p>\n<pre><code>public JMeterClient httpSamplerProxy(String name, String endpoint, String payload, String httpMethod) {\n    Arguments arguments = new Arguments();\n    HTTPArgument httpArgument = new HTTPArgument();\n    httpArgument.setMetaData(&quot;=&quot;);\n    httpArgument.setValue(payload);\n    List&lt;Argument&gt; args = new ArrayList&lt;&gt;();\n    args.add(httpArgument);\n    arguments.setArguments(args);\n\n    HTTPSamplerProxy httpSamplerProxy = new HTTPSamplerProxy();\n    httpSamplerProxy.setProperty(TestElement.TEST_CLASS, HTTPSamplerProxy.class.getName());\n    httpSamplerProxy.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\n    httpSamplerProxy.setName(name);\n    httpSamplerProxy.setEnabled(true);\n    httpSamplerProxy.setPostBodyRaw(true);\n    httpSamplerProxy.setFollowRedirects(true);\n    httpSamplerProxy.setAutoRedirects(false);\n    httpSamplerProxy.setUseKeepAlive(true);\n    httpSamplerProxy.setDoMultipart(false);\n    httpSamplerProxy.setPath(endpoint);\n    httpSamplerProxy.setMethod(httpMethod);\n    httpSamplerProxy.setArguments(arguments);\n    httpSamplerProxies.add(httpSamplerProxy);\n\n    return this;\n}\n</code></pre>\n<p>where <strong>payload</strong> is a json in a string representative.</p>\n<p>I Use JMeter 5.4.1</p>\n<p>Besides that I need this to work, how can I enable logging of Post Body in Java to see it in console?</p>\n"},{"tags":["java","exception","nullpointerexception","informix"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1632758419,"post_id":69349569,"comment_id":122573917,"body_markdown":"Are you sure that there are no null values at that point in the table?","body":"Are you sure that there are no null values at that point in the table?"},{"owner":{"display_name":"user2711811"},"score":1,"creation_date":1632760050,"post_id":69349569,"comment_id":122574537,"body_markdown":"Post the entire exception stack trace as that is very useful in determining cause.","body":"Post the entire exception stack trace as that is very useful in determining cause."},{"owner":{"account_id":1092901,"reputation":25,"user_id":1087145,"display_name":"user1087145"},"score":0,"creation_date":1632763155,"post_id":69349569,"comment_id":122575743,"body_markdown":"If there are null values ,it should not fetch the values via CLI right. But it fetches the record without any issues via CLI dbaccess","body":"If there are null values ,it should not fetch the values via CLI right. But it fetches the record without any issues via CLI dbaccess"},{"owner":{"account_id":1092901,"reputation":25,"user_id":1087145,"display_name":"user1087145"},"score":0,"creation_date":1632763508,"post_id":69349569,"comment_id":122575890,"body_markdown":"@Andy :Unable to Execute Query:Could not open database table (root.tablename).Stack Trace::[Ljava.lang.StackTraceElement;@f7f540 (Query:  select  * from  tablename  where x=12680 order by y)","body":"@Andy :Unable to Execute Query:Could not open database table (root.tablename).Stack Trace::[Ljava.lang.StackTraceElement;@f7f540 (Query:  select  * from  tablename  where x=12680 order by y)"},{"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"score":0,"creation_date":1632808571,"post_id":69349569,"comment_id":122585973,"body_markdown":"I would check if it is a problem with the data in one of the column. Is it ok when you `select column1, column2, ... columnN from tablename where x=12680` instead of `select *`? If not, then try to find if you can `select column1 from tablename where x=12680` then `select column2 from tablename where x=12680` etc. etc.","body":"I would check if it is a problem with the data in one of the column. Is it ok when you <code>select column1, column2, ... columnN from tablename where x=12680</code> instead of <code>select *</code>? If not, then try to find if you can <code>select column1 from tablename where x=12680</code> then <code>select column2 from tablename where x=12680</code> etc. etc."},{"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"score":0,"creation_date":1632810800,"post_id":69349569,"comment_id":122586561,"body_markdown":"Can you show us your Informix and JDBC driver version?","body":"Can you show us your Informix and JDBC driver version?"},{"owner":{"account_id":1092901,"reputation":25,"user_id":1087145,"display_name":"user1087145"},"score":0,"creation_date":1632811947,"post_id":69349569,"comment_id":122586940,"body_markdown":"@MichałNiklas : Tried with  select column1,column2 ...columnN from tablename where x =12680 -&gt; still facing the same issue","body":"@MichałNiklas : Tried with  select column1,column2 ...columnN from tablename where x =12680 -&gt; still facing the same issue"},{"owner":{"account_id":1092901,"reputation":25,"user_id":1087145,"display_name":"user1087145"},"score":0,"creation_date":1632812053,"post_id":69349569,"comment_id":122586985,"body_markdown":"@MichalNiklas - Informix server version 11.50.FC5","body":"@MichalNiklas - Informix server version 11.50.FC5"},{"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"score":0,"creation_date":1632817293,"post_id":69349569,"comment_id":122589038,"body_markdown":"What if you select just one column? Test it with 1st and 2nd column. What version of JDBC driver do you use? Can you select this row using ODBC or other technology?","body":"What if you select just one column? Test it with 1st and 2nd column. What version of JDBC driver do you use? Can you select this row using ODBC or other technology?"},{"owner":{"account_id":10532082,"reputation":1978,"user_id":7761106,"display_name":"jsagrera"},"score":0,"creation_date":1632818262,"post_id":69349569,"comment_id":122589448,"body_markdown":"You mentioned you are using a prepared statement, I guess you are not using that from dbacces (you could if you write an SPL to do the fetch)  so both &#39;runs&#39; (dbaccess/jdbc) would differ.\nThe text &quot;Could not open database table&quot; correspond to error -242. That looks like an error coming from the server (not originated on the client).  The ISAM error should give you more clues about why, but you need to catch the exception and show the errors numbers.\nMaybe trapping the error with &quot;onmode -I 242&quot; can give you more info (server side). (onmode -I to disable it) will generate an AF.","body":"You mentioned you are using a prepared statement, I guess you are not using that from dbacces (you could if you write an SPL to do the fetch)  so both &#39;runs&#39; (dbaccess/jdbc) would differ. The text &quot;Could not open database table&quot; correspond to error -242. That looks like an error coming from the server (not originated on the client).  The ISAM error should give you more clues about why, but you need to catch the exception and show the errors numbers. Maybe trapping the error with &quot;onmode -I 242&quot; can give you more info (server side). (onmode -I to disable it) will generate an AF."},{"owner":{"account_id":10532082,"reputation":1978,"user_id":7761106,"display_name":"jsagrera"},"score":0,"creation_date":1632818916,"post_id":69349569,"comment_id":122589696,"body_markdown":"Does that table has any indexes? Try the forcing going through the index or with a full scan to see if it makes any difference.  Something like &quot;select {+FULL(t1)} count(c1) from t1 where c1=123&quot; or &quot;select {+AVOID_FULL(t1)} count(c1) from t1 where c1=123&quot; but with your table.","body":"Does that table has any indexes? Try the forcing going through the index or with a full scan to see if it makes any difference.  Something like &quot;select {+FULL(t1)} count(c1) from t1 where c1=123&quot; or &quot;select {+AVOID_FULL(t1)} count(c1) from t1 where c1=123&quot; but with your table."},{"owner":{"account_id":1092901,"reputation":25,"user_id":1087145,"display_name":"user1087145"},"score":0,"creation_date":1633411457,"post_id":69349569,"comment_id":122745333,"body_markdown":"@MichałNiklas:                                                                                                               # java -version\njava version &quot;1.5.0_51&quot;\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_51-b10)\nJava HotSpot(TM) Server VM (build 1.5.0_51-b10, mixed mode)\n\nbash-3.2# java com.informix.jdbc.Version\nIBM Informix JDBC Driver Version 3.00.JC2\n\nIBM Informix Dynamic Server Version 11.50.FC5","body":"@MichałNiklas:                                                                                                               # java -version java version &quot;1.5.0_51&quot; Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_51-b10) Java HotSpot(TM) Server VM (build 1.5.0_51-b10, mixed mode)  bash-3.2# java com.informix.jdbc.Version IBM Informix JDBC Driver Version 3.00.JC2  IBM Informix Dynamic Server Version 11.50.FC5"},{"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"score":0,"creation_date":1633496668,"post_id":69349569,"comment_id":122771634,"body_markdown":"It is a very old environment. Can you try it with the newest Informix JDBC driver available on https://mvnrepository.com/artifact/com.ibm.informix/jdbc and with new Java?","body":"It is a very old environment. Can you try it with the newest Informix JDBC driver available on <a href=\"https://mvnrepository.com/artifact/com.ibm.informix/jdbc\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.ibm.informix/jdbc</a> and with new Java?"}],"owner":{"account_id":1092901,"reputation":25,"user_id":1087145,"display_name":"user1087145"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632763704,"creation_date":1632757727,"question_id":69349569,"body_markdown":"**Issue:**\r\n          In DB, Have around 20000 records and I&#39;m trying to generate the report of all the records via UI ,it fetches the records available in db till 12679th record . When it tries to generate the records for 12680th one, Observing the below mentioned error in the UI page. As a result, observing java null pointer exception issue.   \r\n     \r\n    \r\n\r\n Note: Handled the code to fetch around 30000 records via preparedStatement object(setMaxRows)\r\n      \r\n       \r\n \r\n\r\n**Errors Observed:**\r\n    \r\n   \r\n\r\n Unable to Execute Query:**Could not open database table**(root.tablename). \r\n\r\nselect  * from tablename a where x=12680 order by y;\r\n\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n    \r\nAnd it has been observed due to this piece of code\r\n    s1 is the select query which we are parsing as an argument to the prepareStatement.\r\n    pStmt is nothing but the preparedStatement object.\r\n    dbCon is connection object\r\n    Looped through the query for each records one by one \r\n\r\n  \r\n\r\n   \r\n     \r\n\r\n      private Connection dbCon;\r\n      PreparedStatement pStmt = null;    \r\n    \r\n       try {\r\n                  pStmt = dbCon.prepareStatement (s1);\r\n                  try {\r\n                             pStmt.setMaxRows(30000);\r\n                             rs = pStmt.executeQuery ();\r\n                  } catch (Exception e) {\r\n                            System.out.println (&quot;\\nUnable to Execute Query:&quot; + e.getMessage() +&quot;Stack Trace::&quot;+e.getStackTrace() + &quot; (Query: &quot; + s1 + &quot;)\\n&quot;);\r\n                  }\r\n      } catch (Exception e) {\r\n                  System.out.println (&quot;\\nUnable to Prepare Query:&quot; + e.getMessage() + &quot; (Query: &quot; + s1 + &quot;)\\n&quot;);\r\n        }\r\n\r\n   \r\n\r\n When we execute the select query command for 12680th record via CLI informix db access, the query seems to be working fine and it fetches the record without any issues.\r\n\r\n   It looks like a java issue because if its a db issue ,it should not allow us to fetch the query results via CLI but it allows us to fetch without any issues via  informix db access.\r\n\r\nGot struct at this point on how to solve this java exception issue?\r\n\r\nCould someone guide me to proceed further on this activity to fix the issue?\r\n\r\n**Expectation:**\r\n   Need to capture all the 20000 records\r\n\r\n\r\n\r\n","title":"Observing Java Null pointer exception issue when we try to fetch the records from Informix db","body":"<p><strong>Issue:</strong>\nIn DB, Have around 20000 records and I'm trying to generate the report of all the records via UI ,it fetches the records available in db till 12679th record . When it tries to generate the records for 12680th one, Observing the below mentioned error in the UI page. As a result, observing java null pointer exception issue.</p>\n<p>Note: Handled the code to fetch around 30000 records via preparedStatement object(setMaxRows)</p>\n<p><strong>Errors Observed:</strong></p>\n<p>Unable to Execute Query:<strong>Could not open database table</strong>(root.tablename).</p>\n<p>select  * from tablename a where x=12680 order by y;</p>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException</p>\n<p>And it has been observed due to this piece of code\ns1 is the select query which we are parsing as an argument to the prepareStatement.\npStmt is nothing but the preparedStatement object.\ndbCon is connection object\nLooped through the query for each records one by one</p>\n<pre><code>  private Connection dbCon;\n  PreparedStatement pStmt = null;    \n\n   try {\n              pStmt = dbCon.prepareStatement (s1);\n              try {\n                         pStmt.setMaxRows(30000);\n                         rs = pStmt.executeQuery ();\n              } catch (Exception e) {\n                        System.out.println (&quot;\\nUnable to Execute Query:&quot; + e.getMessage() +&quot;Stack Trace::&quot;+e.getStackTrace() + &quot; (Query: &quot; + s1 + &quot;)\\n&quot;);\n              }\n  } catch (Exception e) {\n              System.out.println (&quot;\\nUnable to Prepare Query:&quot; + e.getMessage() + &quot; (Query: &quot; + s1 + &quot;)\\n&quot;);\n    }\n</code></pre>\n<p>When we execute the select query command for 12680th record via CLI informix db access, the query seems to be working fine and it fetches the record without any issues.</p>\n<p>It looks like a java issue because if its a db issue ,it should not allow us to fetch the query results via CLI but it allows us to fetch without any issues via  informix db access.</p>\n<p>Got struct at this point on how to solve this java exception issue?</p>\n<p>Could someone guide me to proceed further on this activity to fix the issue?</p>\n<p><strong>Expectation:</strong>\nNeed to capture all the 20000 records</p>\n"},{"tags":["java","localtime"],"comments":[{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1632761547,"post_id":69350384,"comment_id":122575121,"body_markdown":"Check out `LocalTime.parse`.","body":"Check out <code>LocalTime.parse</code>."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632761560,"post_id":69350384,"comment_id":122575125,"body_markdown":"It is unclear what you&#39;re asking. Have you looked at the JavaDoc? What have you tried. [`LocalTime.parse(CharSequence)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html#parse(java.lang.CharSequence)) seems like a prime candidate. As an aside, using `LinkedList` almost never makes sense, an `ArrayList` almost always performs better and has significantly less memory overhead.","body":"It is unclear what you&#39;re asking. Have you looked at the JavaDoc? What have you tried. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>LocalTime.parse(CharSequence)</code></a> seems like a prime candidate. As an aside, using <code>LinkedList</code> almost never makes sense, an <code>ArrayList</code> almost always performs better and has significantly less memory overhead."},{"owner":{"account_id":14685401,"reputation":25,"user_id":10605553,"display_name":"CoolHands"},"score":0,"creation_date":1632761923,"post_id":69350384,"comment_id":122575265,"body_markdown":"Yes, I missed that parse function, that fixed my issue and my isBefore method works as intended. And noted, I will switch to Arraylists and do some research into that, Thanks!","body":"Yes, I missed that parse function, that fixed my issue and my isBefore method works as intended. And noted, I will switch to Arraylists and do some research into that, Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":929792,"reputation":3142,"user_id":959876,"display_name":"moldovean"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632762793,"creation_date":1632762793,"answer_id":69350718,"question_id":69350384,"body_markdown":"In order to parse time, use `LocalTime` from Java 8. If your format is `HH:MM:SS` you can use:\r\n\r\n        String timeString = &quot;11:10:33&quot;;\r\n        LocalTime iaka = LocalTime.parse(timeString, \r\n        DateTimeFormatter.ISO_LOCAL_TIME);\r\n\r\n`ISO_LOCAL_TIME` is provided by Java.\r\nIf however your time is NOT an ISO standard, let&#39;s say you need to parse: &quot;hours-minutes:seconds.milis&quot; then you will need to create your own formatter and pass it to `LocalTime.parse`: \r\n\r\n        String timeString2 = &quot;11-10:33.223&quot;;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH-mm:ss.nnn&quot;);\r\n        System.out.println(LocalTime.parse(timeString2, formatter));\r\n\r\nFor more info, on how to make your own custom `DateTimeFormatter.ofPattern` take a look at the official java docs: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n\r\n\r\n","title":"Java compare times without dates using LocalTime class","body":"<p>In order to parse time, use <code>LocalTime</code> from Java 8. If your format is <code>HH:MM:SS</code> you can use:</p>\n<pre><code>    String timeString = &quot;11:10:33&quot;;\n    LocalTime iaka = LocalTime.parse(timeString, \n    DateTimeFormatter.ISO_LOCAL_TIME);\n</code></pre>\n<p><code>ISO_LOCAL_TIME</code> is provided by Java.\nIf however your time is NOT an ISO standard, let's say you need to parse: &quot;hours-minutes:seconds.milis&quot; then you will need to create your own formatter and pass it to <code>LocalTime.parse</code>:</p>\n<pre><code>    String timeString2 = &quot;11-10:33.223&quot;;\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH-mm:ss.nnn&quot;);\n    System.out.println(LocalTime.parse(timeString2, formatter));\n</code></pre>\n<p>For more info, on how to make your own custom <code>DateTimeFormatter.ofPattern</code> take a look at the official java docs: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a></p>\n"}],"owner":{"account_id":14685401,"reputation":25,"user_id":10605553,"display_name":"CoolHands"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69350718,"answer_count":1,"score":1,"last_activity_date":1632762793,"creation_date":1632761169,"question_id":69350384,"body_markdown":"I am taking a CSV file of delivery times (unordered) and I need to sort them by time to use the data. \r\n\r\nI am storing the necessary info in a LinkedList in my roadDataToBeSorted data structure which consists of 3 strings: rdName, rdZipCode, and rdDeliveryTime. My research so far says to use the LocalTime class since my time format in rdDeliveryTime is HH:MM:SS. \r\n\r\nI&#39;m not sure how I can turn my string into a LocalTime object I can then use the .isBefore() function to order my data.\r\n```\r\nfor (int i = 0; i &lt; stopOrderByDeliveryTime.size() - 1; i++) {\r\n   if (LocalTime(stopOrderByDeliveryTime.get(i).rdDeliveryTime).isBefore(LocalTime(stopOrderByDeliveryTime.get(i+1).rdDeliveryTime))) {\r\n      // add element at index (it is earlier than later elements)\r\n   } else {\r\n      // add element to end since it is later than all prior elements\r\n   }\r\n}","title":"Java compare times without dates using LocalTime class","body":"<p>I am taking a CSV file of delivery times (unordered) and I need to sort them by time to use the data.</p>\n<p>I am storing the necessary info in a LinkedList in my roadDataToBeSorted data structure which consists of 3 strings: rdName, rdZipCode, and rdDeliveryTime. My research so far says to use the LocalTime class since my time format in rdDeliveryTime is HH:MM:SS.</p>\n<p>I'm not sure how I can turn my string into a LocalTime object I can then use the .isBefore() function to order my data.</p>\n<pre><code>for (int i = 0; i &lt; stopOrderByDeliveryTime.size() - 1; i++) {\n   if (LocalTime(stopOrderByDeliveryTime.get(i).rdDeliveryTime).isBefore(LocalTime(stopOrderByDeliveryTime.get(i+1).rdDeliveryTime))) {\n      // add element at index (it is earlier than later elements)\n   } else {\n      // add element to end since it is later than all prior elements\n   }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13833972,"reputation":3,"user_id":9986038,"display_name":"JustSomeRandomDoomerDude"},"score":0,"creation_date":1632759399,"post_id":69349726,"comment_id":122574281,"body_markdown":"fixed the spelling but unfortunately didn&#39;t made any change.tried the suggestions on that post but they didn&#39;t made any difference either.","body":"fixed the spelling but unfortunately didn&#39;t made any change.tried the suggestions on that post but they didn&#39;t made any difference either."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1632759951,"post_id":69349726,"comment_id":122574494,"body_markdown":"Have you downvoted my answer?","body":"Have you downvoted my answer?"},{"owner":{"account_id":13833972,"reputation":3,"user_id":9986038,"display_name":"JustSomeRandomDoomerDude"},"score":0,"creation_date":1632760180,"post_id":69349726,"comment_id":122574586,"body_markdown":"no i didn&#39;t.someone even down voted the original question.","body":"no i didn&#39;t.someone even down voted the original question."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1632760277,"post_id":69349726,"comment_id":122574633,"body_markdown":"I see, updated the code check it out!","body":"I see, updated the code check it out!"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":1,"creation_date":1632760458,"post_id":69349726,"comment_id":122574704,"body_markdown":"I recommend you that you use Android Studio while coding. Its intellisense feature helps developers a lot for code completion. It makes things much easier and helps write less error prone code especially while coding the APIs.","body":"I recommend you that you use Android Studio while coding. Its intellisense feature helps developers a lot for code completion. It makes things much easier and helps write less error prone code especially while coding the APIs."},{"owner":{"account_id":13833972,"reputation":3,"user_id":9986038,"display_name":"JustSomeRandomDoomerDude"},"score":0,"creation_date":1632760847,"post_id":69349726,"comment_id":122574858,"body_markdown":"i&#39;m using it i just don&#39;t understand why for the original maker of the video these errors didn&#39;t show up . i did everything exactly like him.","body":"i&#39;m using it i just don&#39;t understand why for the original maker of the video these errors didn&#39;t show up . i did everything exactly like him."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1632761618,"post_id":69349726,"comment_id":122575145,"body_markdown":"Consider adding the whole source code that includes this piece of code.","body":"Consider adding the whole source code that includes this piece of code."},{"owner":{"account_id":13833972,"reputation":3,"user_id":9986038,"display_name":"JustSomeRandomDoomerDude"},"score":0,"creation_date":1632762325,"post_id":69349726,"comment_id":122575426,"body_markdown":"i added it to original post as a pastebin link.","body":"i added it to original post as a pastebin link."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1632762417,"post_id":69349726,"comment_id":122575463,"body_markdown":"Hey, the page is not loading. Is the link correct?","body":"Hey, the page is not loading. Is the link correct?"},{"owner":{"account_id":13833972,"reputation":3,"user_id":9986038,"display_name":"JustSomeRandomDoomerDude"},"score":0,"creation_date":1632762744,"post_id":69349726,"comment_id":122575566,"body_markdown":"nvm.i just aded to code to the post.","body":"nvm.i just aded to code to the post."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1632763828,"post_id":69349726,"comment_id":122576018,"body_markdown":"My friend, move your piece of code in to the `onCreate` method of the Activity. That code does not belong to the class definition context because it is an executable.","body":"My friend, move your piece of code in to the <code>onCreate</code> method of the Activity. That code does not belong to the class definition context because it is an executable."},{"owner":{"account_id":13833972,"reputation":3,"user_id":9986038,"display_name":"JustSomeRandomDoomerDude"},"score":0,"creation_date":1632764156,"post_id":69349726,"comment_id":122576134,"body_markdown":"man thank you!you are awesome thank you very much!now it works!","body":"man thank you!you are awesome thank you very much!now it works!"}],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632761479,"creation_date":1632759183,"answer_id":69349919,"question_id":69349726,"body_markdown":"Since the `postDelayed` is a method, you have to use `()` along with it. It takes 2 parameters, first one is a `Runnable` object and second one is a millisecond value to delay which is an `int` type. Also `Handler()` constructor is [depracated](https://developer.android.com/reference/android/os/Handler#public-constructors_1), that&#39;s why you have to bind your handler to a looper object, commonly to the main looper. Here is the fixed code:\r\n```java\r\n// Make sure you import the right Handler class\r\nimport android.os.Handler;\r\n\r\nHandler handler = new Handler(Looper.getMainLooper());\r\nhandler.postDelayed( () -&gt; {\r\n        SharedPreferences preferences = getSharedPreferences(&quot;PREFS&quot;, 0);\r\n        String password = preferences.getString(&quot;password&quot;,&quot;0&quot;);\r\n        if (password.equals(&quot;0&quot;)) {\r\n            Intent intent = new Intent (getApplicationContext(),CreatePasswordActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        } else {\r\n            Intent intent = new Intent (getApplicationContext(),InputPasswordActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }, millisecondDelay);\r\n```\r\n\r\n**UPDATE**\r\nI&#39;ve noted that your `postdelayed` syntax isn&#39;t correct. It must be as `postDelayed`. I updated my answer chek the code out again.","title":"[android studio]having problem with handler.postdelayed","body":"<p>Since the <code>postDelayed</code> is a method, you have to use <code>()</code> along with it. It takes 2 parameters, first one is a <code>Runnable</code> object and second one is a millisecond value to delay which is an <code>int</code> type. Also <code>Handler()</code> constructor is <a href=\"https://developer.android.com/reference/android/os/Handler#public-constructors_1\" rel=\"nofollow noreferrer\">depracated</a>, that's why you have to bind your handler to a looper object, commonly to the main looper. Here is the fixed code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Make sure you import the right Handler class\nimport android.os.Handler;\n\nHandler handler = new Handler(Looper.getMainLooper());\nhandler.postDelayed( () -&gt; {\n        SharedPreferences preferences = getSharedPreferences(&quot;PREFS&quot;, 0);\n        String password = preferences.getString(&quot;password&quot;,&quot;0&quot;);\n        if (password.equals(&quot;0&quot;)) {\n            Intent intent = new Intent (getApplicationContext(),CreatePasswordActivity.class);\n            startActivity(intent);\n            finish();\n        } else {\n            Intent intent = new Intent (getApplicationContext(),InputPasswordActivity.class);\n            startActivity(intent);\n            finish();\n        }\n    }, millisecondDelay);\n</code></pre>\n<p><strong>UPDATE</strong>\nI've noted that your <code>postdelayed</code> syntax isn't correct. It must be as <code>postDelayed</code>. I updated my answer chek the code out again.</p>\n"}],"owner":{"account_id":13833972,"reputation":3,"user_id":9986038,"display_name":"JustSomeRandomDoomerDude"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":872,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1633135730,"accepted_answer_id":69349919,"answer_count":1,"score":-1,"last_activity_date":1632762661,"creation_date":1632758369,"question_id":69349726,"body_markdown":"hope you doing great.i&#39;m very new to android programming and i have source of an app which i intend to modify and add [PatternLockView][1] library to it . i watched a [youtube video tutorial][2] but i can&#39;t use handler.postdelay option in the code (android studio returns with : Cannot resolve symbol &#39;postdelayed&#39;).the coder who made the tutorial didn&#39;t got any errors or so but android studio gives me [lots of them][3] . any help or hint is appreciated.\r\nhere is the code :\r\n\r\n    \r\n  \r\n\r\n    Handler handler = new Handler ();\r\n        handler.postdelayed {\r\n            @Override\r\n            public void run()  {\r\n                SharedPreferences preferences = getSharedPreferences(&quot;PREFS&quot;, 0);\r\n                String password = preferences.getString(&quot;password&quot;,&quot;0&quot;);\r\n                if (password.equals(&quot;0&quot;)) {\r\n                    Intent intent = new Intent (getApplicationContext(),CreatePasswordActivity.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                } else {\r\n                    Intent intent = new Intent (getApplicationContext(),InputPasswordActivity.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            }\r\n    \r\n        }2000\r\n\r\n\r\n  [1]: https://github.com/aritraroy/PatternLockView\r\n  [2]: https://www.youtube.com/watch?v=BYYFelIdZsQ&amp;t\r\n  [3]: https://i.stack.imgur.com/zhAIR.png\r\n\r\n\r\n\r\n****\r\n\r\n        /*#######################################################\r\n     *\r\n     *   Maintained by Gregor Santner, 2017-\r\n     *   https://gsantner.net/\r\n     *\r\n     *   License of this file: Apache 2.0 (Commercial upon request)\r\n     *     https://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n    #########################################################*/\r\n    package net.gsantner.markor.activity;\r\n     \r\n    import android.annotation.SuppressLint;\r\n    import android.app.ActivityManager;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.graphics.Color;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.os.Looper;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.design.widget.BottomNavigationView;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.app.FragmentManager;\r\n    import android.support.v4.app.FragmentPagerAdapter;\r\n    import android.support.v4.content.ContextCompat;\r\n    import android.support.v4.view.ViewPager;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.text.TextUtils;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.WindowManager;\r\n     \r\n    import com.pixplicity.generate.Rate;\r\n     \r\n    import net.gsantner.markor.BuildConfig;\r\n    import net.gsantner.markor.R;\r\n    import net.gsantner.markor.format.TextFormat;\r\n    import net.gsantner.markor.ui.FilesystemViewerCreator;\r\n    import net.gsantner.markor.ui.NewFileDialog;\r\n    import net.gsantner.markor.util.ActivityUtils;\r\n    import net.gsantner.markor.util.AppSettings;\r\n    import net.gsantner.markor.util.PermissionChecker;\r\n    import net.gsantner.markor.util.ShareUtil;\r\n    import net.gsantner.opoc.activity.GsFragmentBase;\r\n    import net.gsantner.opoc.format.markdown.SimpleMarkdownParser;\r\n    import net.gsantner.opoc.ui.FilesystemViewerAdapter;\r\n    import net.gsantner.opoc.ui.FilesystemViewerData;\r\n    import net.gsantner.opoc.ui.FilesystemViewerFragment;\r\n     \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.concurrent.TimeUnit;\r\n     \r\n    import butterknife.BindView;\r\n    import butterknife.ButterKnife;\r\n    import butterknife.OnClick;\r\n    import butterknife.OnLongClick;\r\n    import butterknife.OnPageChange;\r\n     \r\n    public class MainActivity extends AppActivityBase implements FilesystemViewerFragment.FilesystemFragmentOptionsListener, BottomNavigationView.OnNavigationItemSelectedListener {\r\n        //START\r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n    handler.postDelayed( () -&gt; {\r\n            SharedPreferences preferences = getSharedPreferences(&quot;PREFS&quot;, 0);\r\n            String password = preferences.getString(&quot;password&quot;,&quot;0&quot;);\r\n            if (password.equals(&quot;0&quot;)) {\r\n                Intent intent = new Intent (getApplicationContext(),CreatePasswordActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            } else {\r\n                Intent intent = new Intent (getApplicationContext(),InputPasswordActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        }, 2000);\r\n    // END\r\n        public static boolean IS_DEBUG_ENABLED = false;\r\n     \r\n        @BindView(R.id.toolbar)\r\n        public Toolbar _toolbar;\r\n     \r\n        @BindView(R.id.bottom_navigation_bar)\r\n        BottomNavigationView _bottomNav;\r\n     \r\n        @BindView(R.id.fab_add_new_item)\r\n        FloatingActionButton _fab;\r\n     \r\n        @BindView(R.id.main__view_pager_container)\r\n        ViewPager _viewPager;\r\n        private SectionsPagerAdapter _viewPagerAdapter;\r\n     \r\n        private boolean _doubleBackToExitPressedOnce;\r\n        private MenuItem _lastBottomMenuItem;\r\n     \r\n        private AppSettings _appSettings;\r\n        private ActivityUtils _contextUtils;\r\n        private ShareUtil _shareUtil;\r\n     \r\n        @SuppressLint(&quot;SdCardPath&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                getWindow().setExitTransition(null);\r\n            }\r\n            _appSettings = new AppSettings(this);\r\n            _contextUtils = new ActivityUtils(this);\r\n            _shareUtil = new ShareUtil(this);\r\n            _contextUtils.setAppLanguage(_appSettings.getLanguage());\r\n            if (_appSettings.isOverviewStatusBarHidden()) {\r\n                getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            }\r\n            setTheme(_appSettings.isDarkThemeEnabled() ? R.style.AppTheme_Dark : R.style.AppTheme_Light);\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main__activity);\r\n            ButterKnife.bind(this);\r\n            setSupportActionBar(_toolbar);\r\n            _toolbar.setOnClickListener(this::onToolbarTitleClicked);\r\n     \r\n            optShowRate();\r\n     \r\n            try {\r\n                if (_appSettings.isAppCurrentVersionFirstStart(true)) {\r\n                    SimpleMarkdownParser smp = SimpleMarkdownParser.get().setDefaultSmpFilter(SimpleMarkdownParser.FILTER_ANDROID_TEXTVIEW);\r\n                    String html = &quot;&quot;;\r\n                    html += smp.parse(getString(R.string.copyright_license_text_official).replace(&quot;\\n&quot;, &quot;  \\n&quot;), &quot;&quot;).getHtml();\r\n                    html += &quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;big&gt;&lt;big&gt;&quot; + getString(R.string.changelog) + &quot;&lt;/big&gt;&lt;/big&gt;&lt;br/&gt;&quot; + smp.parse(getResources().openRawResource(R.raw.changelog), &quot;&quot;, SimpleMarkdownParser.FILTER_ANDROID_TEXTVIEW);\r\n                    html += &quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;big&gt;&lt;big&gt;&quot; + getString(R.string.licenses) + &quot;&lt;/big&gt;&lt;/big&gt;&lt;br/&gt;&quot; + smp.parse(getResources().openRawResource(R.raw.licenses_3rd_party), &quot;&quot;).getHtml();\r\n                    ActivityUtils _au = new ActivityUtils(this);\r\n                    _au.showDialogWithHtmlTextView(0, html);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n     \r\n            IntroActivity.optStart(this);\r\n     \r\n            // Setup viewpager\r\n            _viewPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\r\n            _viewPager.setAdapter(_viewPagerAdapter);\r\n            _viewPager.setOffscreenPageLimit(4);\r\n            _bottomNav.setOnNavigationItemSelectedListener(this);\r\n     \r\n            // noinspection PointlessBooleanExpression - Send Test intent\r\n            if (BuildConfig.IS_TEST_BUILD &amp;&amp; false) {\r\n                DocumentActivity.launch(this, new File(&quot;/sdcard/Documents/mordor/aa-beamer.md&quot;), false, true, null, null);\r\n            }\r\n     \r\n            (new ActivityUtils(this)).applySpecialLaunchersVisibility(_appSettings.isSpecialFileLaunchersEnabled());\r\n     \r\n            _bottomNav.postDelayed(() -&gt; {\r\n                if (_appSettings.getAppStartupTab() != R.id.nav_notebook) {\r\n                    _bottomNav.setSelectedItemId(_appSettings.getAppStartupTab());\r\n                }\r\n            }, 1);\r\n        }\r\n     \r\n        private void optShowRate() {\r\n            new Rate.Builder(this)\r\n                    .setTriggerCount(4)\r\n                    .setMinimumInstallTime((int) TimeUnit.MINUTES.toMillis(30))\r\n                    .setFeedbackAction(() -&gt; new ActivityUtils(this).showGooglePlayEntryForThisApp())\r\n                    .build().count().showRequest();\r\n        }\r\n     \r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            PermissionChecker permc = new PermissionChecker(this);\r\n            permc.checkPermissionResult(requestCode, permissions, grantResults);\r\n        }\r\n     \r\n     \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            super.onOptionsItemSelected(item);\r\n            AppSettings as = new AppSettings(this);\r\n            switch (item.getItemId()) {\r\n                case R.id.action_preview: {\r\n                    File f = _bottomNav.getSelectedItemId() == R.id.nav_quicknote ? as.getQuickNoteFile() : as.getTodoFile();\r\n                    DocumentActivity.launch(MainActivity.this, f, false, true, null, null);\r\n                    return true;\r\n                }\r\n                case R.id.action_settings: {\r\n                    new ActivityUtils(this).animateToActivity(SettingsActivity.class, false, null);\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public boolean onCreateOptionsMenu(final Menu menu) {\r\n            getMenuInflater().inflate(R.menu.main__menu, menu);\r\n     \r\n            menu.findItem(R.id.action_settings).setVisible(_appSettings.isShowSettingsOptionInMainToolbar());\r\n     \r\n            _contextUtils.tintMenuItems(menu, true, Color.WHITE);\r\n            _contextUtils.setSubMenuIconsVisiblity(menu, true);\r\n            return true;\r\n        }\r\n     \r\n        @Override\r\n        protected void onResume() {\r\n            //new AndroidSupportMeWrapper(this).mainOnResume();\r\n            super.onResume();\r\n            IS_DEBUG_ENABLED = BuildConfig.IS_TEST_BUILD;\r\n            if (_appSettings.isRecreateMainRequired()) {\r\n                // recreate(); // does not remake fragments\r\n                Intent intent = getIntent();\r\n                overridePendingTransition(0, 0);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n                finish();\r\n                overridePendingTransition(0, 0);\r\n                startActivity(intent);\r\n            }\r\n     \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; _appSettings.isMultiWindowEnabled()) {\r\n                setTaskDescription(new ActivityManager.TaskDescription(getString(R.string.app_name)));\r\n            }\r\n     \r\n            int color = ContextCompat.getColor(this, _appSettings.isDarkThemeEnabled()\r\n                    ? R.color.dark__background : R.color.light__background);\r\n            _viewPager.getRootView().setBackgroundColor(color);\r\n     \r\n            if (_appSettings.isKeepScreenOn()) {\r\n                getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n            } else {\r\n                getWindow().clearFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n            }\r\n        }\r\n     \r\n        @Override\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            // Determine some results and forward using Local Broadcast\r\n            Object result = _shareUtil.extractResultFromActivityResult(requestCode, resultCode, data, this);\r\n     \r\n     \r\n            try {\r\n                FilesystemViewerFragment frag = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\r\n                frag.getAdapter().reconfigure();\r\n            } catch (Exception ignored) {\r\n                recreate();\r\n            }\r\n        }\r\n     \r\n        @OnLongClick({R.id.fab_add_new_item})\r\n        public boolean onLongClickFab(View view) {\r\n            PermissionChecker permc = new PermissionChecker(this);\r\n            FilesystemViewerFragment fsFrag = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\r\n            if (fsFrag != null &amp;&amp; permc.mkdirIfStoragePermissionGranted()) {\r\n                fsFrag.getAdapter().setCurrentFolder(fsFrag.getCurrentFolder().equals(FilesystemViewerAdapter.VIRTUAL_STORAGE_RECENTS)\r\n                                ? FilesystemViewerAdapter.VIRTUAL_STORAGE_FAVOURITE : FilesystemViewerAdapter.VIRTUAL_STORAGE_RECENTS\r\n                        , true);\r\n            }\r\n            return true;\r\n        }\r\n     \r\n        @SuppressWarnings(&quot;SwitchStatementWithTooFewBranches&quot;)\r\n        @OnClick({R.id.fab_add_new_item})\r\n        public void onClickFab(View view) {\r\n            PermissionChecker permc = new PermissionChecker(this);\r\n            FilesystemViewerFragment fsFrag = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\r\n            if (fsFrag == null) {\r\n                return;\r\n            }\r\n     \r\n            if (fsFrag.getAdapter().isCurrentFolderVirtual()) {\r\n                fsFrag.getAdapter().loadFolder(_appSettings.getNotebookDirectory());\r\n                return;\r\n            }\r\n            if (permc.mkdirIfStoragePermissionGranted()) {\r\n                switch (view.getId()) {\r\n                    case R.id.fab_add_new_item: {\r\n                        if (_shareUtil.isUnderStorageAccessFolder(fsFrag.getCurrentFolder()) &amp;&amp; _shareUtil.getStorageAccessFrameworkTreeUri() == null) {\r\n                            _shareUtil.showMountSdDialog(this);\r\n                            return;\r\n                        }\r\n     \r\n                        if (!fsFrag.getAdapter().isCurrentFolderWriteable()) {\r\n                            return;\r\n                        }\r\n     \r\n                        NewFileDialog dialog = NewFileDialog.newInstance(fsFrag.getCurrentFolder(), true, (ok, f) -&gt; {\r\n                            if (ok) {\r\n                                if (f.isFile()) {\r\n                                    DocumentActivity.launch(MainActivity.this, f, false, false, null, null);\r\n                                } else if (f.isDirectory()) {\r\n                                    FilesystemViewerFragment wrFragment = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\r\n                                    if (wrFragment != null) {\r\n                                        wrFragment.reloadCurrentFolder();\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                        dialog.show(getSupportFragmentManager(), NewFileDialog.FRAGMENT_TAG);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n     \r\n        @Override\r\n        public void onBackPressed() {\r\n            // Exit confirmed with 2xBack\r\n            if (_doubleBackToExitPressedOnce) {\r\n                super.onBackPressed();\r\n                _appSettings.setFileBrowserLastBrowsedFolder(_appSettings.getNotebookDirectory());\r\n                return;\r\n            }\r\n     \r\n            // Check if fragment handled back press\r\n            GsFragmentBase frag = _viewPagerAdapter.getCachedFragments().get(_viewPager.getCurrentItem());\r\n            if (frag != null &amp;&amp; frag.onBackPressed()) {\r\n                return;\r\n            }\r\n     \r\n            // Confirm exit with back / snackbar\r\n            _doubleBackToExitPressedOnce = true;\r\n            new ActivityUtils(this).showSnackBar(R.string.press_back_again_to_exit, false, R.string.exit, view -&gt; finish());\r\n            new Handler().postDelayed(() -&gt; _doubleBackToExitPressedOnce = false, 2000);\r\n        }\r\n     \r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            updateFabVisibility(item.getItemId() == R.id.nav_notebook);\r\n            PermissionChecker permc = new PermissionChecker(this);\r\n     \r\n            switch (item.getItemId()) {\r\n                case R.id.nav_notebook: {\r\n                    _viewPager.setCurrentItem(0);\r\n                    _toolbar.setTitle(getFileBrowserTitle());\r\n                    return true;\r\n                }\r\n     \r\n                case R.id.nav_todo: {\r\n                    permc.doIfExtStoragePermissionGranted(); // cannot prevent bottom tab selection\r\n                    restoreDefaultToolbar();\r\n                    _viewPager.setCurrentItem(1);\r\n                    _toolbar.setTitle(R.string.todo);\r\n                    return true;\r\n                }\r\n                case R.id.nav_quicknote: {\r\n                    permc.doIfExtStoragePermissionGranted(); // cannot prevent bottom tab selection\r\n                    restoreDefaultToolbar();\r\n                    _viewPager.setCurrentItem(2);\r\n                    _toolbar.setTitle(R.string.quicknote);\r\n                    return true;\r\n                }\r\n                case R.id.nav_more: {\r\n                    restoreDefaultToolbar();\r\n                    _viewPager.setCurrentItem(3);\r\n                    _toolbar.setTitle(R.string.more);\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n     \r\n        public void updateFabVisibility(boolean visible) {\r\n            if (visible) {\r\n                _fab.show();\r\n            } else {\r\n                _fab.hide();\r\n            }\r\n        }\r\n     \r\n        public String getFileBrowserTitle() {\r\n            final File file = _appSettings.getFileBrowserLastBrowsedFolder();\r\n            String title = getString(R.string.app_name);\r\n            if (!_appSettings.getNotebookDirectory().getAbsolutePath().equals(file.getAbsolutePath())) {\r\n                title = &quot;&gt; &quot; + file.getName();\r\n            }\r\n            return title;\r\n        }\r\n     \r\n        @OnPageChange(value = R.id.main__view_pager_container, callback = OnPageChange.Callback.PAGE_SELECTED)\r\n        public void onViewPagerPageSelected(int pos) {\r\n            Menu menu = _bottomNav.getMenu();\r\n            PermissionChecker permc = new PermissionChecker(this);\r\n            (_lastBottomMenuItem != null ? _lastBottomMenuItem : menu.getItem(0)).setChecked(false);\r\n            _lastBottomMenuItem = menu.getItem(pos).setChecked(true);\r\n            updateFabVisibility(pos == 0);\r\n            _toolbar.setTitle(new String[]{getFileBrowserTitle(), getString(R.string.todo), getString(R.string.quicknote), getString(R.string.more)}[pos]);\r\n     \r\n            if (pos &gt; 0 &amp;&amp; pos &lt; 3) {\r\n                permc.doIfExtStoragePermissionGranted(); // cannot prevent bottom tab selection\r\n            }\r\n        }\r\n     \r\n        private FilesystemViewerData.Options _filesystemDialogOptions = null;\r\n     \r\n        @Override\r\n        public FilesystemViewerData.Options getFilesystemFragmentOptions(FilesystemViewerData.Options existingOptions) {\r\n            if (_filesystemDialogOptions == null) {\r\n                _filesystemDialogOptions = FilesystemViewerCreator.prepareFsViewerOpts(getApplicationContext(), false, new FilesystemViewerData.SelectionListenerAdapter() {\r\n                    @Override\r\n                    public void onFsViewerConfig(FilesystemViewerData.Options dopt) {\r\n                        dopt.descModtimeInsteadOfParent = true;\r\n                        //opt.rootFolder = _appSettings.getNotebookDirectory();\r\n                        dopt.rootFolder = _appSettings.getFolderToLoadByMenuId(_appSettings.getAppStartupFolderMenuId());\r\n                        dopt.folderFirst = _appSettings.isFilesystemListFolderFirst();\r\n                        dopt.doSelectMultiple = dopt.doSelectFolder = dopt.doSelectFile = true;\r\n                        dopt.mountedStorageFolder = _shareUtil.getStorageAccessFolder();\r\n                        dopt.showDotFiles = _appSettings.isShowDotFiles();\r\n                        dopt.fileComparable = FilesystemViewerFragment.sortFolder(null);\r\n                    }\r\n     \r\n                    @Override\r\n                    public void onFsViewerDoUiUpdate(FilesystemViewerAdapter adapter) {\r\n                        if (adapter != null &amp;&amp; adapter.getCurrentFolder() != null &amp;&amp; !TextUtils.isEmpty(adapter.getCurrentFolder().getName())) {\r\n                            _appSettings.setFileBrowserLastBrowsedFolder(adapter.getCurrentFolder());\r\n                            _toolbar.setTitle(adapter.areItemsSelected() ? &quot;&quot; : getFileBrowserTitle());\r\n                            invalidateOptionsMenu();\r\n     \r\n                            if (adapter.getCurrentFolder().equals(FilesystemViewerAdapter.VIRTUAL_STORAGE_FAVOURITE)) {\r\n                                adapter.getFsOptions().favouriteFiles = _appSettings.getFavouriteFiles();\r\n                            }\r\n                        }\r\n                    }\r\n     \r\n                    @Override\r\n                    public void onFsViewerSelected(String request, File file, final Integer lineNumber) {\r\n                        if (TextFormat.isTextFile(file)) {\r\n                            DocumentActivity.launch(MainActivity.this, file, false, null, null, lineNumber);\r\n                        } else if (file.getName().toLowerCase().endsWith(&quot;.apk&quot;)) {\r\n                            _shareUtil.requestApkInstallation(file);\r\n                        } else {\r\n                            DocumentActivity.askUserIfWantsToOpenFileInThisApp(MainActivity.this, file);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            return _filesystemDialogOptions;\r\n        }\r\n     \r\n        class SectionsPagerAdapter extends FragmentPagerAdapter {\r\n            private HashMap&lt;Integer, GsFragmentBase&gt; _fragCache = new LinkedHashMap&lt;&gt;();\r\n     \r\n            SectionsPagerAdapter(FragmentManager fragMgr) {\r\n                super(fragMgr);\r\n            }\r\n     \r\n            @Override\r\n            public Object instantiateItem(ViewGroup container, int position) {\r\n                GsFragmentBase fragment = (GsFragmentBase) super.instantiateItem(container, position);\r\n                _fragCache.put(position, fragment);\r\n                return fragment;\r\n            }\r\n     \r\n            @Override\r\n            public Fragment getItem(int pos) {\r\n                final Fragment existing = _fragCache.get(pos);\r\n                if (existing != null) {\r\n                    return existing;\r\n                }\r\n     \r\n                switch (_bottomNav.getMenu().getItem(pos).getItemId()) {\r\n                    default:\r\n                    case R.id.nav_notebook: {\r\n                        return FilesystemViewerFragment.newInstance(getFilesystemFragmentOptions(null));\r\n                    }\r\n                    case R.id.nav_quicknote: {\r\n                        return DocumentEditFragment.newInstance(_appSettings.getQuickNoteFile(), false, -1);\r\n                    }\r\n                    case R.id.nav_todo: {\r\n                        return DocumentEditFragment.newInstance(_appSettings.getTodoFile(), false, -1);\r\n                    }\r\n                    case R.id.nav_more: {\r\n                        return MoreFragment.newInstance();\r\n                    }\r\n                }\r\n            }\r\n     \r\n            @Override\r\n            public void destroyItem(ViewGroup container, int position, Object object) {\r\n                super.destroyItem(container, position, object);\r\n                _fragCache.remove(position);\r\n            }\r\n     \r\n            @Override\r\n            public int getCount() {\r\n                return _bottomNav.getMenu().size();\r\n            }\r\n     \r\n            public GsFragmentBase getFragmentByTag(String fragmentTag) {\r\n                for (GsFragmentBase frag : _fragCache.values()) {\r\n                    if (fragmentTag.equals(frag.getFragmentTag())) {\r\n                        return frag;\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n     \r\n            public HashMap&lt;Integer, GsFragmentBase&gt; getCachedFragments() {\r\n                return _fragCache;\r\n            }\r\n        }\r\n     \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n     \r\n            restoreDefaultToolbar();\r\n        }\r\n     \r\n        /**\r\n         * Restores the default toolbar. Used when changing the tab or moving to another activity\r\n         * while {@link FilesystemViewerFragment} action mode is active (e.g. when renaming a file)\r\n         */\r\n        private void restoreDefaultToolbar() {\r\n            FilesystemViewerFragment wrFragment = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\r\n            if (wrFragment != null) {\r\n                wrFragment.clearSelection();\r\n            }\r\n        }\r\n     \r\n        private void onToolbarTitleClicked(View v) {\r\n            Fragment f = _viewPagerAdapter.getItem(_viewPager.getCurrentItem());\r\n            if (f instanceof DocumentEditFragment) {\r\n                DocumentEditFragment def = (DocumentEditFragment) f;\r\n                def.onToolbarTitleClicked(_toolbar);\r\n            }\r\n        }\r\n    }\r\n     \r\n\r\n","title":"[android studio]having problem with handler.postdelayed","body":"<p>hope you doing great.i'm very new to android programming and i have source of an app which i intend to modify and add <a href=\"https://github.com/aritraroy/PatternLockView\" rel=\"nofollow noreferrer\">PatternLockView</a> library to it . i watched a <a href=\"https://www.youtube.com/watch?v=BYYFelIdZsQ&amp;t\" rel=\"nofollow noreferrer\">youtube video tutorial</a> but i can't use handler.postdelay option in the code (android studio returns with : Cannot resolve symbol 'postdelayed').the coder who made the tutorial didn't got any errors or so but android studio gives me <a href=\"https://i.stack.imgur.com/zhAIR.png\" rel=\"nofollow noreferrer\">lots of them</a> . any help or hint is appreciated.\nhere is the code :</p>\n<pre><code>Handler handler = new Handler ();\n    handler.postdelayed {\n        @Override\n        public void run()  {\n            SharedPreferences preferences = getSharedPreferences(&quot;PREFS&quot;, 0);\n            String password = preferences.getString(&quot;password&quot;,&quot;0&quot;);\n            if (password.equals(&quot;0&quot;)) {\n                Intent intent = new Intent (getApplicationContext(),CreatePasswordActivity.class);\n                startActivity(intent);\n                finish();\n            } else {\n                Intent intent = new Intent (getApplicationContext(),InputPasswordActivity.class);\n                startActivity(intent);\n                finish();\n            }\n        }\n\n    }2000\n</code></pre>\n<hr />\n<pre><code>    /*#######################################################\n *\n *   Maintained by Gregor Santner, 2017-\n *   https://gsantner.net/\n *\n *   License of this file: Apache 2.0 (Commercial upon request)\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n#########################################################*/\npackage net.gsantner.markor.activity;\n \nimport android.annotation.SuppressLint;\nimport android.app.ActivityManager;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.graphics.Color;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.support.annotation.NonNull;\nimport android.support.design.widget.BottomNavigationView;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentManager;\nimport android.support.v4.app.FragmentPagerAdapter;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v4.view.ViewPager;\nimport android.support.v7.widget.Toolbar;\nimport android.text.TextUtils;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.WindowManager;\n \nimport com.pixplicity.generate.Rate;\n \nimport net.gsantner.markor.BuildConfig;\nimport net.gsantner.markor.R;\nimport net.gsantner.markor.format.TextFormat;\nimport net.gsantner.markor.ui.FilesystemViewerCreator;\nimport net.gsantner.markor.ui.NewFileDialog;\nimport net.gsantner.markor.util.ActivityUtils;\nimport net.gsantner.markor.util.AppSettings;\nimport net.gsantner.markor.util.PermissionChecker;\nimport net.gsantner.markor.util.ShareUtil;\nimport net.gsantner.opoc.activity.GsFragmentBase;\nimport net.gsantner.opoc.format.markdown.SimpleMarkdownParser;\nimport net.gsantner.opoc.ui.FilesystemViewerAdapter;\nimport net.gsantner.opoc.ui.FilesystemViewerData;\nimport net.gsantner.opoc.ui.FilesystemViewerFragment;\n \nimport java.io.File;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.LinkedHashMap;\nimport java.util.concurrent.TimeUnit;\n \nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport butterknife.OnClick;\nimport butterknife.OnLongClick;\nimport butterknife.OnPageChange;\n \npublic class MainActivity extends AppActivityBase implements FilesystemViewerFragment.FilesystemFragmentOptionsListener, BottomNavigationView.OnNavigationItemSelectedListener {\n    //START\n    Handler handler = new Handler(Looper.getMainLooper());\nhandler.postDelayed( () -&gt; {\n        SharedPreferences preferences = getSharedPreferences(&quot;PREFS&quot;, 0);\n        String password = preferences.getString(&quot;password&quot;,&quot;0&quot;);\n        if (password.equals(&quot;0&quot;)) {\n            Intent intent = new Intent (getApplicationContext(),CreatePasswordActivity.class);\n            startActivity(intent);\n            finish();\n        } else {\n            Intent intent = new Intent (getApplicationContext(),InputPasswordActivity.class);\n            startActivity(intent);\n            finish();\n        }\n    }, 2000);\n// END\n    public static boolean IS_DEBUG_ENABLED = false;\n \n    @BindView(R.id.toolbar)\n    public Toolbar _toolbar;\n \n    @BindView(R.id.bottom_navigation_bar)\n    BottomNavigationView _bottomNav;\n \n    @BindView(R.id.fab_add_new_item)\n    FloatingActionButton _fab;\n \n    @BindView(R.id.main__view_pager_container)\n    ViewPager _viewPager;\n    private SectionsPagerAdapter _viewPagerAdapter;\n \n    private boolean _doubleBackToExitPressedOnce;\n    private MenuItem _lastBottomMenuItem;\n \n    private AppSettings _appSettings;\n    private ActivityUtils _contextUtils;\n    private ShareUtil _shareUtil;\n \n    @SuppressLint(&quot;SdCardPath&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            getWindow().setExitTransition(null);\n        }\n        _appSettings = new AppSettings(this);\n        _contextUtils = new ActivityUtils(this);\n        _shareUtil = new ShareUtil(this);\n        _contextUtils.setAppLanguage(_appSettings.getLanguage());\n        if (_appSettings.isOverviewStatusBarHidden()) {\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        }\n        setTheme(_appSettings.isDarkThemeEnabled() ? R.style.AppTheme_Dark : R.style.AppTheme_Light);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main__activity);\n        ButterKnife.bind(this);\n        setSupportActionBar(_toolbar);\n        _toolbar.setOnClickListener(this::onToolbarTitleClicked);\n \n        optShowRate();\n \n        try {\n            if (_appSettings.isAppCurrentVersionFirstStart(true)) {\n                SimpleMarkdownParser smp = SimpleMarkdownParser.get().setDefaultSmpFilter(SimpleMarkdownParser.FILTER_ANDROID_TEXTVIEW);\n                String html = &quot;&quot;;\n                html += smp.parse(getString(R.string.copyright_license_text_official).replace(&quot;\\n&quot;, &quot;  \\n&quot;), &quot;&quot;).getHtml();\n                html += &quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;big&gt;&lt;big&gt;&quot; + getString(R.string.changelog) + &quot;&lt;/big&gt;&lt;/big&gt;&lt;br/&gt;&quot; + smp.parse(getResources().openRawResource(R.raw.changelog), &quot;&quot;, SimpleMarkdownParser.FILTER_ANDROID_TEXTVIEW);\n                html += &quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;big&gt;&lt;big&gt;&quot; + getString(R.string.licenses) + &quot;&lt;/big&gt;&lt;/big&gt;&lt;br/&gt;&quot; + smp.parse(getResources().openRawResource(R.raw.licenses_3rd_party), &quot;&quot;).getHtml();\n                ActivityUtils _au = new ActivityUtils(this);\n                _au.showDialogWithHtmlTextView(0, html);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n \n        IntroActivity.optStart(this);\n \n        // Setup viewpager\n        _viewPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\n        _viewPager.setAdapter(_viewPagerAdapter);\n        _viewPager.setOffscreenPageLimit(4);\n        _bottomNav.setOnNavigationItemSelectedListener(this);\n \n        // noinspection PointlessBooleanExpression - Send Test intent\n        if (BuildConfig.IS_TEST_BUILD &amp;&amp; false) {\n            DocumentActivity.launch(this, new File(&quot;/sdcard/Documents/mordor/aa-beamer.md&quot;), false, true, null, null);\n        }\n \n        (new ActivityUtils(this)).applySpecialLaunchersVisibility(_appSettings.isSpecialFileLaunchersEnabled());\n \n        _bottomNav.postDelayed(() -&gt; {\n            if (_appSettings.getAppStartupTab() != R.id.nav_notebook) {\n                _bottomNav.setSelectedItemId(_appSettings.getAppStartupTab());\n            }\n        }, 1);\n    }\n \n    private void optShowRate() {\n        new Rate.Builder(this)\n                .setTriggerCount(4)\n                .setMinimumInstallTime((int) TimeUnit.MINUTES.toMillis(30))\n                .setFeedbackAction(() -&gt; new ActivityUtils(this).showGooglePlayEntryForThisApp())\n                .build().count().showRequest();\n    }\n \n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        PermissionChecker permc = new PermissionChecker(this);\n        permc.checkPermissionResult(requestCode, permissions, grantResults);\n    }\n \n \n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        super.onOptionsItemSelected(item);\n        AppSettings as = new AppSettings(this);\n        switch (item.getItemId()) {\n            case R.id.action_preview: {\n                File f = _bottomNav.getSelectedItemId() == R.id.nav_quicknote ? as.getQuickNoteFile() : as.getTodoFile();\n                DocumentActivity.launch(MainActivity.this, f, false, true, null, null);\n                return true;\n            }\n            case R.id.action_settings: {\n                new ActivityUtils(this).animateToActivity(SettingsActivity.class, false, null);\n                return true;\n            }\n        }\n        return false;\n \n    }\n \n    @Override\n    public boolean onCreateOptionsMenu(final Menu menu) {\n        getMenuInflater().inflate(R.menu.main__menu, menu);\n \n        menu.findItem(R.id.action_settings).setVisible(_appSettings.isShowSettingsOptionInMainToolbar());\n \n        _contextUtils.tintMenuItems(menu, true, Color.WHITE);\n        _contextUtils.setSubMenuIconsVisiblity(menu, true);\n        return true;\n    }\n \n    @Override\n    protected void onResume() {\n        //new AndroidSupportMeWrapper(this).mainOnResume();\n        super.onResume();\n        IS_DEBUG_ENABLED = BuildConfig.IS_TEST_BUILD;\n        if (_appSettings.isRecreateMainRequired()) {\n            // recreate(); // does not remake fragments\n            Intent intent = getIntent();\n            overridePendingTransition(0, 0);\n            intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n            finish();\n            overridePendingTransition(0, 0);\n            startActivity(intent);\n        }\n \n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; _appSettings.isMultiWindowEnabled()) {\n            setTaskDescription(new ActivityManager.TaskDescription(getString(R.string.app_name)));\n        }\n \n        int color = ContextCompat.getColor(this, _appSettings.isDarkThemeEnabled()\n                ? R.color.dark__background : R.color.light__background);\n        _viewPager.getRootView().setBackgroundColor(color);\n \n        if (_appSettings.isKeepScreenOn()) {\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n        } else {\n            getWindow().clearFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n        }\n    }\n \n    @Override\n    @SuppressWarnings(&quot;unused&quot;)\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        // Determine some results and forward using Local Broadcast\n        Object result = _shareUtil.extractResultFromActivityResult(requestCode, resultCode, data, this);\n \n \n        try {\n            FilesystemViewerFragment frag = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\n            frag.getAdapter().reconfigure();\n        } catch (Exception ignored) {\n            recreate();\n        }\n    }\n \n    @OnLongClick({R.id.fab_add_new_item})\n    public boolean onLongClickFab(View view) {\n        PermissionChecker permc = new PermissionChecker(this);\n        FilesystemViewerFragment fsFrag = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\n        if (fsFrag != null &amp;&amp; permc.mkdirIfStoragePermissionGranted()) {\n            fsFrag.getAdapter().setCurrentFolder(fsFrag.getCurrentFolder().equals(FilesystemViewerAdapter.VIRTUAL_STORAGE_RECENTS)\n                            ? FilesystemViewerAdapter.VIRTUAL_STORAGE_FAVOURITE : FilesystemViewerAdapter.VIRTUAL_STORAGE_RECENTS\n                    , true);\n        }\n        return true;\n    }\n \n    @SuppressWarnings(&quot;SwitchStatementWithTooFewBranches&quot;)\n    @OnClick({R.id.fab_add_new_item})\n    public void onClickFab(View view) {\n        PermissionChecker permc = new PermissionChecker(this);\n        FilesystemViewerFragment fsFrag = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\n        if (fsFrag == null) {\n            return;\n        }\n \n        if (fsFrag.getAdapter().isCurrentFolderVirtual()) {\n            fsFrag.getAdapter().loadFolder(_appSettings.getNotebookDirectory());\n            return;\n        }\n        if (permc.mkdirIfStoragePermissionGranted()) {\n            switch (view.getId()) {\n                case R.id.fab_add_new_item: {\n                    if (_shareUtil.isUnderStorageAccessFolder(fsFrag.getCurrentFolder()) &amp;&amp; _shareUtil.getStorageAccessFrameworkTreeUri() == null) {\n                        _shareUtil.showMountSdDialog(this);\n                        return;\n                    }\n \n                    if (!fsFrag.getAdapter().isCurrentFolderWriteable()) {\n                        return;\n                    }\n \n                    NewFileDialog dialog = NewFileDialog.newInstance(fsFrag.getCurrentFolder(), true, (ok, f) -&gt; {\n                        if (ok) {\n                            if (f.isFile()) {\n                                DocumentActivity.launch(MainActivity.this, f, false, false, null, null);\n                            } else if (f.isDirectory()) {\n                                FilesystemViewerFragment wrFragment = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\n                                if (wrFragment != null) {\n                                    wrFragment.reloadCurrentFolder();\n                                }\n                            }\n                        }\n                    });\n                    dialog.show(getSupportFragmentManager(), NewFileDialog.FRAGMENT_TAG);\n                    break;\n                }\n            }\n        }\n    }\n \n    @Override\n    public void onBackPressed() {\n        // Exit confirmed with 2xBack\n        if (_doubleBackToExitPressedOnce) {\n            super.onBackPressed();\n            _appSettings.setFileBrowserLastBrowsedFolder(_appSettings.getNotebookDirectory());\n            return;\n        }\n \n        // Check if fragment handled back press\n        GsFragmentBase frag = _viewPagerAdapter.getCachedFragments().get(_viewPager.getCurrentItem());\n        if (frag != null &amp;&amp; frag.onBackPressed()) {\n            return;\n        }\n \n        // Confirm exit with back / snackbar\n        _doubleBackToExitPressedOnce = true;\n        new ActivityUtils(this).showSnackBar(R.string.press_back_again_to_exit, false, R.string.exit, view -&gt; finish());\n        new Handler().postDelayed(() -&gt; _doubleBackToExitPressedOnce = false, 2000);\n    }\n \n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        updateFabVisibility(item.getItemId() == R.id.nav_notebook);\n        PermissionChecker permc = new PermissionChecker(this);\n \n        switch (item.getItemId()) {\n            case R.id.nav_notebook: {\n                _viewPager.setCurrentItem(0);\n                _toolbar.setTitle(getFileBrowserTitle());\n                return true;\n            }\n \n            case R.id.nav_todo: {\n                permc.doIfExtStoragePermissionGranted(); // cannot prevent bottom tab selection\n                restoreDefaultToolbar();\n                _viewPager.setCurrentItem(1);\n                _toolbar.setTitle(R.string.todo);\n                return true;\n            }\n            case R.id.nav_quicknote: {\n                permc.doIfExtStoragePermissionGranted(); // cannot prevent bottom tab selection\n                restoreDefaultToolbar();\n                _viewPager.setCurrentItem(2);\n                _toolbar.setTitle(R.string.quicknote);\n                return true;\n            }\n            case R.id.nav_more: {\n                restoreDefaultToolbar();\n                _viewPager.setCurrentItem(3);\n                _toolbar.setTitle(R.string.more);\n                return true;\n            }\n        }\n        return false;\n    }\n \n    public void updateFabVisibility(boolean visible) {\n        if (visible) {\n            _fab.show();\n        } else {\n            _fab.hide();\n        }\n    }\n \n    public String getFileBrowserTitle() {\n        final File file = _appSettings.getFileBrowserLastBrowsedFolder();\n        String title = getString(R.string.app_name);\n        if (!_appSettings.getNotebookDirectory().getAbsolutePath().equals(file.getAbsolutePath())) {\n            title = &quot;&gt; &quot; + file.getName();\n        }\n        return title;\n    }\n \n    @OnPageChange(value = R.id.main__view_pager_container, callback = OnPageChange.Callback.PAGE_SELECTED)\n    public void onViewPagerPageSelected(int pos) {\n        Menu menu = _bottomNav.getMenu();\n        PermissionChecker permc = new PermissionChecker(this);\n        (_lastBottomMenuItem != null ? _lastBottomMenuItem : menu.getItem(0)).setChecked(false);\n        _lastBottomMenuItem = menu.getItem(pos).setChecked(true);\n        updateFabVisibility(pos == 0);\n        _toolbar.setTitle(new String[]{getFileBrowserTitle(), getString(R.string.todo), getString(R.string.quicknote), getString(R.string.more)}[pos]);\n \n        if (pos &gt; 0 &amp;&amp; pos &lt; 3) {\n            permc.doIfExtStoragePermissionGranted(); // cannot prevent bottom tab selection\n        }\n    }\n \n    private FilesystemViewerData.Options _filesystemDialogOptions = null;\n \n    @Override\n    public FilesystemViewerData.Options getFilesystemFragmentOptions(FilesystemViewerData.Options existingOptions) {\n        if (_filesystemDialogOptions == null) {\n            _filesystemDialogOptions = FilesystemViewerCreator.prepareFsViewerOpts(getApplicationContext(), false, new FilesystemViewerData.SelectionListenerAdapter() {\n                @Override\n                public void onFsViewerConfig(FilesystemViewerData.Options dopt) {\n                    dopt.descModtimeInsteadOfParent = true;\n                    //opt.rootFolder = _appSettings.getNotebookDirectory();\n                    dopt.rootFolder = _appSettings.getFolderToLoadByMenuId(_appSettings.getAppStartupFolderMenuId());\n                    dopt.folderFirst = _appSettings.isFilesystemListFolderFirst();\n                    dopt.doSelectMultiple = dopt.doSelectFolder = dopt.doSelectFile = true;\n                    dopt.mountedStorageFolder = _shareUtil.getStorageAccessFolder();\n                    dopt.showDotFiles = _appSettings.isShowDotFiles();\n                    dopt.fileComparable = FilesystemViewerFragment.sortFolder(null);\n                }\n \n                @Override\n                public void onFsViewerDoUiUpdate(FilesystemViewerAdapter adapter) {\n                    if (adapter != null &amp;&amp; adapter.getCurrentFolder() != null &amp;&amp; !TextUtils.isEmpty(adapter.getCurrentFolder().getName())) {\n                        _appSettings.setFileBrowserLastBrowsedFolder(adapter.getCurrentFolder());\n                        _toolbar.setTitle(adapter.areItemsSelected() ? &quot;&quot; : getFileBrowserTitle());\n                        invalidateOptionsMenu();\n \n                        if (adapter.getCurrentFolder().equals(FilesystemViewerAdapter.VIRTUAL_STORAGE_FAVOURITE)) {\n                            adapter.getFsOptions().favouriteFiles = _appSettings.getFavouriteFiles();\n                        }\n                    }\n                }\n \n                @Override\n                public void onFsViewerSelected(String request, File file, final Integer lineNumber) {\n                    if (TextFormat.isTextFile(file)) {\n                        DocumentActivity.launch(MainActivity.this, file, false, null, null, lineNumber);\n                    } else if (file.getName().toLowerCase().endsWith(&quot;.apk&quot;)) {\n                        _shareUtil.requestApkInstallation(file);\n                    } else {\n                        DocumentActivity.askUserIfWantsToOpenFileInThisApp(MainActivity.this, file);\n                    }\n                }\n            });\n        }\n        return _filesystemDialogOptions;\n    }\n \n    class SectionsPagerAdapter extends FragmentPagerAdapter {\n        private HashMap&lt;Integer, GsFragmentBase&gt; _fragCache = new LinkedHashMap&lt;&gt;();\n \n        SectionsPagerAdapter(FragmentManager fragMgr) {\n            super(fragMgr);\n        }\n \n        @Override\n        public Object instantiateItem(ViewGroup container, int position) {\n            GsFragmentBase fragment = (GsFragmentBase) super.instantiateItem(container, position);\n            _fragCache.put(position, fragment);\n            return fragment;\n        }\n \n        @Override\n        public Fragment getItem(int pos) {\n            final Fragment existing = _fragCache.get(pos);\n            if (existing != null) {\n                return existing;\n            }\n \n            switch (_bottomNav.getMenu().getItem(pos).getItemId()) {\n                default:\n                case R.id.nav_notebook: {\n                    return FilesystemViewerFragment.newInstance(getFilesystemFragmentOptions(null));\n                }\n                case R.id.nav_quicknote: {\n                    return DocumentEditFragment.newInstance(_appSettings.getQuickNoteFile(), false, -1);\n                }\n                case R.id.nav_todo: {\n                    return DocumentEditFragment.newInstance(_appSettings.getTodoFile(), false, -1);\n                }\n                case R.id.nav_more: {\n                    return MoreFragment.newInstance();\n                }\n            }\n        }\n \n        @Override\n        public void destroyItem(ViewGroup container, int position, Object object) {\n            super.destroyItem(container, position, object);\n            _fragCache.remove(position);\n        }\n \n        @Override\n        public int getCount() {\n            return _bottomNav.getMenu().size();\n        }\n \n        public GsFragmentBase getFragmentByTag(String fragmentTag) {\n            for (GsFragmentBase frag : _fragCache.values()) {\n                if (fragmentTag.equals(frag.getFragmentTag())) {\n                    return frag;\n                }\n            }\n            return null;\n        }\n \n        public HashMap&lt;Integer, GsFragmentBase&gt; getCachedFragments() {\n            return _fragCache;\n        }\n    }\n \n    @Override\n    protected void onStop() {\n        super.onStop();\n \n        restoreDefaultToolbar();\n    }\n \n    /**\n     * Restores the default toolbar. Used when changing the tab or moving to another activity\n     * while {@link FilesystemViewerFragment} action mode is active (e.g. when renaming a file)\n     */\n    private void restoreDefaultToolbar() {\n        FilesystemViewerFragment wrFragment = (FilesystemViewerFragment) _viewPagerAdapter.getFragmentByTag(FilesystemViewerFragment.FRAGMENT_TAG);\n        if (wrFragment != null) {\n            wrFragment.clearSelection();\n        }\n    }\n \n    private void onToolbarTitleClicked(View v) {\n        Fragment f = _viewPagerAdapter.getItem(_viewPager.getCurrentItem());\n        if (f instanceof DocumentEditFragment) {\n            DocumentEditFragment def = (DocumentEditFragment) f;\n            def.onToolbarTitleClicked(_toolbar);\n        }\n    }\n}\n \n</code></pre>\n"},{"tags":["java","android","android-intent","broadcastreceiver","alarmmanager"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1632297536,"post_id":69275831,"comment_id":122451102,"body_markdown":"Your code works here. Tested with only one string. getResultCode(): 0. Which code did you expect?","body":"Your code works here. Tested with only one string. getResultCode(): 0. Which code did you expect?"},{"owner":{"account_id":2170806,"reputation":21,"user_id":1922860,"accept_rate":25,"display_name":"user1922860"},"score":0,"creation_date":1632333825,"post_id":69275831,"comment_id":122466760,"body_markdown":"Not expecting any particular code from getResultCode. I&#39;m bothered by the fact i don&#39;t receive any string from the getExtra\nBut thanks for your answer\nThe fact that the code works on you make the riddle even harder :)","body":"Not expecting any particular code from getResultCode. I&#39;m bothered by the fact i don&#39;t receive any string from the getExtra But thanks for your answer The fact that the code works on you make the riddle even harder :)"}],"answers":[{"tags":[],"owner":{"account_id":2170806,"reputation":21,"user_id":1922860,"accept_rate":25,"display_name":"user1922860"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632762270,"creation_date":1632762270,"answer_id":69350606,"question_id":69275831,"body_markdown":"To anyone who may incur in the same problem, I found the solution.\r\n\r\nThe issue was caused by a problem in the Parcelization of the item, which was however not creating any Exception.\r\n\r\nSo removed that everything worked fine\r\n\r\nThanks for the support\r\n","title":"Intent not passing data to BroadcastReceiver of AlarmManager","body":"<p>To anyone who may incur in the same problem, I found the solution.</p>\n<p>The issue was caused by a problem in the Parcelization of the item, which was however not creating any Exception.</p>\n<p>So removed that everything worked fine</p>\n<p>Thanks for the support</p>\n"}],"owner":{"account_id":2170806,"reputation":21,"user_id":1922860,"accept_rate":25,"display_name":"user1922860"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1632762270,"creation_date":1632260296,"question_id":69275831,"body_markdown":"I&#39;m trying to pass data to BroadcastReceiver thru PendingIntent of AlarmManager\r\n\r\nIn the example I&#39;m trying to pass a String and a Parcelable Object, however when I try to read them in the BroadcastReceiver I get null\r\n\r\n**Activity**\r\n```\r\nAlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\nIntent i = new Intent (this, ReminderBroadcast.class);\r\ni.putExtra(&quot;ROUTINE&quot;, r);\r\ni.putExtra(&quot;MESSAGE&quot;, &quot;Example string&quot;);\r\nPendingIntent pendingIntent = PendingIntent.getBroadcast(this,1234,i,PendingIntent.FLAG_UPDATE_CURRENT);\r\nalarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + 10000, pendingIntent);\r\n```\r\n\r\n**BroadcastReceiver**\r\n```\r\npublic class ReminderBroadcast extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n            Log.i(LOG_TAG,&quot;notification code is &quot;+ getResultCode());\r\n            Log.i(LOG_TAG, &quot;message is: &quot;+ intent.getStringExtra(&quot;MESSAGE&quot;));\r\n            Log.i(LOG_TAG, &quot;routine &quot; + ((Routine)(intent.getParcelableExtra(&quot;ROUTINE&quot;))).getRoutineName());\r\n    \r\n    }\r\n}\r\n```\r\n**Manifest**\r\n```\r\n&lt;activity android:name=&quot;.SetupNotificationActivity&quot; /&gt;\r\n&lt;receiver android:name=&quot;.support.ReminderBroadcast&quot; \r\n          android:enabled=&quot;true&quot; /&gt;\r\n```\r\nThis is driving me crazy, as all the solution found on the internet suggest to put PendingIntent.FLAG_UPDATE_CURRENT to solve the issue, but that seems not to work.\r\n\r\nAny suggestion?\r\nThanks\r\n\r\n\r\n ","title":"Intent not passing data to BroadcastReceiver of AlarmManager","body":"<p>I'm trying to pass data to BroadcastReceiver thru PendingIntent of AlarmManager</p>\n<p>In the example I'm trying to pass a String and a Parcelable Object, however when I try to read them in the BroadcastReceiver I get null</p>\n<p><strong>Activity</strong></p>\n<pre><code>AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\nIntent i = new Intent (this, ReminderBroadcast.class);\ni.putExtra(&quot;ROUTINE&quot;, r);\ni.putExtra(&quot;MESSAGE&quot;, &quot;Example string&quot;);\nPendingIntent pendingIntent = PendingIntent.getBroadcast(this,1234,i,PendingIntent.FLAG_UPDATE_CURRENT);\nalarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + 10000, pendingIntent);\n</code></pre>\n<p><strong>BroadcastReceiver</strong></p>\n<pre><code>public class ReminderBroadcast extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n            Log.i(LOG_TAG,&quot;notification code is &quot;+ getResultCode());\n            Log.i(LOG_TAG, &quot;message is: &quot;+ intent.getStringExtra(&quot;MESSAGE&quot;));\n            Log.i(LOG_TAG, &quot;routine &quot; + ((Routine)(intent.getParcelableExtra(&quot;ROUTINE&quot;))).getRoutineName());\n    \n    }\n}\n</code></pre>\n<p><strong>Manifest</strong></p>\n<pre><code>&lt;activity android:name=&quot;.SetupNotificationActivity&quot; /&gt;\n&lt;receiver android:name=&quot;.support.ReminderBroadcast&quot; \n          android:enabled=&quot;true&quot; /&gt;\n</code></pre>\n<p>This is driving me crazy, as all the solution found on the internet suggest to put PendingIntent.FLAG_UPDATE_CURRENT to solve the issue, but that seems not to work.</p>\n<p>Any suggestion?\nThanks</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":241271,"reputation":2178,"user_id":511976,"accept_rate":50,"display_name":"mhvelplund"},"score":0,"creation_date":1475609940,"post_id":1194990,"comment_id":67008874,"body_markdown":"I guess you solved this long ago, but for those who come here now. The solution can be found here: http://stackoverflow.com/a/27847317/511976","body":"I guess you solved this long ago, but for those who come here now. The solution can be found here: <a href=\"http://stackoverflow.com/a/27847317/511976\">stackoverflow.com/a/27847317/511976</a>"}],"answers":[{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1248796061,"creation_date":1248796061,"answer_id":1195017,"question_id":1194990,"body_markdown":"Here&#39;s what the JDK API says about AbstractMethodError:\r\n\r\n&gt; Thrown when an application tries to\r\n&gt; call an abstract method. Normally,\r\n&gt; this error is caught by the compiler;\r\n&gt; this error can only occur at run time\r\n&gt; if the definition of some class has\r\n&gt; incompatibly changed since the\r\n&gt; currently executing method was last\r\n&gt; compiled.\r\n\r\nBug in the oracle driver, maybe?","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>Here's what the JDK API says about AbstractMethodError:</p>\n\n<blockquote>\n  <p>Thrown when an application tries to\n  call an abstract method. Normally,\n  this error is caught by the compiler;\n  this error can only occur at run time\n  if the definition of some class has\n  incompatibly changed since the\n  currently executing method was last\n  compiled.</p>\n</blockquote>\n\n<p>Bug in the oracle driver, maybe?</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1248796994,"creation_date":1248796994,"answer_id":1195107,"question_id":1194990,"body_markdown":"I would suggest investigating your classpath very carefully.  You might have two different versions of a jar file where one invokes methods in the other and the other method is abstract.","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>I would suggest investigating your classpath very carefully.  You might have two different versions of a jar file where one invokes methods in the other and the other method is abstract.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1520851404,"creation_date":1248800609,"answer_id":1195431,"question_id":1194990,"body_markdown":"With JDBC, that error usually occurs because your JDBC driver implements an older version of the JDBC API than the one included in your JRE. These older versions are fine so long as you don&#39;t try and use a method that appeared in the newer API.\r\n\r\nI&#39;m not sure what version of JDBC `setBinaryStream` appeared in. It&#39;s been around for a while, I think.\r\n\r\nRegardless, your JDBC driver version (10.2.0.4.0) is quite old, I recommend upgrading it to the version that was released with 11g (download [here][1]), and try again.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>With JDBC, that error usually occurs because your JDBC driver implements an older version of the JDBC API than the one included in your JRE. These older versions are fine so long as you don't try and use a method that appeared in the newer API.</p>\n\n<p>I'm not sure what version of JDBC <code>setBinaryStream</code> appeared in. It's been around for a while, I think.</p>\n\n<p>Regardless, your JDBC driver version (10.2.0.4.0) is quite old, I recommend upgrading it to the version that was released with 11g (download <a href=\"http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html\" rel=\"noreferrer\">here</a>), and try again.</p>\n"},{"tags":[],"owner":{"account_id":40419,"reputation":1688,"user_id":117126,"accept_rate":75,"display_name":"mic.sca"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1248857348,"creation_date":1248857348,"answer_id":1198851,"question_id":1194990,"body_markdown":"It looks that even if the driver 10.2 is compatible with the JDBC3 it may not work with JRE6\r\nas I&#39;ve found here:\r\n\r\n&lt;a href=&quot;http://www.oracle.com/technology/tech/java/sqlj_jdbc/htdocs/jdbc_faq.html#02_03&quot;&gt;http://www.oracle.com/technology/tech/java/sqlj_jdbc/htdocs/jdbc_faq.html#02_03&lt;/a&gt;\r\n\r\nWhich JDBC drivers support which versions of Javasoft&#39;s JDK?   \r\n\r\npre-8i OCI and THIN Drivers - JDK 1.0.x and JDK 1.1.x   \r\n8.1.5 OCI and THIN Drivers - JDK 1.0.x and JDK 1.1.x   \r\n8.1.6SDK THIN Driver - JDK 1.1.x and JDK 1.2.x (aka Java2)   \r\n8.1.6SDK OCI Driver - Only JDK 1.1.x   \r\n8.1.6 OCI and THIN Driver - JDK 1.1.x and JDK 1.2.x   \r\n8.1.7 OCI and THIN Driver - JDK 1.1.x and JDK 1.2.x   \r\n9.0.1 OCI and THIN Driver - JDK 1.1.x, JDK 1.2.x and JDK 1.3.x   \r\n9.2.0 OCI and THIN Driver - JDK 1.1.x, JDK 1.2.x, JDK 1.3.x, and JDK 1.4.x   \r\n10.1.0 OCI and THIN Driver - JDK 1.2.x, JDK 1.3.x, and JDK 1.4.x   \r\n10.2.0 OCI and THIN Driver - JDK 1.2.x, JDK 1.3.x, JDK 1.4.x, and JDK 5.0.x   \r\n11.1.0 OCI and THIN Driver - JDK 1.5.x and JDK 1.6.x   \r\n\r\n\r\nOracle 10.2.0 supports:     \r\n\r\nFull support for JDBC 3.0    \r\nNote that there is no real change in the support for the following in the database.     Allthat has changed is that some methods that previously threw SQLException now do something more reasonable instead.     \r\nresult-set holdability    \r\nreturning multiple result-sets.     \r\n","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>It looks that even if the driver 10.2 is compatible with the JDBC3 it may not work with JRE6\nas I've found here:</p>\n\n<p><a href=\"http://www.oracle.com/technology/tech/java/sqlj_jdbc/htdocs/jdbc_faq.html#02_03\" rel=\"noreferrer\"><a href=\"http://www.oracle.com/technology/tech/java/sqlj_jdbc/htdocs/jdbc_faq.html#02_03\" rel=\"noreferrer\">http://www.oracle.com/technology/tech/java/sqlj_jdbc/htdocs/jdbc_faq.html#02_03</a></a></p>\n\n<p>Which JDBC drivers support which versions of Javasoft's JDK?   </p>\n\n<p>pre-8i OCI and THIN Drivers - JDK 1.0.x and JDK 1.1.x<br>\n8.1.5 OCI and THIN Drivers - JDK 1.0.x and JDK 1.1.x<br>\n8.1.6SDK THIN Driver - JDK 1.1.x and JDK 1.2.x (aka Java2)<br>\n8.1.6SDK OCI Driver - Only JDK 1.1.x<br>\n8.1.6 OCI and THIN Driver - JDK 1.1.x and JDK 1.2.x<br>\n8.1.7 OCI and THIN Driver - JDK 1.1.x and JDK 1.2.x<br>\n9.0.1 OCI and THIN Driver - JDK 1.1.x, JDK 1.2.x and JDK 1.3.x<br>\n9.2.0 OCI and THIN Driver - JDK 1.1.x, JDK 1.2.x, JDK 1.3.x, and JDK 1.4.x<br>\n10.1.0 OCI and THIN Driver - JDK 1.2.x, JDK 1.3.x, and JDK 1.4.x<br>\n10.2.0 OCI and THIN Driver - JDK 1.2.x, JDK 1.3.x, JDK 1.4.x, and JDK 5.0.x<br>\n11.1.0 OCI and THIN Driver - JDK 1.5.x and JDK 1.6.x   </p>\n\n<p>Oracle 10.2.0 supports:     </p>\n\n<p>Full support for JDBC 3.0<br>\nNote that there is no real change in the support for the following in the database.     Allthat has changed is that some methods that previously threw SQLException now do something more reasonable instead.<br>\nresult-set holdability<br>\nreturning multiple result-sets.     </p>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248858121,"creation_date":1248858121,"answer_id":1198916,"question_id":1194990,"body_markdown":"As described in the API of `java.sql.PreparedStatement.setBinaryStream()` it is available since 1.6 so it is a **JDBC 4.0 API**! You use a **JDBC 3 Driver** so this method is not available!","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>As described in the API of <code>java.sql.PreparedStatement.setBinaryStream()</code> it is available since 1.6 so it is a <strong>JDBC 4.0 API</strong>! You use a <strong>JDBC 3 Driver</strong> so this method is not available!</p>\n"},{"tags":[],"owner":{"account_id":1360302,"reputation":41,"user_id":1297806,"display_name":"Sudarsan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351240016,"creation_date":1332928435,"answer_id":9905088,"question_id":1194990,"body_markdown":"Just put `ojdbc6.jar` in class path, so that we can fix `CallbaleStatement` exception:\r\n\r\n    oracle.jdbc.driver.T4CPreparedStatement.setBinaryStream(ILjava/io/InputStream;J)V)\r\n\r\nin Oracle.","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>Just put <code>ojdbc6.jar</code> in class path, so that we can fix <code>CallbaleStatement</code> exception:</p>\n\n<pre><code>oracle.jdbc.driver.T4CPreparedStatement.setBinaryStream(ILjava/io/InputStream;J)V)\n</code></pre>\n\n<p>in Oracle.</p>\n"},{"tags":[],"owner":{"account_id":2490611,"reputation":1,"user_id":2168129,"display_name":"niwotu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376018244,"creation_date":1376018244,"answer_id":18139571,"question_id":1194990,"body_markdown":"I do meet this problem.\r\nuse ojdbc14.jar and jdk 1.6 \r\n\r\n\tInputStream in = new FileInputStream(file);\t\t\r\n\tcstmt.setBinaryStream(1, in,file.length());  // got AbstractMethodError \r\n\r\n\tInputStream in = new FileInputStream(file);\t\t\r\n\tcstmt.setBinaryStream(1, in,(int)file.length());  // no problem.","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>I do meet this problem.\nuse ojdbc14.jar and jdk 1.6 </p>\n\n<pre><code>InputStream in = new FileInputStream(file);     \ncstmt.setBinaryStream(1, in,file.length());  // got AbstractMethodError \n\nInputStream in = new FileInputStream(file);     \ncstmt.setBinaryStream(1, in,(int)file.length());  // no problem.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3594043,"reputation":1,"user_id":2999318,"display_name":"ThanhMai"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1520851425,"creation_date":1384606509,"answer_id":20018700,"question_id":1194990,"body_markdown":"I got the same problem and resolved it.\r\n\r\nTo resolve this problem, you should upgrade *commons-dbcp* library to latest version (1.4). It will work with latest JDBC drivers.\r\n","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>I got the same problem and resolved it.</p>\n\n<p>To resolve this problem, you should upgrade <em>commons-dbcp</em> library to latest version (1.4). It will work with latest JDBC drivers.</p>\n"},{"tags":[],"owner":{"account_id":4430134,"reputation":1,"user_id":3607472,"display_name":"Dhananjay Randive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399369483,"creation_date":1399368319,"answer_id":23490766,"question_id":1194990,"body_markdown":"    InputStream in = new FileInputStream(file);     \r\n    cstmt.setBinaryStream(1, in,file.length());  \r\n\r\n\r\ninstead of this u need to use\r\n\r\n\r\n \r\n\r\n    InputStream in = new FileInputStream(file);     \r\n    cstmt.setBinaryStream(1, in,(int)file.length());  \r\n\r\n","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<pre><code>InputStream in = new FileInputStream(file);     \ncstmt.setBinaryStream(1, in,file.length());  \n</code></pre>\n\n<p>instead of this u need to use</p>\n\n<pre><code>InputStream in = new FileInputStream(file);     \ncstmt.setBinaryStream(1, in,(int)file.length());  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2467123,"reputation":909,"user_id":2149956,"accept_rate":30,"display_name":"Shoaib Khan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520851331,"creation_date":1402337640,"answer_id":24126278,"question_id":1194990,"body_markdown":"Just use ojdb6.jar and will fix all such issues.\r\n    \r\nFor maven based applications:\r\n    \r\n1. Download and copy ojdbc6.jar to a directory in your local machine\r\n    \r\n2. From the location where you have copied your jar install the ojdbc6.jar in your local .M2 Repo by issuing below command\r\n    C:\\SRK\\Softwares\\Libraries&gt;mvn install:install-file -DgroupId=com.oracle -DartifactId=ojdbc6 -Dversion=11.2.0.3 \r\n    -Dpackaging=jar -Dfile=ojdbc6.jar -DgeneratePom=true\r\n    \r\n3. Add the below in your project pom.xml as ojdbc6.jar dependency\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n            &lt;version&gt;11.2.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    \r\n    \r\nPS: The issue might be due to uses of @Lob annotation in JPA for storing large objects specifically in oracle db columns. Upgrading to 11.2.0.3 (ojdbc6.jar) can resolve the issue.\r\n","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>Just use ojdb6.jar and will fix all such issues.</p>\n\n<p>For maven based applications:</p>\n\n<ol>\n<li><p>Download and copy ojdbc6.jar to a directory in your local machine</p></li>\n<li><p>From the location where you have copied your jar install the ojdbc6.jar in your local .M2 Repo by issuing below command\nC:\\SRK\\Softwares\\Libraries>mvn install:install-file -DgroupId=com.oracle -DartifactId=ojdbc6 -Dversion=11.2.0.3 \n-Dpackaging=jar -Dfile=ojdbc6.jar -DgeneratePom=true</p></li>\n<li><p>Add the below in your project pom.xml as ojdbc6.jar dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n    &lt;version&gt;11.2.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n</ol>\n\n<p>PS: The issue might be due to uses of @Lob annotation in JPA for storing large objects specifically in oracle db columns. Upgrading to 11.2.0.3 (ojdbc6.jar) can resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412332999,"creation_date":1412332673,"answer_id":26177443,"question_id":1194990,"body_markdown":"The problem is due to older version of ojdbc - ojdbc14.\r\n\r\nPlace the latest version of ojdbc jar file in your application or shared library.\r\n(Only one version should be there and it should be the latest one)\r\nAs of today - ojdbc6.jar\r\n\r\nCheck the application libraries and shared libraries on server.","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>The problem is due to older version of ojdbc - ojdbc14.</p>\n\n<p>Place the latest version of ojdbc jar file in your application or shared library.\n(Only one version should be there and it should be the latest one)\nAs of today - ojdbc6.jar</p>\n\n<p>Check the application libraries and shared libraries on server.</p>\n"},{"tags":[],"owner":{"account_id":4130932,"reputation":1,"user_id":3388890,"display_name":"ArmağaN OlsuN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520851295,"creation_date":1433839843,"answer_id":30727239,"question_id":1194990,"body_markdown":"I think, the reason of the error from JDBC driver, you should get suitable JDBC driver for your Oracle db. You can get it from\r\n\r\n\r\nhttp://www.oracle.com/technetwork/database/enterprise-edition/jdbc-112010-090769.html","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>I think, the reason of the error from JDBC driver, you should get suitable JDBC driver for your Oracle db. You can get it from</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-112010-090769.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-112010-090769.html</a></p>\n"},{"tags":[],"owner":{"account_id":1961070,"reputation":303,"user_id":1762640,"display_name":"MayurChovatiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468789145,"creation_date":1468779044,"answer_id":38424380,"question_id":1194990,"body_markdown":"In my case this was the error.\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.isValid(I)Z\r\n\tat org.apache.tomcat.dbcp.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:917)\r\n\tat org.apache.tomcat.dbcp.dbcp2.PoolableConnection.validate(PoolableConnection.java:282)\r\n\tat org.apache.tomcat.dbcp.dbcp2.PoolableConnectionFactory.validateConnection(PoolableConnectionFactory.java:356)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:2306)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:2289)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:2038)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:1532)\r\n\tat beans.Test.main(Test.java:24)\r\n\r\n**Solution:** I just change `ojdbc14.jar` to `ojdbc6.jar`","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>In my case this was the error.</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.isValid(I)Z\n      at org.apache.tomcat.dbcp.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:917)\n      at org.apache.tomcat.dbcp.dbcp2.PoolableConnection.validate(PoolableConnection.java:282)\n      at org.apache.tomcat.dbcp.dbcp2.PoolableConnectionFactory.validateConnection(PoolableConnectionFactory.java:356)\n      at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:2306)\n      at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:2289)\n      at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:2038)\n      at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:1532)\n      at beans.Test.main(Test.java:24)</p>\n</blockquote>\n\n<p><strong>Solution:</strong> I just change <code>ojdbc14.jar</code> to <code>ojdbc6.jar</code></p>\n"},{"tags":[],"owner":{"account_id":9773964,"reputation":1324,"user_id":7244716,"accept_rate":88,"display_name":"valijon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518694514,"creation_date":1518693951,"answer_id":48806108,"question_id":1194990,"body_markdown":"In my case problem was at context.xml file of my project.\r\n\r\n The following from context.xml causes the **java.lang.AbstractMethodError**, since we didn&#39;t show the datasource factory.\r\n\r\n    &lt;Resource name=&quot;jdbc/myoracle&quot;\r\n                  auth=&quot;Container&quot;\r\n                  type=&quot;javax.sql.DataSource&quot;\r\n                  driverClassName=&quot;oracle.jdbc.OracleDriver&quot;\r\n                  url=&quot;jdbc:oracle:thin:@(DESCRIPTION = ... &quot;\r\n                  username=&quot;****&quot; password=&quot;****&quot; maxActive=&quot;10&quot; maxIdle=&quot;1&quot;\r\n                  maxWait=&quot;-1&quot; removeAbandoned=&quot;true&quot;/&gt; \r\n\r\nSimpy adding **factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;** solved the issue:\r\n\r\n    &lt;Resource name=&quot;jdbc/myoracle&quot;\r\n                  auth=&quot;Container&quot;\r\n                  factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;  type=&quot;javax.sql.DataSource&quot;\r\n                  driverClassName=&quot;oracle.jdbc.OracleDriver&quot;\r\n                  url=&quot;jdbc:oracle:thin:@(DESCRIPTION = ... &quot;\r\n                  username=&quot;****&quot; password=&quot;****&quot; maxActive=&quot;10&quot; maxIdle=&quot;1&quot;\r\n                  maxWait=&quot;-1&quot; removeAbandoned=&quot;true&quot;/&gt;\r\n\r\nTo make sure I reproduced the issue several times by removing   factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; from Resource          ","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>In my case problem was at context.xml file of my project.</p>\n\n<p>The following from context.xml causes the <strong>java.lang.AbstractMethodError</strong>, since we didn't show the datasource factory.</p>\n\n<pre><code>&lt;Resource name=\"jdbc/myoracle\"\n              auth=\"Container\"\n              type=\"javax.sql.DataSource\"\n              driverClassName=\"oracle.jdbc.OracleDriver\"\n              url=\"jdbc:oracle:thin:@(DESCRIPTION = ... \"\n              username=\"****\" password=\"****\" maxActive=\"10\" maxIdle=\"1\"\n              maxWait=\"-1\" removeAbandoned=\"true\"/&gt; \n</code></pre>\n\n<p>Simpy adding <strong>factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\"</strong> solved the issue:</p>\n\n<pre><code>&lt;Resource name=\"jdbc/myoracle\"\n              auth=\"Container\"\n              factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\"  type=\"javax.sql.DataSource\"\n              driverClassName=\"oracle.jdbc.OracleDriver\"\n              url=\"jdbc:oracle:thin:@(DESCRIPTION = ... \"\n              username=\"****\" password=\"****\" maxActive=\"10\" maxIdle=\"1\"\n              maxWait=\"-1\" removeAbandoned=\"true\"/&gt;\n</code></pre>\n\n<p>To make sure I reproduced the issue several times by removing   factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\" from Resource          </p>\n"}],"owner":{"account_id":40419,"reputation":1688,"user_id":117126,"accept_rate":75,"display_name":"mic.sca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160150,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":1198851,"answer_count":14,"score":51,"last_activity_date":1632761858,"creation_date":1248795822,"question_id":1194990,"body_markdown":"I&#39;ve got a problem with JDBC.\r\n\r\nI&#39;have the following code:\r\n\r\n    //blargeparam is a blob column.\r\n    PreparedStatement pst =connection.prepareStatement(&quot;update gcp_processparams_log set blargeparam= ? where idprocessparamslog=1&quot;);\r\n    \r\n    pst.setBinaryStream(1,inputStream);\t\t\t\r\n\r\n \r\n\r\nI get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.AbstractMethodError:           \r\n    oracle.jdbc.driver.T2CPreparedStatement.setBinaryStream(ILjava/io/InputStream;)V  \r\n\r\n\r\nMy connection string is `jdbc:oracle:oci:@.....`  \r\n\r\nThe Oracle version is 11g.  \r\n\r\nFrom the error message it seems that something is missing but:  \r\n\r\n - when I read from the same blob column\r\n   (with blob.getBytes) everything\r\n   works.\r\n - The DLL&#39;s of the instant client are\r\n   (correctly) in the library path.\r\n - This is the manifest of the Oracle\r\n   JDBC JAR in my class path:\r\n\r\n        Manifest-Version: 1.0  \r\n        Specification-Title:    Oracle JDBC driver classes for use with JDK14  \r\n        Sealed: true  \r\n        Created-By: 1.4.2_14 (Sun Microsystems Inc.)  \r\n        Implementation-Title:   ojdbc14.jar  \r\n        Specification-Vendor:   Oracle Corporation  \r\n        Specification-Version:  Oracle JDBC Driver version - &quot;10.2.0.4.0&quot;  \r\n        Implementation-Version: Oracle JDBC Driver version - &quot;10.2.0.4.0&quot;  \r\n        Implementation-Vendor:  Oracle Corporation  \r\n        Implementation-Time:    Sat Feb  2 11:40:29 2008  \r\n\t\t\t\t\r\n\t\t\t\t","title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>I've got a problem with JDBC.</p>\n\n<p>I'have the following code:</p>\n\n<pre><code>//blargeparam is a blob column.\nPreparedStatement pst =connection.prepareStatement(\"update gcp_processparams_log set blargeparam= ? where idprocessparamslog=1\");\n\npst.setBinaryStream(1,inputStream);         \n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.AbstractMethodError:           \noracle.jdbc.driver.T2CPreparedStatement.setBinaryStream(ILjava/io/InputStream;)V  \n</code></pre>\n\n<p>My connection string is <code>jdbc:oracle:oci:@.....</code>  </p>\n\n<p>The Oracle version is 11g.  </p>\n\n<p>From the error message it seems that something is missing but:  </p>\n\n<ul>\n<li>when I read from the same blob column\n(with blob.getBytes) everything\nworks.</li>\n<li>The DLL's of the instant client are\n(correctly) in the library path.</li>\n<li><p>This is the manifest of the Oracle\nJDBC JAR in my class path:</p>\n\n<pre><code>Manifest-Version: 1.0  \nSpecification-Title:    Oracle JDBC driver classes for use with JDK14  \nSealed: true  \nCreated-By: 1.4.2_14 (Sun Microsystems Inc.)  \nImplementation-Title:   ojdbc14.jar  \nSpecification-Vendor:   Oracle Corporation  \nSpecification-Version:  Oracle JDBC Driver version - \"10.2.0.4.0\"  \nImplementation-Version: Oracle JDBC Driver version - \"10.2.0.4.0\"  \nImplementation-Vendor:  Oracle Corporation  \nImplementation-Time:    Sat Feb  2 11:40:29 2008  \n</code></pre></li>\n</ul>\n"},{"tags":["java","button","javafx","layout","hbox"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1632522669,"post_id":69321557,"comment_id":122524730,"body_markdown":"Getting stuck is normal, I wouldn’t worry about it, instead, go to the Oracle site and study the [layout tutorials](https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html) there and practice.","body":"Getting stuck is normal, I wouldn’t worry about it, instead, go to the Oracle site and study the <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html\" rel=\"nofollow noreferrer\">layout tutorials</a> there and practice."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1632523109,"post_id":69321557,"comment_id":122524827,"body_markdown":"Also get your terms right.  You are placing nodes in the scene graph, not elements on a canvas, so the title doesn’t make sense. In JavaFX, a canvas has a completely different meaning.  Run a Google searches on “JavaFX scene graph” and “JavaFX canvas” to understand how different they are.","body":"Also get your terms right.  You are placing nodes in the scene graph, not elements on a canvas, so the title doesn’t make sense. In JavaFX, a canvas has a completely different meaning.  Run a Google searches on “JavaFX scene graph” and “JavaFX canvas” to understand how different they are."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1632523177,"post_id":69321557,"comment_id":122524834,"body_markdown":"*”I want to use HBox to place a button at a specific (x,y) coordinate.”*. That’s simply not what an `HBox`, or any other layout pane, does. [Layout panes](https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm) position child nodes relative to each other according to the specific rules of that pane; in the case of an `HBox` nodes are laid out horizontally in a row. It’s almost always bad practice to hard-code layout positions anyway. Just use a layout pane (or combination thereof) that positions the components where you want.","body":"<i>”I want to use HBox to place a button at a specific (x,y) coordinate.”</i>. That’s simply not what an <code>HBox</code>, or any other layout pane, does. <a href=\"https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm\" rel=\"nofollow noreferrer\">Layout panes</a> position child nodes relative to each other according to the specific rules of that pane; in the case of an <code>HBox</code> nodes are laid out horizontally in a row. It’s almost always bad practice to hard-code layout positions anyway. Just use a layout pane (or combination thereof) that positions the components where you want."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632761369,"creation_date":1632524306,"answer_id":69321818,"question_id":69321557,"body_markdown":"##### Don’t use a HBox for absolute positioning\r\n\r\nHBox isn`t the right layout for absolute positioning, it is an automated layout manager which sizes and positions stuff automatically based on an internal algorithm. \r\n\r\nSo, even though you are manually setting layout coordinates on child nodes in the HBox, the layout logic inside HBox will overwrite them with the values it calculates.\r\n\r\n##### Instead use a layout that does absolute positioning\r\n\r\nThere are other layouts like AnchorPane, Pane, and Group that work with absolute positioning. You should research them to ascertain what would be best for your situation.\r\n\r\nThe simplest layout, which also allows resizing is a Pane, so, if you wanted, you could substitute your HBox for that.\r\n\r\n##### Alternatives to absolute positioning\r\n\r\nFor most apps, the use of layout panes that provide greater automated layout features, such as Hboxes, VBoxes, BorderPanes, and GridPanes will usually be better choices than a plain Pane layout.  These are usually used in conjunction with various configurations and layout hints for the panes, such as instructions on the default alignment of nodes within the pane, or the min/max/pref size of child nodes.\r\n\r\n-----\r\n\r\nWhat follows isn&#39;t specific to the question, but just advice on learning about JavaFX layouts.\r\n\r\n##### General advice\r\n\r\nThe Oracle site has useful [layout tutorials](https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html) there and practice.\r\n\r\nIt is usually better to use automated layout managers, rather than absolute positioning.  The automatic layout managers assist in creating GUIs within areas of different sizes with support for dynamic resizing.\r\n\r\n##### Use SceneBuilder to learn about layouts\r\n\r\nDownload scene builder from Gluon.\r\n\r\nUse SceneBuilder to quickly mock up different layouts.  \r\n\r\nUse the preview feature to try the layouts out to see how they respond to interaction and resizing.  \r\n\r\nExport the SceneBuilder output to fxml and controller skeletons and inspect the output carefully to understand how the visual design maps to code.\r\n\r\nIt is much easier and more efficient to create and mock-up layouts in SceneBuilder than in Java code.\r\n\r\nBut don’t rely only on SceneBuilder for learning about layouts, also write layout logic in Java code so you know how to do that.","title":"How can I use HBox in JavaFX, to place certain elements at a specific location on the canvas?","body":"<h5>Don’t use a HBox for absolute positioning</h5>\n<p>HBox isn`t the right layout for absolute positioning, it is an automated layout manager which sizes and positions stuff automatically based on an internal algorithm.</p>\n<p>So, even though you are manually setting layout coordinates on child nodes in the HBox, the layout logic inside HBox will overwrite them with the values it calculates.</p>\n<h5>Instead use a layout that does absolute positioning</h5>\n<p>There are other layouts like AnchorPane, Pane, and Group that work with absolute positioning. You should research them to ascertain what would be best for your situation.</p>\n<p>The simplest layout, which also allows resizing is a Pane, so, if you wanted, you could substitute your HBox for that.</p>\n<h5>Alternatives to absolute positioning</h5>\n<p>For most apps, the use of layout panes that provide greater automated layout features, such as Hboxes, VBoxes, BorderPanes, and GridPanes will usually be better choices than a plain Pane layout.  These are usually used in conjunction with various configurations and layout hints for the panes, such as instructions on the default alignment of nodes within the pane, or the min/max/pref size of child nodes.</p>\n<hr />\n<p>What follows isn't specific to the question, but just advice on learning about JavaFX layouts.</p>\n<h5>General advice</h5>\n<p>The Oracle site has useful <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html\" rel=\"nofollow noreferrer\">layout tutorials</a> there and practice.</p>\n<p>It is usually better to use automated layout managers, rather than absolute positioning.  The automatic layout managers assist in creating GUIs within areas of different sizes with support for dynamic resizing.</p>\n<h5>Use SceneBuilder to learn about layouts</h5>\n<p>Download scene builder from Gluon.</p>\n<p>Use SceneBuilder to quickly mock up different layouts.</p>\n<p>Use the preview feature to try the layouts out to see how they respond to interaction and resizing.</p>\n<p>Export the SceneBuilder output to fxml and controller skeletons and inspect the output carefully to understand how the visual design maps to code.</p>\n<p>It is much easier and more efficient to create and mock-up layouts in SceneBuilder than in Java code.</p>\n<p>But don’t rely only on SceneBuilder for learning about layouts, also write layout logic in Java code so you know how to do that.</p>\n"}],"owner":{"account_id":20829755,"reputation":5,"user_id":15299335,"display_name":"old-boysenberry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1632552498,"answer_count":1,"score":-3,"last_activity_date":1632761369,"creation_date":1632521477,"question_id":69321557,"body_markdown":"A newbie! I know this is the easiest thing to do in my whole project, but for some stupid(I&#39;m the stupid) reason I&#39;m stuck here. I want to use HBox to place a button at a specific (x,y) coordinate. Please help:\r\n\r\n \r\n\r\n           \r\n        \r\n        //buttons\r\n            //HBox hbox = new HBox(200);\r\n            Button button = new Button(&quot; Add to meal &quot;);\r\n        \r\n        \r\n            //get info on all customs\r\n        \r\n        \r\n            Button button1 = new Button( &quot;   Add to list   &quot;);\r\n        \r\n            //hbox.getChildren().addAll(button);\r\n        \r\n    \r\n    //layout\r\n            //add to meal button\r\n            button.setLayoutX(125.0d);\r\n            button.setLayoutY(325.0d);\r\n        \r\n            //add to list button\r\n            button1.setLayoutX(130.0d);\r\n            button1.setLayoutY(520.0d);\r\n\r\n","title":"How can I use HBox in JavaFX, to place certain elements at a specific location on the canvas?","body":"<p>A newbie! I know this is the easiest thing to do in my whole project, but for some stupid(I'm the stupid) reason I'm stuck here. I want to use HBox to place a button at a specific (x,y) coordinate. Please help:</p>\n<pre><code>    //buttons\n        //HBox hbox = new HBox(200);\n        Button button = new Button(&quot; Add to meal &quot;);\n    \n    \n        //get info on all customs\n    \n    \n        Button button1 = new Button( &quot;   Add to list   &quot;);\n    \n        //hbox.getChildren().addAll(button);\n    \n\n//layout\n        //add to meal button\n        button.setLayoutX(125.0d);\n        button.setLayoutY(325.0d);\n    \n        //add to list button\n        button1.setLayoutX(130.0d);\n        button1.setLayoutY(520.0d);\n</code></pre>\n"},{"tags":["java","android","android-layout","android-recyclerview"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1632756249,"post_id":69348823,"comment_id":122573009,"body_markdown":"All that can be done with recycler view.  For the blank space, just have your adapter pretend that there&#39;s 1 more item than there is, and shift everything over by one (so our first real item is index 1, not index 0).  Fading the background can be done in an onScrollListener.","body":"All that can be done with recycler view.  For the blank space, just have your adapter pretend that there&#39;s 1 more item than there is, and shift everything over by one (so our first real item is index 1, not index 0).  Fading the background can be done in an onScrollListener."}],"answers":[{"tags":[],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632761281,"creation_date":1632761281,"answer_id":69350416,"question_id":69348823,"body_markdown":"* just make your adapter pretend to be having more data than it actually has.\r\nwhen it gives you `position &lt;n` (n : number of items you want empty at the beginning) don&#39;t load any image into and leave it empty.\r\nwhen it asks about the data size in `getItemCount()` return `your data size + n`.\r\n\r\n```\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt;{\r\n    ...\r\n    private final int N  =2 ;\r\n    @Override\r\n    public PageViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {...}\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PageViewHolder holder, int position) {\r\n         if(position &lt;N)return ;\r\n         else {\r\n             // bind your holder with data\r\n         }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return pageEntities.size() +N;\r\n    }\r\n}\r\n``` \r\n\r\n\r\n----------\r\n\r\n\r\n* you might also make use of the view Type value by overriding method `getItemViewType` and return value that indicates if you want this view holder to be empty or to have another behavior than the regular view holder.\r\n\r\n```\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt;{\r\n    ...\r\n    private final int N  =2 ;\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n         View v ;\r\n         if(viewType ==0){\r\n             v = LayoutInflater.from(context).inflate(R.layout.view_holder_item_1, parent, false);\r\n         }else {\r\n             v = LayoutInflater.from(context).inflate(R.layout.view_holder_item_2, parent, false);\r\n         }\r\n         return new new MyViewHolder(v.getRootView()) ;\r\n}\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n         if(position &lt;N){\r\n             // bind your holder view of type 1 with data you want\r\n         }\r\n         else {\r\n             // bind your holder view of type 2 with data you want\r\n         }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return pageEntities.size() +N;\r\n    }\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position &lt;N ?0:1 ;\r\n    }\r\n}\r\n``` \r\nwhere your type 1 in this case would be the empty view holder.","title":"How to build a custom horizontal recycler view like Play Store in Android?","body":"<ul>\n<li>just make your adapter pretend to be having more data than it actually has.\nwhen it gives you <code>position &lt;n</code> (n : number of items you want empty at the beginning) don't load any image into and leave it empty.\nwhen it asks about the data size in <code>getItemCount()</code> return <code>your data size + n</code>.</li>\n</ul>\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt;{\n    ...\n    private final int N  =2 ;\n    @Override\n    public PageViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {...}\n    @Override\n    public void onBindViewHolder(@NonNull PageViewHolder holder, int position) {\n         if(position &lt;N)return ;\n         else {\n             // bind your holder with data\n         }\n    }\n\n    @Override\n    public int getItemCount() {\n        return pageEntities.size() +N;\n    }\n}\n</code></pre>\n<hr />\n<ul>\n<li>you might also make use of the view Type value by overriding method <code>getItemViewType</code> and return value that indicates if you want this view holder to be empty or to have another behavior than the regular view holder.</li>\n</ul>\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt;{\n    ...\n    private final int N  =2 ;\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n         View v ;\n         if(viewType ==0){\n             v = LayoutInflater.from(context).inflate(R.layout.view_holder_item_1, parent, false);\n         }else {\n             v = LayoutInflater.from(context).inflate(R.layout.view_holder_item_2, parent, false);\n         }\n         return new new MyViewHolder(v.getRootView()) ;\n}\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n         if(position &lt;N){\n             // bind your holder view of type 1 with data you want\n         }\n         else {\n             // bind your holder view of type 2 with data you want\n         }\n    }\n\n    @Override\n    public int getItemCount() {\n        return pageEntities.size() +N;\n    }\n    @Override\n    public int getItemViewType(int position) {\n        return position &lt;N ?0:1 ;\n    }\n}\n</code></pre>\n<p>where your type 1 in this case would be the empty view holder.</p>\n"}],"owner":{"account_id":16884843,"reputation":27,"user_id":13784760,"display_name":"Kaustav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69350416,"answer_count":1,"score":0,"last_activity_date":1632761281,"creation_date":1632754562,"question_id":69348823,"body_markdown":"[![Playstore Recycler View][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8tEb5.gif\r\n\r\nI already know how to make horizontal RecyclerView, but I want to make a **custom recycler view having a blank space at the starting**, and when we start to scroll the background image gets faded. ","title":"How to build a custom horizontal recycler view like Play Store in Android?","body":"<p><a href=\"https://i.stack.imgur.com/8tEb5.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tEb5.gif\" alt=\"Playstore Recycler View\" /></a></p>\n<p>I already know how to make horizontal RecyclerView, but I want to make a <strong>custom recycler view having a blank space at the starting</strong>, and when we start to scroll the background image gets faded.</p>\n"},{"tags":["java","bash","jar","spring-batch"],"comments":[{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1632488539,"post_id":69315134,"comment_id":122513179,"body_markdown":"Obviously, the file mentioned in the exception does not exist. Which `java` executable are you using? You mentioned that you are running on Windows. I found that java.exe on Windows requires the path separator to be a `\\ `  and not a `/`.","body":"Obviously, the file mentioned in the exception does not exist. Which <code>java</code> executable are you using? You mentioned that you are running on Windows. I found that java.exe on Windows requires the path separator to be a <code>\\ </code>  and not a <code>&#47;</code>."},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1632494927,"post_id":69315134,"comment_id":122515953,"body_markdown":"java path is set, it is complaining about the /job-definition.xml file path.","body":"java path is set, it is complaining about the /job-definition.xml file path."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1632584601,"post_id":69315134,"comment_id":122535079,"body_markdown":"I don&#39;t see what this has to do with _java path_.....","body":"I don&#39;t see what this has to do with <i>java path</i>....."},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1632671246,"post_id":69315134,"comment_id":122550283,"body_markdown":"Ok, I want to run the java jar command using bash on windows OS and I could not do it.","body":"Ok, I want to run the java jar command using bash on windows OS and I could not do it."},{"owner":{"account_id":4663062,"reputation":85121,"user_id":3776858,"display_name":"Cyrus"},"score":0,"creation_date":1632689131,"post_id":69315134,"comment_id":122554340,"body_markdown":"Please replace image with its text.","body":"Please replace image with its text."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1632726609,"post_id":69315134,"comment_id":122560703,"body_markdown":"Are you using Spring Boot? If no, what is the main class you use to launch your job? This is important because we should know how command line parameters are interpreted. Is it a custom one or the one provided by Spring Batch named `CommandLineJobRunner`?","body":"Are you using Spring Boot? If no, what is the main class you use to launch your job? This is important because we should know how command line parameters are interpreted. Is it a custom one or the one provided by Spring Batch named <code>CommandLineJobRunner</code>?"},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1632727259,"post_id":69315134,"comment_id":122560897,"body_markdown":"Yes, we are using spring batch, CommandLineJobRunner is the main class provided by Spring Batch.","body":"Yes, we are using spring batch, CommandLineJobRunner is the main class provided by Spring Batch."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1632728264,"post_id":69315134,"comment_id":122561270,"body_markdown":"I don&#39;t see to what extent this is related to bash. Java is started, and finds a classpath which is obviously syntactically wrong. I would focus on where this class path comes from.","body":"I don&#39;t see to what extent this is related to bash. Java is started, and finds a classpath which is obviously syntactically wrong. I would focus on where this class path comes from."}],"answers":[{"tags":[],"owner":{"account_id":15157080,"reputation":250,"user_id":10937507,"display_name":"Bon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632760857,"creation_date":1632760536,"answer_id":69350220,"question_id":69315134,"body_markdown":"The problem is with the **path** separators used, in cdm the interpreter is treating this path as an absolute path starting from the root of the drive you are running this.\r\n\r\nGit bash however, mangles the provided paths and translates it, adding the current git execution path to the provided path arguments, that&#39;s why you see the temp directory in front of your provided path.\r\nIf you specify command-line options starting with a slash, POSIX-to-Windows path conversion will kick in converting e.g. &quot;/usr/bin/bash.exe&quot; to &quot;C:\\Program Files\\Git\\usr\\bin\\bash.exe&quot;.\r\n\r\nWhat you could do is add `//` at the beginning of your path for the bash - `//spring/batch/...`","title":"Spring Batch : Job Terminated in error: IOException parsing XML document from Class Path Resource c:/directory/job-definition.xml","body":"<p>The problem is with the <strong>path</strong> separators used, in cdm the interpreter is treating this path as an absolute path starting from the root of the drive you are running this.</p>\n<p>Git bash however, mangles the provided paths and translates it, adding the current git execution path to the provided path arguments, that's why you see the temp directory in front of your provided path.\nIf you specify command-line options starting with a slash, POSIX-to-Windows path conversion will kick in converting e.g. &quot;/usr/bin/bash.exe&quot; to &quot;C:\\Program Files\\Git\\usr\\bin\\bash.exe&quot;.</p>\n<p>What you could do is add <code>//</code> at the beginning of your path for the bash - <code>//spring/batch/...</code></p>\n"}],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69350220,"answer_count":1,"score":0,"last_activity_date":1632760857,"creation_date":1632486976,"question_id":69315134,"body_markdown":"I have a spring batch application packaged as a jar file.\r\n\r\nI could execute the jar as mentioned below in the windows cmd prompt\r\n\r\n&gt; java -Xms2048m -Xmx2048m -Ddivision=25 -Ddate= -Denv=dv -Dconn=45 -jar demo-jobs*.jar job-definition.xml jobName -next\r\n\r\nhowever the above command fails in the bash shell (installed in windows)  with the following error\r\n\r\n**In CMD Prompt:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&gt; Job Terminated in error: IOException parsing XML document from Class Path Resource c:/directory/job-definition.xml\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn **POM.XML:**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sbCMp.png\r\n  [2]: https://i.stack.imgur.com/gqA57.png\r\n  [3]: https://i.stack.imgur.com/qDgQc.png\r\n  [4]: https://i.stack.imgur.com/z1rj5.png","title":"Spring Batch : Job Terminated in error: IOException parsing XML document from Class Path Resource c:/directory/job-definition.xml","body":"<p>I have a spring batch application packaged as a jar file.</p>\n<p>I could execute the jar as mentioned below in the windows cmd prompt</p>\n<blockquote>\n<p>java -Xms2048m -Xmx2048m -Ddivision=25 -Ddate= -Denv=dv -Dconn=45 -jar demo-jobs*.jar job-definition.xml jobName -next</p>\n</blockquote>\n<p>however the above command fails in the bash shell (installed in windows)  with the following error</p>\n<p><strong>In CMD Prompt:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/sbCMp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sbCMp.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>Job Terminated in error: IOException parsing XML document from Class Path Resource c:/directory/job-definition.xml</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/gqA57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gqA57.png\" alt=\"enter image description here\" /></a></p>\n<p>In <strong>POM.XML:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/z1rj5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z1rj5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632760431,"creation_date":1632760431,"answer_id":69350203,"question_id":69349707,"body_markdown":"You can set the level in application.properties like\r\n\r\n    logging.level.root= INFO","title":"Change Spring Webclient log level from DEBUG to WARN or ERROR","body":"<p>You can set the level in application.properties like</p>\n<pre><code>logging.level.root= INFO\n</code></pre>\n"}],"owner":{"account_id":22875213,"reputation":11,"user_id":17017647,"display_name":"Amlan Kumar Rath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632760431,"creation_date":1632758299,"question_id":69349707,"body_markdown":"I have a very simple java application (not spring boot application), in which I am using Spring WebClient to parallely make HTTP calls. I have initialised it in global as below :\r\n\r\n```\r\nprivate static final WebClient webClient = WebClient.create();\r\n```\r\nand using it across my application. Now the issue is that when it starts, it prints a message as following :\r\n\r\n```\r\n21:10:59.417 [main] DEBUG io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework\r\n```\r\nAfter that it starts to print all(a ton of) debug logs, which hamper my capability to test and application\r\n\r\nIs there any way to change the log level if WebClient is used as above, and not in SpringApplication ? I have tried all solutions offered in https://stackoverflow.com/questions/65481011/disable-spring-boot-webclient-logs, and nothing works.","title":"Change Spring Webclient log level from DEBUG to WARN or ERROR","body":"<p>I have a very simple java application (not spring boot application), in which I am using Spring WebClient to parallely make HTTP calls. I have initialised it in global as below :</p>\n<pre><code>private static final WebClient webClient = WebClient.create();\n</code></pre>\n<p>and using it across my application. Now the issue is that when it starts, it prints a message as following :</p>\n<pre><code>21:10:59.417 [main] DEBUG io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework\n</code></pre>\n<p>After that it starts to print all(a ton of) debug logs, which hamper my capability to test and application</p>\n<p>Is there any way to change the log level if WebClient is used as above, and not in SpringApplication ? I have tried all solutions offered in <a href=\"https://stackoverflow.com/questions/65481011/disable-spring-boot-webclient-logs\">Disable Spring Boot Webclient logs</a>, and nothing works.</p>\n"},{"tags":["java","android","notifications"],"comments":[{"owner":{"account_id":9834469,"reputation":1711,"user_id":7285283,"accept_rate":56,"display_name":"Panache"},"score":0,"creation_date":1498886199,"post_id":44723887,"comment_id":76695384,"body_markdown":"ref this https://stackoverflow.com/questions/39732880/android-n-checking-for-dnd-state-changed-before-updating-checkbox-preference.","body":"ref this <a href=\"https://stackoverflow.com/questions/39732880/android-n-checking-for-dnd-state-changed-before-updating-checkbox-preference\" title=\"android n checking for dnd state changed before updating checkbox preference\">stackoverflow.com/questions/39732880/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":9127058,"reputation":1906,"user_id":6790308,"display_name":"Meikiem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498228450,"creation_date":1498228450,"answer_id":44724004,"question_id":44723887,"body_markdown":"You can check it in a way like this:\r\n\r\n     if (ContextCompat.checkSelfPermission(context, Manifest.permission.ACCESS_NOTIFICATION_POLICY) != PackageManager.PERMISSION_GRANTED) {\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(getActivity(), Manifest.permission.ACCESS_NOTIFICATION_POLICY)) {\r\n\r\n        } else {\r\n               ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_NOTIFICATION_POLICY}, RC_ACCESS_NOTIFICATION_POLICY);\r\n           \r\n       }\r\n    }\r\nRC_ACCESS_NOTIFICATION_POLICY is the key that you can get the result by this in this way with onPermissionGranted\r\n","title":"Get Notification Access Granted Status","body":"<p>You can check it in a way like this:</p>\n\n<pre><code> if (ContextCompat.checkSelfPermission(context, Manifest.permission.ACCESS_NOTIFICATION_POLICY) != PackageManager.PERMISSION_GRANTED) {\n    if (ActivityCompat.shouldShowRequestPermissionRationale(getActivity(), Manifest.permission.ACCESS_NOTIFICATION_POLICY)) {\n\n    } else {\n           ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_NOTIFICATION_POLICY}, RC_ACCESS_NOTIFICATION_POLICY);\n\n   }\n}\n</code></pre>\n\n<p>RC_ACCESS_NOTIFICATION_POLICY is the key that you can get the result by this in this way with onPermissionGranted</p>\n"},{"tags":[],"owner":{"account_id":3363883,"reputation":53,"user_id":3788141,"display_name":"Khashayar Nourian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632759813,"creation_date":1632759813,"answer_id":69350069,"question_id":44723887,"body_markdown":"if anyone still looking for a solution this is my solution\r\n\r\n     private boolean isNotificationServiceEnabled() {\r\n        String pkgName = getPackageName();\r\n        final String flat = Settings.Secure.getString(getContentResolver(),\r\n                ENABLED_NOTIFICATION_LISTENERS);\r\n        if (!TextUtils.isEmpty(flat)) {\r\n            final String[] names = flat.split(&quot;:&quot;);\r\n            for (String name : names) {\r\n                final ComponentName cn = ComponentName.unflattenFromString(name);\r\n                if (cn != null) {\r\n                    if (TextUtils.equals(pkgName, cn.getPackageName())) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"Get Notification Access Granted Status","body":"<p>if anyone still looking for a solution this is my solution</p>\n<pre><code> private boolean isNotificationServiceEnabled() {\n    String pkgName = getPackageName();\n    final String flat = Settings.Secure.getString(getContentResolver(),\n            ENABLED_NOTIFICATION_LISTENERS);\n    if (!TextUtils.isEmpty(flat)) {\n        final String[] names = flat.split(&quot;:&quot;);\n        for (String name : names) {\n            final ComponentName cn = ComponentName.unflattenFromString(name);\n            if (cn != null) {\n                if (TextUtils.equals(pkgName, cn.getPackageName())) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":9834469,"reputation":1711,"user_id":7285283,"accept_rate":56,"display_name":"Panache"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3709,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1632759813,"creation_date":1498228153,"question_id":44723887,"body_markdown":"I am trying to provide Notification Access to my app, for that I have added below permission in Manifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NOTIFICATION_POLICY&quot; /&gt;\r\n\r\nAlso I have registered listener as below on activity.\r\n\r\n    IntentFilter notlist = null;\r\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n                    notlist = new IntentFilter(ACTION_NOTIFICATION_POLICY_ACCESS_GRANTED_CHANGED);\r\n                }\r\n                Intent notlistch = registerReceiver(null,notlist);\r\n\r\nNow when user clicks on button I have below code\r\n\r\n      if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                                                startActivity(new Intent(ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS));\r\n                                            }\r\n\r\nNow If I click on button with above code in it, this will always take me to notification settings, so if my app has got access during first click, how can I check it before throwing intent for opening settings.\r\n\r\nI read to use `ACTION_NOTIFICATION_POLICY_ACCESS_GRANTED_CHANGED`, but did not understand how to use it. Can anyone help me.\r\n\r\nideally I should check access status first and then on getting false, I should call intent to open notification settings.","title":"Get Notification Access Granted Status","body":"<p>I am trying to provide Notification Access to my app, for that I have added below permission in Manifest</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NOTIFICATION_POLICY\" /&gt;\n</code></pre>\n\n<p>Also I have registered listener as below on activity.</p>\n\n<pre><code>IntentFilter notlist = null;\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n                notlist = new IntentFilter(ACTION_NOTIFICATION_POLICY_ACCESS_GRANTED_CHANGED);\n            }\n            Intent notlistch = registerReceiver(null,notlist);\n</code></pre>\n\n<p>Now when user clicks on button I have below code</p>\n\n<pre><code>  if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                                            startActivity(new Intent(ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS));\n                                        }\n</code></pre>\n\n<p>Now If I click on button with above code in it, this will always take me to notification settings, so if my app has got access during first click, how can I check it before throwing intent for opening settings.</p>\n\n<p>I read to use <code>ACTION_NOTIFICATION_POLICY_ACCESS_GRANTED_CHANGED</code>, but did not understand how to use it. Can anyone help me.</p>\n\n<p>ideally I should check access status first and then on getting false, I should call intent to open notification settings.</p>\n"},{"tags":["java","string","operators"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1632749394,"post_id":69347486,"comment_id":122569901,"body_markdown":"You tried with BigInteger and failed? What did you try? How did it fail?","body":"You tried with BigInteger and failed? What did you try? How did it fail?"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":0,"creation_date":1632751989,"post_id":69347486,"comment_id":122571129,"body_markdown":"&quot;_it failed to compare BigInteger with Integer value_&quot; You shouldn&#39;t compare BigIntegers objects with `&gt;`. Use `.compareTo()` to compare them. Like `if (new BigInteger(str).compareTo(BigInteger.valueOf(2).pow(63)) &gt; 0)`.","body":"&quot;<i>it failed to compare BigInteger with Integer value</i>&quot; You shouldn&#39;t compare BigIntegers objects with <code>&gt;</code>. Use <code>.compareTo()</code> to compare them. Like <code>if (new BigInteger(str).compareTo(BigInteger.valueOf(2).pow(63)) &gt; 0)</code>."}],"answers":[{"tags":[],"owner":{"account_id":22761319,"reputation":96,"user_id":16920105,"display_name":"Gummysaur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632749591,"creation_date":1632749591,"answer_id":69347574,"question_id":69347486,"body_markdown":"You can&#39;t compare Strings to numbers using &lt; and &gt;. To the computer, the string &quot;127&quot; is not a number at all. It&#39;s like asking someone &quot;is apple bigger than 5?&quot; It&#39;s not a solvable question.\r\n\r\nYou said you are working with &quot;extremely large&quot; numbers, although 127 isn&#39;t very large at all. But assuming this is true, you&#39;ll want to parse the string into a long first, then compare. [This][1] explains how to do it quite well.\r\n\r\nAlso, this code isn&#39;t taking user input at all. Do you also need help on that, or have you simply not implemented it yet?\r\n\r\n\r\n  [1]: https://beginnersbook.com/2013/12/how-to-convert-string-to-long-in-java/","title":"Where can I store extreme large number input by the user and compare it with byte, short, int, long data types","body":"<p>You can't compare Strings to numbers using &lt; and &gt;. To the computer, the string &quot;127&quot; is not a number at all. It's like asking someone &quot;is apple bigger than 5?&quot; It's not a solvable question.</p>\n<p>You said you are working with &quot;extremely large&quot; numbers, although 127 isn't very large at all. But assuming this is true, you'll want to parse the string into a long first, then compare. <a href=\"https://beginnersbook.com/2013/12/how-to-convert-string-to-long-in-java/\" rel=\"nofollow noreferrer\">This</a> explains how to do it quite well.</p>\n<p>Also, this code isn't taking user input at all. Do you also need help on that, or have you simply not implemented it yet?</p>\n"}],"owner":{"account_id":22873752,"reputation":1,"user_id":17016388,"display_name":"Mohit Rajgor"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1632753338,"answer_count":1,"score":-3,"last_activity_date":1632759607,"creation_date":1632749249,"question_id":69347486,"body_markdown":"I want to take input of number from the user and check if the number can be fit in byte, short, int, long datatypes, if user inputs extreme large number , I just display that the entered number cannot be fit in any datatype.\r\n```\r\nimport java.lang.Math;\r\nimport java.util.Scanner;\r\nclass Zcheck {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String l = sc.next();\r\n            if(l &gt;= -128 &amp;&amp; l &lt;= 127)\r\n                System.out.println(l+&quot; can be fitted in:\\n* byte\\n* short\\n* int\\n* long&quot;);\r\n            else if(l &gt;= -32768 &amp;&amp; l &lt;= 32767)\r\n                System.out.println(l+&quot; can be fitted in:\\n* short\\n* int\\n* long&quot;);\r\n            else if(l &gt;= -Math.pow(2, 31) &amp;&amp; l &lt;= (Math.pow(2, 31) - 1))\r\n                System.out.println(l+&quot; can be fitted in:\\n* int\\n* long&quot;);\r\n            else if(l &gt;= -Math.pow(2, 63) &amp;&amp; l &lt;= (Math.pow(2, 63) - 1))\r\n                System.out.println(l+&quot; can be fitted in:\\n* long&quot;);\r\n            else\r\n                System.out.println(l+&quot; can&#39;t be fitted anywhere.&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThings were okk when the user inputs a number which can be store in long type I just make long variable and comparing it with the with the ranges of datatypes and display the appropriate message using if-else.\r\nBut when the user inputs extremly large number it was the problem that I cannot store such large number in long data type too. So I tried for String or BigInteger data types but further the problem occurred that I cannot compare String or BigInteger with the another datatype in if-else condition.","title":"Where can I store extreme large number input by the user and compare it with byte, short, int, long data types","body":"<p>I want to take input of number from the user and check if the number can be fit in byte, short, int, long datatypes, if user inputs extreme large number , I just display that the entered number cannot be fit in any datatype.</p>\n<pre><code>import java.lang.Math;\nimport java.util.Scanner;\nclass Zcheck {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String l = sc.next();\n            if(l &gt;= -128 &amp;&amp; l &lt;= 127)\n                System.out.println(l+&quot; can be fitted in:\\n* byte\\n* short\\n* int\\n* long&quot;);\n            else if(l &gt;= -32768 &amp;&amp; l &lt;= 32767)\n                System.out.println(l+&quot; can be fitted in:\\n* short\\n* int\\n* long&quot;);\n            else if(l &gt;= -Math.pow(2, 31) &amp;&amp; l &lt;= (Math.pow(2, 31) - 1))\n                System.out.println(l+&quot; can be fitted in:\\n* int\\n* long&quot;);\n            else if(l &gt;= -Math.pow(2, 63) &amp;&amp; l &lt;= (Math.pow(2, 63) - 1))\n                System.out.println(l+&quot; can be fitted in:\\n* long&quot;);\n            else\n                System.out.println(l+&quot; can't be fitted anywhere.&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>Things were okk when the user inputs a number which can be store in long type I just make long variable and comparing it with the with the ranges of datatypes and display the appropriate message using if-else.\nBut when the user inputs extremly large number it was the problem that I cannot store such large number in long data type too. So I tried for String or BigInteger data types but further the problem occurred that I cannot compare String or BigInteger with the another datatype in if-else condition.</p>\n"},{"tags":["java","android","macos","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632759501,"creation_date":1632745381,"answer_id":69346538,"question_id":69346357,"body_markdown":"You should use the latest version of gradle supported by Android Studio. In the gradle-wrapper.properties file in the gradle\\wrapper folder, change the line `distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7.0-bin.zip` to `distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-bin.zip`\r\nAlso, update the Android Gradle Plugin\r\n","title":"port out of range:-1 .Failed to notify build listener","body":"<p>You should use the latest version of gradle supported by Android Studio. In the gradle-wrapper.properties file in the gradle\\wrapper folder, change the line <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7.0-bin.zip</code> to <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-bin.zip</code>\nAlso, update the Android Gradle Plugin</p>\n"}],"owner":{"account_id":12192798,"reputation":2691,"user_id":8899640,"display_name":"jitendra kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632759501,"creation_date":1632744529,"question_id":69346357,"body_markdown":" what&#39;s possible reason ?\r\ngradle :6.7 \r\nand android studio version : Android studio arctic Fox | 2020.3.1 Patch 2 \r\n\r\n**Question : Latest version of android studio is incompatible with gradle 6 ?**\r\n\r\nIf not then what&#39;s possible problem of this compilation error ? \r\n\r\n   \r\n\r\n    org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:89)\r\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\r\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\r\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\r\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n        at com.sun.proxy.$Proxy18.buildFinished(Unknown Source)","title":"port out of range:-1 .Failed to notify build listener","body":"<p>what's possible reason ?\ngradle :6.7\nand android studio version : Android studio arctic Fox | 2020.3.1 Patch 2</p>\n<p><strong>Question : Latest version of android studio is incompatible with gradle 6 ?</strong></p>\n<p>If not then what's possible problem of this compilation error ?</p>\n<pre><code>org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:89)\n    at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\n    at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy18.buildFinished(Unknown Source)\n</code></pre>\n"},{"tags":["java","rest","get"],"comments":[{"owner":{"account_id":17253722,"reputation":135,"user_id":12493323,"display_name":"inquirymind"},"score":0,"creation_date":1632758144,"post_id":69349565,"comment_id":122573797,"body_markdown":"Please, provide the failing code","body":"Please, provide the failing code"},{"owner":{"account_id":22341011,"reputation":45,"user_id":16560784,"display_name":"Anu Shivangi"},"score":0,"creation_date":1632759166,"post_id":69349565,"comment_id":122574195,"body_markdown":"Hi @inquirymind, I have pasted the code.","body":"Hi @inquirymind, I have pasted the code."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1632763676,"post_id":69349565,"comment_id":122575957,"body_markdown":"Try to set up system properties pointing to your trust store like shown [here](https://www.webelement.click/en/pkix_path_building_failed_in_api_tests_java#_how_do_i_use_my_new_trust_store_in_my_java_test)","body":"Try to set up system properties pointing to your trust store like shown <a href=\"https://www.webelement.click/en/pkix_path_building_failed_in_api_tests_java#_how_do_i_use_my_new_trust_store_in_my_java_test\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":22341011,"reputation":45,"user_id":16560784,"display_name":"Anu Shivangi"},"score":0,"creation_date":1633512557,"post_id":69349565,"comment_id":122776899,"body_markdown":"Hi @AlexeyR. I tried but thats also not working.   Can anyone please help. I have only .jks file/certificate and its password, please help that how to add those in Java code and enable a successful GET query in REST API. Please help!","body":"Hi @AlexeyR. I tried but thats also not working.   Can anyone please help. I have only .jks file/certificate and its password, please help that how to add those in Java code and enable a successful GET query in REST API. Please help!"}],"owner":{"account_id":22341011,"reputation":45,"user_id":16560784,"display_name":"Anu Shivangi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1632759070,"creation_date":1632757709,"question_id":69349565,"body_markdown":"I have never used REST API, but have to get data using it, I have jks cerificate and connection URL.\r\n    How can I used it with GET Method. tried with Google available code but failing with certificate related error. Please help.\r\n    \r\nCode -- Not working\r\n    \r\n    package com.barclays.ods.utils;\r\n    \r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLHandshakeException;\r\n    import java.io.*;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class ODSRouteCheckUtility {\r\n    \r\n    \r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        String odsGlossUrl = &quot;https://testurl/df-web/Query&quot; ; //args[0];\r\n        ODSRouteCheckUtility odsRouteCheckUtility = new ODSRouteCheckUtility();\r\n        odsRouteCheckUtility.MyGETRequest(odsGlossUrl);\r\n          MyGETRequest(odsGlossUrl);\r\n    \r\n      }\r\n    \r\n      public static void MyGETRequest(String odsGlossUrl) throws IOException {\r\n        URL urlForGetRequest = new URL(odsGlossUrl);\r\n        String readLine = null;\r\n        HttpURLConnection conection = (HttpURLConnection) urlForGetRequest.openConnection();\r\n        conection.setRequestMethod(&quot;GET&quot;);\r\n        int responseCode = conection.getResponseCode();\r\n    \r\n    \r\n        if (responseCode == HttpURLConnection.HTTP_OK) {\r\n          BufferedReader in = new BufferedReader(\r\n                  new InputStreamReader(conection.getInputStream()));\r\n          StringBuffer response = new StringBuffer();\r\n          while ((readLine = in .readLine()) != null) {\r\n            response.append(readLine);\r\n          } in .close();\r\n          // print result\r\n          System.out.println(&quot;JSON String Result &quot; + response.toString());\r\n          //GetAndPost.POSTRequest(response.toString());\r\n        } else {\r\n          System.out.println(&quot;GET NOT WORKED&quot;);\r\n        }\r\n      }\r\n    \r\n      private static void readFromStream(InputStream response) throws Exception {\r\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(response))) {\r\n          String strCurrentLine;\r\n          while ((strCurrentLine = br.readLine()) != null) {\r\n            System.out.println(strCurrentLine);\r\n          }\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n          throw e;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nError :\r\n    Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\r\n    \tat sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    \tat sun.security.ssl.TransportContext.fatal(TransportContext.java:353)\r\n    \tat sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\r\n    \tat sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\r\n    \tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:652)\r\n    \tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:471)\r\n    \tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:367)\r\n\r\n","title":"How to connect REST API with certificate in Java using GET and read message","body":"<p>I have never used REST API, but have to get data using it, I have jks cerificate and connection URL.\nHow can I used it with GET Method. tried with Google available code but failing with certificate related error. Please help.</p>\n<p>Code -- Not working</p>\n<pre><code>package com.barclays.ods.utils;\n\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLHandshakeException;\nimport java.io.*;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class ODSRouteCheckUtility {\n\n\n  public static void main(String[] args) throws Exception {\n\n    String odsGlossUrl = &quot;https://testurl/df-web/Query&quot; ; //args[0];\n    ODSRouteCheckUtility odsRouteCheckUtility = new ODSRouteCheckUtility();\n    odsRouteCheckUtility.MyGETRequest(odsGlossUrl);\n      MyGETRequest(odsGlossUrl);\n\n  }\n\n  public static void MyGETRequest(String odsGlossUrl) throws IOException {\n    URL urlForGetRequest = new URL(odsGlossUrl);\n    String readLine = null;\n    HttpURLConnection conection = (HttpURLConnection) urlForGetRequest.openConnection();\n    conection.setRequestMethod(&quot;GET&quot;);\n    int responseCode = conection.getResponseCode();\n\n\n    if (responseCode == HttpURLConnection.HTTP_OK) {\n      BufferedReader in = new BufferedReader(\n              new InputStreamReader(conection.getInputStream()));\n      StringBuffer response = new StringBuffer();\n      while ((readLine = in .readLine()) != null) {\n        response.append(readLine);\n      } in .close();\n      // print result\n      System.out.println(&quot;JSON String Result &quot; + response.toString());\n      //GetAndPost.POSTRequest(response.toString());\n    } else {\n      System.out.println(&quot;GET NOT WORKED&quot;);\n    }\n  }\n\n  private static void readFromStream(InputStream response) throws Exception {\n    try (BufferedReader br = new BufferedReader(new InputStreamReader(response))) {\n      String strCurrentLine;\n      while ((strCurrentLine = br.readLine()) != null) {\n        System.out.println(strCurrentLine);\n      }\n    } catch (Exception e) {\n      e.printStackTrace();\n      throw e;\n    }\n  }\n}\n</code></pre>\n<p>Error :\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\nat sun.security.ssl.Alert.createSSLException(Alert.java:131)\nat sun.security.ssl.TransportContext.fatal(TransportContext.java:353)\nat sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\nat sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\nat sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:652)\nat sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:471)\nat sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:367)</p>\n"},{"tags":["java","flashdevelop"],"owner":{"account_id":15504619,"reputation":11,"user_id":17017768,"display_name":"Manic Man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632758991,"creation_date":1632758991,"question_id":69349876,"body_markdown":"While it seams a simple edit to the JVM.config to make FlashDevelop use the 32bit JRE, that doesn&#39;t seam to work for me..\r\n\r\nI&#39;ve just had to reinstall stuff and FlashDevelop doesn&#39;t want to allow debuging. It displays trace outputs but not debugging.\r\n\r\n&gt; Debugger startup error. For troubleshooting see:\r\n&gt; http://www.flashdevelop.org/wikidocs/index.php?title=F.A.Q Error\r\n&gt; details: net.sf.jni4net.jni.JNIException: Can&#39;t initialize jni4net.\r\n&gt; (32bit vs 64bit JVM vs CLR ?) CLR architecture: 32bit JAVA_HOME:\r\n&gt; C:\\Program Files\\Java\\jre6 ---&gt; System.BadImageFormatException: An\r\n&gt; attempt was made to load a program with an incorrect format.\r\n&gt; (Exception from HRESULT: 0x8007000B)    at\r\n&gt; net.sf.jni4net.jni.JNI.Dll.JNI_GetDefaultJavaVMInitArgs(JavaVMInitArgs*\r\n&gt; args)    at net.sf.jni4net.jni.JNI.Init()    --- End of inner\r\n&gt; exception stack trace ---    at net.sf.jni4net.jni.JNI.Init()    at\r\n&gt; net.sf.jni4net.jni.JNI.CreateJavaVM(JavaVM&amp; jvm, JNIEnv&amp; env, Boolean\r\n&gt; attachIfExists, String[] options)    at\r\n&gt; net.sf.jni4net.Bridge.CreateJVM()    at\r\n&gt; net.sf.jni4net.Bridge.CreateJVM(BridgeSetup setup)    at\r\n&gt; FlashDebugger.DebuggerManager.Start(Boolean alwaysStart)\r\n\r\n\r\nFlashDevelop is 32bit. Now, I change the jvm.config to use the 32bit installation and now I get:\r\n\r\n&gt; Starting java as: C:\\Program Files (x86)\\Java\\jre6\\bin\\java -Xmx4000m\r\n&gt; -Dsun.io.useCanonCaches=false -Duser.language=en -Duser.region=US -Djava.util.Arrays.useLegacyMergeSort=true -Dapplication.home=&quot;C:\\Program Files (x86)\\FlashDevelop\\Tools\\flexsdk&quot; -jar &quot;C:\\Program Files (x86)\\FlashDevelop\\Tools\\flexsdk\\lib\\fcsh.jar&quot; INITIALIZING: E Could not create the Java virtual machine. Build\r\n&gt; halted with errors (fcsh).\r\n\r\n\r\nso I seam stuck with either no debugging, or no running at all. Any ideas? all I seam to find is just to do the edit and not use version 8.. which the edit fails, and its setting to version 6..\r\n\r\nThanks","title":"FlashDevelop Java 32-bit problem - No Debugger","body":"<p>While it seams a simple edit to the JVM.config to make FlashDevelop use the 32bit JRE, that doesn't seam to work for me..</p>\n<p>I've just had to reinstall stuff and FlashDevelop doesn't want to allow debuging. It displays trace outputs but not debugging.</p>\n<blockquote>\n<p>Debugger startup error. For troubleshooting see:\n<a href=\"http://www.flashdevelop.org/wikidocs/index.php?title=F.A.Q\" rel=\"nofollow noreferrer\">http://www.flashdevelop.org/wikidocs/index.php?title=F.A.Q</a> Error\ndetails: net.sf.jni4net.jni.JNIException: Can't initialize jni4net.\n(32bit vs 64bit JVM vs CLR ?) CLR architecture: 32bit JAVA_HOME:\nC:\\Program Files\\Java\\jre6 ---&gt; System.BadImageFormatException: An\nattempt was made to load a program with an incorrect format.\n(Exception from HRESULT: 0x8007000B)    at\nnet.sf.jni4net.jni.JNI.Dll.JNI_GetDefaultJavaVMInitArgs(JavaVMInitArgs*\nargs)    at net.sf.jni4net.jni.JNI.Init()    --- End of inner\nexception stack trace ---    at net.sf.jni4net.jni.JNI.Init()    at\nnet.sf.jni4net.jni.JNI.CreateJavaVM(JavaVM&amp; jvm, JNIEnv&amp; env, Boolean\nattachIfExists, String[] options)    at\nnet.sf.jni4net.Bridge.CreateJVM()    at\nnet.sf.jni4net.Bridge.CreateJVM(BridgeSetup setup)    at\nFlashDebugger.DebuggerManager.Start(Boolean alwaysStart)</p>\n</blockquote>\n<p>FlashDevelop is 32bit. Now, I change the jvm.config to use the 32bit installation and now I get:</p>\n<blockquote>\n<p>Starting java as: C:\\Program Files (x86)\\Java\\jre6\\bin\\java -Xmx4000m\n-Dsun.io.useCanonCaches=false -Duser.language=en -Duser.region=US -Djava.util.Arrays.useLegacyMergeSort=true -Dapplication.home=&quot;C:\\Program Files (x86)\\FlashDevelop\\Tools\\flexsdk&quot; -jar &quot;C:\\Program Files (x86)\\FlashDevelop\\Tools\\flexsdk\\lib\\fcsh.jar&quot; INITIALIZING: E Could not create the Java virtual machine. Build\nhalted with errors (fcsh).</p>\n</blockquote>\n<p>so I seam stuck with either no debugging, or no running at all. Any ideas? all I seam to find is just to do the edit and not use version 8.. which the edit fails, and its setting to version 6..</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","exception","spring-boot-actuator"],"owner":{"account_id":20279529,"reputation":107,"user_id":16368673,"display_name":"Saltuk Kezer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632758726,"creation_date":1632758726,"question_id":69349816,"body_markdown":"I&#39;m working on a Spring Boot application and wrote a custom actuator Endpoint that uses the built-in Health Endpoint and wraps its content to a specific business-demanded format. The problem is that when i start the application normally everything works as expected, in the tests i however get an error that the `HealthController required a bean of type &#39;org.springframework.boot.actuate.health.HealthEndpoint&#39; that could not be found.` \r\nDo you know where my mistake is?\r\n\r\nThe custom endpoint looks something like this:\r\n\r\n    @Endpoint(\r\n      id = &quot;custom-health&quot;\r\n    )\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class HealthController {\r\n    \r\n      private final HealthEndpoint healthEndpoint;\r\n      \r\n      @ReadOperation\r\n      public CustomHealthComponent health() {\r\n          //some code that is mapping from the internally used HealthEndpoint models to the custom models\r\n          return ...;\r\n      }\r\n\r\nThis class is scanned on application start like this:\r\n\r\n    @SpringBootApplication(exclude = {\r\n      SecurityAutoConfiguration.class,\r\n      ManagementWebSecurityAutoConfiguration.class\r\n    })\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackageClasses = {\r\n        //some classes...\r\n    })\r\n    @EntityScan(basePackageClasses = {\r\n      //some classes...\r\n    })\r\n    @ComponentScan(\r\n      basePackages = {\r\n        &quot;health&quot;, &lt;- this package contains the `HealthController` Component listed above\r\n        //some packages...\r\n      },\r\n      excludeFilters = @ComponentScan.Filter(type = FilterType.CUSTOM, classes = some exclusions...)\r\n    )\r\n    public class Application {\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n      }\r\n    }\r\n\r\nAnd the test class in which i get the error:\r\n\r\n    @Slf4j\r\n    @SpringBootTest(classes = Application.class, webEnvironment = RANDOM_PORT)\r\n    @ActiveProfiles(profiles = {&quot;test1&quot;, &quot;test2&quot;})\r\n    public class TheFailingIT {\r\n       //lots of tests that all fail with the specified error...\r\n    }\r\n\r\nI also made following changes to the `test/resources/application.yaml` to activate the custom endpoint (i made the same changes in the real `application.properties` file and there it worked, in the tests unfortunately not)\r\n\r\n    management:\r\n      endpoints:\r\n        web:\r\n          discovery:\r\n            enabled: false\r\n          exposure:\r\n            include: custom-health\r\n          cors:\r\n            allowed-methods: GET\r\n            allowed-origins: &quot;*&quot;\r\n          base-path: /basepath\r\n        enabled-by-default: true\r\n      health:\r\n        defaults:\r\n          enabled: false\r\n        db:\r\n          enabled: true\r\n          \r\n      endpoint:\r\n        health:\r\n          enabled: true\r\n          show-details: ALWAYS\r\n\r\nPS: Few changes to the class names have been made. Also i tried to comment out irrelevant stuff. If there are any further questions to clarify the current codebase feel free to ask! Thanks in advance for the help.\r\n\r\n","title":"Spring Boot Health Endpoint not found in Tests","body":"<p>I'm working on a Spring Boot application and wrote a custom actuator Endpoint that uses the built-in Health Endpoint and wraps its content to a specific business-demanded format. The problem is that when i start the application normally everything works as expected, in the tests i however get an error that the <code>HealthController required a bean of type 'org.springframework.boot.actuate.health.HealthEndpoint' that could not be found.</code>\nDo you know where my mistake is?</p>\n<p>The custom endpoint looks something like this:</p>\n<pre><code>@Endpoint(\n  id = &quot;custom-health&quot;\n)\n@Component\n@RequiredArgsConstructor\npublic class HealthController {\n\n  private final HealthEndpoint healthEndpoint;\n  \n  @ReadOperation\n  public CustomHealthComponent health() {\n      //some code that is mapping from the internally used HealthEndpoint models to the custom models\n      return ...;\n  }\n</code></pre>\n<p>This class is scanned on application start like this:</p>\n<pre><code>@SpringBootApplication(exclude = {\n  SecurityAutoConfiguration.class,\n  ManagementWebSecurityAutoConfiguration.class\n})\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackageClasses = {\n    //some classes...\n})\n@EntityScan(basePackageClasses = {\n  //some classes...\n})\n@ComponentScan(\n  basePackages = {\n    &quot;health&quot;, &lt;- this package contains the `HealthController` Component listed above\n    //some packages...\n  },\n  excludeFilters = @ComponentScan.Filter(type = FilterType.CUSTOM, classes = some exclusions...)\n)\npublic class Application {\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n<p>And the test class in which i get the error:</p>\n<pre><code>@Slf4j\n@SpringBootTest(classes = Application.class, webEnvironment = RANDOM_PORT)\n@ActiveProfiles(profiles = {&quot;test1&quot;, &quot;test2&quot;})\npublic class TheFailingIT {\n   //lots of tests that all fail with the specified error...\n}\n</code></pre>\n<p>I also made following changes to the <code>test/resources/application.yaml</code> to activate the custom endpoint (i made the same changes in the real <code>application.properties</code> file and there it worked, in the tests unfortunately not)</p>\n<pre><code>management:\n  endpoints:\n    web:\n      discovery:\n        enabled: false\n      exposure:\n        include: custom-health\n      cors:\n        allowed-methods: GET\n        allowed-origins: &quot;*&quot;\n      base-path: /basepath\n    enabled-by-default: true\n  health:\n    defaults:\n      enabled: false\n    db:\n      enabled: true\n      \n  endpoint:\n    health:\n      enabled: true\n      show-details: ALWAYS\n</code></pre>\n<p>PS: Few changes to the class names have been made. Also i tried to comment out irrelevant stuff. If there are any further questions to clarify the current codebase feel free to ask! Thanks in advance for the help.</p>\n"},{"tags":["java","slf4j","jcifs","smbj"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1632752036,"post_id":69348150,"comment_id":122571154,"body_markdown":"You need `net.engio.mbassy.bus.error.IPublicationErrorHandler` in the class path.","body":"You need <code>net.engio.mbassy.bus.error.IPublicationErrorHandler</code> in the class path."},{"owner":{"account_id":49179,"reputation":297,"user_id":146355,"accept_rate":15,"display_name":"Maria"},"score":0,"creation_date":1632758714,"post_id":69348150,"comment_id":122574042,"body_markdown":"I need to add in which block?","body":"I need to add in which block?"},{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1632759154,"post_id":69348150,"comment_id":122574188,"body_markdown":"Maybe try to add the dependency in your maven POM file.","body":"Maybe try to add the dependency in your maven POM file."}],"owner":{"account_id":49179,"reputation":297,"user_id":146355,"accept_rate":15,"display_name":"Maria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632758664,"creation_date":1632751883,"question_id":69348150,"body_markdown":"I tried to connect the file server using the library smbj, I am getting the error &quot;Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot; Shared the Error Log for reference.\r\nMy requirement is to change the &quot;jcifs library&quot; to &quot;smbj library&quot;, the below sample code has been written for that. \r\n    \r\n    CODE:-\r\n    import com.hierynomus.msfscc.fileinformation.FileIdBothDirectoryInformation;\r\n    import com.hierynomus.smbj.SMBClient;\r\n    import com.hierynomus.smbj.auth.AuthenticationContext;\r\n    import com.hierynomus.smbj.connection.Connection;\r\n    import com.hierynomus.smbj.session.Session;\r\n    import com.hierynomus.smbj.share.DiskShare;\r\n    import net.engio.mbassy.bus.error.IPublicationErrorHandler;\r\n    import net.engio.mbassy.bus.error.PublicationError;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n        public class pseudo {\r\n            public static void main(String[] args) throws Exception {\r\n        \r\n        \t@SuppressWarnings(&quot;resource&quot;)\r\n        \tSMBClient client = new SMBClient();\r\n        \r\n            try (Connection connection = client.connect(&quot;xxxxx&quot;)) {\r\n                AuthenticationContext ac = new AuthenticationContext(&quot;xxxx&quot;, &quot;xxxx&quot;.toCharArray(), &quot;DOMAIN&quot;);\r\n                Session session = connection.authenticate(ac);\r\n        \r\n                // Connect to Share\r\n                try (DiskShare share = (DiskShare) session.connectShare(&quot;XXXX\\&quot;)) {\r\n                \tfor (FileIdBothDirectoryInformation f : share.list(&quot;&quot;)) {\r\n                    \tSystem.out.println(&quot;File : &quot; + f.getFileName());\r\n                \t}\t\t\t\r\n                }\r\n            }\r\n        }  \r\n        }\r\n\r\n**Error:**\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/engio/mbassy/bus/error/IPublicationErrorHandler\r\n    \tat com.hierynomus.smbj.SMBClient.&lt;init&gt;(SMBClient.java:54)\r\n    \tat com.hierynomus.smbj.SMBClient.&lt;init&gt;(SMBClient.java:50)\r\n    \tat com.tnq.fms.poc2.main(poc2.java:23)\r\n    Caused by: java.lang.ClassNotFoundException: net.engio.mbassy.bus.error.IPublicationErrorHandler\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 3 more\r\n\r\n**Used Lib:**\r\nsmbj-0.11.3.jar\r\nslf4j-api-1.7.15.jar\r\nlog4j-1.2.16.jar","title":"SMBJ Library and SLF4J: Failed to load class","body":"<p>I tried to connect the file server using the library smbj, I am getting the error &quot;Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot; Shared the Error Log for reference.\nMy requirement is to change the &quot;jcifs library&quot; to &quot;smbj library&quot;, the below sample code has been written for that.</p>\n<pre><code>CODE:-\nimport com.hierynomus.msfscc.fileinformation.FileIdBothDirectoryInformation;\nimport com.hierynomus.smbj.SMBClient;\nimport com.hierynomus.smbj.auth.AuthenticationContext;\nimport com.hierynomus.smbj.connection.Connection;\nimport com.hierynomus.smbj.session.Session;\nimport com.hierynomus.smbj.share.DiskShare;\nimport net.engio.mbassy.bus.error.IPublicationErrorHandler;\nimport net.engio.mbassy.bus.error.PublicationError;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n    public class pseudo {\n        public static void main(String[] args) throws Exception {\n    \n        @SuppressWarnings(&quot;resource&quot;)\n        SMBClient client = new SMBClient();\n    \n        try (Connection connection = client.connect(&quot;xxxxx&quot;)) {\n            AuthenticationContext ac = new AuthenticationContext(&quot;xxxx&quot;, &quot;xxxx&quot;.toCharArray(), &quot;DOMAIN&quot;);\n            Session session = connection.authenticate(ac);\n    \n            // Connect to Share\n            try (DiskShare share = (DiskShare) session.connectShare(&quot;XXXX\\&quot;)) {\n                for (FileIdBothDirectoryInformation f : share.list(&quot;&quot;)) {\n                    System.out.println(&quot;File : &quot; + f.getFileName());\n                }           \n            }\n        }\n    }  \n    }\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/engio/mbassy/bus/error/IPublicationErrorHandler\n    at com.hierynomus.smbj.SMBClient.&lt;init&gt;(SMBClient.java:54)\n    at com.hierynomus.smbj.SMBClient.&lt;init&gt;(SMBClient.java:50)\n    at com.tnq.fms.poc2.main(poc2.java:23)\nCaused by: java.lang.ClassNotFoundException: net.engio.mbassy.bus.error.IPublicationErrorHandler\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 3 more\n</code></pre>\n<p><strong>Used Lib:</strong>\nsmbj-0.11.3.jar\nslf4j-api-1.7.15.jar\nlog4j-1.2.16.jar</p>\n"},{"tags":["java","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632758467,"creation_date":1632758467,"answer_id":69349746,"question_id":69312783,"body_markdown":"No, it&#39;s not possible to compile Java first in a single module. You can try [this SO answer](https://stackoverflow.com/a/34880233/876595) to show the dependency tree of a project. The task `compileJava` does depend on `compileKotlin`:\r\n\r\n```\r\n:app:build\r\n+--- :app:assemble\r\n|    +--- :app:distTar\r\n|    |    +--- :app:jar\r\n|    |    |    +--- :app:classes\r\n|    |    |    |    +--- :app:compileJava\r\n|    |    |    |    |    \\--- :app:compileKotlin\r\n|    |    |    |    \\--- :app:processResources\r\n|    |    |    +--- :app:compileKotlin *\r\n|    |    |    \\--- :app:inspectClassesForKotlinIC\r\n|    |    |         +--- :app:classes *\r\n|    |    |         \\--- :app:compileKotlin *\r\n|    |    \\--- :app:startScripts\r\n|    |         \\--- :app:jar *\r\n|    +--- :app:distZip\r\n|    |    +--- :app:jar *\r\n|    |    \\--- :app:startScripts *\r\n|    \\--- :app:jar *\r\n\\--- :app:check\r\n     \\--- :app:test\r\n          +--- :app:classes *\r\n          +--- :app:compileKotlin *\r\n          +--- :app:compileTestKotlin\r\n          |    +--- :app:classes *\r\n          |    +--- :app:compileKotlin *\r\n          |    \\--- :app:jar *\r\n          \\--- :app:testClasses\r\n               +--- :app:compileTestJava\r\n               |    +--- :app:classes *\r\n               |    +--- :app:compileKotlin *\r\n               |    \\--- :app:compileTestKotlin *\r\n               \\--- :app:processTestResources\r\n```\r\n\r\nAlso, mixing Java and Kotlin code will make Lombok annotations useless. You can try to access a Lombok-annotated POJO from Kotlin code.\r\n\r\nI faced the same problem before, and I had to choose the multi-module solution. However, it&#39;s not a poor decision because the `build.gradle.kts`s are much cleaner.","title":"How to achieve ordering of Java and Kotlin compilation tasks in single module Gradle project","body":"<p>No, it's not possible to compile Java first in a single module. You can try <a href=\"https://stackoverflow.com/a/34880233/876595\">this SO answer</a> to show the dependency tree of a project. The task <code>compileJava</code> does depend on <code>compileKotlin</code>:</p>\n<pre><code>:app:build\n+--- :app:assemble\n|    +--- :app:distTar\n|    |    +--- :app:jar\n|    |    |    +--- :app:classes\n|    |    |    |    +--- :app:compileJava\n|    |    |    |    |    \\--- :app:compileKotlin\n|    |    |    |    \\--- :app:processResources\n|    |    |    +--- :app:compileKotlin *\n|    |    |    \\--- :app:inspectClassesForKotlinIC\n|    |    |         +--- :app:classes *\n|    |    |         \\--- :app:compileKotlin *\n|    |    \\--- :app:startScripts\n|    |         \\--- :app:jar *\n|    +--- :app:distZip\n|    |    +--- :app:jar *\n|    |    \\--- :app:startScripts *\n|    \\--- :app:jar *\n\\--- :app:check\n     \\--- :app:test\n          +--- :app:classes *\n          +--- :app:compileKotlin *\n          +--- :app:compileTestKotlin\n          |    +--- :app:classes *\n          |    +--- :app:compileKotlin *\n          |    \\--- :app:jar *\n          \\--- :app:testClasses\n               +--- :app:compileTestJava\n               |    +--- :app:classes *\n               |    +--- :app:compileKotlin *\n               |    \\--- :app:compileTestKotlin *\n               \\--- :app:processTestResources\n</code></pre>\n<p>Also, mixing Java and Kotlin code will make Lombok annotations useless. You can try to access a Lombok-annotated POJO from Kotlin code.</p>\n<p>I faced the same problem before, and I had to choose the multi-module solution. However, it's not a poor decision because the <code>build.gradle.kts</code>s are much cleaner.</p>\n"}],"owner":{"account_id":3800508,"reputation":1,"user_id":3154307,"display_name":"jarek.wolf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632758467,"creation_date":1632476165,"question_id":69312783,"body_markdown":"I have a backend service written in Java using Spring Boot as a framework and with help of Lombok as an annotation processor (to generate boilerplate code) that I build using Gradle.\r\nI would like to introduce Kotlin into that service in an incremental and quite conservative way. Namely, I would like to rewrite controllers, when opportunity appears, then the code that is used by those controllers and so on downwards the call stack, until whole service is rewritten. Also, I would like to keep strict dependency rule: in no way would my Java code call Kotlin code.\r\n\r\nIn regard to Gradle, I would like my Java code to be compiled first and only by Java compiler. I don&#39;t want the Kotlin compiler to touch this code, but only to rely on compiled classes. I tried to use Kotlin plugin for Gradle (org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.21) but it affects my build in such a way that task compileKotlin appears first\r\n\r\n        Found task graph: org.gradle.execution.taskgraph.DefaultTaskExecutionGraph@782f578b\r\n    Found 29 tasks.\r\n    task &#39;:compileKotlin&#39;\r\n    task &#39;:compileJava&#39;\r\n\r\nI would like it to be more like\r\n\r\n    task &#39;:compileJava&#39;\r\n    task &#39;:compileKotlin&#39;\r\n    \r\nCan I establish the order of compilation tasks such that Java is compiled first in a single-module Gradle project? Is making two separate modules the only choice available?","title":"How to achieve ordering of Java and Kotlin compilation tasks in single module Gradle project","body":"<p>I have a backend service written in Java using Spring Boot as a framework and with help of Lombok as an annotation processor (to generate boilerplate code) that I build using Gradle.\nI would like to introduce Kotlin into that service in an incremental and quite conservative way. Namely, I would like to rewrite controllers, when opportunity appears, then the code that is used by those controllers and so on downwards the call stack, until whole service is rewritten. Also, I would like to keep strict dependency rule: in no way would my Java code call Kotlin code.</p>\n<p>In regard to Gradle, I would like my Java code to be compiled first and only by Java compiler. I don't want the Kotlin compiler to touch this code, but only to rely on compiled classes. I tried to use Kotlin plugin for Gradle (org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.21) but it affects my build in such a way that task compileKotlin appears first</p>\n<pre><code>    Found task graph: org.gradle.execution.taskgraph.DefaultTaskExecutionGraph@782f578b\nFound 29 tasks.\ntask ':compileKotlin'\ntask ':compileJava'\n</code></pre>\n<p>I would like it to be more like</p>\n<pre><code>task ':compileJava'\ntask ':compileKotlin'\n</code></pre>\n<p>Can I establish the order of compilation tasks such that Java is compiled first in a single-module Gradle project? Is making two separate modules the only choice available?</p>\n"},{"tags":["java","regex","text-to-speech"],"answers":[{"tags":[],"owner":{"account_id":18868507,"reputation":980,"user_id":13763713,"display_name":"oliver_t"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632758342,"creation_date":1632758342,"answer_id":69349718,"question_id":69348868,"body_markdown":"What you need is a so-called positive lookahead. Your RegEx should only match numbers, if they are directly followed by letters:\r\n\r\n    \\d+(?=[A-Za-z])\r\n\r\n[see here in regex101.com][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/G00kLq/1","title":"A simple RegEx problem in T2S TTS app. I&#39;m not very knowledgeable with RegEx or coding so any help would be appreciated","body":"<p>What you need is a so-called positive lookahead. Your RegEx should only match numbers, if they are directly followed by letters:</p>\n<pre><code>\\d+(?=[A-Za-z])\n</code></pre>\n<p><a href=\"https://regex101.com/r/G00kLq/1\" rel=\"nofollow noreferrer\">see here in regex101.com</a></p>\n"}],"owner":{"account_id":22874364,"reputation":3,"user_id":17016925,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69349718,"answer_count":1,"score":0,"last_activity_date":1632758342,"creation_date":1632754729,"question_id":69348868,"body_markdown":"So I have a very simple problem that has been troubling me for a little while. I read translated Chinese/Korean novels often but I&#39;m a slow reader so I use a tts to help me read faster and when I&#39;m busy with doing other things. But in the text that is sent to the tts from the website, the translator/editor sometimes makes mistakes or possibly just a formatting problem or something. There are some instances where a sentence/paragraph starts with a number. For example, the paragraph can start with something like &quot;1There was...&quot; so originally the foolish me put the number 1 to be replaced with a blank in the speaking text process. But as you would guess 1 pops up quite often haha so instead I looked up some RegEx and came up with this [0-9][:alpha:] or [A-Za-z], which does work to find instances of that specific problem but the only issue is that I want it to remove the number but not the letter. So the example &quot;1There&quot; is currently &quot;here&quot; instead of &quot;There&quot; since it searches for the RegEx and replaces it with a blank and I&#39;m not knowledgeable enough to figure out how to make it work. So any help would be helpful. I feel like it&#39;s a simple problem but I&#39;m just too dumb to figure it out haha. If nothing else I&#39;ll take this as a learning experience.","title":"A simple RegEx problem in T2S TTS app. I&#39;m not very knowledgeable with RegEx or coding so any help would be appreciated","body":"<p>So I have a very simple problem that has been troubling me for a little while. I read translated Chinese/Korean novels often but I'm a slow reader so I use a tts to help me read faster and when I'm busy with doing other things. But in the text that is sent to the tts from the website, the translator/editor sometimes makes mistakes or possibly just a formatting problem or something. There are some instances where a sentence/paragraph starts with a number. For example, the paragraph can start with something like &quot;1There was...&quot; so originally the foolish me put the number 1 to be replaced with a blank in the speaking text process. But as you would guess 1 pops up quite often haha so instead I looked up some RegEx and came up with this [0-9][:alpha:] or [A-Za-z], which does work to find instances of that specific problem but the only issue is that I want it to remove the number but not the letter. So the example &quot;1There&quot; is currently &quot;here&quot; instead of &quot;There&quot; since it searches for the RegEx and replaces it with a blank and I'm not knowledgeable enough to figure out how to make it work. So any help would be helpful. I feel like it's a simple problem but I'm just too dumb to figure it out haha. If nothing else I'll take this as a learning experience.</p>\n"},{"tags":["java","azure","azure-blob-storage"],"comments":[{"owner":{"account_id":11956426,"reputation":1961,"user_id":8748639,"display_name":"zolty13"},"score":0,"creation_date":1632511613,"post_id":69320160,"comment_id":122521925,"body_markdown":"https://stackoverflow.com/questions/2642919/checking-if-a-blob-exists-in-azure-storage is this helpful","body":"<a href=\"https://stackoverflow.com/questions/2642919/checking-if-a-blob-exists-in-azure-storage\" title=\"checking if a blob exists in azure storage\">stackoverflow.com/questions/2642919/&hellip;</a> is this helpful"},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1632511712,"post_id":69320160,"comment_id":122521954,"body_markdown":"Unfortunately not, this checks if the blob exists. In my case, I want to create the file in my specified folder.","body":"Unfortunately not, this checks if the blob exists. In my case, I want to create the file in my specified folder."},{"owner":{"account_id":11956426,"reputation":1961,"user_id":8748639,"display_name":"zolty13"},"score":0,"creation_date":1632512806,"post_id":69320160,"comment_id":122522306,"body_markdown":"What exactly is your problem? You want to download file or to upload it. In blob storage there is no folders at all. If you want to upload file why do you use download method","body":"What exactly is your problem? You want to download file or to upload it. In blob storage there is no folders at all. If you want to upload file why do you use download method"},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1632513181,"post_id":69320160,"comment_id":122522436,"body_markdown":"I am trying to download...","body":"I am trying to download..."},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1632513270,"post_id":69320160,"comment_id":122522464,"body_markdown":"@zolty13 My precise expectation (even though it was already precise) : I want to take a blob on azure and make it a file in my server.","body":"@zolty13 My precise expectation (even though it was already precise) : I want to take a blob on azure and make it a file in my server."},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1632513330,"post_id":69320160,"comment_id":122522488,"body_markdown":"I tried this and many other docs, but nothing works... https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=bash#download-blobs","body":"I tried this and many other docs, but nothing works... <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=bash#download-blobs\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/storage/blobs/&hellip;</a>"},{"owner":{"account_id":11956426,"reputation":1961,"user_id":8748639,"display_name":"zolty13"},"score":0,"creation_date":1632513877,"post_id":69320160,"comment_id":122522669,"body_markdown":"The file you want download does not exists on azure blob storage so you receive `java.nio.file.NoSuchFileException`. `FileAlradyExistsException` is thrown when file with such a name already exists at your local file system, in your case it is your server","body":"The file you want download does not exists on azure blob storage so you receive <code>java.nio.file.NoSuchFileException</code>. <code>FileAlradyExistsException</code> is thrown when file with such a name already exists at your local file system, in your case it is your server"},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1632514176,"post_id":69320160,"comment_id":122522762,"body_markdown":"then how do I check if the file exists?","body":"then how do I check if the file exists?"},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1632514422,"post_id":69320160,"comment_id":122522825,"body_markdown":"I don&#39;t think that this is the problem, the blobClient.exists() returns true.","body":"I don&#39;t think that this is the problem, the blobClient.exists() returns true."},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1632514454,"post_id":69320160,"comment_id":122522842,"body_markdown":"`Sep. 24, 2021 4:12:40 P.M. com.azure.core.util.logging.ClientLogger performLogging\nSEVERE: java.nio.file.NoSuchFileException: /Download/User_Manual/manual.pdf`","body":"<code>Sep. 24, 2021 4:12:40 P.M. com.azure.core.util.logging.ClientLogger performLogging SEVERE: java.nio.file.NoSuchFileException: &#47;Download&#47;User_Manual&#47;manual.pdf</code>"},{"owner":{"account_id":11956426,"reputation":1961,"user_id":8748639,"display_name":"zolty13"},"score":0,"creation_date":1632514698,"post_id":69320160,"comment_id":122522918,"body_markdown":"Does path for this new downloaded file exists? /Download/User_Manual","body":"Does path for this new downloaded file exists? /Download/User_Manual"},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1632514761,"post_id":69320160,"comment_id":122522944,"body_markdown":"no, otherwise it would throw the `FileAlradyExistsException`","body":"no, otherwise it would throw the <code>FileAlradyExistsException</code>"},{"owner":{"account_id":11956426,"reputation":1961,"user_id":8748639,"display_name":"zolty13"},"score":0,"creation_date":1632515907,"post_id":69320160,"comment_id":122523271,"body_markdown":"Please provide more code. Also with you tryings with File Exists method.","body":"Please provide more code. Also with you tryings with File Exists method."},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":0,"creation_date":1632516457,"post_id":69320160,"comment_id":122523426,"body_markdown":"Forget it, I fixed it...","body":"Forget it, I fixed it..."},{"owner":{"account_id":11956426,"reputation":1961,"user_id":8748639,"display_name":"zolty13"},"score":0,"creation_date":1632516585,"post_id":69320160,"comment_id":122523468,"body_markdown":"So please provide answer below. Good night","body":"So please provide answer below. Good night"},{"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"score":1,"creation_date":1632517764,"post_id":69320160,"comment_id":122523762,"body_markdown":"It still doesn&#39;t work ideally, I will provide it when I&#39;m done!","body":"It still doesn&#39;t work ideally, I will provide it when I&#39;m done!"},{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":1,"creation_date":1632530439,"post_id":69320160,"comment_id":122525840,"body_markdown":"You need to ensure that “User_Manual” folder exists inside your “Download” folder. SDK will not create this folder for you.","body":"You need to ensure that “User_Manual” folder exists inside your “Download” folder. SDK will not create this folder for you."}],"answers":[{"tags":[],"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632758216,"creation_date":1632758216,"answer_id":69349689,"question_id":69320160,"body_markdown":"As @Gaurav Mantri mentioned, the folder itself had to be present. So I had to build all the folders and now the files load perfectly.","title":"Azure BlobClient downloadToFile() throws java.nio.file.NoSuchFileException","body":"<p>As @Gaurav Mantri mentioned, the folder itself had to be present. So I had to build all the folders and now the files load perfectly.</p>\n"}],"owner":{"account_id":18640261,"reputation":89,"user_id":13586157,"display_name":"Kass224"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69349689,"answer_count":1,"score":0,"last_activity_date":1632758216,"creation_date":1632511362,"question_id":69320160,"body_markdown":"As the title says, I am getting the java.nio.file.NoSuchFileException when trying to use the downloadToFile method. I read some doc and it says that the way this method works is that if the file exists, it will throw a FileAlradyExistsException which happened to me when I manually created the file. But I find it weird that when the file doesn&#39;t exist, it throws the opposite...\r\n\r\n```\r\n        String localPath = &quot;/Download/&quot;; // this is the path within my server\r\n        BlobClient blobClient;\r\n        for (int i = 0; i &lt; files.length; i++){\r\n            blobClient = container.getBlobClient(files[i]);\r\n\r\n\r\n            blobClient.downloadToFile(localPath + files[i]);\r\n        }\r\n\r\n        System.out.println(&quot;Done&quot;);\r\n```","title":"Azure BlobClient downloadToFile() throws java.nio.file.NoSuchFileException","body":"<p>As the title says, I am getting the java.nio.file.NoSuchFileException when trying to use the downloadToFile method. I read some doc and it says that the way this method works is that if the file exists, it will throw a FileAlradyExistsException which happened to me when I manually created the file. But I find it weird that when the file doesn't exist, it throws the opposite...</p>\n<pre><code>        String localPath = &quot;/Download/&quot;; // this is the path within my server\n        BlobClient blobClient;\n        for (int i = 0; i &lt; files.length; i++){\n            blobClient = container.getBlobClient(files[i]);\n\n\n            blobClient.downloadToFile(localPath + files[i]);\n        }\n\n        System.out.println(&quot;Done&quot;);\n</code></pre>\n"},{"tags":["java","graph-theory","maze"],"answers":[{"tags":[],"owner":{"account_id":15608654,"reputation":5870,"user_id":11260716,"display_name":"Daniel Junglas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632757612,"creation_date":1632757612,"answer_id":69349543,"question_id":69349059,"body_markdown":"The problem is that you do an early return from `reach()` if `y` cannot be reached via the *first* unvisited neighbor of `x`:\r\n\r\n    return reach(adj,x,y);\r\n\r\nWhat you want to do instead is:\r\n- If `y` can be reached then return 1.\r\n- If `y` cannot be reached then continue with the next neighbor\r\n\r\nThat would read:\r\n\r\n    if (reach(adj, x, y) == 1)\r\n      return 1;\r\n\r\nUnrelated comment: You may want to use `Iterator&lt;Integer&gt;` instead of the raw type `Integer`. This avoids the cast and compiler warnings.","title":"Finding exit from a maze","body":"<p>The problem is that you do an early return from <code>reach()</code> if <code>y</code> cannot be reached via the <em>first</em> unvisited neighbor of <code>x</code>:</p>\n<pre><code>return reach(adj,x,y);\n</code></pre>\n<p>What you want to do instead is:</p>\n<ul>\n<li>If <code>y</code> can be reached then return 1.</li>\n<li>If <code>y</code> cannot be reached then continue with the next neighbor</li>\n</ul>\n<p>That would read:</p>\n<pre><code>if (reach(adj, x, y) == 1)\n  return 1;\n</code></pre>\n<p>Unrelated comment: You may want to use <code>Iterator&lt;Integer&gt;</code> instead of the raw type <code>Integer</code>. This avoids the cast and compiler warnings.</p>\n"}],"owner":{"account_id":19378771,"reputation":13,"user_id":14170510,"display_name":"Thulina Wickramasinghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69349543,"answer_count":1,"score":0,"last_activity_date":1632757612,"creation_date":1632755505,"question_id":69349059,"body_markdown":"I wrote this code for a programming assignment given in a course about graphs on Coursera. enter code here. It passes on the test cases given in the question description but fails on one when submitted I&#39;m new to graphs. Can some one help me find the error in this code?\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    import java.util.Iterator;\r\n    \r\n    public class Reachability {\r\n    \r\n        private static boolean[] visited;\r\n    \r\n        private static int reach(ArrayList&lt;Integer&gt;[] adj, int x, int y) {\r\n            if(x == y){\r\n                return 1;\r\n            }\r\n            \r\n            visited[x] = true;\r\n            Iterator itr = adj[x].iterator();\r\n            while(itr.hasNext()){\r\n                x = (int)itr.next();\r\n                if(!visited[x]){\r\n                    return reach(adj,x,y);\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int n = scanner.nextInt();\r\n            int m = scanner.nextInt();\r\n            ArrayList&lt;Integer&gt;[] adj = (ArrayList&lt;Integer&gt;[])new ArrayList[n];\r\n            for (int i = 0; i &lt; n; i++) {\r\n                adj[i] = new ArrayList&lt;Integer&gt;();\r\n            }\r\n            for (int i = 0; i &lt; m; i++) {\r\n                int x, y;\r\n                x = scanner.nextInt();\r\n                y = scanner.nextInt();\r\n                adj[x - 1].add(y - 1);\r\n                adj[y - 1].add(x - 1);\r\n            }\r\n            int x = scanner.nextInt() - 1;\r\n            int y = scanner.nextInt() - 1;\r\n            visited = new boolean[n];\r\n            System.out.println(reach(adj, x, y));\r\n        }\r\n    }\r\n\r\nGiven below is the failed test case.\r\n\r\nFailed case #6/16: (Wrong answer)\r\n\r\nInput:\r\n100 100\r\n27 96\r\n6 9\r\n81 98\r\n21 94\r\n22 68\r\n76 100\r\n8 50\r\n38 86\r\n71 75\r\n32 93\r\n16 50\r\n71 84\r\n6 72\r\n22 58\r\n7 19\r\n19 76\r\n44 75\r\n24 76\r\n31 35\r\n11 89\r\n42 98\r\n63 92\r\n37 38\r\n20 98\r\n45 91\r\n23 53\r\n37 91\r\n76 93\r\n67 90\r\n12 22\r\n43 52\r\n23 56\r\n67 68\r\n1 21\r\n17 83\r\n63 72\r\n30 32\r\n7 91\r\n50 69\r\n38 44\r\n55 89\r\n15 23\r\n11 72\r\n28 42\r\n22 69\r\n56 79\r\n5 83\r\n55 73\r\n13 72\r\n7 93\r\n20 54\r\n21 55\r\n66 89\r\n2 91\r\n18 88\r\n26 64\r\n11 61\r\n28 59\r\n12 86\r\n42 95\r\n17 82\r\n50 66\r\n66 99\r\n40 71\r\n20 40\r\n5 66\r\n92 95\r\n32 46\r\n7 36\r\n44 94\r\n6 31\r\n19 67\r\n26 57\r\n53 84\r\n10 68\r\n28 74\r\n34 94\r\n25 61\r\n71 88\r\n10 89\r\n28 52\r\n72 79\r\n39 73\r\n11 80\r\n44 79\r\n13 77\r\n30 96\r\n30 53\r\n10 39\r\n1 90\r\n40 91\r\n62 71\r\n44 54\r\n15 17\r\n69 74\r\n13 67\r\n24 69\r\n34 96\r\n21 50\r\n20 91\r\n42 46\r\n\r\nYour output:\r\n0\r\n\r\nCorrect output:\r\n1","title":"Finding exit from a maze","body":"<p>I wrote this code for a programming assignment given in a course about graphs on Coursera. enter code here. It passes on the test cases given in the question description but fails on one when submitted I'm new to graphs. Can some one help me find the error in this code?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\nimport java.util.Iterator;\n\npublic class Reachability {\n\n    private static boolean[] visited;\n\n    private static int reach(ArrayList&lt;Integer&gt;[] adj, int x, int y) {\n        if(x == y){\n            return 1;\n        }\n        \n        visited[x] = true;\n        Iterator itr = adj[x].iterator();\n        while(itr.hasNext()){\n            x = (int)itr.next();\n            if(!visited[x]){\n                return reach(adj,x,y);\n            }\n        }\n        return 0;\n    }\n\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int n = scanner.nextInt();\n        int m = scanner.nextInt();\n        ArrayList&lt;Integer&gt;[] adj = (ArrayList&lt;Integer&gt;[])new ArrayList[n];\n        for (int i = 0; i &lt; n; i++) {\n            adj[i] = new ArrayList&lt;Integer&gt;();\n        }\n        for (int i = 0; i &lt; m; i++) {\n            int x, y;\n            x = scanner.nextInt();\n            y = scanner.nextInt();\n            adj[x - 1].add(y - 1);\n            adj[y - 1].add(x - 1);\n        }\n        int x = scanner.nextInt() - 1;\n        int y = scanner.nextInt() - 1;\n        visited = new boolean[n];\n        System.out.println(reach(adj, x, y));\n    }\n}\n</code></pre>\n<p>Given below is the failed test case.</p>\n<p>Failed case #6/16: (Wrong answer)</p>\n<p>Input:\n100 100\n27 96\n6 9\n81 98\n21 94\n22 68\n76 100\n8 50\n38 86\n71 75\n32 93\n16 50\n71 84\n6 72\n22 58\n7 19\n19 76\n44 75\n24 76\n31 35\n11 89\n42 98\n63 92\n37 38\n20 98\n45 91\n23 53\n37 91\n76 93\n67 90\n12 22\n43 52\n23 56\n67 68\n1 21\n17 83\n63 72\n30 32\n7 91\n50 69\n38 44\n55 89\n15 23\n11 72\n28 42\n22 69\n56 79\n5 83\n55 73\n13 72\n7 93\n20 54\n21 55\n66 89\n2 91\n18 88\n26 64\n11 61\n28 59\n12 86\n42 95\n17 82\n50 66\n66 99\n40 71\n20 40\n5 66\n92 95\n32 46\n7 36\n44 94\n6 31\n19 67\n26 57\n53 84\n10 68\n28 74\n34 94\n25 61\n71 88\n10 89\n28 52\n72 79\n39 73\n11 80\n44 79\n13 77\n30 96\n30 53\n10 39\n1 90\n40 91\n62 71\n44 54\n15 17\n69 74\n13 67\n24 69\n34 96\n21 50\n20 91\n42 46</p>\n<p>Your output:\n0</p>\n<p>Correct output:\n1</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":5144524,"reputation":1739,"user_id":4120875,"accept_rate":75,"display_name":"Sathyendran a"},"score":0,"creation_date":1632757395,"post_id":69349329,"comment_id":122573466,"body_markdown":"Hope it will solve your problem\n\nhttps://stackoverflow.com/questions/7694992/counting-method-invocations-in-unit-tests","body":"Hope it will solve your problem  <a href=\"https://stackoverflow.com/questions/7694992/counting-method-invocations-in-unit-tests\" title=\"counting method invocations in unit tests\">stackoverflow.com/questions/7694992/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632757519,"creation_date":1632757519,"answer_id":69349518,"question_id":69349329,"body_markdown":"Assuming I correctly understood your question you can do this as follows:\r\n```java\r\n(...)\r\n\r\n@Mock\r\nMyClass mock1;\r\n\r\n@Mock\r\nMyClass mock2;\r\n\r\n@Mock\r\nMyClass mock3;\r\n\r\nprivate List&lt;MyClass&gt; list = Arrays.asList(mock1, mock2, mock3);\r\n\r\n(...)\r\n\r\n@Test\r\npublic void whatever() {\r\n  (...)\r\n\r\n  verify(this.mock1, times(1)).invokeMe();\r\n  verify(this.mock2, never()).invokeMe();\r\n  verify(this.mock3, never()).invokeMe();\r\n}\r\n```","title":"Can we verify a method is called on one of the several objects using Mockito","body":"<p>Assuming I correctly understood your question you can do this as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(...)\n\n@Mock\nMyClass mock1;\n\n@Mock\nMyClass mock2;\n\n@Mock\nMyClass mock3;\n\nprivate List&lt;MyClass&gt; list = Arrays.asList(mock1, mock2, mock3);\n\n(...)\n\n@Test\npublic void whatever() {\n  (...)\n\n  verify(this.mock1, times(1)).invokeMe();\n  verify(this.mock2, never()).invokeMe();\n  verify(this.mock3, never()).invokeMe();\n}\n</code></pre>\n"}],"owner":{"account_id":11565609,"reputation":799,"user_id":8473984,"display_name":"ZZZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632757519,"creation_date":1632756731,"question_id":69349329,"body_markdown":"I have a list of Object\r\n\r\n    List&lt;MyClass&gt; list = &lt;an array of MyClass instances&gt;\r\n\r\nThe MyClass class contains a method invokeMe();\r\n\r\nIs there any way I can verify that the invokeMe method is called on one and only one of these MyClass instances in the list using Mockito?\r\n\r\nAny of these classes could be called as they are accessed by different threads.v","title":"Can we verify a method is called on one of the several objects using Mockito","body":"<p>I have a list of Object</p>\n<pre><code>List&lt;MyClass&gt; list = &lt;an array of MyClass instances&gt;\n</code></pre>\n<p>The MyClass class contains a method invokeMe();</p>\n<p>Is there any way I can verify that the invokeMe method is called on one and only one of these MyClass instances in the list using Mockito?</p>\n<p>Any of these classes could be called as they are accessed by different threads.v</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1632740316,"post_id":69345405,"comment_id":122566183,"body_markdown":"Can you please show the complete Controller method?","body":"Can you please show the complete Controller method?"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":2,"creation_date":1632741636,"post_id":69345405,"comment_id":122566694,"body_markdown":"that would never happpen and likely means there is some error in the way you call the endpoint. Complete controller method would be helpful","body":"that would never happpen and likely means there is some error in the way you call the endpoint. Complete controller method would be helpful"},{"owner":{"account_id":4834158,"reputation":130,"user_id":3901431,"display_name":"Darshana"},"score":0,"creation_date":1632741925,"post_id":69345405,"comment_id":122566795,"body_markdown":"As I can see, your method and Request Param configuration is correct, and will set the `findBy=id` when no value is passing for the findBy with the URL(like this `&lt;APP URL&gt;/api` or `&lt;APP URL&gt;/api/findBy=`).","body":"As I can see, your method and Request Param configuration is correct, and will set the <code>findBy=id</code> when no value is passing for the findBy with the URL(like this <code>&lt;APP URL&gt;&#47;api</code> or <code>&lt;APP URL&gt;&#47;api&#47;findBy=</code>)."}],"answers":[{"tags":[],"owner":{"account_id":22219187,"reputation":49,"user_id":16457167,"display_name":"zip88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632747095,"creation_date":1632747095,"answer_id":69346947,"question_id":69345405,"body_markdown":"This works for me.\r\n```\r\n@GetMapping(path=&quot;/api&quot;)\r\npublic String findBy(@RequestParam(name = &quot;findBy&quot;, required = false, defaultValue = &quot;id&quot;) String findBy){\r\n    return findBy;\r\n}\r\n```\r\nAPI call and response with override\r\n```\r\ncurl &#39;http://localhost:8080/api?findBy=username&#39;\r\nusername\r\n\r\n```\r\nAPI call and response with default\r\n```\r\ncurl &#39;http://localhost:8080/api?findBy=&#39;\r\nid\r\n\r\n```\r\n","title":"@RequestParam defaultValue overrides user input","body":"<p>This works for me.</p>\n<pre><code>@GetMapping(path=&quot;/api&quot;)\npublic String findBy(@RequestParam(name = &quot;findBy&quot;, required = false, defaultValue = &quot;id&quot;) String findBy){\n    return findBy;\n}\n</code></pre>\n<p>API call and response with override</p>\n<pre><code>curl 'http://localhost:8080/api?findBy=username'\nusername\n\n</code></pre>\n<p>API call and response with default</p>\n<pre><code>curl 'http://localhost:8080/api?findBy='\nid\n\n</code></pre>\n"}],"owner":{"account_id":20774045,"reputation":155,"user_id":15256001,"display_name":"Woodsoul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632757496,"creation_date":1632740110,"question_id":69345405,"body_markdown":"This is the @RequestParam I need help with.\r\n\r\n```\r\n@RequestParam(name = &quot;findBy&quot;, required = false, defaultValue = &quot;id&quot;) String findBy\r\n```\r\nThe defaultValue is always &quot;id&quot; even if the user input is different, i.e:\r\n\r\n```\r\n/api?findBy=userName\r\n```\r\n\r\nI need the defaultValue to overrides only when the user doesn&#39;t do any input.\r\n\r\nThanks your help.\r\nEdit------------------------------\r\nSorry for not include the complete controller before.\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class PostsController {\r\n\r\n    @Autowired\r\n    FindService findService = new FindService();\r\n\r\n    @GetMapping\r\n    public Object getPosts(@RequestParam(name = &quot;findBy&quot;, required = false, defaultValue = &quot;id&quot;) String findBy,\r\n                           @RequestParam(name = &quot;sortBy&quot;, required = false, defaultValue = &quot;userName&quot;) String sortBy,\r\n                           @RequestParam(name = &quot;tags&quot;) String... tags) {\r\n\r\n        System.out.println(&quot;Inside FindController, findBy: &quot; + findBy);\r\n        System.out.println(&quot;Inside FindController, sortBy: &quot; + sortBy);\r\n\r\n        return findService.getPostsList(findBy, sortBy, tags);\r\n    }\r\n}\r\n```\r\nI had problems with my findService.getPostsList return so I set some prints inside the controller in order to confirm the findBy and sortBy params values and I found they always were the defaultValue even if I try any other input.\r\n\r\nThanks again for your help.\r\n\r\nEdit-------------\r\nOk the problem was always on my side. Have been trying the petitions without the &quot;&amp;&quot; that separes the params. Thanks your answers. It really helped me to realize where the issue was.\r\n\r\n```\r\nwrong:\r\nhttp://localhost:8080/api?findBy=username?sortBy=lastname\r\n```\r\n```\r\nright:\r\nhttp://localhost:8080/api?findBy=username&amp;sortBy=lastname\r\n```","title":"@RequestParam defaultValue overrides user input","body":"<p>This is the @RequestParam I need help with.</p>\n<pre><code>@RequestParam(name = &quot;findBy&quot;, required = false, defaultValue = &quot;id&quot;) String findBy\n</code></pre>\n<p>The defaultValue is always &quot;id&quot; even if the user input is different, i.e:</p>\n<pre><code>/api?findBy=userName\n</code></pre>\n<p>I need the defaultValue to overrides only when the user doesn't do any input.</p>\n<p>Thanks your help.\nEdit------------------------------\nSorry for not include the complete controller before.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class PostsController {\n\n    @Autowired\n    FindService findService = new FindService();\n\n    @GetMapping\n    public Object getPosts(@RequestParam(name = &quot;findBy&quot;, required = false, defaultValue = &quot;id&quot;) String findBy,\n                           @RequestParam(name = &quot;sortBy&quot;, required = false, defaultValue = &quot;userName&quot;) String sortBy,\n                           @RequestParam(name = &quot;tags&quot;) String... tags) {\n\n        System.out.println(&quot;Inside FindController, findBy: &quot; + findBy);\n        System.out.println(&quot;Inside FindController, sortBy: &quot; + sortBy);\n\n        return findService.getPostsList(findBy, sortBy, tags);\n    }\n}\n</code></pre>\n<p>I had problems with my findService.getPostsList return so I set some prints inside the controller in order to confirm the findBy and sortBy params values and I found they always were the defaultValue even if I try any other input.</p>\n<p>Thanks again for your help.</p>\n<p>Edit-------------\nOk the problem was always on my side. Have been trying the petitions without the &quot;&amp;&quot; that separes the params. Thanks your answers. It really helped me to realize where the issue was.</p>\n<pre><code>wrong:\nhttp://localhost:8080/api?findBy=username?sortBy=lastname\n</code></pre>\n<pre><code>right:\nhttp://localhost:8080/api?findBy=username&amp;sortBy=lastname\n</code></pre>\n"},{"tags":["java","unit-testing","static","mockito","powermockito"],"answers":[{"tags":[],"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632737214,"creation_date":1632737214,"answer_id":69344822,"question_id":69342597,"body_markdown":"You are mocking the `ParticipantUtils` class. This includes `getNationalNumberJP()`. You did not provide mock behavior for (since you want to test it) and therefore the mock does not know what to do and returns the default value for the return type (which is `null` for reference types). Your problem is not that `isAlpha()` is not returning `true`. If this were the problem, then &quot;Actual&quot; would be &quot;Invalid input&quot; and not `null`.\r\n\r\nYou do not need to mock here at all. The result of `isAlpha()` would be `true` in your test case anyway.","title":"How to mock a static method inside another static method using PowerMockito?","body":"<p>You are mocking the <code>ParticipantUtils</code> class. This includes <code>getNationalNumberJP()</code>. You did not provide mock behavior for (since you want to test it) and therefore the mock does not know what to do and returns the default value for the return type (which is <code>null</code> for reference types). Your problem is not that <code>isAlpha()</code> is not returning <code>true</code>. If this were the problem, then &quot;Actual&quot; would be &quot;Invalid input&quot; and not <code>null</code>.</p>\n<p>You do not need to mock here at all. The result of <code>isAlpha()</code> would be <code>true</code> in your test case anyway.</p>\n"}],"owner":{"account_id":13736421,"reputation":992,"user_id":9912583,"display_name":"Light Yagami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632757373,"creation_date":1632727026,"question_id":69342597,"body_markdown":"I have a java class named `ParticipantUtils.java` which contains static methods like this:\r\n\r\n```lang-java\r\npublic class ParticipantUtils {\r\n      \r\n    public static boolean isAlpha(String inputString) {\r\n        if (Character.isLetter(inputString[0]) return true;\r\n        return false;\r\n    }\r\n\r\n    public static String getNationalNumberJP(String input) {\r\n        if (isAlpha(input)) return input;\r\n        return &quot;Invalid input&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m writing `@Test` to test the function `getNationalNumberJP()` in `ParticipantUtilsTest.java` like this:\r\n\r\n```lang-java\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({ParticipantUtils.class})\r\npublic class ParticipantUtilsTest {\r\n    \r\n    @Test\r\n    public void getNationalNumberJP_input_is_alpha(){\r\n        PowerMockito.mockStatic(ParticipantUtils.class);\r\n        String input = &quot;ABCD&quot;;\r\n \r\n        PowerMockito.when(ParticipantUtils.isAlpha(&quot;ABCD&quot;)).thenReturn(true);\r\n        assertEquals(&quot;ABCD&quot;, ParticipantUtils.getNationalNumberJP(input));\r\n    }   \r\n}\r\n```\r\n\r\nBut, this is not working. It is not returning `true` when the function `isAlpha(input)` is getting called.\r\nI&#39;m getting this error at the line `assertEquals(...)`\r\n\r\n[![Error image][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/qCaYq.png\r\n\r\nHow to resolve this?","title":"How to mock a static method inside another static method using PowerMockito?","body":"<p>I have a java class named <code>ParticipantUtils.java</code> which contains static methods like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ParticipantUtils {\n      \n    public static boolean isAlpha(String inputString) {\n        if (Character.isLetter(inputString[0]) return true;\n        return false;\n    }\n\n    public static String getNationalNumberJP(String input) {\n        if (isAlpha(input)) return input;\n        return &quot;Invalid input&quot;;\n    }\n}\n</code></pre>\n<p>I'm writing <code>@Test</code> to test the function <code>getNationalNumberJP()</code> in <code>ParticipantUtilsTest.java</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({ParticipantUtils.class})\npublic class ParticipantUtilsTest {\n    \n    @Test\n    public void getNationalNumberJP_input_is_alpha(){\n        PowerMockito.mockStatic(ParticipantUtils.class);\n        String input = &quot;ABCD&quot;;\n \n        PowerMockito.when(ParticipantUtils.isAlpha(&quot;ABCD&quot;)).thenReturn(true);\n        assertEquals(&quot;ABCD&quot;, ParticipantUtils.getNationalNumberJP(input));\n    }   \n}\n</code></pre>\n<p>But, this is not working. It is not returning <code>true</code> when the function <code>isAlpha(input)</code> is getting called.\nI'm getting this error at the line <code>assertEquals(...)</code></p>\n<p><a href=\"https://i.stack.imgur.com/qCaYq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qCaYq.png\" alt=\"Error image\" /></a></p>\n<p>How to resolve this?</p>\n"},{"tags":["java","selenium-webdriver","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632757079,"creation_date":1632517917,"answer_id":69321147,"question_id":69320994,"body_markdown":"with qaf 3.0.1 you can set by in `QAFExtendedWebElement`. Best way is to use element listener. For example \r\n\r\n```java\r\n@Override\r\npublic void onFailure(QAFExtendedWebElement element, CommandTracker commandTracker) {\r\n\t//By newBy = &lt;do needful&gt;;\r\n\telement.setBy(newBy);\r\n\tcommandTracker.setRetry(true);\r\n}\r\n```\r\nqaf 3.0.1b is released, you can try that. \r\n\r\nEDIT: to handle find element failure you can use driver listener. For example:\r\n\r\n```\r\n   private static final Map&lt;String, Object&gt; byToString = JSONUtil.toMap(\r\n\t\t\t&quot;{&#39;ByCssSelector&#39;:&#39;css selector&#39;,&#39;ByClassName&#39;:&#39;class name&#39;,&#39;ByXPath&#39;:&#39;xpath&#39;,&#39;ByPartialLinkText&#39;:&#39;partial link text&#39;,&#39;ById&#39;:&#39;id&#39;,&#39;ByLinkText&#39;:&#39;link text&#39;,&#39;ByName&#39;:&#39;name&#39;}&quot;);\r\n\r\n\t@Override\r\n\tpublic void onFailure(QAFExtendedWebDriver driver, CommandTracker commandTracker) {\r\n\r\n\t\tMap&lt;String, Object&gt; parameters = commandTracker.getParameters();\r\n\t\tif (parameters != null &amp;&amp; parameters.containsKey(&quot;using&quot;) &amp;&amp; parameters.containsKey(&quot;value&quot;)) {\r\n\t\t\tBy actaulBy = LocatorUtil.getBy(String.format(&quot;%s=%s&quot;, parameters.get(&quot;using&quot;), parameters.get(&quot;value&quot;)));\r\n            By newBy = &lt;do the needful&gt;\r\n\t\t\tcommandTracker.getParameters().putAll(toParams(newBy));\r\n\t        commandTracker.setRetry(true);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static Map&lt;String, String&gt; toParams(By by) {\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\tString val = by.toString().split(&quot;:&quot;, 2)[1].trim();\r\n\t\tmap.put(&quot;using&quot;, byToString.get(by.getClass().getSimpleName()).toString());\r\n\t\tmap.put(&quot;value&quot;, val);\r\n\r\n\t\treturn map;\r\n\r\n\t}\r\n```\r\n","title":"QAF | Passing new locator on failure","body":"<p>with qaf 3.0.1 you can set by in <code>QAFExtendedWebElement</code>. Best way is to use element listener. For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onFailure(QAFExtendedWebElement element, CommandTracker commandTracker) {\n    //By newBy = &lt;do needful&gt;;\n    element.setBy(newBy);\n    commandTracker.setRetry(true);\n}\n</code></pre>\n<p>qaf 3.0.1b is released, you can try that.</p>\n<p>EDIT: to handle find element failure you can use driver listener. For example:</p>\n<pre><code>   private static final Map&lt;String, Object&gt; byToString = JSONUtil.toMap(\n            &quot;{'ByCssSelector':'css selector','ByClassName':'class name','ByXPath':'xpath','ByPartialLinkText':'partial link text','ById':'id','ByLinkText':'link text','ByName':'name'}&quot;);\n\n    @Override\n    public void onFailure(QAFExtendedWebDriver driver, CommandTracker commandTracker) {\n\n        Map&lt;String, Object&gt; parameters = commandTracker.getParameters();\n        if (parameters != null &amp;&amp; parameters.containsKey(&quot;using&quot;) &amp;&amp; parameters.containsKey(&quot;value&quot;)) {\n            By actaulBy = LocatorUtil.getBy(String.format(&quot;%s=%s&quot;, parameters.get(&quot;using&quot;), parameters.get(&quot;value&quot;)));\n            By newBy = &lt;do the needful&gt;\n            commandTracker.getParameters().putAll(toParams(newBy));\n            commandTracker.setRetry(true);\n        }\n    }\n\n    private static Map&lt;String, String&gt; toParams(By by) {\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        String val = by.toString().split(&quot;:&quot;, 2)[1].trim();\n        map.put(&quot;using&quot;, byToString.get(by.getClass().getSimpleName()).toString());\n        map.put(&quot;value&quot;, val);\n\n        return map;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":20410258,"reputation":165,"user_id":14973842,"display_name":"Renish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69321147,"answer_count":1,"score":1,"last_activity_date":1632757079,"creation_date":1632516812,"question_id":69320994,"body_markdown":"During locator failure, I want to pass a newly generated locator on the fly. I&#39;m aware of the QAF&#39;s inbuilt multiple locator strategy but in my case locator may change during the run so I will not get new locator info before the run.","title":"QAF | Passing new locator on failure","body":"<p>During locator failure, I want to pass a newly generated locator on the fly. I'm aware of the QAF's inbuilt multiple locator strategy but in my case locator may change during the run so I will not get new locator info before the run.</p>\n"},{"tags":["java","javafx-2","fxml"],"answers":[{"tags":[],"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1632756705,"creation_date":1349434625,"answer_id":12744775,"question_id":12744542,"body_markdown":"At the time of `initialize()` controls are not yet ready to handle focus.\r\n\r\nYou can try next trick:\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        Platform.runLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                tf.requestFocus();\r\n            }\r\n        });\r\n    }\r\n\r\nFor tricky complex applications (like Pavel_K has in the comments) you may want to repeat this routine several times and call method line next one:\r\n\r\n    private void requestFocusOrDieTrying(Node node) {\r\n        Platform.runLater(() -&gt; {\r\n            if (!node.isFocused()) {\r\n                node.requestFocus();\r\n                requestFocusOrDieTrying(node);\r\n            }\r\n        });\r\n    }\r\n\r\nNote this is the undocumented approach and it may be wise to add a limit for repetitions to avoid endless loop if something changed or broke in future Java releases. Better to lose focus than a whole app. :)\r\n\r\n---\r\nExample with the described threshold:\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Override\r\n    public void requestFocus() {\r\n      requestFocus( getNode(), 3 );\r\n    }\r\n    \r\n    private void requestFocus( final Node node, final int max ) {\r\n      if( max &gt; 0 ) {\r\n        runLater(\r\n            () -&gt; {\r\n              if( !node.isFocused() ) {\r\n                node.requestFocus();\r\n                requestFocus( node, max - 1 );\r\n              }\r\n            }\r\n        );\r\n      }\r\n    }\r\n","title":"RequestFocus in TextField doesn&#39;t work","body":"<p>At the time of <code>initialize()</code> controls are not yet ready to handle focus.</p>\n<p>You can try next trick:</p>\n<pre><code>@Override\npublic void initialize(URL url, ResourceBundle rb) {\n    Platform.runLater(new Runnable() {\n        @Override\n        public void run() {\n            tf.requestFocus();\n        }\n    });\n}\n</code></pre>\n<p>For tricky complex applications (like Pavel_K has in the comments) you may want to repeat this routine several times and call method line next one:</p>\n<pre><code>private void requestFocusOrDieTrying(Node node) {\n    Platform.runLater(() -&gt; {\n        if (!node.isFocused()) {\n            node.requestFocus();\n            requestFocusOrDieTrying(node);\n        }\n    });\n}\n</code></pre>\n<p>Note this is the undocumented approach and it may be wise to add a limit for repetitions to avoid endless loop if something changed or broke in future Java releases. Better to lose focus than a whole app. :)</p>\n<hr />\n<p>Example with the described threshold:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void requestFocus() {\n  requestFocus( getNode(), 3 );\n}\n\nprivate void requestFocus( final Node node, final int max ) {\n  if( max &gt; 0 ) {\n    runLater(\n        () -&gt; {\n          if( !node.isFocused() ) {\n            node.requestFocus();\n            requestFocus( node, max - 1 );\n          }\n        }\n    );\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1594503469,"creation_date":1377419485,"answer_id":18427106,"question_id":12744542,"body_markdown":"If you requestFocus(); **after** initializing the scene, it will work!\r\n\r\nLike this:\r\n\r\n    Stage stage = new Stage();\r\n    GridPane grid = new GridPane();\r\n    //... add buttons&amp;stuff to pane\r\n    \r\n    Scene scene = new Scene(grid, 800, 600);\r\n    \r\n    TEXTFIELD.requestFocus();\r\n    \r\n    stage.setScene(scene);\r\n    stage.show();\r\n\r\nI hope this helps. :)","title":"RequestFocus in TextField doesn&#39;t work","body":"<p>If you requestFocus(); <strong>after</strong> initializing the scene, it will work!</p>\n<p>Like this:</p>\n<pre><code>Stage stage = new Stage();\nGridPane grid = new GridPane();\n//... add buttons&amp;stuff to pane\n\nScene scene = new Scene(grid, 800, 600);\n\nTEXTFIELD.requestFocus();\n\nstage.setScene(scene);\nstage.show();\n</code></pre>\n<p>I hope this helps. :)</p>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1476356983,"creation_date":1470929044,"answer_id":38900429,"question_id":12744542,"body_markdown":"The exact same answer as @Sergey Grinev. Make sure your version of java is up-to-date (JDK 1.8 or later).  \r\n\r\n    Platform.runLater(()-&gt;myTextField.requestFocus());","title":"RequestFocus in TextField doesn&#39;t work","body":"<p>The exact same answer as @Sergey Grinev. Make sure your version of java is up-to-date (JDK 1.8 or later).  </p>\n\n<pre><code>Platform.runLater(()-&gt;myTextField.requestFocus());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10739584,"reputation":121,"user_id":7903151,"display_name":"nickthecoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537207220,"creation_date":1537206518,"answer_id":52373257,"question_id":12744542,"body_markdown":"This can occur when the Scene property for the Node is not yet set.\r\nAlas, the scene property can take a &quot;long&quot; time to be set.\r\n\r\nThe child node&#39;s scene property lags when a scene is first created, and also, when items are added to some parents, such as a TabPane (oddly some parents seem immune, I&#39;m not sure why).\r\n\r\nThe correct strategy, which has always worked for me :\r\n\r\n    if (myNode.scene) == null {\r\n        // listen for the changes to the node&#39;s scene property,\r\n        // and request focus when it is set\r\n    } else {\r\n        myNode.requestFocus()\r\n    }\r\n\r\nI have a handy Kotlin extension function which does this.\r\n\r\n    fun Node.requestFocusOnSceneAvailable() {\r\n        if (scene == null) {\r\n            val listener = object : ChangeListener&lt;Scene&gt; {\r\n                override fun changed(observable: ObservableValue&lt;out Scene&gt;?, oldValue: Scene?, newValue: Scene?) {\r\n                    if (newValue != null) {\r\n                        sceneProperty().removeListener(this)\r\n                        requestFocus()\r\n                    }\r\n                }\r\n            }\r\n            sceneProperty().addListener(listener)\r\n        } else {\r\n            requestFocus()\r\n        }\r\n    }\r\n\r\nYou can then call it from within you code like so :\r\n\r\n    myNode.requestFocusOnSceneAvailable()\r\n\r\nPerhaps somebody would like to translate it to Java.\r\n","title":"RequestFocus in TextField doesn&#39;t work","body":"<p>This can occur when the Scene property for the Node is not yet set.\nAlas, the scene property can take a \"long\" time to be set.</p>\n\n<p>The child node's scene property lags when a scene is first created, and also, when items are added to some parents, such as a TabPane (oddly some parents seem immune, I'm not sure why).</p>\n\n<p>The correct strategy, which has always worked for me :</p>\n\n<pre><code>if (myNode.scene) == null {\n    // listen for the changes to the node's scene property,\n    // and request focus when it is set\n} else {\n    myNode.requestFocus()\n}\n</code></pre>\n\n<p>I have a handy Kotlin extension function which does this.</p>\n\n<pre><code>fun Node.requestFocusOnSceneAvailable() {\n    if (scene == null) {\n        val listener = object : ChangeListener&lt;Scene&gt; {\n            override fun changed(observable: ObservableValue&lt;out Scene&gt;?, oldValue: Scene?, newValue: Scene?) {\n                if (newValue != null) {\n                    sceneProperty().removeListener(this)\n                    requestFocus()\n                }\n            }\n        }\n        sceneProperty().addListener(listener)\n    } else {\n        requestFocus()\n    }\n}\n</code></pre>\n\n<p>You can then call it from within you code like so :</p>\n\n<pre><code>myNode.requestFocusOnSceneAvailable()\n</code></pre>\n\n<p>Perhaps somebody would like to translate it to Java.</p>\n"},{"tags":[],"owner":{"account_id":809955,"reputation":1825,"user_id":898747,"accept_rate":93,"display_name":"FableBlaze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591789305,"creation_date":1591789305,"answer_id":62302719,"question_id":12744542,"body_markdown":"I ran into the same problem using JavaFX 11 and solved it in a similar way that nickthecoder proposed.\r\n\r\n    ChangeListener&lt;Scene&gt; sceneListener = new ChangeListener&lt;Scene&gt;() {\r\n\t\t@Override\r\n\t\tpublic void changed(ObservableValue&lt;? extends Scene&gt; observable, Scene oldValue, Scene newValue) {\r\n\t\t\tif (newValue != null) {\r\n\t\t\t\teditInput.requestFocus();\r\n\t\t\t\teditInput.sceneProperty().removeListener(this);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\teditInput.sceneProperty().addListener(sceneListener);\r\n\r\nBasicly just add a listener to the sceneProperty of the node and in that listener request focus once the scene is set. I also wrote it in such a way that the listener will be removed after it is invoked.","title":"RequestFocus in TextField doesn&#39;t work","body":"<p>I ran into the same problem using JavaFX 11 and solved it in a similar way that nickthecoder proposed.</p>\n\n<pre><code>ChangeListener&lt;Scene&gt; sceneListener = new ChangeListener&lt;Scene&gt;() {\n    @Override\n    public void changed(ObservableValue&lt;? extends Scene&gt; observable, Scene oldValue, Scene newValue) {\n        if (newValue != null) {\n            editInput.requestFocus();\n            editInput.sceneProperty().removeListener(this);\n        }\n    }\n};\neditInput.sceneProperty().addListener(sceneListener);\n</code></pre>\n\n<p>Basicly just add a listener to the sceneProperty of the node and in that listener request focus once the scene is set. I also wrote it in such a way that the listener will be removed after it is invoked.</p>\n"},{"tags":[],"owner":{"account_id":8829580,"reputation":171,"user_id":11742020,"display_name":"Coemgenus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595299722,"creation_date":1595299722,"answer_id":63006606,"question_id":12744542,"body_markdown":"The older answers account for the case of `Platform.runLater` not working, but this answer covers also the case of multiple requests on multiple nodes.\r\n\r\nProblem is: the order in which the `scene` property becomes non-null for the nodes, and thence the order in which the added listeners get called, is not necessarily the same as the order in which the two listeners were added. And so this order:\r\n\r\n    requestFocusOnSceneAvailable(node1)\r\n    requestFocusOnSceneAvailable(node2)\r\n\r\nmight unexpectedly result in this order:\r\n\r\n    node2.requestFocus()\r\n    node1.requestFocus()\r\n\r\nA solution requires having the listeners call `requestFocus()` only on the *most recent* node, which can be tracked with a static variable:\r\n\r\n\tprivate static Node nodeToRequestFocusOnOnceSceneAvailable;\r\n\t\r\n\tpublic static void requestFocusOnceSceneAvailable(Node node) {\r\n\t\t\r\n\t\t// Remember this node as the latest node requested to receive focus.\r\n\t\tnodeToRequestFocusOnOnceSceneAvailable = node;\r\n\t\t\r\n\t\t// Schedule the focus request to happen whenever\r\n\t\t// JavaFX finally adds the node to the scene.\r\n\t\tListeners.addAndFire(node.sceneProperty(), new ChangeListener&lt;Scene&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void changed(ObservableValue&lt;? extends Scene&gt; observable, Scene oldScene, Scene newScene) {\r\n\t\t\t\tif (newScene != null) {\r\n\t\t\t\t\tif (node == nodeToRequestFocusOnOnceSceneAvailable) {\r\n\t\t\t\t\t\tnode.requestFocus();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// We no longer need to remember this node,\r\n\t\t\t\t\t\t// since its focus has been requested.\r\n\t\t\t\t\t\tnodeToRequestFocusOnOnceSceneAvailable = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// We no longer need the listener\r\n\t\t\t\t\t// after it has run once.\r\n\t\t\t\t\tobservable.removeListener(this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nNote, this solution assumes there is only one scene.","title":"RequestFocus in TextField doesn&#39;t work","body":"<p>The older answers account for the case of <code>Platform.runLater</code> not working, but this answer covers also the case of multiple requests on multiple nodes.</p>\n<p>Problem is: the order in which the <code>scene</code> property becomes non-null for the nodes, and thence the order in which the added listeners get called, is not necessarily the same as the order in which the two listeners were added. And so this order:</p>\n<pre><code>requestFocusOnSceneAvailable(node1)\nrequestFocusOnSceneAvailable(node2)\n</code></pre>\n<p>might unexpectedly result in this order:</p>\n<pre><code>node2.requestFocus()\nnode1.requestFocus()\n</code></pre>\n<p>A solution requires having the listeners call <code>requestFocus()</code> only on the <em>most recent</em> node, which can be tracked with a static variable:</p>\n<pre><code>private static Node nodeToRequestFocusOnOnceSceneAvailable;\n\npublic static void requestFocusOnceSceneAvailable(Node node) {\n    \n    // Remember this node as the latest node requested to receive focus.\n    nodeToRequestFocusOnOnceSceneAvailable = node;\n    \n    // Schedule the focus request to happen whenever\n    // JavaFX finally adds the node to the scene.\n    Listeners.addAndFire(node.sceneProperty(), new ChangeListener&lt;Scene&gt;() {\n        @Override\n        public void changed(ObservableValue&lt;? extends Scene&gt; observable, Scene oldScene, Scene newScene) {\n            if (newScene != null) {\n                if (node == nodeToRequestFocusOnOnceSceneAvailable) {\n                    node.requestFocus();\n                    \n                    // We no longer need to remember this node,\n                    // since its focus has been requested.\n                    nodeToRequestFocusOnOnceSceneAvailable = null;\n                }\n                \n                // We no longer need the listener\n                // after it has run once.\n                observable.removeListener(this);\n            }\n        }\n    });\n}\n</code></pre>\n<p>Note, this solution assumes there is only one scene.</p>\n"},{"tags":[],"owner":{"account_id":22196928,"reputation":11,"user_id":16438214,"display_name":"Anis Cherid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626168939,"creation_date":1626168214,"answer_id":68359743,"question_id":12744542,"body_markdown":"I would rather using timer to enforce focus to text field. The process of checking whether or not the text field has focus, is done in a separate (background) thread. While the process of requesting focus is done in the GUI thread, with the help of `Platform.runLater()`.\r\n\r\n    //I&#39;d rather using timer to enforce focus\r\n    Timer checkIfTFIsFocusedTimer = new Timer();\r\n    TimerTask checkIfTFIsFocusedTask = new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            if (!textField.isFocused()) {\r\n                Platform.runLater(() -&gt; {\t\t\t\t\t\t \r\n                    textField.requestFocus();\r\n                });\r\n            } else {\r\n                checkIfTFIsFocusedTimer.cancel();\r\n            }\r\n        }\r\n    };\r\n    checkIfTFIsFocusedTimer\r\n            .scheduleAtFixedRate(checkIfTFIsFocusedTask,\r\n            0, 100);","title":"RequestFocus in TextField doesn&#39;t work","body":"<p>I would rather using timer to enforce focus to text field. The process of checking whether or not the text field has focus, is done in a separate (background) thread. While the process of requesting focus is done in the GUI thread, with the help of <code>Platform.runLater()</code>.</p>\n<pre><code>//I'd rather using timer to enforce focus\nTimer checkIfTFIsFocusedTimer = new Timer();\nTimerTask checkIfTFIsFocusedTask = new TimerTask() {\n    @Override\n    public void run() {\n        if (!textField.isFocused()) {\n            Platform.runLater(() -&gt; {                        \n                textField.requestFocus();\n            });\n        } else {\n            checkIfTFIsFocusedTimer.cancel();\n        }\n    }\n};\ncheckIfTFIsFocusedTimer\n        .scheduleAtFixedRate(checkIfTFIsFocusedTask,\n        0, 100);\n</code></pre>\n"}],"owner":{"account_id":1294805,"reputation":4533,"user_id":1246145,"accept_rate":87,"display_name":"Adil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25316,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":12744775,"answer_count":7,"score":18,"last_activity_date":1632756705,"creation_date":1349433767,"question_id":12744542,"body_markdown":"I use JavaFX 2.1 and I created GUI using FXML, in the controller of this GUI I added `myTextField.requestFocus();`.\r\n\r\nBut I always get the focus in the other control.","title":"RequestFocus in TextField doesn&#39;t work","body":"<p>I use JavaFX 2.1 and I created GUI using FXML, in the controller of this GUI I added <code>myTextField.requestFocus();</code>.</p>\n\n<p>But I always get the focus in the other control.</p>\n"},{"tags":["java","android","android-studio","android-emulator","android-camera"],"answers":[{"tags":[],"owner":{"account_id":336355,"reputation":600,"user_id":663966,"display_name":"Android4Fun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546550489,"creation_date":1546550489,"answer_id":54029976,"question_id":54028057,"body_markdown":"You can try the hard way : \r\n\r\n- There is a button in the side bar. Try using that\r\n\r\n- CTRL + F11\r\n\r\n- Mac : CMD + F11\r\n","title":"Android Studio&#39;s emulator camera opening upside down?","body":"<p>You can try the hard way : </p>\n\n<ul>\n<li><p>There is a button in the side bar. Try using that</p></li>\n<li><p>CTRL + F11</p></li>\n<li><p>Mac : CMD + F11</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3128972,"reputation":3647,"user_id":2647306,"accept_rate":75,"display_name":"dacoinminster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586640927,"creation_date":1586640927,"answer_id":61163993,"question_id":54028057,"body_markdown":"I was having a problem with the camera being upside down for all apps, which strangely was fixed when I went into the emulator settings and unchecked &quot;enable keyboard input&quot;","title":"Android Studio&#39;s emulator camera opening upside down?","body":"<p>I was having a problem with the camera being upside down for all apps, which strangely was fixed when I went into the emulator settings and unchecked \"enable keyboard input\"</p>\n"},{"tags":[],"owner":{"account_id":15727745,"reputation":135,"user_id":15124094,"display_name":"OskarZyg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632756628,"creation_date":1632608706,"answer_id":69330466,"question_id":54028057,"body_markdown":"In the Android Emulator, press the 3 dots (`...`). Then click on `Virtual Sensors`.\r\n\r\nWhen in the menu, there are 4 presets. You want to press the first one, which is upright. You may also have to use the other (upside down) one.\r\n\r\n[![Virtual Sensors Menu][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/pR9XZ.png","title":"Android Studio&#39;s emulator camera opening upside down?","body":"<p>In the Android Emulator, press the 3 dots (<code>...</code>). Then click on <code>Virtual Sensors</code>.</p>\n<p>When in the menu, there are 4 presets. You want to press the first one, which is upright. You may also have to use the other (upside down) one.</p>\n<p><a href=\"https://i.stack.imgur.com/pR9XZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pR9XZ.png\" alt=\"Virtual Sensors Menu\" /></a></p>\n"}],"owner":{"account_id":8064361,"reputation":178,"user_id":6079009,"display_name":"Terminal Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2891,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1632756628,"creation_date":1546541113,"question_id":54028057,"body_markdown":"I&#39;m running a Nexus 5, API 23, and opening the camera with:\r\n\r\n        Intent captureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\r\nHowever once this opens the camera appears upside down by default like this: \r\n\r\n[![Upside down camera example][1]][1]\r\n\r\nI&#39;ve checked other threads which say to disable &#39;Use Host GPU&#39; and to set the activity&#39;s screenOrientation to sensorPortrait but these haven&#39;t worked. Any ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Yczo.png","title":"Android Studio&#39;s emulator camera opening upside down?","body":"<p>I'm running a Nexus 5, API 23, and opening the camera with:</p>\n\n<pre><code>    Intent captureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n</code></pre>\n\n<p>However once this opens the camera appears upside down by default like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/1Yczo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1Yczo.png\" alt=\"Upside down camera example\"></a></p>\n\n<p>I've checked other threads which say to disable 'Use Host GPU' and to set the activity's screenOrientation to sensorPortrait but these haven't worked. Any ideas?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1632756522,"post_id":69349253,"comment_id":122573128,"body_markdown":"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value","body":"<a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value\" title=\"why does my function that calls an api return an empty or null value\">stackoverflow.com/questions/57330766/&hellip;</a>"},{"owner":{"account_id":21131882,"reputation":3,"user_id":15536049,"display_name":"Zowie Tay"},"score":0,"creation_date":1632785976,"post_id":69349253,"comment_id":122582315,"body_markdown":"@a_local_nobody i have 3 of methods similar to this that i need to check before i let another method run","body":"@a_local_nobody i have 3 of methods similar to this that i need to check before i let another method run"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1632811255,"post_id":69349253,"comment_id":122586714,"body_markdown":"ok, this still works fine for that too","body":"ok, this still works fine for that too"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632812104,"post_id":69349253,"comment_id":122587014,"body_markdown":"Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a custom callback.","body":"Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a custom callback."}],"owner":{"account_id":21131882,"reputation":3,"user_id":15536049,"display_name":"Zowie Tay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632812073,"answer_count":0,"score":0,"last_activity_date":1632756515,"creation_date":1632756375,"question_id":69349253,"body_markdown":"i tried using async but it doesnt work, searching around google also doesnt give me anything that works\r\n\r\nright now, my value[0] gets returned before my docRef onComplete has finished executing resulting in always being true instead of checking\r\n\r\n\r\n    private boolean checkMax(String email){\r\n            final boolean[] value = new boolean[1];\r\n            value[0] = true;\r\n    \r\n            DocumentReference docRef = db.collection(&quot;user_bookings&quot;).document(email).collection(day).document(&quot;0&quot;);\r\n            docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        DocumentSnapshot doc = task.getResult();\r\n                        if (doc.exists()) {\r\n                            Long slot1 = doc.getLong(&quot;slot1&quot;);\r\n                            Long slot2 = doc.getLong(&quot;slot2&quot;);\r\n                            if(slot1 == -1 &amp;&amp; slot2 == -1){\r\n                                value[0] = false;\r\n                            }\r\n                            else if(slot1 == -1 || slot2 == -1){\r\n                                if(durationPosition == 1){\r\n                                    Toast.makeText(BookingActivity.this, &quot;Will exceed maximum booking, please reduce duration&quot;, Toast.LENGTH_SHORT).show();\r\n                                    value[0] = true;\r\n                                }\r\n                                else value[0] = false;\r\n                            }\r\n                            else{\r\n                                Toast.makeText(BookingActivity.this, &quot;You&#39;ve reached your maximum booking for the selected day&quot;, Toast.LENGTH_SHORT).show();\r\n                                value[0] = true;\r\n                            }\r\n    \r\n                        } else {\r\n                            value[0] = false;\r\n                            Log.e(TAG, &quot;value of value = &quot; + Boolean.toString(value[0]));\r\n                            Log.d(TAG, &quot;No such document in CHECKMAX&quot;);\r\n                        }\r\n                    } else {\r\n                        value[0] = true;\r\n                        Log.d(TAG, &quot;get failed with &quot;, task.getException());\r\n                    }\r\n                }\r\n            });\r\n            Log.e(TAG, &quot;value of value[0] = &quot; + Boolean.toString(value[0]));\r\n            return value[0];\r\n        }","title":"How do i get my function to complete the firebase onComplete method before returning?","body":"<p>i tried using async but it doesnt work, searching around google also doesnt give me anything that works</p>\n<p>right now, my value[0] gets returned before my docRef onComplete has finished executing resulting in always being true instead of checking</p>\n<pre><code>private boolean checkMax(String email){\n        final boolean[] value = new boolean[1];\n        value[0] = true;\n\n        DocumentReference docRef = db.collection(&quot;user_bookings&quot;).document(email).collection(day).document(&quot;0&quot;);\n        docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    DocumentSnapshot doc = task.getResult();\n                    if (doc.exists()) {\n                        Long slot1 = doc.getLong(&quot;slot1&quot;);\n                        Long slot2 = doc.getLong(&quot;slot2&quot;);\n                        if(slot1 == -1 &amp;&amp; slot2 == -1){\n                            value[0] = false;\n                        }\n                        else if(slot1 == -1 || slot2 == -1){\n                            if(durationPosition == 1){\n                                Toast.makeText(BookingActivity.this, &quot;Will exceed maximum booking, please reduce duration&quot;, Toast.LENGTH_SHORT).show();\n                                value[0] = true;\n                            }\n                            else value[0] = false;\n                        }\n                        else{\n                            Toast.makeText(BookingActivity.this, &quot;You've reached your maximum booking for the selected day&quot;, Toast.LENGTH_SHORT).show();\n                            value[0] = true;\n                        }\n\n                    } else {\n                        value[0] = false;\n                        Log.e(TAG, &quot;value of value = &quot; + Boolean.toString(value[0]));\n                        Log.d(TAG, &quot;No such document in CHECKMAX&quot;);\n                    }\n                } else {\n                    value[0] = true;\n                    Log.d(TAG, &quot;get failed with &quot;, task.getException());\n                }\n            }\n        });\n        Log.e(TAG, &quot;value of value[0] = &quot; + Boolean.toString(value[0]));\n        return value[0];\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","pre-signed-url"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1601919791,"post_id":64211805,"comment_id":113549960,"body_markdown":"Not available with pre-signed PUT URLs afaik. You could respond to uploads via Lambda trigger and delete large objects (or alert the user or do something else).","body":"Not available with pre-signed PUT URLs afaik. You could respond to uploads via Lambda trigger and delete large objects (or alert the user or do something else)."},{"owner":{"account_id":18476259,"reputation":426,"user_id":13459719,"display_name":"Shahar Yakov"},"score":0,"creation_date":1602002531,"post_id":64211805,"comment_id":113579547,"body_markdown":"You can set the exact object size but you cannot limit it (for e.g. you can limit the presigned URL to object in 5MB sized but not for an object that in 5MB size max), could this help you?","body":"You can set the exact object size but you cannot limit it (for e.g. you can limit the presigned URL to object in 5MB sized but not for an object that in 5MB size max), could this help you?"}],"answers":[{"tags":[],"owner":{"account_id":17446909,"reputation":83,"user_id":12647753,"display_name":"ChangNoi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632756448,"creation_date":1632756448,"answer_id":69349265,"question_id":64211805,"body_markdown":"I was using S3-Signed-URLS the first time and was also concerned about this. \r\nAnd I think this whole signed Urls stuff is a bit of a pain because you cant put a maximum Object/Upload size limit on them.\r\n\r\nI think thats something very important on file-uploads in general, that is just missing..\r\n\r\nBy not having this option you are forced to handle that problem with the expiry time etc. This gets really messy.. \r\n\r\nBut it seems that you can use S3 Buckets also with normal Post-Requests, what has a content-length parameter in their policy. \r\nSo I&#39;ll probably exchange my Signed-URLS with POST-Routes in the future.\r\n\r\nI think for proper, larger applications this is the way to go.(?)\r\n\r\n\r\nWhat might help with your issue: \r\n\r\nIn the JavaScript  SDK there is a method / function that gets you only the meta-data of the an S3-Object **(including File Size) without downloading the whole file.**\r\n\r\nIt&#39;s called **s3.headObject()**\r\n\r\nI think, after the upload is done, it takes some time for AWS to process  that newly uploaded file and then is available in your bucket. \r\n\r\nWhat I did was, I set a timer after each upload to check the file-size and if its bigger 1mb, it will delete the file.\r\nI think for production you wanna log that somewhere in a DB.\r\nMy FileNames also include the user-id of who uploaded the file.\r\nThat way, you can block an account after a too big upload if you wanted. \r\n\r\nThis here worked for me in javascript.. \r\n\r\n    function checkS3(key) {\r\n      return new Promise((resolve, reject) =&gt; {\r\n        s3.headObject(headParams, (err, metadata) =&gt; {\r\n          console.log(&quot;setTimeout upload Url&quot;);\r\n          if (err &amp;&amp; [&quot;NotFound&quot;, &quot;Forbidden&quot;].indexOf(err.code) &gt; -1) {\r\n            // console.log(err);\r\n            return reject(err);\r\n            //return resolve();\r\n          } else if (err) {\r\n            const e = Object.assign({}, Errors.SOMETHING_WRONG, { err });\r\n            // console.log(e);\r\n            // console.log(err);\r\n            return reject(e);\r\n          }\r\n          return resolve(metadata);\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n","title":"Limiting the S3 PUT file size using pre-signed URLs","body":"<p>I was using S3-Signed-URLS the first time and was also concerned about this.\nAnd I think this whole signed Urls stuff is a bit of a pain because you cant put a maximum Object/Upload size limit on them.</p>\n<p>I think thats something very important on file-uploads in general, that is just missing..</p>\n<p>By not having this option you are forced to handle that problem with the expiry time etc. This gets really messy..</p>\n<p>But it seems that you can use S3 Buckets also with normal Post-Requests, what has a content-length parameter in their policy.\nSo I'll probably exchange my Signed-URLS with POST-Routes in the future.</p>\n<p>I think for proper, larger applications this is the way to go.(?)</p>\n<p>What might help with your issue:</p>\n<p>In the JavaScript  SDK there is a method / function that gets you only the meta-data of the an S3-Object <strong>(including File Size) without downloading the whole file.</strong></p>\n<p>It's called <strong>s3.headObject()</strong></p>\n<p>I think, after the upload is done, it takes some time for AWS to process  that newly uploaded file and then is available in your bucket.</p>\n<p>What I did was, I set a timer after each upload to check the file-size and if its bigger 1mb, it will delete the file.\nI think for production you wanna log that somewhere in a DB.\nMy FileNames also include the user-id of who uploaded the file.\nThat way, you can block an account after a too big upload if you wanted.</p>\n<p>This here worked for me in javascript..</p>\n<pre><code>function checkS3(key) {\n  return new Promise((resolve, reject) =&gt; {\n    s3.headObject(headParams, (err, metadata) =&gt; {\n      console.log(&quot;setTimeout upload Url&quot;);\n      if (err &amp;&amp; [&quot;NotFound&quot;, &quot;Forbidden&quot;].indexOf(err.code) &gt; -1) {\n        // console.log(err);\n        return reject(err);\n        //return resolve();\n      } else if (err) {\n        const e = Object.assign({}, Errors.SOMETHING_WRONG, { err });\n        // console.log(e);\n        // console.log(err);\n        return reject(e);\n      }\n      return resolve(metadata);\n    });\n  });\n}\n</code></pre>\n"}],"owner":{"account_id":8063219,"reputation":294,"user_id":6078174,"accept_rate":20,"display_name":"Raman Preet Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1286,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632756448,"creation_date":1601912194,"question_id":64211805,"body_markdown":"I am generating S3 pre signed URLs so that the client(mobile app) can PUT an image directly to S3 instead of going through a service. For my use case the expiry time of the pre signed URL needs to be configured for a longer window (10-20 mins). Therefore, I want to limit the size of file upload to S3 so that any malicious attacker can not upload large files to the S3 bucket. The client will get the URL from a service which has access to the S3 bucket. I am using AWS Java SDK.\r\n\r\nI found that this can be done using POST forms for browser uploads but how can I do this using just signed S3 URL PUT?","title":"Limiting the S3 PUT file size using pre-signed URLs","body":"<p>I am generating S3 pre signed URLs so that the client(mobile app) can PUT an image directly to S3 instead of going through a service. For my use case the expiry time of the pre signed URL needs to be configured for a longer window (10-20 mins). Therefore, I want to limit the size of file upload to S3 so that any malicious attacker can not upload large files to the S3 bucket. The client will get the URL from a service which has access to the S3 bucket. I am using AWS Java SDK.</p>\n<p>I found that this can be done using POST forms for browser uploads but how can I do this using just signed S3 URL PUT?</p>\n"},{"tags":["java","android-studio","ubuntu","segmentation-fault","java-11"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1632756583,"post_id":69344648,"comment_id":122573165,"body_markdown":"Please try this: `sudo downgrade jre11-openjdk jdk11-openjdk jre11-openjdk-headless` https://bbs.archlinux.org/viewtopic.php?id=262547, search for &quot;leo2501&quot;","body":"Please try this: <code>sudo downgrade jre11-openjdk jdk11-openjdk jre11-openjdk-headless</code> <a href=\"https://bbs.archlinux.org/viewtopic.php?id=262547\" rel=\"nofollow noreferrer\">bbs.archlinux.org/viewtopic.php?id=262547</a>, search for &quot;leo2501&quot;"}],"answers":[{"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632756170,"creation_date":1632743907,"answer_id":69346197,"question_id":69344648,"body_markdown":"Update to the latest Java version and compile using that. (Currently it is JDK 17).  Post the full error log if the issue persists. Another solution might be to set an environment property named `LD_BIND_NOW` to 1\r\n\r\nUsing bash, you can do it in this way\r\n\r\n`$ export LD_BIND_NOW=1`\r\n\r\nLink for downloading:\r\n\r\nWindows x64:\r\n https://download.oracle.com/java/17/latest/jdk-17_windows-x64_bin.exe\r\n\r\nLinux x64:\r\nhttps://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\r\n\r\nMacOS:\r\nhttps://download.oracle.com/java/17/latest/jdk-17_macos-aarch64_bin.dmg","title":"Fatal error: SIGSEGV everytime I launch Android studio","body":"<p>Update to the latest Java version and compile using that. (Currently it is JDK 17).  Post the full error log if the issue persists. Another solution might be to set an environment property named <code>LD_BIND_NOW</code> to 1</p>\n<p>Using bash, you can do it in this way</p>\n<p><code>$ export LD_BIND_NOW=1</code></p>\n<p>Link for downloading:</p>\n<p>Windows x64:\n<a href=\"https://download.oracle.com/java/17/latest/jdk-17_windows-x64_bin.exe\" rel=\"nofollow noreferrer\">https://download.oracle.com/java/17/latest/jdk-17_windows-x64_bin.exe</a></p>\n<p>Linux x64:\n<a href=\"https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz</a></p>\n<p>MacOS:\n<a href=\"https://download.oracle.com/java/17/latest/jdk-17_macos-aarch64_bin.dmg\" rel=\"nofollow noreferrer\">https://download.oracle.com/java/17/latest/jdk-17_macos-aarch64_bin.dmg</a></p>\n"}],"owner":{"account_id":22871855,"reputation":36,"user_id":17014775,"display_name":"Tiany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632756170,"creation_date":1632736399,"question_id":69344648,"body_markdown":"When I try to launch android studio, I have this error :\r\n```# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f69987bd512, pid=9119, tid=9160\r\n#\r\n# JRE version: OpenJDK Runtime Environment (11.0.10) (build 11.0.10+0-b96-7249189)\r\n# Java VM: OpenJDK 64-Bit Server VM (11.0.10+0-b96-7249189, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# V  [libjvm.so+0x457512]  metaspace::BlockFreelist::get_block(unsigned long)+0x1a2\r\n#\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport %p %s %c %d %P %E&quot; (or dumping to /home/tiany/core.9119)\r\n#\r\n# An error report file with more information is saved as:\r\n# /root/java_error_in_studio_9119.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://bugreport.java.com/bugreport/crash.jsp\r\n#\r\nAborted (core dumped)\r\n```\r\nCan anyone help me please?\r\nPS: Im&#39; using openJDK11 on Ubuntu 20.04.2 lts and it gives the same error sometimes when I try to compile a Java code. \r\nThanks in advance\r\n\r\n```\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -Xms256m -Xmx1280m -XX:ReservedCodeCacheSize=512m -XX:+UseG1GC -XX:SoftRefLRUPolicyMSPerMB=50 -XX:CICompilerCount=2 -Dsun.io.useCanonCaches=false -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; -Djdk.attach.allowAttachSelf=true -Djdk.module.illegalAccess.silent=true -Dkotlinx.coroutines.debug=off -Djna.nosys=true -Djna.boot.library.path= -Didea.vendor.name=Google -Dsun.tools.attach.tmp.only=true -XX:ErrorFile=/root/java_error_in_studio_%p.log -XX:HeapDumpPath=/root/java_error_in_studio_.hprof -Didea.vendor.name=Google -Didea.paths.selector=AndroidStudio2020.3 -Djb.vmOptionsFile=/usr/local/android-studio/bin/studio64.vmoptions -Didea.platform.prefix=AndroidStudio -Didea.jre.check=true com.intellij.idea.Main\r\n\r\nHost: Intel(R) Core(TM) i5 CPU       M 520  @ 2.40GHz, 4 cores, 3G, Ubuntu 20.04.3 LTS\r\nTime: Mon Sep 27 12:35:42 2021 MDT elapsed time: 3.271945 seconds (0d 0h 0m 3s)\r\n```\r\n```---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x000000000261e800):  JavaThread &quot;ApplicationImpl pooled thread 6&quot; [_thread_in_vm, id=9160, stack(0x00007f68fc023000,0x00007f68fc124000)]\r\n\r\nStack: [0x00007f68fc023000,0x00007f68fc124000],  sp=0x00007f68fc11f4b0,  free space=1009k\r\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nV  [libjvm.so+0x457512]  metaspace::BlockFreelist::get_block(unsigned long)+0x1a2\r\nV  [libjvm.so+0xb379aa]  metaspace::SpaceManager::allocate(unsigned long)+0x8a\r\nV  [libjvm.so+0xa1ab75]  Metaspace::allocate(ClassLoaderData*, unsigned long, MetaspaceObj::Type, Thread*)+0x75\r\nV  [libjvm.so+0x5e40c7]  ConstantPool::allocate(ClassLoaderData*, int, Thread*)+0x87\r\nV  [libjvm.so+0x5570c5]  ClassFileParser::parse_stream(ClassFileStream const*, Thread*)+0x575\r\nV  [libjvm.so+0x556b10]  ClassFileParser::ClassFileParser(ClassFileStream*, Symbol*, ClassLoaderData*, Handle, InstanceKlass const*, GrowableArray&lt;Handle&gt;*, ClassFileParser::Publicity, Thread*)+0x290\r\nV  [libjvm.so+0x8fce74]  KlassFactory::create_from_stream(ClassFileStream*, Symbol*, ClassLoaderData*, Handle, InstanceKlass const*, GrowableArray&lt;Handle&gt;*, Thread*)+0xb4\r\nV  [libjvm.so+0xb9bfc1]  SystemDictionary::resolve_from_stream(Symbol*, Handle, Handle, ClassFileStream*, Thread*)+0x221\r\nV  [libjvm.so+0x802567]  jvm_define_class_common(JNIEnv_*, char const*, _jobject*, signed char const*, int, _jobject*, char const*, Thread*)+0x2f7\r\nV  [libjvm.so+0x80272b]  JVM_DefineClassWithSource+0x11b\r\nC  [libjava.so+0xcd4e]  Java_java_lang_ClassLoader_defineClass1+0x1be\r\nJ 1391  java.lang.ClassLoader.defineClass1(Ljava/lang/ClassLoader;Ljava/lang/String;[BIILjava/security/ProtectionDomain;Ljava/lang/String;)Ljava/lang/Class; java.base@11.0.10 (0 bytes) @ 0x00007f697ffdf0ea [0x00007f697ffdefc0+0x000000000000012a]\r\nJ 2368 c1 java.lang.ClassLoader.defineClass(Ljava/lang/String;[BIILjava/security/ProtectionDomain;)Ljava/lang/Class; java.base@11.0.10 (43 bytes) @ 0x00007f6970686f24 [0x00007f6970686e00+0x0000000000000124]\r\nJ 1913 c1 com.intellij.util.lang.UrlClassLoader._defineClass(Ljava/lang/String;[B)Ljava/lang/Class; (10 bytes) @ 0x00007f69705baaac [0x00007f69705baa40+0x000000000000006c]\r\nJ 2449 c1 com.intellij.util.lang.UrlClassLoader.defineClass(Ljava/lang/String;Lcom/intellij/util/lang/Resource;)Ljava/lang/Class; (148 bytes) @ 0x00007f69706b7374 [0x00007f69706b7020+0x0000000000000354]\r\nJ 1895 c1 com.intellij.util.lang.UrlClassLoader._findClass(Ljava/lang/String;)Ljava/lang/Class; (59 bytes) @ 0x00007f69705b5594 [0x00007f69705b5340+0x0000000000000254]\r\nJ 1894 c1 com.intellij.util.lang.UrlClassLoader.findClass(Ljava/lang/String;)Ljava/lang/Class; (21 bytes) @ 0x00007f69705b4ec4 [0x00007f69705b4e60+0x0000000000000064]\r\nJ 1112 c1 java.lang.ClassLoader.loadClass(Ljava/lang/String;Z)Ljava/lang/Class; java.base@11.0.10 (122 bytes) @ 0x00007f6970439b2c [0x00007f6970439880+0x00000000000002ac]\r\nJ 755 c1 java.lang.ClassLoader.loadClass(Ljava/lang/String;)Ljava/lang/Class; java.base@11.0.10 (7 bytes) @ 0x00007f697036353c [0x00007f6970363440+0x00000000000000fc]\r\nv  ~StubRoutines::call_stub\r\n```\r\nStack slot to memory mapping:\r\n\r\nstack at sp + 0 slots: 0x00007f6994387480 points into unknown readable memory: 0x00007f690c0dc201 | 01 c2 0d 0c 69 7f 00 00\r\n\r\nstack at sp + 1 slots: 0x00007f6994391190 points into unknown readable memory: 0x00007f699438e830 | 30 e8 38 94 69 7f 00 00\r\n\r\nstack at sp + 2 slots: 0x0000000000000384 is an unknown value\r\n\r\nstack at sp + 3 slots: 0x00007f6994306870 points into unknown readable memory: 0x00007f6994387480 | 80 74 38 94 69 7f 00 00\r\n\r\nstack at sp + 4 slots: 0x00007f68fc11f510 is pointing into the stack for thread: 0x000000000261e800\r\n\r\nstack at sp + 5 slots: 0x00007f6998e9d9aa: &lt;offset 0x0000000000b379aa&gt; in /usr/local/android-studio/jre/lib/server/libjvm.so at 0x00007f6998366000\r\n\r\nstack at sp + 6 slots: 0x00007f6994306840 points into unknown readable memory: 0x00007f6900000000 | 00 00 00 00 69 7f 00 00\r\n\r\nstack at sp + 7 slots: 0x0 is NULL","title":"Fatal error: SIGSEGV everytime I launch Android studio","body":"<p>When I try to launch android studio, I have this error :</p>\n<pre><code>#\n#  SIGSEGV (0xb) at pc=0x00007f69987bd512, pid=9119, tid=9160\n#\n# JRE version: OpenJDK Runtime Environment (11.0.10) (build 11.0.10+0-b96-7249189)\n# Java VM: OpenJDK 64-Bit Server VM (11.0.10+0-b96-7249189, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# V  [libjvm.so+0x457512]  metaspace::BlockFreelist::get_block(unsigned long)+0x1a2\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport %p %s %c %d %P %E&quot; (or dumping to /home/tiany/core.9119)\n#\n# An error report file with more information is saved as:\n# /root/java_error_in_studio_9119.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n#\nAborted (core dumped)\n</code></pre>\n<p>Can anyone help me please?\nPS: Im' using openJDK11 on Ubuntu 20.04.2 lts and it gives the same error sometimes when I try to compile a Java code.\nThanks in advance</p>\n<pre><code>---------------  S U M M A R Y ------------\n\nCommand Line: -Xms256m -Xmx1280m -XX:ReservedCodeCacheSize=512m -XX:+UseG1GC -XX:SoftRefLRUPolicyMSPerMB=50 -XX:CICompilerCount=2 -Dsun.io.useCanonCaches=false -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; -Djdk.attach.allowAttachSelf=true -Djdk.module.illegalAccess.silent=true -Dkotlinx.coroutines.debug=off -Djna.nosys=true -Djna.boot.library.path= -Didea.vendor.name=Google -Dsun.tools.attach.tmp.only=true -XX:ErrorFile=/root/java_error_in_studio_%p.log -XX:HeapDumpPath=/root/java_error_in_studio_.hprof -Didea.vendor.name=Google -Didea.paths.selector=AndroidStudio2020.3 -Djb.vmOptionsFile=/usr/local/android-studio/bin/studio64.vmoptions -Didea.platform.prefix=AndroidStudio -Didea.jre.check=true com.intellij.idea.Main\n\nHost: Intel(R) Core(TM) i5 CPU       M 520  @ 2.40GHz, 4 cores, 3G, Ubuntu 20.04.3 LTS\nTime: Mon Sep 27 12:35:42 2021 MDT elapsed time: 3.271945 seconds (0d 0h 0m 3s)\n</code></pre>\n<pre><code>\nCurrent thread (0x000000000261e800):  JavaThread &quot;ApplicationImpl pooled thread 6&quot; [_thread_in_vm, id=9160, stack(0x00007f68fc023000,0x00007f68fc124000)]\n\nStack: [0x00007f68fc023000,0x00007f68fc124000],  sp=0x00007f68fc11f4b0,  free space=1009k\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\nV  [libjvm.so+0x457512]  metaspace::BlockFreelist::get_block(unsigned long)+0x1a2\nV  [libjvm.so+0xb379aa]  metaspace::SpaceManager::allocate(unsigned long)+0x8a\nV  [libjvm.so+0xa1ab75]  Metaspace::allocate(ClassLoaderData*, unsigned long, MetaspaceObj::Type, Thread*)+0x75\nV  [libjvm.so+0x5e40c7]  ConstantPool::allocate(ClassLoaderData*, int, Thread*)+0x87\nV  [libjvm.so+0x5570c5]  ClassFileParser::parse_stream(ClassFileStream const*, Thread*)+0x575\nV  [libjvm.so+0x556b10]  ClassFileParser::ClassFileParser(ClassFileStream*, Symbol*, ClassLoaderData*, Handle, InstanceKlass const*, GrowableArray&lt;Handle&gt;*, ClassFileParser::Publicity, Thread*)+0x290\nV  [libjvm.so+0x8fce74]  KlassFactory::create_from_stream(ClassFileStream*, Symbol*, ClassLoaderData*, Handle, InstanceKlass const*, GrowableArray&lt;Handle&gt;*, Thread*)+0xb4\nV  [libjvm.so+0xb9bfc1]  SystemDictionary::resolve_from_stream(Symbol*, Handle, Handle, ClassFileStream*, Thread*)+0x221\nV  [libjvm.so+0x802567]  jvm_define_class_common(JNIEnv_*, char const*, _jobject*, signed char const*, int, _jobject*, char const*, Thread*)+0x2f7\nV  [libjvm.so+0x80272b]  JVM_DefineClassWithSource+0x11b\nC  [libjava.so+0xcd4e]  Java_java_lang_ClassLoader_defineClass1+0x1be\nJ 1391  java.lang.ClassLoader.defineClass1(Ljava/lang/ClassLoader;Ljava/lang/String;[BIILjava/security/ProtectionDomain;Ljava/lang/String;)Ljava/lang/Class; java.base@11.0.10 (0 bytes) @ 0x00007f697ffdf0ea [0x00007f697ffdefc0+0x000000000000012a]\nJ 2368 c1 java.lang.ClassLoader.defineClass(Ljava/lang/String;[BIILjava/security/ProtectionDomain;)Ljava/lang/Class; java.base@11.0.10 (43 bytes) @ 0x00007f6970686f24 [0x00007f6970686e00+0x0000000000000124]\nJ 1913 c1 com.intellij.util.lang.UrlClassLoader._defineClass(Ljava/lang/String;[B)Ljava/lang/Class; (10 bytes) @ 0x00007f69705baaac [0x00007f69705baa40+0x000000000000006c]\nJ 2449 c1 com.intellij.util.lang.UrlClassLoader.defineClass(Ljava/lang/String;Lcom/intellij/util/lang/Resource;)Ljava/lang/Class; (148 bytes) @ 0x00007f69706b7374 [0x00007f69706b7020+0x0000000000000354]\nJ 1895 c1 com.intellij.util.lang.UrlClassLoader._findClass(Ljava/lang/String;)Ljava/lang/Class; (59 bytes) @ 0x00007f69705b5594 [0x00007f69705b5340+0x0000000000000254]\nJ 1894 c1 com.intellij.util.lang.UrlClassLoader.findClass(Ljava/lang/String;)Ljava/lang/Class; (21 bytes) @ 0x00007f69705b4ec4 [0x00007f69705b4e60+0x0000000000000064]\nJ 1112 c1 java.lang.ClassLoader.loadClass(Ljava/lang/String;Z)Ljava/lang/Class; java.base@11.0.10 (122 bytes) @ 0x00007f6970439b2c [0x00007f6970439880+0x00000000000002ac]\nJ 755 c1 java.lang.ClassLoader.loadClass(Ljava/lang/String;)Ljava/lang/Class; java.base@11.0.10 (7 bytes) @ 0x00007f697036353c [0x00007f6970363440+0x00000000000000fc]\nv  ~StubRoutines::call_stub\n</code></pre>\n<p>Stack slot to memory mapping:</p>\n<p>stack at sp + 0 slots: 0x00007f6994387480 points into unknown readable memory: 0x00007f690c0dc201 | 01 c2 0d 0c 69 7f 00 00</p>\n<p>stack at sp + 1 slots: 0x00007f6994391190 points into unknown readable memory: 0x00007f699438e830 | 30 e8 38 94 69 7f 00 00</p>\n<p>stack at sp + 2 slots: 0x0000000000000384 is an unknown value</p>\n<p>stack at sp + 3 slots: 0x00007f6994306870 points into unknown readable memory: 0x00007f6994387480 | 80 74 38 94 69 7f 00 00</p>\n<p>stack at sp + 4 slots: 0x00007f68fc11f510 is pointing into the stack for thread: 0x000000000261e800</p>\n<p>stack at sp + 5 slots: 0x00007f6998e9d9aa: &lt;offset 0x0000000000b379aa&gt; in /usr/local/android-studio/jre/lib/server/libjvm.so at 0x00007f6998366000</p>\n<p>stack at sp + 6 slots: 0x00007f6994306840 points into unknown readable memory: 0x00007f6900000000 | 00 00 00 00 69 7f 00 00</p>\n<p>stack at sp + 7 slots: 0x0 is NULL</p>\n"},{"tags":["java","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632736665,"creation_date":1632735142,"answer_id":69344351,"question_id":69343893,"body_markdown":"You should be able to do what you intend.\r\n\r\n 1. For this you would need to create multiple `Session` beans as follows:\r\n    ```java\r\n    @Configuration\r\n    class SessionsConfiguration {\r\n\r\n      @Autowired\r\n      private GenericApplicationContext applicationContext;\r\n\r\n      @Value(&quot;${your.configuration.key}&quot;)\r\n      private int sessionsCount;\r\n\r\n      @PostConstruct\r\n      fun init() {\r\n        for (int i : sessionsCount) {\r\n            applicationContext.registerBean() // Here you have multiple possibilities. \r\n            // Check reference documentation at https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html\r\n        }\r\n      }\r\n    }\r\n    ```\r\n 2. Your code should already do this.\r\n 3. Your code should already do this.","title":"Can a list of beans be injected using Spring","body":"<p>You should be able to do what you intend.</p>\n<ol>\n<li>For this you would need to create multiple <code>Session</code> beans as follows:\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass SessionsConfiguration {\n\n  @Autowired\n  private GenericApplicationContext applicationContext;\n\n  @Value(&quot;${your.configuration.key}&quot;)\n  private int sessionsCount;\n\n  @PostConstruct\n  fun init() {\n    for (int i : sessionsCount) {\n        applicationContext.registerBean() // Here you have multiple possibilities. \n        // Check reference documentation at https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html\n    }\n  }\n}\n</code></pre>\n</li>\n<li>Your code should already do this.</li>\n<li>Your code should already do this.</li>\n</ol>\n"}],"owner":{"account_id":11565609,"reputation":799,"user_id":8473984,"display_name":"ZZZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632755943,"creation_date":1632733101,"question_id":69343893,"body_markdown":"I would like to create a list of JMS MessageProducer from one single connection. Each of these producers need to be created from a separate Session.\r\n\r\nI would like to something like this in Spring but obviously this does not work.\r\n\r\n    @Bean(destroyMethod = &quot;close&quot;)\r\n    @Scope(&quot;prototype&quot;)\r\n    public Session jmsSession(final Connection jmsConnection) {\r\n        &lt;create a session&gt;\r\n    }\r\n    \r\n    \r\n    @Bean(destroyMethod = &quot;close&quot;)\r\n    public List&lt;MessageProducer&gt; jmsProvider(List&lt;Session&gt; jmsSessionList) {\r\n        &lt;Create a list of MessageProducers from the list of jmsSessionList&gt;\r\n    }\r\n\r\nIs there any way I can achieve this? \r\n\r\n1. Create a specific number of Sessions from one connection.(The number of sessions is a configuration property in yml file)\r\n2. Inject the list of Session to another bean to create MessageProducer\r\n3. Specify destroyMethod to destroy them.\r\n\r\n","title":"Can a list of beans be injected using Spring","body":"<p>I would like to create a list of JMS MessageProducer from one single connection. Each of these producers need to be created from a separate Session.</p>\n<p>I would like to something like this in Spring but obviously this does not work.</p>\n<pre><code>@Bean(destroyMethod = &quot;close&quot;)\n@Scope(&quot;prototype&quot;)\npublic Session jmsSession(final Connection jmsConnection) {\n    &lt;create a session&gt;\n}\n\n\n@Bean(destroyMethod = &quot;close&quot;)\npublic List&lt;MessageProducer&gt; jmsProvider(List&lt;Session&gt; jmsSessionList) {\n    &lt;Create a list of MessageProducers from the list of jmsSessionList&gt;\n}\n</code></pre>\n<p>Is there any way I can achieve this?</p>\n<ol>\n<li>Create a specific number of Sessions from one connection.(The number of sessions is a configuration property in yml file)</li>\n<li>Inject the list of Session to another bean to create MessageProducer</li>\n<li>Specify destroyMethod to destroy them.</li>\n</ol>\n"},{"tags":["java","encryption","bouncycastle","pkcs#11"],"comments":[{"owner":{"account_id":910172,"reputation":2622,"user_id":944201,"accept_rate":60,"display_name":"xmoex"},"score":0,"creation_date":1422444572,"post_id":28190858,"comment_id":44749607,"body_markdown":"please give some code...","body":"please give some code..."}],"answers":[{"tags":[],"owner":{"account_id":1260099,"reputation":18217,"user_id":1218618,"accept_rate":100,"display_name":"albciff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424676194,"creation_date":1424644007,"answer_id":28664049,"question_id":28190858,"body_markdown":"`RSA/ECB/OAEPWITHSHA256ANDMGF1PADDING` and `RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING` are different alias but both refers to the same algorithms, so in this sense there is not difference at all.\r\n\r\nThe thing is that you&#39;re using a `PKCS#11` (cryptographic token interface) to cipher your data. According to java [`PKCS#11` reference][1]:\r\n\r\n&gt; The Sun PKCS#11 provider, in contrast to most other providers, **does not implement cryptographic algorithms itself.**\r\n&gt; Instead, it acts as a bridge between the Java JCA and JCE APIs and the\r\n&gt; native PKCS#11 cryptographic API, translating the calls and\r\n&gt; conventions between the two. This means that Java applications calling\r\n&gt; standard JCA and JCE APIs can, without modification, take advantage of\r\n&gt; algorithms offered by the underlying PKCS#11 implementations, such as,\r\n&gt; for example,\r\n&gt; \r\n&gt; Cryptographic Smartcards, Hardware cryptographic accelerators, and\r\n&gt; High performance software implementations. **Note that Java SE only\r\n&gt; facilitates accessing native PKCS#11 implementations, it does not\r\n&gt; itself include a native PKCS#11 implementation**. However, cryptographic\r\n&gt; devices such as Smartcards and hardware accelerators often come with\r\n&gt; software that includes a PKCS#11 implementation, which you need to\r\n&gt; install and configure according to manufacturer&#39;s instructions.\r\n\r\nSummarized, if you&#39;re using a `PKCS#11`, the use of the algorithms depends on vendors native implementation (`.dll` on windows, `.so` on linux ...) and some times on specific program connector so: check if in the both PCs you&#39;re using the same drivers/program version for your `PKCS#11` token and the both are correctly installed because probably there is an error in one of them which doesn&#39;t allows you to use `RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING` correctly.\r\n\r\nHope this helps,\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/security/p11guide.html","title":"what is deference between &quot;RSA/ECB/OAEPWITHSHA256ANDMGF1PADDING&quot; and &quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;","body":"<p><code>RSA/ECB/OAEPWITHSHA256ANDMGF1PADDING</code> and <code>RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING</code> are different alias but both refers to the same algorithms, so in this sense there is not difference at all.</p>\n\n<p>The thing is that you're using a <code>PKCS#11</code> (cryptographic token interface) to cipher your data. According to java <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/p11guide.html\" rel=\"nofollow\"><code>PKCS#11</code> reference</a>:</p>\n\n<blockquote>\n  <p>The Sun PKCS#11 provider, in contrast to most other providers, <strong>does not implement cryptographic algorithms itself.</strong>\n  Instead, it acts as a bridge between the Java JCA and JCE APIs and the\n  native PKCS#11 cryptographic API, translating the calls and\n  conventions between the two. This means that Java applications calling\n  standard JCA and JCE APIs can, without modification, take advantage of\n  algorithms offered by the underlying PKCS#11 implementations, such as,\n  for example,</p>\n  \n  <p>Cryptographic Smartcards, Hardware cryptographic accelerators, and\n  High performance software implementations. <strong>Note that Java SE only\n  facilitates accessing native PKCS#11 implementations, it does not\n  itself include a native PKCS#11 implementation</strong>. However, cryptographic\n  devices such as Smartcards and hardware accelerators often come with\n  software that includes a PKCS#11 implementation, which you need to\n  install and configure according to manufacturer's instructions.</p>\n</blockquote>\n\n<p>Summarized, if you're using a <code>PKCS#11</code>, the use of the algorithms depends on vendors native implementation (<code>.dll</code> on windows, <code>.so</code> on linux ...) and some times on specific program connector so: check if in the both PCs you're using the same drivers/program version for your <code>PKCS#11</code> token and the both are correctly installed because probably there is an error in one of them which doesn't allows you to use <code>RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING</code> correctly.</p>\n\n<p>Hope this helps,</p>\n"},{"tags":[],"owner":{"account_id":3888314,"reputation":365,"user_id":3219155,"accept_rate":64,"display_name":"Tushar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463119169,"creation_date":1463119169,"answer_id":37202242,"question_id":28190858,"body_markdown":"Both algorithms are provided by the different security provider. The \r\n\r\n&gt; RSA/ECB/OAEPWITHSHA256ANDMGF1PADDING \r\n\r\nis provided by the Bouncy Castle provider while \r\n\r\n&gt; RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING\r\n\r\nis provided by the SUN JCE provider. In our case, we are able to successfully use Bouncy Castle provider algorithm but if I replace that with SUN JCE algorithm then it gives following error:\r\n\r\n    Exception in thread &quot;main&quot; javax.crypto.BadPaddingException: lHash mismatch\r\n\tat sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:425)\r\n\tat sun.security.rsa.RSAPadding.unpad(RSAPadding.java:274)\r\n\tat com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:356)\r\n\tat com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:382)\r\n\r\n","title":"what is deference between &quot;RSA/ECB/OAEPWITHSHA256ANDMGF1PADDING&quot; and &quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;","body":"<p>Both algorithms are provided by the different security provider. The </p>\n\n<blockquote>\n  <p>RSA/ECB/OAEPWITHSHA256ANDMGF1PADDING </p>\n</blockquote>\n\n<p>is provided by the Bouncy Castle provider while </p>\n\n<blockquote>\n  <p>RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING</p>\n</blockquote>\n\n<p>is provided by the SUN JCE provider. In our case, we are able to successfully use Bouncy Castle provider algorithm but if I replace that with SUN JCE algorithm then it gives following error:</p>\n\n<pre><code>Exception in thread \"main\" javax.crypto.BadPaddingException: lHash mismatch\nat sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:425)\nat sun.security.rsa.RSAPadding.unpad(RSAPadding.java:274)\nat com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:356)\nat com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:382)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4006641,"reputation":21,"user_id":3301149,"display_name":"tawek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632755872,"creation_date":1632755872,"answer_id":69349143,"question_id":28190858,"body_markdown":"The situation is more complex.\r\nThe RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING is nominally provided by SunJCE.\r\nThe RSA/NONE/OAEPWITHSHA256ANDMGF1PADDING is provided by BC.\r\n\r\nHowever BC is able to take over and act as a provider of RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING if it is installed before the SunJCE provider (using Security.installProviderAt). Unfortunately, BC does not parametrize this algorithm the same way as SunJCE does it. BC implementation of that algorithm is thus different (!) than one provided by SunJCE, which will be source of padding errors.\r\n\r\nSunJCE RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING is using SHA-1 for MGF1 function and SHA-256 for label hash (which is almost always an empty byte array and therefore a static value).\r\n\r\nBC RSA/NONE/OAEPWITHSHA256ANDMGF1PADDING is using SHA-256 for MGF1 function and SHA-256 for label hash. BC will also use the same parameters if it is being asked to provide RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING.\r\n\r\nAdvice: always explicitly specify security provider to make sure that correct provider is used. Alternatively explicitly specify the OAEP parameters and don&#39;t rely on defaults (recommended).\r\n\r\nI&#39;ve reported the issue to BC, so maybe it will get fixed.\r\n","title":"what is deference between &quot;RSA/ECB/OAEPWITHSHA256ANDMGF1PADDING&quot; and &quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;","body":"<p>The situation is more complex.\nThe RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING is nominally provided by SunJCE.\nThe RSA/NONE/OAEPWITHSHA256ANDMGF1PADDING is provided by BC.</p>\n<p>However BC is able to take over and act as a provider of RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING if it is installed before the SunJCE provider (using Security.installProviderAt). Unfortunately, BC does not parametrize this algorithm the same way as SunJCE does it. BC implementation of that algorithm is thus different (!) than one provided by SunJCE, which will be source of padding errors.</p>\n<p>SunJCE RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING is using SHA-1 for MGF1 function and SHA-256 for label hash (which is almost always an empty byte array and therefore a static value).</p>\n<p>BC RSA/NONE/OAEPWITHSHA256ANDMGF1PADDING is using SHA-256 for MGF1 function and SHA-256 for label hash. BC will also use the same parameters if it is being asked to provide RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING.</p>\n<p>Advice: always explicitly specify security provider to make sure that correct provider is used. Alternatively explicitly specify the OAEP parameters and don't rely on defaults (recommended).</p>\n<p>I've reported the issue to BC, so maybe it will get fixed.</p>\n"}],"owner":{"account_id":2378227,"reputation":10546,"user_id":2080965,"accept_rate":7,"display_name":"Lokesh Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4879,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1632755872,"creation_date":1422443789,"question_id":28190858,"body_markdown":"As per my knowledge both are same but one is working on one PC while same code says:\n\n**javax.crypto.NoSuchPaddingException: OAEPWITHSHA-256ANDMGF1PADDING unavailable with RSA** on another machine.\n\nWhen I am removing dash `-` from the name (`OAEPWITHSHA256ANDMGF1PADDING`) it starts running on another machine but leads error to some other line bad padding exception.\nWhat could be the reason?\n\n**Sample code for Hint**\n\n  I am using `jdk1.7.0_71 32bit`:\n\n    private byte[] decryptSecretKeyData(byte[] encryptedSecretKey, byte[] iv, PrivateKey privateKey) throws Exception \n    {\n        try {\n\n            Provider provider= new sun.security.pkcs11.SunPKCS11(keyStoreFile1);\n            Security.addProvider(provider);\n\n            LOG.info(&quot;**************Inside decryptSecretKeyData***********************&quot;);\n            Cipher rsaCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;, provider);\n            \n            // decrypting the session key with rsa no padding.\n            rsaCipher.init(Cipher.DECRYPT_MODE, privateKey); \n\n            /* The reason is RSA OAEP SHA256 is not supported in HSM. */\n            byte[] decKey = rsaCipher.doFinal(encryptedSecretKey);\n\n            OAEPEncoding encode = new OAEPEncoding(new RSAEngine(), new SHA256Digest(), iv);\n            LOG.info(&quot;******************RSAPublicKey rsaPublickey = (*****************************&quot;);\n            \n            java.security.interfaces.RSAPublicKey rsaPublickey = (java.security.interfaces.RSAPublicKey) publicKeyFile;\n            RSAKeyParameters keyParams = new RSAKeyParameters(false, rsaPublickey.getModulus(), EXPONENT);\n            encode.init(false, keyParams);\n\n            LOG.info(&quot;******************encode.processBlock(decKey, 0, decKey.length);************************&quot;);\n            byte decryptedSecKey[] = encode.processBlock(decKey, 0, decKey.length);\n\n            return decryptedSecKey;\n        } catch (InvalidCipherTextException e) {\n            LOG.info(&quot;*******************Failed to decrypt AES secret key using RSA :**********************&quot;);\n            throw new Exception(&quot;Failed to decrypt AES secret key using RSA :&quot; + e.toString());\n        }\n\n    }\n","title":"what is deference between &quot;RSA/ECB/OAEPWITHSHA256ANDMGF1PADDING&quot; and &quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;","body":"<p>As per my knowledge both are same but one is working on one PC while same code says:</p>\n<p><strong>javax.crypto.NoSuchPaddingException: OAEPWITHSHA-256ANDMGF1PADDING unavailable with RSA</strong> on another machine.</p>\n<p>When I am removing dash <code>-</code> from the name (<code>OAEPWITHSHA256ANDMGF1PADDING</code>) it starts running on another machine but leads error to some other line bad padding exception.\nWhat could be the reason?</p>\n<p><strong>Sample code for Hint</strong></p>\n<p>I am using <code>jdk1.7.0_71 32bit</code>:</p>\n<pre><code>private byte[] decryptSecretKeyData(byte[] encryptedSecretKey, byte[] iv, PrivateKey privateKey) throws Exception \n{\n    try {\n\n        Provider provider= new sun.security.pkcs11.SunPKCS11(keyStoreFile1);\n        Security.addProvider(provider);\n\n        LOG.info(&quot;**************Inside decryptSecretKeyData***********************&quot;);\n        Cipher rsaCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;, provider);\n        \n        // decrypting the session key with rsa no padding.\n        rsaCipher.init(Cipher.DECRYPT_MODE, privateKey); \n\n        /* The reason is RSA OAEP SHA256 is not supported in HSM. */\n        byte[] decKey = rsaCipher.doFinal(encryptedSecretKey);\n\n        OAEPEncoding encode = new OAEPEncoding(new RSAEngine(), new SHA256Digest(), iv);\n        LOG.info(&quot;******************RSAPublicKey rsaPublickey = (*****************************&quot;);\n        \n        java.security.interfaces.RSAPublicKey rsaPublickey = (java.security.interfaces.RSAPublicKey) publicKeyFile;\n        RSAKeyParameters keyParams = new RSAKeyParameters(false, rsaPublickey.getModulus(), EXPONENT);\n        encode.init(false, keyParams);\n\n        LOG.info(&quot;******************encode.processBlock(decKey, 0, decKey.length);************************&quot;);\n        byte decryptedSecKey[] = encode.processBlock(decKey, 0, decKey.length);\n\n        return decryptedSecKey;\n    } catch (InvalidCipherTextException e) {\n        LOG.info(&quot;*******************Failed to decrypt AES secret key using RSA :**********************&quot;);\n        throw new Exception(&quot;Failed to decrypt AES secret key using RSA :&quot; + e.toString());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","twitter","twitter4j"],"owner":{"account_id":3496226,"reputation":107,"user_id":2924347,"display_name":"Nesrene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632755840,"creation_date":1632205876,"question_id":69264324,"body_markdown":"I have a piece of code that do not work, and I cannot understand why. As the subject says, it logs in to Twitter, but redirects back to the sign in button. setupTimeline(); is never executed.\r\n\r\nI am using twitter4j library, it is at the latest version, 4.0.7.\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // Get the preferences for the app.\r\n        tweetzPrefs = getSharedPreferences(&quot;TweetzPrefs&quot;, 0);\r\n        // Find out if the user preferences are set.\r\n        if (tweetzPrefs.getString(&quot;user_token&quot;, null) == null) {\r\n            // No user preferences so prompt to sign in.\r\n            setContentView(R.layout.activity_main);\r\n            // Get a twitter instance for authentication.\r\n            tweetzTwitter = new TwitterFactory().getInstance();\r\n            // Pass developer key and secret.\r\n            tweetzTwitter.setOAuthConsumer(TWIT_KEY, TWIT_SECRET);\r\n            // Try to get request token.\r\n            try {\r\n                new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        try {\r\n                            // Get authentication request token.\r\n                            tweetzRequestToken = tweetzTwitter.getOAuthRequestToken(TWIT_URL);\r\n                            Log.e(LOG_TAG, &quot;Are we there Yeti?&quot;);\r\n                        } catch (TwitterException e) {\r\n                            e.printStackTrace();\r\n                            Log.e(LOG_TAG, &quot;TwitterException: &quot; + e.getMessage());\r\n                        }\r\n                        if (tweetzRequestToken == null) {\r\n                            Log.e(LOG_TAG, &quot;tweetzRequestToken == null.&quot;);\r\n                        }\r\n                    }\r\n                }).start();\r\n                // Get authentication request token.\r\n                // tweetzRequestToken = tweetzTwitter.getOAuthRequestToken(TWIT_URL);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Log.e(LOG_TAG, &quot;Exception: &quot; + e.getMessage());\r\n            }\r\n            // Setup button for click listener.\r\n            Button signIn = (Button) findViewById(R.id.signin);\r\n            signIn.setOnClickListener(this);\r\n        } else {\r\n            // User preferences are set, get timeline.\r\n            setupTimeline();\r\n        }\r\n    }\r\n\r\nAny ideas anyone?\r\n\r\nRegards.\r\n\r\n","title":"Application logs in, but redirects back to login","body":"<p>I have a piece of code that do not work, and I cannot understand why. As the subject says, it logs in to Twitter, but redirects back to the sign in button. setupTimeline(); is never executed.</p>\n<p>I am using twitter4j library, it is at the latest version, 4.0.7.</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // Get the preferences for the app.\n    tweetzPrefs = getSharedPreferences(&quot;TweetzPrefs&quot;, 0);\n    // Find out if the user preferences are set.\n    if (tweetzPrefs.getString(&quot;user_token&quot;, null) == null) {\n        // No user preferences so prompt to sign in.\n        setContentView(R.layout.activity_main);\n        // Get a twitter instance for authentication.\n        tweetzTwitter = new TwitterFactory().getInstance();\n        // Pass developer key and secret.\n        tweetzTwitter.setOAuthConsumer(TWIT_KEY, TWIT_SECRET);\n        // Try to get request token.\n        try {\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        // Get authentication request token.\n                        tweetzRequestToken = tweetzTwitter.getOAuthRequestToken(TWIT_URL);\n                        Log.e(LOG_TAG, &quot;Are we there Yeti?&quot;);\n                    } catch (TwitterException e) {\n                        e.printStackTrace();\n                        Log.e(LOG_TAG, &quot;TwitterException: &quot; + e.getMessage());\n                    }\n                    if (tweetzRequestToken == null) {\n                        Log.e(LOG_TAG, &quot;tweetzRequestToken == null.&quot;);\n                    }\n                }\n            }).start();\n            // Get authentication request token.\n            // tweetzRequestToken = tweetzTwitter.getOAuthRequestToken(TWIT_URL);\n        } catch (Exception e) {\n            e.printStackTrace();\n            Log.e(LOG_TAG, &quot;Exception: &quot; + e.getMessage());\n        }\n        // Setup button for click listener.\n        Button signIn = (Button) findViewById(R.id.signin);\n        signIn.setOnClickListener(this);\n    } else {\n        // User preferences are set, get timeline.\n        setupTimeline();\n    }\n}\n</code></pre>\n<p>Any ideas anyone?</p>\n<p>Regards.</p>\n"},{"tags":["java","spring","spring-boot","amazon-sqs","amazon-sns"],"answers":[{"tags":[],"owner":{"account_id":11552789,"reputation":153,"user_id":8464825,"display_name":"Chandra Ari Gunawan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632755797,"creation_date":1632755797,"answer_id":69349125,"question_id":60066619,"body_markdown":"I was using `2.3.0.RELEASE` spring version and just face the same issue.\r\nAfter I put `MappingJackson2MessageConverter` to the `QueueMessageHandlerFactory` the problem is solved.\r\nhere is my QueueMessageHandlerFactory bean.\r\n```java\r\n  @Bean\r\n  public QueueMessageHandlerFactory queueMessageHandlerFactory() {\r\n    MappingJackson2MessageConverter messageConverter = new MappingJackson2MessageConverter();\r\n    messageConverter.setStrictContentTypeMatch(false);\r\n    messageConverter.getObjectMapper().registerModule(new JavaTimeModule());\r\n\r\n\r\n    QueueMessageHandlerFactory factory = new QueueMessageHandlerFactory();\r\n    factory.setMessageConverters(Collections.singletonList(messageConverter));\r\n    return factory;\r\n  }\r\n```","title":"spring core aws messaging Notification template not binding the message properly","body":"<p>I was using <code>2.3.0.RELEASE</code> spring version and just face the same issue.\nAfter I put <code>MappingJackson2MessageConverter</code> to the <code>QueueMessageHandlerFactory</code> the problem is solved.\nhere is my QueueMessageHandlerFactory bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public QueueMessageHandlerFactory queueMessageHandlerFactory() {\n    MappingJackson2MessageConverter messageConverter = new MappingJackson2MessageConverter();\n    messageConverter.setStrictContentTypeMatch(false);\n    messageConverter.getObjectMapper().registerModule(new JavaTimeModule());\n\n\n    QueueMessageHandlerFactory factory = new QueueMessageHandlerFactory();\n    factory.setMessageConverters(Collections.singletonList(messageConverter));\n    return factory;\n  }\n</code></pre>\n"}],"owner":{"account_id":4496339,"reputation":3703,"user_id":3656056,"accept_rate":53,"display_name":"VelNaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632755797,"creation_date":1580856199,"question_id":60066619,"body_markdown":"I am using spring-boot-2.2.1 along with AWS SNS &amp; SQS. I was publishing a message from SNS to SQS. I am able to receive the message using String but @NotificationMessage is returning null instead of the message body. The same code was working fine when I was using spring-boot-1.5.19\r\n\r\n**pom.xml**\r\n\r\n     &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\n**Main file**\r\n\r\n            @SpringBootApplication\r\n    public class AwsApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(AwsApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSqs) {\r\n            return new QueueMessagingTemplate(amazonSqs);\r\n        }\r\n    \r\n        @Bean\r\n        public NotificationMessagingTemplate notificationMessagingTemplate(\r\n                AmazonSNS amazonSNS) {\r\n            return new NotificationMessagingTemplate(amazonSNS);\r\n        }\r\n    \r\n        @Bean\r\n        public IotClient getIotClient() {\r\n            return IotClient.builder()\r\n                    .credentialsProvider(() -&gt; AwsBasicCredentials.create(AWS_ACCESSKEY, AWS_SECRETKEY))\r\n                    .credentialsProvider(() -&gt; InstanceProfileCredentialsProvider.create().resolveCredentials())\r\n                    .region(Region.US_EAST_2)\r\n                    .build();\r\n        }\r\n       }\r\n\r\n\r\n**SQS listener class** \r\n\r\n    @SqsListener(value = &quot;${sqs.consumer.name}&quot;)\r\n    public void receiveSnsSqs(String message, @NotificationMessage Employee employee) {\r\n        System.out.println(&quot;SNS Consumer received the message::&quot;+message);\r\n        System.out.println(&quot;SNS Consumer received the notificationMessage::&quot;+employee);\r\n        }\r\n\r\nIn the above listener class, I am able to receive the message but the employee is getting as null. I am sending a message from AWS SNS directly.\r\n\r\nAs I mentioned it was working fine before it stopped working after migrating the spring version to 2.2.1 release.\r\n\r\nAny help would be really appreciated.","title":"spring core aws messaging Notification template not binding the message properly","body":"<p>I am using spring-boot-2.2.1 along with AWS SNS &amp; SQS. I was publishing a message from SNS to SQS. I am able to receive the message using String but @NotificationMessage is returning null instead of the message body. The same code was working fine when I was using spring-boot-1.5.19</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code> &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Main file</strong></p>\n\n<pre><code>        @SpringBootApplication\npublic class AwsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AwsApplication.class, args);\n    }\n\n    @Bean\n    public QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSqs) {\n        return new QueueMessagingTemplate(amazonSqs);\n    }\n\n    @Bean\n    public NotificationMessagingTemplate notificationMessagingTemplate(\n            AmazonSNS amazonSNS) {\n        return new NotificationMessagingTemplate(amazonSNS);\n    }\n\n    @Bean\n    public IotClient getIotClient() {\n        return IotClient.builder()\n                .credentialsProvider(() -&gt; AwsBasicCredentials.create(AWS_ACCESSKEY, AWS_SECRETKEY))\n                .credentialsProvider(() -&gt; InstanceProfileCredentialsProvider.create().resolveCredentials())\n                .region(Region.US_EAST_2)\n                .build();\n    }\n   }\n</code></pre>\n\n<p><strong>SQS listener class</strong> </p>\n\n<pre><code>@SqsListener(value = \"${sqs.consumer.name}\")\npublic void receiveSnsSqs(String message, @NotificationMessage Employee employee) {\n    System.out.println(\"SNS Consumer received the message::\"+message);\n    System.out.println(\"SNS Consumer received the notificationMessage::\"+employee);\n    }\n</code></pre>\n\n<p>In the above listener class, I am able to receive the message but the employee is getting as null. I am sending a message from AWS SNS directly.</p>\n\n<p>As I mentioned it was working fine before it stopped working after migrating the spring version to 2.2.1 release.</p>\n\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","bash","shell"],"comments":[{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1632754987,"post_id":69348872,"comment_id":122572472,"body_markdown":"Yes - pass it as a command line argument when you launch the Java app, and it will be present in the `String[]` parameter in your `main` method.","body":"Yes - pass it as a command line argument when you launch the Java app, and it will be present in the <code>String[]</code> parameter in your <code>main</code> method."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1632755088,"post_id":69348872,"comment_id":122572513,"body_markdown":"https://docs.oracle.com/javase/tutorial/essential/environment/env.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/env.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/environment/env.ht&zwnj;&#8203;ml</a>"}],"owner":{"account_id":22874474,"reputation":1,"user_id":17017020,"display_name":"Layla Lawliet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632755050,"creation_date":1632754746,"question_id":69348872,"body_markdown":"So this is my shell called setDate.sh\r\n\r\n    #!/usr/bin/env bash\r\n    dateLaunch=&#39;$1&#39;\r\n\r\nThis shell will be launched with a yyyyMMddHHmm variable, so it will be launched as **sh setDate.sh** 202109271640 for example. \r\nI should take this **dateLaunch** variable ad use it in my java application to insert it into an sql table. \r\nFor now I&#39;m using currentTimeMillis from the moment the shell and the java program are launched.\r\n\r\n    @Autowired\r\n    private Service service;\r\n    @Override\r\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n    try {\r\n       Timestamp timestamp = new Timestamp(System.currentTimeMillis());\r\n       String formDate = timestamp.toString().substring(0,16);\r\n       formDate = formDate.replaceAll(&quot;[\\\\-\\\\:\\\\s+]&quot;, &quot;&quot;);\r\n       service.insertIntoDateTable(formDate);\r\n\r\n       return RepeatStatus.FINISHED;\r\n    }catch(Exception e) {\r\n       log.error(&quot;Error xyz&quot;);\r\n       throw e;\r\n  \r\n\r\n      }\r\n     }\r\n    }\r\n\r\nIs there a way I can take that dateLaunch variable and use it in my service.insertIntoDateTable? I should specify I&#39;m using java 1.8.\r\n\r\n\r\n \r\n\r\n\r\n \r\n\r\n\r\n   \r\n\r\n","title":"How can I take a variable from bash script and use it in java?","body":"<p>So this is my shell called setDate.sh</p>\n<pre><code>#!/usr/bin/env bash\ndateLaunch='$1'\n</code></pre>\n<p>This shell will be launched with a yyyyMMddHHmm variable, so it will be launched as <strong>sh setDate.sh</strong> 202109271640 for example.\nI should take this <strong>dateLaunch</strong> variable ad use it in my java application to insert it into an sql table.\nFor now I'm using currentTimeMillis from the moment the shell and the java program are launched.</p>\n<pre><code>@Autowired\nprivate Service service;\n@Override\npublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\ntry {\n   Timestamp timestamp = new Timestamp(System.currentTimeMillis());\n   String formDate = timestamp.toString().substring(0,16);\n   formDate = formDate.replaceAll(&quot;[\\\\-\\\\:\\\\s+]&quot;, &quot;&quot;);\n   service.insertIntoDateTable(formDate);\n\n   return RepeatStatus.FINISHED;\n}catch(Exception e) {\n   log.error(&quot;Error xyz&quot;);\n   throw e;\n\n\n  }\n }\n}\n</code></pre>\n<p>Is there a way I can take that dateLaunch variable and use it in my service.insertIntoDateTable? I should specify I'm using java 1.8.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5090314,"reputation":2138,"user_id":4083590,"display_name":"Johny"},"score":0,"creation_date":1416938757,"post_id":27133628,"comment_id":42765855,"body_markdown":"plz add post your code along with the question and not the screenshot.","body":"plz add post your code along with the question and not the screenshot."},{"owner":{"account_id":4432934,"reputation":433,"user_id":3609639,"accept_rate":100,"display_name":"Marcello Davi"},"score":1,"creation_date":1416938790,"post_id":27133628,"comment_id":42765864,"body_markdown":"Try to write admin password in the console and press ENTER","body":"Try to write admin password in the console and press ENTER"},{"owner":{"account_id":5116606,"reputation":37,"user_id":4101497,"accept_rate":40,"display_name":"mohammad"},"score":0,"creation_date":1417028860,"post_id":27133628,"comment_id":42808168,"body_markdown":"Code is add in post now","body":"Code is add in post now"},{"owner":{"account_id":147167,"reputation":2559,"user_id":358099,"accept_rate":47,"display_name":"bharanitharan"},"score":0,"creation_date":1481198035,"post_id":27133628,"comment_id":69284908,"body_markdown":"Try running eclipse as an administrator","body":"Try running eclipse as an administrator"}],"answers":[{"tags":[],"owner":{"account_id":4743969,"reputation":1799,"user_id":3835765,"display_name":"Abhijeet Dhumal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416939330,"creation_date":1416939330,"answer_id":27133830,"question_id":27133628,"body_markdown":"You can use the following command to execute\r\n\r\n    runas /profile /user:Administrator /savecred\r\n\r\nIn this scenario you will need to provide password once and in future jvm will not prompt you for password. You can provide password directly on the command window/eclipse console.","title":"How run cmd in java program as administrator?","body":"<p>You can use the following command to execute</p>\n\n<pre><code>runas /profile /user:Administrator /savecred\n</code></pre>\n\n<p>In this scenario you will need to provide password once and in future jvm will not prompt you for password. You can provide password directly on the command window/eclipse console.</p>\n"},{"tags":[],"owner":{"account_id":8332849,"reputation":21,"user_id":6260771,"display_name":"Prashanto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481197338,"creation_date":1481197338,"answer_id":41038642,"question_id":27133628,"body_markdown":"Since you have the handle of the process, use the InputStream of the process to read the password prompt and the OutputStream to write the password along with a &quot;\\r\\n&quot; to simulate entering the password on the console.","title":"How run cmd in java program as administrator?","body":"<p>Since you have the handle of the process, use the InputStream of the process to read the password prompt and the OutputStream to write the password along with a \"\\r\\n\" to simulate entering the password on the console.</p>\n"}],"owner":{"account_id":5116606,"reputation":37,"user_id":4101497,"accept_rate":40,"display_name":"mohammad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9294,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1632755000,"creation_date":1416938596,"question_id":27133628,"body_markdown":"pleeas help me \r\nhow can i run cmd in my java App as Administrator \r\n\r\nI was able to extend my forward a bit but it was to ask me a password and there is no place to put a password\r\n\r\nThis picture shows\r\n\r\nthe picture :\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/LX5Vz.png\r\n\r\n\r\n    import java.io.*;\r\n\r\npublic class CMD {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tProcess p=Runtime.getRuntime().exec(&quot;runas /user:Administrator cmd&quot;);\r\n\t\t\t\r\n\t\t\tBufferedReader BR=new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t\t\tString l;\r\n\t\t\twhile((l=BR.readLine()) != null){\r\n\t\t\t\tSystem.out.print(l);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","title":"How run cmd in java program as administrator?","body":"<p>pleeas help me \nhow can i run cmd in my java App as Administrator </p>\n\n<p>I was able to extend my forward a bit but it was to ask me a password and there is no place to put a password</p>\n\n<p>This picture shows</p>\n\n<p>the picture :</p>\n\n<p><img src=\"https://i.stack.imgur.com/LX5Vz.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.io.*;\n</code></pre>\n\n<p>public class CMD {</p>\n\n<pre><code>public static void main(String[] args) {\n\n    try {\n        Process p=Runtime.getRuntime().exec(\"runas /user:Administrator cmd\");\n\n        BufferedReader BR=new BufferedReader(new InputStreamReader(p.getInputStream()));\n        String l;\n        while((l=BR.readLine()) != null){\n            System.out.print(l);\n\n        }\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring","apache-camel","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632754653,"creation_date":1632754653,"answer_id":69348847,"question_id":69274238,"body_markdown":"You just create a camel route that starts from `spring-event:foo` where foo can be anything.\r\n\r\n","title":"Apache camel with spring event basic example","body":"<p>You just create a camel route that starts from <code>spring-event:foo</code> where foo can be anything.</p>\n"}],"owner":{"account_id":75452,"reputation":57633,"user_id":216431,"accept_rate":91,"display_name":"d-man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1632754653,"creation_date":1632250719,"question_id":69274238,"body_markdown":"Using Java and Spring 3.x I am working on example to use apache camel route to produce and consume spring based events. I am surprise google search didn&#39;t return any meaningful result. I mean not 1 example using apache camel using spring-event component.\r\n\r\nfollowing is my event object/publisher/listener can some one help me convert it using apache camel spring-event:// DSL.\r\n\r\nany help is appreciated.\r\n\r\n\r\nMy custom event Class\r\n\r\n\r\n    public class CustomSpringEvent extends ApplicationEvent {\r\n        private String message;\r\n    \r\n        public CustomSpringEvent(Object source, String message) {\r\n            super(source);\r\n            this.message = message;\r\n        }\r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\n\r\n\r\n\r\nPublisher\r\n\r\n    @Component\r\n    public class CustomSpringEventPublisher {\r\n        @Autowired\r\n        private ApplicationEventPublisher applicationEventPublisher;\r\n    \r\n        public void publishCustomEvent(final String message) {\r\n            System.out.println(&quot;Publishing custom event. &quot;);\r\n            CustomSpringEvent customSpringEvent = new CustomSpringEvent(this, message);\r\n            applicationEventPublisher.publishEvent(customSpringEvent);\r\n        }\r\n    }\r\n\r\nListener\r\n\r\n\r\n    @Component\r\n    public class CustomSpringEventListener {\r\n        @EventListener\r\n        public void onApplicationEvent(CustomSpringEvent event) {\r\n            System.out.println(&quot;Received spring custom event - &quot; + event.getMessage());\r\n        }\r\n    }\r\n\r\nSpring events\r\n\r\nhttps://www.baeldung.com/spring-events\r\n\r\nApache camel spring event component\r\n\r\nhttps://camel.apache.org/components/3.4.x/spring-event-component.html","title":"Apache camel with spring event basic example","body":"<p>Using Java and Spring 3.x I am working on example to use apache camel route to produce and consume spring based events. I am surprise google search didn't return any meaningful result. I mean not 1 example using apache camel using spring-event component.</p>\n<p>following is my event object/publisher/listener can some one help me convert it using apache camel spring-event:// DSL.</p>\n<p>any help is appreciated.</p>\n<p>My custom event Class</p>\n<pre><code>public class CustomSpringEvent extends ApplicationEvent {\n    private String message;\n\n    public CustomSpringEvent(Object source, String message) {\n        super(source);\n        this.message = message;\n    }\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n<p>Publisher</p>\n<pre><code>@Component\npublic class CustomSpringEventPublisher {\n    @Autowired\n    private ApplicationEventPublisher applicationEventPublisher;\n\n    public void publishCustomEvent(final String message) {\n        System.out.println(&quot;Publishing custom event. &quot;);\n        CustomSpringEvent customSpringEvent = new CustomSpringEvent(this, message);\n        applicationEventPublisher.publishEvent(customSpringEvent);\n    }\n}\n</code></pre>\n<p>Listener</p>\n<pre><code>@Component\npublic class CustomSpringEventListener {\n    @EventListener\n    public void onApplicationEvent(CustomSpringEvent event) {\n        System.out.println(&quot;Received spring custom event - &quot; + event.getMessage());\n    }\n}\n</code></pre>\n<p>Spring events</p>\n<p><a href=\"https://www.baeldung.com/spring-events\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-events</a></p>\n<p>Apache camel spring event component</p>\n<p><a href=\"https://camel.apache.org/components/3.4.x/spring-event-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.4.x/spring-event-component.html</a></p>\n"},{"tags":["java","web-crawler","jsoup"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1632754470,"post_id":69344953,"comment_id":122572214,"body_markdown":"Could you please provide a sample HTML you are trying to extract the links from? What you have shared so far is an invalid markup and jsoup tries its best to magically correct it. [As you can see](https://try.jsoup.org/~z-w-7_oMmEbli0k8slPIKWJXioQ), the result of this process is not necessarily what you would expect.","body":"Could you please provide a sample HTML you are trying to extract the links from? What you have shared so far is an invalid markup and jsoup tries its best to magically correct it. <a href=\"https://try.jsoup.org/~z-w-7_oMmEbli0k8slPIKWJXioQ\" rel=\"nofollow noreferrer\">As you can see</a>, the result of this process is not necessarily what you would expect."},{"owner":{"account_id":7303351,"reputation":11,"user_id":5565198,"display_name":"Еlena"},"score":0,"creation_date":1632758912,"post_id":69344953,"comment_id":122574107,"body_markdown":"yes, my examples were rather bad, here are the real ones:\n 1) I can find this href: &lt;a href=&quot;/login&quot; class=&quot;header__buttons&quot;&gt; Login&lt;/a&gt;\n 2) But I cannot find this href: &lt;a data-v-12345=&quot;&quot; href=&quot;/restore&quot; class=&quot;footer&quot; data-v-54321=&quot;&quot;&gt; forgot password? &lt;/a&gt;","body":"yes, my examples were rather bad, here are the real ones:  1) I can find this href: &lt;a href=&quot;/login&quot; class=&quot;header__buttons&quot;&gt; Login&lt;/a&gt;  2) But I cannot find this href: &lt;a data-v-12345=&quot;&quot; href=&quot;/restore&quot; class=&quot;footer&quot; data-v-54321=&quot;&quot;&gt; forgot password? &lt;/a&gt;"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":2,"creation_date":1632775648,"post_id":69344953,"comment_id":122580106,"body_markdown":"I don&#39;t see a problem. Both of those links can be queried using the selector `a`: [example](https://try.jsoup.org/~N5r23r2-p3py6LAZsxR2_fXhxUM).","body":"I don&#39;t see a problem. Both of those links can be queried using the selector <code>a</code>: <a href=\"https://try.jsoup.org/~N5r23r2-p3py6LAZsxR2_fXhxUM\" rel=\"nofollow noreferrer\">example</a>."}],"owner":{"account_id":7303351,"reputation":11,"user_id":5565198,"display_name":"Еlena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632754245,"creation_date":1632737843,"question_id":69344953,"body_markdown":"I am searching for webpage links using \r\n``` \r\nElements elements = doc.select(&quot;a&quot;);\r\n```\r\nand I get the result only if the element&#39;s code is `&lt;a href=&quot;/example&quot;`. And when the code is `&lt;a data-v-1234567a href=&quot;/example2&quot;` then &quot;elements&quot; is empty, nothing is found.\r\n\r\nSo should all links be found if I&#39;m using `Elements elements = doc.select(&quot;a&quot;);` or should I consider data attribute specifically (what should I do then)? ","title":"How to consider data attribute in Jsoup doc.select()?","body":"<p>I am searching for webpage links using</p>\n<pre><code>Elements elements = doc.select(&quot;a&quot;);\n</code></pre>\n<p>and I get the result only if the element's code is <code>&lt;a href=&quot;/example&quot;</code>. And when the code is <code>&lt;a data-v-1234567a href=&quot;/example2&quot;</code> then &quot;elements&quot; is empty, nothing is found.</p>\n<p>So should all links be found if I'm using <code>Elements elements = doc.select(&quot;a&quot;);</code> or should I consider data attribute specifically (what should I do then)?</p>\n"},{"tags":["java","reactjs","spring-boot","spring-security","cors"],"answers":[{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632753662,"creation_date":1632753539,"answer_id":69348559,"question_id":69348444,"body_markdown":"This is what I use:\r\n\r\n\t@Bean\r\n\tpublic CorsConfigurationSource corsConfiguration() {\r\n\t\tCorsConfiguration corsConfig = new CorsConfiguration();\r\n\t\tcorsConfig.applyPermitDefaultValues();\r\n\t\tcorsConfig.addAllowedOrigin(&quot;http://localhost:3000&quot;);\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\r\n\t\treturn source;\r\n\t}\r\n\r\nPerhaps you only need to change to `&quot;/**&quot;` but at least this should get you started.\r\n\r\nEDIT: Complete example might help [Spring Webflux JWT Security Demo](https://github.com/karlnicholas/webflux-jwt-security-demo)","title":"@CrossOrigin(origins = { &quot;*&quot; }) not working for Springboot + React app","body":"<p>This is what I use:</p>\n<pre><code>@Bean\npublic CorsConfigurationSource corsConfiguration() {\n    CorsConfiguration corsConfig = new CorsConfiguration();\n    corsConfig.applyPermitDefaultValues();\n    corsConfig.addAllowedOrigin(&quot;http://localhost:3000&quot;);\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\n    return source;\n}\n</code></pre>\n<p>Perhaps you only need to change to <code>&quot;/**&quot;</code> but at least this should get you started.</p>\n<p>EDIT: Complete example might help <a href=\"https://github.com/karlnicholas/webflux-jwt-security-demo\" rel=\"nofollow noreferrer\">Spring Webflux JWT Security Demo</a></p>\n"}],"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2412,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":69348559,"answer_count":1,"score":0,"last_activity_date":1632754233,"creation_date":1632753060,"question_id":69348444,"body_markdown":"I have a Springboot backend and a React frontend and up until today, they were working fine. I was able to send and receive requests/responses. The other StackOverflow questions/answers all simply add `@CrossOrigin(origins = { &quot;*&quot; })` but that is not working for me.\r\n\r\nNow, all of a sudden, I am getting the error:\r\n```\r\nAccess to XMLHttpRequest at &#39;http://localhost:8080/api/employees&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\r\nHowever, I DO have CORS setup as far as I can tell. Like I said, it was working and now it isn&#39;t even though I did not change the CORS origins. \r\n\r\nThis is what I have in my Springboot backend:\r\n```\r\n@CrossOrigin(origins = { &quot;*&quot; })\r\n@RestController\r\n@RequestMapping(&quot;/api/&quot;)\r\npublic class EmployeeController {\r\n\r\n    // Auto-inject EmployeeServices Class into this class so we can use the object\r\n    // without calling &#39;new EmployeeServices&#39;\r\n    @Autowired\r\n    private EmployeeServices employeeServices;\r\n\r\n    // GET all employees\r\n    @GetMapping(&quot;/employees&quot;)\r\n    public List&lt;Employee&gt; getAllEmployees() {\r\n        return employeeServices.getAllEmployees();\r\n    }\r\n}\r\n```\r\n\r\nThe only thing I have done since it last worked was add the requirement to have JsonWebToken as a `header` for all requests. This works in Postman:\r\n[![Postman Results][1]][1]\r\n\r\nI tried adding a hardcoded JWT to my axios request, just incase the JWT is what is giving me the `CORS` error:\r\n```\r\nclass EmployeeService {\r\n  getEmployees() {\r\n    console.log(&quot;getting employees!&quot;);\r\n    console.log(&quot;Environment variable: &quot; + process.env.NODE_ENV);\r\n\r\n    let config = {\r\n      headers: {\r\n        Authorization:\r\n          &quot;Bearer &quot; +\r\n          &quot;eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmb28iLCJleHAiOjE2MzI3ODgwNzgsImlhdCI6MTYzMjc1MjA3OH0.ynUaU9IR893O7uaEjaQ6xPSQh9dEIWdU0DYwwRfXHHM&quot;,\r\n      },\r\n    };\r\n    return axios\r\n      .get(API_BASE_URL + &quot;employees&quot;, null, config)\r\n      .then(console.log(&quot;did it!&quot;));\r\n  }\r\n}\r\n```\r\n\r\nBut when I go to the webpage and let React make the request, I get the `CORS` error. What is going on? Shouldn&#39;t the `*` enable all origins? Is there anything I need listed in my frontend to make this work?\r\n\r\n[![ERRORS][2]][2]\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OJcRJ.png\r\n  [2]: https://i.stack.imgur.com/U6ljd.png","title":"@CrossOrigin(origins = { &quot;*&quot; }) not working for Springboot + React app","body":"<p>I have a Springboot backend and a React frontend and up until today, they were working fine. I was able to send and receive requests/responses. The other StackOverflow questions/answers all simply add <code>@CrossOrigin(origins = { &quot;*&quot; })</code> but that is not working for me.</p>\n<p>Now, all of a sudden, I am getting the error:</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:8080/api/employees' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>However, I DO have CORS setup as far as I can tell. Like I said, it was working and now it isn't even though I did not change the CORS origins.</p>\n<p>This is what I have in my Springboot backend:</p>\n<pre><code>@CrossOrigin(origins = { &quot;*&quot; })\n@RestController\n@RequestMapping(&quot;/api/&quot;)\npublic class EmployeeController {\n\n    // Auto-inject EmployeeServices Class into this class so we can use the object\n    // without calling 'new EmployeeServices'\n    @Autowired\n    private EmployeeServices employeeServices;\n\n    // GET all employees\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees() {\n        return employeeServices.getAllEmployees();\n    }\n}\n</code></pre>\n<p>The only thing I have done since it last worked was add the requirement to have JsonWebToken as a <code>header</code> for all requests. This works in Postman:\n<a href=\"https://i.stack.imgur.com/OJcRJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OJcRJ.png\" alt=\"Postman Results\" /></a></p>\n<p>I tried adding a hardcoded JWT to my axios request, just incase the JWT is what is giving me the <code>CORS</code> error:</p>\n<pre><code>class EmployeeService {\n  getEmployees() {\n    console.log(&quot;getting employees!&quot;);\n    console.log(&quot;Environment variable: &quot; + process.env.NODE_ENV);\n\n    let config = {\n      headers: {\n        Authorization:\n          &quot;Bearer &quot; +\n          &quot;eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmb28iLCJleHAiOjE2MzI3ODgwNzgsImlhdCI6MTYzMjc1MjA3OH0.ynUaU9IR893O7uaEjaQ6xPSQh9dEIWdU0DYwwRfXHHM&quot;,\n      },\n    };\n    return axios\n      .get(API_BASE_URL + &quot;employees&quot;, null, config)\n      .then(console.log(&quot;did it!&quot;));\n  }\n}\n</code></pre>\n<p>But when I go to the webpage and let React make the request, I get the <code>CORS</code> error. What is going on? Shouldn't the <code>*</code> enable all origins? Is there anything I need listed in my frontend to make this work?</p>\n<p><a href=\"https://i.stack.imgur.com/U6ljd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6ljd.png\" alt=\"ERRORS\" /></a></p>\n<p>Thanks!</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632754141,"creation_date":1632754141,"answer_id":69348706,"question_id":69346809,"body_markdown":"Please download https://github.com/javaee/javamail/releases\r\n\r\nAnd follow the example below on how to setup Gmail using JavaMail.  You dont need any webdriver for this.  The javamail jar in your classpath is sufficient.\r\n\r\n    import javax.mail.*;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    import java.util.Properties;\r\n    \r\n    public class SendEmailTLS {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String username = &quot;username@gmail.com&quot;;\r\n            final String password = &quot;password&quot;;\r\n    \r\n            Properties prop = new Properties();\r\n    \t\tprop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); //TLS\r\n            \r\n            Session session = Session.getInstance(prop,\r\n                    new javax.mail.Authenticator() {\r\n                        protected PasswordAuthentication getPasswordAuthentication() {\r\n                            return new PasswordAuthentication(username, password);\r\n                        }\r\n                    });\r\n    \r\n            try {\r\n    \r\n                Message message = new MimeMessage(session);\r\n                message.setFrom(new InternetAddress(&quot;from@gmail.com&quot;));\r\n                message.setRecipients(\r\n                        Message.RecipientType.TO,\r\n                        InternetAddress.parse(&quot;to_username_a@gmail.com, to_username_b@yahoo.com&quot;)\r\n                );\r\n                message.setSubject(&quot;Testing Gmail TLS&quot;);\r\n                message.setText(&quot;Dear Mail Crawler,&quot;\r\n                        + &quot;\\n\\n Please do not spam my email!&quot;);\r\n    \r\n                Transport.send(message);\r\n    \r\n                System.out.println(&quot;Done&quot;);\r\n    \r\n            } catch (MessagingException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nIf still having trouble, you might need to use and trust an APP Password.\r\n\r\nhttps://support.google.com/accounts/answer/185833?p=InvalidSecondFactor\r\n\r\n\r\n    Create &amp; use App Passwords\r\n    \r\n    If you use 2-Step-Verification and get a &quot;password incorrect&quot; error when you sign in, you can try to use an App Password.\r\n    \r\n        Go to your Google Account.\r\n        Select Security.\r\n        Under &quot;Signing in to Google,&quot; select App Passwords. You may need to sign in. If you don’t have this option, it might be because:\r\n            2-Step Verification is not set up for your account.\r\n            2-Step Verification is only set up for security keys.\r\n            Your account is through work, school, or other organization.\r\n            You turned on Advanced Protection.\r\n        At the bottom, choose Select app and choose the app you using and then Select device and choose the device you’re using and then Generate.\r\n        Follow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device.\r\n        Tap Done.\r\n    \r\n    Tip: Most of the time, you’ll only have to enter an App Password once per app or device, so don’t worry about memorizing it.\r\n\r\nReference: https://mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/","title":"How to Email execution report in selenium web-driver java without jenkins?","body":"<p>Please download <a href=\"https://github.com/javaee/javamail/releases\" rel=\"nofollow noreferrer\">https://github.com/javaee/javamail/releases</a></p>\n<p>And follow the example below on how to setup Gmail using JavaMail.  You dont need any webdriver for this.  The javamail jar in your classpath is sufficient.</p>\n<pre><code>import javax.mail.*;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\nimport java.util.Properties;\n\npublic class SendEmailTLS {\n\n    public static void main(String[] args) {\n\n        final String username = &quot;username@gmail.com&quot;;\n        final String password = &quot;password&quot;;\n\n        Properties prop = new Properties();\n        prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); //TLS\n        \n        Session session = Session.getInstance(prop,\n                new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username, password);\n                    }\n                });\n\n        try {\n\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(&quot;from@gmail.com&quot;));\n            message.setRecipients(\n                    Message.RecipientType.TO,\n                    InternetAddress.parse(&quot;to_username_a@gmail.com, to_username_b@yahoo.com&quot;)\n            );\n            message.setSubject(&quot;Testing Gmail TLS&quot;);\n            message.setText(&quot;Dear Mail Crawler,&quot;\n                    + &quot;\\n\\n Please do not spam my email!&quot;);\n\n            Transport.send(message);\n\n            System.out.println(&quot;Done&quot;);\n\n        } catch (MessagingException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>If still having trouble, you might need to use and trust an APP Password.</p>\n<p><a href=\"https://support.google.com/accounts/answer/185833?p=InvalidSecondFactor\" rel=\"nofollow noreferrer\">https://support.google.com/accounts/answer/185833?p=InvalidSecondFactor</a></p>\n<pre><code>Create &amp; use App Passwords\n\nIf you use 2-Step-Verification and get a &quot;password incorrect&quot; error when you sign in, you can try to use an App Password.\n\n    Go to your Google Account.\n    Select Security.\n    Under &quot;Signing in to Google,&quot; select App Passwords. You may need to sign in. If you don’t have this option, it might be because:\n        2-Step Verification is not set up for your account.\n        2-Step Verification is only set up for security keys.\n        Your account is through work, school, or other organization.\n        You turned on Advanced Protection.\n    At the bottom, choose Select app and choose the app you using and then Select device and choose the device you’re using and then Generate.\n    Follow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device.\n    Tap Done.\n\nTip: Most of the time, you’ll only have to enter an App Password once per app or device, so don’t worry about memorizing it.\n</code></pre>\n<p>Reference: <a href=\"https://mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/</a></p>\n"}],"owner":{"account_id":7644329,"reputation":25,"user_id":5795499,"display_name":"vish176"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632754141,"creation_date":1632746470,"question_id":69346809,"body_markdown":"I have tried to use apache common mail API. the code i used is\r\npublic static void main(String[] args) throws EmailException {\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.print(&quot;-------Start------&quot;);\r\n\t\t// TODO Auto-generated method stub\r\n\t\tEmail email = new SimpleEmail();\r\n\t\temail.setHostName(&quot;smtp.googlemail.com&quot;);\r\n\t\temail.setSmtpPort(465);\r\n\t\temail.setAuthenticator(new DefaultAuthenticator(userName, password));\r\n\t\temail.setSSLOnConnect(true);\r\n\t\temail.setFrom(&quot;user@gmail.com&quot;);\r\n\t\temail.setSubject(&quot;TestMail&quot;);\r\n\t\temail.setMsg(&quot;This is a test mail ... :-)&quot;);\r\n\t\temail.addTo(&quot;myemail@gmail.com&quot;);\r\n\t\temail.send();\r\n\t\tSystem.out.print(&quot;-------End------&quot;);\r\n\t}\r\nbut It is saying username and password not accepted however i am providing the correct credentials. When i opened my gmail account , it is showing that it has blocked the sign in attempt. Is there any other way to achieve this?","title":"How to Email execution report in selenium web-driver java without jenkins?","body":"<p>I have tried to use apache common mail API. the code i used is\npublic static void main(String[] args) throws EmailException {</p>\n<pre><code>    System.out.print(&quot;-------Start------&quot;);\n    // TODO Auto-generated method stub\n    Email email = new SimpleEmail();\n    email.setHostName(&quot;smtp.googlemail.com&quot;);\n    email.setSmtpPort(465);\n    email.setAuthenticator(new DefaultAuthenticator(userName, password));\n    email.setSSLOnConnect(true);\n    email.setFrom(&quot;user@gmail.com&quot;);\n    email.setSubject(&quot;TestMail&quot;);\n    email.setMsg(&quot;This is a test mail ... :-)&quot;);\n    email.addTo(&quot;myemail@gmail.com&quot;);\n    email.send();\n    System.out.print(&quot;-------End------&quot;);\n}\n</code></pre>\n<p>but It is saying username and password not accepted however i am providing the correct credentials. When i opened my gmail account , it is showing that it has blocked the sign in attempt. Is there any other way to achieve this?</p>\n"},{"tags":["java","spring","spring-batch","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632753864,"creation_date":1632753864,"answer_id":69348639,"question_id":69347193,"body_markdown":"&gt; Is there another way to tell all the involved threads to stop when at least one thread finds the POISON object ?\r\n\r\nI think the &quot;poison pill&quot; idea won&#39;t work for this thread synchronization issue (or at least won&#39;t be easy to implement cleanly). The timeout-based approach is better in my opinion as it does not require any additional code to inject a poison item in the queue + detect that in the reader + synchronize threads.","title":"Parallel writers : How to stop threads with Poison pill pattern?","body":"<blockquote>\n<p>Is there another way to tell all the involved threads to stop when at least one thread finds the POISON object ?</p>\n</blockquote>\n<p>I think the &quot;poison pill&quot; idea won't work for this thread synchronization issue (or at least won't be easy to implement cleanly). The timeout-based approach is better in my opinion as it does not require any additional code to inject a poison item in the queue + detect that in the reader + synchronize threads.</p>\n"}],"owner":{"account_id":2443152,"reputation":384,"user_id":2131117,"display_name":"flywell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632753864,"creation_date":1632748047,"question_id":69347193,"body_markdown":"Reading in my case must be sequential, and the bottleneck is defined as processing and writing to the database.\r\n\r\nI&#39;ve managed to separate the two process (reading/writing) by using a blocking queue as suggested by [@Mahmoud][1] [here][2], hence the writing step is able to scale without impacting the reading.\r\n\r\nTo stop listening on the queue when there is no more items to read, I&#39;ve introduced the poison-pill pattern. In this case my queue reader become like the following : \r\n\r\n```java\r\n@RequiredArgsConstructor\r\nclass BlockingQueueItemReader&lt;T&gt; implements ItemReader&lt;T&gt; {\r\n\r\n    private final BlockingQueue&lt;T&gt; queue;\r\n    private final T poisonPill;\r\n    private final int timeoutSeconds;\r\n\r\n    @Nullable\r\n    @Override\r\n    public T read() throws Exception {\r\n        T taken = queue.poll(timeoutSeconds, TimeUnit.SECONDS);\r\n\r\n        if (poisonPill.equals(taken)) {\r\n            return null;\r\n        }\r\n\r\n        return taken;\r\n    }\r\n}\r\n```\r\n\r\nTo run multiple writing at the same time I&#39;ve added an executor to step2 like : \r\n\r\n```java\r\n\r\n    @Bean\r\n    public TaskExecutor taskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(10);\r\n        executor.setMaxPoolSize(10);\r\n        executor.setThreadNamePrefix(&quot;MyExe-&quot;);\r\n        return executor;\r\n    }\r\n\r\n    @Bean\r\n\tpublic Step step2() {\r\n\t\treturn steps.get(&quot;step2&quot;)\r\n\t\t\t\t.&lt;Person, Person&gt;chunk(10)\r\n\t\t\t\t.reader(new BlockingQueueItemReader&lt;&gt;(queue(), POISON))\r\n\t\t\t\t.writer(items -&gt; {\r\n\t\t\t\t\tfor (Person item : items) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;item = &quot; + item);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n                .taskExecutor(taskExecutor())\r\n                .throttleLimit(8)\r\n\t\t\t\t.build();\r\n\t}\r\n```\r\n\r\nNow, multiple threads are processing multiple chunks at the same time, that&#39;s what I was looking for.\r\n\r\nMy problem now is with the `BlockingQueueItemReader`. Some readers are blocked at the `poll` line. This happens because of the last read element, it wasn&#39;t the `POISON` object, at the same time another thread has found it and returns `null` (so this thread will stops and not the others).\r\n\r\nTo fix this I&#39;ve changed the implementation again to this :\r\n\r\n```java\r\n@RequiredArgsConstructor\r\npublic class BlockingQueueItemReader&lt;T&gt; implements ItemReader&lt;T&gt; {\r\n\r\n    private final BlockingQueue&lt;T&gt; queue;\r\n    private final T poisonPill;\r\n    private final int timeoutSeconds;\r\n    private boolean exhausted;\r\n\r\n\r\n    @Nullable\r\n    @Override\r\n    public T read() throws Exception {\r\n        if (exhausted) {\r\n            return null;\r\n        }\r\n\r\n        T taken = queue.poll(timeoutSeconds, TimeUnit.SECONDS);\r\n        exhausted = poisonPill.equals(taken);\r\n        \r\n        if (exhausted) {\r\n            return null;\r\n        }\r\n\r\n        return taken;\r\n    }\r\n}\r\n```\r\n\r\nThis way all threads exit normally.\r\n\r\nMy problem is : I&#39;m not happy with this version, the double check on the `exhausted` variable looks ugly ! \r\n\r\nIs there another way to tell all the involved threads to stop when at least one thread  finds the `POISON` object ?\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5019386/mahmoud-ben-hassine\r\n  [2]: https://github.com/benas/spring-batch-lab/blob/main/issues/batch1538/src/main/java/com/example/demo1/ConcurrentStepsSample.java","title":"Parallel writers : How to stop threads with Poison pill pattern?","body":"<p>Reading in my case must be sequential, and the bottleneck is defined as processing and writing to the database.</p>\n<p>I've managed to separate the two process (reading/writing) by using a blocking queue as suggested by <a href=\"https://stackoverflow.com/users/5019386/mahmoud-ben-hassine\">@Mahmoud</a> <a href=\"https://github.com/benas/spring-batch-lab/blob/main/issues/batch1538/src/main/java/com/example/demo1/ConcurrentStepsSample.java\" rel=\"nofollow noreferrer\">here</a>, hence the writing step is able to scale without impacting the reading.</p>\n<p>To stop listening on the queue when there is no more items to read, I've introduced the poison-pill pattern. In this case my queue reader become like the following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\nclass BlockingQueueItemReader&lt;T&gt; implements ItemReader&lt;T&gt; {\n\n    private final BlockingQueue&lt;T&gt; queue;\n    private final T poisonPill;\n    private final int timeoutSeconds;\n\n    @Nullable\n    @Override\n    public T read() throws Exception {\n        T taken = queue.poll(timeoutSeconds, TimeUnit.SECONDS);\n\n        if (poisonPill.equals(taken)) {\n            return null;\n        }\n\n        return taken;\n    }\n}\n</code></pre>\n<p>To run multiple writing at the same time I've added an executor to step2 like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(10);\n        executor.setMaxPoolSize(10);\n        executor.setThreadNamePrefix(&quot;MyExe-&quot;);\n        return executor;\n    }\n\n    @Bean\n    public Step step2() {\n        return steps.get(&quot;step2&quot;)\n                .&lt;Person, Person&gt;chunk(10)\n                .reader(new BlockingQueueItemReader&lt;&gt;(queue(), POISON))\n                .writer(items -&gt; {\n                    for (Person item : items) {\n                        System.out.println(&quot;item = &quot; + item);\n                    }\n                })\n                .taskExecutor(taskExecutor())\n                .throttleLimit(8)\n                .build();\n    }\n</code></pre>\n<p>Now, multiple threads are processing multiple chunks at the same time, that's what I was looking for.</p>\n<p>My problem now is with the <code>BlockingQueueItemReader</code>. Some readers are blocked at the <code>poll</code> line. This happens because of the last read element, it wasn't the <code>POISON</code> object, at the same time another thread has found it and returns <code>null</code> (so this thread will stops and not the others).</p>\n<p>To fix this I've changed the implementation again to this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class BlockingQueueItemReader&lt;T&gt; implements ItemReader&lt;T&gt; {\n\n    private final BlockingQueue&lt;T&gt; queue;\n    private final T poisonPill;\n    private final int timeoutSeconds;\n    private boolean exhausted;\n\n\n    @Nullable\n    @Override\n    public T read() throws Exception {\n        if (exhausted) {\n            return null;\n        }\n\n        T taken = queue.poll(timeoutSeconds, TimeUnit.SECONDS);\n        exhausted = poisonPill.equals(taken);\n        \n        if (exhausted) {\n            return null;\n        }\n\n        return taken;\n    }\n}\n</code></pre>\n<p>This way all threads exit normally.</p>\n<p>My problem is : I'm not happy with this version, the double check on the <code>exhausted</code> variable looks ugly !</p>\n<p>Is there another way to tell all the involved threads to stop when at least one thread  finds the <code>POISON</code> object ?</p>\n"},{"tags":["java","spring-boot","keycloak"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632753781,"creation_date":1632753781,"answer_id":69348623,"question_id":69346885,"body_markdown":"\r\nUsing SpringBoot 2.5.4\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\nThe application.properties file will look like:\r\n\r\n    spring.profiles.active=staging\r\n    \r\n    #---\r\n    spring.config.activate.on-profile=dev\r\n    keycloak.enabled = false\r\n    \r\n    #---\r\n    spring.config.activate.on-profile=staging\r\n    keycloak.realm = demorealm\r\n    keycloak.auth-server-url = http://127.0.0.1:8080/auth\r\n    keycloak.ssl-required = external\r\n    keycloak.resource = demoapp\r\n    keycloak.credentials.secret = 11111111-1111-1111-1111-111111111111\r\n    keycloak.use-resource-role-mappings = true\r\n\r\nThe documentation on configuring keycloak for springboot is:\r\n https://www.keycloak.org/docs/latest/securing_apps/#_spring_boot_adapter\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; 2.1.6. Spring Boot Adapter Edit this section Report an issue\r\n&gt; \r\n&gt; To be able to secure Spring Boot apps you must add the Keycloak Spring\r\n&gt; Boot adapter JAR to your app. You then have to provide some extra\r\n&gt; configuration via normal Spring Boot configuration\r\n&gt; (application.properties). Let’s go over these steps. Adapter\r\n&gt; Installation\r\n&gt; \r\n&gt; The Keycloak Spring Boot adapter takes advantage of Spring Boot’s\r\n&gt; autoconfiguration so all you need to do is add the Keycloak Spring\r\n&gt; Boot starter to your project.\r\n&gt; \r\n&gt; To add it using Maven, add the following to your dependencies:\r\n&gt; \r\n&gt; &lt;dependency&gt;\r\n&gt;     &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n&gt;     &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt;\r\n&gt; \r\n&gt; Add the Adapter BOM dependency:\r\n&gt; \r\n&gt; &lt;dependencyManagement&gt;   &lt;dependencies&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;15.0.2&lt;/version&gt;\r\n&gt;       &lt;type&gt;pom&lt;/type&gt;\r\n&gt;       &lt;scope&gt;import&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;   &lt;/dependencies&gt; &lt;/dependencyManagement&gt;\r\n&gt; \r\n&gt; Currently the following embedded containers are supported and do not\r\n&gt; require any extra dependencies if using the Starter:\r\n&gt; \r\n&gt;     Tomcat\r\n&gt; \r\n&gt;     Undertow\r\n&gt; \r\n&gt;     Jetty\r\n&gt; \r\n&gt; Required Spring Boot Adapter Configuration\r\n&gt; \r\n&gt; This section describes how to configure your Spring Boot app to use\r\n&gt; Keycloak.\r\n&gt; \r\n&gt; Instead of a keycloak.json file, you configure the realm for the\r\n&gt; Spring Boot Keycloak adapter via the normal Spring Boot configuration.\r\n&gt; For example:\r\n&gt; \r\n&gt; keycloak.realm = demorealm keycloak.auth-server-url =\r\n&gt; http://127.0.0.1:8080/auth keycloak.ssl-required = external\r\n&gt; keycloak.resource = demoapp keycloak.credentials.secret =\r\n&gt; 11111111-1111-1111-1111-111111111111\r\n&gt; keycloak.use-resource-role-mappings = true\r\n&gt; \r\n&gt; You can disable the Keycloak Spring Boot Adapter (for example in\r\n&gt; tests) by setting keycloak.enabled = false.\r\n&gt; \r\n&gt; To configure a Policy Enforcer, unlike keycloak.json,\r\n&gt; policy-enforcer-config must be used instead of just policy-enforcer.\r\n&gt; \r\n&gt; You also need to specify the Java EE security config that would\r\n&gt; normally go in the web.xml. The Spring Boot Adapter will set the\r\n&gt; login-method to KEYCLOAK and configure the security-constraints at\r\n&gt; startup time. Here’s an example configuration:\r\n&gt; \r\n&gt; keycloak.securityConstraints[0].authRoles[0] = admin\r\n&gt; keycloak.securityConstraints[0].authRoles[1] = user\r\n&gt; keycloak.securityConstraints[0].securityCollections[0].name = insecure\r\n&gt; stuff\r\n&gt; keycloak.securityConstraints[0].securityCollections[0].patterns[0] =\r\n&gt; /insecure\r\n&gt; \r\n&gt; keycloak.securityConstraints[1].authRoles[0] = admin\r\n&gt; keycloak.securityConstraints[1].securityCollections[0].name = admin\r\n&gt; stuff\r\n&gt; keycloak.securityConstraints[1].securityCollections[0].patterns[0] =\r\n&gt; /admin\r\n&gt; \r\n&gt; \tIf you plan to deploy your Spring Application as a WAR then you\r\n&gt; should not use the Spring Boot Adapter and use the dedicated adapter\r\n&gt; for the application server or servlet container you are using. Your\r\n&gt; Spring Boot should also contain a web.xml file.\r\n\r\n\r\n\r\n","title":"Enabling Keycloak for specific Spring profile","body":"<p>Using SpringBoot 2.5.4</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>The application.properties file will look like:</p>\n<pre><code>spring.profiles.active=staging\n\n#---\nspring.config.activate.on-profile=dev\nkeycloak.enabled = false\n\n#---\nspring.config.activate.on-profile=staging\nkeycloak.realm = demorealm\nkeycloak.auth-server-url = http://127.0.0.1:8080/auth\nkeycloak.ssl-required = external\nkeycloak.resource = demoapp\nkeycloak.credentials.secret = 11111111-1111-1111-1111-111111111111\nkeycloak.use-resource-role-mappings = true\n</code></pre>\n<p>The documentation on configuring keycloak for springboot is:\n<a href=\"https://www.keycloak.org/docs/latest/securing_apps/#_spring_boot_adapter\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/latest/securing_apps/#_spring_boot_adapter</a></p>\n<hr />\n<blockquote>\n<p>2.1.6. Spring Boot Adapter Edit this section Report an issue</p>\n<p>To be able to secure Spring Boot apps you must add the Keycloak Spring\nBoot adapter JAR to your app. You then have to provide some extra\nconfiguration via normal Spring Boot configuration\n(application.properties). Let’s go over these steps. Adapter\nInstallation</p>\n<p>The Keycloak Spring Boot adapter takes advantage of Spring Boot’s\nautoconfiguration so all you need to do is add the Keycloak Spring\nBoot starter to your project.</p>\n<p>To add it using Maven, add the following to your dependencies:</p>\n\n    org.keycloak\n    keycloak-spring-boot-starter \n<p>Add the Adapter BOM dependency:</p>\n<p>   \n\norg.keycloak.bom\nkeycloak-adapter-bom\n15.0.2\npom\nimport\n    </p>\n<p>Currently the following embedded containers are supported and do not\nrequire any extra dependencies if using the Starter:</p>\n<pre><code>Tomcat\n\nUndertow\n\nJetty\n</code></pre>\n<p>Required Spring Boot Adapter Configuration</p>\n<p>This section describes how to configure your Spring Boot app to use\nKeycloak.</p>\n<p>Instead of a keycloak.json file, you configure the realm for the\nSpring Boot Keycloak adapter via the normal Spring Boot configuration.\nFor example:</p>\n<p>keycloak.realm = demorealm keycloak.auth-server-url =\n<a href=\"http://127.0.0.1:8080/auth\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/auth</a> keycloak.ssl-required = external\nkeycloak.resource = demoapp keycloak.credentials.secret =\n11111111-1111-1111-1111-111111111111\nkeycloak.use-resource-role-mappings = true</p>\n<p>You can disable the Keycloak Spring Boot Adapter (for example in\ntests) by setting keycloak.enabled = false.</p>\n<p>To configure a Policy Enforcer, unlike keycloak.json,\npolicy-enforcer-config must be used instead of just policy-enforcer.</p>\n<p>You also need to specify the Java EE security config that would\nnormally go in the web.xml. The Spring Boot Adapter will set the\nlogin-method to KEYCLOAK and configure the security-constraints at\nstartup time. Here’s an example configuration:</p>\n<p>keycloak.securityConstraints[0].authRoles[0] = admin\nkeycloak.securityConstraints[0].authRoles[1] = user\nkeycloak.securityConstraints[0].securityCollections[0].name = insecure\nstuff\nkeycloak.securityConstraints[0].securityCollections[0].patterns[0] =\n/insecure</p>\n<p>keycloak.securityConstraints[1].authRoles[0] = admin\nkeycloak.securityConstraints[1].securityCollections[0].name = admin\nstuff\nkeycloak.securityConstraints[1].securityCollections[0].patterns[0] =\n/admin</p>\n<p>If you plan to deploy your Spring Application as a WAR then you\nshould not use the Spring Boot Adapter and use the dedicated adapter\nfor the application server or servlet container you are using. Your\nSpring Boot should also contain a web.xml file.</p>\n</blockquote>\n"}],"owner":{"account_id":2691863,"reputation":401,"user_id":4358367,"accept_rate":41,"display_name":"bartex9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632753781,"creation_date":1632746798,"question_id":69346885,"body_markdown":"I&#39;m new to Keycloak. I am trying to secure with Keycloak my REST application. The app contains several Spring profiles, which differ in configuration, workflow and exposed REST methods. How can I enable Keycloak only for specific profiles? Thank you!","title":"Enabling Keycloak for specific Spring profile","body":"<p>I'm new to Keycloak. I am trying to secure with Keycloak my REST application. The app contains several Spring profiles, which differ in configuration, workflow and exposed REST methods. How can I enable Keycloak only for specific profiles? Thank you!</p>\n"},{"tags":["java","resteasy","quarkus"],"comments":[{"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"score":0,"creation_date":1568966901,"post_id":58017465,"comment_id":102451173,"body_markdown":"Can you give us your pom.xml ?","body":"Can you give us your pom.xml ?"},{"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"score":0,"creation_date":1569005838,"post_id":58017465,"comment_id":102469796,"body_markdown":"The problem happens even with the hello-world application","body":"The problem happens even with the hello-world application"},{"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"score":0,"creation_date":1569224658,"post_id":58017465,"comment_id":102512713,"body_markdown":"If you can&#39;t give us your pom.xml can you give us the mvn command that generates your application? Or are you refering to the AMQP quickstart application ?","body":"If you can&#39;t give us your pom.xml can you give us the mvn command that generates your application? Or are you refering to the AMQP quickstart application ?"},{"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"score":0,"creation_date":1569237851,"post_id":58017465,"comment_id":102519259,"body_markdown":"@loicmathieu Could you please see the pom.xml?","body":"@loicmathieu Could you please see the pom.xml?"}],"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632753736,"creation_date":1568919601,"question_id":58017465,"body_markdown":"I am trying to migrate an application that communicates only via AMQP with RabbitMQ, but when I compile the application (mvn compile quarkus:dev) without the resteasy the follow error is thrown:\r\n\r\n```\r\nListening for transport dt_socket at address: 5005\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jboss/logging/Logger\r\n        at io.quarkus.dev.DevModeMain.&lt;clinit&gt;(DevModeMain.java:43)\r\nCaused by: java.lang.ClassNotFoundException: org.jboss.logging.Logger\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 1 more\r\n```\r\nThis is the pom.xml of the getting-started application, I will put some dependency to connect with RabbitMQ by myself thats why I didn&#39;t get the Quarkus AMQP dependency (seems to works only with Apache Kafka)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.acme&lt;/groupId&gt;\r\n  &lt;artifactId&gt;getting-started&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n    &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;quarkus.version&gt;0.22.0&lt;/quarkus.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;uberJar&gt;true&lt;/uberJar&gt;\r\n          &lt;finalName&gt;uber-jar-name&lt;/finalName&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;build&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;systemProperties&gt;\r\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n          &lt;/systemProperties&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;native&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;property&gt;\r\n          &lt;name&gt;native&lt;/name&gt;\r\n        &lt;/property&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;native-image&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;enableHttpUrlHandler&gt;true&lt;/enableHttpUrlHandler&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                  &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;systemProperties&gt;\r\n                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n                  &lt;/systemProperties&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```","title":"Is resteasy a requirement in a Quarkus application?","body":"<p>I am trying to migrate an application that communicates only via AMQP with RabbitMQ, but when I compile the application (mvn compile quarkus:dev) without the resteasy the follow error is thrown:</p>\n\n<pre><code>Listening for transport dt_socket at address: 5005\nException in thread \"main\" java.lang.NoClassDefFoundError: org/jboss/logging/Logger\n        at io.quarkus.dev.DevModeMain.&lt;clinit&gt;(DevModeMain.java:43)\nCaused by: java.lang.ClassNotFoundException: org.jboss.logging.Logger\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 1 more\n</code></pre>\n\n<p>This is the pom.xml of the getting-started application, I will put some dependency to connect with RabbitMQ by myself thats why I didn't get the Quarkus AMQP dependency (seems to works only with Apache Kafka)</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.acme&lt;/groupId&gt;\n  &lt;artifactId&gt;getting-started&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;quarkus.version&gt;0.22.0&lt;/quarkus.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-bom&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;uberJar&gt;true&lt;/uberJar&gt;\n          &lt;finalName&gt;uber-jar-name&lt;/finalName&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;build&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;systemProperties&gt;\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n          &lt;/systemProperties&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;native&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;native&lt;/name&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;native-image&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;enableHttpUrlHandler&gt;true&lt;/enableHttpUrlHandler&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\n                  &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;systemProperties&gt;\n                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                  &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","appium","winappdriver"],"answers":[{"tags":[],"owner":{"account_id":19500405,"reputation":66,"user_id":14266642,"display_name":"Carlos Rodriguez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632753710,"creation_date":1632753710,"answer_id":69348605,"question_id":69305050,"body_markdown":"Well the solution to this it&#39;s kinda of tricky, first of all we will use the JNA library. If you&#39;re using maven you could use this dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n      &lt;version&gt;4.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nAs for the code, we make an implementation of the &quot;Shell32&quot; inteface in order to get direct access to the windows&#39; shell.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.Pointer;\r\n    import com.sun.jna.Structure;\r\n    import com.sun.jna.WString;\r\n    import com.sun.jna.platform.win32.Shell32;\r\n    import com.sun.jna.platform.win32.WinDef.HINSTANCE;\r\n    import com.sun.jna.platform.win32.WinDef.HWND;\r\n    import com.sun.jna.platform.win32.WinNT.HANDLE;\r\n    import com.sun.jna.platform.win32.WinReg.HKEY;\r\n    import com.sun.jna.win32.W32APIOptions;\r\n\r\n    public interface Shell32X extends Shell32 {\r\n        Shell32X INSTANCE = (Shell32X) Native.loadLibrary(&quot;shell32&quot;, Shell32X.class, W32APIOptions.UNICODE_OPTIONS);\r\n\r\n        int SW_HIDE = 0;\r\n        int SW_MAXIMIZE = 3;\r\n        int SW_MINIMIZE = 6;\r\n        int SW_RESTORE = 9;\r\n        int SW_SHOW = 5;\r\n        int SW_SHOWDEFAULT = 10;\r\n        int SW_SHOWMAXIMIZED = 3;\r\n        int SW_SHOWMINIMIZED = 2;\r\n        int SW_SHOWMINNOACTIVE = 7;\r\n        int SW_SHOWNA = 8;\r\n        int SW_SHOWNOACTIVATE = 4;\r\n        int SW_SHOWNORMAL = 1;\r\n\r\n        /** File not found. */\r\n        int SE_ERR_FNF = 2;\r\n\r\n        /** Path not found. */\r\n        int SE_ERR_PNF = 3;\r\n\r\n        /** Access denied. */\r\n        int SE_ERR_ACCESSDENIED = 5;\r\n\r\n        /** Out of memory. */\r\n        int SE_ERR_OOM = 8;\r\n\r\n        /** DLL not found. */\r\n        int SE_ERR_DLLNOTFOUND = 32;\r\n\r\n        /** Cannot share an open file. */\r\n        int SE_ERR_SHARE = 26;\r\n\r\n        int SEE_MASK_NOCLOSEPROCESS = 0x00000040;\r\n\r\n        int ShellExecute(int i, String lpVerb, String lpFile, String lpParameters, String lpDirectory, int nShow);\r\n\r\n        boolean ShellExecuteEx(SHELLEXECUTEINFO lpExecInfo);\r\n\r\n        public static class SHELLEXECUTEINFO extends Structure {\r\n            /*\r\n            * DWORD cbSize; ULONG fMask; HWND hwnd; LPCTSTR lpVerb; LPCTSTR lpFile; LPCTSTR\r\n            * lpParameters; LPCTSTR lpDirectory; int nShow; HINSTANCE hInstApp; LPVOID\r\n            * lpIDList; LPCTSTR lpClass; HKEY hkeyClass; DWORD dwHotKey; union { HANDLE\r\n            * hIcon; HANDLE hMonitor; } DUMMYUNIONNAME; HANDLE hProcess;\r\n            */\r\n\r\n            public int cbSize = size();\r\n            public int fMask;\r\n            public HWND hwnd;\r\n            public WString lpVerb;\r\n            public WString lpFile;\r\n            public WString lpParameters;\r\n            public WString lpDirectory;\r\n            public int nShow;\r\n            public HINSTANCE hInstApp;\r\n            public Pointer lpIDList;\r\n            public WString lpClass;\r\n            public HKEY hKeyClass;\r\n            public int dwHotKey;\r\n\r\n            /*\r\n            * Actually: union { HANDLE hIcon; HANDLE hMonitor; } DUMMYUNIONNAME;\r\n            */\r\n            public HANDLE hMonitor;\r\n            public HANDLE hProcess;\r\n\r\n            protected List getFieldOrder() {\r\n                return Arrays.asList(new String[] { &quot;cbSize&quot;, &quot;fMask&quot;, &quot;hwnd&quot;, &quot;lpVerb&quot;, &quot;lpFile&quot;, &quot;lpParameters&quot;,\r\n                        &quot;lpDirectory&quot;, &quot;nShow&quot;, &quot;hInstApp&quot;, &quot;lpIDList&quot;, &quot;lpClass&quot;, &quot;hKeyClass&quot;, &quot;dwHotKey&quot;, &quot;hMonitor&quot;,\r\n                        &quot;hProcess&quot;, });\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nThen we implement all into a method that will allows to do what we were looking for.\r\n\r\n    public static void executeAsAdministrator(String command, String args)\r\n    {\r\n        Shell32X.SHELLEXECUTEINFO execInfo = new Shell32X.SHELLEXECUTEINFO();\r\n        execInfo.lpFile = new WString(command);\r\n        if (args != null)\r\n            execInfo.lpParameters = new WString(args);\r\n        execInfo.nShow = Shell32X.SW_SHOWDEFAULT;\r\n        execInfo.fMask = Shell32X.SEE_MASK_NOCLOSEPROCESS;\r\n        execInfo.lpVerb = new WString(&quot;runas&quot;);\r\n        boolean result = Shell32X.INSTANCE.ShellExecuteEx(execInfo);\r\n\r\n        if (!result)\r\n        {\r\n            int lastError = Kernel32.INSTANCE.GetLastError();\r\n            String errorMessage = Kernel32Util.formatMessageFromLastErrorCode(lastError);\r\n            throw new RuntimeException(&quot;Error performing elevation: &quot; + lastError + &quot;: &quot; + errorMessage + &quot; (apperror=&quot; + execInfo.hInstApp + &quot;)&quot;);\r\n        }\r\n    }\r\n\r\nAnd then just call it where you need it\r\n\r\n    String wadServerPath = &quot;C:\\\\Program Files\\\\Windows Application Driver\\\\WinAppDriver.exe&quot;;\r\n\r\n        //ProcessBuilder builder = new ProcessBuilder(wadServerPath).inheritIO();\r\n        //Process process = builder.start();\r\n        executeAsAdministrator(wadServerPath, &quot;&quot;);\r\n\r\n","title":"Java: WinAppDriver. The requested operation requires elevation","body":"<p>Well the solution to this it's kinda of tricky, first of all we will use the JNA library. If you're using maven you could use this dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n  &lt;artifactId&gt;jna&lt;/artifactId&gt;\n  &lt;version&gt;4.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n    &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n    &lt;version&gt;4.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As for the code, we make an implementation of the &quot;Shell32&quot; inteface in order to get direct access to the windows' shell.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\nimport com.sun.jna.Native;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.Structure;\nimport com.sun.jna.WString;\nimport com.sun.jna.platform.win32.Shell32;\nimport com.sun.jna.platform.win32.WinDef.HINSTANCE;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinNT.HANDLE;\nimport com.sun.jna.platform.win32.WinReg.HKEY;\nimport com.sun.jna.win32.W32APIOptions;\n\npublic interface Shell32X extends Shell32 {\n    Shell32X INSTANCE = (Shell32X) Native.loadLibrary(&quot;shell32&quot;, Shell32X.class, W32APIOptions.UNICODE_OPTIONS);\n\n    int SW_HIDE = 0;\n    int SW_MAXIMIZE = 3;\n    int SW_MINIMIZE = 6;\n    int SW_RESTORE = 9;\n    int SW_SHOW = 5;\n    int SW_SHOWDEFAULT = 10;\n    int SW_SHOWMAXIMIZED = 3;\n    int SW_SHOWMINIMIZED = 2;\n    int SW_SHOWMINNOACTIVE = 7;\n    int SW_SHOWNA = 8;\n    int SW_SHOWNOACTIVATE = 4;\n    int SW_SHOWNORMAL = 1;\n\n    /** File not found. */\n    int SE_ERR_FNF = 2;\n\n    /** Path not found. */\n    int SE_ERR_PNF = 3;\n\n    /** Access denied. */\n    int SE_ERR_ACCESSDENIED = 5;\n\n    /** Out of memory. */\n    int SE_ERR_OOM = 8;\n\n    /** DLL not found. */\n    int SE_ERR_DLLNOTFOUND = 32;\n\n    /** Cannot share an open file. */\n    int SE_ERR_SHARE = 26;\n\n    int SEE_MASK_NOCLOSEPROCESS = 0x00000040;\n\n    int ShellExecute(int i, String lpVerb, String lpFile, String lpParameters, String lpDirectory, int nShow);\n\n    boolean ShellExecuteEx(SHELLEXECUTEINFO lpExecInfo);\n\n    public static class SHELLEXECUTEINFO extends Structure {\n        /*\n        * DWORD cbSize; ULONG fMask; HWND hwnd; LPCTSTR lpVerb; LPCTSTR lpFile; LPCTSTR\n        * lpParameters; LPCTSTR lpDirectory; int nShow; HINSTANCE hInstApp; LPVOID\n        * lpIDList; LPCTSTR lpClass; HKEY hkeyClass; DWORD dwHotKey; union { HANDLE\n        * hIcon; HANDLE hMonitor; } DUMMYUNIONNAME; HANDLE hProcess;\n        */\n\n        public int cbSize = size();\n        public int fMask;\n        public HWND hwnd;\n        public WString lpVerb;\n        public WString lpFile;\n        public WString lpParameters;\n        public WString lpDirectory;\n        public int nShow;\n        public HINSTANCE hInstApp;\n        public Pointer lpIDList;\n        public WString lpClass;\n        public HKEY hKeyClass;\n        public int dwHotKey;\n\n        /*\n        * Actually: union { HANDLE hIcon; HANDLE hMonitor; } DUMMYUNIONNAME;\n        */\n        public HANDLE hMonitor;\n        public HANDLE hProcess;\n\n        protected List getFieldOrder() {\n            return Arrays.asList(new String[] { &quot;cbSize&quot;, &quot;fMask&quot;, &quot;hwnd&quot;, &quot;lpVerb&quot;, &quot;lpFile&quot;, &quot;lpParameters&quot;,\n                    &quot;lpDirectory&quot;, &quot;nShow&quot;, &quot;hInstApp&quot;, &quot;lpIDList&quot;, &quot;lpClass&quot;, &quot;hKeyClass&quot;, &quot;dwHotKey&quot;, &quot;hMonitor&quot;,\n                    &quot;hProcess&quot;, });\n        }\n    }\n\n}\n</code></pre>\n<p>Then we implement all into a method that will allows to do what we were looking for.</p>\n<pre><code>public static void executeAsAdministrator(String command, String args)\n{\n    Shell32X.SHELLEXECUTEINFO execInfo = new Shell32X.SHELLEXECUTEINFO();\n    execInfo.lpFile = new WString(command);\n    if (args != null)\n        execInfo.lpParameters = new WString(args);\n    execInfo.nShow = Shell32X.SW_SHOWDEFAULT;\n    execInfo.fMask = Shell32X.SEE_MASK_NOCLOSEPROCESS;\n    execInfo.lpVerb = new WString(&quot;runas&quot;);\n    boolean result = Shell32X.INSTANCE.ShellExecuteEx(execInfo);\n\n    if (!result)\n    {\n        int lastError = Kernel32.INSTANCE.GetLastError();\n        String errorMessage = Kernel32Util.formatMessageFromLastErrorCode(lastError);\n        throw new RuntimeException(&quot;Error performing elevation: &quot; + lastError + &quot;: &quot; + errorMessage + &quot; (apperror=&quot; + execInfo.hInstApp + &quot;)&quot;);\n    }\n}\n</code></pre>\n<p>And then just call it where you need it</p>\n<pre><code>String wadServerPath = &quot;C:\\\\Program Files\\\\Windows Application Driver\\\\WinAppDriver.exe&quot;;\n\n    //ProcessBuilder builder = new ProcessBuilder(wadServerPath).inheritIO();\n    //Process process = builder.start();\n    executeAsAdministrator(wadServerPath, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":19500405,"reputation":66,"user_id":14266642,"display_name":"Carlos Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69348605,"answer_count":1,"score":0,"last_activity_date":1632753710,"creation_date":1632420855,"question_id":69305050,"body_markdown":"I&#39;m trying to open the Windows Application Driver directly in my Java program, as it is, it works with every other program, but with Admin only ones it doesn&#39;t get the permission to run it. I&#39;ve looked up online but any of those solutions doesn&#39;t seem to work\r\n\r\n``` \r\nString wadServerPath = &quot;C:\\\\Program Files\\\\Windows Application Driver\\\\WinAppDriver.exe&quot;;\r\n\r\nProcessBuilder builder = new ProcessBuilder(wadServerPath).inheritIO();\r\nProcess process = builder.start();\r\n``` \r\nError Message:\r\n\r\n```\r\nCaused by: org.openqa.selenium.WebDriverException: The requested operation requires elevation. (WARNING: The server did not provide any stacktrace information)\r\nCommand duration or timeout: 360 milliseconds\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n```","title":"Java: WinAppDriver. The requested operation requires elevation","body":"<p>I'm trying to open the Windows Application Driver directly in my Java program, as it is, it works with every other program, but with Admin only ones it doesn't get the permission to run it. I've looked up online but any of those solutions doesn't seem to work</p>\n<pre><code>String wadServerPath = &quot;C:\\\\Program Files\\\\Windows Application Driver\\\\WinAppDriver.exe&quot;;\n\nProcessBuilder builder = new ProcessBuilder(wadServerPath).inheritIO();\nProcess process = builder.start();\n</code></pre>\n<p>Error Message:</p>\n<pre><code>Caused by: org.openqa.selenium.WebDriverException: The requested operation requires elevation. (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 360 milliseconds\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\n</code></pre>\n"},{"tags":["java","jenkins","junit5"],"answers":[{"tags":[],"owner":{"account_id":20180645,"reputation":1,"user_id":14801295,"display_name":"domagile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632753434,"creation_date":1632753434,"answer_id":69348534,"question_id":69313206,"body_markdown":"Finally I used https://github.com/artsok/rerunner-jupiter library. It throws TestAbortedException before repetition of failed test and such failure is marked as ignored test. The result of build is marked as successful in this case. It was needed to replace @Test annotation to my custom annotation and add @TestTemplate to it, also I extended from Extension class of the library and applied my implementation of extension to class of my basic test using @ExtendWith. Looks like the only way to use the library without using of @ReplaceIfExceptions... annotation on each test method.","title":"Re-run failed Junit 5 tests without reporting them as failed in test results","body":"<p>Finally I used <a href=\"https://github.com/artsok/rerunner-jupiter\" rel=\"nofollow noreferrer\">https://github.com/artsok/rerunner-jupiter</a> library. It throws TestAbortedException before repetition of failed test and such failure is marked as ignored test. The result of build is marked as successful in this case. It was needed to replace @Test annotation to my custom annotation and add @TestTemplate to it, also I extended from Extension class of the library and applied my implementation of extension to class of my basic test using @ExtendWith. Looks like the only way to use the library without using of @ReplaceIfExceptions... annotation on each test method.</p>\n"}],"owner":{"account_id":20180645,"reputation":1,"user_id":14801295,"display_name":"domagile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69348534,"answer_count":1,"score":0,"last_activity_date":1632753434,"creation_date":1632477952,"question_id":69313206,"body_markdown":"I have set of JUnit5 tests which are run and reported with gradle by Jenkins. Some of them are unstable without my control (let&#39;s say &quot;internal server error&quot; from external service) and in random way. I can re-run them with gradle &quot;test retry&quot; plugin or by some other way but then initial failures are present in test summary and build is reported as unstable in Jenkins. But the need is to have &quot;Success&quot; build if failed tests are good after second try. Therefore does anybody know the way to re-run tests without reporting of initial failure in test results?\r\n\r\nMy current idea is to try the following:\r\n- hide specific exceptions with TestExecutionExceptionHandler to have initial failure reported as success\r\n- implement @TestFactory to return failed tests dynamically for second run\r\n- implement ClassOrderer to run mentioned test factory as the last test\r\nand other complications. So looks pretty ugly. Therefore hope for existing of better solution.\r\n\r\nUpdate: Tried to use https://github.com/artsok/rerunner-jupiter library. Since I don&#39;t want to replace @Test annotations with custom @ReplaceIfExceptions... for all test methods in the project, I tried to override ...Extension class of the library and use it with &quot;@ExtendWith&quot; at class level of some basic test class. Then understood that replacing of @Test with @TestTemplate at method level is still needed for this approach to work.\r\nTherefore now I&#39;m thinking about replacing of @Test with some my custom annotation to have ability quickly add to it anything like @ReplaceIfExceptions... or @TestTemplate or whatever would be needed.","title":"Re-run failed Junit 5 tests without reporting them as failed in test results","body":"<p>I have set of JUnit5 tests which are run and reported with gradle by Jenkins. Some of them are unstable without my control (let's say &quot;internal server error&quot; from external service) and in random way. I can re-run them with gradle &quot;test retry&quot; plugin or by some other way but then initial failures are present in test summary and build is reported as unstable in Jenkins. But the need is to have &quot;Success&quot; build if failed tests are good after second try. Therefore does anybody know the way to re-run tests without reporting of initial failure in test results?</p>\n<p>My current idea is to try the following:</p>\n<ul>\n<li>hide specific exceptions with TestExecutionExceptionHandler to have initial failure reported as success</li>\n<li>implement @TestFactory to return failed tests dynamically for second run</li>\n<li>implement ClassOrderer to run mentioned test factory as the last test\nand other complications. So looks pretty ugly. Therefore hope for existing of better solution.</li>\n</ul>\n<p>Update: Tried to use <a href=\"https://github.com/artsok/rerunner-jupiter\" rel=\"nofollow noreferrer\">https://github.com/artsok/rerunner-jupiter</a> library. Since I don't want to replace @Test annotations with custom @ReplaceIfExceptions... for all test methods in the project, I tried to override ...Extension class of the library and use it with &quot;@ExtendWith&quot; at class level of some basic test class. Then understood that replacing of @Test with @TestTemplate at method level is still needed for this approach to work.\nTherefore now I'm thinking about replacing of @Test with some my custom annotation to have ability quickly add to it anything like @ReplaceIfExceptions... or @TestTemplate or whatever would be needed.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":4948185,"reputation":248,"user_id":3983013,"accept_rate":75,"display_name":"Piotr Michalczyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632753337,"creation_date":1632753337,"answer_id":69348513,"question_id":69347296,"body_markdown":"It looks like this warning is from this class: [AddArtifactTask][1]. Apparently that was added as a [workaround][2] to fix this [problem][3]. Info from the ticket:\r\n\r\n&gt; This is due to the fact that the dependency set task tries to include the main project artifact as one of the dependencies. This causes a problem when there is no assembly ID and no classifier, because the archiver tries to include the destination file for the assembly in itself.\r\n\r\n\r\n  [1]: https://github.com/apache/maven-assembly-plugin/blob/3f444d799b16dc0ec1428fe99381adb4a649560d/src/main/java/org/apache/maven/plugins/assembly/archive/task/AddArtifactTask.java#L248\r\n  [2]: https://github.com/apache/maven-assembly-plugin/commit/a6c3602b238bc136c0171c3875869cc87539063b\r\n  [3]: https://issues.apache.org/jira/browse/MASSEMBLY-282","title":"Maven warning: Artifact references the same file as the assembly destination file","body":"<p>It looks like this warning is from this class: <a href=\"https://github.com/apache/maven-assembly-plugin/blob/3f444d799b16dc0ec1428fe99381adb4a649560d/src/main/java/org/apache/maven/plugins/assembly/archive/task/AddArtifactTask.java#L248\" rel=\"nofollow noreferrer\">AddArtifactTask</a>. Apparently that was added as a <a href=\"https://github.com/apache/maven-assembly-plugin/commit/a6c3602b238bc136c0171c3875869cc87539063b\" rel=\"nofollow noreferrer\">workaround</a> to fix this <a href=\"https://issues.apache.org/jira/browse/MASSEMBLY-282\" rel=\"nofollow noreferrer\">problem</a>. Info from the ticket:</p>\n<blockquote>\n<p>This is due to the fact that the dependency set task tries to include the main project artifact as one of the dependencies. This causes a problem when there is no assembly ID and no classifier, because the archiver tries to include the destination file for the assembly in itself.</p>\n</blockquote>\n"}],"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632753337,"creation_date":1632748486,"question_id":69347296,"body_markdown":"I&#39;m getting the following maven warning while building my project:\r\n\r\n```\r\n[INFO] --- maven-assembly-plugin:3.3.0:single (default) @ app-cl ---\r\n[WARNING] Artifact: com.myorg:app-cl:jar:2021.08.2 build XXX references the same file as the assembly destination file. Moving it to a temporary location for inclusion.\r\n```\r\n\r\nWhat does it mean and what can I do about it?","title":"Maven warning: Artifact references the same file as the assembly destination file","body":"<p>I'm getting the following maven warning while building my project:</p>\n<pre><code>[INFO] --- maven-assembly-plugin:3.3.0:single (default) @ app-cl ---\n[WARNING] Artifact: com.myorg:app-cl:jar:2021.08.2 build XXX references the same file as the assembly destination file. Moving it to a temporary location for inclusion.\n</code></pre>\n<p>What does it mean and what can I do about it?</p>\n"},{"tags":["java","android","kotlin","android-room"],"answers":[{"tags":[],"owner":{"account_id":22808679,"reputation":51,"user_id":16960371,"display_name":"Edson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632404825,"creation_date":1632404825,"answer_id":69301300,"question_id":69301095,"body_markdown":"i would open a new field in the room db like &quot;val type: Int&quot; and check the type to open the new activity. But in my opinion you could create only one activity and make it generic for each match","title":"How to open specific activity via ID","body":"<p>i would open a new field in the room db like &quot;val type: Int&quot; and check the type to open the new activity. But in my opinion you could create only one activity and make it generic for each match</p>\n"},{"tags":[],"owner":{"account_id":22691077,"reputation":19,"user_id":16859984,"display_name":"Yotaka Yomoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632753277,"creation_date":1632753277,"answer_id":69348501,"question_id":69301095,"body_markdown":"Since I initially did not want to create a separate field in the database, and I used UUID.randomUUID() in the ID field - this complicated my work, I wrote code that checked the name of the command and opened the activity with this command. This is not quite correct, but if you use an ID without randomness in your code, you can do a check by ID. Here is the solution I made: \r\n\r\n```\r\n btnDetail.setOnClickListener {\r\n                if (match.firstCommand == &quot;Chelsea&quot;) {\r\n                    val intent = Intent(context, DetailActivity::class.java)\r\n                    startActivity(intent)\r\n                }else if (match.firstCommand == &quot;Everton&quot;){\r\n                    val intent = Intent(context, SecondDetailActivity::class.java)\r\n                    startActivity(intent)\r\n                }else if(match.firstCommand== &quot;Brentford&quot;){\r\n                    val intent = Intent(context, ThirdDetailActivity::class.java)\r\n                    startActivity(intent)\r\n                }\r\n```\r\n","title":"How to open specific activity via ID","body":"<p>Since I initially did not want to create a separate field in the database, and I used UUID.randomUUID() in the ID field - this complicated my work, I wrote code that checked the name of the command and opened the activity with this command. This is not quite correct, but if you use an ID without randomness in your code, you can do a check by ID. Here is the solution I made:</p>\n<pre><code> btnDetail.setOnClickListener {\n                if (match.firstCommand == &quot;Chelsea&quot;) {\n                    val intent = Intent(context, DetailActivity::class.java)\n                    startActivity(intent)\n                }else if (match.firstCommand == &quot;Everton&quot;){\n                    val intent = Intent(context, SecondDetailActivity::class.java)\n                    startActivity(intent)\n                }else if(match.firstCommand== &quot;Brentford&quot;){\n                    val intent = Intent(context, ThirdDetailActivity::class.java)\n                    startActivity(intent)\n                }\n</code></pre>\n"}],"owner":{"account_id":22691077,"reputation":19,"user_id":16859984,"display_name":"Yotaka Yomoto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69301300,"answer_count":2,"score":0,"last_activity_date":1632753277,"creation_date":1632404101,"question_id":69301095,"body_markdown":"I have a project with matches. In the project, I use the room database. I have three records in my database that have an ID and contain the fields imgTeamOne, imgTeamTwo, titleTeamOne, titleTeamTwo, itemDate. I have prepared a certain activity for each of the match (ActivityDetailOne, ActivityDetailTwo, ActivityDetailThree) and I want that when I clicked on the first card - ActivityDetailOne opened, when I clicked on the second card - ActivityDetailTwo opened, etc. How do I do this? How do I write a code so that a card with ID=0 opens ActivityDetailOne, please help. I&#39;m a beginner and I don&#39;t understand\r\n\r\n\r\n**FragmentMatch.kt**\r\n``` \r\nclass FragmentMatch : Fragment() {\r\n\r\n    private lateinit var _binding: FragmentMatchBinding\r\n    private val binding get() = _binding\r\n\r\n    private val matchViewModel: ViewModelMatch by activityViewModels()\r\n\r\n    private lateinit var recyclerView: RecyclerView\r\n    private var adapter: RecyclerAdapter? = RecyclerAdapter(emptyList())\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        _binding = FragmentMatchBinding.inflate(inflater, container, false)\r\n        recyclerView = binding.passRecyclerView\r\n        recyclerView.layoutManager =\r\n            LinearLayoutManager(activity, LinearLayoutManager.VERTICAL, false)\r\n        recyclerView.adapter = adapter\r\n\r\n        requireActivity().title = &quot;Игры&quot;\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        matchViewModel.matchListLiveData.observe(\r\n            viewLifecycleOwner,\r\n            Observer { receipts -&gt; receipts?.let { updateUI(receipts) } }\r\n        )\r\n    }\r\n\r\n    private fun updateUI(matches: List&lt;MatchModel&gt;) {\r\n        if (matches.isEmpty()){\r\n            initialDb()\r\n        }\r\n        adapter = RecyclerAdapter(matches)\r\n        recyclerView.adapter = adapter\r\n    }\r\n\r\n    private fun initialDb(){\r\n        val match = MatchModel(UUID.randomUUID(), &quot;25 сентября 2021&quot;, &quot;Chelsea&quot;, &quot;Manchester City&quot;)\r\n        val match2 = MatchModel(UUID.randomUUID(), &quot;25 сентября 2021&quot;, &quot;Everton&quot;, &quot;Norvich City&quot;)\r\n        val match3 = MatchModel(UUID.randomUUID(), &quot;25 сентября 2021&quot;, &quot;Brentford&quot;, &quot;Liverpool&quot;)\r\n        matchViewModel.addMatch(match)\r\n        matchViewModel.addMatch(match2)\r\n        matchViewModel.addMatch(match3)\r\n    }\r\n\r\n\r\n    private inner class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView),\r\n        View.OnClickListener {\r\n\r\n        private lateinit var match: MatchModel\r\n\r\n        private val titleTeamOne: TextView = itemView.findViewById(R.id.titleTeamOne)\r\n        private val imgTeamOne: ImageView = itemView.findViewById(R.id.imgTeamOne)\r\n        private val titleTeamTwo: TextView = itemView.findViewById(R.id.titleTeamTwo)\r\n        private val imgTeamTwo: ImageView = itemView.findViewById(R.id.imgTeamTwo)\r\n        private val dateGame: TextView = itemView.findViewById(R.id.dateGame)\r\n        private val favBtn: Button = itemView.findViewById(R.id.favBtn)\r\n        private val btnDetail: Button = itemView.findViewById(R.id.btnDetail)\r\n\r\n\r\n        init {\r\n            itemView.setOnClickListener(this)\r\n        }\r\n\r\n        fun bind(match: MatchModel) {\r\n            this.match = match\r\n            titleTeamOne.text = (match.firstCommand)\r\n            titleTeamTwo.text = (match.secondCommand)\r\n            dateGame.text = (match.date)\r\n            when (match.firstCommand) {\r\n                &quot;Everton&quot; -&gt; {\r\n                    imgTeamOne.setImageResource(R.drawable.image_3)\r\n                }\r\n                &quot;Brentford&quot; -&gt; {\r\n                    imgTeamOne.setImageResource(R.drawable.image_4)\r\n                }\r\n                &quot;Norwich&quot; -&gt; {\r\n                    imgTeamOne.setImageResource(R.drawable.image_5)\r\n                }\r\n                &quot;Liverpool&quot; -&gt; {\r\n                    imgTeamOne.setImageResource(R.drawable.image_6)\r\n                }\r\n            }\r\n            when (match.secondCommand) {\r\n                &quot;Everton&quot; -&gt; {\r\n                    imgTeamTwo.setImageResource(R.drawable.image_3)\r\n                }\r\n                &quot;Brentford&quot; -&gt; {\r\n                    imgTeamTwo.setImageResource(R.drawable.image_4)\r\n                }\r\n                &quot;Norwich&quot; -&gt; {\r\n                    imgTeamTwo.setImageResource(R.drawable.image_5)\r\n                }\r\n                &quot;Liverpool&quot; -&gt; {\r\n                    imgTeamTwo.setImageResource(R.drawable.image_6)\r\n                }\r\n            }\r\n\r\n            favBtn.setOnClickListener {\r\n                val match = MatchModel(match.id, match.date, match.firstCommand, match.secondCommand, true)\r\n                matchViewModel.saveMatch(match)\r\n            }\r\n            btnDetail.setOnClickListener {\r\n                val intent = Intent(context, DetailActivity::class.java)\r\n                startActivity(intent)\r\n            }\r\n        }\r\n\r\n        override fun onClick(v: View) {\r\n        }\r\n    }\r\n\r\n    private inner class RecyclerAdapter(private var matches: List&lt;MatchModel&gt;) :\r\n        RecyclerView.Adapter&lt;MyViewHolder&gt;() {\r\n        override fun onCreateViewHolder(\r\n            parent: ViewGroup,\r\n            viewType: Int\r\n        ): MyViewHolder {\r\n            val itemView =\r\n                LayoutInflater.from(parent.context)\r\n                    .inflate(R.layout.item_match, parent, false)\r\n            return MyViewHolder(itemView)\r\n        }\r\n\r\n        override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\r\n            val match = matches[position]\r\n            holder.bind(match)\r\n        }\r\n\r\n        override fun getItemCount() = matches.size\r\n    }\r\n}\r\n```\r\n","title":"How to open specific activity via ID","body":"<p>I have a project with matches. In the project, I use the room database. I have three records in my database that have an ID and contain the fields imgTeamOne, imgTeamTwo, titleTeamOne, titleTeamTwo, itemDate. I have prepared a certain activity for each of the match (ActivityDetailOne, ActivityDetailTwo, ActivityDetailThree) and I want that when I clicked on the first card - ActivityDetailOne opened, when I clicked on the second card - ActivityDetailTwo opened, etc. How do I do this? How do I write a code so that a card with ID=0 opens ActivityDetailOne, please help. I'm a beginner and I don't understand</p>\n<p><strong>FragmentMatch.kt</strong></p>\n<pre><code>class FragmentMatch : Fragment() {\n\n    private lateinit var _binding: FragmentMatchBinding\n    private val binding get() = _binding\n\n    private val matchViewModel: ViewModelMatch by activityViewModels()\n\n    private lateinit var recyclerView: RecyclerView\n    private var adapter: RecyclerAdapter? = RecyclerAdapter(emptyList())\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        _binding = FragmentMatchBinding.inflate(inflater, container, false)\n        recyclerView = binding.passRecyclerView\n        recyclerView.layoutManager =\n            LinearLayoutManager(activity, LinearLayoutManager.VERTICAL, false)\n        recyclerView.adapter = adapter\n\n        requireActivity().title = &quot;Игры&quot;\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        matchViewModel.matchListLiveData.observe(\n            viewLifecycleOwner,\n            Observer { receipts -&gt; receipts?.let { updateUI(receipts) } }\n        )\n    }\n\n    private fun updateUI(matches: List&lt;MatchModel&gt;) {\n        if (matches.isEmpty()){\n            initialDb()\n        }\n        adapter = RecyclerAdapter(matches)\n        recyclerView.adapter = adapter\n    }\n\n    private fun initialDb(){\n        val match = MatchModel(UUID.randomUUID(), &quot;25 сентября 2021&quot;, &quot;Chelsea&quot;, &quot;Manchester City&quot;)\n        val match2 = MatchModel(UUID.randomUUID(), &quot;25 сентября 2021&quot;, &quot;Everton&quot;, &quot;Norvich City&quot;)\n        val match3 = MatchModel(UUID.randomUUID(), &quot;25 сентября 2021&quot;, &quot;Brentford&quot;, &quot;Liverpool&quot;)\n        matchViewModel.addMatch(match)\n        matchViewModel.addMatch(match2)\n        matchViewModel.addMatch(match3)\n    }\n\n\n    private inner class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView),\n        View.OnClickListener {\n\n        private lateinit var match: MatchModel\n\n        private val titleTeamOne: TextView = itemView.findViewById(R.id.titleTeamOne)\n        private val imgTeamOne: ImageView = itemView.findViewById(R.id.imgTeamOne)\n        private val titleTeamTwo: TextView = itemView.findViewById(R.id.titleTeamTwo)\n        private val imgTeamTwo: ImageView = itemView.findViewById(R.id.imgTeamTwo)\n        private val dateGame: TextView = itemView.findViewById(R.id.dateGame)\n        private val favBtn: Button = itemView.findViewById(R.id.favBtn)\n        private val btnDetail: Button = itemView.findViewById(R.id.btnDetail)\n\n\n        init {\n            itemView.setOnClickListener(this)\n        }\n\n        fun bind(match: MatchModel) {\n            this.match = match\n            titleTeamOne.text = (match.firstCommand)\n            titleTeamTwo.text = (match.secondCommand)\n            dateGame.text = (match.date)\n            when (match.firstCommand) {\n                &quot;Everton&quot; -&gt; {\n                    imgTeamOne.setImageResource(R.drawable.image_3)\n                }\n                &quot;Brentford&quot; -&gt; {\n                    imgTeamOne.setImageResource(R.drawable.image_4)\n                }\n                &quot;Norwich&quot; -&gt; {\n                    imgTeamOne.setImageResource(R.drawable.image_5)\n                }\n                &quot;Liverpool&quot; -&gt; {\n                    imgTeamOne.setImageResource(R.drawable.image_6)\n                }\n            }\n            when (match.secondCommand) {\n                &quot;Everton&quot; -&gt; {\n                    imgTeamTwo.setImageResource(R.drawable.image_3)\n                }\n                &quot;Brentford&quot; -&gt; {\n                    imgTeamTwo.setImageResource(R.drawable.image_4)\n                }\n                &quot;Norwich&quot; -&gt; {\n                    imgTeamTwo.setImageResource(R.drawable.image_5)\n                }\n                &quot;Liverpool&quot; -&gt; {\n                    imgTeamTwo.setImageResource(R.drawable.image_6)\n                }\n            }\n\n            favBtn.setOnClickListener {\n                val match = MatchModel(match.id, match.date, match.firstCommand, match.secondCommand, true)\n                matchViewModel.saveMatch(match)\n            }\n            btnDetail.setOnClickListener {\n                val intent = Intent(context, DetailActivity::class.java)\n                startActivity(intent)\n            }\n        }\n\n        override fun onClick(v: View) {\n        }\n    }\n\n    private inner class RecyclerAdapter(private var matches: List&lt;MatchModel&gt;) :\n        RecyclerView.Adapter&lt;MyViewHolder&gt;() {\n        override fun onCreateViewHolder(\n            parent: ViewGroup,\n            viewType: Int\n        ): MyViewHolder {\n            val itemView =\n                LayoutInflater.from(parent.context)\n                    .inflate(R.layout.item_match, parent, false)\n            return MyViewHolder(itemView)\n        }\n\n        override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n            val match = matches[position]\n            holder.bind(match)\n        }\n\n        override fun getItemCount() = matches.size\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","interop","graalvm"],"answers":[{"tags":[],"owner":{"display_name":"user17016854"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632753258,"creation_date":1632753258,"answer_id":69348493,"question_id":69348166,"body_markdown":"Ok i found out how to do that.\r\nIt was enough to do this:\r\n\r\n    ScriptEngine engine = ...\r\n    engine.put(&quot;print&quot;, new Function&lt;String, Object&gt;() {\r\n            @Override\r\n            public Object apply(String msg) {\r\n                System.out.println(msg);\r\n                return null;\r\n            }\r\n        });","title":"Is it possible to modify free-functions&#39;s implementation, in graal-js?","body":"<p>Ok i found out how to do that.\nIt was enough to do this:</p>\n<pre><code>ScriptEngine engine = ...\nengine.put(&quot;print&quot;, new Function&lt;String, Object&gt;() {\n        @Override\n        public Object apply(String msg) {\n            System.out.println(msg);\n            return null;\n        }\n    });\n</code></pre>\n"}],"owner":{"display_name":"user17016854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632753258,"creation_date":1632751940,"question_id":69348166,"body_markdown":"Recently i have been using GraalVm to execute javascript files from java.\r\nI have the need to reimplement the print() function but i didn&#39;t figure out how.\r\nI tried messing with some Bindings&#39;s methods and GraalJSScriptEngine&#39;s methods, but i didn&#39;t get what i was looking for.\r\nThen how can i achieve this?   \r\nNote: the implementation of the new print() has to be done in java","title":"Is it possible to modify free-functions&#39;s implementation, in graal-js?","body":"<p>Recently i have been using GraalVm to execute javascript files from java.\nI have the need to reimplement the print() function but i didn't figure out how.\nI tried messing with some Bindings's methods and GraalJSScriptEngine's methods, but i didn't get what i was looking for.\nThen how can i achieve this?<br />\nNote: the implementation of the new print() has to be done in java</p>\n"},{"tags":["java","printing","ubuntu-12.04"],"answers":[{"tags":[],"owner":{"account_id":1120904,"reputation":392,"user_id":1109231,"accept_rate":40,"display_name":"anand"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1531910116,"creation_date":1399182072,"answer_id":23453010,"question_id":17793404,"body_markdown":"Install cups-pdf, it will install a virtual printer which creates PDF files:\r\n\r\n    sudo apt-get install cups-pdf\r\n","title":"No print service found error message","body":"<p>Install cups-pdf, it will install a virtual printer which creates PDF files:</p>\n\n<pre><code>sudo apt-get install cups-pdf\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531916133,"creation_date":1531916133,"answer_id":51401786,"question_id":17793404,"body_markdown":"This is how I got printing to PDFs working on Arch Linux:\r\n\r\n  1. `sudo pacman -S cups-pdf`\r\n  2. `sudo systemctl enable org.cups.cupsd.service`\r\n  3. `sudo systemctl start org.cups.cupsd.service`\r\n  4. Add printer &quot;Generic CUPS-PDF&quot; with `sudo system-config-printer`, see screenshot below\r\n  5. Created PDFs are in `/var/spool/cups-pdf/$USER`\r\n  6. To change the output directory, edit the `Out` configuration key in `/etc/cups/cups-pdf.conf`\r\n\r\n![Screenshot of system-config-printer](https://i.stack.imgur.com/vAhMO.png)\r\n","title":"No print service found error message","body":"<p>This is how I got printing to PDFs working on Arch Linux:</p>\n\n<ol>\n<li><code>sudo pacman -S cups-pdf</code></li>\n<li><code>sudo systemctl enable org.cups.cupsd.service</code></li>\n<li><code>sudo systemctl start org.cups.cupsd.service</code></li>\n<li>Add printer \"Generic CUPS-PDF\" with <code>sudo system-config-printer</code>, see screenshot below</li>\n<li>Created PDFs are in <code>/var/spool/cups-pdf/$USER</code></li>\n<li>To change the output directory, edit the <code>Out</code> configuration key in <code>/etc/cups/cups-pdf.conf</code></li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/vAhMO.png\" alt=\"Screenshot of system-config-printer\"></p>\n"},{"tags":[],"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632753251,"creation_date":1632753251,"answer_id":69348491,"question_id":17793404,"body_markdown":"For MacOS i have used PDFWriter :\r\n\r\n 1. You can get the installer from [here][1]\r\n\r\n\r\n  [1]: https://sourceforge.net/projects/pdfwriterformac/\r\n 2. After installing the package, go back and click on it -&gt; Show Package Contents.\r\n 3. From there uncompress Archive.pax.gz and copy PDFwriter.ppd file into /Library/Printers/PPDs/Contents/Resources. You may need to create the last 3 folders. Also, if you don&#39;t find the Library folder, it is hidden by default, so just press shift+command+&quot;.&quot;\r\n 4. Now go to the Printers dialog in Settings and add the printer.","title":"No print service found error message","body":"<p>For MacOS i have used PDFWriter :</p>\n<ol>\n<li>You can get the installer from <a href=\"https://sourceforge.net/projects/pdfwriterformac/\" rel=\"nofollow noreferrer\">here</a></li>\n</ol>\n<p>2. After installing the package, go back and click on it -&gt; Show Package Contents.\n3. From there uncompress Archive.pax.gz and copy PDFwriter.ppd file into /Library/Printers/PPDs/Contents/Resources. You may need to create the last 3 folders. Also, if you don't find the Library folder, it is hidden by default, so just press shift+command+&quot;.&quot;\n4. Now go to the Printers dialog in Settings and add the printer.</p>\n"}],"owner":{"account_id":1354435,"reputation":413,"user_id":1293141,"accept_rate":33,"display_name":"k.elgohary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9301,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1632753251,"creation_date":1374512969,"question_id":17793404,"body_markdown":"I started to create a simple Java application to print &quot;Hello World&quot; with the following code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.awt.print.*;\r\n\r\n    public class HelloWorldPrinter implements Printable, ActionListener { \r\n \r\n    public int print(Graphics g, PageFormat pf, int page) throws\r\n                                                        PrinterException {\r\n \r\n        if (page &gt; 0) { /* We have only one page, and &#39;page&#39; is zero-based */\r\n            return NO_SUCH_PAGE;\r\n        }\r\n \r\n        /* User (0,0) is typically outside the imageable area, so we must\r\n         * translate by the X and Y values in the PageFormat to avoid clipping\r\n         */\r\n        Graphics2D g2d = (Graphics2D)g;\r\n        g2d.translate(pf.getImageableX(), pf.getImageableY());\r\n \r\n        /* Now we perform our rendering */\r\n        g.drawString(&quot;Hello world!&quot;, 100, 100);\r\n \r\n        /* tell the caller that this page is part of the printed document */\r\n        return PAGE_EXISTS;\r\n    }\r\n \r\n    public void actionPerformed(ActionEvent e) {\r\n         PrinterJob job = PrinterJob.getPrinterJob();\r\n         job.setPrintable(this);\r\n         boolean ok = job.printDialog();\r\n         if (ok) {\r\n             try {\r\n                  job.print();\r\n             } catch (PrinterException ex) {\r\n              /* The job did not successfully complete */\r\n             }\r\n         }\r\n    }\r\n \r\n    public static void main(String args[]) {\r\n  \r\n        UIManager.put(&quot;swing.boldMetal&quot;, Boolean.FALSE);\r\n        JFrame f = new JFrame(&quot;Hello World Printer&quot;);\r\n        f.addWindowListener(new WindowAdapter() {\r\n           public void windowClosing(WindowEvent e) {System.exit(0);}\r\n        });\r\n        JButton printButton = new JButton(&quot;Print Hello World&quot;);\r\n        printButton.addActionListener(new HelloWorldPrinter());\r\n        f.add(&quot;Center&quot;, printButton);\r\n        f.pack();\r\n        f.setVisible(true);\r\n    }\r\n    } \r\n\r\n\r\nThis doesn&#39;t work, I get a &quot;No print service found&quot; alert message.\r\n\r\nI am using Ubuntu 12.04 and the Java version is 1.7.0_25.\r\n\r\nHow can I get rid of this alert?\r\n","title":"No print service found error message","body":"<p>I started to create a simple Java application to print \"Hello World\" with the following code:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.awt.print.*;\n\npublic class HelloWorldPrinter implements Printable, ActionListener { \n\npublic int print(Graphics g, PageFormat pf, int page) throws\n                                                    PrinterException {\n\n    if (page &gt; 0) { /* We have only one page, and 'page' is zero-based */\n        return NO_SUCH_PAGE;\n    }\n\n    /* User (0,0) is typically outside the imageable area, so we must\n     * translate by the X and Y values in the PageFormat to avoid clipping\n     */\n    Graphics2D g2d = (Graphics2D)g;\n    g2d.translate(pf.getImageableX(), pf.getImageableY());\n\n    /* Now we perform our rendering */\n    g.drawString(\"Hello world!\", 100, 100);\n\n    /* tell the caller that this page is part of the printed document */\n    return PAGE_EXISTS;\n}\n\npublic void actionPerformed(ActionEvent e) {\n     PrinterJob job = PrinterJob.getPrinterJob();\n     job.setPrintable(this);\n     boolean ok = job.printDialog();\n     if (ok) {\n         try {\n              job.print();\n         } catch (PrinterException ex) {\n          /* The job did not successfully complete */\n         }\n     }\n}\n\npublic static void main(String args[]) {\n\n    UIManager.put(\"swing.boldMetal\", Boolean.FALSE);\n    JFrame f = new JFrame(\"Hello World Printer\");\n    f.addWindowListener(new WindowAdapter() {\n       public void windowClosing(WindowEvent e) {System.exit(0);}\n    });\n    JButton printButton = new JButton(\"Print Hello World\");\n    printButton.addActionListener(new HelloWorldPrinter());\n    f.add(\"Center\", printButton);\n    f.pack();\n    f.setVisible(true);\n}\n} \n</code></pre>\n\n<p>This doesn't work, I get a \"No print service found\" alert message.</p>\n\n<p>I am using Ubuntu 12.04 and the Java version is 1.7.0_25.</p>\n\n<p>How can I get rid of this alert?</p>\n"},{"tags":["java","github","appium"],"answers":[{"tags":[],"owner":{"account_id":10300618,"reputation":141,"user_id":7599452,"display_name":"MRTJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1621188390,"creation_date":1565375066,"answer_id":57435391,"question_id":57435229,"body_markdown":"The project is not built yet in the Eclipse as per the screenshot(The red exclamation mark near the project name). \r\n1) Right Click on the project and click on Properties \r\n2) Choose Build Path &gt; Configure Build Path\r\n\r\nCheck whether there are any errors or warnings. \r\n\r\nYou can also view Problems with the project in Windows-&gt; Show View -&gt; Problems\r\n\r\nUntil these issues are resolved, the project will not be built and the class won&#39;t be identified.\r\n","title":"After cloning Git repository in eclipse, throwing an error &quot;Error: Could not find or load main class tests.Baseclass&quot;","body":"<p>The project is not built yet in the Eclipse as per the screenshot(The red exclamation mark near the project name).</p>\n<ol>\n<li>Right Click on the project and click on Properties</li>\n<li>Choose Build Path &gt; Configure Build Path</li>\n</ol>\n<p>Check whether there are any errors or warnings.</p>\n<p>You can also view Problems with the project in Windows-&gt; Show View -&gt; Problems</p>\n<p>Until these issues are resolved, the project will not be built and the class won't be identified.</p>\n"},{"tags":[],"owner":{"account_id":16330777,"reputation":18,"user_id":11794175,"display_name":"ManushiKapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632753198,"creation_date":1632753198,"answer_id":69348476,"question_id":57435229,"body_markdown":"Right click on the project -&gt; Maven -&gt; Update project. \r\nThen tick the checkbox that says - &quot;Force update of snapshots/releases&quot;\r\nNow, the project will be built.","title":"After cloning Git repository in eclipse, throwing an error &quot;Error: Could not find or load main class tests.Baseclass&quot;","body":"<p>Right click on the project -&gt; Maven -&gt; Update project.\nThen tick the checkbox that says - &quot;Force update of snapshots/releases&quot;\nNow, the project will be built.</p>\n"}],"owner":{"account_id":13881477,"reputation":5,"user_id":10021743,"display_name":"Tharun Pothuraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57435391,"answer_count":2,"score":0,"last_activity_date":1632753198,"creation_date":1565374168,"question_id":57435229,"body_markdown":"I&#39;m working on java and appium. I pushed my project(code) to Github( which includes `.classpath`, `.gitignore`, `.project`, `pom.xml`). I clone the same project(code) in another machine and then i tried executing it using eclipse.\r\n\r\n\r\nBut i observed after clonig the Git repository (`.classpath`, `.gitignore`, ,`project`) are not cloned at all.\r\n\r\nI was getting an error: \r\n&gt; Error: Could not find or load main class tests.Baseclass\r\n\r\nEclipse project:\r\n\r\n![screenshot][1]\r\n\r\nI gone through some answers and couldn&#39;t find solution. Appreciate your help. Thanks in advance.\r\n\r\nI tried changing some run configurations. But still issue is not resolved.\r\n```java\r\npublic class Baseclass {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t//Set the Desired Capabilities\r\n\t\tDesiredCapabilities caps = new DesiredCapabilities();\r\n\t\tcaps.setCapability(&quot;deviceName&quot;, &quot;My Phone&quot;);\r\n\t\tcaps.setCapability(&quot;udid&quot;, &quot;XXXXXX&quot;); \r\n\t\tcaps.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\t\tcaps.setCapability(&quot;platformVersion&quot;, &quot;9.0&quot;);\r\n\t\tcaps.setCapability(&quot;appPackage&quot;, &quot;com.xxx.xxx&quot;);\r\n\t\tcaps.setCapability(&quot;appActivity&quot;, &quot;com.xxxxxx.xxx.MainActivity&quot;);\r\n\t\tcaps.setCapability(&quot;noReset&quot;, &quot;true&quot;);\r\n\t\tcaps.setCapability(&quot;unicodeKeyboard&quot;, true);\r\n\t\tcaps.setCapability(&quot;resetKeyboard&quot;, true);\r\n\t\ttry {\r\n\t\t\t\tAppiumDriver&lt;MobileElement&gt; driver = new AndroidDriver&lt;MobileElement&gt;(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), caps);\r\n\t\t\t\tdriver.manage().timeouts().implicitlyWait(5,TimeUnit.SECONDS);\r\n\t\t\t\t//driver.findElementByClassName(&quot;android.widget.TextView&quot;).click();\r\n\t\t\t\tdriver.findElement(By.xpath(&quot;//*[@text =&#39;SIGN IN&#39;]&quot;)).click();\r\n\t\t\t\tdriver.findElement(By.xpath(&quot;//*[@text =&#39;Email address&#39;]&quot;)).sendKeys(&quot;mobasasas@gmail.com&quot;);\r\n\t\t\t\tdriver.findElement(By.xpath(&quot;//*[@text =&#39;Password&#39;]&quot;)).sendKeys(&quot;qqqwqdasdwq55&quot;);\r\n\t\t\t\tdriver.findElement(By.xpath(&quot;//*[@text =&#39;CONTINUE&#39;]&quot;)).click();\r\n\t\t\t\tSystem.out.println(&quot;Signed In Successfuly&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t\t\r\n\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/swy5u.png","title":"After cloning Git repository in eclipse, throwing an error &quot;Error: Could not find or load main class tests.Baseclass&quot;","body":"<p>I'm working on java and appium. I pushed my project(code) to Github( which includes <code>.classpath</code>, <code>.gitignore</code>, <code>.project</code>, <code>pom.xml</code>). I clone the same project(code) in another machine and then i tried executing it using eclipse.</p>\n\n<p>But i observed after clonig the Git repository (<code>.classpath</code>, <code>.gitignore</code>, ,<code>project</code>) are not cloned at all.</p>\n\n<p>I was getting an error: </p>\n\n<blockquote>\n  <p>Error: Could not find or load main class tests.Baseclass</p>\n</blockquote>\n\n<p>Eclipse project:</p>\n\n<p><img src=\"https://i.stack.imgur.com/swy5u.png\" alt=\"screenshot\"></p>\n\n<p>I gone through some answers and couldn't find solution. Appreciate your help. Thanks in advance.</p>\n\n<p>I tried changing some run configurations. But still issue is not resolved.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Baseclass {\n\n    public static void main(String[] args) {\n        //Set the Desired Capabilities\n        DesiredCapabilities caps = new DesiredCapabilities();\n        caps.setCapability(\"deviceName\", \"My Phone\");\n        caps.setCapability(\"udid\", \"XXXXXX\"); \n        caps.setCapability(\"platformName\", \"Android\");\n        caps.setCapability(\"platformVersion\", \"9.0\");\n        caps.setCapability(\"appPackage\", \"com.xxx.xxx\");\n        caps.setCapability(\"appActivity\", \"com.xxxxxx.xxx.MainActivity\");\n        caps.setCapability(\"noReset\", \"true\");\n        caps.setCapability(\"unicodeKeyboard\", true);\n        caps.setCapability(\"resetKeyboard\", true);\n        try {\n                AppiumDriver&lt;MobileElement&gt; driver = new AndroidDriver&lt;MobileElement&gt;(new URL(\"http://0.0.0.0:4723/wd/hub\"), caps);\n                driver.manage().timeouts().implicitlyWait(5,TimeUnit.SECONDS);\n                //driver.findElementByClassName(\"android.widget.TextView\").click();\n                driver.findElement(By.xpath(\"//*[@text ='SIGN IN']\")).click();\n                driver.findElement(By.xpath(\"//*[@text ='Email address']\")).sendKeys(\"mobasasas@gmail.com\");\n                driver.findElement(By.xpath(\"//*[@text ='Password']\")).sendKeys(\"qqqwqdasdwq55\");\n                driver.findElement(By.xpath(\"//*[@text ='CONTINUE']\")).click();\n                System.out.println(\"Signed In Successfuly\");\n\n\n\n        } catch (MalformedURLException e) {\n            System.out.println(e.getMessage());\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","r","xlconnect"],"comments":[{"owner":{"account_id":8793024,"reputation":12008,"user_id":6936545,"display_name":"Peter"},"score":0,"creation_date":1594199158,"post_id":62790772,"comment_id":111039763,"body_markdown":"Do you have &quot;Java Runtime Environment (JRE), version 6 or higher&quot;  installed. Check the vignette at https://cran.r-project.org/web/packages/XLConnect/vignettes/XLConnect.pdf section 2.1","body":"Do you have &quot;Java Runtime Environment (JRE), version 6 or higher&quot;  installed. Check the vignette at <a href=\"https://cran.r-project.org/web/packages/XLConnect/vignettes/XLConnect.pdf\" rel=\"nofollow noreferrer\">cran.r-project.org/web/packages/XLConnect/vignettes/&hellip;</a> section 2.1"}],"answers":[{"tags":[],"owner":{"account_id":10079603,"reputation":53,"user_id":7450433,"display_name":"Simon Poltier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632752974,"creation_date":1632752974,"answer_id":69348422,"question_id":62790772,"body_markdown":"There two possible causes to this issue that I know of:\r\n\r\n### Java dependency conflict\r\n\r\nIf you have installed a package that also relies on Apache POI, such as [xlsx](https://github.com/colearendt/xlsx), incorrect classes will be loaded. If you restart your R session and avoid loading the conflicting package, this issue should be avoided.\r\n\r\n\r\n### Failed download of java dependencies\r\n\r\nOnce you have installed XLConnect (using version 1.0.4 currently on CRAN), check that the java directory under the package&#39;s installation[0] contains the following:\r\n\r\n```bash\r\nls /your/library/path/XLConnect/java/\r\ncommons-codec-1.15.jar    commons-compress.jar  curvesapi-1.06.jar  poi.jar        poi-ooxml-schemas.jar  XLConnect-1.0.3.jar\r\ncommons-collections4.jar  commons-math3.jar     ooxml-schemas.jar   poi-ooxml.jar  SparseBitSet.jar       xmlbeans.jar\r\n```\r\n\r\nIf one of these is missing, remove the package, restart your R session, and reinstall the package. Check for any errors that occur in that last step. \r\n\r\n[0] to find your library path, run `.libPaths()` in your R session.\r\n","title":"XLConnect Error: NoClassDefFoundError (Java): org/apache/poi/openxml4j/exceptions/InvalidFormatException","body":"<p>There two possible causes to this issue that I know of:</p>\n<h3>Java dependency conflict</h3>\n<p>If you have installed a package that also relies on Apache POI, such as <a href=\"https://github.com/colearendt/xlsx\" rel=\"nofollow noreferrer\">xlsx</a>, incorrect classes will be loaded. If you restart your R session and avoid loading the conflicting package, this issue should be avoided.</p>\n<h3>Failed download of java dependencies</h3>\n<p>Once you have installed XLConnect (using version 1.0.4 currently on CRAN), check that the java directory under the package's installation[0] contains the following:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ls /your/library/path/XLConnect/java/\ncommons-codec-1.15.jar    commons-compress.jar  curvesapi-1.06.jar  poi.jar        poi-ooxml-schemas.jar  XLConnect-1.0.3.jar\ncommons-collections4.jar  commons-math3.jar     ooxml-schemas.jar   poi-ooxml.jar  SparseBitSet.jar       xmlbeans.jar\n</code></pre>\n<p>If one of these is missing, remove the package, restart your R session, and reinstall the package. Check for any errors that occur in that last step.</p>\n<p>[0] to find your library path, run <code>.libPaths()</code> in your R session.</p>\n"}],"owner":{"account_id":14588305,"reputation":241,"user_id":11584674,"display_name":"Julia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1599,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632752974,"creation_date":1594197494,"question_id":62790772,"body_markdown":"I want to use XLConnect package, however, I am facing unexpected issues.\r\n```\r\nlibrary(XLConnect)\r\nwb &lt;- XLConnect::loadWorkbook(&quot;file.xlsx&quot;)\r\nError: NoClassDefFoundError (Java): org/apache/poi/openxml4j/exceptions/InvalidFormatException\r\n```\r\nDoes anyone know what is happening?","title":"XLConnect Error: NoClassDefFoundError (Java): org/apache/poi/openxml4j/exceptions/InvalidFormatException","body":"<p>I want to use XLConnect package, however, I am facing unexpected issues.</p>\n<pre><code>library(XLConnect)\nwb &lt;- XLConnect::loadWorkbook(&quot;file.xlsx&quot;)\nError: NoClassDefFoundError (Java): org/apache/poi/openxml4j/exceptions/InvalidFormatException\n</code></pre>\n<p>Does anyone know what is happening?</p>\n"},{"tags":["java","spring","mapping","apache-commons-beanutils"],"answers":[{"tags":[],"owner":{"account_id":3130487,"reputation":312,"user_id":2648385,"display_name":"edu"},"down_vote_count":7,"up_vote_count":12,"is_accepted":true,"score":5,"last_activity_date":1375527952,"creation_date":1375526755,"answer_id":18031993,"question_id":17417345,"body_markdown":"If you want to  ignore `null`-value you have to do it with the following line of code before copying properties:\r\n\r\n    BeanUtilsBean.getInstance().getConvertUtils().register(false, false, 0);\r\n\r\n","title":"BeanUtils copyProperties API to ignore null and specific propertie","body":"<p>If you want to  ignore <code>null</code>-value you have to do it with the following line of code before copying properties:</p>\n\n<pre><code>BeanUtilsBean.getInstance().getConvertUtils().register(false, false, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":4,"up_vote_count":14,"is_accepted":false,"score":10,"last_activity_date":1464043744,"creation_date":1464043744,"answer_id":37401767,"question_id":17417345,"body_markdown":"In case you are using the `org.springframework.beans.BeanUtils` you can ignore specific properies using the method `copyProperties(Object source, Object target, String... ignoreProperties)`. An example,\r\n  \r\n    BeanUtils.copyProperties(sourceObj, targetObj, &quot;aProperty&quot;, &quot;another&quot;);\r\n","title":"BeanUtils copyProperties API to ignore null and specific propertie","body":"<p>In case you are using the <code>org.springframework.beans.BeanUtils</code> you can ignore specific properies using the method <code>copyProperties(Object source, Object target, String... ignoreProperties)</code>. An example,</p>\n\n<pre><code>BeanUtils.copyProperties(sourceObj, targetObj, \"aProperty\", \"another\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14200614,"reputation":21,"user_id":10258618,"display_name":"Prajith Vb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566977893,"creation_date":1566977893,"answer_id":57687225,"question_id":17417345,"body_markdown":"This is a sample code snippet which I am using for skip the null fields while copying to target. You can add checks for specific properties using property name, value etc. I have used org.springframework.beans.BeanUtils\r\n\r\n    public static void copyNonNullProperties(Object src, Object target) {\r\n\t\tBeanUtils.copyProperties(src, target, getNullPropertyNames(src));\r\n\t}\r\n\r\n    public static String[] getNullPropertyNames(Object source) {\r\n\t\tfinal BeanWrapper src = new BeanWrapperImpl(source);\r\n\t\tPropertyDescriptor[] pds = src.getPropertyDescriptors();\r\n\r\n\t\tSet&lt;String&gt; emptyNames = new HashSet&lt;String&gt;();\r\n\t\tfor (PropertyDescriptor pd : pds) {\r\n\t\t\tObject srcValue = src.getPropertyValue(pd.getName());\r\n\t\t\tif (srcValue == null)\r\n\t\t\t\temptyNames.add(pd.getName());\r\n\t\t}\r\n\t\tString[] result = new String[emptyNames.size()];\r\n\t\treturn emptyNames.toArray(result);\r\n\t}","title":"BeanUtils copyProperties API to ignore null and specific propertie","body":"<p>This is a sample code snippet which I am using for skip the null fields while copying to target. You can add checks for specific properties using property name, value etc. I have used org.springframework.beans.BeanUtils</p>\n\n<pre><code>public static void copyNonNullProperties(Object src, Object target) {\n    BeanUtils.copyProperties(src, target, getNullPropertyNames(src));\n}\n\npublic static String[] getNullPropertyNames(Object source) {\n    final BeanWrapper src = new BeanWrapperImpl(source);\n    PropertyDescriptor[] pds = src.getPropertyDescriptors();\n\n    Set&lt;String&gt; emptyNames = new HashSet&lt;String&gt;();\n    for (PropertyDescriptor pd : pds) {\n        Object srcValue = src.getPropertyValue(pd.getName());\n        if (srcValue == null)\n            emptyNames.add(pd.getName());\n    }\n    String[] result = new String[emptyNames.size()];\n    return emptyNames.toArray(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13300676,"reputation":99,"user_id":9602278,"display_name":"aayoustic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619598452,"creation_date":1619598452,"answer_id":67296548,"question_id":17417345,"body_markdown":"To add to Prajith&#39;s answer, here&#39;s one way in which I picked the property names with null values present in the source.\r\n\r\nFor some reason, I feel this is more readable.\r\nYou can choose to surround with try-catch or add throws at the method level.\r\n\r\n    public static void copyNonNullProperties(Object src, Object target) {\r\n        BeanUtils.copyProperties(src, target, getNullPropertyNames(src));\r\n    }\r\n\r\n    public static String[] getNullPropertyNames(Object source) {\r\n            List&lt;String&gt; nullValuePropertyNames = new ArrayList&lt;&gt;();\r\n            for (Field f : source.getClass().getDeclaredFields()) {\r\n                try {\r\n                    if (f.get(source) == null) {\r\n                        nullValuePropertyNames.add(f.getName());\r\n                    }\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return nullValuePropertyNames.toArray(new String[0]);\r\n        }","title":"BeanUtils copyProperties API to ignore null and specific propertie","body":"<p>To add to Prajith's answer, here's one way in which I picked the property names with null values present in the source.</p>\n<p>For some reason, I feel this is more readable.\nYou can choose to surround with try-catch or add throws at the method level.</p>\n<pre><code>public static void copyNonNullProperties(Object src, Object target) {\n    BeanUtils.copyProperties(src, target, getNullPropertyNames(src));\n}\n\npublic static String[] getNullPropertyNames(Object source) {\n        List&lt;String&gt; nullValuePropertyNames = new ArrayList&lt;&gt;();\n        for (Field f : source.getClass().getDeclaredFields()) {\n            try {\n                if (f.get(source) == null) {\n                    nullValuePropertyNames.add(f.getName());\n                }\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n        return nullValuePropertyNames.toArray(new String[0]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625769434,"creation_date":1625769434,"answer_id":68307089,"question_id":17417345,"body_markdown":"For ignoring null values:\r\n\r\n    BeanUtilsBean.getInstance().getConvertUtils().register(false, false, 0);\r\n\r\nFor ignoring specific properties: \r\n\r\n    public static void copyProperties(Object source,\r\n                                  Object target,\r\n                                  String... ignoreProperties)\r\n                           throws BeansException\r\n\r\ndocumentation for ignoring properties: [Spring 4.1.0 docs][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/javadoc-api/org/springframework/beans/BeanUtils.html#copyProperties-java.lang.Object-java.lang.Object-java.lang.String...-","title":"BeanUtils copyProperties API to ignore null and specific propertie","body":"<p>For ignoring null values:</p>\n<pre><code>BeanUtilsBean.getInstance().getConvertUtils().register(false, false, 0);\n</code></pre>\n<p>For ignoring specific properties:</p>\n<pre><code>public static void copyProperties(Object source,\n                              Object target,\n                              String... ignoreProperties)\n                       throws BeansException\n</code></pre>\n<p>documentation for ignoring properties: <a href=\"https://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/javadoc-api/org/springframework/beans/BeanUtils.html#copyProperties-java.lang.Object-java.lang.Object-java.lang.String...-\" rel=\"nofollow noreferrer\">Spring 4.1.0 docs</a></p>\n"},{"tags":[],"owner":{"account_id":4376297,"reputation":31,"user_id":3569236,"display_name":"Christian Masdeval"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632752874,"creation_date":1632752874,"answer_id":69348402,"question_id":17417345,"body_markdown":"I have solved this problem with BeansUtils in such way it will work for nested classes as well. \r\n\r\n```\r\nclass NullAwareBeanUtilsBean extends BeanUtilsBean {\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void copyProperty(Object dest, String name, Object value)\r\n\t\t\tthrows IllegalAccessException, InvocationTargetException {\r\n\t\tif (value == null)\r\n\t\t\treturn;\r\n\t\telse if(value instanceof NonNullCopy) {\r\n\t\t\tClass&lt;?&gt; destClazz = value.getClass();\r\n\t\t\t\tClass&lt;?&gt; origClazz = dest.getClass();\r\n\t\t\t\tString className = destClazz.getSimpleName();\r\n\t\t\r\n\t\t\t\tfor(Method m : origClazz.getDeclaredMethods()) {\r\n\t\t\t\t\tif(m.getReturnType().equals(destClazz)) {\r\n\t\t\t\t\t\tcopyProperties(m.invoke(dest, Collections.EMPTY_LIST.toArray()),value);\r\n\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n \t\t}\r\n\r\n\t\tsuper.copyProperty(dest, name, value);\r\n\t}\r\n\r\n\t   \r\n}\r\n\r\n\r\n```\r\n\r\nThe complete explanation for the solution I have posted here:\r\n\r\nhttps://stackoverflow.com/questions/41125384/copy-non-null-properties-from-one-object-to-another-using-beanutils-or-similar","title":"BeanUtils copyProperties API to ignore null and specific propertie","body":"<p>I have solved this problem with BeansUtils in such way it will work for nested classes as well.</p>\n<pre><code>class NullAwareBeanUtilsBean extends BeanUtilsBean {\n    \n    \n    @Override\n    public void copyProperty(Object dest, String name, Object value)\n            throws IllegalAccessException, InvocationTargetException {\n        if (value == null)\n            return;\n        else if(value instanceof NonNullCopy) {\n            Class&lt;?&gt; destClazz = value.getClass();\n                Class&lt;?&gt; origClazz = dest.getClass();\n                String className = destClazz.getSimpleName();\n        \n                for(Method m : origClazz.getDeclaredMethods()) {\n                    if(m.getReturnType().equals(destClazz)) {\n                        copyProperties(m.invoke(dest, Collections.EMPTY_LIST.toArray()),value);\n                    }                       \n                }\n                return;\n        }\n\n        super.copyProperty(dest, name, value);\n    }\n\n       \n}\n\n\n</code></pre>\n<p>The complete explanation for the solution I have posted here:</p>\n<p><a href=\"https://stackoverflow.com/questions/41125384/copy-non-null-properties-from-one-object-to-another-using-beanutils-or-similar\">Copy non-null properties from one object to another using BeanUtils or similar</a></p>\n"}],"owner":{"account_id":104842,"reputation":311,"user_id":280080,"accept_rate":42,"display_name":"Arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48465,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":18031993,"answer_count":6,"score":15,"last_activity_date":1632752874,"creation_date":1372738918,"question_id":17417345,"body_markdown":"Spring&#39;s `BeanUtils.copyProperties()` provides option to ignore specific properties while copying beans:\r\n\r\n    public static void copyProperties(Object source,\r\n                     Object target,\r\n                     String[] ignoreProperties) throws BeansException\r\n\r\nDoes the Apache Commons BeanUtils provide a similar feature?\r\n\r\nAlso is it possible to ignore null values while using Spring&#39;s `BeanUtils.copyProperties()`, I see this feature with Commons BeanUtils:\r\n\r\n    Date defaultValue = null;\r\n    DateConverter converter = new DateConverter(defaultValue);\r\n    ConvertUtils.register(converter, Date.class);\r\n\r\n Can I achieve the same with Spring&#39;s BeanUtils?","title":"BeanUtils copyProperties API to ignore null and specific propertie","body":"<p>Spring's <code>BeanUtils.copyProperties()</code> provides option to ignore specific properties while copying beans:</p>\n\n<pre><code>public static void copyProperties(Object source,\n                 Object target,\n                 String[] ignoreProperties) throws BeansException\n</code></pre>\n\n<p>Does the Apache Commons BeanUtils provide a similar feature?</p>\n\n<p>Also is it possible to ignore null values while using Spring's <code>BeanUtils.copyProperties()</code>, I see this feature with Commons BeanUtils:</p>\n\n<pre><code>Date defaultValue = null;\nDateConverter converter = new DateConverter(defaultValue);\nConvertUtils.register(converter, Date.class);\n</code></pre>\n\n<p>Can I achieve the same with Spring's BeanUtils?</p>\n"},{"tags":["java","android","kotlin","android-fragments","android-tablayout"],"answers":[{"tags":[],"owner":{"account_id":3875563,"reputation":1368,"user_id":3209701,"accept_rate":53,"display_name":"Brendon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632502948,"creation_date":1632502948,"answer_id":69318761,"question_id":69316509,"body_markdown":"You are selecting the tab without even adding it before.\r\ntabLayout.selectTab(tabLayout.getTabAt(0)); Move this code after adding tabs.","title":"How to display a fragment without clicking on it","body":"<p>You are selecting the tab without even adding it before.\ntabLayout.selectTab(tabLayout.getTabAt(0)); Move this code after adding tabs.</p>\n"},{"tags":[],"owner":{"account_id":22691077,"reputation":19,"user_id":16859984,"display_name":"Yotaka Yomoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632752706,"creation_date":1632752706,"answer_id":69348358,"question_id":69316509,"body_markdown":"The fact is that I did not create the default fragment in advance, before creating the TabLayout tabs. My solution: \r\n\r\n```\r\nFrameLayout simpleFrameLayout;\r\n    TabLayout tabLayout;\r\n    ImageView onBackPressed;\r\n\r\n    Button subsButton;\r\n\r\n    Fragment fragment = null;\r\n    FragmentManager fragmentManager;\r\n    FragmentTransaction fragmentTransaction;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_detail);\r\n\r\n\r\n        if (getSupportActionBar() != null) {\r\n            getSupportActionBar().hide();\r\n        }\r\n\r\n\r\n        subsButton = findViewById(R.id.subsButton);\r\n\r\n        subsButton.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (subsButton.getText().equals(&quot;Подписаться&quot;)) {\r\n\r\n                    subsButton.setText(&quot;Отписаться&quot;);\r\n                    subsButton.setBackgroundColor(subsButton.getContext().getResources().getColor(R.color.colorGrey));\r\n\r\n\r\n                } else if (subsButton.getText().equals(&quot;Отписаться&quot;)) {\r\n                    subsButton.setText(&quot;Подписаться&quot;);\r\n                    subsButton.setBackgroundColor(subsButton.getContext().getResources().getColor(R.color.colorPrimary));\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n        simpleFrameLayout = (FrameLayout) findViewById(R.id.simpleFrameLayout);\r\n        tabLayout = (TabLayout) findViewById(R.id.simpleTabLayout);\r\n\r\n        onBackPressed = (ImageView) findViewById(R.id.onBackPressed);\r\n\r\n        tabLayout.selectTab(tabLayout.getTabAt(0));\r\n\r\n        TabLayout.Tab firstTab = tabLayout.newTab();\r\n        firstTab.setText(&quot;Chelsea&quot;);\r\n        tabLayout.addTab(firstTab);\r\n\r\n\r\n        TabLayout.Tab secondTab = tabLayout.newTab();\r\n        secondTab.setText(&quot;Manchester City&quot;);\r\n        tabLayout.addTab(secondTab);\r\n\r\n        fragment = new FragmentHisOne();\r\n        fragmentManager = getSupportFragmentManager();\r\n        fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(R.id.simpleFrameLayout, fragment);\r\n        fragmentTransaction.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\r\n        fragmentTransaction.commit();\r\n\r\n        tabLayout.setOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n\r\n\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n\r\n                Fragment fragment = null;\r\n                switch (tab.getPosition()) {\r\n                    case 0:\r\n                        fragment = new FragmentHisOne();\r\n                        break;\r\n                    case 1:\r\n                        fragment = new FragmentHisTwo();\r\n                        break;\r\n                    default:\r\n                        fragment = new FragmentHisOne();\r\n                        break;\r\n                }\r\n                FragmentManager fm = getSupportFragmentManager();\r\n                FragmentTransaction ft = fm.beginTransaction();\r\n                ft.replace(R.id.simpleFrameLayout, fragment);\r\n                ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\r\n                ft.commit();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void onBackPressed(View view) {\r\n        Intent intent = new Intent(view.getContext(), MainActivity.class);\r\n        view.getContext().startActivity(intent);\r\n    }\r\n\r\n    public void subsButton(View view) {\r\n        //Button.setBackground\r\n    }\r\n```","title":"How to display a fragment without clicking on it","body":"<p>The fact is that I did not create the default fragment in advance, before creating the TabLayout tabs. My solution:</p>\n<pre><code>FrameLayout simpleFrameLayout;\n    TabLayout tabLayout;\n    ImageView onBackPressed;\n\n    Button subsButton;\n\n    Fragment fragment = null;\n    FragmentManager fragmentManager;\n    FragmentTransaction fragmentTransaction;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_detail);\n\n\n        if (getSupportActionBar() != null) {\n            getSupportActionBar().hide();\n        }\n\n\n        subsButton = findViewById(R.id.subsButton);\n\n        subsButton.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                if (subsButton.getText().equals(&quot;Подписаться&quot;)) {\n\n                    subsButton.setText(&quot;Отписаться&quot;);\n                    subsButton.setBackgroundColor(subsButton.getContext().getResources().getColor(R.color.colorGrey));\n\n\n                } else if (subsButton.getText().equals(&quot;Отписаться&quot;)) {\n                    subsButton.setText(&quot;Подписаться&quot;);\n                    subsButton.setBackgroundColor(subsButton.getContext().getResources().getColor(R.color.colorPrimary));\n\n                }\n\n            }\n        });\n\n\n        simpleFrameLayout = (FrameLayout) findViewById(R.id.simpleFrameLayout);\n        tabLayout = (TabLayout) findViewById(R.id.simpleTabLayout);\n\n        onBackPressed = (ImageView) findViewById(R.id.onBackPressed);\n\n        tabLayout.selectTab(tabLayout.getTabAt(0));\n\n        TabLayout.Tab firstTab = tabLayout.newTab();\n        firstTab.setText(&quot;Chelsea&quot;);\n        tabLayout.addTab(firstTab);\n\n\n        TabLayout.Tab secondTab = tabLayout.newTab();\n        secondTab.setText(&quot;Manchester City&quot;);\n        tabLayout.addTab(secondTab);\n\n        fragment = new FragmentHisOne();\n        fragmentManager = getSupportFragmentManager();\n        fragmentTransaction = fragmentManager.beginTransaction();\n        fragmentTransaction.replace(R.id.simpleFrameLayout, fragment);\n        fragmentTransaction.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\n        fragmentTransaction.commit();\n\n        tabLayout.setOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n\n\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n\n                Fragment fragment = null;\n                switch (tab.getPosition()) {\n                    case 0:\n                        fragment = new FragmentHisOne();\n                        break;\n                    case 1:\n                        fragment = new FragmentHisTwo();\n                        break;\n                    default:\n                        fragment = new FragmentHisOne();\n                        break;\n                }\n                FragmentManager fm = getSupportFragmentManager();\n                FragmentTransaction ft = fm.beginTransaction();\n                ft.replace(R.id.simpleFrameLayout, fragment);\n                ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\n                ft.commit();\n\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n    }\n\n\n    public void onBackPressed(View view) {\n        Intent intent = new Intent(view.getContext(), MainActivity.class);\n        view.getContext().startActivity(intent);\n    }\n\n    public void subsButton(View view) {\n        //Button.setBackground\n    }\n</code></pre>\n"}],"owner":{"account_id":22691077,"reputation":19,"user_id":16859984,"display_name":"Yotaka Yomoto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69348358,"answer_count":2,"score":0,"last_activity_date":1632752706,"creation_date":1632492961,"question_id":69316509,"body_markdown":"I have a Tablelayout with two tabs, in the code I wrote that the tabs were displayed when I clicked on them. Now it works like this: I open the activity and the fragments from the TabLayout are not displayed until I click on the title of the TabLayout header. How can I make it so that when I open the activity - fragment it is already visible?\r\n\r\n``` \r\n\r\n\r\npublic class DetailActivity extends AppCompatActivity {\r\n\r\n    FrameLayout simpleFrameLayout;\r\n    TabLayout tabLayout;\r\n    ImageView onBackPressed;\r\n\r\n    Button subsButton;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_detail);\r\n\r\n\r\n        if (getSupportActionBar() != null) {\r\n            getSupportActionBar().hide();\r\n        }\r\n\r\n\r\n        subsButton = findViewById(R.id.subsButton);\r\n\r\n        subsButton.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (subsButton.getText().equals(&quot;Подписаться&quot;)) {\r\n\r\n                    subsButton.setText(&quot;Отписаться&quot;);\r\n                    subsButton.setBackgroundColor(subsButton.getContext().getResources().getColor(R.color.colorGrey));\r\n\r\n\r\n                } else if (subsButton.getText().equals(&quot;Отписаться&quot;)) {\r\n                    subsButton.setText(&quot;Подписаться&quot;);\r\n                    subsButton.setBackgroundColor(subsButton.getContext().getResources().getColor(R.color.colorPrimary));\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n        simpleFrameLayout = (FrameLayout) findViewById(R.id.simpleFrameLayout);\r\n        tabLayout = (TabLayout) findViewById(R.id.simpleTabLayout);\r\n\r\n        onBackPressed = (ImageView) findViewById(R.id.onBackPressed);\r\n\r\n        tabLayout.selectTab(tabLayout.getTabAt(0));\r\n\r\n        TabLayout.Tab firstTab = tabLayout.newTab();\r\n        firstTab.setText(&quot;Chelsea&quot;);\r\n        tabLayout.addTab(firstTab);\r\n\r\n\r\n        TabLayout.Tab secondTab = tabLayout.newTab();\r\n        secondTab.setText(&quot;Manchester City&quot;);\r\n        tabLayout.addTab(secondTab);\r\n\r\n\r\n        tabLayout.setOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n\r\n\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n\r\n                Fragment fragment = null;\r\n                switch (tab.getPosition()) {\r\n                    case 0:\r\n                        fragment = new FragmentHisOne();\r\n                        break;\r\n                    case 1:\r\n                        fragment = new FragmentHisTwo();\r\n                        break;\r\n                    default:\r\n                        fragment = new FragmentHisOne();\r\n                        break;\r\n                }\r\n                FragmentManager fm = getSupportFragmentManager();\r\n                FragmentTransaction ft = fm.beginTransaction();\r\n                ft.replace(R.id.simpleFrameLayout, fragment);\r\n                ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\r\n                ft.commit();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void onBackPressed(View view) {\r\n        Intent intent = new Intent(view.getContext(), MainActivity.class);\r\n        view.getContext().startActivity(intent);\r\n    }\r\n\r\n\r\n\r\n``` ","title":"How to display a fragment without clicking on it","body":"<p>I have a Tablelayout with two tabs, in the code I wrote that the tabs were displayed when I clicked on them. Now it works like this: I open the activity and the fragments from the TabLayout are not displayed until I click on the title of the TabLayout header. How can I make it so that when I open the activity - fragment it is already visible?</p>\n<pre><code>\n\npublic class DetailActivity extends AppCompatActivity {\n\n    FrameLayout simpleFrameLayout;\n    TabLayout tabLayout;\n    ImageView onBackPressed;\n\n    Button subsButton;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_detail);\n\n\n        if (getSupportActionBar() != null) {\n            getSupportActionBar().hide();\n        }\n\n\n        subsButton = findViewById(R.id.subsButton);\n\n        subsButton.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                if (subsButton.getText().equals(&quot;Подписаться&quot;)) {\n\n                    subsButton.setText(&quot;Отписаться&quot;);\n                    subsButton.setBackgroundColor(subsButton.getContext().getResources().getColor(R.color.colorGrey));\n\n\n                } else if (subsButton.getText().equals(&quot;Отписаться&quot;)) {\n                    subsButton.setText(&quot;Подписаться&quot;);\n                    subsButton.setBackgroundColor(subsButton.getContext().getResources().getColor(R.color.colorPrimary));\n\n                }\n\n            }\n        });\n\n\n        simpleFrameLayout = (FrameLayout) findViewById(R.id.simpleFrameLayout);\n        tabLayout = (TabLayout) findViewById(R.id.simpleTabLayout);\n\n        onBackPressed = (ImageView) findViewById(R.id.onBackPressed);\n\n        tabLayout.selectTab(tabLayout.getTabAt(0));\n\n        TabLayout.Tab firstTab = tabLayout.newTab();\n        firstTab.setText(&quot;Chelsea&quot;);\n        tabLayout.addTab(firstTab);\n\n\n        TabLayout.Tab secondTab = tabLayout.newTab();\n        secondTab.setText(&quot;Manchester City&quot;);\n        tabLayout.addTab(secondTab);\n\n\n        tabLayout.setOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n\n\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n\n                Fragment fragment = null;\n                switch (tab.getPosition()) {\n                    case 0:\n                        fragment = new FragmentHisOne();\n                        break;\n                    case 1:\n                        fragment = new FragmentHisTwo();\n                        break;\n                    default:\n                        fragment = new FragmentHisOne();\n                        break;\n                }\n                FragmentManager fm = getSupportFragmentManager();\n                FragmentTransaction ft = fm.beginTransaction();\n                ft.replace(R.id.simpleFrameLayout, fragment);\n                ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\n                ft.commit();\n\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n    }\n\n\n    public void onBackPressed(View view) {\n        Intent intent = new Intent(view.getContext(), MainActivity.class);\n        view.getContext().startActivity(intent);\n    }\n\n\n\n</code></pre>\n"},{"tags":["java","jboss","wildfly"],"comments":[{"owner":{"account_id":13230107,"reputation":503,"user_id":9554004,"display_name":"L&#225;szl&#243; T&#243;th"},"score":0,"creation_date":1632335227,"post_id":69287765,"comment_id":122467268,"body_markdown":"Some cli commands result can be you must reload... Then you run :reload command on cli, and jbos restarted. Perhaps after add datasource this is wildfly&#39;s answer.","body":"Some cli commands result can be you must reload... Then you run :reload command on cli, and jbos restarted. Perhaps after add datasource this is wildfly&#39;s answer."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1632350643,"post_id":69287765,"comment_id":122471701,"body_markdown":"When you run the CLI commands what is the output from the result?","body":"When you run the CLI commands what is the output from the result?"},{"owner":{"account_id":11294179,"reputation":25,"user_id":8282167,"display_name":"ganesh"},"score":0,"creation_date":1632752966,"post_id":69287765,"comment_id":122571573,"body_markdown":"Thanks Laszlo, we need to remove the configuration to enable the datasource to have the deployment work fine without any issues.","body":"Thanks Laszlo, we need to remove the configuration to enable the datasource to have the deployment work fine without any issues."}],"answers":[{"tags":[],"owner":{"account_id":18035027,"reputation":13,"user_id":13108655,"display_name":"ChristianH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632397133,"creation_date":1632397133,"answer_id":69299292,"question_id":69287765,"body_markdown":"You can enable the datasource via the CLI:\r\n\r\n`/subsystem=datasources/xa-data-source=xxyyDS:write-attribute(name=enabled,value=true)`\r\n\r\nIt might be required to reload:\r\n\r\n`:reload`\r\n","title":"Wildfly datasource Enable is not working at runtime when configured through CLI","body":"<p>You can enable the datasource via the CLI:</p>\n<p><code>/subsystem=datasources/xa-data-source=xxyyDS:write-attribute(name=enabled,value=true)</code></p>\n<p>It might be required to reload:</p>\n<p><code>:reload</code></p>\n"},{"tags":[],"owner":{"account_id":11294179,"reputation":25,"user_id":8282167,"display_name":"ganesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632752706,"creation_date":1632752706,"answer_id":69348357,"question_id":69287765,"body_markdown":"After running through many trial and error method, we found that when adding the datasources by default it will be in enabled state. So no need to do explicitly enable when adding a datasource.\r\n\r\nSo we removed the below line from the list of CLIs.\r\n\r\n***/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS:enable***\r\n\r\nPost removing the line, the configuration of datasources through CLI and the deployment of ears went fine without issues. Posting this solution as it will be helpful for others who are facing similar kind of issue. \r\n\r\nFinally our datasource CLIs will be like the ones below.\r\n\r\n&gt; /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS:add(use-java-context=true,use-ccm=false,driver-name=com.mysql,transaction-isolation=TRANSACTION_READ_COMMITTED,min-pool-size=15,max-pool-size=150,pool-prefill=true,flush-strategy=IdleConnections,valid-connection-checker-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;,stale-connection-checker-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;,exception-sorter-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter&quot;,set-tx-query-timeout=true,blocking-timeout-wait-millis=5000,idle-timeout-minutes=1,query-timeout=300,prepared-statements-cache-size=100,share-prepared-statements=true,jndi-name=&quot;java:jboss/datasources/xxyyDS&quot;,user-name=jboss,password=&quot;${VAULT::ds_MySqlDS::password::1}&quot;)\r\n&gt; /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=DatabaseName:add(value=xxyy_db)\r\n&gt; /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=ServerName:add(value=xx-cluster)\r\n&gt; /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=AutoReconnectForPools:add(value=true)\r\n&gt; /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=AutoReconnect:add(value=true)\r\n&gt; /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=useSSL:add(value=false)","title":"Wildfly datasource Enable is not working at runtime when configured through CLI","body":"<p>After running through many trial and error method, we found that when adding the datasources by default it will be in enabled state. So no need to do explicitly enable when adding a datasource.</p>\n<p>So we removed the below line from the list of CLIs.</p>\n<p><em><strong>/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS:enable</strong></em></p>\n<p>Post removing the line, the configuration of datasources through CLI and the deployment of ears went fine without issues. Posting this solution as it will be helpful for others who are facing similar kind of issue.</p>\n<p>Finally our datasource CLIs will be like the ones below.</p>\n<blockquote>\n<p>/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS:add(use-java-context=true,use-ccm=false,driver-name=com.mysql,transaction-isolation=TRANSACTION_READ_COMMITTED,min-pool-size=15,max-pool-size=150,pool-prefill=true,flush-strategy=IdleConnections,valid-connection-checker-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;,stale-connection-checker-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;,exception-sorter-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter&quot;,set-tx-query-timeout=true,blocking-timeout-wait-millis=5000,idle-timeout-minutes=1,query-timeout=300,prepared-statements-cache-size=100,share-prepared-statements=true,jndi-name=&quot;java:jboss/datasources/xxyyDS&quot;,user-name=jboss,password=&quot;${VAULT::ds_MySqlDS::password::1}&quot;)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=DatabaseName:add(value=xxyy_db)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=ServerName:add(value=xx-cluster)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=AutoReconnectForPools:add(value=true)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=AutoReconnect:add(value=true)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=useSSL:add(value=false)</p>\n</blockquote>\n"}],"owner":{"account_id":11294179,"reputation":25,"user_id":8282167,"display_name":"ganesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69348357,"answer_count":2,"score":1,"last_activity_date":1632752706,"creation_date":1632326949,"question_id":69287765,"body_markdown":"We are migrating from jboss Eap 6.4 to Wildfly. During migration, as part of our application installation, we will configure different xa-datasources in domain.xml. This configuration will be done through jboss-cli.sh.\r\n\r\nAfter configuring the data sources, when deploying the ears, (particularly at *-ejb.jar) we are getting an error saying that the &#39;persistent unit&#39; is not available and the deployment is rolled back.\r\n\r\nLoggers are showing the below:\r\n\r\n ```WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.persistenceunit.\\&quot;xxyy.ear/xxyy-ejb.jar#xxyyDBUnit\\&quot; is missing [jboss.naming.context.java.jboss.datasources.xxyyDS]&quot;]```\r\n\r\nPost restart of the jboss service, the same deployment works fine. So, we believe that the datasources configured in the domain.xml is not activated or enabled (although we have set the attribute &#39;enabled=true&#39; for the xa-datasource. We could see the following warning while adding the xa-datasource in jboss.\r\n\r\n```2021-09-21 16:57:48,308 INFO  [org.jboss.as.connector] (Host Controller Service Threads - 8) WFLYJCA0093: The &#39;enable&#39; operation is deprecated. Use of the &#39;add&#39; or &#39;remove&#39; operations is preferred, or if required the &#39;write-attribute&#39; operation can used to set the deprecated &#39;enabled&#39; attribute```\r\n\r\nWith this warning, we understood that the enable/disable operation has been removed in the jboss wildfly. Is there anyway we can make it enabled on the runtime without restart of the jboss service.\r\nBelow are the commands which we use to create the xa-datasource in wildfly.\r\n\r\n    /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS:add(use-java-context=true,use-ccm=false,driver-name=com.mysql,transaction-isolation=TRANSACTION_READ_COMMITTED,min-pool-size=15,max-pool-size=150,pool-prefill=true,flush-strategy=IdleConnections,valid-connection-checker-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;,stale-connection-checker-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;,exception-sorter-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter&quot;,set-tx-query-timeout=true,blocking-timeout-wait-millis=5000,idle-timeout-minutes=1,query-timeout=300,prepared-statements-cache-size=100,share-prepared-statements=true,jndi-name=&quot;java:jboss/datasources/xxyyDS&quot;,user-name=jboss,password=&quot;${VAULT::ds_MySqlDS::password::1}&quot;)\r\n    /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=DatabaseName:add(value=xxyy_db)\r\n    /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=ServerName:add(value=xx-cluster)\r\n    /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=AutoReconnectForPools:add(value=true)\r\n    /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=AutoReconnect:add(value=true)\r\n    /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=useSSL:add(value=false)\r\n    /profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS:enable\r\n\r\n\r\nAny inputs on how to enable the xa-datasource on runtime would help us. \r\n\r\n","title":"Wildfly datasource Enable is not working at runtime when configured through CLI","body":"<p>We are migrating from jboss Eap 6.4 to Wildfly. During migration, as part of our application installation, we will configure different xa-datasources in domain.xml. This configuration will be done through jboss-cli.sh.</p>\n<p>After configuring the data sources, when deploying the ears, (particularly at *-ejb.jar) we are getting an error saying that the 'persistent unit' is not available and the deployment is rolled back.</p>\n<p>Loggers are showing the below:</p>\n<p><code>WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.persistenceunit.\\&quot;xxyy.ear/xxyy-ejb.jar#xxyyDBUnit\\&quot; is missing [jboss.naming.context.java.jboss.datasources.xxyyDS]&quot;]</code></p>\n<p>Post restart of the jboss service, the same deployment works fine. So, we believe that the datasources configured in the domain.xml is not activated or enabled (although we have set the attribute 'enabled=true' for the xa-datasource. We could see the following warning while adding the xa-datasource in jboss.</p>\n<p><code>2021-09-21 16:57:48,308 INFO  [org.jboss.as.connector] (Host Controller Service Threads - 8) WFLYJCA0093: The 'enable' operation is deprecated. Use of the 'add' or 'remove' operations is preferred, or if required the 'write-attribute' operation can used to set the deprecated 'enabled' attribute</code></p>\n<p>With this warning, we understood that the enable/disable operation has been removed in the jboss wildfly. Is there anyway we can make it enabled on the runtime without restart of the jboss service.\nBelow are the commands which we use to create the xa-datasource in wildfly.</p>\n<pre><code>/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS:add(use-java-context=true,use-ccm=false,driver-name=com.mysql,transaction-isolation=TRANSACTION_READ_COMMITTED,min-pool-size=15,max-pool-size=150,pool-prefill=true,flush-strategy=IdleConnections,valid-connection-checker-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;,stale-connection-checker-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;,exception-sorter-class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter&quot;,set-tx-query-timeout=true,blocking-timeout-wait-millis=5000,idle-timeout-minutes=1,query-timeout=300,prepared-statements-cache-size=100,share-prepared-statements=true,jndi-name=&quot;java:jboss/datasources/xxyyDS&quot;,user-name=jboss,password=&quot;${VAULT::ds_MySqlDS::password::1}&quot;)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=DatabaseName:add(value=xxyy_db)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=ServerName:add(value=xx-cluster)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=AutoReconnectForPools:add(value=true)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=AutoReconnect:add(value=true)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS/xa-datasource-properties=useSSL:add(value=false)\n/profile=full-ha/subsystem=datasources/xa-data-source=xxyyDS:enable\n</code></pre>\n<p>Any inputs on how to enable the xa-datasource on runtime would help us.</p>\n"},{"tags":["java","spring-boot","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632752539,"creation_date":1632752539,"answer_id":69348330,"question_id":69346363,"body_markdown":"See different constructor:\r\n\r\n    /**\r\n\t * Constructor which sets the {@link #destinationDirectoryExpression}.\r\n\t * @param destinationDirectoryExpression Must not be null\r\n\t * @see #FileWritingMessageHandler(File)\r\n\t */\r\n\tpublic FileWritingMessageHandler(Expression destinationDirectoryExpression) {\r\n\r\nSo, using similar SpEL expression you have above, you can do something like: \r\n\r\n    new FileWritingMessageHandler(new SpelExpressionParser().parseExpression(&quot;headers.targetPath&quot;));\r\n\r\nAlso see `org.springframework.integration.file.dsl.Files.outboundAdapter()` for more high-level Java DSL API over that `FileWritingMessageHandler`.","title":"Springboot Integration - Accessing headers within a MessageHandler","body":"<p>See different constructor:</p>\n<pre><code>/**\n * Constructor which sets the {@link #destinationDirectoryExpression}.\n * @param destinationDirectoryExpression Must not be null\n * @see #FileWritingMessageHandler(File)\n */\npublic FileWritingMessageHandler(Expression destinationDirectoryExpression) {\n</code></pre>\n<p>So, using similar SpEL expression you have above, you can do something like:</p>\n<pre><code>new FileWritingMessageHandler(new SpelExpressionParser().parseExpression(&quot;headers.targetPath&quot;));\n</code></pre>\n<p>Also see <code>org.springframework.integration.file.dsl.Files.outboundAdapter()</code> for more high-level Java DSL API over that <code>FileWritingMessageHandler</code>.</p>\n"}],"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69348330,"answer_count":1,"score":0,"last_activity_date":1632752539,"creation_date":1632744558,"question_id":69346363,"body_markdown":"I&#39;m trying to move a file to a specific location based on a header that is present in the flow\r\n\r\n    @Bean\r\n    public IntegrationFlow configureFileFlow(\r\n            @Value(&quot;${fileSource}&quot;) String sourcePath,\r\n            @Value(&quot;${fileTarget}&quot;) String targetPath\r\n    ) {\r\n        return IntegrationFlows.from(\r\n                getDataSource(sourcePath),\r\n                conf -&gt; conf.poller(Pollers.fixedDelay(pollerDelay))\r\n        )\r\n                .enrichHeaders(eh -&gt; eh.header(&quot;targetPath&quot;, targetPath)) //&lt;-- this is the target\r\n                .enrichHeaders(eh -&gt; eh.headerExpression(&quot;originalFileName&quot;, &quot;payload.getName&quot;))\r\n                .channel(&quot;processFile.input&quot;)\r\n                .get();\r\n    }\r\n\r\nwhen processing the file, after all necessary procedures are done, I call a bean the following way\r\n\r\n    .handle(backupFile())\r\n\r\nwhich calls\r\n\r\n    @Bean\r\n    public MessageHandler backupFile() {\r\n        FileWritingMessageHandler handler = new FileWritingMessageHandler(new File(targetPath));\r\n        handler.setAutoCreateDirectory(true);\r\n        handler.setFileExistsMode(FileExistsMode.REPLACE_IF_MODIFIED);\r\n        handler.setExpectReply(false);\r\n        handler.setDeleteSourceFiles(true);\r\n        return handler;\r\n    }\r\n\r\nHow would one go about setting the `targetPath` dynamically based on what&#39;s set in the headers, please? I cannot simply pass it along as a parameter since it&#39;s a bean and I&#39;d like to avoid creating more beans just for the sake of retrieving a String. Also using a `@Value` again in the second part of the flow feels redundant, since it is already a part of the message itself, in the headers. \r\n\r\nThere are multiple types of files that are being processed, each has it&#39;s own `IntegrationFlow` source, but this part where it gets &quot;backed up&quot; should be shared among all of them. The `backupFile` bean basically needs to have two informations - the file itself as payload and the information from headers on where to store it.\r\n\r\nThanks!","title":"Springboot Integration - Accessing headers within a MessageHandler","body":"<p>I'm trying to move a file to a specific location based on a header that is present in the flow</p>\n<pre><code>@Bean\npublic IntegrationFlow configureFileFlow(\n        @Value(&quot;${fileSource}&quot;) String sourcePath,\n        @Value(&quot;${fileTarget}&quot;) String targetPath\n) {\n    return IntegrationFlows.from(\n            getDataSource(sourcePath),\n            conf -&gt; conf.poller(Pollers.fixedDelay(pollerDelay))\n    )\n            .enrichHeaders(eh -&gt; eh.header(&quot;targetPath&quot;, targetPath)) //&lt;-- this is the target\n            .enrichHeaders(eh -&gt; eh.headerExpression(&quot;originalFileName&quot;, &quot;payload.getName&quot;))\n            .channel(&quot;processFile.input&quot;)\n            .get();\n}\n</code></pre>\n<p>when processing the file, after all necessary procedures are done, I call a bean the following way</p>\n<pre><code>.handle(backupFile())\n</code></pre>\n<p>which calls</p>\n<pre><code>@Bean\npublic MessageHandler backupFile() {\n    FileWritingMessageHandler handler = new FileWritingMessageHandler(new File(targetPath));\n    handler.setAutoCreateDirectory(true);\n    handler.setFileExistsMode(FileExistsMode.REPLACE_IF_MODIFIED);\n    handler.setExpectReply(false);\n    handler.setDeleteSourceFiles(true);\n    return handler;\n}\n</code></pre>\n<p>How would one go about setting the <code>targetPath</code> dynamically based on what's set in the headers, please? I cannot simply pass it along as a parameter since it's a bean and I'd like to avoid creating more beans just for the sake of retrieving a String. Also using a <code>@Value</code> again in the second part of the flow feels redundant, since it is already a part of the message itself, in the headers.</p>\n<p>There are multiple types of files that are being processed, each has it's own <code>IntegrationFlow</code> source, but this part where it gets &quot;backed up&quot; should be shared among all of them. The <code>backupFile</code> bean basically needs to have two informations - the file itself as payload and the information from headers on where to store it.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","javabeans"],"comments":[{"owner":{"account_id":1158395,"reputation":269,"user_id":1138417,"display_name":"Nagaraddi"},"score":1,"creation_date":1481646098,"post_id":41125384,"comment_id":69455466,"body_markdown":"Change Access modifier of class declaration to public to make it work.  public class Person { } would fix this issue","body":"Change Access modifier of class declaration to public to make it work.  public class Person { } would fix this issue"},{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":0,"creation_date":1481715943,"post_id":41125384,"comment_id":69486056,"body_markdown":"thanks for the answer - I already came to a solution that is better for me, because I avoid dependency on apache.commons.beanutilsbean. Now I know both ways :)","body":"thanks for the answer - I already came to a solution that is better for me, because I avoid dependency on apache.commons.beanutilsbean. Now I know both ways :)"},{"owner":{"account_id":2170924,"reputation":425,"user_id":1922939,"accept_rate":50,"display_name":"hardcoder"},"score":0,"creation_date":1515070935,"post_id":41125384,"comment_id":83166405,"body_markdown":"@kiedysktos I have a similar use-case, and would love to know what other solution worked for you. If you can elaborate that, it will be great :)","body":"@kiedysktos I have a similar use-case, and would love to know what other solution worked for you. If you can elaborate that, it will be great :)"},{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":0,"creation_date":1516361564,"post_id":41125384,"comment_id":83665417,"body_markdown":"unfortunately the accepted answer represents only way I tried","body":"unfortunately the accepted answer represents only way I tried"}],"answers":[{"tags":[],"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1487754235,"creation_date":1481715520,"answer_id":41141652,"question_id":41125384,"body_markdown":"I ended up using Spring BeanUtils library. Here is my working method:\r\n\r\n    import org.springframework.beans.BeanWrapper;\r\n    import org.springframework.beans.BeanWrapperImpl;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.util.Collection;\r\n    \r\n    public class MyBeansUtil&lt;T&gt; {\r\n        public T copyNonNullProperties(T target, T in) {\r\n            if (in == null || target == null || target.getClass() != in.getClass()) return null;\r\n    \r\n            final BeanWrapper src = new BeanWrapperImpl(in);\r\n            final BeanWrapper trg = new BeanWrapperImpl(target);\r\n    \r\n            for (final Field property : target.getClass().getDeclaredFields()) {\r\n                Object providedObject = src.getPropertyValue(property.getName());\r\n                if (providedObject != null &amp;&amp; !(providedObject instanceof Collection&lt;?&gt;)) {\r\n                    trg.setPropertyValue(\r\n                            property.getName(),\r\n                            providedObject);\r\n                }\r\n            }\r\n            return target;\r\n        }\r\n    }\r\n\r\nIt works fine, but notice that **it ignores fields that are collections**. That&#39;s on purpose, I handle them separately.\r\n","title":"Copy non-null properties from one object to another using BeanUtils or similar","body":"<p>I ended up using Spring BeanUtils library. Here is my working method:</p>\n\n<pre><code>import org.springframework.beans.BeanWrapper;\nimport org.springframework.beans.BeanWrapperImpl;\n\nimport java.lang.reflect.Field;\nimport java.util.Collection;\n\npublic class MyBeansUtil&lt;T&gt; {\n    public T copyNonNullProperties(T target, T in) {\n        if (in == null || target == null || target.getClass() != in.getClass()) return null;\n\n        final BeanWrapper src = new BeanWrapperImpl(in);\n        final BeanWrapper trg = new BeanWrapperImpl(target);\n\n        for (final Field property : target.getClass().getDeclaredFields()) {\n            Object providedObject = src.getPropertyValue(property.getName());\n            if (providedObject != null &amp;&amp; !(providedObject instanceof Collection&lt;?&gt;)) {\n                trg.setPropertyValue(\n                        property.getName(),\n                        providedObject);\n            }\n        }\n        return target;\n    }\n}\n</code></pre>\n\n<p>It works fine, but notice that <strong>it ignores fields that are collections</strong>. That's on purpose, I handle them separately.</p>\n"},{"tags":[],"owner":{"account_id":3511610,"reputation":3120,"user_id":2935802,"display_name":"Sudhakar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1495640048,"creation_date":1495640048,"answer_id":44162846,"question_id":41125384,"body_markdown":"You can create your own method to copy properties while ignoring null values.\r\n\r\n\r\n    public static String[] getNullPropertyNames (Object source) {\r\n        final BeanWrapper src = new BeanWrapperImpl(source);\r\n        java.beans.PropertyDescriptor[] pds = src.getPropertyDescriptors();\r\n\r\n        Set&lt;String&gt; emptyNames = new HashSet&lt;String&gt;();\r\n        for(java.beans.PropertyDescriptor pd : pds) {\r\n            Object srcValue = src.getPropertyValue(pd.getName());\r\n            if (srcValue == null) emptyNames.add(pd.getName());\r\n        }\r\n        String[] result = new String[emptyNames.size()];\r\n        return emptyNames.toArray(result);\r\n    }\r\n\r\n    // then use Spring BeanUtils to copy and ignore null\r\n    public static void myCopyProperties(Object src, Object target) {\r\n        BeanUtils.copyProperties(src, target, getNullPropertyNames(src))\r\n    }","title":"Copy non-null properties from one object to another using BeanUtils or similar","body":"<p>You can create your own method to copy properties while ignoring null values.</p>\n\n<pre><code>public static String[] getNullPropertyNames (Object source) {\n    final BeanWrapper src = new BeanWrapperImpl(source);\n    java.beans.PropertyDescriptor[] pds = src.getPropertyDescriptors();\n\n    Set&lt;String&gt; emptyNames = new HashSet&lt;String&gt;();\n    for(java.beans.PropertyDescriptor pd : pds) {\n        Object srcValue = src.getPropertyValue(pd.getName());\n        if (srcValue == null) emptyNames.add(pd.getName());\n    }\n    String[] result = new String[emptyNames.size()];\n    return emptyNames.toArray(result);\n}\n\n// then use Spring BeanUtils to copy and ignore null\npublic static void myCopyProperties(Object src, Object target) {\n    BeanUtils.copyProperties(src, target, getNullPropertyNames(src))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564142677,"creation_date":1564142677,"answer_id":57219711,"question_id":41125384,"body_markdown":"Using ProprtyUtils, we can achieve this using:\r\n\r\n        private void copyNonNullProperties(Object destination,\r\n                Object source) {\r\n            try {\r\n                PropertyUtils.describe(source).entrySet().stream()\r\n                        .filter(source -&gt; source.getValue() != null)\r\n                        .filter(source -&gt; !source.getKey().equals(&quot;class&quot;))\r\n                        .forEach(source -&gt; {\r\n                            try {\r\n                                PropertyUtils.setProperty(destination, source.getKey(), source.getValue());\r\n                            } catch (Exception e22) {\r\n                                log.error(&quot;Error setting properties : {}&quot;, e22.getMessage());\r\n                            }\r\n                        });\r\n    \r\n            } catch (Exception e1) {\r\n                log.error(&quot;Error setting properties : {}&quot;, e1.getMessage());\r\n            }\r\n    \r\n        }","title":"Copy non-null properties from one object to another using BeanUtils or similar","body":"<p>Using ProprtyUtils, we can achieve this using:</p>\n\n<pre><code>    private void copyNonNullProperties(Object destination,\n            Object source) {\n        try {\n            PropertyUtils.describe(source).entrySet().stream()\n                    .filter(source -&gt; source.getValue() != null)\n                    .filter(source -&gt; !source.getKey().equals(\"class\"))\n                    .forEach(source -&gt; {\n                        try {\n                            PropertyUtils.setProperty(destination, source.getKey(), source.getValue());\n                        } catch (Exception e22) {\n                            log.error(\"Error setting properties : {}\", e22.getMessage());\n                        }\n                    });\n\n        } catch (Exception e1) {\n            log.error(\"Error setting properties : {}\", e1.getMessage());\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17702800,"reputation":81,"user_id":12852081,"display_name":"Abu Talha Siddiqi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1580992557,"creation_date":1580992557,"answer_id":60095176,"question_id":41125384,"body_markdown":"Using BeanUtils and java8 we can achieve this:\r\n\r\n    BeanUtils.copyProperties(Object_source, Object_target, getNullPropertyNames(Object_source));\r\n\r\n    private String[] getNullPropertyNames(Object source) {\r\n    \t\tfinal BeanWrapper wrappedSource = new BeanWrapperImpl(source);\r\n    \t\treturn Stream.of(wrappedSource.getPropertyDescriptors()).map(FeatureDescriptor::getName)\r\n    \t\t\t\t.filter(propertyName -&gt; wrappedSource.getPropertyValue(propertyName) == null).toArray(String[]::new);\r\n    \t}\r\n\r\n\r\n","title":"Copy non-null properties from one object to another using BeanUtils or similar","body":"<p>Using BeanUtils and java8 we can achieve this:</p>\n\n<pre><code>BeanUtils.copyProperties(Object_source, Object_target, getNullPropertyNames(Object_source));\n\nprivate String[] getNullPropertyNames(Object source) {\n        final BeanWrapper wrappedSource = new BeanWrapperImpl(source);\n        return Stream.of(wrappedSource.getPropertyDescriptors()).map(FeatureDescriptor::getName)\n                .filter(propertyName -&gt; wrappedSource.getPropertyValue(propertyName) == null).toArray(String[]::new);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4376297,"reputation":31,"user_id":3569236,"display_name":"Christian Masdeval"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632752289,"creation_date":1632752289,"answer_id":69348260,"question_id":41125384,"body_markdown":"I have faced a similar problem recently. I was asked to implement a generic solution for implementing PATCH in REST API where you allow providing only specific field. \r\n\r\nThe project is a Java one with MongoDB. \r\n\r\nIn the beginning I thought would be possible to solve using the Mongo java driver and the operation $set passing the document with only the fields that should be modified. After extensive researching I realized that it doesn&#39;t work this way. If you have nested classes it won&#39;t update selectively the inner class but instead replace it. I have tried several options using directly the Mongo java driver and SpringMongoDB java API. \r\n\r\nThen I went to the BeanUtils solution as described by the author @kiedysktos. \r\n\r\n```\r\n    public class MyBeansUtil extends BeanUtilsBean {\r\n\r\n    @Override\r\n    public void copyProperty(Object dest, String name, Object value)\r\n        throws IllegalAccessException, InvocationTargetException {\r\n        if(value == null) return;\r\n        super.copyProperty(dest, name, value);\r\n    }\r\n    }\r\n```\r\n \r\n It turns out that doing only this it won&#39;t work properly as well. Imagine you call your PATCH in the following way \r\n\r\n&gt; { &quot;name&quot;: &quot;John Doe&quot;,\r\n&gt;    &quot;friend&quot;: {\r\n&gt;                 &quot;age&quot;:2\r\n&gt;        }\r\n&gt; }\r\n\r\nThe intent of this call is to update the age of the single pet of John Doe to 2. However the overridden code above will replace the entire Pet structure to \r\n&gt; { &quot;name&quot;: null,\r\n&gt;   &quot;age&quot; : 2  \r\n&gt; }\r\nerasing the name information. \r\n\r\nMy final solutions was to call recursively where I found a nested inner class. This way each one will be copied maintaining the previous information. To do that each class involved should implement a marking interface. \r\n\r\n```\r\n    Person implements NonNullCopy\r\n    Pet implements NonNullCopy\r\n```\r\n\r\n Finally, the code:   \r\n\r\n```\r\nclass NullAwareBeanUtils extends BeanUtilsBean {\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void copyProperty(Object dest, String name, Object value)\r\n\t\t\tthrows IllegalAccessException, InvocationTargetException {\r\n\t\tif (value == null)\r\n\t\t\treturn;\r\n\t\telse if(value instanceof NonNullCopy) {\r\n\t\t\tClass&lt;?&gt; destClazz = value.getClass();\r\n\t\t\t\tClass&lt;?&gt; origClazz = dest.getClass();\r\n\t\t\t\tString className = destClazz.getSimpleName();\r\n\t\t\r\n\t\t\t\t//Recursively invokes copyProperties\r\n\t\t\t\tfor(Method m : origClazz.getDeclaredMethods()) {\r\n\t\t\t\t\tif(m.getReturnType().equals(destClazz)) {\r\n\t\t\t\t\t\tcopyProperties(m.invoke(dest, Collections.EMPTY_LIST.toArray()),value);\r\n\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n \t\t}\r\n\r\n\t\tsuper.copyProperty(dest, name, value);\r\n\t}\r\n\r\n\t   \r\n}\r\n\r\n\r\n``` \r\n\r\n Notice that this solution is generic if the class implements the marking interface.\r\n\r\n  ","title":"Copy non-null properties from one object to another using BeanUtils or similar","body":"<p>I have faced a similar problem recently. I was asked to implement a generic solution for implementing PATCH in REST API where you allow providing only specific field.</p>\n<p>The project is a Java one with MongoDB.</p>\n<p>In the beginning I thought would be possible to solve using the Mongo java driver and the operation $set passing the document with only the fields that should be modified. After extensive researching I realized that it doesn't work this way. If you have nested classes it won't update selectively the inner class but instead replace it. I have tried several options using directly the Mongo java driver and SpringMongoDB java API.</p>\n<p>Then I went to the BeanUtils solution as described by the author @kiedysktos.</p>\n<pre><code>    public class MyBeansUtil extends BeanUtilsBean {\n\n    @Override\n    public void copyProperty(Object dest, String name, Object value)\n        throws IllegalAccessException, InvocationTargetException {\n        if(value == null) return;\n        super.copyProperty(dest, name, value);\n    }\n    }\n</code></pre>\n<p>It turns out that doing only this it won't work properly as well. Imagine you call your PATCH in the following way</p>\n<blockquote>\n<p>{ &quot;name&quot;: &quot;John Doe&quot;,\n&quot;friend&quot;: {\n&quot;age&quot;:2\n}\n}</p>\n</blockquote>\n<p>The intent of this call is to update the age of the single pet of John Doe to 2. However the overridden code above will replace the entire Pet structure to</p>\n<blockquote>\n<p>{ &quot;name&quot;: null,\n&quot;age&quot; : 2<br />\n}\nerasing the name information.</p>\n</blockquote>\n<p>My final solutions was to call recursively where I found a nested inner class. This way each one will be copied maintaining the previous information. To do that each class involved should implement a marking interface.</p>\n<pre><code>    Person implements NonNullCopy\n    Pet implements NonNullCopy\n</code></pre>\n<p>Finally, the code:</p>\n<pre><code>class NullAwareBeanUtils extends BeanUtilsBean {\n    \n    \n    @Override\n    public void copyProperty(Object dest, String name, Object value)\n            throws IllegalAccessException, InvocationTargetException {\n        if (value == null)\n            return;\n        else if(value instanceof NonNullCopy) {\n            Class&lt;?&gt; destClazz = value.getClass();\n                Class&lt;?&gt; origClazz = dest.getClass();\n                String className = destClazz.getSimpleName();\n        \n                //Recursively invokes copyProperties\n                for(Method m : origClazz.getDeclaredMethods()) {\n                    if(m.getReturnType().equals(destClazz)) {\n                        copyProperties(m.invoke(dest, Collections.EMPTY_LIST.toArray()),value);\n                    }                       \n                }\n                return;\n        }\n\n        super.copyProperty(dest, name, value);\n    }\n\n       \n}\n\n\n</code></pre>\n<p>Notice that this solution is generic if the class implements the marking interface.</p>\n"}],"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17557,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":41141652,"answer_count":5,"score":9,"last_activity_date":1632752289,"creation_date":1481644835,"question_id":41125384,"body_markdown":"my aim is to copy fields of one object into another, but only those that aren&#39;t null. I don&#39;t want to assign it explicitly. A more generic solution would be very useful and easier to maintain i.e. for implementing PATCH in REST API where you allow providing only specific fields.\r\n\r\nI saw this similar thread and I&#39;m trying to implement some of the ideas from here: https://stackoverflow.com/questions/1301697/helper-in-order-to-copy-non-null-properties-from-object-to-another-java\r\n\r\nBut the objects aren&#39;t altered in any way after the program execution.\r\n\r\nSo here are my example classes created for example: \r\n\r\n    class Person {\r\n        String name;\r\n        int age;\r\n        Pet friend;\r\n\r\n        public Person() {\r\n        }\r\n    \r\n        public Person(String name, int age, Pet friend) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.friend = friend;\r\n        }\r\n    \r\n        // getters and setters here\r\n    }\r\n    \r\n    class Pet {\r\n        String name;\r\n        int age;\r\n\r\n        public Pet(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n        \r\n        // getters and setters here\r\n    }\r\n\r\nHere is my overridden copyProperty method:\r\n\r\n    import org.apache.commons.beanutils.BeanUtilsBean;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    \r\n    public class MyBeansUtil extends BeanUtilsBean {\r\n\r\n    @Override\r\n    public void copyProperty(Object dest, String name, Object value)\r\n            throws IllegalAccessException, InvocationTargetException {\r\n        if(value == null) return;\r\n        super.copyProperty(dest, name, value);\r\n    }\r\n    }\r\n\r\n... and here is the place I&#39;m trying to test it on some examples:\r\n\r\n    public class SandBox {\r\n        public static void main(String[] args) {\r\n            Person db = new Person(&quot;John&quot;, 36, new Pet(&quot;Lucy&quot;, 3));\r\n            Person db2 = new Person(&quot;John&quot;, 36, new Pet(&quot;Lucy&quot;, 2));\r\n            Person db3 = new Person(&quot;John&quot;, 36, new Pet(&quot;Lucy&quot;, 4));\r\n    \r\n            Person in = new Person();\r\n            in.age = 17;\r\n            in.name = &quot;Paul&quot;;\r\n            in.friend = new Pet(null, 35);\r\n    \r\n            Person in2 = new Person();\r\n            in2.name = &quot;Damian&quot;;\r\n    \r\n            Person in3 = new Person();\r\n            in3.friend = new Pet(&quot;Lup&quot;, 25);\r\n    \r\n            try {\r\n                BeanUtilsBean notNull  =new MyBeansUtil();\r\n                notNull.copyProperties(db, in);\r\n                notNull.copyProperties(db2, in2);\r\n                notNull.copyProperties(db3, in3);\r\n    \r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            } catch (InvocationTargetException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nUnfortunately, the original objects db, db1, db2 stay the same as they were. Am I doing something wrong here?","title":"Copy non-null properties from one object to another using BeanUtils or similar","body":"<p>my aim is to copy fields of one object into another, but only those that aren't null. I don't want to assign it explicitly. A more generic solution would be very useful and easier to maintain i.e. for implementing PATCH in REST API where you allow providing only specific fields.</p>\n\n<p>I saw this similar thread and I'm trying to implement some of the ideas from here: <a href=\"https://stackoverflow.com/questions/1301697/helper-in-order-to-copy-non-null-properties-from-object-to-another-java\">Helper in order to copy non null properties from object to another ? (Java)</a></p>\n\n<p>But the objects aren't altered in any way after the program execution.</p>\n\n<p>So here are my example classes created for example: </p>\n\n<pre><code>class Person {\n    String name;\n    int age;\n    Pet friend;\n\n    public Person() {\n    }\n\n    public Person(String name, int age, Pet friend) {\n        this.name = name;\n        this.age = age;\n        this.friend = friend;\n    }\n\n    // getters and setters here\n}\n\nclass Pet {\n    String name;\n    int age;\n\n    public Pet(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    // getters and setters here\n}\n</code></pre>\n\n<p>Here is my overridden copyProperty method:</p>\n\n<pre><code>import org.apache.commons.beanutils.BeanUtilsBean;\nimport java.lang.reflect.InvocationTargetException;\n\npublic class MyBeansUtil extends BeanUtilsBean {\n\n@Override\npublic void copyProperty(Object dest, String name, Object value)\n        throws IllegalAccessException, InvocationTargetException {\n    if(value == null) return;\n    super.copyProperty(dest, name, value);\n}\n}\n</code></pre>\n\n<p>... and here is the place I'm trying to test it on some examples:</p>\n\n<pre><code>public class SandBox {\n    public static void main(String[] args) {\n        Person db = new Person(\"John\", 36, new Pet(\"Lucy\", 3));\n        Person db2 = new Person(\"John\", 36, new Pet(\"Lucy\", 2));\n        Person db3 = new Person(\"John\", 36, new Pet(\"Lucy\", 4));\n\n        Person in = new Person();\n        in.age = 17;\n        in.name = \"Paul\";\n        in.friend = new Pet(null, 35);\n\n        Person in2 = new Person();\n        in2.name = \"Damian\";\n\n        Person in3 = new Person();\n        in3.friend = new Pet(\"Lup\", 25);\n\n        try {\n            BeanUtilsBean notNull  =new MyBeansUtil();\n            notNull.copyProperties(db, in);\n            notNull.copyProperties(db2, in2);\n            notNull.copyProperties(db3, in3);\n\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Unfortunately, the original objects db, db1, db2 stay the same as they were. Am I doing something wrong here?</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","smooth-scrolling"],"answers":[{"tags":[],"owner":{"account_id":14244184,"reputation":126,"user_id":10289755,"display_name":"maulik panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632751886,"creation_date":1632745732,"answer_id":69346622,"question_id":69346320,"body_markdown":"You can use Viewpager instead of recycler view in your app.\r\n\r\n \r\n\r\n    swipeTimer = Timer()\r\n            swipeTimer.schedule(object : TimerTask() {\r\n                override fun run() {\r\n                    runOnUiThread {\r\n                        if (num == NUM_PAGES) {\r\n                            num = 0\r\n                        }\r\n                        viewPager.setCurrentItem(num++, true)\r\n                    }\r\n                }\r\n            }, 500, 3000)\r\n\r\nThis code will also automatically swipes your all images by your required time and also comes back to the first one after the last one. \r\n\r\nAdapter code will be like below : \r\n\r\n        class TempAdapter extends PagerAdapter {\r\n    \r\n        private Context context;\r\n        ArrayList&lt;Integer&gt; imagesList = new ArrayList&lt;&gt;();\r\n        LayoutInflater layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    \r\n        public TempAdapter(Context context, ArrayList&lt;Integer&gt; list) {\r\n            this.context = context;\r\n            this.imagesList = list;\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return imagesList.size();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isViewFromObject(@NonNull View view, @NonNull Object o) {\r\n            return view == o;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n            View itemView = layoutInflater.inflate(R.layout.your_layout,container,false);\r\n            ImageView imageView = itemView.findViewById(R.id.ivImage);\r\n            imageView.setImageResource(imagesList.get(position));\r\n            container.addView(itemView);\r\n            return itemView\r\n        }\r\n    \r\n        @Override\r\n        public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\r\n            container.removeView((View) object);\r\n        }\r\n    }\r\n\r\nAnd set adater to viewpager from activity like : \r\n\r\n \r\n\r\n    vpImageAdapter = VPImageAdapter(this, imageList)\r\n    viewPager.adapter = vpImageAdapter","title":"How do I make Horizontal Recyclerview scroll infinitely without scrolling back to the first item","body":"<p>You can use Viewpager instead of recycler view in your app.</p>\n<pre><code>swipeTimer = Timer()\n        swipeTimer.schedule(object : TimerTask() {\n            override fun run() {\n                runOnUiThread {\n                    if (num == NUM_PAGES) {\n                        num = 0\n                    }\n                    viewPager.setCurrentItem(num++, true)\n                }\n            }\n        }, 500, 3000)\n</code></pre>\n<p>This code will also automatically swipes your all images by your required time and also comes back to the first one after the last one.</p>\n<p>Adapter code will be like below :</p>\n<pre><code>    class TempAdapter extends PagerAdapter {\n\n    private Context context;\n    ArrayList&lt;Integer&gt; imagesList = new ArrayList&lt;&gt;();\n    LayoutInflater layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n    public TempAdapter(Context context, ArrayList&lt;Integer&gt; list) {\n        this.context = context;\n        this.imagesList = list;\n    }\n\n    @Override\n    public int getCount() {\n        return imagesList.size();\n    }\n\n    @Override\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object o) {\n        return view == o;\n    }\n\n    @NonNull\n    @Override\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\n        View itemView = layoutInflater.inflate(R.layout.your_layout,container,false);\n        ImageView imageView = itemView.findViewById(R.id.ivImage);\n        imageView.setImageResource(imagesList.get(position));\n        container.addView(itemView);\n        return itemView\n    }\n\n    @Override\n    public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\n        container.removeView((View) object);\n    }\n}\n</code></pre>\n<p>And set adater to viewpager from activity like :</p>\n<pre><code>vpImageAdapter = VPImageAdapter(this, imageList)\nviewPager.adapter = vpImageAdapter\n</code></pre>\n"}],"owner":{"account_id":20662800,"reputation":33,"user_id":15170400,"display_name":"crixus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632751886,"creation_date":1632744412,"question_id":69346320,"body_markdown":"I have a Recyclerview that autos-crolls when the activity is started. The items in the recyclerview are 4 but when the scroll reaches the last(4th) item, it has to scroll back to the first item to start over again. What I want is the scroll to just continue to the first item when the last item is reached. My code is as shown below:\r\n\r\n    private void setAdsRecyclerView() {\r\n        layoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false) {\r\n\r\n            @Override\r\n            public void smoothScrollToPosition(RecyclerView recyclerView, RecyclerView.State state, int position) {\r\n                LinearSmoothScroller smoothScroller = new LinearSmoothScroller(getContext()) {\r\n\r\n                    private static final float SPEED = 300f;// Change this value (default=25f)\r\n\r\n                    @Override\r\n                    protected float calculateSpeedPerPixel(DisplayMetrics displayMetrics) {\r\n                        return SPEED / displayMetrics.densityDpi;\r\n                    }\r\n\r\n                };\r\n                smoothScroller.setTargetPosition(position);\r\n                startSmoothScroll(smoothScroller);\r\n            }\r\n\r\n        };\r\n\r\n        adsRecyclerview.setHasFixedSize(true);\r\n        adsRecyclerview.setLayoutManager(layoutManager);\r\n        adsRecyclerview.setNestedScrollingEnabled(false);\r\n        adsParseAdapter = new AdsParseAdapter(adsParseItems, getContext());\r\n        adsRecyclerview.setAdapter(adsParseAdapter);\r\n\r\n        LinearSnapHelper linearSnapHelper = new LinearSnapHelper();\r\n        linearSnapHelper.attachToRecyclerView(adsRecyclerview);\r\n\r\n        Timer timer = new Timer();\r\n        timer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n\r\n                if (layoutManager.findLastCompletelyVisibleItemPosition() &lt; adsParseAdapter.getItemCount() - 1) {\r\n                    layoutManager.smoothScrollToPosition(adsRecyclerview, new RecyclerView.State(), layoutManager.findLastCompletelyVisibleItemPosition() + 1);\r\n                } else {\r\n                    layoutManager.smoothScrollToPosition(adsRecyclerview, new RecyclerView.State(), 0);\r\n                }\r\n\r\n            }\r\n        }, 5000, 4000);\r\n    }","title":"How do I make Horizontal Recyclerview scroll infinitely without scrolling back to the first item","body":"<p>I have a Recyclerview that autos-crolls when the activity is started. The items in the recyclerview are 4 but when the scroll reaches the last(4th) item, it has to scroll back to the first item to start over again. What I want is the scroll to just continue to the first item when the last item is reached. My code is as shown below:</p>\n<pre><code>private void setAdsRecyclerView() {\n    layoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false) {\n\n        @Override\n        public void smoothScrollToPosition(RecyclerView recyclerView, RecyclerView.State state, int position) {\n            LinearSmoothScroller smoothScroller = new LinearSmoothScroller(getContext()) {\n\n                private static final float SPEED = 300f;// Change this value (default=25f)\n\n                @Override\n                protected float calculateSpeedPerPixel(DisplayMetrics displayMetrics) {\n                    return SPEED / displayMetrics.densityDpi;\n                }\n\n            };\n            smoothScroller.setTargetPosition(position);\n            startSmoothScroll(smoothScroller);\n        }\n\n    };\n\n    adsRecyclerview.setHasFixedSize(true);\n    adsRecyclerview.setLayoutManager(layoutManager);\n    adsRecyclerview.setNestedScrollingEnabled(false);\n    adsParseAdapter = new AdsParseAdapter(adsParseItems, getContext());\n    adsRecyclerview.setAdapter(adsParseAdapter);\n\n    LinearSnapHelper linearSnapHelper = new LinearSnapHelper();\n    linearSnapHelper.attachToRecyclerView(adsRecyclerview);\n\n    Timer timer = new Timer();\n    timer.schedule(new TimerTask() {\n        @Override\n        public void run() {\n\n            if (layoutManager.findLastCompletelyVisibleItemPosition() &lt; adsParseAdapter.getItemCount() - 1) {\n                layoutManager.smoothScrollToPosition(adsRecyclerview, new RecyclerView.State(), layoutManager.findLastCompletelyVisibleItemPosition() + 1);\n            } else {\n                layoutManager.smoothScrollToPosition(adsRecyclerview, new RecyclerView.State(), 0);\n            }\n\n        }\n    }, 5000, 4000);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632752991,"post_id":69346701,"comment_id":122571581,"body_markdown":"Why even fetch, update and save. Just write a method that directly does the update.","body":"Why even fetch, update and save. Just write a method that directly does the update."},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1632789741,"post_id":69346701,"comment_id":122582875,"body_markdown":"@M.Deinum Of course, it needs to fetch the list of objects first to update the property before saving to database.","body":"@M.Deinum Of course, it needs to fetch the list of objects first to update the property before saving to database."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1632805977,"post_id":69346701,"comment_id":122585355,"body_markdown":"No it doesn&#39;t. You can just write an update query which does all that without the overhead of retrieving everything.","body":"No it doesn&#39;t. You can just write an update query which does all that without the overhead of retrieving everything."}],"answers":[{"tags":[],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632751835,"creation_date":1632747676,"answer_id":69347089,"question_id":69346701,"body_markdown":"Inside your `PersonRepository` interface, you should be able to add a `Query` like this:\r\n\r\n    @Query(&quot;select new Person(id, property2) from Person&quot;)\r\n    List&lt;Person&gt; findIdAndProperty2();\r\n\r\nThe other fields should come back null as they haven&#39;t been specified in your query. You&#39;ll just need to add a constructor to `Person` with `id` and `property2` as arguments.\r\n\r\nFor updating, you can use similar syntax...\r\n\r\n    @Modifying\r\n    @Query(&quot;update Person set property2 = ?1 where id in ?2&quot;)\r\n    int updateProperty2(String property2, List&lt;Long&gt; ids);\r\n\r\n`com.google.common.collect.Iterables.partition` can be used to process your updates in chunks. For instance...\r\n\r\n    for (List&lt;Long&gt; curUpdateIds : Iterables.partition(ids, 1000)) {\r\n        personRepository.updateProperty2(&quot;0&quot;, curUpdateIds);\r\n    }\r\n\r\n","title":"Spring JPA - read a list of entities (with only partial properties) and update value without SELECTING the whole object from database?","body":"<p>Inside your <code>PersonRepository</code> interface, you should be able to add a <code>Query</code> like this:</p>\n<pre><code>@Query(&quot;select new Person(id, property2) from Person&quot;)\nList&lt;Person&gt; findIdAndProperty2();\n</code></pre>\n<p>The other fields should come back null as they haven't been specified in your query. You'll just need to add a constructor to <code>Person</code> with <code>id</code> and <code>property2</code> as arguments.</p>\n<p>For updating, you can use similar syntax...</p>\n<pre><code>@Modifying\n@Query(&quot;update Person set property2 = ?1 where id in ?2&quot;)\nint updateProperty2(String property2, List&lt;Long&gt; ids);\n</code></pre>\n<p><code>com.google.common.collect.Iterables.partition</code> can be used to process your updates in chunks. For instance...</p>\n<pre><code>for (List&lt;Long&gt; curUpdateIds : Iterables.partition(ids, 1000)) {\n    personRepository.updateProperty2(&quot;0&quot;, curUpdateIds);\n}\n</code></pre>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69347089,"answer_count":1,"score":0,"last_activity_date":1632751835,"creation_date":1632746033,"question_id":69346701,"body_markdown":"I&#39;m using Spring Boot 1.5.2. I have a big Entity with **multiple properties** and multiple **OneToMany** relations, for example:\r\n\r\n```\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;person&quot;)\r\nclass Person {\r\n   @Id\r\n   protected long id;\r\n\r\n   private String property1;\r\n   private String property2;\r\n   private String property3;\r\n   private String property4;\r\n   private String property5;\r\n   private String property6;\r\n\r\n   @OneToMany\r\n   private List&lt;Obj1&gt; obj1List;\r\n   @OneToMany\r\n   private List&lt;Obj2&gt; obj2List;\r\n   @OneToMany\r\n   private List&lt;Obj3&gt; obj3List;\r\n   @OneToMany\r\n   private List&lt;Obj4&gt; obj4List;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nHow can I read the list of ```Person``` from database, but only with 2 properties ```id``` and ```property2```, and update ```property2=0```.\r\n\r\nThen, I can use JPA ```CrudRepository``` to save():\r\n\r\n```\r\npublic interface PersonRepository extends CrudRepository&lt;Person, Long&gt; {\r\n\r\n}\r\n\r\nfor (Person person : personList) {\r\n   this.personRepository.save(person)\r\n}\r\n\r\n```\r\n\r\nI don&#39;t want to use ```findAll()``` from ```CrudRepository``` which enables Hibernate to SELECT the whole list of Person with a big SQL query before saving to database.\r\n","title":"Spring JPA - read a list of entities (with only partial properties) and update value without SELECTING the whole object from database?","body":"<p>I'm using Spring Boot 1.5.2. I have a big Entity with <strong>multiple properties</strong> and multiple <strong>OneToMany</strong> relations, for example:</p>\n<pre><code>\n\n@Entity\n@Table(name = &quot;person&quot;)\nclass Person {\n   @Id\n   protected long id;\n\n   private String property1;\n   private String property2;\n   private String property3;\n   private String property4;\n   private String property5;\n   private String property6;\n\n   @OneToMany\n   private List&lt;Obj1&gt; obj1List;\n   @OneToMany\n   private List&lt;Obj2&gt; obj2List;\n   @OneToMany\n   private List&lt;Obj3&gt; obj3List;\n   @OneToMany\n   private List&lt;Obj4&gt; obj4List;\n\n\n}\n\n</code></pre>\n<p>How can I read the list of <code>Person</code> from database, but only with 2 properties <code>id</code> and <code>property2</code>, and update <code>property2=0</code>.</p>\n<p>Then, I can use JPA <code>CrudRepository</code> to save():</p>\n<pre><code>public interface PersonRepository extends CrudRepository&lt;Person, Long&gt; {\n\n}\n\nfor (Person person : personList) {\n   this.personRepository.save(person)\n}\n\n</code></pre>\n<p>I don't want to use <code>findAll()</code> from <code>CrudRepository</code> which enables Hibernate to SELECT the whole list of Person with a big SQL query before saving to database.</p>\n"},{"tags":["java","unit-testing","mockito","powermock","powermockito"],"answers":[{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632751716,"creation_date":1632751716,"answer_id":69348113,"question_id":69347524,"body_markdown":"If you simply provide two static mocks you can control the behavior of each method.\r\n\r\nI usually do something like this in Mockito: \r\n\r\n```\r\nprotected static MockedStatic&lt;Class1&gt; CLASS1_MOCK= Mockito.mockStatic(Class1.class);\r\nCLASS1_MOCK.when(Class1::staticMethod).thenReturn(testValue1);\r\n\r\nprotected static MockedStatic&lt;Class2&gt; CLASS2_MOCK = Mockito.mockStatic(Class2.class);\r\nCLASS2_MOCK.when(Class2::staticMethod).thenReturn(testValue2);\r\n```","title":"PowerMockito Static","body":"<p>If you simply provide two static mocks you can control the behavior of each method.</p>\n<p>I usually do something like this in Mockito:</p>\n<pre><code>protected static MockedStatic&lt;Class1&gt; CLASS1_MOCK= Mockito.mockStatic(Class1.class);\nCLASS1_MOCK.when(Class1::staticMethod).thenReturn(testValue1);\n\nprotected static MockedStatic&lt;Class2&gt; CLASS2_MOCK = Mockito.mockStatic(Class2.class);\nCLASS2_MOCK.when(Class2::staticMethod).thenReturn(testValue2);\n</code></pre>\n"}],"owner":{"account_id":16540071,"reputation":356,"user_id":11951046,"display_name":"Farrukh Nabiyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632751716,"creation_date":1632749396,"question_id":69347524,"body_markdown":"I am trying to mock Static methods using PowerMockito. It works fine when I try To mock only one Class. For instance **Class1.*staticMethod()***. But my tested class uses other static method from other class **Class2.*staticMethod()***.\r\n\r\nSo my question is: How to mock two different static methods from different classes, in the same test using PowerMockito? \r\n\r\nI can not use `mockito-inline` dependency, so it should be done only with PowerMockito.\r\n\r\n\r\n","title":"PowerMockito Static","body":"<p>I am trying to mock Static methods using PowerMockito. It works fine when I try To mock only one Class. For instance <strong>Class1.<em>staticMethod()</em></strong>. But my tested class uses other static method from other class <strong>Class2.<em>staticMethod()</em></strong>.</p>\n<p>So my question is: How to mock two different static methods from different classes, in the same test using PowerMockito?</p>\n<p>I can not use <code>mockito-inline</code> dependency, so it should be done only with PowerMockito.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1632483624,"post_id":69313791,"comment_id":122511238,"body_markdown":"Please don&#39;t ask the same question again, instead rephrase or clarify the other question you asked on this. As I stated in the other one your test doesn&#39;t make sense, most of the annotations are useless and you are expecting that a mockito mock without adding spring capabilities to your test will test spring capabilities. That is ofcourse not going to happen. Autowire `LabelService` not the impl, ditch all annotations and just add `@SpringBootTest` and replace `@Mock` with `@MockBean`. And I recall giving the same answer/comment on another of your questions (which appears to be deleted).","body":"Please don&#39;t ask the same question again, instead rephrase or clarify the other question you asked on this. As I stated in the other one your test doesn&#39;t make sense, most of the annotations are useless and you are expecting that a mockito mock without adding spring capabilities to your test will test spring capabilities. That is ofcourse not going to happen. Autowire <code>LabelService</code> not the impl, ditch all annotations and just add <code>@SpringBootTest</code> and replace <code>@Mock</code> with <code>@MockBean</code>. And I recall giving the same answer/comment on another of your questions (which appears to be deleted)."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632484839,"post_id":69313791,"comment_id":122511689,"body_markdown":"Thanks a lot. If I juts use `@SpringBootTest` annotation, I get &quot;*java.lang.NullPointerException*&quot; for `labelService` (I also changed it to interface -&gt; `LabelService`).","body":"Thanks a lot. If I juts use <code>@SpringBootTest</code> annotation, I get &quot;<i>java.lang.NullPointerException</i>&quot; for <code>labelService</code> (I also changed it to interface -&gt; <code>LabelService</code>)."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632484906,"post_id":69313791,"comment_id":122511722,"body_markdown":"On the other hand, if I add `@RunWith(SpringRunner.class)` besides `@SpringBootTest`, then I get *&quot;java.lang.IllegalArgumentException: Cannot find cache named &#39;demoCache&#39; for Builder[public java.util.List com.mycompany.service.impl.LabelServiceImpl.findByUuid(UUID)] caches=[demoCache] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;&quot;* error. **BUT** I think we are so close to the solution, because it looks for cache, but cannot find with that name.","body":"On the other hand, if I add <code>@RunWith(SpringRunner.class)</code> besides <code>@SpringBootTest</code>, then I get <i>&quot;java.lang.IllegalArgumentException: Cannot find cache named &#39;demoCache&#39; for Builder[public java.util.List com.mycompany.service.impl.LabelServiceImpl.findByUuid(UUID)&zwnj;&#8203;] caches=[demoCache] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;&quot;</i> error. <b>BUT</b> I think we are so close to the solution, because it looks for cache, but cannot find with that name."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632484910,"post_id":69313791,"comment_id":122511723,"body_markdown":"I also tried by adding `@EnableCaching` annotation on my test class, but still the same problem.","body":"I also tried by adding <code>@EnableCaching</code> annotation on my test class, but still the same problem."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632485705,"post_id":69313791,"comment_id":122512040,"body_markdown":"If you are using junit4 (i assumed 5) you need additionally the `@RunWith`. You need to configure your cachemanager to create that cache (apparently the one you are using doesn&#39;t support creating those on the fly).","body":"If you are using junit4 (i assumed 5) you need additionally the <code>@RunWith</code>. You need to configure your cachemanager to create that cache (apparently the one you are using doesn&#39;t support creating those on the fly)."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632485982,"post_id":69313791,"comment_id":122512147,"body_markdown":"We use JUnit5, but I also tried with `@RunWith( SpringRunner.class )`, nothing has changed. So, I think the problem is not finding the named cache. Any idea?","body":"We use JUnit5, but I also tried with <code>@RunWith( SpringRunner.class )</code>, nothing has changed. So, I think the problem is not finding the named cache. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632486057,"post_id":69313791,"comment_id":122512181,"body_markdown":"Do I need to implement a CacheConfig? Or do I need to use `@ImportAutoConfiguration(classes = { CacheAutoConfiguration.class, RedisAutoConfiguration.class})` ?","body":"Do I need to implement a CacheConfig? Or do I need to use <code>@ImportAutoConfiguration(classes = { CacheAutoConfiguration.class, RedisAutoConfiguration.class})</code> ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632486771,"post_id":69313791,"comment_id":122512453,"body_markdown":"No you need to properly configure your cache manager which you havent&#39;. Trying to again import the cache config will not solve a thing.","body":"No you need to properly configure your cache manager which you havent&#39;. Trying to again import the cache config will not solve a thing."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632487102,"post_id":69313791,"comment_id":122512590,"body_markdown":"Something like [this](https://github.com/eugenp/tutorials/blob/master/spring-caching-2/src/main/java/com/baeldung/caching/redis/CacheConfig.java) would be ok? I use it","body":"Something like <a href=\"https://github.com/eugenp/tutorials/blob/master/spring-caching-2/src/main/java/com/baeldung/caching/redis/CacheConfig.java\" rel=\"nofollow noreferrer\">this</a> would be ok? I use it"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632488210,"post_id":69313791,"comment_id":122513043,"body_markdown":"I used `CacheConfig` as mentioned on that link, but still the same error: *&quot;java.lang.IllegalArgumentException: Cannot find cache named &#39;demoCache&#39; for Builder[public java.util.List com.mycompany.service.impl.LabelServiceImpl.findByUuid(UUID)] caches=[demoCache] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;&quot;*","body":"I used <code>CacheConfig</code> as mentioned on that link, but still the same error: <i>&quot;java.lang.IllegalArgumentException: Cannot find cache named &#39;demoCache&#39; for Builder[public java.util.List com.mycompany.service.impl.LabelServiceImpl.findByUuid(UUID)&zwnj;&#8203;] caches=[demoCache] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;&quot;</i>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632488380,"post_id":69313791,"comment_id":122513106,"body_markdown":"And why shouldn&#39;t it throw an error. Have you actually **read** the error? The name of the missing cache is in there (`demoCache`), now if you compare that with your cache configuration you should quite clearly see that `demoCache` isn&#39;t one of the caches being pre-configured.","body":"And why shouldn&#39;t it throw an error. Have you actually <b>read</b> the error? The name of the missing cache is in there (<code>demoCache</code>), now if you compare that with your cache configuration you should quite clearly see that <code>demoCache</code> isn&#39;t one of the caches being pre-configured."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632556725,"post_id":69313791,"comment_id":122529111,"body_markdown":"No, I configured it with that name. The problem is not related to that. On  the other hand, I am wondering if you have ever been make a caching test or could make an example usage and post here as answer. As far as I see, people in SO post what they would like to explain instead of posting comments with lots of missing parts. That take too much time both you and PO. thanks in advance...","body":"No, I configured it with that name. The problem is not related to that. On  the other hand, I am wondering if you have ever been make a caching test or could make an example usage and post here as answer. As far as I see, people in SO post what they would like to explain instead of posting comments with lots of missing parts. That take too much time both you and PO. thanks in advance..."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632724745,"post_id":69313791,"comment_id":122560118,"body_markdown":"I give up and for some reason you try to offend people? The error is clear imho and you r config isn&#39;t what you think it is (or not loaded to whatever reason on load of annotations you put on your test).","body":"I give up and for some reason you try to offend people? The error is clear imho and you r config isn&#39;t what you think it is (or not loaded to whatever reason on load of annotations you put on your test)."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632727073,"post_id":69313791,"comment_id":122560849,"body_markdown":"I think I am confused with mocking service and cacheConfig. First of all, I am not sure if I need to mock cacheConfig and how to use it. That&#39;s why I ask you to post an example, because explaining with code instead of comments always useful.","body":"I think I am confused with mocking service and cacheConfig. First of all, I am not sure if I need to mock cacheConfig and how to use it. That&#39;s why I ask you to post an example, because explaining with code instead of comments always useful."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632727296,"post_id":69313791,"comment_id":122560905,"body_markdown":"My first comment was the answer you needed. You are messing around with too many annotations, configurations and try to outsmart mocking, Spring, Spring Boot and testing. Also from your question it isn&#39;t clear **where** your caching is done, the repo or the service (it should be the latter). enabling caching should be on a configuration not a component like you have now.","body":"My first comment was the answer you needed. You are messing around with too many annotations, configurations and try to outsmart mocking, Spring, Spring Boot and testing. Also from your question it isn&#39;t clear <b>where</b> your caching is done, the repo or the service (it should be the latter). enabling caching should be on a configuration not a component like you have now."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632727632,"post_id":69313791,"comment_id":122561022,"body_markdown":"That&#39;s true. On the other hand, I make caching in the service, not the repo. Another issue I was confused after reading another [Baeldung](https://www.baeldung.com/spring-data-testing-cacheable) tutorial is, can I implement **Unit Test** for caching (or can I just Integration test). Can I?","body":"That&#39;s true. On the other hand, I make caching in the service, not the repo. Another issue I was confused after reading another <a href=\"https://www.baeldung.com/spring-data-testing-cacheable\" rel=\"nofollow noreferrer\">Baeldung</a> tutorial is, can I implement <b>Unit Test</b> for caching (or can I just Integration test). Can I?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632727775,"post_id":69313791,"comment_id":122561078,"body_markdown":"Another issue is that, I have tried all of your suggestion but it was not working. I think maybe I need a proper Unit Test example of Cache testing for Spring. I have a look at, but most of them missed parts and for a beginner, I have difficulties for adapting that examples to my tests. Any suggestion or example code?","body":"Another issue is that, I have tried all of your suggestion but it was not working. I think maybe I need a proper Unit Test example of Cache testing for Spring. I have a look at, but most of them missed parts and for a beginner, I have difficulties for adapting that examples to my tests. Any suggestion or example code?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632728655,"post_id":69313791,"comment_id":122561391,"body_markdown":"There is no caching in your service. Also the link you provide is an integration test **not** unit test. If you have the caching as in that you cannot mock your repository as that contains the caching. Finally your service code doesn&#39;t make sense (the implementation) you are calling the same method on the repo with different results, why call it twice? All the information is there and if you implemented caching in the proper way it should work, if it doesn&#39;t work there is something you aren&#39;t showing that fails to make it work, but that information is lacking.","body":"There is no caching in your service. Also the link you provide is an integration test <b>not</b> unit test. If you have the caching as in that you cannot mock your repository as that contains the caching. Finally your service code doesn&#39;t make sense (the implementation) you are calling the same method on the repo with different results, why call it twice? All the information is there and if you implemented caching in the proper way it should work, if it doesn&#39;t work there is something you aren&#39;t showing that fails to make it work, but that information is lacking."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632729494,"post_id":69313791,"comment_id":122561718,"body_markdown":"Do you mean that I can test caching via Integration test? Or can I also use Unit Test for that? Which one would you suggest?","body":"Do you mean that I can test caching via Integration test? Or can I also use Unit Test for that? Which one would you suggest?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632731139,"post_id":69313791,"comment_id":122562386,"body_markdown":"You cannot test using a unit test, as caching requires AOP, which requires a context, thus an integration test.","body":"You cannot test using a unit test, as caching requires AOP, which requires a context, thus an integration test."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632735924,"post_id":69313791,"comment_id":122564435,"body_markdown":"What about my update? It is working now and I think it is ok to test caching via **Unit Test** as well as Integration Test. Any comment regarding to the updated code? Is that ok, or do you have any suggestion related to that?","body":"What about my update? It is working now and I think it is ok to test caching via <b>Unit Test</b> as well as Integration Test. Any comment regarding to the updated code? Is that ok, or do you have any suggestion related to that?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632737644,"post_id":69313791,"comment_id":122565163,"body_markdown":"That isn&#39;t a unit test that is an integration test (also the extend with is useless here, the `@INjectMocks` doesn&#39;t work as as there are no mocks (or something mst have changed. ). an `@SpringBootTest` is an integration test **not** a unit test. It starts the whole application and you aren&#39;t testing a unit in isolation (the definition of a unit test).,","body":"That isn&#39;t a unit test that is an integration test (also the extend with is useless here, the <code>@INjectMocks</code> doesn&#39;t work as as there are no mocks (or something mst have changed. ). an <code>@SpringBootTest</code> is an integration test <b>not</b> a unit test. It starts the whole application and you aren&#39;t testing a unit in isolation (the definition of a unit test).,"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632738446,"post_id":69313791,"comment_id":122565464,"body_markdown":"**BUT** if I remove the parts that you mentioned except from `@ExtendWith(MockitoExtension.class)`, it does not work.","body":"<b>BUT</b> if I remove the parts that you mentioned except from <code>@ExtendWith(MockitoExtension.class)</code>, it does not work."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632743523,"post_id":69313791,"comment_id":122567433,"body_markdown":"The combinatin simply doesn&#39;t make sense. `@Autowired` with `@InjectMocks` is useless, you either autowire something or you inject mocks with mockito not both. The `@MockBean` is a spring annotation not a mockito annotation (that should be `@Mock`). So the combination simply doesn&#39;t make sense. So with this you should either endup with an integration test with `@SpringBootTest` and have spring boot do the mocking with `@MockBean` or an error because there are no mocks in your service... Or your code is totally different that what you have shown here.","body":"The combinatin simply doesn&#39;t make sense. <code>@Autowired</code> with <code>@InjectMocks</code> is useless, you either autowire something or you inject mocks with mockito not both. The <code>@MockBean</code> is a spring annotation not a mockito annotation (that should be <code>@Mock</code>). So the combination simply doesn&#39;t make sense. So with this you should either endup with an integration test with <code>@SpringBootTest</code> and have spring boot do the mocking with <code>@MockBean</code> or an error because there are no mocks in your service... Or your code is totally different that what you have shown here."}],"answers":[{"tags":[],"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632735045,"creation_date":1632481913,"answer_id":69314050,"question_id":69313791,"body_markdown":"Mockito does not simulate your springt boot application. It just mocks the annotated objects and injects your mock objects into your labelService.\r\n\r\nOn the other hand to test a spring boot application @Autowired is not enough.\r\n\r\nYou have to build a Spring Boot Integration Test.\r\nTo do this annotate your Test with @SpringBootTest.\r\nThis initializes a real Application Context.\r\n\r\n\r\ntry to autowire, LabelService\r\n\r\n    package com.demo;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    @Service\r\n    public class LabelService\r\n    {\r\n        public String getLabel()\r\n        {\r\n            return &quot;Test Label &quot; + System.currentTimeMillis();\r\n        }\r\n    }\r\n    \r\n    package com.demo;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    @SpringBootTest\r\n    public class CachingTest\r\n    {\r\n        @Autowired\r\n        private LabelService labelService;\r\n    \r\n        @Test\r\n        public void testLabelService()\r\n        {\r\n            assertNotNull(labelService);\r\n        }\r\n    }\r\n\r\n\r\nthis works\r\n\r\n","title":"Java / Spring: Cannot test Caching in Unit Test","body":"<p>Mockito does not simulate your springt boot application. It just mocks the annotated objects and injects your mock objects into your labelService.</p>\n<p>On the other hand to test a spring boot application @Autowired is not enough.</p>\n<p>You have to build a Spring Boot Integration Test.\nTo do this annotate your Test with @SpringBootTest.\nThis initializes a real Application Context.</p>\n<p>try to autowire, LabelService</p>\n<pre><code>package com.demo;\n\nimport org.springframework.stereotype.Service;\n@Service\npublic class LabelService\n{\n    public String getLabel()\n    {\n        return &quot;Test Label &quot; + System.currentTimeMillis();\n    }\n}\n\npackage com.demo;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\npublic class CachingTest\n{\n    @Autowired\n    private LabelService labelService;\n\n    @Test\n    public void testLabelService()\n    {\n        assertNotNull(labelService);\n    }\n}\n</code></pre>\n<p>this works</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7836,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632751361,"creation_date":1632480713,"question_id":69313791,"body_markdown":"In my Java application I am trying to test the following service method with a Unit Test:\r\n\r\n```\r\n@Service\r\n@EnableCaching\r\n@RequiredArgsConstructor\r\npublic class LabelServiceImpl implements LabelService {\r\n\r\n    private static final String CACHE_NAME = &quot;demoCache&quot;;\r\n\r\n    private final LabelRepository labelRepository;\r\n\r\n\r\n    @Override\r\n    public List&lt;LabelDTO&gt; findByUuid(UUID uuid) {\r\n        final Label label = labelRepository.findByUuid(uuid)\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found.&quot;));\r\n        final List&lt;LabelDTO&gt; labelList = labelRepository.findByUuid(uuid);\r\n        return labelList;\r\n    }\r\n}\r\n```\r\n\r\nHere is my Unit Test:\r\n\r\n```\r\n@Import({CacheConfig.class, LabelServiceImpl.class})\r\n@ExtendWith(SpringExtension.class)\r\n@EnableCaching\r\n@ImportAutoConfiguration(classes = {\r\n        CacheAutoConfiguration.class,\r\n        RedisAutoConfiguration.class\r\n})\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class CachingTest {\r\n\r\n    @InjectMocks\r\n    private LabelServiceImpl labelService;\r\n\r\n    @Autowired\r\n    private CacheManager cacheManager;\r\n\r\n\r\n    @Mock\r\n    private LabelRepository labelRepository;\r\n\r\n\r\n    @Test\r\n    void givenRedisCaching_whenFindUuid_thenReturnFromCache() {\r\n\r\n        //code omitted \r\n        \r\n        LabelDTO labelFromDb = labelService.findByUuid(uuid);\r\n        LabelDTO labelFromCache = labelService.findByUuid(uuid);\r\n        verify(labelRepository, times(1)).findByUuid(uuid);\r\n    }\r\n}\r\n```\r\n\r\nWhen I use `@Autowired` for `LabelServiceImpl` in the Unit Test, I get &quot;*Nullpointer exception*&quot; error. If I use `@InjectMocks` annotation for that instance, then there is no error, but no caching is done (it calls `labelService.findByUuid` 2 times instead of 1). \r\n\r\nI think I made a mistake related to the annotations in Unit Test class, but I tried many different combinations and cannot solve the problem. \r\n\r\nSo, how can I fix the problem? \r\n\r\n**Update:** Finally I fixed the problem by using the following approach. However, I also had to update the `mockito-core` version from `3.3.3` to `3.7.0` as shown below. Otherwise I was getting &quot;*java.lang.NoSuchMethodError: org.mockito.MockitoAnnotations.openMocks(Ljava/lang/Object;)Ljava/lang/AutoCloseable;*&quot; error.\r\n\r\n\r\n***pom.xml:***\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.7.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n***CachingTest:***\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@SpringBootTest\r\npublic class CachingTest {\r\n\r\n    @Autowired\r\n    @InjectMocks\r\n    private LabelServiceImpl labelService;\r\n\t\t\r\n    @MockBean\r\n    private LabelRepository labelRepository;\r\n\r\n    @Test\r\n    public void givenRedisCaching_whenFindUuid_thenReturnFromCache() {\r\n\t\t//code omitted \r\n        \r\n        LabelDTO labelFromDb = labelService.findByUuid(uuid);\r\n        LabelDTO labelFromCache = labelService.findByUuid(uuid);\r\n        verify(labelRepository, times(1)).findByUuid(uuid);\r\n        assertEquals(labelFromDb, labelFromCache);\t\t\t\t\r\n    }\r\n}\r\n```","title":"Java / Spring: Cannot test Caching in Unit Test","body":"<p>In my Java application I am trying to test the following service method with a Unit Test:</p>\n<pre><code>@Service\n@EnableCaching\n@RequiredArgsConstructor\npublic class LabelServiceImpl implements LabelService {\n\n    private static final String CACHE_NAME = &quot;demoCache&quot;;\n\n    private final LabelRepository labelRepository;\n\n\n    @Override\n    public List&lt;LabelDTO&gt; findByUuid(UUID uuid) {\n        final Label label = labelRepository.findByUuid(uuid)\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found.&quot;));\n        final List&lt;LabelDTO&gt; labelList = labelRepository.findByUuid(uuid);\n        return labelList;\n    }\n}\n</code></pre>\n<p>Here is my Unit Test:</p>\n<pre><code>@Import({CacheConfig.class, LabelServiceImpl.class})\n@ExtendWith(SpringExtension.class)\n@EnableCaching\n@ImportAutoConfiguration(classes = {\n        CacheAutoConfiguration.class,\n        RedisAutoConfiguration.class\n})\n@RunWith(MockitoJUnitRunner.class)\npublic class CachingTest {\n\n    @InjectMocks\n    private LabelServiceImpl labelService;\n\n    @Autowired\n    private CacheManager cacheManager;\n\n\n    @Mock\n    private LabelRepository labelRepository;\n\n\n    @Test\n    void givenRedisCaching_whenFindUuid_thenReturnFromCache() {\n\n        //code omitted \n        \n        LabelDTO labelFromDb = labelService.findByUuid(uuid);\n        LabelDTO labelFromCache = labelService.findByUuid(uuid);\n        verify(labelRepository, times(1)).findByUuid(uuid);\n    }\n}\n</code></pre>\n<p>When I use <code>@Autowired</code> for <code>LabelServiceImpl</code> in the Unit Test, I get &quot;<em>Nullpointer exception</em>&quot; error. If I use <code>@InjectMocks</code> annotation for that instance, then there is no error, but no caching is done (it calls <code>labelService.findByUuid</code> 2 times instead of 1).</p>\n<p>I think I made a mistake related to the annotations in Unit Test class, but I tried many different combinations and cannot solve the problem.</p>\n<p>So, how can I fix the problem?</p>\n<p><strong>Update:</strong> Finally I fixed the problem by using the following approach. However, I also had to update the <code>mockito-core</code> version from <code>3.3.3</code> to <code>3.7.0</code> as shown below. Otherwise I was getting &quot;<em>java.lang.NoSuchMethodError: org.mockito.MockitoAnnotations.openMocks(Ljava/lang/Object;)Ljava/lang/AutoCloseable;</em>&quot; error.</p>\n<p><em><strong>pom.xml:</strong></em></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><em><strong>CachingTest:</strong></em></p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@SpringBootTest\npublic class CachingTest {\n\n    @Autowired\n    @InjectMocks\n    private LabelServiceImpl labelService;\n        \n    @MockBean\n    private LabelRepository labelRepository;\n\n    @Test\n    public void givenRedisCaching_whenFindUuid_thenReturnFromCache() {\n        //code omitted \n        \n        LabelDTO labelFromDb = labelService.findByUuid(uuid);\n        LabelDTO labelFromCache = labelService.findByUuid(uuid);\n        verify(labelRepository, times(1)).findByUuid(uuid);\n        assertEquals(labelFromDb, labelFromCache);              \n    }\n}\n</code></pre>\n"},{"tags":["java","command-line","command-prompt"],"comments":[{"owner":{"account_id":2915811,"reputation":10602,"user_id":2499035,"accept_rate":100,"display_name":"resueman"},"score":3,"creation_date":1456176722,"post_id":35564270,"comment_id":58816791,"body_markdown":"You&#39;ll need to find a Java decompiler for that. Even then, it won&#39;t be the same as the .java files used to make it. Compiling is a one way street.","body":"You&#39;ll need to find a Java decompiler for that. Even then, it won&#39;t be the same as the .java files used to make it. Compiling is a one way street."},{"owner":{"account_id":358411,"reputation":719,"user_id":699165,"accept_rate":89,"display_name":"Karuna"},"score":0,"creation_date":1456176886,"post_id":35564270,"comment_id":58816894,"body_markdown":"I tried using JD plugin but using that i can actually view .class files. so looking for compiling the .class jar files into .java files so that i can import them into my eclipse as project and debug on it.","body":"I tried using JD plugin but using that i can actually view .class files. so looking for compiling the .class jar files into .java files so that i can import them into my eclipse as project and debug on it."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1456177002,"post_id":35564270,"comment_id":58816946,"body_markdown":"@Karuna If it doesn&#39;t have to be command-line, I believe JD-GUI has an option to export a JAR of source files, which you can then un-JAR.","body":"@Karuna If it doesn&#39;t have to be command-line, I believe JD-GUI has an option to export a JAR of source files, which you can then un-JAR."},{"owner":{"account_id":358411,"reputation":719,"user_id":699165,"accept_rate":89,"display_name":"Karuna"},"score":0,"creation_date":1456185071,"post_id":35564270,"comment_id":58820710,"body_markdown":"got it thanks immibis &amp; resueman.","body":"got it thanks immibis &amp; resueman."}],"answers":[{"tags":[],"owner":{"account_id":3250713,"reputation":5045,"user_id":2741091,"accept_rate":73,"display_name":"ifly6"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1632751359,"creation_date":1456176718,"answer_id":35564307,"question_id":35564270,"body_markdown":"The [JD-CMD](https://github.com/kwart/jd-cmd) GitHub project claims to be able to do so. However, most people I know use [JD-GUI](http://jd.benow.ca).\r\n\r\n&gt; JD-Core is a library that reconstructs Java source code from one or more “.class” files. JD-Core may be used to recover lost source code and explore the source of Java runtime libraries. New features of Java 5, such as annotations, generics or type “enum”, are supported. JD-GUI and JD-Eclipse include JD-Core library.\r\n\r\nI should include that when a source file is compiled, things like the variable assignment and the names of those variables are changed. Similarly, syntactic sugar is changed into what it actually is (such as `x += i` turns into `x = x + i`).","title":"How to decompile a jar into .java files from command prompt","body":"<p>The <a href=\"https://github.com/kwart/jd-cmd\" rel=\"nofollow noreferrer\">JD-CMD</a> GitHub project claims to be able to do so. However, most people I know use <a href=\"http://jd.benow.ca\" rel=\"nofollow noreferrer\">JD-GUI</a>.</p>\n<blockquote>\n<p>JD-Core is a library that reconstructs Java source code from one or more “.class” files. JD-Core may be used to recover lost source code and explore the source of Java runtime libraries. New features of Java 5, such as annotations, generics or type “enum”, are supported. JD-GUI and JD-Eclipse include JD-Core library.</p>\n</blockquote>\n<p>I should include that when a source file is compiled, things like the variable assignment and the names of those variables are changed. Similarly, syntactic sugar is changed into what it actually is (such as <code>x += i</code> turns into <code>x = x + i</code>).</p>\n"},{"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1524076959,"creation_date":1524076959,"answer_id":49906852,"question_id":35564270,"body_markdown":"I found that [*jd-cmd*][1] does the job just fine, and works recursively in sub-folders for multiple files. To decompile a group of files on the command line, run the following commands:\r\n\r\n1. Download the JAR file from [here][2] as the [*jd-cmd* `README.md` file][3].\r\n1. Create the directory where your output Java files will be located.\r\n1. Run the command to decompile the files: `java -jar jd-cli.jar -od &lt;my-output-folder&gt; &lt;my-input-folder&gt;`.\r\n\r\n\r\n  [1]: https://github.com/kwart/jd-cmd\r\n  [2]: https://github.com/kwart/jd-cmd/releases/tag/jd-cmd-0.9.2.Final\r\n  [3]: https://github.com/kwart/jd-cmd/blob/master/README.md","title":"How to decompile a jar into .java files from command prompt","body":"<p>I found that <a href=\"https://github.com/kwart/jd-cmd\" rel=\"noreferrer\"><em>jd-cmd</em></a> does the job just fine, and works recursively in sub-folders for multiple files. To decompile a group of files on the command line, run the following commands:</p>\n\n<ol>\n<li>Download the JAR file from <a href=\"https://github.com/kwart/jd-cmd/releases/tag/jd-cmd-0.9.2.Final\" rel=\"noreferrer\">here</a> as the <a href=\"https://github.com/kwart/jd-cmd/blob/master/README.md\" rel=\"noreferrer\"><em>jd-cmd</em> <code>README.md</code> file</a>.</li>\n<li>Create the directory where your output Java files will be located.</li>\n<li>Run the command to decompile the files: <code>java -jar jd-cli.jar -od &lt;my-output-folder&gt; &lt;my-input-folder&gt;</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":200189,"reputation":20266,"user_id":445908,"accept_rate":79,"display_name":"Siwei"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1615961678,"creation_date":1615961678,"answer_id":66667868,"question_id":35564270,"body_markdown":"in 2021, seems the command line is more simple: \r\n\r\ndecompile target.jar to `jar_result` folder, and output the log with `ALL` levels. \r\n\r\n```\r\n$ jd-cli target.jar -od jar_result -g ALL\r\n```\r\n\r\n","title":"How to decompile a jar into .java files from command prompt","body":"<p>in 2021, seems the command line is more simple:</p>\n<p>decompile target.jar to <code>jar_result</code> folder, and output the log with <code>ALL</code> levels.</p>\n<pre><code>$ jd-cli target.jar -od jar_result -g ALL\n</code></pre>\n"}],"owner":{"account_id":358411,"reputation":719,"user_id":699165,"accept_rate":89,"display_name":"Karuna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71747,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":35564307,"answer_count":3,"score":23,"last_activity_date":1632751359,"creation_date":1456176605,"question_id":35564270,"body_markdown":"How can I decompile a JAR (`.class` binary files) into `.java` source files from command prompt?\r\n","title":"How to decompile a jar into .java files from command prompt","body":"<p>How can I decompile a JAR (<code>.class</code> binary files) into <code>.java</code> source files from command prompt?</p>\n"},{"tags":["java","spring","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":19383629,"reputation":118,"user_id":14174293,"display_name":"jwwallin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632751119,"creation_date":1632740325,"answer_id":69345445,"question_id":69345083,"body_markdown":"It seems to me that the `filterDirectory` query-parameter is used in conjunction with the [File Language.](https://camel.apache.org/components/latest/languages/file-language.html) That means that you would have to construct a filter that in essence produces a boolean result. Something akin to `filterDirectory=&quot;${file:name} == ${date:now:yyyy/DDD}&quot;`.\r\n\r\n&lt;s&gt;NOTE: I have not verified this myself.&lt;/s&gt;\r\n\r\n### EDIT: I have now verified my hunch\r\n\r\nThe following works and only reads the file `2.txt`.\r\n\r\n```java\r\n@Component\r\npublic class SampleFileRoute extends RouteBuilder {\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;file://folder?recursive=true&amp;filterDirectory=${file:name} == 2021&quot;)\r\n                .log(&quot;${header.CamelFileRelativePath}&quot;);\r\n    }\r\n}\r\n```\r\n```\r\n&#128230;folder\r\n ┣ &#128194;2020\r\n ┃ ┣ &#128220;1.txt\r\n ┗ &#128194;2021\r\n ┃ ┣ &#128220;2.txt\r\n```","title":"What &#39;filterDirectory&#39; of Camel File component does?","body":"<p>It seems to me that the <code>filterDirectory</code> query-parameter is used in conjunction with the <a href=\"https://camel.apache.org/components/latest/languages/file-language.html\" rel=\"nofollow noreferrer\">File Language.</a> That means that you would have to construct a filter that in essence produces a boolean result. Something akin to <code>filterDirectory=&quot;${file:name} == ${date:now:yyyy/DDD}&quot;</code>.</p>\n<p><s>NOTE: I have not verified this myself.</s></p>\n<h3>EDIT: I have now verified my hunch</h3>\n<p>The following works and only reads the file <code>2.txt</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SampleFileRoute extends RouteBuilder {\n    @Override\n    public void configure() throws Exception {\n        from(&quot;file://folder?recursive=true&amp;filterDirectory=${file:name} == 2021&quot;)\n                .log(&quot;${header.CamelFileRelativePath}&quot;);\n    }\n}\n</code></pre>\n<pre><code>📦folder\n ┣ 📂2020\n ┃ ┣ 📜1.txt\n ┗ 📂2021\n ┃ ┣ 📜2.txt\n</code></pre>\n"}],"owner":{"account_id":14508757,"reputation":452,"user_id":10479804,"display_name":"Andrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69345445,"answer_count":1,"score":0,"last_activity_date":1632751119,"creation_date":1632738509,"question_id":69345083,"body_markdown":"I wonder what is the purpose of &#39;filterDirectory&#39; parameter in Camel File component. I didn&#39;t managed to find any examples with this property. According to [docs][1]: \r\n\r\n&gt; Filters the directory based on Simple language. For example to filter on current date, you can use a simple date pattern such as $\\{date:now:yyyMMdd}.\r\n\r\nI wrote some sample route to check it behaviour:\r\n\r\n    public class FilterDirectoryRoute extends RouteBuilder {\r\n\r\n    private static final String FILE = &quot;file:&quot;;\r\n    private static final String START_DIR = &quot;C:/test/camel/filterDirectoryRoute&quot;;\r\n\r\n    private final Map&lt;String, String&gt; params = Map.of(\r\n      &quot;noop&quot;, &quot;true&quot;,\r\n      &quot;recursive&quot;, &quot;true&quot;,\r\n      &quot;filterDirectory&quot;, &quot;${date:now:yyyy/DDD}&quot;\r\n    );\r\n\r\n    @Override\r\n    public void configure() {\r\n\r\n    from(FILE + START_DIR + fileParams(params))\r\n        .log(DEBUG, log, &quot;date = ${date:now:yyyy/DDD}&quot;)\r\n        .log(DEBUG, log, &quot;body = ${body}&quot;)\r\n        .end();\r\n      }\r\n    }\r\n\r\n  [1]: https://camel.apache.org/components/latest/file-component.html\r\n\r\nThere is next structure of `filterDirectoryRoute` directory:\r\n\r\n    &#128230;filterDirectoryRoute\r\n     ┣ &#128194;2020\r\n     ┃ ┣ &#128220;1.txt\r\n     ┃ ┣ &#128220;105.txt\r\n     ┃ ┗ &#128220;15.txt\r\n     ┗ &#128194;2021\r\n     ┃ ┣ &#128194;268\r\n     ┃ ┃ ┗ &#128220;268.txt\r\n     ┃ ┣ &#128194;269\r\n     ┃ ┃ ┗ &#128220;269.txt\r\n     ┃ ┣ &#128194;270\r\n     ┃ ┃ ┗ &#128220;270.txt\r\n     ┃ ┣ &#128194;271\r\n     ┃ ┃ ┗ &#128220;271.txt\r\n     ┃ ┣ &#128194;272\r\n     ┃ ┃ ┗ &#128220;272.txt\r\n\r\nWith such configuration the route just traverse all files in directory and read it. So the `filterDirectory` has no effect as it doesn&#39;t enter `2021/270` (270 is the current day of the year).\r\n\r\nIf I delete `recursive` parameter no files are processed as there are no files in starting directory directly.\r\n\r\n**So the question is**: how `filterDirectory` option can be used and what it does?","title":"What &#39;filterDirectory&#39; of Camel File component does?","body":"<p>I wonder what is the purpose of 'filterDirectory' parameter in Camel File component. I didn't managed to find any examples with this property. According to <a href=\"https://camel.apache.org/components/latest/file-component.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Filters the directory based on Simple language. For example to filter on current date, you can use a simple date pattern such as ${date:now:yyyMMdd}.</p>\n</blockquote>\n<p>I wrote some sample route to check it behaviour:</p>\n<pre><code>public class FilterDirectoryRoute extends RouteBuilder {\n\nprivate static final String FILE = &quot;file:&quot;;\nprivate static final String START_DIR = &quot;C:/test/camel/filterDirectoryRoute&quot;;\n\nprivate final Map&lt;String, String&gt; params = Map.of(\n  &quot;noop&quot;, &quot;true&quot;,\n  &quot;recursive&quot;, &quot;true&quot;,\n  &quot;filterDirectory&quot;, &quot;${date:now:yyyy/DDD}&quot;\n);\n\n@Override\npublic void configure() {\n\nfrom(FILE + START_DIR + fileParams(params))\n    .log(DEBUG, log, &quot;date = ${date:now:yyyy/DDD}&quot;)\n    .log(DEBUG, log, &quot;body = ${body}&quot;)\n    .end();\n  }\n}\n</code></pre>\n<p>There is next structure of <code>filterDirectoryRoute</code> directory:</p>\n<pre><code>📦filterDirectoryRoute\n ┣ 📂2020\n ┃ ┣ 📜1.txt\n ┃ ┣ 📜105.txt\n ┃ ┗ 📜15.txt\n ┗ 📂2021\n ┃ ┣ 📂268\n ┃ ┃ ┗ 📜268.txt\n ┃ ┣ 📂269\n ┃ ┃ ┗ 📜269.txt\n ┃ ┣ 📂270\n ┃ ┃ ┗ 📜270.txt\n ┃ ┣ 📂271\n ┃ ┃ ┗ 📜271.txt\n ┃ ┣ 📂272\n ┃ ┃ ┗ 📜272.txt\n</code></pre>\n<p>With such configuration the route just traverse all files in directory and read it. So the <code>filterDirectory</code> has no effect as it doesn't enter <code>2021/270</code> (270 is the current day of the year).</p>\n<p>If I delete <code>recursive</code> parameter no files are processed as there are no files in starting directory directly.</p>\n<p><strong>So the question is</strong>: how <code>filterDirectory</code> option can be used and what it does?</p>\n"},{"tags":["java","android","video-streaming","exoplayer2.x","adaptive-bitrate"],"owner":{"account_id":3062890,"reputation":31,"user_id":2595217,"display_name":"shiv prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632751014,"creation_date":1632751014,"question_id":69347944,"body_markdown":"I have an android app where using exoplayer 2.8.2 for playing HLS streams. It&#39;s working with adaptive bit rate but it always starts with the lowest stream instead of a higher stream even on a very high-speed network. I have tried to set the default max initial bandwidth to Integer.MAX_VALUE but it is not working.\r\n\r\n    final long defaultMaxInitialBitrate = Integer.MAX_VALUE;\r\n     DefaultBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter.Builder()\r\n              .setInitialBitrateEstimate(defaultMaxInitialBitrate)\r\n              .build();\r\n    \r\n     TrackSelection.Factory videoTrackSelectionFactory =\r\n     new AdaptiveTrackSelection.Factory(bandwidthMeter);\r\n    \r\n     trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\r\n    \r\n     player = ExoPlayerFactory.newSimpleInstance(getContext(), trackSelector);\r\n    \r\n     DataSource.Factory mediaDataSourceFactory = new DefaultDataSourceFactory(getContext(), Util.getUserAgent(getContext(), getString(R.string.app_name)));\r\n    \r\n      if (currentGalleryModel.mediaUrl != null) {\r\n     mediaSource = new HlsMediaSource(Uri.parse(currentGalleryModel.mediaUrl),\r\n     mediaDataSourceFactory, null, null);\r\n     player.setPlayWhenReady(false);\r\n     player.prepare(mediaSource);\r\n     }\r\n\r\nDoes someone know how I pick a higher bandwidth stream by default? \r\n\r\n","title":"Exo player 2.8.2 always starts with lo bandwidth stream","body":"<p>I have an android app where using exoplayer 2.8.2 for playing HLS streams. It's working with adaptive bit rate but it always starts with the lowest stream instead of a higher stream even on a very high-speed network. I have tried to set the default max initial bandwidth to Integer.MAX_VALUE but it is not working.</p>\n<pre><code>final long defaultMaxInitialBitrate = Integer.MAX_VALUE;\n DefaultBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter.Builder()\n          .setInitialBitrateEstimate(defaultMaxInitialBitrate)\n          .build();\n\n TrackSelection.Factory videoTrackSelectionFactory =\n new AdaptiveTrackSelection.Factory(bandwidthMeter);\n\n trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\n\n player = ExoPlayerFactory.newSimpleInstance(getContext(), trackSelector);\n\n DataSource.Factory mediaDataSourceFactory = new DefaultDataSourceFactory(getContext(), Util.getUserAgent(getContext(), getString(R.string.app_name)));\n\n  if (currentGalleryModel.mediaUrl != null) {\n mediaSource = new HlsMediaSource(Uri.parse(currentGalleryModel.mediaUrl),\n mediaDataSourceFactory, null, null);\n player.setPlayWhenReady(false);\n player.prepare(mediaSource);\n }\n</code></pre>\n<p>Does someone know how I pick a higher bandwidth stream by default?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-ec2"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1632742046,"post_id":69344810,"comment_id":122566844,"body_markdown":"If you launched any of these EC2 instances with an IAM role then I presume you are familiar with IAM policies so you can work out which have S3 access, programmatically or otherwise. Can you clarify what you mean by &quot;Instances having console account&quot;? Do you mean EC2 instances that were launched with a key pair (for SSH access)?","body":"If you launched any of these EC2 instances with an IAM role then I presume you are familiar with IAM policies so you can work out which have S3 access, programmatically or otherwise. Can you clarify what you mean by &quot;Instances having console account&quot;? Do you mean EC2 instances that were launched with a key pair (for SSH access)?"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632750639,"creation_date":1632750639,"answer_id":69347846,"question_id":69344810,"body_markdown":"There are quite a few example of using the Java V2 EC2 API to obtain information about an EC2 instance in the Github repo here:\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/example_code/ec2/src/main/java/com/example/ec2\r\n\r\nHowever, the information that you are seeking - such as Instances having S3 access - is not part of the API. For example, there is no method exposed by the EC2 Java API that provides information about Amazon S3 access. \r\n\r\nI recommend that you look at the [EC2 Client JavaDocs][1] to learn about the available functionality of this API.\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/ec2/Ec2Client.html","title":"Getting information from an Amazon EC2 instance using Java SDK","body":"<p>There are quite a few example of using the Java V2 EC2 API to obtain information about an EC2 instance in the Github repo here:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/example_code/ec2/src/main/java/com/example/ec2\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/example_code/ec2/src/main/java/com/example/ec2</a></p>\n<p>However, the information that you are seeking - such as Instances having S3 access - is not part of the API. For example, there is no method exposed by the EC2 Java API that provides information about Amazon S3 access.</p>\n<p>I recommend that you look at the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/ec2/Ec2Client.html\" rel=\"nofollow noreferrer\">EC2 Client JavaDocs</a> to learn about the available functionality of this API.</p>\n"}],"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1632750848,"creation_date":1632737158,"question_id":69344810,"body_markdown":"I am looking to read the following information from my running Amazon EC2 instances.\r\n\r\n 1. Instances having S3 access\r\n 2. Instances having console account\r\n 3. Instances having Elastic IP and having Elastic IP open to the internet.\r\n\r\nI have found the [Developer Guide here][1] but am unable to get the above details. I am new to AWS SDK. How do I get the above details? Is there any API available for that? Thanks a lot\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-ec2.html","title":"Getting information from an Amazon EC2 instance using Java SDK","body":"<p>I am looking to read the following information from my running Amazon EC2 instances.</p>\n<ol>\n<li>Instances having S3 access</li>\n<li>Instances having console account</li>\n<li>Instances having Elastic IP and having Elastic IP open to the internet.</li>\n</ol>\n<p>I have found the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-ec2.html\" rel=\"nofollow noreferrer\">Developer Guide here</a> but am unable to get the above details. I am new to AWS SDK. How do I get the above details? Is there any API available for that? Thanks a lot</p>\n"},{"tags":["java","oracle","spring-boot","hibernate"],"comments":[{"owner":{"account_id":16500740,"reputation":528,"user_id":11922121,"display_name":"Beltway"},"score":0,"creation_date":1632745608,"post_id":69346437,"comment_id":122568213,"body_markdown":"Couldn&#39;t you order the result of `getSearchUniques` explicitly to preserve order?","body":"Couldn&#39;t you order the result of <code>getSearchUniques</code> explicitly to preserve order?"},{"owner":{"account_id":805239,"reputation":438,"user_id":898083,"accept_rate":22,"display_name":"ysnky"},"score":0,"creation_date":1632746475,"post_id":69346437,"comment_id":122568588,"body_markdown":"so far not but i will add order. i would like to figure out underlying reason of the bug.","body":"so far not but i will add order. i would like to figure out underlying reason of the bug."},{"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"score":0,"creation_date":1632746678,"post_id":69346437,"comment_id":122568677,"body_markdown":"What is `getSearchUniques` returning, depending on the implemented type, it can be ordered or not.","body":"What is <code>getSearchUniques</code> returning, depending on the implemented type, it can be ordered or not."},{"owner":{"account_id":805239,"reputation":438,"user_id":898083,"accept_rate":22,"display_name":"ysnky"},"score":0,"creation_date":1632748538,"post_id":69346437,"comment_id":122569484,"body_markdown":"although implementation is not changed, data is not change, data order is changed when application restarted. in first case data order; AAA, XYZ, 123 and in second case 123, XYZ, AAA. is it possible?","body":"although implementation is not changed, data is not change, data order is changed when application restarted. in first case data order; AAA, XYZ, 123 and in second case 123, XYZ, AAA. is it possible?"},{"owner":{"account_id":7551181,"reputation":3744,"user_id":5732537,"display_name":"EdStevens"},"score":3,"creation_date":1632748648,"post_id":69346437,"comment_id":122569531,"body_markdown":"In a relational database, there is no inherent &#39;order&#39; to rows in a table.  Even a primary key is not an &#39;ordering&#39; mechanism.  If you need things returned in a specific order you must use the ORDER BY clause.","body":"In a relational database, there is no inherent &#39;order&#39; to rows in a table.  Even a primary key is not an &#39;ordering&#39; mechanism.  If you need things returned in a specific order you must use the ORDER BY clause."},{"owner":{"account_id":805239,"reputation":438,"user_id":898083,"accept_rate":22,"display_name":"ysnky"},"score":0,"creation_date":1632765213,"post_id":69346437,"comment_id":122576491,"body_markdown":"so you mean it may return data in different orders at each run  same query for same data?","body":"so you mean it may return data in different orders at each run  same query for same data?"}],"owner":{"account_id":805239,"reputation":438,"user_id":898083,"accept_rate":22,"display_name":"ysnky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632750499,"creation_date":1632744937,"question_id":69346437,"body_markdown":"I have a lookup table and read data from this table. Each row order is import since I generate key via these rows data. So far I have not used order index and I&#39;ve discovered an interesting bug. It generates key string in different order.\r\n\r\nI wonder if it is possible reading order changes for same data when I restart application?\r\n\r\nkey generator code;\r\n\r\n``` java\r\nString key = &quot;&quot;;\r\nfor (SearchUnique unique : searchModel.getConfig().getSearchUniques()) {\r\n\tkey += &quot;_&quot; + unique.getData();\r\n}\r\nreturn key;\r\n```\r\n\r\nfor same data;\r\n\r\nfirst key: _AAA_XYZ_123\r\nsecond key: _123_XYZ_AAA\r\n\r\n","title":"Default order changes for same data","body":"<p>I have a lookup table and read data from this table. Each row order is import since I generate key via these rows data. So far I have not used order index and I've discovered an interesting bug. It generates key string in different order.</p>\n<p>I wonder if it is possible reading order changes for same data when I restart application?</p>\n<p>key generator code;</p>\n<pre class=\"lang-java prettyprint-override\"><code>String key = &quot;&quot;;\nfor (SearchUnique unique : searchModel.getConfig().getSearchUniques()) {\n    key += &quot;_&quot; + unique.getData();\n}\nreturn key;\n</code></pre>\n<p>for same data;</p>\n<p>first key: _AAA_XYZ_123\nsecond key: _123_XYZ_AAA</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":5961770,"reputation":6071,"user_id":4686729,"display_name":"Clint"},"score":0,"creation_date":1632644524,"post_id":69333019,"comment_id":122544484,"body_markdown":"I think the another exception is being thrown before &quot;IllegalArgException&quot;","body":"I think the another exception is being thrown before &quot;IllegalArgException&quot;"},{"owner":{"account_id":15886198,"reputation":13,"user_id":11462490,"display_name":"Dang Nguyen"},"score":0,"creation_date":1632645787,"post_id":69333019,"comment_id":122544705,"body_markdown":"i think receive is getting 1 Exception, but it is trying to cast to an Integer value.","body":"i think receive is getting 1 Exception, but it is trying to cast to an Integer value."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632750294,"creation_date":1632750294,"answer_id":69347756,"question_id":69333019,"body_markdown":"`@RabbitListener.returnExceptions()`.\r\n\r\n```java\r\n\t/**\r\n\t * Set to &quot;true&quot; to cause exceptions thrown by the listener to be sent to the sender\r\n\t * using normal {@code replyTo/@SendTo} semantics. When false, the exception is thrown\r\n\t * to the listener container and normal retry/DLQ processing is performed.\r\n\t * @return true to return exceptions. If the client side uses a\r\n\t * {@code RemoteInvocationAwareMessageConverterAdapter} the exception will be re-thrown.\r\n\t * Otherwise, the sender will receive a {@code RemoteInvocationResult} wrapping the\r\n\t * exception.\r\n\t * @since 2.0\r\n\t */\r\n\tString returnExceptions() default &quot;&quot;;\r\n```\r\n\r\nHowever, this will only work with Java serialization (not JSON) because exceptions are generally not JSON-friendly.\r\n\r\nThe alternative is to add an `errorHandler` and return some special value to tell the client that an exception occurred.\r\n\r\nhttps://docs.spring.io/spring-amqp/docs/current/reference/html/#annotation-error-handling","title":"How to handle exception RabbitMQ Microservice","body":"<p><code>@RabbitListener.returnExceptions()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Set to &quot;true&quot; to cause exceptions thrown by the listener to be sent to the sender\n     * using normal {@code replyTo/@SendTo} semantics. When false, the exception is thrown\n     * to the listener container and normal retry/DLQ processing is performed.\n     * @return true to return exceptions. If the client side uses a\n     * {@code RemoteInvocationAwareMessageConverterAdapter} the exception will be re-thrown.\n     * Otherwise, the sender will receive a {@code RemoteInvocationResult} wrapping the\n     * exception.\n     * @since 2.0\n     */\n    String returnExceptions() default &quot;&quot;;\n</code></pre>\n<p>However, this will only work with Java serialization (not JSON) because exceptions are generally not JSON-friendly.</p>\n<p>The alternative is to add an <code>errorHandler</code> and return some special value to tell the client that an exception occurred.</p>\n<p><a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#annotation-error-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#annotation-error-handling</a></p>\n"}],"owner":{"account_id":15886198,"reputation":13,"user_id":11462490,"display_name":"Dang Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69347756,"answer_count":1,"score":0,"last_activity_date":1632750294,"creation_date":1632644226,"question_id":69333019,"body_markdown":"I using spring boot rabbitMQ Sender.\r\nMethod returns `Integer`\r\n\r\n    try {\r\n    \treturn rabbitTemplate.convertSendAndReceive(exchange, routingKey,\r\n    \t\tmapper.writeValueAsString(request),\r\n    \t\tcorrelationData);\r\n    } catch (Exception e) {\r\n    \tlog.error(e.getMessage(), e);\r\n    }\r\n\r\nand on the receiver side, reply:\r\n\r\n    @RabbitListener(queues = &quot;testQueue&quot;, returnExceptions = &quot;true&quot;)\r\n    public class TestReply {\r\n    \r\n    \t@RabbitHandler\r\n    \tpublic Integer handle(String message) throws JsonProcessingException {\r\n    \t\tthrow new IllegalArgumentException()\r\n    \t}\r\n    }\r\n\r\nI want to handle `IllegalArgumentException` in the sender. But the fact I get is\r\n\r\n    org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\r\n    Cannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)\r\n\r\nPlease help me!\r\n","title":"How to handle exception RabbitMQ Microservice","body":"<p>I using spring boot rabbitMQ Sender.\nMethod returns <code>Integer</code></p>\n<pre><code>try {\n    return rabbitTemplate.convertSendAndReceive(exchange, routingKey,\n        mapper.writeValueAsString(request),\n        correlationData);\n} catch (Exception e) {\n    log.error(e.getMessage(), e);\n}\n</code></pre>\n<p>and on the receiver side, reply:</p>\n<pre><code>@RabbitListener(queues = &quot;testQueue&quot;, returnExceptions = &quot;true&quot;)\npublic class TestReply {\n\n    @RabbitHandler\n    public Integer handle(String message) throws JsonProcessingException {\n        throw new IllegalArgumentException()\n    }\n}\n</code></pre>\n<p>I want to handle <code>IllegalArgumentException</code> in the sender. But the fact I get is</p>\n<pre><code>org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\nCannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)\n</code></pre>\n<p>Please help me!</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632142364,"post_id":69254480,"comment_id":122405868,"body_markdown":"Stick with your current way.","body":"Stick with your current way."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632750220,"creation_date":1632143100,"answer_id":69254944,"question_id":69254480,"body_markdown":"Well, you are now grouping by a single property each time.\r\n\r\nBut you could also group by the desiring properties at once:\r\n\r\nFirst, create a `GroupingKey` record:\r\n\r\n```java\r\npublic static record GroupingKey(String type, String breed) {\r\n    public static GroupingKey of(Animal animal) {\r\n        return new GroupingKey(animal.getTypeOfAnimal(), animal.getBreed());\r\n    }\r\n}\r\n```\r\n\r\nThis helps us to define on which fields the animal is grouped.\r\n\r\nThen we define a `merge` method, which helps to merge two animals.\r\n\r\n```java\r\nprivate static Animal merge(Animal a, Animal b) {\r\n    int age = (a != null ? a.getAge() : 0);\r\n    return new Animal(b.getTypeOfAnimal(), b.getBreed(), age + b.getAge());\r\n}\r\n```\r\n\r\nAnd then you could just reduce once:\r\n\r\n```java\r\nMap&lt;GroupingKey, Animal&gt; map = animals.stream()\r\n    .collect(groupingBy(GroupingKey::of, reducing(null, t -&gt; merge(t))));\r\n```\r\n\r\nThen by calling `values()`, you could retrieve a `Collection` with all `Animal`s.","title":"Is it possible to reduce a Java Stream&lt;T&gt; to a new Stream&lt;T&gt; solely with the reduce function","body":"<p>Well, you are now grouping by a single property each time.</p>\n<p>But you could also group by the desiring properties at once:</p>\n<p>First, create a <code>GroupingKey</code> record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static record GroupingKey(String type, String breed) {\n    public static GroupingKey of(Animal animal) {\n        return new GroupingKey(animal.getTypeOfAnimal(), animal.getBreed());\n    }\n}\n</code></pre>\n<p>This helps us to define on which fields the animal is grouped.</p>\n<p>Then we define a <code>merge</code> method, which helps to merge two animals.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Animal merge(Animal a, Animal b) {\n    int age = (a != null ? a.getAge() : 0);\n    return new Animal(b.getTypeOfAnimal(), b.getBreed(), age + b.getAge());\n}\n</code></pre>\n<p>And then you could just reduce once:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;GroupingKey, Animal&gt; map = animals.stream()\n    .collect(groupingBy(GroupingKey::of, reducing(null, t -&gt; merge(t))));\n</code></pre>\n<p>Then by calling <code>values()</code>, you could retrieve a <code>Collection</code> with all <code>Animal</code>s.</p>\n"}],"owner":{"account_id":2097800,"reputation":430,"user_id":1866193,"accept_rate":78,"display_name":"APW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69254944,"answer_count":1,"score":0,"last_activity_date":1632750220,"creation_date":1632141096,"question_id":69254480,"body_markdown":"I am trying to reduce a stream of objects to a new stream of the same object type by removing duplicates based on specific properties and increment the value for those properties. In the animal example below I would be matching the typeOfAnimal then breed and summing the age in the new animal. So a list of:\r\n\r\n```JSON\r\n[\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 5},\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 3},\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Poodle&quot;, &quot;age&quot;: 7},\r\n  {&quot;typeOfAnimal&quot;: &quot;cat&quot;, &quot;breed&quot;: &quot;Bengal&quot;, &quot;age&quot;: 1}\r\n]\r\n```\r\n\r\nThe result should look like this:\r\n\r\n```JSON\r\n[\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 8},\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Poodle&quot;, &quot;age&quot;: 7},\r\n  {&quot;typeOfAnimal&quot;: &quot;cat&quot;, &quot;breed&quot;: &quot;Bengal&quot;, &quot;age&quot;: 1}\r\n]\r\n```\r\n\r\nSo far to achieve this result I have had to use the *groupingBy* and *reducing* collectors because I have been unable to write this as a single *reducer* operator. Here is my working example:\r\n\r\n```Java\r\nStream&lt;Animal&gt; results = animals\r\n    .stream()\r\n    .collect(\r\n        groupingBy(Animal::getTypeOfAnimal,\r\n            groupingBy(Animal::getBreed,\r\n                reducing(\r\n                    new Animal().withAge(0),\r\n                    (a,c) -&gt; new Animal()\r\n                        .withTypeOfAnimal(c.getTypeOfAnimal())\r\n                        .withBreed(c.getBreed())\r\n                        .withAge(c.getAge() + a.getAge())))))\r\n    .values()\r\n    .stream()\r\n    .flatMap(a -&gt; a.values().stream());\r\n```\r\n\r\nDoes the *reduce* operator allow for this or do I need to stick with the current example? My preference for a single reducer function is because my actual code has more levels and therefore more *groupingBy* statements","title":"Is it possible to reduce a Java Stream&lt;T&gt; to a new Stream&lt;T&gt; solely with the reduce function","body":"<p>I am trying to reduce a stream of objects to a new stream of the same object type by removing duplicates based on specific properties and increment the value for those properties. In the animal example below I would be matching the typeOfAnimal then breed and summing the age in the new animal. So a list of:</p>\n<pre><code>[\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 5},\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 3},\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Poodle&quot;, &quot;age&quot;: 7},\n  {&quot;typeOfAnimal&quot;: &quot;cat&quot;, &quot;breed&quot;: &quot;Bengal&quot;, &quot;age&quot;: 1}\n]\n</code></pre>\n<p>The result should look like this:</p>\n<pre><code>[\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 8},\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Poodle&quot;, &quot;age&quot;: 7},\n  {&quot;typeOfAnimal&quot;: &quot;cat&quot;, &quot;breed&quot;: &quot;Bengal&quot;, &quot;age&quot;: 1}\n]\n</code></pre>\n<p>So far to achieve this result I have had to use the <em>groupingBy</em> and <em>reducing</em> collectors because I have been unable to write this as a single <em>reducer</em> operator. Here is my working example:</p>\n<pre><code>Stream&lt;Animal&gt; results = animals\n    .stream()\n    .collect(\n        groupingBy(Animal::getTypeOfAnimal,\n            groupingBy(Animal::getBreed,\n                reducing(\n                    new Animal().withAge(0),\n                    (a,c) -&gt; new Animal()\n                        .withTypeOfAnimal(c.getTypeOfAnimal())\n                        .withBreed(c.getBreed())\n                        .withAge(c.getAge() + a.getAge())))))\n    .values()\n    .stream()\n    .flatMap(a -&gt; a.values().stream());\n</code></pre>\n<p>Does the <em>reduce</em> operator allow for this or do I need to stick with the current example? My preference for a single reducer function is because my actual code has more levels and therefore more <em>groupingBy</em> statements</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"score":0,"creation_date":1632841001,"post_id":69344424,"comment_id":122599817,"body_markdown":"Did you find any solution?","body":"Did you find any solution?"}],"answers":[{"tags":[],"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632736180,"creation_date":1632736180,"answer_id":69344602,"question_id":69344424,"body_markdown":"You&#39;re not waiting for the task to be completed hence the `submitResults.isDone()` returns false and code terminates. Call `submitResults.get()` before the if condition, it will block the execution of the code until the callable completes its execution and you&#39;ll see that &quot;Task Executed&quot; will be printed.\r\nMore info can be found [here][1] and [here][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html\r\n  [2]: https://www.baeldung.com/java-future","title":"Executor Service isDone() behavior","body":"<p>You're not waiting for the task to be completed hence the <code>submitResults.isDone()</code> returns false and code terminates. Call <code>submitResults.get()</code> before the if condition, it will block the execution of the code until the callable completes its execution and you'll see that &quot;Task Executed&quot; will be printed.\nMore info can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/java-future\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632749977,"creation_date":1632749977,"answer_id":69347681,"question_id":69344424,"body_markdown":"When you call submitResults.isDone() your callableTask has not completed yet, and so isDone() returns false. Since your condition returns false, you don&#39;t execute your print statement, and so you won&#39;t see &quot;Task Executed&quot; even when your task completes.\r\n\r\nTo wait until the task has completed, remove the call to isDone(), and just rely on submitResults.get() to block until the task completes.\r\n\r\n     Future&lt;String&gt; submitResults = service.submit(callableTask);\r\n\r\n         try {\r\n             System.out.println(submitResults.get());\r\n             service.shutdown(); // ...\r\n","title":"Executor Service isDone() behavior","body":"<p>When you call submitResults.isDone() your callableTask has not completed yet, and so isDone() returns false. Since your condition returns false, you don't execute your print statement, and so you won't see &quot;Task Executed&quot; even when your task completes.</p>\n<p>To wait until the task has completed, remove the call to isDone(), and just rely on submitResults.get() to block until the task completes.</p>\n<pre><code> Future&lt;String&gt; submitResults = service.submit(callableTask);\n\n     try {\n         System.out.println(submitResults.get());\n         service.shutdown(); // ...\n</code></pre>\n"}],"owner":{"account_id":22700977,"reputation":39,"user_id":16868405,"display_name":"Abdulmalik Mahasneh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1632749977,"creation_date":1632735412,"question_id":69344424,"body_markdown":"I&#39;m new to learning Java multithreading. I started with this simple code but it seems that \r\n`submitResults.isDone()` never returns true. \r\n\r\nI&#39;m expecting that &quot;Task Executed&quot; should be printed as a result but I get an empty console.\r\n\r\nHere is my simple class:\r\n\r\n   \r\n    public class FuturesExample {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            FuturesExample.executeThreadScheduler();\r\n        }\r\n    \r\n        static void executeThreadScheduler()\r\n        {\r\n            ExecutorService service = Executors.newFixedThreadPool(10);\r\n            Callable&lt;String&gt; callableTask = ()-&gt;{\r\n                TimeUnit.MILLISECONDS.sleep(300);\r\n                return &quot;Task Executed&quot; ;\r\n            };\r\n    \r\n            Future&lt;String&gt; submitResults = service.submit(callableTask);\r\n    \r\n                try {\r\n                    if(submitResults.isDone())\r\n    \r\n                    {\r\n                        System.out.println(submitResults.get());\r\n                    }\r\n                    service.shutdown();\r\n                    if(!service.awaitTermination(800,TimeUnit.MILLISECONDS))\r\n                    {\r\n                        service.shutdownNow();\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    service.shutdownNow();\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n    \r\n        }\r\n\r\n","title":"Executor Service isDone() behavior","body":"<p>I'm new to learning Java multithreading. I started with this simple code but it seems that\n<code>submitResults.isDone()</code> never returns true.</p>\n<p>I'm expecting that &quot;Task Executed&quot; should be printed as a result but I get an empty console.</p>\n<p>Here is my simple class:</p>\n<pre><code>public class FuturesExample {\n\n    public static void main(String[] args) {\n\n        FuturesExample.executeThreadScheduler();\n    }\n\n    static void executeThreadScheduler()\n    {\n        ExecutorService service = Executors.newFixedThreadPool(10);\n        Callable&lt;String&gt; callableTask = ()-&gt;{\n            TimeUnit.MILLISECONDS.sleep(300);\n            return &quot;Task Executed&quot; ;\n        };\n\n        Future&lt;String&gt; submitResults = service.submit(callableTask);\n\n            try {\n                if(submitResults.isDone())\n\n                {\n                    System.out.println(submitResults.get());\n                }\n                service.shutdown();\n                if(!service.awaitTermination(800,TimeUnit.MILLISECONDS))\n                {\n                    service.shutdownNow();\n                }\n            } catch (InterruptedException e) {\n                service.shutdownNow();\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","solr","amazon-cloudsearch"],"answers":[{"tags":[],"owner":{"account_id":1306180,"reputation":2681,"user_id":1255142,"display_name":"alexroussos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1440453022,"creation_date":1440453022,"answer_id":32192324,"question_id":32190138,"body_markdown":"You&#39;re correct that CloudSearch doesn&#39;t have an equivalent to deleteByQuery. Your approach looks like the next best thing.\r\n\r\nAnd no, `version` is not necessary -- it was removed with the CloudSearch 01-01-2013 API (aka v2).","title":"CloudSearch deleteByQuery","body":"<p>You're correct that CloudSearch doesn't have an equivalent to deleteByQuery. Your approach looks like the next best thing.</p>\n\n<p>And no, <code>version</code> is not necessary -- it was removed with the CloudSearch 01-01-2013 API (aka v2).</p>\n"},{"tags":[],"owner":{"account_id":1659635,"reputation":158,"user_id":1528164,"display_name":"Muhammad Manazar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458849668,"creation_date":1458849668,"answer_id":36209060,"question_id":32190138,"body_markdown":"CloudSearch doesn&#39;t provide delete as query, it supports delete in a slightly different way i.e. build json object having only document id (to be deleted) and operation should be specified as delete. These json objects can be batched together but batch size has to be less than 5 MB. \r\n\r\nFollowing class supports this functionality, you just pass its delete method the array of ids to be deleted:\r\n\r\n    class AWS_CS\r\n    {\r\n    \tprotected $client;\r\n    \t\t\r\n    \tfunction connect($domain)\r\n    \t{\r\n    \t\ttry{\r\n    \t\t\t$csClient = CloudSearchClient::factory(array(\r\n    \t\t\t                &#39;key&#39;          =&gt; &#39;YOUR_KEY&#39;,\r\n    \t\t\t                &#39;secret&#39;      =&gt; &#39;YOUR_SECRET&#39;,\r\n    \t\t\t                &#39;region&#39;     =&gt;  &#39;us-east-1&#39;\r\n    \t\t\t                \r\n    \t\t\t            ));\r\n    \t\t\t\t\t\t\r\n    \t\t\t$this-&gt;client = $csClient-&gt;getDomainClient(\r\n    \t\t\t            $domain,\r\n    \t\t\t            array(\r\n    \t\t\t                &#39;credentials&#39; =&gt; $csClient-&gt;getCredentials(),\r\n    \t\t\t                &#39;scheme&#39; =&gt; &#39;HTTPS&#39;\r\n    \t\t\t            )\r\n    \t\t\t        );\r\n    \t\t}\r\n    \t\tcatch(Exception $ex){\r\n    \t\t\techo &quot;Exception: &quot;;\r\n    \t\t\techo $ex-&gt;getMessage();\r\n    \t\t}\r\n    \t\t//$this-&gt;client-&gt;addSubscriber(LogPlugin::getDebugPlugin());\t\t\r\n    \t}\r\n    \tfunction search($queryStr, $domain){\r\n    \t\t\r\n    \t\t$this-&gt;connect($domain);\r\n    \t\t\r\n    \t\t$result = $this-&gt;client-&gt;search(array(\r\n    \t\t\t&#39;query&#39; =&gt; $queryStr,\r\n    \t\t\t&#39;queryParser&#39; =&gt; &#39;lucene&#39;,\r\n    \t\t\t&#39;size&#39; =&gt; 100,\r\n    \t\t\t&#39;return&#39; =&gt; &#39;_score,_all_fields&#39;\r\n    \t\t\t))-&gt;toArray();\r\n    \r\n    \t\treturn json_encode($result[&#39;hits&#39;]);\r\n    \t\t//$hitCount = $result-&gt;getPath(&#39;hits/found&#39;);\r\n    \t\t//echo &quot;Number of Hits: {$hitCount}\\n&quot;;\r\n    \t}\r\n    \t\r\n    \tfunction deleteDocs($idArray, $operation = &#39;delete&#39;){\r\n    \r\n    \t\t$batch = array();\r\n    \r\n    \t\tforeach($idArray as $id){\r\n    \t\t\t//dumpArray($song);\r\n    \t\t\t$batch[] = array(\r\n    \t\t\t            &#39;type&#39;        =&gt; $operation,\r\n    \t\t\t            &#39;id&#39;        =&gt; $id);\t\t\t           \r\n    \t\t}\r\n    \t\t$batch = array_filter($batch);\r\n    \t\t$jsonObj = json_encode($batch, JSON_HEX_TAG | JSON_HEX_APOS | JSON_HEX_QUOT | JSON_HEX_AMP);\r\n    \t\t\r\n    \t\tprint_r($this-&gt;client-&gt;uploadDocuments(array(\r\n    \t\t                &#39;documents&#39;     =&gt; $jsonObj,\r\n    \t\t                &#39;contentType&#39;     =&gt;&#39;application/json&#39;\r\n    \t\t            )));\r\n    \t\t\r\n    \t\treturn $result[&#39;status&#39;] == &#39;success&#39; ? mb_strlen($jsonObj) : 0;\r\n    \t} \t\r\n    }\r\n\r\n","title":"CloudSearch deleteByQuery","body":"<p>CloudSearch doesn't provide delete as query, it supports delete in a slightly different way i.e. build json object having only document id (to be deleted) and operation should be specified as delete. These json objects can be batched together but batch size has to be less than 5 MB. </p>\n\n<p>Following class supports this functionality, you just pass its delete method the array of ids to be deleted:</p>\n\n<pre><code>class AWS_CS\n{\n    protected $client;\n\n    function connect($domain)\n    {\n        try{\n            $csClient = CloudSearchClient::factory(array(\n                            'key'          =&gt; 'YOUR_KEY',\n                            'secret'      =&gt; 'YOUR_SECRET',\n                            'region'     =&gt;  'us-east-1'\n\n                        ));\n\n            $this-&gt;client = $csClient-&gt;getDomainClient(\n                        $domain,\n                        array(\n                            'credentials' =&gt; $csClient-&gt;getCredentials(),\n                            'scheme' =&gt; 'HTTPS'\n                        )\n                    );\n        }\n        catch(Exception $ex){\n            echo \"Exception: \";\n            echo $ex-&gt;getMessage();\n        }\n        //$this-&gt;client-&gt;addSubscriber(LogPlugin::getDebugPlugin());        \n    }\n    function search($queryStr, $domain){\n\n        $this-&gt;connect($domain);\n\n        $result = $this-&gt;client-&gt;search(array(\n            'query' =&gt; $queryStr,\n            'queryParser' =&gt; 'lucene',\n            'size' =&gt; 100,\n            'return' =&gt; '_score,_all_fields'\n            ))-&gt;toArray();\n\n        return json_encode($result['hits']);\n        //$hitCount = $result-&gt;getPath('hits/found');\n        //echo \"Number of Hits: {$hitCount}\\n\";\n    }\n\n    function deleteDocs($idArray, $operation = 'delete'){\n\n        $batch = array();\n\n        foreach($idArray as $id){\n            //dumpArray($song);\n            $batch[] = array(\n                        'type'        =&gt; $operation,\n                        'id'        =&gt; $id);                       \n        }\n        $batch = array_filter($batch);\n        $jsonObj = json_encode($batch, JSON_HEX_TAG | JSON_HEX_APOS | JSON_HEX_QUOT | JSON_HEX_AMP);\n\n        print_r($this-&gt;client-&gt;uploadDocuments(array(\n                        'documents'     =&gt; $jsonObj,\n                        'contentType'     =&gt;'application/json'\n                    )));\n\n        return $result['status'] == 'success' ? mb_strlen($jsonObj) : 0;\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22874015,"reputation":1,"user_id":17016627,"display_name":"Meena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632749872,"creation_date":1632749872,"answer_id":69347650,"question_id":32190138,"body_markdown":"Modified for C# - Deleting uploaded document in cloud search\r\n\r\n     public void DeleteUploadedDocuments(string location)\r\n        {\r\n            SearchRequest searchRequest = new SearchRequest { };\r\n            searchRequest = new SearchRequest { Query = &quot;resourcename:&#39;filepath&#39;&quot;, QueryParser = QueryParser.Lucene, Size = 10000 };\r\n            searchClient = new AmazonCloudSearchDomainClient( ConfigurationManager.AppSettings[&quot;awsAccessKeyId&quot;]  ,  ConfigurationManager.AppSettings[&quot;awsSecretAccessKey&quot;]  , new AmazonCloudSearchDomainConfig { ServiceURL = ConfigurationManager.AppSettings[&quot;CloudSearchEndPoint&quot;] });\r\n\r\n            SearchResponse searchResponse = searchClient.Search(searchRequest);\r\n            JArray docs = new JArray();\r\n\r\n            foreach (Hit hit in searchResponse.Hits.Hit)\r\n            {\r\n                JObject doc = new JObject();\r\n                doc.Add(&quot;id&quot;, hit.Id);\r\n                doc.Add(&quot;type&quot;, &quot;delete&quot;);\r\n                docs.Add(doc);\r\n            }\r\n\r\n            UpdateIndexDocument&lt;JArray&gt;(docs, ConfigurationManager.AppSettings[&quot;CloudSearchEndPoint&quot;]);\r\n        }\r\n\r\n        public void UpdateIndexDocument&lt;T&gt;(T document, string DocumentUrl)\r\n        {\r\n            AmazonCloudSearchDomainConfig config = new AmazonCloudSearchDomainConfig { ServiceURL = DocumentUrl };\r\n            AmazonCloudSearchDomainClient searchClient = new AmazonCloudSearchDomainClient( ConfigurationManager.AppSettings[&quot;awsAccessKeyId&quot;]  ,  ConfigurationManager.AppSettings[&quot;awsSecretAccessKey&quot;]   , config);\r\n            using (Stream stream = GenerateStreamFromString(JsonConvert.SerializeObject(document)))\r\n            {\r\n                UploadDocumentsRequest upload = new UploadDocumentsRequest()\r\n                {\r\n                    ContentType = &quot;application/json&quot;,\r\n                    Documents = stream\r\n                };\r\n                searchClient.UploadDocuments(upload);\r\n            };\r\n\r\n        }\r\n","title":"CloudSearch deleteByQuery","body":"<p>Modified for C# - Deleting uploaded document in cloud search</p>\n<pre><code> public void DeleteUploadedDocuments(string location)\n    {\n        SearchRequest searchRequest = new SearchRequest { };\n        searchRequest = new SearchRequest { Query = &quot;resourcename:'filepath'&quot;, QueryParser = QueryParser.Lucene, Size = 10000 };\n        searchClient = new AmazonCloudSearchDomainClient( ConfigurationManager.AppSettings[&quot;awsAccessKeyId&quot;]  ,  ConfigurationManager.AppSettings[&quot;awsSecretAccessKey&quot;]  , new AmazonCloudSearchDomainConfig { ServiceURL = ConfigurationManager.AppSettings[&quot;CloudSearchEndPoint&quot;] });\n\n        SearchResponse searchResponse = searchClient.Search(searchRequest);\n        JArray docs = new JArray();\n\n        foreach (Hit hit in searchResponse.Hits.Hit)\n        {\n            JObject doc = new JObject();\n            doc.Add(&quot;id&quot;, hit.Id);\n            doc.Add(&quot;type&quot;, &quot;delete&quot;);\n            docs.Add(doc);\n        }\n\n        UpdateIndexDocument&lt;JArray&gt;(docs, ConfigurationManager.AppSettings[&quot;CloudSearchEndPoint&quot;]);\n    }\n\n    public void UpdateIndexDocument&lt;T&gt;(T document, string DocumentUrl)\n    {\n        AmazonCloudSearchDomainConfig config = new AmazonCloudSearchDomainConfig { ServiceURL = DocumentUrl };\n        AmazonCloudSearchDomainClient searchClient = new AmazonCloudSearchDomainClient( ConfigurationManager.AppSettings[&quot;awsAccessKeyId&quot;]  ,  ConfigurationManager.AppSettings[&quot;awsSecretAccessKey&quot;]   , config);\n        using (Stream stream = GenerateStreamFromString(JsonConvert.SerializeObject(document)))\n        {\n            UploadDocumentsRequest upload = new UploadDocumentsRequest()\n            {\n                ContentType = &quot;application/json&quot;,\n                Documents = stream\n            };\n            searchClient.UploadDocuments(upload);\n        };\n\n    }\n</code></pre>\n"}],"owner":{"account_id":5441092,"reputation":299,"user_id":4329173,"accept_rate":40,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32192324,"answer_count":3,"score":3,"last_activity_date":1632749872,"creation_date":1440444273,"question_id":32190138,"body_markdown":"The official Solr Java API has a deleteByQuery operation where we can delete documents that satisfy a query. The AWS CloudSearch SDK doesn&#39;t seem to have matching functionality. Am I just not seeing the deleteByQuery equivalent, or is this something we&#39;ll need to roll our own?\r\n\r\nSomething like this:\r\n\r\n    SearchRequest searchRequest = new SearchRequest();\r\n    searchRequest.setQuery(queryString);\r\n    searchRequest.setReturn(&quot;id,version&quot;);\r\n    SearchResult searchResult = awsCloudSearch.search(searchRequest);\r\n    JSONArray docs = new JSONArray();\r\n    for (Hit hit : searchResult.getHits().getHit()) {\r\n    \tJSONObject doc = new JSONObject();\r\n    \tdoc.put(&quot;id&quot;, hit.getId());\r\n    \t// is version necessary?\r\n    \tdoc.put(&quot;version&quot;, hit.getFields().get(&quot;version&quot;).get(0));\r\n    \tdoc.put(&quot;type&quot;, &quot;delete&quot;);\r\n    \tdocs.put(doc);\r\n    }\r\n    UploadDocumentsRequest uploadDocumentsRequest = new UploadDocumentsRequest();\r\n    StringInputStream documents = new StringInputStream(docs.toString());\r\n    uploadDocumentsRequest.setDocuments(documents);\r\n    UploadDocumentsResult uploadResult = awsCloudSearch.uploadDocuments(uploadDocumentsRequest);\r\n\r\nIs this reasonable? Is there an easier way?","title":"CloudSearch deleteByQuery","body":"<p>The official Solr Java API has a deleteByQuery operation where we can delete documents that satisfy a query. The AWS CloudSearch SDK doesn't seem to have matching functionality. Am I just not seeing the deleteByQuery equivalent, or is this something we'll need to roll our own?</p>\n\n<p>Something like this:</p>\n\n<pre><code>SearchRequest searchRequest = new SearchRequest();\nsearchRequest.setQuery(queryString);\nsearchRequest.setReturn(\"id,version\");\nSearchResult searchResult = awsCloudSearch.search(searchRequest);\nJSONArray docs = new JSONArray();\nfor (Hit hit : searchResult.getHits().getHit()) {\n    JSONObject doc = new JSONObject();\n    doc.put(\"id\", hit.getId());\n    // is version necessary?\n    doc.put(\"version\", hit.getFields().get(\"version\").get(0));\n    doc.put(\"type\", \"delete\");\n    docs.put(doc);\n}\nUploadDocumentsRequest uploadDocumentsRequest = new UploadDocumentsRequest();\nStringInputStream documents = new StringInputStream(docs.toString());\nuploadDocumentsRequest.setDocuments(documents);\nUploadDocumentsResult uploadResult = awsCloudSearch.uploadDocuments(uploadDocumentsRequest);\n</code></pre>\n\n<p>Is this reasonable? Is there an easier way?</p>\n"},{"tags":["java","authentication","ssl","ssl-certificate","jmx"],"owner":{"account_id":19877744,"reputation":101,"user_id":14562385,"display_name":"shibendra chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632749573,"creation_date":1632737911,"question_id":69344971,"body_markdown":"Introduction - I have a test JMX agent/server &amp; JMX client. Both are having SSL communication (2way) via command-line launching time JVM attribute set (with -D option). \r\n\r\nAgent/Server has `serverkeystore.jks`, and `servertruststore.jks`. Client has `clientkeystore.jks` &amp; `clienttruststore.jks. servertruststore.jks` has imported `client certificate. clienttruststore.jks` has imported `server certificate`. \r\nNote: jks are self signed (produced from keytool )\r\n\r\nThis is okay and working when both are launched from the command line with VM arguments \r\n```\r\n[ Agent/server side VM args in cmnd line  -Dcom.sun.management.jmxremote.port=9999 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=true -Dcom.sun.management.jmxremote.ssl.need.client.auth=true -Dcom.sun.management.jmxremote.registry.ssl=true -Djavax.net.ssl.keyStore=&quot;C:\\Task\\serverkeystore.jks&quot; -Djavax.net.ssl.keyStorePassword=serverpass -Djavax.net.ssl.trustStore=&quot;C:\\Task\\servertruststore.jks&quot; -Djavax.net.ssl.trustStorePassword=servertrustpass -Djdk.tls.server.protocols=TLSv1.2 -Djavax.net.debug=all. ] \r\n```\r\nWorking Okay\r\n```\r\n[ Client side VM args in cmd line -Djavax.net.ssl.trustStore=&quot;C:\\Task\\clienttruststore.jks&quot; -Djavax.net.ssl.trustStorePassword=clienttrustpass -Djavax.net.ssl.keyStore=&quot;C:\\Task\\clientkeystore.jks&quot; -Djavax.net.ssl.keyStorePassword=clientpass -Djdk.tls.client.protocols=TLSv1.2 ] \r\n```\r\nWorking Okay\r\n\r\nObjective - Using the same jks files as in the command line above, The requirement is now, not to use VM args as command line, rather set those from inside the program, so that those are not visible in deployment production time in commands like &quot;ps -fu&quot;. \r\n\r\nNote: Client-side and JMX calls are working okay when I use System.setProperty for all client VM args from inside client prog in client-side and connect the Agent/Server which is launched with VM args in the command line.\r\n\r\nSo the Issue is - For Agent /Server-side, although after all Vm args are set in System.setProperty, getProperty is returning values that are set, on server-side some extra code needs to be written. So when I google and found some code snippets which include - `LocateRegistry.createRegistry`, `JMXConnectorServerFactory.newJMXConnectorServer`, those are done. but somehow during SSL handshake its throwing error like :\r\n\r\n&lt;&lt; Error &gt;&gt;\r\n```\r\nFatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message\r\n```\r\n&lt;&lt; Stack trace in summary &gt;&gt; \r\n```\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.834 IST|TrustStoreManager.java:112|trustStore is: C:\\Task\\servertruststore.jks\r\ntrustStore type is: pkcs12\r\ntrustStore provider is:\r\nthe last modified time is: Mon Sep 20 19:41:21 IST 2021\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.836 IST|TrustStoreManager.java:311|Reload the trust store\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.993 IST|TrustStoreManager.java:318|Reload trust certs\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.994 IST|TrustStoreManager.java:323|Reloaded 1 trust certs\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.999 IST|X509TrustManagerImpl.java:79|adding as trusted certificates (\r\n  &quot;certificate&quot; : {\r\n    &quot;version&quot;            : &quot;v3&quot;,\r\n    &quot;serial number&quot;      : &quot;02 23 71 B2&quot;,\r\n    &quot;signature algorithm&quot;: &quot;SHA256withDSA&quot;,\r\n\r\n...\r\n...\r\n\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.001 IST|SSLContextImpl.java:1088|keyStore is : C:\\Task\\serverkeystore.jks\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.004 IST|SSLContextImpl.java:1089|keyStore type is : pkcs12\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.005 IST|SSLContextImpl.java:1091|keyStore provider is :\r\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:30.006 IST|SSLContextImpl.java:1126|init keystore\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.074 IST|SSLContextImpl.java:1149|init keymanager of type SunX509\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.137 IST|SunX509KeyManagerImpl.java:164|found key for : serverkey (\r\n  &quot;certificate&quot; : {\r\n    &quot;version&quot;            : &quot;v3&quot;,\r\n    &quot;serial number&quot;      : &quot;19 09 4F 95&quot;,\r\n    &quot;signature algorithm&quot;: &quot;SHA256withDSA&quot;,\r\n\r\n...\r\n...\r\n\r\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:30.137 IST|SSLContextImpl.java:115|trigger seeding of SecureRandom\r\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:31.572 IST|SSLContextImpl.java:119|done seeding of SecureRandom\r\n\r\nsystem properties are set\r\n\r\nCreate RMI registry on port 9999\r\n\r\nServer url is service:jmx:rmi:///jndi/rmi://:9999/jmxrmi\r\n\r\nStart the RMI connector server\r\n\r\n\r\njavax.net.ssl|DEBUG|0F|RMI TCP Accept-0|2021-09-27 15:11:31.830 IST|SSLConfiguration.java:457|System property jdk.tls.client.SignatureSchemes is set to &#39;null&#39;\r\n\r\njavax.net.ssl|DEBUG|0F|RMI TCP Accept-0|2021-09-27 15:11:31.838 \r\nIST|SSLConfiguration.java:457|System property jdk.tls.server.SignatureSchemes is set to &#39;null&#39;\r\n\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.854 IST|SSLSocketInputRecord.java:488|Raw read (\r\n  0000: 4A 52 4D 49 00                                     JRMI.\r\n)\r\n\r\njavax.net.ssl|ERROR|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.857 IST|TransportContext.java:341|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n        at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\r\n        at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:110)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\r\n\r\njavax.net.ssl|ALL|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.857 IST|SSLSessionImpl.java:784|Invalidated session:  Session(1632735691832|SSL_NULL_WITH_NULL_NULL)\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.865 IST|SSLSocketOutputRecord.java:71|WRITE: TLS12 alert(unexpected_message), length = 2\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.866 IST|SSLSocketOutputRecord.java:85|Raw write (\r\n  0000: 15 03 03 00 02 02 0A                               .......\r\n)\r\n\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.867 IST|SSLSocketImpl.java:1638|close the underlying socket\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.868 IST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\r\n\r\n\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(3)-172.24.160.1|2021-09-27 15:11:31.880 IST|SSLSocketInputRecord.java:488|Raw read (\r\n  0000: 4A 52 4D 49 00                                     JRMI.\r\n)\r\n\r\njavax.net.ssl|ERROR|15|RMI TCP Connection(3)-172.24.160.1|2021-09-27 15:11:31.881 IST|TransportContext.java:341|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n        at \r\njava.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\r\n```\r\n&lt;&lt; Agent / server code snippets &gt;&gt;\r\n```\r\n    boolean pwd_auth = false;\r\n    boolean pwd_auth = false;\r\n    boolean ssl_auth = true;\r\n    String strPort = &quot;9999&quot;;\r\n    int port = 9999;\r\n    env = new HashMap&lt;String,Object&gt;();\r\n    System.setProperty(&quot;com.sun.management.jmxremote.authenticate&quot;, String.valueOf(pwd_auth));\r\n    System.setProperty(&quot;com.sun.management.jmxremote.ssl&quot;, String.valueOf(ssl_auth));\r\n    System.setProperty(&quot;com.sun.management.jmxremote.registry.ssl&quot; , String.valueOf(ssl_auth));\r\n    System.setProperty(&quot;com.sun.management.jmxremote.ssl.need.client.auth&quot;, String.valueOf(ssl_auth));\r\n    System.setProperty(&quot;com.sun.management.jmxremote.port&quot;,strPort);\r\n    System.setProperty(&quot;com.sun.management.jmxremote.rmi.port&quot;,strPort);\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, Config.keyStoreFile);// &quot;C:\\\\Task\\\\serverkeystore.jks&quot;;\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, Config.keyStorePwd );\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot; , Config.trustStoreFile ); // &quot;C:\\\\Task\\\\servertruststore.jks&quot;;\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot; , Config.trustStorePwd);\r\n    System.setProperty(&quot;jdk.tls.server.protocols&quot;, Config.protocol); // TLSv1.2\r\n\r\n    env.put(RMIConnectorServer.RMI_SERVER_SOCKET_FACTORY_ATTRIBUTE, new SslRMIServerSocketFactory()); // if i comment this, then no exception in trace, but then during client connection, server will not respond, client gets failure in connection.\r\n    \r\n    echo(&quot;system properties are set&quot;);\r\n    echo(&quot;Create RMI registry on port &quot; + port); // system out only\r\n    LocateRegistry.createRegistry(port);\r\n    mbs = ManagementFactory.getPlatformMBeanServer();\r\n    String strUrl = &quot;service:jmx:rmi:///jndi/rmi://:&quot;+port+&quot;/jmxrmi&quot;;\r\n    JMXServiceURL url = new JMXServiceURL(strUrl);\r\n    echo (&quot;Server url is &quot; + strUrl);\r\n    JMXConnectorServer cs = JMXConnectorServerFactory.newJMXConnectorServer(url, env, mbs);\r\n    echo(&quot;Start the RMI connector server&quot;);\r\n    cs.start();\r\n\r\n    Hello mbean = new Hello(); // MBean registering now\r\n    name = new ObjectName(Config.oname);\r\n    mbs.registerMBean(mbean, name);\r\n ```    \r\n    Note: For VM args in the command line, this system.setProperty, env, createRegistry, newJMXConnectorServer calls are not required, Only MBeans registration is enough.\r\n    \r\n\r\nSo, from the stack trace, it shows, the jks files are read with passwords provided in `System.setProperty` calls. so this setProperty is working. but somehow something more code statements are required or I am missing something in code statements. \r\n\r\nCan anyone suggest any improvements, changes to be done to make this happen?\r\n\r\n\t\t\r\n\r\n\r\n\t\t\r\n\t\t","title":"JMX Agent Server - launch agent with SSL attributes set inside Programme","body":"<p>Introduction - I have a test JMX agent/server &amp; JMX client. Both are having SSL communication (2way) via command-line launching time JVM attribute set (with -D option).</p>\n<p>Agent/Server has <code>serverkeystore.jks</code>, and <code>servertruststore.jks</code>. Client has <code>clientkeystore.jks</code> &amp; <code>clienttruststore.jks. servertruststore.jks</code> has imported <code>client certificate. clienttruststore.jks</code> has imported <code>server certificate</code>.\nNote: jks are self signed (produced from keytool )</p>\n<p>This is okay and working when both are launched from the command line with VM arguments</p>\n<pre><code>[ Agent/server side VM args in cmnd line  -Dcom.sun.management.jmxremote.port=9999 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=true -Dcom.sun.management.jmxremote.ssl.need.client.auth=true -Dcom.sun.management.jmxremote.registry.ssl=true -Djavax.net.ssl.keyStore=&quot;C:\\Task\\serverkeystore.jks&quot; -Djavax.net.ssl.keyStorePassword=serverpass -Djavax.net.ssl.trustStore=&quot;C:\\Task\\servertruststore.jks&quot; -Djavax.net.ssl.trustStorePassword=servertrustpass -Djdk.tls.server.protocols=TLSv1.2 -Djavax.net.debug=all. ] \n</code></pre>\n<p>Working Okay</p>\n<pre><code>[ Client side VM args in cmd line -Djavax.net.ssl.trustStore=&quot;C:\\Task\\clienttruststore.jks&quot; -Djavax.net.ssl.trustStorePassword=clienttrustpass -Djavax.net.ssl.keyStore=&quot;C:\\Task\\clientkeystore.jks&quot; -Djavax.net.ssl.keyStorePassword=clientpass -Djdk.tls.client.protocols=TLSv1.2 ] \n</code></pre>\n<p>Working Okay</p>\n<p>Objective - Using the same jks files as in the command line above, The requirement is now, not to use VM args as command line, rather set those from inside the program, so that those are not visible in deployment production time in commands like &quot;ps -fu&quot;.</p>\n<p>Note: Client-side and JMX calls are working okay when I use System.setProperty for all client VM args from inside client prog in client-side and connect the Agent/Server which is launched with VM args in the command line.</p>\n<p>So the Issue is - For Agent /Server-side, although after all Vm args are set in System.setProperty, getProperty is returning values that are set, on server-side some extra code needs to be written. So when I google and found some code snippets which include - <code>LocateRegistry.createRegistry</code>, <code>JMXConnectorServerFactory.newJMXConnectorServer</code>, those are done. but somehow during SSL handshake its throwing error like :</p>\n<p>&lt;&lt; Error &gt;&gt;</p>\n<pre><code>Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message\n</code></pre>\n<p>&lt;&lt; Stack trace in summary &gt;&gt;</p>\n<pre><code>javax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.834 IST|TrustStoreManager.java:112|trustStore is: C:\\Task\\servertruststore.jks\ntrustStore type is: pkcs12\ntrustStore provider is:\nthe last modified time is: Mon Sep 20 19:41:21 IST 2021\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.836 IST|TrustStoreManager.java:311|Reload the trust store\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.993 IST|TrustStoreManager.java:318|Reload trust certs\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.994 IST|TrustStoreManager.java:323|Reloaded 1 trust certs\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.999 IST|X509TrustManagerImpl.java:79|adding as trusted certificates (\n  &quot;certificate&quot; : {\n    &quot;version&quot;            : &quot;v3&quot;,\n    &quot;serial number&quot;      : &quot;02 23 71 B2&quot;,\n    &quot;signature algorithm&quot;: &quot;SHA256withDSA&quot;,\n\n...\n...\n\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.001 IST|SSLContextImpl.java:1088|keyStore is : C:\\Task\\serverkeystore.jks\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.004 IST|SSLContextImpl.java:1089|keyStore type is : pkcs12\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.005 IST|SSLContextImpl.java:1091|keyStore provider is :\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:30.006 IST|SSLContextImpl.java:1126|init keystore\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.074 IST|SSLContextImpl.java:1149|init keymanager of type SunX509\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.137 IST|SunX509KeyManagerImpl.java:164|found key for : serverkey (\n  &quot;certificate&quot; : {\n    &quot;version&quot;            : &quot;v3&quot;,\n    &quot;serial number&quot;      : &quot;19 09 4F 95&quot;,\n    &quot;signature algorithm&quot;: &quot;SHA256withDSA&quot;,\n\n...\n...\n\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:30.137 IST|SSLContextImpl.java:115|trigger seeding of SecureRandom\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:31.572 IST|SSLContextImpl.java:119|done seeding of SecureRandom\n\nsystem properties are set\n\nCreate RMI registry on port 9999\n\nServer url is service:jmx:rmi:///jndi/rmi://:9999/jmxrmi\n\nStart the RMI connector server\n\n\njavax.net.ssl|DEBUG|0F|RMI TCP Accept-0|2021-09-27 15:11:31.830 IST|SSLConfiguration.java:457|System property jdk.tls.client.SignatureSchemes is set to 'null'\n\njavax.net.ssl|DEBUG|0F|RMI TCP Accept-0|2021-09-27 15:11:31.838 \nIST|SSLConfiguration.java:457|System property jdk.tls.server.SignatureSchemes is set to 'null'\n\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.854 IST|SSLSocketInputRecord.java:488|Raw read (\n  0000: 4A 52 4D 49 00                                     JRMI.\n)\n\njavax.net.ssl|ERROR|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.857 IST|TransportContext.java:341|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n        at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:110)\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n        at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\n\njavax.net.ssl|ALL|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.857 IST|SSLSessionImpl.java:784|Invalidated session:  Session(1632735691832|SSL_NULL_WITH_NULL_NULL)\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.865 IST|SSLSocketOutputRecord.java:71|WRITE: TLS12 alert(unexpected_message), length = 2\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.866 IST|SSLSocketOutputRecord.java:85|Raw write (\n  0000: 15 03 03 00 02 02 0A                               .......\n)\n\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.867 IST|SSLSocketImpl.java:1638|close the underlying socket\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.868 IST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\n\n\njavax.net.ssl|DEBUG|15|RMI TCP Connection(3)-172.24.160.1|2021-09-27 15:11:31.880 IST|SSLSocketInputRecord.java:488|Raw read (\n  0000: 4A 52 4D 49 00                                     JRMI.\n)\n\njavax.net.ssl|ERROR|15|RMI TCP Connection(3)-172.24.160.1|2021-09-27 15:11:31.881 IST|TransportContext.java:341|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n        at \njava.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\n</code></pre>\n<p>&lt;&lt; Agent / server code snippets &gt;&gt;</p>\n<pre><code>    boolean pwd_auth = false;\n    boolean pwd_auth = false;\n    boolean ssl_auth = true;\n    String strPort = &quot;9999&quot;;\n    int port = 9999;\n    env = new HashMap&lt;String,Object&gt;();\n    System.setProperty(&quot;com.sun.management.jmxremote.authenticate&quot;, String.valueOf(pwd_auth));\n    System.setProperty(&quot;com.sun.management.jmxremote.ssl&quot;, String.valueOf(ssl_auth));\n    System.setProperty(&quot;com.sun.management.jmxremote.registry.ssl&quot; , String.valueOf(ssl_auth));\n    System.setProperty(&quot;com.sun.management.jmxremote.ssl.need.client.auth&quot;, String.valueOf(ssl_auth));\n    System.setProperty(&quot;com.sun.management.jmxremote.port&quot;,strPort);\n    System.setProperty(&quot;com.sun.management.jmxremote.rmi.port&quot;,strPort);\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, Config.keyStoreFile);// &quot;C:\\\\Task\\\\serverkeystore.jks&quot;;\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, Config.keyStorePwd );\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot; , Config.trustStoreFile ); // &quot;C:\\\\Task\\\\servertruststore.jks&quot;;\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot; , Config.trustStorePwd);\n    System.setProperty(&quot;jdk.tls.server.protocols&quot;, Config.protocol); // TLSv1.2\n\n    env.put(RMIConnectorServer.RMI_SERVER_SOCKET_FACTORY_ATTRIBUTE, new SslRMIServerSocketFactory()); // if i comment this, then no exception in trace, but then during client connection, server will not respond, client gets failure in connection.\n    \n    echo(&quot;system properties are set&quot;);\n    echo(&quot;Create RMI registry on port &quot; + port); // system out only\n    LocateRegistry.createRegistry(port);\n    mbs = ManagementFactory.getPlatformMBeanServer();\n    String strUrl = &quot;service:jmx:rmi:///jndi/rmi://:&quot;+port+&quot;/jmxrmi&quot;;\n    JMXServiceURL url = new JMXServiceURL(strUrl);\n    echo (&quot;Server url is &quot; + strUrl);\n    JMXConnectorServer cs = JMXConnectorServerFactory.newJMXConnectorServer(url, env, mbs);\n    echo(&quot;Start the RMI connector server&quot;);\n    cs.start();\n\n    Hello mbean = new Hello(); // MBean registering now\n    name = new ObjectName(Config.oname);\n    mbs.registerMBean(mbean, name);\n</code></pre>\n<pre><code>Note: For VM args in the command line, this system.setProperty, env, createRegistry, newJMXConnectorServer calls are not required, Only MBeans registration is enough.\n</code></pre>\n<p>So, from the stack trace, it shows, the jks files are read with passwords provided in <code>System.setProperty</code> calls. so this setProperty is working. but somehow something more code statements are required or I am missing something in code statements.</p>\n<p>Can anyone suggest any improvements, changes to be done to make this happen?</p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1621964970,"post_id":67688084,"comment_id":119651767,"body_markdown":"You want to trigger an action on your JDY-08 Master as soon as it detects your android phone?","body":"You want to trigger an action on your JDY-08 Master as soon as it detects your android phone?"},{"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"score":0,"creation_date":1621970772,"post_id":67688084,"comment_id":119654023,"body_markdown":"Yes, as soon as it detects the android phone with myDeviceName.","body":"Yes, as soon as it detects the android phone with myDeviceName."},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1622012049,"post_id":67688084,"comment_id":119663548,"body_markdown":"You said _I can also see the Android device with myDeviceName but this does not trigger the action._ Where do you see myDeviceName? Have you tried adding a debug output to `void ble_response(String search_result)` to see what devices get picked up and with which signal strength","body":"You said <i>I can also see the Android device with myDeviceName but this does not trigger the action.</i> Where do you see myDeviceName? Have you tried adding a debug output to <code>void ble_response(String search_result)</code> to see what devices get picked up and with which signal strength"},{"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"score":0,"creation_date":1622033607,"post_id":67688084,"comment_id":119672662,"body_markdown":"I can see it in NRFConnect app. I see both with myDeviceName but only the JDY-08 triggers the action. I don&#180;t know how to debug on the JDY-08 MASTER, I was given the task to make the phone change its name to myDeviceName being SLAVE, as the JDY-08 is looking for SLAVES with myDeviceName.","body":"I can see it in NRFConnect app. I see both with myDeviceName but only the JDY-08 triggers the action. I don&#180;t know how to debug on the JDY-08 MASTER, I was given the task to make the phone change its name to myDeviceName being SLAVE, as the JDY-08 is looking for SLAVES with myDeviceName."},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1622088991,"post_id":67688084,"comment_id":119691082,"body_markdown":"Where does `ble_response()`run? On the JDY-Master itself or on a microcontroller (arduino, etc) to which the JDY-Master is connected to?","body":"Where does <code>ble_response()</code>run? On the JDY-Master itself or on a microcontroller (arduino, etc) to which the JDY-Master is connected to?"},{"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"score":1,"creation_date":1622142387,"post_id":67688084,"comment_id":119713811,"body_markdown":"Sorry for the delay, I&#180;m trying to find out where is that code running.","body":"Sorry for the delay, I&#180;m trying to find out where is that code running."},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1628854619,"post_id":67688084,"comment_id":121538235,"body_markdown":"Please answer your own question in case someone else comes across the same issue in the future :)","body":"Please answer your own question in case someone else comes across the same issue in the future :)"}],"answers":[{"tags":[],"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632749340,"creation_date":1632749340,"answer_id":69347507,"question_id":67688084,"body_markdown":"The problem was that the JDY-Master only received the name of JDY devices. All other devices show mac address and signal strength only. ","title":"Bluetooth module JDY-08 not finding Android device","body":"<p>The problem was that the JDY-Master only received the name of JDY devices. All other devices show mac address and signal strength only.</p>\n"}],"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69347507,"answer_count":1,"score":0,"last_activity_date":1632749340,"creation_date":1621946257,"question_id":67688084,"body_markdown":"I have 1 JDY-08 MASTER that scans looking for myDeviceName and triggers a function when it finds that device name.\r\n\r\n```\r\nString get_ble_scan_data(void){\r\n\r\n    String  final_result = &quot;&quot;;\r\n    String result = &quot;&quot;;//reset and declare\r\n    String extract = set_ble(&quot;AT+SCAN1&quot;);//scan for device name, signal strength and mac address\r\n    String extract2 = set_ble(&quot;AT+GETDCD&quot;);//get number of device found\r\n\r\n    //now we are going to check for which extraction has the data we interested in\r\n    if((extract.length() &gt; threshold or extract.length() &gt; threshold)){\r\n\r\n      result = extract;//pass extract as result\r\n      if(extract2.length() &gt; extract.length()){//check which is bigger\r\n        result = extract2;//pass extract2 as result if its bigger in length than extract\r\n        }\r\n      }\r\n\r\n    if(result.length() &gt; 0){//add filter and execution here\r\n      String filter = result;//copy\r\n      result = &quot;&quot;;// reset\r\n      while(filter.indexOf(&#39;=&#39;) &gt; -1){// we use the char = as a seperator\r\n\r\n        filter = filter.substring(filter.indexOf(&#39;=&#39;) + 1);//remove strings before seperator\r\n        result += filter.substring(0, filter.indexOf(&#39;\\n&#39;)) + &#39; &#39;; //extract till newline character\r\n        filter = filter.substring(filter.indexOf(result) + result.length());//remove extracted result so we go on to next extraction of same result if there is more device picked up\r\n         detect\r\n        }\r\n\r\n      result.trim();//remove spaces at the end or start if any\r\n\r\n      final_result = result;\r\n\r\n    }\r\n\r\n  return final_result;\r\n\r\n}\r\n\r\nvoid ble_response(String search_result){\r\n\r\n  String scan_result = search_result;//do bluetooth scan\r\n  if(scan_result.indexOf(myDeviceName) &gt; -1 ){//when data present in scan and it contains desired key\r\n  if(scan_result.indexOf(&#39; &#39;) == -1){//if only one ble is picked up\r\n\r\n    ble_macaddress = scan_result.substring(0, scan_result.indexOf(&#39;,&#39;));\r\n    scan_result = scan_result.substring(scan_result.indexOf(ble_macaddress) + 1 + ble_macaddress.length(), scan_result.length());//remove mac address\r\n    ble_strength = scan_result.substring(0, scan_result.indexOf(&#39;,&#39;));\r\n    ble_name = scan_result.substring(scan_result.indexOf(ble_strength) + 1 + ble_strength.length(), scan_result.length());//remove mac address\r\n\r\n    if(((int) ble_strength.toFloat()) &gt;= trigger_threshold and ble_name == key){\r\n\r\n      trigger_action();\r\n    }\r\n  }else{//if multiple ble is picked up\r\n\r\n    String cut = &quot;&quot;;\r\n    while(scan_result.indexOf(&#39;,&#39;) &gt; -1){//while there is still result to be processed\r\n\r\n      cut = scan_result.substring(0, scan_result.indexOf(&#39; &#39;));\r\n      scan_result = scan_result.substring(scan_result.indexOf(cut) + 1 + cut.length(), scan_result.length());\r\n      if(cut.indexOf(myDeviceName) &gt; -1){//only analyze if it contains key\r\n\r\n        ble_macaddress = cut.substring(0, cut.indexOf(&#39;,&#39;));\r\n        cut = cut.substring(cut.indexOf(ble_macaddress) + 1 + ble_macaddress.length(), cut.length());//remove mac address\r\n        ble_strength = cut.substring(0, cut.indexOf(&#39;,&#39;));\r\n        ble_name = cut.substring(cut.indexOf(ble_strength) + 1 + ble_strength.length(), cut.length());//remove mac address\r\n\r\n        if(((int) ble_strength.toFloat()) &gt;= trigger_threshold and ble_name == key){\r\n\r\n         trigger_action();\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nIf I use another JDY-08 device with one button, It finds the device and triggers the action:\r\n\r\n```\r\n\r\nif(!digitalRead(11)){//if button is pushed///////\r\n\r\n      delay(500);\r\n      set_ble(&quot;AT+NAMEmyDeviceName&quot;);//change ble name\r\n      while(!digitalRead(11));//do nothing while button is still pressed\r\n      delay(2000);//allow time before name change back\r\n      set_ble(&quot;AT+NAMEJDY-08&quot;);//change name back\r\n```\r\n\r\nBut when I use the phone It doesn&#180;t trigger the action:\r\n\r\n```\r\nprivate void advertise(){\r\n        final BluetoothLeAdvertiser advertiser = BluetoothAdapter.getDefaultAdapter().getBluetoothLeAdvertiser();\r\n        final AdvertiseSettings settings = new AdvertiseSettings.Builder()\r\n                .setAdvertiseMode( AdvertiseSettings.ADVERTISE_MODE_LOW_LATENCY )\r\n                .setTxPowerLevel( AdvertiseSettings.ADVERTISE_TX_POWER_HIGH )\r\n                .setConnectable( true )\r\n                .build();\r\n\r\n        final AdvertiseData data = new AdvertiseData.Builder()\r\n                .setIncludeDeviceName( true )\r\n                .build();\r\n\r\n        final AdvertiseCallback advertisingCallback = new AdvertiseCallback() {\r\n            @Override\r\n            public void onStartSuccess(AdvertiseSettings settingsInEffect) {\r\n                super.onStartSuccess(settingsInEffect);\r\n            }\r\n\r\n            @Override\r\n            public void onStartFailure(int errorCode) {\r\n                Log.e( &quot;BLE&quot;, &quot;Advertising onStartFailure: &quot; + errorCode );\r\n                super.onStartFailure(errorCode);\r\n            }\r\n        };\r\n        advertiser.startAdvertising(settings,data,advertisingCallback);\r\n\r\n        final Handler myTimerHandler = new Handler();\r\n        myTimerHandler.postDelayed(\r\n                new Runnable()\r\n                {\r\n                    @Override\r\n                    public void run(){\r\n                        advertiser.stopAdvertising(advertisingCallback);\r\n                    }\r\n                } , 30000);\r\n    }\r\n```\r\nI also use the intent with BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE.\r\n\r\nUsing NRFConnect app, I can see how the JDY-08 Button device changes the device name (That triggers the action on the JDY-08 MASTER). I can also see the Android device with myDeviceName but this does not trigger the action. Am I missing something in the Android app?","title":"Bluetooth module JDY-08 not finding Android device","body":"<p>I have 1 JDY-08 MASTER that scans looking for myDeviceName and triggers a function when it finds that device name.</p>\n<pre><code>String get_ble_scan_data(void){\n\n    String  final_result = &quot;&quot;;\n    String result = &quot;&quot;;//reset and declare\n    String extract = set_ble(&quot;AT+SCAN1&quot;);//scan for device name, signal strength and mac address\n    String extract2 = set_ble(&quot;AT+GETDCD&quot;);//get number of device found\n\n    //now we are going to check for which extraction has the data we interested in\n    if((extract.length() &gt; threshold or extract.length() &gt; threshold)){\n\n      result = extract;//pass extract as result\n      if(extract2.length() &gt; extract.length()){//check which is bigger\n        result = extract2;//pass extract2 as result if its bigger in length than extract\n        }\n      }\n\n    if(result.length() &gt; 0){//add filter and execution here\n      String filter = result;//copy\n      result = &quot;&quot;;// reset\n      while(filter.indexOf('=') &gt; -1){// we use the char = as a seperator\n\n        filter = filter.substring(filter.indexOf('=') + 1);//remove strings before seperator\n        result += filter.substring(0, filter.indexOf('\\n')) + ' '; //extract till newline character\n        filter = filter.substring(filter.indexOf(result) + result.length());//remove extracted result so we go on to next extraction of same result if there is more device picked up\n         detect\n        }\n\n      result.trim();//remove spaces at the end or start if any\n\n      final_result = result;\n\n    }\n\n  return final_result;\n\n}\n\nvoid ble_response(String search_result){\n\n  String scan_result = search_result;//do bluetooth scan\n  if(scan_result.indexOf(myDeviceName) &gt; -1 ){//when data present in scan and it contains desired key\n  if(scan_result.indexOf(' ') == -1){//if only one ble is picked up\n\n    ble_macaddress = scan_result.substring(0, scan_result.indexOf(','));\n    scan_result = scan_result.substring(scan_result.indexOf(ble_macaddress) + 1 + ble_macaddress.length(), scan_result.length());//remove mac address\n    ble_strength = scan_result.substring(0, scan_result.indexOf(','));\n    ble_name = scan_result.substring(scan_result.indexOf(ble_strength) + 1 + ble_strength.length(), scan_result.length());//remove mac address\n\n    if(((int) ble_strength.toFloat()) &gt;= trigger_threshold and ble_name == key){\n\n      trigger_action();\n    }\n  }else{//if multiple ble is picked up\n\n    String cut = &quot;&quot;;\n    while(scan_result.indexOf(',') &gt; -1){//while there is still result to be processed\n\n      cut = scan_result.substring(0, scan_result.indexOf(' '));\n      scan_result = scan_result.substring(scan_result.indexOf(cut) + 1 + cut.length(), scan_result.length());\n      if(cut.indexOf(myDeviceName) &gt; -1){//only analyze if it contains key\n\n        ble_macaddress = cut.substring(0, cut.indexOf(','));\n        cut = cut.substring(cut.indexOf(ble_macaddress) + 1 + ble_macaddress.length(), cut.length());//remove mac address\n        ble_strength = cut.substring(0, cut.indexOf(','));\n        ble_name = cut.substring(cut.indexOf(ble_strength) + 1 + ble_strength.length(), cut.length());//remove mac address\n\n        if(((int) ble_strength.toFloat()) &gt;= trigger_threshold and ble_name == key){\n\n         trigger_action();\n          break;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>If I use another JDY-08 device with one button, It finds the device and triggers the action:</p>\n<pre><code>\nif(!digitalRead(11)){//if button is pushed///////\n\n      delay(500);\n      set_ble(&quot;AT+NAMEmyDeviceName&quot;);//change ble name\n      while(!digitalRead(11));//do nothing while button is still pressed\n      delay(2000);//allow time before name change back\n      set_ble(&quot;AT+NAMEJDY-08&quot;);//change name back\n</code></pre>\n<p>But when I use the phone It doesn´t trigger the action:</p>\n<pre><code>private void advertise(){\n        final BluetoothLeAdvertiser advertiser = BluetoothAdapter.getDefaultAdapter().getBluetoothLeAdvertiser();\n        final AdvertiseSettings settings = new AdvertiseSettings.Builder()\n                .setAdvertiseMode( AdvertiseSettings.ADVERTISE_MODE_LOW_LATENCY )\n                .setTxPowerLevel( AdvertiseSettings.ADVERTISE_TX_POWER_HIGH )\n                .setConnectable( true )\n                .build();\n\n        final AdvertiseData data = new AdvertiseData.Builder()\n                .setIncludeDeviceName( true )\n                .build();\n\n        final AdvertiseCallback advertisingCallback = new AdvertiseCallback() {\n            @Override\n            public void onStartSuccess(AdvertiseSettings settingsInEffect) {\n                super.onStartSuccess(settingsInEffect);\n            }\n\n            @Override\n            public void onStartFailure(int errorCode) {\n                Log.e( &quot;BLE&quot;, &quot;Advertising onStartFailure: &quot; + errorCode );\n                super.onStartFailure(errorCode);\n            }\n        };\n        advertiser.startAdvertising(settings,data,advertisingCallback);\n\n        final Handler myTimerHandler = new Handler();\n        myTimerHandler.postDelayed(\n                new Runnable()\n                {\n                    @Override\n                    public void run(){\n                        advertiser.stopAdvertising(advertisingCallback);\n                    }\n                } , 30000);\n    }\n</code></pre>\n<p>I also use the intent with BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE.</p>\n<p>Using NRFConnect app, I can see how the JDY-08 Button device changes the device name (That triggers the action on the JDY-08 MASTER). I can also see the Android device with myDeviceName but this does not trigger the action. Am I missing something in the Android app?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1632747337,"post_id":69346914,"comment_id":122568979,"body_markdown":"You constantly create new instances of your Collection class with `new Collection()` and then work on those newly created objects. You should only create your collection object once and do all your work on that single object.","body":"You constantly create new instances of your Collection class with <code>new Collection()</code> and then work on those newly created objects. You should only create your collection object once and do all your work on that single object."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1632747562,"post_id":69346914,"comment_id":122569068,"body_markdown":"`if (title == c.getTitle() ...)` - check out [How do I compare Strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java).","body":"<code>if (title == c.getTitle() ...)</code> - check out <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare Strings in Java?</a>."},{"owner":{"account_id":22157397,"reputation":25,"user_id":16404923,"display_name":"Vearaa"},"score":0,"creation_date":1632748453,"post_id":69346914,"comment_id":122569443,"body_markdown":"THANK YOU! You saved me from a big headache. Now I have a better understanding of how instances work.","body":"THANK YOU! You saved me from a big headache. Now I have a better understanding of how instances work."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1632748647,"post_id":69346914,"comment_id":122569530,"body_markdown":"You should follow the Java Naming Conventions: variable and method names are written in camelCase, and class names in PascalCase. So, for example, `MakeAlbum` should be `makeAlbum`, and `SortAlbumsRelease` should be `sortAlbumsRelease`. Further enum constants are written in UPPER_SNAKE_CASE, so `Genre.Jazz` should be `Genre.JAZZ` (I&#39;m assuming here that `Genre` is an enum type).","body":"You should follow the Java Naming Conventions: variable and method names are written in camelCase, and class names in PascalCase. So, for example, <code>MakeAlbum</code> should be <code>makeAlbum</code>, and <code>SortAlbumsRelease</code> should be <code>sortAlbumsRelease</code>. Further enum constants are written in UPPER_SNAKE_CASE, so <code>Genre.Jazz</code> should be <code>Genre.JAZZ</code> (I&#39;m assuming here that <code>Genre</code> is an enum type)."}],"answers":[{"tags":[],"owner":{"account_id":22584960,"reputation":1,"user_id":16769096,"display_name":"Nate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632748438,"creation_date":1632748078,"answer_id":69347201,"question_id":69346914,"body_markdown":"The problem is that you&#39;re creating a new collection object per switch statement. Instead, create the object prior to your while loop.\r\n \r\n    //initialize collection object prior to while loop\r\n    Collection myCollection = new Collection();\r\n    while(true){\r\n            Scanner input = new Scanner(System.in); \r\n            String collect = input.nextLine();\r\n            String[] output = collect.split(&quot;,&quot;);\r\n            switch(output[0]){\r\n            case &quot;A&quot;: \r\n                Album a = new Album();\r\n                if(a.MakeAlbum(output) == true)\r\n                {\r\n                    //adding to the same collection object created previously\r\n                    if (myCollection.add(a) == true)\r\n                    {\r\n                        System.out.println(a + &quot; &gt;&gt; added.&quot;);\r\n                        break;\r\n                    }\r\n                    else\r\n                    {\r\n                        System.out.println(a + &quot;is already in the collection.&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Invalid Date!&quot;); \r\n                    break;\r\n                }\r\n            case &quot;D&quot;:\r\n                Album d = new Album();\r\n                d.MakeAlbum(output);\r\n                //removing from same collection object created previously\r\n                if (myCollection.remove(d) == true)\r\n                {\r\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; deleted.&quot;);\r\n                    break;\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; is not in the collection.&quot;);\r\n                    break;\r\n                }\r\n     \r\n          }\r\n  \r\n    }\r\n    \r\n\r\n\r\nShould be all that takes to make your program work, now you&#39;re always just adding and subtracting from a single Collection object. Before, you were creating a new collection object per switch, and these objects couldn&#39;t be accessed at the end of the while loop.\r\n\r\nDo this for the rest of your switch statements! I&#39;ve only done the first two here. Let me know if it runs!\r\n\r\n\r\n\r\n","title":"My Array and Int keep resetting values when their method runs","body":"<p>The problem is that you're creating a new collection object per switch statement. Instead, create the object prior to your while loop.</p>\n<pre><code>//initialize collection object prior to while loop\nCollection myCollection = new Collection();\nwhile(true){\n        Scanner input = new Scanner(System.in); \n        String collect = input.nextLine();\n        String[] output = collect.split(&quot;,&quot;);\n        switch(output[0]){\n        case &quot;A&quot;: \n            Album a = new Album();\n            if(a.MakeAlbum(output) == true)\n            {\n                //adding to the same collection object created previously\n                if (myCollection.add(a) == true)\n                {\n                    System.out.println(a + &quot; &gt;&gt; added.&quot;);\n                    break;\n                }\n                else\n                {\n                    System.out.println(a + &quot;is already in the collection.&quot;);\n                    break;\n                }\n            }\n            else\n            {\n                System.out.println(&quot;Invalid Date!&quot;); \n                break;\n            }\n        case &quot;D&quot;:\n            Album d = new Album();\n            d.MakeAlbum(output);\n            //removing from same collection object created previously\n            if (myCollection.remove(d) == true)\n            {\n                System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; deleted.&quot;);\n                break;\n            }\n            else\n            {\n                System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; is not in the collection.&quot;);\n                break;\n            }\n \n      }\n\n}\n</code></pre>\n<p>Should be all that takes to make your program work, now you're always just adding and subtracting from a single Collection object. Before, you were creating a new collection object per switch, and these objects couldn't be accessed at the end of the while loop.</p>\n<p>Do this for the rest of your switch statements! I've only done the first two here. Let me know if it runs!</p>\n"}],"owner":{"account_id":22157397,"reputation":25,"user_id":16404923,"display_name":"Vearaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632748890,"creation_date":1632746936,"question_id":69346914,"body_markdown":"I&#39;m currently doing an assignment which requires me to use classes to make an album collection manager. I&#39;ve been debugging and came across a problem. The Album[] is supposed to hold all the Album objects while numAlbums is supposed to keep track of the number of albums, but when I run the add method, it will increment the numAlbums and add the album to Album[], but once the method ends, it will reset instead of staying where it should be.\r\n\r\nThis is a problem especially since I can&#39;t print the album list since it relies on the numAlbums incrementing in value.\r\n\r\n```java\r\npublic class Collection {\r\n    private Album[] albums;\r\n    private int numAlbums; //number of albums currently in the collection\r\n    \r\n    \r\n    //find the album index, or return NOT_FOUND\r\n    private int find(Album album) \r\n    {\r\n        String title = album.getTitle(); // First, put the title and artist in string variables.\r\n        String artist = album.getArtist();\r\n        \r\n        for (int i = 0; i &lt; albums.length; i++) // Let&#39;s find this album.\r\n        {\r\n            Album c = new Album(); // Make Album c so we can compare every album.\r\n            c = albums[i];\r\n            \r\n            if (title == c.getTitle() &amp;&amp; artist == c.getArtist())  // If the title and artist match, then return the index.\r\n            {\r\n                return i; // We found the album!\r\n            }\r\n        }\r\n        return -1; // Album doesn&#39;t exist.\r\n    }\r\n    \r\n    //increase the capacity of the array list by 4\r\n    private void grow() \r\n    {\r\n        Album[] temp = new Album[getAlbums() + 4]; // Create new temp array with 4 more spaces.\r\n            \r\n        for (int i = 0; i &lt; albums.length; i++) // Use loop to insert all values from albums to temp.\r\n        {\r\n            temp[i] = albums[i];\r\n        }\r\n            \r\n        albums = temp; // Overwrite previous albums with new one.\r\n    }\r\n    \r\n    // Add an Album. Command A.\r\n    public boolean add(Album album) \r\n    {\r\n        int counter = 1;\r\n        \r\n        if (getAlbums() == 0) // If there are no albums, grow the list to the first 4 indexes.\r\n        {\r\n            Album[] temp = new Album[numAlbums + 4];\r\n            albums = temp;\r\n        }\r\n        else if (getAlbums() &gt; 0)\r\n        {\r\n            Album search = new Album();\r\n            \r\n            for (int i = 0; i &lt; albums.length; i++) // Check if the album has the same title and artist in the collection.\r\n            {\r\n                search = albums[i];\r\n                if (album.getTitle().equals(search.getTitle()) &amp;&amp; album.getArtist().equals(search.getArtist()) == true)\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        int a = getAlbums();\r\n        albums[a] = album; // Put the album in the collection.\r\n        a++; // Increase the amount of albums.\r\n        setAlbums(a);\r\n        \r\n        if (numAlbums == 4 * counter) // If the number of albums reach multiples of 4, then increase the array and counter.\r\n        {\r\n            grow();\r\n            counter++;\r\n        }\r\n        \r\n        for (int i = 0; i &lt; albums.length; i++) \r\n        {               \r\n             System.out.println(albums[i]); // Simple print of the list.         \r\n        }  \r\n        \r\n        return true;\r\n    }\r\n    \r\n    // Remove an Album. Command D.\r\n    public boolean remove(Album album) \r\n    {\r\n        if (find(album) == -1) // First, find the album to remove.\r\n        {\r\n            return false; // That album does not exist.\r\n        }\r\n        else // The album exists.\r\n        {\r\n            int index = find(album); // Copy the index number.\r\n            \r\n            for (int i = index; i &lt; albums.length; i++)\r\n            {\r\n                albums[i] = albums[i + 1]; // Shift the elements to the left by 1.\r\n            }\r\n        }\r\n        \r\n        int a = getAlbums();\r\n        a--; // Decrease the amount of albums.\r\n        setAlbums(a);\r\n        \r\n        \r\n        return true; // We removed it.\r\n    }\r\n    \r\n    //set to not available. Command L.\r\n    public boolean lendingOut(Album album) \r\n    {\r\n        if (find(album) == -1) // First, find the album to lend.\r\n        {\r\n            return false; // That album does not exist.\r\n        }\r\n        else // The album exists.\r\n        {\r\n            if (album.isAvailable() == false)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                album.setAvailable(false);\r\n            }\r\n        }\r\n        return true; // We removed it.\r\n    }\r\n    \r\n    //set to available. Command R.\r\n    public boolean returnAlbum(Album album) \r\n    {\r\n        if (find(album) == -1) // First, find the album to lend.\r\n        {\r\n            return false; // That album does not exist.\r\n        }\r\n        else // The album exists.\r\n        {\r\n            if (album.isAvailable() == true)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                album.setAvailable(true);\r\n            }\r\n        }\r\n        return true; // We removed it.\r\n    }\r\n    \r\n    //display the list without specifying the order. Command P.\r\n    public void print() \r\n    {\r\n        int y = getAlbums();\r\n        if (y == 0) // If the collection is empty, then return empty.\r\n        {\r\n            System.out.println(&quot;The collection is empty!&quot;);\r\n            return;\r\n        }\r\n        for (int i = 0; i &lt; albums.length; i++) \r\n        {               \r\n             System.out.println(albums[i]); // Simple print of the list.         \r\n        }   \r\n    }\r\n    \r\n    //display the list sorted by the release date. Command PD.\r\n    public void printByReleaseDate() \r\n    {\r\n        if (getAlbums() == 0) // If the collection is empty, then return empty.\r\n        {\r\n            System.out.println(&quot;The collection is empty!&quot;);\r\n            return;\r\n        }\r\n        \r\n        Album[] SortAlbumsRelease = new Album[numAlbums]; // Make another array to store the album list order.\r\n        \r\n        for (int i = 0; i &lt; albums.length; i++) \r\n        {               \r\n             SortAlbumsRelease[i] = albums[i]; // Copy the contents of the array.        \r\n        }   \r\n         \r\n        Album First = new Album(); // Create temp albums so we can compare.\r\n        Album Second = new Album();\r\n        Album temp = new Album();\r\n         \r\n        for (int o = 0; o &lt; albums.length; o++) // Go through every single album.\r\n        {               \r\n            for (int p = 0 + 1; p &lt; albums.length; p++) \r\n            {\r\n                First = SortAlbumsRelease[o];\r\n                Second = SortAlbumsRelease[p];\r\n                 \r\n                int compare = First.getReleaseDate().compareTo(Second.getReleaseDate()); // Use the compare method from date to get a value.\r\n                 \r\n                if (compare == -1) // If the first value is lower, then put that album in the previous slot.\r\n                {\r\n                    temp = SortAlbumsRelease[o];  \r\n                    SortAlbumsRelease[o] = SortAlbumsRelease[p];  \r\n                    SortAlbumsRelease[p] = temp;  \r\n                }\r\n            }\r\n        }\r\n         \r\n        for (int i = 0; i &lt; albums.length; i++) // Print the list.\r\n        {               \r\n             System.out.println(SortAlbumsRelease[i]);         \r\n        }\r\n    }\r\n    \r\n    //display the list sorted by the genres. Command PG.\r\n    public void printByGenre() \r\n    {\r\n        if (getAlbums() == 0) // If the collection is empty, then return empty.\r\n        {\r\n            System.out.println(&quot;The collection is empty!&quot;);\r\n            return;\r\n        }\r\n        \r\n        Genre type = null; // Set the genre type.\r\n        \r\n        Album Temp = new Album(); // Make a temp album.\r\n        \r\n        for (int i = 0; i &lt;= 4; i++) // Iterate through all the genre cases.\r\n        {\r\n            switch(i) \r\n            {\r\n            case 0:\r\n                type = Genre.Classical;\r\n            case 1:\r\n                type = Genre.Country;\r\n            case 2:\r\n                type = Genre.Jazz;\r\n            case 3:\r\n                type = Genre.Pop;\r\n            case 4:\r\n                type = Genre.Unknown;\r\n            }\r\n            \r\n            for (int j = 0; j &lt; albums.length; j++) // Look through the albums that have the matching genre.\r\n            {\r\n                Temp = albums[j];  \r\n                if (Temp.getGenre() == type) // If they match, print in that order.\r\n                {\r\n                    System.out.println(albums[j]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public int getAlbums() \r\n    {\r\n        return numAlbums;\r\n    }\r\n    public void setAlbums(int m) \r\n    {\r\n        numAlbums = m;\r\n    }\r\n}\r\n```\r\n\r\nBelow is the manager we have to create when running the program. We also use an album, genre, and date class, but I feel like the problem is somewhere in these areas.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class CollectionManager \r\n{\r\n    public void run()\r\n    {\r\n        System.out.println(&quot;Collection Manager starts running.&quot;); // Begin.\r\n        \r\n        while(true)\r\n        {\r\n            Scanner input = new Scanner(System.in); \r\n            String collect = input.nextLine(); // Take the input in.\r\n            \r\n            String[] output = collect.split(&quot;,&quot;); // Creates an array &quot;output&quot; and splits the input by commas.\r\n            \r\n            // Below is the designated spots for array &quot;output&quot; after the split.\r\n            // A,Change,Anika,pop,7/23/2021\r\n            //[0] [1]   [2]   [3]   [4]\r\n            switch(output[0]) \r\n            {\r\n            case &quot;A&quot;: // Add the album.\r\n                Album a = new Album();\r\n                if (a.MakeAlbum(output) == true) // If the output goes well and returns true, then add to the collection.\r\n                {\r\n                    Collection add = new Collection();\r\n                    if (add.add(a) == true) // If true, add the album.\r\n                    {\r\n                        System.out.println(a + &quot; &gt;&gt; added.&quot;);\r\n                        break;\r\n                    }\r\n                    else // Otherwise, it&#39;s already in there.\r\n                    {\r\n                        System.out.println(a + &quot;is already in the collection.&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n                else // If the date is invalid, then return Invalid Date!\r\n                {\r\n                    System.out.println(&quot;Invalid Date!&quot;); \r\n                    break;\r\n                }\r\n            case &quot;D&quot;: // Delete an Album.\r\n                Album d = new Album();\r\n                d.MakeAlbum(output);\r\n                \r\n                Collection delete = new Collection();\r\n                if (delete.remove(d) == true) // If the album is in the collection, delete.\r\n                {\r\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; deleted.&quot;);\r\n                    break;\r\n                }\r\n                else // Otherwise, it doesn&#39;t exist.\r\n                {\r\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; is not in the collection.&quot;);\r\n                    break;\r\n                }        \r\n            case &quot;L&quot;: // Lend an Album.\r\n                Album l = new Album();\r\n                l.MakeAlbum(output);\r\n                \r\n                Collection lend = new Collection();\r\n                if (lend.lendingOut(l) == true) // If the album is in the collection, lend.\r\n                {\r\n                    System.out.println(l.getTitle() + &quot;::&quot; + l.getArtist() + &quot; &gt;&gt; lending out and set to not available.&quot;);\r\n                    break;\r\n                }\r\n                else // Otherwise, it doesn&#39;t exist or can&#39;t be lend out.\r\n                {\r\n                    System.out.println(l.getTitle() + &quot;::&quot; + l.getArtist() + &quot; &gt;&gt; is not available.&quot;);\r\n                    break;\r\n                }\r\n            case &quot;R&quot;: // Return the album.\r\n                Album r = new Album();\r\n                r.MakeAlbum(output);\r\n                \r\n                Collection ret = new Collection();\r\n                if (ret.returnAlbum(r) == true) // If the album is in the collection, return.\r\n                {\r\n                    System.out.println(r.getTitle() + &quot;::&quot; + r.getArtist() + &quot; &gt;&gt; returning and set to available.&quot;);\r\n                    break;\r\n                }\r\n                else // Otherwise, it doesn&#39;t exist or can&#39;t be returned.\r\n                {\r\n                    System.out.println(r.getTitle() + &quot;::&quot; + r.getArtist() + &quot; return cannot be completed.&quot;);\r\n                    break;\r\n                }\r\n            case &quot;P&quot;: // Print with no order.\r\n                Collection Print = new Collection();\r\n                Print.print(); // Print the album list.\r\n                break;    \r\n            case &quot;PD&quot;: // Print with release date order.\r\n                Collection PrintD = new Collection();\r\n                PrintD.printByReleaseDate();; // Print the album list by release date.\r\n                break;    \r\n            case &quot;PG&quot;: // Print with genre order.\r\n                Collection PrintG = new Collection();\r\n                PrintG.printByGenre(); // Print the album list by genre.\r\n                break;    \r\n            case &quot;Q&quot;: // Quit the program.\r\n                System.out.println(&quot;Collection Manager terminated.&quot;);\r\n                return; // The end.\r\n            default: // Invalid. Try again.\r\n                System.out.println(&quot;Invalid command!&quot;);\r\n                break;\r\n            }\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n\r\nI can&#39;t find anything on google relating to the problem so any help is appreciated.","title":"My Array and Int keep resetting values when their method runs","body":"<p>I'm currently doing an assignment which requires me to use classes to make an album collection manager. I've been debugging and came across a problem. The Album[] is supposed to hold all the Album objects while numAlbums is supposed to keep track of the number of albums, but when I run the add method, it will increment the numAlbums and add the album to Album[], but once the method ends, it will reset instead of staying where it should be.</p>\n<p>This is a problem especially since I can't print the album list since it relies on the numAlbums incrementing in value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Collection {\n    private Album[] albums;\n    private int numAlbums; //number of albums currently in the collection\n    \n    \n    //find the album index, or return NOT_FOUND\n    private int find(Album album) \n    {\n        String title = album.getTitle(); // First, put the title and artist in string variables.\n        String artist = album.getArtist();\n        \n        for (int i = 0; i &lt; albums.length; i++) // Let's find this album.\n        {\n            Album c = new Album(); // Make Album c so we can compare every album.\n            c = albums[i];\n            \n            if (title == c.getTitle() &amp;&amp; artist == c.getArtist())  // If the title and artist match, then return the index.\n            {\n                return i; // We found the album!\n            }\n        }\n        return -1; // Album doesn't exist.\n    }\n    \n    //increase the capacity of the array list by 4\n    private void grow() \n    {\n        Album[] temp = new Album[getAlbums() + 4]; // Create new temp array with 4 more spaces.\n            \n        for (int i = 0; i &lt; albums.length; i++) // Use loop to insert all values from albums to temp.\n        {\n            temp[i] = albums[i];\n        }\n            \n        albums = temp; // Overwrite previous albums with new one.\n    }\n    \n    // Add an Album. Command A.\n    public boolean add(Album album) \n    {\n        int counter = 1;\n        \n        if (getAlbums() == 0) // If there are no albums, grow the list to the first 4 indexes.\n        {\n            Album[] temp = new Album[numAlbums + 4];\n            albums = temp;\n        }\n        else if (getAlbums() &gt; 0)\n        {\n            Album search = new Album();\n            \n            for (int i = 0; i &lt; albums.length; i++) // Check if the album has the same title and artist in the collection.\n            {\n                search = albums[i];\n                if (album.getTitle().equals(search.getTitle()) &amp;&amp; album.getArtist().equals(search.getArtist()) == true)\n                {\n                    return false;\n                }\n            }\n        }\n        \n        int a = getAlbums();\n        albums[a] = album; // Put the album in the collection.\n        a++; // Increase the amount of albums.\n        setAlbums(a);\n        \n        if (numAlbums == 4 * counter) // If the number of albums reach multiples of 4, then increase the array and counter.\n        {\n            grow();\n            counter++;\n        }\n        \n        for (int i = 0; i &lt; albums.length; i++) \n        {               \n             System.out.println(albums[i]); // Simple print of the list.         \n        }  \n        \n        return true;\n    }\n    \n    // Remove an Album. Command D.\n    public boolean remove(Album album) \n    {\n        if (find(album) == -1) // First, find the album to remove.\n        {\n            return false; // That album does not exist.\n        }\n        else // The album exists.\n        {\n            int index = find(album); // Copy the index number.\n            \n            for (int i = index; i &lt; albums.length; i++)\n            {\n                albums[i] = albums[i + 1]; // Shift the elements to the left by 1.\n            }\n        }\n        \n        int a = getAlbums();\n        a--; // Decrease the amount of albums.\n        setAlbums(a);\n        \n        \n        return true; // We removed it.\n    }\n    \n    //set to not available. Command L.\n    public boolean lendingOut(Album album) \n    {\n        if (find(album) == -1) // First, find the album to lend.\n        {\n            return false; // That album does not exist.\n        }\n        else // The album exists.\n        {\n            if (album.isAvailable() == false)\n            {\n                return false;\n            }\n            else\n            {\n                album.setAvailable(false);\n            }\n        }\n        return true; // We removed it.\n    }\n    \n    //set to available. Command R.\n    public boolean returnAlbum(Album album) \n    {\n        if (find(album) == -1) // First, find the album to lend.\n        {\n            return false; // That album does not exist.\n        }\n        else // The album exists.\n        {\n            if (album.isAvailable() == true)\n            {\n                return false;\n            }\n            else\n            {\n                album.setAvailable(true);\n            }\n        }\n        return true; // We removed it.\n    }\n    \n    //display the list without specifying the order. Command P.\n    public void print() \n    {\n        int y = getAlbums();\n        if (y == 0) // If the collection is empty, then return empty.\n        {\n            System.out.println(&quot;The collection is empty!&quot;);\n            return;\n        }\n        for (int i = 0; i &lt; albums.length; i++) \n        {               \n             System.out.println(albums[i]); // Simple print of the list.         \n        }   \n    }\n    \n    //display the list sorted by the release date. Command PD.\n    public void printByReleaseDate() \n    {\n        if (getAlbums() == 0) // If the collection is empty, then return empty.\n        {\n            System.out.println(&quot;The collection is empty!&quot;);\n            return;\n        }\n        \n        Album[] SortAlbumsRelease = new Album[numAlbums]; // Make another array to store the album list order.\n        \n        for (int i = 0; i &lt; albums.length; i++) \n        {               \n             SortAlbumsRelease[i] = albums[i]; // Copy the contents of the array.        \n        }   \n         \n        Album First = new Album(); // Create temp albums so we can compare.\n        Album Second = new Album();\n        Album temp = new Album();\n         \n        for (int o = 0; o &lt; albums.length; o++) // Go through every single album.\n        {               \n            for (int p = 0 + 1; p &lt; albums.length; p++) \n            {\n                First = SortAlbumsRelease[o];\n                Second = SortAlbumsRelease[p];\n                 \n                int compare = First.getReleaseDate().compareTo(Second.getReleaseDate()); // Use the compare method from date to get a value.\n                 \n                if (compare == -1) // If the first value is lower, then put that album in the previous slot.\n                {\n                    temp = SortAlbumsRelease[o];  \n                    SortAlbumsRelease[o] = SortAlbumsRelease[p];  \n                    SortAlbumsRelease[p] = temp;  \n                }\n            }\n        }\n         \n        for (int i = 0; i &lt; albums.length; i++) // Print the list.\n        {               \n             System.out.println(SortAlbumsRelease[i]);         \n        }\n    }\n    \n    //display the list sorted by the genres. Command PG.\n    public void printByGenre() \n    {\n        if (getAlbums() == 0) // If the collection is empty, then return empty.\n        {\n            System.out.println(&quot;The collection is empty!&quot;);\n            return;\n        }\n        \n        Genre type = null; // Set the genre type.\n        \n        Album Temp = new Album(); // Make a temp album.\n        \n        for (int i = 0; i &lt;= 4; i++) // Iterate through all the genre cases.\n        {\n            switch(i) \n            {\n            case 0:\n                type = Genre.Classical;\n            case 1:\n                type = Genre.Country;\n            case 2:\n                type = Genre.Jazz;\n            case 3:\n                type = Genre.Pop;\n            case 4:\n                type = Genre.Unknown;\n            }\n            \n            for (int j = 0; j &lt; albums.length; j++) // Look through the albums that have the matching genre.\n            {\n                Temp = albums[j];  \n                if (Temp.getGenre() == type) // If they match, print in that order.\n                {\n                    System.out.println(albums[j]);\n                }\n            }\n        }\n    }\n    public int getAlbums() \n    {\n        return numAlbums;\n    }\n    public void setAlbums(int m) \n    {\n        numAlbums = m;\n    }\n}\n</code></pre>\n<p>Below is the manager we have to create when running the program. We also use an album, genre, and date class, but I feel like the problem is somewhere in these areas.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class CollectionManager \n{\n    public void run()\n    {\n        System.out.println(&quot;Collection Manager starts running.&quot;); // Begin.\n        \n        while(true)\n        {\n            Scanner input = new Scanner(System.in); \n            String collect = input.nextLine(); // Take the input in.\n            \n            String[] output = collect.split(&quot;,&quot;); // Creates an array &quot;output&quot; and splits the input by commas.\n            \n            // Below is the designated spots for array &quot;output&quot; after the split.\n            // A,Change,Anika,pop,7/23/2021\n            //[0] [1]   [2]   [3]   [4]\n            switch(output[0]) \n            {\n            case &quot;A&quot;: // Add the album.\n                Album a = new Album();\n                if (a.MakeAlbum(output) == true) // If the output goes well and returns true, then add to the collection.\n                {\n                    Collection add = new Collection();\n                    if (add.add(a) == true) // If true, add the album.\n                    {\n                        System.out.println(a + &quot; &gt;&gt; added.&quot;);\n                        break;\n                    }\n                    else // Otherwise, it's already in there.\n                    {\n                        System.out.println(a + &quot;is already in the collection.&quot;);\n                        break;\n                    }\n                }\n                else // If the date is invalid, then return Invalid Date!\n                {\n                    System.out.println(&quot;Invalid Date!&quot;); \n                    break;\n                }\n            case &quot;D&quot;: // Delete an Album.\n                Album d = new Album();\n                d.MakeAlbum(output);\n                \n                Collection delete = new Collection();\n                if (delete.remove(d) == true) // If the album is in the collection, delete.\n                {\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; deleted.&quot;);\n                    break;\n                }\n                else // Otherwise, it doesn't exist.\n                {\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; is not in the collection.&quot;);\n                    break;\n                }        \n            case &quot;L&quot;: // Lend an Album.\n                Album l = new Album();\n                l.MakeAlbum(output);\n                \n                Collection lend = new Collection();\n                if (lend.lendingOut(l) == true) // If the album is in the collection, lend.\n                {\n                    System.out.println(l.getTitle() + &quot;::&quot; + l.getArtist() + &quot; &gt;&gt; lending out and set to not available.&quot;);\n                    break;\n                }\n                else // Otherwise, it doesn't exist or can't be lend out.\n                {\n                    System.out.println(l.getTitle() + &quot;::&quot; + l.getArtist() + &quot; &gt;&gt; is not available.&quot;);\n                    break;\n                }\n            case &quot;R&quot;: // Return the album.\n                Album r = new Album();\n                r.MakeAlbum(output);\n                \n                Collection ret = new Collection();\n                if (ret.returnAlbum(r) == true) // If the album is in the collection, return.\n                {\n                    System.out.println(r.getTitle() + &quot;::&quot; + r.getArtist() + &quot; &gt;&gt; returning and set to available.&quot;);\n                    break;\n                }\n                else // Otherwise, it doesn't exist or can't be returned.\n                {\n                    System.out.println(r.getTitle() + &quot;::&quot; + r.getArtist() + &quot; return cannot be completed.&quot;);\n                    break;\n                }\n            case &quot;P&quot;: // Print with no order.\n                Collection Print = new Collection();\n                Print.print(); // Print the album list.\n                break;    \n            case &quot;PD&quot;: // Print with release date order.\n                Collection PrintD = new Collection();\n                PrintD.printByReleaseDate();; // Print the album list by release date.\n                break;    \n            case &quot;PG&quot;: // Print with genre order.\n                Collection PrintG = new Collection();\n                PrintG.printByGenre(); // Print the album list by genre.\n                break;    \n            case &quot;Q&quot;: // Quit the program.\n                System.out.println(&quot;Collection Manager terminated.&quot;);\n                return; // The end.\n            default: // Invalid. Try again.\n                System.out.println(&quot;Invalid command!&quot;);\n                break;\n            }\n        }\n        \n    }\n}\n</code></pre>\n<p>I can't find anything on google relating to the problem so any help is appreciated.</p>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":1,"creation_date":1632384240,"post_id":69296058,"comment_id":122478482,"body_markdown":"It is expected that you debug your own code and reduce your problem to a minimal reproducible example. This is neither minimal, nor do I even know what to reproduce. At the very least I would expect you to write why you expect your code to work, what you expect it to do and describe where it does something unexpected, and what you tried to solve it. Just dumping a bunch of classes and ask us to figure out the rest is not the purpose of SO. We are not here to debug your code or solve your homework, that would be something for a paid consultant.","body":"It is expected that you debug your own code and reduce your problem to a minimal reproducible example. This is neither minimal, nor do I even know what to reproduce. At the very least I would expect you to write why you expect your code to work, what you expect it to do and describe where it does something unexpected, and what you tried to solve it. Just dumping a bunch of classes and ask us to figure out the rest is not the purpose of SO. We are not here to debug your code or solve your homework, that would be something for a paid consultant."},{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":0,"creation_date":1632384444,"post_id":69296058,"comment_id":122478574,"body_markdown":"Aside from that I get 274 results when I search SO for &quot;circular list java&quot;, did you check those existing questions before posting yours?","body":"Aside from that I get 274 results when I search SO for &quot;circular list java&quot;, did you check those existing questions before posting yours?"},{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":0,"creation_date":1632384934,"post_id":69296058,"comment_id":122478800,"body_markdown":"Also I highly recommend reading all answers to this question, as they provide you with a broad variety of essential basic skills for figuring out issues in your code: [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"Also I highly recommend reading all answers to this question, as they provide you with a broad variety of essential basic skills for figuring out issues in your code: <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger and how can it help me diagnose problems?</a>"},{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":0,"creation_date":1632385607,"post_id":69296058,"comment_id":122479104,"body_markdown":"Oh, and last but not least, you might want to get a [rubberduck](https://en.wikipedia.org/wiki/Rubber_duck_debugging).","body":"Oh, and last but not least, you might want to get a <a href=\"https://en.wikipedia.org/wiki/Rubber_duck_debugging\" rel=\"nofollow noreferrer\">rubberduck</a>."},{"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"score":0,"creation_date":1632426157,"post_id":69296058,"comment_id":122496361,"body_markdown":"Thanks for your comments Max.","body":"Thanks for your comments Max."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632407661,"creation_date":1632395777,"answer_id":69298964,"question_id":69296058,"body_markdown":"The main issue in your code is that you assume there will be a `next` reference that is `null`, but that is in contradiction with the principle of a *circular* linked list. In a circular linked list, you can *always* go from one node to the next and run endlessly in circles. So the principle is: none of the `next` references should be `null`!\r\n\r\nThis means you&#39;ll have to adapt your code at several places where you either set a `null`, or check against a `null` value.\r\n\r\nSome other remarks:\r\n\r\n* Let the `Node` constructor make the new node refer to itself via its `next` and `previous` members. This way you avoid storing `null` there from the very start. It is like making a one-node circular linked list on its own.\r\n\r\n* The loops should not check for `null`, but instead detect that you have cycled around and got back to the `head` node.\r\n\r\n* There is some code repetition for the two flavours of insertion-methods you have. This linking of the new node with the existing nodes should be done at one place only. I suggest making a separate method for that.\r\n\r\n* There really is no need to have a `tail` member in your class, because that `tail` is *always* going to be `this.head.GetPreviousNode()` (unless of course your list is empty). So I would just drop that `tail` member and work with that expression instead. This will save you from keeping that `tail` reference up to date.\r\n\r\n* The `insertAfter` method currently performs a *find* for the target value in the list. It would be nicer, if you placed this logic in a separate `find` method, so it could be re-used elsewhere (if needed).\r\n\r\nHere is the corrected `Node` class:\r\n\r\n```\r\npublic class Node {\r\n    private int id;\r\n    private Node next_node;\r\n    private Node previous_node;\r\n\r\n    public Node(){\r\n        this.id = 0;\r\n        // Make a node refer to itself by default -- this is practical in a circular list\r\n        this.next_node = this;\r\n        this.previous_node = this;\r\n    }\r\n\r\n    public Node(int id, Node next_node, Node previous_node){\r\n        this.id = id;\r\n        this.next_node = next_node;\r\n        this.previous_node = previous_node;\r\n    }\r\n\r\n    public Node(int id){\r\n        this.id = id;\r\n        // Make a node refer to itself by default -- this is practical in a circular list\r\n        this.next_node = this;\r\n        this.previous_node = this;\r\n    }\r\n\r\n    public Node(Node node){\r\n        this.id = node.GetId();\r\n        this.next_node = node.GetNextNode();\r\n        this.previous_node = node.GetPreviousNode();\r\n    }\r\n\r\n    public void SetId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void SetNextNode(Node next_node) {\r\n        this.next_node = next_node;\r\n    }\r\n\r\n    public void SetPreviousNode(Node previous_node) {\r\n        this.previous_node = previous_node;\r\n    }\r\n\r\n    public int GetId() {\r\n        return this.id;\r\n    }\r\n\r\n    public Node GetNextNode() {\r\n        return this.next_node;\r\n    }\r\n\r\n    public Node GetPreviousNode() {\r\n        return this.previous_node;\r\n    }\r\n\r\n    public void NodeDetails(){\r\n        System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the corrected `CircularLinkedList` class:\r\n\r\n```\r\npublic class CircularLinkedList{\r\n    private Node head; // No need for a tail\r\n\r\n    public CircularLinkedList(){\r\n        this.head = null;\r\n    }\r\n\r\n    public CircularLinkedList(Node head){\r\n        this.head = head;\r\n    }\r\n\r\n    public void SetHead(Node head){\r\n        this.head = head;\r\n    }\r\n\r\n    public Node GetHead(){\r\n        return this.head;\r\n    }\r\n\r\n    public void InsertAtFront(int data){\r\n        if (this.head == null) {\r\n            this.head = new Node(data);\r\n        } else {\r\n            insertAfter(this.head.GetPreviousNode(), data);\r\n            this.head = this.head.GetPreviousNode();\r\n        }\r\n    }\r\n\r\n    public Node find(int target) {\r\n        Node target_node = this.head;\r\n        while (target_node != null) {\r\n            if(target_node.GetId() == target) {\r\n                return target_node;\r\n            }\r\n            target_node = target_node.GetNextNode();\r\n            if (target_node == this.head) break; // running in circles\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // Add this method to avoid code repetition\r\n    public void insertAfter(Node target_node, int data) {\r\n        Node new_node = new Node(data, target_node.GetNextNode(), target_node);\r\n        target_node.SetNextNode(new_node);\r\n        new_node.GetNextNode().SetPreviousNode(target_node);\r\n    }\r\n\r\n    public void InsertAfter(int target, int data){\r\n        Node target_node = find(target);\r\n        if (target_node != null) {\r\n            insertAfter(target_node, data);\r\n        } else{\r\n            System.out.println(&quot;Sorry, but the integer &quot; + target + &quot; was not found in the list!\\n&quot;);\r\n        }\r\n   }\r\n\r\n   public void DisplayList(){\r\n        Node current_node = this.head;\r\n\r\n        while (current_node != null) {\r\n            current_node.NodeDetails();\r\n            current_node = current_node.GetNextNode();\r\n            if (current_node == this.head) break; // running in circles\r\n        }\r\n   }\r\n}\r\n```\r\n","title":"How to link the a circular linked list tail to the head of the list in Java?","body":"<p>The main issue in your code is that you assume there will be a <code>next</code> reference that is <code>null</code>, but that is in contradiction with the principle of a <em>circular</em> linked list. In a circular linked list, you can <em>always</em> go from one node to the next and run endlessly in circles. So the principle is: none of the <code>next</code> references should be <code>null</code>!</p>\n<p>This means you'll have to adapt your code at several places where you either set a <code>null</code>, or check against a <code>null</code> value.</p>\n<p>Some other remarks:</p>\n<ul>\n<li><p>Let the <code>Node</code> constructor make the new node refer to itself via its <code>next</code> and <code>previous</code> members. This way you avoid storing <code>null</code> there from the very start. It is like making a one-node circular linked list on its own.</p>\n</li>\n<li><p>The loops should not check for <code>null</code>, but instead detect that you have cycled around and got back to the <code>head</code> node.</p>\n</li>\n<li><p>There is some code repetition for the two flavours of insertion-methods you have. This linking of the new node with the existing nodes should be done at one place only. I suggest making a separate method for that.</p>\n</li>\n<li><p>There really is no need to have a <code>tail</code> member in your class, because that <code>tail</code> is <em>always</em> going to be <code>this.head.GetPreviousNode()</code> (unless of course your list is empty). So I would just drop that <code>tail</code> member and work with that expression instead. This will save you from keeping that <code>tail</code> reference up to date.</p>\n</li>\n<li><p>The <code>insertAfter</code> method currently performs a <em>find</em> for the target value in the list. It would be nicer, if you placed this logic in a separate <code>find</code> method, so it could be re-used elsewhere (if needed).</p>\n</li>\n</ul>\n<p>Here is the corrected <code>Node</code> class:</p>\n<pre><code>public class Node {\n    private int id;\n    private Node next_node;\n    private Node previous_node;\n\n    public Node(){\n        this.id = 0;\n        // Make a node refer to itself by default -- this is practical in a circular list\n        this.next_node = this;\n        this.previous_node = this;\n    }\n\n    public Node(int id, Node next_node, Node previous_node){\n        this.id = id;\n        this.next_node = next_node;\n        this.previous_node = previous_node;\n    }\n\n    public Node(int id){\n        this.id = id;\n        // Make a node refer to itself by default -- this is practical in a circular list\n        this.next_node = this;\n        this.previous_node = this;\n    }\n\n    public Node(Node node){\n        this.id = node.GetId();\n        this.next_node = node.GetNextNode();\n        this.previous_node = node.GetPreviousNode();\n    }\n\n    public void SetId(int id) {\n        this.id = id;\n    }\n\n    public void SetNextNode(Node next_node) {\n        this.next_node = next_node;\n    }\n\n    public void SetPreviousNode(Node previous_node) {\n        this.previous_node = previous_node;\n    }\n\n    public int GetId() {\n        return this.id;\n    }\n\n    public Node GetNextNode() {\n        return this.next_node;\n    }\n\n    public Node GetPreviousNode() {\n        return this.previous_node;\n    }\n\n    public void NodeDetails(){\n        System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\n    }\n}\n</code></pre>\n<p>And the corrected <code>CircularLinkedList</code> class:</p>\n<pre><code>public class CircularLinkedList{\n    private Node head; // No need for a tail\n\n    public CircularLinkedList(){\n        this.head = null;\n    }\n\n    public CircularLinkedList(Node head){\n        this.head = head;\n    }\n\n    public void SetHead(Node head){\n        this.head = head;\n    }\n\n    public Node GetHead(){\n        return this.head;\n    }\n\n    public void InsertAtFront(int data){\n        if (this.head == null) {\n            this.head = new Node(data);\n        } else {\n            insertAfter(this.head.GetPreviousNode(), data);\n            this.head = this.head.GetPreviousNode();\n        }\n    }\n\n    public Node find(int target) {\n        Node target_node = this.head;\n        while (target_node != null) {\n            if(target_node.GetId() == target) {\n                return target_node;\n            }\n            target_node = target_node.GetNextNode();\n            if (target_node == this.head) break; // running in circles\n        }\n        return null;\n    }\n\n    // Add this method to avoid code repetition\n    public void insertAfter(Node target_node, int data) {\n        Node new_node = new Node(data, target_node.GetNextNode(), target_node);\n        target_node.SetNextNode(new_node);\n        new_node.GetNextNode().SetPreviousNode(target_node);\n    }\n\n    public void InsertAfter(int target, int data){\n        Node target_node = find(target);\n        if (target_node != null) {\n            insertAfter(target_node, data);\n        } else{\n            System.out.println(&quot;Sorry, but the integer &quot; + target + &quot; was not found in the list!\\n&quot;);\n        }\n   }\n\n   public void DisplayList(){\n        Node current_node = this.head;\n\n        while (current_node != null) {\n            current_node.NodeDetails();\n            current_node = current_node.GetNextNode();\n            if (current_node == this.head) break; // running in circles\n        }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":69298964,"answer_count":1,"score":-3,"last_activity_date":1632748831,"creation_date":1632383781,"question_id":69296058,"body_markdown":"I&#39;m trying to insert at the front and insert at the back of the list. However, I&#39;ve got those methods to work to a certain extent in the Circular Linked List class. \r\n\r\nMy problem is, I can&#39;t seem to figure out how to link the tail with the head of the list. I have got the head to point to the tail though. \r\n\r\nSo after executing the below lines of code:\r\n\r\n    list.InsertAtFront(0);\r\n\r\n    list.InsertAfter(0, 4); // Inserting the 4 after 0 which was inserted above...\r\n\r\n**The result I got was** \r\n\r\n**`[Data: ID = 0 |{Previous: 4}, {Next: 4}] -&gt; [Data: ID = 4 |{Previous: 0}, {Next: null}]`**\r\n\r\nWhat should be here for the second insert, Where next is pointing to null `{Next: null}` it should be pointing the the head of the list `{Next: 0}`. \r\n\r\nI would really appreciate the help guys!\r\n\r\n\r\nI&#39;ll show what I have so far below...\r\n\r\n\r\n\r\n**THE NODE CLASS**\r\n\r\n    package circular_linked_list;\r\n\r\n    public class Node {\r\n        private int id;\r\n        private Node next_node;\r\n        private Node previous_node;\r\n\r\n        public Node(){\r\n            this.id = 0;\r\n            this.next_node = null;\r\n            this.previous_node = null;\r\n        }\r\n   \r\n        public Node(int id, Node next_node, Node previous_node){\r\n            this.id = id;\r\n            this.next_node = next_node;\r\n            this.previous_node = previous_node;\r\n        }\r\n\r\n        public Node(int id){\r\n            this.id = id;\r\n            this.next_node = null;\r\n            this.previous_node = null;\r\n        }\r\n\r\n        public Node(Node node){\r\n            this.id = node.GetId();\r\n            this.next_node = node.GetNextNode();\r\n            this.previous_node = node.GetPreviousNode();\r\n        }\r\n\r\n        public void SetId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public void SetNextNode(Node next_node) {\r\n            this.next_node = next_node;\r\n        }\r\n\r\n        public void SetPreviousNode(Node previous_node) {\r\n            this.previous_node = previous_node;\r\n        }\r\n\r\n        public int GetId() {\r\n            return this.id;\r\n        }\r\n\r\n        public Node GetNextNode() {\r\n            return this.next_node;\r\n        }\r\n\r\n        public Node GetPreviousNode() {\r\n            return this.previous_node;\r\n        }\r\n\r\n        public void NodeDetails(){\r\n            if(this.previous_node != null &amp;&amp; this.next_node != null){\r\n                System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\r\n            }\r\n            else if(this.previous_node != null){\r\n                System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: null}] -&gt; &quot;);\r\n            }\r\n            else if(this.next_node != null){\r\n                System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: null}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\r\n            }\r\n            else{\r\n                System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: null}, {Next: null}] -&gt; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n**THE CIRCULAR LINKED LIST CLASS**\r\n\r\n    package circular_linked_list;\r\n\r\n\r\n    public class CircularLinkedList{\r\n        private Node head;\r\n        private Node tail;\r\n\r\n        public CircularLinkedList(){\r\n            this.head = null;\r\n            this.tail = null;\r\n        }\r\n   \r\n        public CircularLinkedList(Node head, Node tail){\r\n            this.head = head;\r\n            this.tail = tail;\r\n        }\r\n   \r\n        public void SetHead(Node head){\r\n            this.head = head;\r\n        }\r\n\r\n        public void SetTail(Node tail){\r\n            this.tail = tail;\r\n        }\r\n\r\n        public Node GetHead(){\r\n            return this.head;\r\n        }\r\n\r\n        public Node GetTail(){\r\n            return this.tail;\r\n        }\r\n\r\n        public void InsertAtFront(int data){\r\n            Node new_node = new Node(data);\r\n\r\n            if( new_node != null){\r\n                // If the list is not empty then...\r\n                if(this.head != null){\r\n                    this.head.SetPreviousNode(new_node); // Set the list head&#39;s previous node to point to the new node.\r\n                    new_node.SetNextNode(this.head); // Set the new node&#39;s next node to point to the current list head.\r\n                    new_node.SetPreviousNode(this.tail); // Set the previous node of the head of the list to point to the tail of the list\r\n                }\r\n\r\n                this.head = new_node; // Set the list head to point to the new node\r\n                this.FindTail(); // Set the tail of the list.\r\n            }\r\n            else{\r\n                System.out.print(&quot;Sorry, the list is full!&quot;);\r\n            }\r\n        }\r\n\r\n        public void InsertAfter(int target, int data){\r\n            Node new_node = new Node(data);\r\n \r\n            if(new_node != null){\r\n                Node target_node = this.head;\r\n                boolean found = false;\r\n\r\n                // This while loop will loop to find if a node is equal to the value passed as target.\r\n                while(target_node != null){\r\n                    if(target_node.GetId() == target){\r\n                        // If the target is found then break the loop to keep this current node as the target node.\r\n                        found = true;\r\n                        break;\r\n                    }\r\n\r\n                    // Assigning the target node next node to the target node.\r\n                    target_node = target_node.GetNextNode();\r\n                }\r\n         \r\n                // If the target was found then...\r\n                if(found){\r\n                    new_node.SetPreviousNode(target_node); // Set the previous node of the new node to point to the target node.\r\n\r\n                    // Set the next node of the new node with the target node&#39;s next node to continue to link.\r\n                    new_node.SetNextNode(target_node.GetNextNode());\r\n\r\n                    // If the target node&#39;s next node is not null, then set the target node&#39;s next node-&gt;previous node to point to the new node.\r\n                    if(target_node.GetNextNode() != null){\r\n                        target_node.GetNextNode().SetPreviousNode(new_node);\r\n                    }\r\n\r\n                    target_node.SetNextNode(new_node); // Set the target node&#39;s next node to point to the new node.\r\n\r\n                    // Setting the tail of the list...\r\n                    this.FindTail();\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Sorry, but the integer &quot; + target + &quot; was not found in the list!\\n&quot;);\r\n                }\r\n            }\r\n            else{\r\n                System.out.println(&quot;Sorry, the list is full!\\n&quot;);\r\n            }\r\n       }\r\n\r\n       public void DisplayList(){\r\n           Node current_node = this.head;\r\n\r\n            while(current_node != null){\r\n                current_node.NodeDetails();\r\n\r\n                current_node = current_node.GetNextNode();\r\n            }\r\n       }\r\n\r\n       private void FindTail(){\r\n           Node current_node = this.head;\r\n\r\n            // Traversing from the start of the list to the end to get the tail.\r\n            while(current_node.GetNextNode() != null){\r\n                current_node = current_node.GetNextNode();\r\n            }\r\n\r\n            this.head.SetPreviousNode(current_node); // Updating the head of the list previous node.\r\n\r\n            this.SetTail(current_node); // Set the tail of the list with the last node.\r\n        }\r\n    }\r\n\r\n\r\n**THE MAIN CLASS**\r\n\r\n    package circular_linked_list;\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            CircularLinkedList list = new CircularLinkedList();\r\n\r\n            // Inserting at the front of the list\r\n            list.InsertAtFront(0);\r\n            \r\n            // Inserting 4 right after the 0\r\n            list.InsertAfter(0, 4);\r\n\r\n            // To display the nodes/elements in the list\r\n            list.DisplayList();\r\n        }\r\n    }","title":"How to link the a circular linked list tail to the head of the list in Java?","body":"<p>I'm trying to insert at the front and insert at the back of the list. However, I've got those methods to work to a certain extent in the Circular Linked List class.</p>\n<p>My problem is, I can't seem to figure out how to link the tail with the head of the list. I have got the head to point to the tail though.</p>\n<p>So after executing the below lines of code:</p>\n<pre><code>list.InsertAtFront(0);\n\nlist.InsertAfter(0, 4); // Inserting the 4 after 0 which was inserted above...\n</code></pre>\n<p><strong>The result I got was</strong></p>\n<p><strong><code>[Data: ID = 0 |{Previous: 4}, {Next: 4}] -&gt; [Data: ID = 4 |{Previous: 0}, {Next: null}]</code></strong></p>\n<p>What should be here for the second insert, Where next is pointing to null <code>{Next: null}</code> it should be pointing the the head of the list <code>{Next: 0}</code>.</p>\n<p>I would really appreciate the help guys!</p>\n<p>I'll show what I have so far below...</p>\n<p><strong>THE NODE CLASS</strong></p>\n<pre><code>package circular_linked_list;\n\npublic class Node {\n    private int id;\n    private Node next_node;\n    private Node previous_node;\n\n    public Node(){\n        this.id = 0;\n        this.next_node = null;\n        this.previous_node = null;\n    }\n\n    public Node(int id, Node next_node, Node previous_node){\n        this.id = id;\n        this.next_node = next_node;\n        this.previous_node = previous_node;\n    }\n\n    public Node(int id){\n        this.id = id;\n        this.next_node = null;\n        this.previous_node = null;\n    }\n\n    public Node(Node node){\n        this.id = node.GetId();\n        this.next_node = node.GetNextNode();\n        this.previous_node = node.GetPreviousNode();\n    }\n\n    public void SetId(int id) {\n        this.id = id;\n    }\n\n    public void SetNextNode(Node next_node) {\n        this.next_node = next_node;\n    }\n\n    public void SetPreviousNode(Node previous_node) {\n        this.previous_node = previous_node;\n    }\n\n    public int GetId() {\n        return this.id;\n    }\n\n    public Node GetNextNode() {\n        return this.next_node;\n    }\n\n    public Node GetPreviousNode() {\n        return this.previous_node;\n    }\n\n    public void NodeDetails(){\n        if(this.previous_node != null &amp;&amp; this.next_node != null){\n            System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\n        }\n        else if(this.previous_node != null){\n            System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: null}] -&gt; &quot;);\n        }\n        else if(this.next_node != null){\n            System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: null}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\n        }\n        else{\n            System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: null}, {Next: null}] -&gt; &quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>THE CIRCULAR LINKED LIST CLASS</strong></p>\n<pre><code>package circular_linked_list;\n\n\npublic class CircularLinkedList{\n    private Node head;\n    private Node tail;\n\n    public CircularLinkedList(){\n        this.head = null;\n        this.tail = null;\n    }\n\n    public CircularLinkedList(Node head, Node tail){\n        this.head = head;\n        this.tail = tail;\n    }\n\n    public void SetHead(Node head){\n        this.head = head;\n    }\n\n    public void SetTail(Node tail){\n        this.tail = tail;\n    }\n\n    public Node GetHead(){\n        return this.head;\n    }\n\n    public Node GetTail(){\n        return this.tail;\n    }\n\n    public void InsertAtFront(int data){\n        Node new_node = new Node(data);\n\n        if( new_node != null){\n            // If the list is not empty then...\n            if(this.head != null){\n                this.head.SetPreviousNode(new_node); // Set the list head's previous node to point to the new node.\n                new_node.SetNextNode(this.head); // Set the new node's next node to point to the current list head.\n                new_node.SetPreviousNode(this.tail); // Set the previous node of the head of the list to point to the tail of the list\n            }\n\n            this.head = new_node; // Set the list head to point to the new node\n            this.FindTail(); // Set the tail of the list.\n        }\n        else{\n            System.out.print(&quot;Sorry, the list is full!&quot;);\n        }\n    }\n\n    public void InsertAfter(int target, int data){\n        Node new_node = new Node(data);\n\n        if(new_node != null){\n            Node target_node = this.head;\n            boolean found = false;\n\n            // This while loop will loop to find if a node is equal to the value passed as target.\n            while(target_node != null){\n                if(target_node.GetId() == target){\n                    // If the target is found then break the loop to keep this current node as the target node.\n                    found = true;\n                    break;\n                }\n\n                // Assigning the target node next node to the target node.\n                target_node = target_node.GetNextNode();\n            }\n     \n            // If the target was found then...\n            if(found){\n                new_node.SetPreviousNode(target_node); // Set the previous node of the new node to point to the target node.\n\n                // Set the next node of the new node with the target node's next node to continue to link.\n                new_node.SetNextNode(target_node.GetNextNode());\n\n                // If the target node's next node is not null, then set the target node's next node-&gt;previous node to point to the new node.\n                if(target_node.GetNextNode() != null){\n                    target_node.GetNextNode().SetPreviousNode(new_node);\n                }\n\n                target_node.SetNextNode(new_node); // Set the target node's next node to point to the new node.\n\n                // Setting the tail of the list...\n                this.FindTail();\n            }\n            else{\n                System.out.println(&quot;Sorry, but the integer &quot; + target + &quot; was not found in the list!\\n&quot;);\n            }\n        }\n        else{\n            System.out.println(&quot;Sorry, the list is full!\\n&quot;);\n        }\n   }\n\n   public void DisplayList(){\n       Node current_node = this.head;\n\n        while(current_node != null){\n            current_node.NodeDetails();\n\n            current_node = current_node.GetNextNode();\n        }\n   }\n\n   private void FindTail(){\n       Node current_node = this.head;\n\n        // Traversing from the start of the list to the end to get the tail.\n        while(current_node.GetNextNode() != null){\n            current_node = current_node.GetNextNode();\n        }\n\n        this.head.SetPreviousNode(current_node); // Updating the head of the list previous node.\n\n        this.SetTail(current_node); // Set the tail of the list with the last node.\n    }\n}\n</code></pre>\n<p><strong>THE MAIN CLASS</strong></p>\n<pre><code>package circular_linked_list;\n\n\npublic class Main {\n    public static void main(String[] args) {\n        CircularLinkedList list = new CircularLinkedList();\n\n        // Inserting at the front of the list\n        list.InsertAtFront(0);\n        \n        // Inserting 4 right after the 0\n        list.InsertAfter(0, 4);\n\n        // To display the nodes/elements in the list\n        list.DisplayList();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1474362788,"post_id":39590044,"comment_id":66489223,"body_markdown":"`Map&lt;String,Object&gt;`?","body":"<code>Map&lt;String,Object&gt;</code>?"},{"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"score":0,"creation_date":1474367219,"post_id":39590044,"comment_id":66492126,"body_markdown":"I have successfully mapped `JsonNode` on toplevel. Does it work when you change your jsonobject to jsonnode?","body":"I have successfully mapped <code>JsonNode</code> on toplevel. Does it work when you change your jsonobject to jsonnode?"}],"answers":[{"tags":[],"owner":{"account_id":7642432,"reputation":2929,"user_id":5794129,"accept_rate":75,"display_name":"Priyamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474404841,"creation_date":1474364694,"answer_id":39590806,"question_id":39590044,"body_markdown":"ignore the data property when  forming the object from incoming request.\r\n\r\n    class ExampleBean{\r\n       public String Name;\r\n       @JsonIgnore\r\n       public JSONObject data;\r\n    }\r\n\r\nand change the rest service to accept data as a parameter from the incoming request. \r\n\r\n    @GET\r\n    @Consumes({MediaType.APPLICATION_JSON})\r\n    public Response getData(@RequestBody ExampleBean dataBean,RequestParam(&quot;data&quot;) String data)\r\n    {\r\n\r\n     JSONParser parser = new JSONParser();\r\n     JSONObject json = (JSONObject) parser.parse(data);\r\n        // some usage code here\r\n    }\r\n\r\nor you can change the datatype of `JsonObject data` to `String` and form an `object` from the incoming request.\r\n\r\n     class ExampleBean{\r\n     public String Name;\r\n     public String data;\r\n     }\r\n\r\nand later create an Json object from the data string\r\n\r\n          @GET\r\n    @Consumes({MediaType.APPLICATION_JSON})\r\n    public Response getData(@RequestBody ExampleBean dataBean)\r\n    {\r\n\r\n     JSONParser parser = new JSONParser();\r\n     JSONObject json = (JSONObject) parser.parse(dataBean.data);\r\n        // converting the string data to jsonobject\r\n    }","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>ignore the data property when  forming the object from incoming request.</p>\n\n<pre><code>class ExampleBean{\n   public String Name;\n   @JsonIgnore\n   public JSONObject data;\n}\n</code></pre>\n\n<p>and change the rest service to accept data as a parameter from the incoming request. </p>\n\n<pre><code>@GET\n@Consumes({MediaType.APPLICATION_JSON})\npublic Response getData(@RequestBody ExampleBean dataBean,RequestParam(\"data\") String data)\n{\n\n JSONParser parser = new JSONParser();\n JSONObject json = (JSONObject) parser.parse(data);\n    // some usage code here\n}\n</code></pre>\n\n<p>or you can change the datatype of <code>JsonObject data</code> to <code>String</code> and form an <code>object</code> from the incoming request.</p>\n\n<pre><code> class ExampleBean{\n public String Name;\n public String data;\n }\n</code></pre>\n\n<p>and later create an Json object from the data string</p>\n\n<pre><code>      @GET\n@Consumes({MediaType.APPLICATION_JSON})\npublic Response getData(@RequestBody ExampleBean dataBean)\n{\n\n JSONParser parser = new JSONParser();\n JSONObject json = (JSONObject) parser.parse(dataBean.data);\n    // converting the string data to jsonobject\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1258769,"reputation":1436,"user_id":1217652,"display_name":"Ankit Adlakha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540200829,"creation_date":1540200829,"answer_id":52926231,"question_id":39590044,"body_markdown":"Try with JsonNode. It is working.\r\n\r\nClass: **com.fasterxml.jackson.databind.JsonNode**","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>Try with JsonNode. It is working.</p>\n\n<p>Class: <strong>com.fasterxml.jackson.databind.JsonNode</strong></p>\n"},{"tags":[],"owner":{"account_id":17624121,"reputation":331,"user_id":13679909,"display_name":"Rohit Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632748060,"creation_date":1632742638,"answer_id":69345913,"question_id":39590044,"body_markdown":"When you have the requirement to pass your @RequestBody as JSONObject or/and return the output as JSONObject. The most convenient approach I follow is:\r\n\r\n 1. Accept the @RequestBody as String (You can also accept as your Object Data Type) and internally in your Post Mapping method, convert to JSONObject. For ex:\r\n```\r\n@GET\r\n@Consumes({MediaType.APPLICATION_JSON})\r\npublic String getData(@RequestBody String jsonObjectData)\r\n{\r\n    JSONObject parsedJsonData = new JSONObject(jsonObjectData);\r\n    // other implementation\r\n}  \r\n```\r\n\r\n 2. Before you return the JSONObject from your method, convert it to the String or your Object Data type\r\n```\r\nreturn JsonObjectToReturn.toString(); // or you can parse it to your return Object data type.","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>When you have the requirement to pass your @RequestBody as JSONObject or/and return the output as JSONObject. The most convenient approach I follow is:</p>\n<ol>\n<li>Accept the @RequestBody as String (You can also accept as your Object Data Type) and internally in your Post Mapping method, convert to JSONObject. For ex:</li>\n</ol>\n<pre><code>@GET\n@Consumes({MediaType.APPLICATION_JSON})\npublic String getData(@RequestBody String jsonObjectData)\n{\n    JSONObject parsedJsonData = new JSONObject(jsonObjectData);\n    // other implementation\n}  \n</code></pre>\n<ol start=\"2\">\n<li>Before you return the JSONObject from your method, convert it to the String or your Object Data type</li>\n</ol>\n<pre><code>return JsonObjectToReturn.toString(); // or you can parse it to your return Object data type.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632748671,"creation_date":1632748671,"answer_id":69347331,"question_id":39590044,"body_markdown":"I suggest you to use `Map` or `JsonNode` rather than `JSONObject`. Because those are woking well with `Jackson`. Like follows,\r\n```\r\nclass ExampleBean {\r\n   public String Name;\r\n   public Map&lt;String, String&gt; data;\r\n}\r\n```\r\nor \r\n```\r\nclass ExampleBean {\r\n   public String Name;\r\n   public JsonNode data;\r\n}\r\n```\r\n\r\n","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>I suggest you to use <code>Map</code> or <code>JsonNode</code> rather than <code>JSONObject</code>. Because those are woking well with <code>Jackson</code>. Like follows,</p>\n<pre><code>class ExampleBean {\n   public String Name;\n   public Map&lt;String, String&gt; data;\n}\n</code></pre>\n<p>or</p>\n<pre><code>class ExampleBean {\n   public String Name;\n   public JsonNode data;\n}\n</code></pre>\n"}],"owner":{"account_id":3768848,"reputation":41,"user_id":4257399,"display_name":"Shivaprasad Bhat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6583,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1632748671,"creation_date":1474362670,"question_id":39590044,"body_markdown":"I have a class as below.\r\n\r\n    class ExampleBean{\r\n       public String Name;\r\n       public JSONObject data;\r\n    }\r\n    \r\nAnd i have @GET handler which is as follows:\r\n\r\n    @GET\r\n    @Consumes({MediaType.APPLICATION_JSON})\r\n    public Response getData(ExampleBean dataBean)\r\n    {\r\n        // some usage code here\r\n    }\r\n\r\nI want following json to be mapped to the ExmampleBean:\r\n\r\n    {\r\n      &quot;Name&quot;:&quot;Example&quot;,\r\n      &quot;data&quot;:{\r\n           &quot;hello&quot;:&quot;world&quot;,\r\n           &quot;some&quot;:&quot;value&quot;\r\n       }\r\n     }\r\nEverything works perfectly if `data` was a type which had two public fields named `hello` and `some`. But since `data` is a JSONObject which doesn&#39;t actually have those fields or relevant setters it ends up throwing  `Unrecognized field &quot;hello&quot; (Class JSONObject), not marked as ignorable at [Source: org.apache.catalina.connector.CoyoteInputStream@17b9a4bf; line: 31, column: 18]`","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>I have a class as below.</p>\n\n<pre><code>class ExampleBean{\n   public String Name;\n   public JSONObject data;\n}\n</code></pre>\n\n<p>And i have @GET handler which is as follows:</p>\n\n<pre><code>@GET\n@Consumes({MediaType.APPLICATION_JSON})\npublic Response getData(ExampleBean dataBean)\n{\n    // some usage code here\n}\n</code></pre>\n\n<p>I want following json to be mapped to the ExmampleBean:</p>\n\n<pre><code>{\n  \"Name\":\"Example\",\n  \"data\":{\n       \"hello\":\"world\",\n       \"some\":\"value\"\n   }\n }\n</code></pre>\n\n<p>Everything works perfectly if <code>data</code> was a type which had two public fields named <code>hello</code> and <code>some</code>. But since <code>data</code> is a JSONObject which doesn't actually have those fields or relevant setters it ends up throwing  <code>Unrecognized field \"hello\" (Class JSONObject), not marked as ignorable at [Source: org.apache.catalina.connector.CoyoteInputStream@17b9a4bf; line: 31, column: 18]</code></p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":1324893,"reputation":5227,"user_id":1269951,"display_name":"TaylanKammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632748660,"creation_date":1632476709,"answer_id":69312900,"question_id":69310760,"body_markdown":"I seem to have figured it out.\r\n\r\n1. Put the jTDS code into a `jtds` sub-directory under the top-level of your Android project.\r\n\r\n2. Create a `build.gradle` within this `jtds` sub-directory:\r\n\r\n   ```gradle\r\n   apply plugin: &#39;java-library&#39;\r\n   \r\n   java {\r\n       sourceCompatibility = JavaVersion.VERSION_1_8\r\n       targetCompatibility = JavaVersion.VERSION_1_8\r\n   \r\n       sourceSets.main {\r\n           java.srcDirs = [&#39;src/main&#39;]\r\n           resources.srcDirs = [&#39;src/main&#39;]\r\n       }\r\n   }\r\n   \r\n   dependencies {\r\n       implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;lib&#39;)\r\n   }\r\n   \r\n   compileJava.options.encoding = &#39;UTF-8&#39;\r\n   \r\n   tasks.withType(JavaCompile) {\r\n       options.encoding = &#39;UTF-8&#39;\r\n   }\r\n   ```\r\n\r\n3. Include the sub-project (the correct term might be &quot;module&quot;, I&#39;m not sure) in your top-level `settings.gradle` file:\r\n\r\n   ```gradle\r\n   include &#39;:app&#39;, &#39;:lib1&#39;, &#39;:lib2&#39;, &#39;:lib3&#39;, &#39;:jtds&#39;\r\n   ```\r\n\r\n4. Add the module as a dependency to the `app` module by editing your `app/build.gradle`:\r\n\r\n   ```gradle\r\n   // ...\r\n   \r\n   dependencies {\r\n       // ...\r\n       implementation project(&#39;:jtds&#39;)\r\n       // ...\r\n   }\r\n   \r\n   // ...\r\n   ```\r\n\r\nThat&#39;s all, it works for me.\r\n\r\nSome notes, for those who wish to understand more details:\r\n\r\n- The original jTDS source code was encoded in the Windows-1252 charset.  I re-encoded the files to UTF-8 which is why I had to include the corresponding lines about file encoding in `jtds/build.gradle`.  I could have probably left the files in the Windows encoding and omitted those lines from `jtds/build.gradle` but I prefer to have all my source code in UTF-8.\r\n\r\n- The `resources.srcDirs = [&#39;src/main&#39;]` line in `jtds/build.gradle` seems to be necessary to include some `foo.properties` files that are part of the jTDS source code into the generated JAR.  Otherwise, I was getting an error message saying `no message resource found for message property prop.servertype` upon trying to connect to SQL Server.\r\n\r\n- The jTDS sources include a number of JAR files which they depend on, hence including them via the `implementation fileTree(...)` declaration in the `dependencies` block of `jtds/build.gradle`.","title":"Compile sub-project with regular JDK, add the result to my Android App","body":"<p>I seem to have figured it out.</p>\n<ol>\n<li><p>Put the jTDS code into a <code>jtds</code> sub-directory under the top-level of your Android project.</p>\n</li>\n<li><p>Create a <code>build.gradle</code> within this <code>jtds</code> sub-directory:</p>\n<pre><code>apply plugin: 'java-library'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n\n    sourceSets.main {\n        java.srcDirs = ['src/main']\n        resources.srcDirs = ['src/main']\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'lib')\n}\n\ncompileJava.options.encoding = 'UTF-8'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n</code></pre>\n</li>\n<li><p>Include the sub-project (the correct term might be &quot;module&quot;, I'm not sure) in your top-level <code>settings.gradle</code> file:</p>\n<pre><code>include ':app', ':lib1', ':lib2', ':lib3', ':jtds'\n</code></pre>\n</li>\n<li><p>Add the module as a dependency to the <code>app</code> module by editing your <code>app/build.gradle</code>:</p>\n<pre><code>// ...\n\ndependencies {\n    // ...\n    implementation project(':jtds')\n    // ...\n}\n\n// ...\n</code></pre>\n</li>\n</ol>\n<p>That's all, it works for me.</p>\n<p>Some notes, for those who wish to understand more details:</p>\n<ul>\n<li><p>The original jTDS source code was encoded in the Windows-1252 charset.  I re-encoded the files to UTF-8 which is why I had to include the corresponding lines about file encoding in <code>jtds/build.gradle</code>.  I could have probably left the files in the Windows encoding and omitted those lines from <code>jtds/build.gradle</code> but I prefer to have all my source code in UTF-8.</p>\n</li>\n<li><p>The <code>resources.srcDirs = ['src/main']</code> line in <code>jtds/build.gradle</code> seems to be necessary to include some <code>foo.properties</code> files that are part of the jTDS source code into the generated JAR.  Otherwise, I was getting an error message saying <code>no message resource found for message property prop.servertype</code> upon trying to connect to SQL Server.</p>\n</li>\n<li><p>The jTDS sources include a number of JAR files which they depend on, hence including them via the <code>implementation fileTree(...)</code> declaration in the <code>dependencies</code> block of <code>jtds/build.gradle</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1324893,"reputation":5227,"user_id":1269951,"display_name":"TaylanKammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69312900,"answer_count":1,"score":0,"last_activity_date":1632748660,"creation_date":1632466536,"question_id":69310760,"body_markdown":"I&#39;m trying to add a local copy of [jTDS][1] into my Android App, because there seems to be a bug where interrupting a thread running a query leads to a finalizer timeout in the `JtdsStatement` class, and I&#39;d like to debug and fix this.\r\n\r\nThe problem is, jTDS won&#39;t build with the Android SDK.  I have to build it with a regular JDK, because it uses some obscure JDK features like for instance the `org.ietf.jgss` Java package.\r\n\r\nWhat certainly works is building a JAR of jTDS by compiling it outside Android Studio, then adding that JAR into my Android project.  But better would be if I could have the source code of jTDS within my project and build it all together, so I can more rapidly test changes to jTDS in my app.\r\n\r\nSo is there a way to have a sub-project in Android Studio built with regular JDK, say for instance to generate a JAR, and then add that JAR as a dependency to the main project?\r\n\r\n\r\n  [1]: http://jtds.sourceforge.net/","title":"Compile sub-project with regular JDK, add the result to my Android App","body":"<p>I'm trying to add a local copy of <a href=\"http://jtds.sourceforge.net/\" rel=\"nofollow noreferrer\">jTDS</a> into my Android App, because there seems to be a bug where interrupting a thread running a query leads to a finalizer timeout in the <code>JtdsStatement</code> class, and I'd like to debug and fix this.</p>\n<p>The problem is, jTDS won't build with the Android SDK.  I have to build it with a regular JDK, because it uses some obscure JDK features like for instance the <code>org.ietf.jgss</code> Java package.</p>\n<p>What certainly works is building a JAR of jTDS by compiling it outside Android Studio, then adding that JAR into my Android project.  But better would be if I could have the source code of jTDS within my project and build it all together, so I can more rapidly test changes to jTDS in my app.</p>\n<p>So is there a way to have a sub-project in Android Studio built with regular JDK, say for instance to generate a JAR, and then add that JAR as a dependency to the main project?</p>\n"},{"tags":["java","android","dictionary","android-mediaplayer","weather"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1632430780,"post_id":69238321,"comment_id":122497848,"body_markdown":"Hey Richard, would you please tell where do you store the media resource files that you want to play for each icon; do you store them in  the resources `res\\raw`?","body":"Hey Richard, would you please tell where do you store the media resource files that you want to play for each icon; do you store them in  the resources <code>res\\raw</code>?"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1632493522,"post_id":69238321,"comment_id":122515318,"body_markdown":"@zain yes, all the media files are stored there","body":"@zain yes, all the media files are stored there"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1632517356,"post_id":69238321,"comment_id":122523667,"body_markdown":"Let me check it.","body":"Let me check it."},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1632668590,"post_id":69238321,"comment_id":122549646,"body_markdown":"Have you figured it out? @zain","body":"Have you figured it out? @zain"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1632748495,"post_id":69238321,"comment_id":122569466,"body_markdown":"I just posted an answer, feel free to discuss it if something is confusing","body":"I just posted an answer, feel free to discuss it if something is confusing"}],"answers":[{"tags":[],"owner":{"account_id":2746857,"reputation":2078,"user_id":2395334,"accept_rate":55,"display_name":"DennisVA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632116891,"creation_date":1632000968,"answer_id":69238631,"question_id":69238321,"body_markdown":"I would create a wrapper to make it easier to show things to your UI\r\n\r\nFor example: \r\n\r\n    public class Weather{\r\n       @DrawableRes\r\n       private int icon; //Resource id of the drawable\r\n       private String sound; //Name or path the the sound file\r\n\r\n       public Weather(WeatherPojo pojo){\r\n           switch(pojo.icon){\r\n                    case &quot;01d&quot;:\r\n                    case &quot;01n&quot;:\r\n                        this.icon = R.drawable.sun;\r\n                        this.sound = ...\r\n           }\r\n    \r\n       }\r\n    }\r\n\r\nThis class could also contain a `play(MediaPlayer player)` method\r\n\r\nSome other things i noticed: \r\n- avoid hardcoding your strings\r\n- you might wanna have a look at viewbinding to reduce that high amount of ugly `rootView.findViewById` calls (https://developer.android.com/topic/libraries/view-binding)\r\n\r\nEdit: \r\n\r\nAnother, probably better option would be to create some kind of WeatherFactory class or parser that produces subclasses of an abstract Weather class,\r\nand have that abstract class contain code for playing the media file:\r\n\r\n    public abstract class Weather{\r\n         @DrawableRes\r\n         private int iconResId;\r\n         @RawRes \r\n         private int soundResId;\r\n\r\n         protected Weather(@DrawableRes int iconResId, @RawRes int soundResId){\r\n            this.iconResId = iconResId;\r\n            this.soundResId = soundResId\r\n         }\r\n\r\n         public void playSound(MediaPlayer mediaPlayer, Context context){\r\n\r\n            String assetFileDescriptor = context.resources.openRawResourceFd(soundResId);\r\n\r\n            if(assetFileDescriptor == null)\r\n                 return;\r\n\r\n            mediaPlayer.reset();\r\n            mediaPlayer.setDataSource(assetFileDescriptor.fileDescriptor, \r\n            assetFileDescriptor.startOffset, assetFileDescriptor.declaredLength);\r\n            mediaPlayer.prepareAsync();\r\n         }\r\n    } \r\n\r\n    public class Snow extends Weather{\r\n          public Snow(){\r\n              super(R.drawable.snow, R.raw.snow)\r\n          }\r\n    }\r\n \r\nNow u can call `snow.playSound()` in ur fragment or viewModel and generate getters and setters in the abstract class to get the drawable and display it.\r\n\r\nOther variables for example the description can also be injected in the constructor of the subclass, or u can extend the subclasses themselves for the different types of snow (LightSnow, HeavySnow, ...) \r\n\r\nNote: I haven&#39;t tested any of this code so it might need some changes here and there","title":"Play weather sounds based on it&#39;s icons","body":"<p>I would create a wrapper to make it easier to show things to your UI</p>\n<p>For example:</p>\n<pre><code>public class Weather{\n   @DrawableRes\n   private int icon; //Resource id of the drawable\n   private String sound; //Name or path the the sound file\n\n   public Weather(WeatherPojo pojo){\n       switch(pojo.icon){\n                case &quot;01d&quot;:\n                case &quot;01n&quot;:\n                    this.icon = R.drawable.sun;\n                    this.sound = ...\n       }\n\n   }\n}\n</code></pre>\n<p>This class could also contain a <code>play(MediaPlayer player)</code> method</p>\n<p>Some other things i noticed:</p>\n<ul>\n<li>avoid hardcoding your strings</li>\n<li>you might wanna have a look at viewbinding to reduce that high amount of ugly <code>rootView.findViewById</code> calls (<a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/view-binding</a>)</li>\n</ul>\n<p>Edit:</p>\n<p>Another, probably better option would be to create some kind of WeatherFactory class or parser that produces subclasses of an abstract Weather class,\nand have that abstract class contain code for playing the media file:</p>\n<pre><code>public abstract class Weather{\n     @DrawableRes\n     private int iconResId;\n     @RawRes \n     private int soundResId;\n\n     protected Weather(@DrawableRes int iconResId, @RawRes int soundResId){\n        this.iconResId = iconResId;\n        this.soundResId = soundResId\n     }\n\n     public void playSound(MediaPlayer mediaPlayer, Context context){\n\n        String assetFileDescriptor = context.resources.openRawResourceFd(soundResId);\n\n        if(assetFileDescriptor == null)\n             return;\n\n        mediaPlayer.reset();\n        mediaPlayer.setDataSource(assetFileDescriptor.fileDescriptor, \n        assetFileDescriptor.startOffset, assetFileDescriptor.declaredLength);\n        mediaPlayer.prepareAsync();\n     }\n} \n\npublic class Snow extends Weather{\n      public Snow(){\n          super(R.drawable.snow, R.raw.snow)\n      }\n}\n</code></pre>\n<p>Now u can call <code>snow.playSound()</code> in ur fragment or viewModel and generate getters and setters in the abstract class to get the drawable and display it.</p>\n<p>Other variables for example the description can also be injected in the constructor of the subclass, or u can extend the subclasses themselves for the different types of snow (LightSnow, HeavySnow, ...)</p>\n<p>Note: I haven't tested any of this code so it might need some changes here and there</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632748459,"creation_date":1632748459,"answer_id":69347289,"question_id":69238321,"body_markdown":"&gt;    MediaPlayer firstSound, secondSound, thirdSound, fourthSound, fifthSound, sixthSound, seventhSound, eightSound, ninethSound;\r\n\r\nHere you created 9 `MediaPlayer` objects, and from their names and their count that exactly the same as the number of icons; I realized that each one will handle the sound of a certain icon.\r\n\r\nAlthough, you could only use a single `MediaPlaer` object for playing any of the 9 sounds you have. Think of it like your operating system media player, you have a single media player app, and you can drag and drop any media file at a time, and change it whenever you want without changing the app itself.\r\n\r\nThis is valid as long as you want to play a single media file at a time; but, in case you want to play multiple sounds at the same time, you probably need more than one `MediaPlayer` object.\r\n\r\nSo, as in your case you&#39;ve a single whether condition at a time, so I assume that you want to play a single file at a time; and therefore you&#39;ve a single icon at a time (due to the `switch` statement), and hence you need to change above mentioned snippet to be a single variable:\r\n\r\n```\r\nMediaPlayer mediaPlayer;\r\n```\r\n\r\n&gt; My knowledge of java dictionary is quite narrow and I find it hard to understand documentation\r\n\r\nA dictionary (or it&#39;s a Map for accurately speaking in java), think of it like a phone directory: You know the person name (Key), and need to get the corresponding phone number (Value); the difference in this example that in phone directory there is only a unique value for each key/person; but in java `Map`, you can have duplicate values (i.e. more than one key/person can own the same value/phone number).\r\n\r\n&gt; ```\r\n&gt; V put(K key,\r\n&gt;      V value)\r\n&gt; ```\r\n\r\nAlso, In java, the key and value can be almost anything and this can be indicated from the (K &amp; V) symbols which are a [generics][1].\r\n\r\n\r\n&gt; I thought of using K as Icon and V as my sound but I didn&#39;t know how to apply it \r\n\r\nIn the shared simple example, I don&#39;t really think that you need a map; as the sound resources are highly coupled with the corresponding icon drawable resources, then you can just treat the sound raw files like you did with drawables.\r\n\r\nSo, whenever you change the current drawable (i.e. in the switch statement), you also need to change the current sound in the `switch` statement, assuming they have the same name as the drawables:\r\n\r\n\r\n```\r\nMediaPlayer mediaPlayer; // single MediaPlayer object\r\n\r\nint drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\r\nint soundResource = -1; // Default sound is nothing\r\n\r\nString icon = data.getWeather().get(0).getIcon();\r\nswitch (icon) {\r\n\tcase &quot;01d&quot;:\r\n\tcase &quot;01n&quot;:\r\n\t\tdrawableResource = R.drawable.sun;\r\n        soundResource = R.raw.sun;\r\n\t\tbreak;\r\n\tcase &quot;02d&quot;:\r\n\tcase &quot;021n&quot;:\r\n\t\tdrawableResource = R.drawable.few_clouds;\r\n        soundResource = R.raw.few_clouds;\r\n\r\n\t\tbreak;\r\n\tcase &quot;03d&quot;:\r\n\tcase &quot;03n&quot;:\r\n\t\tdrawableResource = R.drawable.scattered_clouds;\r\n        soundResource = R.raw.scattered_clouds;\r\n\r\n\t\tbreak;\r\n\tcase &quot;04d&quot;:\r\n\tcase &quot;04n&quot;:\r\n\t\tdrawableResource = R.drawable.broken_clouds;\r\n        soundResource = R.raw.broken_clouds;\r\n\r\n\t\tbreak;\r\n\tcase &quot;09d&quot;:\r\n\tcase &quot;09n&quot;:\r\n\t\tdrawableResource = R.drawable.shower_rain;\r\n        soundResource = R.raw.shower_rain;\r\n\r\n\t\tbreak;\r\n\tcase &quot;10d&quot;:\r\n\tcase &quot;10n&quot;:\r\n\t\tdrawableResource = R.drawable.small_rain;\r\n        soundResource = R.raw.small_rain;\r\n\r\n\t\tbreak;\r\n\tcase &quot;11d&quot;:\r\n\tcase &quot;11n&quot;:\r\n\t\tdrawableResource = R.drawable.thunderstorm;\r\n        soundResource = R.raw.thunderstorm;\r\n\r\n\t\tbreak;\r\n\tcase &quot;13d&quot;:\r\n\tcase &quot;13n&quot;:\r\n\t\tdrawableResource = R.drawable.snow;\r\n        soundResource = R.raw.snow;\r\n\r\n\t\tbreak;\r\n\tcase &quot;50d&quot;:\r\n\tcase &quot;50n&quot;:\r\n\t\tdrawableResource = R.drawable.mist;\r\n        soundResource = R.raw.mist;\r\n\t\tbreak;\r\n}\r\n\r\n\r\nif (drawableResource != -1)\r\n\tcurrent_icon.setImageResource(drawableResource);\r\n\t\r\n\t\r\nif (soundResource != -1) {\r\n\tprepareMediaPlayer(soundResource);\r\n}\r\n\r\n\r\n\r\n// In FirstFragment:\r\n\r\nprivate void prepareMediaPlayer(int resource) {\r\n\t// add track file\r\n\tmMediaPlayer = MediaPlayer.create(requireActivity(), resource);\r\n\r\n\t// listening to when the media file finishes playing so that we can release the resources\r\n\tmMediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n\t\t@Override\r\n\t\tpublic void onCompletion(MediaPlayer mp) {\r\n\t\t\tif (mMediaPlayer != null) {\r\n\t\t\t\tmMediaPlayer.release();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n}\r\n```\r\n\r\nAnd whenever you want to play the sound, just call `mMediaPlayer.start()`, but make sure that `prepareMediaPlayer()`  is called in advance.\r\n\r\n\r\nHint: if you want to use a map, I&#39;d recommend that you create a POJO/Data class for the Weather, so that probably we&#39;d a Map.\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/java_generics.htm","title":"Play weather sounds based on it&#39;s icons","body":"<blockquote>\n<p>MediaPlayer firstSound, secondSound, thirdSound, fourthSound, fifthSound, sixthSound, seventhSound, eightSound, ninethSound;</p>\n</blockquote>\n<p>Here you created 9 <code>MediaPlayer</code> objects, and from their names and their count that exactly the same as the number of icons; I realized that each one will handle the sound of a certain icon.</p>\n<p>Although, you could only use a single <code>MediaPlaer</code> object for playing any of the 9 sounds you have. Think of it like your operating system media player, you have a single media player app, and you can drag and drop any media file at a time, and change it whenever you want without changing the app itself.</p>\n<p>This is valid as long as you want to play a single media file at a time; but, in case you want to play multiple sounds at the same time, you probably need more than one <code>MediaPlayer</code> object.</p>\n<p>So, as in your case you've a single whether condition at a time, so I assume that you want to play a single file at a time; and therefore you've a single icon at a time (due to the <code>switch</code> statement), and hence you need to change above mentioned snippet to be a single variable:</p>\n<pre><code>MediaPlayer mediaPlayer;\n</code></pre>\n<blockquote>\n<p>My knowledge of java dictionary is quite narrow and I find it hard to understand documentation</p>\n</blockquote>\n<p>A dictionary (or it's a Map for accurately speaking in java), think of it like a phone directory: You know the person name (Key), and need to get the corresponding phone number (Value); the difference in this example that in phone directory there is only a unique value for each key/person; but in java <code>Map</code>, you can have duplicate values (i.e. more than one key/person can own the same value/phone number).</p>\n<blockquote>\n<pre><code>V put(K key,\n     V value)\n</code></pre>\n</blockquote>\n<p>Also, In java, the key and value can be almost anything and this can be indicated from the (K &amp; V) symbols which are a <a href=\"https://www.tutorialspoint.com/java/java_generics.htm\" rel=\"nofollow noreferrer\">generics</a>.</p>\n<blockquote>\n<p>I thought of using K as Icon and V as my sound but I didn't know how to apply it</p>\n</blockquote>\n<p>In the shared simple example, I don't really think that you need a map; as the sound resources are highly coupled with the corresponding icon drawable resources, then you can just treat the sound raw files like you did with drawables.</p>\n<p>So, whenever you change the current drawable (i.e. in the switch statement), you also need to change the current sound in the <code>switch</code> statement, assuming they have the same name as the drawables:</p>\n<pre><code>MediaPlayer mediaPlayer; // single MediaPlayer object\n\nint drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\nint soundResource = -1; // Default sound is nothing\n\nString icon = data.getWeather().get(0).getIcon();\nswitch (icon) {\n    case &quot;01d&quot;:\n    case &quot;01n&quot;:\n        drawableResource = R.drawable.sun;\n        soundResource = R.raw.sun;\n        break;\n    case &quot;02d&quot;:\n    case &quot;021n&quot;:\n        drawableResource = R.drawable.few_clouds;\n        soundResource = R.raw.few_clouds;\n\n        break;\n    case &quot;03d&quot;:\n    case &quot;03n&quot;:\n        drawableResource = R.drawable.scattered_clouds;\n        soundResource = R.raw.scattered_clouds;\n\n        break;\n    case &quot;04d&quot;:\n    case &quot;04n&quot;:\n        drawableResource = R.drawable.broken_clouds;\n        soundResource = R.raw.broken_clouds;\n\n        break;\n    case &quot;09d&quot;:\n    case &quot;09n&quot;:\n        drawableResource = R.drawable.shower_rain;\n        soundResource = R.raw.shower_rain;\n\n        break;\n    case &quot;10d&quot;:\n    case &quot;10n&quot;:\n        drawableResource = R.drawable.small_rain;\n        soundResource = R.raw.small_rain;\n\n        break;\n    case &quot;11d&quot;:\n    case &quot;11n&quot;:\n        drawableResource = R.drawable.thunderstorm;\n        soundResource = R.raw.thunderstorm;\n\n        break;\n    case &quot;13d&quot;:\n    case &quot;13n&quot;:\n        drawableResource = R.drawable.snow;\n        soundResource = R.raw.snow;\n\n        break;\n    case &quot;50d&quot;:\n    case &quot;50n&quot;:\n        drawableResource = R.drawable.mist;\n        soundResource = R.raw.mist;\n        break;\n}\n\n\nif (drawableResource != -1)\n    current_icon.setImageResource(drawableResource);\n    \n    \nif (soundResource != -1) {\n    prepareMediaPlayer(soundResource);\n}\n\n\n\n// In FirstFragment:\n\nprivate void prepareMediaPlayer(int resource) {\n    // add track file\n    mMediaPlayer = MediaPlayer.create(requireActivity(), resource);\n\n    // listening to when the media file finishes playing so that we can release the resources\n    mMediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n        @Override\n        public void onCompletion(MediaPlayer mp) {\n            if (mMediaPlayer != null) {\n                mMediaPlayer.release();\n            }\n        }\n    });\n    \n}\n</code></pre>\n<p>And whenever you want to play the sound, just call <code>mMediaPlayer.start()</code>, but make sure that <code>prepareMediaPlayer()</code>  is called in advance.</p>\n<p>Hint: if you want to use a map, I'd recommend that you create a POJO/Data class for the Weather, so that probably we'd a Map.</p>\n"}],"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69347289,"answer_count":2,"score":1,"last_activity_date":1632748459,"creation_date":1631998012,"question_id":69238321,"body_markdown":"I&#39;ve just finished implementing my app&#39;s weather icons, now I&#39;m trying to play weather sounds on the app based on the icons the app is displaying. After doing long hours of thorough research, I found out to my shock that no one has ever asked similar questions on any platform.\r\n\r\nMy knowledge of java dictionary is quite narrow and I find it hard to understand documentation even after taking my time to read and study their samples. i.e I found a doc I believe would correspond with what I am trying to achieve here https://docs.oracle.com/javase/8/docs/api/java/util/Map.html \r\n\r\nIt explains that \r\n\r\n    V put(K key,\r\n          V value)\r\n\r\nAssociates the specified value with the specified key in this map. In that case, I thought of using K as Icon and V as my sound but I didn&#39;t know how to apply it so I looked for examples and saw this https://study.com/academy/lesson/the-java-dictionary-class-definition-example.html  The examples it provided still wasn&#39;t enough to help me through and I know I will mess it up if I try to work it out myself, so I decided to come up with this here to see if anyone can help, I&#39;ll really appreciate it.\r\n\r\nFollowing the API instructions, I&#39;m using https://openweathermap.org/weather-conditions.\r\nThere are 9 main weather conditions.\r\n\r\nThese are my goals in trying to play the sounds based on the icons:\r\n  - If the city displays the clear_sky icon, play the clear_sky_sound\r\n\t- Otherwise, If it displays the few_clouds icon, play the few_clouds_sound\r\n\t- Otherwise, If it displays the scattered_clouds icon, play the scattered_clouds_sound\r\n\t- Otherwise, If it displays the broken_clouds, play the broken_clouds_sound\r\n\t- Otherwise, If it displays the shower_rain icon, play the shower_rain_sound\r\n\t- Otherwise, If it displays the rain icon, play the rain_sound\r\n\t- Otherwise, If it displays the thunderstorm icon, play the thunderstorm_sound\r\n\t- Otherwise, If it displays the snow icon, play the snow_sound\r\n\t- Otherwise, If it displays the mist icon, play the mist_sound.\r\n\r\nHere is my Fragment&#39;s code:\r\n\r\n    public class FirstFragment extends Fragment {\r\n    \r\n        private WeatherDataViewModel viewModel;\r\n    \r\n        MediaPlayer firstSound, secondSound, thirdSound, fourthSound, fifthSound, sixthSound, seventhSound, eightSound, ninethSound;\r\n    \r\n        public FirstFragment() {\r\n    // Required empty public constructor\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n            View rootView = inflater.inflate(R.layout.fragment_first, container, false);\r\n        // For displaying weather data\r\n            final TextView current_temp = rootView.findViewById(R.id.textView10);\r\n            final TextView current_output = rootView.findViewById(R.id.textView11);\r\n            final TextView rise_time = rootView.findViewById(R.id.textView25);\r\n            final TextView set_time = rootView.findViewById(R.id.textView26);\r\n            final TextView temp_out = rootView.findViewById(R.id.textView28);\r\n            final TextView Press_out = rootView.findViewById(R.id.textView29);\r\n            final TextView Humid_out = rootView.findViewById(R.id.textView30);\r\n            final TextView Ws_out = rootView.findViewById(R.id.textView33);\r\n            final TextView Visi_out = rootView.findViewById(R.id.textView34);\r\n            final TextView Cloud_out = rootView.findViewById(R.id.textView35);\r\n            final ImageView current_icon = rootView.findViewById(R.id.imageView6);\r\n            final SwipeRefreshLayout realSwipe = rootView.findViewById(R.id.real_swipe);\r\n    \r\n    \r\n        // Get our ViewModel instance\r\n            viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\r\n    \r\n    \r\n    \r\n        // And whenever the data changes, refresh the UI\r\n            viewModel.getWeatherDataLiveData().observe(getViewLifecycleOwner(), data -&gt; {\r\n    \r\n                realSwipe.setOnRefreshListener(() -&gt; {\r\n                    // perform you action here for ex. add refresh screen code here\r\n                    new Handler().postDelayed(() -&gt; {\r\n                        // this code is for stop refreshing icon, After 1000 ms automatically refresh icon will stop\r\n                        realSwipe.setRefreshing(false);\r\n                    }, 1000);\r\n                });\r\n    \r\n                int drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\r\n    \r\n                if (data != null) {\r\n                    current_temp.setVisibility(View.VISIBLE);\r\n                    current_temp.setText(data.getMain().getTemp() + &quot; ℃&quot;); // for that you can use strings resource and templates more in https://developer.android.com/guide/topics/resources/string-resource.html#formatting-strings\r\n                    current_output.setVisibility(View.VISIBLE);\r\n                    current_output.setText(data.getWeather().get(0).getDescription());\r\n                    rise_time.setVisibility(View.VISIBLE);\r\n                    rise_time.setText(data.getSys().getSunrise() + &quot; &quot;);\r\n                    set_time.setVisibility(View.VISIBLE);\r\n                    set_time.setText(data.getSys().getSunset() + &quot; &quot;);\r\n                    temp_out.setVisibility(View.VISIBLE);\r\n                    temp_out.setText(data.getMain().getTemp() + &quot; ℃&quot;);\r\n                    Press_out.setVisibility(View.VISIBLE);\r\n                    Press_out.setText(data.getMain().getPressure() + &quot; hpa&quot;);\r\n                    Humid_out.setVisibility(View.VISIBLE);\r\n                    Humid_out.setText(data.getMain().getHumidity() + &quot; %&quot;);\r\n                    Ws_out.setVisibility(View.VISIBLE);\r\n                    Ws_out.setText(data.getWind().getSpeed() + &quot; Km/h&quot;);\r\n                    Visi_out.setVisibility(View.VISIBLE);\r\n                    Visi_out.setText(data.getVisibility() + &quot; m&quot;);\r\n                    Cloud_out.setVisibility(View.VISIBLE);\r\n                    Cloud_out.setText(data.getClouds().getAll() + &quot; %&quot;);\r\n    \r\n    // get actual weather.\r\n    \r\n                    String icon = data.getWeather().get(0).getIcon();\r\n    \r\n                    switch (icon) {\r\n                        case &quot;01d&quot;:\r\n                        case &quot;01n&quot;:\r\n                            drawableResource = R.drawable.sun;\r\n    \r\n                            break;\r\n                        case &quot;02d&quot;:\r\n                        case &quot;021n&quot;:\r\n                            drawableResource = R.drawable.few_clouds;\r\n    \r\n                            break;\r\n                        case &quot;03d&quot;:\r\n                        case &quot;03n&quot;:\r\n                            drawableResource = R.drawable.scattered_clouds;\r\n    \r\n                            break;\r\n                        case &quot;04d&quot;:\r\n                        case &quot;04n&quot;:\r\n                            drawableResource = R.drawable.broken_clouds;\r\n    \r\n                            break;\r\n                        case &quot;09d&quot;:\r\n                        case &quot;09n&quot;:\r\n                            drawableResource = R.drawable.shower_rain;\r\n    \r\n                            break;\r\n                        case &quot;10d&quot;:\r\n                        case &quot;10n&quot;:\r\n                            drawableResource = R.drawable.small_rain;\r\n    \r\n                            break;\r\n                        case &quot;11d&quot;:\r\n                        case &quot;11n&quot;:\r\n                            drawableResource = R.drawable.thunderstorm;\r\n    \r\n                            break;\r\n                        case &quot;13d&quot;:\r\n                        case &quot;13n&quot;:\r\n                            drawableResource = R.drawable.snow;\r\n    \r\n                            break;\r\n                        case &quot;50d&quot;:\r\n                        case &quot;50n&quot;:\r\n                            drawableResource = R.drawable.mist;\r\n                            break;\r\n                    }\r\n    \r\n    \r\n                    if (drawableResource != -1)\r\n                        current_icon.setImageResource(drawableResource);\r\n    \r\n                } else {\r\n                    Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\r\n                    current_temp.setVisibility(View.GONE);\r\n                    current_output.setVisibility(View.GONE);\r\n                    rise_time.setVisibility(View.GONE);\r\n                    set_time.setVisibility(View.GONE);\r\n                    temp_out.setVisibility(View.GONE);\r\n                    Press_out.setVisibility(View.GONE);\r\n                    Humid_out.setVisibility(View.GONE);\r\n                    Ws_out.setVisibility(View.GONE);\r\n                    Visi_out.setVisibility(View.GONE);\r\n                    Cloud_out.setVisibility(View.GONE);\r\n                    Toast.makeText(requireActivity(), &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        public void getWeatherData(String name) {\r\n    // The ViewModel controls loading the data, so we just\r\n    // tell it what the new name is - this kicks off loading\r\n    // the data, which will automatically call through to\r\n    // our observe() call when the data load completes\r\n            viewModel.setCityName(name);\r\n        }\r\n    }\r\n\r\n**EDIT:**\r\n\r\nDennisVA helped by providing a sample I could follow(i tried his 2nd suggestion) but when I tried it, I got some errors which I shared using a link in his comment section.\r\nI decided to bounty this post to draw more attention, so I can be directed more in the right direction.","title":"Play weather sounds based on it&#39;s icons","body":"<p>I've just finished implementing my app's weather icons, now I'm trying to play weather sounds on the app based on the icons the app is displaying. After doing long hours of thorough research, I found out to my shock that no one has ever asked similar questions on any platform.</p>\n<p>My knowledge of java dictionary is quite narrow and I find it hard to understand documentation even after taking my time to read and study their samples. i.e I found a doc I believe would correspond with what I am trying to achieve here <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Map.html</a></p>\n<p>It explains that</p>\n<pre><code>V put(K key,\n      V value)\n</code></pre>\n<p>Associates the specified value with the specified key in this map. In that case, I thought of using K as Icon and V as my sound but I didn't know how to apply it so I looked for examples and saw this <a href=\"https://study.com/academy/lesson/the-java-dictionary-class-definition-example.html\" rel=\"nofollow noreferrer\">https://study.com/academy/lesson/the-java-dictionary-class-definition-example.html</a>  The examples it provided still wasn't enough to help me through and I know I will mess it up if I try to work it out myself, so I decided to come up with this here to see if anyone can help, I'll really appreciate it.</p>\n<p>Following the API instructions, I'm using <a href=\"https://openweathermap.org/weather-conditions\" rel=\"nofollow noreferrer\">https://openweathermap.org/weather-conditions</a>.\nThere are 9 main weather conditions.</p>\n<p>These are my goals in trying to play the sounds based on the icons:</p>\n<ul>\n<li>If the city displays the clear_sky icon, play the clear_sky_sound\n<ul>\n<li>Otherwise, If it displays the few_clouds icon, play the few_clouds_sound</li>\n<li>Otherwise, If it displays the scattered_clouds icon, play the scattered_clouds_sound</li>\n<li>Otherwise, If it displays the broken_clouds, play the broken_clouds_sound</li>\n<li>Otherwise, If it displays the shower_rain icon, play the shower_rain_sound</li>\n<li>Otherwise, If it displays the rain icon, play the rain_sound</li>\n<li>Otherwise, If it displays the thunderstorm icon, play the thunderstorm_sound</li>\n<li>Otherwise, If it displays the snow icon, play the snow_sound</li>\n<li>Otherwise, If it displays the mist icon, play the mist_sound.</li>\n</ul>\n</li>\n</ul>\n<p>Here is my Fragment's code:</p>\n<pre><code>public class FirstFragment extends Fragment {\n\n    private WeatherDataViewModel viewModel;\n\n    MediaPlayer firstSound, secondSound, thirdSound, fourthSound, fifthSound, sixthSound, seventhSound, eightSound, ninethSound;\n\n    public FirstFragment() {\n// Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n        View rootView = inflater.inflate(R.layout.fragment_first, container, false);\n    // For displaying weather data\n        final TextView current_temp = rootView.findViewById(R.id.textView10);\n        final TextView current_output = rootView.findViewById(R.id.textView11);\n        final TextView rise_time = rootView.findViewById(R.id.textView25);\n        final TextView set_time = rootView.findViewById(R.id.textView26);\n        final TextView temp_out = rootView.findViewById(R.id.textView28);\n        final TextView Press_out = rootView.findViewById(R.id.textView29);\n        final TextView Humid_out = rootView.findViewById(R.id.textView30);\n        final TextView Ws_out = rootView.findViewById(R.id.textView33);\n        final TextView Visi_out = rootView.findViewById(R.id.textView34);\n        final TextView Cloud_out = rootView.findViewById(R.id.textView35);\n        final ImageView current_icon = rootView.findViewById(R.id.imageView6);\n        final SwipeRefreshLayout realSwipe = rootView.findViewById(R.id.real_swipe);\n\n\n    // Get our ViewModel instance\n        viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\n\n\n\n    // And whenever the data changes, refresh the UI\n        viewModel.getWeatherDataLiveData().observe(getViewLifecycleOwner(), data -&gt; {\n\n            realSwipe.setOnRefreshListener(() -&gt; {\n                // perform you action here for ex. add refresh screen code here\n                new Handler().postDelayed(() -&gt; {\n                    // this code is for stop refreshing icon, After 1000 ms automatically refresh icon will stop\n                    realSwipe.setRefreshing(false);\n                }, 1000);\n            });\n\n            int drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\n\n            if (data != null) {\n                current_temp.setVisibility(View.VISIBLE);\n                current_temp.setText(data.getMain().getTemp() + &quot; ℃&quot;); // for that you can use strings resource and templates more in https://developer.android.com/guide/topics/resources/string-resource.html#formatting-strings\n                current_output.setVisibility(View.VISIBLE);\n                current_output.setText(data.getWeather().get(0).getDescription());\n                rise_time.setVisibility(View.VISIBLE);\n                rise_time.setText(data.getSys().getSunrise() + &quot; &quot;);\n                set_time.setVisibility(View.VISIBLE);\n                set_time.setText(data.getSys().getSunset() + &quot; &quot;);\n                temp_out.setVisibility(View.VISIBLE);\n                temp_out.setText(data.getMain().getTemp() + &quot; ℃&quot;);\n                Press_out.setVisibility(View.VISIBLE);\n                Press_out.setText(data.getMain().getPressure() + &quot; hpa&quot;);\n                Humid_out.setVisibility(View.VISIBLE);\n                Humid_out.setText(data.getMain().getHumidity() + &quot; %&quot;);\n                Ws_out.setVisibility(View.VISIBLE);\n                Ws_out.setText(data.getWind().getSpeed() + &quot; Km/h&quot;);\n                Visi_out.setVisibility(View.VISIBLE);\n                Visi_out.setText(data.getVisibility() + &quot; m&quot;);\n                Cloud_out.setVisibility(View.VISIBLE);\n                Cloud_out.setText(data.getClouds().getAll() + &quot; %&quot;);\n\n// get actual weather.\n\n                String icon = data.getWeather().get(0).getIcon();\n\n                switch (icon) {\n                    case &quot;01d&quot;:\n                    case &quot;01n&quot;:\n                        drawableResource = R.drawable.sun;\n\n                        break;\n                    case &quot;02d&quot;:\n                    case &quot;021n&quot;:\n                        drawableResource = R.drawable.few_clouds;\n\n                        break;\n                    case &quot;03d&quot;:\n                    case &quot;03n&quot;:\n                        drawableResource = R.drawable.scattered_clouds;\n\n                        break;\n                    case &quot;04d&quot;:\n                    case &quot;04n&quot;:\n                        drawableResource = R.drawable.broken_clouds;\n\n                        break;\n                    case &quot;09d&quot;:\n                    case &quot;09n&quot;:\n                        drawableResource = R.drawable.shower_rain;\n\n                        break;\n                    case &quot;10d&quot;:\n                    case &quot;10n&quot;:\n                        drawableResource = R.drawable.small_rain;\n\n                        break;\n                    case &quot;11d&quot;:\n                    case &quot;11n&quot;:\n                        drawableResource = R.drawable.thunderstorm;\n\n                        break;\n                    case &quot;13d&quot;:\n                    case &quot;13n&quot;:\n                        drawableResource = R.drawable.snow;\n\n                        break;\n                    case &quot;50d&quot;:\n                    case &quot;50n&quot;:\n                        drawableResource = R.drawable.mist;\n                        break;\n                }\n\n\n                if (drawableResource != -1)\n                    current_icon.setImageResource(drawableResource);\n\n            } else {\n                Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\n                current_temp.setVisibility(View.GONE);\n                current_output.setVisibility(View.GONE);\n                rise_time.setVisibility(View.GONE);\n                set_time.setVisibility(View.GONE);\n                temp_out.setVisibility(View.GONE);\n                Press_out.setVisibility(View.GONE);\n                Humid_out.setVisibility(View.GONE);\n                Ws_out.setVisibility(View.GONE);\n                Visi_out.setVisibility(View.GONE);\n                Cloud_out.setVisibility(View.GONE);\n                Toast.makeText(requireActivity(), &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        return rootView;\n    }\n\n    public void getWeatherData(String name) {\n// The ViewModel controls loading the data, so we just\n// tell it what the new name is - this kicks off loading\n// the data, which will automatically call through to\n// our observe() call when the data load completes\n        viewModel.setCityName(name);\n    }\n}\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>DennisVA helped by providing a sample I could follow(i tried his 2nd suggestion) but when I tried it, I got some errors which I shared using a link in his comment section.\nI decided to bounty this post to draw more attention, so I can be directed more in the right direction.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1437723315,"post_id":31604569,"comment_id":51159880,"body_markdown":"You can call tomcat manager using its url from command line using `wget`","body":"You can call tomcat manager using its url from command line using <code>wget</code>"}],"answers":[{"tags":[],"owner":{"account_id":5503993,"reputation":831,"user_id":4372428,"display_name":"Matteo Rubini"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524455643,"creation_date":1437723561,"answer_id":31604784,"question_id":31604569,"body_markdown":"Best way is using `CURL` targetting your desired command from Tomcat /manager\r\n\r\n    curl --user user:pass http://localhost:8080/manager/text/&lt;your command&gt;?path=/&lt;your web appl&gt; \r\n\r\n \r\n\r\nhere you can find list of commands \r\nhttps://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html\r\n\r\nin your case\r\n\r\n&gt; Start Application\r\n&gt; `http://localhost:8080/manager/text/start?path=/yourWebAppl`\r\n&gt; \r\n&gt; Stop Application\r\n&gt; `http://localhost:8080/manager/text/stop?path=/yourWebAppl`\r\n&gt; \r\n&gt; Restart Application\r\n&gt; `http://localhost:8080/manager/text/reload?path=/yourWebAppl`","title":"how to start and stop application in apache-tomcat manually if there are more than one application in webapps directory of tomcat?","body":"<p>Best way is using <code>CURL</code> targetting your desired command from Tomcat /manager</p>\n\n<pre><code>curl --user user:pass http://localhost:8080/manager/text/&lt;your command&gt;?path=/&lt;your web appl&gt; \n</code></pre>\n\n<p>here you can find list of commands \n<a href=\"https://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html</a></p>\n\n<p>in your case</p>\n\n<blockquote>\n  <p>Start Application\n  <code>http://localhost:8080/manager/text/start?path=/yourWebAppl</code></p>\n  \n  <p>Stop Application\n  <code>http://localhost:8080/manager/text/stop?path=/yourWebAppl</code></p>\n  \n  <p>Restart Application\n  <code>http://localhost:8080/manager/text/reload?path=/yourWebAppl</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2458465,"reputation":734,"user_id":2143081,"display_name":"ceth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632748412,"creation_date":1437723731,"answer_id":31604832,"question_id":31604569,"body_markdown":"There are several ways of deploying web applications in Apache Tomcat. One is the XML deployment descriptor file in the directory `&lt;TOMCATDIR&gt;/conf/Catalina/localhost`.\r\n\r\nThe content of such a file is a `&lt;Context...&gt;&lt;/Context&gt;` configuration that may look like this (eg. `webapp1.xml`):\r\n\r\n````lang-xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;Context displayName=&quot;webapp1&quot;\r\n         override=&quot;true&quot;\r\n         path=&quot;/webapp1&quot;\r\n         docBase=&quot;${catalina.base}/webapps/webapp1&quot;&gt;\r\n\r\n         ... some context configuration ...\r\n\r\n&lt;/Context&gt;\r\n````\r\n\r\nIf Tomcat finds a XML file in this directory, it will try to deploy the context defined in that file. If you remove that file from this directory, Tomcat will undeploy the web application context.\r\n\r\nAll of that can be done by command line or shell script.\r\n\r\nRegarding to your question: You may put two context files in this directory. One for each of your web apps. To deploy one just move the file in and to undeploy one just move it out of the directory.\r\n\r\n````lang-bash\r\n# deployment\r\n&amp;&gt; cd &quot;&lt;TOMCATPATH&gt;/conf/Catalina/&quot;\r\n&amp;&gt; mv webapp1.xml localhost/\r\n  \r\n# undeploy\r\n&amp;&gt; cd &quot;&lt;TOMCATPATH&gt;/conf/Catalina/localhost&quot;\r\n&amp;&gt; mv webapp1.xml ../\r\n````\r\n\r\nFor more detailed information about the `&lt;Context...&gt;&lt;/Context&gt;` element refer to: [The Context Container Doc Page][1]\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-7.0-doc/config/context.html","title":"how to start and stop application in apache-tomcat manually if there are more than one application in webapps directory of tomcat?","body":"<p>There are several ways of deploying web applications in Apache Tomcat. One is the XML deployment descriptor file in the directory <code>&lt;TOMCATDIR&gt;/conf/Catalina/localhost</code>.</p>\n<p>The content of such a file is a <code>&lt;Context...&gt;&lt;/Context&gt;</code> configuration that may look like this (eg. <code>webapp1.xml</code>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;Context displayName=&quot;webapp1&quot;\n         override=&quot;true&quot;\n         path=&quot;/webapp1&quot;\n         docBase=&quot;${catalina.base}/webapps/webapp1&quot;&gt;\n\n         ... some context configuration ...\n\n&lt;/Context&gt;\n</code></pre>\n<p>If Tomcat finds a XML file in this directory, it will try to deploy the context defined in that file. If you remove that file from this directory, Tomcat will undeploy the web application context.</p>\n<p>All of that can be done by command line or shell script.</p>\n<p>Regarding to your question: You may put two context files in this directory. One for each of your web apps. To deploy one just move the file in and to undeploy one just move it out of the directory.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># deployment\n&amp;&gt; cd &quot;&lt;TOMCATPATH&gt;/conf/Catalina/&quot;\n&amp;&gt; mv webapp1.xml localhost/\n  \n# undeploy\n&amp;&gt; cd &quot;&lt;TOMCATPATH&gt;/conf/Catalina/localhost&quot;\n&amp;&gt; mv webapp1.xml ../\n</code></pre>\n<p>For more detailed information about the <code>&lt;Context...&gt;&lt;/Context&gt;</code> element refer to: <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/context.html\" rel=\"nofollow noreferrer\">The Context Container Doc Page</a></p>\n"}],"owner":{"account_id":4964886,"reputation":307,"user_id":3994589,"accept_rate":67,"display_name":"Sushant Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11872,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31604832,"answer_count":2,"score":2,"last_activity_date":1632748412,"creation_date":1437722784,"question_id":31604569,"body_markdown":"Actually i have two application in webapps directory of tomcat\r\n\r\n      webapps/hello_web1 and\r\n      webapps/hello_web2\r\n\r\nI want to start and stop these to apps separably and by using command line (or any other way except using tomcat manager gui so that i can implement start and stop function manually in my program). \r\n\r\nPlease suggest me if it is possible, and if it is not possible in tomcat than suggest me web server in which it is possible.\r\n","title":"how to start and stop application in apache-tomcat manually if there are more than one application in webapps directory of tomcat?","body":"<p>Actually i have two application in webapps directory of tomcat</p>\n\n<pre><code>  webapps/hello_web1 and\n  webapps/hello_web2\n</code></pre>\n\n<p>I want to start and stop these to apps separably and by using command line (or any other way except using tomcat manager gui so that i can implement start and stop function manually in my program). </p>\n\n<p>Please suggest me if it is possible, and if it is not possible in tomcat than suggest me web server in which it is possible.</p>\n"},{"tags":["java","jar","console","javaw"],"answers":[{"tags":[],"owner":{"account_id":4027495,"reputation":43,"user_id":3315062,"display_name":"Kieran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392738932,"creation_date":1392738932,"answer_id":21858848,"question_id":21858301,"body_markdown":"Correct me if I&#39;m wrong - you want to launch your .JAR file without using a command line? I&#39;m not aware of any way to do this just by opening the jar, however you can always make a script that&#39;s that will do the command-line stuff for you, which only requires opening. That or a form of launcher.","title":"Console window with javaw?","body":"<p>Correct me if I'm wrong - you want to launch your .JAR file without using a command line? I'm not aware of any way to do this just by opening the jar, however you can always make a script that's that will do the command-line stuff for you, which only requires opening. That or a form of launcher.</p>\n"}],"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632748350,"creation_date":1392737623,"question_id":21858301,"body_markdown":"I have created a console based jar program. To be able to run it with `jarfile.jar` or by clicking on it, I went into the registry editor and edited HKEY_CLASSES_ROOT &gt; jarfile &gt; shell &gt; open &gt; command &gt; (Default) from `[...]javaw.exe[...]` to `[...]java.exe[...]`. It worked, but not immediately - I had to change default program and then change it back a couple of times and do a lot with it (I don&#39;t remember exactly). There are two drawbacks to this method: one, executable jar files that aren&#39;t meant to be run with console will now have one and that&#39;s kind of annoying; two, if I want to release this program publicly, everyone who wants to use it will have to do the same thing or run it with \r\n`java -jar jarfile.jar`.\r\n\r\nTherefore, I&#39;m wondering if there&#39;s a way to edit the jar&#39;s main class to open its own console window that won&#39;t be blocked by javaw.exe, so that I can run the jar file with javaw. I&#39;m thinking something like `openConsoleWindow(); outputTo(theNewWindow()); inputFrom(theNewWindow());`","title":"Console window with javaw?","body":"<p>I have created a console based jar program. To be able to run it with <code>jarfile.jar</code> or by clicking on it, I went into the registry editor and edited HKEY_CLASSES_ROOT &gt; jarfile &gt; shell &gt; open &gt; command &gt; (Default) from <code>[...]javaw.exe[...]</code> to <code>[...]java.exe[...]</code>. It worked, but not immediately - I had to change default program and then change it back a couple of times and do a lot with it (I don't remember exactly). There are two drawbacks to this method: one, executable jar files that aren't meant to be run with console will now have one and that's kind of annoying; two, if I want to release this program publicly, everyone who wants to use it will have to do the same thing or run it with\n<code>java -jar jarfile.jar</code>.</p>\n<p>Therefore, I'm wondering if there's a way to edit the jar's main class to open its own console window that won't be blocked by javaw.exe, so that I can run the jar file with javaw. I'm thinking something like <code>openConsoleWindow(); outputTo(theNewWindow()); inputFrom(theNewWindow());</code></p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":105907,"reputation":1380,"user_id":282352,"display_name":"Amitay Dobo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632518654,"creation_date":1632518654,"answer_id":69321239,"question_id":69320970,"body_markdown":"Not familiar with this reactive implementation, but looks like you&#39;re adding two independent subscribers to a single observable, which does not guarantee an order of execution.\r\n\r\nIf send and persist are blocking (sync) functions you can just create some &#39;sendAndSync&#39; function.\r\n\r\nOtherwise, you need to make the &#39;send&#39; into and observable itself, and &#39;persist&#39; should be its subscriber. You can achieve this by &#39;send&#39; writing to a PublishSubject once a send is completed, and &#39;persist&#39; being the subscriber (via doOnNext) of that PublishSubject.","title":"In reactive programming, is the sequence of doOnNext calls guaranteed?","body":"<p>Not familiar with this reactive implementation, but looks like you're adding two independent subscribers to a single observable, which does not guarantee an order of execution.</p>\n<p>If send and persist are blocking (sync) functions you can just create some 'sendAndSync' function.</p>\n<p>Otherwise, you need to make the 'send' into and observable itself, and 'persist' should be its subscriber. You can achieve this by 'send' writing to a PublishSubject once a send is completed, and 'persist' being the subscriber (via doOnNext) of that PublishSubject.</p>\n"},{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632522684,"creation_date":1632521607,"answer_id":69321566,"question_id":69320970,"body_markdown":"According to [documentation][1]:\r\n\r\n&gt; The Consumer is executed **first**, then the onNext signal is propagated\r\n&gt; downstream.\r\n\r\nThus, `this::sendThing` consumer will be completed before the `onNext` signal\r\nbe propagated to `this::persistThing`.\r\n\r\nExample:\r\n\r\n```java\r\n    Flux.range(1, 3)\r\n    \t.doOnNext(n -&gt; log.info(&quot;doOnNext1&quot;))\r\n    \t.log()\r\n    \t.doOnNext(n -&gt; log.info(&quot;doOnNext2&quot;))\r\n    \t.blockLast();\r\n```\r\nThe above snippet prints the following:\r\n - doOnNext1\r\n - | onNext(1)\r\n - doOnNext2\r\n - doOnNext1\r\n - | onNext(2)\r\n - doOnNext2\r\n - doOnNext1\r\n - | onNext(3)\r\n - doOnNext2\r\n\r\n`onNext` signal is always propagated before `&quot;doOnNext2&quot;` is printed.\r\n\r\nBear in mind that **doOn** methods should be used only for side-effect operations(e.g. log).\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#doOnNext-java.util.function.Consumer-","title":"In reactive programming, is the sequence of doOnNext calls guaranteed?","body":"<p>According to <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#doOnNext-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The Consumer is executed <strong>first</strong>, then the onNext signal is propagated\ndownstream.</p>\n</blockquote>\n<p>Thus, <code>this::sendThing</code> consumer will be completed before the <code>onNext</code> signal\nbe propagated to <code>this::persistThing</code>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Flux.range(1, 3)\n        .doOnNext(n -&gt; log.info(&quot;doOnNext1&quot;))\n        .log()\n        .doOnNext(n -&gt; log.info(&quot;doOnNext2&quot;))\n        .blockLast();\n</code></pre>\n<p>The above snippet prints the following:</p>\n<ul>\n<li>doOnNext1</li>\n<li>| onNext(1)</li>\n<li>doOnNext2</li>\n<li>doOnNext1</li>\n<li>| onNext(2)</li>\n<li>doOnNext2</li>\n<li>doOnNext1</li>\n<li>| onNext(3)</li>\n<li>doOnNext2</li>\n</ul>\n<p><code>onNext</code> signal is always propagated before <code>&quot;doOnNext2&quot;</code> is printed.</p>\n<p>Bear in mind that <strong>doOn</strong> methods should be used only for side-effect operations(e.g. log).</p>\n"}],"owner":{"account_id":19934,"reputation":1347,"user_id":47152,"accept_rate":62,"display_name":"chacmool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69321566,"answer_count":2,"score":1,"last_activity_date":1632748131,"creation_date":1632516559,"question_id":69320970,"body_markdown":"Reactive programming newbie. I have a sequence of calls in my Flux and I need to ensure they&#39;re done in order. Eg\r\n\r\n```\r\nFlux&lt;Thing&gt; flux = ...\r\n.doOnNext(this::sendThing)\r\n.doOnNext(this::persistThing)\r\n.doOnError(error -&gt; log.error(&quot;&quot;, error))\r\n.blockLast();\r\n```\r\n\r\nI need to ensure that `sendThing` completes before `persistThing`. I&#39;m unclear, being a reactive newbie, if this is guaranteed. \r\n","title":"In reactive programming, is the sequence of doOnNext calls guaranteed?","body":"<p>Reactive programming newbie. I have a sequence of calls in my Flux and I need to ensure they're done in order. Eg</p>\n<pre><code>Flux&lt;Thing&gt; flux = ...\n.doOnNext(this::sendThing)\n.doOnNext(this::persistThing)\n.doOnError(error -&gt; log.error(&quot;&quot;, error))\n.blockLast();\n</code></pre>\n<p>I need to ensure that <code>sendThing</code> completes before <code>persistThing</code>. I'm unclear, being a reactive newbie, if this is guaranteed.</p>\n"},{"tags":["java","javafx","3d","camera"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1632734804,"post_id":69339243,"comment_id":122563983,"body_markdown":"_&quot; I still do not get a proper first person camera_&quot; please explain what do you expect and what do you get","body":"<i>&quot; I still do not get a proper first person camera</i>&quot; please explain what do you expect and what do you get"},{"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"score":1,"creation_date":1632740087,"post_id":69339243,"comment_id":122566131,"body_markdown":"@c0der With the current code, the camera seems to rotate around x = 0 (if you rotate it around the y-Axis). I however want it to rotate around itself. That means, that you should not be able to see an object which you currently cant see, because it is blocked by another object by rotating around either axis. Like I said, it should behave like a first person camera, like in any first person game.","body":"@c0der With the current code, the camera seems to rotate around x = 0 (if you rotate it around the y-Axis). I however want it to rotate around itself. That means, that you should not be able to see an object which you currently cant see, because it is blocked by another object by rotating around either axis. Like I said, it should behave like a first person camera, like in any first person game."}],"answers":[{"tags":[],"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632747788,"creation_date":1632747788,"answer_id":69347122,"question_id":69339243,"body_markdown":"https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/scene/SimpleFPSCamera.java\r\n\r\nIts been a while since we updated it but it should get you started.  ","title":"Create a first person camera in JavaFX","body":"<p><a href=\"https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/scene/SimpleFPSCamera.java\" rel=\"nofollow noreferrer\">https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/scene/SimpleFPSCamera.java</a></p>\n<p>Its been a while since we updated it but it should get you started.</p>\n"}],"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69347122,"answer_count":1,"score":2,"last_activity_date":1632747788,"creation_date":1632693168,"question_id":69339243,"body_markdown":"While trying to create a first person camera in javafx I tried to set the rotationAxis to a new Point3D with the translate Coordinates of the camera. \r\nThat did not work so I started searching on stackoverflow, since I only recently installed javafx I am not yet comfortable with it and therefore had no idea how to even attempt to fix the problem.\r\nAnyways I found the following thread concerning the matter:\r\n\r\nhttps://stackoverflow.com/q/35021784/14909278\r\n\r\nHowever if I copy this code and implement the proposed fix I still do not get a proper first person camera, so any help with this would be greatly appreciated.\r\n\r\nBelow is a simple example code demonstrating the problem.\r\n\r\n```\r\npackage application;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.PerspectiveCamera;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.SubScene;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.PhongMaterial;\r\nimport javafx.scene.shape.Box;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n\tBorderPane pane = new BorderPane();\r\n\tBox box = new Box(150, 150, 600);\r\n\tSubScene sub = new SubScene(new Pane(box), 600, 600);\r\n\tPhongMaterial mat = new PhongMaterial(Color.RED);\r\n\tPerspectiveCamera cam = new PerspectiveCamera();\r\n\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception {\r\n\r\n\t\tsub.setCamera(cam);\r\n\r\n\t\tcam.setRotationAxis(Rotate.Y_AXIS);\r\n\r\n\t\tbox.setMaterial(mat);\r\n\t\tbox.setManaged(false);\r\n\t\tbox.setTranslateX(300);\r\n\t\tbox.setTranslateY(300);\r\n\t\tbox.setRotationAxis(Rotate.X_AXIS);\r\n\t\tbox.setTranslateZ(100);\r\n\r\n\t\tstage.setScene(new Scene(pane));\r\n\t\tstage.sizeToScene();\r\n\r\n\t\tSlider slider1 = new Slider();\r\n\t\tslider1.valueProperty().bindBidirectional(cam.rotateProperty());\r\n\r\n\t\tpane.setCenter(sub);\r\n\t\tpane.setBottom(slider1);\r\n\r\n\t\tstage.centerOnScreen();\r\n\t\tstage.show();\r\n\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```","title":"Create a first person camera in JavaFX","body":"<p>While trying to create a first person camera in javafx I tried to set the rotationAxis to a new Point3D with the translate Coordinates of the camera.\nThat did not work so I started searching on stackoverflow, since I only recently installed javafx I am not yet comfortable with it and therefore had no idea how to even attempt to fix the problem.\nAnyways I found the following thread concerning the matter:</p>\n<p><a href=\"https://stackoverflow.com/q/35021784/14909278\">How would I make a first person camera in JavaFX 3D?</a></p>\n<p>However if I copy this code and implement the proposed fix I still do not get a proper first person camera, so any help with this would be greatly appreciated.</p>\n<p>Below is a simple example code demonstrating the problem.</p>\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.scene.PerspectiveCamera;\nimport javafx.scene.Scene;\nimport javafx.scene.SubScene;\nimport javafx.scene.control.Slider;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.Box;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    BorderPane pane = new BorderPane();\n    Box box = new Box(150, 150, 600);\n    SubScene sub = new SubScene(new Pane(box), 600, 600);\n    PhongMaterial mat = new PhongMaterial(Color.RED);\n    PerspectiveCamera cam = new PerspectiveCamera();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        sub.setCamera(cam);\n\n        cam.setRotationAxis(Rotate.Y_AXIS);\n\n        box.setMaterial(mat);\n        box.setManaged(false);\n        box.setTranslateX(300);\n        box.setTranslateY(300);\n        box.setRotationAxis(Rotate.X_AXIS);\n        box.setTranslateZ(100);\n\n        stage.setScene(new Scene(pane));\n        stage.sizeToScene();\n\n        Slider slider1 = new Slider();\n        slider1.valueProperty().bindBidirectional(cam.rotateProperty());\n\n        pane.setCenter(sub);\n        pane.setBottom(slider1);\n\n        stage.centerOnScreen();\n        stage.show();\n\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632747734,"creation_date":1632747734,"answer_id":69347106,"question_id":69346369,"body_markdown":"Could you not achieve what you are after doing something like:\r\n\r\n\r\n    \r\n    public BigQuery bigQuery1() {\r\n     return BigQueryOptions.newBuilder()\r\n        .setCredentials(\r\n           ServiceAccountCredentials.fromStream(\r\n             new FileInputStream(&quot;your_json_service_keyfile.json&quot;))\r\n        )\r\n        .setProjectId(&quot;bigQuery1&quot;)\r\n        .build().getService();\r\n    }\r\n    \r\n    \r\n    public BigQuery bigQuery2() {\r\n     return BigQueryOptions.newBuilder()\r\n        .setCredentials(\r\n           ServiceAccountCredentials.fromStream(\r\n             new FileInputStream(&quot;your_json_service_keyfile.json&quot;))\r\n        )\r\n        .setProjectId(&quot;bigQuery2&quot;)\r\n        .build().getService();\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Java/Spring: connect to severals BigQuery datasets","body":"<p>Could you not achieve what you are after doing something like:</p>\n<pre><code>public BigQuery bigQuery1() {\n return BigQueryOptions.newBuilder()\n    .setCredentials(\n       ServiceAccountCredentials.fromStream(\n         new FileInputStream(&quot;your_json_service_keyfile.json&quot;))\n    )\n    .setProjectId(&quot;bigQuery1&quot;)\n    .build().getService();\n}\n\n\npublic BigQuery bigQuery2() {\n return BigQueryOptions.newBuilder()\n    .setCredentials(\n       ServiceAccountCredentials.fromStream(\n         new FileInputStream(&quot;your_json_service_keyfile.json&quot;))\n    )\n    .setProjectId(&quot;bigQuery2&quot;)\n    .build().getService();\n}\n</code></pre>\n"}],"owner":{"account_id":11410523,"reputation":412,"user_id":8364799,"accept_rate":80,"display_name":"MrNierda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632747734,"creation_date":1632744579,"question_id":69346369,"body_markdown":"Everything is mostly in the title. \r\nI have an API already connected to a BigQuery dataset, which is regularly queried. Soon, my process will necessitate new data stocked in another BigQuery dataset. \r\n\r\nSo, I started to check if it&#39;s possible to connect to two different BQ datasets to one Spring API. Unless I missed it, I didn&#39;t find any information for this specific case inside BQ documentation.\r\n\r\nAs the API is already connected, the properties values of `spring.cloud.gcp.bigQuery.*` are already defined. As such, I can&#39;t use those properties to define the new connection.\r\n\r\nSo is it possible to connect one API to several BigQuery datasets ? if so, how can I do that with the properties files ?","title":"Java/Spring: connect to severals BigQuery datasets","body":"<p>Everything is mostly in the title.\nI have an API already connected to a BigQuery dataset, which is regularly queried. Soon, my process will necessitate new data stocked in another BigQuery dataset.</p>\n<p>So, I started to check if it's possible to connect to two different BQ datasets to one Spring API. Unless I missed it, I didn't find any information for this specific case inside BQ documentation.</p>\n<p>As the API is already connected, the properties values of <code>spring.cloud.gcp.bigQuery.*</code> are already defined. As such, I can't use those properties to define the new connection.</p>\n<p>So is it possible to connect one API to several BigQuery datasets ? if so, how can I do that with the properties files ?</p>\n"},{"tags":["java","jdbc","cratedb"],"answers":[{"tags":[],"owner":{"account_id":177620,"reputation":1719,"user_id":409068,"display_name":"jayeff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632747578,"creation_date":1632747578,"answer_id":69347061,"question_id":69322860,"body_markdown":"You could create a CrateDB user with [Data Query Language (DQL) privileges][1] only and subsequently use this user to connect with JDBC. This will prevent all `INSERT` / `UPDATE` / `DELETE` / `DROP` operations.\r\n\r\n```SQL\r\nCREATE USER read_only WITH (password = &#39;&lt;secure-password&gt;&#39;);\r\nGRANT DQL TO read_only;\r\n```\r\n\r\nIf required you can further restrict access only to specific schemas, tables or views. Compare the documentation on how to achieve this.\r\n\r\n\r\n  [1]: https://crate.io/docs/crate/reference/en/4.6/admin/privileges.html#dql","title":"Unable to use Crate JDBC 2.6.0 in read only mode","body":"<p>You could create a CrateDB user with <a href=\"https://crate.io/docs/crate/reference/en/4.6/admin/privileges.html#dql\" rel=\"nofollow noreferrer\">Data Query Language (DQL) privileges</a> only and subsequently use this user to connect with JDBC. This will prevent all <code>INSERT</code> / <code>UPDATE</code> / <code>DELETE</code> / <code>DROP</code> operations.</p>\n<pre><code>CREATE USER read_only WITH (password = '&lt;secure-password&gt;');\nGRANT DQL TO read_only;\n</code></pre>\n<p>If required you can further restrict access only to specific schemas, tables or views. Compare the documentation on how to achieve this.</p>\n"}],"owner":{"account_id":12375458,"reputation":640,"user_id":9023547,"display_name":"Chandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69347061,"answer_count":1,"score":-1,"last_activity_date":1632747578,"creation_date":1632539659,"question_id":69322860,"body_markdown":"I want to restrict delete/update statements\r\n\r\nThis is what I am trying\r\n\r\n`ResultSet rs = stmt.executeQuery(&quot;delete from test where id=243640033&quot;)`\r\n\r\nIdeally `executeQuery` method of JDBC should not allow update, delete and etc. But Crate Database is simply executing delete queries. Then I tried `connection.setReadOnly(true)` and it did not work\r\n\r\nIs there any way to restrict Crate JDBC doing update/delete/drop operations from `stmt.executeQuery(somequery)` method ?","title":"Unable to use Crate JDBC 2.6.0 in read only mode","body":"<p>I want to restrict delete/update statements</p>\n<p>This is what I am trying</p>\n<p><code>ResultSet rs = stmt.executeQuery(&quot;delete from test where id=243640033&quot;)</code></p>\n<p>Ideally <code>executeQuery</code> method of JDBC should not allow update, delete and etc. But Crate Database is simply executing delete queries. Then I tried <code>connection.setReadOnly(true)</code> and it did not work</p>\n<p>Is there any way to restrict Crate JDBC doing update/delete/drop operations from <code>stmt.executeQuery(somequery)</code> method ?</p>\n"},{"tags":["java","intellij-idea","unicode","string-literals","code-editor"],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632717454,"creation_date":1632717454,"answer_id":69341287,"question_id":69339397,"body_markdown":"It&#39;s regression in IntelliJ IDEA. See https://youtrack.jetbrains.com/issue/IDEA-278540 for details. ","title":"Stop IntelliJ code editor from escaping pasted string literal characters","body":"<p>It's regression in IntelliJ IDEA. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-278540\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-278540</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632747418,"creation_date":1632747418,"answer_id":69347013,"question_id":69339397,"body_markdown":"Use `Edit | Paste | Paste as Plain Text` to paste without any escaping.","title":"Stop IntelliJ code editor from escaping pasted string literal characters","body":"<p>Use <code>Edit | Paste | Paste as Plain Text</code> to paste without any escaping.</p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1632747418,"creation_date":1632694817,"question_id":69339397,"body_markdown":"What I want:\r\n\r\n    String x = &quot;&#128567;&quot; ;\r\n\r\nWhat I get in Apple [*TextEdit*][1] 1.16 text editor app when clicking `&#128567;` from the macOS &quot;Show Emojis &amp; Symbols&quot; floating windoid:\r\n \r\n    String x = &quot;&#128567;&quot; ;\r\n\r\n# Problem 1\r\n\r\nWhat I get in [*IntelliJ*][2] 2021.2.2 code editor when clicking `&#128567;` from the macOS &quot;Show Emojis &amp; Symbols&quot; floating windoid:\r\n\r\n    String x = &quot;&#240;&quot; ;\r\n\r\n**Update:** This appears to be a currently known bug. See issue page [*IDEA-278540 Emoji in OSX are rendered as another unicode*](https://youtrack.jetbrains.com/issue/IDEA-278540), as noted in [Answer by Konstantin Annikov][3]. \r\n\r\n# Problem 2\r\n\r\nWhat I get in [*IntelliJ*][2] 2021.2.2 code editor when pasting that `&#128567;` character copied from *TextEdit* app:\r\n\r\n    String x = &quot;\\uD83D\\uDE37&quot; ;\r\n\r\nPresumably the issue revolves around Unicode characters outside the [Basic Multilingual Plane][4].\r\n\r\n➯ Is there any way to make the IntelliJ code editor accept such characters directly, without escaping?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/TextEdit\r\n  [2]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [3]: https://stackoverflow.com/a/69341287/642706\r\n  [4]: https://en.wikipedia.org/wiki/Plane_(Unicode)","title":"Stop IntelliJ code editor from escaping pasted string literal characters","body":"<p>What I want:</p>\n<pre><code>String x = &quot;😷&quot; ;\n</code></pre>\n<p>What I get in Apple <a href=\"https://en.wikipedia.org/wiki/TextEdit\" rel=\"nofollow noreferrer\"><em>TextEdit</em></a> 1.16 text editor app when clicking <code>😷</code> from the macOS &quot;Show Emojis &amp; Symbols&quot; floating windoid:</p>\n<pre><code>String x = &quot;😷&quot; ;\n</code></pre>\n<h1>Problem 1</h1>\n<p>What I get in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\"><em>IntelliJ</em></a> 2021.2.2 code editor when clicking <code>😷</code> from the macOS &quot;Show Emojis &amp; Symbols&quot; floating windoid:</p>\n<pre><code>String x = &quot;ð&quot; ;\n</code></pre>\n<p><strong>Update:</strong> This appears to be a currently known bug. See issue page <a href=\"https://youtrack.jetbrains.com/issue/IDEA-278540\" rel=\"nofollow noreferrer\"><em>IDEA-278540 Emoji in OSX are rendered as another unicode</em></a>, as noted in <a href=\"https://stackoverflow.com/a/69341287/642706\">Answer by Konstantin Annikov</a>.</p>\n<h1>Problem 2</h1>\n<p>What I get in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\"><em>IntelliJ</em></a> 2021.2.2 code editor when pasting that <code>😷</code> character copied from <em>TextEdit</em> app:</p>\n<pre><code>String x = &quot;\\uD83D\\uDE37&quot; ;\n</code></pre>\n<p>Presumably the issue revolves around Unicode characters outside the <a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)\" rel=\"nofollow noreferrer\">Basic Multilingual Plane</a>.</p>\n<p>➯ Is there any way to make the IntelliJ code editor accept such characters directly, without escaping?</p>\n"},{"tags":["java","android","xml","menu","menuitem"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1632748420,"post_id":69346960,"comment_id":122569429,"body_markdown":"You&#39;ve got the right idea with that `&lt;style&gt;`, but you can&#39;t apply it in the `menu` XML. Instead, you would set it as the `actionMenuTextAppearance` in the `Activity`&#39;s theme: `&lt;item name=&quot;actionMenuTextAppearance&quot;&gt;@style/CustomMenuItemText&lt;/item&gt;`. Also, you probably don&#39;t want to use a `DeviceDefault` style for the `parent`; rather, `parent=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Menu&quot;`.","body":"You&#39;ve got the right idea with that <code>&lt;style&gt;</code>, but you can&#39;t apply it in the <code>menu</code> XML. Instead, you would set it as the <code>actionMenuTextAppearance</code> in the <code>Activity</code>&#39;s theme: <code>&lt;item name=&quot;actionMenuTextAppearance&quot;&gt;@style&#47;CustomMenuItemText&lt;&#47;i&zwnj;&#8203;tem&gt;</code>. Also, you probably don&#39;t want to use a <code>DeviceDefault</code> style for the <code>parent</code>; rather, <code>parent=&quot;@style&#47;TextAppearance.AppCompat.Widget.ActionBar.Men&zwnj;&#8203;u&quot;</code>."},{"owner":{"account_id":15996809,"reputation":502,"user_id":11544539,"display_name":"C0mpl3x"},"score":0,"creation_date":1632749419,"post_id":69346960,"comment_id":122569909,"body_markdown":"It seems to have worked but only for some items even tough they are the same, only thing that&#39;s different is title and id. weird. Thanks tho, You&#39;ve set me on the right path.","body":"It seems to have worked but only for some items even tough they are the same, only thing that&#39;s different is title and id. weird. Thanks tho, You&#39;ve set me on the right path."},{"owner":{"account_id":15996809,"reputation":502,"user_id":11544539,"display_name":"C0mpl3x"},"score":0,"creation_date":1632749596,"post_id":69346960,"comment_id":122570010,"body_markdown":"I&#39;ve found out what was wrong, the style is for actions so if it&#39;s false it doesn&#39;t apply to it, missed that bit. I&#39;ll find out how to give it style and everything should work so if you put it as an answer I can mark it as correct.","body":"I&#39;ve found out what was wrong, the style is for actions so if it&#39;s false it doesn&#39;t apply to it, missed that bit. I&#39;ll find out how to give it style and everything should work so if you put it as an answer I can mark it as correct."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1632750594,"post_id":69346960,"comment_id":122570444,"body_markdown":"Yeah, that&#39;ll only affect the items in the `ActionBar` itself. I guess I assumed that&#39;s what you meant, given the `app:showAsAction=&quot;always&quot;` on the example. If you want to style the overflow menu, too, I _think_ that&#39;ll be `actionBarPopupTheme`, but I&#39;d have to do some digging for the details, as I don&#39;t remember them off-hand.","body":"Yeah, that&#39;ll only affect the items in the <code>ActionBar</code> itself. I guess I assumed that&#39;s what you meant, given the <code>app:showAsAction=&quot;always&quot;</code> on the example. If you want to style the overflow menu, too, I <i>think</i> that&#39;ll be <code>actionBarPopupTheme</code>, but I&#39;d have to do some digging for the details, as I don&#39;t remember them off-hand."}],"owner":{"account_id":15996809,"reputation":502,"user_id":11544539,"display_name":"C0mpl3x"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632747165,"creation_date":1632747165,"question_id":69346960,"body_markdown":"I have simple navigation menu:\r\n\r\n\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        tools:context=&quot;.view.SaleActivity&quot;&gt;\r\n    \r\n       &lt;item\r\n            android:id=&quot;@+id/action_delete&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/action_delete&quot;\r\n            android:icon=&quot;@drawable/ic_sum&quot;\r\n            app:showAsAction=&quot;always&quot; /&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\nI&#39;d like to change the items text size. I&#39;ve been looking for some time and \r\nadding `android:textSize=&quot;20sp&quot;` doesn&#39;t work and nor does `app:itemTextAppearance=&quot;@style/CustomMenuItemText&quot;`. \r\n\r\nThis is my style for the `CustomMenuItemText`:\r\n\r\n        &lt;style name=&quot;CustomMenuItemText&quot; parent=&quot;@android:style/TextAppearance.DeviceDefault.Widget.ActionBar.Menu&quot;&gt;\r\n            &lt;item name=&quot;android:textSize&quot;&gt;25sp&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\nAm I doing something wrong with the style or I have to change the textSize different way?\r\nI want to do it in xml.","title":"How to change textSize of menu item in android?","body":"<p>I have simple navigation menu:</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;.view.SaleActivity&quot;&gt;\n\n   &lt;item\n        android:id=&quot;@+id/action_delete&quot;\n        android:orderInCategory=&quot;100&quot;\n        android:title=&quot;@string/action_delete&quot;\n        android:icon=&quot;@drawable/ic_sum&quot;\n        app:showAsAction=&quot;always&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>I'd like to change the items text size. I've been looking for some time and\nadding <code>android:textSize=&quot;20sp&quot;</code> doesn't work and nor does <code>app:itemTextAppearance=&quot;@style/CustomMenuItemText&quot;</code>.</p>\n<p>This is my style for the <code>CustomMenuItemText</code>:</p>\n<pre><code>    &lt;style name=&quot;CustomMenuItemText&quot; parent=&quot;@android:style/TextAppearance.DeviceDefault.Widget.ActionBar.Menu&quot;&gt;\n        &lt;item name=&quot;android:textSize&quot;&gt;25sp&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>Am I doing something wrong with the style or I have to change the textSize different way?\nI want to do it in xml.</p>\n"},{"tags":["java","node.js","azure","api","microsoft-teams"],"comments":[{"owner":{"account_id":22137897,"reputation":730,"user_id":16388338,"display_name":"ChetanSharma-msft"},"score":1,"creation_date":1632460959,"post_id":69305372,"comment_id":122503000,"body_markdown":"Could you please share the documentation URL which you are referring, so that we can check it from our end.","body":"Could you please share the documentation URL which you are referring, so that we can check it from our end."},{"owner":{"account_id":15923441,"reputation":326,"user_id":11522066,"display_name":"Betini O. Heleno"},"score":0,"creation_date":1632485810,"post_id":69305372,"comment_id":122512074,"body_markdown":"https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript","body":"<a href=\"https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/graph/api/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4124156,"reputation":6231,"user_id":3383751,"accept_rate":50,"display_name":"maxpaj"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632746769,"creation_date":1632724200,"answer_id":69342122,"question_id":69305372,"body_markdown":"Your code is currently trying to **read messages**, by using a GET HTTP request, which is the `.get()` part in your code. \r\n\r\nIf **sending a message** is what you want to do, then you need to make a POST request instead, by changing the `.get()` to   `.post(channelMessage)`.\r\n\r\n## More on the Protected APIs\r\n\r\nAccording to the [&quot;Protected APIs&quot; documentation][1]:\r\n\r\n&gt; Microsoft Teams APIs in Microsoft Graph that access **sensitive data**\r\n&gt; are considered protected APIs. These APIs require that you have\r\n&gt; additional validation, beyond permissions and consent, before you can\r\n&gt; use them.\r\n\r\nPersonal messages appears to be sensitive data, which makes sense. However, note that there is an alternative solution where you use the API as if the user was using the API. It is called [Delegated permissions][2]. \r\n\r\n&gt; Delegated permissions are used by apps that have a signed-in user\r\n&gt; present. For these apps, either the user or an administrator consents\r\n&gt; to the permissions that the app requests and the app can act as the\r\n&gt; signed-in user when making calls to Microsoft Graph. Some delegated\r\n&gt; permissions can be consented by non-administrative users, but some\r\n&gt; higher-privileged permissions require administrator consent.\r\n\r\n\r\nIf delegated permissions isn&#39;t an option for you, you can still make a formal request to Microsoft Graph, asking for permissions to use the API without any user interaction.\r\n\r\n&gt; To request access to these protected APIs, complete the following\r\n&gt; request form. We review access requests every Wednesday and deploy\r\n&gt; approvals every Friday, except during major holiday weeks in the U.S.\r\n&gt; Submissions during those weeks will be processed the following\r\n&gt; non-holiday week.\r\n\r\n[Here is the form for sending a formal request.][3]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/teams-protected-apis\r\n  [2]: https://learn.microsoft.com/en-us/graph/auth/auth-concepts#delegated-and-application-permissions\r\n  [3]: https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR1ax4zKyZjVBmutzKVo1pVtUQ1VJMlNTNUdJV1FKTzVZSVU4MlMwTTdOTSQlQCN0PWcu","title":"GraphError: Invoked API requires Protected API access in application-only context when not using Resource Specific Consent","body":"<p>Your code is currently trying to <strong>read messages</strong>, by using a GET HTTP request, which is the <code>.get()</code> part in your code.</p>\n<p>If <strong>sending a message</strong> is what you want to do, then you need to make a POST request instead, by changing the <code>.get()</code> to   <code>.post(channelMessage)</code>.</p>\n<h2>More on the Protected APIs</h2>\n<p>According to the <a href=\"https://learn.microsoft.com/en-us/graph/teams-protected-apis\" rel=\"nofollow noreferrer\">&quot;Protected APIs&quot; documentation</a>:</p>\n<blockquote>\n<p>Microsoft Teams APIs in Microsoft Graph that access <strong>sensitive data</strong>\nare considered protected APIs. These APIs require that you have\nadditional validation, beyond permissions and consent, before you can\nuse them.</p>\n</blockquote>\n<p>Personal messages appears to be sensitive data, which makes sense. However, note that there is an alternative solution where you use the API as if the user was using the API. It is called <a href=\"https://learn.microsoft.com/en-us/graph/auth/auth-concepts#delegated-and-application-permissions\" rel=\"nofollow noreferrer\">Delegated permissions</a>.</p>\n<blockquote>\n<p>Delegated permissions are used by apps that have a signed-in user\npresent. For these apps, either the user or an administrator consents\nto the permissions that the app requests and the app can act as the\nsigned-in user when making calls to Microsoft Graph. Some delegated\npermissions can be consented by non-administrative users, but some\nhigher-privileged permissions require administrator consent.</p>\n</blockquote>\n<p>If delegated permissions isn't an option for you, you can still make a formal request to Microsoft Graph, asking for permissions to use the API without any user interaction.</p>\n<blockquote>\n<p>To request access to these protected APIs, complete the following\nrequest form. We review access requests every Wednesday and deploy\napprovals every Friday, except during major holiday weeks in the U.S.\nSubmissions during those weeks will be processed the following\nnon-holiday week.</p>\n</blockquote>\n<p><a href=\"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR1ax4zKyZjVBmutzKVo1pVtUQ1VJMlNTNUdJV1FKTzVZSVU4MlMwTTdOTSQlQCN0PWcu\" rel=\"nofollow noreferrer\">Here is the form for sending a formal request.</a></p>\n"}],"owner":{"account_id":15923441,"reputation":326,"user_id":11522066,"display_name":"Betini O. Heleno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2399,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1632746769,"creation_date":1632422445,"question_id":69305372,"body_markdown":"I&#39;m trying to make an api that sends messages to a specific channel or group on teams.\r\n\r\nI followed the documentation correctly. In Azure I gave all permissions to my application.\r\nShe has the tenandId, clientId and secretId configured, however when I send the request I have this return.\r\n\r\nDoes anyone know the solution or have experienced this error?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/huSgH.jpg\r\n  [2]: https://i.stack.imgur.com/mmh0B.jpg\r\n\r\nDocumentantion:\r\nhttps://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript","title":"GraphError: Invoked API requires Protected API access in application-only context when not using Resource Specific Consent","body":"<p>I'm trying to make an api that sends messages to a specific channel or group on teams.</p>\n<p>I followed the documentation correctly. In Azure I gave all permissions to my application.\nShe has the tenandId, clientId and secretId configured, however when I send the request I have this return.</p>\n<p>Does anyone know the solution or have experienced this error?</p>\n<p><a href=\"https://i.stack.imgur.com/huSgH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/huSgH.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mmh0B.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mmh0B.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Documentantion:\n<a href=\"https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript</a></p>\n"},{"tags":["java","spring-boot","reflection","classloader","classnotfoundexception"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1632746742,"post_id":69345505,"comment_id":122568707,"body_markdown":"1. This code won&#39;t compile 2. post the stack trace.","body":"1. This code won&#39;t compile 2. post the stack trace."},{"owner":{"account_id":7770724,"reputation":48,"user_id":5880404,"display_name":"Rajib Sharma"},"score":0,"creation_date":1632750231,"post_id":69345505,"comment_id":122570283,"body_markdown":"I corrected the File, It just says ClassNotFoundException at line xxx, I cant copy paste the stack trace as its not permissible from VDS...","body":"I corrected the File, It just says ClassNotFoundException at line xxx, I cant copy paste the stack trace as its not permissible from VDS..."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1632753308,"post_id":69345505,"comment_id":122571716,"body_markdown":"What is the &lt;scope&gt; of the maven dependency ?","body":"What is the &lt;scope&gt; of the maven dependency ?"},{"owner":{"account_id":7770724,"reputation":48,"user_id":5880404,"display_name":"Rajib Sharma"},"score":0,"creation_date":1632754619,"post_id":69345505,"comment_id":122572284,"body_markdown":"Didn&#39;t put any scope in maven","body":"Didn&#39;t put any scope in maven"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1632760927,"post_id":69345505,"comment_id":122574898,"body_markdown":"Then the class com.abc.dto.AbcDTO is not deployed to your &quot;cloud&quot; or your &quot;cloud&quot; environment has any limit on reading from the classpath. Can&#180;t tell, as I don t know your deploy setup.","body":"Then the class com.abc.dto.AbcDTO is not deployed to your &quot;cloud&quot; or your &quot;cloud&quot; environment has any limit on reading from the classpath. Can&#180;t tell, as I don t know your deploy setup."},{"owner":{"account_id":7770724,"reputation":48,"user_id":5880404,"display_name":"Rajib Sharma"},"score":0,"creation_date":1632767952,"post_id":69345505,"comment_id":122577464,"body_markdown":"The DTO file is in the main Spring boot project.","body":"The DTO file is in the main Spring boot project."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1632774271,"post_id":69345505,"comment_id":122579681,"body_markdown":"`I corrected the File`, where ? This code won&#39;t compile. The method `readFile` has to return a `List&lt;T&gt;`. Probably you are not running the same code on local and remote.","body":"<code>I corrected the File</code>, where ? This code won&#39;t compile. The method <code>readFile</code> has to return a <code>List&lt;T&gt;</code>. Probably you are not running the same code on local and remote."}],"owner":{"account_id":7770724,"reputation":48,"user_id":5880404,"display_name":"Rajib Sharma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632746683,"creation_date":1632740597,"question_id":69345505,"body_markdown":"I have a Spring boot Project which Contains a DTO object. In one of our Jar we have a program to Read a file and create the DTO object. I am trying to load the DTO through Reflection. Its working perfectly from local eclipse workspace but when I deploy it in the cloud it fails, giving class not found exception. The below code is in the Jar which is added as maven dependendy.\r\n\r\n        public class AbcFileReader&lt;T extends ReaderInterface&gt;{\r\n            public List&lt;T&gt; readFile(File file, String className){\r\n               T newObj = (T)Class.forName(className).newInstance();        \r\n        }\r\nHere `className = &quot;com.abc.dto.AbcDTO&quot;;`Its implements ReaderInterface.java and the class is present in the package. \r\nI have also tried the below line. But not working on cloud.\r\n\r\n    ClassLoader contextCL = Thread.currentThread().getContextClassLoader();\r\n    T newObj = (T)Class.forName(className,true, contextCL).newInstance();","title":"ClassNotFoundException While running on Cloud Server but works from Local Eclipse","body":"<p>I have a Spring boot Project which Contains a DTO object. In one of our Jar we have a program to Read a file and create the DTO object. I am trying to load the DTO through Reflection. Its working perfectly from local eclipse workspace but when I deploy it in the cloud it fails, giving class not found exception. The below code is in the Jar which is added as maven dependendy.</p>\n<pre><code>    public class AbcFileReader&lt;T extends ReaderInterface&gt;{\n        public List&lt;T&gt; readFile(File file, String className){\n           T newObj = (T)Class.forName(className).newInstance();        \n    }\n</code></pre>\n<p>Here <code>className = &quot;com.abc.dto.AbcDTO&quot;;</code>Its implements ReaderInterface.java and the class is present in the package.\nI have also tried the below line. But not working on cloud.</p>\n<pre><code>ClassLoader contextCL = Thread.currentThread().getContextClassLoader();\nT newObj = (T)Class.forName(className,true, contextCL).newInstance();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1632745774,"post_id":69346613,"comment_id":122568276,"body_markdown":"Split the strings on `\\r`. This will give you an array of strings for each line.","body":"Split the strings on <code>\\r</code>. This will give you an array of strings for each line."}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632746490,"creation_date":1632746490,"answer_id":69346813,"question_id":69346613,"body_markdown":"This is because when you want to write your stylized version of AB you need to print the &quot;first line&quot; of A followed by the &quot;first line&quot; of B, then seconds, etc.\r\n\r\nSo the best would be to have (as @johnny suggested) an array of &quot;lines&quot; for your characters. Like:\r\n\r\n    String []asciiB = {\r\n        &quot; ███████████ &quot;,\r\n        &quot;░░███░░░░░███&quot;, \r\n        ...\r\n    };\r\n\r\nand then if you want to print `AB` to iterate over both arrays line by line in parallel:\r\n\r\n    for (int i=0; i&lt;asciiA.length; i++)\r\n        System.out.println(asciiA[i]+&quot; &quot;+asciiB[i]);\r\n\r\nGeneralized it with a map from character-to-print to array-of-lines:\r\n\r\n    Map&lt;Character,String[]&gt; ascii = new HashMap&lt;&gt;();\r\n    ascii.put(&#39;A&#39;,asciiA);\r\n    ...\r\n\r\n    String s = &quot;ABCD&quot;;\r\n    for (int i=0; i&lt;numberOfLinesPerChar; i++)\r\n        for (char c: s) {\r\n            System.out.print(ascii.get(c)[i]);\r\n            System.out.print(&#39; &#39;); // separator\r\n        }\r\n        System.out.println(); // end of line\r\n    }","title":"Print ASCII lines next to each other in Java?","body":"<p>This is because when you want to write your stylized version of AB you need to print the &quot;first line&quot; of A followed by the &quot;first line&quot; of B, then seconds, etc.</p>\n<p>So the best would be to have (as @johnny suggested) an array of &quot;lines&quot; for your characters. Like:</p>\n<pre><code>String []asciiB = {\n    &quot; ███████████ &quot;,\n    &quot;░░███░░░░░███&quot;, \n    ...\n};\n</code></pre>\n<p>and then if you want to print <code>AB</code> to iterate over both arrays line by line in parallel:</p>\n<pre><code>for (int i=0; i&lt;asciiA.length; i++)\n    System.out.println(asciiA[i]+&quot; &quot;+asciiB[i]);\n</code></pre>\n<p>Generalized it with a map from character-to-print to array-of-lines:</p>\n<pre><code>Map&lt;Character,String[]&gt; ascii = new HashMap&lt;&gt;();\nascii.put('A',asciiA);\n...\n\nString s = &quot;ABCD&quot;;\nfor (int i=0; i&lt;numberOfLinesPerChar; i++)\n    for (char c: s) {\n        System.out.print(ascii.get(c)[i]);\n        System.out.print(' '); // separator\n    }\n    System.out.println(); // end of line\n}\n</code></pre>\n"}],"owner":{"account_id":18755564,"reputation":233,"user_id":13675670,"display_name":"Deniz Demir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69346813,"answer_count":1,"score":3,"last_activity_date":1632746490,"creation_date":1632745689,"question_id":69346613,"body_markdown":"I don&#39;t know if this is ASCII per se, but I couldn&#39;t really think of a better term. \r\n\r\nSo I have a string for each letter of the alphabet as a stylized version of it.\r\n\r\n    String asciiA = &quot;&quot;&quot;\r\n           █████████ \\r\r\n          ███░░░░░███\\r\r\n         ░███    ░███\\r\r\n         ░███████████\\r\r\n         ░███░░░░░███\\r\r\n         ░███    ░███\\r\r\n         █████   █████\\r\r\n        ░░░░░   ░░░░░\\r\r\n                     \\r\r\n                     \\r\r\n                     \\r&quot;&quot;&quot;;\r\n    String asciiB = &quot;&quot;&quot;\r\n         ███████████\\r\r\n        ░░███░░░░░███\\r\r\n         ░███    ░███\\r\r\n         ░██████████\\r\r\n         ░███░░░░░███\\r\r\n         ░███    ░███\\r\r\n         ███████████\\r\r\n        ░░░░░░░░░░░ \\r\r\n                    \\r\r\n                    \\r\r\n                    \\r&quot;&quot;&quot;;\r\n\r\nLike this. \r\n\r\nI made it so that when player presses, say, AB, the stylized version of those letters are displayed on screen. But the problem is they are not displayed on the same line even though I use `System.out.print();` and \\r for the characters. I&#39;m thinking it&#39;s because these are special characters. Does anyone know of a way?","title":"Print ASCII lines next to each other in Java?","body":"<p>I don't know if this is ASCII per se, but I couldn't really think of a better term.</p>\n<p>So I have a string for each letter of the alphabet as a stylized version of it.</p>\n<pre><code>String asciiA = &quot;&quot;&quot;\n       █████████ \\r\n      ███░░░░░███\\r\n     ░███    ░███\\r\n     ░███████████\\r\n     ░███░░░░░███\\r\n     ░███    ░███\\r\n     █████   █████\\r\n    ░░░░░   ░░░░░\\r\n                 \\r\n                 \\r\n                 \\r&quot;&quot;&quot;;\nString asciiB = &quot;&quot;&quot;\n     ███████████\\r\n    ░░███░░░░░███\\r\n     ░███    ░███\\r\n     ░██████████\\r\n     ░███░░░░░███\\r\n     ░███    ░███\\r\n     ███████████\\r\n    ░░░░░░░░░░░ \\r\n                \\r\n                \\r\n                \\r&quot;&quot;&quot;;\n</code></pre>\n<p>Like this.</p>\n<p>I made it so that when player presses, say, AB, the stylized version of those letters are displayed on screen. But the problem is they are not displayed on the same line even though I use <code>System.out.print();</code> and \\r for the characters. I'm thinking it's because these are special characters. Does anyone know of a way?</p>\n"},{"tags":["java","netbeans","ide","save","filenames"],"answers":[{"tags":[],"owner":{"account_id":1126511,"reputation":31,"user_id":1113678,"display_name":"Leaddore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632164582,"creation_date":1632164582,"answer_id":69259597,"question_id":69259478,"body_markdown":"What it looks like to me, is the file association for .java files in your computer are set to use jGRASP, you should be able to just change the association in your PC and it would be fine. They are just .java files so if you submit them it should be ok, but you can change it.\r\n\r\n**https://support.microsoft.com/en-us/windows/change-default-programs-in-windows-10-e5d82cad-17d1-c53b-3505-f10a32e1894d**","title":"File Saving Under Wrong IDE","body":"<p>What it looks like to me, is the file association for .java files in your computer are set to use jGRASP, you should be able to just change the association in your PC and it would be fine. They are just .java files so if you submit them it should be ok, but you can change it.</p>\n<p><strong><a href=\"https://support.microsoft.com/en-us/windows/change-default-programs-in-windows-10-e5d82cad-17d1-c53b-3505-f10a32e1894d\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/windows/change-default-programs-in-windows-10-e5d82cad-17d1-c53b-3505-f10a32e1894d</a></strong></p>\n"},{"tags":[],"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632235233,"creation_date":1632235233,"answer_id":69270908,"question_id":69259478,"body_markdown":"To explain a bit more, there is nothing in the file itself that indicates which application saved it. A source file is just plain text, and what you see when editing it is all that is there.","title":"File Saving Under Wrong IDE","body":"<p>To explain a bit more, there is nothing in the file itself that indicates which application saved it. A source file is just plain text, and what you see when editing it is all that is there.</p>\n"}],"owner":{"account_id":22808372,"reputation":11,"user_id":16960097,"display_name":"Mitchell Walker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632746302,"creation_date":1632163811,"question_id":69259478,"body_markdown":"I have been using two separate IDE&#39;s for my coursework (jGRASP and Netbeans). Whenever I attempt to save a file in Netbeans, the file automatically saves as a &quot;jGRASP Java file&quot; instead (see picture below). When I open the project from file explorer it automatically opens jGRASP instead of Netbeans, even though I saved the project while using Netbeans. Is there a way to ensure that projects I work on in Netbeans do not save as jGRASP files? When submitting my assignments, I have been instructed to ensure they are Netbeans projects (not any other IDE).\r\n\r\n![picture of file explorer saving under jGRASP Java files][1]\r\n\r\n  [1]: https://i.stack.imgur.com/pfubR.png","title":"File Saving Under Wrong IDE","body":"<p>I have been using two separate IDE's for my coursework (jGRASP and Netbeans). Whenever I attempt to save a file in Netbeans, the file automatically saves as a &quot;jGRASP Java file&quot; instead (see picture below). When I open the project from file explorer it automatically opens jGRASP instead of Netbeans, even though I saved the project while using Netbeans. Is there a way to ensure that projects I work on in Netbeans do not save as jGRASP files? When submitting my assignments, I have been instructed to ensure they are Netbeans projects (not any other IDE).</p>\n<p><img src=\"https://i.stack.imgur.com/pfubR.png\" alt=\"picture of file explorer saving under jGRASP Java files\" /></p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1632744418,"post_id":69346224,"comment_id":122567759,"body_markdown":"One (but possibly not the only) error: You do not reset your counter in between loops that you use to count how often a number was found.","body":"One (but possibly not the only) error: You do not reset your counter in between loops that you use to count how often a number was found."}],"answers":[{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632744987,"creation_date":1632744987,"answer_id":69346445,"question_id":69346224,"body_markdown":"For sure not the best solution :)\r\n\r\n    public static List&lt;Integer&gt; findNumbersWithCount(int[] listOfNumbers, int countOfOccurrenceThreshold) {\r\n          HashSet&lt;Integer&gt; existing = new HashSet&lt;&gt;();\r\n          return Arrays.stream(listOfNumbers).filter(e -&gt; !existing.add(e)).distinct().sorted().boxed().collect(Collectors.toList());\r\n        }","title":"Write Method that returns a List of the numbers from a specified int array that appear n OR more times in that array","body":"<p>For sure not the best solution :)</p>\n<pre><code>public static List&lt;Integer&gt; findNumbersWithCount(int[] listOfNumbers, int countOfOccurrenceThreshold) {\n      HashSet&lt;Integer&gt; existing = new HashSet&lt;&gt;();\n      return Arrays.stream(listOfNumbers).filter(e -&gt; !existing.add(e)).distinct().sorted().boxed().collect(Collectors.toList());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10482734,"reputation":441,"user_id":7727261,"display_name":"Thomas Angeland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632746197,"creation_date":1632746197,"answer_id":69346739,"question_id":69346224,"body_markdown":"This is not an ideal solution, but might help you understand how to solve it. This is converted from C# so sorry if something looks unorthodox.\r\n\r\n```Java\r\nimport java.util.*;\r\n\r\npublic class Program\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tjava.lang.Iterable&lt;Integer&gt; numbers = FindNumbersWithCount(new int[] {5, 4, 3, 2, 1, 5, 4, 3, 2, 5, 4, 3, 5, 4, 5}, 2);\r\n\t\tSystem.out.println(numbers);\r\n\t}\r\n\r\n\tpublic static java.lang.Iterable&lt;Integer&gt; FindNumbersWithCount(int[] listOfNumbers, int count)\r\n\t{\r\n\t\tHashMap&lt;Integer, Integer&gt; dictionary = new HashMap&lt;Integer, Integer&gt;();\r\n\t\tHashSet&lt;Integer&gt; match = new HashSet&lt;Integer&gt;();\r\n\r\n\t\tfor (int index = 0; index &lt; listOfNumbers.length; index++)\r\n\t\t{\r\n\t\t\tint number = listOfNumbers[index];\r\n\r\n\t\t\tif (match.contains(number))\r\n\t\t\t{\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (!dictionary.containsKey(number))\r\n\t\t\t{\r\n\t\t\t\tdictionary.put(number, 0);\r\n\t\t\t}\r\n\r\n            dictionary.put(number, dictionary.get(number) + 1);\r\n\r\n\t\t\tif (dictionary.get(number).compareTo(count) &gt;= 0)\r\n\t\t\t{\r\n\t\t\t\tmatch.add(number);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn match;\r\n\t}\r\n}\r\n```\r\n\r\nBasically create a Map of the numbers and their counts, then save any that is equal or above the desired count to a HashSet and return it.","title":"Write Method that returns a List of the numbers from a specified int array that appear n OR more times in that array","body":"<p>This is not an ideal solution, but might help you understand how to solve it. This is converted from C# so sorry if something looks unorthodox.</p>\n<pre><code>import java.util.*;\n\npublic class Program\n{\n    public static void main(String[] args)\n    {\n        java.lang.Iterable&lt;Integer&gt; numbers = FindNumbersWithCount(new int[] {5, 4, 3, 2, 1, 5, 4, 3, 2, 5, 4, 3, 5, 4, 5}, 2);\n        System.out.println(numbers);\n    }\n\n    public static java.lang.Iterable&lt;Integer&gt; FindNumbersWithCount(int[] listOfNumbers, int count)\n    {\n        HashMap&lt;Integer, Integer&gt; dictionary = new HashMap&lt;Integer, Integer&gt;();\n        HashSet&lt;Integer&gt; match = new HashSet&lt;Integer&gt;();\n\n        for (int index = 0; index &lt; listOfNumbers.length; index++)\n        {\n            int number = listOfNumbers[index];\n\n            if (match.contains(number))\n            {\n                continue;\n            }\n\n            if (!dictionary.containsKey(number))\n            {\n                dictionary.put(number, 0);\n            }\n\n            dictionary.put(number, dictionary.get(number) + 1);\n\n            if (dictionary.get(number).compareTo(count) &gt;= 0)\n            {\n                match.add(number);\n            }\n        }\n\n        return match;\n    }\n}\n</code></pre>\n<p>Basically create a Map of the numbers and their counts, then save any that is equal or above the desired count to a HashSet and return it.</p>\n"}],"owner":{"account_id":18613157,"reputation":11,"user_id":13565033,"display_name":"Hanginium2412"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632746197,"creation_date":1632744015,"question_id":69346224,"body_markdown":"I have this task of Write a method that returns a List of the numbers from a specified int array that appear n OR more times in that array.\r\n\r\nFor example, findNumbersWithCount(new int[] {5, 4, 3, 2, 1, 5, 4,\r\n3, 2, 5, 4, 3, 5, 4, 5 }, 2) should find all the numbers in the specified array that appear 2 OR more times and return a list of them i.e. this example call should return a list with the numbers [2,3,4,5].\r\nThat is to say in this example array, element 1 occurs once, 2 twice, 3 three times,\r\n4 four times, and 5 five times, making elements that appear two OR more times 2,3,4 and 5.\r\nBelow is the code I wrote:\r\n\r\n    public class Problem{\r\n      public static List&lt;Integer&gt; findNumbersWithCount(int[] listOfNumbers, int countOfOccurrenceThreshold) {\r\n        int count = 0;\r\n\r\n        int [] arr = new int [listOfNumbers.length];\r\n        int visited = -1;  \r\n\r\n        for (int i = 0; i &lt; listOfNumbers.length; i++){\r\n            for (int j = i + 1; j &lt; listOfNumbers.length; j++){\r\n                if (listOfNumbers[i] == listOfNumbers[j]){\r\n                    count++;\r\n\r\n                    arr[j] = visited;                    \r\n                }\r\n            }\r\n\r\n            if (arr[i] != visited){\r\n               arr[i] = count;\r\n            }\r\n        }\r\n\r\n       //calling the generic function that converts Array into List\r\n       List&lt;Integer&gt; list = ArrayToListConversion(arr);\r\n\r\n        return list;\r\n    }\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; ArrayToListConversion(int[] array) {\r\n        //creating the constructor of the List class\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        //using for-each loop to iterate over the array\r\n        for (int t : array) {\r\n            //adding each element to the List\r\n            list.add(t);\r\n        }\r\n        //returns the list converted into Array\r\n        return (List&lt;T&gt;) list;\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        try {\r\n            List&lt;Integer&gt; x = findNumbersWithCount(new int[] { 5, 4, 3, 2, 1, 5, 4, 3, 2, 5, 4, 3, 5, 4, 5 }, 2);\r\n            System.out.println(x);\r\n        }\r\n        catch (UnsupportedOperationException ex){\r\n            System.out.println(&quot;Waiting to be implemented.&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nI&#39;m having this list [4, 7, 9, 10, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1] instead of [2,3,4,5]. Could anyone please help solve this issue ?\r\n","title":"Write Method that returns a List of the numbers from a specified int array that appear n OR more times in that array","body":"<p>I have this task of Write a method that returns a List of the numbers from a specified int array that appear n OR more times in that array.</p>\n<p>For example, findNumbersWithCount(new int[] {5, 4, 3, 2, 1, 5, 4,\n3, 2, 5, 4, 3, 5, 4, 5 }, 2) should find all the numbers in the specified array that appear 2 OR more times and return a list of them i.e. this example call should return a list with the numbers [2,3,4,5].\nThat is to say in this example array, element 1 occurs once, 2 twice, 3 three times,\n4 four times, and 5 five times, making elements that appear two OR more times 2,3,4 and 5.\nBelow is the code I wrote:</p>\n<pre><code>public class Problem{\n  public static List&lt;Integer&gt; findNumbersWithCount(int[] listOfNumbers, int countOfOccurrenceThreshold) {\n    int count = 0;\n\n    int [] arr = new int [listOfNumbers.length];\n    int visited = -1;  \n\n    for (int i = 0; i &lt; listOfNumbers.length; i++){\n        for (int j = i + 1; j &lt; listOfNumbers.length; j++){\n            if (listOfNumbers[i] == listOfNumbers[j]){\n                count++;\n\n                arr[j] = visited;                    \n            }\n        }\n\n        if (arr[i] != visited){\n           arr[i] = count;\n        }\n    }\n\n   //calling the generic function that converts Array into List\n   List&lt;Integer&gt; list = ArrayToListConversion(arr);\n\n    return list;\n}\n\npublic static &lt;T&gt; List&lt;T&gt; ArrayToListConversion(int[] array) {\n    //creating the constructor of the List class\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    //using for-each loop to iterate over the array\n    for (int t : array) {\n        //adding each element to the List\n        list.add(t);\n    }\n    //returns the list converted into Array\n    return (List&lt;T&gt;) list;\n}\n\npublic static void main(String[] args){\n    try {\n        List&lt;Integer&gt; x = findNumbersWithCount(new int[] { 5, 4, 3, 2, 1, 5, 4, 3, 2, 5, 4, 3, 5, 4, 5 }, 2);\n        System.out.println(x);\n    }\n    catch (UnsupportedOperationException ex){\n        System.out.println(&quot;Waiting to be implemented.&quot;);\n    }\n  }\n}\n</code></pre>\n<p>I'm having this list [4, 7, 9, 10, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1] instead of [2,3,4,5]. Could anyone please help solve this issue ?</p>\n"},{"tags":["java","json","rest"],"answers":[{"tags":[],"owner":{"account_id":12842085,"reputation":101,"user_id":9289813,"display_name":"Hassan Liasu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632746161,"creation_date":1632737738,"answer_id":69344926,"question_id":69344655,"body_markdown":"In order to exclude and empty object in response you will have to annotate your class with:\r\n\r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n```","title":"How to exclude completely empty object form JSON response in java","body":"<p>In order to exclude and empty object in response you will have to annotate your class with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_EMPTY)\n</code></pre>\n"}],"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632746161,"creation_date":1632736447,"question_id":69344655,"body_markdown":"Below is the sample class :\r\n```\r\nimport java.io.Serializable;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@Data\r\n@JsonInclude(Include.NON_NULL)\r\npublic class SpouseRes implements Serializable  {\r\n\r\n\tprivate static final long serialVersionUID = 7830471917333093173L;\r\n\t\r\n\t//This object is used to check if the object is empty or not (all data members are null)\r\n\t@JsonIgnore\r\n\tprivate static final SpouseRes EMPTY = new SpouseRes();\r\n\r\n\t@JsonInclude(Include.NON_DEFAULT)\r\n\t@JsonProperty(&quot;age&quot;)\r\n\tprivate Integer age;\r\n\t\r\n\t@JsonProperty(&quot;salary&quot;)\r\n\tprivate SalaryResponse salary;\r\n\t\r\n\t// Function to check if the current object is empty\r\n\t@JsonIgnore\r\n    public boolean isEmpty() {\r\n        return this.equals(EMPTY);\r\n    }\r\n}\r\n```\r\nWhen getting this object from response, this is empty and the data member is getting set to 0. Thats why its not getting detected as empty in Object.isEmpty(). Below is the setter code :\r\n```\r\n\t\t// Setting spouse salary\r\n\t\tSpouseRes spouse = new SpouseRes();\r\n\r\n\t\t// Check if Retirement age is null or default value 0\r\n\t\tif(Client.getSpouseRetireAge() != 0 || Client.getSpouseRetireAge() != null) {\r\n\t\t\tspouse.setRetireAge(Client.getSpouseRetireAge());\r\n\t\t}\r\n\t\telse {\r\n\t\t\tspouse.setRetireAge(null);\t\r\n\t\t}\r\n```\r\nThe JSON output is :\r\n```\r\n  &quot;client&quot;: {\r\n                  &quot;displayName&quot;: &quot;Tony&quot;,\r\n                  &quot;age&quot;: 14,\r\n                  &quot;retirementAge&quot;: 90,\r\n                  &quot;salary&quot;: {\r\n                  &quot;amount&quot;: 0.0\r\n                   },\r\n                   &quot;spouse&quot;: {}\r\n            }\r\n```\r\nSo, after using all of these, still getting this empty Object in JSON response, How to remove this ? \r\n","title":"How to exclude completely empty object form JSON response in java","body":"<p>Below is the sample class :</p>\n<pre><code>import java.io.Serializable;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Data\n@JsonInclude(Include.NON_NULL)\npublic class SpouseRes implements Serializable  {\n\n    private static final long serialVersionUID = 7830471917333093173L;\n    \n    //This object is used to check if the object is empty or not (all data members are null)\n    @JsonIgnore\n    private static final SpouseRes EMPTY = new SpouseRes();\n\n    @JsonInclude(Include.NON_DEFAULT)\n    @JsonProperty(&quot;age&quot;)\n    private Integer age;\n    \n    @JsonProperty(&quot;salary&quot;)\n    private SalaryResponse salary;\n    \n    // Function to check if the current object is empty\n    @JsonIgnore\n    public boolean isEmpty() {\n        return this.equals(EMPTY);\n    }\n}\n</code></pre>\n<p>When getting this object from response, this is empty and the data member is getting set to 0. Thats why its not getting detected as empty in Object.isEmpty(). Below is the setter code :</p>\n<pre><code>        // Setting spouse salary\n        SpouseRes spouse = new SpouseRes();\n\n        // Check if Retirement age is null or default value 0\n        if(Client.getSpouseRetireAge() != 0 || Client.getSpouseRetireAge() != null) {\n            spouse.setRetireAge(Client.getSpouseRetireAge());\n        }\n        else {\n            spouse.setRetireAge(null);  \n        }\n</code></pre>\n<p>The JSON output is :</p>\n<pre><code>  &quot;client&quot;: {\n                  &quot;displayName&quot;: &quot;Tony&quot;,\n                  &quot;age&quot;: 14,\n                  &quot;retirementAge&quot;: 90,\n                  &quot;salary&quot;: {\n                  &quot;amount&quot;: 0.0\n                   },\n                   &quot;spouse&quot;: {}\n            }\n</code></pre>\n<p>So, after using all of these, still getting this empty Object in JSON response, How to remove this ?</p>\n"},{"tags":["java","android","opencv","convex-hull"],"comments":[{"owner":{"account_id":1752514,"reputation":11161,"user_id":1601291,"accept_rate":100,"display_name":"Aurelius"},"score":0,"creation_date":1373565074,"post_id":17586948,"comment_id":25615133,"body_markdown":"It&#39;s hard to tell what is causing your problem. What is the specific error you get? Is there log output related to it?","body":"It&#39;s hard to tell what is causing your problem. What is the specific error you get? Is there log output related to it?"},{"owner":{"account_id":2513201,"reputation":91,"user_id":2185162,"display_name":"Jenang"},"score":0,"creation_date":1373600607,"post_id":17586948,"comment_id":25627763,"body_markdown":"When I run it on SDK Android Simulator, the windows error appeared, &quot;the application stoped unexpectedly&quot; and I was told to stop by click &quot;Force Close&quot;.\n\nAnd when I checked on Log Cat error Eclipse, I found that process stop on this line &quot;Imgproc.convexHull(contours.get(i), hull.get(i), false);&quot;\n\n\nI don&#39;t know why the process stoped on that line. \n\nCan&#39;t you help explain to me?","body":"When I run it on SDK Android Simulator, the windows error appeared, &quot;the application stoped unexpectedly&quot; and I was told to stop by click &quot;Force Close&quot;.  And when I checked on Log Cat error Eclipse, I found that process stop on this line &quot;Imgproc.convexHull(contours.get(i), hull.get(i), false);&quot;   I don&#39;t know why the process stoped on that line.   Can&#39;t you help explain to me?"},{"owner":{"account_id":2513201,"reputation":91,"user_id":2185162,"display_name":"Jenang"},"score":0,"creation_date":1373601226,"post_id":17586948,"comment_id":25627873,"body_markdown":"I think I made ​​a mistake when declaring &quot;hull&quot; variable. \n\nBut, I don&#39;t know how to solve that problem. I think I have declared that variable in accordance with the applicable provisions.\n\nWhat about your opinion? \nDo you think that the declaration of a variable &quot;hull&quot; in my code isn&#39;t correct?","body":"I think I made ​​a mistake when declaring &quot;hull&quot; variable.   But, I don&#39;t know how to solve that problem. I think I have declared that variable in accordance with the applicable provisions.  What about your opinion?  Do you think that the declaration of a variable &quot;hull&quot; in my code isn&#39;t correct?"},{"owner":{"account_id":1752514,"reputation":11161,"user_id":1601291,"accept_rate":100,"display_name":"Aurelius"},"score":0,"creation_date":1374083283,"post_id":17586948,"comment_id":25803831,"body_markdown":"Did any of the posted answers solve your problem? If so, would you [accept](http://stackoverflow.com/help/someone-answers) one of them? If not, please leave a comment stating what we can improve.","body":"Did any of the posted answers solve your problem? If so, would you <a href=\"http://stackoverflow.com/help/someone-answers\">accept</a> one of them? If not, please leave a comment stating what we can improve."}],"answers":[{"tags":[],"owner":{"account_id":1752514,"reputation":11161,"user_id":1601291,"accept_rate":100,"display_name":"Aurelius"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1373644244,"creation_date":1373644244,"answer_id":17618897,"question_id":17586948,"body_markdown":"Looking at the documentation of [`findContours()`](http://docs.opencv.org/java/org/opencv/imgproc/Imgproc.html#findContours%28org.opencv.core.Mat,%20java.util.List,%20org.opencv.core.Mat,%20int,%20int%29) and [`convexHull()`](http://docs.opencv.org/java/org/opencv/imgproc/Imgproc.html#convexHull%28org.opencv.core.MatOfPoint,%20org.opencv.core.MatOfInt%29), it appears that you have declared the variables `contours` and `hull` incorrectly.\r\n\r\nTry changing the declarations to:\r\n\r\n    List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\r\n    List&lt;MatOfInt&gt; hull = new ArrayList&lt;MatOfInt&gt;();\r\n\r\nThen, after you call `convexHull()`, `hull` contains the *indices* of the points in `contours` which comprise the convex hull. In order to draw the points with `drawContours()`, you will need to populate a new `MatOfPoint` containing only the points on the convex hull, and pass that to `drawContours()`. I leave this as an exercise for you.","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>Looking at the documentation of <a href=\"http://docs.opencv.org/java/org/opencv/imgproc/Imgproc.html#findContours%28org.opencv.core.Mat,%20java.util.List,%20org.opencv.core.Mat,%20int,%20int%29\" rel=\"nofollow\"><code>findContours()</code></a> and <a href=\"http://docs.opencv.org/java/org/opencv/imgproc/Imgproc.html#convexHull%28org.opencv.core.MatOfPoint,%20org.opencv.core.MatOfInt%29\" rel=\"nofollow\"><code>convexHull()</code></a>, it appears that you have declared the variables <code>contours</code> and <code>hull</code> incorrectly.</p>\n\n<p>Try changing the declarations to:</p>\n\n<pre><code>List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\nList&lt;MatOfInt&gt; hull = new ArrayList&lt;MatOfInt&gt;();\n</code></pre>\n\n<p>Then, after you call <code>convexHull()</code>, <code>hull</code> contains the <em>indices</em> of the points in <code>contours</code> which comprise the convex hull. In order to draw the points with <code>drawContours()</code>, you will need to populate a new <code>MatOfPoint</code> containing only the points on the convex hull, and pass that to <code>drawContours()</code>. I leave this as an exercise for you.</p>\n"},{"tags":[],"owner":{"account_id":3026064,"reputation":11,"user_id":2566048,"display_name":"BertCasteel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373931146,"creation_date":1373931146,"answer_id":17665661,"question_id":17586948,"body_markdown":"To add on to what Aurelius said, in your C++ implementation you used a vector of points, therefore the hull matrix contains the actual convex Points: \r\n&gt;&quot;In the first case [integer vector of indices], the hull elements are 0-based indices of the convex hull points in the original array (since the set of convex hull points is a subset of the original point set). In the second case [vector of points], hull elements are the convex hull points themselves.&quot; - [convexHull](http://docs.opencv.org/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html#convexhull) \r\n\r\n\r\nThis is why you were able to call\r\n\r\n    drawContours( drawing, hull, i, Scalar(255, 255, 255), CV_FILLED );\r\n\r\nIn your android version, the hull output is simply an array of indices which correspond to the points in the original contours.get(i) Matrix. Therefore you need to look up the convex points in the original matrix. Here is a very rough idea:\r\n    \r\n    MatOfInt hull = new MatOfInt();\r\n    MatOfPoint tempContour = contours.get(i);\r\n    Imgproc.convexHull(tempContour, hull, false); // O(N*Log(N))\r\n    //System.out.println(&quot;hull size: &quot; + hull.size() + &quot; x&quot; + hull.get(0,0).length);\r\n    //System.out.println(&quot;Contour matrix size: &quot; + tempContour.size() + &quot; x&quot; + tempContour.get(0,0).length);\r\n\r\n    int index = (int) hull.get(((int) hull.size().height)-1, 0)[0];\r\n    Point pt, pt0 = new Point(tempContour.get(index, 0)[0], tempContour.get(index, 0)[1]);\r\n    for(int j = 0; j &lt; hull.size().height -1 ; j++){\r\n    \tindex = (int) hull.get(j, 0)[0];\r\n        pt = new Point(tempContour.get(index, 0)[0], tempContour.get(index, 0)[1]);\r\n        Core.line(frame, pt0, pt, new Scalar(255, 0, 100), 8);\r\n        pt0 = pt;\r\n    }\r\n","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>To add on to what Aurelius said, in your C++ implementation you used a vector of points, therefore the hull matrix contains the actual convex Points: </p>\n\n<blockquote>\n  <p>\"In the first case [integer vector of indices], the hull elements are 0-based indices of the convex hull points in the original array (since the set of convex hull points is a subset of the original point set). In the second case [vector of points], hull elements are the convex hull points themselves.\" - <a href=\"http://docs.opencv.org/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html#convexhull\" rel=\"nofollow\">convexHull</a> </p>\n</blockquote>\n\n<p>This is why you were able to call</p>\n\n<pre><code>drawContours( drawing, hull, i, Scalar(255, 255, 255), CV_FILLED );\n</code></pre>\n\n<p>In your android version, the hull output is simply an array of indices which correspond to the points in the original contours.get(i) Matrix. Therefore you need to look up the convex points in the original matrix. Here is a very rough idea:</p>\n\n<pre><code>MatOfInt hull = new MatOfInt();\nMatOfPoint tempContour = contours.get(i);\nImgproc.convexHull(tempContour, hull, false); // O(N*Log(N))\n//System.out.println(\"hull size: \" + hull.size() + \" x\" + hull.get(0,0).length);\n//System.out.println(\"Contour matrix size: \" + tempContour.size() + \" x\" + tempContour.get(0,0).length);\n\nint index = (int) hull.get(((int) hull.size().height)-1, 0)[0];\nPoint pt, pt0 = new Point(tempContour.get(index, 0)[0], tempContour.get(index, 0)[1]);\nfor(int j = 0; j &lt; hull.size().height -1 ; j++){\n    index = (int) hull.get(j, 0)[0];\n    pt = new Point(tempContour.get(index, 0)[0], tempContour.get(index, 0)[1]);\n    Core.line(frame, pt0, pt, new Scalar(255, 0, 100), 8);\n    pt0 = pt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3487243,"reputation":971,"user_id":2917835,"accept_rate":79,"display_name":"medloh"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1391444526,"creation_date":1391372982,"answer_id":21515792,"question_id":17586948,"body_markdown":"Don&#39;t have the rep to add comment, just wanted to say the two answers above helped me get Imgproc.convexHull() working for my use case with something like this (2.4.8):\r\n\r\n    MatOfPoint mopIn = ...\r\n    MatOfInt hull = new MatOfInt();\r\n    Imgproc.convexHull(mopIn, hull, false);\r\n    \r\n    MatOfPoint mopOut = new MatOfPoint();\r\n    mopOut.create((int)hull.size().height,1,CvType.CV_32SC2);\r\n    \t\t\r\n    for(int i = 0; i &lt; hull.size().height ; i++)\r\n    {\r\n        int index = (int)hull.get(i, 0)[0];\r\n        double[] point = new double[] {\r\n    \t\tmopIn.get(index, 0)[0], mopIn.get(index, 0)[1]\r\n        };\r\n        mopOut.put(i, 0, point);\r\n    }\t\t\t\r\n    // do something interesting with mopOut\r\n       \t\r\n\r\n","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>Don't have the rep to add comment, just wanted to say the two answers above helped me get Imgproc.convexHull() working for my use case with something like this (2.4.8):</p>\n\n<pre><code>MatOfPoint mopIn = ...\nMatOfInt hull = new MatOfInt();\nImgproc.convexHull(mopIn, hull, false);\n\nMatOfPoint mopOut = new MatOfPoint();\nmopOut.create((int)hull.size().height,1,CvType.CV_32SC2);\n\nfor(int i = 0; i &lt; hull.size().height ; i++)\n{\n    int index = (int)hull.get(i, 0)[0];\n    double[] point = new double[] {\n        mopIn.get(index, 0)[0], mopIn.get(index, 0)[1]\n    };\n    mopOut.put(i, 0, point);\n}           \n// do something interesting with mopOut\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5653078,"reputation":21,"user_id":4473007,"display_name":"user4473007"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421740979,"creation_date":1421740979,"answer_id":28040295,"question_id":17586948,"body_markdown":"This code works well in my application. In my case, I had multiple contours to work with, so you will notice a lot of Lists, but if you only have one contour, just adjust it to work without the .get(i) iterations.\r\n\r\nThis thread explains the process more simply.\r\n\r\nhttps://stackoverflow.com/questions/10961660/android-java-opencv-2-4-convexhull-convexdefect#answer-10962281\r\n\r\n\r\n       // Find the convex hull\r\n        \t\tList&lt;MatOfInt&gt; hull = new ArrayList&lt;MatOfInt&gt;();\r\n        \t\tfor(int i=0; i &lt; contours.size(); i++){\r\n        \t\t\thull.add(new MatOfInt());\r\n        \t\t}\r\n        \t\tfor(int i=0; i &lt; contours.size(); i++){\r\n        \t\t\tImgproc.convexHull(contours.get(i), hull.get(i));\r\n        \t\t}\r\n        \t\t\r\n                // Convert MatOfInt to MatOfPoint for drawing convex hull\r\n    \r\n        \t\t// Loop over all contours\r\n        \t\tList&lt;Point[]&gt; hullpoints = new ArrayList&lt;Point[]&gt;();\r\n        \t\tfor(int i=0; i &lt; hull.size(); i++){\r\n        \t\t\tPoint[] points = new Point[hull.get(i).rows()];\r\n        \t\t\t\r\n        \t\t\t// Loop over all points that need to be hulled in current contour\r\n        \t\t\tfor(int j=0; j &lt; hull.get(i).rows(); j++){\r\n        \t\t\t\tint index = (int)hull.get(i).get(j, 0)[0];\r\n        \t\t\t\tpoints[j] = new Point(contours.get(i).get(index, 0)[0], contours.get(i).get(index, 0)[1]);\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\thullpoints.add(points);\r\n        \t\t}\r\n        \t\t\r\n        \t\t// Convert Point arrays into MatOfPoint\r\n        \t\tList&lt;MatOfPoint&gt; hullmop = new ArrayList&lt;MatOfPoint&gt;();\r\n        \t\tfor(int i=0; i &lt; hullpoints.size(); i++){\r\n        \t\t\tMatOfPoint mop = new MatOfPoint();\r\n        \t\t\tmop.fromArray(hullpoints.get(i));\r\n        \t\t\thullmop.add(mop);\r\n        \t\t}\r\n        \t\t\r\n        \t\t\r\n        \t\t// Draw contours + hull results\r\n        \t\tMat overlay = new Mat(binaryImage.size(), CvType.CV_8UC3);\r\n        \t\tScalar color = new Scalar(0, 255, 0);\t// Green\r\n        \t\tfor(int i=0; i &lt; contours.size(); i++){\r\n        \t\t\tImgproc.drawContours(overlay, contours, i, color);\r\n        \t\t\tImgproc.drawContours(overlay, hullmop, i, color);\r\n        \t\t}","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>This code works well in my application. In my case, I had multiple contours to work with, so you will notice a lot of Lists, but if you only have one contour, just adjust it to work without the .get(i) iterations.</p>\n\n<p>This thread explains the process more simply.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10961660/android-java-opencv-2-4-convexhull-convexdefect#answer-10962281\">android java opencv 2.4 convexhull convexdefect</a></p>\n\n<pre><code>   // Find the convex hull\n            List&lt;MatOfInt&gt; hull = new ArrayList&lt;MatOfInt&gt;();\n            for(int i=0; i &lt; contours.size(); i++){\n                hull.add(new MatOfInt());\n            }\n            for(int i=0; i &lt; contours.size(); i++){\n                Imgproc.convexHull(contours.get(i), hull.get(i));\n            }\n\n            // Convert MatOfInt to MatOfPoint for drawing convex hull\n\n            // Loop over all contours\n            List&lt;Point[]&gt; hullpoints = new ArrayList&lt;Point[]&gt;();\n            for(int i=0; i &lt; hull.size(); i++){\n                Point[] points = new Point[hull.get(i).rows()];\n\n                // Loop over all points that need to be hulled in current contour\n                for(int j=0; j &lt; hull.get(i).rows(); j++){\n                    int index = (int)hull.get(i).get(j, 0)[0];\n                    points[j] = new Point(contours.get(i).get(index, 0)[0], contours.get(i).get(index, 0)[1]);\n                }\n\n                hullpoints.add(points);\n            }\n\n            // Convert Point arrays into MatOfPoint\n            List&lt;MatOfPoint&gt; hullmop = new ArrayList&lt;MatOfPoint&gt;();\n            for(int i=0; i &lt; hullpoints.size(); i++){\n                MatOfPoint mop = new MatOfPoint();\n                mop.fromArray(hullpoints.get(i));\n                hullmop.add(mop);\n            }\n\n\n            // Draw contours + hull results\n            Mat overlay = new Mat(binaryImage.size(), CvType.CV_8UC3);\n            Scalar color = new Scalar(0, 255, 0);   // Green\n            for(int i=0; i &lt; contours.size(); i++){\n                Imgproc.drawContours(overlay, contours, i, color);\n                Imgproc.drawContours(overlay, hullmop, i, color);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5300172,"reputation":2057,"user_id":4230093,"accept_rate":20,"display_name":"Hey StackExchange"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442935712,"creation_date":1442935378,"answer_id":32720829,"question_id":17586948,"body_markdown":"**Example in Java (OpenCV 2.4.11)** &lt;p&gt;\r\n`hullMat` contains the sub mat of `gray`, as identified by the `convexHull` method. &lt;br&gt;You may want to filter the contours you really need, for example based on their area.&lt;/p&gt;\r\n\r\n\tList&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\r\n\tMatOfInt4 hierarchy = new MatOfInt4();\r\n\tMatOfInt hull = new MatOfInt();\r\n\r\n\tvoid foo(Mat gray) {\r\n\t\tImgproc.findContours(gray, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\t\t\r\n\t\tfor (int i = 0; i &lt; contours.size(); i++) {\r\n\t\t\tImgproc.convexHull(contours.get(i), hull);\r\n\t\t\tMatOfPoint hullContour = hull2Points(hull, contours.get(i));\r\n\t\t\tRect box = Imgproc.boundingRect(hullContour);\r\n\t\t\tMat hullMat = new Mat(gray, box);\r\n\t\t\t...\r\n\t\t}\r\n    }\r\n\r\n\tMatOfPoint hull2Points(MatOfInt hull, MatOfPoint contour) {\r\n\t\tList&lt;Integer&gt; indexes = hull.toList();\r\n\t\tList&lt;Point&gt; points = new ArrayList&lt;&gt;();\r\n\t\tMatOfPoint point= new MatOfPoint();\r\n\t\tfor(Integer index:indexes) {\r\n\t\t\tpoints.add(contour.toList().get(index));\r\n\t\t}\r\n\t\tpoint.fromList(points);\r\n\t\treturn point;\r\n\t}","title":"Convex Hull on Java Android Opencv 2.3","body":"<p><strong>Example in Java (OpenCV 2.4.11)</strong> <p>\n<code>hullMat</code> contains the sub mat of <code>gray</code>, as identified by the <code>convexHull</code> method. <br>You may want to filter the contours you really need, for example based on their area.</p></p>\n\n<pre><code>List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\nMatOfInt4 hierarchy = new MatOfInt4();\nMatOfInt hull = new MatOfInt();\n\nvoid foo(Mat gray) {\n    Imgproc.findContours(gray, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);        \n    for (int i = 0; i &lt; contours.size(); i++) {\n        Imgproc.convexHull(contours.get(i), hull);\n        MatOfPoint hullContour = hull2Points(hull, contours.get(i));\n        Rect box = Imgproc.boundingRect(hullContour);\n        Mat hullMat = new Mat(gray, box);\n        ...\n    }\n}\n\nMatOfPoint hull2Points(MatOfInt hull, MatOfPoint contour) {\n    List&lt;Integer&gt; indexes = hull.toList();\n    List&lt;Point&gt; points = new ArrayList&lt;&gt;();\n    MatOfPoint point= new MatOfPoint();\n    for(Integer index:indexes) {\n        points.add(contour.toList().get(index));\n    }\n    point.fromList(points);\n    return point;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12639244,"reputation":1,"user_id":9187377,"display_name":"Pon Mugesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632745389,"creation_date":1521200064,"answer_id":49319831,"question_id":17586948,"body_markdown":"Use this `fillconvexPoly`\r\n\r\n     for( int i = 0; i &lt; contours.size(); i++ ){\r\n              Imgproc.fillConvexPoly(image_2, point,new Scalar(255, 255, 255));\r\n        }","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>Use this <code>fillconvexPoly</code></p>\n<pre><code> for( int i = 0; i &lt; contours.size(); i++ ){\n          Imgproc.fillConvexPoly(image_2, point,new Scalar(255, 255, 255));\n    }\n</code></pre>\n"}],"owner":{"account_id":2513201,"reputation":91,"user_id":2185162,"display_name":"Jenang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10294,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1632745389,"creation_date":1373525929,"question_id":17586948,"body_markdown":"Please help me, \r\n\r\nI have a problem for Convex Hull on Android. I use Java and **OpenCV 2.3**.\r\n\r\nBefore I made it on Java, I made it on C++ with Visual Studio 2008.\r\n\r\nThis code can running successfully on C++.  \r\n\r\nNow, i want to convert it from C++ to Java on Android. And I found error like &quot;force close&quot; when i run it on SDK Android simulator.\r\n\r\nThis is my code on C++: \r\n\r\n    vector&lt;vector&lt;Point&gt; &gt; contours;\r\n    vector&lt;Vec4i&gt; hierarchy;\r\n\r\n    findContours( canny_output, contours, hierarchy, CV_RETR_TREE, CV_CHAIN_APPROX_SIMPLE, Point(0, 0) );\r\n    drawing = Mat::zeros( canny_output.size(), CV_64F );\r\n\r\n    /// Find the convex hull object for each contour\r\n    vector&lt;vector&lt;Point&gt; &gt; hull ( contours.size() );\r\n    for( int i = 0; i &lt; contours.size(); i++ )\r\n      {  convexHull( Mat(contours[i]), hull[i], false );\r\n    }\r\n\r\n    for(size_t i = 0; i &lt; contours.size(); i++){\r\n\t\tdrawContours( drawing, hull, i, Scalar(255, 255, 255), CV_FILLED ); // FILL WHITE COLOR\r\n    }\r\n\r\n\r\n\r\nAnd this is my code on Android: \r\n\r\n    Mat hierarchy = new Mat(img_canny.rows(),img_canny.cols(),CvType.CV_8UC1,new Scalar(0));\r\n\t\tList&lt;Mat&gt; contours =new ArrayList&lt;Mat&gt;();\r\n\t\tList&lt;Mat&gt; hull = new ArrayList&lt;Mat&gt;(contours.size());\r\n\t\tdrawing = Mat.zeros(img_canny.size(), im_gray);\r\n\t\t\r\n\t\tImgproc.findContours(img_dilasi, contours, hierarchy,Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE, new Point(0, 0));\r\n\t\t\r\n\t\tfor(int i=0; i&lt;contours.size(); i++){\r\n\t\t\tImgproc.convexHull(contours.get(i), hull.get(i), false);\r\n\t\t\t\r\n\t\t}\r\n\t\tfor(int i=0; i&lt;contours.size(); i++){\r\n\t\t\tImgproc.drawContours(drawing, hull, i, new Scalar(255.0, 255.0, 255.0), 5);\r\n\t\t}\r\n\r\n\r\nFor your info, I did a little modification on Convex Hull at my code. **I fill a color inside contour**. \r\n\r\nAnyone can help me to solve my problem? \r\n\r\nI&#39;m very grateful for your help. ","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>Please help me, </p>\n\n<p>I have a problem for Convex Hull on Android. I use Java and <strong>OpenCV 2.3</strong>.</p>\n\n<p>Before I made it on Java, I made it on C++ with Visual Studio 2008.</p>\n\n<p>This code can running successfully on C++.  </p>\n\n<p>Now, i want to convert it from C++ to Java on Android. And I found error like \"force close\" when i run it on SDK Android simulator.</p>\n\n<p>This is my code on C++: </p>\n\n<pre><code>vector&lt;vector&lt;Point&gt; &gt; contours;\nvector&lt;Vec4i&gt; hierarchy;\n\nfindContours( canny_output, contours, hierarchy, CV_RETR_TREE, CV_CHAIN_APPROX_SIMPLE, Point(0, 0) );\ndrawing = Mat::zeros( canny_output.size(), CV_64F );\n\n/// Find the convex hull object for each contour\nvector&lt;vector&lt;Point&gt; &gt; hull ( contours.size() );\nfor( int i = 0; i &lt; contours.size(); i++ )\n  {  convexHull( Mat(contours[i]), hull[i], false );\n}\n\nfor(size_t i = 0; i &lt; contours.size(); i++){\n    drawContours( drawing, hull, i, Scalar(255, 255, 255), CV_FILLED ); // FILL WHITE COLOR\n}\n</code></pre>\n\n<p>And this is my code on Android: </p>\n\n<pre><code>Mat hierarchy = new Mat(img_canny.rows(),img_canny.cols(),CvType.CV_8UC1,new Scalar(0));\n    List&lt;Mat&gt; contours =new ArrayList&lt;Mat&gt;();\n    List&lt;Mat&gt; hull = new ArrayList&lt;Mat&gt;(contours.size());\n    drawing = Mat.zeros(img_canny.size(), im_gray);\n\n    Imgproc.findContours(img_dilasi, contours, hierarchy,Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE, new Point(0, 0));\n\n    for(int i=0; i&lt;contours.size(); i++){\n        Imgproc.convexHull(contours.get(i), hull.get(i), false);\n\n    }\n    for(int i=0; i&lt;contours.size(); i++){\n        Imgproc.drawContours(drawing, hull, i, new Scalar(255.0, 255.0, 255.0), 5);\n    }\n</code></pre>\n\n<p>For your info, I did a little modification on Convex Hull at my code. <strong>I fill a color inside contour</strong>. </p>\n\n<p>Anyone can help me to solve my problem? </p>\n\n<p>I'm very grateful for your help. </p>\n"},{"tags":["java","mongodb","kotlin","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":1,"creation_date":1614004472,"post_id":66317076,"comment_id":117243956,"body_markdown":"In general, [$lookup](https://docs.mongodb.com/manual/reference/operator/aggregation/lookup/index.html) is the way to query with a &quot;join&quot; operation. So, you can run a native query.","body":"In general, <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/lookup/index.html\" rel=\"nofollow noreferrer\">$lookup</a> is the way to query with a &quot;join&quot; operation. So, you can run a native query."}],"answers":[{"tags":[],"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1614067746,"creation_date":1614067746,"answer_id":66329293,"question_id":66317076,"body_markdown":"MongoDB is a non-relational database, that why there is no one-to-many relation support for it.\r\n\r\n&gt; I would like to model the dependent sub-document,\r\n\r\nI didn&#39;t follow, sub-document is supported, you can just create a separate POJO and use it as an attribute of you entity.\r\n\r\nWhat is not supported, is to automatically load referenced entity from one collection to another, as you pointed out there is an opened enhancement request for it support, you can give feedback on it (or vote for it via +1).\r\n\r\nCurrently, for referenced entity, you need to create two entities / repositories and make the fecth manually.","title":"Best practice: MongoDB Panache entity one-to-many relationship handling in Quarkus?","body":"<p>MongoDB is a non-relational database, that why there is no one-to-many relation support for it.</p>\n<blockquote>\n<p>I would like to model the dependent sub-document,</p>\n</blockquote>\n<p>I didn't follow, sub-document is supported, you can just create a separate POJO and use it as an attribute of you entity.</p>\n<p>What is not supported, is to automatically load referenced entity from one collection to another, as you pointed out there is an opened enhancement request for it support, you can give feedback on it (or vote for it via +1).</p>\n<p>Currently, for referenced entity, you need to create two entities / repositories and make the fecth manually.</p>\n"},{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632745388,"creation_date":1632745388,"answer_id":69346540,"question_id":66317076,"body_markdown":"As informed by @loicmathieu there is no direct way to do `populate()` in quarkus as you are able to do it in mongoose.\r\nIf you set `mongoose.set(&#39;debug&#39;, true)` then you can check in console that first\r\n- `find` query on collection is executed\r\n- `in` query on reference collection is executed.\r\n\r\nExample json document:\r\n```json\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;612f6c5c081d0796761ec2e4&quot;),\r\n    &quot;content&quot; : &quot;cannot restart Mongodb even when memory space is available&quot;,\r\n    &quot;created_by&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\r\n    &quot;tags&quot; : [ \r\n        ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;)\r\n    ],\r\n    &quot;createdAt&quot; : ISODate(&quot;2021-09-01T12:04:44.361Z&quot;),\r\n    &quot;updatedAt&quot; : ISODate(&quot;2021-09-10T05:30:51.384Z&quot;),\r\n    &quot;__v&quot; : 2,\r\n    &quot;likes&quot; : [],\r\n    &quot;replies&quot; : []\r\n}\r\n```\r\n\r\nTag Document\r\n```json\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;),\r\n    &quot;name&quot; : &quot;mongodb&quot;,\r\n    &quot;created_by&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\r\n    &quot;createdAt&quot; : ISODate(&quot;2021-09-01T12:04:44.358Z&quot;),\r\n    &quot;updatedAt&quot; : ISODate(&quot;2021-09-01T12:04:44.358Z&quot;),\r\n    &quot;__v&quot; : 0\r\n}\r\n```\r\n\r\nAnd finally user document\r\n```json\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\r\n    &quot;username&quot; : &quot;silentsudo&quot;,\r\n    &quot;password&quot; : &quot;sosimplebcrypted&quot;,\r\n    &quot;name&quot; : &quot;Ashish&quot;,\r\n    &quot;__v&quot; : 0\r\n}\r\n```\r\n\r\nTo get all documents i execute following query:\r\n```js\r\nexports.getRecentTweets = async () =&gt; {\r\n    return Tweet.find()\r\n        .populate(&#39;created_by&#39;, &#39;_id name username mediaId&#39;)\r\n        .populate(&#39;tags&#39;, &#39;_id name&#39;)\r\n        .sort({&#39;createdAt&#39;: -1});\r\n}\r\n```\r\n\r\nMongoose internally executing this in the following manner\r\n```txt\r\nMongoose: tweets.find({}, { sort: { createdAt: -1 }, projection: {} })\r\nMongoose: users.find({ _id: { &#39;$in&#39;: [ new ObjectId(&quot;612cb8608d22afb0e404adf6&quot;), new ObjectId(&quot;612f57ca9ea5c5cabbd89b38&quot;), new ObjectId(&quot;612f57ae9ea5c5cabbd89b32&quot;), new ObjectId(&quot;6134cb55328b793a1dacb9c2&quot;), new ObjectId(&quot;612cb86a8d22afb0e404adfc&quot;) ] }}, { skip: undefined, limit: undefined, perDocumentLimit: undefined, projection: { _id: 1, name: 1, username: 1, mediaId: 1 }})\r\nMongoose: tags.find({ _id: { &#39;$in&#39;: [ new ObjectId(&quot;6144d9ef02f6da33f39fe134&quot;), new ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;), new ObjectId(&quot;612f6e9f081d0796761ec343&quot;), new ObjectId(&quot;612dc4623c401072c8098a84&quot;), new ObjectId(&quot;612f6cb1081d0796761ec2f1&quot;), new ObjectId(&quot;612f6c72081d0796761ec2eb&quot;), new ObjectId(&quot;612f6e5b081d0796761ec337&quot;), new ObjectId(&quot;612f6e42081d0796761ec330&quot;), new ObjectId(&quot;612f6df9081d0796761ec320&quot;), new ObjectId(&quot;612f6e0a081d0796761ec328&quot;), new ObjectId(&quot;612f6de8081d0796761ec316&quot;), new ObjectId(&quot;612f6de8081d0796761ec319&quot;), new ObjectId(&quot;612f6dc9081d0796761ec30c&quot;), new ObjectId(&quot;612f6dc9081d0796761ec30f&quot;), new ObjectId(&quot;612f6db0081d0796761ec303&quot;), new ObjectId(&quot;612f6db0081d0796761ec306&quot;), new ObjectId(&quot;612f6cc7081d0796761ec2f7&quot;) ] }}, { skip: undefined, limit: undefined, perDocumentLimit: undefined, projection: { _id: 1, name: 1 }})\r\n\r\n```\r\n\r\nI was experimenting `ab tool` for benchmarking. So i decided to go with quarkus as i never built any production application using it before. So i quickly created model and arrived at this thread only to know there is no direct way to achieve populate in java based driver. But we can use `$lookup`  with aggregation pipeline what we need. First and simplest way is to use mongodb compass tool to build the query and then simply export the result in java language. my json query to produce output similar to populate query looked like this.\r\n```json\r\n[\r\n  {\r\n    &#39;$unwind&#39;: {\r\n      &#39;path&#39;: &#39;$tags&#39;, \r\n      &#39;preserveNullAndEmptyArrays&#39;: true\r\n    }\r\n  }, {\r\n    &#39;$lookup&#39;: {\r\n      &#39;from&#39;: &#39;tags&#39;, \r\n      &#39;localField&#39;: &#39;tags&#39;, \r\n      &#39;foreignField&#39;: &#39;_id&#39;, \r\n      &#39;as&#39;: &#39;tweet_tags&#39;\r\n    }\r\n  }, {\r\n    &#39;$unwind&#39;: {\r\n      &#39;path&#39;: &#39;$tweet_tags&#39;, \r\n      &#39;preserveNullAndEmptyArrays&#39;: true\r\n    }\r\n  }, {\r\n    &#39;$group&#39;: {\r\n      &#39;_id&#39;: &#39;$_id&#39;, \r\n      &#39;content&#39;: {\r\n        &#39;$first&#39;: &#39;$content&#39;\r\n      }, \r\n      &#39;user&#39;: {\r\n        &#39;$first&#39;: &#39;$created_by&#39;\r\n      }, \r\n      &#39;tags&#39;: {\r\n        &#39;$push&#39;: &#39;$tweet_tags&#39;\r\n      }\r\n    }\r\n  }, {\r\n    &#39;$lookup&#39;: {\r\n      &#39;from&#39;: &#39;users&#39;, \r\n      &#39;localField&#39;: &#39;user&#39;, \r\n      &#39;foreignField&#39;: &#39;_id&#39;, \r\n      &#39;as&#39;: &#39;createdByUser&#39;\r\n    }\r\n  }, {\r\n    &#39;$unwind&#39;: {\r\n      &#39;path&#39;: &#39;$createdByUser&#39;, \r\n      &#39;preserveNullAndEmptyArrays&#39;: false\r\n    }\r\n  }, {\r\n    &#39;$set&#39;: {\r\n      &#39;createdByUser.password&#39;: null\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nWhich when converted into equivalent java gives\r\n```java\r\npublic static List&lt;Document&gt; getTweetByUserQuery() {\r\n            return Arrays.asList(new Document(&quot;$unwind&quot;,\r\n                            new Document(&quot;path&quot;, &quot;$tags&quot;)\r\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, true)),\r\n                    new Document(&quot;$lookup&quot;,\r\n                            new Document(&quot;from&quot;, &quot;tags&quot;)\r\n                                    .append(&quot;localField&quot;, &quot;tags&quot;)\r\n                                    .append(&quot;foreignField&quot;, &quot;_id&quot;)\r\n                                    .append(&quot;as&quot;, &quot;tweet_tags&quot;)),\r\n                    new Document(&quot;$unwind&quot;,\r\n                            new Document(&quot;path&quot;, &quot;$tweet_tags&quot;)\r\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, true)),\r\n                    new Document(&quot;$group&quot;,\r\n                            new Document(&quot;_id&quot;, &quot;$_id&quot;)\r\n                                    .append(&quot;content&quot;,\r\n                                            new Document(&quot;$first&quot;, &quot;$content&quot;))\r\n                                    .append(&quot;user&quot;,\r\n                                            new Document(&quot;$first&quot;, &quot;$created_by&quot;))\r\n                                    .append(&quot;tags&quot;,\r\n                                            new Document(&quot;$push&quot;, &quot;$tweet_tags&quot;))),\r\n                    new Document(&quot;$lookup&quot;,\r\n                            new Document(&quot;from&quot;, &quot;users&quot;)\r\n                                    .append(&quot;localField&quot;, &quot;user&quot;)\r\n                                    .append(&quot;foreignField&quot;, &quot;_id&quot;)\r\n                                    .append(&quot;as&quot;, &quot;createdByUser&quot;)),\r\n                    new Document(&quot;$unwind&quot;,\r\n                            new Document(&quot;path&quot;, &quot;$createdByUser&quot;)\r\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, false)),\r\n                    new Document(&quot;$set&quot;,\r\n                            new Document(&quot;createdByUser.password&quot;,\r\n                                    new BsonNull())));\r\n        }\r\n```\r\n\r\nquarkus Controller code as below:\r\n```java\r\n@Path(&quot;/hello&quot;)\r\npublic class ExampleResource {\r\n    @Inject\r\n    private MongoClient mongoClient;\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Map&lt;Object, Object&gt; hello() {\r\n        MongoCollection&lt;Tweet&gt; tweetsCollection = mongoClient.getDatabase(&quot;simple-node-js&quot;)\r\n                .getCollection(&quot;tweets&quot;, Tweet.class);\r\n\r\n\r\n        List&lt;Document&gt; groupByQueryUser = Tweet.GroupByIdDetails.getTweetByUserQuery();\r\n\r\n        MongoCollection&lt;Document&gt; collections = mongoClient.getDatabase(&quot;simple-node-js&quot;)\r\n                .getCollection(&quot;tweets&quot;);\r\n        AggregateIterable&lt;Document&gt; aggregate = collections.aggregate(groupByQueryUser);\r\n        List&lt;Document&gt; data = new ArrayList&lt;&gt;();\r\n        for (Document value : aggregate) {\r\n            System.out.println(value);\r\n            data.add(value);\r\n        }\r\n\r\n        return Map.of(&quot;size&quot;, data.size(), &quot;data&quot;, data);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nThere are many other things needs to be done with the response like removing unwanted fields but this ways i could achieve same result on node+mongoose api(except few more things which i skipped here)","title":"Best practice: MongoDB Panache entity one-to-many relationship handling in Quarkus?","body":"<p>As informed by @loicmathieu there is no direct way to do <code>populate()</code> in quarkus as you are able to do it in mongoose.\nIf you set <code>mongoose.set('debug', true)</code> then you can check in console that first</p>\n<ul>\n<li><code>find</code> query on collection is executed</li>\n<li><code>in</code> query on reference collection is executed.</li>\n</ul>\n<p>Example json document:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;_id&quot; : ObjectId(&quot;612f6c5c081d0796761ec2e4&quot;),\n    &quot;content&quot; : &quot;cannot restart Mongodb even when memory space is available&quot;,\n    &quot;created_by&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\n    &quot;tags&quot; : [ \n        ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;)\n    ],\n    &quot;createdAt&quot; : ISODate(&quot;2021-09-01T12:04:44.361Z&quot;),\n    &quot;updatedAt&quot; : ISODate(&quot;2021-09-10T05:30:51.384Z&quot;),\n    &quot;__v&quot; : 2,\n    &quot;likes&quot; : [],\n    &quot;replies&quot; : []\n}\n</code></pre>\n<p>Tag Document</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;_id&quot; : ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;),\n    &quot;name&quot; : &quot;mongodb&quot;,\n    &quot;created_by&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\n    &quot;createdAt&quot; : ISODate(&quot;2021-09-01T12:04:44.358Z&quot;),\n    &quot;updatedAt&quot; : ISODate(&quot;2021-09-01T12:04:44.358Z&quot;),\n    &quot;__v&quot; : 0\n}\n</code></pre>\n<p>And finally user document</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;_id&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\n    &quot;username&quot; : &quot;silentsudo&quot;,\n    &quot;password&quot; : &quot;sosimplebcrypted&quot;,\n    &quot;name&quot; : &quot;Ashish&quot;,\n    &quot;__v&quot; : 0\n}\n</code></pre>\n<p>To get all documents i execute following query:</p>\n<pre class=\"lang-js prettyprint-override\"><code>exports.getRecentTweets = async () =&gt; {\n    return Tweet.find()\n        .populate('created_by', '_id name username mediaId')\n        .populate('tags', '_id name')\n        .sort({'createdAt': -1});\n}\n</code></pre>\n<p>Mongoose internally executing this in the following manner</p>\n<pre><code>Mongoose: tweets.find({}, { sort: { createdAt: -1 }, projection: {} })\nMongoose: users.find({ _id: { '$in': [ new ObjectId(&quot;612cb8608d22afb0e404adf6&quot;), new ObjectId(&quot;612f57ca9ea5c5cabbd89b38&quot;), new ObjectId(&quot;612f57ae9ea5c5cabbd89b32&quot;), new ObjectId(&quot;6134cb55328b793a1dacb9c2&quot;), new ObjectId(&quot;612cb86a8d22afb0e404adfc&quot;) ] }}, { skip: undefined, limit: undefined, perDocumentLimit: undefined, projection: { _id: 1, name: 1, username: 1, mediaId: 1 }})\nMongoose: tags.find({ _id: { '$in': [ new ObjectId(&quot;6144d9ef02f6da33f39fe134&quot;), new ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;), new ObjectId(&quot;612f6e9f081d0796761ec343&quot;), new ObjectId(&quot;612dc4623c401072c8098a84&quot;), new ObjectId(&quot;612f6cb1081d0796761ec2f1&quot;), new ObjectId(&quot;612f6c72081d0796761ec2eb&quot;), new ObjectId(&quot;612f6e5b081d0796761ec337&quot;), new ObjectId(&quot;612f6e42081d0796761ec330&quot;), new ObjectId(&quot;612f6df9081d0796761ec320&quot;), new ObjectId(&quot;612f6e0a081d0796761ec328&quot;), new ObjectId(&quot;612f6de8081d0796761ec316&quot;), new ObjectId(&quot;612f6de8081d0796761ec319&quot;), new ObjectId(&quot;612f6dc9081d0796761ec30c&quot;), new ObjectId(&quot;612f6dc9081d0796761ec30f&quot;), new ObjectId(&quot;612f6db0081d0796761ec303&quot;), new ObjectId(&quot;612f6db0081d0796761ec306&quot;), new ObjectId(&quot;612f6cc7081d0796761ec2f7&quot;) ] }}, { skip: undefined, limit: undefined, perDocumentLimit: undefined, projection: { _id: 1, name: 1 }})\n\n</code></pre>\n<p>I was experimenting <code>ab tool</code> for benchmarking. So i decided to go with quarkus as i never built any production application using it before. So i quickly created model and arrived at this thread only to know there is no direct way to achieve populate in java based driver. But we can use <code>$lookup</code>  with aggregation pipeline what we need. First and simplest way is to use mongodb compass tool to build the query and then simply export the result in java language. my json query to produce output similar to populate query looked like this.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    '$unwind': {\n      'path': '$tags', \n      'preserveNullAndEmptyArrays': true\n    }\n  }, {\n    '$lookup': {\n      'from': 'tags', \n      'localField': 'tags', \n      'foreignField': '_id', \n      'as': 'tweet_tags'\n    }\n  }, {\n    '$unwind': {\n      'path': '$tweet_tags', \n      'preserveNullAndEmptyArrays': true\n    }\n  }, {\n    '$group': {\n      '_id': '$_id', \n      'content': {\n        '$first': '$content'\n      }, \n      'user': {\n        '$first': '$created_by'\n      }, \n      'tags': {\n        '$push': '$tweet_tags'\n      }\n    }\n  }, {\n    '$lookup': {\n      'from': 'users', \n      'localField': 'user', \n      'foreignField': '_id', \n      'as': 'createdByUser'\n    }\n  }, {\n    '$unwind': {\n      'path': '$createdByUser', \n      'preserveNullAndEmptyArrays': false\n    }\n  }, {\n    '$set': {\n      'createdByUser.password': null\n    }\n  }\n]\n</code></pre>\n<p>Which when converted into equivalent java gives</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Document&gt; getTweetByUserQuery() {\n            return Arrays.asList(new Document(&quot;$unwind&quot;,\n                            new Document(&quot;path&quot;, &quot;$tags&quot;)\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, true)),\n                    new Document(&quot;$lookup&quot;,\n                            new Document(&quot;from&quot;, &quot;tags&quot;)\n                                    .append(&quot;localField&quot;, &quot;tags&quot;)\n                                    .append(&quot;foreignField&quot;, &quot;_id&quot;)\n                                    .append(&quot;as&quot;, &quot;tweet_tags&quot;)),\n                    new Document(&quot;$unwind&quot;,\n                            new Document(&quot;path&quot;, &quot;$tweet_tags&quot;)\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, true)),\n                    new Document(&quot;$group&quot;,\n                            new Document(&quot;_id&quot;, &quot;$_id&quot;)\n                                    .append(&quot;content&quot;,\n                                            new Document(&quot;$first&quot;, &quot;$content&quot;))\n                                    .append(&quot;user&quot;,\n                                            new Document(&quot;$first&quot;, &quot;$created_by&quot;))\n                                    .append(&quot;tags&quot;,\n                                            new Document(&quot;$push&quot;, &quot;$tweet_tags&quot;))),\n                    new Document(&quot;$lookup&quot;,\n                            new Document(&quot;from&quot;, &quot;users&quot;)\n                                    .append(&quot;localField&quot;, &quot;user&quot;)\n                                    .append(&quot;foreignField&quot;, &quot;_id&quot;)\n                                    .append(&quot;as&quot;, &quot;createdByUser&quot;)),\n                    new Document(&quot;$unwind&quot;,\n                            new Document(&quot;path&quot;, &quot;$createdByUser&quot;)\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, false)),\n                    new Document(&quot;$set&quot;,\n                            new Document(&quot;createdByUser.password&quot;,\n                                    new BsonNull())));\n        }\n</code></pre>\n<p>quarkus Controller code as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/hello&quot;)\npublic class ExampleResource {\n    @Inject\n    private MongoClient mongoClient;\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Map&lt;Object, Object&gt; hello() {\n        MongoCollection&lt;Tweet&gt; tweetsCollection = mongoClient.getDatabase(&quot;simple-node-js&quot;)\n                .getCollection(&quot;tweets&quot;, Tweet.class);\n\n\n        List&lt;Document&gt; groupByQueryUser = Tweet.GroupByIdDetails.getTweetByUserQuery();\n\n        MongoCollection&lt;Document&gt; collections = mongoClient.getDatabase(&quot;simple-node-js&quot;)\n                .getCollection(&quot;tweets&quot;);\n        AggregateIterable&lt;Document&gt; aggregate = collections.aggregate(groupByQueryUser);\n        List&lt;Document&gt; data = new ArrayList&lt;&gt;();\n        for (Document value : aggregate) {\n            System.out.println(value);\n            data.add(value);\n        }\n\n        return Map.of(&quot;size&quot;, data.size(), &quot;data&quot;, data);\n    }\n\n\n}\n</code></pre>\n<p>There are many other things needs to be done with the response like removing unwanted fields but this ways i could achieve same result on node+mongoose api(except few more things which i skipped here)</p>\n"}],"owner":{"account_id":98694,"reputation":7773,"user_id":267001,"accept_rate":94,"display_name":"ngeek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2588,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69346540,"answer_count":2,"score":2,"last_activity_date":1632745388,"creation_date":1614002215,"question_id":66317076,"body_markdown":"The [Quarkus Guide on using MongoDB with Panache][1] does unfortunately not mention what is considered the best practice dealing with one-to-many relations of entities. Note: I would like to model the dependent sub-document, but as an entity on its own. The MongoDB site demonstrates this pattern in: [Model One-to-Many Relationships with Document References][2] so that you would have to lookup in your repository all entities linked to the parent ID. \r\n\r\nDoes Quarkus (Panache) provide currently any means to make the lookup more convenient?\r\n\r\n\r\nPS: There seems to be an [open enhancement request from May 2020][3] to automatically fetch the referenced entities.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/mongodb-panache\r\n  [2]: https://docs.mongodb.com/manual/tutorial/model-referenced-one-to-many-relationships-between-documents/\r\n  [3]: https://github.com/quarkusio/quarkus/issues/9210","title":"Best practice: MongoDB Panache entity one-to-many relationship handling in Quarkus?","body":"<p>The <a href=\"https://quarkus.io/guides/mongodb-panache\" rel=\"nofollow noreferrer\">Quarkus Guide on using MongoDB with Panache</a> does unfortunately not mention what is considered the best practice dealing with one-to-many relations of entities. Note: I would like to model the dependent sub-document, but as an entity on its own. The MongoDB site demonstrates this pattern in: <a href=\"https://docs.mongodb.com/manual/tutorial/model-referenced-one-to-many-relationships-between-documents/\" rel=\"nofollow noreferrer\">Model One-to-Many Relationships with Document References</a> so that you would have to lookup in your repository all entities linked to the parent ID.</p>\n<p>Does Quarkus (Panache) provide currently any means to make the lookup more convenient?</p>\n<p>PS: There seems to be an <a href=\"https://github.com/quarkusio/quarkus/issues/9210\" rel=\"nofollow noreferrer\">open enhancement request from May 2020</a> to automatically fetch the referenced entities.</p>\n"},{"tags":["java","refactoring"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632745374,"creation_date":1632744156,"answer_id":69346253,"question_id":69346054,"body_markdown":"In order to use `Extractor` like you want to itneeds to have a generic type of its own, e.g. `Extractor&lt;T&gt;` and then `public abstract List&lt;T&gt; importExcel()`. Then define the concrete implementation as `MyDataExtractor implements Extractor&lt;MyData&gt;`. \r\n\r\nAdditionally, you need to adjust the config and factory method, e.g. like this:\r\n\r\n    public class ExtractorConfig&lt;T&gt; {\r\n      public Extractor&lt;T&gt;(Class&lt;T&gt; type) { ... }\r\n \r\n      Class&lt;T&gt; getType();\r\n    }\r\n  \r\n    //need to suppress the warning about the cast\r\n    //using E here in order to avoid confusion with &lt;T&gt; of Extractor&lt;T&gt;\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;E&gt; static Extractor&lt;E&gt; createFromConfig(ExtractorConfig&lt;E&gt; ec) {\r\n        //this isn&#39;t that elegant though as Extractor would now need to know all implementations and their data classes\r\n        if (MyData.class.equals(ec.getType()))\r\n            //unfortunately this cast is necessary\r\n            return (Extractor&lt;E&gt;)new MyDataExtractor(ec);\r\n\r\n        return null;\r\n    }\r\n\r\nAnd use it like this:\r\n\r\n    ExtractorConfig&lt;MyData&gt; ec = new ExtractorConfig(MyData.class);\r\n    ...\r\n\r\n    Extractor&lt;MyData&gt; e = Extractor.createFromConfig(ec);\r\n    List&lt;MyData&gt; myDataList = e.importExcel();\r\n\r\n\r\nNote that if you want to be more flexible with possible implementations, you might need to use a kind of registry (factory factory) with either contains singleton extractors, prototypes or metafactories.\r\n\r\nSimple example using meta factories:\r\n\r\n    interface ExtractorFactory&lt;T&gt; {\r\n      Class&lt;T&gt; getType();\r\n\r\n      Extractor&lt;T&gt; buildExtractor(ExtractorConfig&lt;T&gt; ec);\r\n    }\r\n\r\n    class ExtractorRegistry {\r\n       Map&lt;Class&lt;?&gt;, ExtractorFactory&lt;?&gt;&gt; factories = ...;\r\n\r\n       void registerFactory(ExtractorFactory&lt;?&gt; factory) {\r\n          factories.put(factory.getType(), factory);\r\n       }\r\n\r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n       &lt;T&gt; Extractor&lt;T&gt; build(ExtractorConfig&lt;T&gt; ec) {\r\n         //same ugly but necessary cast, warning needs to be suppressed\r\n         ExtractorFactory&lt;T&gt; f = (ExtractorFactory)factories.get(ec.getType());\r\n         if( f != null ) return f.buildExtractor(ec);\r\n        \r\n         return null;\r\n       }\r\n    }\r\n\r\nAnd use it like this:\r\n\r\n    ExtractorRegistry registry = ...//get it from somewhere (or make it static, but that&#39;s not preferred)\r\n    registry.registerFactory(new MyDataExtractorFactory());\r\n\r\n    Extractor&lt;MyData&gt; e = registry .build(ec);\r\n    List&lt;MyData&gt; myDataList = e.importExcel();\r\n\r\nFinally a word on those casts:\r\n\r\nSince you&#39;ll want to deal with different and potentially unrelated types in your factory methods (or the registry method that returns factories) you need to cast from the concrete types you get (e.g. `MyData` defined by `MyDataExtractor` to the generic or wildcard type of the method.\r\n\r\nHowever, this is ok if you make sure that those casts will always succeed. The warnings are there to tell you this is potentially unsafe and thus you need to be extra careful not to break it. If you are sure this can&#39;t break, supress the warnings :)","title":"FactoryPattern with Generics in Java","body":"<p>In order to use <code>Extractor</code> like you want to itneeds to have a generic type of its own, e.g. <code>Extractor&lt;T&gt;</code> and then <code>public abstract List&lt;T&gt; importExcel()</code>. Then define the concrete implementation as <code>MyDataExtractor implements Extractor&lt;MyData&gt;</code>.</p>\n<p>Additionally, you need to adjust the config and factory method, e.g. like this:</p>\n<pre><code>public class ExtractorConfig&lt;T&gt; {\n  public Extractor&lt;T&gt;(Class&lt;T&gt; type) { ... }\n\n  Class&lt;T&gt; getType();\n}\n\n//need to suppress the warning about the cast\n//using E here in order to avoid confusion with &lt;T&gt; of Extractor&lt;T&gt;\n@SuppressWarnings(&quot;unchecked&quot;)\npublic &lt;E&gt; static Extractor&lt;E&gt; createFromConfig(ExtractorConfig&lt;E&gt; ec) {\n    //this isn't that elegant though as Extractor would now need to know all implementations and their data classes\n    if (MyData.class.equals(ec.getType()))\n        //unfortunately this cast is necessary\n        return (Extractor&lt;E&gt;)new MyDataExtractor(ec);\n\n    return null;\n}\n</code></pre>\n<p>And use it like this:</p>\n<pre><code>ExtractorConfig&lt;MyData&gt; ec = new ExtractorConfig(MyData.class);\n...\n\nExtractor&lt;MyData&gt; e = Extractor.createFromConfig(ec);\nList&lt;MyData&gt; myDataList = e.importExcel();\n</code></pre>\n<p>Note that if you want to be more flexible with possible implementations, you might need to use a kind of registry (factory factory) with either contains singleton extractors, prototypes or metafactories.</p>\n<p>Simple example using meta factories:</p>\n<pre><code>interface ExtractorFactory&lt;T&gt; {\n  Class&lt;T&gt; getType();\n\n  Extractor&lt;T&gt; buildExtractor(ExtractorConfig&lt;T&gt; ec);\n}\n\nclass ExtractorRegistry {\n   Map&lt;Class&lt;?&gt;, ExtractorFactory&lt;?&gt;&gt; factories = ...;\n\n   void registerFactory(ExtractorFactory&lt;?&gt; factory) {\n      factories.put(factory.getType(), factory);\n   }\n\n   @SuppressWarnings(&quot;unchecked&quot;)\n   &lt;T&gt; Extractor&lt;T&gt; build(ExtractorConfig&lt;T&gt; ec) {\n     //same ugly but necessary cast, warning needs to be suppressed\n     ExtractorFactory&lt;T&gt; f = (ExtractorFactory)factories.get(ec.getType());\n     if( f != null ) return f.buildExtractor(ec);\n    \n     return null;\n   }\n}\n</code></pre>\n<p>And use it like this:</p>\n<pre><code>ExtractorRegistry registry = ...//get it from somewhere (or make it static, but that's not preferred)\nregistry.registerFactory(new MyDataExtractorFactory());\n\nExtractor&lt;MyData&gt; e = registry .build(ec);\nList&lt;MyData&gt; myDataList = e.importExcel();\n</code></pre>\n<p>Finally a word on those casts:</p>\n<p>Since you'll want to deal with different and potentially unrelated types in your factory methods (or the registry method that returns factories) you need to cast from the concrete types you get (e.g. <code>MyData</code> defined by <code>MyDataExtractor</code> to the generic or wildcard type of the method.</p>\n<p>However, this is ok if you make sure that those casts will always succeed. The warnings are there to tell you this is potentially unsafe and thus you need to be extra careful not to break it. If you are sure this can't break, supress the warnings :)</p>\n"}],"owner":{"account_id":4643758,"reputation":1,"user_id":3762790,"display_name":"user3762790"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632745374,"creation_date":1632743311,"question_id":69346054,"body_markdown":"i&#39;m new to java and im trying to use the Factory Pattern.\r\n\r\nMy App simply imports Data from an Excelsheet into an ArrayList by a given Pojo/Bean.\r\nAs i have more than one Bean i decided to create a Config object and use a factory pattern.\r\nThe cfg object configures the generic extractor and the factory method returns the concrete Extractor. In this case the MyDataExtracor. \r\nThe importExcel method simply runs through every line in the excel and adds the extracted data as object per line to a list.\r\n\r\nBut the line `List&lt;MyData&gt; myDataList = e.importExcel();`\r\nthrows the following error: `Type mismatch: cannot convert from List&lt;capture#1-of ?&gt; to List&lt;MyData&gt;`\r\n\r\nanyone has a hint what im doing wrong?\r\n\r\nHeres my code:\r\n**main**\r\n\r\n    ExtractorConfig ec = new ExtractorConfig();\r\n    ec.setType(MyData.class);\r\n    ec.setFileName(&quot;MyData.xlsx&quot;);\r\n    ec.setStartRow(2d);\r\n    ec.setEndRow(3241d);\r\n    ec.setSheetName(&quot;Sheet1&quot;);\r\n    \r\n    Extractor e = Extractor.createFromConfig(ec);\r\n    List&lt;MyData&gt; myDataList = e.importExcel();\r\n\r\n**Extractor.java**\r\n\r\n    public abstract class Extractor {\r\n    \t\r\n    \tpublic abstract List&lt;?&gt; importExcel();\r\n    \r\n    \tpublic abstract ExtractorBean processRow(Row currentRow);\r\n    \r\n    \tpublic static Extractor createFromConfig(ExtractorConfig ec) {\r\n    \t\tif (ec.getC() == MyData.class)\r\n    \t\t\treturn new MyDataExtractor(ec);\r\n  \r\n    \t\treturn null;\r\n    \r\n    \t}\r\n    }\r\n\r\n**MyDataExtractor.java**\r\n    public class MyDataExtractor extends Extractor {\r\n    \r\n    \tExtractorConfig c;\r\n    \r\n    \tpublic MyDataExtractor(ExtractorConfig c) {\r\n    \t\tsuper();\r\n    \t\tthis.c = c;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;MyData&gt; importExcel() {\r\n    \r\n    \t\tList&lt;MyData&gt; aList = new ArrayList&lt;MyData&gt;();\r\n            // some code\r\n            // loop through worksheet\r\n    \t\tMyData aMyDataObject = processRow(currentRow);\r\n    \t\taList.add(aMyDataObject);\r\n            // end of loop\r\n    \r\n    \t\treturn aList;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic MyData processRow(Row currentRow) {\r\n    \r\n    \t\tMyData myDataObject = new MyData();\r\n            // do some stuff like setting data\r\n    \t\treturn myDataObject;\r\n    \t}\r\n    \r\n    }","title":"FactoryPattern with Generics in Java","body":"<p>i'm new to java and im trying to use the Factory Pattern.</p>\n<p>My App simply imports Data from an Excelsheet into an ArrayList by a given Pojo/Bean.\nAs i have more than one Bean i decided to create a Config object and use a factory pattern.\nThe cfg object configures the generic extractor and the factory method returns the concrete Extractor. In this case the MyDataExtracor.\nThe importExcel method simply runs through every line in the excel and adds the extracted data as object per line to a list.</p>\n<p>But the line <code>List&lt;MyData&gt; myDataList = e.importExcel();</code>\nthrows the following error: <code>Type mismatch: cannot convert from List&lt;capture#1-of ?&gt; to List&lt;MyData&gt;</code></p>\n<p>anyone has a hint what im doing wrong?</p>\n<p>Heres my code:\n<strong>main</strong></p>\n<pre><code>ExtractorConfig ec = new ExtractorConfig();\nec.setType(MyData.class);\nec.setFileName(&quot;MyData.xlsx&quot;);\nec.setStartRow(2d);\nec.setEndRow(3241d);\nec.setSheetName(&quot;Sheet1&quot;);\n\nExtractor e = Extractor.createFromConfig(ec);\nList&lt;MyData&gt; myDataList = e.importExcel();\n</code></pre>\n<p><strong>Extractor.java</strong></p>\n<pre><code>public abstract class Extractor {\n    \n    public abstract List&lt;?&gt; importExcel();\n\n    public abstract ExtractorBean processRow(Row currentRow);\n\n    public static Extractor createFromConfig(ExtractorConfig ec) {\n        if (ec.getC() == MyData.class)\n            return new MyDataExtractor(ec);\n\n        return null;\n\n    }\n}\n</code></pre>\n<p><strong>MyDataExtractor.java</strong>\npublic class MyDataExtractor extends Extractor {</p>\n<pre><code>    ExtractorConfig c;\n\n    public MyDataExtractor(ExtractorConfig c) {\n        super();\n        this.c = c;\n    }\n\n    @Override\n    public List&lt;MyData&gt; importExcel() {\n\n        List&lt;MyData&gt; aList = new ArrayList&lt;MyData&gt;();\n        // some code\n        // loop through worksheet\n        MyData aMyDataObject = processRow(currentRow);\n        aList.add(aMyDataObject);\n        // end of loop\n\n        return aList;\n    }\n\n\n\n    public MyData processRow(Row currentRow) {\n\n        MyData myDataObject = new MyData();\n        // do some stuff like setting data\n        return myDataObject;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":41803,"reputation":1376,"user_id":121562,"display_name":"eolith"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1298386881,"creation_date":1298386881,"answer_id":5079800,"question_id":5079458,"body_markdown":"Check this out: [BeanPropertyCopyUtil][1].\r\n\r\nExample:\r\n\r\n    copyProperties(user, systemUser, &quot;first firstName&quot;, &quot;last lastName&quot;);\r\n\r\nYou&#39;ll also need Apache Commons BeanUtils.\r\n\r\n  [1]: http://code.google.com/p/vineetmanohar/source/browse/trunk/src/main/java/com/vineetmanohar/util/BeanPropertyCopyUtil.java","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>Check this out: <a href=\"http://code.google.com/p/vineetmanohar/source/browse/trunk/src/main/java/com/vineetmanohar/util/BeanPropertyCopyUtil.java\" rel=\"nofollow\">BeanPropertyCopyUtil</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>copyProperties(user, systemUser, \"first firstName\", \"last lastName\");\n</code></pre>\n\n<p>You'll also need Apache Commons BeanUtils.</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298388058,"creation_date":1298387121,"answer_id":5079839,"question_id":5079458,"body_markdown":"If you don&#39;t want to use Commons BeanUtils you can still use Spring by using the [BeanWrapper][1].\r\n\r\nYou will have to manually loop through all the properties so you will want to make a static helper method.\r\n\r\nYou can always just copy what copyProperties is doing and adjust to your liking:\r\nhttp://tinyurl.com/BeanUtils-copyProperties\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/BeanWrapper.html","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>If you don't want to use Commons BeanUtils you can still use Spring by using the <a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/BeanWrapper.html\" rel=\"nofollow\">BeanWrapper</a>.</p>\n\n<p>You will have to manually loop through all the properties so you will want to make a static helper method.</p>\n\n<p>You can always just copy what copyProperties is doing and adjust to your liking:\n<a href=\"http://tinyurl.com/BeanUtils-copyProperties\" rel=\"nofollow\">http://tinyurl.com/BeanUtils-copyProperties</a></p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1522253017,"creation_date":1298387218,"answer_id":5079864,"question_id":5079458,"body_markdown":"You can use the [`BeanWrapper`][1] technology. Here&#39;s a sample implementation:\r\n\r\n\r\n    public static void copyProperties(Object src, Object trg, Iterable&lt;String&gt; props) {\r\n\r\n        BeanWrapper srcWrap = PropertyAccessorFactory.forBeanPropertyAccess(src);\r\n        BeanWrapper trgWrap = PropertyAccessorFactory.forBeanPropertyAccess(trg);\r\n\r\n        props.forEach(p -&gt; trgWrap.setPropertyValue(p, srcWrap.getPropertyValue(p)));\r\n\r\n    }\r\n\r\nOr, if you really, *really* want to use `BeanUtils`, here&#39;s a solution. Invert the logic, gather excludes by comparing the full property list with the includes:\r\n\r\n    public static void copyProperties2(Object src, Object trg, Set&lt;String&gt; props) {\r\n        String[] excludedProperties = \r\n                Arrays.stream(BeanUtils.getPropertyDescriptors(src.getClass()))\r\n                      .map(PropertyDescriptor::getName)\r\n                      .filter(name -&gt; !props.contains(name))\r\n                      .toArray(String[]::new);\r\n\r\n        BeanUtils.copyProperties(src, trg, excludedProperties);\r\n    }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/validation.html#beans-beans","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>You can use the <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/validation.html#beans-beans\" rel=\"noreferrer\"><code>BeanWrapper</code></a> technology. Here's a sample implementation:</p>\n\n<pre><code>public static void copyProperties(Object src, Object trg, Iterable&lt;String&gt; props) {\n\n    BeanWrapper srcWrap = PropertyAccessorFactory.forBeanPropertyAccess(src);\n    BeanWrapper trgWrap = PropertyAccessorFactory.forBeanPropertyAccess(trg);\n\n    props.forEach(p -&gt; trgWrap.setPropertyValue(p, srcWrap.getPropertyValue(p)));\n\n}\n</code></pre>\n\n<p>Or, if you really, <em>really</em> want to use <code>BeanUtils</code>, here's a solution. Invert the logic, gather excludes by comparing the full property list with the includes:</p>\n\n<pre><code>public static void copyProperties2(Object src, Object trg, Set&lt;String&gt; props) {\n    String[] excludedProperties = \n            Arrays.stream(BeanUtils.getPropertyDescriptors(src.getClass()))\n                  .map(PropertyDescriptor::getName)\n                  .filter(name -&gt; !props.contains(name))\n                  .toArray(String[]::new);\n\n    BeanUtils.copyProperties(src, trg, excludedProperties);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4376790,"reputation":81,"user_id":3569615,"display_name":"ingchristianreyes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400539757,"creation_date":1400539757,"answer_id":23748415,"question_id":5079458,"body_markdown":"Here is an Example with Spring BeanUtils class:\r\n\r\n\tpublic static void copyList(List sourceList,\r\n\t\t\tList targetList, Class targetType) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tfor (Object source : sourceList) {\r\n\t\t\t\tObject target = null;\r\n\t\t\t\ttarget = targetType.newInstance();\r\n\t\t\t\tBeanUtils.copyProperties(source, target);\r\n\t\t\t\ttargetList.add(target);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (InstantiationException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IllegalAccessException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>Here is an Example with Spring BeanUtils class:</p>\n\n<pre><code>public static void copyList(List sourceList,\n        List targetList, Class targetType) {\n\n    try {\n\n        for (Object source : sourceList) {\n            Object target = null;\n            target = targetType.newInstance();\n            BeanUtils.copyProperties(source, target);\n            targetList.add(target);\n        }\n\n    } catch (InstantiationException e) {\n        e.printStackTrace();\n    } catch (IllegalAccessException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5455793,"reputation":51,"user_id":4339267,"display_name":"Gautam Pal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434352617,"creation_date":1434352617,"answer_id":30839349,"question_id":5079458,"body_markdown":"You may use \r\n    org.springframework.beans.BeanUtils.copyProperties(Object source, Object target, Class editable) throws BeansException\r\n\r\nEnsure the target implements the interface editable which defines the properties which would be copied.","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>You may use \n    org.springframework.beans.BeanUtils.copyProperties(Object source, Object target, Class editable) throws BeansException</p>\n\n<p>Ensure the target implements the interface editable which defines the properties which would be copied.</p>\n"},{"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632745363,"creation_date":1632745363,"answer_id":69346533,"question_id":5079458,"body_markdown":"`beanUtils` has an overloaded method wherein we can pass an array of fields that we want to ignore.\r\n\r\nEg.\r\n\r\n    String[] ignoreProperties= new String[]{&quot;field1&quot;,&quot;field2&quot;};\r\n    \r\n    BeanUtils.copyProperties(a, b,ignoreProperties);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hFMAh.png","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p><code>beanUtils</code> has an overloaded method wherein we can pass an array of fields that we want to ignore.</p>\n<p>Eg.</p>\n<pre><code>String[] ignoreProperties= new String[]{&quot;field1&quot;,&quot;field2&quot;};\n\nBeanUtils.copyProperties(a, b,ignoreProperties);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hFMAh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hFMAh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":244547,"reputation":8456,"user_id":1582304,"accept_rate":69,"display_name":"zono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85524,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":5079864,"answer_count":6,"score":42,"last_activity_date":1632745363,"creation_date":1298385299,"question_id":5079458,"body_markdown":"`springframework.beans.BeanUtils` is very useful to copy objects, and I use the &quot;ignoreProperties&quot; option frequently. However, sometimes I want to copy only specific objects (basically, the opposite of &quot;ignore Properties&quot;). Does anyone know how can I do that? Any help will be appreciated.\r\n\r\n    import org.springframework.beans.BeanUtils;\r\n    \r\n    public class Sample {    \r\n    \tpublic static void main(String[] args) {    \r\n    \t\tDemoADto demoADto = new DemoADto();\r\n    \t\tdemoADto.setName(&quot;Name of Demo A&quot;);\r\n    \t\tdemoADto.setAddress(&quot;Address of Demo A&quot;);\r\n    \r\n    \t\tDemoBDto demoBDto = new DemoBDto();\r\n    \r\n    \t\t// This is &quot;ignoreProperties&quot; option\r\n    \t\t// But I want to know how I can copy only name field by using BeanUtils or something.\r\n    \t\tBeanUtils.copyProperties(demoADto, demoBDto, new String[] {&quot;address&quot;});\r\n    \r\n    \t\tSystem.out.println(demoBDto.getName());\r\n    \t\tSystem.out.println(demoBDto.getAddress());    \r\n    \t}    \r\n    }\r\n    \r\n    public class DemoADto {    \r\n    \tprivate String name;    \r\n    \tprivate String address;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}    \r\n    }\r\n    \r\n    public class DemoBDto {    \r\n    \tprivate String name;    \r\n    \tprivate String address;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}    \r\n    }\r\n\r\n","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p><code>springframework.beans.BeanUtils</code> is very useful to copy objects, and I use the \"ignoreProperties\" option frequently. However, sometimes I want to copy only specific objects (basically, the opposite of \"ignore Properties\"). Does anyone know how can I do that? Any help will be appreciated.</p>\n\n<pre><code>import org.springframework.beans.BeanUtils;\n\npublic class Sample {    \n    public static void main(String[] args) {    \n        DemoADto demoADto = new DemoADto();\n        demoADto.setName(\"Name of Demo A\");\n        demoADto.setAddress(\"Address of Demo A\");\n\n        DemoBDto demoBDto = new DemoBDto();\n\n        // This is \"ignoreProperties\" option\n        // But I want to know how I can copy only name field by using BeanUtils or something.\n        BeanUtils.copyProperties(demoADto, demoBDto, new String[] {\"address\"});\n\n        System.out.println(demoBDto.getName());\n        System.out.println(demoBDto.getAddress());    \n    }    \n}\n\npublic class DemoADto {    \n    private String name;    \n    private String address;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }    \n}\n\npublic class DemoBDto {    \n    private String name;    \n    private String address;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }    \n}\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1632491548,"post_id":69316107,"comment_id":122514437,"body_markdown":"Can you share the URL?","body":"Can you share the URL?"},{"owner":{"account_id":22624287,"reputation":5,"user_id":16802576,"display_name":"Sandy"},"score":0,"creation_date":1632492168,"post_id":69316107,"comment_id":122514749,"body_markdown":"@pmadhu - sorry cannot do that","body":"@pmadhu - sorry cannot do that"},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1632492243,"post_id":69316107,"comment_id":122514780,"body_markdown":"Atleast share the complete error message.","body":"Atleast share the complete error message."},{"owner":{"account_id":22624287,"reputation":5,"user_id":16802576,"display_name":"Sandy"},"score":0,"creation_date":1632492835,"post_id":69316107,"comment_id":122515016,"body_markdown":"@pmadhu - added stack trace","body":"@pmadhu - added stack trace"},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1632493465,"post_id":69316107,"comment_id":122515296,"body_markdown":"`WebElement loadmoreElems` is defined outside the loop, redefine it inside loop again and try.","body":"<code>WebElement loadmoreElems</code> is defined outside the loop, redefine it inside loop again and try."},{"owner":{"account_id":22624287,"reputation":5,"user_id":16802576,"display_name":"Sandy"},"score":0,"creation_date":1632493784,"post_id":69316107,"comment_id":122515423,"body_markdown":"@pmadhu - that wont make a difference tried and still the same","body":"@pmadhu - that wont make a difference tried and still the same"}],"answers":[{"tags":[],"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632664941,"creation_date":1632664941,"answer_id":69335669,"question_id":69316107,"body_markdown":"I think its because, you are defining `loadmoreElems` (within the loop) after you perform the click operation. So it click on the `Load More` button one time because you have defined `loadmoreElems` outside the loop. After the 1st click you are not defining it before click operation and the previously defined `loadmoreElems` is no longer valid.\r\n\r\nDefine it before that and try:\r\n\r\n```\r\nWebDriverWait wait = new WebDriverWait(driver,10);\r\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//span[contains(@class,&#39;mat-button-wrapper&#39;) and contains(normalize-space(),&#39;Load More&#39;)]&quot;)));\r\nloadmoreElems = DriverUtil.getFluentWaitElementByXPath(loadmoreXpath,20, driver);\r\nloadmoreElems.click();\r\nif(!loadmoreElem.isDisplayed())...\r\n```\r\n","title":"Clicking Load More Leads leads to error stating that element is no longer visible","body":"<p>I think its because, you are defining <code>loadmoreElems</code> (within the loop) after you perform the click operation. So it click on the <code>Load More</code> button one time because you have defined <code>loadmoreElems</code> outside the loop. After the 1st click you are not defining it before click operation and the previously defined <code>loadmoreElems</code> is no longer valid.</p>\n<p>Define it before that and try:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver,10);\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//span[contains(@class,'mat-button-wrapper') and contains(normalize-space(),'Load More')]&quot;)));\nloadmoreElems = DriverUtil.getFluentWaitElementByXPath(loadmoreXpath,20, driver);\nloadmoreElems.click();\nif(!loadmoreElem.isDisplayed())...\n</code></pre>\n"}],"owner":{"account_id":22624287,"reputation":5,"user_id":16802576,"display_name":"Sandy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632744921,"creation_date":1632491203,"question_id":69316107,"body_markdown":"I have a Search Screen where after I enter the search criteria and search a Load More button will display if there are more than 30 records. The problem is it clicks the Load more button but leads to stale element Exception\r\n\r\nThe scenario is I need to click till the Load More button becomes disabled.\r\n\r\nBelow is my code any inputs\r\n\r\n   List&lt;WebElement&gt; rows = driver.findElements(By.xpath(&quot;//tbody[@role=&#39;rowgroup&#39;]/tr&quot;));\r\n            int rowcount = rows.size();\r\n\r\n            String loadmoreXpath = AppXPathsConstants.buttonXpath_replace.replace(&quot;XXXX&quot;,&quot;Load More&quot;);\r\n        \r\n            if(driver.findElements(By.xpath(loadmoreXpath)).size()!= 0) \r\n            {\r\n                \r\n            WebElement loadmoreElem = DriverUtil.getFluentWaitElementByXPath(loadmoreXpath,20, driver);\r\n        \r\n            do\r\n            {\r\n                PageUtil.scrolltoBottom(driver);\r\n                WebDriverWait wait = new WebDriverWait(driver,60);\r\n                wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[contains(@class,&#39;mat-button-wrapper&#39;) and contains(normalize-space(),&#39;Load More&#39;)]&quot;)));\r\n                loadmoreElem.click();\r\n                DriverUtil.waitTime(6000);\r\n                WebDriverWait w = new WebDriverWait(driver,10);\r\n                 w.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(loadmoreXpath)));\r\n            }\r\n\r\n            while(driver.findElements(By.xpath(&quot;//span[contains(@class,&#39;mat-button-wrapper&#39;) and contains(normalize-space(),&#39;Load More&#39;)]&quot;)).size()&gt;0);\r\n            }\r\n\r\nStackTrace:\r\n  And on running the code i get the below issue:\r\norg.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to no longer be visible: By.xpath: //span[contains(@class,&#39;mat-button-wrapper&#39;) and contains(normalize-space(),&#39;Load More&#39;)] (tried for 10 second(s) with 500 milliseconds interval)","title":"Clicking Load More Leads leads to error stating that element is no longer visible","body":"<p>I have a Search Screen where after I enter the search criteria and search a Load More button will display if there are more than 30 records. The problem is it clicks the Load more button but leads to stale element Exception</p>\n<p>The scenario is I need to click till the Load More button becomes disabled.</p>\n<p>Below is my code any inputs</p>\n<p>List rows = driver.findElements(By.xpath(&quot;//tbody[@role='rowgroup']/tr&quot;));\nint rowcount = rows.size();</p>\n<pre><code>        String loadmoreXpath = AppXPathsConstants.buttonXpath_replace.replace(&quot;XXXX&quot;,&quot;Load More&quot;);\n    \n        if(driver.findElements(By.xpath(loadmoreXpath)).size()!= 0) \n        {\n            \n        WebElement loadmoreElem = DriverUtil.getFluentWaitElementByXPath(loadmoreXpath,20, driver);\n    \n        do\n        {\n            PageUtil.scrolltoBottom(driver);\n            WebDriverWait wait = new WebDriverWait(driver,60);\n            wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[contains(@class,'mat-button-wrapper') and contains(normalize-space(),'Load More')]&quot;)));\n            loadmoreElem.click();\n            DriverUtil.waitTime(6000);\n            WebDriverWait w = new WebDriverWait(driver,10);\n             w.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(loadmoreXpath)));\n        }\n\n        while(driver.findElements(By.xpath(&quot;//span[contains(@class,'mat-button-wrapper') and contains(normalize-space(),'Load More')]&quot;)).size()&gt;0);\n        }\n</code></pre>\n<p>StackTrace:\nAnd on running the code i get the below issue:\norg.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to no longer be visible: By.xpath: //span[contains(@class,'mat-button-wrapper') and contains(normalize-space(),'Load More')] (tried for 10 second(s) with 500 milliseconds interval)</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1632220800,"post_id":69267366,"comment_id":122428160,"body_markdown":"Why is that annoying? Gradle (the gradle daemon) runs on a JVM so it is required. javac cobtains java code and needs another JVM. It is the same thing for other (android) tools that are required.","body":"Why is that annoying? Gradle (the gradle daemon) runs on a JVM so it is required. javac cobtains java code and needs another JVM. It is the same thing for other (android) tools that are required."},{"owner":{"account_id":14993660,"reputation":27,"user_id":10823843,"display_name":"Kennedy"},"score":0,"creation_date":1632319936,"post_id":69267366,"comment_id":122460633,"body_markdown":"it starts multiple instances rather than 2 to 4. I just attached an image representation","body":"it starts multiple instances rather than 2 to 4. I just attached an image representation"}],"answers":[{"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632744836,"creation_date":1632291927,"answer_id":69279193,"question_id":69267366,"body_markdown":"Basically, you cannot do anything about it. It&#39;s just how it&#39;s made and how it works. As mentioned by @dan1st, Gradle daemon runs on first JVM, compilation needs another and so the android tools. However, it&#39;s a different case scenario if more than 4-5 JVMs are running. If that is the issue, try switching off the mobile hotspot in windows, because the gradle server doesn&#39;t accept connection from a daemon while hotspot is running. Add `-Xmx3G` to your gradle.properties also. Post the error log from `%UserProfile%\\.gradle\\daemon\\daemon-version for android-studio\\`.","title":"Android studio spamming multiple openjdk binary plaform process","body":"<p>Basically, you cannot do anything about it. It's just how it's made and how it works. As mentioned by @dan1st, Gradle daemon runs on first JVM, compilation needs another and so the android tools. However, it's a different case scenario if more than 4-5 JVMs are running. If that is the issue, try switching off the mobile hotspot in windows, because the gradle server doesn't accept connection from a daemon while hotspot is running. Add <code>-Xmx3G</code> to your gradle.properties also. Post the error log from <code>%UserProfile%\\.gradle\\daemon\\daemon-version for android-studio\\</code>.</p>\n"},{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632350169,"creation_date":1632350169,"answer_id":69292032,"question_id":69267366,"body_markdown":"You can try setting this properry\r\n\r\n```\r\norg.gradle.workers.max=(max # of worker processes)\r\n```\r\n\r\nas described at https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties\r\n\r\n\r\n","title":"Android studio spamming multiple openjdk binary plaform process","body":"<p>You can try setting this properry</p>\n<pre><code>org.gradle.workers.max=(max # of worker processes)\n</code></pre>\n<p>as described at <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties</a></p>\n"}],"owner":{"account_id":14993660,"reputation":27,"user_id":10823843,"display_name":"Kennedy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632744836,"creation_date":1632220220,"question_id":69267366,"body_markdown":"whenever I run an application of build gradle, android studio opens multiple instances of openjdk binary plaform.\r\n\r\n1) I have turned off hotspot. And went further to turning on airplane mode\r\n\r\n2) I have started android studio as administrator\r\n\r\n3) I have done this:\r\nuse `org.gradle.jvmargs=-Xms512m -Dfile.encoding=UTF-8` in the gradle.properties instead of `org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8`\r\n\r\nThis is really annoying.\r\n\r\nI use:\r\nAndroid studio 4.1.2\r\n\r\n![image showing multiple java.exe instances](https://i.stack.imgur.com/Xrx8o.jpg)\r\n\r\nGradle build:\r\n**\r\nExecuting tasks: [:app:assembleDebug] in project C:\r\n\\Users\\Heavenly\\AndroidStudioProjects\\PhotoGalleryX\r\n\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 63 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 688 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 550 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 639 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 766 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 945 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 986 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 840 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 890 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 58 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 966 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 126 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 379 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 511 ms\r\nStarting Gradle Daemon...\r\n**","title":"Android studio spamming multiple openjdk binary plaform process","body":"<p>whenever I run an application of build gradle, android studio opens multiple instances of openjdk binary plaform.</p>\n<ol>\n<li><p>I have turned off hotspot. And went further to turning on airplane mode</p>\n</li>\n<li><p>I have started android studio as administrator</p>\n</li>\n<li><p>I have done this:\nuse <code>org.gradle.jvmargs=-Xms512m -Dfile.encoding=UTF-8</code> in the gradle.properties instead of <code>org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8</code></p>\n</li>\n</ol>\n<p>This is really annoying.</p>\n<p>I use:\nAndroid studio 4.1.2</p>\n<p><img src=\"https://i.stack.imgur.com/Xrx8o.jpg\" alt=\"image showing multiple java.exe instances\" /></p>\n<p>Gradle build:\n**\nExecuting tasks: [:app:assembleDebug] in project C:\n\\Users\\Heavenly\\AndroidStudioProjects\\PhotoGalleryX</p>\n<p>Starting Gradle Daemon...\nGradle Daemon started in 4 s 63 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 688 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 550 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 639 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 766 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 945 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 986 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 840 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 890 ms\nStarting Gradle Daemon...\nGradle Daemon started in 4 s 58 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 966 ms\nStarting Gradle Daemon...\nGradle Daemon started in 4 s 126 ms\nStarting Gradle Daemon...\nGradle Daemon started in 4 s 379 ms\nStarting Gradle Daemon...\nGradle Daemon started in 4 s 511 ms\nStarting Gradle Daemon...\n**</p>\n"},{"tags":["java","spring","oracle","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632744814,"creation_date":1632744814,"answer_id":69346416,"question_id":69346244,"body_markdown":"The error is about the Oracle JDBC driver version, not about your Oracle version. The Oracle R2DBC driver relies on specific features in the Oracle JDBC driver, and those features are only available in newer driver versions, and then only in the Java 11 (or higher) version of the driver (i.e. ojdbc11, not ojdbc8).\r\n\r\nAccording to https://github.com/oracle/oracle-r2dbc, the latest Oracle R2DBC driver requires the Oracle JDBC 21.3 driver.\r\n\r\nIt also says:\r\n\r\n&gt; The Oracle R2DBC Driver has been verified with Oracle Database\r\n&gt; versions 18, 19, and 21.\r\n\r\nTo be clear, the Oracle JDBC 21.3 driver works fine with Oracle 19c, and so does R2DBC.\r\n\r\nIn short, you need to update your Oracle JDBC driver to:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt;\r\n  &lt;version&gt;21.3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Getting R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19","body":"<p>The error is about the Oracle JDBC driver version, not about your Oracle version. The Oracle R2DBC driver relies on specific features in the Oracle JDBC driver, and those features are only available in newer driver versions, and then only in the Java 11 (or higher) version of the driver (i.e. ojdbc11, not ojdbc8).</p>\n<p>According to <a href=\"https://github.com/oracle/oracle-r2dbc\" rel=\"nofollow noreferrer\">https://github.com/oracle/oracle-r2dbc</a>, the latest Oracle R2DBC driver requires the Oracle JDBC 21.3 driver.</p>\n<p>It also says:</p>\n<blockquote>\n<p>The Oracle R2DBC Driver has been verified with Oracle Database\nversions 18, 19, and 21.</p>\n</blockquote>\n<p>To be clear, the Oracle JDBC 21.3 driver works fine with Oracle 19c, and so does R2DBC.</p>\n<p>In short, you need to update your Oracle JDBC driver to:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n  &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt;\n  &lt;version&gt;21.3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":17759339,"reputation":186,"user_id":12895663,"display_name":"Oten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69346416,"answer_count":1,"score":1,"last_activity_date":1632744814,"creation_date":1632744120,"question_id":69346244,"body_markdown":"I am trying to set up R2DBC for my Spring Boot app which has Oracle 19c as the database and configured with OJDBC8 and Java 11. R2DBC version is 0.1.0. I&#39;m getting following error as the application fails to start. Does rRDBC work with Oracle 19c or does it need to be Oracle 21x?\r\n\r\n```none\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;myr2dbccon&#39;: Unexpected exception during bean creation; nested exception is io.r2dbc.spi.R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:537) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.2.jar!/:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar!/:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar!/:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar!/:2.5.2]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\t\r\nCaused by: io.r2dbc.spi.R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19\r\n\tat oracle.r2dbc.impl.ReactiveJdbcAdapter.getOracleAdapter(ReactiveJdbcAdapter.java:92) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\r\n\tat oracle.r2dbc.impl.OracleConnectionFactoryImpl.&lt;init&gt;(OracleConnectionFactoryImpl.java:120) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\r\n\tat oracle.r2dbc.impl.OracleConnectionFactoryProviderImpl.create(OracleConnectionFactoryProviderImpl.java:93) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\r\n\tat io.r2dbc.spi.ConnectionFactories.find(ConnectionFactories.java:112) ~[r2dbc-spi-0.8.5.RELEASE.jar!/:?]\r\n\tat io.r2dbc.spi.ConnectionFactories.get(ConnectionFactories.java:142) ~[r2dbc-spi-0.8.5.RELEASE.jar!/:?]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1231) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n```","title":"Getting R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19","body":"<p>I am trying to set up R2DBC for my Spring Boot app which has Oracle 19c as the database and configured with OJDBC8 and Java 11. R2DBC version is 0.1.0. I'm getting following error as the application fails to start. Does rRDBC work with Oracle 19c or does it need to be Oracle 21x?</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'myr2dbccon': Unexpected exception during bean creation; nested exception is io.r2dbc.spi.R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:537) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar!/:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar!/:5.3.9]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.2.jar!/:2.5.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar!/:2.5.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar!/:2.5.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar!/:2.5.2]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    \nCaused by: io.r2dbc.spi.R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19\n    at oracle.r2dbc.impl.ReactiveJdbcAdapter.getOracleAdapter(ReactiveJdbcAdapter.java:92) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\n    at oracle.r2dbc.impl.OracleConnectionFactoryImpl.&lt;init&gt;(OracleConnectionFactoryImpl.java:120) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\n    at oracle.r2dbc.impl.OracleConnectionFactoryProviderImpl.create(OracleConnectionFactoryProviderImpl.java:93) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\n    at io.r2dbc.spi.ConnectionFactories.find(ConnectionFactories.java:112) ~[r2dbc-spi-0.8.5.RELEASE.jar!/:?]\n    at io.r2dbc.spi.ConnectionFactories.get(ConnectionFactories.java:142) ~[r2dbc-spi-0.8.5.RELEASE.jar!/:?]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1231) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\n</code></pre>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1632740659,"post_id":69345466,"comment_id":122566315,"body_markdown":"`function.apply(object)`?","body":"<code>function.apply(object)</code>?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1632740961,"post_id":69345466,"comment_id":122566437,"body_markdown":"Why can&#39;t you just get a value from a map?","body":"Why can&#39;t you just get a value from a map?"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1632741516,"post_id":69345466,"comment_id":122566661,"body_markdown":"A `BiFunction` is a function that takes *two* parameters. Since there are no methods that take two parameters in your example, `BiFunction` does not seem to be what you need to use here.","body":"A <code>BiFunction</code> is a function that takes <i>two</i> parameters. Since there are no methods that take two parameters in your example, <code>BiFunction</code> does not seem to be what you need to use here."}],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632741019,"creation_date":1632741019,"answer_id":69345585,"question_id":69345466,"body_markdown":"It is not entirely clear why you need this pattern and what your are trying to achieve by having a retrieval function an example of what you want to achieve might be the following:\r\n\r\n```java\r\npublic class MapReadFunction implements Function&lt;Map&lt;String, String&gt;, String&gt; {\r\n\r\n    private final Supplier&lt;String&gt; keySupplier;\r\n\r\n    public MapReadFunction(Supplier&lt;String&gt; keySupplier) {\r\n\t    this.keySupplier = keySupplier;\r\n    }\r\n\r\n    @Override\r\n    public String apply(Map&lt;String, String&gt; map) {\r\n\t    return map.get(keySupplier.get());\r\n    }\r\n}\r\n```\r\n\r\nYou can enforce the key supplier to be passed through the constructor and then simply use the `apply` method to accept a map and retrieve the value based on the key. An example usage would be:\r\n\r\n```\r\nvar object = new MyObject();\r\nvar someMap = new HashMap&lt;String, String&gt;();\r\nvar value = new MapReadFunction(object::getId).apply(someMap);\r\n```","title":"Java, Use BiFunction for a getter with parm","body":"<p>It is not entirely clear why you need this pattern and what your are trying to achieve by having a retrieval function an example of what you want to achieve might be the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapReadFunction implements Function&lt;Map&lt;String, String&gt;, String&gt; {\n\n    private final Supplier&lt;String&gt; keySupplier;\n\n    public MapReadFunction(Supplier&lt;String&gt; keySupplier) {\n        this.keySupplier = keySupplier;\n    }\n\n    @Override\n    public String apply(Map&lt;String, String&gt; map) {\n        return map.get(keySupplier.get());\n    }\n}\n</code></pre>\n<p>You can enforce the key supplier to be passed through the constructor and then simply use the <code>apply</code> method to accept a map and retrieve the value based on the key. An example usage would be:</p>\n<pre><code>var object = new MyObject();\nvar someMap = new HashMap&lt;String, String&gt;();\nvar value = new MapReadFunction(object::getId).apply(someMap);\n</code></pre>\n"}],"owner":{"account_id":21266053,"reputation":49,"user_id":15646256,"display_name":"hello2244"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632744679,"creation_date":1632740417,"question_id":69345466,"body_markdown":"\r\n\r\nI am trying to invoke the method getValueFromMap which takes in a parm and returns a value. I think I need to use a bifunction for this?\r\nI already have something that can invoke a method with no parm for getId and return a value via a Function. How Can I do this?\r\n\r\n\r\nMyObject\r\n\r\n\r\n\r\n \r\n    public class MyObject{\r\n    private String id;\r\n    private HashMap&lt;String, String&gt; map;\r\n\r\n    public String getId(){\r\n    return id;\r\n    }\r\n    \r\n    public String getValueFromMap(String key){\r\n    return map.get(key)\r\n    }\r\n    \r\n    }\r\n\r\n\r\nMy ReadFunction.java\r\n\r\n\r\n    public interface ReadFunction&lt;R , T&gt; {\r\n    T readValue(R object);\r\n    \r\n    class Impl&lt;R, T&gt;\r\n        implements ReadFunction&lt;R, T&gt; {\r\n    \r\n        private final Function&lt;R, T&gt; function;\r\n    \r\n        public Impl(final Function&lt;R, T&gt; function) {\r\n            this.function = function;\r\n        }\r\n    \r\n        @Override\r\n        public T readValue(final R object) {\r\n            return this.function.apply(object);\r\n        }\r\n    }\r\n\r\n\r\nHow I create an invoke a read function\r\n\r\n\r\n        ReadFunction&lt;MyObject, String&gt; ID_READ_FUNC = new ReadFunction.Impl&lt;&gt;(\r\n        MyObject::getId);\r\n        MyObject object = new MyObject()\r\n        String id = ID_READ_FUNC.readValue(object)\r\n\r\n\r\nHow can I define a create and invoke a read function that accepts a value as a parm? I would like to define the parm as part of the ReadFunction itself instead of supplying it to readValue method in interface\r\n\r\n\r\nI would essentially like to do something like this but instead have the &quot;key&quot; part of the method be defined as part of the constructor\r\n\r\n    ReadFunction&lt;MyObject, String&gt; MAP_VALUE_READ_FNC = new ReadFunction.Impl&lt;&gt;(\r\n            (myObject) -&gt; myObject.getValueFromMap(&quot;key&quot;))\r\n\r\n","title":"Java, Use BiFunction for a getter with parm","body":"<p>I am trying to invoke the method getValueFromMap which takes in a parm and returns a value. I think I need to use a bifunction for this?\nI already have something that can invoke a method with no parm for getId and return a value via a Function. How Can I do this?</p>\n<p>MyObject</p>\n<pre><code>public class MyObject{\nprivate String id;\nprivate HashMap&lt;String, String&gt; map;\n\npublic String getId(){\nreturn id;\n}\n\npublic String getValueFromMap(String key){\nreturn map.get(key)\n}\n\n}\n</code></pre>\n<p>My ReadFunction.java</p>\n<pre><code>public interface ReadFunction&lt;R , T&gt; {\nT readValue(R object);\n\nclass Impl&lt;R, T&gt;\n    implements ReadFunction&lt;R, T&gt; {\n\n    private final Function&lt;R, T&gt; function;\n\n    public Impl(final Function&lt;R, T&gt; function) {\n        this.function = function;\n    }\n\n    @Override\n    public T readValue(final R object) {\n        return this.function.apply(object);\n    }\n}\n</code></pre>\n<p>How I create an invoke a read function</p>\n<pre><code>    ReadFunction&lt;MyObject, String&gt; ID_READ_FUNC = new ReadFunction.Impl&lt;&gt;(\n    MyObject::getId);\n    MyObject object = new MyObject()\n    String id = ID_READ_FUNC.readValue(object)\n</code></pre>\n<p>How can I define a create and invoke a read function that accepts a value as a parm? I would like to define the parm as part of the ReadFunction itself instead of supplying it to readValue method in interface</p>\n<p>I would essentially like to do something like this but instead have the &quot;key&quot; part of the method be defined as part of the constructor</p>\n<pre><code>ReadFunction&lt;MyObject, String&gt; MAP_VALUE_READ_FNC = new ReadFunction.Impl&lt;&gt;(\n        (myObject) -&gt; myObject.getValueFromMap(&quot;key&quot;))\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7999,"page":1993,"page_size":100}
