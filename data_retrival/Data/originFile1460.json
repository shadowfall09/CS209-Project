{"items":[{"tags":["java","reactjs","spring-boot","rest","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649084915,"creation_date":1649084915,"answer_id":71739584,"question_id":71739175,"body_markdown":"&gt; Java can be so frustrating and outdated sometimes, when you end up\r\n&gt; wasting 10 hours getting simple things to work.\r\n\r\nThis can&#39;t be said. It is just that you miss much important info to understand why it is failing.\r\n\r\n**1st)**\r\n\r\n    http.formLogin()\r\n                    .loginPage(&quot;/&quot;)\r\n                    .loginProcessingUrl(&quot;/login&quot;)\r\n                    .defaultSuccessUrl(&quot;/auth-success&quot;)\r\n                    .failureUrl(&quot;/auth-failure&quot;);\r\n\r\nThis is intended to be used with Spring MVC not in scope of Rest Spring Boot application indicated by the use of `@RestController`. Spring login form is intended to deliver an html form and the system uses the MVC pattern to make the authorization. It does not match your needs where, you have another frontend with another framework doing simple ajax calls.\r\n\r\n**2nd)**\r\n\r\nAfter you understand why (1) fails you have to decide which path you can go down to. You can switch to basic authentication or you can try to implement something more complex like JWT authentication token. There are more solutions available if you search enough, but I would say the most common ones are the ones I mention here.\r\n\r\nAdjust your application to use one of those security structures, then update your frontend to make such calls and you should be fine.","title":"Request parameter in Spring Boot is null when submitting JavaScript request but works with normal request","body":"<blockquote>\n<p>Java can be so frustrating and outdated sometimes, when you end up\nwasting 10 hours getting simple things to work.</p>\n</blockquote>\n<p>This can't be said. It is just that you miss much important info to understand why it is failing.</p>\n<p><strong>1st)</strong></p>\n<pre><code>http.formLogin()\n                .loginPage(&quot;/&quot;)\n                .loginProcessingUrl(&quot;/login&quot;)\n                .defaultSuccessUrl(&quot;/auth-success&quot;)\n                .failureUrl(&quot;/auth-failure&quot;);\n</code></pre>\n<p>This is intended to be used with Spring MVC not in scope of Rest Spring Boot application indicated by the use of <code>@RestController</code>. Spring login form is intended to deliver an html form and the system uses the MVC pattern to make the authorization. It does not match your needs where, you have another frontend with another framework doing simple ajax calls.</p>\n<p><strong>2nd)</strong></p>\n<p>After you understand why (1) fails you have to decide which path you can go down to. You can switch to basic authentication or you can try to implement something more complex like JWT authentication token. There are more solutions available if you search enough, but I would say the most common ones are the ones I mention here.</p>\n<p>Adjust your application to use one of those security structures, then update your frontend to make such calls and you should be fine.</p>\n"}],"owner":{"display_name":"user16422658"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2901,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649108445,"creation_date":1649083283,"question_id":71739175,"body_markdown":"I have wasted 10 hours trying to figure out a simple thing.\r\n\r\nI have a React front-end and a Spring Boot back-end running on port 8080.\r\n\r\nI have my own login form at the front-end.\r\n\r\nAll I would like in an ideal world is let Spring Boot do its form validation as usual without that ugly bootstrap form.\r\n\r\nI have setup a basic in memory authentication just to practice and it just doesn&#39;t work\r\n\r\nI have two options:\r\n\r\n1) Try to modify formLogin() method in security class to get it to work (Im trying but failing)\r\n\r\n2) Handle authentication in a Rest endpoint and then set the Security context as a rest endpoint instead of in a filter\r\n\r\n\r\nHere is the code:\r\n\r\nConfiguration file:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private TestFilter testFilter;\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication()\r\n                    .withUser(&quot;mama&quot;)\r\n                    .password(&quot;mama&quot;)\r\n                    .roles(&quot;AUTH&quot;);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            //Request authorization\r\n            http\r\n                    .authorizeRequests()\r\n                    .mvcMatchers(&quot;/api/vault&quot;).hasRole(&quot;AUTH&quot;)\r\n                    .mvcMatchers(&quot;/api/vault/**&quot;).hasRole(&quot;AUTH&quot;)\r\n                    .mvcMatchers(&quot;/**&quot;).permitAll();\r\n    \r\n            //Disable default authentication behaviour:\r\n            //http.httpBasic().disable();\r\n    \r\n           http.formLogin()\r\n                    .loginPage(&quot;/&quot;)\r\n                    .loginProcessingUrl(&quot;/login&quot;)\r\n                    .defaultSuccessUrl(&quot;/auth-success&quot;)\r\n                    .failureUrl(&quot;/auth-failure&quot;);\r\n    \r\n            //CSRF Protection:\r\n            HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\r\n            repository.setHeaderName(&quot;X-CSRF-TOKEN&quot;);\r\n            repository.setParameterName(&quot;_csrf&quot;);\r\n            http.csrf()\r\n                    .csrfTokenRepository(repository);\r\n    \r\n            http.addFilterBefore(testFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder(){\r\n            return NoOpPasswordEncoder.getInstance();\r\n        }\r\n    }\r\n\r\n\r\nDefault Controller:\r\n\r\n    @Controller\r\n    public class App {\r\n    \r\n        /**\r\n         * \r\n         */\r\n        @GetMapping(value = &quot;/{path:[^\\\\.]*}&quot;)\r\n        public String index() {\r\n            return &quot;index&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nSimple Test API:\r\n\r\n    @RestController\r\n    public class TestApi {\r\n    \r\n        @GetMapping(value = &quot;/api/get-csrf&quot;, consumes = {&quot;application/json&quot;})\r\n        public CsrfTestResponse getCsrf(HttpServletRequest request){\r\n    \r\n            TestingLombokWorks testingLombokWorks = new TestingLombokWorks(&quot;Mama&quot;, &quot;Mama is the best!&quot;);\r\n    \r\n            CsrfToken token = new HttpSessionCsrfTokenRepository().loadToken(request);\r\n            CsrfTestResponse testResponse = new CsrfTestResponse();\r\n            testResponse.setCsrfHeaderName(token.getHeaderName());\r\n            testResponse.setCsrfParameterName(token.getParameterName());\r\n            testResponse.setCsrfToken(token.getToken());\r\n            testResponse.setTestingLombokWorks(testingLombokWorks);\r\n            return testResponse;\r\n        }\r\n    \r\n        @GetMapping(&quot;/api/welcome&quot;)\r\n        public String publicResource(){\r\n            return &quot;Welcome API!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/api/login-success&quot;)\r\n        public String loginSuccess() {\r\n            return &quot;Login Successful!&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/api/post-test&quot;)\r\n        public CsrfTestResponse postTest(HttpServletRequest request){\r\n    \r\n            CsrfToken token = new HttpSessionCsrfTokenRepository().loadToken(request);\r\n    \r\n            CsrfTestResponse testResponse = new CsrfTestResponse();\r\n            testResponse.setCsrfHeaderName(token.getHeaderName());\r\n            testResponse.setCsrfParameterName(token.getParameterName());\r\n            testResponse.setCsrfToken(token.getToken());\r\n            return testResponse;\r\n        }\r\n    \r\n        @PostMapping(&quot;/login&quot;)\r\n        public String testLogin(){\r\n            return &quot;Login Works?!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/auth-success&quot;)\r\n        public String authSuccess(){\r\n            return &quot;Auth Success!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/auth-failure&quot;)\r\n        public String authFailure(){\r\n            return &quot;Auth Failure!&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nThe Filter to test:\r\n\r\n    @Component\r\n    public class TestFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            System.out.println(&quot;Username?: &quot; + request.getParameter(&quot;username&quot;));\r\n            System.out.println(&quot;Password?: &quot; + request.getParameter(&quot;password&quot;));\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nReact front-end:\r\n\r\n    import React from &#39;react&#39;\r\n    import { useForm } from &#39;react-hook-form&#39;\r\n    \r\n    export default function Login(props) {\r\n    \r\n        const {register, handleSubmit, formState} = useForm();\r\n    \r\n        return (\r\n            &lt;form onSubmit={handleSubmit((data, event) =&gt; {\r\n    \r\n                    event.preventDefault();\r\n    \r\n                    let formData = new FormData();\r\n                    formData.append(&quot;username&quot;, data.username);\r\n                    formData.append(&quot;password&quot;, data.password);\r\n    \r\n                    let body = new URLSearchParams(formData);\r\n    \r\n                    let str = `username=${data.username}&amp;password=${data.password}`;\r\n    \r\n                    console.log(str);\r\n    \r\n                    fetch(&#39;/login&#39;, {\r\n                        method: &#39;POST&#39;,\r\n                        credentials: &#39;include&#39;,\r\n                        headers: {\r\n                            &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n                            Accept: &#39;*/*&#39;,\r\n                            [props.csrfHeaderName]: props.csrfToken\r\n                        },\r\n                        body: str\r\n                    })\r\n                    .then(response =&gt; response.text())\r\n                    .then(data =&gt; console.log(data))\r\n                    .catch(error =&gt; console.log(error));\r\n                   \r\n                })}\r\n            &gt;\r\n                &lt;legend&gt;Login&lt;/legend&gt;\r\n                &lt;div&gt;\r\n                    &lt;input \r\n                        {\r\n                            ...register(&quot;username&quot;, {\r\n                                value: &quot;&quot;,\r\n                                required: true,\r\n                            })\r\n                        } \r\n                        type=&quot;text&quot;\r\n                        placeholder=&#39;Username: &#39;\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n                &lt;div&gt;\r\n                    &lt;input \r\n                        {\r\n                            ...register(&quot;password&quot;, {\r\n                                value: &quot;&quot;,\r\n                                required: true,\r\n                            })\r\n                        } \r\n                        type=&quot;password&quot;\r\n                        placeholder=&#39;Password: &#39;\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n                &lt;button type=&#39;submit&#39;&gt;Login&lt;/button&gt;\r\n            &lt;/form&gt;\r\n        )\r\n    }\r\n\r\n\r\nI have created a test filter just to test and it is proving my point.\r\nWhen the form is submitted with the normal server side rendered default Spring Boot form, the request works, but when the request is sent with JavaScript it fails.\r\n\r\nWhen I see the logs for the post request for login, I dont see it hitting that endpoint at all, instead it directly goes to /auth-failure:\r\n\r\n    Username?: null\r\n    Password?: null\r\n    Username?: null\r\n    Password?: null\r\n    2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\r\n    2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\r\n    2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\r\n    2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/auth-failure&quot;, parameters={}\r\n    2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\r\n    2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/plain&#39;, given [*/*] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json]\r\n    2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;Auth Failure!&quot;]\r\n    2022-04-04 15:53:45.962 DEBUG 20327 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n\r\nI would like to know what is the best way to do this simple authentication.\r\n\r\nI tried everything imaginable, I tried JSON post body with ObjectMapper, it threw the IOException with no meaningful error message,\r\n\r\nJava can be so frustrating and outdated sometimes, when you end up wasting 10 hours getting simple things to work.\r\n\r\nHere is an example of an article I have read: https://www.baeldung.com/spring-security-login-react\r\n\r\nI can&#39;t understand why Spring Boot cannot get the request parameters from a form if it is submitted via javascript but it can when it is submitted via the browser?\r\nHow does the server know this?\r\nI checked that they were not null on the client.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Request parameter in Spring Boot is null when submitting JavaScript request but works with normal request","body":"<p>I have wasted 10 hours trying to figure out a simple thing.</p>\n<p>I have a React front-end and a Spring Boot back-end running on port 8080.</p>\n<p>I have my own login form at the front-end.</p>\n<p>All I would like in an ideal world is let Spring Boot do its form validation as usual without that ugly bootstrap form.</p>\n<p>I have setup a basic in memory authentication just to practice and it just doesn't work</p>\n<p>I have two options:</p>\n<ol>\n<li><p>Try to modify formLogin() method in security class to get it to work (Im trying but failing)</p>\n</li>\n<li><p>Handle authentication in a Rest endpoint and then set the Security context as a rest endpoint instead of in a filter</p>\n</li>\n</ol>\n<p>Here is the code:</p>\n<p>Configuration file:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private TestFilter testFilter;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(&quot;mama&quot;)\n                .password(&quot;mama&quot;)\n                .roles(&quot;AUTH&quot;);\n    }\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        //Request authorization\n        http\n                .authorizeRequests()\n                .mvcMatchers(&quot;/api/vault&quot;).hasRole(&quot;AUTH&quot;)\n                .mvcMatchers(&quot;/api/vault/**&quot;).hasRole(&quot;AUTH&quot;)\n                .mvcMatchers(&quot;/**&quot;).permitAll();\n\n        //Disable default authentication behaviour:\n        //http.httpBasic().disable();\n\n       http.formLogin()\n                .loginPage(&quot;/&quot;)\n                .loginProcessingUrl(&quot;/login&quot;)\n                .defaultSuccessUrl(&quot;/auth-success&quot;)\n                .failureUrl(&quot;/auth-failure&quot;);\n\n        //CSRF Protection:\n        HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\n        repository.setHeaderName(&quot;X-CSRF-TOKEN&quot;);\n        repository.setParameterName(&quot;_csrf&quot;);\n        http.csrf()\n                .csrfTokenRepository(repository);\n\n        http.addFilterBefore(testFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return NoOpPasswordEncoder.getInstance();\n    }\n}\n</code></pre>\n<p>Default Controller:</p>\n<pre><code>@Controller\npublic class App {\n\n    /**\n     * \n     */\n    @GetMapping(value = &quot;/{path:[^\\\\.]*}&quot;)\n    public String index() {\n        return &quot;index&quot;;\n    }\n\n}\n</code></pre>\n<p>Simple Test API:</p>\n<pre><code>@RestController\npublic class TestApi {\n\n    @GetMapping(value = &quot;/api/get-csrf&quot;, consumes = {&quot;application/json&quot;})\n    public CsrfTestResponse getCsrf(HttpServletRequest request){\n\n        TestingLombokWorks testingLombokWorks = new TestingLombokWorks(&quot;Mama&quot;, &quot;Mama is the best!&quot;);\n\n        CsrfToken token = new HttpSessionCsrfTokenRepository().loadToken(request);\n        CsrfTestResponse testResponse = new CsrfTestResponse();\n        testResponse.setCsrfHeaderName(token.getHeaderName());\n        testResponse.setCsrfParameterName(token.getParameterName());\n        testResponse.setCsrfToken(token.getToken());\n        testResponse.setTestingLombokWorks(testingLombokWorks);\n        return testResponse;\n    }\n\n    @GetMapping(&quot;/api/welcome&quot;)\n    public String publicResource(){\n        return &quot;Welcome API!&quot;;\n    }\n\n    @GetMapping(&quot;/api/login-success&quot;)\n    public String loginSuccess() {\n        return &quot;Login Successful!&quot;;\n    }\n\n    @PostMapping(&quot;/api/post-test&quot;)\n    public CsrfTestResponse postTest(HttpServletRequest request){\n\n        CsrfToken token = new HttpSessionCsrfTokenRepository().loadToken(request);\n\n        CsrfTestResponse testResponse = new CsrfTestResponse();\n        testResponse.setCsrfHeaderName(token.getHeaderName());\n        testResponse.setCsrfParameterName(token.getParameterName());\n        testResponse.setCsrfToken(token.getToken());\n        return testResponse;\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public String testLogin(){\n        return &quot;Login Works?!&quot;;\n    }\n\n    @GetMapping(&quot;/auth-success&quot;)\n    public String authSuccess(){\n        return &quot;Auth Success!&quot;;\n    }\n\n    @GetMapping(&quot;/auth-failure&quot;)\n    public String authFailure(){\n        return &quot;Auth Failure!&quot;;\n    }\n\n}\n</code></pre>\n<p>The Filter to test:</p>\n<pre><code>@Component\npublic class TestFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        System.out.println(&quot;Username?: &quot; + request.getParameter(&quot;username&quot;));\n        System.out.println(&quot;Password?: &quot; + request.getParameter(&quot;password&quot;));\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>React front-end:</p>\n<pre><code>import React from 'react'\nimport { useForm } from 'react-hook-form'\n\nexport default function Login(props) {\n\n    const {register, handleSubmit, formState} = useForm();\n\n    return (\n        &lt;form onSubmit={handleSubmit((data, event) =&gt; {\n\n                event.preventDefault();\n\n                let formData = new FormData();\n                formData.append(&quot;username&quot;, data.username);\n                formData.append(&quot;password&quot;, data.password);\n\n                let body = new URLSearchParams(formData);\n\n                let str = `username=${data.username}&amp;password=${data.password}`;\n\n                console.log(str);\n\n                fetch('/login', {\n                    method: 'POST',\n                    credentials: 'include',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        Accept: '*/*',\n                        [props.csrfHeaderName]: props.csrfToken\n                    },\n                    body: str\n                })\n                .then(response =&gt; response.text())\n                .then(data =&gt; console.log(data))\n                .catch(error =&gt; console.log(error));\n               \n            })}\n        &gt;\n            &lt;legend&gt;Login&lt;/legend&gt;\n            &lt;div&gt;\n                &lt;input \n                    {\n                        ...register(&quot;username&quot;, {\n                            value: &quot;&quot;,\n                            required: true,\n                        })\n                    } \n                    type=&quot;text&quot;\n                    placeholder='Username: '\n                /&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;input \n                    {\n                        ...register(&quot;password&quot;, {\n                            value: &quot;&quot;,\n                            required: true,\n                        })\n                    } \n                    type=&quot;password&quot;\n                    placeholder='Password: '\n                /&gt;\n            &lt;/div&gt;\n            &lt;button type='submit'&gt;Login&lt;/button&gt;\n        &lt;/form&gt;\n    )\n}\n</code></pre>\n<p>I have created a test filter just to test and it is proving my point.\nWhen the form is submitted with the normal server side rendered default Spring Boot form, the request works, but when the request is sent with JavaScript it fails.</p>\n<p>When I see the logs for the post request for login, I dont see it hitting that endpoint at all, instead it directly goes to /auth-failure:</p>\n<pre><code>Username?: null\nPassword?: null\nUsername?: null\nPassword?: null\n2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\n2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\n2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\n2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/auth-failure&quot;, parameters={}\n2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\n2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/plain', given [*/*] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json]\n2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;Auth Failure!&quot;]\n2022-04-04 15:53:45.962 DEBUG 20327 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n</code></pre>\n<p>I would like to know what is the best way to do this simple authentication.</p>\n<p>I tried everything imaginable, I tried JSON post body with ObjectMapper, it threw the IOException with no meaningful error message,</p>\n<p>Java can be so frustrating and outdated sometimes, when you end up wasting 10 hours getting simple things to work.</p>\n<p>Here is an example of an article I have read: <a href=\"https://www.baeldung.com/spring-security-login-react\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-login-react</a></p>\n<p>I can't understand why Spring Boot cannot get the request parameters from a form if it is submitted via javascript but it can when it is submitted via the browser?\nHow does the server know this?\nI checked that they were not null on the client.</p>\n"},{"tags":["java","eclipse","javafx","scenebuilder"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1649090462,"post_id":71737653,"comment_id":126783000,"body_markdown":"Check out [my answer in this other Q&amp;A](https://stackoverflow.com/questions/53237287/module-error-when-running-javafx-media-application/53237667#53237667) (but substitute `javafx.fxml` in place of `javafx.media`).","body":"Check out <a href=\"https://stackoverflow.com/questions/53237287/module-error-when-running-javafx-media-application/53237667#53237667\">my answer in this other Q&amp;A</a> (but substitute <code>javafx.fxml</code> in place of <code>javafx.media</code>)."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649077856,"creation_date":1649077856,"answer_id":71737854,"question_id":71737653,"body_markdown":"\r\nYou can validate that this answer from Github is the solution :\r\n&lt;a href=&quot;https://github.com/javafxports/openjdk-jfx/issues/548#:~:text=Hey%20!%20I%20fixed%20this%20problem%20by%20adding%20the%20configuration%20parameters%20%3A&quot;&gt;IllegalAccessError Java FX&lt;/a&gt;\r\n\r\n\r\nHey ! I fixed this problem by adding the configuration parameters :\r\n\r\n    --module-path &quot;your path\\javafx-sdk-15.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml\r\n\r\n","title":"JAVAFX ERROR (Exception in Application start method java.lang.reflect.InvocationTargetException)","body":"<p>You can validate that this answer from Github is the solution :\n<a href=\"https://github.com/javafxports/openjdk-jfx/issues/548#:~:text=Hey%20!%20I%20fixed%20this%20problem%20by%20adding%20the%20configuration%20parameters%20%3A\" rel=\"nofollow noreferrer\">IllegalAccessError Java FX</a></p>\n<p>Hey ! I fixed this problem by adding the configuration parameters :</p>\n<pre><code>--module-path &quot;your path\\javafx-sdk-15.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml\n</code></pre>\n"}],"owner":{"account_id":23332328,"reputation":1,"user_id":17408548,"display_name":"Adrian Carmona"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649108132,"answer_count":1,"score":0,"last_activity_date":1649108259,"creation_date":1649077091,"question_id":71737653,"body_markdown":"I tried to run my program, and I get this error. It used to work for me, but suddenly it stopped working. I have everything updated, and the fxml makes it an automatic scene builder. I tried to do things that I found out there, but nothing works for me. \r\n\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n    \tat javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n    \tat javafx.graphics@18/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x6908f47e) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x6908f47e\r\n    \tat com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\r\n    \tat javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2135)\r\n    \tat application.Main.start(Main.java:14)\r\n    \r\n    Exception running application application.Main\r\n\r\nThis is my main:\r\n\r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;/view/expendedora.fxml&quot;));\r\n    \t\t\tScene scene = new Scene(root);\r\n    \t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.setTitle(&quot;Maquina Expendedora&quot;);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n\r\nAnd this .fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.image.Image?&gt;\r\n    &lt;?import javafx.scene.image.ImageView?&gt;\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;700.0&quot; style=&quot;-fx-background-color: lightblue;&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.controller.ExpendedoraController&quot;&gt;","title":"JAVAFX ERROR (Exception in Application start method java.lang.reflect.InvocationTargetException)","body":"<p>I tried to run my program, and I get this error. It used to work for me, but suddenly it stopped working. I have everything updated, and the fxml makes it an automatic scene builder. I tried to do things that I found out there, but nothing works for me.</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@18/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x6908f47e) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x6908f47e\n    at com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\n    at javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2135)\n    at application.Main.start(Main.java:14)\n\nException running application application.Main\n</code></pre>\n<p>This is my main:</p>\n<pre><code>public class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/view/expendedora.fxml&quot;));\n            Scene scene = new Scene(root);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.setTitle(&quot;Maquina Expendedora&quot;);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n}\n</code></pre>\n<p>And this .fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;700.0&quot; style=&quot;-fx-background-color: lightblue;&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.controller.ExpendedoraController&quot;&gt;\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":404900,"reputation":924,"user_id":773480,"accept_rate":80,"display_name":"tobi.g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649108126,"creation_date":1649108126,"answer_id":71743983,"question_id":71743818,"body_markdown":"Just call the getAdapterPosition() on your holder instead of the position and the lint should go away. Documentation states: \r\n\r\n&gt; RecyclerView will not call this method again if the position of the\r\n&gt; item changes in the data set unless the item itself is invalidated or\r\n&gt; the new position cannot be determined. For this reason, you should\r\n&gt; only use the position parameter while acquiring the related data item\r\n&gt; inside this method and should not keep a copy of it. If you need the\r\n&gt; position of an item later on (e.g. in a click listener), use\r\n&gt; getAdapterPosition() which will have the updated adapter position.\r\n\r\nHave a look here:\r\nhttps://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder%28VH,%20int%29","title":"call get Adapter Position error in Android Studio","body":"<p>Just call the getAdapterPosition() on your holder instead of the position and the lint should go away. Documentation states:</p>\n<blockquote>\n<p>RecyclerView will not call this method again if the position of the\nitem changes in the data set unless the item itself is invalidated or\nthe new position cannot be determined. For this reason, you should\nonly use the position parameter while acquiring the related data item\ninside this method and should not keep a copy of it. If you need the\nposition of an item later on (e.g. in a click listener), use\ngetAdapterPosition() which will have the updated adapter position.</p>\n</blockquote>\n<p>Have a look here:\n<a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder%28VH,%20int%29\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder%28VH,%20int%29</a></p>\n"}],"owner":{"account_id":23134501,"reputation":1,"user_id":17238912,"display_name":"Levi Ackerman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649108126,"creation_date":1649107083,"question_id":71743818,"body_markdown":"[enter image description here][1]so, when I write position on  43rd line, int position on 40th line should change into final int position, but it doesn&#39;t. so I think I have to use getAdapterPosition() instead, inside bind view holder method. but I don&#39;t know how? can anyone help me? thanks in advance!\r\n\r\nI tried to change int position into final int position manually let&#39;s say by myself tho didn&#39;t work.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MQofG.png","title":"call get Adapter Position error in Android Studio","body":"<p><a href=\"https://i.stack.imgur.com/MQofG.png\" rel=\"nofollow noreferrer\">enter image description here</a>so, when I write position on  43rd line, int position on 40th line should change into final int position, but it doesn't. so I think I have to use getAdapterPosition() instead, inside bind view holder method. but I don't know how? can anyone help me? thanks in advance!</p>\n<p>I tried to change int position into final int position manually let's say by myself tho didn't work.</p>\n"},{"tags":["java","image-processing","ffmpeg","blender","openexr"],"comments":[{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1649108410,"post_id":71725213,"comment_id":126788335,"body_markdown":"Are you sure linearizeDepth is big endian? Are you sure the 3 color channels are written to the buffer as 3 planes one after the other sequentially (green plane width * height * 4 bytes, then blue plane width * height * 4 bytes then red plane width * height * 4 bytes)? What viewer are you using for displaying the exr image?","body":"Are you sure linearizeDepth is big endian? Are you sure the 3 color channels are written to the buffer as 3 planes one after the other sequentially (green plane width * height * 4 bytes, then blue plane width * height * 4 bytes then red plane width * height * 4 bytes)? What viewer are you using for displaying the exr image?"},{"owner":{"account_id":14974757,"reputation":300,"user_id":10810503,"display_name":"Chryfi"},"score":0,"creation_date":1649146611,"post_id":71725213,"comment_id":126795603,"body_markdown":"Yes, I was about to write that, I managed to fix it yesterday in the evening and hadn&#39;t had the time to write it here. I found out openEXR saves the R G B channels as separate &quot;images&quot; so to say... I found it through tests, but couldn&#39;t find it well explained in the file specs of openEXR","body":"Yes, I was about to write that, I managed to fix it yesterday in the evening and hadn&#39;t had the time to write it here. I found out openEXR saves the R G B channels as separate &quot;images&quot; so to say... I found it through tests, but couldn&#39;t find it well explained in the file specs of openEXR"}],"answers":[{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649107467,"creation_date":1649023906,"answer_id":71730237,"question_id":71725213,"body_markdown":"The issue is the color conversion from `grayf32be` to `gbrpf32le`.  \r\n\r\nAssuming source pixel range is [0, 1] we may add format conversion filter: `-vf format=rgb48le` before converting the pixel format to `gbrpf32le`.  \r\n\r\nIt also looks like FFmpeg ignores the range arguments, the fix is adding scale filter: `scale=in_range=full:out_range=full`.  \r\n\r\nUpdated command:  \r\n\r\n    ffmpeg -y -f rawvideo -pix_fmt grayf32be -src_range 1 -s 192x108 -i in.raw -vf &quot;scale=in_range=full:out_range=full,format=rgb48le&quot; -vcodec exr -compression zip1 -pix_fmt gbrpf32le -dst_range 1 out.exr\r\n\r\n---\r\n\r\nReproducible example:  \r\n\r\n - Create 16 bits Tiff image (used as reference):  \r\n\r\n        ffmpeg -y -f lavfi -i testsrc=size=192x108:rate=1:duration=1 -pix_fmt gray16le in.tif\r\n\r\n - Convert the Tiff to float (big endian):  \r\n\r\n        ffmpeg -y -src_range 1 -i in.tif -pix_fmt grayf32be -dst_range 1 -f rawvideo in.raw\r\n\r\n - Convert from raw to OpenEXR format:  \r\n\r\n        ffmpeg -y -f rawvideo -pix_fmt grayf32be -src_range 1 -s 192x108 -i in.raw -vf &quot;scale=in_range=full:out_range=full,format=rgb48le&quot; -vcodec exr -compression zip1 -pix_fmt gbrpf32le -dst_range 1 out.exr\r\n\r\n---\r\n\r\nPython code for comparing the differences:  \r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    img1 = cv2.imread(&#39;in.tif&#39;, cv2.IMREAD_UNCHANGED)\r\n    img2 = cv2.imread(&#39;out.exr&#39;, cv2.IMREAD_UNCHANGED)\r\n    \r\n    green_ch = img2[:, :, 1]  # Green channel\r\n    \r\n    max_abs_diff = np.max(np.abs(green_ch*65535 - img1.astype(float)))\r\n\r\nThe maximum difference is `3` (out of 65535 levels).  \r\nWe may have to play a bit with the filters arguments...\r\n\r\n---\r\n\r\nSince there are issues with FFmpeg color conversion and range conversion (so it seems), there is a change that you are not going to get the desired results until the issues are fixed.\r\n\r\n---\r\n\r\nUpdate:  \r\n---\r\n\r\nLooks like it&#39;s working when the pixel format of the input is `grayf32be` (three color channels planar format).  \r\n\r\nTesting:  \r\n\r\n - Create 16 bits Tiff image (used as reference):  \r\n\r\n        ffmpeg -y -f lavfi -i testsrc=size=192x108:rate=1:duration=1 -pix_fmt gray16le in.tif\r\n\r\n - Convert the Tiff to float (big endian):  \r\n\r\n        ffmpeg -y -src_range 1 -i in.tif -pix_fmt grayf32be -dst_range 1 -f rawvideo in.raw\r\n\r\n - Duplicate the &quot;Grayscale plane&quot; three times for getting 3 identical color planes (using &quot;concat protocol&quot; for avoiding any color conversion issues):  \r\n\r\n        ffmpeg -y -f rawvideo -pix_fmt grayf32be -s 192x108 -i &quot;concat:in.raw|in.raw|in.raw&quot; -f rawvideo in3.raw\r\n\r\n - Convert from 3 color channels raw to OpenEXR format:  \r\n\r\n        ffmpeg -y -f rawvideo -pix_fmt gbrpf32be -s 192x108 -i in3.raw -vcodec exr -compression zip1 -pix_fmt gbrpf32le out.exr\r\n\r\n---\r\n\r\nPython code for comparing the differences (compare 3 color channels):  \r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    img1 = cv2.imread(&#39;in.tif&#39;, cv2.IMREAD_UNCHANGED)\r\n    img2 = cv2.imread(&#39;out.exr&#39;, cv2.IMREAD_UNCHANGED)\r\n    \r\n    blue_ch = img2[:, :, 0]  # Blue channel\r\n    green_ch = img2[:, :, 1]  # Green channel\r\n    red_ch = img2[:, :, 2]  # Red channel\r\n    \r\n    max_red_abs_diff = np.max(np.abs(red_ch*65535 - img1.astype(float)))\r\n    max_green_abs_diff = np.max(np.abs(green_ch*65535 - img1.astype(float)))\r\n    max_blue_abs_diff = np.max(np.abs(blue_ch*65535 - img1.astype(float)))\r\n\r\nThe maximum difference is `0.001953125` (negligible).  \r\n\r\n\r\n","title":"FFmpeg cant recognize 3 channels with each 32 bit","body":"<p>The issue is the color conversion from <code>grayf32be</code> to <code>gbrpf32le</code>.</p>\n<p>Assuming source pixel range is [0, 1] we may add format conversion filter: <code>-vf format=rgb48le</code> before converting the pixel format to <code>gbrpf32le</code>.</p>\n<p>It also looks like FFmpeg ignores the range arguments, the fix is adding scale filter: <code>scale=in_range=full:out_range=full</code>.</p>\n<p>Updated command:</p>\n<pre><code>ffmpeg -y -f rawvideo -pix_fmt grayf32be -src_range 1 -s 192x108 -i in.raw -vf &quot;scale=in_range=full:out_range=full,format=rgb48le&quot; -vcodec exr -compression zip1 -pix_fmt gbrpf32le -dst_range 1 out.exr\n</code></pre>\n<hr />\n<p>Reproducible example:</p>\n<ul>\n<li><p>Create 16 bits Tiff image (used as reference):</p>\n<pre><code> ffmpeg -y -f lavfi -i testsrc=size=192x108:rate=1:duration=1 -pix_fmt gray16le in.tif\n</code></pre>\n</li>\n<li><p>Convert the Tiff to float (big endian):</p>\n<pre><code> ffmpeg -y -src_range 1 -i in.tif -pix_fmt grayf32be -dst_range 1 -f rawvideo in.raw\n</code></pre>\n</li>\n<li><p>Convert from raw to OpenEXR format:</p>\n<pre><code> ffmpeg -y -f rawvideo -pix_fmt grayf32be -src_range 1 -s 192x108 -i in.raw -vf &quot;scale=in_range=full:out_range=full,format=rgb48le&quot; -vcodec exr -compression zip1 -pix_fmt gbrpf32le -dst_range 1 out.exr\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Python code for comparing the differences:</p>\n<pre class=\"lang-python prettyprint-override\"><code>img1 = cv2.imread('in.tif', cv2.IMREAD_UNCHANGED)\nimg2 = cv2.imread('out.exr', cv2.IMREAD_UNCHANGED)\n\ngreen_ch = img2[:, :, 1]  # Green channel\n\nmax_abs_diff = np.max(np.abs(green_ch*65535 - img1.astype(float)))\n</code></pre>\n<p>The maximum difference is <code>3</code> (out of 65535 levels).<br />\nWe may have to play a bit with the filters arguments...</p>\n<hr />\n<p>Since there are issues with FFmpeg color conversion and range conversion (so it seems), there is a change that you are not going to get the desired results until the issues are fixed.</p>\n<hr />\n<h2>Update:</h2>\n<p>Looks like it's working when the pixel format of the input is <code>grayf32be</code> (three color channels planar format).</p>\n<p>Testing:</p>\n<ul>\n<li><p>Create 16 bits Tiff image (used as reference):</p>\n<pre><code> ffmpeg -y -f lavfi -i testsrc=size=192x108:rate=1:duration=1 -pix_fmt gray16le in.tif\n</code></pre>\n</li>\n<li><p>Convert the Tiff to float (big endian):</p>\n<pre><code> ffmpeg -y -src_range 1 -i in.tif -pix_fmt grayf32be -dst_range 1 -f rawvideo in.raw\n</code></pre>\n</li>\n<li><p>Duplicate the &quot;Grayscale plane&quot; three times for getting 3 identical color planes (using &quot;concat protocol&quot; for avoiding any color conversion issues):</p>\n<pre><code> ffmpeg -y -f rawvideo -pix_fmt grayf32be -s 192x108 -i &quot;concat:in.raw|in.raw|in.raw&quot; -f rawvideo in3.raw\n</code></pre>\n</li>\n<li><p>Convert from 3 color channels raw to OpenEXR format:</p>\n<pre><code> ffmpeg -y -f rawvideo -pix_fmt gbrpf32be -s 192x108 -i in3.raw -vcodec exr -compression zip1 -pix_fmt gbrpf32le out.exr\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Python code for comparing the differences (compare 3 color channels):</p>\n<pre class=\"lang-python prettyprint-override\"><code>img1 = cv2.imread('in.tif', cv2.IMREAD_UNCHANGED)\nimg2 = cv2.imread('out.exr', cv2.IMREAD_UNCHANGED)\n\nblue_ch = img2[:, :, 0]  # Blue channel\ngreen_ch = img2[:, :, 1]  # Green channel\nred_ch = img2[:, :, 2]  # Red channel\n\nmax_red_abs_diff = np.max(np.abs(red_ch*65535 - img1.astype(float)))\nmax_green_abs_diff = np.max(np.abs(green_ch*65535 - img1.astype(float)))\nmax_blue_abs_diff = np.max(np.abs(blue_ch*65535 - img1.astype(float)))\n</code></pre>\n<p>The maximum difference is <code>0.001953125</code> (negligible).</p>\n"}],"owner":{"account_id":14974757,"reputation":300,"user_id":10810503,"display_name":"Chryfi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71730237,"answer_count":1,"score":3,"last_activity_date":1649107467,"creation_date":1648983217,"question_id":71725213,"body_markdown":"I am writing the linearized depth buffer of a game to openEXR using FFmpeg. Unfortunately, FFmpeg does not adhere to the openEXR file specification fully (like allowing unsigned integer for one channel) so I am writing one float channel to openEXR, which is put into the green channel with this command `-f rawvideo -pix_fmt grayf32be -s %WIDTH%x%HEIGHT% -r %FPS% -i - -vf %DEFVF% -preset ultrafast -tune zerolatency -qp 6 -compression zip1 -pix_fmt gbrpf32le %NAME%_depth_%d.exr`.\r\n\r\nThe float range is from 0F to 1F and it is linear. I can confirm that the calculation and linearization is correct by testing 16 bit integer (per pixel component) PNG in Blender compositor. The 16 bit integer data is written like this `short s = (short) (linearzieDepth(depth) * (Math.pow(2,16) - 1))` whereas for float the linearized value is directly written to OpenEXR without multiplying with a value. \r\n\r\nHowever, when viewing the openEXR file it doesn&#39;t have the same &quot;gradient&quot; as the 16 bit png... when viewing them side by side, it appears as if the values near 0 are not linear, and they are not as dark as they should be like in the 16 bit png.\r\n(And yes, I set the image node to linear), and comparing it with 3d tracking data from the game I cant reproduce the depth and cant mask things using the depth buffer where as with the png I can.\r\n\r\nHow is it possible for a linear float range to turn out so different to a linear integer range in an image?\r\n\r\n\r\n\r\nUPDATE:\r\n\r\nI now write 3 channels to the ffmpeg with this code \r\n\r\n    float f2 = this.linearizeDepth(depth);\r\n    \r\n    buffer.putFloat(f2);\r\n    buffer.putFloat(0);\r\n    buffer.putFloat(0);\r\n\r\nthe byte buffer is of the size `width * height * 3 * 4` -&gt; 3 channels with each 4 bytes. The command is now `-f rawvideo -pix_fmt gbrpf32be -s %WIDTH%x%HEIGHT% -r %FPS% -i - -vf %DEFVF% -preset ultrafast -tune zerolatency -qp 6 -compression zip1 -pix_fmt gbrpf32le %NAME%_depth_%d.exr` which should mean that the input (byte buffer) is expecting 32 bit floats with 3 channels. [![This is how it turns out][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8RtrB.png\r\n\r\nFFmpeg is somehow splitting up channels or whatever... could be a bug, could be my fault?","title":"FFmpeg cant recognize 3 channels with each 32 bit","body":"<p>I am writing the linearized depth buffer of a game to openEXR using FFmpeg. Unfortunately, FFmpeg does not adhere to the openEXR file specification fully (like allowing unsigned integer for one channel) so I am writing one float channel to openEXR, which is put into the green channel with this command <code>-f rawvideo -pix_fmt grayf32be -s %WIDTH%x%HEIGHT% -r %FPS% -i - -vf %DEFVF% -preset ultrafast -tune zerolatency -qp 6 -compression zip1 -pix_fmt gbrpf32le %NAME%_depth_%d.exr</code>.</p>\n<p>The float range is from 0F to 1F and it is linear. I can confirm that the calculation and linearization is correct by testing 16 bit integer (per pixel component) PNG in Blender compositor. The 16 bit integer data is written like this <code>short s = (short) (linearzieDepth(depth) * (Math.pow(2,16) - 1))</code> whereas for float the linearized value is directly written to OpenEXR without multiplying with a value.</p>\n<p>However, when viewing the openEXR file it doesn't have the same &quot;gradient&quot; as the 16 bit png... when viewing them side by side, it appears as if the values near 0 are not linear, and they are not as dark as they should be like in the 16 bit png.\n(And yes, I set the image node to linear), and comparing it with 3d tracking data from the game I cant reproduce the depth and cant mask things using the depth buffer where as with the png I can.</p>\n<p>How is it possible for a linear float range to turn out so different to a linear integer range in an image?</p>\n<p>UPDATE:</p>\n<p>I now write 3 channels to the ffmpeg with this code</p>\n<pre><code>float f2 = this.linearizeDepth(depth);\n\nbuffer.putFloat(f2);\nbuffer.putFloat(0);\nbuffer.putFloat(0);\n</code></pre>\n<p>the byte buffer is of the size <code>width * height * 3 * 4</code> -&gt; 3 channels with each 4 bytes. The command is now <code>-f rawvideo -pix_fmt gbrpf32be -s %WIDTH%x%HEIGHT% -r %FPS% -i - -vf %DEFVF% -preset ultrafast -tune zerolatency -qp 6 -compression zip1 -pix_fmt gbrpf32le %NAME%_depth_%d.exr</code> which should mean that the input (byte buffer) is expecting 32 bit floats with 3 channels. <a href=\"https://i.stack.imgur.com/8RtrB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8RtrB.png\" alt=\"This is how it turns out\" /></a></p>\n<p>FFmpeg is somehow splitting up channels or whatever... could be a bug, could be my fault?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1474555820,"post_id":39642156,"comment_id":66587955,"body_markdown":"There are tests that rely on its [use on a top-level class](https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot-test-autoconfigure/src/test/java/org/springframework/boot/test/autoconfigure/ExampleTestConfig.java) so it should work. Can you share an example of it not working?","body":"There are tests that rely on its <a href=\"https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot-test-autoconfigure/src/test/java/org/springframework/boot/test/autoconfigure/ExampleTestConfig.java\" rel=\"nofollow noreferrer\">use on a top-level class</a> so it should work. Can you share an example of it not working?"}],"answers":[{"tags":[],"owner":{"account_id":2491695,"reputation":1124,"user_id":2169012,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474556484,"creation_date":1474556484,"answer_id":39642555,"question_id":39642156,"body_markdown":"whenever we have used `&lt;context:component-scan base-package=&quot;some.package&quot; /&gt;` or `@ComponentScan` . it scans all . for that to prevent Spring Boot provides `@TestComponent` so that they should not be picked up by scanning.","title":"What is the purpose of @TestConfiguration on a top-level class?","body":"<p>whenever we have used <code>&lt;context:component-scan base-package=\"some.package\" /&gt;</code> or <code>@ComponentScan</code> . it scans all . for that to prevent Spring Boot provides <code>@TestComponent</code> so that they should not be picked up by scanning.</p>\n"},{"tags":[],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1649106947,"creation_date":1539151589,"answer_id":52733607,"question_id":39642156,"body_markdown":"Since I&#39;ve asked this question, the wording in the documentation has been clarified and explains the behaviour much better now.\r\n\r\nPer [the new documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.excluding-configuration):\r\n\r\n&gt; When placed on a top-level class, `@TestConfiguration` indicates that classes in `src/test/java` should not be picked up by scanning. You can then import that class explicitly where it is required, as shown in the following example:\r\n&gt; \r\n&gt; ```lang-java\r\n&gt; @SpringBootTest\r\n&gt; @Import(MyTestsConfiguration.class)\r\n&gt; class MyTests {\r\n&gt; \r\n&gt;     @Test\r\n&gt;     void exampleTest() {\r\n&gt;         // ...\r\n&gt;     }\r\n&gt; \r\n&gt; }\r\n&gt; ```","title":"What is the purpose of @TestConfiguration on a top-level class?","body":"<p>Since I've asked this question, the wording in the documentation has been clarified and explains the behaviour much better now.</p>\n<p>Per <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.excluding-configuration\" rel=\"nofollow noreferrer\">the new documentation</a>:</p>\n<blockquote>\n<p>When placed on a top-level class, <code>@TestConfiguration</code> indicates that classes in <code>src/test/java</code> should not be picked up by scanning. You can then import that class explicitly where it is required, as shown in the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@Import(MyTestsConfiguration.class)\nclass MyTests {\n\n    @Test\n    void exampleTest() {\n        // ...\n    }\n\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7098,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":52733607,"answer_count":2,"score":9,"last_activity_date":1649106947,"creation_date":1474555321,"question_id":39642156,"body_markdown":"Spring Boot 1.4 has brought [many good improvements][boot] for testing.\r\n\r\nI am unclear of the purpose of [`@TestConfiguration`][javadoc]. It doesn&#39;t seem to work as expected.\r\n\r\nI thought that if I use `@TestConfiguration` on a top-level class under `/src/test/java` that it gets picked up by a `@SpringBootTest` test ([see here][bootdoc]). But this seems not to be the case. If I instead use `@Configuration` then it gets correctly picked up.\r\n\r\nDid I misunderstand? Is the manual wrong? Is there a bug in the Spring Boot code?\r\n\r\n  [boot]: https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4\r\n  [javadoc]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/TestConfiguration.html\r\n  [bootdoc]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-excluding-config","title":"What is the purpose of @TestConfiguration on a top-level class?","body":"<p>Spring Boot 1.4 has brought <a href=\"https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4\" rel=\"noreferrer\">many good improvements</a> for testing.</p>\n\n<p>I am unclear of the purpose of <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/TestConfiguration.html\" rel=\"noreferrer\"><code>@TestConfiguration</code></a>. It doesn't seem to work as expected.</p>\n\n<p>I thought that if I use <code>@TestConfiguration</code> on a top-level class under <code>/src/test/java</code> that it gets picked up by a <code>@SpringBootTest</code> test (<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-excluding-config\" rel=\"noreferrer\">see here</a>). But this seems not to be the case. If I instead use <code>@Configuration</code> then it gets correctly picked up.</p>\n\n<p>Did I misunderstand? Is the manual wrong? Is there a bug in the Spring Boot code?</p>\n"},{"tags":["java","try-catch","user-input"],"answers":[{"tags":[],"owner":{"account_id":24813987,"reputation":1,"user_id":18695044,"display_name":"xfn14"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649020492,"creation_date":1649020492,"answer_id":71729904,"question_id":71729412,"body_markdown":"First you are using a `userInput.nextLine();` without putting it&#39;s value into a variable, and then you do the same thing inside your while-loop.\r\nMaybe removing them should do the job.\r\nAlso on your `catch` statement what you should be using is `userInput.next();` not `userInput.nextLine();`","title":"try catch/user input for Java","body":"<p>First you are using a <code>userInput.nextLine();</code> without putting it's value into a variable, and then you do the same thing inside your while-loop.\nMaybe removing them should do the job.\nAlso on your <code>catch</code> statement what you should be using is <code>userInput.next();</code> not <code>userInput.nextLine();</code></p>\n"}],"owner":{"account_id":21310208,"reputation":1,"user_id":15684717,"display_name":"Fidel Castro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1649106470,"creation_date":1649015930,"question_id":71729412,"body_markdown":"What I&#39;m trying to do is create a loop that prints out a schedule then another loop that will go week to week in that schedule. What my issue is, is that when I try to put in the prompt of &quot;Start&quot;, the code doesn&#39;t continue after I hit enter the first time and when it does it just goes back to the first loop.\r\n\r\nHere&#39;s my code. Tell me if I need to show more\r\n\r\n    public class WorkoutDriver {\r\n        public static void main(String[] args) {\r\n            boolean run = true;\r\n            boolean startRun = true;\r\n            System.out.println(&quot;************************************************&quot; +\r\n                    &quot;\\n*** Welcome to your customized workout plan! ***&quot; +\r\n                    &quot;\\n************************************************&quot;);\r\n\r\n\r\n            Scanner userInput = new Scanner(System.in);\r\n            int userNum;\r\n            String userStart;\r\n            while(run){\r\n                try{\r\n                    System.out.println(&quot;How many weeks would you like to schedule?&quot;);\r\n                    userNum = userInput.nextInt();\r\n\r\n                    WorkoutPlan plan = new WorkoutPlan(userNum);\r\n                    if(userNum &gt; 0){\r\n                        userInput.nextLine();\r\n                        plan.fillList();\r\n                        System.out.println(&quot;Great lets look at your &quot; + userNum + &quot; week schedule!\\n&quot;);\r\n                        System.out.println(plan);\r\n\r\n\r\n                        //loops to have user go through each week\r\n                        int weekCount = 1;\r\n                        System.out.println(&quot;Time to start working out!&quot;);\r\n                        while(weekCount &lt;= userNum) {\r\n                            System.out.println(&quot;Type \\&quot;Start\\&quot; to complete one week of workouts:&quot;);\r\n                            userStart = userInput.nextLine();\r\n                            if (userStart.equalsIgnoreCase(&quot;start&quot;)) {\r\n                                userInput.nextLine();\r\n                                plan.workoutNextWeek(userNum - 1);\r\n                                plan.printProgress();\r\n                            } else {\r\n                                System.out.println(&quot;Don&#39;t worry you got this!&quot;);\r\n                            }\r\n                            weekCount++;\r\n\r\n                        }\r\n\r\n\r\n\r\n\r\n                    }else{\r\n                        System.out.println(&quot;Please enter a number higher than 0&quot;);\r\n                        System.out.println();\r\n                    }\r\n\r\n\r\n                }catch (ArrayIndexOutOfBoundsException e){\r\n                System.out.println(&quot;Please try again, enter a valid integer&quot;);\r\n                userInput.nextLine();\r\n                }catch (Exception e){\r\n                System.out.println(&quot;Please try again, enter a valid integer&quot;);\r\n                userInput.nextLine();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"try catch/user input for Java","body":"<p>What I'm trying to do is create a loop that prints out a schedule then another loop that will go week to week in that schedule. What my issue is, is that when I try to put in the prompt of &quot;Start&quot;, the code doesn't continue after I hit enter the first time and when it does it just goes back to the first loop.</p>\n<p>Here's my code. Tell me if I need to show more</p>\n<pre><code>public class WorkoutDriver {\n    public static void main(String[] args) {\n        boolean run = true;\n        boolean startRun = true;\n        System.out.println(&quot;************************************************&quot; +\n                &quot;\\n*** Welcome to your customized workout plan! ***&quot; +\n                &quot;\\n************************************************&quot;);\n\n\n        Scanner userInput = new Scanner(System.in);\n        int userNum;\n        String userStart;\n        while(run){\n            try{\n                System.out.println(&quot;How many weeks would you like to schedule?&quot;);\n                userNum = userInput.nextInt();\n\n                WorkoutPlan plan = new WorkoutPlan(userNum);\n                if(userNum &gt; 0){\n                    userInput.nextLine();\n                    plan.fillList();\n                    System.out.println(&quot;Great lets look at your &quot; + userNum + &quot; week schedule!\\n&quot;);\n                    System.out.println(plan);\n\n\n                    //loops to have user go through each week\n                    int weekCount = 1;\n                    System.out.println(&quot;Time to start working out!&quot;);\n                    while(weekCount &lt;= userNum) {\n                        System.out.println(&quot;Type \\&quot;Start\\&quot; to complete one week of workouts:&quot;);\n                        userStart = userInput.nextLine();\n                        if (userStart.equalsIgnoreCase(&quot;start&quot;)) {\n                            userInput.nextLine();\n                            plan.workoutNextWeek(userNum - 1);\n                            plan.printProgress();\n                        } else {\n                            System.out.println(&quot;Don't worry you got this!&quot;);\n                        }\n                        weekCount++;\n\n                    }\n\n\n\n\n                }else{\n                    System.out.println(&quot;Please enter a number higher than 0&quot;);\n                    System.out.println();\n                }\n\n\n            }catch (ArrayIndexOutOfBoundsException e){\n            System.out.println(&quot;Please try again, enter a valid integer&quot;);\n            userInput.nextLine();\n            }catch (Exception e){\n            System.out.println(&quot;Please try again, enter a valid integer&quot;);\n            userInput.nextLine();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","angularjs","selenium","file-upload"],"answers":[{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"v"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649106329,"creation_date":1649106329,"answer_id":71743717,"question_id":71743619,"body_markdown":"The `&lt;input&gt;` needs to have the attribute `type=&quot;file&quot;` for the sendKeys method to work. Your test may need to add the attribute via JavaScript beforehand.\r\n\r\n    js.executeScript(&quot;arguments[0].setAttribute(&#39;type&#39;, &#39;file&#39;)&quot;, input);\r\n\r\n(Untested code)","title":"File upload with Selenium Send Keys causes Mime Type Error for AngularJS file upload","body":"<p>The <code>&lt;input&gt;</code> needs to have the attribute <code>type=&quot;file&quot;</code> for the sendKeys method to work. Your test may need to add the attribute via JavaScript beforehand.</p>\n<pre><code>js.executeScript(&quot;arguments[0].setAttribute('type', 'file')&quot;, input);\n</code></pre>\n<p>(Untested code)</p>\n"}],"owner":{"account_id":20044895,"reputation":416,"user_id":14694812,"display_name":"Benjamin Peinhardt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649106329,"creation_date":1649105662,"question_id":71743619,"body_markdown":"I am writing smoke and regression tests in Selenium (Java) for one of my company&#39;s software platforms, which has an AngularJS front end. I need to  perform a file upload as part of a much longer test, but I&#39;m running into some problems.\r\nThe button to upload the file clicks on a hidden input, which launches the file explorer. These tests run in headless mode on bitbucket pipelines, so I need to work around this by using sendKeys on the hidden input element instead. \r\n\r\nThis is the relevant HTML\r\n```\r\n\r\n&lt;!--Action Button--&gt;\r\n&lt;span class=&quot;pull-right&quot;&gt;\r\n\t&lt;form name=&quot;23&quot; ng-submit=&quot;progressCtrl.action()&quot; disable-on-submit=&quot;1000&quot; novalidate=&quot;&quot; class=&quot;ng-pristine ng-valid&quot;&gt;\r\n\t\t&lt;!-- ngIf: progressCtrl.enableAction() &amp;&amp; !item.completed_at --&gt;\r\n\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-progress ng-binding ng-scope&quot; ng-if=&quot;progressCtrl.enableAction() &amp;amp;&amp;amp; !item.completed_at&quot;&gt;\r\n\t\t\t&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt; \r\n\t\t\tComplete\r\n\t\t&lt;/button&gt;\r\n\t\t&lt;!-- end ngIf: progressCtrl.enableAction() &amp;&amp; !item.completed_at --&gt;\r\n                \r\n\t\t&lt;!-- ngIf: progressCtrl.enableAction() &amp;&amp; item.completed_at --&gt;\r\n        &lt;/form&gt;\r\n&lt;/span&gt;\r\n\r\n&lt;!--Hidden Upload Input--&gt;\r\n&lt;!-- ngIf: progressCtrl.enableUpload --&gt;\r\n&lt;input id=&quot;upload-postal-file&quot; ng-if=&quot;progressCtrl.enableUpload&quot; class=&quot;hidden-input ng-pristine ng-untouched ng-valid ng-scope&quot; ngf-select=&quot;&quot; ng-change=&quot;progressCtrl.uploadFile(file)&quot; ng-model=&quot;file&quot; accept=&quot;&quot;&gt;\r\n&lt;!-- end ngIf: progressCtrl.enableUpload --&gt;\r\n    \r\n```\r\n\r\nThis is what I&#39;m doing currently\r\n```\r\n// Sample file to upload\r\nFile sampleFile = new File(Constants.TEST_DATA_FILE_PATH + &quot;SamplePostalFile.txt&quot;);\r\nString filePath = sampleFile.getAbsolutePath();\r\n\r\n// Javascript executor\r\nJavascriptExecutor js = (JavascriptExecutor) DriverFactory.drivers.get();\r\n\r\n// Find the hidden input element\r\nWebElement input = new WebDriverWait(DriverFactory.drivers.get(), Duration.ofSeconds(DEFAULT_ELEMENT_WAIT))\r\n\t.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@id=&#39;upload-postal-file&#39;]&quot;)));\r\n\r\n// Unhide the element so that it is interactable\r\nString notVisibleClasses = input.getAttribute(&quot;class&quot;);\r\nString visibleClasses = notVisibleClasses.replaceAll(&quot;hidden-input&quot;, &quot;&quot;);\r\njs.executeScript(String.format(&quot;arguments[0].setAttribute(&#39;class&#39;, &#39;%s&#39;)&quot;, visibleClasses), input);\r\n\r\n// Send the filePath to the input element\r\ninput.sendKeys(filePath);\r\n\r\n_implicit_wait_as_a_last_resort(5);\r\n\r\n// Click conirm on the confirmation popup\r\nif(getWebElementAndScroll(&quot;//div[@class=&#39;modal-content&#39;]//i[contains(@class,&#39;fa-check-circle&#39;)]/..&quot;)!=null) {\r\n\tWebElement confirmBtn = getWebElementAndScroll(&quot;//div[@class=&#39;modal-content&#39;]//i[contains(@class,&#39;fa-check-circle&#39;)]/..&quot;, &quot;Unable to find &#39;Confirm&#39; button on upload postal file confirmation popup&quot;)._element;\r\n\tjs.executeScript(&quot;arguments[0].click()&quot;, confirmBtn);\r\n}\r\n\r\n// Wait for the success message to come and go\r\ngetWebElementAndScroll(OPERATION_ALERT_MESSAGE, &quot;Did not get success message&quot;);\r\nwaitForInvisibilityOfElementLocatedByXpath(OPERATION_ALERT_MESSAGE);\r\n```\r\n\r\nUpon clicking confirm on the generated popup, I get an error message &quot;Call to a member function getMimeType() on a String&quot;. I think maybe the String for the file path is being uploaded as the contents of the file itself? Any help figuring this out would be much appreciated.\r\n\r\nApparently https://github.com/danialfarid/ng-file-upload is being used for the file uploads. The end result is supposed to be a POST request with the file. ","title":"File upload with Selenium Send Keys causes Mime Type Error for AngularJS file upload","body":"<p>I am writing smoke and regression tests in Selenium (Java) for one of my company's software platforms, which has an AngularJS front end. I need to  perform a file upload as part of a much longer test, but I'm running into some problems.\nThe button to upload the file clicks on a hidden input, which launches the file explorer. These tests run in headless mode on bitbucket pipelines, so I need to work around this by using sendKeys on the hidden input element instead.</p>\n<p>This is the relevant HTML</p>\n<pre><code>\n&lt;!--Action Button--&gt;\n&lt;span class=&quot;pull-right&quot;&gt;\n    &lt;form name=&quot;23&quot; ng-submit=&quot;progressCtrl.action()&quot; disable-on-submit=&quot;1000&quot; novalidate=&quot;&quot; class=&quot;ng-pristine ng-valid&quot;&gt;\n        &lt;!-- ngIf: progressCtrl.enableAction() &amp;&amp; !item.completed_at --&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-progress ng-binding ng-scope&quot; ng-if=&quot;progressCtrl.enableAction() &amp;amp;&amp;amp; !item.completed_at&quot;&gt;\n            &lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt; \n            Complete\n        &lt;/button&gt;\n        &lt;!-- end ngIf: progressCtrl.enableAction() &amp;&amp; !item.completed_at --&gt;\n                \n        &lt;!-- ngIf: progressCtrl.enableAction() &amp;&amp; item.completed_at --&gt;\n        &lt;/form&gt;\n&lt;/span&gt;\n\n&lt;!--Hidden Upload Input--&gt;\n&lt;!-- ngIf: progressCtrl.enableUpload --&gt;\n&lt;input id=&quot;upload-postal-file&quot; ng-if=&quot;progressCtrl.enableUpload&quot; class=&quot;hidden-input ng-pristine ng-untouched ng-valid ng-scope&quot; ngf-select=&quot;&quot; ng-change=&quot;progressCtrl.uploadFile(file)&quot; ng-model=&quot;file&quot; accept=&quot;&quot;&gt;\n&lt;!-- end ngIf: progressCtrl.enableUpload --&gt;\n    \n</code></pre>\n<p>This is what I'm doing currently</p>\n<pre><code>// Sample file to upload\nFile sampleFile = new File(Constants.TEST_DATA_FILE_PATH + &quot;SamplePostalFile.txt&quot;);\nString filePath = sampleFile.getAbsolutePath();\n\n// Javascript executor\nJavascriptExecutor js = (JavascriptExecutor) DriverFactory.drivers.get();\n\n// Find the hidden input element\nWebElement input = new WebDriverWait(DriverFactory.drivers.get(), Duration.ofSeconds(DEFAULT_ELEMENT_WAIT))\n    .until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@id='upload-postal-file']&quot;)));\n\n// Unhide the element so that it is interactable\nString notVisibleClasses = input.getAttribute(&quot;class&quot;);\nString visibleClasses = notVisibleClasses.replaceAll(&quot;hidden-input&quot;, &quot;&quot;);\njs.executeScript(String.format(&quot;arguments[0].setAttribute('class', '%s')&quot;, visibleClasses), input);\n\n// Send the filePath to the input element\ninput.sendKeys(filePath);\n\n_implicit_wait_as_a_last_resort(5);\n\n// Click conirm on the confirmation popup\nif(getWebElementAndScroll(&quot;//div[@class='modal-content']//i[contains(@class,'fa-check-circle')]/..&quot;)!=null) {\n    WebElement confirmBtn = getWebElementAndScroll(&quot;//div[@class='modal-content']//i[contains(@class,'fa-check-circle')]/..&quot;, &quot;Unable to find 'Confirm' button on upload postal file confirmation popup&quot;)._element;\n    js.executeScript(&quot;arguments[0].click()&quot;, confirmBtn);\n}\n\n// Wait for the success message to come and go\ngetWebElementAndScroll(OPERATION_ALERT_MESSAGE, &quot;Did not get success message&quot;);\nwaitForInvisibilityOfElementLocatedByXpath(OPERATION_ALERT_MESSAGE);\n</code></pre>\n<p>Upon clicking confirm on the generated popup, I get an error message &quot;Call to a member function getMimeType() on a String&quot;. I think maybe the String for the file path is being uploaded as the contents of the file itself? Any help figuring this out would be much appreciated.</p>\n<p>Apparently <a href=\"https://github.com/danialfarid/ng-file-upload\" rel=\"nofollow noreferrer\">https://github.com/danialfarid/ng-file-upload</a> is being used for the file uploads. The end result is supposed to be a POST request with the file.</p>\n"},{"tags":["java","android","constraints","worker","android-workmanager"],"comments":[{"owner":{"account_id":1316697,"reputation":4921,"user_id":1263362,"accept_rate":29,"display_name":"Sayem"},"score":0,"creation_date":1648801101,"post_id":71703792,"comment_id":126721132,"body_markdown":"how much time did you wait after connecting to network to be executed?","body":"how much time did you wait after connecting to network to be executed?"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1648803851,"post_id":71703792,"comment_id":126721998,"body_markdown":"I just tried to wait 15 minutes, doesn&#39;t get triggered. The trigger onFailure, and method call to this method. I will get onFailure when I enter flight mode in emulator, disable flight mode and wait 15 minutes... nothing happens. Any suggestion?","body":"I just tried to wait 15 minutes, doesn&#39;t get triggered. The trigger onFailure, and method call to this method. I will get onFailure when I enter flight mode in emulator, disable flight mode and wait 15 minutes... nothing happens. Any suggestion?"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1648804624,"post_id":71703792,"comment_id":126722287,"body_markdown":"&quot;The trigger onFailure&quot;, what I mean is that in my onFailure I will call the method handleFeedbackMessageFailure that I posted in my question.","body":"&quot;The trigger onFailure&quot;, what I mean is that in my onFailure I will call the method handleFeedbackMessageFailure that I posted in my question."},{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":0,"creation_date":1648809085,"post_id":71703792,"comment_id":126723887,"body_markdown":"`CONNECTED` constraint is a bit misleading because it&#39;s actually means &quot;Connected and verified&quot;. You can be connected to WiFi but without being connected to the internet - was this the case?","body":"<code>CONNECTED</code> constraint is a bit misleading because it&#39;s actually means &quot;Connected and verified&quot;. You can be connected to WiFi but without being connected to the internet - was this the case?"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1648811614,"post_id":71703792,"comment_id":126724720,"body_markdown":"This was on the Emulator, I pressed &quot;Airplane mode&quot;, triggered the API call which then goes to onFailure. Then waited a few moments and un-ticked the &quot;Airplane mode&quot;. So I am not sure.\nWhen I tested on my real device it actually somehow worked... thing is, on the real device I don&#39;t have any Cellular, so I un-ticked &quot;WiFi&quot;, then triggered API call-&gt;onFailure, and then ticked &quot;WiFi&quot;. The worker ran, but I cannot run debug with breakpoints from IDE to phone, still could see in logs and DB that message was sent... beats me","body":"This was on the Emulator, I pressed &quot;Airplane mode&quot;, triggered the API call which then goes to onFailure. Then waited a few moments and un-ticked the &quot;Airplane mode&quot;. So I am not sure. When I tested on my real device it actually somehow worked... thing is, on the real device I don&#39;t have any Cellular, so I un-ticked &quot;WiFi&quot;, then triggered API call-&gt;onFailure, and then ticked &quot;WiFi&quot;. The worker ran, but I cannot run debug with breakpoints from IDE to phone, still could see in logs and DB that message was sent... beats me"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1648811696,"post_id":71703792,"comment_id":126724748,"body_markdown":"So maybe it is a problem with this CONNECTED constraint... what else could I use? The reason we have this method call to re-send when onFailure method is reached is that we suspect users will lose their WiFi connection from time to time. And with connection, I mean they will most likely not un-tick WiFi but rather go out of range from AP/Router","body":"So maybe it is a problem with this CONNECTED constraint... what else could I use? The reason we have this method call to re-send when onFailure method is reached is that we suspect users will lose their WiFi connection from time to time. And with connection, I mean they will most likely not un-tick WiFi but rather go out of range from AP/Router"}],"answers":[{"tags":[],"owner":{"account_id":9579833,"reputation":1418,"user_id":7114714,"display_name":"Yavor Mitev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649105416,"creation_date":1649104842,"answer_id":71743495,"question_id":71703792,"body_markdown":"Check the JS info as described here:\r\n\r\nhttps://developer.android.com/topic/libraries/architecture/workmanager/how-to/debugging\r\n\r\nUse:\r\nadb shell dumpsys jobscheduler\r\n\r\nIn the result - check what is unstatisfied in the Constraints section.\r\n\r\nIf it is Connectivity:\r\n\r\nCheck what Capabilities you expect(part of the logs in the job info) and compare them to the current active network Capabilities.\r\n\r\nAlso if not enough time is the problem - you will see it there in the constraints. \r\n\r\n","title":"Worker class not getting triggered by the OneTimeWorkRequest","body":"<p>Check the JS info as described here:</p>\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/how-to/debugging\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/workmanager/how-to/debugging</a></p>\n<p>Use:\nadb shell dumpsys jobscheduler</p>\n<p>In the result - check what is unstatisfied in the Constraints section.</p>\n<p>If it is Connectivity:</p>\n<p>Check what Capabilities you expect(part of the logs in the job info) and compare them to the current active network Capabilities.</p>\n<p>Also if not enough time is the problem - you will see it there in the constraints.</p>\n"}],"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71743495,"answer_count":1,"score":1,"last_activity_date":1649105416,"creation_date":1648800872,"question_id":71703792,"body_markdown":"I have this OneTimeWorkRequest that don&#39;t trigger my SendFeedbackMessageWorker.\r\nThe work request should get triggered with the constraint &quot;.setRequiredNetworkType(NetworkType.CONNECTED)&quot;, but whenever I try to send a message without network connected and then connect again, the class is never triggered.\r\n\r\nCan anybody point out where this is broken?\r\n\r\n``` \r\nprivate void handleFeedbackMessageFailure(Context context, FeedbackMessage message) {\r\n\r\n        Constraints constraints4 = new Constraints.Builder()\r\n                .setRequiredNetworkType(NetworkType.CONNECTED)\r\n                .build();\r\n        Data myFeedbackMessage = new Data.Builder()\r\n                .putString(&quot;myFeedbackMessageId&quot;, message.getId())\r\n                .putString(&quot;myFeedbackMessage&quot;, message.getFeedbackMessage())\r\n                .putString(&quot;myFeedbackPerson&quot;, message.getFeedbackPersonName())\r\n                .putString(&quot;myFeedbackCreated&quot;, message.getCreated().toString())\r\n                .build();\r\n\r\n        OneTimeWorkRequest sendFeedbackWorker = new OneTimeWorkRequest.Builder(SendFeedbackMessageWorker.class)\r\n                .setInputData(myFeedbackMessage)\r\n                .setConstraints(constraints4)\r\n                .build();\r\n\r\n        WorkManager.getInstance(context).enqueue(\r\n                sendFeedbackWorker\r\n        );\r\n```\r\n","title":"Worker class not getting triggered by the OneTimeWorkRequest","body":"<p>I have this OneTimeWorkRequest that don't trigger my SendFeedbackMessageWorker.\nThe work request should get triggered with the constraint &quot;.setRequiredNetworkType(NetworkType.CONNECTED)&quot;, but whenever I try to send a message without network connected and then connect again, the class is never triggered.</p>\n<p>Can anybody point out where this is broken?</p>\n<pre><code>private void handleFeedbackMessageFailure(Context context, FeedbackMessage message) {\n\n        Constraints constraints4 = new Constraints.Builder()\n                .setRequiredNetworkType(NetworkType.CONNECTED)\n                .build();\n        Data myFeedbackMessage = new Data.Builder()\n                .putString(&quot;myFeedbackMessageId&quot;, message.getId())\n                .putString(&quot;myFeedbackMessage&quot;, message.getFeedbackMessage())\n                .putString(&quot;myFeedbackPerson&quot;, message.getFeedbackPersonName())\n                .putString(&quot;myFeedbackCreated&quot;, message.getCreated().toString())\n                .build();\n\n        OneTimeWorkRequest sendFeedbackWorker = new OneTimeWorkRequest.Builder(SendFeedbackMessageWorker.class)\n                .setInputData(myFeedbackMessage)\n                .setConstraints(constraints4)\n                .build();\n\n        WorkManager.getInstance(context).enqueue(\n                sendFeedbackWorker\n        );\n</code></pre>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1615810491,"post_id":66637732,"comment_id":117798001,"body_markdown":"how are your test classes named? I&#39;m having hard time believing you will only have test classes named &quot;test.java&quot;. Normally they would need to be named xxxTest.java to be picked up by maven, where xxx is some prefix.","body":"how are your test classes named? I&#39;m having hard time believing you will only have test classes named &quot;test.java&quot;. Normally they would need to be named xxxTest.java to be picked up by maven, where xxx is some prefix."},{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1615810550,"post_id":66637732,"comment_id":117798026,"body_markdown":"this is working as expected :)   https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html    How are your test classes named ?  They should match the expression written on the include and of course being placed on the folder that maven expects it","body":"this is working as expected :)   <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>    How are your test classes named ?  They should match the expression written on the include and of course being placed on the folder that maven expects it"},{"owner":{"account_id":8000578,"reputation":302,"user_id":6035548,"accept_rate":44,"display_name":"Nathaniel Cutajar"},"score":0,"creation_date":1615811888,"post_id":66637732,"comment_id":117798662,"body_markdown":"Apologies. The tests are the same name of the classes to test, with the added `Test` at the end. But they are all in a folder called `test`. I just had a sudden realization though that the custom config I  was adding was checking for the actual name of the file. So it makes sense that I don&#39;t need to have custom include tags since the names are following the default naming convention. Updating question to remove the extra bad details","body":"Apologies. The tests are the same name of the classes to test, with the added <code>Test</code> at the end. But they are all in a folder called <code>test</code>. I just had a sudden realization though that the custom config I  was adding was checking for the actual name of the file. So it makes sense that I don&#39;t need to have custom include tags since the names are following the default naming convention. Updating question to remove the extra bad details"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1615812702,"post_id":66637732,"comment_id":117799060,"body_markdown":"Probably 1) tests are not annotated with @Test 2) test classes are outside of maven&#39;s `test` directory","body":"Probably 1) tests are not annotated with @Test 2) test classes are outside of maven&#39;s <code>test</code> directory"},{"owner":{"account_id":8000578,"reputation":302,"user_id":6035548,"accept_rate":44,"display_name":"Nathaniel Cutajar"},"score":0,"creation_date":1615813810,"post_id":66637732,"comment_id":117799611,"body_markdown":"@Antoniossss tests are all annotated with the `@Test` and I can run them manually. The `test` directory is in the same level as the `main`","body":"@Antoniossss tests are all annotated with the <code>@Test</code> and I can run them manually. The <code>test</code> directory is in the same level as the <code>main</code>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1615814337,"post_id":66637732,"comment_id":117799842,"body_markdown":"But maybe you did some tweaks and the test directory is not the default test location. You could share effective pom maybe?","body":"But maybe you did some tweaks and the test directory is not the default test location. You could share effective pom maybe?"},{"owner":{"account_id":8000578,"reputation":302,"user_id":6035548,"accept_rate":44,"display_name":"Nathaniel Cutajar"},"score":0,"creation_date":1615818642,"post_id":66637732,"comment_id":117801997,"body_markdown":"@Antoniossss https://pastebin.com/6edTz7qp This should be everything, apart from the confidential stuff","body":"@Antoniossss <a href=\"https://pastebin.com/6edTz7qp\" rel=\"nofollow noreferrer\">pastebin.com/6edTz7qp</a> This should be everything, apart from the confidential stuff"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1615822579,"post_id":66637732,"comment_id":117804151,"body_markdown":"add it to the question.","body":"add it to the question."},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":0,"creation_date":1615835288,"post_id":66637732,"comment_id":117810143,"body_markdown":"The answer in already in https://stackoverflow.com/questions/66605008/seektool-what-can-that-be?noredirect=1#comment117750898_66605008","body":"The answer in already in <a href=\"https://stackoverflow.com/questions/66605008/seektool-what-can-that-be?noredirect=1#comment117750898_66605008\" title=\"seektool what can that be\">stackoverflow.com/questions/66605008/&hellip;</a>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1615840038,"post_id":66637732,"comment_id":117811942,"body_markdown":"@NathanielCutajar your pastebin pom does not even have the surefire plugin that you have in the question? please update the question with your full pom to reproduce this issue.","body":"@NathanielCutajar your pastebin pom does not even have the surefire plugin that you have in the question? please update the question with your full pom to reproduce this issue."},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":0,"creation_date":1616155457,"post_id":66637732,"comment_id":117920358,"body_markdown":"@NathanielCutajar Can we continue in the chat? You was invited!","body":"@NathanielCutajar Can we continue in the chat? You was invited!"},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":0,"creation_date":1649105059,"post_id":66637732,"comment_id":126787542,"body_markdown":"The version **3.0.0-M6** has been deployed to the Maven Central repository. The workaround **useModulePath=false** can be removed in your POM now.","body":"The version <b>3.0.0-M6</b> has been deployed to the Maven Central repository. The workaround <b>useModulePath=false</b> can be removed in your POM now."},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":0,"creation_date":1649105329,"post_id":66637732,"comment_id":126787604,"body_markdown":"The version **3.0.0-M6** has 111 fixes and it supports the latest JDK 18 and Maven 3.8.5 as well. We will start a new Release Vote for **2.22.3** on the Apache Maven dev mailing list. The version **2.22.3** has 23 backported bug fixes and it supports JDK 18 as well.","body":"The version <b>3.0.0-M6</b> has 111 fixes and it supports the latest JDK 18 and Maven 3.8.5 as well. We will start a new Release Vote for <b>2.22.3</b> on the Apache Maven dev mailing list. The version <b>2.22.3</b> has 23 backported bug fixes and it supports JDK 18 as well."}],"answers":[{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615885334,"creation_date":1615885334,"answer_id":66651983,"question_id":66637732,"body_markdown":"Yes we have a bug in surefire 3.0.0-M5 (when JDK 9+ and no JPMS is used) but we published the workaround on the Stackoverflow several times.\r\n\r\nPls check it out with a temporal workaround\r\n\r\n&gt; mvn test -Dsurefire.useModulePath=false\r\n\r\nThe fix is already done and it will be released in the version `3.0.0-M6`. There the workaround `useModulePath=false` would not be needed anymore.\r\n","title":"Maven ignoring tests on build","body":"<p>Yes we have a bug in surefire 3.0.0-M5 (when JDK 9+ and no JPMS is used) but we published the workaround on the Stackoverflow several times.</p>\n<p>Pls check it out with a temporal workaround</p>\n<blockquote>\n<p>mvn test -Dsurefire.useModulePath=false</p>\n</blockquote>\n<p>The fix is already done and it will be released in the version <code>3.0.0-M6</code>. There the workaround <code>useModulePath=false</code> would not be needed anymore.</p>\n"},{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649104976,"creation_date":1649104976,"answer_id":71743509,"question_id":66637732,"body_markdown":"The version **3.0.0-M6** has been deployed to the Maven Central repository.\r\nThis issue is fixed.\r\nPls check the POM and the configuration **useModulePath=false** as a workaround.\r\nhttp://quabr.com:8182/66637732/maven-ignoring-tests-on-build\r\nNow the workaround can be removed.","title":"Maven ignoring tests on build","body":"<p>The version <strong>3.0.0-M6</strong> has been deployed to the Maven Central repository.\nThis issue is fixed.\nPls check the POM and the configuration <strong>useModulePath=false</strong> as a workaround.\n<a href=\"http://quabr.com:8182/66637732/maven-ignoring-tests-on-build\" rel=\"nofollow noreferrer\">http://quabr.com:8182/66637732/maven-ignoring-tests-on-build</a>\nNow the workaround can be removed.</p>\n"}],"owner":{"account_id":8000578,"reputation":302,"user_id":6035548,"accept_rate":44,"display_name":"Nathaniel Cutajar"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2439,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71743509,"answer_count":2,"score":2,"last_activity_date":1649104976,"creation_date":1615810170,"question_id":66637732,"body_markdown":"Currently trying to test a project and for some reason, it won&#39;t run the tests when using `mvn clean install`. Strangely enough though, right-clicking on the project and do `Run &#39;All Tests&#39;` on Intellij, runs all the tests well. \r\n\r\nThe folder is called `test`, with the tests having a `Test` added after the name of the class they are testing. I have this configuration in the POM file set up:\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nwith the java version being set as such: `&lt;java.version&gt;11&lt;/java.version&gt;`\r\n\r\nand the junit dependency being set like so:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThis will result in: \r\n\r\n```\r\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ ******* ---\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n```\r\n\r\nUsually I don&#39;t need to even add the `maven-surefire-plugin` under the plugins tag, although I did this to specify the version, maybe that might help but it&#39;s of no use.\r\n\r\nAny idea what the issue might be?\r\n\r\n# UPDATE 1:\r\nAdded some configuration for the surefire plugin: `&lt;useModulePath&gt;false&lt;/useModulePath&gt;`\r\n\r\nLogs from `mvn -X test`: https://controlc.com/0e9faba9","title":"Maven ignoring tests on build","body":"<p>Currently trying to test a project and for some reason, it won't run the tests when using <code>mvn clean install</code>. Strangely enough though, right-clicking on the project and do <code>Run 'All Tests'</code> on Intellij, runs all the tests well.</p>\n<p>The folder is called <code>test</code>, with the tests having a <code>Test</code> added after the name of the class they are testing. I have this configuration in the POM file set up:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>with the java version being set as such: <code>&lt;java.version&gt;11&lt;/java.version&gt;</code></p>\n<p>and the junit dependency being set like so:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This will result in:</p>\n<pre><code>[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ ******* ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>Usually I don't need to even add the <code>maven-surefire-plugin</code> under the plugins tag, although I did this to specify the version, maybe that might help but it's of no use.</p>\n<p>Any idea what the issue might be?</p>\n<h1>UPDATE 1:</h1>\n<p>Added some configuration for the surefire plugin: <code>&lt;useModulePath&gt;false&lt;/useModulePath&gt;</code></p>\n<p>Logs from <code>mvn -X test</code>: <a href=\"https://controlc.com/0e9faba9\" rel=\"nofollow noreferrer\">https://controlc.com/0e9faba9</a></p>\n"},{"tags":["java","database","sqlite","kotlin"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":1,"creation_date":1649109796,"post_id":71743430,"comment_id":126788674,"body_markdown":"Values mismatch. |You have 26 field items to fill and you are using 26 question marks for your prepared statements, yet, you are only using 25 p-Statements. You also have `cliente_denom` listed twice in the fields list.","body":"Values mismatch. |You have 26 field items to fill and you are using 26 question marks for your prepared statements, yet, you are only using 25 p-Statements. You also have <code>cliente_denom</code> listed twice in the fields list."},{"owner":{"account_id":19261735,"reputation":75,"user_id":14077479,"display_name":"NicolaM94"},"score":0,"creation_date":1649114108,"post_id":71743430,"comment_id":126789480,"body_markdown":"Thank you so much, I can&#39;t believe I missed it out, so trivial. Thanks again. Anyway, since I&#39;m new to SQL, if I may ask another question: do you think this is a good approach? I feel like there are too many calls and maybe too many columns?","body":"Thank you so much, I can&#39;t believe I missed it out, so trivial. Thanks again. Anyway, since I&#39;m new to SQL, if I may ask another question: do you think this is a good approach? I feel like there are too many calls and maybe too many columns?"}],"owner":{"account_id":19261735,"reputation":75,"user_id":14077479,"display_name":"NicolaM94"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649104409,"creation_date":1649104409,"question_id":71743430,"body_markdown":"I&#39;m in need of some help troubleshooting a strange behaviour with Kotlin and SQLite database.\r\nWhen I try filling the database, an entire column gets &quot;skipped&quot;.\r\n\r\nHere&#39;s the database:\r\n\r\n```\r\n    &quot;Id&quot; INTEGER,\r\n\t&quot;fornitore_pi&quot;\tTEXT,\r\n\t&quot;fornitore_denom&quot;\tTEXT,\r\n\t&quot;fornitore_cap&quot;\tTEXT,\r\n\t&quot;fornitore_indirizzo&quot;\tTEXT,\r\n\t&quot;fornitore_comune&quot;\tTEXT,\r\n\t&quot;fornitore_provincia&quot;\tTEXT,\r\n\t&quot;fornitore_nazione&quot;\tTEXT,\r\n\t&quot;cliente_pi&quot;\tTEXT,\r\n\t&quot;cliente_denom&quot;\tTEXT,\r\n\t&quot;cliente_cap&quot;\tTEXT,\r\n\t&quot;cliente_indirizzo&quot;\tTEXT,\r\n\t&quot;cliente_comune&quot;\tTEXT,\r\n\t&quot;cliente_provincia&quot;\tTEXT,\r\n\t&quot;cliente_nazione&quot;\tTEXT,\r\n\t&quot;data&quot;\tTEXT,\r\n\t&quot;numero&quot;\tTEXT,\r\n\t&quot;tipo&quot;\tTEXT,\r\n\t&quot;divisa&quot;\tTEXT,\r\n\t&quot;importo&quot;\tTEXT,\r\n\t&quot;scadenza&quot;\tTEXT,\r\n\t&quot;mod_pagamento&quot;\tTEXT,\r\n\t&quot;iban&quot;\tTEXT,\r\n\t&quot;pagamento&quot;\tTEXT,\r\n\t&quot;condizioni&quot;\tTEXT,\r\n\t&quot;pagata&quot;\tTEXT,\r\n\tPRIMARY KEY(&quot;Id&quot; AUTOINCREMENT)\r\n```\r\nAnd here the Kotlin insertion function I wrote:\r\n\r\n```\r\nfun insertObject (connection:Connection,bill: BaseBill) {\r\n\r\n    val insertionQuery :String = &quot;insert into BILLS (&quot; +\r\n            &quot;fornitore_pi,&quot; +\r\n            &quot;fornitore_denom,&quot; +\r\n            &quot;fornitore_cap,&quot; +\r\n            &quot;fornitore_indirizzo,&quot; +\r\n            &quot;fornitore_comune,&quot; +\r\n            &quot;fornitore_provincia,&quot; +\r\n            &quot;fornitore_nazione,&quot; +\r\n            &quot;cliente_pi,&quot; +\r\n            &quot;cliente_denom,&quot; +\r\n            &quot;cliente_cap,&quot; +\r\n            &quot;cliente_denom,&quot; +\r\n            &quot;cliente_indirizzo,&quot; +\r\n            &quot;cliente_comune,&quot; +\r\n            &quot;cliente_provincia,&quot; +\r\n            &quot;cliente_nazione,&quot; +\r\n            &quot;data,&quot; +\r\n            &quot;numero,&quot; +\r\n            &quot;tipo,&quot; +\r\n            &quot;divisa,&quot; +\r\n            &quot;importo,&quot; +\r\n            &quot;scadenza,&quot; +\r\n            &quot;mod_pagamento,&quot; +\r\n            &quot;iban,&quot; +\r\n            &quot;pagamento,&quot; +\r\n            &quot;condizioni,&quot; +\r\n            &quot;pagata&quot; +\r\n            &quot;) values (&quot; +\r\n            &quot;?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?&quot; +\r\n            &quot;)&quot;\r\n\r\n    val driver = connection.prepareStatement(insertionQuery)\r\n\r\n    var counter = 0\r\n\r\n    driver.setString(++counter,bill.features[&quot;fornitore_pi&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_denom&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_cap&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_indirizzo&quot;]?.normalizer())\r\n    driver.setString(++counter,bill.features[&quot;fornitore_comune&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_provincia&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_nazione&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_pi&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_denom&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_cap&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_indirizzo&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_comune&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_provincia&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_nazione&quot;])\r\n    driver.setString(++counter,bill.features[&quot;data&quot;])\r\n    driver.setString(++counter,bill.features[&quot;numero&quot;])\r\n    driver.setString(++counter,bill.features[&quot;tipo&quot;])\r\n    driver.setString(++counter,bill.features[&quot;divisa&quot;])\r\n    driver.setString(++counter,bill.features[&quot;importo&quot;])\r\n    driver.setString(++counter,bill.features[&quot;scadenza&quot;])\r\n    driver.setString(++counter,bill.features[&quot;mod_pagamento&quot;])\r\n    driver.setString(++counter,bill.features[&quot;iban&quot;])\r\n    driver.setString(++counter,bill.features[&quot;pagamento&quot;])\r\n    driver.setString(++counter,bill.features[&quot;condizioni&quot;])\r\n    driver.setString(++counter,bill.features[&quot;pagata&quot;])\r\n\r\n    driver.execute()\r\n```\r\nNow the strange fact about this is that it generates no errors at all, but the values that should go under the `cliente_indirizzo` column get all skipped. So the column `cliente_indirizzo` gets filled with `cliente_comune` values and everything is moved one column back, generating all null values on the last column.\r\nWhat am I missing? Any idea about this?\r\nThanks in advance!","title":"Kotlin/Sqlite column not filling","body":"<p>I'm in need of some help troubleshooting a strange behaviour with Kotlin and SQLite database.\nWhen I try filling the database, an entire column gets &quot;skipped&quot;.</p>\n<p>Here's the database:</p>\n<pre><code>    &quot;Id&quot; INTEGER,\n    &quot;fornitore_pi&quot;  TEXT,\n    &quot;fornitore_denom&quot;   TEXT,\n    &quot;fornitore_cap&quot; TEXT,\n    &quot;fornitore_indirizzo&quot;   TEXT,\n    &quot;fornitore_comune&quot;  TEXT,\n    &quot;fornitore_provincia&quot;   TEXT,\n    &quot;fornitore_nazione&quot; TEXT,\n    &quot;cliente_pi&quot;    TEXT,\n    &quot;cliente_denom&quot; TEXT,\n    &quot;cliente_cap&quot;   TEXT,\n    &quot;cliente_indirizzo&quot; TEXT,\n    &quot;cliente_comune&quot;    TEXT,\n    &quot;cliente_provincia&quot; TEXT,\n    &quot;cliente_nazione&quot;   TEXT,\n    &quot;data&quot;  TEXT,\n    &quot;numero&quot;    TEXT,\n    &quot;tipo&quot;  TEXT,\n    &quot;divisa&quot;    TEXT,\n    &quot;importo&quot;   TEXT,\n    &quot;scadenza&quot;  TEXT,\n    &quot;mod_pagamento&quot; TEXT,\n    &quot;iban&quot;  TEXT,\n    &quot;pagamento&quot; TEXT,\n    &quot;condizioni&quot;    TEXT,\n    &quot;pagata&quot;    TEXT,\n    PRIMARY KEY(&quot;Id&quot; AUTOINCREMENT)\n</code></pre>\n<p>And here the Kotlin insertion function I wrote:</p>\n<pre><code>fun insertObject (connection:Connection,bill: BaseBill) {\n\n    val insertionQuery :String = &quot;insert into BILLS (&quot; +\n            &quot;fornitore_pi,&quot; +\n            &quot;fornitore_denom,&quot; +\n            &quot;fornitore_cap,&quot; +\n            &quot;fornitore_indirizzo,&quot; +\n            &quot;fornitore_comune,&quot; +\n            &quot;fornitore_provincia,&quot; +\n            &quot;fornitore_nazione,&quot; +\n            &quot;cliente_pi,&quot; +\n            &quot;cliente_denom,&quot; +\n            &quot;cliente_cap,&quot; +\n            &quot;cliente_denom,&quot; +\n            &quot;cliente_indirizzo,&quot; +\n            &quot;cliente_comune,&quot; +\n            &quot;cliente_provincia,&quot; +\n            &quot;cliente_nazione,&quot; +\n            &quot;data,&quot; +\n            &quot;numero,&quot; +\n            &quot;tipo,&quot; +\n            &quot;divisa,&quot; +\n            &quot;importo,&quot; +\n            &quot;scadenza,&quot; +\n            &quot;mod_pagamento,&quot; +\n            &quot;iban,&quot; +\n            &quot;pagamento,&quot; +\n            &quot;condizioni,&quot; +\n            &quot;pagata&quot; +\n            &quot;) values (&quot; +\n            &quot;?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?&quot; +\n            &quot;)&quot;\n\n    val driver = connection.prepareStatement(insertionQuery)\n\n    var counter = 0\n\n    driver.setString(++counter,bill.features[&quot;fornitore_pi&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_denom&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_cap&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_indirizzo&quot;]?.normalizer())\n    driver.setString(++counter,bill.features[&quot;fornitore_comune&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_provincia&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_nazione&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_pi&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_denom&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_cap&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_indirizzo&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_comune&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_provincia&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_nazione&quot;])\n    driver.setString(++counter,bill.features[&quot;data&quot;])\n    driver.setString(++counter,bill.features[&quot;numero&quot;])\n    driver.setString(++counter,bill.features[&quot;tipo&quot;])\n    driver.setString(++counter,bill.features[&quot;divisa&quot;])\n    driver.setString(++counter,bill.features[&quot;importo&quot;])\n    driver.setString(++counter,bill.features[&quot;scadenza&quot;])\n    driver.setString(++counter,bill.features[&quot;mod_pagamento&quot;])\n    driver.setString(++counter,bill.features[&quot;iban&quot;])\n    driver.setString(++counter,bill.features[&quot;pagamento&quot;])\n    driver.setString(++counter,bill.features[&quot;condizioni&quot;])\n    driver.setString(++counter,bill.features[&quot;pagata&quot;])\n\n    driver.execute()\n</code></pre>\n<p>Now the strange fact about this is that it generates no errors at all, but the values that should go under the <code>cliente_indirizzo</code> column get all skipped. So the column <code>cliente_indirizzo</code> gets filled with <code>cliente_comune</code> values and everything is moved one column back, generating all null values on the last column.\nWhat am I missing? Any idea about this?\nThanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649242082,"post_id":71742805,"comment_id":126824582,"body_markdown":"I recommend you dont use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead justv use `OffsetDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you dont use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead justv use <code>OffsetDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649104085,"creation_date":1649100858,"answer_id":71742843,"question_id":71742805,"body_markdown":"# tl;dr\r\n\r\n    Date.from( \r\n        OffsetDateTime\r\n        .parse( &quot;2018-02-13T00:00:51.045+13:00&quot; )\r\n        .toInstant() \r\n    ) \r\n\r\n\r\n\r\n# Details\r\n \r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Avoid `Date`/`Calendar`. \r\n\r\nFor a date with time of day as seen with a particular offset, use `OffsetDateTime` class. \r\n\r\nYour input text complies with the standard ISO 8601 format used by default in the *java.time* classes. So no need to specify a formatting pattern. \r\n\r\n    OffsetDateTime.parse( &quot;2018-02-13T00:00:51.045+13:00&quot; )\r\n\r\nIf you must use the legacy classes to interoperate with old code not yet updated for *java.time*, you can convert to and fro. Use the new conversion methods added to the old classes. \r\n\r\n    java.util.Date d = Date.from( myOffsetDateTime.toInstant() ) ;\r\n\r\nAll this has been covered many many times already on Stack Overflow. Search to learn more. And see the tutorial provided by Oracle Corp free of cost. ","title":"Java ParseException Unparseable date when date string is UTC+13:00 timezone","body":"<h1>tl;dr</h1>\n<pre><code>Date.from( \n    OffsetDateTime\n    .parse( &quot;2018-02-13T00:00:51.045+13:00&quot; )\n    .toInstant() \n) \n</code></pre>\n<h1>Details</h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Avoid <code>Date</code>/<code>Calendar</code>.</p>\n<p>For a date with time of day as seen with a particular offset, use <code>OffsetDateTime</code> class.</p>\n<p>Your input text complies with the standard ISO 8601 format used by default in the <em>java.time</em> classes. So no need to specify a formatting pattern.</p>\n<pre><code>OffsetDateTime.parse( &quot;2018-02-13T00:00:51.045+13:00&quot; )\n</code></pre>\n<p>If you must use the legacy classes to interoperate with old code not yet updated for <em>java.time</em>, you can convert to and fro. Use the new conversion methods added to the old classes.</p>\n<pre><code>java.util.Date d = Date.from( myOffsetDateTime.toInstant() ) ;\n</code></pre>\n<p>All this has been covered many many times already on Stack Overflow. Search to learn more. And see the tutorial provided by Oracle Corp free of cost.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649104338,"creation_date":1649104338,"answer_id":71743419,"question_id":71742805,"body_markdown":"Your issue is that `SimpleDateFormat` does not support the optional sections - that is, the enclosure of parts of the format in `[ ]` characters.  You need to either\r\n\r\n- abandon the use of the optional sections,\r\n- write your own `DateFormat` implementation,\r\n- switch to the more modern classes in the `java.time` package.\r\n\r\nThe third option is usually the best - the `java.time` package has been around for many years now, and the `DateTimeFormatter` class does indeed support the `[ ]` notation.  But if you have to deal with legacy date and time classes, you might be best to write your own `DateFormat`.","title":"Java ParseException Unparseable date when date string is UTC+13:00 timezone","body":"<p>Your issue is that <code>SimpleDateFormat</code> does not support the optional sections - that is, the enclosure of parts of the format in <code>[ ]</code> characters.  You need to either</p>\n<ul>\n<li>abandon the use of the optional sections,</li>\n<li>write your own <code>DateFormat</code> implementation,</li>\n<li>switch to the more modern classes in the <code>java.time</code> package.</li>\n</ul>\n<p>The third option is usually the best - the <code>java.time</code> package has been around for many years now, and the <code>DateTimeFormatter</code> class does indeed support the <code>[ ]</code> notation.  But if you have to deal with legacy date and time classes, you might be best to write your own <code>DateFormat</code>.</p>\n"}],"owner":{"account_id":13399156,"reputation":406,"user_id":9669217,"display_name":"SlobodanT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71742843,"answer_count":2,"score":0,"last_activity_date":1649104338,"creation_date":1649100702,"question_id":71742805,"body_markdown":"I am getting weird error which I can&#39;t get around easily.\r\nThis is my code\r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.[S][SS][SSS][SSSS][SSSSS][SSSSSS][SSSSSSS][SSSSSSSS][SSSSSSSSS]X&quot;);\r\n    df.setTimeZone(TimeZone.getDefault());\r\n    Date issued = df.parse(this.dateAndTimeOfIssue);\r\n\r\nI am getting exception\r\njava.text.ParseException: Unparseable date: &quot;2018-02-13T00:00:51.045+13:00&quot;\r\n\r\nDoes anyone knows what is causing error?","title":"Java ParseException Unparseable date when date string is UTC+13:00 timezone","body":"<p>I am getting weird error which I can't get around easily.\nThis is my code</p>\n<pre><code>DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.[S][SS][SSS][SSSS][SSSSS][SSSSSS][SSSSSSS][SSSSSSSS][SSSSSSSSS]X&quot;);\ndf.setTimeZone(TimeZone.getDefault());\nDate issued = df.parse(this.dateAndTimeOfIssue);\n</code></pre>\n<p>I am getting exception\njava.text.ParseException: Unparseable date: &quot;2018-02-13T00:00:51.045+13:00&quot;</p>\n<p>Does anyone knows what is causing error?</p>\n"},{"tags":["java","locks","redisson","readwritelock"],"owner":{"account_id":5005742,"reputation":11,"user_id":4023456,"display_name":"elizalde1981"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649103954,"creation_date":1649103954,"question_id":71743365,"body_markdown":"I am new to Redisson and tried to implement a ReadWriteLock downgrade but after doing the release of the writeLock, Redisson is not renewing the lock even when there is still a readlock and after 30 seconds the readlock is gone.\r\n\r\nI created a simple example to test the downgrade but it is not working as expected. In the first part, the code is creating a readwritelock and then acquiring a writelock and readlock. To check that Redisson was keeping these locks without issues, every 5 seconds the code is checking the TTL and the locks counts and everything looks fine.\r\n\r\nHowever after releasing the writeLock, Redisson is not longer renewing the lock and after 30 seconds is gone. I was expecting Redisson to continue keeping the readLock alive until it is released.\r\n\r\n```java\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.redisson.Redisson;\r\nimport org.redisson.api.RReadWriteLock;\r\nimport org.redisson.api.RedissonClient;\r\nimport org.redisson.config.Config;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class ReadWriteLockExample {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(ReadWriteLockExample.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tConfig config = new Config();\r\n\t\tconfig.useSingleServer().setAddress(&quot;redis://127.0.0.1:6379&quot;);\r\n\r\n\t\tRedissonClient redisson = Redisson.create(config);\r\n\r\n\t\tRReadWriteLock rwlock = redisson.getReadWriteLock(&quot;myLock&quot;);\r\n\r\n\t\trwlock.writeLock().lock();\r\n\t\tlogger.info(&quot;Write lock acquired&quot;);\r\n\t\tlogger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\r\n\r\n\t\trwlock.readLock().lock();\r\n\t\tlogger.info(&quot;Read lock acquired&quot;);\r\n\t\tlogger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 6; i++) {\r\n\t\t\tlogger.info(&quot;Lock TTL: {} Write lock count {} Read lock count: {}&quot;, rwlock.readLock().remainTimeToLive(),\r\n\t\t\t\t\trwlock.writeLock().getHoldCount(), rwlock.readLock().getHoldCount());\r\n\t\t\ttry {\r\n\t\t\t\tTimeUnit.SECONDS.sleep(5);\r\n\t\t\t} catch (InterruptedException ie) {\r\n\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Lock downgrading\r\n\t\trwlock.writeLock().unlock();\r\n\t\tlogger.info(&quot;Write lock released/downgraded&quot;);\r\n\t\tlogger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\r\n\r\n\t\t// After 30 seconds, I would expect to see the readLock still locking\r\n\t\t// However is gone\r\n\t\tfor (int i = 0; i &lt; 6; i++) {\r\n\t\t\tlogger.info(&quot;Lock TTL: {} Write lock count {} Read lock count: {}&quot;, rwlock.readLock().remainTimeToLive(),\r\n\t\t\t\t\trwlock.writeLock().getHoldCount(), rwlock.readLock().getHoldCount());\r\n\t\t\ttry {\r\n\t\t\t\tTimeUnit.SECONDS.sleep(5);\r\n\t\t\t} catch (InterruptedException ie) {\r\n\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlogger.info(&quot;Write lock count after 30s: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count after 30s: &quot; + rwlock.readLock().getHoldCount());\r\n\r\n\t\t// Releasing ReadLock\r\n\t\trwlock.readLock().unlock();\r\n\t\tlogger.info(&quot;Read lock released&quot;);\r\n\t\tlogger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\r\n\r\n\t\tredisson.shutdown();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe output:\r\n\r\n```\r\n11:34:43.417 [main] INFO  org.redisson.Version - Redisson 3.16.8\r\n11:34:44.382 [redisson-netty-2-14] INFO  org.redisson.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379\r\n11:34:44.405 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379\r\n11:34:44.455 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock acquired\r\n11:34:44.459 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 1\r\n11:34:44.461 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 0\r\n11:34:44.463 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock acquired\r\n11:34:44.465 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 1\r\n11:34:44.466 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 1\r\n11:34:44.469 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 29997 Write lock count 1 Read lock count: 1\r\n11:34:49.484 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 24988 Write lock count 1 Read lock count: 1\r\n11:34:54.514 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 19961 Write lock count 1 Read lock count: 1\r\n11:34:59.541 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 25019 Write lock count 1 Read lock count: 1\r\n11:35:04.569 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 19996 Write lock count 1 Read lock count: 1\r\n11:35:09.582 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 25074 Write lock count 1 Read lock count: 1\r\n11:35:14.596 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock released/downgraded\r\n11:35:14.599 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 0\r\n11:35:14.603 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 1\r\n11:35:14.615 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 20042 Write lock count 0 Read lock count: 1\r\n11:35:19.635 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 15021 Write lock count 0 Read lock count: 1\r\n11:35:24.647 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 10009 Write lock count 0 Read lock count: 1\r\n11:35:29.658 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 4998 Write lock count 0 Read lock count: 1\r\n11:35:34.681 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: -2 Write lock count 0 Read lock count: 0\r\n11:35:39.709 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: -2 Write lock count 0 Read lock count: 0\r\n11:35:44.727 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count after 30s: 0\r\n11:35:44.731 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count after 30s: 0\r\n11:35:44.738 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock released\r\n11:35:44.742 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 0\r\n11:35:44.745 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 0\r\n```\r\n\r\nI run this example on Redis server 6.2.5 on Ubuntu 20.04.3 LTS using WSL (Windows 10).\r\nNot sure if this a bug or I am missing something.","title":"ReadWriteLock downgrading not working as expected","body":"<p>I am new to Redisson and tried to implement a ReadWriteLock downgrade but after doing the release of the writeLock, Redisson is not renewing the lock even when there is still a readlock and after 30 seconds the readlock is gone.</p>\n<p>I created a simple example to test the downgrade but it is not working as expected. In the first part, the code is creating a readwritelock and then acquiring a writelock and readlock. To check that Redisson was keeping these locks without issues, every 5 seconds the code is checking the TTL and the locks counts and everything looks fine.</p>\n<p>However after releasing the writeLock, Redisson is not longer renewing the lock and after 30 seconds is gone. I was expecting Redisson to continue keeping the readLock alive until it is released.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.TimeUnit;\n\nimport org.redisson.Redisson;\nimport org.redisson.api.RReadWriteLock;\nimport org.redisson.api.RedissonClient;\nimport org.redisson.config.Config;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class ReadWriteLockExample {\n\n    private static final Logger logger = LoggerFactory.getLogger(ReadWriteLockExample.class);\n\n    public static void main(String[] args) {\n\n        Config config = new Config();\n        config.useSingleServer().setAddress(&quot;redis://127.0.0.1:6379&quot;);\n\n        RedissonClient redisson = Redisson.create(config);\n\n        RReadWriteLock rwlock = redisson.getReadWriteLock(&quot;myLock&quot;);\n\n        rwlock.writeLock().lock();\n        logger.info(&quot;Write lock acquired&quot;);\n        logger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\n\n        rwlock.readLock().lock();\n        logger.info(&quot;Read lock acquired&quot;);\n        logger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\n        \n        for (int i = 0; i &lt; 6; i++) {\n            logger.info(&quot;Lock TTL: {} Write lock count {} Read lock count: {}&quot;, rwlock.readLock().remainTimeToLive(),\n                    rwlock.writeLock().getHoldCount(), rwlock.readLock().getHoldCount());\n            try {\n                TimeUnit.SECONDS.sleep(5);\n            } catch (InterruptedException ie) {\n                Thread.currentThread().interrupt();\n            }\n        }\n\n        // Lock downgrading\n        rwlock.writeLock().unlock();\n        logger.info(&quot;Write lock released/downgraded&quot;);\n        logger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\n\n        // After 30 seconds, I would expect to see the readLock still locking\n        // However is gone\n        for (int i = 0; i &lt; 6; i++) {\n            logger.info(&quot;Lock TTL: {} Write lock count {} Read lock count: {}&quot;, rwlock.readLock().remainTimeToLive(),\n                    rwlock.writeLock().getHoldCount(), rwlock.readLock().getHoldCount());\n            try {\n                TimeUnit.SECONDS.sleep(5);\n            } catch (InterruptedException ie) {\n                Thread.currentThread().interrupt();\n            }\n        }\n\n        logger.info(&quot;Write lock count after 30s: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count after 30s: &quot; + rwlock.readLock().getHoldCount());\n\n        // Releasing ReadLock\n        rwlock.readLock().unlock();\n        logger.info(&quot;Read lock released&quot;);\n        logger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\n\n        redisson.shutdown();\n\n    }\n\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>11:34:43.417 [main] INFO  org.redisson.Version - Redisson 3.16.8\n11:34:44.382 [redisson-netty-2-14] INFO  org.redisson.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379\n11:34:44.405 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379\n11:34:44.455 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock acquired\n11:34:44.459 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 1\n11:34:44.461 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 0\n11:34:44.463 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock acquired\n11:34:44.465 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 1\n11:34:44.466 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 1\n11:34:44.469 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 29997 Write lock count 1 Read lock count: 1\n11:34:49.484 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 24988 Write lock count 1 Read lock count: 1\n11:34:54.514 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 19961 Write lock count 1 Read lock count: 1\n11:34:59.541 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 25019 Write lock count 1 Read lock count: 1\n11:35:04.569 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 19996 Write lock count 1 Read lock count: 1\n11:35:09.582 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 25074 Write lock count 1 Read lock count: 1\n11:35:14.596 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock released/downgraded\n11:35:14.599 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 0\n11:35:14.603 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 1\n11:35:14.615 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 20042 Write lock count 0 Read lock count: 1\n11:35:19.635 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 15021 Write lock count 0 Read lock count: 1\n11:35:24.647 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 10009 Write lock count 0 Read lock count: 1\n11:35:29.658 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 4998 Write lock count 0 Read lock count: 1\n11:35:34.681 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: -2 Write lock count 0 Read lock count: 0\n11:35:39.709 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: -2 Write lock count 0 Read lock count: 0\n11:35:44.727 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count after 30s: 0\n11:35:44.731 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count after 30s: 0\n11:35:44.738 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock released\n11:35:44.742 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 0\n11:35:44.745 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 0\n</code></pre>\n<p>I run this example on Redis server 6.2.5 on Ubuntu 20.04.3 LTS using WSL (Windows 10).\nNot sure if this a bug or I am missing something.</p>\n"},{"tags":["python","java","encryption","rsa","pkcs#1"],"comments":[{"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"v"},"score":0,"creation_date":1649102780,"post_id":71743133,"comment_id":126786914,"body_markdown":"Possible duplicate of: https://stackoverflow.com/questions/61388531/rsa-encryption-in-java-and-python-gives-different-encryption-result","body":"Possible duplicate of: <a href=\"https://stackoverflow.com/questions/61388531/rsa-encryption-in-java-and-python-gives-different-encryption-result\" title=\"rsa encryption in java and python gives different encryption result\">stackoverflow.com/questions/61388531/&hellip;</a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1649111120,"post_id":71743133,"comment_id":126788967,"body_markdown":"You **encrypt** with a public key and **decrypt** with a private key. Note that the public key is included in the private key for RSA, so it is probably using that. What are you trying to achieve? @v That&#39;s not a dupe, different issue.","body":"You <b>encrypt</b> with a public key and <b>decrypt</b> with a private key. Note that the public key is included in the private key for RSA, so it is probably using that. What are you trying to achieve? @v That&#39;s not a dupe, different issue."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1649114498,"post_id":71743133,"comment_id":126789531,"body_markdown":"Both libraries behave differently: Java, allows decryption with the public key (as part of a low level signing/verification process, where the private key is used for signing; as padding RSASSA-PKCS1-v1_5 is implicitly applied). Python, on the other hand, doesn&#39;t allow this. As described in the previous comment, Python encrypts with the public key contained in the private key (as padding RSAES-PKCS1-v1_5 is implicitly applied). Therefore your combination is not compatible (public key for both, encryption and decryption, and two divergent paddings).","body":"Both libraries behave differently: Java, allows decryption with the public key (as part of a low level signing/verification process, where the private key is used for signing; as padding RSASSA-PKCS1-v1_5 is implicitly applied). Python, on the other hand, doesn&#39;t allow this. As described in the previous comment, Python encrypts with the public key contained in the private key (as padding RSAES-PKCS1-v1_5 is implicitly applied). Therefore your combination is not compatible (public key for both, encryption and decryption, and two divergent paddings)."},{"owner":{"account_id":59873,"reputation":7919,"user_id":179034,"accept_rate":50,"display_name":"Mikhail.Mamaev"},"score":0,"creation_date":1649141962,"post_id":71743133,"comment_id":126793963,"body_markdown":"I&#39;m trying to acive secure communication between client and server applications. On client side I use public key for encryption and private key on the server side.  \nWhen the server side app responds the message supposed to be encrypted and client should be able to read it.\nI do not expose nor publish public key, it is embedded in application.\nPotentially I can switch public and private key between peers if the needful cannot be achieved with Python.","body":"I&#39;m trying to acive secure communication between client and server applications. On client side I use public key for encryption and private key on the server side.   When the server side app responds the message supposed to be encrypted and client should be able to read it. I do not expose nor publish public key, it is embedded in application. Potentially I can switch public and private key between peers if the needful cannot be achieved with Python."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1649147480,"post_id":71743133,"comment_id":126795907,"body_markdown":"The correct way is for each side to generate a key pair and exchange the public keys. Encryption uses the recipient&#39;s public key, so that only the recipient can decrypt with its own private key. Encryption with the private key is not supported by most libraries (like PyCryptodome), because decryption with the public key (which generally everyone can have) for the purpose of confidentiality is a contradiction in terms.","body":"The correct way is for each side to generate a key pair and exchange the public keys. Encryption uses the recipient&#39;s public key, so that only the recipient can decrypt with its own private key. Encryption with the private key is not supported by most libraries (like PyCryptodome), because decryption with the public key (which generally everyone can have) for the purpose of confidentiality is a contradiction in terms."}],"owner":{"account_id":59873,"reputation":7919,"user_id":179034,"accept_rate":50,"display_name":"Mikhail.Mamaev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649103664,"creation_date":1649102472,"question_id":71743133,"body_markdown":"I make RSA **encryption in python** with private key and cannot **decrypt in Java** with public key. Below is Python/Java source codes and exception.\r\nI tried multiple combinations with PKCS1_OAEP and hash algorythms but getting the same error.\r\n\r\nAt the same time encription / decription **within the same platform** works fine (e.g. encrypt in Java or Python with public key and decrypt with private and vice versa encrypt in Java or Python with private key and decrypt with public) \r\n\r\nJava version = 1.8, \r\nPython version = 3.10\r\n\r\n**Python**\r\n\r\n    import base64\r\n    from Crypto.PublicKey import RSA\r\n    from Crypto.Cipher import PKCS1_v1_5\r\n    \r\n    KEY = &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot; \\\r\n          &quot;MII...WI=&quot; \\\r\n          &quot;\\n-----END RSA PRIVATE KEY-----&quot;\r\n    \r\n    #import private key\r\n    priv_key = RSA.import_key(KEY)\r\n    rsa_cipher = PKCS1_v1_5.new(priv_key)\r\n    #encode text\r\n    enc_text = rsa_cipher.encrypt(&quot;Hello Stackoverflow&quot;.encode(&#39;utf-8&#39;))\r\n    enc_text_64 = base64.b64encode(cipher_text).decode(&quot;utf-8&quot;)\r\n    print(enc_text_64)\r\n\r\n**Java**\r\n\r\n    PublicKey pubKey = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(decodeBase64(PUBLIC_KEY))).getPublicKey();\r\n    \r\n    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;, new BouncyCastleProvider());\r\n    cipher.init(Cipher.DECRYPT_MODE, pubKey);        \r\n    String res = new String(cipher.doFinal(Base64.getMimeDecoder().decode(str)), &quot;utf-8&quot;);\r\n\r\n**Exception in Java**\r\n\r\n    org.bouncycastle.jcajce.provider.util.BadBlockException: unable to decrypt block\r\n    Caused by: org.bouncycastle.crypto.InvalidCipherTextException: block incorrect\r\n\t\r\n","title":"RSA encryption in Python unable to decrypt in Java","body":"<p>I make RSA <strong>encryption in python</strong> with private key and cannot <strong>decrypt in Java</strong> with public key. Below is Python/Java source codes and exception.\nI tried multiple combinations with PKCS1_OAEP and hash algorythms but getting the same error.</p>\n<p>At the same time encription / decription <strong>within the same platform</strong> works fine (e.g. encrypt in Java or Python with public key and decrypt with private and vice versa encrypt in Java or Python with private key and decrypt with public)</p>\n<p>Java version = 1.8,\nPython version = 3.10</p>\n<p><strong>Python</strong></p>\n<pre><code>import base64\nfrom Crypto.PublicKey import RSA\nfrom Crypto.Cipher import PKCS1_v1_5\n\nKEY = &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot; \\\n      &quot;MII...WI=&quot; \\\n      &quot;\\n-----END RSA PRIVATE KEY-----&quot;\n\n#import private key\npriv_key = RSA.import_key(KEY)\nrsa_cipher = PKCS1_v1_5.new(priv_key)\n#encode text\nenc_text = rsa_cipher.encrypt(&quot;Hello Stackoverflow&quot;.encode('utf-8'))\nenc_text_64 = base64.b64encode(cipher_text).decode(&quot;utf-8&quot;)\nprint(enc_text_64)\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>PublicKey pubKey = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(decodeBase64(PUBLIC_KEY))).getPublicKey();\n\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;, new BouncyCastleProvider());\ncipher.init(Cipher.DECRYPT_MODE, pubKey);        \nString res = new String(cipher.doFinal(Base64.getMimeDecoder().decode(str)), &quot;utf-8&quot;);\n</code></pre>\n<p><strong>Exception in Java</strong></p>\n<pre><code>org.bouncycastle.jcajce.provider.util.BadBlockException: unable to decrypt block\nCaused by: org.bouncycastle.crypto.InvalidCipherTextException: block incorrect\n</code></pre>\n"},{"tags":["java","passwords","special-characters"],"answers":[{"tags":[],"owner":{"account_id":24422841,"reputation":110,"user_id":18464679,"display_name":"ubw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649092958,"creation_date":1649092958,"answer_id":71741290,"question_id":71741186,"body_markdown":"You don&#39;t get any validaton errors when special characters are not entered because this is not what your check does:\r\n\r\n    if(specialCounter &gt; 1)\r\n        System.out.println(&quot;Password should contain only 1 special characters&quot;);\r\n\r\nYou are printing an error message when there are more than one special characters (which doesn&#39;t make sense). I suggest:\r\n\r\n    if(specialCounter &lt; 1)\r\n        System.out.println(&quot;Password should contain at least 1 special characters&quot;);                    \r\n                    ","title":"How can I check for special characters in password validation in Java?","body":"<p>You don't get any validaton errors when special characters are not entered because this is not what your check does:</p>\n<pre><code>if(specialCounter &gt; 1)\n    System.out.println(&quot;Password should contain only 1 special characters&quot;);\n</code></pre>\n<p>You are printing an error message when there are more than one special characters (which doesn't make sense). I suggest:</p>\n<pre><code>if(specialCounter &lt; 1)\n    System.out.println(&quot;Password should contain at least 1 special characters&quot;);                    \n                \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24504724,"reputation":26,"user_id":18419893,"display_name":"Romin Mart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649103610,"creation_date":1649103610,"answer_id":71743318,"question_id":71741186,"body_markdown":"What you should do this instead in this line :\r\n\r\n\r\n    if(specialCounter != 1)\r\n        System.out.println(&quot;Password should contain only 1 special characters&quot;);\r\n\r\n\r\nif it is not equal to 0, it will throw the exception. The != means not equal, so if it is less or above 1, It will do the error.","title":"How can I check for special characters in password validation in Java?","body":"<p>What you should do this instead in this line :</p>\n<pre><code>if(specialCounter != 1)\n    System.out.println(&quot;Password should contain only 1 special characters&quot;);\n</code></pre>\n<p>if it is not equal to 0, it will throw the exception. The != means not equal, so if it is less or above 1, It will do the error.</p>\n"}],"owner":{"account_id":6830909,"reputation":457,"user_id":5254942,"accept_rate":58,"display_name":"Kivan Ilangakoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71743318,"answer_count":2,"score":0,"last_activity_date":1649103610,"creation_date":1649092433,"question_id":71741186,"body_markdown":"I am trying to get the code to check for special characters entered, however, I am not getting any validation errors when special characters are not entered in the password. Is there a reason why special characters are not been identified? All the other password validation checks work fine\r\n\r\n    //package sampleProject;\r\n    import java.util.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class Lab7 {\r\n    \r\n          public static void main(String []args){\r\n             \r\n                 // Specify the maximum number of letters in a password\r\n                 final int MAX=10;\r\n                 int invalidCount = 0;                          \r\n             \r\n                 // Specifying the number of uppercase letters in password\r\n                 final int MIN_Uppercase=1;\r\n                 // Specifying the minimum lowercase letters in password\r\n                 final int NUM_Digits=2;\r\n                 // Specify the minimum number of special case letters\r\n                 final int Special=1;\r\n                 // Count number of uppercase letters in a password\r\n                 int uppercaseCounter=0;\r\n                 // Count digits in a password\r\n                 int digitCounter=0;\r\n                 // count special case letters in a password\r\n                 int specialCounter=0;            \r\n                        \r\n     System.out.println(&quot;Enter the password\\n&quot;);\r\n                \r\n     Scanner input = new Scanner(System.in);        \r\n                \r\n     String password = input.nextLine();\r\n                 \r\n                 for (int i=0; i &lt; password.length(); i++ ) {\r\n                        char c = password.charAt(i);\r\n                        if(Character.isUpperCase(c)) \r\n                              uppercaseCounter++;\r\n                        else if(Character.isDigit(c)) \r\n                              digitCounter++;     \r\n                         if(c == &#39;$&#39; || c == &#39;#&#39; || c == &#39;?&#39; || c == &#39;!&#39; || c == &#39;_&#39; || c == &#39;=&#39; || c == &#39;%&#39;){\r\n                          specialCounter++;\r\n                     }                    \r\n                 }\r\n                 \r\n                 if (password.length() &gt;= MAX &amp;&amp; uppercaseCounter &gt;= MIN_Uppercase &amp;&amp; specialCounter == 1 &amp;&amp; digitCounter == 2 || digitCounter == 3) { \r\n                        System.out.println(&quot;Valid Password&quot;);\r\n                 }\r\n                 else {\r\n                \t \tSystem.out.println(&quot;Your password does not contain the following:&quot;);            \t \t\r\n                \t \t\r\n                        if(password.length() &lt; MAX)\r\n                              System.out.println(&quot;Enter atleast 10 characters&quot;);\r\n                        if (uppercaseCounter &lt; MIN_Uppercase) \r\n                              System.out.println(&quot;Enter at least 1 uppercase character&quot;);\r\n                        if(digitCounter != 2 || digitCounter != 3) \r\n                              System.out.println(&quot;Enter either 2 or 3 digits&quot;);\r\n                        if(specialCounter &gt; 1)\r\n                              System.out.println(&quot;Password should contain only 1 special characters&quot;);                    \r\n                 }            \r\n    \t}\r\n    }","title":"How can I check for special characters in password validation in Java?","body":"<p>I am trying to get the code to check for special characters entered, however, I am not getting any validation errors when special characters are not entered in the password. Is there a reason why special characters are not been identified? All the other password validation checks work fine</p>\n<pre><code>//package sampleProject;\nimport java.util.*;\nimport java.util.Scanner;\n\npublic class Lab7 {\n\n      public static void main(String []args){\n         \n             // Specify the maximum number of letters in a password\n             final int MAX=10;\n             int invalidCount = 0;                          \n         \n             // Specifying the number of uppercase letters in password\n             final int MIN_Uppercase=1;\n             // Specifying the minimum lowercase letters in password\n             final int NUM_Digits=2;\n             // Specify the minimum number of special case letters\n             final int Special=1;\n             // Count number of uppercase letters in a password\n             int uppercaseCounter=0;\n             // Count digits in a password\n             int digitCounter=0;\n             // count special case letters in a password\n             int specialCounter=0;            \n                    \n System.out.println(&quot;Enter the password\\n&quot;);\n            \n Scanner input = new Scanner(System.in);        \n            \n String password = input.nextLine();\n             \n             for (int i=0; i &lt; password.length(); i++ ) {\n                    char c = password.charAt(i);\n                    if(Character.isUpperCase(c)) \n                          uppercaseCounter++;\n                    else if(Character.isDigit(c)) \n                          digitCounter++;     \n                     if(c == '$' || c == '#' || c == '?' || c == '!' || c == '_' || c == '=' || c == '%'){\n                      specialCounter++;\n                 }                    \n             }\n             \n             if (password.length() &gt;= MAX &amp;&amp; uppercaseCounter &gt;= MIN_Uppercase &amp;&amp; specialCounter == 1 &amp;&amp; digitCounter == 2 || digitCounter == 3) { \n                    System.out.println(&quot;Valid Password&quot;);\n             }\n             else {\n                    System.out.println(&quot;Your password does not contain the following:&quot;);                    \n                    \n                    if(password.length() &lt; MAX)\n                          System.out.println(&quot;Enter atleast 10 characters&quot;);\n                    if (uppercaseCounter &lt; MIN_Uppercase) \n                          System.out.println(&quot;Enter at least 1 uppercase character&quot;);\n                    if(digitCounter != 2 || digitCounter != 3) \n                          System.out.println(&quot;Enter either 2 or 3 digits&quot;);\n                    if(specialCounter &gt; 1)\n                          System.out.println(&quot;Password should contain only 1 special characters&quot;);                    \n             }            \n    }\n}\n</code></pre>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":22306698,"reputation":191,"user_id":16531281,"display_name":"Paola De Bartolo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649103475,"creation_date":1649103475,"answer_id":71743296,"question_id":71722954,"body_markdown":"Instead of using ```setText``` you could use ```setComponent``` and add a component to the joined columns header and then, you can easily style that component. Something like this:\r\n\r\n```\r\nDiv simpleNameCell = new Div();\r\nsimpleNameCell.setText(res.getSimpleName());\r\nsimpleNameCell.getElement().getStyle().set(&quot;text-align&quot;, &quot;center&quot;);\r\nheaderRow.join(nameColumn, statusColumn).setComponent(simpleNameCell);\r\n```","title":"How to center a HeaderRow in Vaadin 14?","body":"<p>Instead of using <code>setText</code> you could use <code>setComponent</code> and add a component to the joined columns header and then, you can easily style that component. Something like this:</p>\n<pre><code>Div simpleNameCell = new Div();\nsimpleNameCell.setText(res.getSimpleName());\nsimpleNameCell.getElement().getStyle().set(&quot;text-align&quot;, &quot;center&quot;);\nheaderRow.join(nameColumn, statusColumn).setComponent(simpleNameCell);\n</code></pre>\n"}],"owner":{"account_id":22184586,"reputation":31,"user_id":16427721,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649103475,"creation_date":1648959078,"question_id":71722954,"body_markdown":"I&#39;ve got a `HeaderRow` grouping a `Name` and `Status` column. The `HeaderRow` is named User and is currently positioned to the very left of a Grid. This is what it looks like now:\r\n\r\n            | User |\r\n            | Name | |Status|\r\n\r\nI would like the User header to be centered, like so:\r\n\r\n                 | User |\r\n            | Name | |Status|\r\n\r\nMy current code. Keep in mind that the statusLabel and resourceLink methods are irrelevant to the problem. \r\n\r\n    public Grid&lt;E&gt; loadGrid(Class&lt;? extends Resource&gt; res) {\r\n    \t\ttry {\r\n    \t\t\tGrid&lt;E&gt; grid = new Grid&lt;&gt;();\r\n    \t\t\tColumn&lt;E&gt; nameColumn = grid.addComponentColumn(E -&gt; resourceLink(E)).setHeader(&quot;Name&quot;).setWidth(&quot;50%&quot;)\r\n    \t\t\t\t\t.setFlexGrow(0).setTextAlign(ColumnTextAlign.CENTER);\r\n    \t\t\tColumn&lt;E&gt; statusColumn = grid.addComponentColumn(E -&gt; statusLabel(E)).setHeader(&quot;Status&quot;).setWidth(&quot;50%&quot;)\r\n    \t\t\t\t\t.setFlexGrow(0).setTextAlign(ColumnTextAlign.CENTER);\r\n    \t\t\tgrid.addClassName(&quot;availaboard-grid&quot;);\r\n    \t\t\tgrid.setAllRowsVisible(true);\r\n    \t\t\tgrid.setItems((Collection&lt;E&gt;) (db.loadResources(type)));\r\n    \r\n    \t\t\tgrid.addSelectionListener(selection -&gt; {\r\n    \t\t\t\tgrid.getSelectionModel().getFirstSelectedItem().ifPresent(item -&gt; {\r\n    \t\t\t\t\tSystem.out.println(item.getName());\r\n    \t\t\t\t});\r\n    \t\t\t});\r\n    \t\t\t\r\n    \t\t\tHeaderRow headerRow = grid.prependHeaderRow();\r\n    \t\t\theaderRow.join(nameColumn, statusColumn).setText(res.getSimpleName());\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\treturn grid;\r\n    \t\t} catch (IllegalArgumentException | SecurityException e) {\r\n    \r\n    \t\t}\r\n    \t\treturn null;\r\n    \r\n    \t}\r\n\r\nThanks!\r\n","title":"How to center a HeaderRow in Vaadin 14?","body":"<p>I've got a <code>HeaderRow</code> grouping a <code>Name</code> and <code>Status</code> column. The <code>HeaderRow</code> is named User and is currently positioned to the very left of a Grid. This is what it looks like now:</p>\n<pre><code>        | User |\n        | Name | |Status|\n</code></pre>\n<p>I would like the User header to be centered, like so:</p>\n<pre><code>             | User |\n        | Name | |Status|\n</code></pre>\n<p>My current code. Keep in mind that the statusLabel and resourceLink methods are irrelevant to the problem.</p>\n<pre><code>public Grid&lt;E&gt; loadGrid(Class&lt;? extends Resource&gt; res) {\n        try {\n            Grid&lt;E&gt; grid = new Grid&lt;&gt;();\n            Column&lt;E&gt; nameColumn = grid.addComponentColumn(E -&gt; resourceLink(E)).setHeader(&quot;Name&quot;).setWidth(&quot;50%&quot;)\n                    .setFlexGrow(0).setTextAlign(ColumnTextAlign.CENTER);\n            Column&lt;E&gt; statusColumn = grid.addComponentColumn(E -&gt; statusLabel(E)).setHeader(&quot;Status&quot;).setWidth(&quot;50%&quot;)\n                    .setFlexGrow(0).setTextAlign(ColumnTextAlign.CENTER);\n            grid.addClassName(&quot;availaboard-grid&quot;);\n            grid.setAllRowsVisible(true);\n            grid.setItems((Collection&lt;E&gt;) (db.loadResources(type)));\n\n            grid.addSelectionListener(selection -&gt; {\n                grid.getSelectionModel().getFirstSelectedItem().ifPresent(item -&gt; {\n                    System.out.println(item.getName());\n                });\n            });\n            \n            HeaderRow headerRow = grid.prependHeaderRow();\n            headerRow.join(nameColumn, statusColumn).setText(res.getSimpleName());\n        \n            \n            \n            return grid;\n        } catch (IllegalArgumentException | SecurityException e) {\n\n        }\n        return null;\n\n    }\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","while-loop"],"answers":[{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"v"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649103399,"creation_date":1649103399,"answer_id":71743282,"question_id":71743132,"body_markdown":"You can use `Thread.sleep()` to slow down the processing.\r\nE.g. `Thread.sleep(1000)` causes the current thread to suspend execution for a second (1000 ms). Can you use that method judiciously to put delays into the code? You can use [java.util.Random](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html) to generate random numbers.\r\n\r\n    Random random = new Random();\r\n\r\n    Thread.sleep((random.nextInt(6) + 1) * 1000);  // Delays from 1 - 6 secs\r\n\r\n\r\n","title":"Run each loop at a different time interval","body":"<p>You can use <code>Thread.sleep()</code> to slow down the processing.\nE.g. <code>Thread.sleep(1000)</code> causes the current thread to suspend execution for a second (1000 ms). Can you use that method judiciously to put delays into the code? You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">java.util.Random</a> to generate random numbers.</p>\n<pre><code>Random random = new Random();\n\nThread.sleep((random.nextInt(6) + 1) * 1000);  // Delays from 1 - 6 secs\n</code></pre>\n"}],"owner":{"account_id":18586802,"reputation":9,"user_id":13544973,"display_name":"Anthony Langley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71743282,"answer_count":1,"score":0,"last_activity_date":1649103399,"creation_date":1649102454,"question_id":71743132,"body_markdown":"I&#39;m currently working on a program that pits two simulated fighters against one another. The way I have it right now, each round is done and the output is printed all at once (virtually all at once because it is calculated so fast).\r\n\r\nHow would I take the below code and make it so that actions in the second loop occur in pseudo real time where it executes x amount of seconds where x is a random roll? Any suggestions or guidance would be great. I would even settle for the second while loop executing every three seconds or so. This is a prototype for now and the simulation will get more varied so reading the output may get more interesting.\r\n```\r\npublic static void fight(Character player1, Character player2, int roundMax){\r\n        player1.setTempHitPoints(player1.getHitPoints());\r\n        player2.setTempHitPoints(player2.getHitPoints());\r\n        int r = ROUND;\r\n        while(!isFightOver(player1, player2)){\r\n            roundTimer = 0;\r\n            System.out.println(&quot;================&quot;);\r\n            System.out.println(&quot;Round &quot; + r + &quot; FIGHT!&quot;);\r\n            System.out.println(&quot;================&quot;);\r\n            while(roundTimer &lt; roundMax &amp;&amp; !isFightOver(player1, player2)){\r\n                roundTimer = roundTimer + Commands.roll(10);\r\n                round(player1, player2);\r\n                timerPrint(roundTimer, roundMax);\r\n            }\r\n            System.out.println(&quot;================&quot;);\r\n            System.out.println(&quot;Round &quot; + r + &quot; OVER!&quot;);\r\n            System.out.println(&quot;================&quot;);\r\n            System.out.println(&quot;&quot;);\r\n\r\n            if(!isFightOver(player1, player2)){\r\n                Commands.rest(player1);\r\n                Commands.rest(player2);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n            r++;\r\n        }\r\n            declareWinner(player1, player2);\r\n    }\r\n```","title":"Run each loop at a different time interval","body":"<p>I'm currently working on a program that pits two simulated fighters against one another. The way I have it right now, each round is done and the output is printed all at once (virtually all at once because it is calculated so fast).</p>\n<p>How would I take the below code and make it so that actions in the second loop occur in pseudo real time where it executes x amount of seconds where x is a random roll? Any suggestions or guidance would be great. I would even settle for the second while loop executing every three seconds or so. This is a prototype for now and the simulation will get more varied so reading the output may get more interesting.</p>\n<pre><code>public static void fight(Character player1, Character player2, int roundMax){\n        player1.setTempHitPoints(player1.getHitPoints());\n        player2.setTempHitPoints(player2.getHitPoints());\n        int r = ROUND;\n        while(!isFightOver(player1, player2)){\n            roundTimer = 0;\n            System.out.println(&quot;================&quot;);\n            System.out.println(&quot;Round &quot; + r + &quot; FIGHT!&quot;);\n            System.out.println(&quot;================&quot;);\n            while(roundTimer &lt; roundMax &amp;&amp; !isFightOver(player1, player2)){\n                roundTimer = roundTimer + Commands.roll(10);\n                round(player1, player2);\n                timerPrint(roundTimer, roundMax);\n            }\n            System.out.println(&quot;================&quot;);\n            System.out.println(&quot;Round &quot; + r + &quot; OVER!&quot;);\n            System.out.println(&quot;================&quot;);\n            System.out.println(&quot;&quot;);\n\n            if(!isFightOver(player1, player2)){\n                Commands.rest(player1);\n                Commands.rest(player2);\n            }\n            System.out.println(&quot;&quot;);\n            r++;\n        }\n            declareWinner(player1, player2);\n    }\n</code></pre>\n"},{"tags":["java","gradle","buildpack","java-17","paketo"],"answers":[{"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649103275,"creation_date":1649103275,"answer_id":71743262,"question_id":71731658,"body_markdown":"I can&#39;t speak to the first builder, but for Paketo Buildpacks, you just need to set `BP_JVM_VERSION` and that&#39;ll tell the builder what version to use. It&#39;ll use Java 11 by default, so I think that&#39;s why you&#39;re getting Java 11.\r\n\r\nEx:  `pack build cool-app -e BP_JVM_VERSION=17`\r\n\r\nhttps://paketo.io/docs/howto/java/#install-a-specific-jvm-version\r\n\r\nThere is a [Gradle Sample App available here](https://github.com/paketo-buildpacks/samples/tree/main/java/gradle).\r\n\r\n-------\r\n\r\nI don&#39;t know why some things have been built with Java 17, but for the Paketo Java buildpack, you cannot build with one version and run with another version, the same version is always used for both build and run.\r\n\r\nThe only time I&#39;ve seen this happen is when I build locally on Java 17 and `pack build -p build/libs/app.jar`, forgetting to set `BP_JVM_VERSION` to `17`. In that case, it&#39;ll build from my locally compiled code which is from a newer Java version.\r\n\r\nIf you leave off the `-p` argument or have `-p` point to your Java source code, then you should always get a consistent build with the same version of Java at build and runtime.","title":"How do I enable a Cloud Native Buildpacks builder to detect my Gradle Java project&#39;s Java version?","body":"<p>I can't speak to the first builder, but for Paketo Buildpacks, you just need to set <code>BP_JVM_VERSION</code> and that'll tell the builder what version to use. It'll use Java 11 by default, so I think that's why you're getting Java 11.</p>\n<p>Ex:  <code>pack build cool-app -e BP_JVM_VERSION=17</code></p>\n<p><a href=\"https://paketo.io/docs/howto/java/#install-a-specific-jvm-version\" rel=\"nofollow noreferrer\">https://paketo.io/docs/howto/java/#install-a-specific-jvm-version</a></p>\n<p>There is a <a href=\"https://github.com/paketo-buildpacks/samples/tree/main/java/gradle\" rel=\"nofollow noreferrer\">Gradle Sample App available here</a>.</p>\n<hr />\n<p>I don't know why some things have been built with Java 17, but for the Paketo Java buildpack, you cannot build with one version and run with another version, the same version is always used for both build and run.</p>\n<p>The only time I've seen this happen is when I build locally on Java 17 and <code>pack build -p build/libs/app.jar</code>, forgetting to set <code>BP_JVM_VERSION</code> to <code>17</code>. In that case, it'll build from my locally compiled code which is from a newer Java version.</p>\n<p>If you leave off the <code>-p</code> argument or have <code>-p</code> point to your Java source code, then you should always get a consistent build with the same version of Java at build and runtime.</p>\n"}],"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71743262,"answer_count":1,"score":1,"last_activity_date":1649103275,"creation_date":1649042129,"question_id":71731658,"body_markdown":"I&#39;m having trouble getting either of the two Cloud Native Buildpacks builders I&#39;ve tried (`gcr.io/buildpacks/builder:v1` and `paketobuildpacks/builder:base`) to fully detect my desired Java version so that the right JVM is used to build my project and to run it. It seems to successfully detect my desired version as it completes the build step, but I notice in the logs during the build that it ends up downloading a version 11 JDK and I get an error when trying to run a container from the built image:\r\n\r\n```\r\nError: LinkageError occurred while loading main class com.mattwelke.javatests.JavalinPostgresJdbc\r\njava.lang.UnsupportedClassVersionError: com/mattwelke/javatests/JavalinPostgresJdbc has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n```\r\n\r\nThis error infers that it chose to use JDK 17 to build the class files but then JDK 11 to run them.\r\n\r\nMy project structure is the one produced by running `gradle init` and choosing &quot;application&quot; as the type of project to be created, except I moved the contents of `app` up into the root and deleted `settings.gradle`. I found that I had to do that in order for the first builder I tried to be able to detect it as a Gradle project in the first place. I also had to add `id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;` to the `plugins` section of `build.gradle`, otherwise the builder failed to build, with an error about not being able to find a main class.\r\n\r\nI added the following to `build.gradle` to indicate my preferred Java version for the project:\r\n\r\n```\r\njava {\r\n    toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n    }\r\n}\r\n```\r\n\r\nI thought that this might be something I&#39;m doing wrong, therefore being a good reason to post to Stack Overflow, instead of raising a GitHub issue in either of the repos for the two builders I tried, because I got the exact same error with both builders (the one from Google and the one from Paketo).","title":"How do I enable a Cloud Native Buildpacks builder to detect my Gradle Java project&#39;s Java version?","body":"<p>I'm having trouble getting either of the two Cloud Native Buildpacks builders I've tried (<code>gcr.io/buildpacks/builder:v1</code> and <code>paketobuildpacks/builder:base</code>) to fully detect my desired Java version so that the right JVM is used to build my project and to run it. It seems to successfully detect my desired version as it completes the build step, but I notice in the logs during the build that it ends up downloading a version 11 JDK and I get an error when trying to run a container from the built image:</p>\n<pre><code>Error: LinkageError occurred while loading main class com.mattwelke.javatests.JavalinPostgresJdbc\njava.lang.UnsupportedClassVersionError: com/mattwelke/javatests/JavalinPostgresJdbc has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n</code></pre>\n<p>This error infers that it chose to use JDK 17 to build the class files but then JDK 11 to run them.</p>\n<p>My project structure is the one produced by running <code>gradle init</code> and choosing &quot;application&quot; as the type of project to be created, except I moved the contents of <code>app</code> up into the root and deleted <code>settings.gradle</code>. I found that I had to do that in order for the first builder I tried to be able to detect it as a Gradle project in the first place. I also had to add <code>id 'com.github.johnrengelman.shadow' version '7.1.2'</code> to the <code>plugins</code> section of <code>build.gradle</code>, otherwise the builder failed to build, with an error about not being able to find a main class.</p>\n<p>I added the following to <code>build.gradle</code> to indicate my preferred Java version for the project:</p>\n<pre><code>java {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n</code></pre>\n<p>I thought that this might be something I'm doing wrong, therefore being a good reason to post to Stack Overflow, instead of raising a GitHub issue in either of the repos for the two builders I tried, because I got the exact same error with both builders (the one from Google and the one from Paketo).</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648896761,"post_id":71716820,"comment_id":126742613,"body_markdown":"Your code is working fine, please take a loot at it again","body":"Your code is working fine, please take a loot at it again"},{"owner":{"account_id":22355114,"reputation":13,"user_id":16572547,"display_name":"FineFree22"},"score":0,"creation_date":1648911957,"post_id":71716820,"comment_id":126745503,"body_markdown":"Thanks everyone for help, i&#39;m only learning and yall helped me a lot!","body":"Thanks everyone for help, i&#39;m only learning and yall helped me a lot!"}],"answers":[{"tags":[],"owner":{"account_id":7302869,"reputation":11,"user_id":5564904,"display_name":"Roko Parac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648896897,"creation_date":1648896897,"answer_id":71716918,"question_id":71716820,"body_markdown":"    public static void main(String[] args) {\r\n        int a[][] = {\r\n                {0, 1, 1, 0, 1, 0, 0, 1, 0},\r\n                {1, 0, 1, 1, 0, 0, 0, 1, 0},\r\n                {1, 0, 0, 1, 0, 1, 1, 0, 1},\r\n                {0, 1, 0, 0, 0, 1, 0, 0, 1},\r\n                {0, 0, 1, 1, 0, 0, 0, 0, 1},\r\n                {1, 0, 0, 0, 0, 0, 1, 1, 0},\r\n                {0, 0, 0, 0, 1, 1, 1, 0, 0}\r\n        };\r\n    \r\n        int rows = a.length;\r\n        int cols = a[0].length;\r\n    \r\n        int sumCol;\r\n        int minSumCol = 100000000; // arbitrary large value\r\n    \r\n        for (int i = 0; i &lt; cols; i++) {\r\n            sumCol = 0;\r\n            for (int j = 0; j &lt; rows; j++) {\r\n                sumCol = sumCol + a[j][i];\r\n            }\r\n            minSumCol = Math.min(minSumCol, sumCol);\r\n            System.out.println(&quot;Sum of &quot; + (i + 1) + &quot; column: &quot; + sumCol);\r\n        }\r\n        System.out.println(&quot;Min sum in the matrix is: &quot; + minSumCol);\r\n    }\r\n\r\nHi, your code is indeed correct. It does return 2 as the smallest value. This is the output that I got:\r\n\r\nSum of 1 column: 3\r\n\r\nSum of 2 column: 2\r\n\r\nSum of 3 column: 3\r\n\r\nSum of 4 column: 3\r\n\r\nSum of 5 column: 2\r\n\r\nSum of 6 column: 3\r\n\r\nSum of 7 column: 3\r\n\r\nSum of 8 column: 3\r\n\r\nSum of 9 column: 3\r\n\r\nMin sum in the matrix is: 2\r\n","title":"How do i get minimum sum of 2D Array in Java?","body":"<pre><code>public static void main(String[] args) {\n    int a[][] = {\n            {0, 1, 1, 0, 1, 0, 0, 1, 0},\n            {1, 0, 1, 1, 0, 0, 0, 1, 0},\n            {1, 0, 0, 1, 0, 1, 1, 0, 1},\n            {0, 1, 0, 0, 0, 1, 0, 0, 1},\n            {0, 0, 1, 1, 0, 0, 0, 0, 1},\n            {1, 0, 0, 0, 0, 0, 1, 1, 0},\n            {0, 0, 0, 0, 1, 1, 1, 0, 0}\n    };\n\n    int rows = a.length;\n    int cols = a[0].length;\n\n    int sumCol;\n    int minSumCol = 100000000; // arbitrary large value\n\n    for (int i = 0; i &lt; cols; i++) {\n        sumCol = 0;\n        for (int j = 0; j &lt; rows; j++) {\n            sumCol = sumCol + a[j][i];\n        }\n        minSumCol = Math.min(minSumCol, sumCol);\n        System.out.println(&quot;Sum of &quot; + (i + 1) + &quot; column: &quot; + sumCol);\n    }\n    System.out.println(&quot;Min sum in the matrix is: &quot; + minSumCol);\n}\n</code></pre>\n<p>Hi, your code is indeed correct. It does return 2 as the smallest value. This is the output that I got:</p>\n<p>Sum of 1 column: 3</p>\n<p>Sum of 2 column: 2</p>\n<p>Sum of 3 column: 3</p>\n<p>Sum of 4 column: 3</p>\n<p>Sum of 5 column: 2</p>\n<p>Sum of 6 column: 3</p>\n<p>Sum of 7 column: 3</p>\n<p>Sum of 8 column: 3</p>\n<p>Sum of 9 column: 3</p>\n<p>Min sum in the matrix is: 2</p>\n"}],"owner":{"account_id":22355114,"reputation":13,"user_id":16572547,"display_name":"FineFree22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649103208,"creation_date":1648895927,"question_id":71716820,"body_markdown":"I have this code, which calculates the sum of all rows in 2D array but I want to print the smallest sum of rows also.\r\n\r\nHere down is my code:\r\n\r\n```\r\npackage com.example;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class discrete2 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int a[][] = {\r\n                {0, 1, 1, 0, 1, 0, 0, 1, 0},\r\n                {1, 0, 1, 1, 0, 0, 0, 1, 0},\r\n                {1, 0, 0, 1, 0, 1, 1, 0, 1},\r\n                {0, 1, 0, 0, 0, 1, 0, 0, 1},\r\n                {0, 0, 1, 1, 0, 0, 0, 0, 1},\r\n                {1, 0, 0, 0, 0, 0, 1, 1, 0},\r\n                {0, 0, 0, 0, 1, 1, 1, 0, 0}\r\n        };\r\n\r\n        int rows = a.length;\r\n        int cols = a[0].length;\r\n\r\n        int sumCol;\r\n\r\n        for(int i = 0; i &lt; cols; i++){\r\n            sumCol = 0;\r\n            for(int j = 0; j &lt; rows; j++){\r\n                sumCol = sumCol + a[j][i];\r\n            }\r\n            System.out.println(&quot;Sum of &quot; + (i+1) +&quot; column: &quot; + sumCol);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to changing my code to have variable that remembers the smallest number but it&#39;s not working somehow and gives out 3, when it should be 2.","title":"How do i get minimum sum of 2D Array in Java?","body":"<p>I have this code, which calculates the sum of all rows in 2D array but I want to print the smallest sum of rows also.</p>\n<p>Here down is my code:</p>\n<pre><code>package com.example;\n\nimport java.util.Arrays;\n\npublic class discrete2 {\n\n    public static void main(String[] args) {\n\n        int a[][] = {\n                {0, 1, 1, 0, 1, 0, 0, 1, 0},\n                {1, 0, 1, 1, 0, 0, 0, 1, 0},\n                {1, 0, 0, 1, 0, 1, 1, 0, 1},\n                {0, 1, 0, 0, 0, 1, 0, 0, 1},\n                {0, 0, 1, 1, 0, 0, 0, 0, 1},\n                {1, 0, 0, 0, 0, 0, 1, 1, 0},\n                {0, 0, 0, 0, 1, 1, 1, 0, 0}\n        };\n\n        int rows = a.length;\n        int cols = a[0].length;\n\n        int sumCol;\n\n        for(int i = 0; i &lt; cols; i++){\n            sumCol = 0;\n            for(int j = 0; j &lt; rows; j++){\n                sumCol = sumCol + a[j][i];\n            }\n            System.out.println(&quot;Sum of &quot; + (i+1) +&quot; column: &quot; + sumCol);\n        }\n    }\n}\n</code></pre>\n<p>I tried to changing my code to have variable that remembers the smallest number but it's not working somehow and gives out 3, when it should be 2.</p>\n"},{"tags":["java","jvm","keytool"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1409294396,"post_id":8980364,"comment_id":39919666,"body_markdown":"You need to import a certificate into your JVM *truststore,* unless its a signed CSR, in which case you should be importing it into your *own* keystore, and you must already know where that is, otherwise you wouldn&#39;t have been able to generate the keypair or the CSR.","body":"You need to import a certificate into your JVM <i>truststore,</i> unless its a signed CSR, in which case you should be importing it into your <i>own</i> keystore, and you must already know where that is, otherwise you wouldn&#39;t have been able to generate the keypair or the CSR."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":2,"up_vote_count":163,"is_accepted":false,"score":161,"last_activity_date":1415898921,"creation_date":1327364061,"answer_id":8980460,"question_id":8980364,"body_markdown":"Your keystore will be in your `JAVA_HOME---&gt; JRE --&gt;lib---&gt; security--&gt; cacerts`.  You need to check where your JAVA_HOME is configured, possibly one of these places, \r\n\r\n 1. Computer---&gt;Advanced --&gt; Environment variables---&gt; JAVA_HOME\r\n \r\n 2. Your server startup batch files.\r\n\r\nIn your import command -keystore cacerts (give full path to the above JRE here instead of just saying cacerts).","title":"How do I find out what keystore my JVM is using?","body":"<p>Your keystore will be in your <code>JAVA_HOME---&gt; JRE --&gt;lib---&gt; security--&gt; cacerts</code>.  You need to check where your JAVA_HOME is configured, possibly one of these places, </p>\n\n<ol>\n<li><p>Computer--->Advanced --> Environment variables---> JAVA_HOME</p></li>\n<li><p>Your server startup batch files.</p></li>\n</ol>\n\n<p>In your import command -keystore cacerts (give full path to the above JRE here instead of just saying cacerts).</p>\n"},{"tags":[],"owner":{"account_id":443300,"reputation":15543,"user_id":834424,"accept_rate":91,"display_name":"dbrin"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1649102368,"creation_date":1327364275,"answer_id":8980479,"question_id":8980364,"body_markdown":"**Keystore Location**\r\n\r\nEach keytool command has a `-keystore` option for specifying the name and location of the persistent keystore file for the keystore managed by keytool. The keystore is by default stored in a file named `.keystore` in the user&#39;s home directory, as determined by the &quot;user.home&quot; system property. Given user name uName, the &quot;user.home&quot; property value defaults to\r\n\r\n    C:\\Users\\uName on Windows 7 systems\r\n    C:\\Winnt\\Profiles\\uName on multi-user Windows NT systems\r\n    C:\\Windows\\Profiles\\uName on multi-user Windows 95 systems\r\n    C:\\Windows on single-user Windows 95 systems\r\n\r\nThus, if the user name is &quot;cathy&quot;, &quot;user.home&quot; defaults to\r\n\r\n    C:\\Users\\cathy on Windows 7 systems\r\n    C:\\Winnt\\Profiles\\cathy on multi-user Windows NT systems\r\n    C:\\Windows\\Profiles\\cathy on multi-user Windows 95 systems\r\n\r\n[https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html#importing-a-certificate-for-the-ca][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html#importing-a-certificate-for-the-ca","title":"How do I find out what keystore my JVM is using?","body":"<p><strong>Keystore Location</strong></p>\n<p>Each keytool command has a <code>-keystore</code> option for specifying the name and location of the persistent keystore file for the keystore managed by keytool. The keystore is by default stored in a file named <code>.keystore</code> in the user's home directory, as determined by the &quot;user.home&quot; system property. Given user name uName, the &quot;user.home&quot; property value defaults to</p>\n<pre><code>C:\\Users\\uName on Windows 7 systems\nC:\\Winnt\\Profiles\\uName on multi-user Windows NT systems\nC:\\Windows\\Profiles\\uName on multi-user Windows 95 systems\nC:\\Windows on single-user Windows 95 systems\n</code></pre>\n<p>Thus, if the user name is &quot;cathy&quot;, &quot;user.home&quot; defaults to</p>\n<pre><code>C:\\Users\\cathy on Windows 7 systems\nC:\\Winnt\\Profiles\\cathy on multi-user Windows NT systems\nC:\\Windows\\Profiles\\cathy on multi-user Windows 95 systems\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html#importing-a-certificate-for-the-ca\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html#importing-a-certificate-for-the-ca</a></p>\n"},{"tags":[],"owner":{"account_id":156936,"reputation":3579,"user_id":374532,"display_name":"Sharan Rajendran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1386327101,"creation_date":1341510636,"answer_id":11349768,"question_id":8980364,"body_markdown":"As DimtryB mentioned, by default the keystore is under the user directory. But if you are trying to update the `cacerts` file, so that the JVM can pick the keys, then you will have to update the `cacerts` file under `jre/lib/security`. You can also view the keys by executing the command `keytool -list -keystore cacerts` to see if your certificate is added. ","title":"How do I find out what keystore my JVM is using?","body":"<p>As DimtryB mentioned, by default the keystore is under the user directory. But if you are trying to update the <code>cacerts</code> file, so that the JVM can pick the keys, then you will have to update the <code>cacerts</code> file under <code>jre/lib/security</code>. You can also view the keys by executing the command <code>keytool -list -keystore cacerts</code> to see if your certificate is added. </p>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1355318977,"creation_date":1354718475,"answer_id":13725671,"question_id":8980364,"body_markdown":"This works for me:\r\n\r\n&lt;!-- language: lang-sh --&gt;\r\n&lt;pre&gt;\r\n#! /bin/bash\r\n\r\nCACERTS=$(readlink -e $(dirname $(readlink -e $(which keytool)))/../lib/security/cacerts)\r\n\r\nif keytool -list -keystore $CACERTS -storepass changeit &gt; /dev/null ; then\r\n    echo $CACERTS\r\nelse\r\n    echo &#39;Can not find cacerts file.&#39; &gt;&amp;2\r\n    exit 1\r\nfi\r\n&lt;/pre&gt;\r\n\r\nOnly for Linux. My Solaris has no readlink. In the end I used this Perl-Script:\r\n\r\n&lt;!-- language: lang-perl --&gt;\r\n&lt;pre&gt;\r\n#! /usr/bin/env perl\r\nuse strict;\r\nuse warnings;\r\nuse Cwd qw(realpath);\r\n$_ = realpath((grep {-x &amp;&amp; -f} map {&quot;$_/keytool&quot;} split(&#39;:&#39;, $ENV{PATH}))[0]);\r\ndie &quot;Can not find keytool&quot; unless defined $_;\r\nmy $keytool = $_;\r\nprint &quot;Using &#39;$keytool&#39;.\\n&quot;;\r\ns/keytool$//;\r\n$_ = realpath($_ . &#39;../lib/security/cacerts&#39;);\r\ndie &quot;Can not find cacerts&quot; unless -f $_;\r\nmy $cacerts = $_;\r\nprint &quot;Importing into &#39;$cacerts&#39;.\\n&quot;;\r\n`$keytool -list -keystore &quot;$cacerts&quot; -storepass changeit`;\r\ndie &quot;Can not read key container&quot; unless $? == 0;\r\nexit if $ARGV[0] eq &#39;-d&#39;;\r\nforeach (@ARGV) {\r\n    my $cert = $_;\r\n    s/\\.[^.]+$//;\r\n    my $alias = $_;\r\n    print &quot;Importing &#39;$cert&#39; as &#39;$alias&#39;.\\n&quot;;\r\n    `keytool -importcert -file &quot;$cert&quot; -alias &quot;$alias&quot; -keystore &quot;$cacerts&quot; -storepass changeit`;\r\n    warn &quot;Can not import certificate: $?&quot; unless $? == 0;\r\n}\r\n&lt;/pre&gt;","title":"How do I find out what keystore my JVM is using?","body":"<p>This works for me:</p>\n\n<pre class=\"lang-sh prettyprint-override\">\n#! /bin/bash\n\nCACERTS=$(readlink -e $(dirname $(readlink -e $(which keytool)))/../lib/security/cacerts)\n\nif keytool -list -keystore $CACERTS -storepass changeit > /dev/null ; then\n    echo $CACERTS\nelse\n    echo 'Can not find cacerts file.' >&2\n    exit 1\nfi\n</pre>\n\n<p>Only for Linux. My Solaris has no readlink. In the end I used this Perl-Script:</p>\n\n<pre class=\"lang-perl prettyprint-override\">\n#! /usr/bin/env perl\nuse strict;\nuse warnings;\nuse Cwd qw(realpath);\n$_ = realpath((grep {-x && -f} map {\"$_/keytool\"} split(':', $ENV{PATH}))[0]);\ndie \"Can not find keytool\" unless defined $_;\nmy $keytool = $_;\nprint \"Using '$keytool'.\\n\";\ns/keytool$//;\n$_ = realpath($_ . '../lib/security/cacerts');\ndie \"Can not find cacerts\" unless -f $_;\nmy $cacerts = $_;\nprint \"Importing into '$cacerts'.\\n\";\n`$keytool -list -keystore \"$cacerts\" -storepass changeit`;\ndie \"Can not read key container\" unless $? == 0;\nexit if $ARGV[0] eq '-d';\nforeach (@ARGV) {\n    my $cert = $_;\n    s/\\.[^.]+$//;\n    my $alias = $_;\n    print \"Importing '$cert' as '$alias'.\\n\";\n    `keytool -importcert -file \"$cert\" -alias \"$alias\" -keystore \"$cacerts\" -storepass changeit`;\n    warn \"Can not import certificate: $?\" unless $? == 0;\n}\n</pre>\n"},{"tags":[],"owner":{"account_id":799227,"reputation":4289,"user_id":1118703,"accept_rate":67,"display_name":"Evans Y."},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1540709903,"creation_date":1384140923,"answer_id":19898415,"question_id":8980364,"body_markdown":"You can find it in your &quot;Home&quot; directory:\r\n\r\nOn Windows 7:\r\n\r\n    C:\\Users\\&lt;YOUR_ACCOUNT&gt;\\.keystore\r\n\r\nOn Linux (Ubuntu):\r\n\r\n    /home/&lt;YOUR_ACCOUNT&gt;/.keystore","title":"How do I find out what keystore my JVM is using?","body":"<p>You can find it in your \"Home\" directory:</p>\n\n<p>On Windows 7:</p>\n\n<pre><code>C:\\Users\\&lt;YOUR_ACCOUNT&gt;\\.keystore\n</code></pre>\n\n<p>On Linux (Ubuntu):</p>\n\n<pre><code>/home/&lt;YOUR_ACCOUNT&gt;/.keystore\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6067116,"reputation":1,"user_id":4737030,"display_name":"Nicolas de Jong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445864788,"creation_date":1445864788,"answer_id":33346551,"question_id":8980364,"body_markdown":"We encountered this issue on a Tomcat running from a jre directory that was (almost fully) removed after an automatic jre update, so that the running jre could no longer find jre.../lib/security/cacerts because it no longer existed.\r\n\r\nRestarting Tomcat (after changing the configuration to run from the different jre location) fixed the problem.","title":"How do I find out what keystore my JVM is using?","body":"<p>We encountered this issue on a Tomcat running from a jre directory that was (almost fully) removed after an automatic jre update, so that the running jre could no longer find jre.../lib/security/cacerts because it no longer existed.</p>\n\n<p>Restarting Tomcat (after changing the configuration to run from the different jre location) fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":5306113,"reputation":3722,"user_id":4233951,"accept_rate":56,"display_name":"atlas_scoffed"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1478046310,"creation_date":1478046310,"answer_id":40370627,"question_id":8980364,"body_markdown":"Mac OS X 10.12 with Java 1.8:\r\n\r\n$JAVA_HOME/jre/lib/security\r\n\r\n    cd $JAVA_HOME\r\n\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home\r\n\r\nFrom there it&#39;s in:\r\n\r\n    ./jre/lib/security\r\n\r\nI have a cacerts keystore in there.\r\n\r\nTo specify this as a VM option:\r\n\r\n    -Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit\r\n\r\nI&#39;m not saying this is the correct way (Why doesn&#39;t java know to look within JAVA_HOME?), but this is what I had to do to get it working.\r\n","title":"How do I find out what keystore my JVM is using?","body":"<p>Mac OS X 10.12 with Java 1.8:</p>\n\n<p>$JAVA_HOME/jre/lib/security</p>\n\n<pre><code>cd $JAVA_HOME\n</code></pre>\n\n<p>/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home</p>\n\n<p>From there it's in:</p>\n\n<pre><code>./jre/lib/security\n</code></pre>\n\n<p>I have a cacerts keystore in there.</p>\n\n<p>To specify this as a VM option:</p>\n\n<pre><code>-Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>I'm not saying this is the correct way (Why doesn't java know to look within JAVA_HOME?), but this is what I had to do to get it working.</p>\n"},{"tags":[],"owner":{"account_id":10045083,"reputation":448,"user_id":7426774,"display_name":"VSh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551734251,"creation_date":1551734251,"answer_id":54991695,"question_id":8980364,"body_markdown":"In addition to all answers above:\r\n\r\nIf updating the cacerts file in JRE directory doesn&#39;t help, try to update it in JDK. \r\n\r\n**C:\\Program Files\\Java\\jdk1.8.0_192\\jre\\lib\\security**","title":"How do I find out what keystore my JVM is using?","body":"<p>In addition to all answers above:</p>\n\n<p>If updating the cacerts file in JRE directory doesn't help, try to update it in JDK. </p>\n\n<p><strong>C:\\Program Files\\Java\\jdk1.8.0_192\\jre\\lib\\security</strong></p>\n"},{"tags":[],"owner":{"account_id":3441364,"reputation":602,"user_id":2883267,"display_name":"Patrick Beard"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1556155627,"creation_date":1556155627,"answer_id":55840594,"question_id":8980364,"body_markdown":"On Debian, using openjdk version &quot;1.8.0_212&quot;, I found cacerts here:\r\n\r\n     /etc/ssl/certs/java/cacerts\r\n\r\nSure would be handy if there was a standard command that would print out this path.","title":"How do I find out what keystore my JVM is using?","body":"<p>On Debian, using openjdk version \"1.8.0_212\", I found cacerts here:</p>\n\n<pre><code> /etc/ssl/certs/java/cacerts\n</code></pre>\n\n<p>Sure would be handy if there was a standard command that would print out this path.</p>\n"},{"tags":[],"owner":{"account_id":6402290,"reputation":12668,"user_id":4964553,"display_name":"jonashackt"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1566982136,"creation_date":1566982136,"answer_id":57688426,"question_id":8980364,"body_markdown":"For me using the [official OpenJDK 12 Docker image](https://hub.docker.com/_/openjdk), the location of the Java keystore was:\r\n\r\n    /usr/java/openjdk-12/lib/security/cacerts","title":"How do I find out what keystore my JVM is using?","body":"<p>For me using the <a href=\"https://hub.docker.com/_/openjdk\" rel=\"noreferrer\">official OpenJDK 12 Docker image</a>, the location of the Java keystore was:</p>\n\n<pre><code>/usr/java/openjdk-12/lib/security/cacerts\n</code></pre>\n"}],"owner":{"account_id":126889,"reputation":11185,"user_id":323698,"accept_rate":78,"display_name":"Strong Like Bull"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582650,"favorite_count":0,"down_vote_count":1,"up_vote_count":161,"answer_count":10,"score":160,"last_activity_date":1649102368,"creation_date":1327363244,"question_id":8980364,"body_markdown":"I need to import a certificate into my JVM keystore. I am using the following:\r\n\r\n    keytool -import -alias daldap -file somecert.cer\r\n\r\n\r\nso I would need to probably change my call into something like:\r\n\r\n    keytool -import -alias daldap -file somecert.cer -keystore cacerts storepass changeit","title":"How do I find out what keystore my JVM is using?","body":"<p>I need to import a certificate into my JVM keystore. I am using the following:</p>\n\n<pre><code>keytool -import -alias daldap -file somecert.cer\n</code></pre>\n\n<p>so I would need to probably change my call into something like:</p>\n\n<pre><code>keytool -import -alias daldap -file somecert.cer -keystore cacerts storepass changeit\n</code></pre>\n"},{"tags":["java","eclipse","uml","prototype","papyrus"],"comments":[{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1648843579,"post_id":71707656,"comment_id":126735611,"body_markdown":"Is it the output from Eclipse which you don&#39;t understand? Then how about &quot;Error messages from Eclipse when creating UML&quot; or whatever (I don&#39;t know Eclipse)?","body":"Is it the output from Eclipse which you don&#39;t understand? Then how about &quot;Error messages from Eclipse when creating UML&quot; or whatever (I don&#39;t know Eclipse)?"},{"owner":{"account_id":3804693,"reputation":2622,"user_id":3157428,"accept_rate":88,"display_name":"Ruli"},"score":0,"creation_date":1648896006,"post_id":71707656,"comment_id":126742491,"body_markdown":"there are no errors, it seems the output is correct, I simply can&#39;t understand how the uml package works, how am I supposed to do something like &quot;select one of the diagrams contained in UML and analyze it&#39;s elements one by one&quot;. The output I get seems to have some structure I can&#39;t understand and I couldn&#39;t find any resources pointing me how to work with it.","body":"there are no errors, it seems the output is correct, I simply can&#39;t understand how the uml package works, how am I supposed to do something like &quot;select one of the diagrams contained in UML and analyze it&#39;s elements one by one&quot;. The output I get seems to have some structure I can&#39;t understand and I couldn&#39;t find any resources pointing me how to work with it."}],"answers":[{"tags":[],"owner":{"account_id":3804693,"reputation":2622,"user_id":3157428,"accept_rate":88,"display_name":"Ruli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649102006,"creation_date":1649102006,"answer_id":71743068,"question_id":71707656,"body_markdown":"Studying the docs, looking here and there on forums I was able to write some basic parser for the UML file. Right now it is parsing only a single element of state machine diagram, has unfinished list of possible attr names and just prints out the names and values, but I am adding it here if soomebody ever was looking for such code as it is hard to find some examples. It is possible that the way I am parsing it is not 100% correct, but it seems to be working. \r\n\r\n\r\n```java\r\nimport org.eclipse.emf.common.util.TreeIterator;\r\nimport org.eclipse.emf.common.util.URI;\r\nimport org.eclipse.emf.ecore.EObject;\r\nimport org.eclipse.emf.ecore.resource.Resource;\r\nimport org.eclipse.emf.ecore.resource.ResourceSet;\r\nimport org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;\r\nimport org.eclipse.emf.ecore.util.BasicFeatureMap;\r\nimport org.eclipse.uml2.uml.UMLPackage;\r\nimport org.eclipse.uml2.uml.resource.UMLResource;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Loader {\r\n\r\n    public Loader(){\r\n        List&lt;String&gt; statemachine = Arrays.asList(&quot;Transition&quot;, &quot;State&quot;, &quot;Pseudostate&quot;, &quot;FinalState&quot;);\r\n        List&lt;String&gt; usecase = Arrays.asList(&quot;Actor&quot;, &quot;UseCase&quot;, &quot;Include&quot;, &quot;ExtensionPoint&quot;, &quot;Extend&quot;, &quot;Generalization&quot;, &quot;Association&quot;, &quot;Property&quot;);\r\n        List&lt;String&gt; classdiag = Arrays.asList(&quot;Class&quot;, &quot;Property&quot;, &quot;PrimitiveType&quot;, &quot;LiteralInteger&quot;, &quot;LiteralUnlimitedNatural&quot;,&quot;Association&quot;, &quot;Generalization&quot;, &quot;PrimitiveType&quot;);\r\n        //default behaviour\r\n        ResourceSet set = new ResourceSetImpl();\r\n        set.getPackageRegistry().put(UMLPackage.eNS_URI, UMLPackage.eINSTANCE);\r\n        set.getResourceFactoryRegistry().getExtensionToFactoryMap()\r\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\r\n        Resource.Factory.Registry.INSTANCE.getExtensionToFactoryMap()\r\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\r\n\r\n        Resource res = set.getResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;), true);\r\n\r\n        boolean classd = false;\r\n        boolean usecased = false;\r\n        boolean stated = false;\r\n        for (\r\n                TreeIterator&lt;EObject&gt; i = res.getAllContents();\r\n                i.hasNext();\r\n        ) {\r\n            EObject current = i.next();\r\n            try {\r\n                if(!stated &amp; current.eClass().getName().equals(&quot;StateMachine&quot;)){\r\n                    System.out.println(&quot;--------------------------------------------&quot;);\r\n                    classd = false;\r\n                    usecased = false;\r\n                    stated = true;\r\n                    System.out.println(&quot;State machine diagram found with these elements: &quot;);\r\n                }\r\n                else if(!usecased &amp; current.eClass().getName().equals(&quot;Interaction&quot;)){\r\n                    System.out.println(&quot;--------------------------------------------&quot;);\r\n                    classd = false;\r\n                    usecased = true;\r\n                    stated = false;\r\n                    System.out.println(&quot;Use-case diagram found with these elements: &quot;);\r\n                }\r\n                else if(!classd &amp; current.eClass().getName().equals(&quot;Class&quot;)){\r\n                    System.out.println(&quot;--------------------------------------------&quot;);\r\n                    classd = true;\r\n                    usecased = false;\r\n                    stated = false;\r\n                    System.out.println(&quot;Class diagram found with these elements: &quot;);\r\n                }\r\n                else if (statemachine.contains(current.eClass().getName())){\r\n                    System.out.println(current.eClass().getName() + &quot; detected as a state machine element&quot;);\r\n                    if (current.eClass().getName().equals(&quot;Transition&quot;)){\r\n                        BasicFeatureMap m = (BasicFeatureMap)current.eGet(current.eClass().getEStructuralFeature ( &quot;anyAttribute&quot; ));\r\n                        for(int elems=0;elems&lt;m.basicList().size();elems++){\r\n                            System.out.println(&quot;The attr&#39;s name: &quot;+m.basicList().get(elems).toString().split(&quot;=&quot;)[0]);\r\n                            System.out.println(&quot;The attr&#39;s value: &quot;+m.basicList().get(elems).getValue());\r\n                        }\r\n                    }\r\n                }\r\n                else if (usecase.contains(current.eClass().getName())){\r\n                    System.out.println(current.eClass().getName() + &quot; detected as a use-case element&quot;);\r\n                }\r\n                else if (classd &amp; classdiag.contains(current.eClass().getName())){\r\n                    System.out.println(current.eClass().getName() + &quot; detected as a class diagram element&quot;);\r\n                }\r\n                else {\r\n                    //System.out.println(current);\r\n                    System.out.println(current.eClass().getName() + &quot; - detected elements not contained in any diagram keywords&quot;);\r\n                }\r\n            }catch(Exception e) {System.out.println(e);}\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe output follows:\r\n\r\n    Model - detected elements not contained in any diagram keywords\r\n    PackageImport - detected elements not contained in any diagram keywords\r\n    Model - detected elements not contained in any diagram keywords\r\n    --------------------------------------------\r\n    State machine diagram found with these elements: \r\n    Region - detected elements not contained in any diagram keywords\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: __KptIH08EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _7Rd1EH08EeyJJLSm_hhhpA\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: name\r\n    The attr&#39;s value: InsertCardNo\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: _7Rd1EH08EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _89NlMH08EeyJJLSm_hhhpA\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: name\r\n    The attr&#39;s value: InsertPassword\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: _89NlMH08EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _BNzQoH09EeyJJLSm_hhhpA\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: name\r\n    The attr&#39;s value: [invalid_InputData]\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: _BNzQoH09EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _7Rd1EH08EeyJJLSm_hhhpA\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: _BNzQoH09EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _GwWTMH09EeyJJLSm_hhhpA\r\n    State detected as a state machine element\r\n    State detected as a state machine element\r\n    Pseudostate detected as a state machine element\r\n    State detected as a state machine element\r\n    FinalState detected as a state machine element\r\n    --------------------------------------------\r\n    Use-case diagram found with these elements: \r\n    Actor detected as a use-case element\r\n    UseCase detected as a use-case element\r\n    Include detected as a use-case element\r\n    UseCase detected as a use-case element\r\n    ExtensionPoint detected as a use-case element\r\n    UseCase detected as a use-case element\r\n    Extend detected as a use-case element\r\n    UseCase detected as a use-case element\r\n    Generalization detected as a use-case element\r\n    ...\r\n\r\n","title":"Parse .uml file with eclipse uml2","body":"<p>Studying the docs, looking here and there on forums I was able to write some basic parser for the UML file. Right now it is parsing only a single element of state machine diagram, has unfinished list of possible attr names and just prints out the names and values, but I am adding it here if soomebody ever was looking for such code as it is hard to find some examples. It is possible that the way I am parsing it is not 100% correct, but it seems to be working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.emf.common.util.TreeIterator;\nimport org.eclipse.emf.common.util.URI;\nimport org.eclipse.emf.ecore.EObject;\nimport org.eclipse.emf.ecore.resource.Resource;\nimport org.eclipse.emf.ecore.resource.ResourceSet;\nimport org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;\nimport org.eclipse.emf.ecore.util.BasicFeatureMap;\nimport org.eclipse.uml2.uml.UMLPackage;\nimport org.eclipse.uml2.uml.resource.UMLResource;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Loader {\n\n    public Loader(){\n        List&lt;String&gt; statemachine = Arrays.asList(&quot;Transition&quot;, &quot;State&quot;, &quot;Pseudostate&quot;, &quot;FinalState&quot;);\n        List&lt;String&gt; usecase = Arrays.asList(&quot;Actor&quot;, &quot;UseCase&quot;, &quot;Include&quot;, &quot;ExtensionPoint&quot;, &quot;Extend&quot;, &quot;Generalization&quot;, &quot;Association&quot;, &quot;Property&quot;);\n        List&lt;String&gt; classdiag = Arrays.asList(&quot;Class&quot;, &quot;Property&quot;, &quot;PrimitiveType&quot;, &quot;LiteralInteger&quot;, &quot;LiteralUnlimitedNatural&quot;,&quot;Association&quot;, &quot;Generalization&quot;, &quot;PrimitiveType&quot;);\n        //default behaviour\n        ResourceSet set = new ResourceSetImpl();\n        set.getPackageRegistry().put(UMLPackage.eNS_URI, UMLPackage.eINSTANCE);\n        set.getResourceFactoryRegistry().getExtensionToFactoryMap()\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\n        Resource.Factory.Registry.INSTANCE.getExtensionToFactoryMap()\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\n\n        Resource res = set.getResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;), true);\n\n        boolean classd = false;\n        boolean usecased = false;\n        boolean stated = false;\n        for (\n                TreeIterator&lt;EObject&gt; i = res.getAllContents();\n                i.hasNext();\n        ) {\n            EObject current = i.next();\n            try {\n                if(!stated &amp; current.eClass().getName().equals(&quot;StateMachine&quot;)){\n                    System.out.println(&quot;--------------------------------------------&quot;);\n                    classd = false;\n                    usecased = false;\n                    stated = true;\n                    System.out.println(&quot;State machine diagram found with these elements: &quot;);\n                }\n                else if(!usecased &amp; current.eClass().getName().equals(&quot;Interaction&quot;)){\n                    System.out.println(&quot;--------------------------------------------&quot;);\n                    classd = false;\n                    usecased = true;\n                    stated = false;\n                    System.out.println(&quot;Use-case diagram found with these elements: &quot;);\n                }\n                else if(!classd &amp; current.eClass().getName().equals(&quot;Class&quot;)){\n                    System.out.println(&quot;--------------------------------------------&quot;);\n                    classd = true;\n                    usecased = false;\n                    stated = false;\n                    System.out.println(&quot;Class diagram found with these elements: &quot;);\n                }\n                else if (statemachine.contains(current.eClass().getName())){\n                    System.out.println(current.eClass().getName() + &quot; detected as a state machine element&quot;);\n                    if (current.eClass().getName().equals(&quot;Transition&quot;)){\n                        BasicFeatureMap m = (BasicFeatureMap)current.eGet(current.eClass().getEStructuralFeature ( &quot;anyAttribute&quot; ));\n                        for(int elems=0;elems&lt;m.basicList().size();elems++){\n                            System.out.println(&quot;The attr's name: &quot;+m.basicList().get(elems).toString().split(&quot;=&quot;)[0]);\n                            System.out.println(&quot;The attr's value: &quot;+m.basicList().get(elems).getValue());\n                        }\n                    }\n                }\n                else if (usecase.contains(current.eClass().getName())){\n                    System.out.println(current.eClass().getName() + &quot; detected as a use-case element&quot;);\n                }\n                else if (classd &amp; classdiag.contains(current.eClass().getName())){\n                    System.out.println(current.eClass().getName() + &quot; detected as a class diagram element&quot;);\n                }\n                else {\n                    //System.out.println(current);\n                    System.out.println(current.eClass().getName() + &quot; - detected elements not contained in any diagram keywords&quot;);\n                }\n            }catch(Exception e) {System.out.println(e);}\n        }\n    }\n\n}\n</code></pre>\n<p>The output follows:</p>\n<pre><code>Model - detected elements not contained in any diagram keywords\nPackageImport - detected elements not contained in any diagram keywords\nModel - detected elements not contained in any diagram keywords\n--------------------------------------------\nState machine diagram found with these elements: \nRegion - detected elements not contained in any diagram keywords\nTransition detected as a state machine element\nThe attr's name: source\nThe attr's value: __KptIH08EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _7Rd1EH08EeyJJLSm_hhhpA\nTransition detected as a state machine element\nThe attr's name: name\nThe attr's value: InsertCardNo\nThe attr's name: source\nThe attr's value: _7Rd1EH08EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _89NlMH08EeyJJLSm_hhhpA\nTransition detected as a state machine element\nThe attr's name: name\nThe attr's value: InsertPassword\nThe attr's name: source\nThe attr's value: _89NlMH08EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _BNzQoH09EeyJJLSm_hhhpA\nTransition detected as a state machine element\nThe attr's name: name\nThe attr's value: [invalid_InputData]\nThe attr's name: source\nThe attr's value: _BNzQoH09EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _7Rd1EH08EeyJJLSm_hhhpA\nTransition detected as a state machine element\nThe attr's name: source\nThe attr's value: _BNzQoH09EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _GwWTMH09EeyJJLSm_hhhpA\nState detected as a state machine element\nState detected as a state machine element\nPseudostate detected as a state machine element\nState detected as a state machine element\nFinalState detected as a state machine element\n--------------------------------------------\nUse-case diagram found with these elements: \nActor detected as a use-case element\nUseCase detected as a use-case element\nInclude detected as a use-case element\nUseCase detected as a use-case element\nExtensionPoint detected as a use-case element\nUseCase detected as a use-case element\nExtend detected as a use-case element\nUseCase detected as a use-case element\nGeneralization detected as a use-case element\n...\n</code></pre>\n"}],"owner":{"account_id":3804693,"reputation":2622,"user_id":3157428,"accept_rate":88,"display_name":"Ruli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71743068,"answer_count":1,"score":-1,"last_activity_date":1649102135,"creation_date":1648819551,"question_id":71707656,"body_markdown":"I am working on a task where I need to convert UML diagram to a prototype in any language that I choose. I have created a diagram through eclypse papyrus and saved it as .uml file. It contains Use-case, state machine diagram and class diagram. Combining those should be enough to create a prototype - states represent screens and their follow-up. Class diagram provides info what each screen contains and use-case diagram provides info how is it to be used. I then wish to load the uml file to a java code. After a short research, eclipse uml2 package seem to be what I need - a tool for manipulating UML elements. Thus I managed to load the UML file and somehow print it part by part:\r\n\r\n    import org.eclipse.emf.common.util.TreeIterator;\r\n    import org.eclipse.emf.common.util.URI;\r\n    import org.eclipse.emf.ecore.EObject;\r\n    import org.eclipse.emf.ecore.resource.Resource;\r\n    import org.eclipse.emf.ecore.resource.ResourceSet;\r\n    import org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;\r\n    import org.eclipse.emf.ecore.util.EcoreUtil;\r\n    import org.eclipse.uml2.uml.NamedElement;\r\n    import org.eclipse.uml2.uml.UMLPackage;\r\n    import org.eclipse.uml2.uml.resource.UMLResource;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.Iterator;\r\n    \r\n    public class Loader {\r\n    \r\n        public Loader(){\r\n            //default behaviour\r\n            ResourceSet set = new ResourceSetImpl();\r\n            set.getPackageRegistry().put(UMLPackage.eNS_URI, UMLPackage.eINSTANCE);\r\n            set.getResourceFactoryRegistry().getExtensionToFactoryMap()\r\n                    .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\r\n            Resource.Factory.Registry.INSTANCE.getExtensionToFactoryMap()\r\n                    .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\r\n    \r\n            Resource res = set.getResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;), true);\r\n            Resource model = set.createResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;));\r\n    \r\n            for (TreeIterator&lt;EObject&gt; stuffInModel = res.getAllContents();\r\n                 stuffInModel.hasNext();) {\r\n                EObject eObject = stuffInModel.next();\r\n                System.out.println(&quot;--------------------------------------------&quot;);\r\n                System.out.println(eObject.eContents());\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nHowever, this produces the following output (part of it):\r\n\r\n    first result ommited for size\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@dd3b207 (eProxyURI: pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#_0 eClass: org.eclipse.emf.ecore.impl.EClassImpl@641147d0 (name: Model) (instanceClassName: null) (abstract: false, interface: false))]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@731f8236 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@255b53dc (name: Region) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6b53e23f (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=__KptIH08EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@3b2c72c2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertCardNo, source=_7Rd1EH08EeyJJLSm_hhhpA, target=_89NlMH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@491666ad (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertPassword, source=_89NlMH08EeyJJLSm_hhhpA, target=_BNzQoH09EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@176d53b2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=[invalid_InputData], source=_BNzQoH09EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@971d0d8 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=_BNzQoH09EeyJJLSm_hhhpA, target=_GwWTMH09EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@2b4a2ec7 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S1]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@51b7e5df (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S2]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@18a70f16 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@62e136d3 (name: Pseudostate) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Init]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@c8e4bb0 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S3]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6279cee3 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@4206a205 (name: FinalState) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Final State]), ecore.xml.type:text=\r\n        ], anyAttribute: [name=Region1])]\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6b53e23f (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=__KptIH08EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@3b2c72c2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertCardNo, source=_7Rd1EH08EeyJJLSm_hhhpA, target=_89NlMH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@491666ad (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertPassword, source=_89NlMH08EeyJJLSm_hhhpA, target=_BNzQoH09EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@176d53b2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=[invalid_InputData], source=_BNzQoH09EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@971d0d8 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=_BNzQoH09EeyJJLSm_hhhpA, target=_GwWTMH09EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@2b4a2ec7 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S1]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@51b7e5df (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S2]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@18a70f16 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@62e136d3 (name: Pseudostate) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Init]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@c8e4bb0 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S3]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6279cee3 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@4206a205 (name: FinalState) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Final State])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@61009542 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@77e9807f (name: Include) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [addition=_7NZC0H07EeyJJLSm_hhhpA])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@44a664f2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@7f9fcf7f (name: ExtensionPoint) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=ExtensionPoint1])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@145eaa29 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@15bb6bea (name: Extend) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [extendedCase=_7NZC0H07EeyJJLSm_hhhpA, extensionLocation=_A3uvcH08EeyJJLSm_hhhpA])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@41ee392b (eClass: org.eclipse.emf.ecore.impl.EClassImpl@1e67a849 (name: Generalization) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [general=_2gOwIH07EeyJJLSm_hhhpA])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@36f0f1be (eClass: org.eclipse.emf.ecore.impl.EClassImpl@1e67a849 (name: Generalization) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [general=_2gOwIH07EeyJJLSm_hhhpA])]\r\n    --------------------------------------------\r\n\r\nI cannot find clear description for this, how can I manipulate these objects? I need to determine which one is of what type (Eg. class, graph edge, actor, etc.) and according to that, create a UI representation - for example for a single state create a single screen. All I can find is commercial software converting UML to code, no opensource projects I could take inspiration from. Can somebody provide an example how to parse UML elements from .uml file and possibly process it (for examples, println is totally OK). Maybe it is described somewhere but I haven&#39;t found?","title":"Parse .uml file with eclipse uml2","body":"<p>I am working on a task where I need to convert UML diagram to a prototype in any language that I choose. I have created a diagram through eclypse papyrus and saved it as .uml file. It contains Use-case, state machine diagram and class diagram. Combining those should be enough to create a prototype - states represent screens and their follow-up. Class diagram provides info what each screen contains and use-case diagram provides info how is it to be used. I then wish to load the uml file to a java code. After a short research, eclipse uml2 package seem to be what I need - a tool for manipulating UML elements. Thus I managed to load the UML file and somehow print it part by part:</p>\n<pre><code>import org.eclipse.emf.common.util.TreeIterator;\nimport org.eclipse.emf.common.util.URI;\nimport org.eclipse.emf.ecore.EObject;\nimport org.eclipse.emf.ecore.resource.Resource;\nimport org.eclipse.emf.ecore.resource.ResourceSet;\nimport org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;\nimport org.eclipse.emf.ecore.util.EcoreUtil;\nimport org.eclipse.uml2.uml.NamedElement;\nimport org.eclipse.uml2.uml.UMLPackage;\nimport org.eclipse.uml2.uml.resource.UMLResource;\n\nimport java.util.Collection;\nimport java.util.Iterator;\n\npublic class Loader {\n\n    public Loader(){\n        //default behaviour\n        ResourceSet set = new ResourceSetImpl();\n        set.getPackageRegistry().put(UMLPackage.eNS_URI, UMLPackage.eINSTANCE);\n        set.getResourceFactoryRegistry().getExtensionToFactoryMap()\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\n        Resource.Factory.Registry.INSTANCE.getExtensionToFactoryMap()\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\n\n        Resource res = set.getResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;), true);\n        Resource model = set.createResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;));\n\n        for (TreeIterator&lt;EObject&gt; stuffInModel = res.getAllContents();\n             stuffInModel.hasNext();) {\n            EObject eObject = stuffInModel.next();\n            System.out.println(&quot;--------------------------------------------&quot;);\n            System.out.println(eObject.eContents());\n\n        }\n    }\n}\n</code></pre>\n<p>However, this produces the following output (part of it):</p>\n<pre><code>first result ommited for size\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@dd3b207 (eProxyURI: pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#_0 eClass: org.eclipse.emf.ecore.impl.EClassImpl@641147d0 (name: Model) (instanceClassName: null) (abstract: false, interface: false))]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@731f8236 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@255b53dc (name: Region) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6b53e23f (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=__KptIH08EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@3b2c72c2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertCardNo, source=_7Rd1EH08EeyJJLSm_hhhpA, target=_89NlMH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@491666ad (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertPassword, source=_89NlMH08EeyJJLSm_hhhpA, target=_BNzQoH09EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@176d53b2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=[invalid_InputData], source=_BNzQoH09EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@971d0d8 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=_BNzQoH09EeyJJLSm_hhhpA, target=_GwWTMH09EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@2b4a2ec7 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S1]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@51b7e5df (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S2]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@18a70f16 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@62e136d3 (name: Pseudostate) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Init]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@c8e4bb0 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S3]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6279cee3 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@4206a205 (name: FinalState) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Final State]), ecore.xml.type:text=\n    ], anyAttribute: [name=Region1])]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6b53e23f (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=__KptIH08EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@3b2c72c2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertCardNo, source=_7Rd1EH08EeyJJLSm_hhhpA, target=_89NlMH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@491666ad (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertPassword, source=_89NlMH08EeyJJLSm_hhhpA, target=_BNzQoH09EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@176d53b2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=[invalid_InputData], source=_BNzQoH09EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@971d0d8 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=_BNzQoH09EeyJJLSm_hhhpA, target=_GwWTMH09EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@2b4a2ec7 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S1]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@51b7e5df (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S2]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@18a70f16 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@62e136d3 (name: Pseudostate) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Init]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@c8e4bb0 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S3]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6279cee3 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@4206a205 (name: FinalState) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Final State])]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@61009542 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@77e9807f (name: Include) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [addition=_7NZC0H07EeyJJLSm_hhhpA])]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@44a664f2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@7f9fcf7f (name: ExtensionPoint) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=ExtensionPoint1])]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@145eaa29 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@15bb6bea (name: Extend) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [extendedCase=_7NZC0H07EeyJJLSm_hhhpA, extensionLocation=_A3uvcH08EeyJJLSm_hhhpA])]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@41ee392b (eClass: org.eclipse.emf.ecore.impl.EClassImpl@1e67a849 (name: Generalization) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [general=_2gOwIH07EeyJJLSm_hhhpA])]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@36f0f1be (eClass: org.eclipse.emf.ecore.impl.EClassImpl@1e67a849 (name: Generalization) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [general=_2gOwIH07EeyJJLSm_hhhpA])]\n--------------------------------------------\n</code></pre>\n<p>I cannot find clear description for this, how can I manipulate these objects? I need to determine which one is of what type (Eg. class, graph edge, actor, etc.) and according to that, create a UI representation - for example for a single state create a single screen. All I can find is commercial software converting UML to code, no opensource projects I could take inspiration from. Can somebody provide an example how to parse UML elements from .uml file and possibly process it (for examples, println is totally OK). Maybe it is described somewhere but I haven't found?</p>\n"},{"tags":["java","constraints","gurobi","objective-function"],"answers":[{"tags":[],"owner":{"account_id":200642,"reputation":5503,"user_id":446610,"display_name":"Greg Glockner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649101443,"creation_date":1649101443,"answer_id":71742957,"question_id":71737759,"body_markdown":"I don&#39;t have a full program to test, but I suspect the issue is the second parameter in these two methods:\r\n\r\n```\r\nmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\r\n// ...\r\nmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\r\n```\r\n\r\nThey should be:\r\n\r\n```\r\nmodel.addConstr(w, GRB.GREATER_EQUAL, expr);\r\n// ...\r\nmodel.addConstr(w, GRB.GREATER_EQUAL, expr);\r\n```\r\n\r\nAlso, it&#39;s better not to label constraints alike; if you want to label them, then use a unique identifier for each instance.","title":"How can I insert this objective function min W with its two constraints on Gurobi using Java? How do I initialise w?","body":"<p>I don't have a full program to test, but I suspect the issue is the second parameter in these two methods:</p>\n<pre><code>model.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\n// ...\nmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\n</code></pre>\n<p>They should be:</p>\n<pre><code>model.addConstr(w, GRB.GREATER_EQUAL, expr);\n// ...\nmodel.addConstr(w, GRB.GREATER_EQUAL, expr);\n</code></pre>\n<p>Also, it's better not to label constraints alike; if you want to label them, then use a unique identifier for each instance.</p>\n"}],"owner":{"account_id":24779378,"reputation":21,"user_id":18662868,"display_name":"Paolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649101443,"creation_date":1649077451,"question_id":71737759,"body_markdown":"I tried to initialise like this but it&#39;s wrong\r\n\r\n    GRBVar w = null;\r\n\t\tGRBLinExpr obj = new GRBLinExpr();\r\n\t\tobj.addTerm(1, w);\r\n\t\tmodel.setObjective(obj);\r\n\t\tmodel.set(GRB.IntAttr.ModelSense, GRB.MINIMIZE);\r\n\r\nThese are the two constraints\r\n\r\n w &gt;= xir pir - xik pik\r\n\r\n\t\tGRBLinExpr expr = new GRBLinExpr();\r\n\t\tfor(int i=0; i&lt;M; i++) {\r\n\t\t\tfor(int r=0; r&lt;4; r++) {\r\n\t\t\t\texpr.addTerm(pij[i][r], xij[i][r]);\r\n\t\t\t}\r\n\t\t\tfor(int n=4; n&lt;K; n++) {\r\n\t\t\t\texpr.addTerm(-pij[i][n], xij[i][n]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\r\n\t\t\r\nw &gt;= xik pik - xir pir\r\n\r\n\t\texpr = new GRBLinExpr();\r\n\t\tfor(int i=0; i&lt;M; i++) {\r\n\t\t\tfor(int n=4; n&lt;K; n++) {\r\n\t\t\t\texpr.addTerm(pij[i][n], xij[i][n]);\r\n\t\t\t}\r\n\t\t\tfor(int r=0; r&lt;4; r++) {\r\n\t\t\t\texpr.addTerm(-pij[i][r], xij[i][r]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);","title":"How can I insert this objective function min W with its two constraints on Gurobi using Java? How do I initialise w?","body":"<p>I tried to initialise like this but it's wrong</p>\n<pre><code>GRBVar w = null;\n    GRBLinExpr obj = new GRBLinExpr();\n    obj.addTerm(1, w);\n    model.setObjective(obj);\n    model.set(GRB.IntAttr.ModelSense, GRB.MINIMIZE);\n</code></pre>\n<p>These are the two constraints</p>\n<p>w &gt;= xir pir - xik pik</p>\n<pre><code>    GRBLinExpr expr = new GRBLinExpr();\n    for(int i=0; i&lt;M; i++) {\n        for(int r=0; r&lt;4; r++) {\n            expr.addTerm(pij[i][r], xij[i][r]);\n        }\n        for(int n=4; n&lt;K; n++) {\n            expr.addTerm(-pij[i][n], xij[i][n]);\n        }\n    }\n    model.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\n    \n</code></pre>\n<p>w &gt;= xik pik - xir pir</p>\n<pre><code>    expr = new GRBLinExpr();\n    for(int i=0; i&lt;M; i++) {\n        for(int n=4; n&lt;K; n++) {\n            expr.addTerm(pij[i][n], xij[i][n]);\n        }\n        for(int r=0; r&lt;4; r++) {\n            expr.addTerm(-pij[i][r], xij[i][r]);\n        }\n    }\n    model.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\n</code></pre>\n"},{"tags":["java","leaflet","gis"],"comments":[{"owner":{"account_id":6615307,"reputation":48703,"user_id":5108796,"display_name":"ghybs"},"score":0,"creation_date":1649121300,"post_id":71742868,"comment_id":126790601,"body_markdown":"Do you mean you not only want a search by point name, but also by popup content and progress/symbol status?","body":"Do you mean you not only want a search by point name, but also by popup content and progress/symbol status?"},{"owner":{"account_id":18061990,"reputation":3,"user_id":13128899,"display_name":"Bj&#246;rn Bauhofer"},"score":0,"creation_date":1649191327,"post_id":71742868,"comment_id":126812505,"body_markdown":"Search by name is enough","body":"Search by name is enough"}],"owner":{"account_id":18061990,"reputation":3,"user_id":13128899,"display_name":"Bj&#246;rn Bauhofer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649100960,"creation_date":1649100960,"question_id":71742868,"body_markdown":"I have a leaflet project with around 150 points that should be displayed. The idea is to show the progress of a project, therefore there are 257 symbols which could be assigned to a point. And there is also a pop up which display additional infos. \r\nThe &quot;database&quot; is an excel sheet which gets updated regularly. So I have a python script which updates my leaflet script. This part is running fine and does what it should.\r\n\r\nCurrent code\r\n\r\n    var map = L.map(&#39;map&#39;).setView([47.0, 9.0], 13);\r\n     L.tileLayer(&#39;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#39;, {\r\n        maxZoom: 19,\r\n        attribution: &#39;&amp;copy; &lt;a href=&quot;https://openstreetmap.org/copyright&quot;&gt;OpenStreetMap contributors&lt;/a&gt;&#39;\r\n      }).addTo(map);\r\n\r\n        // show the scale bar on the lower left corner\r\n        L.control.scale({imperial: false, metric: true}).addTo(map);\r\n\r\n        var symb_A2_22_1 = L.icon({\r\n        iconUrl: &#39;folder/KB-11.png&#39;,\r\n        iconSize:     [42, 20]\r\n        });\r\n        \r\n        var A2_22_1 = L.marker([47.4678,8.7049],{icon: symb_A2_22_1}).addTo(map)\r\n                                  \r\n        A2_22_1.bindPopup(&quot;&lt;b&gt;A2-22-1&lt;/b&gt;&lt;br&gt;x&lt;br&gt;PWD&lt;br&gt;x&lt;br&gt;x&quot;)\r\n        \r\n\r\n        var symb_A2_22_100 = L.icon({\r\n        iconUrl: &#39;folder/RS-11.png&#39;,\r\n        iconSize:     [42, 20]\r\n        });\r\n        \r\n        var A2_22_100 = L.marker([47.4708,8.7059],{icon: symb_A2_22_100}).addTo(map)\r\n                                  \r\n        A2_22_100.bindPopup(&quot;&lt;b&gt;A2-22-100&lt;/b&gt;&lt;br&gt;x&lt;br&gt;PWD&lt;br&gt;x&lt;br&gt;x)\r\n\r\nNow I want to add a search option to search by the name of the point. I already searched for solutions. I think I have to bring all my points into one layer. So the here (https://stackoverflow.com/questions/27756050/putting-multiple-markers-in-layer-group )presented solution seems to be a good idea (create markers, add to layer, and then add the layer to the map and not the single markers). \r\n\r\nHowever how I get the popup content and my custom symbol into the list?\r\n\r\nOr do you have another solution to make my markers searchable?\r\n","title":"Leaflet search options for multiple markers","body":"<p>I have a leaflet project with around 150 points that should be displayed. The idea is to show the progress of a project, therefore there are 257 symbols which could be assigned to a point. And there is also a pop up which display additional infos.\nThe &quot;database&quot; is an excel sheet which gets updated regularly. So I have a python script which updates my leaflet script. This part is running fine and does what it should.</p>\n<p>Current code</p>\n<pre><code>var map = L.map('map').setView([47.0, 9.0], 13);\n L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    maxZoom: 19,\n    attribution: '&amp;copy; &lt;a href=&quot;https://openstreetmap.org/copyright&quot;&gt;OpenStreetMap contributors&lt;/a&gt;'\n  }).addTo(map);\n\n    // show the scale bar on the lower left corner\n    L.control.scale({imperial: false, metric: true}).addTo(map);\n\n    var symb_A2_22_1 = L.icon({\n    iconUrl: 'folder/KB-11.png',\n    iconSize:     [42, 20]\n    });\n    \n    var A2_22_1 = L.marker([47.4678,8.7049],{icon: symb_A2_22_1}).addTo(map)\n                              \n    A2_22_1.bindPopup(&quot;&lt;b&gt;A2-22-1&lt;/b&gt;&lt;br&gt;x&lt;br&gt;PWD&lt;br&gt;x&lt;br&gt;x&quot;)\n    \n\n    var symb_A2_22_100 = L.icon({\n    iconUrl: 'folder/RS-11.png',\n    iconSize:     [42, 20]\n    });\n    \n    var A2_22_100 = L.marker([47.4708,8.7059],{icon: symb_A2_22_100}).addTo(map)\n                              \n    A2_22_100.bindPopup(&quot;&lt;b&gt;A2-22-100&lt;/b&gt;&lt;br&gt;x&lt;br&gt;PWD&lt;br&gt;x&lt;br&gt;x)\n</code></pre>\n<p>Now I want to add a search option to search by the name of the point. I already searched for solutions. I think I have to bring all my points into one layer. So the here (<a href=\"https://stackoverflow.com/questions/27756050/putting-multiple-markers-in-layer-group\">Putting multiple markers in Layer Group</a> )presented solution seems to be a good idea (create markers, add to layer, and then add the layer to the map and not the single markers).</p>\n<p>However how I get the popup content and my custom symbol into the list?</p>\n<p>Or do you have another solution to make my markers searchable?</p>\n"},{"tags":["java","unit-testing","spring-boot","spring-data-jpa","spy"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1533809157,"post_id":51763756,"comment_id":90487042,"body_markdown":"Why so complex? Annotate the field you want to spy upon with `@SpyBean` instead of trying to shoehorn a dedicated configuration class into place. See https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-mocking-beans","body":"Why so complex? Annotate the field you want to spy upon with <code>@SpyBean</code> instead of trying to shoehorn a dedicated configuration class into place. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-mocking-beans\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":14121720,"reputation":211,"user_id":10202040,"display_name":"a-kraschitzer"},"score":0,"creation_date":1533814592,"post_id":51763756,"comment_id":90490414,"body_markdown":"Using `@SpyBean` instead of `@Autowire` on aRepository results in the same behavior, it becomes mock but not a spy.","body":"Using <code>@SpyBean</code> instead of <code>@Autowire</code> on aRepository results in the same behavior, it becomes mock but not a spy."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1533991542,"post_id":51763756,"comment_id":90555968,"body_markdown":"Why go to this effort and complexity to test around a repository when https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html spring boot can help you out?  Additionally this requires you to understand the underlying complexities of a repository and how it works.","body":"Why go to this effort and complexity to test around a repository when <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a> spring boot can help you out?  Additionally this requires you to understand the underlying complexities of a repository and how it works."},{"owner":{"account_id":5010755,"reputation":229,"user_id":4027107,"display_name":"Mihaita Tinta"},"score":1,"creation_date":1545399080,"post_id":51763756,"comment_id":94617709,"body_markdown":"There is an opened bug: https://github.com/spring-projects/spring-boot/issues/7033","body":"There is an opened bug: <a href=\"https://github.com/spring-projects/spring-boot/issues/7033\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/7033</a>"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1642502062,"post_id":51763756,"comment_id":125081786,"body_markdown":"did you try this one? https://stackoverflow.com/questions/62698827/spring-aop-aspectj-afterreturning-advice-wrongly-executed-while-mockingbefo/62809074#62809074","body":"did you try this one? <a href=\"https://stackoverflow.com/questions/62698827/spring-aop-aspectj-afterreturning-advice-wrongly-executed-while-mockingbefo/62809074#62809074\" title=\"spring aop aspectj afterreturning advice wrongly executed while mockingbefo\">stackoverflow.com/questions/62698827/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1649100927,"creation_date":1547732444,"answer_id":54237213,"question_id":51763756,"body_markdown":"You should use [`@SpyBean`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/SpyBean.html) from `spring-boot-test`. \r\n\r\nThis used to be broken (per Spring Boot issue [#7033](http://github.com/spring-projects/spring-boot/issues/7033)) but it&#39;s now been fixed and supported since Spring Boot `2.5.3`.\r\n\r\nIf you still getting this error and can&#39;t update your Spring Boot version, you might want to try the work-around proposed by @Mateusz Zajc in [his answer](https://stackoverflow.com/a/68632497) to this question.\r\n","title":"Mockito cannot create Spy of @Autowired Spring-Data Repository","body":"<p>You should use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/SpyBean.html\" rel=\"nofollow noreferrer\"><code>@SpyBean</code></a> from <code>spring-boot-test</code>.</p>\n<p>This used to be broken (per Spring Boot issue <a href=\"http://github.com/spring-projects/spring-boot/issues/7033\" rel=\"nofollow noreferrer\">#7033</a>) but it's now been fixed and supported since Spring Boot <code>2.5.3</code>.</p>\n<p>If you still getting this error and can't update your Spring Boot version, you might want to try the work-around proposed by @Mateusz Zajc in <a href=\"https://stackoverflow.com/a/68632497\">his answer</a> to this question.</p>\n"},{"tags":[],"owner":{"account_id":2162167,"reputation":146,"user_id":1916100,"display_name":"Mateusz Zajc"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1627978301,"creation_date":1627978301,"answer_id":68632497,"question_id":51763756,"body_markdown":"**@SpyBean** now **works** with spring data repositories since spring boot version **2.5.3**\r\n\r\nIf you can&#39;t upgrade you can work around this by instantiating your spy as such in the test method body:\r\n\r\n    var yourSpy = Mockito.mock(FooRepository.class, AdditionalAnswers.delegatesTo(real))","title":"Mockito cannot create Spy of @Autowired Spring-Data Repository","body":"<p><strong>@SpyBean</strong> now <strong>works</strong> with spring data repositories since spring boot version <strong>2.5.3</strong></p>\n<p>If you can't upgrade you can work around this by instantiating your spy as such in the test method body:</p>\n<pre><code>var yourSpy = Mockito.mock(FooRepository.class, AdditionalAnswers.delegatesTo(real))\n</code></pre>\n"}],"owner":{"account_id":14121720,"reputation":211,"user_id":10202040,"display_name":"a-kraschitzer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15291,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":2,"score":21,"last_activity_date":1649100927,"creation_date":1533807894,"question_id":51763756,"body_markdown":"I am trying to overlay my whole test environment with Mockito.spy functionality so whenever I want i can stub a method but all other calls go to default functionality.\r\nThis worked very well with the Service layer but I have problems with the Repository layer.\r\n\r\nMy setup is as follows:\r\n\r\nMockito - 2.15.0\r\nSpring - 5.0.8\r\nSpringBoot - 2.0.4\r\n\r\nRepository:\r\n\r\n    public interface ARepository extends CrudRepository&lt;ADBO, Long&gt; {}\r\n\r\nService:\r\n\r\n    @Service\r\n    public class AService {\r\n\r\n        @Autowired\r\n        ARepository aRepository;\r\n\r\n        public ADBO getById(long id) {\r\n            return aRepository.findById(id).orElse(null);\r\n        }\r\n\r\n        public Iterable&lt;ADBO&gt; getAll() {\r\n            return aRepository.findAll();\r\n        }\r\n    }\r\n\r\nThe configuration for the spy:\r\n\r\n    @Profile(&quot;enableSpy&quot;)\r\n    @Configuration\r\n    public class SpyConfig {\r\n\r\n        @Bean\r\n        @Primary\r\n        public ARepository aRepository() {\r\n            return Mockito.spy(ARepository.class);\r\n        }\r\n    }\r\n\r\nAnd my test class:\r\n\r\n    @ActiveProfiles(&quot;enableSpy&quot;)\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class AServiceTest {\r\n\r\n        @Autowired\r\n        AService aService;\r\n\r\n        @Autowired\r\n        ARepository aRepository;\r\n\r\n        @Test\r\n        public void test() {\r\n            ADBO foo = new ADBO();\r\n            foo.setTestValue(&quot;bar&quot;);\r\n            aRepository.save(foo);\r\n\r\n            doReturn(Optional.of(new ADBO())).when(aRepository).findById(1L);\r\n            System.out.println(&quot;result (1):&quot; + aService.getById(1));\r\n\r\n            System.out.println(&quot;result all:&quot; + aService.getAll());\r\n\r\n        }\r\n    }\r\n\r\nNow there are three possible outcomes to this test:\r\n\r\n - aRepository is neither a mock nor a spy:  \r\n   `org.mockito.exceptions.misusing.NotAMockException: \r\n    Argument passed to when() is not a mock!\r\n    Example of corr...`\r\n - aRepository is a mock but not a spy (this is the result I get):  \r\n    `result (1):ADBO(id=null, testValue=null)\r\n    result all:[]`\r\n\r\n - aRepository is a spy (this is what I want):  \r\n    `result (1):ADBO(id=null, testValue=null)\r\n    result all:[ADBO(id=1, testValue=bar)]`\r\n\r\nI attribute this behavior to the fact that the spring instantiation of the repository is more complex in the background and the repository is not correctly instantiated when calling `Mockito.spy(ARepository.class)`.\r\n\r\nI have also tried autowireing the proper instance into the Configuration and calling `Mockito.spy()` with the @Autowired object.\r\n\r\nThis results in:\r\n\r\n    Cannot mock/spy class com.sun.proxy.$Proxy75\r\n    Mockito cannot mock/spy because :\r\n     - final class\r\n\r\nAccording to my research Mockito can mock and spy final classes since v2.0.0.\r\n\r\nCalling `Mockito.mockingDetails(aRepository).isSpy()` returns `true` which leads me to think the object in the background was not correctly instantiated.\r\n\r\n**Finally my question:**\r\n\r\nHow do I get a spy instance of a Spring-Data Repository in my UnitTest with @Autowired?","title":"Mockito cannot create Spy of @Autowired Spring-Data Repository","body":"<p>I am trying to overlay my whole test environment with Mockito.spy functionality so whenever I want i can stub a method but all other calls go to default functionality.\nThis worked very well with the Service layer but I have problems with the Repository layer.</p>\n\n<p>My setup is as follows:</p>\n\n<p>Mockito - 2.15.0\nSpring - 5.0.8\nSpringBoot - 2.0.4</p>\n\n<p>Repository:</p>\n\n<pre><code>public interface ARepository extends CrudRepository&lt;ADBO, Long&gt; {}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>@Service\npublic class AService {\n\n    @Autowired\n    ARepository aRepository;\n\n    public ADBO getById(long id) {\n        return aRepository.findById(id).orElse(null);\n    }\n\n    public Iterable&lt;ADBO&gt; getAll() {\n        return aRepository.findAll();\n    }\n}\n</code></pre>\n\n<p>The configuration for the spy:</p>\n\n<pre><code>@Profile(\"enableSpy\")\n@Configuration\npublic class SpyConfig {\n\n    @Bean\n    @Primary\n    public ARepository aRepository() {\n        return Mockito.spy(ARepository.class);\n    }\n}\n</code></pre>\n\n<p>And my test class:</p>\n\n<pre><code>@ActiveProfiles(\"enableSpy\")\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class AServiceTest {\n\n    @Autowired\n    AService aService;\n\n    @Autowired\n    ARepository aRepository;\n\n    @Test\n    public void test() {\n        ADBO foo = new ADBO();\n        foo.setTestValue(\"bar\");\n        aRepository.save(foo);\n\n        doReturn(Optional.of(new ADBO())).when(aRepository).findById(1L);\n        System.out.println(\"result (1):\" + aService.getById(1));\n\n        System.out.println(\"result all:\" + aService.getAll());\n\n    }\n}\n</code></pre>\n\n<p>Now there are three possible outcomes to this test:</p>\n\n<ul>\n<li>aRepository is neither a mock nor a spy:<br>\n<code>org.mockito.exceptions.misusing.NotAMockException: \nArgument passed to when() is not a mock!\nExample of corr...</code></li>\n<li><p>aRepository is a mock but not a spy (this is the result I get):<br>\n<code>result (1):ADBO(id=null, testValue=null)\nresult all:[]</code></p></li>\n<li><p>aRepository is a spy (this is what I want):<br>\n<code>result (1):ADBO(id=null, testValue=null)\nresult all:[ADBO(id=1, testValue=bar)]</code></p></li>\n</ul>\n\n<p>I attribute this behavior to the fact that the spring instantiation of the repository is more complex in the background and the repository is not correctly instantiated when calling <code>Mockito.spy(ARepository.class)</code>.</p>\n\n<p>I have also tried autowireing the proper instance into the Configuration and calling <code>Mockito.spy()</code> with the @Autowired object.</p>\n\n<p>This results in:</p>\n\n<pre><code>Cannot mock/spy class com.sun.proxy.$Proxy75\nMockito cannot mock/spy because :\n - final class\n</code></pre>\n\n<p>According to my research Mockito can mock and spy final classes since v2.0.0.</p>\n\n<p>Calling <code>Mockito.mockingDetails(aRepository).isSpy()</code> returns <code>true</code> which leads me to think the object in the background was not correctly instantiated.</p>\n\n<p><strong>Finally my question:</strong></p>\n\n<p>How do I get a spy instance of a Spring-Data Repository in my UnitTest with @Autowired?</p>\n"},{"tags":["java","applescript"],"comments":[{"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"score":1,"creation_date":1649101979,"post_id":71740226,"comment_id":126786655,"body_markdown":"Tipp: Oftentimes it is useful to crank up the logging for *JaplScript* to see the generated AppleScript snippets.","body":"Tipp: Oftentimes it is useful to crank up the logging for <i>JaplScript</i> to see the generated AppleScript snippets."}],"answers":[{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649100648,"creation_date":1649100648,"answer_id":71742797,"question_id":71740226,"body_markdown":"Found it buried quite away down in the README.md file of the base project https://github.com/japlscript/japlscript\r\n\r\n\r\n    Reference reference = app.make(UserPlaylist.CLASS, songkongPlaylistFolder, null);\r\n    UserPlaylist userPlaylist = reference.cast(UserPlaylist.class);\r\n    userPlaylist.setName(playlistname);","title":"Unable to create Apple Music user playlist within playlist folder using Java Applescript library wrapper com.tagtraum.obstmusic","body":"<p>Found it buried quite away down in the README.md file of the base project <a href=\"https://github.com/japlscript/japlscript\" rel=\"nofollow noreferrer\">https://github.com/japlscript/japlscript</a></p>\n<pre><code>Reference reference = app.make(UserPlaylist.CLASS, songkongPlaylistFolder, null);\nUserPlaylist userPlaylist = reference.cast(UserPlaylist.class);\nuserPlaylist.setName(playlistname);\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71742797,"answer_count":1,"score":1,"last_activity_date":1649100648,"creation_date":1649087777,"question_id":71740226,"body_markdown":"Trying to use https://github.com/japlscript/obstmusic to talk to Apple Music app on Macos with Java, I used to write native applescript and then java applescript library but that was removed from Java.\r\n\r\nIn this case I cant work out to create a user playlist within a folder playlist, when I run the code \r\n\r\n        public void createPlaylist() throws Exception\r\n        {\r\n            FolderPlaylist songkongPlaylistFolder = getPlayListFolder();\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd kk:mm&quot;);\r\n            String playlistname = &quot;SongKong:&quot; + sdf.format(new Date());\r\n            Application app = Application.getInstance();\r\n    \r\n            Map&lt;String, Reference&gt; properties = new HashMap&lt;&gt;();\r\n            Object userPlaylist = app.make(TypeClass.fromClass(UserPlaylist.class), songkongPlaylistFolder, properties);\r\n            ((UserPlaylist)userPlaylist).setName(playlistname);\r\n        }\r\n\r\n\r\nI get exception\r\n\r\n    \r\n\r\n&gt; 04/04/2022\r\n&gt; 14.52.44:BST:OSXUpdateItunesWithChanges:updateItunes:SEVERE: *** Unable to run itunes update:{     NSAppleScriptErrorAppName = Music;  \r\n&gt; NSAppleScriptErrorBriefMessage = &quot;Cant make some data into the\r\n&gt; expected type.&quot;;     NSAppleScriptErrorMessage = &quot;Music got an error:\r\n&gt; Cant make some data into the expected type.&quot;;    \r\n&gt; NSAppleScriptErrorNumber = &quot;-1700&quot;;     NSAppleScriptErrorRange =\r\n&gt; &quot;NSRange: {23, 93}&quot;; }\r\n&gt; com.tagtraum.japlscript.execution.JaplScriptException: {    \r\n&gt; NSAppleScriptErrorAppName = Music;     NSAppleScriptErrorBriefMessage\r\n&gt; = &quot;Cant make some data into the expected type.&quot;;     NSAppleScriptErrorMessage = &quot;Music got an error: Cant make some data\r\n&gt; into the expected type.&quot;;     NSAppleScriptErrorNumber = &quot;-1700&quot;;    \r\n&gt; NSAppleScriptErrorRange = &quot;NSRange: {23, 93}&quot;; } \tat\r\n&gt; com.tagtraum.japlscript.execution.CocoaScriptExecutor.execute(Native\r\n&gt; Method) \tat\r\n&gt; com.tagtraum.japlscript.execution.CocoaScriptExecutor.executeImpl(CocoaScriptExecutor.java:28)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.execution.ScriptExecutor.execute(ScriptExecutor.java:102)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:476)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:468)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:464)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.invokeCommand(ObjectInvocationHandler.java:280)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.invoke(ObjectInvocationHandler.java:191)\r\n&gt; \tat jdk.proxy2/jdk.proxy2.$Proxy59.make(Unknown Source) \tat\r\n&gt; com.jthink.songkong.ituneshelper.OSXUpdateMusicWithChanges.createPlaylist(OSXUpdateMusicWithChanges.java:62)\r\n&gt; \tat\r\n&gt; com.jthink.songkong.ituneshelper.OSXUpdateItunesWithChanges.analyseFiles(OSXUpdateItunesWithChanges.java:246)\r\n&gt; \tat\r\n&gt; com.jthink.songkong.ituneshelper.OSXUpdateItunesWithChanges.updateItunes(OSXUpdateItunesWithChanges.java:126)\r\n&gt; \tat\r\n&gt; com.jthink.songkong.ituneshelper.UpdateItunesWithChanges.call(UpdateItunesWithChanges.java:184)\r\n&gt; \tat\r\n&gt; com.jthink.songkong.ituneshelper.UpdateItunesWithChanges.call(UpdateItunesWithChanges.java:33)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\r\nI think the problem is how I call `app.make()` but I cant work out how to do it.","title":"Unable to create Apple Music user playlist within playlist folder using Java Applescript library wrapper com.tagtraum.obstmusic","body":"<p>Trying to use <a href=\"https://github.com/japlscript/obstmusic\" rel=\"nofollow noreferrer\">https://github.com/japlscript/obstmusic</a> to talk to Apple Music app on Macos with Java, I used to write native applescript and then java applescript library but that was removed from Java.</p>\n<p>In this case I cant work out to create a user playlist within a folder playlist, when I run the code</p>\n<pre><code>    public void createPlaylist() throws Exception\n    {\n        FolderPlaylist songkongPlaylistFolder = getPlayListFolder();\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd kk:mm&quot;);\n        String playlistname = &quot;SongKong:&quot; + sdf.format(new Date());\n        Application app = Application.getInstance();\n\n        Map&lt;String, Reference&gt; properties = new HashMap&lt;&gt;();\n        Object userPlaylist = app.make(TypeClass.fromClass(UserPlaylist.class), songkongPlaylistFolder, properties);\n        ((UserPlaylist)userPlaylist).setName(playlistname);\n    }\n</code></pre>\n<p>I get exception</p>\n<blockquote>\n<p>04/04/2022\n14.52.44:BST:OSXUpdateItunesWithChanges:updateItunes:SEVERE: *** Unable to run itunes update:{     NSAppleScriptErrorAppName = Music;<br />\nNSAppleScriptErrorBriefMessage = &quot;Cant make some data into the\nexpected type.&quot;;     NSAppleScriptErrorMessage = &quot;Music got an error:\nCant make some data into the expected type.&quot;;<br />\nNSAppleScriptErrorNumber = &quot;-1700&quot;;     NSAppleScriptErrorRange =\n&quot;NSRange: {23, 93}&quot;; }\ncom.tagtraum.japlscript.execution.JaplScriptException: {<br />\nNSAppleScriptErrorAppName = Music;     NSAppleScriptErrorBriefMessage\n= &quot;Cant make some data into the expected type.&quot;;     NSAppleScriptErrorMessage = &quot;Music got an error: Cant make some data\ninto the expected type.&quot;;     NSAppleScriptErrorNumber = &quot;-1700&quot;;<br />\nNSAppleScriptErrorRange = &quot;NSRange: {23, 93}&quot;; }  at\ncom.tagtraum.japlscript.execution.CocoaScriptExecutor.execute(Native\nMethod)   at\ncom.tagtraum.japlscript.execution.CocoaScriptExecutor.executeImpl(CocoaScriptExecutor.java:28)\nat\ncom.tagtraum.japlscript.execution.ScriptExecutor.execute(ScriptExecutor.java:102)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:476)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:468)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:464)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.invokeCommand(ObjectInvocationHandler.java:280)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.invoke(ObjectInvocationHandler.java:191)\nat jdk.proxy2/jdk.proxy2.$Proxy59.make(Unknown Source)  at\ncom.jthink.songkong.ituneshelper.OSXUpdateMusicWithChanges.createPlaylist(OSXUpdateMusicWithChanges.java:62)\nat\ncom.jthink.songkong.ituneshelper.OSXUpdateItunesWithChanges.analyseFiles(OSXUpdateItunesWithChanges.java:246)\nat\ncom.jthink.songkong.ituneshelper.OSXUpdateItunesWithChanges.updateItunes(OSXUpdateItunesWithChanges.java:126)\nat\ncom.jthink.songkong.ituneshelper.UpdateItunesWithChanges.call(UpdateItunesWithChanges.java:184)\nat\ncom.jthink.songkong.ituneshelper.UpdateItunesWithChanges.call(UpdateItunesWithChanges.java:33)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)</p>\n</blockquote>\n<p>I think the problem is how I call <code>app.make()</code> but I cant work out how to do it.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1649112448,"post_id":71742382,"comment_id":126789216,"body_markdown":"Be aware that you should **never** be calling an Activity constructor to create it yourself either","body":"Be aware that you should <b>never</b> be calling an Activity constructor to create it yourself either"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649100579,"creation_date":1649100579,"answer_id":71742782,"question_id":71742382,"body_markdown":"The zero argument constructor is required because the android runtime doesn&#39;t know how to create the object (`DBHelper dbHelper`) that your constructor requires.\r\n\r\nThe `dbHelper` that your constructor requires as useless anyway (you create a `new DBHelper(preview_recipe.this)` in `onCreate()`), so the solution is to remove this useless parameter:\r\n\r\n    public class preview_recipe extends AppCompatActivity {\r\n        private TextView viewRecipeName, viewCountry, viewTime, viewTxtEquipment, viewTxtIngredients, viewTxtMethod, viewPersonalStory;\r\n    \r\n        public preview_recipe() {\r\n        }\r\n    \r\n        //... remainder of the code\r\n    }\r\n\r\nPlease also note that in Java (and Android) it is the convention to write class names in CamelCase (like the `AppCompatActivity`), so your class should be named:\r\n\r\n    public class PreviewRecipe extends AppCompatActivity {\r\n        private TextView viewRecipeName, viewCountry, viewTime, viewTxtEquipment, viewTxtIngredients, viewTxtMethod, viewPersonalStory;\r\n    \r\n        public PreviewRecipe() {\r\n        }\r\n    \r\n        //... remainder of the code\r\n    }\r\n","title":"How can &#39;no zero argument constructor&#39; be avoided?","body":"<p>The zero argument constructor is required because the android runtime doesn't know how to create the object (<code>DBHelper dbHelper</code>) that your constructor requires.</p>\n<p>The <code>dbHelper</code> that your constructor requires as useless anyway (you create a <code>new DBHelper(preview_recipe.this)</code> in <code>onCreate()</code>), so the solution is to remove this useless parameter:</p>\n<pre><code>public class preview_recipe extends AppCompatActivity {\n    private TextView viewRecipeName, viewCountry, viewTime, viewTxtEquipment, viewTxtIngredients, viewTxtMethod, viewPersonalStory;\n\n    public preview_recipe() {\n    }\n\n    //... remainder of the code\n}\n</code></pre>\n<p>Please also note that in Java (and Android) it is the convention to write class names in CamelCase (like the <code>AppCompatActivity</code>), so your class should be named:</p>\n<pre><code>public class PreviewRecipe extends AppCompatActivity {\n    private TextView viewRecipeName, viewCountry, viewTime, viewTxtEquipment, viewTxtIngredients, viewTxtMethod, viewPersonalStory;\n\n    public PreviewRecipe() {\n    }\n\n    //... remainder of the code\n}\n</code></pre>\n"}],"owner":{"account_id":22724609,"reputation":23,"user_id":18674781,"display_name":"JR RJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71742782,"answer_count":1,"score":0,"last_activity_date":1649100579,"creation_date":1649098439,"question_id":71742382,"body_markdown":"An activity that retrieves and displays data from a database failed to instantiate because there is no zero argument constructor - why is it important to include it?\r\n\r\nHere is the activity (I&#39;m quite new to this so there will be parts where it could have been executed better...open to suggestions!)\r\n\r\n    package com.example.createrecipefinal;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class preview_recipe extends AppCompatActivity {\r\n        private DBHelper dbHelper;\r\n        private TextView viewRecipeName, viewCountry, viewTime, viewTxtEquipment, viewTxtIngredients, viewTxtMethod, viewPersonalStory;\r\n    \r\n        public preview_recipe(DBHelper dbHelper) {\r\n            this.dbHelper = dbHelper;\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_preview_recipe);\r\n    \r\n            viewRecipeName = findViewById(R.id.viewRecipeName);\r\n            viewCountry = findViewById(R.id.viewCountry);\r\n            viewTime = findViewById(R.id.viewTime);\r\n            viewTxtEquipment = findViewById(R.id.viewTxtEquipment);\r\n            viewTxtMethod = findViewById(R.id.viewTxtMethod);\r\n            viewPersonalStory = findViewById(R.id.viewPersonalStory);\r\n            viewTxtIngredients = findViewById(R.id.viewTxtIngredients);\r\n    \r\n            DBHelper dbHelper = new DBHelper(preview_recipe.this);\r\n            //call read function and array\r\n            List&lt;RecipeModel&gt; returnRecipe = dbHelper.readRecipe();\r\n    \r\n            //Setting values into text views\r\n            viewRecipeName.setText((CharSequence) returnRecipe.get(1));\r\n            viewCountry.setText((CharSequence) returnRecipe.get(2));\r\n            viewTxtEquipment.setText((CharSequence) returnRecipe.get(5));\r\n            viewTxtIngredients.setText((CharSequence) returnRecipe.get(6));\r\n            viewTxtMethod.setText((CharSequence) returnRecipe.get(7));\r\n            viewPersonalStory.setText((CharSequence) returnRecipe.get(8));\r\n        }\r\n    \r\n    }\r\n\r\n    2022-04-04 19:37:05.963 14815-14815/com.example.createrecipefinal E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.createrecipefinal, PID: 14815\r\n        java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.createrecipefinal/com.example.createrecipefinal.preview_recipe}: java.lang.InstantiationException: java.lang.Class&lt;com.example.createrecipefinal.preview_recipe&gt; has no zero argument constructor\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3591)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3842)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2252)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loopOnce(Looper.java:201)\r\n            at android.os.Looper.loop(Looper.java:288)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7842)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n         \r\n  ","title":"How can &#39;no zero argument constructor&#39; be avoided?","body":"<p>An activity that retrieves and displays data from a database failed to instantiate because there is no zero argument constructor - why is it important to include it?</p>\n<p>Here is the activity (I'm quite new to this so there will be parts where it could have been executed better...open to suggestions!)</p>\n<pre><code>package com.example.createrecipefinal;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport java.util.List;\n\npublic class preview_recipe extends AppCompatActivity {\n    private DBHelper dbHelper;\n    private TextView viewRecipeName, viewCountry, viewTime, viewTxtEquipment, viewTxtIngredients, viewTxtMethod, viewPersonalStory;\n\n    public preview_recipe(DBHelper dbHelper) {\n        this.dbHelper = dbHelper;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_preview_recipe);\n\n        viewRecipeName = findViewById(R.id.viewRecipeName);\n        viewCountry = findViewById(R.id.viewCountry);\n        viewTime = findViewById(R.id.viewTime);\n        viewTxtEquipment = findViewById(R.id.viewTxtEquipment);\n        viewTxtMethod = findViewById(R.id.viewTxtMethod);\n        viewPersonalStory = findViewById(R.id.viewPersonalStory);\n        viewTxtIngredients = findViewById(R.id.viewTxtIngredients);\n\n        DBHelper dbHelper = new DBHelper(preview_recipe.this);\n        //call read function and array\n        List&lt;RecipeModel&gt; returnRecipe = dbHelper.readRecipe();\n\n        //Setting values into text views\n        viewRecipeName.setText((CharSequence) returnRecipe.get(1));\n        viewCountry.setText((CharSequence) returnRecipe.get(2));\n        viewTxtEquipment.setText((CharSequence) returnRecipe.get(5));\n        viewTxtIngredients.setText((CharSequence) returnRecipe.get(6));\n        viewTxtMethod.setText((CharSequence) returnRecipe.get(7));\n        viewPersonalStory.setText((CharSequence) returnRecipe.get(8));\n    }\n\n}\n\n2022-04-04 19:37:05.963 14815-14815/com.example.createrecipefinal E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.createrecipefinal, PID: 14815\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.createrecipefinal/com.example.createrecipefinal.preview_recipe}: java.lang.InstantiationException: java.lang.Class&lt;com.example.createrecipefinal.preview_recipe&gt; has no zero argument constructor\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3591)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3842)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2252)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7842)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n     \n</code></pre>\n"},{"tags":["java","plugins","bukkit","spigot"],"comments":[{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1648850909,"post_id":71712002,"comment_id":126737217,"body_markdown":"Firstly, check that `dev.ondr.mpserverbridge.MPServerBridge` is the correct path to your main class. Secondly, ensure that you only have one copy of your jar in your plugins folder and that no other plugins have the same name. Last, if you&#39;re using Gradle, do a clean build (or the maven equivalent) then build again.","body":"Firstly, check that <code>dev.ondr.mpserverbridge.MPServerBridge</code> is the correct path to your main class. Secondly, ensure that you only have one copy of your jar in your plugins folder and that no other plugins have the same name. Last, if you&#39;re using Gradle, do a clean build (or the maven equivalent) then build again."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1648892859,"post_id":71712002,"comment_id":126742019,"body_markdown":"Have you check for Java version ? Like don&#39;t compile your plugin with an unsupported version by your versions that run the server","body":"Have you check for Java version ? Like don&#39;t compile your plugin with an unsupported version by your versions that run the server"}],"answers":[{"tags":[],"owner":{"account_id":24266930,"reputation":26,"user_id":18215681,"display_name":"Hynity"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649100471,"creation_date":1649100471,"answer_id":71742765,"question_id":71712002,"body_markdown":"Just as Lucan said, this type of error usually happens when the path is not valid. This could mean many things but it could simply be that your file plugin.yml is not in the right place, meaning it doesnt get read.\r\n\r\nYour file should be in the following folder: src/main/resources.\r\nLike: [Folder example][1]\r\n\r\nIt is possible, however, that depending on the IDE some other problems arise such as described here: https://bukkit.fandom.com/wiki/Plugin_Tutorial_(Eclipse)\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XjiQx.png","title":"Spigot - Plugin won&#39;t load and the error isn&#39;t specified","body":"<p>Just as Lucan said, this type of error usually happens when the path is not valid. This could mean many things but it could simply be that your file plugin.yml is not in the right place, meaning it doesnt get read.</p>\n<p>Your file should be in the following folder: src/main/resources.\nLike: <a href=\"https://i.stack.imgur.com/XjiQx.png\" rel=\"nofollow noreferrer\">Folder example</a></p>\n<p>It is possible, however, that depending on the IDE some other problems arise such as described here: <a href=\"https://bukkit.fandom.com/wiki/Plugin_Tutorial_(Eclipse)\" rel=\"nofollow noreferrer\">https://bukkit.fandom.com/wiki/Plugin_Tutorial_(Eclipse)</a></p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":24787398,"reputation":11,"user_id":18670545,"display_name":"JustAdam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649100471,"creation_date":1648841843,"question_id":71712002,"body_markdown":"I&#39;m making a server bridge for a server, but it won&#39;t load. This is the log:\r\n```\r\n[ERROR] Could not load &#39;plugins/MGServerBridge.jar&#39; in folder &#39;plugins&#39;\r\nat org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:135) ~[server.jar:git-Spigot-21fe707-741a1bd]\r\nat org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:329) ~[server.jar:git-Spigot-21fe707-741a1bd]\r\nat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:251) [server.jar:git-Spigot-21fe707-741a1bd]\r\nat org.bukkit.craftbukkit.v1_8_R3.CraftServer.loadPlugins(CraftServer.java:292) [server.jar:git-Spigot-21fe707-741a1bd]\r\nat net.minecraft.server.v1_8_R3.DedicatedServer.init(DedicatedServer.java:198) [server.jar:git-Spigot-21fe707-741a1bd]\r\nat net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:525) [server.jar:git-Spigot-21fe707-741a1bd]\r\nat java.lang.Thread.run(Thread.java:748) [?:1.8.0_312]\r\nat java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_312]\r\nat java.lang.ClassLoader.defineClass(ClassLoader.java:757) ~[?:1.8.0_312]\r\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_312]\r\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:473) ~[?:1.8.0_312]\r\nat java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[?:1.8.0_312]\r\nat java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[?:1.8.0_312]\r\nat java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[?:1.8.0_312]\r\nat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_312]\r\nat java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[?:1.8.0_312]\r\nat org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:101) ~[server.jar:git-Spigot-21fe707-741a1bd]\r\nat org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:86) ~[server.jar:git-Spigot-21fe707-741a1bd]\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:419) ~[?:1.8.0_312]\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:352) ~[?:1.8.0_312]\r\nat java.lang.Class.forName0(Native Method) ~[?:1.8.0_312]\r\nat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_312]\r\nat org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:64) ~[server.jar:git-Spigot-21fe707-741a1bd]\r\nat org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:131) ~[server.jar:git-Spigot-21fe707-741a1bd]\r\n... 6 more\r\n```\r\n\r\nThis is the plugin.yml:\r\n```\r\nname: MPServerBridge\r\nauthor: JustAdam\r\nversion: 1.0.0\r\nmain: dev.ondr.mpserverbridge.MPServerBridge\r\n```\r\n\r\nAnd this is the code:\r\n```\r\npackage dev.ondr.mpserverbridge;\r\n\r\nimport com.google.common.io.ByteArrayDataInput;\r\nimport com.google.common.io.ByteArrayDataOutput;\r\nimport com.google.common.io.ByteStreams;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport org.bukkit.plugin.messaging.PluginMessageListener;\r\n\r\npublic final class MPServerBridge extends JavaPlugin implements PluginMessageListener {\r\n    @Override\r\n    public void onEnable() {\r\n            this.getServer().getMessenger().registerOutgoingPluginChannel(this, &quot;BungeeCord&quot;);\r\n            this.getServer().getMessenger().registerIncomingPluginChannel(this, &quot;BungeeCord&quot;, this);\r\n            Bukkit.getLogger().info(&quot;MinePractice Server Bridge online.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onDisable() {\r\n        //make sure to unregister the registered channels in case of a reload\r\n        this.getServer().getMessenger().unregisterOutgoingPluginChannel(this);\r\n        this.getServer().getMessenger().unregisterIncomingPluginChannel(this);\r\n        Bukkit.getLogger().info(&quot;MinePractice Server Bridge offline.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onPluginMessageReceived(String channel, Player player, byte[] message) {\r\n        if (!channel.equals(&quot;BungeeCord&quot;)) {\r\n            return;\r\n        }\r\n        ByteArrayDataInput in = ByteStreams.newDataInput(message);\r\n        String subchannel = in.readUTF();\r\n        if (subchannel.equals(&quot;SomeSubChannel&quot;)) {\r\n            // Use the code sample in the &#39;Response&#39; sections below to read\r\n            // the data.\r\n        }\r\n    }\r\n\r\n    public void sendMessage(Player p, String[] UTFs) {\r\n        ByteArrayDataOutput out = ByteStreams.newDataOutput();\r\n        for(String utf : UTFs) {\r\n            out.writeUTF(utf);\r\n        }\r\n        Player player = Bukkit.getPlayerExact(p.getName());\r\n        player.sendPluginMessage(this, &quot;BungeeCord&quot;, out.toByteArray());\r\n    }\r\n}\r\n\r\n```\r\n\r\nI don&#39;t know what&#39;s the problem. I&#39;ve been searching for the issue for a few days, but anything didn&#39;t work. I&#39;ve been googling too but I couldn&#39;t find anything helpful. Please help.","title":"Spigot - Plugin won&#39;t load and the error isn&#39;t specified","body":"<p>I'm making a server bridge for a server, but it won't load. This is the log:</p>\n<pre><code>[ERROR] Could not load 'plugins/MGServerBridge.jar' in folder 'plugins'\nat org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:135) ~[server.jar:git-Spigot-21fe707-741a1bd]\nat org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:329) ~[server.jar:git-Spigot-21fe707-741a1bd]\nat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:251) [server.jar:git-Spigot-21fe707-741a1bd]\nat org.bukkit.craftbukkit.v1_8_R3.CraftServer.loadPlugins(CraftServer.java:292) [server.jar:git-Spigot-21fe707-741a1bd]\nat net.minecraft.server.v1_8_R3.DedicatedServer.init(DedicatedServer.java:198) [server.jar:git-Spigot-21fe707-741a1bd]\nat net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:525) [server.jar:git-Spigot-21fe707-741a1bd]\nat java.lang.Thread.run(Thread.java:748) [?:1.8.0_312]\nat java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_312]\nat java.lang.ClassLoader.defineClass(ClassLoader.java:757) ~[?:1.8.0_312]\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_312]\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:473) ~[?:1.8.0_312]\nat java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[?:1.8.0_312]\nat java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[?:1.8.0_312]\nat java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[?:1.8.0_312]\nat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_312]\nat java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[?:1.8.0_312]\nat org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:101) ~[server.jar:git-Spigot-21fe707-741a1bd]\nat org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:86) ~[server.jar:git-Spigot-21fe707-741a1bd]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:419) ~[?:1.8.0_312]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:352) ~[?:1.8.0_312]\nat java.lang.Class.forName0(Native Method) ~[?:1.8.0_312]\nat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_312]\nat org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:64) ~[server.jar:git-Spigot-21fe707-741a1bd]\nat org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:131) ~[server.jar:git-Spigot-21fe707-741a1bd]\n... 6 more\n</code></pre>\n<p>This is the plugin.yml:</p>\n<pre><code>name: MPServerBridge\nauthor: JustAdam\nversion: 1.0.0\nmain: dev.ondr.mpserverbridge.MPServerBridge\n</code></pre>\n<p>And this is the code:</p>\n<pre><code>package dev.ondr.mpserverbridge;\n\nimport com.google.common.io.ByteArrayDataInput;\nimport com.google.common.io.ByteArrayDataOutput;\nimport com.google.common.io.ByteStreams;\nimport org.bukkit.Bukkit;\nimport org.bukkit.entity.Player;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.bukkit.plugin.messaging.PluginMessageListener;\n\npublic final class MPServerBridge extends JavaPlugin implements PluginMessageListener {\n    @Override\n    public void onEnable() {\n            this.getServer().getMessenger().registerOutgoingPluginChannel(this, &quot;BungeeCord&quot;);\n            this.getServer().getMessenger().registerIncomingPluginChannel(this, &quot;BungeeCord&quot;, this);\n            Bukkit.getLogger().info(&quot;MinePractice Server Bridge online.&quot;);\n    }\n\n    @Override\n    public void onDisable() {\n        //make sure to unregister the registered channels in case of a reload\n        this.getServer().getMessenger().unregisterOutgoingPluginChannel(this);\n        this.getServer().getMessenger().unregisterIncomingPluginChannel(this);\n        Bukkit.getLogger().info(&quot;MinePractice Server Bridge offline.&quot;);\n    }\n\n    @Override\n    public void onPluginMessageReceived(String channel, Player player, byte[] message) {\n        if (!channel.equals(&quot;BungeeCord&quot;)) {\n            return;\n        }\n        ByteArrayDataInput in = ByteStreams.newDataInput(message);\n        String subchannel = in.readUTF();\n        if (subchannel.equals(&quot;SomeSubChannel&quot;)) {\n            // Use the code sample in the 'Response' sections below to read\n            // the data.\n        }\n    }\n\n    public void sendMessage(Player p, String[] UTFs) {\n        ByteArrayDataOutput out = ByteStreams.newDataOutput();\n        for(String utf : UTFs) {\n            out.writeUTF(utf);\n        }\n        Player player = Bukkit.getPlayerExact(p.getName());\n        player.sendPluginMessage(this, &quot;BungeeCord&quot;, out.toByteArray());\n    }\n}\n\n</code></pre>\n<p>I don't know what's the problem. I've been searching for the issue for a few days, but anything didn't work. I've been googling too but I couldn't find anything helpful. Please help.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649100157,"creation_date":1649100157,"answer_id":71742706,"question_id":71742429,"body_markdown":"You&#39;re missing `spring-aop-5.3.9.jar`. That&#39;s where the class that&#39;s reported missing (`org.springframework.aop.TargetSource`) is from, but you only have the sources and javadoc JAR files for `spring-aop`, not the JAR file with the actual classes.","title":"Component annotation not working in spring boot","body":"<p>You're missing <code>spring-aop-5.3.9.jar</code>. That's where the class that's reported missing (<code>org.springframework.aop.TargetSource</code>) is from, but you only have the sources and javadoc JAR files for <code>spring-aop</code>, not the JAR file with the actual classes.</p>\n"}],"owner":{"account_id":22680246,"reputation":255,"user_id":16850682,"display_name":"Aditya Dixit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649100157,"creation_date":1649098750,"question_id":71742429,"body_markdown":"I am working on a simple spring project which has following code:\r\n\r\n    package com.luv2code.springdemo2;\r\n    \r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    public class AnnotationDemoApp {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n    \t\tCoach theCoach = context.getBean(&quot;tennisCoach&quot;, Coach.class);\r\n    \t\tSystem.out.println(theCoach.getDailyWorkout());\r\n    \t\tcontext.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**ApplicationContext.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/context\r\n        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;context:annotation-config /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.luv2code.springdemo2&quot;&gt;&lt;/context:component-scan&gt;\r\n     \r\n    &lt;/beans&gt;\r\n\r\n**Coach.java**\r\n\r\n    package com.luv2code.springdemo2;\r\n    \r\n    public interface Coach {\r\n    \tpublic String getDailyWorkout();\r\n    }\r\n**TennisCoach.java:**\r\n\r\n    package com.luv2code.springdemo2;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component(&quot;tennisCoach&quot;)\r\n    public class TennisCoach implements Coach {\r\n    \r\n    \t@Override\r\n    \tpublic String getDailyWorkout() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn &quot;Practise your back hand volley daily&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nI am not able to figure out why the error is occurring.\r\n\r\nError message:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [applicationContext.xml]; nested exception is java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:417)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:338)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\r\n    \tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n    \tat com.luv2code.springdemo2.AnnotationDemoApp.main(AnnotationDemoApp.java:8)\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\r\n    \tat org.springframework.context.annotation.AnnotationConfigUtils.registerAnnotationConfigProcessors(AnnotationConfigUtils.java:157)\r\n    \tat org.springframework.context.annotation.AnnotationConfigBeanDefinitionParser.parse(AnnotationConfigBeanDefinitionParser.java:49)\r\n    \tat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:511)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\r\n    \t... 14 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.aop.TargetSource\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 24 more\r\n\r\nI am using spring version 5 and I have added all the JAR files in the `lib` folder:\r\n\r\n[![spring][1]][1]\r\n\r\nThe `applicationContext.xml` file is present at the correct hierarchy, that is, there are no file location error\r\n\r\nI am able to use XML based handling but not component annotations.\r\n\r\nWhat is the problem here?\r\n\r\nKindly comment if other information is needed\r\n\r\n  [1]: https://i.stack.imgur.com/OUjcv.png","title":"Component annotation not working in spring boot","body":"<p>I am working on a simple spring project which has following code:</p>\n<pre><code>package com.luv2code.springdemo2;\n\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AnnotationDemoApp {\n\n    public static void main(String[] args) {\n        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n        Coach theCoach = context.getBean(&quot;tennisCoach&quot;, Coach.class);\n        System.out.println(theCoach.getDailyWorkout());\n        context.close();\n    }\n\n}\n</code></pre>\n<p><strong>ApplicationContext.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n    \n    &lt;context:annotation-config /&gt;\n    &lt;context:component-scan base-package=&quot;com.luv2code.springdemo2&quot;&gt;&lt;/context:component-scan&gt;\n \n&lt;/beans&gt;\n</code></pre>\n<p><strong>Coach.java</strong></p>\n<pre><code>package com.luv2code.springdemo2;\n\npublic interface Coach {\n    public String getDailyWorkout();\n}\n</code></pre>\n<p><strong>TennisCoach.java:</strong></p>\n<pre><code>package com.luv2code.springdemo2;\n\nimport org.springframework.stereotype.Component;\n\n@Component(&quot;tennisCoach&quot;)\npublic class TennisCoach implements Coach {\n\n    @Override\n    public String getDailyWorkout() {\n        // TODO Auto-generated method stub\n        return &quot;Practise your back hand volley daily&quot;;\n    }\n\n}\n</code></pre>\n<p>I am not able to figure out why the error is occurring.</p>\n<p>Error message:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [applicationContext.xml]; nested exception is java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:417)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:338)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\n    at com.luv2code.springdemo2.AnnotationDemoApp.main(AnnotationDemoApp.java:8)\nCaused by: java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\n    at org.springframework.context.annotation.AnnotationConfigUtils.registerAnnotationConfigProcessors(AnnotationConfigUtils.java:157)\n    at org.springframework.context.annotation.AnnotationConfigBeanDefinitionParser.parse(AnnotationConfigBeanDefinitionParser.java:49)\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:511)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\n    ... 14 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.aop.TargetSource\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 24 more\n</code></pre>\n<p>I am using spring version 5 and I have added all the JAR files in the <code>lib</code> folder:</p>\n<p><a href=\"https://i.stack.imgur.com/OUjcv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OUjcv.png\" alt=\"spring\" /></a></p>\n<p>The <code>applicationContext.xml</code> file is present at the correct hierarchy, that is, there are no file location error</p>\n<p>I am able to use XML based handling but not component annotations.</p>\n<p>What is the problem here?</p>\n<p>Kindly comment if other information is needed</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1649039634,"post_id":71731451,"comment_id":126767094,"body_markdown":"No. It is **not** safe to cast a `Vector` to `ArrayList` (or vice-versa). This code is using raw types, but collections interfaces. Very odd.","body":"No. It is <b>not</b> safe to cast a <code>Vector</code> to <code>ArrayList</code> (or vice-versa). This code is using raw types, but collections interfaces. Very odd."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":3,"creation_date":1649039820,"post_id":71731451,"comment_id":126767130,"body_markdown":"Casting only fools the compiler. It doesn&#39;t affect the actual class used.","body":"Casting only fools the compiler. It doesn&#39;t affect the actual class used."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649040679,"post_id":71731451,"comment_id":126767284,"body_markdown":"Perhaps you should post another Question about the specifics of the Sonar complaint.","body":"Perhaps you should post another Question about the specifics of the Sonar complaint."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1649098394,"post_id":71731451,"comment_id":126785594,"body_markdown":"I would be amazed when Vector&#39;s synchronicity were used, and at some time you want to replace Vector. I would also refrain from endlessly doing small refactorings repeatedly visiting the same sources. Only make an inventory, listing of all sources and their conversion state. In a spreadsheet with a time line you can then follow the progress to 100%.","body":"I would be amazed when Vector&#39;s synchronicity were used, and at some time you want to replace Vector. I would also refrain from endlessly doing small refactorings repeatedly visiting the same sources. Only make an inventory, listing of all sources and their conversion state. In a spreadsheet with a time line you can then follow the progress to 100%."}],"answers":[{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649049187,"creation_date":1649049187,"answer_id":71732304,"question_id":71731451,"body_markdown":"If you do something like:\r\n\r\n    List myVar = new Foo();\r\n\r\nThen the Foo class must implement the List interface.  Both Vector and ArrayList do this, as do many-many other classes.  Having stated the obvious, what you need to realize is that thereafter, in every line of code and method call, you are basically restricted to dealing with &#39;myVar&#39; as if it is ONLY a &quot;List&quot;.  The actual implementation happens to be a &quot;Foo&quot; implementation, but no one should know or care.  They are simply looking to do list-like-things on an entity that should-be-a-list.\r\n\r\nIf you change the right-hand-side from Vector-to-ArrayList, but the left-hand-side was always a &quot;List&quot;, in principle, all will be well (mostly).  Every well-behaved actor should be dealing with it as if it&#39;s an arbitrary &quot;List&quot; (and it still is).  Some bad actor might be casting the &quot;List&quot; they got into something else (e.g. a Vector), but that&#39;s a bad practice - you&#39;d likely want to go fix that other code anyway.  The Java compiler has a few &#39;lint&#39; warnings that can help you find places where bad-actors upcast.\r\n\r\nIn my experience, this kind of change is pretty risky.  Code that old and poorly written is likely ripe with bugs, and you are wading into the mindfield with a blind-fold on.  Unless your purpose is to update the code, and are willing to accept introducing bugs due to conversion, I wouldn&#39;t take it on.  Sonarqube is correct, that&#39;s some bad code.  But if it&#39;s beyond the scope of what you are working upon, use the appropriate SuppressWarning to tell SonarQube to ignore it on this piece of code.","title":"Does typecasting of Vector to ArrayList cause any issue?","body":"<p>If you do something like:</p>\n<pre><code>List myVar = new Foo();\n</code></pre>\n<p>Then the Foo class must implement the List interface.  Both Vector and ArrayList do this, as do many-many other classes.  Having stated the obvious, what you need to realize is that thereafter, in every line of code and method call, you are basically restricted to dealing with 'myVar' as if it is ONLY a &quot;List&quot;.  The actual implementation happens to be a &quot;Foo&quot; implementation, but no one should know or care.  They are simply looking to do list-like-things on an entity that should-be-a-list.</p>\n<p>If you change the right-hand-side from Vector-to-ArrayList, but the left-hand-side was always a &quot;List&quot;, in principle, all will be well (mostly).  Every well-behaved actor should be dealing with it as if it's an arbitrary &quot;List&quot; (and it still is).  Some bad actor might be casting the &quot;List&quot; they got into something else (e.g. a Vector), but that's a bad practice - you'd likely want to go fix that other code anyway.  The Java compiler has a few 'lint' warnings that can help you find places where bad-actors upcast.</p>\n<p>In my experience, this kind of change is pretty risky.  Code that old and poorly written is likely ripe with bugs, and you are wading into the mindfield with a blind-fold on.  Unless your purpose is to update the code, and are willing to accept introducing bugs due to conversion, I wouldn't take it on.  Sonarqube is correct, that's some bad code.  But if it's beyond the scope of what you are working upon, use the appropriate SuppressWarning to tell SonarQube to ignore it on this piece of code.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649098936,"creation_date":1649096824,"answer_id":71742071,"question_id":71731451,"body_markdown":"Casting doesn&#39;t change the class of an object. The place to use casts is where the code doesn&#39;t have information about what class something is, but you do. Adding a cast lets you give that information to the code. But if you are wrong about the cast then the cast will throw an exception.\r\n\r\nSo putting a cast on a Vector doesn&#39;t make it an ArrayList. But in this case it&#39;s not even allowed to compile, this code:\r\n\r\n    Vector&lt;String&gt; v = new Vector&lt;&gt;();\r\n    ArrayList&lt;String&gt; a = (ArrayList)v;\r\n\r\n\r\nresults in this compile error:\r\n\r\n&gt; incompatible types: java.util.Vector&lt;java.lang.String&gt; cannot be converted to java.util.ArrayList\r\n\r\nbecause the compiler knows better than to let you tell it that this object it already knows the type of is really some unrelated class. So casting is not an option. Consider being very skeptical of any technical guidance coming from the person who gave you that advice.\r\n\r\nFiguring out whether these Vectors can be replaced by ArrayLists is going to be tricky, because it means understanding what the legacy code is doing well enough to be able to say for sure that you didn&#39;t break anything. Insufficient synchronization is something that is really hard to test for, and the risk is that you miss something and it fails in production. And these things are typically not noisy failures, typically they will fail silently and you won&#39;t know about it until something (or worse, someone) downstream complains. So if the only reason to make this change is because of the sonarqube warning, my advice is to suppress the warning and leave the code alone.\r\n\r\nThe reason that the sonarqube rule is there is because the synchronization on Vector is not very useful in practice (the lock granularity is all wrong), and there is a cost to acquiring the lock even when it&#39;s uncontended. However, the cost of uncontended synchronizations is something that the JVM developers have worked hard to bring down. If you can upgrade this application to use a recent JVM you might get some benefit, if that is what is going on, without the risk of making code changes.\r\n \r\n","title":"Does typecasting of Vector to ArrayList cause any issue?","body":"<p>Casting doesn't change the class of an object. The place to use casts is where the code doesn't have information about what class something is, but you do. Adding a cast lets you give that information to the code. But if you are wrong about the cast then the cast will throw an exception.</p>\n<p>So putting a cast on a Vector doesn't make it an ArrayList. But in this case it's not even allowed to compile, this code:</p>\n<pre><code>Vector&lt;String&gt; v = new Vector&lt;&gt;();\nArrayList&lt;String&gt; a = (ArrayList)v;\n</code></pre>\n<p>results in this compile error:</p>\n<blockquote>\n<p>incompatible types: java.util.Vector&lt;java.lang.String&gt; cannot be converted to java.util.ArrayList</p>\n</blockquote>\n<p>because the compiler knows better than to let you tell it that this object it already knows the type of is really some unrelated class. So casting is not an option. Consider being very skeptical of any technical guidance coming from the person who gave you that advice.</p>\n<p>Figuring out whether these Vectors can be replaced by ArrayLists is going to be tricky, because it means understanding what the legacy code is doing well enough to be able to say for sure that you didn't break anything. Insufficient synchronization is something that is really hard to test for, and the risk is that you miss something and it fails in production. And these things are typically not noisy failures, typically they will fail silently and you won't know about it until something (or worse, someone) downstream complains. So if the only reason to make this change is because of the sonarqube warning, my advice is to suppress the warning and leave the code alone.</p>\n<p>The reason that the sonarqube rule is there is because the synchronization on Vector is not very useful in practice (the lock granularity is all wrong), and there is a cost to acquiring the lock even when it's uncontended. However, the cost of uncontended synchronizations is something that the JVM developers have worked hard to bring down. If you can upgrade this application to use a recent JVM you might get some benefit, if that is what is going on, without the risk of making code changes.</p>\n"}],"owner":{"account_id":11225950,"reputation":67,"user_id":8235546,"display_name":"JAY"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649100075,"creation_date":1649039439,"question_id":71731451,"body_markdown":"We are working on a very old java project and most of the List objects are declared as Vector.\r\nSonar is complaining about the use of Vector that is synchronized.\r\n\r\n    List vector = new Vector();\r\n\r\nWe can easily change the declaration to Arraylist but I&#39;m worried that it may cause an issue somewhere else in the codebase where synchronization happens or there is a specific scenario that expects Vector.\r\n\r\nCan someone advise if it is fine to typecast Vector to ArrayList or simply changing the declaration to ArrayList and be used as Vector in other parts of the code?\r\n\r\n\r\nNote: Reflection is being used a lot in the framework and the ArrayList object can be retrieved and may be cast again to Vector.","title":"Does typecasting of Vector to ArrayList cause any issue?","body":"<p>We are working on a very old java project and most of the List objects are declared as Vector.\nSonar is complaining about the use of Vector that is synchronized.</p>\n<pre><code>List vector = new Vector();\n</code></pre>\n<p>We can easily change the declaration to Arraylist but I'm worried that it may cause an issue somewhere else in the codebase where synchronization happens or there is a specific scenario that expects Vector.</p>\n<p>Can someone advise if it is fine to typecast Vector to ArrayList or simply changing the declaration to ArrayList and be used as Vector in other parts of the code?</p>\n<p>Note: Reflection is being used a lot in the framework and the ArrayList object can be retrieved and may be cast again to Vector.</p>\n"},{"tags":["java","binary-search"],"answers":[{"tags":[],"owner":{"account_id":17474517,"reputation":108,"user_id":12669673,"display_name":"Alexandru Borza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649099667,"creation_date":1649099667,"answer_id":71742604,"question_id":71742016,"body_markdown":"you should set the start value at 1: `int start=0;`\r\nBecause you can now get the mid value to be 0 if the value that you are searching is in the first position of the list (for example the list: 10, 6, 5, 2, 1), the peak value is the first element of the list and when you try to access the arr[mid-1] you ar getting an ArrayIndexOutOfBoundsException.","title":"Why my mid-1 approach is not working in this binary-search question?","body":"<p>you should set the start value at 1: <code>int start=0;</code>\nBecause you can now get the mid value to be 0 if the value that you are searching is in the first position of the list (for example the list: 10, 6, 5, 2, 1), the peak value is the first element of the list and when you try to access the arr[mid-1] you ar getting an ArrayIndexOutOfBoundsException.</p>\n"}],"owner":{"account_id":18730172,"reputation":23,"user_id":13655755,"display_name":"Mustafa Dahodwala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71742604,"answer_count":1,"score":0,"last_activity_date":1649099667,"creation_date":1649096534,"question_id":71742016,"body_markdown":"I used mid+1 approach to solve this question and it got solved easily but when wanted to solve the same question my changing the comparison form mid+1 to mid-1 it was not working can you help me out where am I wrong?\r\n\r\nProblem [Link][1]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/peak-index-in-a-mountain-array/\r\n\r\nMy Initial approach(mid+1):\r\n\r\n    class Solution {\r\n    public int peakIndexInMountainArray(int[] arr) {\r\n        int start=0;\r\n        int end=arr.length-1;\r\n        \r\n        while(start&lt;=end){\r\n            int mid=start-(start-end)/2;\r\n            if(arr[mid]&lt;arr[mid+1]){\r\n                start=mid+1;\r\n            }\r\n            else {\r\n                end=mid-1;\r\n            }\r\n        }\r\n        return start;\r\n    }\r\n    }\r\n\r\n2nd approach (wrong answer with mid-1 apprach)\r\n\r\n    class Solution {\r\n    public int peakIndexInMountainArray(int[] arr) {\r\n        int start=0;\r\n        int end=arr.length-1;\r\n        \r\n        while(start&lt;=end){\r\n            int mid=start-(start-end)/2;\r\n            if(arr[mid-1]&lt;arr[mid]){\r\n                start=mid+1;\r\n            }\r\n            else {\r\n                end=mid-1;\r\n            }\r\n        }\r\n        return end;\r\n    }\r\n    }\r\n\r\n\r\n","title":"Why my mid-1 approach is not working in this binary-search question?","body":"<p>I used mid+1 approach to solve this question and it got solved easily but when wanted to solve the same question my changing the comparison form mid+1 to mid-1 it was not working can you help me out where am I wrong?</p>\n<p>Problem <a href=\"https://leetcode.com/problems/peak-index-in-a-mountain-array/\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>My Initial approach(mid+1):</p>\n<pre><code>class Solution {\npublic int peakIndexInMountainArray(int[] arr) {\n    int start=0;\n    int end=arr.length-1;\n    \n    while(start&lt;=end){\n        int mid=start-(start-end)/2;\n        if(arr[mid]&lt;arr[mid+1]){\n            start=mid+1;\n        }\n        else {\n            end=mid-1;\n        }\n    }\n    return start;\n}\n}\n</code></pre>\n<p>2nd approach (wrong answer with mid-1 apprach)</p>\n<pre><code>class Solution {\npublic int peakIndexInMountainArray(int[] arr) {\n    int start=0;\n    int end=arr.length-1;\n    \n    while(start&lt;=end){\n        int mid=start-(start-end)/2;\n        if(arr[mid-1]&lt;arr[mid]){\n            start=mid+1;\n        }\n        else {\n            end=mid-1;\n        }\n    }\n    return end;\n}\n}\n</code></pre>\n"},{"tags":["java","firebase-realtime-database","xiaomi"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649061986,"post_id":71716372,"comment_id":126771878,"body_markdown":"Are you getting any failures when the task is not successful?","body":"Are you getting any failures when the task is not successful?"},{"owner":{"account_id":22345050,"reputation":1,"user_id":16564207,"display_name":"Ilianto"},"score":0,"creation_date":1649099114,"post_id":71716372,"comment_id":126785799,"body_markdown":"I don&#39;t get any errors, no action happens after failure.","body":"I don&#39;t get any errors, no action happens after failure."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649137741,"post_id":71716372,"comment_id":126792959,"body_markdown":"Is your onComplete even triggered?","body":"Is your onComplete even triggered?"},{"owner":{"account_id":22345050,"reputation":1,"user_id":16564207,"display_name":"Ilianto"},"score":0,"creation_date":1649253934,"post_id":71716372,"comment_id":126829444,"body_markdown":"Yes, onComplete works, but gives the wrong resultCode, when i chose photo on poco m3","body":"Yes, onComplete works, but gives the wrong resultCode, when i chose photo on poco m3"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649254520,"post_id":71716372,"comment_id":126829712,"body_markdown":"What is the exact resultCode that you get?","body":"What is the exact resultCode that you get?"},{"owner":{"account_id":22345050,"reputation":1,"user_id":16564207,"display_name":"Ilianto"},"score":0,"creation_date":1649254634,"post_id":71716372,"comment_id":126829779,"body_markdown":"resulting resultode = 0","body":"resulting resultode = 0"}],"owner":{"account_id":22345050,"reputation":1,"user_id":16564207,"display_name":"Ilianto"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649099622,"creation_date":1648891954,"question_id":71716372,"body_markdown":"Uploading an image to firebase. There is no problem when downloading from android emulator or oppo phone, but when starting the project from poco m3 phone, no upload occurs.\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) { super.onActivityResult(requestCode, resultCode, data); if (requestCode == RC_IMAGE_PICKER&amp;&amp; resultCode == RESULT_OK){ Uri selectedImageUri = data.getData(); StorageReference imageReference = chatImagesStorageReference.child(selectedImageUri.getLastPathSegment()); UploadTask uploadTask = imageReference.putFile(selectedImageUri); uploadTask = imageReference.putFile(selectedImageUri);    \r\n    Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n            @Override\r\n            public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                if (!task.isSuccessful()) {\r\n    \r\n                    throw task.getException();\r\n                }\r\n    \r\n                // Continue with the task to get the download URL\r\n                return imageReference.getDownloadUrl();\r\n            }\r\n        }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    Uri downloadUri = task.getResult();\r\n                    AwesomeMessage message = new AwesomeMessage();\r\n                    message.setImageUrl(downloadUri.toString());\r\n                    message.setName(userName);\r\n                    messagesDatabaseReferences.push().setValue(message);\r\n    \r\n                } else {\r\n    \r\n                    // Handle failures\r\n                    // ...\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nBy trial, I determined that when starting from the phone, resultCode = 0, with which I cant understand it connected. Everything else except resultCode works properly.\r\n\r\nWhen running the application on the android emulator or on oppo , there were no problems, the pictures were sent, but nothing happened when sending from the poco m3.","title":"Wrong resultCode on poco phone","body":"<p>Uploading an image to firebase. There is no problem when downloading from android emulator or oppo phone, but when starting the project from poco m3 phone, no upload occurs.</p>\n<pre><code>protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) { super.onActivityResult(requestCode, resultCode, data); if (requestCode == RC_IMAGE_PICKER&amp;&amp; resultCode == RESULT_OK){ Uri selectedImageUri = data.getData(); StorageReference imageReference = chatImagesStorageReference.child(selectedImageUri.getLastPathSegment()); UploadTask uploadTask = imageReference.putFile(selectedImageUri); uploadTask = imageReference.putFile(selectedImageUri);    \nTask&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n        @Override\n        public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n            if (!task.isSuccessful()) {\n\n                throw task.getException();\n            }\n\n            // Continue with the task to get the download URL\n            return imageReference.getDownloadUrl();\n        }\n    }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n            if (task.isSuccessful()) {\n                Uri downloadUri = task.getResult();\n                AwesomeMessage message = new AwesomeMessage();\n                message.setImageUrl(downloadUri.toString());\n                message.setName(userName);\n                messagesDatabaseReferences.push().setValue(message);\n\n            } else {\n\n                // Handle failures\n                // ...\n            }\n        }\n    });\n}\n</code></pre>\n<p>By trial, I determined that when starting from the phone, resultCode = 0, with which I cant understand it connected. Everything else except resultCode works properly.</p>\n<p>When running the application on the android emulator or on oppo , there were no problems, the pictures were sent, but nothing happened when sending from the poco m3.</p>\n"},{"tags":["java","android","dart"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1649100980,"post_id":71742595,"comment_id":126786346,"body_markdown":"If you plan on releasing on Google Play-  this is against their terms of service.  It gets around the entire point of the play store review-  they want to ensure that the version of the code they approve is the version run, because a future version can have any type of malware and they wouldn&#39;t be able to catch it.","body":"If you plan on releasing on Google Play-  this is against their terms of service.  It gets around the entire point of the play store review-  they want to ensure that the version of the code they approve is the version run, because a future version can have any type of malware and they wouldn&#39;t be able to catch it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649102283,"post_id":71742595,"comment_id":126786759,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24826013,"reputation":1,"user_id":18705797,"display_name":"SFYtech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649099618,"creation_date":1649099618,"question_id":71742595,"body_markdown":"Greetings of the day\r\n\r\nI know you have a busy schedule. Would you like to give me your 10 to 20 minutes for a discussion. I have a doubt and did some google search for this. There are some information but those are not much clear. \r\nI am sure that if this doubt resolved and we found the solution to achieve the objective. It will help us for each and every project. It can be a time taking solution but only required once to get the line. \r\n\r\nDoubt :- Do we can make an application which hit an url and take a response and according response performe some commands to write and read or modify the file itself. \r\n\r\nIn Java or other language.\r\n\r\nIn short without building new generated file code can reflect as like in web it happen. \r\n\r\nExample :- we write and save the code file in web development at host location. Browser hit the url and show the output as it is newly writen code. \r\nIf we have added a new button in our website it reflects after saving the file. \r\n\r\nSame thing I wanted to perform in Java and Android or dart. \r\n\r\nIssue to solve:- the review time taken by play store. And for each update we need to build new apk each time.","title":"Reflecting code inside of Android applications from hosting servers without new build","body":"<p>Greetings of the day</p>\n<p>I know you have a busy schedule. Would you like to give me your 10 to 20 minutes for a discussion. I have a doubt and did some google search for this. There are some information but those are not much clear.\nI am sure that if this doubt resolved and we found the solution to achieve the objective. It will help us for each and every project. It can be a time taking solution but only required once to get the line.</p>\n<p>Doubt :- Do we can make an application which hit an url and take a response and according response performe some commands to write and read or modify the file itself.</p>\n<p>In Java or other language.</p>\n<p>In short without building new generated file code can reflect as like in web it happen.</p>\n<p>Example :- we write and save the code file in web development at host location. Browser hit the url and show the output as it is newly writen code.\nIf we have added a new button in our website it reflects after saving the file.</p>\n<p>Same thing I wanted to perform in Java and Android or dart.</p>\n<p>Issue to solve:- the review time taken by play store. And for each update we need to build new apk each time.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","postman"],"comments":[{"owner":{"account_id":5570129,"reputation":593,"user_id":4415800,"accept_rate":71,"display_name":"Samuel Fraga Mateos"},"score":0,"creation_date":1481530224,"post_id":41085983,"comment_id":69397409,"body_markdown":"If I do this, it allows me to access /subscribers but also allows me to access secured REST endpoints. @Sobik","body":"If I do this, it allows me to access /subscribers but also allows me to access secured REST endpoints. @Sobik"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1481616942,"post_id":41085983,"comment_id":69436673,"body_markdown":"That is what you programmed yourself by overriding the `requiresAuthentication`. It always will now return this. Why are you implementing JWT support yourself? Spring Security already has an extension for that.","body":"That is what you programmed yourself by overriding the <code>requiresAuthentication</code>. It always will now return this. Why are you implementing JWT support yourself? Spring Security already has an extension for that."},{"owner":{"account_id":5570129,"reputation":593,"user_id":4415800,"accept_rate":71,"display_name":"Samuel Fraga Mateos"},"score":0,"creation_date":1481623247,"post_id":41085983,"comment_id":69440269,"body_markdown":"I&#39;m learning Spring security, my knowledge about spring security is poor. How can use Spring Security default JWT support? @M.Deinum","body":"I&#39;m learning Spring security, my knowledge about spring security is poor. How can use Spring Security default JWT support? @M.Deinum"},{"owner":{"account_id":5570129,"reputation":593,"user_id":4415800,"accept_rate":71,"display_name":"Samuel Fraga Mateos"},"score":1,"creation_date":1481648841,"post_id":41085983,"comment_id":69457317,"body_markdown":"Thanks a lot for your help @dur ! Log can be found [here](https://dl.dropboxusercontent.com/u/105608756/log.txt). I only made bootRun and after, a POST Request to /subscribers.","body":"Thanks a lot for your help @dur ! Log can be found <a href=\"https://dl.dropboxusercontent.com/u/105608756/log.txt\" rel=\"nofollow noreferrer\">here</a>. I only made bootRun and after, a POST Request to /subscribers."},{"owner":{"account_id":5570129,"reputation":593,"user_id":4415800,"accept_rate":71,"display_name":"Samuel Fraga Mateos"},"score":1,"creation_date":1481802205,"post_id":41085983,"comment_id":69527186,"body_markdown":"@dur Thanks a lot!!!!!!! Now it&#39;s working. Spring were not taking configuration because config package was not on `@ComponentScan(basePackages=&quot;...&quot;)`","body":"@dur Thanks a lot!!!!!!! Now it&#39;s working. Spring were not taking configuration because config package was not on <code>@ComponentScan(basePackages=&quot;...&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2469017,"reputation":1184,"user_id":2151387,"accept_rate":83,"display_name":"dikkini"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1481637671,"creation_date":1481554544,"answer_id":41103594,"question_id":41085983,"body_markdown":"After some researching, here is solution:\r\n\r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n    @ComponentScan(basePackages = { PackageConstants.PACKAGE_CONTROLLERS_REST, PackageConstants.PACKAGE_SERVICES,\r\n    \t\tPackageConstants.PACKAGE_SERVICES_IMPL, PackageConstants.PACKAGE_MONGO_REPOSITORIES,\r\n    \t\tPackageConstants.PACKAGE_MONGO_REPOSITORIES_IMPL, PackageConstants.PACKAGE_UTILS })\r\n    public class Application {\r\n    \r\n    \t// Clase principal que se ejecuta en el bootrun\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\nMain line is `@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })` it tells not use Spring Boot Security AutoConfiguration configuration. It is not full answer, because now you have to tell Spring user your Spring Security configuration class. Also i advice you to create Initializer class with init Root Config Classes, ApplicationConfiguration using and refuse to use SpringBoot applications. Something like this:\r\n\r\nApplicationConfig:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(&quot;com.trueport.*&quot;)\r\n    @PropertySource(&quot;classpath:app.properties&quot;)\r\n    public class ApplicationConfig extends WebMvcConfigurerAdapter {\r\n        ....\r\n    }\r\n\r\nApplicationSecurityConfig:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    public class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        ....\r\n    }\r\n\r\nInitializer:\r\n\r\n    public class Initializer implements WebApplicationInitializer {\r\n    \r\n        private static final String DISPATCHER_SERVLET_NAME = &quot;dispatcher&quot;;\r\n    \r\n        @Override\r\n        public void onStartup(ServletContext servletContext) throws ServletException {\r\n            AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n            ....\r\n            DispatcherServlet dispatcherServlet = new DispatcherServlet(ctx);\r\n            dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);\r\n            ctx.register(ApplicationConfig.class);\r\n            ServletRegistration.Dynamic servlet =     servletContext.addServlet(DISPATCHER_SERVLET_NAME,\r\n                dispatcherServlet);\r\n            servlet.addMapping(&quot;/&quot;);\r\n            servlet.setLoadOnStartup(1);\r\n            servlet.setAsyncSupported(true);\r\n        }\r\n    }","title":"Spring security 401 Unauthorized on unsecured endpoint","body":"<p>After some researching, here is solution:</p>\n\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n@ComponentScan(basePackages = { PackageConstants.PACKAGE_CONTROLLERS_REST, PackageConstants.PACKAGE_SERVICES,\n        PackageConstants.PACKAGE_SERVICES_IMPL, PackageConstants.PACKAGE_MONGO_REPOSITORIES,\n        PackageConstants.PACKAGE_MONGO_REPOSITORIES_IMPL, PackageConstants.PACKAGE_UTILS })\npublic class Application {\n\n    // Clase principal que se ejecuta en el bootrun\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Main line is <code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })</code> it tells not use Spring Boot Security AutoConfiguration configuration. It is not full answer, because now you have to tell Spring user your Spring Security configuration class. Also i advice you to create Initializer class with init Root Config Classes, ApplicationConfiguration using and refuse to use SpringBoot applications. Something like this:</p>\n\n<p>ApplicationConfig:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(\"com.trueport.*\")\n@PropertySource(\"classpath:app.properties\")\npublic class ApplicationConfig extends WebMvcConfigurerAdapter {\n    ....\n}\n</code></pre>\n\n<p>ApplicationSecurityConfig:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\n    ....\n}\n</code></pre>\n\n<p>Initializer:</p>\n\n<pre><code>public class Initializer implements WebApplicationInitializer {\n\n    private static final String DISPATCHER_SERVLET_NAME = \"dispatcher\";\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ....\n        DispatcherServlet dispatcherServlet = new DispatcherServlet(ctx);\n        dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);\n        ctx.register(ApplicationConfig.class);\n        ServletRegistration.Dynamic servlet =     servletContext.addServlet(DISPATCHER_SERVLET_NAME,\n            dispatcherServlet);\n        servlet.addMapping(\"/\");\n        servlet.setLoadOnStartup(1);\n        servlet.setAsyncSupported(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5570129,"reputation":593,"user_id":4415800,"accept_rate":71,"display_name":"Samuel Fraga Mateos"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1515755794,"creation_date":1481802351,"answer_id":41163405,"question_id":41085983,"body_markdown":"Spring Boot was not applying the configuration because couldn&#39;t find it. On *Application.java* config package was not included with `@ComponentScan` anotation.","title":"Spring security 401 Unauthorized on unsecured endpoint","body":"<p>Spring Boot was not applying the configuration because couldn't find it. On <em>Application.java</em> config package was not included with <code>@ComponentScan</code> anotation.</p>\n"},{"tags":[],"owner":{"account_id":5768782,"reputation":2885,"user_id":4552842,"display_name":"Guru Cse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588112207,"creation_date":1588112207,"answer_id":61490911,"question_id":41085983,"body_markdown":"You need to add the following to your configure method /error is the default fall back when error occurs to the application due to any exception and it is secured by default.\r\n\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n    //disable CRSF\r\n    httpSecurity\r\n            //no authentication needed for these context paths\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/error&quot;).permitAll()\r\n            .antMatchers(&quot;/error/**&quot;).permitAll()\r\n            .antMatchers(&quot;/your Urls that dosen&#39;t need security/**&quot;).permitAll()\r\nAlso the below code snippet\r\n\r\n         @Override\r\n           public void configure(WebSecurity webSecurity) throws Exception\r\n             {\r\n              webSecurity\r\n              .ignoring()\r\n               // All of Spring Security will ignore the requests\r\n               .antMatchers(&quot;/error/**&quot;)\r\n              }  \r\nNow you will not get 401 and get 500 exception with details when an exception occurred for permitAll Urls","title":"Spring security 401 Unauthorized on unsecured endpoint","body":"<p>You need to add the following to your configure method /error is the default fall back when error occurs to the application due to any exception and it is secured by default.</p>\n\n<pre><code>protected void configure(HttpSecurity httpSecurity) throws Exception {\n//disable CRSF\nhttpSecurity\n        //no authentication needed for these context paths\n        .authorizeRequests()\n        .antMatchers(\"/error\").permitAll()\n        .antMatchers(\"/error/**\").permitAll()\n        .antMatchers(\"/your Urls that dosen't need security/**\").permitAll()\n</code></pre>\n\n<p>Also the below code snippet</p>\n\n<pre><code>     @Override\n       public void configure(WebSecurity webSecurity) throws Exception\n         {\n          webSecurity\n          .ignoring()\n           // All of Spring Security will ignore the requests\n           .antMatchers(\"/error/**\")\n          }  \n</code></pre>\n\n<p>Now you will not get 401 and get 500 exception with details when an exception occurred for permitAll Urls</p>\n"},{"tags":[],"owner":{"account_id":7651321,"reputation":1415,"user_id":5799945,"display_name":"artfulbeest"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649099452,"creation_date":1649099452,"answer_id":71742559,"question_id":41085983,"body_markdown":"If your application is simply saving APIs, and you have included dependency for spring security - for any other reason (Mine was to enables headers X-Frame and Content-Security-Policy), then by default Spring includes servlet filter for csrf protection. If you do not disable this, all requests fail with HTTP 401 error.\r\n\r\nTo disable it, You create a Configuration class extending `WebSecurityConfigurerAdapter` and annotated with `EnableWebSecurity`\r\n\r\n    \r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class WebSecurityConfig extends\r\n       WebSecurityConfigurerAdapter {\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n          .csrf().disable();\r\n      }\r\n    }\r\n\r\nThis [article][1] is worthy the read - very detailed.\r\n\r\n\r\n  [1]: https://www.marcobehler.com/guides/spring-security","title":"Spring security 401 Unauthorized on unsecured endpoint","body":"<p>If your application is simply saving APIs, and you have included dependency for spring security - for any other reason (Mine was to enables headers X-Frame and Content-Security-Policy), then by default Spring includes servlet filter for csrf protection. If you do not disable this, all requests fail with HTTP 401 error.</p>\n<p>To disable it, You create a Configuration class extending <code>WebSecurityConfigurerAdapter</code> and annotated with <code>EnableWebSecurity</code></p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends\n   WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http\n      .csrf().disable();\n  }\n}\n</code></pre>\n<p>This <a href=\"https://www.marcobehler.com/guides/spring-security\" rel=\"nofollow noreferrer\">article</a> is worthy the read - very detailed.</p>\n"}],"owner":{"account_id":5570129,"reputation":593,"user_id":4415800,"accept_rate":71,"display_name":"Samuel Fraga Mateos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45206,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":41163405,"answer_count":4,"score":11,"last_activity_date":1649099452,"creation_date":1481458066,"question_id":41085983,"body_markdown":"I&#39;m trying to configure Spring Security on a Spring Boot application as follows:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tprivate RestAuthenticationEntryPoint unauthorizedHandler;\r\n\r\n\t@Bean\r\n\tpublic JwtAuthenticationFilter authenticationTokenFilterBean() throws Exception {\r\n\t\tJwtAuthenticationFilter authenticationTokenFilter = new JwtAuthenticationFilter();\r\n\t\tauthenticationTokenFilter.setAuthenticationManager(authenticationManagerBean());\r\n\t\treturn authenticationTokenFilter;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\r\n\t\t//@formatter:off\r\n\t\t httpSecurity\r\n\t      .csrf()\r\n\t        .disable()\r\n\t      .exceptionHandling()\r\n\t        .authenticationEntryPoint(this.unauthorizedHandler)\r\n\t        .and()\r\n\t      .sessionManagement()\r\n\t        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t        .and()\r\n\t      .authorizeRequests()\r\n\t        .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n\t        .antMatchers(&quot;/login&quot;, &quot;/singup&quot;, &quot;/subscribers&quot;).permitAll()\r\n\t        .anyRequest().authenticated();\r\n\t\t\r\n\t\t\t// Custom JWT based security filter \r\n\t\thttpSecurity            \r\n\t\t\t.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);   \r\n\t\t\r\n\t\t//@formatter:on\r\n\r\n\t}\r\n    }\r\n\r\n\r\nMy unauthorizedHandler is:\r\n\r\n    public class RestAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(RestAuthenticationEntryPoint.class);\r\n\r\n\t@Override\r\n\tpublic void commence(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\tAuthenticationException authException) throws IOException, ServletException {\r\n\t\tresponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n\t}\r\n\r\n    }\r\n\r\n\r\nFinally, the REST controller for /subscribers is:\r\n\r\n    @RestController\r\n    public class SubscriberRestController {\r\n\r\n\t@Autowired\r\n\tISubscribersService subscribersService;\r\n\r\n\t@RequestMapping(value = RequestMappingConstants.SUBSCRIBERS, method = RequestMethod.GET)\r\n\t@ResponseBody\r\n\tpublic Number subscriberCount() {\r\n\r\n\t\treturn subscribersService.subscribersCount();\r\n\t}\r\n\r\n\t@RequestMapping(value = RequestMappingConstants.SUBSCRIBERS, method = RequestMethod.POST)\r\n\tpublic String subscriberPost(@RequestBody SubscriberDocument subscriberDocument) {\r\n\r\n\t\treturn subscribersService.subscribersInsert(subscriberDocument);\r\n\t}\r\n\r\n\t@RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n\tpublic String test() {\r\n\r\n\t\treturn &quot;This is a test&quot;;\r\n\t}\r\n\r\n    }\r\n\r\nI use postman to test endpoints and when I do a POST to &quot;localhost:8080/subscribers&quot;,  I get:\r\n\r\n[![Postman result][1]][1]\r\n\r\n\r\nI want to have opened endpoints (/subscribers) without any security control or credentials check, endpoints for singup and login and secured endpoints for authenticated users.\r\n\r\nThanks! :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cOtlx.png","title":"Spring security 401 Unauthorized on unsecured endpoint","body":"<p>I'm trying to configure Spring Security on a Spring Boot application as follows:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Autowired\nprivate RestAuthenticationEntryPoint unauthorizedHandler;\n\n@Bean\npublic JwtAuthenticationFilter authenticationTokenFilterBean() throws Exception {\n    JwtAuthenticationFilter authenticationTokenFilter = new JwtAuthenticationFilter();\n    authenticationTokenFilter.setAuthenticationManager(authenticationManagerBean());\n    return authenticationTokenFilter;\n}\n\n@Override\nprotected void configure(HttpSecurity httpSecurity) throws Exception {\n\n    //@formatter:off\n     httpSecurity\n      .csrf()\n        .disable()\n      .exceptionHandling()\n        .authenticationEntryPoint(this.unauthorizedHandler)\n        .and()\n      .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n      .authorizeRequests()\n        .antMatchers(HttpMethod.OPTIONS, \"/**\").permitAll()\n        .antMatchers(\"/login\", \"/singup\", \"/subscribers\").permitAll()\n        .anyRequest().authenticated();\n\n        // Custom JWT based security filter \n    httpSecurity            \n        .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);   \n\n    //@formatter:on\n\n}\n}\n</code></pre>\n\n<p>My unauthorizedHandler is:</p>\n\n<pre><code>public class RestAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(RestAuthenticationEntryPoint.class);\n\n@Override\npublic void commence(HttpServletRequest request, HttpServletResponse response,\n        AuthenticationException authException) throws IOException, ServletException {\n    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, \"Unauthorized\");\n}\n\n}\n</code></pre>\n\n<p>Finally, the REST controller for /subscribers is:</p>\n\n<pre><code>@RestController\npublic class SubscriberRestController {\n\n@Autowired\nISubscribersService subscribersService;\n\n@RequestMapping(value = RequestMappingConstants.SUBSCRIBERS, method = RequestMethod.GET)\n@ResponseBody\npublic Number subscriberCount() {\n\n    return subscribersService.subscribersCount();\n}\n\n@RequestMapping(value = RequestMappingConstants.SUBSCRIBERS, method = RequestMethod.POST)\npublic String subscriberPost(@RequestBody SubscriberDocument subscriberDocument) {\n\n    return subscribersService.subscribersInsert(subscriberDocument);\n}\n\n@RequestMapping(value = \"/test\", method = RequestMethod.GET)\npublic String test() {\n\n    return \"This is a test\";\n}\n\n}\n</code></pre>\n\n<p>I use postman to test endpoints and when I do a POST to \"localhost:8080/subscribers\",  I get:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cOtlx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cOtlx.png\" alt=\"Postman result\"></a></p>\n\n<p>I want to have opened endpoints (/subscribers) without any security control or credentials check, endpoints for singup and login and secured endpoints for authenticated users.</p>\n\n<p>Thanks! :)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1649093680,"post_id":71740785,"comment_id":126784104,"body_markdown":"https://stackoverflow.com/questions/59634993/how-to-pass-multipart-file-from-one-service-to-another-service-in-spring-boot","body":"<a href=\"https://stackoverflow.com/questions/59634993/how-to-pass-multipart-file-from-one-service-to-another-service-in-spring-boot\" title=\"how to pass multipart file from one service to another service in spring boot\">stackoverflow.com/questions/59634993/&hellip;</a>"},{"owner":{"account_id":1051892,"reputation":286,"user_id":1055610,"display_name":"Paul"},"score":0,"creation_date":1649094833,"post_id":71740785,"comment_id":126784473,"body_markdown":"@PeterMmm I appreciate the feedback! I do not use Feign Client, though.  Their solution requires it.","body":"@PeterMmm I appreciate the feedback! I do not use Feign Client, though.  Their solution requires it."}],"answers":[{"tags":[],"owner":{"account_id":4754242,"reputation":883,"user_id":3843392,"display_name":"jumb0jet"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1649099425,"creation_date":1649099425,"answer_id":71742554,"question_id":71740785,"body_markdown":"Using `RestTemplate` you can send Multipart Form Data requests. Below you can find a code snippet on how to prepare such requests. \r\nAlso `RestTemplate` allows you to upload `Resource`, which you can obtain from the `MultipartFile` by calling `MultipartFile#getResource()`\r\n\r\n\r\n```java\r\npublic String myFileUpload(@RequestParam(&quot;foo&quot;) MultipartFile myFile) {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n    body.add(&quot;bar&quot;, myFile.getResource());\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.postForEntity(\r\n        &quot;http://localhost:8080/serviceB&quot;, // &lt;-- put real endpoint here\r\n        requestEntity,\r\n        String.class\r\n    );\r\n\r\n    return responseEntity.getBody();\r\n}\r\n```","title":"How do I upload a file and pass it to another service without writing it to the file system in Spring Boot?","body":"<p>Using <code>RestTemplate</code> you can send Multipart Form Data requests. Below you can find a code snippet on how to prepare such requests.\nAlso <code>RestTemplate</code> allows you to upload <code>Resource</code>, which you can obtain from the <code>MultipartFile</code> by calling <code>MultipartFile#getResource()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public String myFileUpload(@RequestParam(&quot;foo&quot;) MultipartFile myFile) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;bar&quot;, myFile.getResource());\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.postForEntity(\n        &quot;http://localhost:8080/serviceB&quot;, // &lt;-- put real endpoint here\n        requestEntity,\n        String.class\n    );\n\n    return responseEntity.getBody();\n}\n</code></pre>\n"}],"owner":{"account_id":1051892,"reputation":286,"user_id":1055610,"display_name":"Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649099425,"creation_date":1649090391,"question_id":71740785,"body_markdown":"Suppose I have a front end.  On said front end, I want to upload a file.  The controller in the Spring Boot (Java) app receives said file as a MultipartFile (Service A).  I want to take the input stream from that, and send it to a different service (Service B) without writing said stream to the file system.  Service B should return something to Service A which sends said response to the client to let me know it has handled said file after completion of the streaming.  I am unsure which libraries/classes to use to achieve this in a Spring Boot app.  I assume Java or Spring Boot has all kinds of helper classes to make this trivial, I&#39;m just unsure which and how to string them together in the correct order.\r\n\r\nClient --\\&gt; Service A --\\&gt; Service B\r\n\r\nAny help would be appreciated, as the current approach of writing it to a file system is a horrible approach that I want refactored ASAP.\r\n\r\n```\r\n@Autowired\r\nRestTemplate restTemplate\r\n\r\npublic customResponse myFileUpload(@RequestParam(&quot;foo&quot;) MultipartFile myFile) {\r\n  //myFile comes in fine, I can pull input stream via myFile.getInputStream();\r\n  //Should pull stream from myFile and return response from Service A here.\r\n  //Not sure if I need to map the input to an outputStream or something?\r\n\r\n  return restTemplate.postForObject(serviceA.url, ???, customResponse.class);\r\n}\r\n```","title":"How do I upload a file and pass it to another service without writing it to the file system in Spring Boot?","body":"<p>Suppose I have a front end.  On said front end, I want to upload a file.  The controller in the Spring Boot (Java) app receives said file as a MultipartFile (Service A).  I want to take the input stream from that, and send it to a different service (Service B) without writing said stream to the file system.  Service B should return something to Service A which sends said response to the client to let me know it has handled said file after completion of the streaming.  I am unsure which libraries/classes to use to achieve this in a Spring Boot app.  I assume Java or Spring Boot has all kinds of helper classes to make this trivial, I'm just unsure which and how to string them together in the correct order.</p>\n<p>Client --&gt; Service A --&gt; Service B</p>\n<p>Any help would be appreciated, as the current approach of writing it to a file system is a horrible approach that I want refactored ASAP.</p>\n<pre><code>@Autowired\nRestTemplate restTemplate\n\npublic customResponse myFileUpload(@RequestParam(&quot;foo&quot;) MultipartFile myFile) {\n  //myFile comes in fine, I can pull input stream via myFile.getInputStream();\n  //Should pull stream from myFile and return response from Service A here.\n  //Not sure if I need to map the input to an outputStream or something?\n\n  return restTemplate.postForObject(serviceA.url, ???, customResponse.class);\n}\n</code></pre>\n"},{"tags":["java","aspose","aspose-cells"],"answers":[{"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649099360,"creation_date":1649099360,"answer_id":71742540,"question_id":71689208,"body_markdown":"You need to understand the object model, internal structure and working of the light cells APIs first. The LightCells APIs (provided by Aspose.Cells) are mainly designed to manipulate cell data one by one without building a complete data model block (using the Cell collection, etc.) into memory. It works in an event-driven mode. To save workbooks, it will provide the cell content cell by cell when saving, and the component saves it to the output file directly. Similarly when reading template files, the component parses every cell and provides their value one by one.\r\n\r\nIn short, when using light cells APIs, one Cell object is processed and then discarded, the Workbook object does not hold the collection at all in the memory. This model would surely save lots of memory when handling large Excel file with data.\r\n\r\nPlease consider and note:\r\nFor your needs, you may choose XLSX file format instead of XLS, because XLSX is an Open Office XML-based spreadsheet format. Generally, using LightCells API to save XLSX file may save 50% or more memory than using the common way, saving XLS may save about 20-40% memory.\r\n\r\n&gt; I specifically want to load the data of the cells in memory in chunks (for e.g. processing only the first 100 rows and then the next 100 and so on) so that less memory will be consumed in the entire process.\r\n\r\nAs I mentioned above, you do not need to do this as in LightCells APIs, data is processed cell by cell (without building the complete data model for the whole spreadsheet) which is more performance oriented approach and will consume less memory and works efficiently. In light weight mode, one cell is processed and then discarded immediately and then it navigates to next cell and so on.\r\n\r\n&gt; Want to implement below code but using lightCell api in aspose-\r\npublic static void createTemplate( String originalFilePath, List&lt;String&gt; originalFileSheetNameList, String templateFilePath ) throws Exception {    \r\n        LoadOptions opts = new LoadOptions();\r\n    opts.setMemorySetting(MemorySetting.MEMORY_PREFERENCE);\r\n    Workbook wb = new Workbook(originalFilePath, opts);\r\n\r\nIn LightCells mode, importing additional data, deleting rows, columns or range of cells may not work (considering the architecture and nature of the LightCells APIs), so you have to do such things outside of the implementation, i.e., perform the operations like removing rows/cols or cells in the class that implements the light cells interface.\r\n\r\nShould you have further queries, doubts or issues working with light cells APIs, you may also post in the dedicated [forums][1].\r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose.\r\n\r\n\r\n  [1]: https://forum.aspose.com/c/cells/9","title":"How to use LightCells Api to read and write large excel files in Aspose.Cells","body":"<p>You need to understand the object model, internal structure and working of the light cells APIs first. The LightCells APIs (provided by Aspose.Cells) are mainly designed to manipulate cell data one by one without building a complete data model block (using the Cell collection, etc.) into memory. It works in an event-driven mode. To save workbooks, it will provide the cell content cell by cell when saving, and the component saves it to the output file directly. Similarly when reading template files, the component parses every cell and provides their value one by one.</p>\n<p>In short, when using light cells APIs, one Cell object is processed and then discarded, the Workbook object does not hold the collection at all in the memory. This model would surely save lots of memory when handling large Excel file with data.</p>\n<p>Please consider and note:\nFor your needs, you may choose XLSX file format instead of XLS, because XLSX is an Open Office XML-based spreadsheet format. Generally, using LightCells API to save XLSX file may save 50% or more memory than using the common way, saving XLS may save about 20-40% memory.</p>\n<blockquote>\n<p>I specifically want to load the data of the cells in memory in chunks (for e.g. processing only the first 100 rows and then the next 100 and so on) so that less memory will be consumed in the entire process.</p>\n</blockquote>\n<p>As I mentioned above, you do not need to do this as in LightCells APIs, data is processed cell by cell (without building the complete data model for the whole spreadsheet) which is more performance oriented approach and will consume less memory and works efficiently. In light weight mode, one cell is processed and then discarded immediately and then it navigates to next cell and so on.</p>\n<blockquote>\n<p>Want to implement below code but using lightCell api in aspose-\npublic static void createTemplate( String originalFilePath, List originalFileSheetNameList, String templateFilePath ) throws Exception {<br />\nLoadOptions opts = new LoadOptions();\nopts.setMemorySetting(MemorySetting.MEMORY_PREFERENCE);\nWorkbook wb = new Workbook(originalFilePath, opts);</p>\n</blockquote>\n<p>In LightCells mode, importing additional data, deleting rows, columns or range of cells may not work (considering the architecture and nature of the LightCells APIs), so you have to do such things outside of the implementation, i.e., perform the operations like removing rows/cols or cells in the class that implements the light cells interface.</p>\n<p>Should you have further queries, doubts or issues working with light cells APIs, you may also post in the dedicated <a href=\"https://forum.aspose.com/c/cells/9\" rel=\"nofollow noreferrer\">forums</a>.</p>\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"}],"owner":{"account_id":24338306,"reputation":11,"user_id":18276048,"display_name":"Vaibhav Karale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649099360,"creation_date":1648714921,"question_id":71689208,"body_markdown":"I want to make use of the LightCells API within Aspose.Cells to help optimize my read and write processes while also reducing the memory utilization while processing the excel file.\r\n\r\nI have queries regarding the implementation of this API. How can I use light cell APIs - LightCellsDataProvider and LightCellsDataHandler - to efficiently read and write Excel through less memory utilization. I specifically want to load the data of the cells in memory in chunks (for e.g. processing only the first 100 rows and then the next 100 and so on) so that less memory will be consumed in the entire process.\r\n\r\n**Want to implement below code but using lightCell api in aspose-**\r\n\r\n    public static void createTemplate( String originalFilePath, List&lt;String&gt; originalFileSheetNameList, String templateFilePath ) throws Exception {\t\r\n            LoadOptions opts = new LoadOptions();\r\n    \topts.setMemorySetting(MemorySetting.MEMORY_PREFERENCE);\r\n    \tWorkbook wb = new Workbook(originalFilePath, opts);\r\n    \tWorksheetCollection wsCollections = wb.getWorksheets();\r\n    \t\tfor(String sheetName: originalFileSheetNameList) {\r\n    \t\t\tWorksheet sheet = wsCollections.get(sheetName);\r\n    \t\t\tsheet.getCells().deleteRows(1, sheet.getCells().getMaxDataRow());\r\n    \t\t}\r\n    \r\n    \tFileOutputStream outputStream = new FileOutputStream(templateFilePath);\r\n    \twb.save(outputStream, SaveFormat.XLSX);\r\n    \toutputStream.close();\r\n       \r\n    }\r\n\r\n**Below code is the Aspose.Cells light cell api implementation.**\r\n**Using LightCells how can I implement above code -**\r\n\r\n    public static void createTemplate(String originalFilePath, List&lt;String&gt; originalFileSheetName, String templateFilePath ) throws Exception {\t\r\n            LoadOptions opts = new LoadOptions();\r\n    \tLightCellsDataHandlerVisitCells v = new LightCellsDataHandlerVisitCells();\r\n    \topts.setLightCellsDataHandler((LightCellsDataHandler) v);\r\n    \tWorkbook wb = new Workbook(originalFilePath, opts);\r\n    \tint sheetCount = wb.getWorksheets().getCount();\r\n        v.startSheet(wb.getWorksheets().get(&quot;System_Data&quot;));\r\n    \tSystem.out.println(&quot;Total sheets: &quot; + sheetCount + &quot;, cells: &quot; + v.cellCount + &quot;, strings: &quot; + v.stringCount\r\n    \t\t\t+ &quot;, formulas: &quot; + v.formulaCount);\r\n       \r\n    }\r\n\r\n**For reading -**\r\n\r\n    import com.aspose.cells.Cell; \r\n    import com.aspose.cells.CellValueType; \r\n    import com.aspose.cells.LightCellsDataHandler; \r\n    import com.aspose.cells.Row; \r\n    import com.aspose.cells.Worksheet;\r\n    \r\n    public class LightCellsDataHandlerVisitCells implements LightCellsDataHandler { \r\n    public int cellCount; \r\n    public int formulaCount; \r\n    public int stringCount;\r\n    \r\n    public LightCellsDataHandlerVisitCells() {\r\n    \tthis.cellCount = 0;\r\n    \tthis.formulaCount = 0;\r\n    \tthis.stringCount = 0;\r\n    }\r\n    \r\n    public int cellCount() {\r\n    \treturn cellCount;\r\n    }\r\n    \r\n    public int formulaCount() {\r\n    \treturn formulaCount;\r\n    }\r\n    \r\n    public int stringCount() {\r\n    \treturn stringCount;\r\n    }\r\n    \r\n    public boolean startSheet(Worksheet sheet) {\r\n    \tSystem.out.println(&quot;Processing sheet[&quot; + sheet.getName() + &quot;]&quot;);\r\n    \tSystem.out.println(&quot;Processing sheet rows[&quot; + sheet.getCells().getMaxDataRow() + &quot;]&quot;);\r\n    \treturn true;\r\n    }\r\n    \r\n    public boolean startRow(int rowIndex) {\r\n    \treturn true;\r\n    }\r\n    \r\n    public boolean processRow(Row row) {\r\n    \treturn true;\r\n    }\r\n    \r\n    public boolean startCell(int column) {\r\n    \treturn true;\r\n    }\r\n    \r\n    public boolean processCell(Cell cell) {\r\n    \tthis.cellCount = this.cellCount + 1;\r\n    \tcell.getRow();\r\n    \tif (cell.isFormula()) {\r\n    \t\tthis.formulaCount = this.formulaCount + 1;\r\n    \t} else if (cell.getType() == CellValueType.IS_STRING) {\r\n    \t\tthis.stringCount = this.stringCount + 1;\r\n    \t}\r\n    \treturn false;\r\n    }\r\n    }\r\n\r\n**getting print -1 on `System.out.println(&quot;Processing sheet rows[&quot; + sheet.getCells().getMaxDataRow() + &quot;]&quot;);`**\r\n\r\n**For writing -**\r\n\r\n    public class LightCellsDataProviderDemo implements LightCellsDataProvider { \r\n    \r\n    private final int sheetCount; \r\n    private final int maxRowIndex; \r\n    private final int maxColIndex; \r\n    private int rowIndex; \r\n    private int colIndex; \r\n    private final Style style1; \r\n    private final Style style2;\r\n    \r\n    public LightCellsDataProviderDemo(Workbook wb, int sheetCount, int rowCount, int colCount) {\r\n    \t// set the variables/objects\r\n    \tthis.sheetCount = sheetCount;\r\n    \tthis.maxRowIndex = rowCount - 1;\r\n    \tthis.maxColIndex = colCount - 1;\r\n    \r\n    \t// add new style object with specific formattings\r\n    \tstyle1 = wb.createStyle();\r\n    \tFont font = style1.getFont();\r\n    \tfont.setName(&quot;MS Sans Serif&quot;);\r\n    \tfont.setSize(10);\r\n    \tfont.setBold(true);\r\n    \tfont.setItalic(true);\r\n    \tfont.setUnderline(FontUnderlineType.SINGLE);\r\n    \tfont.setColor(Color.fromArgb(0xffff0000));\r\n    \tstyle1.setHorizontalAlignment(TextAlignmentType.CENTER);\r\n    \r\n    \t// create another style\r\n    \tstyle2 = wb.createStyle();\r\n    \tstyle2.setCustom(&quot;#,##0.00&quot;);\r\n    \tfont = style2.getFont();\r\n    \tfont.setName(&quot;Copperplate Gothic Bold&quot;);\r\n    \tfont.setSize(8);\r\n    \tstyle2.setPattern(BackgroundType.SOLID);\r\n    \tstyle2.setForegroundColor(Color.fromArgb(0xff0000ff));\r\n    \tstyle2.setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, Color.getBlack());\r\n    \tstyle2.setVerticalAlignment(TextAlignmentType.CENTER);\r\n    }\r\n    \r\n    public boolean isGatherString() {\r\n    \treturn false;\r\n    }\r\n    \r\n    public int nextCell() {\r\n    \tif (colIndex &lt; maxColIndex) {\r\n    \t\tcolIndex++;\r\n    \t\treturn colIndex;\r\n    \t}\r\n    \treturn -1;\r\n    }\r\n    \r\n    public int nextRow() {\r\n    \tif (rowIndex &lt; maxRowIndex) {\r\n    \t\trowIndex++;\r\n    \t\tcolIndex = -1; // reset column index\r\n    \t\tif (rowIndex % 1000 == 0) {\r\n    \t\t\tSystem.out.println(&quot;Row &quot; + rowIndex);\r\n    \t\t}\r\n    \t\treturn rowIndex;\r\n    \t}\r\n    \treturn -1;\r\n    }\r\n    \r\n    public void startCell(Cell cell) {\r\n    \tif (rowIndex % 50 == 0 &amp;&amp; (colIndex == 0 || colIndex == 3)) {\r\n    \t\t// do not change the content of hyperlink.\r\n    \t\treturn;\r\n    \t}\r\n    \tif (colIndex &lt; 10) {\r\n    \t\tcell.putValue(&quot;test_&quot; + rowIndex + &quot;_&quot; + colIndex);\r\n    \t\tcell.setStyle(style1);\r\n    \t} else {\r\n    \t\tif (colIndex == 19) {\r\n    \t\t\tcell.setFormula(&quot;=Rand() + test!L1&quot;);\r\n    \t\t} else {\r\n    \t\t\tcell.putValue(rowIndex * colIndex);\r\n    \t\t}\r\n    \t\tcell.setStyle(style2);\r\n    \t}\r\n    }\r\n    \r\n    public void startRow(Row row) {\r\n    \trow.setHeight(25);\r\n    }\r\n    \r\n    public boolean startSheet(int sheetIndex) {\r\n    \tif (sheetIndex &lt; sheetCount) {\r\n    \t\t// reset row/column index\r\n    \t\trowIndex = -1;\r\n    \t\tcolIndex = -1;\r\n    \t\treturn true;\r\n    \t}\r\n    \treturn false;\r\n    }`\r\n\r\n**Source** - https://forum.aspose.com/t/read-write-huge-excel-files-1m-rows/38441/8\r\nhttps://docs.aspose.com/cells/java/using-lightcells-api/","title":"How to use LightCells Api to read and write large excel files in Aspose.Cells","body":"<p>I want to make use of the LightCells API within Aspose.Cells to help optimize my read and write processes while also reducing the memory utilization while processing the excel file.</p>\n<p>I have queries regarding the implementation of this API. How can I use light cell APIs - LightCellsDataProvider and LightCellsDataHandler - to efficiently read and write Excel through less memory utilization. I specifically want to load the data of the cells in memory in chunks (for e.g. processing only the first 100 rows and then the next 100 and so on) so that less memory will be consumed in the entire process.</p>\n<p><strong>Want to implement below code but using lightCell api in aspose-</strong></p>\n<pre><code>public static void createTemplate( String originalFilePath, List&lt;String&gt; originalFileSheetNameList, String templateFilePath ) throws Exception {    \n        LoadOptions opts = new LoadOptions();\n    opts.setMemorySetting(MemorySetting.MEMORY_PREFERENCE);\n    Workbook wb = new Workbook(originalFilePath, opts);\n    WorksheetCollection wsCollections = wb.getWorksheets();\n        for(String sheetName: originalFileSheetNameList) {\n            Worksheet sheet = wsCollections.get(sheetName);\n            sheet.getCells().deleteRows(1, sheet.getCells().getMaxDataRow());\n        }\n\n    FileOutputStream outputStream = new FileOutputStream(templateFilePath);\n    wb.save(outputStream, SaveFormat.XLSX);\n    outputStream.close();\n   \n}\n</code></pre>\n<p><strong>Below code is the Aspose.Cells light cell api implementation.</strong>\n<strong>Using LightCells how can I implement above code -</strong></p>\n<pre><code>public static void createTemplate(String originalFilePath, List&lt;String&gt; originalFileSheetName, String templateFilePath ) throws Exception { \n        LoadOptions opts = new LoadOptions();\n    LightCellsDataHandlerVisitCells v = new LightCellsDataHandlerVisitCells();\n    opts.setLightCellsDataHandler((LightCellsDataHandler) v);\n    Workbook wb = new Workbook(originalFilePath, opts);\n    int sheetCount = wb.getWorksheets().getCount();\n    v.startSheet(wb.getWorksheets().get(&quot;System_Data&quot;));\n    System.out.println(&quot;Total sheets: &quot; + sheetCount + &quot;, cells: &quot; + v.cellCount + &quot;, strings: &quot; + v.stringCount\n            + &quot;, formulas: &quot; + v.formulaCount);\n   \n}\n</code></pre>\n<p><strong>For reading -</strong></p>\n<pre><code>import com.aspose.cells.Cell; \nimport com.aspose.cells.CellValueType; \nimport com.aspose.cells.LightCellsDataHandler; \nimport com.aspose.cells.Row; \nimport com.aspose.cells.Worksheet;\n\npublic class LightCellsDataHandlerVisitCells implements LightCellsDataHandler { \npublic int cellCount; \npublic int formulaCount; \npublic int stringCount;\n\npublic LightCellsDataHandlerVisitCells() {\n    this.cellCount = 0;\n    this.formulaCount = 0;\n    this.stringCount = 0;\n}\n\npublic int cellCount() {\n    return cellCount;\n}\n\npublic int formulaCount() {\n    return formulaCount;\n}\n\npublic int stringCount() {\n    return stringCount;\n}\n\npublic boolean startSheet(Worksheet sheet) {\n    System.out.println(&quot;Processing sheet[&quot; + sheet.getName() + &quot;]&quot;);\n    System.out.println(&quot;Processing sheet rows[&quot; + sheet.getCells().getMaxDataRow() + &quot;]&quot;);\n    return true;\n}\n\npublic boolean startRow(int rowIndex) {\n    return true;\n}\n\npublic boolean processRow(Row row) {\n    return true;\n}\n\npublic boolean startCell(int column) {\n    return true;\n}\n\npublic boolean processCell(Cell cell) {\n    this.cellCount = this.cellCount + 1;\n    cell.getRow();\n    if (cell.isFormula()) {\n        this.formulaCount = this.formulaCount + 1;\n    } else if (cell.getType() == CellValueType.IS_STRING) {\n        this.stringCount = this.stringCount + 1;\n    }\n    return false;\n}\n}\n</code></pre>\n<p><strong>getting print -1 on <code>System.out.println(&quot;Processing sheet rows[&quot; + sheet.getCells().getMaxDataRow() + &quot;]&quot;);</code></strong></p>\n<p><strong>For writing -</strong></p>\n<pre><code>public class LightCellsDataProviderDemo implements LightCellsDataProvider { \n\nprivate final int sheetCount; \nprivate final int maxRowIndex; \nprivate final int maxColIndex; \nprivate int rowIndex; \nprivate int colIndex; \nprivate final Style style1; \nprivate final Style style2;\n\npublic LightCellsDataProviderDemo(Workbook wb, int sheetCount, int rowCount, int colCount) {\n    // set the variables/objects\n    this.sheetCount = sheetCount;\n    this.maxRowIndex = rowCount - 1;\n    this.maxColIndex = colCount - 1;\n\n    // add new style object with specific formattings\n    style1 = wb.createStyle();\n    Font font = style1.getFont();\n    font.setName(&quot;MS Sans Serif&quot;);\n    font.setSize(10);\n    font.setBold(true);\n    font.setItalic(true);\n    font.setUnderline(FontUnderlineType.SINGLE);\n    font.setColor(Color.fromArgb(0xffff0000));\n    style1.setHorizontalAlignment(TextAlignmentType.CENTER);\n\n    // create another style\n    style2 = wb.createStyle();\n    style2.setCustom(&quot;#,##0.00&quot;);\n    font = style2.getFont();\n    font.setName(&quot;Copperplate Gothic Bold&quot;);\n    font.setSize(8);\n    style2.setPattern(BackgroundType.SOLID);\n    style2.setForegroundColor(Color.fromArgb(0xff0000ff));\n    style2.setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, Color.getBlack());\n    style2.setVerticalAlignment(TextAlignmentType.CENTER);\n}\n\npublic boolean isGatherString() {\n    return false;\n}\n\npublic int nextCell() {\n    if (colIndex &lt; maxColIndex) {\n        colIndex++;\n        return colIndex;\n    }\n    return -1;\n}\n\npublic int nextRow() {\n    if (rowIndex &lt; maxRowIndex) {\n        rowIndex++;\n        colIndex = -1; // reset column index\n        if (rowIndex % 1000 == 0) {\n            System.out.println(&quot;Row &quot; + rowIndex);\n        }\n        return rowIndex;\n    }\n    return -1;\n}\n\npublic void startCell(Cell cell) {\n    if (rowIndex % 50 == 0 &amp;&amp; (colIndex == 0 || colIndex == 3)) {\n        // do not change the content of hyperlink.\n        return;\n    }\n    if (colIndex &lt; 10) {\n        cell.putValue(&quot;test_&quot; + rowIndex + &quot;_&quot; + colIndex);\n        cell.setStyle(style1);\n    } else {\n        if (colIndex == 19) {\n            cell.setFormula(&quot;=Rand() + test!L1&quot;);\n        } else {\n            cell.putValue(rowIndex * colIndex);\n        }\n        cell.setStyle(style2);\n    }\n}\n\npublic void startRow(Row row) {\n    row.setHeight(25);\n}\n\npublic boolean startSheet(int sheetIndex) {\n    if (sheetIndex &lt; sheetCount) {\n        // reset row/column index\n        rowIndex = -1;\n        colIndex = -1;\n        return true;\n    }\n    return false;\n}`\n</code></pre>\n<p><strong>Source</strong> - <a href=\"https://forum.aspose.com/t/read-write-huge-excel-files-1m-rows/38441/8\" rel=\"nofollow noreferrer\">https://forum.aspose.com/t/read-write-huge-excel-files-1m-rows/38441/8</a>\n<a href=\"https://docs.aspose.com/cells/java/using-lightcells-api/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/cells/java/using-lightcells-api/</a></p>\n"},{"tags":["java","import","enums"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1649099085,"post_id":71742082,"comment_id":126785788,"body_markdown":"Because they are in package `cards` classes `CardType` and `Card` should be in files named `cards/CardType.java` and `cards/Card.java`.","body":"Because they are in package <code>cards</code> classes <code>CardType</code> and <code>Card</code> should be in files named <code>cards&#47;CardType.java</code> and <code>cards&#47;Card.java</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649099060,"creation_date":1649099060,"answer_id":71742480,"question_id":71742082,"body_markdown":"The `CardType` class&#39;s full name is `cards.CardType` (it&#39;s the package name, plus a dot, plus the classname). Hence, when `javac` is attempting to compile `Card.java`, it looks for the class `cards.CardType`. To find it, it scans the classpath roots for the path `/cards/CardType.class`.\r\n\r\nIt can&#39;t find this file, hence, error.\r\n\r\nThe &#39;root&#39; that you need to make this work is __the parent directory__ of whereever `Card.java` lives. After all, if you start at that path and &#39;dir&#39; into `cards` and then look for `CardType.class`, that&#39;ll work. It&#39;s generally a good idea to stay in this &#39;root&#39; instead of CDing into subdirs from there.\r\n\r\nHence:\r\n\r\n```\r\ncd /home/tianyue/projects/myawesomeproject\r\nls;     -- prints: &quot;cards&quot;\r\nls cards;   -- prints: &quot;CardType.java Card.java&quot;\r\njavac cards/CardType.java\r\njavac cards/Card.java\r\n```\r\n\r\nWill work fine unless you&#39;ve been messing with settings and removed `.` as default path. You can always forcibly add it - `javac -classpath . cards/Card.java` instead. Or, much simpler:\r\n\r\n```\r\njavac cards/*.java\r\n```\r\n\r\nNote that most folks will use a build system such as gradle or maven, or an IDE, to take care of building projects. Once you involve multiple packages and dependencies, trying to command-line your way through a compilation process with just `javac` invokes gets real tedious.\r\n","title":"Java cannot find enum in the other class","body":"<p>The <code>CardType</code> class's full name is <code>cards.CardType</code> (it's the package name, plus a dot, plus the classname). Hence, when <code>javac</code> is attempting to compile <code>Card.java</code>, it looks for the class <code>cards.CardType</code>. To find it, it scans the classpath roots for the path <code>/cards/CardType.class</code>.</p>\n<p>It can't find this file, hence, error.</p>\n<p>The 'root' that you need to make this work is <strong>the parent directory</strong> of whereever <code>Card.java</code> lives. After all, if you start at that path and 'dir' into <code>cards</code> and then look for <code>CardType.class</code>, that'll work. It's generally a good idea to stay in this 'root' instead of CDing into subdirs from there.</p>\n<p>Hence:</p>\n<pre><code>cd /home/tianyue/projects/myawesomeproject\nls;     -- prints: &quot;cards&quot;\nls cards;   -- prints: &quot;CardType.java Card.java&quot;\njavac cards/CardType.java\njavac cards/Card.java\n</code></pre>\n<p>Will work fine unless you've been messing with settings and removed <code>.</code> as default path. You can always forcibly add it - <code>javac -classpath . cards/Card.java</code> instead. Or, much simpler:</p>\n<pre><code>javac cards/*.java\n</code></pre>\n<p>Note that most folks will use a build system such as gradle or maven, or an IDE, to take care of building projects. Once you involve multiple packages and dependencies, trying to command-line your way through a compilation process with just <code>javac</code> invokes gets real tedious.</p>\n"}],"owner":{"account_id":24825471,"reputation":1,"user_id":18705328,"display_name":"Tianyue Jin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649099060,"creation_date":1649096929,"question_id":71742082,"body_markdown":"I wrote down a Enum class which could successfully compile, and then whenever I use the Enum class as a type of variable in the other class of the same package, the &quot;cannot find symbol&quot; would occur when compiling.\r\n\r\nHere is the code for Enum:\r\n\r\n```\r\npackage cards;\r\n\r\npublic enum CardType {\r\nNIGHTMUSHROOM,DAYMUSHROOM,CIDER,BUTTER,PAN,BASKET,STICK\r\n&gt; }\r\n```\r\n\r\nAnd then I use the Enum in another class, I tried to import while the two pieces of code are in the same package so there is no use for the error.\r\n\r\n```\r\npackage cards;\r\n\r\n//import static cards.CardType;\r\n\r\npublic class Card{\r\n\tprotected CardType type;\r\n\tprotected String cardName;\r\n\r\n\tpublic Card(CardType newType,String newName){\r\n\t\tthis.type = newType;\r\n\t\tthis.cardName = newName;\r\n\t}\r\n\r\n\tpublic CardType getType(){\r\n\t\treturn this.type;\r\n\t}\r\n\r\n\tpublic String getName(){\r\n\t\treturn this.cardName;\r\n\t}\r\n}\r\n```\r\n\r\nHowever when I compile Card class, I report the error message like below\r\n![Cannot find symbol of enum](https://i.stack.imgur.com/Tkl4u.png)\r\n\r\nI have looked at some of the questions about enum in the forum while they couldn&#39;t make sense for my code.","title":"Java cannot find enum in the other class","body":"<p>I wrote down a Enum class which could successfully compile, and then whenever I use the Enum class as a type of variable in the other class of the same package, the &quot;cannot find symbol&quot; would occur when compiling.</p>\n<p>Here is the code for Enum:</p>\n<pre><code>package cards;\n\npublic enum CardType {\nNIGHTMUSHROOM,DAYMUSHROOM,CIDER,BUTTER,PAN,BASKET,STICK\n&gt; }\n</code></pre>\n<p>And then I use the Enum in another class, I tried to import while the two pieces of code are in the same package so there is no use for the error.</p>\n<pre><code>package cards;\n\n//import static cards.CardType;\n\npublic class Card{\n    protected CardType type;\n    protected String cardName;\n\n    public Card(CardType newType,String newName){\n        this.type = newType;\n        this.cardName = newName;\n    }\n\n    public CardType getType(){\n        return this.type;\n    }\n\n    public String getName(){\n        return this.cardName;\n    }\n}\n</code></pre>\n<p>However when I compile Card class, I report the error message like below\n<img src=\"https://i.stack.imgur.com/Tkl4u.png\" alt=\"Cannot find symbol of enum\" /></p>\n<p>I have looked at some of the questions about enum in the forum while they couldn't make sense for my code.</p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1361982866,"post_id":15117246,"comment_id":21273614,"body_markdown":"You can create a new `PriorityQueue` instance and move all the elements from the initial queue to the new one except for the tail.","body":"You can create a new <code>PriorityQueue</code> instance and move all the elements from the initial queue to the new one except for the tail."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":1,"creation_date":1361983056,"post_id":15117246,"comment_id":21273745,"body_markdown":"http://stackoverflow.com/questions/7878026/is-there-a-priorityqueue-implementation-with-fixed-capacity-and-custom-comparato","body":"<a href=\"http://stackoverflow.com/questions/7878026/is-there-a-priorityqueue-implementation-with-fixed-capacity-and-custom-comparato\" title=\"is there a priorityqueue implementation with fixed capacity and custom comparato\">stackoverflow.com/questions/7878026/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":872093,"reputation":13753,"user_id":922712,"accept_rate":55,"display_name":"user93353"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1649098850,"creation_date":1361983495,"answer_id":15117548,"question_id":15117246,"body_markdown":"No easy way. Copy elements from original to new except the last.\r\n\r\n    PriorityQueue removelast(PriorityQueue pq)\r\n    {\r\n\r\n        PriorityQueue pqnew = new PriorityQueue();\r\n    \r\n        while(pq.size() &gt; 1)\r\n        {\r\n            pqnew.add(pq.poll());\r\n        }\r\n    \r\n        pq.clear();\r\n        return pqnew;\r\n    }\r\n\r\ncalled as\r\n\r\n    pq = removelast(pq);\r\n\r\n","title":"Removing tail element of priority queue","body":"<p>No easy way. Copy elements from original to new except the last.</p>\n<pre><code>PriorityQueue removelast(PriorityQueue pq)\n{\n\n    PriorityQueue pqnew = new PriorityQueue();\n\n    while(pq.size() &gt; 1)\n    {\n        pqnew.add(pq.poll());\n    }\n\n    pq.clear();\n    return pqnew;\n}\n</code></pre>\n<p>called as</p>\n<pre><code>pq = removelast(pq);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333187,"reputation":6777,"user_id":658907,"accept_rate":67,"display_name":"matts"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1538161422,"creation_date":1361985239,"answer_id":15118115,"question_id":15117246,"body_markdown":"You could probably use Guava&#39;s [MinMaxPriorityQueue][1] to do this.  It provides peek, poll, and remove methods for both ends of the queue.\r\n\r\nAnother option is to write a Queue wrapper that enforces bounding, similar to [this answer][2].  You&#39;d need to implement `offer`, `add`, and `addAll` to check capacity.  Something like:\r\n\r\n    public class BoundedQueue&lt;E&gt; implements Serializable, Iterable&lt;E&gt;, Collection&lt;E&gt;, Queue&lt;E&gt; {\r\n        private final Queue&lt;E&gt; queue;\r\n        private int capacity;\r\n\r\n        public BoundedQueue(Queue&lt;E&gt; queue, int capacity) {\r\n            this.queue = queue;\r\n            this.capacity = capacity;\r\n        }\r\n\r\n        @Override\r\n        public boolean offer(E o) {\r\n            if (queue.size() &gt;= capacity)\r\n                return false;\r\n            return queue.add(o);\r\n        }\r\n\r\n        @Override\r\n        public boolean add(E o) throws IllegalStateException {\r\n            if (queue.size() &gt;= capacity)\r\n                throw new IllegalStateException(&quot;Queue full&quot;); // same behavior as java.util.ArrayBlockingQueue\r\n            return queue.add(o);\r\n        }\r\n\r\n        @Override\r\n        public boolean addAll(Collection&lt;? extends E&gt; c) {\r\n            boolean changed = false;\r\n            for (E o: c)\r\n                changed |= add(o);\r\n            return changed;\r\n        }\r\n\r\n        // All other methods simply delegate to &#39;queue&#39;\r\n    }\r\n\r\n  [1]: https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/MinMaxPriorityQueue.html\r\n  [2]: https://stackoverflow.com/a/2382757/658907","title":"Removing tail element of priority queue","body":"<p>You could probably use Guava's <a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/MinMaxPriorityQueue.html\" rel=\"nofollow noreferrer\">MinMaxPriorityQueue</a> to do this.  It provides peek, poll, and remove methods for both ends of the queue.</p>\n\n<p>Another option is to write a Queue wrapper that enforces bounding, similar to <a href=\"https://stackoverflow.com/a/2382757/658907\">this answer</a>.  You'd need to implement <code>offer</code>, <code>add</code>, and <code>addAll</code> to check capacity.  Something like:</p>\n\n<pre><code>public class BoundedQueue&lt;E&gt; implements Serializable, Iterable&lt;E&gt;, Collection&lt;E&gt;, Queue&lt;E&gt; {\n    private final Queue&lt;E&gt; queue;\n    private int capacity;\n\n    public BoundedQueue(Queue&lt;E&gt; queue, int capacity) {\n        this.queue = queue;\n        this.capacity = capacity;\n    }\n\n    @Override\n    public boolean offer(E o) {\n        if (queue.size() &gt;= capacity)\n            return false;\n        return queue.add(o);\n    }\n\n    @Override\n    public boolean add(E o) throws IllegalStateException {\n        if (queue.size() &gt;= capacity)\n            throw new IllegalStateException(\"Queue full\"); // same behavior as java.util.ArrayBlockingQueue\n        return queue.add(o);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends E&gt; c) {\n        boolean changed = false;\n        for (E o: c)\n            changed |= add(o);\n        return changed;\n    }\n\n    // All other methods simply delegate to 'queue'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1362003455,"creation_date":1362003455,"answer_id":15123562,"question_id":15117246,"body_markdown":"Use an inverting Comparator and remove from the head. If you need both the head and the tail you are using the wrong data structure.","title":"Removing tail element of priority queue","body":"<p>Use an inverting Comparator and remove from the head. If you need both the head and the tail you are using the wrong data structure.</p>\n"},{"tags":[],"owner":{"account_id":2753155,"reputation":92,"user_id":2372040,"display_name":"Ehsan"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1394662003,"creation_date":1394662003,"answer_id":22364938,"question_id":15117246,"body_markdown":"If you are concerned with the runtime, I suggest implementing your own queue. I did the following and worked in my project.\r\n\r\n1) copy paste the code from PriorityQueue -&gt; CustomQueue.java\r\n2) Add a method removeLast()\r\n3) This is the implementation I used (very minimal)\r\n\r\n    public void removeLast() {\r\n        if(size == 0) {\r\n           return;\r\n        }\r\n        queue[size - 1] = null;\r\n        size--;\r\n   }\r\n\r\n\r\nThe reason this works is that the implementation of PriorityQueue uses an array to hold object. So &quot;size&quot; is infact a pointer to the next available spot in the array. By reducing it, the size of the array/queue is reduced, as if you are dropping the last element.\r\n\r\n\r\n","title":"Removing tail element of priority queue","body":"<p>If you are concerned with the runtime, I suggest implementing your own queue. I did the following and worked in my project.</p>\n\n<p>1) copy paste the code from PriorityQueue -> CustomQueue.java\n2) Add a method removeLast()\n3) This is the implementation I used (very minimal)</p>\n\n<pre><code>public void removeLast() {\n    if(size == 0) {\n       return;\n    }\n    queue[size - 1] = null;\n    size--;\n</code></pre>\n\n<p>}</p>\n\n<p>The reason this works is that the implementation of PriorityQueue uses an array to hold object. So \"size\" is infact a pointer to the next available spot in the array. By reducing it, the size of the array/queue is reduced, as if you are dropping the last element.</p>\n"},{"tags":[],"owner":{"account_id":5267841,"reputation":781,"user_id":4207141,"display_name":"max"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422892166,"creation_date":1422890183,"answer_id":28280860,"question_id":15117246,"body_markdown":"I think, PR&#39;s use case is, that he needs the head, but also want to have a small PQ, so the idea is to remove the tail. \r\n\r\nAs a PQ is realized as a binary tree mapped to an array, the head is always the first element of the backing array (`queue[0]`), but the tail is not always at the end of the array, you had to search it.\r\n\t\t\r\nI think a nice way is to subclass PQ and write the following two methods:\r\n\t\t\r\n\t\tpublic class MyPriorityQueue&lt;E&gt; extends PriorityQueue&lt;E&gt;\r\n\t\t{\r\n\t\t\t// constructors\r\n\r\n       \tpublic E getTail()\r\n         {\r\n            // queue.length can be bigger than this.size() !!\r\n            Object[] queue = this.toArray();\r\n            E tail = (E)queue[0];\r\n            Comparator&lt;? super E&gt; comparator = this.comparator();\r\n            if (comparator !=null)\r\n               for(int i = 1; i &lt; this.size(); i++)\r\n                  if ( comparator.compare(tail, (E)queue[i]) &lt; 0)\r\n                     tail = (E)queue[i];\r\n            else\r\n               for(int j = 1; j &lt; this.size(); j++)\r\n                  if ( ((Comparable)tail).compareTo( ((Comparable)queue[j]) ) &lt; 0 )\r\n                     tail = (E)queue[j];\r\n            return tail;\r\n         }\t\r\n\t\t\r\n         public E removeTail()\r\n         {\r\n            E tail = this.getTail();\r\n            this.remove(tail);\r\n            return tail;\r\n         }   \r\n\t\t}\r\n","title":"Removing tail element of priority queue","body":"<p>I think, PR's use case is, that he needs the head, but also want to have a small PQ, so the idea is to remove the tail. </p>\n\n<p>As a PQ is realized as a binary tree mapped to an array, the head is always the first element of the backing array (<code>queue[0]</code>), but the tail is not always at the end of the array, you had to search it.</p>\n\n<p>I think a nice way is to subclass PQ and write the following two methods:</p>\n\n<pre><code>    public class MyPriorityQueue&lt;E&gt; extends PriorityQueue&lt;E&gt;\n    {\n        // constructors\n\n    public E getTail()\n     {\n        // queue.length can be bigger than this.size() !!\n        Object[] queue = this.toArray();\n        E tail = (E)queue[0];\n        Comparator&lt;? super E&gt; comparator = this.comparator();\n        if (comparator !=null)\n           for(int i = 1; i &lt; this.size(); i++)\n              if ( comparator.compare(tail, (E)queue[i]) &lt; 0)\n                 tail = (E)queue[i];\n        else\n           for(int j = 1; j &lt; this.size(); j++)\n              if ( ((Comparable)tail).compareTo( ((Comparable)queue[j]) ) &lt; 0 )\n                 tail = (E)queue[j];\n        return tail;\n     }  \n\n     public E removeTail()\n     {\n        E tail = this.getTail();\n        this.remove(tail);\n        return tail;\n     }   \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7826170,"reputation":1,"user_id":5917614,"display_name":"T-G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509953809,"creation_date":1509953809,"answer_id":47131920,"question_id":15117246,"body_markdown":"There is a better solution in case you have a reason not to generate another element to the memory.\r\n\r\nyou can get the size of the Queue and run over it with an iterator while counting the elements you are going over, once you get to the last one OR the one you are looking for, you can use PriorityQueue.remove(Object o)\r\n\r\n    Iterator&lt;E&gt; it = Queue.iterator();\r\n    while (it.hasNext()) {\r\n       temp&lt;E&gt; = it.next();\r\n       counter++;\r\n       if (counter == Queue.size()) {\r\n           Queue.remove(temp);\r\n        }\r\n    }","title":"Removing tail element of priority queue","body":"<p>There is a better solution in case you have a reason not to generate another element to the memory.</p>\n\n<p>you can get the size of the Queue and run over it with an iterator while counting the elements you are going over, once you get to the last one OR the one you are looking for, you can use PriorityQueue.remove(Object o)</p>\n\n<pre><code>Iterator&lt;E&gt; it = Queue.iterator();\nwhile (it.hasNext()) {\n   temp&lt;E&gt; = it.next();\n   counter++;\n   if (counter == Queue.size()) {\n       Queue.remove(temp);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213629,"reputation":1696,"user_id":467122,"display_name":"Vanji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586715620,"creation_date":1586715620,"answer_id":61176149,"question_id":15117246,"body_markdown":"While you add the data into priority queue itself do the comparison;\r\n\r\n    PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;Integer&gt;(Collections.reverseOrder());","title":"Removing tail element of priority queue","body":"<p>While you add the data into priority queue itself do the comparison;</p>\n\n<pre><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;Integer&gt;(Collections.reverseOrder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595178577,"creation_date":1595178577,"answer_id":62983329,"question_id":15117246,"body_markdown":"Removing the tail is not supported.\r\n\r\nThe best thing you can do is to swap the order of elements so that the tail becomes head, and `remove()` it instead.","title":"Removing tail element of priority queue","body":"<p>Removing the tail is not supported.</p>\n<p>The best thing you can do is to swap the order of elements so that the tail becomes head, and <code>remove()</code> it instead.</p>\n"}],"owner":{"account_id":439017,"reputation":1293,"user_id":827663,"accept_rate":91,"display_name":"P R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34739,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":15117548,"answer_count":8,"score":10,"last_activity_date":1649098850,"creation_date":1361982681,"question_id":15117246,"body_markdown":"How can I remove the tail element of a priority queue? I am trying to implement beam search using a priority queue and once the priority queue is full, I want to remove the last element(the element with the least priority).\r\n\r\nThanks!","title":"Removing tail element of priority queue","body":"<p>How can I remove the tail element of a priority queue? I am trying to implement beam search using a priority queue and once the priority queue is full, I want to remove the last element(the element with the least priority).</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1649098033,"post_id":71742109,"comment_id":126785481,"body_markdown":"@CfloweVisit click the link","body":"@CfloweVisit click the link"},{"owner":{"account_id":24305399,"reputation":341,"user_id":18248235,"display_name":"Cflowe Visit"},"score":0,"creation_date":1649098150,"post_id":71742109,"comment_id":126785518,"body_markdown":"I don&#39;t really know what&#39;s going on... can you close VSCode and open again?","body":"I don&#39;t really know what&#39;s going on... can you close VSCode and open again?"},{"owner":{"account_id":20689131,"reputation":636,"user_id":15190888,"display_name":"Benjamin Rio"},"score":0,"creation_date":1649098948,"post_id":71742109,"comment_id":126785757,"body_markdown":"What is your linter ? You can find it in VS Code settings.","body":"What is your linter ? You can find it in VS Code settings."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649101968,"post_id":71742109,"comment_id":126786652,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1649211917,"post_id":71742109,"comment_id":126816403,"body_markdown":"Could you show what is the wavy line prompt?","body":"Could you show what is the wavy line prompt?"},{"owner":{"account_id":24825609,"reputation":1,"user_id":18705450,"display_name":"Apple macOS"},"score":0,"creation_date":1649359057,"post_id":71742109,"comment_id":126862161,"body_markdown":"https://i.stack.imgur.com/H21Z2.png","body":"<a href=\"https://i.stack.imgur.com/H21Z2.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/H21Z2.png</a>"}],"answers":[{"tags":[],"owner":{"account_id":14239503,"reputation":45,"user_id":10286321,"display_name":"Freddybobjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649098752,"creation_date":1649098752,"answer_id":71742430,"question_id":71742109,"body_markdown":"I&#39;ve had that problem before, generally when it lags a little. A trick I use is delete part of it (where it is complaining, sometime just the bracket) and then undo, so that it re-parses it, and sees that it is valid.","title":"VS Code - Blue underline and strange colors","body":"<p>I've had that problem before, generally when it lags a little. A trick I use is delete part of it (where it is complaining, sometime just the bracket) and then undo, so that it re-parses it, and sees that it is valid.</p>\n"}],"owner":{"account_id":24825609,"reputation":1,"user_id":18705450,"display_name":"Apple macOS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649098752,"creation_date":1649097029,"question_id":71742109,"body_markdown":"I&#39;ve been using Intellij for Java, and today tried to use VS Code. However, when I open my file there are several [visual issues.][1]\r\n\r\nthrows have &quot;t&quot; and &quot;s&quot; have a lighter colour\r\n\r\nIOException has &quot;tion&quot; greyed out and has a blue wavy underline.\r\n\r\nHow can I resolve this issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H21Z2.png","title":"VS Code - Blue underline and strange colors","body":"<p>I've been using Intellij for Java, and today tried to use VS Code. However, when I open my file there are several <a href=\"https://i.stack.imgur.com/H21Z2.png\" rel=\"nofollow noreferrer\">visual issues.</a></p>\n<p>throws have &quot;t&quot; and &quot;s&quot; have a lighter colour</p>\n<p>IOException has &quot;tion&quot; greyed out and has a blue wavy underline.</p>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","spring-boot","classnotfoundexception"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1649089328,"post_id":71740486,"comment_id":126782606,"body_markdown":"https://stackoverflow.com/questions/32477145/java-lang-classnotfoundexception-ch-qos-logback-classic-spi-throwableproxy Might Help","body":"<a href=\"https://stackoverflow.com/questions/32477145/java-lang-classnotfoundexception-ch-qos-logback-classic-spi-throwableproxy\" title=\"java lang classnotfoundexception ch qos logback classic spi throwableproxy\">stackoverflow.com/questions/32477145/&hellip;</a> Might Help"},{"owner":{"account_id":3152527,"reputation":789,"user_id":2665648,"display_name":"elyograg"},"score":0,"creation_date":1649089909,"post_id":71740486,"comment_id":126782808,"body_markdown":"Generally speaking, I know how to deal with the exception.  Make the class available.  But it should be available -- the jar that spring built includes the jars with all the classes mentioned on that exception.\n\nSomething weird:  I was building the app to target Java 11, and running it with Java 11.  Targeting 8 and running with 8 cleared up those errors, revealing some other problem in my own code.","body":"Generally speaking, I know how to deal with the exception.  Make the class available.  But it should be available -- the jar that spring built includes the jars with all the classes mentioned on that exception.  Something weird:  I was building the app to target Java 11, and running it with Java 11.  Targeting 8 and running with 8 cleared up those errors, revealing some other problem in my own code."}],"owner":{"account_id":3152527,"reputation":789,"user_id":2665648,"display_name":"elyograg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649089294,"answer_count":0,"score":0,"last_activity_date":1649098748,"creation_date":1649088956,"question_id":71740486,"body_markdown":"I have a spring boot app that I haven&#39;t touched in a very long time, probably more than a year.  I updated its build system with the latest bits from the spring initializr so it&#39;s using boot version 2.6.6, and I fixed the compile errors that introduced.  This all used to work the last time I tried it.  I was using some 2.1.x version of boot at the time.\r\n\r\nI&#39;m getting some ClassNotFoundException errors for classes in my own code that REALLY should be included in the jar.  But I&#39;m also seeing this, and as far as I know, the logback-classic jar IS included:\r\n\r\n```\r\nException in thread &quot;bkDbProcess&quot; java.lang.NoClassDefFoundError: ch/qos/logback/classic/spi/ThrowableProxy\r\n```\r\n\r\nI&#39;ve been looking for a solution to this.  I see a lot of people reporting the problem, but I&#39;ve only found one suggestion on a solution, and that didn&#39;t work for me:  Explicitly adding logback-classic as a dependency in build.gradle.\r\n\r\nThe program outputs a whole bunch of log entries before it throws that exception, so I know that logback is working.\r\n\r\nBecause it is also throwing that exception for some of MY classes as well as that logback class, this seems like a general classloader problem, not something specific to logback.\r\n\r\nWhat other information can I gather?  Anyone know how to fix it?","title":"Spring Boot app throwing java.lang.NoClassDefFoundError: ch/qos/logback/classic/spi/ThrowableProxy","body":"<p>I have a spring boot app that I haven't touched in a very long time, probably more than a year.  I updated its build system with the latest bits from the spring initializr so it's using boot version 2.6.6, and I fixed the compile errors that introduced.  This all used to work the last time I tried it.  I was using some 2.1.x version of boot at the time.</p>\n<p>I'm getting some ClassNotFoundException errors for classes in my own code that REALLY should be included in the jar.  But I'm also seeing this, and as far as I know, the logback-classic jar IS included:</p>\n<pre><code>Exception in thread &quot;bkDbProcess&quot; java.lang.NoClassDefFoundError: ch/qos/logback/classic/spi/ThrowableProxy\n</code></pre>\n<p>I've been looking for a solution to this.  I see a lot of people reporting the problem, but I've only found one suggestion on a solution, and that didn't work for me:  Explicitly adding logback-classic as a dependency in build.gradle.</p>\n<p>The program outputs a whole bunch of log entries before it throws that exception, so I know that logback is working.</p>\n<p>Because it is also throwing that exception for some of MY classes as well as that logback class, this seems like a general classloader problem, not something specific to logback.</p>\n<p>What other information can I gather?  Anyone know how to fix it?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1649107212,"post_id":71742409,"comment_id":126788039,"body_markdown":"You mention an error, but you reference a warning &quot;TableColumn.CellEditEvent is a raw type.&quot;.  That is not an error, that is a warning.  You can find info about it in the answers to: [List is a raw type. References to generic type List&lt;E&gt; should be parameterized](https://stackoverflow.com/questions/10477570/list-is-a-raw-type-references-to-generic-type-liste-should-be-parameterized) (possible duplicate).  Whether you address the warning is up to you.  I would suggest, in general, yes fix type warnings, otherwise you lose some type safety (e.g., a compile-time error can become a runtime error).","body":"You mention an error, but you reference a warning &quot;TableColumn.CellEditEvent is a raw type.&quot;.  That is not an error, that is a warning.  You can find info about it in the answers to: <a href=\"https://stackoverflow.com/questions/10477570/list-is-a-raw-type-references-to-generic-type-liste-should-be-parameterized\">List is a raw type. References to generic type List&lt;E&gt; should be parameterized</a> (possible duplicate).  Whether you address the warning is up to you.  I would suggest, in general, yes fix type warnings, otherwise you lose some type safety (e.g., a compile-time error can become a runtime error)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649107275,"post_id":71742409,"comment_id":126788056,"body_markdown":"Unrelated, but I don&#39;t advise running SQL in the event handlers of a controller, see the [eden coding database access guide](https://edencoding.com/connect-javafx-with-sqlite/) for advice on a potential alternative solution.  Also, it can be easier to not provide editing and commits in a table, but instead, allow editing of a selected row in a separate form.","body":"Unrelated, but I don&#39;t advise running SQL in the event handlers of a controller, see the <a href=\"https://edencoding.com/connect-javafx-with-sqlite/\" rel=\"nofollow noreferrer\">eden coding database access guide</a> for advice on a potential alternative solution.  Also, it can be easier to not provide editing and commits in a table, but instead, allow editing of a selected row in a separate form."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649107686,"post_id":71742409,"comment_id":126788176,"body_markdown":"Also don&#39;t just write a message to system out when you get an exception, log the full stack trace (preferably using a logging framework, but alternatively e.printStackTrace()) or throw it to a higher level handler.  If you only write a message to system out, you lose important information, such as the stacktrace and the cause of the exception (e.g. there are many causes for an SQLException and often you want [the failure code](https://docs.oracle.com/cd/E11882_01/java.112/e16548/apxermsg.htm#JJDBC28962) to have any hope to troubleshoot).","body":"Also don&#39;t just write a message to system out when you get an exception, log the full stack trace (preferably using a logging framework, but alternatively e.printStackTrace()) or throw it to a higher level handler.  If you only write a message to system out, you lose important information, such as the stacktrace and the cause of the exception (e.g. there are many causes for an SQLException and often you want <a href=\"https://docs.oracle.com/cd/E11882_01/java.112/e16548/apxermsg.htm#JJDBC28962\" rel=\"nofollow noreferrer\">the failure code</a> to have any hope to troubleshoot)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649107864,"post_id":71742409,"comment_id":126788218,"body_markdown":"See the [makery tutorial](https://code.makery.ch/library/javafx-tutorial/), for an example of editing via an external form rather than inline in the table.","body":"See the <a href=\"https://code.makery.ch/library/javafx-tutorial/\" rel=\"nofollow noreferrer\">makery tutorial</a>, for an example of editing via an external form rather than inline in the table."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649108492,"post_id":71742409,"comment_id":126788361,"body_markdown":"[mcve] please.. mind the __M__!","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. mind the <b>M</b>!"}],"owner":{"account_id":23235952,"reputation":33,"user_id":17325960,"display_name":"Ph&#250;c Bo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649098585,"creation_date":1649098585,"question_id":71742409,"body_markdown":"I&#39;m writing a restaurant management program written by javafx, the program works, there&#39;s no error at the console screen, but when I open the adminAccess.fxml file: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.DatePicker?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.MenuButton?&gt;\r\n&lt;?import javafx.scene.control.MenuItem?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane prefHeight=&quot;557.0&quot; prefWidth=&quot;667.0&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.AdminAccessController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane layoutX=&quot;17.0&quot; layoutY=&quot;8.0&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;310.0&quot; prefWidth=&quot;631.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label layoutX=&quot;117.0&quot; layoutY=&quot;250.0&quot; text=&quot;Select an inventory to view from the dropdown menu to view its items.&quot; /&gt;\r\n            &lt;MenuButton layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;INVENTORIES&quot;&gt;\r\n              &lt;items&gt;\r\n                &lt;MenuItem fx:id=&quot;foodMenuItem&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#foodOnAction&quot; text=&quot;Food&quot; /&gt;\r\n                &lt;MenuItem fx:id=&quot;drinkMenuItem&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#drinkOnAction&quot; text=&quot;Drink&quot; /&gt;\r\n                  &lt;MenuItem fx:id=&quot;equipmentMenuItem&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#equipmentOnAction&quot; text=&quot;Equipment&quot; /&gt;\r\n              &lt;/items&gt;\r\n            &lt;/MenuButton&gt;\r\n            &lt;TableView fx:id=&quot;tableView&quot; layoutX=&quot;116.0&quot; layoutY=&quot;34.0&quot; prefHeight=&quot;213.0&quot; prefWidth=&quot;500.0&quot;&gt;\r\n              &lt;columns&gt;\r\n                  &lt;TableColumn fx:id=&quot;itemTypeColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;ITEM TYPE&quot; /&gt;\r\n\r\n\r\n\r\n//ERROR IN ONEDITCOMMIT-The controller &#39;AdminAccessController&#39; has no event slot &#39;changeItemIDCellEvent&#39;, &#39;changeItemNameCellEvent&#39;,&#39;changeItemQuantityCellEvent&#39;,&#39;changeItemPriceCellEvent&#39;//\r\n\r\n\r\n\r\n                &lt;TableColumn fx:id=&quot;idColumn&quot; onEditCommit=&quot;#changeItemIDCellEvent&quot; prefWidth=&quot;75.0&quot; text=&quot;ID&quot; /&gt;\r\n                &lt;TableColumn fx:id=&quot;nameColumn&quot; onEditCommit=&quot;#changeItemNameCellEvent&quot; prefWidth=&quot;75.0&quot; text=&quot;NAME&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;quantityColumn&quot; onEditCommit=&quot;#changeItemQuantityCellEvent&quot; prefWidth=&quot;75.0&quot; text=&quot;QUANTITY&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;priceColumn&quot; onEditCommit=&quot;#changeItemPriceCellEvent&quot; prefWidth=&quot;75.0&quot; text=&quot;PRICE&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;expirationDateColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;EXP. DATE&quot; /&gt;\r\n              &lt;/columns&gt;\r\n            &lt;/TableView&gt;\r\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;46.0&quot; layoutY=&quot;9.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;540.0&quot; text=&quot;ADMINISTRATOR ACCESS&quot; /&gt;\r\n            &lt;Label fx:id=&quot;errorLabel&quot; layoutX=&quot;117.0&quot; layoutY=&quot;287.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;500.0&quot; text=&quot;Double click the property of an item or employee you would like to edit to change it.&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;itemName&quot; layoutY=&quot;61.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Name&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;itemID&quot; layoutY=&quot;88.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Item ID&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;itemQuantity&quot; layoutY=&quot;115.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Quantity&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;itemPrice&quot; layoutY=&quot;142.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Price&quot; /&gt;\r\n            &lt;Button fx:id=&quot;addItemButton&quot; layoutY=&quot;196.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addItemButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; text=&quot;ADD ITEM&quot; /&gt;\r\n            &lt;Button fx:id=&quot;deleteItemButton&quot; layoutY=&quot;222.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#deleteItemButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; text=&quot;DELETE ITEM&quot; /&gt;\r\n            &lt;Label layoutX=&quot;117.0&quot; layoutY=&quot;268.0&quot; text=&quot;Select an item from an inventory and click the &#39;DELETE ITEM&#39; button to remove it.&quot; /&gt;\r\n            &lt;DatePicker fx:id=&quot;itemExpirationDate&quot; layoutY=&quot;169.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Exp. Date&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n      &lt;Button fx:id=&quot;logOutButton&quot; alignment=&quot;CENTER&quot; layoutX=&quot;14.0&quot; layoutY=&quot;521.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#logOutButtonOnAction&quot; text=&quot;LOG OUT&quot; /&gt;\r\n      &lt;Button fx:id=&quot;deleteEmployeeButton&quot; layoutX=&quot;14.0&quot; layoutY=&quot;430.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#deleteEmployeeButtonOnAction&quot; text=&quot;DELETE EMPLOYEE&quot; /&gt;\r\n      &lt;Button fx:id=&quot;addEmployeeButton&quot; layoutX=&quot;14.0&quot; layoutY=&quot;403.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployeeButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;115.0&quot; text=&quot;ADD EMPLOYEE&quot; /&gt;\r\n      &lt;TableView fx:id=&quot;employeeTableView&quot; layoutX=&quot;134.0&quot; layoutY=&quot;322.0&quot; prefHeight=&quot;133.0&quot; prefWidth=&quot;500.0&quot;&gt;\r\n        &lt;columns&gt;\r\n\r\n\r\n//ERROR IN ONEDITCOMMIT-The controller &#39;AdminAccessController&#39; has no event slot &#39;changeEmployeeCellEvent&#39;,&#39;changeEmployeeIDCellEvent&#39;,&#39;changeEmployeePositionCellEvent&#39;//\r\n\r\n\r\n          &lt;TableColumn fx:id=&quot;employeeNameColumn&quot; onEditCommit=&quot;#changeEmployeeNameCellEvent&quot; prefWidth=&quot;98.0&quot; text=&quot;NAME&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;employeeIDColumn&quot; onEditCommit=&quot;#changeEmployeeIDCellEvent&quot; prefWidth=&quot;72.66670227050781&quot; text=&quot;ID&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;employeePositionColumn&quot; onEditCommit=&quot;#changeEmployeePositionCellEvent&quot; prefWidth=&quot;82.66668701171875&quot; text=&quot;POSITION&quot; /&gt;\r\n        &lt;/columns&gt;\r\n      &lt;/TableView&gt;\r\n      &lt;TextField fx:id=&quot;employeeName&quot; layoutX=&quot;15.0&quot; layoutY=&quot;322.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;111.0&quot; promptText=&quot;Name&quot; /&gt;\r\n      &lt;TextField fx:id=&quot;employeeID&quot; layoutX=&quot;15.0&quot; layoutY=&quot;349.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;111.0&quot; promptText=&quot;Employee ID&quot; /&gt;\r\n      &lt;TextField fx:id=&quot;employeePosition&quot; layoutX=&quot;16.0&quot; layoutY=&quot;376.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;111.0&quot; promptText=&quot;Position&quot; /&gt;\r\n      &lt;Label layoutX=&quot;134.0&quot; layoutY=&quot;477.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;474.0&quot; text=&quot;Select an employee from the table and click the &#39;DELETE&#39; button to remove them. &quot; /&gt;\r\n      &lt;Label fx:id=&quot;messageLabel&quot; layoutX=&quot;134.0&quot; layoutY=&quot;462.0&quot; text=&quot;Enter a new employee&#39;s information and click &#39;ADD EMPLOYEE&#39; to add them to the roster.&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\nAnd here is a part of the AdminAccessController.java class: \r\n```\r\npublic void changeItemIDCellEvent(TableColumn.CellEditEvent editID) {\r\n        //getting the selected item\r\n        Object itemSelected = tableView.getSelectionModel().getSelectedItem();\r\n\r\n        if (itemSelected.getClass().toString().substring(15).equalsIgnoreCase(&quot;food&quot;)) {\r\n            try {\r\n                int newId = (int) editID.getNewValue();\r\n                //only sets the new ID entered if it is not already in use\r\n                if(!EmployeeAccessController.isDuplicateID(newId)) {\r\n                    int oldId = 0;\r\n                    for (Food food : Food.foodItems) {\r\n                        if(tableView.getSelectionModel().getSelectedItem() == food) {\r\n                            oldId = food.getId();\r\n                            food.setId(newId);\r\n                            break;\r\n                        }\r\n                    }\r\n                    //updating item in data base\r\n                    String sql = &quot;UPDATE Food SET id = ? WHERE id = ?&quot;;\r\n                    try (Connection connection = this.connect()) {\r\n                        PreparedStatement statement = connection.prepareStatement(sql);\r\n                        statement.setInt(1, newId);\r\n                        statement.setInt(2,oldId);\r\n                        statement.executeUpdate();\r\n                    } catch (SQLException e) {\r\n                        System.out.println(&quot;Kh&#244;ng th update vt t.&quot;);\r\n                    }\r\n                    errorLabel.setText(&quot;Sa vt t th&#224;nh c&#244;ng!&quot;);\r\n                } else {\r\n                    errorLabel.setText(&quot;You entered an ID that is already in use please try again.&quot;);\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                errorLabel.setText(&quot;You entered an inappropriate value for that field.&quot;);\r\n            }\r\n        } else if (itemSelected.getClass().toString().substring(15).equalsIgnoreCase(&quot;drink&quot;)) {\r\n            try {\r\n                int newId = (int) editID.getNewValue();\r\n                //only sets the new ID entered if it is not already in use\r\n                if(!EmployeeAccessController.isDuplicateID(newId)) {\r\n                    int oldId = 0;\r\n                    for (Drink drink : Drink.drinkItems) {\r\n                        if(tableView.getSelectionModel().getSelectedItem() == drink) {\r\n                            oldId = drink.getId();\r\n                            drink.setId(newId);\r\n                            break;\r\n                        }\r\n                    }\r\n                    //updating item in data base\r\n                    String sql = &quot;UPDATE Drink SET id = ? WHERE id = ?&quot;;\r\n                    try (Connection connection = this.connect()) {\r\n                        PreparedStatement statement = connection.prepareStatement(sql);\r\n                        statement.setInt(1, newId);\r\n                        statement.setInt(2,oldId);\r\n                        statement.executeUpdate();\r\n                    } catch (SQLException e) {\r\n                        System.out.println(&quot;Could not update item.&quot;);\r\n                    }\r\n                    errorLabel.setText(&quot;Successfully edited item!&quot;);\r\n                } else {\r\n                    errorLabel.setText(&quot;You entered an ID that is already in use please try again.&quot;);\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                errorLabel.setText(&quot;You entered an inappropriate value for that field.&quot;);\r\n            }\r\n        } else {\r\n            try {\r\n                int newId = (int) editID.getNewValue();\r\n                //only sets the new ID entered if it is not already in use\r\n                if(!EmployeeAccessController.isDuplicateID(newId)) {\r\n                    int oldId = 0;\r\n                    for (Equipment equipment : Equipment.equipmentItems) {\r\n                        if(tableView.getSelectionModel().getSelectedItem() == equipment) {\r\n                            oldId = equipment.getId();\r\n                            equipment.setId(newId);\r\n                            break;\r\n                        }\r\n                    }\r\n                    //updating item in data base\r\n                    String sql = &quot;UPDATE Equipment SET id = ? WHERE id = ?&quot;;\r\n                    try (Connection connection = this.connect()) {\r\n                        PreparedStatement statement = connection.prepareStatement(sql);\r\n                        statement.setInt(1, newId);\r\n                        statement.setInt(2,oldId);\r\n                        statement.executeUpdate();\r\n                    } catch (SQLException e) {\r\n                        System.out.println(&quot;Could not update item.&quot;);\r\n                    }\r\n                    errorLabel.setText(&quot;Successfully edited item!&quot;);\r\n                } else {\r\n                    errorLabel.setText(&quot;You entered an ID that is already in use please try again.&quot;);\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                errorLabel.setText(&quot;You entered an inappropriate value for that field.&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\nI have created many other methods in the AdminAccessController.java class that have similar names to the values on the onEditCommit side that I just mentioned in the adminAccess.fxml class. And there is a warning on such methods: &#39;&#39;TableColumn.CellEditEvent is a raw type. References to generic type TableColumn.CellEditEvent&lt;S,T&gt; should be parameterized&#39;&#39;\r\nIn the end, the program still runs, but I wonder if this error can be fixed? Or should we just forget about it? ","title":"javafx onEditCommit error in fxml file but program still works","body":"<p>I'm writing a restaurant management program written by javafx, the program works, there's no error at the console screen, but when I open the adminAccess.fxml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.DatePicker?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.MenuButton?&gt;\n&lt;?import javafx.scene.control.MenuItem?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane prefHeight=&quot;557.0&quot; prefWidth=&quot;667.0&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.AdminAccessController&quot;&gt;\n   &lt;children&gt;\n      &lt;AnchorPane layoutX=&quot;17.0&quot; layoutY=&quot;8.0&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;310.0&quot; prefWidth=&quot;631.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label layoutX=&quot;117.0&quot; layoutY=&quot;250.0&quot; text=&quot;Select an inventory to view from the dropdown menu to view its items.&quot; /&gt;\n            &lt;MenuButton layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;INVENTORIES&quot;&gt;\n              &lt;items&gt;\n                &lt;MenuItem fx:id=&quot;foodMenuItem&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#foodOnAction&quot; text=&quot;Food&quot; /&gt;\n                &lt;MenuItem fx:id=&quot;drinkMenuItem&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#drinkOnAction&quot; text=&quot;Drink&quot; /&gt;\n                  &lt;MenuItem fx:id=&quot;equipmentMenuItem&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#equipmentOnAction&quot; text=&quot;Equipment&quot; /&gt;\n              &lt;/items&gt;\n            &lt;/MenuButton&gt;\n            &lt;TableView fx:id=&quot;tableView&quot; layoutX=&quot;116.0&quot; layoutY=&quot;34.0&quot; prefHeight=&quot;213.0&quot; prefWidth=&quot;500.0&quot;&gt;\n              &lt;columns&gt;\n                  &lt;TableColumn fx:id=&quot;itemTypeColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;ITEM TYPE&quot; /&gt;\n\n\n\n//ERROR IN ONEDITCOMMIT-The controller 'AdminAccessController' has no event slot 'changeItemIDCellEvent', 'changeItemNameCellEvent','changeItemQuantityCellEvent','changeItemPriceCellEvent'//\n\n\n\n                &lt;TableColumn fx:id=&quot;idColumn&quot; onEditCommit=&quot;#changeItemIDCellEvent&quot; prefWidth=&quot;75.0&quot; text=&quot;ID&quot; /&gt;\n                &lt;TableColumn fx:id=&quot;nameColumn&quot; onEditCommit=&quot;#changeItemNameCellEvent&quot; prefWidth=&quot;75.0&quot; text=&quot;NAME&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;quantityColumn&quot; onEditCommit=&quot;#changeItemQuantityCellEvent&quot; prefWidth=&quot;75.0&quot; text=&quot;QUANTITY&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;priceColumn&quot; onEditCommit=&quot;#changeItemPriceCellEvent&quot; prefWidth=&quot;75.0&quot; text=&quot;PRICE&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;expirationDateColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;EXP. DATE&quot; /&gt;\n              &lt;/columns&gt;\n            &lt;/TableView&gt;\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;46.0&quot; layoutY=&quot;9.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;540.0&quot; text=&quot;ADMINISTRATOR ACCESS&quot; /&gt;\n            &lt;Label fx:id=&quot;errorLabel&quot; layoutX=&quot;117.0&quot; layoutY=&quot;287.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;500.0&quot; text=&quot;Double click the property of an item or employee you would like to edit to change it.&quot; /&gt;\n            &lt;TextField fx:id=&quot;itemName&quot; layoutY=&quot;61.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Name&quot; /&gt;\n            &lt;TextField fx:id=&quot;itemID&quot; layoutY=&quot;88.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Item ID&quot; /&gt;\n            &lt;TextField fx:id=&quot;itemQuantity&quot; layoutY=&quot;115.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Quantity&quot; /&gt;\n            &lt;TextField fx:id=&quot;itemPrice&quot; layoutY=&quot;142.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Price&quot; /&gt;\n            &lt;Button fx:id=&quot;addItemButton&quot; layoutY=&quot;196.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addItemButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; text=&quot;ADD ITEM&quot; /&gt;\n            &lt;Button fx:id=&quot;deleteItemButton&quot; layoutY=&quot;222.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#deleteItemButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; text=&quot;DELETE ITEM&quot; /&gt;\n            &lt;Label layoutX=&quot;117.0&quot; layoutY=&quot;268.0&quot; text=&quot;Select an item from an inventory and click the 'DELETE ITEM' button to remove it.&quot; /&gt;\n            &lt;DatePicker fx:id=&quot;itemExpirationDate&quot; layoutY=&quot;169.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;105.0&quot; promptText=&quot;Exp. Date&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n      &lt;Button fx:id=&quot;logOutButton&quot; alignment=&quot;CENTER&quot; layoutX=&quot;14.0&quot; layoutY=&quot;521.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#logOutButtonOnAction&quot; text=&quot;LOG OUT&quot; /&gt;\n      &lt;Button fx:id=&quot;deleteEmployeeButton&quot; layoutX=&quot;14.0&quot; layoutY=&quot;430.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#deleteEmployeeButtonOnAction&quot; text=&quot;DELETE EMPLOYEE&quot; /&gt;\n      &lt;Button fx:id=&quot;addEmployeeButton&quot; layoutX=&quot;14.0&quot; layoutY=&quot;403.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployeeButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;115.0&quot; text=&quot;ADD EMPLOYEE&quot; /&gt;\n      &lt;TableView fx:id=&quot;employeeTableView&quot; layoutX=&quot;134.0&quot; layoutY=&quot;322.0&quot; prefHeight=&quot;133.0&quot; prefWidth=&quot;500.0&quot;&gt;\n        &lt;columns&gt;\n\n\n//ERROR IN ONEDITCOMMIT-The controller 'AdminAccessController' has no event slot 'changeEmployeeCellEvent','changeEmployeeIDCellEvent','changeEmployeePositionCellEvent'//\n\n\n          &lt;TableColumn fx:id=&quot;employeeNameColumn&quot; onEditCommit=&quot;#changeEmployeeNameCellEvent&quot; prefWidth=&quot;98.0&quot; text=&quot;NAME&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;employeeIDColumn&quot; onEditCommit=&quot;#changeEmployeeIDCellEvent&quot; prefWidth=&quot;72.66670227050781&quot; text=&quot;ID&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;employeePositionColumn&quot; onEditCommit=&quot;#changeEmployeePositionCellEvent&quot; prefWidth=&quot;82.66668701171875&quot; text=&quot;POSITION&quot; /&gt;\n        &lt;/columns&gt;\n      &lt;/TableView&gt;\n      &lt;TextField fx:id=&quot;employeeName&quot; layoutX=&quot;15.0&quot; layoutY=&quot;322.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;111.0&quot; promptText=&quot;Name&quot; /&gt;\n      &lt;TextField fx:id=&quot;employeeID&quot; layoutX=&quot;15.0&quot; layoutY=&quot;349.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;111.0&quot; promptText=&quot;Employee ID&quot; /&gt;\n      &lt;TextField fx:id=&quot;employeePosition&quot; layoutX=&quot;16.0&quot; layoutY=&quot;376.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;111.0&quot; promptText=&quot;Position&quot; /&gt;\n      &lt;Label layoutX=&quot;134.0&quot; layoutY=&quot;477.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;474.0&quot; text=&quot;Select an employee from the table and click the 'DELETE' button to remove them. &quot; /&gt;\n      &lt;Label fx:id=&quot;messageLabel&quot; layoutX=&quot;134.0&quot; layoutY=&quot;462.0&quot; text=&quot;Enter a new employee's information and click 'ADD EMPLOYEE' to add them to the roster.&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>And here is a part of the AdminAccessController.java class:</p>\n<pre><code>public void changeItemIDCellEvent(TableColumn.CellEditEvent editID) {\n        //getting the selected item\n        Object itemSelected = tableView.getSelectionModel().getSelectedItem();\n\n        if (itemSelected.getClass().toString().substring(15).equalsIgnoreCase(&quot;food&quot;)) {\n            try {\n                int newId = (int) editID.getNewValue();\n                //only sets the new ID entered if it is not already in use\n                if(!EmployeeAccessController.isDuplicateID(newId)) {\n                    int oldId = 0;\n                    for (Food food : Food.foodItems) {\n                        if(tableView.getSelectionModel().getSelectedItem() == food) {\n                            oldId = food.getId();\n                            food.setId(newId);\n                            break;\n                        }\n                    }\n                    //updating item in data base\n                    String sql = &quot;UPDATE Food SET id = ? WHERE id = ?&quot;;\n                    try (Connection connection = this.connect()) {\n                        PreparedStatement statement = connection.prepareStatement(sql);\n                        statement.setInt(1, newId);\n                        statement.setInt(2,oldId);\n                        statement.executeUpdate();\n                    } catch (SQLException e) {\n                        System.out.println(&quot;Khng th update vt t.&quot;);\n                    }\n                    errorLabel.setText(&quot;Sa vt t thnh cng!&quot;);\n                } else {\n                    errorLabel.setText(&quot;You entered an ID that is already in use please try again.&quot;);\n                }\n            } catch (NumberFormatException e) {\n                errorLabel.setText(&quot;You entered an inappropriate value for that field.&quot;);\n            }\n        } else if (itemSelected.getClass().toString().substring(15).equalsIgnoreCase(&quot;drink&quot;)) {\n            try {\n                int newId = (int) editID.getNewValue();\n                //only sets the new ID entered if it is not already in use\n                if(!EmployeeAccessController.isDuplicateID(newId)) {\n                    int oldId = 0;\n                    for (Drink drink : Drink.drinkItems) {\n                        if(tableView.getSelectionModel().getSelectedItem() == drink) {\n                            oldId = drink.getId();\n                            drink.setId(newId);\n                            break;\n                        }\n                    }\n                    //updating item in data base\n                    String sql = &quot;UPDATE Drink SET id = ? WHERE id = ?&quot;;\n                    try (Connection connection = this.connect()) {\n                        PreparedStatement statement = connection.prepareStatement(sql);\n                        statement.setInt(1, newId);\n                        statement.setInt(2,oldId);\n                        statement.executeUpdate();\n                    } catch (SQLException e) {\n                        System.out.println(&quot;Could not update item.&quot;);\n                    }\n                    errorLabel.setText(&quot;Successfully edited item!&quot;);\n                } else {\n                    errorLabel.setText(&quot;You entered an ID that is already in use please try again.&quot;);\n                }\n            } catch (NumberFormatException e) {\n                errorLabel.setText(&quot;You entered an inappropriate value for that field.&quot;);\n            }\n        } else {\n            try {\n                int newId = (int) editID.getNewValue();\n                //only sets the new ID entered if it is not already in use\n                if(!EmployeeAccessController.isDuplicateID(newId)) {\n                    int oldId = 0;\n                    for (Equipment equipment : Equipment.equipmentItems) {\n                        if(tableView.getSelectionModel().getSelectedItem() == equipment) {\n                            oldId = equipment.getId();\n                            equipment.setId(newId);\n                            break;\n                        }\n                    }\n                    //updating item in data base\n                    String sql = &quot;UPDATE Equipment SET id = ? WHERE id = ?&quot;;\n                    try (Connection connection = this.connect()) {\n                        PreparedStatement statement = connection.prepareStatement(sql);\n                        statement.setInt(1, newId);\n                        statement.setInt(2,oldId);\n                        statement.executeUpdate();\n                    } catch (SQLException e) {\n                        System.out.println(&quot;Could not update item.&quot;);\n                    }\n                    errorLabel.setText(&quot;Successfully edited item!&quot;);\n                } else {\n                    errorLabel.setText(&quot;You entered an ID that is already in use please try again.&quot;);\n                }\n            } catch (NumberFormatException e) {\n                errorLabel.setText(&quot;You entered an inappropriate value for that field.&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>I have created many other methods in the AdminAccessController.java class that have similar names to the values on the onEditCommit side that I just mentioned in the adminAccess.fxml class. And there is a warning on such methods: ''TableColumn.CellEditEvent is a raw type. References to generic type TableColumn.CellEditEvent&lt;S,T&gt; should be parameterized''\nIn the end, the program still runs, but I wonder if this error can be fixed? Or should we just forget about it?</p>\n"},{"tags":["java","grpc","proto","protobuf-java"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1647287191,"post_id":71473160,"comment_id":126329173,"body_markdown":"Did you try rebuilding the server as well? That would probably resolve the &quot;unknown service&quot; error. Another option would be to keep the service names as-is but rename the messages (not change the package).","body":"Did you try rebuilding the server as well? That would probably resolve the &quot;unknown service&quot; error. Another option would be to keep the service names as-is but rename the messages (not change the package)."},{"owner":{"account_id":6341970,"reputation":1,"user_id":4923601,"display_name":"Serhii Danyliuk"},"score":0,"creation_date":1647288659,"post_id":71473160,"comment_id":126329561,"body_markdown":"I don&#39;t have a server. I&#39;m a client for both services.\n\nIt works if I change service name in generated grpc class, but it&#39;s definitely not a good idea.","body":"I don&#39;t have a server. I&#39;m a client for both services.  It works if I change service name in generated grpc class, but it&#39;s definitely not a good idea."},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1647293640,"post_id":71473160,"comment_id":126331008,"body_markdown":"Well, the owner of these protos wrote them in a broken way. The protos need to be fixed by the owners. If there were different owners for the two services, then it was essential they coordinate or used different packages.","body":"Well, the owner of these protos wrote them in a broken way. The protos need to be fixed by the owners. If there were different owners for the two services, then it was essential they coordinate or used different packages."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":1,"creation_date":1647305803,"post_id":71473160,"comment_id":126333385,"body_markdown":"You should be able to add `option java_package` statements to each of the protos using different namespaces to disambiguate them with different generated namespaces. See [Packages](https://grpc.io/docs/languages/java/generated-code/#packages)","body":"You should be able to add <code>option java_package</code> statements to each of the protos using different namespaces to disambiguate them with different generated namespaces. See <a href=\"https://grpc.io/docs/languages/java/generated-code/#packages\" rel=\"nofollow noreferrer\">Packages</a>"},{"owner":{"account_id":6341970,"reputation":1,"user_id":4923601,"display_name":"Serhii Danyliuk"},"score":0,"creation_date":1649098366,"post_id":71473160,"comment_id":126785582,"body_markdown":"It doesn&#39;t help.\nThere are still errors: `PROTOC FAILED: api1.proto:10:9: &quot;foobar.FooReq&quot; is already defined in file &quot;api2.proto&quot;.`","body":"It doesn&#39;t help. There are still errors: <code>PROTOC FAILED: api1.proto:10:9: &quot;foobar.FooReq&quot; is already defined in file &quot;api2.proto&quot;.</code>"}],"owner":{"account_id":6341970,"reputation":1,"user_id":4923601,"display_name":"Serhii Danyliuk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649098514,"creation_date":1647285710,"question_id":71473160,"body_markdown":"I have 2 different proto files with same package names and same message names, so when I try to compile them - there are conflicts\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage foobar;\r\n\r\nservice API {\r\n    rpc Foo (FooReq) returns (FooRsp);\r\n}\r\n\r\nmessage FooReq {}\r\n\r\nmessage FooRsp {\r\n    string Bar = 1;\r\n}\r\n```\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage foobar;\r\n\r\nservice AnotherAPI {\r\n    rpc Foo (FooReq) returns (FooRsp);\r\n}\r\n\r\nmessage FooReq {}\r\n\r\nmessage FooRsp {\r\n    string Bar = 1;\r\n}\r\n```\r\n\r\n\r\nIf I try to rename one of the packages to \r\n\r\n    package renamed.foobar;\r\n\r\nSERVICE_NAME in generated AnotherAPIGrpc class becomes invalid\r\n\r\n    public static final String SERVICE_NAME = &quot;renamed.foobar.AnotherAPI&quot;;\r\n\r\n and I have error on trying to call method  \r\n\r\n`io.grpc.StatusRuntimeException: UNIMPLEMENTED: unknown service renamed.foobar.AnotherAPI`\r\n\r\n\r\nIf I add different `option java_package` values for both protos, there are still errors like\r\n`PROTOC FAILED: api1.proto:10:9: &quot;foobar.FooReq&quot; is already defined in file &quot;api2.proto&quot;.`\r\n\r\nIs it possible to fix this?\r\n","title":"How to overwrite SERVICE_NAME in generated grpc class","body":"<p>I have 2 different proto files with same package names and same message names, so when I try to compile them - there are conflicts</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage foobar;\n\nservice API {\n    rpc Foo (FooReq) returns (FooRsp);\n}\n\nmessage FooReq {}\n\nmessage FooRsp {\n    string Bar = 1;\n}\n</code></pre>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage foobar;\n\nservice AnotherAPI {\n    rpc Foo (FooReq) returns (FooRsp);\n}\n\nmessage FooReq {}\n\nmessage FooRsp {\n    string Bar = 1;\n}\n</code></pre>\n<p>If I try to rename one of the packages to</p>\n<pre><code>package renamed.foobar;\n</code></pre>\n<p>SERVICE_NAME in generated AnotherAPIGrpc class becomes invalid</p>\n<pre><code>public static final String SERVICE_NAME = &quot;renamed.foobar.AnotherAPI&quot;;\n</code></pre>\n<p>and I have error on trying to call method</p>\n<p><code>io.grpc.StatusRuntimeException: UNIMPLEMENTED: unknown service renamed.foobar.AnotherAPI</code></p>\n<p>If I add different <code>option java_package</code> values for both protos, there are still errors like\n<code>PROTOC FAILED: api1.proto:10:9: &quot;foobar.FooReq&quot; is already defined in file &quot;api2.proto&quot;.</code></p>\n<p>Is it possible to fix this?</p>\n"},{"tags":["java","spring-boot","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1649096804,"post_id":71741968,"comment_id":126785101,"body_markdown":"Maybe you have some special logic that occurs when the parameter name/type is &quot;Name&quot; and &quot;Type&quot;? I can&#39;t think of very many reasons you&#39;d want to mock an exception. I also don&#39;t see any reason why you can&#39;t mock the exception in your example, and suspect it might just be misconfiguration of the test. I think this question is a little too broad/opinion based.","body":"Maybe you have some special logic that occurs when the parameter name/type is &quot;Name&quot; and &quot;Type&quot;? I can&#39;t think of very many reasons you&#39;d want to mock an exception. I also don&#39;t see any reason why you can&#39;t mock the exception in your example, and suspect it might just be misconfiguration of the test. I think this question is a little too broad/opinion based."},{"owner":{"account_id":17616533,"reputation":520,"user_id":12783450,"display_name":"Joseph Woolf"},"score":0,"creation_date":1649097226,"post_id":71741968,"comment_id":126785244,"body_markdown":"The `MissingServletRequestParameterException` is a Spring Web class.  The methods defined only return and name/type defined.  The logger is from Spring Boot&#39;s Logback 1.2.11 dependency.  It&#39;s interesting how only updating Spring Boot caused this mock to not work","body":"The <code>MissingServletRequestParameterException</code> is a Spring Web class.  The methods defined only return and name/type defined.  The logger is from Spring Boot&#39;s Logback 1.2.11 dependency.  It&#39;s interesting how only updating Spring Boot caused this mock to not work"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649098266,"creation_date":1649098266,"answer_id":71742352,"question_id":71741968,"body_markdown":"The purpose of mocking a class is so that you can remove any logic that the class has, and either replace it with your own logic, or eliminate it altogether.  Therefore, you should only EVER mock classes that have some kind of logic.  Mocking a class that&#39;s just got a bunch of fields, with getters and setters, is a waste of time.   \r\n\r\nNow, if your exception class has logic in it, then it&#39;s doing more than an exception class should.  You&#39;ve violated the single responsibility principle.  Don&#39;t do that.\r\n\r\nIn short then, you should NEVER be mocking your exception classes.  If you think you need to, then it&#39;s a sure sign you&#39;ve done something wrong.","title":"When Does It Make Sense to Mock an Exception Class?","body":"<p>The purpose of mocking a class is so that you can remove any logic that the class has, and either replace it with your own logic, or eliminate it altogether.  Therefore, you should only EVER mock classes that have some kind of logic.  Mocking a class that's just got a bunch of fields, with getters and setters, is a waste of time.</p>\n<p>Now, if your exception class has logic in it, then it's doing more than an exception class should.  You've violated the single responsibility principle.  Don't do that.</p>\n<p>In short then, you should NEVER be mocking your exception classes.  If you think you need to, then it's a sure sign you've done something wrong.</p>\n"}],"owner":{"account_id":17616533,"reputation":520,"user_id":12783450,"display_name":"Joseph Woolf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71742352,"answer_count":1,"score":1,"last_activity_date":1649098266,"creation_date":1649096282,"question_id":71741968,"body_markdown":"I&#39;ve noticed that when you upgrade Spring Boot to at least 2.5.11, it seems that any exceptions that you mock such as\r\n\r\n```java\r\n@Mock\r\nprivate MissingServletRequestParameterException missingServletRequestParameterException;\r\n```\r\n\r\nthen try to actually use the mock in the following manner\r\n\r\n```java\r\nwhen(missingServletRequestParameterException.getParameterName()).thenReturn(&quot;Name&quot;);\r\nwhen(missingServletRequestParameterException.getParameterType()).thenReturn(&quot;Type&quot;);\r\nlogger.error(&quot;An error has occurred: &quot;, missingServletRequestParameterException);\r\n```\r\n\r\nwill throw a `NullPointerException`.  The same piece of code above works fine up to Spring Boot 2.5.10.\r\n\r\nHowever, given the fact that you could just create an Exception object, it doesn&#39;t seem that you would really need to mock Exception classes at all.  But maybe there are cases that you would need to do just that?\r\n\r\nI&#39;m not an expert with using mocking frameworks, so it would be nice to fill in that knowledge gap.","title":"When Does It Make Sense to Mock an Exception Class?","body":"<p>I've noticed that when you upgrade Spring Boot to at least 2.5.11, it seems that any exceptions that you mock such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock\nprivate MissingServletRequestParameterException missingServletRequestParameterException;\n</code></pre>\n<p>then try to actually use the mock in the following manner</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(missingServletRequestParameterException.getParameterName()).thenReturn(&quot;Name&quot;);\nwhen(missingServletRequestParameterException.getParameterType()).thenReturn(&quot;Type&quot;);\nlogger.error(&quot;An error has occurred: &quot;, missingServletRequestParameterException);\n</code></pre>\n<p>will throw a <code>NullPointerException</code>.  The same piece of code above works fine up to Spring Boot 2.5.10.</p>\n<p>However, given the fact that you could just create an Exception object, it doesn't seem that you would really need to mock Exception classes at all.  But maybe there are cases that you would need to do just that?</p>\n<p>I'm not an expert with using mocking frameworks, so it would be nice to fill in that knowledge gap.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2228889,"reputation":1776,"user_id":1967021,"display_name":"Ivan Pronin"},"score":0,"creation_date":1501187916,"post_id":45360520,"comment_id":77682451,"body_markdown":"What&#39;s the error you are getting?","body":"What&#39;s the error you are getting?"},{"owner":{"account_id":11429142,"reputation":11,"user_id":8378436,"display_name":"Kidane"},"score":0,"creation_date":1501188061,"post_id":45360520,"comment_id":77682520,"body_markdown":"Here is the screenshot  https://i.stack.imgur.com/9bV1p.png","body":"Here is the screenshot  <a href=\"https://i.stack.imgur.com/9bV1p.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/9bV1p.png</a>"}],"answers":[{"tags":[],"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501188590,"creation_date":1501188590,"answer_id":45360762,"question_id":45360520,"body_markdown":"There are some methods you haven&#39;t overridden. WHen you extend or implement a class, there are some classes you have to override. With classes you have to override abstract methods, and with interfaces you have to override all methods. So the error is because there are some methods you haven&#39;t overridden and in this case you are missing onResponse and onErrorResponse. I&#39;m not sure if it is those two, but it looks like that from the poorly formatted error in your question.\r\n\r\nAnd if you ask a question in the future, don&#39;t provide a screenshot. Format it and add it into the question, don&#39;t mash it into a single line","title":"On android AIDE IDE android volly showing error when I try to use getheader() method","body":"<p>There are some methods you haven't overridden. WHen you extend or implement a class, there are some classes you have to override. With classes you have to override abstract methods, and with interfaces you have to override all methods. So the error is because there are some methods you haven't overridden and in this case you are missing onResponse and onErrorResponse. I'm not sure if it is those two, but it looks like that from the poorly formatted error in your question.</p>\n\n<p>And if you ask a question in the future, don't provide a screenshot. Format it and add it into the question, don't mash it into a single line</p>\n"},{"tags":[],"owner":{"account_id":20407591,"reputation":75,"user_id":14971791,"display_name":"Encoder&#39;s YT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649098072,"creation_date":1649098072,"answer_id":71742312,"question_id":45360520,"body_markdown":"It&#39;s a problem with aide. To solve this problem, all you have to is assign these two listener in a variable like below.\r\n```java\r\nResponse.Listener resListener = new Response.Listener&lt;JSONObject&gt;() {\r\n        @Override\r\n        public void onResponse(JSONObject response) {\r\n            // Handle your response\r\n        }\r\n    };\r\nResponse.ErrorListener errListener = new Response.ErrorListener() {\r\n        @Override\r\n        public void onErrorResponse(VolleyError error) {\r\n            // Handle your error\r\n        }\r\n    };\r\n```\r\nAfter that use these to listner by calling there references.\r\n```java\r\nJsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null, resListener, errListener) {\r\n        @Override\r\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError{ \r\n            Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();  \r\n            params.put(&quot;Accept-Language&quot;, &quot;en&quot;);\r\n\r\n            return params;  \r\n        }\r\n    };\r\n```\r\nIt should work.","title":"On android AIDE IDE android volly showing error when I try to use getheader() method","body":"<p>It's a problem with aide. To solve this problem, all you have to is assign these two listener in a variable like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response.Listener resListener = new Response.Listener&lt;JSONObject&gt;() {\n        @Override\n        public void onResponse(JSONObject response) {\n            // Handle your response\n        }\n    };\nResponse.ErrorListener errListener = new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            // Handle your error\n        }\n    };\n</code></pre>\n<p>After that use these to listner by calling there references.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null, resListener, errListener) {\n        @Override\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError{ \n            Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();  \n            params.put(&quot;Accept-Language&quot;, &quot;en&quot;);\n\n            return params;  \n        }\n    };\n</code></pre>\n<p>It should work.</p>\n"}],"owner":{"account_id":11429142,"reputation":11,"user_id":8378436,"display_name":"Kidane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1649098072,"creation_date":1501187643,"question_id":45360520,"body_markdown":"android volly showing error when I try to use getheader() method.\r\nI was trying to do a simple task which needs some networking with volly I&#39;m using Aide ide on my android tablet. I couldn&#39;t figure out how to fix this \r\nError\r\n\r\n\r\n 1. method onResponse does&#39;t override method from its super class\r\n 2. method onErrorResponse does&#39;t override method from its super class\r\n\r\n//My code\r\n\r\n    private void jsonObjectMethod(){\r\n        String url = &quot;www.example.com&quot;; \r\n        // enter url here\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null,\r\n\t\tnew Response.Listener&lt;JSONObject&gt;() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n                // Handle your response\r\n            }\r\n\t\t\t\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                // Handle your error\r\n            }\r\n\t\t\t\r\n        }){\r\n\t\t\t@Override\r\n\t\t\tpublic Map&lt;String, String&gt; getHeaders() throws AuthFailureError{ \r\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();  \r\n                params.put(&quot;Accept-Language&quot;, &quot;en&quot;);\r\n\r\n                return params;  \r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\r\n        MainApplication.getInstance(this).addToRequestQueue(jsonObjectRequest);\r\n    }\r\n\r\n[Screenshot of the error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9bV1p.png","title":"On android AIDE IDE android volly showing error when I try to use getheader() method","body":"<p>android volly showing error when I try to use getheader() method.\nI was trying to do a simple task which needs some networking with volly I'm using Aide ide on my android tablet. I couldn't figure out how to fix this \nError</p>\n\n<ol>\n<li>method onResponse does't override method from its super class</li>\n<li>method onErrorResponse does't override method from its super class</li>\n</ol>\n\n<p>//My code</p>\n\n<pre><code>private void jsonObjectMethod(){\n    String url = \"www.example.com\"; \n    // enter url here\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null,\n    new Response.Listener&lt;JSONObject&gt;() {\n        @Override\n        public void onResponse(JSONObject response) {\n            // Handle your response\n        }\n\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            // Handle your error\n        }\n\n    }){\n        @Override\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError{ \n            Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();  \n            params.put(\"Accept-Language\", \"en\");\n\n            return params;  \n        }\n    };\n\n\n\n    MainApplication.getInstance(this).addToRequestQueue(jsonObjectRequest);\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9bV1p.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a></p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1649087733,"post_id":71740177,"comment_id":126781958,"body_markdown":"Please provide a [mcve] that we can copy/paste and compile ourselves. Be sure to include any errors that the code causes.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy/paste and compile ourselves. Be sure to include any errors that the code causes."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1649087874,"post_id":71740177,"comment_id":126782021,"body_markdown":"Enums can implement interfaces","body":"Enums can implement interfaces"}],"answers":[{"tags":[],"owner":{"account_id":15709806,"reputation":131,"user_id":11335573,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649088308,"creation_date":1649088308,"answer_id":71740340,"question_id":71740177,"body_markdown":"definitely overengineering ...  I would have gone with \r\n\r\n```java\r\nenum Country {\r\n  US(&lt;array/list of us states is enough&gt;),\r\n  CA(&lt;array/list of ca states is enough&gt;);\r\n\r\n  public List&lt;State&gt; list;\r\n\r\n  Country(List&lt;State&gt; list) { this.list = list; }\r\n}\r\n```","title":"Nested Enum constructor","body":"<p>definitely overengineering ...  I would have gone with</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Country {\n  US(&lt;array/list of us states is enough&gt;),\n  CA(&lt;array/list of ca states is enough&gt;);\n\n  public List&lt;State&gt; list;\n\n  Country(List&lt;State&gt; list) { this.list = list; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649091697,"creation_date":1649089408,"answer_id":71740586,"question_id":71740177,"body_markdown":"Considering that you can&#39;t make `Enum` extend some custom parent class in order to make the abstraction that you require to, I would follow the following approach\r\n\r\n    public enum States {\r\n    \r\n        ALABAMA(&quot;Alabama&quot;, Country.US),\r\n        ARIZONA(&quot;Arizona&quot;, Country.US),\r\n        ON(&quot;Ontario&quot;, Country.CA),\r\n        QC(&quot;Quebec&quot;, Country.CA),\r\n        NS(&quot;Nova Scotia&quot;, Country.CA);\r\n    \r\n        States(String name, Country country){\r\n            this.name = name;\r\n            this.country = country;\r\n        }\r\n    \r\n        private String name;\r\n        private Country country;\r\n    \r\n        public List&lt;States&gt; getByCountry(Country country){\r\n            return Arrays.stream(States.values()).filter(s -&gt; s.country.equals(country)).collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nYou can also keep those States in memory during initialization so that you don&#39;t compute every time which states belong to which country.\r\n\r\n    public enum States {\r\n    \r\n        ALABAMA(&quot;Alabama&quot;, Country.US),\r\n        ARIZONA(&quot;Arizona&quot;, Country.US),\r\n        ON(&quot;Ontario&quot;, Country.CA),\r\n        QC(&quot;Quebec&quot;, Country.CA),\r\n        NS(&quot;Nova Scotia&quot;, Country.CA);\r\n    \r\n        States(String name, Country country){\r\n            this.name = name;\r\n            this.country = country;\r\n        }\r\n    \r\n        private String name;\r\n        private Country country;\r\n    \r\n        private static Map&lt;Country, List&lt;States&gt;&gt; statesMap = initializeStatesMap();\r\n        private static Map&lt;Country, List&lt;States&gt;&gt; initializeStatesMap(){\r\n            return Arrays.stream(States.values())\r\n                    .collect(Collectors.groupingBy(state -&gt; state.country,\r\n                            Collectors.mapping(state -&gt; state, Collectors.toList())));\r\n        }\r\n    \r\n        public static List&lt;States&gt; getByCountry(Country country){\r\n            return statesMap.containsKey(country) ? statesMap.get(country) : new ArrayList&lt;&gt;();\r\n        }\r\n    }\r\n\r\n \r\n\r\nand then\r\n\r\n    public enum Country {\r\n    \r\n        US,\r\n        CA\r\n    \r\n    }\r\n\r\n","title":"Nested Enum constructor","body":"<p>Considering that you can't make <code>Enum</code> extend some custom parent class in order to make the abstraction that you require to, I would follow the following approach</p>\n<pre><code>public enum States {\n\n    ALABAMA(&quot;Alabama&quot;, Country.US),\n    ARIZONA(&quot;Arizona&quot;, Country.US),\n    ON(&quot;Ontario&quot;, Country.CA),\n    QC(&quot;Quebec&quot;, Country.CA),\n    NS(&quot;Nova Scotia&quot;, Country.CA);\n\n    States(String name, Country country){\n        this.name = name;\n        this.country = country;\n    }\n\n    private String name;\n    private Country country;\n\n    public List&lt;States&gt; getByCountry(Country country){\n        return Arrays.stream(States.values()).filter(s -&gt; s.country.equals(country)).collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>You can also keep those States in memory during initialization so that you don't compute every time which states belong to which country.</p>\n<pre><code>public enum States {\n\n    ALABAMA(&quot;Alabama&quot;, Country.US),\n    ARIZONA(&quot;Arizona&quot;, Country.US),\n    ON(&quot;Ontario&quot;, Country.CA),\n    QC(&quot;Quebec&quot;, Country.CA),\n    NS(&quot;Nova Scotia&quot;, Country.CA);\n\n    States(String name, Country country){\n        this.name = name;\n        this.country = country;\n    }\n\n    private String name;\n    private Country country;\n\n    private static Map&lt;Country, List&lt;States&gt;&gt; statesMap = initializeStatesMap();\n    private static Map&lt;Country, List&lt;States&gt;&gt; initializeStatesMap(){\n        return Arrays.stream(States.values())\n                .collect(Collectors.groupingBy(state -&gt; state.country,\n                        Collectors.mapping(state -&gt; state, Collectors.toList())));\n    }\n\n    public static List&lt;States&gt; getByCountry(Country country){\n        return statesMap.containsKey(country) ? statesMap.get(country) : new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>and then</p>\n<pre><code>public enum Country {\n\n    US,\n    CA\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225; Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649097948,"creation_date":1649097948,"answer_id":71742291,"question_id":71740177,"body_markdown":"It is possible to define interface every state of a country must implement. Then you can just initialize every country enum constant with enum class of particular state. Thanks to generic bounds, the country enum constructor has enough information to build list of states:\r\n\r\n```java\r\n\tclass BaseKlass {}\r\n\tclass USState extends BaseKlass {}\r\n\tclass CAState extends BaseKlass {}\r\n\tclass NJClass extends USState {}\r\n\tclass PAClass extends USState {}\r\n\tclass ONClass extends CAState {}\r\n\tinterface BaseSubclassAware&lt;S extends BaseKlass&gt; {\r\n\t\tS getKlass();\r\n\t}\r\n\t\r\n\tenum UnitedStates implements BaseSubclassAware&lt;USState&gt; {\r\n\t\tNJ(new NJClass()),\r\n\t\tPA(new PAClass());\r\n\r\n\t\tprivate USState klass;\r\n\t\tUnitedStates(USState name){ this.klass = name; }\r\n\t\tpublic USState getKlass() { return klass; }\r\n\t}\r\n\tenum Canada implements BaseSubclassAware&lt;CAState&gt; {\r\n\t\tON(new ONClass());\r\n\r\n\t\tprivate CAState klass;\r\n\t\tCanada(CAState name){ this.klass = name; }\r\n\r\n\t\tpublic CAState getKlass() { return klass; }\r\n\t}\r\n\tenum Country {\r\n\t\tUS(UnitedStates.class),\r\n\t\tCA(Canada.class);\r\n\r\n\t\tpublic List&lt;? extends BaseKlass&gt; list;\r\n\r\n\t\t&lt;S extends BaseKlass, E extends Enum&lt;E&gt; &amp; BaseSubclassAware&lt;S&gt;&gt; Country(Class&lt;E&gt; clazz) {\r\n\t\t\tthis.list = Stream.of(clazz.getEnumConstants()).map(BaseSubclassAware::getKlass).collect(Collectors.toList()); \r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\nThis is just a demo to literally fullfill your requirement and demonstrate some points where generics can be useful. From practical point of view it is definitely overengineering - it is usage of both enum constants and classes in a weird mix. \r\n","title":"Nested Enum constructor","body":"<p>It is possible to define interface every state of a country must implement. Then you can just initialize every country enum constant with enum class of particular state. Thanks to generic bounds, the country enum constructor has enough information to build list of states:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class BaseKlass {}\n    class USState extends BaseKlass {}\n    class CAState extends BaseKlass {}\n    class NJClass extends USState {}\n    class PAClass extends USState {}\n    class ONClass extends CAState {}\n    interface BaseSubclassAware&lt;S extends BaseKlass&gt; {\n        S getKlass();\n    }\n    \n    enum UnitedStates implements BaseSubclassAware&lt;USState&gt; {\n        NJ(new NJClass()),\n        PA(new PAClass());\n\n        private USState klass;\n        UnitedStates(USState name){ this.klass = name; }\n        public USState getKlass() { return klass; }\n    }\n    enum Canada implements BaseSubclassAware&lt;CAState&gt; {\n        ON(new ONClass());\n\n        private CAState klass;\n        Canada(CAState name){ this.klass = name; }\n\n        public CAState getKlass() { return klass; }\n    }\n    enum Country {\n        US(UnitedStates.class),\n        CA(Canada.class);\n\n        public List&lt;? extends BaseKlass&gt; list;\n\n        &lt;S extends BaseKlass, E extends Enum&lt;E&gt; &amp; BaseSubclassAware&lt;S&gt;&gt; Country(Class&lt;E&gt; clazz) {\n            this.list = Stream.of(clazz.getEnumConstants()).map(BaseSubclassAware::getKlass).collect(Collectors.toList()); \n        }\n        \n    }\n</code></pre>\n<p>This is just a demo to literally fullfill your requirement and demonstrate some points where generics can be useful. From practical point of view it is definitely overengineering - it is usage of both enum constants and classes in a weird mix.</p>\n"}],"owner":{"account_id":10329025,"reputation":1640,"user_id":7619578,"accept_rate":67,"display_name":"Int&#39;l Man Of Coding Mystery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1649097948,"creation_date":1649087572,"question_id":71740177,"body_markdown":"Not sure if I&#39;m over engineering or what, but I was thinking of creating an enum that would have a list of enums as it&#39;s value, from which I could get the value of that.\r\n\r\n```\r\nenum Country {\r\n  US(UnitedStates.values()),\r\n  CA(Canada.values());\r\n\r\n  public ? list;\r\n\r\n  Country(? list) { this.list = list; }\r\n}\r\nenum UnitedStates {\r\n  NJ(new NJClass()),\r\n  PA(new PAClass());\r\n\r\n  private BaseKlass klass;\r\n  UnitedStates(BaseClass name){ this.klass = name }\r\n  public BaseKlass getKass() { return klass; }\r\n}\r\nenum Canada {\r\n  ON(new ONClass());\r\n\r\n  private BaseKlass klass;\r\n  Canada(BaseKlass name){ this.klass = name }\r\n\r\n  public BaseKlass getKass() { return klass; }\r\n}\r\n```\r\n\r\nI&#39;m having trouble figuring the type for the `Country` enum in order to properly filter that values array to the correct enum. For example, I can get the US enum easily with `Country.valueOf(&quot;US&quot;)`. Where I&#39;m having trouble is getting the correct value out of that array. I have tried comparing the name, `Country.valueOf(&quot;US&quot;).stream().filter(e -&gt; e.name().equals(&quot;NJ&quot;)).findFirst().get().getKlass()` But it&#39;s never the correct type.\r\n\r\nIs this even possible or am I over thinking things?","title":"Nested Enum constructor","body":"<p>Not sure if I'm over engineering or what, but I was thinking of creating an enum that would have a list of enums as it's value, from which I could get the value of that.</p>\n<pre><code>enum Country {\n  US(UnitedStates.values()),\n  CA(Canada.values());\n\n  public ? list;\n\n  Country(? list) { this.list = list; }\n}\nenum UnitedStates {\n  NJ(new NJClass()),\n  PA(new PAClass());\n\n  private BaseKlass klass;\n  UnitedStates(BaseClass name){ this.klass = name }\n  public BaseKlass getKass() { return klass; }\n}\nenum Canada {\n  ON(new ONClass());\n\n  private BaseKlass klass;\n  Canada(BaseKlass name){ this.klass = name }\n\n  public BaseKlass getKass() { return klass; }\n}\n</code></pre>\n<p>I'm having trouble figuring the type for the <code>Country</code> enum in order to properly filter that values array to the correct enum. For example, I can get the US enum easily with <code>Country.valueOf(&quot;US&quot;)</code>. Where I'm having trouble is getting the correct value out of that array. I have tried comparing the name, <code>Country.valueOf(&quot;US&quot;).stream().filter(e -&gt; e.name().equals(&quot;NJ&quot;)).findFirst().get().getKlass()</code> But it's never the correct type.</p>\n<p>Is this even possible or am I over thinking things?</p>\n"},{"tags":["java","swing","maze","drawrectangle"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1649098182,"post_id":71742278,"comment_id":126785535,"body_markdown":"I&#39;d use a model which contains `Shape` instances (rectangles) to represent the walls. So I think that amounts to &#39;a little of both&#39;.","body":"I&#39;d use a model which contains <code>Shape</code> instances (rectangles) to represent the walls. So I think that amounts to &#39;a little of both&#39;."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1649098563,"post_id":71742278,"comment_id":126785637,"body_markdown":"`Shape::intersects` will let your _model_ determine if a move is permitted, and your view can `draw()` them easily; see these [examples](https://stackoverflow.com/search?tab=votes&amp;q=%5bswing%5d%20draw%20shape%20intersects).","body":"<code>Shape::intersects</code> will let your <i>model</i> determine if a move is permitted, and your view can <code>draw()</code> them easily; see these <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bswing%5d%20draw%20shape%20intersects\">examples</a>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1649098692,"post_id":71742278,"comment_id":126785679,"body_markdown":"You certainly have to do collision detection. How you implement that, by looking at colors in the image, by having separate objects for parts of the maze, is totally up to you.","body":"You certainly have to do collision detection. How you implement that, by looking at colors in the image, by having separate objects for parts of the maze, is totally up to you."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1649099567,"post_id":71742278,"comment_id":126785928,"body_markdown":"@DavidConrad *&quot;by looking at colors in the image&quot;* It&#39;s also possible to [turn particular colors in an image into a shape](https://stackoverflow.com/a/7059497/418556). It takes some (OK many) CPU operations to do so, but if the time is filled with an &#39;intro demo&#39; or such, the user will likely not notice it.","body":"@DavidConrad <i>&quot;by looking at colors in the image&quot;</i> It&#39;s also possible to <a href=\"https://stackoverflow.com/a/7059497/418556\">turn particular colors in an image into a shape</a>. It takes some (OK many) CPU operations to do so, but if the time is filled with an &#39;intro demo&#39; or such, the user will likely not notice it."}],"owner":{"account_id":20043619,"reputation":355,"user_id":14693830,"display_name":"Jeff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649097890,"creation_date":1649097890,"question_id":71742278,"body_markdown":"I have an image with walls in it for my little maze game but currently, my player can move around freely meaning on top of the walls. If I want to restrict this free movement with walls, do I have to paint multiple rectangles one by one and align them properly so that they match the walls in my image, and if my player is hitting a certain wall, I would have to make a collision detection check? Or would I need to make a Wall class and create wall objects with methods which can check if they are in contact with the player, can restrict the movement? How would I go on about achieving this?\r\n","title":"How to implment walls in Maze game in Java GUI","body":"<p>I have an image with walls in it for my little maze game but currently, my player can move around freely meaning on top of the walls. If I want to restrict this free movement with walls, do I have to paint multiple rectangles one by one and align them properly so that they match the walls in my image, and if my player is hitting a certain wall, I would have to make a collision detection check? Or would I need to make a Wall class and create wall objects with methods which can check if they are in contact with the player, can restrict the movement? How would I go on about achieving this?</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"score":0,"creation_date":1701247135,"post_id":65265887,"comment_id":136750663,"body_markdown":"As explained [here](https://stackoverflow.com/a/77569633/3679900) I was getting this exception since I had forgotten to add `@PrepareForTest({ClassToMock.class})` annotation on my test-class","body":"As explained <a href=\"https://stackoverflow.com/a/77569633/3679900\">here</a> I was getting this exception since I had forgotten to add <code>@PrepareForTest({ClassToMock.class})</code> annotation on my test-class"}],"answers":[{"tags":[],"owner":{"account_id":9310284,"reputation":94,"user_id":6912372,"display_name":"Nikita"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1607783483,"creation_date":1607783483,"answer_id":65266081,"question_id":65265887,"body_markdown":"did you try \r\nmocked.when(LocalDate.now()).thenReturn(LocalDate.of(2020,11,10));\r\n?","title":"UnfinishedStubbingException when mock static method with Mockito.mockStatic","body":"<p>did you try\nmocked.when(LocalDate.now()).thenReturn(LocalDate.of(2020,11,10));\n?</p>\n"},{"tags":[],"owner":{"account_id":2342921,"reputation":31,"user_id":12554690,"display_name":"sankv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607783795,"creation_date":1607783795,"answer_id":65266126,"question_id":65265887,"body_markdown":"Try:\r\n\r\n    private LocalDate expectedReturn = LocalDate.of(2020, 11, 20);\r\n    \r\n        @Test\r\n        void test() {\r\n            LocalDate today = LocalDate.of(2020, 11, 20);\r\n            try (MockedStatic&lt;LocalDate&gt; mocked = Mockito.mockStatic(LocalDate.class)) {\r\n                mocked.when(LocalDate::now).thenReturn(expectedReturn);\r\n                Assertions.assertEquals(today, LocalDate.now());\r\n                mocked.verify(Mockito.atLeastOnce(), LocalDate::now);\r\n            }\r\n        }","title":"UnfinishedStubbingException when mock static method with Mockito.mockStatic","body":"<p>Try:</p>\n<pre><code>private LocalDate expectedReturn = LocalDate.of(2020, 11, 20);\n\n    @Test\n    void test() {\n        LocalDate today = LocalDate.of(2020, 11, 20);\n        try (MockedStatic&lt;LocalDate&gt; mocked = Mockito.mockStatic(LocalDate.class)) {\n            mocked.when(LocalDate::now).thenReturn(expectedReturn);\n            Assertions.assertEquals(today, LocalDate.now());\n            mocked.verify(Mockito.atLeastOnce(), LocalDate::now);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2368624,"reputation":1679,"user_id":2073800,"accept_rate":70,"display_name":"Jags"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1649097757,"creation_date":1649097757,"answer_id":71742246,"question_id":65265887,"body_markdown":"You need to instantiate the return object outside of your try block.\r\n\r\nThe issue is that you are mocking the `LocalDate` class, and then trying to use that same class within the mocked `try` block;\r\n\r\n    mocked.when(LocalDate::now).thenReturn(LocalDate.of(2020,11,10));\r\n\r\n@sankv answer works because it instantiates the returned `LocalDate` prior to the static block.","title":"UnfinishedStubbingException when mock static method with Mockito.mockStatic","body":"<p>You need to instantiate the return object outside of your try block.</p>\n<p>The issue is that you are mocking the <code>LocalDate</code> class, and then trying to use that same class within the mocked <code>try</code> block;</p>\n<pre><code>mocked.when(LocalDate::now).thenReturn(LocalDate.of(2020,11,10));\n</code></pre>\n<p>@sankv answer works because it instantiates the returned <code>LocalDate</code> prior to the static block.</p>\n"}],"owner":{"account_id":15494779,"reputation":1291,"user_id":12824504,"display_name":"haoyu wang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2831,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1649097757,"creation_date":1607782342,"question_id":65265887,"body_markdown":"I got this exception when mock the `LocalDate.now()` static method with `Mockito.mockStatic()`.\r\n&gt;org.mockito.exceptions.misusing.UnfinishedStubbingException: \r\n&gt;Unfinished stubbing detected here:\r\n&gt; at utils.PowerMockTest.test(PowerMockTest.java:18)\r\n&gt;\r\n&gt; E.g. thenReturn() may be missing.  \r\n&gt; Examples of correct stubbing:\r\n&gt;    when(mock.isOk()).thenReturn(true);\r\n&gt;    when(mock.isOk()).thenThrow(exception);\r\n&gt;    doThrow(exception).when(mock).someVoidMethod();\r\n&gt; Hints:\r\n&gt; 1. missing thenReturn()\r\n&gt; 2. you are trying to stub a final method, which is not supported\r\n&gt; 3. you are stubbing the behaviour of another mock inside before &#39;thenReturn&#39; instruction is \r\n&gt; completed\r\n\r\ncode is \r\n```\r\npublic class MockStaticTest {\r\n    @Test\r\n    void test(){\r\n        LocalDate today=LocalDate.of(2020,11,20);\r\n        try (MockedStatic mocked = mockStatic(LocalDate.class)) {\r\n            mocked.when(LocalDate::now).thenReturn(LocalDate.of(2020,11,10));\r\n            Assertions.assertEquals(today,LocalDate.now());\r\n            mocked.verify(atLeastOnce(),LocalDate::now);\r\n        }\r\n    }\r\n}\r\n```\r\nI&#39;m a bit confused by the exception message because I certainly added `thenReturn` statement.  \r\nAny help would be appreciated.","title":"UnfinishedStubbingException when mock static method with Mockito.mockStatic","body":"<p>I got this exception when mock the <code>LocalDate.now()</code> static method with <code>Mockito.mockStatic()</code>.</p>\n<blockquote>\n<p>org.mockito.exceptions.misusing.UnfinishedStubbingException:\nUnfinished stubbing detected here:\nat utils.PowerMockTest.test(PowerMockTest.java:18)</p>\n<p>E.g. thenReturn() may be missing.<br />\nExamples of correct stubbing:\nwhen(mock.isOk()).thenReturn(true);\nwhen(mock.isOk()).thenThrow(exception);\ndoThrow(exception).when(mock).someVoidMethod();\nHints:</p>\n<ol>\n<li>missing thenReturn()</li>\n<li>you are trying to stub a final method, which is not supported</li>\n<li>you are stubbing the behaviour of another mock inside before 'thenReturn' instruction is\ncompleted</li>\n</ol>\n</blockquote>\n<p>code is</p>\n<pre><code>public class MockStaticTest {\n    @Test\n    void test(){\n        LocalDate today=LocalDate.of(2020,11,20);\n        try (MockedStatic mocked = mockStatic(LocalDate.class)) {\n            mocked.when(LocalDate::now).thenReturn(LocalDate.of(2020,11,10));\n            Assertions.assertEquals(today,LocalDate.now());\n            mocked.verify(atLeastOnce(),LocalDate::now);\n        }\n    }\n}\n</code></pre>\n<p>I'm a bit confused by the exception message because I certainly added <code>thenReturn</code> statement.<br />\nAny help would be appreciated.</p>\n"},{"tags":["java","websocket","module"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649102174,"post_id":71742217,"comment_id":126786726,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1649107846,"post_id":71742217,"comment_id":126788212,"body_markdown":"Are you sure that you want the [javax.websocket api from 2014](https://mvnrepository.com/artifact/javax.websocket) with Java 11 or later if Java 11 includes a [new implementation for websockets](https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/WebSocket.html)?","body":"Are you sure that you want the <a href=\"https://mvnrepository.com/artifact/javax.websocket\" rel=\"nofollow noreferrer\">javax.websocket api from 2014</a> with Java 11 or later if Java 11 includes a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/WebSocket.html\" rel=\"nofollow noreferrer\">new implementation for websockets</a>?"},{"owner":{"account_id":11582714,"reputation":11,"user_id":8486057,"display_name":"oherdcher"},"score":0,"creation_date":1649114874,"post_id":71742217,"comment_id":126789607,"body_markdown":"Yeah, i have to use JSR356. It seems it is not by default compatible with Java 9 and up, is it?\nThe goal would be to have 1 JAR that contains all modules of javax.websocket that i could require in my module-info\nI found javax.websocket.all that i can use as a maven dependency, but the module-info doesn&#39;t know such a module","body":"Yeah, i have to use JSR356. It seems it is not by default compatible with Java 9 and up, is it? The goal would be to have 1 JAR that contains all modules of javax.websocket that i could require in my module-info I found javax.websocket.all that i can use as a maven dependency, but the module-info doesn&#39;t know such a module"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1649136364,"post_id":71742217,"comment_id":126792685,"body_markdown":"I&#39;ve downloaded the sources of both modules. The module &quot;javax.websocket-api&quot; contains everything from &quot;javax.websocket-client-api&quot; and additionally some interfaces and annotations that are only used on the server side. IMHO it should be possible to depend only on the &quot;javax.websocket-api&quot; and build a client and/or a server with just this dependency.","body":"I&#39;ve downloaded the sources of both modules. The module &quot;javax.websocket-api&quot; contains everything from &quot;javax.websocket-client-api&quot; and additionally some interfaces and annotations that are only used on the server side. IMHO it should be possible to depend only on the &quot;javax.websocket-api&quot; and build a client and/or a server with just this dependency."}],"owner":{"account_id":11582714,"reputation":11,"user_id":8486057,"display_name":"oherdcher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1649097577,"creation_date":1649097577,"question_id":71742217,"body_markdown":"I want to build an application using JS365. The application should be able to act as server and client, depending on what it is the user is doing.\r\nFor the server part I need the module javax.websocket.api . For the client part i need javax.websocket.client.api .\r\nBut since they are both from the javax.websocket package i get &quot;...reads package javax.websocket from both javax.websocket.client.api and javax.websocket.api&quot;\r\n\r\nDo I have to split client and server parts into a module each?\r\nOr is there a way to tell my module-info.java i want to import all packages of javax.websocket?\r\n\r\nThanks!\r\n","title":"Java Module imports","body":"<p>I want to build an application using JS365. The application should be able to act as server and client, depending on what it is the user is doing.\nFor the server part I need the module javax.websocket.api . For the client part i need javax.websocket.client.api .\nBut since they are both from the javax.websocket package i get &quot;...reads package javax.websocket from both javax.websocket.client.api and javax.websocket.api&quot;</p>\n<p>Do I have to split client and server parts into a module each?\nOr is there a way to tell my module-info.java i want to import all packages of javax.websocket?</p>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"score":0,"creation_date":1649094182,"post_id":71741448,"comment_id":126784272,"body_markdown":"Use a list instead of an array and you get that behavior for free. Also you have Arrays helper methods to sort an Array. You might want check this post out.:https://www.baeldung.com/java-sorting","body":"Use a list instead of an array and you get that behavior for free. Also you have Arrays helper methods to sort an Array. You might want check this post out.:<a href=\"https://www.baeldung.com/java-sorting\" rel=\"nofollow noreferrer\">baeldung.com/java-sorting</a>"},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1649095292,"post_id":71741448,"comment_id":126784613,"body_markdown":"You could sort your `randomArray` before printing it.","body":"You could sort your <code>randomArray</code> before printing it."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1649096342,"post_id":71741448,"comment_id":126784932,"body_markdown":"Use `Random.nextInt(1000)` instead of `Math.random() * 999`. There&#39;s a bias in your expression, so that 999 is impossible and 0 is more likely than it should be.","body":"Use <code>Random.nextInt(1000)</code> instead of <code>Math.random() * 999</code>. There&#39;s a bias in your expression, so that 999 is impossible and 0 is more likely than it should be."}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649097170,"creation_date":1649093984,"answer_id":71741519,"question_id":71741448,"body_markdown":"Seems like you have done most of the work. You just need to sort the resulting array.\r\n\r\nUse `Arrays.sort(randomArray)` to sort the array.\r\n\r\nEdit: You can print the array outside for-loop with `System.out.println(Arrays.toString(randomArray));`\r\n\r\nEdit 2: In response to your comment, replace the for-loop with this code:\r\n\r\n    for(int i = 0; i&lt;value; i++)\r\n    {   \r\n        randomArray [i] = (int) (Math.random () * 999);\r\n    }  \r\n    Arrays.sort(randomArray);\r\n    System.out.println(Arrays.toString(randomArray));\r\n\r\nEdit 3: Replace the for loop in you code with this code if you want both ascending and descending order.\r\n    \r\n    int[] ascendingArray = randomArray.clone();\r\n    Arrays.sort(ascendingArray);\r\n    int[] descendingArray= ascendingArray.clone();\r\n    Collections.reverse(Arrays.asList(descendingArray));\r\n    \r\n    // These two lines print the random array in ascending order.\r\n    System.out.println(&quot;Sorted array (ascending order):&quot;);\r\n    System.out.println(Arrays.toString(ascendingArray));\r\n\r\n    // These two lines print the random array in descending order.\r\n    System.out.println(&quot;Sorted array (descending order):&quot;);\r\n    System.out.println(Arrays.toString(descendingArray));","title":"Want to create array of random integers in ascending order","body":"<p>Seems like you have done most of the work. You just need to sort the resulting array.</p>\n<p>Use <code>Arrays.sort(randomArray)</code> to sort the array.</p>\n<p>Edit: You can print the array outside for-loop with <code>System.out.println(Arrays.toString(randomArray));</code></p>\n<p>Edit 2: In response to your comment, replace the for-loop with this code:</p>\n<pre><code>for(int i = 0; i&lt;value; i++)\n{   \n    randomArray [i] = (int) (Math.random () * 999);\n}  \nArrays.sort(randomArray);\nSystem.out.println(Arrays.toString(randomArray));\n</code></pre>\n<p>Edit 3: Replace the for loop in you code with this code if you want both ascending and descending order.</p>\n<pre><code>int[] ascendingArray = randomArray.clone();\nArrays.sort(ascendingArray);\nint[] descendingArray= ascendingArray.clone();\nCollections.reverse(Arrays.asList(descendingArray));\n\n// These two lines print the random array in ascending order.\nSystem.out.println(&quot;Sorted array (ascending order):&quot;);\nSystem.out.println(Arrays.toString(ascendingArray));\n\n// These two lines print the random array in descending order.\nSystem.out.println(&quot;Sorted array (descending order):&quot;);\nSystem.out.println(Arrays.toString(descendingArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21067205,"reputation":1,"user_id":15484152,"display_name":"Savindu Pasintha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649097415,"creation_date":1649094765,"answer_id":71741674,"question_id":71741448,"body_markdown":"```java\r\n\r\nimport java.util.Scanner;\r\n\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args)\r\n{\r\n    Scanner scan = new Scanner(System.in); \r\n                                                   \r\n    System.out.print(&quot;How many random numbers between 0 - 999 do you want? &quot;); \r\n    \r\n    int value = scan.nextInt(); \r\n    System.out.println(&quot;Here are your numbers:&quot;);\r\n    int randomArray[]=new int[value]; \r\n    for(int i = 0; i&lt;value; i++)\r\n    {   \r\n        randomArray [i] = (int) (Math.random () * 999); \r\n\r\n        //System.out.println(randomArray[i]);\r\n    } \r\n\r\n   Arrays.sort(randomArray);\r\n\r\n   System.out.println(randomArray.toString());  \r\n\r\n  } \r\n}\r\n```","title":"Want to create array of random integers in ascending order","body":"<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.Scanner;\n\nimport java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args)\n{\n    Scanner scan = new Scanner(System.in); \n                                                   \n    System.out.print(&quot;How many random numbers between 0 - 999 do you want? &quot;); \n    \n    int value = scan.nextInt(); \n    System.out.println(&quot;Here are your numbers:&quot;);\n    int randomArray[]=new int[value]; \n    for(int i = 0; i&lt;value; i++)\n    {   \n        randomArray [i] = (int) (Math.random () * 999); \n\n        //System.out.println(randomArray[i]);\n    } \n\n   Arrays.sort(randomArray);\n\n   System.out.println(randomArray.toString());  \n\n  } \n}\n</code></pre>\n"}],"owner":{"account_id":24825080,"reputation":1,"user_id":18704987,"display_name":"Yoneslide123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649097415,"creation_date":1649093683,"question_id":71741448,"body_markdown":"I am currently working on a simple program where you&#39;re asked &quot;How many random numbers between 0 - 999 do you want?&quot; You enter a value (lets say 3), and it prints &quot;Here are your numbers:&quot; &quot;213 52 821&quot;.\r\nHow do I go about making the random numbers print in **ascending** **order**, from smallest to biggest. I don&#39;t want you to write the code for me, just some pointers.\r\n\r\nI am really new to programming\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class Main {\r\n    public static void main(String[] args)\r\n{\r\n    Scanner scan = new Scanner(System.in);                                                    \r\n    System.out.print(&quot;How many random numbers between 0 - 999 do you want? &quot;);     \r\n    int value = scan.nextInt(); \r\n    System.out.println(&quot;Here are your numbers:&quot;);\r\n\r\n    int randomArray[]=new int[value]; \r\n\r\n    for(int i = 0; i&lt;value; i++)\r\n    {   \r\n        randomArray [i] = (int) (Math.random () * 999); \r\n        System.out.println(randomArray[i]);\r\n    }   \r\n}  \r\n}\r\n```","title":"Want to create array of random integers in ascending order","body":"<p>I am currently working on a simple program where you're asked &quot;How many random numbers between 0 - 999 do you want?&quot; You enter a value (lets say 3), and it prints &quot;Here are your numbers:&quot; &quot;213 52 821&quot;.\nHow do I go about making the random numbers print in <strong>ascending</strong> <strong>order</strong>, from smallest to biggest. I don't want you to write the code for me, just some pointers.</p>\n<p>I am really new to programming</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class Main {\n    public static void main(String[] args)\n{\n    Scanner scan = new Scanner(System.in);                                                    \n    System.out.print(&quot;How many random numbers between 0 - 999 do you want? &quot;);     \n    int value = scan.nextInt(); \n    System.out.println(&quot;Here are your numbers:&quot;);\n\n    int randomArray[]=new int[value]; \n\n    for(int i = 0; i&lt;value; i++)\n    {   \n        randomArray [i] = (int) (Math.random () * 999); \n        System.out.println(randomArray[i]);\n    }   \n}  \n}\n</code></pre>\n"},{"tags":["java","angular","spring-boot","angular13"],"answers":[{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"v"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649097312,"creation_date":1649097312,"answer_id":71742170,"question_id":71741998,"body_markdown":"Does the application talk to the back-end during a session? If so, I would say the &quot;right&quot; way to approach this would be to verify the user&#39;s license on every access-restricted request to the back-end (or if that would be too slow you could check the first request per day, but it shouldn&#39;t generally be slow to check credentials). You shouldn&#39;t leave it to the front-end to decide when the license should be checked because front-ends can&#39;t be trusted (they are under user control, not your control).\r\n\r\nIf the application is basically an offline application and doesn&#39;t make meaningful server requests during a session, your approach seems reasonable to me. You can make the code &quot;call home&quot; once a day when online and do the check then.","title":"Validating if a user&#39;s license is valid while its session is active","body":"<p>Does the application talk to the back-end during a session? If so, I would say the &quot;right&quot; way to approach this would be to verify the user's license on every access-restricted request to the back-end (or if that would be too slow you could check the first request per day, but it shouldn't generally be slow to check credentials). You shouldn't leave it to the front-end to decide when the license should be checked because front-ends can't be trusted (they are under user control, not your control).</p>\n<p>If the application is basically an offline application and doesn't make meaningful server requests during a session, your approach seems reasonable to me. You can make the code &quot;call home&quot; once a day when online and do the check then.</p>\n"}],"owner":{"account_id":18379220,"reputation":63,"user_id":13387592,"display_name":"manu_dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1649154349,"answer_count":1,"score":1,"last_activity_date":1649097312,"creation_date":1649096452,"question_id":71741998,"body_markdown":"I am working on an application with a Java Spring Boot back-end and Angular 13 front-end.\r\n\r\nRight now a token is set in the user&#39;s local storage when he logs in for the first time and expires after 30 days. \r\n\r\nThis has been working fine so far, but now I need to validate whether a user&#39;s license is valid while his session is active. Right now the license validation is executed during login, but since the session does not expire daily, the user does not have to log in every day.\r\n\r\n\r\n\r\nLooking at other threads it has been suggested to set another item in the user&#39;s local storage that expires after 24 hours, once expired it should trigger the back-end to check whether the user&#39;s license is active and trigger related logic.\r\n\r\n\r\n\r\nWould that be the right approach to solve this issue?\r\n\r\nThank you very much\r\n","title":"Validating if a user&#39;s license is valid while its session is active","body":"<p>I am working on an application with a Java Spring Boot back-end and Angular 13 front-end.</p>\n<p>Right now a token is set in the user's local storage when he logs in for the first time and expires after 30 days.</p>\n<p>This has been working fine so far, but now I need to validate whether a user's license is valid while his session is active. Right now the license validation is executed during login, but since the session does not expire daily, the user does not have to log in every day.</p>\n<p>Looking at other threads it has been suggested to set another item in the user's local storage that expires after 24 hours, once expired it should trigger the back-end to check whether the user's license is active and trigger related logic.</p>\n<p>Would that be the right approach to solve this issue?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","list","collections","filter","java-stream"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1521973438,"post_id":49473050,"comment_id":85951984,"body_markdown":"can you explain why the resulting list should only have `pd1` as the object in it?","body":"can you explain why the resulting list should only have <code>pd1</code> as the object in it?"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1521973659,"post_id":49473050,"comment_id":85952047,"body_markdown":"why are you using `BigDecimal` here? not necessary at all and for this --&gt; `sidList.add(100012);` to compile you&#39;d need to do `sidList.add(BigDecimal.valueOf(100012));` or `sidList.add(new BigDecimal(100012));`. anyhow there&#39;s no need to use `BigDecimal` from what i can see.","body":"why are you using <code>BigDecimal</code> here? not necessary at all and for this --&gt; <code>sidList.add(100012);</code> to compile you&#39;d need to do <code>sidList.add(BigDecimal.valueOf(100012));</code> or <code>sidList.add(new BigDecimal(100012));</code>. anyhow there&#39;s no need to use <code>BigDecimal</code> from what i can see."},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1521974241,"post_id":49473050,"comment_id":85952217,"body_markdown":"Don&#39;t use raw ArrayList&#39;s, i.e. all the `new ArrayList();` should be changed to `new ArrayList&lt;&gt;();`.","body":"Don&#39;t use raw ArrayList&#39;s, i.e. all the <code>new ArrayList();</code> should be changed to <code>new ArrayList&lt;&gt;();</code>."}],"answers":[{"tags":[],"owner":{"account_id":5531724,"reputation":2045,"user_id":4391517,"accept_rate":49,"display_name":"Harshita Sethi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521963837,"creation_date":1521963837,"answer_id":49473578,"question_id":49473050,"body_markdown":"You can do something like this.\r\n\r\n    List&lt;ProductDetail&gt; listOutput = new ArrayList&lt;&gt;();\r\n    \r\n    pdList.forEach(e -&gt; {\r\n        e.serialcodes.forEach(f -&gt; {\r\n            if (sidList.contains(BigDecimal.valueOf(f.getSerialId()))) {\r\n                listOutput.add(e);\r\n            }\r\n        });\r\n    });","title":"Filtering a list of list of object with another list in Java 8","body":"<p>You can do something like this.</p>\n\n<pre><code>List&lt;ProductDetail&gt; listOutput = new ArrayList&lt;&gt;();\n\npdList.forEach(e -&gt; {\n    e.serialcodes.forEach(f -&gt; {\n        if (sidList.contains(BigDecimal.valueOf(f.getSerialId()))) {\n            listOutput.add(e);\n        }\n    });\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8719778,"reputation":98,"user_id":6523297,"display_name":"Sajit Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521992926,"creation_date":1521992926,"answer_id":49477739,"question_id":49473050,"body_markdown":"Stream operations should not modify or mutate any external state. So I would suggest using this :\r\n\r\n    final List&lt;ProductDetail&gt; list = pdList.stream()\r\n                .filter(p -&gt; p.serialCodes.stream()\r\n                        .map(s -&gt; BigDecimal.valueOf(s.serialId))\r\n                        .anyMatch(x -&gt; sidList.stream().anyMatch(b -&gt; b.equals(x))))\r\n                .collect(Collectors.toList());","title":"Filtering a list of list of object with another list in Java 8","body":"<p>Stream operations should not modify or mutate any external state. So I would suggest using this :</p>\n\n<pre><code>final List&lt;ProductDetail&gt; list = pdList.stream()\n            .filter(p -&gt; p.serialCodes.stream()\n                    .map(s -&gt; BigDecimal.valueOf(s.serialId))\n                    .anyMatch(x -&gt; sidList.stream().anyMatch(b -&gt; b.equals(x))))\n            .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":4117276,"reputation":139,"user_id":3378550,"accept_rate":50,"display_name":"user3378550"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14029,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49477739,"answer_count":2,"score":0,"last_activity_date":1649096918,"creation_date":1521958319,"question_id":49473050,"body_markdown":"I am new to Java 8 and trying to filter a list of list comparing with another list but unable to do.\r\n\r\n    ProductDetail.class\r\n        \r\n    public class ProductDetail {\r\n    \tlong productNo;\r\n    \tString productStr;\r\n    \tlong productCount;\r\n    \tList&lt;SerialCode&gt; serialCodes;\r\n    }\r\n\r\n    SerialCode.class\r\n    public class SerialCode {\r\n    \tint serialId;\r\n    \tString serialName;\r\n    }\r\n\r\n\r\n        public class Main {\r\n    \tpublic Main() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t\tList&lt;ProductDetail&gt; pdList = new ArrayList();\r\n    \r\n    \t\tList&lt;SerialCode&gt; sdList = new ArrayList();\r\n    \t\tSerialCode sd = new SerialCode();\r\n    \r\n    \t\tsd.setSerialName(&quot;sname1&quot;);\r\n    \r\n    \t\tsdList.add(sd);\r\n    \r\n    \t\tList&lt;SerialCode&gt; sdList1 = new ArrayList();\r\n    \t\tSerialCode sd1 = new SerialCode();\r\n    \t\tsd1.setSerialId(100013);\r\n    \t\tsd1.setSerialName(&quot;sname2&quot;);\r\n    \r\n    \t\tsdList1.add(sd1);\r\n    \r\n    \t\tProductDetail pd1 = new ProductDetail();\r\n    \t\tpd1.setProductNo(1234);\r\n    \t\tpd1.setProductStr(&quot;STR1&quot;);\r\n    \t\tpd1.setProductCount(20);\r\n    \t\tpd1.setSerialCodes(sdList);\r\n    \t\t\r\n    \t\tProductDetail pd2 = new ProductDetail();\r\n    \t\tpd2.setProductNo(1255);\r\n    \t\tpd2.setProductStr(&quot;STR2&quot;);\r\n    \t\tpd2.setProductCount(40);\r\n    \t\tpd2.setSerialCodes(sdList1);\r\n    \r\n    \t\tpdList.add(pd1);\r\n    \t\tpdList.add(pd2);\r\n    \t}\r\n    }\r\n\r\nChild list to compare with:\r\n\r\n    List&lt;BigDecimal&gt; sidList = new ArrayList();\r\n    sidList.add(100012);\r\n\r\nSo in this case the result should only return\r\n`List&lt;ProductDetail&gt;` which has pd1 object in it.\r\n\r\n\r\nSo far i have done this, but it doesn&#39;t work.\r\n\r\n    List&lt;ProductDetail&gt; listOutput =\r\n         pdList.stream()\r\n                .filter(e -&gt; sidList.contains(e.getSerialCodes().stream().filter(f-&gt;f.getSerialId())))\r\n                .collect(Collectors.toList());\r\n\r\n\r\n\r\n\r\n","title":"Filtering a list of list of object with another list in Java 8","body":"<p>I am new to Java 8 and trying to filter a list of list comparing with another list but unable to do.</p>\n\n<pre><code>ProductDetail.class\n\npublic class ProductDetail {\n    long productNo;\n    String productStr;\n    long productCount;\n    List&lt;SerialCode&gt; serialCodes;\n}\n\nSerialCode.class\npublic class SerialCode {\n    int serialId;\n    String serialName;\n}\n\n\n    public class Main {\n    public Main() {\n        // TODO Auto-generated constructor stub\n        List&lt;ProductDetail&gt; pdList = new ArrayList();\n\n        List&lt;SerialCode&gt; sdList = new ArrayList();\n        SerialCode sd = new SerialCode();\n\n        sd.setSerialName(\"sname1\");\n\n        sdList.add(sd);\n\n        List&lt;SerialCode&gt; sdList1 = new ArrayList();\n        SerialCode sd1 = new SerialCode();\n        sd1.setSerialId(100013);\n        sd1.setSerialName(\"sname2\");\n\n        sdList1.add(sd1);\n\n        ProductDetail pd1 = new ProductDetail();\n        pd1.setProductNo(1234);\n        pd1.setProductStr(\"STR1\");\n        pd1.setProductCount(20);\n        pd1.setSerialCodes(sdList);\n\n        ProductDetail pd2 = new ProductDetail();\n        pd2.setProductNo(1255);\n        pd2.setProductStr(\"STR2\");\n        pd2.setProductCount(40);\n        pd2.setSerialCodes(sdList1);\n\n        pdList.add(pd1);\n        pdList.add(pd2);\n    }\n}\n</code></pre>\n\n<p>Child list to compare with:</p>\n\n<pre><code>List&lt;BigDecimal&gt; sidList = new ArrayList();\nsidList.add(100012);\n</code></pre>\n\n<p>So in this case the result should only return\n<code>List&lt;ProductDetail&gt;</code> which has pd1 object in it.</p>\n\n<p>So far i have done this, but it doesn't work.</p>\n\n<pre><code>List&lt;ProductDetail&gt; listOutput =\n     pdList.stream()\n            .filter(e -&gt; sidList.contains(e.getSerialCodes().stream().filter(f-&gt;f.getSerialId())))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","arraylist","java-8","java-stream"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1459079894,"post_id":36246998,"comment_id":60123738,"body_markdown":"Are you looking for an exact match, or is it enough that the car name contains the type of one of the cars in the second list? (as suggested by your use of `contains` instead of `equals`)","body":"Are you looking for an exact match, or is it enough that the car name contains the type of one of the cars in the second list? (as suggested by your use of <code>contains</code> instead of <code>equals</code>)"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1459079947,"post_id":36246998,"comment_id":60123752,"body_markdown":"`.filter(e -&gt; listCarName.contains(e.getName()))`?","body":"<code>.filter(e -&gt; listCarName.contains(e.getName()))</code>?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1459079984,"post_id":36246998,"comment_id":60123762,"body_markdown":"The third question you linked shows how to achieve what you want: http://stackoverflow.com/questions/26170264/java-8-lambda-filter-collection-by-another-collection","body":"The third question you linked shows how to achieve what you want: <a href=\"http://stackoverflow.com/questions/26170264/java-8-lambda-filter-collection-by-another-collection\" title=\"java 8 lambda filter collection by another collection\">stackoverflow.com/questions/26170264/&hellip;</a>"},{"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"score":0,"creation_date":1459087444,"post_id":36246998,"comment_id":60126005,"body_markdown":"@AlexisC. I followed the solution in that thread, but not working for me. I guess it is because the values in the List 1 are stored as eg: org.gradle04.Main.Cars.dataCarName@4148db48 to get into a human readable format I have to do a forEach with a call on getName method. But I am not able to incorporate that into the filter criteria. Any suggestions on how I should proceed ? Thanks in advance &amp; apologies if my query is very basic.","body":"@AlexisC. I followed the solution in that thread, but not working for me. I guess it is because the values in the List 1 are stored as eg: org.gradle04.Main.Cars.dataCarName@4148db48 to get into a human readable format I have to do a forEach with a call on getName method. But I am not able to incorporate that into the filter criteria. Any suggestions on how I should proceed ? Thanks in advance &amp; apologies if my query is very basic."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1459087949,"post_id":36246998,"comment_id":60126169,"body_markdown":"@iCoder What you can do in this case is to first convert the `List&lt;DataCarName&gt;` into a `Set&lt;String&gt;` and then use `contains`, in the filter.","body":"@iCoder What you can do in this case is to first convert the <code>List&lt;DataCarName&gt;</code> into a <code>Set&lt;String&gt;</code> and then use <code>contains</code>, in the filter."}],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":115,"is_accepted":true,"score":115,"last_activity_date":1459090004,"creation_date":1459090004,"answer_id":36248657,"question_id":36246998,"body_markdown":"It&#39;s not clear why you have a `List&lt;DataCarName&gt;` in first place instead of a `List/Set&lt;String&gt;`.\r\n\r\nThe predicate you have to provide must check if for the corresponding data car instance, there&#39;s its name in the list.\r\n\r\n`e -&gt; e.getName().contains(&quot;BMW&quot;)` will only check if the name of the data car contains BMW which is not what you want. Your first attempt then may be\r\n\r\n    e -&gt; listCarName.contains(e.getName())\r\n\r\nbut since `listCarName` is a `List&lt;DataCarName&gt;` and `e.getName()` a string (I presume), you&#39;ll get an empty list as a result. \r\n\r\nThe first option you have is to change the predicate so that you get a stream from the list of data car names, map them to their string representation and check that any of these names corresponds to the current data car instance&#39;s name you are currently filtering:\r\n\r\n    List&lt;DataCar&gt; listOutput =\r\n        listCar.stream()\r\n               .filter(e -&gt; listCarName.stream().map(DataCarName::getName).anyMatch(name -&gt; name.equals(e.getName())))\r\n               .collect(Collectors.toList());\r\n\r\nNow this is very expensive because you create a stream for each instance in the data car stream pipeline. A better way would be to build a `Set&lt;String&gt;` with the cars&#39; name upfront and then simply use `contains` as a predicate on this set:\r\n\r\n    Set&lt;String&gt; carNames = \r\n        listCarName.stream()\r\n                   .map(DataCarName::getName)\r\n                   .collect(Collectors.toSet());\r\n\r\n    List&lt;DataCar&gt; listOutput =\r\n         listCar.stream()\r\n                .filter(e -&gt; carNames.contains(e.getName()))\r\n                .collect(Collectors.toList());\r\n        ","title":"Stream Filter of 1 list based on another list","body":"<p>It's not clear why you have a <code>List&lt;DataCarName&gt;</code> in first place instead of a <code>List/Set&lt;String&gt;</code>.</p>\n\n<p>The predicate you have to provide must check if for the corresponding data car instance, there's its name in the list.</p>\n\n<p><code>e -&gt; e.getName().contains(\"BMW\")</code> will only check if the name of the data car contains BMW which is not what you want. Your first attempt then may be</p>\n\n<pre><code>e -&gt; listCarName.contains(e.getName())\n</code></pre>\n\n<p>but since <code>listCarName</code> is a <code>List&lt;DataCarName&gt;</code> and <code>e.getName()</code> a string (I presume), you'll get an empty list as a result. </p>\n\n<p>The first option you have is to change the predicate so that you get a stream from the list of data car names, map them to their string representation and check that any of these names corresponds to the current data car instance's name you are currently filtering:</p>\n\n<pre><code>List&lt;DataCar&gt; listOutput =\n    listCar.stream()\n           .filter(e -&gt; listCarName.stream().map(DataCarName::getName).anyMatch(name -&gt; name.equals(e.getName())))\n           .collect(Collectors.toList());\n</code></pre>\n\n<p>Now this is very expensive because you create a stream for each instance in the data car stream pipeline. A better way would be to build a <code>Set&lt;String&gt;</code> with the cars' name upfront and then simply use <code>contains</code> as a predicate on this set:</p>\n\n<pre><code>Set&lt;String&gt; carNames = \n    listCarName.stream()\n               .map(DataCarName::getName)\n               .collect(Collectors.toSet());\n\nList&lt;DataCar&gt; listOutput =\n     listCar.stream()\n            .filter(e -&gt; carNames.contains(e.getName()))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1459174992,"creation_date":1459131203,"answer_id":36254946,"question_id":36246998,"body_markdown":"in your DataCar type, does `getName()` return a String or the DataCarName enum type? If it is the enum, you might follow Alexis C&#39;s approach but instead of building a HashSet&lt;String&gt; using Collectors.toSet(), build an EnumSet, which gives O(1) performance.  Modifying Alexis&#39; suggestion, the result would look like:\r\n\r\n    Set&lt;DataCarName&gt; carNames = \r\n        listCarName.stream()\r\n                   .collect(Collectors.toCollection(\r\n                       ()-&gt; EnumSet.noneOf(DataCarName.class)));\r\n\r\n    List&lt;DataCar&gt; listOutput =\r\n        listCar.stream()\r\n                   .filter(car -&gt; carNames.contains(car.getName()))  \r\n                   .collect(Collectors.toList());","title":"Stream Filter of 1 list based on another list","body":"<p>in your DataCar type, does <code>getName()</code> return a String or the DataCarName enum type? If it is the enum, you might follow Alexis C's approach but instead of building a HashSet using Collectors.toSet(), build an EnumSet, which gives O(1) performance.  Modifying Alexis' suggestion, the result would look like:</p>\n\n<pre><code>Set&lt;DataCarName&gt; carNames = \n    listCarName.stream()\n               .collect(Collectors.toCollection(\n                   ()-&gt; EnumSet.noneOf(DataCarName.class)));\n\nList&lt;DataCar&gt; listOutput =\n    listCar.stream()\n               .filter(car -&gt; carNames.contains(car.getName()))  \n               .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":755765,"reputation":8010,"user_id":765965,"accept_rate":94,"display_name":"Al-Mothafar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632828408,"creation_date":1632828408,"answer_id":69360870,"question_id":36246998,"body_markdown":"@Alexis&#39;a answer is nice, but I have another way around to get use of performance from `Map` and improve the part you do `listCarName.stream().map(DataCarName::getName).anyMatch(name -&gt; name.equals(e.getName()))` for each item, first I make a map from `listCar` and making the key with the field that I want to compare, in this instance is car&#39;s `name` and filter out null values when I map the list1 to be `CarData`.\r\n\r\nSo it should be something like:\r\n\r\n    final Map&lt;String, CarData&gt; allCarsMap = listCar // Your List2\r\n        .stream().collect(Collectors.toMap(CarData::getName, o -&gt; o));\r\n    \r\n    final List&lt;CarData&gt; listOutput = // Your expected result\r\n        listCarName // Your List1\r\n          .stream()\r\n          .map(allCarsMap::get) // will map each name with a value in the map\r\n          .filter(Objects::nonNull) // filter any null value for any car name that does not exist in the map\r\n          .collect(Collectors.toList());\r\n\r\nI hope this helps, maybe a little better performance in some scenarios?","title":"Stream Filter of 1 list based on another list","body":"<p>@Alexis'a answer is nice, but I have another way around to get use of performance from <code>Map</code> and improve the part you do <code>listCarName.stream().map(DataCarName::getName).anyMatch(name -&gt; name.equals(e.getName()))</code> for each item, first I make a map from <code>listCar</code> and making the key with the field that I want to compare, in this instance is car's <code>name</code> and filter out null values when I map the list1 to be <code>CarData</code>.</p>\n<p>So it should be something like:</p>\n<pre><code>final Map&lt;String, CarData&gt; allCarsMap = listCar // Your List2\n    .stream().collect(Collectors.toMap(CarData::getName, o -&gt; o));\n\nfinal List&lt;CarData&gt; listOutput = // Your expected result\n    listCarName // Your List1\n      .stream()\n      .map(allCarsMap::get) // will map each name with a value in the map\n      .filter(Objects::nonNull) // filter any null value for any car name that does not exist in the map\n      .collect(Collectors.toList());\n</code></pre>\n<p>I hope this helps, maybe a little better performance in some scenarios?</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649096852,"creation_date":1649095148,"answer_id":71741763,"question_id":36246998,"body_markdown":"    Try this: \r\n    \r\n    SortedMap&lt;String, Account&gt; accountMap, List&lt;AccountReseponse&gt; accountOwnersList\r\n    \r\n     List&lt;Map.Entry&lt;String, Account&gt;&gt; entryList = accountMap.entrySet().stream().filter(account -&gt; accountOwnersList.stream()\r\n                    .anyMatch(accountOwner -&gt; accountOwner.getAccount()\r\n                                    .getIdentifier().equals(account.getValue().getIdentifier())))\r\n                    .collect(Collectors.toList());\r\n\r\nCan also use .noneMatch().","title":"Stream Filter of 1 list based on another list","body":"<pre><code>Try this: \n\nSortedMap&lt;String, Account&gt; accountMap, List&lt;AccountReseponse&gt; accountOwnersList\n\n List&lt;Map.Entry&lt;String, Account&gt;&gt; entryList = accountMap.entrySet().stream().filter(account -&gt; accountOwnersList.stream()\n                .anyMatch(accountOwner -&gt; accountOwner.getAccount()\n                                .getIdentifier().equals(account.getValue().getIdentifier())))\n                .collect(Collectors.toList());\n</code></pre>\n<p>Can also use .noneMatch().</p>\n"}],"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156147,"favorite_count":0,"down_vote_count":2,"up_vote_count":70,"accepted_answer_id":36248657,"answer_count":4,"score":68,"last_activity_date":1649096852,"creation_date":1459079689,"question_id":36246998,"body_markdown":"I am posting my query after having searched in this forum &amp; google, but was unable to resolve the same. \r\neg: [Link1][1] [Link2][2] [Link3][3]\r\n\r\nI am trying to filter List 2 (multi column) based on the values in List 1.\r\n\r\n    List1:\r\n     - [Datsun]\r\n     - [Volvo]\r\n     - [BMW]\r\n     - [Mercedes]\r\n\r\n    List2: \r\n     - [1-Jun-1995, Audi, 25.3, 500.4, 300]\r\n     - [7-Apr-1996, BMW, 35.3, 250.2, 500]\r\n     - [3-May-1996, Porsche, 45.3, 750.8, 200]\r\n     - [2-Nov-1998, Volvo, 75.3, 150.2, 100]\r\n     - [7-Dec-1999, BMW, 95.3, 850.2, 900]\r\n\r\n    expected o/p:\r\n     - [7-Apr-1996, BMW, 35.3, 250.2, 500]\r\n     - [2-Nov-1998, Volvo, 75.3, 150.2, 100]\r\n     - [7-Dec-1999, BMW, 95.3, 850.2, 900]\r\n\r\n***Code***\r\n\r\n    // List 1 in above eg\r\n    List&lt;dataCarName&gt; listCarName = new ArrayList&lt;&gt;(); \r\n    // List 2 in above eg\r\n    List&lt;dataCar&gt; listCar = new ArrayList&lt;&gt;(); \r\n\r\n    // Values to the 2 lists are populated from excel\r\n\r\n    List&lt;dataCar&gt; listOutput = listCar.stream().filter(e -&gt; e.getName().contains(&quot;BMW&quot;)).collect(Collectors.toList());\r\n\r\nIn the above code if I provide a specific value I can filter, but not sure how to check if Car Name in List 2 exits in List 1.\r\n\r\nHope the issue I face is clear, await guidance (Am still relatively new to Java, hence forgive if the above query is very basic).\r\n\r\n  [1]: https://stackoverflow.com/questions/31808893/filter-elements-from-a-list-based-on-another-list\r\n  [2]: https://stackoverflow.com/questions/6561825/how-to-filter-a-list-based-on-the-content-of-another-list-of-a-different-type\r\n  [3]: https://stackoverflow.com/questions/26170264/java-8-lambda-filter-collection-by-another-collection\r\n\r\n***Edit***\r\nI believe the link-3 provided above should resolve, but in my case it is not working. Maybe because the values in list-1 are populated as\r\norg.gradle04.Main.Cars.dataCarName@4148db48 .. etc.\r\nI am able to get the value in human readable format only when I do a forEach on List 1 by calling the getName method.","title":"Stream Filter of 1 list based on another list","body":"<p>I am posting my query after having searched in this forum &amp; google, but was unable to resolve the same. \neg: <a href=\"https://stackoverflow.com/questions/31808893/filter-elements-from-a-list-based-on-another-list\">Link1</a> <a href=\"https://stackoverflow.com/questions/6561825/how-to-filter-a-list-based-on-the-content-of-another-list-of-a-different-type\">Link2</a> <a href=\"https://stackoverflow.com/questions/26170264/java-8-lambda-filter-collection-by-another-collection\">Link3</a></p>\n\n<p>I am trying to filter List 2 (multi column) based on the values in List 1.</p>\n\n<pre><code>List1:\n - [Datsun]\n - [Volvo]\n - [BMW]\n - [Mercedes]\n\nList2: \n - [1-Jun-1995, Audi, 25.3, 500.4, 300]\n - [7-Apr-1996, BMW, 35.3, 250.2, 500]\n - [3-May-1996, Porsche, 45.3, 750.8, 200]\n - [2-Nov-1998, Volvo, 75.3, 150.2, 100]\n - [7-Dec-1999, BMW, 95.3, 850.2, 900]\n\nexpected o/p:\n - [7-Apr-1996, BMW, 35.3, 250.2, 500]\n - [2-Nov-1998, Volvo, 75.3, 150.2, 100]\n - [7-Dec-1999, BMW, 95.3, 850.2, 900]\n</code></pre>\n\n<p><strong><em>Code</em></strong></p>\n\n<pre><code>// List 1 in above eg\nList&lt;dataCarName&gt; listCarName = new ArrayList&lt;&gt;(); \n// List 2 in above eg\nList&lt;dataCar&gt; listCar = new ArrayList&lt;&gt;(); \n\n// Values to the 2 lists are populated from excel\n\nList&lt;dataCar&gt; listOutput = listCar.stream().filter(e -&gt; e.getName().contains(\"BMW\")).collect(Collectors.toList());\n</code></pre>\n\n<p>In the above code if I provide a specific value I can filter, but not sure how to check if Car Name in List 2 exits in List 1.</p>\n\n<p>Hope the issue I face is clear, await guidance (Am still relatively new to Java, hence forgive if the above query is very basic).</p>\n\n<p><strong><em>Edit</em></strong>\nI believe the link-3 provided above should resolve, but in my case it is not working. Maybe because the values in list-1 are populated as\norg.gradle04.Main.Cars.dataCarName@4148db48 .. etc.\nI am able to get the value in human readable format only when I do a forEach on List 1 by calling the getName method.</p>\n"},{"tags":["java","json","parsing","gson","json-deserialization"],"comments":[{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1649049007,"post_id":71731842,"comment_id":126768419,"body_markdown":"Can you post the changes you had done?","body":"Can you post the changes you had done?"}],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1649065705,"creation_date":1649049325,"answer_id":71732326,"question_id":71731842,"body_markdown":"Use `HashMap` at the high level and then store the other JSON properties in other classes \r\n\r\n    class CoinProperties {\r\n        private String full_name;\r\n        private boolean payin_enabled;\r\n        private boolean payout_enabled;\r\n        private boolean transfer_enabled;\r\n        private String precision_transfer;\r\n        ArrayList&lt;Network&gt; networks = new ArrayList&lt;&gt;();\r\n    \r\n        public CoinProperties(String full_name, boolean payin_enabled, boolean payout_enabled, boolean transfer_enabled, String precision_transfer, ArrayList&lt;Network&gt; networks) {\r\n            this.full_name = full_name;\r\n            this.payin_enabled = payin_enabled;\r\n            this.payout_enabled = payout_enabled;\r\n            this.transfer_enabled = transfer_enabled;\r\n            this.precision_transfer = precision_transfer;\r\n            this.networks = networks;\r\n        }\r\n    }\r\n\r\nHere in `Network` class default is reserved keyword `@SerializedName(&quot;default&quot;)` that is being handled this way\r\n\r\n    class Network {\r\n        private String network;\r\n        private String protocol;\r\n        @SerializedName(&quot;default&quot;)\r\n        private boolean default_enabled;\r\n        private boolean payin_enabled;\r\n        private boolean payout_enabled;\r\n        private String precision_payout;\r\n        private String payout_fee;\r\n        private boolean payout_is_payment_id;\r\n        private boolean payin_payment_id;\r\n        private float payin_confirmations;\r\n    \r\n        public Network(String network, String protocol, boolean default_enabled, boolean payin_enabled, boolean payout_enabled, String precision_payout, String payout_fee, boolean payout_is_payment_id, boolean payin_payment_id, float payin_confirmations) {\r\n            this.network = network;\r\n            this.protocol = protocol;\r\n            this.default_enabled = default_enabled;\r\n            this.payin_enabled = payin_enabled;\r\n            this.payout_enabled = payout_enabled;\r\n            this.precision_payout = precision_payout;\r\n            this.payout_fee = payout_fee;\r\n            this.payout_is_payment_id = payout_is_payment_id;\r\n            this.payin_payment_id = payin_payment_id;\r\n            this.payin_confirmations = payin_confirmations;\r\n        }\r\n    }\r\n\r\n\r\nCode to Test\r\n\r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) {\r\n            String jsonString = &quot;{ \\&quot;BTC\\&quot;: {\\n&quot; +\r\n                    &quot;        \\&quot;full_name\\&quot;: \\&quot;Bitcoin TST\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;payin_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;        \\&quot;payout_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;        \\&quot;transfer_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;        \\&quot;precision_transfer\\&quot;: \\&quot;0.00000001\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;networks\\&quot;: [{\\n&quot; +\r\n                    &quot;            \\&quot;network\\&quot;: \\&quot;BTC\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;protocol\\&quot;: \\&quot;OMNI\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;default\\&quot;: true,\\n&quot; +\r\n                    &quot;            \\&quot;payin_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;            \\&quot;payout_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;            \\&quot;precision_payout\\&quot;: \\&quot;0.00000001\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;payout_fee\\&quot;: \\&quot;0.000725840000\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;payout_is_payment_id\\&quot;: false,\\n&quot; +\r\n                    &quot;            \\&quot;payin_payment_id\\&quot;: false,\\n&quot; +\r\n                    &quot;            \\&quot;payin_confirmations\\&quot;: 3\\n&quot; +\r\n                    &quot;        }]\\n&quot; +\r\n                    &quot;    },\\n&quot; +\r\n                    &quot;    \\&quot;ETH\\&quot;: {\\n&quot; +\r\n                    &quot;        \\&quot;full_name\\&quot;: \\&quot;Ethereum TST\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;payin_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;        \\&quot;payout_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;        \\&quot;transfer_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;        \\&quot;precision_transfer\\&quot;: \\&quot;0.000000000001\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;networks\\&quot;: [{\\n&quot; +\r\n                    &quot;            \\&quot;network\\&quot;: \\&quot;ETHTEST\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;protocol\\&quot;: \\&quot;\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;default\\&quot;: true,\\n&quot; +\r\n                    &quot;            \\&quot;payin_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;            \\&quot;payout_enabled\\&quot;: true,\\n&quot; +\r\n                    &quot;            \\&quot;precision_payout\\&quot;: \\&quot;0.000000000000000001\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;payout_fee\\&quot;: \\&quot;0.003621047265\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;payout_is_payment_id\\&quot;: false,\\n&quot; +\r\n                    &quot;            \\&quot;payin_payment_id\\&quot;: false,\\n&quot; +\r\n                    &quot;            \\&quot;payin_confirmations\\&quot;: 2\\n&quot; +\r\n                    &quot;        }]\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;}&quot;;\r\n    \r\n            HashMap&lt;String,CoinProperties&gt; coinNameToProperties = new HashMap&lt;&gt;();\r\n            System.out.println(new Gson().fromJson(jsonString,coinNameToProperties.getClass()));\r\n        }\r\n    }\r\n\r\n","title":"How to parse this json dynamically with GSON in Java","body":"<p>Use <code>HashMap</code> at the high level and then store the other JSON properties in other classes</p>\n<pre><code>class CoinProperties {\n    private String full_name;\n    private boolean payin_enabled;\n    private boolean payout_enabled;\n    private boolean transfer_enabled;\n    private String precision_transfer;\n    ArrayList&lt;Network&gt; networks = new ArrayList&lt;&gt;();\n\n    public CoinProperties(String full_name, boolean payin_enabled, boolean payout_enabled, boolean transfer_enabled, String precision_transfer, ArrayList&lt;Network&gt; networks) {\n        this.full_name = full_name;\n        this.payin_enabled = payin_enabled;\n        this.payout_enabled = payout_enabled;\n        this.transfer_enabled = transfer_enabled;\n        this.precision_transfer = precision_transfer;\n        this.networks = networks;\n    }\n}\n</code></pre>\n<p>Here in <code>Network</code> class default is reserved keyword <code>@SerializedName(&quot;default&quot;)</code> that is being handled this way</p>\n<pre><code>class Network {\n    private String network;\n    private String protocol;\n    @SerializedName(&quot;default&quot;)\n    private boolean default_enabled;\n    private boolean payin_enabled;\n    private boolean payout_enabled;\n    private String precision_payout;\n    private String payout_fee;\n    private boolean payout_is_payment_id;\n    private boolean payin_payment_id;\n    private float payin_confirmations;\n\n    public Network(String network, String protocol, boolean default_enabled, boolean payin_enabled, boolean payout_enabled, String precision_payout, String payout_fee, boolean payout_is_payment_id, boolean payin_payment_id, float payin_confirmations) {\n        this.network = network;\n        this.protocol = protocol;\n        this.default_enabled = default_enabled;\n        this.payin_enabled = payin_enabled;\n        this.payout_enabled = payout_enabled;\n        this.precision_payout = precision_payout;\n        this.payout_fee = payout_fee;\n        this.payout_is_payment_id = payout_is_payment_id;\n        this.payin_payment_id = payin_payment_id;\n        this.payin_confirmations = payin_confirmations;\n    }\n}\n</code></pre>\n<p>Code to Test</p>\n<pre><code>public class Demo {\n\n    public static void main(String[] args) {\n        String jsonString = &quot;{ \\&quot;BTC\\&quot;: {\\n&quot; +\n                &quot;        \\&quot;full_name\\&quot;: \\&quot;Bitcoin TST\\&quot;,\\n&quot; +\n                &quot;        \\&quot;payin_enabled\\&quot;: true,\\n&quot; +\n                &quot;        \\&quot;payout_enabled\\&quot;: true,\\n&quot; +\n                &quot;        \\&quot;transfer_enabled\\&quot;: true,\\n&quot; +\n                &quot;        \\&quot;precision_transfer\\&quot;: \\&quot;0.00000001\\&quot;,\\n&quot; +\n                &quot;        \\&quot;networks\\&quot;: [{\\n&quot; +\n                &quot;            \\&quot;network\\&quot;: \\&quot;BTC\\&quot;,\\n&quot; +\n                &quot;            \\&quot;protocol\\&quot;: \\&quot;OMNI\\&quot;,\\n&quot; +\n                &quot;            \\&quot;default\\&quot;: true,\\n&quot; +\n                &quot;            \\&quot;payin_enabled\\&quot;: true,\\n&quot; +\n                &quot;            \\&quot;payout_enabled\\&quot;: true,\\n&quot; +\n                &quot;            \\&quot;precision_payout\\&quot;: \\&quot;0.00000001\\&quot;,\\n&quot; +\n                &quot;            \\&quot;payout_fee\\&quot;: \\&quot;0.000725840000\\&quot;,\\n&quot; +\n                &quot;            \\&quot;payout_is_payment_id\\&quot;: false,\\n&quot; +\n                &quot;            \\&quot;payin_payment_id\\&quot;: false,\\n&quot; +\n                &quot;            \\&quot;payin_confirmations\\&quot;: 3\\n&quot; +\n                &quot;        }]\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    \\&quot;ETH\\&quot;: {\\n&quot; +\n                &quot;        \\&quot;full_name\\&quot;: \\&quot;Ethereum TST\\&quot;,\\n&quot; +\n                &quot;        \\&quot;payin_enabled\\&quot;: true,\\n&quot; +\n                &quot;        \\&quot;payout_enabled\\&quot;: true,\\n&quot; +\n                &quot;        \\&quot;transfer_enabled\\&quot;: true,\\n&quot; +\n                &quot;        \\&quot;precision_transfer\\&quot;: \\&quot;0.000000000001\\&quot;,\\n&quot; +\n                &quot;        \\&quot;networks\\&quot;: [{\\n&quot; +\n                &quot;            \\&quot;network\\&quot;: \\&quot;ETHTEST\\&quot;,\\n&quot; +\n                &quot;            \\&quot;protocol\\&quot;: \\&quot;\\&quot;,\\n&quot; +\n                &quot;            \\&quot;default\\&quot;: true,\\n&quot; +\n                &quot;            \\&quot;payin_enabled\\&quot;: true,\\n&quot; +\n                &quot;            \\&quot;payout_enabled\\&quot;: true,\\n&quot; +\n                &quot;            \\&quot;precision_payout\\&quot;: \\&quot;0.000000000000000001\\&quot;,\\n&quot; +\n                &quot;            \\&quot;payout_fee\\&quot;: \\&quot;0.003621047265\\&quot;,\\n&quot; +\n                &quot;            \\&quot;payout_is_payment_id\\&quot;: false,\\n&quot; +\n                &quot;            \\&quot;payin_payment_id\\&quot;: false,\\n&quot; +\n                &quot;            \\&quot;payin_confirmations\\&quot;: 2\\n&quot; +\n                &quot;        }]\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;}&quot;;\n\n        HashMap&lt;String,CoinProperties&gt; coinNameToProperties = new HashMap&lt;&gt;();\n        System.out.println(new Gson().fromJson(jsonString,coinNameToProperties.getClass()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17038177,"reputation":11,"user_id":12326760,"display_name":"Craftoncu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71732326,"answer_count":1,"score":-1,"last_activity_date":1649096732,"creation_date":1649044503,"question_id":71731842,"body_markdown":"I have the following JSON:\r\n\r\n```\r\n   {\r\n    &quot;BTC&quot;: {\r\n        &quot;full_name&quot;: &quot;Bitcoin TST&quot;,\r\n        &quot;payin_enabled&quot;: true,\r\n        &quot;payout_enabled&quot;: true,\r\n        &quot;transfer_enabled&quot;: true,\r\n        &quot;precision_transfer&quot;: &quot;0.00000001&quot;,\r\n        &quot;networks&quot;: [{\r\n            &quot;network&quot;: &quot;BTC&quot;,\r\n            &quot;protocol&quot;: &quot;OMNI&quot;,\r\n            &quot;default&quot;: true,\r\n            &quot;payin_enabled&quot;: true,\r\n            &quot;payout_enabled&quot;: true,\r\n            &quot;precision_payout&quot;: &quot;0.00000001&quot;,\r\n            &quot;payout_fee&quot;: &quot;0.000725840000&quot;,\r\n            &quot;payout_is_payment_id&quot;: false,\r\n            &quot;payin_payment_id&quot;: false,\r\n            &quot;payin_confirmations&quot;: 3\r\n        }]\r\n    },\r\n    &quot;ETH&quot;: {\r\n        &quot;full_name&quot;: &quot;Ethereum TST&quot;,\r\n        &quot;payin_enabled&quot;: true,\r\n        &quot;payout_enabled&quot;: true,\r\n        &quot;transfer_enabled&quot;: true,\r\n        &quot;precision_transfer&quot;: &quot;0.000000000001&quot;,\r\n        &quot;networks&quot;: [{\r\n            &quot;network&quot;: &quot;ETHTEST&quot;,\r\n            &quot;protocol&quot;: &quot;&quot;,\r\n            &quot;default&quot;: true,\r\n            &quot;payin_enabled&quot;: true,\r\n            &quot;payout_enabled&quot;: true,\r\n            &quot;precision_payout&quot;: &quot;0.000000000000000001&quot;,\r\n            &quot;payout_fee&quot;: &quot;0.003621047265&quot;,\r\n            &quot;payout_is_payment_id&quot;: false,\r\n            &quot;payin_payment_id&quot;: false,\r\n            &quot;payin_confirmaIions&quot;: 2\r\n        }]\r\n    }\r\n}\r\n```\r\nAnd I need to dynamically parse BTC and ETH and so on with GSON in the same object.\r\nThe structure I need in the java class would be the following:\r\n\r\n```\r\nprivate String symbol; //this would be BTC or ETH or MATIC\r\nprivate String full_name;\r\n```\r\n\r\nThanks in advance!","title":"How to parse this json dynamically with GSON in Java","body":"<p>I have the following JSON:</p>\n<pre><code>   {\n    &quot;BTC&quot;: {\n        &quot;full_name&quot;: &quot;Bitcoin TST&quot;,\n        &quot;payin_enabled&quot;: true,\n        &quot;payout_enabled&quot;: true,\n        &quot;transfer_enabled&quot;: true,\n        &quot;precision_transfer&quot;: &quot;0.00000001&quot;,\n        &quot;networks&quot;: [{\n            &quot;network&quot;: &quot;BTC&quot;,\n            &quot;protocol&quot;: &quot;OMNI&quot;,\n            &quot;default&quot;: true,\n            &quot;payin_enabled&quot;: true,\n            &quot;payout_enabled&quot;: true,\n            &quot;precision_payout&quot;: &quot;0.00000001&quot;,\n            &quot;payout_fee&quot;: &quot;0.000725840000&quot;,\n            &quot;payout_is_payment_id&quot;: false,\n            &quot;payin_payment_id&quot;: false,\n            &quot;payin_confirmations&quot;: 3\n        }]\n    },\n    &quot;ETH&quot;: {\n        &quot;full_name&quot;: &quot;Ethereum TST&quot;,\n        &quot;payin_enabled&quot;: true,\n        &quot;payout_enabled&quot;: true,\n        &quot;transfer_enabled&quot;: true,\n        &quot;precision_transfer&quot;: &quot;0.000000000001&quot;,\n        &quot;networks&quot;: [{\n            &quot;network&quot;: &quot;ETHTEST&quot;,\n            &quot;protocol&quot;: &quot;&quot;,\n            &quot;default&quot;: true,\n            &quot;payin_enabled&quot;: true,\n            &quot;payout_enabled&quot;: true,\n            &quot;precision_payout&quot;: &quot;0.000000000000000001&quot;,\n            &quot;payout_fee&quot;: &quot;0.003621047265&quot;,\n            &quot;payout_is_payment_id&quot;: false,\n            &quot;payin_payment_id&quot;: false,\n            &quot;payin_confirmaIions&quot;: 2\n        }]\n    }\n}\n</code></pre>\n<p>And I need to dynamically parse BTC and ETH and so on with GSON in the same object.\nThe structure I need in the java class would be the following:</p>\n<pre><code>private String symbol; //this would be BTC or ETH or MATIC\nprivate String full_name;\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","wordpress","woocommerce"],"comments":[{"owner":{"account_id":2137882,"reputation":2514,"user_id":1897200,"accept_rate":78,"display_name":"Gunaseelan"},"score":1,"creation_date":1406289381,"post_id":24953302,"comment_id":38785791,"body_markdown":"This [Link](http://develop.woothemes.com/woocommerce/2014/02/solving-common-issues-after-updating-to-woocommerce-2-1/) may be useful to you","body":"This <a href=\"http://develop.woothemes.com/woocommerce/2014/02/solving-common-issues-after-updating-to-woocommerce-2-1/\" rel=\"nofollow noreferrer\">Link</a> may be useful to you"}],"answers":[{"tags":[],"owner":{"account_id":4745241,"reputation":735,"user_id":3837056,"display_name":"sabarnix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1406290834,"creation_date":1406287308,"answer_id":24954634,"question_id":24953302,"body_markdown":"There is a php error in the page. You need to turn on the WP_DEBUG to see the error.","title":"Woo-commerce add to cart button missing. (yep, another one)","body":"<p>There is a php error in the page. You need to turn on the WP_DEBUG to see the error.</p>\n"},{"tags":[],"owner":{"account_id":162413,"reputation":25776,"user_id":383847,"accept_rate":78,"display_name":"helgatheviking"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406395670,"creation_date":1406395670,"answer_id":24973644,"question_id":24953302,"body_markdown":"Normally, if the problem goes away when you switch themes, especially if there&#39;s no JS error, then we can assume the problem is in your theme&#39;s WooCommerce templates. They are probably out of date. I fixed a lot of themes that &quot;broke&quot; when WooCommerce updated to 2.0/2.1. \r\n\r\nIn the admin, under WooCommerce go to System Settings and at the bottom of the page you should see any templates that are being overridden in the theme. I *think* it should also say which templates are out of date.\r\n\r\nIf you `view source` you will see the page is incompletely loaded. This means `wp_footer()` is never run and therefore all the scripts that belong in the footer are never loaded... including WooCommerce&#39;s add to cart scripts.\r\n\r\nTherefore, I second @sabanix&#39;s answer to turn on `WP_DEBUG`. The problem may or may not be in your theme&#39;s WooCommerce templates, or a more generic error in your theme. \r\n\r\nIf I had to guess, it is probably `single-product/add-to-cart/variable.php` template. I would suggest renaming it (or deleting it) so that WooCommerce will use its default template and see if that resolves it.\r\n","title":"Woo-commerce add to cart button missing. (yep, another one)","body":"<p>Normally, if the problem goes away when you switch themes, especially if there's no JS error, then we can assume the problem is in your theme's WooCommerce templates. They are probably out of date. I fixed a lot of themes that \"broke\" when WooCommerce updated to 2.0/2.1. </p>\n\n<p>In the admin, under WooCommerce go to System Settings and at the bottom of the page you should see any templates that are being overridden in the theme. I <em>think</em> it should also say which templates are out of date.</p>\n\n<p>If you <code>view source</code> you will see the page is incompletely loaded. This means <code>wp_footer()</code> is never run and therefore all the scripts that belong in the footer are never loaded... including WooCommerce's add to cart scripts.</p>\n\n<p>Therefore, I second @sabanix's answer to turn on <code>WP_DEBUG</code>. The problem may or may not be in your theme's WooCommerce templates, or a more generic error in your theme. </p>\n\n<p>If I had to guess, it is probably <code>single-product/add-to-cart/variable.php</code> template. I would suggest renaming it (or deleting it) so that WooCommerce will use its default template and see if that resolves it.</p>\n"}],"owner":{"account_id":3829035,"reputation":305,"user_id":3348831,"accept_rate":50,"display_name":"Project-404"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1097,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24954634,"answer_count":2,"score":0,"last_activity_date":1649096531,"creation_date":1406283086,"question_id":24953302,"body_markdown":"I have the problem that with merchandise where there multiple options (t-shirt sizes, etc) that the &#39;add to cart&#39; button is missing. It is  OK where there there is only one option - a cd for example. I have entered all the info, stock numbers, prices, etc. \r\n\r\nThe problem persists if I turn off all other plugins. I can&#39;t see an error in the Java console (I tried a plugin that is supposed to fix java errors anyway) and the add to cart button is visible if I switch to another theme. Be great of someone who has been down this path can get me started on finding a solution.\r\n\r\nThanks for you help!\r\n\r\n`http://5.133.182.68/~knifewor/product/knifeworld-gold-logo-t-shirt/`\r\n\r\nUpdate\r\n\r\nTurning debugging on I can see the following error:\r\n\r\n\r\n    Notice: wp_enqueue_script was called incorrectly. Scripts and styles should not be registered or enqueued until the wp_enqueue_scripts, admin_enqueue_scripts, or login_enqueue_scripts hooks. Please see Debugging in WordPress for more information. (This message was added in version 3.3.) in /home/knifewor/public_html/wp-includes/functions.php on line 3245\r\n    \r\n    Notice: wp_enqueue_style was called incorrectly. Scripts and styles should not be registered or enqueued until the wp_enqueue_scripts, admin_enqueue_scripts, or login_enqueue_scripts hooks. Please see Debugging in WordPress for more information. (This message was added in version 3.3.) in /home/knifewor/public_html/wp-includes/functions.php on line 3245\r\n    \r\n    Notice: Cookie cannot be set - headers already sent in /home/knifewor/public_html/wp-content/plugins/woocommerce/includes/wc-core-functions.php on line 375\r\n    \r\n    Notice: Cookie cannot be set - headers already sent in /home/knifewor/public_html/wp-content/plugins/woocommerce/includes/wc-core-functions.php on line 375\r\n    \r\n    Notice: Cookie cannot be set - headers already sent in /home/knifewor/public_html/wp-content/plugins/woocommerce/includes/wc-core-functions.php on line 375\r\n\r\n\r\nAnd I now notice on the shop page the footer fails to load.","title":"Woo-commerce add to cart button missing. (yep, another one)","body":"<p>I have the problem that with merchandise where there multiple options (t-shirt sizes, etc) that the 'add to cart' button is missing. It is  OK where there there is only one option - a cd for example. I have entered all the info, stock numbers, prices, etc. </p>\n\n<p>The problem persists if I turn off all other plugins. I can't see an error in the Java console (I tried a plugin that is supposed to fix java errors anyway) and the add to cart button is visible if I switch to another theme. Be great of someone who has been down this path can get me started on finding a solution.</p>\n\n<p>Thanks for you help!</p>\n\n<p><code>http://5.133.182.68/~knifewor/product/knifeworld-gold-logo-t-shirt/</code></p>\n\n<p>Update</p>\n\n<p>Turning debugging on I can see the following error:</p>\n\n<pre><code>Notice: wp_enqueue_script was called incorrectly. Scripts and styles should not be registered or enqueued until the wp_enqueue_scripts, admin_enqueue_scripts, or login_enqueue_scripts hooks. Please see Debugging in WordPress for more information. (This message was added in version 3.3.) in /home/knifewor/public_html/wp-includes/functions.php on line 3245\n\nNotice: wp_enqueue_style was called incorrectly. Scripts and styles should not be registered or enqueued until the wp_enqueue_scripts, admin_enqueue_scripts, or login_enqueue_scripts hooks. Please see Debugging in WordPress for more information. (This message was added in version 3.3.) in /home/knifewor/public_html/wp-includes/functions.php on line 3245\n\nNotice: Cookie cannot be set - headers already sent in /home/knifewor/public_html/wp-content/plugins/woocommerce/includes/wc-core-functions.php on line 375\n\nNotice: Cookie cannot be set - headers already sent in /home/knifewor/public_html/wp-content/plugins/woocommerce/includes/wc-core-functions.php on line 375\n\nNotice: Cookie cannot be set - headers already sent in /home/knifewor/public_html/wp-content/plugins/woocommerce/includes/wc-core-functions.php on line 375\n</code></pre>\n\n<p>And I now notice on the shop page the footer fails to load.</p>\n"},{"tags":["java","random","entropy","veracode"],"comments":[{"owner":{"account_id":3684821,"reputation":770,"user_id":3068803,"display_name":"surendrapanday"},"score":0,"creation_date":1540558003,"post_id":31256907,"comment_id":92921548,"body_markdown":"This may help you https://github.com/Netflix/eureka/issues/932","body":"This may help you <a href=\"https://github.com/Netflix/eureka/issues/932\" rel=\"nofollow noreferrer\">github.com/Netflix/eureka/issues/932</a>"}],"answers":[{"tags":[],"owner":{"account_id":24424646,"reputation":11,"user_id":18350390,"display_name":"user18350390"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649096139,"creation_date":1649096139,"answer_id":71741945,"question_id":31256907,"body_markdown":"\r\nSecureRandom is good enough to make a cryptographically secured pseudo random number generator. it doesnt require to setSeed in veracode.\r\n\r\nthe veracode raise this flag as it doesnt support apache RandomStringUtils.\r\n\r\nverify this link for more info. and for your case you can mark this false positive.\r\nhttps://www.veracode.com/blog/research/cryptographically-secure-pseudo-random-number-generator-csprng\r\n\r\n\r\n\r\n","title":"Insufficient Entropy from Veracode when generating random words using java.security.SecureRandom","body":"<p>SecureRandom is good enough to make a cryptographically secured pseudo random number generator. it doesnt require to setSeed in veracode.</p>\n<p>the veracode raise this flag as it doesnt support apache RandomStringUtils.</p>\n<p>verify this link for more info. and for your case you can mark this false positive.\n<a href=\"https://www.veracode.com/blog/research/cryptographically-secure-pseudo-random-number-generator-csprng\" rel=\"nofollow noreferrer\">https://www.veracode.com/blog/research/cryptographically-secure-pseudo-random-number-generator-csprng</a></p>\n"}],"owner":{"account_id":6583695,"reputation":161,"user_id":5087167,"display_name":"D.PETIT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5783,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1649096139,"creation_date":1436222478,"question_id":31256907,"body_markdown":"I have created a class that generates random words (Alphanumerical) using org.apache.commons.lang.RandomStringUtils.\r\n\r\n        public String randomWord(int wordLength) {\r\n            return RandomStringUtils.random(wordLength, 0, 0, true, true, null, new SecureRandom());\r\n        }\r\n\r\nThis code is working perfect, however when I submit it to [Veracode][1], I get an medium error &quot;Insufficient Entropy (CWE ID 331)&quot;\r\n\r\nI thought that using SecureRandom would have be enough to fix this error but it is not and I have no idea why.  \r\n\r\nWhy using SecureRandom is not good enough or secure enough?  \r\nIs there a way of using org.apache.commons.lang.RandomStringUtils without making Veracode unhappy? Is there any other secure library that could be used to generate secure random alphanumerical words?\r\n\r\n  [1]: https://analysiscenter.veracode.com","title":"Insufficient Entropy from Veracode when generating random words using java.security.SecureRandom","body":"<p>I have created a class that generates random words (Alphanumerical) using org.apache.commons.lang.RandomStringUtils.</p>\n\n<pre><code>    public String randomWord(int wordLength) {\n        return RandomStringUtils.random(wordLength, 0, 0, true, true, null, new SecureRandom());\n    }\n</code></pre>\n\n<p>This code is working perfect, however when I submit it to <a href=\"https://analysiscenter.veracode.com\" rel=\"noreferrer\">Veracode</a>, I get an medium error \"Insufficient Entropy (CWE ID 331)\"</p>\n\n<p>I thought that using SecureRandom would have be enough to fix this error but it is not and I have no idea why.  </p>\n\n<p>Why using SecureRandom is not good enough or secure enough?<br>\nIs there a way of using org.apache.commons.lang.RandomStringUtils without making Veracode unhappy? Is there any other secure library that could be used to generate secure random alphanumerical words?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1649066355,"post_id":71735253,"comment_id":126773462,"body_markdown":"How about making the method generic? `public &lt;T&gt; void exportList(HashMap&lt;String, T&gt; facultyList, String nameOfFile)`. Of course it depends on how you use the value type. Otherwise I suppose `public void exportList(HashMap&lt;String, ? extends Object&gt; facultyList, String nameOfFile)`","body":"How about making the method generic? <code>public &lt;T&gt; void exportList(HashMap&lt;String, T&gt; facultyList, String nameOfFile)</code>. Of course it depends on how you use the value type. Otherwise I suppose <code>public void exportList(HashMap&lt;String, ? extends Object&gt; facultyList, String nameOfFile)</code>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":7,"creation_date":1649066360,"post_id":71735253,"comment_id":126773464,"body_markdown":"&quot;I don&#39;t know if it could be done like that&quot; Well this depends on what you do inside `exportList`. Can you show what you are going to do with the `HashMap` parameter?","body":"&quot;I don&#39;t know if it could be done like that&quot; Well this depends on what you do inside <code>exportList</code>. Can you show what you are going to do with the <code>HashMap</code> parameter?"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1649066371,"post_id":71735253,"comment_id":126773470,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/generics/index.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/index.html</a>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1649066388,"post_id":71735253,"comment_id":126773482,"body_markdown":"It&#39;s confusing to have a map parameter named `list`. It provides misleading information.","body":"It&#39;s confusing to have a map parameter named <code>list</code>. It provides misleading information."},{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":1,"creation_date":1649066444,"post_id":71735253,"comment_id":126773501,"body_markdown":"If all classes share an interface you could use that as value-type.","body":"If all classes share an interface you could use that as value-type."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1649066557,"post_id":71735253,"comment_id":126773540,"body_markdown":"If you *really* don&#39;t want to just use different method names, you could just check the class of the first map value in order to know what to do.","body":"If you <i>really</i> don&#39;t want to just use different method names, you could just check the class of the first map value in order to know what to do."},{"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"score":0,"creation_date":1649066590,"post_id":71735253,"comment_id":126773549,"body_markdown":"@Sweeper I don&#39;t have that code written yet, but the method purpose is to export data from HashMap to .csv file.","body":"@Sweeper I don&#39;t have that code written yet, but the method purpose is to export data from HashMap to .csv file."},{"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"score":0,"creation_date":1649066925,"post_id":71735253,"comment_id":126773672,"body_markdown":"@ArnaudDenoyelle How do I check what class is first map value?","body":"@ArnaudDenoyelle How do I check what class is first map value?"},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1649067329,"post_id":71735253,"comment_id":126773817,"body_markdown":"If you are the owner of the value classes like Admin, Group, then you can have a common interface something like `Exportable`, which provides the values of its instance variables as a list or csv string. Then, your exporting function can be very generic enough, that you need to get the values and write to a csv file.","body":"If you are the owner of the value classes like Admin, Group, then you can have a common interface something like <code>Exportable</code>, which provides the values of its instance variables as a list or csv string. Then, your exporting function can be very generic enough, that you need to get the values and write to a csv file."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1649067547,"post_id":71735253,"comment_id":126773904,"body_markdown":"@marek just take the first that comes : `list.iterator().next()` which should give you an `Entry` with a key and a value then `getClass()` on the value. But for the readability of the project, you should really create different method names. Maybe create 7 method names `exportStudents`, `exportTeachers` etc then create one method `exportList` that checks the type of the first value that comes and redirects to the right method.","body":"@marek just take the first that comes : <code>list.iterator().next()</code> which should give you an <code>Entry</code> with a key and a value then <code>getClass()</code> on the value. But for the readability of the project, you should really create different method names. Maybe create 7 method names <code>exportStudents</code>, <code>exportTeachers</code> etc then create one method <code>exportList</code> that checks the type of the first value that comes and redirects to the right method."},{"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"score":0,"creation_date":1649071306,"post_id":71735253,"comment_id":126775249,"body_markdown":"@ArnaudDenoyelle Thanks, that sounds good. I&#39;ll do it like you said","body":"@ArnaudDenoyelle Thanks, that sounds good. I&#39;ll do it like you said"},{"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"score":0,"creation_date":1649071711,"post_id":71735253,"comment_id":126775386,"body_markdown":"@ArnaudDenoyelle  I tried it like this. The case gives me error.&#39; public void exportList(HashMap&lt;String, Object&gt; list, String nameOfFile) {\n        HashMap&lt;String, Subject&gt; subjects = new HashMap&lt;&gt;();\n        Iterator it = list.entrySet().iterator();\n        Map.Entry pair = (Map.Entry)it.next();\n        switch(pair.getValue().getClass()) {\n            case Faculty:\n\n                break;\n        }&#39; Could you help fixing it?","body":"@ArnaudDenoyelle  I tried it like this. The case gives me error.&#39; public void exportList(HashMap&lt;String, Object&gt; list, String nameOfFile) {         HashMap&lt;String, Subject&gt; subjects = new HashMap&lt;&gt;();         Iterator it = list.entrySet().iterator();         Map.Entry pair = (Map.Entry)it.next();         switch(pair.getValue().getClass()) {             case Faculty:                  break;         }&#39; Could you help fixing it?"},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1649078976,"post_id":71735253,"comment_id":126778272,"body_markdown":"@marek `case Faculty.class` maybe ? (sorry, I have not coded in Java since 3 years). Could you show the error message ?","body":"@marek <code>case Faculty.class</code> maybe ? (sorry, I have not coded in Java since 3 years). Could you show the error message ?"},{"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"score":0,"creation_date":1649081972,"post_id":71735253,"comment_id":126779521,"body_markdown":"@ArnaudDenoyelle Yes, that works. `public void exportList(HashMap&lt;String, Object&gt; list, String nameOfFile) {   if (Faculty.class.equals(pair.getValue().getClass())) {\n            exportFaculties((HashMap&lt;String, Faculty&gt;)list);\n        }}` . Right now the problem is that **exportFaculties** needs HashMap&lt;String, Faculty&gt; as argument. Export list has HashMap&lt;String ,Object&gt;.  I get error that **Object** can&#39;t be cast to **Faculty**","body":"@ArnaudDenoyelle Yes, that works. <code>public void exportList(HashMap&lt;String, Object&gt; list, String nameOfFile) {   if (Faculty.class.equals(pair.getValue().getClass())) {             exportFaculties((HashMap&lt;String, Faculty&gt;)list);         }}</code> . Right now the problem is that <b>exportFaculties</b> needs HashMap&lt;String, Faculty&gt; as argument. Export list has HashMap&lt;String ,Object&gt;.  I get error that <b>Object</b> can&#39;t be cast to <b>Faculty</b>"}],"answers":[{"tags":[],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649084695,"creation_date":1649084695,"answer_id":71739533,"question_id":71735253,"body_markdown":"It is not possible to make it work with overloading because of type erasure. Also, it would be bad for code readbility.\r\n\r\nYou can instead create methods with different names for each export : \r\n```java\r\npublic void exportFaculty(HashMap&lt;String, Faculty&gt; facultyList, String nameOfFile) {}\r\npublic void exportFieldOfStudy(HashMap&lt;String, FieldOfStudy&gt; list, String nameOfFile) {}\r\npublic void exportGroup(HashMap&lt;String, Group&gt; list, String nameOfFile) {}\r\n```\r\n\r\nBut, also because of type erasure, you cannot check the type of the map value. But instead of that, you can still take the first element of the map then dynamically get its class: \r\n\r\n```java\r\nClass&lt;?&gt; classOfFirstElt = map.values().iterator().next().getClass();\r\n```\r\n\r\nThen, you can use some if/else statements in order to call the right methods (I tried with switch case but it seems that it is not possible)\r\n\r\n```java\r\nif(classOfFirstElt.equals(Faculty.class)) {\r\n  exportFaculty((HashMap&lt;String, Faculty&gt;)map, nameOfFile);\r\n} else if (classOfFirstElt.equals(FieldOfStudy.class)) {\r\n  exportFielfOfStudy((HashMap&lt;String, FieldOfStudy&gt;)map, nameOfFile);\r\n} else if(classOfFirstElt.equals(Group.class)) {\r\n  exportGroup((HashMap&lt;String, FieldOfGroup&gt;)map, nameOfFile);\r\n}\r\n```\r\n\r\nAs a bonus, if you don&#39;t want to deal with &quot;unchecked cast&quot; warnings, you can create a helper method for that :\r\n\r\n```java\r\nprivate &lt;T&gt; HashMap&lt;String, T&gt; castMap(HashMap&lt;String, ?&gt; map) {\r\n  return (HashMap&lt;String, T&gt;)map;\r\n}\r\n```\r\n\r\nThis way, there will be only one warning in this method and the code becomes cleaner :\r\n\r\n```java\r\npublic void exportList(HashMap&lt;String, ?&gt; map, String nameOfFile) {\r\n  Class&lt;?&gt; classOfFirstElt = map.values().iterator().next().getClass();\r\n  if(classOfFirstElt.equals(Faculty.class)) {\r\n    exportFaculty(castMap(map), nameOfFile);\r\n  } else if (classOfFirstElt.equals(FieldOfStudy.class)) {\r\n    exportFieldOfStudy(castMap(map), nameOfFile);\r\n  } else if(classOfFirstElt.equals(Group.class)) {\r\n    exportGroup(castMap(map), nameOfFile);\r\n  }\r\n}\r\n```\r\n","title":"Is there some substitute for overloading?","body":"<p>It is not possible to make it work with overloading because of type erasure. Also, it would be bad for code readbility.</p>\n<p>You can instead create methods with different names for each export :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void exportFaculty(HashMap&lt;String, Faculty&gt; facultyList, String nameOfFile) {}\npublic void exportFieldOfStudy(HashMap&lt;String, FieldOfStudy&gt; list, String nameOfFile) {}\npublic void exportGroup(HashMap&lt;String, Group&gt; list, String nameOfFile) {}\n</code></pre>\n<p>But, also because of type erasure, you cannot check the type of the map value. But instead of that, you can still take the first element of the map then dynamically get its class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt; classOfFirstElt = map.values().iterator().next().getClass();\n</code></pre>\n<p>Then, you can use some if/else statements in order to call the right methods (I tried with switch case but it seems that it is not possible)</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(classOfFirstElt.equals(Faculty.class)) {\n  exportFaculty((HashMap&lt;String, Faculty&gt;)map, nameOfFile);\n} else if (classOfFirstElt.equals(FieldOfStudy.class)) {\n  exportFielfOfStudy((HashMap&lt;String, FieldOfStudy&gt;)map, nameOfFile);\n} else if(classOfFirstElt.equals(Group.class)) {\n  exportGroup((HashMap&lt;String, FieldOfGroup&gt;)map, nameOfFile);\n}\n</code></pre>\n<p>As a bonus, if you don't want to deal with &quot;unchecked cast&quot; warnings, you can create a helper method for that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T&gt; HashMap&lt;String, T&gt; castMap(HashMap&lt;String, ?&gt; map) {\n  return (HashMap&lt;String, T&gt;)map;\n}\n</code></pre>\n<p>This way, there will be only one warning in this method and the code becomes cleaner :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void exportList(HashMap&lt;String, ?&gt; map, String nameOfFile) {\n  Class&lt;?&gt; classOfFirstElt = map.values().iterator().next().getClass();\n  if(classOfFirstElt.equals(Faculty.class)) {\n    exportFaculty(castMap(map), nameOfFile);\n  } else if (classOfFirstElt.equals(FieldOfStudy.class)) {\n    exportFieldOfStudy(castMap(map), nameOfFile);\n  } else if(classOfFirstElt.equals(Group.class)) {\n    exportGroup(castMap(map), nameOfFile);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14695242,"reputation":552,"user_id":10612806,"display_name":"Evgeni Enchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649087823,"creation_date":1649086234,"answer_id":71739871,"question_id":71735253,"body_markdown":"May be this helps:\r\n\r\n    public &lt;T&gt; void exportList(HashMap&lt;String, T&gt; list, String file) {\r\n\t\t\r\n\t\t// to avoid NullPointer\r\n\t\tif (list != null &amp;&amp; !list.isEmpty()) {\r\n\t\t\tMap.Entry&lt;String, T&gt; pair = (Map.Entry&lt;String, T&gt;) list.entrySet().iterator().next();\r\n\t\t\t\r\n\t\t\tif (Faculty.class.equals(pair.getValue().getClass())) {\r\n\t\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\t\tHashMap&lt;String, Faculty&gt; facultyList = (HashMap&lt;String, Faculty&gt;) list;\r\n\t\t\t\texportFaculty(facultyList, file);\r\n\t\t\t}\r\n\t\t\telse if (...) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\nBut must say I don&#39;t like the `Faculty.class.equals(pair.getValue().getClass())` approach. Should look for something more elegant.\r\n\r\n**Edited**\r\n\r\nLike this much more:\r\n\r\n    \r\n\t\tif (map != null &amp;&amp; !map.isEmpty()) {\r\n\t\t\t\r\n\t\t\tT t = map.values().iterator().next();\r\n\t\t\tif (t instanceof Faculty) {\r\n\t\t\t\texportFaculty((HashMap&lt;String, Faculty&gt;) map, file);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n","title":"Is there some substitute for overloading?","body":"<p>May be this helps:</p>\n<pre><code>public &lt;T&gt; void exportList(HashMap&lt;String, T&gt; list, String file) {\n    \n    // to avoid NullPointer\n    if (list != null &amp;&amp; !list.isEmpty()) {\n        Map.Entry&lt;String, T&gt; pair = (Map.Entry&lt;String, T&gt;) list.entrySet().iterator().next();\n        \n        if (Faculty.class.equals(pair.getValue().getClass())) {\n            @SuppressWarnings(&quot;unchecked&quot;)\n            HashMap&lt;String, Faculty&gt; facultyList = (HashMap&lt;String, Faculty&gt;) list;\n            exportFaculty(facultyList, file);\n        }\n        else if (...) {\n            \n        }\n    }\n    \n}\n</code></pre>\n<p>But must say I don't like the <code>Faculty.class.equals(pair.getValue().getClass())</code> approach. Should look for something more elegant.</p>\n<p><strong>Edited</strong></p>\n<p>Like this much more:</p>\n<pre><code>    if (map != null &amp;&amp; !map.isEmpty()) {\n        \n        T t = map.values().iterator().next();\n        if (t instanceof Faculty) {\n            exportFaculty((HashMap&lt;String, Faculty&gt;) map, file);\n        }\n        \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649096124,"creation_date":1649096124,"answer_id":71741940,"question_id":71735253,"body_markdown":"As you already pointed out, it is not possible to have all the different functions as overloads in one class. What you can do is that you can write an interface and have all the different functions be an implementation of that interface:\r\n```\r\npublic interface Exporter&lt;T&gt; {\r\n    void exportList(Map&lt;String, T&gt; facultyList, String nameOfFile);\r\n\r\n    Class&lt;T&gt; exportType();\r\n}\r\n```\r\nThe method `exportType` is not necessary, but it can help when using the interface. An implementation looks like this:\r\n```\r\n@Component\r\nclass FacultyExporter implements Exporter&lt;Faculty&gt; {\r\n\r\n    @Override\r\n    public void exportList(Map&lt;String, Faculty&gt; facultyList, String nameOfFile) {\r\n        // implementation for values of type Faculty\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;Faculty&gt; exportType() {\r\n        return Faculty.class;\r\n    }\r\n}\r\n```\r\nAs you may have noticed I added a `@Component` annotation to the implementation of the `Exporter` interface. You could omit that if you are not using Spring, but if you do use Spring, you can just autowire all your different exporters in the `ExportToFile` class to use them there. Otherwise it would be necessary to populate the `exporters` list in the following class manually.\r\n```\r\n@Component\r\nclass ExportToFile {\r\n\r\n    @Autowired\r\n    private List&lt;Exporter&lt;?&gt;&gt; exporters;\r\n\r\n    public &lt;T&gt; void exportList(Map&lt;String, T&gt; list, String nameOfFile) {\r\n        if (list.isEmpty()) {\r\n            exporters.get(0).exportList(Collections.emptyMap(), nameOfFile);\r\n            return;\r\n        }\r\n        Class&lt;?&gt; type = list.values().iterator().next().getClass();\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Optional&lt;Exporter&lt;T&gt;&gt; exporter = exporters\r\n                .stream()\r\n                .filter(e -&gt; e.exportType().equals(type))\r\n                .findAny()\r\n                .map(e -&gt; (Exporter&lt;T&gt;) e);\r\n        exporter.ifPresentOrElse(\r\n                e -&gt; e.exportList(list, nameOfFile), () -&gt; {\r\n                    throw new IllegalArgumentException(&quot;type not supported&quot;);\r\n                }\r\n        );\r\n    }\r\n}\r\n```\r\nNow, this implementation of `exportList` checks for the type of the values in the given map. I assumed here that for an empty list, we could just use an arbitrary exporter, and thus, we are just using the first exporter there is.\r\n\r\nIf there is at least one an element in the map, we take the class of the first element, look for the right exporter with that type, and apply the exporter to the map.\r\n\r\nWe could get rid of the `@SuppressWarnings(&quot;unchecked&quot;)` by defining the type class as an additional parameter of `exportList`, but without that parameter, it is a bit more convenient. And in fact we can be sure that the cast succeeds, because we checked against the `exportType` of the `Exporter`.\r\n\r\nIn this implementation of `exportList`, I decided to throw an exception if there is no suitable `Exporter`.\r\n\r\nIf you want to add another supported type, you just write a new `Exporter` implementation, and have to do nothing more.","title":"Is there some substitute for overloading?","body":"<p>As you already pointed out, it is not possible to have all the different functions as overloads in one class. What you can do is that you can write an interface and have all the different functions be an implementation of that interface:</p>\n<pre><code>public interface Exporter&lt;T&gt; {\n    void exportList(Map&lt;String, T&gt; facultyList, String nameOfFile);\n\n    Class&lt;T&gt; exportType();\n}\n</code></pre>\n<p>The method <code>exportType</code> is not necessary, but it can help when using the interface. An implementation looks like this:</p>\n<pre><code>@Component\nclass FacultyExporter implements Exporter&lt;Faculty&gt; {\n\n    @Override\n    public void exportList(Map&lt;String, Faculty&gt; facultyList, String nameOfFile) {\n        // implementation for values of type Faculty\n    }\n\n    @Override\n    public Class&lt;Faculty&gt; exportType() {\n        return Faculty.class;\n    }\n}\n</code></pre>\n<p>As you may have noticed I added a <code>@Component</code> annotation to the implementation of the <code>Exporter</code> interface. You could omit that if you are not using Spring, but if you do use Spring, you can just autowire all your different exporters in the <code>ExportToFile</code> class to use them there. Otherwise it would be necessary to populate the <code>exporters</code> list in the following class manually.</p>\n<pre><code>@Component\nclass ExportToFile {\n\n    @Autowired\n    private List&lt;Exporter&lt;?&gt;&gt; exporters;\n\n    public &lt;T&gt; void exportList(Map&lt;String, T&gt; list, String nameOfFile) {\n        if (list.isEmpty()) {\n            exporters.get(0).exportList(Collections.emptyMap(), nameOfFile);\n            return;\n        }\n        Class&lt;?&gt; type = list.values().iterator().next().getClass();\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Optional&lt;Exporter&lt;T&gt;&gt; exporter = exporters\n                .stream()\n                .filter(e -&gt; e.exportType().equals(type))\n                .findAny()\n                .map(e -&gt; (Exporter&lt;T&gt;) e);\n        exporter.ifPresentOrElse(\n                e -&gt; e.exportList(list, nameOfFile), () -&gt; {\n                    throw new IllegalArgumentException(&quot;type not supported&quot;);\n                }\n        );\n    }\n}\n</code></pre>\n<p>Now, this implementation of <code>exportList</code> checks for the type of the values in the given map. I assumed here that for an empty list, we could just use an arbitrary exporter, and thus, we are just using the first exporter there is.</p>\n<p>If there is at least one an element in the map, we take the class of the first element, look for the right exporter with that type, and apply the exporter to the map.</p>\n<p>We could get rid of the <code>@SuppressWarnings(&quot;unchecked&quot;)</code> by defining the type class as an additional parameter of <code>exportList</code>, but without that parameter, it is a bit more convenient. And in fact we can be sure that the cast succeeds, because we checked against the <code>exportType</code> of the <code>Exporter</code>.</p>\n<p>In this implementation of <code>exportList</code>, I decided to throw an exception if there is no suitable <code>Exporter</code>.</p>\n<p>If you want to add another supported type, you just write a new <code>Exporter</code> implementation, and have to do nothing more.</p>\n"}],"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71739533,"answer_count":3,"score":0,"last_activity_date":1649096124,"creation_date":1649066172,"question_id":71735253,"body_markdown":"I&#39;m working on this project and I was creating class **ExportToFile**.This class needs to handle export of multiple HashMaps. Each hashmap has object of different class as **value**. Firstly I thought to use overloaded methods to do this. Here&#39;s code how I was thinking to do it.\r\n\r\n    public void exportList(HashMap&lt;String, Faculty&gt; facultyList, String nameOfFile) {\r\n    \r\n        }\r\n    \r\n        public void exportList(HashMap&lt;String, FieldOfStudy&gt; list, String nameOfFile) {\r\n    \r\n        }\r\n    \r\n        public void exportList(HashMap&lt;String, Group&gt; list, String nameOfFile) {\r\n    \r\n        }\r\n    \r\n        public void exportList(HashMap&lt;String, Subject&gt; list, String nameOfFile) {\r\n    \r\n        }\r\n    \r\n        public void exportList(HashMap&lt;String, Student&gt; list, String nameOfFile) {\r\n    \r\n        }\r\n    \r\n        public void exportList(HashMap&lt;String, Teacher&gt; list, String nameOfFile) {\r\n    \r\n        }\r\n    \r\n        public void exportList(HashMap&lt;String, Admin&gt; list, String nameOfFile) {\r\n    \r\n        }\r\n\r\nOfcourse after writing that I realized it can&#39;t be done like that because the methods have arguments of the same type. One thought came to my mind to try it like this: I thought to have one method with value **Object** and in the body of method I would determine what class does the object belongs to. \r\n\r\n    public void exportList(HashMap&lt;String, Object&gt; facultyList, String nameOfFile) {\r\n            \r\n    \r\n        }\r\n\r\nI don&#39;t know if it could be done like that and if yes, I don&#39;t know how. Any ideas how to solve this problem of mine?\r\n\r\n","title":"Is there some substitute for overloading?","body":"<p>I'm working on this project and I was creating class <strong>ExportToFile</strong>.This class needs to handle export of multiple HashMaps. Each hashmap has object of different class as <strong>value</strong>. Firstly I thought to use overloaded methods to do this. Here's code how I was thinking to do it.</p>\n<pre><code>public void exportList(HashMap&lt;String, Faculty&gt; facultyList, String nameOfFile) {\n\n    }\n\n    public void exportList(HashMap&lt;String, FieldOfStudy&gt; list, String nameOfFile) {\n\n    }\n\n    public void exportList(HashMap&lt;String, Group&gt; list, String nameOfFile) {\n\n    }\n\n    public void exportList(HashMap&lt;String, Subject&gt; list, String nameOfFile) {\n\n    }\n\n    public void exportList(HashMap&lt;String, Student&gt; list, String nameOfFile) {\n\n    }\n\n    public void exportList(HashMap&lt;String, Teacher&gt; list, String nameOfFile) {\n\n    }\n\n    public void exportList(HashMap&lt;String, Admin&gt; list, String nameOfFile) {\n\n    }\n</code></pre>\n<p>Ofcourse after writing that I realized it can't be done like that because the methods have arguments of the same type. One thought came to my mind to try it like this: I thought to have one method with value <strong>Object</strong> and in the body of method I would determine what class does the object belongs to.</p>\n<pre><code>public void exportList(HashMap&lt;String, Object&gt; facultyList, String nameOfFile) {\n        \n\n    }\n</code></pre>\n<p>I don't know if it could be done like that and if yes, I don't know how. Any ideas how to solve this problem of mine?</p>\n"},{"tags":["java","android","android-studio","kotlin","webview"],"answers":[{"tags":[],"owner":{"account_id":21240448,"reputation":11,"user_id":15624002,"display_name":"lolboer9999999"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649096088,"creation_date":1649096088,"answer_id":71741936,"question_id":71532434,"body_markdown":"i had the same issue this is the solution i found\r\n```\r\nclass KaboekieWebsite : AppCompatActivity() {\r\n\r\n    lateinit var myWebView: WebView\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_kaboekie_website)\r\n\r\n        myWebView = findViewById(R.id.KaboekieWebsiteView)\r\n        myWebView.webViewClient = WebViewClient()\r\n        myWebView.settings.setSupportZoom(true)\r\n        myWebView.settings.loadsImagesAutomatically\r\n        myWebView.settings.javaScriptEnabled = true\r\n        myWebView.setWebViewClient(Callback())\r\n        myWebView.loadUrl(&quot;https://www.Kaboekie.be/&quot;)\r\n        myWebView.webViewClient = object : WebViewClient() {\r\n            override fun shouldOverrideUrlLoading(webView: WebView, url: String): Boolean {\r\n                if (url.startsWith(&quot;intent://&quot;)) {\r\n                    val intent = Intent.parseUri(url, Intent.URI_INTENT_SCHEME)\r\n                    if (intent != null) {\r\n                        val fallbackUrl = intent.getStringExtra(&quot;browser_fallback_url&quot;)\r\n                        return if (fallbackUrl != null) {\r\n                            webView.loadUrl(fallbackUrl)\r\n                            true\r\n                        } else {\r\n                            false\r\n                        }\r\n                    }\r\n                }\r\n                else if (url.startsWith(&quot;tel:&quot;)){\r\n                    val intent = Intent(Intent.ACTION_DIAL)\r\n                    intent.data = Uri.parse(url)\r\n                    startActivity(intent)\r\n                    return true\r\n                }\r\n                else if (url.startsWith(&quot;mailto:&quot;)) {\r\n                    val intent = Intent(Intent.ACTION_VIEW)\r\n                    val data = Uri.parse(\r\n                        url + Uri.encode(&quot;subject&quot;) + &quot;&amp;body=&quot; + Uri.encode(\r\n                            &quot;body&quot;\r\n                        )\r\n                    )\r\n                    intent.data = data\r\n                    startActivity(intent)\r\n                    return true\r\n                }\r\n                return false\r\n            }\r\n        }\r\n    }\r\n    override fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean {\r\n        // Check if the key event was the Back button and if there&#39;s history\r\n        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; myWebView.canGoBack()) {\r\n            myWebView.goBack()\r\n            return true\r\n        }\r\n        // If it wasn&#39;t the Back key or there&#39;s no web page history, bubble up to the default\r\n        // system behavior (probably exit the activity)\r\n        return super.onKeyDown(keyCode, event)\r\n    }\r\n    private class Callback : WebViewClient() {\r\n        override fun shouldOverrideKeyEvent(view: WebView?, event: KeyEvent?): Boolean {\r\n            return false\r\n        }\r\n    }\r\n}\r\n```","title":"net: ERR_UNKNOWN_URL_SCHEME in Android Webview codes not working in Kotlin","body":"<p>i had the same issue this is the solution i found</p>\n<pre><code>class KaboekieWebsite : AppCompatActivity() {\n\n    lateinit var myWebView: WebView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_kaboekie_website)\n\n        myWebView = findViewById(R.id.KaboekieWebsiteView)\n        myWebView.webViewClient = WebViewClient()\n        myWebView.settings.setSupportZoom(true)\n        myWebView.settings.loadsImagesAutomatically\n        myWebView.settings.javaScriptEnabled = true\n        myWebView.setWebViewClient(Callback())\n        myWebView.loadUrl(&quot;https://www.Kaboekie.be/&quot;)\n        myWebView.webViewClient = object : WebViewClient() {\n            override fun shouldOverrideUrlLoading(webView: WebView, url: String): Boolean {\n                if (url.startsWith(&quot;intent://&quot;)) {\n                    val intent = Intent.parseUri(url, Intent.URI_INTENT_SCHEME)\n                    if (intent != null) {\n                        val fallbackUrl = intent.getStringExtra(&quot;browser_fallback_url&quot;)\n                        return if (fallbackUrl != null) {\n                            webView.loadUrl(fallbackUrl)\n                            true\n                        } else {\n                            false\n                        }\n                    }\n                }\n                else if (url.startsWith(&quot;tel:&quot;)){\n                    val intent = Intent(Intent.ACTION_DIAL)\n                    intent.data = Uri.parse(url)\n                    startActivity(intent)\n                    return true\n                }\n                else if (url.startsWith(&quot;mailto:&quot;)) {\n                    val intent = Intent(Intent.ACTION_VIEW)\n                    val data = Uri.parse(\n                        url + Uri.encode(&quot;subject&quot;) + &quot;&amp;body=&quot; + Uri.encode(\n                            &quot;body&quot;\n                        )\n                    )\n                    intent.data = data\n                    startActivity(intent)\n                    return true\n                }\n                return false\n            }\n        }\n    }\n    override fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean {\n        // Check if the key event was the Back button and if there's history\n        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; myWebView.canGoBack()) {\n            myWebView.goBack()\n            return true\n        }\n        // If it wasn't the Back key or there's no web page history, bubble up to the default\n        // system behavior (probably exit the activity)\n        return super.onKeyDown(keyCode, event)\n    }\n    private class Callback : WebViewClient() {\n        override fun shouldOverrideKeyEvent(view: WebView?, event: KeyEvent?): Boolean {\n            return false\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10278665,"reputation":473,"user_id":7584658,"display_name":"Supercool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1968,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649096088,"creation_date":1647632646,"question_id":71532434,"body_markdown":"I tried the codes from the forum all of which is in Java. It was converted to Kotlin by IDE but it&#39;s not working. I&#39;ve just started learning Android. Please help me with this. I&#39;ve attached the converted code below. Also, I added this - \r\n\r\n      val webUrl = webView.url\r\n        if (webUrl != null) {\r\n            shouldOverrideUrlLoading(webView,webUrl)\r\n        }\r\ninside OnCreate. Not sure if that&#39;s correct or not.\r\nBelow is the code---\r\n\r\n    private fun shouldOverrideUrlLoading(view: WebView, url: String) {\r\n        view.loadUrl(url)\r\n        if (url.startsWith(&quot;whatsapp://&quot;)) {\r\n            view.stopLoading()\r\n            try {\r\n                val whatsappIntent = Intent(Intent.ACTION_SEND)\r\n                whatsappIntent.type = &quot;text/plain&quot;\r\n                whatsappIntent.setPackage(&quot;com.whatsapp&quot;)\r\n                whatsappIntent.putExtra(\r\n                    Intent.EXTRA_TEXT,\r\n                    view.url.toString() + &quot;  - Shared from webview &quot;\r\n                )\r\n                startActivity(whatsappIntent)\r\n            } catch (ex: ActivityNotFoundException) {\r\n                val makeShortText = &quot;Whatsapp has not been installed&quot;\r\n                Toast.makeText(this, makeShortText, Toast.LENGTH_SHORT).show()\r\n            }\r\n        }\r\n    }\r\n\r\nExpecting your quick support. Thanks.","title":"net: ERR_UNKNOWN_URL_SCHEME in Android Webview codes not working in Kotlin","body":"<p>I tried the codes from the forum all of which is in Java. It was converted to Kotlin by IDE but it's not working. I've just started learning Android. Please help me with this. I've attached the converted code below. Also, I added this -</p>\n<pre><code>  val webUrl = webView.url\n    if (webUrl != null) {\n        shouldOverrideUrlLoading(webView,webUrl)\n    }\n</code></pre>\n<p>inside OnCreate. Not sure if that's correct or not.\nBelow is the code---</p>\n<pre><code>private fun shouldOverrideUrlLoading(view: WebView, url: String) {\n    view.loadUrl(url)\n    if (url.startsWith(&quot;whatsapp://&quot;)) {\n        view.stopLoading()\n        try {\n            val whatsappIntent = Intent(Intent.ACTION_SEND)\n            whatsappIntent.type = &quot;text/plain&quot;\n            whatsappIntent.setPackage(&quot;com.whatsapp&quot;)\n            whatsappIntent.putExtra(\n                Intent.EXTRA_TEXT,\n                view.url.toString() + &quot;  - Shared from webview &quot;\n            )\n            startActivity(whatsappIntent)\n        } catch (ex: ActivityNotFoundException) {\n            val makeShortText = &quot;Whatsapp has not been installed&quot;\n            Toast.makeText(this, makeShortText, Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n</code></pre>\n<p>Expecting your quick support. Thanks.</p>\n"},{"tags":["java","c++","jvm"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649096074,"creation_date":1649096074,"answer_id":71741933,"question_id":71740385,"body_markdown":"This reads the `clazz` field of a [`java.lang.reflect.Method`](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/reflect/Method.java#L71) object.\r\n\r\n`java.lang.reflect.Method` is a regular Java class (with some support from native helpers). Why do you expect it not to be stored on the heap?\r\n\r\n----\r\n\r\nNote that [`java.lang.reflect.Method`](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/reflect/Method.java#L69) is not the same as a hotspot-internal C++ [`class Method`](https://github.com/openjdk/jdk17u/blob/master/src/hotspot/share/oops/method.hpp#L69).\r\n\r\nThe [`class Method`](https://github.com/openjdk/jdk17u/blob/master/src/hotspot/share/oops/method.hpp#L69) is an implementation detail of the hotspot JVM engine and instances of this internal C++ class are never stored on the heap.","title":"why the jdk native refactor get class from heap","body":"<p>This reads the <code>clazz</code> field of a <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/reflect/Method.java#L71\" rel=\"nofollow noreferrer\"><code>java.lang.reflect.Method</code></a> object.</p>\n<p><code>java.lang.reflect.Method</code> is a regular Java class (with some support from native helpers). Why do you expect it not to be stored on the heap?</p>\n<hr />\n<p>Note that <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/reflect/Method.java#L69\" rel=\"nofollow noreferrer\"><code>java.lang.reflect.Method</code></a> is not the same as a hotspot-internal C++ <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/hotspot/share/oops/method.hpp#L69\" rel=\"nofollow noreferrer\"><code>class Method</code></a>.</p>\n<p>The <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/hotspot/share/oops/method.hpp#L69\" rel=\"nofollow noreferrer\"><code>class Method</code></a> is an implementation detail of the hotspot JVM engine and instances of this internal C++ class are never stored on the heap.</p>\n"}],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71741933,"answer_count":1,"score":0,"last_activity_date":1649096074,"creation_date":1649088522,"question_id":71740385,"body_markdown":"I am reading the [jdk 19][1](support the m1 chip when compile) source code, in the refactor source code in `reflection.cpp`, the function look like this:\r\n\r\n\r\n    oop Reflection::invoke_method(oop method_mirror, Handle receiver, objArrayHandle args, TRAPS) {\r\n      oop mirror             = java_lang_reflect_Method::clazz(method_mirror);\r\n      int slot               = java_lang_reflect_Method::slot(method_mirror);\r\n      bool override          = java_lang_reflect_Method::override(method_mirror) != 0;\r\n    }\r\n\r\n\r\n when I tracing this clazz function `java_lang_reflect_Method::clazz`:\r\n\r\n\r\n\r\n    oop java_lang_reflect_Method::clazz(oop reflect) {\r\n      return reflect-&gt;obj_field(_clazz_offset);\r\n    }\r\n\r\n\r\nthe `obj_field` function get the oop data from heap. This makes me a little confusing, the heap store the all object instance, why the reflection get data from heap? I think it will get the metadata from Method Area because in there store the class metadata, using the metadata, could construct the class info. the `obj_field` look like this:\r\n\r\n\r\n\r\n    inline oop  oopDesc::obj_field(int offset) const                    { return HeapAccess&lt;&gt;::oop_load_at(as_oop(), offset);  }\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/","title":"why the jdk native refactor get class from heap","body":"<p>I am reading the <a href=\"https://github.com/openjdk/jdk/\" rel=\"nofollow noreferrer\">jdk 19</a>(support the m1 chip when compile) source code, in the refactor source code in <code>reflection.cpp</code>, the function look like this:</p>\n<pre><code>oop Reflection::invoke_method(oop method_mirror, Handle receiver, objArrayHandle args, TRAPS) {\n  oop mirror             = java_lang_reflect_Method::clazz(method_mirror);\n  int slot               = java_lang_reflect_Method::slot(method_mirror);\n  bool override          = java_lang_reflect_Method::override(method_mirror) != 0;\n}\n</code></pre>\n<p>when I tracing this clazz function <code>java_lang_reflect_Method::clazz</code>:</p>\n<pre><code>oop java_lang_reflect_Method::clazz(oop reflect) {\n  return reflect-&gt;obj_field(_clazz_offset);\n}\n</code></pre>\n<p>the <code>obj_field</code> function get the oop data from heap. This makes me a little confusing, the heap store the all object instance, why the reflection get data from heap? I think it will get the metadata from Method Area because in there store the class metadata, using the metadata, could construct the class info. the <code>obj_field</code> look like this:</p>\n<pre><code>inline oop  oopDesc::obj_field(int offset) const                    { return HeapAccess&lt;&gt;::oop_load_at(as_oop(), offset);  }\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"score":0,"creation_date":1649091036,"post_id":71740802,"comment_id":126783230,"body_markdown":"Can you show the code where you are throwing the exception?","body":"Can you show the code where you are throwing the exception?"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1649091544,"post_id":71740802,"comment_id":126783410,"body_markdown":"Debug it as you would any other string comparison failure. Print out both strings and see if the problem is obvous. Then print the length of both strings to see if one has a trailing space or denormalized character or similar. Finally compare character by character to pinpoint the problem, which could be a difference in capitalization, misspelling, punctuation, codepoint, or other things that are hard for humans to spot.","body":"Debug it as you would any other string comparison failure. Print out both strings and see if the problem is obvous. Then print the length of both strings to see if one has a trailing space or denormalized character or similar. Finally compare character by character to pinpoint the problem, which could be a difference in capitalization, misspelling, punctuation, codepoint, or other things that are hard for humans to spot."}],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649090817,"creation_date":1649090817,"answer_id":71740872,"question_id":71740802,"body_markdown":"Does your own custom exception get wrapped in another exception? In that case you need to do something like:\r\n\r\n    e.getCause().getMessage()","title":"Comparison of exception message always fails in if my statement","body":"<p>Does your own custom exception get wrapped in another exception? In that case you need to do something like:</p>\n<pre><code>e.getCause().getMessage()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649095905,"creation_date":1649095905,"answer_id":71741908,"question_id":71740802,"body_markdown":"This is what I did:\r\n\r\n```Java\r\n} catch (Exception e) {\r\n    if (e instanceof AxisFault) {\r\n        if (e.getMessage().equals(Constants.EXCEPTION_STRING)) {\r\n            throw new ServiceException(MyClassName.class.toString(),\r\n                Constants.EXCEPTION_STRING);\r\n        }\r\n    } else {\r\n        LOGGER.info(&quot;Save failed: &quot; + e);\r\n    }\r\n}\r\n```","title":"Comparison of exception message always fails in if my statement","body":"<p>This is what I did:</p>\n<pre><code>} catch (Exception e) {\n    if (e instanceof AxisFault) {\n        if (e.getMessage().equals(Constants.EXCEPTION_STRING)) {\n            throw new ServiceException(MyClassName.class.toString(),\n                Constants.EXCEPTION_STRING);\n        }\n    } else {\n        LOGGER.info(&quot;Save failed: &quot; + e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649095905,"creation_date":1649090480,"question_id":71740802,"body_markdown":"I have this variable in my Constants class:\r\n\r\n```Java\r\npublic static final String EXCEPTION_STRING= &quot;My Exceptions message&quot;;\r\n```\r\n\r\nI want to check for it in my catch and throw a particular message if it&#39;s found. This is what I came up with:\r\n\r\n```Java\r\n} catch (Exception e) {\r\n    if (e.getMessage().equals(Constants.EXCEPTION_STRING)) {\r\n\t    throw new ServiceException(MyClassName.class.toString(),\r\n            Constants.EXCEPTION_STRING);\r\n    } else {\r\n        LOGGER.info(&quot;Save failed: &quot; + e);\r\n    }\r\n}\r\n```\r\n\r\nThe `if` never seems to get entered even though I can see the correct exception message. What am I doing wrong?","title":"Comparison of exception message always fails in if my statement","body":"<p>I have this variable in my Constants class:</p>\n<pre><code>public static final String EXCEPTION_STRING= &quot;My Exceptions message&quot;;\n</code></pre>\n<p>I want to check for it in my catch and throw a particular message if it's found. This is what I came up with:</p>\n<pre><code>} catch (Exception e) {\n    if (e.getMessage().equals(Constants.EXCEPTION_STRING)) {\n        throw new ServiceException(MyClassName.class.toString(),\n            Constants.EXCEPTION_STRING);\n    } else {\n        LOGGER.info(&quot;Save failed: &quot; + e);\n    }\n}\n</code></pre>\n<p>The <code>if</code> never seems to get entered even though I can see the correct exception message. What am I doing wrong?</p>\n"},{"tags":["java","arrays","loops","for-loop"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649040580,"post_id":71731503,"comment_id":126767264,"body_markdown":"How do you know that it &quot;continues to run the loop&quot;? Please add the output to your question. By the way, you never use `j` as an array subscript.","body":"How do you know that it &quot;continues to run the loop&quot;? Please add the output to your question. By the way, you never use <code>j</code> as an array subscript."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1649040664,"post_id":71731503,"comment_id":126767282,"body_markdown":"Does this actually crash, and print a stack trace, after processing the first two students?  That&#39;s not the same thing as &quot;the system continues to run the loop&quot;.","body":"Does this actually crash, and print a stack trace, after processing the first two students?  That&#39;s not the same thing as &quot;the system continues to run the loop&quot;."},{"owner":{"account_id":6830909,"reputation":457,"user_id":5254942,"accept_rate":58,"display_name":"Kivan Ilangakoon"},"score":0,"creation_date":1649041157,"post_id":71731503,"comment_id":126767340,"body_markdown":"Below is the output that I get:\n\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\n\tat testing1.testing1.main(testing1.java:59)","body":"Below is the output that I get:  Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2 \tat testing1.testing1.main(testing1.java:59)"},{"owner":{"account_id":6830909,"reputation":457,"user_id":5254942,"accept_rate":58,"display_name":"Kivan Ilangakoon"},"score":0,"creation_date":1649041264,"post_id":71731503,"comment_id":126767356,"body_markdown":"I have edited my question and included the full output as well","body":"I have edited my question and included the full output as well"},{"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"score":0,"creation_date":1649042554,"post_id":71731503,"comment_id":126767506,"body_markdown":"@KivanIlangakoon, I&#39;ve edited my answer after you&#39;ve changed the question. Please, check it out. :)","body":"@KivanIlangakoon, I&#39;ve edited my answer after you&#39;ve changed the question. Please, check it out. :)"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1649042600,"post_id":71731503,"comment_id":126767511,"body_markdown":"Everywhere that you wrote `[cnt][i]` it should have been `[i][j]`.  You don&#39;t need `cnt` at all, because it&#39;s always the same as `i`.  Also, when you&#39;re asking people for help, you should give them ALL the available information initially, not release it in installments.  Otherwise, we tend to waste our time.","body":"Everywhere that you wrote <code>[cnt][i]</code> it should have been <code>[i][j]</code>.  You don&#39;t need <code>cnt</code> at all, because it&#39;s always the same as <code>i</code>.  Also, when you&#39;re asking people for help, you should give them ALL the available information initially, not release it in installments.  Otherwise, we tend to waste our time."},{"owner":{"account_id":6830909,"reputation":457,"user_id":5254942,"accept_rate":58,"display_name":"Kivan Ilangakoon"},"score":0,"creation_date":1649045185,"post_id":71731503,"comment_id":126767834,"body_markdown":"@DawoodibnKareem thanks, but it still gives me the same error message","body":"@DawoodibnKareem thanks, but it still gives me the same error message"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649045591,"post_id":71731503,"comment_id":126767880,"body_markdown":"And what is &quot;it&quot; now? You need to update the code in your question if you change it.","body":"And what is &quot;it&quot; now? You need to update the code in your question if you change it."}],"answers":[{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649042443,"creation_date":1649040710,"answer_id":71731561,"question_id":71731503,"body_markdown":"# Update due to the question has changed\r\nIn the first loop you&#39;re iterating over the whole array of names. You also need a `i &lt; nameCount` condition because the arrays have data from the begining until as many students as the user has entered. So, the condition will be as follow:\r\n```\r\n//other code\r\nfor (int i = 0; i &lt; names.length &amp;&amp; i &lt; nameCount; i++) {\r\n    //other code\r\n}\r\n```\r\n\r\n---\r\nIf you want to stop a loop, then you can set to true some condition variable and break the loop depending on its state. Something like:\r\n```\r\nfor (...) {\r\n    //sentences\r\n    if (someCondition)\r\n        break;\r\n}\r\n```","title":"How can I get the for loop to stop to stop running and proceed to the next methid once the program has been executed in Java?","body":"<h1>Update due to the question has changed</h1>\n<p>In the first loop you're iterating over the whole array of names. You also need a <code>i &lt; nameCount</code> condition because the arrays have data from the begining until as many students as the user has entered. So, the condition will be as follow:</p>\n<pre><code>//other code\nfor (int i = 0; i &lt; names.length &amp;&amp; i &lt; nameCount; i++) {\n    //other code\n}\n</code></pre>\n<hr />\n<p>If you want to stop a loop, then you can set to true some condition variable and break the loop depending on its state. Something like:</p>\n<pre><code>for (...) {\n    //sentences\n    if (someCondition)\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649095743,"creation_date":1649095743,"answer_id":71741878,"question_id":71731503,"body_markdown":"Notes after the code.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Testing2 {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.print(&quot;Enter number of students (between 1-50): &quot;);\r\n        int result = in.nextInt();\r\n        in.nextLine();\r\n        String[] names = new String[result];\r\n        System.out.println(&quot;Thank you, please enter the names for the &quot; + result + &quot; students.&quot;);\r\n        for (int i = 0; i &lt; result; i++) {\r\n            System.out.printf(&quot;Enter student %d first name: &quot;, (i + 1));\r\n            names[i] = in.nextLine();\r\n        }\r\n        double[] gpa = new double[result];\r\n        String[] subjects = {&quot;Math&quot;, &quot;Science&quot;,};\r\n        double[][] marks = new double[result][subjects.length];\r\n        int[][] credits = new int[result][subjects.length];\r\n        for (int i = 0; i &lt; result; i++) {\r\n            int totalCredits = 0;\r\n            for(int j = 0; j &lt; subjects.length; j++) {\r\n                System.out.printf(&quot;Please enter %s&#39;s mark in %s: &quot;, names[i], subjects[j]);\r\n                marks[i][j] = in.nextDouble();\r\n                System.out.printf(&quot;Please enter %s&#39;s credit hours for %s: &quot;, names[i], subjects[j]);\r\n                credits[i][j] = in.nextInt();\r\n                totalCredits += credits[i][j];\r\n                gpa[i] += marks[i][j] * credits[i][j];\r\n            }\r\n            gpa[i] /= totalCredits;\r\n            System.out.printf(&quot;GPA of %s is %.2f%n&quot;, names[i], gpa[i]);\r\n        }\r\n    }\r\n}\r\n```\r\n* You only need one `Scanner` object. No need to create a new `Scanner` each time you want to get input from the user.\r\n* Declare variables when you require them.\r\n* You can use `result` to declare your `names` array. Then you can use a `for` loop to get the names.\r\n* No need for variable `s1`. Assign the value returned by method `nextLine` directly to the `names` array.\r\n* You can also use `result` when you declare the other arrays, including `marks`, `credits` and `gpa`. In fact, you can use any expression that returns an `int` result for any dimension of an array.\r\n* No need for variables `nameCount` and `cnt`.\r\n* All calculations need to be done within the nested `for` loops.\r\n* You need to reset `totalCredits` for each student.\r\n\r\nOutput from a sample run:\r\n```none\r\nEnter number of students (between 1-50): 2\r\nThank you, please enter the names for the 2 students.\r\nEnter student 1 first name: George\r\nEnter student 2 first name: Edson\r\nPlease enter George&#39;s mark in Math: 2.0\r\nPlease enter George&#39;s credit hours for Math: 3\r\nPlease enter George&#39;s mark in Science: 4.0\r\nPlease enter George&#39;s credit hours for Science: 2\r\nGPA of George is 2.80\r\nPlease enter Edson&#39;s mark in Math: 2.67\r\nPlease enter Edson&#39;s credit hours for Math: 3\r\nPlease enter Edson&#39;s mark in Science: 1.33\r\nPlease enter Edson&#39;s credit hours for Science: 4\r\nGPA of Edson is 1.90\r\n```","title":"How can I get the for loop to stop to stop running and proceed to the next methid once the program has been executed in Java?","body":"<p>Notes after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Testing2 {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        System.out.print(&quot;Enter number of students (between 1-50): &quot;);\n        int result = in.nextInt();\n        in.nextLine();\n        String[] names = new String[result];\n        System.out.println(&quot;Thank you, please enter the names for the &quot; + result + &quot; students.&quot;);\n        for (int i = 0; i &lt; result; i++) {\n            System.out.printf(&quot;Enter student %d first name: &quot;, (i + 1));\n            names[i] = in.nextLine();\n        }\n        double[] gpa = new double[result];\n        String[] subjects = {&quot;Math&quot;, &quot;Science&quot;,};\n        double[][] marks = new double[result][subjects.length];\n        int[][] credits = new int[result][subjects.length];\n        for (int i = 0; i &lt; result; i++) {\n            int totalCredits = 0;\n            for(int j = 0; j &lt; subjects.length; j++) {\n                System.out.printf(&quot;Please enter %s's mark in %s: &quot;, names[i], subjects[j]);\n                marks[i][j] = in.nextDouble();\n                System.out.printf(&quot;Please enter %s's credit hours for %s: &quot;, names[i], subjects[j]);\n                credits[i][j] = in.nextInt();\n                totalCredits += credits[i][j];\n                gpa[i] += marks[i][j] * credits[i][j];\n            }\n            gpa[i] /= totalCredits;\n            System.out.printf(&quot;GPA of %s is %.2f%n&quot;, names[i], gpa[i]);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>You only need one <code>Scanner</code> object. No need to create a new <code>Scanner</code> each time you want to get input from the user.</li>\n<li>Declare variables when you require them.</li>\n<li>You can use <code>result</code> to declare your <code>names</code> array. Then you can use a <code>for</code> loop to get the names.</li>\n<li>No need for variable <code>s1</code>. Assign the value returned by method <code>nextLine</code> directly to the <code>names</code> array.</li>\n<li>You can also use <code>result</code> when you declare the other arrays, including <code>marks</code>, <code>credits</code> and <code>gpa</code>. In fact, you can use any expression that returns an <code>int</code> result for any dimension of an array.</li>\n<li>No need for variables <code>nameCount</code> and <code>cnt</code>.</li>\n<li>All calculations need to be done within the nested <code>for</code> loops.</li>\n<li>You need to reset <code>totalCredits</code> for each student.</li>\n</ul>\n<p>Output from a sample run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter number of students (between 1-50): 2\nThank you, please enter the names for the 2 students.\nEnter student 1 first name: George\nEnter student 2 first name: Edson\nPlease enter George's mark in Math: 2.0\nPlease enter George's credit hours for Math: 3\nPlease enter George's mark in Science: 4.0\nPlease enter George's credit hours for Science: 2\nGPA of George is 2.80\nPlease enter Edson's mark in Math: 2.67\nPlease enter Edson's credit hours for Math: 3\nPlease enter Edson's mark in Science: 1.33\nPlease enter Edson's credit hours for Science: 4\nGPA of Edson is 1.90\n</code></pre>\n"}],"owner":{"account_id":6830909,"reputation":457,"user_id":5254942,"accept_rate":58,"display_name":"Kivan Ilangakoon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1649095743,"creation_date":1649039950,"question_id":71731503,"body_markdown":"The code is first getting the user to input the number of students in a class. Then the system will allow the user to add the names of those students. After which the user can assign a mark and credit hours for subjects for each of those students. Once the marks and credit hours have been entered for each student, the system should then calculate the GPA. However, the system continues to run the loop and it does not execute and display the GPA. Can I be assisted as the why this loop does not execute:\r\n```java\r\npublic class testing1 {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int result;\r\n        String[] names = new String[100];\r\n        System.out.println(&quot;Enter number of students (Must be between 1-50)&quot;);\r\n        result = in .nextInt();\r\n        System.out.println(&quot;Thank you, Please enter the names for the &quot; + result + &quot; Students&quot;);\r\n        int nameCount = 0;\r\n        while (nameCount &lt; result) {\r\n            System.out.println(&quot;Enter First Name: &quot;);\r\n            String s1 = in .next();\r\n            System.out.println(&quot;The students name is&quot; + &quot; &quot; + s1);\r\n            System.out.println();\r\n            names[nameCount] = s1;\r\n            nameCount++;\r\n        }\r\n        double[][] marks = new double[100][2];\r\n        int[][] credits = new int[100][2];\r\n        double[] gpa = new double[100];\r\n        String[] subjects = {&quot;Math&quot;, &quot;Science&quot;,};\r\n        int cnt = 0;\r\n        Scanner s1 = new Scanner(System.in);\r\n        gpa[cnt] = 0;\r\n        int totalCredits = 0;\r\n        for (int i = 0; i &lt; names.length; i++) {\r\n            for(int j = 0; j &lt; subjects.length; j++) {\r\n                System.out.println();\r\n                System.out.println();\r\n                System.out.println(&quot;Please enter &quot; + names[i] +&quot;&#39;s mark in &quot;  + subjects[j] + &quot;: &quot;);\r\n                marks[cnt][i] = s1.nextDouble();\r\n                System.out.println(&quot;Please enter &quot; + names[i] +&quot;&#39;s Credit hours for &quot;+ subjects[j] + &quot;: &quot;);\r\n                credits[cnt][i] = s1.nextInt();\r\n                totalCredits += credits[cnt][i];\r\n                gpa[cnt] += marks[cnt][i] * credits[cnt][i];\r\n            }\r\n            cnt++;\r\n        }\r\n        gpa[cnt] /= totalCredits;\r\n        System.out.printf(&quot;GPA of :&quot; + names[cnt] + &quot; is %.2f.&quot;, gpa[cnt]);\r\n        return;\r\n    }\r\n}\r\n```\r\nBelow is the output when I run the system from the beginning:\r\n```none\r\nEnter number of students (Must be between 1-50)\r\n2\r\nThank you, Please enter the names for the 2 Students\r\nEnter First Name: \r\nAlan\r\nThe students name is Alan\r\n\r\nEnter First Name: \r\nBob\r\nThe students name is Bob\r\n\r\n\r\n\r\nPlease enter Alan&#39;s mark in Math: \r\n12\r\nPlease enter Alan&#39;s Credit hours for Math: \r\n12\r\n\r\n\r\nPlease enter Alan&#39;s mark in Science: \r\n12\r\nPlease enter Alan&#39;s Credit hours for Science: \r\n12\r\n\r\n\r\nPlease enter Bob&#39;s mark in Math: \r\n12\r\nPlease enter Bob&#39;s Credit hours for Math: \r\n12\r\n\r\n\r\nPlease enter Bob&#39;s mark in Science: \r\n12\r\nPlease enter Bob&#39;s Credit hours for Science: \r\n12\r\n\r\n\r\nPlease enter null&#39;s mark in Math: \r\n12\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\r\n\tat testing1.testing1.main(testing1.java:59)\r\n```","title":"How can I get the for loop to stop to stop running and proceed to the next methid once the program has been executed in Java?","body":"<p>The code is first getting the user to input the number of students in a class. Then the system will allow the user to add the names of those students. After which the user can assign a mark and credit hours for subjects for each of those students. Once the marks and credit hours have been entered for each student, the system should then calculate the GPA. However, the system continues to run the loop and it does not execute and display the GPA. Can I be assisted as the why this loop does not execute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class testing1 {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int result;\n        String[] names = new String[100];\n        System.out.println(&quot;Enter number of students (Must be between 1-50)&quot;);\n        result = in .nextInt();\n        System.out.println(&quot;Thank you, Please enter the names for the &quot; + result + &quot; Students&quot;);\n        int nameCount = 0;\n        while (nameCount &lt; result) {\n            System.out.println(&quot;Enter First Name: &quot;);\n            String s1 = in .next();\n            System.out.println(&quot;The students name is&quot; + &quot; &quot; + s1);\n            System.out.println();\n            names[nameCount] = s1;\n            nameCount++;\n        }\n        double[][] marks = new double[100][2];\n        int[][] credits = new int[100][2];\n        double[] gpa = new double[100];\n        String[] subjects = {&quot;Math&quot;, &quot;Science&quot;,};\n        int cnt = 0;\n        Scanner s1 = new Scanner(System.in);\n        gpa[cnt] = 0;\n        int totalCredits = 0;\n        for (int i = 0; i &lt; names.length; i++) {\n            for(int j = 0; j &lt; subjects.length; j++) {\n                System.out.println();\n                System.out.println();\n                System.out.println(&quot;Please enter &quot; + names[i] +&quot;'s mark in &quot;  + subjects[j] + &quot;: &quot;);\n                marks[cnt][i] = s1.nextDouble();\n                System.out.println(&quot;Please enter &quot; + names[i] +&quot;'s Credit hours for &quot;+ subjects[j] + &quot;: &quot;);\n                credits[cnt][i] = s1.nextInt();\n                totalCredits += credits[cnt][i];\n                gpa[cnt] += marks[cnt][i] * credits[cnt][i];\n            }\n            cnt++;\n        }\n        gpa[cnt] /= totalCredits;\n        System.out.printf(&quot;GPA of :&quot; + names[cnt] + &quot; is %.2f.&quot;, gpa[cnt]);\n        return;\n    }\n}\n</code></pre>\n<p>Below is the output when I run the system from the beginning:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter number of students (Must be between 1-50)\n2\nThank you, Please enter the names for the 2 Students\nEnter First Name: \nAlan\nThe students name is Alan\n\nEnter First Name: \nBob\nThe students name is Bob\n\n\n\nPlease enter Alan's mark in Math: \n12\nPlease enter Alan's Credit hours for Math: \n12\n\n\nPlease enter Alan's mark in Science: \n12\nPlease enter Alan's Credit hours for Science: \n12\n\n\nPlease enter Bob's mark in Math: \n12\nPlease enter Bob's Credit hours for Math: \n12\n\n\nPlease enter Bob's mark in Science: \n12\nPlease enter Bob's Credit hours for Science: \n12\n\n\nPlease enter null's mark in Math: \n12\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\n    at testing1.testing1.main(testing1.java:59)\n</code></pre>\n"},{"tags":["java","oop","constructor"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1649095317,"post_id":71741749,"comment_id":126784622,"body_markdown":"In almost all cases these are the same. I&#39;m trying to think of a situation where not using `this.` would produce different results....","body":"In almost all cases these are the same. I&#39;m trying to think of a situation where not using <code>this.</code> would produce different results...."},{"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"score":0,"creation_date":1649095732,"post_id":71741749,"comment_id":126784744,"body_markdown":"[This](https://softwareengineering.stackexchange.com/q/113430/349474) stack exchange discussion has some interesting answers for your &#39;which one is better practice&#39; question.","body":"<a href=\"https://softwareengineering.stackexchange.com/q/113430/349474\">This</a> stack exchange discussion has some interesting answers for your &#39;which one is better practice&#39; question."},{"owner":{"account_id":23588090,"reputation":55,"user_id":17626267,"display_name":"tohli"},"score":0,"creation_date":1649096402,"post_id":71741749,"comment_id":126784962,"body_markdown":"@Matt Hmm, I&#39;m a beginner at programming so I can&#39;t fully comprehend what the question or the answers fully mean, but when I can I&#39;ll definitely read it. Bookmarked.","body":"@Matt Hmm, I&#39;m a beginner at programming so I can&#39;t fully comprehend what the question or the answers fully mean, but when I can I&#39;ll definitely read it. Bookmarked."},{"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"score":0,"creation_date":1649101053,"post_id":71741749,"comment_id":126786367,"body_markdown":"It seems like the &#39;best practice&#39; is highly up for debate, so you&#39;re likely free to use whatever makes most sense to you without any consequences :)","body":"It seems like the &#39;best practice&#39; is highly up for debate, so you&#39;re likely free to use whatever makes most sense to you without any consequences :)"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649095457,"creation_date":1649095457,"answer_id":71741827,"question_id":71741749,"body_markdown":"With `this.*` you are calling the method located at &quot;this&quot; instance. When inheriting from a class having implemented the same method(s), you also have the opportunity to call super.setTitle().\r\n\r\nOr with an example:\r\n```java\r\nclass Foo\r\n{\r\n\tpublic int baz()\r\n\t{\r\n\t\treturn -1;\r\n\t}\r\n}\r\n\r\nclass Bar extends Foo\r\n{\r\n\tprivate Bar()\r\n\t{\r\n\t\tsuper.baz(); // returns -1\r\n\t\tthis.baz(); // returns 1\r\n\t}\r\n\r\n\tpublic int baz()\r\n\t{\r\n\t\treturn 1;\r\n\t}\r\n}\r\n```","title":"What is the difference between this.setMethod(parameter) and setMethod(parameter) in a constructor? [Java]","body":"<p>With <code>this.*</code> you are calling the method located at &quot;this&quot; instance. When inheriting from a class having implemented the same method(s), you also have the opportunity to call super.setTitle().</p>\n<p>Or with an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo\n{\n    public int baz()\n    {\n        return -1;\n    }\n}\n\nclass Bar extends Foo\n{\n    private Bar()\n    {\n        super.baz(); // returns -1\n        this.baz(); // returns 1\n    }\n\n    public int baz()\n    {\n        return 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"v"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649095476,"creation_date":1649095476,"answer_id":71741834,"question_id":71741749,"body_markdown":"There is no need to use `this` when calling the setter methods in your example (and it&#39;s not standard practice to do so). However, it is necessary to use `this` if you want to set a field with the same name as a variable in the constructor. For example:\r\n\r\n    public class Movie {\r\n        private final String title;\r\n\r\n        public Movie(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\nIf you don&#39;t specify `this.title`, it will think you are trying to assign the `title` variable to itself.\r\n\r\nThe keyword `this` is also needed to distinguish different implementations of methods when your class has extended another class (e.g. you can call `this.method()` or `super.method()`.)","title":"What is the difference between this.setMethod(parameter) and setMethod(parameter) in a constructor? [Java]","body":"<p>There is no need to use <code>this</code> when calling the setter methods in your example (and it's not standard practice to do so). However, it is necessary to use <code>this</code> if you want to set a field with the same name as a variable in the constructor. For example:</p>\n<pre><code>public class Movie {\n    private final String title;\n\n    public Movie(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n<p>If you don't specify <code>this.title</code>, it will think you are trying to assign the <code>title</code> variable to itself.</p>\n<p>The keyword <code>this</code> is also needed to distinguish different implementations of methods when your class has extended another class (e.g. you can call <code>this.method()</code> or <code>super.method()</code>.)</p>\n"}],"owner":{"account_id":23588090,"reputation":55,"user_id":17626267,"display_name":"tohli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71741834,"answer_count":2,"score":3,"last_activity_date":1649095476,"creation_date":1649095062,"question_id":71741749,"body_markdown":"I have been trying to learn about classes and objects for the last few days and I realized that using &quot;this.set&quot; and &quot;set&quot; inside a constructor made no apparent difference. To clarify\r\n\r\n```\r\npublic Movie(String title,String director, String rating) {\r\n\t\tsetTitle(title); \r\n\t\tsetDirector(director);\r\n\t\tsetRating(rating);\r\n```\r\n\r\nand\r\n\r\n```\r\npublic Movie(String title,String director, String rating) {\r\n\t\tthis.setTitle(title); \r\n\t\tthis.setDirector(director);\r\n\t\tthis.setRating(rating);\r\n```\r\n\r\nmade no difference while running.\r\n\r\nWhat is the difference, if there is any and which one is better practice? \r\n\r\nI was expecting there to be some kind of error, but it worked completely the same. In addition, my instructor does  **not** use &quot;this.&quot; while putting a setter inside a constructor in his examples.\r\n\r\nThanks.","title":"What is the difference between this.setMethod(parameter) and setMethod(parameter) in a constructor? [Java]","body":"<p>I have been trying to learn about classes and objects for the last few days and I realized that using &quot;this.set&quot; and &quot;set&quot; inside a constructor made no apparent difference. To clarify</p>\n<pre><code>public Movie(String title,String director, String rating) {\n        setTitle(title); \n        setDirector(director);\n        setRating(rating);\n</code></pre>\n<p>and</p>\n<pre><code>public Movie(String title,String director, String rating) {\n        this.setTitle(title); \n        this.setDirector(director);\n        this.setRating(rating);\n</code></pre>\n<p>made no difference while running.</p>\n<p>What is the difference, if there is any and which one is better practice?</p>\n<p>I was expecting there to be some kind of error, but it worked completely the same. In addition, my instructor does  <strong>not</strong> use &quot;this.&quot; while putting a setter inside a constructor in his examples.</p>\n<p>Thanks.</p>\n"},{"tags":["java","executable-jar","robotics","java-3d"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1649095606,"post_id":71741810,"comment_id":126784716,"body_markdown":"take the [tour] read [ask] and post a [mcve]","body":"take the <a href=\"https://stackoverflow.com/tour\">tour</a> read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649102299,"post_id":71741810,"comment_id":126786767,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1649110553,"post_id":71741810,"comment_id":126788839,"body_markdown":"Hello. I advise you to modify your classpath to include Java3D 1.6.2 instead of Java3D 1.5. Java3D 1.5 is obsolete and is absolutely not guaranteed to work under Windows 10. You can follow my tutorial: http://gouessej.wordpress.com/2012/08/01/java-3d-est-de-retour-java-3d-is-back/ I haven&#39;t deeply looked at Simbad, maybe you&#39;ll have to modify it a bit to make it work, it seems to be unmaintained since 2007.","body":"Hello. I advise you to modify your classpath to include Java3D 1.6.2 instead of Java3D 1.5. Java3D 1.5 is obsolete and is absolutely not guaranteed to work under Windows 10. You can follow my tutorial: <a href=\"http://gouessej.wordpress.com/2012/08/01/java-3d-est-de-retour-java-3d-is-back/\" rel=\"nofollow noreferrer\">gouessej.wordpress.com/2012/08/01/&hellip;</a> I haven&#39;t deeply looked at Simbad, maybe you&#39;ll have to modify it a bit to make it work, it seems to be unmaintained since 2007."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1649110788,"post_id":71741810,"comment_id":126788894,"body_markdown":"Simbad uses Ant as a build tool, you can use my script as a source of inspiration to include Java3D into the JAR to build an executable JAR containing Simbad and Java3D: https://sourceforge.net/p/tuer/git/ci/master/tree/pre_beta/build.xml","body":"Simbad uses Ant as a build tool, you can use my script as a source of inspiration to include Java3D into the JAR to build an executable JAR containing Simbad and Java3D: <a href=\"https://sourceforge.net/p/tuer/git/ci/master/tree/pre_beta/build.xml\" rel=\"nofollow noreferrer\">sourceforge.net/p/tuer/git/ci/master/tree/pre_beta/build.xml</a>"}],"owner":{"account_id":18542932,"reputation":1,"user_id":13511000,"display_name":"George Parlitsis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649095393,"creation_date":1649095393,"question_id":71741810,"body_markdown":"Hello I am starting with simbad and I installed Simbad1.4 and java3d1.5 but when i try to open simbad an error message occurs and it writes Simbad requires Java 3D\r\nI have Windows 10","title":"how do i fix Simbad requires Java 3D error message","body":"<p>Hello I am starting with simbad and I installed Simbad1.4 and java3d1.5 but when i try to open simbad an error message occurs and it writes Simbad requires Java 3D\nI have Windows 10</p>\n"},{"tags":["java","exception","intellij-idea","try-catch","intellij-14"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1649062829,"post_id":71734384,"comment_id":126772177,"body_markdown":"Have you tried to simply put the statement inside the try block (so in the source code rather than injecting the exception with IntelliJ)?","body":"Have you tried to simply put the statement inside the try block (so in the source code rather than injecting the exception with IntelliJ)?"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1649062898,"post_id":71734384,"comment_id":126772208,"body_markdown":"it will work, but wanted to know why intelj not throwing.I have to change code and build again otherwise ,because hotswap wont work due to some reasons","body":"it will work, but wanted to know why intelj not throwing.I have to change code and build again otherwise ,because hotswap wont work due to some reasons"}],"answers":[{"tags":[],"owner":{"account_id":13807566,"reputation":61,"user_id":9966043,"display_name":"Ahmet Erdem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649095340,"creation_date":1649067457,"answer_id":71735571,"question_id":71734384,"body_markdown":"I wrote similar code as a web service in Intellij Idea and it worked as expected.\r\nHere is the code and debug run. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YGtLk.png\r\n\r\n\r\n\r\n\r\nWhen I go to &#39;Frames&#39; context menu while debugging and press Throw Exception action I can throw exception when the cursor is in inside invoke method, but  in exceptionExample method the same action does not throw exception. It steps into the code. \r\nThere may be a bug. ","title":"Unable to throw exception in Intelj Debug Mode","body":"<p>I wrote similar code as a web service in Intellij Idea and it worked as expected.\nHere is the code and debug run.</p>\n<p><a href=\"https://i.stack.imgur.com/YGtLk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YGtLk.png\" alt=\"enter image description here\" /></a></p>\n<p>When I go to 'Frames' context menu while debugging and press Throw Exception action I can throw exception when the cursor is in inside invoke method, but  in exceptionExample method the same action does not throw exception. It steps into the code.\nThere may be a bug.</p>\n"},{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649080589,"creation_date":1649080589,"answer_id":71738500,"question_id":71734384,"body_markdown":"Use **Throw Exception** action from the &#39;Frames&#39; context menu:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WYtME.png","title":"Unable to throw exception in Intelj Debug Mode","body":"<p>Use <strong>Throw Exception</strong> action from the 'Frames' context menu:\n<a href=\"https://i.stack.imgur.com/WYtME.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WYtME.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649095340,"creation_date":1649062197,"question_id":71734384,"body_markdown":"I am debugging a piece of code where I need to throw an exception in try block so that the control goes to catch block. When I am running app using intellij debug mode, when I throw exception by clicking on frame in debugger mode, I see the exception is not getting thrown and the code flow is working normal.What is the reason for this?\r\n\r\n    try\r\n    {\r\n    ApiRequest apiRequest = new ApiRequest();\r\n    ..........\r\n    ...........\r\n    \r\n    return invoke();\r\n    } catch(NoHttpResponseException ex) {\r\n       // debug here\r\n          }\r\n        } \r\n\r\nI have debug points in try block. At any point, i click on debug frame and click throw exception and I type `new NoHttpResponseException()`, but the catch is not called and the flow after next statement continues.What am I missing here?","title":"Unable to throw exception in Intelj Debug Mode","body":"<p>I am debugging a piece of code where I need to throw an exception in try block so that the control goes to catch block. When I am running app using intellij debug mode, when I throw exception by clicking on frame in debugger mode, I see the exception is not getting thrown and the code flow is working normal.What is the reason for this?</p>\n<pre><code>try\n{\nApiRequest apiRequest = new ApiRequest();\n..........\n...........\n\nreturn invoke();\n} catch(NoHttpResponseException ex) {\n   // debug here\n      }\n    } \n</code></pre>\n<p>I have debug points in try block. At any point, i click on debug frame and click throw exception and I type <code>new NoHttpResponseException()</code>, but the catch is not called and the flow after next statement continues.What am I missing here?</p>\n"},{"tags":["java","spring","spring-boot","transactions","datasource"],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649095317,"creation_date":1649095317,"answer_id":71741792,"question_id":71738281,"body_markdown":"Can you try setting transaction manager for the Transactional annotation you are using.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#transactionManager--\r\n\r\nThis can help you to specify that use this transaction manager with this ds for this class.\r\n\r\nHope it helps. ","title":"How can I prevent @Transactional from holding onto connections from the data source that is not involved in the transaction?","body":"<p>Can you try setting transaction manager for the Transactional annotation you are using.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#transactionManager--\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#transactionManager--</a></p>\n<p>This can help you to specify that use this transaction manager with this ds for this class.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":12139112,"reputation":11,"user_id":9511517,"display_name":"deathrasher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649095317,"creation_date":1649079657,"question_id":71738281,"body_markdown":"I have 2 datasources in my SpringBoot app. \r\n\r\nIn one class without any annotation there is a method annotated with @Transactional which uses the second datasource, buy always gets a ConnectionHolder from primary dataset and holds its connection which is never used in this class.\r\n\r\n\r\n    .s.t.s.TransactionSynchronizationManager :  Retrieved value [org.springframework.orm.jpa.EntityManagerHolder@6f9d4ae7] for key [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@4c9bed65] bound to thread [http-nio-8080-exec-1]\r\n\r\n    .s.t.s.TransactionSynchronizationManager :  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@55cec771] for key [HikariDataSource (HikariPool-sqlServer)] to thread [http-nio-8080-exec-1]\r\n\r\n    .s.t.s.TransactionSynchronizationManager :  Initializing transaction synchronization\r\n\r\n","title":"How can I prevent @Transactional from holding onto connections from the data source that is not involved in the transaction?","body":"<p>I have 2 datasources in my SpringBoot app.</p>\n<p>In one class without any annotation there is a method annotated with @Transactional which uses the second datasource, buy always gets a ConnectionHolder from primary dataset and holds its connection which is never used in this class.</p>\n<pre><code>.s.t.s.TransactionSynchronizationManager :  Retrieved value [org.springframework.orm.jpa.EntityManagerHolder@6f9d4ae7] for key [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@4c9bed65] bound to thread [http-nio-8080-exec-1]\n\n.s.t.s.TransactionSynchronizationManager :  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@55cec771] for key [HikariDataSource (HikariPool-sqlServer)] to thread [http-nio-8080-exec-1]\n\n.s.t.s.TransactionSynchronizationManager :  Initializing transaction synchronization\n</code></pre>\n"},{"tags":["java","solr","ant","lucene","ivy"],"comments":[{"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"score":0,"creation_date":1450811109,"post_id":34422205,"comment_id":56587019,"body_markdown":"Are you launching the java program from ANT? If so how is the classpath being set for the Java task?","body":"Are you launching the java program from ANT? If so how is the classpath being set for the Java task?"},{"owner":{"account_id":4450718,"reputation":305,"user_id":3622684,"accept_rate":50,"display_name":"Ladan Nekuii"},"score":0,"creation_date":1450811695,"post_id":34422205,"comment_id":56587314,"body_markdown":"@MarkO&#39;Connor yes I use ant and I added the Java task part to my question.","body":"@MarkO&#39;Connor yes I use ant and I added the Java task part to my question."},{"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"score":0,"creation_date":1450860293,"post_id":34422205,"comment_id":56604302,"body_markdown":"I think you should stop trying to repackage the 3rd party jars. Try creating an executable jar with an embedded classpath, as I&#39;ve suggested below.","body":"I think you should stop trying to repackage the 3rd party jars. Try creating an executable jar with an embedded classpath, as I&#39;ve suggested below."}],"answers":[{"tags":[],"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450820417,"creation_date":1450820417,"answer_id":34424873,"question_id":34422205,"body_markdown":"Not sure what the problem is. You could try the following, create a jar with it&#39;s dependencies on a classpath.\r\n\r\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot; description=&quot;Creates the JAR file with a Main-Class.&quot;&gt;\r\n        &lt;mkdir dir=&quot;${jar.dir}&quot; /&gt;\r\n        &lt;copy file=&quot;conf/log4j.properties&quot; todir=&quot;${classes.dir}&quot; /&gt;\r\n    \r\n        &lt;!-- Copy dependencies into the distribution directory --&gt;\r\n        &lt;ivy:retrieve pattern=&quot;${jar.dir}/[artifact]-[revision](-[classifier]).[ext]&quot;/&gt;\r\n    \r\n        &lt;!-- Create a manifest classpath property --&gt;\r\n        &lt;manifestclasspath property=&quot;jar.classpath&quot; jarfile=&quot;${jar.dir}/${ant.project.name}.jar&quot;&gt;\r\n           &lt;classpath&gt;\r\n              &lt;fileset dir=&quot;${jar.dir}&quot; includes=&quot;*.jar&quot;/&gt;\r\n           &lt;/classpath&gt;\r\n        &lt;/manifestclasspath&gt;\r\n    \r\n        &lt;!-- Create an executable jar --&gt;\r\n        &lt;jar destfile=&quot;${jar.dir}/${ant.project.name}.jar&quot; basedir=&quot;${classes.dir}&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${Main-Class}&quot; /&gt;\r\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;${jar.classpath}&quot; /&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/jar&gt;\r\n    &lt;/target&gt;","title":"Could not load codec &#39;Lucene410&#39;","body":"<p>Not sure what the problem is. You could try the following, create a jar with it's dependencies on a classpath.</p>\n\n<pre><code>&lt;target name=\"jar\" depends=\"compile\" description=\"Creates the JAR file with a Main-Class.\"&gt;\n    &lt;mkdir dir=\"${jar.dir}\" /&gt;\n    &lt;copy file=\"conf/log4j.properties\" todir=\"${classes.dir}\" /&gt;\n\n    &lt;!-- Copy dependencies into the distribution directory --&gt;\n    &lt;ivy:retrieve pattern=\"${jar.dir}/[artifact]-[revision](-[classifier]).[ext]\"/&gt;\n\n    &lt;!-- Create a manifest classpath property --&gt;\n    &lt;manifestclasspath property=\"jar.classpath\" jarfile=\"${jar.dir}/${ant.project.name}.jar\"&gt;\n       &lt;classpath&gt;\n          &lt;fileset dir=\"${jar.dir}\" includes=\"*.jar\"/&gt;\n       &lt;/classpath&gt;\n    &lt;/manifestclasspath&gt;\n\n    &lt;!-- Create an executable jar --&gt;\n    &lt;jar destfile=\"${jar.dir}/${ant.project.name}.jar\" basedir=\"${classes.dir}\"&gt;\n        &lt;manifest&gt;\n            &lt;attribute name=\"Main-Class\" value=\"${Main-Class}\" /&gt;\n            &lt;attribute name=\"Class-Path\" value=\"${jar.classpath}\" /&gt;\n        &lt;/manifest&gt;\n    &lt;/jar&gt;\n&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4456678,"reputation":1204,"user_id":3626714,"accept_rate":0,"display_name":"Ashik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532778840,"creation_date":1532778840,"answer_id":51571127,"question_id":34422205,"body_markdown":"I might be a little late. But all I had to do is add lucene-backward-codecs.jar as external jar file which can be found in the Downloaded zip file.","title":"Could not load codec &#39;Lucene410&#39;","body":"<p>I might be a little late. But all I had to do is add lucene-backward-codecs.jar as external jar file which can be found in the Downloaded zip file.</p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649095157,"creation_date":1649094831,"answer_id":71741691,"question_id":34422205,"body_markdown":"We encountered this problem, when updating the lucene dependency.\r\n\r\nAlternatively you also can just delete the persisted index found at the location the inner Exception is pointing at. For us it was located at:\r\n```\r\nSuppressed: org.apache.lucene.index.CorruptIndexException: checksum passed (6272597c). possibly transient resource issue, or a Lucene or JVM bug (resource=BufferedChecksumIndexInput(MMapIndexInput(path=&quot;C:\\&lt;path-to-app&gt;\\lucene\\segments_a8&quot;)))\r\n```\r\nbecause we have the property `roads.lucene.indexDirectoryPath=lucene` set.","title":"Could not load codec &#39;Lucene410&#39;","body":"<p>We encountered this problem, when updating the lucene dependency.</p>\n<p>Alternatively you also can just delete the persisted index found at the location the inner Exception is pointing at. For us it was located at:</p>\n<pre><code>Suppressed: org.apache.lucene.index.CorruptIndexException: checksum passed (6272597c). possibly transient resource issue, or a Lucene or JVM bug (resource=BufferedChecksumIndexInput(MMapIndexInput(path=&quot;C:\\&lt;path-to-app&gt;\\lucene\\segments_a8&quot;)))\n</code></pre>\n<p>because we have the property <code>roads.lucene.indexDirectoryPath=lucene</code> set.</p>\n"}],"owner":{"account_id":4450718,"reputation":305,"user_id":3622684,"accept_rate":50,"display_name":"Ladan Nekuii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649095157,"creation_date":1450808747,"question_id":34422205,"body_markdown":"I&#39;m trying to read indexes of solr version 4 with application that I wrote in Java, I Added this dependencies to my ivy.xml file:\r\n\r\n    &lt;dependency org=&quot;org.apache.lucene&quot; name=&quot;lucene-core&quot; rev=&quot;5.2.1&quot;&gt;\r\n\t\t\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency org=&quot;org.apache.hadoop&quot; name=&quot;hadoop-hdfs&quot; rev=&quot;2.7.1&quot;/&gt;\r\n\t&lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-jdk14&quot; rev=&quot;1.7.7&quot;/&gt;\r\n\t&lt;dependency org=&quot;log4j&quot; name=&quot;log4j&quot; rev=&quot;1.2.17&quot;/&gt;\r\n\t&lt;dependency org=&quot;org.apache.lucene&quot; name=&quot;lucene-backward-codecs&quot; rev=&quot;5.2.1&quot;/&gt;\r\n\r\nI created the jar file of my application, when I want to run the application, it give me this errors:\r\n\r\n    java.lang.IllegalArgumentException: Could not load codec &#39;Lucene410&#39;.  Did you forget to add lucene-backward-codecs.jar?\r\n\r\nand\r\n\r\n    Caused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.Codec with name &#39;Lucene410&#39; does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene50]\r\n\r\nI used this line of code:\r\n\r\n    System.out.println(&quot;codec path:&quot; + Lucene410Codec.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath());\r\nand it give me the path to jar file of codec jar ,so it exists.\r\n\r\nupdate:\r\nalso, in eclipse, I can use this line of code:\r\n\r\n    Codec.availableCodecs()\r\nand it gives me the list of codecs and lucene410 codec shows up in the list, but not when I try to run the jar file.\r\n\r\nI read somewhere that I should add service for this codec jar file to my build.xml, but it doesn&#39;t work,this is my jar part in ant(build.xml):\r\n\r\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot; description=&quot;Creates the JAR file with a Main-Class.&quot;&gt;\r\n\t\t&lt;mkdir dir=&quot;${jar.dir}&quot; /&gt;\r\n\t\t&lt;copy file=&quot;conf/log4j.properties&quot; todir=&quot;${classes.dir}&quot; /&gt;\r\n\r\n\t\t&lt;jar destfile=&quot;${jar.dir}/${ant.project.name}.jar&quot; basedir=&quot;${classes.dir}&quot;&gt;\r\n\t\t\t&lt;exclude name=&quot;**/org.apache.lucene.codecs.Codec&quot;/&gt;\r\n\t\t\t&lt;zipgroupfileset dir=&quot;lib&quot; includes=&quot;*.jar&quot; /&gt;\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Main-Class&quot; value=&quot;${Main-Class}&quot; /&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Class-Path&quot; value=&quot;. ${jar.classpath}&quot; /&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t\t&lt;service type=&quot;org.apache.lucene.codecs.Codec&quot;&gt;\r\n\t\t\t\t&lt;provider classname=&quot;org.apache.lucene.codecs.lucene40.Lucene40Codec&quot; /&gt;\r\n\t\t\t\t&lt;provider classname=&quot;org.apache.lucene.codecs.lucene41.Lucene41Codec&quot; /&gt;\r\n\t\t\t\t&lt;provider classname=&quot;org.apache.lucene.codecs.lucene42.Lucene42Codec&quot; /&gt;\r\n\t\t\t\t&lt;provider classname=&quot;org.apache.lucene.codecs.lucene45.Lucene45Codec&quot; /&gt;\r\n\t\t\t\t&lt;provider classname=&quot;org.apache.lucene.codecs.lucene46.Lucene46Codec&quot; /&gt;\r\n\t\t\t\t&lt;provider classname=&quot;org.apache.lucene.codecs.lucene49.Lucene49Codec&quot; /&gt;\r\n\t\t\t\t&lt;provider classname=&quot;org.apache.lucene.codecs.lucene410.Lucene410Codec&quot; /&gt;\r\n\t\t\t\t&lt;provider classname=&quot;org.apache.lucene.codecs.lucene50.Lucene50Codec&quot; /&gt;\r\n\t\t\t&lt;/service&gt;\t\r\n\t\t&lt;/jar&gt;\r\n\t&lt;/target&gt;\r\n\r\nand this is the class.path that I used to add jar files inside my lib folder to classpath:\r\n\r\n    &lt;path id=&quot;class.path&quot;&gt;\r\n\t\t&lt;fileset dir=&quot;lib&quot;&gt;\r\n\t\t\t&lt;include name=&quot;**/*.jar&quot; /&gt;\r\n\t\t&lt;/fileset&gt;\r\n\r\n\r\nThe problem is that the lucene-core package has it own &quot;org.apache.lucene.codecs.Codec&quot; file in META-INF/services and that overrides the one that I am trying to create in the &#39;service&#39; section of the jar target in build file. exclude tag that can be seen in build.xml does not work, neither does the exclude property on zipgroupfileset. Any help would be really appreciated.","title":"Could not load codec &#39;Lucene410&#39;","body":"<p>I'm trying to read indexes of solr version 4 with application that I wrote in Java, I Added this dependencies to my ivy.xml file:</p>\n\n<pre><code>&lt;dependency org=\"org.apache.lucene\" name=\"lucene-core\" rev=\"5.2.1\"&gt;\n\n&lt;/dependency&gt;\n&lt;dependency org=\"org.apache.hadoop\" name=\"hadoop-hdfs\" rev=\"2.7.1\"/&gt;\n&lt;dependency org=\"org.slf4j\" name=\"slf4j-jdk14\" rev=\"1.7.7\"/&gt;\n&lt;dependency org=\"log4j\" name=\"log4j\" rev=\"1.2.17\"/&gt;\n&lt;dependency org=\"org.apache.lucene\" name=\"lucene-backward-codecs\" rev=\"5.2.1\"/&gt;\n</code></pre>\n\n<p>I created the jar file of my application, when I want to run the application, it give me this errors:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Could not load codec 'Lucene410'.  Did you forget to add lucene-backward-codecs.jar?\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene410' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene50]\n</code></pre>\n\n<p>I used this line of code:</p>\n\n<pre><code>System.out.println(\"codec path:\" + Lucene410Codec.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath());\n</code></pre>\n\n<p>and it give me the path to jar file of codec jar ,so it exists.</p>\n\n<p>update:\nalso, in eclipse, I can use this line of code:</p>\n\n<pre><code>Codec.availableCodecs()\n</code></pre>\n\n<p>and it gives me the list of codecs and lucene410 codec shows up in the list, but not when I try to run the jar file.</p>\n\n<p>I read somewhere that I should add service for this codec jar file to my build.xml, but it doesn't work,this is my jar part in ant(build.xml):</p>\n\n<pre><code>&lt;target name=\"jar\" depends=\"compile\" description=\"Creates the JAR file with a Main-Class.\"&gt;\n    &lt;mkdir dir=\"${jar.dir}\" /&gt;\n    &lt;copy file=\"conf/log4j.properties\" todir=\"${classes.dir}\" /&gt;\n\n    &lt;jar destfile=\"${jar.dir}/${ant.project.name}.jar\" basedir=\"${classes.dir}\"&gt;\n        &lt;exclude name=\"**/org.apache.lucene.codecs.Codec\"/&gt;\n        &lt;zipgroupfileset dir=\"lib\" includes=\"*.jar\" /&gt;\n        &lt;manifest&gt;\n            &lt;attribute name=\"Main-Class\" value=\"${Main-Class}\" /&gt;\n            &lt;attribute name=\"Class-Path\" value=\". ${jar.classpath}\" /&gt;\n        &lt;/manifest&gt;\n        &lt;service type=\"org.apache.lucene.codecs.Codec\"&gt;\n            &lt;provider classname=\"org.apache.lucene.codecs.lucene40.Lucene40Codec\" /&gt;\n            &lt;provider classname=\"org.apache.lucene.codecs.lucene41.Lucene41Codec\" /&gt;\n            &lt;provider classname=\"org.apache.lucene.codecs.lucene42.Lucene42Codec\" /&gt;\n            &lt;provider classname=\"org.apache.lucene.codecs.lucene45.Lucene45Codec\" /&gt;\n            &lt;provider classname=\"org.apache.lucene.codecs.lucene46.Lucene46Codec\" /&gt;\n            &lt;provider classname=\"org.apache.lucene.codecs.lucene49.Lucene49Codec\" /&gt;\n            &lt;provider classname=\"org.apache.lucene.codecs.lucene410.Lucene410Codec\" /&gt;\n            &lt;provider classname=\"org.apache.lucene.codecs.lucene50.Lucene50Codec\" /&gt;\n        &lt;/service&gt;  \n    &lt;/jar&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>and this is the class.path that I used to add jar files inside my lib folder to classpath:</p>\n\n<pre><code>&lt;path id=\"class.path\"&gt;\n    &lt;fileset dir=\"lib\"&gt;\n        &lt;include name=\"**/*.jar\" /&gt;\n    &lt;/fileset&gt;\n</code></pre>\n\n<p>The problem is that the lucene-core package has it own \"org.apache.lucene.codecs.Codec\" file in META-INF/services and that overrides the one that I am trying to create in the 'service' section of the jar target in build file. exclude tag that can be seen in build.xml does not work, neither does the exclude property on zipgroupfileset. Any help would be really appreciated.</p>\n"},{"tags":["java","kotlin","bouncycastle","gnupg","pgp"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1558358991,"post_id":56157995,"comment_id":99064465,"body_markdown":"What are you trying to do, and what is your question?","body":"What are you trying to do, and what is your question?"},{"owner":{"account_id":6020653,"reputation":855,"user_id":4727842,"accept_rate":84,"display_name":"Grayden Hormes"},"score":0,"creation_date":1558461117,"post_id":56157995,"comment_id":99106368,"body_markdown":"@JamesKPolk I am trying to encrypt files with pgp. I am unable to provide a public key that bouncy castle will accept as outlined above.","body":"@JamesKPolk I am trying to encrypt files with pgp. I am unable to provide a public key that bouncy castle will accept as outlined above."}],"answers":[{"tags":[],"owner":{"account_id":10228564,"reputation":570,"user_id":7550201,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581456296,"creation_date":1581456296,"answer_id":60177587,"question_id":56157995,"body_markdown":"If you just want to do proper en-/decryption use [bouncy-gpg][1] (shameless plug: I am the author).\n\nAlso do not use 3DES, it is dead Slow and not the most modern algorithm (though it is still considered secure, AFAIK).\n\nYou export the public key via `gpg --export -a me@example.com`.\n\nYou manage keys using the `InMemoryKeyring` (see [here][2] for details):\n\n&lt;!-- language: java --&gt;\n\n    public static KeyringConfig keyringConfigInMemoryForKeys(final String exportedPubKey, final String exportedPrivateKey, final String passphrase) throws IOException, PGPException {\n\n       final InMemoryKeyring keyring = KeyringConfigs.forGpgExportedKeys(KeyringConfigCallbacks.withPassword(passphrase);\n\n           keyring.addPublicKey(exportedPubKey.getBytes(&quot;US-ASCII&quot;));\n    // you can add many more public keys\n\n           // if you only want to encrypt you do not need a private key and can ignore this line\n    keyring.addSecretKey(exportedPrivateKey.getBytes(&quot;US-ASCII&quot;));\n    // you can add many more private keys\n\n    return keyring;\n    }\n\n\n    final String original_message = &quot;I love deadlines. I like the whooshing sound they make as they fly by. Douglas Adams&quot;;\n\n    // Most likely you will use  one of the KeyringConfigs.... methods.\n    KeyringConfig keyringConfigOfSender = keyringConfigInMemoryForKeys(..); // TODO - here comes your code to get keys\n\n    ByteArrayOutputStream result = new ByteArrayOutputStream();\n\n    try (\n        BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(result);\n\n        final OutputStream outputStream = BouncyGPG\n            .encryptToStream()\n            .withConfig(keyringConfigOfSender)\n            .withStrongAlgorithms()\n            .toRecipients(&quot;recipient@example.com&quot;, &quot;sender@example.com&quot;) // TODO - also your job to set the recipients \n            .andSignWith(&quot;sender@example.com&quot;) // TODO - same here\n            .binaryOutput()\n            .andWriteTo(bufferedOutputStream);\n        // Maybe read a file or a webservice?\n        final ByteArrayInputStream is = new ByteArrayInputStream(original_message.getBytes())\n    ) {\n      Streams.pipeAll(is, outputStream);\n    // It is very important that outputStream is closed before the result stream is read.\n    // The reason is that GPG writes the signature at the end of the stream.\n    // This is triggered by closing the stream.\n    // In this example outputStream is closed via the try-with-resources mechanism of Java\n    }\n\n    result.close();\n    byte[] chipertext = result.toByteArray();\n\n\n\n  [1]: https://github.com/neuhalje/bouncy-gpg &quot;bouncy-gpg&quot;\n  [2]: https://github.com/neuhalje/bouncy-gpg/blob/master/README.md#recommendation-inmemorykeyring","title":"bouncy castle open gpg2 public key","body":"<p>If you just want to do proper en-/decryption use <a href=\"https://github.com/neuhalje/bouncy-gpg\" rel=\"nofollow noreferrer\" title=\"bouncy-gpg\">bouncy-gpg</a> (shameless plug: I am the author).</p>\n\n<p>Also do not use 3DES, it is dead Slow and not the most modern algorithm (though it is still considered secure, AFAIK).</p>\n\n<p>You export the public key via <code>gpg --export -a me@example.com</code>.</p>\n\n<p>You manage keys using the <code>InMemoryKeyring</code> (see <a href=\"https://github.com/neuhalje/bouncy-gpg/blob/master/README.md#recommendation-inmemorykeyring\" rel=\"nofollow noreferrer\">here</a> for details):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static KeyringConfig keyringConfigInMemoryForKeys(final String exportedPubKey, final String exportedPrivateKey, final String passphrase) throws IOException, PGPException {\n\n   final InMemoryKeyring keyring = KeyringConfigs.forGpgExportedKeys(KeyringConfigCallbacks.withPassword(passphrase);\n\n       keyring.addPublicKey(exportedPubKey.getBytes(\"US-ASCII\"));\n// you can add many more public keys\n\n       // if you only want to encrypt you do not need a private key and can ignore this line\nkeyring.addSecretKey(exportedPrivateKey.getBytes(\"US-ASCII\"));\n// you can add many more private keys\n\nreturn keyring;\n}\n\n\nfinal String original_message = \"I love deadlines. I like the whooshing sound they make as they fly by. Douglas Adams\";\n\n// Most likely you will use  one of the KeyringConfigs.... methods.\nKeyringConfig keyringConfigOfSender = keyringConfigInMemoryForKeys(..); // TODO - here comes your code to get keys\n\nByteArrayOutputStream result = new ByteArrayOutputStream();\n\ntry (\n    BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(result);\n\n    final OutputStream outputStream = BouncyGPG\n        .encryptToStream()\n        .withConfig(keyringConfigOfSender)\n        .withStrongAlgorithms()\n        .toRecipients(\"recipient@example.com\", \"sender@example.com\") // TODO - also your job to set the recipients \n        .andSignWith(\"sender@example.com\") // TODO - same here\n        .binaryOutput()\n        .andWriteTo(bufferedOutputStream);\n    // Maybe read a file or a webservice?\n    final ByteArrayInputStream is = new ByteArrayInputStream(original_message.getBytes())\n) {\n  Streams.pipeAll(is, outputStream);\n// It is very important that outputStream is closed before the result stream is read.\n// The reason is that GPG writes the signature at the end of the stream.\n// This is triggered by closing the stream.\n// In this example outputStream is closed via the try-with-resources mechanism of Java\n}\n\nresult.close();\nbyte[] chipertext = result.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15457133,"reputation":185,"user_id":11150851,"display_name":"vanitasvitae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649095026,"creation_date":1649095026,"answer_id":71741737,"question_id":56157995,"body_markdown":"You can use [PGPainless](https://github.com/pgpainless/pgpainless) for that (another shameless plug - Author here as well :P):\r\n\r\n```java\r\n        // Prepare keys\r\n        // Required by the sender\r\n        PGPSecretKeyRing keyAlice = PGPainless.readKeyRing().secretKeyRing(ALICE_KEY);\r\n        PGPPublicKeyRing certificateBob = PGPainless.readKeyRing().publicKeyRing(BOB_CERT);\r\n        SecretKeyRingProtector protectorAlice = SecretKeyRingProtector.unprotectedKeys();\r\n\r\n        // Required by the recipient\r\n        PGPSecretKeyRing keyBob = PGPainless.readKeyRing().secretKeyRing(BOB_KEY);\r\n        PGPPublicKeyRing certificateAlice = PGPainless.readKeyRing().publicKeyRing(ALICE_CERT);\r\n        SecretKeyRingProtector protectorBob = SecretKeyRingProtector.unprotectedKeys();\r\n\r\n        // plaintext message to encrypt\r\n        String message = &quot;Hello, World!\\n&quot;;\r\n        ByteArrayOutputStream ciphertext = new ByteArrayOutputStream();\r\n        // Encrypt and sign\r\n        EncryptionStream encryptor = PGPainless.encryptAndOrSign()\r\n                .onOutputStream(ciphertext)\r\n                .withOptions(ProducerOptions.signAndEncrypt(\r\n                        // we want to encrypt communication (affects key selection based on key flags)\r\n                        EncryptionOptions.encryptCommunications()\r\n                                .addRecipient(certificateBob)\r\n                                .addRecipient(certificateAlice),\r\n                        new SigningOptions()\r\n                                .addInlineSignature(protectorAlice, keyAlice, DocumentSignatureType.CANONICAL_TEXT_DOCUMENT)\r\n                        ).setAsciiArmor(true)\r\n                );\r\n\r\n        // Pipe data trough and CLOSE the stream (important)\r\n        Streams.pipeAll(new ByteArrayInputStream(message.getBytes(StandardCharsets.UTF_8)), encryptor);\r\n        encryptor.close();\r\n\r\n        // Encrypted message\r\n        String encryptedMessage = ciphertext.toString();\r\n\r\n        // Decrypt and verify signatures\r\n        DecryptionStream decryptor = PGPainless.decryptAndOrVerify()\r\n                .onInputStream(new ByteArrayInputStream(encryptedMessage.getBytes(StandardCharsets.UTF_8)))\r\n                .withOptions(new ConsumerOptions()\r\n                        .addDecryptionKey(keyBob, protectorBob)\r\n                        .addVerificationCert(certificateAlice)\r\n                );\r\n\r\n        ByteArrayOutputStream plaintext = new ByteArrayOutputStream();\r\n\r\n        Streams.pipeAll(decryptor, plaintext);\r\n        decryptor.close();\r\n\r\n        // Check the metadata to see how the message was encrypted/signed\r\n        OpenPgpMetadata metadata = decryptor.getResult();\r\n        assertTrue(metadata.isEncrypted());\r\n        assertTrue(metadata.containsVerifiedSignatureFrom(certificateAlice));\r\n        assertEquals(message, plaintext.toString());\r\n```\r\n\r\nAnd if you want it even simpler, PGPainless provides a SOP (Stateless OpenPGP Protocol) API via [pgpainless-sop](https://github.com/pgpainless/pgpainless/tree/master/pgpainless-sop):\r\n\r\n```java\r\nSOP sop = new SOPImpl();\r\n        \r\n// Generate an OpenPGP key - Alternatively just read existing (unencrypted) key from disk\r\nbyte[] key = sop.generateKey()\r\n        .userId(&quot;Alice &lt;alice@example.org&gt;&quot;)\r\n        .generate()\r\n        .getBytes();\r\n\r\n// Extract the certificate (public key) - alternatively just read certificate from disk\r\nbyte[] cert = sop.extractCert()\r\n        .key(key)\r\n        .getBytes();\r\n\r\n// Encrypt a message\r\nbyte[] message = ...\r\nbyte[] encrypted = sop.encrypt()\r\n        .withCert(cert)\r\n        .signWith(key)\r\n        .plaintext(message)\r\n        .getBytes();\r\n\r\n// Decrypt a message\r\nByteArrayAndResult&lt;DecryptionResult&gt; messageAndVerifications = sop.decrypt()\r\n        .verifyWith(cert)\r\n        .withKey(key)\r\n        .ciphertext(encrypted)\r\n        .toByteArrayAndResult();\r\nbyte[] decrypted = messageAndVerifications.getBytes();\r\n// Signature Verifications\r\nDecryptionResult messageInfo = messageAndVerifications.getResult();\r\nList&lt;Verification&gt; signatureVerifications = messageInfo.getVerifications();\r\n```","title":"bouncy castle open gpg2 public key","body":"<p>You can use <a href=\"https://github.com/pgpainless/pgpainless\" rel=\"nofollow noreferrer\">PGPainless</a> for that (another shameless plug - Author here as well :P):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        // Prepare keys\n        // Required by the sender\n        PGPSecretKeyRing keyAlice = PGPainless.readKeyRing().secretKeyRing(ALICE_KEY);\n        PGPPublicKeyRing certificateBob = PGPainless.readKeyRing().publicKeyRing(BOB_CERT);\n        SecretKeyRingProtector protectorAlice = SecretKeyRingProtector.unprotectedKeys();\n\n        // Required by the recipient\n        PGPSecretKeyRing keyBob = PGPainless.readKeyRing().secretKeyRing(BOB_KEY);\n        PGPPublicKeyRing certificateAlice = PGPainless.readKeyRing().publicKeyRing(ALICE_CERT);\n        SecretKeyRingProtector protectorBob = SecretKeyRingProtector.unprotectedKeys();\n\n        // plaintext message to encrypt\n        String message = &quot;Hello, World!\\n&quot;;\n        ByteArrayOutputStream ciphertext = new ByteArrayOutputStream();\n        // Encrypt and sign\n        EncryptionStream encryptor = PGPainless.encryptAndOrSign()\n                .onOutputStream(ciphertext)\n                .withOptions(ProducerOptions.signAndEncrypt(\n                        // we want to encrypt communication (affects key selection based on key flags)\n                        EncryptionOptions.encryptCommunications()\n                                .addRecipient(certificateBob)\n                                .addRecipient(certificateAlice),\n                        new SigningOptions()\n                                .addInlineSignature(protectorAlice, keyAlice, DocumentSignatureType.CANONICAL_TEXT_DOCUMENT)\n                        ).setAsciiArmor(true)\n                );\n\n        // Pipe data trough and CLOSE the stream (important)\n        Streams.pipeAll(new ByteArrayInputStream(message.getBytes(StandardCharsets.UTF_8)), encryptor);\n        encryptor.close();\n\n        // Encrypted message\n        String encryptedMessage = ciphertext.toString();\n\n        // Decrypt and verify signatures\n        DecryptionStream decryptor = PGPainless.decryptAndOrVerify()\n                .onInputStream(new ByteArrayInputStream(encryptedMessage.getBytes(StandardCharsets.UTF_8)))\n                .withOptions(new ConsumerOptions()\n                        .addDecryptionKey(keyBob, protectorBob)\n                        .addVerificationCert(certificateAlice)\n                );\n\n        ByteArrayOutputStream plaintext = new ByteArrayOutputStream();\n\n        Streams.pipeAll(decryptor, plaintext);\n        decryptor.close();\n\n        // Check the metadata to see how the message was encrypted/signed\n        OpenPgpMetadata metadata = decryptor.getResult();\n        assertTrue(metadata.isEncrypted());\n        assertTrue(metadata.containsVerifiedSignatureFrom(certificateAlice));\n        assertEquals(message, plaintext.toString());\n</code></pre>\n<p>And if you want it even simpler, PGPainless provides a SOP (Stateless OpenPGP Protocol) API via <a href=\"https://github.com/pgpainless/pgpainless/tree/master/pgpainless-sop\" rel=\"nofollow noreferrer\">pgpainless-sop</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SOP sop = new SOPImpl();\n        \n// Generate an OpenPGP key - Alternatively just read existing (unencrypted) key from disk\nbyte[] key = sop.generateKey()\n        .userId(&quot;Alice &lt;alice@example.org&gt;&quot;)\n        .generate()\n        .getBytes();\n\n// Extract the certificate (public key) - alternatively just read certificate from disk\nbyte[] cert = sop.extractCert()\n        .key(key)\n        .getBytes();\n\n// Encrypt a message\nbyte[] message = ...\nbyte[] encrypted = sop.encrypt()\n        .withCert(cert)\n        .signWith(key)\n        .plaintext(message)\n        .getBytes();\n\n// Decrypt a message\nByteArrayAndResult&lt;DecryptionResult&gt; messageAndVerifications = sop.decrypt()\n        .verifyWith(cert)\n        .withKey(key)\n        .ciphertext(encrypted)\n        .toByteArrayAndResult();\nbyte[] decrypted = messageAndVerifications.getBytes();\n// Signature Verifications\nDecryptionResult messageInfo = messageAndVerifications.getResult();\nList&lt;Verification&gt; signatureVerifications = messageInfo.getVerifications();\n</code></pre>\n"}],"owner":{"account_id":6020653,"reputation":855,"user_id":4727842,"accept_rate":84,"display_name":"Grayden Hormes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1931,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1649095026,"creation_date":1557956377,"question_id":56157995,"body_markdown":"I tried to implement the solution here https://stackoverflow.com/a/33216302/4727842. My code looks like this\r\n\r\n    private fun readPublicKey(input: InputStream): PGPPublicKey {\r\n        val publicKey = PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(input), BcKeyFingerprintCalculator())\r\n        var key: PGPPublicKey? = null\r\n\r\n        publicKey.keyRings.forEach { ring: PGPPublicKeyRing -&gt;\r\n            ring.publicKeys.forEach { k: PGPPublicKey -&gt;\r\n                if (k.isEncryptionKey) {\r\n                    key = k\r\n                }\r\n            }\r\n        }\r\n\r\n        if (key == null) {\r\n            throw IllegalArgumentException(&quot;Can&#39;t find encryption key input key ring.&quot;)\r\n        } else {\r\n            return key!!\r\n        }\r\n    }\r\n\r\n    private fun encrypt(file: File): String {\r\n        val input = IOUtils.toInputStream(&quot;pub.asc&quot;, &quot;UTF-8&quot;)\r\n        val key = readPublicKey(input)\r\n\r\n        Security.addProvider(BouncyCastleProvider())\r\n\r\n        val out = ByteArrayOutputStream()\r\n        val compressor = PGPCompressedDataGenerator(PGPCompressedData.ZIP)\r\n\r\n        PGPUtil.writeFileToLiteralData(compressor.open(out), PGPLiteralData.BINARY, file)\r\n        compressor.close()\r\n\r\n        val builder = BcPGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.TRIPLE_DES)\r\n        val generator = PGPEncryptedDataGenerator(builder.setSecureRandom(SecureRandom()))\r\n\r\n        generator.addMethod(BcPublicKeyKeyEncryptionMethodGenerator(key))\r\n\r\n        return String(out.toByteArray())\r\n    }\r\n\r\nUsing the gpg cli (v2.2.15), after generating a key, I output the asc file.\r\n\r\n`gpg -ab -o ./pub.asc`\r\n\r\nits contents look like this\r\n\r\n    -----BEGIN PGP SIGNATURE-----\r\n    \r\n    iQEzBAABCAAdFiEEpjyVE0VY1bLTdOo7wzVyPJ8SXFIFAlzbRfQACgkQwzVyPJ8S\r\n    XFKtjwgAp1ad9jFxKtsbzR4XT4HqypTPxpwY8raoIeXNg2PMDAFXGqmcRmP4NEBO\r\n    BYqalHAxrzXKVPcmKHtYnm7Jb91VLcYycsF+9RM53mwhg2YJhv49xROx8IsJuhVG\r\n    8X52nhPc+qQtzE/79FPDgiZNKSnrHUDvPU3rrZH44WPsGQJ9iGy0eoJPomuU29Cb\r\n    wWYxOHq8fRmL5h5Pi9mU1dJRZvHej8ewt0DpredY//7Er7xjCKHrFyzddSn1sGtv\r\n    QvoOP+1pLNCV/LKAgCz2N2vSOToLqYTuQlrO/kNApnza0+lO0GW4RMf0OJntbSIa\r\n    MHDa+/uc9YnyABkptxD2a9DsbvHwvg==\r\n    =QeFf\r\n    -----END PGP SIGNATURE-----\r\n\r\nThen with the line \r\n\r\n`val input = IOUtils.toInputStream(&quot;pub.asc&quot;, &quot;UTF-8&quot;)`\r\n\r\nI attempted to run. It output the message `&quot;Can&#39;t find encryption key input key ring.&quot;` after failing to extract a key. After debugging I saw that `publicKey.keyRings` size was `0`.\r\n\r\nI didn&#39;t understand the situation since the linked guide seems to advocate using the `.asc` file for encrypting when I thought it was for signing. I don&#39;t know much about PGP but I thought those were different steps and that maybe signing was not necessary for my use case. \r\n\r\nSo, I tried exporting the public key\r\n\r\n`gpg --export -a &quot;User&quot; &gt; public.key`\r\n\r\ncontaining\r\n\r\n    -----BEGIN PGP PUBLIC KEY BLOCK-----\r\n\r\n    mQENBFzaBaIBCACngN7Zu5ZKKJuwlp9/iYLleIbYqTm1mxIVEsCiiksLTwbKIo2M\r\n    d7YeFDjJRPoKS94bt0FaRUV7cKwXTvqdVg0OITkTLE446TrMhi6Yz9InxkO1yC2l\r\n    RfVIZJgOfFBFTwiqx5HpPMmgHnpyzYESiwkNXR7mVIbIX4/5r+NOjMH/ioBSAd80\r\n    FV8Yl7k72B6gpbD/CEV6iR+uWlL99Bv6aYtbubCUEieY0KZyk998TFlatrtHvhDQ\r\n    ftVHYS4EsrnvlwtVD8QLbnYA2WsX6xVqpz8KHZ5LzXLys4D64sHZ5BkD3aX8Jp5s\r\n    iCpOb6rU4wdlD7gDJb1a1ks613C8Qj5/KHN1ABEBAAG0J0dyYXlkZW4gSG9ybWVz\r\n    IDxncmF5ZGVuLmhvcm1lc0BzYXAuY29tPokBVAQTAQgAPhYhBKY8lRNFWNWy03Tq\r\n    O8M1cjyfElxSBQJc2gWiAhsDBQkDwmcABQsJCAcCBhUKCQgLAgQWAgMBAh4BAheA\r\n    AAoJEMM1cjyfElxS2H0H/0O37sJfcNC2UFeuwoGqPMV4+3dN6sejpWBvQCw8OuGv\r\n    lDQmPUpEbBHs3awI83XlpYBbAKaDcJlIHPugM6CKGNWOL8RhL+ziJoGX1/Cldc5M\r\n    NHToNwU78/LE9Eog6oiC/VELnLP2qMRGK9+6sSYy7kz4zVPRzGjjD3t2uSxpoclO\r\n    LnF7Iqm6W+j2OIHACgBeqjjv4hgH4bJjXuixuPSxRLNp0dQ6PU8fj+xRjJudJWS6\r\n    hx3PM8/NZvoDruqEWjoTJW96S7askitImtcSw90kMbTpw/knZhpNeCJMQPF8jLUo\r\n    ZSbuC+8EukzuJ1mNxS9S0M1IX4psKEUttBYya+SoX/C5AQ0EXNoFogEIALk9vHyO\r\n    sXeqHEXeRsCHDyfOtFJlUFQvtkf3dwyyg4hVQq2vYTVyO+couxpgmCCrCzSNdlwK\r\n    Salh7Wejf+U+Erx8RzGJ764uyIlw/1B2qlGFgdWPaRWHtufQiUz6RNtWEhsBuddI\r\n    lbWxMOvbA3wfkFAIl+NQ8Aqqd8N9ao7mrXcADF7hRMtM+TllFJjxpNJeCWxwfeDf\r\n    EMM6totFf9CyD+Q0Zq6zyVFhgLiMuLPX4LsRMBKHGrg0LyyRQgDEezI1WH25YeAT\r\n    El8YJriEV4PcXQGnrsfkKbvsnNkXFb3nRlANuKlnHgBrSLE9Tqm4XuwG+czdGJuU\r\n    p0eyoxv4vrCGCgMAEQEAAYkBPAQYAQgAJhYhBKY8lRNFWNWy03TqO8M1cjyfElxS\r\n    BQJc2gWiAhsMBQkDwmcAAAoJEMM1cjyfElxSRuwH/3RZ6Zs5K76GaakJh0H5uw3H\r\n    mqrQiVSh1PmcGO2qRZuDrGDOiJWnOCnl48t71DgqjyABPAYsYzIhZXltA6lYVCI5\r\n    68HmUyfOHyeoZa6t35YM3A6S3jsIHRSQgu98R/1VK5EksQnGTrYwsa3gUQy+7BbN\r\n    F88+jRhEKnBYOABQ+M29pkx8zvH9UdrHWMTu2h5tb70volDSQzsdN9KX4EHoAto3\r\n    jP3janjIzYohBXM+FFte9HIOndwJ0RsZ5UD8lx8EmKh4DCUw3JxHagHOvdXopAAM\r\n    j+bUVTlu72LmvcsiNAKg7UicIuprKyHxDkSeelgEQt7Iz+6w3WL9djvL3hG3cks=\r\n    =9i+0\r\n    -----END PGP PUBLIC KEY BLOCK-----\r\n\r\nand ran with \r\n\r\n`val input = IOUtils.toInputStream(&quot;public.key&quot;, &quot;UTF-8&quot;)`\r\n\r\nThis yielded no change. bouncycastle found no keys in my public key file. I then saw that since I am using gpg2 there are differences in how key rings are handled. I found a solution to convert a `.pkr` to a `.kbx` here https://stackoverflow.com/a/34221494/4727842 but at this point this has become woefully complicated. I don&#39;t know the difference between a public key ring and a public key. I don&#39;t know why the first example used a `.asc` file as a suposedly valid keyring. I especially don&#39;t know why it is so hard to create a bouncycastle `PGPPublicKey` object from my `public.key` file.","title":"bouncy castle open gpg2 public key","body":"<p>I tried to implement the solution here <a href=\"https://stackoverflow.com/a/33216302/4727842\">https://stackoverflow.com/a/33216302/4727842</a>. My code looks like this</p>\n\n<pre><code>private fun readPublicKey(input: InputStream): PGPPublicKey {\n    val publicKey = PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(input), BcKeyFingerprintCalculator())\n    var key: PGPPublicKey? = null\n\n    publicKey.keyRings.forEach { ring: PGPPublicKeyRing -&gt;\n        ring.publicKeys.forEach { k: PGPPublicKey -&gt;\n            if (k.isEncryptionKey) {\n                key = k\n            }\n        }\n    }\n\n    if (key == null) {\n        throw IllegalArgumentException(\"Can't find encryption key input key ring.\")\n    } else {\n        return key!!\n    }\n}\n\nprivate fun encrypt(file: File): String {\n    val input = IOUtils.toInputStream(\"pub.asc\", \"UTF-8\")\n    val key = readPublicKey(input)\n\n    Security.addProvider(BouncyCastleProvider())\n\n    val out = ByteArrayOutputStream()\n    val compressor = PGPCompressedDataGenerator(PGPCompressedData.ZIP)\n\n    PGPUtil.writeFileToLiteralData(compressor.open(out), PGPLiteralData.BINARY, file)\n    compressor.close()\n\n    val builder = BcPGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.TRIPLE_DES)\n    val generator = PGPEncryptedDataGenerator(builder.setSecureRandom(SecureRandom()))\n\n    generator.addMethod(BcPublicKeyKeyEncryptionMethodGenerator(key))\n\n    return String(out.toByteArray())\n}\n</code></pre>\n\n<p>Using the gpg cli (v2.2.15), after generating a key, I output the asc file.</p>\n\n<p><code>gpg -ab -o ./pub.asc</code></p>\n\n<p>its contents look like this</p>\n\n<pre><code>-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEpjyVE0VY1bLTdOo7wzVyPJ8SXFIFAlzbRfQACgkQwzVyPJ8S\nXFKtjwgAp1ad9jFxKtsbzR4XT4HqypTPxpwY8raoIeXNg2PMDAFXGqmcRmP4NEBO\nBYqalHAxrzXKVPcmKHtYnm7Jb91VLcYycsF+9RM53mwhg2YJhv49xROx8IsJuhVG\n8X52nhPc+qQtzE/79FPDgiZNKSnrHUDvPU3rrZH44WPsGQJ9iGy0eoJPomuU29Cb\nwWYxOHq8fRmL5h5Pi9mU1dJRZvHej8ewt0DpredY//7Er7xjCKHrFyzddSn1sGtv\nQvoOP+1pLNCV/LKAgCz2N2vSOToLqYTuQlrO/kNApnza0+lO0GW4RMf0OJntbSIa\nMHDa+/uc9YnyABkptxD2a9DsbvHwvg==\n=QeFf\n-----END PGP SIGNATURE-----\n</code></pre>\n\n<p>Then with the line </p>\n\n<p><code>val input = IOUtils.toInputStream(\"pub.asc\", \"UTF-8\")</code></p>\n\n<p>I attempted to run. It output the message <code>\"Can't find encryption key input key ring.\"</code> after failing to extract a key. After debugging I saw that <code>publicKey.keyRings</code> size was <code>0</code>.</p>\n\n<p>I didn't understand the situation since the linked guide seems to advocate using the <code>.asc</code> file for encrypting when I thought it was for signing. I don't know much about PGP but I thought those were different steps and that maybe signing was not necessary for my use case. </p>\n\n<p>So, I tried exporting the public key</p>\n\n<p><code>gpg --export -a \"User\" &gt; public.key</code></p>\n\n<p>containing</p>\n\n<pre><code>-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nmQENBFzaBaIBCACngN7Zu5ZKKJuwlp9/iYLleIbYqTm1mxIVEsCiiksLTwbKIo2M\nd7YeFDjJRPoKS94bt0FaRUV7cKwXTvqdVg0OITkTLE446TrMhi6Yz9InxkO1yC2l\nRfVIZJgOfFBFTwiqx5HpPMmgHnpyzYESiwkNXR7mVIbIX4/5r+NOjMH/ioBSAd80\nFV8Yl7k72B6gpbD/CEV6iR+uWlL99Bv6aYtbubCUEieY0KZyk998TFlatrtHvhDQ\nftVHYS4EsrnvlwtVD8QLbnYA2WsX6xVqpz8KHZ5LzXLys4D64sHZ5BkD3aX8Jp5s\niCpOb6rU4wdlD7gDJb1a1ks613C8Qj5/KHN1ABEBAAG0J0dyYXlkZW4gSG9ybWVz\nIDxncmF5ZGVuLmhvcm1lc0BzYXAuY29tPokBVAQTAQgAPhYhBKY8lRNFWNWy03Tq\nO8M1cjyfElxSBQJc2gWiAhsDBQkDwmcABQsJCAcCBhUKCQgLAgQWAgMBAh4BAheA\nAAoJEMM1cjyfElxS2H0H/0O37sJfcNC2UFeuwoGqPMV4+3dN6sejpWBvQCw8OuGv\nlDQmPUpEbBHs3awI83XlpYBbAKaDcJlIHPugM6CKGNWOL8RhL+ziJoGX1/Cldc5M\nNHToNwU78/LE9Eog6oiC/VELnLP2qMRGK9+6sSYy7kz4zVPRzGjjD3t2uSxpoclO\nLnF7Iqm6W+j2OIHACgBeqjjv4hgH4bJjXuixuPSxRLNp0dQ6PU8fj+xRjJudJWS6\nhx3PM8/NZvoDruqEWjoTJW96S7askitImtcSw90kMbTpw/knZhpNeCJMQPF8jLUo\nZSbuC+8EukzuJ1mNxS9S0M1IX4psKEUttBYya+SoX/C5AQ0EXNoFogEIALk9vHyO\nsXeqHEXeRsCHDyfOtFJlUFQvtkf3dwyyg4hVQq2vYTVyO+couxpgmCCrCzSNdlwK\nSalh7Wejf+U+Erx8RzGJ764uyIlw/1B2qlGFgdWPaRWHtufQiUz6RNtWEhsBuddI\nlbWxMOvbA3wfkFAIl+NQ8Aqqd8N9ao7mrXcADF7hRMtM+TllFJjxpNJeCWxwfeDf\nEMM6totFf9CyD+Q0Zq6zyVFhgLiMuLPX4LsRMBKHGrg0LyyRQgDEezI1WH25YeAT\nEl8YJriEV4PcXQGnrsfkKbvsnNkXFb3nRlANuKlnHgBrSLE9Tqm4XuwG+czdGJuU\np0eyoxv4vrCGCgMAEQEAAYkBPAQYAQgAJhYhBKY8lRNFWNWy03TqO8M1cjyfElxS\nBQJc2gWiAhsMBQkDwmcAAAoJEMM1cjyfElxSRuwH/3RZ6Zs5K76GaakJh0H5uw3H\nmqrQiVSh1PmcGO2qRZuDrGDOiJWnOCnl48t71DgqjyABPAYsYzIhZXltA6lYVCI5\n68HmUyfOHyeoZa6t35YM3A6S3jsIHRSQgu98R/1VK5EksQnGTrYwsa3gUQy+7BbN\nF88+jRhEKnBYOABQ+M29pkx8zvH9UdrHWMTu2h5tb70volDSQzsdN9KX4EHoAto3\njP3janjIzYohBXM+FFte9HIOndwJ0RsZ5UD8lx8EmKh4DCUw3JxHagHOvdXopAAM\nj+bUVTlu72LmvcsiNAKg7UicIuprKyHxDkSeelgEQt7Iz+6w3WL9djvL3hG3cks=\n=9i+0\n-----END PGP PUBLIC KEY BLOCK-----\n</code></pre>\n\n<p>and ran with </p>\n\n<p><code>val input = IOUtils.toInputStream(\"public.key\", \"UTF-8\")</code></p>\n\n<p>This yielded no change. bouncycastle found no keys in my public key file. I then saw that since I am using gpg2 there are differences in how key rings are handled. I found a solution to convert a <code>.pkr</code> to a <code>.kbx</code> here <a href=\"https://stackoverflow.com/a/34221494/4727842\">https://stackoverflow.com/a/34221494/4727842</a> but at this point this has become woefully complicated. I don't know the difference between a public key ring and a public key. I don't know why the first example used a <code>.asc</code> file as a suposedly valid keyring. I especially don't know why it is so hard to create a bouncycastle <code>PGPPublicKey</code> object from my <code>public.key</code> file.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1648993845,"post_id":71725979,"comment_id":126758364,"body_markdown":"What is your question, i dont understand","body":"What is your question, i dont understand"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1648994225,"post_id":71725979,"comment_id":126758467,"body_markdown":"Have you enabled spring security debug logs and checked the reason for the 403?","body":"Have you enabled spring security debug logs and checked the reason for the 403?"},{"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"score":0,"creation_date":1649011540,"post_id":71725979,"comment_id":126762541,"body_markdown":"@Toerktumlare added logs, there is rejection message","body":"@Toerktumlare added logs, there is rejection message"},{"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"score":0,"creation_date":1649013292,"post_id":71725979,"comment_id":126762903,"body_markdown":"@Toerktumlare it already work when I full commented  ```configure(HttpSecurity http)```, but how I can apply spring-security only to any endpoints?","body":"@Toerktumlare it already work when I full commented  <code>configure(HttpSecurity http)</code>, but how I can apply spring-security only to any endpoints?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1649017996,"post_id":71725979,"comment_id":126763818,"body_markdown":"what you are asking is basic spring security, please google a tutorial or read the getting started section of the spring security reference documentation.","body":"what you are asking is basic spring security, please google a tutorial or read the getting started section of the spring security reference documentation."}],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649094890,"creation_date":1649094890,"answer_id":71741708,"question_id":71725979,"body_markdown":"I believe you are missing an authentication mechanism in your filter chain (e.g. `http.httpBasic()`. Note that the `spring.security.basic.enabled` property is not the correct way to enable HTTP Basic in the latest version(s) of Spring Security.\r\n\r\nTake a look at the Hello Security sample&#39;s [SecurityConfiguration](https://github.com/spring-projects/spring-security-samples/blob/main/servlet/spring-boot/java/hello-security-explicit/src/main/java/example/SecurityConfiguration.java) and the [Getting Started](https://docs.spring.io/spring-security/reference/servlet/getting-started.html) section of the reference docs.","title":"Why endpoint does&#39;t response?","body":"<p>I believe you are missing an authentication mechanism in your filter chain (e.g. <code>http.httpBasic()</code>. Note that the <code>spring.security.basic.enabled</code> property is not the correct way to enable HTTP Basic in the latest version(s) of Spring Security.</p>\n<p>Take a look at the Hello Security sample's <a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/servlet/spring-boot/java/hello-security-explicit/src/main/java/example/SecurityConfiguration.java\" rel=\"nofollow noreferrer\">SecurityConfiguration</a> and the <a href=\"https://docs.spring.io/spring-security/reference/servlet/getting-started.html\" rel=\"nofollow noreferrer\">Getting Started</a> section of the reference docs.</p>\n"}],"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71741708,"answer_count":1,"score":-1,"last_activity_date":1649094890,"creation_date":1648989598,"question_id":71725979,"body_markdown":"I have spring security config with in-memory saved users. There is any rules for users, one of them is sa\\sa. There are couple controllers return Ok message if everything is okey(the endpoint is accessable) wher called get request by urls /test and /start\r\nSpring-security protecs only /test endpoint\r\nSpring-security config:\r\n\r\n  \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n      public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n      \r\n      @Override\r\n      protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n            .withUser(&quot;sa&quot;)\r\n            .password(&quot;{noop}sa&quot;)\r\n            .roles(&quot;USER&quot;, &quot;USER_ROLE&quot;)\r\n            .and()\r\n            .withUser(&quot;na&quot;)\r\n            .password(&quot;na&quot;)\r\n            .roles(&quot;USER&quot;, &quot;USER_ROLE&quot;);\r\n      }\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/test&quot;).hasAnyRole(&quot;ROLE_USER&quot;, &quot;USER&quot;, &quot;USER_ROLE&quot;)\r\n            .and()\r\n            .csrf().disable();\r\n      }\r\n      }\r\n\r\nYaml config:\r\n\r\n      spring:\r\n        datasource:\r\n          username: user\r\n          password: user\r\n          driverClassName: org.h2.Driver\r\n        security:\r\n          basic:\r\n            enabled: true\r\n\r\nSo, when I send get request by postman to /start - it&#39;s return response ok, if try to call /test - there is no access.\r\nI use postman like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, the question is, why I can&#39;t to get reponse from /test endpoint(can&#39;t access to this url) ?\r\n\r\nError logs with rejection\r\n\r\n&gt; 2022-04-03 21:43:19.854 DEBUG 8872 --- [nio-8080-exec-2]\r\n&gt; o.s.s.w.s.HttpSessionRequestCache        : Saved request\r\n&gt; http://localhost:8080/test to session 2022-04-03 21:43:19.854 DEBUG\r\n&gt; 8872 --- [nio-8080-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     :\r\n&gt; Pre-authenticated entry point called. Rejecting access 2022-04-03\r\n&gt; 21:43:19.856 DEBUG 8872 --- [nio-8080-exec-2]\r\n&gt; w.c.HttpSessionSecurityContextRepository : Did not store empty\r\n&gt; SecurityContext 2022-04-03 21:43:19.857 DEBUG 8872 ---\r\n&gt; [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not\r\n&gt; store empty SecurityContext 2022-04-03 21:43:19.857 DEBUG 8872 ---\r\n&gt; [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared\r\n&gt; SecurityContextHolder to complete request\r\n\r\n  [1]: https://i.stack.imgur.com/WqiSP.png\r\n","title":"Why endpoint does&#39;t response?","body":"<p>I have spring security config with in-memory saved users. There is any rules for users, one of them is sa\\sa. There are couple controllers return Ok message if everything is okey(the endpoint is accessable) wher called get request by urls /test and /start\nSpring-security protecs only /test endpoint\nSpring-security config:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n  public class SecurityConfig extends WebSecurityConfigurerAdapter {\n  \n  @Override\n  protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.inMemoryAuthentication()\n        .withUser(&quot;sa&quot;)\n        .password(&quot;{noop}sa&quot;)\n        .roles(&quot;USER&quot;, &quot;USER_ROLE&quot;)\n        .and()\n        .withUser(&quot;na&quot;)\n        .password(&quot;na&quot;)\n        .roles(&quot;USER&quot;, &quot;USER_ROLE&quot;);\n  }\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n        .antMatchers(&quot;/test&quot;).hasAnyRole(&quot;ROLE_USER&quot;, &quot;USER&quot;, &quot;USER_ROLE&quot;)\n        .and()\n        .csrf().disable();\n  }\n  }\n</code></pre>\n<p>Yaml config:</p>\n<pre><code>  spring:\n    datasource:\n      username: user\n      password: user\n      driverClassName: org.h2.Driver\n    security:\n      basic:\n        enabled: true\n</code></pre>\n<p>So, when I send get request by postman to /start - it's return response ok, if try to call /test - there is no access.\nI use postman like this:</p>\n<p><a href=\"https://i.stack.imgur.com/WqiSP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WqiSP.png\" alt=\"enter image description here\" /></a></p>\n<p>So, the question is, why I can't to get reponse from /test endpoint(can't access to this url) ?</p>\n<p>Error logs with rejection</p>\n<blockquote>\n<p>2022-04-03 21:43:19.854 DEBUG 8872 --- [nio-8080-exec-2]\no.s.s.w.s.HttpSessionRequestCache        : Saved request\nhttp://localhost:8080/test to session 2022-04-03 21:43:19.854 DEBUG\n8872 --- [nio-8080-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     :\nPre-authenticated entry point called. Rejecting access 2022-04-03\n21:43:19.856 DEBUG 8872 --- [nio-8080-exec-2]\nw.c.HttpSessionSecurityContextRepository : Did not store empty\nSecurityContext 2022-04-03 21:43:19.857 DEBUG 8872 ---\n[nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not\nstore empty SecurityContext 2022-04-03 21:43:19.857 DEBUG 8872 ---\n[nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared\nSecurityContextHolder to complete request</p>\n</blockquote>\n"},{"tags":["java","loops","refactoring"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1649090932,"post_id":71740866,"comment_id":126783186,"body_markdown":"If you know what you want `i` to start at, when the loop should stop, and how `i` should change each iteration, you have all you need.","body":"If you know what you want <code>i</code> to start at, when the loop should stop, and how <code>i</code> should change each iteration, you have all you need."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1649091026,"post_id":71740866,"comment_id":126783227,"body_markdown":"What are you doing that requires counting backwards?","body":"What are you doing that requires counting backwards?"}],"answers":[{"tags":[],"owner":{"account_id":24316385,"reputation":28,"user_id":18257495,"display_name":"Daniel Truman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649094831,"creation_date":1649094831,"answer_id":71741692,"question_id":71740866,"body_markdown":"If all you want to do is reverse the loop output, you can just invert what you&#39;re doing in the for loop\r\n\r\n    for (int i = 2; i&gt;=0; i--){\r\n            System.out.println(i);\r\n        }\r\n    \r\n    output:\r\n    2\r\n    1\r\n    0\r\n\r\n\r\n\r\nAs a quick example.","title":"Reverse loop TicTacToe","body":"<p>If all you want to do is reverse the loop output, you can just invert what you're doing in the for loop</p>\n<pre><code>for (int i = 2; i&gt;=0; i--){\n        System.out.println(i);\n    }\n\noutput:\n2\n1\n0\n</code></pre>\n<p>As a quick example.</p>\n"}],"owner":{"account_id":24824592,"reputation":11,"user_id":18704548,"display_name":"Dartweiler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71741692,"answer_count":1,"score":0,"last_activity_date":1649094831,"creation_date":1649090790,"question_id":71740866,"body_markdown":"I&#39;ve got loop:\r\n\r\n    for (int i = 0; i&lt;3; i++){\r\n      System.out.println(i);\r\n    }\r\n\r\n    output:\r\n    0\r\n    1\r\n    2\r\n\r\n\r\n\r\nI need to reverse this loop to output:\r\n\r\n    2\r\n    1\r\n    0\r\n\r\nI need it because I work on TicTacToe Java game.\r\n\r\nHere is my code for check win:\r\n\r\n\r\n\r\n     static boolean checkWin(char dot) {\r\n            for (int i = 0; i &lt; map.length; i++) {\r\n                for (int j = 0; j &lt; map[i].length; j++) {\r\n                    if (map[0][i] == dot &amp;&amp; i == 2) {\r\n                        return true;\r\n                    }\r\n                    if (map[1][i] == dot &amp;&amp; i == 2) {\r\n                        return true;\r\n                    }\r\n    \r\n                    if (map[2][i] == dot &amp;&amp; i == 2) {\r\n                        return true;\r\n                    }\r\n                    if (map[i][0] == dot &amp;&amp; i == 2) {\r\n                        return true;\r\n                    }\r\n                    if (map[i][1] == dot &amp;&amp; i == 2) {\r\n                        return true;\r\n                    }\r\n                    if (map[i][2] == dot &amp;&amp; i == 2) {\r\n                        return true;\r\n                    }\r\n                    if (map[i][i] == dot &amp;&amp; i == 2) {\r\n                        return true;\r\n                    }\r\n                    if (map[i][0] == dot &amp;&amp; i == 2) {\r\n                        return true;\r\n                    }\r\n                }\r\n    \r\n            }\r\n            return false;\r\n        }\r\n\r\n\r\nlast thing that I need to refactor this method:\r\n\r\n\r\n      static boolean checkWin(char dot) {\r\n            if (map[0][0] == dot &amp;&amp; map[0][1] == dot &amp;&amp; map[0][2] == dot) {\r\n                return true;\r\n            }\r\n            if (map[1][0] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[1][2] == dot) {\r\n                return true;\r\n            }\r\n            if (map[2][0] == dot &amp;&amp; map[2][1] == dot &amp;&amp; map[2][2] == dot) {\r\n                return true;\r\n            }\r\n    \r\n            if (map[0][0] == dot &amp;&amp; map[1][0] == dot &amp;&amp; map[2][0] == dot) {\r\n                return true;\r\n            }\r\n            if (map[0][1] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][1] == dot) {\r\n                return true;\r\n            }\r\n            if (map[0][2] == dot &amp;&amp; map[1][2] == dot &amp;&amp; map[2][2] == dot) {\r\n                return true;\r\n            }\r\n    \r\n            if (map[0][0] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][2] == dot) {\r\n                return true;\r\n            }\r\n            if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) {\r\n                return true;\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    }\r\n\r\nI almost done it.\r\n\r\nLast thing that i need refactor this part of code:\r\n\r\n    if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) {\r\n       return true;\r\n    }\r\n\r\nto something like\r\n\r\n      if (map[i][0] == dot &amp;&amp; i == 2) {\r\n              return true;\r\n        }\r\n\r\nMain question is here:\r\n\r\n    for (int i = 0; i&lt;3; i++){\r\n      System.out.println(i);\r\n    }\r\n    \r\n    output:\r\n    0\r\n    1\r\n    2\r\n\r\n\r\nI need to reverse this loop to output:\r\n\r\n    2\r\n    1\r\n    0\r\n\r\nto feel this last part:\r\n\r\n      if (map[i][0] == dot &amp;&amp; i == 2) {\r\n              return true;\r\n     }\r\n\r\n\r\ni need to feel this last condition with values 2 1 0\r\n\r\n      if (map[i][insert here] == dot &amp;&amp; i == 2) {\r\n              return true;\r\n     }\r\n\r\n\r\nPlease Help.\r\n\r\n","title":"Reverse loop TicTacToe","body":"<p>I've got loop:</p>\n<pre><code>for (int i = 0; i&lt;3; i++){\n  System.out.println(i);\n}\n\noutput:\n0\n1\n2\n</code></pre>\n<p>I need to reverse this loop to output:</p>\n<pre><code>2\n1\n0\n</code></pre>\n<p>I need it because I work on TicTacToe Java game.</p>\n<p>Here is my code for check win:</p>\n<pre><code> static boolean checkWin(char dot) {\n        for (int i = 0; i &lt; map.length; i++) {\n            for (int j = 0; j &lt; map[i].length; j++) {\n                if (map[0][i] == dot &amp;&amp; i == 2) {\n                    return true;\n                }\n                if (map[1][i] == dot &amp;&amp; i == 2) {\n                    return true;\n                }\n\n                if (map[2][i] == dot &amp;&amp; i == 2) {\n                    return true;\n                }\n                if (map[i][0] == dot &amp;&amp; i == 2) {\n                    return true;\n                }\n                if (map[i][1] == dot &amp;&amp; i == 2) {\n                    return true;\n                }\n                if (map[i][2] == dot &amp;&amp; i == 2) {\n                    return true;\n                }\n                if (map[i][i] == dot &amp;&amp; i == 2) {\n                    return true;\n                }\n                if (map[i][0] == dot &amp;&amp; i == 2) {\n                    return true;\n                }\n            }\n\n        }\n        return false;\n    }\n</code></pre>\n<p>last thing that I need to refactor this method:</p>\n<pre><code>  static boolean checkWin(char dot) {\n        if (map[0][0] == dot &amp;&amp; map[0][1] == dot &amp;&amp; map[0][2] == dot) {\n            return true;\n        }\n        if (map[1][0] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[1][2] == dot) {\n            return true;\n        }\n        if (map[2][0] == dot &amp;&amp; map[2][1] == dot &amp;&amp; map[2][2] == dot) {\n            return true;\n        }\n\n        if (map[0][0] == dot &amp;&amp; map[1][0] == dot &amp;&amp; map[2][0] == dot) {\n            return true;\n        }\n        if (map[0][1] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][1] == dot) {\n            return true;\n        }\n        if (map[0][2] == dot &amp;&amp; map[1][2] == dot &amp;&amp; map[2][2] == dot) {\n            return true;\n        }\n\n        if (map[0][0] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][2] == dot) {\n            return true;\n        }\n        if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) {\n            return true;\n        }\n\n        return false;\n    }\n}\n</code></pre>\n<p>I almost done it.</p>\n<p>Last thing that i need refactor this part of code:</p>\n<pre><code>if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) {\n   return true;\n}\n</code></pre>\n<p>to something like</p>\n<pre><code>  if (map[i][0] == dot &amp;&amp; i == 2) {\n          return true;\n    }\n</code></pre>\n<p>Main question is here:</p>\n<pre><code>for (int i = 0; i&lt;3; i++){\n  System.out.println(i);\n}\n\noutput:\n0\n1\n2\n</code></pre>\n<p>I need to reverse this loop to output:</p>\n<pre><code>2\n1\n0\n</code></pre>\n<p>to feel this last part:</p>\n<pre><code>  if (map[i][0] == dot &amp;&amp; i == 2) {\n          return true;\n }\n</code></pre>\n<p>i need to feel this last condition with values 2 1 0</p>\n<pre><code>  if (map[i][insert here] == dot &amp;&amp; i == 2) {\n          return true;\n }\n</code></pre>\n<p>Please Help.</p>\n"},{"tags":["java","spring-boot","rest","resttemplate"],"comments":[{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":1,"creation_date":1649096568,"post_id":71741684,"comment_id":126785026,"body_markdown":"I think you can handle that if you try/catch around this call:  `coverArt = restTemplate.getForObject` in your `fetchCoverArtImageUrl` method.  My suspicion is that you&#39;re not just missing albums that throw a 404, you&#39;re missing all the albums after the first to throw a 404. (i.e. you&#39;re handling the exception outside the loop, and you need to catch it inside the loop)","body":"I think you can handle that if you try/catch around this call:  <code>coverArt = restTemplate.getForObject</code> in your <code>fetchCoverArtImageUrl</code> method.  My suspicion is that you&#39;re not just missing albums that throw a 404, you&#39;re missing all the albums after the first to throw a 404. (i.e. you&#39;re handling the exception outside the loop, and you need to catch it inside the loop)"},{"owner":{"account_id":17491358,"reputation":132,"user_id":12683457,"display_name":"Ruthless"},"score":0,"creation_date":1649098682,"post_id":71741684,"comment_id":126785673,"body_markdown":"Thank you , now it seems to include all albums even with the ones that throw 404!","body":"Thank you , now it seems to include all albums even with the ones that throw 404!"},{"owner":{"account_id":17491358,"reputation":132,"user_id":12683457,"display_name":"Ruthless"},"score":0,"creation_date":1649098932,"post_id":71741684,"comment_id":126785748,"body_markdown":"Now it seems as if the ones that return 404 get the imageUrl of the previous album that returned 200, how do I make these values null?","body":"Now it seems as if the ones that return 404 get the imageUrl of the previous album that returned 200, how do I make these values null?"}],"owner":{"account_id":17491358,"reputation":132,"user_id":12683457,"display_name":"Ruthless"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649094802,"creation_date":1649094802,"question_id":71741684,"body_markdown":"I am using resttemplate to access an external api, this is my service class :\r\n\r\n    @Service\r\n    @Configurable\r\n    public class MusicBrainzService {\r\n    \r\n      private final String ARTIST_URL = &quot;http://musicbrainz.org/ws/2/artist/&quot;;\r\n      private final String PARAMS_URL = &quot;?&amp;fmt=json&amp;inc=release-groups&quot;;\r\n      private Artist artist;\r\n      private Album album;\r\n      private RestTemplate restTemplate;\r\n      private List&lt;Album&gt; oldAlbumList;\r\n      private List&lt;Album&gt; newAlbumList;\r\n      private List&lt;Image&gt; images;\r\n    \r\n      @Autowired\r\n      private CoverArtService coverArtService;\r\n    \r\n    \r\n      public Artist fetchArtist(String mbid) {\r\n    \r\n        restTemplate = HttpRequestFactoryService.createRestTemplate();\r\n        artist = restTemplate.getForObject(ARTIST_URL + mbid + PARAMS_URL, Artist.class);\r\n    \r\n        oldAlbumList = artist.getAlbums();\r\n        System.out.println(oldAlbumList.size());\r\n        newAlbumList = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n        try {\r\n          for (int i = 0; i &lt; oldAlbumList.size(); i++) {\r\n            album = oldAlbumList.get(i);\r\n            images = coverArtService.fetchCoverArtImageUrl(album.getId().toString());\r\n            album.setImages(images);\r\n            newAlbumList.add(album);\r\n          }\r\n       } catch (final HttpClientErrorException e) {\r\n            System.out.println(e.getStatusCode() + &quot;|&quot; +  album.getId().toString());\r\n        }\r\n        artist.setAlbums(newAlbumList);\r\n    \r\n        System.out.println(newAlbumList.size());\r\n    \r\n        return artist;\r\n      }\r\n    }\r\n\r\nAnd my CoverArtService : \r\n\r\n    @Service\r\n    @Configurable\r\n    public class CoverArtService {\r\n    \r\n      private final String COVER_ART_URL = &quot;http://coverartarchive.org/release-group/&quot;;\r\n      private RestTemplate restTemplate;\r\n      private CoverArt coverArt;\r\n    \r\n    \r\n      public List&lt;Image&gt; fetchCoverArtImageUrl(String mbid) {\r\n    \r\n        restTemplate = HttpRequestFactoryService.createRestTemplate();\r\n    \r\n        coverArt = restTemplate.getForObject(COVER_ART_URL + mbid, CoverArt.class);\r\n    \r\n        List&lt;Image&gt; images = coverArt.getImages();\r\n    \r\n        return images;\r\n      }\r\n\r\nMy Album entity : \r\n\r\n      private UUID id;\r\n      private String title;\r\n      @JsonProperty(&quot;first-release-date&quot;)\r\n      private String firstReleaseDate;\r\n      private List&lt;Image&gt; images;\r\n    \r\n      public Album() {\r\n      }\r\n    \r\n      public Album(UUID id, String title, String firstReleaseDate, List&lt;Image&gt; images) {\r\n        this.id = id;\r\n        this.title = title;\r\n        this.firstReleaseDate = firstReleaseDate;\r\n        this.images = images;\r\n      }\r\n      \r\n      //Getters and setters..\r\n    \r\n\r\nMy CoverArt entity : \r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class CoverArt {\r\n    \r\n      private List&lt;Image&gt; images;\r\n    \r\n      public CoverArt() {\r\n      }\r\n    \r\n      public CoverArt(List&lt;Image&gt; images) {\r\n        this.images = images;\r\n      }\r\n    \r\n    //Getters and setters\r\n\r\nMy Image entity : \r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Image {\r\n    \r\n      @JsonProperty(&quot;image&quot;)\r\n      private String imageURL;\r\n    \r\n      public Image() {\r\n      }\r\n    \r\n      public Image(String imageURL) {\r\n        this.imageURL = imageURL;\r\n    }\r\n    \r\n    //Getters and setters..\r\n\r\nSome of the images don&#39;t have valid image urls, on these I want to return null as imageUrl. \r\nHowever , an exception is thrown when response is 404, I fixed this by adding a try catch block.\r\n\r\nBut it seems as if the albums who don&#39;t have a valid image url gets removed from the list.\r\nI don&#39;t want to remove them, I simply want to set the imageUrl to null whenever the exception is thrown, is this possible? \r\n\r\n","title":"Catch block removing objects from list on 404 responses","body":"<p>I am using resttemplate to access an external api, this is my service class :</p>\n<pre><code>@Service\n@Configurable\npublic class MusicBrainzService {\n\n  private final String ARTIST_URL = &quot;http://musicbrainz.org/ws/2/artist/&quot;;\n  private final String PARAMS_URL = &quot;?&amp;fmt=json&amp;inc=release-groups&quot;;\n  private Artist artist;\n  private Album album;\n  private RestTemplate restTemplate;\n  private List&lt;Album&gt; oldAlbumList;\n  private List&lt;Album&gt; newAlbumList;\n  private List&lt;Image&gt; images;\n\n  @Autowired\n  private CoverArtService coverArtService;\n\n\n  public Artist fetchArtist(String mbid) {\n\n    restTemplate = HttpRequestFactoryService.createRestTemplate();\n    artist = restTemplate.getForObject(ARTIST_URL + mbid + PARAMS_URL, Artist.class);\n\n    oldAlbumList = artist.getAlbums();\n    System.out.println(oldAlbumList.size());\n    newAlbumList = new ArrayList&lt;&gt;();\n\n\n    try {\n      for (int i = 0; i &lt; oldAlbumList.size(); i++) {\n        album = oldAlbumList.get(i);\n        images = coverArtService.fetchCoverArtImageUrl(album.getId().toString());\n        album.setImages(images);\n        newAlbumList.add(album);\n      }\n   } catch (final HttpClientErrorException e) {\n        System.out.println(e.getStatusCode() + &quot;|&quot; +  album.getId().toString());\n    }\n    artist.setAlbums(newAlbumList);\n\n    System.out.println(newAlbumList.size());\n\n    return artist;\n  }\n}\n</code></pre>\n<p>And my CoverArtService :</p>\n<pre><code>@Service\n@Configurable\npublic class CoverArtService {\n\n  private final String COVER_ART_URL = &quot;http://coverartarchive.org/release-group/&quot;;\n  private RestTemplate restTemplate;\n  private CoverArt coverArt;\n\n\n  public List&lt;Image&gt; fetchCoverArtImageUrl(String mbid) {\n\n    restTemplate = HttpRequestFactoryService.createRestTemplate();\n\n    coverArt = restTemplate.getForObject(COVER_ART_URL + mbid, CoverArt.class);\n\n    List&lt;Image&gt; images = coverArt.getImages();\n\n    return images;\n  }\n</code></pre>\n<p>My Album entity :</p>\n<pre><code>  private UUID id;\n  private String title;\n  @JsonProperty(&quot;first-release-date&quot;)\n  private String firstReleaseDate;\n  private List&lt;Image&gt; images;\n\n  public Album() {\n  }\n\n  public Album(UUID id, String title, String firstReleaseDate, List&lt;Image&gt; images) {\n    this.id = id;\n    this.title = title;\n    this.firstReleaseDate = firstReleaseDate;\n    this.images = images;\n  }\n  \n  //Getters and setters..\n</code></pre>\n<p>My CoverArt entity :</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CoverArt {\n\n  private List&lt;Image&gt; images;\n\n  public CoverArt() {\n  }\n\n  public CoverArt(List&lt;Image&gt; images) {\n    this.images = images;\n  }\n\n//Getters and setters\n</code></pre>\n<p>My Image entity :</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Image {\n\n  @JsonProperty(&quot;image&quot;)\n  private String imageURL;\n\n  public Image() {\n  }\n\n  public Image(String imageURL) {\n    this.imageURL = imageURL;\n}\n\n//Getters and setters..\n</code></pre>\n<p>Some of the images don't have valid image urls, on these I want to return null as imageUrl.\nHowever , an exception is thrown when response is 404, I fixed this by adding a try catch block.</p>\n<p>But it seems as if the albums who don't have a valid image url gets removed from the list.\nI don't want to remove them, I simply want to set the imageUrl to null whenever the exception is thrown, is this possible?</p>\n"},{"tags":["java","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":8606921,"reputation":1580,"user_id":6446770,"accept_rate":100,"display_name":"miiiii"},"score":0,"creation_date":1649049140,"post_id":71732111,"comment_id":126768441,"body_markdown":"I think, if you use `onChange` then you have to use JavaScript to toggle/control the `&lt;options&gt;` list. Thymeleaf can do this only if you re-render the HTML via server for every `Change` that is responsible for affecting the `&lt;options&gt;` list.\n\nIn short, `onChange` looks useless to me, if not rendering via server.","body":"I think, if you use <code>onChange</code> then you have to use JavaScript to toggle/control the <code>&lt;options&gt;</code> list. Thymeleaf can do this only if you re-render the HTML via server for every <code>Change</code> that is responsible for affecting the <code>&lt;options&gt;</code> list.  In short, <code>onChange</code> looks useless to me, if not rendering via server."},{"owner":{"account_id":24600356,"reputation":15,"user_id":18503314,"display_name":"FeliksB"},"score":0,"creation_date":1649049904,"post_id":71732111,"comment_id":126768599,"body_markdown":"So for example which JS function should i use?","body":"So for example which JS function should i use?"},{"owner":{"account_id":8606921,"reputation":1580,"user_id":6446770,"accept_rate":100,"display_name":"miiiii"},"score":1,"creation_date":1649050061,"post_id":71732111,"comment_id":126768639,"body_markdown":"That depends on what condition you want to filter the list. And its way of handling in pure JS is quite dirty too.","body":"That depends on what condition you want to filter the list. And its way of handling in pure JS is quite dirty too."}],"owner":{"account_id":24600356,"reputation":15,"user_id":18503314,"display_name":"FeliksB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649094737,"creation_date":1649047201,"question_id":71732111,"body_markdown":"I am trying to modify the option in Thymeleaf so that the table can show me only selected item, after clicking the option. Here is my code: \r\n\r\n```html\r\n &lt;th&gt;\r\n &lt;select th:onchange=&quot;???&quot; id=&quot;stateSelect&quot; class=&quot;form-control&quot; th:field=&quot;*{receiverType}&quot;&gt;\r\n       &lt;option th:value=&#39;NULL&#39;&gt;All aggregators&lt;/option&gt;\r\n       &lt;option th:each=&quot;receiverType : ${receiverTypes}&quot;\r\n               th:value=&quot;${receiverType}&quot;\r\n               th:text=&quot;${receiverType}&quot;&gt;\r\n       &lt;/option&gt;\r\n    &lt;/select&gt;\r\n&lt;/th&gt;\r\n```\r\nI know that i should use `onchange` , but i am confused.\r\n","title":"How can i display only selected options in Thymeleaf","body":"<p>I am trying to modify the option in Thymeleaf so that the table can show me only selected item, after clicking the option. Here is my code:</p>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;th&gt;\n &lt;select th:onchange=&quot;???&quot; id=&quot;stateSelect&quot; class=&quot;form-control&quot; th:field=&quot;*{receiverType}&quot;&gt;\n       &lt;option th:value='NULL'&gt;All aggregators&lt;/option&gt;\n       &lt;option th:each=&quot;receiverType : ${receiverTypes}&quot;\n               th:value=&quot;${receiverType}&quot;\n               th:text=&quot;${receiverType}&quot;&gt;\n       &lt;/option&gt;\n    &lt;/select&gt;\n&lt;/th&gt;\n</code></pre>\n<p>I know that i should use <code>onchange</code> , but i am confused.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1649092208,"post_id":71740948,"comment_id":126783639,"body_markdown":"You need to include the input for people to give some practical insight.  See [mre].","body":"You need to include the input for people to give some practical insight.  See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":2,"creation_date":1649092310,"post_id":71740948,"comment_id":126783671,"body_markdown":"There are two problems: A. You are reading a new `searchValue` on every iteration of the search loop. You presumably wanted to read only 1 and look through all the titles to find it. B. You are comparing `searchValue` (a String) to `BookID` (a String array). You wanted `searchValue.equals(BookID[c]))`","body":"There are two problems: A. You are reading a new <code>searchValue</code> on every iteration of the search loop. You presumably wanted to read only 1 and look through all the titles to find it. B. You are comparing <code>searchValue</code> (a String) to <code>BookID</code> (a String array). You wanted <code>searchValue.equals(BookID[c]))</code>"},{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1649094822,"post_id":71740948,"comment_id":126784467,"body_markdown":"If possible, use a HashMap instead of linear search on an array.","body":"If possible, use a HashMap instead of linear search on an array."}],"answers":[{"tags":[],"owner":{"account_id":24254137,"reputation":1,"user_id":18204788,"display_name":"Olivier Vermette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649092014,"creation_date":1649092014,"answer_id":71741096,"question_id":71740948,"body_markdown":"Try printing out the value of the bookId you wanna find to see if there anything with the string that could cause it to not be equals. Also, you could convert the string to an integer with:\r\n\r\nInteger.parseInt(&quot;BookId&quot;);  \r\n\r\nThe equals would have less chance of failing, you could also change de the array for an array of int instead of String.","title":"Java array linear search always returns &quot;Book is not found&quot;?","body":"<p>Try printing out the value of the bookId you wanna find to see if there anything with the string that could cause it to not be equals. Also, you could convert the string to an integer with:</p>\n<p>Integer.parseInt(&quot;BookId&quot;);</p>\n<p>The equals would have less chance of failing, you could also change de the array for an array of int instead of String.</p>\n"},{"tags":[],"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649094098,"creation_date":1649094098,"answer_id":71741541,"question_id":71740948,"body_markdown":"This code has some basic things right, but it could be a bit better. Some of the changes I made are for keeping Java conventions (so the code is easier to read and understand) and some are functional. I added them as comments.\r\n\r\n    \r\n    import java.util.Scanner;\r\n    public class Assignment {\r\n      public static void main (String[] args) \r\n      {\r\n         Scanner sc = new Scanner(System.in);\r\n         \r\n         String searchValue = &quot;&quot;;\r\n         String [] bookIDs = new String [3]; //lowercase for the attribute name (convention)\r\n         String [] bookTitles = new String [3]; //plural for the array (convention)\r\n    \r\n         //input the BookID    \r\n         System.out.println(&quot;Enter the Book ID&quot;);\r\n         for (int i = 0 ; i &lt; bookIDs.length; i++) { //you can re-use the i in all loops\r\n            System.out.print(&quot;Enter &quot; + i + &quot; Book ID: &quot;);\r\n            bookIDs[i] = sc.next();\r\n         }\r\n            \r\n         //Input the book title        \r\n         for (int i = 0 ; i &lt; bookTitles.length ; i++) {\r\n            System.out.print(&quot;Enter &quot; + i + &quot; Book title: &quot;);\r\n            bookTitles[i] = sc.next();\r\n         }\r\n    \r\n         //The Linear search on BookID\r\n         System.out.print(&quot;Enter Book ID to find: &quot;);\r\n         searchValue = sc.next(); //NOTE: this is your first mistake. read out of the loop\r\n         for(int i = 0; i &lt; bookIDs.length; i++) {\r\n            if(searchValue.equals(bookIDs[i])) { //NOTE: this is your second mistake - you wanted the array value, not the array\r\n                System.out.println(&quot;BookID is found in position &quot;+i);\r\n            \tbreak;  //suggestion - stop the loop when found.\r\n            }\r\n            else {\r\n                System.out.println(&quot;BookID is not found in position &quot;+i);\r\n            }\r\n         }\r\n         sc.close();  //NOTE: important to close scanners at the end.\r\n      }\r\n    }\r\n\r\nGood luck with your studies.","title":"Java array linear search always returns &quot;Book is not found&quot;?","body":"<p>This code has some basic things right, but it could be a bit better. Some of the changes I made are for keeping Java conventions (so the code is easier to read and understand) and some are functional. I added them as comments.</p>\n<pre><code>import java.util.Scanner;\npublic class Assignment {\n  public static void main (String[] args) \n  {\n     Scanner sc = new Scanner(System.in);\n     \n     String searchValue = &quot;&quot;;\n     String [] bookIDs = new String [3]; //lowercase for the attribute name (convention)\n     String [] bookTitles = new String [3]; //plural for the array (convention)\n\n     //input the BookID    \n     System.out.println(&quot;Enter the Book ID&quot;);\n     for (int i = 0 ; i &lt; bookIDs.length; i++) { //you can re-use the i in all loops\n        System.out.print(&quot;Enter &quot; + i + &quot; Book ID: &quot;);\n        bookIDs[i] = sc.next();\n     }\n        \n     //Input the book title        \n     for (int i = 0 ; i &lt; bookTitles.length ; i++) {\n        System.out.print(&quot;Enter &quot; + i + &quot; Book title: &quot;);\n        bookTitles[i] = sc.next();\n     }\n\n     //The Linear search on BookID\n     System.out.print(&quot;Enter Book ID to find: &quot;);\n     searchValue = sc.next(); //NOTE: this is your first mistake. read out of the loop\n     for(int i = 0; i &lt; bookIDs.length; i++) {\n        if(searchValue.equals(bookIDs[i])) { //NOTE: this is your second mistake - you wanted the array value, not the array\n            System.out.println(&quot;BookID is found in position &quot;+i);\n            break;  //suggestion - stop the loop when found.\n        }\n        else {\n            System.out.println(&quot;BookID is not found in position &quot;+i);\n        }\n     }\n     sc.close();  //NOTE: important to close scanners at the end.\n  }\n}\n</code></pre>\n<p>Good luck with your studies.</p>\n"}],"owner":{"account_id":24824642,"reputation":11,"user_id":18704598,"display_name":"Hazrul Alif"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649094513,"creation_date":1649091262,"question_id":71740948,"body_markdown":"When I insert the arguments the search always returns &quot;not found&quot; -  even though the searched value was input into the array?\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class assignment {\r\n  public static void main (String[]   args) \r\n  {\r\n     Scanner sc = new Scanner(System.in);\r\n     \r\n     String searchValue = &quot;&quot;;\r\n     String [] BookID = new String [3];\r\n     String [] Booktitle = new String [3];\r\n\r\n//input the BookID    \r\n     System.out.println(&quot;Enter the 12 BookID&quot;);\r\n     for (int a = 0 ; a &lt; BookID.length; a++)\r\n        {\r\n        System.out.print(&quot;BookID :&quot;);\r\n        BookID[a] = sc.next();\r\n        }\r\n        \r\n//Input the book title        \r\n     for (int b = 0 ; b &lt; Booktitle.length ; b++)\r\n        {\r\n        System.out.print(&quot;Booktitle :&quot;);\r\n        Booktitle[b] = sc.next();\r\n        }\r\n\r\n//The Linear search on BookID\r\n     System.out.print(&quot;Enter BookID to find :&quot;);\r\n     for(int c = 0; c &lt; BookID.length; c++)\r\n        {\r\n        searchValue = sc.next();\r\n        if(searchValue.equals(BookID))\r\n            System.out.print(&quot;BookID is found : &quot;);\r\n        else \r\n            System.out.print(&quot;BookID is not found : &quot;);\r\n        }\r\n        \r\n}\r\n}\r\n     \r\n     \r\n```\r\nI&#39;m expecting the result to return like so: if input BookID 112. The Linear search would return &quot;The BookID is found :&quot; instead of the else statement.","title":"Java array linear search always returns &quot;Book is not found&quot;?","body":"<p>When I insert the arguments the search always returns &quot;not found&quot; -  even though the searched value was input into the array?</p>\n<pre><code>import java.util.Scanner;\npublic class assignment {\n  public static void main (String[]   args) \n  {\n     Scanner sc = new Scanner(System.in);\n     \n     String searchValue = &quot;&quot;;\n     String [] BookID = new String [3];\n     String [] Booktitle = new String [3];\n\n//input the BookID    \n     System.out.println(&quot;Enter the 12 BookID&quot;);\n     for (int a = 0 ; a &lt; BookID.length; a++)\n        {\n        System.out.print(&quot;BookID :&quot;);\n        BookID[a] = sc.next();\n        }\n        \n//Input the book title        \n     for (int b = 0 ; b &lt; Booktitle.length ; b++)\n        {\n        System.out.print(&quot;Booktitle :&quot;);\n        Booktitle[b] = sc.next();\n        }\n\n//The Linear search on BookID\n     System.out.print(&quot;Enter BookID to find :&quot;);\n     for(int c = 0; c &lt; BookID.length; c++)\n        {\n        searchValue = sc.next();\n        if(searchValue.equals(BookID))\n            System.out.print(&quot;BookID is found : &quot;);\n        else \n            System.out.print(&quot;BookID is not found : &quot;);\n        }\n        \n}\n}\n     \n     \n</code></pre>\n<p>I'm expecting the result to return like so: if input BookID 112. The Linear search would return &quot;The BookID is found :&quot; instead of the else statement.</p>\n"},{"tags":["java","maven","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1649090990,"post_id":71739990,"comment_id":126783208,"body_markdown":"Are you including RESTEasy  or the MicroProfile Config API and SmallRye Config in your WAR by chance?","body":"Are you including RESTEasy  or the MicroProfile Config API and SmallRye Config in your WAR by chance?"},{"owner":{"account_id":3775541,"reputation":4682,"user_id":3136474,"accept_rate":83,"display_name":"Dinei"},"score":0,"creation_date":1649094133,"post_id":71739990,"comment_id":126784255,"body_markdown":"I don&#39;t think so @JamesR.Perkins. We have `org.jboss.resteasy:resteasy-client` as `provided` scope. However I&#39;m talking to coworkers that informed me that recently we had a migration of some servers to Wildfly 26, so this may be related to my issue.","body":"I don&#39;t think so @JamesR.Perkins. We have <code>org.jboss.resteasy:resteasy-client</code> as <code>provided</code> scope. However I&#39;m talking to coworkers that informed me that recently we had a migration of some servers to Wildfly 26, so this may be related to my issue."}],"answers":[{"tags":[],"owner":{"account_id":3775541,"reputation":4682,"user_id":3136474,"accept_rate":83,"display_name":"Dinei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649094388,"creation_date":1649094388,"answer_id":71741595,"question_id":71739990,"body_markdown":"Upgrading to Wildfly 26.0.1 solved the issue.\r\n\r\nTurns out I was trying to deploy in Wildfly 23 but the application was already upgraded to Wildfly 26 by other team: they changed the maven package `org.wildfly.bom:wildfly-jakartaee8` to version `26.0.1.Final`.\r\n\r\nProbably related to the new features added to MicroProfile in Wildfly [24](https://www.wildfly.org/news/2021/06/17/WildFly24-Final-Released/), [25](https://www.wildfly.org/news/2021/10/05/WildFly25-Final-Released/) or [26](https://www.wildfly.org/news/2021/12/16/WildFly26-Final-Released/).","title":"Wildfly deploy error: WFLYCTL0062: Composite operation failed and was rolled back. ConfigSource: ServletConfigSource not a subtype","body":"<p>Upgrading to Wildfly 26.0.1 solved the issue.</p>\n<p>Turns out I was trying to deploy in Wildfly 23 but the application was already upgraded to Wildfly 26 by other team: they changed the maven package <code>org.wildfly.bom:wildfly-jakartaee8</code> to version <code>26.0.1.Final</code>.</p>\n<p>Probably related to the new features added to MicroProfile in Wildfly <a href=\"https://www.wildfly.org/news/2021/06/17/WildFly24-Final-Released/\" rel=\"nofollow noreferrer\">24</a>, <a href=\"https://www.wildfly.org/news/2021/10/05/WildFly25-Final-Released/\" rel=\"nofollow noreferrer\">25</a> or <a href=\"https://www.wildfly.org/news/2021/12/16/WildFly26-Final-Released/\" rel=\"nofollow noreferrer\">26</a>.</p>\n"}],"owner":{"account_id":3775541,"reputation":4682,"user_id":3136474,"accept_rate":83,"display_name":"Dinei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71741595,"answer_count":1,"score":0,"last_activity_date":1649094388,"creation_date":1649086705,"question_id":71739990,"body_markdown":"I have a Java application compiled using Maven (`mvn -U clean package` for what matter), which I deploy manually using the `jboss-cli.sh`:\r\n```console\r\n$ /usr/local/wildfly-23.0.2.Final/bin/jboss-cli.sh --connect --controller=localhost:9991 --command=&#39;deploy /usr/local/git/app/war-module/target/war-module.war --force&#39;\r\n```\r\n\r\nIt worked fine until last week, when it started showing this error:\r\n```console\r\n[standalone@localhost:9991 /] deploy /usr/local/git/app/war-module/target/war-module.war --force\r\n{&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-2&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;war-module.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\r\n    Caused by: org.jboss.weld.exceptions.DeploymentException\r\n    Caused by: javax.enterprise.event.ObserverException\r\n    Caused by: java.util.ServiceConfigurationError: org.eclipse.microprofile.config.spi.ConfigSource: org.jboss.resteasy.microprofile.config.ServletConfigSource not a subtype&quot;}}}}\r\n```\r\n\r\nLooking at the console log output, I found these lines:\r\n```log\r\nERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;war-module.war&quot;.WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;war-module.war&quot;.WeldStartService: Failed to start service\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at java.base/java.lang.Thread.run(Thread.java:832)\r\nCaused by: org.jboss.weld.exceptions.DeploymentException\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.events.AbstractDeploymentContainerEvent.fire(AbstractDeploymentContainerEvent.java:38)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.events.AfterDeploymentValidationImpl.fire(AfterDeploymentValidationImpl.java:28)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.WeldStartup.validateBeans(WeldStartup.java:505)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.WeldBootstrap.validateBeans(WeldBootstrap.java:93)\r\n        at org.jboss.as.weld@23.0.2.Final//org.jboss.as.weld.WeldStartService.start(WeldStartService.java:98)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n        ... 6 more\r\nCaused by: javax.enterprise.event.ObserverException\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n        at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:124)\r\n        at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:346)\r\n        at java.base/java.lang.Class.newInstance(Class.java:604)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.security.NewInstanceAction.run(NewInstanceAction.java:33)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.Exceptions.rethrowException(Exceptions.java:40)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.Exceptions.rethrowException(Exceptions.java:78)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:103)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.MethodInvocationStrategy$SimpleMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:168)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:330)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ExtensionObserverMethodImpl.sendEvent(ExtensionObserverMethodImpl.java:123)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:308)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:286)\r\n        at javax.enterprise.api//javax.enterprise.inject.spi.ObserverMethod.notify(ObserverMethod.java:124)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.util.Observers.notify(Observers.java:166)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverNotifier.notifySyncObservers(ObserverNotifier.java:285)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverNotifier.notify(ObserverNotifier.java:273)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:177)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:171)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:53)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.events.AbstractDeploymentContainerEvent.fire(AbstractDeploymentContainerEvent.java:35)\r\n        ... 12 more\r\nCaused by: java.util.ServiceConfigurationError: org.eclipse.microprofile.config.spi.ConfigSource: org.jboss.resteasy.microprofile.config.ServletConfigSource not a subtype\r\n        at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:591)\r\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1238)\r\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1266)\r\n        at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1301)\r\n        at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1386)\r\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfigBuilder.discoverSources(SmallRyeConfigBuilder.java:96)\r\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfig$ConfigSources.buildConfigSources(SmallRyeConfig.java:564)\r\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfig$ConfigSources.&lt;init&gt;(SmallRyeConfig.java:517)\r\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfig.&lt;init&gt;(SmallRyeConfig.java:68)\r\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfigBuilder.build(SmallRyeConfigBuilder.java:418)\r\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfigFactory$Default.getConfigFor(SmallRyeConfigFactory.java:59)\r\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfigProviderResolver.getConfig(SmallRyeConfigProviderResolver.java:76)\r\n        at deployment.war-module.war//org.eclipse.microprofile.config.ConfigProvider.getConfig(ConfigProvider.java:101)\r\n        at deployment.war-module.war//io.smallrye.config.inject.ConfigExtension.validate(ConfigExtension.java:147)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)\r\n        ... 26 more\r\n\r\n11:33:02,318 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ({&quot;deployment&quot; =&gt; &quot;war-module.war&quot;}) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;war-module.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\r\n    Caused by: org.jboss.weld.exceptions.DeploymentException\r\n    Caused by: javax.enterprise.event.ObserverException\r\n    Caused by: java.util.ServiceConfigurationError: org.eclipse.microprofile.config.spi.ConfigSource: org.jboss.resteasy.microprofile.config.ServletConfigSource not a subtype&quot;}}\r\n11:33:02,319 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment &quot;war-module.war&quot; was rolled back with the following failure message: \r\n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;war-module.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\r\n    Caused by: org.jboss.weld.exceptions.DeploymentException\r\n    Caused by: javax.enterprise.event.ObserverException\r\n    Caused by: java.util.ServiceConfigurationError: org.eclipse.microprofile.config.spi.ConfigSource: org.jboss.resteasy.microprofile.config.ServletConfigSource not a subtype&quot;}}\r\n```\r\n\r\nWildfly version 23.0.2, OpenJDK 14, targetting Java 11 in Maven&#39;s `pom.xml` using `maven-compiler-plugin` v3.8.1.\r\n\r\nAlready tried undeploying everything and deploying war again without `--force`, without success.","title":"Wildfly deploy error: WFLYCTL0062: Composite operation failed and was rolled back. ConfigSource: ServletConfigSource not a subtype","body":"<p>I have a Java application compiled using Maven (<code>mvn -U clean package</code> for what matter), which I deploy manually using the <code>jboss-cli.sh</code>:</p>\n<pre><code>$ /usr/local/wildfly-23.0.2.Final/bin/jboss-cli.sh --connect --controller=localhost:9991 --command='deploy /usr/local/git/app/war-module/target/war-module.war --force'\n</code></pre>\n<p>It worked fine until last week, when it started showing this error:</p>\n<pre><code>[standalone@localhost:9991 /] deploy /usr/local/git/app/war-module/target/war-module.war --force\n{&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-2&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;war-module.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\n    Caused by: org.jboss.weld.exceptions.DeploymentException\n    Caused by: javax.enterprise.event.ObserverException\n    Caused by: java.util.ServiceConfigurationError: org.eclipse.microprofile.config.spi.ConfigSource: org.jboss.resteasy.microprofile.config.ServletConfigSource not a subtype&quot;}}}}\n</code></pre>\n<p>Looking at the console log output, I found these lines:</p>\n<pre><code>ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;war-module.war&quot;.WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;war-module.war&quot;.WeldStartService: Failed to start service\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.base/java.lang.Thread.run(Thread.java:832)\nCaused by: org.jboss.weld.exceptions.DeploymentException\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.events.AbstractDeploymentContainerEvent.fire(AbstractDeploymentContainerEvent.java:38)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.events.AfterDeploymentValidationImpl.fire(AfterDeploymentValidationImpl.java:28)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.WeldStartup.validateBeans(WeldStartup.java:505)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.WeldBootstrap.validateBeans(WeldBootstrap.java:93)\n        at org.jboss.as.weld@23.0.2.Final//org.jboss.as.weld.WeldStartService.start(WeldStartService.java:98)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n        ... 6 more\nCaused by: javax.enterprise.event.ObserverException\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n        at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:124)\n        at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:346)\n        at java.base/java.lang.Class.newInstance(Class.java:604)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.security.NewInstanceAction.run(NewInstanceAction.java:33)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.Exceptions.rethrowException(Exceptions.java:40)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.Exceptions.rethrowException(Exceptions.java:78)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:103)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.MethodInvocationStrategy$SimpleMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:168)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:330)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ExtensionObserverMethodImpl.sendEvent(ExtensionObserverMethodImpl.java:123)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:308)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:286)\n        at javax.enterprise.api//javax.enterprise.inject.spi.ObserverMethod.notify(ObserverMethod.java:124)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.util.Observers.notify(Observers.java:166)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverNotifier.notifySyncObservers(ObserverNotifier.java:285)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverNotifier.notify(ObserverNotifier.java:273)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:177)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:171)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:53)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.bootstrap.events.AbstractDeploymentContainerEvent.fire(AbstractDeploymentContainerEvent.java:35)\n        ... 12 more\nCaused by: java.util.ServiceConfigurationError: org.eclipse.microprofile.config.spi.ConfigSource: org.jboss.resteasy.microprofile.config.ServletConfigSource not a subtype\n        at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:591)\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1238)\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1266)\n        at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1301)\n        at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1386)\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfigBuilder.discoverSources(SmallRyeConfigBuilder.java:96)\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfig$ConfigSources.buildConfigSources(SmallRyeConfig.java:564)\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfig$ConfigSources.&lt;init&gt;(SmallRyeConfig.java:517)\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfig.&lt;init&gt;(SmallRyeConfig.java:68)\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfigBuilder.build(SmallRyeConfigBuilder.java:418)\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfigFactory$Default.getConfigFor(SmallRyeConfigFactory.java:59)\n        at deployment.war-module.war//io.smallrye.config.SmallRyeConfigProviderResolver.getConfig(SmallRyeConfigProviderResolver.java:76)\n        at deployment.war-module.war//org.eclipse.microprofile.config.ConfigProvider.getConfig(ConfigProvider.java:101)\n        at deployment.war-module.war//io.smallrye.config.inject.ConfigExtension.validate(ConfigExtension.java:147)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n        at org.jboss.weld.core@3.1.6.Final//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)\n        ... 26 more\n\n11:33:02,318 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ({&quot;deployment&quot; =&gt; &quot;war-module.war&quot;}) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;war-module.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\n    Caused by: org.jboss.weld.exceptions.DeploymentException\n    Caused by: javax.enterprise.event.ObserverException\n    Caused by: java.util.ServiceConfigurationError: org.eclipse.microprofile.config.spi.ConfigSource: org.jboss.resteasy.microprofile.config.ServletConfigSource not a subtype&quot;}}\n11:33:02,319 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment &quot;war-module.war&quot; was rolled back with the following failure message: \n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;war-module.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\n    Caused by: org.jboss.weld.exceptions.DeploymentException\n    Caused by: javax.enterprise.event.ObserverException\n    Caused by: java.util.ServiceConfigurationError: org.eclipse.microprofile.config.spi.ConfigSource: org.jboss.resteasy.microprofile.config.ServletConfigSource not a subtype&quot;}}\n</code></pre>\n<p>Wildfly version 23.0.2, OpenJDK 14, targetting Java 11 in Maven's <code>pom.xml</code> using <code>maven-compiler-plugin</code> v3.8.1.</p>\n<p>Already tried undeploying everything and deploying war again without <code>--force</code>, without success.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":21496393,"reputation":49,"user_id":15841357,"display_name":"Ashmin Jayson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649094112,"creation_date":1649094112,"answer_id":71741545,"question_id":71741480,"body_markdown":"Since the method you defined is static, you could simply use `classname.multiplyArrays(a, b)` ; where *a* and *b* are the names of the variables in your driver method.","title":"Multiplying 2D arrays in Java","body":"<p>Since the method you defined is static, you could simply use <code>classname.multiplyArrays(a, b)</code> ; where <em>a</em> and <em>b</em> are the names of the variables in your driver method.</p>\n"}],"owner":{"account_id":24822830,"reputation":3,"user_id":18702977,"display_name":"Mar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71741545,"answer_count":1,"score":0,"last_activity_date":1649094112,"creation_date":1649093794,"question_id":71741480,"body_markdown":"I&#39;m having some trouble with the question below, not entirely sure if its write as I can&#39;t figure out how to call the method in the driver method to print the result.\r\n\r\n(Question) Create a Method with header:\r\n\r\n`public static int[][] multiplyArrays(int[][] a, int[][] b)`\r\n\r\nThe above method will multiply two 2D arrays referred to by a and b, and return a 2D array\r\nreference of `a &#215; b`. Multiplying two 2D array work on the following algebraic expression to\r\nfind out the resultant array: `result[i][j]= a[i][k] * b[k][j]`\r\n\r\nHint: In this case, inside the method, declare a 2D `int[][]` array reference variable and\r\ninstantiate it with a size of `a.length x b[0].length`. They complete the rest using the\r\nseries multiplication. This is an application of nested loop. The outermost loop will run from\r\n`0` to `N`. The middle loop will run for index `i` and the innermost one will run for index `j`.\r\n\r\nMy code so far:\r\n\r\n```java\r\npublic static int[][] multiplyArrays(int[][] a, int[][] b) {   \r\n  var aNumRows = a.length;\r\n  var aNumCols = a[0].length;\r\n  var bNumCols = b[0].length;\r\n  int[][] m = new int[aNumRows][bNumCols];\r\n  for (var r = 0; r &lt; aNumRows; ++r) {\r\n      for (var c = 0; c &lt; bNumCols; ++c) {\r\n          m[r][c] = 0;\r\n          for (var i = 0; i &lt; aNumCols; ++i) {\r\n              m[r][c] += a[r][i] * b[i][c];\r\n              System.out.printf(&quot;%3d&quot;,r, c);\r\n          }\r\n      }\r\n  }\r\n  return m;\r\n}\r\n```","title":"Multiplying 2D arrays in Java","body":"<p>I'm having some trouble with the question below, not entirely sure if its write as I can't figure out how to call the method in the driver method to print the result.</p>\n<p>(Question) Create a Method with header:</p>\n<p><code>public static int[][] multiplyArrays(int[][] a, int[][] b)</code></p>\n<p>The above method will multiply two 2D arrays referred to by a and b, and return a 2D array\nreference of <code>a  b</code>. Multiplying two 2D array work on the following algebraic expression to\nfind out the resultant array: <code>result[i][j]= a[i][k] * b[k][j]</code></p>\n<p>Hint: In this case, inside the method, declare a 2D <code>int[][]</code> array reference variable and\ninstantiate it with a size of <code>a.length x b[0].length</code>. They complete the rest using the\nseries multiplication. This is an application of nested loop. The outermost loop will run from\n<code>0</code> to <code>N</code>. The middle loop will run for index <code>i</code> and the innermost one will run for index <code>j</code>.</p>\n<p>My code so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[][] multiplyArrays(int[][] a, int[][] b) {   \n  var aNumRows = a.length;\n  var aNumCols = a[0].length;\n  var bNumCols = b[0].length;\n  int[][] m = new int[aNumRows][bNumCols];\n  for (var r = 0; r &lt; aNumRows; ++r) {\n      for (var c = 0; c &lt; bNumCols; ++c) {\n          m[r][c] = 0;\n          for (var i = 0; i &lt; aNumCols; ++i) {\n              m[r][c] += a[r][i] * b[i][c];\n              System.out.printf(&quot;%3d&quot;,r, c);\n          }\n      }\n  }\n  return m;\n}\n</code></pre>\n"},{"tags":["java","node.js","bouncycastle","pgp","openpgp"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1649094225,"post_id":71647126,"comment_id":126784292,"body_markdown":"Q: Could you specify exactly what &quot;openpgp package of node&quot; - and version - you&#39;re trying?  Q: More importantly: could you clarify exactly what you mean by &quot;there is some issue in decrypting the data&quot;???  Can you give any details about what BouncyCastle version you&#39;re using, and exactly how you&#39;re encrypting the data?","body":"Q: Could you specify exactly what &quot;openpgp package of node&quot; - and version - you&#39;re trying?  Q: More importantly: could you clarify exactly what you mean by &quot;there is some issue in decrypting the data&quot;???  Can you give any details about what BouncyCastle version you&#39;re using, and exactly how you&#39;re encrypting the data?"},{"owner":{"account_id":17684876,"reputation":17,"user_id":12837975,"display_name":"Renu Manhas"},"score":0,"creation_date":1649136951,"post_id":71647126,"comment_id":126792807,"body_markdown":"I am not using bouncy castle of java, I used openpgp package of nodejs and encrypted the data but when we try to decrypt the data using bouncy caslte then we are getting errors, may be it is because of the difference in package. Bouncy castle in java encrypts data in different way than the openpgp package in nodejs. So I am looking for a package which can encrypt the data in such a way that the encrypted data can be later decrypted by the bouncy castle in java.","body":"I am not using bouncy castle of java, I used openpgp package of nodejs and encrypted the data but when we try to decrypt the data using bouncy caslte then we are getting errors, may be it is because of the difference in package. Bouncy castle in java encrypts data in different way than the openpgp package in nodejs. So I am looking for a package which can encrypt the data in such a way that the encrypted data can be later decrypted by the bouncy castle in java."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1649175532,"post_id":71647126,"comment_id":126807359,"body_markdown":"You&#39;re being hopelessly vague.  Q: You&#39;re using [openpgp](https://www.npmjs.com/package/openpgp), correct? Q. How exactly did you encrypt the data?  Show us some code.  Q: How exactly are you decrypting the data?  Again: there are *many* possible reasons for &quot;incompatiblity&quot; (including something as simple as your choice of cipher).  Show us the relevant code.  Most important: Q: *WHAT EXACTLY ARE THE ERRORS???*  Please copy/paste the *EXACT ERROR TEXT* in your original post.","body":"You&#39;re being hopelessly vague.  Q: You&#39;re using <a href=\"https://www.npmjs.com/package/openpgp\" rel=\"nofollow noreferrer\">openpgp</a>, correct? Q. How exactly did you encrypt the data?  Show us some code.  Q: How exactly are you decrypting the data?  Again: there are <i>many</i> possible reasons for &quot;incompatiblity&quot; (including something as simple as your choice of cipher).  Show us the relevant code.  Most important: Q: <i>WHAT EXACTLY ARE THE ERRORS???</i>  Please copy/paste the <i>EXACT ERROR TEXT</i> in your original post."},{"owner":{"account_id":17684876,"reputation":17,"user_id":12837975,"display_name":"Renu Manhas"},"score":0,"creation_date":1652096874,"post_id":71647126,"comment_id":127515563,"body_markdown":"There is no such package in node which is compatible with bouncy castle of JAVA. The way of encryption is different in both. That is the reason, I was not able to decrypt.","body":"There is no such package in node which is compatible with bouncy castle of JAVA. The way of encryption is different in both. That is the reason, I was not able to decrypt."},{"owner":{"account_id":15457133,"reputation":185,"user_id":11150851,"display_name":"vanitasvitae"},"score":0,"creation_date":1654419082,"post_id":71647126,"comment_id":128082393,"body_markdown":"This is just wrong. BC and nodes openpgp package implement RFC4880, an open standard meant to ensure INTEROPERABILITY. If decryption doesn&#39;t work for you, then it is because you are using your libraries wrong. See https://tests.sequoia-pgp.org/ PGPainless is using BouncyCastle and is fine in terms of interoperability.","body":"This is just wrong. BC and nodes openpgp package implement RFC4880, an open standard meant to ensure INTEROPERABILITY. If decryption doesn&#39;t work for you, then it is because you are using your libraries wrong. See <a href=\"https://tests.sequoia-pgp.org/\" rel=\"nofollow noreferrer\">tests.sequoia-pgp.org</a> PGPainless is using BouncyCastle and is fine in terms of interoperability."}],"answers":[{"tags":[],"owner":{"account_id":15457133,"reputation":185,"user_id":11150851,"display_name":"vanitasvitae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649094001,"creation_date":1649094001,"answer_id":71741523,"question_id":71647126,"body_markdown":"Have you looked at [openpgpjs](https://github.com/openpgpjs/openpgpjs)?\r\n\r\nApologies if you mean that by &quot;openpgp package of node&quot;.","title":"pgp encryption in node js similar to bouncy castle","body":"<p>Have you looked at <a href=\"https://github.com/openpgpjs/openpgpjs\" rel=\"nofollow noreferrer\">openpgpjs</a>?</p>\n<p>Apologies if you mean that by &quot;openpgp package of node&quot;.</p>\n"}],"owner":{"account_id":17684876,"reputation":17,"user_id":12837975,"display_name":"Renu Manhas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1649094001,"creation_date":1648468777,"question_id":71647126,"body_markdown":"I am looking for a package in nodejs which can help in the encryption of data using the public key which has been generated using bouncy castle in java and the encrypted data will be decrypted in bouncy castle again.\r\nI already tried openpgp package of node, I am able to encrypt but it seems that there is some issue in decrypting the data in bouncy castle.\r\n\r\nI won&#39;t be able to provide any code for example, so apologies for that and thanks in advance.\r\n","title":"pgp encryption in node js similar to bouncy castle","body":"<p>I am looking for a package in nodejs which can help in the encryption of data using the public key which has been generated using bouncy castle in java and the encrypted data will be decrypted in bouncy castle again.\nI already tried openpgp package of node, I am able to encrypt but it seems that there is some issue in decrypting the data in bouncy castle.</p>\n<p>I won't be able to provide any code for example, so apologies for that and thanks in advance.</p>\n"},{"tags":["java","swing","user-interface","awt"],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1322636095,"creation_date":1322636095,"answer_id":8322210,"question_id":8322140,"body_markdown":"I think you can create multiple JPanels (or their extensions) place them in one container with CardLayout and switch cards when necessary.","title":"GUI Architecture and Design in Java (Swing)","body":"<p>I think you can create multiple JPanels (or their extensions) place them in one container with CardLayout and switch cards when necessary.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1322636729,"creation_date":1322636729,"answer_id":8322287,"question_id":8322140,"body_markdown":"Also consider the [ModelViewController][1] pattern, discussed [here][2].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Model-view-controller\r\n  [2]: https://stackoverflow.com/a/3072979/230513","title":"GUI Architecture and Design in Java (Swing)","body":"<p>Also consider the <a href=\"http://en.wikipedia.org/wiki/Model-view-controller\" rel=\"nofollow noreferrer\">ModelViewController</a> pattern, discussed <a href=\"https://stackoverflow.com/a/3072979/230513\">here</a>.</p>\n"}],"owner":{"account_id":443006,"reputation":855,"user_id":833975,"accept_rate":88,"display_name":"Matthew Kemnetz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5012,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8322210,"answer_count":2,"score":6,"last_activity_date":1649093917,"creation_date":1322635653,"question_id":8322140,"body_markdown":"I have spent the last several hours scouring the internet looking for examples and ideas on how to write a medium sized GUI in java.  I know a little about swing but that is all.  I don&#39;t know of any other way to develop a GUI in Java besides swing.  If you know of a different way that would be good too.  I also want to hand-write the GUI myself to allow for easier integration with our game and future refactoring.\r\n\r\nWe have written the entire business logic to a Tic Tac Toe game that has several features.  The gui needs to have several windows which can be navigated using simple buttons on the interface.  A very crude and water-downed version of what I am looking to do can be seen below:\r\n\r\n![Main Menu](http://i.stack.imgur.com/6bu32.png) \r\n![Network Box](http://i.stack.imgur.com/jH8LR.png) \r\n\r\n![Game Board](http://i.stack.imgur.com/HnMSO.png)\r\n\r\nThe Heart of my question is this:\r\n\r\n**How do I architect the GUI using Swing and what general design is used?**\r\n\r\nand some follow-up questions:\r\nIs there a class for every window? Do I just use `setvisible` to make my windows appear and disappear after the buttons are pressed?\r\n\r\n`re there any examples you all know of (github repos would be excellent! happy forking!) that could show me a good gui architecture/design?\r\n","title":"GUI Architecture and Design in Java (Swing)","body":"<p>I have spent the last several hours scouring the internet looking for examples and ideas on how to write a medium sized GUI in java.  I know a little about swing but that is all.  I don't know of any other way to develop a GUI in Java besides swing.  If you know of a different way that would be good too.  I also want to hand-write the GUI myself to allow for easier integration with our game and future refactoring.</p>\n\n<p>We have written the entire business logic to a Tic Tac Toe game that has several features.  The gui needs to have several windows which can be navigated using simple buttons on the interface.  A very crude and water-downed version of what I am looking to do can be seen below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/6bu32.png\" alt=\"Main Menu\"> \n<img src=\"https://i.stack.imgur.com/jH8LR.png\" alt=\"Network Box\"> </p>\n\n<p><img src=\"https://i.stack.imgur.com/HnMSO.png\" alt=\"Game Board\"></p>\n\n<p>The Heart of my question is this:</p>\n\n<p><strong>How do I architect the GUI using Swing and what general design is used?</strong></p>\n\n<p>and some follow-up questions:\nIs there a class for every window? Do I just use <code>setvisible</code> to make my windows appear and disappear after the buttons are pressed?</p>\n\n<p>`re there any examples you all know of (github repos would be excellent! happy forking!) that could show me a good gui architecture/design?</p>\n"},{"tags":["java","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649093879,"creation_date":1649093879,"answer_id":71741494,"question_id":71741155,"body_markdown":"You can simply use `onErrorReturn` operator like this:\r\n\r\n```java\r\nfinal String response = webClient.post()\r\n\t\t.uri(&quot;https://...&quot;)\r\n\t\t.body(BodyInserters.fromValue(payload))\r\n\t\t.retrieve()\r\n\t\t.bodyToMono(String.class)\r\n\t\t.onErrorReturn(e -&gt; &quot;default&quot;);\r\n\t\t.block();\r\n```","title":"Java Spring Webflux - WebClient .onStatus((HttpStatus::isError) to return for error handling","body":"<p>You can simply use <code>onErrorReturn</code> operator like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String response = webClient.post()\n        .uri(&quot;https://...&quot;)\n        .body(BodyInserters.fromValue(payload))\n        .retrieve()\n        .bodyToMono(String.class)\n        .onErrorReturn(e -&gt; &quot;default&quot;);\n        .block();\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7796,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71741494,"answer_count":1,"score":2,"last_activity_date":1649093879,"creation_date":1649092278,"question_id":71741155,"body_markdown":"Small Java Spring WebClient please.\r\n\r\nI am the client application, making calls to a server. I am not the server, neither do I control anything on the server side. The server is known to be very flaky, and there is nothing I can do on the server side.\r\n\r\nHence, I am building a code on the client side to handle errors. My goal is simple, when the server responds with something correct, a 200, that is good, but anything else, any error, **no matter what is the error**, I would like to return a default.\r\nTherefore, I went to try this:\r\n\r\n```\r\n public static String sendPayloadToFlakyServerWithDefaultIfError() {\r\n        final WebClient           webClient                 = WebClient.create().mutate().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE, HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE).clientConnector(new ReactorClientHttpConnector(HttpClient.create().wiretap(true).protocol(HttpProtocol.H2))).build();\r\n        final Map&lt;String, String&gt; payload                   = Map.of(&quot;somekeyone&quot;, &quot;somevalueone&quot;, &quot;somekeytwo&quot;, &quot;somevaluetwo&quot;);\r\n        final String response = webClient.post().uri(&quot;https://the-very-flaky-server/api/someendpoint&quot;).body(BodyInserters.fromValue(payload)).retrieve()\r\n                .onStatus((HttpStatus::isError),\r\n                        (it -&gt; {\r\n                            System.out.println(&quot;there is an error with the flaky server indeed...  &quot; + it.statusCode().getReasonPhrase());\r\n                            return ??? //return &quot;something bad happened on the flaky server side&quot;;\r\n                        })\r\n                )\r\n                .bodyToMono(String.class).block();\r\n        System.out.println(&quot;the response from flaky server is &quot; + response);\r\n        return response;\r\n    }\r\n```\r\n\r\nI was hoping, with .onStatus((HttpStatus::isError), I could just return, **no matter what is the server error**, a default value.\r\n\r\nUnfortunately, this requires some kind of Mono of Throwable.\r\nHow to achieve this please?\r\n\r\nMaybe ```onStatus((HttpStatus::isError)``` is not the correct way to solve this?\r\n\r\nI am a bit lost and would like to just return (not just print) the default message.\r\n\r\nThank you","title":"Java Spring Webflux - WebClient .onStatus((HttpStatus::isError) to return for error handling","body":"<p>Small Java Spring WebClient please.</p>\n<p>I am the client application, making calls to a server. I am not the server, neither do I control anything on the server side. The server is known to be very flaky, and there is nothing I can do on the server side.</p>\n<p>Hence, I am building a code on the client side to handle errors. My goal is simple, when the server responds with something correct, a 200, that is good, but anything else, any error, <strong>no matter what is the error</strong>, I would like to return a default.\nTherefore, I went to try this:</p>\n<pre><code> public static String sendPayloadToFlakyServerWithDefaultIfError() {\n        final WebClient           webClient                 = WebClient.create().mutate().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE, HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE).clientConnector(new ReactorClientHttpConnector(HttpClient.create().wiretap(true).protocol(HttpProtocol.H2))).build();\n        final Map&lt;String, String&gt; payload                   = Map.of(&quot;somekeyone&quot;, &quot;somevalueone&quot;, &quot;somekeytwo&quot;, &quot;somevaluetwo&quot;);\n        final String response = webClient.post().uri(&quot;https://the-very-flaky-server/api/someendpoint&quot;).body(BodyInserters.fromValue(payload)).retrieve()\n                .onStatus((HttpStatus::isError),\n                        (it -&gt; {\n                            System.out.println(&quot;there is an error with the flaky server indeed...  &quot; + it.statusCode().getReasonPhrase());\n                            return ??? //return &quot;something bad happened on the flaky server side&quot;;\n                        })\n                )\n                .bodyToMono(String.class).block();\n        System.out.println(&quot;the response from flaky server is &quot; + response);\n        return response;\n    }\n</code></pre>\n<p>I was hoping, with .onStatus((HttpStatus::isError), I could just return, <strong>no matter what is the server error</strong>, a default value.</p>\n<p>Unfortunately, this requires some kind of Mono of Throwable.\nHow to achieve this please?</p>\n<p>Maybe <code>onStatus((HttpStatus::isError)</code> is not the correct way to solve this?</p>\n<p>I am a bit lost and would like to just return (not just print) the default message.</p>\n<p>Thank you</p>\n"},{"tags":["java","debugging","jvm","reverse-engineering","javassist"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":5,"creation_date":1649071907,"post_id":71736341,"comment_id":126775459,"body_markdown":"Hint: there is this thing called &quot;paragraphs&quot;. Use them to make your input human readable. Few people here will walk through this wall of text. And note that &quot;text only questions&quot; (typically) receive less feedback anyway. Finally: you should ask ONE question per question. When your text comes with multiple questions marks, then that is already indicating that you might want to step back and improve your input.","body":"Hint: there is this thing called &quot;paragraphs&quot;. Use them to make your input human readable. Few people here will walk through this wall of text. And note that &quot;text only questions&quot; (typically) receive less feedback anyway. Finally: you should ask ONE question per question. When your text comes with multiple questions marks, then that is already indicating that you might want to step back and improve your input."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1649072927,"post_id":71736341,"comment_id":126775857,"body_markdown":"This sounds like an X-Y problem. What is the actual problem you need to solve?","body":"This sounds like an X-Y problem. What is the actual problem you need to solve?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":3,"creation_date":1649116288,"post_id":71736341,"comment_id":126789815,"body_markdown":"You could have linked to [this answer](https://stackoverflow.com/a/71722089/1082681) to your previous question for setting the context. Anyway, I am wondering why so many people here are asking this type of question without admitting their intent: to hack into protected software. If it was your own software or your case legit, you would just add the parameter and repackage the program.","body":"You could have linked to <a href=\"https://stackoverflow.com/a/71722089/1082681\">this answer</a> to your previous question for setting the context. Anyway, I am wondering why so many people here are asking this type of question without admitting their intent: to hack into protected software. If it was your own software or your case legit, you would just add the parameter and repackage the program."}],"answers":[{"tags":[],"owner":{"account_id":18897,"reputation":15976,"user_id":43786,"accept_rate":83,"display_name":"Nicholas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649093465,"creation_date":1649093465,"answer_id":71741402,"question_id":71736341,"body_markdown":"I can&#39;t really speak to the idea of proxying the jvm.dll. Sounds like very delicate and error-prone work. Don&#39;t know much about Themida either, but from some cursory browsing, you would be deliberately breaking Themida&#39;s security intent.\r\n\r\nWithout the ability to change JVM command line parameters, you don&#39;t really have a lot of options. (Rhetorical: What do you do if you need to change heap sizes etc. ?)\r\n\r\nHowever, if you can append and additional execution after the JVM launches, you could use a [JVM Attach][1] execution to connect to the running JVM and and load your JVMTI agent via [loadAgent][2]. It&#39;s a real race-condition threat since your app could very well be under-way by the time you get your instrumentation installed, but as I said, your options are limited.\r\n\r\nI would look into how you can use Themida to re-package the application and introduce a proper `javaagent` command line parameter. Plus, if you don&#39;t, you may find that Themida may detect your workarounds and disable them, or disable the JVM altogether.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/jdk/api/attach/spec/index.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/jdk/api/attach/spec/com/sun/tools/attach/VirtualMachine.html#loadAgent-java.lang.String-java.lang.String-","title":"How to modify bytecode on class load JVM no args","body":"<p>I can't really speak to the idea of proxying the jvm.dll. Sounds like very delicate and error-prone work. Don't know much about Themida either, but from some cursory browsing, you would be deliberately breaking Themida's security intent.</p>\n<p>Without the ability to change JVM command line parameters, you don't really have a lot of options. (Rhetorical: What do you do if you need to change heap sizes etc. ?)</p>\n<p>However, if you can append and additional execution after the JVM launches, you could use a <a href=\"https://docs.oracle.com/javase/8/docs/jdk/api/attach/spec/index.html\" rel=\"nofollow noreferrer\">JVM Attach</a> execution to connect to the running JVM and and load your JVMTI agent via <a href=\"https://docs.oracle.com/javase/8/docs/jdk/api/attach/spec/com/sun/tools/attach/VirtualMachine.html#loadAgent-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">loadAgent</a>. It's a real race-condition threat since your app could very well be under-way by the time you get your instrumentation installed, but as I said, your options are limited.</p>\n<p>I would look into how you can use Themida to re-package the application and introduce a proper <code>javaagent</code> command line parameter. Plus, if you don't, you may find that Themida may detect your workarounds and disable them, or disable the JVM altogether.</p>\n"}],"owner":{"account_id":20139251,"reputation":93,"user_id":18377929,"display_name":"Code Base"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71741402,"answer_count":1,"score":0,"last_activity_date":1649093465,"creation_date":1649071117,"question_id":71736341,"body_markdown":"I have an exe that is starting a JVM and loading java classes into memory. I was successfully able to dump these classes with a -javaagent from the running JVM by attaching it to the process and retransforming the classes. Now I am trying to modify the classes as they are loaded. My issue is that my java agent cannot handle premain as I cannot add command line options without modifying the loader executable, which is packed with Themida. By the time my java agent has been attached, the classes to be modified have already been loaded. I was thinking I could use the JVMTI class load hook to capture the class file and transfer it to a separate JVM and modify it with javassist or ASM then return it to to the original JVM via the JVMTI Agent. If I use JVMTI I&#39;d need to load my agent with -agentlib, which brings me back to the problem of having to modify the executable. Can you think of any other ways I could preform this modification? Could I modify the JVM itself to load a java agent always on startup? Is there some other way to force the JVM to always load a java agent? To see if the software was calling any sort of exe in the JRE, I removed all of the exes from j64\\bin. The program still loaded without error. When I removed java.dll, the program failed to load entirely, while the program still loads but throws an error when other dlls are removed. If I found which JRE dll was receiving the command line args from the loader, could I implement a dll proxy? Is java.dll the dll I&#39;d want to proxy?","title":"How to modify bytecode on class load JVM no args","body":"<p>I have an exe that is starting a JVM and loading java classes into memory. I was successfully able to dump these classes with a -javaagent from the running JVM by attaching it to the process and retransforming the classes. Now I am trying to modify the classes as they are loaded. My issue is that my java agent cannot handle premain as I cannot add command line options without modifying the loader executable, which is packed with Themida. By the time my java agent has been attached, the classes to be modified have already been loaded. I was thinking I could use the JVMTI class load hook to capture the class file and transfer it to a separate JVM and modify it with javassist or ASM then return it to to the original JVM via the JVMTI Agent. If I use JVMTI I'd need to load my agent with -agentlib, which brings me back to the problem of having to modify the executable. Can you think of any other ways I could preform this modification? Could I modify the JVM itself to load a java agent always on startup? Is there some other way to force the JVM to always load a java agent? To see if the software was calling any sort of exe in the JRE, I removed all of the exes from j64\\bin. The program still loaded without error. When I removed java.dll, the program failed to load entirely, while the program still loads but throws an error when other dlls are removed. If I found which JRE dll was receiving the command line args from the loader, could I implement a dll proxy? Is java.dll the dll I'd want to proxy?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1260064894,"post_id":1852631,"comment_id":1748840,"body_markdown":"you can do counting sort. and then you find the majority. If the size of the array grows large, counting sort becomes in efficient.","body":"you can do counting sort. and then you find the majority. If the size of the array grows large, counting sort becomes in efficient."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1260113466,"post_id":1852631,"comment_id":1750650,"body_markdown":"This sounds like homework, I would be surprised if you need this in a real program. ;)","body":"This sounds like homework, I would be surprised if you need this in a real program. ;)"},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":1,"creation_date":1505617380,"post_id":1852631,"comment_id":79483940,"body_markdown":"@PeterLawrey I need this in a real program. :)","body":"@PeterLawrey I need this in a real program. :)"}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1260030952,"creation_date":1260030952,"answer_id":1852656,"question_id":1852631,"body_markdown":"Your first problem is that you have an &quot;array of doubles&quot;, because equality is problematic with floating point data (identical numerical values can be represented by different bit patters, among other things). If your doubles are in fact (as in the example) integers, use `int` instead. Otherweise, think long and hard about how you define what values are equal for the purpose of representing the same vote.\r\n\r\nAs for determining the majority vote, use a `Map` with the &quot;vote id&quot; as key and the number of votes as value - then in the end iterate through the map to find the maximal value.","title":"Determine the most common occurrence in an array","body":"<p>Your first problem is that you have an \"array of doubles\", because equality is problematic with floating point data (identical numerical values can be represented by different bit patters, among other things). If your doubles are in fact (as in the example) integers, use <code>int</code> instead. Otherweise, think long and hard about how you define what values are equal for the purpose of representing the same vote.</p>\n\n<p>As for determining the majority vote, use a <code>Map</code> with the \"vote id\" as key and the number of votes as value - then in the end iterate through the map to find the maximal value.</p>\n"},{"tags":[],"owner":{"account_id":62618,"reputation":5376,"user_id":185908,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1260033391,"creation_date":1260031017,"answer_id":1852661,"question_id":1852631,"body_markdown":"Sort the array first w/ quick sort and then scan and count for a majority - O(n ln n).  If the range of elements is known ahead of time, say between {1,k}, then a counting sort can be used which will run in O(n+k).\r\n\r\nAs a slight improvement, as you are scanning the sorted array, if you find value that has more that n/2 occurrences you are done.\r\n","title":"Determine the most common occurrence in an array","body":"<p>Sort the array first w/ quick sort and then scan and count for a majority - O(n ln n).  If the range of elements is known ahead of time, say between {1,k}, then a counting sort can be used which will run in O(n+k).</p>\n\n<p>As a slight improvement, as you are scanning the sorted array, if you find value that has more that n/2 occurrences you are done.</p>\n"},{"tags":[],"owner":{"account_id":30450,"reputation":8154,"user_id":83075,"accept_rate":100,"display_name":"Mia Clarke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260031326,"creation_date":1260031326,"answer_id":1852680,"question_id":1852631,"body_markdown":"You could do this: Convert your array to a list and sort it. Pick the first index, and call lastIndexOf(obj) on the value. Do this for each new value you encounter, calculate the range of the value and store the results of the biggest range in a variable. ","title":"Determine the most common occurrence in an array","body":"<p>You could do this: Convert your array to a list and sort it. Pick the first index, and call lastIndexOf(obj) on the value. Do this for each new value you encounter, calculate the range of the value and store the results of the biggest range in a variable. </p>\n"},{"tags":[],"owner":{"account_id":69111,"reputation":19705,"user_id":201270,"accept_rate":94,"display_name":"Grizzly"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1260055932,"creation_date":1260031533,"answer_id":1852692,"question_id":1852631,"body_markdown":"With an array of doubles this might not be easy since equality comparisons on doubles are pretty problematic.\r\nIf you can get away with using integers, you can do something like the following:\r\n\t\t\r\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n\t\tfor(int element: Array)\r\n\t\t{\r\n\t\t\tInteger frequency = map.get(element);\r\n\t\t\tmap.put(element, (frequency != null) ? frequency + 1 : 1);\t\t\r\n\t\t}\r\n\t\tint mostFrequentItem  = 0;\r\n\t\tint[] maxFrequencies  = new int[2];\r\n\t\tmaxFrequencies[0]     = Integer.MIN_VALUE;\r\n\t\t\r\n\t\tfor(Entry&lt;Integer, Integer&gt; entry: map.entrySet())\r\n\t\t{\r\n\t\t\tif(entry.getValue()&gt;= maxFrequencies[0])\r\n\t\t\t{\r\n\t\t\t\tmostFrequentItem  = entry.getKey();\r\n\t\t\t\tmaxFrequencies[1] = maxFrequencies[0];\r\n\t\t\t\tmaxFrequencies[0] = entry.getValue();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(maxFrequencies[1] == maxFrequencies[0])\r\n\t\t\tthrow new Exception();//insert whatever exception seems appropriate\r\n                return mostFrequentItem  \r\n\r\nThis will have O(n) performance, so it should be pretty optimal in asymptotic performance behaviour. If your doubles are not the results of calculations but come from an other source, that is if you can be sure that values which are basically the same will be represented equally, you might get away with using the same method for doubles, however I would still recommend being careful that this is really the case.\r\n\r\nEdit: some performance improvements as suggested in the comment as well as supporting checking for ambiguous case","title":"Determine the most common occurrence in an array","body":"<p>With an array of doubles this might not be easy since equality comparisons on doubles are pretty problematic.\nIf you can get away with using integers, you can do something like the following:</p>\n\n<pre><code>    HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\n    for(int element: Array)\n    {\n        Integer frequency = map.get(element);\n        map.put(element, (frequency != null) ? frequency + 1 : 1);      \n    }\n    int mostFrequentItem  = 0;\n    int[] maxFrequencies  = new int[2];\n    maxFrequencies[0]     = Integer.MIN_VALUE;\n\n    for(Entry&lt;Integer, Integer&gt; entry: map.entrySet())\n    {\n        if(entry.getValue()&gt;= maxFrequencies[0])\n        {\n            mostFrequentItem  = entry.getKey();\n            maxFrequencies[1] = maxFrequencies[0];\n            maxFrequencies[0] = entry.getValue();\n        }\n    }\n    if(maxFrequencies[1] == maxFrequencies[0])\n        throw new Exception();//insert whatever exception seems appropriate\n            return mostFrequentItem  \n</code></pre>\n\n<p>This will have O(n) performance, so it should be pretty optimal in asymptotic performance behaviour. If your doubles are not the results of calculations but come from an other source, that is if you can be sure that values which are basically the same will be represented equally, you might get away with using the same method for doubles, however I would still recommend being careful that this is really the case.</p>\n\n<p>Edit: some performance improvements as suggested in the comment as well as supporting checking for ambiguous case</p>\n"},{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260031700,"creation_date":1260031700,"answer_id":1852697,"question_id":1852631,"body_markdown":"What you really want to do is to count the occurrences of certain items in given set. In fact this was previously asked less than a day ago, you might want to look into this [very relevant question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1849831/java-is-there-an-object-like-a-set-that-can-contain-only-unique-string-values/","title":"Determine the most common occurrence in an array","body":"<p>What you really want to do is to count the occurrences of certain items in given set. In fact this was previously asked less than a day ago, you might want to look into this <a href=\"https://stackoverflow.com/questions/1849831/java-is-there-an-object-like-a-set-that-can-contain-only-unique-string-values/\">very relevant question</a>.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1260060783,"creation_date":1260031760,"answer_id":1852705,"question_id":1852631,"body_markdown":"Using a `Map&lt;Integer, Integer&gt;` should be simple as:\r\n\r\n    int mostFrequent(int... ary) {\r\n        Map&lt;Integer, Integer&gt; m = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n        for (int a : ary) {\r\n            Integer freq = m.get(a);\r\n            m.put(a, (freq == null) ? 1 : freq + 1);\r\n        }\r\n    \r\n        int max = -1;\r\n        int mostFrequent = -1;\r\n\r\n        for (Map.Entry&lt;Integer, Integer&gt; e : m.entrySet()) {\r\n            if (e.getValue() &gt; max) {\r\n                mostFrequent = e.getKey();\r\n                max = e.getValue();\r\n            }\r\n        }\r\n\r\n        return mostFrequent;\r\n    }\r\n","title":"Determine the most common occurrence in an array","body":"<p>Using a <code>Map&lt;Integer, Integer&gt;</code> should be simple as:</p>\n\n<pre><code>int mostFrequent(int... ary) {\n    Map&lt;Integer, Integer&gt; m = new HashMap&lt;Integer, Integer&gt;();\n\n    for (int a : ary) {\n        Integer freq = m.get(a);\n        m.put(a, (freq == null) ? 1 : freq + 1);\n    }\n\n    int max = -1;\n    int mostFrequent = -1;\n\n    for (Map.Entry&lt;Integer, Integer&gt; e : m.entrySet()) {\n        if (e.getValue() &gt; max) {\n            mostFrequent = e.getKey();\n            max = e.getValue();\n        }\n    }\n\n    return mostFrequent;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260103987,"creation_date":1260060164,"answer_id":1854069,"question_id":1852631,"body_markdown":"As @Grizzly points out, doubles are problematic from a computational standpoint.  I would also suggest that they don&#39;t make sense from the standpoint of your problem domain; doubles don&#39;t make any sense with majority voting!\r\n\r\nSo lets assume that `10` and `6` and so on are integer identifiers for the things people are voting for.  Lets also assume that you know that users can vote any value from `0` to `10`.\r\n\r\n    int[] votes = ...\r\n    int[] voteCounts = new int[11];  // 11 could be calculated ...\r\n    for (int vote : votes) {\r\n        voteCounts[vote]++;\r\n    }\r\n    int majority = (votes.length + 1) / 2;\r\n    for (int i = 0; i &lt; voteCounts.length; i++) {\r\n        if (voteCounts[i] &gt;= majority) {\r\n            return i;  // the winner!\r\n        }\r\n    }\r\n    throw new NoClearMajorityException(...);\r\n\r\nThis algorithm is `O(N)` in time and `O(M)` in space, where M is the largest identifier.   The catch is that it only works (as written) if the identifiers are integers.\r\n\r\n    ","title":"Determine the most common occurrence in an array","body":"<p>As @Grizzly points out, doubles are problematic from a computational standpoint.  I would also suggest that they don't make sense from the standpoint of your problem domain; doubles don't make any sense with majority voting!</p>\n\n<p>So lets assume that <code>10</code> and <code>6</code> and so on are integer identifiers for the things people are voting for.  Lets also assume that you know that users can vote any value from <code>0</code> to <code>10</code>.</p>\n\n<pre><code>int[] votes = ...\nint[] voteCounts = new int[11];  // 11 could be calculated ...\nfor (int vote : votes) {\n    voteCounts[vote]++;\n}\nint majority = (votes.length + 1) / 2;\nfor (int i = 0; i &lt; voteCounts.length; i++) {\n    if (voteCounts[i] &gt;= majority) {\n        return i;  // the winner!\n    }\n}\nthrow new NoClearMajorityException(...);\n</code></pre>\n\n<p>This algorithm is <code>O(N)</code> in time and <code>O(M)</code> in space, where M is the largest identifier.   The catch is that it only works (as written) if the identifiers are integers.</p>\n"},{"tags":[],"owner":{"account_id":4204370,"reputation":14783,"user_id":3443689,"accept_rate":60,"display_name":"Kametrixom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396821739,"creation_date":1396821739,"answer_id":22900576,"question_id":1852631,"body_markdown":"I just created such a beautiful and small solution with the new Java 8:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class MostCommonObject {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(mostCommonObject(new Integer[] { -4, 1, -2, 3, 1, -2, 3, 1 }));\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T mostCommonObject(T[] array) {\r\n    \t\treturn mostCommonObject(Arrays.asList(array));\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T mostCommonObject(Collection&lt;T&gt; collection) {\r\n    \t\tMap&lt;T, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \t\tcollection.forEach(t -&gt; map.compute(t, (k, i) -&gt; i == null ? 1 : i + 1));\r\n    \t\treturn map.entrySet().stream().max((e1, e2) -&gt; Integer.compare(e1.getValue(), e2.getValue())).get().getKey();\r\n    \t}\r\n    }","title":"Determine the most common occurrence in an array","body":"<p>I just created such a beautiful and small solution with the new Java 8:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class MostCommonObject {\n    public static void main(String[] args) {\n        System.out.println(mostCommonObject(new Integer[] { -4, 1, -2, 3, 1, -2, 3, 1 }));\n    }\n\n    public static &lt;T&gt; T mostCommonObject(T[] array) {\n        return mostCommonObject(Arrays.asList(array));\n    }\n\n    public static &lt;T&gt; T mostCommonObject(Collection&lt;T&gt; collection) {\n        Map&lt;T, Integer&gt; map = new HashMap&lt;&gt;();\n        collection.forEach(t -&gt; map.compute(t, (k, i) -&gt; i == null ? 1 : i + 1));\n        return map.entrySet().stream().max((e1, e2) -&gt; Integer.compare(e1.getValue(), e2.getValue())).get().getKey();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2646542,"reputation":39,"user_id":2289101,"display_name":"Santhanam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397211143,"creation_date":1397211143,"answer_id":23009697,"question_id":1852631,"body_markdown":"Try This one,\r\n\r\n\r\n\r\n        Integer[] array=new Integer[]{10, 10, 10, 3, 10, 10, 6, 10, 10, 9, 10};\r\n        \r\n        List&lt;Integer&gt; demoList=new ArrayList&lt;Integer&gt;(Arrays.asList(array));\r\n        \r\n        Set&lt;Integer&gt; set=new HashSet&lt;Integer&gt;(demoList);\r\n        \r\n        Map&lt;Integer,Integer&gt; myMap=new HashMap&lt;Integer, Integer&gt;();\r\n        \r\n        for (Integer integer : set)\r\n        {\r\n            int count=Collections.frequency(demoList, integer);\r\n            myMap.put(count, integer);            \r\n        }\r\n        \r\n        int maxOccurance=myMap.get(Collections.max(myMap.keySet()));","title":"Determine the most common occurrence in an array","body":"<p>Try This one,</p>\n\n<pre><code>    Integer[] array=new Integer[]{10, 10, 10, 3, 10, 10, 6, 10, 10, 9, 10};\n\n    List&lt;Integer&gt; demoList=new ArrayList&lt;Integer&gt;(Arrays.asList(array));\n\n    Set&lt;Integer&gt; set=new HashSet&lt;Integer&gt;(demoList);\n\n    Map&lt;Integer,Integer&gt; myMap=new HashMap&lt;Integer, Integer&gt;();\n\n    for (Integer integer : set)\n    {\n        int count=Collections.frequency(demoList, integer);\n        myMap.put(count, integer);            \n    }\n\n    int maxOccurance=myMap.get(Collections.max(myMap.keySet()));\n</code></pre>\n"}],"owner":{"account_id":561506,"reputation":1311,"user_id":161200,"accept_rate":55,"display_name":"Shaitan00"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19083,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":1852705,"answer_count":9,"score":10,"last_activity_date":1649093325,"creation_date":1260030326,"question_id":1852631,"body_markdown":"Assume I have an array of doubles that looks like the following:\r\n\r\n    Array[10] = {10, 10, 10, 3, 10, 10, 6, 10, 10, 9, 10}\r\n\r\nI need a function that can determine what the MAJORTY vote is in the array, in this case &quot;10&quot; because it is the number that appears the most often...\r\nAnd of course there is the situation when no majority exists (where they are equal), in that case I need to throw an exception...\r\n\r\nAny clues? Aside from doing some really nasty looping on the array (for each index, determine how many exist with the same value, store a count in the array, and then scan the count array for the highest number and the value at that position is the winner, etc...)\r\n","title":"Determine the most common occurrence in an array","body":"<p>Assume I have an array of doubles that looks like the following:</p>\n\n<pre><code>Array[10] = {10, 10, 10, 3, 10, 10, 6, 10, 10, 9, 10}\n</code></pre>\n\n<p>I need a function that can determine what the MAJORTY vote is in the array, in this case \"10\" because it is the number that appears the most often...\nAnd of course there is the situation when no majority exists (where they are equal), in that case I need to throw an exception...</p>\n\n<p>Any clues? Aside from doing some really nasty looping on the array (for each index, determine how many exist with the same value, store a count in the array, and then scan the count array for the highest number and the value at that position is the winner, etc...)</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":406172,"reputation":6429,"user_id":775523,"accept_rate":78,"display_name":"dbf"},"score":0,"creation_date":1324134524,"post_id":8545590,"comment_id":10587179,"body_markdown":"Possible duplicate: http://stackoverflow.com/questions/1852631/determine-the-most-common-occurance-in-an-array, http://stackoverflow.com/questions/3903651/most-common-values-in-an-array","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/1852631/determine-the-most-common-occurance-in-an-array\" title=\"determine the most common occurance in an array\">stackoverflow.com/questions/1852631/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/3903651/most-common-values-in-an-array\" title=\"most common values in an array\">stackoverflow.com/questions/3903651/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1324134692,"creation_date":1324134297,"answer_id":8545597,"question_id":8545590,"body_markdown":" 1.  Take a map to map element  - &gt; count\r\n 2.  Iterate through array and process the map\r\n 3.  Iterate through map and find out the popular\r\n\r\n","title":"Find the most popular element in int[] array","body":"<ol>\n<li>Take a map to map element  - > count</li>\n<li>Iterate through array and process the map</li>\n<li>Iterate through map and find out the popular</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":446804,"reputation":2381,"user_id":840077,"accept_rate":71,"display_name":"whitehat"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1324134515,"creation_date":1324134515,"answer_id":8545615,"question_id":8545590,"body_markdown":"This is the wrong syntax. When you create an anonymous array you MUST NOT give its size.\r\n\r\nWhen you write the following code :\r\n\r\n        new int[] {1,23,4,4,5,5,5};\r\n\r\nYou are here creating an anonymous int array whose size will be determined by the number of values that you provide in the curly braces.\r\n\r\nYou can assign this a reference as you have done, but this will be the correct syntax for the same :-\r\n\r\n        int[] a = new int[]{1,2,3,4,5,6,7,7,7,7};\r\n\r\nNow, just Sysout with proper index position:\r\n\r\n        System.out.println(a[7]);","title":"Find the most popular element in int[] array","body":"<p>This is the wrong syntax. When you create an anonymous array you MUST NOT give its size.</p>\n\n<p>When you write the following code :</p>\n\n<pre><code>    new int[] {1,23,4,4,5,5,5};\n</code></pre>\n\n<p>You are here creating an anonymous int array whose size will be determined by the number of values that you provide in the curly braces.</p>\n\n<p>You can assign this a reference as you have done, but this will be the correct syntax for the same :-</p>\n\n<pre><code>    int[] a = new int[]{1,2,3,4,5,6,7,7,7,7};\n</code></pre>\n\n<p>Now, just Sysout with proper index position:</p>\n\n<pre><code>    System.out.println(a[7]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1593810280,"creation_date":1324135182,"answer_id":8545681,"question_id":8545590,"body_markdown":"Try this answer. First, the data:\r\n\r\n    int[] a = {1,2,3,4,5,6,7,7,7,7};\r\n\r\nHere, we build a map counting the number of times each number appears:\r\n\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n    for (int i : a) {\r\n    \tInteger count = map.get(i);\r\n    \tmap.put(i, count != null ? count+1 : 1);\r\n    }\r\n\r\nNow, we find the number with the maximum frequency and return it:\r\n\r\n    Integer popular = Collections.max(map.entrySet(),\r\n    \tnew Comparator&lt;Map.Entry&lt;Integer, Integer&gt;&gt;() {\r\n\t\t@Override\r\n\t\tpublic int compare(Entry&lt;Integer, Integer&gt; o1, Entry&lt;Integer, Integer&gt; o2) {\r\n\t\t\treturn o1.getValue().compareTo(o2.getValue());\r\n\t\t}\r\n\t}).getKey();\r\n\r\nAs you can see, the most popular number is seven:\r\n\r\n    System.out.println(popular);\r\n    &gt; 7\r\n\r\n**EDIT**\r\n\r\nHere&#39;s my answer _without_ using maps, lists, etc. and using only arrays; although I&#39;m sorting the array in-place. It&#39;s O(n log n) complexity, better than the O(n^2) accepted solution.\r\n\r\n\r\n\tpublic int findPopular(int[] a) {\r\n\r\n\t\tif (a == null || a.length == 0)\r\n\t\t\treturn 0;\r\n\r\n\t\tArrays.sort(a);\r\n\r\n\t    int previous = a[0];\r\n\t    int popular = a[0];\r\n\t    int count = 1;\r\n\t    int maxCount = 1;\r\n\r\n\t    for (int i = 1; i &lt; a.length; i++) {\r\n\t\t\tif (a[i] == previous)\r\n\t\t\t\tcount++;\r\n\t\t\telse {\r\n\t\t\t\tif (count &gt; maxCount) {\r\n\t\t\t\t\tpopular = a[i-1];\r\n\t\t\t\t\tmaxCount = count;\r\n\t\t\t\t}\r\n\t\t\t\tprevious = a[i];\r\n\t\t\t\tcount = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t    return count &gt; maxCount ? a[a.length-1] : popular;\r\n\r\n\t}\r\n","title":"Find the most popular element in int[] array","body":"<p>Try this answer. First, the data:</p>\n<pre><code>int[] a = {1,2,3,4,5,6,7,7,7,7};\n</code></pre>\n<p>Here, we build a map counting the number of times each number appears:</p>\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nfor (int i : a) {\n    Integer count = map.get(i);\n    map.put(i, count != null ? count+1 : 1);\n}\n</code></pre>\n<p>Now, we find the number with the maximum frequency and return it:</p>\n<pre><code>Integer popular = Collections.max(map.entrySet(),\n    new Comparator&lt;Map.Entry&lt;Integer, Integer&gt;&gt;() {\n    @Override\n    public int compare(Entry&lt;Integer, Integer&gt; o1, Entry&lt;Integer, Integer&gt; o2) {\n        return o1.getValue().compareTo(o2.getValue());\n    }\n}).getKey();\n</code></pre>\n<p>As you can see, the most popular number is seven:</p>\n<pre><code>System.out.println(popular);\n&gt; 7\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Here's my answer <em>without</em> using maps, lists, etc. and using only arrays; although I'm sorting the array in-place. It's O(n log n) complexity, better than the O(n^2) accepted solution.</p>\n<pre><code>public int findPopular(int[] a) {\n\n    if (a == null || a.length == 0)\n        return 0;\n\n    Arrays.sort(a);\n\n    int previous = a[0];\n    int popular = a[0];\n    int count = 1;\n    int maxCount = 1;\n\n    for (int i = 1; i &lt; a.length; i++) {\n        if (a[i] == previous)\n            count++;\n        else {\n            if (count &gt; maxCount) {\n                popular = a[i-1];\n                maxCount = count;\n            }\n            previous = a[i];\n            count = 1;\n        }\n    }\n\n    return count &gt; maxCount ? a[a.length-1] : popular;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1047162,"reputation":4175,"user_id":1051927,"accept_rate":77,"display_name":"narek.gevorgyan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521910843,"creation_date":1324135501,"answer_id":8545715,"question_id":8545590,"body_markdown":"This one without maps:\r\n   \r\n    public class Main {       \r\n             \t\r\n        public static void main(String[] args) {\r\n            int[] a = new int[]{ 1, 2, 3, 4, 5, 6, 7, 7, 7, 7 };\r\n            System.out.println(getMostPopularElement(a));        \r\n        }\r\n\r\n        private static int getMostPopularElement(int[] a) {        \t\t\r\n            int maxElementIndex = getArrayMaximumElementIndex(a); \r\n            int[] b = new int[a[maxElementIndex] + 1]\r\n            \r\n            for (int i = 0; i &lt; a.length; i++) {\r\n                ++b[a[i]];\r\n            }\r\n            \r\n            return getArrayMaximumElementIndex(b);\r\n        }\r\n\r\n        private static int getArrayMaximumElementIndex(int[] a) {\r\n            int maxElementIndex = 0;\r\n            \r\n            for (int i = 1; i &lt; a.length; i++) {\r\n                if (a[i] &gt;= a[maxElementIndex]) {\r\n                    maxElementIndex = i;\r\n                }\r\n            }\r\n            \r\n            return maxElementIndex;\r\n        }      \r\n     \t        \r\n    }\r\n\r\nYou only have to change some code if your array can have elements which are `&lt; 0`.\r\nAnd this algorithm is useful when your array items are not big numbers.\r\n","title":"Find the most popular element in int[] array","body":"<p>This one without maps:</p>\n\n<pre><code>public class Main {       \n\n    public static void main(String[] args) {\n        int[] a = new int[]{ 1, 2, 3, 4, 5, 6, 7, 7, 7, 7 };\n        System.out.println(getMostPopularElement(a));        \n    }\n\n    private static int getMostPopularElement(int[] a) {             \n        int maxElementIndex = getArrayMaximumElementIndex(a); \n        int[] b = new int[a[maxElementIndex] + 1]\n\n        for (int i = 0; i &lt; a.length; i++) {\n            ++b[a[i]];\n        }\n\n        return getArrayMaximumElementIndex(b);\n    }\n\n    private static int getArrayMaximumElementIndex(int[] a) {\n        int maxElementIndex = 0;\n\n        for (int i = 1; i &lt; a.length; i++) {\n            if (a[i] &gt;= a[maxElementIndex]) {\n                maxElementIndex = i;\n            }\n        }\n\n        return maxElementIndex;\n    }      \n\n}\n</code></pre>\n\n<p>You only have to change some code if your array can have elements which are <code>&lt; 0</code>.\nAnd this algorithm is useful when your array items are not big numbers.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324135674,"creation_date":1324135674,"answer_id":8545731,"question_id":8545590,"body_markdown":"If you don&#39;t want to use a map, then just follow these steps:\r\n\r\n1. Sort the array (using `Arrays.sort()`)\r\n2. Use a variable to hold the most popular element (mostPopular), a variable to hold its number of occurrences in the array (mostPopularCount), and a variable to hold the number of occurrences of the current number in the iteration (currentCount)\r\n3. Iterate through the array. If the current element is the same as mostPopular, increment currentCount. If not, reset currentCount to 1. If currentCount is &gt; mostPopularCount, set mostPopularCount to currentCount, and mostPopular to the current element.","title":"Find the most popular element in int[] array","body":"<p>If you don't want to use a map, then just follow these steps:</p>\n\n<ol>\n<li>Sort the array (using <code>Arrays.sort()</code>)</li>\n<li>Use a variable to hold the most popular element (mostPopular), a variable to hold its number of occurrences in the array (mostPopularCount), and a variable to hold the number of occurrences of the current number in the iteration (currentCount)</li>\n<li>Iterate through the array. If the current element is the same as mostPopular, increment currentCount. If not, reset currentCount to 1. If currentCount is > mostPopularCount, set mostPopularCount to currentCount, and mostPopular to the current element.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"down_vote_count":7,"up_vote_count":47,"is_accepted":true,"score":40,"last_activity_date":1502292490,"creation_date":1324136362,"answer_id":8545802,"question_id":8545590,"body_markdown":"    public int getPopularElement(int[] a)\r\n    {\r\n      int count = 1, tempCount;\r\n      int popular = a[0];\r\n      int temp = 0;\r\n      for (int i = 0; i &lt; (a.length - 1); i++)\r\n      {\r\n        temp = a[i];\r\n        tempCount = 0;\r\n        for (int j = 1; j &lt; a.length; j++)\r\n        {\r\n          if (temp == a[j])\r\n            tempCount++;\r\n        }\r\n        if (tempCount &gt; count)\r\n        {\r\n          popular = temp;\r\n          count = tempCount;\r\n        }\r\n      }\r\n      return popular;\r\n    }\r\n","title":"Find the most popular element in int[] array","body":"<pre><code>public int getPopularElement(int[] a)\n{\n  int count = 1, tempCount;\n  int popular = a[0];\n  int temp = 0;\n  for (int i = 0; i &lt; (a.length - 1); i++)\n  {\n    temp = a[i];\n    tempCount = 0;\n    for (int j = 1; j &lt; a.length; j++)\n    {\n      if (temp == a[j])\n        tempCount++;\n    }\n    if (tempCount &gt; count)\n    {\n      popular = temp;\n      count = tempCount;\n    }\n  }\n  return popular;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":371449,"reputation":1367,"user_id":719988,"display_name":"Federico Vera"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1324136659,"creation_date":1324136366,"answer_id":8545803,"question_id":8545590,"body_markdown":"Assuming your array is sorted (like the one you posted) you could simply iterate over the array and count the longest segment of elements, it&#39;s something like @narek.gevorgyan&#39;s post but without the awfully big array, and it uses the same amount of memory regardless of the array&#39;s size:\r\n\r\n    private static int getMostPopularElement(int[] a){\r\n        int counter = 0, curr, maxvalue, maxcounter = -1;\r\n        maxvalue = curr = a[0];\r\n\r\n        for (int e : a){\r\n            if (curr == e){\r\n                counter++;\r\n            } else {\r\n                if (counter &gt; maxcounter){\r\n                    maxcounter = counter;\r\n                    maxvalue = curr;\r\n                }\r\n                counter = 0;\r\n                curr = e;\r\n            }\r\n        }\r\n        if (counter &gt; maxcounter){\r\n            maxvalue = curr;\r\n        }\r\n\r\n        return maxvalue;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getMostPopularElement(new int[]{1,2,3,4,5,6,7,7,7,7}));\r\n    }\r\n\r\nIf the array is not sorted, sort it with `Arrays.sort(a);`","title":"Find the most popular element in int[] array","body":"<p>Assuming your array is sorted (like the one you posted) you could simply iterate over the array and count the longest segment of elements, it's something like @narek.gevorgyan's post but without the awfully big array, and it uses the same amount of memory regardless of the array's size:</p>\n\n<pre><code>private static int getMostPopularElement(int[] a){\n    int counter = 0, curr, maxvalue, maxcounter = -1;\n    maxvalue = curr = a[0];\n\n    for (int e : a){\n        if (curr == e){\n            counter++;\n        } else {\n            if (counter &gt; maxcounter){\n                maxcounter = counter;\n                maxvalue = curr;\n            }\n            counter = 0;\n            curr = e;\n        }\n    }\n    if (counter &gt; maxcounter){\n        maxvalue = curr;\n    }\n\n    return maxvalue;\n}\n\n\npublic static void main(String[] args) {\n    System.out.println(getMostPopularElement(new int[]{1,2,3,4,5,6,7,7,7,7}));\n}\n</code></pre>\n\n<p>If the array is not sorted, sort it with <code>Arrays.sort(a);</code></p>\n"},{"tags":[],"owner":{"account_id":271554,"reputation":11933,"user_id":1018768,"accept_rate":100,"display_name":"Lalith B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397120239,"creation_date":1397120239,"answer_id":22983283,"question_id":8545590,"body_markdown":"Seems like you are looking for the Mode value (Statistical Mode) , have a look at [Apache&#39;s Docs][1] for Statistical functions.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-math/apidocs/index.html","title":"Find the most popular element in int[] array","body":"<p>Seems like you are looking for the Mode value (Statistical Mode) , have a look at <a href=\"http://commons.apache.org/proper/commons-math/apidocs/index.html\" rel=\"nofollow\">Apache's Docs</a> for Statistical functions.</p>\n"},{"tags":[],"owner":{"account_id":5812922,"reputation":11,"user_id":4583424,"display_name":"Ramesh.k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424342698,"creation_date":1424342698,"answer_id":28604288,"question_id":8545590,"body_markdown":"\timport java.util.Scanner;\r\n\r\n\r\n\tpublic class Mostrepeatednumber\r\n\t{\r\n\t\tpublic static void main(String args[])\r\n\t\t{\r\n\t\t\tint most = 0;\r\n\t\t\tint temp=0;\r\n\t\t\tint count=0,tempcount;\r\n\t\t\tScanner in=new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;Enter any number&quot;);\r\n\t\t\tint n=in.nextInt();\r\n\t\t\tint arr[]=new int[n];\r\n\t\t\tSystem.out.print(&quot;Enter array value:&quot;);\r\n\t\t\tfor(int i=0;i&lt;=n-1;i++)\r\n\t\t\t{\r\n\t\t\t\tint n1=in.nextInt();\r\n\t\t\t\tarr[i]=n1;\r\n\t\t\t}\r\n\t\t\t//!!!!!!!! user input concept closed\r\n\t\t\t//logic can be started\r\n\t\t\tfor(int j=0;j&lt;=n-1;j++)\r\n\t\t\t{\r\n\t\t\ttemp=arr[j];\r\n\t\t\ttempcount=0;\r\n\t\t\t\tfor(int k=1;k&lt;=n-1;k++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\tif(temp==arr[k])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttempcount++;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t\tif(count&lt;tempcount)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tmost=arr[k];\r\n\t\t\t\t\t\t\t\t\t\tcount=tempcount;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\tSystem.out.println(most);\r\n\t\t}\r\n\r\n\t}","title":"Find the most popular element in int[] array","body":"<pre><code>import java.util.Scanner;\n\n\npublic class Mostrepeatednumber\n{\n    public static void main(String args[])\n    {\n        int most = 0;\n        int temp=0;\n        int count=0,tempcount;\n        Scanner in=new Scanner(System.in);\n        System.out.println(\"Enter any number\");\n        int n=in.nextInt();\n        int arr[]=new int[n];\n        System.out.print(\"Enter array value:\");\n        for(int i=0;i&lt;=n-1;i++)\n        {\n            int n1=in.nextInt();\n            arr[i]=n1;\n        }\n        //!!!!!!!! user input concept closed\n        //logic can be started\n        for(int j=0;j&lt;=n-1;j++)\n        {\n        temp=arr[j];\n        tempcount=0;\n            for(int k=1;k&lt;=n-1;k++)\n                {\n                if(temp==arr[k])\n                    {\n                        tempcount++;\n                    }   \n                        if(count&lt;tempcount)\n                            {\n                                most=arr[k];\n                                    count=tempcount;\n                            }\n                }\n\n        }\n        System.out.println(most);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5823002,"reputation":528,"user_id":4590393,"accept_rate":25,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426153806,"creation_date":1426153806,"answer_id":29006450,"question_id":8545590,"body_markdown":"    package frequent;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class Frequent_number {\r\n    \t\r\n    \t//Find the most frequent integer in an array\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint arr[]= {1,2,3,4,3,2,2,3,3};\r\n    \t\t\r\n    \t\tSystem.out.println(getFrequent(arr));\r\n    \t\tSystem.out.println(getFrequentBySorting(arr));\r\n    \t}\r\n    \t\r\n    \t//Using Map , TC: O(n)  SC: O(n)\r\n    \tstatic public int getFrequent(int arr[]){\r\n    \t\tint ans=0;\r\n    \t\tMap&lt;Integer,Integer&gt; m = new HashMap&lt;&gt;();\r\n    \t\tfor(int i:arr){\r\n    \t\t\tif(m.containsKey(i)){\r\n    \t\t\t\tm.put(i, m.get(i)+1);\r\n    \t\t\t}else{\r\n    \t\t\t\tm.put(i, 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tint maxVal=0;\r\n    \t\tfor(Integer in: m.keySet()){\r\n    \t\t\tif(m.get(in)&gt;maxVal){\r\n    \t\t\t\tans=in;\r\n    \t\t\t\tmaxVal = m.get(in);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn ans;\r\n    \t}\r\n    \t\r\n    \t//Sort the array and then find it TC: O(nlogn) SC: O(1)\r\n    \tpublic static int getFrequentBySorting(int arr[]){\r\n    \t\tint current=arr[0];\r\n    \t\tint ansCount=0;\r\n    \t\tint tempCount=0;\r\n    \t\tint ans=current;\r\n    \t\tfor(int i:arr){\r\n    \t\t\tif(i==current){\r\n    \t\t\t\ttempCount++;\r\n    \t\t\t}\r\n    \t\t\tif(tempCount&gt;ansCount){\r\n    \t\t\t\tansCount=tempCount;\r\n    \t\t\t\tans=i;\r\n    \t\t\t}\r\n    \t\t\tcurrent=i;\r\n    \t\t}\r\n    \t\treturn ans;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Find the most popular element in int[] array","body":"<pre><code>package frequent;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Frequent_number {\n\n    //Find the most frequent integer in an array\n\n    public static void main(String[] args) {\n        int arr[]= {1,2,3,4,3,2,2,3,3};\n\n        System.out.println(getFrequent(arr));\n        System.out.println(getFrequentBySorting(arr));\n    }\n\n    //Using Map , TC: O(n)  SC: O(n)\n    static public int getFrequent(int arr[]){\n        int ans=0;\n        Map&lt;Integer,Integer&gt; m = new HashMap&lt;&gt;();\n        for(int i:arr){\n            if(m.containsKey(i)){\n                m.put(i, m.get(i)+1);\n            }else{\n                m.put(i, 1);\n            }\n        }\n        int maxVal=0;\n        for(Integer in: m.keySet()){\n            if(m.get(in)&gt;maxVal){\n                ans=in;\n                maxVal = m.get(in);\n            }\n        }\n        return ans;\n    }\n\n    //Sort the array and then find it TC: O(nlogn) SC: O(1)\n    public static int getFrequentBySorting(int arr[]){\n        int current=arr[0];\n        int ansCount=0;\n        int tempCount=0;\n        int ans=current;\n        for(int i:arr){\n            if(i==current){\n                tempCount++;\n            }\n            if(tempCount&gt;ansCount){\n                ansCount=tempCount;\n                ans=i;\n            }\n            current=i;\n        }\n        return ans;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6091899,"reputation":11481,"user_id":4753897,"accept_rate":71,"display_name":"Mike3355"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1438803619,"creation_date":1438803619,"answer_id":31841425,"question_id":8545590,"body_markdown":"    public class MostFrequentNumber {\r\n    \r\n        public MostFrequentNumber() {\r\n    \r\n        }\r\n    \r\n        int frequentNumber(List&lt;Integer&gt; list){\r\n    \r\n            int popular = 0;\r\n            int holder = 0;\r\n    \r\n            for(Integer number: list) {\r\n                int freq = Collections.frequency(list,number);\r\n    \r\n                if(holder &lt; freq){\r\n                    holder = freq;\r\n                    popular = number;\r\n                }\r\n            }\r\n    \r\n           return popular;\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            int[] numbers = {4,6,2,5,4,7,6,4,7,7,7};\r\n    \r\n            List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    \r\n            for(Integer num : numbers){\r\n                list.add(num);\r\n            }\r\n    \r\n    \r\n            MostFrequentNumber mostFrequentNumber = new MostFrequentNumber();\r\n    \r\n            System.out.println(mostFrequentNumber.frequentNumber(list));\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"Find the most popular element in int[] array","body":"<pre><code>public class MostFrequentNumber {\n\n    public MostFrequentNumber() {\n\n    }\n\n    int frequentNumber(List&lt;Integer&gt; list){\n\n        int popular = 0;\n        int holder = 0;\n\n        for(Integer number: list) {\n            int freq = Collections.frequency(list,number);\n\n            if(holder &lt; freq){\n                holder = freq;\n                popular = number;\n            }\n        }\n\n       return popular;\n\n    }\n\n    public static void main(String[] args){\n\n        int[] numbers = {4,6,2,5,4,7,6,4,7,7,7};\n\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n        for(Integer num : numbers){\n            list.add(num);\n        }\n\n\n        MostFrequentNumber mostFrequentNumber = new MostFrequentNumber();\n\n        System.out.println(mostFrequentNumber.frequentNumber(list));\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146081,"reputation":141,"user_id":1128805,"accept_rate":75,"display_name":"jbisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443186555,"creation_date":1443186555,"answer_id":32782975,"question_id":8545590,"body_markdown":"    public static void main(String[] args) {\r\n\r\n        int[] myArray = {1,5,4,4,22,4,9,4,4,8};\r\n        Map&lt;Integer,Integer&gt; arrayCounts = new HashMap&lt;&gt;();\r\n        Integer popularCount  = 0;\r\n        Integer popularValue = 0;\r\n\r\n        for(int i = 0; i &lt; myArray.length; i++) {\r\n            Integer count = arrayCounts.get(myArray[i]);\r\n            if (count == null) {\r\n                count = 0;\r\n            }\r\n            arrayCounts.put(myArray[i], count == 0 ? 1 : ++count);\r\n            if (count &gt; popularCount) {\r\n                popularCount = count;\r\n                popularValue = myArray[i];\r\n            }\r\n        }\r\n\r\n        System.out.println(popularValue + &quot; --&gt; &quot; + popularCount);\r\n    }","title":"Find the most popular element in int[] array","body":"<pre><code>public static void main(String[] args) {\n\n    int[] myArray = {1,5,4,4,22,4,9,4,4,8};\n    Map&lt;Integer,Integer&gt; arrayCounts = new HashMap&lt;&gt;();\n    Integer popularCount  = 0;\n    Integer popularValue = 0;\n\n    for(int i = 0; i &lt; myArray.length; i++) {\n        Integer count = arrayCounts.get(myArray[i]);\n        if (count == null) {\n            count = 0;\n        }\n        arrayCounts.put(myArray[i], count == 0 ? 1 : ++count);\n        if (count &gt; popularCount) {\n            popularCount = count;\n            popularValue = myArray[i];\n        }\n    }\n\n    System.out.println(popularValue + \" --&gt; \" + popularCount);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6530852,"reputation":394,"user_id":5052018,"display_name":"Cesar Chavez"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1577022346,"creation_date":1460845821,"answer_id":36670527,"question_id":8545590,"body_markdown":"Mine Linear O(N)\r\n\r\nUsing map to save all the differents elements found in the array and saving the number of times ocurred, then just getting the max from the map.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.stream.IntStream;\r\n\r\n    public class MosftOftenNumber {\r\n    \r\n    \t// for O(N) + map O(1) = O(N) \r\n    \tpublic static int mostOftenNumber(int[] a)\r\n    \t{\r\n    \t\tfinal Map m = new HashMap&lt;Integer,Integer&gt;();\r\n    \t\tint max = 0;\r\n    \t\tint element = 0;\r\n    \r\n    \t\tfor (int i=0; i&lt;a.length; i++){\r\n    \t\t\t//initializing value for the map the value will have the counter of each element\r\n    \t\t\t//first time one new number its found will be initialize with zero \r\n    \t\t\tif (m.get(a[i]) == null)\r\n    \t\t\t\tm.put(a[i],0);\r\n    \t\t\t\r\n    \t\t\t//save each value from the array and increment the count each time its found\r\n    \t\t\tm.put(a[i] , (Integer) m.get(a[i]) + 1);\r\n    \r\n    \t\t\t//check the value from each element and comparing with max\r\n    \t\t\tif ( (Integer) m.get(a[i]) &gt; max){\r\n    \t\t\t\tmax = (Integer) m.get(a[i]);\r\n    \t\t\t\telement = a[i];\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n            System.out.println(&quot;Times repeated: &quot; + max);\r\n    \t\treturn element;\r\n    \t}\r\n    \r\n        public static int mostOftenNumberWithLambdas(int[] a)\r\n        {\r\n            Integer max = IntStream.of(a).boxed().max(Integer::compareTo).get();\r\n            Integer coumtMax = Math.toIntExact(IntStream.of(a).boxed().filter(number -&gt; number.equals(max)).count());\r\n            System.out.println(&quot;Times repeated: &quot; + coumtMax);\r\n            return max;\r\n        }\r\n\r\n    \tpublic static void main(String args[]) {\r\n    //    \tint[] array = {1,1,2,1,1};\r\n    //    \tint[] array = {2,2,1,2,2};\r\n        \tint[] array = {1,2,3,4,5,6,7,7,7,7};\r\n        \tSystem.out.println(&quot;Most often number with loops: &quot; + mostOftenNumber(array));\r\n            System.out.println(&quot;Most often number with lambdas: &quot; + mostOftenNumberWithLambdas(array));\r\n        }\r\n           \r\n    }\r\n","title":"Find the most popular element in int[] array","body":"<p>Mine Linear O(N)</p>\n\n<p>Using map to save all the differents elements found in the array and saving the number of times ocurred, then just getting the max from the map.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.stream.IntStream;\n\npublic class MosftOftenNumber {\n\n    // for O(N) + map O(1) = O(N) \n    public static int mostOftenNumber(int[] a)\n    {\n        final Map m = new HashMap&lt;Integer,Integer&gt;();\n        int max = 0;\n        int element = 0;\n\n        for (int i=0; i&lt;a.length; i++){\n            //initializing value for the map the value will have the counter of each element\n            //first time one new number its found will be initialize with zero \n            if (m.get(a[i]) == null)\n                m.put(a[i],0);\n\n            //save each value from the array and increment the count each time its found\n            m.put(a[i] , (Integer) m.get(a[i]) + 1);\n\n            //check the value from each element and comparing with max\n            if ( (Integer) m.get(a[i]) &gt; max){\n                max = (Integer) m.get(a[i]);\n                element = a[i];\n            }\n\n        }\n        System.out.println(\"Times repeated: \" + max);\n        return element;\n    }\n\n    public static int mostOftenNumberWithLambdas(int[] a)\n    {\n        Integer max = IntStream.of(a).boxed().max(Integer::compareTo).get();\n        Integer coumtMax = Math.toIntExact(IntStream.of(a).boxed().filter(number -&gt; number.equals(max)).count());\n        System.out.println(\"Times repeated: \" + coumtMax);\n        return max;\n    }\n\n    public static void main(String args[]) {\n//      int[] array = {1,1,2,1,1};\n//      int[] array = {2,2,1,2,2};\n        int[] array = {1,2,3,4,5,6,7,7,7,7};\n        System.out.println(\"Most often number with loops: \" + mostOftenNumber(array));\n        System.out.println(\"Most often number with lambdas: \" + mostOftenNumberWithLambdas(array));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472305889,"creation_date":1472305889,"answer_id":39181890,"question_id":8545590,"body_markdown":"Best approach will be using map where  key will be element and value will be the count of each element. Along with that keep an array of size that will contain the index of most popular element . Populate this array while map construction itself so that we don&#39;t have to iterate through map again.\r\n\r\nApproach 2:-\r\n\r\nIf someone want to go with two loop, here is the improvisation from accepted answer where we don&#39;t have to start second loop from one every time\r\n\r\n    public class TestPopularElements {\r\n    \tpublic static int getPopularElement(int[] a) {\r\n    \t\tint count = 1, tempCount;\r\n    \t\tint popular = a[0];\r\n    \t\tint temp = 0;\r\n    \t\tfor (int i = 0; i &lt; (a.length - 1); i++) {\r\n    \t\t\ttemp = a[i];\r\n    \t\t\ttempCount = 0;\r\n    \t\t\tfor (int j = i+1; j &lt; a.length; j++) {\r\n    \t\t\t\tif (temp == a[j])\r\n    \t\t\t\t\ttempCount++;\r\n    \t\t\t}\r\n    \t\t\tif (tempCount &gt; count) {\r\n    \t\t\t\tpopular = temp;\r\n    \t\t\t\tcount = tempCount;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn popular;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint a[] = new int[] {1,2,3,4,5,6,2,7,7,7};\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;count is &quot; +getPopularElement(a));\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Find the most popular element in int[] array","body":"<p>Best approach will be using map where  key will be element and value will be the count of each element. Along with that keep an array of size that will contain the index of most popular element . Populate this array while map construction itself so that we don't have to iterate through map again.</p>\n\n<p>Approach 2:-</p>\n\n<p>If someone want to go with two loop, here is the improvisation from accepted answer where we don't have to start second loop from one every time</p>\n\n<pre><code>public class TestPopularElements {\n    public static int getPopularElement(int[] a) {\n        int count = 1, tempCount;\n        int popular = a[0];\n        int temp = 0;\n        for (int i = 0; i &lt; (a.length - 1); i++) {\n            temp = a[i];\n            tempCount = 0;\n            for (int j = i+1; j &lt; a.length; j++) {\n                if (temp == a[j])\n                    tempCount++;\n            }\n            if (tempCount &gt; count) {\n                popular = temp;\n                count = tempCount;\n            }\n        }\n        return popular;\n    }\n\n    public static void main(String[] args) {\n        int a[] = new int[] {1,2,3,4,5,6,2,7,7,7};\n\n        System.out.println(\"count is \" +getPopularElement(a));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1450186,"reputation":3117,"user_id":1367360,"accept_rate":33,"display_name":"Pavan Tiwari"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1521913763,"creation_date":1474873918,"answer_id":39696738,"question_id":8545590,"body_markdown":"Array elements value should be less than the array length for this one:\r\n\r\n    public void findCounts(int[] arr, int n) {\r\n        int i = 0;\r\n        \r\n        while (i &lt; n) {\r\n            if (arr[i] &lt;= 0) {\r\n                i++;\r\n                continue;\r\n            }\r\n\r\n            int elementIndex = arr[i] - 1;\r\n\r\n            if (arr[elementIndex] &gt; 0) {\r\n                arr[i] = arr[elementIndex];\r\n                arr[elementIndex] = -1;\r\n            }\r\n            else {\r\n                arr[elementIndex]--;\r\n                arr[i] = 0;\r\n                i++;\r\n            }\r\n        }\r\n\r\n        Console.WriteLine(&quot;Below are counts of all elements&quot;);\r\n        \r\n        for (int j = 0; j &lt; n; j++) {\r\n            Console.WriteLine(j + 1 + &quot;-&gt;&quot; + Math.Abs(arr[j]));\r\n        }\r\n    }\r\n\r\nTime complexity of this will be `O(N)` and space complexity will be `O(1)`.\r\n","title":"Find the most popular element in int[] array","body":"<p>Array elements value should be less than the array length for this one:</p>\n\n<pre><code>public void findCounts(int[] arr, int n) {\n    int i = 0;\n\n    while (i &lt; n) {\n        if (arr[i] &lt;= 0) {\n            i++;\n            continue;\n        }\n\n        int elementIndex = arr[i] - 1;\n\n        if (arr[elementIndex] &gt; 0) {\n            arr[i] = arr[elementIndex];\n            arr[elementIndex] = -1;\n        }\n        else {\n            arr[elementIndex]--;\n            arr[i] = 0;\n            i++;\n        }\n    }\n\n    Console.WriteLine(\"Below are counts of all elements\");\n\n    for (int j = 0; j &lt; n; j++) {\n        Console.WriteLine(j + 1 + \"-&gt;\" + Math.Abs(arr[j]));\n    }\n}\n</code></pre>\n\n<p>Time complexity of this will be <code>O(N)</code> and space complexity will be <code>O(1)</code>.</p>\n"},{"tags":[],"owner":{"account_id":6479349,"reputation":49,"user_id":5016934,"display_name":"Dean Spencer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479921293,"creation_date":1479921293,"answer_id":40770549,"question_id":8545590,"body_markdown":"Assuming your int array is sorted, i would do...  \r\n\r\n    int count = 0, occur = 0, high = 0, a;\r\n    \r\n    for (a = 1; a &lt; n.length; a++) {\r\n        if (n[a - 1] == n[a]) {\r\n           count++;\r\n           if (count &gt; occur) {\r\n               occur = count;\r\n               high = n[a];\r\n           }\r\n         } else {\r\n            count = 0;\r\n         }\r\n    }\r\n    System.out.println(&quot;highest occurence = &quot; + high);","title":"Find the most popular element in int[] array","body":"<p>Assuming your int array is sorted, i would do...  </p>\n\n<pre><code>int count = 0, occur = 0, high = 0, a;\n\nfor (a = 1; a &lt; n.length; a++) {\n    if (n[a - 1] == n[a]) {\n       count++;\n       if (count &gt; occur) {\n           occur = count;\n           high = n[a];\n       }\n     } else {\n        count = 0;\n     }\n}\nSystem.out.println(\"highest occurence = \" + high);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9642205,"reputation":1,"user_id":7156081,"display_name":"Catniss"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638514921,"creation_date":1480631228,"answer_id":40921545,"question_id":8545590,"body_markdown":"I hope this helps. \r\n\r\n    public class Ideone {\r\n        public static void main(String[] args) throws java.lang.Exception {\r\n    \r\n    \r\n            int[] a = {1,2,3,4,5,6,7,7,7};\r\n            int len = a.length;\r\n    \r\n            System.out.println(len);\r\n    \r\n    \r\n            for (int i = 0; i &lt;= len - 1; i++) {\r\n    \r\n                while (a[i] == a[i + 1]) {\r\n                    System.out.println(a[i]);\r\n    \r\n                    break;\r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }","title":"Find the most popular element in int[] array","body":"<p>I hope this helps.</p>\n<pre><code>public class Ideone {\n    public static void main(String[] args) throws java.lang.Exception {\n\n\n        int[] a = {1,2,3,4,5,6,7,7,7};\n        int len = a.length;\n\n        System.out.println(len);\n\n\n        for (int i = 0; i &lt;= len - 1; i++) {\n\n            while (a[i] == a[i + 1]) {\n                System.out.println(a[i]);\n\n                break;\n            }\n\n\n        }\n\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4665646,"reputation":578,"user_id":3778769,"display_name":"faizan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1521910079,"creation_date":1484496299,"answer_id":41663174,"question_id":8545590,"body_markdown":"**Using** **Java 8 Streams** \r\n\r\n    int data[] = { 1, 5, 7, 4, 6, 2, 0, 1, 3, 2, 2 };\r\n    Map&lt;Integer, Long&gt; count = Arrays.stream(data)\r\n        .boxed()\r\n        .collect(Collectors.groupingBy(Function.identity(), counting()));\r\n\r\n    int max = count.entrySet().stream()\r\n        .max((first, second) -&gt; {\r\n            return (int) (first.getValue() - second.getValue());\r\n        })\r\n        .get().getKey();\r\n\r\n    System.out.println(max);\r\n\r\n**Explanation**\r\n\r\nWe convert the `int[] data` array to boxed Integer Stream. Then we collect by `groupingBy` on the element and use a secondary counting collector for counting after the `groupBy`.\r\n\r\nFinally we sort the map of element `-&gt;` count based on count again by using a stream and lambda comparator.","title":"Find the most popular element in int[] array","body":"<p><strong>Using</strong> <strong>Java 8 Streams</strong> </p>\n\n<pre><code>int data[] = { 1, 5, 7, 4, 6, 2, 0, 1, 3, 2, 2 };\nMap&lt;Integer, Long&gt; count = Arrays.stream(data)\n    .boxed()\n    .collect(Collectors.groupingBy(Function.identity(), counting()));\n\nint max = count.entrySet().stream()\n    .max((first, second) -&gt; {\n        return (int) (first.getValue() - second.getValue());\n    })\n    .get().getKey();\n\nSystem.out.println(max);\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>We convert the <code>int[] data</code> array to boxed Integer Stream. Then we collect by <code>groupingBy</code> on the element and use a secondary counting collector for counting after the <code>groupBy</code>.</p>\n\n<p>Finally we sort the map of element <code>-&gt;</code> count based on count again by using a stream and lambda comparator.</p>\n"},{"tags":[],"owner":{"account_id":2981349,"reputation":189,"user_id":2531236,"accept_rate":30,"display_name":"Rajkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499540296,"creation_date":1499540296,"answer_id":44989753,"question_id":8545590,"body_markdown":"below code can be put inside a main method\r\n\r\n\t\t// TODO Auto-generated method stub\r\n\t\tInteger[] a = { 11, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 4, 1, 2, 2, 2, 2, 3, 4, 2 };\r\n\t\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(Arrays.asList(a));\r\n\t\tSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(list);\r\n\t\tint highestSeq = 0;\r\n\t\tint seq = 0;\r\n\t\tfor (int i : set) {\r\n\t\t\tint tempCount = 0;\r\n\t\t\tfor (int l : list) {\r\n\t\t\t\tif (i == l) {\r\n\t\t\t\t\ttempCount = tempCount + 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (tempCount &gt; highestSeq) {\r\n\t\t\t\t\thighestSeq = tempCount;\r\n\t\t\t\t\tseq = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;highest sequence is &quot; + seq + &quot; repeated for &quot; + highestSeq);\r\n\r\n\t","title":"Find the most popular element in int[] array","body":"<p>below code can be put inside a main method</p>\n\n<pre><code>    // TODO Auto-generated method stub\n    Integer[] a = { 11, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 4, 1, 2, 2, 2, 2, 3, 4, 2 };\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(Arrays.asList(a));\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(list);\n    int highestSeq = 0;\n    int seq = 0;\n    for (int i : set) {\n        int tempCount = 0;\n        for (int l : list) {\n            if (i == l) {\n                tempCount = tempCount + 1;\n            }\n            if (tempCount &gt; highestSeq) {\n                highestSeq = tempCount;\n                seq = i;\n            }\n        }\n\n    }\n\n    System.out.println(\"highest sequence is \" + seq + \" repeated for \" + highestSeq);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":127351,"reputation":5961,"user_id":324446,"accept_rate":64,"display_name":"Akh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502644203,"creation_date":1502644203,"answer_id":45662862,"question_id":8545590,"body_markdown":"    public class MostFrequentIntegerInAnArray {\r\n\r\n        public static void main(String[] args) {\r\n    \t\tint[] items = new int[]{2,1,43,1,6,73,5,4,65,1,3,6,1,1};\r\n    \t\tSystem.out.println(&quot;Most common item = &quot;+getMostFrequentInt(items));\r\n    \t}\r\n    \t\r\n    \t//Time Complexity = O(N)\r\n    \t//Space Complexity = O(N)\r\n    \tpublic static int getMostFrequentInt(int[] items){\r\n    \t\tMap&lt;Integer, Integer&gt; itemsMap = new HashMap&lt;Integer, Integer&gt;(items.length);\r\n    \t\tfor(int item : items){\r\n    \t\t\tif(!itemsMap.containsKey(item))\r\n    \t\t\t\titemsMap.put(item, 1);\r\n    \t\t\telse\r\n    \t\t\t\titemsMap.put(item, itemsMap.get(item)+1);\r\n    \t\t}\r\n    \t\t\r\n    \t\tint maxCount = Integer.MIN_VALUE;\r\n    \t\tfor(Entry&lt;Integer, Integer&gt; entry : itemsMap.entrySet()){\r\n    \t\t\tif(entry.getValue() &gt; maxCount)\r\n    \t\t\t\tmaxCount = entry.getValue();\r\n    \t\t}\r\n    \t\treturn maxCount;\r\n    \t}\r\n    }","title":"Find the most popular element in int[] array","body":"<pre><code>public class MostFrequentIntegerInAnArray {\n\n    public static void main(String[] args) {\n        int[] items = new int[]{2,1,43,1,6,73,5,4,65,1,3,6,1,1};\n        System.out.println(\"Most common item = \"+getMostFrequentInt(items));\n    }\n\n    //Time Complexity = O(N)\n    //Space Complexity = O(N)\n    public static int getMostFrequentInt(int[] items){\n        Map&lt;Integer, Integer&gt; itemsMap = new HashMap&lt;Integer, Integer&gt;(items.length);\n        for(int item : items){\n            if(!itemsMap.containsKey(item))\n                itemsMap.put(item, 1);\n            else\n                itemsMap.put(item, itemsMap.get(item)+1);\n        }\n\n        int maxCount = Integer.MIN_VALUE;\n        for(Entry&lt;Integer, Integer&gt; entry : itemsMap.entrySet()){\n            if(entry.getValue() &gt; maxCount)\n                maxCount = entry.getValue();\n        }\n        return maxCount;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9668806,"reputation":67,"user_id":7174493,"display_name":"Yuvaraj Ram"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1518697173,"creation_date":1518608173,"answer_id":48786264,"question_id":8545590,"body_markdown":"You can count the occurrences of the different numbers, then look for the highest one. This is an example that uses a Map, but could relatively easily be adapted to native arrays.\r\n\r\nSecond largest element: \r\nLet us take example : [1,5,4,2,3] in this case, \r\nSecond largest element will be 4. \r\n\r\n1. Sort the Array in descending order, once the sort done output will be \r\nA = [5,4,3,2,1] \r\n\r\n2. Get the Second Largest Element from the sorted array Using Index 1. A[1] -&gt; Which will give the Second largest element 4.\r\n\r\nprivate static int getMostOccuringElement(int[] A) {\r\n\t\tMap&lt;Integer, Integer&gt; occuringMap = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n        //count occurences\r\n\t\tfor (int i = 0; i &lt; A.length; i++) { \r\n\t\t\tif (occuringMap.get(A[i]) != null) {\r\n\t\t\t\tint val = occuringMap.get(A[i]) + 1;\r\n\t\t\t\toccuringMap.put(A[i], val);\r\n\t\t\t} else {\r\n\t\t\t\toccuringMap.put(A[i], 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n        //find maximum occurence\r\n\t\tint max = Integer.MIN_VALUE; \r\n\t\tint element = -1;\r\n\t\tfor (Map.Entry&lt;Integer, Integer&gt; entry : occuringMap.entrySet()) {\r\n\t\t\tif (entry.getValue() &gt; max) {\r\n\t\t\t\tmax = entry.getValue();\r\n\t\t\t\telement = entry.getKey();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn element;\r\n\t}","title":"Find the most popular element in int[] array","body":"<p>You can count the occurrences of the different numbers, then look for the highest one. This is an example that uses a Map, but could relatively easily be adapted to native arrays.</p>\n\n<p>Second largest element: \nLet us take example : [1,5,4,2,3] in this case, \nSecond largest element will be 4. </p>\n\n<ol>\n<li><p>Sort the Array in descending order, once the sort done output will be \nA = [5,4,3,2,1] </p></li>\n<li><p>Get the Second Largest Element from the sorted array Using Index 1. A[1] -> Which will give the Second largest element 4.</p></li>\n</ol>\n\n<p>private static int getMostOccuringElement(int[] A) {\n        Map occuringMap = new HashMap();</p>\n\n<pre><code>    //count occurences\n    for (int i = 0; i &lt; A.length; i++) { \n        if (occuringMap.get(A[i]) != null) {\n            int val = occuringMap.get(A[i]) + 1;\n            occuringMap.put(A[i], val);\n        } else {\n            occuringMap.put(A[i], 1);\n        }\n    }\n\n    //find maximum occurence\n    int max = Integer.MIN_VALUE; \n    int element = -1;\n    for (Map.Entry&lt;Integer, Integer&gt; entry : occuringMap.entrySet()) {\n        if (entry.getValue() &gt; max) {\n            max = entry.getValue();\n            element = entry.getKey();\n        }\n    }\n    return element;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8661461,"reputation":103,"user_id":9113673,"display_name":"MathMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520340955,"creation_date":1520339524,"answer_id":49130937,"question_id":8545590,"body_markdown":"    int largest = 0;\r\n    int k = 0;\r\n    for (int i = 0; i &lt; n; i++) {\r\n        int count = 1;\r\n        for (int j = i + 1; j &lt; n; j++) {\r\n            if (a[i] == a[j]) {\r\n                count++;\r\n            }\r\n        }\r\n        if (count &gt; largest) {\r\n            k = a[i];\r\n            largest = count;\r\n        }\r\n    }\r\n\r\nSo here `n` is the length of the array, and `a[]` is your array.\r\n\r\nFirst, take the first element and check how many times it is repeated and increase the counter (`count`) as to see how many times it occurs.\r\nCheck if this maximum number of times that a number has so far occurred if yes, then change the largest variable (to store the maximum number of repetitions) and if you would like to store the variable as well, you can do so in another variable (here `k`).\r\n\r\nI know this isn&#39;t the fastest, but definitely, the easiest way to understand","title":"Find the most popular element in int[] array","body":"<pre><code>int largest = 0;\nint k = 0;\nfor (int i = 0; i &lt; n; i++) {\n    int count = 1;\n    for (int j = i + 1; j &lt; n; j++) {\n        if (a[i] == a[j]) {\n            count++;\n        }\n    }\n    if (count &gt; largest) {\n        k = a[i];\n        largest = count;\n    }\n}\n</code></pre>\n\n<p>So here <code>n</code> is the length of the array, and <code>a[]</code> is your array.</p>\n\n<p>First, take the first element and check how many times it is repeated and increase the counter (<code>count</code>) as to see how many times it occurs.\nCheck if this maximum number of times that a number has so far occurred if yes, then change the largest variable (to store the maximum number of repetitions) and if you would like to store the variable as well, you can do so in another variable (here <code>k</code>).</p>\n\n<p>I know this isn't the fastest, but definitely, the easiest way to understand</p>\n"},{"tags":[],"owner":{"account_id":13216728,"reputation":11,"user_id":9544991,"display_name":"Pawel Seweryn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521907491,"creation_date":1521907491,"answer_id":49466867,"question_id":8545590,"body_markdown":"    public static int getMostCommonElement(int[] array) {\r\n\t\t\r\n\t\tArrays.sort(array);\r\n\t\t\r\n\t\tint frequency = 1;\r\n\t\tint biggestFrequency = 1;\r\n\t\tint mostCommonElement = 0;\r\n\t\t\r\n\t\tfor(int i=0; i&lt;array.length-1; i++) {\r\n\t\t\tfrequency = (array[i]==array[i+1]) ? frequency+1 : 1;\r\n\t\t\tif(frequency&gt;biggestFrequency) {\r\n\t\t\t\tbiggestFrequency = frequency; \r\n\t\t\t\tmostCommonElement = array[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn mostCommonElement;\r\n\t}","title":"Find the most popular element in int[] array","body":"<pre><code>public static int getMostCommonElement(int[] array) {\n\n    Arrays.sort(array);\n\n    int frequency = 1;\n    int biggestFrequency = 1;\n    int mostCommonElement = 0;\n\n    for(int i=0; i&lt;array.length-1; i++) {\n        frequency = (array[i]==array[i+1]) ? frequency+1 : 1;\n        if(frequency&gt;biggestFrequency) {\n            biggestFrequency = frequency; \n            mostCommonElement = array[i];\n        }\n    }\n\n    return mostCommonElement;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6950525,"reputation":1,"user_id":5333294,"display_name":"Ndumiso Mbete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559114129,"creation_date":1559114129,"answer_id":56354992,"question_id":8545590,"body_markdown":"    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.lang.Integer;\r\n    import java.util.Iterator;\r\n    public class FindMood {\r\n        public static void main(String [] args){\r\n        int arrayToCheckFrom [] = {1,2,4,4,5,5,5,3,3,3,3,3,3,3,3};\r\n        Map map = new HashMap&lt;Integer, Integer&gt;();\r\n        for(int i = 0 ; i &lt; arrayToCheckFrom.length; i++){\r\n        int sum = 0;\r\n          for(int k = 0 ; k &lt; arrayToCheckFrom.length ; k++){\r\n              if(arrayToCheckFrom[i]==arrayToCheckFrom[k])\r\n              sum += 1; \r\n          }\r\n          map.put(arrayToCheckFrom[i], sum);\r\n        }\r\n        System.out.println(getMaxValue(map));\r\n    }\r\n      public static Integer getMaxValue( Map&lt;Integer,Integer&gt; map){\r\n            Map.Entry&lt;Integer,Integer&gt; maxEntry = null;\r\n            Iterator iterator = map.entrySet().iterator();  \r\n            while(iterator.hasNext()){\r\n                Map.Entry&lt;Integer,Integer&gt; pair = (Map.Entry&lt;Integer,Integer&gt;) iterator.next();\r\n                if(maxEntry == null || pair.getValue().compareTo(maxEntry.getValue())&gt;0){\r\n                    maxEntry = pair; \r\n                } \r\n            }\r\n            return maxEntry.getKey();\r\n        }\r\n    }\r\n\r\n","title":"Find the most popular element in int[] array","body":"<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.lang.Integer;\nimport java.util.Iterator;\npublic class FindMood {\n    public static void main(String [] args){\n    int arrayToCheckFrom [] = {1,2,4,4,5,5,5,3,3,3,3,3,3,3,3};\n    Map map = new HashMap&lt;Integer, Integer&gt;();\n    for(int i = 0 ; i &lt; arrayToCheckFrom.length; i++){\n    int sum = 0;\n      for(int k = 0 ; k &lt; arrayToCheckFrom.length ; k++){\n          if(arrayToCheckFrom[i]==arrayToCheckFrom[k])\n          sum += 1; \n      }\n      map.put(arrayToCheckFrom[i], sum);\n    }\n    System.out.println(getMaxValue(map));\n}\n  public static Integer getMaxValue( Map&lt;Integer,Integer&gt; map){\n        Map.Entry&lt;Integer,Integer&gt; maxEntry = null;\n        Iterator iterator = map.entrySet().iterator();  \n        while(iterator.hasNext()){\n            Map.Entry&lt;Integer,Integer&gt; pair = (Map.Entry&lt;Integer,Integer&gt;) iterator.next();\n            if(maxEntry == null || pair.getValue().compareTo(maxEntry.getValue())&gt;0){\n                maxEntry = pair; \n            } \n        }\n        return maxEntry.getKey();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8233813,"reputation":149,"user_id":6193744,"display_name":"frangel02"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584480579,"creation_date":1584480579,"answer_id":60730488,"question_id":8545590,"body_markdown":"&lt;b&gt;Comparing two arrays, I Hope for that this is useful for you.&lt;/b&gt;\r\n\r\n\r\n\r\n\r\n\r\n    public static void main(String []args){\r\n\r\n            int primerArray [] = {1,2,1,3,5};\r\n            int arrayTow [] = {1,6,7,8};\r\n            \r\n            \r\n           int numberMostRepetly =  validateArrays(primerArray,arrayTow);\r\n\r\n           System.out.println(numberMostRepetly);\r\n\r\n\r\n    }\r\n    \r\n    \r\n    public static int validateArrays(int primerArray[], int arrayTow[]){\r\n\r\n        int numVeces = 0;\r\n        \r\n        for(int i = 0; i&lt; primerArray.length; i++){\r\n\r\n            for(int c = i+1; c &lt; primerArray.length; c++){\r\n\r\n                if(primerArray[i] == primerArray[c]){\r\n                    numVeces = primerArray[c];\r\n                    // System.out.println(&quot;Numero que mas se repite&quot;);\r\n                    //System.out.println(numVeces);\r\n                }\r\n            }\r\n\r\n            for(int a = 0; a &lt; arrayTow.length; a++){\r\n\r\n                if(numVeces == arrayTow[a]){\r\n                   // System.out.println(numVeces);\r\n                    return numVeces;\r\n                }\r\n            }\r\n        }\r\n\r\n        return 0;\r\n\r\n    }\r\n\r\n","title":"Find the most popular element in int[] array","body":"<p><b>Comparing two arrays, I Hope for that this is useful for you.</b></p>\n\n<pre><code>public static void main(String []args){\n\n        int primerArray [] = {1,2,1,3,5};\n        int arrayTow [] = {1,6,7,8};\n\n\n       int numberMostRepetly =  validateArrays(primerArray,arrayTow);\n\n       System.out.println(numberMostRepetly);\n\n\n}\n\n\npublic static int validateArrays(int primerArray[], int arrayTow[]){\n\n    int numVeces = 0;\n\n    for(int i = 0; i&lt; primerArray.length; i++){\n\n        for(int c = i+1; c &lt; primerArray.length; c++){\n\n            if(primerArray[i] == primerArray[c]){\n                numVeces = primerArray[c];\n                // System.out.println(\"Numero que mas se repite\");\n                //System.out.println(numVeces);\n            }\n        }\n\n        for(int a = 0; a &lt; arrayTow.length; a++){\n\n            if(numVeces == arrayTow[a]){\n               // System.out.println(numVeces);\n                return numVeces;\n            }\n        }\n    }\n\n    return 0;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7759264,"reputation":1070,"user_id":5872537,"accept_rate":0,"display_name":"Erick Mwazonga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636829731,"creation_date":1636829731,"answer_id":69957306,"question_id":8545590,"body_markdown":"### Solution 1: Hashmap: O(n)\r\n\r\n```py\r\ndef most_freq_elem(arr):\r\n    frequency = {}\r\n    most_frequent, most_count = -1, 0\r\n\r\n    for num in arr:\r\n        frequency[num] = frequency.get(num, 0) + 1\r\n\r\n        if frequency[num] &gt; most_count:\r\n            most_count = frequency[num]\r\n            most_frequent = num\r\n\r\n    return most_frequent\r\n```\r\n\r\n### Solution 2: Hashmap + Max: O(n)\r\n\r\n```py\r\ndef most_freq_elem(arr):\r\n    frequency = {}\r\n\r\n    for num in arr:\r\n        frequency[num] = frequency.get(num, 0) + 1\r\n\r\n    return max(frequency, key=frequency.get)\r\n```","title":"Find the most popular element in int[] array","body":"<h3>Solution 1: Hashmap: O(n)</h3>\n<pre class=\"lang-py prettyprint-override\"><code>def most_freq_elem(arr):\n    frequency = {}\n    most_frequent, most_count = -1, 0\n\n    for num in arr:\n        frequency[num] = frequency.get(num, 0) + 1\n\n        if frequency[num] &gt; most_count:\n            most_count = frequency[num]\n            most_frequent = num\n\n    return most_frequent\n</code></pre>\n<h3>Solution 2: Hashmap + Max: O(n)</h3>\n<pre class=\"lang-py prettyprint-override\"><code>def most_freq_elem(arr):\n    frequency = {}\n\n    for num in arr:\n        frequency[num] = frequency.get(num, 0) + 1\n\n    return max(frequency, key=frequency.get)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649093240,"creation_date":1649093240,"answer_id":71741349,"question_id":8545590,"body_markdown":"        import java.util.HashMap;\r\n        import java.util.Map;\r\n        import java.util.Set;\r\n        import java.util.Map.Entry;\r\n        \r\n        public class MostOccuringEleementInArrayOfIntegers {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \r\n        \t\tint[] arr = { 1, 2, 3, 4, 4, 5, 3, 2, 1, 6, 7, 1, 2, 3, 2 };\r\n        \r\n        \t\tMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n        \r\n        \t\tfor (int num : arr) {\r\n        \r\n        \t\t\tif (map.containsKey(num)) {\r\n        \t\t\t\tmap.put(num, map.get(num) + 1);\r\n        \t\t\t} else {\r\n        \t\t\t\tmap.put(num, 1);\r\n        \t\t\t}\r\n        \r\n        \t\t}\r\n        \r\n        \t\tSet&lt;Entry&lt;Integer, Integer&gt;&gt; entrySet = map.entrySet();\r\n        \r\n        \t\tint max = 1;\r\n        \t\tint mostFrequent = 1;\r\n        \r\n    \t\tfor (Entry&lt;Integer, Integer&gt; e : map.entrySet()) {\r\n    // \t\tSwapping of the elements who is occuring most\r\n    \t\t\tif (e.getValue() &gt; max) {\r\n    \t\t\t\tmostFrequent = e.getKey();\r\n    \t\t\t\tmax = e.getValue();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    //\t\tPrint most frequent element\r\n    \t\tSystem.out.println(&quot;Most frequent element: &quot; + mostFrequent);\r\n    \r\n    \t   }\r\n        }","title":"Find the most popular element in int[] array","body":"<pre><code>    import java.util.HashMap;\n    import java.util.Map;\n    import java.util.Set;\n    import java.util.Map.Entry;\n    \n    public class MostOccuringEleementInArrayOfIntegers {\n    \n        public static void main(String[] args) {\n    \n            int[] arr = { 1, 2, 3, 4, 4, 5, 3, 2, 1, 6, 7, 1, 2, 3, 2 };\n    \n            Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\n    \n            for (int num : arr) {\n    \n                if (map.containsKey(num)) {\n                    map.put(num, map.get(num) + 1);\n                } else {\n                    map.put(num, 1);\n                }\n    \n            }\n    \n            Set&lt;Entry&lt;Integer, Integer&gt;&gt; entrySet = map.entrySet();\n    \n            int max = 1;\n            int mostFrequent = 1;\n    \n        for (Entry&lt;Integer, Integer&gt; e : map.entrySet()) {\n//      Swapping of the elements who is occuring most\n            if (e.getValue() &gt; max) {\n                mostFrequent = e.getKey();\n                max = e.getValue();\n            }\n        }\n\n//      Print most frequent element\n        System.out.println(&quot;Most frequent element: &quot; + mostFrequent);\n\n       }\n    }\n</code></pre>\n"}],"owner":{"account_id":798162,"reputation":10717,"user_id":936651,"accept_rate":65,"display_name":"SexyMF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174808,"favorite_count":0,"down_vote_count":1,"up_vote_count":43,"accepted_answer_id":8545802,"answer_count":27,"score":42,"last_activity_date":1649093240,"creation_date":1324134204,"question_id":8545590,"body_markdown":"    int[] a = new int[10]{1,2,3,4,5,6,7,7,7,7};\r\n\r\nhow can I write a method and return 7?\r\n\r\nI want to keep it native without the help of lists, maps or other helpers.\r\nOnly arrays[].\r\n","title":"Find the most popular element in int[] array","body":"<pre><code>int[] a = new int[10]{1,2,3,4,5,6,7,7,7,7};\n</code></pre>\n\n<p>how can I write a method and return 7?</p>\n\n<p>I want to keep it native without the help of lists, maps or other helpers.\nOnly arrays[].</p>\n"},{"tags":["java","deadlock"],"comments":[{"owner":{"account_id":24621095,"reputation":1,"user_id":18521441,"display_name":"ErminioB"},"score":0,"creation_date":1649093619,"post_id":71741318,"comment_id":126784086,"body_markdown":"Thanks @Slaw, that is my guess too - is there a way to resolve this deadlock other than modifying how the threads work?","body":"Thanks @Slaw, that is my guess too - is there a way to resolve this deadlock other than modifying how the threads work?"},{"owner":{"account_id":24621095,"reputation":1,"user_id":18521441,"display_name":"ErminioB"},"score":0,"creation_date":1649094019,"post_id":71741318,"comment_id":126784210,"body_markdown":"Point taken about getLevel(), thanks @Slaw.","body":"Point taken about getLevel(), thanks @Slaw."}],"owner":{"account_id":24621095,"reputation":1,"user_id":18521441,"display_name":"ErminioB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649093066,"creation_date":1649093066,"question_id":71741318,"body_markdown":"Good day,\r\nI wrote an example to verify my understanding of the Condition interface in Java - there is a tank and two threads, one to try and put in a random quantity of water, the other to try and remove a random quantity of water. I use a condition to make the first thread to wait when putting water in would exceed the tank capacity and another condition to make the second thread to wait when there is not enough water in the tank. But I end up with both threads waiting forever - I take that, say, one thread gets blocked from putting water in, then the other thread gets also blocked from taking water out and at this point none of the threads can unlock the other one. Did I misunderstand the condition interface or my thread logic is wrong?\r\nThanks! Erminio.\r\n\r\n```\r\npackage conditioninterface;\r\n\r\nimport java.util.concurrent.locks.Condition;\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\n\r\nclass Tank\r\n{\r\n    final static int TANK_CAPACITY = 50;\r\n    \r\n    private int level;\r\n    \r\n    Lock tankLock = new ReentrantLock( true );\r\n    \r\n    Condition tankNotFull = tankLock.newCondition();\r\n    Condition tankNotEmptied = tankLock.newCondition();\r\n    \r\n    \r\n    public Tank( int initLevel )\r\n    {\r\n        level = initLevel;\r\n    }\r\n    \r\n    public void fillTank( int quantityToAdd ) throws InterruptedException \r\n    {\r\n        tankLock.lock();\r\n        \r\n        try\r\n        {\r\n            while( ( level + quantityToAdd ) &gt; TANK_CAPACITY )\r\n            {\r\n                tankNotFull.await();\r\n            }\r\n\r\n            level += quantityToAdd;\r\n\r\n            tankNotEmptied.signalAll();\r\n        }\r\n        finally\r\n        {\r\n            tankLock.unlock();\r\n        }        \r\n    }\r\n    \r\n    public int emptyTank( int quantityToRemove ) throws InterruptedException\r\n    {\r\n        int quantity = 0;\r\n        \r\n        tankLock.lock();\r\n        \r\n        try\r\n        {\r\n            while( ( level - quantityToRemove ) &lt; 0 )\r\n            {\r\n                tankNotEmptied.await();\r\n            }\r\n\r\n            level -= quantityToRemove;\r\n\r\n            tankNotFull.signalAll(); \r\n        }\r\n        finally\r\n        {\r\n            tankLock.unlock();            \r\n        }\r\n        \r\n        return quantity;\r\n    }\r\n    \r\n    public synchronized int getLevel( )\r\n    {\r\n        return level;\r\n    }\r\n}\r\n\r\npublic class Main\r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        Tank aTank = new Tank( 0 );\r\n        \r\n        Thread tankFiller = new Thread( ( ) -&gt; \r\n        {\r\n            int cycles = 1;\r\n            \r\n            while( cycles++ &lt; 20 )\r\n            {\r\n                try\r\n                {\r\n                    aTank.fillTank((int)(Tank.TANK_CAPACITY * Math.random()));\r\n                }\r\n                catch( InterruptedException iE )\r\n                {\r\n                    System.out.println( iE.getMessage() );\r\n                }\r\n                finally\r\n                {\r\n                    System.out.printf( &quot;Tank level: %d\\n&quot;, aTank.getLevel() );\r\n                }\r\n            }\r\n        });\r\n        \r\n        Thread tankEmpty = new Thread( ( ) -&gt; \r\n        {\r\n            int cycles = 1;\r\n            \r\n            while( cycles++ &lt; 20 )\r\n            {\r\n                try\r\n                {\r\n                    aTank.emptyTank((int)(Tank.TANK_CAPACITY * Math.random()));\r\n                }\r\n                catch( InterruptedException iE )\r\n                {\r\n                    System.out.println( iE.getMessage() );\r\n                }\r\n                finally\r\n                {\r\n                    System.out.printf( &quot;Tank level: %d\\n&quot;, aTank.getLevel() );\r\n                }\r\n            }\r\n        });\r\n        \r\n        tankFiller.start();\r\n        \r\n        tankEmpty.start();      \r\n    }\r\n}\r\n```\r\n\r\nI looked around the web for deadlock solutions, but none of them seems to apply to this case.","title":"Java Condition interface example ends in deadlock","body":"<p>Good day,\nI wrote an example to verify my understanding of the Condition interface in Java - there is a tank and two threads, one to try and put in a random quantity of water, the other to try and remove a random quantity of water. I use a condition to make the first thread to wait when putting water in would exceed the tank capacity and another condition to make the second thread to wait when there is not enough water in the tank. But I end up with both threads waiting forever - I take that, say, one thread gets blocked from putting water in, then the other thread gets also blocked from taking water out and at this point none of the threads can unlock the other one. Did I misunderstand the condition interface or my thread logic is wrong?\nThanks! Erminio.</p>\n<pre><code>package conditioninterface;\n\nimport java.util.concurrent.locks.Condition;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\nclass Tank\n{\n    final static int TANK_CAPACITY = 50;\n    \n    private int level;\n    \n    Lock tankLock = new ReentrantLock( true );\n    \n    Condition tankNotFull = tankLock.newCondition();\n    Condition tankNotEmptied = tankLock.newCondition();\n    \n    \n    public Tank( int initLevel )\n    {\n        level = initLevel;\n    }\n    \n    public void fillTank( int quantityToAdd ) throws InterruptedException \n    {\n        tankLock.lock();\n        \n        try\n        {\n            while( ( level + quantityToAdd ) &gt; TANK_CAPACITY )\n            {\n                tankNotFull.await();\n            }\n\n            level += quantityToAdd;\n\n            tankNotEmptied.signalAll();\n        }\n        finally\n        {\n            tankLock.unlock();\n        }        \n    }\n    \n    public int emptyTank( int quantityToRemove ) throws InterruptedException\n    {\n        int quantity = 0;\n        \n        tankLock.lock();\n        \n        try\n        {\n            while( ( level - quantityToRemove ) &lt; 0 )\n            {\n                tankNotEmptied.await();\n            }\n\n            level -= quantityToRemove;\n\n            tankNotFull.signalAll(); \n        }\n        finally\n        {\n            tankLock.unlock();            \n        }\n        \n        return quantity;\n    }\n    \n    public synchronized int getLevel( )\n    {\n        return level;\n    }\n}\n\npublic class Main\n{\n    public static void main( String[] args )\n    {\n        Tank aTank = new Tank( 0 );\n        \n        Thread tankFiller = new Thread( ( ) -&gt; \n        {\n            int cycles = 1;\n            \n            while( cycles++ &lt; 20 )\n            {\n                try\n                {\n                    aTank.fillTank((int)(Tank.TANK_CAPACITY * Math.random()));\n                }\n                catch( InterruptedException iE )\n                {\n                    System.out.println( iE.getMessage() );\n                }\n                finally\n                {\n                    System.out.printf( &quot;Tank level: %d\\n&quot;, aTank.getLevel() );\n                }\n            }\n        });\n        \n        Thread tankEmpty = new Thread( ( ) -&gt; \n        {\n            int cycles = 1;\n            \n            while( cycles++ &lt; 20 )\n            {\n                try\n                {\n                    aTank.emptyTank((int)(Tank.TANK_CAPACITY * Math.random()));\n                }\n                catch( InterruptedException iE )\n                {\n                    System.out.println( iE.getMessage() );\n                }\n                finally\n                {\n                    System.out.printf( &quot;Tank level: %d\\n&quot;, aTank.getLevel() );\n                }\n            }\n        });\n        \n        tankFiller.start();\n        \n        tankEmpty.start();      \n    }\n}\n</code></pre>\n<p>I looked around the web for deadlock solutions, but none of them seems to apply to this case.</p>\n"},{"tags":["java","eclipse","post","servlets"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649092453,"creation_date":1649092453,"answer_id":71741195,"question_id":71740698,"body_markdown":"Take a good look at the doc for `getReader()` and `getParameter()`. They do not access the same parts of an HTTP request--`getReader()` operates on the body, not the parameters.\r\n\r\nWhile you have extracted the body of the request into a String, you&#39;ll need to parse the json from the string to do what you&#39;re trying to do. Often you&#39;ll see Jackson or GSON used for this, but typically they&#39;re used with a framework for building services, and not raw Servlets.","title":"Why is my getParameter returning null when my request has all the values?","body":"<p>Take a good look at the doc for <code>getReader()</code> and <code>getParameter()</code>. They do not access the same parts of an HTTP request--<code>getReader()</code> operates on the body, not the parameters.</p>\n<p>While you have extracted the body of the request into a String, you'll need to parse the json from the string to do what you're trying to do. Often you'll see Jackson or GSON used for this, but typically they're used with a framework for building services, and not raw Servlets.</p>\n"}],"owner":{"account_id":24405238,"reputation":175,"user_id":18333509,"display_name":"Rick45888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":838,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1649092835,"answer_count":1,"score":-3,"last_activity_date":1649092453,"creation_date":1649089970,"question_id":71740698,"body_markdown":"I am sending some data from my react app through Axios to my backend on Eclipse through servlets. My POST request has the right payload and even when I inspect the request with the code `request.getReader().lines().collect(Collectors.joining(System.lineSeparator()))`, I get the entire contents of the request. It&#39;s a JSON format:\r\n\r\n&gt; {&quot;business_code&quot;:&quot;90&quot;,&quot;number&quot;:&quot;90&quot;,&quot;date&quot;:&quot;2022-01-10&quot;...\r\n\r\nBut when I try to get the value from any of the fields, it stores a null string and my numerical fields then throw an exception. Null string:\r\n\r\n    System.out.println(&quot;Bizz Code&quot; + request.getParameter(&quot;business_code&quot;));\r\n\r\n&gt; Bizz Codenull\r\n\r\nI don&#39;t understand why I am getting null when everything is actually there. Why is this happening?\r\n\r\n","title":"Why is my getParameter returning null when my request has all the values?","body":"<p>I am sending some data from my react app through Axios to my backend on Eclipse through servlets. My POST request has the right payload and even when I inspect the request with the code <code>request.getReader().lines().collect(Collectors.joining(System.lineSeparator()))</code>, I get the entire contents of the request. It's a JSON format:</p>\n<blockquote>\n<p>{&quot;business_code&quot;:&quot;90&quot;,&quot;number&quot;:&quot;90&quot;,&quot;date&quot;:&quot;2022-01-10&quot;...</p>\n</blockquote>\n<p>But when I try to get the value from any of the fields, it stores a null string and my numerical fields then throw an exception. Null string:</p>\n<pre><code>System.out.println(&quot;Bizz Code&quot; + request.getParameter(&quot;business_code&quot;));\n</code></pre>\n<blockquote>\n<p>Bizz Codenull</p>\n</blockquote>\n<p>I don't understand why I am getting null when everything is actually there. Why is this happening?</p>\n"},{"tags":["java","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":24422841,"reputation":110,"user_id":18464679,"display_name":"ubw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649092394,"creation_date":1649037822,"answer_id":71731306,"question_id":71729496,"body_markdown":"Store the former root in a local variable, then update the &lt;code&gt;root&lt;/code&gt; field by deleting the former root, then return the former root.\r\n\r\n\r\n    public Node dequeue() {\r\n       final Node formerRoot = root;\r\n       root = delete(root, root.key);\r\n       return formerRoot;\r\n    }\r\n\r\nEdit: There is an issue in your delete(...) method. It modifies the root object: \r\n\r\n    root.key = succesor(root.right);\r\n    root.right = delete(root.right, root.key);\r\n\r\nThis means that the Node object returned from dequeue() now contains the key of the new root instead of the dequeued one. To fix this, replace this two lines from delete(...) by something like:\r\n\r\n    final Node newRoot = new Node();\r\n    newRoot.key = succesor(root.right);\r\n    newRoot.left = root.left;\r\n    newRoot.right = delete(root.right, root.key);\r\n    return newRoot;\r\n\r\nThis will keep the original data in the dequeued root object and copy the data of the new root to a new Node object.","title":"How to dequeue and return the root of an binary search tree?","body":"<p>Store the former root in a local variable, then update the <code>root</code> field by deleting the former root, then return the former root.</p>\n<pre><code>public Node dequeue() {\n   final Node formerRoot = root;\n   root = delete(root, root.key);\n   return formerRoot;\n}\n</code></pre>\n<p>Edit: There is an issue in your delete(...) method. It modifies the root object:</p>\n<pre><code>root.key = succesor(root.right);\nroot.right = delete(root.right, root.key);\n</code></pre>\n<p>This means that the Node object returned from dequeue() now contains the key of the new root instead of the dequeued one. To fix this, replace this two lines from delete(...) by something like:</p>\n<pre><code>final Node newRoot = new Node();\nnewRoot.key = succesor(root.right);\nnewRoot.left = root.left;\nnewRoot.right = delete(root.right, root.key);\nreturn newRoot;\n</code></pre>\n<p>This will keep the original data in the dequeued root object and copy the data of the new root to a new Node object.</p>\n"}],"owner":{"display_name":"user15227357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71731306,"answer_count":1,"score":-1,"last_activity_date":1649092394,"creation_date":1649016675,"question_id":71729496,"body_markdown":"So I&#39;ve been working on this problem where I&#39;m building a Binary Search Tree. Ive got every method to work, even have junit test done.\r\n\r\nBut the problem comes when i use the method dequeue() \r\n\r\n    public Node dequeue() {\r\n\t\treturn root = delete(root, root.key);\r\n\t}\r\nwhich in turn uses the method delete(root, root.key)\r\n\r\n    Node delete(Node root, Integer key) {\r\n\r\n\t\tif (root == null)\r\n\t\t\treturn root;\r\n\r\n\t\tif (key &lt; root.key)\r\n\t\t\troot.left = delete(root.left, key);\r\n\t\telse if (key &gt; root.key)\r\n\t\t\troot.right = delete(root.right, key);\r\n\t\telse {\r\n\t\t\tif (root.left == null)\r\n\t\t\t\treturn root.right;\r\n\t\t\telse if (root.right == null)\r\n\t\t\t\treturn root.left;\r\n\t\t\t\r\n\t\t\troot.key = succesor(root.right);\r\n\t\t\troot.right = delete(root.right, root.key);\r\n\t\t}\r\n\r\n\t\treturn root;\r\n\t}\r\n\r\n\tint succesor(Node root) {\r\n\t\tint minv = root.key;\r\n\r\n\t\twhile (root.left != null) {\r\n\t\t\tminv = root.left.key;\r\n\t\t\troot = root.left;\r\n\t\t}\r\n\t\treturn minv;\r\n\t}\r\nWhat this code does is remove the root value and replace it with the smallest in the right subtree and then it should return the removed root value but instead i get the new root value.\r\n\r\nEx with a junit test:\r\n\r\n    \t@Test\r\n\t@DisplayName(&quot;Dequeue Test&quot;)\r\n\tvoid test6() {\r\n\t\tque.enqueue(10);\r\n\t\tque.enqueue(5);\r\n\t\tque.enqueue(6);\r\n\t\tque.enqueue(15);\r\n\t\tque.enqueue(14);\r\n\t\tque.enqueue(13);\r\n\r\n\t\tassertEquals(10, que.dequeue().key);\r\n\t\tassertEquals(13, que.dequeue().key);\r\n\t\tassertEquals(14, que.dequeue().key);\r\n\r\n\t}\r\nWhere you can see in the method que.enqueue(10); is now the root value. After inserting all of the values in the test we come to assertEquals(10, que.dequeue().key);, where i expect 10 but i get the new root which is 13.\r\n\r\nIm aware that my root value changes when i call root.key = succesor(root.right); and i need something that could capture that 10 before the tree gets remade but im clueless to what.\r\n\r\nSo how can i capture 10 before it gets changed to 13 in this case?\r\n","title":"How to dequeue and return the root of an binary search tree?","body":"<p>So I've been working on this problem where I'm building a Binary Search Tree. Ive got every method to work, even have junit test done.</p>\n<p>But the problem comes when i use the method dequeue()</p>\n<pre><code>public Node dequeue() {\n    return root = delete(root, root.key);\n}\n</code></pre>\n<p>which in turn uses the method delete(root, root.key)</p>\n<pre><code>Node delete(Node root, Integer key) {\n\n    if (root == null)\n        return root;\n\n    if (key &lt; root.key)\n        root.left = delete(root.left, key);\n    else if (key &gt; root.key)\n        root.right = delete(root.right, key);\n    else {\n        if (root.left == null)\n            return root.right;\n        else if (root.right == null)\n            return root.left;\n        \n        root.key = succesor(root.right);\n        root.right = delete(root.right, root.key);\n    }\n\n    return root;\n}\n\nint succesor(Node root) {\n    int minv = root.key;\n\n    while (root.left != null) {\n        minv = root.left.key;\n        root = root.left;\n    }\n    return minv;\n}\n</code></pre>\n<p>What this code does is remove the root value and replace it with the smallest in the right subtree and then it should return the removed root value but instead i get the new root value.</p>\n<p>Ex with a junit test:</p>\n<pre><code>    @Test\n@DisplayName(&quot;Dequeue Test&quot;)\nvoid test6() {\n    que.enqueue(10);\n    que.enqueue(5);\n    que.enqueue(6);\n    que.enqueue(15);\n    que.enqueue(14);\n    que.enqueue(13);\n\n    assertEquals(10, que.dequeue().key);\n    assertEquals(13, que.dequeue().key);\n    assertEquals(14, que.dequeue().key);\n\n}\n</code></pre>\n<p>Where you can see in the method que.enqueue(10); is now the root value. After inserting all of the values in the test we come to assertEquals(10, que.dequeue().key);, where i expect 10 but i get the new root which is 13.</p>\n<p>Im aware that my root value changes when i call root.key = succesor(root.right); and i need something that could capture that 10 before the tree gets remade but im clueless to what.</p>\n<p>So how can i capture 10 before it gets changed to 13 in this case?</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1456335821,"creation_date":1456335024,"answer_id":35609042,"question_id":35608861,"body_markdown":"I can make following observations after looking at `GroupMemberMap` Class:\r\n\r\n1. Constructor is missing.\r\n2. Getter-Setter for the `UserId` is incorrect.\r\n\r\nAlso, you can add optional `@JsonIgnoreProperties` to ignore all other unknown fields.\r\n\r\nHere is the corrected code snippet:\r\n\r\n    package com.tazligen.model;\r\n\r\n    @XmlRootElement\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class GroupMemberMap {\r\n    \r\n        @JsonProperty(&quot;userId&quot;)\r\n        private String userId;\r\n        @JsonProperty(&quot;groupId&quot;)\r\n        private String groupId;\r\n\r\n        /* Add Constructor */\r\n        public GroupMemberMap() {}\r\n        \r\n        /* Corrected Name */\r\n        public String getUserId() {\r\n            return userId;\r\n        }\r\n\r\n        /* Corrected Name */\r\n        public void setUserId(String userId) {\r\n            this.userId = userId;\r\n        }\r\n\r\n        public String getGroupId() {\r\n            return groupId;\r\n        }\r\n\r\n        public void setGroupId(String groupId) {\r\n            this.groupId = groupId;\r\n        }    \r\n    }","title":"UnrecognizedPropertyException: Unrecognized field not marked as ignorable at Source: org.apache.catalina.connector.CoyoteInputStream@14ec141","body":"<p>I can make following observations after looking at <code>GroupMemberMap</code> Class:</p>\n\n<ol>\n<li>Constructor is missing.</li>\n<li>Getter-Setter for the <code>UserId</code> is incorrect.</li>\n</ol>\n\n<p>Also, you can add optional <code>@JsonIgnoreProperties</code> to ignore all other unknown fields.</p>\n\n<p>Here is the corrected code snippet:</p>\n\n<pre><code>package com.tazligen.model;\n\n@XmlRootElement\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class GroupMemberMap {\n\n    @JsonProperty(\"userId\")\n    private String userId;\n    @JsonProperty(\"groupId\")\n    private String groupId;\n\n    /* Add Constructor */\n    public GroupMemberMap() {}\n\n    /* Corrected Name */\n    public String getUserId() {\n        return userId;\n    }\n\n    /* Corrected Name */\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public String getGroupId() {\n        return groupId;\n    }\n\n    public void setGroupId(String groupId) {\n        this.groupId = groupId;\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9755346,"reputation":7480,"user_id":7232295,"accept_rate":86,"display_name":"Uddhav P. Gautam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1596563479,"creation_date":1596563479,"answer_id":63252478,"question_id":35608861,"body_markdown":"**Just modify  userId and groupId `public`.** By default, Jackson works on public member variables.\r\n\r\nI think JsonIgnoreProperties is not solution as it is used to ignore whatever it doesn&#39;t recognize.\r\n\r\n    public String userId;\r\n    public String groupId;","title":"UnrecognizedPropertyException: Unrecognized field not marked as ignorable at Source: org.apache.catalina.connector.CoyoteInputStream@14ec141","body":"<p><strong>Just modify  userId and groupId <code>public</code>.</strong> By default, Jackson works on public member variables.</p>\n<p>I think JsonIgnoreProperties is not solution as it is used to ignore whatever it doesn't recognize.</p>\n<pre><code>public String userId;\npublic String groupId;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19135528,"reputation":53,"user_id":13976582,"display_name":"Yash Nasery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630059741,"creation_date":1630059741,"answer_id":68951802,"question_id":35608861,"body_markdown":"I was using lombok to generate getters and setters with @Getter and @Setter annotation. Now what solved a similar issue for me was converting data type of a field from primary java type boolean to Boolean. Lombok only generated a getter for it only if I used Boolean fieldName.","title":"UnrecognizedPropertyException: Unrecognized field not marked as ignorable at Source: org.apache.catalina.connector.CoyoteInputStream@14ec141","body":"<p>I was using lombok to generate getters and setters with @Getter and @Setter annotation. Now what solved a similar issue for me was converting data type of a field from primary java type boolean to Boolean. Lombok only generated a getter for it only if I used Boolean fieldName.</p>\n"},{"tags":[],"owner":{"account_id":5000176,"reputation":9,"user_id":4019444,"display_name":"Medha Pundir"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649092172,"creation_date":1649092172,"answer_id":71741128,"question_id":35608861,"body_markdown":"above solution worked for me and I had string array inside json object .\r\nI used JsonIgnore properties and replaced square brackets for the objects inside json object..","title":"UnrecognizedPropertyException: Unrecognized field not marked as ignorable at Source: org.apache.catalina.connector.CoyoteInputStream@14ec141","body":"<p>above solution worked for me and I had string array inside json object .\nI used JsonIgnore properties and replaced square brackets for the objects inside json object..</p>\n"}],"owner":{"account_id":7802651,"reputation":697,"user_id":5901482,"accept_rate":44,"display_name":"Syed Muhammad Oan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46912,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":35609042,"answer_count":4,"score":10,"last_activity_date":1649092172,"creation_date":1456334516,"question_id":35608861,"body_markdown":"I am making rest web-services my code is:\r\n\r\n    @Path(&quot;/add&quot;)\r\n\t@POST\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic Response addMembers(List&lt;GroupMemberMap&gt; groupMemberMaps){\r\n\t\tString message = &quot;&quot;;\t\t\t\r\n\t\tSystem.out.println(&quot;Inside addMembers of class &quot;+this.toString());\t\t\r\n\t\ttry {\r\n\t\t\tDBConnection.insertMembers(groupMemberMaps);\r\n\t\t\tmessage = &quot;Member(s) added&quot;;\r\n\t\t\treturn Response.status(Status.CREATED)\r\n\t\t\t\t\t.entity(message)\r\n\t\t\t\t\t.type(MediaType.TEXT_PLAIN)\r\n\t\t\t\t\t.build();\r\n\t\t} catch(SQLException sqle){\r\n\t\t\tSystem.out.println(&quot;addMembers catch sqle&quot;);\r\n\t\t\tmessage = &quot;A problem occured while adding members : &quot;+sqle.getMessage();\r\n\t\t\treturn Response.status(Status.INTERNAL_SERVER_ERROR)\r\n\t\t\t\t\t.entity(message)\r\n\t\t\t\t\t.type(MediaType.TEXT_PLAIN)\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tSystem.out.println(&quot;Inside addMembers catch  &quot;+e.getMessage());\r\n\t\t\tmessage = &quot;A problem occured while adding members : &quot;+e.getMessage();\r\n\t\t\treturn Response.status(Status.INTERNAL_SERVER_ERROR)\r\n\t\t\t\t\t.entity(message)\r\n\t\t\t\t\t.type(MediaType.TEXT_PLAIN)\r\n\t\t\t\t\t.build();\r\n\t\t}\t\t\r\n\t}\r\n\r\nbut when i call it with this Json :\r\n\r\n    [\r\n    {\r\n        &quot;userId&quot;:&quot;3&quot;,\r\n        &quot;groupId&quot;:&quot;4&quot;\r\n    }\r\n    ]\r\n\r\nI&#39;m getting following Exception:\r\n\r\n&gt; javax.servlet.ServletException: org.codehaus.jackson.map.exc.UnrecognizedPropertyException: Unrecognized field &quot;userId&quot; (Class com.tazligen.model.GroupMemberMap), not marked as ignorable at [Source: org.apache.catalina.connector.CoyoteInputStream@14ec141; line: 2, column: 15] (through reference chain: com.tazligen.model.GroupMemberMap[&quot;userId&quot;])\r\n\r\nMy GrouMemberMap model class is :\r\n\r\n    package com.tazligen.model;\r\n    \r\n    @XmlRootElement\r\n    public class GroupMemberMap {\r\n\r\n\tprivate String userId;\r\n\tprivate String groupId;\r\n\t\r\n\tpublic String getUserid() {\r\n\t\treturn userId;\r\n\t}\r\n\tpublic void setUserid(String userId) {\r\n\t\tthis.userId = userId;\r\n\t}\r\n\tpublic String getGroupId() {\r\n\t\treturn groupId;\r\n\t}\r\n\tpublic void setGroupId(String groupId) {\r\n\t\tthis.groupId = groupId;\r\n\t}\t\t}\r\n\r\nI have tried another method just like this :\r\n\r\n    @Path(&quot;/membertest&quot;)\r\n\t@POST\t\r\n\tpublic String test(List&lt;User&gt; members){\r\n\t\treturn &quot;Test subresource members working&quot;;\r\n\t}\r\n\r\nwith json \r\n\r\n    [{\r\n    &quot;userId&quot;:&quot;3&quot;,\r\n    &quot;userName&quot;:&quot;John&quot;}]\r\n\r\nbut this works alright :/\r\n\r\n\r\nNeed Someone help.","title":"UnrecognizedPropertyException: Unrecognized field not marked as ignorable at Source: org.apache.catalina.connector.CoyoteInputStream@14ec141","body":"<p>I am making rest web-services my code is:</p>\n\n<pre><code>@Path(\"/add\")\n@POST\n@Produces(MediaType.APPLICATION_JSON)\npublic Response addMembers(List&lt;GroupMemberMap&gt; groupMemberMaps){\n    String message = \"\";            \n    System.out.println(\"Inside addMembers of class \"+this.toString());      \n    try {\n        DBConnection.insertMembers(groupMemberMaps);\n        message = \"Member(s) added\";\n        return Response.status(Status.CREATED)\n                .entity(message)\n                .type(MediaType.TEXT_PLAIN)\n                .build();\n    } catch(SQLException sqle){\n        System.out.println(\"addMembers catch sqle\");\n        message = \"A problem occured while adding members : \"+sqle.getMessage();\n        return Response.status(Status.INTERNAL_SERVER_ERROR)\n                .entity(message)\n                .type(MediaType.TEXT_PLAIN)\n                .build();\n    }\n    catch (Exception e) {\n        // TODO Auto-generated catch block\n        System.out.println(\"Inside addMembers catch  \"+e.getMessage());\n        message = \"A problem occured while adding members : \"+e.getMessage();\n        return Response.status(Status.INTERNAL_SERVER_ERROR)\n                .entity(message)\n                .type(MediaType.TEXT_PLAIN)\n                .build();\n    }       \n}\n</code></pre>\n\n<p>but when i call it with this Json :</p>\n\n<pre><code>[\n{\n    \"userId\":\"3\",\n    \"groupId\":\"4\"\n}\n]\n</code></pre>\n\n<p>I'm getting following Exception:</p>\n\n<blockquote>\n  <p>javax.servlet.ServletException: org.codehaus.jackson.map.exc.UnrecognizedPropertyException: Unrecognized field \"userId\" (Class com.tazligen.model.GroupMemberMap), not marked as ignorable at [Source: org.apache.catalina.connector.CoyoteInputStream@14ec141; line: 2, column: 15] (through reference chain: com.tazligen.model.GroupMemberMap[\"userId\"])</p>\n</blockquote>\n\n<p>My GrouMemberMap model class is :</p>\n\n<pre><code>package com.tazligen.model;\n\n@XmlRootElement\npublic class GroupMemberMap {\n\nprivate String userId;\nprivate String groupId;\n\npublic String getUserid() {\n    return userId;\n}\npublic void setUserid(String userId) {\n    this.userId = userId;\n}\npublic String getGroupId() {\n    return groupId;\n}\npublic void setGroupId(String groupId) {\n    this.groupId = groupId;\n}       }\n</code></pre>\n\n<p>I have tried another method just like this :</p>\n\n<pre><code>@Path(\"/membertest\")\n@POST   \npublic String test(List&lt;User&gt; members){\n    return \"Test subresource members working\";\n}\n</code></pre>\n\n<p>with json </p>\n\n<pre><code>[{\n\"userId\":\"3\",\n\"userName\":\"John\"}]\n</code></pre>\n\n<p>but this works alright :/</p>\n\n<p>Need Someone help.</p>\n"},{"tags":["java","cryptography","tink"],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649092167,"creation_date":1647452959,"answer_id":71502043,"question_id":71474373,"body_markdown":"My answer is a little bit tricky and &quot;hacky&quot; but it works in my cases.\r\n\r\nGoogle Tink tries to avoid any direct contact to the key data so there is no direct access to the data but with a little trick using a combination of &quot;ByteArrayOutputStream&quot; and &quot;ObjectOutputStream&quot; you are been able to retrieve the data as JSON string or byte array.\r\n\r\nKindly note: my source code **does not handle any exceptions** and the usage of **strings as holder of keys is discouraged**.\r\n\r\nThis is the function to archive the data from a keysetHandle:\r\n\r\n    public static byte[] keysetHandleToByteArray(KeysetHandle keysetHandle) {\r\n        try {\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n            CleartextKeysetHandle.write(keysetHandle, JsonKeysetWriter.withOutputStream(oos));\r\n            oos.close();\r\n            return baos.toByteArray();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nJust call the method with your generated keysetHandle like:\r\n\r\n    byte[] keysetHandleDataByte = keysetHandleToByteArray(handle);\r\n\r\nAs the data is a JSON byte array (or string) you need to find the field &quot;value&quot; - here is\r\na sample keysetHandle in JSON encoding:\r\n\r\n    {&quot;primaryKeyId&quot;:730264253,&quot;key&quot;:[{&quot;keyData&quot;:{&quot;typeUrl&quot;:&quot;type.googleapis.com/google.crypto.tink.AesGcmKey&quot;,&quot;value&quot;:&quot;GiBglVZ0+LFaeCVo/fL1liC/KMqRw8WM5cJtdv5Dh4e5FQ==&quot;,&quot;keyMaterialType&quot;:&quot;SYMMETRIC&quot;},&quot;status&quot;:&quot;ENABLED&quot;,&quot;keyId&quot;:730264253,&quot;outputPrefixType&quot;:&quot;TINK&quot;}]}\r\n\r\nJust for convenience - here is a &quot;rough&quot; function that extracts the key value - beware that strings \r\nare inmutable when using key material:\r\n\r\n    private String searchDataInJson(String jsonString, String searchString) {\r\n        // find position of searchString in the jsonString\r\n        int pos = jsonString.indexOf(searchString);\r\n        if (pos &gt; -1) {\r\n            // searchString found, get length of searchString\r\n            int searchStringLength = searchString.length();\r\n            // add searchStringLength to pos to get first data\r\n            pos = pos + searchStringLength;\r\n            // search for next &quot; in jsonString as end position\r\n            int endPos = jsonString.indexOf(&quot;\\&quot;&quot;, pos);\r\n            if (endPos &gt; -1) {\r\n                // endPosition of datafield found\r\n                String dataString = jsonString.substring(pos, endPos);\r\n                return dataString;\r\n            }\r\n        }\r\n        // nothing found...\r\n        return &quot;&quot;;\r\n    }\r\n    \r\nCall this function like this and you retrieve the generated AES GCM 256 key in Base64 encoding:\r\n\r\n    String keysetHandleDataString = new String(keysetHandleDataByte);\r\n    String keyMemoryBase64 = searchDataInJson(keysetHandleDataString, &quot;value\\&quot;:\\&quot;&quot;);\r\n    System.out.println(&quot;keyMemoryBase64: &quot; + keyMemoryBase64);    \r\n\r\nThe result will be (again sample data):\r\n\r\n    keyMemoryBase64: GiBglVZ0+LFaeCVo/fL1liC/KMqRw8WM5cJtdv5Dh4e5FQ==","title":"How to get string representation of Key from KeySetHandle/KeyTemplate in Google Tink","body":"<p>My answer is a little bit tricky and &quot;hacky&quot; but it works in my cases.</p>\n<p>Google Tink tries to avoid any direct contact to the key data so there is no direct access to the data but with a little trick using a combination of &quot;ByteArrayOutputStream&quot; and &quot;ObjectOutputStream&quot; you are been able to retrieve the data as JSON string or byte array.</p>\n<p>Kindly note: my source code <strong>does not handle any exceptions</strong> and the usage of <strong>strings as holder of keys is discouraged</strong>.</p>\n<p>This is the function to archive the data from a keysetHandle:</p>\n<pre><code>public static byte[] keysetHandleToByteArray(KeysetHandle keysetHandle) {\n    try {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\n        CleartextKeysetHandle.write(keysetHandle, JsonKeysetWriter.withOutputStream(oos));\n        oos.close();\n        return baos.toByteArray();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>Just call the method with your generated keysetHandle like:</p>\n<pre><code>byte[] keysetHandleDataByte = keysetHandleToByteArray(handle);\n</code></pre>\n<p>As the data is a JSON byte array (or string) you need to find the field &quot;value&quot; - here is\na sample keysetHandle in JSON encoding:</p>\n<pre><code>{&quot;primaryKeyId&quot;:730264253,&quot;key&quot;:[{&quot;keyData&quot;:{&quot;typeUrl&quot;:&quot;type.googleapis.com/google.crypto.tink.AesGcmKey&quot;,&quot;value&quot;:&quot;GiBglVZ0+LFaeCVo/fL1liC/KMqRw8WM5cJtdv5Dh4e5FQ==&quot;,&quot;keyMaterialType&quot;:&quot;SYMMETRIC&quot;},&quot;status&quot;:&quot;ENABLED&quot;,&quot;keyId&quot;:730264253,&quot;outputPrefixType&quot;:&quot;TINK&quot;}]}\n</code></pre>\n<p>Just for convenience - here is a &quot;rough&quot; function that extracts the key value - beware that strings\nare inmutable when using key material:</p>\n<pre><code>private String searchDataInJson(String jsonString, String searchString) {\n    // find position of searchString in the jsonString\n    int pos = jsonString.indexOf(searchString);\n    if (pos &gt; -1) {\n        // searchString found, get length of searchString\n        int searchStringLength = searchString.length();\n        // add searchStringLength to pos to get first data\n        pos = pos + searchStringLength;\n        // search for next &quot; in jsonString as end position\n        int endPos = jsonString.indexOf(&quot;\\&quot;&quot;, pos);\n        if (endPos &gt; -1) {\n            // endPosition of datafield found\n            String dataString = jsonString.substring(pos, endPos);\n            return dataString;\n        }\n    }\n    // nothing found...\n    return &quot;&quot;;\n}\n</code></pre>\n<p>Call this function like this and you retrieve the generated AES GCM 256 key in Base64 encoding:</p>\n<pre><code>String keysetHandleDataString = new String(keysetHandleDataByte);\nString keyMemoryBase64 = searchDataInJson(keysetHandleDataString, &quot;value\\&quot;:\\&quot;&quot;);\nSystem.out.println(&quot;keyMemoryBase64: &quot; + keyMemoryBase64);    \n</code></pre>\n<p>The result will be (again sample data):</p>\n<pre><code>keyMemoryBase64: GiBglVZ0+LFaeCVo/fL1liC/KMqRw8WM5cJtdv5Dh4e5FQ==\n</code></pre>\n"}],"owner":{"account_id":1191863,"reputation":4884,"user_id":1164435,"accept_rate":64,"display_name":"P basak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649092167,"creation_date":1647292732,"question_id":71474373,"body_markdown":"Here is my code\r\n\r\n    KeysetHandle handle = KeysetHandle.generateNew(KeyTemplates.get(&quot;AES256_GCM&quot;));\r\n    Aead aead = handle.getPrimitive(Aead.class);\r\n\r\nHow can I get the byte /string representation of the key tha KeysetHandle uses here?","title":"How to get string representation of Key from KeySetHandle/KeyTemplate in Google Tink","body":"<p>Here is my code</p>\n<pre><code>KeysetHandle handle = KeysetHandle.generateNew(KeyTemplates.get(&quot;AES256_GCM&quot;));\nAead aead = handle.getPrimitive(Aead.class);\n</code></pre>\n<p>How can I get the byte /string representation of the key tha KeysetHandle uses here?</p>\n"},{"tags":["java","inputstream","bufferedreader"],"comments":[{"owner":{"account_id":15709806,"reputation":131,"user_id":11335573,"display_name":"Raj"},"score":0,"creation_date":1649091812,"post_id":71740989,"comment_id":126783505,"body_markdown":"just reboot the machine .. will be fixed!","body":"just reboot the machine .. will be fixed!"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649091932,"creation_date":1649091932,"answer_id":71741085,"question_id":71740989,"body_markdown":"The exception indicates that it is `System.in` that has been closed already by this point. \r\n\r\nYou&#39;ll need to look at what&#39;s happening before calling `order_particular()`, as the problem lies there. Maybe an earlier method is inadvertently closing it; perhaps you created a `BufferedReader` around it in a try-with-resource block.","title":"Exception in thread &quot;main&quot; java.io.IOException: Stream closed : BufferedReader class","body":"<p>The exception indicates that it is <code>System.in</code> that has been closed already by this point.</p>\n<p>You'll need to look at what's happening before calling <code>order_particular()</code>, as the problem lies there. Maybe an earlier method is inadvertently closing it; perhaps you created a <code>BufferedReader</code> around it in a try-with-resource block.</p>\n"}],"owner":{"account_id":22487436,"reputation":17,"user_id":16685626,"display_name":"Pardha Saradhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71741085,"answer_count":1,"score":0,"last_activity_date":1649091932,"creation_date":1649091467,"question_id":71740989,"body_markdown":"```\r\nvoid order_particular() throws IOException{\r\n        int order_choice, x;\r\n        //Scanner sc = new Scanner(System.in);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        System.out.println(&quot;Do you want to order something ? &quot;);\r\n        System.out.println(&quot;Press 1 to order or 0 to go back to main menu&quot;);\r\n        //order_choice = sc.next().charAt(0);\r\n        order_choice = Integer.parseInt(reader.readLine());  // Got Error here\r\n        System.out.println(&quot;order choice : &quot; + order_choice);\r\n        if(order_choice == 1){\r\n            this.order();\r\n            System.out.println(&quot;Do you want to order more ? &quot;);\r\n            System.out.println(&quot;Press 1 to order or 0 to get bill&quot;);\r\n            x = Integer.parseInt(reader.readLine());\r\n            System.out.println(&quot;x value : &quot; + x);\r\n            if(x == 1){\r\n                this.order_more();\r\n                this.bill_more();\r\n            }\r\n            else\r\n                this.bill();\r\n        }\r\n    }\r\n```\r\n\r\nFor the above code, I got the below error\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Stream closed\r\n        at java.base/java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:168)\r\n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:334)\r\n        at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\r\n        at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\r\n        at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n        at java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\r\n        at java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\r\n        at java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\r\n        at java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\r\n        at Waiter.order_particular(Waiter.java:404)\r\n        at Waiter.main(Waiter.java:439)\r\n```\r\n\r\nI don&#39;t know what is going on here. I never closed bufferedReader object, But it shows an error. How to solve this error?","title":"Exception in thread &quot;main&quot; java.io.IOException: Stream closed : BufferedReader class","body":"<pre><code>void order_particular() throws IOException{\n        int order_choice, x;\n        //Scanner sc = new Scanner(System.in);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(&quot;Do you want to order something ? &quot;);\n        System.out.println(&quot;Press 1 to order or 0 to go back to main menu&quot;);\n        //order_choice = sc.next().charAt(0);\n        order_choice = Integer.parseInt(reader.readLine());  // Got Error here\n        System.out.println(&quot;order choice : &quot; + order_choice);\n        if(order_choice == 1){\n            this.order();\n            System.out.println(&quot;Do you want to order more ? &quot;);\n            System.out.println(&quot;Press 1 to order or 0 to get bill&quot;);\n            x = Integer.parseInt(reader.readLine());\n            System.out.println(&quot;x value : &quot; + x);\n            if(x == 1){\n                this.order_more();\n                this.bill_more();\n            }\n            else\n                this.bill();\n        }\n    }\n</code></pre>\n<p>For the above code, I got the below error</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Stream closed\n        at java.base/java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:168)\n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n        at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\n        at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\n        at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n        at java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\n        at java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\n        at java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\n        at java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\n        at Waiter.order_particular(Waiter.java:404)\n        at Waiter.main(Waiter.java:439)\n</code></pre>\n<p>I don't know what is going on here. I never closed bufferedReader object, But it shows an error. How to solve this error?</p>\n"},{"tags":["java","json","jackson","deserialization","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1575068809,"creation_date":1575068809,"answer_id":59111828,"question_id":59111691,"body_markdown":"You expect `Map` which on `JSON` side is represented by `JSON Object` but there is a `JSON Array` which can be mapped by default to `List`, `Set` or `array`. I suggest to use `List&lt;List&lt;BigDecimal&gt;&gt;` in `POJO` and create a method which converts data to `Map`:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.json.JsonMapper;\r\n    \r\n    import java.io.File;\r\n    import java.math.BigDecimal;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class JsonPathApp {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n    \r\n    \t\tObjectMapper mapper = JsonMapper.builder().build();\r\n    \t\tValues values = mapper.readValue(jsonFile, Values.class);\r\n    \t\tSystem.out.println(values.getValuesAsMap());\r\n    \t}\r\n    }\r\n    \r\n    class Values {\r\n    \r\n    \tprivate String name;\r\n    \tprivate List&lt;List&lt;BigDecimal&gt;&gt; values;\r\n    \r\n    \tpublic Map&lt;BigDecimal, BigDecimal&gt; getValuesAsMap() {\r\n    \t\treturn values.stream().collect(Collectors.toMap(\r\n    \t\t\t\tk -&gt; k.get(0),\r\n    \t\t\t\tv -&gt; v.get(1),\r\n    \t\t\t\t(u, v) -&gt; {\r\n    \t\t\t\t\tthrow new IllegalStateException(String.format(&quot;Duplicate key %s&quot;, u));\r\n    \t\t\t\t},\r\n    \t\t\t\tLinkedHashMap::new));\r\n    \t}\r\n    \r\n    \t// getters, setters, toString\r\n    }\r\n\r\nAbove code prints:\r\n\r\n    {0.00207760=18.48000000, 0.00207740=40.00000000, 0.00207710=2.26000000}\r\n\r\nIn other case, you need to implement a `custom` deserialiser for a `Map` and register it for this field using [@JsonDeserialize][1] annotation.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-annotations#5-jsondeserialize","title":"How to deserialize nested JSON array into a Map using Java&#39;s Jackson library?","body":"<p>You expect <code>Map</code> which on <code>JSON</code> side is represented by <code>JSON Object</code> but there is a <code>JSON Array</code> which can be mapped by default to <code>List</code>, <code>Set</code> or <code>array</code>. I suggest to use <code>List&lt;List&lt;BigDecimal&gt;&gt;</code> in <code>POJO</code> and create a method which converts data to <code>Map</code>:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\n\nimport java.io.File;\nimport java.math.BigDecimal;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class JsonPathApp {\n\n    public static void main(String[] args) throws Exception {\n        File jsonFile = new File(\"./resource/test.json\").getAbsoluteFile();\n\n        ObjectMapper mapper = JsonMapper.builder().build();\n        Values values = mapper.readValue(jsonFile, Values.class);\n        System.out.println(values.getValuesAsMap());\n    }\n}\n\nclass Values {\n\n    private String name;\n    private List&lt;List&lt;BigDecimal&gt;&gt; values;\n\n    public Map&lt;BigDecimal, BigDecimal&gt; getValuesAsMap() {\n        return values.stream().collect(Collectors.toMap(\n                k -&gt; k.get(0),\n                v -&gt; v.get(1),\n                (u, v) -&gt; {\n                    throw new IllegalStateException(String.format(\"Duplicate key %s\", u));\n                },\n                LinkedHashMap::new));\n    }\n\n    // getters, setters, toString\n}\n</code></pre>\n\n<p>Above code prints:</p>\n\n<pre><code>{0.00207760=18.48000000, 0.00207740=40.00000000, 0.00207710=2.26000000}\n</code></pre>\n\n<p>In other case, you need to implement a <code>custom</code> deserialiser for a <code>Map</code> and register it for this field using <a href=\"https://www.baeldung.com/jackson-annotations#5-jsondeserialize\" rel=\"nofollow noreferrer\">@JsonDeserialize</a> annotation.</p>\n"},{"tags":[],"owner":{"account_id":7723595,"reputation":61,"user_id":5849003,"display_name":"William Jones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649091651,"creation_date":1649091651,"answer_id":71741032,"question_id":59111691,"body_markdown":"List&lt;List&lt;BigDecimal&gt;&gt; works with the same data type in the inner array. I however got a map that was converted into a nested jsonArray with the value being a jsonObject. \r\n\r\nhttps://riptutorial.com/java/example/18575/deserialize-json-collection-to-collection-of-objects-using-jackson gave me the answer.\r\n\r\nJSON:\r\n\r\n    {\r\n     &quot;history&quot;: [\r\n      [\r\n        2,\r\n        {\r\n          &quot;trx_id&quot;: &quot;4014ae64ae9c45861ed4f0af30224b6741dcbb46&quot;,\r\n          ...\r\n          &quot;operation_id&quot;: 0\r\n        }\r\n      ],\r\n      [\r\n        3,\r\n        {\r\n          &quot;trx_id&quot;: &quot;a4023a3641ffc112324427523945f641d88c5eae&quot;,\r\n          ...\r\n          &quot;operation_id&quot;: 0\r\n        }\r\n      ]\r\n     ]\r\n    }\r\n\r\n3 class answer:\r\n\r\n    public class HistoryListResponse {\r\n       private List&lt;HistoryMapEntryResponse&gt; history;\r\n    }\r\n\r\n2ed class:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.ARRAY)\r\n    @JsonPropertyOrder({ &quot;key&quot;, &quot;trx&quot;})\r\n    public class HistoryMapEntryResponse {\r\n      private int key;\r\n      private HistoryTrxResponse trx;\r\n    }\r\n\r\nAnd then back to normal json:\r\n\r\n    public class HistoryTrxResponse {\r\n       private String trx_id;\r\n       ...\r\n       private int operation_id;\r\n    }\r\n\r\nStill will need a method to convert the list back into a Map, but it is pretty close, and the inner data gets parsed/deserialized.","title":"How to deserialize nested JSON array into a Map using Java&#39;s Jackson library?","body":"<p>List&lt;List&gt; works with the same data type in the inner array. I however got a map that was converted into a nested jsonArray with the value being a jsonObject.</p>\n<p><a href=\"https://riptutorial.com/java/example/18575/deserialize-json-collection-to-collection-of-objects-using-jackson\" rel=\"nofollow noreferrer\">https://riptutorial.com/java/example/18575/deserialize-json-collection-to-collection-of-objects-using-jackson</a> gave me the answer.</p>\n<p>JSON:</p>\n<pre><code>{\n &quot;history&quot;: [\n  [\n    2,\n    {\n      &quot;trx_id&quot;: &quot;4014ae64ae9c45861ed4f0af30224b6741dcbb46&quot;,\n      ...\n      &quot;operation_id&quot;: 0\n    }\n  ],\n  [\n    3,\n    {\n      &quot;trx_id&quot;: &quot;a4023a3641ffc112324427523945f641d88c5eae&quot;,\n      ...\n      &quot;operation_id&quot;: 0\n    }\n  ]\n ]\n}\n</code></pre>\n<p>3 class answer:</p>\n<pre><code>public class HistoryListResponse {\n   private List&lt;HistoryMapEntryResponse&gt; history;\n}\n</code></pre>\n<p>2ed class:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.ARRAY)\n@JsonPropertyOrder({ &quot;key&quot;, &quot;trx&quot;})\npublic class HistoryMapEntryResponse {\n  private int key;\n  private HistoryTrxResponse trx;\n}\n</code></pre>\n<p>And then back to normal json:</p>\n<pre><code>public class HistoryTrxResponse {\n   private String trx_id;\n   ...\n   private int operation_id;\n}\n</code></pre>\n<p>Still will need a method to convert the list back into a Map, but it is pretty close, and the inner data gets parsed/deserialized.</p>\n"}],"owner":{"account_id":227423,"reputation":5781,"user_id":489088,"accept_rate":72,"display_name":"Edy Bourne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1516,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59111828,"answer_count":2,"score":2,"last_activity_date":1649091651,"creation_date":1575067422,"question_id":59111691,"body_markdown":"I have a structure like so:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;user&quot;,\r\n        &quot;values&quot;:[[&quot;0.00207760&quot;,&quot;18.48000000&quot;],[&quot;0.00207740&quot;,&quot;40.00000000&quot;],[&quot;0.00207710&quot;,&quot;2.26000000&quot;]]\r\n    }\r\n\r\nI&#39;d like to deserialize into a class like so using the popular Jackson library:\r\n\r\n    public class Values {\r\n    \r\n        public String name;\r\n    \r\n        public Map&lt;BigDecimal, BigDecimal&gt; values = new HashMap&lt;&gt;();\r\n    \r\n    }\r\n\r\nWhere each entry in the `values` property becomes a key/value entry in the class&#39; map.\r\n\r\nHowever, if I attempt a simple deserialization with Jackson I get this error:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.TreeMap&lt;java.lang.Object,java.lang.Object&gt;` out of START_ARRAY token\r\n     at [Source: (String)&quot;{&quot;name&quot;: &quot;user&quot;,&quot;values&quot;:[[&quot;0.00207760&quot;,&quot;18.48000000&quot;],[&quot;0.00207740&quot;,&quot;40.00000000&quot;],[&quot;0.00207710&quot;,&quot;2.26000000&quot;]]...\r\n        at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1442)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1216)\r\n        ...\r\n\r\n\r\n**How can this be accomplished using Jackson?**\r\n\r\n\r\nThanks!\r\n\r\nEduardo","title":"How to deserialize nested JSON array into a Map using Java&#39;s Jackson library?","body":"<p>I have a structure like so:</p>\n\n<pre><code>{\n    \"name\": \"user\",\n    \"values\":[[\"0.00207760\",\"18.48000000\"],[\"0.00207740\",\"40.00000000\"],[\"0.00207710\",\"2.26000000\"]]\n}\n</code></pre>\n\n<p>I'd like to deserialize into a class like so using the popular Jackson library:</p>\n\n<pre><code>public class Values {\n\n    public String name;\n\n    public Map&lt;BigDecimal, BigDecimal&gt; values = new HashMap&lt;&gt;();\n\n}\n</code></pre>\n\n<p>Where each entry in the <code>values</code> property becomes a key/value entry in the class' map.</p>\n\n<p>However, if I attempt a simple deserialization with Jackson I get this error:</p>\n\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.TreeMap&lt;java.lang.Object,java.lang.Object&gt;` out of START_ARRAY token\n at [Source: (String)\"{\"name\": \"user\",\"values\":[[\"0.00207760\",\"18.48000000\"],[\"0.00207740\",\"40.00000000\"],[\"0.00207710\",\"2.26000000\"]]...\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1442)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1216)\n    ...\n</code></pre>\n\n<p><strong>How can this be accomplished using Jackson?</strong></p>\n\n<p>Thanks!</p>\n\n<p>Eduardo</p>\n"},{"tags":["java","android","android-external-storage","saving-data"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1649021797,"post_id":71729415,"comment_id":126764518,"body_markdown":"`Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);` That will not work as you will not get a bitmap here. imageBitmap==null. Use photoFile to read your image file into a bitmap.","body":"<code>Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);</code> That will not work as you will not get a bitmap here. imageBitmap==null. Use photoFile to read your image file into a bitmap."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1649025788,"post_id":71729415,"comment_id":126765162,"body_markdown":"You can&#39;t store a Bitmap in a Bundle.  There&#39;s a small set of valid types, and Bitmap isn&#39;t one of them.  Also Bundles are limited to about 1MB, bitmaps won&#39;t fit unless very tiny.  It might have a URI on where to find a bitmap, but it won&#39;t have the bitmap directly.","body":"You can&#39;t store a Bitmap in a Bundle.  There&#39;s a small set of valid types, and Bitmap isn&#39;t one of them.  Also Bundles are limited to about 1MB, bitmaps won&#39;t fit unless very tiny.  It might have a URI on where to find a bitmap, but it won&#39;t have the bitmap directly."}],"answers":[{"tags":[],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649091592,"creation_date":1649022516,"answer_id":71730117,"question_id":71729415,"body_markdown":"Just replace : \r\n\r\n      Bundle extras = data.getExtras();\r\n      Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n      imageView.setImageBitmap(imageBitmap);\r\n\r\nWith : \r\n\r\n    imageView.setImageURI(Uri.fromFile(photoFile));\r\n\r\nChange the `saveToGallery` method as well as `createImageFile` :\r\n\r\n      private File createImageFile() throws IOException {\r\n            String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n            String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n            File storageDir = Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q ? Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES) : getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n            File image = File.createTempFile(\r\n                    imageFileName,  /* prefix */\r\n                    &quot;.jpg&quot;,         /* suffix */\r\n                    storageDir      /* directory */\r\n            );\r\n            currentPhotoPath = image.getAbsolutePath();\r\n            return image;\r\n        }\r\n\r\n\r\n    private void saveToGallery() {\r\n         if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\r\n            Intent intent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\r\n            intent.setData(Uri.parse(&quot;file://&quot; + photoFile.getAbsolutePath()));\r\n            sendBroadcast(intent);\r\n        } else {\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(MediaStore.Images.Media.DISPLAY_NAME, photoFile.getName());\r\n            contentValues.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/*&quot;);\r\n            Uri contentUri;\r\n            if (Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)) {\r\n                contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n            } else {\r\n                contentUri = MediaStore.Images.Media.INTERNAL_CONTENT_URI;\r\n            }\r\n            contentValues.put(MediaStore.Images.Media.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\r\n            contentValues.put(MediaStore.MediaColumns.IS_PENDING, 1);\r\n            Uri uri = getContentResolver().insert(contentUri, contentValues);\r\n            OutputStream os = null;\r\n            try {\r\n                Bitmap bitmap = BitmapFactory.decodeFile(photoFile.getAbsolutePath());\r\n                os = getContentResolver().openOutputStream(uri);\r\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 100, os);\r\n                contentValues.clear();\r\n                contentValues.put(MediaStore.MediaColumns.IS_PENDING, 0);\r\n                getContentResolver().update(uri, contentValues, null, null);\r\n            } catch (Exception e) {\r\n                getContentResolver().delete(uri, null, null);\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (os != null) {\r\n                        os.close();\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\r\n            mediaScanIntent.setData(contentUri);\r\n            this.sendBroadcast(mediaScanIntent);\r\n        }\r\n\r\n    }\r\n\r\nAnd the `file_path.xml` to :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n        &lt;external-path name=&quot;external&quot; path=&quot;.&quot; /&gt;\r\n        &lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\r\n        &lt;cache-path name=&quot;cache&quot; path=&quot;.&quot; /&gt;\r\n        &lt;external-cache-path name=&quot;external_cache&quot; path=&quot;.&quot; /&gt;\r\n        &lt;files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\nI&#39;ve tested it on **Android 11** and **Android 5.1.1** both works, I was able to see the captured image in my gallery.","title":"Saving an image and displaying it in gallery","body":"<p>Just replace :</p>\n<pre><code>  Bundle extras = data.getExtras();\n  Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\n  imageView.setImageBitmap(imageBitmap);\n</code></pre>\n<p>With :</p>\n<pre><code>imageView.setImageURI(Uri.fromFile(photoFile));\n</code></pre>\n<p>Change the <code>saveToGallery</code> method as well as <code>createImageFile</code> :</p>\n<pre><code>  private File createImageFile() throws IOException {\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q ? Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES) : getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n        File image = File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.jpg&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n        currentPhotoPath = image.getAbsolutePath();\n        return image;\n    }\n\n\nprivate void saveToGallery() {\n     if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\n        Intent intent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n        intent.setData(Uri.parse(&quot;file://&quot; + photoFile.getAbsolutePath()));\n        sendBroadcast(intent);\n    } else {\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.Images.Media.DISPLAY_NAME, photoFile.getName());\n        contentValues.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/*&quot;);\n        Uri contentUri;\n        if (Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)) {\n            contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n        } else {\n            contentUri = MediaStore.Images.Media.INTERNAL_CONTENT_URI;\n        }\n        contentValues.put(MediaStore.Images.Media.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\n        contentValues.put(MediaStore.MediaColumns.IS_PENDING, 1);\n        Uri uri = getContentResolver().insert(contentUri, contentValues);\n        OutputStream os = null;\n        try {\n            Bitmap bitmap = BitmapFactory.decodeFile(photoFile.getAbsolutePath());\n            os = getContentResolver().openOutputStream(uri);\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, os);\n            contentValues.clear();\n            contentValues.put(MediaStore.MediaColumns.IS_PENDING, 0);\n            getContentResolver().update(uri, contentValues, null, null);\n        } catch (Exception e) {\n            getContentResolver().delete(uri, null, null);\n            e.printStackTrace();\n        } finally {\n            try {\n                if (os != null) {\n                    os.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n        mediaScanIntent.setData(contentUri);\n        this.sendBroadcast(mediaScanIntent);\n    }\n\n}\n</code></pre>\n<p>And the <code>file_path.xml</code> to :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-path name=&quot;external&quot; path=&quot;.&quot; /&gt;\n    &lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\n    &lt;cache-path name=&quot;cache&quot; path=&quot;.&quot; /&gt;\n    &lt;external-cache-path name=&quot;external_cache&quot; path=&quot;.&quot; /&gt;\n    &lt;files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>I've tested it on <strong>Android 11</strong> and <strong>Android 5.1.1</strong> both works, I was able to see the captured image in my gallery.</p>\n"}],"owner":{"account_id":24313926,"reputation":3,"user_id":18255459,"display_name":"lord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71730117,"answer_count":1,"score":0,"last_activity_date":1649091592,"creation_date":1649015959,"question_id":71729415,"body_markdown":"I am trying to implement google&#39;s code from https://developer.android.com/training/camera/photobasics however I am a little bit stuck.\r\n\r\nThis is my MainActivity:\r\n\r\n    package com.example.storage_thingy;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.FileProvider;\r\n    import android.Manifest;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.graphics.Bitmap;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.provider.MediaStore;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.ImageView;\r\n    import android.widget.Toast;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ImageView imageView;\r\n        Button saveimage;\r\n        Button takephoto;\r\n    \r\n        static final int REQUEST_IMAGE_CAPTURE = 1;\r\n        String currentPhotoPath;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            imageView = findViewById(R.id.imageview);\r\n            saveimage = findViewById(R.id.savegallery);\r\n            takephoto = findViewById(R.id.takephoto);\r\n    \r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},1);\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},1);\r\n    \r\n    \r\n            saveimage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    saveToGallery();\r\n                }\r\n            });\r\n    \r\n            takephoto.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    dispatchTakePictureIntent();\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private File createImageFile() throws IOException {\r\n            // Create an image file name\r\n            String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n            String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n            File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n            File image = File.createTempFile(\r\n                    imageFileName,  /* prefix */\r\n                    &quot;.jpg&quot;,         /* suffix */\r\n                    storageDir      /* directory */\r\n            );\r\n    \r\n            // Save a file: path for use with ACTION_VIEW intents\r\n            currentPhotoPath = image.getAbsolutePath();\r\n            return image;\r\n        }\r\n    \r\n    \r\n    \r\n        private void dispatchTakePictureIntent() {\r\n            Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n            // Ensure that there&#39;s a camera activity to handle the intent\r\n            if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n                // Create the File where the photo should go\r\n                File photoFile = null;\r\n                try {\r\n                    photoFile = createImageFile();\r\n                } catch (IOException ex) {\r\n                    // Error occurred while creating the File\r\n                    Context context = getApplicationContext();\r\n                    CharSequence text = &quot;IOException!&quot;;\r\n                    int duration = Toast.LENGTH_SHORT;\r\n    \r\n                    Toast toast = Toast.makeText(context, text, duration);\r\n                    toast.show();\r\n                }\r\n                // Continue only if the File was successfully created\r\n                if (photoFile != null) {\r\n                    Uri photoURI = FileProvider.getUriForFile(this,\r\n                            &quot;com.example.android.fileprovider&quot;,\r\n                            photoFile);\r\n                    takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                    startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\r\n                Bundle extras = data.getExtras();\r\n                Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n                imageView.setImageBitmap(imageBitmap);\r\n            }\r\n        }\r\n    \r\n    \r\n        private void saveToGallery(){\r\n            Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\r\n            File f = new File(currentPhotoPath);\r\n            Uri contentUri = Uri.fromFile(f);\r\n            mediaScanIntent.setData(contentUri);\r\n            this.sendBroadcast(mediaScanIntent);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThen the Manifest file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.storage_thingy&quot;&gt;\r\n    \r\n    \r\n        &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\r\n    \r\n        &lt;application\r\n            \r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Storage_thingy&quot;&gt;\r\n            &lt;activity\r\n    \r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;com.example.android.fileprovider&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\r\n            &lt;/provider&gt;\r\n    \r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nAnd then the file_paths.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\nI keep getting a RunTime Exception saying that the data in the onActivityResult method is null, however I do not understand why? Any ideas?","title":"Saving an image and displaying it in gallery","body":"<p>I am trying to implement google's code from <a href=\"https://developer.android.com/training/camera/photobasics\" rel=\"nofollow noreferrer\">https://developer.android.com/training/camera/photobasics</a> however I am a little bit stuck.</p>\n<p>This is my MainActivity:</p>\n<pre><code>package com.example.storage_thingy;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.FileProvider;\nimport android.Manifest;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.provider.MediaStore;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ImageView imageView;\n    Button saveimage;\n    Button takephoto;\n\n    static final int REQUEST_IMAGE_CAPTURE = 1;\n    String currentPhotoPath;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        imageView = findViewById(R.id.imageview);\n        saveimage = findViewById(R.id.savegallery);\n        takephoto = findViewById(R.id.takephoto);\n\n        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},1);\n        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},1);\n\n\n        saveimage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                saveToGallery();\n            }\n        });\n\n        takephoto.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                dispatchTakePictureIntent();\n            }\n        });\n\n    }\n\n    private File createImageFile() throws IOException {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n        File image = File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.jpg&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n\n        // Save a file: path for use with ACTION_VIEW intents\n        currentPhotoPath = image.getAbsolutePath();\n        return image;\n    }\n\n\n\n    private void dispatchTakePictureIntent() {\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        // Ensure that there's a camera activity to handle the intent\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n            // Create the File where the photo should go\n            File photoFile = null;\n            try {\n                photoFile = createImageFile();\n            } catch (IOException ex) {\n                // Error occurred while creating the File\n                Context context = getApplicationContext();\n                CharSequence text = &quot;IOException!&quot;;\n                int duration = Toast.LENGTH_SHORT;\n\n                Toast toast = Toast.makeText(context, text, duration);\n                toast.show();\n            }\n            // Continue only if the File was successfully created\n            if (photoFile != null) {\n                Uri photoURI = FileProvider.getUriForFile(this,\n                        &quot;com.example.android.fileprovider&quot;,\n                        photoFile);\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n            }\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\n            Bundle extras = data.getExtras();\n            Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\n            imageView.setImageBitmap(imageBitmap);\n        }\n    }\n\n\n    private void saveToGallery(){\n        Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n        File f = new File(currentPhotoPath);\n        Uri contentUri = Uri.fromFile(f);\n        mediaScanIntent.setData(contentUri);\n        this.sendBroadcast(mediaScanIntent);\n\n    }\n\n}\n</code></pre>\n<p>Then the Manifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.storage_thingy&quot;&gt;\n\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\n\n    &lt;application\n        \n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Storage_thingy&quot;&gt;\n        &lt;activity\n\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.example.android.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\n        &lt;/provider&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>And then the file_paths.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>I keep getting a RunTime Exception saying that the data in the onActivityResult method is null, however I do not understand why? Any ideas?</p>\n"},{"tags":["java","spring-boot","maven","flyway"],"answers":[{"tags":[],"owner":{"account_id":22150081,"reputation":444,"user_id":16398766,"display_name":"Barry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644245876,"creation_date":1644245876,"answer_id":71020650,"question_id":71017132,"body_markdown":"Spring Boot is trying to run Flyway migrate as part of a maven goal it has configured. \r\n\r\n&gt; Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table.\r\n\r\nThe error message is stating that the default schema which Flyway is trying to run against, which is `PUBLIC`, is not empty. As a result, Flyway know needs to know what the state the database before it is able to create a schema history table and migrate.\r\n\r\n&gt; Use baseline() or set baselineOnMigrate to true to initialize the schema history table.\r\n\r\nThese are the two ways you can correct this by creating a baseline to build your migrations upon. https://flywaydb.org/documentation/command/baseline\r\n\r\nIn spring boot, baseline on migrate can be configured with `spring.flyway.baselineOnMigrate=true`.\r\n\r\nAdditionally, `install` in Maven does not mean install the dependencies but builds and puts the build artifacts of your product in your `.m2` maven repository. ","title":"Maven flyway Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table","body":"<p>Spring Boot is trying to run Flyway migrate as part of a maven goal it has configured.</p>\n<blockquote>\n<p>Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table.</p>\n</blockquote>\n<p>The error message is stating that the default schema which Flyway is trying to run against, which is <code>PUBLIC</code>, is not empty. As a result, Flyway know needs to know what the state the database before it is able to create a schema history table and migrate.</p>\n<blockquote>\n<p>Use baseline() or set baselineOnMigrate to true to initialize the schema history table.</p>\n</blockquote>\n<p>These are the two ways you can correct this by creating a baseline to build your migrations upon. <a href=\"https://flywaydb.org/documentation/command/baseline\" rel=\"nofollow noreferrer\">https://flywaydb.org/documentation/command/baseline</a></p>\n<p>In spring boot, baseline on migrate can be configured with <code>spring.flyway.baselineOnMigrate=true</code>.</p>\n<p>Additionally, <code>install</code> in Maven does not mean install the dependencies but builds and puts the build artifacts of your product in your <code>.m2</code> maven repository.</p>\n"}],"owner":{"account_id":22498187,"reputation":25,"user_id":16694860,"display_name":"StrickeN69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5343,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71020650,"answer_count":1,"score":2,"last_activity_date":1649091573,"creation_date":1644230422,"question_id":71017132,"body_markdown":"I am just learning Spring Boot with Maven and I have encountered an error that I cannot resolve.\r\nI have attached a dependency from Flyway and when I want to install it (I&#39;m clicking install on Lifecycle), I get this error:\r\n\r\n&gt; Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table.\r\n&gt; Use baseline() or set baselineOnMigrate to true to initialize the schema history table. \r\n\r\nWhat could be causing this and how to fix it?\r\n\r\n I&#39;m using Java 8 and my dependency with Flyway looks like this:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;","title":"Maven flyway Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table","body":"<p>I am just learning Spring Boot with Maven and I have encountered an error that I cannot resolve.\nI have attached a dependency from Flyway and when I want to install it (I'm clicking install on Lifecycle), I get this error:</p>\n<blockquote>\n<p>Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table.\nUse baseline() or set baselineOnMigrate to true to initialize the schema history table.</p>\n</blockquote>\n<p>What could be causing this and how to fix it?</p>\n<p>I'm using Java 8 and my dependency with Flyway looks like this:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","maven","jpa"],"answers":[{"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1392118110,"creation_date":1392118110,"answer_id":21700594,"question_id":21698731,"body_markdown":"    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListner&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\nThis is misspelling, it should be \r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\nAnyway, this class is the part of `spring-web.jar`, so you need to include it in your build. If using maven, this is something like that:\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n      &lt;/dependency&gt;","title":"Erreur lors de la configuration de la classe d&#39;&#233;coute de l&#39;application (application listener) org.springframework.web.context.ContextLoaderListner","body":"<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListner&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n\n<p>This is misspelling, it should be </p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n\n<p>Anyway, this class is the part of <code>spring-web.jar</code>, so you need to include it in your build. If using maven, this is something like that:</p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3118061,"reputation":307,"user_id":2638423,"display_name":"abdelhadi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1446130911,"creation_date":1446130911,"answer_id":33417751,"question_id":21698731,"body_markdown":"To resolve this error in eclipse : Right click on your project --&gt; Propeties -&gt; Deployment Assembly -&gt; Add -&gt; Java Build Path Entries -&gt; Maven Dependencies (selecte them all) -&gt; Finish","title":"Erreur lors de la configuration de la classe d&#39;&#233;coute de l&#39;application (application listener) org.springframework.web.context.ContextLoaderListner","body":"<p>To resolve this error in eclipse : Right click on your project --> Propeties -> Deployment Assembly -> Add -> Java Build Path Entries -> Maven Dependencies (selecte them all) -> Finish</p>\n"}],"owner":{"account_id":4000356,"reputation":65,"user_id":3296536,"display_name":"Eskander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21700594,"answer_count":2,"score":1,"last_activity_date":1649091360,"creation_date":1392113272,"question_id":21698731,"body_markdown":"I am having a problem with spring , i am a newbie using this framework with Hibernate , JPA and Maven , I am following a tutorial on pluralsight but when launching the app in the server i have this error message \r\n\r\n    Grave: Erreur lors de la configuration de la classe d&#39;&#233;coute de l&#39;application (application listener) org.springframework.web.context.ContextLoaderListner\r\n        java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListner\r\n        \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\r\n        \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\r\n        \tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\r\n        \tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\r\n        \tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142)\r\n        \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4876)\r\n        \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5455)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n        \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        \tat java.lang.Thread.run(Thread.java:744)\r\n        \r\n       f&#233;vr. 11, 2014 10:49:15 AM org.apache.catalina.core.StandardContext listenerStart \r\n\r\nthis is my &quot;**web.xml**&quot;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n    \t&lt;context-param&gt;\r\n    \t\r\n    \t&lt;param-name&gt;contextConfigLocation &lt;/param-name&gt;\r\n    \t&lt;param-value&gt;classpath:/jpaContext.xml&lt;/param-value&gt;\r\n    \t\r\n        &lt;/context-param&gt;\r\n        \r\n        &lt;listener&gt;\r\n        \t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListner&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/config/servlet-config.xml, /WEB-INF/config/jpaContext.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;*.html&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/pdfs/**&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/images/**&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;*.json&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    \t&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\nand this is my &quot;**jpacontext.xml**&quot;\r\n\r\n\r\n\t\r\n\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;context:annotation-config /&gt;\r\n    \t&lt;bean class=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot; /&gt;\r\n    \t\r\n    \t\r\n    \t&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;punit&quot;/&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n    \t\t\t\t&lt;property name=&quot;showSql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t\r\n    \t\t&lt;property name=&quot;jpaPropertyMap&quot;&gt;\r\n    \t\t\t&lt;map&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.DB2Dialect&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;none&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t&lt;/map&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t\r\n    \t&lt;/bean&gt;\r\n    \t\t\r\n    \t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot; &gt;\r\n    \t\t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\t\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; &gt;\r\n    \t\t&lt;property name =&quot;driverClassName&quot; value=&quot;com.postgresql.jdbc.driver&quot; /&gt;\r\n    \t\t&lt;property name =&quot;url&quot; value=&quot;jdbc:postgres://localhost:5432/fitnessTracker?autoReconnect=true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;postgres&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;admin&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nI have tried almost all possible solutions like adding maven dependencies to the build path or cleaning the tomcat work directory .\r\n\r\nThanks","title":"Erreur lors de la configuration de la classe d&#39;&#233;coute de l&#39;application (application listener) org.springframework.web.context.ContextLoaderListner","body":"<p>I am having a problem with spring , i am a newbie using this framework with Hibernate , JPA and Maven , I am following a tutorial on pluralsight but when launching the app in the server i have this error message </p>\n\n<pre><code>Grave: Erreur lors de la configuration de la classe d'coute de l'application (application listener) org.springframework.web.context.ContextLoaderListner\n    java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListner\n        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\n        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\n        at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\n        at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\n        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4876)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5455)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:744)\n\n   fvr. 11, 2014 10:49:15 AM org.apache.catalina.core.StandardContext listenerStart \n</code></pre>\n\n<p>this is my \"<strong>web.xml</strong>\"</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n    &lt;context-param&gt;\n\n    &lt;param-name&gt;contextConfigLocation &lt;/param-name&gt;\n    &lt;param-value&gt;classpath:/jpaContext.xml&lt;/param-value&gt;\n\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListner&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/config/servlet-config.xml, /WEB-INF/config/jpaContext.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.html&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/pdfs/**&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/images/**&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;fitTrackerServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.json&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>and this is my \"<strong>jpacontext.xml</strong>\"</p>\n\n<pre><code>xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd\"&gt;\n\n    &lt;context:annotation-config /&gt;\n    &lt;bean class=\"org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor\" /&gt;\n\n\n    &lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"punit\"/&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"jpaVendorAdapter\"&gt;\n            &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n                &lt;property name=\"showSql\" value=\"true\" /&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n\n        &lt;property name=\"jpaPropertyMap\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"hibernate.dialect\" value=\"org.hibernate.dialect.DB2Dialect\" /&gt;\n                &lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"none\" /&gt;\n                &lt;entry key=\"hibernate.format_sql\" value=\"true\" /&gt;\n\n            &lt;/map&gt;\n        &lt;/property&gt;\n\n    &lt;/bean&gt;\n\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\" &gt;\n            &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n    &lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\" &gt;\n        &lt;property name =\"driverClassName\" value=\"com.postgresql.jdbc.driver\" /&gt;\n        &lt;property name =\"url\" value=\"jdbc:postgres://localhost:5432/fitnessTracker?autoReconnect=true\" /&gt;\n        &lt;property name=\"username\" value=\"postgres\" /&gt;\n        &lt;property name=\"password\" value=\"admin\" /&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>I have tried almost all possible solutions like adding maven dependencies to the build path or cleaning the tomcat work directory .</p>\n\n<p>Thanks</p>\n"},{"tags":["java","dictionary","data-structures","hashmap"],"comments":[{"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"score":0,"creation_date":1649088334,"post_id":71740222,"comment_id":126782206,"body_markdown":"You can simply call map2.get(keyValue).  From Java Docs: &quot;get(Object key)\nReturns the value to which the specified key is mapped, or null if this map contains no mapping for the key.&quot;. So if not null you know you have a match... This will avoid the necessity of checking if the key exists before hand, but makes necessary to check if not null after.","body":"You can simply call map2.get(keyValue).  From Java Docs: &quot;get(Object key) Returns the value to which the specified key is mapped, or null if this map contains no mapping for the key.&quot;. So if not null you know you have a match... This will avoid the necessity of checking if the key exists before hand, but makes necessary to check if not null after."},{"owner":{"account_id":24823966,"reputation":11,"user_id":18703994,"display_name":"Tushar Tyagi"},"score":0,"creation_date":1649089081,"post_id":71740222,"comment_id":126782515,"body_markdown":"Thanks sir for your help. but it not working because the key is an type of entity. and if i compare that entity(key) to another Map2 then it will not match and return null value... so can you give me the another way to solve this....??","body":"Thanks sir for your help. but it not working because the key is an type of entity. and if i compare that entity(key) to another Map2 then it will not match and return null value... so can you give me the another way to solve this....??"},{"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"score":0,"creation_date":1649089267,"post_id":71740222,"comment_id":126782588,"body_markdown":"I would suggest you to implement a custom equals method on entity, if the entity has an ID property then it should be used. that way when comparing two instances objects it will not compare by reference but by id.","body":"I would suggest you to implement a custom equals method on entity, if the entity has an ID property then it should be used. that way when comparing two instances objects it will not compare by reference but by id."}],"answers":[{"tags":[],"owner":{"account_id":8953662,"reputation":1,"user_id":6678849,"display_name":"Shams Bin Sohrab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649088954,"creation_date":1649088954,"answer_id":71740485,"question_id":71740222,"body_markdown":"Maybe you can do something like this:\r\n\r\n    map1\r\n      .entrySet()\r\n      .stream()\r\n      .filter(e -&gt; map2.containsKey(e.getKey()))\r\n      .findFirst()\r\n      .map(e -&gt; e.getValue())\r\n      .orElse(null);\r\n\r\nSo if the key is present in `map2` it&#39;ll return the value from `map1` otherwise, it&#39;ll return `null`","title":"How can i find a value of a particular key in another Map with non-primitive data type in java?","body":"<p>Maybe you can do something like this:</p>\n<pre><code>map1\n  .entrySet()\n  .stream()\n  .filter(e -&gt; map2.containsKey(e.getKey()))\n  .findFirst()\n  .map(e -&gt; e.getValue())\n  .orElse(null);\n</code></pre>\n<p>So if the key is present in <code>map2</code> it'll return the value from <code>map1</code> otherwise, it'll return <code>null</code></p>\n"},{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649088962,"creation_date":1649088962,"answer_id":71740490,"question_id":71740222,"body_markdown":"You can use the [Stream API](https://www.baeldung.com/java-8-streams).\r\n\r\n```java\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        var map1 = new HashMap&lt;Square, String&gt;();\r\n        map1.put(new Square(2), &quot;two&quot;);\r\n        map1.put(new Square(3), &quot;three&quot;);\r\n        map1.put(new Square(4), &quot;four&quot;);\r\n        map1.put(new Square(5), &quot;five&quot;);\r\n        var map2 = new HashMap&lt;Square, String&gt;();\r\n        map2.put(new Square(2), &quot;two&quot;);\r\n        map2.put(new Square(3), &quot;three&quot;);\r\n\r\n\r\n        var valuesAlsoInMap2 = map1.entrySet().stream()\r\n                .filter(it -&gt; map2.containsKey(it.getKey()))\r\n                .map(Map.Entry::getValue)\r\n                .toList();\r\n        System.out.println(valuesAlsoInMap2);\r\n    }\r\n}\r\n```\r\n\r\nExpected result:\r\n```\r\n[two, three]\r\n```\r\n\r\nThis is using a simple POJO `Square` to show you it does work with non-primitive types. To see which methods HashMap relies on have a look at [this thread](https://stackoverflow.com/questions/5477452/setting-key-type-in-hashmap-how). \r\n```java\r\nimport java.util.Objects;\r\n\r\nclass Square extends shape{\r\n    private int side;\r\n\r\n    public Square(int side) {\r\n        this.side = side;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Square square = (Square) o;\r\n        return side == square.side;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(side);\r\n    }\r\n\r\n    @Override\r\n    public double Area() {\r\n        return side*side;\r\n    }\r\n\r\n    public int getSide() {\r\n        return side;\r\n    }\r\n\r\n    public void setSide(int side) {\r\n        this.side = side;\r\n    }\r\n}\r\n```","title":"How can i find a value of a particular key in another Map with non-primitive data type in java?","body":"<p>You can use the <a href=\"https://www.baeldung.com/java-8-streams\" rel=\"nofollow noreferrer\">Stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n    public static void main(String[] args) {\n        var map1 = new HashMap&lt;Square, String&gt;();\n        map1.put(new Square(2), &quot;two&quot;);\n        map1.put(new Square(3), &quot;three&quot;);\n        map1.put(new Square(4), &quot;four&quot;);\n        map1.put(new Square(5), &quot;five&quot;);\n        var map2 = new HashMap&lt;Square, String&gt;();\n        map2.put(new Square(2), &quot;two&quot;);\n        map2.put(new Square(3), &quot;three&quot;);\n\n\n        var valuesAlsoInMap2 = map1.entrySet().stream()\n                .filter(it -&gt; map2.containsKey(it.getKey()))\n                .map(Map.Entry::getValue)\n                .toList();\n        System.out.println(valuesAlsoInMap2);\n    }\n}\n</code></pre>\n<p>Expected result:</p>\n<pre><code>[two, three]\n</code></pre>\n<p>This is using a simple POJO <code>Square</code> to show you it does work with non-primitive types. To see which methods HashMap relies on have a look at <a href=\"https://stackoverflow.com/questions/5477452/setting-key-type-in-hashmap-how\">this thread</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\n\nclass Square extends shape{\n    private int side;\n\n    public Square(int side) {\n        this.side = side;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Square square = (Square) o;\n        return side == square.side;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(side);\n    }\n\n    @Override\n    public double Area() {\n        return side*side;\n    }\n\n    public int getSide() {\n        return side;\n    }\n\n    public void setSide(int side) {\n        this.side = side;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649089279,"creation_date":1649089279,"answer_id":71740548,"question_id":71740222,"body_markdown":"Here&#39;s another approach using an intersection operation (`retainAll()`) on the two maps&#39; key sets.\r\n\r\n```java\r\nMap&lt;Key, ProductEntity&gt; map1 = ...;\r\nMap&lt;Key, ProductEntitySecond&gt; map2 = ...;\r\n\r\nMap&lt;Key, ProductionEntity&gt; tmp = new HashMap&lt;&gt;(map1);\r\ntmp.keySet().retainAll(map2.keySet());\r\nCollection&lt;ProductionEntity&gt; shared = tmp.values();\r\n```\r\n\r\nThis is simple and clean, but it&#39;s not the most efficient solution, if that matters in this case.","title":"How can i find a value of a particular key in another Map with non-primitive data type in java?","body":"<p>Here's another approach using an intersection operation (<code>retainAll()</code>) on the two maps' key sets.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Key, ProductEntity&gt; map1 = ...;\nMap&lt;Key, ProductEntitySecond&gt; map2 = ...;\n\nMap&lt;Key, ProductionEntity&gt; tmp = new HashMap&lt;&gt;(map1);\ntmp.keySet().retainAll(map2.keySet());\nCollection&lt;ProductionEntity&gt; shared = tmp.values();\n</code></pre>\n<p>This is simple and clean, but it's not the most efficient solution, if that matters in this case.</p>\n"},{"tags":[],"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649090919,"creation_date":1649090598,"answer_id":71740827,"question_id":71740222,"body_markdown":"I will leave you with a very, very simplified example. \r\n\r\nIf you choose to go with a solution similar to this one I would strongly recommend you to read about how to overwrite Equals and Hashcode: https://www.baeldung.com/java-equals-hashcode-contracts\r\n\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    \r\n    public class HelloWorld{\r\n         public static void main(String []args) {\r\n                Entity entity1 = new Entity();\r\n                entity1.id = 1L;\r\n                \r\n                Entity entity2 = new Entity();\r\n                entity2.id = 1L;\r\n                \r\n                Map map1 = new HashMap&lt;Entity, String&gt;();\r\n                map1.put(entity1, &quot;one&quot;);\r\n                Map map2 = new HashMap&lt;Entity, String&gt;();\r\n                map2.put(entity2, &quot;two&quot;);\r\n                \r\n                System.out.println(map1.get(entity1));\r\n                System.out.println(map2.get(entity1));\r\n         }\r\n         \r\n         private static class Entity {\r\n            public Long id;\r\n            \r\n            @Override\r\n            public boolean equals(Object o) {\r\n                return ((Entity) o).id.equals(this.id);\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see even two different references but with same id are now considered equals.","title":"How can i find a value of a particular key in another Map with non-primitive data type in java?","body":"<p>I will leave you with a very, very simplified example.</p>\n<p>If you choose to go with a solution similar to this one I would strongly recommend you to read about how to overwrite Equals and Hashcode: <a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-equals-hashcode-contracts</a></p>\n<pre><code>import java.util.Map;\nimport java.util.HashMap;\n\npublic class HelloWorld{\n     public static void main(String []args) {\n            Entity entity1 = new Entity();\n            entity1.id = 1L;\n            \n            Entity entity2 = new Entity();\n            entity2.id = 1L;\n            \n            Map map1 = new HashMap&lt;Entity, String&gt;();\n            map1.put(entity1, &quot;one&quot;);\n            Map map2 = new HashMap&lt;Entity, String&gt;();\n            map2.put(entity2, &quot;two&quot;);\n            \n            System.out.println(map1.get(entity1));\n            System.out.println(map2.get(entity1));\n     }\n     \n     private static class Entity {\n        public Long id;\n        \n        @Override\n        public boolean equals(Object o) {\n            return ((Entity) o).id.equals(this.id);\n        }\n    }\n}\n</code></pre>\n<p>As you can see even two different references but with same id are now considered equals.</p>\n"},{"tags":[],"owner":{"account_id":15709806,"reputation":131,"user_id":11335573,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649091110,"creation_date":1649091110,"answer_id":71740923,"question_id":71740222,"body_markdown":"for Any java version 8+\r\n```java\r\nList&lt;String&gt; valuesFromMap2WhenKeysAreCommon = \r\n        map1.keySet().stream().filter(map1::containsKey).map(map2::get).collect(Collectors.toList());\r\n```","title":"How can i find a value of a particular key in another Map with non-primitive data type in java?","body":"<p>for Any java version 8+</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; valuesFromMap2WhenKeysAreCommon = \n        map1.keySet().stream().filter(map1::containsKey).map(map2::get).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":24823966,"reputation":11,"user_id":18703994,"display_name":"Tushar Tyagi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1649091110,"creation_date":1649087769,"question_id":71740222,"body_markdown":"I have an Map Map1 and another Map Map2.. \r\n\r\nMap&lt;Key,ProductEntity&gt; Map1;\r\n\r\nMap&lt;Key, ProductEntitySecond&gt; Map2;\r\n\r\nI want to iterate in map1 and check if that particular key of Map1 is present in Map2. if it is then return the value .\r\n\r\nCan someone please give me an idea to solve that type of problem.\r\n\r\n\r\n\r\n","title":"How can i find a value of a particular key in another Map with non-primitive data type in java?","body":"<p>I have an Map Map1 and another Map Map2..</p>\n<p>Map&lt;Key,ProductEntity&gt; Map1;</p>\n<p>Map&lt;Key, ProductEntitySecond&gt; Map2;</p>\n<p>I want to iterate in map1 and check if that particular key of Map1 is present in Map2. if it is then return the value .</p>\n<p>Can someone please give me an idea to solve that type of problem.</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"score":0,"creation_date":1648394361,"post_id":71636765,"comment_id":126607500,"body_markdown":"After reading the first tutorial, I think you would set the PatternLayout pattern in your log4j file but create a custom symbolic token to be replaced, &quot;%flaskToken&quot;.  Then, for your code, change the parent to LogEventPatternConverter.  Implement the method &quot;format&quot;, use the annotation @ConverterKeys({&quot;flaskToken&quot;})","body":"After reading the first tutorial, I think you would set the PatternLayout pattern in your log4j file but create a custom symbolic token to be replaced, &quot;%flaskToken&quot;.  Then, for your code, change the parent to LogEventPatternConverter.  Implement the method &quot;format&quot;, use the annotation @ConverterKeys({&quot;flaskToken&quot;})"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648659513,"post_id":71636765,"comment_id":126682852,"body_markdown":"Check if this helps: https://stackoverflow.com/questions/44851127/log4j2-custom-layout-patterns","body":"Check if this helps: <a href=\"https://stackoverflow.com/questions/44851127/log4j2-custom-layout-patterns\" title=\"log4j2 custom layout patterns\">stackoverflow.com/questions/44851127/&hellip;</a>"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648674112,"post_id":71636765,"comment_id":126687776,"body_markdown":"@Paul, you have answered your question, use a custom PatternConverter. Implement `format` method in the same way as it was in PatternLayot. Example: https://stackoverflow.com/questions/33011017/how-to-implement-custom-pattern-layout-in-log4j2","body":"@Paul, you have answered your question, use a custom PatternConverter. Implement <code>format</code> method in the same way as it was in PatternLayot. Example: <a href=\"https://stackoverflow.com/questions/33011017/how-to-implement-custom-pattern-layout-in-log4j2\" title=\"how to implement custom pattern layout in log4j2\">stackoverflow.com/questions/33011017/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649090880,"creation_date":1649090880,"answer_id":71740886,"question_id":71636765,"body_markdown":"Since PatternLayout is final itself you can instead extend the parent class of PatternLayout and get things done.\r\n\r\n    package com.example;\r\n    \r\n    \r\n    import java.nio.charset.Charset;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import org.apache.logging.log4j.Level;\r\n    import org.apache.logging.log4j.core.LogEvent;\r\n    import org.apache.logging.log4j.core.config.Configuration;\r\n    import org.apache.logging.log4j.core.layout.AbstractStringLayout;\r\n    \r\n    public class HelloPattern extends AbstractStringLayout {\r\n    \r\n        private static final SimpleDateFormat DATE_FORMAT;\r\n        /**\r\n         * ANSI-Format for the level\r\n         */\r\n        private static final HashMap&lt;Level, CliColor&gt; LEVELS;\r\n    \r\n        static {\r\n            LEVELS = new HashMap&lt;Level, CliColor&gt;();\r\n            LEVELS.put(Level.TRACE, CliColor.BLUE);\r\n            LEVELS.put(Level.DEBUG, CliColor.CYAN);\r\n            LEVELS.put(Level.INFO, CliColor.GREEN);\r\n            LEVELS.put(Level.WARN, CliColor.YELLOW);\r\n            LEVELS.put(Level.ERROR, CliColor.RED);\r\n            LEVELS.put(Level.FATAL, CliColor.RED);\r\n            DATE_FORMAT = new SimpleDateFormat(&quot;HH:mm:ss,SSS&quot;);\r\n        }\r\n    \r\n        protected HelloPattern(Charset charset) {\r\n            super(charset);\r\n        }\r\n    \r\n        protected HelloPattern(Charset aCharset, byte[] header, byte[] footer) {\r\n            super(aCharset, header, footer);\r\n        }\r\n    \r\n        protected HelloPattern(Configuration config,\r\n            Charset aCharset,\r\n            Serializer headerSerializer,\r\n            Serializer footerSerializer) {\r\n            super(config, aCharset, headerSerializer, footerSerializer);\r\n        }\r\n    \r\n        /**\r\n         * Pads a string until it has the desired length. The space is filled with spaces.\r\n         *\r\n         * @param str    The string to pad.\r\n         * @param length The desired length of the string.\r\n         * @return A padded string.\r\n         */\r\n        public static String leftPad(String str, int length) {\r\n            if (str.length() &gt; length) {\r\n                return str.substring(0, length);\r\n            }\r\n    \r\n            if (str.length() &lt; length) {\r\n                StringBuilder stringBuilder = new StringBuilder(str);\r\n                for (int i = str.length(); i &lt; length; ++i) {\r\n                    stringBuilder.append(&#39; &#39;);\r\n                }\r\n                return stringBuilder.toString();\r\n            }\r\n    \r\n            return str;\r\n        }\r\n    \r\n        @Override\r\n        public boolean requiresLocation() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toSerializable(LogEvent event) {\r\n            return String.format(&quot;%s %s %s %s\\n&quot;, DATE_FORMAT.format(new Date()),\r\n                formatLevel(event), formatLocationInfo(event),\r\n                formatMessage(event));\r\n        }\r\n    \r\n        /**\r\n         * @param event The event that gets formatted\r\n         * @return A string representing the log level.\r\n         */\r\n        private String formatLevel(LogEvent event) {\r\n            Level level = event.getLevel();\r\n            String levelName = leftPad(level.toString(), 5);\r\n            CliColor ansiConfig = LEVELS.get(level);\r\n    \r\n            if (ansiConfig == null) {\r\n                return CliColor.color(levelName, CliColor.BOLD);\r\n            }\r\n    \r\n            return CliColor.color(levelName, CliColor.BOLD, ansiConfig);\r\n        }\r\n    \r\n        /**\r\n         * @param event The event that gets formatted\r\n         * @return A formatted location info.\r\n         */\r\n        private String formatLocationInfo(LogEvent event) {\r\n            Throwable thrown = event.getThrown();\r\n            final int line = thrown.getStackTrace()[0].getLineNumber();\r\n            String className = thrown.getStackTrace()[0].getClassName();\r\n            className = className.substring(className.lastIndexOf(&#39;.&#39;) + 1);\r\n    \r\n            return &quot;[\\u001b[0;33m&quot; + className + &quot;:&quot; + line + &quot;\\u001B[m]&quot;;\r\n        }\r\n    \r\n        //Tried best to get it right\r\n    \r\n        /**\r\n         * @param event The event that gets formatted\r\n         * @return Formatted message.\r\n         */\r\n        private String formatMessage(LogEvent event) {\r\n            if (event.getMessage() == null) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            return event.getMessage().toString();\r\n        }\r\n    \r\n        enum CliColor {\r\n            BLUE, CYAN, GREEN, YELLOW, RED, BOLD;\r\n    \r\n            public static String color(String level, CliColor color) {\r\n                return &quot;stringBasedonyourimplementation&quot;;\r\n            }\r\n    \r\n            public static String color(String levelName, CliColor bold, CliColor ansiConfig) {\r\n                return &quot;stringBasedonyourimplementation&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n**Note**: Since I did not have enough info on CliColor, added mock impl to give you idea on that. Plus for locationInfo as well.","title":"Convert a Log4j PatternLayout Extension to Log4j2","body":"<p>Since PatternLayout is final itself you can instead extend the parent class of PatternLayout and get things done.</p>\n<pre><code>package com.example;\n\n\nimport java.nio.charset.Charset;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.HashMap;\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.core.config.Configuration;\nimport org.apache.logging.log4j.core.layout.AbstractStringLayout;\n\npublic class HelloPattern extends AbstractStringLayout {\n\n    private static final SimpleDateFormat DATE_FORMAT;\n    /**\n     * ANSI-Format for the level\n     */\n    private static final HashMap&lt;Level, CliColor&gt; LEVELS;\n\n    static {\n        LEVELS = new HashMap&lt;Level, CliColor&gt;();\n        LEVELS.put(Level.TRACE, CliColor.BLUE);\n        LEVELS.put(Level.DEBUG, CliColor.CYAN);\n        LEVELS.put(Level.INFO, CliColor.GREEN);\n        LEVELS.put(Level.WARN, CliColor.YELLOW);\n        LEVELS.put(Level.ERROR, CliColor.RED);\n        LEVELS.put(Level.FATAL, CliColor.RED);\n        DATE_FORMAT = new SimpleDateFormat(&quot;HH:mm:ss,SSS&quot;);\n    }\n\n    protected HelloPattern(Charset charset) {\n        super(charset);\n    }\n\n    protected HelloPattern(Charset aCharset, byte[] header, byte[] footer) {\n        super(aCharset, header, footer);\n    }\n\n    protected HelloPattern(Configuration config,\n        Charset aCharset,\n        Serializer headerSerializer,\n        Serializer footerSerializer) {\n        super(config, aCharset, headerSerializer, footerSerializer);\n    }\n\n    /**\n     * Pads a string until it has the desired length. The space is filled with spaces.\n     *\n     * @param str    The string to pad.\n     * @param length The desired length of the string.\n     * @return A padded string.\n     */\n    public static String leftPad(String str, int length) {\n        if (str.length() &gt; length) {\n            return str.substring(0, length);\n        }\n\n        if (str.length() &lt; length) {\n            StringBuilder stringBuilder = new StringBuilder(str);\n            for (int i = str.length(); i &lt; length; ++i) {\n                stringBuilder.append(' ');\n            }\n            return stringBuilder.toString();\n        }\n\n        return str;\n    }\n\n    @Override\n    public boolean requiresLocation() {\n        return true;\n    }\n\n    @Override\n    public String toSerializable(LogEvent event) {\n        return String.format(&quot;%s %s %s %s\\n&quot;, DATE_FORMAT.format(new Date()),\n            formatLevel(event), formatLocationInfo(event),\n            formatMessage(event));\n    }\n\n    /**\n     * @param event The event that gets formatted\n     * @return A string representing the log level.\n     */\n    private String formatLevel(LogEvent event) {\n        Level level = event.getLevel();\n        String levelName = leftPad(level.toString(), 5);\n        CliColor ansiConfig = LEVELS.get(level);\n\n        if (ansiConfig == null) {\n            return CliColor.color(levelName, CliColor.BOLD);\n        }\n\n        return CliColor.color(levelName, CliColor.BOLD, ansiConfig);\n    }\n\n    /**\n     * @param event The event that gets formatted\n     * @return A formatted location info.\n     */\n    private String formatLocationInfo(LogEvent event) {\n        Throwable thrown = event.getThrown();\n        final int line = thrown.getStackTrace()[0].getLineNumber();\n        String className = thrown.getStackTrace()[0].getClassName();\n        className = className.substring(className.lastIndexOf('.') + 1);\n\n        return &quot;[\\u001b[0;33m&quot; + className + &quot;:&quot; + line + &quot;\\u001B[m]&quot;;\n    }\n\n    //Tried best to get it right\n\n    /**\n     * @param event The event that gets formatted\n     * @return Formatted message.\n     */\n    private String formatMessage(LogEvent event) {\n        if (event.getMessage() == null) {\n            return &quot;&quot;;\n        }\n\n        return event.getMessage().toString();\n    }\n\n    enum CliColor {\n        BLUE, CYAN, GREEN, YELLOW, RED, BOLD;\n\n        public static String color(String level, CliColor color) {\n            return &quot;stringBasedonyourimplementation&quot;;\n        }\n\n        public static String color(String levelName, CliColor bold, CliColor ansiConfig) {\n            return &quot;stringBasedonyourimplementation&quot;;\n        }\n    }\n}\n</code></pre>\n<p><strong>Note</strong>: Since I did not have enough info on CliColor, added mock impl to give you idea on that. Plus for locationInfo as well.</p>\n"}],"owner":{"account_id":14034180,"reputation":523,"user_id":10137268,"display_name":"Paul Erlenmeyer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1649090880,"creation_date":1648387835,"question_id":71636765,"body_markdown":"I&#39;m converting a large application from Log4j1 to Log4j2 and found this class. PatternLayout cannot be extended in Log4j2, but I understand that I convert this class to Lug4j2 using [Plugins][1]. I checked out these tutorials ([Extending Log4j2][2], [Log4j2 Plugins][3], [Programmatic Configuration with Log4j2][4]), but I&#39;m still not sure how to exactly do it. It seems to me that I can only apply the tutorial, if it is the exact usecase as presented. Can anyone help me with this? How to get the specific information? Do I have to look into the Log4j2 Sourcecode?\r\n\r\n\r\n\r\n    package aa.bbb.cccc;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    \r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.spi.LocationInfo;\r\n    import org.apache.log4j.spi.LoggingEvent;\r\n    \r\n    public class PatternLayout extends org.apache.log4j.PatternLayout {\r\n    \r\n        private static final SimpleDateFormat DATE_FORMAT;\r\n    \r\n        /**\r\n         * ANSI-Format for the level\r\n         */\r\n        private static final HashMap&lt;Level, CliColor&gt; LEVELS;\r\n    \r\n        static {\r\n            LEVELS = new HashMap&lt;Level, CliColor&gt;();\r\n            LEVELS.put(Level.TRACE, CliColor.BLUE);\r\n            LEVELS.put(Level.DEBUG, CliColor.CYAN);\r\n            LEVELS.put(Level.INFO, CliColor.GREEN);\r\n            LEVELS.put(Level.WARN, CliColor.YELLOW);\r\n            LEVELS.put(Level.ERROR, CliColor.RED);\r\n            LEVELS.put(Level.FATAL, CliColor.RED);\r\n            DATE_FORMAT = new SimpleDateFormat(&quot;HH:mm:ss,SSS&quot;);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Pads a string until it has the desired length. The space\r\n         * is filled with spaces.\r\n         *\r\n         * @param str The string to pad.\r\n         * @param length The desired length of the string.\r\n         * @return A padded string.\r\n         */\r\n        public static String leftPad(String str, int length) {\r\n            if (str.length() &gt; length) {\r\n                return str.substring(0, length);\r\n            }\r\n    \r\n            if (str.length() &lt; length) {\r\n                StringBuilder stringBuilder = new StringBuilder(str);\r\n                for (int i = str.length(); i &lt; length; ++i) {\r\n                    stringBuilder.append(&#39; &#39;);\r\n                }\r\n                return stringBuilder.toString();\r\n            }\r\n    \r\n            return str;\r\n        }\r\n    \r\n        @Override\r\n        public String format(LoggingEvent event) {\r\n            return String.format(&quot;%s %s %s %s\\n&quot;, DATE_FORMAT.format(new Date()),\r\n                            formatLevel(event), formatLocationInfo(event),\r\n                            formatMessage(event));\r\n        }\r\n    \r\n        /**\r\n         * @param event The event that gets formatted\r\n         * @return A string representing the log level.\r\n         */\r\n        private String formatLevel(LoggingEvent event) {\r\n            Level level = event.getLevel();\r\n            String levelName = leftPad(level.toString(), 5);\r\n            CliColor ansiConfig = LEVELS.get(level);\r\n    \r\n            if (ansiConfig == null) {\r\n                return CliColor.color(levelName, CliColor.BOLD);\r\n            }\r\n    \r\n            return CliColor.color(levelName, CliColor.BOLD, ansiConfig);\r\n        }\r\n    \r\n        /**\r\n         * @param event The event that gets formatted\r\n         * @return A formatted location info.\r\n         */\r\n        private String formatLocationInfo(LoggingEvent event) {\r\n            LocationInfo locationInfo = event.getLocationInformation();\r\n            final String line = locationInfo.getLineNumber();\r\n            String className = locationInfo.getClassName();\r\n            className = className.substring(className.lastIndexOf(&#39;.&#39;) + 1);\r\n    \r\n            return &quot;[\\u001b[0;33m&quot; + className + &quot;:&quot; + line + &quot;\\u001B[m]&quot;;\r\n        }\r\n    \r\n        /**\r\n         * @param event The event that gets formatted\r\n         * @return Formatted message.\r\n         */\r\n        private String formatMessage(LoggingEvent event) {\r\n            if (event.getMessage() == null) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            return event.getMessage().toString();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/plugins.html\r\n  [2]: https://andrew-flower.com/blog/Create_Custom_Log4j_Plugins\r\n  [3]: https://www.baeldung.com/log4j2-plugins\r\n  [4]: https://www.baeldung.com/log4j2-programmatic-config","title":"Convert a Log4j PatternLayout Extension to Log4j2","body":"<p>I'm converting a large application from Log4j1 to Log4j2 and found this class. PatternLayout cannot be extended in Log4j2, but I understand that I convert this class to Lug4j2 using <a href=\"https://logging.apache.org/log4j/2.x/manual/plugins.html\" rel=\"nofollow noreferrer\">Plugins</a>. I checked out these tutorials (<a href=\"https://andrew-flower.com/blog/Create_Custom_Log4j_Plugins\" rel=\"nofollow noreferrer\">Extending Log4j2</a>, <a href=\"https://www.baeldung.com/log4j2-plugins\" rel=\"nofollow noreferrer\">Log4j2 Plugins</a>, <a href=\"https://www.baeldung.com/log4j2-programmatic-config\" rel=\"nofollow noreferrer\">Programmatic Configuration with Log4j2</a>), but I'm still not sure how to exactly do it. It seems to me that I can only apply the tutorial, if it is the exact usecase as presented. Can anyone help me with this? How to get the specific information? Do I have to look into the Log4j2 Sourcecode?</p>\n<pre><code>package aa.bbb.cccc;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.HashMap;\n\nimport org.apache.log4j.Level;\nimport org.apache.log4j.spi.LocationInfo;\nimport org.apache.log4j.spi.LoggingEvent;\n\npublic class PatternLayout extends org.apache.log4j.PatternLayout {\n\n    private static final SimpleDateFormat DATE_FORMAT;\n\n    /**\n     * ANSI-Format for the level\n     */\n    private static final HashMap&lt;Level, CliColor&gt; LEVELS;\n\n    static {\n        LEVELS = new HashMap&lt;Level, CliColor&gt;();\n        LEVELS.put(Level.TRACE, CliColor.BLUE);\n        LEVELS.put(Level.DEBUG, CliColor.CYAN);\n        LEVELS.put(Level.INFO, CliColor.GREEN);\n        LEVELS.put(Level.WARN, CliColor.YELLOW);\n        LEVELS.put(Level.ERROR, CliColor.RED);\n        LEVELS.put(Level.FATAL, CliColor.RED);\n        DATE_FORMAT = new SimpleDateFormat(&quot;HH:mm:ss,SSS&quot;);\n    }\n\n\n    /**\n     * Pads a string until it has the desired length. The space\n     * is filled with spaces.\n     *\n     * @param str The string to pad.\n     * @param length The desired length of the string.\n     * @return A padded string.\n     */\n    public static String leftPad(String str, int length) {\n        if (str.length() &gt; length) {\n            return str.substring(0, length);\n        }\n\n        if (str.length() &lt; length) {\n            StringBuilder stringBuilder = new StringBuilder(str);\n            for (int i = str.length(); i &lt; length; ++i) {\n                stringBuilder.append(' ');\n            }\n            return stringBuilder.toString();\n        }\n\n        return str;\n    }\n\n    @Override\n    public String format(LoggingEvent event) {\n        return String.format(&quot;%s %s %s %s\\n&quot;, DATE_FORMAT.format(new Date()),\n                        formatLevel(event), formatLocationInfo(event),\n                        formatMessage(event));\n    }\n\n    /**\n     * @param event The event that gets formatted\n     * @return A string representing the log level.\n     */\n    private String formatLevel(LoggingEvent event) {\n        Level level = event.getLevel();\n        String levelName = leftPad(level.toString(), 5);\n        CliColor ansiConfig = LEVELS.get(level);\n\n        if (ansiConfig == null) {\n            return CliColor.color(levelName, CliColor.BOLD);\n        }\n\n        return CliColor.color(levelName, CliColor.BOLD, ansiConfig);\n    }\n\n    /**\n     * @param event The event that gets formatted\n     * @return A formatted location info.\n     */\n    private String formatLocationInfo(LoggingEvent event) {\n        LocationInfo locationInfo = event.getLocationInformation();\n        final String line = locationInfo.getLineNumber();\n        String className = locationInfo.getClassName();\n        className = className.substring(className.lastIndexOf('.') + 1);\n\n        return &quot;[\\u001b[0;33m&quot; + className + &quot;:&quot; + line + &quot;\\u001B[m]&quot;;\n    }\n\n    /**\n     * @param event The event that gets formatted\n     * @return Formatted message.\n     */\n    private String formatMessage(LoggingEvent event) {\n        if (event.getMessage() == null) {\n            return &quot;&quot;;\n        }\n\n        return event.getMessage().toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-content-community-project"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":1,"creation_date":1649078420,"post_id":71737922,"comment_id":126778013,"body_markdown":"Maybe this is related : https://githubhot.com/repo/paulcwarren/spring-content/issues/845","body":"Maybe this is related : <a href=\"https://githubhot.com/repo/paulcwarren/spring-content/issues/845\" rel=\"nofollow noreferrer\">githubhot.com/repo/paulcwarren/spring-content/issues/845</a>"},{"owner":{"account_id":5297019,"reputation":53,"user_id":4227920,"display_name":"Rob H"},"score":1,"creation_date":1649089932,"post_id":71737922,"comment_id":126782817,"body_markdown":"Aha, that was very helpful! I guess when I searched for &quot;StackOverflow&quot; google thought only of this site.","body":"Aha, that was very helpful! I guess when I searched for &quot;StackOverflow&quot; google thought only of this site."}],"answers":[{"tags":[],"owner":{"account_id":5297019,"reputation":53,"user_id":4227920,"display_name":"Rob H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649090051,"creation_date":1649090051,"answer_id":71740726,"question_id":71737922,"body_markdown":"Arnaud&#39;s link pointed to the correct solution. The service will now start up as expected when the spring-content dependency was updated to 2.2.0-SNAPSHOT:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.paulcwarren&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-content-fs-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThanks again!","title":"Why does Spring-content produce an IllegalStateException on startup if an Entity has a field which is marked with @Enumerated","body":"<p>Arnaud's link pointed to the correct solution. The service will now start up as expected when the spring-content dependency was updated to 2.2.0-SNAPSHOT:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.paulcwarren&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-content-fs-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Thanks again!</p>\n"}],"owner":{"account_id":5297019,"reputation":53,"user_id":4227920,"display_name":"Rob H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71740726,"answer_count":1,"score":1,"last_activity_date":1649090761,"creation_date":1649078142,"question_id":71737922,"body_markdown":"We are using Spring-content as a file storage solution in a web application, and are upgrading the version from 1.0.0.M10 to 2.1.0. Suddenly our microservice refuses to start up because it cannot load its ApplicationContext, and I cannot for the life of me understand why. The Spring-content changelog mentioned breaking changes involving annotations decorating the ContentStore itself --which we don&#39;t have-- but nothing I read mentioned annotations on the entity class. Am I doing something wrong, or is this a bug of some kind?\r\n\r\nI&#39;ve made a simplified example that produces the same type of exception because I&#39;m not sure if I&#39;m allowed to share the original source code.\r\n\r\nMy Spring-content dependencies. The only other dependencies are for lombok, postgres, and hibernate on an otherwise new project:\r\n```\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.paulcwarren&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-content-fs-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.paulcwarren&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-content-rest-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nMy Entity:\r\n```@Entity\r\n@Data\r\n@Table(name = &quot;employee&quot;)\r\npublic class EmployeeEntity  {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID employeeId;\r\n    \r\n    @ContentId\r\n    @Column(name = &quot;content_id&quot;)\r\n    private UUID contentId;\r\n    \r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;employee_type&quot;)\r\n    private EmployeeType employeeType;\r\n\r\n}\r\n```\r\n\r\nThe enum:\r\n```\r\npublic enum EmployeeType {\r\n    ASSOCIATE,\r\n    MANAGER,\r\n    DIRECTOR,\r\n    EXECUTIVE;\r\n}\r\n```\r\n\r\nMy repo:\r\n```\r\npublic interface IEmployeeRepository extends JpaRepository&lt;EmployeeEntity, UUID&gt; {\r\n\r\n}\r\n```\r\n\r\nAnd my ContentStore:\r\n```\r\npublic interface IEmployeeContentStore extends ContentStore&lt;EmployeeEntity, String&gt; {\r\n\r\n}\r\n```\r\n\r\nWhen I either try to run the application or run a JUnit test that loads the context, I get a console full of these errors, which seems to fill the buffer as far back as I can scroll.\r\n```\r\n\tat org.springframework.content.commons.mappingcontext.ContentPropertyBuilderVisitor.visitField(ContentPropertyBuilderVisitor.java:143) ~[spring-content-commons-2.1.0.jar:na]\r\n\tat org.springframework.content.commons.mappingcontext.ClassWalker.accept(ClassWalker.java:24) ~[spring-content-commons-2.1.0.jar:na]\r\n```\r\n\r\nBy capturing the console output to a text file, it seems this is the root exception:\r\n```\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.content.commons.mappingcontext.MappingContext]: Factory method &#39;mappingContext&#39; threw exception; nested exception is java.lang.StackOverflowError\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.18.jar:5.3.18]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.18.jar:5.3.18]\r\n\t... 134 common frames omitted\r\nCaused by: java.lang.StackOverflowError: null\r\n\tat java.base/java.lang.reflect.Field.copy(Field.java:153) ~[na:na]\r\n\tat java.base/java.lang.reflect.ReflectAccess.copyField(ReflectAccess.java:151) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.copyField(ReflectionFactory.java:381) ~[na:na]\r\n\tat java.base/java.lang.Class.copyFields(Class.java:3383) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredFields(Class.java:2249) ~[na:na]\r\n\tat org.springframework.content.commons.mappingcontext.ContentPropertyBuilderVisitor.visitClass(ContentPropertyBuilderVisitor.java:48) ~[spring-content-commons-2.1.0.jar:na]\r\n\tat org.springframework.content.commons.mappingcontext.ClassWalker.accept(ClassWalker.java:17) ~[spring-content-commons-2.1.0.jar:na]\r\n```\r\n\r\nI&#39;ve traced the problem to what seems to be the @Enumerated annotation on the entity class. Removing this field entirely prevents the exception from occurring. \r\n\r\nThe nearest explanation I could find is that a StackOverflowException is something you&#39;d expect if you had classes calling each other recursively: &lt;https://stackoverflow.com/questions/67965661/spring-boot-stackoverflowerror-null&gt; However this is at least not directly applicable as I don&#39;t have any mapping between entities such as in the example.\r\n\r\nThings I have tried:\r\n- Removing @Data to see if lombok&#39;s toString() was indeed the culprit. (See above)\r\n- Using a converter class instead of @Enumerated\r\n\r\nThe only solution that seemed to work was changing EmployeeType to a String, in which case everything loads correctly. It would be less than ideal if this were the only solution, as the entire microservice would have to be refactored to use a String instead of an Enum for that field. \r\n\r\nCan anyone point me in the right direction making an enumerated field work in an entity used in a ContentStore in this way? Thank you so much!\r\n\r\n---\r\nEdit: Added postgres and hibernate dependencies, which I overlooked initially","title":"Why does Spring-content produce an IllegalStateException on startup if an Entity has a field which is marked with @Enumerated","body":"<p>We are using Spring-content as a file storage solution in a web application, and are upgrading the version from 1.0.0.M10 to 2.1.0. Suddenly our microservice refuses to start up because it cannot load its ApplicationContext, and I cannot for the life of me understand why. The Spring-content changelog mentioned breaking changes involving annotations decorating the ContentStore itself --which we don't have-- but nothing I read mentioned annotations on the entity class. Am I doing something wrong, or is this a bug of some kind?</p>\n<p>I've made a simplified example that produces the same type of exception because I'm not sure if I'm allowed to share the original source code.</p>\n<p>My Spring-content dependencies. The only other dependencies are for lombok, postgres, and hibernate on an otherwise new project:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.paulcwarren&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-content-fs-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.paulcwarren&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-content-rest-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My Entity:</p>\n<pre><code>@Data\n@Table(name = &quot;employee&quot;)\npublic class EmployeeEntity  {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID employeeId;\n    \n    @ContentId\n    @Column(name = &quot;content_id&quot;)\n    private UUID contentId;\n    \n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;employee_type&quot;)\n    private EmployeeType employeeType;\n\n}\n</code></pre>\n<p>The enum:</p>\n<pre><code>public enum EmployeeType {\n    ASSOCIATE,\n    MANAGER,\n    DIRECTOR,\n    EXECUTIVE;\n}\n</code></pre>\n<p>My repo:</p>\n<pre><code>public interface IEmployeeRepository extends JpaRepository&lt;EmployeeEntity, UUID&gt; {\n\n}\n</code></pre>\n<p>And my ContentStore:</p>\n<pre><code>public interface IEmployeeContentStore extends ContentStore&lt;EmployeeEntity, String&gt; {\n\n}\n</code></pre>\n<p>When I either try to run the application or run a JUnit test that loads the context, I get a console full of these errors, which seems to fill the buffer as far back as I can scroll.</p>\n<pre><code>    at org.springframework.content.commons.mappingcontext.ContentPropertyBuilderVisitor.visitField(ContentPropertyBuilderVisitor.java:143) ~[spring-content-commons-2.1.0.jar:na]\n    at org.springframework.content.commons.mappingcontext.ClassWalker.accept(ClassWalker.java:24) ~[spring-content-commons-2.1.0.jar:na]\n</code></pre>\n<p>By capturing the console output to a text file, it seems this is the root exception:</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.content.commons.mappingcontext.MappingContext]: Factory method 'mappingContext' threw exception; nested exception is java.lang.StackOverflowError\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.18.jar:5.3.18]\n    ... 134 common frames omitted\nCaused by: java.lang.StackOverflowError: null\n    at java.base/java.lang.reflect.Field.copy(Field.java:153) ~[na:na]\n    at java.base/java.lang.reflect.ReflectAccess.copyField(ReflectAccess.java:151) ~[na:na]\n    at java.base/jdk.internal.reflect.ReflectionFactory.copyField(ReflectionFactory.java:381) ~[na:na]\n    at java.base/java.lang.Class.copyFields(Class.java:3383) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredFields(Class.java:2249) ~[na:na]\n    at org.springframework.content.commons.mappingcontext.ContentPropertyBuilderVisitor.visitClass(ContentPropertyBuilderVisitor.java:48) ~[spring-content-commons-2.1.0.jar:na]\n    at org.springframework.content.commons.mappingcontext.ClassWalker.accept(ClassWalker.java:17) ~[spring-content-commons-2.1.0.jar:na]\n</code></pre>\n<p>I've traced the problem to what seems to be the @Enumerated annotation on the entity class. Removing this field entirely prevents the exception from occurring.</p>\n<p>The nearest explanation I could find is that a StackOverflowException is something you'd expect if you had classes calling each other recursively: <a href=\"https://stackoverflow.com/questions/67965661/spring-boot-stackoverflowerror-null\">Spring Boot StackOverFlowError : Null</a> However this is at least not directly applicable as I don't have any mapping between entities such as in the example.</p>\n<p>Things I have tried:</p>\n<ul>\n<li>Removing @Data to see if lombok's toString() was indeed the culprit. (See above)</li>\n<li>Using a converter class instead of @Enumerated</li>\n</ul>\n<p>The only solution that seemed to work was changing EmployeeType to a String, in which case everything loads correctly. It would be less than ideal if this were the only solution, as the entire microservice would have to be refactored to use a String instead of an Enum for that field.</p>\n<p>Can anyone point me in the right direction making an enumerated field work in an entity used in a ContentStore in this way? Thank you so much!</p>\n<hr />\n<p>Edit: Added postgres and hibernate dependencies, which I overlooked initially</p>\n"},{"tags":["java","android","twilio","twilio-api"],"answers":[{"tags":[],"owner":{"account_id":11887008,"reputation":21,"user_id":8699058,"display_name":"Rohit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530866269,"creation_date":1530866269,"answer_id":51206236,"question_id":51205952,"body_markdown":"Call this method in your Activity onCreate() and \r\nSearch your key in logcat using key &quot;HashKey&quot;\r\n\r\n    public static void printHashKey(Context pContext) {\r\n        try {\r\n            PackageInfo info = getPackageManager().getPackageInfo(getPackageName(), PackageManager.GET_SIGNATURES);\r\n            for (Signature signature : info.signatures) {\r\n                MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\r\n                md.update(signature.toByteArray());\r\n                String hashKey = new String(Base64.encode(md.digest(), 0));\r\n                Log.d(&quot;HashKey&quot;, &quot;printHashKey() Hash Key: &quot; + hashKey);\r\n            }\r\n        } catch (NoSuchAlgorithmException e) {\r\n            Log.e(TAG, &quot;printHashKey()&quot;, e);\r\n        } catch (Exception e) {\r\n            Log.e(TAG, &quot;printHashKey()&quot;, e);\r\n        }\r\n    }","title":"How to generate hash signature?","body":"<p>Call this method in your Activity onCreate() and \nSearch your key in logcat using key \"HashKey\"</p>\n\n<pre><code>public static void printHashKey(Context pContext) {\n    try {\n        PackageInfo info = getPackageManager().getPackageInfo(getPackageName(), PackageManager.GET_SIGNATURES);\n        for (Signature signature : info.signatures) {\n            MessageDigest md = MessageDigest.getInstance(\"SHA\");\n            md.update(signature.toByteArray());\n            String hashKey = new String(Base64.encode(md.digest(), 0));\n            Log.d(\"HashKey\", \"printHashKey() Hash Key: \" + hashKey);\n        }\n    } catch (NoSuchAlgorithmException e) {\n        Log.e(TAG, \"printHashKey()\", e);\n    } catch (Exception e) {\n        Log.e(TAG, \"printHashKey()\", e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6105141,"reputation":2100,"user_id":4763053,"display_name":"Zealous System"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1530866949,"creation_date":1530866949,"answer_id":51206438,"question_id":51205952,"body_markdown":"User below command in terminal of android studio to generate release key hash\r\n\r\n    keytool -exportcert -alias [aliasname] -keystore [your app keystore path] | openssl sha1 -binary | openssl base64\r\n\r\nAnd below code in your project to get development key hash\r\n\r\n\r\n    try {\r\n        android.content.pm.PackageInfo info = getPackageManager().getPackageInfo(\r\n                &quot;com.apps.sonictonic&quot;,\r\n                android.content.pm.PackageManager.GET_SIGNATURES);\r\n        for (android.content.pm.Signature signature : info.signatures) {\r\n            java.security.MessageDigest md = java.security.MessageDigest.getInstance(&quot;SHA&quot;);\r\n            md.update(signature.toByteArray());\r\n            android.util.Log.d(&quot;KeyHash&quot;, &quot;KeyHash:&quot; + android.util.Base64.encodeToString(md.digest(),\r\n                    android.util.Base64.DEFAULT));\r\n\r\n        }\r\n    } catch (android.content.pm.PackageManager.NameNotFoundException e) {\r\n\r\n    } catch (java.security.NoSuchAlgorithmException e) {\r\n\r\n    }","title":"How to generate hash signature?","body":"<p>User below command in terminal of android studio to generate release key hash</p>\n\n<pre><code>keytool -exportcert -alias [aliasname] -keystore [your app keystore path] | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>And below code in your project to get development key hash</p>\n\n<pre><code>try {\n    android.content.pm.PackageInfo info = getPackageManager().getPackageInfo(\n            \"com.apps.sonictonic\",\n            android.content.pm.PackageManager.GET_SIGNATURES);\n    for (android.content.pm.Signature signature : info.signatures) {\n        java.security.MessageDigest md = java.security.MessageDigest.getInstance(\"SHA\");\n        md.update(signature.toByteArray());\n        android.util.Log.d(\"KeyHash\", \"KeyHash:\" + android.util.Base64.encodeToString(md.digest(),\n                android.util.Base64.DEFAULT));\n\n    }\n} catch (android.content.pm.PackageManager.NameNotFoundException e) {\n\n} catch (java.security.NoSuchAlgorithmException e) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4620369,"reputation":3673,"user_id":3794873,"display_name":"dragon788"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649090731,"creation_date":1649090731,"answer_id":71740855,"question_id":51205952,"body_markdown":"If you have opted your app into Google Play managed signing, then you need to use a different set of steps to get the correct signature hash.\r\n\r\n[How to configure Signature Hash with Google Play Signing &#183; Issue #1550 &#183; AzureAD/microsoft-authentication-library-for-android](https://github.com/AzureAD/microsoft-authentication-library-for-android/issues/1550#issuecomment-962629868)\r\n","title":"How to generate hash signature?","body":"<p>If you have opted your app into Google Play managed signing, then you need to use a different set of steps to get the correct signature hash.</p>\n<p><a href=\"https://github.com/AzureAD/microsoft-authentication-library-for-android/issues/1550#issuecomment-962629868\" rel=\"nofollow noreferrer\">How to configure Signature Hash with Google Play Signing  Issue #1550  AzureAD/microsoft-authentication-library-for-android</a></p>\n"}],"owner":{"account_id":12953373,"reputation":33,"user_id":9364964,"display_name":"Muhammad Noamany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10520,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51206438,"answer_count":3,"score":3,"last_activity_date":1649090731,"creation_date":1530865229,"question_id":51205952,"body_markdown":"I am using twilio sdk to integrate sms verification with my android app, twilio asks me to register hash signature of my app and non of ways to generate hash signature worked, always says it is invalid hash signature \r\nthis is the path that twilio wants the hash signature \r\n\r\n![diagram here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ETS4D.png","title":"How to generate hash signature?","body":"<p>I am using twilio sdk to integrate sms verification with my android app, twilio asks me to register hash signature of my app and non of ways to generate hash signature worked, always says it is invalid hash signature \nthis is the path that twilio wants the hash signature </p>\n\n<p><img src=\"https://i.stack.imgur.com/ETS4D.png\" alt=\"diagram here\"></p>\n"},{"tags":["java","spring-boot","spring-security","forms-authentication","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":10288022,"reputation":49,"user_id":9286277,"display_name":"sri e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649090640,"creation_date":1649090640,"answer_id":71740834,"question_id":64479970,"body_markdown":"I have checked this in WebSecurityConfigurerAdapter.class and seems like by default it was using http.formLogin() and http.httpBasic() as initial configuration to authenticate any request.\r\n\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n        this.logger.debug(&quot;Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).&quot;);\r\n        http.authorizeRequests((requests) -&gt; {\r\n            ((AuthorizedUrl)requests.anyRequest()).authenticated();\r\n        });\r\n        http.formLogin();\r\n        http.httpBasic();\r\n    }","title":"Does Spring Security use Basic Auth or Form Based Authentication by default?","body":"<p>I have checked this in WebSecurityConfigurerAdapter.class and seems like by default it was using http.formLogin() and http.httpBasic() as initial configuration to authenticate any request.</p>\n<pre><code>    protected void configure(HttpSecurity http) throws Exception {\n    this.logger.debug(&quot;Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).&quot;);\n    http.authorizeRequests((requests) -&gt; {\n        ((AuthorizedUrl)requests.anyRequest()).authenticated();\n    });\n    http.formLogin();\n    http.httpBasic();\n}\n</code></pre>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649090640,"creation_date":1603361150,"question_id":64479970,"body_markdown":"I&#39;m learning about Spring Security in Spring Boot app and I try to understand what authentication way uses Spring Security by default. I know that Spring Security uses form-based authentication by default, but I made a test from Postman using basic authentication and it&#39;s working.\r\n\r\nI have a very simple Spring Boot app.\r\n\r\nRest Controller:\r\n\r\n    package com.dgs.demsec.api;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class HelloController {\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String hello() {\r\n            return &quot;Hello World!&quot;;\r\n        }\r\n    }\r\n\r\nI added the spring-security dependency in the pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.dgs&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;dem-sec&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;dem-sec&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAnd I don&#39;t have any configuration class for Spring Security. It is using the default configuration.\r\nI start the app then I try to access the endpoint: http://localhost:8080/hello after that I use the default username which is user and the password generated by Spring Security and it&#39;s working, the response is &quot;Hello World!&quot;. In the Google Chrome developer tools, for /login endpoint there is no Authorization header, so it doesn&#39;t use the basic authentication. And I can see this in Form Data for /login endpoint:\r\n[![enter image description here][1]][1]\r\n\r\nSo Spring Security uses form-based authentication by default.\r\nThen I made 2 request from Postman, the first with form-based authentication and the second with basic-authentication and both of them are working. So the request it&#39;s working also if I send the credentials in the Authorization header.\r\nCan someone explain why it&#39;s working to make a request using basic authentication if it&#39;s a form-based authentication?\r\nThank you!\r\n\r\n  [1]: https://i.stack.imgur.com/7ffNU.jpg","title":"Does Spring Security use Basic Auth or Form Based Authentication by default?","body":"<p>I'm learning about Spring Security in Spring Boot app and I try to understand what authentication way uses Spring Security by default. I know that Spring Security uses form-based authentication by default, but I made a test from Postman using basic authentication and it's working.</p>\n<p>I have a very simple Spring Boot app.</p>\n<p>Rest Controller:</p>\n<pre><code>package com.dgs.demsec.api;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloController {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello World!&quot;;\n    }\n}\n</code></pre>\n<p>I added the spring-security dependency in the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.dgs&lt;/groupId&gt;\n    &lt;artifactId&gt;dem-sec&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;dem-sec&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And I don't have any configuration class for Spring Security. It is using the default configuration.\nI start the app then I try to access the endpoint: http://localhost:8080/hello after that I use the default username which is user and the password generated by Spring Security and it's working, the response is &quot;Hello World!&quot;. In the Google Chrome developer tools, for /login endpoint there is no Authorization header, so it doesn't use the basic authentication. And I can see this in Form Data for /login endpoint:\n<a href=\"https://i.stack.imgur.com/7ffNU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ffNU.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So Spring Security uses form-based authentication by default.\nThen I made 2 request from Postman, the first with form-based authentication and the second with basic-authentication and both of them are working. So the request it's working also if I send the credentials in the Authorization header.\nCan someone explain why it's working to make a request using basic authentication if it's a form-based authentication?\nThank you!</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1649090410,"post_id":71740771,"comment_id":126782983,"body_markdown":"You define only one entry in your array wich has index 0","body":"You define only one entry in your array wich has index 0"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1649090417,"post_id":71740771,"comment_id":126782986,"body_markdown":"Your array only contains one string, and its value is &quot;Garry, Becca, Louis, Sydney, Jermaine, Petra&quot;","body":"Your array only contains one string, and its value is &quot;Garry, Becca, Louis, Sydney, Jermaine, Petra&quot;"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1649090479,"post_id":71740771,"comment_id":126783007,"body_markdown":"Just to be clear, try &quot;Gary&quot;,&quot;Becca&quot;,&quot;Louis&quot;...","body":"Just to be clear, try &quot;Gary&quot;,&quot;Becca&quot;,&quot;Louis&quot;..."},{"owner":{"account_id":15907920,"reputation":21,"user_id":11478600,"display_name":"CheersFahFeers"},"score":0,"creation_date":1649182472,"post_id":71740771,"comment_id":126809705,"body_markdown":"I figured it was something obvious, thanks folks!","body":"I figured it was something obvious, thanks folks!"}],"owner":{"account_id":15907920,"reputation":21,"user_id":11478600,"display_name":"CheersFahFeers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1649090415,"creation_date":1649090320,"question_id":71740771,"body_markdown":"So I&#39;ve been getting an `OutOfBoundsException` whenever I try to assign an element from a String array to a String variable\r\n\r\n    Random r = new Random();\r\n    private String[] ownerList = {&quot;Garry, Becca, Louis, Sydney, Jermaine, Petra&quot;};\r\n    String ownerName = ownerList[r.nextInt(5)];\r\n\r\nNo matter what the randomizer chooses, it is always out of bounds. I&#39;ve tried hardcoding the index to\r\n`String ownerName = ownerList[1];`\r\nand it is still out of bounds.\r\n\r\nI feel like I&#39;m missing something obvious.","title":"OutOfBoundsException while still clearly in bounds","body":"<p>So I've been getting an <code>OutOfBoundsException</code> whenever I try to assign an element from a String array to a String variable</p>\n<pre><code>Random r = new Random();\nprivate String[] ownerList = {&quot;Garry, Becca, Louis, Sydney, Jermaine, Petra&quot;};\nString ownerName = ownerList[r.nextInt(5)];\n</code></pre>\n<p>No matter what the randomizer chooses, it is always out of bounds. I've tried hardcoding the index to\n<code>String ownerName = ownerList[1];</code>\nand it is still out of bounds.</p>\n<p>I feel like I'm missing something obvious.</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1570997559,"post_id":968347,"comment_id":103085054,"body_markdown":"Possible duplicate of [In java can i have more than one class/object in a file?](https://stackoverflow.com/questions/2445007/in-java-can-i-have-more-than-one-class-object-in-a-file)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2445007/in-java-can-i-have-more-than-one-class-object-in-a-file\">In java can i have more than one class/object in a file?</a>"}],"answers":[{"tags":[],"owner":{"account_id":877196,"reputation":8245,"user_id":118469,"display_name":"laginimaineb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244526416,"creation_date":1244526416,"answer_id":968356,"question_id":968347,"body_markdown":"Varies... One such example would be an [anonymous classes][1] (you&#39;ll encounter those alot when using event listeners and such). \r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/anonymousclasses.html","title":"Can a java file have more than one class?","body":"<p>Varies... One such example would be an <a href=\"http://mindprod.com/jgloss/anonymousclasses.html\" rel=\"nofollow noreferrer\">anonymous classes</a> (you'll encounter those alot when using event listeners and such). </p>\n"},{"tags":[],"owner":{"account_id":5226,"reputation":21596,"user_id":8313,"display_name":"Sean Reilly"},"down_vote_count":0,"up_vote_count":146,"is_accepted":true,"score":146,"last_activity_date":1484265499,"creation_date":1244526455,"answer_id":968360,"question_id":968347,"body_markdown":"Yes, it can. However, there can only be one *public top-level* class per `.java` file, and public top-level classes must have the same name as the source file.\r\n\r\nThe purpose of including multiple classes in one source file is to bundle related support functionality (internal data structures, support classes, etc) together with the main public class. Note that it is always OK not to do this--the only effect is on the readability (or not) of your code.","title":"Can a java file have more than one class?","body":"<p>Yes, it can. However, there can only be one <em>public top-level</em> class per <code>.java</code> file, and public top-level classes must have the same name as the source file.</p>\n\n<p>The purpose of including multiple classes in one source file is to bundle related support functionality (internal data structures, support classes, etc) together with the main public class. Note that it is always OK not to do this--the only effect is on the readability (or not) of your code.</p>\n"},{"tags":[],"owner":{"account_id":40452,"reputation":1355,"user_id":117256,"accept_rate":78,"display_name":"Meetu Choudhary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340169105,"creation_date":1244526524,"answer_id":968363,"question_id":968347,"body_markdown":"Yes it can,but there can only be 1 public class inside any package as java compiler creates the .Class file which is of the same name as the Public class name therefore if their are more than 1 public class it would be difficult to select for compiler that what should be the name of Class file. ","title":"Can a java file have more than one class?","body":"<p>Yes it can,but there can only be 1 public class inside any package as java compiler creates the .Class file which is of the same name as the Public class name therefore if their are more than 1 public class it would be difficult to select for compiler that what should be the name of Class file. </p>\n"},{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1468688005,"creation_date":1244526536,"answer_id":968364,"question_id":968347,"body_markdown":"If you want to implement a public class, you must implement it in a file with the same name as that class. A single file can contain one public and optionally some private classes. This is useful if the classes are only used internally by the public class. Additionally the public class can also contain inner classes.\r\n\r\nAlthough it is fine to have one or more private classes in a single source file, I would say that is more readable to use inner and anonymous classes instead. For example one can use an anonymous class to define a Comparator class inside a public class:\r\n\r\n      public static Comparator MyComparator = new Comparator() {\r\n        public int compare(Object obj, Object anotherObj) {\r\n    \r\n        }\r\n      };\r\n\r\nThe Comparator class will normally require a separate file in order to be public. This way it is bundled with the class that uses it.\r\n","title":"Can a java file have more than one class?","body":"<p>If you want to implement a public class, you must implement it in a file with the same name as that class. A single file can contain one public and optionally some private classes. This is useful if the classes are only used internally by the public class. Additionally the public class can also contain inner classes.</p>\n\n<p>Although it is fine to have one or more private classes in a single source file, I would say that is more readable to use inner and anonymous classes instead. For example one can use an anonymous class to define a Comparator class inside a public class:</p>\n\n<pre><code>  public static Comparator MyComparator = new Comparator() {\n    public int compare(Object obj, Object anotherObj) {\n\n    }\n  };\n</code></pre>\n\n<p>The Comparator class will normally require a separate file in order to be public. This way it is bundled with the class that uses it.</p>\n"},{"tags":[],"owner":{"account_id":9148,"reputation":16366,"user_id":16784,"accept_rate":82,"display_name":"Confusion"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1244527837,"creation_date":1244526746,"answer_id":968371,"question_id":968347,"body_markdown":"In general, there should be one class per file. If you organise things that way, then when you search for a class, you know you only need to search for the file with that name. \r\n\r\nThe exception is when a class is best implemented using one or more small helper classes. Usually, the code is easiest to follow when those classes are present in the same file. For instance, you might need a small &#39;tuple&#39; wrapper class to pass some data between method calls. Another example are &#39;task&#39; classes implementing Runnable or Callable. They may be so small that they are best combined with the parent class creating and calling them.","title":"Can a java file have more than one class?","body":"<p>In general, there should be one class per file. If you organise things that way, then when you search for a class, you know you only need to search for the file with that name. </p>\n\n<p>The exception is when a class is best implemented using one or more small helper classes. Usually, the code is easiest to follow when those classes are present in the same file. For instance, you might need a small 'tuple' wrapper class to pass some data between method calls. Another example are 'task' classes implementing Runnable or Callable. They may be so small that they are best combined with the parent class creating and calling them.</p>\n"},{"tags":[],"owner":{"account_id":22170,"reputation":28454,"user_id":54426,"accept_rate":66,"display_name":"Rich Apodaca"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1244527732,"creation_date":1244526783,"answer_id":968374,"question_id":968347,"body_markdown":"Besides anonymous inner classes, another use is private inner classes that implement a public interface ([see this article][1]). The outer class can access all private fields and methods of the inner class.\r\n\r\nThis lets you create two tightly-coupled classes, such as a model and its view, without exposing the implementations of either.  Another example is a collection and its iterators.\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-09-1999/jw-09-toolbox.html","title":"Can a java file have more than one class?","body":"<p>Besides anonymous inner classes, another use is private inner classes that implement a public interface (<a href=\"http://www.javaworld.com/javaworld/jw-09-1999/jw-09-toolbox.html\" rel=\"nofollow noreferrer\">see this article</a>). The outer class can access all private fields and methods of the inner class.</p>\n\n<p>This lets you create two tightly-coupled classes, such as a model and its view, without exposing the implementations of either.  Another example is a collection and its iterators.</p>\n"},{"tags":[],"owner":{"account_id":40418,"reputation":1853,"user_id":117119,"accept_rate":75,"display_name":"Alberto"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1482946117,"creation_date":1244530382,"answer_id":968544,"question_id":968347,"body_markdown":"Yes, as many as you want!\r\n\r\nBUT, only one &quot;public&quot; class in every file.","title":"Can a java file have more than one class?","body":"<p>Yes, as many as you want!</p>\n\n<p>BUT, only one \"public\" class in every file.</p>\n"},{"tags":[],"owner":{"account_id":1279233,"reputation":75,"user_id":1233753,"display_name":"HolidayCactus"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1350355287,"creation_date":1350355287,"answer_id":12906794,"question_id":968347,"body_markdown":"I think it should be &quot;there can only be one NON-STATIC top level public class per .java file&quot;.\r\nIsn&#39;t it?","title":"Can a java file have more than one class?","body":"<p>I think it should be \"there can only be one NON-STATIC top level public class per .java file\".\nIsn't it?</p>\n"},{"tags":[],"owner":{"account_id":3875030,"reputation":241,"user_id":3209302,"accept_rate":50,"display_name":"Utsav"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1435156619,"creation_date":1399723195,"answer_id":23580793,"question_id":968347,"body_markdown":"A .java file is called a compilation unit.\nEach compilation unit may contain any number of top-level classes and interfaces.\nIf there are no public top-level types then the compilation unit can be named anything.\n\n    //Multiple.java\n    //preceding package and import statements\n\n    class MyClass{...}\n    interface Service{...}\n    ...\n    //No public classes or interfaces\n    ...\nThere can be only one public class/interface in a compilation unit. The c.u. must be named exactly as this public top-level type.\n\n    //Test.java\n    //named exactly as the public class Test\n    public class Test{...}\n    //!public class Operations{...}\n    interface Selector{...}\n    ...\n    //Other non-public classes/interfaces\n\n[Important points about the main method - part 1][1]\n\n\n[Part 2][2]\n\n(Points regarding the number of classes and their access levels covered in part 2)\n\n  [1]: http://choosejava.blogspot.in/2014/08/important-points-about-main-method-1.html\n  [2]: http://choosejava.blogspot.in/2014/05/important-points-about-main-method-22.html","title":"Can a java file have more than one class?","body":"<p>A .java file is called a compilation unit.\nEach compilation unit may contain any number of top-level classes and interfaces.\nIf there are no public top-level types then the compilation unit can be named anything.</p>\n<pre><code>//Multiple.java\n//preceding package and import statements\n\nclass MyClass{...}\ninterface Service{...}\n...\n//No public classes or interfaces\n...\n</code></pre>\n<p>There can be only one public class/interface in a compilation unit. The c.u. must be named exactly as this public top-level type.</p>\n<pre><code>//Test.java\n//named exactly as the public class Test\npublic class Test{...}\n//!public class Operations{...}\ninterface Selector{...}\n...\n//Other non-public classes/interfaces\n</code></pre>\n<p><a href=\"http://choosejava.blogspot.in/2014/08/important-points-about-main-method-1.html\" rel=\"noreferrer\">Important points about the main method - part 1</a></p>\n<p><a href=\"http://choosejava.blogspot.in/2014/05/important-points-about-main-method-22.html\" rel=\"noreferrer\">Part 2</a></p>\n<p>(Points regarding the number of classes and their access levels covered in part 2)</p>\n"},{"tags":[],"owner":{"account_id":7531116,"reputation":11,"user_id":5719291,"display_name":"chrismjh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451160556,"creation_date":1451160556,"answer_id":34474835,"question_id":968347,"body_markdown":"If you want to implement a singleton, that is a class that runs in your program with only one instance in memory throughout the execution of the application, then one of the ways to implement a singleton is to nest a private static class inside a public class.  Then the inner private class only instantiates itself when its public method to access the private instance is called.\r\n\r\nCheck out this wiki article,\r\n\r\nhttps://en.wikipedia.org/wiki/Singleton_pattern\r\n\r\nThe concept takes a while to chew on.","title":"Can a java file have more than one class?","body":"<p>If you want to implement a singleton, that is a class that runs in your program with only one instance in memory throughout the execution of the application, then one of the ways to implement a singleton is to nest a private static class inside a public class.  Then the inner private class only instantiates itself when its public method to access the private instance is called.</p>\n\n<p>Check out this wiki article,</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Singleton_pattern</a></p>\n\n<p>The concept takes a while to chew on.</p>\n"},{"tags":[],"owner":{"account_id":7198074,"reputation":36,"user_id":5496164,"display_name":"Baoyang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471253119,"creation_date":1471253119,"answer_id":38952509,"question_id":968347,"body_markdown":"In a .java file,there can be only one public top-level class whose name is the same as the file, but there might be several public inner classes which can be exported to everyone and access the outer class&#39;s fields/methods,for example:[AlertDialog.Builder][1](modified by  &#39;public static&#39;) in [AlertDialog][2](modified by &#39;public&#39;)\r\n\r\n\r\n[1]:http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/app/AlertDialog.java#AlertDialog.Builder\r\n[2]:http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/app/AlertDialog.java#AlertDialog","title":"Can a java file have more than one class?","body":"<p>In a .java file,there can be only one public top-level class whose name is the same as the file, but there might be several public inner classes which can be exported to everyone and access the outer class's fields/methods,for example:<a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/app/AlertDialog.java#AlertDialog.Builder\" rel=\"nofollow\">AlertDialog.Builder</a>(modified by  'public static') in <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/app/AlertDialog.java#AlertDialog\" rel=\"nofollow\">AlertDialog</a>(modified by 'public')</p>\n"},{"tags":[],"owner":{"account_id":7056756,"reputation":502,"user_id":5403764,"display_name":"Gaurav Varshney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483002843,"creation_date":1483002843,"answer_id":41376503,"question_id":968347,"body_markdown":"Yes You can have more than one Class in one .Java file . But You have make one of them Public . and save .java file with same name as name of public class. when you will compile that .java file than you will get Separate .class files for each class defined in .java file .\r\n\r\nApart from this there are too many method for defining more than one class in one .java file .\r\n \r\n\r\n 1. use concept of Inner Classes.\r\n 2. Use Concept of Anonymous Classes .\r\n\r\n","title":"Can a java file have more than one class?","body":"<p>Yes You can have more than one Class in one .Java file . But You have make one of them Public . and save .java file with same name as name of public class. when you will compile that .java file than you will get Separate .class files for each class defined in .java file .</p>\n\n<p>Apart from this there are too many method for defining more than one class in one .java file .</p>\n\n<ol>\n<li>use concept of Inner Classes.</li>\n<li>Use Concept of Anonymous Classes .</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9935363,"reputation":51,"user_id":7353877,"display_name":"Rakesh Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483458022,"creation_date":1483458022,"answer_id":41447086,"question_id":968347,"body_markdown":"Yes !\r\n.java file can contain only one public class.\r\n\r\nIf you want these two classes to be public they have to be put into two .java files: A.java and B.java.","title":"Can a java file have more than one class?","body":"<p>Yes !\n.java file can contain only one public class.</p>\n\n<p>If you want these two classes to be public they have to be put into two .java files: A.java and B.java.</p>\n"},{"tags":[],"owner":{"account_id":6492392,"reputation":61,"user_id":5026044,"display_name":"Merter Sualp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1488687834,"creation_date":1488687482,"answer_id":42604469,"question_id":968347,"body_markdown":"Yes you can have more than one class inside a .java file. At most one of them can be public. The others are package-private. They CANNOT be private or protected. If one is public, the file must have the name of that class. Otherwise ANYTHING can be given to that file as its name. \r\n\r\nHaving many classes inside one file means those classes are in the same package. So any other classes which are inside that package but not in that file can also use those classes. Moreover, when that package is imported, importing class can use them as well.\r\n\r\nFor a more detailed investigation, you can visit my blog post in [here][1].\r\n\r\n\r\n  [1]: http://mertersualp.blog/2017/03/03/pushing-java-envelope-part-1-java-class-file/","title":"Can a java file have more than one class?","body":"<p>Yes you can have more than one class inside a .java file. At most one of them can be public. The others are package-private. They CANNOT be private or protected. If one is public, the file must have the name of that class. Otherwise ANYTHING can be given to that file as its name. </p>\n\n<p>Having many classes inside one file means those classes are in the same package. So any other classes which are inside that package but not in that file can also use those classes. Moreover, when that package is imported, importing class can use them as well.</p>\n\n<p>For a more detailed investigation, you can visit my blog post in <a href=\"http://mertersualp.blog/2017/03/03/pushing-java-envelope-part-1-java-class-file/\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6961607,"reputation":2054,"user_id":5340833,"display_name":"Py-Coder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1488687852,"creation_date":1488687852,"answer_id":42604506,"question_id":968347,"body_markdown":"**Yes 200%**,\r\n\r\nExample:\r\n\r\n    class A {\r\n     void methodDeclaration() { System.out.println(&quot;!!!&quot;); }\r\n     }\r\n     class B {\r\n     public static void main(String[] args) {\r\n    new A().methodDeclaration();\r\n        }\r\n     }","title":"Can a java file have more than one class?","body":"<p><strong>Yes 200%</strong>,</p>\n\n<p>Example:</p>\n\n<pre><code>class A {\n void methodDeclaration() { System.out.println(\"!!!\"); }\n }\n class B {\n public static void main(String[] args) {\nnew A().methodDeclaration();\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10589646,"reputation":51,"user_id":7800692,"display_name":"Ganesh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493703201,"creation_date":1493698756,"answer_id":43730047,"question_id":968347,"body_markdown":"Yes you can create more than one public class, but it has to be a nested class.\r\n\r\n  \r\n    \r\n    public class first {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \tpublic class demo1\r\n    \t{\r\n    \t\t\r\n    \t\tpublic class demo2\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"Can a java file have more than one class?","body":"<p>Yes you can create more than one public class, but it has to be a nested class.</p>\n\n<pre><code>public class first {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n    }\n\n    public class demo1\n    {\n\n        public class demo2\n        {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1741154,"reputation":836,"user_id":2515354,"accept_rate":100,"display_name":"Lakshmikant Deshpande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649090336,"creation_date":1508139026,"answer_id":46765060,"question_id":968347,"body_markdown":"There can only be one public class *top level* class in a file. The class name of that public class should be the name of the file. It can have many public inner classes.  \r\n\r\nYou can have many classes in a single file. The limits for various levels of class visibility in a file are as follows:  \r\n\r\n**Top level classes:**  \r\n1 public class  \r\n0 private class  \r\nany number of default classes\r\n\r\n**Inner classes:**  \r\nany number of inner classes with any visibility (default, private, protected, public)\r\n\r\nPlease correct me if I am wrong.\r\n","title":"Can a java file have more than one class?","body":"<p>There can only be one public class <em>top level</em> class in a file. The class name of that public class should be the name of the file. It can have many public inner classes.</p>\n<p>You can have many classes in a single file. The limits for various levels of class visibility in a file are as follows:</p>\n<p><strong>Top level classes:</strong><br />\n1 public class<br />\n0 private class<br />\nany number of default classes</p>\n<p><strong>Inner classes:</strong><br />\nany number of inner classes with any visibility (default, private, protected, public)</p>\n<p>Please correct me if I am wrong.</p>\n"},{"tags":[],"owner":{"account_id":3695648,"reputation":21,"user_id":3077069,"display_name":"user3077069"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570994340,"creation_date":1570994340,"answer_id":58366975,"question_id":968347,"body_markdown":"Yes, it can. However, there can only be one public class per .java file, as public classes must have the same name as the source file.","title":"Can a java file have more than one class?","body":"<p>Yes, it can. However, there can only be one public class per .java file, as public classes must have the same name as the source file.</p>\n"}],"owner":{"account_id":11449,"reputation":46738,"user_id":22076,"accept_rate":94,"display_name":"yesraaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186902,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":968360,"answer_count":18,"score":123,"last_activity_date":1649090336,"creation_date":1244526221,"question_id":968347,"body_markdown":"What is the purpose of having more than one class in a Java file ? I am new to Java.\r\n\r\n**Edited:**\r\nThat can be achieved by creating a inner class inside a public class, right?","title":"Can a java file have more than one class?","body":"<p>What is the purpose of having more than one class in a Java file ? I am new to Java.</p>\n\n<p><strong>Edited:</strong>\nThat can be achieved by creating a inner class inside a public class, right?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":29583,"reputation":7140,"user_id":80075,"accept_rate":100,"display_name":"Tony BenBrahim"},"score":0,"creation_date":1649083266,"post_id":71739070,"comment_id":126780095,"body_markdown":"I have always done it the second way shown, because I have been using Java since 1.3. I can see how someone who has only recently learned java would think the first way is the correct way. The only difference is that I write `try(BufferedReader reader=new BufferedReader(new FileReader(file)))` because a close on the BufferedReader will close the reader (FileReader in this case) it is using, so no need to separate it. In your particular case, it looks like you want to collect lines into a map with a count, so saving the lines to a list first as in the first example is not as efficient.","body":"I have always done it the second way shown, because I have been using Java since 1.3. I can see how someone who has only recently learned java would think the first way is the correct way. The only difference is that I write <code>try(BufferedReader reader=new BufferedReader(new FileReader(file)))</code> because a close on the BufferedReader will close the reader (FileReader in this case) it is using, so no need to separate it. In your particular case, it looks like you want to collect lines into a map with a count, so saving the lines to a list first as in the first example is not as efficient."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1649083374,"post_id":71739070,"comment_id":126780141,"body_markdown":"Who said it was wrong, and what army?","body":"Who said it was wrong, and what army?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1649083398,"post_id":71739070,"comment_id":126780158,"body_markdown":"&quot;I was told this is the wrong&quot;: ask whoever told you that for clarification. Both styles are feasible for different situations (the first one loads the whole file into memory which can be an issue if you are loading a huge file, but is no problem for smaller files).","body":"&quot;I was told this is the wrong&quot;: ask whoever told you that for clarification. Both styles are feasible for different situations (the first one loads the whole file into memory which can be an issue if you are loading a huge file, but is no problem for smaller files)."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1649092164,"post_id":71739070,"comment_id":126783623,"body_markdown":"Instead of `br.lines().collect(Collectors.toList());` and then `list.stream()`, just use `br.lines()` directly in the first place (instead of `list.stream()`).","body":"Instead of <code>br.lines().collect(Collectors.toList());</code> and then <code>list.stream()</code>, just use <code>br.lines()</code> directly in the first place (instead of <code>list.stream()</code>)."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649089950,"creation_date":1649083412,"answer_id":71739213,"question_id":71739070,"body_markdown":"These two examples do two slightly different things. The key difference is that the first solution first reads all lines into memory, before then iterating the lines. \r\n\r\nThe second example reads the file line by line, this means that its content can be processed **line by line**.\r\n\r\nFirst way: easy to write, read, and understand. But: as said, it reads the whole file into memory. Which isn&#39;t a problem for small files, but for really large files, this can create all kinds of issues (it takes time to read a large file, and you might run out of memory for really large files).\r\n\r\nThe other differences between the two approaches are somehow more &quot;style&quot;, where: `br.lines()` already gives you a `Stream`, it doesn&#39;t make any sense to first collect the lines into a List object, to then stream that one.","title":"Reading a file in java using buffered reader correctly","body":"<p>These two examples do two slightly different things. The key difference is that the first solution first reads all lines into memory, before then iterating the lines.</p>\n<p>The second example reads the file line by line, this means that its content can be processed <strong>line by line</strong>.</p>\n<p>First way: easy to write, read, and understand. But: as said, it reads the whole file into memory. Which isn't a problem for small files, but for really large files, this can create all kinds of issues (it takes time to read a large file, and you might run out of memory for really large files).</p>\n<p>The other differences between the two approaches are somehow more &quot;style&quot;, where: <code>br.lines()</code> already gives you a <code>Stream</code>, it doesn't make any sense to first collect the lines into a List object, to then stream that one.</p>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71739213,"answer_count":1,"score":1,"last_activity_date":1649089950,"creation_date":1649082865,"question_id":71739070,"body_markdown":"I have the following code to read a file in java, and prints out the lines. I implemented it in two ways:\r\n\r\n\r\nusing streams:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    try (BufferedReader br = Files.newBufferedReader(file.toPath())) {\r\n        list = br.lines().collect(Collectors.toList());\r\n        Map&lt;String, Long&gt; totalCount = list.stream() .....\r\n\r\nUsing loops:\r\n\r\n      try (FileReader reader = new FileReader(file);\r\n                 final BufferedReader bufferedReader = new BufferedReader(reader)) {\r\n                String line;\r\n                while ((line = bufferedReader.readLine()) != null) {.. }\r\n\r\n\r\nI was told this is the wrong, and using buffered reader is using features of the language wrongly. Is there a better way to this, i want to the know the correct way to use the language features.\r\n","title":"Reading a file in java using buffered reader correctly","body":"<p>I have the following code to read a file in java, and prints out the lines. I implemented it in two ways:</p>\n<p>using streams:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\ntry (BufferedReader br = Files.newBufferedReader(file.toPath())) {\n    list = br.lines().collect(Collectors.toList());\n    Map&lt;String, Long&gt; totalCount = list.stream() .....\n</code></pre>\n<p>Using loops:</p>\n<pre><code>  try (FileReader reader = new FileReader(file);\n             final BufferedReader bufferedReader = new BufferedReader(reader)) {\n            String line;\n            while ((line = bufferedReader.readLine()) != null) {.. }\n</code></pre>\n<p>I was told this is the wrong, and using buffered reader is using features of the language wrongly. Is there a better way to this, i want to the know the correct way to use the language features.</p>\n"},{"tags":["java","arrays","sorting","object"],"answers":[{"tags":[],"owner":{"account_id":15709806,"reputation":131,"user_id":11335573,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649089771,"creation_date":1649089771,"answer_id":71740663,"question_id":71740559,"body_markdown":"Use any java version 8+ \r\n\r\n```java\r\nList&lt;Person&gt; sortedByName = listPersons.stream().sorted(Comparator.comparing(Person::getName)).collect(Collectors.toList());\r\n\r\nList&lt;Person&gt; sortedByLastName = listPersons.stream().sorted(Comparator.comparing(Person::getLastName)).collect(Collectors.toList());\r\n\r\nList&lt;Person&gt; reverseSortedByLastName = listPersons.stream().sorted(Comparator.comparing(Person::getLastName).reversed()).collect(Collectors.toList());\r\n\r\n```","title":"How to order name and lastNames alphabetically in Java?","body":"<p>Use any java version 8+</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; sortedByName = listPersons.stream().sorted(Comparator.comparing(Person::getName)).collect(Collectors.toList());\n\nList&lt;Person&gt; sortedByLastName = listPersons.stream().sorted(Comparator.comparing(Person::getLastName)).collect(Collectors.toList());\n\nList&lt;Person&gt; reverseSortedByLastName = listPersons.stream().sorted(Comparator.comparing(Person::getLastName).reversed()).collect(Collectors.toList());\n\n</code></pre>\n"}],"owner":{"account_id":24692488,"reputation":31,"user_id":18584829,"display_name":"Gonzalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1649090185,"accepted_answer_id":71740663,"answer_count":1,"score":0,"last_activity_date":1649089771,"creation_date":1649089324,"question_id":71740559,"body_markdown":"i dont know how to order alphabetically an ArrayList\\&lt;Object\\&gt; contents alphabetically, i need to order this:\r\n\\-Order by name\r\n\\-Order by lastName\r\n\\-Order versely by lastName\r\n\r\nThanks for helping and your time!\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class FirstClass {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Object&gt; listPersons = new ArrayList&lt;&gt;();\r\n\r\n        Person person1 = new Person();\r\n        Person person2 = new Person();\r\n        Person person3 = new Person();\r\n        Person person4 = new Person();\r\n        Person person5 = new Person();\r\n\r\n        person1.setName(&quot;Gonzalo&quot;);\r\n        person1.setLastName(&quot;Ramos&quot;);\r\n        listPersons.add(person1);\r\n        person2.setName(&quot;Nicolas&quot;);\r\n        person2.setLastName(&quot;Lopez&quot;);\r\n        listPersons.add(person2);\r\n        person3.setName(&quot;Sergio&quot;);\r\n        person3.setLastName(&quot;Gonzalez&quot;);\r\n        listPersons.add(person3);\r\n        person4.setName(&quot;Emilio&quot;);\r\n        person4.setLastName(&quot;Suarez&quot;);\r\n        listPersons.add(person4);\r\n        person5.setName(&quot;Carolina&quot;);\r\n        person5.setLastName(&quot;Chavez&quot;);\r\n        listPersons.add(person5);\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\npublic class Person {\r\n    String name;\r\n    String lastName;\r\n\r\n    public String getName () {\r\n        return name;\r\n    }\r\n    public void setName (String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getLastName () {\r\n        return lastName;\r\n    }\r\n    public void setLastName (String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n}\r\n```\r\n\r\nI tried to solve it in diferent ways but I couldn&#39;t make it work dynamically and correctly","title":"How to order name and lastNames alphabetically in Java?","body":"<p>i dont know how to order alphabetically an ArrayList&lt;Object&gt; contents alphabetically, i need to order this:\n-Order by name\n-Order by lastName\n-Order versely by lastName</p>\n<p>Thanks for helping and your time!</p>\n<pre><code>import java.util.ArrayList;\n\npublic class FirstClass {\n    public static void main(String[] args) {\n        ArrayList&lt;Object&gt; listPersons = new ArrayList&lt;&gt;();\n\n        Person person1 = new Person();\n        Person person2 = new Person();\n        Person person3 = new Person();\n        Person person4 = new Person();\n        Person person5 = new Person();\n\n        person1.setName(&quot;Gonzalo&quot;);\n        person1.setLastName(&quot;Ramos&quot;);\n        listPersons.add(person1);\n        person2.setName(&quot;Nicolas&quot;);\n        person2.setLastName(&quot;Lopez&quot;);\n        listPersons.add(person2);\n        person3.setName(&quot;Sergio&quot;);\n        person3.setLastName(&quot;Gonzalez&quot;);\n        listPersons.add(person3);\n        person4.setName(&quot;Emilio&quot;);\n        person4.setLastName(&quot;Suarez&quot;);\n        listPersons.add(person4);\n        person5.setName(&quot;Carolina&quot;);\n        person5.setLastName(&quot;Chavez&quot;);\n        listPersons.add(person5);\n\n\n    }\n}\n\n\npublic class Person {\n    String name;\n    String lastName;\n\n    public String getName () {\n        return name;\n    }\n    public void setName (String name) {\n        this.name = name;\n    }\n\n    public String getLastName () {\n        return lastName;\n    }\n    public void setLastName (String lastName) {\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p>I tried to solve it in diferent ways but I couldn't make it work dynamically and correctly</p>\n"},{"tags":["java","spring","javabeans"],"comments":[{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1626847274,"post_id":68464636,"comment_id":120997974,"body_markdown":"pom.xml file is not the issue . All works fine. But I don&#39;t know why.","body":"pom.xml file is not the issue . All works fine. But I don&#39;t know why."},{"owner":{"account_id":22122534,"reputation":2776,"user_id":16375479,"display_name":"devReddit"},"score":0,"creation_date":1626847785,"post_id":68464636,"comment_id":120998090,"body_markdown":"what&#39;s your actual issue? And what are you exactly trying to achieve and run?","body":"what&#39;s your actual issue? And what are you exactly trying to achieve and run?"},{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1626847940,"post_id":68464636,"comment_id":120998142,"body_markdown":"@devReddit in the console&gt; I should able to print out Default Constructor.......","body":"@devReddit in the console&gt; I should able to print out Default Constructor......."},{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1626848983,"post_id":68464636,"comment_id":120998476,"body_markdown":"I even tried: \n    `@Bean\n    public Customer customer(){\n        Customer customer1 = new Customer();\n        return customer1;\n    }`","body":"I even tried:      <code>@Bean     public Customer customer(){         Customer customer1 = new Customer();         return customer1;     }</code>"},{"owner":{"account_id":22122534,"reputation":2776,"user_id":16375479,"display_name":"devReddit"},"score":0,"creation_date":1626849102,"post_id":68464636,"comment_id":120998505,"body_markdown":"I did exactly what you did, but got no error","body":"I did exactly what you did, but got no error"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1626849164,"post_id":68464636,"comment_id":120998520,"body_markdown":"Which JDK, and please post a minimal pom.xml so we can see which versions of spring you are using.","body":"Which JDK, and please post a minimal pom.xml so we can see which versions of spring you are using."},{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1626849468,"post_id":68464636,"comment_id":120998599,"body_markdown":"@tgdavies https://gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2\nJDK 16","body":"@tgdavies <a href=\"https://gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2\" rel=\"nofollow noreferrer\">gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2</a> JDK 16"},{"owner":{"account_id":22122534,"reputation":2776,"user_id":16375479,"display_name":"devReddit"},"score":0,"creation_date":1626849498,"post_id":68464636,"comment_id":120998609,"body_markdown":"please add your pom.xml file too","body":"please add your pom.xml file too"},{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1626849593,"post_id":68464636,"comment_id":120998631,"body_markdown":"@devReddit https://gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2","body":"@devReddit <a href=\"https://gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2\" rel=\"nofollow noreferrer\">gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2</a>"},{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1626849754,"post_id":68464636,"comment_id":120998683,"body_markdown":"JDK: https://www.dropbox.com/s/giq5wpwkquhttz0/Capture.PNG?dl=0","body":"JDK: <a href=\"https://www.dropbox.com/s/giq5wpwkquhttz0/Capture.PNG?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/giq5wpwkquhttz0/Capture.PNG?dl=0</a>"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1626850519,"post_id":68464636,"comment_id":120998910,"body_markdown":"Does this answer your question? [Avoiding NullPointerException in Java](https://stackoverflow.com/questions/271526/avoiding-nullpointerexception-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/271526/avoiding-nullpointerexception-in-java\">Avoiding NullPointerException in Java</a>"},{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1626851307,"post_id":68464636,"comment_id":120999145,"body_markdown":"@MartinZeitler I don&#39;t know how to implement it...","body":"@MartinZeitler I don&#39;t know how to implement it..."},{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1626851360,"post_id":68464636,"comment_id":120999166,"body_markdown":"@devReddit I copied the author&#39;s code from github. Still failed. So i guess that&#39;s it.","body":"@devReddit I copied the author&#39;s code from github. Still failed. So i guess that&#39;s it."},{"owner":{"account_id":22122534,"reputation":2776,"user_id":16375479,"display_name":"devReddit"},"score":0,"creation_date":1626861084,"post_id":68464636,"comment_id":121002761,"body_markdown":"@JianHe, I successfully run that code in my ide, so, I guess there&#39;s something with the version compatibility, and project configuration.","body":"@JianHe, I successfully run that code in my ide, so, I guess there&#39;s something with the version compatibility, and project configuration."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1626862772,"post_id":68464636,"comment_id":121003437,"body_markdown":"I don&#39;t think that version is compatible with JDK 16. It works when I use 1.8","body":"I don&#39;t think that version is compatible with JDK 16. It works when I use 1.8"}],"answers":[{"tags":[],"owner":{"account_id":24824439,"reputation":9,"user_id":18704413,"display_name":"Joo Young Mok"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649089656,"creation_date":1649089656,"answer_id":71740642,"question_id":68464636,"body_markdown":"This is an error that occurs when the package name starts with &#39;java&#39;, so it can be resolved by deleting &#39;java&#39; from the package name.","title":"AppConfig encounter NullPointerException Error","body":"<p>This is an error that occurs when the package name starts with 'java', so it can be resolved by deleting 'java' from the package name.</p>\n"}],"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3054,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649089656,"creation_date":1626847160,"question_id":68464636,"body_markdown":"Update: I downloaded authors source code, same issue happeded..... \r\npom.xml file&gt; [https://gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2][1]\r\nFollow tutorial. But when I run it, then there is NullPointerException Error. I using Intellj.\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;cause&quot; is null\r\n\r\nAll three classes in same package. I already checked on internet. I even comment out other xml files. \r\n\r\n\r\n    package javaconfig;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    @Configuration\r\n    public class AppConfig{\r\n    \r\n        @Bean(initMethod = &quot;customInit&quot;)\r\n        public Customer customer(){\r\n            return new Customer();\r\n        }\r\n    }\r\n\r\n\r\n    public class Customer {\r\n        public Customer() {\r\n            System.out.println(&quot;Default Constructor.......&quot;);\r\n        }\r\n        public void customInit() {\r\n            System.out.println(&quot;Customer Init......&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    package javaconfig;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    public class JavaConfigMain {\r\n        public  static void main(String[] args){\r\n           \r\n            new AnnotationConfigApplicationContext(AppConfig.class);\r\n        }\r\n    }\r\n\r\n\r\nI follow this tutorial: [https://www.youtube.com/watch?v=0awHx-346Is&amp;list=PLGTrAf5-F1YIUo_AWConTTY_VWGJnveT8&amp;index=15][2]\r\n\r\n\r\nFull Error Code:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;cause&quot; is null\r\n    \tat org.springframework.cglib.core.CodeGenerationException.&lt;init&gt;(CodeGenerationException.java:25)\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:587)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\r\n    \tat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\r\n    \tat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\r\n    \tat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:447)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:268)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:147)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n    \tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\r\n    \tat javaconfig.JavaConfigMain.main(JavaConfigMain.java:12)\r\n\r\n\r\n  [1]: https://gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2\r\n  [2]: https://www.youtube.com/watch?v=0awHx-346Is&amp;list=PLGTrAf5-F1YIUo_AWConTTY_VWGJnveT8&amp;index=15","title":"AppConfig encounter NullPointerException Error","body":"<p>Update: I downloaded authors source code, same issue happeded.....\npom.xml file&gt; <a href=\"https://gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2\" rel=\"nofollow noreferrer\">https://gist.github.com/jianheMark/09c8e250f43d436ba51d27971c4ea5a2</a>\nFollow tutorial. But when I run it, then there is NullPointerException Error. I using Intellj.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;cause&quot; is null\n</code></pre>\n<p>All three classes in same package. I already checked on internet. I even comment out other xml files.</p>\n<pre><code>package javaconfig;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n@Configuration\npublic class AppConfig{\n\n    @Bean(initMethod = &quot;customInit&quot;)\n    public Customer customer(){\n        return new Customer();\n    }\n}\n\n\npublic class Customer {\n    public Customer() {\n        System.out.println(&quot;Default Constructor.......&quot;);\n    }\n    public void customInit() {\n        System.out.println(&quot;Customer Init......&quot;);\n    }\n}\n\n\n\npackage javaconfig;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\npublic class JavaConfigMain {\n    public  static void main(String[] args){\n       \n        new AnnotationConfigApplicationContext(AppConfig.class);\n    }\n}\n</code></pre>\n<p>I follow this tutorial: <a href=\"https://www.youtube.com/watch?v=0awHx-346Is&amp;list=PLGTrAf5-F1YIUo_AWConTTY_VWGJnveT8&amp;index=15\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=0awHx-346Is&amp;list=PLGTrAf5-F1YIUo_AWConTTY_VWGJnveT8&amp;index=15</a></p>\n<p>Full Error Code:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;cause&quot; is null\n    at org.springframework.cglib.core.CodeGenerationException.&lt;init&gt;(CodeGenerationException.java:25)\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:587)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:447)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:268)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:147)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\n    at javaconfig.JavaConfigMain.main(JavaConfigMain.java:12)\n</code></pre>\n"},{"tags":["java","html","spring-boot","validation","html-input"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1625225917,"post_id":68224494,"comment_id":120577582,"body_markdown":"check if there is a value. -1 is a numeric value, so that could be a valid input. If you&#39;re checking in Java, and you are working with objects, you can do a null check","body":"check if there is a value. -1 is a numeric value, so that could be a valid input. If you&#39;re checking in Java, and you are working with objects, you can do a null check"},{"owner":{"account_id":17521233,"reputation":992,"user_id":12707241,"display_name":"F_Schmidt"},"score":0,"creation_date":1625226089,"post_id":68224494,"comment_id":120577629,"body_markdown":"How can I check using the validation annotations or what do I need to change?","body":"How can I check using the validation annotations or what do I need to change?"},{"owner":{"account_id":20454171,"reputation":485,"user_id":15008233,"display_name":"shikida"},"score":0,"creation_date":1625227031,"post_id":68224494,"comment_id":120577984,"body_markdown":"is it tomcat? because I remember tomcat had some old issue regarding not dealing properly with null numeric values (I can&#39;t remember exactly what it is, but I remember it was many years ago) that was fixed adding some magic key-value pair in the server jvm configuration","body":"is it tomcat? because I remember tomcat had some old issue regarding not dealing properly with null numeric values (I can&#39;t remember exactly what it is, but I remember it was many years ago) that was fixed adding some magic key-value pair in the server jvm configuration"}],"answers":[{"tags":[],"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625226465,"creation_date":1625226465,"answer_id":68224652,"question_id":68224494,"body_markdown":"You can use `min` constraint to limit values be only positive numbers\r\n\r\n```\r\n//import javax.validation.constraints.Min;\r\n\r\n@Min(value = 0, message = &quot;numericField not be negative&quot;)\r\n private Integer numericField;\r\n```","title":"How can I check if a number input is not empty?","body":"<p>You can use <code>min</code> constraint to limit values be only positive numbers</p>\n<pre><code>//import javax.validation.constraints.Min;\n\n@Min(value = 0, message = &quot;numericField not be negative&quot;)\n private Integer numericField;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16453214,"reputation":578,"user_id":11886111,"display_name":"anish sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625227228,"creation_date":1625227228,"answer_id":68224844,"question_id":68224494,"body_markdown":"You can use these 2 validations\r\n\r\n    @NotNull(&quot;message&quot;: &quot;numericField: positive number value is required&quot;)\r\n\r\n    @Min(value=0, message=&quot;numericField: positive number, min 0 is required&quot;)","title":"How can I check if a number input is not empty?","body":"<p>You can use these 2 validations</p>\n<pre><code>@NotNull(&quot;message&quot;: &quot;numericField: positive number value is required&quot;)\n\n@Min(value=0, message=&quot;numericField: positive number, min 0 is required&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3273747,"reputation":20854,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649089576,"creation_date":1649089576,"answer_id":71740619,"question_id":68224494,"body_markdown":"&lt;sub&gt;Migrating OP&#39;s ultimate solution from the question to an answer:&lt;/sub&gt;\r\n\r\n&gt; This is the final way how [sic] I fixed it:\r\n&gt; \r\n&gt; ```\r\n&gt; @NotNull(message = &quot;{validation.numericField.positive}&quot;)\r\n&gt; @Positive(message = &quot;{validation.numericField.positive}&quot;)\r\n&gt; private Integer numericField; \r\n&gt; ```\r\n\r\n","title":"How can I check if a number input is not empty?","body":"<p><sub>Migrating OP's ultimate solution from the question to an answer:</sub></p>\n<blockquote>\n<p>This is the final way how [sic] I fixed it:</p>\n<pre><code>@NotNull(message = &quot;{validation.numericField.positive}&quot;)\n@Positive(message = &quot;{validation.numericField.positive}&quot;)\nprivate Integer numericField; \n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":17521233,"reputation":992,"user_id":12707241,"display_name":"F_Schmidt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68224844,"answer_count":3,"score":0,"last_activity_date":1649089576,"creation_date":1625225694,"question_id":68224494,"body_markdown":"I have this input field in a form which I validate using spring boot validator:\r\n\r\n    &lt;input class=&quot;form-control&quot; th:field=&quot;*{numericField}&quot;\r\n        type=&quot;number&quot; min=&quot;0&quot; id=&quot;numeric_field_input&quot;&gt;\r\n\r\nThe valid range is all positive numbers. But even if I do not fill in any number, the field validates. I believe the default value is zero. Adding something like \r\n\r\n    th:default=&quot;-1&quot;\r\n\r\ndid not solve the problem. How can I check on serverside that a user input any value?\r\n\r\n\r\nThese are my current annotations of the field:\r\n```\r\n   @Positive(message = &quot;{validation.numericField.positive}&quot;)\r\n   @ColumnDefault(&quot;0&quot;)\r\n   private Integer numericField;\r\n```","title":"How can I check if a number input is not empty?","body":"<p>I have this input field in a form which I validate using spring boot validator:</p>\n<pre><code>&lt;input class=&quot;form-control&quot; th:field=&quot;*{numericField}&quot;\n    type=&quot;number&quot; min=&quot;0&quot; id=&quot;numeric_field_input&quot;&gt;\n</code></pre>\n<p>The valid range is all positive numbers. But even if I do not fill in any number, the field validates. I believe the default value is zero. Adding something like</p>\n<pre><code>th:default=&quot;-1&quot;\n</code></pre>\n<p>did not solve the problem. How can I check on serverside that a user input any value?</p>\n<p>These are my current annotations of the field:</p>\n<pre><code>   @Positive(message = &quot;{validation.numericField.positive}&quot;)\n   @ColumnDefault(&quot;0&quot;)\n   private Integer numericField;\n</code></pre>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":2981437,"reputation":3064,"user_id":2531314,"accept_rate":58,"display_name":"blackSmith"},"score":0,"creation_date":1463135673,"post_id":37207719,"comment_id":61946586,"body_markdown":"@Mohsin Husen : I need your help here !","body":"@Mohsin Husen : I need your help here !"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1463140352,"post_id":37207719,"comment_id":61949683,"body_markdown":"Which version of ES and Spring Data ES are you using?","body":"Which version of ES and Spring Data ES are you using?"},{"owner":{"account_id":2981437,"reputation":3064,"user_id":2531314,"accept_rate":58,"display_name":"blackSmith"},"score":0,"creation_date":1463381311,"post_id":37207719,"comment_id":62024656,"body_markdown":"ES version 1.3.4 and spring-data-es 1.1.4","body":"ES version 1.3.4 and spring-data-es 1.1.4"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463141239,"creation_date":1463141239,"answer_id":37209682,"question_id":37207719,"body_markdown":"If you&#39;re using ES 1.x, what you can do is leave out the `Pageable` and specify the search type `COUNT` instead.\r\n\r\n    SearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                .withIndices(indexName).withTypes(typeName)\r\n                .withQuery(queryBuilder).withAggregation(aggsBuilder)\r\n                .withSearchType(SearchType.COUNT).build();\r\n\r\nAs of ES 2.x, `SearchType.COUNT` will be deprecated and not available anymore, but for ES 1.x needs this should do the job.\r\n\r\nNote that there&#39;s a [similar need](https://jira.spring.io/browse/DATASOLR-112) for other users, too, but the issue is still open.","title":"How to set result size zero in spring data elasticsearch","body":"<p>If you're using ES 1.x, what you can do is leave out the <code>Pageable</code> and specify the search type <code>COUNT</code> instead.</p>\n\n<pre><code>SearchQuery searchQuery = new NativeSearchQueryBuilder()\n            .withIndices(indexName).withTypes(typeName)\n            .withQuery(queryBuilder).withAggregation(aggsBuilder)\n            .withSearchType(SearchType.COUNT).build();\n</code></pre>\n\n<p>As of ES 2.x, <code>SearchType.COUNT</code> will be deprecated and not available anymore, but for ES 1.x needs this should do the job.</p>\n\n<p>Note that there's a <a href=\"https://jira.spring.io/browse/DATASOLR-112\" rel=\"nofollow\">similar need</a> for other users, too, but the issue is still open.</p>\n"},{"tags":[],"owner":{"account_id":1406637,"reputation":565,"user_id":1334174,"accept_rate":83,"display_name":"ystark"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463399198,"creation_date":1463398896,"answer_id":37253101,"question_id":37207719,"body_markdown":"I think what you want is to set `&quot;size&quot;: 0` in code?\r\n\r\nPaging is not supported in aggregations, so the `PageRequest` will not be entertained. The error is because page limit cannot be 0. What you need is:\r\n\r\n            SearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                            .withIndices(indexName).withTypes(typeName)\r\n                            .withQuery(queryBuilder)\r\n                            .withAggregation(aggsBuilder.size(0)) //set the size with AggregationBuilders\r\n                            .withSearchType(SearchType.COUNT)                        \r\n                            .build();\r\n\r\n ","title":"How to set result size zero in spring data elasticsearch","body":"<p>I think what you want is to set <code>\"size\": 0</code> in code?</p>\n\n<p>Paging is not supported in aggregations, so the <code>PageRequest</code> will not be entertained. The error is because page limit cannot be 0. What you need is:</p>\n\n<pre><code>        SearchQuery searchQuery = new NativeSearchQueryBuilder()\n                        .withIndices(indexName).withTypes(typeName)\n                        .withQuery(queryBuilder)\n                        .withAggregation(aggsBuilder.size(0)) //set the size with AggregationBuilders\n                        .withSearchType(SearchType.COUNT)                        \n                        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354311,"reputation":3293,"user_id":692580,"accept_rate":38,"display_name":"Laabidi Raissi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488962429,"creation_date":1488962429,"answer_id":42666593,"question_id":37207719,"body_markdown":"This is a bit late, but may be of use for future developers. The way for me was to define a new class `PageRequest` that implements `org.springframework.data.domain.Pageable` and the resembles `org.springframework.data.domain.PageRequest` but does not have constraints of `AbstractPageRequest` on size.  \r\nThen you can pass it to your builder.","title":"How to set result size zero in spring data elasticsearch","body":"<p>This is a bit late, but may be of use for future developers. The way for me was to define a new class <code>PageRequest</code> that implements <code>org.springframework.data.domain.Pageable</code> and the resembles <code>org.springframework.data.domain.PageRequest</code> but does not have constraints of <code>AbstractPageRequest</code> on size.<br>\nThen you can pass it to your builder.</p>\n"},{"tags":[],"owner":{"account_id":8625021,"reputation":368,"user_id":6458488,"accept_rate":100,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1490070556,"creation_date":1490069906,"answer_id":42918377,"question_id":37207719,"body_markdown":"We can define empty pageable interface implementation class, like this:\r\n\r\n    public static class EmptyPage implements Pageable {\r\n        public static final EmptyPage INSTANCE = new EmptyPage();\r\n\r\n        @Override\r\n        public int getPageNumber() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public int getPageSize() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public int getOffset() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public Sort getSort() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Pageable next() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Pageable previousOrFirst() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Pageable first() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public boolean hasPrevious() {\r\n            return false;\r\n        }\r\n    }\r\n\r\nUse:\r\n\r\n        SearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                .withQuery(queryBuilder)\r\n                .withIndices(indexName).withTypes(typeName)\r\n                .addAggregation(aggsBuilder)\r\n                .withPageable(EmptyPage.INSTANCE)\r\n                .build();\r\n\r\nResult:\r\n\r\n    {\r\n      &quot;aggregations&quot;: { ... },\r\n      &quot;from&quot;: 0,\r\n      &quot;query&quot;: { ... },\r\n      &quot;size&quot;: 0\r\n    }\r\n","title":"How to set result size zero in spring data elasticsearch","body":"<p>We can define empty pageable interface implementation class, like this:</p>\n\n<pre><code>public static class EmptyPage implements Pageable {\n    public static final EmptyPage INSTANCE = new EmptyPage();\n\n    @Override\n    public int getPageNumber() {\n        return 0;\n    }\n\n    @Override\n    public int getPageSize() {\n        return 0;\n    }\n\n    @Override\n    public int getOffset() {\n        return 0;\n    }\n\n    @Override\n    public Sort getSort() {\n        return null;\n    }\n\n    @Override\n    public Pageable next() {\n        return null;\n    }\n\n    @Override\n    public Pageable previousOrFirst() {\n        return null;\n    }\n\n    @Override\n    public Pageable first() {\n        return null;\n    }\n\n    @Override\n    public boolean hasPrevious() {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>    SearchQuery searchQuery = new NativeSearchQueryBuilder()\n            .withQuery(queryBuilder)\n            .withIndices(indexName).withTypes(typeName)\n            .addAggregation(aggsBuilder)\n            .withPageable(EmptyPage.INSTANCE)\n            .build();\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{\n  \"aggregations\": { ... },\n  \"from\": 0,\n  \"query\": { ... },\n  \"size\": 0\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618669868,"creation_date":1618669868,"answer_id":67139282,"question_id":37207719,"body_markdown":"From Spring Data Elasticsearch 4.0 on, `NativeSearchQuery`, `StringQuery` and `CriteriaQuery` have a method `setMaxResults(Integer maxResults)`\r\n\r\nso the query would be\r\n\r\n```java\r\nNativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                .withIndices(indexName).withTypes(typeName)\r\n                .withQuery(queryBuilder).withAggregation(aggsBuilder)\r\n                .build();\r\n\r\nsearchQuery.setMaxResults(0);\r\n```\r\n\r\nThe `setMaxResults()` method returns `void` so can&#39;t be used with the builder syntax\r\n\r\nThis will add `&quot;size&quot;:0` at the top of the request object\r\n\r\n","title":"How to set result size zero in spring data elasticsearch","body":"<p>From Spring Data Elasticsearch 4.0 on, <code>NativeSearchQuery</code>, <code>StringQuery</code> and <code>CriteriaQuery</code> have a method <code>setMaxResults(Integer maxResults)</code></p>\n<p>so the query would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\n                .withIndices(indexName).withTypes(typeName)\n                .withQuery(queryBuilder).withAggregation(aggsBuilder)\n                .build();\n\nsearchQuery.setMaxResults(0);\n</code></pre>\n<p>The <code>setMaxResults()</code> method returns <code>void</code> so can't be used with the builder syntax</p>\n<p>This will add <code>&quot;size&quot;:0</code> at the top of the request object</p>\n"},{"tags":[],"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649089541,"creation_date":1649089541,"answer_id":71740613,"question_id":37207719,"body_markdown":"Found this on [link][1]\r\n\r\nIt would be useful to have a &quot;withMaxResults&quot; method to NativeSearchQueryBuilder for specifying the maxResults on the built Query. This is common for aggregation queries where search hits are not needed.\r\n\r\nHaving the builder method for setting maxResults is a minor ergonomic improvement, e.g.\r\n\r\n    NativeSearchQuery searchQuery = NativeSearchQueryBuilder()\r\n        .withQuery(matchAllQuery())\r\n        .addAggregation(terms(&quot;examples&quot;).field(&quot;example&quot;))\r\n        .withMaxResults(0)\r\n        .build();\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-elasticsearch/issues/1561","title":"How to set result size zero in spring data elasticsearch","body":"<p>Found this on <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/issues/1561\" rel=\"nofollow noreferrer\">link</a></p>\n<p>It would be useful to have a &quot;withMaxResults&quot; method to NativeSearchQueryBuilder for specifying the maxResults on the built Query. This is common for aggregation queries where search hits are not needed.</p>\n<p>Having the builder method for setting maxResults is a minor ergonomic improvement, e.g.</p>\n<pre><code>NativeSearchQuery searchQuery = NativeSearchQueryBuilder()\n    .withQuery(matchAllQuery())\n    .addAggregation(terms(&quot;examples&quot;).field(&quot;example&quot;))\n    .withMaxResults(0)\n    .build();\n</code></pre>\n"}],"owner":{"account_id":2981437,"reputation":3064,"user_id":2531314,"accept_rate":58,"display_name":"blackSmith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9528,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":42918377,"answer_count":6,"score":6,"last_activity_date":1649089541,"creation_date":1463135556,"question_id":37207719,"body_markdown":"Consider the following elasticsearch query :\r\n\r\n    {\r\n      &quot;query&quot;: {&quot;match_all&quot;: {}},\r\n      &quot;size&quot;: 0, \r\n      &quot;aggs&quot;: {\r\n          &quot;Terms&quot;: { &quot;terms&quot;: { &quot;field&quot;:&quot;fileName&quot; }\r\n          }\r\n       }\r\n    }\r\n\r\nHere I&#39;m just interested in the aggregation and not in the documents. That&#39;s why I set `size:0` and it works as expected. However I&#39;m unable to achieve the same with `spring-data`. Code sample :\r\n\r\n    PageRequest page = new PageRequest(0, 0);\r\n    SearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                    .withIndices(indexName).withTypes(typeName)\r\n                    .withQuery(queryBuilder).withAggregation(aggsBuilder)\r\n                    .withPageable(pageable).build();\r\n\r\nThis `PageRequest` constructor throws an exception then, which is from its parent:\r\n\r\n    public AbstractPageRequest(int page, int size) {\r\n\t\tif (page &lt; 0) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Page index must not be less than zero!&quot;);\r\n\t\t}\r\n\t\tif (size &lt; 1) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Page size must not be less than one!&quot;);\r\n\t\t}\r\n\t\tthis.page = page;\r\n\t\tthis.size = size;\r\n\t}\r\n     \r\nQuestion : Is there any way in spring data to limit document size to zero ?\r\n\r\n\r\n ","title":"How to set result size zero in spring data elasticsearch","body":"<p>Consider the following elasticsearch query :</p>\n\n<pre><code>{\n  \"query\": {\"match_all\": {}},\n  \"size\": 0, \n  \"aggs\": {\n      \"Terms\": { \"terms\": { \"field\":\"fileName\" }\n      }\n   }\n}\n</code></pre>\n\n<p>Here I'm just interested in the aggregation and not in the documents. That's why I set <code>size:0</code> and it works as expected. However I'm unable to achieve the same with <code>spring-data</code>. Code sample :</p>\n\n<pre><code>PageRequest page = new PageRequest(0, 0);\nSearchQuery searchQuery = new NativeSearchQueryBuilder()\n                .withIndices(indexName).withTypes(typeName)\n                .withQuery(queryBuilder).withAggregation(aggsBuilder)\n                .withPageable(pageable).build();\n</code></pre>\n\n<p>This <code>PageRequest</code> constructor throws an exception then, which is from its parent:</p>\n\n<pre><code>public AbstractPageRequest(int page, int size) {\n    if (page &lt; 0) {\n        throw new IllegalArgumentException(\"Page index must not be less than zero!\");\n    }\n    if (size &lt; 1) {\n        throw new IllegalArgumentException(\"Page size must not be less than one!\");\n    }\n    this.page = page;\n    this.size = size;\n}\n</code></pre>\n\n<p>Question : Is there any way in spring data to limit document size to zero ?</p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649089483,"creation_date":1649089052,"answer_id":71740509,"question_id":71739981,"body_markdown":"As far as I can tell, MySQL&#39;s implementation in Connector/J does not support `setArray()`. It throws `java.sql.SQLFeatureNotSupportedException`.\r\n\r\nEven if it did implement `setArray()`, I have not used it and I haven&#39;t seen any documentation showing examples of using that method for row constructors instead of scalar types. It may be that it is not the right solution for the task you have.\r\n\r\nI think you&#39;ll have to write a string-builder-something-something to do what you want. It&#39;s okay to write code that builds an SQL query. It&#39;s only an SQL injection risk if you use untrusted content in the SQL query string. If you only use content that is strictly under control of your own code, you can ensure that it is not dangerous. \r\n\r\nFor example, in the following example, the content interpolated into the SQL string is based only on string literals in the calling code. No content from an untrusted source is used.\r\n\r\n    String placeHolders = String.join(&quot;,&quot;,\r\n      Collections.nCopies(params.size(), &quot;(?, ?)&quot;));\r\n    String sql = &quot;select * from TableA where (column1, column2) in ( (&quot; \r\n      + placeHolders + &quot;)&quot;;\r\n\r\n(Assuming `params` is an array of objects from which you get the values corresponding to colum1 &amp; column2.)\r\n\r\nThis will result in an SQL string like\r\n\r\n    select * from TableA where (column1, column2) in ((?, ?), (?, ?), (?, ?), ...)\r\n\r\nThen you have to loop over your array of params you want to bind, and set `setString()` twice per loop. ","title":"How to query using Mysql Row Constructors in JDBC?","body":"<p>As far as I can tell, MySQL's implementation in Connector/J does not support <code>setArray()</code>. It throws <code>java.sql.SQLFeatureNotSupportedException</code>.</p>\n<p>Even if it did implement <code>setArray()</code>, I have not used it and I haven't seen any documentation showing examples of using that method for row constructors instead of scalar types. It may be that it is not the right solution for the task you have.</p>\n<p>I think you'll have to write a string-builder-something-something to do what you want. It's okay to write code that builds an SQL query. It's only an SQL injection risk if you use untrusted content in the SQL query string. If you only use content that is strictly under control of your own code, you can ensure that it is not dangerous.</p>\n<p>For example, in the following example, the content interpolated into the SQL string is based only on string literals in the calling code. No content from an untrusted source is used.</p>\n<pre><code>String placeHolders = String.join(&quot;,&quot;,\n  Collections.nCopies(params.size(), &quot;(?, ?)&quot;));\nString sql = &quot;select * from TableA where (column1, column2) in ( (&quot; \n  + placeHolders + &quot;)&quot;;\n</code></pre>\n<p>(Assuming <code>params</code> is an array of objects from which you get the values corresponding to colum1 &amp; column2.)</p>\n<p>This will result in an SQL string like</p>\n<pre><code>select * from TableA where (column1, column2) in ((?, ?), (?, ?), (?, ?), ...)\n</code></pre>\n<p>Then you have to loop over your array of params you want to bind, and set <code>setString()</code> twice per loop.</p>\n"}],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71740509,"answer_count":1,"score":2,"last_activity_date":1649089483,"creation_date":1649086662,"question_id":71739981,"body_markdown":"The following MySQL queries are equivalent:\r\n\r\n    select * from TableA where (column1, column2) in ( (&#39;name1&#39;, 60), (&#39;name2&#39;, 65) )\r\n    select * from TableA where (column1=&#39;name1&#39; and column2=60) or (column1=&#39;name2&#39; and column2=65)\r\n\r\nHowever, the power of the Row Constructor form (ie 1st example) is that you can use it to leverage to handle querying an any length list of pairs of values.  Without it you have to write dynamic sql which is a security risk.  Using the first form avoids that nasty problem.\r\n\r\nHowever, how do you represent this in JDBC using prepared statemtents?  For example:\r\n\r\n    Connection connection = ...\r\n    PreparedStatement smt = connection.preparedStatement(&quot;select * from TableA where (column1,column2) in ?&quot;);\r\n    smt.setObject(1, whatDataTypeGoesHere );\r\n    smt.execute();\r\n\r\nI&#39;ve looked into `setArray`, but how to represent the `column1` and `column2` values in the values of the array?  I&#39;m wondering if `SQLData` interface might serve as that conduit.  But reading the docs I can&#39;t see how that might work.","title":"How to query using Mysql Row Constructors in JDBC?","body":"<p>The following MySQL queries are equivalent:</p>\n<pre><code>select * from TableA where (column1, column2) in ( ('name1', 60), ('name2', 65) )\nselect * from TableA where (column1='name1' and column2=60) or (column1='name2' and column2=65)\n</code></pre>\n<p>However, the power of the Row Constructor form (ie 1st example) is that you can use it to leverage to handle querying an any length list of pairs of values.  Without it you have to write dynamic sql which is a security risk.  Using the first form avoids that nasty problem.</p>\n<p>However, how do you represent this in JDBC using prepared statemtents?  For example:</p>\n<pre><code>Connection connection = ...\nPreparedStatement smt = connection.preparedStatement(&quot;select * from TableA where (column1,column2) in ?&quot;);\nsmt.setObject(1, whatDataTypeGoesHere );\nsmt.execute();\n</code></pre>\n<p>I've looked into <code>setArray</code>, but how to represent the <code>column1</code> and <code>column2</code> values in the values of the array?  I'm wondering if <code>SQLData</code> interface might serve as that conduit.  But reading the docs I can't see how that might work.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8532,"page":1460,"page_size":100}
