{"items":[{"tags":["java","json","utf-8","character-encoding","resttemplate"],"comments":[{"owner":{"account_id":5012295,"reputation":498,"user_id":4028211,"accept_rate":75,"display_name":"Martin McKeaveney"},"score":0,"creation_date":1419256540,"post_id":27603782,"comment_id":43630348,"body_markdown":"What is overPassStatementPostCode?\n\nPlease post more code, including your corresponding POJO.","body":"What is overPassStatementPostCode?  Please post more code, including your corresponding POJO."},{"owner":{"account_id":1888905,"reputation":15353,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"score":1,"creation_date":1419256683,"post_id":27603782,"comment_id":43630424,"body_markdown":"You are setting `String.class` which will use `StringHttpMessageConverter`. Can you try to use `MappingJackson2HttpMessageConverter`. E.g. `\n        ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n        messageConverters.add(new MappingJackson2HttpMessageConverter());\n        restTemplate.setMessageConverters(messageConverters); `","body":"You are setting <code>String.class</code> which will use <code>StringHttpMessageConverter</code>. Can you try to use <code>MappingJackson2HttpMessageConverter</code>. E.g. `         ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();         messageConverters.add(new MappingJackson2HttpMessageConverter());         restTemplate.setMessageConverters(messageConverters); `"},{"owner":{"account_id":1888905,"reputation":15353,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"score":1,"creation_date":1419257103,"post_id":27603782,"comment_id":43630631,"body_markdown":"Looking at the source code , we can also pass charset to StringHttpMessageConverter(),you can pass it `UTF-8` charset because defaultCharSet  is `ISO-8859-1`","body":"Looking at the source code , we can also pass charset to StringHttpMessageConverter(),you can pass it <code>UTF-8</code> charset because defaultCharSet  is <code>ISO-8859-1</code>"},{"owner":{"account_id":4941455,"reputation":541,"user_id":3978036,"accept_rate":78,"display_name":"Shachty"},"score":0,"creation_date":1419843261,"post_id":27603782,"comment_id":43785632,"body_markdown":"Sorry, but I can&#39;t understand how to set the charSet in the code. The overPassStamementPostCode is just a string with placeholders. It gets filled with the parameters in the params Map.","body":"Sorry, but I can&#39;t understand how to set the charSet in the code. The overPassStamementPostCode is just a string with placeholders. It gets filled with the parameters in the params Map."},{"owner":{"account_id":4941455,"reputation":541,"user_id":3978036,"accept_rate":78,"display_name":"Shachty"},"score":0,"creation_date":1419845083,"post_id":27603782,"comment_id":43786280,"body_markdown":"I can create a StringMessageConverter with a code like this :\n      StringHttpMessageConverter stringHttpMessageConverter = new StringHttpMessageConverter(Charset.forName(&quot;UTF-8&quot;));\nbut I just can&#39;t find a way how to use his converter with my http get request. Thank you for your help.","body":"I can create a StringMessageConverter with a code like this :       StringHttpMessageConverter stringHttpMessageConverter = new StringHttpMessageConverter(Charset.forName(&quot;UTF-8&quot;)); but I just can&#39;t find a way how to use his converter with my http get request. Thank you for your help."}],"answers":[{"tags":[],"owner":{"account_id":124855,"reputation":19802,"user_id":320220,"accept_rate":85,"display_name":"beerbajay"},"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1424954656,"creation_date":1424954656,"answer_id":28742831,"question_id":27603782,"body_markdown":"You just need to add the `StringHttpMessageConverter` to the template&#39;s message converters:\r\n\r\n    RestTemplate template = new RestTemplate();\r\n    template.getMessageConverters()\r\n            .add(0, new StringHttpMessageConverter(Charset.forName(&quot;UTF-8&quot;)));\r\n    ResponseEntity&lt;Object&gt; response = template.exchange(endpoint, method, entity, \r\n                                                        Object.class);","title":"Java Spring resttemplate character encoding","body":"<p>You just need to add the <code>StringHttpMessageConverter</code> to the template's message converters:</p>\n\n<pre><code>RestTemplate template = new RestTemplate();\ntemplate.getMessageConverters()\n        .add(0, new StringHttpMessageConverter(Charset.forName(\"UTF-8\")));\nResponseEntity&lt;Object&gt; response = template.exchange(endpoint, method, entity, \n                                                    Object.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1474702086,"creation_date":1474702086,"answer_id":39673751,"question_id":27603782,"body_markdown":"First I tried @beerbajay &#39;s way , but it not helps。 Finally I resolve it by  below way\r\n\r\n    \t\tRestTemplate template = new RestTemplate();\r\n    //\t\ttemplate.getMessageConverters()\r\n    //\t\t\t\t.add(0, new StringHttpMessageConverter(Charset.forName(&quot;UTF-8&quot;)));\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setAccept(newArrayList(MediaType.APPLICATION_JSON));\r\n    \t\tResponseEntity&lt;String&gt; response = template.exchange(url, HttpMethod.GET, new HttpEntity&lt;String&gt;(headers), String.class);","title":"Java Spring resttemplate character encoding","body":"<p>First I tried @beerbajay 's way , but it not helps。 Finally I resolve it by  below way</p>\n\n<pre><code>        RestTemplate template = new RestTemplate();\n//      template.getMessageConverters()\n//              .add(0, new StringHttpMessageConverter(Charset.forName(\"UTF-8\")));\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(newArrayList(MediaType.APPLICATION_JSON));\n        ResponseEntity&lt;String&gt; response = template.exchange(url, HttpMethod.GET, new HttpEntity&lt;String&gt;(headers), String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9883923,"reputation":21,"user_id":7319051,"display_name":"KentChow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489541705,"creation_date":1489541705,"answer_id":42799663,"question_id":27603782,"body_markdown":"I&#39;ve same issue on this case, after one search, I&#39;ve got this link:\r\nhttps://gist.github.com/knight1128/66f3e4817ab35c7397fd\r\n\r\nits workaround is working for me:\r\n\r\n    package com.google.locationlab;\r\n    \r\n    import com.google.common.collect.Lists;\r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    import org.junit.Test;\r\n    import org.springframework.http.*;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.http.converter.StringHttpMessageConverter;\r\n    import org.springframework.web.client.RestTemplate;\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    \r\n    import java.net.URI;\r\n    import java.nio.charset.Charset;\r\n    import java.util.List;\r\n    \r\n    public class PortalRestTemplateIntegrationTest {\r\n        private Log logger = LogFactory.getLog(PortalRestTemplateIntegrationTest.class);\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n    \r\n            HttpMessageConverter stringHttpMessageConverter = new StringHttpMessageConverter(Charset.forName(&quot;UTF-8&quot;));\r\n            List&lt;HttpMessageConverter&lt;?&gt;&gt; httpMessageConverter = Lists.newArrayList();\r\n            httpMessageConverter.add(stringHttpMessageConverter);\r\n            restTemplate.setMessageConverters(httpMessageConverter);\r\n    \r\n            URI targetUrl= UriComponentsBuilder.fromUriString(&quot;http://portal.net&quot;)\r\n                    .path(&quot;search&quot;)\r\n                    .queryParam(&quot;q&quot;, &quot;잠실역&quot;)\r\n                    .build()\r\n                    .toUri();\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            Charset utf8 = Charset.forName(&quot;UTF-8&quot;);\r\n            MediaType mediaType = new MediaType(&quot;text&quot;, &quot;html&quot;, utf8);\r\n            headers.setContentType(mediaType);\r\n            headers.set(&quot;User-Agent&quot;, &quot;mozilla&quot;);\r\n            headers.set(&quot;Accept-Language&quot;, &quot;ko&quot;); \r\n            // gzip 사용하면 byte[] 로 받아서, 압축을 풀고 decoding 해야 한다. \r\n    \r\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;parameters&quot;, headers);\r\n            ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(targetUrl.toURL().toString(), HttpMethod.GET, entity, String.class);\r\n            String result = responseEntity.getBody();\r\n    \r\n            logger.info(result);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Java Spring resttemplate character encoding","body":"<p>I've same issue on this case, after one search, I've got this link:\n<a href=\"https://gist.github.com/knight1128/66f3e4817ab35c7397fd\" rel=\"nofollow noreferrer\">https://gist.github.com/knight1128/66f3e4817ab35c7397fd</a></p>\n\n<p>its workaround is working for me:</p>\n\n<pre><code>package com.google.locationlab;\n\nimport com.google.common.collect.Lists;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.junit.Test;\nimport org.springframework.http.*;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.StringHttpMessageConverter;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.util.UriComponentsBuilder;\n\nimport java.net.URI;\nimport java.nio.charset.Charset;\nimport java.util.List;\n\npublic class PortalRestTemplateIntegrationTest {\n    private Log logger = LogFactory.getLog(PortalRestTemplateIntegrationTest.class);\n\n    @Test\n    public void test() throws Exception {\n        RestTemplate restTemplate = new RestTemplate();\n\n        HttpMessageConverter stringHttpMessageConverter = new StringHttpMessageConverter(Charset.forName(\"UTF-8\"));\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; httpMessageConverter = Lists.newArrayList();\n        httpMessageConverter.add(stringHttpMessageConverter);\n        restTemplate.setMessageConverters(httpMessageConverter);\n\n        URI targetUrl= UriComponentsBuilder.fromUriString(\"http://portal.net\")\n                .path(\"search\")\n                .queryParam(\"q\", \"잠실역\")\n                .build()\n                .toUri();\n\n        HttpHeaders headers = new HttpHeaders();\n        Charset utf8 = Charset.forName(\"UTF-8\");\n        MediaType mediaType = new MediaType(\"text\", \"html\", utf8);\n        headers.setContentType(mediaType);\n        headers.set(\"User-Agent\", \"mozilla\");\n        headers.set(\"Accept-Language\", \"ko\"); \n        // gzip 사용하면 byte[] 로 받아서, 압축을 풀고 decoding 해야 한다. \n\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(\"parameters\", headers);\n        ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(targetUrl.toURL().toString(), HttpMethod.GET, entity, String.class);\n        String result = responseEntity.getBody();\n\n        logger.info(result);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16936863,"reputation":11,"user_id":12249627,"display_name":"Khany Liegh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571900679,"creation_date":1571900679,"answer_id":58535918,"question_id":27603782,"body_markdown":"I have solved this problem. I need to POST a string object in request body with UTF-8.\r\n\r\ntext/plain\r\n\r\nhttpHeaders.setContentType(new MediaType(&quot;text&quot;, &quot;plain&quot;, StandardCharsets.UTF_8));\r\n\r\n\r\napplicaton/json\r\n\r\nhttpHeaders.setContentType(new MediaType(&quot;applicaton&quot;, &quot;json&quot;, StandardCharsets.UTF_8));\r\n\r\n   \r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    ResponseEntity&lt;String&gt; resposeEntity = null;\r\n    \r\n    HttpHeaders httpHeaders = new HttpHeaders();\r\n    httpHeaders.setContentType(new MediaType(&quot;text&quot;, &quot;plain&quot;, StandardCharsets.UTF_8));\r\n    \r\n    HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;String&gt;(stringContent, httpHeaders);\r\n    responseEntity = restTemplate.exchange(requestUrl, HttpMethod.POST, httpEntity, String.class);\r\n    \r\n    if (HttpStatus.OK.equals(responseEntity.getStatusCode())) {\r\n        logger.debug(&quot;... success ... result: &quot; + responseEntity.getBody());\r\n    }\r\n","title":"Java Spring resttemplate character encoding","body":"<p>I have solved this problem. I need to POST a string object in request body with UTF-8.</p>\n\n<p>text/plain</p>\n\n<p>httpHeaders.setContentType(new MediaType(\"text\", \"plain\", StandardCharsets.UTF_8));</p>\n\n<p>applicaton/json</p>\n\n<p>httpHeaders.setContentType(new MediaType(\"applicaton\", \"json\", StandardCharsets.UTF_8));</p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nResponseEntity&lt;String&gt; resposeEntity = null;\n\nHttpHeaders httpHeaders = new HttpHeaders();\nhttpHeaders.setContentType(new MediaType(\"text\", \"plain\", StandardCharsets.UTF_8));\n\nHttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;String&gt;(stringContent, httpHeaders);\nresponseEntity = restTemplate.exchange(requestUrl, HttpMethod.POST, httpEntity, String.class);\n\nif (HttpStatus.OK.equals(responseEntity.getStatusCode())) {\n    logger.debug(\"... success ... result: \" + responseEntity.getBody());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4831207,"reputation":57,"user_id":3899369,"display_name":"Bhukailas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596881623,"creation_date":1596881623,"answer_id":63314226,"question_id":27603782,"body_markdown":"You can still use String.class as a response type if you can do the following.\r\n\r\nUpgrading to spring-web 5.2 solves the problem. or set writeAcceptCharset property to false belongs to StringHttpMessageConverter and use that convertor further in RestTemplate instance.\r\n\r\n    boolean writeAcceptCharSet = false;\r\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; c = restTemplate.getMessageConverters();\r\n    for (HttpMessageConverter&lt;?&gt; mc : c) {\r\n      if (mc instanceof StringHttpMessageConverter) {\r\n        StringHttpMessageConverter mcc = (StringHttpMessageConverter) mc;\r\n        mcc.setWriteAcceptCharset(writeAcceptCharSet);\r\n      }\r\n    }","title":"Java Spring resttemplate character encoding","body":"<p>You can still use String.class as a response type if you can do the following.</p>\n<p>Upgrading to spring-web 5.2 solves the problem. or set writeAcceptCharset property to false belongs to StringHttpMessageConverter and use that convertor further in RestTemplate instance.</p>\n<pre><code>boolean writeAcceptCharSet = false;\nList&lt;HttpMessageConverter&lt;?&gt;&gt; c = restTemplate.getMessageConverters();\nfor (HttpMessageConverter&lt;?&gt; mc : c) {\n  if (mc instanceof StringHttpMessageConverter) {\n    StringHttpMessageConverter mcc = (StringHttpMessageConverter) mc;\n    mcc.setWriteAcceptCharset(writeAcceptCharSet);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1051561,"reputation":3004,"user_id":1055373,"accept_rate":76,"display_name":"henrykodev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657004705,"creation_date":1657004705,"answer_id":72865219,"question_id":27603782,"body_markdown":"In my case, I was using Postman. It was sending a hidden header of:\r\n\r\n    Accept-Encoding: gzip, deflate, br\r\n\r\nI removed this header and my response came back correctly, instead of mumbo-jumbos.","title":"Java Spring resttemplate character encoding","body":"<p>In my case, I was using Postman. It was sending a hidden header of:</p>\n<pre><code>Accept-Encoding: gzip, deflate, br\n</code></pre>\n<p>I removed this header and my response came back correctly, instead of mumbo-jumbos.</p>\n"}],"owner":{"account_id":4941455,"reputation":541,"user_id":3978036,"accept_rate":78,"display_name":"Shachty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75979,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":28742831,"answer_count":6,"score":32,"last_activity_date":1657004705,"creation_date":1419255352,"question_id":27603782,"body_markdown":"I&#39;m using the Java Spring Resttemplate for getting a json via a get request. The JSON I&#39;m getting has instead of special character slike &#252; &#246; &#228; or &#223; some weird stuff. So I guess somethings wrong with the character encoding. I can&#39;t find any help on the internet. The code I&#39;m using for now is:\r\n\r\n    String json = restTemplate.getForObject(\r\n        overPassStatementPostCode,\r\n        String.class,\r\n        params);","title":"Java Spring resttemplate character encoding","body":"<p>I'm using the Java Spring Resttemplate for getting a json via a get request. The JSON I'm getting has instead of special character slike ü ö ä or ß some weird stuff. So I guess somethings wrong with the character encoding. I can't find any help on the internet. The code I'm using for now is:</p>\n\n<pre><code>String json = restTemplate.getForObject(\n    overPassStatementPostCode,\n    String.class,\n    params);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1657003471,"post_id":72864985,"comment_id":128699630,"body_markdown":"Please don&#39;t post the error as an image. Instead include the **full stacktrace** as properly formatted code so it is readable.","body":"Please don&#39;t post the error as an image. Instead include the <b>full stacktrace</b> as properly formatted code so it is readable."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1657005886,"post_id":72864985,"comment_id":128700312,"body_markdown":"Please share pom.xml","body":"Please share pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":225942,"reputation":961,"user_id":486705,"display_name":"EPSG31468"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657004547,"creation_date":1657004547,"answer_id":72865189,"question_id":72864985,"body_markdown":"If you look at your stacktrace, you should go down the `Caused by` chain. In your case, you will find a\r\n\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: brave/SpanCustomizer\r\n```\r\n\r\nThis means the class `brave.SpanCustomizer` cannot be found. Check your setup: \r\n\r\n* Maybe you missed a dependency?\r\n* Or you made a spelling mistake?\r\n\r\nPS: Please post the stacktrace as text, not as an image. You can edit your post to add the text now.","title":"Unable to run Springboot program &quot; Unable to start web server; &quot;","body":"<p>If you look at your stacktrace, you should go down the <code>Caused by</code> chain. In your case, you will find a</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: brave/SpanCustomizer\n</code></pre>\n<p>This means the class <code>brave.SpanCustomizer</code> cannot be found. Check your setup:</p>\n<ul>\n<li>Maybe you missed a dependency?</li>\n<li>Or you made a spelling mistake?</li>\n</ul>\n<p>PS: Please post the stacktrace as text, not as an image. You can edit your post to add the text now.</p>\n"}],"owner":{"account_id":24818551,"reputation":1,"user_id":18699114,"display_name":"Shreeshail Tadkal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657013060,"answer_count":1,"score":-1,"last_activity_date":1657004547,"creation_date":1657003312,"question_id":72864985,"body_markdown":"refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat&quot;,&quot;context&quot;:&quot;default&quot;}[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XhFFW.png","title":"Unable to run Springboot program &quot; Unable to start web server; &quot;","body":"<p>refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat&quot;,&quot;context&quot;:&quot;default&quot;}<a href=\"https://i.stack.imgur.com/XhFFW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","android-studio","okhttp"],"answers":[{"tags":[],"owner":{"account_id":6914793,"reputation":2511,"user_id":5309486,"display_name":"Ashok"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1648874432,"creation_date":1648874432,"answer_id":71714932,"question_id":71714648,"body_markdown":"The error is caused due to execution of network request on main thread (a.k.a. UI thread). In general, thread blocking operations (like file read, network requests) are prohibited on main thread. This is done to avoid `App Not responding` error.\r\n\r\nIn your `mainActivity.java`, since `BroadcastReceiver#onReceive` is executed on main thread. (Ref: https://stackoverflow.com/a/5676888/5309486 ). And inside this `onReceive` function, you are trying to make the network request.\r\n\r\nJust, use handler and post the network call to background thread (or any other thread) and that will fix your issue.","title":"Crashing when first time try OkHttp as a client","body":"<p>The error is caused due to execution of network request on main thread (a.k.a. UI thread). In general, thread blocking operations (like file read, network requests) are prohibited on main thread. This is done to avoid <code>App Not responding</code> error.</p>\n<p>In your <code>mainActivity.java</code>, since <code>BroadcastReceiver#onReceive</code> is executed on main thread. (Ref: <a href=\"https://stackoverflow.com/a/5676888/5309486\">https://stackoverflow.com/a/5676888/5309486</a> ). And inside this <code>onReceive</code> function, you are trying to make the network request.</p>\n<p>Just, use handler and post the network call to background thread (or any other thread) and that will fix your issue.</p>\n"},{"tags":[],"owner":{"account_id":6455760,"reputation":11,"user_id":5001229,"display_name":"Innocent Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657003445,"creation_date":1656592321,"answer_id":72815910,"question_id":71714648,"body_markdown":"The App will keep crashing until you separate the the network request from the main java thread.\r\n\r\nsolution:\r\ncreate a class for this request in a separate class file, the class here is both for POST and GET\r\n\r\n    public class reques_handler {\r\n    public static String sendRequest(String requestUrl, HashMap&lt;String, String&gt; parameter){\r\n        URL url;\r\n        StringBuilder sb = new StringBuilder();\r\n        try {\r\n            //Initializing Url\r\n            url = new URL(requestUrl);\r\n\r\n            //Creating an httmlurl connection\r\n            HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n\r\n            //Configuring connection properties\r\n            conn.setReadTimeout(15000);\r\n            conn.setConnectTimeout(15000);\r\n            conn.setRequestMethod(&quot;POST&quot;);\r\n            conn.setDoInput(true);\r\n            conn.setDoOutput(true);\r\n\r\n            //Creating an output stream\r\n            OutputStream os = conn.getOutputStream();\r\n\r\n            //Writing parameters to the request\r\n            //We are using a method getPostDataString which is defined below\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(os, &quot;UTF-8&quot;));\r\n            writer.write(getPostDataString(parameter));\r\n\r\n            writer.flush();\r\n            writer.close();\r\n            os.close();\r\n            int responseCode = conn.getResponseCode();\r\n\r\n            if (responseCode == HttpsURLConnection.HTTP_OK) {\r\n\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n                sb = new StringBuilder();\r\n                String response;\r\n                //Reading server response\r\n                while ((response = br.readLine()) != null) {\r\n                    sb.append(response);\r\n                }\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return sb.toString();\r\n    }\r\n    public String sendGetRequest(String requestURL) {\r\n        StringBuilder sb = new StringBuilder();\r\n        try {\r\n            URL url = new URL(requestURL);\r\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\r\n            String s;\r\n            while ((s = bufferedReader.readLine()) != null) {\r\n                sb.append(s + &quot;\\n&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n        return sb.toString();\r\n    }\r\n    private static String getPostDataString(HashMap&lt;String, String&gt; params) throws UnsupportedEncodingException {\r\n        StringBuilder result = new StringBuilder();\r\n        boolean first = true;\r\n        for (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {\r\n            if (first)\r\n                first = false;\r\n            else\r\n                result.append(&quot;&amp;&quot;);\r\n\r\n            result.append(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;));\r\n            result.append(&quot;=&quot;);\r\n            result.append(URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\r\n        }\r\n\r\n        return result.toString();\r\n    }\r\n\r\n    }\r\n\r\nat your fragment create this class, this class is responsible of running the network threat in the background to avoid interference with the main thread \r\n\r\n    private class PerformNetworkRequestmeter extends AsyncTask&lt;Void, Void, String&gt; {\r\n        String url;\r\n        HashMap&lt;String, String&gt; params;\r\n        PerformNetworkRequestmeter(String url, HashMap&lt;String, String&gt; params) {\r\n            this.url = url;\r\n            this.params = params;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            //view_member__progressBar.setVisibility(View.VISIBLE);\r\n        }\r\n\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n            super.onPostExecute(s);\r\n            //view_member__progressBar.setVisibility(View.GONE);\r\n\r\n            try {\r\n                JSONObject object = new JSONObject(s);\r\n\r\n\r\n                detail.setText(object.toString());\r\n                    //populateDescoType(object.getJSONArray(&quot;fetchmessage&quot;));\r\n                    Toast.makeText(getActivity(), object.toString(), Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(Void... voids) {\r\n            reques_handler requestHandler = new reques_handler();\r\n    /////// replace the below code with this if your method is POST return requestHandler.sendRequest(url, params);\r\n            return requestHandler.sendGetRequest(url);\r\n\r\n\r\n        }\r\n    }\r\n\r\nThen in your event handler\r\ncall the class like this\r\n\r\n    String UR = &quot;&quot;;\r\n    use the commented code to pass parameter if your method is POST but if GET send the URL with it parameter only.\r\n                       /* HashMap check = supportclass.testAPI(&quot;62120044771&quot;, &quot;KANO&quot;,&quot;PREPAID&quot;,&quot;true&quot;, getActivity());*/\r\n                        PerformNetworkRequestmeter requestpayWith = new PerformNetworkRequestmeter(UR,check);\r\n                        requestpayWith.execute();\r\n\r\nFor the record, I got most of this code from stack many years ago. THANKS TO STACK","title":"Crashing when first time try OkHttp as a client","body":"<p>The App will keep crashing until you separate the the network request from the main java thread.</p>\n<p>solution:\ncreate a class for this request in a separate class file, the class here is both for POST and GET</p>\n<pre><code>public class reques_handler {\npublic static String sendRequest(String requestUrl, HashMap&lt;String, String&gt; parameter){\n    URL url;\n    StringBuilder sb = new StringBuilder();\n    try {\n        //Initializing Url\n        url = new URL(requestUrl);\n\n        //Creating an httmlurl connection\n        HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\n\n        //Configuring connection properties\n        conn.setReadTimeout(15000);\n        conn.setConnectTimeout(15000);\n        conn.setRequestMethod(&quot;POST&quot;);\n        conn.setDoInput(true);\n        conn.setDoOutput(true);\n\n        //Creating an output stream\n        OutputStream os = conn.getOutputStream();\n\n        //Writing parameters to the request\n        //We are using a method getPostDataString which is defined below\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(os, &quot;UTF-8&quot;));\n        writer.write(getPostDataString(parameter));\n\n        writer.flush();\n        writer.close();\n        os.close();\n        int responseCode = conn.getResponseCode();\n\n        if (responseCode == HttpsURLConnection.HTTP_OK) {\n\n            BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n            sb = new StringBuilder();\n            String response;\n            //Reading server response\n            while ((response = br.readLine()) != null) {\n                sb.append(response);\n            }\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return sb.toString();\n}\npublic String sendGetRequest(String requestURL) {\n    StringBuilder sb = new StringBuilder();\n    try {\n        URL url = new URL(requestURL);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n\n        String s;\n        while ((s = bufferedReader.readLine()) != null) {\n            sb.append(s + &quot;\\n&quot;);\n        }\n    } catch (Exception e) {\n    }\n    return sb.toString();\n}\nprivate static String getPostDataString(HashMap&lt;String, String&gt; params) throws UnsupportedEncodingException {\n    StringBuilder result = new StringBuilder();\n    boolean first = true;\n    for (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {\n        if (first)\n            first = false;\n        else\n            result.append(&quot;&amp;&quot;);\n\n        result.append(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;));\n        result.append(&quot;=&quot;);\n        result.append(URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\n    }\n\n    return result.toString();\n}\n\n}\n</code></pre>\n<p>at your fragment create this class, this class is responsible of running the network threat in the background to avoid interference with the main thread</p>\n<pre><code>private class PerformNetworkRequestmeter extends AsyncTask&lt;Void, Void, String&gt; {\n    String url;\n    HashMap&lt;String, String&gt; params;\n    PerformNetworkRequestmeter(String url, HashMap&lt;String, String&gt; params) {\n        this.url = url;\n        this.params = params;\n    }\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        //view_member__progressBar.setVisibility(View.VISIBLE);\n    }\n\n\n    @Override\n    protected void onPostExecute(String s) {\n        super.onPostExecute(s);\n        //view_member__progressBar.setVisibility(View.GONE);\n\n        try {\n            JSONObject object = new JSONObject(s);\n\n\n            detail.setText(object.toString());\n                //populateDescoType(object.getJSONArray(&quot;fetchmessage&quot;));\n                Toast.makeText(getActivity(), object.toString(), Toast.LENGTH_SHORT).show();\n\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected String doInBackground(Void... voids) {\n        reques_handler requestHandler = new reques_handler();\n/////// replace the below code with this if your method is POST return requestHandler.sendRequest(url, params);\n        return requestHandler.sendGetRequest(url);\n\n\n    }\n}\n</code></pre>\n<p>Then in your event handler\ncall the class like this</p>\n<pre><code>String UR = &quot;&quot;;\nuse the commented code to pass parameter if your method is POST but if GET send the URL with it parameter only.\n                   /* HashMap check = supportclass.testAPI(&quot;62120044771&quot;, &quot;KANO&quot;,&quot;PREPAID&quot;,&quot;true&quot;, getActivity());*/\n                    PerformNetworkRequestmeter requestpayWith = new PerformNetworkRequestmeter(UR,check);\n                    requestpayWith.execute();\n</code></pre>\n<p>For the record, I got most of this code from stack many years ago. THANKS TO STACK</p>\n"}],"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71714932,"answer_count":2,"score":4,"last_activity_date":1657003445,"creation_date":1648870294,"question_id":71714648,"body_markdown":"I&#39;m have some project, realtime sending RSSI and MAC of Bluetooth Low Energy. I want try using http protocol, and i found OkHttp library. But when i run with OkHttp, my software crash.\r\n\r\nMy error\r\n\r\n    2022-04-02 10:22:56.681 20521-20521/com.example.android_http D/Logger: State Check\r\n    2022-04-02 10:22:57.146 20521-20521/com.example.android_http D/Logger: Recive data 6C:70:3C:0A:99:43\r\n    2022-04-02 10:22:57.217 20521-20521/com.example.android_http D/AndroidRuntime: Shutting down VM\r\n    2022-04-02 10:22:57.220 20521-20521/com.example.android_http E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.android_http, PID: 20521\r\n        Theme: themes:{}\r\n        java.lang.RuntimeException: Error receiving broadcast Intent { act=android.bluetooth.device.action.FOUND flg=0x10 (has extras) } in com.example.android_http.MainActivity$3@6febfe0\r\n            at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:892)\r\n            at android.os.Handler.handleCallback(Handler.java:739)\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n            at android.os.Looper.loop(Looper.java:148)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5456)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n         Caused by: android.os.NetworkOnMainThreadException\r\n            at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1273)\r\n            at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:110)\r\n            at libcore.io.IoBridge.connectErrno(IoBridge.java:154)\r\n            at libcore.io.IoBridge.connect(IoBridge.java:122)\r\n            at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:183)\r\n            at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:452)\r\n            at java.net.Socket.connect(Socket.java:884)\r\n            at okhttp3.internal.platform.AndroidPlatform.connectSocket(AndroidPlatform.kt:63)\r\n            at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)\r\n            at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)\r\n            at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)\r\n            at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\n            at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\n            at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\n            at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n            at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n            at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n            at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n            at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\n            at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)\r\n            at com.example.android_http.postActivity.post(postActivity.java:22)\r\n            at com.example.android_http.MainActivity$3.onReceive(MainActivity.java:118)\r\n            at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:882)\r\n            at android.os.Handler.handleCallback(Handler.java:739)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n            at android.os.Looper.loop(Looper.java:148)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:5456)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)&#160;\r\n\r\nI&#39;m sure it&#39;s OkHttp that crashes the app. Because before using OkHttp the app was fine.\r\n\r\nThis is my mainActivity.java\r\n\r\n    package com.example.android_http;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Button btnTurn;\r\n        private boolean state = false;\r\n        private BluetoothAdapter bluetoothAdapter;\r\n        public static final int REQUEST_ACCESS_COARSE_LOCATION = 1;\r\n        public String data;\r\n        postActivity ClientHttp = new postActivity();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            btnTurn = findViewById(R.id.btnTurn);\r\n            bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    \r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    stateCheck();\r\n                    Log.d(&quot;Logger&quot;, &quot;State Check&quot;);\r\n                    handler.postDelayed(this, 1000);\r\n                }\r\n            }, 1000);\r\n    \r\n            btnTurn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(!state){\r\n                        btnTurn.setText(&quot;Turn Off&quot;);\r\n                        state = true;\r\n                    }else{\r\n                        btnTurn.setText(&quot;Turn On&quot;);\r\n                        state = false;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void stateCheck(){\r\n            if (state){\r\n                if (bluetoothAdapter!=null &amp; bluetoothAdapter.isEnabled()) {\r\n                    if(checkCoarsePermission()){\r\n                        Log.d(&quot;Logger&quot;, &quot;Discover&quot;);\r\n                        bluetoothAdapter.startDiscovery();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private boolean checkCoarsePermission(){\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\r\n                    != PackageManager.PERMISSION_GRANTED){\r\n                ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION},\r\n                        REQUEST_ACCESS_COARSE_LOCATION);\r\n                return false;\r\n            }else {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\r\n            registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_STARTED));\r\n            registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            unregisterReceiver(devicesFoundReceiver);\r\n        }\r\n    \r\n        private final BroadcastReceiver devicesFoundReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                String action= intent.getAction();\r\n    \r\n                if(BluetoothDevice.ACTION_FOUND.equals(action)){\r\n                    BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                    int  rssi = intent.getShortExtra(BluetoothDevice.EXTRA_RSSI,Short.MIN_VALUE);\r\n                    String RSSI = String.valueOf(rssi);\r\n                    Toast.makeText(context.getApplicationContext(),&quot;rssi &quot;+RSSI+&quot; &quot;+device.getAddress(),Toast.LENGTH_SHORT).show();\r\n                    Log.d(&quot;Logger&quot;, &quot;Recive data &quot;+device.getAddress());\r\n                    data = &quot;RSSI: &quot;+RSSI+&quot; MAC: &quot;+device.getAddress();\r\n                    String data_json = &quot;{&#39;rssi&#39;:&#39;&quot;+RSSI+&quot;&#39;,&#39;MAC&#39;:&#39;&quot;+device.getAddress()+&quot;&#39;&quot;;\r\n                    try{\r\n                        String response = ClientHttp.post(&quot;http://192.168.6.56:3000/clicked&quot;,data_json);\r\n                        Log.d(&quot;Logger&quot;,response);\r\n                    }catch (IOException e){\r\n                        Log.e(&quot;Logger&quot;,&quot;Error Function to send&quot;);\r\n                    }\r\n    \r\n    //                try{\r\n    //                    //GetText(mUrl,data);\r\n    //                }catch (IOException e){\r\n    //                    Log.e(&quot;Logger&quot;,&quot;Error Function to send&quot;);\r\n    //                }\r\n    \r\n                }else if(BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)){\r\n                }else if(BluetoothAdapter.ACTION_DISCOVERY_STARTED.equals(action)){\r\n                }\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n            switch (requestCode){\r\n                case REQUEST_ACCESS_COARSE_LOCATION:\r\n                    if(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                        Toast.makeText(this,&quot;ALLOWED&quot;, Toast.LENGTH_SHORT).show();\r\n                    }else {\r\n                        Toast.makeText(this,&quot;Forbidden&quot;,Toast.LENGTH_SHORT).show();\r\n                    } break;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThis is my postActivity.java\r\n\r\n    package com.example.android_http;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import okhttp3.MediaType;\r\n    import okhttp3.OkHttpClient;\r\n    import okhttp3.Request;\r\n    import okhttp3.RequestBody;\r\n    import okhttp3.Response;\r\n    \r\n    public class postActivity {\r\n        public static final MediaType JSON = MediaType.get(&quot;application/json; charset=utf-8&quot;);\r\n    \r\n        final OkHttpClient client = new OkHttpClient();\r\n    \r\n        String post(String url, String json) throws IOException {\r\n            RequestBody body = RequestBody.create(json, JSON);\r\n            Request request = new Request.Builder()\r\n                    .url(url)\r\n                    .post(body)\r\n                    .build();\r\n            try (Response response = client.newCall(request).execute()) {\r\n                return response.body().string();\r\n            }\r\n        }\r\n    }\r\n\r\nMy gradle\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \r\n        implementation(&quot;com.squareup.okhttp3:okhttp:4.9.3&quot;)\r\n        implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\r\n    }\r\n\r\nFor a clearer explanation, I did programming using JAVA in Android Studio with API for Android 6.0.\r\n\r\nMy question is simple, how to fix this problem? and why it crashes? PLEASE DON&#39;T CLOSED MY QUESTIONS!!! I AM JUST A BEGINNER!!! This problem does not exist in other posts and I have tried to implement another post with my origin code. But STILL FAIL.\r\n\r\nThanks.","title":"Crashing when first time try OkHttp as a client","body":"<p>I'm have some project, realtime sending RSSI and MAC of Bluetooth Low Energy. I want try using http protocol, and i found OkHttp library. But when i run with OkHttp, my software crash.</p>\n<p>My error</p>\n<pre><code>2022-04-02 10:22:56.681 20521-20521/com.example.android_http D/Logger: State Check\n2022-04-02 10:22:57.146 20521-20521/com.example.android_http D/Logger: Recive data 6C:70:3C:0A:99:43\n2022-04-02 10:22:57.217 20521-20521/com.example.android_http D/AndroidRuntime: Shutting down VM\n2022-04-02 10:22:57.220 20521-20521/com.example.android_http E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.android_http, PID: 20521\n    Theme: themes:{}\n    java.lang.RuntimeException: Error receiving broadcast Intent { act=android.bluetooth.device.action.FOUND flg=0x10 (has extras) } in com.example.android_http.MainActivity$3@6febfe0\n        at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:892)\n        at android.os.Handler.handleCallback(Handler.java:739)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:148)\n        at android.app.ActivityThread.main(ActivityThread.java:5456)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n     Caused by: android.os.NetworkOnMainThreadException\n        at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1273)\n        at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:110)\n        at libcore.io.IoBridge.connectErrno(IoBridge.java:154)\n        at libcore.io.IoBridge.connect(IoBridge.java:122)\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:183)\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:452)\n        at java.net.Socket.connect(Socket.java:884)\n        at okhttp3.internal.platform.AndroidPlatform.connectSocket(AndroidPlatform.kt:63)\n        at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)\n        at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)\n        at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\n        at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\n        at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n        at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\n        at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)\n        at com.example.android_http.postActivity.post(postActivity.java:22)\n        at com.example.android_http.MainActivity$3.onReceive(MainActivity.java:118)\n        at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:882)\n        at android.os.Handler.handleCallback(Handler.java:739) \n        at android.os.Handler.dispatchMessage(Handler.java:95) \n        at android.os.Looper.loop(Looper.java:148) \n        at android.app.ActivityThread.main(ActivityThread.java:5456) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \n</code></pre>\n<p>I'm sure it's OkHttp that crashes the app. Because before using OkHttp the app was fine.</p>\n<p>This is my mainActivity.java</p>\n<pre><code>package com.example.android_http;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport java.io.IOException;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button btnTurn;\n    private boolean state = false;\n    private BluetoothAdapter bluetoothAdapter;\n    public static final int REQUEST_ACCESS_COARSE_LOCATION = 1;\n    public String data;\n    postActivity ClientHttp = new postActivity();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnTurn = findViewById(R.id.btnTurn);\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        final Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                stateCheck();\n                Log.d(&quot;Logger&quot;, &quot;State Check&quot;);\n                handler.postDelayed(this, 1000);\n            }\n        }, 1000);\n\n        btnTurn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(!state){\n                    btnTurn.setText(&quot;Turn Off&quot;);\n                    state = true;\n                }else{\n                    btnTurn.setText(&quot;Turn On&quot;);\n                    state = false;\n                }\n            }\n        });\n    }\n\n    public void stateCheck(){\n        if (state){\n            if (bluetoothAdapter!=null &amp; bluetoothAdapter.isEnabled()) {\n                if(checkCoarsePermission()){\n                    Log.d(&quot;Logger&quot;, &quot;Discover&quot;);\n                    bluetoothAdapter.startDiscovery();\n                }\n            }\n        }\n    }\n\n    private boolean checkCoarsePermission(){\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION},\n                    REQUEST_ACCESS_COARSE_LOCATION);\n            return false;\n        }else {\n            return true;\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\n        registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_STARTED));\n        registerReceiver(devicesFoundReceiver, new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED));\n\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        unregisterReceiver(devicesFoundReceiver);\n    }\n\n    private final BroadcastReceiver devicesFoundReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action= intent.getAction();\n\n            if(BluetoothDevice.ACTION_FOUND.equals(action)){\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                int  rssi = intent.getShortExtra(BluetoothDevice.EXTRA_RSSI,Short.MIN_VALUE);\n                String RSSI = String.valueOf(rssi);\n                Toast.makeText(context.getApplicationContext(),&quot;rssi &quot;+RSSI+&quot; &quot;+device.getAddress(),Toast.LENGTH_SHORT).show();\n                Log.d(&quot;Logger&quot;, &quot;Recive data &quot;+device.getAddress());\n                data = &quot;RSSI: &quot;+RSSI+&quot; MAC: &quot;+device.getAddress();\n                String data_json = &quot;{'rssi':'&quot;+RSSI+&quot;','MAC':'&quot;+device.getAddress()+&quot;'&quot;;\n                try{\n                    String response = ClientHttp.post(&quot;http://192.168.6.56:3000/clicked&quot;,data_json);\n                    Log.d(&quot;Logger&quot;,response);\n                }catch (IOException e){\n                    Log.e(&quot;Logger&quot;,&quot;Error Function to send&quot;);\n                }\n\n//                try{\n//                    //GetText(mUrl,data);\n//                }catch (IOException e){\n//                    Log.e(&quot;Logger&quot;,&quot;Error Function to send&quot;);\n//                }\n\n            }else if(BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)){\n            }else if(BluetoothAdapter.ACTION_DISCOVERY_STARTED.equals(action)){\n            }\n        }\n    };\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        switch (requestCode){\n            case REQUEST_ACCESS_COARSE_LOCATION:\n                if(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                    Toast.makeText(this,&quot;ALLOWED&quot;, Toast.LENGTH_SHORT).show();\n                }else {\n                    Toast.makeText(this,&quot;Forbidden&quot;,Toast.LENGTH_SHORT).show();\n                } break;\n        }\n    }\n\n}\n</code></pre>\n<p>This is my postActivity.java</p>\n<pre><code>package com.example.android_http;\n\nimport java.io.IOException;\n\nimport okhttp3.MediaType;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.RequestBody;\nimport okhttp3.Response;\n\npublic class postActivity {\n    public static final MediaType JSON = MediaType.get(&quot;application/json; charset=utf-8&quot;);\n\n    final OkHttpClient client = new OkHttpClient();\n\n    String post(String url, String json) throws IOException {\n        RequestBody body = RequestBody.create(json, JSON);\n        Request request = new Request.Builder()\n                .url(url)\n                .post(body)\n                .build();\n        try (Response response = client.newCall(request).execute()) {\n            return response.body().string();\n        }\n    }\n}\n</code></pre>\n<p>My gradle</p>\n<pre><code>dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.9.3&quot;)\n    implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\n}\n</code></pre>\n<p>For a clearer explanation, I did programming using JAVA in Android Studio with API for Android 6.0.</p>\n<p>My question is simple, how to fix this problem? and why it crashes? PLEASE DON'T CLOSED MY QUESTIONS!!! I AM JUST A BEGINNER!!! This problem does not exist in other posts and I have tried to implement another post with my origin code. But STILL FAIL.</p>\n<p>Thanks.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":984187,"reputation":30761,"user_id":1003123,"accept_rate":62,"display_name":"enrico.bacis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1409390879,"creation_date":1409390879,"answer_id":25580923,"question_id":25580869,"body_markdown":"With this regex you get two groups where the first is the second-last directory and the second the last directory:\r\n\r\n    \\\\([^\\\\]+)\\\\([^\\\\]+)\\\\$\r\n\r\nYou can test it [here][1].\r\n\r\n\r\n  [1]: http://regex101.com/r/dD9bB4/1","title":"How to get last two directories from a path using regexp?","body":"<p>With this regex you get two groups where the first is the second-last directory and the second the last directory:</p>\n\n<pre><code>\\\\([^\\\\]+)\\\\([^\\\\]+)\\\\$\n</code></pre>\n\n<p>You can test it <a href=\"http://regex101.com/r/dD9bB4/1\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3223582,"reputation":164,"user_id":2720405,"display_name":"Chhaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490870207,"creation_date":1490870207,"answer_id":43115381,"question_id":25580869,"body_markdown":"    path = &quot;C:\\input\\rsgc\\statements_and_inserts\\Australia\\&quot;;\r\n    path = path.substring(0,path.length()-1);\r\n    String filename = path.substring(path.lastIndexOf(&quot;\\&quot;) + 1);\r\n    String subPath = path.replace(&quot;\\&quot; + filename, &quot;&quot;);\r\n    String lastTwoDir = path.substring(subPath.lastIndexOf(&quot;\\&quot;) + 1);","title":"How to get last two directories from a path using regexp?","body":"<pre><code>path = \"C:\\input\\rsgc\\statements_and_inserts\\Australia\\\";\npath = path.substring(0,path.length()-1);\nString filename = path.substring(path.lastIndexOf(\"\\\") + 1);\nString subPath = path.replace(\"\\\" + filename, \"\");\nString lastTwoDir = path.substring(subPath.lastIndexOf(\"\\\") + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18485473,"reputation":11,"user_id":13603594,"display_name":"justpeanuts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657002530,"creation_date":1656936895,"answer_id":72856585,"question_id":25580869,"body_markdown":"Another way is to use the following regex:\r\n\r\n    (.+?)((?:(?:(?!\\/).)+?\\/){0,2}(?:(?!\\/).)+?$)\r\nThe second capturing group will give the required result.\r\nThis presents the advantage that one can get the other part of the path (the first capturing group ) as well if needed.\r\nAnother advantage is that this also matches directories even if it contains fewer than 2 sub-directories.\r\nFor Windows, change forward slashes to backward slashes and appropriate changes to include drive letters.\r\nYou can test this here : https://regex101.com/r/WiXZkP/1\r\n","title":"How to get last two directories from a path using regexp?","body":"<p>Another way is to use the following regex:</p>\n<pre><code>(.+?)((?:(?:(?!\\/).)+?\\/){0,2}(?:(?!\\/).)+?$)\n</code></pre>\n<p>The second capturing group will give the required result.\nThis presents the advantage that one can get the other part of the path (the first capturing group ) as well if needed.\nAnother advantage is that this also matches directories even if it contains fewer than 2 sub-directories.\nFor Windows, change forward slashes to backward slashes and appropriate changes to include drive letters.\nYou can test this here : <a href=\"https://regex101.com/r/WiXZkP/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/WiXZkP/1</a></p>\n"}],"owner":{"account_id":91131,"reputation":13923,"user_id":250422,"accept_rate":91,"display_name":"Radek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1926,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25580923,"answer_count":3,"score":3,"last_activity_date":1657002530,"creation_date":1409390416,"question_id":25580869,"body_markdown":"I have a path `C:\\input\\rsgc\\statements_and_inserts\\Australia\\` and I want to get the last two directories using regular expression in java. It can be done in few steps. I do not know how many directories are in the path but I always want the last two.\r\n\r\nCan this be done in reg exp or I need to use programming language?","title":"How to get last two directories from a path using regexp?","body":"<p>I have a path <code>C:\\input\\rsgc\\statements_and_inserts\\Australia\\</code> and I want to get the last two directories using regular expression in java. It can be done in few steps. I do not know how many directories are in the path but I always want the last two.</p>\n\n<p>Can this be done in reg exp or I need to use programming language?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":22796783,"reputation":127,"user_id":16950216,"display_name":"Siddharth Bhattacharjee"},"score":0,"creation_date":1642444375,"post_id":70745853,"comment_id":125067420,"body_markdown":"You can check the official documentation, that will most likely be helpful : https://firebase.google.com/docs/database/android/read-and-write","body":"You can check the official documentation, that will most likely be helpful : <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/read-and-write</a>"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1642447686,"post_id":70745853,"comment_id":125068393,"body_markdown":"There is a lot that could be going wrong here, so I recommend setting breakpoints on each important line, running the code in the debugger, and checking whether all variables on that line have the value you expect. If not, which is the first line that doesn&#39;t, and what value is different from what you expected? --- Also: don&#39;t ignore errors. At its minimum, `onCancelled` should be: `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`.","body":"There is a lot that could be going wrong here, so I recommend setting breakpoints on each important line, running the code in the debugger, and checking whether all variables on that line have the value you expect. If not, which is the first line that doesn&#39;t, and what value is different from what you expected? --- Also: don&#39;t ignore errors. At its minimum, <code>onCancelled</code> should be: <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":20561769,"reputation":454,"user_id":15092122,"display_name":"Saurav Rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642450408,"creation_date":1642450408,"answer_id":70746996,"question_id":70745853,"body_markdown":"Also check the firebase rules, read and write are set to true as per your requirements\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bhf7Z.png","title":"How to insert data in the firebase","body":"<p>Also check the firebase rules, read and write are set to true as per your requirements\n<a href=\"https://i.stack.imgur.com/bhf7Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bhf7Z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25722554,"reputation":1,"user_id":19479375,"display_name":"user19479375"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657002390,"creation_date":1656936821,"answer_id":72856574,"question_id":70745853,"body_markdown":"so first of all you can create a modal class for all the children (example - doctor, time, status )\r\n\r\n```java\r\npackage com.example.chatapp;\r\n\r\npublic class UserModel {\r\n\r\n    String name;\r\n    String phone;\r\n    String about;\r\n    String url;\r\n\r\n\r\n\r\n    String uid;\r\n\r\n    public UserModel(){\r\n\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n\r\n    public void setPhone(String phone) {\r\n        this.phone = phone;\r\n    }\r\n\r\n    public String getAbout() {\r\n        return about;\r\n    }\r\n\r\n    public void setAbout(String about) {\r\n        this.about = about;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        this.uid = uid;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nthen declare this modal class\r\n\r\n```java\r\nUsermodal modal = new Modal class\r\n```\r\n\r\nthen insert data like \r\n\r\n```java\r\nmodal.setname(yourdata);\r\n```\r\n\r\nthen write \r\n\r\n```java\r\ndatabaseref.child(key).setvalue(modal);\r\n```\r\n\r\nyou can refer to [this link][1] for more.\r\n\r\n\r\n  [1]: https://youtu.be/td1jX_zDi5s","title":"How to insert data in the firebase","body":"<p>so first of all you can create a modal class for all the children (example - doctor, time, status )</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.chatapp;\n\npublic class UserModel {\n\n    String name;\n    String phone;\n    String about;\n    String url;\n\n\n\n    String uid;\n\n    public UserModel(){\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    public String getAbout() {\n        return about;\n    }\n\n    public void setAbout(String about) {\n        this.about = about;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public String getUid() {\n        return uid;\n    }\n\n    public void setUid(String uid) {\n        this.uid = uid;\n    }\n\n\n}\n</code></pre>\n<p>then declare this modal class</p>\n<pre class=\"lang-java prettyprint-override\"><code>Usermodal modal = new Modal class\n</code></pre>\n<p>then insert data like</p>\n<pre class=\"lang-java prettyprint-override\"><code>modal.setname(yourdata);\n</code></pre>\n<p>then write</p>\n<pre class=\"lang-java prettyprint-override\"><code>databaseref.child(key).setvalue(modal);\n</code></pre>\n<p>you can refer to <a href=\"https://youtu.be/td1jX_zDi5s\" rel=\"nofollow noreferrer\">this link</a> for more.</p>\n"}],"owner":{"account_id":21015294,"reputation":320,"user_id":15820076,"display_name":"Gavin Teo Juen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657002390,"creation_date":1642443584,"question_id":70745853,"body_markdown":"So i have problem regarding adding the appointment details in my firebase android studio. I want the user to store their appointment details in appointment database and I also want to check if the user has booked the date and day. However , after the user has pressed the  confirm button, it doesnt store the appointment details in the firebase and it also doesnt prompt the dialog message to the user indicating that their appointment has been registered successfully? Is there any way to solve this problem ? The code is shown as below :\r\n\r\n    private void addAppointment() {\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference();\r\n\r\n            HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n            hashMap.put(&quot;idPatient&quot;, FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n            hashMap.put(&quot;idDoctor&quot;, idDoctor);\r\n            hashMap.put(&quot;time&quot;, time.getText().toString());\r\n            hashMap.put(&quot;date&quot;, day.getText().toString());\r\n            hashMap.put(&quot;status&quot;, &quot;On hold&quot;);\r\n\r\n\r\n        DatabaseReference reference1 = FirebaseDatabase.getInstance().getReference(&quot;Appointment&quot;);\r\n        reference1.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot data : snapshot.getChildren()) {\r\n                    Appointment relationship = data.getValue(Appointment.class);\r\n                    if (relationship.getTime().equals(time.getText().toString()) &amp;&amp; relationship.getDate().equals(day.getText().toString()) &amp;&amp; relationship.getIdDoctor().equals(idDoctor)) {\r\n                        new SweetAlertDialog(BookAppointmentActivity.this, SweetAlertDialog.ERROR_TYPE)\r\n                                .setTitleText(&quot;Oops...&quot;)\r\n                                .setContentText(&quot;The date and time has been booked&quot;)\r\n                                .show();\r\n\r\n                    }else if(snapshot.exists()){\r\n                        reference.child(&quot;Appointment&quot;).push().setValue(hashMap);\r\n                        new SweetAlertDialog(BookAppointmentActivity.this, SweetAlertDialog.SUCCESS_TYPE)\r\n                                .setTitleText(&quot;Congratulations&quot;)\r\n                                .setContentText(&quot;Your appointment is registered successfully&quot;)\r\n                                .setConfirmClickListener(new SweetAlertDialog.OnSweetClickListener() {\r\n                                    @Override\r\n                                    public void onClick(SweetAlertDialog sweetAlertDialog) {\r\n                                        Intent intent = new Intent(BookAppointmentActivity.this, MainActivity.class);\r\n                                        startActivity(intent);\r\n                                    }\r\n                                })\r\n                                .show();\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n","title":"How to insert data in the firebase","body":"<p>So i have problem regarding adding the appointment details in my firebase android studio. I want the user to store their appointment details in appointment database and I also want to check if the user has booked the date and day. However , after the user has pressed the  confirm button, it doesnt store the appointment details in the firebase and it also doesnt prompt the dialog message to the user indicating that their appointment has been registered successfully? Is there any way to solve this problem ? The code is shown as below :</p>\n<pre><code>private void addAppointment() {\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference();\n\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(&quot;idPatient&quot;, FirebaseAuth.getInstance().getCurrentUser().getUid());\n        hashMap.put(&quot;idDoctor&quot;, idDoctor);\n        hashMap.put(&quot;time&quot;, time.getText().toString());\n        hashMap.put(&quot;date&quot;, day.getText().toString());\n        hashMap.put(&quot;status&quot;, &quot;On hold&quot;);\n\n\n    DatabaseReference reference1 = FirebaseDatabase.getInstance().getReference(&quot;Appointment&quot;);\n    reference1.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot data : snapshot.getChildren()) {\n                Appointment relationship = data.getValue(Appointment.class);\n                if (relationship.getTime().equals(time.getText().toString()) &amp;&amp; relationship.getDate().equals(day.getText().toString()) &amp;&amp; relationship.getIdDoctor().equals(idDoctor)) {\n                    new SweetAlertDialog(BookAppointmentActivity.this, SweetAlertDialog.ERROR_TYPE)\n                            .setTitleText(&quot;Oops...&quot;)\n                            .setContentText(&quot;The date and time has been booked&quot;)\n                            .show();\n\n                }else if(snapshot.exists()){\n                    reference.child(&quot;Appointment&quot;).push().setValue(hashMap);\n                    new SweetAlertDialog(BookAppointmentActivity.this, SweetAlertDialog.SUCCESS_TYPE)\n                            .setTitleText(&quot;Congratulations&quot;)\n                            .setContentText(&quot;Your appointment is registered successfully&quot;)\n                            .setConfirmClickListener(new SweetAlertDialog.OnSweetClickListener() {\n                                @Override\n                                public void onClick(SweetAlertDialog sweetAlertDialog) {\n                                    Intent intent = new Intent(BookAppointmentActivity.this, MainActivity.class);\n                                    startActivity(intent);\n                                }\n                            })\n                            .show();\n                }\n\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","maven","javafx","module","modular"],"comments":[{"owner":{"account_id":5004585,"reputation":198,"user_id":4022609,"display_name":"sudo"},"score":0,"creation_date":1656940594,"post_id":72857227,"comment_id":128686359,"body_markdown":"Matteo, thank you for your quick response. However, I can already build the fat jar, but not including the modules. My maven setup can already now generate the (non-modular) fat jar, but not the jar including the javafx modules...","body":"Matteo, thank you for your quick response. However, I can already build the fat jar, but not including the modules. My maven setup can already now generate the (non-modular) fat jar, but not the jar including the javafx modules..."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1656941433,"post_id":72857227,"comment_id":128686668,"body_markdown":"Fat jars for JavaFX are not well supported. Read the chapter on Packaging here: https://stackoverflow.com/tags/javafx/info","body":"Fat jars for JavaFX are not well supported. Read the chapter on Packaging here: <a href=\"https://stackoverflow.com/tags/javafx/info\">stackoverflow.com/tags/javafx/info</a>"},{"owner":{"account_id":5004585,"reputation":198,"user_id":4022609,"display_name":"sudo"},"score":0,"creation_date":1656941858,"post_id":72857227,"comment_id":128686835,"body_markdown":"I read your link, and more specifically the link in it : https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\nNow I already encapsulate the JavaFX main class in some other main class (that itself doesn&#39;t extend JavaFX&#39;s Application). I don&#39;t want to cross-compile for another platform either. I think there should be possibilities with jlink and jpackage, but I&#39;d like to know how to use these. Besides that, I think building a non-modular app with any other module besides JavaFX would have to be generated in a comparable way... ?","body":"I read your link, and more specifically the link in it : <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\" title=\"maven shade javafx runtime components are missing\">stackoverflow.com/questions/52653836/&hellip;</a> Now I already encapsulate the JavaFX main class in some other main class (that itself doesn&#39;t extend JavaFX&#39;s Application). I don&#39;t want to cross-compile for another platform either. I think there should be possibilities with jlink and jpackage, but I&#39;d like to know how to use these. Besides that, I think building a non-modular app with any other module besides JavaFX would have to be generated in a comparable way... ?"},{"owner":{"account_id":5004585,"reputation":198,"user_id":4022609,"display_name":"sudo"},"score":0,"creation_date":1656943005,"post_id":72857227,"comment_id":128687288,"body_markdown":"Noteworthy : running &quot;mvn clean javafx:jlink&quot; produces the error\n\nRequired filename-based automodules detected. Please don&#39;t publish this project to a public artifact repository!\nError: automatic module cannot be used with jlink: &lt;yet-another-third-party-non-modular-module-name&gt;","body":"Noteworthy : running &quot;mvn clean javafx:jlink&quot; produces the error  Required filename-based automodules detected. Please don&#39;t publish this project to a public artifact repository! Error: automatic module cannot be used with jlink: &lt;yet-another-third-party-non-modular-module-name&gt;"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":2,"creation_date":1656948533,"post_id":72857227,"comment_id":128689266,"body_markdown":"For a non-modular setup you might want to read this: https://github.com/dlemmermann/JPackageScriptFX","body":"For a non-modular setup you might want to read this: <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">github.com/dlemmermann/JPackageScriptFX</a>"},{"owner":{"account_id":5004585,"reputation":198,"user_id":4022609,"display_name":"sudo"},"score":0,"creation_date":1656959859,"post_id":72857227,"comment_id":128692338,"body_markdown":"@mipa : thank you, I&#39;m reading this, and I&#39;ll try to carefully understand what is said there, and how this all works together. One question immediately pops into my limited-modular-build-knowledgeable brain, however, especially as you mention it can be used specifically with non-modular projects : won&#39;t I receive the jlink error I mentioned above, for my automatic modules (unless, of course, jlink&#39;s script-provided arguments are taking care of that error) ? Maybe too early to ask this before trying this out in detail ...","body":"@mipa : thank you, I&#39;m reading this, and I&#39;ll try to carefully understand what is said there, and how this all works together. One question immediately pops into my limited-modular-build-knowledgeable brain, however, especially as you mention it can be used specifically with non-modular projects : won&#39;t I receive the jlink error I mentioned above, for my automatic modules (unless, of course, jlink&#39;s script-provided arguments are taking care of that error) ? Maybe too early to ask this before trying this out in detail ..."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1656991704,"post_id":72857227,"comment_id":128697483,"body_markdown":"The `jlink` tool can only work with _non-automatic_ modules (i.e., those modules which have an explicit `module-info` descriptor). But if you combine this with `jpackage`, then you can still work with non-modular applications. Use `jlink` to build a custom run-time image containing all non-automatic modules (including JavaFX), and then have `jpackage` place everything else on the class-path. Note you don&#39;t necessarily have to invoke `jlink` and `jpackage` separately; the latter will use the former behind the scenes if needed.","body":"The <code>jlink</code> tool can only work with <i>non-automatic</i> modules (i.e., those modules which have an explicit <code>module-info</code> descriptor). But if you combine this with <code>jpackage</code>, then you can still work with non-modular applications. Use <code>jlink</code> to build a custom run-time image containing all non-automatic modules (including JavaFX), and then have <code>jpackage</code> place everything else on the class-path. Note you don&#39;t necessarily have to invoke <code>jlink</code> and <code>jpackage</code> separately; the latter will use the former behind the scenes if needed."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1656992376,"post_id":72857227,"comment_id":128697560,"body_markdown":"Note applications packaged with `jlink` (+ `jpackage`) are platform-dependent. For JavaFX applications, the `jlink` tool [works best with the JMOD files](https://stackoverflow.com/questions/61294243/running-javafx-application-after-jpackage/61294909#61294909), which you can only get from Gluon, though it will work with the Maven Central JAR files. If you truly want a platform-independent executable JAR file, without including any native code from JavaFX, then you would need to do something like require your users to have a Java run-time installed that includes JavaFX.","body":"Note applications packaged with <code>jlink</code> (+ <code>jpackage</code>) are platform-dependent. For JavaFX applications, the <code>jlink</code> tool <a href=\"https://stackoverflow.com/questions/61294243/running-javafx-application-after-jpackage/61294909#61294909\">works best with the JMOD files</a>, which you can only get from Gluon, though it will work with the Maven Central JAR files. If you truly want a platform-independent executable JAR file, without including any native code from JavaFX, then you would need to do something like require your users to have a Java run-time installed that includes JavaFX."}],"owner":{"account_id":5004585,"reputation":198,"user_id":4022609,"display_name":"sudo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1656999794,"answer_count":0,"score":1,"last_activity_date":1657001769,"creation_date":1656939832,"question_id":72857227,"body_markdown":"I have a (non-modular) JavaFX application that runs well from the command line, as I give to the command line the arguments --module-path and --add-modules to include the javafx modules (in my case, I use \r\n```\r\n--module-path /home/user/libs/javafx_libs --add-modules javafx.controls,javafx.fxml,javafx.web\r\n```\r\n\r\nThis works fine, because I know where I had manually installed my javafx files (i.e. in /home/user/libs/javafx_libs).\r\n\r\nHowever, I now want to build it, **but** \r\n 1. *not* using some manual extraction directory location, but using maven dependencies, **and**\r\n 2. in one single application jarfile without any platform-specific dependencies.\r\n\r\nSo my maven dependencies look like :\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    &lt;version&gt;${version.javafx}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    &lt;version&gt;${version.javafx}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n    &lt;version&gt;${version.javafx}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAs far as I understand, I have to make my complete application modular, which is (another) new thing to me, but the first basic steps have been completed (added a module-info.java file, and added it&#39;s &quot;requires&quot;- statements). I want to build this application so that I can start it without these module paths and module additions.\r\n\r\nMy questions are:\r\n\r\n 1. Where can I then find the location of Maven&#39;s repository&#39;s JavaFX files,\r\n 2. How can I build this in one single jar file, and\r\n 3. How is such a build done in Maven? That is, which plugins do I need to build it this way, and how do I configure these plugins in Maven?\r\n\r\nI may also be helped by getting a link to some good book (or to some other publication) where this is explained.\r\n\r\n","title":"How to build a single jar-file including all needed JavaFX modules","body":"<p>I have a (non-modular) JavaFX application that runs well from the command line, as I give to the command line the arguments --module-path and --add-modules to include the javafx modules (in my case, I use</p>\n<pre><code>--module-path /home/user/libs/javafx_libs --add-modules javafx.controls,javafx.fxml,javafx.web\n</code></pre>\n<p>This works fine, because I know where I had manually installed my javafx files (i.e. in /home/user/libs/javafx_libs).</p>\n<p>However, I now want to build it, <strong>but</strong></p>\n<ol>\n<li><em>not</em> using some manual extraction directory location, but using maven dependencies, <strong>and</strong></li>\n<li>in one single application jarfile without any platform-specific dependencies.</li>\n</ol>\n<p>So my maven dependencies look like :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;${version.javafx}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;${version.javafx}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n    &lt;version&gt;${version.javafx}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As far as I understand, I have to make my complete application modular, which is (another) new thing to me, but the first basic steps have been completed (added a module-info.java file, and added it's &quot;requires&quot;- statements). I want to build this application so that I can start it without these module paths and module additions.</p>\n<p>My questions are:</p>\n<ol>\n<li>Where can I then find the location of Maven's repository's JavaFX files,</li>\n<li>How can I build this in one single jar file, and</li>\n<li>How is such a build done in Maven? That is, which plugins do I need to build it this way, and how do I configure these plugins in Maven?</li>\n</ol>\n<p>I may also be helped by getting a link to some good book (or to some other publication) where this is explained.</p>\n"},{"tags":["java","hashmap","java-stream"],"comments":[{"owner":{"account_id":2382724,"reputation":95,"user_id":2084408,"accept_rate":0,"display_name":"coco"},"score":0,"creation_date":1656915680,"post_id":72852419,"comment_id":128678156,"body_markdown":"The values should be 1 &lt;- key\nValues: 1\nValues: 2\nValues: 3\n2 &lt;- key\nValues: 4\nValues: 5\nValues: 6\nValues: 7","body":"The values should be 1 &lt;- key Values: 1 Values: 2 Values: 3 2 &lt;- key Values: 4 Values: 5 Values: 6 Values: 7"},{"owner":{"account_id":23749311,"reputation":1200,"user_id":17766295,"display_name":"Nabil"},"score":0,"creation_date":1656915905,"post_id":72852419,"comment_id":128678214,"body_markdown":"Can you  provide us what did you get ?","body":"Can you  provide us what did you get ?"},{"owner":{"account_id":2382724,"reputation":95,"user_id":2084408,"accept_rate":0,"display_name":"coco"},"score":0,"creation_date":1656916696,"post_id":72852419,"comment_id":128678412,"body_markdown":"The values are 1 &lt;- key\nValues: 1\nValues: 1\nValues: 1\n2 &lt;- key\nValues: 2\nValues: 2\nValues: 2\nValues: 2 it means the List of values are the values of the m map.","body":"The values are 1 &lt;- key Values: 1 Values: 1 Values: 1 2 &lt;- key Values: 2 Values: 2 Values: 2 Values: 2 it means the List of values are the values of the m map."},{"owner":{"account_id":2382724,"reputation":95,"user_id":2084408,"accept_rate":0,"display_name":"coco"},"score":0,"creation_date":1656916879,"post_id":72852419,"comment_id":128678458,"body_markdown":"Yes it is about the inverting key values pair grouped by values","body":"Yes it is about the inverting key values pair grouped by values"}],"answers":[{"tags":[],"owner":{"account_id":4125279,"reputation":145,"user_id":3384604,"display_name":"Shubham Pathak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656916949,"creation_date":1656916949,"answer_id":72852674,"question_id":72852419,"body_markdown":"     Map&lt;Integer, List&lt;Integer&gt;&gt; personByAge \r\n\t\t                = m.entrySet()\r\n\t\t                  .stream()\r\n\t\t                  .collect(Collectors.groupingBy(\r\n                          Map.Entry::getValue,\r\n\t\t                 Collectors.mapping(\r\n                         Map.Entry::getKey,\r\n                         Collectors.toList())));","title":"Inverting Map&lt;Integer, Integer&gt; into a Map&lt;key, list&lt;Integer&gt;&gt; using Streams","body":"<pre><code> Map&lt;Integer, List&lt;Integer&gt;&gt; personByAge \n                    = m.entrySet()\n                      .stream()\n                      .collect(Collectors.groupingBy(\n                      Map.Entry::getValue,\n                     Collectors.mapping(\n                     Map.Entry::getKey,\n                     Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656917030,"creation_date":1656917030,"answer_id":72852689,"question_id":72852419,"body_markdown":"&gt; it is about the inverting key values pair grouped by values\r\n\r\nIf you want to invert the Map as you&#39;ve said in the comments, you need to create a stream over the entries of the source map, not over the values:\r\n\r\n```\r\nMap&lt;Integer, List&lt;Integer&gt;&gt; personByAge = m.entrySet()\r\n    .stream()\r\n    .collect(Collectors.groupingBy(\r\n        Map.Entry::getValue,\r\n        Collectors.mapping(Map.Entry::getKey,\r\n            Collectors.toList())));\r\n        \r\npersonByAge.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\n*Output:*\r\n```\r\n1 -&gt; [1, 2, 3]\r\n2 -&gt; [4, 5, 6, 7]\r\n```","title":"Inverting Map&lt;Integer, Integer&gt; into a Map&lt;key, list&lt;Integer&gt;&gt; using Streams","body":"<blockquote>\n<p>it is about the inverting key values pair grouped by values</p>\n</blockquote>\n<p>If you want to invert the Map as you've said in the comments, you need to create a stream over the entries of the source map, not over the values:</p>\n<pre><code>Map&lt;Integer, List&lt;Integer&gt;&gt; personByAge = m.entrySet()\n    .stream()\n    .collect(Collectors.groupingBy(\n        Map.Entry::getValue,\n        Collectors.mapping(Map.Entry::getKey,\n            Collectors.toList())));\n        \npersonByAge.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1 -&gt; [1, 2, 3]\n2 -&gt; [4, 5, 6, 7]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657001724,"creation_date":1656918494,"answer_id":72852914,"question_id":72852419,"body_markdown":"The following will work using `forEach` and `computeIfAbsent`:\r\n\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; personByAge = new HashMap&lt;&gt;();\r\n    m.forEach((k, v) -&gt; personByAge.computeIfAbsent(v, ArrayList::new).add(k));\r\n\r\nIt would probably be better to use a `Set` for the multiple type as there will be no guarantee of order when iterating over the `Map`, and the keys are already unique. \r\n\r\nThis is essentially implementing the equivalent of `flip` which is included in [Eclipse Collections][1] on `MutableMap`. The difference is that `flip` returns a `MutableSetMultimap`. The following is an example using `flip`. \r\n\r\n    MutableMap&lt;Integer, Integer&gt; m = Maps.mutable.empty();\r\n    m.put(1, 1);\r\n    m.put(2, 1);\r\n    m.put(3, 1);\r\n    m.put(4, 2);\r\n    m.put(5, 2);\r\n    m.put(6, 2);\r\n    m.put(7, 2);\r\n    MutableSetMultimap&lt;Integer, Integer&gt; personByAge = m.flip();\r\n    System.out.println(personByAge);\r\n\r\nOutput:\r\n\r\n    {1=[1, 2, 3], 2=[4, 5, 6, 7]}\r\n\r\nBecause `flip` returns a `SetMultimap`, it is easier to write test assertions because order won&#39;t matter on the multi value. For example. the following test can be written for this example.\r\n\r\n    SetMultimap&lt;Integer, Integer&gt; personByAge = m.flip();\r\n\r\n    SetMultimap&lt;Integer, Integer&gt; expected =\r\n        Multimaps.mutable.set.&lt;Integer, Integer&gt;empty()\r\n            .withKeyMultiValues(1, 3, 2, 1)\r\n            .withKeyMultiValues(2, 7, 5, 6, 4);\r\n    Assertions.assertEquals(expected, personByAge);\r\n\r\nIf your source is a JDK `HashMap`, and you want to use Streams, the following will implement the equivalent of `flip` using `Collectors2` from Eclipse Collections.\r\n\r\n    SetMultimap&lt;Integer, Integer&gt; personByAge = m.entrySet().stream()\r\n        .collect(Collectors2.toSetMultimap(Map.Entry::getValue, Map.Entry::getKey));\r\n\r\n    SetMultimap&lt;Integer, Integer&gt; expected =\r\n        Multimaps.mutable.set.&lt;Integer, Integer&gt;empty()\r\n            .withKeyMultiValues(1, 3, 2, 1)\r\n            .withKeyMultiValues(2, 7, 5, 6, 4);\r\n    Assertions.assertEquals(expected, personByAge);\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n\r\n\r\n","title":"Inverting Map&lt;Integer, Integer&gt; into a Map&lt;key, list&lt;Integer&gt;&gt; using Streams","body":"<p>The following will work using <code>forEach</code> and <code>computeIfAbsent</code>:</p>\n<pre><code>Map&lt;Integer, List&lt;Integer&gt;&gt; personByAge = new HashMap&lt;&gt;();\nm.forEach((k, v) -&gt; personByAge.computeIfAbsent(v, ArrayList::new).add(k));\n</code></pre>\n<p>It would probably be better to use a <code>Set</code> for the multiple type as there will be no guarantee of order when iterating over the <code>Map</code>, and the keys are already unique.</p>\n<p>This is essentially implementing the equivalent of <code>flip</code> which is included in <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> on <code>MutableMap</code>. The difference is that <code>flip</code> returns a <code>MutableSetMultimap</code>. The following is an example using <code>flip</code>.</p>\n<pre><code>MutableMap&lt;Integer, Integer&gt; m = Maps.mutable.empty();\nm.put(1, 1);\nm.put(2, 1);\nm.put(3, 1);\nm.put(4, 2);\nm.put(5, 2);\nm.put(6, 2);\nm.put(7, 2);\nMutableSetMultimap&lt;Integer, Integer&gt; personByAge = m.flip();\nSystem.out.println(personByAge);\n</code></pre>\n<p>Output:</p>\n<pre><code>{1=[1, 2, 3], 2=[4, 5, 6, 7]}\n</code></pre>\n<p>Because <code>flip</code> returns a <code>SetMultimap</code>, it is easier to write test assertions because order won't matter on the multi value. For example. the following test can be written for this example.</p>\n<pre><code>SetMultimap&lt;Integer, Integer&gt; personByAge = m.flip();\n\nSetMultimap&lt;Integer, Integer&gt; expected =\n    Multimaps.mutable.set.&lt;Integer, Integer&gt;empty()\n        .withKeyMultiValues(1, 3, 2, 1)\n        .withKeyMultiValues(2, 7, 5, 6, 4);\nAssertions.assertEquals(expected, personByAge);\n</code></pre>\n<p>If your source is a JDK <code>HashMap</code>, and you want to use Streams, the following will implement the equivalent of <code>flip</code> using <code>Collectors2</code> from Eclipse Collections.</p>\n<pre><code>SetMultimap&lt;Integer, Integer&gt; personByAge = m.entrySet().stream()\n    .collect(Collectors2.toSetMultimap(Map.Entry::getValue, Map.Entry::getKey));\n\nSetMultimap&lt;Integer, Integer&gt; expected =\n    Multimaps.mutable.set.&lt;Integer, Integer&gt;empty()\n        .withKeyMultiValues(1, 3, 2, 1)\n        .withKeyMultiValues(2, 7, 5, 6, 4);\nAssertions.assertEquals(expected, personByAge);\n</code></pre>\n<p>Note: I am a committer for Eclipse Collections.</p>\n"}],"owner":{"account_id":2382724,"reputation":95,"user_id":2084408,"accept_rate":0,"display_name":"coco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72852689,"answer_count":3,"score":0,"last_activity_date":1657001724,"creation_date":1656915302,"question_id":72852419,"body_markdown":"Is it possible to convert a Java `Map&lt;Integer, Integer&gt;` `m0` to a new  `Map&lt;Integer, List&lt;Integer&gt;&gt;` `m1`\r\nwhere in the `m1` map to have *key* as *value* of `m0` map and *value* as `List&lt;Integer&gt;` of *keys* of `m0` map?\r\n\r\nIn other words, this task it is about the inverting *key-value pairs* grouped by values.\r\n\r\nI have tried the following:\r\n\r\n   \r\n\r\n     public static void main(String[] args) {\r\n            Map&lt;Integer, Integer&gt; m = new HashMap&lt;&gt;();\r\n            m.put(1, 1);\r\n            m.put(2, 1);\r\n            m.put(3, 1);\r\n            m.put(4, 2);\r\n            m.put(5, 2);\r\n            m.put(6, 2);\r\n            m.put(7, 2);\r\n\r\n            Map&lt;Integer, List&lt;Integer&gt;&gt; personByAge \r\n                    = m.values()\r\n                    .stream()\r\n                    .collect(Collectors.groupingBy(Function.identity(), Collectors.toList()));\r\n\r\n            Iterator it = personByAge.entrySet().iterator();\r\n            while (it.hasNext()) {\r\n                Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; me = (Map.Entry)it.next();\r\n                System.out.println(me.getKey() + &quot; &lt;- key&quot; );\r\n                for (int i : me.getValue())\r\n                {\r\n                    System.out.println(&quot;Values: &quot; + i);\r\n                }\r\n            }\r\n        }\r\n\r\nBut the values in the second map are wrong.\r\n\r\nThe values should be:\r\n```\r\n1 &lt;- key Values: 1 Values: 2 Values: 3\r\n2 &lt;- key Values: 4 Values: 5 Values: 6 Values: 7\r\n```\r\nBut I&#39;m getting:\r\n```\r\n1 &lt;- key Values: 1 Values: 1 Values: 1\r\n2 &lt;- key Values: 2 Values: 2 Values: 2 Values: 2\r\n```","title":"Inverting Map&lt;Integer, Integer&gt; into a Map&lt;key, list&lt;Integer&gt;&gt; using Streams","body":"<p>Is it possible to convert a Java <code>Map&lt;Integer, Integer&gt;</code> <code>m0</code> to a new  <code>Map&lt;Integer, List&lt;Integer&gt;&gt;</code> <code>m1</code>\nwhere in the <code>m1</code> map to have <em>key</em> as <em>value</em> of <code>m0</code> map and <em>value</em> as <code>List&lt;Integer&gt;</code> of <em>keys</em> of <code>m0</code> map?</p>\n<p>In other words, this task it is about the inverting <em>key-value pairs</em> grouped by values.</p>\n<p>I have tried the following:</p>\n<pre><code> public static void main(String[] args) {\n        Map&lt;Integer, Integer&gt; m = new HashMap&lt;&gt;();\n        m.put(1, 1);\n        m.put(2, 1);\n        m.put(3, 1);\n        m.put(4, 2);\n        m.put(5, 2);\n        m.put(6, 2);\n        m.put(7, 2);\n\n        Map&lt;Integer, List&lt;Integer&gt;&gt; personByAge \n                = m.values()\n                .stream()\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.toList()));\n\n        Iterator it = personByAge.entrySet().iterator();\n        while (it.hasNext()) {\n            Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; me = (Map.Entry)it.next();\n            System.out.println(me.getKey() + &quot; &lt;- key&quot; );\n            for (int i : me.getValue())\n            {\n                System.out.println(&quot;Values: &quot; + i);\n            }\n        }\n    }\n</code></pre>\n<p>But the values in the second map are wrong.</p>\n<p>The values should be:</p>\n<pre><code>1 &lt;- key Values: 1 Values: 2 Values: 3\n2 &lt;- key Values: 4 Values: 5 Values: 6 Values: 7\n</code></pre>\n<p>But I'm getting:</p>\n<pre><code>1 &lt;- key Values: 1 Values: 1 Values: 1\n2 &lt;- key Values: 2 Values: 2 Values: 2 Values: 2\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657000813,"post_id":72864533,"comment_id":128698958,"body_markdown":"This code looks strange with all the lack of formatting, the fact that a rest endpoint is used to upload a file somewhere else (why?) and the code that apparently doesn&#39;t do anything (e.g. `File f = new File(response)`). It seems like you&#39;re just fiddling around with some tutorial so doesn&#39;t that one tell you what to do? In case it doesn&#39;t here&#39;s one that a quick search for &quot;spring resttemplate upload multipart&quot; came up with: https://www.baeldung.com/spring-rest-template-multipart-upload","body":"This code looks strange with all the lack of formatting, the fact that a rest endpoint is used to upload a file somewhere else (why?) and the code that apparently doesn&#39;t do anything (e.g. <code>File f = new File(response)</code>). It seems like you&#39;re just fiddling around with some tutorial so doesn&#39;t that one tell you what to do? In case it doesn&#39;t here&#39;s one that a quick search for &quot;spring resttemplate upload multipart&quot; came up with: <a href=\"https://www.baeldung.com/spring-rest-template-multipart-upload\" rel=\"nofollow noreferrer\">baeldung.com/spring-rest-template-multipart-upload</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657000862,"post_id":72864533,"comment_id":128698975,"body_markdown":"Btw, the error already tells you what the problem is: &quot;Unsupported Media Type&quot;. Your code doesn&#39;t seem to tell the server anywhere what it is going to send. Try adding `headers.setContentType(MediaType.MULTIPART_FORM_DATA);`.","body":"Btw, the error already tells you what the problem is: &quot;Unsupported Media Type&quot;. Your code doesn&#39;t seem to tell the server anywhere what it is going to send. Try adding <code>headers.setContentType(MediaType.MULTIPART_FORM_DATA);</code>."},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1657000895,"post_id":72864533,"comment_id":128698986,"body_markdown":"To add to @Thomas answer, also add `consumes = MediaType.MULTIPART_FORM_DATA` in your @PostMapping","body":"To add to @Thomas answer, also add <code>consumes = MediaType.MULTIPART_FORM_DATA</code> in your @PostMapping"}],"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657001027,"creation_date":1657000262,"question_id":72864533,"body_markdown":"\r\nHello I am building an app in Spring Boot and I have to upload an xml file and get a response. I keep getting 415 unsupported media type. I should get an xml response.\r\n\r\nHere is the code:\r\n\r\nController:\r\n\r\n   \r\n\r\n     @PostMapping(&quot;/&quot;)\r\n        public String postIndex(@RequestParam(&quot;fisier&quot;) MultipartFile file) throws IOException {\r\n            \r\n    String url = &quot;http://xxx/FCTEL/rest/transformare/UBL&quot;;\r\n            \r\n    \r\n           \r\n         \r\n    URI uriLink = URI.create(url);\r\n    HttpHeaders headers = new HttpHeaders();\r\n    \r\n    //headers.set(&quot;serial_certificate&quot;, serial);\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    RestCall rc = new RestCall();\r\n    rc.body = new String(file.getBytes(), StandardCharsets.UTF_8);\r\n    RequestEntity&lt;String&gt; reqEntity = new RequestEntity&lt;String&gt;(rc.body, headers, HttpMethod.POST, uriLink);\r\n    String response = restTemplate.postForObject(uriLink, reqEntity, String.class);\r\n    System.out.println(response);\r\n    File f = new File(response);\r\n        return &quot;index&quot;;\r\n        \r\n        \r\n    }\r\n\r\nThis is the error:\r\n\r\n    org.springframework.web.client.HttpClientErrorException$UnsupportedMediaType: 415 : &quot; \r\n    {&quot;timestamp&quot;:&quot;2022-07-05T05:39:01.445+00:00&quot;,&quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media \r\n    Type&quot;,&quot;path&quot;:&quot;/FCTEL/rest/transformare/UBL&quot;}&quot;\r\n\r\nThe error stack shows that the code line with the problem where it fails is: \r\n\r\n    String response = restTemplate.postForObject(uriLink, reqEntity, String.class);\r\n\r\nCan please someone tell me what I am doing wrong or give me an working example. Thanks","title":"Error uploading file as String and getting response","body":"<p>Hello I am building an app in Spring Boot and I have to upload an xml file and get a response. I keep getting 415 unsupported media type. I should get an xml response.</p>\n<p>Here is the code:</p>\n<p>Controller:</p>\n<pre><code> @PostMapping(&quot;/&quot;)\n    public String postIndex(@RequestParam(&quot;fisier&quot;) MultipartFile file) throws IOException {\n        \nString url = &quot;http://xxx/FCTEL/rest/transformare/UBL&quot;;\n        \n\n       \n     \nURI uriLink = URI.create(url);\nHttpHeaders headers = new HttpHeaders();\n\n//headers.set(&quot;serial_certificate&quot;, serial);\nRestTemplate restTemplate = new RestTemplate();\nRestCall rc = new RestCall();\nrc.body = new String(file.getBytes(), StandardCharsets.UTF_8);\nRequestEntity&lt;String&gt; reqEntity = new RequestEntity&lt;String&gt;(rc.body, headers, HttpMethod.POST, uriLink);\nString response = restTemplate.postForObject(uriLink, reqEntity, String.class);\nSystem.out.println(response);\nFile f = new File(response);\n    return &quot;index&quot;;\n    \n    \n}\n</code></pre>\n<p>This is the error:</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$UnsupportedMediaType: 415 : &quot; \n{&quot;timestamp&quot;:&quot;2022-07-05T05:39:01.445+00:00&quot;,&quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media \nType&quot;,&quot;path&quot;:&quot;/FCTEL/rest/transformare/UBL&quot;}&quot;\n</code></pre>\n<p>The error stack shows that the code line with the problem where it fails is:</p>\n<pre><code>String response = restTemplate.postForObject(uriLink, reqEntity, String.class);\n</code></pre>\n<p>Can please someone tell me what I am doing wrong or give me an working example. Thanks</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":3128661,"reputation":1179,"user_id":2647036,"display_name":"Thomas Bitonti"},"score":0,"creation_date":1684354234,"post_id":1509391,"comment_id":134508023,"body_markdown":"Is this question answered?  The question didn&#39;t care about the order of the elements.  That was presented as an example of how an element could be selected.  Answers that describe how maps are unordered are missing the essential question.  Also, answers that obtain an iterator are probably missing the point, which is to avoid iterating.  Obtaining an iterator seems nearly the same: The answer should avoid creating an iterator.","body":"Is this question answered?  The question didn&#39;t care about the order of the elements.  That was presented as an example of how an element could be selected.  Answers that describe how maps are unordered are missing the essential question.  Also, answers that obtain an iterator are probably missing the point, which is to avoid iterating.  Obtaining an iterator seems nearly the same: The answer should avoid creating an iterator."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":270,"is_accepted":false,"score":270,"last_activity_date":1482246193,"creation_date":1254488995,"answer_id":1509401,"question_id":1509391,"body_markdown":"Maps are not ordered, so there is no such thing as &#39;the first entry&#39;, and that&#39;s also why there is no get-by-index method on `Map` (or `HashMap`).\r\n\r\nYou could do this:\r\n\r\n    Map&lt;String, String&gt; map = ...;  // wherever you get this from\r\n\r\n    // Get the first entry that the iterator returns\r\n    Map.Entry&lt;String, String&gt; entry = map.entrySet().iterator().next();\r\n\r\n(Note: Checking for an empty map omitted).\r\n\r\nYour code doesn&#39;t get all the entries in the map, it returns immediately (and breaks out of the loop) with the first entry that&#39;s found.\r\n\r\nTo print the key and value of this first element:\r\n\r\n    System.out.println(&quot;Key: &quot;+entry.getKey()+&quot;, Value: &quot;+entry.getValue());\r\n\r\nNote: Calling `iterator()` does not mean that you are iterating over the whole map.","title":"how to get the one entry from hashmap without iterating","body":"<p>Maps are not ordered, so there is no such thing as 'the first entry', and that's also why there is no get-by-index method on <code>Map</code> (or <code>HashMap</code>).</p>\n\n<p>You could do this:</p>\n\n<pre><code>Map&lt;String, String&gt; map = ...;  // wherever you get this from\n\n// Get the first entry that the iterator returns\nMap.Entry&lt;String, String&gt; entry = map.entrySet().iterator().next();\n</code></pre>\n\n<p>(Note: Checking for an empty map omitted).</p>\n\n<p>Your code doesn't get all the entries in the map, it returns immediately (and breaks out of the loop) with the first entry that's found.</p>\n\n<p>To print the key and value of this first element:</p>\n\n<pre><code>System.out.println(\"Key: \"+entry.getKey()+\", Value: \"+entry.getValue());\n</code></pre>\n\n<p>Note: Calling <code>iterator()</code> does not mean that you are iterating over the whole map.</p>\n"},{"tags":[],"owner":{"account_id":20029,"reputation":7352,"user_id":47461,"accept_rate":80,"display_name":"cadrian"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1254489203,"creation_date":1254489203,"answer_id":1509418,"question_id":1509391,"body_markdown":"I guess the iterator may be the simplest solution.\r\n\r\n    return hashMapObject.entrySet().iterator().next();\r\n\r\nAnother solution (not pretty):\r\n\r\n    return new ArrayList(hashMapObject.entrySet()).get(0);\r\n\r\nOr yet (not better):\r\n\r\n    return hashMapObject.entrySet().toArray()[0];","title":"how to get the one entry from hashmap without iterating","body":"<p>I guess the iterator may be the simplest solution.</p>\n\n<pre><code>return hashMapObject.entrySet().iterator().next();\n</code></pre>\n\n<p>Another solution (not pretty):</p>\n\n<pre><code>return new ArrayList(hashMapObject.entrySet()).get(0);\n</code></pre>\n\n<p>Or yet (not better):</p>\n\n<pre><code>return hashMapObject.entrySet().toArray()[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46376,"reputation":4143,"user_id":136954,"display_name":"janko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1254489776,"creation_date":1254489393,"answer_id":1509441,"question_id":1509391,"body_markdown":"What do you mean with &quot;without iterating&quot;?\r\n\r\nYou can use `map.entrySet().iterator().next()` and you wouldn&#39;t iterate through map (in the meaning of &quot;touching each object&quot;). You can&#39;t get hold of an `Entry&lt;K, V&gt;` without using an iterator though. The Javadoc of [Map.Entry][1] says:\r\n\r\n&gt; The Map.entrySet method returns a\r\n&gt; collection-view of the map, whose\r\n&gt; elements are of this class. The only\r\n&gt; way to obtain a reference to a map\r\n&gt; entry is from the iterator of this\r\n&gt; collection-view. These Map.Entry\r\n&gt; objects are valid only for the\r\n&gt; duration of the iteration.\r\n\r\nCan you explain in more detail, what you are trying to accomplish? If you want to handle objects first, that match a specific criterion (like &quot;have a particular key&quot;) and fall back to the remaining objects otherwise, then look at a [PriorityQueue][2]. It will order your objects based on natural order or a custom-defined `Comparator` that you provide.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.Entry.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html","title":"how to get the one entry from hashmap without iterating","body":"<p>What do you mean with \"without iterating\"?</p>\n\n<p>You can use <code>map.entrySet().iterator().next()</code> and you wouldn't iterate through map (in the meaning of \"touching each object\"). You can't get hold of an <code>Entry&lt;K, V&gt;</code> without using an iterator though. The Javadoc of <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\">Map.Entry</a> says:</p>\n\n<blockquote>\n  <p>The Map.entrySet method returns a\n  collection-view of the map, whose\n  elements are of this class. The only\n  way to obtain a reference to a map\n  entry is from the iterator of this\n  collection-view. These Map.Entry\n  objects are valid only for the\n  duration of the iteration.</p>\n</blockquote>\n\n<p>Can you explain in more detail, what you are trying to accomplish? If you want to handle objects first, that match a specific criterion (like \"have a particular key\") and fall back to the remaining objects otherwise, then look at a <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">PriorityQueue</a>. It will order your objects based on natural order or a custom-defined <code>Comparator</code> that you provide.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1254489454,"creation_date":1254489454,"answer_id":1509447,"question_id":1509391,"body_markdown":"Why do you want to avoid calling `entrySet()` it does *not* generally create an entirely new object with its own context, but instead just provide a facade object. Simply speaking `entrySet()` is a pretty cheap operation.","title":"how to get the one entry from hashmap without iterating","body":"<p>Why do you want to avoid calling <code>entrySet()</code> it does <em>not</em> generally create an entirely new object with its own context, but instead just provide a facade object. Simply speaking <code>entrySet()</code> is a pretty cheap operation.</p>\n"},{"tags":[],"owner":{"account_id":59175,"reputation":1224,"user_id":177125,"display_name":"Per &#214;stlund"},"down_vote_count":1,"up_vote_count":101,"is_accepted":true,"score":100,"last_activity_date":1254489794,"creation_date":1254489794,"answer_id":1509487,"question_id":1509391,"body_markdown":"The answer by Jesper is good. An other solution is to use TreeMap (you asked for other data structures).\r\n\r\n    TreeMap&lt;String, String&gt; myMap = new TreeMap&lt;String, String&gt;();\r\n    String first = myMap.firstEntry().getValue();\r\n    String firstOther = myMap.get(myMap.firstKey());\r\n\r\nTreeMap has an overhead so HashMap is faster, but just as an example of an alternative solution.","title":"how to get the one entry from hashmap without iterating","body":"<p>The answer by Jesper is good. An other solution is to use TreeMap (you asked for other data structures).</p>\n\n<pre><code>TreeMap&lt;String, String&gt; myMap = new TreeMap&lt;String, String&gt;();\nString first = myMap.firstEntry().getValue();\nString firstOther = myMap.get(myMap.firstKey());\n</code></pre>\n\n<p>TreeMap has an overhead so HashMap is faster, but just as an example of an alternative solution.</p>\n"},{"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1254490020,"creation_date":1254490020,"answer_id":1509501,"question_id":1509391,"body_markdown":"Following your EDIT, here&#39;s my suggestion :\r\n\r\nIf you have only one entry, you might replace the Map by a dual object.\r\nDepending on the types, and your preferences:\r\n\r\n* an array (of 2 values, key and value)\r\n* a simple object with two properties","title":"how to get the one entry from hashmap without iterating","body":"<p>Following your EDIT, here's my suggestion :</p>\n\n<p>If you have only one entry, you might replace the Map by a dual object.\nDepending on the types, and your preferences:</p>\n\n<ul>\n<li>an array (of 2 values, key and value)</li>\n<li>a simple object with two properties</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254490083,"creation_date":1254490083,"answer_id":1509504,"question_id":1509391,"body_markdown":"\r\nThis would get a single entry from the map, which about as close as one can get, given &#39;first&#39; doesn&#39;t really apply.\r\n\r\n    import java.util.*;\r\n    \r\n    public class Friday {\r\n        public static void main(String[] args) {\r\n            Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    \r\n            map.put(&quot;code&quot;, 10);\r\n            map.put(&quot;to&quot;, 11);\r\n            map.put(&quot;joy&quot;, 12);\r\n    \r\n            if (! map.isEmpty()) {\r\n                Map.Entry&lt;String, Integer&gt; entry = map.entrySet().iterator().next();\r\n                System.out.println(entry);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"how to get the one entry from hashmap without iterating","body":"<p>This would get a single entry from the map, which about as close as one can get, given 'first' doesn't really apply.</p>\n\n<pre><code>import java.util.*;\n\npublic class Friday {\n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n\n        map.put(\"code\", 10);\n        map.put(\"to\", 11);\n        map.put(\"joy\", 12);\n\n        if (! map.isEmpty()) {\n            Map.Entry&lt;String, Integer&gt; entry = map.entrySet().iterator().next();\n            System.out.println(entry);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1301989079,"creation_date":1254495197,"answer_id":1510023,"question_id":1509391,"body_markdown":"If you really want the API you suggested, you could subclass HashMap and keep track of the keys in a List for example. Don&#39;t see the point in this really, but it gives you what you want. If you explain the intended use case, maybe we can come up with a better solution.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public class IndexedMap extends HashMap {\r\n    \r\n    \tprivate List&lt;Object&gt; keyIndex;\r\n    \r\n    \tpublic IndexedMap() {\r\n    \t\tkeyIndex = new ArrayList&lt;Object&gt;();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns the key at the specified position in this Map&#39;s keyIndex.\r\n    \t * \r\n    \t * @param index\r\n    \t *            index of the element to return\r\n    \t * @return the element at the specified position in this list\r\n    \t * @throws IndexOutOfBoundsException\r\n    \t *             if the index is out of range (index &lt; 0 || index &gt;= size())\r\n    \t */\r\n    \tpublic Object get(int index) {\r\n    \t\treturn keyIndex.get(index);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object put(Object key, Object value) {\r\n    \r\n    \t\taddKeyToIndex(key);\r\n    \t\treturn super.put(key, value);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void putAll(Map source) {\r\n    \r\n    \t\tfor (Object key : source.keySet()) {\r\n    \t\t\taddKeyToIndex(key);\r\n    \t\t}\r\n    \t\tsuper.putAll(source);\r\n    \t}\r\n    \r\n    \tprivate void addKeyToIndex(Object key) {\r\n    \r\n    \t\tif (!keyIndex.contains(key)) {\r\n    \t\t\tkeyIndex.add(key);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object remove(Object key) {\r\n    \r\n    \t\tkeyIndex.remove(key);\r\n    \t\treturn super.remove(key);\r\n    \t}\r\n    }\r\n\r\n\r\nEDIT: I deliberately did not delve into the generics side of this...\r\n","title":"how to get the one entry from hashmap without iterating","body":"<p>If you really want the API you suggested, you could subclass HashMap and keep track of the keys in a List for example. Don't see the point in this really, but it gives you what you want. If you explain the intended use case, maybe we can come up with a better solution.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@SuppressWarnings(\"unchecked\")\npublic class IndexedMap extends HashMap {\n\n    private List&lt;Object&gt; keyIndex;\n\n    public IndexedMap() {\n        keyIndex = new ArrayList&lt;Object&gt;();\n    }\n\n    /**\n     * Returns the key at the specified position in this Map's keyIndex.\n     * \n     * @param index\n     *            index of the element to return\n     * @return the element at the specified position in this list\n     * @throws IndexOutOfBoundsException\n     *             if the index is out of range (index &lt; 0 || index &gt;= size())\n     */\n    public Object get(int index) {\n        return keyIndex.get(index);\n    }\n\n    @Override\n    public Object put(Object key, Object value) {\n\n        addKeyToIndex(key);\n        return super.put(key, value);\n    }\n\n    @Override\n    public void putAll(Map source) {\n\n        for (Object key : source.keySet()) {\n            addKeyToIndex(key);\n        }\n        super.putAll(source);\n    }\n\n    private void addKeyToIndex(Object key) {\n\n        if (!keyIndex.contains(key)) {\n            keyIndex.add(key);\n        }\n    }\n\n    @Override\n    public Object remove(Object key) {\n\n        keyIndex.remove(key);\n        return super.remove(key);\n    }\n}\n</code></pre>\n\n<p>EDIT: I deliberately did not delve into the generics side of this...</p>\n"},{"tags":[],"owner":{"account_id":1208816,"reputation":169,"user_id":1177770,"display_name":"Wiktor Misiek"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1327917458,"creation_date":1327917458,"answer_id":9062071,"question_id":1509391,"body_markdown":"Get values, convert it to an array, get array&#39;s first element:\r\n\r\n    map.values().toArray()[0]\r\n\r\nW.","title":"how to get the one entry from hashmap without iterating","body":"<p>Get values, convert it to an array, get array's first element:</p>\n\n<pre><code>map.values().toArray()[0]\n</code></pre>\n\n<p>W.</p>\n"},{"tags":[],"owner":{"account_id":1395196,"reputation":629,"user_id":1325109,"accept_rate":22,"display_name":"dmgcodevil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1341478434,"creation_date":1341478434,"answer_id":11340915,"question_id":1509391,"body_markdown":"    import java.util.*;\r\n    \r\n    public class Friday {\r\n        public static void main(String[] args) {\r\n            Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    \r\n            map.put(&quot;code&quot;, 10);\r\n            map.put(&quot;to&quot;, 11);\r\n            map.put(&quot;joy&quot;, 12);\r\n    \r\n            if (! map.isEmpty()) {\r\n                Map.Entry&lt;String, Integer&gt; entry = map.entrySet().iterator().next();\r\n                System.out.println(entry);\r\n            }\r\n        }\r\n    }\r\n\r\nThis approach doesn&#39;t work because you used HashMap. I assume using LinkedHashMap will be right solution in this case.","title":"how to get the one entry from hashmap without iterating","body":"<pre><code>import java.util.*;\n\npublic class Friday {\n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n\n        map.put(\"code\", 10);\n        map.put(\"to\", 11);\n        map.put(\"joy\", 12);\n\n        if (! map.isEmpty()) {\n            Map.Entry&lt;String, Integer&gt; entry = map.entrySet().iterator().next();\n            System.out.println(entry);\n        }\n    }\n}\n</code></pre>\n\n<p>This approach doesn't work because you used HashMap. I assume using LinkedHashMap will be right solution in this case.</p>\n"},{"tags":[],"owner":{"account_id":971031,"reputation":21,"user_id":993608,"display_name":"SquidRott"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395957687,"creation_date":1395957687,"answer_id":22700146,"question_id":1509391,"body_markdown":"Stumbled here looking for the same thing...I then remembered the `Iterables` class from the [Guava library][1].\r\n\r\nTo get the &quot;first&quot; element: `Iterables.getFirst( someMap.values(), null );`.  &lt;br/&gt;Essentially does the same as `Map.values().iterator().next()`, but also allows you to specify a default (in this case null) should there be nothing in the Map.\r\n\r\n`Iterables.getLast( someMap.values(), null );` returns the last element in the Map.\r\n\r\n`Iterables.get( someMap.values(), 7, null );` returns the 7th element in the Map if exists, otherwise a default value (in this case null).\r\n\r\n&lt;i&gt;Remember though that HashMaps are not ordered...so don&#39;t expect `Iterables.getFirst` to return the first item you tossed in there...likewise with `Iterables.getLast`.&lt;/i&gt;  Perhaps useful to get &lt;b&gt;a&lt;/b&gt; mapped value though.\r\n\r\nIt may not be worth adding the Guava library for just that, but if you happen to be using some of the other cool utilities within that library...\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/","title":"how to get the one entry from hashmap without iterating","body":"<p>Stumbled here looking for the same thing...I then remembered the <code>Iterables</code> class from the <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava library</a>.</p>\n\n<p>To get the \"first\" element: <code>Iterables.getFirst( someMap.values(), null );</code>.  <br/>Essentially does the same as <code>Map.values().iterator().next()</code>, but also allows you to specify a default (in this case null) should there be nothing in the Map.</p>\n\n<p><code>Iterables.getLast( someMap.values(), null );</code> returns the last element in the Map.</p>\n\n<p><code>Iterables.get( someMap.values(), 7, null );</code> returns the 7th element in the Map if exists, otherwise a default value (in this case null).</p>\n\n<p><i>Remember though that HashMaps are not ordered...so don't expect <code>Iterables.getFirst</code> to return the first item you tossed in there...likewise with <code>Iterables.getLast</code>.</i>  Perhaps useful to get <b>a</b> mapped value though.</p>\n\n<p>It may not be worth adding the Guava library for just that, but if you happen to be using some of the other cool utilities within that library...</p>\n"},{"tags":[],"owner":{"account_id":4753603,"reputation":133,"user_id":3842966,"accept_rate":50,"display_name":"Indranil Banerjee"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1447777046,"creation_date":1447777046,"answer_id":33761874,"question_id":1509391,"body_markdown":"I got the answer:(It&#39;s simple )\r\n\r\nTake a ArrayList then cast it and find the size of the arraylist. \r\nHere   it is :\r\n\r\n        ArrayList count = new ArrayList();\r\n        count=(ArrayList) maptabcolname.get(&quot;k1&quot;); //here &quot;k1&quot; is Key\r\n        System.out.println(&quot;number of elements=&quot;+count.size());\r\n\r\nIt will show the size. (Give suggestion). It&#39;s working. \r\n","title":"how to get the one entry from hashmap without iterating","body":"<p>I got the answer:(It's simple )</p>\n\n<p>Take a ArrayList then cast it and find the size of the arraylist. \nHere   it is :</p>\n\n<pre><code>    ArrayList count = new ArrayList();\n    count=(ArrayList) maptabcolname.get(\"k1\"); //here \"k1\" is Key\n    System.out.println(\"number of elements=\"+count.size());\n</code></pre>\n\n<p>It will show the size. (Give suggestion). It's working. </p>\n"},{"tags":[],"owner":{"account_id":158037,"reputation":6836,"user_id":376382,"accept_rate":90,"display_name":"Cacho Santa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1520269506,"creation_date":1456795457,"answer_id":35713030,"question_id":1509391,"body_markdown":"If you are using Java 8, it is as simple as [findFirst()][1]:\r\n\r\nQuick example:\r\n\r\n    Optional&lt;Car&gt; theCarFoundOpt = carMap.values().stream().findFirst();\r\n    \r\n    if(theCarFoundOpt.isPresent()) {\r\n        return theCarFoundOpt.get().startEngine();\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--","title":"how to get the one entry from hashmap without iterating","body":"<p>If you are using Java 8, it is as simple as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"noreferrer\">findFirst()</a>:</p>\n\n<p>Quick example:</p>\n\n<pre><code>Optional&lt;Car&gt; theCarFoundOpt = carMap.values().stream().findFirst();\n\nif(theCarFoundOpt.isPresent()) {\n    return theCarFoundOpt.get().startEngine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12000489,"reputation":33,"user_id":8780591,"display_name":"Vipul Vikram"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1530856435,"creation_date":1530820374,"answer_id":51198922,"question_id":1509391,"body_markdown":"    map&lt;string,string&gt;m;\r\n    auto it=m.begin();//get iterator to the first element of map(m)\r\n    return m-&gt;first;//return first string(1st string in map&lt;string,string&gt;m)\r\n    //Incase you want the second string \r\n    //you can use return m-&gt;second(2st string in map&lt;string,string&gt;m)\r\n    //if you want to iterate the whole map you can use loop\r\n    for(auto it:m)//m is a map\r\n       cout&lt;&lt;it-&gt;first&lt;&lt;endl;\r\n\r\n","title":"how to get the one entry from hashmap without iterating","body":"<pre><code>map&lt;string,string&gt;m;\nauto it=m.begin();//get iterator to the first element of map(m)\nreturn m-&gt;first;//return first string(1st string in map&lt;string,string&gt;m)\n//Incase you want the second string \n//you can use return m-&gt;second(2st string in map&lt;string,string&gt;m)\n//if you want to iterate the whole map you can use loop\nfor(auto it:m)//m is a map\n   cout&lt;&lt;it-&gt;first&lt;&lt;endl;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12349572,"reputation":256,"user_id":9008878,"display_name":"Atul Salgaonkar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1613086765,"creation_date":1613086765,"answer_id":66164582,"question_id":1509391,"body_markdown":"for getting Hash map first element you can use bellow code in kotlin:\r\n\r\n    val data : Float = hashMap?.get(hashMap?.keys?.first())","title":"how to get the one entry from hashmap without iterating","body":"<p>for getting Hash map first element you can use bellow code in kotlin:</p>\n<pre><code>val data : Float = hashMap?.get(hashMap?.keys?.first())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265758,"reputation":7045,"user_id":552942,"accept_rate":87,"display_name":"WKPlus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624430313,"creation_date":1624430313,"answer_id":68094733,"question_id":1509391,"body_markdown":"If you are using Java 8 or higher version, you can use this:\r\n\r\n    return hashMapObject.entrySet().stream().findFirst().orElse(null) // return null if the map is empty","title":"how to get the one entry from hashmap without iterating","body":"<p>If you are using Java 8 or higher version, you can use this:</p>\n<pre><code>return hashMapObject.entrySet().stream().findFirst().orElse(null) // return null if the map is empty\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21270102,"reputation":1,"user_id":15649766,"display_name":"kylo-ren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657000675,"creation_date":1657000675,"answer_id":72864589,"question_id":1509391,"body_markdown":"You can use Iterables from Guava.\r\n```\r\nIterables.getOnlyElement(map.keySet()); // To fetch the only key\r\nIterables.getOnlyElement(map.values()); // To fetch the only value\r\nIterables.getOnlyElement(map.entrySet()); // To fetch the Map.Entry pair\r\n```\r\n","title":"how to get the one entry from hashmap without iterating","body":"<p>You can use Iterables from Guava.</p>\n<pre><code>Iterables.getOnlyElement(map.keySet()); // To fetch the only key\nIterables.getOnlyElement(map.values()); // To fetch the only value\nIterables.getOnlyElement(map.entrySet()); // To fetch the Map.Entry pair\n</code></pre>\n"}],"owner":{"account_id":878519,"reputation":2255,"user_id":130858,"accept_rate":33,"display_name":"nilesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318620,"favorite_count":0,"down_vote_count":0,"up_vote_count":191,"accepted_answer_id":1509487,"answer_count":17,"score":191,"last_activity_date":1657000675,"creation_date":1254488942,"question_id":1509391,"body_markdown":"Is there a elegant way of obtaining only one `Entry&lt;K,V&gt;` from HashMap, without iterating, if key is not known.\r\n\r\nAs order of entry of entry is not important, can we say something like\r\n\r\n    hashMapObject.get(zeroth_index);\r\n\r\nAlthough I am aware that there exist no such get by index method.\r\n\r\nIf I tried approach mentioned below, **it would still have to get all the entry set of the hashmap**.\r\n\r\n    for(Map.Entry&lt;String, String&gt; entry : MapObj.entrySet()) {\r\n        return entry;\r\n    }\r\n\r\nSuggestions are welcome.\r\n\r\nEDIT: Please suggest any other Data Structure to suffice requirement.","title":"how to get the one entry from hashmap without iterating","body":"<p>Is there a elegant way of obtaining only one <code>Entry&lt;K,V&gt;</code> from HashMap, without iterating, if key is not known.</p>\n\n<p>As order of entry of entry is not important, can we say something like</p>\n\n<pre><code>hashMapObject.get(zeroth_index);\n</code></pre>\n\n<p>Although I am aware that there exist no such get by index method.</p>\n\n<p>If I tried approach mentioned below, <strong>it would still have to get all the entry set of the hashmap</strong>.</p>\n\n<pre><code>for(Map.Entry&lt;String, String&gt; entry : MapObj.entrySet()) {\n    return entry;\n}\n</code></pre>\n\n<p>Suggestions are welcome.</p>\n\n<p>EDIT: Please suggest any other Data Structure to suffice requirement.</p>\n"},{"tags":["java","static","constructor"],"comments":[{"owner":{"account_id":261786,"reputation":13726,"user_id":546205,"accept_rate":60,"display_name":"Miguel Prz"},"score":1,"creation_date":1318710489,"post_id":7780406,"comment_id":9474964,"body_markdown":"this is a sort tutorial from Oracle on statics: http://download.oracle.com/javase/tutorial/java/javaOO/classvars.html","body":"this is a sort tutorial from Oracle on statics: <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/tutorial/java/javaOO/classvars.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":934625,"reputation":2103,"user_id":963791,"accept_rate":78,"display_name":"Sinthia V"},"score":1,"creation_date":1318718009,"post_id":7780406,"comment_id":9475936,"body_markdown":"@user983246 If you find an answer to a question, we appreciate a click on the Accept check-mark. You even get points for doing it!","body":"@user983246 If you find an answer to a question, we appreciate a click on the Accept check-mark. You even get points for doing it!"}],"answers":[{"tags":[],"owner":{"display_name":"user166390"},"down_vote_count":2,"up_vote_count":88,"is_accepted":true,"score":86,"last_activity_date":1479183625,"creation_date":1318710288,"answer_id":7780417,"question_id":7780406,"body_markdown":"Java has &lt;del&gt;[static constructors]&lt;/del&gt; [static initialization blocks](http://www.snippetit.com/2009/03/java-static-constructor/) which can be viewed as a &quot;static constructor&quot;:\r\n\r\n    class Foo {\r\n      static String Bar;\r\n      static {\r\n         // &quot;static constructor&quot;\r\n         Bar = &quot;Hello world!&quot;;\r\n      }\r\n    }\r\n\r\nIn any case, the only method in the main class which *must* be static is the `main` method. This is because it is invoked *without* first creating an instance of the &quot;main class&quot;. A common technique, and the one I prefer, is to quickly *get out* of static context:\r\n\r\n    class Main {\r\n       int argCount;\r\n\r\n       // constructor\r\n       public Main (String[] args) {\r\n         // and back to boring ol&#39; non-static Java\r\n         argCount = args.length;       \r\n       }\r\n\r\n       void runIt () {\r\n          System.out.println(&quot;arg count: &quot; + argCount);\r\n       }\r\n\r\n       // must be static -- no Main instance created yet\r\n       public static void main (String[] args) {\r\n          Main me = new Main(args);\r\n          me.runIt();\r\n       }\r\n    }\r\n\r\nAlso, static has nothing to do with &quot;name clashes&quot;. A static method (or variable) is simply a method (or variable) that is *not* associated with a specific instance of a type. I would recommend reading through the [Classes and Objects Java Tutorial](http://download.oracle.com/javase/tutorial/java/javaOO/index.html) and the section [Understanding Instance and Class Variables](http://download.oracle.com/javase/tutorial/java/javaOO/classvars.html).\r\n\r\nHappy coding.","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>Java has <del>[static constructors]</del> <a href=\"http://www.snippetit.com/2009/03/java-static-constructor/\" rel=\"noreferrer\">static initialization blocks</a> which can be viewed as a \"static constructor\":</p>\n\n<pre><code>class Foo {\n  static String Bar;\n  static {\n     // \"static constructor\"\n     Bar = \"Hello world!\";\n  }\n}\n</code></pre>\n\n<p>In any case, the only method in the main class which <em>must</em> be static is the <code>main</code> method. This is because it is invoked <em>without</em> first creating an instance of the \"main class\". A common technique, and the one I prefer, is to quickly <em>get out</em> of static context:</p>\n\n<pre><code>class Main {\n   int argCount;\n\n   // constructor\n   public Main (String[] args) {\n     // and back to boring ol' non-static Java\n     argCount = args.length;       \n   }\n\n   void runIt () {\n      System.out.println(\"arg count: \" + argCount);\n   }\n\n   // must be static -- no Main instance created yet\n   public static void main (String[] args) {\n      Main me = new Main(args);\n      me.runIt();\n   }\n}\n</code></pre>\n\n<p>Also, static has nothing to do with \"name clashes\". A static method (or variable) is simply a method (or variable) that is <em>not</em> associated with a specific instance of a type. I would recommend reading through the <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/index.html\" rel=\"noreferrer\">Classes and Objects Java Tutorial</a> and the section <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"noreferrer\">Understanding Instance and Class Variables</a>.</p>\n\n<p>Happy coding.</p>\n"},{"tags":[],"owner":{"account_id":934625,"reputation":2103,"user_id":963791,"accept_rate":78,"display_name":"Sinthia V"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1318711464,"creation_date":1318711464,"answer_id":7780538,"question_id":7780406,"body_markdown":"Static methods belong to a class, not an object. The main method must be static because it is called first, before any other code has executed to instantiate any objects. It provides an entry point to the program. Static methods are called from outside of the container of an object. The same is true of static class variables. Only one copy exists for the entire class, as opposed to a member variable, which is created once for each object created from a class. They are used to store data for the class, such as the number of object instances have been created and not destroyed. This data belongs with the class. A good example of a static method is in the singleton pattern, where the constructor is private and can only be accessed by a static member function. A function outside the class would be unable to replicate this functionality. This method acts on class data and objects, so logically belongs to the same class. This all boils down to encapsulation. A class is responsible only for itself and knows only itself.\r\n\r\nOn the other hand, object methods are meant to operate on the data associated with a single instance of a class, an object. Constructors are the code that is used to initialize an object and set it&#39;s data to an initial state. They are executed immediately (and automatically) after the memory has been allocated to store a new object. Even if you do not explicitly define a constructor, a kind of &quot;default constructor&quot; is executed in order to map the object&#39;s member variables and the object&#39;s method code to the new object.\r\n\r\nHope this helps.","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>Static methods belong to a class, not an object. The main method must be static because it is called first, before any other code has executed to instantiate any objects. It provides an entry point to the program. Static methods are called from outside of the container of an object. The same is true of static class variables. Only one copy exists for the entire class, as opposed to a member variable, which is created once for each object created from a class. They are used to store data for the class, such as the number of object instances have been created and not destroyed. This data belongs with the class. A good example of a static method is in the singleton pattern, where the constructor is private and can only be accessed by a static member function. A function outside the class would be unable to replicate this functionality. This method acts on class data and objects, so logically belongs to the same class. This all boils down to encapsulation. A class is responsible only for itself and knows only itself.</p>\n\n<p>On the other hand, object methods are meant to operate on the data associated with a single instance of a class, an object. Constructors are the code that is used to initialize an object and set it's data to an initial state. They are executed immediately (and automatically) after the memory has been allocated to store a new object. Even if you do not explicitly define a constructor, a kind of \"default constructor\" is executed in order to map the object's member variables and the object's method code to the new object.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":134479,"reputation":18681,"user_id":336648,"accept_rate":81,"display_name":"Kjartan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318795712,"creation_date":1318795712,"answer_id":7786959,"question_id":7780406,"body_markdown":"I wrote a simple example as an answer to a related question yesterday which may help make things more understandable: https://stackoverflow.com/questions/7778997/whats-the-point-of-java-constructor/7779356#7779356\r\n\r\nThe point of Static methods is that they can be called without creating an instance of a class, while &quot;normal&quot; instance methods are related to an instance, and can not be called without one. \r\n\r\nSince the Main method of the Main class is the entry point of the program, no instance can possibly have been created yet, so naturally, you can not access it via an instance. Therefore, it is Static, so it can be run as the start of the program.","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>I wrote a simple example as an answer to a related question yesterday which may help make things more understandable: <a href=\"https://stackoverflow.com/questions/7778997/whats-the-point-of-java-constructor/7779356#7779356\">what&#39;s the point of java constructor?</a></p>\n\n<p>The point of Static methods is that they can be called without creating an instance of a class, while \"normal\" instance methods are related to an instance, and can not be called without one. </p>\n\n<p>Since the Main method of the Main class is the entry point of the program, no instance can possibly have been created yet, so naturally, you can not access it via an instance. Therefore, it is Static, so it can be run as the start of the program.</p>\n"},{"tags":[],"owner":{"account_id":3102752,"reputation":1031,"user_id":2626445,"accept_rate":83,"display_name":"user2626445"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1379962897,"creation_date":1379962897,"answer_id":18966801,"question_id":7780406,"body_markdown":"Constructor is used to create Objects.\r\n\r\nStatic is generally which is same for all objects.\r\n\r\nSo, if we have had static constructors creation of one object would affect all the other existing objects.\r\n\r\nStatic methods only reference to static variables. Therefore all the initial parameters which you are giving to create an object would change for all objects. It is no point creating similar objects for no use. \r\n\r\nHope this helps.... :)","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>Constructor is used to create Objects.</p>\n\n<p>Static is generally which is same for all objects.</p>\n\n<p>So, if we have had static constructors creation of one object would affect all the other existing objects.</p>\n\n<p>Static methods only reference to static variables. Therefore all the initial parameters which you are giving to create an object would change for all objects. It is no point creating similar objects for no use. </p>\n\n<p>Hope this helps.... :)</p>\n"},{"tags":[],"owner":{"account_id":1652212,"reputation":4898,"user_id":1522554,"accept_rate":24,"display_name":"Maddy Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394192174,"creation_date":1392622089,"answer_id":21823117,"question_id":7780406,"body_markdown":"Just take a look on this link, it will definately help you to understand:\r\n[Why can&#39;t make a constructor static?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3584113/why-are-you-not-able-to-declare-a-class-as-static-in-java\r\n\r\nAND\r\n\r\nConstructor is called at Run-time when we create Objects.\r\nStatic is same for all objects but all objects have their own state and properties.\r\nSo, if we have had static constructors creation of one object would affect all the other existing objects.\r\nNote: static is class level while constructors related to the objects.\r\n\r\ne.g.\r\n\r\n  \r\n\r\n      public class Foo\r\n        {\r\n           String name;\r\n           int id;\r\n            // define constructors\r\n               Foo (String name, int id)\r\n            {\r\n                this.name = name;\r\n                this.id = id;\r\n            }\r\n        \r\n              p s v m(String[] arg)\r\n          {\r\n              Foo f1 = new Foo(&quot;Amit&quot;,001);\r\n              Foo f2 = new Foo(&quot;Rahul&quot;,002);\r\n          }\r\n        }\r\n\r\nIf we create static constructor then both objects(f1 also) will contain the last updated value regarding name and id as Rahul and 002.\r\n","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>Just take a look on this link, it will definately help you to understand:\n<a href=\"https://stackoverflow.com/questions/3584113/why-are-you-not-able-to-declare-a-class-as-static-in-java\">Why can't make a constructor static?</a></p>\n\n<p>AND</p>\n\n<p>Constructor is called at Run-time when we create Objects.\nStatic is same for all objects but all objects have their own state and properties.\nSo, if we have had static constructors creation of one object would affect all the other existing objects.\nNote: static is class level while constructors related to the objects.</p>\n\n<p>e.g.</p>\n\n<pre><code>  public class Foo\n    {\n       String name;\n       int id;\n        // define constructors\n           Foo (String name, int id)\n        {\n            this.name = name;\n            this.id = id;\n        }\n\n          p s v m(String[] arg)\n      {\n          Foo f1 = new Foo(\"Amit\",001);\n          Foo f2 = new Foo(\"Rahul\",002);\n      }\n    }\n</code></pre>\n\n<p>If we create static constructor then both objects(f1 also) will contain the last updated value regarding name and id as Rahul and 002.</p>\n"},{"tags":[],"owner":{"account_id":4135768,"reputation":469,"user_id":3392478,"display_name":"sreejagaths"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1394193309,"creation_date":1394192936,"answer_id":22249295,"question_id":7780406,"body_markdown":"I am sharing one of the reason &quot;why not a java constructor be static&quot;.\r\n\r\nSimply to say, &quot;A java constructor is always non static&quot; because,\r\n\r\n  The purpose of the constructor is only to initialize/construct the object, and to make inheritance possible. To do these we need to use the two useful java keywords (cum non-static variables) such as this and super. \r\n  We will use &#39;this&#39; to initialize the object.\r\n  We/Java will use super(ofcourse super()) to invoke super class constructor so that super object(or Object class) created first then the child object(hence the inheritance)\r\n  If the constructor is static then we cant use that two keywords(non-static variables) inside the constructor(As we know non-static stuff cant be referenced from static context)\r\n\r\n  So java constructors should not static.\r\n  \r\n\r\n\r\n   ","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>I am sharing one of the reason \"why not a java constructor be static\".</p>\n\n<p>Simply to say, \"A java constructor is always non static\" because,</p>\n\n<p>The purpose of the constructor is only to initialize/construct the object, and to make inheritance possible. To do these we need to use the two useful java keywords (cum non-static variables) such as this and super. \n  We will use 'this' to initialize the object.\n  We/Java will use super(ofcourse super()) to invoke super class constructor so that super object(or Object class) created first then the child object(hence the inheritance)\n  If the constructor is static then we cant use that two keywords(non-static variables) inside the constructor(As we know non-static stuff cant be referenced from static context)</p>\n\n<p>So java constructors should not static.</p>\n"},{"tags":[],"owner":{"account_id":4709496,"reputation":1,"user_id":3810486,"display_name":"user3810486"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404682782,"creation_date":1404682782,"answer_id":24600547,"question_id":7780406,"body_markdown":"A constructor cannot be static, because in an OO language, the process for creating an object is as follows:\r\n\r\n - allocate the object\r\n - call the constructor to initialise the newly-allocated object\r\n\r\nConstructors are not used anywhere else (and a type-safe language should enforce this), so it follows that a constructor will always be called in a non-static context. \r\n\r\nIf a constructor were static, it would not receive a reference to the newly-allocated object, and thus would not be able to initialise it.\r\n\r\nThus, a constructor can always be non-static (as it is always called from a non-static context) and must always be non-static (otherwise it would be unable to perform its task).","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>A constructor cannot be static, because in an OO language, the process for creating an object is as follows:</p>\n\n<ul>\n<li>allocate the object</li>\n<li>call the constructor to initialise the newly-allocated object</li>\n</ul>\n\n<p>Constructors are not used anywhere else (and a type-safe language should enforce this), so it follows that a constructor will always be called in a non-static context. </p>\n\n<p>If a constructor were static, it would not receive a reference to the newly-allocated object, and thus would not be able to initialise it.</p>\n\n<p>Thus, a constructor can always be non-static (as it is always called from a non-static context) and must always be non-static (otherwise it would be unable to perform its task).</p>\n"},{"tags":[],"owner":{"account_id":3244542,"reputation":1253,"user_id":2736531,"accept_rate":62,"display_name":"zerobandwidth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419439136,"creation_date":1419439136,"answer_id":27639822,"question_id":7780406,"body_markdown":"The `main(String[])` method has a specific prototype that is dictated by how the Java runtime environment works. When you invoke `java MyApplication` from the command line, the Java VM will look for a static `main(String[])` method contained in that class in order to execute the application. If that method is not found, then the Java VM can&#39;t run the class as an application. That&#39;s just how the language is defined. It also means that the Java VM *doesn&#39;t create an instance* of your application class in order to run it.\r\n\r\nNow, if you want your class to be usable either as a standalone application or as an instance that&#39;s created by something else, then you can have your class implement the `Runnable` interface, and also provide a `main` method that executes the `run` method on a new instance.\r\n\r\n    public class MyRunnableThing implements Runnable\r\n    {\r\n        // Define whatever variables your runnable thing needs here as\r\n        // private instance fields.\r\n\r\n        /** Fulfills requirements of Runnable interface. */\r\n        public void run()\r\n        {\r\n            System.out.println( &quot;I&#39;m running...&quot; ) ;\r\n        }\r\n\r\n        /** Also makes the class runnable from the console. */\r\n        public static void main( String[] args )\r\n        {\r\n            MyRunnableThing runMeNow = new MyRunnableThing() ;\r\n            runMeNow.run() ;\r\n        }\r\n    }\r\n\r\nNow *any* class could potentially create an instance of `MyRunnableThing` and use its `run()` method to produce *the same behavior* that would have been seen by executing `java MyRunnablething`.\r\n\r\nSee also: [Working with Static Constructor in Java][1]. Some highlights from that Q&amp;A:\r\n\r\n - A constructor is used to create an instance of the class, so it&#39;s an instance method, not a static method.\r\n - You can create a static method that creates an instance of the class, using the constructor. This is how the trendy new &quot;builder&quot; classes work.\r\n - You can create a static method that returns a persistent, unique **singleton** instance.\r\n - If your class has static members, then you can create a **static initializer** to initialize the values of those members.\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/228242/working-with-static-constructor-in-java","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>The <code>main(String[])</code> method has a specific prototype that is dictated by how the Java runtime environment works. When you invoke <code>java MyApplication</code> from the command line, the Java VM will look for a static <code>main(String[])</code> method contained in that class in order to execute the application. If that method is not found, then the Java VM can't run the class as an application. That's just how the language is defined. It also means that the Java VM <em>doesn't create an instance</em> of your application class in order to run it.</p>\n\n<p>Now, if you want your class to be usable either as a standalone application or as an instance that's created by something else, then you can have your class implement the <code>Runnable</code> interface, and also provide a <code>main</code> method that executes the <code>run</code> method on a new instance.</p>\n\n<pre><code>public class MyRunnableThing implements Runnable\n{\n    // Define whatever variables your runnable thing needs here as\n    // private instance fields.\n\n    /** Fulfills requirements of Runnable interface. */\n    public void run()\n    {\n        System.out.println( \"I'm running...\" ) ;\n    }\n\n    /** Also makes the class runnable from the console. */\n    public static void main( String[] args )\n    {\n        MyRunnableThing runMeNow = new MyRunnableThing() ;\n        runMeNow.run() ;\n    }\n}\n</code></pre>\n\n<p>Now <em>any</em> class could potentially create an instance of <code>MyRunnableThing</code> and use its <code>run()</code> method to produce <em>the same behavior</em> that would have been seen by executing <code>java MyRunnablething</code>.</p>\n\n<p>See also: <a href=\"https://softwareengineering.stackexchange.com/questions/228242/working-with-static-constructor-in-java\">Working with Static Constructor in Java</a>. Some highlights from that Q&amp;A:</p>\n\n<ul>\n<li>A constructor is used to create an instance of the class, so it's an instance method, not a static method.</li>\n<li>You can create a static method that creates an instance of the class, using the constructor. This is how the trendy new \"builder\" classes work.</li>\n<li>You can create a static method that returns a persistent, unique <strong>singleton</strong> instance.</li>\n<li>If your class has static members, then you can create a <strong>static initializer</strong> to initialize the values of those members.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4184415,"reputation":27,"user_id":3428513,"display_name":"user3428513"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461636209,"creation_date":1461636209,"answer_id":36854111,"question_id":7780406,"body_markdown":"The purpose of Constructor is to Construct an Object i.e. to initialize class&#39;s instance variables either their default values or by their initialized values. non-static Instance variables can&#39;t be accessed by static methods . So constructor is not static.","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>The purpose of Constructor is to Construct an Object i.e. to initialize class's instance variables either their default values or by their initialized values. non-static Instance variables can't be accessed by static methods . So constructor is not static.</p>\n"},{"tags":[],"owner":{"account_id":8736425,"reputation":1,"user_id":6534922,"display_name":"Smruti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467310854,"creation_date":1467310854,"answer_id":38130613,"question_id":7780406,"body_markdown":"The method declared as static requires no object creation .As we don&#39;t create object for the main method it is declared as static.\r\n\r\nconstructor is implicitly called to initialize an object, so there is no purpose in having a static constructor.\r\n","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>The method declared as static requires no object creation .As we don't create object for the main method it is declared as static.</p>\n\n<p>constructor is implicitly called to initialize an object, so there is no purpose in having a static constructor.</p>\n"},{"tags":[],"owner":{"account_id":4452421,"reputation":49,"user_id":3623860,"display_name":"ashwani46"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485160193,"creation_date":1485160193,"answer_id":41801938,"question_id":7780406,"body_markdown":"**Constructor** is the property of an object while **static** has nothing to do with object. That&#39;s why there is nothing like **static constructor**. But we have static block to do the similar task as constructor i.e. initialization of fields etc. ","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p><strong>Constructor</strong> is the property of an object while <strong>static</strong> has nothing to do with object. That's why there is nothing like <strong>static constructor</strong>. But we have static block to do the similar task as constructor i.e. initialization of fields etc. </p>\n"},{"tags":[],"owner":{"account_id":2195221,"reputation":327,"user_id":1941095,"display_name":"Suraj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1539712890,"creation_date":1539712890,"answer_id":52841460,"question_id":7780406,"body_markdown":"Java does not permit to declare a constructor as static. Following are the reasons.\r\n\r\n1. Static means for the same class. i.e, static methods cannot be inherited.\r\n\r\n2. With static, &quot;this&quot; reference (keyword) cannot be used. &quot;this&quot; is always linked to an object. A constructor always belongs to some object.\r\n\r\n3. If a constructor is static, an object of subclass cannot access. If static is allowed with constructor, it is accessible within the class but not by subclass.","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>Java does not permit to declare a constructor as static. Following are the reasons.</p>\n\n<ol>\n<li><p>Static means for the same class. i.e, static methods cannot be inherited.</p></li>\n<li><p>With static, \"this\" reference (keyword) cannot be used. \"this\" is always linked to an object. A constructor always belongs to some object.</p></li>\n<li><p>If a constructor is static, an object of subclass cannot access. If static is allowed with constructor, it is accessible within the class but not by subclass.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15260667,"reputation":565,"user_id":11010792,"display_name":"abin peter"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1553930081,"creation_date":1553930081,"answer_id":55429117,"question_id":7780406,"body_markdown":"Static Belongs to Class, Constructor to Object\r\n\r\nWe know that static methods, block or variables belong to the class. Whereas a Constructor belongs to the object and called when we use the new operator to create an instance. Since a constructor is not class property, it makes sense that it’s not allowed to be static.","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>Static Belongs to Class, Constructor to Object</p>\n\n<p>We know that static methods, block or variables belong to the class. Whereas a Constructor belongs to the object and called when we use the new operator to create an instance. Since a constructor is not class property, it makes sense that it’s not allowed to be static.</p>\n"},{"tags":[],"owner":{"account_id":14993712,"reputation":11,"user_id":10823873,"display_name":"Francisca V."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591535405,"creation_date":1591510075,"answer_id":62241541,"question_id":7780406,"body_markdown":"On page 272 of Thinking In Java, 4th Edition, by Bruce Eckel, it says:\r\n\r\n&gt; &#178;The constructor is also a static method even though the static keyword is not explicit. So to be precise, a class is first loaded when any of its static members is accessed.\r\n\r\nA little bit more context.\r\n\r\n&gt; ... the compiled code for each class exists in its own separate file. That file isn&#39;t loaded until the code is needed. In general you can say &quot;class code is loaded at the point of first use.&quot; This is usually when the first object of that class is constructed, but loading also occurs when a static field or static method is accessed.&#178;\r\n\r\nThis makes a lot of sense, if you think about the rule that says that a static method can&#39;t use non-static methods of the same class. I had this doubt a couple weeks ago when I couldn&#39;t understand how, using the Singleton Pattern, you could access the constructor inside the static method that is used to create a new instance of that class. Today I was flipping through the book and I came across this explanation.\r\n\r\nIt also makes sense in a way that, if the constructor wasn&#39;t static, you&#39;d first need an instance of that class to be able to access it, but I guess this could spark up the old discussion about the chicken or the egg.\r\n\r\nHope it helped!","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>On page 272 of Thinking In Java, 4th Edition, by Bruce Eckel, it says:</p>\n\n<blockquote>\n  <p>²The constructor is also a static method even though the static keyword is not explicit. So to be precise, a class is first loaded when any of its static members is accessed.</p>\n</blockquote>\n\n<p>A little bit more context.</p>\n\n<blockquote>\n  <p>... the compiled code for each class exists in its own separate file. That file isn't loaded until the code is needed. In general you can say \"class code is loaded at the point of first use.\" This is usually when the first object of that class is constructed, but loading also occurs when a static field or static method is accessed.²</p>\n</blockquote>\n\n<p>This makes a lot of sense, if you think about the rule that says that a static method can't use non-static methods of the same class. I had this doubt a couple weeks ago when I couldn't understand how, using the Singleton Pattern, you could access the constructor inside the static method that is used to create a new instance of that class. Today I was flipping through the book and I came across this explanation.</p>\n\n<p>It also makes sense in a way that, if the constructor wasn't static, you'd first need an instance of that class to be able to access it, but I guess this could spark up the old discussion about the chicken or the egg.</p>\n\n<p>Hope it helped!</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624470245,"creation_date":1591511112,"answer_id":62241666,"question_id":7780406,"body_markdown":"Constructors are neither entirely static (class level) or entirely non-static (instance level).\r\n\r\n  - Unlike instance methods, constructors are not inherited.\r\n  - Unlike static methods, a constructor can refer to `this`.\r\n\r\nSo, why can&#39;t you declare a constructor `static`?  \r\n\r\nWell, my take is that a (redundant) `static` keyword would be confusing and would not serve any purpose.  Therefore they decided not to allow it.\r\n\r\n----------------\r\n\r\nThe explanation that static initialization blocks can be viewed as constructors is (IMO) conceptually wrong.  (It is analogous to saying that an instance initialization block is a regular constructor.  Which is equally wrong.)\r\n\r\nThe key distinctions between static initialization and construction&lt;sup&gt;1&lt;/sup&gt; are:\r\n\r\n  - static initialization happens at an indeterminate time&lt;sup&gt;2&lt;/sup&gt;; there is no equivalent to `new` for class initialization,\r\n  - there is no straight-forward way to pass (constructor) parameters to the initialization code\r\n  - there is no practical way to recover from errors occurring during static initialization.\r\n\r\n\r\n&lt;sup&gt;1 - Hypothetically, if class initialization *was* explicit, then it would make sense to have static constructors.  But the downsize would be that applications would need to explicitly &quot;construct&quot; all of the classes that they used ... which would be horrible.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - You have a degree of control if you load a class dynamically, but even then if the class has already been loaded and initialized in the current classloader, then attempting to control initialization will fail.&lt;/sup&gt;\r\n  \r\n\r\n\r\n-----------\r\n\r\n&gt; I do not understand why the main method has to be static. \r\n\r\nIt has to be if you want the `main` method to act as an entrypoint for your application.\r\n\r\nThe problem is that if `main` was an instance method, then there would need to be an instance of your entrypoint class to call the `main` method on.  But how do you create it?  Which constructor would you choose?  What if there was no public constructor?\r\n\r\nThe bottom line is that this is the way that Java was designed ... back in the 1990&#39;s ... and so far they have not seen the need to change this.\r\n\r\n-----------\r\n\r\n\r\n\r\n","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>Constructors are neither entirely static (class level) or entirely non-static (instance level).</p>\n<ul>\n<li>Unlike instance methods, constructors are not inherited.</li>\n<li>Unlike static methods, a constructor can refer to <code>this</code>.</li>\n</ul>\n<p>So, why can't you declare a constructor <code>static</code>?</p>\n<p>Well, my take is that a (redundant) <code>static</code> keyword would be confusing and would not serve any purpose.  Therefore they decided not to allow it.</p>\n<hr />\n<p>The explanation that static initialization blocks can be viewed as constructors is (IMO) conceptually wrong.  (It is analogous to saying that an instance initialization block is a regular constructor.  Which is equally wrong.)</p>\n<p>The key distinctions between static initialization and construction<sup>1</sup> are:</p>\n<ul>\n<li>static initialization happens at an indeterminate time<sup>2</sup>; there is no equivalent to <code>new</code> for class initialization,</li>\n<li>there is no straight-forward way to pass (constructor) parameters to the initialization code</li>\n<li>there is no practical way to recover from errors occurring during static initialization.</li>\n</ul>\n<p><sup>1 - Hypothetically, if class initialization <em>was</em> explicit, then it would make sense to have static constructors.  But the downsize would be that applications would need to explicitly &quot;construct&quot; all of the classes that they used ... which would be horrible.</sup></p>\n<p><sup>2 - You have a degree of control if you load a class dynamically, but even then if the class has already been loaded and initialized in the current classloader, then attempting to control initialization will fail.</sup></p>\n<hr />\n<blockquote>\n<p>I do not understand why the main method has to be static.</p>\n</blockquote>\n<p>It has to be if you want the <code>main</code> method to act as an entrypoint for your application.</p>\n<p>The problem is that if <code>main</code> was an instance method, then there would need to be an instance of your entrypoint class to call the <code>main</code> method on.  But how do you create it?  Which constructor would you choose?  What if there was no public constructor?</p>\n<p>The bottom line is that this is the way that Java was designed ... back in the 1990's ... and so far they have not seen the need to change this.</p>\n<hr />\n"},{"tags":[],"owner":{"account_id":20841018,"reputation":21,"user_id":15307798,"display_name":"Trusty Tiger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614777702,"creation_date":1614777702,"answer_id":66457953,"question_id":7780406,"body_markdown":" **First**, the key word static means that everything marked static must be the class-level thing and belongs to the class only.While constructors belong to object and they may usually be called when we use the **new** operator.So we now know that a constructor is not even a class property,how could we possibly mark it as static?\r\n  \r\n  **Second**,static constructor violates the whole purpose of inheritance in java.Every time just before we create an subclass object ,JVM automatically calls the superclass constructor to make it ready for the subclass object to be created.But if we mark the constructor static,the subclass will not be able to access the constructor of its superclass because it&#39;s marked static thus belongs to class only.","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p><strong>First</strong>, the key word static means that everything marked static must be the class-level thing and belongs to the class only.While constructors belong to object and they may usually be called when we use the <strong>new</strong> operator.So we now know that a constructor is not even a class property,how could we possibly mark it as static?</p>\n<p><strong>Second</strong>,static constructor violates the whole purpose of inheritance in java.Every time just before we create an subclass object ,JVM automatically calls the superclass constructor to make it ready for the subclass object to be created.But if we mark the constructor static,the subclass will not be able to access the constructor of its superclass because it's marked static thus belongs to class only.</p>\n"},{"tags":[],"owner":{"account_id":1504487,"reputation":25,"user_id":1408216,"accept_rate":0,"display_name":"joy87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657000290,"creation_date":1657000290,"answer_id":72864538,"question_id":7780406,"body_markdown":"a) static is belongs to class not object and constrictor is called during the object creation.\r\nb) if we create a constructor as static then it can&#39;t be call by subclass as static is accessible only from class not by sub class. So during subclass object creation it can&#39;t be call the present class constructor.\r\nc) static members are executed first in the program, so if we declare constructor as static then it will executed before object creation which is oppose the purpose of the constructor.\r\n\r\nIf we declare constructor as static then it will give compile time error.\r\nIf we want to initialize static member then need to use of static block.","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>a) static is belongs to class not object and constrictor is called during the object creation.\nb) if we create a constructor as static then it can't be call by subclass as static is accessible only from class not by sub class. So during subclass object creation it can't be call the present class constructor.\nc) static members are executed first in the program, so if we declare constructor as static then it will executed before object creation which is oppose the purpose of the constructor.</p>\n<p>If we declare constructor as static then it will give compile time error.\nIf we want to initialize static member then need to use of static block.</p>\n"}],"owner":{"account_id":958381,"reputation":1439,"user_id":983246,"accept_rate":100,"display_name":"user983246"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79409,"favorite_count":0,"down_vote_count":2,"up_vote_count":47,"accepted_answer_id":7780417,"answer_count":17,"score":45,"last_activity_date":1657000290,"creation_date":1318710177,"question_id":7780406,"body_markdown":"I do not understand why the main method has to be static. I understand static variables but static methods are difficult for me to grasp. Do static method exists so that one can create two methods with the same name in two different classes that won&#39;t clash with each other?\r\n\r\nAlso, I don&#39;t understand why I can&#39;t create a static constructor.\r\n\r\nCould anyone help explain this concept?","title":"Why can other methods be &quot;static&quot; but a constructor cannot?","body":"<p>I do not understand why the main method has to be static. I understand static variables but static methods are difficult for me to grasp. Do static method exists so that one can create two methods with the same name in two different classes that won't clash with each other?</p>\n\n<p>Also, I don't understand why I can't create a static constructor.</p>\n\n<p>Could anyone help explain this concept?</p>\n"},{"tags":["java","json","spring","jackson","pojo"],"answers":[{"tags":[],"owner":{"account_id":147833,"reputation":8013,"user_id":359226,"accept_rate":97,"display_name":"Garis M Suero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397146273,"creation_date":1397146273,"answer_id":22993398,"question_id":22993174,"body_markdown":"You will need an object like:\r\n\r\n    public class DateFormat implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private int column;\r\n       \r\n        private String pattern;\r\n    \r\n        public String getPattern() {\r\n            return name;\r\n        }\r\n    \r\n        public void setPattern(String pattern) {\r\n            this.pattern = pattern;\r\n        }\r\n    \r\n        public int getColumn() {\r\n            return name;\r\n        }\r\n    \r\n        public void setColumn(String column) {\r\n            this.column = column;\r\n        }\r\n    }\r\n\r\n\r\nAnd then your main object like:\r\n\r\n    public class DateFormatList implements Serializable {\r\n        private static final long serialVersionUID = 2514719982327593095L;\r\n    \r\n        private List&lt;DateFormat&gt; dateFormats = new ArrayList&lt;DateFormat&gt;();\r\n        \r\n        public List&lt;DateFormat&gt; getDateFormats() {\r\n            return name;\r\n        }\r\n    \r\n        public void setDateFormats(List&lt;DateFormat&gt; formats) {\r\n            this.dateFormats= formats;\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe method in your controller will look like:\r\n\r\n    public @ResponseBody String login(@RequestBody DateFormatList dataFormaPojo){\r\n        ....\r\n    }","title":"Parse Json Array to Pojo with Spring and Jackson?","body":"<p>You will need an object like:</p>\n\n<pre><code>public class DateFormat implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private int column;\n\n    private String pattern;\n\n    public String getPattern() {\n        return name;\n    }\n\n    public void setPattern(String pattern) {\n        this.pattern = pattern;\n    }\n\n    public int getColumn() {\n        return name;\n    }\n\n    public void setColumn(String column) {\n        this.column = column;\n    }\n}\n</code></pre>\n\n<p>And then your main object like:</p>\n\n<pre><code>public class DateFormatList implements Serializable {\n    private static final long serialVersionUID = 2514719982327593095L;\n\n    private List&lt;DateFormat&gt; dateFormats = new ArrayList&lt;DateFormat&gt;();\n\n    public List&lt;DateFormat&gt; getDateFormats() {\n        return name;\n    }\n\n    public void setDateFormats(List&lt;DateFormat&gt; formats) {\n        this.dateFormats= formats;\n    }\n}\n</code></pre>\n\n<p>The method in your controller will look like:</p>\n\n<pre><code>public @ResponseBody String login(@RequestBody DateFormatList dataFormaPojo){\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5383195,"reputation":209,"user_id":4287916,"display_name":"back track"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416841449,"creation_date":1416840097,"answer_id":27107400,"question_id":22993174,"body_markdown":"Just use `notifydatasetchanged()` after the deletion is completed successfully \r\nor just make an instance from your adapter and then access `notifydatasetchanged()`\r\nI hope this will solve your problem","title":"Parse Json Array to Pojo with Spring and Jackson?","body":"<p>Just use <code>notifydatasetchanged()</code> after the deletion is completed successfully \nor just make an instance from your adapter and then access <code>notifydatasetchanged()</code>\nI hope this will solve your problem</p>\n"},{"tags":[],"owner":{"account_id":3044339,"reputation":82,"user_id":2580437,"accept_rate":0,"display_name":"Suresh Dhaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439954552,"creation_date":1439954552,"answer_id":32085997,"question_id":22993174,"body_markdown":"user object mapper to get object of java class with corresponding json string\r\n\r\n[java docs for object mapper][1]\r\n\r\n\r\n**here is example might help you**\r\n[enter link description here][2]\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-databind/javadoc/2.2.0/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [2]: http://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/","title":"Parse Json Array to Pojo with Spring and Jackson?","body":"<p>user object mapper to get object of java class with corresponding json string</p>\n\n<p><a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.2.0/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow\">java docs for object mapper</a></p>\n\n<p><strong>here is example might help you</strong>\n<a href=\"http://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/\" rel=\"nofollow\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":10414761,"reputation":3,"user_id":7679188,"display_name":"Saanvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656999981,"creation_date":1656999981,"answer_id":72864498,"question_id":22993174,"body_markdown":"As I do not have sufficient reputation to comment, updating the answer by @Garis M Suero. The update is to use the annotation @JsonProperty(&quot;DataFormat&quot;) for getter/setter method.\r\n\r\nYou will need an object like:\r\n\r\n    public class DateFormat implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private int column;\r\n\r\n    private String pattern;\r\n\r\n    public String getPattern() {\r\n        return name;\r\n    }\r\n\r\n    public void setPattern(String pattern) {\r\n        this.pattern = pattern;\r\n    }\r\n\r\n    public int getColumn() {\r\n        return name;\r\n    }\r\n\r\n    public void setColumn(String column) {\r\n        this.column = column;\r\n    }\r\n}\r\n\r\n\r\n\r\nAnd then your main object like:\r\n\r\npublic class DateFormatList implements Serializable {\r\n    private static final long serialVersionUID = 2514719982327593095L;\r\n\r\n    private List&lt;DateFormat&gt; dateFormats = new ArrayList&lt;DateFormat&gt;();\r\n\r\n    @JsonProperty(&quot;DataFormat&quot;)\r\n    public List&lt;DateFormat&gt; getDateFormats() {\r\n        return name;\r\n    }\r\n    \r\n    @JsonProperty(&quot;DataFormat&quot;)\r\n    public void setDateFormats(List&lt;DateFormat&gt; formats) {\r\n        this.dateFormats= formats;\r\n    }\r\n}","title":"Parse Json Array to Pojo with Spring and Jackson?","body":"<p>As I do not have sufficient reputation to comment, updating the answer by @Garis M Suero. The update is to use the annotation @JsonProperty(&quot;DataFormat&quot;) for getter/setter method.</p>\n<p>You will need an object like:</p>\n<pre><code>public class DateFormat implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\nprivate int column;\n\nprivate String pattern;\n\npublic String getPattern() {\n    return name;\n}\n\npublic void setPattern(String pattern) {\n    this.pattern = pattern;\n}\n\npublic int getColumn() {\n    return name;\n}\n\npublic void setColumn(String column) {\n    this.column = column;\n}\n</code></pre>\n<p>}</p>\n<p>And then your main object like:</p>\n<p>public class DateFormatList implements Serializable {\nprivate static final long serialVersionUID = 2514719982327593095L;</p>\n<pre><code>private List&lt;DateFormat&gt; dateFormats = new ArrayList&lt;DateFormat&gt;();\n\n@JsonProperty(&quot;DataFormat&quot;)\npublic List&lt;DateFormat&gt; getDateFormats() {\n    return name;\n}\n\n@JsonProperty(&quot;DataFormat&quot;)\npublic void setDateFormats(List&lt;DateFormat&gt; formats) {\n    this.dateFormats= formats;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":2422746,"reputation":931,"user_id":2115378,"accept_rate":5,"display_name":"user2115378"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6692,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1656999981,"creation_date":1397145671,"question_id":22993174,"body_markdown":"i have this Json String with an Array of Objects:\r\n\r\n    {DateFormat :[{column: 0, pattern: &quot;yyyyMMdd&quot;},\r\n                  {column: 2, pattern: &quot;yyyyMMdd&quot;} ]}\r\n\r\n\r\nand i user Spring MVC with the Jackson Parser..\r\n\r\nHow must the Java Pojo looks like that i can parse this Json String automaticly to an Object ?\r\n\r\nin Spring i do it normally like this:\r\n\r\n \r\n\r\n    public @ResponseBody String login(@RequestBody DateFormat dataFormaPojo){\r\n    \r\n    }\r\n\r\nthis works for an easy Json String but how can i parse my Array of Objects to an Java Object  or to an ArrayList with Objects in it? I want that the Jackson parser handles this automaticly if it recieves the json file.\r\n\r\n\r\nEDIT: i have extended the json file a little an created this java classes but it didn`t work:\r\n\r\n    import java.io.Serializable;\r\n    public class DataFormat implements Serializable\r\n    {\r\n        private static\r\n        final long serialVersionUID = 1L;\r\n        private Integer column;\r\n        private String type;\r\n        private String pattern;\r\n        public Integer getColumn()\r\n        {\r\n            return column;\r\n        }\r\n        public void setColumn(Integer column)\r\n        {\r\n            this.column = column;\r\n        }\r\n        public String getType()\r\n        {\r\n            return type;\r\n        }\r\n        public void setType(String type)\r\n        {\r\n            this.type = type;\r\n        }\r\n        public String getPattern()\r\n        {\r\n            return pattern;\r\n        }\r\n        public void setPattern(String pattern)\r\n        {\r\n            this.pattern = pattern;\r\n        }\r\n    }\r\n\r\nAnd the DataFormList class\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import\r\n    java.util.List;\r\n    public class DataFormatList implements Serializable\r\n    {\r\n        private static final long serialVersionUID = 2514719982327593095L;\r\n        private List&lt;DataFormat&gt; DataFormat = new ArrayList&lt;DataFormat&gt; ();\r\n        public List&lt;DataFormat&gt;  getDateFormats()\r\n        {\r\n            return DataFormat;\r\n        }\r\n        public void setDateFormats(List&lt;DataFormat&gt; formats)\r\n        {\r\n            this.DataFormat= formats;\r\n        }\r\n    }\r\n\r\nand in Spring:\r\n\r\n    @RequestMapping(value=&quot;/save&quot;,method=\r\n    {\r\n        RequestMethod.GET,RequestMethod.POST\r\n    }\r\n    )\r\n    public @ResponseBody String createDataSource( @RequestBody DataFormatList dataFormaPojo)\r\n    {\r\n        for(DataFormat df: dataFormaPojo.getDateFormats())\r\n        {\r\n            System.out.println(df.getType());\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\nThe Json String that i gett looks like this:\r\n\r\n    {\r\n        &quot;DataFormat&quot;: [\r\n            {\r\n                &quot;column&quot;: 0,\r\n                &quot;type&quot;: &quot;number&quot;\r\n            },\r\n            {\r\n                &quot;column&quot;: 1,\r\n                &quot;type&quot;: &quot;number&quot;\r\n            },\r\n            {\r\n                &quot;column&quot;: 2,\r\n                &quot;type&quot;: &quot;number&quot;\r\n            },\r\n            {\r\n                &quot;column&quot;: 3,\r\n                &quot;type&quot;: &quot;number&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nCan I set a custom name for the Objects with Jackson if i want that that the Object `DataFormat` has an other name ?\r\n\r\nand why did my class not parse the json string ? i got no error message.\r\n\r\nEDIT3: if i look in the goolge chrome dev tool i get a 400 Bad Request Message but in Spring i get no error Message from Jackson that he can not parse my Data to a Pojo..\r\n\r\n\r\n\r\n","title":"Parse Json Array to Pojo with Spring and Jackson?","body":"<p>i have this Json String with an Array of Objects:</p>\n\n<pre><code>{DateFormat :[{column: 0, pattern: \"yyyyMMdd\"},\n              {column: 2, pattern: \"yyyyMMdd\"} ]}\n</code></pre>\n\n<p>and i user Spring MVC with the Jackson Parser..</p>\n\n<p>How must the Java Pojo looks like that i can parse this Json String automaticly to an Object ?</p>\n\n<p>in Spring i do it normally like this:</p>\n\n<pre><code>public @ResponseBody String login(@RequestBody DateFormat dataFormaPojo){\n\n}\n</code></pre>\n\n<p>this works for an easy Json String but how can i parse my Array of Objects to an Java Object  or to an ArrayList with Objects in it? I want that the Jackson parser handles this automaticly if it recieves the json file.</p>\n\n<p>EDIT: i have extended the json file a little an created this java classes but it didn`t work:</p>\n\n<pre><code>import java.io.Serializable;\npublic class DataFormat implements Serializable\n{\n    private static\n    final long serialVersionUID = 1L;\n    private Integer column;\n    private String type;\n    private String pattern;\n    public Integer getColumn()\n    {\n        return column;\n    }\n    public void setColumn(Integer column)\n    {\n        this.column = column;\n    }\n    public String getType()\n    {\n        return type;\n    }\n    public void setType(String type)\n    {\n        this.type = type;\n    }\n    public String getPattern()\n    {\n        return pattern;\n    }\n    public void setPattern(String pattern)\n    {\n        this.pattern = pattern;\n    }\n}\n</code></pre>\n\n<p>And the DataFormList class</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.ArrayList;\nimport\njava.util.List;\npublic class DataFormatList implements Serializable\n{\n    private static final long serialVersionUID = 2514719982327593095L;\n    private List&lt;DataFormat&gt; DataFormat = new ArrayList&lt;DataFormat&gt; ();\n    public List&lt;DataFormat&gt;  getDateFormats()\n    {\n        return DataFormat;\n    }\n    public void setDateFormats(List&lt;DataFormat&gt; formats)\n    {\n        this.DataFormat= formats;\n    }\n}\n</code></pre>\n\n<p>and in Spring:</p>\n\n<pre><code>@RequestMapping(value=\"/save\",method=\n{\n    RequestMethod.GET,RequestMethod.POST\n}\n)\npublic @ResponseBody String createDataSource( @RequestBody DataFormatList dataFormaPojo)\n{\n    for(DataFormat df: dataFormaPojo.getDateFormats())\n    {\n        System.out.println(df.getType());\n    }\n    return \"\";\n}\n</code></pre>\n\n<p>The Json String that i gett looks like this:</p>\n\n<pre><code>{\n    \"DataFormat\": [\n        {\n            \"column\": 0,\n            \"type\": \"number\"\n        },\n        {\n            \"column\": 1,\n            \"type\": \"number\"\n        },\n        {\n            \"column\": 2,\n            \"type\": \"number\"\n        },\n        {\n            \"column\": 3,\n            \"type\": \"number\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Can I set a custom name for the Objects with Jackson if i want that that the Object <code>DataFormat</code> has an other name ?</p>\n\n<p>and why did my class not parse the json string ? i got no error message.</p>\n\n<p>EDIT3: if i look in the goolge chrome dev tool i get a 400 Bad Request Message but in Spring i get no error Message from Jackson that he can not parse my Data to a Pojo..</p>\n"},{"tags":["java","spring-boot","unit-testing","amazon-s3","mockito"],"comments":[{"owner":{"account_id":7357018,"reputation":356,"user_id":5601435,"display_name":"Fabien"},"score":0,"creation_date":1656939218,"post_id":72856825,"comment_id":128685849,"body_markdown":"Some information is missing. How do you instantiate your s3Client? Field injection, constructor injection, other? How do you run your unit test? Using the @SpringBootTest annotation?","body":"Some information is missing. How do you instantiate your s3Client? Field injection, constructor injection, other? How do you run your unit test? Using the @SpringBootTest annotation?"},{"owner":{"account_id":24609178,"reputation":7,"user_id":18511002,"display_name":"Nimasha Fernando"},"score":0,"creation_date":1656998836,"post_id":72856825,"comment_id":128698558,"body_markdown":"Hi @Fabian, Sorry ..now I have added the missing details. Could you please help me to write the unit test for this :( ?","body":"Hi @Fabian, Sorry ..now I have added the missing details. Could you please help me to write the unit test for this :( ?"},{"owner":{"account_id":6776074,"reputation":856,"user_id":5217790,"display_name":"Halil İbrahim Oymacı"},"score":0,"creation_date":1656999317,"post_id":72856825,"comment_id":128698652,"body_markdown":"You can use mock this object: s3Client via @Mock annotation, details are in: https://www.baeldung.com/mockito-annotations","body":"You can use mock this object: s3Client via @Mock annotation, details are in: <a href=\"https://www.baeldung.com/mockito-annotations\" rel=\"nofollow noreferrer\">baeldung.com/mockito-annotations</a>"}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656999894,"creation_date":1656999355,"answer_id":72864425,"question_id":72856825,"body_markdown":"With given code there is no much to test - only if upload method has been called.\r\n\r\n    @SpringBootTest\r\n    public class MyClassServiceTest{\r\n      \r\n    @Autowired\r\n     private  MyClassService myService; \r\n    @MockBean\r\n    private UploadClass uploadClass\r\n     \r\n     @Test\r\n     void processTest() {\r\n        myService.process();\r\n        //do some assertions\r\n        //.....\r\n        \r\n        verify(uploadClass,times(1)).upload(); //assert that uplaod has been called\r\n    }\r\n\r\n\r\nThis could be done using plain JunitRunner and Mockito. No need for complete app context.\r\n","title":"How to write Unit Tests for injected Springboot service","body":"<p>With given code there is no much to test - only if upload method has been called.</p>\n<pre><code>@SpringBootTest\npublic class MyClassServiceTest{\n  \n@Autowired\n private  MyClassService myService; \n@MockBean\nprivate UploadClass uploadClass\n \n @Test\n void processTest() {\n    myService.process();\n    //do some assertions\n    //.....\n    \n    verify(uploadClass,times(1)).upload(); //assert that uplaod has been called\n}\n</code></pre>\n<p>This could be done using plain JunitRunner and Mockito. No need for complete app context.</p>\n"}],"owner":{"account_id":24609178,"reputation":7,"user_id":18511002,"display_name":"Nimasha Fernando"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72864425,"answer_count":1,"score":0,"last_activity_date":1656999894,"creation_date":1656937891,"question_id":72856825,"body_markdown":"This is the my UploadClass. And it uploads a file to the S3 bucket using S3Client.\r\n  \r\n\r\n     public class UploadClass{\r\n         @Override\r\n         public void upload(){\r\n              ObjectMetadata metadata = new ObjectMetadata();\r\n              metadata.setContentLength(length);\r\n              PutObjectResult putObjectResult =\r\n                      this.s3Client.putObject(container, object, data, metadata);\r\n            }\r\n        }\r\n\r\nThis is the MyClass and here I have injected the the UploadClass via constructor injection and have used the upload() method of UploadClass.\r\n\r\n         @Service\r\n            public class MyClassServiceImpl implements MyClassService{\r\n            \r\n              private final UploadClass uploadClass;\r\n             \r\n             @Autowired\r\n              MyClass(final UploadClass uploadClass) {\r\n                this.uploadClass = uploadClass;\r\n            \r\n              }\r\n            \r\n             @Override\r\n              public void process() {\r\n    ......................Some other work ...................\r\n    .....................................................\r\n    ......................................................\r\n                this.uploadClass.upload();\r\n              }\r\n            }\r\n\r\nNow I am trying to write Unit tests for the process method in MyClass.And I need to mock the UploadClass using mockito and need to use mock output value for upload() method.This is my MyClassServiceTest class.How can I do this ?\r\n\r\n    @SpringBootTest\r\n    public class MyClassServiceTest{\r\n    \r\n     @Test\r\n     void processTest() {\r\n    \r\n    }\r\n    }\r\n\r\n","title":"How to write Unit Tests for injected Springboot service","body":"<p>This is the my UploadClass. And it uploads a file to the S3 bucket using S3Client.</p>\n<pre><code> public class UploadClass{\n     @Override\n     public void upload(){\n          ObjectMetadata metadata = new ObjectMetadata();\n          metadata.setContentLength(length);\n          PutObjectResult putObjectResult =\n                  this.s3Client.putObject(container, object, data, metadata);\n        }\n    }\n</code></pre>\n<p>This is the MyClass and here I have injected the the UploadClass via constructor injection and have used the upload() method of UploadClass.</p>\n<pre><code>     @Service\n        public class MyClassServiceImpl implements MyClassService{\n        \n          private final UploadClass uploadClass;\n         \n         @Autowired\n          MyClass(final UploadClass uploadClass) {\n            this.uploadClass = uploadClass;\n        \n          }\n        \n         @Override\n          public void process() {\n......................Some other work ...................\n.....................................................\n......................................................\n            this.uploadClass.upload();\n          }\n        }\n</code></pre>\n<p>Now I am trying to write Unit tests for the process method in MyClass.And I need to mock the UploadClass using mockito and need to use mock output value for upload() method.This is my MyClassServiceTest class.How can I do this ?</p>\n<pre><code>@SpringBootTest\npublic class MyClassServiceTest{\n\n @Test\n void processTest() {\n\n}\n}\n</code></pre>\n"},{"tags":["java","sql","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":6161409,"reputation":1259,"user_id":4802890,"display_name":"antoniodvr"},"score":0,"creation_date":1468346864,"post_id":38336019,"comment_id":64086235,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":8541072,"reputation":183,"user_id":6401178,"accept_rate":30,"display_name":"user6401178"},"score":0,"creation_date":1468347184,"post_id":38336019,"comment_id":64086393,"body_markdown":"@4castle it wouldn&#39;t have been hard to make this feature avail in jdbc. maybe the future versions will do.","body":"@4castle it wouldn&#39;t have been hard to make this feature avail in jdbc. maybe the future versions will do."},{"owner":{"account_id":8541072,"reputation":183,"user_id":6401178,"accept_rate":30,"display_name":"user6401178"},"score":0,"creation_date":1468347633,"post_id":38336019,"comment_id":64086632,"body_markdown":"@4castle this constitutes an ans by me. write it and i&#39;ll accept.","body":"@4castle this constitutes an ans by me. write it and i&#39;ll accept."},{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":0,"creation_date":1468347750,"post_id":38336019,"comment_id":64086694,"body_markdown":"@user6401178 I was thinking that... I wasn&#39;t totally sure though what your question was or what the appropriate answer would be. I&#39;ve moved my comments to the answer.","body":"@user6401178 I was thinking that... I wasn&#39;t totally sure though what your question was or what the appropriate answer would be. I&#39;ve moved my comments to the answer."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1468350047,"post_id":38336019,"comment_id":64087946,"body_markdown":"The answer already stated how it is to be solved, therefor I have closed is as a duplicate. I also suggest you to use full words (question instead of Q, answer instead of ans, available instead avail), it makes communication a lot clearer then random textspeak abbreviations.","body":"The answer already stated how it is to be solved, therefor I have closed is as a duplicate. I also suggest you to use full words (question instead of Q, answer instead of ans, available instead avail), it makes communication a lot clearer then random textspeak abbreviations."},{"owner":{"account_id":35417,"reputation":1065591,"user_id":100297,"display_name":"Martijn Pieters"},"score":0,"creation_date":1468489373,"post_id":38336019,"comment_id":64152344,"body_markdown":"Please don&#39;t roll back genuine improvements to your question.","body":"Please don&#39;t roll back genuine improvements to your question."},{"owner":{"account_id":8541072,"reputation":183,"user_id":6401178,"accept_rate":30,"display_name":"user6401178"},"score":0,"creation_date":1468506677,"post_id":38336019,"comment_id":64164064,"body_markdown":"@MartijnPieters pls dont remove my genuine comments and dont bully my Qs. my Qs have other purposes than adding points to your pal&#39;s account.","body":"@MartijnPieters pls dont remove my genuine comments and dont bully my Qs. my Qs have other purposes than adding points to your pal&#39;s account."},{"owner":{"account_id":35417,"reputation":1065591,"user_id":100297,"display_name":"Martijn Pieters"},"score":0,"creation_date":1468512587,"post_id":38336019,"comment_id":64168334,"body_markdown":"@user6401178: you may have misunderstood the purpose of this site, and no-one is getting points from the edits. I&#39;ve locked the post; editors here improve posts for *future visitors* that may want to check if they have the same problem.","body":"@user6401178: you may have misunderstood the purpose of this site, and no-one is getting points from the edits. I&#39;ve locked the post; editors here improve posts for <i>future visitors</i> that may want to check if they have the same problem."},{"owner":{"account_id":35417,"reputation":1065591,"user_id":100297,"display_name":"Martijn Pieters"},"score":0,"creation_date":1468512705,"post_id":38336019,"comment_id":64168393,"body_markdown":"@user6401178: also, please adhere to our [behaviour guidelines](https://stackoverflow.com/help/be-nice). No one is &#39;bullying&#39; you here. If you disagree with these policies or the edits made to your post, feel free to use the &#39;contact us&#39; link in the footer of every page or ask a question on [Meta].","body":"@user6401178: also, please adhere to our <a href=\"https://stackoverflow.com/help/be-nice\">behaviour guidelines</a>. No one is &#39;bullying&#39; you here. If you disagree with these policies or the edits made to your post, feel free to use the &#39;contact us&#39; link in the footer of every page or ask a question on <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>."}],"answers":[{"tags":[],"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1656999845,"creation_date":1468347700,"answer_id":38336309,"question_id":38336019,"body_markdown":"You won&#39;t be able to use a `PreparedStatement` if you want to have varying parameters. The SQL string has to have the correct number of question marks. That&#39;s why the workaround is to iterate and add the question marks first, and then create the `PreparedStatement` from that dynamic string.\r\n\r\nPart of the motivation for using a `PreparedStatement` is to avoid SQL injection. The `PreparedStatement` is like a contract with the database that there will only be *this* many parameters with *this* SQL statement. If the parameters could change, it would break that contract and the database would no longer know what to prepare for.","title":"PreparedStatement with variable number of params yet without iterating on them","body":"<p>You won't be able to use a <code>PreparedStatement</code> if you want to have varying parameters. The SQL string has to have the correct number of question marks. That's why the workaround is to iterate and add the question marks first, and then create the <code>PreparedStatement</code> from that dynamic string.</p>\n<p>Part of the motivation for using a <code>PreparedStatement</code> is to avoid SQL injection. The <code>PreparedStatement</code> is like a contract with the database that there will only be <em>this</em> many parameters with <em>this</em> SQL statement. If the parameters could change, it would break that contract and the database would no longer know what to prepare for.</p>\n"}],"owner":{"account_id":8541072,"reputation":183,"user_id":6401178,"accept_rate":30,"display_name":"user6401178"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6090,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1468349887,"accepted_answer_id":38336309,"answer_count":1,"score":1,"last_activity_date":1656999845,"creation_date":1468346625,"question_id":38336019,"body_markdown":"I am looking for verification on the following:\r\n\r\nThe way to use [PreparedStatement][1] with an unknown number of parameters is the way shown in [this question][2], and there&#39;s no way to get around such iteration on the Java/application side. \r\n\r\nI have been looking for a &quot;varargs&quot; kind of method &amp; syntax to feed into the [PreparedStatement][1] the variable number of arguments, say on a collection, and plug this as a single variable-placeholder into the query. \r\n\r\nThis is **not** a question. looking for verification just not to miss out. \r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\r\n  [2]: https://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause","title":"PreparedStatement with variable number of params yet without iterating on them","body":"<p>I am looking for verification on the following:</p>\n\n<p>The way to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">PreparedStatement</a> with an unknown number of parameters is the way shown in <a href=\"https://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause\">this question</a>, and there's no way to get around such iteration on the Java/application side. </p>\n\n<p>I have been looking for a \"varargs\" kind of method &amp; syntax to feed into the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">PreparedStatement</a> the variable number of arguments, say on a collection, and plug this as a single variable-placeholder into the query. </p>\n\n<p>This is <strong>not</strong> a question. looking for verification just not to miss out. </p>\n"},{"tags":["java","json","testing","junit","pact"],"answers":[{"tags":[],"owner":{"account_id":16537268,"reputation":41,"user_id":11948910,"display_name":"BDudz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656999771,"creation_date":1566258696,"answer_id":57565167,"question_id":56479178,"body_markdown":"We attempted to do what you are trying to do using reflection to stub out our pojos. However, our classes carry many Lombok annotations &amp; we couldn&#39;t get default values out from builder annotated fields. We gave up trying to use it. But a dev with more time could achieve this no doubt.\r\n\r\nI am now actively creating Pacts for our projects and use both `LambdaDsl` and `PactDslJsonBody`to build the interaction.\r\n\r\n```\r\nDslPart actualPactDsl = LambdaDsl.newJsonBody((body) -&gt; {\r\n            body\r\n                .stringType(&quot;status&quot;, &quot;ON&quot;)\r\n                .object(&quot;document&quot;, (doc) -&gt; {\r\n                    doc.stringType(&quot;status&quot;, &quot;NOT_FOUND&quot;);\r\n                    doc.stringType(&quot;release&quot;, &quot;undefined&quot;);\r\n                })\r\n                .object(&quot;file&quot;, (file) -&gt; {\r\n                    file.stringType(&quot;version&quot;, &quot;v1.4&quot;);\r\n                    file.stringType(&quot;release&quot;, &quot;1.1&quot;);\r\n                });\r\n}).build();\r\n```\r\n\r\nor \r\n\r\n```\r\nString pactDslJson = new PactDslJsonBody()\r\n    .stringType(&quot;status&quot;, &quot;ON&quot;)\r\n    .object(&quot;document&quot;)\r\n    .stringType(&quot;status&quot;, &quot;NOT_FOUND&quot;)\r\n    .stringType(&quot;release&quot;, &quot;undefined&quot;)\r\n    .closeObject()\r\n    .object(&quot;file&quot;)\r\n    .stringType(&quot;version&quot;, &quot;v1.4&quot;)\r\n    .stringType(&quot;release&quot;, &quot;1.1&quot;)\r\n    .closeObject()\r\n    .getBody().toString();\r\n\r\n```\r\n\r\nBoth of these examples will produce the Json string from your example.\r\n\r\nThe [examples][1] that are a part of [Pact-Jvm][2] are really helpful to get your head around the different types of tests you can create.\r\n\r\n\r\n  [1]: https://github.com/pact-foundation/pact-jvm/tree/master/consumer/junit/src/test/java/au/com/dius/pact/consumer/junit/examples\r\n  [2]: https://github.com/DiUS/pact-jvm","title":"PACT testing: correct way to write PactDslJsonBody","body":"<p>We attempted to do what you are trying to do using reflection to stub out our pojos. However, our classes carry many Lombok annotations &amp; we couldn't get default values out from builder annotated fields. We gave up trying to use it. But a dev with more time could achieve this no doubt.</p>\n<p>I am now actively creating Pacts for our projects and use both <code>LambdaDsl</code> and <code>PactDslJsonBody</code>to build the interaction.</p>\n<pre><code>DslPart actualPactDsl = LambdaDsl.newJsonBody((body) -&gt; {\n            body\n                .stringType(&quot;status&quot;, &quot;ON&quot;)\n                .object(&quot;document&quot;, (doc) -&gt; {\n                    doc.stringType(&quot;status&quot;, &quot;NOT_FOUND&quot;);\n                    doc.stringType(&quot;release&quot;, &quot;undefined&quot;);\n                })\n                .object(&quot;file&quot;, (file) -&gt; {\n                    file.stringType(&quot;version&quot;, &quot;v1.4&quot;);\n                    file.stringType(&quot;release&quot;, &quot;1.1&quot;);\n                });\n}).build();\n</code></pre>\n<p>or</p>\n<pre><code>String pactDslJson = new PactDslJsonBody()\n    .stringType(&quot;status&quot;, &quot;ON&quot;)\n    .object(&quot;document&quot;)\n    .stringType(&quot;status&quot;, &quot;NOT_FOUND&quot;)\n    .stringType(&quot;release&quot;, &quot;undefined&quot;)\n    .closeObject()\n    .object(&quot;file&quot;)\n    .stringType(&quot;version&quot;, &quot;v1.4&quot;)\n    .stringType(&quot;release&quot;, &quot;1.1&quot;)\n    .closeObject()\n    .getBody().toString();\n\n</code></pre>\n<p>Both of these examples will produce the Json string from your example.</p>\n<p>The <a href=\"https://github.com/pact-foundation/pact-jvm/tree/master/consumer/junit/src/test/java/au/com/dius/pact/consumer/junit/examples\" rel=\"nofollow noreferrer\">examples</a> that are a part of <a href=\"https://github.com/DiUS/pact-jvm\" rel=\"nofollow noreferrer\">Pact-Jvm</a> are really helpful to get your head around the different types of tests you can create.</p>\n"}],"owner":{"account_id":6402035,"reputation":669,"user_id":5037022,"accept_rate":52,"display_name":"marhg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5677,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656999771,"creation_date":1559829541,"question_id":56479178,"body_markdown":"I have the following JSON format\r\n\r\n    {\r\n        &quot;file&quot;: {\r\n            &quot;version&quot;: &quot;v1.4&quot;,\r\n            &quot;release&quot;: &quot;1.1&quot;\r\n        },\r\n        &quot;status&quot;: &quot;ON&quot;,\r\n        &quot;document&quot;: {\r\n            &quot;status&quot;: &quot;NOT_FOUND&quot;,\r\n            &quot;release&quot;: &quot;undefined&quot;\r\n        }\r\n    }\r\n\r\nand I would like to know how I can add the format into my PactDslJsonBody, something like?\r\n\r\n    DslPart result = new PactDslJsonBody()\r\n            .stringType(&quot;file.version&quot;, &quot;v1.4&quot;)\r\n            .stringType(&quot;file.release&quot;, &quot;1.1&quot;)\r\n            .stringType(&quot;status&quot;, &quot;ON&quot;)\r\n            .stringType(&quot;document.status&quot;, &quot;NOT_FOUND&quot;)\r\n            .stringType(&quot;document.release&quot;, &quot;release&quot;) \r\n            .asBody();\r\n\r\nOr is it possible to add a Java Pojo? I have the class ApplicationResponse:\r\n\r\n    public class ApplicationResponse {\r\n    \r\n      private File file;\r\n      private String status;\r\n      private Document document;\r\n    \r\n      //...\r\n    \r\n    }\r\n\r\n    Something like ??\r\n        DslPart result = new PactDslJsonBody()\r\n                .object(ApplicationResponse)\r\n                .asBody();\r\n\r\nWhat could be the best approach? could you please add an example\r\n\r\n","title":"PACT testing: correct way to write PactDslJsonBody","body":"<p>I have the following JSON format</p>\n\n<pre><code>{\n    \"file\": {\n        \"version\": \"v1.4\",\n        \"release\": \"1.1\"\n    },\n    \"status\": \"ON\",\n    \"document\": {\n        \"status\": \"NOT_FOUND\",\n        \"release\": \"undefined\"\n    }\n}\n</code></pre>\n\n<p>and I would like to know how I can add the format into my PactDslJsonBody, something like?</p>\n\n<pre><code>DslPart result = new PactDslJsonBody()\n        .stringType(\"file.version\", \"v1.4\")\n        .stringType(\"file.release\", \"1.1\")\n        .stringType(\"status\", \"ON\")\n        .stringType(\"document.status\", \"NOT_FOUND\")\n        .stringType(\"document.release\", \"release\") \n        .asBody();\n</code></pre>\n\n<p>Or is it possible to add a Java Pojo? I have the class ApplicationResponse:</p>\n\n<pre><code>public class ApplicationResponse {\n\n  private File file;\n  private String status;\n  private Document document;\n\n  //...\n\n}\n\nSomething like ??\n    DslPart result = new PactDslJsonBody()\n            .object(ApplicationResponse)\n            .asBody();\n</code></pre>\n\n<p>What could be the best approach? could you please add an example</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":15935,"reputation":346512,"user_id":34211,"accept_rate":83,"display_name":"Andrew Hare"},"score":2,"creation_date":1268849258,"post_id":2464676,"comment_id":2454361,"body_markdown":"Your output does not show `&lt;div&gt;` either - should the regular expression strip all markup or just `&lt;br/&gt;`?","body":"Your output does not show <code>&lt;div&gt;</code> either - should the regular expression strip all markup or just <code>&lt;br&#47;&gt;</code>?"},{"owner":{"account_id":5973444,"reputation":145,"user_id":4695110,"display_name":"igor.js"},"score":0,"creation_date":1656998491,"post_id":2464676,"comment_id":128698500,"body_markdown":"Try this https://stackoverflow.com/a/38648319/4695110","body":"Try this <a href=\"https://stackoverflow.com/a/38648319/4695110\">stackoverflow.com/a/38648319/4695110</a>"}],"answers":[{"tags":[],"owner":{"account_id":15935,"reputation":346512,"user_id":34211,"accept_rate":83,"display_name":"Andrew Hare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1268852162,"creation_date":1268849194,"answer_id":2464688,"question_id":2464676,"body_markdown":"Try this:\r\n\r\n    String fixedString = badString.replaceAll(&quot;&lt;br\\s*/&gt;&quot;, &quot;&quot;);","title":"how to remove the &lt;br/&gt; using regex in java?","body":"<p>Try this:</p>\n\n<pre><code>String fixedString = badString.replaceAll(\"&lt;br\\s*/&gt;\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108567,"reputation":6062,"user_id":288091,"accept_rate":94,"display_name":"Ilya Smagin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1268849276,"creation_date":1268849276,"answer_id":2464697,"question_id":2464676,"body_markdown":"Are you sure you need regex for it?\r\n\r\nwhy not just remove all tags, e. g. replace &#39;`&lt;br/&gt;`&#39; with &quot;&quot; or &quot;\\n&quot;, as you like?","title":"how to remove the &lt;br/&gt; using regex in java?","body":"<p>Are you sure you need regex for it?</p>\n\n<p>why not just remove all tags, e. g. replace '<code>&lt;br/&gt;</code>' with \"\" or \"\\n\", as you like?</p>\n"},{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1268849288,"creation_date":1268849288,"answer_id":2464698,"question_id":2464676,"body_markdown":"To get rid of all the tags in the string you can match:\r\n\r\n    &lt;[^&gt;]*&gt;\r\n\r\nand replace it with `&#39;&#39;`","title":"how to remove the &lt;br/&gt; using regex in java?","body":"<p>To get rid of all the tags in the string you can match:</p>\n\n<pre><code>&lt;[^&gt;]*&gt;\n</code></pre>\n\n<p>and replace it with <code>''</code></p>\n"},{"tags":[],"owner":{"account_id":307973,"reputation":1481,"user_id":619587,"display_name":"codeskraps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403270674,"creation_date":1403270674,"answer_id":24328373,"question_id":2464676,"body_markdown":"    replaceAll(&quot;&lt;br */&gt;&quot;, &quot;&quot;);","title":"how to remove the &lt;br/&gt; using regex in java?","body":"<pre><code>replaceAll(\"&lt;br */&gt;\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5973444,"reputation":145,"user_id":4695110,"display_name":"igor.js"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656998559,"creation_date":1469748615,"answer_id":38648319,"question_id":2464676,"body_markdown":"Try this:\r\n\r\n```java\r\nString fixedString = badString.replaceAll(&quot;&lt;br(.*?\\/?)&gt;&quot;, &quot;&quot;);\r\n```\r\n\r\nI think this expression will solve the problem.\r\nIt matches with both line-break combinations.\r\n\r\n`&lt;br&gt;` and `&lt;br/&gt;`, even with spaces inside them.","title":"how to remove the &lt;br/&gt; using regex in java?","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fixedString = badString.replaceAll(&quot;&lt;br(.*?\\/?)&gt;&quot;, &quot;&quot;);\n</code></pre>\n<p>I think this expression will solve the problem.\nIt matches with both line-break combinations.</p>\n<p><code>&lt;br&gt;</code> and <code>&lt;br/&gt;</code>, even with spaces inside them.</p>\n"}],"owner":{"account_id":98821,"reputation":90665,"user_id":267269,"accept_rate":86,"display_name":"Praveen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6069,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2464698,"answer_count":5,"score":2,"last_activity_date":1656998559,"creation_date":1268849101,"question_id":2464676,"body_markdown":"how to get value without `&lt;br/&gt;` tag using regex n java?\r\n\r\nmy String is:\r\n\r\n    &lt;Div&gt;\r\n      West Newton, MA 02465\r\n        &lt;br/&gt;USA\r\n    &lt;/Div&gt;\r\n\r\noutput should be like:\r\n  \r\n    West Newton, MA 02465\r\n    USA\r\n\r\n\r\nmy pattern is like:\r\n\r\n    Pattern p8 = Pattern\r\n\t\t\t\t\t.compile(&quot;&lt;div class=\\&quot;leftLabel\\&quot;&gt;Nickname&lt;/div&gt;\\\\s+&lt;div class=\\&quot;rightContent\\&quot;&gt;([^&lt;]*)&lt;/div&gt;&quot;);\r\n    Matcher m8 = p8.matcher(responseBody);\r\n\r\n\r\ni didnt get anything as result. what i have to put there(instead of ([^&lt;]*)).\r\n \r\nHow?\r\n","title":"how to remove the &lt;br/&gt; using regex in java?","body":"<p>how to get value without <code>&lt;br/&gt;</code> tag using regex n java?</p>\n\n<p>my String is:</p>\n\n<pre><code>&lt;Div&gt;\n  West Newton, MA 02465\n    &lt;br/&gt;USA\n&lt;/Div&gt;\n</code></pre>\n\n<p>output should be like:</p>\n\n<pre><code>West Newton, MA 02465\nUSA\n</code></pre>\n\n<p>my pattern is like:</p>\n\n<pre><code>Pattern p8 = Pattern\n                .compile(\"&lt;div class=\\\"leftLabel\\\"&gt;Nickname&lt;/div&gt;\\\\s+&lt;div class=\\\"rightContent\\\"&gt;([^&lt;]*)&lt;/div&gt;\");\nMatcher m8 = p8.matcher(responseBody);\n</code></pre>\n\n<p>i didnt get anything as result. what i have to put there(instead of ([^&lt;]*)).</p>\n\n<p>How?</p>\n"},{"tags":["java","webassembly","eos"],"owner":{"account_id":964216,"reputation":11,"user_id":5808210,"display_name":"Dream Wu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656998325,"creation_date":1552290701,"question_id":55097323,"body_markdown":"guys\r\nas you known ,WAVM(web assembly virtual machine) is a known wasm vm, and it is easy to integrate with c++ project , but I write java project ,I would like to run wavm in my java project and utilize wasm to load and run functions in wasm.\r\nI don&#39;t get good solution by google search, anyone know easy or viable way to integrate with java project and call related method in java? \r\nThanks in advance !","title":"how java project utilize wavm(web assembly virtual machine)?","body":"<p>guys\nas you known ,WAVM(web assembly virtual machine) is a known wasm vm, and it is easy to integrate with c++ project , but I write java project ,I would like to run wavm in my java project and utilize wasm to load and run functions in wasm.\nI don't get good solution by google search, anyone know easy or viable way to integrate with java project and call related method in java? \nThanks in advance !</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1490083466,"post_id":42921312,"comment_id":72940445,"body_markdown":"why not use https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#difference-java.util.Set-java.util.Set- ? Why are you trying to force a set into a map?","body":"why not use <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#difference-java.util.Set-java.util.Set-\" rel=\"nofollow noreferrer\">google.github.io/guava/releases/snapshot/api/docs/com/google&zwnj;&#8203;/&hellip;</a> ? Why are you trying to force a set into a map?"},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1490083672,"post_id":42921312,"comment_id":72940545,"body_markdown":"I would like to know which items only on left, which only on right, which in common (similar to map difference)","body":"I would like to know which items only on left, which only on right, which in common (similar to map difference)"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1490083690,"post_id":42921312,"comment_id":72940554,"body_markdown":"If you only need the keys, why are you converting to Map? A Map is basically a Set with values, so what you&#39;re saying makes no sense.","body":"If you only need the keys, why are you converting to Map? A Map is basically a Set with values, so what you&#39;re saying makes no sense."}],"answers":[{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490083752,"creation_date":1490083752,"answer_id":42921421,"question_id":42921312,"body_markdown":"You can convert a `Set` to a `Map` (same key and value taken from elements of `Set`) as shown below:\r\n\r\n    private &lt;T&gt; Map&lt;T, T&gt; toMap(Set&lt;T&gt; set) {\r\n    \tMap&lt;T, T&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n    \tset.forEach(t -&gt; map.put(t, t));//contains same key and value pair\r\n    \treturn map;\r\n    }","title":"Convert a set to map in java","body":"<p>You can convert a <code>Set</code> to a <code>Map</code> (same key and value taken from elements of <code>Set</code>) as shown below:</p>\n\n<pre><code>private &lt;T&gt; Map&lt;T, T&gt; toMap(Set&lt;T&gt; set) {\n    Map&lt;T, T&gt; map = new ConcurrentHashMap&lt;&gt;();\n    set.forEach(t -&gt; map.put(t, t));//contains same key and value pair\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6263840,"reputation":89,"user_id":4870183,"display_name":"Mantas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490083800,"creation_date":1490083800,"answer_id":42921438,"question_id":42921312,"body_markdown":"See similar answer [here][1].\r\n\r\nAssuming that your original set is a set of values (no keys in original data!), you will need to specify keys for the newly created map. Guava&#39;s `Maps.uniqueIndex` might be helpful (see [here][2])\r\n\r\nOtherwise, if your original set is a set of keys (no values in original data!) that you want to retain, you will need to specify default or specific values for the newly created map. Guava&#39;s `Maps.toMap` might be helpful here. (See more [here][3])\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5003832/how-to-transform-liststring-to-mapstring-string-with-google-collections\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#uniqueIndex-java.lang.Iterable-com.google.common.base.Function-\r\n  [3]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#toMap-java.lang.Iterable-com.google.common.base.Function-","title":"Convert a set to map in java","body":"<p>See similar answer <a href=\"https://stackoverflow.com/questions/5003832/how-to-transform-liststring-to-mapstring-string-with-google-collections\">here</a>.</p>\n\n<p>Assuming that your original set is a set of values (no keys in original data!), you will need to specify keys for the newly created map. Guava's <code>Maps.uniqueIndex</code> might be helpful (see <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#uniqueIndex-java.lang.Iterable-com.google.common.base.Function-\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>Otherwise, if your original set is a set of keys (no values in original data!) that you want to retain, you will need to specify default or specific values for the newly created map. Guava's <code>Maps.toMap</code> might be helpful here. (See more <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#toMap-java.lang.Iterable-com.google.common.base.Function-\" rel=\"nofollow noreferrer\">here</a>)</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490084645,"creation_date":1490084054,"answer_id":42921522,"question_id":42921312,"body_markdown":"From [comment][1]:\r\n\r\n &gt; I would like to know which items only on left, which only on right, which in common (similar to map difference)\r\n\r\nUse [`removeAll()`][2] and [`retainAll()][3]`.\r\n\r\nExample:\r\n\r\n\tSet&lt;Integer&gt; set1 = new HashSet&lt;&gt;(Arrays.asList(1,3,5,7,9));\r\n\tSet&lt;Integer&gt; set2 = new HashSet&lt;&gt;(Arrays.asList(3,4,5,6,7));\r\n\t\r\n\tSet&lt;Integer&gt; onlyIn1 = new HashSet&lt;&gt;(set1);\r\n\tonlyIn1.removeAll(set2);\r\n\t\r\n\tSet&lt;Integer&gt; onlyIn2 = new HashSet&lt;&gt;(set2);\r\n\tonlyIn2.removeAll(set1);\r\n\t\r\n\tSet&lt;Integer&gt; inBoth = new HashSet&lt;&gt;(set1);\r\n\tinBoth.retainAll(set2);\r\n\t\r\n\tSystem.out.println(&quot;set1: &quot; + set1);\r\n\tSystem.out.println(&quot;set2: &quot; + set2);\r\n\tSystem.out.println(&quot;onlyIn1: &quot; + onlyIn1);\r\n\tSystem.out.println(&quot;onlyIn2: &quot; + onlyIn2);\r\n\tSystem.out.println(&quot;inBoth : &quot; + inBoth);\r\n\r\n*Output*\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\tset1: [1, 3, 5, 7, 9]\r\n\tset2: [3, 4, 5, 6, 7]\r\n\tonlyIn1: [1, 9]\r\n\tonlyIn2: [4, 6]\r\n\tinBoth : [3, 5, 7]\r\n\r\n---\r\n\r\nNow, if you want to know all values and where they were found, you can do this (Java 8):\r\n\r\n\tSet&lt;Integer&gt; setA = new HashSet&lt;&gt;(Arrays.asList(1,3,5,7,9));\r\n\tSet&lt;Integer&gt; setB = new HashSet&lt;&gt;(Arrays.asList(3,4,5,6,7));\r\n\t\r\n\tMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n\tfor (Integer i : setA)\r\n\t\tmap.put(i, &quot;In A&quot;);\r\n\tfor (Integer i : setB)\r\n\t\tmap.compute(i, (k, v) -&gt; (v == null ? &quot;In B&quot; : &quot;In Both&quot;));\r\n\t\r\n\tSystem.out.println(&quot;setA: &quot; + setA);\r\n\tSystem.out.println(&quot;setB: &quot; + setB);\r\n\tmap.entrySet().stream().forEach(System.out::println);\r\n\r\n*Output*\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\tsetA: [1, 3, 5, 7, 9]\r\n\tsetB: [3, 4, 5, 6, 7]\r\n\t1=In A\r\n\t3=In Both\r\n\t4=In B\r\n\t5=In Both\r\n\t6=In B\r\n\t7=In Both\r\n\t9=In A\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42921312/how-to-convert-a-set-to-map#comment72940545_42921312\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#removeAll-java.util.Collection-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#retainAll-java.util.Collection-","title":"Convert a set to map in java","body":"<p>From <a href=\"https://stackoverflow.com/questions/42921312/how-to-convert-a-set-to-map#comment72940545_42921312\">comment</a>:</p>\n\n<blockquote>\n  <p>I would like to know which items only on left, which only on right, which in common (similar to map difference)</p>\n</blockquote>\n\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#removeAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>removeAll()</code></a> and [<code>retainAll()][3]</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;(Arrays.asList(1,3,5,7,9));\nSet&lt;Integer&gt; set2 = new HashSet&lt;&gt;(Arrays.asList(3,4,5,6,7));\n\nSet&lt;Integer&gt; onlyIn1 = new HashSet&lt;&gt;(set1);\nonlyIn1.removeAll(set2);\n\nSet&lt;Integer&gt; onlyIn2 = new HashSet&lt;&gt;(set2);\nonlyIn2.removeAll(set1);\n\nSet&lt;Integer&gt; inBoth = new HashSet&lt;&gt;(set1);\ninBoth.retainAll(set2);\n\nSystem.out.println(\"set1: \" + set1);\nSystem.out.println(\"set2: \" + set2);\nSystem.out.println(\"onlyIn1: \" + onlyIn1);\nSystem.out.println(\"onlyIn2: \" + onlyIn2);\nSystem.out.println(\"inBoth : \" + inBoth);\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>set1: [1, 3, 5, 7, 9]\nset2: [3, 4, 5, 6, 7]\nonlyIn1: [1, 9]\nonlyIn2: [4, 6]\ninBoth : [3, 5, 7]\n</code></pre>\n\n<hr>\n\n<p>Now, if you want to know all values and where they were found, you can do this (Java 8):</p>\n\n<pre><code>Set&lt;Integer&gt; setA = new HashSet&lt;&gt;(Arrays.asList(1,3,5,7,9));\nSet&lt;Integer&gt; setB = new HashSet&lt;&gt;(Arrays.asList(3,4,5,6,7));\n\nMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\nfor (Integer i : setA)\n    map.put(i, \"In A\");\nfor (Integer i : setB)\n    map.compute(i, (k, v) -&gt; (v == null ? \"In B\" : \"In Both\"));\n\nSystem.out.println(\"setA: \" + setA);\nSystem.out.println(\"setB: \" + setB);\nmap.entrySet().stream().forEach(System.out::println);\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>setA: [1, 3, 5, 7, 9]\nsetB: [3, 4, 5, 6, 7]\n1=In A\n3=In Both\n4=In B\n5=In Both\n6=In B\n7=In Both\n9=In A\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1184607,"reputation":5245,"user_id":1158844,"accept_rate":62,"display_name":"Shanerk"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1527354512,"creation_date":1527354512,"answer_id":50545197,"question_id":42921312,"body_markdown":"I ended up with a fairly straight-forward one line solution with Java 8 as follows:\r\n\r\n    Map&lt;String, Foo&gt; map = fooSet.stream().collect(Collectors.toMap(Foo::getKey, e -&gt; e));\r\n\r\n - fooSet is a set of objects of type Foo, i.e. `Set&lt;Foo&gt; fooSet`\r\n - Foo has a getter called `getKey` which returns a String\r\n\r\n","title":"Convert a set to map in java","body":"<p>I ended up with a fairly straight-forward one line solution with Java 8 as follows:</p>\n\n<pre><code>Map&lt;String, Foo&gt; map = fooSet.stream().collect(Collectors.toMap(Foo::getKey, e -&gt; e));\n</code></pre>\n\n<ul>\n<li>fooSet is a set of objects of type Foo, i.e. <code>Set&lt;Foo&gt; fooSet</code></li>\n<li>Foo has a getter called <code>getKey</code> which returns a String</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2549763,"reputation":109,"user_id":2213794,"display_name":"Bj&#246;rn Kahlert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1575643855,"creation_date":1575643855,"answer_id":59215393,"question_id":42921312,"body_markdown":"Improvement of [developer][1]&#39;s answer:\r\n\r\n    Map&lt;String, Foo&gt; map = fooSet.stream().collect(Collectors.toMap(Foo::getKey, Function.identity()));\r\n\r\nor if you statically import `Collectors.toMap` and `Function.identity`:\r\n\r\n    Map&lt;String, Foo&gt; map = fooSet.stream().collect(toMap(Foo::getKey, identity()));\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4385895/developer","title":"Convert a set to map in java","body":"<p>Improvement of <a href=\"https://stackoverflow.com/users/4385895/developer\">developer</a>'s answer:</p>\n\n<pre><code>Map&lt;String, Foo&gt; map = fooSet.stream().collect(Collectors.toMap(Foo::getKey, Function.identity()));\n</code></pre>\n\n<p>or if you statically import <code>Collectors.toMap</code> and <code>Function.identity</code>:</p>\n\n<pre><code>Map&lt;String, Foo&gt; map = fooSet.stream().collect(toMap(Foo::getKey, identity()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656997411,"creation_date":1656997411,"answer_id":72864215,"question_id":42921312,"body_markdown":"    package com.example;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\t\r\n        \tSet&lt;Foo&gt; s = new HashSet&lt;&gt;();\r\n        \ts.add(new Foo(&quot;cccc&quot;));\r\n        \ts.add(new Foo(&quot;aaaa&quot;));\r\n        \ts.add(new Foo(&quot;bbb&quot;));\r\n        \tMap&lt;String, Foo&gt; m = s.stream().collect(Collectors.toMap(Foo::getKey, Function.identity()));\r\n        \tSystem.out.println(m);\r\n    \t}\r\n    }\r\n    \r\n    class Foo {\r\n    \tString name;\r\n    \tFoo(String name){this.name = name;}\r\n    \tString getKey() {return name;}\r\n    }\r\n\r\n### Important note from the [reference](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-):\r\n\r\n&gt; The returned Collector is not concurrent. For parallel stream\r\n&gt; pipelines, the combiner function operates by merging the keys from one\r\n&gt; map into another, which can be an expensive operation. If it is not\r\n&gt; required that results are inserted into the Map in encounter order,\r\n&gt; using toConcurrentMap(Function, Function) may offer better parallel\r\n&gt; performance.","title":"Convert a set to map in java","body":"<pre><code>package com.example;\n\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {    \n        Set&lt;Foo&gt; s = new HashSet&lt;&gt;();\n        s.add(new Foo(&quot;cccc&quot;));\n        s.add(new Foo(&quot;aaaa&quot;));\n        s.add(new Foo(&quot;bbb&quot;));\n        Map&lt;String, Foo&gt; m = s.stream().collect(Collectors.toMap(Foo::getKey, Function.identity()));\n        System.out.println(m);\n    }\n}\n\nclass Foo {\n    String name;\n    Foo(String name){this.name = name;}\n    String getKey() {return name;}\n}\n</code></pre>\n<h3>Important note from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\">reference</a>:</h3>\n<blockquote>\n<p>The returned Collector is not concurrent. For parallel stream\npipelines, the combiner function operates by merging the keys from one\nmap into another, which can be an expensive operation. If it is not\nrequired that results are inserted into the Map in encounter order,\nusing toConcurrentMap(Function, Function) may offer better parallel\nperformance.</p>\n</blockquote>\n"}],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33470,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":6,"score":15,"last_activity_date":1656997411,"creation_date":1490083340,"question_id":42921312,"body_markdown":"I have a set and I want to convert it to map in order to use it later in guava&#39;s `Maps.difference()`. I only care about the keys in the difference.  \r\nCame up with this version:\r\n\r\n    private &lt;T&gt; Map&lt;T, T&gt; toMap(Set&lt;T&gt; set) {\r\n      return set.stream().collect(Collectors.toMap(Function.identity(), Function.identity()));\r\n    }\r\n\r\nHowever, I know that usually, a set has a backing field of map. This is the method I use to create the map:\r\n\r\n    public static &lt;E&gt; Set&lt;E&gt; newConcurrentHashSet() {\r\n      return Collections.newSetFromMap(new ConcurrentHashMap&lt;E, Boolean&gt;());\r\n    }\r\n\r\n  \r\nSince I only need the keys I thought maybe I can get a view of this field somehow. any idea?","title":"Convert a set to map in java","body":"<p>I have a set and I want to convert it to map in order to use it later in guava's <code>Maps.difference()</code>. I only care about the keys in the difference.<br>\nCame up with this version:</p>\n\n<pre><code>private &lt;T&gt; Map&lt;T, T&gt; toMap(Set&lt;T&gt; set) {\n  return set.stream().collect(Collectors.toMap(Function.identity(), Function.identity()));\n}\n</code></pre>\n\n<p>However, I know that usually, a set has a backing field of map. This is the method I use to create the map:</p>\n\n<pre><code>public static &lt;E&gt; Set&lt;E&gt; newConcurrentHashSet() {\n  return Collections.newSetFromMap(new ConcurrentHashMap&lt;E, Boolean&gt;());\n}\n</code></pre>\n\n<p>Since I only need the keys I thought maybe I can get a view of this field somehow. any idea?</p>\n"},{"tags":["java","dictionary","data-structures","ip"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1656997125,"post_id":72864120,"comment_id":128698280,"body_markdown":"Put the four bytes into a long (not int because it&#39;s signed), then just compare. Or `&amp;` and compare if you&#39;re using masks.","body":"Put the four bytes into a long (not int because it&#39;s signed), then just compare. Or <code>&amp;</code> and compare if you&#39;re using masks."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656997389,"post_id":72864120,"comment_id":128698323,"body_markdown":"A string would work with a regex check, see here to get you started [Validate if input string is a number between 0-255 using regex](https://stackoverflow.com/questions/31684083/validate-if-input-string-is-a-number-between-0-255-using-regex) or a quick search for &quot;java regex validate ip address&quot; should take you to a member of tutorials/examples","body":"A string would work with a regex check, see here to get you started <a href=\"https://stackoverflow.com/questions/31684083/validate-if-input-string-is-a-number-between-0-255-using-regex\">Validate if input string is a number between 0-255 using regex</a> or a quick search for &quot;java regex validate ip address&quot; should take you to a member of tutorials/examples"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656997724,"post_id":72864120,"comment_id":128698371,"body_markdown":"Does this answer your question: [Java IP Validator](https://stackoverflow.com/questions/19709657/java-ip-validator)","body":"Does this answer your question: <a href=\"https://stackoverflow.com/questions/19709657/java-ip-validator\">Java IP Validator</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1656998100,"post_id":72864120,"comment_id":128698434,"body_markdown":"see this answer https://stackoverflow.com/a/12057933/2310289","body":"see this answer <a href=\"https://stackoverflow.com/a/12057933/2310289\">stackoverflow.com/a/12057933/2310289</a>"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1657026687,"post_id":72864120,"comment_id":128707580,"body_markdown":"Sorry this question was closed.  The short answer is to convert IP addresses into longs, and then, since each CIDR range corresponds to a contiguous range, put the addresses at which validity changes into a TreeMap.  Lookup an IP using TreeMap.floorEntry()","body":"Sorry this question was closed.  The short answer is to convert IP addresses into longs, and then, since each CIDR range corresponds to a contiguous range, put the addresses at which validity changes into a TreeMap.  Lookup an IP using TreeMap.floorEntry()"}],"owner":{"account_id":18162045,"reputation":13,"user_id":13213289,"display_name":"Awdsa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656998062,"answer_count":0,"score":0,"last_activity_date":1656996414,"creation_date":1656996414,"question_id":72864120,"body_markdown":"I am trying to store IP ranges in Java. Can&#39;t find a particular data structure to store IP ranges. If the IP range is between 19.0.0.0 to 19.0.0.255, I need a way to check whether IP 19.0.0.1 is in the range. Which is the suitable data structure for it?","title":"Which data structure to use for storing IP ranges in Java for quick lookup?","body":"<p>I am trying to store IP ranges in Java. Can't find a particular data structure to store IP ranges. If the IP range is between 19.0.0.0 to 19.0.0.255, I need a way to check whether IP 19.0.0.1 is in the range. Which is the suitable data structure for it?</p>\n"},{"tags":["java","android","imageview","gif","android-glide"],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656996066,"creation_date":1656995318,"answer_id":72864025,"question_id":72863884,"body_markdown":"It should work. Because Glide trying to fetch image which type you specified. I just tried it and its work. it loads too late. If you wait a bit, you will see that it can be loaded. You can test it more easily if you upload a lower resolution gif file to Drive.\r\n\r\n[![Test][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/72ars.jpg","title":"Glide for Android: How to include GIFs from Google Drive?","body":"<p>It should work. Because Glide trying to fetch image which type you specified. I just tried it and its work. it loads too late. If you wait a bit, you will see that it can be loaded. You can test it more easily if you upload a lower resolution gif file to Drive.</p>\n<p><a href=\"https://i.stack.imgur.com/72ars.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72ars.jpg\" alt=\"Test\" /></a></p>\n"}],"owner":{"account_id":25727791,"reputation":13,"user_id":19483814,"display_name":"LonelyWithoutYou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72864025,"answer_count":1,"score":1,"last_activity_date":1656996066,"creation_date":1656993919,"question_id":72863884,"body_markdown":"I am trying to include GIFs in my android application. My GIFs are shared as a document on Google Drive with public access enabled. Currently, I&#39;m trying to use [Glide][1] to include the GIFs.\r\n\r\n\r\n     Glide.with(parent.getContext())\r\n                .asGif()\r\n                .load(&quot;https://drive.google.com/uc?id=1-QKgZ76K3EZQlbXyY3wI57FA8k31JmrA&quot;)\r\n                .into(imageView);\r\n\r\nHowever, although there is no error, the GIF does not display on my phone, even after a long time(internet issues shouldn&#39;t be the problem).\r\n\r\nIt appears that this is only a problem for GIFs on google drive. Trying to show an internet GIF such as [this one][2] works on my Android phone.\r\n\r\nHow can I show GIF files on Google Drive with Glide on my Android device?\r\n\r\n\r\n  [1]: https://github.com/bumptech/glide\r\n  [2]: https://res.cloudinary.com/demo/image/upload/bored_animation.gif","title":"Glide for Android: How to include GIFs from Google Drive?","body":"<p>I am trying to include GIFs in my android application. My GIFs are shared as a document on Google Drive with public access enabled. Currently, I'm trying to use <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a> to include the GIFs.</p>\n<pre><code> Glide.with(parent.getContext())\n            .asGif()\n            .load(&quot;https://drive.google.com/uc?id=1-QKgZ76K3EZQlbXyY3wI57FA8k31JmrA&quot;)\n            .into(imageView);\n</code></pre>\n<p>However, although there is no error, the GIF does not display on my phone, even after a long time(internet issues shouldn't be the problem).</p>\n<p>It appears that this is only a problem for GIFs on google drive. Trying to show an internet GIF such as <a href=\"https://res.cloudinary.com/demo/image/upload/bored_animation.gif\" rel=\"nofollow noreferrer\">this one</a> works on my Android phone.</p>\n<p>How can I show GIF files on Google Drive with Glide on my Android device?</p>\n"},{"tags":["java","web-services","ws-security"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":1,"creation_date":1329119277,"post_id":9257039,"comment_id":11665374,"body_markdown":"I&#39;d use a framework like metro, axis2 that supports WS-Security. Everything else may become a nightmare (you have to read the WS-S specs :-)","body":"I&#39;d use a framework like metro, axis2 that supports WS-Security. Everything else may become a nightmare (you have to read the WS-S specs :-)"},{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1329119358,"post_id":9257039,"comment_id":11665393,"body_markdown":"Have you first read the [Exclusive XML Canonicalization](http://www.w3.org/TR/xml-exc-c14n/) Specification?","body":"Have you first read the <a href=\"http://www.w3.org/TR/xml-exc-c14n/\" rel=\"nofollow noreferrer\">Exclusive XML Canonicalization</a> Specification?"},{"owner":{"account_id":209058,"reputation":3028,"user_id":459886,"accept_rate":86,"display_name":"Dmitry"},"score":0,"creation_date":1329119597,"post_id":9257039,"comment_id":11665435,"body_markdown":"Well, not yet, but thank you for the answer! I&#39;ll do it. Do you know any article, that contains suggestions on my issue?","body":"Well, not yet, but thank you for the answer! I&#39;ll do it. Do you know any article, that contains suggestions on my issue?"},{"owner":{"account_id":2255906,"reputation":1066,"user_id":1987098,"accept_rate":82,"display_name":"Alejandro L."},"score":0,"creation_date":1597997106,"post_id":9257039,"comment_id":112319993,"body_markdown":"How did you generate that header ?","body":"How did you generate that header ?"}],"answers":[{"tags":[],"owner":{"account_id":209058,"reputation":3028,"user_id":459886,"accept_rate":86,"display_name":"Dmitry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329145262,"creation_date":1329145262,"answer_id":9262643,"question_id":9257039,"body_markdown":"Well, I&#39;ve managed to validate the reference digest: canonicalize -&gt; sha1 -&gt; base64.\r\nThe problem is I can&#39;t validate the signature itself. I&#39;ve tried:\r\n\r\n     TransformerFactory transfac = TransformerFactory.newInstance();\r\n     Transformer trans = transfac.newTransformer();\r\n     StringWriter sw = new StringWriter();\r\n     StreamResult result = new StreamResult(sw);\r\n     DOMSource source = new DOMSource(signedInfoTag);\r\n     trans.transform(source, result);\r\n     String xmlString = sw.toString();\r\n\r\n     Signature sig = Signature.getInstance(&quot;SHA1withRSA&quot;, &quot;BC&quot;);\r\n\r\n     sig.initVerify(cert.getPublicKey());\r\n     sig.update(xmlString.getBytes());\r\n\r\n     byte[] signatureValueDecoded = Translator.base64StringToByteArray(signatureValue);\r\n             sig.verify (signatureValueDecoded);\r\n\r\nwhere xmlString is a &lt; SignedInfo &gt; tag. I&#39;ve read [this][1]. Still I don&#39;t know, how to format the xml in such a way. Actually it has to be done in-memory somehow\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4419168/manual-verification-of-xml-signature","title":"Validating a Signature of a SOAP Message","body":"<p>Well, I've managed to validate the reference digest: canonicalize -> sha1 -> base64.\nThe problem is I can't validate the signature itself. I've tried:</p>\n\n<pre><code> TransformerFactory transfac = TransformerFactory.newInstance();\n Transformer trans = transfac.newTransformer();\n StringWriter sw = new StringWriter();\n StreamResult result = new StreamResult(sw);\n DOMSource source = new DOMSource(signedInfoTag);\n trans.transform(source, result);\n String xmlString = sw.toString();\n\n Signature sig = Signature.getInstance(\"SHA1withRSA\", \"BC\");\n\n sig.initVerify(cert.getPublicKey());\n sig.update(xmlString.getBytes());\n\n byte[] signatureValueDecoded = Translator.base64StringToByteArray(signatureValue);\n         sig.verify (signatureValueDecoded);\n</code></pre>\n\n<p>where xmlString is a &lt; SignedInfo > tag. I've read <a href=\"https://stackoverflow.com/questions/4419168/manual-verification-of-xml-signature\">this</a>. Still I don't know, how to format the xml in such a way. Actually it has to be done in-memory somehow</p>\n"},{"tags":[],"owner":{"account_id":209058,"reputation":3028,"user_id":459886,"accept_rate":86,"display_name":"Dmitry"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1330172684,"creation_date":1330172684,"answer_id":9443960,"question_id":9257039,"body_markdown":"The solution is:\r\n\r\n     private boolean validateSignature(Node signatureNode, Node bodyTag, PublicKey publicKey) {\r\n        boolean signatureIsValid = false;\r\n        try {\r\n            // Create a DOM XMLSignatureFactory that will be used to unmarshal the\r\n            // document containing the XMLSignature\r\n            String providerName = System.getProperty\r\n                    (&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\r\n            XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;,\r\n                    (Provider) Class.forName(providerName).newInstance());\r\n\r\n            // Create a DOMValidateContext and specify a KeyValue KeySelector\r\n            // and document context\r\n            DOMValidateContext valContext = new DOMValidateContext(new X509KeySelector(publicKey), signatureNode);\r\n            valContext.setIdAttributeNS((Element) bodyTag, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\r\n\r\n            // Unmarshal the XMLSignature.\r\n            XMLSignature signature = fac.unmarshalXMLSignature(valContext);\r\n            // Validate the XMLSignature.\r\n            signatureIsValid = signature.validate(valContext);\r\n\r\n        } catch (Exception ex) {\r\n            logger.error(&quot;An Error Raised while Signature Validation&quot;);\r\n            logger.error(&quot;Cause: &quot; + ex.getCause());\r\n            logger.error(&quot;Message: &quot; + ex.getMessage());\r\n        }\r\n\r\n        return signatureIsValid;\r\n    }\r\n\r\nwhere\r\n\r\n    public class X509KeySelector extends KeySelector {\r\n\r\n    PublicKey key;\r\n\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param key a public key of a certificate which need to be validated.\r\n     */\r\n    public X509KeySelector(PublicKey key) {\r\n        this.key = key;\r\n    }\r\n\r\n    /**\r\n     * @return a KeySelectorResult with a predefined key.\r\n     */\r\n    public KeySelectorResult select(KeyInfo keyInfo,\r\n                                    KeySelector.Purpose purpose,\r\n                                    AlgorithmMethod method,\r\n                                    XMLCryptoContext context) throws KeySelectorException {\r\n        return new KeySelectorResult() {\r\n            @Override\r\n            public Key getKey() {\r\n                return key;\r\n            }\r\n        };\r\n    }\r\n\r\n    }\r\n\r\nand give to the X509KeySelector a public key you need to validate the signature.","title":"Validating a Signature of a SOAP Message","body":"<p>The solution is:</p>\n\n<pre><code> private boolean validateSignature(Node signatureNode, Node bodyTag, PublicKey publicKey) {\n    boolean signatureIsValid = false;\n    try {\n        // Create a DOM XMLSignatureFactory that will be used to unmarshal the\n        // document containing the XMLSignature\n        String providerName = System.getProperty\n                (\"jsr105Provider\", \"org.jcp.xml.dsig.internal.dom.XMLDSigRI\");\n        XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\",\n                (Provider) Class.forName(providerName).newInstance());\n\n        // Create a DOMValidateContext and specify a KeyValue KeySelector\n        // and document context\n        DOMValidateContext valContext = new DOMValidateContext(new X509KeySelector(publicKey), signatureNode);\n        valContext.setIdAttributeNS((Element) bodyTag, \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\", \"Id\");\n\n        // Unmarshal the XMLSignature.\n        XMLSignature signature = fac.unmarshalXMLSignature(valContext);\n        // Validate the XMLSignature.\n        signatureIsValid = signature.validate(valContext);\n\n    } catch (Exception ex) {\n        logger.error(\"An Error Raised while Signature Validation\");\n        logger.error(\"Cause: \" + ex.getCause());\n        logger.error(\"Message: \" + ex.getMessage());\n    }\n\n    return signatureIsValid;\n}\n</code></pre>\n\n<p>where</p>\n\n<pre><code>public class X509KeySelector extends KeySelector {\n\nPublicKey key;\n\n/**\n * Constructor.\n *\n * @param key a public key of a certificate which need to be validated.\n */\npublic X509KeySelector(PublicKey key) {\n    this.key = key;\n}\n\n/**\n * @return a KeySelectorResult with a predefined key.\n */\npublic KeySelectorResult select(KeyInfo keyInfo,\n                                KeySelector.Purpose purpose,\n                                AlgorithmMethod method,\n                                XMLCryptoContext context) throws KeySelectorException {\n    return new KeySelectorResult() {\n        @Override\n        public Key getKey() {\n            return key;\n        }\n    };\n}\n\n}\n</code></pre>\n\n<p>and give to the X509KeySelector a public key you need to validate the signature.</p>\n"}],"owner":{"account_id":209058,"reputation":3028,"user_id":459886,"accept_rate":86,"display_name":"Dmitry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15708,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9443960,"answer_count":2,"score":7,"last_activity_date":1656995829,"creation_date":1329118873,"question_id":9257039,"body_markdown":"Everybody, Hello!\r\n\r\nThis is my request message:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Header&gt;\r\n      &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; soap:mustUnderstand=&quot;1&quot;&gt;\r\n         &lt;wsse:BinarySecurityToken EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot; ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; wsu:Id=&quot;X509-A3BCFAE87E12A8813813289737654441&quot;&gt;MIICCTCCAXKgAwIBAgIETzVFkDANBgkqhkiG9w0BAQUFADBJMQswCQYDVQQGEwJSVTEKMAgGA1UECBMBMTEKMAgGA1UEBxMBMTEKMAgGA1UEChMBMTEKMAgGA1UECxMBMTEKMAgGA1UEAxMBMTAeFw0xMjAyMTAxNjI4MDBaFw0xMjA1MTAxNjI4MDBaMEkxCzAJBgNVBAYTAlJVMQowCAYDVQQIEwExMQowCAYDVQQHEwExMQowCAYDVQQKEwExMQowCAYDVQQLEwExMQowCAYDVQQDEwExMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCdwxyRNYlWADnTtzH9/s/ehhD2iFzvF2xI+tBNyhbBb98EQNiIFdEegwGPhtd3Cfe1lQqtddWdFX2uLqozMAgd1KzSEuH9lI5DPiir3RfVdy+Irs5ZYiD/H4/DcUMUNyVcWspf9oG25wNdwNHKY8Aqz2269uYMCCoIBuWt6POwFQIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAGLgTXbn7h2rBjv++6OopDooRifc4e2k+9sSTpLNegs9OvQzR8DpmQ/6Vt0RFprIdXSv+IVMcmL8Q2dmI9v0R61NIhdEjzSVbO2+PF9h1ShUARzMawRC/EOdjwVjDsk1WMxF18+wvH9SQxBSK3H2WpJbDWBxZCOW5CK1N6AKKJiC&lt;/wsse:BinarySecurityToken&gt;\r\n         &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;SIG-2&quot;&gt;\r\n            &lt;ds:SignedInfo&gt;\r\n               &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                  &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;soap&quot; /&gt;\r\n               &lt;/ds:CanonicalizationMethod&gt;\r\n               &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n               &lt;ds:Reference URI=&quot;#id-1&quot;&gt;\r\n                  &lt;ds:Transforms&gt;\r\n                     &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;&quot; /&gt;\r\n                     &lt;/ds:Transform&gt;\r\n                  &lt;/ds:Transforms&gt;\r\n                  &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                  &lt;ds:DigestValue&gt;RJhc1ZVjXdUQEIwLTH356p7H0QY=&lt;/ds:DigestValue&gt;\r\n               &lt;/ds:Reference&gt;\r\n            &lt;/ds:SignedInfo&gt;\r\n            &lt;ds:SignatureValue&gt;F0q0NV7kaSbAcsLHxVpYD1bQ1RAJcw6wPapDKAM9PIcs7EuS9S5PlE4cQMfAp1WgsKa91r3op1OQ5UrYmmdj/UneYawdPIYSaoFBGjndTXZnOCKp4YfRTQGZ2EVJRFHJbPsTsqHedPAyJLHhciViguTGeuA0hZAQN97KB/9ZLmY=&lt;/ds:SignatureValue&gt;\r\n            &lt;ds:KeyInfo Id=&quot;KI-A3BCFAE87E12A8813813289737654452&quot;&gt;\r\n               &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-A3BCFAE87E12A8813813289737654483&quot;&gt;\r\n                  &lt;wsse:Reference URI=&quot;#X509-A3BCFAE87E12A8813813289737654441&quot; ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\r\n               &lt;/wsse:SecurityTokenReference&gt;\r\n            &lt;/ds:KeyInfo&gt;\r\n         &lt;/ds:Signature&gt;\r\n      &lt;/wsse:Security&gt;\r\n    &lt;/soap:Header&gt;\r\n     &lt;soap:Body xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;id-1&quot;&gt;\r\n      &lt;stubMethod xmlns=&quot;http://ws_base.ws.stuff/&quot; /&gt;\r\n     &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nI try to validate the `&lt;ds:DigestValue&gt;RJhc1ZVjXdUQEIwLTH356p7H0QY=&lt;/ds:DigestValue&gt;` which is related to the body tag. There are tags like `ds:CanonicalizationMethod ` and `ds:Transforms`which are really confusing for me. My question is how to validate the body part? Firstly, what tag should I get to begin validation\r\n\r\n    &lt;soap:Body xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;id-1&quot;&gt;\r\n      &lt;stubMethod xmlns=&quot;http://ws_base.ws.stuff/&quot; /&gt;\r\n     &lt;/soap:Body&gt;\r\nor just\r\n\r\n    &lt;stubMethod xmlns=&quot;http://ws_base.ws.stuff/&quot; /&gt; \r\n??? What operations (canonicalization / transformation / encryption) must I perform???\r\n\r\nAny help is appreciate. Thanks in advance.","title":"Validating a Signature of a SOAP Message","body":"<p>Everybody, Hello!</p>\n\n<p>This is my request message:</p>\n\n<pre><code>&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n&lt;soap:Header&gt;\n  &lt;wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" soap:mustUnderstand=\"1\"&gt;\n     &lt;wsse:BinarySecurityToken EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\" ValueType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3\" wsu:Id=\"X509-A3BCFAE87E12A8813813289737654441\"&gt;MIICCTCCAXKgAwIBAgIETzVFkDANBgkqhkiG9w0BAQUFADBJMQswCQYDVQQGEwJSVTEKMAgGA1UECBMBMTEKMAgGA1UEBxMBMTEKMAgGA1UEChMBMTEKMAgGA1UECxMBMTEKMAgGA1UEAxMBMTAeFw0xMjAyMTAxNjI4MDBaFw0xMjA1MTAxNjI4MDBaMEkxCzAJBgNVBAYTAlJVMQowCAYDVQQIEwExMQowCAYDVQQHEwExMQowCAYDVQQKEwExMQowCAYDVQQLEwExMQowCAYDVQQDEwExMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCdwxyRNYlWADnTtzH9/s/ehhD2iFzvF2xI+tBNyhbBb98EQNiIFdEegwGPhtd3Cfe1lQqtddWdFX2uLqozMAgd1KzSEuH9lI5DPiir3RfVdy+Irs5ZYiD/H4/DcUMUNyVcWspf9oG25wNdwNHKY8Aqz2269uYMCCoIBuWt6POwFQIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAGLgTXbn7h2rBjv++6OopDooRifc4e2k+9sSTpLNegs9OvQzR8DpmQ/6Vt0RFprIdXSv+IVMcmL8Q2dmI9v0R61NIhdEjzSVbO2+PF9h1ShUARzMawRC/EOdjwVjDsk1WMxF18+wvH9SQxBSK3H2WpJbDWBxZCOW5CK1N6AKKJiC&lt;/wsse:BinarySecurityToken&gt;\n     &lt;ds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" Id=\"SIG-2\"&gt;\n        &lt;ds:SignedInfo&gt;\n           &lt;ds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;\n              &lt;ec:InclusiveNamespaces xmlns:ec=\"http://www.w3.org/2001/10/xml-exc-c14n#\" PrefixList=\"soap\" /&gt;\n           &lt;/ds:CanonicalizationMethod&gt;\n           &lt;ds:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt;\n           &lt;ds:Reference URI=\"#id-1\"&gt;\n              &lt;ds:Transforms&gt;\n                 &lt;ds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;\n                    &lt;ec:InclusiveNamespaces xmlns:ec=\"http://www.w3.org/2001/10/xml-exc-c14n#\" PrefixList=\"\" /&gt;\n                 &lt;/ds:Transform&gt;\n              &lt;/ds:Transforms&gt;\n              &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;\n              &lt;ds:DigestValue&gt;RJhc1ZVjXdUQEIwLTH356p7H0QY=&lt;/ds:DigestValue&gt;\n           &lt;/ds:Reference&gt;\n        &lt;/ds:SignedInfo&gt;\n        &lt;ds:SignatureValue&gt;F0q0NV7kaSbAcsLHxVpYD1bQ1RAJcw6wPapDKAM9PIcs7EuS9S5PlE4cQMfAp1WgsKa91r3op1OQ5UrYmmdj/UneYawdPIYSaoFBGjndTXZnOCKp4YfRTQGZ2EVJRFHJbPsTsqHedPAyJLHhciViguTGeuA0hZAQN97KB/9ZLmY=&lt;/ds:SignatureValue&gt;\n        &lt;ds:KeyInfo Id=\"KI-A3BCFAE87E12A8813813289737654452\"&gt;\n           &lt;wsse:SecurityTokenReference wsu:Id=\"STR-A3BCFAE87E12A8813813289737654483\"&gt;\n              &lt;wsse:Reference URI=\"#X509-A3BCFAE87E12A8813813289737654441\" ValueType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3\" /&gt;\n           &lt;/wsse:SecurityTokenReference&gt;\n        &lt;/ds:KeyInfo&gt;\n     &lt;/ds:Signature&gt;\n  &lt;/wsse:Security&gt;\n&lt;/soap:Header&gt;\n &lt;soap:Body xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" wsu:Id=\"id-1\"&gt;\n  &lt;stubMethod xmlns=\"http://ws_base.ws.stuff/\" /&gt;\n &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>I try to validate the <code>&lt;ds:DigestValue&gt;RJhc1ZVjXdUQEIwLTH356p7H0QY=&lt;/ds:DigestValue&gt;</code> which is related to the body tag. There are tags like <code>ds:CanonicalizationMethod</code> and <code>ds:Transforms</code>which are really confusing for me. My question is how to validate the body part? Firstly, what tag should I get to begin validation</p>\n\n<pre><code>&lt;soap:Body xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" wsu:Id=\"id-1\"&gt;\n  &lt;stubMethod xmlns=\"http://ws_base.ws.stuff/\" /&gt;\n &lt;/soap:Body&gt;\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>&lt;stubMethod xmlns=\"http://ws_base.ws.stuff/\" /&gt; \n</code></pre>\n\n<p>??? What operations (canonicalization / transformation / encryption) must I perform???</p>\n\n<p>Any help is appreciate. Thanks in advance.</p>\n"},{"tags":["java","sql-server","eclipse","jdbc"],"comments":[{"owner":{"account_id":1419439,"reputation":1433,"user_id":1344386,"accept_rate":100,"display_name":"Stefan"},"score":0,"creation_date":1380024801,"post_id":18981279,"comment_id":28037009,"body_markdown":"Well, the error is quite clear: JDBC can&#39;t connect to your database using SSL. Is your database configured to use SSL on port 1433?","body":"Well, the error is quite clear: JDBC can&#39;t connect to your database using SSL. Is your database configured to use SSL on port 1433?"},{"owner":{"account_id":3039486,"reputation":1776,"user_id":2576856,"accept_rate":68,"display_name":"qiGuar"},"score":0,"creation_date":1380024973,"post_id":18981279,"comment_id":28037102,"body_markdown":"Any code you are using? Help us to help you.","body":"Any code you are using? Help us to help you."},{"owner":{"account_id":3345784,"reputation":472,"user_id":2810964,"accept_rate":43,"display_name":"Navin Kumar"},"score":0,"creation_date":1380027585,"post_id":18981279,"comment_id":28038700,"body_markdown":"Hey I have posted the code in my new ques,can you help??","body":"Hey I have posted the code in my new ques,can you help??"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1380028427,"post_id":18981279,"comment_id":28039256,"body_markdown":"@user2810964 - Don&#39;t do that!  Edit this Question to add your code here!","body":"@user2810964 - Don&#39;t do that!  Edit this Question to add your code here!"},{"owner":{"account_id":3345784,"reputation":472,"user_id":2810964,"accept_rate":43,"display_name":"Navin Kumar"},"score":0,"creation_date":1380028806,"post_id":18981279,"comment_id":28039495,"body_markdown":"@Stephen C Yes I have done it..","body":"@Stephen C Yes I have done it.."}],"answers":[{"tags":[],"owner":{"account_id":3278785,"reputation":2285,"user_id":2759934,"display_name":"sunysen"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1380025808,"creation_date":1380025808,"answer_id":18981672,"question_id":18981279,"body_markdown":"\r\n    You need to Go to Start &gt; Microsoft SQL Server &gt; Configuration Tools &gt; SQL Server Configuration Manager\r\n\r\nWhen it opens Go to\r\n\r\n\r\n    SQL Server Configuration Manager &gt; SQL Server Network Configuration &gt; Protocols for SQLExpress \r\n\r\nWhere you&#39;ll find the Protocol TCP/IP, if disabled then Enable it Click on TCP/IP, You&#39;ll find its properties.\r\n\r\nIn this properties **Remove All the TCP Dynamic Ports and Add value of 1433 to all TCP Port\r\nand restart your SQL Server Services &gt; SQL Server**\r\n\r\nAnd Its Done...\r\n\r\n","title":"The TCP/IP connection to the host localhost, port 1433 has failed","body":"<pre><code>You need to Go to Start &gt; Microsoft SQL Server &gt; Configuration Tools &gt; SQL Server Configuration Manager\n</code></pre>\n\n<p>When it opens Go to</p>\n\n<pre><code>SQL Server Configuration Manager &gt; SQL Server Network Configuration &gt; Protocols for SQLExpress \n</code></pre>\n\n<p>Where you'll find the Protocol TCP/IP, if disabled then Enable it Click on TCP/IP, You'll find its properties.</p>\n\n<p>In this properties <strong>Remove All the TCP Dynamic Ports and Add value of 1433 to all TCP Port\nand restart your SQL Server Services > SQL Server</strong></p>\n\n<p>And Its Done...</p>\n"},{"tags":[],"owner":{"account_id":7522029,"reputation":331,"user_id":5713556,"display_name":"Raman B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463724257,"creation_date":1463724257,"answer_id":37339038,"question_id":18981279,"body_markdown":"For this kind of issue - you can resolve by checking whether all sql server related services are running or not.\r\n\r\n    TO check Start -&gt; Run -&gt; services.msc \r\n    check services related to sql as\r\n    SQL Server (MSSQLSERVER)\r\n    SQL Server Agent (MSSQLSERVER)\r\n    SQL Server Analysis Services (MSSQLSERVER)\r\n    SQL Server Browser\r\n    SQL Server Integration Services 10.0\r\n    SQL Server Reporting Services (MSSQLSERVER)\r\n    SQL Server VSS Writer\r\n    \r\n\r\nStart all the above services. and set to start up type to Automatic.\r\n\r\nSQL Active Directory Helper Service is not required to keep running.\r\n\r\nIt can used to deal with error SQL server connection error 2 \r\nand \r\nwith \r\nhe TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused:","title":"The TCP/IP connection to the host localhost, port 1433 has failed","body":"<p>For this kind of issue - you can resolve by checking whether all sql server related services are running or not.</p>\n\n<pre><code>TO check Start -&gt; Run -&gt; services.msc \ncheck services related to sql as\nSQL Server (MSSQLSERVER)\nSQL Server Agent (MSSQLSERVER)\nSQL Server Analysis Services (MSSQLSERVER)\nSQL Server Browser\nSQL Server Integration Services 10.0\nSQL Server Reporting Services (MSSQLSERVER)\nSQL Server VSS Writer\n</code></pre>\n\n<p>Start all the above services. and set to start up type to Automatic.</p>\n\n<p>SQL Active Directory Helper Service is not required to keep running.</p>\n\n<p>It can used to deal with error SQL server connection error 2 \nand \nwith \nhe TCP/IP connection to the host localhost, port 1433 has failed. Error: \"Connection refused:</p>\n"},{"tags":[],"owner":{"account_id":7214598,"reputation":91,"user_id":5507547,"display_name":"Steven Rodriguez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584827754,"creation_date":1584827754,"answer_id":60793714,"question_id":18981279,"body_markdown":"If you are running SQLSERVER EXPRESS:\r\n\r\nUse &quot;SQL Server Configuration Manager&quot; or write &quot;mmc.exe&quot; on Win+R and search &quot;SQL Server Network Configuration&quot;, in the &quot;Protocols for SQLEXPRESS&quot; enable the option TCP/IP\r\n\r\nI hope than this works for somebody!!","title":"The TCP/IP connection to the host localhost, port 1433 has failed","body":"<p>If you are running SQLSERVER EXPRESS:</p>\n\n<p>Use \"SQL Server Configuration Manager\" or write \"mmc.exe\" on Win+R and search \"SQL Server Network Configuration\", in the \"Protocols for SQLEXPRESS\" enable the option TCP/IP</p>\n\n<p>I hope than this works for somebody!!</p>\n"},{"tags":[],"owner":{"account_id":20715456,"reputation":1,"user_id":15211045,"display_name":"7 NDT"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656995430,"creation_date":1656995430,"answer_id":72864029,"question_id":18981279,"body_markdown":"It can used to deal with error SQL server connection error 2 and with he TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused:  https://www.youtube.com/watch?v=R8_jjkeulEw\r\n\r\nor please check if the table name is duplicated, i changed the table name --&gt; problem solved","title":"The TCP/IP connection to the host localhost, port 1433 has failed","body":"<p>It can used to deal with error SQL server connection error 2 and with he TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused:  <a href=\"https://www.youtube.com/watch?v=R8_jjkeulEw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=R8_jjkeulEw</a></p>\n<p>or please check if the table name is duplicated, i changed the table name --&gt; problem solved</p>\n"}],"owner":{"account_id":3345784,"reputation":472,"user_id":2810964,"accept_rate":43,"display_name":"Navin Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107376,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":4,"score":35,"last_activity_date":1656995430,"creation_date":1380024705,"question_id":18981279,"body_markdown":"I&#39;m getting this 2 errors repeatedly when I&#39;m trying to connect eclipse with **sql server** through **jdbc**. Could anyone help me with this or explain why am I getting this?\r\n\r\n    1. The TCP/IP connection to the host localhost, port 1433 has failed.  \r\n    2. The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption.\r\n\r\nThank you.\r\n\r\n    String driver = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n    Class.forName(driver).newInstance();\r\n    String connString      =&quot;jdbc:sqlserver://localhost:1433/databaseName=Engg_Street;instance=SQLSERVER;encrypt=true;     trustServerCertificate=true&quot;;\r\n    String username = &quot;Vijayalakshmi&quot;;\r\n    String password = &quot;&quot;;\r\n    conn = DriverManager.getConnection(connString,username,password);","title":"The TCP/IP connection to the host localhost, port 1433 has failed","body":"<p>I'm getting this 2 errors repeatedly when I'm trying to connect eclipse with <strong>sql server</strong> through <strong>jdbc</strong>. Could anyone help me with this or explain why am I getting this?</p>\n\n<pre><code>1. The TCP/IP connection to the host localhost, port 1433 has failed.  \n2. The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption.\n</code></pre>\n\n<p>Thank you.</p>\n\n<pre><code>String driver = \"com.microsoft.sqlserver.jdbc.SQLServerDriver\";\nClass.forName(driver).newInstance();\nString connString      =\"jdbc:sqlserver://localhost:1433/databaseName=Engg_Street;instance=SQLSERVER;encrypt=true;     trustServerCertificate=true\";\nString username = \"Vijayalakshmi\";\nString password = \"\";\nconn = DriverManager.getConnection(connString,username,password);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":5,"creation_date":1656971857,"post_id":72862295,"comment_id":128694980,"body_markdown":"`seatsAvailable` should not be static, and it should not be a member of `Booking`.  You are missing a `Venue` object, where `seatsAvailable` belongs.  Providing an answer to your question as written would be misleading, since it would imply your design is reasonable, which it is not.","body":"<code>seatsAvailable</code> should not be static, and it should not be a member of <code>Booking</code>.  You are missing a <code>Venue</code> object, where <code>seatsAvailable</code> belongs.  Providing an answer to your question as written would be misleading, since it would imply your design is reasonable, which it is not."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656972131,"creation_date":1656972131,"answer_id":72862358,"question_id":72862295,"body_markdown":"&gt; _in above Booking class i want to update seatsAvailable static variable by using setSeatsAvailable static method but i am passing nonstatic varible in it i.e this.seatsRequired which is not permitted.is there any alternate to achive the updated seatsAvailable static varibale without doing major changes in code_\r\n\r\nWhen calling a static method, there is no assocated object instance. So, it is not valid to use `this` inside a static method, since `this` refers to the current object (but you have none).\r\n\r\nSpecfically, this method isn&#39;t correct:\r\n```\r\npublic static void setSeatsAvailable(int seatsAvailable) {\r\n    Booking.seatsAvailable = Booking.seatsAvailable - this.seatsRequired;\r\n}\r\n```\r\n\r\nIf you want to keep the method static, you could pass an additional parameter to the method – an instance of `Booking` – and then replace `this.seatsRequired` with `booking.seatsRequired`, like this:\r\n```\r\npublic static void setSeatsAvailable(int seatsAvailable, Booking booking) {\r\n    Booking.seatsAvailable = Booking.seatsAvailable - booking.seatsRequired;\r\n}\r\n```\r\n","title":"How to update static variable by passing the parameters of the same variable and nonstatic ones into static function in java?","body":"<blockquote>\n<p><em>in above Booking class i want to update seatsAvailable static variable by using setSeatsAvailable static method but i am passing nonstatic varible in it i.e this.seatsRequired which is not permitted.is there any alternate to achive the updated seatsAvailable static varibale without doing major changes in code</em></p>\n</blockquote>\n<p>When calling a static method, there is no assocated object instance. So, it is not valid to use <code>this</code> inside a static method, since <code>this</code> refers to the current object (but you have none).</p>\n<p>Specfically, this method isn't correct:</p>\n<pre><code>public static void setSeatsAvailable(int seatsAvailable) {\n    Booking.seatsAvailable = Booking.seatsAvailable - this.seatsRequired;\n}\n</code></pre>\n<p>If you want to keep the method static, you could pass an additional parameter to the method – an instance of <code>Booking</code> – and then replace <code>this.seatsRequired</code> with <code>booking.seatsRequired</code>, like this:</p>\n<pre><code>public static void setSeatsAvailable(int seatsAvailable, Booking booking) {\n    Booking.seatsAvailable = Booking.seatsAvailable - booking.seatsRequired;\n}\n</code></pre>\n"}],"owner":{"account_id":25726337,"reputation":7,"user_id":19482648,"display_name":"varun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656995060,"creation_date":1656971313,"question_id":72862295,"body_markdown":"```java\r\npackage staticassignment3;\r\n    \r\npublic class Booking {\r\n    \r\n    private String customerEmail;\r\n    private int seatsRequired;\r\n    private static int seatsAvailable;\r\n    private boolean isBooked;\r\n    \t\r\n    static {\r\n        seatsAvailable = 400;\r\n    }\r\n    public Booking(String customerEmail,  int seatsRequired) {\r\n        this.customerEmail = customerEmail;\r\n    \tthis.seatsRequired = seatsRequired;\r\n    }\r\n    \t\r\n    \r\n    public String getCustomerEmail() {\r\n        return this.customerEmail;\r\n    }\r\n    public void setCustomerEmail(String customerEmail) {\r\n    \tthis.customerEmail= customerEmail;\r\n    }\r\n    \t\r\n    public int getSeatsRequired() {\r\n    \treturn this.seatsRequired;\r\n    }\r\n    public void setSeatsRequired(int seatsRequired) {\r\n    \tthis.seatsRequired = seatsRequired;\r\n    }\r\n    \t\r\n    public static int getSeatsAvailable() {\r\n    \treturn Booking.seatsAvailable;\r\n    }\r\n    public static void setSeatsAvailable(int seatsAvailable) {\r\n    \tBooking.seatsAvailable = Booking.seatsAvailable - this.seatsRequired;\r\n    }\r\n    \t\r\n    public boolean isBooked() {\r\n    \tif(Booking.seatsAvailable&gt;= this.seatsRequired) {\r\n    \t\tBooking.setSeatsAvailable(seatsAvailable);\r\n    \t\tthis.isBooked = true;\r\n    \t}\r\n    \telse {\r\n    \t\tthis.isBooked = false;\r\n    \t}\r\n    \treturn isBooked;\r\n    }\r\n}\r\n```\r\n\r\nIn the above Booking class, I want to update the static variable `seatsAvailable` by using the static method `setSeatsAvailable` but I am passing a nonstatic variable in it i.e `this.seatsRequired` which is not permitted. Is there any alternative to update the `seatsAvailable` without changing the code so much?\r\n\r\n```java\r\npackage staticassignment3;\r\n    \r\npublic class Tester {\r\n    \t\r\n    public static void main(String[] args) {\r\n        Booking booking1 = new Booking(&quot;jack@email.com&quot;, 100);\r\n    \tBooking booking2 = new Booking(&quot;jill@email.com&quot;, 350);\r\n    \r\n    \t        \r\n    \tBooking[] bookings = { booking1, booking2 };\r\n    \t              \r\n    \tfor (Booking booking : bookings) {\r\n    \t    if (booking.isBooked()) {\r\n    \t        System.out.println(booking.getSeatsRequired()+&quot; seats successfully booked for &quot;+booking.getCustomerEmail());\r\n    \t    } else {\r\n    \t        System.out.println(&quot;Sorry &quot;+booking.getCustomerEmail()+&quot;, required number of seats are not available!&quot;);\r\n    \t        System.out.println(&quot;Seats available: &quot;+Booking.getSeatsAvailable());\r\n    \t    }\r\n    \t}\r\n    }    \r\n}\r\n```\r\n","title":"How to update static variable by passing the parameters of the same variable and nonstatic ones into static function in java?","body":"<pre class=\"lang-java prettyprint-override\"><code>package staticassignment3;\n    \npublic class Booking {\n    \n    private String customerEmail;\n    private int seatsRequired;\n    private static int seatsAvailable;\n    private boolean isBooked;\n        \n    static {\n        seatsAvailable = 400;\n    }\n    public Booking(String customerEmail,  int seatsRequired) {\n        this.customerEmail = customerEmail;\n        this.seatsRequired = seatsRequired;\n    }\n        \n    \n    public String getCustomerEmail() {\n        return this.customerEmail;\n    }\n    public void setCustomerEmail(String customerEmail) {\n        this.customerEmail= customerEmail;\n    }\n        \n    public int getSeatsRequired() {\n        return this.seatsRequired;\n    }\n    public void setSeatsRequired(int seatsRequired) {\n        this.seatsRequired = seatsRequired;\n    }\n        \n    public static int getSeatsAvailable() {\n        return Booking.seatsAvailable;\n    }\n    public static void setSeatsAvailable(int seatsAvailable) {\n        Booking.seatsAvailable = Booking.seatsAvailable - this.seatsRequired;\n    }\n        \n    public boolean isBooked() {\n        if(Booking.seatsAvailable&gt;= this.seatsRequired) {\n            Booking.setSeatsAvailable(seatsAvailable);\n            this.isBooked = true;\n        }\n        else {\n            this.isBooked = false;\n        }\n        return isBooked;\n    }\n}\n</code></pre>\n<p>In the above Booking class, I want to update the static variable <code>seatsAvailable</code> by using the static method <code>setSeatsAvailable</code> but I am passing a nonstatic variable in it i.e <code>this.seatsRequired</code> which is not permitted. Is there any alternative to update the <code>seatsAvailable</code> without changing the code so much?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package staticassignment3;\n    \npublic class Tester {\n        \n    public static void main(String[] args) {\n        Booking booking1 = new Booking(&quot;jack@email.com&quot;, 100);\n        Booking booking2 = new Booking(&quot;jill@email.com&quot;, 350);\n    \n                \n        Booking[] bookings = { booking1, booking2 };\n                      \n        for (Booking booking : bookings) {\n            if (booking.isBooked()) {\n                System.out.println(booking.getSeatsRequired()+&quot; seats successfully booked for &quot;+booking.getCustomerEmail());\n            } else {\n                System.out.println(&quot;Sorry &quot;+booking.getCustomerEmail()+&quot;, required number of seats are not available!&quot;);\n                System.out.println(&quot;Seats available: &quot;+Booking.getSeatsAvailable());\n            }\n        }\n    }    \n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber","bdd"],"comments":[{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":2,"creation_date":1470376647,"post_id":38781629,"comment_id":64934986,"body_markdown":"Cucumber scenarios must be decoupled and independent of each other, hence it must make no difference in what order they will run. If you have scenarios that depend on previously executed ones, I suggest to review your design.","body":"Cucumber scenarios must be decoupled and independent of each other, hence it must make no difference in what order they will run. If you have scenarios that depend on previously executed ones, I suggest to review your design."},{"owner":{"account_id":8816603,"reputation":385,"user_id":6587779,"accept_rate":62,"display_name":"TT_"},"score":4,"creation_date":1470379912,"post_id":38781629,"comment_id":64936396,"body_markdown":"I agree with you. However, I need a way to run them in a particular order. :)","body":"I agree with you. However, I need a way to run them in a particular order. :)"},{"owner":{"account_id":3237842,"reputation":4118,"user_id":2731545,"display_name":"Thomas Sundberg"},"score":0,"creation_date":1470392739,"post_id":38781629,"comment_id":64943977,"body_markdown":"Why do you need to run them in a specific order?","body":"Why do you need to run them in a specific order?"},{"owner":{"account_id":170347,"reputation":2006,"user_id":396986,"accept_rate":91,"display_name":"Dave McNulla"},"score":1,"creation_date":1470411938,"post_id":38781629,"comment_id":64956564,"body_markdown":"If you have dependencies between scenarios then I hope this is a short term job because you will have a maintenance nightmare in the future.","body":"If you have dependencies between scenarios then I hope this is a short term job because you will have a maintenance nightmare in the future."},{"owner":{"account_id":7082609,"reputation":2568,"user_id":6269559,"display_name":"Neil Gaetano Lindberg"},"score":2,"creation_date":1546448048,"post_id":38781629,"comment_id":94857101,"body_markdown":"I need to run them in some order so because:\n- It takes an hour to run the whole UI side feature files.","body":"I need to run them in some order so because: - It takes an hour to run the whole UI side feature files."},{"owner":{"account_id":6912869,"reputation":954,"user_id":5308115,"accept_rate":29,"display_name":"yashodha_h"},"score":1,"creation_date":1636703453,"post_id":38781629,"comment_id":123632105,"body_markdown":"As @EugeneS suggests, Yes, it is true. Scenarios should be independent of each other. But there are some cases that we will not be able to separate scenarios without much overhead especially when writing complex features. It will be better if Cucumber provides a mechanism to mark dependent feature files and let the end-user manage the test execution flow. ( like JBehave supports dependant stories, Yes. stories and features are different but the flexibility JBehave provides is great )","body":"As @EugeneS suggests, Yes, it is true. Scenarios should be independent of each other. But there are some cases that we will not be able to separate scenarios without much overhead especially when writing complex features. It will be better if Cucumber provides a mechanism to mark dependent feature files and let the end-user manage the test execution flow. ( like JBehave supports dependant stories, Yes. stories and features are different but the flexibility JBehave provides is great )"}],"answers":[{"tags":[],"owner":{"account_id":2103824,"reputation":2943,"user_id":5912399,"display_name":"zarak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470376468,"creation_date":1470375706,"answer_id":38781877,"question_id":38781629,"body_markdown":"You can force cucumber to run the feature files in the order that you pass the filenames as arguments. For example,\r\n\r\n    $ cucumber file3.feature file2.feature file1.feature\r\n\r\nwill run the files in the order `file3.feature`, `file2.feature`, `file1.feature`.\r\n\r\nYou could also create a text file with the names of the feature files in the order that you want, with each name on its own line. For example, suppose the file is named `feature_order.txt` and it has the following contents:\r\n\r\n    file3.feature\r\n    file2.feature\r\n    file1.feature\r\n\r\nYou can then run the following command to run the files in the above order:\r\n\r\n    $ cucumber $(cat feature_order.txt)","title":"How to order feature files in Cucumber test suite?","body":"<p>You can force cucumber to run the feature files in the order that you pass the filenames as arguments. For example,</p>\n\n<pre><code>$ cucumber file3.feature file2.feature file1.feature\n</code></pre>\n\n<p>will run the files in the order <code>file3.feature</code>, <code>file2.feature</code>, <code>file1.feature</code>.</p>\n\n<p>You could also create a text file with the names of the feature files in the order that you want, with each name on its own line. For example, suppose the file is named <code>feature_order.txt</code> and it has the following contents:</p>\n\n<pre><code>file3.feature\nfile2.feature\nfile1.feature\n</code></pre>\n\n<p>You can then run the following command to run the files in the above order:</p>\n\n<pre><code>$ cucumber $(cat feature_order.txt)\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6261348"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1534494475,"creation_date":1471515913,"answer_id":39015770,"question_id":38781629,"body_markdown":"Cucumber features/scenarios are run in Alphabetical order by feature file name. \r\n\r\nHowever, if you specifically specify features, they should be run in the order as declared. For example: \r\n\r\n    @Cucumber.Options(features={&quot;automatedTestingServices.feature&quot;, &quot;smoketest.feature&quot;})\r\n","title":"How to order feature files in Cucumber test suite?","body":"<p>Cucumber features/scenarios are run in Alphabetical order by feature file name. </p>\n\n<p>However, if you specifically specify features, they should be run in the order as declared. For example: </p>\n\n<pre><code>@Cucumber.Options(features={\"automatedTestingServices.feature\", \"smoketest.feature\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11753932,"reputation":124,"user_id":8602191,"display_name":"LudmilaN"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1534494544,"creation_date":1532422619,"answer_id":51494494,"question_id":38781629,"body_markdown":"In cucumber 4.2.0 added cli option `--order`, see [changelog](https://github.com/cucumber/cucumber-js/blob/master/CHANGELOG.md) and [this  example](https://github.com/cucumber/cucumber-js/blob/563076cf078ec4719d6e7f83c35b3dc82ebbfb19/features/order.feature).\r\n","title":"How to order feature files in Cucumber test suite?","body":"<p>In cucumber 4.2.0 added cli option <code>--order</code>, see <a href=\"https://github.com/cucumber/cucumber-js/blob/master/CHANGELOG.md\" rel=\"noreferrer\">changelog</a> and <a href=\"https://github.com/cucumber/cucumber-js/blob/563076cf078ec4719d6e7f83c35b3dc82ebbfb19/features/order.feature\" rel=\"noreferrer\">this  example</a>.</p>\n"},{"tags":[],"owner":{"account_id":17630052,"reputation":51,"user_id":12794341,"display_name":"cecil tom"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580160045,"creation_date":1580158225,"answer_id":59938719,"question_id":38781629,"body_markdown":"However, if you specifically specify features, they should be run in the order as declared. For example:\r\n\r\n```\r\n@Cucumber.Options(features={&quot;automatedTestingServices.feature&quot;, &quot;smoketest.feature&quot;})\r\n```\r\n\r\nThe above one is still in the alphabetical Order. So it wont make any difference","title":"How to order feature files in Cucumber test suite?","body":"<p>However, if you specifically specify features, they should be run in the order as declared. For example:</p>\n\n<pre><code>@Cucumber.Options(features={\"automatedTestingServices.feature\", \"smoketest.feature\"})\n</code></pre>\n\n<p>The above one is still in the alphabetical Order. So it wont make any difference</p>\n"},{"tags":[],"owner":{"account_id":6912869,"reputation":954,"user_id":5308115,"accept_rate":29,"display_name":"yashodha_h"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636702987,"creation_date":1636702987,"answer_id":69939435,"question_id":38781629,"body_markdown":"If you use Junit 5 with Cucumber you can order the feature files like this.\r\n    \r\n    @Suite\r\n    @IncludeEngines(&quot;cucumber&quot;)\r\n    @SelectClasspathResource(&quot;this/is/number/one.feature&quot;)\r\n    @SelectClasspathResource(&quot;this/is/number/two.feature&quot;)\r\n    @SelectClasspathResource(&quot;this/is/number/three.feature&quot;)\r\n    public class RunCucumberTest {\r\n    }\r\n","title":"How to order feature files in Cucumber test suite?","body":"<p>If you use Junit 5 with Cucumber you can order the feature files like this.</p>\n<pre><code>@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;this/is/number/one.feature&quot;)\n@SelectClasspathResource(&quot;this/is/number/two.feature&quot;)\n@SelectClasspathResource(&quot;this/is/number/three.feature&quot;)\npublic class RunCucumberTest {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25727822,"reputation":1,"user_id":19483839,"display_name":"Robson Romeu Rizzieri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656994108,"creation_date":1656993716,"answer_id":72863869,"question_id":38781629,"body_markdown":"You can create a text file with the features\r\nand when executing the file it adds all the files in the order defined in the file.\r\n@order-execution.txt\r\nIn this example, the file was created in the project root. file content\r\n```\r\n./features/records/country.feature\r\n./features/records/company.feature\r\n```\r\n```\r\n   &quot;scripts&quot;: {\r\n     &quot;test:company&quot;: &quot;cucumber-js @order-execution.txt --tags \\&quot;@company\\&quot; -f json:result/records/company.json&quot;,\r\n   },\r\n```\r\nthis is the same as riding this way\r\n```\r\n   &quot;scripts&quot;: {\r\n     &quot;company&quot;: &quot;cucumber-js ./features/records/country.feature ./features/records/company.feature --tags \\&quot;@company\\&quot; -f json:result/records/company.json&quot;,\r\n   },\r\n```","title":"How to order feature files in Cucumber test suite?","body":"<p>You can create a text file with the features\nand when executing the file it adds all the files in the order defined in the file.\n@order-execution.txt\nIn this example, the file was created in the project root. file content</p>\n<pre><code>./features/records/country.feature\n./features/records/company.feature\n</code></pre>\n<pre><code>   &quot;scripts&quot;: {\n     &quot;test:company&quot;: &quot;cucumber-js @order-execution.txt --tags \\&quot;@company\\&quot; -f json:result/records/company.json&quot;,\n   },\n</code></pre>\n<p>this is the same as riding this way</p>\n<pre><code>   &quot;scripts&quot;: {\n     &quot;company&quot;: &quot;cucumber-js ./features/records/country.feature ./features/records/company.feature --tags \\&quot;@company\\&quot; -f json:result/records/company.json&quot;,\n   },\n</code></pre>\n"}],"owner":{"account_id":8816603,"reputation":385,"user_id":6587779,"accept_rate":62,"display_name":"TT_"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47127,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":51494494,"answer_count":6,"score":12,"last_activity_date":1656994108,"creation_date":1470374527,"question_id":38781629,"body_markdown":"Currently, I have found that cucumber test suite runs the feature files alphabetically.\r\n\r\nPlease let me know if there is any option/configuration that I might be missing. Thanks.","title":"How to order feature files in Cucumber test suite?","body":"<p>Currently, I have found that cucumber test suite runs the feature files alphabetically.</p>\n\n<p>Please let me know if there is any option/configuration that I might be missing. Thanks.</p>\n"},{"tags":["java","sql-server","prepared-statement","dirty-data"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1656994261,"post_id":72863901,"comment_id":128697842,"body_markdown":"Well maybe the insert step should be the one using the serializable transaction, to ensure that reading threads either see the whole batch inserted, or nothing at all.  You could also research a master-slave configuration, whereby the writes happen on the master, but reads will take place on the slave.  This might improve performance.","body":"Well maybe the insert step should be the one using the serializable transaction, to ensure that reading threads either see the whole batch inserted, or nothing at all.  You could also research a master-slave configuration, whereby the writes happen on the master, but reads will take place on the slave.  This might improve performance."},{"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"score":0,"creation_date":1656994349,"post_id":72863901,"comment_id":128697854,"body_markdown":"Perhaps can look into using a SQL notify.","body":"Perhaps can look into using a SQL notify."},{"owner":{"account_id":22504051,"reputation":3,"user_id":16699944,"display_name":"evildonger"},"score":0,"creation_date":1656994756,"post_id":72863901,"comment_id":128697904,"body_markdown":"@TimBiegeleisen thanks! I&#39;ll try that and let you know","body":"@TimBiegeleisen thanks! I&#39;ll try that and let you know"},{"owner":{"account_id":22504051,"reputation":3,"user_id":16699944,"display_name":"evildonger"},"score":0,"creation_date":1656994840,"post_id":72863901,"comment_id":128697916,"body_markdown":"@CAMD_3441 thanks! how would SQL notify the process B that the entirety of the inserts where made?\nNot very familiar with SQL notifications","body":"@CAMD_3441 thanks! how would SQL notify the process B that the entirety of the inserts where made? Not very familiar with SQL notifications"},{"owner":{"account_id":22504051,"reputation":3,"user_id":16699944,"display_name":"evildonger"},"score":0,"creation_date":1657034891,"post_id":72863901,"comment_id":128710980,"body_markdown":"@TimBiegeleisen diggin a bit deeper into SQL Server documentation, it appears that the transaction isolation level doesn&#39;t apply to INSERT statements.","body":"@TimBiegeleisen diggin a bit deeper into SQL Server documentation, it appears that the transaction isolation level doesn&#39;t apply to INSERT statements."},{"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"score":0,"creation_date":1657065882,"post_id":72863901,"comment_id":128719481,"body_markdown":"@evildonger so I&#39;m semi new to SQL notify but essentially you can use it like this.  app1 does some sql command (insert, update, etc) then you want to notify another app about the sql command, you can send a SQL notify, and the other apps would be notified and can take actions as a result.","body":"@evildonger so I&#39;m semi new to SQL notify but essentially you can use it like this.  app1 does some sql command (insert, update, etc) then you want to notify another app about the sql command, you can send a SQL notify, and the other apps would be notified and can take actions as a result."},{"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"score":0,"creation_date":1657065914,"post_id":72863901,"comment_id":128719484,"body_markdown":"@evildonger here&#39;s some documentation of it with Postgres https://www.postgresql.org/docs/current/sql-notify.html though other databases also have SQL notify","body":"@evildonger here&#39;s some documentation of it with Postgres <a href=\"https://www.postgresql.org/docs/current/sql-notify.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/sql-notify.html</a> though other databases also have SQL notify"}],"owner":{"account_id":22504051,"reputation":3,"user_id":16699944,"display_name":"evildonger"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656994086,"creation_date":1656994086,"question_id":72863901,"body_markdown":"I have a Java running process that **inserts data** into a SqlServer DB table every 3s, using a PreparedStatement `executeBatch()`. *(Process A)*\r\n\r\n    // Get connection here\r\n    con.setAutoCommit(false);\r\n    // Create PreparedStatement here\r\n    ps = con.prepareStatement(stmt);\r\n    // Add to batch with loop\r\n    ps.executeBatch();\r\n    con.commit();\r\n\r\nAlso, every 5s another Java process is **reading the new inserted data** from that same table. *(Process B)*\r\n\r\n    // Get connection here\r\n    con.setTransactionIsolation(Connection.TRANSACTION_SERIALIZABLE);\r\n    // Create PreparedStatement here\r\n    ps = con.prepareStatement(stmt);\r\n    rs = ps.executeQuery();\r\n    rs.setFetchSize(10000);\r\n    // While ResultSet has data, add it and return it\r\n\r\nThe main issue here is:\r\n- Process A is inserting about 300 rows\r\n- Process B sometimes is able to read the data while not all the rows in the batch were persisted (kinda in the middle of the batch), so it would return 80 rows and after another select right away I&#39;ll get the whole 300 rows.\r\n\r\nAny ideas to what could I be possibly be improved?","title":"Read from table while prepared statement inserts in batch","body":"<p>I have a Java running process that <strong>inserts data</strong> into a SqlServer DB table every 3s, using a PreparedStatement <code>executeBatch()</code>. <em>(Process A)</em></p>\n<pre><code>// Get connection here\ncon.setAutoCommit(false);\n// Create PreparedStatement here\nps = con.prepareStatement(stmt);\n// Add to batch with loop\nps.executeBatch();\ncon.commit();\n</code></pre>\n<p>Also, every 5s another Java process is <strong>reading the new inserted data</strong> from that same table. <em>(Process B)</em></p>\n<pre><code>// Get connection here\ncon.setTransactionIsolation(Connection.TRANSACTION_SERIALIZABLE);\n// Create PreparedStatement here\nps = con.prepareStatement(stmt);\nrs = ps.executeQuery();\nrs.setFetchSize(10000);\n// While ResultSet has data, add it and return it\n</code></pre>\n<p>The main issue here is:</p>\n<ul>\n<li>Process A is inserting about 300 rows</li>\n<li>Process B sometimes is able to read the data while not all the rows in the batch were persisted (kinda in the middle of the batch), so it would return 80 rows and after another select right away I'll get the whole 300 rows.</li>\n</ul>\n<p>Any ideas to what could I be possibly be improved?</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1656917269,"post_id":72852437,"comment_id":128678562,"body_markdown":"Order_id is a Product. You can&#39;t put a Customer there.","body":"Order_id is a Product. You can&#39;t put a Customer there."},{"owner":{"account_id":25393711,"reputation":29,"user_id":19204271,"display_name":"user1712"},"score":0,"creation_date":1656918423,"post_id":72852437,"comment_id":128678894,"body_markdown":"@CaptainPyscho Thankyou I get that !!!","body":"@CaptainPyscho Thankyou I get that !!!"}],"answers":[{"tags":[],"owner":{"account_id":25712701,"reputation":72,"user_id":19470950,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656937030,"creation_date":1656922935,"answer_id":72853702,"question_id":72852437,"body_markdown":"If I&#39;ve understood correctly, you want to assign a product to a user (e.g Customer).\r\nFor a `@OneToOne` relation you don&#39;t need `private CustomerDetails cd;` in product class. Although I don&#39;t know why are you implementing such thing in that way at all!\r\n\r\nGenerally If you want to assign two things together, let&#39;s say you want to assign a product to a user so that the product would be for that user, you should find the `product` obj from repository or any where (both product and user must have an id generated by db) and then assign it to `user.product`.\r\n\r\n\r\nproduct service\r\n\r\n    @Service\r\n    public class ProductService  {\r\n    \r\n      @Autowired\r\n      private ProductRepo productRepository;\r\n\r\n      public Optional&lt;Product&gt; findProductById(Long id) {\r\n         return this.productRepository.findByProductId(id);\r\n      }  \r\n \r\n    }\r\n\r\ncustomer service\r\n\r\n    @Service\r\n    @Transactional\r\n    public class CustomerService  {\r\n    \r\n      private final CdRepo cdRepo;\r\n    \r\n      @Autowired\r\n      public CustomerService(CdRepo cdRepo) {\r\n        this.cdRepo = cdRepo;\r\n      }\r\n\r\n      public CustomerDetails saveCustomer(CustomerDetails cd, Long productId) {\r\n        CustomerDetails dbCustomer = customerService.saveCustomer(cd);\r\n        // I&#39;m getting the id from path variable, change it if you have other logics\r\n        Optional&lt;Product&gt; dbProduct = this.productService.findProductById(productId);\r\n        // I don&#39;t know how you handle run time errors so I can&#39;t write it, don&#39;t\r\n        // forget to check the dbProduct in case it didn&#39;t exist :)\r\n        \r\n        // In case you did not created getters and setters in CustomerDetails,\r\n        // use dbCustomer.product = dbProduct.get();\r\n        dbCustomer.setProduct(dbProduct.get());\r\n\r\n        // update our customer using JPA, after customer update JPA handles everything\r\n        return this.cdRepo.save(dbCustomer);\r\n            \r\n      }  \r\n \r\n    }\r\n\r\ncontroller\r\n    \r\n    @RequestMapping(value = {&quot;/addCustomerDetails/{productId}&quot;}, method = RequestMethod.POST)\r\n    public ModelAndView addCustomerDetails(CustomerDetails cd, @PathVariable Long productId ) \r\n    {\r\n        \r\n        CustomerDetails dbCustomer = this.customerService.saveCustomer(cd, productId);\r\n        // Use the dbCustomer in your logic ...\r\n        ModelAndView model = new ModelAndView();\r\n        model.setViewName(&quot;homepage&quot;);\r\n        return model;\r\n    }\r\n\r\nWrite getters and setters in each entity or use Lombok annotation `@Data`.\r\nUsually when I want to deploy an ecommerce with user and product. I use `user`, `cart`, `product` model.\r\n\r\nThe problem with the code above is that if you assign that product to a user, it&#39;s ONLY for that user. if other users want the same product you have to create all of those products for them. Solution to that would be using product as a series or a model.\r\n\r\nImagine a situation that you want to create a website to sell coffee packages. you only have two type of package to sell. you can create an entity like product for those packages with a `quantity` for each. Then create a `@OneToMany` relationship in your cart model to products. It will create a join table to store any possible product id there with cart id. After that, create a `@ManyToOne` relationship in your cart entity and `@OneToMany` in your user entity. Now each cart is only for a specific user and not the products.\r\n\r\n\r\n\r\nSome Friendly Advice:\r\n\r\n - Don&#39;t populate your controller with logic. Let service layer handle it.\r\n - For each entity, create a package with the name of the entity instead and create 3 classes; the entity itself, response POJO and request POJO.\r\n - Use getters and setters for your entites. You can use lombok for that matter. It will handle the situation by generating them.\r\n - Use convertor components to create and convert requested entity to the entity itself and also convert entity to response entity.\r\n - Avoid interacting with Data base as much as you can. hold the object in a variable like `dbCustomer` for doing operations.\r\n\r\n ","title":"How do I insert data in a @JoinColumn in SpringMvc","body":"<p>If I've understood correctly, you want to assign a product to a user (e.g Customer).\nFor a <code>@OneToOne</code> relation you don't need <code>private CustomerDetails cd;</code> in product class. Although I don't know why are you implementing such thing in that way at all!</p>\n<p>Generally If you want to assign two things together, let's say you want to assign a product to a user so that the product would be for that user, you should find the <code>product</code> obj from repository or any where (both product and user must have an id generated by db) and then assign it to <code>user.product</code>.</p>\n<p>product service</p>\n<pre><code>@Service\npublic class ProductService  {\n\n  @Autowired\n  private ProductRepo productRepository;\n\n  public Optional&lt;Product&gt; findProductById(Long id) {\n     return this.productRepository.findByProductId(id);\n  }  \n\n}\n</code></pre>\n<p>customer service</p>\n<pre><code>@Service\n@Transactional\npublic class CustomerService  {\n\n  private final CdRepo cdRepo;\n\n  @Autowired\n  public CustomerService(CdRepo cdRepo) {\n    this.cdRepo = cdRepo;\n  }\n\n  public CustomerDetails saveCustomer(CustomerDetails cd, Long productId) {\n    CustomerDetails dbCustomer = customerService.saveCustomer(cd);\n    // I'm getting the id from path variable, change it if you have other logics\n    Optional&lt;Product&gt; dbProduct = this.productService.findProductById(productId);\n    // I don't know how you handle run time errors so I can't write it, don't\n    // forget to check the dbProduct in case it didn't exist :)\n    \n    // In case you did not created getters and setters in CustomerDetails,\n    // use dbCustomer.product = dbProduct.get();\n    dbCustomer.setProduct(dbProduct.get());\n\n    // update our customer using JPA, after customer update JPA handles everything\n    return this.cdRepo.save(dbCustomer);\n        \n  }  \n\n}\n</code></pre>\n<p>controller</p>\n<pre><code>@RequestMapping(value = {&quot;/addCustomerDetails/{productId}&quot;}, method = RequestMethod.POST)\npublic ModelAndView addCustomerDetails(CustomerDetails cd, @PathVariable Long productId ) \n{\n    \n    CustomerDetails dbCustomer = this.customerService.saveCustomer(cd, productId);\n    // Use the dbCustomer in your logic ...\n    ModelAndView model = new ModelAndView();\n    model.setViewName(&quot;homepage&quot;);\n    return model;\n}\n</code></pre>\n<p>Write getters and setters in each entity or use Lombok annotation <code>@Data</code>.\nUsually when I want to deploy an ecommerce with user and product. I use <code>user</code>, <code>cart</code>, <code>product</code> model.</p>\n<p>The problem with the code above is that if you assign that product to a user, it's ONLY for that user. if other users want the same product you have to create all of those products for them. Solution to that would be using product as a series or a model.</p>\n<p>Imagine a situation that you want to create a website to sell coffee packages. you only have two type of package to sell. you can create an entity like product for those packages with a <code>quantity</code> for each. Then create a <code>@OneToMany</code> relationship in your cart model to products. It will create a join table to store any possible product id there with cart id. After that, create a <code>@ManyToOne</code> relationship in your cart entity and <code>@OneToMany</code> in your user entity. Now each cart is only for a specific user and not the products.</p>\n<p>Some Friendly Advice:</p>\n<ul>\n<li>Don't populate your controller with logic. Let service layer handle it.</li>\n<li>For each entity, create a package with the name of the entity instead and create 3 classes; the entity itself, response POJO and request POJO.</li>\n<li>Use getters and setters for your entites. You can use lombok for that matter. It will handle the situation by generating them.</li>\n<li>Use convertor components to create and convert requested entity to the entity itself and also convert entity to response entity.</li>\n<li>Avoid interacting with Data base as much as you can. hold the object in a variable like <code>dbCustomer</code> for doing operations.</li>\n</ul>\n"}],"owner":{"account_id":25393711,"reputation":29,"user_id":19204271,"display_name":"user1712"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656993440,"creation_date":1656915429,"question_id":72852437,"body_markdown":"I have two tables `CustomerDetails` and `Product`, I want to fetch `customerid` from `customer` table and add it to `@joincolumn(order_id)` column in same `CustomerDetails` table.\r\n\r\nCustomerDetails.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;CustomerDetails&quot;)\r\n    public class CustomerDetails {\r\n    \r\n    \t@Id\r\n        @GeneratedValue\r\n        @Column(name=&quot;CUSTOMER_ID&quot;)\r\n        private Long custid;\r\n    \r\n    \t@Column(name=&quot;CUSTOMER_NAME&quot;)\r\n        private String customerName;\r\n    \t\r\n    \t@Column(name=&quot;EMAIL&quot;)\r\n        private String email;\r\n    \t\r\n    \t@Column(name=&quot;ADDRESS&quot;)\r\n        private String address;\r\n    \t\r\n    \t@Column(name=&quot;PHONENO&quot;)\r\n        private String phoneno;\r\n       \t\r\n        public CustomerDetails() {\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;CustomerDetails [custid=&quot; + custid + &quot;, customername=&quot; + customerName + &quot;, email=&quot; + email\r\n    \t\t\t\t+ &quot;, address=&quot; + address + &quot;, phoneno=&quot; + phoneno + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \tpublic CustomerDetails(String customername, String email, String address, String phoneno) {\r\n    \t\tsuper();\r\n    \t\tthis.customerName = customername;\r\n    \t\tthis.email = email;\r\n    \t\tthis.address = address;\r\n    \t\tthis.phoneno = phoneno;\r\n    \t}\t\r\n    \tpublic Long getCustid() {\r\n    \t\treturn custid;\r\n    \t}\r\n    \r\n    \tpublic void setCustid(Long custid) {\r\n    \t\tthis.custid = custid;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn customerName;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.customerName = name;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.address = password;\r\n    \t}\r\n    \r\n    \tpublic String getPhoneno() {\r\n    \t\treturn phoneno;\r\n    \t}\r\n    \r\n    \tpublic void setPhoneno(String phoneno) {\r\n    \t\tthis.phoneno = phoneno;\r\n    \t}\t\r\n    }\r\n\r\nProduct.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;Product&quot;)\r\n    public class Product {\r\n     \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \t@Column(name=&quot;PRODUCT_ID&quot;)\r\n    \tprivate Long productId;\r\n    \t\r\n    \t@Column(name=&quot;PRODUCT_NAME&quot;)\r\n    \tprivate String productName;\r\n    \t\r\n    \t@Column(name=&quot;PRODUCT_BRAND&quot;)\r\n    \tprivate String productBrand;\r\n    \t\r\n    \t@Column(name=&quot;PRODUCT_PRICE&quot;)\r\n    \tprivate double productPrice;\r\n    \t\r\n    \t@OneToOne\r\n        private CustomerDetails cd;\r\n       \r\n    \tpublic Product(Long productId, String productName, String productBrand, double productPrice, CustomerDetails cd) {\r\n    \t\tsuper();\r\n    \t\tthis.productId = productId;\r\n    \t\tthis.productName = productName;\r\n    \t\tthis.productBrand = productBrand;\r\n    \t\tthis.productPrice = productPrice;\r\n    \t\tthis.cd = cd;\r\n    \t}\r\n    \t\r\n    \tpublic Product(String productName, String productType, double productPrice) {\r\n    \t\tsuper();\r\n    \t\tthis.productName = productName;\r\n    \t\tthis.productBrand = productType;\r\n    \t\tthis.productPrice = productPrice;\r\n    \t}\r\n    \t\r\n    \tpublic Long getProductId() {\r\n    \t\treturn productId;\r\n    \t}\r\n    \tpublic void setProductId(Long productId) {\r\n    \t\tthis.productId = productId;\r\n    \t}\r\n    \tpublic String getProductName() {\r\n    \t\treturn productName;\r\n    \t}\r\n    \tpublic void setProductName(String productName) {\r\n    \t\tthis.productName = productName;\r\n    \t}\r\n    \tpublic String getProductBrand() {\r\n    \t\treturn productBrand;\r\n    \t}\r\n    \tpublic void setProductBrand(String productType) {\r\n    \t\tthis.productBrand = productType;\r\n    \t}\r\n    \tpublic double getProductPrice() {\r\n    \t\treturn productPrice;\r\n    \t}\r\n    \tpublic void setProductPrice(double productPrice) {\r\n    \t\tthis.productPrice = productPrice;\r\n    \t}\r\n    \t\r\n    \tpublic CustomerDetails getCd() {\r\n    \t\treturn cd;\r\n    \t}\r\n    \r\n    \tpublic void setCd(CustomerDetails cd) {\r\n    \t\tthis.cd = cd;\r\n    \t}\r\n    \tpublic Product() {\r\n    \t\t//super();\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Product [productId=&quot; + productId + &quot;, productName=&quot; + productName + &quot;, productType=&quot; + productBrand\r\n    \t\t\t\t+ &quot;, productPrice=&quot; + productPrice + &quot;]&quot;;\r\n    \t}\r\n     \r\n    }\r\n\r\nCustomerDetails repository\r\n\r\n    @Repository\r\n    public interface CdRepo extends JpaRepository&lt;CustomerDetails, Long&gt;\r\n    {\r\n    \t \t\t\r\n    }\r\n\r\nProduct repository\r\n\r\n    @Repository\r\n    public interface ProductRepo extends JpaRepository&lt;Product, Long&gt;\r\n    {\r\n    \t\t\r\n    }\r\n\r\nCustomerService\r\n\r\n    @Service\r\n    @Transactional\r\n    public class CustomerService  {\r\n    \t\r\n    \tprivate final CdRepo cdRepo;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic CustomerService(CdRepo cdRepo) {\r\n    \t\t\r\n    \t\tthis.cdRepo = cdRepo;\r\n    \t\t\r\n    \t}\r\n    \tpublic void saveCustomer(CustomerDetails cd) \r\n    \t{\r\n    \t\tcdRepo.save(cd);\r\n    \t\t\t\r\n    \t}\t\r\n    }\r\ncontroller\r\n\r\n    @RequestMapping(value = {&quot;/addCustomerDetails&quot;}, method = RequestMethod.POST)\r\n    \tpublic ModelAndView addCustomerDetails(CustomerDetails cd) \r\n    \t{\r\n    \t\t\r\n    \t\tcustomerService.saveCustomer(cd);\r\n    \t\tSystem.out.println(cd.getCustid());\r\n    \t\tModelAndView model = new ModelAndView();\r\n    \t\tmodel.setViewName(&quot;homepage&quot;);\r\n    \t\treturn model;\r\n    \t}\r\n\r\nIn controller using `getCustid()` I&#39;m getting current customer&#39;s id now I want to insert that id into `@joinColumn(order_id)`\r\n   \r\n","title":"How do I insert data in a @JoinColumn in SpringMvc","body":"<p>I have two tables <code>CustomerDetails</code> and <code>Product</code>, I want to fetch <code>customerid</code> from <code>customer</code> table and add it to <code>@joincolumn(order_id)</code> column in same <code>CustomerDetails</code> table.</p>\n<p>CustomerDetails.java</p>\n<pre><code>@Entity\n@Table(name = &quot;CustomerDetails&quot;)\npublic class CustomerDetails {\n\n    @Id\n    @GeneratedValue\n    @Column(name=&quot;CUSTOMER_ID&quot;)\n    private Long custid;\n\n    @Column(name=&quot;CUSTOMER_NAME&quot;)\n    private String customerName;\n    \n    @Column(name=&quot;EMAIL&quot;)\n    private String email;\n    \n    @Column(name=&quot;ADDRESS&quot;)\n    private String address;\n    \n    @Column(name=&quot;PHONENO&quot;)\n    private String phoneno;\n    \n    public CustomerDetails() {\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CustomerDetails [custid=&quot; + custid + &quot;, customername=&quot; + customerName + &quot;, email=&quot; + email\n                + &quot;, address=&quot; + address + &quot;, phoneno=&quot; + phoneno + &quot;]&quot;;\n    }\n\n    public CustomerDetails(String customername, String email, String address, String phoneno) {\n        super();\n        this.customerName = customername;\n        this.email = email;\n        this.address = address;\n        this.phoneno = phoneno;\n    }   \n    public Long getCustid() {\n        return custid;\n    }\n\n    public void setCustid(Long custid) {\n        this.custid = custid;\n    }\n\n    public String getName() {\n        return customerName;\n    }\n\n    public void setName(String name) {\n        this.customerName = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return address;\n    }\n\n    public void setPassword(String password) {\n        this.address = password;\n    }\n\n    public String getPhoneno() {\n        return phoneno;\n    }\n\n    public void setPhoneno(String phoneno) {\n        this.phoneno = phoneno;\n    }   \n}\n</code></pre>\n<p>Product.java</p>\n<pre><code>@Entity\n@Table(name=&quot;Product&quot;)\npublic class Product {\n    \n    @Id\n    @GeneratedValue\n    @Column(name=&quot;PRODUCT_ID&quot;)\n    private Long productId;\n    \n    @Column(name=&quot;PRODUCT_NAME&quot;)\n    private String productName;\n    \n    @Column(name=&quot;PRODUCT_BRAND&quot;)\n    private String productBrand;\n    \n    @Column(name=&quot;PRODUCT_PRICE&quot;)\n    private double productPrice;\n    \n    @OneToOne\n    private CustomerDetails cd;\n   \n    public Product(Long productId, String productName, String productBrand, double productPrice, CustomerDetails cd) {\n        super();\n        this.productId = productId;\n        this.productName = productName;\n        this.productBrand = productBrand;\n        this.productPrice = productPrice;\n        this.cd = cd;\n    }\n    \n    public Product(String productName, String productType, double productPrice) {\n        super();\n        this.productName = productName;\n        this.productBrand = productType;\n        this.productPrice = productPrice;\n    }\n    \n    public Long getProductId() {\n        return productId;\n    }\n    public void setProductId(Long productId) {\n        this.productId = productId;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public String getProductBrand() {\n        return productBrand;\n    }\n    public void setProductBrand(String productType) {\n        this.productBrand = productType;\n    }\n    public double getProductPrice() {\n        return productPrice;\n    }\n    public void setProductPrice(double productPrice) {\n        this.productPrice = productPrice;\n    }\n    \n    public CustomerDetails getCd() {\n        return cd;\n    }\n\n    public void setCd(CustomerDetails cd) {\n        this.cd = cd;\n    }\n    public Product() {\n        //super();\n    }\n    @Override\n    public String toString() {\n        return &quot;Product [productId=&quot; + productId + &quot;, productName=&quot; + productName + &quot;, productType=&quot; + productBrand\n                + &quot;, productPrice=&quot; + productPrice + &quot;]&quot;;\n    }\n \n}\n</code></pre>\n<p>CustomerDetails repository</p>\n<pre><code>@Repository\npublic interface CdRepo extends JpaRepository&lt;CustomerDetails, Long&gt;\n{\n            \n}\n</code></pre>\n<p>Product repository</p>\n<pre><code>@Repository\npublic interface ProductRepo extends JpaRepository&lt;Product, Long&gt;\n{\n        \n}\n</code></pre>\n<p>CustomerService</p>\n<pre><code>@Service\n@Transactional\npublic class CustomerService  {\n    \n    private final CdRepo cdRepo;\n    \n    @Autowired\n    public CustomerService(CdRepo cdRepo) {\n        \n        this.cdRepo = cdRepo;\n        \n    }\n    public void saveCustomer(CustomerDetails cd) \n    {\n        cdRepo.save(cd);\n            \n    }   \n}\n</code></pre>\n<p>controller</p>\n<pre><code>@RequestMapping(value = {&quot;/addCustomerDetails&quot;}, method = RequestMethod.POST)\n    public ModelAndView addCustomerDetails(CustomerDetails cd) \n    {\n        \n        customerService.saveCustomer(cd);\n        System.out.println(cd.getCustid());\n        ModelAndView model = new ModelAndView();\n        model.setViewName(&quot;homepage&quot;);\n        return model;\n    }\n</code></pre>\n<p>In controller using <code>getCustid()</code> I'm getting current customer's id now I want to insert that id into <code>@joinColumn(order_id)</code></p>\n"},{"tags":["java","algorithm","user-interface","visualization"],"comments":[{"owner":{"account_id":25461662,"reputation":1789,"user_id":19261326,"display_name":"viggnah"},"score":0,"creation_date":1656828868,"post_id":72833109,"comment_id":128663607,"body_markdown":"The issue is in `taskPerformer` you do the full sort and then call `arrayVisualizer.repaint();` which will immediately show you the sorted array. So you need to repaint after every array swap i.e. in the while loop of `InsertionSort.java`. \nThe best way to do this is to use [swing timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) ([example](https://stackoverflow.com/questions/37161562/jpanel-switching-add-delay-in-seconds-btween-two-panels-switching-java)).  And rewrite insertionSort to return an intermediate array after every swap.","body":"The issue is in <code>taskPerformer</code> you do the full sort and then call <code>arrayVisualizer.repaint();</code> which will immediately show you the sorted array. So you need to repaint after every array swap i.e. in the while loop of <code>InsertionSort.java</code>.  The best way to do this is to use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">swing timers</a> (<a href=\"https://stackoverflow.com/questions/37161562/jpanel-switching-add-delay-in-seconds-btween-two-panels-switching-java\">example</a>).  And rewrite insertionSort to return an intermediate array after every swap."},{"owner":{"account_id":18465208,"reputation":145,"user_id":13451606,"display_name":"Cr3 D"},"score":0,"creation_date":1656836506,"post_id":72833109,"comment_id":128664619,"body_markdown":"How exactly would I return an intermediate array? I tried utilizing Swing timers by placing the timers directly below the call to sort, and placed **repaint()** as the last line within the while loop and still received an instant sort. I even tried different algorithms such as bubble sort and even though it had sorted the array successfully it still went through it instantly.","body":"How exactly would I return an intermediate array? I tried utilizing Swing timers by placing the timers directly below the call to sort, and placed <b>repaint()</b> as the last line within the while loop and still received an instant sort. I even tried different algorithms such as bubble sort and even though it had sorted the array successfully it still went through it instantly."},{"owner":{"account_id":25461662,"reputation":1789,"user_id":19261326,"display_name":"viggnah"},"score":0,"creation_date":1656942763,"post_id":72833109,"comment_id":128687196,"body_markdown":"You need to call an action that sorts on the timer, and this should return the intermediate array after every swap. I have added code on how to do this in my answer, see if this works for you. You may have to modify a bit to get it working as I haven&#39;t tested it!","body":"You need to call an action that sorts on the timer, and this should return the intermediate array after every swap. I have added code on how to do this in my answer, see if this works for you. You may have to modify a bit to get it working as I haven&#39;t tested it!"}],"answers":[{"tags":[],"owner":{"account_id":25461662,"reputation":1789,"user_id":19261326,"display_name":"viggnah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656993304,"creation_date":1656943530,"answer_id":72858027,"question_id":72833109,"body_markdown":"Call an action with a [swing timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) every second that will return an intermediate array. Then paint this intermediate array. Repeat until the array is sorted.\r\n\r\nTo obtain an intermediate array, modify the InsertionSort from a static method to a class method that will store the variable ```i``` so that we can resume sorting when called again.\r\n```\r\npublic class Window implements ActionListener  {\r\n    \r\n    //Window width\r\n    protected static int WINDOW_WIDTH = 1980;\r\n    //Window height\r\n    protected static int WINDOW_HEIGHT = 1080;\r\n    \r\n    //This will draw all our rectangles \r\n    protected static ArrayVisualizer arrayVisualizer;\r\n    \r\n    //Make a new JFrame\r\n    JFrame window = new JFrame();\r\n    \r\n    JButton shuffleBut = new JButton(&quot;Shuffle&quot;);\r\n    \r\n    JButton startSort = new JButton(&quot;Start Sorting&quot;);\r\n    \r\n    public Window() {\r\n        initWindow();\r\n    }\r\n    \r\n    private void addButtons() {\r\n        \r\n        //Shuffle Button\r\n        shuffleBut.setBounds(100, 50, 100, 100);\r\n        shuffleBut.setBackground(Color.white);\r\n        shuffleBut.addActionListener(this);\r\n        \r\n        startSort.setBounds(500, 50, 100, 100);;\r\n        startSort.setBackground(Color.white);\r\n        startSort.addActionListener(taskPerformer);\r\n        \r\n        window.add(shuffleBut);\r\n        window.add(startSort);\r\n    }\r\n    \r\n    private void initWindow() {\r\n        ImageIcon logo = new ImageIcon();\r\n        \r\n        window = new JFrame();\r\n        window.setTitle(&quot;JAlgorithms&quot;);\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.setSize(WINDOW_WIDTH, WINDOW_HEIGHT);\r\n        window.setLocationRelativeTo(null);\r\n        window.setResizable(false);\r\n        addButtons();\r\n        \r\n        arrayVisualizer = new ArrayVisualizer();\r\n        window.add(arrayVisualizer);\r\n        arrayVisualizer.repaint(); //Will call paint component method\r\n        \r\n        window.pack();\r\n        window.setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        // TODO Auto-generated method stub\r\n        if(e.getSource() == shuffleBut) {\r\n            arrayVisualizer.shuffle(ArrayVisualizer.array);\r\n            arrayVisualizer.repaint();\r\n        }\r\n    }\r\n\r\n    private int delay = 1000; // delay is 1s\r\n    private Timer timer = new Timer(delay, sortWithDelay);\r\n\r\n    ActionListener taskPerformer = new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent event) {\r\n            if(event.getSource() == startSort) {\r\n                // Start the timer that shows a swap every second\r\n                if(!timer.isRunning()) {\r\n                    timer.setInitialDelay(0);\r\n                    timer.start();\r\n                }\r\n            }   \r\n        }\r\n    };\r\n\r\n    ActionListener sortWithDelay = new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent event) {\r\n            if(isSorted(ArrayVisualizer.array)) {\r\n                timer.stop();\r\n                return;\r\n            }\r\n            arrayVisualizer.sort(ArrayVisualizer.array);\r\n            arrayVisualizer.repaint();\r\n        }\r\n    };\r\n\r\n    private boolean isSorted(int[] arr) {\r\n        for (int i = 0; i &lt; a.length - 1; i++) {\r\n            if (a[i] &gt; a[i + 1]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }   \r\n}\r\n```\r\n```\r\npublic class ArrayVisualizer extends JPanel {\r\n    \r\n    private InsertionSort insertionSort = new InsertionSort();\r\n    protected static int[] array;\r\n    private final int REC_WIDTH = 1; //1980 rectangles\r\n    private final int NUMBER_OF_RECS = Window.WINDOW_WIDTH / REC_WIDTH;\r\n    \r\n    public ArrayVisualizer() {\r\n        array = new int[NUMBER_OF_RECS];\r\n        generateRandom(array);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D graphics = (Graphics2D) g.create();\r\n        graphics.setColor(Color.orange);\r\n        for(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\r\n            \r\n            int height = array[i] * 4; //Done for scaling\r\n            int recX = i + (REC_WIDTH - 1) * i; //Read fillRect documentation\r\n            int recY = Window.WINDOW_HEIGHT - height; //Read fillRect documentation\r\n            \r\n            graphics.fillRect(recX, recY, REC_WIDTH, height);\r\n        }\r\n    }\r\n        \r\n    //This will return the Dimension of the actual rectangles. i.e the rectangles will only exist when this exists, almost like a canvas in javascript\r\n    @Override\r\n    public Dimension getPreferredSize() {   \r\n        return new Dimension(Window.WINDOW_WIDTH, Window.WINDOW_HEIGHT);\r\n    }\r\n    \r\n    //Creates a random unsorted array with numbers 1-200\r\n    protected void generateRandom(int[] array) {\r\n        Random number = new Random();\r\n        for(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\r\n            array[i] = number.nextInt(200);\r\n        }\r\n    }\r\n    \r\n    protected void shuffle(int[] array) {\r\n         generateRandom(array);\r\n    }\r\n    \r\n    protected void sort(int[] array) {\r\n         insertionSort.sortWithDelay(array);\r\n    }\r\n}\r\n```\r\n```\r\npublic class InsertionSort {\r\n\r\n    private int i = 1;\r\n\r\n    public void sortWithDelay(int arr[])\r\n    {\r\n        int n = arr.length;\r\n        \r\n        if(i &lt; n) {\r\n\r\n            int key = arr[i];\r\n            int j = i - 1;\r\n    \r\n            /* Move elements of arr[0..i-1], that are\r\n               greater than key, to one position ahead\r\n               of their current position */\r\n            while(j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\r\n                arr[j + 1] = arr[j];\r\n                j = j - 1;\r\n            }\r\n            arr[j + 1] = key;\r\n            ++i;\r\n        }\r\n    }\r\n}\r\n```","title":"How to update Sorting Algorithm Visualization?","body":"<p>Call an action with a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">swing timer</a> every second that will return an intermediate array. Then paint this intermediate array. Repeat until the array is sorted.</p>\n<p>To obtain an intermediate array, modify the InsertionSort from a static method to a class method that will store the variable <code>i</code> so that we can resume sorting when called again.</p>\n<pre><code>public class Window implements ActionListener  {\n    \n    //Window width\n    protected static int WINDOW_WIDTH = 1980;\n    //Window height\n    protected static int WINDOW_HEIGHT = 1080;\n    \n    //This will draw all our rectangles \n    protected static ArrayVisualizer arrayVisualizer;\n    \n    //Make a new JFrame\n    JFrame window = new JFrame();\n    \n    JButton shuffleBut = new JButton(&quot;Shuffle&quot;);\n    \n    JButton startSort = new JButton(&quot;Start Sorting&quot;);\n    \n    public Window() {\n        initWindow();\n    }\n    \n    private void addButtons() {\n        \n        //Shuffle Button\n        shuffleBut.setBounds(100, 50, 100, 100);\n        shuffleBut.setBackground(Color.white);\n        shuffleBut.addActionListener(this);\n        \n        startSort.setBounds(500, 50, 100, 100);;\n        startSort.setBackground(Color.white);\n        startSort.addActionListener(taskPerformer);\n        \n        window.add(shuffleBut);\n        window.add(startSort);\n    }\n    \n    private void initWindow() {\n        ImageIcon logo = new ImageIcon();\n        \n        window = new JFrame();\n        window.setTitle(&quot;JAlgorithms&quot;);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setSize(WINDOW_WIDTH, WINDOW_HEIGHT);\n        window.setLocationRelativeTo(null);\n        window.setResizable(false);\n        addButtons();\n        \n        arrayVisualizer = new ArrayVisualizer();\n        window.add(arrayVisualizer);\n        arrayVisualizer.repaint(); //Will call paint component method\n        \n        window.pack();\n        window.setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        if(e.getSource() == shuffleBut) {\n            arrayVisualizer.shuffle(ArrayVisualizer.array);\n            arrayVisualizer.repaint();\n        }\n    }\n\n    private int delay = 1000; // delay is 1s\n    private Timer timer = new Timer(delay, sortWithDelay);\n\n    ActionListener taskPerformer = new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            if(event.getSource() == startSort) {\n                // Start the timer that shows a swap every second\n                if(!timer.isRunning()) {\n                    timer.setInitialDelay(0);\n                    timer.start();\n                }\n            }   \n        }\n    };\n\n    ActionListener sortWithDelay = new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            if(isSorted(ArrayVisualizer.array)) {\n                timer.stop();\n                return;\n            }\n            arrayVisualizer.sort(ArrayVisualizer.array);\n            arrayVisualizer.repaint();\n        }\n    };\n\n    private boolean isSorted(int[] arr) {\n        for (int i = 0; i &lt; a.length - 1; i++) {\n            if (a[i] &gt; a[i + 1]) {\n                return false;\n            }\n        }\n        return true;\n    }   \n}\n</code></pre>\n<pre><code>public class ArrayVisualizer extends JPanel {\n    \n    private InsertionSort insertionSort = new InsertionSort();\n    protected static int[] array;\n    private final int REC_WIDTH = 1; //1980 rectangles\n    private final int NUMBER_OF_RECS = Window.WINDOW_WIDTH / REC_WIDTH;\n    \n    public ArrayVisualizer() {\n        array = new int[NUMBER_OF_RECS];\n        generateRandom(array);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D graphics = (Graphics2D) g.create();\n        graphics.setColor(Color.orange);\n        for(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\n            \n            int height = array[i] * 4; //Done for scaling\n            int recX = i + (REC_WIDTH - 1) * i; //Read fillRect documentation\n            int recY = Window.WINDOW_HEIGHT - height; //Read fillRect documentation\n            \n            graphics.fillRect(recX, recY, REC_WIDTH, height);\n        }\n    }\n        \n    //This will return the Dimension of the actual rectangles. i.e the rectangles will only exist when this exists, almost like a canvas in javascript\n    @Override\n    public Dimension getPreferredSize() {   \n        return new Dimension(Window.WINDOW_WIDTH, Window.WINDOW_HEIGHT);\n    }\n    \n    //Creates a random unsorted array with numbers 1-200\n    protected void generateRandom(int[] array) {\n        Random number = new Random();\n        for(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\n            array[i] = number.nextInt(200);\n        }\n    }\n    \n    protected void shuffle(int[] array) {\n         generateRandom(array);\n    }\n    \n    protected void sort(int[] array) {\n         insertionSort.sortWithDelay(array);\n    }\n}\n</code></pre>\n<pre><code>public class InsertionSort {\n\n    private int i = 1;\n\n    public void sortWithDelay(int arr[])\n    {\n        int n = arr.length;\n        \n        if(i &lt; n) {\n\n            int key = arr[i];\n            int j = i - 1;\n    \n            /* Move elements of arr[0..i-1], that are\n               greater than key, to one position ahead\n               of their current position */\n            while(j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\n                arr[j + 1] = arr[j];\n                j = j - 1;\n            }\n            arr[j + 1] = key;\n            ++i;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18465208,"reputation":145,"user_id":13451606,"display_name":"Cr3 D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72858027,"answer_count":1,"score":1,"last_activity_date":1656993304,"creation_date":1656698608,"question_id":72833109,"body_markdown":"I have been making a sorting algorithm visualizer in Java using Java Swing and AWT and coded insertion sort to see if it would be able to work. The algorithm works in the sense that when this program is run you can shuffle and sort the algorithm using insertion short but you don&#39;t actually see the algorithm in action. It just happens instantly and have been looking for ways to add some sort of delay but I can&#39;t find any sources to help me. \r\n\r\nI set it up with 4 java classes, the main which just init&#39;s the window, the window class, array visualizer class, and the insertion sort class. \r\n\r\nWindow.java:  \r\n```\r\npublic class Window implements ActionListener  {\r\n\t\r\n\t//Window width\r\n\tprotected static int WINDOW_WIDTH = 1980;\r\n\t//Window height\r\n\tprotected static int WINDOW_HEIGHT = 1080;\r\n\t\r\n\tprivate int delay = 100;\r\n\t\r\n\t//This will draw all our rectangles \r\n\tprotected static ArrayVisualizer arrayVisualizer;\r\n\t\r\n\t//Make a new JFrame\r\n\tJFrame window = new JFrame();\r\n\t\r\n\tJButton shuffleBut = new JButton(&quot;Shuffle&quot;);\r\n\t\r\n\tJButton startSort = new JButton(&quot;Start Sorting&quot;);\r\n\t\r\n\tpublic Window() {\r\n\t\tinitWindow();\r\n\t}\r\n\t\r\n\tprivate void addButtons() {\r\n\t\t\r\n\t\t//Shuffle Button\r\n\t\tshuffleBut.setBounds(100, 50, 100, 100);\r\n\t\tshuffleBut.setBackground(Color.white);\r\n\t\tshuffleBut.addActionListener(this);\r\n\t\t\r\n\t\tstartSort.setBounds(500, 50, 100, 100);;\r\n\t\tstartSort.setBackground(Color.white);\r\n\t\tstartSort.addActionListener(taskPerformer);\r\n\t\t\r\n\t\twindow.add(shuffleBut);\r\n\t\twindow.add(startSort);\r\n\t}\r\n\t\r\n\tprivate void initWindow() {\r\n\t\tImageIcon logo = new ImageIcon();\r\n\t\t\r\n\t\twindow = new JFrame();\r\n\t\twindow.setTitle(&quot;JAlgorithms&quot;);\r\n\t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\twindow.setSize(WINDOW_WIDTH, WINDOW_HEIGHT);\r\n\t\twindow.setLocationRelativeTo(null);\r\n\t\twindow.setResizable(false);\r\n\t\taddButtons();\r\n\t\t\r\n\t\tarrayVisualizer = new ArrayVisualizer();\r\n\t\twindow.add(arrayVisualizer);\r\n\t\tarrayVisualizer.repaint(); //Will call paint component method\r\n\t\t\r\n\t\twindow.pack();\r\n\t\twindow.setVisible(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tif(e.getSource() == shuffleBut) {\r\n\t\t\tarrayVisualizer.shuffle(ArrayVisualizer.array);\r\n\t\t\tarrayVisualizer.repaint();\r\n\t\t}\r\n\t}\r\n\tActionListener taskPerformer = new ActionListener() {\r\n\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\tif(event.getSource() == startSort) {\r\n\t\t\t\tarrayVisualizer.sort(ArrayVisualizer.array);\r\n\t\t\t\tarrayVisualizer.repaint();\r\n\t\t\t}\t\r\n\t\t}\r\n\t};\r\n\t\r\n}\r\n```\r\n\r\nArrayVisualizer.java:\r\n```\r\npublic class ArrayVisualizer extends JPanel {\r\n\t\r\n\tprotected static int[] array;\r\n\tprivate final int REC_WIDTH = 1; //1980 rectangles\r\n\tprivate final int NUMBER_OF_RECS = Window.WINDOW_WIDTH / REC_WIDTH;\r\n\t\r\n\tpublic ArrayVisualizer() {\r\n\t\tarray = new int[NUMBER_OF_RECS];\r\n\t\tgenerateRandom(array);\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D graphics = (Graphics2D) g.create();\r\n\t\tgraphics.setColor(Color.orange);\r\n\t\tfor(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\r\n\t\t\t\r\n\t\t\tint height = array[i] * 4; //Done for scaling\r\n\t\t\tint recX = i + (REC_WIDTH - 1) * i; //Read fillRect documentation\r\n\t\t\tint recY = Window.WINDOW_HEIGHT - height; //Read fillRect documentation\r\n\t\t\t\r\n\t\t\tgraphics.fillRect(recX, recY, REC_WIDTH, height);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t//This will return the Dimension of the actual rectangles. i.e the rectangles will only exist when this exists, almost like a canvas in javascript\r\n\t@Override\r\n\tpublic Dimension getPreferredSize() {\t\r\n\t\treturn new Dimension(Window.WINDOW_WIDTH, Window.WINDOW_HEIGHT);\r\n\t}\r\n\t\r\n\t//Creates a random unsorted array with numbers 1-200\r\n\tprotected void generateRandom(int[] array) {\r\n\t\tRandom number = new Random();\r\n\t\tfor(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\r\n\t\t\tarray[i] = number.nextInt(200);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprotected void shuffle(int[] array) {\r\n\t\t generateRandom(array);\r\n\t}\r\n\t\r\n\tprotected void sort(int[] array) {\r\n\t\t InsertionSort.insertionSort(array);\r\n\t}\r\n}\r\n```\r\nInsertionSort.java:\r\n```\r\npublic class InsertionSort {\r\n\tpublic static void insertionSort(int arr[])\r\n    {\r\n        int n = arr.length;\r\n        \r\n        \r\n        for (int i = 1; i &lt; n; ++i) {\r\n\r\n            int key = arr[i];\r\n            int j = i - 1;\r\n    \r\n            /* Move elements of arr[0..i-1], that are\r\n               greater than key, to one position ahead\r\n               of their current position */\r\n            while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\r\n                arr[j + 1] = arr[j];\r\n                j = j - 1;\r\n                \r\n            }\r\n            arr[j + 1] = key;\r\n            \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUPDATE (Here is the modified code, I added selection sort as well and heavily modified the suggestion I checkmarked):\r\n\r\nMain.java:\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t//Opens window\r\n\t\tWindow window = new Window();\r\n\t}\r\n}\r\n```\r\nWindow.java:\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Image;\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\nimport java.awt.EventQueue;\r\nimport javax.swing.ImageIcon;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Graphics;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.Timer;\r\n\r\npublic class Window implements ActionListener  {\r\n\t\r\n\t//Window width\r\n\tprotected static int WINDOW_WIDTH = 1440;\r\n\t//Window height\r\n\tprotected static int WINDOW_HEIGHT = 1080;\r\n\t\t\r\n\t//This will draw all our rectangles \r\n\tprotected static ArrayVisualizer arrayVisualizer;\r\n\t\r\n\t//Make a new JFrame\r\n\tJFrame window = new JFrame();\r\n\t\r\n\tJButton shuffleBut = new JButton(&quot;Shuffle&quot;);\r\n\t\r\n\tJButton startSort = new JButton(&quot;Start Sorting&quot;);\r\n\t\r\n\tpublic Window() {\r\n\t\tinitWindow();\r\n\t}\r\n\t\r\n\tprivate void addButtons() {\r\n\t\t\r\n\t\t//Shuffle Button\r\n\t\tshuffleBut.setBounds(100, 50, 100, 100);\r\n\t\tshuffleBut.setBackground(Color.white);\r\n\t\tshuffleBut.addActionListener(this);\r\n\t\t\r\n\t\tstartSort.setBounds(500, 50, 100, 100);;\r\n\t\tstartSort.setBackground(Color.white);\r\n\t\t\r\n\t\twindow.add(shuffleBut);\r\n\t\twindow.add(startSort);\r\n\r\n\t}\r\n\t\r\n\tprivate void initWindow() {\r\n\t\tImageIcon logo = new ImageIcon();\r\n\t\t\r\n\t\twindow = new JFrame();\r\n\t\twindow.setTitle(&quot;JAlgorithms&quot;);\r\n\t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\twindow.setSize(WINDOW_WIDTH, WINDOW_HEIGHT);\r\n\t\twindow.setLocationRelativeTo(null);\r\n\t\twindow.setResizable(false);\r\n\t\taddButtons();\r\n\t\t\r\n\t\tstartSort.addActionListener(taskPerformer);\r\n\r\n\t\tarrayVisualizer = new ArrayVisualizer();\r\n\t\twindow.add(arrayVisualizer);\r\n\t\tarrayVisualizer.repaint(); //Will call paint component method\t\t\r\n\t\t\r\n\t\twindow.pack();\r\n\t\twindow.setVisible(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tif(e.getSource() == shuffleBut) {\r\n\t\t\tarrayVisualizer.shuffle(ArrayVisualizer.array);\r\n\t\t\tarrayVisualizer.repaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tActionListener taskPerformer = new ActionListener() {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\tif(event.getSource() == startSort) {\r\n\t\t\t\tif(!timer.isRunning()) { //If timer is not running\r\n\t\t\t\t\ttimer.setInitialDelay(0); //Set initial delay\r\n\t\t\t\t\ttimer.start();\t//Start the timer\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t};\r\n\t\r\n\tActionListener sortWithDelay = new ActionListener() {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif(sorted(ArrayVisualizer.array)) { //If it is sorted\r\n\t\t\t\ttimer.stop();\t//Stop the timer\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tarrayVisualizer.sort(ArrayVisualizer.array); //If it is not sorted continue the sort\r\n\t\t\t\tarrayVisualizer.repaint();\t//Called after each swap\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\tprivate int delay = 10; //Milliseconds\r\n\tprivate Timer timer = new Timer(delay, sortWithDelay);\r\n\t\r\n\tprivate boolean sorted(int[] array) {\r\n\t\tfor(int i = 0; i &lt; array.length - 1; i++) {\r\n\t\t\tif(array[i] &gt; array[i+1]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nArrayVisualizer.java:\r\n```\r\nimport java.awt.*;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.lang.reflect.Array;\r\n\r\nimport javax.swing.*;\r\nimport java.util.*;\r\n\r\npublic class ArrayVisualizer extends JPanel {\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate InsertionSort insertionSort = new InsertionSort();\r\n\tprivate SelectionSort selectionSort = new SelectionSort();\r\n\tprotected static int[] array;\r\n\tprivate final int REC_WIDTH = 1; //1980 rectangles\r\n\tprivate final int NUMBER_OF_RECS = Window.WINDOW_WIDTH / REC_WIDTH;\r\n\tprivate final int[] barColors;\r\n\t\r\n\tpublic ArrayVisualizer() {\r\n\t\tsetBackground(Color.black);\r\n\t\tarray = new int[NUMBER_OF_RECS];\r\n\t\tbarColors = new int[NUMBER_OF_RECS];\r\n\t\tgenerateRandom(array);\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D graphics = (Graphics2D) g.create();\r\n\t\tgraphics.setColor(Color.white);\r\n\t\tfor(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\r\n\t\t\t\r\n\t\t\tint height = array[i] * 4; //Done for scaling\r\n\t\t\tint recX = i + (REC_WIDTH - 1) * i; //Read fillRect documentation\r\n\t\t\tint recY = Window.WINDOW_HEIGHT - height; //Read fillRect documentation\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tgraphics.fillRect(recX, recY, REC_WIDTH, height);\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t//This will return the Dimension of the actual rectangles. i.e the rectangles will only exist when this exists, almost like a canvas in javascript\r\n\t@Override\r\n\tpublic Dimension getPreferredSize() {\t\r\n\t\treturn new Dimension(Window.WINDOW_WIDTH, Window.WINDOW_HEIGHT);\r\n\t}\r\n\t\r\n\t//Creates a random unsorted array with numbers 1-200\r\n\tprotected void generateRandom(int[] array) {\r\n\t\tRandom number = new Random();\r\n\t\tfor(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\r\n\t\t\tarray[i] = number.nextInt(200);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprotected void shuffle(int[] array) {\r\n\t\t generateRandom(array);\r\n\t}\r\n\t\r\n\tprotected void sort(int[] array) {\r\n\t\tselectionSort.sortWithDelay(array);\r\n\t}\r\n}\r\n```\r\nInsertionSort.java:\r\n```\r\npublic class InsertionSort {\r\n\t\r\n\t    private int i = 1;\r\n\t    private int j = 0;\r\n\r\n\t    public void sortWithDelay(int arr[])\r\n\t    {\r\n\t        int n = arr.length;\r\n\t        \r\n\t        if(i &lt; n) {\r\n\r\n\t            int key = arr[i];\r\n\t            j = i - 1;\r\n\t    \r\n\t            /* Move elements of arr[0..i-1], that are\r\n\t               greater than key, to one position ahead\r\n\t               of their current position */\r\n\t            while(j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\r\n\t                arr[j + 1] = arr[j];\r\n\t                j = j - 1;\r\n\t            }\r\n\t            arr[j + 1] = key;\r\n\t            ++i;\r\n\t        }\r\n\t    }\r\n}\r\n```\r\nSelectionSort.java:\r\n```\r\npublic class SelectionSort {\r\n\r\n\tprivate int i = 1;\r\n\tprivate int j = 0;\r\n\t\r\n\t  public void sortWithDelay(int arr[])\r\n\t    {\r\n\t        int n = arr.length - 1;\r\n\t  \r\n\t        if(i &lt; n) {\r\n\t        \t\r\n\t        \tint min_index = i;\r\n\t        \t\r\n\t        \tfor(int j = i + 1; j &lt; n; j++) {\r\n\t        \t\tif(arr[j] &lt; arr[min_index]) {\r\n\t        \t\t\tmin_index = j;\r\n\t        \t\t}\r\n\t        \t}\r\n\t        \t\tint temp = arr[min_index];\r\n\t\t            arr[min_index] = arr[i];\r\n\t\t            arr[i] = temp;\r\n\t\t            ++i;\r\n\t        }\t       \r\n\t     }\r\n\t  }\r\n```\r\n\r\n\r\n\r\n","title":"How to update Sorting Algorithm Visualization?","body":"<p>I have been making a sorting algorithm visualizer in Java using Java Swing and AWT and coded insertion sort to see if it would be able to work. The algorithm works in the sense that when this program is run you can shuffle and sort the algorithm using insertion short but you don't actually see the algorithm in action. It just happens instantly and have been looking for ways to add some sort of delay but I can't find any sources to help me.</p>\n<p>I set it up with 4 java classes, the main which just init's the window, the window class, array visualizer class, and the insertion sort class.</p>\n<p>Window.java:</p>\n<pre><code>public class Window implements ActionListener  {\n    \n    //Window width\n    protected static int WINDOW_WIDTH = 1980;\n    //Window height\n    protected static int WINDOW_HEIGHT = 1080;\n    \n    private int delay = 100;\n    \n    //This will draw all our rectangles \n    protected static ArrayVisualizer arrayVisualizer;\n    \n    //Make a new JFrame\n    JFrame window = new JFrame();\n    \n    JButton shuffleBut = new JButton(&quot;Shuffle&quot;);\n    \n    JButton startSort = new JButton(&quot;Start Sorting&quot;);\n    \n    public Window() {\n        initWindow();\n    }\n    \n    private void addButtons() {\n        \n        //Shuffle Button\n        shuffleBut.setBounds(100, 50, 100, 100);\n        shuffleBut.setBackground(Color.white);\n        shuffleBut.addActionListener(this);\n        \n        startSort.setBounds(500, 50, 100, 100);;\n        startSort.setBackground(Color.white);\n        startSort.addActionListener(taskPerformer);\n        \n        window.add(shuffleBut);\n        window.add(startSort);\n    }\n    \n    private void initWindow() {\n        ImageIcon logo = new ImageIcon();\n        \n        window = new JFrame();\n        window.setTitle(&quot;JAlgorithms&quot;);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setSize(WINDOW_WIDTH, WINDOW_HEIGHT);\n        window.setLocationRelativeTo(null);\n        window.setResizable(false);\n        addButtons();\n        \n        arrayVisualizer = new ArrayVisualizer();\n        window.add(arrayVisualizer);\n        arrayVisualizer.repaint(); //Will call paint component method\n        \n        window.pack();\n        window.setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        if(e.getSource() == shuffleBut) {\n            arrayVisualizer.shuffle(ArrayVisualizer.array);\n            arrayVisualizer.repaint();\n        }\n    }\n    ActionListener taskPerformer = new ActionListener() {\n        public void actionPerformed(ActionEvent event) {\n            if(event.getSource() == startSort) {\n                arrayVisualizer.sort(ArrayVisualizer.array);\n                arrayVisualizer.repaint();\n            }   \n        }\n    };\n    \n}\n</code></pre>\n<p>ArrayVisualizer.java:</p>\n<pre><code>public class ArrayVisualizer extends JPanel {\n    \n    protected static int[] array;\n    private final int REC_WIDTH = 1; //1980 rectangles\n    private final int NUMBER_OF_RECS = Window.WINDOW_WIDTH / REC_WIDTH;\n    \n    public ArrayVisualizer() {\n        array = new int[NUMBER_OF_RECS];\n        generateRandom(array);\n    }\n    \n    \n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D graphics = (Graphics2D) g.create();\n        graphics.setColor(Color.orange);\n        for(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\n            \n            int height = array[i] * 4; //Done for scaling\n            int recX = i + (REC_WIDTH - 1) * i; //Read fillRect documentation\n            int recY = Window.WINDOW_HEIGHT - height; //Read fillRect documentation\n            \n            graphics.fillRect(recX, recY, REC_WIDTH, height);\n        }\n    }\n    \n    \n    //This will return the Dimension of the actual rectangles. i.e the rectangles will only exist when this exists, almost like a canvas in javascript\n    @Override\n    public Dimension getPreferredSize() {   \n        return new Dimension(Window.WINDOW_WIDTH, Window.WINDOW_HEIGHT);\n    }\n    \n    //Creates a random unsorted array with numbers 1-200\n    protected void generateRandom(int[] array) {\n        Random number = new Random();\n        for(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\n            array[i] = number.nextInt(200);\n        }\n    }\n    \n    protected void shuffle(int[] array) {\n         generateRandom(array);\n    }\n    \n    protected void sort(int[] array) {\n         InsertionSort.insertionSort(array);\n    }\n}\n</code></pre>\n<p>InsertionSort.java:</p>\n<pre><code>public class InsertionSort {\n    public static void insertionSort(int arr[])\n    {\n        int n = arr.length;\n        \n        \n        for (int i = 1; i &lt; n; ++i) {\n\n            int key = arr[i];\n            int j = i - 1;\n    \n            /* Move elements of arr[0..i-1], that are\n               greater than key, to one position ahead\n               of their current position */\n            while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\n                arr[j + 1] = arr[j];\n                j = j - 1;\n                \n            }\n            arr[j + 1] = key;\n            \n        }\n    }\n}\n</code></pre>\n<p>UPDATE (Here is the modified code, I added selection sort as well and heavily modified the suggestion I checkmarked):</p>\n<p>Main.java:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        \n        //Opens window\n        Window window = new Window();\n    }\n}\n</code></pre>\n<p>Window.java:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Image;\nimport java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.EventQueue;\nimport javax.swing.ImageIcon;\nimport java.awt.Graphics2D;\nimport java.awt.Graphics;\nimport java.awt.BorderLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class Window implements ActionListener  {\n    \n    //Window width\n    protected static int WINDOW_WIDTH = 1440;\n    //Window height\n    protected static int WINDOW_HEIGHT = 1080;\n        \n    //This will draw all our rectangles \n    protected static ArrayVisualizer arrayVisualizer;\n    \n    //Make a new JFrame\n    JFrame window = new JFrame();\n    \n    JButton shuffleBut = new JButton(&quot;Shuffle&quot;);\n    \n    JButton startSort = new JButton(&quot;Start Sorting&quot;);\n    \n    public Window() {\n        initWindow();\n    }\n    \n    private void addButtons() {\n        \n        //Shuffle Button\n        shuffleBut.setBounds(100, 50, 100, 100);\n        shuffleBut.setBackground(Color.white);\n        shuffleBut.addActionListener(this);\n        \n        startSort.setBounds(500, 50, 100, 100);;\n        startSort.setBackground(Color.white);\n        \n        window.add(shuffleBut);\n        window.add(startSort);\n\n    }\n    \n    private void initWindow() {\n        ImageIcon logo = new ImageIcon();\n        \n        window = new JFrame();\n        window.setTitle(&quot;JAlgorithms&quot;);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setSize(WINDOW_WIDTH, WINDOW_HEIGHT);\n        window.setLocationRelativeTo(null);\n        window.setResizable(false);\n        addButtons();\n        \n        startSort.addActionListener(taskPerformer);\n\n        arrayVisualizer = new ArrayVisualizer();\n        window.add(arrayVisualizer);\n        arrayVisualizer.repaint(); //Will call paint component method       \n        \n        window.pack();\n        window.setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        if(e.getSource() == shuffleBut) {\n            arrayVisualizer.shuffle(ArrayVisualizer.array);\n            arrayVisualizer.repaint();\n        }\n    }\n    \n    \n    ActionListener taskPerformer = new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            if(event.getSource() == startSort) {\n                if(!timer.isRunning()) { //If timer is not running\n                    timer.setInitialDelay(0); //Set initial delay\n                    timer.start();  //Start the timer\n                }\n            }   \n        }\n    };\n    \n    ActionListener sortWithDelay = new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if(sorted(ArrayVisualizer.array)) { //If it is sorted\n                timer.stop();   //Stop the timer\n                return;\n            } else {\n                arrayVisualizer.sort(ArrayVisualizer.array); //If it is not sorted continue the sort\n                arrayVisualizer.repaint();  //Called after each swap\n            }\n        }\n    };\n    \n    private int delay = 10; //Milliseconds\n    private Timer timer = new Timer(delay, sortWithDelay);\n    \n    private boolean sorted(int[] array) {\n        for(int i = 0; i &lt; array.length - 1; i++) {\n            if(array[i] &gt; array[i+1]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    \n}\n\n</code></pre>\n<p>ArrayVisualizer.java:</p>\n<pre><code>import java.awt.*;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.lang.reflect.Array;\n\nimport javax.swing.*;\nimport java.util.*;\n\npublic class ArrayVisualizer extends JPanel {\n    \n    private static final long serialVersionUID = 1L;\n    private InsertionSort insertionSort = new InsertionSort();\n    private SelectionSort selectionSort = new SelectionSort();\n    protected static int[] array;\n    private final int REC_WIDTH = 1; //1980 rectangles\n    private final int NUMBER_OF_RECS = Window.WINDOW_WIDTH / REC_WIDTH;\n    private final int[] barColors;\n    \n    public ArrayVisualizer() {\n        setBackground(Color.black);\n        array = new int[NUMBER_OF_RECS];\n        barColors = new int[NUMBER_OF_RECS];\n        generateRandom(array);\n    }\n    \n    \n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D graphics = (Graphics2D) g.create();\n        graphics.setColor(Color.white);\n        for(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\n            \n            int height = array[i] * 4; //Done for scaling\n            int recX = i + (REC_WIDTH - 1) * i; //Read fillRect documentation\n            int recY = Window.WINDOW_HEIGHT - height; //Read fillRect documentation\n            \n            \n            graphics.fillRect(recX, recY, REC_WIDTH, height);\n            \n            \n        }\n    }\n    \n    \n    //This will return the Dimension of the actual rectangles. i.e the rectangles will only exist when this exists, almost like a canvas in javascript\n    @Override\n    public Dimension getPreferredSize() {   \n        return new Dimension(Window.WINDOW_WIDTH, Window.WINDOW_HEIGHT);\n    }\n    \n    //Creates a random unsorted array with numbers 1-200\n    protected void generateRandom(int[] array) {\n        Random number = new Random();\n        for(int i = 0; i &lt; NUMBER_OF_RECS; i++) {\n            array[i] = number.nextInt(200);\n        }\n    }\n    \n    protected void shuffle(int[] array) {\n         generateRandom(array);\n    }\n    \n    protected void sort(int[] array) {\n        selectionSort.sortWithDelay(array);\n    }\n}\n</code></pre>\n<p>InsertionSort.java:</p>\n<pre><code>public class InsertionSort {\n    \n        private int i = 1;\n        private int j = 0;\n\n        public void sortWithDelay(int arr[])\n        {\n            int n = arr.length;\n            \n            if(i &lt; n) {\n\n                int key = arr[i];\n                j = i - 1;\n        \n                /* Move elements of arr[0..i-1], that are\n                   greater than key, to one position ahead\n                   of their current position */\n                while(j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\n                    arr[j + 1] = arr[j];\n                    j = j - 1;\n                }\n                arr[j + 1] = key;\n                ++i;\n            }\n        }\n}\n</code></pre>\n<p>SelectionSort.java:</p>\n<pre><code>public class SelectionSort {\n\n    private int i = 1;\n    private int j = 0;\n    \n      public void sortWithDelay(int arr[])\n        {\n            int n = arr.length - 1;\n      \n            if(i &lt; n) {\n                \n                int min_index = i;\n                \n                for(int j = i + 1; j &lt; n; j++) {\n                    if(arr[j] &lt; arr[min_index]) {\n                        min_index = j;\n                    }\n                }\n                    int temp = arr[min_index];\n                    arr[min_index] = arr[i];\n                    arr[i] = temp;\n                    ++i;\n            }          \n         }\n      }\n</code></pre>\n"},{"tags":["java","unit-testing","kotlin","junit5","mockk"],"comments":[{"owner":{"account_id":4563731,"reputation":434,"user_id":3705293,"display_name":"DJ_Polly"},"score":0,"creation_date":1656993029,"post_id":72863683,"comment_id":128697660,"body_markdown":"I don&#39;t understand your exact issue - you&#39;re unsure how to test the code within the if-block, as inventoryInfo is always null or empty in the unit test? Or you got the error &quot;unable to go inside if condition&quot; from Junit?","body":"I don&#39;t understand your exact issue - you&#39;re unsure how to test the code within the if-block, as inventoryInfo is always null or empty in the unit test? Or you got the error &quot;unable to go inside if condition&quot; from Junit?"},{"owner":{"account_id":6243512,"reputation":185,"user_id":9804485,"display_name":"SamDev"},"score":0,"creation_date":1656993709,"post_id":72863683,"comment_id":128697769,"body_markdown":"Hi @DJ_Polly, I called &quot;verify { processorSpy.process(data) }&quot; BUT it never cover IF ELSE because &#39;sqsQPayloadExtractor&#39; &#39;extractInventoryType&#39; empty why??. I&#39;m unable to understand pls let me know if you have idea, sure..","body":"Hi @DJ_Polly, I called &quot;verify { processorSpy.process(data) }&quot; BUT it never cover IF ELSE because &#39;sqsQPayloadExtractor&#39; &#39;extractInventoryType&#39; empty why??. I&#39;m unable to understand pls let me know if you have idea, sure.."},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":1,"creation_date":1656998292,"post_id":72863683,"comment_id":128698462,"body_markdown":"Are you testing this `process` method independently? If yes, where is the call to `process` that you are verifying as per above comment? share your test code.","body":"Are you testing this <code>process</code> method independently? If yes, where is the call to <code>process</code> that you are verifying as per above comment? share your test code."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":1,"creation_date":1657048828,"post_id":72863683,"comment_id":128715682,"body_markdown":"We have no idea why your variables are coming back empty because we don&#39;t know anything about your code. That&#39;s kinda the point of tests - you write something like this that should work, and when it fails you go find out why and fix it!","body":"We have no idea why your variables are coming back empty because we don&#39;t know anything about your code. That&#39;s kinda the point of tests - you write something like this that should work, and when it fails you go find out why and fix it!"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":1,"creation_date":1657049231,"post_id":72863683,"comment_id":128715803,"body_markdown":"Also this isn&#39;t really a *unit test*, because you&#39;re not just testing `process` here - you&#39;re also relying on `UtilityFunctions.sqsQPayloadExtractor` and `extractInventoryType` to work, so really you&#39;re testing those too, instead of just one thing. Because they&#39;re hardcoded references, instead of a dependency you pass in (which you could mock to provide &quot;ideal&quot; behaviour for the test) it means you can&#39;t test `process` in isolation. It seems like your problem is with those `UtilityFunctions` methods anyway - `process` might be fine, you can&#39;t tell from this test because they&#39;re breaking it","body":"Also this isn&#39;t really a <i>unit test</i>, because you&#39;re not just testing <code>process</code> here - you&#39;re also relying on <code>UtilityFunctions.sqsQPayloadExtractor</code> and <code>extractInventoryType</code> to work, so really you&#39;re testing those too, instead of just one thing. Because they&#39;re hardcoded references, instead of a dependency you pass in (which you could mock to provide &quot;ideal&quot; behaviour for the test) it means you can&#39;t test <code>process</code> in isolation. It seems like your problem is with those <code>UtilityFunctions</code> methods anyway - <code>process</code> might be fine, you can&#39;t tell from this test because they&#39;re breaking it"},{"owner":{"account_id":4563731,"reputation":434,"user_id":3705293,"display_name":"DJ_Polly"},"score":0,"creation_date":1657083047,"post_id":72863683,"comment_id":128721982,"body_markdown":"Exactly. What are those other two functions doing? Also, what `message` are you passing into your test? Please share test code and UtilityFunctions.","body":"Exactly. What are those other two functions doing? Also, what <code>message</code> are you passing into your test? Please share test code and UtilityFunctions."}],"owner":{"account_id":6243512,"reputation":185,"user_id":9804485,"display_name":"SamDev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656992511,"creation_date":1656991416,"question_id":72863683,"body_markdown":"I&#39;m new Kotlin and facing issue while writing Kotlin Junit test, unable to go inside if condition!\r\n\r\n        override fun process(message: String) {\r\n        try {\r\n            logger.info(&quot;(invFileTransformer) Process inventory processor evaluation started...&quot;)\r\n            val sqsPayloadInfo = UtilityFunctions.sqsQPayloadExtractor(message)\r\n            val inventoryInfo = UtilityFunctions.extractInventoryType(sqsPayloadInfo[0])\r\n            if (!inventoryInfo.isNullOrEmpty()) {\r\n                transformerProcessService.startProcess(\r\n                    sqsPayloadInfo[0],\r\n                    inventoryInfo[0],\r\n                    inventoryInfo[1],\r\n                    sqsPayloadInfo[1]\r\n                )\r\n            } else {\r\n                logger.info(&quot;(invFileTransformer) Incorrect inventory directory path!&quot;)\r\n            }\r\n        } catch (ex: Exception) {\r\n            ex.message\r\n            logger.info(&quot;(invFileTransformer) Process inventory processor evaluation error: $ex.message&quot;)\r\n        }\r\n    }\r\n\r\n          \r\nPlease help or share a helpful link, Thanks.\r\n","title":"How to write Kotlin unit test to test a function internally calling other functions","body":"<p>I'm new Kotlin and facing issue while writing Kotlin Junit test, unable to go inside if condition!</p>\n<pre><code>    override fun process(message: String) {\n    try {\n        logger.info(&quot;(invFileTransformer) Process inventory processor evaluation started...&quot;)\n        val sqsPayloadInfo = UtilityFunctions.sqsQPayloadExtractor(message)\n        val inventoryInfo = UtilityFunctions.extractInventoryType(sqsPayloadInfo[0])\n        if (!inventoryInfo.isNullOrEmpty()) {\n            transformerProcessService.startProcess(\n                sqsPayloadInfo[0],\n                inventoryInfo[0],\n                inventoryInfo[1],\n                sqsPayloadInfo[1]\n            )\n        } else {\n            logger.info(&quot;(invFileTransformer) Incorrect inventory directory path!&quot;)\n        }\n    } catch (ex: Exception) {\n        ex.message\n        logger.info(&quot;(invFileTransformer) Process inventory processor evaluation error: $ex.message&quot;)\n    }\n}\n\n      \n</code></pre>\n<p>Please help or share a helpful link, Thanks.</p>\n"},{"tags":["java","csv","apache-commons-csv"],"comments":[{"owner":{"account_id":3569076,"reputation":389,"user_id":2979900,"accept_rate":90,"display_name":"buggaby"},"score":0,"creation_date":1537291331,"post_id":36082195,"comment_id":91728464,"body_markdown":"My read of the documentation is the same as yours. It looks like it is meant for reading single-table-csvs. I&#39;m curious why you would need to read a different row other than the first one as the headers, though.","body":"My read of the documentation is the same as yours. It looks like it is meant for reading single-table-csvs. I&#39;m curious why you would need to read a different row other than the first one as the headers, though."}],"answers":[{"tags":[],"owner":{"account_id":6969783,"reputation":49,"user_id":5346531,"display_name":"itsChathurangaJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656991438,"creation_date":1656991438,"answer_id":72863685,"question_id":36082195,"body_markdown":"I came across needing this kind of feature, but Apache Commons CSV doesn&#39;t have that. But however, I achieved it by removing all the garbage rows before the header row, so that the header becomes the first row.","title":"Passing Header row index to Apache Commons CSV","body":"<p>I came across needing this kind of feature, but Apache Commons CSV doesn't have that. But however, I achieved it by removing all the garbage rows before the header row, so that the header becomes the first row.</p>\n"}],"owner":{"account_id":7842558,"reputation":293,"user_id":5928565,"accept_rate":33,"display_name":"Rama Arjun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1656991438,"creation_date":1458297577,"question_id":36082195,"body_markdown":"Apache Commons CSV provides method to pass Header columns with `withHeaders()`. But is there a way to pass a specific row index as header row to Apache Commons. I have gone through the docs but have not found anything.","title":"Passing Header row index to Apache Commons CSV","body":"<p>Apache Commons CSV provides method to pass Header columns with <code>withHeaders()</code>. But is there a way to pass a specific row index as header row to Apache Commons. I have gone through the docs but have not found anything.</p>\n"},{"tags":["java","database","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656990442,"post_id":72863466,"comment_id":128697322,"body_markdown":"I think the answer is saying &quot;strictly speaking&quot; it&#39;s not bidirectional.  The JPA mappings (I assume it&#39;s JPA) don&#39;t actually work across tables and allow JPA to infer that the mapping is actually bidirectional.  Human intelligence can do that, but JPA library can&#39;t.","body":"I think the answer is saying &quot;strictly speaking&quot; it&#39;s not bidirectional.  The JPA mappings (I assume it&#39;s JPA) don&#39;t actually work across tables and allow JPA to infer that the mapping is actually bidirectional.  Human intelligence can do that, but JPA library can&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656991433,"creation_date":1656990800,"answer_id":72863642,"question_id":72863466,"body_markdown":"(1)  No ideas why the author said it is not a bi-directional relationship.\r\n\r\nFrom the hibernate documentation , it also mentions that [a similar mapping][1] is a bidirectional which both involved entities can navigate to each other. \r\n\r\nIn this example, given a `Person` , we can get its `IdDocument` by its `idDocuments` field. And given an `IdDocument` , we can get its `Person` by its `person` field. So it is a bi-directional.\r\n\r\n\r\n(2) I am not sure too. To me, whenever both entities in a relationship can navigate to each other , it is a bi-directional relationship. If only one entity can navigate to another but not vice versa , it is a unidirectional relationship.\r\n\r\nAnd you can find the equivalent unidirectional case of the example the I mentioned above in [this][1] for comparing their differences.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many-bidirectional","title":"Hibernate: How to distinguish two uni-directional relationship and one bi-directional relationship?","body":"<p>(1)  No ideas why the author said it is not a bi-directional relationship.</p>\n<p>From the hibernate documentation , it also mentions that <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many-bidirectional\" rel=\"nofollow noreferrer\">a similar mapping</a> is a bidirectional which both involved entities can navigate to each other.</p>\n<p>In this example, given a <code>Person</code> , we can get its <code>IdDocument</code> by its <code>idDocuments</code> field. And given an <code>IdDocument</code> , we can get its <code>Person</code> by its <code>person</code> field. So it is a bi-directional.</p>\n<p>(2) I am not sure too. To me, whenever both entities in a relationship can navigate to each other , it is a bi-directional relationship. If only one entity can navigate to another but not vice versa , it is a unidirectional relationship.</p>\n<p>And you can find the equivalent unidirectional case of the example the I mentioned above in <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many-bidirectional\" rel=\"nofollow noreferrer\">this</a> for comparing their differences.</p>\n"}],"owner":{"account_id":7998897,"reputation":93,"user_id":18771851,"display_name":"Mehdi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72863642,"answer_count":1,"score":0,"last_activity_date":1656991433,"creation_date":1656988443,"question_id":72863466,"body_markdown":"in [this answer][1], the author said: \r\n\r\n&gt; Take an example of two entities mapped without declaring a owning\r\n&gt; side:\r\n\r\n    @Entity\r\n    @Table(name=&quot;PERSONS&quot;)\r\n    public class Person {\r\n        @OneToMany\r\n        private List&lt;IdDocument&gt;  idDocuments;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name=&quot;ID_DOCUMENTS&quot;)\r\n    public class IdDocument {\r\n        @ManyToOne\r\n        private Person person;\r\n    }\r\n\r\n&gt; From a OO point of view this mapping defines not one bi-directional\r\n&gt; relation, but two separate uni-directional relations.\r\n\r\n\r\n1.**My first question is:** \r\n*Why it is not a bi-directional relation?* \r\n\r\n[Docs Oracle:][2]\r\n&gt; In a bidirectional relationship, each entity has a relationship field\r\n&gt; or property that refers to the other entity. Through the relationship\r\n&gt; field or property, an entity class’s code can access its related\r\n&gt; object\r\n\r\nin the above code, both class have a relationship field that refers to the other entity. then why it is not a bi-directional relation and these are two uni-directional relations? \r\n\r\n2.**My second question is:** *what is the difference between two uni-directional relations and one bi-directional relation? aren&#39;t they same thing?*\r\n\r\n  [1]: https://stackoverflow.com/a/21068644/9754554\r\n  [2]: https://docs.oracle.com/cd/E19798-01/821-1841/bnbqj/index.html","title":"Hibernate: How to distinguish two uni-directional relationship and one bi-directional relationship?","body":"<p>in <a href=\"https://stackoverflow.com/a/21068644/9754554\">this answer</a>, the author said:</p>\n<blockquote>\n<p>Take an example of two entities mapped without declaring a owning\nside:</p>\n</blockquote>\n<pre><code>@Entity\n@Table(name=&quot;PERSONS&quot;)\npublic class Person {\n    @OneToMany\n    private List&lt;IdDocument&gt;  idDocuments;\n}\n\n@Entity\n@Table(name=&quot;ID_DOCUMENTS&quot;)\npublic class IdDocument {\n    @ManyToOne\n    private Person person;\n}\n</code></pre>\n<blockquote>\n<p>From a OO point of view this mapping defines not one bi-directional\nrelation, but two separate uni-directional relations.</p>\n</blockquote>\n<p>1.<strong>My first question is:</strong>\n<em>Why it is not a bi-directional relation?</em></p>\n<p><a href=\"https://docs.oracle.com/cd/E19798-01/821-1841/bnbqj/index.html\" rel=\"nofollow noreferrer\">Docs Oracle:</a></p>\n<blockquote>\n<p>In a bidirectional relationship, each entity has a relationship field\nor property that refers to the other entity. Through the relationship\nfield or property, an entity class’s code can access its related\nobject</p>\n</blockquote>\n<p>in the above code, both class have a relationship field that refers to the other entity. then why it is not a bi-directional relation and these are two uni-directional relations?</p>\n<p>2.<strong>My second question is:</strong> <em>what is the difference between two uni-directional relations and one bi-directional relation? aren't they same thing?</em></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1656992653,"post_id":72863606,"comment_id":128697603,"body_markdown":"Please explain what your code should do and does. And where is it that you check them when you come back?","body":"Please explain what your code should do and does. And where is it that you check them when you come back?"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1657013050,"post_id":72863606,"comment_id":128702673,"body_markdown":"@blackapps I want to check more than one checkbox at a time. Here if check ( a, b and c) item only the last item gets checked","body":"@blackapps I want to check more than one checkbox at a time. Here if check ( a, b and c) item only the last item gets checked"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1657014404,"post_id":72863606,"comment_id":128703188,"body_markdown":"@blackapps When I return to see if they are checked properly. If  want to check all these 4 checkboxes I need to check one checkbox, press back button and then return to check another item and because of that I need 4 times to check all the checkboxes, I have check one press back key and then check another press back key again until I finish checking them all an that is not what I want.","body":"@blackapps When I return to see if they are checked properly. If  want to check all these 4 checkboxes I need to check one checkbox, press back button and then return to check another item and because of that I need 4 times to check all the checkboxes, I have check one press back key and then check another press back key again until I finish checking them all an that is not what I want."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1657118334,"post_id":72863606,"comment_id":128734510,"body_markdown":"Dont understand a word. Why cant the user check four checkboxes? And if he closes the thing and comes back no one is checked as you are nowhere setting them back.","body":"Dont understand a word. Why cant the user check four checkboxes? And if he closes the thing and comes back no one is checked as you are nowhere setting them back."}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656990372,"creation_date":1656990372,"question_id":72863606,"body_markdown":"I have a list of checkboxes in the RecyclerView, when I check more than one checkbox at a time it doesn&#39;t work and only the last clicked item get checked. Unchecking also is the same problem. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o8DN4.png\r\n\r\nIf I check, let&#39;s say (a) and then (b) later (c) and when I press back key and return to the list, only (c) got checked. Can anyone pinpoint the bug for me.\r\n\r\n        checklistChildViewHolder.checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n       @Override\r\n       public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n        StringBuilder stringBuilderStatus = new StringBuilder();\r\n        ArrayList&lt;String&gt; newStatusList;;\r\n        String txt = checklistChildViewHolder.checkBox.getText().toString();\r\n        if (b) {\r\n        statusSplit = status.split(&quot;\\n&quot;);\r\n        newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n        newStatusList.set(position, &quot;1&quot;);\r\n\r\n        for(String singleStatus: newStatusList){\r\n        stringBuilderStatus.append(singleStatus);\r\n        stringBuilderStatus.append(&quot;\\n&quot;);\r\n        }\r\n        String statuses = stringBuilderStatus.toString();\r\n\r\n        checklistChildViewHolder.checkBox.setText(lineThrough(txt));\r\n        dbHelper.updateChecklist(id,statuses , content, DateTime.date(), DateTime.time(), System.currentTimeMillis());\r\n\r\n        }\r\n        else {\r\n\r\n        statusSplit = status.split(&quot;\\n&quot;);\r\n        newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n        newStatusList.set(position, &quot;0&quot;);\r\n\r\n        stringBuilderStatus = new StringBuilder();\r\n        for(String singleStatus: newStatusList){\r\n        stringBuilderStatus.append(singleStatus);\r\n        stringBuilderStatus.append(&quot;\\n&quot;);\r\n        }\r\n        String statuses = stringBuilderStatus.toString();\r\n\r\n        checklistChildViewHolder.checkBox.setText(txt);\r\n        dbHelper.updateChecklist(id,statuses , content, DateTime.date(), DateTime.time(), System.currentTimeMillis());\r\n        }\r\n        }\r\n        });","title":"I have a problem in (checkBox.setOnCheckedChangeListener), I have x number of checkboxes, when I check more than one it doesn&#39;t work","body":"<p>I have a list of checkboxes in the RecyclerView, when I check more than one checkbox at a time it doesn't work and only the last clicked item get checked. Unchecking also is the same problem.</p>\n<p><a href=\"https://i.stack.imgur.com/o8DN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o8DN4.png\" alt=\"enter image description here\" /></a></p>\n<p>If I check, let's say (a) and then (b) later (c) and when I press back key and return to the list, only (c) got checked. Can anyone pinpoint the bug for me.</p>\n<pre><code>    checklistChildViewHolder.checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n   @Override\n   public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n    StringBuilder stringBuilderStatus = new StringBuilder();\n    ArrayList&lt;String&gt; newStatusList;;\n    String txt = checklistChildViewHolder.checkBox.getText().toString();\n    if (b) {\n    statusSplit = status.split(&quot;\\n&quot;);\n    newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n    newStatusList.set(position, &quot;1&quot;);\n\n    for(String singleStatus: newStatusList){\n    stringBuilderStatus.append(singleStatus);\n    stringBuilderStatus.append(&quot;\\n&quot;);\n    }\n    String statuses = stringBuilderStatus.toString();\n\n    checklistChildViewHolder.checkBox.setText(lineThrough(txt));\n    dbHelper.updateChecklist(id,statuses , content, DateTime.date(), DateTime.time(), System.currentTimeMillis());\n\n    }\n    else {\n\n    statusSplit = status.split(&quot;\\n&quot;);\n    newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n    newStatusList.set(position, &quot;0&quot;);\n\n    stringBuilderStatus = new StringBuilder();\n    for(String singleStatus: newStatusList){\n    stringBuilderStatus.append(singleStatus);\n    stringBuilderStatus.append(&quot;\\n&quot;);\n    }\n    String statuses = stringBuilderStatus.toString();\n\n    checklistChildViewHolder.checkBox.setText(txt);\n    dbHelper.updateChecklist(id,statuses , content, DateTime.date(), DateTime.time(), System.currentTimeMillis());\n    }\n    }\n    });\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656989394,"creation_date":1656989394,"answer_id":72863530,"question_id":72860608,"body_markdown":"By theory fault-tolerant state stores are backed by a compacted changelog topic and if you are deleting your state store, the application’s state can be fully restored from its changelog topic and you will be not missing any aggregated data. \r\n\r\nYou can use bin/kafka-streams-application-reset to clean up application in a efficient way too.\r\n\r\nFor your reference:\r\n\r\nhttps://www.confluent.io/blog/data-reprocessing-with-kafka-streams-resetting-a-streams-application/\r\n\r\nhttp://docs.confluent.io/current/streams/developer-guide.html#application-reset-tool","title":"Kafka Stream KeyValue state Store (KTable)","body":"<p>By theory fault-tolerant state stores are backed by a compacted changelog topic and if you are deleting your state store, the application’s state can be fully restored from its changelog topic and you will be not missing any aggregated data.</p>\n<p>You can use bin/kafka-streams-application-reset to clean up application in a efficient way too.</p>\n<p>For your reference:</p>\n<p><a href=\"https://www.confluent.io/blog/data-reprocessing-with-kafka-streams-resetting-a-streams-application/\" rel=\"nofollow noreferrer\">https://www.confluent.io/blog/data-reprocessing-with-kafka-streams-resetting-a-streams-application/</a></p>\n<p><a href=\"http://docs.confluent.io/current/streams/developer-guide.html#application-reset-tool\" rel=\"nofollow noreferrer\">http://docs.confluent.io/current/streams/developer-guide.html#application-reset-tool</a></p>\n"}],"owner":{"account_id":15615340,"reputation":123,"user_id":11265684,"display_name":"madhuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656989394,"creation_date":1656958078,"question_id":72860608,"body_markdown":"I have a requirement that irrespective of time ,  whenever message comes to  kafka topic  ,i need  aggregate all those messages based on the key.\r\n\r\nBelow logic i have written to achieve this which is working fine.\r\n\r\n\r\n     KStream&lt;String, Sample&gt; sampleKStream =\r\n                builder.stream(&quot;inprocess-topic&quot;);\r\n\r\n\r\n     final Materialized&lt;String, Sample, KeyValueStore&lt;Bytes, byte[]&gt;&gt; sampleStore =\r\n                Materialized.&lt;String, Sample, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(&quot;changelog-topic&quot;).withLoggingEnabled(changeLogConfigs)\r\n                        .withCachingDisabled();\r\n\r\n       KGroupedStream&lt;String,Sample&gt; kgroup = sampleKStream.groupByKey();\r\n\r\n       kgroup.\r\n               aggregate(()-&gt; new Sample(null, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, new ArrayList&lt;&gt;()),\r\n               (key , value , aggregator) -&gt; Aggregator.merge(key , value , aggregator),sampleStore )\r\n               .toStream()\r\n               .map((key, value) -&gt; KeyValue.pair(key, value))\r\n               .selectKey((key, value) -&gt; value.getName())\r\n               .peek(Demo::logOut)\r\n               .filter((k,v) -&gt; v!=null &amp;&amp; isComplete(v))\r\n               .to(&quot;output-topic&quot;);\r\n\r\nCan any one help -  is there any situation to miss latest aggregated message from KeyValue Store (KTable) except tombstone message  ?  and\r\n \r\n will KTable data removed , if we delete state directories from respective path(state.dir) ?\r\n\r\n","title":"Kafka Stream KeyValue state Store (KTable)","body":"<p>I have a requirement that irrespective of time ,  whenever message comes to  kafka topic  ,i need  aggregate all those messages based on the key.</p>\n<p>Below logic i have written to achieve this which is working fine.</p>\n<pre><code> KStream&lt;String, Sample&gt; sampleKStream =\n            builder.stream(&quot;inprocess-topic&quot;);\n\n\n final Materialized&lt;String, Sample, KeyValueStore&lt;Bytes, byte[]&gt;&gt; sampleStore =\n            Materialized.&lt;String, Sample, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(&quot;changelog-topic&quot;).withLoggingEnabled(changeLogConfigs)\n                    .withCachingDisabled();\n\n   KGroupedStream&lt;String,Sample&gt; kgroup = sampleKStream.groupByKey();\n\n   kgroup.\n           aggregate(()-&gt; new Sample(null, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, new ArrayList&lt;&gt;()),\n           (key , value , aggregator) -&gt; Aggregator.merge(key , value , aggregator),sampleStore )\n           .toStream()\n           .map((key, value) -&gt; KeyValue.pair(key, value))\n           .selectKey((key, value) -&gt; value.getName())\n           .peek(Demo::logOut)\n           .filter((k,v) -&gt; v!=null &amp;&amp; isComplete(v))\n           .to(&quot;output-topic&quot;);\n</code></pre>\n<p>Can any one help -  is there any situation to miss latest aggregated message from KeyValue Store (KTable) except tombstone message  ?  and</p>\n<p>will KTable data removed , if we delete state directories from respective path(state.dir) ?</p>\n"},{"tags":["java","algorithm","data-structures","graph-theory","depth-first-search"],"answers":[{"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656989132,"creation_date":1656773042,"answer_id":72839959,"question_id":72838584,"body_markdown":"You know `size` is passed as value and not as reference. So it won&#39;t get updated after you return from the call. One thing you could do is define a single element array like\r\n`int[] size = new int[1];`\r\n\r\nand modify your dfs like:\r\n\r\n      static void dfs(int[] s, int v, boolean[] visited, ArrayList&lt;ArrayList&lt;Integer&gt;&gt;  adj)  {\r\n    \t\ts[0]++;\r\n    \t\tvisited[v] = true;\r\n    \t\tfor (int u : adj.get(v)) {\r\n    \t\t\tif (!visited[u]) {\r\n    \t\t\t\tdfs(s, u, visited, adj);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nThen your result will be in `size[0]` which you can use to update `ways` like `ways *= size[0]`\r\n\r\nOr you could modify dfs to return size which is a cleaner way to get the size like below:\r\n\r\n       static int dfs(int v, boolean[] visited, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj) {\r\n    \t\tvisited[v] = true;\r\n    \t\tint sz = 1;\r\n    \t\tfor (int u : adj.get(v)) {\r\n    \t\t\tif (!visited[u]) {\r\n    \t\t\t\tsz += dfs(u, visited, adj);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn sz;\r\n    \t}","title":"Find all connected components and their sizes in a graph","body":"<p>You know <code>size</code> is passed as value and not as reference. So it won't get updated after you return from the call. One thing you could do is define a single element array like\n<code>int[] size = new int[1];</code></p>\n<p>and modify your dfs like:</p>\n<pre><code>  static void dfs(int[] s, int v, boolean[] visited, ArrayList&lt;ArrayList&lt;Integer&gt;&gt;  adj)  {\n        s[0]++;\n        visited[v] = true;\n        for (int u : adj.get(v)) {\n            if (!visited[u]) {\n                dfs(s, u, visited, adj);\n            }\n        }\n    }\n</code></pre>\n<p>Then your result will be in <code>size[0]</code> which you can use to update <code>ways</code> like <code>ways *= size[0]</code></p>\n<p>Or you could modify dfs to return size which is a cleaner way to get the size like below:</p>\n<pre><code>   static int dfs(int v, boolean[] visited, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj) {\n        visited[v] = true;\n        int sz = 1;\n        for (int u : adj.get(v)) {\n            if (!visited[u]) {\n                sz += dfs(u, visited, adj);\n            }\n        }\n        return sz;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656849061,"creation_date":1656777068,"answer_id":72840433,"question_id":72838584,"body_markdown":"And it seems like you have a misconception on how variables in Java work ([*see*](https://stackoverflow.com/questions/3662288/can-i-pass-a-primitive-type-by-reference-in-java)). Incrementing an `int` variable that resides on one lair of the stack would not affect a variable on another stack lair. That&#39;s why the `size` is always `0`.\r\n\r\nThe following solution passes base test on *CodeChef*:\r\n\r\n```\r\npublic class CountComponents {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int testCases = sc.nextInt();\r\n    \r\n        for (int i = 0; i &lt; testCases; i++) {\r\n            EmployeeGraph graph = parseGraph(sc);\r\n            graph.countComponentsAndComponentSizes();\r\n        }\r\n    }\r\n    \r\n    public static EmployeeGraph parseGraph(Scanner sc) {\r\n        int employeeCount = sc.nextInt();\r\n        int connectionsCount = sc.nextInt();\r\n        \r\n        boolean[][] adjacencyMatrix = new boolean[employeeCount][employeeCount];\r\n        for (int i = 0; i &lt; connectionsCount; i++) {\r\n            int row = sc.nextInt() - 1;\r\n            int col = sc.nextInt() - 1;\r\n            adjacencyMatrix[row][col] = true;\r\n            adjacencyMatrix[col][row] = true;\r\n        }\r\n        return new EmployeeGraph(adjacencyMatrix);\r\n    }\r\n}\r\n\r\nclass EmployeeGraph {\r\n    public static final int BILLION_SEVEN = 1_000_000_007;\r\n    private boolean[][] adjacencyMatrix;\r\n    \r\n    public EmployeeGraph(boolean[][] adjacencyMatrix) {\r\n        this.adjacencyMatrix = adjacencyMatrix;\r\n    }\r\n    \r\n    public void countComponentsAndComponentSizes() {\r\n        boolean[] visited = new boolean[adjacencyMatrix.length];\r\n        int componentCount = 0;\r\n        int waysToChooseCaptain = 1;\r\n        \r\n        for (int row = 0; row &lt; adjacencyMatrix.length; row++) {\r\n            if (!visited[row]) {\r\n                componentCount++;\r\n                waysToChooseCaptain = (waysToChooseCaptain % BILLION_SEVEN) * dfs(visited, row);\r\n            }\r\n        }\r\n    \r\n        System.out.println(componentCount + &quot; &quot; + waysToChooseCaptain % BILLION_SEVEN);\r\n    }\r\n    \r\n    public int dfs(boolean[] visited, int row) {\r\n        visited[row] = true; // marking the current employee as visited\r\n        \r\n        int size = 1;        // this component consists at least from 1 employee\r\n        \r\n        for (int col = 0; col &lt; adjacencyMatrix.length; col++) {\r\n            if (adjacencyMatrix[row][col] &amp;&amp; !visited[col]) {\r\n                size += dfs(visited, col);\r\n            }\r\n        }\r\n        \r\n        return size;\r\n    }\r\n}\r\n```","title":"Find all connected components and their sizes in a graph","body":"<p>And it seems like you have a misconception on how variables in Java work (<a href=\"https://stackoverflow.com/questions/3662288/can-i-pass-a-primitive-type-by-reference-in-java\"><em>see</em></a>). Incrementing an <code>int</code> variable that resides on one lair of the stack would not affect a variable on another stack lair. That's why the <code>size</code> is always <code>0</code>.</p>\n<p>The following solution passes base test on <em>CodeChef</em>:</p>\n<pre><code>public class CountComponents {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int testCases = sc.nextInt();\n    \n        for (int i = 0; i &lt; testCases; i++) {\n            EmployeeGraph graph = parseGraph(sc);\n            graph.countComponentsAndComponentSizes();\n        }\n    }\n    \n    public static EmployeeGraph parseGraph(Scanner sc) {\n        int employeeCount = sc.nextInt();\n        int connectionsCount = sc.nextInt();\n        \n        boolean[][] adjacencyMatrix = new boolean[employeeCount][employeeCount];\n        for (int i = 0; i &lt; connectionsCount; i++) {\n            int row = sc.nextInt() - 1;\n            int col = sc.nextInt() - 1;\n            adjacencyMatrix[row][col] = true;\n            adjacencyMatrix[col][row] = true;\n        }\n        return new EmployeeGraph(adjacencyMatrix);\n    }\n}\n\nclass EmployeeGraph {\n    public static final int BILLION_SEVEN = 1_000_000_007;\n    private boolean[][] adjacencyMatrix;\n    \n    public EmployeeGraph(boolean[][] adjacencyMatrix) {\n        this.adjacencyMatrix = adjacencyMatrix;\n    }\n    \n    public void countComponentsAndComponentSizes() {\n        boolean[] visited = new boolean[adjacencyMatrix.length];\n        int componentCount = 0;\n        int waysToChooseCaptain = 1;\n        \n        for (int row = 0; row &lt; adjacencyMatrix.length; row++) {\n            if (!visited[row]) {\n                componentCount++;\n                waysToChooseCaptain = (waysToChooseCaptain % BILLION_SEVEN) * dfs(visited, row);\n            }\n        }\n    \n        System.out.println(componentCount + &quot; &quot; + waysToChooseCaptain % BILLION_SEVEN);\n    }\n    \n    public int dfs(boolean[] visited, int row) {\n        visited[row] = true; // marking the current employee as visited\n        \n        int size = 1;        // this component consists at least from 1 employee\n        \n        for (int col = 0; col &lt; adjacencyMatrix.length; col++) {\n            if (adjacencyMatrix[row][col] &amp;&amp; !visited[col]) {\n                size += dfs(visited, col);\n            }\n        }\n        \n        return size;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22651201,"reputation":15,"user_id":16825816,"display_name":"Sudhanshu Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72839959,"answer_count":2,"score":0,"last_activity_date":1656989132,"creation_date":1656760356,"question_id":72838584,"body_markdown":"I&#39;m trying to find all connected components and their sizes in a graph. I don&#39;t know why, but the size is always 0. Maybe something is wrong in the method.\r\n\r\nThis is the problem that I am trying to solve. https://www.codechef.com/LRNDSA08/problems/FIRESC\r\n```\r\npublic class B {\r\n      static void dfs(int s, int v, boolean[] visited, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj) {\r\n        s++;\r\n        visited[v] = true;\r\n        for (int u : adj.get(v)) {\r\n            if (!visited[u]) {\r\n                dfs(s, u, visited, adj);\r\n            }\r\n        }\r\npublic static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        StringBuilder str = new StringBuilder();\r\n        int t = sc.nextInt();\r\n        for (int xx = 0; xx &lt; t; xx++) {\r\n            int n = sc.nextInt();\r\n            int m = sc.nextInt();\r\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; arr = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                arr.add(new ArrayList&lt;Integer&gt;());\r\n            }\r\n            boolean[] visited = new boolean[n];\r\n            Arrays.fill(visited, false);\r\n            for (int i = 0; i &lt; m; i++) {\r\n                int a = sc.nextInt();\r\n                int b = sc.nextInt();\r\n                a--;\r\n                b--;\r\n                arr.get(a).add(b);\r\n                arr.get(b).add(a);\r\n            }\r\n            long ways = 1;\r\n            int groups = 0;\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if (visited[i])\r\n                    continue;\r\n                int size = 0;\r\n                dfs(size, i, visited, arr);\r\n                groups++;\r\n                ways *= size;\r\n                ways %= 1000000007;\r\n            }\r\n            System.out.println(groups + &quot; &quot; + ways);\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Find all connected components and their sizes in a graph","body":"<p>I'm trying to find all connected components and their sizes in a graph. I don't know why, but the size is always 0. Maybe something is wrong in the method.</p>\n<p>This is the problem that I am trying to solve. <a href=\"https://www.codechef.com/LRNDSA08/problems/FIRESC\" rel=\"nofollow noreferrer\">https://www.codechef.com/LRNDSA08/problems/FIRESC</a></p>\n<pre><code>public class B {\n      static void dfs(int s, int v, boolean[] visited, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj) {\n        s++;\n        visited[v] = true;\n        for (int u : adj.get(v)) {\n            if (!visited[u]) {\n                dfs(s, u, visited, adj);\n            }\n        }\npublic static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        StringBuilder str = new StringBuilder();\n        int t = sc.nextInt();\n        for (int xx = 0; xx &lt; t; xx++) {\n            int n = sc.nextInt();\n            int m = sc.nextInt();\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; arr = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; n; i++) {\n                arr.add(new ArrayList&lt;Integer&gt;());\n            }\n            boolean[] visited = new boolean[n];\n            Arrays.fill(visited, false);\n            for (int i = 0; i &lt; m; i++) {\n                int a = sc.nextInt();\n                int b = sc.nextInt();\n                a--;\n                b--;\n                arr.get(a).add(b);\n                arr.get(b).add(a);\n            }\n            long ways = 1;\n            int groups = 0;\n            for (int i = 0; i &lt; n; i++) {\n                if (visited[i])\n                    continue;\n                int size = 0;\n                dfs(size, i, visited, arr);\n                groups++;\n                ways *= size;\n                ways %= 1000000007;\n            }\n            System.out.println(groups + &quot; &quot; + ways);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","jpa","criteria"],"answers":[{"tags":[],"owner":{"account_id":12317980,"reputation":1,"user_id":8987877,"display_name":"Mark Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656937296,"creation_date":1656937296,"answer_id":72856679,"question_id":72852284,"body_markdown":"Following is the example where we map Parent and Child entity classes using JPA Annotations.\r\n\r\n     @Entity\r\n     @Table(name = &quot;Parent&quot;)\r\n     @Inheritance(strategy = InheritanceType.JOINED)\r\n     public class Parent {\r\n\r\n      // Getter and Setter methods \r\n     }\r\n\r\n\r\n\r\n@Inheritance – Defines the inheritance strategy to be used for an entity class hierarchy. It is specified on the entity class that is the root of the entity class hierarchy.\r\n\r\n@InheritanceType – Defines inheritance strategy options. \r\n\r\n - Single table per class hierarchy strategy: a single table hosts all the instances of a class hierarchy\r\n\r\n - Joined subclass strategy: one table per class and subclass is present and each table persist the properties specific to a given subclass. The state of the entity is then stored in its corresponding class table and all its superclasses\r\n\r\n - Table per class strategy: one table per concrete class and subclass is present and each table persist the properties of the class and its superclasses. The state of the entity is then stored entirely in the dedicated table for its class.\r\n \r\n \r\n\r\n        @Entity\r\n        @Table(name=&quot;Child&quot;)\r\n        public class Child extends Parent {\r\n\r\n          //Getter and Setter methods, \r\n         }\r\n\r\n\r\n**@Inheritance(strategy = InheritanceType.JOINED)**\r\nShould be added to the parent entity. (Depending on the InheritanceType required for your scenario.)\r\n\r\nCheck these links for reference: \r\n\r\n[Chapter 10. Inheritance mapping](https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#inheritance)\r\n\r\n[5.1.6. Inheritance strategy](https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#d5e3420) \r\n","title":"JPA Criteria Builder - getting an attribute that is a list","body":"<p>Following is the example where we map Parent and Child entity classes using JPA Annotations.</p>\n<pre><code> @Entity\n @Table(name = &quot;Parent&quot;)\n @Inheritance(strategy = InheritanceType.JOINED)\n public class Parent {\n\n  // Getter and Setter methods \n }\n</code></pre>\n<p>@Inheritance – Defines the inheritance strategy to be used for an entity class hierarchy. It is specified on the entity class that is the root of the entity class hierarchy.</p>\n<p>@InheritanceType – Defines inheritance strategy options.</p>\n<ul>\n<li><p>Single table per class hierarchy strategy: a single table hosts all the instances of a class hierarchy</p>\n</li>\n<li><p>Joined subclass strategy: one table per class and subclass is present and each table persist the properties specific to a given subclass. The state of the entity is then stored in its corresponding class table and all its superclasses</p>\n</li>\n<li><p>Table per class strategy: one table per concrete class and subclass is present and each table persist the properties of the class and its superclasses. The state of the entity is then stored entirely in the dedicated table for its class.</p>\n<pre><code> @Entity\n @Table(name=&quot;Child&quot;)\n public class Child extends Parent {\n\n   //Getter and Setter methods, \n  }\n</code></pre>\n</li>\n</ul>\n<p><strong>@Inheritance(strategy = InheritanceType.JOINED)</strong>\nShould be added to the parent entity. (Depending on the InheritanceType required for your scenario.)</p>\n<p>Check these links for reference:</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#inheritance\" rel=\"nofollow noreferrer\">Chapter 10. Inheritance mapping</a></p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#d5e3420\" rel=\"nofollow noreferrer\">5.1.6. Inheritance strategy</a></p>\n"},{"tags":[],"owner":{"account_id":18838537,"reputation":571,"user_id":13740625,"display_name":"code_learner93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656987765,"creation_date":1656987765,"answer_id":72863416,"question_id":72852284,"body_markdown":"The issue is solved, the problem was in the construction of the predicate:\r\nWrong:\r\n```\r\nPredicate predicate_ = criteriaBuilder.equal(transactionProductJoin.get(&quot;products&quot;).get(&quot;seller&quot;).get(&quot;name&quot;), &quot;myName&quot;);\r\n```\r\nCorrect:\r\n```\r\nPredicate predicate_ = criteriaBuilder.equal(transactionProductJoin.get(&quot;seller&quot;).get(&quot;name&quot;), &quot;myName&quot;);\r\n```","title":"JPA Criteria Builder - getting an attribute that is a list","body":"<p>The issue is solved, the problem was in the construction of the predicate:\nWrong:</p>\n<pre><code>Predicate predicate_ = criteriaBuilder.equal(transactionProductJoin.get(&quot;products&quot;).get(&quot;seller&quot;).get(&quot;name&quot;), &quot;myName&quot;);\n</code></pre>\n<p>Correct:</p>\n<pre><code>Predicate predicate_ = criteriaBuilder.equal(transactionProductJoin.get(&quot;seller&quot;).get(&quot;name&quot;), &quot;myName&quot;);\n</code></pre>\n"}],"owner":{"account_id":18838537,"reputation":571,"user_id":13740625,"display_name":"code_learner93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656987765,"creation_date":1656914049,"question_id":72852284,"body_markdown":"I&#39;m trying to access an attribute in one of my entity classes: &quot;products&quot; that is a list:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TRANSACTION&quot;)\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class Transaction extends BaseTransaction {\r\n    ...\r\n    @OneToMany(mappedBy=&quot;transaction)\r\n    private List&lt;Product&gt; products;\r\n...\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;PRODUCT&quot;)\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class Product {\r\n    ....\r\n    @ManyToOne\r\n\t@PrimaryKeyJoinColumn\r\n\t@Getter \r\n\t@NonNull\r\n\tprivate Transaction transaction;\r\n    ....\r\n    @Embedded\r\n\t@AttributeOverrides({\r\n\t\t@AttributeOverride(name = &quot;name&quot;, column = @Column(name = &quot;seller_name&quot;)),\r\n\t\t@AttributeOverride(name = &quot;country&quot;, column = @Column(name = &quot;seller_country&quot;)) })\r\n\tprivate NameAndCountry seller;\r\n    ...\r\n}\r\n\r\n@Embeddable\r\n@AllArgsConstructor\r\n@Getter @Setter\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class NameAndCountry {\r\n\r\n\tprivate String name;\r\n\t\r\n\tprivate String country;\r\n}\r\n```\r\n\r\nGiven a string: &quot;myName&quot;, and by using JPA criteria builder, I&#39;m trying to retrieve the name of the seller of the transaction, and this is what have when I&#39;m trying to build the predicate:\r\n```\r\nJoin&lt;Object, Object&gt; transactionProductJoin = root.join(&quot;products&quot;);\r\nPredicate predicate_ = criteriaBuilder.equal(transactionProductJoin.get(&quot;products&quot;).get(&quot;seller&quot;).get(&quot;name&quot;), &quot;myName&quot;);\r\n```\r\n\r\nHowever I&#39;m facing an error which says:\r\n```\r\nUnable to locate Attribute with the the given name [products] on this ManagedType [work.my.domain.models.BaseTransaction]\r\n```\r\nWhy is JPA criteria builder trying to retrieve the &quot;products&quot; attribute from the parent class of Transaction? What should be the correct way to construct the predicate?","title":"JPA Criteria Builder - getting an attribute that is a list","body":"<p>I'm trying to access an attribute in one of my entity classes: &quot;products&quot; that is a list:</p>\n<pre><code>@Entity\n@Table(name = &quot;TRANSACTION&quot;)\n@Getter\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class Transaction extends BaseTransaction {\n    ...\n    @OneToMany(mappedBy=&quot;transaction)\n    private List&lt;Product&gt; products;\n...\n}\n\n@Entity\n@Table(name = &quot;PRODUCT&quot;)\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class Product {\n    ....\n    @ManyToOne\n    @PrimaryKeyJoinColumn\n    @Getter \n    @NonNull\n    private Transaction transaction;\n    ....\n    @Embedded\n    @AttributeOverrides({\n        @AttributeOverride(name = &quot;name&quot;, column = @Column(name = &quot;seller_name&quot;)),\n        @AttributeOverride(name = &quot;country&quot;, column = @Column(name = &quot;seller_country&quot;)) })\n    private NameAndCountry seller;\n    ...\n}\n\n@Embeddable\n@AllArgsConstructor\n@Getter @Setter\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class NameAndCountry {\n\n    private String name;\n    \n    private String country;\n}\n</code></pre>\n<p>Given a string: &quot;myName&quot;, and by using JPA criteria builder, I'm trying to retrieve the name of the seller of the transaction, and this is what have when I'm trying to build the predicate:</p>\n<pre><code>Join&lt;Object, Object&gt; transactionProductJoin = root.join(&quot;products&quot;);\nPredicate predicate_ = criteriaBuilder.equal(transactionProductJoin.get(&quot;products&quot;).get(&quot;seller&quot;).get(&quot;name&quot;), &quot;myName&quot;);\n</code></pre>\n<p>However I'm facing an error which says:</p>\n<pre><code>Unable to locate Attribute with the the given name [products] on this ManagedType [work.my.domain.models.BaseTransaction]\n</code></pre>\n<p>Why is JPA criteria builder trying to retrieve the &quot;products&quot; attribute from the parent class of Transaction? What should be the correct way to construct the predicate?</p>\n"},{"tags":["java","eclipse","rest","maven","jersey"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1656981595,"post_id":72862296,"comment_id":128696265,"body_markdown":"Which Tomcat server? You&#39;re not showing the error you&#39;re actually running up against.","body":"Which Tomcat server? You&#39;re not showing the error you&#39;re actually running up against."},{"owner":{"account_id":11267740,"reputation":186,"user_id":8264070,"display_name":"christheliz"},"score":0,"creation_date":1656982715,"post_id":72862296,"comment_id":128696410,"body_markdown":"I added the error message now","body":"I added the error message now"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1656983529,"post_id":72862296,"comment_id":128696532,"body_markdown":"Open the Properties dialog of the project and list or screenshot the versions of the installed facets on the Project Facets page. Also, which Java runtime did you set for that Tomcat installation in the Server / Runtime Environments preference page? Typically what you&#39;re encountering is a mismatch between all of these values, so you need to include all of these values in the question.","body":"Open the Properties dialog of the project and list or screenshot the versions of the installed facets on the Project Facets page. Also, which Java runtime did you set for that Tomcat installation in the Server / Runtime Environments preference page? Typically what you&#39;re encountering is a mismatch between all of these values, so you need to include all of these values in the question."},{"owner":{"account_id":11267740,"reputation":186,"user_id":8264070,"display_name":"christheliz"},"score":0,"creation_date":1656983984,"post_id":72862296,"comment_id":128696576,"body_markdown":"I am using Version 4.0 for the Dynamic Web Module, Java1.8, JavaScript1.0, and JAX-RS (REST Web Services)1.1 for the project. In itself, the requirements fit for the project. I would have to check for the Tomcat installation","body":"I am using Version 4.0 for the Dynamic Web Module, Java1.8, JavaScript1.0, and JAX-RS (REST Web Services)1.1 for the project. In itself, the requirements fit for the project. I would have to check for the Tomcat installation"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1656984036,"post_id":72862296,"comment_id":128696584,"body_markdown":"Those are better to put *in the question*, but you can&#39;t select this project because Tomcat 6 does not support Servlet 4.0 projects. 4.0 requires Tomcat 9.x, which itself requires Java 1.8.","body":"Those are better to put <i>in the question</i>, but you can&#39;t select this project because Tomcat 6 does not support Servlet 4.0 projects. 4.0 requires Tomcat 9.x, which itself requires Java 1.8."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656987575,"creation_date":1656984358,"answer_id":72863185,"question_id":72862296,"body_markdown":"You can&#39;t select this project because Tomcat 6 does not support [Servlet][1] 4.0 projects. [Servlet 4.0][2] requires Tomcat 9.x, which itself requires [Java 1.8][3]. See the [Tomcat documentation][4]. \r\n\r\n\r\nYou can lower the facet version, but it makes far more sense to simply use the newer Tomcat version. Tomcat 6 is far past its [end-of-life][4].\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Jakarta_Servlet\r\n  [2]: https://jakarta.ee/specifications/servlet/4.0/\r\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#Java_8\r\n  [4]: https://tomcat.apache.org/whichversion.html","title":"Exposing Resources using Tomcat Server","body":"<p>You can't select this project because Tomcat 6 does not support <a href=\"https://en.m.wikipedia.org/wiki/Jakarta_Servlet\" rel=\"nofollow noreferrer\">Servlet</a> 4.0 projects. <a href=\"https://jakarta.ee/specifications/servlet/4.0/\" rel=\"nofollow noreferrer\">Servlet 4.0</a> requires Tomcat 9.x, which itself requires <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_8\" rel=\"nofollow noreferrer\">Java 1.8</a>. See the <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">Tomcat documentation</a>.</p>\n<p>You can lower the facet version, but it makes far more sense to simply use the newer Tomcat version. Tomcat 6 is far past its <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">end-of-life</a>.</p>\n"}],"owner":{"account_id":11267740,"reputation":186,"user_id":8264070,"display_name":"christheliz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72863185,"answer_count":1,"score":0,"last_activity_date":1656987575,"creation_date":1656971326,"question_id":72862296,"body_markdown":"After debugging for a few hours, I am seeking help to set up a REST API using Jersey in Java. I am using a Tomcat 6 server and the following is my file structure of the Mavin project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nOn the right, the resource which I want to expose can be seen.\r\n\r\nFor the web.xml I have a file as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!-- This web.xml file is not required when using Servlet 3.0 container,\r\n     see implementation details https://github.com/jax-rs --&gt;\r\n    &lt;web-app version=&quot;2.5&quot;&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n          &lt;param-value&gt;com.howtodoinjava.demo&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nand for the pom.xml as follows:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n \r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n \r\n    &lt;groupId&gt;com.howtodoinjava.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;JerseyArcheTypeDemo&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;JerseyDemo&lt;/name&gt;\r\n \r\n    &lt;build&gt;\r\n        &lt;finalName&gt;JerseyArcheTypeDemo&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n \r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- uncomment this to get JSON support\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;2.20&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\nI can build the Maven project and start the server. However if I want to add resources to the Server by right-clicking on the server name and clicking on &quot;Add or Remove...&quot; I get a message that I cannot select any resources. I followed the adivce in this question: [https://stackoverflow.com/questions/24624782/there-are-no-resources-that-can-be-added-or-removed-from-the-server][2] but it did not help and I also do not get any error messages which could lead me. Any recommendation what I am doing wrong?\r\n\r\n\r\nWhen I want to run the Resource on the server by selecting &quot;Run As&quot; and then &quot;Run on Server&quot; I get the following message: The selection cannot be run on the server.\r\n\r\n[![enter image description here][3]][3] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bmz7h.png\r\n  [2]: https://stackoverflow.com/questions/24624782/there-are-no-resources-that-can-be-added-or-removed-from-the-server\r\n  [3]: https://i.stack.imgur.com/PBt3L.png","title":"Exposing Resources using Tomcat Server","body":"<p>After debugging for a few hours, I am seeking help to set up a REST API using Jersey in Java. I am using a Tomcat 6 server and the following is my file structure of the Mavin project:</p>\n<p><a href=\"https://i.stack.imgur.com/bmz7h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bmz7h.png\" alt=\"enter image description here\" /></a></p>\n<p>On the right, the resource which I want to expose can be seen.</p>\n<p>For the web.xml I have a file as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- This web.xml file is not required when using Servlet 3.0 container,\n see implementation details https://github.com/jax-rs --&gt;\n&lt;web-app version=&quot;2.5&quot;&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n      &lt;param-value&gt;com.howtodoinjava.demo&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>and for the pom.xml as follows:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.howtodoinjava.demo&lt;/groupId&gt;\n&lt;artifactId&gt;JerseyArcheTypeDemo&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;JerseyDemo&lt;/name&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;JerseyArcheTypeDemo&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n        &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n        &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n    &lt;/dependency&gt;\n    &lt;!-- uncomment this to get JSON support\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    --&gt;\n&lt;/dependencies&gt;\n&lt;properties&gt;\n    &lt;jersey.version&gt;2.20&lt;/jersey.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>I can build the Maven project and start the server. However if I want to add resources to the Server by right-clicking on the server name and clicking on &quot;Add or Remove...&quot; I get a message that I cannot select any resources. I followed the adivce in this question: <a href=\"https://stackoverflow.com/questions/24624782/there-are-no-resources-that-can-be-added-or-removed-from-the-server\">There are No resources that can be added or removed from the server</a> but it did not help and I also do not get any error messages which could lead me. Any recommendation what I am doing wrong?</p>\n<p>When I want to run the Resource on the server by selecting &quot;Run As&quot; and then &quot;Run on Server&quot; I get the following message: The selection cannot be run on the server.</p>\n<p><a href=\"https://i.stack.imgur.com/PBt3L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PBt3L.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-boot-devtools"],"comments":[{"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"score":0,"creation_date":1656885560,"post_id":72850109,"comment_id":128674300,"body_markdown":"Can the close voters explain their reasoning?","body":"Can the close voters explain their reasoning?"}],"answers":[{"tags":[],"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656986536,"creation_date":1656986536,"answer_id":72863321,"question_id":72850109,"body_markdown":"I got lucky and found the underlying issue with a hailmary generic Google search for 5 second JVM delay which led me to https://github.com/netty/netty/issues/8993\r\n\r\nThe issue and solution are described here: https://stackoverflow.com/questions/39636792/jvm-takes-a-long-time-to-resolve-ip-address-for-localhost/39698914#39698914\r\n\r\nThat answer has more info, but in short, the fix is:\r\n\r\n1. `hostname` -&gt; eg `Monroes-MacBook-Pro.local`\r\n2. `sudo vim /etc/hosts`\r\n3. add \r\n```\r\n127.0.0.1 Monroes-MacBook-Pro.local\r\n::1 Monroes-MacBook-Pro.local\r\n```\r\n\r\nRelated pages:\r\n- https://thoeni.io/post/macos-sierra-java/\r\n- https://github.com/spring-projects/spring-boot/issues/31572\r\n- https://github.com/netty/netty/issues/8993\r\n- https://stackoverflow.com/questions/39636792/jvm-takes-a-long-time-to-resolve-ip-address-for-localhost/39698914#39698914","title":"What is happening after Spring Boot Devtools logs &quot;Starting application&quot;","body":"<p>I got lucky and found the underlying issue with a hailmary generic Google search for 5 second JVM delay which led me to <a href=\"https://github.com/netty/netty/issues/8993\" rel=\"nofollow noreferrer\">https://github.com/netty/netty/issues/8993</a></p>\n<p>The issue and solution are described here: <a href=\"https://stackoverflow.com/questions/39636792/jvm-takes-a-long-time-to-resolve-ip-address-for-localhost/39698914#39698914\">Jvm takes a long time to resolve ip-address for localhost</a></p>\n<p>That answer has more info, but in short, the fix is:</p>\n<ol>\n<li><code>hostname</code> -&gt; eg <code>Monroes-MacBook-Pro.local</code></li>\n<li><code>sudo vim /etc/hosts</code></li>\n<li>add</li>\n</ol>\n<pre><code>127.0.0.1 Monroes-MacBook-Pro.local\n::1 Monroes-MacBook-Pro.local\n</code></pre>\n<p>Related pages:</p>\n<ul>\n<li><a href=\"https://thoeni.io/post/macos-sierra-java/\" rel=\"nofollow noreferrer\">https://thoeni.io/post/macos-sierra-java/</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/31572\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/31572</a></li>\n<li><a href=\"https://github.com/netty/netty/issues/8993\" rel=\"nofollow noreferrer\">https://github.com/netty/netty/issues/8993</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39636792/jvm-takes-a-long-time-to-resolve-ip-address-for-localhost/39698914#39698914\">Jvm takes a long time to resolve ip-address for localhost</a></li>\n</ul>\n"}],"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656986536,"creation_date":1656884465,"question_id":72850109,"body_markdown":"I&#39;m trying to figure out ways to improve the restart time of my Spring Boot application when using spring-boot-devtools and see that there&#39;s consistently a ~5 second delay between these logs lines:\r\n\r\n```\r\n2022-07-03 14:35:28.602 DEBUG 82357 --- [     Thread-165] o.s.boot.devtools.restart.Restarter      : Starting application ...\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.0)\r\n\r\n2022-07-03 14:35:33.697  INFO 82357 --- [  restartedMain] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at : http://localhost:8888\r\n```\r\nI&#39;ve set the root log level to TRACE, but still see nothing for those 5 seconds. What&#39;s happening in that time and is there anything that can be done to speed it up?","title":"What is happening after Spring Boot Devtools logs &quot;Starting application&quot;","body":"<p>I'm trying to figure out ways to improve the restart time of my Spring Boot application when using spring-boot-devtools and see that there's consistently a ~5 second delay between these logs lines:</p>\n<pre><code>2022-07-03 14:35:28.602 DEBUG 82357 --- [     Thread-165] o.s.boot.devtools.restart.Restarter      : Starting application ...\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.0)\n\n2022-07-03 14:35:33.697  INFO 82357 --- [  restartedMain] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at : http://localhost:8888\n</code></pre>\n<p>I've set the root log level to TRACE, but still see nothing for those 5 seconds. What's happening in that time and is there anything that can be done to speed it up?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1656966370,"post_id":72861589,"comment_id":128693837,"body_markdown":"`List&lt;String&gt; sortedList = list.stream().flatMap(List::stream).filter(s -&gt; s.startsWith(&quot;A&quot;)).sorted(Comparator.reverseOrder()).collect(Collectors.toList());`","body":"<code>List&lt;String&gt; sortedList = list.stream().flatMap(List::stream).filter(s -&gt; s.startsWith(&quot;A&quot;)).sorted(Comparator.reverseOrder()).collect&zwnj;&#8203;(Collectors.toList()&zwnj;&#8203;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656986462,"creation_date":1656985829,"answer_id":72863267,"question_id":72861589,"body_markdown":"Since you are assigning the result to a `List&lt;List&lt;String&gt;&gt;` it appears you want to filter and sort each list and then print them.  Here is how it might be done.\r\n- Stream the list of lists.\r\n- then stream each individual list and:\r\n   - apply the filter\r\n   - sort in reversed order using [Comparator.reverseOrder](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#reverseOrder())\r\n- then return that as a list\r\n- and combine those lists into another list.\r\n```\r\n\r\nList&lt;List&lt;String&gt;&gt; sortedLists = list.stream()\r\n\t\t.map(lst -&gt; lst.stream()\r\n\t\t\t\t.filter(o -&gt; o.startsWith(&quot;A&quot;))\r\n\t\t\t\t.sorted(Comparator.reverseOrder()).toList())\r\n\t.toList();\r\nfor(List&lt;String&gt; lst : sortedLists) {\r\n    System.out.println(lst);\r\n}\r\n```\r\nprints (given your data).\r\n```\r\n[Ann]\r\n[Andrew, Alex]\r\n[Adisson]\r\n```\r\nIf, on the other hand you want to combine the lists into one applying the same requirements, then:\r\n- stream the list of lists\r\n- flatMap them to put all of the list contents into a single stream.\r\n- then apply the filter and sort methods.\r\n- and collect into a list.\r\n```\r\nList&lt;String&gt; sortedList = list.stream().flatMap(List::stream)\r\n\t         .filter(o-&gt;o.startsWith(&quot;A&quot;))\r\n\t         .sorted(Comparator.reverseOrder())\r\n\t         .toList();\r\n\r\nfor (String name : sortedList) {\r\n\tSystem.out.println(name);\r\n}\r\n```\r\nprints\r\n```\r\nAnn\r\nAndrew\r\nAlex\r\nAdisson","title":"How to sort a list of lists using the Stream API?","body":"<p>Since you are assigning the result to a <code>List&lt;List&lt;String&gt;&gt;</code> it appears you want to filter and sort each list and then print them.  Here is how it might be done.</p>\n<ul>\n<li>Stream the list of lists.</li>\n<li>then stream each individual list and:\n<ul>\n<li>apply the filter</li>\n<li>sort in reversed order using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#reverseOrder()\" rel=\"nofollow noreferrer\">Comparator.reverseOrder</a></li>\n</ul>\n</li>\n<li>then return that as a list</li>\n<li>and combine those lists into another list.</li>\n</ul>\n<pre><code>\nList&lt;List&lt;String&gt;&gt; sortedLists = list.stream()\n        .map(lst -&gt; lst.stream()\n                .filter(o -&gt; o.startsWith(&quot;A&quot;))\n                .sorted(Comparator.reverseOrder()).toList())\n    .toList();\nfor(List&lt;String&gt; lst : sortedLists) {\n    System.out.println(lst);\n}\n</code></pre>\n<p>prints (given your data).</p>\n<pre><code>[Ann]\n[Andrew, Alex]\n[Adisson]\n</code></pre>\n<p>If, on the other hand you want to combine the lists into one applying the same requirements, then:</p>\n<ul>\n<li>stream the list of lists</li>\n<li>flatMap them to put all of the list contents into a single stream.</li>\n<li>then apply the filter and sort methods.</li>\n<li>and collect into a list.</li>\n</ul>\n<pre><code>List&lt;String&gt; sortedList = list.stream().flatMap(List::stream)\n             .filter(o-&gt;o.startsWith(&quot;A&quot;))\n             .sorted(Comparator.reverseOrder())\n             .toList();\n\nfor (String name : sortedList) {\n    System.out.println(name);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Ann\nAndrew\nAlex\nAdisson\n</code></pre>\n"}],"owner":{"account_id":23723136,"reputation":25,"user_id":18445135,"display_name":"TBA1992"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72863267,"answer_count":1,"score":0,"last_activity_date":1656986462,"creation_date":1656965392,"question_id":72861589,"body_markdown":" I want to output all names starting with the letter &quot;A&quot; and sort them in reverse alphabetical order using the Stream API.  The result should look like this: Ann, Andrew, Alex, Adisson. How do I do this?\r\n\r\n    List&lt;List&lt;String&gt;&gt; list = Arrays.asList(\r\n                Arrays.asList(&quot;John&quot;, &quot;Ann&quot;),\r\n                Arrays.asList(&quot;Alex&quot;, &quot;Andrew&quot;, &quot;Mark&quot;),\r\n                Arrays.asList(&quot;Neil&quot;, &quot;Adisson&quot;, &quot;Bob&quot;)\r\n        );\r\n        List&lt;List&lt;String&gt;&gt; sortedList = list.stream()\r\n                .filter(o -&gt; o.startsWith(&quot;A&quot;))\r\n                Comparator.reverseOrder());\r\n        System.out.println(list);","title":"How to sort a list of lists using the Stream API?","body":"<p>I want to output all names starting with the letter &quot;A&quot; and sort them in reverse alphabetical order using the Stream API.  The result should look like this: Ann, Andrew, Alex, Adisson. How do I do this?</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; list = Arrays.asList(\n            Arrays.asList(&quot;John&quot;, &quot;Ann&quot;),\n            Arrays.asList(&quot;Alex&quot;, &quot;Andrew&quot;, &quot;Mark&quot;),\n            Arrays.asList(&quot;Neil&quot;, &quot;Adisson&quot;, &quot;Bob&quot;)\n    );\n    List&lt;List&lt;String&gt;&gt; sortedList = list.stream()\n            .filter(o -&gt; o.startsWith(&quot;A&quot;))\n            Comparator.reverseOrder());\n    System.out.println(list);\n</code></pre>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":6742230,"reputation":145,"user_id":5195090,"accept_rate":60,"display_name":"Abhishek Verma"},"score":0,"creation_date":1691736413,"post_id":47270918,"comment_id":135534564,"body_markdown":"are you able to connect with the rmi port?","body":"are you able to connect with the rmi port?"}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656985534,"creation_date":1510597320,"answer_id":47271019,"question_id":47270918,"body_markdown":"In general it&#39;s only required on server side to show on what hostname exported stubs will be available to the world. \r\n\r\nIt is useful for example, when your server is in the intranet and listens on some interface lets say `192.168.2.1`. NAT proxy can have ports forwarded to that host from internet. Normally RMI registry would report stubs being exported on address `192.168.2.1:someport`. But obviously you cannot hit that address directly `java.rmi.server.hostname` comes in action. By setting that property, RMI registry will announce stubs being exported on given `hostname` insteed on actual intranet address, allowing clients to get to the stubs from outside world trough forwarded ports on NAT gateway. \r\n\r\n\r\nSo if your server is behind NAT, it should specify the domain that points to your NAT gateway from the Internet. If your server has external IP and its listening on that IP, then this property is not needed.","title":"java rmi server hostname","body":"<p>In general it's only required on server side to show on what hostname exported stubs will be available to the world.</p>\n<p>It is useful for example, when your server is in the intranet and listens on some interface lets say <code>192.168.2.1</code>. NAT proxy can have ports forwarded to that host from internet. Normally RMI registry would report stubs being exported on address <code>192.168.2.1:someport</code>. But obviously you cannot hit that address directly <code>java.rmi.server.hostname</code> comes in action. By setting that property, RMI registry will announce stubs being exported on given <code>hostname</code> insteed on actual intranet address, allowing clients to get to the stubs from outside world trough forwarded ports on NAT gateway.</p>\n<p>So if your server is behind NAT, it should specify the domain that points to your NAT gateway from the Internet. If your server has external IP and its listening on that IP, then this property is not needed.</p>\n"}],"owner":{"account_id":11636392,"reputation":31,"user_id":8522494,"display_name":"vali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5711,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656985534,"creation_date":1510596899,"question_id":47270918,"body_markdown":"I have two RMI java applications: \r\n\r\n server\r\n\r\n    System.setProperty(&quot;java.rmi.server.hostname&quot;, &quot;0.tcp.ngrok.io&quot;);\r\n    System.setProperty(&quot;java.security.policy&quot;, &quot;security.policy&quot;);\r\n    if (System.getSecurityManager() == null) {\r\n        System.setSecurityManager(new SecurityManager());\r\n    }\r\n       \r\n    Registry r = LocateRegistry.createRegistry(1099);\r\n    r.rebind(&quot;Calc&quot;, new CalculatorImpl());\r\n\r\nclient\r\n\r\n    System.setProperty(&quot;java.rmi.server.hostname&quot;, &quot;0.tcp.ngrok.io&quot;);\r\n    System.setProperty(&quot;java.security.policy&quot;, &quot;security.policy&quot;);\r\n    Calculator c = (Calculator) Naming.lookup(&quot;//0.tcp.ngrok.io:18872&quot;+&quot;/Calc&quot;); \r\n    int sum = c.add(1, 5);\r\n\r\n\r\nCommunication between the two is done with the help of Ngrok:\r\n\r\n    ngrok tcp 1099\r\n \r\nresult\r\n\r\n       Session Status                online\r\n       Account                       nival (Plan: Free)\r\n       Version                       2.2.8\r\n       Region                        United States (us)\r\n       Web Interface                 http://127.0.0.1:4040\r\n       Forwarding                   tcp://0.tcp.ngrok.io:18872 -&gt; localhost:1099\r\n\r\n       Connections                   ttl     opn     rt1     rt5     p50     p90\r\n                                      5       0       0.00    0.00    5.88    17.03\r\n\r\n\r\n\r\nMy problem is :\r\n  \r\n     RemoteException\r\n     java.rmi.ConnectException: Connection refused to host: 0.tcp.ngrok.io; nested exception is: \r\n\t java.net.ConnectException: Connection timed out: connect\r\n\r\n\r\n\r\nI think the problem is at \r\n\r\n    System.setProperty(&quot;java.rmi.server.hostname&quot;,&quot;0.tcp.ngrok.io&quot;);\r\n\r\nwhat should I put on the server and client at **&quot;java.rmi.server.hostname&quot;**?\r\n\r\n(Sorry for my bad english)\r\n","title":"java rmi server hostname","body":"<p>I have two RMI java applications: </p>\n\n<p>server</p>\n\n<pre><code>System.setProperty(\"java.rmi.server.hostname\", \"0.tcp.ngrok.io\");\nSystem.setProperty(\"java.security.policy\", \"security.policy\");\nif (System.getSecurityManager() == null) {\n    System.setSecurityManager(new SecurityManager());\n}\n\nRegistry r = LocateRegistry.createRegistry(1099);\nr.rebind(\"Calc\", new CalculatorImpl());\n</code></pre>\n\n<p>client</p>\n\n<pre><code>System.setProperty(\"java.rmi.server.hostname\", \"0.tcp.ngrok.io\");\nSystem.setProperty(\"java.security.policy\", \"security.policy\");\nCalculator c = (Calculator) Naming.lookup(\"//0.tcp.ngrok.io:18872\"+\"/Calc\"); \nint sum = c.add(1, 5);\n</code></pre>\n\n<p>Communication between the two is done with the help of Ngrok:</p>\n\n<pre><code>ngrok tcp 1099\n</code></pre>\n\n<p>result</p>\n\n<pre><code>   Session Status                online\n   Account                       nival (Plan: Free)\n   Version                       2.2.8\n   Region                        United States (us)\n   Web Interface                 http://127.0.0.1:4040\n   Forwarding                   tcp://0.tcp.ngrok.io:18872 -&gt; localhost:1099\n\n   Connections                   ttl     opn     rt1     rt5     p50     p90\n                                  5       0       0.00    0.00    5.88    17.03\n</code></pre>\n\n<p>My problem is :</p>\n\n<pre><code> RemoteException\n java.rmi.ConnectException: Connection refused to host: 0.tcp.ngrok.io; nested exception is: \n java.net.ConnectException: Connection timed out: connect\n</code></pre>\n\n<p>I think the problem is at </p>\n\n<pre><code>System.setProperty(\"java.rmi.server.hostname\",\"0.tcp.ngrok.io\");\n</code></pre>\n\n<p>what should I put on the server and client at <strong>\"java.rmi.server.hostname\"</strong>?</p>\n\n<p>(Sorry for my bad english)</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":4635824,"reputation":248,"user_id":3757107,"display_name":"Sam F"},"score":0,"creation_date":1642817442,"post_id":70806112,"comment_id":125180529,"body_markdown":"Setting spring.batch.job.enable=false disables the BatchAutoConfiguration JobLauncherApplicationRunner configuration which uses the spring.batch.job.names property to determine what jobs to run. Take a look at the first Bean configured here: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/batch/BatchAutoConfiguration.java","body":"Setting spring.batch.job.enable=false disables the BatchAutoConfiguration JobLauncherApplicationRunner configuration which uses the spring.batch.job.names property to determine what jobs to run. Take a look at the first Bean configured here: <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/batch/BatchAutoConfiguration.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/main/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6594188,"reputation":11,"user_id":5094508,"display_name":"Roman T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656954329,"creation_date":1656954329,"answer_id":72860045,"question_id":70806112,"body_markdown":"Please use:&lt;br&gt;\r\n```java -jar batch.jar --spring.batch.job.names=myTestJob1```","title":"Unable to select spring batch job to run with spring.batch.job.names options","body":"<p>Please use:<br>\n<code>java -jar batch.jar --spring.batch.job.names=myTestJob1</code></p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656985424,"creation_date":1656985424,"answer_id":72863241,"question_id":70806112,"body_markdown":"You&#39;re using this command:\r\n```\r\njava -jar batch.jar -spring.batch.job.names=myTestJob1\r\n```\r\n\r\nAccording to Spring documentation for [Running from the Command Line](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.batch.running-from-the-command-line):\r\n\r\n&gt; _Spring Boot converts any command line argument starting with -- to a property to add to the Environment, see accessing command line properties. This should not be used to pass arguments to batch jobs._\r\n\r\nIn order for Spring to &quot;see&quot; what you&#39;re asking it to do, you need to change from this:\r\n```\r\njava -jar batch.jar -spring.batch.job.names=myTestJob1\r\n```\r\n\r\nto this:\r\n```\r\njava -jar batch.jar --spring.batch.job.names=myTestJob1\r\n```\r\nThe only difference is using &quot;`--`&quot; as prefix to &quot;spring.batch.job.names&quot; (and not single dash: &quot;`-`&quot;).\r\n\r\n","title":"Unable to select spring batch job to run with spring.batch.job.names options","body":"<p>You're using this command:</p>\n<pre><code>java -jar batch.jar -spring.batch.job.names=myTestJob1\n</code></pre>\n<p>According to Spring documentation for <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.batch.running-from-the-command-line\" rel=\"nofollow noreferrer\">Running from the Command Line</a>:</p>\n<blockquote>\n<p><em>Spring Boot converts any command line argument starting with -- to a property to add to the Environment, see accessing command line properties. This should not be used to pass arguments to batch jobs.</em></p>\n</blockquote>\n<p>In order for Spring to &quot;see&quot; what you're asking it to do, you need to change from this:</p>\n<pre><code>java -jar batch.jar -spring.batch.job.names=myTestJob1\n</code></pre>\n<p>to this:</p>\n<pre><code>java -jar batch.jar --spring.batch.job.names=myTestJob1\n</code></pre>\n<p>The only difference is using &quot;<code>--</code>&quot; as prefix to &quot;spring.batch.job.names&quot; (and not single dash: &quot;<code>-</code>&quot;).</p>\n"}],"owner":{"account_id":2630277,"reputation":591,"user_id":3475043,"accept_rate":60,"display_name":"Astrum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656985424,"creation_date":1642790253,"question_id":70806112,"body_markdown":"I have a spring batch code base that has multiple `Job` beans defined within its `BatchConfig`. I&#39;ve got auto-run disabled with `spring.batch.job.enabled=false` in the correct spot. The basic outline is like:\r\n\r\nMy batch config looks like this:\r\n\r\n    @Configuration\r\n    public class BatchConfiguration {\r\n    \r\n      @Autowired\r\n      public JobBuilderFactory jobBuilderFactory;\r\n    \r\n      @Autowired\r\n      public StepBuilderFactory stepBuilderFactory;\r\n    \r\n      @Bean\r\n      public Job myTestJob1() {...}\r\n\r\n      @Bean\r\n      public Job myTestJob2() {...}\r\n    \r\n    }\r\n\r\nMain class is:\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableBatchProcessing\r\n    public class BatchProcessingApplication {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        System.exit(SpringApplication.exit(SpringApplication.run(BatchProcessingApplication.class, args)));\r\n      }\r\n    }\r\n\r\nWhen I try to run the jar like this, it will start up successfully and exit without running a job:\r\n\r\n`java -jar batch.jar -spring.batch.job.names=myTestJob1`\r\n\r\nAs far as I can tell, this *should* be working, yet it&#39;s not. I&#39;ve tried moving the @EnableBatchProcessing to the BatchCongfig class and it also doesn&#39;t work.\r\n","title":"Unable to select spring batch job to run with spring.batch.job.names options","body":"<p>I have a spring batch code base that has multiple <code>Job</code> beans defined within its <code>BatchConfig</code>. I've got auto-run disabled with <code>spring.batch.job.enabled=false</code> in the correct spot. The basic outline is like:</p>\n<p>My batch config looks like this:</p>\n<pre><code>@Configuration\npublic class BatchConfiguration {\n\n  @Autowired\n  public JobBuilderFactory jobBuilderFactory;\n\n  @Autowired\n  public StepBuilderFactory stepBuilderFactory;\n\n  @Bean\n  public Job myTestJob1() {...}\n\n  @Bean\n  public Job myTestJob2() {...}\n\n}\n</code></pre>\n<p>Main class is:</p>\n<pre><code>@SpringBootApplication\n@EnableBatchProcessing\npublic class BatchProcessingApplication {\n\n  public static void main(String[] args) throws Exception {\n    System.exit(SpringApplication.exit(SpringApplication.run(BatchProcessingApplication.class, args)));\n  }\n}\n</code></pre>\n<p>When I try to run the jar like this, it will start up successfully and exit without running a job:</p>\n<p><code>java -jar batch.jar -spring.batch.job.names=myTestJob1</code></p>\n<p>As far as I can tell, this <em>should</em> be working, yet it's not. I've tried moving the @EnableBatchProcessing to the BatchCongfig class and it also doesn't work.</p>\n"},{"tags":["java","gradle","google-api"],"comments":[{"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"score":0,"creation_date":1656961552,"post_id":72860821,"comment_id":128692707,"body_markdown":"your problem is located in your `Creator` class, so maybe you could share it ?  `/home/dungbui/src/main/java/Create.java:27: error:`","body":"your problem is located in your <code>Creator</code> class, so maybe you could share it ?  <code>&#47;home&#47;dungbui&#47;src&#47;main&#47;java&#47;Create.java:27: error:</code>"},{"owner":{"account_id":24471107,"reputation":23,"user_id":18390831,"display_name":"TSFHacker"},"score":0,"creation_date":1656982959,"post_id":72860821,"comment_id":128696449,"body_markdown":"right my bad. Here it is","body":"right my bad. Here it is"}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656985340,"creation_date":1656985340,"answer_id":72863239,"question_id":72860821,"body_markdown":"I think you are missing the needed Dependency \r\n\r\ntry adding \r\n`implementation &#39;com.google.auth:google-auth-library-oauth2-http:0.1.0&#39;\r\n` to your build.gradle\r\n\r\nThe error refers to line 27 at `/home/dungbui/src/main/java/Create.java` which is declaring `GoogleCredentials`.","title":"package com.google.auth.http does not exist","body":"<p>I think you are missing the needed Dependency</p>\n<p>try adding\n<code>implementation 'com.google.auth:google-auth-library-oauth2-http:0.1.0' </code> to your build.gradle</p>\n<p>The error refers to line 27 at <code>/home/dungbui/src/main/java/Create.java</code> which is declaring <code>GoogleCredentials</code>.</p>\n"}],"owner":{"account_id":24471107,"reputation":23,"user_id":18390831,"display_name":"TSFHacker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2118,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72863239,"answer_count":1,"score":1,"last_activity_date":1656985340,"creation_date":1656959680,"question_id":72860821,"body_markdown":"So i keep running into these errors when trying to run a sample of a google api project:\r\n\r\n    dungbui@cloudshell:~ (tiw-leader-project-355316)$ gradle run\r\n    \r\n    &gt; Task :compileJava\r\n    /home/dungbui/src/main/java/Create.java:8: error: package com.google.auth.http does not exist\r\n    import com.google.auth.http.HttpCredentialsAdapter;\r\n                               ^\r\n    /home/dungbui/src/main/java/Create.java:9: error: package com.google.auth.oauth2 does not exist\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n                                 ^\r\n    /home/dungbui/src/main/java/Create.java:27: error: cannot find symbol\r\n            GoogleCredentials credentials = GoogleCredentials.getApplicationDefault()\r\n            ^\r\n      symbol:   class GoogleCredentials\r\n      location: class Create\r\n    /home/dungbui/src/main/java/Create.java:27: error: cannot find symbol\r\n            GoogleCredentials credentials = GoogleCredentials.getApplicationDefault()\r\n                                            ^\r\n      symbol:   variable GoogleCredentials\r\n      location: class Create\r\n    /home/dungbui/src/main/java/Create.java:29: error: cannot find symbol\r\n            HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(\r\n                                                            ^\r\n      symbol:   class HttpCredentialsAdapter\r\n      location: class Create\r\n    5 errors\r\n    \r\n    &gt; Task :compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n\r\nHere is my build.gradle file:\r\n\r\n[![build.gradle][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hqo4I.png\r\n\r\nAnd here is my Create.java\r\n\r\n    import com.google.api.client.http.HttpRequestInitializer;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.gson.GsonFactory;\r\n    import com.google.api.services.sheets.v4.Sheets;\r\n    import com.google.api.services.sheets.v4.SheetsScopes;\r\n    import com.google.api.services.sheets.v4.model.Spreadsheet;\r\n    import com.google.api.services.sheets.v4.model.SpreadsheetProperties;\r\n    import com.google.auth.http.HttpCredentialsAdapter;\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Collections;\r\n    \r\n    /* Class to demonstrate the use of Spreadsheet Create API */\r\n    public class Create {\r\n        /**\r\n         * Create a new spreadsheet.\r\n         *\r\n         * @param title - the name of the sheet to be created.\r\n         * @return newly created spreadsheet id\r\n         * @throws IOException - if credentials file not found.\r\n         */\r\n        public static String createSpreadsheet(String title) throws IOException {\r\n            /* Load pre-authorized user credentials from the environment.\r\n               TODO(developer) - See https://developers.google.com/identity for\r\n                guides on implementing OAuth2 for your application. */\r\n            GoogleCredentials credentials = GoogleCredentials.getApplicationDefault()\r\n                    .createScoped(Collections.singleton(SheetsScopes.SPREADSHEETS));\r\n            HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(\r\n                    credentials);\r\n    \r\n            // Create the sheets API client\r\n            Sheets service = new Sheets.Builder(new NetHttpTransport(),\r\n                    GsonFactory.getDefaultInstance(),\r\n                    requestInitializer)\r\n                    .setApplicationName(&quot;Sheets samples&quot;)\r\n                    .build();\r\n    \r\n            // Create new spreadsheet with a title\r\n            Spreadsheet spreadsheet = new Spreadsheet()\r\n                    .setProperties(new SpreadsheetProperties()\r\n                            .setTitle(title));\r\n            spreadsheet = service.spreadsheets().create(spreadsheet)\r\n                    .setFields(&quot;spreadsheetId&quot;)\r\n                    .execute();\r\n            // Prints the new spreadsheet id\r\n            System.out.println(&quot;Spreadsheet ID: &quot; + spreadsheet.getSpreadsheetId());\r\n            return spreadsheet.getSpreadsheetId();\r\n        }\r\n    }\r\n\r\nThe Create java i take from the tutorial https://developers.google.com/sheets/api/guides/create\r\n\r\nThis is my first time trying having a go at google api, can somebody tell me how to fix this.","title":"package com.google.auth.http does not exist","body":"<p>So i keep running into these errors when trying to run a sample of a google api project:</p>\n<pre><code>dungbui@cloudshell:~ (tiw-leader-project-355316)$ gradle run\n\n&gt; Task :compileJava\n/home/dungbui/src/main/java/Create.java:8: error: package com.google.auth.http does not exist\nimport com.google.auth.http.HttpCredentialsAdapter;\n                           ^\n/home/dungbui/src/main/java/Create.java:9: error: package com.google.auth.oauth2 does not exist\nimport com.google.auth.oauth2.GoogleCredentials;\n                             ^\n/home/dungbui/src/main/java/Create.java:27: error: cannot find symbol\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault()\n        ^\n  symbol:   class GoogleCredentials\n  location: class Create\n/home/dungbui/src/main/java/Create.java:27: error: cannot find symbol\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault()\n                                        ^\n  symbol:   variable GoogleCredentials\n  location: class Create\n/home/dungbui/src/main/java/Create.java:29: error: cannot find symbol\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(\n                                                        ^\n  symbol:   class HttpCredentialsAdapter\n  location: class Create\n5 errors\n\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>Here is my build.gradle file:</p>\n<p><a href=\"https://i.stack.imgur.com/Hqo4I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hqo4I.png\" alt=\"build.gradle\" /></a></p>\n<p>And here is my Create.java</p>\n<pre><code>import com.google.api.client.http.HttpRequestInitializer;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.gson.GsonFactory;\nimport com.google.api.services.sheets.v4.Sheets;\nimport com.google.api.services.sheets.v4.SheetsScopes;\nimport com.google.api.services.sheets.v4.model.Spreadsheet;\nimport com.google.api.services.sheets.v4.model.SpreadsheetProperties;\nimport com.google.auth.http.HttpCredentialsAdapter;\nimport com.google.auth.oauth2.GoogleCredentials;\n\nimport java.io.IOException;\nimport java.util.Collections;\n\n/* Class to demonstrate the use of Spreadsheet Create API */\npublic class Create {\n    /**\n     * Create a new spreadsheet.\n     *\n     * @param title - the name of the sheet to be created.\n     * @return newly created spreadsheet id\n     * @throws IOException - if credentials file not found.\n     */\n    public static String createSpreadsheet(String title) throws IOException {\n        /* Load pre-authorized user credentials from the environment.\n           TODO(developer) - See https://developers.google.com/identity for\n            guides on implementing OAuth2 for your application. */\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault()\n                .createScoped(Collections.singleton(SheetsScopes.SPREADSHEETS));\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(\n                credentials);\n\n        // Create the sheets API client\n        Sheets service = new Sheets.Builder(new NetHttpTransport(),\n                GsonFactory.getDefaultInstance(),\n                requestInitializer)\n                .setApplicationName(&quot;Sheets samples&quot;)\n                .build();\n\n        // Create new spreadsheet with a title\n        Spreadsheet spreadsheet = new Spreadsheet()\n                .setProperties(new SpreadsheetProperties()\n                        .setTitle(title));\n        spreadsheet = service.spreadsheets().create(spreadsheet)\n                .setFields(&quot;spreadsheetId&quot;)\n                .execute();\n        // Prints the new spreadsheet id\n        System.out.println(&quot;Spreadsheet ID: &quot; + spreadsheet.getSpreadsheetId());\n        return spreadsheet.getSpreadsheetId();\n    }\n}\n</code></pre>\n<p>The Create java i take from the tutorial <a href=\"https://developers.google.com/sheets/api/guides/create\" rel=\"nofollow noreferrer\">https://developers.google.com/sheets/api/guides/create</a></p>\n<p>This is my first time trying having a go at google api, can somebody tell me how to fix this.</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656942193,"post_id":72857075,"comment_id":128686968,"body_markdown":"Replace `pg-uuid` with `org.hibernate.type.PostgresUUIDType` or ditch the type altogether and use the native postures UUID type for the column instead of a `varchar(36)`. And ditch the `@Repository` on the interface it adds nothing and only hurts the eyes.","body":"Replace <code>pg-uuid</code> with <code>org.hibernate.type.PostgresUUIDType</code> or ditch the type altogether and use the native postures UUID type for the column instead of a <code>varchar(36)</code>. And ditch the <code>@Repository</code> on the interface it adds nothing and only hurts the eyes."},{"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"score":0,"creation_date":1656943183,"post_id":72857075,"comment_id":128687360,"body_markdown":"Just tried that, result is identical.","body":"Just tried that, result is identical."},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1656943252,"post_id":72857075,"comment_id":128687391,"body_markdown":"Wha is version hibernate and hibernate.dialect ?","body":"Wha is version hibernate and hibernate.dialect ?"},{"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"score":0,"creation_date":1656943903,"post_id":72857075,"comment_id":128687610,"body_markdown":"@K.Nikita Hibernate version is 5.6.8.Final, and hibernate.dialect is org.hibernate.dialect.PostgreSQLDialect","body":"@K.Nikita Hibernate version is 5.6.8.Final, and hibernate.dialect is org.hibernate.dialect.PostgreSQLDialect"}],"answers":[{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656983997,"creation_date":1656983997,"answer_id":72863166,"question_id":72857075,"body_markdown":"Try it **UUIDCharType** [link][1]\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/type/UUIDCharType.html\r\n\r\n    @Id\r\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n    @Column(name = &quot;groupId&quot;, updatable = false, nullable = false)\r\n    private UUID groupId;\r\n\r\n**Note**: not need generate UUID by UUID.randomUUID()","title":"Spring application with PostgreSQL throwing &quot;PSQLException: ERROR: operator does not exist: character = uuid&quot;","body":"<p>Try it <strong>UUIDCharType</strong> <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/type/UUIDCharType.html\" rel=\"nofollow noreferrer\">link</a></p>\n<pre><code>@Id\n@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n@GeneratedValue(generator = &quot;UUID&quot;)\n@GenericGenerator(\n        name = &quot;UUID&quot;,\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n)\n@Column(name = &quot;groupId&quot;, updatable = false, nullable = false)\nprivate UUID groupId;\n</code></pre>\n<p><strong>Note</strong>: not need generate UUID by UUID.randomUUID()</p>\n"}],"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72863166,"answer_count":1,"score":0,"last_activity_date":1656983997,"creation_date":1656939010,"question_id":72857075,"body_markdown":"I have an entity that looks like this:\r\n```lang-java\r\nimport lombok.*;\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport org.hibernate.annotations.Type;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@Entity(name = &quot;EnterpriseGroup&quot;)\r\n@Data\r\n@EqualsAndHashCode\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Table(name = &quot;enterprise_groups&quot;)\r\npublic class EnterpriseGroup {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid4&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;uuid4&quot;)\r\n    @Type(type = &quot;pg-uuid&quot;)\r\n    @Column(columnDefinition = &quot;CHAR(36)&quot;)\r\n    private UUID groupId;\r\n\r\n    @Column(unique = true)\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST})\r\n    @JoinTable(\r\n            name = &quot;groups_roles&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;groupId&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;roleId&quot;)})\r\n    private List&lt;UserRole&gt; roles;\r\n}\r\n```\r\n\r\nI have a default JPA Repository:\r\n```lang-java\r\nimport com.fadata.security.domain.entities.EnterpriseGroup;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.UUID;\r\n\r\n@Repository\r\npublic interface EnterpriseGroupRepository extends JpaRepository&lt;EnterpriseGroup, UUID&gt; {\r\n}\r\n```\r\n\r\nWhen I try calling ```repository.findAll()``` method, I get the following exception:\r\n```lang-none\r\no.h.engine.jdbc.spi.SqlExceptionHelper: could not extract ResultSet [n/a]\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: character = uuid\r\n\r\nHint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n```\r\n\r\nI&#39;ve tried changing up the UUID type and generation strategies, the column definitions and name, and nothing has worked so far. I tried debugging it by putting a breakpoint on the repository method, but it is never hit, meaning there is some kind of validation that goes on before the method is hit, and that&#39;s where this issue originates from. I&#39;m certain I&#39;m passing a valid UUID, because a proper exception is thrown if I pass an invalid UUID format. Yet the exception I get makes me think there is some kind of issue with the way the UUID I pass in with the request is converted and hits the actual app.  Any ideas are welcome! Thanks!","title":"Spring application with PostgreSQL throwing &quot;PSQLException: ERROR: operator does not exist: character = uuid&quot;","body":"<p>I have an entity that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.*;\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Type;\n\nimport javax.persistence.*;\nimport java.util.List;\nimport java.util.UUID;\n\n@Entity(name = &quot;EnterpriseGroup&quot;)\n@Data\n@EqualsAndHashCode\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Table(name = &quot;enterprise_groups&quot;)\npublic class EnterpriseGroup {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid4&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;uuid4&quot;)\n    @Type(type = &quot;pg-uuid&quot;)\n    @Column(columnDefinition = &quot;CHAR(36)&quot;)\n    private UUID groupId;\n\n    @Column(unique = true)\n    private String name;\n\n    private String description;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST})\n    @JoinTable(\n            name = &quot;groups_roles&quot;,\n            joinColumns = {@JoinColumn(name = &quot;groupId&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;roleId&quot;)})\n    private List&lt;UserRole&gt; roles;\n}\n</code></pre>\n<p>I have a default JPA Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fadata.security.domain.entities.EnterpriseGroup;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.UUID;\n\n@Repository\npublic interface EnterpriseGroupRepository extends JpaRepository&lt;EnterpriseGroup, UUID&gt; {\n}\n</code></pre>\n<p>When I try calling <code>repository.findAll()</code> method, I get the following exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>o.h.engine.jdbc.spi.SqlExceptionHelper: could not extract ResultSet [n/a]\norg.postgresql.util.PSQLException: ERROR: operator does not exist: character = uuid\n\nHint: No operator matches the given name and argument types. You might need to add explicit type casts.\n</code></pre>\n<p>I've tried changing up the UUID type and generation strategies, the column definitions and name, and nothing has worked so far. I tried debugging it by putting a breakpoint on the repository method, but it is never hit, meaning there is some kind of validation that goes on before the method is hit, and that's where this issue originates from. I'm certain I'm passing a valid UUID, because a proper exception is thrown if I pass an invalid UUID format. Yet the exception I get makes me think there is some kind of issue with the way the UUID I pass in with the request is converted and hits the actual app.  Any ideas are welcome! Thanks!</p>\n"},{"tags":["java","xml","maven","pom.xml","xwiki"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656997757,"post_id":72863140,"comment_id":128698377,"body_markdown":"You&#39;ve only got the plugin in pluginManagement, which configures it but doesn&#39;t &quot;instantiate&quot; it.","body":"You&#39;ve only got the plugin in pluginManagement, which configures it but doesn&#39;t &quot;instantiate&quot; it."},{"owner":{"account_id":2326045,"reputation":3457,"user_id":2040545,"display_name":"Clemens Klein-Robbenhaar"},"score":0,"creation_date":1658314467,"post_id":72863140,"comment_id":129019369,"body_markdown":"which version of maven are you using? I get a similar message but only as a warning with maven 3.8.3. Also you need to add some repositories to your `settings.xml` as explained in https://dev.xwiki.org/xwiki/bin/view/Community/Building/#HInstallingMaven","body":"which version of maven are you using? I get a similar message but only as a warning with maven 3.8.3. Also you need to add some repositories to your <code>settings.xml</code> as explained in <a href=\"https://dev.xwiki.org/xwiki/bin/view/Community/Building/#HInstallingMaven\" rel=\"nofollow noreferrer\">dev.xwiki.org/xwiki/bin/view/Community/Building/&hellip;</a>"}],"owner":{"account_id":14222058,"reputation":41,"user_id":10274001,"display_name":"Austin Yeager"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656983462,"creation_date":1656983462,"question_id":72863140,"body_markdown":"I&#39;ve followed this [tutorial](https://www.xwiki.org/xwiki/bin/view/FAQ/How%20to%20generate%20a%20XIP%20file%20for%20an%20Extension%3F) to create an XIP of jira to be able to be installed to a offline xwiki deployment. I was successful in getting maven to build the XIP for jira; however, when I try to recreate this process with another extension, in this case [MediaWiki](https://github.com/xwiki-contrib/mediawiki), I get an unknown packaging error.\r\n\r\n&gt; [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[ERROR] Unknown packaging: xip @ line 30, column 14\r\n[WARNING] Reporting configuration should be done in &lt;reporting&gt; section, not in maven-site-plugin &lt;configuration&gt; as reportPlugins parameter. @\r\n @\r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR]   The project org.xwiki.contrib.mediawiki:mediawiki-xml-xip:1.13.5 (/home/administrator/mediawiki/mediawiki-xml-xip/pom.xml) has 1 error\r\n[ERROR]     Unknown packaging: xip @ line 30, column 14\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n\r\nThis error is thrown after this DEBUG line.\r\n\r\n&gt; Looking up lifecycle mappings for packaging xip from ClassRealm[project&gt;org.xwiki.contrib.mediawiki:mediawiki-xml-xip:1.13.5, parent: ClassRealm[maven.api, parent: null]]\r\n\r\nMy pom.xml for the mediawiki-xml extension, that I am trying to build to an XIP looks like this.\r\n\r\n```\r\n&lt;!--\r\n * See the NOTICE file distributed with this work for additional\r\n * information regarding copyright ownership.\r\n *\r\n * This is free software; you can redistribute it and/or modify it\r\n * under the terms of the GNU Lesser General Public License as\r\n * published by the Free Software Foundation; either version 2.1 of\r\n * the License, or (at your option) any later version.\r\n *\r\n * This software is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public\r\n * License along with this software; if not, write to the Free\r\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\r\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\r\n--&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.xwiki.contrib.mediawiki&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mediawiki&lt;/artifactId&gt;\r\n    &lt;version&gt;1.13.5&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;artifactId&gt;mediawiki-xml-xip&lt;/artifactId&gt;\r\n  &lt;name&gt;MediaWiki - XIP&lt;/name&gt;\r\n  &lt;packaging&gt;xip&lt;/packaging&gt;\r\n  &lt;description&gt;XIP for offline installation of MediaWiki XML&lt;/description&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.xwiki.contrib.mediawiki&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mediawiki-xml&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.xwiki.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;xwiki-commons-tool-extension-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${commons.version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;coreExtensions&gt;\r\n              &lt;!-- We exclude what is already in the XWiki Standard WAR --&gt;\r\n              &lt;coreExtension&gt;\r\n                &lt;groupId&gt;org.xwiki.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xwiki-platform-distribution-war-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${platform.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n              &lt;/coreExtension&gt;\r\n            &lt;/coreExtensions&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nI know that the Extension Maven Plugin has something to do with my issue, I&#39;m not sure if I need to download something else or move the location of my pom. This pom worked perfectly fine with jira, no changes where made on the build portion of the pom when I copied it over. \r\n\r\nHelp is greatly appreciated as I am not well versed in Maven. Thanks again!","title":"Issues using Extension Maven Plugin","body":"<p>I've followed this <a href=\"https://www.xwiki.org/xwiki/bin/view/FAQ/How%20to%20generate%20a%20XIP%20file%20for%20an%20Extension%3F\" rel=\"nofollow noreferrer\">tutorial</a> to create an XIP of jira to be able to be installed to a offline xwiki deployment. I was successful in getting maven to build the XIP for jira; however, when I try to recreate this process with another extension, in this case <a href=\"https://github.com/xwiki-contrib/mediawiki\" rel=\"nofollow noreferrer\">MediaWiki</a>, I get an unknown packaging error.</p>\n<blockquote>\n<p>[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] Unknown packaging: xip @ line 30, column 14\n[WARNING] Reporting configuration should be done in  section, not in maven-site-plugin  as reportPlugins parameter. @\n@\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]\n[ERROR]   The project org.xwiki.contrib.mediawiki:mediawiki-xml-xip:1.13.5 (/home/administrator/mediawiki/mediawiki-xml-xip/pom.xml) has 1 error\n[ERROR]     Unknown packaging: xip @ line 30, column 14\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException</a></p>\n</blockquote>\n<p>This error is thrown after this DEBUG line.</p>\n<blockquote>\n<p>Looking up lifecycle mappings for packaging xip from ClassRealm[project&gt;org.xwiki.contrib.mediawiki:mediawiki-xml-xip:1.13.5, parent: ClassRealm[maven.api, parent: null]]</p>\n</blockquote>\n<p>My pom.xml for the mediawiki-xml extension, that I am trying to build to an XIP looks like this.</p>\n<pre><code>&lt;!--\n * See the NOTICE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n--&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.xwiki.contrib.mediawiki&lt;/groupId&gt;\n    &lt;artifactId&gt;mediawiki&lt;/artifactId&gt;\n    &lt;version&gt;1.13.5&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;artifactId&gt;mediawiki-xml-xip&lt;/artifactId&gt;\n  &lt;name&gt;MediaWiki - XIP&lt;/name&gt;\n  &lt;packaging&gt;xip&lt;/packaging&gt;\n  &lt;description&gt;XIP for offline installation of MediaWiki XML&lt;/description&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.xwiki.contrib.mediawiki&lt;/groupId&gt;\n      &lt;artifactId&gt;mediawiki-xml&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.xwiki.commons&lt;/groupId&gt;\n          &lt;artifactId&gt;xwiki-commons-tool-extension-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${commons.version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;coreExtensions&gt;\n              &lt;!-- We exclude what is already in the XWiki Standard WAR --&gt;\n              &lt;coreExtension&gt;\n                &lt;groupId&gt;org.xwiki.platform&lt;/groupId&gt;\n                &lt;artifactId&gt;xwiki-platform-distribution-war-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${platform.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n              &lt;/coreExtension&gt;\n            &lt;/coreExtensions&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I know that the Extension Maven Plugin has something to do with my issue, I'm not sure if I need to download something else or move the location of my pom. This pom worked perfectly fine with jira, no changes where made on the build portion of the pom when I copied it over.</p>\n<p>Help is greatly appreciated as I am not well versed in Maven. Thanks again!</p>\n"},{"tags":["java","spring","spring-boot","java-8","environment-variables"],"comments":[{"owner":{"account_id":12602610,"reputation":2291,"user_id":9164810,"accept_rate":100,"display_name":"rookie099"},"score":0,"creation_date":1539662552,"post_id":52827755,"comment_id":92572171,"body_markdown":"What&#39;s the file mode (`chmod`) of your property file?","body":"What&#39;s the file mode (<code>chmod</code>) of your property file?"},{"owner":{"account_id":11007292,"reputation":201,"user_id":8085858,"accept_rate":14,"display_name":"Sachin Singh"},"score":0,"creation_date":1539662625,"post_id":52827755,"comment_id":92572186,"body_markdown":"read only @rookie099","body":"read only @rookie099"},{"owner":{"account_id":12602610,"reputation":2291,"user_id":9164810,"accept_rate":100,"display_name":"rookie099"},"score":0,"creation_date":1539662791,"post_id":52827755,"comment_id":92572223,"body_markdown":"So that&#39;s already good and also what you will find in many setups. The other measure that I can think of is making sure that you use an API key whose capabilities are very narrowly defined (just gives access to one particular, needed API, or similar). So in case it is compromised you don&#39;t loole (too) much.","body":"So that&#39;s already good and also what you will find in many setups. The other measure that I can think of is making sure that you use an API key whose capabilities are very narrowly defined (just gives access to one particular, needed API, or similar). So in case it is compromised you don&#39;t loole (too) much."},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1539680800,"post_id":52827755,"comment_id":92579902,"body_markdown":"Assuming you can&#39;t afford an HSM. Place the password in a file on your server that&#39;s readable only by the userid that runs your REST server. And don&#39;t share that userid with anything else. If someone can get root access to your server and read your password file then it&#39;s game over anyway.","body":"Assuming you can&#39;t afford an HSM. Place the password in a file on your server that&#39;s readable only by the userid that runs your REST server. And don&#39;t share that userid with anything else. If someone can get root access to your server and read your password file then it&#39;s game over anyway."}],"answers":[{"tags":[],"owner":{"account_id":71015,"reputation":5191,"user_id":205463,"accept_rate":71,"display_name":"Vahid Hashemi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539671290,"creation_date":1539663374,"answer_id":52827878,"question_id":52827755,"body_markdown":"If you are really considered about the passwords you&#39;ve got, the best way is using HSM (Hardware security module). This way you will be assured that keeping your private key in a secure place is not part of your consideration anymore.\r\n\r\nIf that is expensive, then you can think of storing your private key in JKS or PKCS12 and choose a strong password.\r\n\r\nGenerally you are looking for a vault. In PKI you can have a vault to store your secret in it. there are couple of ways I can think of. One of them is HSM as I described above and the other one is following:\r\n\r\nFor storing your password you need to salt it or store it in another server w/ salt and whenever you need the password, it&#39;s better to have a secure connection between your real server and password only stored server to request the password.\r\n\r\nAlso you can take a look at this project from Hashicorp\r\n[https://github.com/hashicorp/vault][1]\r\n\r\n\r\n\r\n  [1]: https://github.com/hashicorp/vault","title":"Hiding secret key in server OR externalizing application properties","body":"<p>If you are really considered about the passwords you've got, the best way is using HSM (Hardware security module). This way you will be assured that keeping your private key in a secure place is not part of your consideration anymore.</p>\n\n<p>If that is expensive, then you can think of storing your private key in JKS or PKCS12 and choose a strong password.</p>\n\n<p>Generally you are looking for a vault. In PKI you can have a vault to store your secret in it. there are couple of ways I can think of. One of them is HSM as I described above and the other one is following:</p>\n\n<p>For storing your password you need to salt it or store it in another server w/ salt and whenever you need the password, it's better to have a secure connection between your real server and password only stored server to request the password.</p>\n\n<p>Also you can take a look at this project from Hashicorp\n<a href=\"https://github.com/hashicorp/vault\" rel=\"nofollow noreferrer\">https://github.com/hashicorp/vault</a></p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1539664784,"creation_date":1539664784,"answer_id":52828028,"question_id":52827755,"body_markdown":"There are many options here depending on your actual security requirements.\r\nYou&#39;ve mentioned java and spring boot, so I&#39;ll mainly specify solutions related to this technology stack.\r\n\r\n\r\nSince you&#39;re already using Spring Boot, consider spring-cloud-config server.\r\n\r\nIt has some interesting &quot;encryption&quot; features:\r\n\r\n**Step 1**\r\n\r\nCreate a Key (public/private pair or shared depending on your requirements)\r\nSpecify it when starting the config server (via -- or env variable):\r\n  \r\n\r\n    encrypt.key=ABC123ABC123ABC123\r\n\r\n\r\n**Step 2**\r\n\r\nEncode value of the password by calling a rest request of this server (you do it once)\r\n\r\n    curl localhost:8888/encrypt -d mysecretdbpassword \r\n    &gt;&gt;AZXCASDAZXC341234ZXCASDFedr453\r\n\r\n**Step 3**\r\n\r\nIn application.properties specify that the value is &quot;encrypted&quot; with a special syntax\r\nThe file will be stored on a configuration server and not on the microservice. The \r\nproperty will look like this\r\n\r\n    db.password={cipher}AZXCASDAZXC341234ZXCASDFedr453 \r\n\r\nThe property will be kept encrypted in files but decrypted in memory. So the microservice will get a decrypted value.\r\n\r\nThe documentation is available [here][1]. This is by far the fastest way to implement the requirements. You can keep it in a dedicated microservice or embedded into the already-existing application.\r\n\r\nIn addition, it allows integration with JKS, so its possible to store passwords there.\r\n\r\n**Complementary/Alternatives**\r\n\r\nSpring cloud config is also integrated with [Hashicorp Vault][2] which can be a good solution for your situation on its own (even without spring boot cloud config).\r\n\r\n\r\nYet Another possible solution that comes from Spring Universe is called [Spring Vault][3]\r\nIts intended for working with secrets.\r\n\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-config/\r\n  [2]: https://www.hashicorp.com/blog/vault-announcement\r\n  [3]: https://projects.spring.io/spring-vault/","title":"Hiding secret key in server OR externalizing application properties","body":"<p>There are many options here depending on your actual security requirements.\nYou've mentioned java and spring boot, so I'll mainly specify solutions related to this technology stack.</p>\n\n<p>Since you're already using Spring Boot, consider spring-cloud-config server.</p>\n\n<p>It has some interesting \"encryption\" features:</p>\n\n<p><strong>Step 1</strong></p>\n\n<p>Create a Key (public/private pair or shared depending on your requirements)\nSpecify it when starting the config server (via -- or env variable):</p>\n\n<pre><code>encrypt.key=ABC123ABC123ABC123\n</code></pre>\n\n<p><strong>Step 2</strong></p>\n\n<p>Encode value of the password by calling a rest request of this server (you do it once)</p>\n\n<pre><code>curl localhost:8888/encrypt -d mysecretdbpassword \n&gt;&gt;AZXCASDAZXC341234ZXCASDFedr453\n</code></pre>\n\n<p><strong>Step 3</strong></p>\n\n<p>In application.properties specify that the value is \"encrypted\" with a special syntax\nThe file will be stored on a configuration server and not on the microservice. The \nproperty will look like this</p>\n\n<pre><code>db.password={cipher}AZXCASDAZXC341234ZXCASDFedr453 \n</code></pre>\n\n<p>The property will be kept encrypted in files but decrypted in memory. So the microservice will get a decrypted value.</p>\n\n<p>The documentation is available <a href=\"https://cloud.spring.io/spring-cloud-config/\" rel=\"nofollow noreferrer\">here</a>. This is by far the fastest way to implement the requirements. You can keep it in a dedicated microservice or embedded into the already-existing application.</p>\n\n<p>In addition, it allows integration with JKS, so its possible to store passwords there.</p>\n\n<p><strong>Complementary/Alternatives</strong></p>\n\n<p>Spring cloud config is also integrated with <a href=\"https://www.hashicorp.com/blog/vault-announcement\" rel=\"nofollow noreferrer\">Hashicorp Vault</a> which can be a good solution for your situation on its own (even without spring boot cloud config).</p>\n\n<p>Yet Another possible solution that comes from Spring Universe is called <a href=\"https://projects.spring.io/spring-vault/\" rel=\"nofollow noreferrer\">Spring Vault</a>\nIts intended for working with secrets.</p>\n"},{"tags":[],"owner":{"account_id":20757520,"reputation":1,"user_id":15243588,"display_name":"Daniel Adeboye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652957450,"creation_date":1652957450,"answer_id":72303227,"question_id":52827755,"body_markdown":"I use [onboardbase][1] to hide secret i would recommend that they are few other out there to check like doppler \r\n\r\n\r\n  [1]: https://onboardbase.com","title":"Hiding secret key in server OR externalizing application properties","body":"<p>I use <a href=\"https://onboardbase.com\" rel=\"nofollow noreferrer\">onboardbase</a> to hide secret i would recommend that they are few other out there to check like doppler</p>\n"},{"tags":[],"owner":{"account_id":4260941,"reputation":306,"user_id":3485316,"display_name":"Pradyskumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656616015,"creation_date":1656616015,"answer_id":72820889,"question_id":52827755,"body_markdown":"You can setup your application.properties as below\r\n\r\n`application.properties`\r\n\r\n\r\n----------\r\n```\r\nsecret.key1=${SECRET_KEY1}\r\nsecret.key2=${SECRET_KEY2}\r\n```\r\nWhile building the application we can pass it as an environment variable\r\n\r\n&gt; mvn clean install -dSECRET_KEY1=123456 -dSECRET_KEY2=abcdef\r\n\r\nWe can pass the environment variables in docker as well by using -e SECRET_KEY1=123456\r\n","title":"Hiding secret key in server OR externalizing application properties","body":"<p>You can setup your application.properties as below</p>\n<p><code>application.properties</code></p>\n<hr />\n<pre><code>secret.key1=${SECRET_KEY1}\nsecret.key2=${SECRET_KEY2}\n</code></pre>\n<p>While building the application we can pass it as an environment variable</p>\n<blockquote>\n<p>mvn clean install -dSECRET_KEY1=123456 -dSECRET_KEY2=abcdef</p>\n</blockquote>\n<p>We can pass the environment variables in docker as well by using -e SECRET_KEY1=123456</p>\n"}],"owner":{"account_id":11007292,"reputation":201,"user_id":8085858,"accept_rate":14,"display_name":"Sachin Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3877,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1656983358,"creation_date":1539662158,"question_id":52827755,"body_markdown":"I have some secret api keys for my server and i have to use in my project. But i am not feeling safe to keep in properties file or any physical location in server. Can any one tell me what are possible ways to keep it secret and use  wherever it&#39;s require in application.","title":"Hiding secret key in server OR externalizing application properties","body":"<p>I have some secret api keys for my server and i have to use in my project. But i am not feeling safe to keep in properties file or any physical location in server. Can any one tell me what are possible ways to keep it secret and use  wherever it's require in application.</p>\n"},{"tags":["java","recursion","ftp"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1656982357,"post_id":72863055,"comment_id":128696361,"body_markdown":"Is there any reason that recursion does not work for you? Otherwise see here for a solution: [Ideas for listing files, directories, sub files &amp; sub directories without recursion in ftp server](https://stackoverflow.com/questions/66515441/ideas-for-listing-files-directories-sub-files-sub-directories-without-recurs)","body":"Is there any reason that recursion does not work for you? Otherwise see here for a solution: <a href=\"https://stackoverflow.com/questions/66515441/ideas-for-listing-files-directories-sub-files-sub-directories-without-recurs\">Ideas for listing files, directories, sub files &amp; sub directories without recursion in ftp server</a>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1656982596,"post_id":72863055,"comment_id":128696393,"body_markdown":"If you are trying to get the directory structure and all files in a single call then see here: [Get a whole FTP directory listings recursively in one call possible to reduce time](https://stackoverflow.com/questions/72793174/get-a-whole-ftp-directory-listings-recursively-in-one-call-possible-to-reduce-ti)","body":"If you are trying to get the directory structure and all files in a single call then see here: <a href=\"https://stackoverflow.com/questions/72793174/get-a-whole-ftp-directory-listings-recursively-in-one-call-possible-to-reduce-ti\">Get a whole FTP directory listings recursively in one call possible to reduce time</a>"},{"owner":{"account_id":25285411,"reputation":17,"user_id":19112514,"display_name":"Ajm Kir"},"score":0,"creation_date":1657027833,"post_id":72863055,"comment_id":128708024,"body_markdown":"It works but I believe I have to try to do it without recursion","body":"It works but I believe I have to try to do it without recursion"}],"owner":{"account_id":25285411,"reputation":17,"user_id":19112514,"display_name":"Ajm Kir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657038867,"answer_count":0,"score":0,"last_activity_date":1656982026,"creation_date":1656982026,"question_id":72863055,"body_markdown":"When listing files and it&#39;s subfiles within the directory in the FTP server here it seems to work when using the recursion call.  Here I do it with recursion calling ListFolder(ftpClient, remoteFilePath) and it works, I have to try to do this without recursion. Is there any way to do this, any suggestions on how I can improve this code so I can do this without using recursion\r\n\r\n\r\n\r\n    private static void ListFolder(FTPClient ftpClient, String filesDirectory)\r\n        throws IOException\r\n    {\r\n        System.out.println(&quot;Listing folder &quot; + filesDirectory);\r\n        FTPFile[] remoteFiles = ftpClient.listFiles(filesDirectory);\r\n        for (FTPFile remoteFile : remoteFiles)\r\n        {\r\n            if (!remoteFile.getName().equals(&quot;.&quot;) &amp;&amp;\r\n                !remoteFile.getName().equals(&quot;..&quot;))\r\n            {\r\n                String remoteFilePath = filesDirectory + &quot;/&quot; + remoteFile.getName();\r\n    \r\n                if (remoteFile.isDirectory())\r\n                {\r\n                    ListFolder(ftpClient, remoteFilePath);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Found file &quot; + remoteFilePath);\r\n                }\r\n            \r\n            File downloadFile1 = new File(directory + &quot;/&quot; + remoteFile);\r\n            OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(downloadFile1));\r\n              ftpClient.retrieveFile(remoteFilePath, outputStream);\r\n        }\r\n    }\r\n\r\n","title":"Listing files in ftp server without the use of recursion","body":"<p>When listing files and it's subfiles within the directory in the FTP server here it seems to work when using the recursion call.  Here I do it with recursion calling ListFolder(ftpClient, remoteFilePath) and it works, I have to try to do this without recursion. Is there any way to do this, any suggestions on how I can improve this code so I can do this without using recursion</p>\n<pre><code>private static void ListFolder(FTPClient ftpClient, String filesDirectory)\n    throws IOException\n{\n    System.out.println(&quot;Listing folder &quot; + filesDirectory);\n    FTPFile[] remoteFiles = ftpClient.listFiles(filesDirectory);\n    for (FTPFile remoteFile : remoteFiles)\n    {\n        if (!remoteFile.getName().equals(&quot;.&quot;) &amp;&amp;\n            !remoteFile.getName().equals(&quot;..&quot;))\n        {\n            String remoteFilePath = filesDirectory + &quot;/&quot; + remoteFile.getName();\n\n            if (remoteFile.isDirectory())\n            {\n                ListFolder(ftpClient, remoteFilePath);\n            }\n            else\n            {\n                System.out.println(&quot;Found file &quot; + remoteFilePath);\n            }\n        \n        File downloadFile1 = new File(directory + &quot;/&quot; + remoteFile);\n        OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(downloadFile1));\n          ftpClient.retrieveFile(remoteFilePath, outputStream);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","module"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1656984045,"post_id":72862987,"comment_id":128696587,"body_markdown":"You create the `module-info.java` by hand. There is not much in it.","body":"You create the <code>module-info.java</code> by hand. There is not much in it."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1657003602,"post_id":72862987,"comment_id":128699669,"body_markdown":"Create the `module-info.java` file in `src/main/java` and the rest should work ...","body":"Create the <code>module-info.java</code> file in <code>src&#47;main&#47;java</code> and the rest should work ..."},{"owner":{"account_id":25664018,"reputation":1,"user_id":19429356,"display_name":"greg1337"},"score":0,"creation_date":1657012497,"post_id":72862987,"comment_id":128702496,"body_markdown":"@JohannesKuhn i cannot create it by hand since the generated sources are recreated every build under target/generated-souces","body":"@JohannesKuhn i cannot create it by hand since the generated sources are recreated every build under target/generated-souces"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657070007,"post_id":72862987,"comment_id":128720040,"body_markdown":"Yeah, and module-info.java is not generated. It should go with the other source code.","body":"Yeah, and module-info.java is not generated. It should go with the other source code."},{"owner":{"account_id":25664018,"reputation":1,"user_id":19429356,"display_name":"greg1337"},"score":0,"creation_date":1657180855,"post_id":72862987,"comment_id":128750368,"body_markdown":"@JohannesKuhn you do know that generated != compiled? The sources i&#39;m talking about are generated by an annotation processor. I am unable to manually add files to that folder since the whole folder is generated at compile time","body":"@JohannesKuhn you do know that generated != compiled? The sources i&#39;m talking about are generated by an annotation processor. I am unable to manually add files to that folder since the whole folder is generated at compile time"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657233907,"post_id":72862987,"comment_id":128769146,"body_markdown":"Yeah. That&#39;s why you don&#39;t add it to the generated source files, and instead add it to the regular source files. (Yes, an annotation processor COULD generate it... but that is not worth the effort.)","body":"Yeah. That&#39;s why you don&#39;t add it to the generated source files, and instead add it to the regular source files. (Yes, an annotation processor COULD generate it... but that is not worth the effort.)"},{"owner":{"account_id":25664018,"reputation":1,"user_id":19429356,"display_name":"greg1337"},"score":0,"creation_date":1657322807,"post_id":72862987,"comment_id":128791170,"body_markdown":"@JohannesKuhn the folder that needs the module-info is being generated at compile time in its entirety. adding a module-info to the folder with the normal sources does not influence the generated one. this is exactly the problem im trying to solve","body":"@JohannesKuhn the folder that needs the module-info is being generated at compile time in its entirety. adding a module-info to the folder with the normal sources does not influence the generated one. this is exactly the problem im trying to solve"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657350725,"post_id":72862987,"comment_id":128794042,"body_markdown":"&quot;adding a module-info to the folder with the normal sources does not influence the generated one&quot; This is wrong. Or should be wrong. Fix your build then. (The generated sources should be compiled together with the normal classes, not independently.)","body":"&quot;adding a module-info to the folder with the normal sources does not influence the generated one&quot; This is wrong. Or should be wrong. Fix your build then. (The generated sources should be compiled together with the normal classes, not independently.)"}],"owner":{"account_id":25664018,"reputation":1,"user_id":19429356,"display_name":"greg1337"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656980892,"creation_date":1656980892,"question_id":72862987,"body_markdown":"I use multiple annotation processors to generate code in my project and now plan to migrate it to java 11.\r\n\r\nHow do I make maven generate or copy a module-info.java to the target directory?","title":"How to add module-info to generated classes?","body":"<p>I use multiple annotation processors to generate code in my project and now plan to migrate it to java 11.</p>\n<p>How do I make maven generate or copy a module-info.java to the target directory?</p>\n"},{"tags":["java","loops","time"],"comments":[{"owner":{"account_id":2248460,"reputation":12996,"user_id":1981279,"display_name":"Vishal K"},"score":0,"creation_date":1368031872,"post_id":16445682,"comment_id":23589173,"body_markdown":"Are you working with `Swing`?","body":"Are you working with <code>Swing</code>?"},{"owner":{"account_id":418036,"reputation":735,"user_id":794371,"accept_rate":100,"display_name":"cody"},"score":0,"creation_date":1368032612,"post_id":16445682,"comment_id":23589515,"body_markdown":"Nope, not using Swing. the util Timer suited my needs better Thanks!","body":"Nope, not using Swing. the util Timer suited my needs better Thanks!"},{"owner":{"account_id":2248460,"reputation":12996,"user_id":1981279,"display_name":"Vishal K"},"score":0,"creation_date":1368033196,"post_id":16445682,"comment_id":23589787,"body_markdown":"Then you should use a very reliable API in `java.util.concurrent` package which is `ScheduledExecutorService`. Have a look at this example : http://stackoverflow.com/a/16445807/1981279","body":"Then you should use a very reliable API in <code>java.util.concurrent</code> package which is <code>ScheduledExecutorService</code>. Have a look at this example : <a href=\"http://stackoverflow.com/a/16445807/1981279\">stackoverflow.com/a/16445807/1981279</a>"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368030813,"creation_date":1368030813,"answer_id":16445732,"question_id":16445682,"body_markdown":"You would use a `java.util.concurrent.Executors.newSingleThreadScheduledExecutor()` and conveniently schedule a countdown task at 1-second intervals.\r\n\r\nAlternatively, if you task must run on the Event Dispatch Thread (the &quot;GUI thread&quot;), you&#39;ll be better served by `javax.swing.Timer`.","title":"What is the most passive way to create a timer loop?","body":"<p>You would use a <code>java.util.concurrent.Executors.newSingleThreadScheduledExecutor()</code> and conveniently schedule a countdown task at 1-second intervals.</p>\n\n<p>Alternatively, if you task must run on the Event Dispatch Thread (the \"GUI thread\"), you'll be better served by <code>javax.swing.Timer</code>.</p>\n"},{"tags":[],"owner":{"account_id":1501890,"reputation":1892,"user_id":1406264,"accept_rate":96,"display_name":"DRastislav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656980385,"creation_date":1368030957,"answer_id":16445778,"question_id":16445682,"body_markdown":"Try [`javax.swing.Timer`][1]:\r\n\r\n```java\r\nint delay = 1000; //milliseconds\r\nActionListener taskPerformer = new ActionListener() {\r\n    public void actionPerformed(ActionEvent evt) {\r\n        //...Perform a task...\r\n    }\r\n};\r\nnew Timer(delay, taskPerformer).start();\r\n```\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/swing/Timer.html","title":"What is the most passive way to create a timer loop?","body":"<p>Try <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/Timer.html\" rel=\"nofollow noreferrer\"><code>javax.swing.Timer</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int delay = 1000; //milliseconds\nActionListener taskPerformer = new ActionListener() {\n    public void actionPerformed(ActionEvent evt) {\n        //...Perform a task...\n    }\n};\nnew Timer(delay, taskPerformer).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2326051,"reputation":1667,"user_id":2040552,"display_name":"killscreen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1368031866,"creation_date":1368031866,"answer_id":16446085,"question_id":16445682,"body_markdown":"I would recommend [`java.util.Timer`][1] if you are not using Swing for GUI/Graphics (not familiar with CraftBukkit, so that will be up to you to determine). In particular, look at forms of `schedule` which allow a task to be repeated at fixed intervals.\r\n\r\n`javax.swing.Timer` is similar. The biggest difference (aside from the interfaces used to respond to timers being triggered) is that `javax.swing.Timer` utilizes the EDT (event dispatch thread) to run events. If you&#39;re using a Swing GUI, this thread is already present and running and you want to use it. If you&#39;re not using Swing or AWT, then this is extra overhead that you don&#39;t need.\r\n\r\n[1]: http://docs.oracle.com/javase/6/docs/api/java/util/Timer.html","title":"What is the most passive way to create a timer loop?","body":"<p>I would recommend <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Timer.html\" rel=\"nofollow\"><code>java.util.Timer</code></a> if you are not using Swing for GUI/Graphics (not familiar with CraftBukkit, so that will be up to you to determine). In particular, look at forms of <code>schedule</code> which allow a task to be repeated at fixed intervals.</p>\n\n<p><code>javax.swing.Timer</code> is similar. The biggest difference (aside from the interfaces used to respond to timers being triggered) is that <code>javax.swing.Timer</code> utilizes the EDT (event dispatch thread) to run events. If you're using a Swing GUI, this thread is already present and running and you want to use it. If you're not using Swing or AWT, then this is extra overhead that you don't need.</p>\n"}],"owner":{"account_id":418036,"reputation":735,"user_id":794371,"accept_rate":100,"display_name":"cody"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16446085,"answer_count":3,"score":1,"last_activity_date":1656980385,"creation_date":1368030670,"question_id":16445682,"body_markdown":"For those of you need to know, I&#39;m writing a plugin for CraftBukkit, which is a modded version of Minecraft, and I&#39;m a beginner level java programmer. I have what I think is a really basic question.\r\n\r\nI&#39;m trying to implement a countdown that executes methods to send messages to players every second for 20 seconds.\r\n\r\nObviously, I can&#39;t simply create a loop that loops for 20 seconds, because that loop will freeze the main thread until it finishes, which is unacceptable. (There is a lot of game code executing)\r\n\r\nWhat are some approaches to creating a loop that will run passively or without halting the main thread?\r\n\r\nThe only thing I can possibly think is creating a new thread to run the countdown in.\r\nSurely there is a simpler way to do this?\r\n\r\nSo you aren&#39;t confused, the countdown isn&#39;t initialized as part of some main loop, its initialized linearly by a user command listener, but its code executes in the main loop. What I mean by that is I need to actually START a loop that checks time, because this code is only executed once.\r\n\r\nSorry if I&#39;m not being clear or making sense.  ","title":"What is the most passive way to create a timer loop?","body":"<p>For those of you need to know, I'm writing a plugin for CraftBukkit, which is a modded version of Minecraft, and I'm a beginner level java programmer. I have what I think is a really basic question.</p>\n\n<p>I'm trying to implement a countdown that executes methods to send messages to players every second for 20 seconds.</p>\n\n<p>Obviously, I can't simply create a loop that loops for 20 seconds, because that loop will freeze the main thread until it finishes, which is unacceptable. (There is a lot of game code executing)</p>\n\n<p>What are some approaches to creating a loop that will run passively or without halting the main thread?</p>\n\n<p>The only thing I can possibly think is creating a new thread to run the countdown in.\nSurely there is a simpler way to do this?</p>\n\n<p>So you aren't confused, the countdown isn't initialized as part of some main loop, its initialized linearly by a user command listener, but its code executes in the main loop. What I mean by that is I need to actually START a loop that checks time, because this code is only executed once.</p>\n\n<p>Sorry if I'm not being clear or making sense.  </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1656739325,"post_id":72836620,"comment_id":128650358,"body_markdown":"Personally, I&#39;d just use [SimpleDateFormat.parse()](https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).  If the date is invalid, it should return null.  Try it :)","body":"Personally, I&#39;d just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat.parse()</a>.  If the date is invalid, it should return null.  Try it :)"},{"owner":{"account_id":23206682,"reputation":509,"user_id":17300813,"display_name":"Agrim Singh"},"score":0,"creation_date":1656739368,"post_id":72836620,"comment_id":128650360,"body_markdown":"Please write the description or about the image.","body":"Please write the description or about the image."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1656740944,"post_id":72836620,"comment_id":128650527,"body_markdown":"@paulsm4 Not really: it will throw a `ParseException` (and only if lenient is set to `false`, otherwise a more-or-less appropriate date will be returned) **||** It is recommended NOT to use the legacy `Date`, `Calendar`, `SimpleDaeFormat`... classes; - prefer the `java.time` package ones (but I believe this is an *assignment* and it is not permitted to use any of these classes)","body":"@paulsm4 Not really: it will throw a <code>ParseException</code> (and only if lenient is set to <code>false</code>, otherwise a more-or-less appropriate date will be returned) <b>||</b> It is recommended NOT to use the legacy <code>Date</code>, <code>Calendar</code>, <code>SimpleDaeFormat</code>... classes; - prefer the <code>java.time</code> package ones (but I believe this is an <i>assignment</i> and it is not permitted to use any of these classes)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1656742410,"post_id":72836620,"comment_id":128650742,"body_markdown":"Can you not use the [date time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) ?","body":"Can you not use the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">date time API</a> ?"},{"owner":{"account_id":25694031,"reputation":19,"user_id":19464966,"display_name":"Carlos fernando"},"score":0,"creation_date":1656743630,"post_id":72836620,"comment_id":128650902,"body_markdown":"@Abra I think yes! Could you help me how to implement it?","body":"@Abra I think yes! Could you help me how to implement it?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1656877677,"post_id":72836620,"comment_id":128672877,"body_markdown":"@Carlos fernando - I encourage you to try SimpleDateFormat().  It might be all you need.  Ignore those who insist &quot;newer is by always better&quot;.  Here some good examples: [Creating a SimpleDateFormat](https://jenkov.com/tutorials/java-internationalization/simpledateformat.html) and [A Guide to SimpleDateFormat](https://www.baeldung.com/java-simple-date-format).  You should familiarize yourself with the newer, Java8 [DateTimeFormatter class](https://www.baeldung.com/java-datetimeformatter), but feel free to continue using SimpleDateFormat() if it works for you.","body":"@Carlos fernando - I encourage you to try SimpleDateFormat().  It might be all you need.  Ignore those who insist &quot;newer is by always better&quot;.  Here some good examples: <a href=\"https://jenkov.com/tutorials/java-internationalization/simpledateformat.html\" rel=\"nofollow noreferrer\">Creating a SimpleDateFormat</a> and <a href=\"https://www.baeldung.com/java-simple-date-format\" rel=\"nofollow noreferrer\">A Guide to SimpleDateFormat</a>.  You should familiarize yourself with the newer, Java8 <a href=\"https://www.baeldung.com/java-datetimeformatter\" rel=\"nofollow noreferrer\">DateTimeFormatter class</a>, but feel free to continue using SimpleDateFormat() if it works for you."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1660431370,"post_id":72836620,"comment_id":129532277,"body_markdown":"Terrible title. Rewrite to summarize your *specific* technical issue.","body":"Terrible title. Rewrite to summarize your <i>specific</i> technical issue."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656741651,"creation_date":1656741651,"answer_id":72836823,"question_id":72836620,"body_markdown":"Since you already have a `Utility` class, write one more utility method.  Now all you have to do is see if the day portion of your date falls in between 1 and `maxDays`.\r\n\r\n    public int getMaximumDays(int month, int year) {\r\n        int[] maxDays = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\r\n        if (month &lt; 1 || month &gt; 12) {\r\n            return -1;\r\n        }\r\n        if (month == 2 &amp;&amp; isLeapYear(year)) {\r\n            return 29;\r\n        } else {\r\n            return maxDays[month - 1];\r\n        }\r\n    }\r\n        ","title":"How i can do that?","body":"<p>Since you already have a <code>Utility</code> class, write one more utility method.  Now all you have to do is see if the day portion of your date falls in between 1 and <code>maxDays</code>.</p>\n<pre><code>public int getMaximumDays(int month, int year) {\n    int[] maxDays = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\n    if (month &lt; 1 || month &gt; 12) {\n        return -1;\n    }\n    if (month == 2 &amp;&amp; isLeapYear(year)) {\n        return 29;\n    } else {\n        return maxDays[month - 1];\n    }\n}\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12621038,"reputation":433,"user_id":9176523,"display_name":"Dheeraj Gupta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656913352,"creation_date":1656913352,"answer_id":72852200,"question_id":72836620,"body_markdown":"You can use the lib code \r\n\r\n    public static boolean isLeapYear(int yr) {\r\n      Calendar cal = Calendar.getInstance();\r\n      cal.set(Calendar.YEAR, yr);\r\n      return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\r\n    }\r\n\r\nBut if you are going to reinvent this wheel then:\r\n\r\n    public static boolean isLeapYear(int year) {\r\n      if (year % 4 != 0) {\r\n        return false;\r\n      } else if (year % 400 == 0) {\r\n        return true;\r\n      } else if (year % 100 == 0) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }","title":"How i can do that?","body":"<p>You can use the lib code</p>\n<pre><code>public static boolean isLeapYear(int yr) {\n  Calendar cal = Calendar.getInstance();\n  cal.set(Calendar.YEAR, yr);\n  return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\n}\n</code></pre>\n<p>But if you are going to reinvent this wheel then:</p>\n<pre><code>public static boolean isLeapYear(int year) {\n  if (year % 4 != 0) {\n    return false;\n  } else if (year % 400 == 0) {\n    return true;\n  } else if (year % 100 == 0) {\n    return false;\n  } else {\n    return true;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656975986,"creation_date":1656914930,"answer_id":72852381,"question_id":72836620,"body_markdown":"This is my last kick at the cat. No `Calendar`, no `regex`, and no `try/catch`. date range is from the year 1200 to the year 2200 (can be changed in code). The concept is used from **Gilbert Le Blanc&#39;s** answer:\r\n\r\n    public boolean isDateStringValid(String dateString) {\r\n        if (dateString == null || dateString.isEmpty()) {\r\n            return false;\r\n        }\r\n\r\n        // Maximum days in each month starting from January\r\n        int[] maxDays = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\r\n\r\n        // Parse the supplied date string\r\n        String m = dateString.substring(0, dateString.indexOf(&quot;/&quot;));\r\n        String d = dateString.substring(dateString.indexOf(&quot;/&quot;) + 1, dateString.lastIndexOf(&quot;/&quot;));\r\n        String y = dateString.substring(dateString.lastIndexOf(&quot;/&quot;) + 1);\r\n        \r\n        \r\n        \r\n        //convert days, month, and year to integer.\r\n        int month = Integer.valueOf(m);\r\n        int day = Integer.valueOf(d);\r\n        int year = Integer.valueOf(y);\r\n\r\n        // Make sure year is in range\r\n        if (year &lt; 1200 || year &gt; 2200) {\r\n            return false;\r\n        } \r\n        \r\n        /* If the year provided is a Leap year then change the Maximum\r\n           days for February (in maxDays[]) from 28 days to 29 days. */\r\n        if ((year % 4 == 0 &amp;&amp; year % 100 != 0) || (year % 400 == 0)) {\r\n            maxDays[1] = 29;\r\n        }\r\n\r\n        // Is the provided month is range. \r\n        if (month &lt; 1 || month &gt; 12) {\r\n            return false;\r\n        }\r\n        \r\n        // Is the day in range for the specific month\r\n        if (day &lt; 1 || day &gt; maxDays[month - 1]) {\r\n            return false;\r\n        }\r\n        // If everything is good we return true.\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\nThe above code assumes the date format of &quot;MM/dd/yyyy&quot;. If however it is suppose to be a format of &quot;dd/MM/yyyy&quot; then where the date string is parsed, swap `m` and `d`.\r\n\r\nI should think that you would place this method into the **Utility** class. To use this method for your particular use-case, I believe it would be:\r\n\r\n    if(parameterIn.get(&quot;date&quot;) != null) { \r\n        String dateString = (String) parameterIn.get(Constants.DATE.getValue());\r\n        if (dateString != null &amp;&amp; !dateString.trim().isEmpty() \r\n                    &amp;&amp; util.isDateStringValid(dateString)) { \r\n            // Whatever you want here IF date is valid...\r\n        }\r\n        else {\r\n            // Whatever you want here IF the date is Invalid...\r\n        } \r\n    }\r\n    else {\r\n        this.addAdvice(Constants.MGBD100005.getValue());\r\n    }","title":"How i can do that?","body":"<p>This is my last kick at the cat. No <code>Calendar</code>, no <code>regex</code>, and no <code>try/catch</code>. date range is from the year 1200 to the year 2200 (can be changed in code). The concept is used from <strong>Gilbert Le Blanc's</strong> answer:</p>\n<pre><code>public boolean isDateStringValid(String dateString) {\n    if (dateString == null || dateString.isEmpty()) {\n        return false;\n    }\n\n    // Maximum days in each month starting from January\n    int[] maxDays = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\n    // Parse the supplied date string\n    String m = dateString.substring(0, dateString.indexOf(&quot;/&quot;));\n    String d = dateString.substring(dateString.indexOf(&quot;/&quot;) + 1, dateString.lastIndexOf(&quot;/&quot;));\n    String y = dateString.substring(dateString.lastIndexOf(&quot;/&quot;) + 1);\n    \n    \n    \n    //convert days, month, and year to integer.\n    int month = Integer.valueOf(m);\n    int day = Integer.valueOf(d);\n    int year = Integer.valueOf(y);\n\n    // Make sure year is in range\n    if (year &lt; 1200 || year &gt; 2200) {\n        return false;\n    } \n    \n    /* If the year provided is a Leap year then change the Maximum\n       days for February (in maxDays[]) from 28 days to 29 days. */\n    if ((year % 4 == 0 &amp;&amp; year % 100 != 0) || (year % 400 == 0)) {\n        maxDays[1] = 29;\n    }\n\n    // Is the provided month is range. \n    if (month &lt; 1 || month &gt; 12) {\n        return false;\n    }\n    \n    // Is the day in range for the specific month\n    if (day &lt; 1 || day &gt; maxDays[month - 1]) {\n        return false;\n    }\n    // If everything is good we return true.\n    else {\n        return true;\n    }\n}\n</code></pre>\n<p>The above code assumes the date format of &quot;MM/dd/yyyy&quot;. If however it is suppose to be a format of &quot;dd/MM/yyyy&quot; then where the date string is parsed, swap <code>m</code> and <code>d</code>.</p>\n<p>I should think that you would place this method into the <strong>Utility</strong> class. To use this method for your particular use-case, I believe it would be:</p>\n<pre><code>if(parameterIn.get(&quot;date&quot;) != null) { \n    String dateString = (String) parameterIn.get(Constants.DATE.getValue());\n    if (dateString != null &amp;&amp; !dateString.trim().isEmpty() \n                &amp;&amp; util.isDateStringValid(dateString)) { \n        // Whatever you want here IF date is valid...\n    }\n    else {\n        // Whatever you want here IF the date is Invalid...\n    } \n}\nelse {\n    this.addAdvice(Constants.MGBD100005.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":25694031,"reputation":19,"user_id":19464966,"display_name":"Carlos fernando"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72852381,"answer_count":3,"score":-1,"last_activity_date":1656980378,"creation_date":1656738605,"question_id":72836620,"body_markdown":"How can I do a date validation with leap years in Java? Unfortunately, I can&#39;t use regular expressions or calendar. I will explain step by step!\r\n\r\nThis is my main component (where I implement most things):\r\nAn example of the implement I have to use:\r\n\r\n\r\nand in another component called utility (I put the methods that will be used in the implementation, all this to carry an order, my utility code is as follows:\r\n\r\nI put the data separately in a LOCAL ENVIRONMENT online, where I put a date that is valid in any respective year. enter image description here\r\n\r\nFor example in the image, I am putting the date 02/29/2012 which is validated and is in the correct order, but if I put a date 02/30/2012 which is incorrect data, it will throw me an error called 10005.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How i can do that?","body":"<p>How can I do a date validation with leap years in Java? Unfortunately, I can't use regular expressions or calendar. I will explain step by step!</p>\n<p>This is my main component (where I implement most things):\nAn example of the implement I have to use:</p>\n<p>and in another component called utility (I put the methods that will be used in the implementation, all this to carry an order, my utility code is as follows:</p>\n<p>I put the data separately in a LOCAL ENVIRONMENT online, where I put a date that is valid in any respective year. enter image description here</p>\n<p>For example in the image, I am putting the date 02/29/2012 which is validated and is in the correct order, but if I put a date 02/30/2012 which is incorrect data, it will throw me an error called 10005.</p>\n"},{"tags":["java","android","jodatime","crittercism"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1337885203,"post_id":10743241,"comment_id":13959537,"body_markdown":"I suspect it could be handset issue. It is better if you can get more info (OS version, manufacturer version of their phones). Dalvik VM they have might not have updated Joda library. Just guess. If they are recompiling your app, it is not big-deal to get Joda library. I don&#39;t think that is the case.","body":"I suspect it could be handset issue. It is better if you can get more info (OS version, manufacturer version of their phones). Dalvik VM they have might not have updated Joda library. Just guess. If they are recompiling your app, it is not big-deal to get Joda library. I don&#39;t think that is the case."},{"owner":{"account_id":1010446,"reputation":2485,"user_id":1023127,"accept_rate":85,"display_name":"jvnbt"},"score":0,"creation_date":1337885897,"post_id":10743241,"comment_id":13959804,"body_markdown":"Looking at the diagnostics, it&#39;s all different types of phones and OS versions. The crash has a occured about 40 times ever out of maybe 10,000 app loads. I found one more interesting thing: The error says its coming from MyAppName-2.apk, when I submitted MyAppName.apk. Does this indicate anything?","body":"Looking at the diagnostics, it&#39;s all different types of phones and OS versions. The crash has a occured about 40 times ever out of maybe 10,000 app loads. I found one more interesting thing: The error says its coming from MyAppName-2.apk, when I submitted MyAppName.apk. Does this indicate anything?"},{"owner":{"account_id":110454,"reputation":7907,"user_id":292263,"accept_rate":85,"display_name":"Catalin Morosan"},"score":0,"creation_date":1365751077,"post_id":10743241,"comment_id":22754797,"body_markdown":"Have you found the problem? I am seeing similar exceptions for my own Android app.","body":"Have you found the problem? I am seeing similar exceptions for my own Android app."},{"owner":{"account_id":64311,"reputation":9674,"user_id":189924,"accept_rate":96,"display_name":"strange"},"score":0,"creation_date":1384464961,"post_id":10743241,"comment_id":29759489,"body_markdown":"Same issue here, any solution?","body":"Same issue here, any solution?"}],"answers":[{"tags":[],"owner":{"account_id":35316,"reputation":11836,"user_id":99994,"accept_rate":80,"display_name":"larham1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391039667,"creation_date":1391039667,"answer_id":21445248,"question_id":10743241,"body_markdown":"I see similar, infrequent reports from a popular free app.  I haven&#39;t reproduced it so far.  There are [various][1] [references][2] to this [problem][3] sprinkled around the web, not all involving Android.\r\n\r\nOne clue: the ZoneInfoMap is a resource file in the original jar, not a class. So if any of the various app markets was stripping out non-class information (e.g. unjar then re-jar), ZoneInfoMap would be a candidate. Likewise, if any classloader utility had an issue, for security or stupidity, with non-class resources, ZoneInfoMap would be a candidate. \r\n\r\nAnother angle: could the problematic runtime environment have its own joda-time jar earlier in the classpath, one that lacks a /data/ segment?   \r\n\r\nBottom line: seems like this is another example of the Wild West of Android, one that I&#39;ve learned to ignore until I can find a repro.\r\n\r\n\r\n  [1]: http://joda-interest.219941.n2.nabble.com/java-io-IOException-Resource-not-found-quot-org-joda-time-tz-data-ZoneInfoMap-td7572448.html\r\n  [2]: https://community.oracle.com/thread/1314018?start=0\r\n  [3]: http://sourceforge.net/p/joda-time/discussion/337835/thread/2798a578/","title":"Only some users reporting &quot;Resource Not Found&quot; error. Does this make sense?","body":"<p>I see similar, infrequent reports from a popular free app.  I haven't reproduced it so far.  There are <a href=\"http://joda-interest.219941.n2.nabble.com/java-io-IOException-Resource-not-found-quot-org-joda-time-tz-data-ZoneInfoMap-td7572448.html\" rel=\"nofollow\">various</a> <a href=\"https://community.oracle.com/thread/1314018?start=0\" rel=\"nofollow\">references</a> to this <a href=\"http://sourceforge.net/p/joda-time/discussion/337835/thread/2798a578/\" rel=\"nofollow\">problem</a> sprinkled around the web, not all involving Android.</p>\n\n<p>One clue: the ZoneInfoMap is a resource file in the original jar, not a class. So if any of the various app markets was stripping out non-class information (e.g. unjar then re-jar), ZoneInfoMap would be a candidate. Likewise, if any classloader utility had an issue, for security or stupidity, with non-class resources, ZoneInfoMap would be a candidate. </p>\n\n<p>Another angle: could the problematic runtime environment have its own joda-time jar earlier in the classpath, one that lacks a /data/ segment?   </p>\n\n<p>Bottom line: seems like this is another example of the Wild West of Android, one that I've learned to ignore until I can find a repro.</p>\n"},{"tags":[],"owner":{"account_id":2879004,"reputation":543,"user_id":2470297,"accept_rate":33,"display_name":"bearlysophisticated"},"down_vote_count":0,"up_vote_count":80,"is_accepted":true,"score":80,"last_activity_date":1425749563,"creation_date":1425749563,"answer_id":28917836,"question_id":10743241,"body_markdown":"This can happen in the case you miss initialization:\r\n\r\n    JodaTimeAndroid.init(this);","title":"Only some users reporting &quot;Resource Not Found&quot; error. Does this make sense?","body":"<p>This can happen in the case you miss initialization:</p>\n\n<pre><code>JodaTimeAndroid.init(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4657354,"reputation":619,"user_id":3772575,"display_name":"user1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431438436,"creation_date":1431438436,"answer_id":30192826,"question_id":10743241,"body_markdown":"I have had the same problem and after a good deal of digging searching on google I figured it out. The ZoneInfoMap file is created by running jodaTime (ZoneInfoCompiler) with the arguments:\r\n\r\n        -dst src\\org\\joda\\time\\tz\\data src\\org\\joda\\time\\tz\\src\\africa \r\n    src\\org\\joda\\time\\tz\\src\\antarctica src\\org\\joda\\time\\tz\\src\\asia \r\n    src\\org\\joda\\time\\tz\\src\\australasia src\\org\\joda\\time\\tz\\src\\backward \r\n    src\\org\\joda\\time\\tz\\src\\etcetera src\\org\\joda\\time\\tz\\src\\europe \r\n    src\\org\\joda\\time\\tz\\src\\northamerica src\\org\\joda\\time\\tz\\src\\pacificnew \r\n    src\\org\\joda\\time\\tz\\src\\southamerica src\\org\\joda\\time\\tz\\src\\systemv\r\n\r\n\r\nThis will add all the timezone to the jodaTimer, you can create more time Zone areas I believe if you know how as well, and you do not have to include all of them if you don&#39;t need all of them.\r\n\r\nwhy it crashes with that error is because it is looking for a file that is not there. Not sure exactly why try catch is not working but I suspect it has something to do with the fact that the jodaTimer is a JAR library (mine was at least)?\r\n\r\n\r\nNot sure if this is how it is meant to be done or if there is a better solution but that&#39;s what i did and it works for me perfectly now.\r\n\r\n\r\nreferences that helped m come to this conclusion:\r\nhttp://joda-interest.219941.n2.nabble.com/How-to-run-Joda-time-s-test-Resource-Not-Found-exception-td5913668.html\r\nhttp://sourceforge.net/p/joda-time/discussion/337835/thread/2798a578/\r\n\r\n\r\nI hope this helps. \r\n\r\n\r\n","title":"Only some users reporting &quot;Resource Not Found&quot; error. Does this make sense?","body":"<p>I have had the same problem and after a good deal of digging searching on google I figured it out. The ZoneInfoMap file is created by running jodaTime (ZoneInfoCompiler) with the arguments:</p>\n\n<pre><code>    -dst src\\org\\joda\\time\\tz\\data src\\org\\joda\\time\\tz\\src\\africa \nsrc\\org\\joda\\time\\tz\\src\\antarctica src\\org\\joda\\time\\tz\\src\\asia \nsrc\\org\\joda\\time\\tz\\src\\australasia src\\org\\joda\\time\\tz\\src\\backward \nsrc\\org\\joda\\time\\tz\\src\\etcetera src\\org\\joda\\time\\tz\\src\\europe \nsrc\\org\\joda\\time\\tz\\src\\northamerica src\\org\\joda\\time\\tz\\src\\pacificnew \nsrc\\org\\joda\\time\\tz\\src\\southamerica src\\org\\joda\\time\\tz\\src\\systemv\n</code></pre>\n\n<p>This will add all the timezone to the jodaTimer, you can create more time Zone areas I believe if you know how as well, and you do not have to include all of them if you don't need all of them.</p>\n\n<p>why it crashes with that error is because it is looking for a file that is not there. Not sure exactly why try catch is not working but I suspect it has something to do with the fact that the jodaTimer is a JAR library (mine was at least)?</p>\n\n<p>Not sure if this is how it is meant to be done or if there is a better solution but that's what i did and it works for me perfectly now.</p>\n\n<p>references that helped m come to this conclusion:\n<a href=\"http://joda-interest.219941.n2.nabble.com/How-to-run-Joda-time-s-test-Resource-Not-Found-exception-td5913668.html\" rel=\"nofollow\">http://joda-interest.219941.n2.nabble.com/How-to-run-Joda-time-s-test-Resource-Not-Found-exception-td5913668.html</a>\n<a href=\"http://sourceforge.net/p/joda-time/discussion/337835/thread/2798a578/\" rel=\"nofollow\">http://sourceforge.net/p/joda-time/discussion/337835/thread/2798a578/</a></p>\n\n<p>I hope this helps. </p>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656980304,"creation_date":1656980304,"answer_id":72862939,"question_id":10743241,"body_markdown":"Not crash but in Unit test, I see the same error message \r\n`java.io.IOException: Resource not found: &quot;org/joda/time/tz/data/ZoneInfoMap&quot;`\r\nwhen call to `DateTimeFormatter` class with [joda-time-android][1]\r\n\r\nAdd [joda-time][2] java dependency to test source set will fix the error in Unit test\r\n\r\n`testImplementation &quot;joda-time:joda-time:$latestVersion&quot;`\r\n\r\n\r\n  [1]: https://github.com/dlew/joda-time-android\r\n  [2]: https://github.com/JodaOrg/joda-time","title":"Only some users reporting &quot;Resource Not Found&quot; error. Does this make sense?","body":"<p>Not crash but in Unit test, I see the same error message\n<code>java.io.IOException: Resource not found: &quot;org/joda/time/tz/data/ZoneInfoMap&quot;</code>\nwhen call to <code>DateTimeFormatter</code> class with <a href=\"https://github.com/dlew/joda-time-android\" rel=\"nofollow noreferrer\">joda-time-android</a></p>\n<p>Add <a href=\"https://github.com/JodaOrg/joda-time\" rel=\"nofollow noreferrer\">joda-time</a> java dependency to test source set will fix the error in Unit test</p>\n<p><code>testImplementation &quot;joda-time:joda-time:$latestVersion&quot;</code></p>\n"}],"owner":{"account_id":1010446,"reputation":2485,"user_id":1023127,"accept_rate":85,"display_name":"jvnbt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7828,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":28917836,"answer_count":4,"score":36,"last_activity_date":1656980304,"creation_date":1337884140,"question_id":10743241,"body_markdown":"I am seeing a a couple of errors coming up on Crittercism (Crash reporting service) for my published Android app. The trace is the following:\r\n\r\n    0\tjava.io.IOException: Resource not found: &quot;org/joda/time/tz/data/ZoneInfoMap&quot; ClassLoader: dalvik.system.PathClassLoader@45908320\r\n    1\t at org.joda.time.tz.ZoneInfoProvider.openResource(ZoneInfoProvider.java:211)\r\n    2\t at org.joda.time.tz.ZoneInfoProvider.&lt;init&gt;(ZoneInfoProvider.java:123)\r\n    3\t at org.joda.time.tz.ZoneInfoProvider.&lt;init&gt;(ZoneInfoProvider.java:82)\r\n    4\t at org.joda.time.DateTimeZone.getDefaultProvider(DateTimeZone.java:462)\r\n    5\t at org.joda.time.DateTimeZone.setProvider0(DateTimeZone.java:416)\r\n    6\t at org.joda.time.DateTimeZone.&lt;clinit&gt;(DateTimeZone.java:115)\r\n    7\t at org.joda.time.chrono.GregorianChronology.&lt;clinit&gt;(GregorianChronology.java:71)\r\n    8\t at org.joda.time.chrono.ISOChronology.&lt;clinit&gt;(ISOChronology.java:66)\r\n    9\t at org.joda.time.base.BaseDateTime.&lt;init&gt;(BaseDateTime.java:61)\r\n    10\t at org.joda.time.DateTime.&lt;init&gt;(DateTime.java:155)\r\n\r\nSearching shows this this is usually a compiling problem (Usually that the Joda Time Library was not added to the build path or something), but then why would only about 4 users out of a couple thousand see this error?\r\n\r\nMy only guess is that someone is trying to decompile the app to pirate it (Its a fairly popular paid app), and sees this error when they incorrectly re-compiled. In that case I am glad they are seeing errors and I dont need to worry about this.\r\n\r\nThe other weird thing is that the code causing the problem was surrounded by a try/catch, which didnt seem to catch it:\r\n\r\n    try {\r\n        DateTime dt = new DateTime();\r\n        DateTimeFormatter fmt = ISODateTimeFormat.dateTime();\r\n        return fmt.print(dt);\r\n    } catch (Exception e) {\r\n        //Report issue to Analytics service\r\n    } \r\n\r\nWhich to me, makes it seem even more unlikely that this error would show up on Crittercism, since it should&#39;ve been caught. Can anyone explain this?\r\n","title":"Only some users reporting &quot;Resource Not Found&quot; error. Does this make sense?","body":"<p>I am seeing a a couple of errors coming up on Crittercism (Crash reporting service) for my published Android app. The trace is the following:</p>\n\n<pre><code>0   java.io.IOException: Resource not found: \"org/joda/time/tz/data/ZoneInfoMap\" ClassLoader: dalvik.system.PathClassLoader@45908320\n1    at org.joda.time.tz.ZoneInfoProvider.openResource(ZoneInfoProvider.java:211)\n2    at org.joda.time.tz.ZoneInfoProvider.&lt;init&gt;(ZoneInfoProvider.java:123)\n3    at org.joda.time.tz.ZoneInfoProvider.&lt;init&gt;(ZoneInfoProvider.java:82)\n4    at org.joda.time.DateTimeZone.getDefaultProvider(DateTimeZone.java:462)\n5    at org.joda.time.DateTimeZone.setProvider0(DateTimeZone.java:416)\n6    at org.joda.time.DateTimeZone.&lt;clinit&gt;(DateTimeZone.java:115)\n7    at org.joda.time.chrono.GregorianChronology.&lt;clinit&gt;(GregorianChronology.java:71)\n8    at org.joda.time.chrono.ISOChronology.&lt;clinit&gt;(ISOChronology.java:66)\n9    at org.joda.time.base.BaseDateTime.&lt;init&gt;(BaseDateTime.java:61)\n10   at org.joda.time.DateTime.&lt;init&gt;(DateTime.java:155)\n</code></pre>\n\n<p>Searching shows this this is usually a compiling problem (Usually that the Joda Time Library was not added to the build path or something), but then why would only about 4 users out of a couple thousand see this error?</p>\n\n<p>My only guess is that someone is trying to decompile the app to pirate it (Its a fairly popular paid app), and sees this error when they incorrectly re-compiled. In that case I am glad they are seeing errors and I dont need to worry about this.</p>\n\n<p>The other weird thing is that the code causing the problem was surrounded by a try/catch, which didnt seem to catch it:</p>\n\n<pre><code>try {\n    DateTime dt = new DateTime();\n    DateTimeFormatter fmt = ISODateTimeFormat.dateTime();\n    return fmt.print(dt);\n} catch (Exception e) {\n    //Report issue to Analytics service\n} \n</code></pre>\n\n<p>Which to me, makes it seem even more unlikely that this error would show up on Crittercism, since it should've been caught. Can anyone explain this?</p>\n"},{"tags":["java","database","hibernate","orm","hibernate-mapping"],"comments":[{"owner":{"account_id":117564,"reputation":61,"user_id":307812,"display_name":"Tom"},"score":0,"creation_date":1270229303,"post_id":2568096,"comment_id":2572880,"body_markdown":"If it helps I can mention that I am mapping an HL7v3 clinical document RIM type to a database XML column. Logical equality does not necessarily imply serialized form equality. The serialized form is an XML String.","body":"If it helps I can mention that I am mapping an HL7v3 clinical document RIM type to a database XML column. Logical equality does not necessarily imply serialized form equality. The serialized form is an XML String."},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1270233475,"post_id":2568096,"comment_id":2573307,"body_markdown":"You&#39;re reading this API, right? http://docs.jboss.org/hibernate/stable/core/api/org/hibernate/usertype/UserType.html","body":"You&#39;re reading this API, right? <a href=\"http://docs.jboss.org/hibernate/stable/core/api/org/hibernate/usertype/UserType.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/core/api/org/hibernate/usert&zwnj;&#8203;ype/&hellip;</a>"},{"owner":{"account_id":117564,"reputation":61,"user_id":307812,"display_name":"Tom"},"score":0,"creation_date":1270254199,"post_id":2568096,"comment_id":2575076,"body_markdown":"Right, that is the API. Doesn&#39;t explain when equals is used or the purpose of the parameters in assemble (for example). I&#39;d like more confidence in my implementation, so i want to know exactly when and how each method is being used.","body":"Right, that is the API. Doesn&#39;t explain when equals is used or the purpose of the parameters in assemble (for example). I&#39;d like more confidence in my implementation, so i want to know exactly when and how each method is being used."}],"owner":{"account_id":117564,"reputation":61,"user_id":307812,"display_name":"Tom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1656977071,"creation_date":1270229172,"question_id":2568096,"body_markdown":"I am creating a custom UserType class in Hibernate. The specific case is for an HL7v3 clinical document (I work in health IT). It is a mutable object and most of the documentation around the Hibernate UserType interface seems to center around immutable types. I want a better understanding of how and when the interface methods are used, specifically:\r\n\r\nassemble - why two parameters (one Serializable, one Object)? What is the use case for this method?\r\n\r\ndisassemble - should I just implement this method to return a serializable form (e.g. String representation)? When and how is this method invoked?\r\n\r\nequals - is this for update? read? contention? dirty reads? What are the consequences of simply returning false in most cases? \r\n\r\nreplace - I really don&#39;t understand where the three Object parameters come from, when this method is invoked, and what Hibernate expects to return, or how that return value is used. \r\n\r\nAny pointers would be appreciated. I&#39;ve searched and read all I can find on the subject, but have not found much documentation at all explaining how these methods are used for mutable objects.\r\n\r\n","title":"Looking for detailed explanation of Hibernate UserType methods for mutable objects","body":"<p>I am creating a custom UserType class in Hibernate. The specific case is for an HL7v3 clinical document (I work in health IT). It is a mutable object and most of the documentation around the Hibernate UserType interface seems to center around immutable types. I want a better understanding of how and when the interface methods are used, specifically:</p>\n\n<p>assemble - why two parameters (one Serializable, one Object)? What is the use case for this method?</p>\n\n<p>disassemble - should I just implement this method to return a serializable form (e.g. String representation)? When and how is this method invoked?</p>\n\n<p>equals - is this for update? read? contention? dirty reads? What are the consequences of simply returning false in most cases? </p>\n\n<p>replace - I really don't understand where the three Object parameters come from, when this method is invoked, and what Hibernate expects to return, or how that return value is used. </p>\n\n<p>Any pointers would be appreciated. I've searched and read all I can find on the subject, but have not found much documentation at all explaining how these methods are used for mutable objects.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1656980219,"post_id":72862503,"comment_id":128696085,"body_markdown":"The code in your observer is a [callback](https://stackoverflow.com/a/70178210/9473786) - it doesn&#39;t run until something in the ViewModel posts a value to the LiveData it is observing. The code &quot;between the {}&quot; does not run in sequence with the surrounding code...  It runs later in time, so the stuff after the &quot;{}&quot; runs first, while the array is still empty. At a minimum, you would need to call `adapter.notifyDataSetChanged()` inside the observer to let it know that the array was updated when it *does* run in the future.","body":"The code in your observer is a <a href=\"https://stackoverflow.com/a/70178210/9473786\">callback</a> - it doesn&#39;t run until something in the ViewModel posts a value to the LiveData it is observing. The code &quot;between the {}&quot; does not run in sequence with the surrounding code...  It runs later in time, so the stuff after the &quot;{}&quot; runs first, while the array is still empty. At a minimum, you would need to call <code>adapter.notifyDataSetChanged()</code> inside the observer to let it know that the array was updated when it <i>does</i> run in the future."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1656980475,"post_id":72862503,"comment_id":128696127,"body_markdown":"Also, if the list of instructors in the ViewModel is constant and available immediately (not fetched from a database or something asynchronous) then it doesn&#39;t have to be a LiveData here and you could just return it directly to populate the adapter. LiveData is most useful for things that are fetched later in time or may be updated.","body":"Also, if the list of instructors in the ViewModel is constant and available immediately (not fetched from a database or something asynchronous) then it doesn&#39;t have to be a LiveData here and you could just return it directly to populate the adapter. LiveData is most useful for things that are fetched later in time or may be updated."}],"answers":[{"tags":[],"owner":{"account_id":25726519,"reputation":1,"user_id":19482804,"display_name":"Newby Dooby Doo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656976861,"creation_date":1656976861,"answer_id":72862729,"question_id":72862503,"body_markdown":"SOLVED I&#39;ve moved all of the spinner and adapter related code between the {} after termViewModel.getAllInstructor() and now it works, but I swear it should be letting me copy a list from my ViewModel and assign it to a list in my onCreateView() method. If I&#39;m missing something obvious please point it out &#128517;","title":"How do I get a list from my ViewModel to display in my spinner and be selectable?","body":"<p>SOLVED I've moved all of the spinner and adapter related code between the {} after termViewModel.getAllInstructor() and now it works, but I swear it should be letting me copy a list from my ViewModel and assign it to a list in my onCreateView() method. If I'm missing something obvious please point it out 😅</p>\n"}],"owner":{"account_id":25726519,"reputation":1,"user_id":19482804,"display_name":"Newby Dooby Doo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656976861,"creation_date":1656973614,"question_id":72862503,"body_markdown":"Currently, my spinner can get the list of instructors and accurately displays it in the spinner drop down menu, but the spinner has no default value and even after selecting a value in the drop down menu it stays blank. Trying to get the value in onItemSelected reveals that selecting any value in the drop down still returns null. The thing that is confusing me is that my custom adapter can clearly see that the list is properly saved outside the ViewModel, otherwise the spinner dropdown wouldn&#39;t show the correct values at all, but the println just below the adapter declaration always returns the size of the list as 0.\r\n\r\nFixes I&#39;ve tried ~\r\n\r\nChanged sizing of the spinner and it&#39;s contents\r\n\r\nChanged the color of the text\r\n\r\nCreated a custom spinner_item.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;TextView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:textSize=&quot;20sp&quot;\r\n    android:gravity=&quot;start&quot;\r\n    android:textColor=&quot;#000000&quot;\r\n    android:padding=&quot;10dp&quot;\r\n    /&gt;\r\n```\r\n\r\n```\r\ntermViewModel = new ViewModelProvider(this).get(TermViewModel.class);\r\n\r\n        List&lt;Entities.Instructor&gt; allInstructor = new ArrayList&lt;&gt;();\r\n        termViewModel.getAllInstructor().observe(getViewLifecycleOwner(), instructors -&gt;{\r\n            allInstructor.addAll(instructors);\r\n            System.out.println(&quot;allInstructor size in the termViewModel is: &quot; + allInstructor.size());\r\n        });\r\n        ArrayAdapter&lt;Entities.Instructor&gt; adapter = new ArrayAdapter&lt;&gt;(getActivity(), R.layout.spinner_item,\r\n                allInstructor);\r\n        System.out.println(&quot;outside of termViewModel: &quot; + allInstructor.size());\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        instructorSpinner.setAdapter(adapter);\r\n        adapter.notifyDataSetChanged();\r\n\r\n\r\n        instructorSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                spinnerText = instructorSpinner.getSelectedItem().toString();\r\n                System.out.println(spinnerText);\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n            }\r\n        });\r\n```","title":"How do I get a list from my ViewModel to display in my spinner and be selectable?","body":"<p>Currently, my spinner can get the list of instructors and accurately displays it in the spinner drop down menu, but the spinner has no default value and even after selecting a value in the drop down menu it stays blank. Trying to get the value in onItemSelected reveals that selecting any value in the drop down still returns null. The thing that is confusing me is that my custom adapter can clearly see that the list is properly saved outside the ViewModel, otherwise the spinner dropdown wouldn't show the correct values at all, but the println just below the adapter declaration always returns the size of the list as 0.</p>\n<p>Fixes I've tried ~</p>\n<p>Changed sizing of the spinner and it's contents</p>\n<p>Changed the color of the text</p>\n<p>Created a custom spinner_item.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;TextView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:textSize=&quot;20sp&quot;\n    android:gravity=&quot;start&quot;\n    android:textColor=&quot;#000000&quot;\n    android:padding=&quot;10dp&quot;\n    /&gt;\n</code></pre>\n<pre><code>termViewModel = new ViewModelProvider(this).get(TermViewModel.class);\n\n        List&lt;Entities.Instructor&gt; allInstructor = new ArrayList&lt;&gt;();\n        termViewModel.getAllInstructor().observe(getViewLifecycleOwner(), instructors -&gt;{\n            allInstructor.addAll(instructors);\n            System.out.println(&quot;allInstructor size in the termViewModel is: &quot; + allInstructor.size());\n        });\n        ArrayAdapter&lt;Entities.Instructor&gt; adapter = new ArrayAdapter&lt;&gt;(getActivity(), R.layout.spinner_item,\n                allInstructor);\n        System.out.println(&quot;outside of termViewModel: &quot; + allInstructor.size());\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        instructorSpinner.setAdapter(adapter);\n        adapter.notifyDataSetChanged();\n\n\n        instructorSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                spinnerText = instructorSpinner.getSelectedItem().toString();\n                System.out.println(spinnerText);\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","desktop-application","executable-jar","auto-update"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1427186514,"post_id":29228120,"comment_id":46663067,"body_markdown":"Be sure to let us know if you are successful or not","body":"Be sure to let us know if you are successful or not"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1427186820,"post_id":29228120,"comment_id":46663225,"body_markdown":"Are you sure it makes sense to update your &quot;main UI&quot; without stopping the application? I once created a huge application that would support a number of plugins; and each of this plugins could be updated &quot;on the fly&quot;. But in order to update your &quot;main UI&quot; ... you will have to &quot;stop it&quot; anyway (as you will have to discard the class loader that you used to load the JAR contents). Meaning: the user will experience an &quot;outage&quot; anyway; so why all the effort to unload a JAR, load a new one (with progress bar)? It would be much easier to just stop the application and have an independent &quot;upgrade app&quot;.","body":"Are you sure it makes sense to update your &quot;main UI&quot; without stopping the application? I once created a huge application that would support a number of plugins; and each of this plugins could be updated &quot;on the fly&quot;. But in order to update your &quot;main UI&quot; ... you will have to &quot;stop it&quot; anyway (as you will have to discard the class loader that you used to load the JAR contents). Meaning: the user will experience an &quot;outage&quot; anyway; so why all the effort to unload a JAR, load a new one (with progress bar)? It would be much easier to just stop the application and have an independent &quot;upgrade app&quot;."},{"owner":{"account_id":5806603,"reputation":328,"user_id":4579026,"display_name":"Christoph Giesche"},"score":0,"creation_date":1427187156,"post_id":29228120,"comment_id":46663402,"body_markdown":"You could think about some kind of &quot;launcher&quot;-application that starts the main app. The launcher can update the main app, before starting it.","body":"You could think about some kind of &quot;launcher&quot;-application that starts the main app. The launcher can update the main app, before starting it."},{"owner":{"account_id":5150981,"reputation":329,"user_id":4125603,"accept_rate":60,"display_name":"Amrida D"},"score":0,"creation_date":1427187757,"post_id":29228120,"comment_id":46663692,"body_markdown":"The idea is that the inner jar has to be extracted from the main jar, the main jar will stop running, and the inner jar will display the progress bar and the image. Also the inner jar will replace the main jar(copy a new jar from another location over the main jar) and after that it will launch the new main jar and exit.Hard to implement. I have to extract the inner jar while the main jar is running. How can I do this?","body":"The idea is that the inner jar has to be extracted from the main jar, the main jar will stop running, and the inner jar will display the progress bar and the image. Also the inner jar will replace the main jar(copy a new jar from another location over the main jar) and after that it will launch the new main jar and exit.Hard to implement. I have to extract the inner jar while the main jar is running. How can I do this?"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427188437,"creation_date":1427188437,"answer_id":29228718,"question_id":29228120,"body_markdown":"You can have a starter jar that checks for updates and launches the app from the main jar.\r\n\r\nIt will show start logo, an image, that standard java can display at start-up.\r\nThe start0er could also be used to restart the app in another interface language.\r\n\r\n    package starter;\r\n    ...\r\n    public class StarterApp {\r\n        public static void main(String[] args) {\r\n            String workDir = System.getProperty(&quot;user.dir&quot;);\r\n            Path mainJar = Paths.get(workDir + &quot;...&quot;);\r\n            Path nextMainJar = Paths.get(workDir + &quot;...&quot;);\r\n            if (Files.exists(nextMainJar)) {\r\n                Files.copy(nextMainJar, mainJar, StandardCopyAction.REPLACE_EXISTING);\r\n            }\r\n            URLClassLoader classLoader = new URLClassLoader(new URL[] {mainJar.toURL()});\r\n            Class&lt;?&gt; appClass = classLoader.find(&quot;mainjar.MainApp&quot;);\r\n            ... instantiate the app\r\n        }\r\n\r\nAs you see the main jar must not be loaded from too early, maybe not be on the class path entirely, and hence the use of a separate ClassLoader. The same might probably be done with the main jar _on_ the class path of the starter app, and using `Class.forName(&quot;mainjar.MainApp&quot;)`. The Class-Path can be specified in META-INF/MANIFEST.MF.\r\n\r\nThe secundary jars may reside in a lib/ directory.\r\n\r\nFor those readers wanting more modular, service oriented, updateable apps, one could make an **OSGi** application, a container for bundles (=jars), that provide exchangable services and life-time control.\r\n ","title":"Update java desktop app","body":"<p>You can have a starter jar that checks for updates and launches the app from the main jar.</p>\n\n<p>It will show start logo, an image, that standard java can display at start-up.\nThe start0er could also be used to restart the app in another interface language.</p>\n\n<pre><code>package starter;\n...\npublic class StarterApp {\n    public static void main(String[] args) {\n        String workDir = System.getProperty(\"user.dir\");\n        Path mainJar = Paths.get(workDir + \"...\");\n        Path nextMainJar = Paths.get(workDir + \"...\");\n        if (Files.exists(nextMainJar)) {\n            Files.copy(nextMainJar, mainJar, StandardCopyAction.REPLACE_EXISTING);\n        }\n        URLClassLoader classLoader = new URLClassLoader(new URL[] {mainJar.toURL()});\n        Class&lt;?&gt; appClass = classLoader.find(\"mainjar.MainApp\");\n        ... instantiate the app\n    }\n</code></pre>\n\n<p>As you see the main jar must not be loaded from too early, maybe not be on the class path entirely, and hence the use of a separate ClassLoader. The same might probably be done with the main jar <em>on</em> the class path of the starter app, and using <code>Class.forName(\"mainjar.MainApp\")</code>. The Class-Path can be specified in META-INF/MANIFEST.MF.</p>\n\n<p>The secundary jars may reside in a lib/ directory.</p>\n\n<p>For those readers wanting more modular, service oriented, updateable apps, one could make an <strong>OSGi</strong> application, a container for bundles (=jars), that provide exchangable services and life-time control.</p>\n"},{"tags":[],"owner":{"account_id":4500973,"reputation":395,"user_id":3659492,"accept_rate":78,"display_name":"Mahbubur Rahman Khan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656976832,"creation_date":1470749317,"answer_id":38852176,"question_id":29228120,"body_markdown":"Run this code when press **UPDATE** button ..\r\n\r\n           if(Desktop.isDesktopSupported()){\r\n                try {\r\n                    Desktop.getDesktop().open(new File(&quot;update.jar&quot;));\r\n                    System.exit(0);\r\n                } catch (IOException ex) {                \r\n                }            \r\n            }\r\n        \r\nThis will open **update.jar** and close **main.jar**. Now run this code from main class of **update.jar**\r\n       \r\n\r\n \r\n        \r\n\r\n               //wait sometime for terminate main.jar\r\n\r\n               try{\r\n                  Thread.sleep(5000);\r\n               } catch(Exception e){\r\n                  e.printStackTrace();\r\n               }\r\n        \r\n    \r\n            if(isUpdateVersionAvailable()) { //first check update from database\r\n              \r\n               if(copyMainJarFileFromServer()){ //copy newMain.jar from server and paste\r\n                  new File(&quot;main.jar&quot;).delete(); //delete main.jar                  \r\n                  rename(new File(&quot;newMain.jar&quot;)); //rename newMain.jar to main.jar\r\n                }\r\n            }\r\n                \r\n            boolean isUpdateVersionAvailable() {\r\n                      //todo\r\n            }\r\n            boolean copyMainJarFileFromServer() {\r\n                      //todo\r\n            }\r\n            void rename(File file){\r\n             file.renameTo(new File(&quot;main.jar&quot;));\r\n            }","title":"Update java desktop app","body":"<p>Run this code when press <strong>UPDATE</strong> button ..</p>\n<pre><code>       if(Desktop.isDesktopSupported()){\n            try {\n                Desktop.getDesktop().open(new File(&quot;update.jar&quot;));\n                System.exit(0);\n            } catch (IOException ex) {                \n            }            \n        }\n    \n</code></pre>\n<p>This will open <strong>update.jar</strong> and close <strong>main.jar</strong>. Now run this code from main class of <strong>update.jar</strong></p>\n<pre><code>           //wait sometime for terminate main.jar\n\n           try{\n              Thread.sleep(5000);\n           } catch(Exception e){\n              e.printStackTrace();\n           }\n    \n\n        if(isUpdateVersionAvailable()) { //first check update from database\n          \n           if(copyMainJarFileFromServer()){ //copy newMain.jar from server and paste\n              new File(&quot;main.jar&quot;).delete(); //delete main.jar                  \n              rename(new File(&quot;newMain.jar&quot;)); //rename newMain.jar to main.jar\n            }\n        }\n            \n        boolean isUpdateVersionAvailable() {\n                  //todo\n        }\n        boolean copyMainJarFileFromServer() {\n                  //todo\n        }\n        void rename(File file){\n         file.renameTo(new File(&quot;main.jar&quot;));\n        }\n</code></pre>\n"}],"owner":{"account_id":5150981,"reputation":329,"user_id":4125603,"accept_rate":60,"display_name":"Amrida D"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1705,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":2,"score":2,"last_activity_date":1656976832,"creation_date":1427186463,"question_id":29228120,"body_markdown":"I am trying to develop a module that can update my running Java Desktop App.\r\nThe problem is that I have to replace the actual running jar with another jar, all the while displaying an image and a progress bar with the remaining time of the update process.\r\n\r\nOne solution I thought about is that I can put a jar in my main jar, and when launching the update process, to extract that second jar which will display the image and the progess bar, and also which will replace the old main jar with a new main jar.\r\nMy question is if this is possible and how can I do it.\r\nI do not have a lot of experience with java and java packaging so if you have any examples or links, it would be of great help for me.\r\n\r\nThank you very much.\r\nR.\r\n","title":"Update java desktop app","body":"<p>I am trying to develop a module that can update my running Java Desktop App.\nThe problem is that I have to replace the actual running jar with another jar, all the while displaying an image and a progress bar with the remaining time of the update process.</p>\n\n<p>One solution I thought about is that I can put a jar in my main jar, and when launching the update process, to extract that second jar which will display the image and the progess bar, and also which will replace the old main jar with a new main jar.\nMy question is if this is possible and how can I do it.\nI do not have a lot of experience with java and java packaging so if you have any examples or links, it would be of great help for me.</p>\n\n<p>Thank you very much.\nR.</p>\n"},{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1656973434,"post_id":72862457,"comment_id":128695238,"body_markdown":"Welcome to Stack Overflow.\nSorry, but this site is not a discussion forum or programming tutorial site.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively. \nAlso read \n[Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236/18157)","body":"Welcome to Stack Overflow. Sorry, but this site is not a discussion forum or programming tutorial site. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively.  Also read  <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is “Can someone help me?” not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656973887,"creation_date":1656973585,"answer_id":72862501,"question_id":72862457,"body_markdown":"You are using the scanner only in the beginning and then saving the values in variables. So you only use the values in your loop. Therefore you need to let the user enter new inputs every iteration of the loop.\r\n\r\nMove `inputStr` and `inputInt` inside your loop:\r\n\r\n    String inputStr = &quot;&quot;;\r\n    int inputInt;\r\n\r\n    while(!inputStr.equals(&quot;quit&quot;)){\r\n        inputStr = in.nextLine();\r\n        inputInt = in.nextInt();\r\n\r\n        System.out.println(&quot;Eating &quot; + inputInt + &quot; &quot; + inputStr + &quot; a day keeps you happy and healthy.&quot;);\r\n    } \r\n\r\n\r\n----------\r\nIn addiditon you have to make sure to enter the right input. The first (=String) can be anything on your keyboard. The second input must be an integer, so only numbers like `1, 2, 230, -4, ...`. That&#39;s where your error comes from.","title":"While loops continues until specific user input is triggered","body":"<p>You are using the scanner only in the beginning and then saving the values in variables. So you only use the values in your loop. Therefore you need to let the user enter new inputs every iteration of the loop.</p>\n<p>Move <code>inputStr</code> and <code>inputInt</code> inside your loop:</p>\n<pre><code>String inputStr = &quot;&quot;;\nint inputInt;\n\nwhile(!inputStr.equals(&quot;quit&quot;)){\n    inputStr = in.nextLine();\n    inputInt = in.nextInt();\n\n    System.out.println(&quot;Eating &quot; + inputInt + &quot; &quot; + inputStr + &quot; a day keeps you happy and healthy.&quot;);\n} \n</code></pre>\n<hr />\n<p>In addiditon you have to make sure to enter the right input. The first (=String) can be anything on your keyboard. The second input must be an integer, so only numbers like <code>1, 2, 230, -4, ...</code>. That's where your error comes from.</p>\n"},{"tags":[],"owner":{"account_id":16947137,"reputation":16,"user_id":12257607,"display_name":"Midnightfury"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656973846,"creation_date":1656973846,"answer_id":72862520,"question_id":72862457,"body_markdown":"Your program only asks for input once, so `inputStr` never equals quit because `inputStr` is set once and never changes.","title":"While loops continues until specific user input is triggered","body":"<p>Your program only asks for input once, so <code>inputStr</code> never equals quit because <code>inputStr</code> is set once and never changes.</p>\n"}],"owner":{"account_id":25500599,"reputation":19,"user_id":19293926,"display_name":"Brian Miller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72862501,"answer_count":2,"score":0,"last_activity_date":1656976170,"creation_date":1656973058,"question_id":72862457,"body_markdown":"This program takes a String followed by an integer as input and then outputs a sentence using the inputs. The program repeats until the string &quot;quit&quot; is typed. It appears the problem is with the nextLine() and nextInt() but I cannot wrap my head around it. I am getting the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n    \tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n    \tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n    \tat LabProgram.main(LabProgram.java:8)\r\n    \r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class LabProgram {\r\n       public static void main(String[] args) {\r\n          Scanner in = new Scanner(System.in);\r\n          \r\n          String inputStr = in.nextLine();\r\n          int inputInt = in.nextInt();\r\n          \r\n          while(!inputStr.equals(&quot;quit&quot;)){\r\n           System.out.println(&quot;Eating &quot; + inputInt + &quot; &quot; + inputStr + &quot; a day keeps you happy and healthy.&quot;);\r\n          }  \r\n       }\r\n    }\r\n\r\n\r\nThanks for the help, the following code outputs successfully:\r\n\r\n    String inputStr = &quot;&quot;;\r\n    int inputInt;\r\n    \r\n    while(!inputStr.equals(&quot;quit&quot;)){\r\n        inputStr = in.next();\r\n        inputInt = in.nextInt();\r\n        in.nextLine();   //this line throws an exception but\r\n                         //program still outputs correctly\r\n\r\n        System.out.println(&quot;Eating &quot; + inputInt + &quot; &quot; + inputStr + &quot; a day keeps you happy and healthy.&quot;);\r\n    } \r\n       }\r\n    } \r\n\r\n","title":"While loops continues until specific user input is triggered","body":"<p>This program takes a String followed by an integer as input and then outputs a sentence using the inputs. The program repeats until the string &quot;quit&quot; is typed. It appears the problem is with the nextLine() and nextInt() but I cannot wrap my head around it. I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n    at LabProgram.main(LabProgram.java:8)\n\n\nimport java.util.Scanner;\n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner in = new Scanner(System.in);\n      \n      String inputStr = in.nextLine();\n      int inputInt = in.nextInt();\n      \n      while(!inputStr.equals(&quot;quit&quot;)){\n       System.out.println(&quot;Eating &quot; + inputInt + &quot; &quot; + inputStr + &quot; a day keeps you happy and healthy.&quot;);\n      }  \n   }\n}\n</code></pre>\n<p>Thanks for the help, the following code outputs successfully:</p>\n<pre><code>String inputStr = &quot;&quot;;\nint inputInt;\n\nwhile(!inputStr.equals(&quot;quit&quot;)){\n    inputStr = in.next();\n    inputInt = in.nextInt();\n    in.nextLine();   //this line throws an exception but\n                     //program still outputs correctly\n\n    System.out.println(&quot;Eating &quot; + inputInt + &quot; &quot; + inputStr + &quot; a day keeps you happy and healthy.&quot;);\n} \n   }\n} \n</code></pre>\n"},{"tags":["java","zip","java-io"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1656973547,"post_id":72862449,"comment_id":128695254,"body_markdown":"What have you tried so far?  It shouldn&#39;t take long to test your guess.","body":"What have you tried so far?  It shouldn&#39;t take long to test your guess."},{"owner":{"account_id":14790822,"reputation":1718,"user_id":10681828,"display_name":"pavel_orekhov"},"score":0,"creation_date":1656973587,"post_id":72862449,"comment_id":128695267,"body_markdown":"I literally wrote the only option I came up with in the first paragraph. Is there a more elegant way?","body":"I literally wrote the only option I came up with in the first paragraph. Is there a more elegant way?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656974630,"post_id":72862449,"comment_id":128695406,"body_markdown":"Does that option work? Does it work on windows where file locking rules are different?","body":"Does that option work? Does it work on windows where file locking rules are different?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1656975563,"post_id":72862449,"comment_id":128695546,"body_markdown":"You may straight-up not be able to do this.  You&#39;ll have to figure out an alternate approach.","body":"You may straight-up not be able to do this.  You&#39;ll have to figure out an alternate approach."},{"owner":{"account_id":14790822,"reputation":1718,"user_id":10681828,"display_name":"pavel_orekhov"},"score":0,"creation_date":1656976069,"post_id":72862449,"comment_id":128695616,"body_markdown":"@LouisWasserman found an answer. Thanks.","body":"@LouisWasserman found an answer. Thanks."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656981895,"post_id":72862449,"comment_id":128696304,"body_markdown":"You don&#39;t. It is a serial medium. You can&#39;t do this, unless you&#39;re prepared to load the whole thing into memory, which is hardly the point of ZIP.","body":"You don&#39;t. It is a serial medium. You can&#39;t do this, unless you&#39;re prepared to load the whole thing into memory, which is hardly the point of ZIP."},{"owner":{"account_id":14790822,"reputation":1718,"user_id":10681828,"display_name":"pavel_orekhov"},"score":0,"creation_date":1656982868,"post_id":72862449,"comment_id":128696432,"body_markdown":"@user207421 yes you can, i just showed it","body":"@user207421 yes you can, i just showed it"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1657018697,"post_id":72862449,"comment_id":128704663,"body_markdown":"I suspect the best approach would be to pass in a callable object to the method which traverses the ZipInputStream, and have that method invoke the callable for each zip entry.  That callable object could be a java.util.concurrent.Callable, or it could be an implementation of a custom functional interface with a method like `void processZipEntry(InputStream entryStream) throws IOException;`.","body":"I suspect the best approach would be to pass in a callable object to the method which traverses the ZipInputStream, and have that method invoke the callable for each zip entry.  That callable object could be a java.util.concurrent.Callable, or it could be an implementation of a custom functional interface with a method like <code>void processZipEntry(InputStream entryStream) throws IOException;</code>."}],"answers":[{"tags":[],"owner":{"account_id":14790822,"reputation":1718,"user_id":10681828,"display_name":"pavel_orekhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656976020,"creation_date":1656976020,"answer_id":72862677,"question_id":72862449,"body_markdown":"Wrote this (it&#39;s in scala though, because I use scala, not Java.    \r\n\r\n    import java.io.{FileInputStream, InputStream}\r\n    import java.util.Scanner\r\n    import java.util.zip.{ZipEntry, ZipFile, ZipInputStream}\r\n    import scala.collection.mutable.ListBuffer\r\n    \r\n    object ZipTest {\r\n      def main(args: Array[String]): Unit = {\r\n        val zipFile = new ZipFile(&quot;/path/to/file&quot;)\r\n        val entries = zipFile.entries()\r\n        val listBuffer = new ListBuffer[InputStream]\r\n        while (entries.hasMoreElements) {\r\n          val entry = entries.nextElement()\r\n          if(!entry.isDirectory) {\r\n            val stream = zipFile.getInputStream(entry)\r\n            listBuffer.addOne(stream)\r\n          }\r\n        }\r\n        // small usage example\r\n        var scanner = new Scanner(listBuffer(2))\r\n        while(scanner.hasNextLine){\r\n          println(scanner.nextLine())\r\n        }\r\n    \r\n        scanner = new Scanner(listBuffer(0))\r\n        while(scanner.hasNextLine){\r\n          println(scanner.nextLine())\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nI actually found this approach in the top answer from here: https://stackoverflow.com/questions/15667125/read-content-from-files-which-are-inside-zip-file","title":"How do I get multiple InputStreams for each entry of a ZipInputStream, to read from those InputStreams later?","body":"<p>Wrote this (it's in scala though, because I use scala, not Java.</p>\n<pre><code>import java.io.{FileInputStream, InputStream}\nimport java.util.Scanner\nimport java.util.zip.{ZipEntry, ZipFile, ZipInputStream}\nimport scala.collection.mutable.ListBuffer\n\nobject ZipTest {\n  def main(args: Array[String]): Unit = {\n    val zipFile = new ZipFile(&quot;/path/to/file&quot;)\n    val entries = zipFile.entries()\n    val listBuffer = new ListBuffer[InputStream]\n    while (entries.hasMoreElements) {\n      val entry = entries.nextElement()\n      if(!entry.isDirectory) {\n        val stream = zipFile.getInputStream(entry)\n        listBuffer.addOne(stream)\n      }\n    }\n    // small usage example\n    var scanner = new Scanner(listBuffer(2))\n    while(scanner.hasNextLine){\n      println(scanner.nextLine())\n    }\n\n    scanner = new Scanner(listBuffer(0))\n    while(scanner.hasNextLine){\n      println(scanner.nextLine())\n    }\n  }\n}\n</code></pre>\n<p>I actually found this approach in the top answer from here: <a href=\"https://stackoverflow.com/questions/15667125/read-content-from-files-which-are-inside-zip-file\">Read Content from Files which are inside Zip file</a></p>\n"}],"owner":{"account_id":14790822,"reputation":1718,"user_id":10681828,"display_name":"pavel_orekhov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72862677,"answer_count":1,"score":-1,"last_activity_date":1656976020,"creation_date":1656972985,"question_id":72862449,"body_markdown":"When we create a `ZipInputStream` `z`, we call `getNextEntry` on it and then read from `z`, in order to get the contents of the next file. I, however, need to get `ZipInputStream`s for those files to read from them later. How do I do that? Just create `n` `ZipInputStreams`, and call `getNextEntry` on the first one 1 time, on the second one 2 times, ..., on the nth one n times? Is there a more elegant way to do that than this?\r\n\r\nI can&#39;t just read each entry into an array of bytes, because that will consume too much RAM, when the files are large and the max size of such a file can only be 2 gigs (we can&#39;t create `byte[]` arrays larger than that in Java), but I have larger files.","title":"How do I get multiple InputStreams for each entry of a ZipInputStream, to read from those InputStreams later?","body":"<p>When we create a <code>ZipInputStream</code> <code>z</code>, we call <code>getNextEntry</code> on it and then read from <code>z</code>, in order to get the contents of the next file. I, however, need to get <code>ZipInputStream</code>s for those files to read from them later. How do I do that? Just create <code>n</code> <code>ZipInputStreams</code>, and call <code>getNextEntry</code> on the first one 1 time, on the second one 2 times, ..., on the nth one n times? Is there a more elegant way to do that than this?</p>\n<p>I can't just read each entry into an array of bytes, because that will consume too much RAM, when the files are large and the max size of such a file can only be 2 gigs (we can't create <code>byte[]</code> arrays larger than that in Java), but I have larger files.</p>\n"},{"tags":["java","foreach","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656832147,"creation_date":1656827747,"answer_id":72844208,"question_id":72843610,"body_markdown":"After `XWPFTableRow copiedRow = new XWPFTableRow((CTRow) getRow1.getCtRow().copy(), table);` your `copiedRow` will be a new row pointing to a copy of the underlying `CTRow` of the `getRow1`.\r\n\r\nThen with `copiedRow.getCell(2).setText` you are changing XML content in that `CTRow`. After that, the underlying `CTRow` of the `copiedRow` is changed. Then using `.addRow(copiedRow)` you add that row to the table.\r\n\r\nAs you are doing this within a loop, you are always changing the former state of the underlying `CTRow` of the `copiedRow` by adding new content. This `CTRow` then has empty content from copied first row when loop gets started, first content after first looping, first content and second content after second looping and so on.\r\n\r\nSeems as if the new rows always sall be copies from the empty first row of the table. So do always copying the `copiedRow` from the first row as first code line **within** the loop.\r\n\r\n    ...\r\n    for (... : ...) {\r\n     XWPFTableRow copiedRow = new XWPFTableRow((CTRow)getRow1.getCtRow().copy(), table);\r\n     copiedRow.getCell(2).setText(...);\r\n     copiedRow.getCell(3).setText(...);\r\n     table.addRow(copiedRow);\r\n    }\r\n    ...\r\n\r\n","title":"How to looping XWPFTableRow .copy without duplicate","body":"<p>After <code>XWPFTableRow copiedRow = new XWPFTableRow((CTRow) getRow1.getCtRow().copy(), table);</code> your <code>copiedRow</code> will be a new row pointing to a copy of the underlying <code>CTRow</code> of the <code>getRow1</code>.</p>\n<p>Then with <code>copiedRow.getCell(2).setText</code> you are changing XML content in that <code>CTRow</code>. After that, the underlying <code>CTRow</code> of the <code>copiedRow</code> is changed. Then using <code>.addRow(copiedRow)</code> you add that row to the table.</p>\n<p>As you are doing this within a loop, you are always changing the former state of the underlying <code>CTRow</code> of the <code>copiedRow</code> by adding new content. This <code>CTRow</code> then has empty content from copied first row when loop gets started, first content after first looping, first content and second content after second looping and so on.</p>\n<p>Seems as if the new rows always sall be copies from the empty first row of the table. So do always copying the <code>copiedRow</code> from the first row as first code line <strong>within</strong> the loop.</p>\n<pre><code>...\nfor (... : ...) {\n XWPFTableRow copiedRow = new XWPFTableRow((CTRow)getRow1.getCtRow().copy(), table);\n copiedRow.getCell(2).setText(...);\n copiedRow.getCell(3).setText(...);\n table.addRow(copiedRow);\n}\n...\n</code></pre>\n"}],"owner":{"account_id":19435168,"reputation":37,"user_id":14214785,"display_name":"Agung Donga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72844208,"answer_count":1,"score":1,"last_activity_date":1656974338,"creation_date":1656815874,"question_id":72843610,"body_markdown":"I have an algorithm structure like this. How do I prevent my loop data from being duplicated? I&#39;m using [tag:apache-poi] 3.8.\r\n\r\n    XWPFTable TableArr1 = document.getTableArray(1);\r\n\t\r\n\tXWPFTableRow getRow1 = TableArr1.getRow(0);\r\n    XWPFTableRow copiedRow = new XWPFTableRow((CTRow) getRow1.getCtRow().copy(), TableArr1);\r\n    int indexCounter;\r\n\r\n    for (AuditEngagementLHA l : ListDivAndDivHead) {\r\n    \tcopiedRow.getCell(2).setText(l.getDivisionName().trim());\r\n        copiedRow.getCell(3).setText(l.getNameDisplay().trim());\r\n        TableArr1.addRow(copiedRow);\r\n\t}\r\n\r\nThe result: data row is duplicated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy expectation:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/SHkrU.png\r\n  [2]: https://i.stack.imgur.com/NZYim.png\r\n","title":"How to looping XWPFTableRow .copy without duplicate","body":"<p>I have an algorithm structure like this. How do I prevent my loop data from being duplicated? I'm using <a href=\"/questions/tagged/apache-poi\" class=\"post-tag\" title=\"show questions tagged &#39;apache-poi&#39;\" rel=\"tag\">apache-poi</a> 3.8.</p>\n<pre><code>XWPFTable TableArr1 = document.getTableArray(1);\n\nXWPFTableRow getRow1 = TableArr1.getRow(0);\nXWPFTableRow copiedRow = new XWPFTableRow((CTRow) getRow1.getCtRow().copy(), TableArr1);\nint indexCounter;\n\nfor (AuditEngagementLHA l : ListDivAndDivHead) {\n    copiedRow.getCell(2).setText(l.getDivisionName().trim());\n    copiedRow.getCell(3).setText(l.getNameDisplay().trim());\n    TableArr1.addRow(copiedRow);\n}\n</code></pre>\n<p>The result: data row is duplicated.</p>\n<p><a href=\"https://i.stack.imgur.com/SHkrU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SHkrU.png\" alt=\"enter image description here\" /></a></p>\n<p>My expectation:</p>\n<p><a href=\"https://i.stack.imgur.com/NZYim.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NZYim.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logic","game-ai"],"comments":[{"owner":{"account_id":5978608,"reputation":1697,"user_id":4698546,"display_name":"robere2"},"score":0,"creation_date":1656791444,"post_id":72841943,"comment_id":128659509,"body_markdown":"Does this answer your question? [could someone explain minimax tic tac toe algorithm](https://stackoverflow.com/questions/45822215/could-someone-explain-minimax-tic-tac-toe-algorithm)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45822215/could-someone-explain-minimax-tic-tac-toe-algorithm\">could someone explain minimax tic tac toe algorithm</a>"},{"owner":{"account_id":25710011,"reputation":1,"user_id":19468720,"display_name":"Leraner"},"score":1,"creation_date":1656791796,"post_id":72841943,"comment_id":128659581,"body_markdown":"@robere2 From my understanding, the minimax algorithm is used to look multiple moves ahead to see what is the best move. I am looking for something that would just cycle through to check if a win is possible and if not, preventing the user from winning on the next move. If there is no immediate win and the computer is not losing on the next move, I am fine with the ai making a random move.","body":"@robere2 From my understanding, the minimax algorithm is used to look multiple moves ahead to see what is the best move. I am looking for something that would just cycle through to check if a win is possible and if not, preventing the user from winning on the next move. If there is no immediate win and the computer is not losing on the next move, I am fine with the ai making a random move."}],"answers":[{"tags":[],"owner":{"account_id":22696657,"reputation":26,"user_id":16864682,"display_name":"David_RotU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656973779,"creation_date":1656791860,"answer_id":72842082,"question_id":72841943,"body_markdown":"How about you add board as a parameter in the checkGameOn method, then you can loop through and check for modified versions of your board if its a winning move and in that case thats where the computer wants draw its O. \r\n\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                if(board[i][j] != &#39;-&#39;)continue;\r\n                board[i][j] = &#39;x&#39;;\r\n                if (checkGameOn(board)) board[i][j] = &#39;o&#39;;\r\n                else board2[i][j] = &#39;-&#39;;\r\n            }\r\n        }","title":"Tic-Tac-Toe Computer Logic","body":"<p>How about you add board as a parameter in the checkGameOn method, then you can loop through and check for modified versions of your board if its a winning move and in that case thats where the computer wants draw its O.</p>\n<pre><code>    for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            if(board[i][j] != '-')continue;\n            board[i][j] = 'x';\n            if (checkGameOn(board)) board[i][j] = 'o';\n            else board2[i][j] = '-';\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25710011,"reputation":1,"user_id":19468720,"display_name":"Leraner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656973779,"creation_date":1656790533,"question_id":72841943,"body_markdown":"I am trying to make a Tic-tac-toe game where the user gets to select whether they would like to play a single player game or a two player game. I have gotten both of them to work but am trying to make the AI have some logic as to where it places its &quot;o&quot;. Currently, the computer randomly generates a row and a column and if the corresponding square in the array has a &quot;-&quot; (signifying that it is empty), it will fill it with an &quot;o&quot;. I am looking for a simple way to go through the 2d array and sees if it has a way to win. If not, it should check if the user can win and prevent them from winning. If none of them are true, then it should randomly select a square and make it&#39;s move. Also, I am relatively new to Java so if I am doing something wrong, please let me know how to do it so that I can fix it and improve my own skills. Here is the code.\r\n\r\nDriver File:\r\n```\r\npublic class DriverTicTacToe\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      TicTacToe game = new TicTacToe(); //creates an object\r\n      game.play();//this simulates the whole game from asking the number of players all the way to printing the win message.\r\n   }\r\n}\r\n```\r\n\r\nResource File:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class TicTacToe\r\n{  \r\n   //declares the symbol character that will hold either &quot;x&quot; or &quot;o&quot;\r\n   char symbol;\r\n   \r\n   //create a 3*3 array of characters that acts as the board in the game.\r\n   char[][] board = new char[3][3];\r\n   //declares multiple integers used throughout the game simulation\r\n   int player = 1, row, col, numPlayers;\r\n   //creates scanner object used to get user input\r\n   Scanner kb = new Scanner(System.in);\r\n   \r\n   //constructor that fill the board array with dashes.\r\n   public TicTacToe()\r\n   {\r\n      for(int i = 0; i &lt;3; i++)\r\n      {\r\n         for(int j = 0; j &lt; 3; j++)\r\n            board[i][j] = &#39;-&#39;;\r\n      }   \r\n   }\r\n   \r\n   //asks the user for the number of players\r\n   public int getNumPlayers()\r\n   {\r\n      System.out.println(&quot;How many players are there (1 or 2)&quot;);\r\n      numPlayers = kb.nextInt();\r\n      return numPlayers;\r\n   }\r\n   \r\n   //used to cycle through &quot;x&quot; and &quot;o&quot;\r\n   public void setSymbol(int playerNumber)\r\n   {\r\n      if (playerNumber % 2 == 1)\r\n         symbol = &#39;x&#39;;\r\n      else \r\n         symbol = &#39;o&#39;;\r\n   }  \r\n   \r\n   //prints the array as a 3*3 board\r\n   public void printBoard()\r\n   {\r\n      for(int i = 0; i &lt; 3; i++)\r\n      {\r\n         for(int j = 0; j&lt;3; j++)\r\n            System.out.print(board[i][j]);\r\n         System.out.println();\r\n      }   \r\n   }\r\n   \r\n   //checks if there is an empty place on the board\r\n   public boolean boardNotFilled()\r\n   {\r\n      for(int i = 0; i &lt; 3; i++)\r\n      {\r\n         for(int j = 0; j &lt; 3; j++)\r\n         {\r\n            if(board[i][j] == &#39;-&#39;) \r\n               return true;\r\n         }\r\n      }\r\n      return false;\r\n    }\r\n   \r\n   //checks if someone has won the game  \r\n   public boolean checkGameOn()\r\n   {\r\n      if(board[0][0] == board[0][1] &amp;&amp; board[0][1] == board[0][2] &amp;&amp; board[0][0] != &#39;-&#39;)\r\n         return false;\r\n      else if(board[1][0] == board[1][1] &amp;&amp; board[1][1] == board[1][2] &amp;&amp; board[1][0] != &#39;-&#39;)\r\n         return false;\r\n      else if(board[2][0] == board[2][1] &amp;&amp; board[2][1] == board[2][2] &amp;&amp; board[2][0] != &#39;-&#39;)\r\n         return false;\r\n      else if(board[0][0] == board[1][0] &amp;&amp; board[1][0] == board[2][0] &amp;&amp; board[0][0] != &#39;-&#39;)\r\n         return false;\r\n      else if(board[0][1] == board[1][1] &amp;&amp; board[1][1] == board[2][1] &amp;&amp; board[0][1] != &#39;-&#39;)\r\n         return false;\r\n      else if(board[0][2] == board[1][2] &amp;&amp; board[1][2] == board[2][2] &amp;&amp; board[0][2] != &#39;-&#39;)\r\n         return false;\r\n      else if(board[0][0] == board[1][1] &amp;&amp; board[1][1] == board[2][2] &amp;&amp; board[0][0] != &#39;-&#39;)\r\n         return false;\r\n      else if(board[0][2] == board[1][1] &amp;&amp; board[1][1] == board[2][0] &amp;&amp; board[0][2] != &#39;-&#39;)\r\n         return false;\r\n      else\r\n         return true;\r\n   }\r\n   \r\n  //ask user for a row. The number is decreased by one to get to the corresponding index\r\n  public void getRow()\r\n  {\r\n     System.out.println(&quot;Enter a row: &quot;);\r\n     row = kb.nextInt() - 1;\r\n     //return row;\r\n  } \r\n  \r\n  //ask user for a column. The number is decreased by one to get to the corresponding index\r\n  public void getColumn()\r\n  {\r\n     System.out.println(&quot;Enter a column: &quot;);\r\n     col = kb.nextInt() - 1;\r\n     //return col;\r\n  } \r\n  \r\n  //switches the value at a point from a &quot;-&quot; to the symbol\r\n  public boolean switchVal()\r\n  {\r\n      board[row][col] = symbol;\r\n  }\r\n  \r\n  //selects to random numbers for a computer move. Keeps running until an empty index is found.\r\n  public void compMove()\r\n  {\r\n     while(true)\r\n     {\r\n        row = (int)(Math.random()*3);\r\n        col = (int)(Math.random()*3);\r\n        if(board[row][col] == &#39;-&#39;)\r\n           break;\r\n     }\r\n  }\r\n  \r\n  //Prints winner for a 2 player game\r\n  public void winStatement()\r\n  {\r\n     if(symbol == &#39;x&#39;)\r\n        System.out.println(&quot;Congratulations Player 1, you win&quot;);\r\n     else\r\n       System.out.println(&quot;Congratulations Player 2, you win&quot;);\r\n  }\r\n  \r\n  //simulates a single player game\r\n  public void singlePlayer()\r\n  {\r\n     int playerNum = 1;\r\n      \r\n      TicTacToe game = new TicTacToe();\r\n      \r\n      while (game.checkGameOn() &amp;&amp; game.boardNotFilled())\r\n      {\r\n         game.printBoard();\r\n         if(playerNum != 1)\r\n         {\r\n            System.out.println();\r\n            System.out.println(&quot;I made my move! Your turn.&quot;);\r\n            System.out.println(); \r\n         }\r\n         game.setSymbol(playerNum);\r\n         game.getRow();\r\n         game.getColumn();\r\n         game.switchVal();\r\n         game.printBoard();\r\n         System.out.println();\r\n         System.out.println(&quot;Computer&#39;s turn!&quot;);\r\n         System.out.println();\r\n         playerNum++;\r\n         game.setSymbol(playerNum);\r\n         game.compMove();\r\n         game.switchVal();\r\n         playerNum++;\r\n      }\r\n      \r\n      game.printBoard();\r\n      if(game.boardNotFilled())\r\n         System.out.println(&quot;Congratulations, you win!&quot;);\r\n      else\r\n         System.out.println(&quot;Game Tied&quot;);\r\n  }\r\n  \r\n  //simulates a two player game\r\n  public void twoPlayer()\r\n  {\r\n     int playerNum = 1;\r\n      \r\n      TicTacToe game = new TicTacToe();\r\n      \r\n      while (game.checkGameOn() &amp;&amp; game.boardNotFilled())\r\n      {\r\n         game.printBoard();\r\n         game.setSymbol(playerNum);\r\n         game.getRow();\r\n         game.getColumn();\r\n         game.switchVal();\r\n         playerNum++;\r\n      }\r\n      \r\n      game.printBoard();\r\n      if(game.boardNotFilled())\r\n         game.winStatement();\r\n      else\r\n         System.out.println(&quot;Game Tied&quot;);\r\n  }\r\n  \r\n  //simulates everything from asking user how many players all the way to running the game.\r\n  public void play()\r\n  {\r\n     TicTacToe game = new TicTacToe();\r\n     int  numPlayers = game.getNumPlayers();\r\n     if(numPlayers == 1)\r\n        game.singlePlayer();\r\n     else if(numPlayers == 2)\r\n        game.twoPlayer();\r\n     else\r\n        System.out.println(&quot;Error&quot;);\r\n  }\r\n}\r\n```","title":"Tic-Tac-Toe Computer Logic","body":"<p>I am trying to make a Tic-tac-toe game where the user gets to select whether they would like to play a single player game or a two player game. I have gotten both of them to work but am trying to make the AI have some logic as to where it places its &quot;o&quot;. Currently, the computer randomly generates a row and a column and if the corresponding square in the array has a &quot;-&quot; (signifying that it is empty), it will fill it with an &quot;o&quot;. I am looking for a simple way to go through the 2d array and sees if it has a way to win. If not, it should check if the user can win and prevent them from winning. If none of them are true, then it should randomly select a square and make it's move. Also, I am relatively new to Java so if I am doing something wrong, please let me know how to do it so that I can fix it and improve my own skills. Here is the code.</p>\n<p>Driver File:</p>\n<pre><code>public class DriverTicTacToe\n{\n   public static void main(String[] args)\n   {\n      TicTacToe game = new TicTacToe(); //creates an object\n      game.play();//this simulates the whole game from asking the number of players all the way to printing the win message.\n   }\n}\n</code></pre>\n<p>Resource File:</p>\n<pre><code>import java.util.Scanner;\n\npublic class TicTacToe\n{  \n   //declares the symbol character that will hold either &quot;x&quot; or &quot;o&quot;\n   char symbol;\n   \n   //create a 3*3 array of characters that acts as the board in the game.\n   char[][] board = new char[3][3];\n   //declares multiple integers used throughout the game simulation\n   int player = 1, row, col, numPlayers;\n   //creates scanner object used to get user input\n   Scanner kb = new Scanner(System.in);\n   \n   //constructor that fill the board array with dashes.\n   public TicTacToe()\n   {\n      for(int i = 0; i &lt;3; i++)\n      {\n         for(int j = 0; j &lt; 3; j++)\n            board[i][j] = '-';\n      }   \n   }\n   \n   //asks the user for the number of players\n   public int getNumPlayers()\n   {\n      System.out.println(&quot;How many players are there (1 or 2)&quot;);\n      numPlayers = kb.nextInt();\n      return numPlayers;\n   }\n   \n   //used to cycle through &quot;x&quot; and &quot;o&quot;\n   public void setSymbol(int playerNumber)\n   {\n      if (playerNumber % 2 == 1)\n         symbol = 'x';\n      else \n         symbol = 'o';\n   }  \n   \n   //prints the array as a 3*3 board\n   public void printBoard()\n   {\n      for(int i = 0; i &lt; 3; i++)\n      {\n         for(int j = 0; j&lt;3; j++)\n            System.out.print(board[i][j]);\n         System.out.println();\n      }   \n   }\n   \n   //checks if there is an empty place on the board\n   public boolean boardNotFilled()\n   {\n      for(int i = 0; i &lt; 3; i++)\n      {\n         for(int j = 0; j &lt; 3; j++)\n         {\n            if(board[i][j] == '-') \n               return true;\n         }\n      }\n      return false;\n    }\n   \n   //checks if someone has won the game  \n   public boolean checkGameOn()\n   {\n      if(board[0][0] == board[0][1] &amp;&amp; board[0][1] == board[0][2] &amp;&amp; board[0][0] != '-')\n         return false;\n      else if(board[1][0] == board[1][1] &amp;&amp; board[1][1] == board[1][2] &amp;&amp; board[1][0] != '-')\n         return false;\n      else if(board[2][0] == board[2][1] &amp;&amp; board[2][1] == board[2][2] &amp;&amp; board[2][0] != '-')\n         return false;\n      else if(board[0][0] == board[1][0] &amp;&amp; board[1][0] == board[2][0] &amp;&amp; board[0][0] != '-')\n         return false;\n      else if(board[0][1] == board[1][1] &amp;&amp; board[1][1] == board[2][1] &amp;&amp; board[0][1] != '-')\n         return false;\n      else if(board[0][2] == board[1][2] &amp;&amp; board[1][2] == board[2][2] &amp;&amp; board[0][2] != '-')\n         return false;\n      else if(board[0][0] == board[1][1] &amp;&amp; board[1][1] == board[2][2] &amp;&amp; board[0][0] != '-')\n         return false;\n      else if(board[0][2] == board[1][1] &amp;&amp; board[1][1] == board[2][0] &amp;&amp; board[0][2] != '-')\n         return false;\n      else\n         return true;\n   }\n   \n  //ask user for a row. The number is decreased by one to get to the corresponding index\n  public void getRow()\n  {\n     System.out.println(&quot;Enter a row: &quot;);\n     row = kb.nextInt() - 1;\n     //return row;\n  } \n  \n  //ask user for a column. The number is decreased by one to get to the corresponding index\n  public void getColumn()\n  {\n     System.out.println(&quot;Enter a column: &quot;);\n     col = kb.nextInt() - 1;\n     //return col;\n  } \n  \n  //switches the value at a point from a &quot;-&quot; to the symbol\n  public boolean switchVal()\n  {\n      board[row][col] = symbol;\n  }\n  \n  //selects to random numbers for a computer move. Keeps running until an empty index is found.\n  public void compMove()\n  {\n     while(true)\n     {\n        row = (int)(Math.random()*3);\n        col = (int)(Math.random()*3);\n        if(board[row][col] == '-')\n           break;\n     }\n  }\n  \n  //Prints winner for a 2 player game\n  public void winStatement()\n  {\n     if(symbol == 'x')\n        System.out.println(&quot;Congratulations Player 1, you win&quot;);\n     else\n       System.out.println(&quot;Congratulations Player 2, you win&quot;);\n  }\n  \n  //simulates a single player game\n  public void singlePlayer()\n  {\n     int playerNum = 1;\n      \n      TicTacToe game = new TicTacToe();\n      \n      while (game.checkGameOn() &amp;&amp; game.boardNotFilled())\n      {\n         game.printBoard();\n         if(playerNum != 1)\n         {\n            System.out.println();\n            System.out.println(&quot;I made my move! Your turn.&quot;);\n            System.out.println(); \n         }\n         game.setSymbol(playerNum);\n         game.getRow();\n         game.getColumn();\n         game.switchVal();\n         game.printBoard();\n         System.out.println();\n         System.out.println(&quot;Computer's turn!&quot;);\n         System.out.println();\n         playerNum++;\n         game.setSymbol(playerNum);\n         game.compMove();\n         game.switchVal();\n         playerNum++;\n      }\n      \n      game.printBoard();\n      if(game.boardNotFilled())\n         System.out.println(&quot;Congratulations, you win!&quot;);\n      else\n         System.out.println(&quot;Game Tied&quot;);\n  }\n  \n  //simulates a two player game\n  public void twoPlayer()\n  {\n     int playerNum = 1;\n      \n      TicTacToe game = new TicTacToe();\n      \n      while (game.checkGameOn() &amp;&amp; game.boardNotFilled())\n      {\n         game.printBoard();\n         game.setSymbol(playerNum);\n         game.getRow();\n         game.getColumn();\n         game.switchVal();\n         playerNum++;\n      }\n      \n      game.printBoard();\n      if(game.boardNotFilled())\n         game.winStatement();\n      else\n         System.out.println(&quot;Game Tied&quot;);\n  }\n  \n  //simulates everything from asking user how many players all the way to running the game.\n  public void play()\n  {\n     TicTacToe game = new TicTacToe();\n     int  numPlayers = game.getNumPlayers();\n     if(numPlayers == 1)\n        game.singlePlayer();\n     else if(numPlayers == 2)\n        game.twoPlayer();\n     else\n        System.out.println(&quot;Error&quot;);\n  }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1656975449,"post_id":72862459,"comment_id":128695525,"body_markdown":"Just update the row.","body":"Just update the row."},{"owner":{"account_id":17728350,"reputation":209,"user_id":13531449,"display_name":"Aleksey Voko"},"score":1,"creation_date":1656975749,"post_id":72862459,"comment_id":128695571,"body_markdown":"Get the entire row from the database. Edit the entire line. Update the entire row in the database. There is no standard way to replace part of a cell&#39;s row in SQLite.","body":"Get the entire row from the database. Edit the entire line. Update the entire row in the database. There is no standard way to replace part of a cell&#39;s row in SQLite."}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656973080,"creation_date":1656973080,"question_id":72862459,"body_markdown":"I want to create a method in SQLite database class to delete a particular String of text in a cell. Let&#39;s say I have a row in SQLite database like this image\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd in the CONTENT column I have inserted 4 Strings using StringBuilder class that they are separated using a new line during insertion process. In the first row in column Content I have these values like below image\r\n[![enter image description here][2]][2]\r\n\r\nHere I want to delete for example item b, not the entire row, because deleting the entire row is simple and I don&#39;t want that.\r\nDeleting the entire row, inserting a row like that and showing that in RecyclerView works properly, but what I want to know is deleting a specific String in a specified row. Any help appreciated. I have searched a ton, but in vain.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/706Yq.png\r\n  [2]: https://i.stack.imgur.com/PUZ0y.png","title":"Is there a way to create SQLite query to delete a String in a cell? Because in that cell there are more than one value which inserted in StringBuilder","body":"<p>I want to create a method in SQLite database class to delete a particular String of text in a cell. Let's say I have a row in SQLite database like this image</p>\n<p><a href=\"https://i.stack.imgur.com/706Yq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/706Yq.png\" alt=\"enter image description here\" /></a></p>\n<p>And in the CONTENT column I have inserted 4 Strings using StringBuilder class that they are separated using a new line during insertion process. In the first row in column Content I have these values like below image\n<a href=\"https://i.stack.imgur.com/PUZ0y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PUZ0y.png\" alt=\"enter image description here\" /></a></p>\n<p>Here I want to delete for example item b, not the entire row, because deleting the entire row is simple and I don't want that.\nDeleting the entire row, inserting a row like that and showing that in RecyclerView works properly, but what I want to know is deleting a specific String in a specified row. Any help appreciated. I have searched a ton, but in vain.</p>\n"},{"tags":["java","android","android-studio","kotlin","material-design"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":6,"creation_date":1656972056,"post_id":72862314,"comment_id":128695009,"body_markdown":"The &quot;Language&quot; drop-down controls the code that is generated for you by the new-project wizard. Apparently, they only have a Kotlin template for Material3. This does not prevent you from writing your own Java code. Jetpack Compose, on the other hand, does require Kotlin for its UI bits, though you can use Java for other aspects of the project if you so choose.","body":"The &quot;Language&quot; drop-down controls the code that is generated for you by the new-project wizard. Apparently, they only have a Kotlin template for Material3. This does not prevent you from writing your own Java code. Jetpack Compose, on the other hand, does require Kotlin for its UI bits, though you can use Java for other aspects of the project if you so choose."}],"owner":{"account_id":1237641,"reputation":2190,"user_id":1200914,"accept_rate":89,"display_name":"Learning from masters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1656971471,"creation_date":1656971471,"question_id":72862314,"body_markdown":"I just updated to 2021.2.1 Patch 1. When I create a new project and select a material3 type, only kotlin is avalaible:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m not sure if it is because of the update because it has been long time since I did something for Android. However, if I don&#39;t select the material3 option Java is available. Can we use material3 with java? Really Google?\r\n\r\n  [1]: https://i.stack.imgur.com/9vaz1.png","title":"I cannot select Java as an option when creating a new project in Android Studio 2021","body":"<p>I just updated to 2021.2.1 Patch 1. When I create a new project and select a material3 type, only kotlin is avalaible:</p>\n<p><a href=\"https://i.stack.imgur.com/9vaz1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9vaz1.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm not sure if it is because of the update because it has been long time since I did something for Android. However, if I don't select the material3 option Java is available. Can we use material3 with java? Really Google?</p>\n"},{"tags":["java","spring","spring-boot","null"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656964095,"post_id":72860697,"comment_id":128693282,"body_markdown":"what do you mean by &quot;put my searchRequest in a method and return just the filled search criteria&quot;?","body":"what do you mean by &quot;put my searchRequest in a method and return just the filled search criteria&quot;?"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656964193,"post_id":72860697,"comment_id":128693295,"body_markdown":"overall, having (a lot of) logic in the controller is not a good practice","body":"overall, having (a lot of) logic in the controller is not a good practice"},{"owner":{"account_id":4930301,"reputation":85,"user_id":3970306,"accept_rate":89,"display_name":"mesut"},"score":0,"creation_date":1656964340,"post_id":72860697,"comment_id":128693326,"body_markdown":"I mean, I would like to filter the none null search critera","body":"I mean, I would like to filter the none null search critera"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656964605,"post_id":72860697,"comment_id":128693387,"body_markdown":"Theoretically that is possible via reflection, but I do not think that is appropriate here. I do not see a nicer way :|","body":"Theoretically that is possible via reflection, but I do not think that is appropriate here. I do not see a nicer way :|"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656965069,"post_id":72860697,"comment_id":128693516,"body_markdown":"you usually filter on some values (array, list, etc) but filtering fields is a weird thing, your approach is not bad for sure","body":"you usually filter on some values (array, list, etc) but filtering fields is a weird thing, your approach is not bad for sure"}],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656971008,"creation_date":1656971008,"answer_id":72862273,"question_id":72860697,"body_markdown":"What I understand from above is that you are trying to enrich your `SearchRequest` before passing it to `SomeService#search`. I think you can implement little bit customised strategy pattern. Let&#39;s see how:\r\n\r\nCreate an interface SearchRequestEnricher like below\r\n\r\n    public interface SearchRequestEnricher {\r\n        boolean isApplicable(SearchRequest searchRequest);\r\n        void enrich(SearchRequest searchRequest);\r\n    }\r\n\r\n \r\n\r\nCreate SearchRequestEnricher implementations for each field(I will create only 2 just for example here)\r\n\r\nTypeEnricher\r\n    \r\n    @Component\r\n    public class TypeEnricher implements SearchRequestEnricher{\r\n    \r\n        @Override\r\n        public boolean isApplicable(SearchRequest searchRequest) {\r\n            return searchRequest.getType() != null;\r\n        }\r\n    \r\n        @Override\r\n        public void enrich(SearchRequest searchRequest) {\r\n            //your dosomething business logic\r\n        }\r\n    }\r\n\r\nBrandEnricher\r\n   \r\n    @Component\r\n    public class BrandEnricher implements SearchRequestEnricher{\r\n    \r\n        @Override\r\n        public boolean isApplicable(SearchRequest searchRequest) {\r\n            return searchRequest.getBrand() != null;\r\n        }\r\n    \r\n        @Override\r\n        public void enrich(SearchRequest searchRequest) {\r\n            //your dosomething business logic\r\n        }\r\n    }\r\n\r\nNow you can use these enrichers in your controller\r\n\r\n    @RestController\r\n    public class SearchController {\r\n        private List&lt;SearchRequestEnricher&gt; searchRequestEnrichers;\r\n        \r\n        @PostMapping(&quot;/searchCarOptions&quot;)\r\n        public ResponseEntity&lt;Cars&gt; search(\r\n                @Parameter(description = &quot;some searchRequest&quot;) @RequestBody SearchRequest searchRequest) {\r\n            //enrich your request\r\n            searchRequestEnrichers.stream().filter(searchRequestEnricher -&gt; searchRequestEnricher.isApplicable(searchRequest))\r\n                    .forEach(searchRequestEnricher -&gt; searchRequestEnricher.enrich(searchRequest));\r\n            //use enriched request\r\n            return ResponseEntity.ok(someService.search(searchRequest));\r\n        }\r\n    }\r\n\r\nThis way, your controller is clean and it doesn&#39;t have any business logic(as it should not have). You are following separation of concern and single responsibility principles. You don&#39;t need to touch your controller if you add or remove extra parameter in `SearchRequest` and would like to validate/enrich them.\r\n\r\nHope this helps. ","title":"Filter none null value from object in Java","body":"<p>What I understand from above is that you are trying to enrich your <code>SearchRequest</code> before passing it to <code>SomeService#search</code>. I think you can implement little bit customised strategy pattern. Let's see how:</p>\n<p>Create an interface SearchRequestEnricher like below</p>\n<pre><code>public interface SearchRequestEnricher {\n    boolean isApplicable(SearchRequest searchRequest);\n    void enrich(SearchRequest searchRequest);\n}\n</code></pre>\n<p>Create SearchRequestEnricher implementations for each field(I will create only 2 just for example here)</p>\n<p>TypeEnricher</p>\n<pre><code>@Component\npublic class TypeEnricher implements SearchRequestEnricher{\n\n    @Override\n    public boolean isApplicable(SearchRequest searchRequest) {\n        return searchRequest.getType() != null;\n    }\n\n    @Override\n    public void enrich(SearchRequest searchRequest) {\n        //your dosomething business logic\n    }\n}\n</code></pre>\n<p>BrandEnricher</p>\n<pre><code>@Component\npublic class BrandEnricher implements SearchRequestEnricher{\n\n    @Override\n    public boolean isApplicable(SearchRequest searchRequest) {\n        return searchRequest.getBrand() != null;\n    }\n\n    @Override\n    public void enrich(SearchRequest searchRequest) {\n        //your dosomething business logic\n    }\n}\n</code></pre>\n<p>Now you can use these enrichers in your controller</p>\n<pre><code>@RestController\npublic class SearchController {\n    private List&lt;SearchRequestEnricher&gt; searchRequestEnrichers;\n    \n    @PostMapping(&quot;/searchCarOptions&quot;)\n    public ResponseEntity&lt;Cars&gt; search(\n            @Parameter(description = &quot;some searchRequest&quot;) @RequestBody SearchRequest searchRequest) {\n        //enrich your request\n        searchRequestEnrichers.stream().filter(searchRequestEnricher -&gt; searchRequestEnricher.isApplicable(searchRequest))\n                .forEach(searchRequestEnricher -&gt; searchRequestEnricher.enrich(searchRequest));\n        //use enriched request\n        return ResponseEntity.ok(someService.search(searchRequest));\n    }\n}\n</code></pre>\n<p>This way, your controller is clean and it doesn't have any business logic(as it should not have). You are following separation of concern and single responsibility principles. You don't need to touch your controller if you add or remove extra parameter in <code>SearchRequest</code> and would like to validate/enrich them.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":4930301,"reputation":85,"user_id":3970306,"accept_rate":89,"display_name":"mesut"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72862273,"answer_count":1,"score":0,"last_activity_date":1656971008,"creation_date":1656958780,"question_id":72860697,"body_markdown":"I have a spring boot a application with some endpoints, one of the endpoints is to search for car options, see below\r\n\r\n\t@PostMapping(&quot;/searchCarOptions&quot;)\r\n    public ResponseEntity&lt;Cars&gt; search(\r\n            @Parameter(description = &quot;some searchRequest&quot;) @RequestBody SearchRequest searchRequest) {\r\n\r\n        if (searchRequest.getType() != null) {\r\n            //dosomthing\r\n        }\r\n\t\t\r\n\t\tif (searchRequest.getBrand() != null) {\r\n            //dosomthing\r\n        }\r\n\t\t\r\n\t\tif (searchRequest.getCountry() != null) {\r\n            //dosomthing\r\n        }\r\n\t\t\r\n\t\tif (searchRequest.getClient() != null) {\r\n            //dosomthing\r\n        }\r\n\t\t\r\n\t\tif (searchRequest.getAirco() != null) {\r\n            //dosomthing\r\n        }\r\n\t\t\r\n\t\tetc.....\r\n\r\n        return ResponseEntity.ok(someService.search(searchRequest));\r\n    }\r\n\r\nIs there better way to put my searchRequest in a method and return just the filled search criteria and put it for example in a String variable? it will make code cleaner....\r\n\r\nBelow is my model\r\n\r\n    public class SearchRequest {\r\n    \r\n        private String type;\r\n        private String brand;\r\n        private LocalDate date;\r\n        private String country;\r\n    \tprivate String client;\r\n    \tprivate String airco;\r\n    \tprivate String transmission;\r\n    \tprivate String seats;\r\n    \t\r\n    \tgetters and setters\r\n    }","title":"Filter none null value from object in Java","body":"<p>I have a spring boot a application with some endpoints, one of the endpoints is to search for car options, see below</p>\n<pre><code>@PostMapping(&quot;/searchCarOptions&quot;)\npublic ResponseEntity&lt;Cars&gt; search(\n        @Parameter(description = &quot;some searchRequest&quot;) @RequestBody SearchRequest searchRequest) {\n\n    if (searchRequest.getType() != null) {\n        //dosomthing\n    }\n    \n    if (searchRequest.getBrand() != null) {\n        //dosomthing\n    }\n    \n    if (searchRequest.getCountry() != null) {\n        //dosomthing\n    }\n    \n    if (searchRequest.getClient() != null) {\n        //dosomthing\n    }\n    \n    if (searchRequest.getAirco() != null) {\n        //dosomthing\n    }\n    \n    etc.....\n\n    return ResponseEntity.ok(someService.search(searchRequest));\n}\n</code></pre>\n<p>Is there better way to put my searchRequest in a method and return just the filled search criteria and put it for example in a String variable? it will make code cleaner....</p>\n<p>Below is my model</p>\n<pre><code>public class SearchRequest {\n\n    private String type;\n    private String brand;\n    private LocalDate date;\n    private String country;\n    private String client;\n    private String airco;\n    private String transmission;\n    private String seats;\n    \n    getters and setters\n}\n</code></pre>\n"},{"tags":["java","loops","java.util.scanner"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1656403763,"post_id":72782834,"comment_id":128557080,"body_markdown":"scanner.nextLine(); doesn&#39;t print, it accepts input. you don&#39;t store the input anywhere on your last nextLine() call, so how do you expect it to be printed","body":"scanner.nextLine(); doesn&#39;t print, it accepts input. you don&#39;t store the input anywhere on your last nextLine() call, so how do you expect it to be printed"},{"owner":{"account_id":25630163,"reputation":1,"user_id":19400676,"display_name":"ruh01"},"score":0,"creation_date":1656404141,"post_id":72782834,"comment_id":128557215,"body_markdown":"As a matter of fact, I don&#39;t want the third line to be printed, only the first two. But I don&#39;t know how to make the Scanner close immediately after typing the first two rows. I would really appreciate if you could point me how to solve it, as I tried many variants without luck","body":"As a matter of fact, I don&#39;t want the third line to be printed, only the first two. But I don&#39;t know how to make the Scanner close immediately after typing the first two rows. I would really appreciate if you could point me how to solve it, as I tried many variants without luck"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1656404315,"post_id":72782834,"comment_id":128557280,"body_markdown":"who says you &quot;have to&quot; close the scanner? point is, in your loop you have two calls to your nextLine() but you ignore the information of the second call. why do you have to input a certain amount? because of this: for (int x = 0; x &lt; 2; x++) Do you understand the code you posted?","body":"who says you &quot;have to&quot; close the scanner? point is, in your loop you have two calls to your nextLine() but you ignore the information of the second call. why do you have to input a certain amount? because of this: for (int x = 0; x &lt; 2; x++) Do you understand the code you posted?"},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1656404431,"post_id":72782834,"comment_id":128557338,"body_markdown":"Why did you put ```scanner.nextLine();``` twice in the addStudent() for loop?","body":"Why did you put <code>scanner.nextLine();</code> twice in the addStudent() for loop?"},{"owner":{"account_id":25630163,"reputation":1,"user_id":19400676,"display_name":"ruh01"},"score":0,"creation_date":1656404678,"post_id":72782834,"comment_id":128557426,"body_markdown":"I tried without the second scanner.nextLine(); but it throws an exception, ArrayOutOfBounds, Index 1 is out of bounds. So next step would be to skip the second call to nextline() and to look for the mistake  somewhere at the array level.","body":"I tried without the second scanner.nextLine(); but it throws an exception, ArrayOutOfBounds, Index 1 is out of bounds. So next step would be to skip the second call to nextline() and to look for the mistake  somewhere at the array level."},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1656405766,"post_id":72782834,"comment_id":128557846,"body_markdown":"I removed the second ```scanner.nextLine();``` then I&#39;ve launched the problem passing *Young John 9 9 9*, pressed enter, *Johnson Anne 8 8 8*, pressed enter and it works fine","body":"I removed the second <code>scanner.nextLine();</code> then I&#39;ve launched the problem passing <i>Young John 9 9 9</i>, pressed enter, <i>Johnson Anne 8 8 8</i>, pressed enter and it works fine"},{"owner":{"account_id":25630163,"reputation":1,"user_id":19400676,"display_name":"ruh01"},"score":0,"creation_date":1656406448,"post_id":72782834,"comment_id":128558129,"body_markdown":"Thank you. This is most intriguing.       Using IntelliJ, I get &quot;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 \tat Verificari.StudentMain.addStudent(Verificari1.java:19)\n\tat Verificari.StudentMain.main(Verificari1.java:11)&quot;         Using another IDE, BlueJ (for noobs), the program compiles and runs as expected.  I have to dig deeper, but now I am very glad that the code is ok.    Thank you both for your answers.","body":"Thank you. This is most intriguing.       Using IntelliJ, I get &quot;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 \tat Verificari.StudentMain.addStudent(Verificari1.java:19) \tat Verificari.StudentMain.main(Verificari1.java:11)&quot;         Using another IDE, BlueJ (for noobs), the program compiles and runs as expected.  I have to dig deeper, but now I am very glad that the code is ok.    Thank you both for your answers."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1656411511,"post_id":72782834,"comment_id":128560100,"body_markdown":"When a User has to enter multiple arguments (delimited with anything) for any given prompt, you can expect to have typos. Your prompt expects the User to enter 5 arguments on a single line delimited with a whitespace. What if the user accidentally hits the space bar twice or didn&#39;t hit it hard enough for one of the arguments? Your array won&#39;t have the length you think it does. Use `split(&quot;\\\\s+&quot;)` to take care of over-spacing, and check the split array length for the other problem.","body":"When a User has to enter multiple arguments (delimited with anything) for any given prompt, you can expect to have typos. Your prompt expects the User to enter 5 arguments on a single line delimited with a whitespace. What if the user accidentally hits the space bar twice or didn&#39;t hit it hard enough for one of the arguments? Your array won&#39;t have the length you think it does. Use <code>split(&quot;\\\\s+&quot;)</code> to take care of over-spacing, and check the split array length for the other problem."}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656970813,"creation_date":1656970813,"answer_id":72862244,"question_id":72782834,"body_markdown":" 1. courseAttend should be a `List&lt;Student&gt; courseAttend = new ...List&lt;&gt;();` like your methode argument `printList(List&lt;Student&gt; students)` because both could be also a ArrayList and it is the normal way to in implement variables if they have not to be sepciefied, like in your case. \r\n 2. The loop has two nextLine() but you ignore the second one so you are creating a student and waiting of the next input and not saving the input\r\n 3. When a User has to enter multiple arguments for any given prompt, you can expect to have typos. Your prompt expects the User to enter 5 arguments and they are not even from the same typ on a single line delimited with a whitespace. What if the user accidentally give you an ivalid input like a integer as name or a String as mark. \r\n\r\n        public class StudentMain {\r\n            static List&lt;Student&gt; courseAttend = new LinkedList&lt;&gt;();\r\n            static Scanner scanner = new Scanner(System.in);\r\n\r\n            public static void main(String[] args) {\r\n                for (int x = 0; x &lt; 2; x++) {\r\n                    courseAttend.add(createStudent());\r\n                }\r\n                scanner.close();\r\n                printList(courseAttend);\r\n            }\r\n\r\n            private static Student createStudent(){\r\n                System.out.print(&quot;name: &quot;);\r\n                String name = scanner.nextLine();\r\n                System.out.print(&quot;surname: &quot;);\r\n                String surname = scanner.nextLine();\r\n                System.out.print(&quot;first mark: &quot;);\r\n                int firstMark = scanner.nextInt();\r\n                System.out.print(&quot;second mark: &quot;);\r\n                int secondMark = scanner.nextInt();\r\n                System.out.print(&quot;final exam mark: &quot;);\r\n                int finalExamMark = scanner.nextInt();\r\n\r\n                return new Student(name, surname, firstMark, secondMark ,finalExamMark);\r\n             }\r\n\r\n             private static void printList(List&lt;Student&gt; students) {\r\n                 for (Student elem : students) {\r\n                     System.out.println(elem);\r\n                 }\r\n             }\r\n        }\r\n\r\n        \r\n","title":"Java. Scanner requests an additional line but does not print it","body":"<ol>\n<li><p>courseAttend should be a <code>List&lt;Student&gt; courseAttend = new ...List&lt;&gt;();</code> like your methode argument <code>printList(List&lt;Student&gt; students)</code> because both could be also a ArrayList and it is the normal way to in implement variables if they have not to be sepciefied, like in your case.</p>\n</li>\n<li><p>The loop has two nextLine() but you ignore the second one so you are creating a student and waiting of the next input and not saving the input</p>\n</li>\n<li><p>When a User has to enter multiple arguments for any given prompt, you can expect to have typos. Your prompt expects the User to enter 5 arguments and they are not even from the same typ on a single line delimited with a whitespace. What if the user accidentally give you an ivalid input like a integer as name or a String as mark.</p>\n<pre><code>public class StudentMain {\n    static List&lt;Student&gt; courseAttend = new LinkedList&lt;&gt;();\n    static Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        for (int x = 0; x &lt; 2; x++) {\n            courseAttend.add(createStudent());\n        }\n        scanner.close();\n        printList(courseAttend);\n    }\n\n    private static Student createStudent(){\n        System.out.print(&quot;name: &quot;);\n        String name = scanner.nextLine();\n        System.out.print(&quot;surname: &quot;);\n        String surname = scanner.nextLine();\n        System.out.print(&quot;first mark: &quot;);\n        int firstMark = scanner.nextInt();\n        System.out.print(&quot;second mark: &quot;);\n        int secondMark = scanner.nextInt();\n        System.out.print(&quot;final exam mark: &quot;);\n        int finalExamMark = scanner.nextInt();\n\n        return new Student(name, surname, firstMark, secondMark ,finalExamMark);\n     }\n\n     private static void printList(List&lt;Student&gt; students) {\n         for (Student elem : students) {\n             System.out.println(elem);\n         }\n     }\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":25630163,"reputation":1,"user_id":19400676,"display_name":"ruh01"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72862244,"answer_count":1,"score":-1,"last_activity_date":1656970813,"creation_date":1656403648,"question_id":72782834,"body_markdown":"just entered this community and this is my first question here, so please bear with a noob. I created two classes, first is Student, a basic one with fields, constructor and getters. The second one has the main method, a LinkedList, a multiple-entry Scanner (for...) and two simple methods.\r\nMy problem is that despite the fact that the For loop has maximum index 1 (x = 0; x &lt; 2), the Scanner expects a third row input and an enter but does not print the third line. I add the two classes, maybe I made a mistake and I would appreciate your help. Thank you in advance.\r\n\r\n    public class Student {\r\n\r\n    private String name;\r\n    private String surname;\r\n    private int firstMark;\r\n    private int secondMark;\r\n    private int finalExamMark;\r\n\r\n    public Student(String name, String surname, int firstMark, int secondMark, int finalExamMark) {\r\n        this.name = name;\r\n        this.surname = surname;\r\n        this.firstMark = firstMark;\r\n        this.secondMark = secondMark;\r\n        this.finalExamMark = finalExamMark;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getSurname() {\r\n        return surname;\r\n    }\r\n\r\n    public int getFirstMark() {\r\n        return firstMark;\r\n    }\r\n\r\n    public int getSecondMark() {\r\n        return secondMark;\r\n    }\r\n\r\n    public int getFinalExamMark() {\r\n        return finalExamMark;\r\n    }\r\n\r\n    @Override\r\n    public String toString (){\r\n        return this.name + &quot; &quot; + this.surname + &quot; got &quot; + this.firstMark + &quot; at English, &quot; + this.secondMark + &quot; at Math and &quot; + this.finalExamMark + &quot; at the final exam.&quot;;\r\n    }\r\n}\r\n\r\n\r\n---------------\r\n\r\n    public class StudentMain {\r\n    static LinkedList&lt;Student&gt; courseAttend = new LinkedList&lt;&gt;();\r\n    static Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        addStudent();\r\n        printList(courseAttend);\r\n    }\r\n\r\n    private static void addStudent()  {\r\n        for (int x = 0; x &lt; 2; x++) {\r\n            String s1 = scanner.nextLine();\r\n                String[] split = s1.split(&quot;\\\\s&quot;);\r\n                courseAttend.add(new Student(split[0], split[1], Integer.parseInt(split[2]), Integer.parseInt(split[3]), Integer.parseInt(split[4])));\r\n                scanner.nextLine();\r\n        }\r\n        scanner.close();\r\n        }\r\n\r\n    private static void printList(LinkedList&lt;Student&gt; lista) {\r\n        for (Student elem : lista) {\r\n            System.out.println(elem);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n-----\r\n\r\nFor example, if I input (without quotes) \r\n&quot;Young John 9 9 9&quot;\r\n&quot;Johnson Anne 8 8 8&quot; and I press enter, the cursor moves to next line and waits another input. Only after that third line and the final enter, the message is displayed but the third line is not shown.","title":"Java. Scanner requests an additional line but does not print it","body":"<p>just entered this community and this is my first question here, so please bear with a noob. I created two classes, first is Student, a basic one with fields, constructor and getters. The second one has the main method, a LinkedList, a multiple-entry Scanner (for...) and two simple methods.\nMy problem is that despite the fact that the For loop has maximum index 1 (x = 0; x &lt; 2), the Scanner expects a third row input and an enter but does not print the third line. I add the two classes, maybe I made a mistake and I would appreciate your help. Thank you in advance.</p>\n<pre><code>public class Student {\n\nprivate String name;\nprivate String surname;\nprivate int firstMark;\nprivate int secondMark;\nprivate int finalExamMark;\n\npublic Student(String name, String surname, int firstMark, int secondMark, int finalExamMark) {\n    this.name = name;\n    this.surname = surname;\n    this.firstMark = firstMark;\n    this.secondMark = secondMark;\n    this.finalExamMark = finalExamMark;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic String getSurname() {\n    return surname;\n}\n\npublic int getFirstMark() {\n    return firstMark;\n}\n\npublic int getSecondMark() {\n    return secondMark;\n}\n\npublic int getFinalExamMark() {\n    return finalExamMark;\n}\n\n@Override\npublic String toString (){\n    return this.name + &quot; &quot; + this.surname + &quot; got &quot; + this.firstMark + &quot; at English, &quot; + this.secondMark + &quot; at Math and &quot; + this.finalExamMark + &quot; at the final exam.&quot;;\n}\n</code></pre>\n<p>}</p>\n<hr />\n<pre><code>public class StudentMain {\nstatic LinkedList&lt;Student&gt; courseAttend = new LinkedList&lt;&gt;();\nstatic Scanner scanner = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    addStudent();\n    printList(courseAttend);\n}\n\nprivate static void addStudent()  {\n    for (int x = 0; x &lt; 2; x++) {\n        String s1 = scanner.nextLine();\n            String[] split = s1.split(&quot;\\\\s&quot;);\n            courseAttend.add(new Student(split[0], split[1], Integer.parseInt(split[2]), Integer.parseInt(split[3]), Integer.parseInt(split[4])));\n            scanner.nextLine();\n    }\n    scanner.close();\n    }\n\nprivate static void printList(LinkedList&lt;Student&gt; lista) {\n    for (Student elem : lista) {\n        System.out.println(elem);\n    }\n}\n</code></pre>\n<p>}</p>\n<hr />\n<p>For example, if I input (without quotes)\n&quot;Young John 9 9 9&quot;\n&quot;Johnson Anne 8 8 8&quot; and I press enter, the cursor moves to next line and waits another input. Only after that third line and the final enter, the message is displayed but the third line is not shown.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7546211,"reputation":514,"user_id":5729151,"display_name":"Abhishek Patyal"},"score":0,"creation_date":1552128887,"post_id":55076491,"comment_id":96899730,"body_markdown":"I would advice to implement a global exceptional handler in your project. Here&#39;s a good article for a quickstart [global_error_handler](https://www.baeldung.com/global-error-handler-in-a-spring-rest-api)","body":"I would advice to implement a global exceptional handler in your project. Here&#39;s a good article for a quickstart <a href=\"https://www.baeldung.com/global-error-handler-in-a-spring-rest-api\" rel=\"nofollow noreferrer\">global_error_handler</a>"},{"owner":{"account_id":6508653,"reputation":884,"user_id":5036736,"accept_rate":36,"display_name":"Mayur"},"score":0,"creation_date":1552204445,"post_id":55076491,"comment_id":96916434,"body_markdown":"@Ali check if this link can help you https://www.baeldung.com/exception-handling-for-rest-with-spring","body":"@Ali check if this link can help you <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/exception-handling-for-rest-with-spring</a>"}],"answers":[{"tags":[],"owner":{"account_id":12362145,"reputation":1,"user_id":9015923,"display_name":"Yamini Shakya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552204050,"creation_date":1552203848,"answer_id":55085571,"question_id":55076491,"body_markdown":"I would suggest you to make a Response Class.\r\nAdd try catch in your service class and return this object instead.\r\nIn catch section instantiate ResponseDto object and add the message accordingly.This will gracefully handle your exception. It is scalable because you can wrap any other exception message as well.\r\n\r\n\r\n    public class ResponseDto {\r\n    \r\n        @JsonProperty(&quot;url&quot;)\r\n        private String url;\r\n    \r\n        @JsonProperty(&quot;status&quot;)\r\n        private int status;\r\n    \r\n        @JsonProperty(&quot;userMsg&quot;)\r\n        private String UserMsg;\r\n    }\r\n\r\n","title":"Spring Boot Remove exception attribute from error responses","body":"<p>I would suggest you to make a Response Class.\nAdd try catch in your service class and return this object instead.\nIn catch section instantiate ResponseDto object and add the message accordingly.This will gracefully handle your exception. It is scalable because you can wrap any other exception message as well.</p>\n\n<pre><code>public class ResponseDto {\n\n    @JsonProperty(\"url\")\n    private String url;\n\n    @JsonProperty(\"status\")\n    private int status;\n\n    @JsonProperty(\"userMsg\")\n    private String UserMsg;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14150758,"reputation":226,"user_id":10222724,"display_name":"andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565514611,"creation_date":1565514611,"answer_id":57448700,"question_id":55076491,"body_markdown":"In spring-boot you can do it via defining a @Component which extends DefaultErrorAttributes, then override the getErrorAttributes function to remove the &quot;exception&quot;.\r\n\r\n```\r\n@Component\r\npublic class CustomErrorAttributes extends DefaultErrorAttributes {\r\n \r\n    @Override\r\n    public Map&lt;String, Object&gt; getErrorAttributes(\r\n        WebRequest webRequest,\r\n        boolean includeStackTrace\r\n    ) {\r\n        Map&lt;String, Object&gt; errorAttributes\r\n            = super.getErrorAttributes(webRequest, includeStackTrace);\r\n        errorAttributes.remove(&quot;exception&quot;);\r\n        return errorAttributes;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThere is also another alternatives such as using @ControllerAdvice which you can peruse further.","title":"Spring Boot Remove exception attribute from error responses","body":"<p>In spring-boot you can do it via defining a @Component which extends DefaultErrorAttributes, then override the getErrorAttributes function to remove the \"exception\".</p>\n\n<pre><code>@Component\npublic class CustomErrorAttributes extends DefaultErrorAttributes {\n\n    @Override\n    public Map&lt;String, Object&gt; getErrorAttributes(\n        WebRequest webRequest,\n        boolean includeStackTrace\n    ) {\n        Map&lt;String, Object&gt; errorAttributes\n            = super.getErrorAttributes(webRequest, includeStackTrace);\n        errorAttributes.remove(\"exception\");\n        return errorAttributes;\n    }\n\n}\n</code></pre>\n\n<p>There is also another alternatives such as using @ControllerAdvice which you can peruse further.</p>\n"}],"owner":{"account_id":4103725,"reputation":453,"user_id":4393106,"accept_rate":58,"display_name":"Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656969608,"creation_date":1552128204,"question_id":55076491,"body_markdown":"I have some exception in order to handling errors in my restful spring backend, Here is example of an exception:  \r\n\r\n    @ResponseStatus(value = HttpStatus.FORBIDDEN)\r\n    public class IllegalUserAgentException extends RuntimeException\r\n    {\r\n        public IllegalUserAgentException(String exception)\r\n        {\r\n            super(exception);\r\n        }\r\n    \r\n    }\r\n\r\nWhen i throw this exception from service (in domain driven architecture), Spring returning below json error\r\n\r\n    {\r\n        &quot;timestamp&quot;: 1552127820802,\r\n        &quot;status&quot;: 403,\r\n        &quot;error&quot;: &quot;Forbidden&quot;,\r\n        &quot;exception&quot;: &quot;com.example.exception.IllegalUserAgentException&quot;,\r\n        &quot;message&quot;: &quot;test&quot;,\r\n        &quot;path&quot;: &quot;/path/somePath&quot;\r\n    }\r\n\r\nAs you can see, Spring added an attribute with &quot;exception&quot; name, I want to remove this attribute.\r\nI added `server.error.include-exception=false` flag, but not work.\r\nAny solution?","title":"Spring Boot Remove exception attribute from error responses","body":"<p>I have some exception in order to handling errors in my restful spring backend, Here is example of an exception:  </p>\n\n<pre><code>@ResponseStatus(value = HttpStatus.FORBIDDEN)\npublic class IllegalUserAgentException extends RuntimeException\n{\n    public IllegalUserAgentException(String exception)\n    {\n        super(exception);\n    }\n\n}\n</code></pre>\n\n<p>When i throw this exception from service (in domain driven architecture), Spring returning below json error</p>\n\n<pre><code>{\n    \"timestamp\": 1552127820802,\n    \"status\": 403,\n    \"error\": \"Forbidden\",\n    \"exception\": \"com.example.exception.IllegalUserAgentException\",\n    \"message\": \"test\",\n    \"path\": \"/path/somePath\"\n}\n</code></pre>\n\n<p>As you can see, Spring added an attribute with \"exception\" name, I want to remove this attribute.\nI added <code>server.error.include-exception=false</code> flag, but not work.\nAny solution?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656910410,"post_id":72851863,"comment_id":128677269,"body_markdown":"Is there any particular reason you don&#39;t want to use nested components, it&#39;s frankly the easiest solution, and if you need to do it multiple times just create a custom JPanel that adds the borders, and override the `add(Component)` method so that it behaves like a JPanel without another nested panel.","body":"Is there any particular reason you don&#39;t want to use nested components, it&#39;s frankly the easiest solution, and if you need to do it multiple times just create a custom JPanel that adds the borders, and override the <code>add(Component)</code> method so that it behaves like a JPanel without another nested panel."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1656910459,"post_id":72851863,"comment_id":128677276,"body_markdown":"If you absolutely don&#39;t want to nest, then consider adding padding individual components instead, and paint the border by overriding the paintComponent method or with a custom border with insets that you desire. See https://stackoverflow.com/questions/13547361/how-to-use-margins-and-paddings-with-java-gridlayout Or use another appropriate layout manager, or use absolute component positioning and sizing for as much control as you need (with a resize method if the JPanel gets resized).","body":"If you absolutely don&#39;t want to nest, then consider adding padding individual components instead, and paint the border by overriding the paintComponent method or with a custom border with insets that you desire. See <a href=\"https://stackoverflow.com/questions/13547361/how-to-use-margins-and-paddings-with-java-gridlayout\" title=\"how to use margins and paddings with java gridlayout\">stackoverflow.com/questions/13547361/&hellip;</a> Or use another appropriate layout manager, or use absolute component positioning and sizing for as much control as you need (with a resize method if the JPanel gets resized)."},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":1,"creation_date":1656910721,"post_id":72851863,"comment_id":128677298,"body_markdown":"@sorifiend - to answer your first comment it just seems like a waste of resources to nest three panels just to achieve what is very common now days with the HTML CSS boxing model, specially when I&#39;m planning on creating multiple of those in my JFrame - I have actually just created a custom panel that hides those implementation details but still feels wrong","body":"@sorifiend - to answer your first comment it just seems like a waste of resources to nest three panels just to achieve what is very common now days with the HTML CSS boxing model, specially when I&#39;m planning on creating multiple of those in my JFrame - I have actually just created a custom panel that hides those implementation details but still feels wrong"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1656910969,"post_id":72851863,"comment_id":128677335,"body_markdown":"Yeah, it isn&#39;t great, swing development stopped and fell behind a long time ago. I would encourage you to look into JavaFX for your next Java UI project, it has a lot more support for things like this and a more modern design approach, although granted Swing is still very powerful and can do pretty much anything with enough time and effort to write custom code.","body":"Yeah, it isn&#39;t great, swing development stopped and fell behind a long time ago. I would encourage you to look into JavaFX for your next Java UI project, it has a lot more support for things like this and a more modern design approach, although granted Swing is still very powerful and can do pretty much anything with enough time and effort to write custom code."},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":0,"creation_date":1656911124,"post_id":72851863,"comment_id":128677360,"body_markdown":"That is a great suggestion since I was just getting started creating UI components, so I could switch without too much effort. If you provide your comments as answer I would like to grant you the credits for it. Thanks","body":"That is a great suggestion since I was just getting started creating UI components, so I could switch without too much effort. If you provide your comments as answer I would like to grant you the credits for it. Thanks"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":2,"creation_date":1656918121,"post_id":72851863,"comment_id":128678811,"body_markdown":"Take a look at CompoundBorder. It was created exactly for your usecase. https://docs.oracle.com/en/java/javase/17/docs/api//java.desktop/javax/swing/border/CompoundBorder.html","body":"Take a look at CompoundBorder. It was created exactly for your usecase. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.desktop/javax/swing/border/CompoundBorder.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api//java.desktop/jav&zwnj;&#8203;ax/&hellip;</a>"},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":0,"creation_date":1656942273,"post_id":72851863,"comment_id":128687005,"body_markdown":"@HiranChaudhuri comment is actually what I&#39;m looking for, creating a custom border is more complex than what I need and that answer that Hiran mentions is not provided in the other question, so this might be usefull. Please provide it as answer here","body":"@HiranChaudhuri comment is actually what I&#39;m looking for, creating a custom border is more complex than what I need and that answer that Hiran mentions is not provided in the other question, so this might be usefull. Please provide it as answer here"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656969237,"creation_date":1656969237,"answer_id":72862073,"question_id":72851863,"body_markdown":"What you are searching for is a simple combination of borders for one component. This is what [CompoundBorder][1] was created for.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api//java.desktop/javax/swing/border/CompoundBorder.html","title":"How to create a border with a line and padding for a JPanel","body":"<p>What you are searching for is a simple combination of borders for one component. This is what <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.desktop/javax/swing/border/CompoundBorder.html\" rel=\"nofollow noreferrer\">CompoundBorder</a> was created for.</p>\n"}],"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72862073,"answer_count":1,"score":2,"last_activity_date":1656969237,"creation_date":1656909898,"question_id":72851863,"body_markdown":"I&#39;m trying to create a JPanel that has a line border as well as margin (padding), like this \r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut I want to do it without the need to nest JPanel with different borders as currently \r\n\r\n``` Java\r\npublic class FolderSelect extends JPanel {\r\n\r\n    public FolderSelect() {\r\n        super() ;\r\n        BorderLayout bl =new BorderLayout(10,10) ;\r\n        JPanel margin = new JPanel(bl) ;\r\n\r\n        this.setLayout(new BorderLayout());\r\n        this.setBorder(BorderFactory.createLineBorder(Color.gray));\r\n\r\n        margin.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\r\n        margin.add(new JLabel(&quot;Folder to check...&quot;), BorderLayout.PAGE_START) ;\r\n        margin.add(new JTextField(&quot;path/to/folder/to/scan&quot;), BorderLayout.CENTER) ;\r\n        margin.add(new JButton(&quot;...&quot;), BorderLayout.LINE_END) ;\r\n        this.add(margin) ;\r\n    }\r\n}\r\n```\r\n\r\nCan I set a line border with top, right, bottom and left padding in a single JPanel ? \r\n\r\nI actually want to achieve this with JPanel borders without nesting them [![enter image description here][2]][2]\r\n\r\nI do not wish to paint my custom border, I want to know if SWT allows this without nesting panels\r\n\r\n  [1]: https://i.stack.imgur.com/yVrvo.png\r\n  [2]: https://i.stack.imgur.com/XcPuO.png","title":"How to create a border with a line and padding for a JPanel","body":"<p>I'm trying to create a JPanel that has a line border as well as margin (padding), like this</p>\n<p><a href=\"https://i.stack.imgur.com/yVrvo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yVrvo.png\" alt=\"enter image description here\" /></a></p>\n<p>but I want to do it without the need to nest JPanel with different borders as currently</p>\n<pre><code>public class FolderSelect extends JPanel {\n\n    public FolderSelect() {\n        super() ;\n        BorderLayout bl =new BorderLayout(10,10) ;\n        JPanel margin = new JPanel(bl) ;\n\n        this.setLayout(new BorderLayout());\n        this.setBorder(BorderFactory.createLineBorder(Color.gray));\n\n        margin.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\n        margin.add(new JLabel(&quot;Folder to check...&quot;), BorderLayout.PAGE_START) ;\n        margin.add(new JTextField(&quot;path/to/folder/to/scan&quot;), BorderLayout.CENTER) ;\n        margin.add(new JButton(&quot;...&quot;), BorderLayout.LINE_END) ;\n        this.add(margin) ;\n    }\n}\n</code></pre>\n<p>Can I set a line border with top, right, bottom and left padding in a single JPanel ?</p>\n<p>I actually want to achieve this with JPanel borders without nesting them <a href=\"https://i.stack.imgur.com/XcPuO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XcPuO.png\" alt=\"enter image description here\" /></a></p>\n<p>I do not wish to paint my custom border, I want to know if SWT allows this without nesting panels</p>\n"},{"tags":["java","hierarchy","encapsulation"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1644104933,"post_id":71003061,"comment_id":125517881,"body_markdown":"You should remove `String.format(&quot;%.2f&quot;,getPrice());` - that doesn&#39;t actually use the formatted `String`, and it invokes `getPrice` a second time (you invoke it the first time with the `toString` method). Today would be a great day to learn how to use a debugger.","body":"You should remove <code>String.format(&quot;%.2f&quot;,getPrice());</code> - that doesn&#39;t actually use the formatted <code>String</code>, and it invokes <code>getPrice</code> a second time (you invoke it the first time with the <code>toString</code> method). Today would be a great day to learn how to use a debugger."}],"answers":[{"tags":[],"owner":{"account_id":19885551,"reputation":49,"user_id":14568589,"display_name":"pauan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644120899,"creation_date":1644119722,"answer_id":71004075,"question_id":71003061,"body_markdown":"Remove your getPrice() and Display() methods and include this code in your FruitSnack Class\r\n\r\nsmall edit you don&#39;t need the setter. Instead update the price in getPrice() method.\r\n\r\n    private double price\r\n    //public void setPrice(double price){\r\n\t    //this.price = super.getPrice() + 5.99;\r\n    //}\r\n\r\n    public double getPrice() {\r\n        return super.getPrice() + 5.99;    \r\n    }\r\n\r\n    public void display() {\r\n\t    if (! this.Citrus)\r\n            System.out.println(&quot;That is not a citrus fruit your price \r\n            is:\\n&quot; + super.getPrice());\r\n\t    else\r\n            System.out.println(getPrice());\r\n    }\r\n\r\n ","title":"How can I change this to have it stop printing the else statement on top and bottom?","body":"<p>Remove your getPrice() and Display() methods and include this code in your FruitSnack Class</p>\n<p>small edit you don't need the setter. Instead update the price in getPrice() method.</p>\n<pre><code>private double price\n//public void setPrice(double price){\n    //this.price = super.getPrice() + 5.99;\n//}\n\npublic double getPrice() {\n    return super.getPrice() + 5.99;    \n}\n\npublic void display() {\n    if (! this.Citrus)\n        System.out.println(&quot;That is not a citrus fruit your price \n        is:\\n&quot; + super.getPrice());\n    else\n        System.out.println(getPrice());\n}\n</code></pre>\n"}],"owner":{"account_id":23455769,"reputation":29,"user_id":17511284,"display_name":"Jake Scanlan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1656968637,"creation_date":1644104386,"question_id":71003061,"body_markdown":" \tpublic double getPrice() {\r\n\t\tif(size.equals(&quot;S&quot;)) {\r\n\t\t\tprice = 19.99;\r\n\t\t}\r\n\t\telse if(size.equals(&quot;M&quot;)) {\r\n\t\t\tprice = 29.99;\r\n\t\t}\r\n\t\telse if(size.equals(&quot;L&quot;)) {\r\n\t\t\tprice = 39.99;\r\n\t\t}\r\n\t\treturn price;\r\n\t}\r\n}\r\n\t\r\n\tpublic double getPrice() {\r\n\t\t\r\n\t\t\r\n\t\tif(this.Citrus) {\r\n\t\t\treturn super.getPrice() + 5.99;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;That is not a citrus fruit your price is: &quot; + super.getPrice());\r\n\t\t\treturn super.getPrice();\r\n\r\nWas wondering why my getPrice() was printing in two spaces, but I managed to figure it out.","title":"How can I change this to have it stop printing the else statement on top and bottom?","body":"<pre><code>public double getPrice() {\n    if(size.equals(&quot;S&quot;)) {\n        price = 19.99;\n    }\n    else if(size.equals(&quot;M&quot;)) {\n        price = 29.99;\n    }\n    else if(size.equals(&quot;L&quot;)) {\n        price = 39.99;\n    }\n    return price;\n}\n</code></pre>\n<p>}</p>\n<pre><code>public double getPrice() {\n    \n    \n    if(this.Citrus) {\n        return super.getPrice() + 5.99;\n    }\n    else {\n        System.out.println(&quot;That is not a citrus fruit your price is: &quot; + super.getPrice());\n        return super.getPrice();\n</code></pre>\n<p>Was wondering why my getPrice() was printing in two spaces, but I managed to figure it out.</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":10850257,"reputation":661,"user_id":7978231,"accept_rate":90,"display_name":"Orkhan Hasanli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656967751,"creation_date":1656967751,"answer_id":72861905,"question_id":72861813,"body_markdown":"* Endpoint `/todos/{id}` returns one ToDo object.\r\n* Endpoint `/todos` returns the List of ToDo objects.\r\nAccording to SOLID principle each class or method must do only one thing (return an object or list of objects). So you need to separate methods.\r\nI think using optional pathVariable is a bad practice.","title":"Spring Boot Optional Path Variables","body":"<ul>\n<li>Endpoint <code>/todos/{id}</code> returns one ToDo object.</li>\n<li>Endpoint <code>/todos</code> returns the List of ToDo objects.\nAccording to SOLID principle each class or method must do only one thing (return an object or list of objects). So you need to separate methods.\nI think using optional pathVariable is a bad practice.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13773487,"reputation":608,"user_id":10707187,"display_name":"midugh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656967808,"creation_date":1656967808,"answer_id":72861914,"question_id":72861813,"body_markdown":"&gt; I know that this approach can quickly lead to a large number of (almost) duplicate code-blocks.\r\n\r\nwell it is not exactly true that code is duplicate.\r\nThe parameter is not exactly separated. The endpoint with the parameter leads to a a given item whereas the second endpoint leads to a list of elements.\r\nEven the return type is not the same although you may not see it since you return object.\r\n\r\nTherefore, the first method (2 different endpoint handlers) is a far better approach than the second one.","title":"Spring Boot Optional Path Variables","body":"<blockquote>\n<p>I know that this approach can quickly lead to a large number of (almost) duplicate code-blocks.</p>\n</blockquote>\n<p>well it is not exactly true that code is duplicate.\nThe parameter is not exactly separated. The endpoint with the parameter leads to a a given item whereas the second endpoint leads to a list of elements.\nEven the return type is not the same although you may not see it since you return object.</p>\n<p>Therefore, the first method (2 different endpoint handlers) is a far better approach than the second one.</p>\n"}],"owner":{"display_name":"user19254373"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656967808,"creation_date":1656967030,"question_id":72861813,"body_markdown":"In our Spring Boot app, we use separate endpoints for optional parameters as shown below:\r\n\r\n```\r\n// two methods - not recommended\r\n@GetMapping(&quot;/todos/{id}&quot;)\r\npublic @ResponseBody Todo fetchTodoById(@PathVariable Long id) {\r\n    return todoRespository.findById(id);\r\n}\r\n\r\n@GetMapping(&quot;/todos&quot;)\r\npublic @ResponseBody List&lt;Todo&gt; fetchAllTodos() {\r\n    return todoRespository.findAll();\r\n}\r\n```\r\n\r\nI know that this approach can quickly lead to a large number of (almost) duplicate code-blocks.\r\n\r\nTo fix this, I can use one of the following approaches:\r\n\r\n```\r\n@GetMapping(value = {&quot;/todos&quot;, &quot;/todos/{id}&quot;})\r\npublic @ResponseBody Object fetchTodos(@PathVariable(required = false) Long id) {\r\n    if (id == null) {\r\n        return todoRespository.findById(id);\r\n    } else {\r\n        return todoRespository.findAll();\r\n    }\r\n}\r\n```\r\n\r\nand a similar way using Java `Optional`. However, even if it seems better, I think it may be much better to use a separate endpoint. So, which one is proper approach?","title":"Spring Boot Optional Path Variables","body":"<p>In our Spring Boot app, we use separate endpoints for optional parameters as shown below:</p>\n<pre><code>// two methods - not recommended\n@GetMapping(&quot;/todos/{id}&quot;)\npublic @ResponseBody Todo fetchTodoById(@PathVariable Long id) {\n    return todoRespository.findById(id);\n}\n\n@GetMapping(&quot;/todos&quot;)\npublic @ResponseBody List&lt;Todo&gt; fetchAllTodos() {\n    return todoRespository.findAll();\n}\n</code></pre>\n<p>I know that this approach can quickly lead to a large number of (almost) duplicate code-blocks.</p>\n<p>To fix this, I can use one of the following approaches:</p>\n<pre><code>@GetMapping(value = {&quot;/todos&quot;, &quot;/todos/{id}&quot;})\npublic @ResponseBody Object fetchTodos(@PathVariable(required = false) Long id) {\n    if (id == null) {\n        return todoRespository.findById(id);\n    } else {\n        return todoRespository.findAll();\n    }\n}\n</code></pre>\n<p>and a similar way using Java <code>Optional</code>. However, even if it seems better, I think it may be much better to use a separate endpoint. So, which one is proper approach?</p>\n"},{"tags":["python","java","ruby","grammar-induction"],"comments":[{"owner":{"account_id":503387,"reputation":30660,"user_id":975097,"accept_rate":82,"display_name":"Anderson Green"},"score":0,"creation_date":1695851299,"post_id":5958483,"comment_id":136080866,"body_markdown":"There are several libraries that implement [DFA learning algorithms](https://stackoverflow.com/questions/15512918/grammatical-inference-of-regular-expressions-for-given-finite-list-of-representa/15519725#15519725) for grammar induction.","body":"There are several libraries that implement <a href=\"https://stackoverflow.com/questions/15512918/grammatical-inference-of-regular-expressions-for-given-finite-list-of-representa/15519725#15519725\">DFA learning algorithms</a> for grammar induction."}],"answers":[{"tags":[],"owner":{"account_id":171452,"reputation":7936,"user_id":398885,"display_name":"d-live"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1305080773,"creation_date":1305080773,"answer_id":5958573,"question_id":5958483,"body_markdown":"You can have a look at antlr - http://www.antlr.org/\r\nand see if its what you&#39;re looking for.","title":"Grammar inference library?","body":"<p>You can have a look at antlr - <a href=\"http://www.antlr.org/\" rel=\"nofollow\">http://www.antlr.org/</a>\nand see if its what you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":372736,"reputation":2561,"user_id":721956,"accept_rate":54,"display_name":"Askar Kalykov"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1319222159,"creation_date":1319222159,"answer_id":7853768,"question_id":5958483,"body_markdown":"Take a look at Parboiled: https://github.com/sirthias/parboiled\r\nIt doesn&#39;t generates any sources, just create a class in your app, define a model in it, and make a call from your code.","title":"Grammar inference library?","body":"<p>Take a look at Parboiled: <a href=\"https://github.com/sirthias/parboiled\" rel=\"nofollow\">https://github.com/sirthias/parboiled</a>\nIt doesn't generates any sources, just create a class in your app, define a model in it, and make a call from your code.</p>\n"},{"tags":[],"owner":{"account_id":2283574,"reputation":5490,"user_id":2008149,"accept_rate":94,"display_name":"Stephen Lin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1363759197,"creation_date":1363759197,"answer_id":15516373,"question_id":5958483,"body_markdown":"I have not used them yet, but I had this identical question and (after much searching) found these two libraries, at very least:\r\n\r\n* [libalf](http://libalf.informatik.rwth-aachen.de/index.php?page=about) for C++\r\n* [gitoolbox](https://code.google.com/p/gitoolbox/) for MATLAB\r\n\r\nUnlike the other answers to the question, these are actual **grammar inference libraries** rather than **parser generators**.","title":"Grammar inference library?","body":"<p>I have not used them yet, but I had this identical question and (after much searching) found these two libraries, at very least:</p>\n\n<ul>\n<li><a href=\"http://libalf.informatik.rwth-aachen.de/index.php?page=about\" rel=\"nofollow\">libalf</a> for C++</li>\n<li><a href=\"https://code.google.com/p/gitoolbox/\" rel=\"nofollow\">gitoolbox</a> for MATLAB</li>\n</ul>\n\n<p>Unlike the other answers to the question, these are actual <strong>grammar inference libraries</strong> rather than <strong>parser generators</strong>.</p>\n"}],"owner":{"account_id":115820,"reputation":10279,"user_id":303931,"accept_rate":75,"display_name":"Lucas Wiman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1927,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15516373,"answer_count":3,"score":5,"last_activity_date":1656967537,"creation_date":1305079839,"question_id":5958483,"body_markdown":"What are the best (or any) open source libraries for regular or context-free grammar inference from a set of examples believed to be generated by a common grammar?  I&#39;d prefer a good library in Java, Python or Ruby, but of course beggars can&#39;t be choosers.\r\n\r\nI did some googling, but couldn&#39;t find any actual implementations, though I did find plenty of interesting references.  [This library](http://www.lrde.epita.fr/dload/20030604-Seminar/max0604_mical_slides.pdf) looks interesting, but I couldn&#39;t find it available for download anywhere.\r\n\r\nEdit (2011-11-14): For clarity (though I&#39;m not sure how you all misunderstood), the question was about grammar inference, not grammar generation or parsing.  In other words, given a set of strings which accord to an unknown grammar, find the most restrictive grammar which they all satisfy.","title":"Grammar inference library?","body":"<p>What are the best (or any) open source libraries for regular or context-free grammar inference from a set of examples believed to be generated by a common grammar?  I'd prefer a good library in Java, Python or Ruby, but of course beggars can't be choosers.</p>\n\n<p>I did some googling, but couldn't find any actual implementations, though I did find plenty of interesting references.  <a href=\"http://www.lrde.epita.fr/dload/20030604-Seminar/max0604_mical_slides.pdf\" rel=\"nofollow\">This library</a> looks interesting, but I couldn't find it available for download anywhere.</p>\n\n<p>Edit (2011-11-14): For clarity (though I'm not sure how you all misunderstood), the question was about grammar inference, not grammar generation or parsing.  In other words, given a set of strings which accord to an unknown grammar, find the most restrictive grammar which they all satisfy.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"score":0,"creation_date":1656959822,"post_id":72860565,"comment_id":128692331,"body_markdown":"first post on SO in google on SetAnimation query answers your question.\nuse startAnimation","body":"first post on SO in google on SetAnimation query answers your question. use startAnimation"},{"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"score":0,"creation_date":1656962076,"post_id":72860565,"comment_id":128692820,"body_markdown":"Does this answer your question? [setAnimation vs startAnimation in android](https://stackoverflow.com/questions/10909865/setanimation-vs-startanimation-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10909865/setanimation-vs-startanimation-in-android\">setAnimation vs startAnimation in android</a>"},{"owner":{"account_id":20574320,"reputation":15,"user_id":17701239,"display_name":"Yadigar Yusifov"},"score":0,"creation_date":1656965104,"post_id":72860565,"comment_id":128693527,"body_markdown":"Yes, but I still have not got what is the point to use setAnimation() if it will not demonstrate anything on the screen. I mean when do we need to use setAnimation().","body":"Yes, but I still have not got what is the point to use setAnimation() if it will not demonstrate anything on the screen. I mean when do we need to use setAnimation()."},{"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"score":0,"creation_date":1656966497,"post_id":72860565,"comment_id":128693872,"body_markdown":"ok. I will add an aswer","body":"ok. I will add an aswer"}],"answers":[{"tags":[],"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656967516,"creation_date":1656967516,"answer_id":72861868,"question_id":72860565,"body_markdown":"Every android `View` has a protected property `mCurrentAnimation`. You can use methods `setAnimation`, `getAnimation` and `clearAnimation` to access this property and attach/detach animation to a view. Generally, аnimation wont start playing if you just set it.\r\n\r\nLet&#39;s check `startAnimation` code:\r\n\r\n            public void startAnimation(Animation animation) {\r\n                animation.setStartTime(Animation.START_ON_FIRST_FRAME);\r\n                setAnimation(animation);\r\n                invalidateParentCaches();\r\n                invalidate(true);\r\n            }\r\n\r\nYou see? It sets start time for your animation to run next frame (immediately), attaches animation to a view with `setAnimation` method and calls invalidate (ask android to redraw this view). Without invalidate, animation could not start.\r\n\r\nP.S. This is an old API for animation. Check android dev site for up to date API.","title":"Shake animation does not appear on the app","body":"<p>Every android <code>View</code> has a protected property <code>mCurrentAnimation</code>. You can use methods <code>setAnimation</code>, <code>getAnimation</code> and <code>clearAnimation</code> to access this property and attach/detach animation to a view. Generally, аnimation wont start playing if you just set it.</p>\n<p>Let's check <code>startAnimation</code> code:</p>\n<pre><code>        public void startAnimation(Animation animation) {\n            animation.setStartTime(Animation.START_ON_FIRST_FRAME);\n            setAnimation(animation);\n            invalidateParentCaches();\n            invalidate(true);\n        }\n</code></pre>\n<p>You see? It sets start time for your animation to run next frame (immediately), attaches animation to a view with <code>setAnimation</code> method and calls invalidate (ask android to redraw this view). Without invalidate, animation could not start.</p>\n<p>P.S. This is an old API for animation. Check android dev site for up to date API.</p>\n"}],"owner":{"account_id":20574320,"reputation":15,"user_id":17701239,"display_name":"Yadigar Yusifov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72861868,"answer_count":1,"score":1,"last_activity_date":1656967516,"creation_date":1656957846,"question_id":72860565,"body_markdown":"I am new in android. So I tried to apply shake animation for wrong answers in a quiz app. But it does not work. I also checked similar questions on this website but I could not find my \r\nmistake on my code. In terms of syntax, I guess everything is correct. Could you please help me on this?\r\n\r\n&#39;&#39;&#39;\r\n\r\n    package com.example.trivaapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.databinding.DataBindingUtil;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.view.animation.Animation;\r\n    import android.view.animation.AnimationUtils;\r\n    import android.widget.Toast;\r\n    import com.example.trivaapp.data.Repository;\r\n    \r\n    import com.example.trivaapp.databinding.ActivityMainBinding;\r\n    import com.example.trivaapp.model.Question;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity{\r\n\r\n    List&lt;Question&gt; questionArrayList;\r\n\r\n    ActivityMainBinding binding;\r\n    int questionNumber = 0;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\r\n\r\n        questionArrayList = new Repository().getQuestionList(az -&gt;{\r\n\r\n            binding.questionText.setText(az.get(questionNumber).getAnswer());\r\n\r\n            binding.QuestionNumber.setText(questionNumber + &quot;/&quot; + az.size());\r\n        });\r\n        binding.trueButton.setOnClickListener(view -&gt; {\r\n\r\n            if(true == questionArrayList.get(questionNumber).isTruenswer()){\r\n                Toast.makeText(MainActivity.this, R.string.correct, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else{\r\n                Toast.makeText(MainActivity.this, R.string.incorrect, Toast.LENGTH_SHORT).show();\r\n                ShakeAnimation();\r\n            }\r\n        });\r\n\r\n        binding.falseButton.setOnClickListener(view -&gt; {\r\n\r\n            if(false == questionArrayList.get(questionNumber).isTruenswer()){\r\n                Toast.makeText(MainActivity.this, R.string.correct, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else{\r\n                Toast.makeText(MainActivity.this, R.string.incorrect, Toast.LENGTH_SHORT).show();\r\n                ShakeAnimation();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void ShakeAnimation() {\r\n        Animation shakeAnimation = AnimationUtils.loadAnimation(MainActivity.this, R.anim.shake);\r\n        binding.cardView.setAnimation(shakeAnimation);\r\n    }\r\n\r\n    public void Next(View view) {\r\n        questionNumber = (questionNumber &lt; questionArrayList.size()) ? ++questionNumber : questionNumber;\r\n\r\n\r\n        binding.questionText.setText(questionArrayList.get(questionNumber).getAnswer());\r\n\r\n        binding.QuestionNumber.setText(questionNumber + &quot;/&quot; + questionArrayList.size());\r\n    }\r\n        }\r\n&#39;&#39;&#39;\r\n\r\n\r\n\r\nMy shake.xml code:\r\n\r\n&#39;&#39;&#39;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;rotate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:duration=&quot;150&quot;\r\n        android:fromDegrees=&quot;-10&quot;\r\n        android:pivotX=&quot;10%&quot;\r\n        android:pivotY=&quot;10%&quot;\r\n        android:repeatCount=&quot;1&quot;\r\n        android:repeatMode=&quot;reverse&quot;\r\n        android:toDegrees=&quot;10&quot;\r\n    /&gt;","title":"Shake animation does not appear on the app","body":"<p>I am new in android. So I tried to apply shake animation for wrong answers in a quiz app. But it does not work. I also checked similar questions on this website but I could not find my\nmistake on my code. In terms of syntax, I guess everything is correct. Could you please help me on this?</p>\n<p>'''</p>\n<pre><code>package com.example.trivaapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.databinding.DataBindingUtil;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.animation.Animation;\nimport android.view.animation.AnimationUtils;\nimport android.widget.Toast;\nimport com.example.trivaapp.data.Repository;\n\nimport com.example.trivaapp.databinding.ActivityMainBinding;\nimport com.example.trivaapp.model.Question;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity{\n\nList&lt;Question&gt; questionArrayList;\n\nActivityMainBinding binding;\nint questionNumber = 0;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.activity_main);\n\n    binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n\n    questionArrayList = new Repository().getQuestionList(az -&gt;{\n\n        binding.questionText.setText(az.get(questionNumber).getAnswer());\n\n        binding.QuestionNumber.setText(questionNumber + &quot;/&quot; + az.size());\n    });\n    binding.trueButton.setOnClickListener(view -&gt; {\n\n        if(true == questionArrayList.get(questionNumber).isTruenswer()){\n            Toast.makeText(MainActivity.this, R.string.correct, Toast.LENGTH_SHORT).show();\n        }\n        else{\n            Toast.makeText(MainActivity.this, R.string.incorrect, Toast.LENGTH_SHORT).show();\n            ShakeAnimation();\n        }\n    });\n\n    binding.falseButton.setOnClickListener(view -&gt; {\n\n        if(false == questionArrayList.get(questionNumber).isTruenswer()){\n            Toast.makeText(MainActivity.this, R.string.correct, Toast.LENGTH_SHORT).show();\n        }\n        else{\n            Toast.makeText(MainActivity.this, R.string.incorrect, Toast.LENGTH_SHORT).show();\n            ShakeAnimation();\n        }\n    });\n}\n\nprivate void ShakeAnimation() {\n    Animation shakeAnimation = AnimationUtils.loadAnimation(MainActivity.this, R.anim.shake);\n    binding.cardView.setAnimation(shakeAnimation);\n}\n\npublic void Next(View view) {\n    questionNumber = (questionNumber &lt; questionArrayList.size()) ? ++questionNumber : questionNumber;\n\n\n    binding.questionText.setText(questionArrayList.get(questionNumber).getAnswer());\n\n    binding.QuestionNumber.setText(questionNumber + &quot;/&quot; + questionArrayList.size());\n}\n    }\n</code></pre>\n<p>'''</p>\n<p>My shake.xml code:</p>\n<p>'''</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;rotate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:duration=&quot;150&quot;\n    android:fromDegrees=&quot;-10&quot;\n    android:pivotX=&quot;10%&quot;\n    android:pivotY=&quot;10%&quot;\n    android:repeatCount=&quot;1&quot;\n    android:repeatMode=&quot;reverse&quot;\n    android:toDegrees=&quot;10&quot;\n/&gt;\n</code></pre>\n"},{"tags":["python","java","pyspark","apache-spark-sql","collect"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1656971550,"post_id":72861743,"comment_id":128694928,"body_markdown":"`[Errno 111] Connection refused` - The server you are trying to connect to is not running, or is not running on that port.","body":"<code>[Errno 111] Connection refused</code> - The server you are trying to connect to is not running, or is not running on that port."},{"owner":{"account_id":14822130,"reputation":853,"user_id":10994166,"display_name":"Chris_007"},"score":0,"creation_date":1656975502,"post_id":72861743,"comment_id":128695532,"body_markdown":"@JimGarrison when I load the different file in same place, it&#39;s running fine, it&#39;s just this file which is throwing error.","body":"@JimGarrison when I load the different file in same place, it&#39;s running fine, it&#39;s just this file which is throwing error."}],"owner":{"account_id":14822130,"reputation":853,"user_id":10994166,"display_name":"Chris_007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656966471,"creation_date":1656966471,"question_id":72861743,"body_markdown":"I have pyspark dataframe like this:\r\n\r\n```\r\nx     y\r\n656  78\r\n766  87\r\n677  63\r\n.    .\r\n.    .\r\n.    .\r\n```\r\nWhere I have around 72 million rows. Now I want to plot histogram for this pyspark df for column ```y```.\r\nI have tried ```collect()``` and ```toPandas()```.\r\nBut ```collect``` method is throwing error.\r\n\r\n```\r\n[val.y for val in df.select(&#39;y&#39;).collect()]\r\n\r\nOut:\r\nERROR:root:Exception while sending command.\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1159, in send_command\r\n    raise Py4JNetworkError(&quot;Answer from Java side is empty&quot;)\r\npy4j.protocol.Py4JNetworkError: Answer from Java side is empty\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 985, in send_command\r\n    response = connection.send_command(command)\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1164, in send_command\r\n    &quot;Error while receiving&quot;, e, proto.ERROR_ON_RECEIVE)\r\npy4j.protocol.Py4JNetworkError: Error while receiving\r\nERROR:py4j.java_gateway:An error occurred while trying to connect to the Java server (127.0.0.1:32778)\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py&quot;, line 535, in collect\r\n    sock_info = self._jdf.collectToPython()\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1257, in __call__\r\n    answer, self.gateway_client, self.target_id, self.name)\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/utils.py&quot;, line 63, in deco\r\n    return f(*a, **kw)\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py&quot;, line 336, in get_return_value\r\n    format(target_id, &quot;.&quot;, name))\r\npy4j.protocol.Py4JError: An error occurred while calling o180.collectToPython\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 929, in _get_connection\r\n    connection = self.deque.pop()\r\nIndexError: pop from an empty deque\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1067, in start\r\n    self.socket.connect((self.address, self.port))\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n---------------------------------------------------------------------------\r\nPy4JError                                 Traceback (most recent call last)\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py in collect(self)\r\n    534         with SCCallSiteSync(self._sc) as css:\r\n--&gt; 535             sock_info = self._jdf.collectToPython()\r\n    536         return list(_load_from_socket(sock_info, BatchedSerializer(PickleSerializer())))\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in __call__(self, *args)\r\n   1256         return_value = get_return_value(\r\n-&gt; 1257             answer, self.gateway_client, self.target_id, self.name)\r\n   1258 \r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/utils.py in deco(*a, **kw)\r\n     62         try:\r\n---&gt; 63             return f(*a, **kw)\r\n     64         except py4j.protocol.Py4JJavaError as e:\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py in get_return_value(answer, gateway_client, target_id, name)\r\n    335                 &quot;An error occurred while calling {0}{1}{2}&quot;.\r\n--&gt; 336                 format(target_id, &quot;.&quot;, name))\r\n    337     else:\r\n\r\nPy4JError: An error occurred while calling o180.collectToPython\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nIndexError                                Traceback (most recent call last)\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _get_connection(self)\r\n    928         try:\r\n--&gt; 929             connection = self.deque.pop()\r\n    930         except IndexError:\r\n\r\nIndexError: pop from an empty deque\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nConnectionRefusedError                    Traceback (most recent call last)\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in start(self)\r\n   1066         try:\r\n-&gt; 1067             self.socket.connect((self.address, self.port))\r\n   1068             self.stream = self.socket.makefile(&quot;rb&quot;)\r\n\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nPy4JNetworkError                          Traceback (most recent call last)\r\n/tmp/ipykernel_29360/1990936990.py in &lt;module&gt;\r\n----&gt; 1 non_routine_saving = [val.savingsPercent for val in non_routine.select(&#39;savingsPercent&#39;).collect()]\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py in collect(self)\r\n    533         &quot;&quot;&quot;\r\n    534         with SCCallSiteSync(self._sc) as css:\r\n--&gt; 535             sock_info = self._jdf.collectToPython()\r\n    536         return list(_load_from_socket(sock_info, BatchedSerializer(PickleSerializer())))\r\n    537 \r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/traceback_utils.py in __exit__(self, type, value, tb)\r\n     76         SCCallSiteSync._spark_stack_depth -= 1\r\n     77         if SCCallSiteSync._spark_stack_depth == 0:\r\n---&gt; 78             self._context._jsc.setCallSite(None)\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in __call__(self, *args)\r\n   1253             proto.END_COMMAND_PART\r\n   1254 \r\n-&gt; 1255         answer = self.gateway_client.send_command(command)\r\n   1256         return_value = get_return_value(\r\n   1257             answer, self.gateway_client, self.target_id, self.name)\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in send_command(self, command, retry, binary)\r\n    981          if `binary` is `True`.\r\n    982         &quot;&quot;&quot;\r\n--&gt; 983         connection = self._get_connection()\r\n    984         try:\r\n    985             response = connection.send_command(command)\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _get_connection(self)\r\n    929             connection = self.deque.pop()\r\n    930         except IndexError:\r\n--&gt; 931             connection = self._create_connection()\r\n    932         return connection\r\n    933 \r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _create_connection(self)\r\n    935         connection = GatewayConnection(\r\n    936             self.gateway_parameters, self.gateway_property)\r\n--&gt; 937         connection.start()\r\n    938         return connection\r\n    939 \r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in start(self)\r\n   1077                 &quot;server ({0}:{1})&quot;.format(self.address, self.port)\r\n   1078             logger.exception(msg)\r\n-&gt; 1079             raise Py4JNetworkError(msg, e)\r\n   1080 \r\n   1081     def _authenticate_connection(self):\r\n\r\nPy4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:32778)\r\n```\r\n\r\nSpark Config:\r\n```\r\nfrom __future__ import print_function\r\nfrom platform import python_version\r\nimport os\r\n\r\nimport numpy as np\r\nimport matplotlib.pyplot as plt\r\nimport pandas as pd\r\nimport numpy as np\r\nimport json\r\nimport csv\r\nimport pickle as pkl\r\nimport seaborn as sns\r\nimport plotly.express as px\r\nfrom datetime import date, datetime, timedelta\r\n\r\nimport findspark\r\nfindspark.init()\r\n\r\nfrom pyspark import SparkConf\r\nfrom pyspark.sql import SparkSession\r\nimport pyspark.sql.types as T\r\nfrom pyspark.sql import functions as f\r\nfrom pyspark.sql.functions import col, countDistinct\r\n\r\n\r\nfrom pyspark.sql.window import Window\r\n\r\npd.set_option(&#39;display.max_columns&#39;, None)\r\n\r\n# Constants for application\r\nAPPLICATION_NAME = &quot;p13n_data_introduction&quot;\r\nCHECKPOINT_DIRECTORY = &quot;gs://p13n-storage2/user/s1b0jec&quot;\r\n\r\nspark_config = {}\r\nspark_config[&quot;spark.executor.memory&quot;] = &quot;32G&quot;\r\n# spark_config[&quot;spark.executor.memoryOverhead&quot;] = &quot;4G&quot;\r\nspark_config[&quot;spark.executor.cores&quot;] = &quot;32&quot;\r\nspark_config[&quot;spark.driver.memory&quot;] = &quot;32G&quot;\r\n# spark_config[&quot;spark.shuffle.memoryFraction&quot;] = &quot;0&quot; \r\n\r\n\r\n# Executor config\r\nspark_config[&quot;spark.dyamicAllocation.enable&quot;] = &quot;true&quot;\r\nspark_config[&quot;spark.dynamicAllocation.minExecutors&quot;] = &quot;100&quot;\r\nspark_config[&quot;spark.dynamicAllocation.maxExecutors&quot;] = &quot;300&quot;\r\n\r\nspark_config[&quot;spark.submit.deployMode&quot;] = &quot;client&quot;\r\nspark_config[&quot;spark.hive.mapred.supports.subdirectories&quot;] = &quot;true&quot;\r\nspark_config[&quot;spark.yarn.queue&quot;] = &quot;default&quot;\r\nspark_config[&quot;spark.hadoop.mapreduce.input.fileinputformat.input.dir.recursive&quot;] = &quot;true&quot;\r\nspark_config[&quot;spark.hadoop.hive.exec.dynamic.partition&quot;] = &quot;true&quot;\r\nspark_config[&quot;spark.hadoop.hive.exec.dynamic.partition.mode&quot;] = &quot;nonstrict&quot;\r\nspark_config[&quot;spark.hadoop.hive.exec.max.dynamic.partitions.pernode&quot;] = &quot;100&quot;\r\n\r\nspark_config[&quot;spark.yarn.dist.archives&quot;] = &quot;gs://p13n-storage2/user/s1b0jec/envs/spark.zip#mypython&quot;\r\n# spark_config[&quot;spark.yarn.appMasterEnv.PYSPARK_PYTHON&quot;] = \r\n\r\n# spark_config[&quot;spark.yarn.appMasterEnv.PYSPARK_DRIVER_PYTHON&quot;] = &quot;python&quot; # For client mode it&#39;s the default `python` executable, whereas for cluster mode we use the distributed python environment\r\n\r\nos.environ[&#39;PYSPARK_PYTHON&#39;] = &quot;./mypython/spark/bin/python&quot;\r\nos.environ[&#39;PYSPARK_DRIVER_PYTHON&#39;] = &quot;python&quot;\r\n\r\nspark_config[&quot;spark.jars&quot;] = &quot;/opt/lib/bfdms-ien/dp1.5/lib/apache-hive-1.3.0-SNAPSHOT-bin/hcatalog/share/hcatalog/hive-hcatalog-core-1.3.0-SNAPSHOT.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-api-jdo-3.2.6.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-rdbms-3.2.9.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-core-3.2.10.jar&quot;\r\nspark_conf = SparkConf().setAll(spark_config.items())\r\n\r\n\r\nspark = SparkSession.builder.appName(APPLICATION_NAME) \\\r\n    .config(conf=spark_conf).enableHiveSupport().getOrCreate()\r\n\r\nprint(&quot;Spark session created: &quot;, spark.sparkContext.applicationId)\r\nspark.sparkContext.setCheckpointDir(CHECKPOINT_DIRECTORY)\r\n\r\nimport warnings\r\nwarnings.filterwarnings(&quot;ignore&quot;)\r\n```","title":"Py4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:32778)","body":"<p>I have pyspark dataframe like this:</p>\n<pre><code>x     y\n656  78\n766  87\n677  63\n.    .\n.    .\n.    .\n</code></pre>\n<p>Where I have around 72 million rows. Now I want to plot histogram for this pyspark df for column <code>y</code>.\nI have tried <code>collect()</code> and <code>toPandas()</code>.\nBut <code>collect</code> method is throwing error.</p>\n<pre><code>[val.y for val in df.select('y').collect()]\n\nOut:\nERROR:root:Exception while sending command.\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1159, in send_command\n    raise Py4JNetworkError(&quot;Answer from Java side is empty&quot;)\npy4j.protocol.Py4JNetworkError: Answer from Java side is empty\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 985, in send_command\n    response = connection.send_command(command)\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1164, in send_command\n    &quot;Error while receiving&quot;, e, proto.ERROR_ON_RECEIVE)\npy4j.protocol.Py4JNetworkError: Error while receiving\nERROR:py4j.java_gateway:An error occurred while trying to connect to the Java server (127.0.0.1:32778)\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py&quot;, line 535, in collect\n    sock_info = self._jdf.collectToPython()\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1257, in __call__\n    answer, self.gateway_client, self.target_id, self.name)\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/utils.py&quot;, line 63, in deco\n    return f(*a, **kw)\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py&quot;, line 336, in get_return_value\n    format(target_id, &quot;.&quot;, name))\npy4j.protocol.Py4JError: An error occurred while calling o180.collectToPython\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 929, in _get_connection\n    connection = self.deque.pop()\nIndexError: pop from an empty deque\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1067, in start\n    self.socket.connect((self.address, self.port))\nConnectionRefusedError: [Errno 111] Connection refused\n---------------------------------------------------------------------------\nPy4JError                                 Traceback (most recent call last)\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py in collect(self)\n    534         with SCCallSiteSync(self._sc) as css:\n--&gt; 535             sock_info = self._jdf.collectToPython()\n    536         return list(_load_from_socket(sock_info, BatchedSerializer(PickleSerializer())))\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in __call__(self, *args)\n   1256         return_value = get_return_value(\n-&gt; 1257             answer, self.gateway_client, self.target_id, self.name)\n   1258 \n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/utils.py in deco(*a, **kw)\n     62         try:\n---&gt; 63             return f(*a, **kw)\n     64         except py4j.protocol.Py4JJavaError as e:\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py in get_return_value(answer, gateway_client, target_id, name)\n    335                 &quot;An error occurred while calling {0}{1}{2}&quot;.\n--&gt; 336                 format(target_id, &quot;.&quot;, name))\n    337     else:\n\nPy4JError: An error occurred while calling o180.collectToPython\n\nDuring handling of the above exception, another exception occurred:\n\nIndexError                                Traceback (most recent call last)\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _get_connection(self)\n    928         try:\n--&gt; 929             connection = self.deque.pop()\n    930         except IndexError:\n\nIndexError: pop from an empty deque\n\nDuring handling of the above exception, another exception occurred:\n\nConnectionRefusedError                    Traceback (most recent call last)\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in start(self)\n   1066         try:\n-&gt; 1067             self.socket.connect((self.address, self.port))\n   1068             self.stream = self.socket.makefile(&quot;rb&quot;)\n\nConnectionRefusedError: [Errno 111] Connection refused\n\nDuring handling of the above exception, another exception occurred:\n\nPy4JNetworkError                          Traceback (most recent call last)\n/tmp/ipykernel_29360/1990936990.py in &lt;module&gt;\n----&gt; 1 non_routine_saving = [val.savingsPercent for val in non_routine.select('savingsPercent').collect()]\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py in collect(self)\n    533         &quot;&quot;&quot;\n    534         with SCCallSiteSync(self._sc) as css:\n--&gt; 535             sock_info = self._jdf.collectToPython()\n    536         return list(_load_from_socket(sock_info, BatchedSerializer(PickleSerializer())))\n    537 \n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/traceback_utils.py in __exit__(self, type, value, tb)\n     76         SCCallSiteSync._spark_stack_depth -= 1\n     77         if SCCallSiteSync._spark_stack_depth == 0:\n---&gt; 78             self._context._jsc.setCallSite(None)\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in __call__(self, *args)\n   1253             proto.END_COMMAND_PART\n   1254 \n-&gt; 1255         answer = self.gateway_client.send_command(command)\n   1256         return_value = get_return_value(\n   1257             answer, self.gateway_client, self.target_id, self.name)\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in send_command(self, command, retry, binary)\n    981          if `binary` is `True`.\n    982         &quot;&quot;&quot;\n--&gt; 983         connection = self._get_connection()\n    984         try:\n    985             response = connection.send_command(command)\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _get_connection(self)\n    929             connection = self.deque.pop()\n    930         except IndexError:\n--&gt; 931             connection = self._create_connection()\n    932         return connection\n    933 \n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _create_connection(self)\n    935         connection = GatewayConnection(\n    936             self.gateway_parameters, self.gateway_property)\n--&gt; 937         connection.start()\n    938         return connection\n    939 \n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in start(self)\n   1077                 &quot;server ({0}:{1})&quot;.format(self.address, self.port)\n   1078             logger.exception(msg)\n-&gt; 1079             raise Py4JNetworkError(msg, e)\n   1080 \n   1081     def _authenticate_connection(self):\n\nPy4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:32778)\n</code></pre>\n<p>Spark Config:</p>\n<pre><code>from __future__ import print_function\nfrom platform import python_version\nimport os\n\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nimport json\nimport csv\nimport pickle as pkl\nimport seaborn as sns\nimport plotly.express as px\nfrom datetime import date, datetime, timedelta\n\nimport findspark\nfindspark.init()\n\nfrom pyspark import SparkConf\nfrom pyspark.sql import SparkSession\nimport pyspark.sql.types as T\nfrom pyspark.sql import functions as f\nfrom pyspark.sql.functions import col, countDistinct\n\n\nfrom pyspark.sql.window import Window\n\npd.set_option('display.max_columns', None)\n\n# Constants for application\nAPPLICATION_NAME = &quot;p13n_data_introduction&quot;\nCHECKPOINT_DIRECTORY = &quot;gs://p13n-storage2/user/s1b0jec&quot;\n\nspark_config = {}\nspark_config[&quot;spark.executor.memory&quot;] = &quot;32G&quot;\n# spark_config[&quot;spark.executor.memoryOverhead&quot;] = &quot;4G&quot;\nspark_config[&quot;spark.executor.cores&quot;] = &quot;32&quot;\nspark_config[&quot;spark.driver.memory&quot;] = &quot;32G&quot;\n# spark_config[&quot;spark.shuffle.memoryFraction&quot;] = &quot;0&quot; \n\n\n# Executor config\nspark_config[&quot;spark.dyamicAllocation.enable&quot;] = &quot;true&quot;\nspark_config[&quot;spark.dynamicAllocation.minExecutors&quot;] = &quot;100&quot;\nspark_config[&quot;spark.dynamicAllocation.maxExecutors&quot;] = &quot;300&quot;\n\nspark_config[&quot;spark.submit.deployMode&quot;] = &quot;client&quot;\nspark_config[&quot;spark.hive.mapred.supports.subdirectories&quot;] = &quot;true&quot;\nspark_config[&quot;spark.yarn.queue&quot;] = &quot;default&quot;\nspark_config[&quot;spark.hadoop.mapreduce.input.fileinputformat.input.dir.recursive&quot;] = &quot;true&quot;\nspark_config[&quot;spark.hadoop.hive.exec.dynamic.partition&quot;] = &quot;true&quot;\nspark_config[&quot;spark.hadoop.hive.exec.dynamic.partition.mode&quot;] = &quot;nonstrict&quot;\nspark_config[&quot;spark.hadoop.hive.exec.max.dynamic.partitions.pernode&quot;] = &quot;100&quot;\n\nspark_config[&quot;spark.yarn.dist.archives&quot;] = &quot;gs://p13n-storage2/user/s1b0jec/envs/spark.zip#mypython&quot;\n# spark_config[&quot;spark.yarn.appMasterEnv.PYSPARK_PYTHON&quot;] = \n\n# spark_config[&quot;spark.yarn.appMasterEnv.PYSPARK_DRIVER_PYTHON&quot;] = &quot;python&quot; # For client mode it's the default `python` executable, whereas for cluster mode we use the distributed python environment\n\nos.environ['PYSPARK_PYTHON'] = &quot;./mypython/spark/bin/python&quot;\nos.environ['PYSPARK_DRIVER_PYTHON'] = &quot;python&quot;\n\nspark_config[&quot;spark.jars&quot;] = &quot;/opt/lib/bfdms-ien/dp1.5/lib/apache-hive-1.3.0-SNAPSHOT-bin/hcatalog/share/hcatalog/hive-hcatalog-core-1.3.0-SNAPSHOT.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-api-jdo-3.2.6.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-rdbms-3.2.9.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-core-3.2.10.jar&quot;\nspark_conf = SparkConf().setAll(spark_config.items())\n\n\nspark = SparkSession.builder.appName(APPLICATION_NAME) \\\n    .config(conf=spark_conf).enableHiveSupport().getOrCreate()\n\nprint(&quot;Spark session created: &quot;, spark.sparkContext.applicationId)\nspark.sparkContext.setCheckpointDir(CHECKPOINT_DIRECTORY)\n\nimport warnings\nwarnings.filterwarnings(&quot;ignore&quot;)\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656966459,"creation_date":1656959102,"answer_id":72860749,"question_id":72860537,"body_markdown":"These empty lines you see are placeholders for additional information about the code in the editor. They are called &#39;Inlay Hints&#39; and you can configure them in the Settings dialog.\r\n\r\nIf they are non-empty, these lines may look like this:\r\n\r\n[![Non-empty inlay hint][1]][1]\r\n\r\nThat these lines appear as empty placeholders is indeed irritating. &lt;strike&gt;Maybe it will be fixed&lt;/strike&gt; [It is already fixed](https://youtrack.jetbrains.com/issue/IDEA-297058/Code-vision-hints-give-an-impression-of-yet-another-empty-line-between-members) in 2022.2.\r\n\r\n  [1]: https://i.stack.imgur.com/CZ7kC.png","title":"Intellij changing line spacing automatically","body":"<p>These empty lines you see are placeholders for additional information about the code in the editor. They are called 'Inlay Hints' and you can configure them in the Settings dialog.</p>\n<p>If they are non-empty, these lines may look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/CZ7kC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CZ7kC.png\" alt=\"Non-empty inlay hint\" /></a></p>\n<p>That these lines appear as empty placeholders is indeed irritating. <strike>Maybe it will be fixed</strike> <a href=\"https://youtrack.jetbrains.com/issue/IDEA-297058/Code-vision-hints-give-an-impression-of-yet-another-empty-line-between-members\" rel=\"nofollow noreferrer\">It is already fixed</a> in 2022.2.</p>\n"},{"tags":[],"owner":{"account_id":25354128,"reputation":3100,"user_id":19170534,"display_name":"Andreas Violaris"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656960355,"creation_date":1656959493,"answer_id":72860797,"question_id":72860537,"body_markdown":"It&#39;s a known issue that the `JetBrains` team claims has been resolved.\r\nThe fix is available in version `2022.2 EAP 1`, as indicated in the [relevant ticket][1].\r\n\r\nBecause this is an early access version, you have to install it from `JetBrains Toolbox` (at your own risk), following the steps below: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nOtherwise you can wait until it is released as a stable version.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-291945/Spurious-un-cursorable-white-line-between-javadoc-and-method\r\n  [2]: https://i.stack.imgur.com/nFN6O.png","title":"Intellij changing line spacing automatically","body":"<p>It's a known issue that the <code>JetBrains</code> team claims has been resolved.\nThe fix is available in version <code>2022.2 EAP 1</code>, as indicated in the <a href=\"https://youtrack.jetbrains.com/issue/IDEA-291945/Spurious-un-cursorable-white-line-between-javadoc-and-method\" rel=\"noreferrer\">relevant ticket</a>.</p>\n<p>Because this is an early access version, you have to install it from <code>JetBrains Toolbox</code> (at your own risk), following the steps below:</p>\n<p><a href=\"https://i.stack.imgur.com/nFN6O.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nFN6O.png\" alt=\"enter image description here\" /></a></p>\n<p>Otherwise you can wait until it is released as a stable version.</p>\n"}],"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72860749,"answer_count":2,"score":5,"last_activity_date":1656966459,"creation_date":1656957698,"question_id":72860537,"body_markdown":"I have recently migrated to Intellij 2022.1.2 and sometimes the IDE will just change the line spacing randomly between different code sections: annotation / function definition, imports / class definition etc.\r\n\r\nThis behavior seems to be very erratic, sometimes I just restart the IDE and all lines are ok again, sometimes the changes are persistent.\r\n\r\nHere is an example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is a little bit irritating. Is there any way to disable it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BCCcp.png\r\n  [2]: https://i.stack.imgur.com/tQ2NH.png","title":"Intellij changing line spacing automatically","body":"<p>I have recently migrated to Intellij 2022.1.2 and sometimes the IDE will just change the line spacing randomly between different code sections: annotation / function definition, imports / class definition etc.</p>\n<p>This behavior seems to be very erratic, sometimes I just restart the IDE and all lines are ok again, sometimes the changes are persistent.</p>\n<p>Here is an example:</p>\n<p><a href=\"https://i.stack.imgur.com/BCCcp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BCCcp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tQ2NH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tQ2NH.png\" alt=\"enter image description here\" /></a></p>\n<p>This is a little bit irritating. Is there any way to disable it?</p>\n"},{"tags":["java","arraylist","save"],"comments":[{"owner":{"account_id":65789,"reputation":14127,"user_id":193376,"accept_rate":98,"display_name":"Pez Cuckow"},"score":1,"creation_date":1354713014,"post_id":13723940,"comment_id":18852338,"body_markdown":"Where&#39;s the printProps method?","body":"Where&#39;s the printProps method?"},{"owner":{"account_id":1382821,"reputation":1037,"user_id":1315476,"accept_rate":88,"display_name":"htz"},"score":0,"creation_date":1354713062,"post_id":13723940,"comment_id":18852364,"body_markdown":"Without the printProps method we can not help you","body":"Without the printProps method we can not help you"}],"answers":[{"tags":[],"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1354713301,"creation_date":1354713301,"answer_id":13724096,"question_id":13723940,"body_markdown":"In processProperty you are instantiating a new `Organize` object. Therefore, each Property (which you create for each row) is ending up in a different ArrayList (as the first element).\r\n\r\nOne solution would be to instantiate one `Organize` object before you start your loop and then pass this into your processProperty method as a parameter.","title":"Code is only saving one line of a text file to the array","body":"<p>In processProperty you are instantiating a new <code>Organize</code> object. Therefore, each Property (which you create for each row) is ending up in a different ArrayList (as the first element).</p>\n\n<p>One solution would be to instantiate one <code>Organize</code> object before you start your loop and then pass this into your processProperty method as a parameter.</p>\n"},{"tags":[],"owner":{"account_id":1382821,"reputation":1037,"user_id":1315476,"accept_rate":88,"display_name":"htz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354713303,"creation_date":1354713303,"answer_id":13724098,"question_id":13723940,"body_markdown":"When one line in your text file is an empty String, your while-loop will break.\r\n\r\nThis is the right way to implement the loop:\r\n\r\n    String line = &quot;&quot;;\r\n    while ((line = reader.readLine()) != null) {\r\n        // your code here\r\n    }","title":"Code is only saving one line of a text file to the array","body":"<p>When one line in your text file is an empty String, your while-loop will break.</p>\n\n<p>This is the right way to implement the loop:</p>\n\n<pre><code>String line = \"\";\nwhile ((line = reader.readLine()) != null) {\n    // your code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25722964,"reputation":1,"user_id":19479741,"display_name":"Nasih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656965619,"creation_date":1656965619,"answer_id":72861628,"question_id":13723940,"body_markdown":"In processProperty you are instantiating a new Organize object. Therefore, each Property (which you create for each row) is ending up in a different ArrayList (as the first element).\r\n\r\nOne solution would be to instantiate one Organize object before you start your loop and then pass this into your processProperty method as a parameter.\r\n\r\n    String line = &quot;&quot;;\r\n    while ((line = reader.readLine()) != null) {\r\n    // your code here\r\n    }","title":"Code is only saving one line of a text file to the array","body":"<p>In processProperty you are instantiating a new Organize object. Therefore, each Property (which you create for each row) is ending up in a different ArrayList (as the first element).</p>\n<p>One solution would be to instantiate one Organize object before you start your loop and then pass this into your processProperty method as a parameter.</p>\n<pre><code>String line = &quot;&quot;;\nwhile ((line = reader.readLine()) != null) {\n// your code here\n}\n</code></pre>\n"}],"owner":{"account_id":2114505,"reputation":15,"user_id":1879092,"display_name":"Charlie Adair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13724096,"answer_count":3,"score":1,"last_activity_date":1656965619,"creation_date":1354712853,"question_id":13723940,"body_markdown":"The code I have produced is meant to provide functionality of reading a text file line by line, saving each line into an array. It seems to read in each line correctly but when I use the printProps() method it only displays one...\r\n\r\nCode is only saving one line of a text file to the array, what&#39;s wrong with my code? \r\n\r\n\r\n    /*reading in each line of text from text file and passing it to the processProperty() method.*/\r\n    Public void readProperties(String filename) {\r\n\t\ttry {\r\n\t\t\tBufferedReader reader = new BufferedReader(new FileReader(filename));\r\n\t\t\tint i = 0;\r\n\t\t\tString line;\r\n\t\t\tline = reader.readLine();\r\n\t\t\twhile (line != null &amp;&amp; !line.equals(&quot;&quot;)) {\r\n\t\t\t\ti++;\r\n\t\t\t\tprocessProperty(line);\r\n\t\t\t\tline = reader.readLine();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;&quot; + i + &quot; properties read&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n    /*Breaks up the line of text in order to save the value to an array (at this point it only saves one line to the array). org.newProp(newProp) passes the new property to the Organize class where it saves it to an array.\r\n    \r\n    public void processProperty(String line) {\r\n    \t\t org = new Organize();\r\n    \t\tint id = nextPropertyID;\r\n    \t\tnextPropertyID++;\r\n    \t\t\r\n    \t\tString[] parts = line.split(&quot;:&quot;);\r\n    \t\tint propNo = Integer.parseInt(parts[0]);\t\t\t\r\n    \t\tString postcode = parts[1];\r\n    \t\tString type = parts[2];\r\n    \t\tint bedrooms = Integer.parseInt(parts[3]);\r\n    \t\tint year = Integer.parseInt(parts[4]);\r\n    \t\tint rental = Integer.parseInt(parts[5]);\r\n    \t\tLandlord landlord = theLandlord;\r\n    \t\tTenant tenant = null;\r\n    \t\torg.propUniqueCheck(id);\r\n    \t\tpropNoCheck(propNo, postcode);\r\n    \t\tpostcodeCheck(postcode,propNo);\r\n    \t\ttypeCheck(postcode, propNo, type);\r\n    \t\tbedroomsCheck(bedrooms, postcode, propNo);\r\n    \t\tyearCheck(propNo, postcode, year);\r\n    \t\tSystem.out.println(&quot;Creating property &quot; + id);\r\n    \t\t\r\n    \t\tProperty newProp = new Property(id, propNo, postcode, type, bedrooms, year,\r\n    \t\t\t\trental, landlord, tenant);\r\n    \t\torg.newProp(newProp);\r\n    \t\torg.printProps();\r\n    \t}\r\n    \r\n    /*From here down it is the code to save the value to the array*/\r\n    \r\n    public Organize() {\r\n    \t\tprops = new ArrayList&lt;Property&gt;();\r\n    \t\tPTs = new ArrayList&lt;PotentialTenant&gt;(); \r\n    \t\twaitingList = new LinkedList&lt;String&gt;();\r\n    \t\t//myList.add(new prop(Property.toString()));\r\n    \t\t\r\n    \t}\r\n    \tpublic void newProp(Property p)\r\n    \t{\r\n    \t\tprops.add(p);\r\n    \t}\r\n    \r\n    \r\nI have actively been seeking help in my seminar with this problem and I can&#39;t seem to find a solution, any advice would be very much appreciated!\r\n\r\n","title":"Code is only saving one line of a text file to the array","body":"<p>The code I have produced is meant to provide functionality of reading a text file line by line, saving each line into an array. It seems to read in each line correctly but when I use the printProps() method it only displays one...</p>\n\n<p>Code is only saving one line of a text file to the array, what's wrong with my code? </p>\n\n<pre><code>/*reading in each line of text from text file and passing it to the processProperty() method.*/\nPublic void readProperties(String filename) {\n    try {\n        BufferedReader reader = new BufferedReader(new FileReader(filename));\n        int i = 0;\n        String line;\n        line = reader.readLine();\n        while (line != null &amp;&amp; !line.equals(\"\")) {\n            i++;\n            processProperty(line);\n            line = reader.readLine();\n        }\n        System.out.println(\"\" + i + \" properties read\");\n    } catch (Exception e) {\n        System.err.println(e.getMessage());\n        e.printStackTrace();\n\n    }\n}\n\n/*Breaks up the line of text in order to save the value to an array (at this point it only saves one line to the array). org.newProp(newProp) passes the new property to the Organize class where it saves it to an array.\n\npublic void processProperty(String line) {\n         org = new Organize();\n        int id = nextPropertyID;\n        nextPropertyID++;\n\n        String[] parts = line.split(\":\");\n        int propNo = Integer.parseInt(parts[0]);            \n        String postcode = parts[1];\n        String type = parts[2];\n        int bedrooms = Integer.parseInt(parts[3]);\n        int year = Integer.parseInt(parts[4]);\n        int rental = Integer.parseInt(parts[5]);\n        Landlord landlord = theLandlord;\n        Tenant tenant = null;\n        org.propUniqueCheck(id);\n        propNoCheck(propNo, postcode);\n        postcodeCheck(postcode,propNo);\n        typeCheck(postcode, propNo, type);\n        bedroomsCheck(bedrooms, postcode, propNo);\n        yearCheck(propNo, postcode, year);\n        System.out.println(\"Creating property \" + id);\n\n        Property newProp = new Property(id, propNo, postcode, type, bedrooms, year,\n                rental, landlord, tenant);\n        org.newProp(newProp);\n        org.printProps();\n    }\n\n/*From here down it is the code to save the value to the array*/\n\npublic Organize() {\n        props = new ArrayList&lt;Property&gt;();\n        PTs = new ArrayList&lt;PotentialTenant&gt;(); \n        waitingList = new LinkedList&lt;String&gt;();\n        //myList.add(new prop(Property.toString()));\n\n    }\n    public void newProp(Property p)\n    {\n        props.add(p);\n    }\n</code></pre>\n\n<p>I have actively been seeking help in my seminar with this problem and I can't seem to find a solution, any advice would be very much appreciated!</p>\n"},{"tags":["java","json","jsonschema","everit"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656963974,"post_id":72860981,"comment_id":128693258,"body_markdown":"are you sure it is supposed to work?","body":"are you sure it is supposed to work?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656973375,"post_id":72860981,"comment_id":128695227,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":19397040,"reputation":3,"user_id":14184483,"display_name":"N1kk1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656965273,"creation_date":1656965223,"answer_id":72861557,"question_id":72860981,"body_markdown":"I&#39;ve resolved the problem.\r\nInstead of ```.schemaJson(referenceSchema)``` there should be \r\n```\r\n.registerSchemaByURI(new URI(&quot;https://test.com/someRefSchema.json&quot;), referenceSchemaObject)\r\n.resolutionScope(&quot;https://test.com&quot;)\r\n````","title":"Everit schema dereferencing","body":"<p>I've resolved the problem.\nInstead of <code>.schemaJson(referenceSchema)</code> there should be</p>\n<pre><code>.registerSchemaByURI(new URI(&quot;https://test.com/someRefSchema.json&quot;), referenceSchemaObject)\n.resolutionScope(&quot;https://test.com&quot;)\n</code></pre>\n"}],"owner":{"account_id":19397040,"reputation":3,"user_id":14184483,"display_name":"N1kk1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656965273,"creation_date":1656960918,"question_id":72860981,"body_markdown":"I have the following schema:\r\n```\r\nString schema = &quot;{\\n&quot; +\r\n  &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;$id\\&quot;: \\&quot;https://test.com/someSchema.json&quot;,\\n&quot; +\r\n  &quot;  \\&quot;title\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;description\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;properties\\&quot;: {\\n&quot; +\r\n  &quot;    \\&quot;message\\&quot;: {\\n&quot; +\r\n  .............\r\n  &quot;    },\\n&quot; +\r\n  &quot;    \\&quot;reference\\&quot;: {\\n&quot; +\r\n  &quot;      \\&quot;$ref\\&quot;: \\&quot;someRefSchema.json\\&quot;\\n&quot; +\r\n  &quot;    }\\n&quot; +\r\n  &quot;  },\\n&quot; +\r\n  &quot;}\\n&quot;;\r\n```\r\n\r\nAlso I have separated schema:\r\n```\r\nString referenceSchema = &quot;{\\n&quot; +\r\n  &quot;  \\&quot;$id\\&quot;: \\&quot;https://test.com/someRefSchema.json\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;title\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;description\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;properties\\&quot;: {\\n&quot; +\r\n  &quot;    \\&quot;message\\&quot;: {\\n&quot; +\r\n        .....\r\n  &quot;    },\\n&quot; +\r\n  &quot;}&quot;;\r\n```\r\n\r\nWhen I&#39;m trying to validate some object with this schema, using everit I get the following exception: ```Exception in thread &quot;main&quot; java.io.UncheckedIOException: java.io.FileNotFoundException: https://test.com/someRefSchema.json```\r\n\r\n```\r\nJSONObject schemaObject = new JSONObject(schema);\r\nJSONObject referenceSchemaObject = new JSONObject(referenceSchema);\r\nSchema schemaTarget = SchemaLoader.builder()\r\n        .draftV7Support()\r\n        .schemaJson(referenceSchema)\r\n        .schemaJson(schemaObject)\r\n        .build()\r\n        .load()\r\n        .build();\r\ntry {\r\n  schemaTarget.validate(new JSONObject(subject));\r\n} catch (ValidationException e) {\r\n  throw new ValidationException(schema, &quot;Error occurred: &quot; + e.getMessage(), e.getKeyword(), e.getSchemaLocation());\r\n}\r\n```\r\n\r\nI&#39;ve tried to add ```.resolutionScope(&quot;https://test.com/&quot;)``` but the result is the same.\r\nHow should I dereference inner schema correctly, which is located in separate JSON?","title":"Everit schema dereferencing","body":"<p>I have the following schema:</p>\n<pre><code>String schema = &quot;{\\n&quot; +\n  &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\n&quot; +\n  &quot;  \\&quot;$id\\&quot;: \\&quot;https://test.com/someSchema.json&quot;,\\n&quot; +\n  &quot;  \\&quot;title\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\n  &quot;  \\&quot;description\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\n  &quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot; +\n  &quot;  \\&quot;properties\\&quot;: {\\n&quot; +\n  &quot;    \\&quot;message\\&quot;: {\\n&quot; +\n  .............\n  &quot;    },\\n&quot; +\n  &quot;    \\&quot;reference\\&quot;: {\\n&quot; +\n  &quot;      \\&quot;$ref\\&quot;: \\&quot;someRefSchema.json\\&quot;\\n&quot; +\n  &quot;    }\\n&quot; +\n  &quot;  },\\n&quot; +\n  &quot;}\\n&quot;;\n</code></pre>\n<p>Also I have separated schema:</p>\n<pre><code>String referenceSchema = &quot;{\\n&quot; +\n  &quot;  \\&quot;$id\\&quot;: \\&quot;https://test.com/someRefSchema.json\\&quot;,\\n&quot; +\n  &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\n&quot; +\n  &quot;  \\&quot;title\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\n  &quot;  \\&quot;description\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\n  &quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot; +\n  &quot;  \\&quot;properties\\&quot;: {\\n&quot; +\n  &quot;    \\&quot;message\\&quot;: {\\n&quot; +\n        .....\n  &quot;    },\\n&quot; +\n  &quot;}&quot;;\n</code></pre>\n<p>When I'm trying to validate some object with this schema, using everit I get the following exception: <code>Exception in thread &quot;main&quot; java.io.UncheckedIOException: java.io.FileNotFoundException: https://test.com/someRefSchema.json</code></p>\n<pre><code>JSONObject schemaObject = new JSONObject(schema);\nJSONObject referenceSchemaObject = new JSONObject(referenceSchema);\nSchema schemaTarget = SchemaLoader.builder()\n        .draftV7Support()\n        .schemaJson(referenceSchema)\n        .schemaJson(schemaObject)\n        .build()\n        .load()\n        .build();\ntry {\n  schemaTarget.validate(new JSONObject(subject));\n} catch (ValidationException e) {\n  throw new ValidationException(schema, &quot;Error occurred: &quot; + e.getMessage(), e.getKeyword(), e.getSchemaLocation());\n}\n</code></pre>\n<p>I've tried to add <code>.resolutionScope(&quot;https://test.com/&quot;)</code> but the result is the same.\nHow should I dereference inner schema correctly, which is located in separate JSON?</p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1657028652,"post_id":72861527,"comment_id":128708394,"body_markdown":"Can we see, please, more stack trace to determine the place where you exactly got that ClassCast? Either way the error channel receives an `ErrorMessage` which payload is an `Exception`. So, I&#39;m not sure how you expect a `byte[]`...","body":"Can we see, please, more stack trace to determine the place where you exactly got that ClassCast? Either way the error channel receives an <code>ErrorMessage</code> which payload is an <code>Exception</code>. So, I&#39;m not sure how you expect a <code>byte[]</code>..."}],"owner":{"account_id":405181,"reputation":2782,"user_id":773921,"accept_rate":61,"display_name":"Rafael Carrillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656965019,"creation_date":1656965019,"question_id":72861527,"body_markdown":"I&#39;m having some issues with Spring Integration. \r\n\r\nI have an error channel that is supposed to consume an error dedicated queue in case other flows have an error, this handler allows us to log some important data in a very specific format, and then the message is discarded.\r\n\r\nThe problem is, that this flow is configured to receive a specific message type, like a FailedMessage class.\r\n\r\nWhenever the message is consumed, I get a class cast exception saying that `[B cannot be cast to FailedMessage`.\r\n\r\nSo, after doing some research I implemented the following transformer:\r\n\r\n```\r\n    private FailedMessage parseFailedMessage(byte[] genericMessage){\r\n        try {\r\n            ByteArrayInputStream in = new ByteArrayInputStream(genericMessage);\r\n            ObjectInputStream is = new ObjectInputStream(in);\r\n            return (FailedMessage) is.readObject();\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            throw new RuntimeException(&quot;An unexpected error occurred parsing FailedMessage&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nAnd the IntegrationFlow spec is :\r\n\r\n```\r\n    @Bean\r\n    public IntegrationFlow errorHandlingFlow(XmlMessageTransformer transformer) {\r\n        return IntegrationFlows.from(&quot;ErrorChannel&quot;)\r\n                .transform(this::parseFailedMessage)\r\n                .&lt;FailedMessage&gt;handle((p, h) -&gt; {\r\n                    processFailedMessage(p, transformer);\r\n                    return p;\r\n                })\r\n                .channel(&quot;discard&quot;)\r\n                .get();\r\n    }\r\n```\r\n\r\nIs this an acceptable way to handle this kind of message or there&#39;s a way to automatize the transform step?","title":"How can I handle a bytearray message in a Spring Integration Flow","body":"<p>I'm having some issues with Spring Integration.</p>\n<p>I have an error channel that is supposed to consume an error dedicated queue in case other flows have an error, this handler allows us to log some important data in a very specific format, and then the message is discarded.</p>\n<p>The problem is, that this flow is configured to receive a specific message type, like a FailedMessage class.</p>\n<p>Whenever the message is consumed, I get a class cast exception saying that <code>[B cannot be cast to FailedMessage</code>.</p>\n<p>So, after doing some research I implemented the following transformer:</p>\n<pre><code>    private FailedMessage parseFailedMessage(byte[] genericMessage){\n        try {\n            ByteArrayInputStream in = new ByteArrayInputStream(genericMessage);\n            ObjectInputStream is = new ObjectInputStream(in);\n            return (FailedMessage) is.readObject();\n        } catch (IOException | ClassNotFoundException e) {\n            throw new RuntimeException(&quot;An unexpected error occurred parsing FailedMessage&quot;, e);\n        }\n    }\n</code></pre>\n<p>And the IntegrationFlow spec is :</p>\n<pre><code>    @Bean\n    public IntegrationFlow errorHandlingFlow(XmlMessageTransformer transformer) {\n        return IntegrationFlows.from(&quot;ErrorChannel&quot;)\n                .transform(this::parseFailedMessage)\n                .&lt;FailedMessage&gt;handle((p, h) -&gt; {\n                    processFailedMessage(p, transformer);\n                    return p;\n                })\n                .channel(&quot;discard&quot;)\n                .get();\n    }\n</code></pre>\n<p>Is this an acceptable way to handle this kind of message or there's a way to automatize the transform step?</p>\n"},{"tags":["java","android","calculator","degrees","radians"],"answers":[{"tags":[],"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656964074,"creation_date":1656963931,"answer_id":72861384,"question_id":72861363,"body_markdown":"use `Math.toRadians()`, You want to convert the degrees to radians because the Math trigonometric functions parameters should be in radians:\r\n\r\n    public class Main {\r\n    \r\n     public static void main(String[] args) {\r\n         \r\n      Scanner scanner = new Scanner(System.in);\r\n      \r\n    \r\n      // END USER INPUT VALUE IN DEGREES\r\n      System.out.println(&quot;Please input a value to recieve the Trigonemetric value in degrees &quot;);\r\n    \r\n      double degrees = scanner.nextDouble();\r\n      \r\n      double sineOfAngle = Math.sin(Math.toRadians(degrees)); \r\n      double cosOfAngle = Math.cos(Math.toRadians(degrees)); \r\n      double tanOfAngle = Math.tan(Math.toRadians(degrees));\r\n    \r\n      System.out.println();\r\n      System.out.println(&quot;The Sine of &quot; + degrees + &quot; degrees is : &quot;\r\n        + sineOfAngle);\r\n      System.out.println(&quot;The Cosine of &quot; + degrees + &quot; degrees is : &quot;\r\n        + cosOfAngle);\r\n      System.out.println(&quot;The Tangent of &quot; + degrees + &quot; degrees is : &quot;\r\n        + tanOfAngle);\r\n        \r\n     }\r\n    }","title":"How do I make my calculator this to calculate in degrees rather than radians","body":"<p>use <code>Math.toRadians()</code>, You want to convert the degrees to radians because the Math trigonometric functions parameters should be in radians:</p>\n<pre><code>public class Main {\n\n public static void main(String[] args) {\n     \n  Scanner scanner = new Scanner(System.in);\n  \n\n  // END USER INPUT VALUE IN DEGREES\n  System.out.println(&quot;Please input a value to recieve the Trigonemetric value in degrees &quot;);\n\n  double degrees = scanner.nextDouble();\n  \n  double sineOfAngle = Math.sin(Math.toRadians(degrees)); \n  double cosOfAngle = Math.cos(Math.toRadians(degrees)); \n  double tanOfAngle = Math.tan(Math.toRadians(degrees));\n\n  System.out.println();\n  System.out.println(&quot;The Sine of &quot; + degrees + &quot; degrees is : &quot;\n    + sineOfAngle);\n  System.out.println(&quot;The Cosine of &quot; + degrees + &quot; degrees is : &quot;\n    + cosOfAngle);\n  System.out.println(&quot;The Tangent of &quot; + degrees + &quot; degrees is : &quot;\n    + tanOfAngle);\n    \n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25725870,"reputation":1,"user_id":19482259,"display_name":"Aleksandar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656964240,"creation_date":1656964240,"answer_id":72861423,"question_id":72861363,"body_markdown":"Why you need that? Programming language will always use radians for calculation. You can accept input in degrees, then convert it to radians, make calculation and convert it back to degrees on output.","title":"How do I make my calculator this to calculate in degrees rather than radians","body":"<p>Why you need that? Programming language will always use radians for calculation. You can accept input in degrees, then convert it to radians, make calculation and convert it back to degrees on output.</p>\n"}],"owner":{"account_id":18967205,"reputation":1,"user_id":13841489,"display_name":"bruh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72861384,"answer_count":2,"score":-1,"last_activity_date":1656964240,"creation_date":1656963747,"question_id":72861363,"body_markdown":" I have been stuck on this for a very long bit of time. How do I make my calculator calculate in degrees rather than radians. I tried Math.toDegrees but it did not work. Thank you if you decide to help.\r\n\r\n   import java.util.Scanner;\r\n\r\n    public class Main {\r\n    \r\n     public static void main(String[] args) {\r\n         \r\n      Scanner scanner = new Scanner(System.in);\r\n      \r\n    \r\n      // END USER INPUT VALUE IN DEGREES\r\n      System.out.println(&quot;Please input a value to recieve the Trigonemetric value in degrees &quot;);\r\n    \r\n      double degrees = scanner.nextDouble();\r\n      \r\n      double sineOfAngle = Math.sin(degrees); \r\n      double cosOfAngle = Math.cos(degrees); \r\n      double tanOfAngle = Math.tan(degrees);\r\n    \r\n      System.out.println();\r\n      System.out.println(&quot;The Sine of &quot; + degrees + &quot; degrees is : &quot;\r\n        + sineOfAngle);\r\n      System.out.println(&quot;The Cosine of &quot; + degrees + &quot; degrees is : &quot;\r\n        + cosOfAngle);\r\n      System.out.println(&quot;The Tangent of &quot; + degrees + &quot; degrees is : &quot;\r\n        + tanOfAngle);\r\n        \r\n     }\r\n    }","title":"How do I make my calculator this to calculate in degrees rather than radians","body":"<p>I have been stuck on this for a very long bit of time. How do I make my calculator calculate in degrees rather than radians. I tried Math.toDegrees but it did not work. Thank you if you decide to help.</p>\n<p>import java.util.Scanner;</p>\n<pre><code>public class Main {\n\n public static void main(String[] args) {\n     \n  Scanner scanner = new Scanner(System.in);\n  \n\n  // END USER INPUT VALUE IN DEGREES\n  System.out.println(&quot;Please input a value to recieve the Trigonemetric value in degrees &quot;);\n\n  double degrees = scanner.nextDouble();\n  \n  double sineOfAngle = Math.sin(degrees); \n  double cosOfAngle = Math.cos(degrees); \n  double tanOfAngle = Math.tan(degrees);\n\n  System.out.println();\n  System.out.println(&quot;The Sine of &quot; + degrees + &quot; degrees is : &quot;\n    + sineOfAngle);\n  System.out.println(&quot;The Cosine of &quot; + degrees + &quot; degrees is : &quot;\n    + cosOfAngle);\n  System.out.println(&quot;The Tangent of &quot; + degrees + &quot; degrees is : &quot;\n    + tanOfAngle);\n    \n }\n}\n</code></pre>\n"},{"tags":["java","classpath"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656962374,"post_id":72861126,"comment_id":128692889,"body_markdown":"is your class inside a package?","body":"is your class inside a package?"}],"answers":[{"tags":[],"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656962582,"creation_date":1656962582,"answer_id":72861208,"question_id":72861126,"body_markdown":"Current directory (`.`) is a default classpath. But it does not include subdirectories automatically. So if you have packages, the directories should be added to classpath explicitly.\r\n\r\nSee a bit more info here https://stackoverflow.com/questions/8227682/whats-the-default-classpath-when-not-specifying-classpath ","title":"Java Classpath not using current directory","body":"<p>Current directory (<code>.</code>) is a default classpath. But it does not include subdirectories automatically. So if you have packages, the directories should be added to classpath explicitly.</p>\n<p>See a bit more info here <a href=\"https://stackoverflow.com/questions/8227682/whats-the-default-classpath-when-not-specifying-classpath\">What&#39;s the default classpath when not specifying classpath?</a></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656963534,"creation_date":1656963534,"answer_id":72861335,"question_id":72861126,"body_markdown":"Relying on the `CLASSPATH` system variable is a bad idea. One machine can be used to run many varied apps, so the concept of a &#39;global setting&#39; is silly.\r\n\r\nTry `java -cp . Main`.\r\n\r\n## If that DOES work\r\n\r\nThen you&#39;ve been messing with your `CLASSPATH` environment var and removed `.` from it. Put it back. Or better yet forget about CLASSPATH; always use `-cp`; use `-cp .` if you like. Or make `jar` files and run them with `java -jar thejar.jar`, which ignores both `CLASSPATH` and the `-cp` parameter (instead that will look at the `Class-Path` entry in the jar manifest).\r\n\r\n\r\n## If that does not work\r\n\r\nThen you were not in the appropriate directory. Or, you&#39;re confused about packages. Let&#39;s say your `Main.java` looks like this:\r\n\r\n```\r\npackage com.foo;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Hello&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAnd you compile it; a `Main.class` file shows up.\r\n\r\n`java` __cannot__ run this unless `Main.class` is in a directory named `foo`, and that directory is in turn in a directory named `com`. Then, you put _the directory that contains `com`_ on the classpath. __Not__ the directory that contains `Main.class`. And then you run `java -cp theDirThatContainsCom com.foo.Main`. It is not possible to run this file with `java -(does not matter what you try it cannot be done) Main` - because you provide the full name of the class you want to run to `java`, and the full name is `com.foo.Main`.\r\n\r\n","title":"Java Classpath not using current directory","body":"<p>Relying on the <code>CLASSPATH</code> system variable is a bad idea. One machine can be used to run many varied apps, so the concept of a 'global setting' is silly.</p>\n<p>Try <code>java -cp . Main</code>.</p>\n<h2>If that DOES work</h2>\n<p>Then you've been messing with your <code>CLASSPATH</code> environment var and removed <code>.</code> from it. Put it back. Or better yet forget about CLASSPATH; always use <code>-cp</code>; use <code>-cp .</code> if you like. Or make <code>jar</code> files and run them with <code>java -jar thejar.jar</code>, which ignores both <code>CLASSPATH</code> and the <code>-cp</code> parameter (instead that will look at the <code>Class-Path</code> entry in the jar manifest).</p>\n<h2>If that does not work</h2>\n<p>Then you were not in the appropriate directory. Or, you're confused about packages. Let's say your <code>Main.java</code> looks like this:</p>\n<pre><code>package com.foo;\n\npublic class Main {\n  public static void main(String[] args) {\n    System.out.println(&quot;Hello&quot;);\n  }\n}\n</code></pre>\n<p>And you compile it; a <code>Main.class</code> file shows up.</p>\n<p><code>java</code> <strong>cannot</strong> run this unless <code>Main.class</code> is in a directory named <code>foo</code>, and that directory is in turn in a directory named <code>com</code>. Then, you put <em>the directory that contains <code>com</code></em> on the classpath. <strong>Not</strong> the directory that contains <code>Main.class</code>. And then you run <code>java -cp theDirThatContainsCom com.foo.Main</code>. It is not possible to run this file with <code>java -(does not matter what you try it cannot be done) Main</code> - because you provide the full name of the class you want to run to <code>java</code>, and the full name is <code>com.foo.Main</code>.</p>\n"}],"owner":{"account_id":23644163,"reputation":40,"user_id":18596910,"display_name":"Yuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72861335,"answer_count":2,"score":0,"last_activity_date":1656963534,"creation_date":1656961945,"question_id":72861126,"body_markdown":"Yes... Again question about classpath. I compiled class file using command `javac Main.java`, then i tried to execute it by `java Main` And what do you think? I got that famous error: `Error: Could not find or load main class Main`. Why? I set the classpath env var to &quot;.;&quot; (without &quot; of course). Whats wrong? Im using jdk 1.8.0_51.\r\nIn IDE (im using intellij idea 2021.3) everything is ok.\r\nThe only imported class is java.io.File.\r\nIt only works if i run it using command `java -cp &lt;path to dir not including package folders&gt; &lt;full qualified class name&gt;`\r\nWindows 8.1","title":"Java Classpath not using current directory","body":"<p>Yes... Again question about classpath. I compiled class file using command <code>javac Main.java</code>, then i tried to execute it by <code>java Main</code> And what do you think? I got that famous error: <code>Error: Could not find or load main class Main</code>. Why? I set the classpath env var to &quot;.;&quot; (without &quot; of course). Whats wrong? Im using jdk 1.8.0_51.\nIn IDE (im using intellij idea 2021.3) everything is ok.\nThe only imported class is java.io.File.\nIt only works if i run it using command <code>java -cp &lt;path to dir not including package folders&gt; &lt;full qualified class name&gt;</code>\nWindows 8.1</p>\n"},{"tags":["java","json","jackson","gson"],"comments":[{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1398617923,"post_id":1688099,"comment_id":35716091,"body_markdown":"See also http://stackoverflow.com/questions/338586/a-better-java-json-library","body":"See also <a href=\"http://stackoverflow.com/questions/338586/a-better-java-json-library\" title=\"a better java json library\">stackoverflow.com/questions/338586/a-better-java-json-librar&zwnj;&#8203;y</a>"},{"owner":{"account_id":4080163,"reputation":8401,"user_id":3602446,"accept_rate":76,"display_name":"Arlind Hajredinaj"},"score":0,"creation_date":1448841879,"post_id":1688099,"comment_id":55735089,"body_markdown":"Here is an example http://thegeekyland.blogspot.com/2015/11/serializing-and-deserializing-json-from.html","body":"Here is an example <a href=\"http://thegeekyland.blogspot.com/2015/11/serializing-and-deserializing-json-from.html\" rel=\"nofollow noreferrer\">thegeekyland.blogspot.com/2015/11/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":367,"is_accepted":true,"score":367,"last_activity_date":1459539172,"creation_date":1257519969,"answer_id":1688182,"question_id":1688099,"body_markdown":"&gt; *I looked at Google&#39;s Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string?*\n\n[Google Gson][1] supports generics and nested beans. The `[]` in JSON represents an array and should map to a Java collection such as [`List`][2] or just a plain Java array. The `{}` in JSON represents an object and should map to a Java [`Map`][3] or just some JavaBean class.\n\nYou have a JSON object with several properties of which the `groups` property represents an array of nested objects of the very same type. This can be parsed with Gson the following way:\n\n    package com.stackoverflow.q1688099;\n    \n    import java.util.List;\n    import com.google.gson.Gson;\n    \n    public class Test {\n    \n        public static void main(String... args) throws Exception {\n            String json = \n                &quot;{&quot;\n                    + &quot;&#39;title&#39;: &#39;Computing and Information systems&#39;,&quot;\n                    + &quot;&#39;id&#39; : 1,&quot;\n                    + &quot;&#39;children&#39; : &#39;true&#39;,&quot;\n                    + &quot;&#39;groups&#39; : [{&quot;\n                        + &quot;&#39;title&#39; : &#39;Level one CIS&#39;,&quot;\n                        + &quot;&#39;id&#39; : 2,&quot;\n                        + &quot;&#39;children&#39; : &#39;true&#39;,&quot;\n                        + &quot;&#39;groups&#39; : [{&quot;\n                            + &quot;&#39;title&#39; : &#39;Intro To Computing and Internet&#39;,&quot;\n                            + &quot;&#39;id&#39; : 3,&quot;\n                            + &quot;&#39;children&#39;: &#39;false&#39;,&quot;\n                            + &quot;&#39;groups&#39;:[]&quot;\n                        + &quot;}]&quot; \n                    + &quot;}]&quot;\n                + &quot;}&quot;;\n\n            // Now do the magic.\n            Data data = new Gson().fromJson(json, Data.class);\n\n            // Show it.\n            System.out.println(data);\n        }\n    \n    }\n    \n    class Data {\n        private String title;\n        private Long id;\n        private Boolean children;\n        private List&lt;Data&gt; groups;\n    \n        public String getTitle() { return title; }\n        public Long getId() { return id; }\n        public Boolean getChildren() { return children; }\n        public List&lt;Data&gt; getGroups() { return groups; }\n    \n        public void setTitle(String title) { this.title = title; }\n        public void setId(Long id) { this.id = id; }\n        public void setChildren(Boolean children) { this.children = children; }\n        public void setGroups(List&lt;Data&gt; groups) { this.groups = groups; }\n        \n        public String toString() {\n            return String.format(&quot;title:%s,id:%d,children:%s,groups:%s&quot;, title, id, children, groups);\n        }\n    }\n\nFairly simple, isn&#39;t it? Just have a suitable JavaBean and call [`Gson#fromJson()`][4].\n\n### See also:\n\n- [Json.org][5] - Introduction to JSON\n- [Gson User Guide][6] - Introduction to Gson\n\n\n  [1]: http://code.google.com/p/google-gson/\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/List.html\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\n  [4]: http://google-gson.googlecode.com/svn/tags/1.3/docs/javadocs/com/google/gson/Gson.html#fromJson%28java.lang.String,%20java.lang.Class%29\n  [5]: http://json.org/\n  [6]: https://github.com/google/gson/blob/master/UserGuide.md","title":"Converting JSON data to Java object","body":"<blockquote>\n<p><em>I looked at Google's Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string?</em></p>\n</blockquote>\n<p><a href=\"http://code.google.com/p/google-gson/\" rel=\"noreferrer\">Google Gson</a> supports generics and nested beans. The <code>[]</code> in JSON represents an array and should map to a Java collection such as <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a> or just a plain Java array. The <code>{}</code> in JSON represents an object and should map to a Java <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> or just some JavaBean class.</p>\n<p>You have a JSON object with several properties of which the <code>groups</code> property represents an array of nested objects of the very same type. This can be parsed with Gson the following way:</p>\n<pre><code>package com.stackoverflow.q1688099;\n\nimport java.util.List;\nimport com.google.gson.Gson;\n\npublic class Test {\n\n    public static void main(String... args) throws Exception {\n        String json = \n            &quot;{&quot;\n                + &quot;'title': 'Computing and Information systems',&quot;\n                + &quot;'id' : 1,&quot;\n                + &quot;'children' : 'true',&quot;\n                + &quot;'groups' : [{&quot;\n                    + &quot;'title' : 'Level one CIS',&quot;\n                    + &quot;'id' : 2,&quot;\n                    + &quot;'children' : 'true',&quot;\n                    + &quot;'groups' : [{&quot;\n                        + &quot;'title' : 'Intro To Computing and Internet',&quot;\n                        + &quot;'id' : 3,&quot;\n                        + &quot;'children': 'false',&quot;\n                        + &quot;'groups':[]&quot;\n                    + &quot;}]&quot; \n                + &quot;}]&quot;\n            + &quot;}&quot;;\n\n        // Now do the magic.\n        Data data = new Gson().fromJson(json, Data.class);\n\n        // Show it.\n        System.out.println(data);\n    }\n\n}\n\nclass Data {\n    private String title;\n    private Long id;\n    private Boolean children;\n    private List&lt;Data&gt; groups;\n\n    public String getTitle() { return title; }\n    public Long getId() { return id; }\n    public Boolean getChildren() { return children; }\n    public List&lt;Data&gt; getGroups() { return groups; }\n\n    public void setTitle(String title) { this.title = title; }\n    public void setId(Long id) { this.id = id; }\n    public void setChildren(Boolean children) { this.children = children; }\n    public void setGroups(List&lt;Data&gt; groups) { this.groups = groups; }\n    \n    public String toString() {\n        return String.format(&quot;title:%s,id:%d,children:%s,groups:%s&quot;, title, id, children, groups);\n    }\n}\n</code></pre>\n<p>Fairly simple, isn't it? Just have a suitable JavaBean and call <a href=\"http://google-gson.googlecode.com/svn/tags/1.3/docs/javadocs/com/google/gson/Gson.html#fromJson%28java.lang.String,%20java.lang.Class%29\" rel=\"noreferrer\"><code>Gson#fromJson()</code></a>.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"http://json.org/\" rel=\"noreferrer\">Json.org</a> - Introduction to JSON</li>\n<li><a href=\"https://github.com/google/gson/blob/master/UserGuide.md\" rel=\"noreferrer\">Gson User Guide</a> - Introduction to Gson</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":607231,"reputation":31,"user_id":324623,"display_name":"Juanma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1272058575,"creation_date":1272058575,"answer_id":2702114,"question_id":1688099,"body_markdown":"If you use any kind of special maps with keys or values also of special maps, you will find it&#39;s not contemplated by the implementation of google.","title":"Converting JSON data to Java object","body":"<p>If you use any kind of special maps with keys or values also of special maps, you will find it's not contemplated by the implementation of google.</p>\n"},{"tags":[],"owner":{"account_id":803850,"reputation":521,"user_id":471170,"display_name":"Jor"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1358880201,"creation_date":1286678980,"answer_id":3898812,"question_id":1688099,"body_markdown":"Bewaaaaare of Gson! It&#39;s very cool, very great, but the second you want to do anything other than simple objects, you could easily need to start building your own serializers (which isn&#39;t *that* hard).\r\n\r\nAlso, if you have an array of Objects, and you deserialize some json into that array of Objects, the true types are LOST! The full objects won&#39;t even be copied! Use XStream.. Which, if using the jsondriver and setting the proper settings, will encode ugly types into the actual json, so that you don&#39;t loose anything. A small price to pay (ugly json) for true serialization. \r\n\r\nNote that [Jackson][1] fixes these issues, and is [faster][2] than GSON.\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonHome\r\n  [2]: https://github.com/eishay/jvm-serializers/wiki","title":"Converting JSON data to Java object","body":"<p>Bewaaaaare of Gson! It's very cool, very great, but the second you want to do anything other than simple objects, you could easily need to start building your own serializers (which isn't <em>that</em> hard).</p>\n\n<p>Also, if you have an array of Objects, and you deserialize some json into that array of Objects, the true types are LOST! The full objects won't even be copied! Use XStream.. Which, if using the jsondriver and setting the proper settings, will encode ugly types into the actual json, so that you don't loose anything. A small price to pay (ugly json) for true serialization. </p>\n\n<p>Note that <a href=\"http://wiki.fasterxml.com/JacksonHome\" rel=\"noreferrer\">Jackson</a> fixes these issues, and is <a href=\"https://github.com/eishay/jvm-serializers/wiki\" rel=\"noreferrer\">faster</a> than GSON.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1424862770,"creation_date":1296669199,"answer_id":4877958,"question_id":1688099,"body_markdown":"Oddly, the only decent JSON processor mentioned so far has been GSON.\r\n\r\nHere are more good choices:\r\n\r\n* [Jackson][1] ([Github][4]) -- powerful data binding (JSON to/from POJOs), streaming (ultra fast), tree model (convenient for untyped access) \r\n* [Flex-JSON][2] -- highly configurable serialization\r\n\r\nEDIT (Aug/2013):\r\n\r\nOne more to consider:\r\n\r\n* [Genson][3] -- functionality similar to Jackson, aimed to be easier to configure by developer\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonHome\r\n  [2]: http://flexjson.sourceforge.net/\r\n  [3]: https://github.com/owlike/genson\r\n  [4]: https://github.com/FasterXML/jackson","title":"Converting JSON data to Java object","body":"<p>Oddly, the only decent JSON processor mentioned so far has been GSON.</p>\n\n<p>Here are more good choices:</p>\n\n<ul>\n<li><a href=\"http://wiki.fasterxml.com/JacksonHome\" rel=\"noreferrer\">Jackson</a> (<a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Github</a>) -- powerful data binding (JSON to/from POJOs), streaming (ultra fast), tree model (convenient for untyped access) </li>\n<li><a href=\"http://flexjson.sourceforge.net/\" rel=\"noreferrer\">Flex-JSON</a> -- highly configurable serialization</li>\n</ul>\n\n<p>EDIT (Aug/2013):</p>\n\n<p>One more to consider:</p>\n\n<ul>\n<li><a href=\"https://github.com/owlike/genson\" rel=\"noreferrer\">Genson</a> -- functionality similar to Jackson, aimed to be easier to configure by developer</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27445,"reputation":31727,"user_id":72478,"accept_rate":76,"display_name":"cherouvim"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1301577224,"creation_date":1301577224,"answer_id":5500424,"question_id":1688099,"body_markdown":"If, by any change, you are in an application which already uses http://restfb.com/ then you can do:\r\n\r\n    import com.restfb.json.JsonObject;\r\n    \r\n    ...\r\n    \r\n    JsonObject json = new JsonObject(jsonString);\r\n    json.get(&quot;title&quot;);\r\n\r\netc.","title":"Converting JSON data to Java object","body":"<p>If, by any change, you are in an application which already uses <a href=\"http://restfb.com/\" rel=\"noreferrer\">http://restfb.com/</a> then you can do:</p>\n\n<pre><code>import com.restfb.json.JsonObject;\n\n...\n\nJsonObject json = new JsonObject(jsonString);\njson.get(\"title\");\n</code></pre>\n\n<p>etc.</p>\n"},{"tags":[],"owner":{"account_id":178126,"reputation":3688,"user_id":409891,"accept_rate":23,"display_name":"Gene De Lisa"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1618909598,"creation_date":1308759311,"answer_id":6443140,"question_id":1688099,"body_markdown":"Or with Jackson:\r\n\r\n    String json = &quot;...&quot;;\r\n    ObjectMapper m = new ObjectMapper();\r\n    Set&lt;Product&gt; products = m.readValue(json, new TypeReference&lt;Set&lt;Product&gt;&gt;() {});","title":"Converting JSON data to Java object","body":"<p>Or with Jackson:</p>\n<pre><code>String json = &quot;...&quot;;\nObjectMapper m = new ObjectMapper();\nSet&lt;Product&gt; products = m.readValue(json, new TypeReference&lt;Set&lt;Product&gt;&gt;() {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1404897,"reputation":289,"user_id":1332879,"display_name":"HEAT"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1560271327,"creation_date":1368007450,"answer_id":16437857,"question_id":1688099,"body_markdown":"    HashMap keyArrayList = new HashMap();\r\n    Iterator itr = yourJson.keys();\r\n    while (itr.hasNext())\r\n    {\r\n        String key = (String) itr.next();\r\n        keyArrayList.put(key, yourJson.get(key).toString());\r\n    }\r\n","title":"Converting JSON data to Java object","body":"<pre><code>HashMap keyArrayList = new HashMap();\nIterator itr = yourJson.keys();\nwhile (itr.hasNext())\n{\n    String key = (String) itr.next();\n    keyArrayList.put(key, yourJson.get(key).toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1046397,"reputation":2748,"user_id":1051292,"accept_rate":80,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382537166,"creation_date":1382537166,"answer_id":19543985,"question_id":1688099,"body_markdown":"What&#39;s wrong with the standard stuff?  \r\n\r\n    JSONObject jsonObject = new JSONObject(someJsonString);\r\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;someJsonArray&quot;);\r\n    String value = jsonArray.optJSONObject(i).getString(&quot;someJsonValue&quot;);","title":"Converting JSON data to Java object","body":"<p>What's wrong with the standard stuff?  </p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(someJsonString);\nJSONArray jsonArray = jsonObject.getJSONArray(\"someJsonArray\");\nString value = jsonArray.optJSONObject(i).getString(\"someJsonValue\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3432851,"reputation":1818,"user_id":2876739,"display_name":"RickHigh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387006706,"creation_date":1387006706,"answer_id":20580870,"question_id":1688099,"body_markdown":"Give boon a try:\r\n\r\nhttps://github.com/RichardHightower/boon\r\n\r\nIt is wicked fast:\r\n\r\nhttps://github.com/RichardHightower/json-parsers-benchmark\r\n\r\n\r\nDon&#39;t take my word for it... check out the gatling benchmark.\r\n\r\n\r\nhttps://github.com/gatling/json-parsers-benchmark\r\n\r\n(Up to 4x is some cases, and out of the 100s of test. It also has a index overlay mode that is even faster. It is young but already has some users.)\r\n\r\n\r\nIt can parse JSON to Maps and Lists faster than any other lib can parse to a JSON DOM and that is without Index Overlay mode. With Boon Index Overlay mode, it is even faster. \r\n\r\nIt also has a very fast JSON lax mode and a PLIST parser mode. :) (and has a super low memory, direct from bytes mode with UTF-8 encoding on the fly).\r\n\r\nIt also has the fastest JSON to JavaBean mode too. \r\n\r\nIt is new, but if speed and simple API is what you are looking for, I don&#39;t think there is a faster or more minimalist API. \r\n\r\n","title":"Converting JSON data to Java object","body":"<p>Give boon a try:</p>\n\n<p><a href=\"https://github.com/RichardHightower/boon\" rel=\"nofollow\">https://github.com/RichardHightower/boon</a></p>\n\n<p>It is wicked fast:</p>\n\n<p><a href=\"https://github.com/RichardHightower/json-parsers-benchmark\" rel=\"nofollow\">https://github.com/RichardHightower/json-parsers-benchmark</a></p>\n\n<p>Don't take my word for it... check out the gatling benchmark.</p>\n\n<p><a href=\"https://github.com/gatling/json-parsers-benchmark\" rel=\"nofollow\">https://github.com/gatling/json-parsers-benchmark</a></p>\n\n<p>(Up to 4x is some cases, and out of the 100s of test. It also has a index overlay mode that is even faster. It is young but already has some users.)</p>\n\n<p>It can parse JSON to Maps and Lists faster than any other lib can parse to a JSON DOM and that is without Index Overlay mode. With Boon Index Overlay mode, it is even faster. </p>\n\n<p>It also has a very fast JSON lax mode and a PLIST parser mode. :) (and has a super low memory, direct from bytes mode with UTF-8 encoding on the fly).</p>\n\n<p>It also has the fastest JSON to JavaBean mode too. </p>\n\n<p>It is new, but if speed and simple API is what you are looking for, I don't think there is a faster or more minimalist API. </p>\n"},{"tags":[],"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1597151000,"creation_date":1448005623,"answer_id":33821459,"question_id":1688099,"body_markdown":"Depending on the input JSON format(string/file) create a jSONString. Sample Message class object corresponding to JSON can be obtained as below:\r\n\r\n    Message msgFromJSON = new ObjectMapper().readValue(jSONString, Message.class);","title":"Converting JSON data to Java object","body":"<p>Depending on the input JSON format(string/file) create a jSONString. Sample Message class object corresponding to JSON can be obtained as below:</p>\n<pre><code>Message msgFromJSON = new ObjectMapper().readValue(jSONString, Message.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3368068,"reputation":3372,"user_id":2828087,"display_name":"Rahul Raina"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1461741921,"creation_date":1461741921,"answer_id":36883077,"question_id":1688099,"body_markdown":"Easy and working java code to convert `JSONObject` to `Java Object`\r\n---------------------------------------------------------------\r\n\r\n**Employee.java**\r\n\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.annotation.Generated;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonAnyGetter;\r\n    import com.fasterxml.jackson.annotation.JsonAnySetter;\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n    \r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @Generated(&quot;org.jsonschema2pojo&quot;)\r\n    @JsonPropertyOrder({\r\n    &quot;id&quot;,\r\n    &quot;firstName&quot;,\r\n    &quot;lastName&quot;\r\n    })\r\n    public class Employee {\r\n    \r\n    @JsonProperty(&quot;id&quot;)\r\n    private Integer id;\r\n    @JsonProperty(&quot;firstName&quot;)\r\n    private String firstName;\r\n    @JsonProperty(&quot;lastName&quot;)\r\n    private String lastName;\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    \r\n    /**\r\n    *\r\n    * @return\r\n    * The id\r\n    */\r\n    @JsonProperty(&quot;id&quot;)\r\n    public Integer getId() {\r\n    return id;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @param id\r\n    * The id\r\n    */\r\n    @JsonProperty(&quot;id&quot;)\r\n    public void setId(Integer id) {\r\n    this.id = id;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @return\r\n    * The firstName\r\n    */\r\n    @JsonProperty(&quot;firstName&quot;)\r\n    public String getFirstName() {\r\n    return firstName;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @param firstName\r\n    * The firstName\r\n    */\r\n    @JsonProperty(&quot;firstName&quot;)\r\n    public void setFirstName(String firstName) {\r\n    this.firstName = firstName;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @return\r\n    * The lastName\r\n    */\r\n    @JsonProperty(&quot;lastName&quot;)\r\n    public String getLastName() {\r\n    return lastName;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @param lastName\r\n    * The lastName\r\n    */\r\n    @JsonProperty(&quot;lastName&quot;)\r\n    public void setLastName(String lastName) {\r\n    this.lastName = lastName;\r\n    }\r\n    \r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n    return this.additionalProperties;\r\n    }\r\n    \r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n    this.additionalProperties.put(name, value);\r\n    }\r\n    \r\n    }\r\n\r\n\r\n**LoadFromJSON.java**\r\n\r\n    import org.codehaus.jettison.json.JSONObject;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class LoadFromJSON {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tJSONObject json = new JSONObject();\r\n    \t\tjson.put(&quot;id&quot;, 2);\r\n    \t\tjson.put(&quot;firstName&quot;, &quot;hello&quot;);\r\n    \t\tjson.put(&quot;lastName&quot;, &quot;world&quot;);\r\n    \r\n    \t\tbyte[] jsonData = json.toString().getBytes();\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tEmployee employee = mapper.readValue(jsonData, Employee.class);\r\n    \r\n    \t\tSystem.out.print(employee.getLastName());\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Converting JSON data to Java object","body":"<h2>Easy and working java code to convert <code>JSONObject</code> to <code>Java Object</code></h2>\n\n<p><strong>Employee.java</strong></p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport javax.annotation.Generated;\n\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@Generated(\"org.jsonschema2pojo\")\n@JsonPropertyOrder({\n\"id\",\n\"firstName\",\n\"lastName\"\n})\npublic class Employee {\n\n@JsonProperty(\"id\")\nprivate Integer id;\n@JsonProperty(\"firstName\")\nprivate String firstName;\n@JsonProperty(\"lastName\")\nprivate String lastName;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n/**\n*\n* @return\n* The id\n*/\n@JsonProperty(\"id\")\npublic Integer getId() {\nreturn id;\n}\n\n/**\n*\n* @param id\n* The id\n*/\n@JsonProperty(\"id\")\npublic void setId(Integer id) {\nthis.id = id;\n}\n\n/**\n*\n* @return\n* The firstName\n*/\n@JsonProperty(\"firstName\")\npublic String getFirstName() {\nreturn firstName;\n}\n\n/**\n*\n* @param firstName\n* The firstName\n*/\n@JsonProperty(\"firstName\")\npublic void setFirstName(String firstName) {\nthis.firstName = firstName;\n}\n\n/**\n*\n* @return\n* The lastName\n*/\n@JsonProperty(\"lastName\")\npublic String getLastName() {\nreturn lastName;\n}\n\n/**\n*\n* @param lastName\n* The lastName\n*/\n@JsonProperty(\"lastName\")\npublic void setLastName(String lastName) {\nthis.lastName = lastName;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n\n<p><strong>LoadFromJSON.java</strong></p>\n\n<pre><code>import org.codehaus.jettison.json.JSONObject;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class LoadFromJSON {\n\n    public static void main(String args[]) throws Exception {\n        JSONObject json = new JSONObject();\n        json.put(\"id\", 2);\n        json.put(\"firstName\", \"hello\");\n        json.put(\"lastName\", \"world\");\n\n        byte[] jsonData = json.toString().getBytes();\n\n        ObjectMapper mapper = new ObjectMapper();\n        Employee employee = mapper.readValue(jsonData, Employee.class);\n\n        System.out.print(employee.getLastName());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7020430,"reputation":341,"user_id":5380038,"display_name":"Dipen Chawla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560271279,"creation_date":1557908796,"answer_id":56144755,"question_id":1688099,"body_markdown":"The easiest way is that you can use this softconvertvalue method which is a custom method in which you can convert jsonData into your specific Dto class.    \r\n\r\n    Dto response = softConvertValue(jsonData, Dto.class);\r\n        \r\n        \r\n    public static &lt;T&gt; T softConvertValue(Object fromValue, Class&lt;T&gt; toValueType) \r\n    {\r\n        ObjectMapper objMapper = new ObjectMapper();\r\n        return objMapper\r\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n            .convertValue(fromValue, toValueType);\r\n    }","title":"Converting JSON data to Java object","body":"<p>The easiest way is that you can use this softconvertvalue method which is a custom method in which you can convert jsonData into your specific Dto class.    </p>\n\n<pre><code>Dto response = softConvertValue(jsonData, Dto.class);\n\n\npublic static &lt;T&gt; T softConvertValue(Object fromValue, Class&lt;T&gt; toValueType) \n{\n    ObjectMapper objMapper = new ObjectMapper();\n    return objMapper\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .convertValue(fromValue, toValueType);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653420472,"creation_date":1653420472,"answer_id":72368459,"question_id":1688099,"body_markdown":"Pass your JSON file in this way, it will return the object. \r\n    \r\n    File file = new File(&quot;D:\\\\Coding\\\\tickets\\\\temp.json&quot;);\r\n    ObjectMapper om = new ObjectMapper();\r\n    Profile profile = om.readValue(file, new TypeReference&lt;Profile&gt;() {});","title":"Converting JSON data to Java object","body":"<p>Pass your JSON file in this way, it will return the object.</p>\n<pre><code>File file = new File(&quot;D:\\\\Coding\\\\tickets\\\\temp.json&quot;);\nObjectMapper om = new ObjectMapper();\nProfile profile = om.readValue(file, new TypeReference&lt;Profile&gt;() {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656963301,"creation_date":1656963301,"answer_id":72861310,"question_id":1688099,"body_markdown":"```xml\r\n\r\n        &lt;!-- GSON --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n```java\r\n  @Test\r\n    void readListJsonFromFileTest() throws IOException {\r\n\r\n        Type type = new TypeToken&lt;List&lt;SimplePojo&gt;&gt;(){}.getType();\r\n\r\n        String fromJsonFile = readFromJsonFile(&quot;json/simplePojoJsonList.json&quot;);\r\n\r\n        List&lt;SimplePojo&gt; pojoList = gson.fromJson(fromJsonFile, type);\r\n\r\n        Assertions.assertNotNull(pojoList);\r\n    }\r\n\r\n    @Test\r\n    void readJsonFromFileTest() throws IOException {\r\n\r\n        Type type = new TypeToken&lt;SimplePojo&gt;(){}.getType();\r\n\r\n        String fromJsonFile = readFromJsonFile(&quot;json/simplePojoJson.json&quot;);\r\n\r\n        SimplePojo simplePojo = gson.fromJson(fromJsonFile, type);\r\n\r\n        Assertions.assertNotNull(simplePojo);\r\n    }\r\n\r\n     String readFromJsonFile(String pathToJson) throws IOException {\r\n\r\n        InputStream resource = new ClassPathResource(pathToJson).getInputStream();\r\n\r\n        String json = StreamUtils.copyToString(resource, StandardCharsets.UTF_8);\r\n\r\n        return json;\r\n    }\r\n```","title":"Converting JSON data to Java object","body":"<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;!-- GSON --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.7&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n    void readListJsonFromFileTest() throws IOException {\n\n        Type type = new TypeToken&lt;List&lt;SimplePojo&gt;&gt;(){}.getType();\n\n        String fromJsonFile = readFromJsonFile(&quot;json/simplePojoJsonList.json&quot;);\n\n        List&lt;SimplePojo&gt; pojoList = gson.fromJson(fromJsonFile, type);\n\n        Assertions.assertNotNull(pojoList);\n    }\n\n    @Test\n    void readJsonFromFileTest() throws IOException {\n\n        Type type = new TypeToken&lt;SimplePojo&gt;(){}.getType();\n\n        String fromJsonFile = readFromJsonFile(&quot;json/simplePojoJson.json&quot;);\n\n        SimplePojo simplePojo = gson.fromJson(fromJsonFile, type);\n\n        Assertions.assertNotNull(simplePojo);\n    }\n\n     String readFromJsonFile(String pathToJson) throws IOException {\n\n        InputStream resource = new ClassPathResource(pathToJson).getInputStream();\n\n        String json = StreamUtils.copyToString(resource, StandardCharsets.UTF_8);\n\n        return json;\n    }\n</code></pre>\n"}],"owner":{"account_id":43494,"reputation":5361,"user_id":127160,"accept_rate":75,"display_name":"Faiyet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546375,"favorite_count":0,"down_vote_count":0,"up_vote_count":297,"accepted_answer_id":1688182,"answer_count":14,"score":297,"last_activity_date":1656963301,"creation_date":1257519244,"question_id":1688099,"body_markdown":"I want to be able to access properties from a JSON string within my Java action method. The string is available by simply saying `myJsonString = object.getJson()`. Below is an example of what the string can look like:\r\n\r\n    {\r\n        &#39;title&#39;: &#39;ComputingandInformationsystems&#39;,\r\n        &#39;id&#39;: 1,\r\n        &#39;children&#39;: &#39;true&#39;,\r\n        &#39;groups&#39;: [{\r\n            &#39;title&#39;: &#39;LeveloneCIS&#39;,\r\n            &#39;id&#39;: 2,\r\n            &#39;children&#39;: &#39;true&#39;,\r\n            &#39;groups&#39;: [{\r\n                &#39;title&#39;: &#39;IntroToComputingandInternet&#39;,\r\n                &#39;id&#39;: 3,\r\n                &#39;children&#39;: &#39;false&#39;,\r\n                &#39;groups&#39;: []\r\n            }]\r\n        }]\r\n    }\r\n\r\nIn this string every JSON object contains an array of other JSON objects. The intention is to extract a list of IDs where any given object possessing a group property that contains other JSON objects. I looked at Google&#39;s Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string?","title":"Converting JSON data to Java object","body":"<p>I want to be able to access properties from a JSON string within my Java action method. The string is available by simply saying <code>myJsonString = object.getJson()</code>. Below is an example of what the string can look like:</p>\n\n<pre><code>{\n    'title': 'ComputingandInformationsystems',\n    'id': 1,\n    'children': 'true',\n    'groups': [{\n        'title': 'LeveloneCIS',\n        'id': 2,\n        'children': 'true',\n        'groups': [{\n            'title': 'IntroToComputingandInternet',\n            'id': 3,\n            'children': 'false',\n            'groups': []\n        }]\n    }]\n}\n</code></pre>\n\n<p>In this string every JSON object contains an array of other JSON objects. The intention is to extract a list of IDs where any given object possessing a group property that contains other JSON objects. I looked at Google's Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string?</p>\n"},{"tags":["java","spring","cassandra","spring-data","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506075123,"creation_date":1506075123,"answer_id":46362223,"question_id":46357924,"body_markdown":"Calling arbitrary CQL using query methods is possible but you need to align the return type (e.g. `Row`). Also, an `UPDATE` command does not return any rows hence you won&#39;t receive any result.\r\n\r\nThe confirmation that your call was successful is the normal termination of the query method.","title":"How to know if data is updated in database with spring data cassandra","body":"<p>Calling arbitrary CQL using query methods is possible but you need to align the return type (e.g. <code>Row</code>). Also, an <code>UPDATE</code> command does not return any rows hence you won't receive any result.</p>\n\n<p>The confirmation that your call was successful is the normal termination of the query method.</p>\n"},{"tags":[],"owner":{"account_id":5144524,"reputation":1739,"user_id":4120875,"accept_rate":75,"display_name":"Sathyendran a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656962800,"creation_date":1506085478,"answer_id":46365541,"question_id":46357924,"body_markdown":"`@Query` is used in Spring Data to select the values from the DB. \r\n\r\nYou can use the `@Modifying` along with `@Query`, which will trigger at the annotated method an &quot;update query&quot; instead of a &quot;select one&quot;.\r\n\r\nSo the final form of that would be:\r\n\r\n```java\r\n@Modifying\r\n@Query(&quot;update User set firstName=?0 where id=?1&quot;)\r\nInteger updateFirstName(String firstName,String id);\r\n```\r\n\r\n","title":"How to know if data is updated in database with spring data cassandra","body":"<p><code>@Query</code> is used in Spring Data to select the values from the DB.</p>\n<p>You can use the <code>@Modifying</code> along with <code>@Query</code>, which will trigger at the annotated method an &quot;update query&quot; instead of a &quot;select one&quot;.</p>\n<p>So the final form of that would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying\n@Query(&quot;update User set firstName=?0 where id=?1&quot;)\nInteger updateFirstName(String firstName,String id);\n</code></pre>\n"}],"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656962800,"creation_date":1506060561,"question_id":46357924,"body_markdown":"With spring data JPA if i write query like this:\r\n\r\n\t@Query(&quot;update User u set  u.firstName=?1 where u.id=?2&quot;)\r\n\tInteger updateFirstName(String firstName,String id);\r\n\r\n`updateFirstName` method return either 0 or 1 based on update. But in spring data cassandra with this query:\r\n\r\n\t@Query(&quot;update User set  firstName=?0 where id=?1&quot;)\r\n\tInteger updateFirstName(String firstName,String id);\r\n\r\nI am getting `null` . Is there is any way i can get confirmation that update operation is completed successfully.","title":"How to know if data is updated in database with spring data cassandra","body":"<p>With spring data JPA if i write query like this:</p>\n\n<pre><code>@Query(\"update User u set  u.firstName=?1 where u.id=?2\")\nInteger updateFirstName(String firstName,String id);\n</code></pre>\n\n<p><code>updateFirstName</code> method return either 0 or 1 based on update. But in spring data cassandra with this query:</p>\n\n<pre><code>@Query(\"update User set  firstName=?0 where id=?1\")\nInteger updateFirstName(String firstName,String id);\n</code></pre>\n\n<p>I am getting <code>null</code> . Is there is any way i can get confirmation that update operation is completed successfully.</p>\n"},{"tags":["java","html","authentication","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500532996,"creation_date":1500532996,"answer_id":45207119,"question_id":45202673,"body_markdown":"Your button is of type button (not submit). In this case the browser renders only a button but the application developer is responsible for doing something if the user clicks the button. In you case the button will trigger some javascript.\r\n\r\nBut you have disabled Javscript by\r\n\r\n    wclient.getOptions().setJavaScriptEnabled(false);\r\n\r\nMaybe your problem goes away if you enable javascript.\r\n\r\nIn general it is a good idea to start with the default setting when facing any problems. The defaults are set in a way to be as close as possible to the real browsers.","title":"button click() does not provide any response","body":"<p>Your button is of type button (not submit). In this case the browser renders only a button but the application developer is responsible for doing something if the user clicks the button. In you case the button will trigger some javascript.</p>\n\n<p>But you have disabled Javscript by</p>\n\n<pre><code>wclient.getOptions().setJavaScriptEnabled(false);\n</code></pre>\n\n<p>Maybe your problem goes away if you enable javascript.</p>\n\n<p>In general it is a good idea to start with the default setting when facing any problems. The defaults are set in a way to be as close as possible to the real browsers.</p>\n"}],"owner":{"account_id":11011515,"reputation":23,"user_id":8088726,"display_name":"Canert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656962744,"creation_date":1500506901,"question_id":45202673,"body_markdown":"I&#39;m having issues with logging into specific website via HtmlUnit methods.\r\nThe site form&#39;s submit button looks like this:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;td&gt;\r\n    \t&lt;input type=&quot;button&quot; value=&quot;Login!&quot; onclick=&quot;encPass(UTM_STUDIO_ADMIN);&quot; class=&quot;normalButton&quot;&gt;\r\n    &lt;/td&gt;\r\n\r\nMine code snippet:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    final HtmlButtonInput submitLogin = form.getInputByValue(&quot;Login!&quot;);\r\n    \r\n    HtmlPage returnPage = submitLogin.click();\r\n    System.out.println(returnPage.asText());\r\n\r\nYet, it prints the logging site with username and password fields fulfilled, that&#39;s all.\r\n\r\nWebClient config:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    wclient.getOptions().setPrintContentOnFailingStatusCode(false);\r\n    wclient.getOptions().setCssEnabled(false);\r\n    wclient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n    wclient.getOptions().setThrowExceptionOnScriptError(false);\r\n    wclient.getOptions().setUseInsecureSSL(true);\r\n    wclient.getOptions().setJavaScriptEnabled(false);\r\n    \r\nI&#39;ve been already trying to log via my own added button, and played with ideas of waiting, enabling JS, redirecting etc., but I&#39;m new in the topic so it does not guarantee I can uncheck any ideas as already tried.","title":"button click() does not provide any response","body":"<p>I'm having issues with logging into specific website via HtmlUnit methods.\nThe site form's submit button looks like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;td&gt;\n    &lt;input type=&quot;button&quot; value=&quot;Login!&quot; onclick=&quot;encPass(UTM_STUDIO_ADMIN);&quot; class=&quot;normalButton&quot;&gt;\n&lt;/td&gt;\n</code></pre>\n<p>Mine code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final HtmlButtonInput submitLogin = form.getInputByValue(&quot;Login!&quot;);\n\nHtmlPage returnPage = submitLogin.click();\nSystem.out.println(returnPage.asText());\n</code></pre>\n<p>Yet, it prints the logging site with username and password fields fulfilled, that's all.</p>\n<p>WebClient config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>wclient.getOptions().setPrintContentOnFailingStatusCode(false);\nwclient.getOptions().setCssEnabled(false);\nwclient.getOptions().setThrowExceptionOnFailingStatusCode(false);\nwclient.getOptions().setThrowExceptionOnScriptError(false);\nwclient.getOptions().setUseInsecureSSL(true);\nwclient.getOptions().setJavaScriptEnabled(false);\n</code></pre>\n<p>I've been already trying to log via my own added button, and played with ideas of waiting, enabling JS, redirecting etc., but I'm new in the topic so it does not guarantee I can uncheck any ideas as already tried.</p>\n"},{"tags":["java","android","kotlin-coroutines"],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656004810,"creation_date":1656004810,"answer_id":72734214,"question_id":72734048,"body_markdown":"It&#39;s because `delay()` function internally also checks for cancellations, and if the cancellation happens during its execution it stops a coroutine by throwing a cancellation exception. To get the result you want try to use `Thread.sleep()` or similar blocking sleeping methods instead of `delay` or try to wrap calling `delay()` into `try-catch` block.","title":"Coroutine Lifecycle Scope and isActive not working?","body":"<p>It's because <code>delay()</code> function internally also checks for cancellations, and if the cancellation happens during its execution it stops a coroutine by throwing a cancellation exception. To get the result you want try to use <code>Thread.sleep()</code> or similar blocking sleeping methods instead of <code>delay</code> or try to wrap calling <code>delay()</code> into <code>try-catch</code> block.</p>\n"},{"tags":[],"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656005393,"creation_date":1656005393,"answer_id":72734331,"question_id":72734048,"body_markdown":"Cancellation in coroutines is indeed [cooperative][1] and checking `isActive` is one way to do it properly.\r\n\r\nBut you&#39;ve missed the part that built in suspending functions (in this case `delay`) check and throw a `CancellationException` internally so you won&#39;t get another loop execution after cancellation.\r\n\r\nIf you want to react to cancellation you can set a [`CompletionHandler`][2]:\r\n\r\n```\r\njob.invokeOnCompletion {\r\n    when(it?.message) {\r\n        null -&gt; Log.d(&quot;Completed normally&quot;)\r\n        &quot;ButtonPressed&quot; -&gt; Log.d(&quot;Cancelled by button press&quot;)\r\n        else -&gt; Log.d(&quot;Cancelled: ${it.message}&quot;)\r\n    }\r\n}\r\n```\r\n\r\nAnd alter your cancellation code so you can discern the cancellation message:\r\n\r\n```\r\njob.cancel(&quot;ButtonPressed&quot;)\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/cancellation-and-timeouts.html#cancellation-is-cooperative\r\n  [2]: https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-job/invoke-on-completion.html","title":"Coroutine Lifecycle Scope and isActive not working?","body":"<p>Cancellation in coroutines is indeed <a href=\"https://kotlinlang.org/docs/cancellation-and-timeouts.html#cancellation-is-cooperative\" rel=\"nofollow noreferrer\">cooperative</a> and checking <code>isActive</code> is one way to do it properly.</p>\n<p>But you've missed the part that built in suspending functions (in this case <code>delay</code>) check and throw a <code>CancellationException</code> internally so you won't get another loop execution after cancellation.</p>\n<p>If you want to react to cancellation you can set a <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-job/invoke-on-completion.html\" rel=\"nofollow noreferrer\"><code>CompletionHandler</code></a>:</p>\n<pre><code>job.invokeOnCompletion {\n    when(it?.message) {\n        null -&gt; Log.d(&quot;Completed normally&quot;)\n        &quot;ButtonPressed&quot; -&gt; Log.d(&quot;Cancelled by button press&quot;)\n        else -&gt; Log.d(&quot;Cancelled: ${it.message}&quot;)\n    }\n}\n</code></pre>\n<p>And alter your cancellation code so you can discern the cancellation message:</p>\n<pre><code>job.cancel(&quot;ButtonPressed&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31084,"reputation":128384,"user_id":85134,"display_name":"araqnid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656962352,"creation_date":1656962352,"answer_id":72861178,"question_id":72734048,"body_markdown":"If the coroutine is cancelled, then `delay()` or practically any other suspend call may throw `CancellationException`. So one approach is to simply use try-catch-finally to clean up on exit, as those are still run.\r\n\r\nIf you need to call suspend functions during cleanup, you need to use `withContext(NonCancellable) { ... }` so that the suspend functions inside that don&#39;t immediately throw `CancellationException` again.\r\n\r\n```kotlin\r\n  try {\r\n     (1..120).forEach {\r\n        // big long operation e.g. writing a large data file\r\n        Log.d(tag, &quot;ticking $it&quot;)\r\n        delay(1000)\r\n     }\r\n  } catch (ex: CancellationException) {\r\n    withContext(NonCancellable) {\r\n       Log.d(tag, &quot;ticking cancelled&quot;)\r\n       // clean up interrupted file generation\r\n    }\r\n    throw ex\r\n  }\r\n```\r\n","title":"Coroutine Lifecycle Scope and isActive not working?","body":"<p>If the coroutine is cancelled, then <code>delay()</code> or practically any other suspend call may throw <code>CancellationException</code>. So one approach is to simply use try-catch-finally to clean up on exit, as those are still run.</p>\n<p>If you need to call suspend functions during cleanup, you need to use <code>withContext(NonCancellable) { ... }</code> so that the suspend functions inside that don't immediately throw <code>CancellationException</code> again.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  try {\n     (1..120).forEach {\n        // big long operation e.g. writing a large data file\n        Log.d(tag, &quot;ticking $it&quot;)\n        delay(1000)\n     }\n  } catch (ex: CancellationException) {\n    withContext(NonCancellable) {\n       Log.d(tag, &quot;ticking cancelled&quot;)\n       // clean up interrupted file generation\n    }\n    throw ex\n  }\n</code></pre>\n"}],"owner":{"account_id":2275252,"reputation":499,"user_id":2001705,"accept_rate":88,"display_name":"Ken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656962352,"creation_date":1656003851,"question_id":72734048,"body_markdown":"I&#39;ve been working with Coroutines thinking they work like Java Threads where the isAlive boolean is the same as checking for isInterrupted() in a long running operation such as writing a large file.\r\n\r\nIn the past the Coroutine has worked as expected but in the current version 1.6.1-native-mt it doesn&#39;t seem to work like that any more. In the code below, the code inside the isAlive check doesn&#39;t seem to run even when I switch to the 1.6.1 non-multithreaded library.\r\n\r\nIf this is the way it&#39;s supposed to work? What should the correct way of performing a clean-up after a job is cancelled?\r\n\r\nAlso when attaching a Coroutine to a scope, in this case the Activity, shouldn&#39;t it be auto-cancelled when a new Activity is started? It seems to keep running if it isn&#39;t cancelled manually like in Java during the onPause()/onStop() phase.\r\n\r\nKotlin Coroutine:\r\n```lang-kotlin\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.widget.Button\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.lifecycle.lifecycleScope\r\nimport kotlinx.coroutines.*\r\n\r\nclass TestActivity : AppCompatActivity() {\r\n\r\n    private val tag = &quot;TEST&quot;\r\n    lateinit var job: Job\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_test)\r\n\r\n        val button = findViewById&lt;Button&gt;(R.id.stopbutton)\r\n\r\n        job = lifecycleScope.launch(Dispatchers.IO) {\r\n\r\n            (1..120).forEach {\r\n\r\n                // big long operation e.g. writing a large data file\r\n                Log.d(tag, &quot;ticking $it&quot;)\r\n\r\n                if ( !isActive ) {\r\n                    // this code never happens after....\r\n                    // 1. button is clicked to cancel job\r\n                    // 2. app is killed\r\n                    Log.d(tag, &quot;ticking stopped by button&quot;)\r\n                    // clean up the partially written file\r\n                    return@launch\r\n                }\r\n\r\n                delay(1000)\r\n            }\r\n\r\n        }\r\n\r\n        button.setOnClickListener {\r\n            job.cancel()\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nExpected Output (Should be same as Java Thread code):\r\n```\r\nticking 1\r\nticking 2\r\nticking 3\r\nticking stopped\r\n```\r\n\r\nActual Coroutine Output:\r\n```\r\nticking 1\r\nticking 2\r\nticking 3\r\n```\r\n\r\nAnd the Java code for handling thread interrupts.\r\n```lang-java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.SystemClock;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    protected Thread t = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        t = new Thread(){\r\n\r\n            @Override\r\n            public void run() {\r\n\r\n                for ( int x = 0; x &lt; 120; x++ ) {\r\n                    Log.d(&quot;TEST&quot;, &quot;ticking &quot; + x);\r\n\r\n                    if ( interrupted() ) {\r\n                        Log.d(&quot;TEST&quot;, &quot;ticking stopped by button&quot;);\r\n                        return;\r\n                    }\r\n\r\n                    // just for demoing\r\n                    SystemClock.sleep(1000);\r\n\r\n                }\r\n\r\n            }\r\n        };\r\n        t.start();\r\n\r\n        Button btn = findViewById(R.id.button);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                t.interrupt();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**Update 1**\r\n\r\nAfter following @Sergio and @Pawel&#39;s quick replies I have removed delay() and replaced it with SystemClock.sleep() just like in Java to simulate long operations. Now it works as expected although I wonder why so many tutorials use it without highlighting the issue.\r\n\r\nStill trying to figure out what is the point of attaching a coroutine to a lifecycle scope if it doesn&#39;t auto cancel() onstop() such as described here:\r\n\r\nhttps://medium.com/androiddevelopers/cancellation-in-coroutines-aa6b90163629\r\n\r\nOr maybe I&#39;m missing the point?","title":"Coroutine Lifecycle Scope and isActive not working?","body":"<p>I've been working with Coroutines thinking they work like Java Threads where the isAlive boolean is the same as checking for isInterrupted() in a long running operation such as writing a large file.</p>\n<p>In the past the Coroutine has worked as expected but in the current version 1.6.1-native-mt it doesn't seem to work like that any more. In the code below, the code inside the isAlive check doesn't seem to run even when I switch to the 1.6.1 non-multithreaded library.</p>\n<p>If this is the way it's supposed to work? What should the correct way of performing a clean-up after a job is cancelled?</p>\n<p>Also when attaching a Coroutine to a scope, in this case the Activity, shouldn't it be auto-cancelled when a new Activity is started? It seems to keep running if it isn't cancelled manually like in Java during the onPause()/onStop() phase.</p>\n<p>Kotlin Coroutine:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.os.Bundle\nimport android.util.Log\nimport android.widget.Button\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.lifecycle.lifecycleScope\nimport kotlinx.coroutines.*\n\nclass TestActivity : AppCompatActivity() {\n\n    private val tag = &quot;TEST&quot;\n    lateinit var job: Job\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_test)\n\n        val button = findViewById&lt;Button&gt;(R.id.stopbutton)\n\n        job = lifecycleScope.launch(Dispatchers.IO) {\n\n            (1..120).forEach {\n\n                // big long operation e.g. writing a large data file\n                Log.d(tag, &quot;ticking $it&quot;)\n\n                if ( !isActive ) {\n                    // this code never happens after....\n                    // 1. button is clicked to cancel job\n                    // 2. app is killed\n                    Log.d(tag, &quot;ticking stopped by button&quot;)\n                    // clean up the partially written file\n                    return@launch\n                }\n\n                delay(1000)\n            }\n\n        }\n\n        button.setOnClickListener {\n            job.cancel()\n        }\n\n    }\n\n}\n</code></pre>\n<p>Expected Output (Should be same as Java Thread code):</p>\n<pre><code>ticking 1\nticking 2\nticking 3\nticking stopped\n</code></pre>\n<p>Actual Coroutine Output:</p>\n<pre><code>ticking 1\nticking 2\nticking 3\n</code></pre>\n<p>And the Java code for handling thread interrupts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.os.SystemClock;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n\n    protected Thread t = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        t = new Thread(){\n\n            @Override\n            public void run() {\n\n                for ( int x = 0; x &lt; 120; x++ ) {\n                    Log.d(&quot;TEST&quot;, &quot;ticking &quot; + x);\n\n                    if ( interrupted() ) {\n                        Log.d(&quot;TEST&quot;, &quot;ticking stopped by button&quot;);\n                        return;\n                    }\n\n                    // just for demoing\n                    SystemClock.sleep(1000);\n\n                }\n\n            }\n        };\n        t.start();\n\n        Button btn = findViewById(R.id.button);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                t.interrupt();\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Update 1</strong></p>\n<p>After following @Sergio and @Pawel's quick replies I have removed delay() and replaced it with SystemClock.sleep() just like in Java to simulate long operations. Now it works as expected although I wonder why so many tutorials use it without highlighting the issue.</p>\n<p>Still trying to figure out what is the point of attaching a coroutine to a lifecycle scope if it doesn't auto cancel() onstop() such as described here:</p>\n<p><a href=\"https://medium.com/androiddevelopers/cancellation-in-coroutines-aa6b90163629\" rel=\"nofollow noreferrer\">https://medium.com/androiddevelopers/cancellation-in-coroutines-aa6b90163629</a></p>\n<p>Or maybe I'm missing the point?</p>\n"},{"tags":["java","android-studio","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":9822073,"reputation":737,"user_id":7276442,"display_name":"Priyank Jain"},"score":0,"creation_date":1657000965,"post_id":72861090,"comment_id":128699009,"body_markdown":"Note that according to [TextDelegate](https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:compose/foundation/foundation/src/commonMain/kotlin/androidx/compose/foundation/text/TextDelegate.kt;l=58) if you want to use both withStyle() on AnnotatedString and the style = MaterialTheme.typography.body2. The AnnotatedString style will always have the higher priority. Means withStyle() will always take priority over the passed style attribute on ClickableText.","body":"Note that according to <a href=\"https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:compose/foundation/foundation/src/commonMain/kotlin/androidx/compose/foundation/text/TextDelegate.kt;l=58\" rel=\"nofollow noreferrer\">TextDelegate</a> if you want to use both withStyle() on AnnotatedString and the style = MaterialTheme.typography.body2. The AnnotatedString style will always have the higher priority. Means withStyle() will always take priority over the passed style attribute on ClickableText."},{"owner":{"account_id":12538756,"reputation":968,"user_id":9124515,"display_name":"Ibramazin"},"score":0,"creation_date":1657024111,"post_id":72861090,"comment_id":128706560,"body_markdown":"I cant even pass &#39;style&#39; attribute to ClickableText","body":"I cant even pass &#39;style&#39; attribute to ClickableText"},{"owner":{"account_id":9822073,"reputation":737,"user_id":7276442,"display_name":"Priyank Jain"},"score":0,"creation_date":1657083056,"post_id":72861090,"comment_id":128721985,"body_markdown":"You can pass the style attribute, can you post your entire code so that I can have a look?","body":"You can pass the style attribute, can you post your entire code so that I can have a look?"}],"owner":{"account_id":12538756,"reputation":968,"user_id":9124515,"display_name":"Ibramazin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656961704,"creation_date":1656961704,"question_id":72861090,"body_markdown":"I can use:\r\n\r\n\r\n    Text(\r\n        ...........\r\n         style = MaterialTheme.typography.body2,\r\n         .........\r\n       )\r\n\r\nBut I cant use:\r\n\r\n     ClickableText(\r\n        ...........\r\n        style = MaterialTheme.typography.body2. //not working\r\n    )\r\n\r\nI need to use the `&#39;style&#39;` attribute for text related UI composables like `ClickableText` and while building annotated strings using `withStyle(...)`\r\n\r\nAlso I should be able to call my theme - `Materialtheme.typography.whatever` on the style","title":"Unable to use style on other UI composables aside Text","body":"<p>I can use:</p>\n<pre><code>Text(\n    ...........\n     style = MaterialTheme.typography.body2,\n     .........\n   )\n</code></pre>\n<p>But I cant use:</p>\n<pre><code> ClickableText(\n    ...........\n    style = MaterialTheme.typography.body2. //not working\n)\n</code></pre>\n<p>I need to use the <code>'style'</code> attribute for text related UI composables like <code>ClickableText</code> and while building annotated strings using <code>withStyle(...)</code></p>\n<p>Also I should be able to call my theme - <code>Materialtheme.typography.whatever</code> on the style</p>\n"},{"tags":["java","apache-spark","offsetdatetime"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656958848,"post_id":72859243,"comment_id":128692082,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656952588,"creation_date":1656950060,"answer_id":72859351,"question_id":72859243,"body_markdown":"# `OffsetDateTime` not supported by `Encoders`\r\n\r\nAs per `Encoder` [doc][1], supported type for bean fields are:\r\n\r\n&gt; supported types for java bean field: - primitive types: boolean, int,\r\n&gt; double, etc. - boxed types: Boolean, Integer, Double, etc. - String -\r\n&gt; java.math.BigDecimal, java.math.BigInteger - time related:\r\n&gt; java.sql.Date, java.sql.Timestamp, java.time.LocalDate,\r\n&gt; java.time.Instant - collection types: array, java.util.List, and map -\r\n&gt; nested java bean.\r\n\r\n\r\nSo it looks like it may not be possible to use `OffsetDateTime` as far as I can see.\r\n`ZoneOffset` is part of `OffsetDateTime` field so call `Encoders.bean` might be generating code which keeps referring `ZoneOffset` in circular manner.\r\n\r\n# Use `Instant`\r\n\r\nYou can convert a `OffsetDateTime` object to the more basic class, [`Instant`][2]. \r\n\r\n    Instant instant = odt.toInstant() ;\r\n\r\n\r\nAnd back again.\r\n\r\n    ZoneOffset offset = ZoneOffset.ofHours( -8 ) ;\r\n    OffsetDateTime odt = instant.atOffset( offset ) ;\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/latest/api/java/org/apache/spark/sql/Encoders.html#bean-java.lang.Class-\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html","title":"java.lang.UnsupportedOperationException: Cannot have circular references in bean class but got the circular reference of class java.time.ZoneOffset","body":"<h1><code>OffsetDateTime</code> not supported by <code>Encoders</code></h1>\n<p>As per <code>Encoder</code> <a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/sql/Encoders.html#bean-java.lang.Class-\" rel=\"nofollow noreferrer\">doc</a>, supported type for bean fields are:</p>\n<blockquote>\n<p>supported types for java bean field: - primitive types: boolean, int,\ndouble, etc. - boxed types: Boolean, Integer, Double, etc. - String -\njava.math.BigDecimal, java.math.BigInteger - time related:\njava.sql.Date, java.sql.Timestamp, java.time.LocalDate,\njava.time.Instant - collection types: array, java.util.List, and map -\nnested java bean.</p>\n</blockquote>\n<p>So it looks like it may not be possible to use <code>OffsetDateTime</code> as far as I can see.\n<code>ZoneOffset</code> is part of <code>OffsetDateTime</code> field so call <code>Encoders.bean</code> might be generating code which keeps referring <code>ZoneOffset</code> in circular manner.</p>\n<h1>Use <code>Instant</code></h1>\n<p>You can convert a <code>OffsetDateTime</code> object to the more basic class, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>.</p>\n<pre><code>Instant instant = odt.toInstant() ;\n</code></pre>\n<p>And back again.</p>\n<pre><code>ZoneOffset offset = ZoneOffset.ofHours( -8 ) ;\nOffsetDateTime odt = instant.atOffset( offset ) ;\n</code></pre>\n"}],"owner":{"account_id":25723804,"reputation":23,"user_id":19480452,"display_name":"Vidhi Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72859351,"answer_count":1,"score":2,"last_activity_date":1656961225,"creation_date":1656949375,"question_id":72859243,"body_markdown":"While executing the below command \r\n\r\n```StructType obs = Encoders.bean(Test.class).schema();```\r\n\r\nI am getting the below error\r\n\r\n```java.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset```\r\n\r\nclass Test has ```OffsetDateTime``` field, which is causing the error. If I remove this field the error also goes away.\r\nIs there a way by which I can avoid this circular reference error and also use OffsetDateTime?\r\n\r\n\r\n```java.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset\r\njava.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset\r\n\tat org.apache.spark.sql.errors.QueryExecutionErrors$.cannotHaveCircularReferencesInBeanClassError(QueryExecutionErrors.scala:984)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:148)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:134)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:70)\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:66)\r\n\tat org.apache.spark.sql.Encoders$.bean(Encoders.scala:171)\r\n\tat org.apache.spark.sql.Encoders.bean(Encoders.scala)```\r\n\r\n","title":"java.lang.UnsupportedOperationException: Cannot have circular references in bean class but got the circular reference of class java.time.ZoneOffset","body":"<p>While executing the below command</p>\n<p><code>StructType obs = Encoders.bean(Test.class).schema();</code></p>\n<p>I am getting the below error</p>\n<p><code>java.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset</code></p>\n<p>class Test has <code>OffsetDateTime</code> field, which is causing the error. If I remove this field the error also goes away.\nIs there a way by which I can avoid this circular reference error and also use OffsetDateTime?</p>\n<pre><code>java.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset\n    at org.apache.spark.sql.errors.QueryExecutionErrors$.cannotHaveCircularReferencesInBeanClassError(QueryExecutionErrors.scala:984)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:148)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:134)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:70)\n    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:66)\n    at org.apache.spark.sql.Encoders$.bean(Encoders.scala:171)\n    at org.apache.spark.sql.Encoders.bean(Encoders.scala)```\n\n</code></pre>\n"},{"tags":["java","c#","printing","thermal-printer","printer-control-language"],"answers":[{"tags":[],"owner":{"account_id":14924576,"reputation":337,"user_id":10775846,"display_name":"Rajiv Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656961127,"creation_date":1656961127,"answer_id":72861007,"question_id":72737579,"body_markdown":"settings on the printer need to be set to &quot;Label mode&quot;","title":"Toshiba thermal Printer(B-EP4DL) command code, issue in JAVA","body":"<p>settings on the printer need to be set to &quot;Label mode&quot;</p>\n"}],"owner":{"account_id":14924576,"reputation":337,"user_id":10775846,"display_name":"Rajiv Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72861007,"answer_count":1,"score":0,"last_activity_date":1656961127,"creation_date":1656026892,"question_id":72737579,"body_markdown":"I have been stuck on this print command code related to Toshiba printer, here based on the previous C# code im trying to write the same in Java, where I&#39;m unable to figure out where I&#39;m doing wrong where the Toshiba printer is giving me an error \r\n\r\n&gt; &quot;??AY;-00,1&quot;\r\n\r\n .\r\n\r\nIf I try to change the ESC sequence format then it will print the all data as a Text(not as expected). \r\n\r\nKindly help me with this query, I&#39;m stuck with this Printer related command code.\r\n\r\nPrinter Model : Toshiba thermal printer B-EP4DL\r\n\r\nDocument reffered :\r\n\r\nhttps://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf\r\n \r\n\r\nOther reference :\r\nhttps://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf\r\n\r\nhttps://www.manualslib.com/manual/579619/Toshiba-B-Sx4t-Series.html?page=103#manual\r\n\r\nDecimal value for byte[n] = https://bournetocode.com/projects/GCSE_Computing_Fundamentals/pages/3-3-5-ascii.html\r\n\r\n\r\n    DataOutputStream outToPrt = new DataOutputStream(prtSocket.getOutputStream());\r\n    \r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bD1780,0140,1600\\n\\u0000&quot;);\r\n            outToPrt.writeUTF(&quot;\\u001bAY;+20,1\\n\\u0000&quot;);\r\n            outToPrt.writeUTF(&quot;\\u001bC\\n\\u0000&quot;);\r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bD0715,1040,0635\\n\\u0000&quot;);\r\n            outToPrt.writeUTF(&quot;\\u001bAY;-00,1\\n\\u0000&quot;);\r\n            outToPrt.writeUTF(&quot;\\u001bAX;+012\\n\\u0000&quot;);\r\n            outputStreamWriter.write(&quot;\\u001bC\\n\\u0000&quot;);\r\n    \r\n    \r\n            // send printer formatting sequence\r\n            outToPrt.writeUTF(&quot;\\u001bPC00;0030,0015,1,1,G,00,B,00,1,0\\n\\u0000&quot;);             // Blank\r\n            outToPrt.writeUTF(&quot;\\u001bPC01;0010,0145,3,3,S,00,B,00,1,0\\n\\u0000&quot;);                // Scan Date &amp; Time\r\n    \r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bPV03;0010,0390,0130,0210,B,00,B,00,1,0\\n\\u0000&quot;);      \r\n\r\n            outToPrt.writeUTF(&quot;\\u001bPV04;0365,0360,0175,0275,B,00,B,00,1,0\\n\\u0000&quot;);      \r\n\r\n            outToPrt.writeUTF(&quot;\\u001bPV05;0450,0440,0070,0080,B,00,W,00,1,0\\n\\u0000&quot;);     \r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bXB07;0055,0460,9,3,03,0,0060,000,0,00,1,0\\n\\u0000&quot;);   // Barcode (Code 128)\r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bPC06;0010,0575,2,2,S,00,B,00,1,0\\n\\u0000&quot;);                \r\n\r\n            outToPrt.writeUTF(&quot;\\u001bPC08;0800,0575,2,2,S,00,B,00,1,0\\n\\u0000&quot;);                \r\n\r\n    \r\n            //tell printer end of formatting sequence\r\n            outToPrt.writeUTF(&quot;\\u001bXP\\n\\u0000&quot;);\r\n    \r\n            // send the remote machine name\r\n    \r\n            outToPrt.writeUTF(String.format(&quot;\\u001b\\u0058\\u0000\\u0000\\u0001%1$s\\n%2$s\\n%3$s\\n%4$s\\n%5$s\\n%6$s\\n%7$s\\n%8$s - %9$s - %10$s\\n%11$s\\n\\u0000&quot;,\r\n                    &quot;&quot;,                   // Blank  {0}\r\n                    &quot;26Apr22 11:40&quot;,           \r\n                    &quot;023 Data&quot;,        \r\n                    &quot;ABC&quot;,            \r\n                    &quot;AB-06&quot;,               \r\n                    &quot;Print-Mode&quot;,        // Mode\r\n                    &quot;1234567890&quot;,        // barcode\r\n                    &quot;319241&quot;,     \r\n                    &quot;HAP2211461&quot;,      \r\n                    &quot;3.0.1&quot;,   \r\n                    &quot;aprday0329c&quot;));\r\n    //         flush all writes\r\n            outToPrt.flush();\r\n\r\n\r\n\r\nC# Code for reference :\r\n\r\n    private void toshibaPrinterCodes(StreamWriter sw, LabelData labelData){\r\n    \r\n                // send label and format\r\n    \r\n                sw.Write(&quot;\\x1bD0715,1040,0635\\n\\x00&quot;);\r\n                sw.Write(&quot;\\x1bAY;-00,1\\n\\x00&quot;);\r\n    \r\n                sw.Write(&quot;\\x1bAX;+012\\n\\x00&quot;);\r\n                // send printer formatting sequence\r\n                sw.Write(&quot;\\x1bPC00;0030,0015,1,1,G,00,B,00,1,0\\n\\x00&quot;);         \r\n    \r\n                sw.Write(&quot;\\x1bPC01;0010,0145,3,3,S,00,B,00,1,0\\n\\x00&quot;);                   \r\n    \r\n                sw.Write(&quot;\\x1bPV03;0010,0390,0130,0210,B,00,B,00,1,0\\n\\x00&quot;);          \r\n    \r\n                sw.Write(&quot;\\x1bPV04;0365,0360,0175,0275,B,00,B,00,1,0\\n\\x00&quot;);     \r\n    \r\n                sw.Write(&quot;\\x1bPV05;0450,0440,0070,0080,B,00,W,00,1,0\\n\\x00&quot;);          \r\n    \r\n                sw.Write(&quot;\\x1bXB07;0055,0460,9,3,03,0,0060,000,0,00,1,0\\n\\x00&quot;);\r\n    \r\n                sw.Write(&quot;\\x1bPC06;0010,0575,2,2,S,00,B,00,1,0\\n\\x00&quot;);                    \r\n    \r\n                sw.Write(&quot;\\x1bPC08;0800,0575,2,2,S,00,B,00,1,0\\n\\x00&quot;);             \r\n    \r\n                //tell printer end of formatting sequence\r\n    \r\n                sw.Write(&quot;\\x1bXP\\n\\00&quot;);\r\n    \r\n                // send the remote machine name\r\n    \r\n                sw.Write(string.Format(&quot;\\x1b\\x58\\x00\\x00\\x01{0}\\x0a{1}\\x0a{2}\\x0a{3}\\x0a{4}\\x0a{5}\\x0a{6}\\x0a{7} - {8} - {9}\\x0a{10}\\x0a\\00&quot;,\r\n    \r\n                    &quot;&quot;,                                 // Blank  {0}\r\n    \r\n                    labelData.getDataXXX(),           \r\n    \r\n                    labelData. getDataXXX (),         \r\n    \r\n                    labelData. getDataX (),           \r\n    \r\n                    labelData. getDataX (),             \r\n    \r\n                    labelData. getDataX (),       \r\n    \r\n                    labelData. getDataX (),           \r\n    \r\n                    labelData. getDataX (),     \r\n    \r\n                    labelData. getDataX (),         \r\n    \r\n                    labelData. getDataX (),     \r\n    \r\n                    labelData. getDataX ()));         \r\n    \r\n                   \r\n    \r\n                // flush all writes\r\n    \r\n     \r\n    \r\n                sw.Flush();","title":"Toshiba thermal Printer(B-EP4DL) command code, issue in JAVA","body":"<p>I have been stuck on this print command code related to Toshiba printer, here based on the previous C# code im trying to write the same in Java, where I'm unable to figure out where I'm doing wrong where the Toshiba printer is giving me an error</p>\n<blockquote>\n<p>&quot;??AY;-00,1&quot;</p>\n</blockquote>\n<p>.</p>\n<p>If I try to change the ESC sequence format then it will print the all data as a Text(not as expected).</p>\n<p>Kindly help me with this query, I'm stuck with this Printer related command code.</p>\n<p>Printer Model : Toshiba thermal printer B-EP4DL</p>\n<p>Document reffered :</p>\n<p><a href=\"https://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf\" rel=\"nofollow noreferrer\">https://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf</a></p>\n<p>Other reference :\n<a href=\"https://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf\" rel=\"nofollow noreferrer\">https://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf</a></p>\n<p><a href=\"https://www.manualslib.com/manual/579619/Toshiba-B-Sx4t-Series.html?page=103#manual\" rel=\"nofollow noreferrer\">https://www.manualslib.com/manual/579619/Toshiba-B-Sx4t-Series.html?page=103#manual</a></p>\n<p>Decimal value for byte[n] = <a href=\"https://bournetocode.com/projects/GCSE_Computing_Fundamentals/pages/3-3-5-ascii.html\" rel=\"nofollow noreferrer\">https://bournetocode.com/projects/GCSE_Computing_Fundamentals/pages/3-3-5-ascii.html</a></p>\n<pre><code>DataOutputStream outToPrt = new DataOutputStream(prtSocket.getOutputStream());\n\n\n        outToPrt.writeUTF(&quot;\\u001bD1780,0140,1600\\n\\u0000&quot;);\n        outToPrt.writeUTF(&quot;\\u001bAY;+20,1\\n\\u0000&quot;);\n        outToPrt.writeUTF(&quot;\\u001bC\\n\\u0000&quot;);\n\n        outToPrt.writeUTF(&quot;\\u001bD0715,1040,0635\\n\\u0000&quot;);\n        outToPrt.writeUTF(&quot;\\u001bAY;-00,1\\n\\u0000&quot;);\n        outToPrt.writeUTF(&quot;\\u001bAX;+012\\n\\u0000&quot;);\n        outputStreamWriter.write(&quot;\\u001bC\\n\\u0000&quot;);\n\n\n        // send printer formatting sequence\n        outToPrt.writeUTF(&quot;\\u001bPC00;0030,0015,1,1,G,00,B,00,1,0\\n\\u0000&quot;);             // Blank\n        outToPrt.writeUTF(&quot;\\u001bPC01;0010,0145,3,3,S,00,B,00,1,0\\n\\u0000&quot;);                // Scan Date &amp; Time\n\n\n        outToPrt.writeUTF(&quot;\\u001bPV03;0010,0390,0130,0210,B,00,B,00,1,0\\n\\u0000&quot;);      \n\n        outToPrt.writeUTF(&quot;\\u001bPV04;0365,0360,0175,0275,B,00,B,00,1,0\\n\\u0000&quot;);      \n\n        outToPrt.writeUTF(&quot;\\u001bPV05;0450,0440,0070,0080,B,00,W,00,1,0\\n\\u0000&quot;);     \n\n        outToPrt.writeUTF(&quot;\\u001bXB07;0055,0460,9,3,03,0,0060,000,0,00,1,0\\n\\u0000&quot;);   // Barcode (Code 128)\n\n        outToPrt.writeUTF(&quot;\\u001bPC06;0010,0575,2,2,S,00,B,00,1,0\\n\\u0000&quot;);                \n\n        outToPrt.writeUTF(&quot;\\u001bPC08;0800,0575,2,2,S,00,B,00,1,0\\n\\u0000&quot;);                \n\n\n        //tell printer end of formatting sequence\n        outToPrt.writeUTF(&quot;\\u001bXP\\n\\u0000&quot;);\n\n        // send the remote machine name\n\n        outToPrt.writeUTF(String.format(&quot;\\u001b\\u0058\\u0000\\u0000\\u0001%1$s\\n%2$s\\n%3$s\\n%4$s\\n%5$s\\n%6$s\\n%7$s\\n%8$s - %9$s - %10$s\\n%11$s\\n\\u0000&quot;,\n                &quot;&quot;,                   // Blank  {0}\n                &quot;26Apr22 11:40&quot;,           \n                &quot;023 Data&quot;,        \n                &quot;ABC&quot;,            \n                &quot;AB-06&quot;,               \n                &quot;Print-Mode&quot;,        // Mode\n                &quot;1234567890&quot;,        // barcode\n                &quot;319241&quot;,     \n                &quot;HAP2211461&quot;,      \n                &quot;3.0.1&quot;,   \n                &quot;aprday0329c&quot;));\n//         flush all writes\n        outToPrt.flush();\n</code></pre>\n<p>C# Code for reference :</p>\n<pre><code>private void toshibaPrinterCodes(StreamWriter sw, LabelData labelData){\n\n            // send label and format\n\n            sw.Write(&quot;\\x1bD0715,1040,0635\\n\\x00&quot;);\n            sw.Write(&quot;\\x1bAY;-00,1\\n\\x00&quot;);\n\n            sw.Write(&quot;\\x1bAX;+012\\n\\x00&quot;);\n            // send printer formatting sequence\n            sw.Write(&quot;\\x1bPC00;0030,0015,1,1,G,00,B,00,1,0\\n\\x00&quot;);         \n\n            sw.Write(&quot;\\x1bPC01;0010,0145,3,3,S,00,B,00,1,0\\n\\x00&quot;);                   \n\n            sw.Write(&quot;\\x1bPV03;0010,0390,0130,0210,B,00,B,00,1,0\\n\\x00&quot;);          \n\n            sw.Write(&quot;\\x1bPV04;0365,0360,0175,0275,B,00,B,00,1,0\\n\\x00&quot;);     \n\n            sw.Write(&quot;\\x1bPV05;0450,0440,0070,0080,B,00,W,00,1,0\\n\\x00&quot;);          \n\n            sw.Write(&quot;\\x1bXB07;0055,0460,9,3,03,0,0060,000,0,00,1,0\\n\\x00&quot;);\n\n            sw.Write(&quot;\\x1bPC06;0010,0575,2,2,S,00,B,00,1,0\\n\\x00&quot;);                    \n\n            sw.Write(&quot;\\x1bPC08;0800,0575,2,2,S,00,B,00,1,0\\n\\x00&quot;);             \n\n            //tell printer end of formatting sequence\n\n            sw.Write(&quot;\\x1bXP\\n\\00&quot;);\n\n            // send the remote machine name\n\n            sw.Write(string.Format(&quot;\\x1b\\x58\\x00\\x00\\x01{0}\\x0a{1}\\x0a{2}\\x0a{3}\\x0a{4}\\x0a{5}\\x0a{6}\\x0a{7} - {8} - {9}\\x0a{10}\\x0a\\00&quot;,\n\n                &quot;&quot;,                                 // Blank  {0}\n\n                labelData.getDataXXX(),           \n\n                labelData. getDataXXX (),         \n\n                labelData. getDataX (),           \n\n                labelData. getDataX (),             \n\n                labelData. getDataX (),       \n\n                labelData. getDataX (),           \n\n                labelData. getDataX (),     \n\n                labelData. getDataX (),         \n\n                labelData. getDataX (),     \n\n                labelData. getDataX ()));         \n\n               \n\n            // flush all writes\n\n \n\n            sw.Flush();\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":7031093,"reputation":517,"user_id":8772085,"display_name":"Dreamer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656961047,"creation_date":1656960739,"answer_id":72860962,"question_id":72859902,"body_markdown":"You can try this on your way\r\n\r\nMainActivity.java\r\n\r\n    static SwitchMaterial switchMaterial;\r\n\r\n\r\nFragment.java\r\n\r\n    if (MainActivity.switchMaterial.isChecked()){\r\n            Toast.makeText(getActivity(), &quot;checked&quot;, Toast.LENGTH_SHORT).show();\r\n        }else {\r\n            Toast.makeText(getActivity(), &quot;not checked&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nThis should work but can make memory leak in some cases .. You may also try using SharedPreferences for example to avoid memory leaks\r\n\r\n","title":"How can I get MaterialSwitch id from activity in fragment in android?","body":"<p>You can try this on your way</p>\n<p>MainActivity.java</p>\n<pre><code>static SwitchMaterial switchMaterial;\n</code></pre>\n<p>Fragment.java</p>\n<pre><code>if (MainActivity.switchMaterial.isChecked()){\n        Toast.makeText(getActivity(), &quot;checked&quot;, Toast.LENGTH_SHORT).show();\n    }else {\n        Toast.makeText(getActivity(), &quot;not checked&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>This should work but can make memory leak in some cases .. You may also try using SharedPreferences for example to avoid memory leaks</p>\n"}],"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860962,"answer_count":1,"score":0,"last_activity_date":1656961047,"creation_date":1656953455,"question_id":72859902,"body_markdown":"How can I get materialSwitch id in fragment from activity. switch which is in mainActivity but i want to check in fragment whether the switch is on or off. for example &quot;if(switchMaterial.ischecked){\r\ncode...\r\n}&quot; by calling the id from the mainActivity in fragment\r\n\r\nI have tried this but it doesn&#39;t worked \r\n\r\nMainActivity.java\r\n\r\n        public SwitchMaterial switchMaterial;\r\n\r\n\r\n\r\n Fragment.java\r\n\r\n     if (((MainActivity) getActivity()).switchMaterial.isChecked()){\r\n            Toast.makeText(getActivity(), &quot;checked&quot;, Toast.LENGTH_SHORT).show();\r\n        }else {\r\n            Toast.makeText(getActivity(), &quot;not checked&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n\r\nIs this possible to call id from activity to fragment. If possible please help me out. \r\n","title":"How can I get MaterialSwitch id from activity in fragment in android?","body":"<p>How can I get materialSwitch id in fragment from activity. switch which is in mainActivity but i want to check in fragment whether the switch is on or off. for example &quot;if(switchMaterial.ischecked){\ncode...\n}&quot; by calling the id from the mainActivity in fragment</p>\n<p>I have tried this but it doesn't worked</p>\n<p>MainActivity.java</p>\n<pre><code>    public SwitchMaterial switchMaterial;\n</code></pre>\n<p>Fragment.java</p>\n<pre><code> if (((MainActivity) getActivity()).switchMaterial.isChecked()){\n        Toast.makeText(getActivity(), &quot;checked&quot;, Toast.LENGTH_SHORT).show();\n    }else {\n        Toast.makeText(getActivity(), &quot;not checked&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>Is this possible to call id from activity to fragment. If possible please help me out.</p>\n"},{"tags":["java","jnp"],"answers":[{"tags":[],"owner":{"account_id":1324402,"reputation":3807,"user_id":1269558,"display_name":"diogo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1656960913,"creation_date":1470166941,"answer_id":38729176,"question_id":26843104,"body_markdown":"In short, **JNP** is the official JNDI naming implementation of JBoss AS prior to its version &lt; 7.x, based on the JNP project (refer to [the code repo URL][1]).\r\n\r\nFrom the [new AS7 documentation][2]:\r\n\r\n&gt; Previous versions of JBoss AS (versions &lt; 7.x) used [JNP project][3]\r\n&gt; as the JNDI\r\n&gt; naming implementation. Developers of client applications of previous\r\n&gt; versions of JBoss AS will be familiar with the `jnp:// PROVIDER_URL URL`\r\n&gt; they used to use in their applications for communicating with the JNDI\r\n&gt; server on the JBoss server. \r\n&gt;\r\n&gt; Starting AS7, the JNP project is not used.\r\n&gt; Neither on the server side nor on the client side. The client side of\r\n&gt; the JNP project has now been replaced by [jboss-remote-naming project][4].\r\n&gt;\r\n&gt; There were various\r\n&gt; reasons why the JNP client was replaced by jboss-remote-naming\r\n&gt; project. One of them was the JNP project did not allow fine grained\r\n&gt; security configurations while communicating with the JNDI server. The\r\n&gt; jboss-remote-naming project is backed by the [jboss-remoting project][5]\r\n&gt; which allows much\r\n&gt; more and better control over security.\r\n\r\nIts specification is poor, most of the references we find about it are located at JBoss docs prior to the version 7, like in https://docs.jboss.org/jbossas/jboss4guide/r1/html/ch3.chapter.html\r\n\r\n\r\n  [1]: http://anonsvn.jboss.org/repos/jbossas/projects/naming/trunk/\r\n  [2]: https://docs.jboss.org/author/display/AS71/Remote+EJB+invocations+via+JNDI+-+EJB+client+API+or+remote-naming+project\r\n  [3]: http://anonsvn.jboss.org/repos/jbossas/projects/naming/\r\n  [4]: https://github.com/jbossas/jboss-remote-naming\r\n  [5]: https://github.com/jboss-remoting/jboss-remoting","title":"What is the &quot;JNP&quot; protocol?","body":"<p>In short, <strong>JNP</strong> is the official JNDI naming implementation of JBoss AS prior to its version &lt; 7.x, based on the JNP project (refer to <a href=\"http://anonsvn.jboss.org/repos/jbossas/projects/naming/trunk/\" rel=\"nofollow noreferrer\">the code repo URL</a>).</p>\n<p>From the <a href=\"https://docs.jboss.org/author/display/AS71/Remote+EJB+invocations+via+JNDI+-+EJB+client+API+or+remote-naming+project\" rel=\"nofollow noreferrer\">new AS7 documentation</a>:</p>\n<blockquote>\n<p>Previous versions of JBoss AS (versions &lt; 7.x) used <a href=\"http://anonsvn.jboss.org/repos/jbossas/projects/naming/\" rel=\"nofollow noreferrer\">JNP project</a>\nas the JNDI\nnaming implementation. Developers of client applications of previous\nversions of JBoss AS will be familiar with the <code>jnp:// PROVIDER_URL URL</code>\nthey used to use in their applications for communicating with the JNDI\nserver on the JBoss server.</p>\n<p>Starting AS7, the JNP project is not used.\nNeither on the server side nor on the client side. The client side of\nthe JNP project has now been replaced by <a href=\"https://github.com/jbossas/jboss-remote-naming\" rel=\"nofollow noreferrer\">jboss-remote-naming project</a>.</p>\n<p>There were various\nreasons why the JNP client was replaced by jboss-remote-naming\nproject. One of them was the JNP project did not allow fine grained\nsecurity configurations while communicating with the JNDI server. The\njboss-remote-naming project is backed by the <a href=\"https://github.com/jboss-remoting/jboss-remoting\" rel=\"nofollow noreferrer\">jboss-remoting project</a>\nwhich allows much\nmore and better control over security.</p>\n</blockquote>\n<p>Its specification is poor, most of the references we find about it are located at JBoss docs prior to the version 7, like in <a href=\"https://docs.jboss.org/jbossas/jboss4guide/r1/html/ch3.chapter.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/jbossas/jboss4guide/r1/html/ch3.chapter.html</a></p>\n"}],"owner":{"account_id":81519,"reputation":34798,"user_id":229792,"accept_rate":63,"display_name":"jameshfisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8170,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1656960913,"creation_date":1415619912,"question_id":26843104,"body_markdown":"I see URLs like `jnp://localhost:1099/` mentioned when reading about HornetQ. What is the `jnp` protocol? What does it stand for? Where is the specification?\r\n\r\nAll I could find was [this forum thread, &quot;What is JNP&quot;](https://developer.jboss.org/thread/75457), in which the question does not get answered.","title":"What is the &quot;JNP&quot; protocol?","body":"<p>I see URLs like <code>jnp://localhost:1099/</code> mentioned when reading about HornetQ. What is the <code>jnp</code> protocol? What does it stand for? Where is the specification?</p>\n\n<p>All I could find was <a href=\"https://developer.jboss.org/thread/75457\">this forum thread, \"What is JNP\"</a>, in which the question does not get answered.</p>\n"},{"tags":["java","screen","resolution","monitor"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1656974935,"post_id":72860779,"comment_id":128695442,"body_markdown":"Are you sure you need this?  The most common reasons for wanting the screen bounds are usually cases that are properly handled by other methods.  To center a window, use setLocationRelativeTo(null).  To fill a screen, use Frame.setExtendedState(Frame.MAXIMIZED_BOTH) or GraphicsDevice.setFullScreenWindow.","body":"Are you sure you need this?  The most common reasons for wanting the screen bounds are usually cases that are properly handled by other methods.  To center a window, use setLocationRelativeTo(null).  To fill a screen, use Frame.setExtendedState(Frame.MAXIMIZED_BOTH) or GraphicsDevice.setFullScreenWindow."},{"owner":{"account_id":3376802,"reputation":317,"user_id":2834788,"accept_rate":78,"display_name":"Nico Wawrzyniak"},"score":0,"creation_date":1657033097,"post_id":72860779,"comment_id":128710258,"body_markdown":"First I need to read in an image file, scale it down if it is too big and calculate the size of the frames. Window state is supposed to be non-maximized (the frame fills ~80% of the screen), so for this specific case it now works as intended.","body":"First I need to read in an image file, scale it down if it is too big and calculate the size of the frames. Window state is supposed to be non-maximized (the frame fills ~80% of the screen), so for this specific case it now works as intended."},{"owner":{"account_id":3376802,"reputation":317,"user_id":2834788,"accept_rate":78,"display_name":"Nico Wawrzyniak"},"score":0,"creation_date":1657052217,"post_id":72860779,"comment_id":128716610,"body_markdown":"Centering is done later, when the frame size is already calculated.","body":"Centering is done later, when the frame size is already calculated."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656959492,"creation_date":1656959492,"answer_id":72860795,"question_id":72860779,"body_markdown":"You need to use [GraphicsConfiguration][1]. The documentation shows how to get the screen bounds.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/GraphicsConfiguration.html\r\n","title":"How do I get the dimensions of each individual screen in Java","body":"<p>You need to use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/GraphicsConfiguration.html\" rel=\"nofollow noreferrer\">GraphicsConfiguration</a>. The documentation shows how to get the screen bounds.</p>\n"},{"tags":[],"owner":{"account_id":3376802,"reputation":317,"user_id":2834788,"accept_rate":78,"display_name":"Nico Wawrzyniak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656960870,"creation_date":1656960870,"answer_id":72860975,"question_id":72860779,"body_markdown":"I just found out the same, while Rob Spoor answered, so I&#39;m gonna give a full answer to my question:\r\n\r\n```GraphicsDevice``` has a function ```getDefaultConfiguration()``` which returns a ```GraphicsConfiguration``` which has a ```getBounds()``` method which again returns the values as a ```Rectangle```.\r\n\r\nAn implementation of my function header would therefore be:\r\n```\r\n/**\r\n * Returns the Dimension of all available screen devices in order of appearance in  \r\n * GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()\r\n * \r\n * @return the Dimensions of all available screen devices.\r\n */\r\npublic Dimension[] getScreenResolutions() {\r\n    // step 1: get amount of screens and allocate space\r\n    int deviceAmount = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices().length;\r\n    Dimension[] dimensions = new Dimension[deviceAmount];\r\n    Rectangle[] rectangles = new Rectangle[deviceAmount];\r\n    // step 2: get values as Rectangle[]\r\n    for (int i = 0; i &lt; deviceAmount; i++) { \r\n        rectangles[i] = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[i].getDefaultConfiguration().getBounds();\r\n    }\r\n    // step 3: convert to Dimension[]\r\n    for (int i = 0; i &lt; rectangles.length; i++) {\r\n        dimensions[i] = new Dimension(r.getWidth(), r.getHeight());\r\n    }\r\n    // step 4: return\r\n    return dimensions;\r\n}\r\n```","title":"How do I get the dimensions of each individual screen in Java","body":"<p>I just found out the same, while Rob Spoor answered, so I'm gonna give a full answer to my question:</p>\n<p><code>GraphicsDevice</code> has a function <code>getDefaultConfiguration()</code> which returns a <code>GraphicsConfiguration</code> which has a <code>getBounds()</code> method which again returns the values as a <code>Rectangle</code>.</p>\n<p>An implementation of my function header would therefore be:</p>\n<pre><code>/**\n * Returns the Dimension of all available screen devices in order of appearance in  \n * GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()\n * \n * @return the Dimensions of all available screen devices.\n */\npublic Dimension[] getScreenResolutions() {\n    // step 1: get amount of screens and allocate space\n    int deviceAmount = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices().length;\n    Dimension[] dimensions = new Dimension[deviceAmount];\n    Rectangle[] rectangles = new Rectangle[deviceAmount];\n    // step 2: get values as Rectangle[]\n    for (int i = 0; i &lt; deviceAmount; i++) { \n        rectangles[i] = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[i].getDefaultConfiguration().getBounds();\n    }\n    // step 3: convert to Dimension[]\n    for (int i = 0; i &lt; rectangles.length; i++) {\n        dimensions[i] = new Dimension(r.getWidth(), r.getHeight());\n    }\n    // step 4: return\n    return dimensions;\n}\n</code></pre>\n"}],"owner":{"account_id":3376802,"reputation":317,"user_id":2834788,"accept_rate":78,"display_name":"Nico Wawrzyniak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860975,"answer_count":2,"score":0,"last_activity_date":1656960870,"creation_date":1656959369,"question_id":72860779,"body_markdown":"I need a function that gives me the resolutions of my individual monitors.\r\n\r\nI do know that ```Toolkit.getDefaultToolkit().getScreenSize()``` gives me the cumulative resolution of all monitors, but to limit the size of some frames I draw I want to know the resolutions of the individual screens.\r\n\r\nI tried using ```GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()``` which returns an array of all screens, but I could not find any resolution information in there.\r\n\r\nThe header of the function should be something like\r\n```\r\n/**\r\n * Returns the Dimension of all available screen devices in order of appearance in  \r\n * GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()\r\n * \r\n * @return the Dimensions of all available screen devices.\r\n */\r\npublic Dimension[] getScreenResolutions() {\r\n    [ . . . ]\r\n}\r\n```","title":"How do I get the dimensions of each individual screen in Java","body":"<p>I need a function that gives me the resolutions of my individual monitors.</p>\n<p>I do know that <code>Toolkit.getDefaultToolkit().getScreenSize()</code> gives me the cumulative resolution of all monitors, but to limit the size of some frames I draw I want to know the resolutions of the individual screens.</p>\n<p>I tried using <code>GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()</code> which returns an array of all screens, but I could not find any resolution information in there.</p>\n<p>The header of the function should be something like</p>\n<pre><code>/**\n * Returns the Dimension of all available screen devices in order of appearance in  \n * GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()\n * \n * @return the Dimensions of all available screen devices.\n */\npublic Dimension[] getScreenResolutions() {\n    [ . . . ]\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":5414395,"reputation":1313,"user_id":4309985,"accept_rate":14,"display_name":"Andrew Fan"},"score":0,"creation_date":1544129121,"post_id":53658273,"comment_id":94177105,"body_markdown":"To clarify, you want an empty line between messages, correct?","body":"To clarify, you want an empty line between messages, correct?"},{"owner":{"display_name":"user10756513"},"score":0,"creation_date":1544130979,"post_id":53658273,"comment_id":94177835,"body_markdown":"https://i.imgur.com/50j7Lxa.png I want to have it so that empty line is also below the broadcast message, there is already one on top, and I want to have another one at bottom. Pretty much inbetween the broadcast message.","body":"<a href=\"https://i.imgur.com/50j7Lxa.png\" rel=\"nofollow noreferrer\">i.imgur.com/50j7Lxa.png</a> I want to have it so that empty line is also below the broadcast message, there is already one on top, and I want to have another one at bottom. Pretty much inbetween the broadcast message."},{"owner":{"account_id":5414395,"reputation":1313,"user_id":4309985,"accept_rate":14,"display_name":"Andrew Fan"},"score":0,"creation_date":1544131239,"post_id":53658273,"comment_id":94177933,"body_markdown":"I&#39;m not familiar with Minecraft modding or if messages are automatically padded, but have you tried adding another \\n at the end of your message?","body":"I&#39;m not familiar with Minecraft modding or if messages are automatically padded, but have you tried adding another \\n at the end of your message?"},{"owner":{"display_name":"user10756513"},"score":0,"creation_date":1544131433,"post_id":53658273,"comment_id":94178000,"body_markdown":"I have, and it is the same result as the image shown.","body":"I have, and it is the same result as the image shown."},{"owner":{"account_id":5414395,"reputation":1313,"user_id":4309985,"accept_rate":14,"display_name":"Andrew Fan"},"score":0,"creation_date":1544131540,"post_id":53658273,"comment_id":94178039,"body_markdown":"Hmm. Unfortunately I&#39;m not familiar with the interface you&#39;re using. You might want to ask on a Minecraft-specific forum, since this issue probably depends on how the messaging system in Minecraft works.","body":"Hmm. Unfortunately I&#39;m not familiar with the interface you&#39;re using. You might want to ask on a Minecraft-specific forum, since this issue probably depends on how the messaging system in Minecraft works."},{"owner":{"display_name":"user10756513"},"score":0,"creation_date":1544131708,"post_id":53658273,"comment_id":94178113,"body_markdown":"Yea, by just googling the system, apparently \\n makes an extra line according to https://minecraft.gamepedia.com/Formatting_codes but i&#39;m still unsure as to why that wouldn&#39;t work in the start and end of the message.","body":"Yea, by just googling the system, apparently \\n makes an extra line according to <a href=\"https://minecraft.gamepedia.com/Formatting_codes\" rel=\"nofollow noreferrer\">minecraft.gamepedia.com/Formatting_codes</a> but i&#39;m still unsure as to why that wouldn&#39;t work in the start and end of the message."},{"owner":{"account_id":3593143,"reputation":159,"user_id":2998655,"accept_rate":67,"display_name":"Dom"},"score":0,"creation_date":1544473967,"post_id":53658273,"comment_id":94280937,"body_markdown":"It makes a new line at the top and not the bottom?","body":"It makes a new line at the top and not the bottom?"},{"owner":{"display_name":"user10756513"},"score":0,"creation_date":1547417787,"post_id":53658273,"comment_id":95176407,"body_markdown":"sorry for late reply, but yeah, it only makes one at top, but not at bottom.","body":"sorry for late reply, but yeah, it only makes one at top, but not at bottom."}],"answers":[{"tags":[],"owner":{"account_id":17582022,"reputation":138,"user_id":12755627,"display_name":"micartey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656960803,"creation_date":1656960803,"answer_id":72860967,"question_id":53658273,"body_markdown":"I think the way I used to do this was either having a space at the end or some color-code which won&#39;t be visible since there is no letter following. This means something like this:\r\n\r\n`\\n %player% has been kicked [...] \\n $c$l`\r\n\r\nHowever, you can also just send an empty second message, thus having a new empty line. You could also try some invisible characters, or check if another line break will have the desired outcome (I think I remember that only the last one will be ignored)\r\n\r\nLet me know which solution worked for you!","title":"How can I create it so that it can do 2 new lines and then the main message between the new lines?","body":"<p>I think the way I used to do this was either having a space at the end or some color-code which won't be visible since there is no letter following. This means something like this:</p>\n<p><code>\\n %player% has been kicked [...] \\n $c$l</code></p>\n<p>However, you can also just send an empty second message, thus having a new empty line. You could also try some invisible characters, or check if another line break will have the desired outcome (I think I remember that only the last one will be ignored)</p>\n<p>Let me know which solution worked for you!</p>\n"}],"owner":{"display_name":"user10756513"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656960803,"creation_date":1544124102,"question_id":53658273,"body_markdown":"**`&quot;broadcastMessage&quot;: &quot;\\n\\u2717 \\u00A74%player%\\u00264 was kicked by AntiCheat for cheating.\\n&quot;`**\r\nThis is JSON ( config for a Minecraft anticheat ), but apparently when using the \\n at the start and end only makes one new line, and not two.\r\nI want it so that it makes 2 new lines, then it broadcasts that message in between the new lines.\r\nHopefully, I&#39;m explaining enough.\r\n","title":"How can I create it so that it can do 2 new lines and then the main message between the new lines?","body":"<p><strong><code>\"broadcastMessage\": \"\\n\\u2717 \\u00A74%player%\\u00264 was kicked by AntiCheat for cheating.\\n\"</code></strong>\nThis is JSON ( config for a Minecraft anticheat ), but apparently when using the \\n at the start and end only makes one new line, and not two.\nI want it so that it makes 2 new lines, then it broadcasts that message in between the new lines.\nHopefully, I'm explaining enough.</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"comments":[{"owner":{"account_id":3352154,"reputation":206,"user_id":2815984,"display_name":"Roopesh Payyanath"},"score":0,"creation_date":1656409516,"post_id":72645492,"comment_id":128559345,"body_markdown":"Unless you have environment specific config, I would advise over-riding  log level  `&lt;root level=&quot;${logback.loglevel:-INFO}&quot;&gt;` using system property of each enviroment/runtime as `-Dlogback.loglevel=DEBUG`. Default INFO if system property passed then DEBUG","body":"Unless you have environment specific config, I would advise over-riding  log level  <code>&lt;root level=&quot;${logback.loglevel:-INFO}&quot;&gt;</code> using system property of each enviroment/runtime as <code>-Dlogback.loglevel=DEBUG</code>. Default INFO if system property passed then DEBUG"}],"answers":[{"tags":[],"owner":{"account_id":7707690,"reputation":534,"user_id":5838151,"display_name":"QuickSort"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656244934,"creation_date":1656244934,"answer_id":72761419,"question_id":72645492,"body_markdown":"You can use *springProfiles* for that. An example `logback-spring.xml`:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;springProfile name=&quot;production&quot;&gt;\r\n            &lt;root level=&quot;warn&quot;&gt;\r\n                &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n            &lt;/root&gt;\r\n        &lt;/springProfile&gt;\r\n        &lt;springProfile name=&quot;default,local,develop,qa&quot;&gt;\r\n            &lt;root level=&quot;INFO&quot;&gt;\r\n                &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n            &lt;/root&gt;\r\n        &lt;/springProfile&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThe resources folder:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lj6mD.png\r\n\r\n\r\nWhether you start `spring` in `production` or either (`default, local, develop, qa`) it will use the right log level.\r\n\r\nStarting the application with the arguments `java -jar -Dspring.profiles.active=production` will set the log-level to `warn`.","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>You can use <em>springProfiles</em> for that. An example <code>logback-spring.xml</code>:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;springProfile name=&quot;production&quot;&gt;\n        &lt;root level=&quot;warn&quot;&gt;\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n    &lt;springProfile name=&quot;default,local,develop,qa&quot;&gt;\n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>The resources folder:</p>\n<p><a href=\"https://i.stack.imgur.com/Lj6mD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lj6mD.png\" alt=\"enter image description here\" /></a></p>\n<p>Whether you start <code>spring</code> in <code>production</code> or either (<code>default, local, develop, qa</code>) it will use the right log level.</p>\n<p>Starting the application with the arguments <code>java -jar -Dspring.profiles.active=production</code> will set the log-level to <code>warn</code>.</p>\n"},{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656246811,"creation_date":1656246811,"answer_id":72761646,"question_id":72645492,"body_markdown":"As an alternative you can also externalize the logback log level like this: https://logback.qos.ch/manual/configuration.html#definingPropsOnTheFly\r\n\r\n&gt; You may define properties dynamically using the &lt;define&gt; element. The define element takes two mandatory attributes: name and class. The name attribute designates the name of the property to set whereas the class attribute designates any class implementing the PropertyDefiner interface.\r\n\r\nFor example with a configuration file like this:\r\n```\r\n&lt;configuration&gt;\r\n\r\n  &lt;define name=&quot;rootLevel&quot; class=&quot;a.class.implementing.PropertyDefiner&quot;/&gt;\r\n\r\n  &lt;root level=&quot;${rootLevel}&quot;/&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAnd your `a.class.implementing.PropertyDefiner` could look like this:\r\n```\r\npackage a.class.implementing;\r\n\r\nimport ch.qos.logback.core.PropertyDefinerBase;\r\n\r\npublic class PropertyDefiner extends PropertyDefinerBase {\r\n    @Override\r\n    public String getPropertyValue() {\r\n        // todo: retrieve the property from your application context\r\n        return &quot;WARN&quot;;\r\n    }\r\n}\r\n```\r\nWith this setup you can have any system wide available property at runtime define the loglevel.","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>As an alternative you can also externalize the logback log level like this: <a href=\"https://logback.qos.ch/manual/configuration.html#definingPropsOnTheFly\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/configuration.html#definingPropsOnTheFly</a></p>\n<blockquote>\n<p>You may define properties dynamically using the  element. The define element takes two mandatory attributes: name and class. The name attribute designates the name of the property to set whereas the class attribute designates any class implementing the PropertyDefiner interface.</p>\n</blockquote>\n<p>For example with a configuration file like this:</p>\n<pre><code>&lt;configuration&gt;\n\n  &lt;define name=&quot;rootLevel&quot; class=&quot;a.class.implementing.PropertyDefiner&quot;/&gt;\n\n  &lt;root level=&quot;${rootLevel}&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And your <code>a.class.implementing.PropertyDefiner</code> could look like this:</p>\n<pre><code>package a.class.implementing;\n\nimport ch.qos.logback.core.PropertyDefinerBase;\n\npublic class PropertyDefiner extends PropertyDefinerBase {\n    @Override\n    public String getPropertyValue() {\n        // todo: retrieve the property from your application context\n        return &quot;WARN&quot;;\n    }\n}\n</code></pre>\n<p>With this setup you can have any system wide available property at runtime define the loglevel.</p>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656269101,"creation_date":1656269101,"answer_id":72764292,"question_id":72645492,"body_markdown":"[Unable to use Spring Property Placeholders in logback.xml][1]\r\n\r\n&gt; Good to know about the difference between Spring EL and Logback&#39;s\r\n&gt; variables...I had assumed it was Spring that was in charge of parsing\r\n&gt; those variables for me. I did have the element, but that got me to\r\n&gt; thinking.\r\n&gt; \r\n&gt; My `application.properties` file was outside of the jar, so Logback had\r\n&gt; no idea where to find it. By keeping my Spring-related properties in\r\n&gt; my external `application.properties` file, moving the logging-related\r\n&gt; properties into an `application-internal.properties` file (located\r\n&gt; inside the jar), and pointing Logback to that file (&lt;property\r\n&gt; resource=&quot;application-internal.properties&quot; /&gt;) got everything working\r\n&gt; as expected!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29322709/unable-to-use-spring-property-placeholders-in-logback-xml","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p><a href=\"https://stackoverflow.com/questions/29322709/unable-to-use-spring-property-placeholders-in-logback-xml\">Unable to use Spring Property Placeholders in logback.xml</a></p>\n<blockquote>\n<p>Good to know about the difference between Spring EL and Logback's\nvariables...I had assumed it was Spring that was in charge of parsing\nthose variables for me. I did have the element, but that got me to\nthinking.</p>\n<p>My <code>application.properties</code> file was outside of the jar, so Logback had\nno idea where to find it. By keeping my Spring-related properties in\nmy external <code>application.properties</code> file, moving the logging-related\nproperties into an <code>application-internal.properties</code> file (located\ninside the jar), and pointing Logback to that file () got everything working\nas expected!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656431827,"creation_date":1656431827,"answer_id":72789689,"question_id":72645492,"body_markdown":"It seems that the type of configuration externalization you are trying to achieve is based on the Spring `application.yml` configuration files.\r\n\r\nIf that is the case, [Spring Boot provides](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels) out of the box different configuration properties you can use to define the appropriate logging level, no matter the underlying logging library implementation you are using.\r\n\r\nYou can provide the appropriate configuration in your different `application.properties` or `application.yaml`, something like:\r\n\r\n```yaml\r\nlogging:\r\n  level:\r\n    root: &quot;warn&quot;\r\n    org.springframework.web: &quot;debug&quot;\r\n    org.hibernate: &quot;error&quot;\r\n```\r\n\r\nBe aware that using a custom `logback-spring.xml` file is unnecessary.\r\n\r\nPlease, consider review the aforementioned [documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels) if you need more information.","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>It seems that the type of configuration externalization you are trying to achieve is based on the Spring <code>application.yml</code> configuration files.</p>\n<p>If that is the case, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels\" rel=\"nofollow noreferrer\">Spring Boot provides</a> out of the box different configuration properties you can use to define the appropriate logging level, no matter the underlying logging library implementation you are using.</p>\n<p>You can provide the appropriate configuration in your different <code>application.properties</code> or <code>application.yaml</code>, something like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  level:\n    root: &quot;warn&quot;\n    org.springframework.web: &quot;debug&quot;\n    org.hibernate: &quot;error&quot;\n</code></pre>\n<p>Be aware that using a custom <code>logback-spring.xml</code> file is unnecessary.</p>\n<p>Please, consider review the aforementioned <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels\" rel=\"nofollow noreferrer\">documentation</a> if you need more information.</p>\n"},{"tags":[],"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656695082,"creation_date":1656695082,"answer_id":72832572,"question_id":72645492,"body_markdown":"If what you want is just changing log level, then should follow the approach in jccampanero&#39;s answer. That is provided by Spring boot out of the box to make things simple for developers.\r\n\r\n\r\nHowever, if you want to do more customization on the logging, and you want to  have the flexibility to pass config values from `application.properties` or `application.yml` to your `logback-spring.xml`. It is also very simple.\r\n\r\nFor example in `application.properties` you have this config `my.logging.level=WARN`\r\nIn your `logback-spring.xml` you can simply retrieve it by this\r\n```xml\r\n&lt;springProperty scope=&quot;context&quot; name=&quot;logLevel&quot; source=&quot;my.logging.level&quot; defaultValue=&quot;INFO&quot;/&gt;\r\n```\r\n\r\nAnd now you can use `logLevel` (as defined in the springProperty tag above) in your `logback-spring.xml` file like this:\r\n```xml\r\n&lt;root level=&quot;${loglevel}&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nHope you find this helpful.\r\n\r\n\r\n","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>If what you want is just changing log level, then should follow the approach in jccampanero's answer. That is provided by Spring boot out of the box to make things simple for developers.</p>\n<p>However, if you want to do more customization on the logging, and you want to  have the flexibility to pass config values from <code>application.properties</code> or <code>application.yml</code> to your <code>logback-spring.xml</code>. It is also very simple.</p>\n<p>For example in <code>application.properties</code> you have this config <code>my.logging.level=WARN</code>\nIn your <code>logback-spring.xml</code> you can simply retrieve it by this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;springProperty scope=&quot;context&quot; name=&quot;logLevel&quot; source=&quot;my.logging.level&quot; defaultValue=&quot;INFO&quot;/&gt;\n</code></pre>\n<p>And now you can use <code>logLevel</code> (as defined in the springProperty tag above) in your <code>logback-spring.xml</code> file like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root level=&quot;${loglevel}&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Hope you find this helpful.</p>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1592,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72789689,"answer_count":5,"score":4,"last_activity_date":1656960526,"creation_date":1655380819,"question_id":72645492,"body_markdown":"I would like to externalize the log level in `logback-spring.xml` as below,\r\n\r\n \r\n```xml\r\n&lt;root level=&quot;${logback.loglevel}&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nIn my `application.yml` file I have:\r\n\r\n```yaml\r\nlogback:\r\n    loglevel: WARN\r\n```\r\n\r\nBut this value is not picked from Logback XML and runs with `DEBUG` level instead. If I hard coded the value there as `WARN` only it runs as `WARN` level.\r\n\r\n","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>I would like to externalize the log level in <code>logback-spring.xml</code> as below,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root level=&quot;${logback.loglevel}&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n<p>In my <code>application.yml</code> file I have:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logback:\n    loglevel: WARN\n</code></pre>\n<p>But this value is not picked from Logback XML and runs with <code>DEBUG</code> level instead. If I hard coded the value there as <code>WARN</code> only it runs as <code>WARN</code> level.</p>\n"},{"tags":["java","intellij-idea","crash-reports","java-runtime-compiler"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1657002081,"post_id":72860874,"comment_id":128699280,"body_markdown":"The problem could be related to https://youtrack.jetbrains.com/issue/JBR-4351 . Please update the IDE to the latest version from https://www.jetbrains.com/idea/download .","body":"The problem could be related to <a href=\"https://youtrack.jetbrains.com/issue/JBR-4351\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/JBR-4351</a> . Please update the IDE to the latest version from <a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a> ."}],"owner":{"account_id":11344664,"reputation":11,"user_id":8317493,"display_name":"ravi_reddy_07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":969,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656960045,"creation_date":1656960045,"question_id":72860874,"body_markdown":"I&#39;m getting this error and my editor is getting closed automatically. \r\n\r\n```\r\nA fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007ff81779403f, pid=94133, tid=259\r\n#\r\n# JRE version: OpenJDK Runtime Environment JBR-11.0.14.1.1-2043.25-jcef (11.0.14.1+1) (build 11.0.14.1+1-b2043.25)\r\n# Java VM: OpenJDK 64-Bit Server VM JBR-11.0.14.1.1-2043.25-jcef (11.0.14.1+1-b2043.25, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\r\n# Problematic frame:\r\n# C  [libobjc.A.dylib+0xd03f]  objc_release+0x1f\r\n#\r\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n```\r\n\r\nI&#39;m running this command ```ulimit -c unlimited```, but every time I open the editor, I need to run this command which sucks. Is there any permanent solution for this?\r\n\r\n*Here is the complete error - [gist][1]*\r\n\r\n\r\n  [1]: https://gist.github.com/ravireddy07/ad81c4da4c586e03370e422d80642dd5","title":"A fatal error has been detected by the Java Runtime Environment: # # SIGSEGV (0xb) at pc=0x00007ff81779403f, pid=94133, tid=259","body":"<p>I'm getting this error and my editor is getting closed automatically.</p>\n<pre><code>A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007ff81779403f, pid=94133, tid=259\n#\n# JRE version: OpenJDK Runtime Environment JBR-11.0.14.1.1-2043.25-jcef (11.0.14.1+1) (build 11.0.14.1+1-b2043.25)\n# Java VM: OpenJDK 64-Bit Server VM JBR-11.0.14.1.1-2043.25-jcef (11.0.14.1+1-b2043.25, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\n# Problematic frame:\n# C  [libobjc.A.dylib+0xd03f]  objc_release+0x1f\n#\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n</code></pre>\n<p>I'm running this command <code>ulimit -c unlimited</code>, but every time I open the editor, I need to run this command which sucks. Is there any permanent solution for this?</p>\n<p><em>Here is the complete error - <a href=\"https://gist.github.com/ravireddy07/ad81c4da4c586e03370e422d80642dd5\" rel=\"nofollow noreferrer\">gist</a></em></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-activity"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657099662,"post_id":72796215,"comment_id":128726797,"body_markdown":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>."}],"answers":[{"tags":[],"owner":{"account_id":25582727,"reputation":123,"user_id":19360970,"display_name":"Bob Hogg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656959514,"creation_date":1656955493,"answer_id":72860215,"question_id":72796215,"body_markdown":"The reason `c` is seemingly always 0 is that it is being added to the list outside of the asynchronous task.\r\n\r\nTo fix this, you can move the call to `man.add()` into the `onSuccess` listener:\r\n\r\n```\r\ndb.collection(&quot;individuals&quot;).whereEqualTo(&quot;m&quot;,obj.getUid()).whereEqualTo(&quot;ctrApproved2&quot;,&quot;&quot;).whereEqualTo(&quot;ctrApproved&quot;,&quot;&quot;).get()\r\n    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n    @Override\r\n    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n        c=queryDocumentSnapshots.size();\r\n        Log.d(&quot;Lenght&quot;,String.valueOf(c));\r\n        man.add(obj.getUid()+&quot; (&quot;+c+&quot;)&quot;);\r\n    }\r\n});\r\n```\r\n\r\nI do not see any problems with your use of `whereEqualTo()` here. When calls to `whereEqualTo()` are chained together the way you did here, they **do** use a logical AND when combining the filters. (Source: https://firebase.google.com/docs/firestore/query-data/queries#compound_queries)\r\n\r\nCould you perhaps check, and give us an example of, which document(s) you expect to be included and which you expect to be excluded?","title":"How to use Logical AND in cloud firestore for ANDROID?","body":"<p>The reason <code>c</code> is seemingly always 0 is that it is being added to the list outside of the asynchronous task.</p>\n<p>To fix this, you can move the call to <code>man.add()</code> into the <code>onSuccess</code> listener:</p>\n<pre><code>db.collection(&quot;individuals&quot;).whereEqualTo(&quot;m&quot;,obj.getUid()).whereEqualTo(&quot;ctrApproved2&quot;,&quot;&quot;).whereEqualTo(&quot;ctrApproved&quot;,&quot;&quot;).get()\n    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n        c=queryDocumentSnapshots.size();\n        Log.d(&quot;Lenght&quot;,String.valueOf(c));\n        man.add(obj.getUid()+&quot; (&quot;+c+&quot;)&quot;);\n    }\n});\n</code></pre>\n<p>I do not see any problems with your use of <code>whereEqualTo()</code> here. When calls to <code>whereEqualTo()</code> are chained together the way you did here, they <strong>do</strong> use a logical AND when combining the filters. (Source: <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#compound_queries\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/query-data/queries#compound_queries</a>)</p>\n<p>Could you perhaps check, and give us an example of, which document(s) you expect to be included and which you expect to be excluded?</p>\n"}],"owner":{"account_id":25326498,"reputation":1,"user_id":19147062,"display_name":"Vikas Konaparthi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657099634,"answer_count":1,"score":0,"last_activity_date":1656959514,"creation_date":1656480700,"question_id":72796215,"body_markdown":"Hi I would like to use logical AND in the firebase firestore query and add the particular count to the array object. I would like to get the count according to my logical and condition but the query which I wrote was giving me the whole count for m=obj.getUid().More over the value &quot;c&quot; is not getting added to the arraylist instead 0 is getting added up there. In the end I would like to use logical and, get the count assign to the &quot;c&quot; that c need to be added up to an arraylist.\r\n\r\n                                c=0;\r\n                                obj.setUid(d.getId().toString());\r\n                                db.collection(&quot;individuals&quot;).whereEqualTo(&quot;m&quot;,obj.getUid()).whereEqualTo(&quot;ctrApproved2&quot;,&quot;&quot;).whereEqualTo(&quot;ctrApproved&quot;,&quot;&quot;).get()\r\n                                        .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                                            @Override\r\n                                            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                                                    c=queryDocumentSnapshots.size();\r\n                                                    Log.d(&quot;Lenght&quot;,String.valueOf(c));\r\n    \r\n                                            }\r\n                                        });\r\n    \r\n                                man.add(obj.getUid()+&quot; (&quot;+c+&quot;)&quot;);","title":"How to use Logical AND in cloud firestore for ANDROID?","body":"<p>Hi I would like to use logical AND in the firebase firestore query and add the particular count to the array object. I would like to get the count according to my logical and condition but the query which I wrote was giving me the whole count for m=obj.getUid().More over the value &quot;c&quot; is not getting added to the arraylist instead 0 is getting added up there. In the end I would like to use logical and, get the count assign to the &quot;c&quot; that c need to be added up to an arraylist.</p>\n<pre><code>                            c=0;\n                            obj.setUid(d.getId().toString());\n                            db.collection(&quot;individuals&quot;).whereEqualTo(&quot;m&quot;,obj.getUid()).whereEqualTo(&quot;ctrApproved2&quot;,&quot;&quot;).whereEqualTo(&quot;ctrApproved&quot;,&quot;&quot;).get()\n                                    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                                        @Override\n                                        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                                                c=queryDocumentSnapshots.size();\n                                                Log.d(&quot;Lenght&quot;,String.valueOf(c));\n\n                                        }\n                                    });\n\n                            man.add(obj.getUid()+&quot; (&quot;+c+&quot;)&quot;);\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2318297,"reputation":1653,"user_id":9231518,"display_name":"User9123"},"score":0,"creation_date":1650384492,"post_id":71927684,"comment_id":127100070,"body_markdown":"Check this: https://stackoverflow.com/questions/19654557/how-to-set-specific-java-version-to-maven#:~:text=Maven%20uses%20the%20JAVA_HOME%20parameter,(non%2Dwindows)%2F%20mvn.","body":"Check this: <a href=\"https://stackoverflow.com/questions/19654557/how-to-set-specific-java-version-to-maven#:~:text=Maven%20uses%20the%20JAVA_HOME%20parameter,(non%2Dwindows)%2F%20mvn\" title=\"how to set specific java version to maven%23%3a%7e%3atext%3dMaven%2520uses%2520the%2520JAVA_HOME%2520parameter%2c(non%252Dwindows)%252F%2520mvn\">stackoverflow.com/questions/19654557/&hellip;</a>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1650384494,"post_id":71927684,"comment_id":127100071,"body_markdown":"Java is backwardly compatible: Jars built using older versions will run in newer JREs. 1) Build in Java 8. 2) Upgrade all runtime envs. 3) Upgrade build server. 4) Upgrade developer env.","body":"Java is backwardly compatible: Jars built using older versions will run in newer JREs. 1) Build in Java 8. 2) Upgrade all runtime envs. 3) Upgrade build server. 4) Upgrade developer env."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650385066,"post_id":71927684,"comment_id":127100294,"body_markdown":"Build with JDK11 and use `--release 8` that will work... using `&lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;` and make maven-enforcer rule to require at minimum to build with JDK11....","body":"Build with JDK11 and use <code>--release 8</code> that will work... using <code>&lt;maven.compiler.release&gt;8&lt;&#47;maven.compiler.release&gt;</code> and make maven-enforcer rule to require at minimum to build with JDK11...."},{"owner":{"account_id":890118,"reputation":335,"user_id":928563,"accept_rate":90,"display_name":"Sushil"},"score":0,"creation_date":1650413263,"post_id":71927684,"comment_id":127108306,"body_markdown":"I think it should work for me -\nhttps://stackoverflow.com/questions/10920142/how-to-configure-maven-to-build-two-versions-of-an-artifact-each-one-for-a-diff","body":"I think it should work for me - <a href=\"https://stackoverflow.com/questions/10920142/how-to-configure-maven-to-build-two-versions-of-an-artifact-each-one-for-a-diff\" title=\"how to configure maven to build two versions of an artifact each one for a diff\">stackoverflow.com/questions/10920142/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650384434,"creation_date":1650384434,"answer_id":71927999,"question_id":71927684,"body_markdown":"You should:\r\n\r\n - Remove from you POM, if present, `maven.compiler.source` and `maven.compiler.target`.\r\n - Set `JAVA_HOME=&lt;&lt;JAVA_8_HOME_FOLDER&gt;&gt;`.\r\n - Build from Java 8 by `mvn clean install`.\r\n - Take the Java 8 artifact. \r\n - Set `JAVA_HOME=&lt;&lt;JAVA_11_HOME_FOLDER&gt;&gt;`.\r\n - Build from Java 11 by `mvn clean install`.\r\n - Take the Java 11 artifact. ","title":"Create Java 8 and Java 11 build for single API","body":"<p>You should:</p>\n<ul>\n<li>Remove from you POM, if present, <code>maven.compiler.source</code> and <code>maven.compiler.target</code>.</li>\n<li>Set <code>JAVA_HOME=&lt;&lt;JAVA_8_HOME_FOLDER&gt;&gt;</code>.</li>\n<li>Build from Java 8 by <code>mvn clean install</code>.</li>\n<li>Take the Java 8 artifact.</li>\n<li>Set <code>JAVA_HOME=&lt;&lt;JAVA_11_HOME_FOLDER&gt;&gt;</code>.</li>\n<li>Build from Java 11 by <code>mvn clean install</code>.</li>\n<li>Take the Java 11 artifact.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650467544,"creation_date":1650405031,"answer_id":71931739,"question_id":71927684,"body_markdown":"**TL;DR**\r\n\r\nYou don&#39;t need that, just build to Java 8 and be happy!\r\n\r\n---\r\n\r\n**Solving**\r\n\r\nYou can use Maven Build Profiles for this:\r\nhttps://maven.apache.org/guides/introduction/introduction-to-profiles.html\r\n\r\n**1.** Set your properties to Java 11:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n  &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n**2.** Set your final name:\r\n```xml\r\n&lt;build&gt;\r\n  &lt;finalName&gt;${project.artifactId}-jdk11-${project.version}&lt;/finalName&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n**3.** Add a profile:\r\n\r\n```xml\r\n&lt;profile&gt;\r\n  &lt;id&gt;jdk-8&lt;/id&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.release&gt;1.8&lt;/maven.compiler.release&gt;\r\n  &lt;/properties&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;${project.artifactId}-jdk8-${project.version}&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\n**4.** Build:\r\n\r\nYou will need to run 2 builds, one normal, and other activating the JDK 8 profile:\r\n\r\n```cmd\r\n$ mvn ...\r\n$ mvn ... -P jdk-8\r\n```\r\n\r\n**Considerations:**\r\n\r\n- Always use JDK 11 as it can confidently build Java 8 targets;\r\n- You don&#39;t need **target** and **source** properties, but if some plugin fails, put it back.\r\n","title":"Create Java 8 and Java 11 build for single API","body":"<p><strong>TL;DR</strong></p>\n<p>You don't need that, just build to Java 8 and be happy!</p>\n<hr />\n<p><strong>Solving</strong></p>\n<p>You can use Maven Build Profiles for this:\n<a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-profiles.html</a></p>\n<p><strong>1.</strong> Set your properties to Java 11:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><strong>2.</strong> Set your final name:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;finalName&gt;${project.artifactId}-jdk11-${project.version}&lt;/finalName&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>3.</strong> Add a profile:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n  &lt;id&gt;jdk-8&lt;/id&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.release&gt;1.8&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}-jdk8-${project.version}&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p><strong>4.</strong> Build:</p>\n<p>You will need to run 2 builds, one normal, and other activating the JDK 8 profile:</p>\n<pre><code>$ mvn ...\n$ mvn ... -P jdk-8\n</code></pre>\n<p><strong>Considerations:</strong></p>\n<ul>\n<li>Always use JDK 11 as it can confidently build Java 8 targets;</li>\n<li>You don't need <strong>target</strong> and <strong>source</strong> properties, but if some plugin fails, put it back.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5261242,"reputation":7685,"user_id":4214921,"display_name":"potame"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656959279,"creation_date":1656959279,"answer_id":72860767,"question_id":71927684,"body_markdown":"I found a way to do that, which lies somewhat in the middle of Java 8 and Java 11. The main problem with the above solution occurs in case you have (or want to define) a `module-info.java` that can&#39;t be parsed in Java 8.\r\n\r\nI started considering a solution with `&lt;classifier&gt;`s, likewise Claudio Weiler above answer but did not wanted to bother having two separate builds (and even two separate branches because I wanted to manage module-info).\r\n\r\nI also noticed that some libraries like the JAXB API or activation API (`jakarta.xml.bind:jakarta.xml.bind-api:2.3.3`) shows a `module-info` when you use it in Java 11, but is compatible with Java 8 &#128558;.\r\n\r\nDigging into how the details of how the build of the `com.sun.activiation:jakarta.activation` library was made, I found the following solution :\r\n\r\n* compile the `module-info.java` with Java 11\r\n* compile the rest of your code (including tests) with Java 8. Of course, this has the drawback of not being able to use fully Java 11 features...\r\n\r\nYou thus need to add the following snippet in the `&lt;build&gt;` section of your pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t    &lt;execution&gt;\r\n\t\t\t&lt;id&gt;default-compile&lt;/id&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t    &lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t    &lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t    &lt;excludes&gt;\r\n\t\t\t\t&lt;exclude&gt;module-info.java&lt;/exclude&gt;\r\n\t\t\t    &lt;/excludes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t    &lt;/execution&gt;\r\n\t\t    &lt;execution&gt;\r\n\t\t\t&lt;id&gt;module-info-compile&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t    &lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t    &lt;release&gt;11&lt;/release&gt;\r\n\t\t\t    &lt;includes&gt;\r\n\t\t\t\t&lt;include&gt;module-info.java&lt;/include&gt;\r\n\t\t\t    &lt;/includes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t    &lt;/execution&gt;\r\n\t\t    &lt;execution&gt;\r\n\t\t\t&lt;id&gt;default-testCompile&lt;/id&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t    &lt;release&gt;11&lt;/release&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t    &lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\r\nI hope that helps.\r\n","title":"Create Java 8 and Java 11 build for single API","body":"<p>I found a way to do that, which lies somewhat in the middle of Java 8 and Java 11. The main problem with the above solution occurs in case you have (or want to define) a <code>module-info.java</code> that can't be parsed in Java 8.</p>\n<p>I started considering a solution with <code>&lt;classifier&gt;</code>s, likewise Claudio Weiler above answer but did not wanted to bother having two separate builds (and even two separate branches because I wanted to manage module-info).</p>\n<p>I also noticed that some libraries like the JAXB API or activation API (<code>jakarta.xml.bind:jakarta.xml.bind-api:2.3.3</code>) shows a <code>module-info</code> when you use it in Java 11, but is compatible with Java 8 😮.</p>\n<p>Digging into how the details of how the build of the <code>com.sun.activiation:jakarta.activation</code> library was made, I found the following solution :</p>\n<ul>\n<li>compile the <code>module-info.java</code> with Java 11</li>\n<li>compile the rest of your code (including tests) with Java 8. Of course, this has the drawback of not being able to use fully Java 11 features...</li>\n</ul>\n<p>You thus need to add the following snippet in the <code>&lt;build&gt;</code> section of your pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;id&gt;default-compile&lt;/id&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;excludes&gt;\n            &lt;exclude&gt;module-info.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n        &lt;id&gt;module-info-compile&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;compile&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;release&gt;11&lt;/release&gt;\n            &lt;includes&gt;\n            &lt;include&gt;module-info.java&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n        &lt;id&gt;default-testCompile&lt;/id&gt;\n        &lt;configuration&gt;\n            &lt;release&gt;11&lt;/release&gt;\n        &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I hope that helps.</p>\n"}],"owner":{"account_id":890118,"reputation":335,"user_id":928563,"accept_rate":90,"display_name":"Sushil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1768,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1656959279,"creation_date":1650382944,"question_id":71927684,"body_markdown":"We are working to upgrade our API from Java 8 to Java 11. \r\n\r\nHowever we need to support Java 8 and Java 11 both at same time because all clients are not ready to move on Java 11. \r\n\r\nIs it possible if we can create maven build with Java 8 and Java 11 without duplicate our repository and without any change in pom.xml each time before create build for Java 8 and Java 11?\r\n\r\nGenerated artifact should have different name to distinguish Java 8 and Java 11 versions something like xyz-jdk8-0.0.1.jar and xyz-jdk11-.0.1.jar","title":"Create Java 8 and Java 11 build for single API","body":"<p>We are working to upgrade our API from Java 8 to Java 11.</p>\n<p>However we need to support Java 8 and Java 11 both at same time because all clients are not ready to move on Java 11.</p>\n<p>Is it possible if we can create maven build with Java 8 and Java 11 without duplicate our repository and without any change in pom.xml each time before create build for Java 8 and Java 11?</p>\n<p>Generated artifact should have different name to distinguish Java 8 and Java 11 versions something like xyz-jdk8-0.0.1.jar and xyz-jdk11-.0.1.jar</p>\n"},{"tags":["java","lambda","signature","method-reference","functional-interface"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":8,"creation_date":1656933845,"post_id":72855888,"comment_id":128684153,"body_markdown":"The first one explicitly says &quot;I&#39;ll happily accept an Event but I&#39;m going to ignore it&quot; (e is inferred to the type Event). The second one doesn&#39;t. Java could support your case and ditch the input argument automatically but there would probably be just as many, if not more, cases where that behaviour would mask a genuine mistake/bug. If you want to ignore an input, it is better to be explicit about that intention.","body":"The first one explicitly says &quot;I&#39;ll happily accept an Event but I&#39;m going to ignore it&quot; (e is inferred to the type Event). The second one doesn&#39;t. Java could support your case and ditch the input argument automatically but there would probably be just as many, if not more, cases where that behaviour would mask a genuine mistake/bug. If you want to ignore an input, it is better to be explicit about that intention."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":5,"creation_date":1656934092,"post_id":72855888,"comment_id":128684225,"body_markdown":"`track::play` is _like_ a shortcut to `e -&gt; track.play(e)`, it is clearly not the same as `e -&gt; track.play()`.","body":"<code>track::play</code> is <i>like</i> a shortcut to <code>e -&gt; track.play(e)</code>, it is clearly not the same as <code>e -&gt; track.play()</code>."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":0,"creation_date":1656934269,"post_id":72855888,"comment_id":128684280,"body_markdown":"You should study functional interfaces to better understand these syntaxes. Both lambdas and method references are treated like functional interfaces implementations by the compiler.","body":"You should study functional interfaces to better understand these syntaxes. Both lambdas and method references are treated like functional interfaces implementations by the compiler."},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":1,"creation_date":1656938295,"post_id":72855888,"comment_id":128685559,"body_markdown":"Does this answer your question? [:: (double colon) operator in Java 8](https://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8\">:: (double colon) operator in Java 8</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656957574,"creation_date":1656939475,"answer_id":72857157,"question_id":72855888,"body_markdown":"Here is a quote from the [*Java language specification*](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.1):\r\n\r\n&gt; A method reference expression (&#167;15.13) is potentially compatible with\r\n&gt; a functional interface type `T` if, where the arity of the function type\r\n&gt; of `T` is `n`, there exists at least one potentially applicable method\r\n&gt; when the method reference expression targets the function type with\r\n&gt; arity `n` (&#167;15.13.1), and one of the following is true:\r\n&gt; \r\n&gt;    * The method reference expression has the form `ReferenceType :: [TypeArguments] Identifier` and at least one potentially applicable\r\n&gt; method is either (`i`) static and supports arity `n`, or (`ii`) not static\r\n&gt; and supports arity `n-1`.\r\n&gt; \r\n&gt;    * The method reference expression has some other form and at least one potentially applicable method is not static.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The definition of potential applicability goes beyond a **basic arity**\r\n&gt; check to also take into account the **presence** and **&quot;shape&quot;** of *functional\r\n&gt; interface target types*.\r\n\r\nEvery *method reference* should conform to a *function interface* (which is an interface that declares a single `abstract` method, non-overriding methods from `Object` class). The compiler needs to verify whether the provided reference resolves to a single existing method that has required arity (number of parameters) and their types match the types of the method declared by the target *functional interface*.\r\n\r\nLet&#39;s have a look at the prior Java 8 code ([*code-sample from JavaFX tutorial by created Oracle*](https://docs.oracle.com/javafx/2/ui_controls/button.htm)):\r\n```\r\nbutton2.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    @Override public void handle(ActionEvent e) {\r\n        label.setText(&quot;Accepted&quot;);\r\n    }\r\n});\r\n```\r\n\r\nThat is the &quot;shape&quot; that needs to be filled with a code describing an action. Method `handle()` of the `EventHandler` interface expects an `event` as an argument. Whether it would be used or not, that&#39;s up to you, the key point is that the `abstract` method of the *target interface* expects this argument to be **provided**.\r\n\r\nBy using a lambda expression `e -&gt; track.play()` you&#39;re explicitly telling to ignore it.\r\n\r\nAnd when you&#39;re passing a method reference `track::play`, which should be classified as a *reference to an instance method of a particular object* ([*see*](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)), the compiler will try to resolve it to a method `play(Event)` and you&#39;re getting a compilation error because it fails to find one.\r\n\r\nIn this case, reference `track::play` is not an equivalent of lambda `e -&gt; track.play()`, but `() -&gt; track.play()`, which doesn&#39;t conform to the target functional interface `EventHandler`.\r\n\r\nIn case if you wonder, how a method reference which can be applicable to a non-static method of arity `n-1` mentioned in the specification (*see case* `ii`) can look like, here is an example:\r\n\r\n```\r\nBiPredicate&lt;String, String&gt; startsWith = String::startsWith; // the same as (str1, str2) -&gt; str1.strarsWith(str2);\r\n\r\nSystem.out.println(startsWith.test(&quot;abc&quot;, &quot;a&quot;));    // =&gt; true\r\nSystem.out.println(startsWith.test(&quot;fooBar&quot;, &quot;a&quot;)); // =&gt; false\r\n```\r\n\r\nAnd you can construct a similar reference which conforms to `EventHandler` interface and applicable an instance method of arity `n-1` using one of the parameterless methods of the `Event` type. It&#39;s not likely to be useful in practice, but it would be valid from the compiler perspective of view, so feel free to try it as an exercise.","title":"Method reference notation vs &quot;standard&quot; Lambda notation","body":"<p>Here is a quote from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.1\" rel=\"nofollow noreferrer\"><em>Java language specification</em></a>:</p>\n<blockquote>\n<p>A method reference expression (§15.13) is potentially compatible with\na functional interface type <code>T</code> if, where the arity of the function type\nof <code>T</code> is <code>n</code>, there exists at least one potentially applicable method\nwhen the method reference expression targets the function type with\narity <code>n</code> (§15.13.1), and one of the following is true:</p>\n<ul>\n<li><p>The method reference expression has the form <code>ReferenceType :: [TypeArguments] Identifier</code> and at least one potentially applicable\nmethod is either (<code>i</code>) static and supports arity <code>n</code>, or (<code>ii</code>) not static\nand supports arity <code>n-1</code>.</p>\n</li>\n<li><p>The method reference expression has some other form and at least one potentially applicable method is not static.</p>\n</li>\n</ul>\n<p>...</p>\n<p>The definition of potential applicability goes beyond a <strong>basic arity</strong>\ncheck to also take into account the <strong>presence</strong> and <strong>&quot;shape&quot;</strong> of <em>functional\ninterface target types</em>.</p>\n</blockquote>\n<p>Every <em>method reference</em> should conform to a <em>function interface</em> (which is an interface that declares a single <code>abstract</code> method, non-overriding methods from <code>Object</code> class). The compiler needs to verify whether the provided reference resolves to a single existing method that has required arity (number of parameters) and their types match the types of the method declared by the target <em>functional interface</em>.</p>\n<p>Let's have a look at the prior Java 8 code (<a href=\"https://docs.oracle.com/javafx/2/ui_controls/button.htm\" rel=\"nofollow noreferrer\"><em>code-sample from JavaFX tutorial by created Oracle</em></a>):</p>\n<pre><code>button2.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n    @Override public void handle(ActionEvent e) {\n        label.setText(&quot;Accepted&quot;);\n    }\n});\n</code></pre>\n<p>That is the &quot;shape&quot; that needs to be filled with a code describing an action. Method <code>handle()</code> of the <code>EventHandler</code> interface expects an <code>event</code> as an argument. Whether it would be used or not, that's up to you, the key point is that the <code>abstract</code> method of the <em>target interface</em> expects this argument to be <strong>provided</strong>.</p>\n<p>By using a lambda expression <code>e -&gt; track.play()</code> you're explicitly telling to ignore it.</p>\n<p>And when you're passing a method reference <code>track::play</code>, which should be classified as a <em>reference to an instance method of a particular object</em> (<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\"><em>see</em></a>), the compiler will try to resolve it to a method <code>play(Event)</code> and you're getting a compilation error because it fails to find one.</p>\n<p>In this case, reference <code>track::play</code> is not an equivalent of lambda <code>e -&gt; track.play()</code>, but <code>() -&gt; track.play()</code>, which doesn't conform to the target functional interface <code>EventHandler</code>.</p>\n<p>In case if you wonder, how a method reference which can be applicable to a non-static method of arity <code>n-1</code> mentioned in the specification (<em>see case</em> <code>ii</code>) can look like, here is an example:</p>\n<pre><code>BiPredicate&lt;String, String&gt; startsWith = String::startsWith; // the same as (str1, str2) -&gt; str1.strarsWith(str2);\n\nSystem.out.println(startsWith.test(&quot;abc&quot;, &quot;a&quot;));    // =&gt; true\nSystem.out.println(startsWith.test(&quot;fooBar&quot;, &quot;a&quot;)); // =&gt; false\n</code></pre>\n<p>And you can construct a similar reference which conforms to <code>EventHandler</code> interface and applicable an instance method of arity <code>n-1</code> using one of the parameterless methods of the <code>Event</code> type. It's not likely to be useful in practice, but it would be valid from the compiler perspective of view, so feel free to try it as an exercise.</p>\n"}],"owner":{"account_id":22353974,"reputation":121,"user_id":19478919,"display_name":"scripta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72857157,"answer_count":1,"score":1,"last_activity_date":1656957574,"creation_date":1656933661,"question_id":72855888,"body_markdown":"I was expecting these to be simple drop-in replacements for each other, but they&#39;re not. Clearly I&#39;m not understanding the notation. \r\n\r\nCan anyone explain why does that happen?\r\n \r\n```\r\nplayButton.setOnAction(e -&gt; track.play());\r\n```\r\n\r\nHere, compiler is happy with `play()` having a signature of\r\n\r\n```\r\nvoid play()\r\n```\r\n\r\nbut here\r\n\r\n```\r\nplayButton.setOnAction(track::play);\r\n```\r\n\r\nit requires\r\n\r\n```\r\nvoid play(Event e)\r\n```","title":"Method reference notation vs &quot;standard&quot; Lambda notation","body":"<p>I was expecting these to be simple drop-in replacements for each other, but they're not. Clearly I'm not understanding the notation.</p>\n<p>Can anyone explain why does that happen?</p>\n<pre><code>playButton.setOnAction(e -&gt; track.play());\n</code></pre>\n<p>Here, compiler is happy with <code>play()</code> having a signature of</p>\n<pre><code>void play()\n</code></pre>\n<p>but here</p>\n<pre><code>playButton.setOnAction(track::play);\n</code></pre>\n<p>it requires</p>\n<pre><code>void play(Event e)\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark","blas"],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656956755,"creation_date":1656956755,"answer_id":72860390,"question_id":72847202,"body_markdown":"It seems this is really just a badly described error message.  I had different sized vectors being compared.  Once I corrected that issue this error message stopped happening.","title":"Pyspark &amp; conda : &#39;DGEMV&#39; parameter number 6 had an illegal value","body":"<p>It seems this is really just a badly described error message.  I had different sized vectors being compared.  Once I corrected that issue this error message stopped happening.</p>\n"}],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656956755,"creation_date":1656857761,"question_id":72847202,"body_markdown":"On spark 3.2:(via conda install)\r\n\r\nJust upgraded and now I&#39;m getting:`java.lang.IllegalArgumentException: ** On entry to &#39;DGEMV&#39; parameter number 6 had an illegal value`\r\n\r\n```\r\nDriver stacktrace:\r\n        at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2403)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2352)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2351)\r\n        at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n        at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n        at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2351)        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1109)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1109)\r\n        at scala.Option.foreach(Option.scala:407)\r\n        at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1109)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2591)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2533)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2522)\r\n        at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\nCaused by: org.apache.spark.SparkException: Failed to execute user defined function (LSHModel$$Lambda$3787/1853968316: (struct&lt;type:tinyint,size:int,indices:array&lt;int&gt;,values:array&lt;double&gt;&gt;) =&gt; array&lt;struct&lt;type:tinyint,size:int,indices:array&lt;int&gt;,values:array&lt;double&gt;&gt;&gt;)\r\n        at org.apache.spark.sql.errors.QueryExecutionErrors$.failedExecuteUserDefinedFunctionError(QueryExecutionErrors.scala:136)\r\n        at org.apache.spark.sql.errors.QueryExecutionErrors.failedExecuteUserDefinedFunctionError(QueryExecutionErrors.scala)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:140)\r\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.lang.IllegalArgumentException: ** On entry to &#39;DGEMV&#39; parameter number 6 had an illegal value\r\n        at dev.ludovic.netlib.blas.AbstractBLAS.checkArgument(AbstractBLAS.java:46)\r\n        at dev.ludovic.netlib.blas.AbstractBLAS.dgemv(AbstractBLAS.java:345)\r\n        at dev.ludovic.netlib.blas.Java8BLAS.dgemv(Java8BLAS.java:30)\r\n        at dev.ludovic.netlib.blas.AbstractBLAS.dgemv(AbstractBLAS.java:336)\r\n        at dev.ludovic.netlib.blas.Java8BLAS.dgemv(Java8BLAS.java:30)\r\n        at org.apache.spark.ml.linalg.BLAS$.gemvImpl(BLAS.scala:631)\r\n        at org.apache.spark.ml.linalg.BLAS$.gemv(BLAS.scala:614)\r\n        at org.apache.spark.ml.linalg.BLAS$.gemv(BLAS.scala:594)\r\n        at org.apache.spark.ml.feature.BucketedRandomProjectionLSHModel.hashFunction(BucketedRandomProjectionLSH.scala:87)\r\n        at org.apache.spark.ml.feature.LSHModel.$anonfun$transform$1(LSH.scala:99)\r\n        ... 15 more\r\n```\r\nFrom commandline Java:\r\n```\r\njava -version\r\nopenjdk version &quot;1.8.0_332&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_332-b09)\r\nOpenJDK 64-Bit Server VM (build 25.332-b09, mixed mode)\r\n```\r\n\r\nMy research points to a java mismatch issue, but my java version seems to match. I did not enable native BLAS. Any suggestions welcome.\r\n\r\nTried: setting java home\r\n`export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.332.b09-1.el7_9.x86_64/jre/`\r\nNo change.\r\n \r\nBuried warning:\r\n```\r\nWARN InstanceBuilder$NativeBLAS: Failed to load implementation from:dev.ludovic.netlib.blas.JNIBLAS\r\n22/07/03 14:00:07 WARN InstanceBuilder$NativeBLAS: Failed to load implementation from:dev.ludovic.netlib.blas.ForeignLinkerBLAS\r\n```\r\nFollowed [these directions to use blas with spark][1].  (Using native library.)\r\n\r\n  [1]: https://gist.github.com/dusenberrymw/d24fcefcd245cfacbc60d3b4caccc560","title":"Pyspark &amp; conda : &#39;DGEMV&#39; parameter number 6 had an illegal value","body":"<p>On spark 3.2:(via conda install)</p>\n<p>Just upgraded and now I'm getting:<code>java.lang.IllegalArgumentException: ** On entry to 'DGEMV' parameter number 6 had an illegal value</code></p>\n<pre><code>Driver stacktrace:\n        at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2403)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2352)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2351)\n        at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n        at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n        at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2351)        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1109)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1109)\n        at scala.Option.foreach(Option.scala:407)\n        at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1109)\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2591)\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2533)\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2522)\n        at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\nCaused by: org.apache.spark.SparkException: Failed to execute user defined function (LSHModel$$Lambda$3787/1853968316: (struct&lt;type:tinyint,size:int,indices:array&lt;int&gt;,values:array&lt;double&gt;&gt;) =&gt; array&lt;struct&lt;type:tinyint,size:int,indices:array&lt;int&gt;,values:array&lt;double&gt;&gt;&gt;)\n        at org.apache.spark.sql.errors.QueryExecutionErrors$.failedExecuteUserDefinedFunctionError(QueryExecutionErrors.scala:136)\n        at org.apache.spark.sql.errors.QueryExecutionErrors.failedExecuteUserDefinedFunctionError(QueryExecutionErrors.scala)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:140)\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n        at org.apache.spark.scheduler.Task.run(Task.scala:131)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.IllegalArgumentException: ** On entry to 'DGEMV' parameter number 6 had an illegal value\n        at dev.ludovic.netlib.blas.AbstractBLAS.checkArgument(AbstractBLAS.java:46)\n        at dev.ludovic.netlib.blas.AbstractBLAS.dgemv(AbstractBLAS.java:345)\n        at dev.ludovic.netlib.blas.Java8BLAS.dgemv(Java8BLAS.java:30)\n        at dev.ludovic.netlib.blas.AbstractBLAS.dgemv(AbstractBLAS.java:336)\n        at dev.ludovic.netlib.blas.Java8BLAS.dgemv(Java8BLAS.java:30)\n        at org.apache.spark.ml.linalg.BLAS$.gemvImpl(BLAS.scala:631)\n        at org.apache.spark.ml.linalg.BLAS$.gemv(BLAS.scala:614)\n        at org.apache.spark.ml.linalg.BLAS$.gemv(BLAS.scala:594)\n        at org.apache.spark.ml.feature.BucketedRandomProjectionLSHModel.hashFunction(BucketedRandomProjectionLSH.scala:87)\n        at org.apache.spark.ml.feature.LSHModel.$anonfun$transform$1(LSH.scala:99)\n        ... 15 more\n</code></pre>\n<p>From commandline Java:</p>\n<pre><code>java -version\nopenjdk version &quot;1.8.0_332&quot;\nOpenJDK Runtime Environment (build 1.8.0_332-b09)\nOpenJDK 64-Bit Server VM (build 25.332-b09, mixed mode)\n</code></pre>\n<p>My research points to a java mismatch issue, but my java version seems to match. I did not enable native BLAS. Any suggestions welcome.</p>\n<p>Tried: setting java home\n<code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.332.b09-1.el7_9.x86_64/jre/</code>\nNo change.</p>\n<p>Buried warning:</p>\n<pre><code>WARN InstanceBuilder$NativeBLAS: Failed to load implementation from:dev.ludovic.netlib.blas.JNIBLAS\n22/07/03 14:00:07 WARN InstanceBuilder$NativeBLAS: Failed to load implementation from:dev.ludovic.netlib.blas.ForeignLinkerBLAS\n</code></pre>\n<p>Followed <a href=\"https://gist.github.com/dusenberrymw/d24fcefcd245cfacbc60d3b4caccc560\" rel=\"nofollow noreferrer\">these directions to use blas with spark</a>.  (Using native library.)</p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656956728,"creation_date":1656956310,"answer_id":72860328,"question_id":72859517,"body_markdown":"You can use `@JsonAlias` like this:\r\n```java\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Item {\r\n\r\n  @JsonAlias(&quot;someItemId&quot;)\r\n  private UUID itemId;\r\n}\r\n```","title":"How do I teach Jackson to source the same field from two disjunctive JSON objects?","body":"<p>You can use <code>@JsonAlias</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Item {\n\n  @JsonAlias(&quot;someItemId&quot;)\n  private UUID itemId;\n}\n</code></pre>\n"}],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860328,"answer_count":1,"score":0,"last_activity_date":1656956728,"creation_date":1656951048,"question_id":72859517,"body_markdown":"I have the case where I have some existing data which is present in multiple forms, but needs to be read into the same class.\r\n\r\nFor example, given the class:\r\n\r\n```java\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Item {\r\n\r\n  private UUID itemId;\r\n}\r\n```\r\n\r\nI might have some JSON that is well-formed and is parseable out-of-the-box (e.g. `List&lt;Item&gt;`):\r\n\r\n```json\r\n{\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;itemId&quot;: &quot;&lt;uuid&gt;&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nbut also some which is not: \r\n```json\r\n{\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;someItemId&quot;: &quot;&lt;uuid&gt;&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI do not have source JSON which contains both of these fields at the same time.\r\n\r\nI tried to do this using a custom deserialization handler as described in [this](https://stackoverflow.com/questions/18313323/how-do-i-call-the-default-deserializer-from-a-custom-deserializer-in-jackson) question, but my use case is a bit different since I will be essentially doing something like:\r\n\r\n```java\r\ntry {\r\n  Item item = defaultDeserializer.deserialize(...);\r\n} catch (UnrecognizedPropertyException e) {\r\n  // try to rebuild object manually by traversing the tree\r\n}\r\n```\r\n\r\nwhich would be rather difficult to get right since I can&#39;t let Jackson do the heavy lifting anymore. Are there alternative ways? Is there perhaps an annotation-based approach that would allow something like &quot;source this field from either one of these JSON fields, but not both&quot;?","title":"How do I teach Jackson to source the same field from two disjunctive JSON objects?","body":"<p>I have the case where I have some existing data which is present in multiple forms, but needs to be read into the same class.</p>\n<p>For example, given the class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Item {\n\n  private UUID itemId;\n}\n</code></pre>\n<p>I might have some JSON that is well-formed and is parseable out-of-the-box (e.g. <code>List&lt;Item&gt;</code>):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;items&quot;: [\n    {\n      &quot;itemId&quot;: &quot;&lt;uuid&gt;&quot;\n    }\n  ]\n}\n</code></pre>\n<p>but also some which is not:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;items&quot;: [\n    {\n      &quot;someItemId&quot;: &quot;&lt;uuid&gt;&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I do not have source JSON which contains both of these fields at the same time.</p>\n<p>I tried to do this using a custom deserialization handler as described in <a href=\"https://stackoverflow.com/questions/18313323/how-do-i-call-the-default-deserializer-from-a-custom-deserializer-in-jackson\">this</a> question, but my use case is a bit different since I will be essentially doing something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  Item item = defaultDeserializer.deserialize(...);\n} catch (UnrecognizedPropertyException e) {\n  // try to rebuild object manually by traversing the tree\n}\n</code></pre>\n<p>which would be rather difficult to get right since I can't let Jackson do the heavy lifting anymore. Are there alternative ways? Is there perhaps an annotation-based approach that would allow something like &quot;source this field from either one of these JSON fields, but not both&quot;?</p>\n"},{"tags":["java","spring-boot","jsessionid"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656793527,"creation_date":1656793527,"answer_id":72842212,"question_id":72842156,"body_markdown":"Spring Framework provides the [@CookieValue][1] annotation to read any cookie by specifying the name.\r\n\r\nSo you can use this annotation with `required` property set to `false`. \r\nIf you use don&#39;t set `required` property default value will be `true`,and  an exception will be thrown if the cookie is missing in the request. \r\n\r\nAlternatively, provide a `defaultValue()`, which implicitly sets this flag to false.\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;Account&gt; login( @CookieValue(name = &quot;JSESSIONID&quot;, required=false) String cookie,@RequestParam(name =&quot;username&quot;) String name, @RequestParam(name =&quot;password&quot;) String password) {\r\n            if(name == &quot;user&quot; || password == &quot;password&quot;)\r\n            {\r\n                System.out.println(&quot;Matched!&quot;);\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n        }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/CookieValue.html\r\n","title":"How to add JSESSIONID as optional cookie as parameter using post in Java Spring Boot","body":"<p>Spring Framework provides the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/CookieValue.html\" rel=\"nofollow noreferrer\">@CookieValue</a> annotation to read any cookie by specifying the name.</p>\n<p>So you can use this annotation with <code>required</code> property set to <code>false</code>.\nIf you use don't set <code>required</code> property default value will be <code>true</code>,and  an exception will be thrown if the cookie is missing in the request.</p>\n<p>Alternatively, provide a <code>defaultValue()</code>, which implicitly sets this flag to false.</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    @ResponseBody\n    public ResponseEntity&lt;Account&gt; login( @CookieValue(name = &quot;JSESSIONID&quot;, required=false) String cookie,@RequestParam(name =&quot;username&quot;) String name, @RequestParam(name =&quot;password&quot;) String password) {\n        if(name == &quot;user&quot; || password == &quot;password&quot;)\n        {\n            System.out.println(&quot;Matched!&quot;);\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n    }\n</code></pre>\n"}],"owner":{"account_id":23076992,"reputation":91,"user_id":17189808,"display_name":"ftslaptop pc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":805,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656956585,"creation_date":1656792882,"question_id":72842156,"body_markdown":"How to add JSESSIONID as optional cookie when posting username and password for login in controller?\r\n\r\n*LoginController:*\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n@ResponseBody\r\npublic ResponseEntity&lt;Account&gt; login(@RequestParam(name =&quot;username&quot;) String name, @RequestParam(name =&quot;password&quot;) String password) {\r\n    if(name == &quot;user&quot; || password == &quot;password&quot;)\r\n    {\r\n        System.out.println(&quot;Matched!&quot;);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n    return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n}\r\n```","title":"How to add JSESSIONID as optional cookie as parameter using post in Java Spring Boot","body":"<p>How to add JSESSIONID as optional cookie when posting username and password for login in controller?</p>\n<p><em>LoginController:</em></p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n@ResponseBody\npublic ResponseEntity&lt;Account&gt; login(@RequestParam(name =&quot;username&quot;) String name, @RequestParam(name =&quot;password&quot;) String password) {\n    if(name == &quot;user&quot; || password == &quot;password&quot;)\n    {\n        System.out.println(&quot;Matched!&quot;);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n    return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1656335293,"post_id":72771657,"comment_id":128539402,"body_markdown":"Can you post the body of your `techRep.save` method as well?  Does that method return a fully refreshed instance of the Technology object?","body":"Can you post the body of your <code>techRep.save</code> method as well?  Does that method return a fully refreshed instance of the Technology object?"},{"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"score":0,"creation_date":1656336321,"post_id":72771657,"comment_id":128539856,"body_markdown":"I updated the info in the question, since formatting in the comments was awful","body":"I updated the info in the question, since formatting in the comments was awful"}],"answers":[{"tags":[],"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656956570,"creation_date":1656956570,"answer_id":72860372,"question_id":72771657,"body_markdown":"For who ever reads this:\r\nI did solve the issue by not solving it:\r\n\r\nInstead of using the &quot;mappedBy&quot; of the bi-directional relationship, I changed the relationship to be two one-directional manyToMany relations. \r\n\r\nI then changed the Services to update the corresponding items to contain the link.","title":"Java SpringBoot: CRUD method returns value before called Service finishes","body":"<p>For who ever reads this:\nI did solve the issue by not solving it:</p>\n<p>Instead of using the &quot;mappedBy&quot; of the bi-directional relationship, I changed the relationship to be two one-directional manyToMany relations.</p>\n<p>I then changed the Services to update the corresponding items to contain the link.</p>\n"}],"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860372,"answer_count":1,"score":0,"last_activity_date":1656956570,"creation_date":1656330844,"question_id":72771657,"body_markdown":"I have several Items that are linked together in ManyToMany relations like this:\r\n\r\nIn Technologies:\r\n\r\n        @ManyToMany(mappedBy = &quot;internalTechnologies&quot;)\r\n    private List&lt;Project&gt; internalProjects = new ArrayList&lt;&gt;();\r\n\r\nIn Projects\r\n\r\n    @ManyToMany(cascade = {CascadeType.MERGE})\r\n    @JoinTable(\r\n            name = &quot;project_technology&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;technology_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    )\r\n    private List&lt;Technology&gt; internalTechnologies = new ArrayList&lt;&gt;();\r\n\r\nWhen editing the technology to add or remove the links between the technology and projects, I use helper classes that use the @Service notion and are @Autowired into the controller.\r\n\r\nFor removing the links:\r\n\r\n        public void removeTechnologyFromProjects(Technology technologyToRemove, List&lt;Project&gt; projects){\r\n        List&lt;Project&gt; projectsToEdit = new ArrayList&lt;&gt;(projects);\r\n        for ( Project project: projectsToEdit) {\r\n            List&lt;Technology&gt; internalTechnologies = project.getInternalTechnologies();\r\n            internalTechnologies.remove(technologyToRemove);\r\n            project.setInternalTechnologies(internalTechnologies);\r\n            projectRepository.save(project);\r\n        }\r\n    }\r\n\r\nNote: I create a new ArrayList to avoid ConcurrentModificationException.\r\n \r\nFor adding Links:\r\n\r\n  \r\n    public void linkTechnologyToProjects(Technology technologyToAdd, List&lt;Long&gt; ids) throws ResponseStatusException {\r\n        for (Long id : ids) {\r\n            Optional&lt;Project&gt; project = projectRepository.findById(id);\r\n            if (project.isPresent()) {\r\n                Project projectToEdit = project.get();\r\n                List&lt;Technology&gt; technologyList = projectToEdit.getInternalTechnologies();\r\n\r\n                technologyList.add(technologyToAdd);\r\n                projectToEdit.setInternalTechnologies(technologyList);\r\n                projectRepository.save(projectToEdit);\r\n            } else {\r\n                throw new ResponseStatusException(HttpStatus.NOT_FOUND,\r\n                        String.format(PROJECT_NOT_FOUND, id));\r\n            }\r\n        }\r\n    }\r\n\r\nIn the Technology controller the following commands are executed:\r\n\r\n     @PutMapping(&quot;/tech/{id}&quot;)\r\n    public TechReturnDTO updateTech(@PathVariable(&quot;id&quot;) long id, @Valid @RequestBody TechCreationDTO requestBody) {\r\n        Technology techToUpdate = techRep.findById(id);\r\n        (other fields edited)\r\n            if (requestBody.getInternalProjects()!=null){\r\n                linkRemover.removeTechnologyFromProjects(techToUpdate, techToUpdate.getInternalProjects());\r\n                itemLinker.linkTechnologyToProjects(techToUpdate, requestBody.getInternalProjects());\r\n            }else{\r\n                linkRemover.removeTechnologyFromProjects(techToUpdate, techToUpdate.getInternalProjects());\r\n            }\r\n\r\n            (other lists edited)\r\n\r\n\r\n            Technology savedTech = techRep.save(techToUpdate);\r\n            return new TechReturnDTO(savedTech);\r\n        }\r\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND,\r\n                String.format(&quot;Technology with Id %s not found!&quot;, id));\r\n    }\r\n\r\nFor some reason, the method return the TechReturnDTO before the itemLinker does its job:\r\n\r\n - The ReturnDTO does not contain the changes in the linked items\r\n - Sending a GET request afterwards does return the changes.\r\n\r\nHow do I &#39;force&#39; the method to wait until the service has finished?\r\n\r\nEdit: Additional details as requested:\r\n\r\nThe technologyRepository simply is an extension of the CrudRepository Class:\r\n\r\n`public interface TechnologyRepository extends CrudRepository&lt;Technology, Long&gt; {\r\n    Technology findById(long id);\r\n}`\r\n\r\nIt does return a fully Updated Object normally. When editing a Project the changes are immediately shown. Only when editing the tech to update the relation the error occurs.","title":"Java SpringBoot: CRUD method returns value before called Service finishes","body":"<p>I have several Items that are linked together in ManyToMany relations like this:</p>\n<p>In Technologies:</p>\n<pre><code>    @ManyToMany(mappedBy = &quot;internalTechnologies&quot;)\nprivate List&lt;Project&gt; internalProjects = new ArrayList&lt;&gt;();\n</code></pre>\n<p>In Projects</p>\n<pre><code>@ManyToMany(cascade = {CascadeType.MERGE})\n@JoinTable(\n        name = &quot;project_technology&quot;,\n        joinColumns = @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;technology_id&quot;, referencedColumnName = &quot;id&quot;)\n)\nprivate List&lt;Technology&gt; internalTechnologies = new ArrayList&lt;&gt;();\n</code></pre>\n<p>When editing the technology to add or remove the links between the technology and projects, I use helper classes that use the @Service notion and are @Autowired into the controller.</p>\n<p>For removing the links:</p>\n<pre><code>    public void removeTechnologyFromProjects(Technology technologyToRemove, List&lt;Project&gt; projects){\n    List&lt;Project&gt; projectsToEdit = new ArrayList&lt;&gt;(projects);\n    for ( Project project: projectsToEdit) {\n        List&lt;Technology&gt; internalTechnologies = project.getInternalTechnologies();\n        internalTechnologies.remove(technologyToRemove);\n        project.setInternalTechnologies(internalTechnologies);\n        projectRepository.save(project);\n    }\n}\n</code></pre>\n<p>Note: I create a new ArrayList to avoid ConcurrentModificationException.</p>\n<p>For adding Links:</p>\n<pre><code>public void linkTechnologyToProjects(Technology technologyToAdd, List&lt;Long&gt; ids) throws ResponseStatusException {\n    for (Long id : ids) {\n        Optional&lt;Project&gt; project = projectRepository.findById(id);\n        if (project.isPresent()) {\n            Project projectToEdit = project.get();\n            List&lt;Technology&gt; technologyList = projectToEdit.getInternalTechnologies();\n\n            technologyList.add(technologyToAdd);\n            projectToEdit.setInternalTechnologies(technologyList);\n            projectRepository.save(projectToEdit);\n        } else {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND,\n                    String.format(PROJECT_NOT_FOUND, id));\n        }\n    }\n}\n</code></pre>\n<p>In the Technology controller the following commands are executed:</p>\n<pre><code> @PutMapping(&quot;/tech/{id}&quot;)\npublic TechReturnDTO updateTech(@PathVariable(&quot;id&quot;) long id, @Valid @RequestBody TechCreationDTO requestBody) {\n    Technology techToUpdate = techRep.findById(id);\n    (other fields edited)\n        if (requestBody.getInternalProjects()!=null){\n            linkRemover.removeTechnologyFromProjects(techToUpdate, techToUpdate.getInternalProjects());\n            itemLinker.linkTechnologyToProjects(techToUpdate, requestBody.getInternalProjects());\n        }else{\n            linkRemover.removeTechnologyFromProjects(techToUpdate, techToUpdate.getInternalProjects());\n        }\n\n        (other lists edited)\n\n\n        Technology savedTech = techRep.save(techToUpdate);\n        return new TechReturnDTO(savedTech);\n    }\n    throw new ResponseStatusException(HttpStatus.NOT_FOUND,\n            String.format(&quot;Technology with Id %s not found!&quot;, id));\n}\n</code></pre>\n<p>For some reason, the method return the TechReturnDTO before the itemLinker does its job:</p>\n<ul>\n<li>The ReturnDTO does not contain the changes in the linked items</li>\n<li>Sending a GET request afterwards does return the changes.</li>\n</ul>\n<p>How do I 'force' the method to wait until the service has finished?</p>\n<p>Edit: Additional details as requested:</p>\n<p>The technologyRepository simply is an extension of the CrudRepository Class:</p>\n<p><code>public interface TechnologyRepository extends CrudRepository&lt;Technology, Long&gt; { Technology findById(long id); }</code></p>\n<p>It does return a fully Updated Object normally. When editing a Project the changes are immediately shown. Only when editing the tech to update the relation the error occurs.</p>\n"},{"tags":["java","spring-boot","whatsapp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656957721,"post_id":72860075,"comment_id":128691775,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":3729317,"reputation":1797,"user_id":3102234,"display_name":"Horațiu Udrea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656956509,"creation_date":1656956509,"answer_id":72860364,"question_id":72860075,"body_markdown":"Yes, Java Spring can handle HTTP requests and hence webhooks.  \r\nYou might want to start with a [tutorial][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/rest-service/","title":"Webhook endpoint listener with java","body":"<p>Yes, Java Spring can handle HTTP requests and hence webhooks.<br />\nYou might want to start with a <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n"}],"owner":{"account_id":24027917,"reputation":3,"user_id":18009292,"display_name":"Cypix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860364,"answer_count":1,"score":0,"last_activity_date":1656956509,"creation_date":1656954511,"question_id":72860075,"body_markdown":"I want to get the webhook from whatsapp businnes api with the messages directly in java. \r\nIs there a way without Node.js ? \r\nCould maybe java spring work ?","title":"Webhook endpoint listener with java","body":"<p>I want to get the webhook from whatsapp businnes api with the messages directly in java.\nIs there a way without Node.js ?\nCould maybe java spring work ?</p>\n"},{"tags":["java","spring","unit-testing","spring-mvc","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":20225179,"reputation":1,"user_id":14833310,"display_name":"NoelKhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656956432,"creation_date":1656956432,"answer_id":72860346,"question_id":72859309,"body_markdown":"In the Test, i named the mockFile &quot;company","title":"Why doesn&#39;t Spring find the file?","body":"<p>In the Test, i named the mockFile &quot;company</p>\n"}],"owner":{"account_id":20225179,"reputation":1,"user_id":14833310,"display_name":"NoelKhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656956432,"creation_date":1656949794,"question_id":72859309,"body_markdown":"I am trying to unit test my fileUpload, after manually testing it with postman, and it working fine. [Postman Request][1]\r\n\r\n    @Test\r\n    public void uploadCompany() throws Exception {\r\n\r\n        File companyFile = new File(baseDir + &quot;company.json&quot;);\r\n\r\n        MockMultipartFile file = new MockMultipartFile(&quot;company&quot;, &quot;company.json&quot;, String.valueOf(MediaType.MULTIPART_FORM_DATA), Files.readAllBytes(companyFile.toPath()));\r\n        MvcResult result = mockMvc.perform(multipart(&quot;/fileUpload/&quot;).file(file))\r\n                .andReturn();\r\n\r\n    }\r\n\r\nAnd the method called:\r\n\r\n       private  Object createObject(MultipartFile file){\r\n        JSONObject jsonObject = createJsonObjectFromFile(file);\r\n        Object returnObject;\r\n\r\n        Type type = getType(jsonObject);\r\n\r\n        returnObject  = switch (type) {\r\n            case NOTSET -&gt; null;\r\n            case TREND -&gt; createTrend(jsonObject);\r\n            case COMPANY -&gt; createCompany(jsonObject);\r\n            case TECHNOLOGY -&gt; createTechnology(jsonObject);\r\n            case PROJECT -&gt; createProject(jsonObject);\r\n        };\r\n\r\n        return returnObject;\r\n    }\r\n\r\nWhen executed this is shown in the console:\r\n\r\n&gt; 2022-07-04 17:44:08.078 DEBUG 88988 --- [    Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to de.fraunhofer.DigiTales2Go.file.FileController#fileUpload(MultipartFile)\r\n2022-07-04 17:44:08.090 DEBUG 88988 --- [    Test worker] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; de.fraunhofer.DigiTales2Go.file.FileController.fileUpload(org.springframework.web.multipart.MultipartFile): Required request part &#39;File&#39; is not present\r\n2022-07-04 17:44:08.092  WARN 88988 --- [    Test worker] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part &#39;File&#39; is not present]\r\n\r\nThe multipartFile can&#39;t be resolved, why?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJTWD.png","title":"Why doesn&#39;t Spring find the file?","body":"<p>I am trying to unit test my fileUpload, after manually testing it with postman, and it working fine. <a href=\"https://i.stack.imgur.com/sJTWD.png\" rel=\"nofollow noreferrer\">Postman Request</a></p>\n<pre><code>@Test\npublic void uploadCompany() throws Exception {\n\n    File companyFile = new File(baseDir + &quot;company.json&quot;);\n\n    MockMultipartFile file = new MockMultipartFile(&quot;company&quot;, &quot;company.json&quot;, String.valueOf(MediaType.MULTIPART_FORM_DATA), Files.readAllBytes(companyFile.toPath()));\n    MvcResult result = mockMvc.perform(multipart(&quot;/fileUpload/&quot;).file(file))\n            .andReturn();\n\n}\n</code></pre>\n<p>And the method called:</p>\n<pre><code>   private  Object createObject(MultipartFile file){\n    JSONObject jsonObject = createJsonObjectFromFile(file);\n    Object returnObject;\n\n    Type type = getType(jsonObject);\n\n    returnObject  = switch (type) {\n        case NOTSET -&gt; null;\n        case TREND -&gt; createTrend(jsonObject);\n        case COMPANY -&gt; createCompany(jsonObject);\n        case TECHNOLOGY -&gt; createTechnology(jsonObject);\n        case PROJECT -&gt; createProject(jsonObject);\n    };\n\n    return returnObject;\n}\n</code></pre>\n<p>When executed this is shown in the console:</p>\n<blockquote>\n<p>2022-07-04 17:44:08.078 DEBUG 88988 --- [    Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to de.fraunhofer.DigiTales2Go.file.FileController#fileUpload(MultipartFile)\n2022-07-04 17:44:08.090 DEBUG 88988 --- [    Test worker] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; de.fraunhofer.DigiTales2Go.file.FileController.fileUpload(org.springframework.web.multipart.MultipartFile): Required request part 'File' is not present\n2022-07-04 17:44:08.092  WARN 88988 --- [    Test worker] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'File' is not present]</p>\n</blockquote>\n<p>The multipartFile can't be resolved, why?</p>\n"},{"tags":["java","spring","spring-boot","rest","endpoint"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1656751165,"post_id":72837652,"comment_id":128651941,"body_markdown":"If all the data is contained in one class, for example `final Reservation reservation`, it&#39;s better to only pass that class as parameter (your solution #2). This way the method can never accept invalid states (unless `reservation` in itself is already invalid). The case that implements multiple parameters to define additional info is rather unlikely, because all configuration should be done inside the `Reservation`.","body":"If all the data is contained in one class, for example <code>final Reservation reservation</code>, it&#39;s better to only pass that class as parameter (your solution #2). This way the method can never accept invalid states (unless <code>reservation</code> in itself is already invalid). The case that implements multiple parameters to define additional info is rather unlikely, because all configuration should be done inside the <code>Reservation</code>."},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1656752246,"post_id":72837652,"comment_id":128652133,"body_markdown":"option two, but I would create a ReservationRequest and a ReservationResponse. Request  would have all the necessary information to do a reservation (room, dates, number of guests ...) and response would be a lighter object informing the operation status (reserved successfully or not) along with some unique reservation id. It is just a suggestion, it really depends on your use case.","body":"option two, but I would create a ReservationRequest and a ReservationResponse. Request  would have all the necessary information to do a reservation (room, dates, number of guests ...) and response would be a lighter object informing the operation status (reserved successfully or not) along with some unique reservation id. It is just a suggestion, it really depends on your use case."}],"answers":[{"tags":[],"owner":{"account_id":12890665,"reputation":19,"user_id":9322776,"display_name":"Amritesh Khare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656753940,"creation_date":1656753940,"answer_id":72837947,"question_id":72837652,"body_markdown":"The suggestions in the comments are for sure helpful. I would suggest to go with calling the calling the service class for the implementation. You can autowire the service class inside the controller class and then implement the functionality. Additionally, I can suggest that you can use ResponseEntity object for sending the response.","title":"What is the good practice for writing REST endpoints?","body":"<p>The suggestions in the comments are for sure helpful. I would suggest to go with calling the calling the service class for the implementation. You can autowire the service class inside the controller class and then implement the functionality. Additionally, I can suggest that you can use ResponseEntity object for sending the response.</p>\n"},{"tags":[],"owner":{"account_id":7406122,"reputation":21,"user_id":5635004,"display_name":"Patrickoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656756123,"creation_date":1656756123,"answer_id":72838184,"question_id":72837652,"body_markdown":"I think it depends on the structure of the database after all, although following pure REST rules, I would choose option 1, why? because if I want to review the booking list for a room later, I use the same endpoint as I used to create a booking for that room.\r\n\r\nIn addition, we do not know what is in the ReservationApi - do we also provide the hotel id and room id there, or only the information that is needed to create a reservation?\r\n\r\nI agree with the previous comments that it&#39;s worth creating a ReservationResponse\r\n\r\nif I had to create such an api, I would choose option 1","title":"What is the good practice for writing REST endpoints?","body":"<p>I think it depends on the structure of the database after all, although following pure REST rules, I would choose option 1, why? because if I want to review the booking list for a room later, I use the same endpoint as I used to create a booking for that room.</p>\n<p>In addition, we do not know what is in the ReservationApi - do we also provide the hotel id and room id there, or only the information that is needed to create a reservation?</p>\n<p>I agree with the previous comments that it's worth creating a ReservationResponse</p>\n<p>if I had to create such an api, I would choose option 1</p>\n"}],"owner":{"account_id":22609560,"reputation":41,"user_id":16789960,"display_name":"Олександр Житарюк"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656956273,"creation_date":1656750820,"question_id":72837652,"body_markdown":"I want to add a REST endpoint that will add reservations for some rooms in a hotel. What is the better way to do it? I have 2 solutions:\r\n```\r\n@RequestMapping(&quot;api/v1/hotels/hotelId/rooms/roomId/reservations&quot;)\r\nsome Class Endpoint\r\n\r\n    @PostMapping\r\n    public ReservationApi save(final @RequestBody ReservationApi reservationApi,\r\n                               final @PathVariable(&quot;hotelId&quot;) String hotelId,\r\n                               final @PathVariable(&quot;roomId&quot;) String roomId) {\r\n        final Reservation reservation = reservationMapper.toDomain(reservationApi);\r\n        return reservationMapper.toApi(reservationService.save(reservation, hotelId, roomId));\r\n    }\r\n\r\n```\r\nAnd build `Reservation` on the service side:\r\n\r\n\r\nOr I have an alternative solution where we do not use paths, only an API class is used for creating:\r\n```\r\n@RequestMapping(&quot;api/v1/reservations&quot;)\r\n\r\n    @PostMapping\r\n    public ReservationApi save(final @RequestBody ReservationApi reservationApi) {\r\n        final Reservation reservation = reservationMapper.toDomain(reservationApi);\r\n        return reservationMapper.toApi(reservationService.save(reservation));\r\n    }\r\n```","title":"What is the good practice for writing REST endpoints?","body":"<p>I want to add a REST endpoint that will add reservations for some rooms in a hotel. What is the better way to do it? I have 2 solutions:</p>\n<pre><code>@RequestMapping(&quot;api/v1/hotels/hotelId/rooms/roomId/reservations&quot;)\nsome Class Endpoint\n\n    @PostMapping\n    public ReservationApi save(final @RequestBody ReservationApi reservationApi,\n                               final @PathVariable(&quot;hotelId&quot;) String hotelId,\n                               final @PathVariable(&quot;roomId&quot;) String roomId) {\n        final Reservation reservation = reservationMapper.toDomain(reservationApi);\n        return reservationMapper.toApi(reservationService.save(reservation, hotelId, roomId));\n    }\n\n</code></pre>\n<p>And build <code>Reservation</code> on the service side:</p>\n<p>Or I have an alternative solution where we do not use paths, only an API class is used for creating:</p>\n<pre><code>@RequestMapping(&quot;api/v1/reservations&quot;)\n\n    @PostMapping\n    public ReservationApi save(final @RequestBody ReservationApi reservationApi) {\n        final Reservation reservation = reservationMapper.toDomain(reservationApi);\n        return reservationMapper.toApi(reservationService.save(reservation));\n    }\n</code></pre>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":922885,"reputation":2206,"user_id":954224,"accept_rate":90,"display_name":"Rawr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566589364,"creation_date":1566589364,"answer_id":57632171,"question_id":57631938,"body_markdown":"Good question. I&#39;d suggest passing the `totalPercent` Label to the new class so that you can modify it. As an example,\r\n\r\n    public class FirstClass {\r\n        Label totalPercent;\r\n        SecondClass secondClass = new SecondClass();\r\n    \r\n        public void start(Stage primaryStage) throws Exception {\r\n          totalPercent = new Label(Methods.getTotalPercent());\r\n          totalPercent.setTextFill(Color.web(&quot;#4ecf17&quot;));\r\n          secondClass.setTotalPercent(totalPercent);\r\n        }\r\n    }\r\n    \r\n    public class SecondClass {\r\n        Label totalPercent;\r\n    \r\n        //next code is in a different class\r\n        public void setPercentColor() {\r\n            if(percent &lt;  50){\r\n                totalPercent.setTextFill(Color.web(&quot;#ff0000&quot;));\r\n            }else if(percent &gt;=  50 &amp;&amp; percent &lt;  60){\r\n                totalPercent.setTextFill(Color.web(&quot;#ff7700&quot;));\r\n            }else if (percent &gt;=  60 &amp;&amp; percent &lt;  100){\r\n                totalPercent.setTextFill(Color.web(&quot;#59ff00&quot;));\r\n            }else{\r\n                totalPercent.setTextFill(Color.web(&quot;#000000&quot;));\r\n            }\r\n        }\r\n    \r\n        public void setTotalPercent(Label totalPercent) {\r\n            this.totalPercent = totalPercent;\r\n        }\r\n    }\r\n\r\nLastly, as just an opinion of my own. I&#39;d suggest naming your variables a little more descriptively. As an example, you name your Label variable `totalPercent`, but I&#39;d suggest `totalPercentLabel`. I&#39;d also suggest `setPercentColor()` to be something like `setTotalPercentLabelColor()`. It&#39;s a little more descriptive and when I look at that method alone it&#39;s immediately clear what&#39;s going on. The method is descriptive, and I know what you&#39;re doing to `totalPercentLabel`. Right now I&#39;m not sure what `setPercentColor()` is doing and I&#39;m not sure what object the `totalPercent` is representing unless I look at the other parts of your code.","title":"How do you edit the color of a label in main class from a different class?","body":"<p>Good question. I'd suggest passing the <code>totalPercent</code> Label to the new class so that you can modify it. As an example,</p>\n\n<pre><code>public class FirstClass {\n    Label totalPercent;\n    SecondClass secondClass = new SecondClass();\n\n    public void start(Stage primaryStage) throws Exception {\n      totalPercent = new Label(Methods.getTotalPercent());\n      totalPercent.setTextFill(Color.web(\"#4ecf17\"));\n      secondClass.setTotalPercent(totalPercent);\n    }\n}\n\npublic class SecondClass {\n    Label totalPercent;\n\n    //next code is in a different class\n    public void setPercentColor() {\n        if(percent &lt;  50){\n            totalPercent.setTextFill(Color.web(\"#ff0000\"));\n        }else if(percent &gt;=  50 &amp;&amp; percent &lt;  60){\n            totalPercent.setTextFill(Color.web(\"#ff7700\"));\n        }else if (percent &gt;=  60 &amp;&amp; percent &lt;  100){\n            totalPercent.setTextFill(Color.web(\"#59ff00\"));\n        }else{\n            totalPercent.setTextFill(Color.web(\"#000000\"));\n        }\n    }\n\n    public void setTotalPercent(Label totalPercent) {\n        this.totalPercent = totalPercent;\n    }\n}\n</code></pre>\n\n<p>Lastly, as just an opinion of my own. I'd suggest naming your variables a little more descriptively. As an example, you name your Label variable <code>totalPercent</code>, but I'd suggest <code>totalPercentLabel</code>. I'd also suggest <code>setPercentColor()</code> to be something like <code>setTotalPercentLabelColor()</code>. It's a little more descriptive and when I look at that method alone it's immediately clear what's going on. The method is descriptive, and I know what you're doing to <code>totalPercentLabel</code>. Right now I'm not sure what <code>setPercentColor()</code> is doing and I'm not sure what object the <code>totalPercent</code> is representing unless I look at the other parts of your code.</p>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566595802,"creation_date":1566595802,"answer_id":57633219,"question_id":57631938,"body_markdown":"The design of your classes is not done well considering the `setPercentColor` method: It controls the details of the representation of some view managed by another class.\n\nI recommend redesigning `Methods` to provide a property and letting the other class decide on what to do with this value.\n\nIn this case you could add a `ReadOnlyIntegerProperty percent` instead of using a field. This way the other class can use bindings/listeners to update the view and the only thing `Methods` needs to worry about is updating the property.\n\n### In `Methods`\n\n    // private int percent;\n    private final ReadOnlyIntegerWrapper percent = new ReadOnlyIntegerWrapper();\n    \n    public ReadOnlyIntegerProperty percentProperty() {\n        return percent.getReadOnlyProperty();\n    }\n\n    public int getPercent() {\n        return percent.get();\n    }\n    \n    ...\n    // percent = i\n    percent.set(i); // replace assinment to int field with setting the property\n\n### Other class\n\n    public void start(Stage primaryStage)throws Exception{\n        totalPercent = new Label();\n\n        totalPercent.textProperty().bind(Methods.percentProperty().asString());\n\n        final Color color560 = Color.web(&quot;#ff7700&quot;);\n        final Color color100 = Color.web(&quot;#59ff00&quot;);\n        totalPercent.textFillProperty().bind(Bindings.createObjectBinding(() -&gt; {\n                  int percent = Methods.getPercent();\n                  if(percent &lt;  50) {\n                      return Color.RED;\n                  } else if(percent &lt; 60) {\n                      return color60;\n                  }else if (percent &lt; 100){\n                      return color100;\n                  } else {\n                      return Color.BLACK;\n                  }\n              }, Methods.percentProperty()));\n    }\n\nBTW: I recommend choosing a more meaningful name for the `Methods` class: Most classes contain method implementations, so the name contains basically no valuable info to someone reading the code. ","title":"How do you edit the color of a label in main class from a different class?","body":"<p>The design of your classes is not done well considering the <code>setPercentColor</code> method: It controls the details of the representation of some view managed by another class.</p>\n<p>I recommend redesigning <code>Methods</code> to provide a property and letting the other class decide on what to do with this value.</p>\n<p>In this case you could add a <code>ReadOnlyIntegerProperty percent</code> instead of using a field. This way the other class can use bindings/listeners to update the view and the only thing <code>Methods</code> needs to worry about is updating the property.</p>\n<h3>In <code>Methods</code></h3>\n<pre><code>// private int percent;\nprivate final ReadOnlyIntegerWrapper percent = new ReadOnlyIntegerWrapper();\n\npublic ReadOnlyIntegerProperty percentProperty() {\n    return percent.getReadOnlyProperty();\n}\n\npublic int getPercent() {\n    return percent.get();\n}\n\n...\n// percent = i\npercent.set(i); // replace assinment to int field with setting the property\n</code></pre>\n<h3>Other class</h3>\n<pre><code>public void start(Stage primaryStage)throws Exception{\n    totalPercent = new Label();\n\n    totalPercent.textProperty().bind(Methods.percentProperty().asString());\n\n    final Color color560 = Color.web(&quot;#ff7700&quot;);\n    final Color color100 = Color.web(&quot;#59ff00&quot;);\n    totalPercent.textFillProperty().bind(Bindings.createObjectBinding(() -&gt; {\n              int percent = Methods.getPercent();\n              if(percent &lt;  50) {\n                  return Color.RED;\n              } else if(percent &lt; 60) {\n                  return color60;\n              }else if (percent &lt; 100){\n                  return color100;\n              } else {\n                  return Color.BLACK;\n              }\n          }, Methods.percentProperty()));\n}\n</code></pre>\n<p>BTW: I recommend choosing a more meaningful name for the <code>Methods</code> class: Most classes contain method implementations, so the name contains basically no valuable info to someone reading the code.</p>\n"}],"owner":{"account_id":16536474,"reputation":5,"user_id":11948345,"display_name":"Mathis H."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57633219,"answer_count":2,"score":0,"last_activity_date":1656956150,"creation_date":1566588124,"question_id":57631938,"body_markdown":"I&#39;m a beginner java programmer and I&#39;m making a small app where I can enter my school marks and see my total score. I have 2 classes in total (1 for javafx layout and 1 for my Methods), and I&#39;m trying to change the color of a label (.setTextFill) which is in the main class with a method in the methods class. \r\n\r\nI have tried making an object of the main class but this gives an error: java.lang.reflect.InvocationTargetException.\r\n\r\n\r\n    public void start(Stage primaryStage)throws Exception{\r\n      totalPercent = new Label(Methods.getTotalPercent());\r\n      totalPercent.setTextFill(Color.web(&quot;#4ecf17&quot;));\r\n    }\r\n\r\n    //next code is in a different class\r\n    public void setPercentColor(){\r\n\t\tif(percent &lt;  50){\r\n\t\t\ttotalPercent.setTextFill(Color.web(&quot;#ff0000&quot;));\r\n\t\t}else if(percent &gt;=  50 &amp;&amp; percent &lt;  60){\r\n\t\t\ttotalPercent.setTextFill(Color.web(&quot;#ff7700&quot;));\r\n\t\t}else if (percent &gt;=  60 &amp;&amp; percent &lt;  100){\r\n\t\t\ttotalPercent.setTextFill(Color.web(&quot;#59ff00&quot;));\r\n\t\t}else{\r\n\t\t\ttotalPercent.setTextFill(Color.web(&quot;#000000&quot;));\r\n\t\t}\r\n\t}\r\n    \r\n\r\nSo basically I don&#39;t know how to change the color from the label &#39;totalPercent&#39; with a method that&#39;s located in a different class.","title":"How do you edit the color of a label in main class from a different class?","body":"<p>I'm a beginner java programmer and I'm making a small app where I can enter my school marks and see my total score. I have 2 classes in total (1 for javafx layout and 1 for my Methods), and I'm trying to change the color of a label (.setTextFill) which is in the main class with a method in the methods class.</p>\n<p>I have tried making an object of the main class but this gives an error: java.lang.reflect.InvocationTargetException.</p>\n<pre><code>public void start(Stage primaryStage)throws Exception{\n  totalPercent = new Label(Methods.getTotalPercent());\n  totalPercent.setTextFill(Color.web(&quot;#4ecf17&quot;));\n}\n\n//next code is in a different class\npublic void setPercentColor(){\n    if(percent &lt;  50){\n        totalPercent.setTextFill(Color.web(&quot;#ff0000&quot;));\n    }else if(percent &gt;=  50 &amp;&amp; percent &lt;  60){\n        totalPercent.setTextFill(Color.web(&quot;#ff7700&quot;));\n    }else if (percent &gt;=  60 &amp;&amp; percent &lt;  100){\n        totalPercent.setTextFill(Color.web(&quot;#59ff00&quot;));\n    }else{\n        totalPercent.setTextFill(Color.web(&quot;#000000&quot;));\n    }\n}\n</code></pre>\n<p>So basically I don't know how to change the color from the label 'totalPercent' with a method that's located in a different class.</p>\n"},{"tags":["java","string","object","iterable"],"answers":[{"tags":[],"owner":{"account_id":1595843,"reputation":12869,"user_id":1477994,"accept_rate":72,"display_name":"royB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656955858,"creation_date":1656947068,"answer_id":72858748,"question_id":72858640,"body_markdown":"The compile error is because your method expects a class Iterable of type String and you pass it a class Iterable of type Object.\r\n\r\nJust use generics (or whildcard as suggested by @Stephen c)\r\n\r\n```\r\n&lt;T&gt; boolean  iterableContains(Iterable&lt;T&gt; iterable, Object matcher) {\r\n    return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n}\r\n\r\n//or\r\nboolean iterableContains(Iterable&lt;?&gt; iterable, Object matcher) {\r\n ...\r\n}\r\n```\r\nand then\r\n```\r\nIterable&lt;String&gt; iter = List.of(&quot;aaa&quot;);\r\nSystem.out.println(iterableContains(iter, &quot;aaa&quot;)); //true\r\nSystem.out.println(iterableContains(iter, &quot;bbb&quot;)); //false\r\n```\r\n","title":"Is there a way to use a common method to take Iterable of String and Long","body":"<p>The compile error is because your method expects a class Iterable of type String and you pass it a class Iterable of type Object.</p>\n<p>Just use generics (or whildcard as suggested by @Stephen c)</p>\n<pre><code>&lt;T&gt; boolean  iterableContains(Iterable&lt;T&gt; iterable, Object matcher) {\n    return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n}\n\n//or\nboolean iterableContains(Iterable&lt;?&gt; iterable, Object matcher) {\n ...\n}\n</code></pre>\n<p>and then</p>\n<pre><code>Iterable&lt;String&gt; iter = List.of(&quot;aaa&quot;);\nSystem.out.println(iterableContains(iter, &quot;aaa&quot;)); //true\nSystem.out.println(iterableContains(iter, &quot;bbb&quot;)); //false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656947408,"creation_date":1656947408,"answer_id":72858823,"question_id":72858640,"body_markdown":"You can try use generic method, matcher also should be T :\r\n\r\n\r\n    static &lt;T&gt; boolean iterableContains2(Iterable&lt;T&gt; iterable, T matcher) {\r\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    }","title":"Is there a way to use a common method to take Iterable of String and Long","body":"<p>You can try use generic method, matcher also should be T :</p>\n<pre><code>static &lt;T&gt; boolean iterableContains2(Iterable&lt;T&gt; iterable, T matcher) {\n    return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656947512,"creation_date":1656947512,"answer_id":72858850,"question_id":72858640,"body_markdown":"    boolean iteContains(Iterable&lt;?&gt; itr, Object matcher) {\r\n    \t\treturn StreamSupport.stream(itr.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    \t}\r\n\r\n\r\nYou can use `?` wildcard type in your method","title":"Is there a way to use a common method to take Iterable of String and Long","body":"<pre><code>boolean iteContains(Iterable&lt;?&gt; itr, Object matcher) {\n        return StreamSupport.stream(itr.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n    }\n</code></pre>\n<p>You can use <code>?</code> wildcard type in your method</p>\n"}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72858748,"answer_count":3,"score":1,"last_activity_date":1656955858,"creation_date":1656946514,"question_id":72858640,"body_markdown":"I have the following 2 methods:\r\n\r\n```\r\nboolean iterableContainsStr(Iterable&lt;String&gt; iterable, Object matcher) {\r\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    }\r\n\r\nboolean iterableContainsLong(Iterable&lt;Long&gt; iterable, Object matcher) {\r\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    }\r\n```\r\n\r\nThe content is equal in both methods, and I tried to use the following:\r\n```\r\nboolean iterableContains(Iterable&lt;Object&gt; iterable, Object matcher) {\r\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    }\r\n```\r\n\r\nbut it throws a compilation error when I try to use it with String or Long iterable. Any solution?","title":"Is there a way to use a common method to take Iterable of String and Long","body":"<p>I have the following 2 methods:</p>\n<pre><code>boolean iterableContainsStr(Iterable&lt;String&gt; iterable, Object matcher) {\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n    }\n\nboolean iterableContainsLong(Iterable&lt;Long&gt; iterable, Object matcher) {\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n    }\n</code></pre>\n<p>The content is equal in both methods, and I tried to use the following:</p>\n<pre><code>boolean iterableContains(Iterable&lt;Object&gt; iterable, Object matcher) {\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n    }\n</code></pre>\n<p>but it throws a compilation error when I try to use it with String or Long iterable. Any solution?</p>\n"},{"tags":["java","generics","jackson","deserialization","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656955838,"creation_date":1656955355,"answer_id":72860195,"question_id":72859969,"body_markdown":"&gt; _While consuming, what is the best way to deserialise and identify the message type as Cricket or Football, so that the corresponding service is called._\r\n\r\nThis isn&#39;t possible. Generics don&#39;t work that way.\r\n\r\nGenerics are involved only at compile-time. When your program runs, the type information from generics is no longer present. There is great information and examples in the [Java Tutorial on generics](https://docs.oracle.com/javase/tutorial/java/generics/index.html).\r\n\r\nAs a brief example, here are two simple classes:\r\n\r\n```\r\nclass MessageModel&lt;T&gt; {\r\n}\r\n\r\nclass Cricket {\r\n}\r\n```\r\n\r\nIf we create a new `MessageModel&lt;Cricket&gt;`, it compiles and runs fine.\r\n```\r\nMessageModel&lt;Cricket&gt; cricket = new MessageModel&lt;&gt;();\r\n```\r\n\r\nBut at runtime, `cricket` is identified only as an instance of `MessageModel` – there is no evidence that the `Cricket` class was associated in any way. As a bit of evidence, asking the `cricket` object to report its own class at runtime it will print itself as `MessageModel`:\r\n```\r\nSystem.out.println(&quot;runtime: &quot; + cricket.getClass());\r\n\r\nruntime: class MessageModel\r\n```\r\n\r\nThis behavior is within a single JVM, but nothing changes if your program serializes an object and sends it to some other program. That other program also has no ability to determine the original `Cricket` generic type from the serialized object.\r\n\r\n\r\n----------\r\n\r\n\r\nIf you need the original class later, you could do something like below, capturing the original class at object construction. Later, when the receiving program needs to know `Cricket` was the original class, it can call `getConcreteClass()`:\r\n\r\nFirst, modify `MessageModel`: require a `Class` at object construction, save that class as a private member, add `getConcreteClass()` to expose it:\r\n```\r\nclass MessageModel&lt;T&gt; {\r\n    private final Class concreteClass;\r\n\r\n    MessageModel(Class concreteClass) {\r\n        this.concreteClass = concreteClass;\r\n    }\r\n\r\n    public Class getConcreteClass() {\r\n        return concreteClass;\r\n    }\r\n}\r\n```\r\nFrom there, the original class is avaiable at runtime:\r\n```\r\nMessageModel&lt;Cricket&gt; cricket = new MessageModel&lt;&gt;(Cricket.class);\r\nSystem.out.println(&quot;getClass()         : &quot; + cricket.getClass());\r\nSystem.out.println(&quot;getConcreteClass() : &quot; + cricket.getConcreteClass());\r\n\r\ngetClass()         : class MessageModel\r\ngetConcreteClass() : class Cricket\r\n```\r\n\r\n","title":"Deserialise a generic class , with unknown generic type - Jackson","body":"<blockquote>\n<p><em>While consuming, what is the best way to deserialise and identify the message type as Cricket or Football, so that the corresponding service is called.</em></p>\n</blockquote>\n<p>This isn't possible. Generics don't work that way.</p>\n<p>Generics are involved only at compile-time. When your program runs, the type information from generics is no longer present. There is great information and examples in the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">Java Tutorial on generics</a>.</p>\n<p>As a brief example, here are two simple classes:</p>\n<pre><code>class MessageModel&lt;T&gt; {\n}\n\nclass Cricket {\n}\n</code></pre>\n<p>If we create a new <code>MessageModel&lt;Cricket&gt;</code>, it compiles and runs fine.</p>\n<pre><code>MessageModel&lt;Cricket&gt; cricket = new MessageModel&lt;&gt;();\n</code></pre>\n<p>But at runtime, <code>cricket</code> is identified only as an instance of <code>MessageModel</code> – there is no evidence that the <code>Cricket</code> class was associated in any way. As a bit of evidence, asking the <code>cricket</code> object to report its own class at runtime it will print itself as <code>MessageModel</code>:</p>\n<pre><code>System.out.println(&quot;runtime: &quot; + cricket.getClass());\n\nruntime: class MessageModel\n</code></pre>\n<p>This behavior is within a single JVM, but nothing changes if your program serializes an object and sends it to some other program. That other program also has no ability to determine the original <code>Cricket</code> generic type from the serialized object.</p>\n<hr />\n<p>If you need the original class later, you could do something like below, capturing the original class at object construction. Later, when the receiving program needs to know <code>Cricket</code> was the original class, it can call <code>getConcreteClass()</code>:</p>\n<p>First, modify <code>MessageModel</code>: require a <code>Class</code> at object construction, save that class as a private member, add <code>getConcreteClass()</code> to expose it:</p>\n<pre><code>class MessageModel&lt;T&gt; {\n    private final Class concreteClass;\n\n    MessageModel(Class concreteClass) {\n        this.concreteClass = concreteClass;\n    }\n\n    public Class getConcreteClass() {\n        return concreteClass;\n    }\n}\n</code></pre>\n<p>From there, the original class is avaiable at runtime:</p>\n<pre><code>MessageModel&lt;Cricket&gt; cricket = new MessageModel&lt;&gt;(Cricket.class);\nSystem.out.println(&quot;getClass()         : &quot; + cricket.getClass());\nSystem.out.println(&quot;getConcreteClass() : &quot; + cricket.getConcreteClass());\n\ngetClass()         : class MessageModel\ngetConcreteClass() : class Cricket\n</code></pre>\n"}],"owner":{"account_id":11498901,"reputation":144,"user_id":8427285,"display_name":"Adil Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860195,"answer_count":1,"score":0,"last_activity_date":1656955838,"creation_date":1656953836,"question_id":72859969,"body_markdown":"    public class MessageModel&lt;T&gt; {\r\n        T body;\r\n    }\r\n\r\nNow `T` could be object of type say `Cricket` or `Football`. Now this class is serialised and published to a queue.\r\nWhile consuming, what is the best way to deserialise and identify the message type as Cricket or Football, so that the corresponding service is called. I am using jackson to serialise.\r\n\r\nI tried introducing a new property `Type` during serialisation and during deserialisation will first read as json object, identify the Type and again use jackson to deserialise as the type is known. \r\nEx:\r\n\r\n    JSONObject jsonObject = new JSONObject(message);\r\n    String messageType = jsonObject.optString(&quot;message_type&quot;);\r\n    objectMapper.readValue(message,new TypeReference&lt;MessageModel&lt;messageType&gt;&gt;(){});\r\n\r\nBut looking for better approaches.","title":"Deserialise a generic class , with unknown generic type - Jackson","body":"<pre><code>public class MessageModel&lt;T&gt; {\n    T body;\n}\n</code></pre>\n<p>Now <code>T</code> could be object of type say <code>Cricket</code> or <code>Football</code>. Now this class is serialised and published to a queue.\nWhile consuming, what is the best way to deserialise and identify the message type as Cricket or Football, so that the corresponding service is called. I am using jackson to serialise.</p>\n<p>I tried introducing a new property <code>Type</code> during serialisation and during deserialisation will first read as json object, identify the Type and again use jackson to deserialise as the type is known.\nEx:</p>\n<pre><code>JSONObject jsonObject = new JSONObject(message);\nString messageType = jsonObject.optString(&quot;message_type&quot;);\nobjectMapper.readValue(message,new TypeReference&lt;MessageModel&lt;messageType&gt;&gt;(){});\n</code></pre>\n<p>But looking for better approaches.</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1304331971,"creation_date":1304331971,"answer_id":5856034,"question_id":5856024,"body_markdown":"It usually works by default in the home directory.\r\n\r\nIn order to read properties, you should use Class.getResourceAsStream(String)\r\n\r\nBTW, a more proper place would be META-INF dir","title":"In which folder is FileInputStream looking?","body":"<p>It usually works by default in the home directory.</p>\n\n<p>In order to read properties, you should use Class.getResourceAsStream(String)</p>\n\n<p>BTW, a more proper place would be META-INF dir</p>\n"},{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1304332095,"creation_date":1304332095,"answer_id":5856046,"question_id":5856024,"body_markdown":"It will look in the folder that is is the result of\r\n\r\n    System.getProperty(&quot;user.dir&quot;)\r\n\r\nand this could be anywhere. That depends the current working directory when the tomcat server is started.\r\n\r\nTry to load a small servlet that prints that info at loading if you cannot figure out from standard logs or the tomcat start procedure.","title":"In which folder is FileInputStream looking?","body":"<p>It will look in the folder that is is the result of</p>\n\n<pre><code>System.getProperty(\"user.dir\")\n</code></pre>\n\n<p>and this could be anywhere. That depends the current working directory when the tomcat server is started.</p>\n\n<p>Try to load a small servlet that prints that info at loading if you cannot figure out from standard logs or the tomcat start procedure.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1304332723,"creation_date":1304332153,"answer_id":5856057,"question_id":5856024,"body_markdown":"It will look in the working directory of the JVM process, not the root directory of the WAR. Where that working directory is depends on how the Tomcat process was started.\r\n\r\nAs such, you shouldn&#39;t do this. You should obtain references to resources from inside the WAR by asking the [`ServletContext`][1] object (which has various methods to look up resource streams), e.g. from inside a Servlet:\r\n\r\n    InputStream stream = getServletContext().getResourceAsStream(&quot;myfile.properties&quot;);\r\n\r\nAlso, it&#39;s bad practice to refer to resources inside a WAR as actual files. This will only work if the WAR is exploded into a directory structure, and won&#39;t work if the servlet contain decided to run the WAR as an un-exploded `.WAR` file. By sticking to the `getResource...()` methods, you keep things neutral and portable.\r\n\r\nHowever if, as you say, you cannot change the code, then that&#39;s a problem, because the code is broken and badly written.  You&#39;ll need to figure out how to launch Tomcat so that the working directory is in the &quot;correct&quot; place.  That might entail hacking the startup scripts.\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html","title":"In which folder is FileInputStream looking?","body":"<p>It will look in the working directory of the JVM process, not the root directory of the WAR. Where that working directory is depends on how the Tomcat process was started.</p>\n\n<p>As such, you shouldn't do this. You should obtain references to resources from inside the WAR by asking the <a href=\"http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html\" rel=\"noreferrer\"><code>ServletContext</code></a> object (which has various methods to look up resource streams), e.g. from inside a Servlet:</p>\n\n<pre><code>InputStream stream = getServletContext().getResourceAsStream(\"myfile.properties\");\n</code></pre>\n\n<p>Also, it's bad practice to refer to resources inside a WAR as actual files. This will only work if the WAR is exploded into a directory structure, and won't work if the servlet contain decided to run the WAR as an un-exploded <code>.WAR</code> file. By sticking to the <code>getResource...()</code> methods, you keep things neutral and portable.</p>\n\n<p>However if, as you say, you cannot change the code, then that's a problem, because the code is broken and badly written.  You'll need to figure out how to launch Tomcat so that the working directory is in the \"correct\" place.  That might entail hacking the startup scripts.</p>\n"},{"tags":[],"owner":{"account_id":26560,"reputation":13354,"user_id":69224,"accept_rate":71,"display_name":"corlettk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304332352,"creation_date":1304332352,"answer_id":5856086,"question_id":5856024,"body_markdown":"**If I recall correctly:** Tomcat searches the classpath for ALL resources... therefore &quot;myfile.properties&quot; (with no path) would be in any &quot;top&quot; directory in the classpath. The &quot;default top&quot; (if you don&#39;t specify a classpath) is WEB-INF/classes; infact I think Tomcat allways (logically) adds WEB-INF/classes to the classpath, even if you don&#39;t want it to... haven&#39;t played with Tomcat in years.","title":"In which folder is FileInputStream looking?","body":"<p><strong>If I recall correctly:</strong> Tomcat searches the classpath for ALL resources... therefore \"myfile.properties\" (with no path) would be in any \"top\" directory in the classpath. The \"default top\" (if you don't specify a classpath) is WEB-INF/classes; infact I think Tomcat allways (logically) adds WEB-INF/classes to the classpath, even if you don't want it to... haven't played with Tomcat in years.</p>\n"},{"tags":[],"owner":{"account_id":3729650,"reputation":1020,"user_id":3102471,"accept_rate":71,"display_name":"mbmast"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656955490,"creation_date":1656955490,"answer_id":72860213,"question_id":5856024,"body_markdown":"In general, whenever I have a &quot;where is the JVM looking for this file&quot; type of question, I launch the excellent Microsoft utility Procmon.  Of course, this only works if you&#39;re developing under Windows.  Procmon allows you to set filters on many System events, such as file I/O.\r\n\r\nThis lets you do things like monitor all I/O coming from application whose name you specify, e.g. `javaw.exe`.  You can add path filters, e.g. include all files with names ending  in &quot;`.properties`&quot;.  It shows exactly where, on the file system, the JVM is looking for I/O matching your filter.\r\n\r\nHere&#39;s an example of setting filters.  Here I&#39;m looking for executables named `javaw.exe` and any file whose name ends with &quot;`.xml`&quot;.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd here is the output after running some Java code that is trying to open an XML file (unsuccessfully - note the NAME-NOT-FOUND error):\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe utility is available at [sysinternals.com][3], which is a Microsoft owned site.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DxWPW.png\r\n  [2]: https://i.stack.imgur.com/zRLbs.png\r\n  [3]: https://www.sysinternals.com","title":"In which folder is FileInputStream looking?","body":"<p>In general, whenever I have a &quot;where is the JVM looking for this file&quot; type of question, I launch the excellent Microsoft utility Procmon.  Of course, this only works if you're developing under Windows.  Procmon allows you to set filters on many System events, such as file I/O.</p>\n<p>This lets you do things like monitor all I/O coming from application whose name you specify, e.g. <code>javaw.exe</code>.  You can add path filters, e.g. include all files with names ending  in &quot;<code>.properties</code>&quot;.  It shows exactly where, on the file system, the JVM is looking for I/O matching your filter.</p>\n<p>Here's an example of setting filters.  Here I'm looking for executables named <code>javaw.exe</code> and any file whose name ends with &quot;<code>.xml</code>&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/DxWPW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DxWPW.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is the output after running some Java code that is trying to open an XML file (unsuccessfully - note the NAME-NOT-FOUND error):</p>\n<p><a href=\"https://i.stack.imgur.com/zRLbs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRLbs.png\" alt=\"enter image description here\" /></a></p>\n<p>The utility is available at <a href=\"https://www.sysinternals.com\" rel=\"nofollow noreferrer\">sysinternals.com</a>, which is a Microsoft owned site.</p>\n"}],"owner":{"account_id":108774,"reputation":33384,"user_id":288568,"accept_rate":74,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22406,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":5856046,"answer_count":5,"score":15,"last_activity_date":1656955490,"creation_date":1304331876,"question_id":5856024,"body_markdown":"I use the line \r\n\r\n    FileInputStream stream = new FileInputStream(&quot;myfile.properties&quot;);\r\n\r\nto open a properties file without specifying a path.\r\n\r\nWhen running it on Apache Tomcat, the file can not be found.\r\nI placed the file into the root folder of the application.\r\n\r\nIn which folder is Java looking?\r\n\r\nI can not change the path because the code is not by me.","title":"In which folder is FileInputStream looking?","body":"<p>I use the line </p>\n\n<pre><code>FileInputStream stream = new FileInputStream(\"myfile.properties\");\n</code></pre>\n\n<p>to open a properties file without specifying a path.</p>\n\n<p>When running it on Apache Tomcat, the file can not be found.\nI placed the file into the root folder of the application.</p>\n\n<p>In which folder is Java looking?</p>\n\n<p>I can not change the path because the code is not by me.</p>\n"},{"tags":["java","excel","performance","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1432300930,"post_id":30374248,"comment_id":48883362,"body_markdown":"What happens if you try with Apache POI 3.12?","body":"What happens if you try with Apache POI 3.12?"},{"owner":{"account_id":873136,"reputation":31,"user_id":923541,"display_name":"6w3n"},"score":0,"creation_date":1432301438,"post_id":30374248,"comment_id":48883746,"body_markdown":"@Gagravarr: I didn&#39;t try with POI 3.12. Did you seen any correction about this issue? As soon as possible I will try it.","body":"@Gagravarr: I didn&#39;t try with POI 3.12. Did you seen any correction about this issue? As soon as possible I will try it."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1432311083,"post_id":30374248,"comment_id":48890348,"body_markdown":"The [POI changelog is here](http://poi.apache.org/changes.html), there&#39;s a lot of fixes mentioned since 3.10!","body":"The <a href=\"http://poi.apache.org/changes.html\" rel=\"nofollow noreferrer\">POI changelog is here</a>, there&#39;s a lot of fixes mentioned since 3.10!"},{"owner":{"account_id":873136,"reputation":31,"user_id":923541,"display_name":"6w3n"},"score":0,"creation_date":1433492978,"post_id":30374248,"comment_id":49385952,"body_markdown":"I tried POI 3.12. Not better.","body":"I tried POI 3.12. Not better."}],"answers":[{"tags":[],"owner":{"account_id":6361292,"reputation":668,"user_id":4936713,"display_name":"sudipta06"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432724771,"creation_date":1432724771,"answer_id":30480683,"question_id":30374248,"body_markdown":"Even after using Apache POI 3.12, I was facing the same issue for auto-sizing. Also auto-size doesn&#39;t work in Unix/Linux.\r\nWhat I learnt from various forums is this:\r\n1.You can try is using the SXSSF API, usually works much faster. \r\n2. If not, then go for setColumnWidth method(I know its literally manual work for 20 columns)","title":"APACHE POI autoSizeColumn with useMergedCells too slow","body":"<p>Even after using Apache POI 3.12, I was facing the same issue for auto-sizing. Also auto-size doesn't work in Unix/Linux.\nWhat I learnt from various forums is this:\n1.You can try is using the SXSSF API, usually works much faster. \n2. If not, then go for setColumnWidth method(I know its literally manual work for 20 columns)</p>\n"},{"tags":[],"owner":{"account_id":1897577,"reputation":199,"user_id":1714178,"display_name":"Taian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552491344,"creation_date":1552491344,"answer_id":55145733,"question_id":30374248,"body_markdown":"My solution was only use Autosize on the last Excel line, like this:\r\n\r\n    if (i &gt;= abaExcel.Itens.Count)\r\n        sheet.AutoSizeColumn(j);","title":"APACHE POI autoSizeColumn with useMergedCells too slow","body":"<p>My solution was only use Autosize on the last Excel line, like this:</p>\n\n<pre><code>if (i &gt;= abaExcel.Itens.Count)\n    sheet.AutoSizeColumn(j);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10385608,"reputation":30,"user_id":10926939,"display_name":"Andrew Samsonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656955019,"creation_date":1656955019,"answer_id":72860145,"question_id":30374248,"body_markdown":"Because merged regions cannot overlap without producing a corrupt document, POI may be checking the list of merged regions on a sheet for potential intersections before adding a merged region. This gives O(N) behavior for adding one region instead of the expected O(1).\r\n\r\n 1. **addMergedRegion** - with  checking but slow\r\n\r\n 2. **addMergedRegionUnsafe** - without  checking but fast\r\n\r\nDocumentation: [read more about addMergedRegionUnsafe(...)][1]\r\n\r\n\r\n  [1]: https://poi-apache-org.translate.goog/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFSheet.html?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=wapp","title":"APACHE POI autoSizeColumn with useMergedCells too slow","body":"<p>Because merged regions cannot overlap without producing a corrupt document, POI may be checking the list of merged regions on a sheet for potential intersections before adding a merged region. This gives O(N) behavior for adding one region instead of the expected O(1).</p>\n<ol>\n<li><p><strong>addMergedRegion</strong> - with  checking but slow</p>\n</li>\n<li><p><strong>addMergedRegionUnsafe</strong> - without  checking but fast</p>\n</li>\n</ol>\n<p>Documentation: <a href=\"https://poi-apache-org.translate.goog/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFSheet.html?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=wapp\" rel=\"nofollow noreferrer\">read more about addMergedRegionUnsafe(...)</a></p>\n"}],"owner":{"account_id":873136,"reputation":31,"user_id":923541,"display_name":"6w3n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1656955019,"creation_date":1432212495,"question_id":30374248,"body_markdown":"I try to apply autoSizeColumn on an Excel sheet. I&#39;m using POI 3.10.1.&lt;br&gt;\r\nI apply autoSizeColumn at the end but the problem is than the process is too slow/long anyway: \r\nOn the sheet I&#39;ve approximately 1000 lines and 20 columns... After 5 hours, I kill the process ...&lt;br&gt;\r\nI don&#39;t understand what is taking so long, 1000 lines and 20 columns doesn&#39;t appear so huge: Did I miss something? (nb: on a smaller file, it&#39;s working)&lt;br&gt;\r\nMy simplified code below:\r\n\r\n        Workbook vWorkbook = getWorkbook();\r\n\r\n        Sheet vSheet = vWorkbook.createSheet(&quot;sheet&quot;);\r\n        CreationHelper vHelper = vWorkbook.getCreationHelper();\r\n        Drawing drawing = vSheet.createDrawingPatriarch();\r\n\r\n        Set&lt;CellRangeAddress&gt; vRegions = new HashSet&lt;CellRangeAddress&gt;();\r\n\r\n        //Parcours des lignes du document\r\n        MatrixDocument vMatrixDocument = getMatrixDocument();\r\n        List&lt;MatrixRow&gt; vListMatrixRows = vMatrixDocument.getRows();\r\n        int maxColNb = 0;\r\n\r\n        //Parcours des lignes de la grille.\r\n        for (MatrixRow vMatrixRow : vListMatrixRows)\r\n        {\r\n            //(...)\r\n            //create cells \r\n            //(...)\r\n        }\r\n\r\n        initColSpan(vListMatrixRows, vRegions);\r\n\r\n        //Gestion des colSpan et des RowSpan\r\n        for (CellRangeAddress vRegion : vRegions)\r\n        {\r\n            vSheet.addMergedRegion(vRegion);\r\n        }\r\n\r\n        for (int i = 0; i &lt; maxColNb; ++i)\r\n        {\r\n            vSheet.autoSizeColumn(i, true);//Here the problem. spent more than 5 hour for 1000 lines and 20 columns\r\n        }\r\n\r\nI&#39;ve already read threads below : \r\n&lt;ul&gt;http://stackoverflow.com/questions/16943493/apache-poi-autosizecolumn-resizes-incorrectly&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/15740100/apache-poi-autosizecolumn-not-working-right&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/23366606/autosizecolumn-performance-effect-in-apache-poi&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/18984785/a-poi-related-code-block-running-dead-slow&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/28564045/apache-poi-autosizecolumn-behaving-weird&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/18456474/apache-poi-autosizecolumn-is-not-working&lt;/ul&gt;\r\nBut none solve my issue.&lt;br&gt;\r\nAny idea ?\r\nPS : I tried to upload an example image of the Excel file but I don&#39;t find how to upload it.","title":"APACHE POI autoSizeColumn with useMergedCells too slow","body":"<p>I try to apply autoSizeColumn on an Excel sheet. I'm using POI 3.10.1.<br>\nI apply autoSizeColumn at the end but the problem is than the process is too slow/long anyway: \nOn the sheet I've approximately 1000 lines and 20 columns... After 5 hours, I kill the process ...<br>\nI don't understand what is taking so long, 1000 lines and 20 columns doesn't appear so huge: Did I miss something? (nb: on a smaller file, it's working)<br>\nMy simplified code below:</p>\n\n<pre><code>    Workbook vWorkbook = getWorkbook();\n\n    Sheet vSheet = vWorkbook.createSheet(\"sheet\");\n    CreationHelper vHelper = vWorkbook.getCreationHelper();\n    Drawing drawing = vSheet.createDrawingPatriarch();\n\n    Set&lt;CellRangeAddress&gt; vRegions = new HashSet&lt;CellRangeAddress&gt;();\n\n    //Parcours des lignes du document\n    MatrixDocument vMatrixDocument = getMatrixDocument();\n    List&lt;MatrixRow&gt; vListMatrixRows = vMatrixDocument.getRows();\n    int maxColNb = 0;\n\n    //Parcours des lignes de la grille.\n    for (MatrixRow vMatrixRow : vListMatrixRows)\n    {\n        //(...)\n        //create cells \n        //(...)\n    }\n\n    initColSpan(vListMatrixRows, vRegions);\n\n    //Gestion des colSpan et des RowSpan\n    for (CellRangeAddress vRegion : vRegions)\n    {\n        vSheet.addMergedRegion(vRegion);\n    }\n\n    for (int i = 0; i &lt; maxColNb; ++i)\n    {\n        vSheet.autoSizeColumn(i, true);//Here the problem. spent more than 5 hour for 1000 lines and 20 columns\n    }\n</code></pre>\n\n<p>I've already read threads below : </p>\n\n<ul>http://stackoverflow.com/questions/16943493/apache-poi-autosizecolumn-resizes-incorrectly</ul>\n\n<ul>http://stackoverflow.com/questions/15740100/apache-poi-autosizecolumn-not-working-right</ul>\n\n<ul>http://stackoverflow.com/questions/23366606/autosizecolumn-performance-effect-in-apache-poi</ul>\n\n<ul>http://stackoverflow.com/questions/18984785/a-poi-related-code-block-running-dead-slow</ul>\n\n<ul>http://stackoverflow.com/questions/28564045/apache-poi-autosizecolumn-behaving-weird</ul>\n\n<ul>http://stackoverflow.com/questions/18456474/apache-poi-autosizecolumn-is-not-working</ul>\n\n<p>But none solve my issue.<br>\nAny idea ?\nPS : I tried to upload an example image of the Excel file but I don't find how to upload it.</p>\n"},{"tags":["java","functional-programming","java-stream","rx-java2","reactive"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656658141,"creation_date":1656658141,"answer_id":72825344,"question_id":72821462,"body_markdown":"Not in RxJava proper. \r\n\r\nNote though that `result = result.flatMap` may result in StackOverflow if you append too many operators.\r\n\r\nIn general, I&#39;d suggest bringing the functions to the data instead:\r\n\r\n```java\r\nSingle.defer(() -&gt; {\r\n    AtomicReference&lt;T&gt; ref = new AtomicReference&lt;&gt;(data);\r\n\r\n    return Flowable.fromArray(validators)\r\n        .concatMapSingle(func -&gt; {\r\n            return func.apply(ref.get())\r\n                   .doOnSuccess(ref::set);\r\n        })\r\n        .ignoreElements()\r\n        .andThen(Single.fromCallable(ref::get));\r\n});\r\n```","title":"chaining reactive functions rxjava","body":"<p>Not in RxJava proper.</p>\n<p>Note though that <code>result = result.flatMap</code> may result in StackOverflow if you append too many operators.</p>\n<p>In general, I'd suggest bringing the functions to the data instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Single.defer(() -&gt; {\n    AtomicReference&lt;T&gt; ref = new AtomicReference&lt;&gt;(data);\n\n    return Flowable.fromArray(validators)\n        .concatMapSingle(func -&gt; {\n            return func.apply(ref.get())\n                   .doOnSuccess(ref::set);\n        })\n        .ignoreElements()\n        .andThen(Single.fromCallable(ref::get));\n});\n</code></pre>\n"}],"owner":{"account_id":11652494,"reputation":182,"user_id":10508681,"display_name":"chavalife17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656954801,"creation_date":1656619672,"question_id":72821462,"body_markdown":"I have this interface that then I create a List of implementation in order to execute sequentially, but this implementations are variable because in future releases we can add or delete several validations.\r\n\r\nThis is my interface:\r\n```\r\nimport java.util.function.Function;\r\n\r\nimport io.reactivex.Single;\r\n\r\npublic interface Validator&lt;T&gt; {\r\n\r\n  Single&lt;T&gt; validate(T data);\r\n\r\n  default Function&lt;T,Single&lt;T&gt;&gt; reactiveFunction() {\r\n    return (a) -&gt; this.validate(a) ;\r\n  }\r\n\r\n  default Single&lt;T&gt; chainFunctions(T data, Function&lt;T,Single&lt;T&gt;&gt;... validators) {\r\n    if (validators.length == 1) {\r\n      return validators[0].apply(data);\r\n    }\r\n    else {\r\n      Single&lt;T&gt; result = Single.just(data);\r\n      for(Function&lt;T,Single&lt;T&gt;&gt; validator: validators) {\r\n        result = result.flatMap(x -&gt; validator.apply(x));\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n  \r\n}\r\n```\r\n\r\nCan I do ```chainFunctions``` more reactive and functional like this [answer](https://stackoverflow.com/a/44521687/10508681)?\r\n\r\n```\r\n@SafeVarargs\r\nprivate static &lt;T&gt; Function&lt;T, T&gt; combineF(Function&lt;T, T&gt;... funcs) {\r\n    return Arrays.stream(funcs).reduce(Function.identity(), Function::andThen);\r\n}\r\n```\r\n[Edit with suggestions]\r\n----------\r\nI changed my interface like this:\r\n\r\n```\r\nimport java.util.function.Function;\r\n\r\nimport io.reactivex.Single;\r\n\r\npublic interface Validator&lt;T&gt; {\r\n\r\n  Single&lt;T&gt; validate(final T data);\r\n\r\n  default Function&lt;Single&lt;T&gt;,Single&lt;T&gt;&gt; reactiveFunction() {\r\n    return x -&gt; x.flatMap(this::stepValidator) ;\r\n  }\r\n\r\n  default Single&lt;T&gt; chainFunctions(final T data, Function&lt;Single&lt;T&gt;,Single&lt;T&gt;&gt;... validators) {\r\n    return Flowable.fromArray(validators)\r\n                   .reduce((s1,s2) -&gt; s1.andThen(s2))\r\n                   .switchIfEmpty(Single.fromCallable(() -&gt; a -&gt; a))\r\n                   .flatMap(f -&gt; f.apply(Single.just(data));\r\n\r\n  }\r\n  \r\n}\r\n\r\n```\r\n","title":"chaining reactive functions rxjava","body":"<p>I have this interface that then I create a List of implementation in order to execute sequentially, but this implementations are variable because in future releases we can add or delete several validations.</p>\n<p>This is my interface:</p>\n<pre><code>import java.util.function.Function;\n\nimport io.reactivex.Single;\n\npublic interface Validator&lt;T&gt; {\n\n  Single&lt;T&gt; validate(T data);\n\n  default Function&lt;T,Single&lt;T&gt;&gt; reactiveFunction() {\n    return (a) -&gt; this.validate(a) ;\n  }\n\n  default Single&lt;T&gt; chainFunctions(T data, Function&lt;T,Single&lt;T&gt;&gt;... validators) {\n    if (validators.length == 1) {\n      return validators[0].apply(data);\n    }\n    else {\n      Single&lt;T&gt; result = Single.just(data);\n      for(Function&lt;T,Single&lt;T&gt;&gt; validator: validators) {\n        result = result.flatMap(x -&gt; validator.apply(x));\n      }\n      return result;\n    }\n  }\n  \n}\n</code></pre>\n<p>Can I do <code>chainFunctions</code> more reactive and functional like this <a href=\"https://stackoverflow.com/a/44521687/10508681\">answer</a>?</p>\n<pre><code>@SafeVarargs\nprivate static &lt;T&gt; Function&lt;T, T&gt; combineF(Function&lt;T, T&gt;... funcs) {\n    return Arrays.stream(funcs).reduce(Function.identity(), Function::andThen);\n}\n</code></pre>\n<h2>[Edit with suggestions]</h2>\n<p>I changed my interface like this:</p>\n<pre><code>import java.util.function.Function;\n\nimport io.reactivex.Single;\n\npublic interface Validator&lt;T&gt; {\n\n  Single&lt;T&gt; validate(final T data);\n\n  default Function&lt;Single&lt;T&gt;,Single&lt;T&gt;&gt; reactiveFunction() {\n    return x -&gt; x.flatMap(this::stepValidator) ;\n  }\n\n  default Single&lt;T&gt; chainFunctions(final T data, Function&lt;Single&lt;T&gt;,Single&lt;T&gt;&gt;... validators) {\n    return Flowable.fromArray(validators)\n                   .reduce((s1,s2) -&gt; s1.andThen(s2))\n                   .switchIfEmpty(Single.fromCallable(() -&gt; a -&gt; a))\n                   .flatMap(f -&gt; f.apply(Single.just(data));\n\n  }\n  \n}\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8781,"page":1211,"page_size":100}
