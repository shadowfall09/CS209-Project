{"items":[{"tags":["java","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1644556365,"post_id":71075570,"comment_id":125643466,"body_markdown":"You need to check and change the scale and the x and y location for every page inside your `for` loop. You can&#39;t use the same scale for every page because it obviously will not work, also, what happens if pages have different orientations (landscape)?.","body":"You need to check and change the scale and the x and y location for every page inside your <code>for</code> loop. You can&#39;t use the same scale for every page because it obviously will not work, also, what happens if pages have different orientations (landscape)?."},{"owner":{"account_id":7312418,"reputation":306,"user_id":5571145,"accept_rate":75,"display_name":"Velpukonda Ramesh"},"score":0,"creation_date":1644556805,"post_id":71075570,"comment_id":125643531,"body_markdown":"could you please help me with sample code","body":"could you please help me with sample code"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1644557332,"post_id":71075570,"comment_id":125643623,"body_markdown":"Have a go first and show which part you got stuck on. My comment tells you why it&#39;s not working and why you need to do to fix it. A great place to look would be your favourite search engine for terms like &quot;itext7 get individual scale&quot;","body":"Have a go first and show which part you got stuck on. My comment tells you why it&#39;s not working and why you need to do to fix it. A great place to look would be your favourite search engine for terms like &quot;itext7 get individual scale&quot;"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1644565876,"post_id":71075570,"comment_id":125645152,"body_markdown":"Try using `x=0` and `y=0` first.","body":"Try using <code>x=0</code> and <code>y=0</code> first."}],"owner":{"account_id":7312418,"reputation":306,"user_id":5571145,"accept_rate":75,"display_name":"Velpukonda Ramesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664034517,"creation_date":1644555860,"question_id":71075570,"body_markdown":"I want to resize and scale the content into A4 size using itext (resize any size of pdf like A1,A2,A3..)\r\n\r\nsource link https://stackoverflow.com/questions/7179096/itext-successfully-resize-one-page-pdf-but-fail-when-there-are-multiple-pages/7181750\r\n\r\nI have tried this code but output pdf getting empty pages.\r\n\r\n```\r\npublic static void main(String args[]){\r\n    resize(597.0,814.0,0.5f)\r\n}\r\n\r\npublic void resize (float x, float y, float scale) throws Exception {\r\n    PdfReader reader = new PdfReader(pdfIn);\r\n    Document doc = new Document(PageSize.A4, 0, 0, 0, 0);\r\n    PdfWriter writer = PdfWriter.getInstance(doc, new FileOutputStream(pdfOut));\r\n    doc.open();\r\n    PdfContentByte cb = writer.getDirectContent();\r\n    for(int i=1; i&lt;=reader.getNumberOfPages(); i++){\r\n        doc.newPage();\r\n        PdfImportedPage page = writer.getImportedPage(reader, i);\r\n        cb.addTemplate(page, scale, 0, 0, scale, x, y);\r\n    }\r\n    doc.close();\r\n}\r\n\r\n","title":"Resize and scale existing pdf into A4 size in itext","body":"<p>I want to resize and scale the content into A4 size using itext (resize any size of pdf like A1,A2,A3..)</p>\n<p>source link <a href=\"https://stackoverflow.com/questions/7179096/itext-successfully-resize-one-page-pdf-but-fail-when-there-are-multiple-pages/7181750\">iText: Successfully resize one page pdf, but fail when there are multiple pages in the pdf document</a></p>\n<p>I have tried this code but output pdf getting empty pages.</p>\n<pre><code>public static void main(String args[]){\n    resize(597.0,814.0,0.5f)\n}\n\npublic void resize (float x, float y, float scale) throws Exception {\n    PdfReader reader = new PdfReader(pdfIn);\n    Document doc = new Document(PageSize.A4, 0, 0, 0, 0);\n    PdfWriter writer = PdfWriter.getInstance(doc, new FileOutputStream(pdfOut));\n    doc.open();\n    PdfContentByte cb = writer.getDirectContent();\n    for(int i=1; i&lt;=reader.getNumberOfPages(); i++){\n        doc.newPage();\n        PdfImportedPage page = writer.getImportedPage(reader, i);\n        cb.addTemplate(page, scale, 0, 0, scale, x, y);\n    }\n    doc.close();\n}\n\n</code></pre>\n"},{"tags":["java","string","arraylist","bootstrap-4","integer"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1664017684,"post_id":73836715,"comment_id":130378293,"body_markdown":"&quot;*`ArrayList&lt;String&gt; location = {randomNumbers,randomNumbers +1,randomNumbers +2};`*&quot; - An `ArrayList` cannot be initialized like this. For one, the types do not match (`String` != `int`), for another, the array-initialization syntax does not work for `ArrayList`s.","body":"&quot;<i><code>ArrayList&lt;String&gt; location = {randomNumbers,randomNumbers +1,randomNumbers +2};</code></i>&quot; - An <code>ArrayList</code> cannot be initialized like this. For one, the types do not match (<code>String</code> != <code>int</code>), for another, the array-initialization syntax does not work for <code>ArrayList</code>s."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1664019413,"post_id":73836715,"comment_id":130378609,"body_markdown":"[This](https://stackoverflow.com/q/1005073/10671013) is another SO question that discusses initialization of arrayList with pre-determined values, though you would probably want to use String.valueOf() to convert those `int`s into string","body":"<a href=\"https://stackoverflow.com/q/1005073/10671013\">This</a> is another SO question that discusses initialization of arrayList with pre-determined values, though you would probably want to use String.valueOf() to convert those <code>int</code>s into string"}],"answers":[{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664019628,"creation_date":1664019628,"answer_id":73836949,"question_id":73836715,"body_markdown":"Seems, you are taking your input from console as `int` from this statement \r\n        **int guess = scan.nextInt();**\r\n\r\nSo, my answer is based on your input data type.\r\n\r\nPlease, changed your `arraylist` generic type `String` to `Integer`\r\nAnd Secondly, this is not how you can initialized the `arraylist`\r\n\r\n    ArrayList&lt;String&gt; location = {randomNumbers,randomNumbers +1,randomNumbers +2};\r\n\r\nCorrect way to create collection using `new` operator like this\r\n\r\n    ArrayList&lt;Integer&gt; location = new ArrayList&lt;&gt;();\r\nand correct way to add element into `arraylist` like this\r\n\r\n    location.add(randomNumbers);\r\n    location.add(randomNumbers+1);\r\n    location.add(randomNumbers+2);\r\nHope, it will work for you.\r\n\r\n","title":"random Strings in ArrayList","body":"<p>Seems, you are taking your input from console as <code>int</code> from this statement\n<strong>int guess = scan.nextInt();</strong></p>\n<p>So, my answer is based on your input data type.</p>\n<p>Please, changed your <code>arraylist</code> generic type <code>String</code> to <code>Integer</code>\nAnd Secondly, this is not how you can initialized the <code>arraylist</code></p>\n<pre><code>ArrayList&lt;String&gt; location = {randomNumbers,randomNumbers +1,randomNumbers +2};\n</code></pre>\n<p>Correct way to create collection using <code>new</code> operator like this</p>\n<pre><code>ArrayList&lt;Integer&gt; location = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and correct way to add element into <code>arraylist</code> like this</p>\n<pre><code>location.add(randomNumbers);\nlocation.add(randomNumbers+1);\nlocation.add(randomNumbers+2);\n</code></pre>\n<p>Hope, it will work for you.</p>\n"}],"owner":{"account_id":26234884,"reputation":41,"user_id":19910214,"display_name":"Pasquale Meo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73836949,"answer_count":1,"score":0,"last_activity_date":1664034294,"creation_date":1664017468,"question_id":73836715,"body_markdown":"I bought [*Head First Java*][1] book, and i am trying to do the exercise sink a startup.\r\n\r\nAfter a while the book introduce ArrayList, and show how to use it in the class and its&#39; method.\r\n\r\nProblem is once i change everything with arraylist, the MAIN doesn&#39;t work, becasue at start i used simple INT, in the array location, now it need array&lt;String&gt;.\r\n\r\nHow can i change the values of INT into a type that i can put inside the array&lt;String&gt; ?\r\n\r\nthx for help, and here the code.\r\n\r\nthe class with the method:\r\n\t\r\n\tprivate ArrayList&lt;String&gt; locationCells;\r\n\tprivate int numOfHits = 0;\r\n\t\r\n\t\r\n\tpublic void setLocationCells(ArrayList&lt;String&gt; locationCells) \r\n\t{\r\n\t\tthis.locationCells = locationCells;\r\n\t}\r\n\t\r\n\t\r\n\t\tpublic String checkYourself(String guess) {\r\n\t\t// creazione stringa miss\r\n\t\t\tString result = &quot;miss&quot;;\r\n\t\t\t\r\n\t\t\tint index = locationCells.indexOf(guess);\r\n\t\t\t\r\n\t\t\tif (index &gt;= 0) {\r\n\t\t\t\t\r\n\t\t\t\tlocationCells.remove(index);\r\n\t\t\t}\t\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\tif (locationCells.isEmpty()) {\r\n\t\t\t\t\tresult = &quot;kill&quot;;\r\n\t\t\t\t\tnumOfHits ++;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}else \r\n\t\t\t\t\tresult = &quot;hit&quot;;\r\n\r\n\t\t\tSystem.out.println(result);\r\n\t\t\treturn result;\r\n\t\t\t\r\n\t\t}\r\n\r\nand here the MAIN:\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t java.util.Random randomGenerator = new java.util.Random();\r\n\t\t Scanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\t \r\n\t\t StartUpCorretta dot = new StartUpCorretta();\r\n\r\n\t\t\r\n\t\tint manyGuesses = 0;\r\n\t\t\r\n\t\tboolean isAlive = true;\r\n\t\t\r\n\t\t\r\n\t\tint randomNumbers = randomGenerator.nextInt(5) +1;\r\n\t\t\r\n\t\t\r\n\t\tint randomNumb = (int) (Math.random() * 5);\r\n\t\t\r\n\t\t\r\n\t\tArrayList&lt;String&gt; location = {randomNumbers,randomNumbers +1,randomNumbers +2};\r\n\t\t\r\n\t\tdot.setLocationCells(location);\r\n\r\n\t\twhile(isAlive) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;enter a number&quot;);\r\n\t\t\tint guess = scan.nextInt();\r\n\t\t\t\r\n\t\t\tString result = dot.checkYourself(guess);\r\n\t\t\t\r\n\t\t\tmanyGuesses ++ ;\r\n\t\t\t\r\n\t\t\tif (result.equals(&quot;kill&quot;)) {\r\n\t\t\t\tisAlive = false;\r\n\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;you took&quot; + &quot; &quot; + manyGuesses + &quot; &quot; + &quot;guesses&quot;);\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n\r\n  [1]: https://www.oreilly.com/library/view/head-first-java/9781492091646/","title":"random Strings in ArrayList","body":"<p>I bought <a href=\"https://www.oreilly.com/library/view/head-first-java/9781492091646/\" rel=\"nofollow noreferrer\"><em>Head First Java</em></a> book, and i am trying to do the exercise sink a startup.</p>\n<p>After a while the book introduce ArrayList, and show how to use it in the class and its' method.</p>\n<p>Problem is once i change everything with arraylist, the MAIN doesn't work, becasue at start i used simple INT, in the array location, now it need array.</p>\n<p>How can i change the values of INT into a type that i can put inside the array ?</p>\n<p>thx for help, and here the code.</p>\n<p>the class with the method:</p>\n<pre><code>private ArrayList&lt;String&gt; locationCells;\nprivate int numOfHits = 0;\n\n\npublic void setLocationCells(ArrayList&lt;String&gt; locationCells) \n{\n    this.locationCells = locationCells;\n}\n\n\n    public String checkYourself(String guess) {\n    // creazione stringa miss\n        String result = &quot;miss&quot;;\n        \n        int index = locationCells.indexOf(guess);\n        \n        if (index &gt;= 0) {\n            \n            locationCells.remove(index);\n        }   \n    \n            \n            if (locationCells.isEmpty()) {\n                result = &quot;kill&quot;;\n                numOfHits ++;\n                                \n            }else \n                result = &quot;hit&quot;;\n\n        System.out.println(result);\n        return result;\n        \n    }\n</code></pre>\n<p>and here the MAIN:</p>\n<pre><code>public static void main(String[] args) {\n        \n     java.util.Random randomGenerator = new java.util.Random();\n     Scanner scan = new Scanner(System.in);\n    \n     \n     StartUpCorretta dot = new StartUpCorretta();\n\n    \n    int manyGuesses = 0;\n    \n    boolean isAlive = true;\n    \n    \n    int randomNumbers = randomGenerator.nextInt(5) +1;\n    \n    \n    int randomNumb = (int) (Math.random() * 5);\n    \n    \n    ArrayList&lt;String&gt; location = {randomNumbers,randomNumbers +1,randomNumbers +2};\n    \n    dot.setLocationCells(location);\n\n    while(isAlive) {\n        \n        System.out.println(&quot;enter a number&quot;);\n        int guess = scan.nextInt();\n        \n        String result = dot.checkYourself(guess);\n        \n        manyGuesses ++ ;\n        \n        if (result.equals(&quot;kill&quot;)) {\n            isAlive = false;\n            \n        System.out.println(&quot;you took&quot; + &quot; &quot; + manyGuesses + &quot; &quot; + &quot;guesses&quot;);\n        }\n    \n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","google-drive-api","google-oauth"],"comments":[{"owner":{"account_id":23932131,"reputation":1027,"user_id":17926477,"display_name":"Ricardo Jose Velasquez Cruz"},"score":0,"creation_date":1663965393,"post_id":73831462,"comment_id":130371820,"body_markdown":"Have you reviewed the quickstart from java? As it mentions the option to create or add the credentials https://developers.google.com/drive/api/quickstart/java? Would you be working using the standard Google Accounts? I also think it would be important to review that credentials might not be directly needed as long as the scopes have been configured in the application so any user with their Google Account can follow the OAuth 2.0 verification process https://developers.google.com/drive/api/guides/api-specific-auth#oauth","body":"Have you reviewed the quickstart from java? As it mentions the option to create or add the credentials <a href=\"https://developers.google.com/drive/api/quickstart/java\" rel=\"nofollow noreferrer\">developers.google.com/drive/api/quickstart/java</a>? Would you be working using the standard Google Accounts? I also think it would be important to review that credentials might not be directly needed as long as the scopes have been configured in the application so any user with their Google Account can follow the OAuth 2.0 verification process <a href=\"https://developers.google.com/drive/api/guides/api-specific-auth#oauth\" rel=\"nofollow noreferrer\">developers.google.com/drive/api/guides/api-specific-auth#oau&zwnj;&#8203;th</a>"}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664034114,"creation_date":1664034114,"answer_id":73838525,"question_id":73831462,"body_markdown":"&gt;Can someone provide any insights or point to an example of how a not-particularly-technical-user can supply credentials to my tool to allow it to upload?\r\n\r\nAnswer: There are none.\r\n\r\n\r\nYour going to have to go though the route of using Oauth2, and requesting authorization of the user to access the their data. You will need to make your own project on google developer console, registering your application and applying for verification.\r\n\r\nNote: with google api keys only grant access to public data not private user data, and they can not be shared in the manner you are using with these other services. \r\n\r\nTo be clear you are **NOT** going to be able to do what you are currently doing with these other services.  It is against googles TOS to share a client id and client secret with anyone. So you are not going to be able to ask these users to create their own project on google developer console and have it verified.   This is something you the developer will need to do.\r\n\r\n\r\nI recommend following the official [google drive QuickStart for java](https://developers.google.com/drive/api/quickstart/java) to start with so that you understand how authorization works.  This is however a sample for an installed application this sample will only work if your users are running this code from their machine, not if it is a web application.  \r\n\r\n\r\n       /**\r\n       * Creates an authorized Credential object.\r\n       *\r\n       * @param HTTP_TRANSPORT The network HTTP Transport.\r\n       * @return An authorized Credential object.\r\n       * @throws IOException If the credentials.json file cannot be found.\r\n       */\r\n      private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\r\n          throws IOException {\r\n        // Load client secrets.\r\n        InputStream in = DriveQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n        if (in == null) {\r\n          throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n        }\r\n        GoogleClientSecrets clientSecrets =\r\n            GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n        // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n            .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n            .setAccessType(&quot;offline&quot;)\r\n            .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n        Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n        //returns an authorized Credential object.\r\n        return credential;\r\n      }","title":"Uploading files to google drive via API - specifically using user entered credentials","body":"<blockquote>\n<p>Can someone provide any insights or point to an example of how a not-particularly-technical-user can supply credentials to my tool to allow it to upload?</p>\n</blockquote>\n<p>Answer: There are none.</p>\n<p>Your going to have to go though the route of using Oauth2, and requesting authorization of the user to access the their data. You will need to make your own project on google developer console, registering your application and applying for verification.</p>\n<p>Note: with google api keys only grant access to public data not private user data, and they can not be shared in the manner you are using with these other services.</p>\n<p>To be clear you are <strong>NOT</strong> going to be able to do what you are currently doing with these other services.  It is against googles TOS to share a client id and client secret with anyone. So you are not going to be able to ask these users to create their own project on google developer console and have it verified.   This is something you the developer will need to do.</p>\n<p>I recommend following the official <a href=\"https://developers.google.com/drive/api/quickstart/java\" rel=\"nofollow noreferrer\">google drive QuickStart for java</a> to start with so that you understand how authorization works.  This is however a sample for an installed application this sample will only work if your users are running this code from their machine, not if it is a web application.</p>\n<pre><code>   /**\n   * Creates an authorized Credential object.\n   *\n   * @param HTTP_TRANSPORT The network HTTP Transport.\n   * @return An authorized Credential object.\n   * @throws IOException If the credentials.json file cannot be found.\n   */\n  private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\n      throws IOException {\n    // Load client secrets.\n    InputStream in = DriveQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n    if (in == null) {\n      throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n    }\n    GoogleClientSecrets clientSecrets =\n        GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n    // Build flow and trigger user authorization request.\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n        .setAccessType(&quot;offline&quot;)\n        .build();\n    LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n    Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n    //returns an authorized Credential object.\n    return credential;\n  }\n</code></pre>\n"}],"owner":{"account_id":62054,"reputation":22899,"user_id":184581,"accept_rate":62,"display_name":"Mike Q"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73838525,"answer_count":1,"score":1,"last_activity_date":1664034114,"creation_date":1663956359,"question_id":73831462,"body_markdown":"I have written a tool that uploads images, as part of a wider process, to sites such as imgur and imgbb. Users of my tool create their own account on these image hosting platforms and enter an API key into my application to enable this. My tool generates images, pushes them to the image host and captures the resulting URL somewhere.\r\n\r\nI would like to do the same for google drive. My tool is written in Java.\r\n\r\nHowever I am struggling to understand the credentials options. I&#39;m looking for the simplest approach where a user can generate some &#39;credentials&#39; within their google drive account and enter them into a UI of my tool, which would enable it to upload images files to their google drive.\r\n\r\nThis API call here https://developers.google.com/drive/api/guides/manage-uploads looks pretty simple to upload a single file, but it leaves out any mention of authentication/authorization.\r\n\r\nCan someone provide any insights or point to an example of how a not-particularly-technical-user can supply credentials to my tool to allow it to upload?\r\n\r\nThanks.","title":"Uploading files to google drive via API - specifically using user entered credentials","body":"<p>I have written a tool that uploads images, as part of a wider process, to sites such as imgur and imgbb. Users of my tool create their own account on these image hosting platforms and enter an API key into my application to enable this. My tool generates images, pushes them to the image host and captures the resulting URL somewhere.</p>\n<p>I would like to do the same for google drive. My tool is written in Java.</p>\n<p>However I am struggling to understand the credentials options. I'm looking for the simplest approach where a user can generate some 'credentials' within their google drive account and enter them into a UI of my tool, which would enable it to upload images files to their google drive.</p>\n<p>This API call here <a href=\"https://developers.google.com/drive/api/guides/manage-uploads\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/api/guides/manage-uploads</a> looks pretty simple to upload a single file, but it leaves out any mention of authentication/authorization.</p>\n<p>Can someone provide any insights or point to an example of how a not-particularly-technical-user can supply credentials to my tool to allow it to upload?</p>\n<p>Thanks.</p>\n"},{"tags":["java","html","css","jsp"],"comments":[{"owner":{"account_id":17645180,"reputation":1529,"user_id":12806767,"display_name":"Azu"},"score":2,"creation_date":1663946626,"post_id":73829889,"comment_id":130366597,"body_markdown":"No CSS is visible here. Please show the line where it&#39;s applied.","body":"No CSS is visible here. Please show the line where it&#39;s applied."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1663947979,"post_id":73829889,"comment_id":130367136,"body_markdown":"Where are your @page declarations too. Did you call the CSS file using &quot;include&quot;? That would sound rational as an error. Use standard HTML tag link to put in the .CSS file","body":"Where are your @page declarations too. Did you call the CSS file using &quot;include&quot;? That would sound rational as an error. Use standard HTML tag link to put in the .CSS file"},{"owner":{"account_id":25457821,"reputation":1,"user_id":19258164,"display_name":"NeedHelpAllTheTime"},"score":0,"creation_date":1663949206,"post_id":73829889,"comment_id":130367562,"body_markdown":"Post updated Please review now","body":"Post updated Please review now"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664032475,"creation_date":1664032475,"answer_id":73838332,"question_id":73829889,"body_markdown":"The problem is in the structure of html document. You can only use `&lt;link&gt;` tag inside a `&lt;head&gt;` tag.\r\n```html\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;Report&lt;/title&gt;\r\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;lds.css&quot;&gt;\r\n&lt;/head&gt;\r\n```","title":"JSP behaving in a strange way. Instead of using css to style the table, it is printing the css","body":"<p>The problem is in the structure of html document. You can only use <code>&lt;link&gt;</code> tag inside a <code>&lt;head&gt;</code> tag.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Report&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;lds.css&quot;&gt;\n&lt;/head&gt;\n</code></pre>\n"}],"owner":{"account_id":25457821,"reputation":1,"user_id":19258164,"display_name":"NeedHelpAllTheTime"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664033249,"creation_date":1663946349,"question_id":73829889,"body_markdown":"I am working on an old application where I have been trying to fix this bug. What happens is that it prints the css instead of applying it. I have edited this post and added additional information for the viewer to review\r\n\r\n:JSP file\r\n\r\n    &lt;%@ page language=&quot;java&quot; info=&quot;Report Build&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.util.CustomValidator&quot; %&gt;\r\n    &lt;jsp:useBean id=&quot;mapReport&quot; class=&quot;com.bo.MtrMappingReport&quot; /&gt;\r\n    &lt;html&gt;\r\n    &lt;title&gt;Report&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;lds.css&quot;&gt;\r\n    \r\n    &lt;link rel=&quot;shortcut icon&quot; href=&quot;*&quot; /&gt;\r\n    \r\n    &lt;%  \r\n        String entity = request.getParameter(&quot;entity&quot;);\r\n        \r\n        if (null != entity)\r\n        {   \r\n            mapReport.setEntity(entity);\r\n            mapReport.buildReport();\r\n        }\r\n        else\r\n        {   \r\n            out.println(&quot;Usage error: Required string paramater &#39;entity&#39; not found.&quot;);\r\n            out.println(&quot;&lt;br&gt;Usage: reportbuild?entity=&#39;&lt;em&gt;Physical_Entity_Name&lt;/em&gt;&#39;&quot;);\r\n            return;\r\n        }%&gt;\r\n                                                                                        \r\n    &lt;body&gt;\r\n    &lt;!-- begin of main area --&gt;\r\n    &lt;form method=&quot;post&quot; action=&quot;&quot; name=&quot;reportbuild&quot;&gt;\r\n    &lt;table width=&quot;995&quot; height=&quot;211&quot;&gt;\r\n    &lt;%= CustomValidator.cleanString(mapReport.getReport()) %&gt;\r\n      &lt;tr&gt;\r\n        &lt;td width=&quot;700&quot; height=&quot;26&quot; valign=&quot;bottom&quot;&gt;\r\n          &lt;input type=&quot;button&quot; value=&quot; Close &quot; onClick=&quot;parent.window.close()&quot; id=&quot;button1&quot; name=&quot;button1&quot;&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td width=&quot;76&quot; height=&quot;22&quot;&gt;&amp;nbsp;&lt;/td&gt;\r\n        &lt;td width=&quot;909&quot; height=&quot;22&quot; colspan=&quot;2&quot;&gt;&amp;nbsp;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;/form&gt;\r\n    &lt;!-- end of main area --&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"JSP behaving in a strange way. Instead of using css to style the table, it is printing the css","body":"<p>I am working on an old application where I have been trying to fix this bug. What happens is that it prints the css instead of applying it. I have edited this post and added additional information for the viewer to review</p>\n<p>:JSP file</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; info=&quot;Report Build&quot; %&gt;\n&lt;%@ page import=&quot;com.util.CustomValidator&quot; %&gt;\n&lt;jsp:useBean id=&quot;mapReport&quot; class=&quot;com.bo.MtrMappingReport&quot; /&gt;\n&lt;html&gt;\n&lt;title&gt;Report&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;lds.css&quot;&gt;\n\n&lt;link rel=&quot;shortcut icon&quot; href=&quot;*&quot; /&gt;\n\n&lt;%  \n    String entity = request.getParameter(&quot;entity&quot;);\n    \n    if (null != entity)\n    {   \n        mapReport.setEntity(entity);\n        mapReport.buildReport();\n    }\n    else\n    {   \n        out.println(&quot;Usage error: Required string paramater 'entity' not found.&quot;);\n        out.println(&quot;&lt;br&gt;Usage: reportbuild?entity='&lt;em&gt;Physical_Entity_Name&lt;/em&gt;'&quot;);\n        return;\n    }%&gt;\n                                                                                    \n&lt;body&gt;\n&lt;!-- begin of main area --&gt;\n&lt;form method=&quot;post&quot; action=&quot;&quot; name=&quot;reportbuild&quot;&gt;\n&lt;table width=&quot;995&quot; height=&quot;211&quot;&gt;\n&lt;%= CustomValidator.cleanString(mapReport.getReport()) %&gt;\n  &lt;tr&gt;\n    &lt;td width=&quot;700&quot; height=&quot;26&quot; valign=&quot;bottom&quot;&gt;\n      &lt;input type=&quot;button&quot; value=&quot; Close &quot; onClick=&quot;parent.window.close()&quot; id=&quot;button1&quot; name=&quot;button1&quot;&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td width=&quot;76&quot; height=&quot;22&quot;&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;td width=&quot;909&quot; height=&quot;22&quot; colspan=&quot;2&quot;&gt;&amp;nbsp;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;!-- end of main area --&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","android-12"],"comments":[{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1664030939,"post_id":73838052,"comment_id":130380629,"body_markdown":"Where is your code. Your question tell nothing to me","body":"Where is your code. Your question tell nothing to me"},{"owner":{"account_id":23354831,"reputation":1,"user_id":17427949,"display_name":"TAQI KHOKHAR"},"score":0,"creation_date":1664032750,"post_id":73838052,"comment_id":130380995,"body_markdown":"@androidXP You can see code Now!!","body":"@androidXP You can see code Now!!"}],"owner":{"account_id":23354831,"reputation":1,"user_id":17427949,"display_name":"TAQI KHOKHAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664032712,"creation_date":1664030309,"question_id":73838052,"body_markdown":"**Realtime Database** not working on **Api 31** without **VPN Connection**\r\n. A VPN connection is needed on **Android 12**\r\n\r\nIt works fine on other Android versions.\r\n\r\nI also tried the app on Physical Devices instead of Emulators but that didn&#39;t worked\r\n\r\n[Screenshot Without VPN connection][1]\r\n\r\n[Screenshot With VPN Connection][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W0S32.png\r\n  [2]: https://i.stack.imgur.com/6WkZW.png\r\n\r\n\r\n**main_activity.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:gravity=&quot;center_horizontal|center_vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/button&quot;\r\n        android:text=&quot;Load&quot;&gt;\r\n\r\n    &lt;/Button&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/text&quot;\r\n        android:text=&quot;Hello World!&quot;\r\n         /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n**MainActivity.java**\r\n    \r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button button;\r\n    TextView textView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference myRef = database.getReference(&quot;Test/Test 2&quot;);\r\n        button = findViewById(R.id.button);\r\n        textView = findViewById(R.id.text);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Read from the database\r\n                myRef.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        // This method is called once with the initial value and again\r\n                        // whenever data at this location is updated.\r\n                        String value = dataSnapshot.getValue(String.class);\r\n                        textView.setText(value);\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError error) {\r\n                        // Failed to read value\r\n                        Toast.makeText(MainActivity.this, &quot;failed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**AndroidManifest.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.admin.test&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.FirebaseTest&quot;\r\n\r\n        &gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n","title":"Firebase Realtime Database not working on Android 12 Api 31 While It&#39;s working fine on lower versions. A vpn connection is needed on Android 12","body":"<p><strong>Realtime Database</strong> not working on <strong>Api 31</strong> without <strong>VPN Connection</strong>\n. A VPN connection is needed on <strong>Android 12</strong></p>\n<p>It works fine on other Android versions.</p>\n<p>I also tried the app on Physical Devices instead of Emulators but that didn't worked</p>\n<p><a href=\"https://i.stack.imgur.com/W0S32.png\" rel=\"nofollow noreferrer\">Screenshot Without VPN connection</a></p>\n<p><a href=\"https://i.stack.imgur.com/6WkZW.png\" rel=\"nofollow noreferrer\">Screenshot With VPN Connection</a></p>\n<p><strong>main_activity.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center_horizontal|center_vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/button&quot;\n        android:text=&quot;Load&quot;&gt;\n\n    &lt;/Button&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/text&quot;\n        android:text=&quot;Hello World!&quot;\n         /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    Button button;\n    TextView textView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n        DatabaseReference myRef = database.getReference(&quot;Test/Test 2&quot;);\n        button = findViewById(R.id.button);\n        textView = findViewById(R.id.text);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Read from the database\n                myRef.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        // This method is called once with the initial value and again\n                        // whenever data at this location is updated.\n                        String value = dataSnapshot.getValue(String.class);\n                        textView.setText(value);\n\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError error) {\n                        // Failed to read value\n                        Toast.makeText(MainActivity.this, &quot;failed&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.admin.test&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.FirebaseTest&quot;\n\n        &gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1896746,"reputation":4539,"user_id":1713531,"accept_rate":64,"display_name":"Rachita Nanda"},"score":2,"creation_date":1372144183,"post_id":17291191,"comment_id":25071152,"body_markdown":"remove the &#39;,&#39; !!I think you wanted to add &#39;.&#39;","body":"remove the &#39;,&#39; !!I think you wanted to add &#39;.&#39;"},{"owner":{"account_id":2391592,"reputation":5764,"user_id":2091346,"accept_rate":82,"display_name":"Arif YILMAZ"},"score":0,"creation_date":1372144366,"post_id":17291191,"comment_id":25071253,"body_markdown":"should I replace it with &quot;.&quot; ?","body":"should I replace it with &quot;.&quot; ?"},{"owner":{"account_id":1214582,"reputation":3616,"user_id":1182436,"accept_rate":91,"display_name":"Bigflow"},"score":0,"creation_date":1372144414,"post_id":17291191,"comment_id":25071288,"body_markdown":"@ayilmaz Yes, that is correct","body":"@ayilmaz Yes, that is correct"},{"owner":{"account_id":1896746,"reputation":4539,"user_id":1713531,"accept_rate":64,"display_name":"Rachita Nanda"},"score":0,"creation_date":1372144641,"post_id":17291191,"comment_id":25071413,"body_markdown":"@ayilmaz yes .replace it .I haved added the solution as answer also .","body":"@ayilmaz yes .replace it .I haved added the solution as answer also ."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1372144757,"post_id":17291191,"comment_id":25071474,"body_markdown":"Your locale is not set correctly to allow commas in floating point numbers.  You need to use a locale which allows this.","body":"Your locale is not set correctly to allow commas in floating point numbers.  You need to use a locale which allows this."}],"answers":[{"tags":[],"owner":{"account_id":2921966,"reputation":3572,"user_id":2504013,"accept_rate":86,"display_name":"JREN"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1372144425,"creation_date":1372144425,"answer_id":17291288,"question_id":17291191,"body_markdown":"You are using a comma when you should be using a period\r\n\r\n    float f1 = Float.parseFloat(&quot;1.9698&quot;);\r\n\r\nThat should work.","title":"convert string to float in android","body":"<p>You are using a comma when you should be using a period</p>\n\n<pre><code>float f1 = Float.parseFloat(\"1.9698\");\n</code></pre>\n\n<p>That should work.</p>\n"},{"tags":[],"owner":{"account_id":1896746,"reputation":4539,"user_id":1713531,"accept_rate":64,"display_name":"Rachita Nanda"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372144758,"creation_date":1372144561,"answer_id":17291327,"question_id":17291191,"body_markdown":"You have added comma instead of &#39;.&#39;&lt;br/&gt;\r\n\r\nDo like this.\r\n\r\n    float f1 = Float.parseFloat(&quot;1.9698&quot;);\r\n\r\n","title":"convert string to float in android","body":"<p>You have added comma instead of '.'<br/></p>\n\n<p>Do like this.</p>\n\n<pre><code>float f1 = Float.parseFloat(\"1.9698\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853465,"reputation":602,"user_id":1679506,"accept_rate":25,"display_name":"Vaishali Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664032356,"creation_date":1372144643,"answer_id":17291356,"question_id":17291191,"body_markdown":"\r\n    \r\n    Float number;\r\n    String str=e1.getText().toString();\r\n    number = Float.parseFloat(str);\r\n    \r\nOr In one line\r\n    \r\n    float float_no = Float.parseFloat(&quot;3.1427&quot;);","title":"convert string to float in android","body":"<pre><code>Float number;\nString str=e1.getText().toString();\nnumber = Float.parseFloat(str);\n</code></pre>\n<p>Or In one line</p>\n<pre><code>float float_no = Float.parseFloat(&quot;3.1427&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645226,"reputation":4319,"user_id":1516879,"accept_rate":43,"display_name":"Mr.Sandy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372336995,"creation_date":1372336995,"answer_id":17343521,"question_id":17291191,"body_markdown":"This is **Type Conversion**:\r\ntype conversion required when we use different type of data in any variables.\r\n\r\n\t\tString str = &quot;123.22&quot;;\r\n\t\t\r\n\t\tint i = Integer.parseInt(str);\r\n\t\tfloat f = Float.parseFloat(str);\r\n\t\tlong l = Long.parseLong(str);\r\n\t\tdouble d= Double.parseDouble(str);\r\n\r\n\t    str = String.valueOf(d);\r\n\t\tstr = String.valueOf(i);\r\n\t\tstr = String.valueOf(f);\r\n\t\tstr = String.valueOf(l);\r\n\r\nAlso some times we need **Type Casting**:\r\ntype casting required when we use same data but in different type.\r\nonly you cast Big to Small Datatype.\r\n\r\n\t    i = (int)f;\r\n\t\ti = (int)d;\r\n\t\ti = (int)l;\r\n\t\t\r\n\t\tf = (float)d;\r\n\t\tf = (float)l;\r\n\t\t\r\n\t\tl = (long)d;\r\n","title":"convert string to float in android","body":"<p>This is <strong>Type Conversion</strong>:\ntype conversion required when we use different type of data in any variables.</p>\n\n<pre><code>    String str = \"123.22\";\n\n    int i = Integer.parseInt(str);\n    float f = Float.parseFloat(str);\n    long l = Long.parseLong(str);\n    double d= Double.parseDouble(str);\n\n    str = String.valueOf(d);\n    str = String.valueOf(i);\n    str = String.valueOf(f);\n    str = String.valueOf(l);\n</code></pre>\n\n<p>Also some times we need <strong>Type Casting</strong>:\ntype casting required when we use same data but in different type.\nonly you cast Big to Small Datatype.</p>\n\n<pre><code>    i = (int)f;\n    i = (int)d;\n    i = (int)l;\n\n    f = (float)d;\n    f = (float)l;\n\n    l = (long)d;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2039429"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432890035,"creation_date":1432890035,"answer_id":30525412,"question_id":17291191,"body_markdown":"used this float f1 = Float.parseFloat(&quot;1.9698&quot;); or replace ,(comma) with .(dot) that is invalid form of flot number \r\n ","title":"convert string to float in android","body":"<p>used this float f1 = Float.parseFloat(\"1.9698\"); or replace ,(comma) with .(dot) that is invalid form of flot number </p>\n"},{"tags":[],"owner":{"account_id":9089962,"reputation":3525,"user_id":6766264,"accept_rate":0,"display_name":"Makvin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479880801,"creation_date":1479879842,"answer_id":40756906,"question_id":17291191,"body_markdown":"    Float total = Float.valueOf(0);\r\n    try\r\n    {\r\n        total = Float.valueOf(str);\r\n    }\r\n    catch(NumberFormatException ex)\r\n    {\r\n        DecimalFormat df = new DecimalFormat();\r\n        Number n = null;\r\n        try\r\n        {\r\n            n = df.parse(str);\r\n        } \r\n        catch(ParseException ex2){ }\r\n        if(n != null)\r\n            total = n.floatValue();\r\n    }","title":"convert string to float in android","body":"<pre><code>Float total = Float.valueOf(0);\ntry\n{\n    total = Float.valueOf(str);\n}\ncatch(NumberFormatException ex)\n{\n    DecimalFormat df = new DecimalFormat();\n    Number n = null;\n    try\n    {\n        n = df.parse(str);\n    } \n    catch(ParseException ex2){ }\n    if(n != null)\n        total = n.floatValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6677034,"reputation":1028,"user_id":5151336,"display_name":"vishnu benny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585464974,"creation_date":1585464974,"answer_id":60911070,"question_id":17291191,"body_markdown":"In kotlin:\r\n\r\n    stringValue.toFloatOrNull() ?: 0F\r\n\r\nWhich will give ***NumberFormatException*** free conversion.\r\n\r\nMore precise:\r\n\r\n    private fun getFloat(stringValue: String) = stringValue.toFloatOrNull() ?: 0F","title":"convert string to float in android","body":"<p>In kotlin:</p>\n\n<pre><code>stringValue.toFloatOrNull() ?: 0F\n</code></pre>\n\n<p>Which will give <strong><em>NumberFormatException</em></strong> free conversion.</p>\n\n<p>More precise:</p>\n\n<pre><code>private fun getFloat(stringValue: String) = stringValue.toFloatOrNull() ?: 0F\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24019152,"reputation":106,"user_id":18001708,"display_name":"bko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643878884,"creation_date":1643878884,"answer_id":70968363,"question_id":17291191,"body_markdown":"I suggest you use something like this:\r\n\r\n    String text = ...;\r\n    text = text.replace(&quot;,&quot;, &quot;.&quot;);\r\n    \r\n    if(text.length() &gt; 0) {\r\n    \ttry {\r\n    \t\tfloat f = Float.parseFloat(text);\r\n    \t\tLog.i(TAG, &quot;Found float &quot; + String.format(Locale.getDefault(), &quot;%f&quot;, f));\r\n    \t} catch (Exception e) {\r\n    \t\tLog.i(TAG, &quot;Exception &quot; + e.toString());\r\n    \t}\r\n    }\r\n\r\n","title":"convert string to float in android","body":"<p>I suggest you use something like this:</p>\n<pre><code>String text = ...;\ntext = text.replace(&quot;,&quot;, &quot;.&quot;);\n\nif(text.length() &gt; 0) {\n    try {\n        float f = Float.parseFloat(text);\n        Log.i(TAG, &quot;Found float &quot; + String.format(Locale.getDefault(), &quot;%f&quot;, f));\n    } catch (Exception e) {\n        Log.i(TAG, &quot;Exception &quot; + e.toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2391592,"reputation":5764,"user_id":2091346,"accept_rate":82,"display_name":"Arif YILMAZ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37907,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":70968363,"answer_count":8,"score":8,"last_activity_date":1664032356,"creation_date":1372144096,"question_id":17291191,"body_markdown":"I am trying to convert string to float but I couldnt succeed.\r\n\r\nhere is my code\r\n\r\n    float f1 = Float.parseFloat(&quot;1,9698&quot;);\r\n\r\nthe error it gives is \r\n\r\n    Invalid float  &quot;1,9698&quot;;\r\n\r\nwhy is it doing this? it is a valid float","title":"convert string to float in android","body":"<p>I am trying to convert string to float but I couldnt succeed.</p>\n\n<p>here is my code</p>\n\n<pre><code>float f1 = Float.parseFloat(\"1,9698\");\n</code></pre>\n\n<p>the error it gives is </p>\n\n<pre><code>Invalid float  \"1,9698\";\n</code></pre>\n\n<p>why is it doing this? it is a valid float</p>\n"},{"tags":["java","apache-poi","powerpoint","xslf"],"answers":[{"tags":[],"owner":{"account_id":13595329,"reputation":124,"user_id":9807545,"display_name":"Rasputin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664032067,"creation_date":1664032067,"answer_id":73838284,"question_id":73759493,"body_markdown":"I eventually figured this out.  When you are iterating through you need to recast the shape object a couple of times as follows:\r\n\r\n```\r\nXSLFShape thisShape = listOfShapes.get(j);\r\nXSLFSimpleShape thisSimpleShape = (XSLFSimpleShape) thisShape;\r\nXSLFTextShape thisTextShape = (XSLFTextShape) thisSimpleShape;\r\nSystem.out.println(thisTextShape.getText());\r\n```\r\nThat will get you the text sitting on the shape itself.","title":"Extract Text Box Off of Shape in Powerpoint Using Apache POI XSLF","body":"<p>I eventually figured this out.  When you are iterating through you need to recast the shape object a couple of times as follows:</p>\n<pre><code>XSLFShape thisShape = listOfShapes.get(j);\nXSLFSimpleShape thisSimpleShape = (XSLFSimpleShape) thisShape;\nXSLFTextShape thisTextShape = (XSLFTextShape) thisSimpleShape;\nSystem.out.println(thisTextShape.getText());\n</code></pre>\n<p>That will get you the text sitting on the shape itself.</p>\n"}],"owner":{"account_id":13595329,"reputation":124,"user_id":9807545,"display_name":"Rasputin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664032067,"creation_date":1663463349,"question_id":73759493,"body_markdown":"I am using Java and the Apache POI library to parse a powerpoint slide.  I can extract the shapes and connectors, but I am having difficulty extracting the &quot;text&quot; that is sitting within each shape.  Here is sample code that gets the shape and this is working fine.\r\n\r\n```\r\n           XMLSlideShow ppt = new XMLSlideShow(new FileInputStream(file));\r\n            List&lt;XSLFSlide&gt; slide = ppt.getSlides();\r\n            System.out.println(&quot;These are the shapes in the presentation: &quot;);\r\n            for (int i = 0; i &lt; slide.size(); i++) {\r\n                List&lt;XSLFShape&gt; listOfShapes = slide.get(i).getShapes();\r\n                for (int j = 0; j &lt; listOfShapes.size(); j++) {\r\n                    XSLFShape thisShape = listOfShapes.get(j);\r\n                    String thisShapeName = thisShape.getShapeName();\r\n                    int thisShapeID = thisShape.getShapeId();\r\n                    XSLFShapeContainer thisShapeParent = thisShape.getParent();\r\n                    Rectangle2D thisAnchor = thisShape.getAnchor();\r\n                    String textBody = thisShape.;\r\n                    System.out.println(&quot;Name: &quot; + thisShapeName + &quot; ID: &quot; + thisShapeID + &quot; Anchor: &quot; + thisAnchor.toString());\r\n                }\r\n            }\r\n```\r\nI thought, based on what I read about the XSLFTextShape class and elsewhere that I could get the text on each shape by simply saying:\r\n\r\n```\r\nString textOnShape = thisShape.getTextBody();\r\n```\r\nBut getTextBody does not appear to be an acceptable method.  I have read the question and answer to this same question using Apache POI HSLF, but I am using XSLF (the newer version).  I am missing something obvious with the syntax, but if anyone has done this before and has a thought it would be appreciated.  ","title":"Extract Text Box Off of Shape in Powerpoint Using Apache POI XSLF","body":"<p>I am using Java and the Apache POI library to parse a powerpoint slide.  I can extract the shapes and connectors, but I am having difficulty extracting the &quot;text&quot; that is sitting within each shape.  Here is sample code that gets the shape and this is working fine.</p>\n<pre><code>           XMLSlideShow ppt = new XMLSlideShow(new FileInputStream(file));\n            List&lt;XSLFSlide&gt; slide = ppt.getSlides();\n            System.out.println(&quot;These are the shapes in the presentation: &quot;);\n            for (int i = 0; i &lt; slide.size(); i++) {\n                List&lt;XSLFShape&gt; listOfShapes = slide.get(i).getShapes();\n                for (int j = 0; j &lt; listOfShapes.size(); j++) {\n                    XSLFShape thisShape = listOfShapes.get(j);\n                    String thisShapeName = thisShape.getShapeName();\n                    int thisShapeID = thisShape.getShapeId();\n                    XSLFShapeContainer thisShapeParent = thisShape.getParent();\n                    Rectangle2D thisAnchor = thisShape.getAnchor();\n                    String textBody = thisShape.;\n                    System.out.println(&quot;Name: &quot; + thisShapeName + &quot; ID: &quot; + thisShapeID + &quot; Anchor: &quot; + thisAnchor.toString());\n                }\n            }\n</code></pre>\n<p>I thought, based on what I read about the XSLFTextShape class and elsewhere that I could get the text on each shape by simply saying:</p>\n<pre><code>String textOnShape = thisShape.getTextBody();\n</code></pre>\n<p>But getTextBody does not appear to be an acceptable method.  I have read the question and answer to this same question using Apache POI HSLF, but I am using XSLF (the newer version).  I am missing something obvious with the syntax, but if anyone has done this before and has a thought it would be appreciated.</p>\n"},{"tags":["java","android","progressdialog"],"comments":[{"owner":{"account_id":13728780,"reputation":646,"user_id":9906778,"display_name":"Ho&#224;ng Vũ Anh"},"score":1,"creation_date":1597053597,"post_id":63337632,"comment_id":111998639,"body_markdown":"can you upload full your code. i try your code and it&#39;s work","body":"can you upload full your code. i try your code and it&#39;s work"}],"answers":[{"tags":[],"owner":{"account_id":5126007,"reputation":2439,"user_id":4108016,"display_name":"Muhammad Sulaiman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664031933,"creation_date":1597052178,"answer_id":63337655,"question_id":63337632,"body_markdown":"Call `progressDialog.dismiss();` ","title":"ProgressDialog keeps on showing despite being cancelled and hidden","body":"<p>Call <code>progressDialog.dismiss();</code></p>\n"},{"tags":[],"owner":{"account_id":17934519,"reputation":423,"user_id":13031115,"display_name":"MdBasha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597053443,"creation_date":1597053443,"answer_id":63337994,"question_id":63337632,"body_markdown":"Could you try this snippet?\r\n```\r\nprogressDialog.show();\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        while (progressDialog.getProgress() &lt;= progressDialog.getMax()) {\r\n                            Thread.sleep(100);\r\n                            handle.sendMessage(handle.obtainMessage());\r\n                            if (progressDialog.getProgress() == progressDialog.getMax()) {\r\n                                progressDialog.dismiss();\r\n                            }\r\n                        }\r\n\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }).start();\r\n\r\n            Handler handle = new Handler() {\r\n                    @Override\r\n                    public void handleMessage(Message msg) {\r\n                        super.handleMessage(msg);\r\n                        progressDialog.incrementProgressBy(1);\r\n                    }\r\n            };\r\n```","title":"ProgressDialog keeps on showing despite being cancelled and hidden","body":"<p>Could you try this snippet?</p>\n<pre><code>progressDialog.show();\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        while (progressDialog.getProgress() &lt;= progressDialog.getMax()) {\n                            Thread.sleep(100);\n                            handle.sendMessage(handle.obtainMessage());\n                            if (progressDialog.getProgress() == progressDialog.getMax()) {\n                                progressDialog.dismiss();\n                            }\n                        }\n\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            }).start();\n\n            Handler handle = new Handler() {\n                    @Override\n                    public void handleMessage(Message msg) {\n                        super.handleMessage(msg);\n                        progressDialog.incrementProgressBy(1);\n                    }\n            };\n</code></pre>\n"}],"owner":{"account_id":5364855,"reputation":147,"user_id":4275150,"display_name":"mylket"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664031933,"creation_date":1597052077,"question_id":63337632,"body_markdown":"Right now I&#39;m simulating the showing of a ProgressDialog for an event that is expected to take several seconds.\r\n\r\nI&#39;m doing it this way:\r\n\r\n    progressDialog = new ProgressDialog(getContext());\r\n    progressDialog.setMessage(getString(R.string.calendar_load));\r\n    progressDialog.setCancelable(false);\r\n    progressDialog.show();\r\n    Thread t=new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n\r\n                    try {\r\n                        Thread.sleep(6000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    getActivity().runOnUiThread(new Runnable()\r\n                    {\r\n                        @Override\r\n                        public void run() {\r\n\r\n                            progressDialog.cancel();\r\n                            progressDialog.hide();\r\n\r\nBut even though I&#39;ve checked in debug that the progressDialog.cancel() and progressDialog.hide() execute the dialog just keeps on showing apparently in an indefinite way.\r\n\r\nWhat could be causing such behavior?\r\n\r\nPROBLEM SOLVED: Thanks to everyone who has answered/commented, it looks like an emulator bug (indeed it has also worked some times on emulator).","title":"ProgressDialog keeps on showing despite being cancelled and hidden","body":"<p>Right now I'm simulating the showing of a ProgressDialog for an event that is expected to take several seconds.</p>\n<p>I'm doing it this way:</p>\n<pre><code>progressDialog = new ProgressDialog(getContext());\nprogressDialog.setMessage(getString(R.string.calendar_load));\nprogressDialog.setCancelable(false);\nprogressDialog.show();\nThread t=new Thread(new Runnable() {\n            @Override\n            public void run() {\n\n                try {\n                    Thread.sleep(6000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                getActivity().runOnUiThread(new Runnable()\n                {\n                    @Override\n                    public void run() {\n\n                        progressDialog.cancel();\n                        progressDialog.hide();\n</code></pre>\n<p>But even though I've checked in debug that the progressDialog.cancel() and progressDialog.hide() execute the dialog just keeps on showing apparently in an indefinite way.</p>\n<p>What could be causing such behavior?</p>\n<p>PROBLEM SOLVED: Thanks to everyone who has answered/commented, it looks like an emulator bug (indeed it has also worked some times on emulator).</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1664024159,"post_id":73836967,"comment_id":130379441,"body_markdown":"Hi, welcome to SO! Could you elaborate on your question a bit more? What do you mean when you say &quot;upon returning&quot;? What is the exact behaviour you want to show? (couldn&#39;t figure this out from your question)","body":"Hi, welcome to SO! Could you elaborate on your question a bit more? What do you mean when you say &quot;upon returning&quot;? What is the exact behaviour you want to show? (couldn&#39;t figure this out from your question)"},{"owner":{"account_id":26430560,"reputation":1,"user_id":20076810,"display_name":"Terence Bruwer"},"score":0,"creation_date":1664025001,"post_id":73836967,"comment_id":130379592,"body_markdown":"Hi thanks for answering. I have a button that triggers an intent. I perform some actions in the intent and when finished come back to the calling intent. Upon returning to the calling intent I need to disable the button that called it for a short period of time","body":"Hi thanks for answering. I have a button that triggers an intent. I perform some actions in the intent and when finished come back to the calling intent. Upon returning to the calling intent I need to disable the button that called it for a short period of time"}],"answers":[{"tags":[],"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664031845,"creation_date":1664031845,"answer_id":73838256,"question_id":73836967,"body_markdown":"You can register your calling activity for a result as explained in the Android docs [here][1]. Then in the result callback you simply enable the button after 10 seconds:\r\n\r\n    ActivityResultLauncher&lt;String&gt; mGetContent = registerForActivityResult(new GetContent(),\r\n        new ActivityResultCallback&lt;Uri&gt;() {\r\n            @Override\r\n            public void onActivityResult(Uri uri) {\r\n                Guarding.postDelayed(new Runnable() {\r\n                    public void run() {\r\n                        Guarding.setEnabled(true);\r\n                    }\r\n                }, 10000);\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/intents/result","title":"Disable button after returning from an intent","body":"<p>You can register your calling activity for a result as explained in the Android docs <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">here</a>. Then in the result callback you simply enable the button after 10 seconds:</p>\n<pre><code>ActivityResultLauncher&lt;String&gt; mGetContent = registerForActivityResult(new GetContent(),\n    new ActivityResultCallback&lt;Uri&gt;() {\n        @Override\n        public void onActivityResult(Uri uri) {\n            Guarding.postDelayed(new Runnable() {\n                public void run() {\n                    Guarding.setEnabled(true);\n                }\n            }, 10000);\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":26430560,"reputation":1,"user_id":20076810,"display_name":"Terence Bruwer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664031845,"creation_date":1664019804,"question_id":73836967,"body_markdown":"Afternoon all I need to call an intent and upon returning disable the button for X seconds.\r\nI have tried variations of the following, which either disable the button immediately and then enable or do not do what I need full stop.\r\n\r\n```\r\n        Guarding.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Guarding.setEnabled(false);\r\n                SharedPref.write(SharedPref.SCANTYPE,&quot;GUARDING&quot;);\r\n                Intent intent = new Intent(Menu.this, CmxScanner.class);\r\n                startActivity(intent);\r\n                Guarding.postDelayed(new Runnable() {\r\n                    public void run() {\r\n                        Guarding.setEnabled(true);\r\n                        //Log.d(TAG,&quot;resend1&quot;);\r\n                    }\r\n                },10000);\r\n            }\r\n        });\r\n```\r\n\r\nSo on first entry to the menu i have a button that is enabled, after clicking it must call the intent and upon returning disable the button again for X seconds. Before it will enable and allow a second request to the Intent","title":"Disable button after returning from an intent","body":"<p>Afternoon all I need to call an intent and upon returning disable the button for X seconds.\nI have tried variations of the following, which either disable the button immediately and then enable or do not do what I need full stop.</p>\n<pre><code>        Guarding.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Guarding.setEnabled(false);\n                SharedPref.write(SharedPref.SCANTYPE,&quot;GUARDING&quot;);\n                Intent intent = new Intent(Menu.this, CmxScanner.class);\n                startActivity(intent);\n                Guarding.postDelayed(new Runnable() {\n                    public void run() {\n                        Guarding.setEnabled(true);\n                        //Log.d(TAG,&quot;resend1&quot;);\n                    }\n                },10000);\n            }\n        });\n</code></pre>\n<p>So on first entry to the menu i have a button that is enabled, after clicking it must call the intent and upon returning disable the button again for X seconds. Before it will enable and allow a second request to the Intent</p>\n"},{"tags":["java","security","jwt","jwe"],"answers":[{"tags":[],"owner":{"account_id":1500547,"reputation":9872,"user_id":1405363,"accept_rate":100,"display_name":"Paul Wasilewski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664031793,"creation_date":1491842335,"answer_id":43328633,"question_id":43327829,"body_markdown":"If you want to protect your application authentication from replay attacks, you can include a nonce ([jti][1]), expiration time ([exp][2]), and issued time ([iat][3]).\r\n\r\nFor more information see the [spec][4].\r\n\r\n**A bit more details.**\r\n\r\n&gt; A replay attack (also known as playback attack) is a form of network\r\n&gt; attack in which a valid data transmission is maliciously or\r\n&gt; fraudulently repeated or delayed. [[wikipedia]][5]\r\n\r\nSo, if you are using a nonce the data can only be transmitted once therefore no re-transmission is possible. This prevents the classical replay attack.\r\n\r\nTo avoid delayed attacks the expiration time and issued time is used. This attack includes not only capturing the data traffic but also to interrupt the traffic of the victim. And interrupting the traffic takes time. \n\nSure, using the expiration time and the issued time is not a 100 percent solution but if you choose the values wisely you are minimizing the risk. \r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-ietf-oauth-json-web-token-25#section-4.1.7\r\n  [2]: https://datatracker.ietf.org/doc/html/draft-ietf-oauth-json-web-token-25#section-4.1.4\r\n  [3]: https://datatracker.ietf.org/doc/html/draft-ietf-oauth-json-web-token-25#section-4.1.6\r\n  [4]: https://datatracker.ietf.org/doc/html/draft-ietf-oauth-json-web-token-25\r\n  [5]: https://en.m.wikipedia.org/wiki/Replay_attack#Nonces_and_MAC","title":"How to prevent replay attacks when using token based authentification in an HTTP connection","body":"<p>If you want to protect your application authentication from replay attacks, you can include a nonce (<a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-json-web-token-25#section-4.1.7\" rel=\"nofollow noreferrer\">jti</a>), expiration time (<a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-json-web-token-25#section-4.1.4\" rel=\"nofollow noreferrer\">exp</a>), and issued time (<a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-json-web-token-25#section-4.1.6\" rel=\"nofollow noreferrer\">iat</a>).</p>\n<p>For more information see the <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-json-web-token-25\" rel=\"nofollow noreferrer\">spec</a>.</p>\n<p><strong>A bit more details.</strong></p>\n<blockquote>\n<p>A replay attack (also known as playback attack) is a form of network\nattack in which a valid data transmission is maliciously or\nfraudulently repeated or delayed. <a href=\"https://en.m.wikipedia.org/wiki/Replay_attack#Nonces_and_MAC\" rel=\"nofollow noreferrer\">[wikipedia]</a></p>\n</blockquote>\n<p>So, if you are using a nonce the data can only be transmitted once therefore no re-transmission is possible. This prevents the classical replay attack.</p>\n<p>To avoid delayed attacks the expiration time and issued time is used. This attack includes not only capturing the data traffic but also to interrupt the traffic of the victim. And interrupting the traffic takes time.</p>\n<p>Sure, using the expiration time and the issued time is not a 100 percent solution but if you choose the values wisely you are minimizing the risk.</p>\n"},{"tags":[],"owner":{"account_id":2526621,"reputation":4666,"user_id":2195875,"accept_rate":60,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491908370,"creation_date":1491908370,"answer_id":43344029,"question_id":43327829,"body_markdown":"You can use https. You should use https.","title":"How to prevent replay attacks when using token based authentification in an HTTP connection","body":"<p>You can use https. You should use https.</p>\n"}],"owner":{"account_id":10656606,"reputation":43,"user_id":7845953,"display_name":"salutent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2987,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43328633,"answer_count":2,"score":3,"last_activity_date":1664031793,"creation_date":1491839742,"question_id":43327829,"body_markdown":"How can I prevent replay attacks and add another layer of encryption to my application when using token based authentication ex: JSON Web authentication?","title":"How to prevent replay attacks when using token based authentification in an HTTP connection","body":"<p>How can I prevent replay attacks and add another layer of encryption to my application when using token based authentication ex: JSON Web authentication?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1664029823,"post_id":73837939,"comment_id":130380402,"body_markdown":"What do you expect ? `[[1, 2], [3, 4], [5, 6]]` ?","body":"What do you expect ? <code>[[1, 2], [3, 4], [5, 6]]</code> ?"},{"owner":{"account_id":1389482,"reputation":115,"user_id":1320675,"accept_rate":0,"display_name":"Rishi Sharma"},"score":0,"creation_date":1664030153,"post_id":73837939,"comment_id":130380476,"body_markdown":"I expect [ (1,3,5),(2,4,6)]","body":"I expect [ (1,3,5),(2,4,6)]"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1664030357,"post_id":73837939,"comment_id":130380515,"body_markdown":"so a list of list ?","body":"so a list of list ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664030493,"post_id":73837939,"comment_id":130380543,"body_markdown":"Please share what have you **tried** and specify what are the issues you&#39;ve encountered?","body":"Please share what have you <b>tried</b> and specify what are the issues you&#39;ve encountered?"},{"owner":{"account_id":1389482,"reputation":115,"user_id":1320675,"accept_rate":0,"display_name":"Rishi Sharma"},"score":0,"creation_date":1664030608,"post_id":73837939,"comment_id":130380566,"body_markdown":"I tried, though two for each loops but not getting the way i want.","body":"I tried, though two for each loops but not getting the way i want."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664030662,"post_id":73837939,"comment_id":130380574,"body_markdown":"`I tried, though two for each loops` - Then share your code. It&#39;s always highly advisable to include your attempt into a question, see [*How do I ask a good question?*](https://stackoverflow.com/help/how-to-ask)","body":"<code>I tried, though two for each loops</code> - Then share your code. It&#39;s always highly advisable to include your attempt into a question, see <a href=\"https://stackoverflow.com/help/how-to-ask\"><i>How do I ask a good question?</i></a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664030758,"post_id":73837939,"comment_id":130380601,"body_markdown":"These lists are of the same size?","body":"These lists are of the same size?"},{"owner":{"account_id":1389482,"reputation":115,"user_id":1320675,"accept_rate":0,"display_name":"Rishi Sharma"},"score":0,"creation_date":1664031197,"post_id":73837939,"comment_id":130380684,"body_markdown":"Yes all three lists are of same size.","body":"Yes all three lists are of same size."},{"owner":{"account_id":1389482,"reputation":115,"user_id":1320675,"accept_rate":0,"display_name":"Rishi Sharma"},"score":0,"creation_date":1664031385,"post_id":73837939,"comment_id":130380716,"body_markdown":"for (List&lt;K&gt; list : listOfLists) {\n            System.out.print(&quot;  [&quot;);\n  \n            for (K item : list) {\n                System.out.print(&quot;  &quot;\n                                 + item\n                                 + &quot;, &quot;);\n            }\n            System.out.println(&quot;], &quot;);\n        }\n        System.out.println(&quot;]&quot;);","body":"for (List&lt;K&gt; list : listOfLists) {             System.out.print(&quot;  [&quot;);                for (K item : list) {                 System.out.print(&quot;  &quot;                                  + item                                  + &quot;, &quot;);             }             System.out.println(&quot;], &quot;);         }         System.out.println(&quot;]&quot;);"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664032104,"post_id":73837939,"comment_id":130380866,"body_markdown":"@RishiSharma It seems like this code is unrelated to question. Please find the proper code and add it to the question (use *edit* button, or this [link](https://stackoverflow.com/posts/73837939/edit)).","body":"@RishiSharma It seems like this code is unrelated to question. Please find the proper code and add it to the question (use <i>edit</i> button, or this <a href=\"https://stackoverflow.com/posts/73837939/edit\">link</a>)."},{"owner":{"account_id":1389482,"reputation":115,"user_id":1320675,"accept_rate":0,"display_name":"Rishi Sharma"},"score":0,"creation_date":1664032873,"post_id":73837939,"comment_id":130381025,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248320/discussion-between-rishi-sharma-and-alexander-ivanchenko).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248320/discussion-between-rishi-sharma-and-alexander-ivanchenko\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664030598,"creation_date":1664030598,"answer_id":73838089,"question_id":73837939,"body_markdown":"Iterate over the same indice for each and collect in a new one\r\n\r\n    List&lt;String&gt; list1 = List.of(&quot;1&quot;, &quot;2&quot;);\r\n    List&lt;String&gt; list2 = List.of(&quot;3&quot;, &quot;4&quot;);\r\n    List&lt;String&gt; list3 = List.of(&quot;5&quot;, &quot;6&quot;);\r\n    List&lt;List&lt;String&gt;&gt; allLists = List.of(list1, list2, list3);\r\n\r\n    List&lt;List&lt;String&gt;&gt; allData = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; list1.size(); i++) {\r\n        List&lt;String&gt; tmp = new ArrayList&lt;&gt;();\r\n        for (List&lt;String&gt; someList : allLists) {\r\n            tmp.add(someList.get(i));\r\n        }\r\n        allData.add(tmp);\r\n    }\r\n\r\n    System.out.println(allData);\r\n    // [[1, 3, 5], [2, 4, 6]]\r\n\r\n","title":"how to merge 3 lists into a list like a table data in java","body":"<p>Iterate over the same indice for each and collect in a new one</p>\n<pre><code>List&lt;String&gt; list1 = List.of(&quot;1&quot;, &quot;2&quot;);\nList&lt;String&gt; list2 = List.of(&quot;3&quot;, &quot;4&quot;);\nList&lt;String&gt; list3 = List.of(&quot;5&quot;, &quot;6&quot;);\nList&lt;List&lt;String&gt;&gt; allLists = List.of(list1, list2, list3);\n\nList&lt;List&lt;String&gt;&gt; allData = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; list1.size(); i++) {\n    List&lt;String&gt; tmp = new ArrayList&lt;&gt;();\n    for (List&lt;String&gt; someList : allLists) {\n        tmp.add(someList.get(i));\n    }\n    allData.add(tmp);\n}\n\nSystem.out.println(allData);\n// [[1, 3, 5], [2, 4, 6]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664031720,"creation_date":1664031316,"answer_id":73838175,"question_id":73837939,"body_markdown":"Assuming that all lists are of the same size, you can combine an arbitrary number of the lists joining elements under the same index that using Stream API.\r\n\r\nFor that, you can create a stream over the *indices*, and then for every index create a stream of list elements that correspond to that index.\r\n\r\nCollect each nested stream into a list applying Java 16 `toList()` or `collect(Collectors.toList())`, and then collect all the list into a nested list.\r\n\r\nHere&#39;s a generic implementation:\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; joinAllByIndex(List&lt;T&gt;... lists) {\r\n        if (lists.length == 0) return Collections.emptyList();\r\n        \r\n        return IntStream.range(0, lists[0].size())\r\n            .mapToObj(i -&gt; Arrays.stream(lists)\r\n                .map(list -&gt; list.get(i))\r\n                .toList())\r\n            .toList(); // for Java 16+ or collect(Collectors.toList()) for earlier versions\r\n    }\r\n\r\n","title":"how to merge 3 lists into a list like a table data in java","body":"<p>Assuming that all lists are of the same size, you can combine an arbitrary number of the lists joining elements under the same index that using Stream API.</p>\n<p>For that, you can create a stream over the <em>indices</em>, and then for every index create a stream of list elements that correspond to that index.</p>\n<p>Collect each nested stream into a list applying Java 16 <code>toList()</code> or <code>collect(Collectors.toList())</code>, and then collect all the list into a nested list.</p>\n<p>Here's a generic implementation:</p>\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; joinAllByIndex(List&lt;T&gt;... lists) {\n    if (lists.length == 0) return Collections.emptyList();\n    \n    return IntStream.range(0, lists[0].size())\n        .mapToObj(i -&gt; Arrays.stream(lists)\n            .map(list -&gt; list.get(i))\n            .toList())\n        .toList(); // for Java 16+ or collect(Collectors.toList()) for earlier versions\n}\n</code></pre>\n"}],"owner":{"account_id":1389482,"reputation":115,"user_id":1320675,"accept_rate":0,"display_name":"Rishi Sharma"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73838089,"answer_count":2,"score":1,"last_activity_date":1664031720,"creation_date":1664029271,"question_id":73837939,"body_markdown":"Let suppose i have three different list of string type data which I fetched from a table (different Columns). Now I want to add these three lists like a table data in third list. Please suggest.\r\n\r\n```  \r\nList&lt;String&gt; allData = new LinkedList&lt;&gt;();\r\nList&lt;String&gt; list1 = new LinkedList&lt;&gt;();\r\nList&lt;String&gt; list2 = new LinkedList&lt;&gt;();\r\nList&lt;String&gt; list3 = new LinkedList&lt;&gt;();\r\n\t\r\nlist1.add(&quot;1&quot;);\r\nlist1.add(&quot;2&quot;);\r\n\t\t\r\nlist2.add(&quot;3&quot;);\r\nlist2.add(&quot;4&quot;);\r\n\t\t\r\nlist3.add(&quot;5&quot;);\r\nlist3.add(&quot;6&quot;);\r\n\r\n```\r\n","title":"how to merge 3 lists into a list like a table data in java","body":"<p>Let suppose i have three different list of string type data which I fetched from a table (different Columns). Now I want to add these three lists like a table data in third list. Please suggest.</p>\n<pre><code>List&lt;String&gt; allData = new LinkedList&lt;&gt;();\nList&lt;String&gt; list1 = new LinkedList&lt;&gt;();\nList&lt;String&gt; list2 = new LinkedList&lt;&gt;();\nList&lt;String&gt; list3 = new LinkedList&lt;&gt;();\n    \nlist1.add(&quot;1&quot;);\nlist1.add(&quot;2&quot;);\n        \nlist2.add(&quot;3&quot;);\nlist2.add(&quot;4&quot;);\n        \nlist3.add(&quot;5&quot;);\nlist3.add(&quot;6&quot;);\n\n</code></pre>\n"},{"tags":["java","cxf"],"comments":[{"owner":{"account_id":1460122,"reputation":3062,"user_id":1374673,"display_name":"willome"},"score":2,"creation_date":1457617986,"post_id":35767410,"comment_id":59495126,"body_markdown":"A small hint that could help you : wsdl2java is using a velocity template  http://svn.apache.org/repos/asf/cxf/trunk/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/impl.vm","body":"A small hint that could help you : wsdl2java is using a velocity template  <a href=\"http://svn.apache.org/repos/asf/cxf/trunk/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/impl.vm\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/cxf/trunk/tools/wsdlto/frontend/jax&zwnj;&#8203;ws/&hellip;</a>"},{"owner":{"account_id":1075224,"reputation":990,"user_id":1073529,"display_name":"Marcus K."},"score":0,"creation_date":1526001074,"post_id":35767410,"comment_id":87583540,"body_markdown":"Even though it does not answer your question: Why do you version your generated files? Why isn&#39;t it enough to version the source WSDL file? That combined with a build configuration file would probably solve your issue, too.","body":"Even though it does not answer your question: Why do you version your generated files? Why isn&#39;t it enough to version the source WSDL file? That combined with a build configuration file would probably solve your issue, too."}],"answers":[{"tags":[],"owner":{"account_id":303136,"reputation":734,"user_id":611903,"display_name":"Oleksiy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547473731,"creation_date":1543245794,"answer_id":53484263,"question_id":35767410,"body_markdown":"Use option `-suppress-generated-date` of underlying Apache CXF in wsdl2java configuration.\r\n\r\nFragment of a `build.gradle` file as an example:\r\n\r\n    wsdl2java {\r\n          ...\r\n          wsdlsToGenerate = [\r\n                  [\r\n                          ...\r\n                          &quot;-suppress-generated-date&quot;,\r\n                          ...\r\n                  ]\r\n          ]\r\n          ...\r\n    }\r\n\r\nThis option will change these comments in generated classes\r\n\r\n    /**\r\n     * This class was generated by Apache CXF 3.2.7\r\n     * 2018-11-23T10:12:12.986+02:00\r\n     * Generated source version: 3.2.7\r\n     *\r\n     */\r\n\r\nto these:\r\n\r\n    /**\r\n     * This class was generated by Apache CXF 3.2.7\r\n     * Generated source version: 3.2.7\r\n     *\r\n     */\r\n\r\nMore details: http://cxf.apache.org/docs/wsdl-to-java.html\r\n\r\n\r\n\r\n","title":"How to tell wsdl2java not insert current timestamp into generated files?","body":"<p>Use option <code>-suppress-generated-date</code> of underlying Apache CXF in wsdl2java configuration.</p>\n\n<p>Fragment of a <code>build.gradle</code> file as an example:</p>\n\n<pre><code>wsdl2java {\n      ...\n      wsdlsToGenerate = [\n              [\n                      ...\n                      \"-suppress-generated-date\",\n                      ...\n              ]\n      ]\n      ...\n}\n</code></pre>\n\n<p>This option will change these comments in generated classes</p>\n\n<pre><code>/**\n * This class was generated by Apache CXF 3.2.7\n * 2018-11-23T10:12:12.986+02:00\n * Generated source version: 3.2.7\n *\n */\n</code></pre>\n\n<p>to these:</p>\n\n<pre><code>/**\n * This class was generated by Apache CXF 3.2.7\n * Generated source version: 3.2.7\n *\n */\n</code></pre>\n\n<p>More details: <a href=\"http://cxf.apache.org/docs/wsdl-to-java.html\" rel=\"nofollow noreferrer\">http://cxf.apache.org/docs/wsdl-to-java.html</a></p>\n"},{"tags":[],"owner":{"account_id":26247944,"reputation":1,"user_id":19921154,"display_name":"Rastislav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664031466,"creation_date":1664029508,"answer_id":73837959,"question_id":35767410,"body_markdown":"however, other with CXF 3.5.2 dates as \r\n    @Generated(value = &quot;org.apache.cxf.tools.wsdlto.WSDLToJava&quot;, date = &quot;2022-09-24T16:22:10.990+02:00&quot;)\r\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v2.3.5&quot;, date = &quot;2022-09-24T16:22:10+02:00&quot;)\r\nstill remain in code. \r\nyes, the file heading comments are away but intention was not to have code cluttered with unwanted changes. the changes are tracked by git normally.\r\ngenerated dates in code may help with very very old code, but generally they are not desirable. it would be even better to have one comment with date in Service than 20 very same comments spread around in code. \r\nno one follows 20 dates spread around generated code. if no one reads that information, that information has no value and should be avoided. \r\nThe changes in WS contract are commonly followed in WSDL file, there is no need to have dates generated in code. \r\nit might be partially useful, if the generated dates would track real changes, that means, it would ONLY update the date where the contents really changed. it is a bad idea to clutter all places with very same date.","title":"How to tell wsdl2java not insert current timestamp into generated files?","body":"<p>however, other with CXF 3.5.2 dates as\n@Generated(value = &quot;org.apache.cxf.tools.wsdlto.WSDLToJava&quot;, date = &quot;2022-09-24T16:22:10.990+02:00&quot;)\n@Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v2.3.5&quot;, date = &quot;2022-09-24T16:22:10+02:00&quot;)\nstill remain in code.\nyes, the file heading comments are away but intention was not to have code cluttered with unwanted changes. the changes are tracked by git normally.\ngenerated dates in code may help with very very old code, but generally they are not desirable. it would be even better to have one comment with date in Service than 20 very same comments spread around in code.\nno one follows 20 dates spread around generated code. if no one reads that information, that information has no value and should be avoided.\nThe changes in WS contract are commonly followed in WSDL file, there is no need to have dates generated in code.\nit might be partially useful, if the generated dates would track real changes, that means, it would ONLY update the date where the contents really changed. it is a bad idea to clutter all places with very same date.</p>\n"}],"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1498,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1664031466,"creation_date":1456995520,"question_id":35767410,"body_markdown":"I use `wsdl2java` to generate DTO Java classes. It adds current timestamp into the comments section of every file generated.\r\n\r\nHow to disable those timestamps?\r\n\r\nBecause I&#39;d like to minify changes between two `wsdl2java` launches (the generated java sources are under RCS).\r\n\r\nP.S. Java 7; `wsdl2java` comes from `org.apache.cxf:cxf-codegen-plugin:2.6.16` although version 3 is also considered.","title":"How to tell wsdl2java not insert current timestamp into generated files?","body":"<p>I use <code>wsdl2java</code> to generate DTO Java classes. It adds current timestamp into the comments section of every file generated.</p>\n\n<p>How to disable those timestamps?</p>\n\n<p>Because I'd like to minify changes between two <code>wsdl2java</code> launches (the generated java sources are under RCS).</p>\n\n<p>P.S. Java 7; <code>wsdl2java</code> comes from <code>org.apache.cxf:cxf-codegen-plugin:2.6.16</code> although version 3 is also considered.</p>\n"},{"tags":["java","memory","jvm","stack"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1664021301,"post_id":73836807,"comment_id":130378926,"body_markdown":"Maybe important: everything shown is eiher 32-bit or 64-bit since there are no bytecode-types for anything `&lt; int` (in byte-size) . See [Java 17 JLS, Table 4.16.1-A](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.16.1-130).","body":"Maybe important: everything shown is eiher 32-bit or 64-bit since there are no bytecode-types for anything <code>&lt; int</code> (in byte-size) . See <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.16.1-130\" rel=\"nofollow noreferrer\">Java 17 JLS, Table 4.16.1-A</a>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1664021553,"post_id":73836807,"comment_id":130378971,"body_markdown":"@Turing85 That&#39;s the class file format. The OP is asking about runtime, right?","body":"@Turing85 That&#39;s the class file format. The OP is asking about runtime, right?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1664021709,"post_id":73836807,"comment_id":130378992,"body_markdown":"Yes, true. I think I found the corresponding (correct) entry: [Java 17, JLS, $2.11.1](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.11.1): &quot;*Note that most instructions in Table 2.11.1-A do not have forms for the integral types `byte`, `char`, and `short`. None have forms for the `boolean` type. A compiler encodes loads of literal values of types `byte` and `short` using Java Virtual Machine instructions that sign-extend those values to values of type `int` at compile-time or run-time...*&quot;","body":"Yes, true. I think I found the corresponding (correct) entry: <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.11.1\" rel=\"nofollow noreferrer\">Java 17, JLS, $2.11.1</a>: &quot;<i>Note that most instructions in Table 2.11.1-A do not have forms for the integral types <code>byte</code>, <code>char</code>, and <code>short</code>. None have forms for the <code>boolean</code> type. A compiler encodes loads of literal values of types <code>byte</code> and <code>short</code> using Java Virtual Machine instructions that sign-extend those values to values of type <code>int</code> at compile-time or run-time...</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1664030692,"creation_date":1664021414,"answer_id":73837119,"question_id":73836807,"body_markdown":"&gt; I easily googled this, but I couldn&#39;t find it in JVM Specification.\r\n\r\nWell, that is because it is an implementation detail. Everything the spec doesn&#39;t say is room for the implementation to do its own thing. In this case, the spec specifically calls this out in [2.7][1]:\r\n\r\n&gt; The Java Virtual Machine does not mandate any particular internal structure for objects.\r\n\r\n### The JVM Data Types\r\n\r\nThe data types of the JVM are defined in [2.3][2].\r\n\r\n&gt; The integral types are:\r\n&gt; \r\n&gt; - `byte`, whose values are 8-bit signed two&#39;s-complement integers, and whose default value is zero\r\n&gt; \r\n&gt; - `short`, whose values are 16-bit signed two&#39;s-complement integers, and whose default value is zero\r\n&gt; \r\n&gt; - `int`, whose values are 32-bit signed two&#39;s-complement integers, and whose default value is zero\r\n&gt; \r\n&gt; - `long`, whose values are 64-bit signed two&#39;s-complement integers, and whose default value is zero\r\n&gt; \r\n&gt; - `char`, whose values are 16-bit unsigned integers representing Unicode code points in the Basic Multilingual Plane, encoded with\r\n&gt; UTF-16, and whose default value is the null code point (&#39;\\u0000&#39;)\r\n&gt; \r\n&gt; The floating-point types are:\r\n&gt; \r\n&gt; - `float`, whose values exactly correspond to the values representable in the 32-bit IEEE 754 binary32 format, and whose default value is\r\n&gt; positive zero\r\n&gt; \r\n&gt; - `double`, whose values exactly correspond to the values of the 64-bit IEEE 754 binary64 format, and whose default value is positive\r\n&gt; zero\r\n\r\nThey just have the sizes that you expect, no headers like the wrapper classes. However, the JVM instruction set is limited and there aren&#39;t every type of instruction for every single type. In fact, most of the instructions are for `int`, `long`, `float`, `double`. (See [this table for more info](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.11.1)) So in the end you&#39;d almost always be working with those types anyway.\r\n\r\n### The Operand Stack and the Local Variables\r\n\r\nNote that values of primitive types are not *directly* &quot;put on the stack&quot;. The JVM [stack][3] stores [*frames*][4], which are &quot;used to store data and partial results, as well as to perform dynamic linking, return values for methods, and dispatch exceptions.&quot;\r\n\r\nOn the frame, there is an &quot;operand stack&quot;, where partial results are stored. For example, an implementation might push the `0`s in your code onto the operand stack first, and then pop them into the local variables.\r\n\r\nThe spec says the following about the sizes of the things on the operand stack:\r\n\r\n&gt; Each entry on the operand stack can hold a value of any Java Virtual\r\n&gt; Machine type, including a value of type `long` or type `double`.\r\n&gt; \r\n&gt; [...]\r\n&gt; \r\n&gt; At any point in time, an operand stack has an associated depth, where\r\n&gt; a value of type `long` or `double` contributes two units to the depth and\r\n&gt; a value of any other type contributes one unit.\r\n\r\nAccording to the spec, the local variables are also stored in the frame, in an array. The parts relevant to what you are asking are:\r\n\r\n&gt; A single local variable can hold a value of type `boolean`, `byte`, `char`, `short`, `int`, `float`, `reference`, or `returnAddress`. A pair of local variables can hold a value of type `long` or `double`.\r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; A value of type `long` or type `double` occupies two consecutive local variables. Such a value may only be addressed using the lesser index. For example, a value of type `double` stored in the local variable array at index n actually occupies the local variables with indices n and n+1; however, the local variable at index n+1 cannot be loaded from. It can be stored into. However, doing so invalidates the contents of local variable n.\r\n&gt;\r\n&gt; The Java Virtual Machine does not require n to be even. In intuitive terms, values of types `long` and `double` need not be 64-bit aligned in the local variables array. Implementors are free to decide the appropriate way to represent such values using the two local variables reserved for the value.\r\n\r\n### Your Example\r\n\r\nAs for your code, we need to make some reasonable assumptions. Let&#39;s assume that the following class file (as viewed from `javap`) is generated. I compiled this with my `javac` using `javac -g MemoryTest.java`.\r\n\r\n```\r\nClassfile /Users/mulangsu/Desktop/MemoryTest.class\r\n  Last modified 2022/09/24; size 264 bytes\r\n  SHA-256 checksum c1aa63404c5e590ef52116de586a91d75deb8727ab749cbd1e0d6fb4197357c2\r\n  Compiled from &quot;MemoryTest.java&quot;\r\nclass MemoryTest\r\n  minor version: 0\r\n  major version: 61\r\n  flags: (0x0020) ACC_SUPER\r\n  this_class: #7                          // MemoryTest\r\n  super_class: #2                         // java/lang/Object\r\n  interfaces: 0, fields: 0, methods: 2, attributes: 1\r\nConstant pool:\r\n   #1 = Methodref          #2.#3          // java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n   #2 = Class              #4             // java/lang/Object\r\n   #3 = NameAndType        #5:#6          // &quot;&lt;init&gt;&quot;:()V\r\n   #4 = Utf8               java/lang/Object\r\n   #5 = Utf8               &lt;init&gt;\r\n   #6 = Utf8               ()V\r\n   #7 = Class              #8             // MemoryTest\r\n   #8 = Utf8               MemoryTest\r\n   #9 = Utf8               Code\r\n  #10 = Utf8               LineNumberTable\r\n  #11 = Utf8               foo\r\n  #12 = Utf8               SourceFile\r\n  #13 = Utf8               MemoryTest.java\r\n{\r\n  MemoryTest();\r\n    descriptor: ()V\r\n    flags: (0x0000)\r\n    Code:\r\n      stack=1, locals=1, args_size=1\r\n         0: aload_0\r\n         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n         4: return\r\n      LineNumberTable:\r\n        line 1: 0\r\n\r\n  static void foo();\r\n    descriptor: ()V\r\n    flags: (0x0008) ACC_STATIC\r\n    Code:\r\n      stack=2, locals=5, args_size=0\r\n         0: iconst_0\r\n         1: istore_0\r\n         2: lconst_0\r\n         3: lstore_1\r\n         4: iconst_0\r\n         5: istore_3\r\n         6: iconst_0\r\n         7: istore        4\r\n         9: return\r\n      LineNumberTable:\r\n        line 3: 0\r\n        line 4: 2\r\n        line 5: 4\r\n        line 6: 6\r\n        line 8: 9\r\n      LocalVariableTable:\r\n        Start  Length  Slot  Name   Signature\r\n            2       8     0 anInt   I\r\n            4       6     1 aLong   J\r\n            6       4     3 aByte   B\r\n            9       1     4 aShort   S\r\n}\r\nSourceFile: &quot;MemoryTest.java&quot;\r\n```\r\n\r\nInterestingly, all the instructions used are int and long instructions. There are no `bipush` or `sipush`, even though the compiler could have used it, but I guess that would make the class file slightly bigger.\r\n\r\nThis is the &quot;put 0s on the operand stack then pop it to the local variable&quot; behaviour I described earlier. \r\n\r\nIf we also assume that each local variable slot is implemented as 4 bytes, then the local variables would occupy 20 bytes in total. `anInt`, `aByte`, `aShort` each occupies one slot, and `aLong` occupies 2, so 5 slots in total.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.7\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.3\r\n  [3]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.5.2\r\n  [4]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6","title":"What are JVM&#39;s rules for variables allocations on stack?","body":"<blockquote>\n<p>I easily googled this, but I couldn't find it in JVM Specification.</p>\n</blockquote>\n<p>Well, that is because it is an implementation detail. Everything the spec doesn't say is room for the implementation to do its own thing. In this case, the spec specifically calls this out in <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.7\" rel=\"nofollow noreferrer\">2.7</a>:</p>\n<blockquote>\n<p>The Java Virtual Machine does not mandate any particular internal structure for objects.</p>\n</blockquote>\n<h3>The JVM Data Types</h3>\n<p>The data types of the JVM are defined in <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.3\" rel=\"nofollow noreferrer\">2.3</a>.</p>\n<blockquote>\n<p>The integral types are:</p>\n<ul>\n<li><p><code>byte</code>, whose values are 8-bit signed two's-complement integers, and whose default value is zero</p>\n</li>\n<li><p><code>short</code>, whose values are 16-bit signed two's-complement integers, and whose default value is zero</p>\n</li>\n<li><p><code>int</code>, whose values are 32-bit signed two's-complement integers, and whose default value is zero</p>\n</li>\n<li><p><code>long</code>, whose values are 64-bit signed two's-complement integers, and whose default value is zero</p>\n</li>\n<li><p><code>char</code>, whose values are 16-bit unsigned integers representing Unicode code points in the Basic Multilingual Plane, encoded with\nUTF-16, and whose default value is the null code point ('\\u0000')</p>\n</li>\n</ul>\n<p>The floating-point types are:</p>\n<ul>\n<li><p><code>float</code>, whose values exactly correspond to the values representable in the 32-bit IEEE 754 binary32 format, and whose default value is\npositive zero</p>\n</li>\n<li><p><code>double</code>, whose values exactly correspond to the values of the 64-bit IEEE 754 binary64 format, and whose default value is positive\nzero</p>\n</li>\n</ul>\n</blockquote>\n<p>They just have the sizes that you expect, no headers like the wrapper classes. However, the JVM instruction set is limited and there aren't every type of instruction for every single type. In fact, most of the instructions are for <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>. (See <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.11.1\" rel=\"nofollow noreferrer\">this table for more info</a>) So in the end you'd almost always be working with those types anyway.</p>\n<h3>The Operand Stack and the Local Variables</h3>\n<p>Note that values of primitive types are not <em>directly</em> &quot;put on the stack&quot;. The JVM <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.5.2\" rel=\"nofollow noreferrer\">stack</a> stores <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6\" rel=\"nofollow noreferrer\"><em>frames</em></a>, which are &quot;used to store data and partial results, as well as to perform dynamic linking, return values for methods, and dispatch exceptions.&quot;</p>\n<p>On the frame, there is an &quot;operand stack&quot;, where partial results are stored. For example, an implementation might push the <code>0</code>s in your code onto the operand stack first, and then pop them into the local variables.</p>\n<p>The spec says the following about the sizes of the things on the operand stack:</p>\n<blockquote>\n<p>Each entry on the operand stack can hold a value of any Java Virtual\nMachine type, including a value of type <code>long</code> or type <code>double</code>.</p>\n<p>[...]</p>\n<p>At any point in time, an operand stack has an associated depth, where\na value of type <code>long</code> or <code>double</code> contributes two units to the depth and\na value of any other type contributes one unit.</p>\n</blockquote>\n<p>According to the spec, the local variables are also stored in the frame, in an array. The parts relevant to what you are asking are:</p>\n<blockquote>\n<p>A single local variable can hold a value of type <code>boolean</code>, <code>byte</code>, <code>char</code>, <code>short</code>, <code>int</code>, <code>float</code>, <code>reference</code>, or <code>returnAddress</code>. A pair of local variables can hold a value of type <code>long</code> or <code>double</code>.</p>\n<p>[...]</p>\n<p>A value of type <code>long</code> or type <code>double</code> occupies two consecutive local variables. Such a value may only be addressed using the lesser index. For example, a value of type <code>double</code> stored in the local variable array at index n actually occupies the local variables with indices n and n+1; however, the local variable at index n+1 cannot be loaded from. It can be stored into. However, doing so invalidates the contents of local variable n.</p>\n<p>The Java Virtual Machine does not require n to be even. In intuitive terms, values of types <code>long</code> and <code>double</code> need not be 64-bit aligned in the local variables array. Implementors are free to decide the appropriate way to represent such values using the two local variables reserved for the value.</p>\n</blockquote>\n<h3>Your Example</h3>\n<p>As for your code, we need to make some reasonable assumptions. Let's assume that the following class file (as viewed from <code>javap</code>) is generated. I compiled this with my <code>javac</code> using <code>javac -g MemoryTest.java</code>.</p>\n<pre><code>Classfile /Users/mulangsu/Desktop/MemoryTest.class\n  Last modified 2022/09/24; size 264 bytes\n  SHA-256 checksum c1aa63404c5e590ef52116de586a91d75deb8727ab749cbd1e0d6fb4197357c2\n  Compiled from &quot;MemoryTest.java&quot;\nclass MemoryTest\n  minor version: 0\n  major version: 61\n  flags: (0x0020) ACC_SUPER\n  this_class: #7                          // MemoryTest\n  super_class: #2                         // java/lang/Object\n  interfaces: 0, fields: 0, methods: 2, attributes: 1\nConstant pool:\n   #1 = Methodref          #2.#3          // java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n   #2 = Class              #4             // java/lang/Object\n   #3 = NameAndType        #5:#6          // &quot;&lt;init&gt;&quot;:()V\n   #4 = Utf8               java/lang/Object\n   #5 = Utf8               &lt;init&gt;\n   #6 = Utf8               ()V\n   #7 = Class              #8             // MemoryTest\n   #8 = Utf8               MemoryTest\n   #9 = Utf8               Code\n  #10 = Utf8               LineNumberTable\n  #11 = Utf8               foo\n  #12 = Utf8               SourceFile\n  #13 = Utf8               MemoryTest.java\n{\n  MemoryTest();\n    descriptor: ()V\n    flags: (0x0000)\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n         4: return\n      LineNumberTable:\n        line 1: 0\n\n  static void foo();\n    descriptor: ()V\n    flags: (0x0008) ACC_STATIC\n    Code:\n      stack=2, locals=5, args_size=0\n         0: iconst_0\n         1: istore_0\n         2: lconst_0\n         3: lstore_1\n         4: iconst_0\n         5: istore_3\n         6: iconst_0\n         7: istore        4\n         9: return\n      LineNumberTable:\n        line 3: 0\n        line 4: 2\n        line 5: 4\n        line 6: 6\n        line 8: 9\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            2       8     0 anInt   I\n            4       6     1 aLong   J\n            6       4     3 aByte   B\n            9       1     4 aShort   S\n}\nSourceFile: &quot;MemoryTest.java&quot;\n</code></pre>\n<p>Interestingly, all the instructions used are int and long instructions. There are no <code>bipush</code> or <code>sipush</code>, even though the compiler could have used it, but I guess that would make the class file slightly bigger.</p>\n<p>This is the &quot;put 0s on the operand stack then pop it to the local variable&quot; behaviour I described earlier.</p>\n<p>If we also assume that each local variable slot is implemented as 4 bytes, then the local variables would occupy 20 bytes in total. <code>anInt</code>, <code>aByte</code>, <code>aShort</code> each occupies one slot, and <code>aLong</code> occupies 2, so 5 slots in total.</p>\n"}],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73837119,"answer_count":1,"score":1,"last_activity_date":1664030692,"creation_date":1664018469,"question_id":73836807,"body_markdown":"A `Long` object on a 64 bit machine will likely take 24 bytes: 12 for object header, 8 for long value itself and another 4 bytes for padding. I easily googled this, but I couldn&#39;t find it in [JVM Specification](https://docs.oracle.com/javase/specs/jvms/se17/html/index.html). \r\n\r\nWhat I couldn&#39;t find anywhere is what are primitive variable types sizes when put on stack. Are they padded at all? What are the *rules*? For example, what would be the stack memory footprint of the variables in the following method:\r\n\r\n```\r\nclass MemoryTest{\r\n  static void foo() {\r\n    int anInt=0;\r\n    long aLong=0L;\r\n    byte aByte=0;\r\n    short aShort=0;\r\n    // some code that uses the vars above\r\n  }\r\n}\r\n```","title":"What are JVM&#39;s rules for variables allocations on stack?","body":"<p>A <code>Long</code> object on a 64 bit machine will likely take 24 bytes: 12 for object header, 8 for long value itself and another 4 bytes for padding. I easily googled this, but I couldn't find it in <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/index.html\" rel=\"nofollow noreferrer\">JVM Specification</a>.</p>\n<p>What I couldn't find anywhere is what are primitive variable types sizes when put on stack. Are they padded at all? What are the <em>rules</em>? For example, what would be the stack memory footprint of the variables in the following method:</p>\n<pre><code>class MemoryTest{\n  static void foo() {\n    int anInt=0;\n    long aLong=0L;\n    byte aByte=0;\n    short aShort=0;\n    // some code that uses the vars above\n  }\n}\n</code></pre>\n"},{"tags":["java","ios","libgdx","robovm","xcframework"],"comments":[{"owner":{"account_id":1508159,"reputation":1068,"user_id":1411030,"accept_rate":52,"display_name":"ether_joe"},"score":0,"creation_date":1654107815,"post_id":72439256,"comment_id":128015363,"body_markdown":"looks like a problems specific to iOS compile settings &amp; setup ... maybe ask on an iOS forum as well.","body":"looks like a problems specific to iOS compile settings &amp; setup ... maybe ask on an iOS forum as well."}],"answers":[{"tags":[],"owner":{"account_id":12500908,"reputation":266,"user_id":9099398,"display_name":"dkimitsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659079365,"creation_date":1658993618,"answer_id":73148905,"question_id":72439256,"body_markdown":"UPDATE:\r\nroot case is `com.mobidevelop.robovm:robopods-google-mobile-ads-ios` it depends on `com.mobidevelop.robovm:robopods-google-apis-ios`  and this artefact contains native library [libGGLCore.a](https://github.com/MobiVM/robovm-robopods/tree/master/google-apis/ios/src/main/robopods/META-INF/robovm/ios/libs) that exposes these missing dependency. \r\nThere is no source for this library and its from 2016 when RoboVM was closed by MS.\r\nYou should not use these bindings as these are not updated.\r\nConsider using `alt-pods` as more recent and being updated (by me)\r\n\r\nsimilar issue was asked on MobiVM [gitter](https://gitter.im/MobiVM/robovm?at=62e1625dfe909e3ec7227c3a) channel.\r\nthere are few moments: \r\n - Firebase.zip (9.3.0) that contains Google-Mobile-Ads-SDK 9.7.0 has no references either to `libGGLAdMob.a` or `_OBJC_CLASS_$_GADInterstitial`. You can check this by searching through binaries or using `nm` tool on GAD framework;\r\n - `com.mobidevelop.robovm:robopods-google-mobile-ads-ios` is quite outdated.\r\n\r\nAs a root case there is a chance that wrong framework is used (e.g. old one).  \r\nAs a quick way to test here is a sample project that uses [alt-pods](https://github.com/dkimitsa/robovm-robopods) bindings(in general more recent) https://github.com/dkimitsa/alt-pods-tests/tree/master/firebase-google-ads  \r\n","title":"How to get admob sdk ios (.xcframework) to work with robovm (Libgdx)? Error: Undefined symbols for architecture arm64:","body":"<p>UPDATE:\nroot case is <code>com.mobidevelop.robovm:robopods-google-mobile-ads-ios</code> it depends on <code>com.mobidevelop.robovm:robopods-google-apis-ios</code>  and this artefact contains native library <a href=\"https://github.com/MobiVM/robovm-robopods/tree/master/google-apis/ios/src/main/robopods/META-INF/robovm/ios/libs\" rel=\"nofollow noreferrer\">libGGLCore.a</a> that exposes these missing dependency.\nThere is no source for this library and its from 2016 when RoboVM was closed by MS.\nYou should not use these bindings as these are not updated.\nConsider using <code>alt-pods</code> as more recent and being updated (by me)</p>\n<p>similar issue was asked on MobiVM <a href=\"https://gitter.im/MobiVM/robovm?at=62e1625dfe909e3ec7227c3a\" rel=\"nofollow noreferrer\">gitter</a> channel.\nthere are few moments:</p>\n<ul>\n<li>Firebase.zip (9.3.0) that contains Google-Mobile-Ads-SDK 9.7.0 has no references either to <code>libGGLAdMob.a</code> or <code>_OBJC_CLASS_$_GADInterstitial</code>. You can check this by searching through binaries or using <code>nm</code> tool on GAD framework;</li>\n<li><code>com.mobidevelop.robovm:robopods-google-mobile-ads-ios</code> is quite outdated.</li>\n</ul>\n<p>As a root case there is a chance that wrong framework is used (e.g. old one).<br />\nAs a quick way to test here is a sample project that uses <a href=\"https://github.com/dkimitsa/robovm-robopods\" rel=\"nofollow noreferrer\">alt-pods</a> bindings(in general more recent) <a href=\"https://github.com/dkimitsa/alt-pods-tests/tree/master/firebase-google-ads\" rel=\"nofollow noreferrer\">https://github.com/dkimitsa/alt-pods-tests/tree/master/firebase-google-ads</a></p>\n"},{"tags":[],"owner":{"account_id":2316201,"reputation":11,"user_id":2033213,"display_name":"SidHunt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664030519,"creation_date":1664030519,"answer_id":73838084,"question_id":72439256,"body_markdown":"Found a solution on reddit.\r\nMobile Ads IOS sdk 8+ has breaking changes and robopods is not compatible with this.\r\nUse sdk 7.42.0 from here \r\nhttps://github.com/CocoaPods/Specs/blob/master/Specs/5/9/a/Google-Mobile-Ads-SDK/7.42.2/Google-Mobile-Ads-SDK.podspec.json#L40\r\n\r\nCredits to the solution posted on reddit here https://www.reddit.com/r/libgdx/comments/oo32h1/build_error_on_ios_updating_to_the_latest_version/","title":"How to get admob sdk ios (.xcframework) to work with robovm (Libgdx)? Error: Undefined symbols for architecture arm64:","body":"<p>Found a solution on reddit.\nMobile Ads IOS sdk 8+ has breaking changes and robopods is not compatible with this.\nUse sdk 7.42.0 from here\n<a href=\"https://github.com/CocoaPods/Specs/blob/master/Specs/5/9/a/Google-Mobile-Ads-SDK/7.42.2/Google-Mobile-Ads-SDK.podspec.json#L40\" rel=\"nofollow noreferrer\">https://github.com/CocoaPods/Specs/blob/master/Specs/5/9/a/Google-Mobile-Ads-SDK/7.42.2/Google-Mobile-Ads-SDK.podspec.json#L40</a></p>\n<p>Credits to the solution posted on reddit here <a href=\"https://www.reddit.com/r/libgdx/comments/oo32h1/build_error_on_ios_updating_to_the_latest_version/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/libgdx/comments/oo32h1/build_error_on_ios_updating_to_the_latest_version/</a></p>\n"}],"owner":{"account_id":10894867,"reputation":21,"user_id":8009209,"display_name":"Ivan Diaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664030519,"creation_date":1653939449,"question_id":72439256,"body_markdown":"I am trying to implement google admob sdk on my LibGDX project for iOS, when I try to launch the game I get this error:\r\n````\r\n[ERROR] 14:44:17.979 Undefined symbols for architecture arm64:\r\n[ERROR] 14:44:17.980   &quot;_OBJC_CLASS_$_GADInterstitial&quot;, referenced from:\r\n[ERROR] 14:44:17.981       objc-class-ref in libGGLAdMob.a(GGLContext+AdMob.o)\r\n[ERROR] 14:44:18.114      (maybe you meant: _OBJC_CLASS_$_GADInterstitialAd)\r\n[ERROR] 14:44:18.157 ld: symbol(s) not found for architecture arm64\r\n[ERROR] 14:44:18.180 clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n[ERROR] Couldn&#39;t compile app\r\n````\r\n\r\nI have the following in my `gradle` file:\r\n```\r\nbuildscript {\r\n    \r\n    ....\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.1.3&#39;\r\n        classpath &#39;com.mobidevelop.robovm:robovm-gradle-plugin:2.3.15&#39;\r\n\r\n        //for ads for firebase\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    apply plugin: &quot;eclipse&quot;\r\n\r\n    version = &#39;1&#39;\r\n    ext {\r\n        ...\r\n        gdxVersion = &#39;1.10.0&#39;\r\n        roboVMVersion = &#39;2.3.15&#39;\r\n        ...\r\n    }\r\n\r\n    ...\r\n}\r\n\r\nproject(&quot;:ios&quot;) {\r\n    apply plugin: &quot;java-library&quot;\r\n    apply plugin: &quot;robovm&quot;\r\n\r\n    //publish on app store (iOS)\r\n    configurations {natives}\r\n\r\n    dependencies {\r\n        ...\r\n\r\n        //robopods\r\n        implementation &quot;com.mobidevelop.robovm:robopods-google-mobile-ads-ios:2.2.3&quot;\r\n    }\r\n\r\n\r\n    //publish on app store (iOS)\r\n    robovm {\r\n        // Configure robovm\r\n        iosSignIdentity = &quot;Apple Distribution: XXXXXX XXX (XXXXXXXXX)&quot;\r\n        iosProvisioningProfile = &quot;XXXX XXXX&quot;\r\n        iosSkipSigning = false\r\n        arch = &quot;arm64&quot;\r\n        stdoutFifo = &quot;&quot;\r\n        stderrFifo = &quot;&quot;\r\n    }\r\n}\r\n````\r\nI downloaded the admob ios SDK from here: https://developers.google.com/admob/ios/download\r\n\r\nI unzipped file and added the sdk to folders inside `ios` folder in my project.\r\n\r\nI created `libs`, `arm_libs` and `sim_libs` in the ios folder.\r\n\r\nI then copy and pasted all the .xcframework files (in my download folder) into the `libs` folder.\r\nThen I copy and paste from my download folder the `.framework` files within the `.xcframework` folder into the `arms_libs` and `sim_libs` folder.\r\n\r\nIn the `Info.plist.xml` I add my admob as follows:\r\n````\r\n&lt;key&gt;GADApplicationIdentifier&lt;/key&gt;\r\n    &lt;string&gt;ca-app-pub-xxxxxxxxxxxxxxx~xxxxxxxxx&lt;/string&gt;\r\n\r\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\r\n    &lt;string&gt;cstr6suwn9.skadnetwork&lt;/string&gt;\r\n````\r\nIn the `robovm.xml` file I add the following:\r\n````\r\n&lt;frameworkPaths&gt;\r\n    &lt;path&gt;libs&lt;/path&gt;\r\n    &lt;path variant=&quot;device&quot;&gt;arm_libs&lt;/path&gt;\r\n    &lt;path variant=&quot;simulator&quot;&gt;sim_libs&lt;/path&gt;\r\n  &lt;/frameworkPaths&gt;\r\n\r\n&lt;frameworks&gt;\r\n....\r\n&lt;!--    googleMobileAdsASKiOS 9.5.0--&gt;\r\n    &lt;framework&gt;GoogleAppMeasurement&lt;/framework&gt;\r\n    &lt;framework&gt;GoogleMobileAds&lt;/framework&gt;\r\n    &lt;framework&gt;GoogleUtilities&lt;/framework&gt;\r\n    &lt;framework&gt;nanopb&lt;/framework&gt;\r\n    &lt;framework&gt;PromisesObjC&lt;/framework&gt;\r\n    &lt;framework&gt;UserMessagingPlatform&lt;/framework&gt;\r\n    &lt;framework&gt;GoogleAppMeasurementIdentitySupport&lt;/framework&gt;\r\n\r\n  &lt;/frameworks&gt;\r\n````\r\nThen I launch in my physical device (iPhone 8) and I get the following error:\r\n\r\n````\r\n[ERROR] 14:44:17.979 Undefined symbols for architecture arm64:\r\n[ERROR] 14:44:17.980   &quot;_OBJC_CLASS_$_GADInterstitial&quot;, referenced from:\r\n[ERROR] 14:44:17.981       objc-class-ref in libGGLAdMob.a(GGLContext+AdMob.o)\r\n[ERROR] 14:44:18.114      (maybe you meant: _OBJC_CLASS_$_GADInterstitialAd)\r\n[ERROR] 14:44:18.157 ld: symbol(s) not found for architecture arm64\r\n[ERROR] 14:44:18.180 clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n[ERROR] Couldn&#39;t compile app\r\n....\r\n````\r\nI have tried many different solutions I have found online, but nothing seems to work.\r\nAny help would be greatly appreciated. Thank you!","title":"How to get admob sdk ios (.xcframework) to work with robovm (Libgdx)? Error: Undefined symbols for architecture arm64:","body":"<p>I am trying to implement google admob sdk on my LibGDX project for iOS, when I try to launch the game I get this error:</p>\n<pre><code>[ERROR] 14:44:17.979 Undefined symbols for architecture arm64:\n[ERROR] 14:44:17.980   &quot;_OBJC_CLASS_$_GADInterstitial&quot;, referenced from:\n[ERROR] 14:44:17.981       objc-class-ref in libGGLAdMob.a(GGLContext+AdMob.o)\n[ERROR] 14:44:18.114      (maybe you meant: _OBJC_CLASS_$_GADInterstitialAd)\n[ERROR] 14:44:18.157 ld: symbol(s) not found for architecture arm64\n[ERROR] 14:44:18.180 clang: error: linker command failed with exit code 1 (use -v to see invocation)\n[ERROR] Couldn't compile app\n</code></pre>\n<p>I have the following in my <code>gradle</code> file:</p>\n<pre><code>buildscript {\n    \n    ....\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.3'\n        classpath 'com.mobidevelop.robovm:robovm-gradle-plugin:2.3.15'\n\n        //for ads for firebase\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n}\n\nallprojects {\n    apply plugin: &quot;eclipse&quot;\n\n    version = '1'\n    ext {\n        ...\n        gdxVersion = '1.10.0'\n        roboVMVersion = '2.3.15'\n        ...\n    }\n\n    ...\n}\n\nproject(&quot;:ios&quot;) {\n    apply plugin: &quot;java-library&quot;\n    apply plugin: &quot;robovm&quot;\n\n    //publish on app store (iOS)\n    configurations {natives}\n\n    dependencies {\n        ...\n\n        //robopods\n        implementation &quot;com.mobidevelop.robovm:robopods-google-mobile-ads-ios:2.2.3&quot;\n    }\n\n\n    //publish on app store (iOS)\n    robovm {\n        // Configure robovm\n        iosSignIdentity = &quot;Apple Distribution: XXXXXX XXX (XXXXXXXXX)&quot;\n        iosProvisioningProfile = &quot;XXXX XXXX&quot;\n        iosSkipSigning = false\n        arch = &quot;arm64&quot;\n        stdoutFifo = &quot;&quot;\n        stderrFifo = &quot;&quot;\n    }\n}\n</code></pre>\n<p>I downloaded the admob ios SDK from here: <a href=\"https://developers.google.com/admob/ios/download\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/ios/download</a></p>\n<p>I unzipped file and added the sdk to folders inside <code>ios</code> folder in my project.</p>\n<p>I created <code>libs</code>, <code>arm_libs</code> and <code>sim_libs</code> in the ios folder.</p>\n<p>I then copy and pasted all the .xcframework files (in my download folder) into the <code>libs</code> folder.\nThen I copy and paste from my download folder the <code>.framework</code> files within the <code>.xcframework</code> folder into the <code>arms_libs</code> and <code>sim_libs</code> folder.</p>\n<p>In the <code>Info.plist.xml</code> I add my admob as follows:</p>\n<pre><code>&lt;key&gt;GADApplicationIdentifier&lt;/key&gt;\n    &lt;string&gt;ca-app-pub-xxxxxxxxxxxxxxx~xxxxxxxxx&lt;/string&gt;\n\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;cstr6suwn9.skadnetwork&lt;/string&gt;\n</code></pre>\n<p>In the <code>robovm.xml</code> file I add the following:</p>\n<pre><code>&lt;frameworkPaths&gt;\n    &lt;path&gt;libs&lt;/path&gt;\n    &lt;path variant=&quot;device&quot;&gt;arm_libs&lt;/path&gt;\n    &lt;path variant=&quot;simulator&quot;&gt;sim_libs&lt;/path&gt;\n  &lt;/frameworkPaths&gt;\n\n&lt;frameworks&gt;\n....\n&lt;!--    googleMobileAdsASKiOS 9.5.0--&gt;\n    &lt;framework&gt;GoogleAppMeasurement&lt;/framework&gt;\n    &lt;framework&gt;GoogleMobileAds&lt;/framework&gt;\n    &lt;framework&gt;GoogleUtilities&lt;/framework&gt;\n    &lt;framework&gt;nanopb&lt;/framework&gt;\n    &lt;framework&gt;PromisesObjC&lt;/framework&gt;\n    &lt;framework&gt;UserMessagingPlatform&lt;/framework&gt;\n    &lt;framework&gt;GoogleAppMeasurementIdentitySupport&lt;/framework&gt;\n\n  &lt;/frameworks&gt;\n</code></pre>\n<p>Then I launch in my physical device (iPhone 8) and I get the following error:</p>\n<pre><code>[ERROR] 14:44:17.979 Undefined symbols for architecture arm64:\n[ERROR] 14:44:17.980   &quot;_OBJC_CLASS_$_GADInterstitial&quot;, referenced from:\n[ERROR] 14:44:17.981       objc-class-ref in libGGLAdMob.a(GGLContext+AdMob.o)\n[ERROR] 14:44:18.114      (maybe you meant: _OBJC_CLASS_$_GADInterstitialAd)\n[ERROR] 14:44:18.157 ld: symbol(s) not found for architecture arm64\n[ERROR] 14:44:18.180 clang: error: linker command failed with exit code 1 (use -v to see invocation)\n[ERROR] Couldn't compile app\n....\n</code></pre>\n<p>I have tried many different solutions I have found online, but nothing seems to work.\nAny help would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","swing","actionlistener","repaint"],"comments":[{"owner":{"display_name":"user1959349"},"score":0,"creation_date":1377887407,"post_id":18539208,"comment_id":27268187,"body_markdown":"What text are you trying to update? The startStopButton or one of the two JLabels?","body":"What text are you trying to update? The startStopButton or one of the two JLabels?"},{"owner":{"account_id":3084149,"reputation":6047,"user_id":2611688,"accept_rate":93,"display_name":"austinthemassive"},"score":0,"creation_date":1377887628,"post_id":18539208,"comment_id":27268311,"body_markdown":"I want the Labels to be added graphically as soon as possible (I stripped out a bunch of processing that must take place before a label is created, and the user needs to know right now what is happening).","body":"I want the Labels to be added graphically as soon as possible (I stripped out a bunch of processing that must take place before a label is created, and the user needs to know right now what is happening)."},{"owner":{"display_name":"user1959349"},"score":0,"creation_date":1377888246,"post_id":18539208,"comment_id":27268597,"body_markdown":"Try leaving the remove() method out and setVisible() to check and see if the JLabels will appear although the button is still visible. Or you could try adding everything first with the two JLabels set as not visible then instead of adding them from the button set them to be visible and repaint().","body":"Try leaving the remove() method out and setVisible() to check and see if the JLabels will appear although the button is still visible. Or you could try adding everything first with the two JLabels set as not visible then instead of adding them from the button set them to be visible and repaint()."},{"owner":{"account_id":3084149,"reputation":6047,"user_id":2611688,"accept_rate":93,"display_name":"austinthemassive"},"score":0,"creation_date":1377888452,"post_id":18539208,"comment_id":27268700,"body_markdown":"The button visibility changed nothing.  Also, I cannot add everything invisibly since this is dynamic code (it has to process an initially unknown amount of variables and create an output from them).  Thanks for the suggestions though.","body":"The button visibility changed nothing.  Also, I cannot add everything invisibly since this is dynamic code (it has to process an initially unknown amount of variables and create an output from them).  Thanks for the suggestions though."}],"answers":[{"tags":[],"owner":{"account_id":3179594,"reputation":729,"user_id":2686650,"display_name":"Surveon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1377887047,"creation_date":1377887047,"answer_id":18539247,"question_id":18539208,"body_markdown":"The action listener is being executed on the [Event Dispatch Thread](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html). For tasks like that, consider using a [SwingWorker](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html).\r\n\r\nThis would allow you to process your logic without blocking the updates (and thus the repaints) of the JFrame. \r\n\r\nAt a high level, this is what I mean:\r\n\r\n    startStopButton.addActionListener(new ActionListener(){@Override public void         actionPerformed(ActionEvent event){\r\n         if(startStopButton.getText()==&quot;Start&quot;){\r\n              // Start SwingWorker to perform whatever is supposed to happen here.\r\n         }\r\n\r\nYou can find some information on how to use `SwingWorker` [here](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html), should you need it.","title":"Refreshing a JFrame while in an Action Listener","body":"<p>The action listener is being executed on the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow\">Event Dispatch Thread</a>. For tasks like that, consider using a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html\" rel=\"nofollow\">SwingWorker</a>.</p>\n\n<p>This would allow you to process your logic without blocking the updates (and thus the repaints) of the JFrame. </p>\n\n<p>At a high level, this is what I mean:</p>\n\n<pre><code>startStopButton.addActionListener(new ActionListener(){@Override public void         actionPerformed(ActionEvent event){\n     if(startStopButton.getText()==\"Start\"){\n          // Start SwingWorker to perform whatever is supposed to happen here.\n     }\n</code></pre>\n\n<p>You can find some information on how to use <code>SwingWorker</code> <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow\">here</a>, should you need it.</p>\n"}],"owner":{"account_id":3084149,"reputation":6047,"user_id":2611688,"accept_rate":93,"display_name":"austinthemassive"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18539247,"answer_count":1,"score":1,"last_activity_date":1664030268,"creation_date":1377886899,"question_id":18539208,"body_markdown":"The code snippet below sets text in a JLabel, which is added to a JPanel, which is attached to a JFrame.  No matter what I do though (such as repaint(), revalidate(), etc) I cannot get the UI to update the text until the Action Listener is done.  \r\n\r\nI have never had this problem before, possible because I have never had to have several things happen in a single firing of Action Listener.  What am I missing?\r\n\r\nTL;DR Why does the following not update the text on the screen until it has finished firing the Action Listener, even if I put in repaint() after each listPanel.add()?\r\n\r\n    final JFrame guiFrame = new JFrame();\r\n    final JPanel listPanel = new JPanel();\r\n    listPanel.setVisible(true);\r\n    final JLabel listLbl = new JLabel(&quot;Welcome&quot;);\r\n    listPanel.add(listLbl);\r\n    \r\n    startStopButton.addActionListener(new ActionListener(){@Override public void         actionPerformed(ActionEvent event){\r\n\t     if(startStopButton.getText()==&quot;Start&quot;){\r\n                    startStopButton.setVisible(false);\r\n                    listPanel.remove(0);\r\n\r\n\t     JLabel listLbl2 = new JLabel(&quot;Could not contact”);\r\n                    listPanel.add(listLbl2);\r\n\r\n\t     JLabel listLbl2 = new JLabel(&quot;Success”);\r\n                    listPanel.add(listLbl2);\r\n\t     }\r\n    }\r\n    guiFrame.setResizable(false);\r\n    guiFrame.add(listPanel, BorderLayout.LINE_START);\r\n    guiFrame.add(startStopButton, BorderLayout.PAGE_END);\r\n        \r\n    //make sure the JFrame is visible\r\n    guiFrame.setVisible(true);\r\n\r\n\r\n**EDIT:**\r\nI attempted to implement SwingWorker, but still the interface is not updating until the action interface finishes firing.  Here is my SwingWorker code:\r\n\r\n    @Override\r\n    protected Integer doInBackground() throws Exception{\r\n        //Downloads and unzips the first video.  \r\n        if(cameraBoolean==true)\r\n            panel.add(this.downloadRecording(camera, recording));\r\n        else\r\n            panel.add(new JLabel(&quot;Could not contact camera &quot;+camera.getName()));\r\n        \r\n        panel.repaint();\r\n        jframe.repaint();\r\n        return 1;\r\n    }\r\n\r\n    private JLabel downloadRecording(Camera camera, Recording recording){\r\n        //does a bunch of calculations and returns a jLabel, and works correctly\r\n    }\r\n\r\n    protected void done(){\r\n        try{\r\n            Date currentTime = new Timestamp(Calendar.getInstance().getTime().getTime());\r\n            JOptionPane.showMessageDialog(jframe, &quot;Camera &quot;+camera.getName()+&quot; finished downloading at &quot;+currentTime.getTime());\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nBasically, SwingWorker (as I implemented it) is not properly updating the JPanel and JFrame.  If I try to do the repaint in the &quot;done()&quot;, they are not updated either.  What am I missing?\r\n\r\nAdditionally, as soon as the JOptionPane displays itself, no more panels can be added to my jframe.  I am unsure what is causing that either.","title":"Refreshing a JFrame while in an Action Listener","body":"<p>The code snippet below sets text in a JLabel, which is added to a JPanel, which is attached to a JFrame.  No matter what I do though (such as repaint(), revalidate(), etc) I cannot get the UI to update the text until the Action Listener is done.  </p>\n\n<p>I have never had this problem before, possible because I have never had to have several things happen in a single firing of Action Listener.  What am I missing?</p>\n\n<p>TL;DR Why does the following not update the text on the screen until it has finished firing the Action Listener, even if I put in repaint() after each listPanel.add()?</p>\n\n<pre><code>final JFrame guiFrame = new JFrame();\nfinal JPanel listPanel = new JPanel();\nlistPanel.setVisible(true);\nfinal JLabel listLbl = new JLabel(\"Welcome\");\nlistPanel.add(listLbl);\n\nstartStopButton.addActionListener(new ActionListener(){@Override public void         actionPerformed(ActionEvent event){\n     if(startStopButton.getText()==\"Start\"){\n                startStopButton.setVisible(false);\n                listPanel.remove(0);\n\n     JLabel listLbl2 = new JLabel(\"Could not contact”);\n                listPanel.add(listLbl2);\n\n     JLabel listLbl2 = new JLabel(\"Success”);\n                listPanel.add(listLbl2);\n     }\n}\nguiFrame.setResizable(false);\nguiFrame.add(listPanel, BorderLayout.LINE_START);\nguiFrame.add(startStopButton, BorderLayout.PAGE_END);\n\n//make sure the JFrame is visible\nguiFrame.setVisible(true);\n</code></pre>\n\n<p><strong>EDIT:</strong>\nI attempted to implement SwingWorker, but still the interface is not updating until the action interface finishes firing.  Here is my SwingWorker code:</p>\n\n<pre><code>@Override\nprotected Integer doInBackground() throws Exception{\n    //Downloads and unzips the first video.  \n    if(cameraBoolean==true)\n        panel.add(this.downloadRecording(camera, recording));\n    else\n        panel.add(new JLabel(\"Could not contact camera \"+camera.getName()));\n\n    panel.repaint();\n    jframe.repaint();\n    return 1;\n}\n\nprivate JLabel downloadRecording(Camera camera, Recording recording){\n    //does a bunch of calculations and returns a jLabel, and works correctly\n}\n\nprotected void done(){\n    try{\n        Date currentTime = new Timestamp(Calendar.getInstance().getTime().getTime());\n        JOptionPane.showMessageDialog(jframe, \"Camera \"+camera.getName()+\" finished downloading at \"+currentTime.getTime());\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Basically, SwingWorker (as I implemented it) is not properly updating the JPanel and JFrame.  If I try to do the repaint in the \"done()\", they are not updated either.  What am I missing?</p>\n\n<p>Additionally, as soon as the JOptionPane displays itself, no more panels can be added to my jframe.  I am unsure what is causing that either.</p>\n"},{"tags":["java","html","spring","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663954018,"creation_date":1663954018,"answer_id":73831126,"question_id":73830813,"body_markdown":"I found the solution while trying things.\r\nAdding a **+** sign between url and *{owner.id} did it for me!","title":"Thymeleaf turns variable as &#39;*{id}&#39;","body":"<p>I found the solution while trying things.\nAdding a <strong>+</strong> sign between url and *{owner.id} did it for me!</p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664029824,"creation_date":1664029824,"answer_id":73837998,"question_id":73830813,"body_markdown":"Change:\r\n\r\n    &lt;form th:action=&quot;@{/api/v1/owners/updateOwnerForm/*{owner.id}}&quot;\r\n\r\nto:\r\n\r\n    &lt;form th:action=&quot;@{/api/v1/owners/updateOwnerForm/{id}(id=${owner.id})}&quot;\r\n\r\nSee [String concatenation with Thymeleaf][1] for more info.\r\n\r\n\r\n  [1]: https://www.wimdeblauwe.com/blog/2021/01/11/string-concatenation-with-thymeleaf/","title":"Thymeleaf turns variable as &#39;*{id}&#39;","body":"<p>Change:</p>\n<pre><code>&lt;form th:action=&quot;@{/api/v1/owners/updateOwnerForm/*{owner.id}}&quot;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;form th:action=&quot;@{/api/v1/owners/updateOwnerForm/{id}(id=${owner.id})}&quot;\n</code></pre>\n<p>See <a href=\"https://www.wimdeblauwe.com/blog/2021/01/11/string-concatenation-with-thymeleaf/\" rel=\"nofollow noreferrer\">String concatenation with Thymeleaf</a> for more info.</p>\n"}],"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664029824,"creation_date":1663951785,"question_id":73830813,"body_markdown":"This is my update method for updating an owner.\r\nBut I am getting an error **Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;** because it doesn&#39;t gives me the Long value. \r\n\r\n```\r\n  public Owner updateOwner(Long id, OwnerDTO ownerDTO){\r\n        Optional&lt;Owner&gt; byId= ownerRepository.findById(id);\r\n        if(!byId.isPresent()){\r\n            return null;\r\n        }\r\n        Owner updatedOwner = byId.get();\r\n        if(!StringUtils.isEmpty(ownerDTO.getPhoneNumber())){\r\n            updatedOwner.setPhoneNumber(ownerDTO.getPhoneNumber());\r\n        }\r\n        if(!StringUtils.isEmpty(ownerDTO.getMail())){\r\n            updatedOwner.setMail(ownerDTO.getMail());\r\n        }\r\n        if(!StringUtils.isEmpty(ownerDTO.getFirstName())){\r\n            updatedOwner.setFirstName(ownerDTO.getFirstName());\r\n        }\r\n        if(!StringUtils.isEmpty(ownerDTO.getLastName())){\r\n            updatedOwner.setLastName(ownerDTO.getLastName());\r\n        }\r\n\r\n        return ownerRepository.save(updatedOwner);\r\n    }\r\n```\r\n\r\nThis is my html \r\n\r\n```\r\n &lt;h2&gt;Update Owner&lt;/h2&gt;\r\n    &lt;hr/&gt;\r\n    &lt;form th:action=&quot;@{/api/v1/owners/updateOwnerForm/*{owner.id}}&quot; th:object=&quot;${owner}&quot; method=&quot;put&quot;&gt;\r\n        &lt;input name=&quot;_method&quot; type=&quot;hidden&quot; value=&quot;put&quot; /&gt;\r\n\r\n        &lt;input type=&quot;text&quot; th:field=&quot;*{firstName}&quot; placeholder=&quot;Enter name&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n        &lt;input type=&quot;text&quot; th:field=&quot;*{lastName}&quot; placeholder=&quot;Enter surname&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n        &lt;input type=&quot;text&quot; th:field=&quot;*{phoneNumber}&quot; placeholder=&quot;Enter phone number&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n        &lt;input type=&quot;text&quot; th:field=&quot;*{mail}&quot; placeholder=&quot;Enter salary&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n\r\n        &lt;button th:href=&quot;@{/api/v1/owners/showList}&quot; class=&quot;btn btn-primary col-2&quot; type=&quot;submit&quot;&gt;Update&lt;/button&gt;\r\n\r\n    &lt;/form&gt;\r\n    &lt;hr/&gt;\r\n    &lt;a th:href=&quot;@{/api/v1/owners/showList}&quot;&gt;Back to list&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThe **owner.id** part doesn&#39;t appears as Long instead it appears as **{owner.id}**\r\n\r\nHow to solve this issue? Any ideas?","title":"Thymeleaf turns variable as &#39;*{id}&#39;","body":"<p>This is my update method for updating an owner.\nBut I am getting an error <strong>Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'</strong> because it doesn't gives me the Long value.</p>\n<pre><code>  public Owner updateOwner(Long id, OwnerDTO ownerDTO){\n        Optional&lt;Owner&gt; byId= ownerRepository.findById(id);\n        if(!byId.isPresent()){\n            return null;\n        }\n        Owner updatedOwner = byId.get();\n        if(!StringUtils.isEmpty(ownerDTO.getPhoneNumber())){\n            updatedOwner.setPhoneNumber(ownerDTO.getPhoneNumber());\n        }\n        if(!StringUtils.isEmpty(ownerDTO.getMail())){\n            updatedOwner.setMail(ownerDTO.getMail());\n        }\n        if(!StringUtils.isEmpty(ownerDTO.getFirstName())){\n            updatedOwner.setFirstName(ownerDTO.getFirstName());\n        }\n        if(!StringUtils.isEmpty(ownerDTO.getLastName())){\n            updatedOwner.setLastName(ownerDTO.getLastName());\n        }\n\n        return ownerRepository.save(updatedOwner);\n    }\n</code></pre>\n<p>This is my html</p>\n<pre><code> &lt;h2&gt;Update Owner&lt;/h2&gt;\n    &lt;hr/&gt;\n    &lt;form th:action=&quot;@{/api/v1/owners/updateOwnerForm/*{owner.id}}&quot; th:object=&quot;${owner}&quot; method=&quot;put&quot;&gt;\n        &lt;input name=&quot;_method&quot; type=&quot;hidden&quot; value=&quot;put&quot; /&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{firstName}&quot; placeholder=&quot;Enter name&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{lastName}&quot; placeholder=&quot;Enter surname&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{phoneNumber}&quot; placeholder=&quot;Enter phone number&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n        &lt;input type=&quot;text&quot; th:field=&quot;*{mail}&quot; placeholder=&quot;Enter salary&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n\n        &lt;button th:href=&quot;@{/api/v1/owners/showList}&quot; class=&quot;btn btn-primary col-2&quot; type=&quot;submit&quot;&gt;Update&lt;/button&gt;\n\n    &lt;/form&gt;\n    &lt;hr/&gt;\n    &lt;a th:href=&quot;@{/api/v1/owners/showList}&quot;&gt;Back to list&lt;/a&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The <strong>owner.id</strong> part doesn't appears as Long instead it appears as <strong>{owner.id}</strong></p>\n<p>How to solve this issue? Any ideas?</p>\n"},{"tags":["java","enums","enumeration"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1286530572,"post_id":3889248,"comment_id":4141578,"body_markdown":"Is there a special reason why you want to use something other than the name() of the Enum for looking them up? That would confuse a lot of people, and you also cannot use a simple `Category.valueOf(name)`.","body":"Is there a special reason why you want to use something other than the name() of the Enum for looking them up? That would confuse a lot of people, and you also cannot use a simple <code>Category.valueOf(name)</code>."},{"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"score":0,"creation_date":1526646784,"post_id":3889248,"comment_id":87838172,"body_markdown":"Really can we make it more generic? I am using a lot of `nameOf(String name)`, now for each I will write a `*Enum.values().stream().filter(...).findAny().get()`, which is so annoying.","body":"Really can we make it more generic? I am using a lot of <code>nameOf(String name)</code>, now for each I will write a <code>*Enum.values().stream().filter(...).findAny().get()</code>, which is so annoying."}],"answers":[{"tags":[],"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1381852043,"creation_date":1286529995,"answer_id":3889278,"question_id":3889248,"body_markdown":"You should replace your `getEnumNameForValue` by a call to the [`name()`][1] method.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html#name()","title":"Java getting the Enum name given the Enum Value","body":"<p>You should replace your <code>getEnumNameForValue</code> by a call to the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html#name()\" rel=\"noreferrer\"><code>name()</code></a> method.</p>\n"},{"tags":[],"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"down_vote_count":3,"up_vote_count":51,"is_accepted":false,"score":48,"last_activity_date":1578668157,"creation_date":1371289380,"answer_id":17122247,"question_id":3889248,"body_markdown":"Try below code \r\n\r\n    public enum SalaryHeadMasterEnum {\r\n    \r\n        BASIC_PAY(&quot;basic pay&quot;),\r\n        MEDICAL_ALLOWANCE(&quot;Medical Allowance&quot;);\r\n    \r\n        private String name;\r\n    \r\n        private SalaryHeadMasterEnum(String stringVal) {\r\n            name=stringVal;\r\n        }\r\n        public String toString(){\r\n            return name;\r\n        }\r\n    \r\n        public static String getEnumByString(String code){\r\n            for(SalaryHeadMasterEnum e : SalaryHeadMasterEnum.values()){\r\n                if(e.name.equals(code)) return e.name();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nNow you can use below code to retrieve the Enum by Value\r\n\r\n    SalaryHeadMasterEnum.getEnumByString(&quot;Basic Pay&quot;)\r\n\r\nUse Below code to get ENUM as String \r\n\r\n    SalaryHeadMasterEnum.BASIC_PAY.name()\r\n\r\nUse below code to get string Value for enum \r\n\r\n    SalaryHeadMasterEnum.BASIC_PAY.toString()\r\n","title":"Java getting the Enum name given the Enum Value","body":"<p>Try below code </p>\n\n<pre><code>public enum SalaryHeadMasterEnum {\n\n    BASIC_PAY(\"basic pay\"),\n    MEDICAL_ALLOWANCE(\"Medical Allowance\");\n\n    private String name;\n\n    private SalaryHeadMasterEnum(String stringVal) {\n        name=stringVal;\n    }\n    public String toString(){\n        return name;\n    }\n\n    public static String getEnumByString(String code){\n        for(SalaryHeadMasterEnum e : SalaryHeadMasterEnum.values()){\n            if(e.name.equals(code)) return e.name();\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>Now you can use below code to retrieve the Enum by Value</p>\n\n<pre><code>SalaryHeadMasterEnum.getEnumByString(\"Basic Pay\")\n</code></pre>\n\n<p>Use Below code to get ENUM as String </p>\n\n<pre><code>SalaryHeadMasterEnum.BASIC_PAY.name()\n</code></pre>\n\n<p>Use below code to get string Value for enum </p>\n\n<pre><code>SalaryHeadMasterEnum.BASIC_PAY.toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7985411,"reputation":61,"user_id":6025117,"display_name":"Javaci"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476961630,"creation_date":1476961630,"answer_id":40152693,"question_id":3889248,"body_markdown":"Try, the following code..\r\n        \r\n        @Override\r\n        public String toString() {\r\n        return this.name();\r\n        }","title":"Java getting the Enum name given the Enum Value","body":"<p>Try, the following code..</p>\n\n<pre><code>    @Override\n    public String toString() {\n    return this.name();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3643831,"reputation":103,"user_id":3037356,"accept_rate":40,"display_name":"Do It"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504859317,"creation_date":1504855681,"answer_id":46110949,"question_id":3889248,"body_markdown":"Here is the below code, it will return the Enum name from Enum value.\r\n\r\n    public enum Test {\r\n    \r\n    \tPLUS(&quot;Plus One&quot;), MINUS(&quot;MinusTwo&quot;), TIMES(&quot;MultiplyByFour&quot;), DIVIDE(\r\n    \t\t\t&quot;DivideByZero&quot;);\r\n    \tprivate String operationName;\r\n    \r\n    \tprivate Test(final String operationName) {\r\n    \t\tsetOperationName(operationName);\r\n    \t}\r\n    \r\n    \tpublic String getOperationName() {\r\n    \t\treturn operationName;\r\n    \t}\r\n    \r\n    \tpublic void setOperationName(final String operationName) {\r\n    \t\tthis.operationName = operationName;\r\n    \t}\r\n    \r\n    \tpublic static Test getOperationName(final String operationName) {\r\n    \r\n    \t\tfor (Test oprname : Test.values()) {\r\n    \t\t\tif (operationName.equals(oprname.toString())) {\r\n    \t\t\t\treturn oprname;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn operationName;\r\n    \t}\r\n    }\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tTest test = Test.getOperationName(&quot;Plus One&quot;);\r\n    \t\tswitch (test) {\r\n    \t\tcase PLUS:\r\n    \t\t\tSystem.out.println(&quot;Plus.....&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase MINUS:\r\n    \t\t\tSystem.out.println(&quot;Minus.....&quot;);\r\n    \t\t\tbreak;\r\n    \r\n    \t\tdefault:\r\n    \t\t\tSystem.out.println(&quot;Nothing..&quot;);\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Java getting the Enum name given the Enum Value","body":"<p>Here is the below code, it will return the Enum name from Enum value.</p>\n\n<pre><code>public enum Test {\n\n    PLUS(\"Plus One\"), MINUS(\"MinusTwo\"), TIMES(\"MultiplyByFour\"), DIVIDE(\n            \"DivideByZero\");\n    private String operationName;\n\n    private Test(final String operationName) {\n        setOperationName(operationName);\n    }\n\n    public String getOperationName() {\n        return operationName;\n    }\n\n    public void setOperationName(final String operationName) {\n        this.operationName = operationName;\n    }\n\n    public static Test getOperationName(final String operationName) {\n\n        for (Test oprname : Test.values()) {\n            if (operationName.equals(oprname.toString())) {\n                return oprname;\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public String toString() {\n        return operationName;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Test test = Test.getOperationName(\"Plus One\");\n        switch (test) {\n        case PLUS:\n            System.out.println(\"Plus.....\");\n            break;\n        case MINUS:\n            System.out.println(\"Minus.....\");\n            break;\n\n        default:\n            System.out.println(\"Nothing..\");\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10433981,"reputation":11,"user_id":7692900,"display_name":"alps_ren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573764576,"creation_date":1573764272,"answer_id":58866216,"question_id":3889248,"body_markdown":"In such cases, you can convert the values of enum to a List and stream through it. \r\nSomething like below examples. I would recommend using **filter()**.\r\n\r\n**Using ForEach**:\r\n\r\n    List&lt;Category&gt; category = Arrays.asList(Category.values());\r\n    category.stream().forEach(eachCategory -&gt; {\r\n    \t\t\tif(eachCategory.toString().equals(&quot;3&quot;)){\r\n    \t\t\t\tString name = eachCategory.name();\r\n    \t\t\t}\r\n    \t\t});\r\n\r\n**Or, using Filter**:\r\n\r\nWhen you want to find with code:\r\n\r\n    List&lt;Category&gt; categoryList = Arrays.asList(Category.values());\r\n    Category category = categoryList.stream().filter(eachCategory -&gt; eachCategory.toString().equals(&quot;3&quot;)).findAny().orElse(null);\r\n        \r\n    System.out.println(category.toString() + &quot; &quot; + category.name());\r\n\r\nWhen you want to find with name:\r\n\r\n    List&lt;Category&gt; categoryList = Arrays.asList(Category.values());\r\n    Category category = categoryList.stream().filter(eachCategory -&gt; eachCategory.name().equals(&quot;Apple&quot;)).findAny().orElse(null);\r\n    \r\n    System.out.println(category.toString() + &quot; &quot; + category.name());\r\n\r\n\r\nHope it helps! I know this is a very old post, but someone can get help.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java getting the Enum name given the Enum Value","body":"<p>In such cases, you can convert the values of enum to a List and stream through it. \nSomething like below examples. I would recommend using <strong>filter()</strong>.</p>\n\n<p><strong>Using ForEach</strong>:</p>\n\n<pre><code>List&lt;Category&gt; category = Arrays.asList(Category.values());\ncategory.stream().forEach(eachCategory -&gt; {\n            if(eachCategory.toString().equals(\"3\")){\n                String name = eachCategory.name();\n            }\n        });\n</code></pre>\n\n<p><strong>Or, using Filter</strong>:</p>\n\n<p>When you want to find with code:</p>\n\n<pre><code>List&lt;Category&gt; categoryList = Arrays.asList(Category.values());\nCategory category = categoryList.stream().filter(eachCategory -&gt; eachCategory.toString().equals(\"3\")).findAny().orElse(null);\n\nSystem.out.println(category.toString() + \" \" + category.name());\n</code></pre>\n\n<p>When you want to find with name:</p>\n\n<pre><code>List&lt;Category&gt; categoryList = Arrays.asList(Category.values());\nCategory category = categoryList.stream().filter(eachCategory -&gt; eachCategory.name().equals(\"Apple\")).findAny().orElse(null);\n\nSystem.out.println(category.toString() + \" \" + category.name());\n</code></pre>\n\n<p>Hope it helps! I know this is a very old post, but someone can get help.</p>\n"},{"tags":[],"owner":{"account_id":7672505,"reputation":1,"user_id":5814267,"display_name":"Aadil Minhaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651457838,"creation_date":1651400582,"answer_id":72075855,"question_id":3889248,"body_markdown":"I believe it&#39;s better to provide the required method in the enum itself. This is how I fetch Enum Name for a given value. This works for CONSTANT(&quot;value&quot;) type of enums.\r\n\r\n```java\r\npublic enum WalletType {\r\n    UPI(&quot;upi-paymode&quot;),\r\n    PAYTM(&quot;paytm-paymode&quot;),\r\n    GPAY(&quot;google-pay&quot;);\r\n\r\n    private String walletType;\r\n        WalletType(String walletType) {\r\n            this.walletType = walletType;\r\n        }\r\n    \r\n    public String getWalletType() {\r\n        return walletTypeValue;\r\n    }\r\n    \r\n    public WalletType getByValue(String value) {\r\n        return Arrays.stream(WalletType.values()).filter(wallet -&gt; wallet.getWalletType().equalsIgnoreCase(value)).findFirst().get();\r\n    }\r\n}\r\n```\r\n\r\ne.g. `WalletType.getByValue(&quot;google-pay&quot;).name()` \r\nthis will give you - GPAY","title":"Java getting the Enum name given the Enum Value","body":"<p>I believe it's better to provide the required method in the enum itself. This is how I fetch Enum Name for a given value. This works for CONSTANT(&quot;value&quot;) type of enums.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum WalletType {\n    UPI(&quot;upi-paymode&quot;),\n    PAYTM(&quot;paytm-paymode&quot;),\n    GPAY(&quot;google-pay&quot;);\n\n    private String walletType;\n        WalletType(String walletType) {\n            this.walletType = walletType;\n        }\n    \n    public String getWalletType() {\n        return walletTypeValue;\n    }\n    \n    public WalletType getByValue(String value) {\n        return Arrays.stream(WalletType.values()).filter(wallet -&gt; wallet.getWalletType().equalsIgnoreCase(value)).findFirst().get();\n    }\n}\n</code></pre>\n<p>e.g. <code>WalletType.getByValue(&quot;google-pay&quot;).name()</code>\nthis will give you - GPAY</p>\n"},{"tags":[],"owner":{"account_id":5770525,"reputation":11,"user_id":4554083,"display_name":"nilesh parmar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664029540,"creation_date":1664029433,"answer_id":73837953,"question_id":3889248,"body_markdown":"    enum MyEnum {\r\n        ENUM_A(&quot;A&quot;),\r\n        ENUM_B(&quot;B&quot;);\r\n    \r\n        private String name;\r\n       \r\n        private static final Map&lt;String,MyEnum&gt; unmodifiableMap;\r\n    \r\n        MyEnum (String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    \r\n        static {\r\n            Map&lt;String,MyEnum&gt; map = new ConcurrentHashMap&lt;String, MyEnum&gt;();\r\n            for (MyEnum instance : MyEnum.values()) {\r\n                map.put(instance.getName().toLowerCase(),instance);\r\n            }\r\n            unmodifiableMap = Collections.unmodifiableMap(map);\r\n        }\r\n        public static MyEnum get (String name) {\r\n            return unmodifiableMap.get(name.toLowerCase());\r\n        }\r\n    }\r\n\r\nNow you can use below code to retrieve the Enum by Value\r\n\r\nMyEnum.get(&quot;A&quot;);","title":"Java getting the Enum name given the Enum Value","body":"<pre><code>enum MyEnum {\n    ENUM_A(&quot;A&quot;),\n    ENUM_B(&quot;B&quot;);\n\n    private String name;\n   \n    private static final Map&lt;String,MyEnum&gt; unmodifiableMap;\n\n    MyEnum (String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    static {\n        Map&lt;String,MyEnum&gt; map = new ConcurrentHashMap&lt;String, MyEnum&gt;();\n        for (MyEnum instance : MyEnum.values()) {\n            map.put(instance.getName().toLowerCase(),instance);\n        }\n        unmodifiableMap = Collections.unmodifiableMap(map);\n    }\n    public static MyEnum get (String name) {\n        return unmodifiableMap.get(name.toLowerCase());\n    }\n}\n</code></pre>\n<p>Now you can use below code to retrieve the Enum by Value</p>\n<p>MyEnum.get(&quot;A&quot;);</p>\n"}],"owner":{"account_id":659694,"reputation":671,"user_id":470079,"display_name":"Julia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205702,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"answer_count":7,"score":67,"last_activity_date":1664029540,"creation_date":1286529807,"question_id":3889248,"body_markdown":"How can I get the name of a Java Enum type given its value?\r\n\r\nI have the following code which works for a **particular** Enum type, can I make it more **generic**?\r\n\r\n\tpublic enum Category {\r\n\r\n        APPLE(&quot;3&quot;), \r\n        ORANGE(&quot;1&quot;), \r\n\r\n\t\tprivate final String identifier;\r\n\r\n        private Category(String identifier) {\r\n\t\t    this.identifier = identifier;\r\n\t\t}\r\n\r\n\t\tpublic String toString() {\r\n\t\t\treturn identifier;\r\n\t\t}\r\n\t\t \r\n\t\tpublic static String getEnumNameForValue(Object value){\r\n            Category[] values = Category.values();\r\n\t\t    String enumValue = null;\r\n\t\t    for(Category eachValue : values) {\r\n\t\t        enumValue = eachValue.toString();\r\n\r\n\t\t        if (enumValue.equalsIgnoreCase(value)) {\r\n\t\t            return eachValue.name();\r\n                }\r\n\t\t    }\r\n            return enumValue;\r\n        }\r\n\t}\r\n\r\n","title":"Java getting the Enum name given the Enum Value","body":"<p>How can I get the name of a Java Enum type given its value?</p>\n\n<p>I have the following code which works for a <strong>particular</strong> Enum type, can I make it more <strong>generic</strong>?</p>\n\n<pre><code>public enum Category {\n\n    APPLE(\"3\"), \n    ORANGE(\"1\"), \n\n    private final String identifier;\n\n    private Category(String identifier) {\n        this.identifier = identifier;\n    }\n\n    public String toString() {\n        return identifier;\n    }\n\n    public static String getEnumNameForValue(Object value){\n        Category[] values = Category.values();\n        String enumValue = null;\n        for(Category eachValue : values) {\n            enumValue = eachValue.toString();\n\n            if (enumValue.equalsIgnoreCase(value)) {\n                return eachValue.name();\n            }\n        }\n        return enumValue;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1664031396,"post_id":73837944,"comment_id":130380720,"body_markdown":"You already found a bug, which is not marked as resolved or anything. I don&#39;t think there is anything you can do.","body":"You already found a bug, which is not marked as resolved or anything. I don&#39;t think there is anything you can do."}],"owner":{"account_id":26431518,"reputation":11,"user_id":20077615,"display_name":"bremivo33"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664029293,"creation_date":1664029293,"question_id":73837944,"body_markdown":"I&#39;m trying to work with the Java bluetooth library tinyb and I have a spring boot project where I imported the tinyb library like that.\r\n```\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openhab.osgiify/intel-iot-devkit.tinyb --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openhab.osgiify&lt;/groupId&gt;\r\n            &lt;artifactId&gt;intel-iot-devkit.tinyb&lt;/artifactId&gt;\r\n            &lt;version&gt;0.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nNow when I want to use this [example](https://github.com/intel-iot-devkit/tinyb/blob/master/examples/java/HelloTinyB.java) program I keep getting a Nullpointer in the BluetoothManager.class\r\n\r\n\r\nThe Problem is, that BluetoothManager.class.getPackage().getSpecificationVersion(); returns Null.\r\nThis [issue](https://github.com/intel-iot-devkit/tinyb/issues/67) seems to have a similiar problem, though for me it happens when I run the program in Intellij via SSH on my raspberry pi\r\n\r\nWould be grateful for any advise how to fix this :)\r\n\r\n(this throws the Nullpointer for me at var1 = ...w)\r\n```\r\n    public static synchronized BluetoothManager getBluetoothManager() throws RuntimeException, BluetoothException {\r\n        if (inst == null) {\r\n            String var0 = getNativeAPIVersion();\r\n            String var1 = BluetoothManager.class.getPackage().getSpecificationVersion();\r\n            if (!var1.equals(var0)) {\r\n                String[] var2 = var0.split(&quot;\\\\D&quot;);\r\n```","title":"class.getPackage().getSpecificationVersion() gives me a NullPointer tinyb","body":"<p>I'm trying to work with the Java bluetooth library tinyb and I have a spring boot project where I imported the tinyb library like that.</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.openhab.osgiify/intel-iot-devkit.tinyb --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openhab.osgiify&lt;/groupId&gt;\n            &lt;artifactId&gt;intel-iot-devkit.tinyb&lt;/artifactId&gt;\n            &lt;version&gt;0.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Now when I want to use this <a href=\"https://github.com/intel-iot-devkit/tinyb/blob/master/examples/java/HelloTinyB.java\" rel=\"nofollow noreferrer\">example</a> program I keep getting a Nullpointer in the BluetoothManager.class</p>\n<p>The Problem is, that BluetoothManager.class.getPackage().getSpecificationVersion(); returns Null.\nThis <a href=\"https://github.com/intel-iot-devkit/tinyb/issues/67\" rel=\"nofollow noreferrer\">issue</a> seems to have a similiar problem, though for me it happens when I run the program in Intellij via SSH on my raspberry pi</p>\n<p>Would be grateful for any advise how to fix this :)</p>\n<p>(this throws the Nullpointer for me at var1 = ...w)</p>\n<pre><code>    public static synchronized BluetoothManager getBluetoothManager() throws RuntimeException, BluetoothException {\n        if (inst == null) {\n            String var0 = getNativeAPIVersion();\n            String var1 = BluetoothManager.class.getPackage().getSpecificationVersion();\n            if (!var1.equals(var0)) {\n                String[] var2 = var0.split(&quot;\\\\D&quot;);\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":3,"creation_date":1381875821,"post_id":19391872,"comment_id":28742178,"body_markdown":"That can&#39;t work, regardless of which build system is used. Either you have to compile `ClassOne` and `ClassTwo` together, or first `ClassOne` and then `ClassTwo` (with `ClassOne` on the class path). Also, I don&#39;t understand your motivation for compiling them separately.","body":"That can&#39;t work, regardless of which build system is used. Either you have to compile <code>ClassOne</code> and <code>ClassTwo</code> together, or first <code>ClassOne</code> and then <code>ClassTwo</code> (with <code>ClassOne</code> on the class path). Also, I don&#39;t understand your motivation for compiling them separately."},{"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"score":0,"creation_date":1381879994,"post_id":19391872,"comment_id":28743456,"body_markdown":"Hi @PeterNiederwieser , what do you mean regardless of which build system is used it wont work? I can assure you that the examples above with both javac on the commandline and the provided ant build script _DO_ work. Feel free to copy the files into the above folder structure and attempt the ant and javac command line - you will readily see they do work. (I also just updated the javac command line - notice I was specifying ClassOne.java when I meant to be specifying ClassTwo.java which is what I&#39;ve been doing.)","body":"Hi @PeterNiederwieser , what do you mean regardless of which build system is used it wont work? I can assure you that the examples above with both javac on the commandline and the provided ant build script <i>DO</i> work. Feel free to copy the files into the above folder structure and attempt the ant and javac command line - you will readily see they do work. (I also just updated the javac command line - notice I was specifying ClassOne.java when I meant to be specifying ClassTwo.java which is what I&#39;ve been doing.)"},{"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"score":0,"creation_date":1381880476,"post_id":19391872,"comment_id":28743585,"body_markdown":"Okay, I just had another play. I fear I&#39;ve confused myself. It seems ant is compiling the whole source dependency tree, and javac on the commandline for ClassTwo.java does not work unless I first do ClassOne.java. Yup, think I&#39;ve confused myself. I&#39;ll confirm my test first. Thank you.","body":"Okay, I just had another play. I fear I&#39;ve confused myself. It seems ant is compiling the whole source dependency tree, and javac on the commandline for ClassTwo.java does not work unless I first do ClassOne.java. Yup, think I&#39;ve confused myself. I&#39;ll confirm my test first. Thank you."},{"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"score":0,"creation_date":1381881203,"post_id":19391872,"comment_id":28743781,"body_markdown":"Alright, I&#39;ve played some more and now see that indeed my statement regarding `javac ClassTwo.java` on the commandline is **wrong**. And that the reason ant works is that it determines all dependent classes and compiles them for you at the same time - nice. I&#39;ll update the question.","body":"Alright, I&#39;ve played some more and now see that indeed my statement regarding <code>javac ClassTwo.java</code> on the commandline is <b>wrong</b>. And that the reason ant works is that it determines all dependent classes and compiles them for you at the same time - nice. I&#39;ll update the question."},{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":0,"creation_date":1381883183,"post_id":19391872,"comment_id":28744243,"body_markdown":"I have no idea what you are trying to accomplish. I don&#39;t understand the first paragraph of your question (the motivation) at all. If you only include `ClassTwo`, then it can&#39;t find `ClassOne`.","body":"I have no idea what you are trying to accomplish. I don&#39;t understand the first paragraph of your question (the motivation) at all. If you only include <code>ClassTwo</code>, then it can&#39;t find <code>ClassOne</code>."},{"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"score":0,"creation_date":1381884027,"post_id":19391872,"comment_id":28744406,"body_markdown":"Hi @PeterNiederwieser, my motivation is to compile a single class in a package that contains many other classes. This one class is dependent on some of the other classes (not all). After compilation, a tool is run over the resulting class to then generate other source files. Once this has occurred THEN all sources are compiled. But the key motivation is that I want to be able to achieve what I currently can with the above ant script in a gradle script. Easy - well, I would&#39;ve thought it should be.","body":"Hi @PeterNiederwieser, my motivation is to compile a single class in a package that contains many other classes. This one class is dependent on some of the other classes (not all). After compilation, a tool is run over the resulting class to then generate other source files. Once this has occurred THEN all sources are compiled. But the key motivation is that I want to be able to achieve what I currently can with the above ant script in a gradle script. Easy - well, I would&#39;ve thought it should be."},{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":1,"creation_date":1381893348,"post_id":19391872,"comment_id":28746260,"body_markdown":"In order to compile `ClassTwo`, you either have to compile `ClassOne` along with it, or put the class file for `ClassOne` on the compiler&#39;s class path, or put the source file for `ClassOne` on the compiler&#39;s source path. That&#39;s true regardless of which build system is used.","body":"In order to compile <code>ClassTwo</code>, you either have to compile <code>ClassOne</code> along with it, or put the class file for <code>ClassOne</code> on the compiler&#39;s class path, or put the source file for <code>ClassOne</code> on the compiler&#39;s source path. That&#39;s true regardless of which build system is used."},{"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"score":0,"creation_date":1381898112,"post_id":19391872,"comment_id":28747378,"body_markdown":"Indeed, and ant appears to be able to do the second through the use of the srcdir attribute of the javac task. How do I do the same with gradle. Specifically, getting back to the above example, how do I achieve the same as the ant build.xml with gradle - that&#39;s all I need answered.","body":"Indeed, and ant appears to be able to do the second through the use of the srcdir attribute of the javac task. How do I do the same with gradle. Specifically, getting back to the above example, how do I achieve the same as the ant build.xml with gradle - that&#39;s all I need answered."},{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":1,"creation_date":1381900253,"post_id":19391872,"comment_id":28747892,"body_markdown":"You can set a source path with something like `compileOne.options.compilerArgs = [&quot;-sourcepath&quot;, &quot;$projectDir/src/main/java&quot;]`. Putting the source dir on the class path should also work, as javac uses that as the default source path.","body":"You can set a source path with something like <code>compileOne.options.compilerArgs = [&quot;-sourcepath&quot;, &quot;$projectDir&#47;src&#47;main&#47;java&quot;]</code>. Putting the source dir on the class path should also work, as javac uses that as the default source path."},{"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"score":0,"creation_date":1381903892,"post_id":19391872,"comment_id":28749000,"body_markdown":"Thank you @PeterNiederwieser. That _is_ the answer, and what I was looking for. Indeed I had previously tried specifying `-sourcepath` by specifying it against the `options` property as `options = ...` in my compileOne closure - but I received a warning and it had no effect. But doing it as compileOne.options.compilerArgs (external to the closure) worked perfectly - only compiled the two classes it needed to (not another ClassThree.java I had there for the example). Thanks! If you put it as an answer I&#39;ll tick it all off.","body":"Thank you @PeterNiederwieser. That <i>is</i> the answer, and what I was looking for. Indeed I had previously tried specifying <code>-sourcepath</code> by specifying it against the <code>options</code> property as <code>options = ...</code> in my compileOne closure - but I received a warning and it had no effect. But doing it as compileOne.options.compilerArgs (external to the closure) worked perfectly - only compiled the two classes it needed to (not another ClassThree.java I had there for the example). Thanks! If you put it as an answer I&#39;ll tick it all off."}],"answers":[{"tags":[],"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1381987332,"creation_date":1381987332,"answer_id":19418847,"question_id":19391872,"body_markdown":"Thanks to the discussion with @PeterNiederwieser on the original post in the comments, I&#39;ll provide the answer here for completeness.\r\n\r\nTo have gradle JavaCompile function in a manner very similar to the ant javac, you need to provide the `sourcepath` compiler option via the `options.compilerArgs` property. Therefore, the gradle script that now works is as follows:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    task compileOne (type: JavaCompile) {\r\n    \tsource = sourceSets.main.java.srcDirs\r\n    \tinclude &#39;some/pkg/ClassTwo.java&#39;\r\n    \tclasspath = sourceSets.main.compileClasspath\r\n    \tdestinationDir = sourceSets.main.output.classesDir\r\n    }\r\n    \r\n    compileOne.options.compilerArgs = [&quot;-sourcepath&quot;, &quot;$projectDir/src/main/java&quot;]\r\n\r\nNote specifically the last line (the only difference) which allows all to work. The result of which is that it will actually compile both ClassOne and ClassTwo at build time - rather than only attempting the single explicit file you specified. Any other classes (that are not required) remain uncompiled - as confirmed by looking in the build directory.\r\n\r\nThanks Peter!","title":"How to compile a single java file with gradle?","body":"<p>Thanks to the discussion with @PeterNiederwieser on the original post in the comments, I'll provide the answer here for completeness.</p>\n\n<p>To have gradle JavaCompile function in a manner very similar to the ant javac, you need to provide the <code>sourcepath</code> compiler option via the <code>options.compilerArgs</code> property. Therefore, the gradle script that now works is as follows:</p>\n\n<pre><code>apply plugin: 'java'\n\ntask compileOne (type: JavaCompile) {\n    source = sourceSets.main.java.srcDirs\n    include 'some/pkg/ClassTwo.java'\n    classpath = sourceSets.main.compileClasspath\n    destinationDir = sourceSets.main.output.classesDir\n}\n\ncompileOne.options.compilerArgs = [\"-sourcepath\", \"$projectDir/src/main/java\"]\n</code></pre>\n\n<p>Note specifically the last line (the only difference) which allows all to work. The result of which is that it will actually compile both ClassOne and ClassTwo at build time - rather than only attempting the single explicit file you specified. Any other classes (that are not required) remain uncompiled - as confirmed by looking in the build directory.</p>\n\n<p>Thanks Peter!</p>\n"},{"tags":[],"owner":{"account_id":16787852,"reputation":51,"user_id":12136334,"display_name":"KCulture"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594229536,"creation_date":1594229536,"answer_id":62800415,"question_id":19391872,"body_markdown":"I tried to use @I Stevenson answer with **gradle** version **6.4.1**. There were a couple of changes that surprised me so hopefully this helps someone else. Changes in this task are :\r\n\r\n**destinationDir**-&gt; **destinationDirectory**(incubating)(I also had issue with type)\r\n\r\n**compileOne.options.compilerArgs** -&gt; **options.sourcepath** this is also defined within task\r\n\r\nI also needed to add annotation processing in my compilation because I am using project lombok. I understand that your question did not ask for annotation processing so I will make a comment in the task that states that this is extra. \r\n\r\n```\r\napply plugin: &#39;java&#39;\r\ntask compileOne (type: JavaCompile) {\r\n    source = sourceSets.main.java.srcDirs\r\n    include &#39;some/pkg/ClassTwo.java&#39;\r\n    classpath = sourceSets.main.compileClasspath\r\n    destinationDirectory = new File(&quot;${buildDir}/classes/java/main&quot;) \r\n    options.sourcepath = sourceSets.main.java.getSourceDirectories()\r\n    options.annotationProcessorPath = sourcesSet.main.compileClasspath//extra for lombok\r\n}\r\n```","title":"How to compile a single java file with gradle?","body":"<p>I tried to use @I Stevenson answer with <strong>gradle</strong> version <strong>6.4.1</strong>. There were a couple of changes that surprised me so hopefully this helps someone else. Changes in this task are :</p>\n<p><strong>destinationDir</strong>-&gt; <strong>destinationDirectory</strong>(incubating)(I also had issue with type)</p>\n<p><strong>compileOne.options.compilerArgs</strong> -&gt; <strong>options.sourcepath</strong> this is also defined within task</p>\n<p>I also needed to add annotation processing in my compilation because I am using project lombok. I understand that your question did not ask for annotation processing so I will make a comment in the task that states that this is extra.</p>\n<pre><code>apply plugin: 'java'\ntask compileOne (type: JavaCompile) {\n    source = sourceSets.main.java.srcDirs\n    include 'some/pkg/ClassTwo.java'\n    classpath = sourceSets.main.compileClasspath\n    destinationDirectory = new File(&quot;${buildDir}/classes/java/main&quot;) \n    options.sourcepath = sourceSets.main.java.getSourceDirectories()\n    options.annotationProcessorPath = sourcesSet.main.compileClasspath//extra for lombok\n}\n</code></pre>\n"}],"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29800,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"accepted_answer_id":19418847,"answer_count":2,"score":20,"last_activity_date":1664028691,"creation_date":1381874428,"question_id":19391872,"body_markdown":"(**UPDATED**: Thanks to comments from Peter N below.)\r\n\r\nI have a java package with several classes and therefore files within it. However I only want to compile one of those files initially so that I can then use it to update the other classes in the package. It&#39;s a factory for the other classes and as a result is dependent on them - ie. it has references to them.\r\n\r\nI&#39;ve been attempting to use a [JavaCompile gradle task](http://www.gradle.org/docs/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html) to do this. As a result I&#39;ve read the documentation for JavaCompile and attempted to search for examples but seems there is very little out there. I&#39;ve even posted on the [gradle forums](http://forums.gradle.org/gradle/topics/how_to_compile_a_single_java_file), but slow going so far.\r\n\r\nI&#39;m able to do what is required readily with an ant script using the ant javac task. But I&#39;d like to do it in gradle (and without using the ant.javac method - if I have to do that I&#39;ll just use ant).\r\n\r\nI&#39;ve created an example case with just two source files for two classes in the one package.\r\n\r\nBoth files are in a package called some.pkg and we therefore have the following directory structure:\r\n\r\n - .\\build.gradle \r\n - .\\src\\main\\java\\some\\pkg\\ClassOne.java \r\n - .\\src\\main\\java\\some\\pkg\\ClassTwo.java\r\n\r\nClassOne:\r\n\r\n    package some.pkg;\r\n    \r\n    import some.pkg.*;\r\n    \r\n    public class ClassOne {\r\n        public void doStuff() {\r\n        }\r\n    }\r\n\r\nClassTwo:\r\n\r\n    package some.pkg;\r\n    \r\n    import some.pkg.*;\r\n    \r\n    public class ClassTwo {\r\n        public void ClassTwo() {\r\n            ClassOne cone = new ClassOne();\r\n            cone.doStuff();\r\n        }\r\n    }\r\n\r\nAs you can see, ClassTwo (our class we want to compile standalone) depends on ClassOne.\r\n\r\nThe ant script is a simple case of:\r\n\r\n    &lt;project&gt;\r\n        &lt;property name=&quot;build.dir&quot;     value=&quot;build&quot;/&gt;\r\n        &lt;property name=&quot;lib.dir&quot;     value=&quot;lib&quot;/&gt;\r\n        &lt;property name=&quot;src.dir&quot;     value=&quot;src/main/java&quot;/&gt;\r\n        &lt;target name=&quot;generate&quot; &gt;\r\n            &lt;mkdir dir=&quot;${build.dir}&quot;/&gt;\r\n            &lt;javac source=&quot;1.6&quot; target=&quot;1.6&quot; srcdir=&quot;${src.dir}&quot; destdir=&quot;${build.dir}&quot; \r\n                   debug=&quot;true&quot; includeantruntime=&quot;false&quot;\r\n                   includes=&quot;some/pkg/ClassTwo.java&quot;&gt;\r\n            &lt;/javac&gt;\r\n        &lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\nBut in gradle, I keep having an issue where javac (or JavaCompile task) can not find ClassOne. It&#39;s as though the sourcedir is not pointing where it should - and indeed as though I was just running javac on the command line. I was thinking the gradle &#39;JavaCompile&#39; task&#39;s &#39;source&#39; property was working like the ant &#39;srcdir&#39; property, but that appears to not be the case. So here is the gradle script I&#39;m currently trying:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    task compileOne (type: JavaCompile) {\r\n        source = sourceSets.main.java.srcDirs\r\n        include &#39;some/pkg/ClassTwo.java&#39;\r\n        classpath = sourceSets.main.compileClasspath\r\n        destinationDir = sourceSets.main.output.classesDir\r\n    }\r\n\r\nBut it results in:\r\n\r\n    C:\\test\\&gt;gradle generate\r\n    :generate\r\n    C:\\test\\src\\main\\java\\some\\pkg\\ClassTwo.java:7: cannot find symbol\r\n    symbol  : class ClassOne\r\n    location: class some.pkg.ClassTwo\r\n                    ClassOne cone = new ClassOne();\r\n                    ^\r\n    C:\\test\\src\\main\\java\\some\\pkg\\ClassTwo.java:7: cannot find symbol\r\n    symbol  : class ClassOne\r\n    location: class some.pkg.ClassTwo\r\n                    ClassOne cone = new ClassOne();\r\n                                        ^\r\n    2 errors\r\n    :generate FAILED\r\n\r\n**So how do I achieve an ant javac equivalent in gradle?**\r\n\r\n`ant` javac seems to have the smarts to go and compile all the other related classes, but I guess for gradle JavaCompile I will need to set up a sourceSet to do that.. not sure..\r\n\r\nThanks!","title":"How to compile a single java file with gradle?","body":"<p>(<strong>UPDATED</strong>: Thanks to comments from Peter N below.)</p>\n\n<p>I have a java package with several classes and therefore files within it. However I only want to compile one of those files initially so that I can then use it to update the other classes in the package. It's a factory for the other classes and as a result is dependent on them - ie. it has references to them.</p>\n\n<p>I've been attempting to use a <a href=\"http://www.gradle.org/docs/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html\" rel=\"noreferrer\">JavaCompile gradle task</a> to do this. As a result I've read the documentation for JavaCompile and attempted to search for examples but seems there is very little out there. I've even posted on the <a href=\"http://forums.gradle.org/gradle/topics/how_to_compile_a_single_java_file\" rel=\"noreferrer\">gradle forums</a>, but slow going so far.</p>\n\n<p>I'm able to do what is required readily with an ant script using the ant javac task. But I'd like to do it in gradle (and without using the ant.javac method - if I have to do that I'll just use ant).</p>\n\n<p>I've created an example case with just two source files for two classes in the one package.</p>\n\n<p>Both files are in a package called some.pkg and we therefore have the following directory structure:</p>\n\n<ul>\n<li>.\\build.gradle </li>\n<li>.\\src\\main\\java\\some\\pkg\\ClassOne.java </li>\n<li>.\\src\\main\\java\\some\\pkg\\ClassTwo.java</li>\n</ul>\n\n<p>ClassOne:</p>\n\n<pre><code>package some.pkg;\n\nimport some.pkg.*;\n\npublic class ClassOne {\n    public void doStuff() {\n    }\n}\n</code></pre>\n\n<p>ClassTwo:</p>\n\n<pre><code>package some.pkg;\n\nimport some.pkg.*;\n\npublic class ClassTwo {\n    public void ClassTwo() {\n        ClassOne cone = new ClassOne();\n        cone.doStuff();\n    }\n}\n</code></pre>\n\n<p>As you can see, ClassTwo (our class we want to compile standalone) depends on ClassOne.</p>\n\n<p>The ant script is a simple case of:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;property name=\"build.dir\"     value=\"build\"/&gt;\n    &lt;property name=\"lib.dir\"     value=\"lib\"/&gt;\n    &lt;property name=\"src.dir\"     value=\"src/main/java\"/&gt;\n    &lt;target name=\"generate\" &gt;\n        &lt;mkdir dir=\"${build.dir}\"/&gt;\n        &lt;javac source=\"1.6\" target=\"1.6\" srcdir=\"${src.dir}\" destdir=\"${build.dir}\" \n               debug=\"true\" includeantruntime=\"false\"\n               includes=\"some/pkg/ClassTwo.java\"&gt;\n        &lt;/javac&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>But in gradle, I keep having an issue where javac (or JavaCompile task) can not find ClassOne. It's as though the sourcedir is not pointing where it should - and indeed as though I was just running javac on the command line. I was thinking the gradle 'JavaCompile' task's 'source' property was working like the ant 'srcdir' property, but that appears to not be the case. So here is the gradle script I'm currently trying:</p>\n\n<pre><code>apply plugin: 'java'\n\ntask compileOne (type: JavaCompile) {\n    source = sourceSets.main.java.srcDirs\n    include 'some/pkg/ClassTwo.java'\n    classpath = sourceSets.main.compileClasspath\n    destinationDir = sourceSets.main.output.classesDir\n}\n</code></pre>\n\n<p>But it results in:</p>\n\n<pre><code>C:\\test\\&gt;gradle generate\n:generate\nC:\\test\\src\\main\\java\\some\\pkg\\ClassTwo.java:7: cannot find symbol\nsymbol  : class ClassOne\nlocation: class some.pkg.ClassTwo\n                ClassOne cone = new ClassOne();\n                ^\nC:\\test\\src\\main\\java\\some\\pkg\\ClassTwo.java:7: cannot find symbol\nsymbol  : class ClassOne\nlocation: class some.pkg.ClassTwo\n                ClassOne cone = new ClassOne();\n                                    ^\n2 errors\n:generate FAILED\n</code></pre>\n\n<p><strong>So how do I achieve an ant javac equivalent in gradle?</strong></p>\n\n<p><code>ant</code> javac seems to have the smarts to go and compile all the other related classes, but I guess for gradle JavaCompile I will need to set up a sourceSet to do that.. not sure..</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","contextmenu","tableview","javafx-2","javafx"],"comments":[{"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"score":0,"creation_date":1356080489,"post_id":13984466,"comment_id":19302916,"body_markdown":"Dub of [How to get row number in TableView at specific point?](http://stackoverflow.com/q/13930961/682495). I see tableView.getContextMenu() so other somewhere you are setting the contextmenu. If you set it, it will always be shown even you don&#39;t add event handler explicitly. I mean if you want to control the showing of contextmenu don&#39;t set it through tableView.setContextMenu(), IMHO.","body":"Dub of <a href=\"http://stackoverflow.com/q/13930961/682495\">How to get row number in TableView at specific point?</a>. I see tableView.getContextMenu() so other somewhere you are setting the contextmenu. If you set it, it will always be shown even you don&#39;t add event handler explicitly. I mean if you want to control the showing of contextmenu don&#39;t set it through tableView.setContextMenu(), IMHO."}],"answers":[{"tags":[],"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356092741,"creation_date":1356092741,"answer_id":13990176,"question_id":13984466,"body_markdown":"Add context menu to the specific cells using `CellFactory` not to the whole table.\r\n\r\nE.g. using Table from [Oracle tutorial][1]:\r\n\r\n        TableColumn firstNameCol = new TableColumn();\r\n        firstNameCol.setText(&quot;First&quot;);\r\n        firstNameCol.setCellValueFactory(new PropertyValueFactory(&quot;firstName&quot;));\r\n\tfirstNameCol.setCellFactory(new Callback&lt;TableColumn, TableCell&gt;() {\r\n\t\t@Override\r\n\t\tpublic TableCell call(final TableColumn param) {\r\n\r\n\t\t\tfinal TableCell cell = new TableCell() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void updateItem(Object item, boolean empty) {\r\n\t\t\t\t\tsuper.updateItem(item, empty);\r\n\t\t\t\t\tif (empty) {\r\n\t\t\t\t\t\tsetText(null);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (isEditing()) {\r\n\t\t\t\t\t\t\tsetText(null);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetText(getItem().toString());\r\n\t\t\t\t\t\t\tsetGraphic(null);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t// This way I will have context menu only for specific column\r\n\t\t\tcell.setContextMenu(ContextMenuBuilder.create().items(MenuItemBuilder.create().text(&quot;menu&quot;).build()).build());\r\n\t\t\treturn cell;\r\n\t\t}\r\n\t});\r\n\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/ui_controls/table-view.htm","title":"Context Menu visibility in TableView JavaFX","body":"<p>Add context menu to the specific cells using <code>CellFactory</code> not to the whole table.</p>\n\n<p>E.g. using Table from <a href=\"http://docs.oracle.com/javafx/2/ui_controls/table-view.htm\" rel=\"nofollow\">Oracle tutorial</a>:</p>\n\n<pre><code>    TableColumn firstNameCol = new TableColumn();\n    firstNameCol.setText(\"First\");\n    firstNameCol.setCellValueFactory(new PropertyValueFactory(\"firstName\"));\nfirstNameCol.setCellFactory(new Callback&lt;TableColumn, TableCell&gt;() {\n    @Override\n    public TableCell call(final TableColumn param) {\n\n        final TableCell cell = new TableCell() {\n\n            @Override\n            public void updateItem(Object item, boolean empty) {\n                super.updateItem(item, empty);\n                if (empty) {\n                    setText(null);\n                } else {\n                    if (isEditing()) {\n                        setText(null);\n                    } else {\n                        setText(getItem().toString());\n                        setGraphic(null);\n                    }\n                }\n            }\n        };\n        // This way I will have context menu only for specific column\n        cell.setContextMenu(ContextMenuBuilder.create().items(MenuItemBuilder.create().text(\"menu\").build()).build());\n        return cell;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397647034,"creation_date":1397647034,"answer_id":23107860,"question_id":13984466,"body_markdown":"may be the older question. There is a solution, like getting the target of the mouse event of the table and check for instance for class TableCellSkin and display the context menu as,\r\n\r\n    table.addEventHandler(MouseEvent.MOUSE_CLICKED,\r\n    \t\t\t\tnew EventHandler&lt;MouseEvent&gt;() {\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void handle(MouseEvent e) {\r\n    \t\t\t\t\t\tif (e.getButton() == MouseButton.SECONDARY\r\n    \t\t\t\t\t\t\t\t&amp;&amp; !isRowEmpty) {\r\n    \t\t\t\t\t\t\tEventTarget target = e.getTarget();\r\n    \t\t\t\t\t\t\tif (target instanceof TableCellSkin\r\n    \t\t\t\t\t\t\t\t\t|| ((Node) target).getParent() instanceof TableCellSkin) {\r\n    \t\t\t\t\t\t\t\t\t// do your stuff. Context menu will be displayed by default\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t// hide the context menu when click event is outside table row\r\n    \t\t\t\t\t\t\t\ttable.getContextMenu().hide();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});","title":"Context Menu visibility in TableView JavaFX","body":"<p>may be the older question. There is a solution, like getting the target of the mouse event of the table and check for instance for class TableCellSkin and display the context menu as,</p>\n\n<pre><code>table.addEventHandler(MouseEvent.MOUSE_CLICKED,\n                new EventHandler&lt;MouseEvent&gt;() {\n\n                    @Override\n                    public void handle(MouseEvent e) {\n                        if (e.getButton() == MouseButton.SECONDARY\n                                &amp;&amp; !isRowEmpty) {\n                            EventTarget target = e.getTarget();\n                            if (target instanceof TableCellSkin\n                                    || ((Node) target).getParent() instanceof TableCellSkin) {\n                                    // do your stuff. Context menu will be displayed by default\n                            } else {\n                                // hide the context menu when click event is outside table row\n                                table.getContextMenu().hide();\n                            }\n                        }\n                    }\n                });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1728269,"reputation":150,"user_id":1582458,"accept_rate":67,"display_name":"timm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473895781,"creation_date":1473894874,"answer_id":39501006,"question_id":13984466,"body_markdown":"The best solution I found was to check if the y coordinate is outside of the bounds of the column header and then to explicitly show the menu. \r\n\r\n    ContextMenu visibleMenu = null;\r\n    tableView.setOnMouseClicked((MouseEvent e) -&gt; {\r\n        if (visibleMenu !=null) {\r\n            visibleMenu.hide();\r\n            visibleMenu = null;\r\n        }\r\n        if (e.getButton()==MouseButton.SECONDARY) {\r\n            double columnHeaderHeight = tableView.lookup(&quot;.column-header-background&quot;).getBoundsInLocal().getHeight();\r\n            if (e.getY()&gt;columnHeaderHeight) {\r\n                visibleMenu = getContextMenu(); // build on the fly or use a prebuild menu\r\n                visibleMenu.show(tableView, e.getScreenX(), e.getScreenY());\r\n            } else {\r\n                // you could show a header specific context menu here\r\n            }\r\n        }\r\n    });\r\n\r\nThe added benefit is that you can build the context menu on the fly with context sensitive items (that for example only appear if a certain type of cell is selected), or just reuse a prebuild contextmenu as setContextMenu does, up to you. ","title":"Context Menu visibility in TableView JavaFX","body":"<p>The best solution I found was to check if the y coordinate is outside of the bounds of the column header and then to explicitly show the menu. </p>\n\n<pre><code>ContextMenu visibleMenu = null;\ntableView.setOnMouseClicked((MouseEvent e) -&gt; {\n    if (visibleMenu !=null) {\n        visibleMenu.hide();\n        visibleMenu = null;\n    }\n    if (e.getButton()==MouseButton.SECONDARY) {\n        double columnHeaderHeight = tableView.lookup(\".column-header-background\").getBoundsInLocal().getHeight();\n        if (e.getY()&gt;columnHeaderHeight) {\n            visibleMenu = getContextMenu(); // build on the fly or use a prebuild menu\n            visibleMenu.show(tableView, e.getScreenX(), e.getScreenY());\n        } else {\n            // you could show a header specific context menu here\n        }\n    }\n});\n</code></pre>\n\n<p>The added benefit is that you can build the context menu on the fly with context sensitive items (that for example only appear if a certain type of cell is selected), or just reuse a prebuild contextmenu as setContextMenu does, up to you. </p>\n"},{"tags":[],"owner":{"account_id":17024750,"reputation":152,"user_id":12316314,"display_name":"garawaa garawaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664028620,"creation_date":1664028620,"answer_id":73837861,"question_id":13984466,"body_markdown":"    @FXML\r\n    void tableContextMenuRequested(ContextMenuEvent event) {\r\n        if (tableview.getSelectionModel().getSelectedItems().size() == 0) {\r\n            tableContextMenu.hide();\r\n        }\r\n    }","title":"Context Menu visibility in TableView JavaFX","body":"<pre><code>@FXML\nvoid tableContextMenuRequested(ContextMenuEvent event) {\n    if (tableview.getSelectionModel().getSelectedItems().size() == 0) {\n        tableContextMenu.hide();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1192424,"reputation":2412,"user_id":1164899,"accept_rate":68,"display_name":"Ronak Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4900,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1664028620,"creation_date":1356065637,"question_id":13984466,"body_markdown":"I am creating `TableView` in JavaFX. In which I want to show `Context Menu` in right click of mouse in tableView. So I am adding an EventHandler on table as given below :\r\n\r\n        TableView tableView=new TableView();\r\n    \r\n        EventHandler event = new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent me) {\r\n                if (me.getButton() == MouseButton.SECONDARY) {\r\n                    tableView.getContextMenu().show(tableView, me.getSceneX(), me.getSceneY());\r\n                }\r\n            }\r\n        };\r\n        tableView.addEventHandler(MouseEvent.MOUSE_CLICKED, event);\r\n\r\nBut my problem is that `Context Menu` is visible wherever I right click on any part of table.\r\n\r\n I want to do that `Context Menu` should be only visible if I clicked on any rows in `TableView`. \r\n\r\ni.e. How would I get row number in TableView at specific point, So that my `Context Menu` should be only visible, if I clicked on any row of `TableView`.","title":"Context Menu visibility in TableView JavaFX","body":"<p>I am creating <code>TableView</code> in JavaFX. In which I want to show <code>Context Menu</code> in right click of mouse in tableView. So I am adding an EventHandler on table as given below :</p>\n\n<pre><code>    TableView tableView=new TableView();\n\n    EventHandler event = new EventHandler&lt;MouseEvent&gt;() {\n        @Override\n        public void handle(MouseEvent me) {\n            if (me.getButton() == MouseButton.SECONDARY) {\n                tableView.getContextMenu().show(tableView, me.getSceneX(), me.getSceneY());\n            }\n        }\n    };\n    tableView.addEventHandler(MouseEvent.MOUSE_CLICKED, event);\n</code></pre>\n\n<p>But my problem is that <code>Context Menu</code> is visible wherever I right click on any part of table.</p>\n\n<p>I want to do that <code>Context Menu</code> should be only visible if I clicked on any rows in <code>TableView</code>. </p>\n\n<p>i.e. How would I get row number in TableView at specific point, So that my <code>Context Menu</code> should be only visible, if I clicked on any row of <code>TableView</code>.</p>\n"},{"tags":["java","list","spring-boot","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664028500,"creation_date":1664024897,"answer_id":73837464,"question_id":73832937,"body_markdown":"There are several issues with your code:\r\n\r\n* `map()` is an *intermediate operation*, it means that it doesn&#39;t produce the resulting value but returns another stream. In order to produce a result from the stream you need to apply a *terminal operation* (e.g. `collect()`, `reduce()`, `findFirst()`). For more information, refer to the [API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps).\r\n\r\n* In *Functional programming*, it&#39;s not a good practice to mutate arguments passed to a *function* (and that&#39;s what you&#39;re doing inside the `map()`).\r\n\r\n* Your code is based on a [*brute-force logic*](https://en.wikipedia.org/wiki/Brute-force_search) (which always imply the **worst** possible performance): for every element in `a` iterate over the all elements in `b`. Instead, we can index all the `id` that are present in the list `b` by placing them into a *hash-based* collection (that would allow to find out whether a particular `id` is present in the `b` in constant time) and associate each `id` with the corresponding `quantity`. I.e. we can generate `HashMap`, that maps each `id` in the `b` to it&#39;s `quantity`.\r\n\r\n* Lists `a` and `c` would be identical because they would contain the same references. That means there&#39;s **no** point in generating the list `c` unless you want it to contain **only** elements having `id` that are present in the list `b`.\r\n\r\nThat&#39;s how your code might be reimplemented:\r\n\r\n```\r\nList&lt;Manipulate&gt; a = // initializing list a\r\nList&lt;Manipulate&gt; b = // initializing list b\r\n\r\n// mapping each `id` in the `b` to it&#39;s `quantity`\r\n\r\nMap&lt;Integer, Integer&gt; quantityById = b.stream()\r\n    .collect(Collectors.toMap(\r\n        Manipulate::getId,      // keyMapper\r\n        Manipulate::getQuantity // valueMapper\r\n    ));\r\n\r\n// generating the list `c`, containing only elements\r\n// with `id` that are present in the `b`\r\n        \r\nList&lt;Manipulate&gt; c = a.stream()\r\n    .filter(m -&gt; quantityById.containsKey(m.getId()))\r\n    .collect(Collectors.toList()); // or .toList() for Java 16+\r\n\r\n// updating `quantity` property of each element in `c`\r\n    \r\nfor (Manipulate m : c)\r\n    m.setQuantity(\r\n        m.getQuantity() - quantityById.get(m.getId())\r\n    );\r\n```\r\n\r\nIn case if you had no intention to change the data in `a`, then you need to create new instances of `Manipulate` for every matching `id`. And it&#39;s perfectly fine to do in the stream:\r\n\r\n```\r\nList&lt;Manipulate&gt; a = // initializing list a\r\nList&lt;Manipulate&gt; b = // initializing list b\r\nMap&lt;Integer, Integer&gt; quantityById = // generate a map like shown above\r\n\r\nList&lt;Manipulate&gt; c = a.stream()\r\n    .filter(m -&gt; quantityById.containsKey(m.getId()))\r\n    .map(m -&gt; new Manipulate(m.getId(), m.getQuantity() - quantityById.get(m.getId())))\r\n    .collect(Collectors.toList()); // or .toList() for Java 16+\r\n```\r\n\r\n***Note:*** you need to add the third argument to `Collectors.toMap()` in case if there could be duplicated `id` in the list `b`.","title":"Filter Objects having the same property from two Lists and Update them and Store it in a 3rd List in Java 8","body":"<p>There are several issues with your code:</p>\n<ul>\n<li><p><code>map()</code> is an <em>intermediate operation</em>, it means that it doesn't produce the resulting value but returns another stream. In order to produce a result from the stream you need to apply a <em>terminal operation</em> (e.g. <code>collect()</code>, <code>reduce()</code>, <code>findFirst()</code>). For more information, refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">API documentation</a>.</p>\n</li>\n<li><p>In <em>Functional programming</em>, it's not a good practice to mutate arguments passed to a <em>function</em> (and that's what you're doing inside the <code>map()</code>).</p>\n</li>\n<li><p>Your code is based on a <a href=\"https://en.wikipedia.org/wiki/Brute-force_search\" rel=\"nofollow noreferrer\"><em>brute-force logic</em></a> (which always imply the <strong>worst</strong> possible performance): for every element in <code>a</code> iterate over the all elements in <code>b</code>. Instead, we can index all the <code>id</code> that are present in the list <code>b</code> by placing them into a <em>hash-based</em> collection (that would allow to find out whether a particular <code>id</code> is present in the <code>b</code> in constant time) and associate each <code>id</code> with the corresponding <code>quantity</code>. I.e. we can generate <code>HashMap</code>, that maps each <code>id</code> in the <code>b</code> to it's <code>quantity</code>.</p>\n</li>\n<li><p>Lists <code>a</code> and <code>c</code> would be identical because they would contain the same references. That means there's <strong>no</strong> point in generating the list <code>c</code> unless you want it to contain <strong>only</strong> elements having <code>id</code> that are present in the list <code>b</code>.</p>\n</li>\n</ul>\n<p>That's how your code might be reimplemented:</p>\n<pre><code>List&lt;Manipulate&gt; a = // initializing list a\nList&lt;Manipulate&gt; b = // initializing list b\n\n// mapping each `id` in the `b` to it's `quantity`\n\nMap&lt;Integer, Integer&gt; quantityById = b.stream()\n    .collect(Collectors.toMap(\n        Manipulate::getId,      // keyMapper\n        Manipulate::getQuantity // valueMapper\n    ));\n\n// generating the list `c`, containing only elements\n// with `id` that are present in the `b`\n        \nList&lt;Manipulate&gt; c = a.stream()\n    .filter(m -&gt; quantityById.containsKey(m.getId()))\n    .collect(Collectors.toList()); // or .toList() for Java 16+\n\n// updating `quantity` property of each element in `c`\n    \nfor (Manipulate m : c)\n    m.setQuantity(\n        m.getQuantity() - quantityById.get(m.getId())\n    );\n</code></pre>\n<p>In case if you had no intention to change the data in <code>a</code>, then you need to create new instances of <code>Manipulate</code> for every matching <code>id</code>. And it's perfectly fine to do in the stream:</p>\n<pre><code>List&lt;Manipulate&gt; a = // initializing list a\nList&lt;Manipulate&gt; b = // initializing list b\nMap&lt;Integer, Integer&gt; quantityById = // generate a map like shown above\n\nList&lt;Manipulate&gt; c = a.stream()\n    .filter(m -&gt; quantityById.containsKey(m.getId()))\n    .map(m -&gt; new Manipulate(m.getId(), m.getQuantity() - quantityById.get(m.getId())))\n    .collect(Collectors.toList()); // or .toList() for Java 16+\n</code></pre>\n<p><em><strong>Note:</strong></em> you need to add the third argument to <code>Collectors.toMap()</code> in case if there could be duplicated <code>id</code> in the list <code>b</code>.</p>\n"}],"owner":{"account_id":25788667,"reputation":67,"user_id":19533061,"display_name":"sathish kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73837464,"answer_count":1,"score":1,"last_activity_date":1664028500,"creation_date":1663966864,"question_id":73832937,"body_markdown":"I have the following class:\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public static class Manipulate {\r\n        private int id;\r\n        private int quantity;\r\n    }\r\n\r\nAnd I have two lists `a` and `b`.\r\n\r\n```\r\nList&lt;Manipulate&gt; a = new ArrayList&lt;&gt;();\r\na.add(new Manipulate(1,100));\r\na.add(new Manipulate(2,200));\r\n\r\nList&lt;Manipulate&gt; b = new ArrayList&lt;&gt;();\r\nb.add(new Manipulate(1,10));\r\nb.add(new Manipulate(2,20));\r\n```\r\nI need to filter these two lists based on the `id` property.\r\n\r\nAnd I want to subtract quantities of objects contained in `b` from quantities of objects contained in `a` and store the result into a `List`.\r\n\r\n*My attempt:*\r\n\r\n```\r\nList&lt;Manipulate&gt; c = a.stream().map(k -&gt; {\r\n    b.stream().filter(j -&gt; j.getId() == k.getId())\r\n        .forEach(i -&gt; {\r\n            int i1 = k.getQuantity() - i.getQuantity();\r\n            k.setQuantity(i1);\r\n        });\r\n    return k;\r\n});\r\n```\r\n\r\nI&#39;m getting the following compilation error:\r\n\r\n```\r\nRequired type: List &lt;Manipulate&gt; Provided: Stream&lt;Object&gt;\r\nno instance(s) of type variable(s) R exist so that Stream&lt;R&gt; conforms to List&lt;Manipulate&gt;\r\n```\r\n\r\n","title":"Filter Objects having the same property from two Lists and Update them and Store it in a 3rd List in Java 8","body":"<p>I have the following class:</p>\n<pre><code>@AllArgsConstructor\n@Getter\n@Setter\npublic static class Manipulate {\n    private int id;\n    private int quantity;\n}\n</code></pre>\n<p>And I have two lists <code>a</code> and <code>b</code>.</p>\n<pre><code>List&lt;Manipulate&gt; a = new ArrayList&lt;&gt;();\na.add(new Manipulate(1,100));\na.add(new Manipulate(2,200));\n\nList&lt;Manipulate&gt; b = new ArrayList&lt;&gt;();\nb.add(new Manipulate(1,10));\nb.add(new Manipulate(2,20));\n</code></pre>\n<p>I need to filter these two lists based on the <code>id</code> property.</p>\n<p>And I want to subtract quantities of objects contained in <code>b</code> from quantities of objects contained in <code>a</code> and store the result into a <code>List</code>.</p>\n<p><em>My attempt:</em></p>\n<pre><code>List&lt;Manipulate&gt; c = a.stream().map(k -&gt; {\n    b.stream().filter(j -&gt; j.getId() == k.getId())\n        .forEach(i -&gt; {\n            int i1 = k.getQuantity() - i.getQuantity();\n            k.setQuantity(i1);\n        });\n    return k;\n});\n</code></pre>\n<p>I'm getting the following compilation error:</p>\n<pre><code>Required type: List &lt;Manipulate&gt; Provided: Stream&lt;Object&gt;\nno instance(s) of type variable(s) R exist so that Stream&lt;R&gt; conforms to List&lt;Manipulate&gt;\n</code></pre>\n"},{"tags":["java","jvm","classpath","environment-variables","jvm-arguments"],"comments":[{"owner":{"account_id":74360,"reputation":3280,"user_id":213717,"accept_rate":94,"display_name":"marionmaiden"},"score":3,"creation_date":1264763573,"post_id":2161468,"comment_id":2105610,"body_markdown":"Good question. I&#39;ve never thought about it","body":"Good question. I&#39;ve never thought about it"},{"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":1,"creation_date":1264763643,"post_id":2161468,"comment_id":2105615,"body_markdown":"Do you want to know if the environment variable is changed?  Did you run a test to actually *see* if it changed?","body":"Do you want to know if the environment variable is changed?  Did you run a test to actually <i>see</i> if it changed?"},{"owner":{"account_id":82655,"reputation":6401,"user_id":232235,"display_name":"Eli Acherkan"},"score":1,"creation_date":1264766815,"post_id":2161468,"comment_id":2105859,"body_markdown":"Why not try it yourself?","body":"Why not try it yourself?"},{"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"score":2,"creation_date":1264774559,"post_id":2161468,"comment_id":2106616,"body_markdown":"@Zacky112, please note that running a jar file with the -jar option will ignore the CLASSPATH env variable.","body":"@Zacky112, please note that running a jar file with the -jar option will ignore the CLASSPATH env variable."}],"answers":[{"tags":[],"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1264763512,"creation_date":1264763512,"answer_id":2161471,"question_id":2161468,"body_markdown":"Yes. Quoted from the `java(1)` man page:\r\n\r\n       -classpath classpath\r\n       -cp classpath\r\n              Specifies a list of directories, JAR archives, and ZIP archives to search  for  class  files.   Class\r\n              path  entries  are separated by colons (:). Specifying -classpath or -cp overrides any setting of the\r\n              CLASSPATH environment variable.\r\n\r\n              If -classpath and -cp are not used and CLASSPATH is not set, the user class path consists of the cur-\r\n              rent directory (.).\r\n","title":"Java will -classpath option add or replace CLASSPATH environment variable","body":"<p>Yes. Quoted from the <code>java(1)</code> man page:</p>\n\n<pre><code>   -classpath classpath\n   -cp classpath\n          Specifies a list of directories, JAR archives, and ZIP archives to search  for  class  files.   Class\n          path  entries  are separated by colons (:). Specifying -classpath or -cp overrides any setting of the\n          CLASSPATH environment variable.\n\n          If -classpath and -cp are not used and CLASSPATH is not set, the user class path consists of the cur-\n          rent directory (.).\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1264763535,"creation_date":1264763535,"answer_id":2161473,"question_id":2161468,"body_markdown":"Either one of the options is used, not both. \r\n\r\n&gt; Specifying -classpath or -cp overrides any setting of the CLASSPATH environment variable.\r\n\r\n...\r\n\r\n&gt;  The -classpath option is preferred because you can set it individually for each application without affecting other applications and without other applications modifying its value.\r\n\r\n\r\n...\r\n\r\n&gt; Setting the CLASSPATH variable or using the -classpath command-line option overrides that default, so if you want to include the current directory in the search path, you must include &quot;.&quot; in the new settings.","title":"Java will -classpath option add or replace CLASSPATH environment variable","body":"<p>Either one of the options is used, not both. </p>\n\n<blockquote>\n  <p>Specifying -classpath or -cp overrides any setting of the CLASSPATH environment variable.</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>The -classpath option is preferred because you can set it individually for each application without affecting other applications and without other applications modifying its value.</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>Setting the CLASSPATH variable or using the -classpath command-line option overrides that default, so if you want to include the current directory in the search path, you must include \".\" in the new settings.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23282,"reputation":28065,"user_id":58220,"accept_rate":75,"display_name":"sateesh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1409581702,"creation_date":1264767509,"answer_id":2161800,"question_id":2161468,"body_markdown":"The usage of -cp option will not affect the CLASSPATH environment variable.\r\n\r\nYou can try this small code snippet to check this:    \r\n\r\n    public class CPTest {\r\n        public static void main (final String[] args) {\r\n            String cp = System.getenv(&quot;CLASSPATH&quot;);\r\n            System.out.println(cp);\r\n        }\r\n    }\r\n\r\n&lt;!-- comment to split code blocks --&gt;\r\n\r\n    %echo $CLASSPATH  \r\n    /home/test/:.\r\n\r\n\r\nThe output without -cp option:  \r\n\r\n\r\n    %java CPTest  \r\n    /home/test/:.\r\n\r\nThe output with -cp option:  \r\n\r\n\r\n    %java -cp /home/xanadu:. CPTest  \r\n    /home/test/:.\r\n\r\n\r\nThe output is same for both invocations (one with -cp and one without).  \r\n\r\nAlso either the path specified in the &lt;i&gt;CLASSPATH&lt;/i&gt; environment variable is  \r\nused or the path specified with &lt;i&gt;-cp&lt;/i&gt; option is used. It is not a mix of both \r\nit is one of them. \r\n\r\nThis is evident from the below invocation. \r\nIf the CWD (current working directory &lt;b&gt;&quot;.&quot;&lt;/b&gt;)  \r\nis excluded from -cp option, the JVM launcher (i.e. java) cannot  find the  \r\nclass file despite the CLASSPATH environment variable containing CWD (&lt;b&gt;&quot;.&quot;&lt;/b&gt;) in it.  \r\n\r\n    %java -cp /home/test CPTest\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: CPTest\r\n","title":"Java will -classpath option add or replace CLASSPATH environment variable","body":"<p>The usage of -cp option will not affect the CLASSPATH environment variable.</p>\n\n<p>You can try this small code snippet to check this:    </p>\n\n<pre><code>public class CPTest {\n    public static void main (final String[] args) {\n        String cp = System.getenv(\"CLASSPATH\");\n        System.out.println(cp);\n    }\n}\n</code></pre>\n\n\n\n<pre><code>%echo $CLASSPATH  \n/home/test/:.\n</code></pre>\n\n<p>The output without -cp option:  </p>\n\n<pre><code>%java CPTest  \n/home/test/:.\n</code></pre>\n\n<p>The output with -cp option:  </p>\n\n<pre><code>%java -cp /home/xanadu:. CPTest  \n/home/test/:.\n</code></pre>\n\n<p>The output is same for both invocations (one with -cp and one without).  </p>\n\n<p>Also either the path specified in the <i>CLASSPATH</i> environment variable is<br>\nused or the path specified with <i>-cp</i> option is used. It is not a mix of both \nit is one of them. </p>\n\n<p>This is evident from the below invocation. \nIf the CWD (current working directory <b>\".\"</b>)<br>\nis excluded from -cp option, the JVM launcher (i.e. java) cannot  find the<br>\nclass file despite the CLASSPATH environment variable containing CWD (<b>\".\"</b>) in it.  </p>\n\n<pre><code>%java -cp /home/test CPTest\nException in thread \"main\" java.lang.NoClassDefFoundError: CPTest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1264774384,"creation_date":1264774384,"answer_id":2162424,"question_id":2161468,"body_markdown":"Using the classpath variable it overrides the CLASSPATH of Environment variable but only for that session. If you restart the application you need to again set the classpath variable.\r\n","title":"Java will -classpath option add or replace CLASSPATH environment variable","body":"<p>Using the classpath variable it overrides the CLASSPATH of Environment variable but only for that session. If you restart the application you need to again set the classpath variable.</p>\n"}],"owner":{"account_id":90400,"reputation":8739,"user_id":248901,"accept_rate":57,"display_name":"Zacky112"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66552,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":2162424,"answer_count":4,"score":28,"last_activity_date":1664027154,"creation_date":1264763432,"question_id":2161468,"body_markdown":"Will the use of `-classpath` option with `java` add to or replace the contents of the `CLASSPATH` environment variable?","title":"Java will -classpath option add or replace CLASSPATH environment variable","body":"<p>Will the use of <code>-classpath</code> option with <code>java</code> add to or replace the contents of the <code>CLASSPATH</code> environment variable?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-kafka","spring-cloud-stream"],"comments":[{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":0,"creation_date":1663977656,"post_id":73833768,"comment_id":130373810,"body_markdown":"Could you convert your code to the functional model? `StreamListener` is long deprecated and completely removed in the upcoming Spring Cloud Stream 4.0 release.","body":"Could you convert your code to the functional model? <code>StreamListener</code> is long deprecated and completely removed in the upcoming Spring Cloud Stream 4.0 release."},{"owner":{"account_id":9574386,"reputation":33,"user_id":7111043,"accept_rate":25,"display_name":"Jimi"},"score":0,"creation_date":1664014618,"post_id":73833768,"comment_id":130377778,"body_markdown":"@sobychacko I&#39;m going to do it later, but it should not be reason for this error i think? Or do you think it can be?","body":"@sobychacko I&#39;m going to do it later, but it should not be reason for this error i think? Or do you think it can be?"},{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":0,"creation_date":1664307092,"post_id":73833768,"comment_id":130440502,"body_markdown":"Can you please put this as a reproducible sample running against a local Kafka cluster without any security configuration? That way, we can triage it further.","body":"Can you please put this as a reproducible sample running against a local Kafka cluster without any security configuration? That way, we can triage it further."}],"owner":{"account_id":9574386,"reputation":33,"user_id":7111043,"accept_rate":25,"display_name":"Jimi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664026633,"creation_date":1663975393,"question_id":73833768,"body_markdown":"I&#39;m trying to join KStream with KTable but still got \r\n\r\n \r\n\r\n    java.lang.IllegalStateException: No headers available and no default type provided \r\n\r\n \r\n\r\nActually I can&#39;t realize what I&#39;m doing bad, can you help me please..? Have same number of partition and replicas on topics, same message key.\r\n\r\nUsing JsonSerdes on producer side.\r\n\r\nCode which doing this, (if I use one of commented returns it works fine):\r\n\r\n    @StreamListener\r\n    @SendTo(&quot;simulations-result-output-channel&quot;)\r\n    public KStream&lt;UUID, CandleWithParameters&gt; process(\r\n            @Input(&quot;simulations-parameters-input-channel&quot;) KTable&lt;UUID, SimulationDto&gt; simulationDtoKTable,\r\n            @Input(&quot;simulations-data-input-channel&quot;) KStream&lt;UUID, CandleDto&gt; candleDtoKStream\r\n    ) {\r\n\r\n      //  return candleDtoKStream\r\n      //            .mapValues((c) -&gt; new CandleWithParameters(c, null));\r\n\r\n      //  return simulationDtoKTable\r\n      //         .mapValues((p) -&gt; new CandleWithParameters(null, p.getParameters()))\r\n      //         .toStream();\r\n\r\n\r\n        return candleDtoKStream\r\n                .peek((k, v) -&gt; log.info(&quot;Key: {}, Candle {}&quot;, k, v))\r\n                .join(\r\n                        simulationDtoKTable,\r\n                        (candle, simulation) -&gt; new CandleWithParameters(candle, simulation.getParameters()),\r\n                        Joined.with(\r\n                                new Serdes.UUIDSerde(),\r\n                                new JsonSerde&lt;&gt;(CandleDto.class),\r\n                                new JsonSerde&lt;&gt;(SimulationDto.class)\r\n                        )\r\n                )\r\n                .peek((k, v) -&gt; log.info(&quot;Key: {}, CandleWithParams {}&quot;, k, v));\r\n\r\nConfig:\r\n\r\n    spring:\r\n        cloud:\r\n            stream:\r\n                bindings:\r\n                    simulations-parameters-input-channel:\r\n                        destination: simulation.parameters\r\n                    simulations-data-input-channel:\r\n                        destination: simulation.data\r\n                    simulations-result-output-channel:\r\n                        destination: simulation.results\r\n                kafka:\r\n                    streams:\r\n                        binder:\r\n                            brokers: broker-1:29092\r\n                            configuration:\r\n                                commit.interval.ms: 10\r\n                                security.protocol: SSL\r\n                                state.dir: my-store\r\n                                default:\r\n                                    key.serde: org.apache.kafka.common.serialization.Serdes$UUIDSerde\r\n                                    value.serde: org.springframework.kafka.support.serializer.JsonSerde\r\n                                spring.json.trusted.packages: &#39;*&#39;\r\n                                ssl:\r\n                                    truststore:\r\n                                        location: classpath:security/client.ts.p12\r\n                                        password: xxx\r\n                                        type: PKCS12\r\n                                    keystore:\r\n                                        location: classpath:security/robot.ks.p12\r\n                                        password: xxx\r\n                                        type: PKCS12\r\n\r\n### Edit, if I update to functional style error is the same:\r\nBean:\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class StreamListenerConfig {\r\n    \r\n        @Bean\r\n        public BiFunction&lt;KStream&lt;UUID, CandleDto&gt;, KTable&lt;UUID, SimulationDto&gt;, KStream&lt;UUID, CandleWithParameters&gt;&gt; simulationsProcess() {\r\n            return (candleDtoKStream, simulationDtoKTable) -&gt;\r\n                    candleDtoKStream\r\n                        .peek((k, v) -&gt; log.info(&quot;Key: {}, Candle {}&quot;, k, v))\r\n                        .join(\r\n                                simulationDtoKTable,\r\n                                (candle, simulation) -&gt; new CandleWithParameters(candle, simulation.getParameters()),\r\n                                Joined.with(\r\n                                        new Serdes.UUIDSerde(),\r\n                                        new JsonSerde&lt;&gt;(CandleDto.class),\r\n                                        new JsonSerde&lt;&gt;(SimulationDto.class)\r\n                                )\r\n                        )\r\n                        .peek((k, v) -&gt; log.info(&quot;Key: {}, CandleWithParams {}&quot;, k, v));\r\n            }\r\n    }\r\n\r\nConfig update:\r\n\r\n    spring:\r\n        cloud:\r\n        stream:\r\n            bindings:\r\n                simulationsProcess-in-0:\r\n                    destination: simulation.data\r\n                simulationsProcess-in-1:\r\n                    destination: simulation.parameters\r\n                simulationsProcess-out-0:\r\n                    destination: simulation.results\r\n            kafka:\r\n                streams:\r\n                    binder:\r\n                        ... Same config as above...\r\n                        functions:\r\n                            simulationsProcess.applicationId: simulation-robot\r\n\r\nTrace:\r\n\r\n    java.lang.IllegalStateException: No headers available and no default type provided\r\n    2022-09-24T11:11:49.141715700Z \tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.22.jar!/:5.3.22]\r\n    2022-09-24T11:11:49.141721200Z \tat org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:605) ~[spring-kafka-2.8.8.jar!/:2.8.8]\r\n    2022-09-24T11:11:49.141724700Z \tat org.apache.kafka.streams.state.internals.ValueAndTimestampDeserializer.deserialize(ValueAndTimestampDeserializer.java:58) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141728000Z \tat org.apache.kafka.streams.state.internals.ValueAndTimestampDeserializer.deserialize(ValueAndTimestampDeserializer.java:31) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141732000Z \tat org.apache.kafka.streams.state.StateSerdes.valueFrom(StateSerdes.java:163) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141736000Z \tat org.apache.kafka.streams.state.internals.MeteredKeyValueStore$1.apply(MeteredKeyValueStore.java:183) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141739900Z \tat org.apache.kafka.streams.state.internals.MeteredKeyValueStore$1.apply(MeteredKeyValueStore.java:178) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141743600Z \tat org.apache.kafka.streams.state.internals.CachingKeyValueStore.putAndMaybeForward(CachingKeyValueStore.java:107) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141747000Z \tat org.apache.kafka.streams.state.internals.CachingKeyValueStore.lambda$initInternal$0(CachingKeyValueStore.java:87) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141750800Z \tat org.apache.kafka.streams.state.internals.NamedCache.flush(NamedCache.java:151) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141754400Z \tat org.apache.kafka.streams.state.internals.NamedCache.flush(NamedCache.java:109) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141758200Z \tat org.apache.kafka.streams.state.internals.ThreadCache.flush(ThreadCache.java:136) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141766400Z \tat org.apache.kafka.streams.state.internals.CachingKeyValueStore.flushCache(CachingKeyValueStore.java:345) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141770900Z \tat org.apache.kafka.streams.state.internals.WrappedStateStore.flushCache(WrappedStateStore.java:71) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141775000Z \tat org.apache.kafka.streams.processor.internals.ProcessorStateManager.flushCache(ProcessorStateManager.java:491) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141778800Z \tat org.apache.kafka.streams.processor.internals.StreamTask.prepareCommit(StreamTask.java:402) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141782800Z \tat org.apache.kafka.streams.processor.internals.TaskManager.commitTasksAndMaybeUpdateCommittableOffsets(TaskManager.java:1112) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141788800Z \tat org.apache.kafka.streams.processor.internals.TaskManager.commit(TaskManager.java:1084) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141802700Z \tat org.apache.kafka.streams.processor.internals.StreamThread.maybeCommit(StreamThread.java:1071) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141807200Z \tat org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:817) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141811000Z \tat org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:604) ~[kafka-streams-3.1.1.jar!/:na]\r\n    2022-09-24T11:11:49.141814100Z \tat org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:576) ~[kafka-streams-3.1.1.jar!/:na]","title":"Join KStream with KTable got No headers available and no default type provided","body":"<p>I'm trying to join KStream with KTable but still got</p>\n<pre><code>java.lang.IllegalStateException: No headers available and no default type provided \n</code></pre>\n<p>Actually I can't realize what I'm doing bad, can you help me please..? Have same number of partition and replicas on topics, same message key.</p>\n<p>Using JsonSerdes on producer side.</p>\n<p>Code which doing this, (if I use one of commented returns it works fine):</p>\n<pre><code>@StreamListener\n@SendTo(&quot;simulations-result-output-channel&quot;)\npublic KStream&lt;UUID, CandleWithParameters&gt; process(\n        @Input(&quot;simulations-parameters-input-channel&quot;) KTable&lt;UUID, SimulationDto&gt; simulationDtoKTable,\n        @Input(&quot;simulations-data-input-channel&quot;) KStream&lt;UUID, CandleDto&gt; candleDtoKStream\n) {\n\n  //  return candleDtoKStream\n  //            .mapValues((c) -&gt; new CandleWithParameters(c, null));\n\n  //  return simulationDtoKTable\n  //         .mapValues((p) -&gt; new CandleWithParameters(null, p.getParameters()))\n  //         .toStream();\n\n\n    return candleDtoKStream\n            .peek((k, v) -&gt; log.info(&quot;Key: {}, Candle {}&quot;, k, v))\n            .join(\n                    simulationDtoKTable,\n                    (candle, simulation) -&gt; new CandleWithParameters(candle, simulation.getParameters()),\n                    Joined.with(\n                            new Serdes.UUIDSerde(),\n                            new JsonSerde&lt;&gt;(CandleDto.class),\n                            new JsonSerde&lt;&gt;(SimulationDto.class)\n                    )\n            )\n            .peek((k, v) -&gt; log.info(&quot;Key: {}, CandleWithParams {}&quot;, k, v));\n</code></pre>\n<p>Config:</p>\n<pre><code>spring:\n    cloud:\n        stream:\n            bindings:\n                simulations-parameters-input-channel:\n                    destination: simulation.parameters\n                simulations-data-input-channel:\n                    destination: simulation.data\n                simulations-result-output-channel:\n                    destination: simulation.results\n            kafka:\n                streams:\n                    binder:\n                        brokers: broker-1:29092\n                        configuration:\n                            commit.interval.ms: 10\n                            security.protocol: SSL\n                            state.dir: my-store\n                            default:\n                                key.serde: org.apache.kafka.common.serialization.Serdes$UUIDSerde\n                                value.serde: org.springframework.kafka.support.serializer.JsonSerde\n                            spring.json.trusted.packages: '*'\n                            ssl:\n                                truststore:\n                                    location: classpath:security/client.ts.p12\n                                    password: xxx\n                                    type: PKCS12\n                                keystore:\n                                    location: classpath:security/robot.ks.p12\n                                    password: xxx\n                                    type: PKCS12\n</code></pre>\n<h3>Edit, if I update to functional style error is the same:</h3>\n<p>Bean:</p>\n<pre><code>@Configuration\n@Slf4j\npublic class StreamListenerConfig {\n\n    @Bean\n    public BiFunction&lt;KStream&lt;UUID, CandleDto&gt;, KTable&lt;UUID, SimulationDto&gt;, KStream&lt;UUID, CandleWithParameters&gt;&gt; simulationsProcess() {\n        return (candleDtoKStream, simulationDtoKTable) -&gt;\n                candleDtoKStream\n                    .peek((k, v) -&gt; log.info(&quot;Key: {}, Candle {}&quot;, k, v))\n                    .join(\n                            simulationDtoKTable,\n                            (candle, simulation) -&gt; new CandleWithParameters(candle, simulation.getParameters()),\n                            Joined.with(\n                                    new Serdes.UUIDSerde(),\n                                    new JsonSerde&lt;&gt;(CandleDto.class),\n                                    new JsonSerde&lt;&gt;(SimulationDto.class)\n                            )\n                    )\n                    .peek((k, v) -&gt; log.info(&quot;Key: {}, CandleWithParams {}&quot;, k, v));\n        }\n}\n</code></pre>\n<p>Config update:</p>\n<pre><code>spring:\n    cloud:\n    stream:\n        bindings:\n            simulationsProcess-in-0:\n                destination: simulation.data\n            simulationsProcess-in-1:\n                destination: simulation.parameters\n            simulationsProcess-out-0:\n                destination: simulation.results\n        kafka:\n            streams:\n                binder:\n                    ... Same config as above...\n                    functions:\n                        simulationsProcess.applicationId: simulation-robot\n</code></pre>\n<p>Trace:</p>\n<pre><code>java.lang.IllegalStateException: No headers available and no default type provided\n2022-09-24T11:11:49.141715700Z  at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.22.jar!/:5.3.22]\n2022-09-24T11:11:49.141721200Z  at org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:605) ~[spring-kafka-2.8.8.jar!/:2.8.8]\n2022-09-24T11:11:49.141724700Z  at org.apache.kafka.streams.state.internals.ValueAndTimestampDeserializer.deserialize(ValueAndTimestampDeserializer.java:58) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141728000Z  at org.apache.kafka.streams.state.internals.ValueAndTimestampDeserializer.deserialize(ValueAndTimestampDeserializer.java:31) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141732000Z  at org.apache.kafka.streams.state.StateSerdes.valueFrom(StateSerdes.java:163) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141736000Z  at org.apache.kafka.streams.state.internals.MeteredKeyValueStore$1.apply(MeteredKeyValueStore.java:183) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141739900Z  at org.apache.kafka.streams.state.internals.MeteredKeyValueStore$1.apply(MeteredKeyValueStore.java:178) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141743600Z  at org.apache.kafka.streams.state.internals.CachingKeyValueStore.putAndMaybeForward(CachingKeyValueStore.java:107) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141747000Z  at org.apache.kafka.streams.state.internals.CachingKeyValueStore.lambda$initInternal$0(CachingKeyValueStore.java:87) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141750800Z  at org.apache.kafka.streams.state.internals.NamedCache.flush(NamedCache.java:151) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141754400Z  at org.apache.kafka.streams.state.internals.NamedCache.flush(NamedCache.java:109) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141758200Z  at org.apache.kafka.streams.state.internals.ThreadCache.flush(ThreadCache.java:136) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141766400Z  at org.apache.kafka.streams.state.internals.CachingKeyValueStore.flushCache(CachingKeyValueStore.java:345) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141770900Z  at org.apache.kafka.streams.state.internals.WrappedStateStore.flushCache(WrappedStateStore.java:71) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141775000Z  at org.apache.kafka.streams.processor.internals.ProcessorStateManager.flushCache(ProcessorStateManager.java:491) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141778800Z  at org.apache.kafka.streams.processor.internals.StreamTask.prepareCommit(StreamTask.java:402) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141782800Z  at org.apache.kafka.streams.processor.internals.TaskManager.commitTasksAndMaybeUpdateCommittableOffsets(TaskManager.java:1112) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141788800Z  at org.apache.kafka.streams.processor.internals.TaskManager.commit(TaskManager.java:1084) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141802700Z  at org.apache.kafka.streams.processor.internals.StreamThread.maybeCommit(StreamThread.java:1071) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141807200Z  at org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:817) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141811000Z  at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:604) ~[kafka-streams-3.1.1.jar!/:na]\n2022-09-24T11:11:49.141814100Z  at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:576) ~[kafka-streams-3.1.1.jar!/:na]\n</code></pre>\n"},{"tags":["java","android","alarmmanager","alarm","android-alarms"],"comments":[{"owner":{"account_id":1672875,"reputation":9840,"user_id":1538986,"accept_rate":64,"display_name":"Opiatefuchs"},"score":5,"creation_date":1475045295,"post_id":39739669,"comment_id":66777278,"body_markdown":"be aware that the answer from user13 is absolutely correct, BUT some devices like Huawei also implement their own energy management and you can&#180;t get rid of this programmatically. In my Huawei Ascend Mate 7 , no matter what I am doing (suggestions by developer guide for doze mode), it does not work. Instead I have to do some device settings and this is only possible manually...","body":"be aware that the answer from user13 is absolutely correct, BUT some devices like Huawei also implement their own energy management and you can&#180;t get rid of this programmatically. In my Huawei Ascend Mate 7 , no matter what I am doing (suggestions by developer guide for doze mode), it does not work. Instead I have to do some device settings and this is only possible manually..."},{"owner":{"account_id":1734438,"reputation":36255,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"score":0,"creation_date":1509479336,"post_id":39739669,"comment_id":81034155,"body_markdown":"@Opiatefuchs: could you elaborate? (in my LTE blade, even manual warnings and battery saver settings did not help, but maybe there&#39;s more?)","body":"@Opiatefuchs: could you elaborate? (in my LTE blade, even manual warnings and battery saver settings did not help, but maybe there&#39;s more?)"},{"owner":{"account_id":1672875,"reputation":9840,"user_id":1538986,"accept_rate":64,"display_name":"Opiatefuchs"},"score":2,"creation_date":1509812415,"post_id":39739669,"comment_id":81175413,"body_markdown":"@serv-inc: well, that&#180;s hard to say, there are so much different implementations. I hope this will be unique in the future or better explained and more user friendly. On Huawei, there are also autostart settings. These settings I found in the &quot;Telephony Manager&quot;.","body":"@serv-inc: well, that&#180;s hard to say, there are so much different implementations. I hope this will be unique in the future or better explained and more user friendly. On Huawei, there are also autostart settings. These settings I found in the &quot;Telephony Manager&quot;."}],"answers":[{"tags":[],"owner":{"account_id":4097010,"reputation":19097,"user_id":3363481,"display_name":"earthw0rmjim"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1546353678,"creation_date":1475045115,"answer_id":39739886,"question_id":39739669,"body_markdown":"From the documentation of `setRepeating()`:\r\n\r\n&gt; As of API 19, all repeating alarms are inexact.\r\n\r\nMoreover, **`setRepeating()` does not work with [Doze][1]**.\r\n\r\nYou should use exact alarms (set by the appropriate `AlarmManager` method based on the API level of the device):\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 23) {\r\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP,\r\n                triggerTime, pendingIntent);\r\n    } else if (Build.VERSION.SDK_INT &gt;= 19) {\r\n        alarmManager.setExact(AlarmManager.RTC_WAKEUP, triggerTime, pendingIntent);\r\n    } else {\r\n        alarmManager.set(AlarmManager.RTC_WAKEUP, triggerTime, pendingIntent);\r\n    }\r\n\r\nAnd reschedule them every time they fire.\r\n\r\nFor the rescheduling you could add the original trigger time to the `Intent`:\r\n\r\n    intent.putExtra(KEY_TRIGGER_TIME, triggerTime);\r\n\r\nThen retrieve this extra in `onReceive()`, add your desired interval to it and reschedule the alarm using the new value:\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        long triggerTime = intent\r\n                .getLongExtra(KEY_TRIGGER_TIME, System.currentTimeMillis());\r\n\r\n        // adding one day to the current trigger time\r\n        triggerTime += TimeUnit.DAYS.toMillis(1);\r\n\r\n        // set a new alarm using the new trigger time\r\n        // ...\r\n    }\r\n\r\n*NOTE:* As @Opiatefuchs mentioned in the comment above, some manufacturers (such as Xiaomi or Huawei) may implement certain battery saver functions that can prevent alarms from being fired and cannot be bypassed programmatically.\r\n\r\n\r\n  [1]: https://developer.android.com/training/monitoring-device-state/doze-standby.html","title":"Android AlarmManager not working on some devices when the app is closed","body":"<p>From the documentation of <code>setRepeating()</code>:</p>\n\n<blockquote>\n  <p>As of API 19, all repeating alarms are inexact.</p>\n</blockquote>\n\n<p>Moreover, <strong><code>setRepeating()</code> does not work with <a href=\"https://developer.android.com/training/monitoring-device-state/doze-standby.html\" rel=\"noreferrer\">Doze</a></strong>.</p>\n\n<p>You should use exact alarms (set by the appropriate <code>AlarmManager</code> method based on the API level of the device):</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 23) {\n    alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP,\n            triggerTime, pendingIntent);\n} else if (Build.VERSION.SDK_INT &gt;= 19) {\n    alarmManager.setExact(AlarmManager.RTC_WAKEUP, triggerTime, pendingIntent);\n} else {\n    alarmManager.set(AlarmManager.RTC_WAKEUP, triggerTime, pendingIntent);\n}\n</code></pre>\n\n<p>And reschedule them every time they fire.</p>\n\n<p>For the rescheduling you could add the original trigger time to the <code>Intent</code>:</p>\n\n<pre><code>intent.putExtra(KEY_TRIGGER_TIME, triggerTime);\n</code></pre>\n\n<p>Then retrieve this extra in <code>onReceive()</code>, add your desired interval to it and reschedule the alarm using the new value:</p>\n\n<pre><code>@Override\npublic void onReceive(Context context, Intent intent) {\n    long triggerTime = intent\n            .getLongExtra(KEY_TRIGGER_TIME, System.currentTimeMillis());\n\n    // adding one day to the current trigger time\n    triggerTime += TimeUnit.DAYS.toMillis(1);\n\n    // set a new alarm using the new trigger time\n    // ...\n}\n</code></pre>\n\n<p><em>NOTE:</em> As @Opiatefuchs mentioned in the comment above, some manufacturers (such as Xiaomi or Huawei) may implement certain battery saver functions that can prevent alarms from being fired and cannot be bypassed programmatically.</p>\n"},{"tags":[],"owner":{"account_id":4047167,"reputation":561,"user_id":3328052,"display_name":"Imran Khan Saifi"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1551863217,"creation_date":1481017319,"answer_id":40992179,"question_id":39739669,"body_markdown":"Nowadays devices are coming with more security in context of Battery power consumption. By default devices keep almost all apps in power saving mode. It means in some devices your background work (Location, Alarm manager) won&#39;t work as soon as you come out from the app. In other devices background tasks won&#39;t work after a battery threshold limit (like 13%). So you need to keep out your app from this battery saving mode to run your app smoothly even in background. The way to achieve that behavior in these two manufacturers is:\n\n Xiaomi\n=============\n\n - Go to the Battery =&gt; Power =&gt; App battery Saver =&gt; select your app and choose No restrictions (for Background settings), then Allow option for Background location.\n   \n - To AutoStart your app after Boot: Go to the Security app =&gt; Permissions =&gt; Auto start and check your app.\n\n   Samsung\n==============\n\n Samsung Smart Manager App used to stop all background work after 3 days if you don&#39;t come to your app. So the way to disable this feature is:\n\n - Go to Battery in the Settings =&gt; Unmonitored apps =&gt; Add your app to the whitelist. Some other Samsung versions may differ the place to disable it, like Battery =&gt; Detail =&gt; Select the app and &quot;Don&#39;t optimize&quot;.\n\nFor other devices there should be same power options either in settings option directly or some app are given to handle it.    ","title":"Android AlarmManager not working on some devices when the app is closed","body":"<p>Nowadays devices are coming with more security in context of Battery power consumption. By default devices keep almost all apps in power saving mode. It means in some devices your background work (Location, Alarm manager) won't work as soon as you come out from the app. In other devices background tasks won't work after a battery threshold limit (like 13%). So you need to keep out your app from this battery saving mode to run your app smoothly even in background. The way to achieve that behavior in these two manufacturers is:</p>\n<h1>Xiaomi</h1>\n<ul>\n<li><p>Go to the Battery =&gt; Power =&gt; App battery Saver =&gt; select your app and choose No restrictions (for Background settings), then Allow option for Background location.</p>\n</li>\n<li><p>To AutoStart your app after Boot: Go to the Security app =&gt; Permissions =&gt; Auto start and check your app.</p>\n</li>\n</ul>\n<h1>Samsung</h1>\n<p>Samsung Smart Manager App used to stop all background work after 3 days if you don't come to your app. So the way to disable this feature is:</p>\n<ul>\n<li>Go to Battery in the Settings =&gt; Unmonitored apps =&gt; Add your app to the whitelist. Some other Samsung versions may differ the place to disable it, like Battery =&gt; Detail =&gt; Select the app and &quot;Don't optimize&quot;.</li>\n</ul>\n<p>For other devices there should be same power options either in settings option directly or some app are given to handle it.</p>\n"},{"tags":[],"owner":{"account_id":5526788,"reputation":3035,"user_id":4388036,"accept_rate":50,"display_name":"tej shah"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1506000304,"creation_date":1506000304,"answer_id":46345193,"question_id":39739669,"body_markdown":"**for Lenovo phone:-** \r\n\r\nyou need to go in setting -&gt; application-&gt;select app-&gt; uncheck Restrict to launch\r\n\r\nnow it will be work in the background as killed state","title":"Android AlarmManager not working on some devices when the app is closed","body":"<p><strong>for Lenovo phone:-</strong> </p>\n\n<p>you need to go in setting -> application->select app-> uncheck Restrict to launch</p>\n\n<p>now it will be work in the background as killed state</p>\n"},{"tags":[],"owner":{"account_id":1734438,"reputation":36255,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1511517711,"creation_date":1509479187,"answer_id":47043450,"question_id":39739669,"body_markdown":"The below behavior changed after a full charge. Previously, after disabling energy saving for this app, it displayed that there was no battery saving active etc, but **only after a full charge** (from very low battery state) did the device behave as it should. So change those settings for the app, then do a full recharge (maybe only after previously having low battery). This could fix it.\n\n---- \n\n### ZTE Blade L110\n\nEven with the battery saver disabled (Settings -&gt; Battery -&gt; Options -&gt; Battery Saver) and the app marked as important for messages (Settings -&gt; Prompt &amp; notification -&gt; App notifications -&gt; appname -&gt; Priority) it seems like neither [`setExact`][1] nor [`setAlarmClock`][2] are triggering on time.\n\n\n  [1]: https://developer.android.com/reference/android/app/AlarmManager.html#setExact(int,%20long,%20android.app.PendingIntent)\n  [2]: https://developer.android.com/reference/android/app/AlarmManager.html#setAlarmClock(android.app.AlarmManager.AlarmClockInfo,%20android.app.PendingIntent)","title":"Android AlarmManager not working on some devices when the app is closed","body":"<p>The below behavior changed after a full charge. Previously, after disabling energy saving for this app, it displayed that there was no battery saving active etc, but <strong>only after a full charge</strong> (from very low battery state) did the device behave as it should. So change those settings for the app, then do a full recharge (maybe only after previously having low battery). This could fix it.</p>\n<hr />\n<h3>ZTE Blade L110</h3>\n<p>Even with the battery saver disabled (Settings -&gt; Battery -&gt; Options -&gt; Battery Saver) and the app marked as important for messages (Settings -&gt; Prompt &amp; notification -&gt; App notifications -&gt; appname -&gt; Priority) it seems like neither <a href=\"https://developer.android.com/reference/android/app/AlarmManager.html#setExact(int,%20long,%20android.app.PendingIntent)\" rel=\"noreferrer\"><code>setExact</code></a> nor <a href=\"https://developer.android.com/reference/android/app/AlarmManager.html#setAlarmClock(android.app.AlarmManager.AlarmClockInfo,%20android.app.PendingIntent)\" rel=\"noreferrer\"><code>setAlarmClock</code></a> are triggering on time.</p>\n"},{"tags":[],"owner":{"account_id":8781386,"reputation":558,"user_id":6564907,"display_name":"Keivan.k"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1597058146,"creation_date":1597058146,"answer_id":63339107,"question_id":39739669,"body_markdown":"First, there is a bug with android studio. If you start the app from the android studio and then swipe it away from the recents, the alarms will be deleted. So after that, relaunch your app by clicking on the launcher Icon and then if you swipe it away, the alarm will be still there.\r\n\r\nSecond, on some devicrs with battery optimization stuff, you should start a foreground service and that works totally fine. \r\n\r\nI could make it work using these two points and now it works like a charm.","title":"Android AlarmManager not working on some devices when the app is closed","body":"<p>First, there is a bug with android studio. If you start the app from the android studio and then swipe it away from the recents, the alarms will be deleted. So after that, relaunch your app by clicking on the launcher Icon and then if you swipe it away, the alarm will be still there.</p>\n<p>Second, on some devicrs with battery optimization stuff, you should start a foreground service and that works totally fine.</p>\n<p>I could make it work using these two points and now it works like a charm.</p>\n"}],"owner":{"account_id":3071044,"reputation":347,"user_id":2601701,"display_name":"user2601701"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20427,"favorite_count":0,"down_vote_count":1,"up_vote_count":33,"answer_count":5,"score":32,"last_activity_date":1664026526,"creation_date":1475044433,"question_id":39739669,"body_markdown":"I am trying to run `IntentService` as such from `AlarmManager` `setRepeating()` for every half an hour. I want to send a to broadcast, from broad cast to intent service. In the service, some functionality will be done.\r\n\r\nBut, initially the `AlarmManager` in not triggering while the app is in closed state.  \r\n\r\nWhen my app  is running or in background state the alarm is working fine and when I close the app the alarm is not working in **some devices**.\r\n\r\nWhat should I do to run the alarm even if the app is closed?","title":"Android AlarmManager not working on some devices when the app is closed","body":"<p>I am trying to run <code>IntentService</code> as such from <code>AlarmManager</code> <code>setRepeating()</code> for every half an hour. I want to send a to broadcast, from broad cast to intent service. In the service, some functionality will be done.</p>\n\n<p>But, initially the <code>AlarmManager</code> in not triggering while the app is in closed state.  </p>\n\n<p>When my app  is running or in background state the alarm is working fine and when I close the app the alarm is not working in <strong>some devices</strong>.</p>\n\n<p>What should I do to run the alarm even if the app is closed?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1664021126,"post_id":73836549,"comment_id":130378888,"body_markdown":"as pointed out in the answers this is probably CORS. Also `WebSecurityConfigurerAdapter` is deprecated in the latest version of spring security. And `configure` method is not needed you dont have to set the password encoder and userdetailsservice manually if you just provide them as beans. Please read the Spring Security documentation as you seem to be following an outdated tutorial.","body":"as pointed out in the answers this is probably CORS. Also <code>WebSecurityConfigurerAdapter</code> is deprecated in the latest version of spring security. And <code>configure</code> method is not needed you dont have to set the password encoder and userdetailsservice manually if you just provide them as beans. Please read the Spring Security documentation as you seem to be following an outdated tutorial."}],"answers":[{"tags":[],"owner":{"account_id":20681699,"reputation":148,"user_id":15185138,"display_name":"Vrezh Arakelyan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664019083,"creation_date":1664019083,"answer_id":73836876,"question_id":73836549,"body_markdown":"Your problem seems to be with CSRF rather than with UserDetailsService&#39;s implementation not being registered, Starting from Spring 4.x, CSRF protection is enabled by default and unless you turn it off like \r\n```\r\nhttp\r\n    .csrf()\r\n    .disable()\r\n```\r\nyou are going to get 403 errors.","title":"Custom UserDetailsService is not called by spring-boot","body":"<p>Your problem seems to be with CSRF rather than with UserDetailsService's implementation not being registered, Starting from Spring 4.x, CSRF protection is enabled by default and unless you turn it off like</p>\n<pre><code>http\n    .csrf()\n    .disable()\n</code></pre>\n<p>you are going to get 403 errors.</p>\n"}],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73836876,"answer_count":1,"score":2,"last_activity_date":1664026401,"creation_date":1664015793,"question_id":73836549,"body_markdown":"I&#39;m trying to use `UserDetailsService` in `spring-security` to implement my authentication logic. However, `UserDetailsService` is not called during an HTTP request. Here is the code:\r\n\r\n```java\r\n@Service\r\npublic class CustomUserDetailsService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String userId) throws UsernameNotFoundException {\r\n        Optional&lt;User&gt; user = userService.getById(Long.parseLong(userId));\r\n        if (user.isEmpty()) {\r\n            throw new UsernameNotFoundException(&quot;User &quot; + userId + &quot; not found&quot;);\r\n        }\r\n        return new org.springframework.security.core.userdetails.User(\r\n                user.get().getName(),\r\n                user.get().getHashedPassword(),\r\n                List.of());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private CustomUserDetailsService customUserDetailsService;\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {  // (2)\r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/user/add&quot;, &quot;/user/loginByEmail&quot;).permitAll() // (3)\r\n            .anyRequest().authenticated()\r\n            .and()\r\n            .logout()\r\n            .permitAll()\r\n            .and()\r\n            .httpBasic();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(customUserDetailsService)\r\n            .passwordEncoder(passwordEncoder);\r\n    }\r\n}\r\n```\r\n\r\nI use a test to test the authentication logic, here is the core of the test code:\r\n\r\n```java\r\nMvcResult addMvcResult = mockMvc.perform(post(&quot;/habit/friend/addById&quot;)\r\n                .with(SecurityMockMvcRequestPostProcessors.httpBasic(&quot;Joey&quot;, &quot;password&quot;))\r\n                .contentType(&quot;application/json&quot;)\r\n                .content(StringUtils.toJSONString(addFriendRequestByIdDTO)))\r\n        .andExpect(status().isOk())\r\n        .andReturn();\r\n```\r\n\r\nThe log shows that the authentication header is inserted by spring-test:\r\n\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /habit/friend/addById\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;47&quot;, Authorization:&quot;Basic Sm9leTpwYXNzd29yZA==&quot;]\r\n             Body = {\r\n  &quot;currentUserId&quot; : 1,\r\n  &quot;friendUserId&quot; : 2\r\n}\r\n    Session Attrs = {org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository.CSRF_TOKEN=org.springframework.security.web.csrf.DefaultCsrfToken@3a48c398}\r\n```\r\n\r\nHowever, the authentication failed, I got a 403, and `CustomUserDetailsService` is never called. Why?","title":"Custom UserDetailsService is not called by spring-boot","body":"<p>I'm trying to use <code>UserDetailsService</code> in <code>spring-security</code> to implement my authentication logic. However, <code>UserDetailsService</code> is not called during an HTTP request. Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    private UserService userService;\n\n    @Override\n    public UserDetails loadUserByUsername(String userId) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = userService.getById(Long.parseLong(userId));\n        if (user.isEmpty()) {\n            throw new UsernameNotFoundException(&quot;User &quot; + userId + &quot; not found&quot;);\n        }\n        return new org.springframework.security.core.userdetails.User(\n                user.get().getName(),\n                user.get().getHashedPassword(),\n                List.of());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private CustomUserDetailsService customUserDetailsService;\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {  // (2)\n        http.authorizeRequests()\n            .antMatchers(&quot;/user/add&quot;, &quot;/user/loginByEmail&quot;).permitAll() // (3)\n            .anyRequest().authenticated()\n            .and()\n            .logout()\n            .permitAll()\n            .and()\n            .httpBasic();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(customUserDetailsService)\n            .passwordEncoder(passwordEncoder);\n    }\n}\n</code></pre>\n<p>I use a test to test the authentication logic, here is the core of the test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MvcResult addMvcResult = mockMvc.perform(post(&quot;/habit/friend/addById&quot;)\n                .with(SecurityMockMvcRequestPostProcessors.httpBasic(&quot;Joey&quot;, &quot;password&quot;))\n                .contentType(&quot;application/json&quot;)\n                .content(StringUtils.toJSONString(addFriendRequestByIdDTO)))\n        .andExpect(status().isOk())\n        .andReturn();\n</code></pre>\n<p>The log shows that the authentication header is inserted by spring-test:</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /habit/friend/addById\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;47&quot;, Authorization:&quot;Basic Sm9leTpwYXNzd29yZA==&quot;]\n             Body = {\n  &quot;currentUserId&quot; : 1,\n  &quot;friendUserId&quot; : 2\n}\n    Session Attrs = {org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository.CSRF_TOKEN=org.springframework.security.web.csrf.DefaultCsrfToken@3a48c398}\n</code></pre>\n<p>However, the authentication failed, I got a 403, and <code>CustomUserDetailsService</code> is never called. Why?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1663944253,"post_id":73829219,"comment_id":130365654,"body_markdown":"You should use the entity name configured in @Entity to refer to the table,and as far as I can see your table name is &quot;user_&quot;","body":"You should use the entity name configured in @Entity to refer to the table,and as far as I can see your table name is &quot;user_&quot;"},{"owner":{"account_id":1886942,"reputation":338,"user_id":1705972,"display_name":"pierrovic"},"score":0,"creation_date":1663944912,"post_id":73829219,"comment_id":130365914,"body_markdown":"Thanks for answering! I&#39;m not setting an @Entity(name=&quot;&quot;) so Hibernate should default to using the class name right? I tried setting a name and using that in code but that didn&#39;t fix it.\nAnd yeah, the database table name is &quot;user_&quot; which is weird but consistent in the table and code reference. I also tried changing that name with no success.","body":"Thanks for answering! I&#39;m not setting an @Entity(name=&quot;&quot;) so Hibernate should default to using the class name right? I tried setting a name and using that in code but that didn&#39;t fix it. And yeah, the database table name is &quot;user_&quot; which is weird but consistent in the table and code reference. I also tried changing that name with no success."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1663950061,"post_id":73829219,"comment_id":130367846,"body_markdown":"I retried with your HibernateUtils, see if changing the line for sessionFactory to `sessionFactory = configuration.configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();` helps.","body":"I retried with your HibernateUtils, see if changing the line for sessionFactory to <code>sessionFactory = configuration.configure(&quot;hibernate.cfg.xml&quot;).buildSessionFac&zwnj;&#8203;tory();</code> helps."},{"owner":{"account_id":1886942,"reputation":338,"user_id":1705972,"display_name":"pierrovic"},"score":0,"creation_date":1663967127,"post_id":73829219,"comment_id":130372229,"body_markdown":"Hey @samabcde, that did do the trick. Thank you!","body":"Hey @samabcde, that did do the trick. Thank you!"},{"owner":{"account_id":1886942,"reputation":338,"user_id":1705972,"display_name":"pierrovic"},"score":0,"creation_date":1664000627,"post_id":73829219,"comment_id":130375814,"body_markdown":"@samabcde If you post that as an answer, I&#39;d be happy to accept it.","body":"@samabcde If you post that as an answer, I&#39;d be happy to accept it."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664026286,"creation_date":1664026286,"answer_id":73837600,"question_id":73829219,"body_markdown":"The problem is due to below configuration(seems most Hibernate tutorial configuration is like this)\r\n```java\r\nserviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\r\nsessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n```\r\n\r\nIt is not working in Hibernate 5, the reason **may be** due to [Service Registry API update][1].\r\n\r\nThe fix is to simply write it \r\n```\r\nsessionFactory = configuration.configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\r\n```\r\nby referring to [3.8. XML configuration file][2]\r\n\r\n  [1]: https://hibernate.org/search/documentation/migrate/5.0#serviceregistry-api-updated\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.0/manual/en-US/html/ch03.html#configuration-xmlconfig","title":"Hibernate unable to map entity - QuerySyntaxException","body":"<p>The problem is due to below configuration(seems most Hibernate tutorial configuration is like this)</p>\n<pre class=\"lang-java prettyprint-override\"><code>serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\nsessionFactory = configuration.buildSessionFactory(serviceRegistry);\n</code></pre>\n<p>It is not working in Hibernate 5, the reason <strong>may be</strong> due to <a href=\"https://hibernate.org/search/documentation/migrate/5.0#serviceregistry-api-updated\" rel=\"nofollow noreferrer\">Service Registry API update</a>.</p>\n<p>The fix is to simply write it</p>\n<pre><code>sessionFactory = configuration.configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\n</code></pre>\n<p>by referring to <a href=\"https://docs.jboss.org/hibernate/orm/5.0/manual/en-US/html/ch03.html#configuration-xmlconfig\" rel=\"nofollow noreferrer\">3.8. XML configuration file</a></p>\n"}],"owner":{"account_id":1886942,"reputation":338,"user_id":1705972,"display_name":"pierrovic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73837600,"answer_count":1,"score":1,"last_activity_date":1664026286,"creation_date":1663943022,"question_id":73829219,"body_markdown":"I’m trying to upgrade some components of an old legacy war application and have run into trouble when upgrading to Hibernate 5.6. Hibernate is now no longer able to map my User entity and I&#39;m not sure why.\r\n\r\nAny help would be highly appreciated. Let me know if you need additional info.\r\n\r\nEDIT: Added HibernateUtil\r\n\r\nError:\r\n```\r\ncom.myapp.hibernate.exception.MyAppHibernateException: org.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped [FROM User WHERE username = :username]\r\n\tat com.myapp.hibernate.HibernateManager.getUser(HibernateManager.java:97)\r\n\tat com.myapp.servlets.LoginServlet.doPost(LoginServlet.java:46)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat com.myapp.filter.SessionFilter.doFilter(SessionFilter.java:61)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat com.myapp.hibernate.HibernateSessionRequestFilter.doFilter(HibernateSessionRequestFilter.java:36)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat com.myapp.filter.PropertiesLoadErrorFilter.doFilter(PropertiesLoadErrorFilter.java:48)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat com.myapp.filter.RequestFilter.doFilter(RequestFilter.java:29)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n```\r\nFailing code:\r\n```\r\npublic User getUser(String username) throws MyAppHibernateException {\r\n\t\ttry {\r\n\t\t\tQuery query = getSession().createQuery(&quot;FROM User WHERE username = :username&quot;);\r\n\t\t\tquery.setParameter(&quot;username&quot;, username);\r\n\t\t\tList&lt;User&gt; users = query.list();\r\n\t\t\tUser user = null;\r\n\t\t\tif (users.size() &gt; 0)\r\n\t\t\t\tuser = users.get(0);\r\n\r\n\t\t\treturn user;\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(e.getMessage());\r\n\t\t\tthrow new MyAppHibernateException(e.getMessage());\r\n\t\t}\r\n}\r\n```\r\nhibernate.cfg.xml (located in WEB-INF/classes)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n&quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t \t&lt;!-- Database connection settings --&gt;\r\n\t \t&lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.transaction.coordinator_class&quot;&gt;jdbc&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.PostgreSQL10Dialect&lt;/property&gt;\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;!-- Connection pool --&gt;\r\n\t\t&lt;property name=&quot;c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.max_size&quot;&gt;15&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;!-- Mapping resource configuration files --&gt;\r\n\t\t&lt;mapping class=&quot;com.myapp.hibernate.models.User&quot; /&gt;\t\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\nHibernateUtil\r\n```\r\npackage com.myapp.hibernate;\r\n\r\nimport org.apache.log4j.Logger;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.service.ServiceRegistry;\r\nimport com.myapp.properties.MyProperties;\r\n\r\npublic class HibernateUtil {\r\n\r\n\tprivate static ServiceRegistry serviceRegistry;\r\n\tprivate static final SessionFactory sessionFactory;\r\n\t\r\n\tprivate static Logger logger = Logger.getLogger(HibernateUtil.class.getName());\r\n\r\n\tstatic {\r\n\t\ttry {\r\n\t\t\tlogger.info(&quot;Statically initializing Hibernate Session Factory&quot;);\r\n\r\n\t\t\tConfiguration configuration = new Configuration()\r\n\t\t\t\t.setProperty(&quot;hibernate.connection.url&quot;, MyProperties.getHibernateUrl())                                \r\n\t\t\t\t.setProperty(&quot;hibernate.connection.username&quot;, MyProperties.getHibernateUser())     \r\n\t\t\t\t.setProperty(&quot;hibernate.connection.password&quot;, MyProperties.getHibernatePwd());\r\n\t\t\tif (MyProperties.getHibernateHbm2ddl_auto() != null) {\r\n\t\t\t\tconfiguration.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, MyProperties.getHibernateHbm2ddl_auto());\r\n\t\t\t}\r\n\t\t\tconfiguration.configure(&quot;hibernate.cfg.xml&quot;);\r\n\t\t\t\r\n\t\t\tserviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\r\n\t\t\tsessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n\t\t} catch (Throwable ex) {\r\n\t\t\tlogger.info(&quot;Failed to create sessionFactory object. &quot; + ex.getMessage());\r\n\t\t\tthrow new ExceptionInInitializerError(ex);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static SessionFactory getSessionFactory() {\r\n\t\treturn sessionFactory;\r\n\t}\r\n}\r\n```\r\n\r\nUser entity\r\n```\r\npackage com.myapp.hibernate.models;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.SequenceGenerator;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;user_&quot;)\r\npublic class User {\r\n\t@Id\r\n\t@SequenceGenerator(name = &quot;user_seq&quot;, sequenceName = &quot;user_id_seq&quot;, allocationSize = 1)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_seq&quot;)\r\n\t@Column(name = &quot;id&quot;, unique = true)\r\n\tprivate int identifier;\r\n\r\n\t@Column(name = &quot;username&quot;, unique = true)\r\n\tprivate String username;\r\n\r\n\t@Column(name = &quot;password&quot;)\r\n\tprivate String password;\r\n\r\n\t@Column(name = &quot;firstName&quot;, nullable = false)\r\n\tprivate String firstName;\r\n\r\n\t@Column(name = &quot;lastName&quot;, nullable = false)\r\n\tprivate String lastName;\r\n\r\n\r\n\tpublic User() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic User(String username, String password, String firstName, String lastName) {\r\n\t\tsuper();\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n}\r\n```\r\nSQL\r\n```\r\nCREATE TABLE &quot;public&quot;.&quot;user_&quot; (\r\n  &quot;id&quot; int4 NOT NULL,\r\n  &quot;firstname&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; NOT NULL,\r\n  &quot;lastname&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; NOT NULL,\r\n  &quot;password&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\r\n  &quot;username&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\r\n);\r\n```","title":"Hibernate unable to map entity - QuerySyntaxException","body":"<p>I’m trying to upgrade some components of an old legacy war application and have run into trouble when upgrading to Hibernate 5.6. Hibernate is now no longer able to map my User entity and I'm not sure why.</p>\n<p>Any help would be highly appreciated. Let me know if you need additional info.</p>\n<p>EDIT: Added HibernateUtil</p>\n<p>Error:</p>\n<pre><code>com.myapp.hibernate.exception.MyAppHibernateException: org.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped [FROM User WHERE username = :username]\n    at com.myapp.hibernate.HibernateManager.getUser(HibernateManager.java:97)\n    at com.myapp.servlets.LoginServlet.doPost(LoginServlet.java:46)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.myapp.filter.SessionFilter.doFilter(SessionFilter.java:61)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.myapp.hibernate.HibernateSessionRequestFilter.doFilter(HibernateSessionRequestFilter.java:36)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.myapp.filter.PropertiesLoadErrorFilter.doFilter(PropertiesLoadErrorFilter.java:48)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.myapp.filter.RequestFilter.doFilter(RequestFilter.java:29)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>Failing code:</p>\n<pre><code>public User getUser(String username) throws MyAppHibernateException {\n        try {\n            Query query = getSession().createQuery(&quot;FROM User WHERE username = :username&quot;);\n            query.setParameter(&quot;username&quot;, username);\n            List&lt;User&gt; users = query.list();\n            User user = null;\n            if (users.size() &gt; 0)\n                user = users.get(0);\n\n            return user;\n        } catch (Exception e) {\n            logger.error(e.getMessage());\n            throw new MyAppHibernateException(e.getMessage());\n        }\n}\n</code></pre>\n<p>hibernate.cfg.xml (located in WEB-INF/classes)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n&quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- Database connection settings --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.transaction.coordinator_class&quot;&gt;jdbc&lt;/property&gt;\n\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.PostgreSQL10Dialect&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        \n        &lt;!-- Connection pool --&gt;\n        &lt;property name=&quot;c3p0.min_size&quot;&gt;5&lt;/property&gt;\n        &lt;property name=&quot;c3p0.max_size&quot;&gt;15&lt;/property&gt;\n        &lt;property name=&quot;c3p0.timeout&quot;&gt;300&lt;/property&gt;\n        &lt;property name=&quot;c3p0.max_statements&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\n        \n        &lt;!-- Mapping resource configuration files --&gt;\n        &lt;mapping class=&quot;com.myapp.hibernate.models.User&quot; /&gt; \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>HibernateUtil</p>\n<pre><code>package com.myapp.hibernate;\n\nimport org.apache.log4j.Logger;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\nimport com.myapp.properties.MyProperties;\n\npublic class HibernateUtil {\n\n    private static ServiceRegistry serviceRegistry;\n    private static final SessionFactory sessionFactory;\n    \n    private static Logger logger = Logger.getLogger(HibernateUtil.class.getName());\n\n    static {\n        try {\n            logger.info(&quot;Statically initializing Hibernate Session Factory&quot;);\n\n            Configuration configuration = new Configuration()\n                .setProperty(&quot;hibernate.connection.url&quot;, MyProperties.getHibernateUrl())                                \n                .setProperty(&quot;hibernate.connection.username&quot;, MyProperties.getHibernateUser())     \n                .setProperty(&quot;hibernate.connection.password&quot;, MyProperties.getHibernatePwd());\n            if (MyProperties.getHibernateHbm2ddl_auto() != null) {\n                configuration.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, MyProperties.getHibernateHbm2ddl_auto());\n            }\n            configuration.configure(&quot;hibernate.cfg.xml&quot;);\n            \n            serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\n            sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n        } catch (Throwable ex) {\n            logger.info(&quot;Failed to create sessionFactory object. &quot; + ex.getMessage());\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n}\n</code></pre>\n<p>User entity</p>\n<pre><code>package com.myapp.hibernate.models;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;user_&quot;)\npublic class User {\n    @Id\n    @SequenceGenerator(name = &quot;user_seq&quot;, sequenceName = &quot;user_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_seq&quot;)\n    @Column(name = &quot;id&quot;, unique = true)\n    private int identifier;\n\n    @Column(name = &quot;username&quot;, unique = true)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;firstName&quot;, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;lastName&quot;, nullable = false)\n    private String lastName;\n\n\n    public User() {\n        super();\n    }\n\n    public User(String username, String password, String firstName, String lastName) {\n        super();\n        this.username = username;\n        this.password = password;\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p>SQL</p>\n<pre><code>CREATE TABLE &quot;public&quot;.&quot;user_&quot; (\n  &quot;id&quot; int4 NOT NULL,\n  &quot;firstname&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; NOT NULL,\n  &quot;lastname&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; NOT NULL,\n  &quot;password&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\n  &quot;username&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\n);\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"score":0,"creation_date":1518548380,"post_id":48773758,"comment_id":84549039,"body_markdown":"try to use a service...","body":"try to use a service..."},{"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"score":0,"creation_date":1518548384,"post_id":48773758,"comment_id":84549042,"body_markdown":"how did u know it is not signing out? By using the code above the authenticated user will be signed out of the app and won&#39;t be the current user. But you still need to take him to the specific activity","body":"how did u know it is not signing out? By using the code above the authenticated user will be signed out of the app and won&#39;t be the current user. But you still need to take him to the specific activity"},{"owner":{"account_id":9265238,"reputation":67,"user_id":6880859,"accept_rate":100,"display_name":"Imran Anwar"},"score":0,"creation_date":1518548572,"post_id":48773758,"comment_id":84549137,"body_markdown":"before it was working correctly and after sign out goes to login activity but not now","body":"before it was working correctly and after sign out goes to login activity but not now"},{"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"score":0,"creation_date":1518548649,"post_id":48773758,"comment_id":84549175,"body_markdown":"now what does it do?","body":"now what does it do?"},{"owner":{"account_id":9265238,"reputation":67,"user_id":6880859,"accept_rate":100,"display_name":"Imran Anwar"},"score":0,"creation_date":1518548743,"post_id":48773758,"comment_id":84549213,"body_markdown":"it stays on same activity","body":"it stays on same activity"},{"owner":{"account_id":9265238,"reputation":67,"user_id":6880859,"accept_rate":100,"display_name":"Imran Anwar"},"score":0,"creation_date":1518548899,"post_id":48773758,"comment_id":84549298,"body_markdown":"i have to go manually??ok","body":"i have to go manually??ok"},{"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"score":0,"creation_date":1518549432,"post_id":48773758,"comment_id":84549573,"body_markdown":"@ImranAnwar check the answer to understand","body":"@ImranAnwar check the answer to understand"},{"owner":{"account_id":9265238,"reputation":67,"user_id":6880859,"accept_rate":100,"display_name":"Imran Anwar"},"score":0,"creation_date":1518549534,"post_id":48773758,"comment_id":84549623,"body_markdown":"Thanks now its working...","body":"Thanks now its working..."}],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1518550201,"creation_date":1518549408,"answer_id":48774063,"question_id":48773758,"body_markdown":"Inside this method:\r\n\r\n    private void logOut() {\r\n    FirebaseAuth.getInstance().signOut();\r\n    Intent i=new Intent(getApplicationContext(),LoginActivity.class);\r\n    startActivity(i);\r\n\r\n    }\r\n\r\nIn the above the user will be signed out and then he will go to the LoginActivity.\r\n\r\nThen inside your LoginActivity, you can check if there is a user logged in or no try this:\r\n\r\n\r\n     FirebaseUser user=FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n     if(user!=null){\r\n\r\n      Log.i(&quot;a user is logged in: &quot;,user);\r\n     }\r\n      else{\r\n           Log.i(&quot;Username&quot;, &quot;there is no user&quot;);\r\n         }","title":"User is not getting sign out firebase android","body":"<p>Inside this method:</p>\n\n<pre><code>private void logOut() {\nFirebaseAuth.getInstance().signOut();\nIntent i=new Intent(getApplicationContext(),LoginActivity.class);\nstartActivity(i);\n\n}\n</code></pre>\n\n<p>In the above the user will be signed out and then he will go to the LoginActivity.</p>\n\n<p>Then inside your LoginActivity, you can check if there is a user logged in or no try this:</p>\n\n<pre><code> FirebaseUser user=FirebaseAuth.getInstance().getCurrentUser();\n\n if(user!=null){\n\n  Log.i(\"a user is logged in: \",user);\n }\n  else{\n       Log.i(\"Username\", \"there is no user\");\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21933382,"reputation":41,"user_id":16215010,"display_name":"Sakib Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664025936,"creation_date":1663963131,"answer_id":73832433,"question_id":48773758,"body_markdown":"```\r\n{       \r\n     FirebaseAuth.instance.signOut();             \r\n     Navigator.of(context).pushReplacement(\r\n                      \r\n     MaterialPageRoute(builder: ((context) =&gt; MainPage())));\r\n},\r\n```","title":"User is not getting sign out firebase android","body":"<pre><code>{       \n     FirebaseAuth.instance.signOut();             \n     Navigator.of(context).pushReplacement(\n                      \n     MaterialPageRoute(builder: ((context) =&gt; MainPage())));\n},\n</code></pre>\n"}],"owner":{"account_id":9265238,"reputation":67,"user_id":6880859,"accept_rate":100,"display_name":"Imran Anwar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48774063,"answer_count":2,"score":1,"last_activity_date":1664025936,"creation_date":1518548294,"question_id":48773758,"body_markdown":"User is not getting sign out Firebase android. When i press logout button it does not sign out.\r\n\r\nCode is here:-\r\n\r\n    btnLogout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                logOut();\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\n    private void logOut() {\r\n\r\n        FirebaseAuth.getInstance().signOut();\r\n\r\n    }\r\nLogs are:\r\n\r\n&gt;02-13 23:54:19.654 3073-3073/com.example.imran.blooddonors I/View: Touch down dispatch to android.widget.Button{42d3afa0 VFED..C. ........ 120,594-600,690 #7f08002b app:id/btnAdminPanelLogout}, event = MotionEvent { action=ACTION_DOWN, id[0]=0, x[0]=218.52982, y[0]=88.352844, toolType[0]=TOOL_TYPE_FINGER, buttonState=0, metaState=0, flags=0x0, edgeFlags=0x0, pointerCount=1, historySize=0, eventTime=202325584, downTime=202325584, deviceId=2, source=0x1002 }\r\n02-13 23:54:19.704 3073-3073/com.example.imran.blooddonors I/View: Touch up dispatch to android.widget.Button{42d3afa0 VFED..C. ...P.... 120,594-600,690 #7f08002b app:id/btnAdminPanelLogout}, event = MotionEvent { action=ACTION_UP, id[0]=0, x[0]=219.69275, y[0]=90.68005, toolType[0]=TOOL_TYPE_FINGER, buttonState=0, metaState=0, flags=0x0, edgeFlags=0x0, pointerCount=1, historySize=0, eventTime=202325635, downTime=202325584, deviceId=2, source=0x1002 }\r\n02-13 23:54:19.706 3073-3073/com.example.imran.blooddonors D/FirebaseAuth: Notifying id token listeners about a sign-out event.\r\n02-13 23:54:19.706 3073-3073/com.example.imran.blooddonors D/FirebaseAuth: Notifying auth state listeners about a sign-out event.\r\n","title":"User is not getting sign out firebase android","body":"<p>User is not getting sign out Firebase android. When i press logout button it does not sign out.</p>\n\n<p>Code is here:-</p>\n\n<pre><code>btnLogout.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            logOut();\n\n\n\n        }\n    });\n\nprivate void logOut() {\n\n    FirebaseAuth.getInstance().signOut();\n\n}\n</code></pre>\n\n<p>Logs are:</p>\n\n<blockquote>\n  <p>02-13 23:54:19.654 3073-3073/com.example.imran.blooddonors I/View: Touch down dispatch to android.widget.Button{42d3afa0 VFED..C. ........ 120,594-600,690 #7f08002b app:id/btnAdminPanelLogout}, event = MotionEvent { action=ACTION_DOWN, id[0]=0, x[0]=218.52982, y[0]=88.352844, toolType[0]=TOOL_TYPE_FINGER, buttonState=0, metaState=0, flags=0x0, edgeFlags=0x0, pointerCount=1, historySize=0, eventTime=202325584, downTime=202325584, deviceId=2, source=0x1002 }\n  02-13 23:54:19.704 3073-3073/com.example.imran.blooddonors I/View: Touch up dispatch to android.widget.Button{42d3afa0 VFED..C. ...P.... 120,594-600,690 #7f08002b app:id/btnAdminPanelLogout}, event = MotionEvent { action=ACTION_UP, id[0]=0, x[0]=219.69275, y[0]=90.68005, toolType[0]=TOOL_TYPE_FINGER, buttonState=0, metaState=0, flags=0x0, edgeFlags=0x0, pointerCount=1, historySize=0, eventTime=202325635, downTime=202325584, deviceId=2, source=0x1002 }\n  02-13 23:54:19.706 3073-3073/com.example.imran.blooddonors D/FirebaseAuth: Notifying id token listeners about a sign-out event.\n  02-13 23:54:19.706 3073-3073/com.example.imran.blooddonors D/FirebaseAuth: Notifying auth state listeners about a sign-out event.</p>\n</blockquote>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1663895119,"post_id":73820082,"comment_id":130352474,"body_markdown":"Discord does not allow you to arbitrarily force users into a voice connection. That would be an excessively annoying feature.","body":"Discord does not allow you to arbitrarily force users into a voice connection. That would be an excessively annoying feature."},{"owner":{"account_id":26416440,"reputation":3,"user_id":20064782,"display_name":"karicac848"},"score":0,"creation_date":1663929916,"post_id":73820082,"comment_id":130360268,"body_markdown":"Even switch channel from A to B?","body":"Even switch channel from A to B?"}],"answers":[{"tags":[],"owner":{"account_id":25793222,"reputation":1,"user_id":19536937,"display_name":"a-sta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664024734,"creation_date":1664024734,"answer_id":73837446,"question_id":73820082,"body_markdown":"No, discord does not support this feature. But, you can get every active member that is in a voice channel and move them into one specific channel.\r\n","title":"Discord bot JDA connect user to channel","body":"<p>No, discord does not support this feature. But, you can get every active member that is in a voice channel and move them into one specific channel.</p>\n"}],"owner":{"account_id":26416440,"reputation":3,"user_id":20064782,"display_name":"karicac848"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664024734,"creation_date":1663876797,"question_id":73820082,"body_markdown":"I want create bot with join all online users to voice channel. I can get users but I can&#39;t connect them to channel. I saw many similar questions but all solutions don&#39;t work, does discord disabled this feature? Does net.dv8tion JDA end support this? ","title":"Discord bot JDA connect user to channel","body":"<p>I want create bot with join all online users to voice channel. I can get users but I can't connect them to channel. I saw many similar questions but all solutions don't work, does discord disabled this feature? Does net.dv8tion JDA end support this?</p>\n"},{"tags":["java","spring-boot","ubuntu","nginx","swagger-ui"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1664011597,"post_id":73836070,"comment_id":130377336,"body_markdown":"Have you checked there are no errors in the browser console or in the network tab?","body":"Have you checked there are no errors in the browser console or in the network tab?"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1664011779,"post_id":73836070,"comment_id":130377366,"body_markdown":"Has error https://user-images.githubusercontent.com/1328316/192090837-827ae093-df7b-41b6-85a5-30c72fee3bd6.png and https://user-images.githubusercontent.com/1328316/192090974-ea504948-6269-4c77-8877-1c6d139db754.png Seemly due to CORS","body":"Has error <a href=\"https://user-images.githubusercontent.com/1328316/192090837-827ae093-df7b-41b6-85a5-30c72fee3bd6.png\" rel=\"nofollow noreferrer\">user-images.githubusercontent.com/1328316/&hellip;</a> and <a href=\"https://user-images.githubusercontent.com/1328316/192090974-ea504948-6269-4c77-8877-1c6d139db754.png\" rel=\"nofollow noreferrer\">user-images.githubusercontent.com/1328316/&hellip;</a> Seemly due to CORS"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664011898,"post_id":73836070,"comment_id":130377386,"body_markdown":"404...something is missing in target environment, what is available in your DEV..swagger-ui?? (lib/standalone)","body":"404...something is missing in target environment, what is available in your DEV..swagger-ui?? (lib/standalone)"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664024487,"creation_date":1664024487,"answer_id":73837422,"question_id":73836070,"body_markdown":"Check the files that are linked to from Swagger UI&#39;s `index.html`. These are all relative to the `index.html` file itself.\r\n\r\nIt works on localhost, because there you don&#39;t perform any mapping. You access `/swagger-ui/index.html`. That means the browser is trying to load files like `/swagger-ui/swagger-ui-bundle.js` which works because they are available at that URL.\r\n\r\nOn nginx, you don&#39;t call `/swagger-ui/index.html` but `/`. The files are still relative to this URL. That means the browser is trying to load files like `/swagger-ui-bundle.js`. That&#39;s not the correct path for them, so all of the linked files give 404 errors. That&#39;s why you don&#39;t see anything.\r\n\r\nTry mapping `/.*` to `/swagger-ui/.*` (no idea how to do that in nginx). That way, when the browser tries to load `/swagger-ui-bundle.js`, that&#39;s mapped to `/swagger-ui/swagger-ui-bundle.js` which does exist.\r\n","title":"Swagger did not work on real server, how to fix?","body":"<p>Check the files that are linked to from Swagger UI's <code>index.html</code>. These are all relative to the <code>index.html</code> file itself.</p>\n<p>It works on localhost, because there you don't perform any mapping. You access <code>/swagger-ui/index.html</code>. That means the browser is trying to load files like <code>/swagger-ui/swagger-ui-bundle.js</code> which works because they are available at that URL.</p>\n<p>On nginx, you don't call <code>/swagger-ui/index.html</code> but <code>/</code>. The files are still relative to this URL. That means the browser is trying to load files like <code>/swagger-ui-bundle.js</code>. That's not the correct path for them, so all of the linked files give 404 errors. That's why you don't see anything.</p>\n<p>Try mapping <code>/.*</code> to <code>/swagger-ui/.*</code> (no idea how to do that in nginx). That way, when the browser tries to load <code>/swagger-ui-bundle.js</code>, that's mapped to <code>/swagger-ui/swagger-ui-bundle.js</code> which does exist.</p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664024487,"creation_date":1664011270,"question_id":73836070,"body_markdown":"Development machine: Windows 11 pro x64, JDK/Java 19, Spring Boot 2.7.4 . \r\n\r\nReal server: Ubuntu 22.04.1 LTS, Oracle JDK/Java 19, nginx 1.18.0 .\r\n\r\n```\r\nroot@vypc:~# nginx -v\r\nnginx version: nginx/1.18.0 (Ubuntu)\r\n```\r\n\r\n\r\n```\r\nnano /etc/nginx/conf.d/mydomain.com.conf\r\n```\r\n\r\n```\r\nserver {\r\n        listen 80;\r\n        listen [::]:80;\r\n\r\n        server_name mydomain.com;\r\n\r\n        location / {\r\n             # proxy_pass http://localhost:8081/;\r\n             proxy_pass http://localhost:8081/swagger-ui/index.html;\r\n             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n             proxy_set_header X-Forwarded-Proto $scheme;\r\n             proxy_set_header X-Forwarded-Port $server_port;\r\n        }\r\n}\r\n\r\n```\r\n\r\n\r\nFile `application.properties`\r\n\r\n```\r\nserver.port=8081\r\n\r\nspring.datasource.url=jdbc:postgresql://103.48.xxx.xxx:5432/fooXXX\r\nspring.datasource.username=MySecretUser\r\nspring.datasource.password=MyScret\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n# Application properties\r\n# https://passwordsgenerator.net/\r\napp.jwtSecret=pXpYPZ8d8FQv7UDepXpYPZ8d8FQv7UDegMxYPZ8d8FQv7UDepXpYPZ8d8FQv7UDepXpYPZ8d8FQv7UDepXpYPZ8d8FQv7UDe\r\napp.jwtExpirationMs=86400000\r\n\r\n# swagger-ui custom path. Run ok.\r\n# http://localhost:8081/swagger-ui/index.html\r\nspringdoc.swagger-ui.path=/swagger-ui.html\r\nspringdoc.packagesToScan=com.example.controller, com.example.controllers\r\n\r\n#logging.level.root=ERROR\r\nlogging.level.root=INFO\r\n# Write logs to the current directory.\r\nlogging.file.path=./log\r\n\r\n# https://stackoverflow.com/a/49257939/3728901\r\n#spring.sql.init.mode=always\r\n#spring.jpa.defer-datasource-initialization=true\r\n#spring.jpa.hibernate.ddl-auto=none\r\n```\r\n\r\nFile\r\n\r\n```java\r\npackage com.example.security;\r\n\r\nimport com.example.security.jwt.AuthEntryPointJwt;\r\nimport com.example.security.jwt.AuthTokenFilter;\r\nimport com.example.security.services.UserDetailsServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\r\nimport org.springframework.security.web.server.SecurityWebFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        // securedEnabled = true,\r\n        // jsr250Enabled = true,\r\n        prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                //.authorizeRequests().antMatchers(&quot;/api/auth/**&quot;, &quot;/swagger-ui/**&quot;).permitAll()\r\n\r\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll()\r\n\r\n                .antMatchers(&quot;/app/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        //;\r\n\r\n       // .addFilterAfter(new CustomFilter(), BasicAuthenticationFilter.class); // VyDN 2022_07_22 // https://www.baeldung.com/spring-security-custom-filter\r\n    }\r\n\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nReal sever\r\n\r\n```\r\nsudo vi /etc/hosts\r\n```\r\nresult\r\n\r\n```\r\n127.0.0.1 localhost\r\n127.0.1.1 localhost\r\n127.0.0.1 mydomain.com\r\n127.0.0.1 www.mydomain.com\r\n103.48.YYY.XXX mydomain.com\r\n\r\n# The following lines are desirable for IPv6 capable hosts\r\n::1     ip6-localhost ip6-loopback\r\nfe00::0 ip6-localnet\r\nff00::0 ip6-mcastprefix\r\nff02::1 ip6-allnodes\r\nff02::2 ip6-allrouters\r\n\r\n103.48.YYY.XXX  vypc.foo.net vypc\r\n```\r\n\r\nHow to make Swagger working correctly on real server?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BO8WK.png\r\n  [2]: https://i.stack.imgur.com/SBinn.png\r\n  [3]: https://i.stack.imgur.com/L2ui0.png","title":"Swagger did not work on real server, how to fix?","body":"<p>Development machine: Windows 11 pro x64, JDK/Java 19, Spring Boot 2.7.4 .</p>\n<p>Real server: Ubuntu 22.04.1 LTS, Oracle JDK/Java 19, nginx 1.18.0 .</p>\n<pre><code>root@vypc:~# nginx -v\nnginx version: nginx/1.18.0 (Ubuntu)\n</code></pre>\n<pre><code>nano /etc/nginx/conf.d/mydomain.com.conf\n</code></pre>\n<pre><code>server {\n        listen 80;\n        listen [::]:80;\n\n        server_name mydomain.com;\n\n        location / {\n             # proxy_pass http://localhost:8081/;\n             proxy_pass http://localhost:8081/swagger-ui/index.html;\n             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n             proxy_set_header X-Forwarded-Proto $scheme;\n             proxy_set_header X-Forwarded-Port $server_port;\n        }\n}\n\n</code></pre>\n<p>File <code>application.properties</code></p>\n<pre><code>server.port=8081\n\nspring.datasource.url=jdbc:postgresql://103.48.xxx.xxx:5432/fooXXX\nspring.datasource.username=MySecretUser\nspring.datasource.password=MyScret\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\n# Application properties\n# https://passwordsgenerator.net/\napp.jwtSecret=pXpYPZ8d8FQv7UDepXpYPZ8d8FQv7UDegMxYPZ8d8FQv7UDepXpYPZ8d8FQv7UDepXpYPZ8d8FQv7UDepXpYPZ8d8FQv7UDe\napp.jwtExpirationMs=86400000\n\n# swagger-ui custom path. Run ok.\n# http://localhost:8081/swagger-ui/index.html\nspringdoc.swagger-ui.path=/swagger-ui.html\nspringdoc.packagesToScan=com.example.controller, com.example.controllers\n\n#logging.level.root=ERROR\nlogging.level.root=INFO\n# Write logs to the current directory.\nlogging.file.path=./log\n\n# https://stackoverflow.com/a/49257939/3728901\n#spring.sql.init.mode=always\n#spring.jpa.defer-datasource-initialization=true\n#spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n<p>File</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.security;\n\nimport com.example.security.jwt.AuthEntryPointJwt;\nimport com.example.security.jwt.AuthTokenFilter;\nimport com.example.security.services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\nimport org.springframework.security.web.server.SecurityWebFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        // securedEnabled = true,\n        // jsr250Enabled = true,\n        prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                //.authorizeRequests().antMatchers(&quot;/api/auth/**&quot;, &quot;/swagger-ui/**&quot;).permitAll()\n\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll()\n\n                .antMatchers(&quot;/app/**&quot;).permitAll()\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\n                .anyRequest().authenticated();\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n        //;\n\n       // .addFilterAfter(new CustomFilter(), BasicAuthenticationFilter.class); // VyDN 2022_07_22 // https://www.baeldung.com/spring-security-custom-filter\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BO8WK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BO8WK.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SBinn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SBinn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/L2ui0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2ui0.png\" alt=\"enter image description here\" /></a></p>\n<p>Real sever</p>\n<pre><code>sudo vi /etc/hosts\n</code></pre>\n<p>result</p>\n<pre><code>127.0.0.1 localhost\n127.0.1.1 localhost\n127.0.0.1 mydomain.com\n127.0.0.1 www.mydomain.com\n103.48.YYY.XXX mydomain.com\n\n# The following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n\n103.48.YYY.XXX  vypc.foo.net vypc\n</code></pre>\n<p>How to make Swagger working correctly on real server?</p>\n"},{"tags":["java","docker","jackson","quarkus","graalvm"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659479277,"creation_date":1659479277,"answer_id":73214429,"question_id":73210101,"body_markdown":"You need to register `UserInfoDto` for reflection. GraalVM removes all the classes, fields and methods that do not seem to be used by the application. And when using reflection, most of the time, it can&#39;t figure out they are used.\r\n\r\nQuarkus has some mechanisms to detect things and register some of the classes automatically but in your case, you&#39;re pushing your class right to Jackson so Quarkus can&#39;t detect it.\r\n\r\nJust add the `@RegisterForReflection` annotation to your `UserInfoDto` class.\r\n\r\nYou can find more details in our documentation: https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection .","title":"Quarkus com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class","body":"<p>You need to register <code>UserInfoDto</code> for reflection. GraalVM removes all the classes, fields and methods that do not seem to be used by the application. And when using reflection, most of the time, it can't figure out they are used.</p>\n<p>Quarkus has some mechanisms to detect things and register some of the classes automatically but in your case, you're pushing your class right to Jackson so Quarkus can't detect it.</p>\n<p>Just add the <code>@RegisterForReflection</code> annotation to your <code>UserInfoDto</code> class.</p>\n<p>You can find more details in our documentation: <a href=\"https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection</a> .</p>\n"}],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1900,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73214429,"answer_count":1,"score":0,"last_activity_date":1664023926,"creation_date":1659454153,"question_id":73210101,"body_markdown":"I&#39;m using quarkus to call a web service, this service needs an object in the header of the request for the authentication:\r\n```\r\npublic class UserInfoDto {\r\n\r\n    private String jwtToken;\r\n    private String pgeToken;\r\n\r\n    public UserInfoDto(String jwtToken, String pgeToken) {\r\n        this.jwtToken = jwtToken;\r\n        this.pgeToken = pgeToken;\r\n    }\r\n\r\n    public String getJwtToken() {\r\n        return jwtToken;\r\n    }\r\n\r\n    public void setJwtToken(String jwtToken) {\r\n        this.jwtToken = jwtToken;\r\n    }\r\n\r\n    public String getPgeToken() {\r\n        return pgeToken;\r\n    }\r\n\r\n    public void setPgeToken(String pgeToken) {\r\n        this.pgeToken = pgeToken;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;UserInfoDto{&quot; +\r\n                &quot;jwtToken=&#39;&quot; + jwtToken + &#39;\\&#39;&#39; +\r\n                &quot;, pgeToken=&#39;&quot; + pgeToken + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nThen in the class that generete the header I&#39;m doing this:\r\n```\r\n@ApplicationScoped\r\npublic class RequestUserInfoHeaderFactory implements ClientHeadersFactory {\r\n\r\n    @Inject\r\n    PreTokenRetriever preTokenRetriever;\r\n\r\n    @Inject\r\n    ObjectMapper mapper;\r\n\r\n    private static final String USER_INFO_HEADER = &quot;user-info&quot;;\r\n\r\n    @Override\r\n    public MultivaluedMap&lt;String, String&gt; update(MultivaluedMap&lt;String, String&gt; incomingHeaders, MultivaluedMap&lt;String, String&gt; clientOutgoingHeaders) {\r\n        MultivaluedMap&lt;String, String&gt; result = new MultivaluedHashMap&lt;&gt;();\r\n        try {\r\n            OpenIdToken token = preTokenRetriever.getToken();\r\n            UserInfoDto userInfoDto = new UserInfoDto(token.getId_token(), token.getAccess_token());\r\n            System.out.println(&quot;Called pre results:&quot; + userInfoDto);\r\n            result.add(USER_INFO_HEADER, mapper.writeValueAsString(userInfoDto));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\nWhen i start the application with `mvn quarkus:dev` everything is fine:\r\n```\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \r\n2022-08-02 17:17:04,000 INFO  [io.quarkus] (Quarkus Main Thread) udp-rmq-pub-unpub-quest-cron 1.0.3-SNAPSHOT on JVM (powered by Quarkus 2.10.3.Final) started in 1.758s. \r\n2022-08-02 17:17:04,008 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2022-08-02 17:17:04,009 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [cdi, rest-client, rest-client-jackson]\r\nCalling procedure\r\n2022-08-02 17:17:04,365 INFO  [OpenIdProvider] (Quarkus Main Thread) OpenId Provider. Contacting endpoint https://***/PRE-EBA-RS/service/SSOToken/generate\r\n2022-08-02 17:17:04,394 INFO  [OpenIdProvider] (Quarkus Main Thread) OpenId Provider. Auth-Scheme=Basic\r\n2022-08-02 17:17:04,397 INFO  [OpenIdProvider] (Quarkus Main Thread) OpenId Provider. Input body {&quot;tokenType&quot;:&quot;openId&quot;,&quot;tokenConsumerURL&quot;:null,&quot;attributes&quot;:[{&quot;name&quot;:&quot;client_id&quot;,&quot;values&quot;:[&quot;UDP-001&quot;]},{&quot;name&quot;:&quot;response_type&quot;,&quot;values&quot;:[&quot;id_token&quot;]}]}\r\n2022-08-02 17:17:04,656 INFO  [OpenIdProvider] (Quarkus Main Thread) OpenId Provider. Response with httpCode=200\r\nCalled pre results:UserInfoDto{jwtToken=&#39;***&#39;, pgeToken=&#39;null&#39;}\r\nDone\r\n2022-08-02 17:17:06,117 INFO  [io.quarkus] (Quarkus Main Thread) udp-rmq-pub-unpub-quest-cron stopped in 0.017s\r\n```\r\nBut when I deploy on cloud inside a docker container (quarkus is builded native I don&#39;t know if it&#39;s important) I got:\r\n```\r\n2022-08-02 15:12:43,753 ERROR [io.qua.run.Application] (main) Failed to start application (with profile prod): com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class eu.unicredit.regulatoryTool.common.model.UserInfoDto and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300)\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46)\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4568)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3821)\r\n\tat eu.unicredit.regulatoryTool.rest.client.RequestUserInfoHeaderFactory.update(RequestUserInfoHeaderFactory.java:32)\r\n\tat eu.unicredit.regulatoryTool.rest.client.RequestUserInfoHeaderFactory_ClientProxy.update(Unknown Source)\r\n\tat org.jboss.resteasy.microprofile.client.header.ClientHeadersRequestFilter.lambda$filter$4(ClientHeadersRequestFilter.java:61)\r\n\tat java.util.Optional.ifPresent(Optional.java:183)\r\n\tat org.jboss.resteasy.microprofile.client.header.ClientHeadersRequestFilter.filter(ClientHeadersRequestFilter.java:61)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:767)\r\n\tat org.jboss.resteasy.microprofile.client.impl.MpClientInvocation.filterRequest(MpClientInvocation.java:75)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:491)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:152)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:115)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\r\n\tat com.sun.proxy.$Proxy221.callProcedure(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.jboss.resteasy.microprofile.client.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:146)\r\n\tat com.sun.proxy.$Proxy222.callProcedure(Unknown Source)\r\n\tat eu.unicredit.regulatoryTool.rest.client.AdminQuestionnaireResource.callProcedure(AdminQuestionnaireResource.java:21)\r\n\tat eu.unicredit.regulatoryTool.rest.client.AdminQuestionnaireResource_ClientProxy.callProcedure(Unknown Source)\r\n\tat eu.unicredit.regulatoryTool.CronPubUnpubMain.run(CronPubUnpubMain.java:18)\r\n\tat eu.unicredit.regulatoryTool.CronPubUnpubMain_ClientProxy.run(Unknown Source)\r\n\tat io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\n\tat io.quarkus.runner.GeneratedMain.main(Unknown Source)\r\n```\r\nThis is so strange, why I&#39;m getting this error? \r\nI don&#39;t want to marshall `UserInfoDto` manually it can grow\r\n\r\nSomeone can help?","title":"Quarkus com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class","body":"<p>I'm using quarkus to call a web service, this service needs an object in the header of the request for the authentication:</p>\n<pre><code>public class UserInfoDto {\n\n    private String jwtToken;\n    private String pgeToken;\n\n    public UserInfoDto(String jwtToken, String pgeToken) {\n        this.jwtToken = jwtToken;\n        this.pgeToken = pgeToken;\n    }\n\n    public String getJwtToken() {\n        return jwtToken;\n    }\n\n    public void setJwtToken(String jwtToken) {\n        this.jwtToken = jwtToken;\n    }\n\n    public String getPgeToken() {\n        return pgeToken;\n    }\n\n    public void setPgeToken(String pgeToken) {\n        this.pgeToken = pgeToken;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;UserInfoDto{&quot; +\n                &quot;jwtToken='&quot; + jwtToken + '\\'' +\n                &quot;, pgeToken='&quot; + pgeToken + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Then in the class that generete the header I'm doing this:</p>\n<pre><code>@ApplicationScoped\npublic class RequestUserInfoHeaderFactory implements ClientHeadersFactory {\n\n    @Inject\n    PreTokenRetriever preTokenRetriever;\n\n    @Inject\n    ObjectMapper mapper;\n\n    private static final String USER_INFO_HEADER = &quot;user-info&quot;;\n\n    @Override\n    public MultivaluedMap&lt;String, String&gt; update(MultivaluedMap&lt;String, String&gt; incomingHeaders, MultivaluedMap&lt;String, String&gt; clientOutgoingHeaders) {\n        MultivaluedMap&lt;String, String&gt; result = new MultivaluedHashMap&lt;&gt;();\n        try {\n            OpenIdToken token = preTokenRetriever.getToken();\n            UserInfoDto userInfoDto = new UserInfoDto(token.getId_token(), token.getAccess_token());\n            System.out.println(&quot;Called pre results:&quot; + userInfoDto);\n            result.add(USER_INFO_HEADER, mapper.writeValueAsString(userInfoDto));\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>When i start the application with <code>mvn quarkus:dev</code> everything is fine:</p>\n<pre><code>__  ____  __  _____   ___  __ ____  ______ \n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \n2022-08-02 17:17:04,000 INFO  [io.quarkus] (Quarkus Main Thread) udp-rmq-pub-unpub-quest-cron 1.0.3-SNAPSHOT on JVM (powered by Quarkus 2.10.3.Final) started in 1.758s. \n2022-08-02 17:17:04,008 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\n2022-08-02 17:17:04,009 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [cdi, rest-client, rest-client-jackson]\nCalling procedure\n2022-08-02 17:17:04,365 INFO  [OpenIdProvider] (Quarkus Main Thread) OpenId Provider. Contacting endpoint https://***/PRE-EBA-RS/service/SSOToken/generate\n2022-08-02 17:17:04,394 INFO  [OpenIdProvider] (Quarkus Main Thread) OpenId Provider. Auth-Scheme=Basic\n2022-08-02 17:17:04,397 INFO  [OpenIdProvider] (Quarkus Main Thread) OpenId Provider. Input body {&quot;tokenType&quot;:&quot;openId&quot;,&quot;tokenConsumerURL&quot;:null,&quot;attributes&quot;:[{&quot;name&quot;:&quot;client_id&quot;,&quot;values&quot;:[&quot;UDP-001&quot;]},{&quot;name&quot;:&quot;response_type&quot;,&quot;values&quot;:[&quot;id_token&quot;]}]}\n2022-08-02 17:17:04,656 INFO  [OpenIdProvider] (Quarkus Main Thread) OpenId Provider. Response with httpCode=200\nCalled pre results:UserInfoDto{jwtToken='***', pgeToken='null'}\nDone\n2022-08-02 17:17:06,117 INFO  [io.quarkus] (Quarkus Main Thread) udp-rmq-pub-unpub-quest-cron stopped in 0.017s\n</code></pre>\n<p>But when I deploy on cloud inside a docker container (quarkus is builded native I don't know if it's important) I got:</p>\n<pre><code>2022-08-02 15:12:43,753 ERROR [io.qua.run.Application] (main) Failed to start application (with profile prod): com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class eu.unicredit.regulatoryTool.common.model.UserInfoDto and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300)\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46)\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)\n    at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4568)\n    at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3821)\n    at eu.unicredit.regulatoryTool.rest.client.RequestUserInfoHeaderFactory.update(RequestUserInfoHeaderFactory.java:32)\n    at eu.unicredit.regulatoryTool.rest.client.RequestUserInfoHeaderFactory_ClientProxy.update(Unknown Source)\n    at org.jboss.resteasy.microprofile.client.header.ClientHeadersRequestFilter.lambda$filter$4(ClientHeadersRequestFilter.java:61)\n    at java.util.Optional.ifPresent(Optional.java:183)\n    at org.jboss.resteasy.microprofile.client.header.ClientHeadersRequestFilter.filter(ClientHeadersRequestFilter.java:61)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:767)\n    at org.jboss.resteasy.microprofile.client.impl.MpClientInvocation.filterRequest(MpClientInvocation.java:75)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:491)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:152)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:115)\n    at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\n    at com.sun.proxy.$Proxy221.callProcedure(Unknown Source)\n    at java.lang.reflect.Method.invoke(Method.java:566)\n    at org.jboss.resteasy.microprofile.client.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:146)\n    at com.sun.proxy.$Proxy222.callProcedure(Unknown Source)\n    at eu.unicredit.regulatoryTool.rest.client.AdminQuestionnaireResource.callProcedure(AdminQuestionnaireResource.java:21)\n    at eu.unicredit.regulatoryTool.rest.client.AdminQuestionnaireResource_ClientProxy.callProcedure(Unknown Source)\n    at eu.unicredit.regulatoryTool.CronPubUnpubMain.run(CronPubUnpubMain.java:18)\n    at eu.unicredit.regulatoryTool.CronPubUnpubMain_ClientProxy.run(Unknown Source)\n    at io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:67)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\n    at io.quarkus.runner.GeneratedMain.main(Unknown Source)\n</code></pre>\n<p>This is so strange, why I'm getting this error?\nI don't want to marshall <code>UserInfoDto</code> manually it can grow</p>\n<p>Someone can help?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663916983,"post_id":73809939,"comment_id":130356125,"body_markdown":"To understand better. Do you need to get the UID from `users` and find the projects of that particular user? Is that correct?","body":"To understand better. Do you need to get the UID from <code>users</code> and find the projects of that particular user? Is that correct?"},{"owner":{"account_id":13959725,"reputation":117,"user_id":10081329,"display_name":"Jithin Angel&#39;z Jas&#39;z"},"score":0,"creation_date":1664006765,"post_id":73809939,"comment_id":130376583,"body_markdown":"No im Displaying the reviews for each project. But if i fetch all data under the review path i will only get date,review, and uid. But after getting that UID. i need to search for the UID in users path to get User picture and Username of that specific user. To display along with the reviews.","body":"No im Displaying the reviews for each project. But if i fetch all data under the review path i will only get date,review, and uid. But after getting that UID. i need to search for the UID in users path to get User picture and Username of that specific user. To display along with the reviews."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664023305,"creation_date":1664023305,"answer_id":73837301,"question_id":73809939,"body_markdown":"According to your last comment:\r\n\r\n&gt; I&#39;m displaying the reviews for each project. But if I fetch all data under the review path I will only get the date, review, and the UID. But after getting that UID, I need to search for the UID in the `users` collection to get the User picture and username of that specific user. To display along with the reviews.\r\n\r\nTo solve this you need to create a reference that points to a specific project, then get all reviews, and based on the UID that you get, create another database call to get user data. So please try the following lines of code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference projectIdRef = db.child(&quot;reviews&quot;).child(&quot;projects&quot;).child(&quot;ds1619951195&quot;);\r\n    projectIdRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; reviewTask) {\r\n\t\t\tif (reviewTask.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot reviewSnapshot : reviewTask.getResult().getChildren()) {\r\n\t\t\t\t\tString date = reviewSnapshot.child(&quot;name&quot;).getValue(String.class);\r\n\t\t\t\t\tString review = reviewSnapshot.child(&quot;review&quot;).getValue(String.class);\r\n\t\t\t\t\tString user = reviewSnapshot.child(&quot;user&quot;).getValue(String.class);\r\n\r\n\t\t\t\t\tDatabaseReference uidRef = db.child(&quot;users&quot;).child(user);\r\n\t\t\t\t\tuidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\r\n\t\t\t\t\t\t\tif (userTask.isSuccessful()) {\r\n\t\t\t\t\t\t\t\tDataSnapshot userSnapshot = userTask.getResult();\r\n\t\t\t\t\t\t\t\tString username = userSnapshot.child(&quot;username&quot;).getValue(String.class);\r\n\t\t\t\t\t\t\t\tString picture = userSnapshot.child(&quot;picture&quot;).getValue(String.class);\r\n\t\t\t\t\t\t\t\tLog.d(&quot;TAG&quot;, username + &quot;/&quot; + picture);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});","title":"How do i find corresponding user using the userid in reviews in firebase rtdb","body":"<p>According to your last comment:</p>\n<blockquote>\n<p>I'm displaying the reviews for each project. But if I fetch all data under the review path I will only get the date, review, and the UID. But after getting that UID, I need to search for the UID in the <code>users</code> collection to get the User picture and username of that specific user. To display along with the reviews.</p>\n</blockquote>\n<p>To solve this you need to create a reference that points to a specific project, then get all reviews, and based on the UID that you get, create another database call to get user data. So please try the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference projectIdRef = db.child(&quot;reviews&quot;).child(&quot;projects&quot;).child(&quot;ds1619951195&quot;);\nprojectIdRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; reviewTask) {\n        if (reviewTask.isSuccessful()) {\n            for (DataSnapshot reviewSnapshot : reviewTask.getResult().getChildren()) {\n                String date = reviewSnapshot.child(&quot;name&quot;).getValue(String.class);\n                String review = reviewSnapshot.child(&quot;review&quot;).getValue(String.class);\n                String user = reviewSnapshot.child(&quot;user&quot;).getValue(String.class);\n\n                DatabaseReference uidRef = db.child(&quot;users&quot;).child(user);\n                uidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\n                        if (userTask.isSuccessful()) {\n                            DataSnapshot userSnapshot = userTask.getResult();\n                            String username = userSnapshot.child(&quot;username&quot;).getValue(String.class);\n                            String picture = userSnapshot.child(&quot;picture&quot;).getValue(String.class);\n                            Log.d(&quot;TAG&quot;, username + &quot;/&quot; + picture);\n                        } else {\n                            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n                        }\n                    }\n                });\n\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":13959725,"reputation":117,"user_id":10081329,"display_name":"Jithin Angel&#39;z Jas&#39;z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73837301,"answer_count":1,"score":0,"last_activity_date":1664023373,"creation_date":1663826303,"question_id":73809939,"body_markdown":"I want to fetch corresponding user data from the path users/ after fetching the reviews to a recyclerview\r\n\r\nSo I have done the 2nd part that all review data is fetched on the list map and ready to display on RecyclerView.\r\n\r\nBut before that, I need to fetch Username and Userpicture from path users/ (not all of them but the only ones whose id is present in reviews)\r\n\r\nSo how do I do this using the Firebase query?\r\n\r\nI mean if we have the userid inside the path it will be easy to find it by looking for the key value.\r\n\r\nbut the problem is I don&#39;t have it in users/ \r\n\r\nthe user id is the child key\r\n\r\nSo the question is how do I search for the child key? instead of searching for a value.\r\n\r\nplease see the image below for Realtime Database structure:\r\n\r\n[![firebase rtdb][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nXKW0.jpg","title":"How do i find corresponding user using the userid in reviews in firebase rtdb","body":"<p>I want to fetch corresponding user data from the path users/ after fetching the reviews to a recyclerview</p>\n<p>So I have done the 2nd part that all review data is fetched on the list map and ready to display on RecyclerView.</p>\n<p>But before that, I need to fetch Username and Userpicture from path users/ (not all of them but the only ones whose id is present in reviews)</p>\n<p>So how do I do this using the Firebase query?</p>\n<p>I mean if we have the userid inside the path it will be easy to find it by looking for the key value.</p>\n<p>but the problem is I don't have it in users/</p>\n<p>the user id is the child key</p>\n<p>So the question is how do I search for the child key? instead of searching for a value.</p>\n<p>please see the image below for Realtime Database structure:</p>\n<p><a href=\"https://i.stack.imgur.com/nXKW0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nXKW0.jpg\" alt=\"firebase rtdb\" /></a></p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":20544579,"reputation":59,"user_id":16201706,"display_name":"Robert McKay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664003961,"creation_date":1664003961,"answer_id":73835414,"question_id":73835110,"body_markdown":"You just forgot to collect the stream back into a list.\r\n\r\n```\r\nList&lt;Manipulate&gt; c = a.stream().map(k -&gt; {\r\n            b.stream().filter(j -&gt; j.getId() == k.getId())\r\n                    .forEach(i -&gt; {\r\n                        int i1 = k.getQuantity() - i.getQuantity();\r\n                        k.setQuantity(i1);\r\n                    });\r\n            return k;\r\n        }).collect(Collectors.toList());\r\n```","title":"Filter Objects from two lists and do subtract with the attributes and store it in 3rd list in Java 8","body":"<p>You just forgot to collect the stream back into a list.</p>\n<pre><code>List&lt;Manipulate&gt; c = a.stream().map(k -&gt; {\n            b.stream().filter(j -&gt; j.getId() == k.getId())\n                    .forEach(i -&gt; {\n                        int i1 = k.getQuantity() - i.getQuantity();\n                        k.setQuantity(i1);\n                    });\n            return k;\n        }).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":25788667,"reputation":67,"user_id":19533061,"display_name":"sathish kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73835414,"answer_count":1,"score":-1,"last_activity_date":1664022715,"creation_date":1664000036,"question_id":73835110,"body_markdown":"```\r\nList&lt;Manipulate&gt; a = new ArrayList&lt;&gt;();\r\n        a.add(new Manipulate(1,100));\r\n        a.add(new Manipulate(2,200));\r\n\r\n        List&lt;Manipulate&gt; b = new ArrayList&lt;&gt;();\r\n        b.add(new Manipulate(1,10));\r\n        b.add(new Manipulate(2,20));\r\n```\r\n\r\ni have to filter these two lists by comparing the ids and subtract b(10,20) from a(100,200) and store the List of Maipulate Object to some new lists using only java 8\r\n\r\n```\r\nList&lt;Manipulate&gt; c = a.stream().map(k -&gt; {\r\n            b.stream().filter(j -&gt; j.getId() == k.getId())\r\n                    .forEach(i -&gt; {\r\n                        int i1 = k.getQuantity() - i.getQuantity();\r\n                        k.setQuantity(i1);\r\n                    });\r\n            return k;\r\n        });\r\n```\r\nThorwing error\r\n```\r\nRequired type:\r\nList\r\n&lt;Manipulate&gt;\r\nProvided:\r\nStream\r\n&lt;Object&gt;\r\nno instance(s) of type variable(s) R exist so that Stream&lt;R&gt; conforms to List&lt;Manipulate&gt;\r\n```","title":"Filter Objects from two lists and do subtract with the attributes and store it in 3rd list in Java 8","body":"<pre><code>List&lt;Manipulate&gt; a = new ArrayList&lt;&gt;();\n        a.add(new Manipulate(1,100));\n        a.add(new Manipulate(2,200));\n\n        List&lt;Manipulate&gt; b = new ArrayList&lt;&gt;();\n        b.add(new Manipulate(1,10));\n        b.add(new Manipulate(2,20));\n</code></pre>\n<p>i have to filter these two lists by comparing the ids and subtract b(10,20) from a(100,200) and store the List of Maipulate Object to some new lists using only java 8</p>\n<pre><code>List&lt;Manipulate&gt; c = a.stream().map(k -&gt; {\n            b.stream().filter(j -&gt; j.getId() == k.getId())\n                    .forEach(i -&gt; {\n                        int i1 = k.getQuantity() - i.getQuantity();\n                        k.setQuantity(i1);\n                    });\n            return k;\n        });\n</code></pre>\n<p>Thorwing error</p>\n<pre><code>Required type:\nList\n&lt;Manipulate&gt;\nProvided:\nStream\n&lt;Object&gt;\nno instance(s) of type variable(s) R exist so that Stream&lt;R&gt; conforms to List&lt;Manipulate&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1438760977,"post_id":31826233,"comment_id":51576119,"body_markdown":"So, you basically want to authenticate via REST, is that correct? Also, you will not only get the response type as 200 or 401, you will SessionID also from Spring-Security, which you can directly use via REST to access secured resources.","body":"So, you basically want to authenticate via REST, is that correct? Also, you will not only get the response type as 200 or 401, you will SessionID also from Spring-Security, which you can directly use via REST to access secured resources."},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1438761013,"post_id":31826233,"comment_id":51576137,"body_markdown":"Also, please mention your application with some relevant names, this and that application is confusing.","body":"Also, please mention your application with some relevant names, this and that application is confusing."},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1438761357,"post_id":31826233,"comment_id":51576365,"body_markdown":"You should have a deep look into the Spring Sec. Reference, you need to set up a REST Client, secure the service, make a secure connection, dont store password in strings, keep in mind, that if the other app is down this will be down too etc... Better set up an LDAP server or just share the database (readonly) with the other app. You should ask a consultant.","body":"You should have a deep look into the Spring Sec. Reference, you need to set up a REST Client, secure the service, make a secure connection, dont store password in strings, keep in mind, that if the other app is down this will be down too etc... Better set up an LDAP server or just share the database (readonly) with the other app. You should ask a consultant."},{"owner":{"account_id":5612884,"reputation":729,"user_id":4445122,"accept_rate":56,"display_name":"nbdy_"},"score":0,"creation_date":1438761688,"post_id":31826233,"comment_id":51576599,"body_markdown":"@WeareBorg Good point, I edited the question to hopefully make it clearer. I don&#39;t understand your first comment though. Stefan thanks for your advice.","body":"@WeareBorg Good point, I edited the question to hopefully make it clearer. I don&#39;t understand your first comment though. Stefan thanks for your advice."},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1438761839,"post_id":31826233,"comment_id":51576694,"body_markdown":"Yes, that&#39;s what I said, your webapp does not need to write any authentication code. If you are using Spring-Security in one of the webapps, you can always call the j_spring_security_check and get the response. Depending upon response, you can either allow access to resources or not. No delegation, nothing required.","body":"Yes, that&#39;s what I said, your webapp does not need to write any authentication code. If you are using Spring-Security in one of the webapps, you can always call the j_spring_security_check and get the response. Depending upon response, you can either allow access to resources or not. No delegation, nothing required."},{"owner":{"account_id":6202518,"reputation":937,"user_id":4831778,"accept_rate":67,"display_name":"M2E67"},"score":0,"creation_date":1487153393,"post_id":31826233,"comment_id":71650820,"body_markdown":"see this link : http://stackoverflow.com/questions/22606751/custom-authentication-provider-with-spring-security-and-java-config/42245443","body":"see this link : <a href=\"http://stackoverflow.com/questions/22606751/custom-authentication-provider-with-spring-security-and-java-config/42245443\" title=\"custom authentication provider with spring security and java config\">stackoverflow.com/questions/22606751/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2684712,"reputation":2248,"user_id":2319333,"display_name":"Halko Karr-Sajtarevic"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1578164991,"creation_date":1438761263,"answer_id":31826550,"question_id":31826233,"body_markdown":"Take a look at my sample below. You have to return an UsernamePasswordAuthenticationToken. It contains the principal and the GrantedAuthorities. Hope I could help :)\r\n\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username = authentication.getPrincipal() + &quot;&quot;;\r\n        String password = authentication.getCredentials() + &quot;&quot;;\r\n        \r\n        User user = userRepo.findOne(username);\r\n        if (user == null) {\r\n            throw new BadCredentialsException(&quot;1000&quot;);\r\n        }\r\n        if (!encoder.matches(password, user.getPassword())) {\r\n            throw new BadCredentialsException(&quot;1000&quot;);\r\n        }\r\n        if (user.isDisabled()) {\r\n            throw new DisabledException(&quot;1001&quot;);\r\n        }\r\n        List&lt;Right&gt; userRights = rightRepo.getUserRights(username);\r\n        return new UsernamePasswordAuthenticationToken(username, null, userRights.stream().map(x -&gt; new SimpleGrantedAuthority(x.getName())).collect(Collectors.toList()));\r\n    }\r\n\r\nPS: userRepo and rightRepo are Spring-Data-JPA Repositories which access my custom User-DB\r\n\r\nSpringSecurity JavaConfig:\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    public class MySecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    public MySecurityConfiguration() {\r\n        super(false);\r\n    }\r\n\r\n    @Override\r\n    protected AuthenticationManager authenticationManager() throws Exception {\r\n        return new ProviderManager(Arrays.asList((AuthenticationProvider) new AuthProvider()));\r\n    }\r\n\r\n    }","title":"Custom Authentication Manager with Spring Security and Java Configuration","body":"<p>Take a look at my sample below. You have to return an UsernamePasswordAuthenticationToken. It contains the principal and the GrantedAuthorities. Hope I could help :)</p>\n\n<pre><code>public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n    String username = authentication.getPrincipal() + \"\";\n    String password = authentication.getCredentials() + \"\";\n\n    User user = userRepo.findOne(username);\n    if (user == null) {\n        throw new BadCredentialsException(\"1000\");\n    }\n    if (!encoder.matches(password, user.getPassword())) {\n        throw new BadCredentialsException(\"1000\");\n    }\n    if (user.isDisabled()) {\n        throw new DisabledException(\"1001\");\n    }\n    List&lt;Right&gt; userRights = rightRepo.getUserRights(username);\n    return new UsernamePasswordAuthenticationToken(username, null, userRights.stream().map(x -&gt; new SimpleGrantedAuthority(x.getName())).collect(Collectors.toList()));\n}\n</code></pre>\n\n<p>PS: userRepo and rightRepo are Spring-Data-JPA Repositories which access my custom User-DB</p>\n\n<p>SpringSecurity JavaConfig:</p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\npublic class MySecurityConfiguration extends WebSecurityConfigurerAdapter {\n\npublic MySecurityConfiguration() {\n    super(false);\n}\n\n@Override\nprotected AuthenticationManager authenticationManager() throws Exception {\n    return new ProviderManager(Arrays.asList((AuthenticationProvider) new AuthProvider()));\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4296953,"reputation":1636,"user_id":3511751,"accept_rate":70,"display_name":"Ricardo Vila"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461079613,"creation_date":1438762161,"answer_id":31826844,"question_id":31826233,"body_markdown":"First you must configure Spring security to use your custom AuthenticationProvider.\r\nSo, in your spring-security.xml (or equivalent config file) you must define wich class is implementing this feature. For example:\r\n\r\n    &lt;authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n        &lt;authentication-provider ref=&quot;myAuthenticationProvider&quot; /&gt;\r\n    &lt;/authentication-manager&gt;\r\n  \r\n    &lt;!-- Bean implementing AuthenticationProvider of Spring Security --&gt;\r\n    &lt;beans:bean id=&quot;myAuthenticationProvider&quot; class=&quot;com.teimas.MyAutenticationProvider&quot;&gt;\r\n    &lt;/beans:bean&gt;\r\n\r\nSecondly you must implement AuthenticationProvider as in your example. Specially the method authenticate(Authentication authentication) in which your rest call must be. For example:\r\n\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        User user = null;\r\n        try {\r\n            //use a rest service to find the user. \r\n            //Spring security provides user login name in authentication.getPrincipal()\r\n                user = userRestService.loadUserByUsername(authentication.getPrincipal().toString());\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error loading user, not found: &quot; + e.getMessage(), e);\r\n        }\r\n\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(String.format(&quot;Invalid credentials&quot;, authentication.getPrincipal()));\r\n        } else if (!user.isEnabled()) {\r\n            throw new UsernameNotFoundException(String.format(&quot;Not found enabled user for username &quot;, user.getUsername()));\r\n        }\r\n        //check user password stored in authentication.getCredentials() against stored password hash\r\n        if (StringUtils.isBlank(authentication.getCredentials().toString())\r\n            || !passwordEncoder.isPasswordValid(user.getPasswordHash(), authentication.getCredentials().toString()) {\r\n            throw new BadCredentialsException(&quot;Invalid credentials&quot;);\r\n        }\r\n    \r\n        //doLogin makes whatever is necesary when login is made (put info in session, load other data etc..)\r\n        return doLogin(user);\r\n    } \r\n\r\n","title":"Custom Authentication Manager with Spring Security and Java Configuration","body":"<p>First you must configure Spring security to use your custom AuthenticationProvider.\nSo, in your spring-security.xml (or equivalent config file) you must define wich class is implementing this feature. For example:</p>\n\n<pre><code>&lt;authentication-manager alias=\"authenticationManager\"&gt;\n    &lt;authentication-provider ref=\"myAuthenticationProvider\" /&gt;\n&lt;/authentication-manager&gt;\n\n&lt;!-- Bean implementing AuthenticationProvider of Spring Security --&gt;\n&lt;beans:bean id=\"myAuthenticationProvider\" class=\"com.teimas.MyAutenticationProvider\"&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>Secondly you must implement AuthenticationProvider as in your example. Specially the method authenticate(Authentication authentication) in which your rest call must be. For example:</p>\n\n<pre><code>public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n    User user = null;\n    try {\n        //use a rest service to find the user. \n        //Spring security provides user login name in authentication.getPrincipal()\n            user = userRestService.loadUserByUsername(authentication.getPrincipal().toString());\n    } catch (Exception e) {\n        log.error(\"Error loading user, not found: \" + e.getMessage(), e);\n    }\n\n    if (user == null) {\n        throw new UsernameNotFoundException(String.format(\"Invalid credentials\", authentication.getPrincipal()));\n    } else if (!user.isEnabled()) {\n        throw new UsernameNotFoundException(String.format(\"Not found enabled user for username \", user.getUsername()));\n    }\n    //check user password stored in authentication.getCredentials() against stored password hash\n    if (StringUtils.isBlank(authentication.getCredentials().toString())\n        || !passwordEncoder.isPasswordValid(user.getPasswordHash(), authentication.getCredentials().toString()) {\n        throw new BadCredentialsException(\"Invalid credentials\");\n    }\n\n    //doLogin makes whatever is necesary when login is made (put info in session, load other data etc..)\n    return doLogin(user);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1463711384,"creation_date":1463711384,"answer_id":37337031,"question_id":31826233,"body_markdown":"In its most simplest:\r\n\r\n    @Override\r\n    \tpublic Authentication authenticate(Authentication auth) throws AuthenticationException {\r\n    \t\tString username = auth.getName();\r\n    \t\tString password = auth.getCredentials().toString();\r\n    \t\t// to add more logic\r\n    \t\tList&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\r\n    \t\tgrantedAuths.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n    \t\treturn new UsernamePasswordAuthenticationToken(username, password, grantedAuths);\r\n    \t}\r\n\r\n","title":"Custom Authentication Manager with Spring Security and Java Configuration","body":"<p>In its most simplest:</p>\n\n<pre><code>@Override\n    public Authentication authenticate(Authentication auth) throws AuthenticationException {\n        String username = auth.getName();\n        String password = auth.getCredentials().toString();\n        // to add more logic\n        List&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\n        grantedAuths.add(new SimpleGrantedAuthority(\"ROLE_USER\"));\n        return new UsernamePasswordAuthenticationToken(username, password, grantedAuths);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1183708,"reputation":710,"user_id":1158082,"display_name":"Andrew Gans"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479363208,"creation_date":1479363208,"answer_id":40647867,"question_id":31826233,"body_markdown":"My solution is almost the same as the first answer:\r\n\r\n1) You need a class which implements the Authentication Provider\r\n\r\n    @Service\r\n    @Configurable\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider    {\r\n          @Override\r\n          public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        // Your code of custom Authentication\r\n    }\r\n    }\r\n\r\n2) Opposite to the first answer you **don&#39;t** need to have following code in your WebSecurityConfiguration if you have only this custom provider.\r\n\r\n    @Override\r\n    protected AuthenticationManager authenticationManager() throws Exception {\r\n         return new ProviderManager(Arrays.asList((AuthenticationProvider) new  AuthProvider()));\r\n    }\r\n\r\nThe issue is that Spring looks for available providers and use the default if nothing else is found. But as you have the implementation of the AuthenticationProvider - your implementation will be used. ","title":"Custom Authentication Manager with Spring Security and Java Configuration","body":"<p>My solution is almost the same as the first answer:</p>\n\n<p>1) You need a class which implements the Authentication Provider</p>\n\n<pre><code>@Service\n@Configurable\npublic class CustomAuthenticationProvider implements AuthenticationProvider    {\n      @Override\n      public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n    // Your code of custom Authentication\n}\n}\n</code></pre>\n\n<p>2) Opposite to the first answer you <strong>don't</strong> need to have following code in your WebSecurityConfiguration if you have only this custom provider.</p>\n\n<pre><code>@Override\nprotected AuthenticationManager authenticationManager() throws Exception {\n     return new ProviderManager(Arrays.asList((AuthenticationProvider) new  AuthProvider()));\n}\n</code></pre>\n\n<p>The issue is that Spring looks for available providers and use the default if nothing else is found. But as you have the implementation of the AuthenticationProvider - your implementation will be used. </p>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664022328,"creation_date":1664022328,"answer_id":73837202,"question_id":31826233,"body_markdown":"This is how I did using component-based configuration (SecurityFilterChain) and new `authorizeHttpRequests`\r\n\r\n```java\r\n@Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n            .antMatchers(UNPROTECTED_URLS).permitAll()\r\n            .oauth2ResourceServer()\r\n            .accessDeniedHandler(restAccessDeniedHandler)\r\n            .authenticationEntryPoint(authenticationEntryPoint)\r\n            .jwt()\r\n            .authenticationManager(new ProviderManager(authenticationProvider)); // this is custom authenticationProvider\r\n        return httpSecurity.build();\r\n    }\r\n```\r\n","title":"Custom Authentication Manager with Spring Security and Java Configuration","body":"<p>This is how I did using component-based configuration (SecurityFilterChain) and new <code>authorizeHttpRequests</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    protected SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n            .authorizeHttpRequests(auth -&gt; auth\n            .antMatchers(UNPROTECTED_URLS).permitAll()\n            .oauth2ResourceServer()\n            .accessDeniedHandler(restAccessDeniedHandler)\n            .authenticationEntryPoint(authenticationEntryPoint)\n            .jwt()\n            .authenticationManager(new ProviderManager(authenticationProvider)); // this is custom authenticationProvider\n        return httpSecurity.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":5612884,"reputation":729,"user_id":4445122,"accept_rate":56,"display_name":"nbdy_"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117831,"favorite_count":0,"down_vote_count":1,"up_vote_count":33,"accepted_answer_id":31826550,"answer_count":5,"score":32,"last_activity_date":1664022328,"creation_date":1438760308,"question_id":31826233,"body_markdown":"I am using Spring Security with SpringMVC to create a web application (I will refer to this as the WebApp for clarity) that speaks to an existing application (I will refer to this as BackendApp).\r\n\r\nI want to delegate authentication responsibilities to the BackendApp (so that I don&#39;t need to synchronise the two applications). \r\n\r\nTo implement this, I would like the WebApp (running spring security) to communicate to the BackendApp via REST with the username and password provided by the user in a form and authenticate based on whether the BackendApp&#39;s response is 200 OK or 401 Unauthorised.\r\n\r\nI understand I will need to write a custom Authentication Manager to do this however I am very new to spring and can&#39;t find any information on how to implement it.\r\n\r\nI believe I will need to do something like this:\r\n\r\n    public class CustomAuthenticationManager implements AuthenticationManager{\r\n\r\n\t    @Override\r\n\t    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\t\t\r\n\t\t    String username = authentication.getName();\r\n\t\t    String pw\t\t= authentication.getCredentials().toString();\r\n\t\t\r\n\t\t    // Code to make rest call here and check for OK or Unauthorised.\r\n\t\t    // What do I return?\r\n\t\t\r\n\t    }\r\n\r\n    }\r\n\r\nDo I set authentication.setAuthenticated(true) if successful and false if otherwise and thats it?\r\n\r\nOnce this is written, how do I configure spring security to use this authentication manager using a java configuration file?\r\n\r\nThanks in advance for any assistance.","title":"Custom Authentication Manager with Spring Security and Java Configuration","body":"<p>I am using Spring Security with SpringMVC to create a web application (I will refer to this as the WebApp for clarity) that speaks to an existing application (I will refer to this as BackendApp).</p>\n\n<p>I want to delegate authentication responsibilities to the BackendApp (so that I don't need to synchronise the two applications). </p>\n\n<p>To implement this, I would like the WebApp (running spring security) to communicate to the BackendApp via REST with the username and password provided by the user in a form and authenticate based on whether the BackendApp's response is 200 OK or 401 Unauthorised.</p>\n\n<p>I understand I will need to write a custom Authentication Manager to do this however I am very new to spring and can't find any information on how to implement it.</p>\n\n<p>I believe I will need to do something like this:</p>\n\n<pre><code>public class CustomAuthenticationManager implements AuthenticationManager{\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n        String username = authentication.getName();\n        String pw       = authentication.getCredentials().toString();\n\n        // Code to make rest call here and check for OK or Unauthorised.\n        // What do I return?\n\n    }\n\n}\n</code></pre>\n\n<p>Do I set authentication.setAuthenticated(true) if successful and false if otherwise and thats it?</p>\n\n<p>Once this is written, how do I configure spring security to use this authentication manager using a java configuration file?</p>\n\n<p>Thanks in advance for any assistance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1663941410,"post_id":73828650,"comment_id":130364490,"body_markdown":"You probably need to reset your `boolean exist` back to `false` at the beginning of your loop. Currently once it is set to `true`it will keep that value forever so every time you add a new order to your cart your program will think &quot;exist is true so I need to recalculate the finalQuantity&quot;","body":"You probably need to reset your <code>boolean exist</code> back to <code>false</code> at the beginning of your loop. Currently once it is set to <code>true</code>it will keep that value forever so every time you add a new order to your cart your program will think &quot;exist is true so I need to recalculate the finalQuantity&quot;"},{"owner":{"account_id":22771580,"reputation":33,"user_id":16928923,"display_name":"LIM WENG NI"},"score":0,"creation_date":1663942772,"post_id":73828650,"comment_id":130365052,"body_markdown":"@OHGODSPIDERS, after I put boolean exist to false, the shopping cart is giving me the same output, I suspected that this code has logic problem                                 \n`for (int k = 0; k &lt; count1; k++) {\n                if (product_Id == orderList[k].getProduct_id()) { //if user enter prod 1, and prod 1 exist in the cart\n                    index = k;\n                    exist = true;\n                    orderList[k].getProduct_id();\n                    orderList[k].getOrderQuantity();\n                    orderList[k].getPrice();\n                }\n            }`","body":"@OHGODSPIDERS, after I put boolean exist to false, the shopping cart is giving me the same output, I suspected that this code has logic problem                                  <code>for (int k = 0; k &lt; count1; k++) {                 if (product_Id == orderList[k].getProduct_id()) { &#47;&#47;if user enter prod 1, and prod 1 exist in the cart                     index = k;                     exist = true;                     orderList[k].getProduct_id();                     orderList[k].getOrderQuantity();                     orderList[k].getPrice();                 }             }</code>"}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663956623,"creation_date":1663956623,"answer_id":73831502,"question_id":73828650,"body_markdown":"The code\r\n\r\n    finalQuantity += orderList[index].getOrderQuantity();\r\n\r\nwill always increase the value in the variable `finalQuantity`, which you save later with the code\r\n\r\n    orderList[index].setOrderQuantity(finalQuantity);\r\n\r\nHowever, you don&#39;t set (or reset) the variable `finalQuantity` to the current quantity of your order/product. That&#39;s why you will get the current result of `3` instead of the expected result of `1`, because in the previous loop/iteration, that variable was set to `2`.\r\n\r\nWhen you want to update the quantity, you need to read the current quantity first and set it in the variable `finalQuantity` before increasing it by the user input.\r\n\r\n---\r\nOn a side note: Your code is structured in an unclear way, which looks (and maybe *is*) wrong. Your `Order` class contains different code logic, one for managing one order entry, but also for managing the menu/userinteraction. That makes it weird to have `Order[] orderList = new Order[size];` **inside** the `Order` class (specially as a field member). It is also not clear if the `Order` class is in fact for one single order of possible multiple products (in different quantities) or if it has multiple orders (of what?).\r\n\r\nYou might also want to look into `java.util.List&lt;T&gt;` and `java.util.Map&lt;K,V&gt;` to have a container with dynamic size and to save the quantities for each product selected.","title":"Why the second product quantity override the first product quantity in java?","body":"<p>The code</p>\n<pre><code>finalQuantity += orderList[index].getOrderQuantity();\n</code></pre>\n<p>will always increase the value in the variable <code>finalQuantity</code>, which you save later with the code</p>\n<pre><code>orderList[index].setOrderQuantity(finalQuantity);\n</code></pre>\n<p>However, you don't set (or reset) the variable <code>finalQuantity</code> to the current quantity of your order/product. That's why you will get the current result of <code>3</code> instead of the expected result of <code>1</code>, because in the previous loop/iteration, that variable was set to <code>2</code>.</p>\n<p>When you want to update the quantity, you need to read the current quantity first and set it in the variable <code>finalQuantity</code> before increasing it by the user input.</p>\n<hr />\n<p>On a side note: Your code is structured in an unclear way, which looks (and maybe <em>is</em>) wrong. Your <code>Order</code> class contains different code logic, one for managing one order entry, but also for managing the menu/userinteraction. That makes it weird to have <code>Order[] orderList = new Order[size];</code> <strong>inside</strong> the <code>Order</code> class (specially as a field member). It is also not clear if the <code>Order</code> class is in fact for one single order of possible multiple products (in different quantities) or if it has multiple orders (of what?).</p>\n<p>You might also want to look into <code>java.util.List&lt;T&gt;</code> and <code>java.util.Map&lt;K,V&gt;</code> to have a container with dynamic size and to save the quantities for each product selected.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664021646,"creation_date":1664021646,"answer_id":73837138,"question_id":73828650,"body_markdown":"I think your design is not the best. The below code demonstrates my design. It consists of several classes. Refer to the comments in the below code which explain the design.\r\n\r\nAn `Order` contains `Item`s where an `Item` is a `Product` together with a quantity.\r\n\r\n(Notes after the code.)\r\n```java\r\npackage ordering;\r\n\r\nimport java.math.BigDecimal;\r\n\r\npublic record Product(int id, String name, BigDecimal price) {\r\n\r\n    public boolean equals(Object obj) {\r\n        boolean equal = this == obj;\r\n        if (!equal) {\r\n            if (obj != null) {\r\n                Class&lt;?&gt; thisClass = getClass();\r\n                Class&lt;?&gt; objClass = obj.getClass();\r\n                if (thisClass.equals(objClass)) {\r\n                    Product other = (Product) obj;\r\n                    equal = id == other.id();\r\n                }\r\n            }\r\n        }\r\n        return equal;\r\n    }\r\n\r\n    public int hashCode() {\r\n        return id;\r\n    }\r\n}\r\n```\r\n-----------------------------\r\n```java\r\npackage ordering;\r\n\r\nimport java.util.Objects;\r\n\r\n/**\r\n * An item in an order. An item consists of a product and the number of units of that product.\r\n * \r\n * @see ordering.Order\r\n */\r\npublic class Item {\r\n\r\n    /** Number of units ordered. */\r\n    private int  amount;\r\n\r\n    /** Ordered product. */\r\n    private Product  product;\r\n\r\n    /**\r\n     * Creates and returns an instance of this class.\r\n     * \r\n     * @param prod - product being ordered (cannot be null).\r\n     * @param amt  - number of units of ordered product (must be positive).\r\n     */\r\n    public Item(Product prod, int amt) {\r\n        Objects.requireNonNull(prod, &quot;Null product.&quot;);\r\n        if (amt &lt;= 0) {\r\n            throw new IllegalArgumentException(&quot;Amount must be positive.&quot;);\r\n        }\r\n        product = prod;\r\n        amount = amt;\r\n    }\r\n\r\n    public int getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(int amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    public Product getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public void setProduct(Product product) {\r\n        this.product = product;\r\n    }\r\n\r\n    public boolean equals(Object obj) {\r\n        boolean equal = this == obj;\r\n        if (!equal) {\r\n            if (obj instanceof Item) {\r\n                Item other = (Item) obj;\r\n                equal = product.equals(other.product);\r\n            }\r\n        }\r\n        return equal;\r\n    }\r\n\r\n    public int hashCode() {\r\n        return product.hashCode();\r\n    }\r\n\r\n    public String toString() {\r\n        return String.format(&quot;%3d\\u00D7%s&quot;, amount, product);\r\n    }\r\n\r\n    /**\r\n     * Adjusts current amount by adding &lt;var&gt;amount&lt;/var&gt; to it. Note that &lt;var&gt;amount&lt;/var&gt; may be\r\n     * negative.\r\n     * \r\n     * @param amount - will be added to this instance&#39;s current amount.\r\n     * \r\n     * @throws UnsupportedOperationException  if updated amount is not positive.\r\n     */\r\n    public void updateAmount(int amount) {\r\n        int newAmount = this.amount + amount;\r\n        if (newAmount &lt;= 0) {\r\n            throw new UnsupportedOperationException(&quot;Updated amount is not positive.&quot;);\r\n        }\r\n        this.amount += amount;\r\n    }\r\n}\r\n```\r\n---------------------\r\n```java\r\npackage ordering;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n/**\r\n * An order consists of a list of items.\r\n * \r\n * @see ordering.Item\r\n */\r\npublic class Order {\r\n    private List&lt;Item&gt; items;\r\n\r\n    /**\r\n     * Creates and returns an instance of this class. Creates an order with zero items.\r\n     */\r\n    public Order() {\r\n        items = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public List&lt;Item&gt; getItems() {\r\n        return new ArrayList&lt;&gt;(items);\r\n    }\r\n\r\n    /**\r\n     * Removes &lt;var&gt;item&lt;/var&gt; from the list of items in this order. Does nothing if this order\r\n     * does not contain &lt;var&gt;item&lt;/var&gt;. A particular {@code Product} appears once only in a single\r\n     * order.\r\n     * \r\n     * @param item - item to remove.\r\n     */\r\n    public void removeItem(Product item) {\r\n        findItem(item).ifPresent(i -&gt; items.remove(i));\r\n    }\r\n\r\n    /**\r\n     * Updates the list of items in this order. If the order already contains &lt;var&gt;item&lt;/var&gt; then\r\n     * &lt;var&gt;amount&lt;/var&gt; is added to the current amount. Note that &lt;var&gt;amount&lt;/var&gt; may be\r\n     * negative.\r\n     * \r\n     * @param item   - item to update.\r\n     * @param amount - quantity of items.\r\n     * \r\n     * @throws UnsupportedOperationException  if product amount, after update, is not positive.\r\n     */\r\n    public void updateItem(Product item, int amount) {\r\n        findItem(item).ifPresentOrElse(itm -&gt; itm.updateAmount(amount),\r\n                                       () -&gt; items.add(new Item(item, amount)));\r\n    }\r\n\r\n    private Optional&lt;Item&gt; findItem(Product prod) {\r\n        if (prod != null) {\r\n            for (Item item : items) {\r\n                if (prod.equals(item.getProduct())) {\r\n                    return Optional.of(item);\r\n                }\r\n            }\r\n        }\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\nThis last class is the actual program.\r\n```java\r\npackage ordering;\r\n\r\nimport java.io.IOException;\r\nimport java.math.BigDecimal;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Ordering {\r\n    private static final char YES = &#39;Y&#39;;\r\n    private static final Scanner STDIN = new Scanner(System.in);\r\n    private static final String DELIMITER = &quot;|&quot;;\r\n    private static final String PRODUCTS = &quot;product.txt&quot;;\r\n\r\n    private static List&lt;Item&gt; stock;\r\n    private static Order order;\r\n\r\n    private static boolean checkStock(Product prod, int amount) {\r\n        boolean enough = false;\r\n        for (Item item : stock) {\r\n            Product p = item.getProduct();\r\n            if (p.equals(prod)) {\r\n                int inStock = item.getAmount();\r\n                int newAmount = inStock - amount;\r\n                enough = newAmount &gt;= 0;\r\n                if (enough) {\r\n                    item.setAmount(newAmount);\r\n                }\r\n                else {\r\n                    System.out.printf(&quot;Less than %d %s in stock.%n&quot;, amount, p.name());\r\n                }\r\n            }\r\n        }\r\n        return enough;\r\n    }\r\n\r\n    private static int getAmount() {\r\n        System.out.print(&quot;Enter quantity: &quot;);\r\n        return STDIN.nextInt();\r\n    }\r\n\r\n    private static Product getProduct() {\r\n        System.out.print(&quot;Enter product ID: &quot;);\r\n        int id = STDIN.nextInt();\r\n        Product prod = null;\r\n        for (Item item : stock) {\r\n            Product p = item.getProduct();\r\n            if (p.id() == id) {\r\n                prod = p;\r\n                break;\r\n            }\r\n        }\r\n        if (prod == null) {\r\n            System.out.println(&quot;Unknown product.&quot;);\r\n        }\r\n        return prod;\r\n    }\r\n\r\n    private static void initializeStock() throws IOException {\r\n        Path path = Paths.get(PRODUCTS);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n            stock = lines.map(Ordering::makeItem)\r\n                         .filter(i -&gt; i != null)\r\n                         .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n    private static Item makeItem(String line) {\r\n        Item item;\r\n        String[] parts = line.split(&quot;\\\\&quot; + DELIMITER);\r\n        if (parts.length == 4) {\r\n            int id = Integer.parseInt(parts[0]);\r\n            BigDecimal price = new BigDecimal(parts[2]);\r\n            Product prod = new Product(id, parts[1], price);\r\n            item = new Item(prod, Integer.parseInt(parts[3]));\r\n        }\r\n        else {\r\n            item = null;\r\n        }\r\n        return item;\r\n    }\r\n\r\n    private static void makeOrder() {\r\n        order = new Order();\r\n        boolean more = true;\r\n        do {\r\n            showMenu();\r\n            Product prod = getProduct();\r\n            if (prod != null) {\r\n                int amount = getAmount();\r\n                if (checkStock(prod, amount)) {\r\n                    try {\r\n                        order.updateItem(prod, amount);\r\n                    }\r\n                    catch (UnsupportedOperationException x) {\r\n                        // Ignore.\r\n                    }\r\n                }\r\n                showOrder();\r\n            }\r\n            STDIN.nextLine();\r\n            System.out.print(&quot;Continue Order?(Y|N) &quot;);\r\n            String answer = STDIN.nextLine();\r\n            more = answer.length() &gt; 0 &amp;&amp; answer.toUpperCase().charAt(0) == YES;\r\n        } while (more);\r\n    }\r\n\r\n    private static void showMenu() {\r\n        System.out.println(&quot;Stationaries&quot;);\r\n        System.out.println(&quot;============&quot;);\r\n        System.out.println(&quot;ID  Name                Price Quantity&quot;);\r\n        System.out.println(&quot;=== =================== ===== ========&quot;);\r\n        for (Item item : stock) {\r\n            Product p = item.getProduct();\r\n            System.out.printf(&quot;%3d %-19s %5.2f %d%n&quot;,\r\n                              p.id(),\r\n                              p.name(),\r\n                              p.price().doubleValue(),\r\n                              item.getAmount());\r\n        }\r\n    }\r\n\r\n    private static void showOrder() {\r\n        if (order != null) {\r\n            List&lt;Item&gt; items = order.getItems();\r\n            if (items.size() &gt; 0) {\r\n                System.out.println(&quot;Your order:&quot;);\r\n                System.out.println(&quot;ID  Name                Price Quantity Cost&quot;);\r\n                System.out.println(&quot;=== =================== ===== ======== ======&quot;);\r\n                BigDecimal total = new BigDecimal(0);\r\n                for (Item item : order.getItems()) {\r\n                    Product prod = item.getProduct();\r\n                    int amount = item.getAmount();\r\n                    BigDecimal cost = prod.price().multiply(new BigDecimal(amount));\r\n                    total = total.add(cost);\r\n                    System.out.printf(&quot;%3d %-19s %5.2f %8d %.2f%n&quot;,\r\n                                      prod.id(),\r\n                                      prod.name(),\r\n                                      prod.price().doubleValue(),\r\n                                      amount,\r\n                                      cost);\r\n                }\r\n                System.out.printf(&quot;Total: %.2f%n&quot;, total);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Nothing ordered.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            initializeStock();\r\n            makeOrder();\r\n            showOrder();\r\n            System.out.println(&quot;\\nGood bye.&quot;);\r\n        }\r\n        catch (IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n- It is recommended to use [class] `BigDecimal`, rather than [primitive] `double` for handling money.\r\n- I believe you need at least [JDK 9][1] to run the above code.\r\n\r\nOutput from a sample run of the above code:\r\n```none\r\nStationaries\r\n============\r\nID  Name                Price Quantity\r\n=== =================== ===== ========\r\n  1 rulers               1.00 400\r\n  2 pen                  4.00 700\r\nEnter product ID: 1\r\nEnter quantity: 1\r\nYour order:\r\nID  Name                Price Quantity Cost\r\n=== =================== ===== ======== ======\r\n  1 rulers               1.00        1 1.00\r\nTotal: 1.00\r\nContinue Order?(Y|N) y\r\nStationaries\r\n============\r\nID  Name                Price Quantity\r\n=== =================== ===== ========\r\n  1 rulers               1.00 399\r\n  2 pen                  4.00 700\r\nEnter product ID: 1\r\nEnter quantity: 1\r\nYour order:\r\nID  Name                Price Quantity Cost\r\n=== =================== ===== ======== ======\r\n  1 rulers               1.00        2 2.00\r\nTotal: 2.00\r\nContinue Order?(Y|N) y\r\nStationaries\r\n============\r\nID  Name                Price Quantity\r\n=== =================== ===== ========\r\n  1 rulers               1.00 398\r\n  2 pen                  4.00 700\r\nEnter product ID: 2\r\nEnter quantity: 1\r\nYour order:\r\nID  Name                Price Quantity Cost\r\n=== =================== ===== ======== ======\r\n  1 rulers               1.00        2 2.00\r\n  2 pen                  4.00        1 4.00\r\nTotal: 6.00\r\nContinue Order?(Y|N) n\r\nYour order:\r\nID  Name                Price Quantity Cost\r\n=== =================== ===== ======== ======\r\n  1 rulers               1.00        2 2.00\r\n  2 pen                  4.00        1 4.00\r\nTotal: 6.00\r\n\r\nGood bye.\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/","title":"Why the second product quantity override the first product quantity in java?","body":"<p>I think your design is not the best. The below code demonstrates my design. It consists of several classes. Refer to the comments in the below code which explain the design.</p>\n<p>An <code>Order</code> contains <code>Item</code>s where an <code>Item</code> is a <code>Product</code> together with a quantity.</p>\n<p>(Notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ordering;\n\nimport java.math.BigDecimal;\n\npublic record Product(int id, String name, BigDecimal price) {\n\n    public boolean equals(Object obj) {\n        boolean equal = this == obj;\n        if (!equal) {\n            if (obj != null) {\n                Class&lt;?&gt; thisClass = getClass();\n                Class&lt;?&gt; objClass = obj.getClass();\n                if (thisClass.equals(objClass)) {\n                    Product other = (Product) obj;\n                    equal = id == other.id();\n                }\n            }\n        }\n        return equal;\n    }\n\n    public int hashCode() {\n        return id;\n    }\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>package ordering;\n\nimport java.util.Objects;\n\n/**\n * An item in an order. An item consists of a product and the number of units of that product.\n * \n * @see ordering.Order\n */\npublic class Item {\n\n    /** Number of units ordered. */\n    private int  amount;\n\n    /** Ordered product. */\n    private Product  product;\n\n    /**\n     * Creates and returns an instance of this class.\n     * \n     * @param prod - product being ordered (cannot be null).\n     * @param amt  - number of units of ordered product (must be positive).\n     */\n    public Item(Product prod, int amt) {\n        Objects.requireNonNull(prod, &quot;Null product.&quot;);\n        if (amt &lt;= 0) {\n            throw new IllegalArgumentException(&quot;Amount must be positive.&quot;);\n        }\n        product = prod;\n        amount = amt;\n    }\n\n    public int getAmount() {\n        return amount;\n    }\n\n    public void setAmount(int amount) {\n        this.amount = amount;\n    }\n\n    public Product getProduct() {\n        return product;\n    }\n\n    public void setProduct(Product product) {\n        this.product = product;\n    }\n\n    public boolean equals(Object obj) {\n        boolean equal = this == obj;\n        if (!equal) {\n            if (obj instanceof Item) {\n                Item other = (Item) obj;\n                equal = product.equals(other.product);\n            }\n        }\n        return equal;\n    }\n\n    public int hashCode() {\n        return product.hashCode();\n    }\n\n    public String toString() {\n        return String.format(&quot;%3d\\u00D7%s&quot;, amount, product);\n    }\n\n    /**\n     * Adjusts current amount by adding &lt;var&gt;amount&lt;/var&gt; to it. Note that &lt;var&gt;amount&lt;/var&gt; may be\n     * negative.\n     * \n     * @param amount - will be added to this instance's current amount.\n     * \n     * @throws UnsupportedOperationException  if updated amount is not positive.\n     */\n    public void updateAmount(int amount) {\n        int newAmount = this.amount + amount;\n        if (newAmount &lt;= 0) {\n            throw new UnsupportedOperationException(&quot;Updated amount is not positive.&quot;);\n        }\n        this.amount += amount;\n    }\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>package ordering;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n/**\n * An order consists of a list of items.\n * \n * @see ordering.Item\n */\npublic class Order {\n    private List&lt;Item&gt; items;\n\n    /**\n     * Creates and returns an instance of this class. Creates an order with zero items.\n     */\n    public Order() {\n        items = new ArrayList&lt;&gt;();\n    }\n\n    public List&lt;Item&gt; getItems() {\n        return new ArrayList&lt;&gt;(items);\n    }\n\n    /**\n     * Removes &lt;var&gt;item&lt;/var&gt; from the list of items in this order. Does nothing if this order\n     * does not contain &lt;var&gt;item&lt;/var&gt;. A particular {@code Product} appears once only in a single\n     * order.\n     * \n     * @param item - item to remove.\n     */\n    public void removeItem(Product item) {\n        findItem(item).ifPresent(i -&gt; items.remove(i));\n    }\n\n    /**\n     * Updates the list of items in this order. If the order already contains &lt;var&gt;item&lt;/var&gt; then\n     * &lt;var&gt;amount&lt;/var&gt; is added to the current amount. Note that &lt;var&gt;amount&lt;/var&gt; may be\n     * negative.\n     * \n     * @param item   - item to update.\n     * @param amount - quantity of items.\n     * \n     * @throws UnsupportedOperationException  if product amount, after update, is not positive.\n     */\n    public void updateItem(Product item, int amount) {\n        findItem(item).ifPresentOrElse(itm -&gt; itm.updateAmount(amount),\n                                       () -&gt; items.add(new Item(item, amount)));\n    }\n\n    private Optional&lt;Item&gt; findItem(Product prod) {\n        if (prod != null) {\n            for (Item item : items) {\n                if (prod.equals(item.getProduct())) {\n                    return Optional.of(item);\n                }\n            }\n        }\n        return Optional.empty();\n    }\n}\n</code></pre>\n<p>This last class is the actual program.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ordering;\n\nimport java.io.IOException;\nimport java.math.BigDecimal;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Ordering {\n    private static final char YES = 'Y';\n    private static final Scanner STDIN = new Scanner(System.in);\n    private static final String DELIMITER = &quot;|&quot;;\n    private static final String PRODUCTS = &quot;product.txt&quot;;\n\n    private static List&lt;Item&gt; stock;\n    private static Order order;\n\n    private static boolean checkStock(Product prod, int amount) {\n        boolean enough = false;\n        for (Item item : stock) {\n            Product p = item.getProduct();\n            if (p.equals(prod)) {\n                int inStock = item.getAmount();\n                int newAmount = inStock - amount;\n                enough = newAmount &gt;= 0;\n                if (enough) {\n                    item.setAmount(newAmount);\n                }\n                else {\n                    System.out.printf(&quot;Less than %d %s in stock.%n&quot;, amount, p.name());\n                }\n            }\n        }\n        return enough;\n    }\n\n    private static int getAmount() {\n        System.out.print(&quot;Enter quantity: &quot;);\n        return STDIN.nextInt();\n    }\n\n    private static Product getProduct() {\n        System.out.print(&quot;Enter product ID: &quot;);\n        int id = STDIN.nextInt();\n        Product prod = null;\n        for (Item item : stock) {\n            Product p = item.getProduct();\n            if (p.id() == id) {\n                prod = p;\n                break;\n            }\n        }\n        if (prod == null) {\n            System.out.println(&quot;Unknown product.&quot;);\n        }\n        return prod;\n    }\n\n    private static void initializeStock() throws IOException {\n        Path path = Paths.get(PRODUCTS);\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\n            stock = lines.map(Ordering::makeItem)\n                         .filter(i -&gt; i != null)\n                         .collect(Collectors.toList());\n        }\n    }\n\n    private static Item makeItem(String line) {\n        Item item;\n        String[] parts = line.split(&quot;\\\\&quot; + DELIMITER);\n        if (parts.length == 4) {\n            int id = Integer.parseInt(parts[0]);\n            BigDecimal price = new BigDecimal(parts[2]);\n            Product prod = new Product(id, parts[1], price);\n            item = new Item(prod, Integer.parseInt(parts[3]));\n        }\n        else {\n            item = null;\n        }\n        return item;\n    }\n\n    private static void makeOrder() {\n        order = new Order();\n        boolean more = true;\n        do {\n            showMenu();\n            Product prod = getProduct();\n            if (prod != null) {\n                int amount = getAmount();\n                if (checkStock(prod, amount)) {\n                    try {\n                        order.updateItem(prod, amount);\n                    }\n                    catch (UnsupportedOperationException x) {\n                        // Ignore.\n                    }\n                }\n                showOrder();\n            }\n            STDIN.nextLine();\n            System.out.print(&quot;Continue Order?(Y|N) &quot;);\n            String answer = STDIN.nextLine();\n            more = answer.length() &gt; 0 &amp;&amp; answer.toUpperCase().charAt(0) == YES;\n        } while (more);\n    }\n\n    private static void showMenu() {\n        System.out.println(&quot;Stationaries&quot;);\n        System.out.println(&quot;============&quot;);\n        System.out.println(&quot;ID  Name                Price Quantity&quot;);\n        System.out.println(&quot;=== =================== ===== ========&quot;);\n        for (Item item : stock) {\n            Product p = item.getProduct();\n            System.out.printf(&quot;%3d %-19s %5.2f %d%n&quot;,\n                              p.id(),\n                              p.name(),\n                              p.price().doubleValue(),\n                              item.getAmount());\n        }\n    }\n\n    private static void showOrder() {\n        if (order != null) {\n            List&lt;Item&gt; items = order.getItems();\n            if (items.size() &gt; 0) {\n                System.out.println(&quot;Your order:&quot;);\n                System.out.println(&quot;ID  Name                Price Quantity Cost&quot;);\n                System.out.println(&quot;=== =================== ===== ======== ======&quot;);\n                BigDecimal total = new BigDecimal(0);\n                for (Item item : order.getItems()) {\n                    Product prod = item.getProduct();\n                    int amount = item.getAmount();\n                    BigDecimal cost = prod.price().multiply(new BigDecimal(amount));\n                    total = total.add(cost);\n                    System.out.printf(&quot;%3d %-19s %5.2f %8d %.2f%n&quot;,\n                                      prod.id(),\n                                      prod.name(),\n                                      prod.price().doubleValue(),\n                                      amount,\n                                      cost);\n                }\n                System.out.printf(&quot;Total: %.2f%n&quot;, total);\n            }\n            else {\n                System.out.println(&quot;Nothing ordered.&quot;);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            initializeStock();\n            makeOrder();\n            showOrder();\n            System.out.println(&quot;\\nGood bye.&quot;);\n        }\n        catch (IOException x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>It is recommended to use [class] <code>BigDecimal</code>, rather than [primitive] <code>double</code> for handling money.</li>\n<li>I believe you need at least <a href=\"https://docs.oracle.com/javase/9/\" rel=\"nofollow noreferrer\">JDK 9</a> to run the above code.</li>\n</ul>\n<p>Output from a sample run of the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Stationaries\n============\nID  Name                Price Quantity\n=== =================== ===== ========\n  1 rulers               1.00 400\n  2 pen                  4.00 700\nEnter product ID: 1\nEnter quantity: 1\nYour order:\nID  Name                Price Quantity Cost\n=== =================== ===== ======== ======\n  1 rulers               1.00        1 1.00\nTotal: 1.00\nContinue Order?(Y|N) y\nStationaries\n============\nID  Name                Price Quantity\n=== =================== ===== ========\n  1 rulers               1.00 399\n  2 pen                  4.00 700\nEnter product ID: 1\nEnter quantity: 1\nYour order:\nID  Name                Price Quantity Cost\n=== =================== ===== ======== ======\n  1 rulers               1.00        2 2.00\nTotal: 2.00\nContinue Order?(Y|N) y\nStationaries\n============\nID  Name                Price Quantity\n=== =================== ===== ========\n  1 rulers               1.00 398\n  2 pen                  4.00 700\nEnter product ID: 2\nEnter quantity: 1\nYour order:\nID  Name                Price Quantity Cost\n=== =================== ===== ======== ======\n  1 rulers               1.00        2 2.00\n  2 pen                  4.00        1 4.00\nTotal: 6.00\nContinue Order?(Y|N) n\nYour order:\nID  Name                Price Quantity Cost\n=== =================== ===== ======== ======\n  1 rulers               1.00        2 2.00\n  2 pen                  4.00        1 4.00\nTotal: 6.00\n\nGood bye.\n</code></pre>\n"}],"owner":{"account_id":22771580,"reputation":33,"user_id":16928923,"display_name":"LIM WENG NI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664021646,"creation_date":1663940472,"question_id":73828650,"body_markdown":"I was trying to develop an order system where it allows users to purchase stationery.\r\nHere is how it works:\r\n\r\nFirst, it will show the stationery menu and ask user to enter the id and quantity.\r\n[![the stationery menu and ask user to enter the id and quantity][1]][1]\r\n\r\nThen the item selected will be put inside a shopping cart, and if the user wants to buy the same product again, the system will add the quantity together and show the subtotal.\r\n[![shopping cart][2]][2]\r\n\r\nHowever, when user wanted to add another product that is not in the shopping list, it will show this\r\n[![quantity error][3]][3]\r\n\r\nThe quantity was added up with the previous product, which is not what i wanted.\r\nI tried changing the code but it still gave me the same output\r\nI would appreciate if anyone can point out my mistakes.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport static java.nio.file.Files.size;\r\nimport java.util.Scanner;\r\n\r\npublic class Order {\r\n\r\n    private int product_id;\r\n    private String product_Name;\r\n    private int orderQuantity = 0;\r\n    private double price = 0.0;\r\n    private double subTotal = 0;\r\n    int size = 100;\r\n    Product[] productList = new Product[size];\r\n    int count = 0;\r\n    Order[] orderList = new Order[size];\r\n\r\n    public Order() {\r\n\r\n    }\r\n\r\n    public Order(int product_id, String product_Name, double price, int orderQuantity) {\r\n        this.product_id = product_id;\r\n        this.product_Name = product_Name;\r\n        this.orderQuantity = orderQuantity;\r\n    }\r\n\r\n    public Order(int product_id, String product_Name, double price, double subTotal, int orderQuantity) {\r\n        this.product_id = product_id;\r\n        this.product_Name = product_Name;\r\n        this.price = price;\r\n        this.subTotal = subTotal;\r\n        this.orderQuantity = orderQuantity;\r\n    }\r\n\r\n    public String getProduct_Name() {\r\n        return product_Name;\r\n    }\r\n\r\n    public void setProduct_Name(String product_Name) {\r\n        this.product_Name = product_Name;\r\n    }\r\n\r\n    public int getProduct_id() {\r\n        return product_id;\r\n    }\r\n\r\n    public void setProduct_id(int product_id) {\r\n        this.product_id = product_id;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public int getOrderQuantity() {\r\n        return orderQuantity;\r\n    }\r\n\r\n    public void setOrderQuantity(int orderQuantity) {\r\n        this.orderQuantity = orderQuantity;\r\n    }\r\n\r\n    public Order(double subTotal) {\r\n        this.subTotal = subTotal;\r\n    }\r\n\r\n    public double getSubTotal() {\r\n        return subTotal;\r\n    }\r\n\r\n    public void setSubTotal(double subTotal) {\r\n        this.subTotal = subTotal;\r\n    }\r\n\r\n    public void Menu() {\r\n\r\n        System.out.println(&quot;Stationaries&quot;);\r\n        System.out.println(&quot;================&quot;);\r\n        System.out.println(&quot;ID  Name                Price Quantity&quot;);\r\n        System.out.println(&quot;=== =================== ===== ========&quot;);\r\n        try {\r\n            File product = new File(&quot;src/product.txt&quot;);\r\n            Scanner order = new Scanner(product);\r\n\r\n            while (order.hasNextLine()) {\r\n                String[] data = order.nextLine().split(&quot;\\\\|&quot;);\r\n                int product_id = Integer.parseInt(data[0]);\r\n                String product_name = data[1];\r\n                double product_price = Double.parseDouble(data[2]);\r\n                int product_quantity = Integer.parseInt(data[3]);\r\n                productList[count] = new Product(product_id, product_name, product_price, product_quantity);\r\n                count++;\r\n                System.out.printf(&quot;%-4d%-20s%-6.2f%-10d\\n&quot;, product_id, product_name, product_price, product_quantity);\r\n            }\r\n\r\n            order.close();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void makeOrder() {\r\n        char yesno;\r\n        boolean check = false;\r\n        int index = 0;\r\n        int count1 = 0;\r\n        int totalprice = 0;\r\n        int finalQuantity = 0;\r\n        boolean exist = false;\r\n        double product_price;\r\n        String product_Name;\r\n        Scanner order = new Scanner(System.in);\r\n\r\n        do {\r\n            System.out.print(&quot;Enter product ID :&quot;);\r\n            int product_Id = order.nextInt(); //1\r\n            product_Name = productList[product_Id - 1].getProduct_name();\r\n            product_price = productList[product_Id - 1].getProduct_price();\r\n            for (int i = 0; i &lt; count; i++) {\r\n                if (product_Id == productList[i].getProduct_id()) {\r\n                    check = true;\r\n                }\r\n            }\r\n\r\n            if (check) {\r\n                System.out.print(&quot;Enter quantity : &quot;);\r\n                int quantity = order.nextInt();\r\n                orderList[count1] = new Order(product_Id, product_Name, product_price, quantity); //start from 0\r\n                count1++; //move to 1 //total 2 products\r\n            }\r\n\r\n            for (int k = 0; k &lt; count1; k++) {\r\n                if (product_Id == orderList[k].getProduct_id()) { //if user enter prod 1, and prod 1 exist in the cart\r\n                    index = k;\r\n                    exist = true;\r\n                    orderList[k].getProduct_id();\r\n                    orderList[k].getOrderQuantity();\r\n                    orderList[k].getPrice();\r\n                    break;\r\n                }\r\n            }\r\n\r\n            System.out.println(&quot;Shopping Cart&quot;);\r\n            System.out.println(&quot;================&quot;);\r\n            System.out.println(&quot;ID  Name                Price Quantity Subtotal&quot;);\r\n            System.out.println(&quot;=== =================== ===== ======== ========&quot;);\r\n\r\n            if (exist) {\r\n                finalQuantity += orderList[index].getOrderQuantity();\r\n                orderList[index].setOrderQuantity(finalQuantity); //reset the quantity to the final version\r\n                orderList[index].setSubTotal(orderList[index].getOrderQuantity() * product_price);\r\n                System.out.printf(&quot;%-4d%-20s%-6.2f%-10d%-6.2f\\n&quot;, orderList[index].getProduct_id(), orderList[index].getProduct_Name(), product_price, orderList[index].getOrderQuantity(), orderList[index].getSubTotal());\r\n            } else {\r\n                index++;\r\n                orderList[index].setProduct_id(orderList[index].getProduct_id()); //store at next array\r\n                orderList[index].setOrderQuantity(orderList[index].getOrderQuantity());\r\n                orderList[index].setSubTotal(orderList[index].getOrderQuantity() * product_price);\r\n                System.out.printf(&quot;%-4d%-20s%-6.2f%-10d%-6.2f\\n&quot;, orderList[index].getProduct_id(), orderList[index].getProduct_Name(), product_price, orderList[index].getOrderQuantity(), orderList[index].getSubTotal());\r\n            }\r\n//            } else {\r\n//                index++;\r\n//                orderList[index].setProduct_id(orderList[index].getProduct_id()); //store at next array\r\n//                orderList[index].setOrderQuantity(orderList[index].getOrderQuantity());\r\n//                orderList[index].setSubTotal(orderList[index].getOrderQuantity() * product_price);\r\n//                System.out.printf(&quot;%-4d%-20s%-6.2f%-10d%-6.2f\\n&quot;, orderList[index].getProduct_id(), orderList[index].getProduct_Name(), product_price, orderList[index].getOrderQuantity(), orderList[index].getSubTotal());\r\n//            }\r\n\r\n//use later\r\n//            System.out.println(&quot;Final Shopping Cart&quot;);\r\n//            System.out.println(&quot;================&quot;);\r\n//            System.out.println(&quot;ID  Name                Price Quantity Subtotal&quot;);\r\n//            System.out.println(&quot;=== =================== ===== ======== ========&quot;);\r\n//\r\n//            System.out.printf(&quot;%-4d%-20s%-6.2f%-10d%-6.2f\\n&quot;, orderList[i + 1].getProduct_id(), orderList[i + 1].getProduct_Name(), product_price, orderList[i + 1].getOrderQuantity(), orderList[i + 1].getSubTotal());\r\n//            int num = 0;\r\n//            boolean exist = false;\r\n//            for (int j = 0; j &lt; count1; j++) {\r\n//\r\n//                if (orderList[j].getProduct_id() == num + 1) { //if id is 1\r\n//                    exist = true;\r\n//                    index = j;\r\n//\r\n//                } else {\r\n//                    num++;\r\n//                }\r\n//\r\n//            }\r\n//\r\n//            if (exist) {\r\n//                System.out.println(&quot;final quantity=&quot; + (finalQuantity += orderList[index].getOrderQuantity()));\r\n//            }\r\n            System.out.print(&quot;Continue Order?(Y|N)&quot;);\r\n            yesno = order.next().toUpperCase().charAt(0);\r\n        } while (yesno == &#39;Y&#39;);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vbSYS.png\r\n  [2]: https://i.stack.imgur.com/TLMrh.png\r\n  [3]: https://i.stack.imgur.com/jFaTr.png","title":"Why the second product quantity override the first product quantity in java?","body":"<p>I was trying to develop an order system where it allows users to purchase stationery.\nHere is how it works:</p>\n<p>First, it will show the stationery menu and ask user to enter the id and quantity.\n<a href=\"https://i.stack.imgur.com/vbSYS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbSYS.png\" alt=\"the stationery menu and ask user to enter the id and quantity\" /></a></p>\n<p>Then the item selected will be put inside a shopping cart, and if the user wants to buy the same product again, the system will add the quantity together and show the subtotal.\n<a href=\"https://i.stack.imgur.com/TLMrh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TLMrh.png\" alt=\"shopping cart\" /></a></p>\n<p>However, when user wanted to add another product that is not in the shopping list, it will show this\n<a href=\"https://i.stack.imgur.com/jFaTr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jFaTr.png\" alt=\"quantity error\" /></a></p>\n<p>The quantity was added up with the previous product, which is not what i wanted.\nI tried changing the code but it still gave me the same output\nI would appreciate if anyone can point out my mistakes.</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport static java.nio.file.Files.size;\nimport java.util.Scanner;\n\npublic class Order {\n\n    private int product_id;\n    private String product_Name;\n    private int orderQuantity = 0;\n    private double price = 0.0;\n    private double subTotal = 0;\n    int size = 100;\n    Product[] productList = new Product[size];\n    int count = 0;\n    Order[] orderList = new Order[size];\n\n    public Order() {\n\n    }\n\n    public Order(int product_id, String product_Name, double price, int orderQuantity) {\n        this.product_id = product_id;\n        this.product_Name = product_Name;\n        this.orderQuantity = orderQuantity;\n    }\n\n    public Order(int product_id, String product_Name, double price, double subTotal, int orderQuantity) {\n        this.product_id = product_id;\n        this.product_Name = product_Name;\n        this.price = price;\n        this.subTotal = subTotal;\n        this.orderQuantity = orderQuantity;\n    }\n\n    public String getProduct_Name() {\n        return product_Name;\n    }\n\n    public void setProduct_Name(String product_Name) {\n        this.product_Name = product_Name;\n    }\n\n    public int getProduct_id() {\n        return product_id;\n    }\n\n    public void setProduct_id(int product_id) {\n        this.product_id = product_id;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public int getOrderQuantity() {\n        return orderQuantity;\n    }\n\n    public void setOrderQuantity(int orderQuantity) {\n        this.orderQuantity = orderQuantity;\n    }\n\n    public Order(double subTotal) {\n        this.subTotal = subTotal;\n    }\n\n    public double getSubTotal() {\n        return subTotal;\n    }\n\n    public void setSubTotal(double subTotal) {\n        this.subTotal = subTotal;\n    }\n\n    public void Menu() {\n\n        System.out.println(&quot;Stationaries&quot;);\n        System.out.println(&quot;================&quot;);\n        System.out.println(&quot;ID  Name                Price Quantity&quot;);\n        System.out.println(&quot;=== =================== ===== ========&quot;);\n        try {\n            File product = new File(&quot;src/product.txt&quot;);\n            Scanner order = new Scanner(product);\n\n            while (order.hasNextLine()) {\n                String[] data = order.nextLine().split(&quot;\\\\|&quot;);\n                int product_id = Integer.parseInt(data[0]);\n                String product_name = data[1];\n                double product_price = Double.parseDouble(data[2]);\n                int product_quantity = Integer.parseInt(data[3]);\n                productList[count] = new Product(product_id, product_name, product_price, product_quantity);\n                count++;\n                System.out.printf(&quot;%-4d%-20s%-6.2f%-10d\\n&quot;, product_id, product_name, product_price, product_quantity);\n            }\n\n            order.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n    }\n\n    public void makeOrder() {\n        char yesno;\n        boolean check = false;\n        int index = 0;\n        int count1 = 0;\n        int totalprice = 0;\n        int finalQuantity = 0;\n        boolean exist = false;\n        double product_price;\n        String product_Name;\n        Scanner order = new Scanner(System.in);\n\n        do {\n            System.out.print(&quot;Enter product ID :&quot;);\n            int product_Id = order.nextInt(); //1\n            product_Name = productList[product_Id - 1].getProduct_name();\n            product_price = productList[product_Id - 1].getProduct_price();\n            for (int i = 0; i &lt; count; i++) {\n                if (product_Id == productList[i].getProduct_id()) {\n                    check = true;\n                }\n            }\n\n            if (check) {\n                System.out.print(&quot;Enter quantity : &quot;);\n                int quantity = order.nextInt();\n                orderList[count1] = new Order(product_Id, product_Name, product_price, quantity); //start from 0\n                count1++; //move to 1 //total 2 products\n            }\n\n            for (int k = 0; k &lt; count1; k++) {\n                if (product_Id == orderList[k].getProduct_id()) { //if user enter prod 1, and prod 1 exist in the cart\n                    index = k;\n                    exist = true;\n                    orderList[k].getProduct_id();\n                    orderList[k].getOrderQuantity();\n                    orderList[k].getPrice();\n                    break;\n                }\n            }\n\n            System.out.println(&quot;Shopping Cart&quot;);\n            System.out.println(&quot;================&quot;);\n            System.out.println(&quot;ID  Name                Price Quantity Subtotal&quot;);\n            System.out.println(&quot;=== =================== ===== ======== ========&quot;);\n\n            if (exist) {\n                finalQuantity += orderList[index].getOrderQuantity();\n                orderList[index].setOrderQuantity(finalQuantity); //reset the quantity to the final version\n                orderList[index].setSubTotal(orderList[index].getOrderQuantity() * product_price);\n                System.out.printf(&quot;%-4d%-20s%-6.2f%-10d%-6.2f\\n&quot;, orderList[index].getProduct_id(), orderList[index].getProduct_Name(), product_price, orderList[index].getOrderQuantity(), orderList[index].getSubTotal());\n            } else {\n                index++;\n                orderList[index].setProduct_id(orderList[index].getProduct_id()); //store at next array\n                orderList[index].setOrderQuantity(orderList[index].getOrderQuantity());\n                orderList[index].setSubTotal(orderList[index].getOrderQuantity() * product_price);\n                System.out.printf(&quot;%-4d%-20s%-6.2f%-10d%-6.2f\\n&quot;, orderList[index].getProduct_id(), orderList[index].getProduct_Name(), product_price, orderList[index].getOrderQuantity(), orderList[index].getSubTotal());\n            }\n//            } else {\n//                index++;\n//                orderList[index].setProduct_id(orderList[index].getProduct_id()); //store at next array\n//                orderList[index].setOrderQuantity(orderList[index].getOrderQuantity());\n//                orderList[index].setSubTotal(orderList[index].getOrderQuantity() * product_price);\n//                System.out.printf(&quot;%-4d%-20s%-6.2f%-10d%-6.2f\\n&quot;, orderList[index].getProduct_id(), orderList[index].getProduct_Name(), product_price, orderList[index].getOrderQuantity(), orderList[index].getSubTotal());\n//            }\n\n//use later\n//            System.out.println(&quot;Final Shopping Cart&quot;);\n//            System.out.println(&quot;================&quot;);\n//            System.out.println(&quot;ID  Name                Price Quantity Subtotal&quot;);\n//            System.out.println(&quot;=== =================== ===== ======== ========&quot;);\n//\n//            System.out.printf(&quot;%-4d%-20s%-6.2f%-10d%-6.2f\\n&quot;, orderList[i + 1].getProduct_id(), orderList[i + 1].getProduct_Name(), product_price, orderList[i + 1].getOrderQuantity(), orderList[i + 1].getSubTotal());\n//            int num = 0;\n//            boolean exist = false;\n//            for (int j = 0; j &lt; count1; j++) {\n//\n//                if (orderList[j].getProduct_id() == num + 1) { //if id is 1\n//                    exist = true;\n//                    index = j;\n//\n//                } else {\n//                    num++;\n//                }\n//\n//            }\n//\n//            if (exist) {\n//                System.out.println(&quot;final quantity=&quot; + (finalQuantity += orderList[index].getOrderQuantity()));\n//            }\n            System.out.print(&quot;Continue Order?(Y|N)&quot;);\n            yesno = order.next().toUpperCase().charAt(0);\n        } while (yesno == 'Y');\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23295761,"reputation":7,"user_id":17377194,"display_name":"Osam Alek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664021297,"creation_date":1642589417,"answer_id":70769267,"question_id":70768351,"body_markdown":"try that,it works with me\r\n\r\n\r\n        PackageManager packageManager = context.getPackageManager();\r\n        appsList = new ArrayList&lt;&gt;();\r\n\r\n        Intent i = new Intent(Intent.ACTION_MAIN, null);\r\n        i.addCategory(Intent.CATEGORY_LAUNCHER);\r\n\r\n        List&lt;ResolveInfo&gt; allApps = packageManager.queryIntentActivities(i, 0);\r\n        for (ResolveInfo ri : allApps) {\r\n            AppInfo app = new AppInfo();\r\n            app.label = ri.loadLabel(packageManager);\r\n            app.packageName = ri.activityInfo.packageName;\r\n\r\n            Log.i(&quot;package &quot;,app.packageName.toString());\r\n            app.icon = ri.activityInfo.loadIcon(packageManager);\r\n            appsList.add(app);\r\n        }\r\n\r\n\r\nand in the manifest file add this:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;\r\n        tools:ignore=&quot;QueryAllPackagesPermission&quot; /&gt;\r\n\r\n\r\nand in a manifest file outside the application tag:\r\n\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n            &lt;data android:scheme=&quot;https&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n\r\n","title":"How to get all the app list including System APPS and user installed APPS?","body":"<p>try that,it works with me</p>\n<pre><code>    PackageManager packageManager = context.getPackageManager();\n    appsList = new ArrayList&lt;&gt;();\n\n    Intent i = new Intent(Intent.ACTION_MAIN, null);\n    i.addCategory(Intent.CATEGORY_LAUNCHER);\n\n    List&lt;ResolveInfo&gt; allApps = packageManager.queryIntentActivities(i, 0);\n    for (ResolveInfo ri : allApps) {\n        AppInfo app = new AppInfo();\n        app.label = ri.loadLabel(packageManager);\n        app.packageName = ri.activityInfo.packageName;\n\n        Log.i(&quot;package &quot;,app.packageName.toString());\n        app.icon = ri.activityInfo.loadIcon(packageManager);\n        appsList.add(app);\n    }\n</code></pre>\n<p>and in the manifest file add this:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;\n    tools:ignore=&quot;QueryAllPackagesPermission&quot; /&gt;\n</code></pre>\n<p>and in a manifest file outside the application tag:</p>\n<pre><code>&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n        &lt;data android:scheme=&quot;https&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12151907,"reputation":2171,"user_id":8871891,"display_name":"z.x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646307330,"creation_date":1646307330,"answer_id":71336501,"question_id":70768351,"body_markdown":"1. shell\r\n```shell\r\npm list packages\r\n```\r\ncode example\r\n```java\r\nprivate List&lt;String&gt; getPkgList() {\r\n    List&lt;String&gt; packages = new ArrayList&lt;String&gt;();\r\n    try {\r\n        Process p = Runtime.getRuntime().exec(&quot;pm list packages&quot;);\r\n        InputStreamReader isr = new InputStreamReader(p.getInputStream(), &quot;utf-8&quot;);\r\n        BufferedReader br = new BufferedReader(isr);\r\n        String line = br.readLine();\r\n        while (line != null) {\r\n            line = line.trim();\r\n            if (line.length() &gt; 8) {\r\n                String prefix = line.substring(0, 8);\r\n                if (prefix.equalsIgnoreCase(&quot;package:&quot;)) {\r\n                    line = line.substring(8).trim();\r\n                    if (!TextUtils.isEmpty(line)) {\r\n                        packages.add(line);\r\n                    }\r\n                }\r\n            }\r\n            line = br.readLine();\r\n        }\r\n        br.close();\r\n        p.destroy();\r\n    } catch (Throwable t) {\r\n        t.printStacktraces();\r\n    }\r\n    return packages;\r\n}\r\n```\r\n\r\n2. system api\r\n```java\r\nPackageManager.getInstalledPackages()\r\n```\r\n\r\ncode example\r\n```java\r\nprivate List&lt;String&gt; getPkgListNew() {\r\n    List&lt;String&gt; packages = new ArrayList&lt;String&gt;();\r\n    try {\r\n        List&lt;PackageInfo&gt; packageInfos = context.getPackageManager().getInstalledPackages(PackageManager.GET_ACTIVITIES |\r\n                PackageManager.GET_SERVICES);\r\n        for (PackageInfo info : packageInfos) {\r\n            String pkg = info.packageName;\r\n            packages.add(pkg);\r\n        }\r\n    } catch (Throwable t) {\r\n        t.printStackTrace();;\r\n    }\r\n    return packages;\r\n}\r\n\r\n\r\nprivate boolean isSystemApp(PackageInfo pi) {\r\n    boolean isSysApp = (pi.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) == 1;\r\n    boolean isSysUpd = (pi.applicationInfo.flags &amp; ApplicationInfo.FLAG_UPDATED_SYSTEM_APP) == 1;\r\n    return isSysApp || isSysUpd;\r\n}\r\n```","title":"How to get all the app list including System APPS and user installed APPS?","body":"<ol>\n<li>shell</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>pm list packages\n</code></pre>\n<p>code example</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; getPkgList() {\n    List&lt;String&gt; packages = new ArrayList&lt;String&gt;();\n    try {\n        Process p = Runtime.getRuntime().exec(&quot;pm list packages&quot;);\n        InputStreamReader isr = new InputStreamReader(p.getInputStream(), &quot;utf-8&quot;);\n        BufferedReader br = new BufferedReader(isr);\n        String line = br.readLine();\n        while (line != null) {\n            line = line.trim();\n            if (line.length() &gt; 8) {\n                String prefix = line.substring(0, 8);\n                if (prefix.equalsIgnoreCase(&quot;package:&quot;)) {\n                    line = line.substring(8).trim();\n                    if (!TextUtils.isEmpty(line)) {\n                        packages.add(line);\n                    }\n                }\n            }\n            line = br.readLine();\n        }\n        br.close();\n        p.destroy();\n    } catch (Throwable t) {\n        t.printStacktraces();\n    }\n    return packages;\n}\n</code></pre>\n<ol start=\"2\">\n<li>system api</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>PackageManager.getInstalledPackages()\n</code></pre>\n<p>code example</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; getPkgListNew() {\n    List&lt;String&gt; packages = new ArrayList&lt;String&gt;();\n    try {\n        List&lt;PackageInfo&gt; packageInfos = context.getPackageManager().getInstalledPackages(PackageManager.GET_ACTIVITIES |\n                PackageManager.GET_SERVICES);\n        for (PackageInfo info : packageInfos) {\n            String pkg = info.packageName;\n            packages.add(pkg);\n        }\n    } catch (Throwable t) {\n        t.printStackTrace();;\n    }\n    return packages;\n}\n\n\nprivate boolean isSystemApp(PackageInfo pi) {\n    boolean isSysApp = (pi.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) == 1;\n    boolean isSysUpd = (pi.applicationInfo.flags &amp; ApplicationInfo.FLAG_UPDATED_SYSTEM_APP) == 1;\n    return isSysApp || isSysUpd;\n}\n</code></pre>\n"}],"owner":{"account_id":23901158,"reputation":1,"user_id":17899314,"display_name":"MD ABDUL HADY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664021297,"creation_date":1642585490,"question_id":70768351,"body_markdown":"I&#39;ve used multiple code snippets but nothing is working properly.\r\nFor example, By using the below code, I&#39;m getting the APP list but not all like Youtube, Gmail, etc are not showing in my list.\r\n\r\n**NB: Working on Emulator but not working on the Real device properly.**\r\n\r\n**Code that I&#39;ve tried:**\r\n\r\n  \r\n\r\n     1. List&lt;ApplicationInfo&gt; apps = \r\n          getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);\r\n    \r\n       2. List&lt;PackageInfo&gt; packList = getPackageManager().getInstalledPackages(0);\r\n       \r\n       3.   Intent mainIntent = new Intent(Intent.ACTION_MAIN, null);\r\n            mainIntent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n            List&lt;ResolveInfo&gt; pkgAppsList = \r\n            getPackageManager().queryIntentActivities(mainIntent, 0);\r\n\r\nI need a proper solution that will work on the latest Android version as well as I will get all the app list.","title":"How to get all the app list including System APPS and user installed APPS?","body":"<p>I've used multiple code snippets but nothing is working properly.\nFor example, By using the below code, I'm getting the APP list but not all like Youtube, Gmail, etc are not showing in my list.</p>\n<p><strong>NB: Working on Emulator but not working on the Real device properly.</strong></p>\n<p><strong>Code that I've tried:</strong></p>\n<pre><code> 1. List&lt;ApplicationInfo&gt; apps = \n      getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);\n\n   2. List&lt;PackageInfo&gt; packList = getPackageManager().getInstalledPackages(0);\n   \n   3.   Intent mainIntent = new Intent(Intent.ACTION_MAIN, null);\n        mainIntent.addCategory(Intent.CATEGORY_LAUNCHER);\n        List&lt;ResolveInfo&gt; pkgAppsList = \n        getPackageManager().queryIntentActivities(mainIntent, 0);\n</code></pre>\n<p>I need a proper solution that will work on the latest Android version as well as I will get all the app list.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1664011719,"post_id":73836027,"comment_id":130377352,"body_markdown":"How do you call `minimax`? You never call `movePiece`...","body":"How do you call <code>minimax</code>? You never call <code>movePiece</code>..."},{"owner":{"account_id":26251058,"reputation":38,"user_id":19923865,"display_name":"SKS"},"score":0,"creation_date":1664013870,"post_id":73836027,"comment_id":130377658,"body_markdown":"@user16320675 I tried by adding negative value to the the depth, now that stack error is not giving, but AI is not putting a piece on the board","body":"@user16320675 I tried by adding negative value to the the depth, now that stack error is not giving, but AI is not putting a piece on the board"},{"owner":{"account_id":26251058,"reputation":38,"user_id":19923865,"display_name":"SKS"},"score":0,"creation_date":1664013917,"post_id":73836027,"comment_id":130377667,"body_markdown":"@trincot, it is calling on the BoardController class, it automatically invoke after the player&#39;s move.","body":"@trincot, it is calling on the BoardController class, it automatically invoke after the player&#39;s move."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1664018751,"post_id":73836027,"comment_id":130378482,"body_markdown":"My comment about `movePiece`, is that it is never called during the minimax search. I am not saying it should, but you should at least move a piece. If you don&#39;t move a piece then it makes no sense to increase the depth.","body":"My comment about <code>movePiece</code>, is that it is never called during the minimax search. I am not saying it should, but you should at least move a piece. If you don&#39;t move a piece then it makes no sense to increase the depth."}],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664020533,"creation_date":1664011404,"answer_id":73836079,"question_id":73836027,"body_markdown":"The only condition that might stop the recursive call is \r\n\r\n    board.existLegalMove()\r\n\r\nbut you never modify the board before recalling the minimax function, so the recursivity goes as deep as it can till the Stackoverflow.\r\n\r\n\r\n\r\n**How to correct the Stackoverflow :**\r\n\r\nWhen you call minmax(), you pass depth+1, it should be depth-1.\r\n\r\n**Correct the algorithm**\r\n\r\nYou need to modify the board before calling the minimax. You will also need to revert it after the call before checking another move. I do not have the implementation of the Board, so you might need to change/create the **updateMove** and **revertMove** methods. There are some optimizations that can be done, but I hope this will help you to resolve your issue.\r\n\r\n    private int estimateHeuristicValue(boolean maximizingPlayer) {\r\n        return 0;// or something more complicated\r\n    }\r\n\r\n    private int minimax(int depth, boolean maximizingPlayer) {\r\n        if (!board.existLegalMove()) return 0;\r\n        if(depth == 0) return estimateHeuristicValue(maximizingPlayer);\r\n\r\n        if (maximizingPlayer) {\r\n            int maxEval = (int) Double.NEGATIVE_INFINITY;\r\n            for (int i = 0; i &lt; this.board.NUM_OF_COLS; i++) {\r\n                board.updateMove(i,Piece.GREEN);\r\n                Winner winner = board.findWinner();\r\n                if (winner.getWinningPiece() == Piece.GREEN) {\r\n                    maxEval = Integer.MAX_VALUE; // AI is winning, maximal value\r\n                } else {\r\n                    //No winner, go deeper\r\n                    int heuristicVal = minimax(depth - 1, false); //&lt;&lt; Getting StackOverFlow Error\r\n                    maxEval = Math.max(heuristicVal, maxEval);\r\n                }\r\n                board.revertMove(i,Piece.GREEN);\r\n            }\r\n            return maxEval;\r\n        } else {\r\n            int minEval = (int) Double.POSITIVE_INFINITY;\r\n            for (int i = 0; i &lt; this.board.NUM_OF_COLS; i++) {\r\n                board.updateMove(i,Piece.RED);\r\n                Winner winner = board.findWinner();\r\n                if (winner.getWinningPiece() == Piece.RED) {\r\n                    minEval = Integer.MIN_VALUE; // AI lost, minimal value\r\n                } else {\r\n                    //No winner, go deeper\r\n                    int heuristicVal = minimax(depth - 1, true); //&lt;&lt; Getting StackOverFlow Error\r\n                    minEval = Math.min(heuristicVal, minEval);\r\n                }\r\n                board.revertMove(i,Piece.RED);\r\n            }\r\n            return minEval;\r\n        }\r\n\r\n    }\r\n","title":"StackOverFlow Error when implementing MiniMax Algorithm on Java Connect 4 game","body":"<p>The only condition that might stop the recursive call is</p>\n<pre><code>board.existLegalMove()\n</code></pre>\n<p>but you never modify the board before recalling the minimax function, so the recursivity goes as deep as it can till the Stackoverflow.</p>\n<p><strong>How to correct the Stackoverflow :</strong></p>\n<p>When you call minmax(), you pass depth+1, it should be depth-1.</p>\n<p><strong>Correct the algorithm</strong></p>\n<p>You need to modify the board before calling the minimax. You will also need to revert it after the call before checking another move. I do not have the implementation of the Board, so you might need to change/create the <strong>updateMove</strong> and <strong>revertMove</strong> methods. There are some optimizations that can be done, but I hope this will help you to resolve your issue.</p>\n<pre><code>private int estimateHeuristicValue(boolean maximizingPlayer) {\n    return 0;// or something more complicated\n}\n\nprivate int minimax(int depth, boolean maximizingPlayer) {\n    if (!board.existLegalMove()) return 0;\n    if(depth == 0) return estimateHeuristicValue(maximizingPlayer);\n\n    if (maximizingPlayer) {\n        int maxEval = (int) Double.NEGATIVE_INFINITY;\n        for (int i = 0; i &lt; this.board.NUM_OF_COLS; i++) {\n            board.updateMove(i,Piece.GREEN);\n            Winner winner = board.findWinner();\n            if (winner.getWinningPiece() == Piece.GREEN) {\n                maxEval = Integer.MAX_VALUE; // AI is winning, maximal value\n            } else {\n                //No winner, go deeper\n                int heuristicVal = minimax(depth - 1, false); //&lt;&lt; Getting StackOverFlow Error\n                maxEval = Math.max(heuristicVal, maxEval);\n            }\n            board.revertMove(i,Piece.GREEN);\n        }\n        return maxEval;\n    } else {\n        int minEval = (int) Double.POSITIVE_INFINITY;\n        for (int i = 0; i &lt; this.board.NUM_OF_COLS; i++) {\n            board.updateMove(i,Piece.RED);\n            Winner winner = board.findWinner();\n            if (winner.getWinningPiece() == Piece.RED) {\n                minEval = Integer.MIN_VALUE; // AI lost, minimal value\n            } else {\n                //No winner, go deeper\n                int heuristicVal = minimax(depth - 1, true); //&lt;&lt; Getting StackOverFlow Error\n                minEval = Math.min(heuristicVal, minEval);\n            }\n            board.revertMove(i,Piece.RED);\n        }\n        return minEval;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26251058,"reputation":38,"user_id":19923865,"display_name":"SKS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664020533,"creation_date":1664010810,"question_id":73836027,"body_markdown":"I am trying to create connect 4 game using JavaFX.\r\nWhen I try to implement the minimax algorithm, it gives giving stack overflow error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oPyRi.png\r\n\r\nWhen it comes the AI&#39;s turn it is invoking the `movePiece(-1)` . There are 6 Cols, and 5 Rows in the game. It is working fine after I send a random number between 0 - 5 fine, but the issue is on the minimax function.\r\nHere is the code I am using on AI Player&#39;s class.\r\n\r\n    package lk.ijse.dep.service;\r\n    public class AiPlayer extends Player {\r\n    \r\n        private final Board board;\r\n    \r\n        public AiPlayer(Board board) {\r\n            this.board = board;\r\n        }\r\n    \r\n        @Override\r\n        public void movePiece(int col) {\r\n            col = minimax(5, true);\r\n    \r\n            board.updateMove(col, Piece.GREEN); //Placing the piece on the selected col.\r\n            board.getBoardUI().update(col, false);\r\n    \r\n            Winner winner = board.findWinner();\r\n            if (winner.getWinningPiece() == Piece.GREEN) {\r\n                board.getBoardUI().notifyWinner(winner);\r\n            }\r\n    \r\n            if (!board.existLegalMove()) {\r\n                board.getBoardUI().notifyWinner(new Winner(Piece.EMPTY));\r\n            }\r\n        }\r\n    \r\n        private int minimax(int depth, boolean maximizingPlayer) {\r\n            if(depth == 0 || !board.existLegalMove()) return 0;\r\n    \r\n            if (maximizingPlayer) {\r\n                int maxEval = (int) Double.NEGATIVE_INFINITY;\r\n                for (int i = 0; i &lt; this.board.NUM_OF_COLS; i++) {\r\n                    System.out.println(i);\r\n                    int heuristicVal = minimax(depth + 1, false); //&lt;&lt; Getting StackOverFlow Error\r\n                    maxEval = Math.max(heuristicVal, maxEval);\r\n                }\r\n                return maxEval;\r\n            } else {\r\n                int minEval = (int) Double.POSITIVE_INFINITY;\r\n                for (int i = 0; i &lt; this.board.NUM_OF_COLS; i++) {\r\n                    System.out.println(i);\r\n                    int heuristicVal = minimax(depth + 1, true); //&lt;&lt; Getting StackOverFlow Error\r\n                    minEval = Math.min(heuristicVal, minEval);\r\n                }\r\n                return minEval;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\nWhen the AI&#39;s turn came, it is automatically invoking the movePiece(-1); It is a illegal move, so need to modify before sending it to updateMove(int col, boolean isHuman);\r\n\r\n\r\nBoard&#39;s existLegalMove function;\r\n\r\n    public boolean existLegalMove() {\r\n            for (int i = 0; i &lt; NUM_OF_COLS; i++) {\r\n                for (int j = 0; j &lt; NUM_OF_ROWS; j++) {\r\n                    if (pieces[i][j].equals(Piece.EMPTY)) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n","title":"StackOverFlow Error when implementing MiniMax Algorithm on Java Connect 4 game","body":"<p>I am trying to create connect 4 game using JavaFX.\nWhen I try to implement the minimax algorithm, it gives giving stack overflow error.</p>\n<p><a href=\"https://i.stack.imgur.com/oPyRi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oPyRi.png\" alt=\"enter image description here\" /></a></p>\n<p>When it comes the AI's turn it is invoking the <code>movePiece(-1)</code> . There are 6 Cols, and 5 Rows in the game. It is working fine after I send a random number between 0 - 5 fine, but the issue is on the minimax function.\nHere is the code I am using on AI Player's class.</p>\n<pre><code>package lk.ijse.dep.service;\npublic class AiPlayer extends Player {\n\n    private final Board board;\n\n    public AiPlayer(Board board) {\n        this.board = board;\n    }\n\n    @Override\n    public void movePiece(int col) {\n        col = minimax(5, true);\n\n        board.updateMove(col, Piece.GREEN); //Placing the piece on the selected col.\n        board.getBoardUI().update(col, false);\n\n        Winner winner = board.findWinner();\n        if (winner.getWinningPiece() == Piece.GREEN) {\n            board.getBoardUI().notifyWinner(winner);\n        }\n\n        if (!board.existLegalMove()) {\n            board.getBoardUI().notifyWinner(new Winner(Piece.EMPTY));\n        }\n    }\n\n    private int minimax(int depth, boolean maximizingPlayer) {\n        if(depth == 0 || !board.existLegalMove()) return 0;\n\n        if (maximizingPlayer) {\n            int maxEval = (int) Double.NEGATIVE_INFINITY;\n            for (int i = 0; i &lt; this.board.NUM_OF_COLS; i++) {\n                System.out.println(i);\n                int heuristicVal = minimax(depth + 1, false); //&lt;&lt; Getting StackOverFlow Error\n                maxEval = Math.max(heuristicVal, maxEval);\n            }\n            return maxEval;\n        } else {\n            int minEval = (int) Double.POSITIVE_INFINITY;\n            for (int i = 0; i &lt; this.board.NUM_OF_COLS; i++) {\n                System.out.println(i);\n                int heuristicVal = minimax(depth + 1, true); //&lt;&lt; Getting StackOverFlow Error\n                minEval = Math.min(heuristicVal, minEval);\n            }\n            return minEval;\n        }\n\n    }\n}\n</code></pre>\n<p>When the AI's turn came, it is automatically invoking the movePiece(-1); It is a illegal move, so need to modify before sending it to updateMove(int col, boolean isHuman);</p>\n<p>Board's existLegalMove function;</p>\n<pre><code>public boolean existLegalMove() {\n        for (int i = 0; i &lt; NUM_OF_COLS; i++) {\n            for (int j = 0; j &lt; NUM_OF_ROWS; j++) {\n                if (pieces[i][j].equals(Piece.EMPTY)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","image-processing","image-recognition"],"comments":[{"owner":{"account_id":299386,"reputation":2055,"user_id":605948,"accept_rate":81,"display_name":"Matthew"},"score":0,"creation_date":1301742998,"post_id":5522771,"comment_id":6272728,"body_markdown":"This is something i did in my artificial intelligence course. We did something similar like detecting the #7 in an image, distinguishing faces, etc. but we used Python. Or maybe use the Canny Edge Detection algorithm?","body":"This is something i did in my artificial intelligence course. We did something similar like detecting the #7 in an image, distinguishing faces, etc. but we used Python. Or maybe use the Canny Edge Detection algorithm?"}],"answers":[{"tags":[],"owner":{"account_id":145904,"reputation":21681,"user_id":356020,"accept_rate":86,"display_name":"mpenkov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301749853,"creation_date":1301749853,"answer_id":5523354,"question_id":5522771,"body_markdown":"Here&#39;s an [answer][1] to a similar question for C++.\r\n\r\nFor Java, you can use the [OpenCV wrappers][2].  However, once you understand the essence of the approach you should be able to solve your problem using whichever framework is available.\r\n\r\n  [1]: https://stackoverflow.com/questions/4785419/detection-of-coins-and-fit-ellipses-on-an-image/4788874#4788874\r\n  [2]: https://stackoverflow.com/questions/2037579/java-opencv-bindings","title":"how to detect shapes in an image?","body":"<p>Here's an <a href=\"https://stackoverflow.com/questions/4785419/detection-of-coins-and-fit-ellipses-on-an-image/4788874#4788874\">answer</a> to a similar question for C++.</p>\n\n<p>For Java, you can use the <a href=\"https://stackoverflow.com/questions/2037579/java-opencv-bindings\">OpenCV wrappers</a>.  However, once you understand the essence of the approach you should be able to solve your problem using whichever framework is available.</p>\n"},{"tags":[],"owner":{"account_id":169199,"reputation":7004,"user_id":395146,"accept_rate":93,"display_name":"code-gijoe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664020005,"creation_date":1301846201,"answer_id":5530677,"question_id":5522771,"body_markdown":"Circles are perfect targets for the Hough transform. Check this out [Detect circles with HT and OpenCV][1]\r\n\r\nRectangles are a bit harder since the Hough Transform is not rotation invariant. You can go into edge detection and fast fitting ([Fast line and rectangle detection by clustering and grouping][2])\r\n\r\n\r\n  [1]: https://web.archive.org/web/20190405152844/http://www.andol.info:80/hci/749.htm\r\n  [2]: http://www.springerlink.com/content/k03727633k053u68/","title":"how to detect shapes in an image?","body":"<p>Circles are perfect targets for the Hough transform. Check this out <a href=\"https://web.archive.org/web/20190405152844/http://www.andol.info:80/hci/749.htm\" rel=\"nofollow noreferrer\">Detect circles with HT and OpenCV</a></p>\n<p>Rectangles are a bit harder since the Hough Transform is not rotation invariant. You can go into edge detection and fast fitting (<a href=\"http://www.springerlink.com/content/k03727633k053u68/\" rel=\"nofollow noreferrer\">Fast line and rectangle detection by clustering and grouping</a>)</p>\n"}],"owner":{"account_id":84830,"reputation":5737,"user_id":236896,"accept_rate":50,"display_name":"Manoj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13102,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1664020005,"creation_date":1301742639,"question_id":5522771,"body_markdown":"I want to detect a circle, rectangle shaped object in an image and read the information from that object. Is there any api in java which will be helpful to me?\r\n\r\nEx: Detect a round shaped coin in a white background and obtain information about that that coin like ( value of a coin, etc.)\r\n\r\nThanks.","title":"how to detect shapes in an image?","body":"<p>I want to detect a circle, rectangle shaped object in an image and read the information from that object. Is there any api in java which will be helpful to me?</p>\n\n<p>Ex: Detect a round shaped coin in a white background and obtain information about that that coin like ( value of a coin, etc.)</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","entitymanager","micronaut"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1551802948,"post_id":55000143,"comment_id":96769618,"body_markdown":"Are you using `io.micronaut.configuration:micronaut-hibernate-jpa`?","body":"Are you using <code>io.micronaut.configuration:micronaut-hibernate-jpa</code>?"},{"owner":{"account_id":1869609,"reputation":3377,"user_id":1692179,"accept_rate":76,"display_name":"bobmarksie"},"score":0,"creation_date":1574415326,"post_id":55000143,"comment_id":104233496,"body_markdown":"This happened when the `jpa.default.packages-to-scan` property wasn&#39;t pointing to the entities objects (was pointing to my DAO package instead). Fixing that creating the `EntityManager`. The error message around this could be improved IMO.","body":"This happened when the <code>jpa.default.packages-to-scan</code> property wasn&#39;t pointing to the entities objects (was pointing to my DAO package instead). Fixing that creating the <code>EntityManager</code>. The error message around this could be improved IMO."}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1551804396,"creation_date":1551804396,"answer_id":55007729,"question_id":55000143,"body_markdown":"You haven&#39;t provided enough about your project to know for sure what is missing but I have created a working example for you at https://github.com/jeffbrown/mohamedmiledijpa.\r\n\r\n\r\nhttps://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/Employee.java\r\n\r\n    package mohamedmiledijpa;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n\r\n    @Entity\r\n    public class Employee {\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\n        private String name;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nhttps://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/EmployeeRepository.java\r\n\r\n    package mohamedmiledijpa;\r\n\r\n    import javax.validation.constraints.NotNull;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n\r\n    public interface EmployeeRepository {\r\n        Employee save(@NotNull Employee employee);\r\n        Employee update(@NotNull Employee employee);\r\n        List&lt;Employee&gt; findAll();\r\n        Optional&lt;Employee&gt; findById(@NotNull Long id);\r\n    }\r\n\r\nhttps://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/EmployeeRepositoryImpl.java\r\n\r\n    package mohamedmiledijpa;\r\n\r\n    import io.micronaut.configuration.hibernate.jpa.scope.CurrentSession;\r\n    import io.micronaut.spring.tx.annotation.Transactional;\r\n\r\n    import javax.inject.Singleton;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.TypedQuery;\r\n    import javax.validation.constraints.NotNull;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n\r\n    @Singleton\r\n    public class EmployeeRepositoryImpl implements EmployeeRepository{\r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n\r\n        public EmployeeRepositoryImpl(@CurrentSession EntityManager entityManager) {\r\n            this.entityManager = entityManager;\r\n        }\r\n\r\n        @Override\r\n        @Transactional\r\n        public Employee save(@NotNull Employee employee) {\r\n            entityManager.persist(employee);\r\n            return employee;\r\n        }\r\n\r\n        @Override\r\n        @Transactional\r\n        public Employee update(@NotNull Employee employee) {\r\n            return entityManager.merge(employee);\r\n        }\r\n\r\n        @Override\r\n        @Transactional(readOnly = true)\r\n        public List&lt;Employee&gt; findAll() {\r\n            String qlString = &quot;SELECT e FROM Employee e&quot;;\r\n            TypedQuery&lt;Employee&gt; query = entityManager.createQuery(qlString, Employee.class);\r\n            return query.getResultList();\r\n        }\r\n\r\n        @Override\r\n        @Transactional(readOnly = true)\r\n        public Optional&lt;Employee&gt; findById(@NotNull Long id) {\r\n            return Optional.ofNullable(entityManager.find(Employee.class, id));\r\n        }\r\n    }\r\n\r\nhttps://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/EmployeeController.java\r\n\r\n    package mohamedmiledijpa;\r\n\r\n    import io.micronaut.http.annotation.Body;\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Get;\r\n    import io.micronaut.http.annotation.Post;\r\n\r\n    import java.util.List;\r\n\r\n    @Controller(&quot;/employee&quot;)\r\n    public class EmployeeController {\r\n\r\n        private EmployeeRepository employeeRepository;\r\n\r\n        public EmployeeController(EmployeeRepository employeeRepository) {\r\n            this.employeeRepository = employeeRepository;\r\n        }\r\n\r\n        @Get(&quot;/&quot;)\r\n        public List&lt;Employee&gt; list() {\r\n            return employeeRepository.findAll();\r\n        }\r\n\r\n        @Post(&quot;/&quot;)\r\n        public Employee create(@Body Employee employee) {\r\n            return employeeRepository.save(employee);\r\n        }\r\n    }\r\n\r\nhttps://github.com/jeffbrown/mohamedmiledijpa/blob/f6500d3fb24190ed59ca64dcc28a02f8069fedfd/build.gradle#L29\r\n\r\n    compile &quot;io.micronaut.configuration:micronaut-hibernate-jpa&quot;\r\n\r\nThat all appears to work:\r\n\r\n    ~ $ curl http://localhost:8080/employee\r\n    []\r\n    ~ $ \r\n    ~ $ curl -d &#39;{&quot;name&quot;:&quot;Jake&quot;}&#39; -H &quot;Content-Type: application/json&quot; -X POST  http://localhost:8080/employee\r\n    {&quot;id&quot;:1,&quot;name&quot;:&quot;Jake&quot;}\r\n    ~ $ \r\n    ~ $ curl -d &#39;{&quot;name&quot;:&quot;Zack&quot;}&#39; -H &quot;Content-Type: application/json&quot; -X POST  http://localhost:8080/employee\r\n    {&quot;id&quot;:2,&quot;name&quot;:&quot;Zack&quot;}\r\n    ~ $ \r\n    ~ $ curl http://localhost:8080/employee\r\n    [{&quot;id&quot;:1,&quot;name&quot;:&quot;Jake&quot;},{&quot;id&quot;:2,&quot;name&quot;:&quot;Zack&quot;}]\r\n\r\n","title":"How to use entitymanager with Micronaut?","body":"<p>You haven't provided enough about your project to know for sure what is missing but I have created a working example for you at <a href=\"https://github.com/jeffbrown/mohamedmiledijpa\" rel=\"noreferrer\">https://github.com/jeffbrown/mohamedmiledijpa</a>.</p>\n\n<p><a href=\"https://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/Employee.java\" rel=\"noreferrer\">https://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/Employee.java</a></p>\n\n<pre><code>package mohamedmiledijpa;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\npublic class Employee {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/EmployeeRepository.java\" rel=\"noreferrer\">https://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/EmployeeRepository.java</a></p>\n\n<pre><code>package mohamedmiledijpa;\n\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\nimport java.util.Optional;\n\npublic interface EmployeeRepository {\n    Employee save(@NotNull Employee employee);\n    Employee update(@NotNull Employee employee);\n    List&lt;Employee&gt; findAll();\n    Optional&lt;Employee&gt; findById(@NotNull Long id);\n}\n</code></pre>\n\n<p><a href=\"https://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/EmployeeRepositoryImpl.java\" rel=\"noreferrer\">https://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/EmployeeRepositoryImpl.java</a></p>\n\n<pre><code>package mohamedmiledijpa;\n\nimport io.micronaut.configuration.hibernate.jpa.scope.CurrentSession;\nimport io.micronaut.spring.tx.annotation.Transactional;\n\nimport javax.inject.Singleton;\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.TypedQuery;\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\nimport java.util.Optional;\n\n@Singleton\npublic class EmployeeRepositoryImpl implements EmployeeRepository{\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public EmployeeRepositoryImpl(@CurrentSession EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    @Override\n    @Transactional\n    public Employee save(@NotNull Employee employee) {\n        entityManager.persist(employee);\n        return employee;\n    }\n\n    @Override\n    @Transactional\n    public Employee update(@NotNull Employee employee) {\n        return entityManager.merge(employee);\n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public List&lt;Employee&gt; findAll() {\n        String qlString = \"SELECT e FROM Employee e\";\n        TypedQuery&lt;Employee&gt; query = entityManager.createQuery(qlString, Employee.class);\n        return query.getResultList();\n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public Optional&lt;Employee&gt; findById(@NotNull Long id) {\n        return Optional.ofNullable(entityManager.find(Employee.class, id));\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/EmployeeController.java\" rel=\"noreferrer\">https://github.com/jeffbrown/mohamedmiledijpa/blob/master/src/main/java/mohamedmiledijpa/EmployeeController.java</a></p>\n\n<pre><code>package mohamedmiledijpa;\n\nimport io.micronaut.http.annotation.Body;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.micronaut.http.annotation.Post;\n\nimport java.util.List;\n\n@Controller(\"/employee\")\npublic class EmployeeController {\n\n    private EmployeeRepository employeeRepository;\n\n    public EmployeeController(EmployeeRepository employeeRepository) {\n        this.employeeRepository = employeeRepository;\n    }\n\n    @Get(\"/\")\n    public List&lt;Employee&gt; list() {\n        return employeeRepository.findAll();\n    }\n\n    @Post(\"/\")\n    public Employee create(@Body Employee employee) {\n        return employeeRepository.save(employee);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/jeffbrown/mohamedmiledijpa/blob/f6500d3fb24190ed59ca64dcc28a02f8069fedfd/build.gradle#L29\" rel=\"noreferrer\">https://github.com/jeffbrown/mohamedmiledijpa/blob/f6500d3fb24190ed59ca64dcc28a02f8069fedfd/build.gradle#L29</a></p>\n\n<pre><code>compile \"io.micronaut.configuration:micronaut-hibernate-jpa\"\n</code></pre>\n\n<p>That all appears to work:</p>\n\n<pre><code>~ $ curl http://localhost:8080/employee\n[]\n~ $ \n~ $ curl -d '{\"name\":\"Jake\"}' -H \"Content-Type: application/json\" -X POST  http://localhost:8080/employee\n{\"id\":1,\"name\":\"Jake\"}\n~ $ \n~ $ curl -d '{\"name\":\"Zack\"}' -H \"Content-Type: application/json\" -X POST  http://localhost:8080/employee\n{\"id\":2,\"name\":\"Zack\"}\n~ $ \n~ $ curl http://localhost:8080/employee\n[{\"id\":1,\"name\":\"Jake\"},{\"id\":2,\"name\":\"Zack\"}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129378,"reputation":21,"user_id":8500654,"display_name":"omnipath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623869033,"creation_date":1623869033,"answer_id":68008414,"question_id":55000143,"body_markdown":"I had this issue, and I found the solution:\r\n\r\nIf you&#39;re using @PersistenceContext for injecting the EntityManger, you need to include this dependency:\r\n\r\n{Using Gradle}\r\n\r\n    compile &quot;io.micronaut.configuration:micronaut-jdbc-hikari&quot;\r\n\r\nor\r\n{Using Maven}\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.sql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nas this is the way that micronaut locates the DataSources defined in your application.yml. ","title":"How to use entitymanager with Micronaut?","body":"<p>I had this issue, and I found the solution:</p>\n<p>If you're using @PersistenceContext for injecting the EntityManger, you need to include this dependency:</p>\n<p>{Using Gradle}</p>\n<pre><code>compile &quot;io.micronaut.configuration:micronaut-jdbc-hikari&quot;\n</code></pre>\n<p>or\n{Using Maven}</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.micronaut.sql&lt;/groupId&gt;\n  &lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>as this is the way that micronaut locates the DataSources defined in your application.yml.</p>\n"},{"tags":[],"owner":{"account_id":24154543,"reputation":11,"user_id":18118941,"display_name":"PaulG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664019858,"creation_date":1664019858,"answer_id":73836970,"question_id":55000143,"body_markdown":"I had the same error.\r\nI solved it adding this dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-hibernate-jpa&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOtherwise, if you already have this dependency I recomend you to check if you have the same dependecies this man has (his project is done in gradle but you can search the dependency in maven repository too):\r\n\r\nhttps://github.com/jeffbrown/mohamedmiledijpa.","title":"How to use entitymanager with Micronaut?","body":"<p>I had the same error.\nI solved it adding this dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\n  &lt;artifactId&gt;micronaut-hibernate-jpa&lt;/artifactId&gt;\n  &lt;version&gt;2.2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Otherwise, if you already have this dependency I recomend you to check if you have the same dependecies this man has (his project is done in gradle but you can search the dependency in maven repository too):</p>\n<p><a href=\"https://github.com/jeffbrown/mohamedmiledijpa\" rel=\"nofollow noreferrer\">https://github.com/jeffbrown/mohamedmiledijpa</a>.</p>\n"}],"owner":{"account_id":11475441,"reputation":7333,"user_id":8411088,"display_name":"Mohamed MILADI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6408,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55007729,"answer_count":3,"score":4,"last_activity_date":1664019858,"creation_date":1551780119,"question_id":55000143,"body_markdown":"I&#39;m new in Micronaut framework and I&#39;m trying to use entitymanager to create my repository.\r\nI created my repository like this\r\n\r\n    public interface EmployeeRepository {\r\n        Employee save(@NotNull Employee employee);\r\n        Employee update(@NotNull Employee employee);\r\n        List&lt;Employee&gt; findAll();\r\n        Optional&lt;Employee&gt; findById(@NotNull Long id);\r\n    }\r\n\r\nand I used this class to implement the interface and to inject entitymanager\r\n\r\n    @Singleton\r\n    public class EmployeeRepositoryImpl implements EmployeeRepository{\r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        public EmployeeRepositoryImpl(@CurrentSession EntityManager entityManager) {\r\n            this.entityManager = entityManager;\r\n        }\r\n    \r\n        @Override\r\n        @Transactional\r\n        public Employee save(@NotNull Employee employee) {\r\n            entityManager.persist(employee);\r\n            return employee;\r\n        }\r\n    \r\n        @Override\r\n        @Transactional\r\n        public Employee update(@NotNull Employee employee) {\r\n            return entityManager.merge(employee);\r\n        }\r\n    \r\n        @Override\r\n        @Transactional(readOnly = true)\r\n        public List&lt;Employee&gt; findAll() {\r\n            String qlString = &quot;SELECT * FROM Employee&quot;;\r\n            TypedQuery&lt;Employee&gt; query = entityManager.createQuery(qlString, Employee.class);\r\n            return query.getResultList();\r\n        }\r\n    \r\n        @Override\r\n        @Transactional(readOnly = true)\r\n        public Optional&lt;Employee&gt; findById(@NotNull Long id) {\r\n            return Optional.ofNullable(entityManager.find(Employee.class, id));\r\n        }\r\n    }\r\n\r\nThe problem is that I have always this error :\r\n\r\n    Message: No bean of type [javax.persistence.EntityManager] exists. Ensure the class is declared a bean and if you are using Java or Kotlin make sure you have enabled annotation processing.\r\n    Path Taken: new $EmployeeControllerDefinition$Intercepted([EmployeeRepositoryImpl employeeRepository],BeanContext beanContext,Interceptor[] interceptors) --&gt; new $EmployeeRepositoryImplDefinition$Intercepted([EntityManager entityManager],BeanContext beanContext,Interceptor[] interceptors)\r\n    io.micronaut.context.exceptions.DependencyInjectionException: Failed to inject value for parameter [entityManager] of class: com.milamed.dao.$EmployeeRepositoryImplDefinition$Intercepted\r\n\r\n\r\nPS: I have enabled the annotation processing\r\n","title":"How to use entitymanager with Micronaut?","body":"<p>I'm new in Micronaut framework and I'm trying to use entitymanager to create my repository.\nI created my repository like this</p>\n\n<pre><code>public interface EmployeeRepository {\n    Employee save(@NotNull Employee employee);\n    Employee update(@NotNull Employee employee);\n    List&lt;Employee&gt; findAll();\n    Optional&lt;Employee&gt; findById(@NotNull Long id);\n}\n</code></pre>\n\n<p>and I used this class to implement the interface and to inject entitymanager</p>\n\n<pre><code>@Singleton\npublic class EmployeeRepositoryImpl implements EmployeeRepository{\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public EmployeeRepositoryImpl(@CurrentSession EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    @Override\n    @Transactional\n    public Employee save(@NotNull Employee employee) {\n        entityManager.persist(employee);\n        return employee;\n    }\n\n    @Override\n    @Transactional\n    public Employee update(@NotNull Employee employee) {\n        return entityManager.merge(employee);\n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public List&lt;Employee&gt; findAll() {\n        String qlString = \"SELECT * FROM Employee\";\n        TypedQuery&lt;Employee&gt; query = entityManager.createQuery(qlString, Employee.class);\n        return query.getResultList();\n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public Optional&lt;Employee&gt; findById(@NotNull Long id) {\n        return Optional.ofNullable(entityManager.find(Employee.class, id));\n    }\n}\n</code></pre>\n\n<p>The problem is that I have always this error :</p>\n\n<pre><code>Message: No bean of type [javax.persistence.EntityManager] exists. Ensure the class is declared a bean and if you are using Java or Kotlin make sure you have enabled annotation processing.\nPath Taken: new $EmployeeControllerDefinition$Intercepted([EmployeeRepositoryImpl employeeRepository],BeanContext beanContext,Interceptor[] interceptors) --&gt; new $EmployeeRepositoryImplDefinition$Intercepted([EntityManager entityManager],BeanContext beanContext,Interceptor[] interceptors)\nio.micronaut.context.exceptions.DependencyInjectionException: Failed to inject value for parameter [entityManager] of class: com.milamed.dao.$EmployeeRepositoryImplDefinition$Intercepted\n</code></pre>\n\n<p>PS: I have enabled the annotation processing</p>\n"},{"tags":["java","search","nlp"],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1294645593,"creation_date":1294645593,"answer_id":4644669,"question_id":4644625,"body_markdown":"Jakarta Lucene/Solr?\r\nhttp://lucene.apache.org/java/docs/index.html","title":"NLP Library in java","body":"<p>Jakarta Lucene/Solr?\n<a href=\"http://lucene.apache.org/java/docs/index.html\" rel=\"nofollow\">http://lucene.apache.org/java/docs/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":151783,"reputation":27742,"user_id":365872,"accept_rate":91,"display_name":"ffriend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664019817,"creation_date":1294658291,"answer_id":4646245,"question_id":4644625,"body_markdown":"The easiest way for you that I see is to use **concept tagging** from [AlchemyAPI][1]. You can also use some plugins for libraries from questions, pointed in comments, especially pay attention to **[OpenNLP][2]** and **[GATE][3]**. If you are going to build **ontology-based search engine**, I recommend you reading [this](http://www.springerlink.com/content/462t8871w5255l13/) paper on ontology-based interpretation of keywords, that shows some tendencies in user&#39;s habits ([video version][4]). Otherwise, you&#39;ll better use some **statistical techniques** like [LSA][5].\n\n [1]: https://web.archive.org/web/20161126133930/http://www.alchemyapi.com:80/api\n [2]: https://web.archive.org/web/20120306022203/http://incubator.apache.org:80/opennlp/\n [3]: https://gate.ac.uk/\n [4]: https://web.archive.org/web/20201203081713/http://videolectures.net/iswc07_tran_obi/\n [5]: https://en.wikipedia.org/wiki/Latent_semantic_analysis","title":"NLP Library in java","body":"<p>The easiest way for you that I see is to use <strong>concept tagging</strong> from <a href=\"https://web.archive.org/web/20161126133930/http://www.alchemyapi.com:80/api\" rel=\"nofollow noreferrer\">AlchemyAPI</a>. You can also use some plugins for libraries from questions, pointed in comments, especially pay attention to <strong><a href=\"https://web.archive.org/web/20120306022203/http://incubator.apache.org:80/opennlp/\" rel=\"nofollow noreferrer\">OpenNLP</a></strong> and <strong><a href=\"https://gate.ac.uk/\" rel=\"nofollow noreferrer\">GATE</a></strong>. If you are going to build <strong>ontology-based search engine</strong>, I recommend you reading <a href=\"http://www.springerlink.com/content/462t8871w5255l13/\" rel=\"nofollow noreferrer\">this</a> paper on ontology-based interpretation of keywords, that shows some tendencies in user's habits (<a href=\"https://web.archive.org/web/20201203081713/http://videolectures.net/iswc07_tran_obi/\" rel=\"nofollow noreferrer\">video version</a>). Otherwise, you'll better use some <strong>statistical techniques</strong> like <a href=\"https://en.wikipedia.org/wiki/Latent_semantic_analysis\" rel=\"nofollow noreferrer\">LSA</a>.</p>\n"}],"owner":{"account_id":135248,"reputation":2399,"user_id":337962,"accept_rate":88,"display_name":"Izza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1321950353,"answer_count":2,"score":0,"last_activity_date":1664019817,"creation_date":1294645132,"question_id":4644625,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [Java : Is there a good natural language processing library](https://stackoverflow.com/questions/870460/java-is-there-a-good-natural-language-processing-library)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nI need a simple Natural Language Processing library written in java which can be used to process a search query/question. What I want actually is to **separate the main subject which is being searched in a query**. For an example, considering a query like &quot;What is an apple?&quot;, it&#39;s perfect if the main search word apple can be extracted. This is for a semantic search engine development purpose.\r\n\r\nCan anyone please suggest a suitable nlp library for this??\r\n\r\nThank You!!","title":"NLP Library in java","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/870460/java-is-there-a-good-natural-language-processing-library\">Java : Is there a good natural language processing library</a>  </p>\n</blockquote>\n\n\n\n<p>I need a simple Natural Language Processing library written in java which can be used to process a search query/question. What I want actually is to <strong>separate the main subject which is being searched in a query</strong>. For an example, considering a query like \"What is an apple?\", it's perfect if the main search word apple can be extracted. This is for a semantic search engine development purpose.</p>\n\n<p>Can anyone please suggest a suitable nlp library for this??</p>\n\n<p>Thank You!!</p>\n"},{"tags":["java","docker","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":3077431,"reputation":1329,"user_id":2606441,"accept_rate":77,"display_name":"Manuel Pap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664019006,"creation_date":1664019006,"answer_id":73836864,"question_id":53478528,"body_markdown":"Different case than yours but I got the same error and it seems that it&#39;s not that common. \r\n\r\nIn my case I got the same error when the dependency for the database was not in scope test but the dependency for the `testcontainers` it was.\r\n\r\nFor example on `pom.xml`\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssqlserver&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI forgot to remove `&lt;scope&gt;test&lt;/scope&gt;` from the `testcontainers` and after that the error was gone.\r\n\r\nI guess there isn&#39;t a global solution to this error but the cause could be some misconfiguration on `pom.xml`.","title":"&quot;linkablecontainer not found&quot; when using testcontainers","body":"<p>Different case than yours but I got the same error and it seems that it's not that common.</p>\n<p>In my case I got the same error when the dependency for the database was not in scope test but the dependency for the <code>testcontainers</code> it was.</p>\n<p>For example on <code>pom.xml</code></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;mssqlserver&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I forgot to remove <code>&lt;scope&gt;test&lt;/scope&gt;</code> from the <code>testcontainers</code> and after that the error was gone.</p>\n<p>I guess there isn't a global solution to this error but the cause could be some misconfiguration on <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1664019006,"creation_date":1543226025,"question_id":53478528,"body_markdown":"I want to use testcontainers (https://www.testcontainers.org/usage.html)\r\n\r\nSo I imported the corresponding Maven dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n        &lt;version&gt;1.10.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;oracle-xe&lt;/artifactId&gt;\r\n        &lt;version&gt;1.10.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen I right clicked the docker icon on taskbar -&gt; Settings -&gt; General\r\nand checked the item:\r\n\r\n    Expose daemon on tcp://localhost:2375 without TLS\r\n\r\nSet the environment variables as described on testcontainers site:\r\n\r\n    DOCKER_CERT_PATH=C:\\Users\\username\\.docker\r\n    DOCKER_HOST=https://localhost:2375\r\n    DOCKER_TLS_VERIFY=1\r\n\r\nAnd created a JUnit-test with the code:\r\n\r\n    @Test\r\n    public void test() {\r\n       OracleContainer oracleXE = new OracleContainer();\r\n    ...\r\n\r\nHowever I got the error:\r\n\r\n    Error:(82, 27) java: cannot access org.testcontainers.containers.traits.LinkableContainer\r\n      class file for org.testcontainers.containers.traits.LinkableContainer not found\r\n\r\nI&#39;ve googled for &quot;linkablecontainer not found&quot; and for\r\n&quot;org.testcontainers.containers.traits.LinkableContainer not found&quot; but with no results.\r\n\r\nAny ideas what went wrong?","title":"&quot;linkablecontainer not found&quot; when using testcontainers","body":"<p>I want to use testcontainers (<a href=\"https://www.testcontainers.org/usage.html\" rel=\"noreferrer\">https://www.testcontainers.org/usage.html</a>)</p>\n\n<p>So I imported the corresponding Maven dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n    &lt;version&gt;1.10.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;oracle-xe&lt;/artifactId&gt;\n    &lt;version&gt;1.10.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then I right clicked the docker icon on taskbar -> Settings -> General\nand checked the item:</p>\n\n<pre><code>Expose daemon on tcp://localhost:2375 without TLS\n</code></pre>\n\n<p>Set the environment variables as described on testcontainers site:</p>\n\n<pre><code>DOCKER_CERT_PATH=C:\\Users\\username\\.docker\nDOCKER_HOST=https://localhost:2375\nDOCKER_TLS_VERIFY=1\n</code></pre>\n\n<p>And created a JUnit-test with the code:</p>\n\n<pre><code>@Test\npublic void test() {\n   OracleContainer oracleXE = new OracleContainer();\n...\n</code></pre>\n\n<p>However I got the error:</p>\n\n<pre><code>Error:(82, 27) java: cannot access org.testcontainers.containers.traits.LinkableContainer\n  class file for org.testcontainers.containers.traits.LinkableContainer not found\n</code></pre>\n\n<p>I've googled for \"linkablecontainer not found\" and for\n\"org.testcontainers.containers.traits.LinkableContainer not found\" but with no results.</p>\n\n<p>Any ideas what went wrong?</p>\n"},{"tags":["java","dynamic-programming"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1628356442,"post_id":68694587,"comment_id":121400784,"body_markdown":"What are the constraints on `n`?","body":"What are the constraints on <code>n</code>?"},{"owner":{"account_id":14153116,"reputation":2736,"user_id":10224590,"display_name":"Pranav Choudhary"},"score":0,"creation_date":1628356552,"post_id":68694587,"comment_id":121400808,"body_markdown":"Well it is not given in the question statement","body":"Well it is not given in the question statement"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1628356576,"post_id":68694587,"comment_id":121400816,"body_markdown":"Have you tried just sorting the monsters?","body":"Have you tried just sorting the monsters?"},{"owner":{"account_id":14153116,"reputation":2736,"user_id":10224590,"display_name":"Pranav Choudhary"},"score":0,"creation_date":1628356634,"post_id":68694587,"comment_id":121400826,"body_markdown":"No, I thought of making a list of  pair of bonus and monster and then sorting that  list. But I have not tried it","body":"No, I thought of making a list of  pair of bonus and monster and then sorting that  list. But I have not tried it"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1628356863,"post_id":68694587,"comment_id":121400870,"body_markdown":"Feels like a search problem, like backtracking.  Need to search all possible combinations to make sure you&#39;ve got the deepest possible tree.","body":"Feels like a search problem, like backtracking.  Need to search all possible combinations to make sure you&#39;ve got the deepest possible tree."},{"owner":{"account_id":17276755,"reputation":88,"user_id":12511231,"display_name":"Sai Patil"},"score":0,"creation_date":1628357871,"post_id":68694587,"comment_id":121401082,"body_markdown":"I think when exp greater or equal, should check for both n-1 and n+1 indexes and you need to maintain an array to denote that monster(at index i) has been killed","body":"I think when exp greater or equal, should check for both n-1 and n+1 indexes and you need to maintain an array to denote that monster(at index i) has been killed"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1628362059,"post_id":68694587,"comment_id":121402115,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1628357708,"creation_date":1628357708,"answer_id":68694737,"question_id":68694587,"body_markdown":"You can just sort the monsters from lowest to highest power required and defeat them in that order.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner s = new Scanner(System.in);\r\n    int n = s.nextInt();\r\n    int exp = s.nextInt();\r\n    int monst[] = new int[n];\r\n    int bonus[] = new int[n];\r\n    for (int i = 0; i &lt; n; i++) {\r\n        monst[i] = s.nextInt();\r\n    }\r\n    for (int i = 0; i &lt; n; i++) {\r\n        bonus[i] = s.nextInt();\r\n    }\r\n    class Monster {\r\n        private final int power, bonus;\r\n        public Monster(int power, int bonus){\r\n            this.power = power;\r\n            this.bonus = bonus;\r\n        }\r\n    }\r\n    Monster[] monsters = new Monster[n];\r\n    for(int i = 0; i &lt; n; i++) monsters[i] = new Monster(monst[i], bonus[i]);\r\n    Arrays.sort(monsters, Comparator.comparingInt(m -&gt; m.power));\r\n    int count = 0;\r\n    for(Monster m: monsters){\r\n        if(exp &lt; m.power) break;\r\n        exp += m.bonus;\r\n        ++count;\r\n    }\r\n    System.out.println(count);\r\n}\r\n```\r\n\r\n","title":"what is the maximum possible number of monsters you can defeat?","body":"<p>You can just sort the monsters from lowest to highest power required and defeat them in that order.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n    int n = s.nextInt();\n    int exp = s.nextInt();\n    int monst[] = new int[n];\n    int bonus[] = new int[n];\n    for (int i = 0; i &lt; n; i++) {\n        monst[i] = s.nextInt();\n    }\n    for (int i = 0; i &lt; n; i++) {\n        bonus[i] = s.nextInt();\n    }\n    class Monster {\n        private final int power, bonus;\n        public Monster(int power, int bonus){\n            this.power = power;\n            this.bonus = bonus;\n        }\n    }\n    Monster[] monsters = new Monster[n];\n    for(int i = 0; i &lt; n; i++) monsters[i] = new Monster(monst[i], bonus[i]);\n    Arrays.sort(monsters, Comparator.comparingInt(m -&gt; m.power));\n    int count = 0;\n    for(Monster m: monsters){\n        if(exp &lt; m.power) break;\n        exp += m.bonus;\n        ++count;\n    }\n    System.out.println(count);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628359683,"creation_date":1628359683,"answer_id":68694955,"question_id":68694587,"body_markdown":"Perhaps I am too simplistic, but I would try it as below:\r\n\r\nFirst create a class `Monster` like this:\r\n\r\n    public class Monster\r\n    {\r\n      final int m_Power;\r\n      final int m_Bonus;\r\n    \r\n      public Monster( final int power, final int bonus )\r\n      {\r\n        m_Power = power;\r\n        m_Bonus = bonus;\r\n      }\r\n    \r\n      public final int getPower() { return m_Power; }\r\n      public final int getBonus() { return m_Bonus; }\r\n    }\r\n\r\nNext, initialise a list of Monsters like this:\r\n\r\n    public static void main( String... args ) \r\n    { \r\n      final var scanner = new Scanner( System.in );\r\n      final var n = scanner.nextInt();\r\n      final var experience = scanner.nextInt();\r\n      final var power [] = new int [n];\r\n      for( var i = 0; i &lt; n; ++i ) \r\n      {\r\n        power [i] = scanner.nextInt();\r\n      }\r\n      List&lt;Monster&gt; monsters = new ArrayList&lt;&gt;( n );\r\n      for( var i = 0; i &lt; n; ++i ) \r\n      {\r\n        monsters.add( new Monster( power [i], scanner.nextInt();\r\n      }\r\n      monsters.sort( (m1,m2) -&gt;\r\n      { \r\n        final var p = m1.getPower() - m2.getPower();\r\n        return p == 0 ? m2.getBonus() - m1.getBonus(() : p; \r\n      } ); //*1\r\n      System.out.println( defeat( monsters, experience ) );\r\n    }\r\n\r\n*1 -&gt; this implementation of the comparator works well only for power and bonus values that are small compared to MAX_INT.\r\n\r\nThe list `monsters` now contains the monsters sorted by their power in ascending order; monsters with the same power are ordered by their bonus values in descending order.\r\n\r\nNow my implementation of `defeat()` would look like this:\r\n\r\n    public final int defeat( final List&lt;Monster&gt; m, final int initialExperience )\r\n    {\r\n      var experience = initialExperience;\r\n      var retValue = 0;\r\n      final Stack&lt;Monster&gt; monsters = new LinkedList&lt;&gt;( m );\r\n      while( !monsters.empty() )\r\n      {\r\n        var monster = monsters.pop();\r\n        if( experience &gt; monster.getPower() )\r\n        {\r\n          experience += monster.getBonus();\r\n          ++retValue;\r\n        }\r\n        else break;\r\n      }\r\n      return retValue;\r\n    }","title":"what is the maximum possible number of monsters you can defeat?","body":"<p>Perhaps I am too simplistic, but I would try it as below:</p>\n<p>First create a class <code>Monster</code> like this:</p>\n<pre><code>public class Monster\n{\n  final int m_Power;\n  final int m_Bonus;\n\n  public Monster( final int power, final int bonus )\n  {\n    m_Power = power;\n    m_Bonus = bonus;\n  }\n\n  public final int getPower() { return m_Power; }\n  public final int getBonus() { return m_Bonus; }\n}\n</code></pre>\n<p>Next, initialise a list of Monsters like this:</p>\n<pre><code>public static void main( String... args ) \n{ \n  final var scanner = new Scanner( System.in );\n  final var n = scanner.nextInt();\n  final var experience = scanner.nextInt();\n  final var power [] = new int [n];\n  for( var i = 0; i &lt; n; ++i ) \n  {\n    power [i] = scanner.nextInt();\n  }\n  List&lt;Monster&gt; monsters = new ArrayList&lt;&gt;( n );\n  for( var i = 0; i &lt; n; ++i ) \n  {\n    monsters.add( new Monster( power [i], scanner.nextInt();\n  }\n  monsters.sort( (m1,m2) -&gt;\n  { \n    final var p = m1.getPower() - m2.getPower();\n    return p == 0 ? m2.getBonus() - m1.getBonus(() : p; \n  } ); //*1\n  System.out.println( defeat( monsters, experience ) );\n}\n</code></pre>\n<p>*1 -&gt; this implementation of the comparator works well only for power and bonus values that are small compared to MAX_INT.</p>\n<p>The list <code>monsters</code> now contains the monsters sorted by their power in ascending order; monsters with the same power are ordered by their bonus values in descending order.</p>\n<p>Now my implementation of <code>defeat()</code> would look like this:</p>\n<pre><code>public final int defeat( final List&lt;Monster&gt; m, final int initialExperience )\n{\n  var experience = initialExperience;\n  var retValue = 0;\n  final Stack&lt;Monster&gt; monsters = new LinkedList&lt;&gt;( m );\n  while( !monsters.empty() )\n  {\n    var monster = monsters.pop();\n    if( experience &gt; monster.getPower() )\n    {\n      experience += monster.getBonus();\n      ++retValue;\n    }\n    else break;\n  }\n  return retValue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22410793,"reputation":1,"user_id":16619591,"display_name":"Sree Rama Murthy  "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628446339,"creation_date":1628446339,"answer_id":68703530,"question_id":68694587,"body_markdown":"                n=int(input())\r\n                e=int(input())\r\n                P=[]\r\n                for i in range(n):\r\n                    P.append(int(input()))\r\n                B=[]\r\n                for i in range(n):\r\n                    B.append(int(input()))\r\n                c=0\r\n                f=True\r\n                while n&gt;0 and f:\r\n                    f=False\r\n                    i=0\r\n                    while i&lt;n:\r\n                        if e&gt;=P[i]:\r\n                            e+=B[i]\r\n                            P.pop(i)\r\n                            B.pop(i)\r\n                            n-=1 \r\n                            c+=1\r\n                            f=True\r\n                            i-=1\r\n                        i+=1\r\n                print(c)","title":"what is the maximum possible number of monsters you can defeat?","body":"<pre><code>            n=int(input())\n            e=int(input())\n            P=[]\n            for i in range(n):\n                P.append(int(input()))\n            B=[]\n            for i in range(n):\n                B.append(int(input()))\n            c=0\n            f=True\n            while n&gt;0 and f:\n                f=False\n                i=0\n                while i&lt;n:\n                    if e&gt;=P[i]:\n                        e+=B[i]\n                        P.pop(i)\n                        B.pop(i)\n                        n-=1 \n                        c+=1\n                        f=True\n                        i-=1\n                    i+=1\n            print(c)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12966671,"reputation":1,"user_id":9373945,"display_name":"Shovan Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639819699,"creation_date":1639816165,"answer_id":70401969,"question_id":68694587,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass Player {\r\n    int exp;\r\n\r\n    public int getExp() {\r\n        return exp;\r\n    }\r\n\r\n    public void setExp(int exp) {\r\n        this.exp = exp;\r\n    }\r\n}\r\n\r\nclass Monster {\r\n    int power;\r\n    int bonus;\r\n\r\n    public int getPower() {\r\n        return this.power;\r\n    }\r\n\r\n    public int getBonus() {\r\n        return this.bonus;\r\n    }\r\n\r\n    public void setBonus(int bonus) {\r\n        this.bonus = bonus;\r\n    }\r\n\r\n    public void setPower(int power) {\r\n        this.power = power;\r\n    }\r\n}\r\n\r\nclass Calc {\r\n    public int calc() {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        //number of monsters\r\n        System.out.println(&quot;enter the number of monsters&quot;);\r\n        int n = sc.nextInt();\r\n        int arr[] = new int[n];\r\n        System.out.println(&quot;enter the power of the player&quot;);\r\n        Player player = new Player();\r\n        player.setExp(sc.nextInt());\r\n        //declaration of array type object of monster\r\n        Monster monster[] = new Monster[n];\r\n        //value setting completed\r\n        for (int i = 0; i &lt; n; i++) {\r\n            //allocation of object to the real\r\n            monster[i] = new Monster();\r\n            System.out.println(&quot;enter the power of monster&quot;);\r\n            monster[i].setPower(sc.nextInt());\r\n            System.out.println(&quot;enter the bonus that to be earned after killing the monster&quot;);\r\n            monster[i].setBonus(sc.nextInt());\r\n        }\r\n        //calculate win or loose\r\n        int count = 0;\r\n        int flag = 0;\r\n        //**\r\n        for (int i = 0; i &lt; n; i++) {\r\n            if (player.getExp() &gt;= monster[i].getPower()) {\r\n                player.setExp(player.getExp() + monster[i].getBonus());\r\n                count = count + 1;\r\n                // flag = flag + 1;\r\n            } else if (player.getExp() &lt; monster[i].getPower()) {\r\n                for (int j = 0; j &lt; n; j++)\r\n                    arr[j] = i;\r\n                //count = count;\r\n                flag = flag + 1;\r\n            }\r\n            //**\r\n            for (int t = 0; t &lt; flag; t++) {\r\n                if (player.getExp() &gt;= monster[arr[t]].getPower()) {\r\n                    count = count + 1;\r\n                }\r\n\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // write your code here\r\n        System.out.println(&quot;welcome to the loosing game&quot;);\r\n        Calc c = new Calc();\r\n        System.out.println(&quot;no of monster killed&quot; + c.calc());\r\n    }\r\n}\r\n```","title":"what is the maximum possible number of monsters you can defeat?","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\nclass Player {\n    int exp;\n\n    public int getExp() {\n        return exp;\n    }\n\n    public void setExp(int exp) {\n        this.exp = exp;\n    }\n}\n\nclass Monster {\n    int power;\n    int bonus;\n\n    public int getPower() {\n        return this.power;\n    }\n\n    public int getBonus() {\n        return this.bonus;\n    }\n\n    public void setBonus(int bonus) {\n        this.bonus = bonus;\n    }\n\n    public void setPower(int power) {\n        this.power = power;\n    }\n}\n\nclass Calc {\n    public int calc() {\n\n        Scanner sc = new Scanner(System.in);\n        //number of monsters\n        System.out.println(&quot;enter the number of monsters&quot;);\n        int n = sc.nextInt();\n        int arr[] = new int[n];\n        System.out.println(&quot;enter the power of the player&quot;);\n        Player player = new Player();\n        player.setExp(sc.nextInt());\n        //declaration of array type object of monster\n        Monster monster[] = new Monster[n];\n        //value setting completed\n        for (int i = 0; i &lt; n; i++) {\n            //allocation of object to the real\n            monster[i] = new Monster();\n            System.out.println(&quot;enter the power of monster&quot;);\n            monster[i].setPower(sc.nextInt());\n            System.out.println(&quot;enter the bonus that to be earned after killing the monster&quot;);\n            monster[i].setBonus(sc.nextInt());\n        }\n        //calculate win or loose\n        int count = 0;\n        int flag = 0;\n        //**\n        for (int i = 0; i &lt; n; i++) {\n            if (player.getExp() &gt;= monster[i].getPower()) {\n                player.setExp(player.getExp() + monster[i].getBonus());\n                count = count + 1;\n                // flag = flag + 1;\n            } else if (player.getExp() &lt; monster[i].getPower()) {\n                for (int j = 0; j &lt; n; j++)\n                    arr[j] = i;\n                //count = count;\n                flag = flag + 1;\n            }\n            //**\n            for (int t = 0; t &lt; flag; t++) {\n                if (player.getExp() &gt;= monster[arr[t]].getPower()) {\n                    count = count + 1;\n                }\n\n            }\n        }\n        return count;\n    }\n\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        // write your code here\n        System.out.println(&quot;welcome to the loosing game&quot;);\n        Calc c = new Calc();\n        System.out.println(&quot;no of monster killed&quot; + c.calc());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19990920,"reputation":89,"user_id":14651946,"display_name":"Amisha Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664018602,"creation_date":1664018602,"answer_id":73836819,"question_id":68694587,"body_markdown":"    #include&lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n\r\n    struct Monsters\r\n    {\r\n       int power;\r\n       int bonus;\r\n    };\r\n\r\n    class Solution\r\n    {\r\n     public:\r\n    //Function to find the maximum number of activities that can\r\n    //be performed by a single person.\r\n    static bool compare(Monsters a, Monsters b)\r\n    {\r\n        if(a.power &lt; b.power) return 1;\r\n        else if(a.power &gt; b.power) return 0;\r\n        else return 1;\r\n    }\r\n    int MonstersKill(vector&lt;int&gt; power, vector&lt;int&gt; bonus, int n, int exp)\r\n    {\r\n        Monsters arr[n];\r\n        \r\n        for(int i = 0; i &lt; n; i++)\r\n        {\r\n            arr[i].power = power[i];\r\n            arr[i].bonus = bonus[i];\r\n        }\r\n        \r\n        sort(arr, arr+n, compare);\r\n        \r\n        int count = 0;\r\n        for(int i = 0; i &lt; n; i++)\r\n        {\r\n            if(arr[i].power &lt;= exp)\r\n            {\r\n                count++;\r\n                exp += arr[i].bonus;\r\n            }\r\n            else\r\n              break;\r\n        }\r\n        \r\n        return count;   \r\n       }\r\n    };\r\n\r\n     int main()\r\n     {\r\n        int n, exp;\r\n        cin &gt;&gt; n &gt;&gt; exp;\r\n        vector&lt;int&gt; power(n), bonus(n);\r\n        \r\n        //adding elements to arrays power and bonus\r\n        for(int i=0;i&lt;n;i++)\r\n            cin&gt;&gt;power[i];\r\n        for(int i=0;i&lt;n;i++)\r\n            cin&gt;&gt;bonus[i];\r\n        \r\n        Solution ob;\r\n        cout &lt;&lt; ob.MonstersKill(power, bonus, n, exp) &lt;&lt; endl;\r\n\r\n      return 0;\r\n     }\r\n\r\n**Time Complexity : O(N * Log(N))**\r\n\r\n**Auxilliary Space: O(N)**\r\n","title":"what is the maximum possible number of monsters you can defeat?","body":"<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n\nstruct Monsters\n{\n   int power;\n   int bonus;\n};\n\nclass Solution\n{\n public:\n//Function to find the maximum number of activities that can\n//be performed by a single person.\nstatic bool compare(Monsters a, Monsters b)\n{\n    if(a.power &lt; b.power) return 1;\n    else if(a.power &gt; b.power) return 0;\n    else return 1;\n}\nint MonstersKill(vector&lt;int&gt; power, vector&lt;int&gt; bonus, int n, int exp)\n{\n    Monsters arr[n];\n    \n    for(int i = 0; i &lt; n; i++)\n    {\n        arr[i].power = power[i];\n        arr[i].bonus = bonus[i];\n    }\n    \n    sort(arr, arr+n, compare);\n    \n    int count = 0;\n    for(int i = 0; i &lt; n; i++)\n    {\n        if(arr[i].power &lt;= exp)\n        {\n            count++;\n            exp += arr[i].bonus;\n        }\n        else\n          break;\n    }\n    \n    return count;   \n   }\n};\n\n int main()\n {\n    int n, exp;\n    cin &gt;&gt; n &gt;&gt; exp;\n    vector&lt;int&gt; power(n), bonus(n);\n    \n    //adding elements to arrays power and bonus\n    for(int i=0;i&lt;n;i++)\n        cin&gt;&gt;power[i];\n    for(int i=0;i&lt;n;i++)\n        cin&gt;&gt;bonus[i];\n    \n    Solution ob;\n    cout &lt;&lt; ob.MonstersKill(power, bonus, n, exp) &lt;&lt; endl;\n\n  return 0;\n }\n</code></pre>\n<p><strong>Time Complexity : O(N * Log(N))</strong></p>\n<p><strong>Auxilliary Space: O(N)</strong></p>\n"}],"owner":{"account_id":14153116,"reputation":2736,"user_id":10224590,"display_name":"Pranav Choudhary"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68694737,"answer_count":5,"score":1,"last_activity_date":1664018602,"creation_date":1628356321,"question_id":68694587,"body_markdown":"**Problem Statement:**\r\n\r\nWhile playing an RPG game, you were assigned to complete one of the hardest quests in this game. There are `n` monsters you&#39;ll need to defeat in this quest. Each monster `i` is described with two integer numbers - `poweri` and `bonusi`. To defeat this monster, you&#39;ll need at least poweri experience points. If you try fighting this monster without having enough experience points, you lose immediately.\r\n\r\n You will also gain `bonusi` experience points if you defeat this monster. You can defeat monsters in any order. The quest turned out to be very hard - you try to defeat the monsters but keep losing repeatedly. Your friend told you that this quest is impossible to complete. Knowing that, you&#39;re interested, what is the maximum possible number of monsters you can defeat?\r\n\r\n**Input:**\r\n\r\nThe first line contains an integer, n, denoting the number of monsters.\r\n\r\nThe next line contains an integer, e, denoting your initial experience.\r\n\r\nEach line i of the n subsequent lines (where 0 ≤ i &lt; n) contains an integer, poweri, which \r\nrepresents power of the corresponding monster.\r\n\r\nEach line i of the n subsequent lines (where 0 ≤ i &lt; n) contains an integer, bonusi, which represents bonus for defeating the corresponding monster.\r\n\r\n\r\n\r\n**Sample cases:**\r\n\r\n**Input**  2 123 78 130 10 0\r\n\r\n**Output** 2\r\n\r\n**Output description** \r\n\r\nInitial experience level is 123 points.\r\nDefeat the first monster having power of 78 and bonus of 10. Experience level is now 123+10=133.\r\nDefeat the second monster.\r\n\r\n\r\nWhat I have tried:\r\n\r\n \r\n\r\n    public static  int defeat(int [] monster,int bonus[],int n,int exp){\r\n            if(n==0)\r\n                return 0;\r\n            \r\n            if(n==1 &amp;&amp; monster[0]&lt;=exp)return 1;\r\n            if(n==1 &amp;&amp; monster[0]&gt;exp) return 0;\r\n    \r\n            if(monster[n-1]&lt;=exp){\r\n                return defeat(monster,bonus,n-1,bonus[n-1]+exp )+ defeat(monster,bonus,n-1,exp);\r\n            }else{\r\n                return defeat(monster,bonus,n-1,exp);\r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            Scanner s = new Scanner(System.in);\r\n            int n = s.nextInt();\r\n            int exp = s.nextInt();\r\n            int monst[] = new int[n];\r\n            int bonus[] = new int[n];\r\n            for (int i = 0; i &lt; n; i++) {\r\n                monst[i] = s.nextInt();\r\n            }\r\n            for (int i = 0; i &lt; n; i++) {\r\n                bonus[i] = s.nextInt();\r\n            }\r\n            System.out.println(defeat(monst,bonus,n,exp));\r\n        }\r\n\r\nI am not getting correct answers with this solution.\r\nI thought of this problem as 0/1 knapsack problem( correct me If I am wrong). Also can you provide me DP solution of this problem.\r\n","title":"what is the maximum possible number of monsters you can defeat?","body":"<p><strong>Problem Statement:</strong></p>\n<p>While playing an RPG game, you were assigned to complete one of the hardest quests in this game. There are <code>n</code> monsters you'll need to defeat in this quest. Each monster <code>i</code> is described with two integer numbers - <code>poweri</code> and <code>bonusi</code>. To defeat this monster, you'll need at least poweri experience points. If you try fighting this monster without having enough experience points, you lose immediately.</p>\n<p>You will also gain <code>bonusi</code> experience points if you defeat this monster. You can defeat monsters in any order. The quest turned out to be very hard - you try to defeat the monsters but keep losing repeatedly. Your friend told you that this quest is impossible to complete. Knowing that, you're interested, what is the maximum possible number of monsters you can defeat?</p>\n<p><strong>Input:</strong></p>\n<p>The first line contains an integer, n, denoting the number of monsters.</p>\n<p>The next line contains an integer, e, denoting your initial experience.</p>\n<p>Each line i of the n subsequent lines (where 0 ≤ i &lt; n) contains an integer, poweri, which\nrepresents power of the corresponding monster.</p>\n<p>Each line i of the n subsequent lines (where 0 ≤ i &lt; n) contains an integer, bonusi, which represents bonus for defeating the corresponding monster.</p>\n<p><strong>Sample cases:</strong></p>\n<p><strong>Input</strong>  2 123 78 130 10 0</p>\n<p><strong>Output</strong> 2</p>\n<p><strong>Output description</strong></p>\n<p>Initial experience level is 123 points.\nDefeat the first monster having power of 78 and bonus of 10. Experience level is now 123+10=133.\nDefeat the second monster.</p>\n<p>What I have tried:</p>\n<pre><code>public static  int defeat(int [] monster,int bonus[],int n,int exp){\n        if(n==0)\n            return 0;\n        \n        if(n==1 &amp;&amp; monster[0]&lt;=exp)return 1;\n        if(n==1 &amp;&amp; monster[0]&gt;exp) return 0;\n\n        if(monster[n-1]&lt;=exp){\n            return defeat(monster,bonus,n-1,bonus[n-1]+exp )+ defeat(monster,bonus,n-1,exp);\n        }else{\n            return defeat(monster,bonus,n-1,exp);\n\n        }\n\n\n    }\n\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        int n = s.nextInt();\n        int exp = s.nextInt();\n        int monst[] = new int[n];\n        int bonus[] = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            monst[i] = s.nextInt();\n        }\n        for (int i = 0; i &lt; n; i++) {\n            bonus[i] = s.nextInt();\n        }\n        System.out.println(defeat(monst,bonus,n,exp));\n    }\n</code></pre>\n<p>I am not getting correct answers with this solution.\nI thought of this problem as 0/1 knapsack problem( correct me If I am wrong). Also can you provide me DP solution of this problem.</p>\n"},{"tags":["java","html","svg","vaadin","element"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664018506,"creation_date":1663950055,"answer_id":73830554,"question_id":73829784,"body_markdown":"Vaadin does not automatically sync child elements created client side with JavaScript or the template content to the server. This is simply because adding such implementation would be really problematic from performance point of view, while it is very rarely needed.\r\n\r\nWhat you can do, is to implement your component as `LitTemplate`. That allows you to inject selected elements from the template using `@Id` annotation\r\n\r\n    @JsModule(&quot;./my-template.ts&quot;)\r\n    @Tag(&quot;my-template&quot;)\r\n    public class MyTemplate extends LitTemplate {\r\n    \r\n    @Id(&quot;svg&quot;)\r\n    Element svgElement;\r\n    \r\n    ...\r\n    }\r\n\r\nWhile the &quot;frontend/my-template.ts&quot; is something like\r\n\r\n\r\n    import { html, LitElement } from &#39;lit&#39;;\r\n    import { customElement } from &#39;lit/decorators.js&#39;;\r\n    \r\n    @customElement(&#39;my-template&#39;)\r\n    export class MyTemplate extends LitElement {\r\n    \r\n    render() {\r\n       return html`\r\n    &lt;div class=&quot;chart-container&quot; id=&quot;chart-div-02250ca9-3b1b-4d09-aeb2-f38c4c797fc9&quot;&gt;\r\n        &lt;div&gt;\r\n            &lt;svg id=&quot;svg&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; role=&quot;group&quot; style=&quot;width: 100%; height: 100%; overflow: visible;&quot;&gt;\r\n            ...\r\n            &lt;/svg&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;&#39;;\r\n    }\r\n    }\r\n\r\nNote however, there is no deeper support for Svg elements in Vaadin, so I am not sure what you can achieve with this.\r\n\r\nSo eventually the question is, why you need it? And answer to that question may reveal other avenues for you.\r\n\r\nEdit: As it turned out that you want to programmatically compose SVG and then download it, the answer to the original question wont help. Another kind of methods needs to be used.\r\n\r\nOne possible avenue is to compose SVG server side using String fragments. Here is an example of random polyline. With this approach you have the SVG data in server side all the time, and you can hold it in a String, which you can download easily.\r\n\r\n    Html createChart(String color) {\r\n        Random random = new Random();\r\n        List&lt;Integer&gt; data = random.ints(300, -100, 100).boxed()\r\n                .collect(Collectors.toList());\r\n        String svg = &quot;&lt;div&gt;&lt;svg class=\\&quot;uk-animation-stroke\\&quot; style=\\&quot;width: 100%; height: 100%; --uk-animation-stroke: 100000;\\&quot; preserveAspectRatio=\\&quot;none\\&quot; viewBox=\\&quot;0 -100 600 200\\&quot;&gt;&lt;polyline points=\\&quot;&quot;;\r\n        int index = 0;\r\n        for (int number : data) {\r\n            svg += index + &quot;,&quot; + number + &quot; &quot;;\r\n            index += 2;\r\n        }\r\n        svg += &quot;\\&quot; style=\\&quot;stroke-width: 1;fill:none;stroke:&quot; + color\r\n                + &quot;\\&quot;&gt;&lt;/polyline&gt;&lt;/svg&gt;&lt;/div&gt;&quot;;\r\n        Html chart = new Html(svg);\r\n        chart.getElement().getStyle().set(&quot;height&quot;, &quot;100px&quot;);\r\n        return chart;\r\n    }\r\n\r\n","title":"Get element SVG child as text in Vaadin","body":"<p>Vaadin does not automatically sync child elements created client side with JavaScript or the template content to the server. This is simply because adding such implementation would be really problematic from performance point of view, while it is very rarely needed.</p>\n<p>What you can do, is to implement your component as <code>LitTemplate</code>. That allows you to inject selected elements from the template using <code>@Id</code> annotation</p>\n<pre><code>@JsModule(&quot;./my-template.ts&quot;)\n@Tag(&quot;my-template&quot;)\npublic class MyTemplate extends LitTemplate {\n\n@Id(&quot;svg&quot;)\nElement svgElement;\n\n...\n}\n</code></pre>\n<p>While the &quot;frontend/my-template.ts&quot; is something like</p>\n<pre><code>import { html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\n@customElement('my-template')\nexport class MyTemplate extends LitElement {\n\nrender() {\n   return html`\n&lt;div class=&quot;chart-container&quot; id=&quot;chart-div-02250ca9-3b1b-4d09-aeb2-f38c4c797fc9&quot;&gt;\n    &lt;div&gt;\n        &lt;svg id=&quot;svg&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; role=&quot;group&quot; style=&quot;width: 100%; height: 100%; overflow: visible;&quot;&gt;\n        ...\n        &lt;/svg&gt;\n    &lt;/div&gt;\n&lt;/div&gt;';\n}\n}\n</code></pre>\n<p>Note however, there is no deeper support for Svg elements in Vaadin, so I am not sure what you can achieve with this.</p>\n<p>So eventually the question is, why you need it? And answer to that question may reveal other avenues for you.</p>\n<p>Edit: As it turned out that you want to programmatically compose SVG and then download it, the answer to the original question wont help. Another kind of methods needs to be used.</p>\n<p>One possible avenue is to compose SVG server side using String fragments. Here is an example of random polyline. With this approach you have the SVG data in server side all the time, and you can hold it in a String, which you can download easily.</p>\n<pre><code>Html createChart(String color) {\n    Random random = new Random();\n    List&lt;Integer&gt; data = random.ints(300, -100, 100).boxed()\n            .collect(Collectors.toList());\n    String svg = &quot;&lt;div&gt;&lt;svg class=\\&quot;uk-animation-stroke\\&quot; style=\\&quot;width: 100%; height: 100%; --uk-animation-stroke: 100000;\\&quot; preserveAspectRatio=\\&quot;none\\&quot; viewBox=\\&quot;0 -100 600 200\\&quot;&gt;&lt;polyline points=\\&quot;&quot;;\n    int index = 0;\n    for (int number : data) {\n        svg += index + &quot;,&quot; + number + &quot; &quot;;\n        index += 2;\n    }\n    svg += &quot;\\&quot; style=\\&quot;stroke-width: 1;fill:none;stroke:&quot; + color\n            + &quot;\\&quot;&gt;&lt;/polyline&gt;&lt;/svg&gt;&lt;/div&gt;&quot;;\n    Html chart = new Html(svg);\n    chart.getElement().getStyle().set(&quot;height&quot;, &quot;100px&quot;);\n    return chart;\n}\n</code></pre>\n"}],"owner":{"account_id":11804419,"reputation":75,"user_id":8637270,"display_name":"Luca Trecarichi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664018506,"creation_date":1663945833,"question_id":73829784,"body_markdown":"I have an SVG element created using javascript inside a div with a specific ID. My primary goal would be to get the SVG image to let the user download it.\r\n\r\nSo my idea, which may absolutely be wrong, was to access the Div element (I&#39;m using Vaadin 23), with `container.getElement()`, get the child element, which is my SVG and do `svgElement.getOuterHTML()` to obtain the string and save it somewhere. I can see the element and I know it&#39;s there, but when I print my container element from vaadin it doesn&#39;t have any children.\r\n\r\nMy situation:\r\n```\r\n&lt;div class=&quot;chart-container&quot; id=&quot;chart-div-02250ca9-3b1b-4d09-aeb2-f38c4c797fc9&quot;&gt;\r\n    &lt;div&gt;\r\n        &lt;svg version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; role=&quot;group&quot; style=&quot;width: 100%; height: 100%; overflow: visible;&quot;&gt;\r\n        ...\r\n        &lt;/svg&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nWhat I get from `content.getElement().getOuterHTML()`, where `content` is my div with the ID:\r\n\r\n```\r\n&lt;div id=&quot;chart-div-02250ca9-3b1b-4d09-aeb2-f38c4c797fc9&quot; class=&quot;chart-container&quot;&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nWhat am I missing?\r\n\r\nIf this is the expected behaviour, how would you go about getting the SVG element? I tried with JS and then returing the result to Java but it was a real mess with Futures and all than synchronous stuff.\r\n\r\n**EDIT** (adding clarification on final goal):\r\nThe final goal is as follows: I want to add a feature where the user can download the rendered SVG as an image. But the thing is that I &quot;build&quot; the SVG at runtime, so I can&#39;t save it somewhere before the execution.","title":"Get element SVG child as text in Vaadin","body":"<p>I have an SVG element created using javascript inside a div with a specific ID. My primary goal would be to get the SVG image to let the user download it.</p>\n<p>So my idea, which may absolutely be wrong, was to access the Div element (I'm using Vaadin 23), with <code>container.getElement()</code>, get the child element, which is my SVG and do <code>svgElement.getOuterHTML()</code> to obtain the string and save it somewhere. I can see the element and I know it's there, but when I print my container element from vaadin it doesn't have any children.</p>\n<p>My situation:</p>\n<pre><code>&lt;div class=&quot;chart-container&quot; id=&quot;chart-div-02250ca9-3b1b-4d09-aeb2-f38c4c797fc9&quot;&gt;\n    &lt;div&gt;\n        &lt;svg version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; role=&quot;group&quot; style=&quot;width: 100%; height: 100%; overflow: visible;&quot;&gt;\n        ...\n        &lt;/svg&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>What I get from <code>content.getElement().getOuterHTML()</code>, where <code>content</code> is my div with the ID:</p>\n<pre><code>&lt;div id=&quot;chart-div-02250ca9-3b1b-4d09-aeb2-f38c4c797fc9&quot; class=&quot;chart-container&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n<p>What am I missing?</p>\n<p>If this is the expected behaviour, how would you go about getting the SVG element? I tried with JS and then returing the result to Java but it was a real mess with Futures and all than synchronous stuff.</p>\n<p><strong>EDIT</strong> (adding clarification on final goal):\nThe final goal is as follows: I want to add a feature where the user can download the rendered SVG as an image. But the thing is that I &quot;build&quot; the SVG at runtime, so I can't save it somewhere before the execution.</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664017550,"creation_date":1664017550,"answer_id":73836724,"question_id":73833640,"body_markdown":"You can use [MessageChannel#addReactionById](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#addReactionById(java.lang.String,net.dv8tion.jda.api.entities.emoji.Emoji))\r\n\r\n```java\r\nevent.getChannel().addReactionById(event.getMessageId(), emoji).queue();\r\n```\r\n\r\nAlso, it looks like your use of the `check` variable is incorrect, it will only be `false` if the reaction is `❌`. Since you have an `else` that makes it true regardless of what other reaction it is, meaning your other 2 if/else checks are doing nothing at all.\r\n\r\nThe `getReaction()` also does not return a string, so your equality check can only be false regardless.","title":"JDA add reaction when reacted with specific reaction","body":"<p>You can use <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#addReactionById(java.lang.String,net.dv8tion.jda.api.entities.emoji.Emoji)\" rel=\"nofollow noreferrer\">MessageChannel#addReactionById</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>event.getChannel().addReactionById(event.getMessageId(), emoji).queue();\n</code></pre>\n<p>Also, it looks like your use of the <code>check</code> variable is incorrect, it will only be <code>false</code> if the reaction is <code>❌</code>. Since you have an <code>else</code> that makes it true regardless of what other reaction it is, meaning your other 2 if/else checks are doing nothing at all.</p>\n<p>The <code>getReaction()</code> also does not return a string, so your equality check can only be false regardless.</p>\n"}],"owner":{"account_id":26244518,"reputation":1,"user_id":20073596,"display_name":"simplykumo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664017550,"creation_date":1663973362,"question_id":73833640,"body_markdown":"I want to create a Discord Bot with JDA in Java which adds ✔ and ❌ when a user reacts with &#128221; to a message and afterwards deletes the &#128221; reaction.\r\n\r\n```\r\npackage me.beemo.commands;\r\n\r\nimport net.dv8tion.jda.api.entities.Message;\r\nimport net.dv8tion.jda.api.entities.emoji.Emoji;\r\nimport net.dv8tion.jda.api.events.message.react.MessageReactionAddEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\n\r\npublic class makesurvey extends ListenerAdapter {\r\n\r\n    @Override\r\n    public void onMessageReactionAdd(MessageReactionAddEvent event) {\r\n        boolean check;\r\n\r\n        if (event.getReaction().equals(&quot;&#128221;&quot;)) {\r\n            //when message has &#128221; then continue\r\n            check = true;\r\n        } else {\r\n            //when message has not &#128221; then abort\r\n            check = false;\r\n        }\r\n\r\n        if (event.getReaction().equals(&quot;✅&quot;)){\r\n            //when message has ✅ then abort\r\n            check = false;\r\n        } else {\r\n            //when message has not ✅ then continue\r\n            check = true;\r\n        }\r\n\r\n        if (event.getReaction().equals(&quot;❌&quot;)){\r\n            //when message has ❌ then abort\r\n            check = false;\r\n        } else {\r\n            //when message has not ❌ then continue\r\n            check = true;\r\n        }\r\n\r\n        if (check == true) {\r\n            Message message = event.getChannel().getHistory().getMessageById(event.getMessageId());\r\n                message.removeReaction(Emoji.fromUnicode(&quot;U+274C&quot;));\r\n                message.addReaction(Emoji.fromUnicode(&quot;U+274C&quot;)).queue();\r\n                message.addReaction(Emoji.fromUnicode(&quot;U+2705&quot;)).queue();\r\n                message.removeReaction(Emoji.fromUnicode(&quot;U+1F4DD&quot;)).queue();\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut every time I add the &#128221; reaction I get this error\r\n```\r\n[JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\r\njava.lang.NullPointerException: Cannot invoke &quot;net.dv8tion.jda.api.entities.Message.removeReaction(net.dv8tion.jda.api.entities.emoji.Emoji)&quot; because &quot;message&quot; is null\r\n\tat me.beemo.commands.makesurvey.onMessageReactionAdd(makesurvey.java:41)\r\n```\r\nI don&#39;t know why exactly the message is still null after getting the ID of the message","title":"JDA add reaction when reacted with specific reaction","body":"<p>I want to create a Discord Bot with JDA in Java which adds ✔ and ❌ when a user reacts with 📝 to a message and afterwards deletes the 📝 reaction.</p>\n<pre><code>package me.beemo.commands;\n\nimport net.dv8tion.jda.api.entities.Message;\nimport net.dv8tion.jda.api.entities.emoji.Emoji;\nimport net.dv8tion.jda.api.events.message.react.MessageReactionAddEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\n\npublic class makesurvey extends ListenerAdapter {\n\n    @Override\n    public void onMessageReactionAdd(MessageReactionAddEvent event) {\n        boolean check;\n\n        if (event.getReaction().equals(&quot;📝&quot;)) {\n            //when message has 📝 then continue\n            check = true;\n        } else {\n            //when message has not 📝 then abort\n            check = false;\n        }\n\n        if (event.getReaction().equals(&quot;✅&quot;)){\n            //when message has ✅ then abort\n            check = false;\n        } else {\n            //when message has not ✅ then continue\n            check = true;\n        }\n\n        if (event.getReaction().equals(&quot;❌&quot;)){\n            //when message has ❌ then abort\n            check = false;\n        } else {\n            //when message has not ❌ then continue\n            check = true;\n        }\n\n        if (check == true) {\n            Message message = event.getChannel().getHistory().getMessageById(event.getMessageId());\n                message.removeReaction(Emoji.fromUnicode(&quot;U+274C&quot;));\n                message.addReaction(Emoji.fromUnicode(&quot;U+274C&quot;)).queue();\n                message.addReaction(Emoji.fromUnicode(&quot;U+2705&quot;)).queue();\n                message.removeReaction(Emoji.fromUnicode(&quot;U+1F4DD&quot;)).queue();\n        } else {\n            return;\n        }\n    }\n}\n</code></pre>\n<p>But every time I add the 📝 reaction I get this error</p>\n<pre><code>[JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\njava.lang.NullPointerException: Cannot invoke &quot;net.dv8tion.jda.api.entities.Message.removeReaction(net.dv8tion.jda.api.entities.emoji.Emoji)&quot; because &quot;message&quot; is null\n    at me.beemo.commands.makesurvey.onMessageReactionAdd(makesurvey.java:41)\n</code></pre>\n<p>I don't know why exactly the message is still null after getting the ID of the message</p>\n"},{"tags":["java","android","xml","android-studio","themes"],"answers":[{"tags":[],"owner":{"account_id":17717831,"reputation":47,"user_id":12863720,"display_name":"Omar Adel"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1608221299,"creation_date":1608221299,"answer_id":65344278,"question_id":63781371,"body_markdown":"Just delete `themes.xml(night)` xml file\r\nor add `Theme.AppCompat.Light.NoActionBar` to `themes.xml(night)` xml file\r\n","title":"Can&#39;t disable Night Mode in my application even with values-night","body":"<p>Just delete <code>themes.xml(night)</code> xml file\nor add <code>Theme.AppCompat.Light.NoActionBar</code> to <code>themes.xml(night)</code> xml file</p>\n"},{"tags":[],"owner":{"account_id":19712352,"reputation":543,"user_id":14432582,"display_name":"Litva Nika"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1615657394,"creation_date":1615657394,"answer_id":66616630,"question_id":63781371,"body_markdown":"I had the same issue on my Xiaomi Redmi Note 7. I tried this code inside `MainActivity.create()`:\r\n\r\n    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\nBut it doesn&#39;t work on some of Xiaomi devices including mine, though it works on other phones.\r\n\r\nSo the only solution I&#39;ve found is to add `&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;` to each of your `AppTheme` in `styles.xml`. Like this:\r\n\r\n    &lt;style name=&quot;MyTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\r\n    &lt;/style&gt;\r\nIt worked fine for my phone.","title":"Can&#39;t disable Night Mode in my application even with values-night","body":"<p>I had the same issue on my Xiaomi Redmi Note 7. I tried this code inside <code>MainActivity.create()</code>:</p>\n<pre><code>AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n</code></pre>\n<p>But it doesn't work on some of Xiaomi devices including mine, though it works on other phones.</p>\n<p>So the only solution I've found is to add <code>&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;</code> to each of your <code>AppTheme</code> in <code>styles.xml</code>. Like this:</p>\n<pre><code>&lt;style name=&quot;MyTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>It worked fine for my phone.</p>\n"},{"tags":[],"owner":{"account_id":12433757,"reputation":9,"user_id":9054939,"display_name":"Compound Z"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633024500,"creation_date":1633024500,"answer_id":69396854,"question_id":63781371,"body_markdown":"Just delete themes-night file, that&#39;s all, works for me","title":"Can&#39;t disable Night Mode in my application even with values-night","body":"<p>Just delete themes-night file, that's all, works for me</p>\n"},{"tags":[],"owner":{"account_id":18821303,"reputation":49,"user_id":13727244,"display_name":"Abdulwahab Hassan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1633623383,"creation_date":1633622749,"answer_id":69484406,"question_id":63781371,"body_markdown":"Step 1:\r\nDelete `themes(night).xml` from your values folder\r\n\r\nStep 2:\r\nChange the parent attribute of your app style in `themes.xml` from \r\n\r\n    &lt;style name=&quot;Theme.AppName&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n\r\nto \r\n\r\n    &lt;style name=&quot;Theme.AppName&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n\r\n\r\n\r\nNote the change from &quot;DayNight&quot; to &quot;Light&quot;\r\n\r\nNow, even if your phone is  set to dark-mode, since no values for night exists and you are inheriting the light version of whatever Material Theme you choose, your app&#39;s theme should remain the same. \r\n\r\nThis is what worked for me. Let me know if it works for you too.","title":"Can&#39;t disable Night Mode in my application even with values-night","body":"<p>Step 1:\nDelete <code>themes(night).xml</code> from your values folder</p>\n<p>Step 2:\nChange the parent attribute of your app style in <code>themes.xml</code> from</p>\n<pre><code>&lt;style name=&quot;Theme.AppName&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;style name=&quot;Theme.AppName&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n</code></pre>\n<p>Note the change from &quot;DayNight&quot; to &quot;Light&quot;</p>\n<p>Now, even if your phone is  set to dark-mode, since no values for night exists and you are inheriting the light version of whatever Material Theme you choose, your app's theme should remain the same.</p>\n<p>This is what worked for me. Let me know if it works for you too.</p>\n"},{"tags":[],"owner":{"account_id":18113524,"reputation":9,"user_id":13170415,"display_name":"Syed Malook Shah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664015729,"creation_date":1664015729,"answer_id":73836546,"question_id":63781371,"body_markdown":"1..Just copy your primary color from them(Light) and replace them(night) main color.\r\n\r\nchange this \r\n\r\n    style name=&quot;Theme.FakeWhatsApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;\r\n\r\nto this\r\n\r\n    style name=&quot;Theme.FakeWhatsApp&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;","title":"Can&#39;t disable Night Mode in my application even with values-night","body":"<p>1..Just copy your primary color from them(Light) and replace them(night) main color.</p>\n<p>change this</p>\n<pre><code>style name=&quot;Theme.FakeWhatsApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;\n</code></pre>\n<p>to this</p>\n<pre><code>style name=&quot;Theme.FakeWhatsApp&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;\n</code></pre>\n"}],"owner":{"account_id":12927307,"reputation":189,"user_id":10859978,"display_name":"Emma.bk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16221,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":66616630,"answer_count":5,"score":12,"last_activity_date":1664015729,"creation_date":1599496865,"question_id":63781371,"body_markdown":"The problem is that when I look at the preview on the software everything is fine, but when I run the app on my phone everywhere is used the color white it turn dark (drawables and backgrounds). I haven&#39;t used an alpha on the drawables, only `android:color=&quot;@color/white&quot;`.\r\n\r\nThe source of the problem is that my phone had the Night Mode enable, so it automatically changed the colors in the app.\r\n\r\nTo try to disable the Night Mode I created a folder `values-night` and copied my @styles and @colors to match the Day and Night Mode.\r\n\r\nstyles.xml (night)\r\n\r\n    &lt;resources&gt;\r\n    \r\n        &lt;!-- Base application theme. --&gt;\r\n            &lt;style name=&quot;MyTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n    &lt;/resources&gt;\r\n\r\ncolors.xml (night)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;colorPrimary&quot;&gt;#1d1d1d&lt;/color&gt;\r\n        &lt;color name=&quot;colorPrimaryDark&quot;&gt;#1d1d1d&lt;/color&gt;\r\n        &lt;color name=&quot;colorAccent&quot;&gt;#F8F8F8&lt;/color&gt;\r\n        &lt;color name=&quot;textColor&quot;&gt;#1d1d1d&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n\r\nIn my MainActivity.xml\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;@color/colorAccent&quot;\r\n        android:theme=&quot;@style/MyTheme&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\nIn my Manifest.xml\r\n\r\n     android:theme=&quot;@style/MyTheme&quot;\r\n\r\nI checked the answers on https://stackoverflow.com/questions/57175226/how-to-disable-night-mode-in-my-application-even-if-night-mode-is-enable-in-andr/57175501 and https://stackoverflow.com/questions/56573786/dark-theme-in-android-9-0-changes-my-app-layouts-ugly and did the `values-night` folder, but it didn&#39;t resolve the problem.\r\n\r\nBut the problem persist, any idea what am I missing here? Thanks in advance.","title":"Can&#39;t disable Night Mode in my application even with values-night","body":"<p>The problem is that when I look at the preview on the software everything is fine, but when I run the app on my phone everywhere is used the color white it turn dark (drawables and backgrounds). I haven't used an alpha on the drawables, only <code>android:color=&quot;@color/white&quot;</code>.</p>\n<p>The source of the problem is that my phone had the Night Mode enable, so it automatically changed the colors in the app.</p>\n<p>To try to disable the Night Mode I created a folder <code>values-night</code> and copied my @styles and @colors to match the Day and Night Mode.</p>\n<p>styles.xml (night)</p>\n<pre><code>&lt;resources&gt;\n\n    &lt;!-- Base application theme. --&gt;\n        &lt;style name=&quot;MyTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<p>colors.xml (night)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;color name=&quot;colorPrimary&quot;&gt;#1d1d1d&lt;/color&gt;\n    &lt;color name=&quot;colorPrimaryDark&quot;&gt;#1d1d1d&lt;/color&gt;\n    &lt;color name=&quot;colorAccent&quot;&gt;#F8F8F8&lt;/color&gt;\n    &lt;color name=&quot;textColor&quot;&gt;#1d1d1d&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>In my MainActivity.xml</p>\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@color/colorAccent&quot;\n    android:theme=&quot;@style/MyTheme&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n</code></pre>\n<p>In my Manifest.xml</p>\n<pre><code> android:theme=&quot;@style/MyTheme&quot;\n</code></pre>\n<p>I checked the answers on <a href=\"https://stackoverflow.com/questions/57175226/how-to-disable-night-mode-in-my-application-even-if-night-mode-is-enable-in-andr/57175501\">How to disable night mode in my application even if night mode is enable in android 9.0 (pie)?</a> and <a href=\"https://stackoverflow.com/questions/56573786/dark-theme-in-android-9-0-changes-my-app-layouts-ugly\">Dark Theme in android 9.0 changes my app layouts ugly</a> and did the <code>values-night</code> folder, but it didn't resolve the problem.</p>\n<p>But the problem persist, any idea what am I missing here? Thanks in advance.</p>\n"},{"tags":["java","git","intellij-idea"],"comments":[{"owner":{"account_id":17081761,"reputation":2089,"user_id":12360005,"display_name":"Ruslan Kuleshov"},"score":0,"creation_date":1663981275,"post_id":73776773,"comment_id":130374102,"body_markdown":"On your screenshot you can see that there are two repositories - ToDo and todo_jdbc.\ntodo_jdbc has no remote defined. You need to add a remote for this repository and then push - this way your second module would appear on GitHub, in a separate repository.\nWould you like to add your module to ToDo repository? In this case you should have .git in a parent repository (it must be parent for ToDo and todo_jdbc)","body":"On your screenshot you can see that there are two repositories - ToDo and todo_jdbc. todo_jdbc has no remote defined. You need to add a remote for this repository and then push - this way your second module would appear on GitHub, in a separate repository. Would you like to add your module to ToDo repository? In this case you should have .git in a parent repository (it must be parent for ToDo and todo_jdbc)"},{"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"score":0,"creation_date":1664015203,"post_id":73776773,"comment_id":130377874,"body_markdown":"@Ruslan Kuleshov i figure out that make module form maven, not spring.io","body":"@Ruslan Kuleshov i figure out that make module form maven, not spring.io"}],"answers":[{"tags":[],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664015460,"creation_date":1664015460,"answer_id":73836522,"question_id":73776773,"body_markdown":"do not create with sping.io\r\ncreate with    maven arch   \r\nmain thing - parent\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lujq6.png","title":"how to add second module in intellj idea and push it to git repo","body":"<p>do not create with sping.io\ncreate with    maven arch<br />\nmain thing - parent\n<a href=\"https://i.stack.imgur.com/Lujq6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lujq6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664015460,"creation_date":1663606146,"question_id":73776773,"body_markdown":"trying to add second module in intellj idea and push it to git repo,  \r\n but cannot figure out how do it...  \r\n  \r\ncreating new module in existing project by:  \r\nfile-&gt; new-&gt; module...  \r\n [![enter image description here][1]][1]\r\n\r\n\r\nthen press ctrl+K   \r\n[![enter image description here][2]][2]  \r\n\r\nafter   \r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LmiN8.png\r\n  [2]: https://i.stack.imgur.com/73L6u.png\r\n  [3]: https://i.stack.imgur.com/btSzb.png  \r\n\r\ni got messages - Push successful ToDo: Everything is up-to-date and 9 files committed: init  \r\nbut in my github repo nothing changed, what im doing wrong?","title":"how to add second module in intellj idea and push it to git repo","body":"<p>trying to add second module in intellj idea and push it to git repo,<br />\nbut cannot figure out how do it...</p>\n<p>creating new module in existing project by:<br />\nfile-&gt; new-&gt; module...<br />\n<a href=\"https://i.stack.imgur.com/LmiN8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LmiN8.png\" alt=\"enter image description here\" /></a></p>\n<p>then press ctrl+K<br />\n<a href=\"https://i.stack.imgur.com/73L6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/73L6u.png\" alt=\"enter image description here\" /></a></p>\n<p>after<br />\n<a href=\"https://i.stack.imgur.com/btSzb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/btSzb.png\" alt=\"enter image description here\" /></a></p>\n<p>i got messages - Push successful ToDo: Everything is up-to-date and 9 files committed: init<br />\nbut in my github repo nothing changed, what im doing wrong?</p>\n"},{"tags":["java","class","nested","switch-statement"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1662778122,"post_id":73667729,"comment_id":130090796,"body_markdown":"Variable scopes is one of the first things you should have learned in this course if it&#39;s a beginning programming course..","body":"Variable scopes is one of the first things you should have learned in this course if it&#39;s a beginning programming course.."},{"owner":{"account_id":26293317,"reputation":1,"user_id":19959999,"display_name":"MiakaSHW"},"score":0,"creation_date":1662931986,"post_id":73667729,"comment_id":130114567,"body_markdown":"It is a course that focuses specifically on Java, not on programming as a whole. I believe that scopes were very lightly touched upon in one of the modules, I will go back and review to see if it answers this particular question. Thank you for your answer.","body":"It is a course that focuses specifically on Java, not on programming as a whole. I believe that scopes were very lightly touched upon in one of the modules, I will go back and review to see if it answers this particular question. Thank you for your answer."}],"owner":{"account_id":26293317,"reputation":1,"user_id":19959999,"display_name":"MiakaSHW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662759540,"answer_count":0,"score":0,"last_activity_date":1664015155,"creation_date":1662759460,"question_id":73667729,"body_markdown":"I am completing a final project for a Java course I am taking. The goal of this project is to create an Asset Management tool that someone could use to enter employees and their employee ID&#39;s, electronic devices assigned to them and the serial numbers, and then look up which devices an employee has by searching for their name or employee ID.\r\n\r\nI have a Switch statement that checks to see if the user has typed &#39;add new employee record&#39;, &#39;search employee records&#39;, &#39;end program&#39; or anything else (default). I need to create a second Switch that will operate when the user types &#39;search employee records&#39;. I was researching this and found that it is not considered best practice to nest Switch statements inside of other Switch statements, and it would be better to write a method that you can call inside of the specific Switch case that will run another Switch statement. I have tried this, but the code I have written in this method is not able to see my HashMap that was created at the beginning of my main method. All of the errors I receive are related to this. \r\n\r\n**Question: Where do I need to move my HashMap so that both the first Switch (located in the main Class, main method) and the second Switch (located in the Employee class, searchForEmployee method) can see and gather keys/values from it?** \r\n\r\nHere&#39;s the code I have in the main Class:\r\n\r\n*******************************\r\n\r\n    import java.util.*;\r\n    \r\n    class Main {\r\n      public static void main(String[] args) {\r\n    \r\n        //Creating a Scanner to take input from user\r\n        Scanner input = new Scanner(System.in);\r\n    \r\n        //Creating a HashMap to take in employee names and ID numbers\r\n        Map&lt;String, Integer&gt; employeeIndex = new HashMap&lt;&gt;();\r\n    \r\n        //Creating an ArrayList to keep track of employees and allow for easy user searching\r\n        ArrayList&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\r\n    \r\n        System.out.println(&quot;This is an Asset Management Tracking program. This database allows you to add and manage employee-assigned equipment. \\n&quot;);\r\n    \r\n        boolean loop = true;\r\n        while (loop) {\r\n        \r\n          System.out.println(&quot;\\nWould you like to add an employee to the system, or search for an employee record? Please enter your selection below: \\n&quot; + &quot;\\nAdd New Employee Record \\n&quot; + &quot;\\nSearch Employee Records \\n&quot; + &quot;\\nEnd Program \\n&quot;);\r\n    \r\n          String answer = input.nextLine().toLowerCase();\r\n        \r\n          switch (answer) {\r\n              \r\n            case &quot;add new employee record&quot;: System.out.println(&quot;\\nPlease enter the employee&#39;s name (Last name, First name): \\n&quot;);\r\n              String employeeName = input.nextLine();\r\n              System.out.println(&quot;\\nPlease enter their 6-digit employee ID: \\n&quot;);\r\n              int employeeID = input.nextInt();\r\n              input.nextLine();\r\n    \r\n              Employee employee1 = new Employee(employeeName, employeeID);\r\n              employeeIndex.put(employeeName, employeeID);\r\n              System.out.println(&quot;\\nOkay. You have entered:\\n\\n&quot; + &quot;Name: &quot; + employeeName + &quot;\\nID: &quot; + employeeID);\r\n              employees.add(employee1);\r\n              System.out.println(employeeIndex.entrySet());\r\n              break;\r\n    \r\n            case &quot;search employee records&quot;:  System.out.println(&quot;\\nHow would you like to search? \\n&quot; + &quot;\\nEmployee Name\\n&quot; + &quot;\\nEmployee ID\\n&quot;);\r\n              Employee.searchForEmployee();\r\n              break;\r\n    \r\n            case &quot;end program&quot;:\r\n              System.out.println(&quot;\\nThank you for using this Asset Management Program!&quot;);\r\n              input.close();\r\n              loop = false;\r\n              break;\r\n    \r\n            default: \r\n              System.out.println(&quot;\\nSorry, that is an incorrect response (perhaps you typed it wrong?). Please choose one of the available options. \\n&quot;);\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n*********************************\r\n\r\nAnd the searchForEmployee method in the Employee Class:\r\n\r\n*********************************\r\n\r\n    static void searchForEmployee() {\r\n    \r\n        Scanner input2 = new Scanner(System.in);\r\n        String answer2 = input2.next().toLowerCase();\r\n        \r\n        switch (answer2) {\r\n              \r\n          case &quot;employee name&quot;: \r\n            System.out.println(&quot;\\nPlease enter the employee&#39;s name (Last name, First name): \\n&quot;);\r\n            String searchEmployeeName = input2.nextLine();\r\n            if (employeeIndex.containsKey(searchEmployeeName) = true) {\r\n              System.out.println(employeeIndex.get(searchEmployeeName));  \r\n            } else {\r\n                System.out.println(&quot;\\nI&#39;m sorry, that employee does not appear to be in this database yet. Here are the employee records contained so far: \\n&quot;);\r\n                System.out.println(employeeIndex.keySet());\r\n              }\r\n            break;\r\n    \r\n          case &quot;employee id&quot;:  \r\n            System.out.println(&quot;\\nPlease enter the employee&#39;s ID#: \\n&quot;);\r\n            int searchEmployeeID = input2.nextInt();\r\n            if (employeeIndex.containsValue(searchEmployeeID) = true) {\r\n              System.out.println(employeeIndex.get());\r\n            } else {\r\n                System.out.println(&quot;\\nI&#39;m sorry, that employee ID does not appear to be in this database yet. Here are the employee ID numbers contained so far: \\n&quot;);\r\n                System.out.println(employeeIndex.values());\r\n              }\r\n            break;\r\n    \r\n          default: \r\n            System.out.println(&quot;\\nSorry, that is an incorrect response (perhaps you typed it wrong?). Please choose one of the available options. \\n&quot;);\r\n            break;\r\n          }\r\n        }\r\n\r\n\r\n**************************************\r\n\r\nThese are the errors I receive when I run the program:\r\n\r\n**************************************\r\n\r\n    Employee.java:26: error: cannot find symbol\r\n            if (employeeIndex.containsKey(searchEmployeeName) = true) {\r\n                ^\r\n      symbol:   variable employeeIndex\r\n      location: class Employee\r\n    \r\n    Employee.java:27: error: cannot find symbol\r\n              System.out.println(employeeIndex.get(searchEmployeeName));  \r\n                                 ^\r\n      symbol:   variable employeeIndex\r\n      location: class Employee\r\n    \r\n    Employee.java:30: error: cannot find symbol\r\n                System.out.println(employeeIndex.keySet());\r\n                                   ^\r\n      symbol:   variable employeeIndex\r\n      location: class Employee\r\n    \r\n    Employee.java:37: error: cannot find symbol\r\n            if (employeeIndex.containsValue(searchEmployeeID) = true) {\r\n                ^\r\n      symbol:   variable employeeIndex\r\n      location: class Employee\r\n    \r\n    Employee.java:38: error: cannot find symbol\r\n              System.out.println(employeeIndex.get());\r\n                                 ^\r\n      symbol:   variable employeeIndex\r\n      location: class Employee\r\n    \r\n    Employee.java:41: error: cannot find symbol\r\n                System.out.println(employeeIndex.values());\r\n                                   ^\r\n      symbol:   variable employeeIndex\r\n      location: class Employee\r\n    \r\n    6 errors\r\n    exit status 1\r\n\r\n\r\nThanks again for your help. I am still very much in the beginner stage and this community has been so helpful to me in the learning process.\r\n","title":"Where do I need to move my HashMap so that two separate Switch Statements can see it?","body":"<p>I am completing a final project for a Java course I am taking. The goal of this project is to create an Asset Management tool that someone could use to enter employees and their employee ID's, electronic devices assigned to them and the serial numbers, and then look up which devices an employee has by searching for their name or employee ID.</p>\n<p>I have a Switch statement that checks to see if the user has typed 'add new employee record', 'search employee records', 'end program' or anything else (default). I need to create a second Switch that will operate when the user types 'search employee records'. I was researching this and found that it is not considered best practice to nest Switch statements inside of other Switch statements, and it would be better to write a method that you can call inside of the specific Switch case that will run another Switch statement. I have tried this, but the code I have written in this method is not able to see my HashMap that was created at the beginning of my main method. All of the errors I receive are related to this.</p>\n<p><strong>Question: Where do I need to move my HashMap so that both the first Switch (located in the main Class, main method) and the second Switch (located in the Employee class, searchForEmployee method) can see and gather keys/values from it?</strong></p>\n<p>Here's the code I have in the main Class:</p>\n<hr />\n<pre><code>import java.util.*;\n\nclass Main {\n  public static void main(String[] args) {\n\n    //Creating a Scanner to take input from user\n    Scanner input = new Scanner(System.in);\n\n    //Creating a HashMap to take in employee names and ID numbers\n    Map&lt;String, Integer&gt; employeeIndex = new HashMap&lt;&gt;();\n\n    //Creating an ArrayList to keep track of employees and allow for easy user searching\n    ArrayList&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\n\n    System.out.println(&quot;This is an Asset Management Tracking program. This database allows you to add and manage employee-assigned equipment. \\n&quot;);\n\n    boolean loop = true;\n    while (loop) {\n    \n      System.out.println(&quot;\\nWould you like to add an employee to the system, or search for an employee record? Please enter your selection below: \\n&quot; + &quot;\\nAdd New Employee Record \\n&quot; + &quot;\\nSearch Employee Records \\n&quot; + &quot;\\nEnd Program \\n&quot;);\n\n      String answer = input.nextLine().toLowerCase();\n    \n      switch (answer) {\n          \n        case &quot;add new employee record&quot;: System.out.println(&quot;\\nPlease enter the employee's name (Last name, First name): \\n&quot;);\n          String employeeName = input.nextLine();\n          System.out.println(&quot;\\nPlease enter their 6-digit employee ID: \\n&quot;);\n          int employeeID = input.nextInt();\n          input.nextLine();\n\n          Employee employee1 = new Employee(employeeName, employeeID);\n          employeeIndex.put(employeeName, employeeID);\n          System.out.println(&quot;\\nOkay. You have entered:\\n\\n&quot; + &quot;Name: &quot; + employeeName + &quot;\\nID: &quot; + employeeID);\n          employees.add(employee1);\n          System.out.println(employeeIndex.entrySet());\n          break;\n\n        case &quot;search employee records&quot;:  System.out.println(&quot;\\nHow would you like to search? \\n&quot; + &quot;\\nEmployee Name\\n&quot; + &quot;\\nEmployee ID\\n&quot;);\n          Employee.searchForEmployee();\n          break;\n\n        case &quot;end program&quot;:\n          System.out.println(&quot;\\nThank you for using this Asset Management Program!&quot;);\n          input.close();\n          loop = false;\n          break;\n\n        default: \n          System.out.println(&quot;\\nSorry, that is an incorrect response (perhaps you typed it wrong?). Please choose one of the available options. \\n&quot;);\n          break;\n      }\n    }\n  }\n}\n</code></pre>\n<hr />\n<p>And the searchForEmployee method in the Employee Class:</p>\n<hr />\n<pre><code>static void searchForEmployee() {\n\n    Scanner input2 = new Scanner(System.in);\n    String answer2 = input2.next().toLowerCase();\n    \n    switch (answer2) {\n          \n      case &quot;employee name&quot;: \n        System.out.println(&quot;\\nPlease enter the employee's name (Last name, First name): \\n&quot;);\n        String searchEmployeeName = input2.nextLine();\n        if (employeeIndex.containsKey(searchEmployeeName) = true) {\n          System.out.println(employeeIndex.get(searchEmployeeName));  \n        } else {\n            System.out.println(&quot;\\nI'm sorry, that employee does not appear to be in this database yet. Here are the employee records contained so far: \\n&quot;);\n            System.out.println(employeeIndex.keySet());\n          }\n        break;\n\n      case &quot;employee id&quot;:  \n        System.out.println(&quot;\\nPlease enter the employee's ID#: \\n&quot;);\n        int searchEmployeeID = input2.nextInt();\n        if (employeeIndex.containsValue(searchEmployeeID) = true) {\n          System.out.println(employeeIndex.get());\n        } else {\n            System.out.println(&quot;\\nI'm sorry, that employee ID does not appear to be in this database yet. Here are the employee ID numbers contained so far: \\n&quot;);\n            System.out.println(employeeIndex.values());\n          }\n        break;\n\n      default: \n        System.out.println(&quot;\\nSorry, that is an incorrect response (perhaps you typed it wrong?). Please choose one of the available options. \\n&quot;);\n        break;\n      }\n    }\n</code></pre>\n<hr />\n<p>These are the errors I receive when I run the program:</p>\n<hr />\n<pre><code>Employee.java:26: error: cannot find symbol\n        if (employeeIndex.containsKey(searchEmployeeName) = true) {\n            ^\n  symbol:   variable employeeIndex\n  location: class Employee\n\nEmployee.java:27: error: cannot find symbol\n          System.out.println(employeeIndex.get(searchEmployeeName));  \n                             ^\n  symbol:   variable employeeIndex\n  location: class Employee\n\nEmployee.java:30: error: cannot find symbol\n            System.out.println(employeeIndex.keySet());\n                               ^\n  symbol:   variable employeeIndex\n  location: class Employee\n\nEmployee.java:37: error: cannot find symbol\n        if (employeeIndex.containsValue(searchEmployeeID) = true) {\n            ^\n  symbol:   variable employeeIndex\n  location: class Employee\n\nEmployee.java:38: error: cannot find symbol\n          System.out.println(employeeIndex.get());\n                             ^\n  symbol:   variable employeeIndex\n  location: class Employee\n\nEmployee.java:41: error: cannot find symbol\n            System.out.println(employeeIndex.values());\n                               ^\n  symbol:   variable employeeIndex\n  location: class Employee\n\n6 errors\nexit status 1\n</code></pre>\n<p>Thanks again for your help. I am still very much in the beginner stage and this community has been so helpful to me in the learning process.</p>\n"},{"tags":["java","oracle","ejb","weblogic12c","remote-connection"],"answers":[{"tags":[],"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664014799,"creation_date":1664014799,"answer_id":73836446,"question_id":73835311,"body_markdown":"WebLogic Server has a propagation API that enables to send data from client to EJBs or web services hosted in WebLogic Server.  \r\nRead this [documentation][1] first.  \r\nCode sample used to send an information from a T3 client to an EJB hosted in WebLogic Server.  \r\n**Client side :** \r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \tSystem.out.println(&quot;\\n\\n\\t Hello ...&quot;);\r\n    \ttry{\r\n    \t\t\tProperties pr=new Properties();\r\n    \t\t\tpr.put(Context.INITIAL_CONTEXT_FACTORY,&quot;weblogic.jndi.WLInitialContextFactory&quot;);\r\n    \t\t\tpr.put(Context.PROVIDER_URL,&quot;t3://localhost:8001&quot;);\r\n    \r\n    \t\t\tInitialContext ic=new InitialContext(pr);\r\n    \t\t\t\r\n    \t\t\tWorkContextMap map = WorkContextHelper.getWorkContextHelper().getWorkContextMap();\r\n    \t\t\tif (null == map) return;\r\n    \t\t\t\r\n    \t\t\tWorkContext serializedCustomContext = PrimitiveContextFactory.create(&quot;test envoi context&quot;);\r\n    \t\t\tmap.put(&quot;mycontext&quot;,serializedCustomContext, PropagationMode.RMI);\r\n    \t\t\t\r\n    \t\t\tWorkContextTestRemote remote=(WorkContextTestRemote)ic.lookup(&quot;WorkContextTestMappedName#ejbs.WorkContextTestRemote&quot;);\r\n    \t\t\tremote.sayHello();\r\n    \t}\r\n    \tcatch(Exception e){ e.printStackTrace(); }\r\n    \r\n    }\r\n\r\n**EJB Side :**\r\n\r\n    public void sayHello() {\r\n    \tSystem.out.println(&quot;\\nHello !&quot;);\r\n    \t\r\n    \tWorkContextMap map = WorkContextHelper.getWorkContextHelper().getWorkContextMap();\r\n    \t\r\n    \tWorkContext customContext = (WorkContext)map.get(&quot;mycontext&quot;);\r\n    \tStringWorkContext sc = (StringWorkContext)customContext;\r\n    \tObject s = sc.get();\r\n    \tSystem.out.println(&quot;context : &quot;+s);\r\n    }\t\r\n\r\n  [1]: https://docs.oracle.com/en/middleware/standalone/weblogic-server/14.1.1.0/wlprg/context.html#GUID-5380B8DB-0CBB-4BD8-8BA2-1D4362937603\r\n\r\n\r\n","title":"How to get remoteHost name from EJB java application which is deployed in weblogic","body":"<p>WebLogic Server has a propagation API that enables to send data from client to EJBs or web services hosted in WebLogic Server.<br />\nRead this <a href=\"https://docs.oracle.com/en/middleware/standalone/weblogic-server/14.1.1.0/wlprg/context.html#GUID-5380B8DB-0CBB-4BD8-8BA2-1D4362937603\" rel=\"nofollow noreferrer\">documentation</a> first.<br />\nCode sample used to send an information from a T3 client to an EJB hosted in WebLogic Server.<br />\n<strong>Client side :</strong></p>\n<pre><code>public static void main(String[] args) {\n\n    System.out.println(&quot;\\n\\n\\t Hello ...&quot;);\n    try{\n            Properties pr=new Properties();\n            pr.put(Context.INITIAL_CONTEXT_FACTORY,&quot;weblogic.jndi.WLInitialContextFactory&quot;);\n            pr.put(Context.PROVIDER_URL,&quot;t3://localhost:8001&quot;);\n\n            InitialContext ic=new InitialContext(pr);\n            \n            WorkContextMap map = WorkContextHelper.getWorkContextHelper().getWorkContextMap();\n            if (null == map) return;\n            \n            WorkContext serializedCustomContext = PrimitiveContextFactory.create(&quot;test envoi context&quot;);\n            map.put(&quot;mycontext&quot;,serializedCustomContext, PropagationMode.RMI);\n            \n            WorkContextTestRemote remote=(WorkContextTestRemote)ic.lookup(&quot;WorkContextTestMappedName#ejbs.WorkContextTestRemote&quot;);\n            remote.sayHello();\n    }\n    catch(Exception e){ e.printStackTrace(); }\n\n}\n</code></pre>\n<p><strong>EJB Side :</strong></p>\n<pre><code>public void sayHello() {\n    System.out.println(&quot;\\nHello !&quot;);\n    \n    WorkContextMap map = WorkContextHelper.getWorkContextHelper().getWorkContextMap();\n    \n    WorkContext customContext = (WorkContext)map.get(&quot;mycontext&quot;);\n    StringWorkContext sc = (StringWorkContext)customContext;\n    Object s = sc.get();\n    System.out.println(&quot;context : &quot;+s);\n}   \n</code></pre>\n"}],"owner":{"account_id":21689918,"reputation":3,"user_id":16004660,"display_name":"Ajay thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664014799,"creation_date":1664002813,"question_id":73835311,"body_markdown":"Below is the example.\r\nWe have an application which is deployed in Oracle Weblogic Server.\r\nAnd We have client who use our application by creating connection using weblogic context like below.\r\n\r\n ```Hashtable env = new Hashtable(5);\r\n   env.put(Context.INITIAL_CONTEXT_FACTORY,\r\n           &quot;weblogic.jndi.WLInitialContextFactory&quot;);\r\n   env.put(Context.PROVIDER_URL,\r\n           &quot;t3://weblogicServer:7001&quot;);\r\n   Context ctx = new InitialContext(env);```\r\n** Now When they make this connection we want to get their hostname in our application.\r\nIs there any way to achieve this. **\r\n","title":"How to get remoteHost name from EJB java application which is deployed in weblogic","body":"<p>Below is the example.\nWe have an application which is deployed in Oracle Weblogic Server.\nAnd We have client who use our application by creating connection using weblogic context like below.</p>\n<pre><code>  env.put(Context.INITIAL_CONTEXT_FACTORY,\n          &quot;weblogic.jndi.WLInitialContextFactory&quot;);\n  env.put(Context.PROVIDER_URL,\n          &quot;t3://weblogicServer:7001&quot;);\n  Context ctx = new InitialContext(env);```\n** Now When they make this connection we want to get their hostname in our application.\nIs there any way to achieve this. **\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jar","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":1712006,"reputation":2649,"user_id":8951344,"display_name":"MuratOzkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664014543,"creation_date":1664014543,"answer_id":73836416,"question_id":63586932,"body_markdown":"Try adding this dependency to the module:\r\n\r\n```\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n```\r\n\r\nThis jar contains the `org.springframework.util.ClassUtils` and will resolve the error.","title":"How to migrate war to layered jar in dockerfile with spring-boot-maven-plugin","body":"<p>Try adding this dependency to the module:</p>\n<pre><code>   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n</code></pre>\n<p>This jar contains the <code>org.springframework.util.ClassUtils</code> and will resolve the error.</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664014543,"creation_date":1598388794,"question_id":63586932,"body_markdown":"So I am trying to migrate my war into layered jar.\r\nFirst I add configuration in pom.xml\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;layout&gt;JAR&lt;/layout&gt;\r\n                &lt;layers&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/layers&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\nbut now I have problem how to change my dockerfile which contains:\r\n\r\n    ...\r\n    ADD @project.build.finalName@.war /usr/local/\r\n    ADD runtime-app.jar /usr/local/\r\n    \r\n    \r\n    CMD exec java $JAVA_OPTS -cp @project.build.finalName@.war -Dloader.path=WEB-INF/lib-provided,WEB-INF/lib,WEB-INF/classes,runtime-app.jar -Dloader.main=org.my.app.AppApplication org.springframework.boot.loader.PropertiesLauncher\r\n\r\nI am using PropertiesLauncher because I need to add jar in runtime\r\n\r\nI tried to add this dependency into lib folder:\r\n\r\n    COPY --from=builder application/runtime-app.jar ./BOOT-INF/lib\r\n\r\nbut there are still some errors\r\n\r\nany idea how should I migrate this ?\r\n\r\n**UPDATE1**\r\n\r\nthen I also try:\r\n\r\n            &lt;configuration&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;\r\n                        &lt;groupId&gt;my&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;runtime.app&lt;/artifactId&gt;\r\n                    &lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;layout&gt;JAR&lt;/layout&gt;\r\n                &lt;layers&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/layers&gt;\r\n            &lt;/configuration&gt;\r\n\r\nbut then I am getting error:\r\n\r\n    java -Djarmode=layertools -jar target/my-app.jar list\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:109)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/util/ClassUtils\r\n    \tat org.springframework.boot.loader.jarmode.JarModeLauncher.main(JarModeLauncher.java:40)\r\n    \t... 8 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.util.ClassUtils\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 9 more\r\n\r\n","title":"How to migrate war to layered jar in dockerfile with spring-boot-maven-plugin","body":"<p>So I am trying to migrate my war into layered jar.\nFirst I add configuration in pom.xml</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;layout&gt;JAR&lt;/layout&gt;\n            &lt;layers&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/layers&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>but now I have problem how to change my dockerfile which contains:</p>\n<pre><code>...\nADD @project.build.finalName@.war /usr/local/\nADD runtime-app.jar /usr/local/\n\n\nCMD exec java $JAVA_OPTS -cp @project.build.finalName@.war -Dloader.path=WEB-INF/lib-provided,WEB-INF/lib,WEB-INF/classes,runtime-app.jar -Dloader.main=org.my.app.AppApplication org.springframework.boot.loader.PropertiesLauncher\n</code></pre>\n<p>I am using PropertiesLauncher because I need to add jar in runtime</p>\n<p>I tried to add this dependency into lib folder:</p>\n<pre><code>COPY --from=builder application/runtime-app.jar ./BOOT-INF/lib\n</code></pre>\n<p>but there are still some errors</p>\n<p>any idea how should I migrate this ?</p>\n<p><strong>UPDATE1</strong></p>\n<p>then I also try:</p>\n<pre><code>        &lt;configuration&gt;\n            &lt;includes&gt;\n                &lt;include&gt;\n                    &lt;groupId&gt;my&lt;/groupId&gt;\n                    &lt;artifactId&gt;runtime.app&lt;/artifactId&gt;\n                &lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;layout&gt;JAR&lt;/layout&gt;\n            &lt;layers&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/layers&gt;\n        &lt;/configuration&gt;\n</code></pre>\n<p>but then I am getting error:</p>\n<pre><code>java -Djarmode=layertools -jar target/my-app.jar list\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:109)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\nCaused by: java.lang.NoClassDefFoundError: org/springframework/util/ClassUtils\n    at org.springframework.boot.loader.jarmode.JarModeLauncher.main(JarModeLauncher.java:40)\n    ... 8 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.util.ClassUtils\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 9 more\n</code></pre>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1613657655,"creation_date":1613657655,"answer_id":66261753,"question_id":66255739,"body_markdown":"It depends a bit on the stack you&#39;re using. If you&#39;re using RESTEasy, you can define an `ExceptionMapper` to catch that:\r\n```java\r\n@Provider\r\npublic class NotFoundExceptionMapper implements ExceptionMapper&lt;NotFoundException&gt; {\r\n\r\n    @Override\r\n    public Response toResponse(NotFoundException exception) {\r\n        ...\r\n    }\r\n}\r\n```","title":"Quarkus REST service Exception handling","body":"<p>It depends a bit on the stack you're using. If you're using RESTEasy, you can define an <code>ExceptionMapper</code> to catch that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Provider\npublic class NotFoundExceptionMapper implements ExceptionMapper&lt;NotFoundException&gt; {\n\n    @Override\n    public Response toResponse(NotFoundException exception) {\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8614088,"reputation":57,"user_id":6658195,"display_name":"Rohit Maurya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2762,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66261753,"answer_count":1,"score":0,"last_activity_date":1664014472,"creation_date":1613634956,"question_id":66255739,"body_markdown":"I am using quarkus version ```1.10.5.Final``` and need to know how can I handle unknown endpoints. When I try to hit an endpoint on not implemented yet ,it just sends an ```404 Not Found``` rather than an exception which I would like to implement. I was unable to find a implementation of the same. Can anyone help me with this?","title":"Quarkus REST service Exception handling","body":"<p>I am using quarkus version <code>1.10.5.Final</code> and need to know how can I handle unknown endpoints. When I try to hit an endpoint on not implemented yet ,it just sends an <code>404 Not Found</code> rather than an exception which I would like to implement. I was unable to find a implementation of the same. Can anyone help me with this?</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1580491633,"creation_date":1580491633,"answer_id":60008641,"question_id":60008540,"body_markdown":"The equivalent in the Quarkus/RESTEasy world is called an `ExceptionMapper`.\r\n\r\nSee here for instance: https://howtodoinjava.com/resteasy/resteasy-exceptionmapper-example/ .","title":"Quarkus Exception Handler","body":"<p>The equivalent in the Quarkus/RESTEasy world is called an <code>ExceptionMapper</code>.</p>\n\n<p>See here for instance: <a href=\"https://howtodoinjava.com/resteasy/resteasy-exceptionmapper-example/\" rel=\"noreferrer\">https://howtodoinjava.com/resteasy/resteasy-exceptionmapper-example/</a> .</p>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1636220749,"creation_date":1633723516,"answer_id":69501200,"question_id":60008540,"body_markdown":"We can use ExceptionMapper to handle custom exceptions.\r\n\r\n    javax.ws.rs.ext.ExceptionMapper\r\n\r\n**Interface ExceptionMapper`&lt;E extends Throwable&gt;`defines a contract for a provider that maps Java exceptions E to Response.**\r\n\r\nHere is one simple example, [Custom Exception Handling in Quarkus REST API][1]\r\n\r\n**Custom Exception**\r\n\r\n    import java.io.Serializable;\r\n    \r\n    public class CustomException extends\r\n            RuntimeException implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public CustomException() {\r\n        }\r\n    \r\n        public CustomException(String message) {\r\n            super(message);\r\n        }\r\n    \r\n        public CustomException(String message, Throwable cause) {\r\n            super(message, cause);\r\n        }\r\n    \r\n        public CustomException(Throwable cause) {\r\n            super(cause);\r\n        }\r\n    \r\n        public CustomException(String message, Throwable cause, \r\n                               boolean enableSuppression, boolean writableStackTrace) {\r\n            super(message, cause, enableSuppression, writableStackTrace);\r\n        }\r\n    }\r\n\r\n**Error Message**\r\n\r\n    package org.knf.dev.demo.exception;\r\n    \r\n    public class ErrorMessage {\r\n    \r\n        private String message;\r\n        private Boolean status;\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public Boolean getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(Boolean status) {\r\n            this.status = status;\r\n        }\r\n    \r\n    \tpublic ErrorMessage(String message, Boolean status) {\r\n    \t\tsuper();\r\n    \t\tthis.message = message;\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic ErrorMessage() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    }\r\n\r\n**Custom Exception Handler**\r\n    \r\n   \r\n\r\n    package org.knf.dev.demo.exception;\r\n    \r\n    import org.eclipse.microprofile.config.inject.ConfigProperty;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.ext.ExceptionMapper;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    @Provider\r\n    public class CustomExceptionHandler implements ExceptionMapper&lt;CustomException&gt; {\r\n    \r\n    \t@ConfigProperty(name = &quot;knowledgefactory.custom.error.msg.usernotfound&quot;)\r\n    \tString userNotFound;\r\n    \r\n    \t@Override\r\n    \tpublic Response toResponse(CustomException e) {\r\n    \r\n    \t\tif (e.getMessage().equalsIgnoreCase(userNotFound)) {\r\n    \t\t\treturn Response.status(Response.Status.NOT_FOUND).\r\n    \t\t\t\t\tentity(new ErrorMessage(e.getMessage(), false)).build();\r\n    \t\t} else {\r\n    \r\n    \t\t\treturn Response.status(Response.Status.BAD_REQUEST).\r\n    \t\t\t\t\tentity(new ErrorMessage(e.getMessage(), false)).build();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Quarkus Endpoint:**\r\n\r\n        \r\n    import org.eclipse.microprofile.config.inject.ConfigProperty;\r\n    import org.knf.dev.demo.data.User;\r\n    import org.knf.dev.demo.data.UserData;\r\n    import org.knf.dev.demo.exception.CustomException;\r\n    import javax.inject.Inject;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.core.Response;\r\n    \r\n    @Path(&quot;/api/v1&quot;)\r\n    public class UserController {\r\n    \r\n        @ConfigProperty(name = &quot;knowledgefactory.custom.error.msg.badrequest.numeric&quot;)\r\n        String idNumericErrorMsg;\r\n    \r\n        @ConfigProperty(name = &quot;knowledgefactory.custom.error.msg.usernotfound&quot;)\r\n        String userNotFound;\r\n    \r\n        @Inject\r\n        UserData userData;\r\n    \r\n        @GET\r\n        @Path(&quot;/users/{id}&quot;)\r\n        public Response findUserById(@PathParam(&quot;id&quot;) String id)\r\n                throws CustomException {\r\n            Long user_id = null;\r\n            try {\r\n                user_id = Long.parseLong(id);\r\n            } catch (NumberFormatException e) {\r\n                throw new CustomException(idNumericErrorMsg);\r\n            }\r\n            User user = userData.getUserById(user_id);\r\n            if (user == null) {\r\n                throw new CustomException(userNotFound);\r\n            }\r\n            return Response.ok().entity(userData.getUserById(user_id)).build();\r\n        }\r\n    }\r\n\r\n**Invalid Request (User Id not found):**\r\n[![enter image description here][2]][2]\r\n\r\n**Invalid Request(User Id must be numeric):**\r\n[![enter image description here][3]][3]\r\n\r\n**Valid request:**\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://www.knowledgefactory.net/2021/10/custom-exception-handling-in-quarkus.html\r\n  [2]: https://i.stack.imgur.com/vOdVR.png\r\n  [3]: https://i.stack.imgur.com/rBVpB.png\r\n  [4]: https://i.stack.imgur.com/ERPH4.png","title":"Quarkus Exception Handler","body":"<p>We can use ExceptionMapper to handle custom exceptions.</p>\n<pre><code>javax.ws.rs.ext.ExceptionMapper\n</code></pre>\n<p><strong>Interface ExceptionMapper<code>&lt;E extends Throwable&gt;</code>defines a contract for a provider that maps Java exceptions E to Response.</strong></p>\n<p>Here is one simple example, <a href=\"https://www.knowledgefactory.net/2021/10/custom-exception-handling-in-quarkus.html\" rel=\"noreferrer\">Custom Exception Handling in Quarkus REST API</a></p>\n<p><strong>Custom Exception</strong></p>\n<pre><code>import java.io.Serializable;\n\npublic class CustomException extends\n        RuntimeException implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public CustomException() {\n    }\n\n    public CustomException(String message) {\n        super(message);\n    }\n\n    public CustomException(String message, Throwable cause) {\n        super(message, cause);\n    }\n\n    public CustomException(Throwable cause) {\n        super(cause);\n    }\n\n    public CustomException(String message, Throwable cause, \n                           boolean enableSuppression, boolean writableStackTrace) {\n        super(message, cause, enableSuppression, writableStackTrace);\n    }\n}\n</code></pre>\n<p><strong>Error Message</strong></p>\n<pre><code>package org.knf.dev.demo.exception;\n\npublic class ErrorMessage {\n\n    private String message;\n    private Boolean status;\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public Boolean getStatus() {\n        return status;\n    }\n\n    public void setStatus(Boolean status) {\n        this.status = status;\n    }\n\n    public ErrorMessage(String message, Boolean status) {\n        super();\n        this.message = message;\n        this.status = status;\n    }\n\n    public ErrorMessage() {\n        super();\n    }\n\n}\n</code></pre>\n<p><strong>Custom Exception Handler</strong></p>\n<pre><code>package org.knf.dev.demo.exception;\n\nimport org.eclipse.microprofile.config.inject.ConfigProperty;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ExceptionMapper;\nimport javax.ws.rs.ext.Provider;\n\n@Provider\npublic class CustomExceptionHandler implements ExceptionMapper&lt;CustomException&gt; {\n\n    @ConfigProperty(name = &quot;knowledgefactory.custom.error.msg.usernotfound&quot;)\n    String userNotFound;\n\n    @Override\n    public Response toResponse(CustomException e) {\n\n        if (e.getMessage().equalsIgnoreCase(userNotFound)) {\n            return Response.status(Response.Status.NOT_FOUND).\n                    entity(new ErrorMessage(e.getMessage(), false)).build();\n        } else {\n\n            return Response.status(Response.Status.BAD_REQUEST).\n                    entity(new ErrorMessage(e.getMessage(), false)).build();\n        }\n    }\n}\n</code></pre>\n<p><strong>Quarkus Endpoint:</strong></p>\n<pre><code>import org.eclipse.microprofile.config.inject.ConfigProperty;\nimport org.knf.dev.demo.data.User;\nimport org.knf.dev.demo.data.UserData;\nimport org.knf.dev.demo.exception.CustomException;\nimport javax.inject.Inject;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.core.Response;\n\n@Path(&quot;/api/v1&quot;)\npublic class UserController {\n\n    @ConfigProperty(name = &quot;knowledgefactory.custom.error.msg.badrequest.numeric&quot;)\n    String idNumericErrorMsg;\n\n    @ConfigProperty(name = &quot;knowledgefactory.custom.error.msg.usernotfound&quot;)\n    String userNotFound;\n\n    @Inject\n    UserData userData;\n\n    @GET\n    @Path(&quot;/users/{id}&quot;)\n    public Response findUserById(@PathParam(&quot;id&quot;) String id)\n            throws CustomException {\n        Long user_id = null;\n        try {\n            user_id = Long.parseLong(id);\n        } catch (NumberFormatException e) {\n            throw new CustomException(idNumericErrorMsg);\n        }\n        User user = userData.getUserById(user_id);\n        if (user == null) {\n            throw new CustomException(userNotFound);\n        }\n        return Response.ok().entity(userData.getUserById(user_id)).build();\n    }\n}\n</code></pre>\n<p><strong>Invalid Request (User Id not found):</strong>\n<a href=\"https://i.stack.imgur.com/vOdVR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vOdVR.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Invalid Request(User Id must be numeric):</strong>\n<a href=\"https://i.stack.imgur.com/rBVpB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rBVpB.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Valid request:</strong>\n<a href=\"https://i.stack.imgur.com/ERPH4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ERPH4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10652201,"reputation":191,"user_id":7842761,"display_name":"tcsdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30808,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1664014439,"creation_date":1580491182,"question_id":60008540,"body_markdown":"Does quarkus provides an exception handler?\r\n\r\n\r\nI wanted something like Spring&#39;s ControllerAdvice.\r\n\r\nhttps://www.baeldung.com/exception-handling-for-rest-with-spring","title":"Quarkus Exception Handler","body":"<p>Does quarkus provides an exception handler?</p>\n\n<p>I wanted something like Spring's ControllerAdvice.</p>\n\n<p><a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"noreferrer\">https://www.baeldung.com/exception-handling-for-rest-with-spring</a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1663869565,"post_id":73818698,"comment_id":130346877,"body_markdown":"Condition `e.getId() == 100 &amp;&amp; e.getId() &gt; 0` is redundant because when `id` is equal to `100` it&#39;s obviously greater than zero. Or you intended to convey something different?","body":"Condition <code>e.getId() == 100 &amp;&amp; e.getId() &gt; 0</code> is redundant because when <code>id</code> is equal to <code>100</code> it&#39;s obviously greater than zero. Or you intended to convey something different?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663922970,"post_id":73818698,"comment_id":130358038,"body_markdown":"Besides the suspicious condition, you are adding all elements to `newList` in both branches, so `newList` has exactly the same contents as `employees` afterwards. And if your task is to “*assign internalMarks to (externalMarks + internalMarks)*”, why is the expected result “*internalMarks = 0 and externalMarks = 500+250=750*”? Then, the code is doing `setExternalMark(0)` which is matching neither.","body":"Besides the suspicious condition, you are adding all elements to <code>newList</code> in both branches, so <code>newList</code> has exactly the same contents as <code>employees</code> afterwards. And if your task is to “<i>assign internalMarks to (externalMarks + internalMarks)</i>”, why is the expected result “<i>internalMarks = 0 and externalMarks = 500+250=750</i>”? Then, the code is doing <code>setExternalMark(0)</code> which is matching neither."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1663940741,"post_id":73818698,"comment_id":130364195,"body_markdown":"What is the actual question here?","body":"What is the actual question here?"}],"answers":[{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1664013910,"creation_date":1663909824,"answer_id":73823225,"question_id":73818698,"body_markdown":"    //Condition is =&gt; Only if id = 100, then assign internalMarks to (externalMarks + internalMarks); to 103\r\n    // So internalMarks = 0 and externalMarks = 500+250=750\r\n\r\nFrom your condition, as its slighlty unclear that externalMarks should be changes for Id=100 or Ids 100 to 103, means for all Employees\r\n\r\nTake one scenario, where externalMarks should be changes for id = 100, then solution can be\r\n\r\n    List&lt;Employee&gt; newList1 =  employees.stream()\r\n    .map(e-&gt; {\r\n    \tif(e.getId() == 100) {\r\n    \t\te.setExternalMark(e.getInternalMark()+e.getExternalMark());\r\n    \t\te.setInternalMark(0);\r\n    \t}\r\n    \treturn e;\r\n    })\r\n    .collect(Collectors.toList());\r\n\r\n\r\nFor other scenario, where externalMarks should be changes for id = 100 to 103, then solution can be\r\n\r\n    List&lt;Employee&gt; newList1 =  employees.stream()\r\n    .map(e-&gt; {\r\n    \te.setExternalMark(e.getInternalMark()+e.getExternalMark());\r\n    \te.setInternalMark(0);\r\n    \treturn e;\r\n    })\r\n    .collect(Collectors.toList());","title":"Iterate List based on condition Set Values to another object","body":"<pre><code>//Condition is =&gt; Only if id = 100, then assign internalMarks to (externalMarks + internalMarks); to 103\n// So internalMarks = 0 and externalMarks = 500+250=750\n</code></pre>\n<p>From your condition, as its slighlty unclear that externalMarks should be changes for Id=100 or Ids 100 to 103, means for all Employees</p>\n<p>Take one scenario, where externalMarks should be changes for id = 100, then solution can be</p>\n<pre><code>List&lt;Employee&gt; newList1 =  employees.stream()\n.map(e-&gt; {\n    if(e.getId() == 100) {\n        e.setExternalMark(e.getInternalMark()+e.getExternalMark());\n        e.setInternalMark(0);\n    }\n    return e;\n})\n.collect(Collectors.toList());\n</code></pre>\n<p>For other scenario, where externalMarks should be changes for id = 100 to 103, then solution can be</p>\n<pre><code>List&lt;Employee&gt; newList1 =  employees.stream()\n.map(e-&gt; {\n    e.setExternalMark(e.getInternalMark()+e.getExternalMark());\n    e.setInternalMark(0);\n    return e;\n})\n.collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73823225,"answer_count":1,"score":-2,"last_activity_date":1664013910,"creation_date":1663868130,"question_id":73818698,"body_markdown":"Iterate List based on condition Set Values to another object using Java 8?\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Demo {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO: Condition is =&gt; Only if id = 100, then assign internalMarks to (externalMarks + internalMarks); to 103\r\n    \t\t// So internalMarks = 0 and externalMarks = 500+250=750\r\n    \t\tList&lt;Employee&gt; employees = Arrays.asList(\r\n    \t\t\t\tnew Employee(100, 500, &quot;John&quot;, 250),\r\n    \t\t\t\tnew Employee(101, 500, &quot;Jane&quot;, 250),\r\n    \t\t\t\tnew Employee(102, 500, &quot;Jack&quot;, 250),\r\n    \t\t\t\tnew Employee(103, 500, &quot;Mike&quot;, 250)\r\n    \t\t\t\t);\r\n    \t\t\r\n    \t\tList&lt;Employee&gt; newList = new ArrayList&lt;&gt;();\r\n    \t\temployees.stream().forEach(e -&gt; {\r\n    \t\t\tif(e.getId() == 100 &amp;&amp; e.getId() &gt; 0) {\r\n    \t\t\t\te.setExternalMark(0);\r\n    \t\t\t\tnewList.add(e);\r\n    \t\t\t}else {\r\n    \t\t\t\tnewList.add(e);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tSystem.out.println(newList);\r\n    \t}\r\n    \r\n    \tstatic class Employee {\r\n    \t\tprivate int id;\r\n    \t\tprivate int internalMark;\r\n    \t\tprivate String name;\r\n    \t\tprivate int externalMark;\r\n    \r\n    \t\tpublic Employee() {\r\n    \t\t}\r\n    \r\n    \t\tpublic Employee(int id, int internalMark, String name, int externalMark) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.id = id;\r\n    \t\t\tthis.internalMark = internalMark;\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.externalMark = externalMark;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setId(int id) {\r\n    \t\t\tthis.id = id;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getInternalMark() {\r\n    \t\t\treturn internalMark;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setInternalMark(int internalMark) {\r\n    \t\t\tthis.internalMark = internalMark;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getExternalMark() {\r\n    \t\t\treturn externalMark;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setExternalMark(int externalMark) {\r\n    \t\t\tthis.externalMark = externalMark;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Employee [id=&quot; + id + &quot;, internalMark=&quot; + internalMark + &quot;, name=&quot; + name + &quot;, externalMark=&quot;\r\n    \t\t\t\t\t+ externalMark + &quot;]&quot;;\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t}\r\n    }","title":"Iterate List based on condition Set Values to another object","body":"<p>Iterate List based on condition Set Values to another object using Java 8?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Demo {\n    public static void main(String[] args) {\n        // TODO: Condition is =&gt; Only if id = 100, then assign internalMarks to (externalMarks + internalMarks); to 103\n        // So internalMarks = 0 and externalMarks = 500+250=750\n        List&lt;Employee&gt; employees = Arrays.asList(\n                new Employee(100, 500, &quot;John&quot;, 250),\n                new Employee(101, 500, &quot;Jane&quot;, 250),\n                new Employee(102, 500, &quot;Jack&quot;, 250),\n                new Employee(103, 500, &quot;Mike&quot;, 250)\n                );\n        \n        List&lt;Employee&gt; newList = new ArrayList&lt;&gt;();\n        employees.stream().forEach(e -&gt; {\n            if(e.getId() == 100 &amp;&amp; e.getId() &gt; 0) {\n                e.setExternalMark(0);\n                newList.add(e);\n            }else {\n                newList.add(e);\n            }\n        });\n        System.out.println(newList);\n    }\n\n    static class Employee {\n        private int id;\n        private int internalMark;\n        private String name;\n        private int externalMark;\n\n        public Employee() {\n        }\n\n        public Employee(int id, int internalMark, String name, int externalMark) {\n            super();\n            this.id = id;\n            this.internalMark = internalMark;\n            this.name = name;\n            this.externalMark = externalMark;\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n\n        public int getInternalMark() {\n            return internalMark;\n        }\n\n        public void setInternalMark(int internalMark) {\n            this.internalMark = internalMark;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public int getExternalMark() {\n            return externalMark;\n        }\n\n        public void setExternalMark(int externalMark) {\n            this.externalMark = externalMark;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Employee [id=&quot; + id + &quot;, internalMark=&quot; + internalMark + &quot;, name=&quot; + name + &quot;, externalMark=&quot;\n                    + externalMark + &quot;]&quot;;\n        }\n\n        \n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23219244,"reputation":36,"user_id":17311738,"display_name":"Zachary Dionne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663872182,"creation_date":1663872182,"answer_id":73819355,"question_id":73817021,"body_markdown":"I did some research, and apparently it is not possible. I tried too with SendInput() function using Windows API with C++, and the result is the same : the key is pressed, but does not repeat.\r\n\r\nThe problem might be that our keyPress event sent to the OS is missing informations (a repeat flag?), and those APIs will not let us change it.","title":"java stimulate a keyboard key press (long press specifically) currently using java.awt.Robot","body":"<p>I did some research, and apparently it is not possible. I tried too with SendInput() function using Windows API with C++, and the result is the same : the key is pressed, but does not repeat.</p>\n<p>The problem might be that our keyPress event sent to the OS is missing informations (a repeat flag?), and those APIs will not let us change it.</p>\n"},{"tags":[],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664013736,"creation_date":1664013736,"answer_id":73836334,"question_id":73817021,"body_markdown":"Weirdly enough, the code I posted in the question actually works. Kinda. Here&#39;s what I found out -\r\n\r\n- I tested out these functions in multiple text editors but, they never worked.\r\n- For the above code, the output I received was always a single character `w` instead of something like `wwwwwwwwwwwwwwwwwwwwwwwwwwww` which I expected.\r\n- But somehow, when I tried this code while being inside a game (shadow of tomb raider), surprisingly it worked. My character was running for the specified interval.\r\n\r\nI don&#39;t know what the issue is. My goal was to get it to work inside games. So, I guess it works already?","title":"java stimulate a keyboard key press (long press specifically) currently using java.awt.Robot","body":"<p>Weirdly enough, the code I posted in the question actually works. Kinda. Here's what I found out -</p>\n<ul>\n<li>I tested out these functions in multiple text editors but, they never worked.</li>\n<li>For the above code, the output I received was always a single character <code>w</code> instead of something like <code>wwwwwwwwwwwwwwwwwwwwwwwwwwww</code> which I expected.</li>\n<li>But somehow, when I tried this code while being inside a game (shadow of tomb raider), surprisingly it worked. My character was running for the specified interval.</li>\n</ul>\n<p>I don't know what the issue is. My goal was to get it to work inside games. So, I guess it works already?</p>\n"}],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73836334,"answer_count":2,"score":0,"last_activity_date":1664013736,"creation_date":1663859607,"question_id":73817021,"body_markdown":"Currently I am using java.awt.Robot to perform key presses. The application I am developing requires long presses. I can&#39;t just use a loop and perform repeated presses. Every question posted on this website provides one of the three solutions - \r\n\r\n&gt; make the thread go to sleep -\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Robot robot = new Robot();\r\n            Thread.sleep(5000);\r\n            int key = KeyEvent.VK_W;\r\n            robot.keyPress(key);\r\n            Thread.sleep(5000);\r\n            robot.keyRelease(key);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n&gt; try using the robot&#39;s delay function -\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Robot robot = new Robot();\r\n            Thread.sleep(5000);\r\n            int key = KeyEvent.VK_W;\r\n            robot.keyPress(key);\r\n            robot.delay(5000);\r\n            robot.keyRelease(key);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n&gt; the third one is the repeated pressing which isn&#39;t something I can implement into my project.\r\n\r\n1st and 2nd don&#39;t work and third is unusable for my project.\r\n\r\nI am using a windows 11 machine with 22H2 update (i.e. latest version)","title":"java stimulate a keyboard key press (long press specifically) currently using java.awt.Robot","body":"<p>Currently I am using java.awt.Robot to perform key presses. The application I am developing requires long presses. I can't just use a loop and perform repeated presses. Every question posted on this website provides one of the three solutions -</p>\n<blockquote>\n<p>make the thread go to sleep -</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\n    try {\n        Robot robot = new Robot();\n        Thread.sleep(5000);\n        int key = KeyEvent.VK_W;\n        robot.keyPress(key);\n        Thread.sleep(5000);\n        robot.keyRelease(key);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<blockquote>\n<p>try using the robot's delay function -</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\n    try {\n        Robot robot = new Robot();\n        Thread.sleep(5000);\n        int key = KeyEvent.VK_W;\n        robot.keyPress(key);\n        robot.delay(5000);\n        robot.keyRelease(key);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<blockquote>\n<p>the third one is the repeated pressing which isn't something I can implement into my project.</p>\n</blockquote>\n<p>1st and 2nd don't work and third is unusable for my project.</p>\n<p>I am using a windows 11 machine with 22H2 update (i.e. latest version)</p>\n"},{"tags":["java","android","android-studio","android-layout","kotlin"],"comments":[{"owner":{"account_id":14904506,"reputation":119,"user_id":10762301,"display_name":"Vinicius Ver&#237;ssimo"},"score":0,"creation_date":1588884077,"post_id":61667195,"comment_id":109080756,"body_markdown":"Are you invalidating the cache when you restart? And cleaning the project before rebuild?","body":"Are you invalidating the cache when you restart? And cleaning the project before rebuild?"},{"owner":{"account_id":14137270,"reputation":23,"user_id":10213278,"display_name":"Dima Brody"},"score":0,"creation_date":1588885401,"post_id":61667195,"comment_id":109081361,"body_markdown":"@ViniciusVer&#237;ssimo 1) Yes, I do, but even without cache invalidation it gets fixed after restart. 2) Yes, I do, I tried with cleaning and without it and tried to delete Build folders by myself.","body":"@ViniciusVer&#237;ssimo 1) Yes, I do, but even without cache invalidation it gets fixed after restart. 2) Yes, I do, I tried with cleaning and without it and tried to delete Build folders by myself."}],"answers":[{"tags":[],"owner":{"account_id":15553342,"reputation":1,"user_id":11220463,"display_name":"mohamad rezaei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664012653,"creation_date":1664012653,"answer_id":73836206,"question_id":61667195,"body_markdown":"Check import line that import R in your file\r\nIt must be something like : import packageName.R\r\n\r\n","title":"MacOS Android Studio 3.6.3 new created XMLs are red (autocompletion)","body":"<p>Check import line that import R in your file\nIt must be something like : import packageName.R</p>\n"}],"owner":{"account_id":14137270,"reputation":23,"user_id":10213278,"display_name":"Dima Brody"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664012653,"creation_date":1588883471,"question_id":61667195,"body_markdown":"Before I start an Android Studio application, everything is OK, but the problem happens after the application starts the first time. When I create a new XML file (layout/main_fragment.xml for example), it is not found in R.layout.main_fragment after generating that is no autocompletion suggestions for recently created ones. I tried to build, rebuild, delete Build folders and only restarting of Studio helps, but it is a time wasting to restart after every application launch. \r\n\r\nP.S. The app always launches but it is still highlighted red and there are no generated classes in &quot;generated&quot; folders at all.","title":"MacOS Android Studio 3.6.3 new created XMLs are red (autocompletion)","body":"<p>Before I start an Android Studio application, everything is OK, but the problem happens after the application starts the first time. When I create a new XML file (layout/main_fragment.xml for example), it is not found in R.layout.main_fragment after generating that is no autocompletion suggestions for recently created ones. I tried to build, rebuild, delete Build folders and only restarting of Studio helps, but it is a time wasting to restart after every application launch. </p>\n\n<p>P.S. The app always launches but it is still highlighted red and there are no generated classes in \"generated\" folders at all.</p>\n"},{"tags":["java","txt"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1663955707,"post_id":73831283,"comment_id":130369427,"body_markdown":"You really shouldn&#39;t catch `Exception` and then do nothing with it. You probably fell in there and didn&#39;t even notice. At least log the exception and see what it says.","body":"You really shouldn&#39;t catch <code>Exception</code> and then do nothing with it. You probably fell in there and didn&#39;t even notice. At least log the exception and see what it says."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1663955732,"post_id":73831283,"comment_id":130369438,"body_markdown":"As an aside, you never set `found` to true.","body":"As an aside, you never set <code>found</code> to true."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664012184,"creation_date":1663963946,"answer_id":73832553,"question_id":73831283,"body_markdown":"The problem is that your text file contains one column more than your parsing code expects (it contains a `,` after the last data field which makes it a total of 22 columns of which you read only 21).\r\n\r\nDue to this mismatch, the reading of the &quot;second&quot; project starts with the empty last field of the first line instead of the project number in the second line.\r\n\r\nTo check this you could write out the `projectNumber` just after you have read it:\r\n\r\n                projectNumber = userInput.next();\r\n                System.out.println(&quot;projectNumber=&quot; + projectNumber);\r\n\r\n\r\nOne way to fix this would be to add an extra `userInput.nextLine();` after you have read all the fields of a row:\r\n\r\n                customerAddress = userInput.next();\r\n                userInput.nextLine();\r\n\r\nBut IMHO it would be better to rewrite your code to read line by line and split each line separately into the columns. By reading the whole file as a sequence of columns you ignore the structure that your data has - and that structure could help you find mistakes in the data and / or in the code.\r\n\r\n-----\r\nAdditional note: why do you create a `new Scanner(System.in);` if you never use it? I&#39;m talking about those two lines:\r\n\r\n        Scanner userInput = new Scanner(System.in);\r\n        userInput = new Scanner(new File(filepath));\r\n\r\nYou should replace those two lines with a single line\r\n\r\n        Scanner userInput = new Scanner(new File(filepath));\r\n","title":"Why doesn&#39;t my program return the file line I searched for inside a txt file?","body":"<p>The problem is that your text file contains one column more than your parsing code expects (it contains a <code>,</code> after the last data field which makes it a total of 22 columns of which you read only 21).</p>\n<p>Due to this mismatch, the reading of the &quot;second&quot; project starts with the empty last field of the first line instead of the project number in the second line.</p>\n<p>To check this you could write out the <code>projectNumber</code> just after you have read it:</p>\n<pre><code>            projectNumber = userInput.next();\n            System.out.println(&quot;projectNumber=&quot; + projectNumber);\n</code></pre>\n<p>One way to fix this would be to add an extra <code>userInput.nextLine();</code> after you have read all the fields of a row:</p>\n<pre><code>            customerAddress = userInput.next();\n            userInput.nextLine();\n</code></pre>\n<p>But IMHO it would be better to rewrite your code to read line by line and split each line separately into the columns. By reading the whole file as a sequence of columns you ignore the structure that your data has - and that structure could help you find mistakes in the data and / or in the code.</p>\n<hr />\n<p>Additional note: why do you create a <code>new Scanner(System.in);</code> if you never use it? I'm talking about those two lines:</p>\n<pre><code>    Scanner userInput = new Scanner(System.in);\n    userInput = new Scanner(new File(filepath));\n</code></pre>\n<p>You should replace those two lines with a single line</p>\n<pre><code>    Scanner userInput = new Scanner(new File(filepath));\n</code></pre>\n"}],"owner":{"account_id":26346411,"reputation":3,"user_id":20004707,"display_name":"Christopher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73832553,"answer_count":1,"score":0,"last_activity_date":1664012184,"creation_date":1663955153,"question_id":73831283,"body_markdown":"Hi this has me stumped I&#39;m trying to search my file for a selected number and then display that number with the rest of the line, the problem is that my program seems to return the first line of contents when I search for it, but not second or third lines when I type in to search for them\r\n\r\n    public static String searchProject(String searchTerm, String filepath) {\r\n            String findString = &quot;&quot;;\r\n            boolean found = false;\r\n            String projectNumber = &quot;&quot;;\r\n            String projectName = &quot;&quot;;\r\n            String typeProject = &quot;&quot;;\r\n            String address = &quot;&quot;;\r\n            String erf = &quot;&quot;;\r\n            String fee = &quot;&quot;;\r\n            String paid = &quot;&quot;;\r\n            String deadline = &quot;&quot;;\r\n            String finalised = &quot;&quot;;\r\n            String architectName = &quot;&quot;;\r\n            String architectTel = &quot;&quot;;\r\n            String architectEmail = &quot;&quot;;\r\n            String architectAddress = &quot;&quot;;\r\n            String contractorName = &quot;&quot;;\r\n            String contractorTel = &quot;&quot;;\r\n            String contractorEmail = &quot;&quot;;\r\n            String contractorAddress = &quot;&quot;;\r\n            String customerName = &quot;&quot;;\r\n            String customerTel = &quot;&quot;;\r\n            String customerEmail = &quot;&quot;;\r\n            String customerAddress = &quot;&quot;;\r\n    \r\n            try {\r\n                Scanner userInput = new Scanner(System.in);\r\n                userInput = new Scanner(new File(filepath));\r\n                userInput.useDelimiter(&quot;[,\\n]&quot;);\r\n    \r\n                while (userInput.hasNext() &amp;&amp; !found) {\r\n                    projectNumber = userInput.next();\r\n                    projectName = userInput.next();\r\n                    typeProject = userInput.next();\r\n                    address = userInput.next();\r\n                    erf = userInput.next();\r\n                    fee = userInput.next();\r\n                    paid = userInput.next();\r\n                    deadline = userInput.next();\r\n                    finalised = userInput.next();\r\n                    architectName = userInput.next();\r\n                    architectTel = userInput.next();\r\n                    architectEmail = userInput.next();\r\n                    architectAddress = userInput.next();\r\n                    contractorName = userInput.next();\r\n                    contractorTel = userInput.next();\r\n                    contractorEmail = userInput.next();\r\n                    contractorAddress = userInput.next();\r\n                    customerName = userInput.next();\r\n                    customerTel = userInput.next();\r\n                    customerEmail = userInput.next();\r\n                    customerAddress = userInput.next();\r\n    \r\n                    if (projectNumber.equals(searchTerm)) {\r\n                        findString = &quot;\\nProject Number: &quot; + projectNumber + &quot;\\nProject Name: &quot; + projectName + &quot;\\nType Project: &quot; + typeProject + &quot;\\nAddress: &quot;\r\n                                + address + &quot;\\nERF number: &quot; + erf + &quot;\\nTotal fee: R&quot; + fee + &quot;\\nPaid to date: R&quot; + paid + &quot;\\nProject Deadline: &quot;\r\n                                + deadline + &quot;\\nIs the project finalised: &quot; + finalised + &quot;\\nArchitect Name: &quot; + architectName + &quot;\\nArchitect Telephone: &quot; + architectTel + &quot;\\nArchitect Email: &quot;\r\n                                + architectEmail + &quot;\\nArchitect Address: &quot; + architectAddress + &quot;\\nContractor Name: &quot; + contractorName + &quot;\\nContractor Telephone: &quot; + contractorTel + &quot;\\nContractor Email: &quot;\r\n                                + contractorEmail + &quot;\\nContractor Address: &quot; + contractorAddress + &quot;\\nCustomer Name: &quot; + customerName + &quot;\\nCustomer Telephone: &quot; + customerTel + &quot;\\nCustomer Email: &quot;\r\n                                + customerEmail + &quot;\\nCustomer Address: &quot; + customerAddress;\r\n                        System.out.println(findString);\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n    \r\n            }\r\n            return findString;\r\n        }\r\nmy txt file contents\r\n\r\n    1,House mack,house,123 mack road,155,100000,40000,2022-09-14,no,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\r\n    2,House John,house,123 John road,183,160000,50000,2022-09-10,yes,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\r\n    3,House bill,house,123 bill road,193,160000,50000,2022-09-10,yes,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\r\n\r\nthe output I am looking for\r\n\r\n    Please enter the project number to find the task: 1\r\n    \r\n    Project Number: 1\r\n    Project Name: House mack\r\n    Type Project: house\r\n    Address: 123 mack road\r\n    ERF number: 155\r\n    Total fee: R100000\r\n    Paid to date: R40000\r\n    Project Deadline: 2022-09-14\r\n    Is the project finalised: no\r\n    Architect Name: Bill\r\n    Architect Telephone: 123456\r\n    Architect Email: bill@gmail.com\r\n    Architect Address: 12 Bill road\r\n    Contractor Name: Jack\r\n    Contractor Telephone: 456789\r\n    Contractor Email: jack@gmail.com\r\n    Contractor Address: 23 Jack road\r\n    Customer Name: John\r\n    Customer Telephone: 789632\r\n    Customer Email: john@gmail.com\r\n    Customer Address: 34 John road\r\n\r\nwhen I type in 2 or 3 to find the project my program displays nothing where is the problem and how can I fix it?","title":"Why doesn&#39;t my program return the file line I searched for inside a txt file?","body":"<p>Hi this has me stumped I'm trying to search my file for a selected number and then display that number with the rest of the line, the problem is that my program seems to return the first line of contents when I search for it, but not second or third lines when I type in to search for them</p>\n<pre><code>public static String searchProject(String searchTerm, String filepath) {\n        String findString = &quot;&quot;;\n        boolean found = false;\n        String projectNumber = &quot;&quot;;\n        String projectName = &quot;&quot;;\n        String typeProject = &quot;&quot;;\n        String address = &quot;&quot;;\n        String erf = &quot;&quot;;\n        String fee = &quot;&quot;;\n        String paid = &quot;&quot;;\n        String deadline = &quot;&quot;;\n        String finalised = &quot;&quot;;\n        String architectName = &quot;&quot;;\n        String architectTel = &quot;&quot;;\n        String architectEmail = &quot;&quot;;\n        String architectAddress = &quot;&quot;;\n        String contractorName = &quot;&quot;;\n        String contractorTel = &quot;&quot;;\n        String contractorEmail = &quot;&quot;;\n        String contractorAddress = &quot;&quot;;\n        String customerName = &quot;&quot;;\n        String customerTel = &quot;&quot;;\n        String customerEmail = &quot;&quot;;\n        String customerAddress = &quot;&quot;;\n\n        try {\n            Scanner userInput = new Scanner(System.in);\n            userInput = new Scanner(new File(filepath));\n            userInput.useDelimiter(&quot;[,\\n]&quot;);\n\n            while (userInput.hasNext() &amp;&amp; !found) {\n                projectNumber = userInput.next();\n                projectName = userInput.next();\n                typeProject = userInput.next();\n                address = userInput.next();\n                erf = userInput.next();\n                fee = userInput.next();\n                paid = userInput.next();\n                deadline = userInput.next();\n                finalised = userInput.next();\n                architectName = userInput.next();\n                architectTel = userInput.next();\n                architectEmail = userInput.next();\n                architectAddress = userInput.next();\n                contractorName = userInput.next();\n                contractorTel = userInput.next();\n                contractorEmail = userInput.next();\n                contractorAddress = userInput.next();\n                customerName = userInput.next();\n                customerTel = userInput.next();\n                customerEmail = userInput.next();\n                customerAddress = userInput.next();\n\n                if (projectNumber.equals(searchTerm)) {\n                    findString = &quot;\\nProject Number: &quot; + projectNumber + &quot;\\nProject Name: &quot; + projectName + &quot;\\nType Project: &quot; + typeProject + &quot;\\nAddress: &quot;\n                            + address + &quot;\\nERF number: &quot; + erf + &quot;\\nTotal fee: R&quot; + fee + &quot;\\nPaid to date: R&quot; + paid + &quot;\\nProject Deadline: &quot;\n                            + deadline + &quot;\\nIs the project finalised: &quot; + finalised + &quot;\\nArchitect Name: &quot; + architectName + &quot;\\nArchitect Telephone: &quot; + architectTel + &quot;\\nArchitect Email: &quot;\n                            + architectEmail + &quot;\\nArchitect Address: &quot; + architectAddress + &quot;\\nContractor Name: &quot; + contractorName + &quot;\\nContractor Telephone: &quot; + contractorTel + &quot;\\nContractor Email: &quot;\n                            + contractorEmail + &quot;\\nContractor Address: &quot; + contractorAddress + &quot;\\nCustomer Name: &quot; + customerName + &quot;\\nCustomer Telephone: &quot; + customerTel + &quot;\\nCustomer Email: &quot;\n                            + customerEmail + &quot;\\nCustomer Address: &quot; + customerAddress;\n                    System.out.println(findString);\n                }\n            }\n        } catch (Exception e) {\n\n        }\n        return findString;\n    }\n</code></pre>\n<p>my txt file contents</p>\n<pre><code>1,House mack,house,123 mack road,155,100000,40000,2022-09-14,no,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\n2,House John,house,123 John road,183,160000,50000,2022-09-10,yes,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\n3,House bill,house,123 bill road,193,160000,50000,2022-09-10,yes,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\n</code></pre>\n<p>the output I am looking for</p>\n<pre><code>Please enter the project number to find the task: 1\n\nProject Number: 1\nProject Name: House mack\nType Project: house\nAddress: 123 mack road\nERF number: 155\nTotal fee: R100000\nPaid to date: R40000\nProject Deadline: 2022-09-14\nIs the project finalised: no\nArchitect Name: Bill\nArchitect Telephone: 123456\nArchitect Email: bill@gmail.com\nArchitect Address: 12 Bill road\nContractor Name: Jack\nContractor Telephone: 456789\nContractor Email: jack@gmail.com\nContractor Address: 23 Jack road\nCustomer Name: John\nCustomer Telephone: 789632\nCustomer Email: john@gmail.com\nCustomer Address: 34 John road\n</code></pre>\n<p>when I type in 2 or 3 to find the project my program displays nothing where is the problem and how can I fix it?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":11044772,"reputation":48,"user_id":8111380,"display_name":"Sertachak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663963618,"creation_date":1663963618,"answer_id":73832519,"question_id":73832267,"body_markdown":"You could try to use .takeWhile in order to find the first not matching element. It will break the loop in the first occurrence of not matching element and returns the elements until that element.\r\n","title":"Reading MultipartFile and being able to break out of loop","body":"<p>You could try to use .takeWhile in order to find the first not matching element. It will break the loop in the first occurrence of not matching element and returns the elements until that element.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664012151,"creation_date":1664012151,"answer_id":73836158,"question_id":73832267,"body_markdown":"For your stream-based solution, you can use [Stream.noneMatch()][1]. On the first element, which matches the predicate it will stop evaluating the rest of the elements in the stream and return false.\r\n```\r\nprivate boolean validateFile(MultipartFile idFile)  {\r\n    try {\r\n        InputStream inputStream = idFile.getInputStream();\r\n        return new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))\r\n                .lines()\r\n                .noneMatch(line -&gt; line.length() != 3 || !line.matches(&quot;^[a-zA-Z0-9]*$&quot;));\r\n    } catch (Exception ex) {\r\n        return false;\r\n    }\r\n}\r\n```\r\nFor the loop based solution, you can use [try-with-resouces][2] statement. It will automatically close the resources for you, so you don&#39;t need to do it manually.\r\n```\r\nprivate boolean validateFile(MultipartFile idFile) {\r\n    boolean validated = true;\r\n    try (InputStream inputStream = idFile.getInputStream();\r\n         BufferedReader br = new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            line = line.trim();\r\n            if (line.length() != 3 || !line.matches(&quot;^[a-zA-Z0-9]*$&quot;)) {\r\n                validated = false;\r\n                break;\r\n            }\r\n        }\r\n    } catch (IOException exc) {\r\n        return false;\r\n    }\r\n    return validated;\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#noneMatch-java.util.function.Predicate-\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Reading MultipartFile and being able to break out of loop","body":"<p>For your stream-based solution, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#noneMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">Stream.noneMatch()</a>. On the first element, which matches the predicate it will stop evaluating the rest of the elements in the stream and return false.</p>\n<pre><code>private boolean validateFile(MultipartFile idFile)  {\n    try {\n        InputStream inputStream = idFile.getInputStream();\n        return new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))\n                .lines()\n                .noneMatch(line -&gt; line.length() != 3 || !line.matches(&quot;^[a-zA-Z0-9]*$&quot;));\n    } catch (Exception ex) {\n        return false;\n    }\n}\n</code></pre>\n<p>For the loop based solution, you can use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resouces</a> statement. It will automatically close the resources for you, so you don't need to do it manually.</p>\n<pre><code>private boolean validateFile(MultipartFile idFile) {\n    boolean validated = true;\n    try (InputStream inputStream = idFile.getInputStream();\n         BufferedReader br = new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))) {\n        String line;\n        while ((line = br.readLine()) != null) {\n            line = line.trim();\n            if (line.length() != 3 || !line.matches(&quot;^[a-zA-Z0-9]*$&quot;)) {\n                validated = false;\n                break;\n            }\n        }\n    } catch (IOException exc) {\n        return false;\n    }\n    return validated;\n}\n</code></pre>\n"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73836158,"answer_count":2,"score":0,"last_activity_date":1664012151,"creation_date":1663961933,"question_id":73832267,"body_markdown":"I have looked at two different ways of reading MultipartFile.\r\n\r\nUsing the forEach method works, but I can not break out of the forEach loop. I understand I can throw exceptions in the forEach loop to exit the loop but from what I have read it is not good practice.\r\n\r\n\r\n       private boolean validateFile(MultipartFile idFile)  {\r\n            AtomicBoolean validated = new AtomicBoolean(true);\r\n            try {\r\n                InputStream inputStream = idFile.getInputStream();\r\n                new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))\r\n                        .lines()\r\n                        .forEach(\r\n                                line -&gt; {\r\n                                    line = line.trim();\r\n                                    if (line.length() != 3 || !line.matches(&quot;^[a-zA-Z0-9]*$&quot;)) {\r\n                                        validated.set(false);\r\n                                    }\r\n                                }\r\n                        );\r\n            } catch (Exception ex) {\r\n                validated.set(false);\r\n            }\r\n    \r\n            return validated.get();\r\n        }\r\n\r\nThe problem with using forEach is that I can not break out of the loop after executing `validated.set(false)` \r\n\r\nI have also tried using the method below in order to use breaks\r\n\r\n    private boolean validateFile(MultipartFile idFile) {\r\n        boolean validated = true;\r\n        InputStream inputStream = null;\r\n        BufferedReader br = null;\r\n        try {\r\n            inputStream = idFile.getInputStream();\r\n            br = new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8));\r\n    \r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                line = line.trim();\r\n                if (line.length() != 3 || !line.matches(&quot;^[a-zA-Z0-9]*$&quot;)) {\r\n                    validated = false;\r\n                    break;\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            validated = false;\r\n        } finally {\r\n            if (br != null) {\r\n                try {\r\n                    br.close();\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n            if (inputStream != null) {\r\n                try {\r\n                    inputStream.close();\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n        return validated;\r\n    }\r\n\r\nThe problem I am facing with the method above is that ` throw new RuntimeException(e);` in the finally block causing sonar errors. \r\n\r\nHow can I read MultipartFile and being able to break out of the loop? I also don&#39;t want to use throws in the finally block since it causes sonar errors.","title":"Reading MultipartFile and being able to break out of loop","body":"<p>I have looked at two different ways of reading MultipartFile.</p>\n<p>Using the forEach method works, but I can not break out of the forEach loop. I understand I can throw exceptions in the forEach loop to exit the loop but from what I have read it is not good practice.</p>\n<pre><code>   private boolean validateFile(MultipartFile idFile)  {\n        AtomicBoolean validated = new AtomicBoolean(true);\n        try {\n            InputStream inputStream = idFile.getInputStream();\n            new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))\n                    .lines()\n                    .forEach(\n                            line -&gt; {\n                                line = line.trim();\n                                if (line.length() != 3 || !line.matches(&quot;^[a-zA-Z0-9]*$&quot;)) {\n                                    validated.set(false);\n                                }\n                            }\n                    );\n        } catch (Exception ex) {\n            validated.set(false);\n        }\n\n        return validated.get();\n    }\n</code></pre>\n<p>The problem with using forEach is that I can not break out of the loop after executing <code>validated.set(false)</code></p>\n<p>I have also tried using the method below in order to use breaks</p>\n<pre><code>private boolean validateFile(MultipartFile idFile) {\n    boolean validated = true;\n    InputStream inputStream = null;\n    BufferedReader br = null;\n    try {\n        inputStream = idFile.getInputStream();\n        br = new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8));\n\n        String line;\n        while ((line = br.readLine()) != null) {\n            line = line.trim();\n            if (line.length() != 3 || !line.matches(&quot;^[a-zA-Z0-9]*$&quot;)) {\n                validated = false;\n                break;\n            }\n        }\n    } catch (Exception e) {\n        validated = false;\n    } finally {\n        if (br != null) {\n            try {\n                br.close();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        if (inputStream != null) {\n            try {\n                inputStream.close();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n    return validated;\n}\n</code></pre>\n<p>The problem I am facing with the method above is that <code> throw new RuntimeException(e);</code> in the finally block causing sonar errors.</p>\n<p>How can I read MultipartFile and being able to break out of the loop? I also don't want to use throws in the finally block since it causes sonar errors.</p>\n"},{"tags":["java","mysql","date"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1663879712,"post_id":73820482,"comment_id":130349792,"body_markdown":"Use `SimpleDateFormat` to format your date value into a String, according to your preferred formatting.","body":"Use <code>SimpleDateFormat</code> to format your date value into a String, according to your preferred formatting."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1664011863,"post_id":73820482,"comment_id":130377380,"body_markdown":"@TheImpaler No, under no circumstances use `SimpleDateFormat` for anything. That class is notoriously troublesome and long outdated. Use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). See the answer.","body":"@TheImpaler No, under no circumstances use <code>SimpleDateFormat</code> for anything. That class is notoriously troublesome and long outdated. Use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. See the answer."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1664050782,"post_id":73820482,"comment_id":130384403,"body_markdown":"@TheImpaler As the answer shows, getting a modern date-time object is easy in this case. If you had had an old-fashioned `java.sql.Date` object as in the question, convert and be happy: `yourJavaSqlDate.toLocalDate()`.","body":"@TheImpaler As the answer shows, getting a modern date-time object is easy in this case. If you had had an old-fashioned <code>java.sql.Date</code> object as in the question, convert and be happy: <code>yourJavaSqlDate.toLocalDate()</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663951458,"creation_date":1663904338,"answer_id":73822744,"question_id":73820482,"body_markdown":"You cannot cast a string object to be a date-time object. The types are unrelated.\r\n\r\nYou can ask a date-time object to *generate* text.\r\n\r\nNever use the terribly flawed legacy date-time types such as `java.sql.Date`. Use only *java.time* classes.\r\n\r\nTo retrieve a value from a column of a type akin to the SQL standard type `DATE`, use `java.time.LocalDate`. \r\n\r\n    LocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;\r\n\r\nGenerate text in standard [ISO 8601][1] format: `YYYY-MM-DD`.\r\n\r\n    String output = ld.toString() ;\r\n\r\nTo generate text in other formats, use `DateTimeFormatter` and `DateTimeFormatterBuilder` classes. These have been covered extensively, so search to learn more.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/ISO_8601","title":"SQL date cannot be converted to Lang.string","body":"<p>You cannot cast a string object to be a date-time object. The types are unrelated.</p>\n<p>You can ask a date-time object to <em>generate</em> text.</p>\n<p>Never use the terribly flawed legacy date-time types such as <code>java.sql.Date</code>. Use only <em>java.time</em> classes.</p>\n<p>To retrieve a value from a column of a type akin to the SQL standard type <code>DATE</code>, use <code>java.time.LocalDate</code>.</p>\n<pre><code>LocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;\n</code></pre>\n<p>Generate text in standard <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format: <code>YYYY-MM-DD</code>.</p>\n<pre><code>String output = ld.toString() ;\n</code></pre>\n<p>To generate text in other formats, use <code>DateTimeFormatter</code> and <code>DateTimeFormatterBuilder</code> classes. These have been covered extensively, so search to learn more.</p>\n"}],"owner":{"account_id":25555314,"reputation":13,"user_id":19338978,"display_name":"WindBreakerKid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73822744,"answer_count":1,"score":-1,"last_activity_date":1664011951,"creation_date":1663879446,"question_id":73820482,"body_markdown":"This void function tests the QCManual Results table. When reaching:\r\n\r\n**String date = (String) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.RUNDATE_INDEX);**\r\n\r\nThrows Error\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic static void checkManualResult(QCManualResultsTableModel qcModel, int row)\r\n    {\r\n        ArrayList&lt;QcResultViolation&gt; violations;\r\n        RuleEvaluator evaluator = null;\r\n        MultiMap&lt;QcRules, QcSteps&gt; ruleMap = new MultiMap&lt;&gt;();\r\n        if (qcModel.getRowCount() &gt; 0)\r\n        {\r\n           //try {\r\n            Integer resultInstId = (Integer) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.INSTID_INDEX);\r\n            Integer qcLotId = (Integer) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.LOTID_INDEX);\r\n            Integer resultLevel = (Integer) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.LEVEL_INDEX);\r\n            Integer testNumber = (Integer) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.TESTNUM_INDEX);\r\n            Double result = (Double) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.RESULT_INDEX);\r\n            String date = (String) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.RUNDATE_INDEX);\r\n            evaluator = new RuleEvaluator(resultInstId);\r\n            ruleMap = getRules(resultInstId, resultLevel, qcLotId); \r\n            if (ruleMap.size() &gt; 0 &amp;&amp; result != null)\r\n            {\r\n                evaluator.SetRuleMap(ruleMap);\r\n                violations = evaluator.CheckResult(testNumber, resultLevel, qcLotId, resultInstId, new BigDecimal(result), date);\r\n            } \r\n```\r\n\r\nStack Trace Error:\r\n\r\n```\r\njava.lang.ClassCastException: java.sql.Date cannot be cast to java.lang.String\r\n\tat org.css.QCApproval.QCUtil.checkManualResult(QCUtil.java:88)\r\n\tat org.css.QCTables.QCManualResultsTableModel.setValueAt(QCManualResultsTableModel.java:418)\r\n\tat javax.swing.JTable.setValueAt(JTable.java:2741)\r\n\tat org.jdesktop.swingx.JXTable.setValueAt(JXTable.java:1473)\r\n\tat javax.swing.JTable.editingStopped(JTable.java:4723)\r\n\tat javax.swing.AbstractCellEditor.fireEditingStopped(AbstractCellEditor.java:141)\r\n\tat javax.swing.DefaultCellEditor$EditorDelegate.stopCellEditing(DefaultCellEditor.java:368)\r\n\tat javax.swing.DefaultCellEditor.stopCellEditing(DefaultCellEditor.java:233)\r\n\tat org.jdesktop.swingx.table.NumberEditorExt.stopCellEditing(NumberEditorExt.java:129)\r\n\tat javax.swing.DefaultCellEditor$EditorDelegate.actionPerformed(DefaultCellEditor.java:385)\r\n\tat javax.swing.JTextField.fireActionPerformed(JTextField.java:508)\r\n\tat javax.swing.JTextField.postActionEvent(JTextField.java:721)\r\n\tat javax.swing.JTextField$NotifyAction.actionPerformed(JTextField.java:836)\r\n\tat javax.swing.JFormattedTextField$CommitAction.actionPerformed(JFormattedTextField.java:1124)\r\n\tat javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1662)\r\n\tat javax.swing.JComponent.processKeyBinding(JComponent.java:2879)\r\n\tat javax.swing.JComponent.processKeyBindings(JComponent.java:2926)\r\n\tat javax.swing.JComponent.processKeyEvent(JComponent.java:2842)\r\n\tat java.awt.Component.processEvent(Component.java:6293)\r\n\tat java.awt.Container.processEvent(Container.java:2229)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4872)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4698)\r\n\tat java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1887)\r\n\tat java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:762)\r\n\tat java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1027)\r\n\tat java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:899)\r\n\tat java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:727)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4742)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4698)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:747)\r\n\tat java.awt.EventQueue.access$300(EventQueue.java:103)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:706)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:704)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:718)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:717)\r\n\tat org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:159)\r\n[catch] at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\n```","title":"SQL date cannot be converted to Lang.string","body":"<p>This void function tests the QCManual Results table. When reaching:</p>\n<p><strong>String date = (String) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.RUNDATE_INDEX);</strong></p>\n<p>Throws Error</p>\n<pre><code>public static void checkManualResult(QCManualResultsTableModel qcModel, int row)\n    {\n        ArrayList&lt;QcResultViolation&gt; violations;\n        RuleEvaluator evaluator = null;\n        MultiMap&lt;QcRules, QcSteps&gt; ruleMap = new MultiMap&lt;&gt;();\n        if (qcModel.getRowCount() &gt; 0)\n        {\n           //try {\n            Integer resultInstId = (Integer) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.INSTID_INDEX);\n            Integer qcLotId = (Integer) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.LOTID_INDEX);\n            Integer resultLevel = (Integer) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.LEVEL_INDEX);\n            Integer testNumber = (Integer) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.TESTNUM_INDEX);\n            Double result = (Double) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.RESULT_INDEX);\n            String date = (String) qcModel.getValueAt(row, QCManualResultsTableModel.QCManualResult.RUNDATE_INDEX);\n            evaluator = new RuleEvaluator(resultInstId);\n            ruleMap = getRules(resultInstId, resultLevel, qcLotId); \n            if (ruleMap.size() &gt; 0 &amp;&amp; result != null)\n            {\n                evaluator.SetRuleMap(ruleMap);\n                violations = evaluator.CheckResult(testNumber, resultLevel, qcLotId, resultInstId, new BigDecimal(result), date);\n            } \n</code></pre>\n<p>Stack Trace Error:</p>\n<pre><code>java.lang.ClassCastException: java.sql.Date cannot be cast to java.lang.String\n    at org.css.QCApproval.QCUtil.checkManualResult(QCUtil.java:88)\n    at org.css.QCTables.QCManualResultsTableModel.setValueAt(QCManualResultsTableModel.java:418)\n    at javax.swing.JTable.setValueAt(JTable.java:2741)\n    at org.jdesktop.swingx.JXTable.setValueAt(JXTable.java:1473)\n    at javax.swing.JTable.editingStopped(JTable.java:4723)\n    at javax.swing.AbstractCellEditor.fireEditingStopped(AbstractCellEditor.java:141)\n    at javax.swing.DefaultCellEditor$EditorDelegate.stopCellEditing(DefaultCellEditor.java:368)\n    at javax.swing.DefaultCellEditor.stopCellEditing(DefaultCellEditor.java:233)\n    at org.jdesktop.swingx.table.NumberEditorExt.stopCellEditing(NumberEditorExt.java:129)\n    at javax.swing.DefaultCellEditor$EditorDelegate.actionPerformed(DefaultCellEditor.java:385)\n    at javax.swing.JTextField.fireActionPerformed(JTextField.java:508)\n    at javax.swing.JTextField.postActionEvent(JTextField.java:721)\n    at javax.swing.JTextField$NotifyAction.actionPerformed(JTextField.java:836)\n    at javax.swing.JFormattedTextField$CommitAction.actionPerformed(JFormattedTextField.java:1124)\n    at javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1662)\n    at javax.swing.JComponent.processKeyBinding(JComponent.java:2879)\n    at javax.swing.JComponent.processKeyBindings(JComponent.java:2926)\n    at javax.swing.JComponent.processKeyEvent(JComponent.java:2842)\n    at java.awt.Component.processEvent(Component.java:6293)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4872)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1887)\n    at java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:762)\n    at java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1027)\n    at java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:899)\n    at java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:727)\n    at java.awt.Component.dispatchEventImpl(Component.java:4742)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Window.dispatchEventImpl(Window.java:2719)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:747)\n    at java.awt.EventQueue.access$300(EventQueue.java:103)\n    at java.awt.EventQueue$3.run(EventQueue.java:706)\n    at java.awt.EventQueue$3.run(EventQueue.java:704)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.awt.EventQueue$4.run(EventQueue.java:718)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:717)\n    at org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:159)\n[catch] at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\n</code></pre>\n"},{"tags":["java","amazon-web-services","unit-testing","mockito","aws-secrets-manager"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1663872836,"post_id":73819373,"comment_id":130347831,"body_markdown":"Use the real Secret Manager Java V2 Service client without MOCKS  in the Test if you want to get a real value back.","body":"Use the real Secret Manager Java V2 Service client without MOCKS  in the Test if you want to get a real value back."}],"answers":[{"tags":[],"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664011338,"creation_date":1664011338,"answer_id":73836076,"question_id":73819373,"body_markdown":"It is because you are actually using a real `AWSSecretsManager` and *not* the mocked version since this line\r\n`        AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard().build();\r\n` is creating a new `AWSSecretsManager` so you will never get your mocked response back since that mock is not used.\r\n\r\nMaybe consider to refactor the code so you don&#39;t need to Mock your class under test (AWSClient). A different approach then would be to inject the `AWSSecretsManager` and so you can mock it, example:\r\n\r\n      private final AWSSecretsManager awsSecretsManager;\r\n\r\n      public AWSClient(AWSSecretsManager awsSecretsManager) {\r\n        this.awsSecretsManager = awsSecretsManager;\r\n      }\r\n\r\n      public String getSecretsManagerSecret(String id) {\r\n        return awsSecretsManager\r\n            .getSecretValue(new GetSecretValueRequest().withSecretId(id))\r\n            .getSecretString();\r\n      }\r\n\r\nAnd refactor the test to inject the mock, example\r\n\r\n      @Mock AWSSecretsManager secretsManager;\r\n\r\n      @Test\r\n      public void should_return_secret() {\r\n        // given\r\n        var secretValueResult = Mockito.mock(GetSecretValueResult.class);\r\n            when(secretsManager.getSecretValue(any(GetSecretValueRequest.class)))\r\n        .thenReturn(secretValueResult);\r\n        when(secretValueResult.getSecretString()).thenReturn(SECRET_VALUE);\r\n\r\n        // when\r\n        var response = new AWSClient(secretsManager).getSecretsManagerSecret(ID);\r\n\r\n        // then\r\n        then(response).isEqualTo(SECRET_VALUE);\r\n      }","title":"Getting a Null response for AWSSecretsManager&#39;s getSecret while Mocking","body":"<p>It is because you are actually using a real <code>AWSSecretsManager</code> and <em>not</em> the mocked version since this line\n<code>       AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard().build();</code> is creating a new <code>AWSSecretsManager</code> so you will never get your mocked response back since that mock is not used.</p>\n<p>Maybe consider to refactor the code so you don't need to Mock your class under test (AWSClient). A different approach then would be to inject the <code>AWSSecretsManager</code> and so you can mock it, example:</p>\n<pre><code>  private final AWSSecretsManager awsSecretsManager;\n\n  public AWSClient(AWSSecretsManager awsSecretsManager) {\n    this.awsSecretsManager = awsSecretsManager;\n  }\n\n  public String getSecretsManagerSecret(String id) {\n    return awsSecretsManager\n        .getSecretValue(new GetSecretValueRequest().withSecretId(id))\n        .getSecretString();\n  }\n</code></pre>\n<p>And refactor the test to inject the mock, example</p>\n<pre><code>  @Mock AWSSecretsManager secretsManager;\n\n  @Test\n  public void should_return_secret() {\n    // given\n    var secretValueResult = Mockito.mock(GetSecretValueResult.class);\n        when(secretsManager.getSecretValue(any(GetSecretValueRequest.class)))\n    .thenReturn(secretValueResult);\n    when(secretValueResult.getSecretString()).thenReturn(SECRET_VALUE);\n\n    // when\n    var response = new AWSClient(secretsManager).getSecretsManagerSecret(ID);\n\n    // then\n    then(response).isEqualTo(SECRET_VALUE);\n  }\n</code></pre>\n"}],"owner":{"account_id":14342927,"reputation":41,"user_id":10360596,"display_name":"Sparrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664011338,"creation_date":1663872312,"question_id":73819373,"body_markdown":"The Testcase I&#39;m writing looks something like this\r\n```\r\n@Mock AWSClient awsClient;\r\n@Mock AWSSecretsManager secretsManagerClient;\r\n@Mock GetSecretValueResult secretValueResult;\r\n\r\nprivate static final SECRET_VALUE = &quot;value&quot;;\r\nprivate static final ID = &quot;id&quot;;\r\n\r\n@Test\r\npublic void handleRequest() {\r\n\r\n    when(secretsManagerClient.getSecretValue(any(GetSecretValueRequest.class))).thenReturn(secretValueResult);\r\n    when(secretValueResult.getSecretString()).thenReturn(SECRET_VALUE));\r\n    String response = awsClient.getSecretsManagerSecret(ID);\r\n    assertNotNull(response);\r\n}\r\n```\r\nThe method I&#39;m trying to test looks something like this (removed some try catch blocks and some logs) :\r\n```\r\npublic class AWSClient{\r\n\r\n    public String getSecretsManagerSecret(String id) {\r\n        AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard().build();\r\n        GetSecretValueRequest request = new GetSecretValueRequest().withSecretId(id);\r\n        GetSecretValueResult result = null;\r\n        \r\n        result = client.getSecretValue(request);\r\n        response = result.getSecretString();\r\n\r\n        return response;\r\n    }\r\n}\r\n```\r\nI am probably wrong about the functionality of the Secrets Manager Client here, but can anyone direct me towards why I&#39;m getting a null response for the test? \r\nThe ```when(secretValueResult.getSecretString()).thenReturn(SECRET_VALUE));``` doesn&#39;t seem to work here as result.getSecretString() seems to return null. \r\nI need to mock the AWSClient as there are a few other external dependencies in that class and I don&#39;t have admin rights to install aws-cli.\r\n\r\nThanks in advance!","title":"Getting a Null response for AWSSecretsManager&#39;s getSecret while Mocking","body":"<p>The Testcase I'm writing looks something like this</p>\n<pre><code>@Mock AWSClient awsClient;\n@Mock AWSSecretsManager secretsManagerClient;\n@Mock GetSecretValueResult secretValueResult;\n\nprivate static final SECRET_VALUE = &quot;value&quot;;\nprivate static final ID = &quot;id&quot;;\n\n@Test\npublic void handleRequest() {\n\n    when(secretsManagerClient.getSecretValue(any(GetSecretValueRequest.class))).thenReturn(secretValueResult);\n    when(secretValueResult.getSecretString()).thenReturn(SECRET_VALUE));\n    String response = awsClient.getSecretsManagerSecret(ID);\n    assertNotNull(response);\n}\n</code></pre>\n<p>The method I'm trying to test looks something like this (removed some try catch blocks and some logs) :</p>\n<pre><code>public class AWSClient{\n\n    public String getSecretsManagerSecret(String id) {\n        AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard().build();\n        GetSecretValueRequest request = new GetSecretValueRequest().withSecretId(id);\n        GetSecretValueResult result = null;\n        \n        result = client.getSecretValue(request);\n        response = result.getSecretString();\n\n        return response;\n    }\n}\n</code></pre>\n<p>I am probably wrong about the functionality of the Secrets Manager Client here, but can anyone direct me towards why I'm getting a null response for the test?\nThe <code>when(secretValueResult.getSecretString()).thenReturn(SECRET_VALUE));</code> doesn't seem to work here as result.getSecretString() seems to return null.\nI need to mock the AWSClient as there are a few other external dependencies in that class and I don't have admin rights to install aws-cli.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":227194,"reputation":6503,"user_id":488704,"accept_rate":77,"display_name":"damienix"},"score":0,"creation_date":1412195594,"post_id":26150035,"comment_id":40992299,"body_markdown":"by regexChar you mean the spliter?","body":"by regexChar you mean the spliter?"},{"owner":{"account_id":381980,"reputation":29640,"user_id":736937,"accept_rate":78,"display_name":"jedwards"},"score":0,"creation_date":1412195615,"post_id":26150035,"comment_id":40992311,"body_markdown":"Will `regex` ever be longer than 1 character?","body":"Will <code>regex</code> ever be longer than 1 character?"},{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":1,"creation_date":1412195635,"post_id":26150035,"comment_id":40992321,"body_markdown":"Why not just use `StringTokenizer`?","body":"Why not just use <code>StringTokenizer</code>?"},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412195644,"post_id":26150035,"comment_id":40992326,"body_markdown":"Yes the regex can be more than one","body":"Yes the regex can be more than one"},{"owner":{"account_id":165405,"reputation":10947,"user_id":388827,"accept_rate":89,"display_name":"qqilihq"},"score":0,"creation_date":1412195677,"post_id":26150035,"comment_id":40992348,"body_markdown":"But it&#39;s not treated as regex at all.","body":"But it&#39;s not treated as regex at all."},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412195692,"post_id":26150035,"comment_id":40992359,"body_markdown":"@AleksG the StringTokenizer is obsolete, it is in the java language only for backwards compatibility, and if there are more than one delimeters. I&#39;ve tried it and got it to work ith the StringTokenier however if the imput were to be a mix of # and ? and i want it split by both # or ? I wont know which one it split it by","body":"@AleksG the StringTokenizer is obsolete, it is in the java language only for backwards compatibility, and if there are more than one delimeters. I&#39;ve tried it and got it to work ith the StringTokenier however if the imput were to be a mix of # and ? and i want it split by both # or ? I wont know which one it split it by"},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412195724,"post_id":26150035,"comment_id":40992377,"body_markdown":"The regex can be a list of strings, it can be the letter a for example","body":"The regex can be a list of strings, it can be the letter a for example"},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412195786,"post_id":26150035,"comment_id":40992408,"body_markdown":"It should just split it by what the delimiter is however it should return the delimeter as well","body":"It should just split it by what the delimiter is however it should return the delimeter as well"},{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":1,"creation_date":1412195791,"post_id":26150035,"comment_id":40992413,"body_markdown":"@MafiaBlood Can you state your source? There&#39;s nothing in the official [java 8 documentation](http://docs.oracle.com/javase/8/docs/api/java/util/StringTokenizer.html) indicating that it&#39;s obsolete.  Also, have a look at [this question](http://stackoverflow.com/questions/5965767/performance-of-stringtokenizer-class-vs-split-method-in-java)","body":"@MafiaBlood Can you state your source? There&#39;s nothing in the official <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">java 8 documentation</a> indicating that it&#39;s obsolete.  Also, have a look at <a href=\"http://stackoverflow.com/questions/5965767/performance-of-stringtokenizer-class-vs-split-method-in-java\">this question</a>"},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412195911,"post_id":26150035,"comment_id":40992458,"body_markdown":"@AleksG I was reading on here and thats what everyone else said","body":"@AleksG I was reading on here and thats what everyone else said"},{"owner":{"account_id":165405,"reputation":10947,"user_id":388827,"accept_rate":89,"display_name":"qqilihq"},"score":1,"creation_date":1412196027,"post_id":26150035,"comment_id":40992514,"body_markdown":"@AleksG JavaDoc: &quot;StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code.&quot; Interestingly, it&#39;s not marked as deprecated.","body":"@AleksG JavaDoc: &quot;StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code.&quot; Interestingly, it&#39;s not marked as deprecated."},{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":1,"creation_date":1412196172,"post_id":26150035,"comment_id":40992592,"body_markdown":"@MafiaBlood When using StringTokenizer, you can tell it to return the delimiters as well as the separated substrings - you don&#39;t need to know which delimiter was used in each place.","body":"@MafiaBlood When using StringTokenizer, you can tell it to return the delimiters as well as the separated substrings - you don&#39;t need to know which delimiter was used in each place."},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412196219,"post_id":26150035,"comment_id":40992618,"body_markdown":"I&#39;ve tried doing this:\nif (regexChar[j] != sChar[i]){\n\t\t\t\t\t\ttemp = temp + Character.toString(sChar[i]);\n\t\t\t\t\t}\nrather than the else statement but its still the same","body":"I&#39;ve tried doing this: if (regexChar[j] != sChar[i]){ \t\t\t\t\t\ttemp = temp + Character.toString(sChar[i]); \t\t\t\t\t} rather than the else statement but its still the same"},{"owner":{"account_id":165405,"reputation":10947,"user_id":388827,"accept_rate":89,"display_name":"qqilihq"},"score":0,"creation_date":1412196230,"post_id":26150035,"comment_id":40992628,"body_markdown":"@MafiaBlood It&#39;s still unclear, how your separator would be treated. You call it `regex` in your code, however you apply no RegEx logic at all. Would that be a valid separator e.g., splitting at a, b OR c? `a|b|c`?","body":"@MafiaBlood It&#39;s still unclear, how your separator would be treated. You call it <code>regex</code> in your code, however you apply no RegEx logic at all. Would that be a valid separator e.g., splitting at a, b OR c? <code>a|b|c</code>?"},{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1412196281,"post_id":26150035,"comment_id":40992654,"body_markdown":"Step through you code in a debugger, and watch the value of `temp`.  Notice how as you loop through `sChar`, each time you find a `#` you reset `temp`?  Notice how the last character in `sChar` is `#`, so `temp` is *always* `#` when the loop ends?","body":"Step through you code in a debugger, and watch the value of <code>temp</code>.  Notice how as you loop through <code>sChar</code>, each time you find a <code>#</code> you reset <code>temp</code>?  Notice how the last character in <code>sChar</code> is <code>#</code>, so <code>temp</code> is <i>always</i> <code>#</code> when the loop ends?"},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412196317,"post_id":26150035,"comment_id":40992676,"body_markdown":"@qqilihq I know i&#39;ve called it regex even though it isn&#39;t a RegEx because it was confusing me when i was writing the code. The regex is just what you want the String s to be split by","body":"@qqilihq I know i&#39;ve called it regex even though it isn&#39;t a RegEx because it was confusing me when i was writing the code. The regex is just what you want the String s to be split by"},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412196464,"post_id":26150035,"comment_id":40992769,"body_markdown":"@azurefrog So if i change the for-loop too:\nfor (int i = 0; i &lt; sChar.length; i++){\n        for (int j = 0; j &lt; regexChar.length; j++){","body":"@azurefrog So if i change the for-loop too: for (int i = 0; i &lt; sChar.length; i++){         for (int j = 0; j &lt; regexChar.length; j++){"},{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":1,"creation_date":1412196528,"post_id":26150035,"comment_id":40992802,"body_markdown":"@MafiaBlood for the sake of completeness, StringTokenizer code would be: `StringTokenizer stk = new StringTokenizer(&quot;ab#cd#ef?gh?&quot;, &quot;#?&quot;, true); List&lt;String&gt; str = new LinkedList&lt;String&gt;(); while(stk.hasMoreTokens()) str.add(stk.nextToken()); String[] splitS = str.toArray(new String[0]);` - looks much simpler than regex to me.","body":"@MafiaBlood for the sake of completeness, StringTokenizer code would be: <code>StringTokenizer stk = new StringTokenizer(&quot;ab#cd#ef?gh?&quot;, &quot;#?&quot;, true); List&lt;String&gt; str = new LinkedList&lt;String&gt;(); while(stk.hasMoreTokens()) str.add(stk.nextToken()); String[] splitS = str.toArray(new String[0]);</code> - looks much simpler than regex to me."},{"owner":{"account_id":4905966,"reputation":1880,"user_id":3952702,"accept_rate":71,"display_name":"SME_Dev"},"score":0,"creation_date":1412196746,"post_id":26150035,"comment_id":40992933,"body_markdown":"Why don&#39;t you want to see String[] array = &quot;ab#cd#ef#gh#&quot;.split(&quot;#&quot;) ?","body":"Why don&#39;t you want to see String[] array = &quot;ab#cd#ef#gh#&quot;.split(&quot;#&quot;) ?"},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412196763,"post_id":26150035,"comment_id":40992947,"body_markdown":"@AleksG I feel stupid now, I had same code typed up, but I didn&#39;t have the true, why is that?","body":"@AleksG I feel stupid now, I had same code typed up, but I didn&#39;t have the true, why is that?"},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":1,"creation_date":1412196838,"post_id":26150035,"comment_id":40992990,"body_markdown":"@SME_Dev because this method is called split and my teacher says I can&#39;t use it","body":"@SME_Dev because this method is called split and my teacher says I can&#39;t use it"},{"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"score":0,"creation_date":1412197275,"post_id":26150035,"comment_id":40993233,"body_markdown":"@AleksG I looked back at my previous code and I was adding only the stuff that wasn&#39;t split, but then adding the regex after which was stupid on my part","body":"@AleksG I looked back at my previous code and I was adding only the stuff that wasn&#39;t split, but then adding the regex after which was stupid on my part"}],"answers":[{"tags":[],"owner":{"account_id":381980,"reputation":29640,"user_id":736937,"accept_rate":78,"display_name":"jedwards"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1412197086,"creation_date":1412196747,"answer_id":26150450,"question_id":26150035,"body_markdown":"I think the comments about using existing, standard classes should be seriously considered, but just for fun, what about:\r\n\r\n    import java.util.ArrayList;\r\n\r\n    class Splitter{\r\n        static ArrayList&lt;String&gt; tokenize(String subject, String pattern)\r\n        {\r\n            ArrayList&lt;String&gt; tokens = new ArrayList&lt;&gt;();\r\n            \r\n            int tokenOff = 0;\r\n            while(true)\r\n            {\r\n                int tokenPos = subject.indexOf(pattern, tokenOff);\r\n                if(tokenPos == -1){ break; }\r\n                String tok = subject.substring(tokenOff, tokenPos);\r\n                \r\n                addToken(tokens, tok);\r\n                addToken(tokens, pattern);\r\n                \r\n                tokenOff = (tokenPos + pattern.length());\r\n            }\r\n            // Add any remaining characters\r\n            addToken(tokens, subject.substring(tokenOff));\r\n            \r\n            return tokens;\r\n        }\r\n        \r\n        static void addToken(ArrayList&lt;String&gt; list, String tok)\r\n        {\r\n            if(tok.length() &gt; 0){ list.add(tok); }\r\n        }\r\n        \r\n        public static void main(String args[])\r\n        {\r\n            String subject, pattern;\r\n            ArrayList&lt;String&gt; tokens;\r\n            \r\n            subject = &quot;ab#cd#ef#gh#&quot;; \r\n            pattern = &quot;#&quot;;\r\n            tokens = tokenize(subject, pattern);\r\n            System.out.println(tokens); // [ab, #, cd, #, ef, #, gh, #]\r\n            \r\n            subject = &quot;ab##cd##ef##gh##&quot;; \r\n            pattern = &quot;##&quot;;\r\n            tokens = tokenize(subject, pattern);\r\n            System.out.println(tokens); // [ab, ##, cd, ##, ef, ##, gh, ##]\r\n            \r\n            subject = &quot;ab##cd##ef##gh##ij&quot;; \r\n            pattern = &quot;##&quot;;\r\n            tokens = tokenize(subject, pattern);\r\n            System.out.println(tokens); // [ab, ##, cd, ##, ef, ##, gh, ##, ij]\r\n            \r\n            subject = &quot;ab##cd#ef#gh##ij&quot;; \r\n            pattern = &quot;##&quot;;\r\n            tokens = tokenize(subject, pattern);\r\n            System.out.println(tokens); // [ab, ##, cd#ef#gh, ##, ij]\r\n        }\r\n    }","title":"Splitting a string without using String.split() - and returning delimiters","body":"<p>I think the comments about using existing, standard classes should be seriously considered, but just for fun, what about:</p>\n\n<pre><code>import java.util.ArrayList;\n\nclass Splitter{\n    static ArrayList&lt;String&gt; tokenize(String subject, String pattern)\n    {\n        ArrayList&lt;String&gt; tokens = new ArrayList&lt;&gt;();\n\n        int tokenOff = 0;\n        while(true)\n        {\n            int tokenPos = subject.indexOf(pattern, tokenOff);\n            if(tokenPos == -1){ break; }\n            String tok = subject.substring(tokenOff, tokenPos);\n\n            addToken(tokens, tok);\n            addToken(tokens, pattern);\n\n            tokenOff = (tokenPos + pattern.length());\n        }\n        // Add any remaining characters\n        addToken(tokens, subject.substring(tokenOff));\n\n        return tokens;\n    }\n\n    static void addToken(ArrayList&lt;String&gt; list, String tok)\n    {\n        if(tok.length() &gt; 0){ list.add(tok); }\n    }\n\n    public static void main(String args[])\n    {\n        String subject, pattern;\n        ArrayList&lt;String&gt; tokens;\n\n        subject = \"ab#cd#ef#gh#\"; \n        pattern = \"#\";\n        tokens = tokenize(subject, pattern);\n        System.out.println(tokens); // [ab, #, cd, #, ef, #, gh, #]\n\n        subject = \"ab##cd##ef##gh##\"; \n        pattern = \"##\";\n        tokens = tokenize(subject, pattern);\n        System.out.println(tokens); // [ab, ##, cd, ##, ef, ##, gh, ##]\n\n        subject = \"ab##cd##ef##gh##ij\"; \n        pattern = \"##\";\n        tokens = tokenize(subject, pattern);\n        System.out.println(tokens); // [ab, ##, cd, ##, ef, ##, gh, ##, ij]\n\n        subject = \"ab##cd#ef#gh##ij\"; \n        pattern = \"##\";\n        tokens = tokenize(subject, pattern);\n        System.out.println(tokens); // [ab, ##, cd#ef#gh, ##, ij]\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227194,"reputation":6503,"user_id":488704,"accept_rate":77,"display_name":"damienix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412197530,"creation_date":1412196833,"answer_id":26150472,"question_id":26150035,"body_markdown":"Does what u need. Got rid of all unneeded and unsafe crap.\r\n\r\n    public static String[] split(String s, String regex) {\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        int beginning = 0;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (s.substring(i).startsWith(regex)) {\r\n                // if you need splitter in output array\r\n                if (!result.isEmpty()) {  \r\n                    result.add(regex);\r\n                }\r\n                result.add(s.substring(beginning, i));\r\n\r\n                // Move forward for splitter size\r\n                i += regex.length();\r\n                beginning = i;\r\n            }\r\n        }\r\n\r\n        // Optionally if you really need an array instead\r\n        String[] splitS = new String[result.size()];\r\n        result.toArray(splitS);\r\n        return splitS;\r\n    }","title":"Splitting a string without using String.split() - and returning delimiters","body":"<p>Does what u need. Got rid of all unneeded and unsafe crap.</p>\n\n<pre><code>public static String[] split(String s, String regex) {\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    int beginning = 0;\n    for (int i = 0; i &lt; s.length(); i++) {\n        if (s.substring(i).startsWith(regex)) {\n            // if you need splitter in output array\n            if (!result.isEmpty()) {  \n                result.add(regex);\n            }\n            result.add(s.substring(beginning, i));\n\n            // Move forward for splitter size\n            i += regex.length();\n            beginning = i;\n        }\n    }\n\n    // Optionally if you really need an array instead\n    String[] splitS = new String[result.size()];\n    result.toArray(splitS);\n    return splitS;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12331407,"reputation":284,"user_id":8997268,"display_name":"Umesh Sulakude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664011283,"creation_date":1664011283,"answer_id":73836071,"question_id":26150035,"body_markdown":"Using Pattern also one option to do !!\r\n\r\n\r\n\r\n\r\n    package com.company;\r\n    \r\n    import java.util.regex.Pattern;\r\n    \r\n    public class umeshtest {\r\n    \r\n        public static void main(String a[]) {\r\n            String ss = &quot;I&#39;m Testing and testing the new feature&quot;;\r\n            Pattern.compile(&quot; &quot;).splitAsStream(ss).forEach(s -&gt; System.out.println(s));\r\n        }\r\n    }","title":"Splitting a string without using String.split() - and returning delimiters","body":"<p>Using Pattern also one option to do !!</p>\n<pre><code>package com.company;\n\nimport java.util.regex.Pattern;\n\npublic class umeshtest {\n\n    public static void main(String a[]) {\n        String ss = &quot;I'm Testing and testing the new feature&quot;;\n        Pattern.compile(&quot; &quot;).splitAsStream(ss).forEach(s -&gt; System.out.println(s));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5114798,"reputation":31,"user_id":4100314,"display_name":"MafiaBlood"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1778,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":26150450,"answer_count":3,"score":2,"last_activity_date":1664011283,"creation_date":1412195329,"question_id":26150035,"body_markdown":"    String s = &quot;ab#cd#ef#gh#&quot;;\r\n\tString regex = &quot;#&quot;;\r\n\t\r\n\tchar [] sChar = s.toCharArray();\r\n\tchar [] regexChar = regex.toCharArray();\r\n\t\r\n\tint count = 1;\r\n\tfor (int i = 0; i &lt; regexChar.length; i++){\r\n\t\tfor (int j = 0; j &lt; sChar.length; j++){\r\n\t\t\tif (regexChar [i] == sChar[j]){\r\n\t\t\t\tcount += 2;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tString [] splitS = new String [count];\r\n\tString temp;\r\n\tfor (int k = 0; k &lt; count; k++){\r\n\t\ttemp = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; regexChar.length; i++){\r\n\t\t\tfor (int j = 0; j &lt; sChar.length; j++){\r\n\t\t\t\tif (regexChar[i] == sChar[j]){\r\n\t\t\t\t\ttemp = Character.toString(regexChar[i]);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttemp = temp + Character.toString(sChar[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsplitS[k] = temp;\r\n\t}\r\n\r\nThis is my code so far but it gives me `splitS[#,#,#,#,#,#,#,#]`. However it should be `splitS[ab,#,cd,#,ef,#,gh,#]`. Can anyone tell me why it&#39;s doing this?\r\n","title":"Splitting a string without using String.split() - and returning delimiters","body":"<pre><code>String s = \"ab#cd#ef#gh#\";\nString regex = \"#\";\n\nchar [] sChar = s.toCharArray();\nchar [] regexChar = regex.toCharArray();\n\nint count = 1;\nfor (int i = 0; i &lt; regexChar.length; i++){\n    for (int j = 0; j &lt; sChar.length; j++){\n        if (regexChar [i] == sChar[j]){\n            count += 2;\n        }\n    }\n}\n\nString [] splitS = new String [count];\nString temp;\nfor (int k = 0; k &lt; count; k++){\n    temp = \"\";\n    for (int i = 0; i &lt; regexChar.length; i++){\n        for (int j = 0; j &lt; sChar.length; j++){\n            if (regexChar[i] == sChar[j]){\n                temp = Character.toString(regexChar[i]);\n            }\n            else {\n                temp = temp + Character.toString(sChar[j]);\n            }\n        }\n    }\n    splitS[k] = temp;\n}\n</code></pre>\n\n<p>This is my code so far but it gives me <code>splitS[#,#,#,#,#,#,#,#]</code>. However it should be <code>splitS[ab,#,cd,#,ef,#,gh,#]</code>. Can anyone tell me why it's doing this?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"score":0,"creation_date":1336410515,"post_id":10486076,"comment_id":13551408,"body_markdown":"What is the exact statement of the problem? Does it just enumerate what you can&#39;t use? Any other hints?","body":"What is the exact statement of the problem? Does it just enumerate what you can&#39;t use? Any other hints?"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":5,"creation_date":1336410821,"post_id":10486076,"comment_id":13551511,"body_markdown":"Don&#39;t get into the habit of using Vector, it&#39;s been replaced by ArrayList.","body":"Don&#39;t get into the habit of using Vector, it&#39;s been replaced by ArrayList."},{"owner":{"account_id":1391458,"reputation":1436,"user_id":1322198,"display_name":"Flavio Cysne"},"score":2,"creation_date":1336412042,"post_id":10486076,"comment_id":13551953,"body_markdown":"If your teacher requested it then he is hoping that **YOU** could do it by yourself and not asking others to do it for you. I think he wants you to do something using the String&#39;s `indexOf(String, int)` method.","body":"If your teacher requested it then he is hoping that <b>YOU</b> could do it by yourself and not asking others to do it for you. I think he wants you to do something using the String&#39;s <code>indexOf(String, int)</code> method."},{"owner":{"account_id":295003,"reputation":24939,"user_id":599184,"accept_rate":78,"display_name":"Leo Jiang"},"score":0,"creation_date":1336438724,"post_id":10486076,"comment_id":13559694,"body_markdown":"@FlavioCysne It was on a test. I used indexOf on the test, but the code seemed messy. I was looking for a cleaner way to do it.","body":"@FlavioCysne It was on a test. I used indexOf on the test, but the code seemed messy. I was looking for a cleaner way to do it."}],"answers":[{"tags":[],"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1336410427,"creation_date":1336410427,"answer_id":10486106,"question_id":10486076,"body_markdown":"YOu can use StringTokenizer\r\nhttp://www.java-samples.com/showtutorial.php?tutorialid=236","title":"How can I split a string into words in Java without using String.split()?","body":"<p>YOu can use StringTokenizer\n<a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=236\" rel=\"nofollow\">http://www.java-samples.com/showtutorial.php?tutorialid=236</a></p>\n"},{"tags":[],"owner":{"account_id":87304,"reputation":1857,"user_id":242182,"accept_rate":75,"display_name":"rayd09"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1336410526,"creation_date":1336410526,"answer_id":10486126,"question_id":10486076,"body_markdown":"You can use java.util.Scanner. ","title":"How can I split a string into words in Java without using String.split()?","body":"<p>You can use java.util.Scanner. </p>\n"},{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1336410547,"creation_date":1336410547,"answer_id":10486133,"question_id":10486076,"body_markdown":"Or use a `Pattern` (also known as a regular expression) to try to match the words.","title":"How can I split a string into words in Java without using String.split()?","body":"<p>Or use a <code>Pattern</code> (also known as a regular expression) to try to match the words.</p>\n"},{"tags":[],"owner":{"account_id":1295878,"reputation":692,"user_id":1246955,"display_name":"David K"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1336410550,"creation_date":1336410550,"answer_id":10486135,"question_id":10486076,"body_markdown":"Parsing the string character by character, copying each character into a new String, and stopping when you reach a white space character. Then start a new string and continue until you reach the end of the original string.","title":"How can I split a string into words in Java without using String.split()?","body":"<p>Parsing the string character by character, copying each character into a new String, and stopping when you reach a white space character. Then start a new string and continue until you reach the end of the original string.</p>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336410807,"creation_date":1336410807,"answer_id":10486184,"question_id":10486076,"body_markdown":" * Use a Scanner with ctor (String) \r\n * regular expressions and match\r\n * StringTokenizer\r\n * iterating yourself char by char\r\n * recursive iteration","title":"How can I split a string into words in Java without using String.split()?","body":"<ul>\n<li>Use a Scanner with ctor (String) </li>\n<li>regular expressions and match</li>\n<li>StringTokenizer</li>\n<li>iterating yourself char by char</li>\n<li>recursive iteration</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user289086"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1336410809,"creation_date":1336410809,"answer_id":10486186,"question_id":10486076,"body_markdown":"I believe that your teacher is asking you to process the string yourself (without using any other libraries to do it for you).  Check to see if this is the case - if you can use them, there are things such as StringTokenizer, Pattern, and Scanner to facilitate string processing.\r\n\r\nOtherwise...\r\n\r\nYou will need a list of word separators (such as space, tab, period, etc...) and then walk the array, building a string a character at a time until you hit the word separator. After finding a complete word (you have encountered a word separator character), save it the variable out into your structure (or whatever is required), reset the variable you are building the word in and continue.","title":"How can I split a string into words in Java without using String.split()?","body":"<p>I believe that your teacher is asking you to process the string yourself (without using any other libraries to do it for you).  Check to see if this is the case - if you can use them, there are things such as StringTokenizer, Pattern, and Scanner to facilitate string processing.</p>\n\n<p>Otherwise...</p>\n\n<p>You will need a list of word separators (such as space, tab, period, etc...) and then walk the array, building a string a character at a time until you hit the word separator. After finding a complete word (you have encountered a word separator character), save it the variable out into your structure (or whatever is required), reset the variable you are building the word in and continue.</p>\n"},{"tags":[],"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336410877,"creation_date":1336410877,"answer_id":10486201,"question_id":10486076,"body_markdown":"You can use [**java.util.StringTokenizer**][1] to split a text using desired delimiter. Default delimiter is SPACE/TAB/NEW_LINE.\r\n\r\n    String myTextToBeSplit = &quot;This is the text to be split into words.&quot;;  \r\n    StringTokenizer tokenizer = new StringTokenizer( myTextToBeSplit );  \r\n    while ( tokinizer.hasMoreTokens()) {  \r\n        String word = tokinizer.nextToken();  \r\n        System.out.println( word ); // word you are looking in  \r\n    }  \r\n\r\nAs an alternate you can also use [**java.util.Scanner**][2]  \r\n\r\n    Scanner s = new Scanner(myTextToBeSplit).useDelimiter(&quot;\\\\s&quot;);  \r\n    while( s.hasNext() ) {  \r\n    System.out.println(s.next());  \r\n    }  \r\n    s.close();  \r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/StringTokenizer.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Scanner.html\r\n","title":"How can I split a string into words in Java without using String.split()?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/StringTokenizer.html\" rel=\"nofollow\"><strong>java.util.StringTokenizer</strong></a> to split a text using desired delimiter. Default delimiter is SPACE/TAB/NEW_LINE.</p>\n\n<pre><code>String myTextToBeSplit = \"This is the text to be split into words.\";  \nStringTokenizer tokenizer = new StringTokenizer( myTextToBeSplit );  \nwhile ( tokinizer.hasMoreTokens()) {  \n    String word = tokinizer.nextToken();  \n    System.out.println( word ); // word you are looking in  \n}  \n</code></pre>\n\n<p>As an alternate you can also use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Scanner.html\" rel=\"nofollow\"><strong>java.util.Scanner</strong></a>  </p>\n\n<pre><code>Scanner s = new Scanner(myTextToBeSplit).useDelimiter(\"\\\\s\");  \nwhile( s.hasNext() ) {  \nSystem.out.println(s.next());  \n}  \ns.close();  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1230113,"reputation":170,"user_id":1194885,"accept_rate":43,"display_name":"Manoj Pal"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1469521488,"creation_date":1336412641,"answer_id":10486594,"question_id":10486076,"body_markdown":"You can also use `String.substring` or `charAt[]`. ","title":"How can I split a string into words in Java without using String.split()?","body":"<p>You can also use <code>String.substring</code> or <code>charAt[]</code>. </p>\n"},{"tags":[],"owner":{"account_id":403847,"reputation":23234,"user_id":771837,"display_name":"trutheality"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336426746,"creation_date":1336426746,"answer_id":10489530,"question_id":10486076,"body_markdown":"Without using a `Vector`/`List` (and without manually re-implementing their ability to re-size themselves for your function), you can take advantage of the simple observation that a string of length `N` cannot have more than `(N+1)/2` words (in integer division). You can declare an array of strings of that size, populate it the same way you populated that `Vector`, and then copy the results to an array of the size of the number of words you found.\r\n\r\nSo:\r\n\r\n    String[] mySplit( String in ){\r\n        String[] bigArray = new String[ (in.length()+1)/2 ];\r\n\r\n        int numWords = 0;\r\n        // Populate bigArray with your while loop and keep\r\n        // track of the number of words\r\n\r\n        String[] result = new String[numWords];\r\n        // Copy results from bigArray to result\r\n\r\n        return result;\r\n    }","title":"How can I split a string into words in Java without using String.split()?","body":"<p>Without using a <code>Vector</code>/<code>List</code> (and without manually re-implementing their ability to re-size themselves for your function), you can take advantage of the simple observation that a string of length <code>N</code> cannot have more than <code>(N+1)/2</code> words (in integer division). You can declare an array of strings of that size, populate it the same way you populated that <code>Vector</code>, and then copy the results to an array of the size of the number of words you found.</p>\n\n<p>So:</p>\n\n<pre><code>String[] mySplit( String in ){\n    String[] bigArray = new String[ (in.length()+1)/2 ];\n\n    int numWords = 0;\n    // Populate bigArray with your while loop and keep\n    // track of the number of words\n\n    String[] result = new String[numWords];\n    // Copy results from bigArray to result\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1128840,"reputation":2152,"user_id":1115406,"accept_rate":86,"display_name":"Akhilesh Dhar Dubey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394907938,"creation_date":1394906200,"answer_id":22427593,"question_id":10486076,"body_markdown":"    public class MySplit {\r\n\r\n\tpublic static String[] mySplit(String text,String delemeter){\r\n\t\tjava.util.List&lt;String&gt; parts = new java.util.ArrayList&lt;String&gt;();\r\n        text+=delemeter;\t\t\r\n\r\n\t\tfor (int i = text.indexOf(delemeter), j=0; i != -1;) {\r\n\t\t\tparts.add(text.substring(j,i));\r\n\t\t\tj=i+delemeter.length();\r\n\t\t\ti = text.indexOf(delemeter,j);\r\n\t\t}\r\n\t\t\r\n\r\n\t\treturn parts.toArray(new String[0]);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString str=&quot;012ab567ab0123ab&quot;;\r\n\t\tString delemeter=&quot;ab&quot;;\r\n\t\tString result[]=mySplit(str,delemeter);\r\n\t\tfor(String s:result)\r\n\t\t\tSystem.out.println(s);\r\n\t}\r\n\r\n    }","title":"How can I split a string into words in Java without using String.split()?","body":"<pre><code>public class MySplit {\n\npublic static String[] mySplit(String text,String delemeter){\n    java.util.List&lt;String&gt; parts = new java.util.ArrayList&lt;String&gt;();\n    text+=delemeter;        \n\n    for (int i = text.indexOf(delemeter), j=0; i != -1;) {\n        parts.add(text.substring(j,i));\n        j=i+delemeter.length();\n        i = text.indexOf(delemeter,j);\n    }\n\n\n    return parts.toArray(new String[0]);\n}\n\npublic static void main(String[] args) {\n    String str=\"012ab567ab0123ab\";\n    String delemeter=\"ab\";\n    String result[]=mySplit(str,delemeter);\n    for(String s:result)\n        System.out.println(s);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7905683,"reputation":233,"user_id":6564703,"accept_rate":50,"display_name":"ak0692"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1469020474,"creation_date":1469016559,"answer_id":38480913,"question_id":10486076,"body_markdown":"Please try this .\r\n\r\n      public static String[] mysplit(String mystring) {\r\n\t\t\r\n\t\tString string=mystring+&quot; &quot;;               //append &quot; &quot; bcz java string does not hava any ending character\r\n\t\tint[] spacetracker=new int[string.length()];// to count no. of spaces in string\r\n\t\tchar[] array=new char[string.length()];     //store all non space character\r\n\t\tString[] tokenArray=new String[string.length()];//to return token of words\r\n\t\t\r\n\t\tint spaceIndex=0;\r\n\t\tint parseIndex=0;\r\n\t\tint arrayIndex=0;\r\n\t\tint k=0;\r\n\t\twhile(parseIndex&lt;string.length())\r\n\t\t{\r\n\t\t\tif(string.charAt(parseIndex)==&#39; &#39;||string.charAt(parseIndex)==&#39;\t&#39;)\r\n\t\t\t{\r\n\t\t\t\tspacetracker[spaceIndex]=parseIndex;\r\n\t\t\t\tspaceIndex++;\r\n\t\t\t\tparseIndex++;\r\n\t\t\t}else\r\n\t\t\t{\r\n\t\t\tarray[arrayIndex]=string.charAt(parseIndex);\r\n\t\t\tarrayIndex++;\r\n\t\t\tparseIndex++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t\tfor(int i=0;i&lt;spacetracker.length;i++)\r\n\t\t{\r\n\t\t\tString token=&quot;&quot;;\r\n\t\t\tfor(int j=k;j&lt;(spacetracker[i])-i;j++)\r\n\t\t\t{\r\n\t\t\t\ttoken=token+array[j];\r\n\t\t\t\tk++;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\ttokenArray[i]=token;\r\n\t\t\t//System.out.println(token);\r\n\t\t\ttoken=&quot;&quot;;\r\n\t\t\t\r\n\t\t}\r\n\t\treturn tokenArray;\r\n\t}\r\n\r\nHope this helps ","title":"How can I split a string into words in Java without using String.split()?","body":"<p>Please try this .</p>\n\n<pre><code>  public static String[] mysplit(String mystring) {\n\n    String string=mystring+\" \";               //append \" \" bcz java string does not hava any ending character\n    int[] spacetracker=new int[string.length()];// to count no. of spaces in string\n    char[] array=new char[string.length()];     //store all non space character\n    String[] tokenArray=new String[string.length()];//to return token of words\n\n    int spaceIndex=0;\n    int parseIndex=0;\n    int arrayIndex=0;\n    int k=0;\n    while(parseIndex&lt;string.length())\n    {\n        if(string.charAt(parseIndex)==' '||string.charAt(parseIndex)==' ')\n        {\n            spacetracker[spaceIndex]=parseIndex;\n            spaceIndex++;\n            parseIndex++;\n        }else\n        {\n        array[arrayIndex]=string.charAt(parseIndex);\n        arrayIndex++;\n        parseIndex++;\n        }\n    }\n\n\n    for(int i=0;i&lt;spacetracker.length;i++)\n    {\n        String token=\"\";\n        for(int j=k;j&lt;(spacetracker[i])-i;j++)\n        {\n            token=token+array[j];\n            k++;\n\n        }\n        tokenArray[i]=token;\n        //System.out.println(token);\n        token=\"\";\n\n    }\n    return tokenArray;\n}\n</code></pre>\n\n<p>Hope this helps </p>\n"},{"tags":[],"owner":{"account_id":9288362,"reputation":199,"user_id":6897485,"display_name":"vinay j"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476047529,"creation_date":1476030988,"answer_id":39945930,"question_id":10486076,"body_markdown":"    import java.util.Arrays;\r\n    public class ReverseTheWords {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s = &quot;hello java how do you do&quot;;\r\n    \t\tSystem.out.println(Arrays.toString(ReverseTheWords.split(s)));\r\n    \t}\r\n    \r\n    \tpublic static String[] split(String s) {\r\n    \t\tint count = 0;\r\n    \t\tchar[] c = s.toCharArray();\r\n    \r\n    \t\tfor (int i = 0; i &lt; c.length; i++) {\r\n    \t\t\tif (c[i] == &#39; &#39;) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tString temp = &quot;&quot;;\r\n    \t\tint k = 0;\r\n    \t\tString[] rev = new String[count + 1];\r\n    \t\tfor (int i = 0; i &lt; c.length; i++) {\r\n    \t\t\tif (c[i] == &#39; &#39;) {\r\n    \t\t\t\trev[k++] = temp;\r\n    \t\t\t\ttemp = &quot;&quot;;\r\n    \t\t\t} else\r\n    \t\t\t\ttemp = temp + c[i];\r\n    \t\t}\r\n    \t\trev[k] = temp;\r\n    \t\treturn rev;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How can I split a string into words in Java without using String.split()?","body":"<pre><code>import java.util.Arrays;\npublic class ReverseTheWords {\n\n    public static void main(String[] args) {\n        String s = \"hello java how do you do\";\n        System.out.println(Arrays.toString(ReverseTheWords.split(s)));\n    }\n\n    public static String[] split(String s) {\n        int count = 0;\n        char[] c = s.toCharArray();\n\n        for (int i = 0; i &lt; c.length; i++) {\n            if (c[i] == ' ') {\n                count++;\n            }\n        }\n        String temp = \"\";\n        int k = 0;\n        String[] rev = new String[count + 1];\n        for (int i = 0; i &lt; c.length; i++) {\n            if (c[i] == ' ') {\n                rev[k++] = temp;\n                temp = \"\";\n            } else\n                temp = temp + c[i];\n        }\n        rev[k] = temp;\n        return rev;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8003937,"reputation":121,"user_id":6037775,"display_name":"Santhosh Rajkumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476428687,"creation_date":1476428687,"answer_id":40036961,"question_id":10486076,"body_markdown":"    public class sha1 {\r\n\tpublic static void main(String[] args) {\r\n        String s = &quot;hello java how do you do&quot;;\r\n        System.out.println(Arrays.toString(sha1.split(s)));\r\n    }\r\n    public static String[] split(String s) {\r\n        int count = 0;\r\n        char[] c = s.toCharArray();\r\n\r\n        for (int i = 0; i &lt; c.length; i++) {\r\n            if (c[i] == &#39; &#39;) {\r\n                count++;\r\n            }\r\n        }\r\n        String temp = &quot;&quot;;\r\n        int k = 0;\r\n        String[] rev = new String[count + 1];\r\n        for (int i = c.length-1; i &gt;= 0; i--) {\r\n            if (c[i] == &#39; &#39;) {\r\n                rev[k++] = temp;\r\n                temp = &quot;&quot;;\r\n            } else\r\n                temp = temp + c[i];\r\n        }\r\n        rev[k] = temp;\r\n        return rev;\r\n    }\r\n\r\n}","title":"How can I split a string into words in Java without using String.split()?","body":"<pre><code>public class sha1 {\npublic static void main(String[] args) {\n    String s = \"hello java how do you do\";\n    System.out.println(Arrays.toString(sha1.split(s)));\n}\npublic static String[] split(String s) {\n    int count = 0;\n    char[] c = s.toCharArray();\n\n    for (int i = 0; i &lt; c.length; i++) {\n        if (c[i] == ' ') {\n            count++;\n        }\n    }\n    String temp = \"\";\n    int k = 0;\n    String[] rev = new String[count + 1];\n    for (int i = c.length-1; i &gt;= 0; i--) {\n        if (c[i] == ' ') {\n            rev[k++] = temp;\n            temp = \"\";\n        } else\n            temp = temp + c[i];\n    }\n    rev[k] = temp;\n    return rev;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7246013,"reputation":71,"user_id":5527871,"display_name":"Asif Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478225482,"creation_date":1478225482,"answer_id":40414268,"question_id":10486076,"body_markdown":"Simple touch.! Improve if you want to.\r\n\r\npackage com.asif.test;\r\n\r\npublic class SplitWithoutSplitMethod {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tsplit(&#39;@&#39;,&quot;asif@is@handsome&quot;);\r\n\t}\r\n\r\n\tstatic void split(char delimeter, String line){\r\n\t\t\r\n\t\tString word = &quot;&quot;;\r\n\t\tString wordsArr[] = new String[3];\r\n\t\t\r\n\t\tint k = 0;\r\n\t\tfor(int i = 0; i &lt;line.length(); i++){\r\n\t\t\t\r\n\t\t\tif(line.charAt(i) != delimeter){\r\n\t\t\t\tword+= line.charAt(i);\r\n\t\t\t}else{\r\n\t\t\t\twordsArr[k] = word;\r\n\t\t\t\tword = &quot;&quot;;\r\n\t\t\t\tk++;\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\twordsArr[k] = word;\r\n\t\tfor(int j = 0; j &lt;wordsArr.length; j++)\r\n\t\tSystem.out.println(wordsArr[j]);\r\n\t\t\r\n\t}\r\n}\r\n","title":"How can I split a string into words in Java without using String.split()?","body":"<p>Simple touch.! Improve if you want to.</p>\n\n<p>package com.asif.test;</p>\n\n<p>public class SplitWithoutSplitMethod {</p>\n\n<pre><code>public static void main(String[] args) {\n\n    split('@',\"asif@is@handsome\");\n}\n\nstatic void split(char delimeter, String line){\n\n    String word = \"\";\n    String wordsArr[] = new String[3];\n\n    int k = 0;\n    for(int i = 0; i &lt;line.length(); i++){\n\n        if(line.charAt(i) != delimeter){\n            word+= line.charAt(i);\n        }else{\n            wordsArr[k] = word;\n            word = \"\";\n            k++;                    \n        }\n    }\n    wordsArr[k] = word;\n    for(int j = 0; j &lt;wordsArr.length; j++)\n    System.out.println(wordsArr[j]);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10316232,"reputation":32,"user_id":7610478,"accept_rate":20,"display_name":"SAM Jr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490250002,"creation_date":1490250002,"answer_id":42968611,"question_id":10486076,"body_markdown":"    import java.util.*;\r\n    class StringSplit {\r\n        public static void main(String[] args) \r\n        {\r\n\t\t    String s=&quot;splitting a string without using split()&quot;;\r\n\t\t    ArrayList&lt;Integer&gt; al=new ArrayList&lt;Integer&gt;();     //Instead you can also use a String \r\n\t\t    ArrayList&lt;String&gt; splitResult=new ArrayList&lt;String&gt;();\r\n\t\t    for(int i=0;i&lt;s.length();i++)\r\n\t\t\t    if(s.charAt(i)==&#39; &#39;)\r\n\t\t\t    \tal.add(i);\r\n\t\t    al.add(0, 0);\r\n\t\t    al.add(al.size(),s.length());\r\n\t\t    String[] words=new String[al.size()];\r\n\t\t    for(int j=0;j&lt;=words.length-2;j++)\r\n\t\t\t    \tsplitResult.add(s.substring(al.get(j),al.get(j+1)).trim());\r\n\t\t    System.out.println(splitResult);\r\n        }\r\n    }\r\n\r\n&gt; Time complexity: O(n)","title":"How can I split a string into words in Java without using String.split()?","body":"<pre><code>import java.util.*;\nclass StringSplit {\n    public static void main(String[] args) \n    {\n        String s=\"splitting a string without using split()\";\n        ArrayList&lt;Integer&gt; al=new ArrayList&lt;Integer&gt;();     //Instead you can also use a String \n        ArrayList&lt;String&gt; splitResult=new ArrayList&lt;String&gt;();\n        for(int i=0;i&lt;s.length();i++)\n            if(s.charAt(i)==' ')\n                al.add(i);\n        al.add(0, 0);\n        al.add(al.size(),s.length());\n        String[] words=new String[al.size()];\n        for(int j=0;j&lt;=words.length-2;j++)\n                splitResult.add(s.substring(al.get(j),al.get(j+1)).trim());\n        System.out.println(splitResult);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Time complexity: O(n)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12331407,"reputation":284,"user_id":8997268,"display_name":"Umesh Sulakude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664011208,"creation_date":1664011208,"answer_id":73836066,"question_id":10486076,"body_markdown":"You can use java Pattern to do it in easy way.\r\n\r\n    package com.company;\r\n    \r\n    import java.util.regex.Pattern;\r\n    \r\n    public class umeshtest {\r\n    \r\n        public static void main(String a[]) {\r\n            String ss = &quot;I&#39;m Testing and testing the new feature&quot;;\r\n            Pattern.compile(&quot; &quot;).splitAsStream(ss).forEach(s -&gt; System.out.println(s));\r\n        }\r\n    }","title":"How can I split a string into words in Java without using String.split()?","body":"<p>You can use java Pattern to do it in easy way.</p>\n<pre><code>package com.company;\n\nimport java.util.regex.Pattern;\n\npublic class umeshtest {\n\n    public static void main(String a[]) {\n        String ss = &quot;I'm Testing and testing the new feature&quot;;\n        Pattern.compile(&quot; &quot;).splitAsStream(ss).forEach(s -&gt; System.out.println(s));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":295003,"reputation":24939,"user_id":599184,"accept_rate":78,"display_name":"Leo Jiang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25277,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10486186,"answer_count":16,"score":5,"last_activity_date":1664011208,"creation_date":1336410273,"question_id":10486076,"body_markdown":"My teacher specifically requested that we split a sentence into words without using `String.split()`. I&#39;ve done it using a `Vector` (which we haven&#39;t learned), a `while`-loop, and substrings. What are other ways of accomplishing this? (preferably without using `Vectors`/`ArrayLists`).","title":"How can I split a string into words in Java without using String.split()?","body":"<p>My teacher specifically requested that we split a sentence into words without using <code>String.split()</code>. I've done it using a <code>Vector</code> (which we haven't learned), a <code>while</code>-loop, and substrings. What are other ways of accomplishing this? (preferably without using <code>Vectors</code>/<code>ArrayLists</code>).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7017323,"reputation":3426,"user_id":5378187,"display_name":"Rubydesic"},"score":1,"creation_date":1663874396,"post_id":73819654,"comment_id":130348281,"body_markdown":"You would simply want to use [`Files#newInputStream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#newInputStream(java.nio.file.Path,java.nio.file.OpenOption...)) and use the [`InputStream#read`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)) method to read a small portion of the file at a time. Then make a `Files#newOutputStream` for each file that you want to output and write to it from your InputStream.","body":"You would simply want to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#newInputStream(java.nio.file.Path,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\"><code>Files#newInputStream</code></a> and use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>InputStream#read</code></a> method to read a small portion of the file at a time. Then make a <code>Files#newOutputStream</code> for each file that you want to output and write to it from your InputStream."},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1663874603,"post_id":73819654,"comment_id":130348350,"body_markdown":"i updated for clarity whoever -1&#39;d me. sorry for the lack of detail.","body":"i updated for clarity whoever -1&#39;d me. sorry for the lack of detail."},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1663874720,"post_id":73819654,"comment_id":130348385,"body_markdown":"@Rubydesic yeah agreed. I just get the feeling someone already has this sitting in one of their workspaces and can copy paste some battle tested solution. Me typing something out is likely to be buggy (Until unit tested) when someone may already have it hashed out.","body":"@Rubydesic yeah agreed. I just get the feeling someone already has this sitting in one of their workspaces and can copy paste some battle tested solution. Me typing something out is likely to be buggy (Until unit tested) when someone may already have it hashed out."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1663874977,"post_id":73819654,"comment_id":130348467,"body_markdown":"If they&#39;re *large*-large I&#39;d probably use NIO channels (and there may be something even better now). There would be very little to unit-test.","body":"If they&#39;re <i>large</i>-large I&#39;d probably use NIO channels (and there may be something even better now). There would be very little to unit-test."},{"owner":{"account_id":8810132,"reputation":245,"user_id":6583432,"display_name":"Malkeith Singh"},"score":0,"creation_date":1663875201,"post_id":73819654,"comment_id":130348539,"body_markdown":"You can look into DataInputStream. Its lets you read bytes. Wrap the FileInputStream with a DataInputStream. After that you can read the amount of bytes required into a ByteArrayOutputStream (these can be your file chunks). Then operate on the chunks as you build them, this way only one chunk at a time will be read into memory.\nI will try to post a full answer later, if need be. Let me know if it works","body":"You can look into DataInputStream. Its lets you read bytes. Wrap the FileInputStream with a DataInputStream. After that you can read the amount of bytes required into a ByteArrayOutputStream (these can be your file chunks). Then operate on the chunks as you build them, this way only one chunk at a time will be read into memory. I will try to post a full answer later, if need be. Let me know if it works"},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1663875706,"post_id":73819654,"comment_id":130348677,"body_markdown":"OK I have crafted up something I will post it in a couple days. Otherwise might discourage others from answering","body":"OK I have crafted up something I will post it in a couple days. Otherwise might discourage others from answering"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663882421,"post_id":73819654,"comment_id":130350535,"body_markdown":"How are you going to reverse the split (a Unix `join`) after upload?","body":"How are you going to reverse the split (a Unix <code>join</code>) after upload?"}],"answers":[{"tags":[],"owner":{"account_id":8810132,"reputation":245,"user_id":6583432,"display_name":"Malkeith Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664009734,"creation_date":1663917922,"answer_id":73824296,"question_id":73819654,"body_markdown":"Below is the full answer:\r\n\r\n- The **maxChunkSize** represents the **size in bytes** of a **file chunk**.\r\n\r\n- In the example below I read a **5mb zip** file and split it into five **1MB** chunks and later join them back using the fileJoin function.\r\n\r\n- The method **stageLocally** stages the files locally but you can modify it to work with any cloud storage. (*Better to abstract this out so you can switch between multiple storage implementations*)\r\n\r\n- You can tweak **maxChunkSize** based on the amount of data you want to store **inmemory** at a given time\r\n\r\n- The `IOutils.copy()` methods is from the commons library, [here][1] is the maven link. You can also use `Files.copy()` in liue of it. The `Files.copy()` methods comes from the `java.nio` package, so you don&#39;t have to add an external dependency to use it.\r\n\r\nI have ommitted the exception handling for brevity.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        File input = new File(_5_MB_FILE_PATH);\r\n        File outPut = fileJoin(split(input, 1_024_000));\r\n\r\n        System.out.println(IOUtils.contentEquals(Files.newInputStream(input.toPath()), Files.newInputStream(outPut.toPath())));\r\n\r\n    }\r\n\r\n    public static List&lt;File&gt; split(File largeFile, int maxChunkSize) throws IOException {\r\n        InputStream in = Files.newInputStream(largeFile.toPath());\r\n        List&lt;File&gt; list = new ArrayList&lt;&gt;();\r\n        final byte[] buffer = new byte[maxChunkSize];\r\n        int dataRead = in.read(buffer);\r\n        while (dataRead &gt; -1) {\r\n            list.add(stageLocally(buffer, dataRead));\r\n            dataRead = in.read(buffer);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    private static File stageLocally(byte[] buffer, int length) throws IOException {\r\n        File outPutFile = File.createTempFile(&quot;temp-&quot;, &quot;split&quot;, new File(TEMP_DIRECTORY));\r\n        FileOutputStream fos = new FileOutputStream(outPutFile);\r\n        fos.write(buffer, 0, length);\r\n        fos.close();\r\n        return outPutFile;\r\n    }\r\n\r\n\r\n    public static File fileJoin(List&lt;File&gt; list) throws IOException {\r\n        File outPutFile = File.createTempFile(&quot;temp-&quot;, &quot;unsplit&quot;, new File(TEMP_DIRECTORY));\r\n        FileOutputStream fileOutputStream = new FileOutputStream(outPutFile);\r\n        for (File file : list) {\r\n            InputStream in = Files.newInputStream(file.toPath());\r\n            IOUtils.copy(in, fileOutputStream);\r\n            in.close();\r\n        }\r\n        fileOutputStream.close();\r\n        return outPutFile;\r\n    }\r\n\r\nLet me know if this helps.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/commons-io/commons-io","title":"Split/join a binary file into multiple parts without loading file into memory?","body":"<p>Below is the full answer:</p>\n<ul>\n<li><p>The <strong>maxChunkSize</strong> represents the <strong>size in bytes</strong> of a <strong>file chunk</strong>.</p>\n</li>\n<li><p>In the example below I read a <strong>5mb zip</strong> file and split it into five <strong>1MB</strong> chunks and later join them back using the fileJoin function.</p>\n</li>\n<li><p>The method <strong>stageLocally</strong> stages the files locally but you can modify it to work with any cloud storage. (<em>Better to abstract this out so you can switch between multiple storage implementations</em>)</p>\n</li>\n<li><p>You can tweak <strong>maxChunkSize</strong> based on the amount of data you want to store <strong>inmemory</strong> at a given time</p>\n</li>\n<li><p>The <code>IOutils.copy()</code> methods is from the commons library, <a href=\"https://mvnrepository.com/artifact/commons-io/commons-io\" rel=\"nofollow noreferrer\">here</a> is the maven link. You can also use <code>Files.copy()</code> in liue of it. The <code>Files.copy()</code> methods comes from the <code>java.nio</code> package, so you don't have to add an external dependency to use it.</p>\n</li>\n</ul>\n<p>I have ommitted the exception handling for brevity.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n\n    File input = new File(_5_MB_FILE_PATH);\n    File outPut = fileJoin(split(input, 1_024_000));\n\n    System.out.println(IOUtils.contentEquals(Files.newInputStream(input.toPath()), Files.newInputStream(outPut.toPath())));\n\n}\n\npublic static List&lt;File&gt; split(File largeFile, int maxChunkSize) throws IOException {\n    InputStream in = Files.newInputStream(largeFile.toPath());\n    List&lt;File&gt; list = new ArrayList&lt;&gt;();\n    final byte[] buffer = new byte[maxChunkSize];\n    int dataRead = in.read(buffer);\n    while (dataRead &gt; -1) {\n        list.add(stageLocally(buffer, dataRead));\n        dataRead = in.read(buffer);\n    }\n    return list;\n}\n\nprivate static File stageLocally(byte[] buffer, int length) throws IOException {\n    File outPutFile = File.createTempFile(&quot;temp-&quot;, &quot;split&quot;, new File(TEMP_DIRECTORY));\n    FileOutputStream fos = new FileOutputStream(outPutFile);\n    fos.write(buffer, 0, length);\n    fos.close();\n    return outPutFile;\n}\n\n\npublic static File fileJoin(List&lt;File&gt; list) throws IOException {\n    File outPutFile = File.createTempFile(&quot;temp-&quot;, &quot;unsplit&quot;, new File(TEMP_DIRECTORY));\n    FileOutputStream fileOutputStream = new FileOutputStream(outPutFile);\n    for (File file : list) {\n        InputStream in = Files.newInputStream(file.toPath());\n        IOUtils.copy(in, fileOutputStream);\n        in.close();\n    }\n    fileOutputStream.close();\n    return outPutFile;\n}\n</code></pre>\n<p>Let me know if this helps.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73824296,"answer_count":1,"score":0,"last_activity_date":1664009734,"creation_date":1663874096,"question_id":73819654,"body_markdown":"In Java, how do you split a binary file into multiple parts while only loading a small portion of the File into memory at one time? \r\n\r\nSo I have a file **FullFile** that is large. I need to upload it to cloud storage but it&#39;s so large that it often times out. \r\n\r\nI can make this problem less likely if I split the file and upload in chunks.\r\n\r\nSo I need to split **FullFile** into files of chunk size `MaxChunkSize`.\r\n\r\n* `List&lt;File&gt; fileSplit(File fullFile, int maxChunkSize)`\r\n* `File fileJoin(List&lt;File&gt; splitFiles)`\r\n\r\nMost code snippets around require the file to be text. But in my case the files are compressed binary.\r\n\r\nWhat would be the best way to implement these methods?","title":"Split/join a binary file into multiple parts without loading file into memory?","body":"<p>In Java, how do you split a binary file into multiple parts while only loading a small portion of the File into memory at one time?</p>\n<p>So I have a file <strong>FullFile</strong> that is large. I need to upload it to cloud storage but it's so large that it often times out.</p>\n<p>I can make this problem less likely if I split the file and upload in chunks.</p>\n<p>So I need to split <strong>FullFile</strong> into files of chunk size <code>MaxChunkSize</code>.</p>\n<ul>\n<li><code>List&lt;File&gt; fileSplit(File fullFile, int maxChunkSize)</code></li>\n<li><code>File fileJoin(List&lt;File&gt; splitFiles)</code></li>\n</ul>\n<p>Most code snippets around require the file to be text. But in my case the files are compressed binary.</p>\n<p>What would be the best way to implement these methods?</p>\n"},{"tags":["java","swing","jar","attributeerror","manifest.mf"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664009513,"post_id":73835887,"comment_id":130376991,"body_markdown":"You don&#39;t need manifests anymore for that: ```jar cvfe Inod.jar Export Export.class```. Then ```java -jar Inod.jar```","body":"You don&#39;t need manifests anymore for that: <code>jar cvfe Inod.jar Export Export.class</code>. Then <code>java -jar Inod.jar</code>"},{"owner":{"account_id":13984046,"reputation":163,"user_id":10099578,"display_name":"Inod Umayanga"},"score":0,"creation_date":1664009872,"post_id":73835887,"comment_id":130377051,"body_markdown":"@g00sereciving this error   Error: LinkageError occurred while loading main class Export\n        java.lang.UnsupportedClassVersionError: Export has been compiled by a more recent version of the Java Runtime (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 59.0","body":"@g00sereciving this error   Error: LinkageError occurred while loading main class Export         java.lang.UnsupportedClassVersionError: Export has been compiled by a more recent version of the Java Runtime (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 59.0"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664010105,"post_id":73835887,"comment_id":130377093,"body_markdown":"OK. That looks like you have different versions in PATH between java and javac. You need to harmonize them. ```java -version```  ```javac -version``` On Windows, I would set ```JAVA_HOME``` and then, place, *at the start* of ```PATH``` ```%JAVA_HOME%\\bin;```","body":"OK. That looks like you have different versions in PATH between java and javac. You need to harmonize them. <code>java -version</code>  <code>javac -version</code> On Windows, I would set <code>JAVA_HOME</code> and then, place, <i>at the start</i> of <code>PATH</code> <code>%JAVA_HOME%\\bin;</code>"},{"owner":{"account_id":13984046,"reputation":163,"user_id":10099578,"display_name":"Inod Umayanga"},"score":0,"creation_date":1664010286,"post_id":73835887,"comment_id":130377122,"body_markdown":"@g00se No I have the same versions: C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;**java -version\njava version &quot;15.0.2&quot;** 2021-01-19\nJava(TM) SE Runtime Environment (build 15.0.2+7-27)\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing)\n\nC:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;**javac -version\njavac 15.0.2**\n\nC:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;","body":"@g00se No I have the same versions: C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;**java -version java version &quot;15.0.2&quot;** 2021-01-19 Java(TM) SE Runtime Environment (build 15.0.2+7-27) Java HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing)  C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;**javac -version javac 15.0.2**  C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664010518,"post_id":73835887,"comment_id":130377161,"body_markdown":"Strange. You error message is telling you that class was compiled with Java 18. Delete the class file and try again (Obvs. recompile it)","body":"Strange. You error message is telling you that class was compiled with Java 18. Delete the class file and try again (Obvs. recompile it)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664010680,"post_id":73835887,"comment_id":130377192,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248315/discussion-between-g00se-and-inod-umayanga).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248315/discussion-between-g00se-and-inod-umayanga\">continue this discussion in chat</a>."}],"owner":{"account_id":13984046,"reputation":163,"user_id":10099578,"display_name":"Inod Umayanga"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664009380,"creation_date":1664009380,"question_id":73835887,"body_markdown":"I&#39;m trying to create a jar file with console and run it on windows.\r\n\r\nExport.java\r\n\r\n    public class Export {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Hello world :D&quot;);\r\n    \t}\r\n    }\r\n\r\nthen I created the class file Running\r\n\r\n    C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;javac Export.java\r\n\r\nadded the following manifest.mf file in the same folder containing\r\n\r\nMANIFEST.MF\r\n\r\n    Main-Class: Export\r\n\r\ncreated the jar file in cmd using\r\n\r\n    C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;jar cmvf MANIFEST.MF Inod.jar *.class\r\n    added manifest\r\n    adding: Export.class(in = 524) (out= 336)(deflated 35%)\r\n\r\nbut when I&#39;m running the file I&#39;m getting following error am I doing anything wrong? what is the issue here?\r\n\r\n    C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;java -jar Inod.jar\r\n    no main manifest attribute, in Inod.jar\r\n\r\n\r\n\r\n\r\n","title":"no main manifest attribute, in jar while trying to create and run with console","body":"<p>I'm trying to create a jar file with console and run it on windows.</p>\n<p>Export.java</p>\n<pre><code>public class Export {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world :D&quot;);\n    }\n}\n</code></pre>\n<p>then I created the class file Running</p>\n<pre><code>C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;javac Export.java\n</code></pre>\n<p>added the following manifest.mf file in the same folder containing</p>\n<p>MANIFEST.MF</p>\n<pre><code>Main-Class: Export\n</code></pre>\n<p>created the jar file in cmd using</p>\n<pre><code>C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;jar cmvf MANIFEST.MF Inod.jar *.class\nadded manifest\nadding: Export.class(in = 524) (out= 336)(deflated 35%)\n</code></pre>\n<p>but when I'm running the file I'm getting following error am I doing anything wrong? what is the issue here?</p>\n<pre><code>C:\\Users\\inod.jayakody\\eclipse-workspace\\Program&gt;java -jar Inod.jar\nno main manifest attribute, in Inod.jar\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664001573,"post_id":73835146,"comment_id":130375934,"body_markdown":"What will happen?  It will generate .class files with the bytecode version you selected, I expect.  A Java compiler is typically capable of generating bytecodes for more than one bytecode version.","body":"What will happen?  It will generate .class files with the bytecode version you selected, I expect.  A Java compiler is typically capable of generating bytecodes for more than one bytecode version."}],"answers":[{"tags":[],"owner":{"account_id":3710550,"reputation":847,"user_id":3087999,"display_name":"vipcxj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664009140,"creation_date":1664009140,"answer_id":73835867,"question_id":73835146,"body_markdown":"The bytecode version means the verion of your generated class file.\r\n\r\nGenerally, the jdk N can generated or load any class files whose version less or equal then N. For example JDK 11 can compile the source files to class files with bytecode version 11 or 10 or 9 or 8, and at runtime, it can load the class files whose version less or equals 11. but it can not load the class file with version 12.","title":"What is &#39;project bytecode version&#39; in &#39;Intellij - Java Compiler option&#39;?","body":"<p>The bytecode version means the verion of your generated class file.</p>\n<p>Generally, the jdk N can generated or load any class files whose version less or equal then N. For example JDK 11 can compile the source files to class files with bytecode version 11 or 10 or 9 or 8, and at runtime, it can load the class files whose version less or equals 11. but it can not load the class file with version 12.</p>\n"}],"owner":{"account_id":10316445,"reputation":1146,"user_id":7610618,"accept_rate":86,"display_name":"JoonT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664009140,"creation_date":1664000512,"question_id":73835146,"body_markdown":"I can select JDK version on `Project Structure - SDK`, and it means my java code will be compiled with JDK that I selected.  \r\nIf I select JDK 1.8, my code will compiled with JDK 1.8.  \r\n\r\nIn this situation, I can&#39;t understand `Setting - Build, Execution, Deployment - Java compiler - project bytecode version` option.  \r\nWhat happens if I select a version of this option that is different from the `Project Structure - SDK`?  ","title":"What is &#39;project bytecode version&#39; in &#39;Intellij - Java Compiler option&#39;?","body":"<p>I can select JDK version on <code>Project Structure - SDK</code>, and it means my java code will be compiled with JDK that I selected.<br />\nIf I select JDK 1.8, my code will compiled with JDK 1.8.</p>\n<p>In this situation, I can't understand <code>Setting - Build, Execution, Deployment - Java compiler - project bytecode version</code> option.<br />\nWhat happens if I select a version of this option that is different from the <code>Project Structure - SDK</code>?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":8986264,"reputation":238,"user_id":6699749,"display_name":"ruby6221"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664007845,"creation_date":1664007845,"answer_id":73835753,"question_id":73834962,"body_markdown":"You may set value to `blog` variable in `MainViewHolder`.  \r\nAdd this line to your `bindTo()` method body:\r\n`this.blog = blog`","title":"Attempt to invoke virtual method &#39;android.os.Parcelable android.os.Bundle.getParcelable(java.lang.String)&#39; on a null object reference","body":"<p>You may set value to <code>blog</code> variable in <code>MainViewHolder</code>.<br />\nAdd this line to your <code>bindTo()</code> method body:\n<code>this.blog = blog</code></p>\n"}],"owner":{"account_id":26428504,"reputation":11,"user_id":20075045,"display_name":"Abd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664007845,"creation_date":1663997916,"question_id":73834962,"body_markdown":"Idk why is it not working, Im trying to transfer data, i&#39;m doing an app but when i run it i get an error, the Error is in the BlogActivity Class \r\n&quot;showData(getIntent().getExtras().getParcelable(EXTRAS_BLOG));&quot;(java.lang.NullPointerException).\r\n\r\n\r\n\r\nThis is BlogActivity Class:\r\n\r\n\r\n    public class BlogActivity extends AppCompatActivity{\r\n\r\n    private static final String EXTRAS_BLOG = &quot;EXTRAS_BLOG&quot;;\r\n    private TextView textTitle;\r\n    private TextView textDate;\r\n    private TextView textAuthor;\r\n    private TextView textRating;\r\n    private TextView textDescription;\r\n    private TextView textViews;\r\n    private RatingBar ratingBar;\r\n    private ImageView imageAvatar;\r\n    private ImageView imageMain;\r\n    private ImageView imageBack;\r\n    private ProgressBar progressBar;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_blogpage);\r\n\r\n        imageMain = findViewById(R.id.yemenImg);\r\n        imageAvatar = findViewById(R.id.yemenAvatar);\r\n\r\n        imageBack = findViewById(R.id.imageBack);\r\n        imageBack.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                new Handler().postDelayed(new Runnable()\r\n                {\r\n                    @Override\r\n                    public void run()\r\n                    {\r\n                        Intent myInt = new Intent(getApplicationContext(),MainActivity.class);\r\n                        startActivity(myInt);\r\n\r\n                    }\r\n                },2);\r\n            }\r\n        });\r\n\r\n        textDate = findViewById(R.id.dateYemen);\r\n        textTitle = findViewById(R.id.textTitle);\r\n        textAuthor = findViewById(R.id.yemenAuthor);\r\n        textRating = findViewById(R.id.textRating);\r\n        textViews = findViewById(R.id.textViews);\r\n        textDescription = findViewById(R.id.textDescription);\r\n        ratingBar = findViewById(R.id.ratingBar);\r\n        progressBar = findViewById(R.id.progressBar);\r\n\r\n \r\n         \r\n       showData(getIntent().getExtras().getParcelable(EXTRAS_BLOG));\r\n\r\n    }\r\n\r\n    /*private void loadData()\r\n    {\r\n        BlogHttpClient.INSTANCE.loadBlogArticles(new BlogArticlesCallback() {\r\n            @Override\r\n            public void onSuccess(final List&lt;Blog&gt; blogList) {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        showData(blogList.get(0));\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onError() {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        showErrorSnackbar();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n    }*/\r\n\r\n    private void showData(Blog blog)\r\n    {\r\n        progressBar.setVisibility(View.GONE);\r\n        textTitle.setText(blog.getTitle());\r\n        textDate.setText(blog.getDate());\r\n        textAuthor.setText(blog.getAuthor().getName());\r\n        textRating.setText(String.valueOf(blog.getRating()));\r\n        textViews.setText(String.format(&quot;(%d views)&quot;, blog.getViews()));\r\n        textDescription.setText(blog.getDescription());\r\n        textDescription.setText(Html.fromHtml(blog.getDescription(),Html.FROM_HTML_MODE_COMPACT));\r\n        ratingBar.setRating(blog.getRating());\r\n        ratingBar.setVisibility(View.VISIBLE);\r\n        imageBack.setImageResource(R.drawable.ic_baseline_arrow_back_24);\r\n\r\n\r\n\r\n\r\n        Glide.with(this)\r\n                .load(blog.getImage())\r\n                .transition(DrawableTransitionOptions.withCrossFade())\r\n                .into(imageMain);\r\n\r\n        Glide.with(this)\r\n                .load(blog.getAuthor().getAvatar())\r\n                .transform(new CircleCrop())\r\n                .transition(DrawableTransitionOptions.withCrossFade())\r\n                .into(imageAvatar);\r\n\r\n    }\r\n\r\n    /*private void showErrorSnackbar()\r\n    {\r\n        View rootView = findViewById(android.R.id.content);\r\n        Snackbar snackbar = Snackbar.make(rootView,&quot;Error during loading blog articles&quot;,\r\n                Snackbar.LENGTH_INDEFINITE);\r\n        snackbar.setActionTextColor(Color.parseColor(&quot;#e0af1f&quot;));\r\n        snackbar.setAction(&quot;Retry&quot;, v -&gt; {\r\n            snackbar.dismiss();\r\n        });\r\n        snackbar.show();\r\n    }*/\r\n\r\n    public static void startBlogDetailsActivity(Activity activity, Blog blog) {\r\n        Intent intent = new Intent(activity, BlogActivity.class);\r\n        intent.putExtra(EXTRAS_BLOG, blog);\r\n        activity.startActivity(intent);\r\n    }\r\n\r\nBlog Class:\r\n      \r\n    public class Blog implements Parcelable {\r\n\r\n    private String id;\r\n    private Author author;\r\n    private String title;\r\n    private String date;\r\n    private String image;\r\n    private String description;\r\n    private int views;\r\n    private float rating;\r\n\r\n    protected Blog(Parcel in) {\r\n        id = in.readString();\r\n        title = in.readString();\r\n        date = in.readString();\r\n        image = in.readString();\r\n        description = in.readString();\r\n        views = in.readInt();\r\n        rating = in.readFloat();\r\n        author = in.readParcelable(Author.class.getClassLoader());\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel dest, int flags) {\r\n        dest.writeString(id);\r\n        dest.writeString(title);\r\n        dest.writeString(date);\r\n        dest.writeString(image);\r\n        dest.writeString(description);\r\n        dest.writeInt(views);\r\n        dest.writeFloat(rating);\r\n        dest.writeParcelable(author, 0);\r\n    }\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    public static final Creator&lt;Blog&gt; CREATOR = new Creator&lt;Blog&gt;() {\r\n        @Override\r\n        public Blog createFromParcel(Parcel in) {\r\n            return new Blog(in);\r\n        }\r\n\r\n        @Override\r\n        public Blog[] newArray(int size) {\r\n            return new Blog[size];\r\n        }\r\n    };\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public int getViews() {\r\n        return views;\r\n    }\r\n\r\n    public float getRating() {\r\n        return rating;\r\n    }\r\n\r\n    public Author getAuthor() {\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(Author author) {\r\n        this.author = author;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Blog blog = (Blog) o;\r\n        return views == blog.views &amp;&amp;\r\n                Float.compare(blog.rating, rating) == 0 &amp;&amp;\r\n                Objects.equals(id, blog.id) &amp;&amp;\r\n                Objects.equals(author, blog.author) &amp;&amp;\r\n                Objects.equals(title, blog.title) &amp;&amp;\r\n                Objects.equals(date, blog.date) &amp;&amp;\r\n                Objects.equals(image, blog.image) &amp;&amp;\r\n                Objects.equals(description, blog.description);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, author, title, date, image, description, views, rating);\r\n    }\r\n\r\nThis is Main Activity Class:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    private MainAdapter adapter;\r\n    private SwipeRefreshLayout refreshLayout;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        adapter = new MainAdapter(blog -&gt;\r\n                BlogActivity.startBlogDetailsActivity(this, blog));\r\n\r\n        RecyclerView recyclerView = findViewById(R.id.recylerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n\r\n        refreshLayout = findViewById(R.id.refresh);\r\n        refreshLayout.setOnRefreshListener(this::loadData);\r\n\r\n        loadData();\r\n    }\r\n\r\n    private void loadData()\r\n    {\r\n        refreshLayout.setRefreshing(true);\r\n        BlogHttpClient.INSTANCE.loadBlogArticles(new BlogArticlesCallback() {\r\n            @Override\r\n            public void onSuccess(final List&lt;Blog&gt; blogList) {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        refreshLayout.setRefreshing(false);\r\n                        adapter.submitList(blogList);\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onError() {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        refreshLayout.setRefreshing(false);\r\n                        showErrorSnackbar();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showErrorSnackbar() {\r\n        View rootView = findViewById(android.R.id.content);\r\n        Snackbar snackbar = Snackbar.make(rootView,&quot;Error during loading blog articles&quot;,\r\n                Snackbar.LENGTH_INDEFINITE);\r\n        snackbar.setActionTextColor(Color.parseColor(&quot;#e0af1f&quot;));\r\n        snackbar.setAction(&quot;Retry&quot;, v -&gt; {\r\n            loadData();\r\n            snackbar.dismiss();\r\n        });\r\n        snackbar.show();\r\n    }\r\n\r\nThis is MainAdapter Class:\r\n\r\n    public class MainAdapter extends ListAdapter&lt;Blog, MainAdapter.MainViewHolder&gt;{\r\n    \r\n    public interface OnItemClickListener{\r\n        void onItemClicked(Blog blog);\r\n    }\r\n\r\n    private OnItemClickListener clickListener;\r\n\r\n    public MainAdapter(OnItemClickListener clickListener){\r\n        super(DIFF_CALLBACK);\r\n        this.clickListener = clickListener;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MainAdapter.MainViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n    {\r\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n        View view = inflater.inflate(R.layout.activity_listlayout,parent,false);\r\n        return new MainViewHolder(view, clickListener);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MainAdapter.MainViewHolder holder, int position)\r\n    {\r\n        holder.bindTo(getItem(position));\r\n\r\n    }\r\n\r\n    static class MainViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        private TextView textTitle;\r\n        private TextView textDate;\r\n        private ImageView imageAvatar;\r\n        private Blog blog;\r\n\r\n        public MainViewHolder(@NonNull View itemView, OnItemClickListener listener)\r\n        {\r\n            super(itemView);\r\n            itemView.setOnClickListener(view -&gt; listener.onItemClicked(blog));\r\n            textTitle = itemView.findViewById(R.id.textTitle);\r\n            textDate = itemView.findViewById(R.id.textDate);\r\n            imageAvatar = itemView.findViewById(R.id.imageAvatar);\r\n        }\r\n\r\n\r\n        void bindTo(Blog blog)\r\n        {\r\n            textTitle.setText(blog.getTitle());\r\n            textDate.setText(blog.getDate());\r\n\r\n            Glide.with(itemView)\r\n                    .load(blog.getAuthor().getAvatar())\r\n                    .transform(new CircleCrop())\r\n                    .transition(DrawableTransitionOptions.withCrossFade())\r\n                    .into(imageAvatar);\r\n        }\r\n    }\r\n\r\n    private static final DiffUtil.ItemCallback&lt;Blog&gt; DIFF_CALLBACK =\r\n            new DiffUtil.ItemCallback&lt;Blog&gt;()\r\n            {\r\n                @Override\r\n                public boolean areItemsTheSame(@NonNull Blog oldItem, @NonNull Blog newItem)\r\n                {\r\n                    return oldItem.getId().equals(newItem.getId());\r\n                }\r\n\r\n                @Override\r\n                public boolean areContentsTheSame(@NonNull Blog oldItem, @NonNull Blog newItem)\r\n                {\r\n                    return oldItem.equals(newItem);\r\n                }\r\n            };\r\n\r\n\r\n   \r\n","title":"Attempt to invoke virtual method &#39;android.os.Parcelable android.os.Bundle.getParcelable(java.lang.String)&#39; on a null object reference","body":"<p>Idk why is it not working, Im trying to transfer data, i'm doing an app but when i run it i get an error, the Error is in the BlogActivity Class\n&quot;showData(getIntent().getExtras().getParcelable(EXTRAS_BLOG));&quot;(java.lang.NullPointerException).</p>\n<p>This is BlogActivity Class:</p>\n<pre><code>public class BlogActivity extends AppCompatActivity{\n\nprivate static final String EXTRAS_BLOG = &quot;EXTRAS_BLOG&quot;;\nprivate TextView textTitle;\nprivate TextView textDate;\nprivate TextView textAuthor;\nprivate TextView textRating;\nprivate TextView textDescription;\nprivate TextView textViews;\nprivate RatingBar ratingBar;\nprivate ImageView imageAvatar;\nprivate ImageView imageMain;\nprivate ImageView imageBack;\nprivate ProgressBar progressBar;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_blogpage);\n\n    imageMain = findViewById(R.id.yemenImg);\n    imageAvatar = findViewById(R.id.yemenAvatar);\n\n    imageBack = findViewById(R.id.imageBack);\n    imageBack.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n            new Handler().postDelayed(new Runnable()\n            {\n                @Override\n                public void run()\n                {\n                    Intent myInt = new Intent(getApplicationContext(),MainActivity.class);\n                    startActivity(myInt);\n\n                }\n            },2);\n        }\n    });\n\n    textDate = findViewById(R.id.dateYemen);\n    textTitle = findViewById(R.id.textTitle);\n    textAuthor = findViewById(R.id.yemenAuthor);\n    textRating = findViewById(R.id.textRating);\n    textViews = findViewById(R.id.textViews);\n    textDescription = findViewById(R.id.textDescription);\n    ratingBar = findViewById(R.id.ratingBar);\n    progressBar = findViewById(R.id.progressBar);\n\n\n     \n   showData(getIntent().getExtras().getParcelable(EXTRAS_BLOG));\n\n}\n\n/*private void loadData()\n{\n    BlogHttpClient.INSTANCE.loadBlogArticles(new BlogArticlesCallback() {\n        @Override\n        public void onSuccess(final List&lt;Blog&gt; blogList) {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    showData(blogList.get(0));\n                }\n            });\n        }\n\n        @Override\n        public void onError() {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    showErrorSnackbar();\n                }\n            });\n\n        }\n    });\n}*/\n\nprivate void showData(Blog blog)\n{\n    progressBar.setVisibility(View.GONE);\n    textTitle.setText(blog.getTitle());\n    textDate.setText(blog.getDate());\n    textAuthor.setText(blog.getAuthor().getName());\n    textRating.setText(String.valueOf(blog.getRating()));\n    textViews.setText(String.format(&quot;(%d views)&quot;, blog.getViews()));\n    textDescription.setText(blog.getDescription());\n    textDescription.setText(Html.fromHtml(blog.getDescription(),Html.FROM_HTML_MODE_COMPACT));\n    ratingBar.setRating(blog.getRating());\n    ratingBar.setVisibility(View.VISIBLE);\n    imageBack.setImageResource(R.drawable.ic_baseline_arrow_back_24);\n\n\n\n\n    Glide.with(this)\n            .load(blog.getImage())\n            .transition(DrawableTransitionOptions.withCrossFade())\n            .into(imageMain);\n\n    Glide.with(this)\n            .load(blog.getAuthor().getAvatar())\n            .transform(new CircleCrop())\n            .transition(DrawableTransitionOptions.withCrossFade())\n            .into(imageAvatar);\n\n}\n\n/*private void showErrorSnackbar()\n{\n    View rootView = findViewById(android.R.id.content);\n    Snackbar snackbar = Snackbar.make(rootView,&quot;Error during loading blog articles&quot;,\n            Snackbar.LENGTH_INDEFINITE);\n    snackbar.setActionTextColor(Color.parseColor(&quot;#e0af1f&quot;));\n    snackbar.setAction(&quot;Retry&quot;, v -&gt; {\n        snackbar.dismiss();\n    });\n    snackbar.show();\n}*/\n\npublic static void startBlogDetailsActivity(Activity activity, Blog blog) {\n    Intent intent = new Intent(activity, BlogActivity.class);\n    intent.putExtra(EXTRAS_BLOG, blog);\n    activity.startActivity(intent);\n}\n</code></pre>\n<p>Blog Class:</p>\n<pre><code>public class Blog implements Parcelable {\n\nprivate String id;\nprivate Author author;\nprivate String title;\nprivate String date;\nprivate String image;\nprivate String description;\nprivate int views;\nprivate float rating;\n\nprotected Blog(Parcel in) {\n    id = in.readString();\n    title = in.readString();\n    date = in.readString();\n    image = in.readString();\n    description = in.readString();\n    views = in.readInt();\n    rating = in.readFloat();\n    author = in.readParcelable(Author.class.getClassLoader());\n}\n\n@Override\npublic void writeToParcel(Parcel dest, int flags) {\n    dest.writeString(id);\n    dest.writeString(title);\n    dest.writeString(date);\n    dest.writeString(image);\n    dest.writeString(description);\n    dest.writeInt(views);\n    dest.writeFloat(rating);\n    dest.writeParcelable(author, 0);\n}\n\n@Override\npublic int describeContents() {\n    return 0;\n}\n\npublic static final Creator&lt;Blog&gt; CREATOR = new Creator&lt;Blog&gt;() {\n    @Override\n    public Blog createFromParcel(Parcel in) {\n        return new Blog(in);\n    }\n\n    @Override\n    public Blog[] newArray(int size) {\n        return new Blog[size];\n    }\n};\n\npublic String getTitle() {\n    return title;\n}\n\npublic String getDate() {\n    return date;\n}\n\npublic String getImage() {\n    return image;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic int getViews() {\n    return views;\n}\n\npublic float getRating() {\n    return rating;\n}\n\npublic Author getAuthor() {\n    return author;\n}\n\npublic void setAuthor(Author author) {\n    this.author = author;\n}\n\npublic String getId() {\n    return id;\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Blog blog = (Blog) o;\n    return views == blog.views &amp;&amp;\n            Float.compare(blog.rating, rating) == 0 &amp;&amp;\n            Objects.equals(id, blog.id) &amp;&amp;\n            Objects.equals(author, blog.author) &amp;&amp;\n            Objects.equals(title, blog.title) &amp;&amp;\n            Objects.equals(date, blog.date) &amp;&amp;\n            Objects.equals(image, blog.image) &amp;&amp;\n            Objects.equals(description, blog.description);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id, author, title, date, image, description, views, rating);\n}\n</code></pre>\n<p>This is Main Activity Class:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\nprivate MainAdapter adapter;\nprivate SwipeRefreshLayout refreshLayout;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    adapter = new MainAdapter(blog -&gt;\n            BlogActivity.startBlogDetailsActivity(this, blog));\n\n    RecyclerView recyclerView = findViewById(R.id.recylerView);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(adapter);\n\n\n    refreshLayout = findViewById(R.id.refresh);\n    refreshLayout.setOnRefreshListener(this::loadData);\n\n    loadData();\n}\n\nprivate void loadData()\n{\n    refreshLayout.setRefreshing(true);\n    BlogHttpClient.INSTANCE.loadBlogArticles(new BlogArticlesCallback() {\n        @Override\n        public void onSuccess(final List&lt;Blog&gt; blogList) {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    refreshLayout.setRefreshing(false);\n                    adapter.submitList(blogList);\n                }\n            });\n        }\n\n        @Override\n        public void onError() {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    refreshLayout.setRefreshing(false);\n                    showErrorSnackbar();\n                }\n            });\n\n        }\n    });\n}\n\nprivate void showErrorSnackbar() {\n    View rootView = findViewById(android.R.id.content);\n    Snackbar snackbar = Snackbar.make(rootView,&quot;Error during loading blog articles&quot;,\n            Snackbar.LENGTH_INDEFINITE);\n    snackbar.setActionTextColor(Color.parseColor(&quot;#e0af1f&quot;));\n    snackbar.setAction(&quot;Retry&quot;, v -&gt; {\n        loadData();\n        snackbar.dismiss();\n    });\n    snackbar.show();\n}\n</code></pre>\n<p>This is MainAdapter Class:</p>\n<pre><code>public class MainAdapter extends ListAdapter&lt;Blog, MainAdapter.MainViewHolder&gt;{\n\npublic interface OnItemClickListener{\n    void onItemClicked(Blog blog);\n}\n\nprivate OnItemClickListener clickListener;\n\npublic MainAdapter(OnItemClickListener clickListener){\n    super(DIFF_CALLBACK);\n    this.clickListener = clickListener;\n}\n\n@NonNull\n@Override\npublic MainAdapter.MainViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n{\n    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n    View view = inflater.inflate(R.layout.activity_listlayout,parent,false);\n    return new MainViewHolder(view, clickListener);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MainAdapter.MainViewHolder holder, int position)\n{\n    holder.bindTo(getItem(position));\n\n}\n\nstatic class MainViewHolder extends RecyclerView.ViewHolder\n{\n    private TextView textTitle;\n    private TextView textDate;\n    private ImageView imageAvatar;\n    private Blog blog;\n\n    public MainViewHolder(@NonNull View itemView, OnItemClickListener listener)\n    {\n        super(itemView);\n        itemView.setOnClickListener(view -&gt; listener.onItemClicked(blog));\n        textTitle = itemView.findViewById(R.id.textTitle);\n        textDate = itemView.findViewById(R.id.textDate);\n        imageAvatar = itemView.findViewById(R.id.imageAvatar);\n    }\n\n\n    void bindTo(Blog blog)\n    {\n        textTitle.setText(blog.getTitle());\n        textDate.setText(blog.getDate());\n\n        Glide.with(itemView)\n                .load(blog.getAuthor().getAvatar())\n                .transform(new CircleCrop())\n                .transition(DrawableTransitionOptions.withCrossFade())\n                .into(imageAvatar);\n    }\n}\n\nprivate static final DiffUtil.ItemCallback&lt;Blog&gt; DIFF_CALLBACK =\n        new DiffUtil.ItemCallback&lt;Blog&gt;()\n        {\n            @Override\n            public boolean areItemsTheSame(@NonNull Blog oldItem, @NonNull Blog newItem)\n            {\n                return oldItem.getId().equals(newItem.getId());\n            }\n\n            @Override\n            public boolean areContentsTheSame(@NonNull Blog oldItem, @NonNull Blog newItem)\n            {\n                return oldItem.equals(newItem);\n            }\n        };\n</code></pre>\n"},{"tags":["java","spring","spring-boot","redis","redis-sentinel"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1605762069,"creation_date":1605672254,"answer_id":64886917,"question_id":64809960,"body_markdown":"**Yes, it can be done.**\r\n\r\nFrom **[Spring Data Redis Docs - 10.4.4. Write to Master, Read from Replica][1] :**\r\n\r\n&gt; It is said that **Spring Data Redis** provides a **Redis Master/Replica setup** which not\r\n&gt; only allows data to be safely stored at more nodes but also allows\r\n&gt; reading data from replicas while pushing writes to the master by using\r\n&gt; **Lettuce**.\r\n\r\nFor this, you have to update `redisConnectionFactory()` method in the configuration class :\r\n\r\n     @Bean\r\n     public LettuceConnectionFactory redisConnectionFactory() {\r\n       LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\r\n                .readFrom(ReadFrom.REPLICA_PREFERRED)\r\n                .build();\r\n       RedisSentinelConfiguration sentinelConfig = new RedisSentinelConfiguration()\r\n                .master(redisProperties.getSentinel().getMaster());\r\n       redisProperties.getSentinel().getNodes().forEach(s -&gt; sentinelConfig.sentinel(s, redisProperties.getPort()));\r\n       sentinelConfig.setPassword(RedisPassword.of(redisProperties.getPassword()));\r\n       return new LettuceConnectionFactory(sentinelConfig, clientConfig);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#reference\r\n","title":"Spring Boot Caching with Redis Sentinel always connects to master node","body":"<p><strong>Yes, it can be done.</strong></p>\n<p>From <strong><a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#reference\" rel=\"nofollow noreferrer\">Spring Data Redis Docs - 10.4.4. Write to Master, Read from Replica</a> :</strong></p>\n<blockquote>\n<p>It is said that <strong>Spring Data Redis</strong> provides a <strong>Redis Master/Replica setup</strong> which not\nonly allows data to be safely stored at more nodes but also allows\nreading data from replicas while pushing writes to the master by using\n<strong>Lettuce</strong>.</p>\n</blockquote>\n<p>For this, you have to update <code>redisConnectionFactory()</code> method in the configuration class :</p>\n<pre><code> @Bean\n public LettuceConnectionFactory redisConnectionFactory() {\n   LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\n            .readFrom(ReadFrom.REPLICA_PREFERRED)\n            .build();\n   RedisSentinelConfiguration sentinelConfig = new RedisSentinelConfiguration()\n            .master(redisProperties.getSentinel().getMaster());\n   redisProperties.getSentinel().getNodes().forEach(s -&gt; sentinelConfig.sentinel(s, redisProperties.getPort()));\n   sentinelConfig.setPassword(RedisPassword.of(redisProperties.getPassword()));\n   return new LettuceConnectionFactory(sentinelConfig, clientConfig);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8199180,"reputation":890,"user_id":6171025,"display_name":"divilipir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605696808,"creation_date":1605696808,"answer_id":64891644,"question_id":64809960,"body_markdown":"if you want to write master and read only from **all** slaves(replicas), you can use below configuration.\r\n\r\nThese configurations include connection pooling,write to master and **read from all slave nodes with round-robin load balancing.**\r\n\r\n        @Bean\r\n        public RedisConnectionFactory lettuceConnectionFactory(RedisProperties redisProperties, LettucePoolingClientConfiguration lettucePoolingClientConfiguration) {\r\n            final RedisSentinelConfiguration redisSentinelConfiguration = new RedisSentinelConfiguration().master(redisProperties.getMaster());\r\n            redisSentinelConfiguration.setDatabase(redisProperties.getDbIndex());\r\n            addSentinels(redisProperties, redisSentinelConfiguration);\r\n            return new LettuceConnectionFactory(redisSentinelConfiguration, lettucePoolingClientConfiguration);\r\n        }\r\n    \r\n        private void addSentinels(RedisProperties redisProperties, RedisSentinelConfiguration redisSentinelConfiguration) {\r\n            redisProperties.getNodes()\r\n                    .forEach(node -&gt; {\r\n                        final String[] splitted = node.split(NODE_SPLITTER);\r\n                        final String host = splitted[0];\r\n                        final int port = Integer.parseInt(splitted[1]);\r\n                        redisSentinelConfiguration.addSentinel(RedisNode.newRedisNode()\r\n                                .listeningAt(host, port)\r\n                                .build());\r\n                    });\r\n        }\r\n    \r\n        @Bean\r\n        public LettucePoolingClientConfiguration lettucePoolingClientConfiguration(ClientOptions clientOptions, ClientResources clientResources, RedisProperties redisProperties) {\r\n            return LettucePoolingClientConfiguration.builder()\r\n                    .readFrom(ReadFrom.ANY_REPLICA)\r\n                    .poolConfig(genericObjectPoolConfig(redisProperties))\r\n                    .clientOptions(clientOptions)\r\n                    .clientResources(clientResources)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public GenericObjectPoolConfig genericObjectPoolConfig(RedisProperties redisProperties) {\r\n            final GenericObjectPoolConfig config = new GenericObjectPoolConfig();\r\n            config.setMaxIdle(redisProperties.getPoolMaxIdle());\r\n            config.setMinIdle(redisProperties.getPoolMinIdle());\r\n            config.setMaxTotal(redisProperties.getPoolMaxTotal());\r\n            config.setBlockWhenExhausted(false);\r\n            config.setMaxWaitMillis(redisProperties.getPoolMaxWaitMillis());\r\n            return config;\r\n        }\r\n    \r\n        @Bean\r\n        public ClientOptions clientOptions(RedisProperties redisProperties) {\r\n            return ClientOptions.builder()\r\n                    .autoReconnect(true)\r\n                    .disconnectedBehavior(ClientOptions.DisconnectedBehavior.REJECT_COMMANDS)\r\n                    .timeoutOptions(TimeoutOptions.builder().fixedTimeout(Duration.ofSeconds(redisProperties.getCommandTimedOutSec())).build())\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(destroyMethod = &quot;shutdown&quot;)\r\n        public ClientResources clientResources() {\r\n            return DefaultClientResources.create();\r\n        }\r\n\r\nyou should import new lettuce core version for load balance read mode(**ReadFrom.ANY_REPLICA**), it will come with spring-boot 2.4.0\r\n\r\npom.xml\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.1.RELEASE&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Spring Boot Caching with Redis Sentinel always connects to master node","body":"<p>if you want to write master and read only from <strong>all</strong> slaves(replicas), you can use below configuration.</p>\n<p>These configurations include connection pooling,write to master and <strong>read from all slave nodes with round-robin load balancing.</strong></p>\n<pre><code>    @Bean\n    public RedisConnectionFactory lettuceConnectionFactory(RedisProperties redisProperties, LettucePoolingClientConfiguration lettucePoolingClientConfiguration) {\n        final RedisSentinelConfiguration redisSentinelConfiguration = new RedisSentinelConfiguration().master(redisProperties.getMaster());\n        redisSentinelConfiguration.setDatabase(redisProperties.getDbIndex());\n        addSentinels(redisProperties, redisSentinelConfiguration);\n        return new LettuceConnectionFactory(redisSentinelConfiguration, lettucePoolingClientConfiguration);\n    }\n\n    private void addSentinels(RedisProperties redisProperties, RedisSentinelConfiguration redisSentinelConfiguration) {\n        redisProperties.getNodes()\n                .forEach(node -&gt; {\n                    final String[] splitted = node.split(NODE_SPLITTER);\n                    final String host = splitted[0];\n                    final int port = Integer.parseInt(splitted[1]);\n                    redisSentinelConfiguration.addSentinel(RedisNode.newRedisNode()\n                            .listeningAt(host, port)\n                            .build());\n                });\n    }\n\n    @Bean\n    public LettucePoolingClientConfiguration lettucePoolingClientConfiguration(ClientOptions clientOptions, ClientResources clientResources, RedisProperties redisProperties) {\n        return LettucePoolingClientConfiguration.builder()\n                .readFrom(ReadFrom.ANY_REPLICA)\n                .poolConfig(genericObjectPoolConfig(redisProperties))\n                .clientOptions(clientOptions)\n                .clientResources(clientResources)\n                .build();\n    }\n\n    @Bean\n    public GenericObjectPoolConfig genericObjectPoolConfig(RedisProperties redisProperties) {\n        final GenericObjectPoolConfig config = new GenericObjectPoolConfig();\n        config.setMaxIdle(redisProperties.getPoolMaxIdle());\n        config.setMinIdle(redisProperties.getPoolMinIdle());\n        config.setMaxTotal(redisProperties.getPoolMaxTotal());\n        config.setBlockWhenExhausted(false);\n        config.setMaxWaitMillis(redisProperties.getPoolMaxWaitMillis());\n        return config;\n    }\n\n    @Bean\n    public ClientOptions clientOptions(RedisProperties redisProperties) {\n        return ClientOptions.builder()\n                .autoReconnect(true)\n                .disconnectedBehavior(ClientOptions.DisconnectedBehavior.REJECT_COMMANDS)\n                .timeoutOptions(TimeoutOptions.builder().fixedTimeout(Duration.ofSeconds(redisProperties.getCommandTimedOutSec())).build())\n                .build();\n    }\n\n    @Bean(destroyMethod = &quot;shutdown&quot;)\n    public ClientResources clientResources() {\n        return DefaultClientResources.create();\n    }\n</code></pre>\n<p>you should import new lettuce core version for load balance read mode(<strong>ReadFrom.ANY_REPLICA</strong>), it will come with spring-boot 2.4.0</p>\n<p>pom.xml</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n                    &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7074458,"reputation":3504,"user_id":5415018,"display_name":"Urosh T."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4437,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64886917,"answer_count":2,"score":2,"last_activity_date":1664007447,"creation_date":1605206931,"question_id":64809960,"body_markdown":"I have a Spring Boot (2.3.1.RELEASE) app that has caching with Redis Sentinel.\r\nThis is my configuration for the Sentinel connection:\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n       RedisSentinelConfiguration sentinelConfig = new RedisSentinelConfiguration()\r\n                .master(redisProperties.getSentinel().getMaster());\r\n        redisProperties.getSentinel().getNodes().forEach(s -&gt; sentinelConfig.sentinel(s, redisProperties.getPort()));\r\n        sentinelConfig.setPassword(RedisPassword.of(redisProperties.getPassword()));\r\n        return new LettuceConnectionFactory(sentinelConfig);\r\n    }\r\n\r\n\r\nAnd this is my caching manager configuration:\r\n\r\n    @Bean\r\n    public RedisCacheManager cacheManager() {\r\n        Map&lt;String, RedisCacheConfiguration&gt; cacheConfigs = new HashMap&lt;&gt;();\r\n        cacheConfigs.put(&quot;cache1&quot;, RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(ttlMinutes)));\r\n        cacheConfigs.put(&quot;cache2&quot;, RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(ttlMinutes)));\r\n\r\n        return RedisCacheManager.builder(redisConnectionFactory())\r\n                .cacheDefaults(RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(ttlMinutes)))\r\n                .withInitialCacheConfigurations(cacheConfigs)\r\n                .transactionAware()\r\n                .build();\r\n    }\r\n\r\nEverything works fine from caching perspective.\r\n\r\nHowever, If I turn on debug logs inside the `io.lettuce.core.protocol.CommandHandler`, I see that it is always connecting to the same node (master). Which I can confirm by looking at the logs on the node.\r\n\r\nEverywhere I look online, this seems like the correct configuration.\r\n\r\nThis brings me to my question:\r\n\r\n- **Is it possible to configure the Spring caching abstraction to use the master node only for writes and the slave nodes for reads?**\r\n\r\nIs this expectation even valid? Or this is the way Sentinel is supposed to be used (all requests go to master)?","title":"Spring Boot Caching with Redis Sentinel always connects to master node","body":"<p>I have a Spring Boot (2.3.1.RELEASE) app that has caching with Redis Sentinel.\nThis is my configuration for the Sentinel connection:</p>\n<pre><code>@Bean\npublic LettuceConnectionFactory redisConnectionFactory() {\n   RedisSentinelConfiguration sentinelConfig = new RedisSentinelConfiguration()\n            .master(redisProperties.getSentinel().getMaster());\n    redisProperties.getSentinel().getNodes().forEach(s -&gt; sentinelConfig.sentinel(s, redisProperties.getPort()));\n    sentinelConfig.setPassword(RedisPassword.of(redisProperties.getPassword()));\n    return new LettuceConnectionFactory(sentinelConfig);\n}\n</code></pre>\n<p>And this is my caching manager configuration:</p>\n<pre><code>@Bean\npublic RedisCacheManager cacheManager() {\n    Map&lt;String, RedisCacheConfiguration&gt; cacheConfigs = new HashMap&lt;&gt;();\n    cacheConfigs.put(&quot;cache1&quot;, RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(ttlMinutes)));\n    cacheConfigs.put(&quot;cache2&quot;, RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(ttlMinutes)));\n\n    return RedisCacheManager.builder(redisConnectionFactory())\n            .cacheDefaults(RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(ttlMinutes)))\n            .withInitialCacheConfigurations(cacheConfigs)\n            .transactionAware()\n            .build();\n}\n</code></pre>\n<p>Everything works fine from caching perspective.</p>\n<p>However, If I turn on debug logs inside the <code>io.lettuce.core.protocol.CommandHandler</code>, I see that it is always connecting to the same node (master). Which I can confirm by looking at the logs on the node.</p>\n<p>Everywhere I look online, this seems like the correct configuration.</p>\n<p>This brings me to my question:</p>\n<ul>\n<li><strong>Is it possible to configure the Spring caching abstraction to use the master node only for writes and the slave nodes for reads?</strong></li>\n</ul>\n<p>Is this expectation even valid? Or this is the way Sentinel is supposed to be used (all requests go to master)?</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":5,"creation_date":1664001423,"post_id":73835199,"comment_id":130375919,"body_markdown":"`i` is changed inside of loop, so total number of iterations is not always 6, because of random it can be anything","body":"<code>i</code> is changed inside of loop, so total number of iterations is not always 6, because of random it can be anything"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1664001665,"post_id":73835199,"comment_id":130375948,"body_markdown":"Maybe it would be a good idea to use two different variables here - one for the loop index, and another to store the random number.  Maybe you could write `int r = (int)(Math.random()*45)+1;` instead of reusing `i`.","body":"Maybe it would be a good idea to use two different variables here - one for the loop index, and another to store the random number.  Maybe you could write <code>int r = (int)(Math.random()*45)+1;</code> instead of reusing <code>i</code>."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1664003297,"post_id":73835199,"comment_id":130376124,"body_markdown":"An important aspect of programming is **looking** at your code and **thinking** about what it is actually doing. If your condition is `i &lt; 6` and inside your loop you&#39;re reassigning `i` to something that is probably bigger than 6, then the loop will stop.","body":"An important aspect of programming is <b>looking</b> at your code and <b>thinking</b> about what it is actually doing. If your condition is <code>i &lt; 6</code> and inside your loop you&#39;re reassigning <code>i</code> to something that is probably bigger than 6, then the loop will stop."}],"answers":[{"tags":[],"owner":{"account_id":26429042,"reputation":46,"user_id":20075509,"display_name":"salihaaa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664005738,"creation_date":1664003332,"answer_id":73835358,"question_id":73835199,"body_markdown":"```\r\npublic class Random {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 6; i++)\r\n\t\t{\r\n\t\t\tint randomNumber = (int) (Math.random()*45)+1;\r\n\t\t\tSystem.out.println(&quot;Random number is: &quot; + randomNumber);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nuse different name to store the random number.","title":"How come this loop doesn&#39;t print out six numbers?","body":"<pre><code>public class Random {\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 6; i++)\n        {\n            int randomNumber = (int) (Math.random()*45)+1;\n            System.out.println(&quot;Random number is: &quot; + randomNumber);\n        }\n    }\n\n}\n</code></pre>\n<p>use different name to store the random number.</p>\n"}],"owner":{"account_id":26428867,"reputation":29,"user_id":20075359,"display_name":"BKjeon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":7,"up_vote_count":3,"closed_date":1664028631,"accepted_answer_id":73835358,"answer_count":1,"score":-4,"last_activity_date":1664005738,"creation_date":1664001155,"question_id":73835199,"body_markdown":"```\r\npackage p22_09_24;\r\n\r\npublic class Lotto2 {\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i=0; i &lt;6; i++) {\r\n\t\t\ti = (int)(Math.random()*45)+1;\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAs you can see, the exit is under the &#39;for&#39; which means it should loop six times, but the answer is only one num.","title":"How come this loop doesn&#39;t print out six numbers?","body":"<pre><code>package p22_09_24;\n\npublic class Lotto2 {\n    public static void main(String[] args) {\n        for (int i=0; i &lt;6; i++) {\n            i = (int)(Math.random()*45)+1;\n            System.out.println(i);\n        }\n    }\n}\n</code></pre>\n<p>As you can see, the exit is under the 'for' which means it should loop six times, but the answer is only one num.</p>\n"},{"tags":["java","spring-boot","arraylist","spring-data-jpa"],"comments":[{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1663154040,"post_id":73712776,"comment_id":130170858,"body_markdown":"You need to be a bit clearer about what you are trying to achieve. Are you just wanting to remove all entries in role_access table where roles have the given rolename ?","body":"You need to be a bit clearer about what you are trying to achieve. Are you just wanting to remove all entries in role_access table where roles have the given rolename ?"},{"owner":{"account_id":26331828,"reputation":13,"user_id":19992217,"display_name":"HKido"},"score":0,"creation_date":1663906728,"post_id":73712776,"comment_id":130353987,"body_markdown":"@johnnyutts okay, thank you. Yes I want to delete the access in the role. I do checking in RoleService file.                    \n                                     &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;  public void removeRoleAccess(Role role, String accName) {\n        Optional&lt;Access&gt; accessName = accessRepository.findByAccName(accName);\n\n        if (!accessName.isPresent()) {\n            throw new CustEmailNotFoundexception(&quot;Access name cannot be null&quot;);\n        }\n\n        role.getAccess().remove(accessName.get());\n    }","body":"@johnnyutts okay, thank you. Yes I want to delete the access in the role. I do checking in RoleService file.                                                                                                      public void removeRoleAccess(Role role, String accName) {         Optional&lt;Access&gt; accessName = accessRepository.findByAccName(accName);          if (!accessName.isPresent()) {             throw new CustEmailNotFoundexception(&quot;Access name cannot be null&quot;);         }          role.getAccess().remove(accessName.get());     }"}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664005399,"creation_date":1664005399,"answer_id":73835544,"question_id":73712776,"body_markdown":"I think you are over complicating things a bit with your service which can be simplified to something like this\r\n```\r\n    @Transactional\r\n    public ResponseEntity&lt;Object&gt; deleteRoleToAccess(String roleName) {\r\n        Optional&lt;Role&gt; optionalRole = roleRepository.findByRoleName(roleName);\r\n        if (!optionalRole.isPresent()) {\r\n            return ResponseEntity.unprocessableEntity().body(&quot;Role name not found&quot;);\r\n        }\r\n\r\n        Role role = optionalRole.get();\r\n\r\n        List&lt;Access&gt; removeList = new ArrayList&lt;&gt;(role.getAccesses());\r\n        for (Access access : removeList) {\r\n            role.removeAccess(access);\r\n        }\r\n\r\n        return ResponseEntity.ok(&quot;access is successfully delete&quot;);\r\n    }\r\n```\r\nBut to do so you need to make changes to your entities\r\n```\r\n// Role\r\n@Entity\r\npublic class Role {\r\n    @Id\r\n    @Column(name = &quot;rid&quot;)\r\n    private Long rid;\r\n    private String roleName;\r\n\r\n    @ManyToMany(\r\n            fetch = FetchType.EAGER,\r\n            cascade = {\r\n                    CascadeType.PERSIST,\r\n                    CascadeType.MERGE\r\n            }\r\n    )\r\n    @JoinTable(name = &quot;role_access&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;roleId&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;rid&quot;)\r\n    )\r\n    private List&lt;Access&gt; accesses = new ArrayList&lt;&gt;();\r\n\r\n    public Long getRid() {\r\n        return rid;\r\n    }\r\n\r\n    public void setRid(Long rid) {\r\n        this.rid = rid;\r\n    }\r\n\r\n    public String getRoleName() {\r\n        return roleName;\r\n    }\r\n\r\n    public void setRoleName(String roleName) {\r\n        this.roleName = roleName;\r\n    }\r\n\r\n    public List&lt;Access&gt; getAccesses() {\r\n        return accesses;\r\n    }\r\n\r\n    public void addAccess(Access access) {\r\n        accesses.add(access);\r\n        access.getRoles().add(this);\r\n    }\r\n\r\n    public void removeAccess(Access access) {\r\n        accesses.remove(access);\r\n        access.getRoles().remove(this);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Role role = (Role) o;\r\n        return getRid().equals(role.getRid());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getRid());\r\n    }\r\n}\r\n\r\n// Access\r\n@Entity\r\npublic class Access {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long accessId;\r\n    private String accName;\r\n\r\n    @ManyToMany(mappedBy = &quot;accesses&quot;)\r\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n    public Long getAccessId() {\r\n        return accessId;\r\n    }\r\n\r\n    public void setAccessId(Long accessId) {\r\n        this.accessId = accessId;\r\n    }\r\n\r\n    public String getAccName() {\r\n        return accName;\r\n    }\r\n\r\n    public void setAccName(String accName) {\r\n        this.accName = accName;\r\n    }\r\n\r\n    public List&lt;Role&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Access access = (Access) o;\r\n        return getAccessId().equals(access.getAccessId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getAccessId());\r\n    }\r\n}\r\n```","title":"How to delete specific data from join table(role_acces) in springboot jpa","body":"<p>I think you are over complicating things a bit with your service which can be simplified to something like this</p>\n<pre><code>    @Transactional\n    public ResponseEntity&lt;Object&gt; deleteRoleToAccess(String roleName) {\n        Optional&lt;Role&gt; optionalRole = roleRepository.findByRoleName(roleName);\n        if (!optionalRole.isPresent()) {\n            return ResponseEntity.unprocessableEntity().body(&quot;Role name not found&quot;);\n        }\n\n        Role role = optionalRole.get();\n\n        List&lt;Access&gt; removeList = new ArrayList&lt;&gt;(role.getAccesses());\n        for (Access access : removeList) {\n            role.removeAccess(access);\n        }\n\n        return ResponseEntity.ok(&quot;access is successfully delete&quot;);\n    }\n</code></pre>\n<p>But to do so you need to make changes to your entities</p>\n<pre><code>// Role\n@Entity\npublic class Role {\n    @Id\n    @Column(name = &quot;rid&quot;)\n    private Long rid;\n    private String roleName;\n\n    @ManyToMany(\n            fetch = FetchType.EAGER,\n            cascade = {\n                    CascadeType.PERSIST,\n                    CascadeType.MERGE\n            }\n    )\n    @JoinTable(name = &quot;role_access&quot;,\n            joinColumns = @JoinColumn(name = &quot;roleId&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;rid&quot;)\n    )\n    private List&lt;Access&gt; accesses = new ArrayList&lt;&gt;();\n\n    public Long getRid() {\n        return rid;\n    }\n\n    public void setRid(Long rid) {\n        this.rid = rid;\n    }\n\n    public String getRoleName() {\n        return roleName;\n    }\n\n    public void setRoleName(String roleName) {\n        this.roleName = roleName;\n    }\n\n    public List&lt;Access&gt; getAccesses() {\n        return accesses;\n    }\n\n    public void addAccess(Access access) {\n        accesses.add(access);\n        access.getRoles().add(this);\n    }\n\n    public void removeAccess(Access access) {\n        accesses.remove(access);\n        access.getRoles().remove(this);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Role role = (Role) o;\n        return getRid().equals(role.getRid());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getRid());\n    }\n}\n\n// Access\n@Entity\npublic class Access {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long accessId;\n    private String accName;\n\n    @ManyToMany(mappedBy = &quot;accesses&quot;)\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n\n    public Long getAccessId() {\n        return accessId;\n    }\n\n    public void setAccessId(Long accessId) {\n        this.accessId = accessId;\n    }\n\n    public String getAccName() {\n        return accName;\n    }\n\n    public void setAccName(String accName) {\n        this.accName = accName;\n    }\n\n    public List&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Access access = (Access) o;\n        return getAccessId().equals(access.getAccessId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getAccessId());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26331828,"reputation":13,"user_id":19992217,"display_name":"HKido"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73835544,"answer_count":1,"score":0,"last_activity_date":1664005399,"creation_date":1663139189,"question_id":73712776,"body_markdown":"I have an issue with this error, I want to delete the specific data from join table role_access, but delete random data inside the table. I applied many to many mapping which consist of role, access and linked table role_access. i have tried remove() using iterator but doesn&#39;t worked.Anyone please help me, thank you.\r\n\r\nHere I share my code:\r\n\r\nRole.java\r\n  \r\n\r\n        @ManyToMany(fetch = FetchType.EAGER, cascade = { CascadeType.REFRESH, CascadeType.MERGE, CascadeType.REMOVE,\r\n            CascadeType.PERSIST })\r\n    @JoinTable(name = &quot;role_access&quot;, joinColumns = {\r\n            @JoinColumn(name = &quot;roleId&quot;, referencedColumnName = &quot;rid&quot;) }, inverseJoinColumns = {\r\n                    @JoinColumn(name = &quot;accessId&quot;, referencedColumnName = &quot;id&quot;) })\r\n    private List&lt;Access&gt; access = new ArrayList&lt;&gt;();\r\n\r\n\r\nRoleController.java\r\n\r\n        @PostMapping(&quot;/delete/access/{roleName}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteRoleAccess(@PathVariable String roleName) {\r\n        return roleService.deleteRoleToAccess(roleName);\r\n    }\r\n\r\nRoleRepository.java\r\n\r\n    @Repository\r\n    public interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n\r\n    Optional&lt;Role&gt; findByRoleName(String roleName);\r\n\r\n    Optional&lt;Role&gt; findByRid(Long rid); }\r\n\r\n\r\nRoleService.java\r\n\r\n        public ResponseEntity&lt;Object&gt; deleteRoleToAccess(String roleName) {\r\n        if (roleRepository.findByRoleName(roleName).isPresent()) {\r\n            Role r = roleRepository.findByRoleName(roleName).get();\r\n\r\n            for (int i = 0; i &lt; r.getAccess().size(); i++) {\r\n                if (accessRepository.findByAccName(r.getAccess().get(i).getAccName()).isPresent()) {\r\n                    Access access = r.getAccess().get(i);\r\n\r\n                    delAccess(r, access.getAccName());\r\n                } else\r\n                    return ResponseEntity.unprocessableEntity().body(&quot;Role name not found&quot;);\r\n            }\r\n            roleRepository.save(r);\r\n        }\r\n        return ResponseEntity.ok(&quot;access is successfully delete&quot;);\r\n    }\r\n\r\n\r\n\r\n        public void delAccess(Role role, String accName) {\r\n\r\n        Optional&lt;Access&gt; aOpt = accessRepository.findByAccName(accName);\r\n\r\n        if (!aOpt.isPresent()) {\r\n            throw new CustEmailNotFoundexception(&quot;Access name cannot be null&quot;);\r\n        }\r\n        if (aOpt.isPresent() &amp;&amp; aOpt.equals(aOpt)) {\r\n            role.getAccess().remove(aOpt.get());\r\n        }}","title":"How to delete specific data from join table(role_acces) in springboot jpa","body":"<p>I have an issue with this error, I want to delete the specific data from join table role_access, but delete random data inside the table. I applied many to many mapping which consist of role, access and linked table role_access. i have tried remove() using iterator but doesn't worked.Anyone please help me, thank you.</p>\n<p>Here I share my code:</p>\n<p>Role.java</p>\n<pre><code>    @ManyToMany(fetch = FetchType.EAGER, cascade = { CascadeType.REFRESH, CascadeType.MERGE, CascadeType.REMOVE,\n        CascadeType.PERSIST })\n@JoinTable(name = &quot;role_access&quot;, joinColumns = {\n        @JoinColumn(name = &quot;roleId&quot;, referencedColumnName = &quot;rid&quot;) }, inverseJoinColumns = {\n                @JoinColumn(name = &quot;accessId&quot;, referencedColumnName = &quot;id&quot;) })\nprivate List&lt;Access&gt; access = new ArrayList&lt;&gt;();\n</code></pre>\n<p>RoleController.java</p>\n<pre><code>    @PostMapping(&quot;/delete/access/{roleName}&quot;)\npublic ResponseEntity&lt;Object&gt; deleteRoleAccess(@PathVariable String roleName) {\n    return roleService.deleteRoleToAccess(roleName);\n}\n</code></pre>\n<p>RoleRepository.java</p>\n<pre><code>@Repository\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\n\nOptional&lt;Role&gt; findByRoleName(String roleName);\n\nOptional&lt;Role&gt; findByRid(Long rid); }\n</code></pre>\n<p>RoleService.java</p>\n<pre><code>    public ResponseEntity&lt;Object&gt; deleteRoleToAccess(String roleName) {\n    if (roleRepository.findByRoleName(roleName).isPresent()) {\n        Role r = roleRepository.findByRoleName(roleName).get();\n\n        for (int i = 0; i &lt; r.getAccess().size(); i++) {\n            if (accessRepository.findByAccName(r.getAccess().get(i).getAccName()).isPresent()) {\n                Access access = r.getAccess().get(i);\n\n                delAccess(r, access.getAccName());\n            } else\n                return ResponseEntity.unprocessableEntity().body(&quot;Role name not found&quot;);\n        }\n        roleRepository.save(r);\n    }\n    return ResponseEntity.ok(&quot;access is successfully delete&quot;);\n}\n\n\n\n    public void delAccess(Role role, String accName) {\n\n    Optional&lt;Access&gt; aOpt = accessRepository.findByAccName(accName);\n\n    if (!aOpt.isPresent()) {\n        throw new CustEmailNotFoundexception(&quot;Access name cannot be null&quot;);\n    }\n    if (aOpt.isPresent() &amp;&amp; aOpt.equals(aOpt)) {\n        role.getAccess().remove(aOpt.get());\n    }}\n</code></pre>\n"},{"tags":["java","unit-testing","groovy","spock"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1663876254,"post_id":73819014,"comment_id":130348826,"body_markdown":"Does normal mocking, i.e., 1 * log.error(*_) not work?","body":"Does normal mocking, i.e., 1 * log.error(*_) not work?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1664012616,"post_id":73819014,"comment_id":130377486,"body_markdown":"Please learn what an [MCVE](https://stackoverflow.com/help/mcve) is and edit your question accordingly. Thank you so much. Please also do not post longer code snippets in comments like you did before. They are unreadable. Instead, edit the question and notify others via a short comment. At least, plese let me know which logging framework in which version you are using. Some of your classes and method calls suggest Logback, others look more like Log4J. Otherwise, the best I can do is write a speculative answer, which might not be very helpful.","body":"Please learn what an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> is and edit your question accordingly. Thank you so much. Please also do not post longer code snippets in comments like you did before. They are unreadable. Instead, edit the question and notify others via a short comment. At least, plese let me know which logging framework in which version you are using. Some of your classes and method calls suggest Logback, others look more like Log4J. Otherwise, the best I can do is write a speculative answer, which might not be very helpful."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1664012715,"post_id":73819014,"comment_id":130377501,"body_markdown":"Besides, what stops you from removing the `final` specifier from the logger declaration, other than convention? Then it would be easily mockable without the need to define a mock appender. Without add-ons to Spock or manual use of reflection, you cannot assign a mock to the logger field. This is the main reason why you need the suggested appender in the first place.","body":"Besides, what stops you from removing the <code>final</code> specifier from the logger declaration, other than convention? Then it would be easily mockable without the need to define a mock appender. Without add-ons to Spock or manual use of reflection, you cannot assign a mock to the logger field. This is the main reason why you need the suggested appender in the first place."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1664090369,"post_id":73819014,"comment_id":130388430,"body_markdown":"I decided to close the question as a duplicate. Just follow the link to the other question above to see a full example of a class logging with SLF4J and a data-driven Spock spec verifying various logging scenarios and log channels, utilising a mocked Logback appender. There is also a link to the code in GWC (Groovy Web Console), i.e. you can easily run the example right in your web browser. If you have any further questions, feel free to comment here.","body":"I decided to close the question as a duplicate. Just follow the link to the other question above to see a full example of a class logging with SLF4J and a data-driven Spock spec verifying various logging scenarios and log channels, utilising a mocked Logback appender. There is also a link to the code in GWC (Groovy Web Console), i.e. you can easily run the example right in your web browser. If you have any further questions, feel free to comment here."}],"answers":[{"tags":[],"owner":{"account_id":76251,"reputation":2214,"user_id":218441,"accept_rate":75,"display_name":"Jocke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663872310,"creation_date":1663872310,"answer_id":73819370,"question_id":73819014,"body_markdown":"You need to test the **behaviour** that\r\n            \r\n\r\n    ct =  jdbcTemplate.update(query, new Object[] {transError.col1(),transError.col2(), transError.col3(),transError.col4(),transError.col5()});\r\n\r\nfailed. Or, I don&#39;t really like this myself, you can check that the `logger.error()` was called.","title":"Java spock - how to test catch() block that doesnt throw exception back","body":"<p>You need to test the <strong>behaviour</strong> that</p>\n<pre><code>ct =  jdbcTemplate.update(query, new Object[] {transError.col1(),transError.col2(), transError.col3(),transError.col4(),transError.col5()});\n</code></pre>\n<p>failed. Or, I don't really like this myself, you can check that the <code>logger.error()</code> was called.</p>\n"}],"owner":{"account_id":19792887,"reputation":33,"user_id":14495510,"display_name":"PravMan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1664090150,"answer_count":1,"score":1,"last_activity_date":1664004844,"creation_date":1663869987,"question_id":73819014,"body_markdown":"How to test the below java catch block where in catch() doesnt throw exception back.\r\n\r\n```java\r\nclass ErrorTransImpl {\r\n  private static final Logger logger = Logger.getLogger(ErrorTransImpl.class);\r\n\r\n  public int errorCatcher(ErrorTrans transError){\r\n    int ct = 0;\r\n    if (transError != null){\r\n      String query = &quot;INSERT INTO tab_1 (rw1,rw2,rw3,rw4,rw5) VALUES (?,?,?,?,?)&quot;;\r\n      try {\r\n        ct =  jdbcTemplate.update(query, new Object[] {transError.col1(),transError.col2(), transError.col3(),transError.col4(),transError.col5()});\r\n      }catch (DataAccessException ex) {\r\n        logger.error(ex);\r\n      }\r\n    }\r\n    return ct;\r\n  }\r\n}\r\n```\r\n\r\nI tried testing as below, but:\r\n1&gt;Unable to get into catch block.\r\n2&gt; Unable to test catch() even if inside as it doesnt throw exception back.\r\n\r\n```java\r\ndef &#39;throw DataAccess Exception upon incorrect update&#39;() {\r\n  given:\r\n  def log = Mock(Logger)\r\n  def originalLogger = ErrorTransImpl.logger\r\n  ErrorTransImpl.logger = log\r\n  ErrorTransImpl errTransImpl = Spy() {\r\n    jdbcTemplate &gt;&gt; {\r\n      throw new DataAccessException() {\r\n        @Override\r\n        String getMessage() {\r\n          return super.getMessage()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  when:\r\n  errTransImpl.errorCatcher(new ErrorTrans())\r\n\r\n  then:\r\n  //            thrown DataAccessException\r\n  //Not sure what to assert or test here ??\r\n}    \r\n```\r\n\r\nCan anyone help on how i test this?\r\n","title":"Java spock - how to test catch() block that doesnt throw exception back","body":"<p>How to test the below java catch block where in catch() doesnt throw exception back.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ErrorTransImpl {\n  private static final Logger logger = Logger.getLogger(ErrorTransImpl.class);\n\n  public int errorCatcher(ErrorTrans transError){\n    int ct = 0;\n    if (transError != null){\n      String query = &quot;INSERT INTO tab_1 (rw1,rw2,rw3,rw4,rw5) VALUES (?,?,?,?,?)&quot;;\n      try {\n        ct =  jdbcTemplate.update(query, new Object[] {transError.col1(),transError.col2(), transError.col3(),transError.col4(),transError.col5()});\n      }catch (DataAccessException ex) {\n        logger.error(ex);\n      }\n    }\n    return ct;\n  }\n}\n</code></pre>\n<p>I tried testing as below, but:\n1&gt;Unable to get into catch block.\n2&gt; Unable to test catch() even if inside as it doesnt throw exception back.</p>\n<pre class=\"lang-java prettyprint-override\"><code>def 'throw DataAccess Exception upon incorrect update'() {\n  given:\n  def log = Mock(Logger)\n  def originalLogger = ErrorTransImpl.logger\n  ErrorTransImpl.logger = log\n  ErrorTransImpl errTransImpl = Spy() {\n    jdbcTemplate &gt;&gt; {\n      throw new DataAccessException() {\n        @Override\n        String getMessage() {\n          return super.getMessage()\n        }\n      }\n    }\n  }\n\n  when:\n  errTransImpl.errorCatcher(new ErrorTrans())\n\n  then:\n  //            thrown DataAccessException\n  //Not sure what to assert or test here ??\n}    \n</code></pre>\n<p>Can anyone help on how i test this?</p>\n"},{"tags":["java","swing","jbutton","jlabel","layout-manager"],"comments":[{"owner":{"account_id":135551,"reputation":10091,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"score":2,"creation_date":1372017810,"post_id":17264761,"comment_id":25025276,"body_markdown":"That&#39;s one thing I like about Eclipse; it will figure out what imports you need and add them for you.","body":"That&#39;s one thing I like about Eclipse; it will figure out what imports you need and add them for you."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1372017826,"post_id":17264761,"comment_id":25025282,"body_markdown":"Don&#39;t use setBounds() to set the size and location of a component. Let the layout manager do its job. That is if fact what is happening. A JPanel uses a FlowLayout, so the components are being positioned based on the rules of the FlowLayout.","body":"Don&#39;t use setBounds() to set the size and location of a component. Let the layout manager do its job. That is if fact what is happening. A JPanel uses a FlowLayout, so the components are being positioned based on the rules of the FlowLayout."},{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1372017927,"post_id":17264761,"comment_id":25025319,"body_markdown":"1) In general, avoid importing whole packages (`import awt.*`) as it is bad practice, 2) if they are from the Java API, you can leave them out of the question as most people will already know the classes.","body":"1) In general, avoid importing whole packages (<code>import awt.*</code>) as it is bad practice, 2) if they are from the Java API, you can leave them out of the question as most people will already know the classes."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1372018033,"post_id":17264761,"comment_id":25025350,"body_markdown":"I like the imports included with a SSCCE because I don&#39;t use an IDE and I don&#39;t like typing them in myself.","body":"I like the imports included with a SSCCE because I don&#39;t use an IDE and I don&#39;t like typing them in myself."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1372056598,"post_id":17264761,"comment_id":25033536,"body_markdown":"Please learn java naming conventions and stick to them.","body":"Please learn java naming conventions and stick to them."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1372017900,"creation_date":1372017900,"answer_id":17264809,"question_id":17264761,"body_markdown":"Don&#39;t use setBounds() to set the size and location of a component. \r\n\r\nLet the layout manager do its job. That is if fact what is happening. A JPanel uses a `FlowLayout`, so the components are being positioned based on the rules of the FlowLayout. You can change the FlowLayout to align components to the left if you want. Or you can use a different layout manager.\r\n\r\nRead the Swing tutorial on [Layout Managers][1] to find other layout managers you can use.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","title":".setBounds not working for JLabel and JButton","body":"<p>Don't use setBounds() to set the size and location of a component. </p>\n\n<p>Let the layout manager do its job. That is if fact what is happening. A JPanel uses a <code>FlowLayout</code>, so the components are being positioned based on the rules of the FlowLayout. You can change the FlowLayout to align components to the left if you want. Or you can use a different layout manager.</p>\n\n<p>Read the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\">Layout Managers</a> to find other layout managers you can use.</p>\n"},{"tags":[],"owner":{"account_id":2006064,"reputation":7616,"user_id":1795924,"accept_rate":82,"display_name":"Ericson Willians"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1372019093,"creation_date":1372019093,"answer_id":17264976,"question_id":17264761,"body_markdown":"    public yo() {\r\n        frame.add(panel);\r\n        frame.setTitle(&quot;Hello&quot;);\r\n        frame.setSize(500,500);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        frame.setLocationRelativeTo(null);\r\n        panel.setLayout(null);\r\n        panel.add(heloo);\r\n        panel.add(button);\r\n        button.setBounds(200,100,200,100);\r\n        heloo.setBounds(100,100,100,100);\r\n        button.addMouseListener(this);\r\n    }\r\n\r\nBy setting the layout of the JPanel to null, it will be in the &quot;Absolute Layout&quot;, and then you&#39;ll be able to set the position of the JLabel and JButton with setBounds().  ","title":".setBounds not working for JLabel and JButton","body":"<pre><code>public yo() {\n    frame.add(panel);\n    frame.setTitle(\"Hello\");\n    frame.setSize(500,500);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n    frame.setLocationRelativeTo(null);\n    panel.setLayout(null);\n    panel.add(heloo);\n    panel.add(button);\n    button.setBounds(200,100,200,100);\n    heloo.setBounds(100,100,100,100);\n    button.addMouseListener(this);\n}\n</code></pre>\n\n<p>By setting the layout of the JPanel to null, it will be in the \"Absolute Layout\", and then you'll be able to set the position of the JLabel and JButton with setBounds().  </p>\n"},{"tags":[],"owner":{"account_id":26429107,"reputation":1,"user_id":20075561,"display_name":"Saleema Peridot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664003883,"creation_date":1664003883,"answer_id":73835407,"question_id":17264761,"body_markdown":"        JLabel jlabel=new JLabel();\r\n\t\tjlabel.setText(&quot; operation calculator&quot;);\r\n\t\tjlabel.setBounds(3,40,450,40);\r\n\t\t\r\n\t\tjlabel.setForeground(Color.green);\r\n\t\t\r\n\t\tjlabel.setBackground(Color.blue);`enter code here`\r\n\t\tjlabel.setOpaque(true);\r\n\t\tjframe.add(jlabel);","title":".setBounds not working for JLabel and JButton","body":"<pre><code>    JLabel jlabel=new JLabel();\n    jlabel.setText(&quot; operation calculator&quot;);\n    jlabel.setBounds(3,40,450,40);\n    \n    jlabel.setForeground(Color.green);\n    \n    jlabel.setBackground(Color.blue);`enter code here`\n    jlabel.setOpaque(true);\n    jframe.add(jlabel);\n</code></pre>\n"}],"owner":{"account_id":2671053,"reputation":15,"user_id":2308464,"display_name":"James Loughlin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19138,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":3,"score":-1,"last_activity_date":1664003883,"creation_date":1372017652,"question_id":17264761,"body_markdown":"I am trying to change the positioning of a JLabel and a JButton on my GUI. Even though I try to use .setBounds to change their locations; they both just appear in the top centre of the screen. \r\n\r\n    import java.awt.color.*;\r\n    import java.awt.font.*;\r\n    import java.awt.Graphics;\r\n    import java.awt.Image;\r\n    import javax.swing.*;\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    import java.awt.*;\r\n    import javax.swing.UIManager.*;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n\r\n    public class yo implements MouseListener {\r\n\r\n\tImage image;\r\n\tJButton button = new JButton(&quot;Wassup&quot;);\r\n\tJFrame frame = new JFrame();\r\n\tJLabel heloo = new JLabel(&quot;yo&quot;);\r\n\tJPanel panel = new JPanel()\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void paintComponent(Graphics g)\r\n\t\t{\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t\tImageIcon i = new ImageIcon(&quot;hi.jpg&quot;);\r\n\t\t\timage = i.getImage();\r\n\t\t\tg.drawImage(image,150,150,null);\r\n\t\t\tg.drawString(&quot;Hello&quot;,100,100);\r\n\t\t\tg.drawString(&quot;Hi&quot;,50,50);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\tpublic yo()\r\n\t{\r\n\t\tframe.add(panel);\r\n\t\tframe.setTitle(&quot;Hello&quot;);\r\n\t\tframe.setSize(500,500);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tpanel.add(heloo);\r\n\t\tpanel.add(button);\r\n\t\tbutton.setBounds(200,100,200,100);\r\n\t\theloo.setBounds(100,100,100,100);\r\n\t\tbutton.addMouseListener(this);\r\n\t}\r\n\t\r\n\tpublic void mouseClicked (MouseEvent event)\r\n\t{\r\n\t\theloo.setText(String.format(&quot;Clicked at %d,%d&quot;, event.getX(), event.getY()));\r\n\t}\r\n\tpublic void mouseEntered (MouseEvent Event){}\r\n\tpublic void mouseExited (MouseEvent Event){}\r\n\tpublic void mousePressed (MouseEvent Event){}\r\n\tpublic void mouseReleased (MouseEvent Event){}\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tnew yo();\r\n\t}\r\n    }\r\n\r\nI apologise about all of the imports, I don&#39;t really know which ones I need and which ones are just pointless.\r\n\r\nBasically I would like some help on how to change the positioning of my components.","title":".setBounds not working for JLabel and JButton","body":"<p>I am trying to change the positioning of a JLabel and a JButton on my GUI. Even though I try to use .setBounds to change their locations; they both just appear in the top centre of the screen. </p>\n\n<pre><code>import java.awt.color.*;\nimport java.awt.font.*;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport javax.swing.*;\nimport javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.*;\nimport javax.swing.UIManager.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\n\npublic class yo implements MouseListener {\n\nImage image;\nJButton button = new JButton(\"Wassup\");\nJFrame frame = new JFrame();\nJLabel heloo = new JLabel(\"yo\");\nJPanel panel = new JPanel()\n{\n    @Override\n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n        ImageIcon i = new ImageIcon(\"hi.jpg\");\n        image = i.getImage();\n        g.drawImage(image,150,150,null);\n        g.drawString(\"Hello\",100,100);\n        g.drawString(\"Hi\",50,50);\n    }\n};\n\n\npublic yo()\n{\n    frame.add(panel);\n    frame.setTitle(\"Hello\");\n    frame.setSize(500,500);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n    frame.setLocationRelativeTo(null);\n    panel.add(heloo);\n    panel.add(button);\n    button.setBounds(200,100,200,100);\n    heloo.setBounds(100,100,100,100);\n    button.addMouseListener(this);\n}\n\npublic void mouseClicked (MouseEvent event)\n{\n    heloo.setText(String.format(\"Clicked at %d,%d\", event.getX(), event.getY()));\n}\npublic void mouseEntered (MouseEvent Event){}\npublic void mouseExited (MouseEvent Event){}\npublic void mousePressed (MouseEvent Event){}\npublic void mouseReleased (MouseEvent Event){}\n\npublic static void main(String[] args)\n{\n    new yo();\n}\n}\n</code></pre>\n\n<p>I apologise about all of the imports, I don't really know which ones I need and which ones are just pointless.</p>\n\n<p>Basically I would like some help on how to change the positioning of my components.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1663967336,"post_id":73832839,"comment_id":130372288,"body_markdown":"Stack Overflow is for programming questions, not for arbitrary posts. You could move this to an answer to some question, including [a question that you ask yourself](https://stackoverflow.com/help/self-answer).","body":"Stack Overflow is for programming questions, not for arbitrary posts. You could move this to an answer to some question, including <a href=\"https://stackoverflow.com/help/self-answer\">a question that you ask yourself</a>."}],"answers":[{"tags":[],"owner":{"account_id":26395389,"reputation":11,"user_id":20046611,"display_name":"Abdullah Hammad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663976490,"creation_date":1663976490,"answer_id":73833828,"question_id":73832839,"body_markdown":"Here is the code I wrote a code in java language. I translated it from a fellow member who have written in Kotlin language.\r\n\r\nIn AndroidManifest.xml add the following lines just before &lt;/application&gt;\r\n\r\n    &lt;provider\r\n    android:name=&quot;androidx.core.content.FileProvider&quot;\r\n    android:authorities=&quot;${applicationId}.provider&quot;\r\n    android:exported=&quot;false&quot;\r\n    android:grantUriPermissions=&quot;true&quot;&gt;\r\n    &lt;meta-data\r\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n        android:resource=&quot;@xml/file_path&quot; /&gt;\r\n    &lt;/provider&gt;\r\nAfter that create an xml resource file name file_path. Then copy the below code there.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;root-path\r\n        name=&quot;root&quot;\r\n        path=&quot;/&quot;/&gt;\r\n    &lt;/paths&gt;\r\n\r\nThen go in that java class where you are doing sharing. There we create new functions. These actually create an empty file in files directory, then copy the content of asset to file and create a share intent then.\r\n\r\n    private File createFileInFilesDir(String filename) throws IOException {\r\n        File file = new File(getFilesDir().getPath()+&quot;/&quot;+filename);\r\n        if (file.exists()) {\r\n            if (!file.delete()) {\r\n                throw new IOException();\r\n            }\r\n        }\r\n        if (!file.createNewFile()) {\r\n            throw new IOException();\r\n        }\r\n        return file;\r\n    }\r\n    private void copyAssetToFile(String assetName, File file) throws IOException {\r\n        byte[] buffer = new byte[1024];\r\n        InputStream inputStream = getAssets().open(assetName);\r\n        OutputStream outputStream = new FileOutputStream(file);\r\n        while (inputStream.read(buffer) &gt; 0) {\r\n            outputStream.write(buffer);\r\n        }\r\n    }\r\n    private Intent createIntentForFile(File file, String intentAction) {\r\n        Uri uri = FileProvider.getUriForFile(this, getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\r\n        Intent intent = new Intent(intentAction);\r\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        intent.setDataAndType(uri, &quot;application/pdf&quot;);\r\n        intent.putExtra(Intent.EXTRA_STREAM,uri);\r\n        return intent;\r\n    }\r\n    private void sharePdfAsset(String assetName, String intentAction) throws IOException {\r\n        try {\r\n            File file = createFileInFilesDir(assetName);\r\n            copyAssetToFile(assetName, file);\r\n            Intent intent = createIntentForFile(file, intentAction);\r\n\r\n            startActivity(Intent.createChooser(intent, &quot;Sharing PDF&quot;));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(R.string.error)\r\n                    .setMessage(R.string.share_error)\r\n                    .show();\r\n        }\r\n    }\r\n\r\nActually I am using a proper share button to share pdf on action bar so I used onoptionsItemselected method.\r\n\r\n     public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        // We are using switch case because multiple icons can be kept\r\n        switch (item.getItemId()) {\r\n            case R.id.shareButton:\r\n                try {\r\n                    sharePdfAsset(&quot;your_file_name.pdf&quot;, Intent.ACTION_SEND);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n\r\nIf anyone else had done this in easier way please share.","title":"How to Share PDF from Assets Folder","body":"<p>Here is the code I wrote a code in java language. I translated it from a fellow member who have written in Kotlin language.</p>\n<p>In AndroidManifest.xml add the following lines just before </p>\n<pre><code>&lt;provider\nandroid:name=&quot;androidx.core.content.FileProvider&quot;\nandroid:authorities=&quot;${applicationId}.provider&quot;\nandroid:exported=&quot;false&quot;\nandroid:grantUriPermissions=&quot;true&quot;&gt;\n&lt;meta-data\n    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n    android:resource=&quot;@xml/file_path&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>After that create an xml resource file name file_path. Then copy the below code there.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;root-path\n    name=&quot;root&quot;\n    path=&quot;/&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>Then go in that java class where you are doing sharing. There we create new functions. These actually create an empty file in files directory, then copy the content of asset to file and create a share intent then.</p>\n<pre><code>private File createFileInFilesDir(String filename) throws IOException {\n    File file = new File(getFilesDir().getPath()+&quot;/&quot;+filename);\n    if (file.exists()) {\n        if (!file.delete()) {\n            throw new IOException();\n        }\n    }\n    if (!file.createNewFile()) {\n        throw new IOException();\n    }\n    return file;\n}\nprivate void copyAssetToFile(String assetName, File file) throws IOException {\n    byte[] buffer = new byte[1024];\n    InputStream inputStream = getAssets().open(assetName);\n    OutputStream outputStream = new FileOutputStream(file);\n    while (inputStream.read(buffer) &gt; 0) {\n        outputStream.write(buffer);\n    }\n}\nprivate Intent createIntentForFile(File file, String intentAction) {\n    Uri uri = FileProvider.getUriForFile(this, getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\n    Intent intent = new Intent(intentAction);\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    intent.setDataAndType(uri, &quot;application/pdf&quot;);\n    intent.putExtra(Intent.EXTRA_STREAM,uri);\n    return intent;\n}\nprivate void sharePdfAsset(String assetName, String intentAction) throws IOException {\n    try {\n        File file = createFileInFilesDir(assetName);\n        copyAssetToFile(assetName, file);\n        Intent intent = createIntentForFile(file, intentAction);\n\n        startActivity(Intent.createChooser(intent, &quot;Sharing PDF&quot;));\n    } catch (IOException e) {\n        e.printStackTrace();\n        new AlertDialog.Builder(this)\n                .setTitle(R.string.error)\n                .setMessage(R.string.share_error)\n                .show();\n    }\n}\n</code></pre>\n<p>Actually I am using a proper share button to share pdf on action bar so I used onoptionsItemselected method.</p>\n<pre><code> public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    // We are using switch case because multiple icons can be kept\n    switch (item.getItemId()) {\n        case R.id.shareButton:\n            try {\n                sharePdfAsset(&quot;your_file_name.pdf&quot;, Intent.ACTION_SEND);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n    }\n    return super.onOptionsItemSelected(item);\n</code></pre>\n<p>If anyone else had done this in easier way please share.</p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664003798,"creation_date":1664003798,"answer_id":73835397,"question_id":73832839,"body_markdown":"The short answer is: copy the file from assets to storage \r\n\r\nThen use FileProvider and ACTION_SEND to share the file from storage.\r\n\r\nBut more elegant would be to not copy and use an assets provider.","title":"How to Share PDF from Assets Folder","body":"<p>The short answer is: copy the file from assets to storage</p>\n<p>Then use FileProvider and ACTION_SEND to share the file from storage.</p>\n<p>But more elegant would be to not copy and use an assets provider.</p>\n"}],"owner":{"account_id":26395389,"reputation":11,"user_id":20046611,"display_name":"Abdullah Hammad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73833828,"answer_count":2,"score":0,"last_activity_date":1664003798,"creation_date":1663966036,"question_id":73832839,"body_markdown":"I am developing a book application. A professional application which I later publish on play store. It would be nice if it had a share button which shares pdf to different apps. I spent hours searching for that but I couldn&#39;t found the way to share pdf that is in Assets folder. Most of them are sharing images and those who are sharing pdf are using URL. It would be nice if anyone tells me. Thanks in advance.","title":"How to Share PDF from Assets Folder","body":"<p>I am developing a book application. A professional application which I later publish on play store. It would be nice if it had a share button which shares pdf to different apps. I spent hours searching for that but I couldn't found the way to share pdf that is in Assets folder. Most of them are sharing images and those who are sharing pdf are using URL. It would be nice if anyone tells me. Thanks in advance.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1663776213,"post_id":73803826,"comment_id":130320467,"body_markdown":"First you need to learn how to do custom painting. Then you can add logic to use the combo box and sliders. Check out [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for a couple of examples.","body":"First you need to learn how to do custom painting. Then you can add logic to use the combo box and sliders. Check out <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for a couple of examples."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1663782894,"post_id":73803826,"comment_id":130322754,"body_markdown":"There&#39;s actually quite a lot to this - back in the day I built an MVC AreaManager (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/shape/) you might want to check out, but in any case, you&#39;ll probably want a Model for your Shapes, a view for displaying them, and a Controller for clicking on and otherwise manipulating them.","body":"There&#39;s actually quite a lot to this - back in the day I built an MVC AreaManager (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/shape/\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/shape</a>) you might want to check out, but in any case, you&#39;ll probably want a Model for your Shapes, a view for displaying them, and a Controller for clicking on and otherwise manipulating them."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664003074,"creation_date":1663989371,"answer_id":73834513,"question_id":73803826,"body_markdown":"# Introduction\r\n\r\nUsing a GUI builder creates a code mess that&#39;s hard to expand and hard to maintain.  It&#39;s a lot easier, in the long run, to learn how to use Swing effectively without using a GUI builder. Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.\r\n\r\nI couldn&#39;t get your code to run in my IDE, so I went ahead and created the following GUI.\r\n\r\n[![JSlider Example][1]][1]  \r\n\r\nThe top line displays the circle center point and allows you to select a color.  The two `JSliders` allow you to select the center point x and the center point y of the circle.  The scale goes from 0 to width and height, respectively.  The code keeps you from selecting a center point outside the bounds of the drawing `JPanel`.\r\n\r\nSince the y value `JSlider` has the minimum value on the bottom, I inverted the y value when drawing the circle.  In other words, instead of the normal y values increasing as you draw downward, the y values increase as you draw upward.\r\n\r\nThe `JSliders` don&#39;t precisely correspond with the drawing JPanel.  Since this is an example, I wasn&#39;t too worried about the visual discrepancy.\r\n\r\nIf you maximize the GUI or change the size of the GUI, the scales of the `JSliders` change accordingly.  If your circle is outside the new dimension of the drawing JPanel, the center point is changed so the circle is inside the new dimension.\r\n\r\n# Explanation\r\n\r\nWhen I create a Swing GUI, I use the [model-view-controller][2] pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.\r\n\r\nGenerally, you create the model first.  The model consists of one or more plain Java getter/setter classes.  The view is your `JFrame` and `JPanels`.  The controllers are each individual Swing listener.\r\n\r\nFor this `JSlider` example, I created two model classes, two view classes, and four controller classes.  Since all the controller classes are small, I made them anonymous classes.\r\n\r\nThis application turned out to be fairly complex.  It&#39;s going to require a good bit of explanation.\r\n\r\n## Model\r\n\r\nFor this `JSlider` example, I created two model classes, `JSliderExampleModel` and `ColorModel`.\r\n\r\n`JSliderExampleModel` is the main model class.  It holds an array of `ColorModels`, the drawing `JPanel` dimension, and the center point and radius of the circle.  The array of `ColorModels` is for the `JComboBox`.  The radius is in the model because we need the value to keep the `JSlider` values from going outside the bounds of the drawing `JPanel`. \r\n\r\nThe `ColorModel` class holds a `String` color name and a `Color` color.  This allows us to display the color name in the `JComboBox` while having the actual `Color` for filling in the circle in the drawing `JPanel`.\r\n\r\n## View\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread][3].\r\n\r\nThe `JFrame` has a default `BorderLayout`, which I used to place four `JPanels`.  It&#39;s a good idea to create the `JFrame` and `JPanels` in separate methods or classes.  This helps keep the view code organized and makes the code easier to read and follow.\r\n\r\nThe `JFrame` creation methods **must be called in a specific order**.  The `run` method of the `JSliderExample` class has the order I use for most of my Swing `JFrames`. \r\n\r\nI created four `JPanels`; the display `JPanel`, the drawing `JPanel`, and the two `JSlider` `JPanels`.  The drawing `JPanel` is a separate class.  The other three `JPanels` are methods in the main view class.\r\n\r\nThe display `JPanel` displays the circle center point and contains the `JComboBox` that allows the user to select a circle color.  The display `JPanel` uses a `FlowLayout` to place all the Swing components on one line.  The only &quot;trick&quot; I used was to add a `Box` horizontal strut (space) in between the circle center point and the color selection.  This makes the GUI look a little nicer.\r\n\r\nThe drawing `JPanel` extends `JPanel` and overrides the `paintComponent` method.  The `super.paintComponent` call must be first to maintain the Swing paint chain.  The `paintComponent` method draws the circle.\r\n\r\nI invert the Y value so that the circle drawing corresponds with the Y `JSlider`.\r\n\r\nThe `JSlider` `JPanels` both use a `BorderLayout`.  I added a `JLabel` and added tick marks and values to the `JSliders`.  I start the `JSliders` at zero so the labels are round numbers, even though the code keeps you from selecting values outside the drawing `JPanel`.\r\n\r\n## Controller\r\n\r\nI created a `ChangeListener` for each of the `JSliders` and an `ActionListener` for the `JComboBox`.  I also created a `ComponentListener` for the `JFrame`.  Because I created an application model, these Swing listeners turned out to be fairly simple.  \r\n\r\nThe `ChangeListeners` test for the slider moving and wait until the slider stops to redraw the circle.\r\n\r\nI get the actual size of the drawing `JPanel` in the `JFrame` `ComponentListener` and save it in the model.  This allows the user to maximize and minimize the GUI, as well as change the size of the GUI.\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Graphics;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.Box;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n    \r\n    public class JSliderExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new JSliderExample());\r\n    \t}\r\n    \r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \r\n    \tprivate final JSliderExampleModel model;\r\n    \r\n    \tprivate JComboBox&lt;ColorModel&gt; colorComboBox;\r\n    \r\n    \tprivate final JPanel xSliderPanel, ySliderPanel;\r\n    \r\n    \tprivate JSlider xSlider, ySlider;\r\n    \r\n    \tprivate JTextField xField, yField;\r\n    \r\n    \tpublic JSliderExample() {\r\n    \t\tthis.model = new JSliderExampleModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t\tthis.xSliderPanel = createHorizontalSliderPanel();\r\n    \t\tthis.ySliderPanel = createVerticalSliderPanel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;JSlider Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.addComponentListener(new ComponentAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentResized(ComponentEvent event) {\r\n    \t\t\t\tDimension drawingAreaDimension = drawingPanel.getSize();\r\n    \t\t\t\tmodel.setDrawingAreaDimension(drawingAreaDimension);\r\n    \t\t\t\tupdateSliders();\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tframe.add(createDisplayPanel(), BorderLayout.NORTH);\r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \t\tframe.add(xSliderPanel, BorderLayout.SOUTH);\r\n    \t\tframe.add(ySliderPanel, BorderLayout.EAST);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createDisplayPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \r\n    \t\tJLabel label = new JLabel(&quot;Center point:&quot;);\r\n    \t\tpanel.add(label);\r\n    \r\n    \t\tlabel = new JLabel(&quot;x:&quot;);\r\n    \t\tpanel.add(label);\r\n    \r\n    \t\txField = new JTextField(5);\r\n    \t\txField.setEditable(false);\r\n    \t\tpanel.add(xField);\r\n    \r\n    \t\tlabel = new JLabel(&quot;y:&quot;);\r\n    \t\tpanel.add(label);\r\n    \r\n    \t\tyField = new JTextField(5);\r\n    \t\tyField.setEditable(false);\r\n    \t\tpanel.add(yField);\r\n    \r\n    \t\tpanel.add(Box.createHorizontalStrut(15));\r\n    \r\n    \t\tlabel = new JLabel(&quot;Color:&quot;);\r\n    \t\tpanel.add(label);\r\n    \r\n    \t\tcolorComboBox = new JComboBox&lt;&gt;(model.getColors());\r\n    \t\tcolorComboBox.setSelectedIndex(0);\r\n    \t\tcolorComboBox.addActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\tmodel.setCircleColor(\r\n    \t\t\t\t\t\t(ColorModel) colorComboBox.getSelectedItem());\r\n    \t\t\t\trepaint();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tpanel.add(colorComboBox);\r\n    \r\n    \t\tupdateDisplayPanel();\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createHorizontalSliderPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \r\n    \t\tJLabel label = new JLabel(&quot;Center x value&quot;);\r\n    \t\tpanel.add(label, BorderLayout.NORTH);\r\n    \r\n    \t\tDimension d = model.getDrawingAreaDimension();\r\n    \t\tPoint p = model.getCenterPoint();\r\n    \t\txSlider = new JSlider(JSlider.HORIZONTAL, 0, d.width, p.x);\r\n    \t\txSlider.addChangeListener(new ChangeListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void stateChanged(ChangeEvent event) {\r\n    \t\t\t\tJSlider source = (JSlider) event.getSource();\r\n    \t\t\t\tif (!source.getValueIsAdjusting()) {\r\n    \t\t\t\t\tint x = (int) source.getValue();\r\n    \t\t\t\t\tupdateCenterX(source, x);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\txSlider.setMajorTickSpacing(50);\r\n    \t\txSlider.setMinorTickSpacing(10);\r\n    \t\txSlider.setPaintTicks(true);\r\n    \t\txSlider.setPaintLabels(true);\r\n    \r\n    \t\tpanel.add(xSlider, BorderLayout.CENTER);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createVerticalSliderPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \r\n    \t\tJLabel label = new JLabel(&quot;Center y value&quot;);\r\n    \t\tpanel.add(label, BorderLayout.NORTH);\r\n    \r\n    \t\tDimension d = model.getDrawingAreaDimension();\r\n    \t\tPoint p = model.getCenterPoint();\r\n    \t\tySlider = new JSlider(JSlider.VERTICAL, 0, d.height, p.y);\r\n    \t\tySlider.addChangeListener(new ChangeListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void stateChanged(ChangeEvent event) {\r\n    \t\t\t\tJSlider source = (JSlider) event.getSource();\r\n    \t\t\t\tif (!source.getValueIsAdjusting()) {\r\n    \t\t\t\t\tint y = (int) source.getValue();\r\n    \t\t\t\t\tupdateCenterY(source, y);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tySlider.setMajorTickSpacing(50);\r\n    \t\tySlider.setMinorTickSpacing(10);\r\n    \t\tySlider.setPaintTicks(true);\r\n    \t\tySlider.setPaintLabels(true);\r\n    \t\tpanel.add(ySlider, BorderLayout.CENTER);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tpublic void updateDisplayPanel() {\r\n    \t\tPoint p = model.getCenterPoint();\r\n    \t\txField.setText(String.format(&quot;%,d&quot;, p.x));\r\n    \t\tyField.setText(String.format(&quot;%,d&quot;, p.y));\r\n    \t}\r\n    \r\n    \tpublic void updateSliders() {\r\n    \t\tDimension d = model.getDrawingAreaDimension();\r\n    \t\tPoint p = model.getCenterPoint();\r\n    \t\txSlider.setMaximum(d.width);\r\n    \t\tySlider.setMaximum(d.height);\r\n    \r\n    \t\txSliderPanel.revalidate();\r\n    \t\txSliderPanel.repaint();\r\n    \t\tySliderPanel.revalidate();\r\n    \t\tySliderPanel.repaint();\r\n    \t}\r\n    \r\n    \tprivate void updateCenterX(JSlider source, int x) {\r\n    \t\tDimension d = model.getDrawingAreaDimension();\r\n    \t\tPoint p = model.getCenterPoint();\r\n    \t\tint radius = model.getRadius();\r\n    \r\n    \t\tx = Math.max(radius, x);\r\n    \t\tx = Math.min(d.width - radius, x);\r\n    \t\tsource.setValue(x);\r\n    \r\n    \t\tmodel.setCenterPoint(new Point(x, p.y));\r\n    \t\tupdateDisplayPanel();\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \tprivate void updateCenterY(JSlider source, int y) {\r\n    \t\tDimension d = model.getDrawingAreaDimension();\r\n    \t\tPoint p = model.getCenterPoint();\r\n    \t\tint radius = model.getRadius();\r\n    \r\n    \t\ty = Math.max(radius, y);\r\n    \t\ty = Math.min(d.height - radius, y);\r\n    \t\tsource.setValue(y);\r\n    \r\n    \t\tmodel.setCenterPoint(new Point(p.x, y));\r\n    \t\tupdateDisplayPanel();\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \tpublic void repaint() {\r\n    \t\tdrawingPanel.repaint();\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final JSliderExampleModel model;\r\n    \r\n    \t\tpublic DrawingPanel(JSliderExampleModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.setPreferredSize(model.getDrawingAreaDimension());\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tColorModel colorModel = model.getCircleColor();\r\n    \t\t\tg.setColor(colorModel.getColor());\r\n    \t\t\tDimension d = model.getDrawingAreaDimension();\r\n    \t\t\tPoint p = model.getCenterPoint();\r\n    \t\t\tint radius = model.getRadius();\r\n    \t\t\tint diameter = radius + radius;\r\n    \t\t\tg.fillOval(p.x - radius, d.height - p.y - radius, diameter,\r\n    \t\t\t\t\tdiameter);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class JSliderExampleModel {\r\n    \r\n    \t\tprivate final int radius;\r\n    \r\n    \t\tprivate ColorModel circleColor;\r\n    \r\n    \t\tprivate final ColorModel[] colors;\r\n    \r\n    \t\tprivate Dimension drawingAreaDimension;\r\n    \r\n    \t\tprivate Point centerPoint;\r\n    \r\n    \t\tpublic JSliderExampleModel() {\r\n    \t\t\tthis.drawingAreaDimension = new Dimension(400, 300);\r\n    \t\t\tthis.centerPoint = new Point(200, 150);\r\n    \t\t\tthis.radius = 32;\r\n    \r\n    \t\t\tthis.colors = new ColorModel[4];\r\n    \t\t\tthis.colors[0] = new ColorModel(&quot;Blue&quot;, Color.blue);\r\n    \t\t\tthis.colors[1] = new ColorModel(&quot;Green&quot;, Color.green);\r\n    \t\t\tthis.colors[2] = new ColorModel(&quot;Red&quot;, Color.red);\r\n    \t\t\tthis.colors[3] = new ColorModel(&quot;Yellow&quot;, Color.yellow);\r\n    \t\t\tthis.circleColor = colors[0];\r\n    \t\t}\r\n    \r\n    \t\tpublic ColorModel getCircleColor() {\r\n    \t\t\treturn circleColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setCircleColor(ColorModel circleColor) {\r\n    \t\t\tthis.circleColor = circleColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic Dimension getDrawingAreaDimension() {\r\n    \t\t\treturn drawingAreaDimension;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setDrawingAreaDimension(Dimension drawingAreaDimension) {\r\n    \t\t\tthis.drawingAreaDimension = drawingAreaDimension;\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getCenterPoint() {\r\n    \t\t\treturn centerPoint;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setCenterPoint(Point centerPoint) {\r\n    \t\t\tthis.centerPoint = centerPoint;\r\n    \t\t}\r\n    \r\n    \t\tpublic ColorModel[] getColors() {\r\n    \t\t\treturn colors;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getRadius() {\r\n    \t\t\treturn radius;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class ColorModel {\r\n    \r\n    \t\tprivate final Color color;\r\n    \r\n    \t\tprivate final String colorName;\r\n    \r\n    \t\tpublic ColorModel(String colorName, Color color) {\r\n    \t\t\tthis.colorName = colorName;\r\n    \t\t\tthis.color = color;\r\n    \t\t}\r\n    \r\n    \t\tpublic Color getColor() {\r\n    \t\t\treturn color;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getColorName() {\r\n    \t\t\treturn colorName;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn colorName;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/FEUkD.png\r\n  [2]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n\r\n","title":"In Java Swing, how can I use JSliders to set x and y values for a shape?","body":"<h1>Introduction</h1>\n<p>Using a GUI builder creates a code mess that's hard to expand and hard to maintain.  It's a lot easier, in the long run, to learn how to use Swing effectively without using a GUI builder. Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>I couldn't get your code to run in my IDE, so I went ahead and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/FEUkD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FEUkD.png\" alt=\"JSlider Example\" /></a></p>\n<p>The top line displays the circle center point and allows you to select a color.  The two <code>JSliders</code> allow you to select the center point x and the center point y of the circle.  The scale goes from 0 to width and height, respectively.  The code keeps you from selecting a center point outside the bounds of the drawing <code>JPanel</code>.</p>\n<p>Since the y value <code>JSlider</code> has the minimum value on the bottom, I inverted the y value when drawing the circle.  In other words, instead of the normal y values increasing as you draw downward, the y values increase as you draw upward.</p>\n<p>The <code>JSliders</code> don't precisely correspond with the drawing JPanel.  Since this is an example, I wasn't too worried about the visual discrepancy.</p>\n<p>If you maximize the GUI or change the size of the GUI, the scales of the <code>JSliders</code> change accordingly.  If your circle is outside the new dimension of the drawing JPanel, the center point is changed so the circle is inside the new dimension.</p>\n<h1>Explanation</h1>\n<p>When I create a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.</p>\n<p>Generally, you create the model first.  The model consists of one or more plain Java getter/setter classes.  The view is your <code>JFrame</code> and <code>JPanels</code>.  The controllers are each individual Swing listener.</p>\n<p>For this <code>JSlider</code> example, I created two model classes, two view classes, and four controller classes.  Since all the controller classes are small, I made them anonymous classes.</p>\n<p>This application turned out to be fairly complex.  It's going to require a good bit of explanation.</p>\n<h2>Model</h2>\n<p>For this <code>JSlider</code> example, I created two model classes, <code>JSliderExampleModel</code> and <code>ColorModel</code>.</p>\n<p><code>JSliderExampleModel</code> is the main model class.  It holds an array of <code>ColorModels</code>, the drawing <code>JPanel</code> dimension, and the center point and radius of the circle.  The array of <code>ColorModels</code> is for the <code>JComboBox</code>.  The radius is in the model because we need the value to keep the <code>JSlider</code> values from going outside the bounds of the drawing <code>JPanel</code>.</p>\n<p>The <code>ColorModel</code> class holds a <code>String</code> color name and a <code>Color</code> color.  This allows us to display the color name in the <code>JComboBox</code> while having the actual <code>Color</code> for filling in the circle in the drawing <code>JPanel</code>.</p>\n<h2>View</h2>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>The <code>JFrame</code> has a default <code>BorderLayout</code>, which I used to place four <code>JPanels</code>.  It's a good idea to create the <code>JFrame</code> and <code>JPanels</code> in separate methods or classes.  This helps keep the view code organized and makes the code easier to read and follow.</p>\n<p>The <code>JFrame</code> creation methods <strong>must be called in a specific order</strong>.  The <code>run</code> method of the <code>JSliderExample</code> class has the order I use for most of my Swing <code>JFrames</code>.</p>\n<p>I created four <code>JPanels</code>; the display <code>JPanel</code>, the drawing <code>JPanel</code>, and the two <code>JSlider</code> <code>JPanels</code>.  The drawing <code>JPanel</code> is a separate class.  The other three <code>JPanels</code> are methods in the main view class.</p>\n<p>The display <code>JPanel</code> displays the circle center point and contains the <code>JComboBox</code> that allows the user to select a circle color.  The display <code>JPanel</code> uses a <code>FlowLayout</code> to place all the Swing components on one line.  The only &quot;trick&quot; I used was to add a <code>Box</code> horizontal strut (space) in between the circle center point and the color selection.  This makes the GUI look a little nicer.</p>\n<p>The drawing <code>JPanel</code> extends <code>JPanel</code> and overrides the <code>paintComponent</code> method.  The <code>super.paintComponent</code> call must be first to maintain the Swing paint chain.  The <code>paintComponent</code> method draws the circle.</p>\n<p>I invert the Y value so that the circle drawing corresponds with the Y <code>JSlider</code>.</p>\n<p>The <code>JSlider</code> <code>JPanels</code> both use a <code>BorderLayout</code>.  I added a <code>JLabel</code> and added tick marks and values to the <code>JSliders</code>.  I start the <code>JSliders</code> at zero so the labels are round numbers, even though the code keeps you from selecting values outside the drawing <code>JPanel</code>.</p>\n<h2>Controller</h2>\n<p>I created a <code>ChangeListener</code> for each of the <code>JSliders</code> and an <code>ActionListener</code> for the <code>JComboBox</code>.  I also created a <code>ComponentListener</code> for the <code>JFrame</code>.  Because I created an application model, these Swing listeners turned out to be fairly simple.</p>\n<p>The <code>ChangeListeners</code> test for the slider moving and wait until the slider stops to redraw the circle.</p>\n<p>I get the actual size of the drawing <code>JPanel</code> in the <code>JFrame</code> <code>ComponentListener</code> and save it in the model.  This allows the user to maximize and minimize the GUI, as well as change the size of the GUI.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.Box;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class JSliderExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new JSliderExample());\n    }\n\n    private final DrawingPanel drawingPanel;\n\n    private final JSliderExampleModel model;\n\n    private JComboBox&lt;ColorModel&gt; colorComboBox;\n\n    private final JPanel xSliderPanel, ySliderPanel;\n\n    private JSlider xSlider, ySlider;\n\n    private JTextField xField, yField;\n\n    public JSliderExample() {\n        this.model = new JSliderExampleModel();\n        this.drawingPanel = new DrawingPanel(model);\n        this.xSliderPanel = createHorizontalSliderPanel();\n        this.ySliderPanel = createVerticalSliderPanel();\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;JSlider Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.addComponentListener(new ComponentAdapter() {\n            @Override\n            public void componentResized(ComponentEvent event) {\n                Dimension drawingAreaDimension = drawingPanel.getSize();\n                model.setDrawingAreaDimension(drawingAreaDimension);\n                updateSliders();\n            }\n        });\n\n        frame.add(createDisplayPanel(), BorderLayout.NORTH);\n        frame.add(drawingPanel, BorderLayout.CENTER);\n        frame.add(xSliderPanel, BorderLayout.SOUTH);\n        frame.add(ySliderPanel, BorderLayout.EAST);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createDisplayPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n\n        JLabel label = new JLabel(&quot;Center point:&quot;);\n        panel.add(label);\n\n        label = new JLabel(&quot;x:&quot;);\n        panel.add(label);\n\n        xField = new JTextField(5);\n        xField.setEditable(false);\n        panel.add(xField);\n\n        label = new JLabel(&quot;y:&quot;);\n        panel.add(label);\n\n        yField = new JTextField(5);\n        yField.setEditable(false);\n        panel.add(yField);\n\n        panel.add(Box.createHorizontalStrut(15));\n\n        label = new JLabel(&quot;Color:&quot;);\n        panel.add(label);\n\n        colorComboBox = new JComboBox&lt;&gt;(model.getColors());\n        colorComboBox.setSelectedIndex(0);\n        colorComboBox.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent event) {\n                model.setCircleColor(\n                        (ColorModel) colorComboBox.getSelectedItem());\n                repaint();\n            }\n        });\n        panel.add(colorComboBox);\n\n        updateDisplayPanel();\n\n        return panel;\n    }\n\n    private JPanel createHorizontalSliderPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n\n        JLabel label = new JLabel(&quot;Center x value&quot;);\n        panel.add(label, BorderLayout.NORTH);\n\n        Dimension d = model.getDrawingAreaDimension();\n        Point p = model.getCenterPoint();\n        xSlider = new JSlider(JSlider.HORIZONTAL, 0, d.width, p.x);\n        xSlider.addChangeListener(new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent event) {\n                JSlider source = (JSlider) event.getSource();\n                if (!source.getValueIsAdjusting()) {\n                    int x = (int) source.getValue();\n                    updateCenterX(source, x);\n                }\n            }\n        });\n        xSlider.setMajorTickSpacing(50);\n        xSlider.setMinorTickSpacing(10);\n        xSlider.setPaintTicks(true);\n        xSlider.setPaintLabels(true);\n\n        panel.add(xSlider, BorderLayout.CENTER);\n\n        return panel;\n    }\n\n    private JPanel createVerticalSliderPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n\n        JLabel label = new JLabel(&quot;Center y value&quot;);\n        panel.add(label, BorderLayout.NORTH);\n\n        Dimension d = model.getDrawingAreaDimension();\n        Point p = model.getCenterPoint();\n        ySlider = new JSlider(JSlider.VERTICAL, 0, d.height, p.y);\n        ySlider.addChangeListener(new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent event) {\n                JSlider source = (JSlider) event.getSource();\n                if (!source.getValueIsAdjusting()) {\n                    int y = (int) source.getValue();\n                    updateCenterY(source, y);\n                }\n            }\n        });\n        ySlider.setMajorTickSpacing(50);\n        ySlider.setMinorTickSpacing(10);\n        ySlider.setPaintTicks(true);\n        ySlider.setPaintLabels(true);\n        panel.add(ySlider, BorderLayout.CENTER);\n\n        return panel;\n    }\n\n    public void updateDisplayPanel() {\n        Point p = model.getCenterPoint();\n        xField.setText(String.format(&quot;%,d&quot;, p.x));\n        yField.setText(String.format(&quot;%,d&quot;, p.y));\n    }\n\n    public void updateSliders() {\n        Dimension d = model.getDrawingAreaDimension();\n        Point p = model.getCenterPoint();\n        xSlider.setMaximum(d.width);\n        ySlider.setMaximum(d.height);\n\n        xSliderPanel.revalidate();\n        xSliderPanel.repaint();\n        ySliderPanel.revalidate();\n        ySliderPanel.repaint();\n    }\n\n    private void updateCenterX(JSlider source, int x) {\n        Dimension d = model.getDrawingAreaDimension();\n        Point p = model.getCenterPoint();\n        int radius = model.getRadius();\n\n        x = Math.max(radius, x);\n        x = Math.min(d.width - radius, x);\n        source.setValue(x);\n\n        model.setCenterPoint(new Point(x, p.y));\n        updateDisplayPanel();\n        repaint();\n    }\n\n    private void updateCenterY(JSlider source, int y) {\n        Dimension d = model.getDrawingAreaDimension();\n        Point p = model.getCenterPoint();\n        int radius = model.getRadius();\n\n        y = Math.max(radius, y);\n        y = Math.min(d.height - radius, y);\n        source.setValue(y);\n\n        model.setCenterPoint(new Point(p.x, y));\n        updateDisplayPanel();\n        repaint();\n    }\n\n    public void repaint() {\n        drawingPanel.repaint();\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        private final JSliderExampleModel model;\n\n        public DrawingPanel(JSliderExampleModel model) {\n            this.model = model;\n            this.setPreferredSize(model.getDrawingAreaDimension());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            ColorModel colorModel = model.getCircleColor();\n            g.setColor(colorModel.getColor());\n            Dimension d = model.getDrawingAreaDimension();\n            Point p = model.getCenterPoint();\n            int radius = model.getRadius();\n            int diameter = radius + radius;\n            g.fillOval(p.x - radius, d.height - p.y - radius, diameter,\n                    diameter);\n        }\n\n    }\n\n    public class JSliderExampleModel {\n\n        private final int radius;\n\n        private ColorModel circleColor;\n\n        private final ColorModel[] colors;\n\n        private Dimension drawingAreaDimension;\n\n        private Point centerPoint;\n\n        public JSliderExampleModel() {\n            this.drawingAreaDimension = new Dimension(400, 300);\n            this.centerPoint = new Point(200, 150);\n            this.radius = 32;\n\n            this.colors = new ColorModel[4];\n            this.colors[0] = new ColorModel(&quot;Blue&quot;, Color.blue);\n            this.colors[1] = new ColorModel(&quot;Green&quot;, Color.green);\n            this.colors[2] = new ColorModel(&quot;Red&quot;, Color.red);\n            this.colors[3] = new ColorModel(&quot;Yellow&quot;, Color.yellow);\n            this.circleColor = colors[0];\n        }\n\n        public ColorModel getCircleColor() {\n            return circleColor;\n        }\n\n        public void setCircleColor(ColorModel circleColor) {\n            this.circleColor = circleColor;\n        }\n\n        public Dimension getDrawingAreaDimension() {\n            return drawingAreaDimension;\n        }\n\n        public void setDrawingAreaDimension(Dimension drawingAreaDimension) {\n            this.drawingAreaDimension = drawingAreaDimension;\n        }\n\n        public Point getCenterPoint() {\n            return centerPoint;\n        }\n\n        public void setCenterPoint(Point centerPoint) {\n            this.centerPoint = centerPoint;\n        }\n\n        public ColorModel[] getColors() {\n            return colors;\n        }\n\n        public int getRadius() {\n            return radius;\n        }\n\n    }\n\n    public class ColorModel {\n\n        private final Color color;\n\n        private final String colorName;\n\n        public ColorModel(String colorName, Color color) {\n            this.colorName = colorName;\n            this.color = color;\n        }\n\n        public Color getColor() {\n            return color;\n        }\n\n        public String getColorName() {\n            return colorName;\n        }\n\n        @Override\n        public String toString() {\n            return colorName;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26346414,"reputation":19,"user_id":20004711,"display_name":"Chicken Nugget"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664003074,"creation_date":1663775977,"question_id":73803826,"body_markdown":"I am trying to make a GUI that uses 2 JSliders; 1 vertical and 1 horizontal. I want them to return the x and y value respectively. I was able to get the x and y values, I just can&#39;t figure out how to use them so I can draw a circle.\r\n\r\n\r\n        import javax.swing.JSlider;\r\n        import java.awt.*;\r\n        public class MyFrame extends javax.swing.JFrame {\r\n            private javax.swing.JPanel canvas;\r\n            private javax.swing.JComboBox&lt;String&gt; colorBox;\r\n            private javax.swing.JSlider horizontalSlider, verticalSlider;\r\n            private javax.swing.JButton state;\r\n            public MyFrame() {\r\n                initComponents();\r\n            }\r\n            private void initComponents() {\r\n        \r\n                canvas = new javax.swing.JPanel();\r\n                horizontalSlider = new javax.swing.JSlider();\r\n                verticalSlider = new javax.swing.JSlider();\r\n                colorBox = new javax.swing.JComboBox&lt;&gt;();\r\n                state = new javax.swing.JButton();\r\n                int diameter = 30;\r\n                Color color;\r\n        \r\n                setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        \r\n                canvas.setBackground(new java.awt.Color(250, 250, 250));\r\n        \r\n                javax.swing.GroupLayout canvasLayout = new javax.swing.GroupLayout(canvas);\r\n                canvas.setLayout(canvasLayout);\r\n                canvasLayout.setHorizontalGroup(\r\n                        canvasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                                .addGap(0, 0, Short.MAX_VALUE)\r\n                );\r\n                canvasLayout.setVerticalGroup(\r\n                        canvasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                                .addGap(0, 0, Short.MAX_VALUE)\r\n                );\r\n        \r\n                horizontalSlider.addChangeListener(new javax.swing.event.ChangeListener() {\r\n                    public void stateChanged(javax.swing.event.ChangeEvent evt) {\r\n                        horizontalSliderStateChanged(evt);\r\n                    }\r\n                });\r\n        \r\n                verticalSlider.setOrientation(javax.swing.JSlider.VERTICAL);\r\n                verticalSlider.addChangeListener(new javax.swing.event.ChangeListener() {\r\n                    public void stateChanged(javax.swing.event.ChangeEvent evt) {\r\n                        verticalSliderStateChanged(evt);\r\n                    }\r\n                });\r\n        \r\n                colorBox.setModel(new javax.swing.DefaultComboBoxModel&lt;&gt;(new String[] { &quot;Red&quot;, &quot;Orange&quot;, &quot;Yellow&quot;, &quot;Green&quot; }));\r\n        \r\n                state.setText(&quot;Show&quot;);\r\n                state.addActionListener(new java.awt.event.ActionListener() {\r\n                    public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                        stateActionPerformed(evt);\r\n                    }\r\n                });\r\n        \r\n            \r\n    \r\n    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                    layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                    .addGap(7, 7, 7)\r\n                                    .addComponent(verticalSlider, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                    .addGap(18, 18, 18)\r\n                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                                            .addComponent(horizontalSlider, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                                            .addComponent(canvas, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                                            .addGroup(layout.createSequentialGroup()\r\n                                                    .addComponent(colorBox, javax.swing.GroupLayout.PREFERRED_SIZE, 400, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 92, Short.MAX_VALUE)\r\n                                                    .addComponent(state, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                                    .addContainerGap())\r\n            );\r\n            layout.setVerticalGroup(\r\n                    layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                    .addContainerGap()\r\n                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                                            .addComponent(verticalSlider, javax.swing.GroupLayout.DEFAULT_SIZE, 475, Short.MAX_VALUE)\r\n                                            .addComponent(canvas, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                                    .addGap(18, 18, 18)\r\n                                    .addComponent(horizontalSlider, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                    .addGap(27, 27, 27)\r\n                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                                            .addComponent(colorBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                            .addComponent(state))\r\n                                    .addContainerGap(31, Short.MAX_VALUE))\r\n        );\r\n    \r\n    pack();\r\n    \r\n    }// &lt;/editor-fold&gt;\r\n    \r\n                            \r\n        \r\n            private void stateActionPerformed(java.awt.event.ActionEvent evt) {\r\n                // TODO add your handling code here:\r\n            }\r\n        \r\n            public void horizontalSliderStateChanged(javax.swing.event.ChangeEvent evt) {\r\n                horizontalSlider = (JSlider) evt.getSource();\r\n                int coordinateX = horizontalSlider.getValue();\r\n                System.out.println(&quot;X: &quot; + coordinateX);\r\n            }\r\n        \r\n            public void verticalSliderStateChanged(javax.swing.event.ChangeEvent evt) {\r\n                verticalSlider = (JSlider) evt.getSource();\r\n                int coordinateY = verticalSlider.getValue();\r\n                System.out.println(&quot;Y: &quot; + coordinateY);\r\n            }\r\n        \r\n            private void colorBoxActionPerformed(java.awt.event.ActionEvent evt,Color color) {\r\n                if(colorBox.getSelectedItem() == &quot;Red&quot;) {\r\n                    color = Color.RED;\r\n                    repaint();\r\n                }\r\n            }\r\n        \r\n            public void draw(Graphics2D g) {\r\n                g.fillOval(horizontalSlider.getValue(),verticalSlider.getValue(),30, 30);\r\n                //g.setColor(color.getColor);\r\n            }\r\n        \r\n        }\r\n\r\nI don&#39;t have anything more to ask or say about my question, I just can&#39;t submit this question because there is more code than not. \r\nSo here is another question... How could I use a JComboBox to change the color of the circle based on what color is selected?","title":"In Java Swing, how can I use JSliders to set x and y values for a shape?","body":"<p>I am trying to make a GUI that uses 2 JSliders; 1 vertical and 1 horizontal. I want them to return the x and y value respectively. I was able to get the x and y values, I just can't figure out how to use them so I can draw a circle.</p>\n<pre><code>    import javax.swing.JSlider;\n    import java.awt.*;\n    public class MyFrame extends javax.swing.JFrame {\n        private javax.swing.JPanel canvas;\n        private javax.swing.JComboBox&lt;String&gt; colorBox;\n        private javax.swing.JSlider horizontalSlider, verticalSlider;\n        private javax.swing.JButton state;\n        public MyFrame() {\n            initComponents();\n        }\n        private void initComponents() {\n    \n            canvas = new javax.swing.JPanel();\n            horizontalSlider = new javax.swing.JSlider();\n            verticalSlider = new javax.swing.JSlider();\n            colorBox = new javax.swing.JComboBox&lt;&gt;();\n            state = new javax.swing.JButton();\n            int diameter = 30;\n            Color color;\n    \n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n    \n            canvas.setBackground(new java.awt.Color(250, 250, 250));\n    \n            javax.swing.GroupLayout canvasLayout = new javax.swing.GroupLayout(canvas);\n            canvas.setLayout(canvasLayout);\n            canvasLayout.setHorizontalGroup(\n                    canvasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGap(0, 0, Short.MAX_VALUE)\n            );\n            canvasLayout.setVerticalGroup(\n                    canvasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGap(0, 0, Short.MAX_VALUE)\n            );\n    \n            horizontalSlider.addChangeListener(new javax.swing.event.ChangeListener() {\n                public void stateChanged(javax.swing.event.ChangeEvent evt) {\n                    horizontalSliderStateChanged(evt);\n                }\n            });\n    \n            verticalSlider.setOrientation(javax.swing.JSlider.VERTICAL);\n            verticalSlider.addChangeListener(new javax.swing.event.ChangeListener() {\n                public void stateChanged(javax.swing.event.ChangeEvent evt) {\n                    verticalSliderStateChanged(evt);\n                }\n            });\n    \n            colorBox.setModel(new javax.swing.DefaultComboBoxModel&lt;&gt;(new String[] { &quot;Red&quot;, &quot;Orange&quot;, &quot;Yellow&quot;, &quot;Green&quot; }));\n    \n            state.setText(&quot;Show&quot;);\n            state.addActionListener(new java.awt.event.ActionListener() {\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\n                    stateActionPerformed(evt);\n                }\n            });\n    \n        \n\njavax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(layout.createSequentialGroup()\n                                .addGap(7, 7, 7)\n                                .addComponent(verticalSlider, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addGap(18, 18, 18)\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                        .addComponent(horizontalSlider, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                        .addComponent(canvas, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                        .addGroup(layout.createSequentialGroup()\n                                                .addComponent(colorBox, javax.swing.GroupLayout.PREFERRED_SIZE, 400, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 92, Short.MAX_VALUE)\n                                                .addComponent(state, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(layout.createSequentialGroup()\n                                .addContainerGap()\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                                        .addComponent(verticalSlider, javax.swing.GroupLayout.DEFAULT_SIZE, 475, Short.MAX_VALUE)\n                                        .addComponent(canvas, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                                .addGap(18, 18, 18)\n                                .addComponent(horizontalSlider, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addGap(27, 27, 27)\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                        .addComponent(colorBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(state))\n                                .addContainerGap(31, Short.MAX_VALUE))\n    );\n\npack();\n\n}// &lt;/editor-fold&gt;\n\n                        \n    \n        private void stateActionPerformed(java.awt.event.ActionEvent evt) {\n            // TODO add your handling code here:\n        }\n    \n        public void horizontalSliderStateChanged(javax.swing.event.ChangeEvent evt) {\n            horizontalSlider = (JSlider) evt.getSource();\n            int coordinateX = horizontalSlider.getValue();\n            System.out.println(&quot;X: &quot; + coordinateX);\n        }\n    \n        public void verticalSliderStateChanged(javax.swing.event.ChangeEvent evt) {\n            verticalSlider = (JSlider) evt.getSource();\n            int coordinateY = verticalSlider.getValue();\n            System.out.println(&quot;Y: &quot; + coordinateY);\n        }\n    \n        private void colorBoxActionPerformed(java.awt.event.ActionEvent evt,Color color) {\n            if(colorBox.getSelectedItem() == &quot;Red&quot;) {\n                color = Color.RED;\n                repaint();\n            }\n        }\n    \n        public void draw(Graphics2D g) {\n            g.fillOval(horizontalSlider.getValue(),verticalSlider.getValue(),30, 30);\n            //g.setColor(color.getColor);\n        }\n    \n    }\n</code></pre>\n<p>I don't have anything more to ask or say about my question, I just can't submit this question because there is more code than not.\nSo here is another question... How could I use a JComboBox to change the color of the circle based on what color is selected?</p>\n"},{"tags":["java","clojurescript","cider","sdkman","shadow-cljs"],"answers":[{"tags":[],"owner":{"account_id":10894558,"reputation":3941,"user_id":8009006,"display_name":"Thomas Heller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664001704,"creation_date":1664001704,"answer_id":73835238,"question_id":73833587,"body_markdown":"&gt; My hypothesis (that could be wrong) is that the terminal is using the right java version. But, Emacs is not!\r\n\r\nThis is correct. Latest versions of shadow-cljs require Java11+ to be used.\r\n\r\nThe error you get is from using a newer shadow-cljs version with an old java version.\r\n\r\nNo clue how you make emacs use the newer version though.","title":"Why is &quot;shadow-cljs cljs-repl app&quot; still working while cider-jack-in-cljs is retrieving an error?","body":"<blockquote>\n<p>My hypothesis (that could be wrong) is that the terminal is using the right java version. But, Emacs is not!</p>\n</blockquote>\n<p>This is correct. Latest versions of shadow-cljs require Java11+ to be used.</p>\n<p>The error you get is from using a newer shadow-cljs version with an old java version.</p>\n<p>No clue how you make emacs use the newer version though.</p>\n"}],"owner":{"account_id":12522890,"reputation":2441,"user_id":9113679,"display_name":"Pedro Delfino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73835238,"answer_count":1,"score":0,"last_activity_date":1664001704,"creation_date":1663972805,"question_id":73833587,"body_markdown":"I have been using Clojure, ClojureScript, lein, shadow-cljs, re-frame, reagent, Emacs, and CIDER to work on a Clojure/ClojureScript dynamic web app project.\r\n\r\nUsually, I build the project by executing the command `cider-jack-in-cljs` in Emacs, choosing `shadow-cljs`, then `shadow` for REPL type, and, finally, `app` for the building option.\r\n\r\nIt used to work and `cider-jack-in-cljs` still works if I check out some previous commits from last week. There was a big merge of a huge branch into the main branch. **To make it work is even necessary to tweak the java version**.\r\n\r\nCurrently, I have two java versions. The new main branch uses the `11.0.16-amzn` and last week main branch uses `8.0.342-amzn`:\r\n\r\n```bash\r\nPedros-MacBook-Air:balance pedro$ sdk use java \r\n11.0.16-amzn  8.0.342-amzn \r\n```\r\n\r\nUnfortunately, now, in the latest current main branch, `cider-jack-in-cljs` does not work anymore. The command returns this error message:\r\n\r\n```clj\r\n[nREPL] Starting server via /opt/homebrew/bin/shadow-cljs -d nrepl/nrepl:0.9.0 -d cider/cider-nrepl:0.28.5 -d refactor-nrepl/refactor-nrepl:3.5.5 -d cider/piggieback:0.5.2 server\r\nerror in process sentinel: nrepl-server-sentinel: Could not start nREPL server: shadow-cljs - config: /Users/pedro/projects/balance/shadow-cljs.edn\r\nException in thread &quot;main&quot; Syntax error macroexpanding at (user.clj:1:1).\r\n\tat clojure.lang.Compiler.load(Compiler.java:7665)\r\n\tat clojure.lang.RT.loadResourceScript(RT.java:381)\r\n\tat clojure.lang.RT.loadResourceScript(RT.java:368)\r\n\tat clojure.lang.RT.maybeLoadResourceScript(RT.java:364)\r\n\tat clojure.lang.RT.doInit(RT.java:486)\r\n\tat clojure.lang.RT.init(RT.java:467)\r\n\tat clojure.main.main(main.java:38)\r\nCaused by: java.lang.UnsupportedClassVersionError: com/google/javascript/jscomp/CompilerOptions has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForNameNonLoading(RT.java:2222)\r\n\tat cljs.externs$loading__6706__auto____1271.invoke(externs.clj:9)\r\n\tat cljs.externs__init.load(Unknown Source)\r\n\tat cljs.externs__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:421)\r\n\tat cljs.env$loading__6706__auto____851.invoke(env.cljc:9)\r\n\tat cljs.env__init.load(Unknown Source)\r\n\tat cljs.env__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:1523)\r\n\tat cljs.analyzer$loading__6706__auto____2000.invoke(analyzer.cljc:9)\r\n\tat cljs.analyzer__init.load(Unknown Source)\r\n\tat cljs.analyzer__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:930)\r\n\tat cljs.compiler$loading__6706__auto____1998.invoke(compiler.cljc:9)\r\n\tat cljs.compiler__init.load(Unknown Source)\r\n\tat cljs.compiler__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:2088)\r\n\tat cljs.repl$loading__6706__auto____1381.invoke(repl.cljc:9)\r\n\tat cljs.repl__init.load(Unknown Source)\r\n\tat cljs.repl__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:436)\r\n\tat alan.user$eval138$loading__6789__auto____139.invoke(user.clj:1)\r\n\tat alan.user$eval138.invokeStatic(user.clj:1)\r\n\tat alan.user$eval138.invoke(user.clj:1)\r\n\tat clojure.lang.Compiler.eval(Compiler.java:7194)\r\n\tat clojure.lang.Compiler.eval(Compiler.java:7183)\r\n\tat clojure.lang.Compiler.load(Compiler.java:7653)\r\n\t... 6 more\r\n\r\nerror in process sentinel: Could not start nREPL server: shadow-cljs - config: /Users/pedro/projects/balance/shadow-cljs.edn\r\nException in thread &quot;main&quot; Syntax error macroexpanding at (user.clj:1:1).\r\n\tat clojure.lang.Compiler.load(Compiler.java:7665)\r\n\tat clojure.lang.RT.loadResourceScript(RT.java:381)\r\n\tat clojure.lang.RT.loadResourceScript(RT.java:368)\r\n\tat clojure.lang.RT.maybeLoadResourceScript(RT.java:364)\r\n\tat clojure.lang.RT.doInit(RT.java:486)\r\n\tat clojure.lang.RT.init(RT.java:467)\r\n\tat clojure.main.main(main.java:38)\r\nCaused by: java.lang.UnsupportedClassVersionError: com/google/javascript/jscomp/CompilerOptions has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForNameNonLoading(RT.java:2222)\r\n\tat cljs.externs$loading__6706__auto____1271.invoke(externs.clj:9)\r\n\tat cljs.externs__init.load(Unknown Source)\r\n\tat cljs.externs__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:421)\r\n\tat cljs.env$loading__6706__auto____851.invoke(env.cljc:9)\r\n\tat cljs.env__init.load(Unknown Source)\r\n\tat cljs.env__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:1523)\r\n\tat cljs.analyzer$loading__6706__auto____2000.invoke(analyzer.cljc:9)\r\n\tat cljs.analyzer__init.load(Unknown Source)\r\n\tat cljs.analyzer__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:930)\r\n\tat cljs.compiler$loading__6706__auto____1998.invoke(compiler.cljc:9)\r\n\tat cljs.compiler__init.load(Unknown Source)\r\n\tat cljs.compiler__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:2088)\r\n\tat cljs.repl$loading__6706__auto____1381.invoke(repl.cljc:9)\r\n\tat cljs.repl__init.load(Unknown Source)\r\n\tat cljs.repl__init.&lt;clinit&gt;(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat clojure.lang.RT.classForName(RT.java:2209)\r\n\tat clojure.lang.RT.classForName(RT.java:2218)\r\n\tat clojure.lang.RT.loadClassForName(RT.java:2237)\r\n\tat clojure.lang.RT.load(RT.java:449)\r\n\tat clojure.lang.RT.load(RT.java:424)\r\n\tat clojure.core$load$fn__6908.invoke(core.clj:6161)\r\n\tat clojure.core$load.invokeStatic(core.clj:6160)\r\n\tat clojure.core$load.doInvoke(core.clj:6144)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:408)\r\n\tat clojure.core$load_one.invokeStatic(core.clj:5933)\r\n\tat clojure.core$load_one.invoke(core.clj:5928)\r\n\tat clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\r\n\tat clojure.core$load_lib.invokeStatic(core.clj:5974)\r\n\tat clojure.core$load_lib.doInvoke(core.clj:5953)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:142)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$load_libs.invokeStatic(core.clj:6016)\r\n\tat clojure.core$load_libs.doInvoke(core.clj:6000)\r\n\tat clojure.lang.RestFn.applyTo(RestFn.java:137)\r\n\tat clojure.core$apply.invokeStatic(core.clj:669)\r\n\tat clojure.core$require.invokeStatic(core.clj:6038)\r\n\tat clojure.core$require.doInvoke(core.clj:6038)\r\n\tat clojure.lang.RestFn.invoke(RestFn.java:436)\r\n\tat alan.user$eval138$loading__6789__auto____139.invoke(user.clj:1)\r\n\tat alan.user$eval138.invokeStatic(user.clj:1)\r\n\tat alan.user$eval138.invoke(user.clj:1)\r\n\tat clojure.lang.Compiler.eval(Compiler.java:7194)\r\n\tat clojure.lang.Compiler.eval(Compiler.java:7183)\r\n\tat clojure.lang.Compiler.load(Compiler.java:7653)\r\n\t... 6 more\r\n\r\n```\r\n\r\nAt the same time, it is possible to build the main branch locally after running on the terminal the following:\r\n\r\n```bash\r\nshadow-cljs cljs-repl app\r\n```\r\n\r\nMy hypothesis (that could be wrong) is that the terminal is using the right java version. But, Emacs is not!\r\n\r\nI would rather use the CIDER environment. Why is CIDER not working while the terminal is working?\r\n\r\nSince I have already used `sdkman` on terminal to tweak the Java version, why is Emacs not using the proper version (apparently, related to my hypothesis)?\r\n","title":"Why is &quot;shadow-cljs cljs-repl app&quot; still working while cider-jack-in-cljs is retrieving an error?","body":"<p>I have been using Clojure, ClojureScript, lein, shadow-cljs, re-frame, reagent, Emacs, and CIDER to work on a Clojure/ClojureScript dynamic web app project.</p>\n<p>Usually, I build the project by executing the command <code>cider-jack-in-cljs</code> in Emacs, choosing <code>shadow-cljs</code>, then <code>shadow</code> for REPL type, and, finally, <code>app</code> for the building option.</p>\n<p>It used to work and <code>cider-jack-in-cljs</code> still works if I check out some previous commits from last week. There was a big merge of a huge branch into the main branch. <strong>To make it work is even necessary to tweak the java version</strong>.</p>\n<p>Currently, I have two java versions. The new main branch uses the <code>11.0.16-amzn</code> and last week main branch uses <code>8.0.342-amzn</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Pedros-MacBook-Air:balance pedro$ sdk use java \n11.0.16-amzn  8.0.342-amzn \n</code></pre>\n<p>Unfortunately, now, in the latest current main branch, <code>cider-jack-in-cljs</code> does not work anymore. The command returns this error message:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>[nREPL] Starting server via /opt/homebrew/bin/shadow-cljs -d nrepl/nrepl:0.9.0 -d cider/cider-nrepl:0.28.5 -d refactor-nrepl/refactor-nrepl:3.5.5 -d cider/piggieback:0.5.2 server\nerror in process sentinel: nrepl-server-sentinel: Could not start nREPL server: shadow-cljs - config: /Users/pedro/projects/balance/shadow-cljs.edn\nException in thread &quot;main&quot; Syntax error macroexpanding at (user.clj:1:1).\n    at clojure.lang.Compiler.load(Compiler.java:7665)\n    at clojure.lang.RT.loadResourceScript(RT.java:381)\n    at clojure.lang.RT.loadResourceScript(RT.java:368)\n    at clojure.lang.RT.maybeLoadResourceScript(RT.java:364)\n    at clojure.lang.RT.doInit(RT.java:486)\n    at clojure.lang.RT.init(RT.java:467)\n    at clojure.main.main(main.java:38)\nCaused by: java.lang.UnsupportedClassVersionError: com/google/javascript/jscomp/CompilerOptions has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForNameNonLoading(RT.java:2222)\n    at cljs.externs$loading__6706__auto____1271.invoke(externs.clj:9)\n    at cljs.externs__init.load(Unknown Source)\n    at cljs.externs__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:421)\n    at cljs.env$loading__6706__auto____851.invoke(env.cljc:9)\n    at cljs.env__init.load(Unknown Source)\n    at cljs.env__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:1523)\n    at cljs.analyzer$loading__6706__auto____2000.invoke(analyzer.cljc:9)\n    at cljs.analyzer__init.load(Unknown Source)\n    at cljs.analyzer__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:930)\n    at cljs.compiler$loading__6706__auto____1998.invoke(compiler.cljc:9)\n    at cljs.compiler__init.load(Unknown Source)\n    at cljs.compiler__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:2088)\n    at cljs.repl$loading__6706__auto____1381.invoke(repl.cljc:9)\n    at cljs.repl__init.load(Unknown Source)\n    at cljs.repl__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:436)\n    at alan.user$eval138$loading__6789__auto____139.invoke(user.clj:1)\n    at alan.user$eval138.invokeStatic(user.clj:1)\n    at alan.user$eval138.invoke(user.clj:1)\n    at clojure.lang.Compiler.eval(Compiler.java:7194)\n    at clojure.lang.Compiler.eval(Compiler.java:7183)\n    at clojure.lang.Compiler.load(Compiler.java:7653)\n    ... 6 more\n\nerror in process sentinel: Could not start nREPL server: shadow-cljs - config: /Users/pedro/projects/balance/shadow-cljs.edn\nException in thread &quot;main&quot; Syntax error macroexpanding at (user.clj:1:1).\n    at clojure.lang.Compiler.load(Compiler.java:7665)\n    at clojure.lang.RT.loadResourceScript(RT.java:381)\n    at clojure.lang.RT.loadResourceScript(RT.java:368)\n    at clojure.lang.RT.maybeLoadResourceScript(RT.java:364)\n    at clojure.lang.RT.doInit(RT.java:486)\n    at clojure.lang.RT.init(RT.java:467)\n    at clojure.main.main(main.java:38)\nCaused by: java.lang.UnsupportedClassVersionError: com/google/javascript/jscomp/CompilerOptions has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForNameNonLoading(RT.java:2222)\n    at cljs.externs$loading__6706__auto____1271.invoke(externs.clj:9)\n    at cljs.externs__init.load(Unknown Source)\n    at cljs.externs__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:421)\n    at cljs.env$loading__6706__auto____851.invoke(env.cljc:9)\n    at cljs.env__init.load(Unknown Source)\n    at cljs.env__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:1523)\n    at cljs.analyzer$loading__6706__auto____2000.invoke(analyzer.cljc:9)\n    at cljs.analyzer__init.load(Unknown Source)\n    at cljs.analyzer__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:930)\n    at cljs.compiler$loading__6706__auto____1998.invoke(compiler.cljc:9)\n    at cljs.compiler__init.load(Unknown Source)\n    at cljs.compiler__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:2088)\n    at cljs.repl$loading__6706__auto____1381.invoke(repl.cljc:9)\n    at cljs.repl__init.load(Unknown Source)\n    at cljs.repl__init.&lt;clinit&gt;(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at clojure.lang.RT.classForName(RT.java:2209)\n    at clojure.lang.RT.classForName(RT.java:2218)\n    at clojure.lang.RT.loadClassForName(RT.java:2237)\n    at clojure.lang.RT.load(RT.java:449)\n    at clojure.lang.RT.load(RT.java:424)\n    at clojure.core$load$fn__6908.invoke(core.clj:6161)\n    at clojure.core$load.invokeStatic(core.clj:6160)\n    at clojure.core$load.doInvoke(core.clj:6144)\n    at clojure.lang.RestFn.invoke(RestFn.java:408)\n    at clojure.core$load_one.invokeStatic(core.clj:5933)\n    at clojure.core$load_one.invoke(core.clj:5928)\n    at clojure.core$load_lib$fn__6850.invoke(core.clj:5975)\n    at clojure.core$load_lib.invokeStatic(core.clj:5974)\n    at clojure.core$load_lib.doInvoke(core.clj:5953)\n    at clojure.lang.RestFn.applyTo(RestFn.java:142)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$load_libs.invokeStatic(core.clj:6016)\n    at clojure.core$load_libs.doInvoke(core.clj:6000)\n    at clojure.lang.RestFn.applyTo(RestFn.java:137)\n    at clojure.core$apply.invokeStatic(core.clj:669)\n    at clojure.core$require.invokeStatic(core.clj:6038)\n    at clojure.core$require.doInvoke(core.clj:6038)\n    at clojure.lang.RestFn.invoke(RestFn.java:436)\n    at alan.user$eval138$loading__6789__auto____139.invoke(user.clj:1)\n    at alan.user$eval138.invokeStatic(user.clj:1)\n    at alan.user$eval138.invoke(user.clj:1)\n    at clojure.lang.Compiler.eval(Compiler.java:7194)\n    at clojure.lang.Compiler.eval(Compiler.java:7183)\n    at clojure.lang.Compiler.load(Compiler.java:7653)\n    ... 6 more\n\n</code></pre>\n<p>At the same time, it is possible to build the main branch locally after running on the terminal the following:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>shadow-cljs cljs-repl app\n</code></pre>\n<p>My hypothesis (that could be wrong) is that the terminal is using the right java version. But, Emacs is not!</p>\n<p>I would rather use the CIDER environment. Why is CIDER not working while the terminal is working?</p>\n<p>Since I have already used <code>sdkman</code> on terminal to tweak the Java version, why is Emacs not using the proper version (apparently, related to my hypothesis)?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":4744420,"reputation":8265,"user_id":3836111,"accept_rate":70,"display_name":"Sebastian Proske"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1488053958,"creation_date":1488053538,"answer_id":42461087,"question_id":42460949,"body_markdown":"You can make use of the contionous matching using `\\G` and extract your desired matches from the first capturing group:\r\n\r\n    (?:\\\\G|^)[^.]+?\\\\b([A-Z]{1,3})\\\\b\r\n\r\nYou need to use the `MULTILINE` flag to use this in a multiline context. If your content is always a single line you may drop the `|^` from your pattern.\r\n\r\nSee https://regex101.com/r/JXIu21/3\r\n\r\nNote that regex101 uses a PCRE pattern, but all features used are also available in Java regex.","title":"Regex in Java: match groups until first symbol occurrence","body":"<p>You can make use of the contionous matching using <code>\\G</code> and extract your desired matches from the first capturing group:</p>\n\n<pre><code>(?:\\\\G|^)[^.]+?\\\\b([A-Z]{1,3})\\\\b\n</code></pre>\n\n<p>You need to use the <code>MULTILINE</code> flag to use this in a multiline context. If your content is always a single line you may drop the <code>|^</code> from your pattern.</p>\n\n<p>See <a href=\"https://regex101.com/r/JXIu21/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/JXIu21/3</a></p>\n\n<p>Note that regex101 uses a PCRE pattern, but all features used are also available in Java regex.</p>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663999979,"creation_date":1488056971,"answer_id":42461617,"question_id":42460949,"body_markdown":"Sebastian Proske&#39;s answer is great, but it&#39;s often easier (and more readable) to split complex parsing tasks into separate steps. We can split your goal into two separate steps and thereby create a much simpler and more clearly-correct solution, using your original pattern.\r\n\r\n    private static final Pattern UPPER_CASE_ABBV_PATTERN =\r\n        Pattern.compile(&quot;\\\\b[A-Z]{1,3}\\\\b&quot;);\r\n\r\n    public static List&lt;String&gt; getAbbreviationsInFirstSentence(String input) {\r\n      // isolate the first sentence, since that&#39;s all we care about\r\n      String firstSentence = input.split(&quot;\\\\.&quot;)[0];\r\n      // then look for matches in the first sentence\r\n      Matcher m = UPPER_CASE_ABBV_PATTERN.matcher(firstSentence);\r\n      List&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n      while (m.find()) {\r\n        results.add(m.group());\r\n      }\r\n      return results;\r\n    }\r\n","title":"Regex in Java: match groups until first symbol occurrence","body":"<p>Sebastian Proske's answer is great, but it's often easier (and more readable) to split complex parsing tasks into separate steps. We can split your goal into two separate steps and thereby create a much simpler and more clearly-correct solution, using your original pattern.</p>\n<pre><code>private static final Pattern UPPER_CASE_ABBV_PATTERN =\n    Pattern.compile(&quot;\\\\b[A-Z]{1,3}\\\\b&quot;);\n\npublic static List&lt;String&gt; getAbbreviationsInFirstSentence(String input) {\n  // isolate the first sentence, since that's all we care about\n  String firstSentence = input.split(&quot;\\\\.&quot;)[0];\n  // then look for matches in the first sentence\n  Matcher m = UPPER_CASE_ABBV_PATTERN.matcher(firstSentence);\n  List&lt;String&gt; results = new ArrayList&lt;&gt;();\n  while (m.find()) {\n    results.add(m.group());\n  }\n  return results;\n}\n</code></pre>\n"}],"owner":{"account_id":9003569,"reputation":489,"user_id":6711224,"accept_rate":86,"display_name":"Vitaliy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42461087,"answer_count":2,"score":5,"last_activity_date":1663999979,"creation_date":1488052813,"question_id":42460949,"body_markdown":"My string looks like this:\r\n\r\n    &quot;Chitkara DK, Rawat DJY, Talley N. The epidemiology of childhood recurrent abdominal pain in Western countries: a systematic review. Am J Gastroenterol. 2005;100(8):1868-75. DOI.&quot;\r\n\r\nWhat I want is to get letters in uppercase (as separate words only) until first dot, to get: `DK DJY N`. But not other characters after, like `J DOI`.\r\n\r\nHere`s my part of code for Java class Pattern: \r\n\r\n    \\\\b[A-Z]{1,3}\\\\b\r\nIs there a general option in regex to stop matching after certain character?\r\n\r\n\r\n\r\n","title":"Regex in Java: match groups until first symbol occurrence","body":"<p>My string looks like this:</p>\n\n<pre><code>\"Chitkara DK, Rawat DJY, Talley N. The epidemiology of childhood recurrent abdominal pain in Western countries: a systematic review. Am J Gastroenterol. 2005;100(8):1868-75. DOI.\"\n</code></pre>\n\n<p>What I want is to get letters in uppercase (as separate words only) until first dot, to get: <code>DK DJY N</code>. But not other characters after, like <code>J DOI</code>.</p>\n\n<p>Here`s my part of code for Java class Pattern: </p>\n\n<pre><code>\\\\b[A-Z]{1,3}\\\\b\n</code></pre>\n\n<p>Is there a general option in regex to stop matching after certain character?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1287515140,"post_id":3949642,"comment_id":4247365,"body_markdown":"You can call one main method from another as well as have the launcher call it.","body":"You can call one main method from another as well as have the launcher call it."}],"answers":[{"tags":[],"owner":{"account_id":215727,"reputation":6239,"user_id":470535,"accept_rate":100,"display_name":"Peter C"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1287245353,"creation_date":1287245353,"answer_id":3949645,"question_id":3949642,"body_markdown":"The Java Virtual Machine.","title":"Who calls the main function in java?","body":"<p>The Java Virtual Machine.</p>\n"},{"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287245437,"creation_date":1287245437,"answer_id":3949649,"question_id":3949642,"body_markdown":"See [Running Java programs][1]...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/854687/running-java-programs-in-one-runtime-instance","title":"Who calls the main function in java?","body":"<p>See <a href=\"https://stackoverflow.com/questions/854687/running-java-programs-in-one-runtime-instance\">Running Java programs</a>...</p>\n"},{"tags":[],"owner":{"display_name":"user372743"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287245471,"creation_date":1287245471,"answer_id":3949653,"question_id":3949642,"body_markdown":"The JVM uses the `main()` as the starting point for a program just like the `int main()` in C++.","title":"Who calls the main function in java?","body":"<p>The JVM uses the <code>main()</code> as the starting point for a program just like the <code>int main()</code> in C++.</p>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1287246587,"creation_date":1287245523,"answer_id":3949655,"question_id":3949642,"body_markdown":"Java classes are executed within a larger context (a particular JVM as others have noted). Below are some possibilities:\n\n  - you run `java -cp {classpath here} com.example.foo.SomeClass` to [explicitly select a class for the java application launcher to run][2]\n  - you run `java -jar somejar.jar` ([the class in question will be selected in the .jar file&#39;s manifest][1])\n  - you are working within Eclipse and use debug/run to execute a particular class&#39;s `main()` method.\n\nIn all cases the `main()` method is the canonical entry point to executing code given a particular class. From the docs on the `java` JVM:\n\n&gt;**DESCRIPTION**\n&gt;\n&gt;    The java tool launches a Java application. It does this by starting a Java runtime environment, loading a specified class, and invoking that class&#39;s main method. The method declaration must look like the following:\n&gt;\n&gt;        public static void main(String args[])\n&gt;\n&gt;    The method must be declared public and static, it must not return any value, and it must accept a String array as a parameter. By default, the first non-option argument is the name of the class to be invoked. A fully-qualified class name should be used. If the -jar option is specified, the first non-option argument is the name of a JAR archive containing class and resource files for the application, with the startup class indicated by the Main-Class manifest header.\n&gt;\n&gt;    The Java runtime searches for the startup class, and other classes used, in three sets of locations: the bootstrap class path, the installed extensions, and the user class path.\n&gt;\n&gt;    Non-option arguments after the class name or JAR file name are passed to the main function.\n&gt;\n&gt;    The javaw command is identical to java, except that with javaw there is no associated console window. Use javaw when you don&#39;t want a command prompt window to appear. The javaw launcher will, however, display a dialog box with error information if a launch fails for some reason. \n\nYou state:\n\n&gt;In the above code when the return is used then it should return to the function which calls the main function.\n\nThere may not be *any* other Java function (in fact there usually isn&#39;t) which calls the `main()` function. It&#39;s the convention for declaring a well-known entry point. If the JVM is launched to run your class&#39;s `main()` method, then when `main()` returns, the JVM exits, except in a few special cases, e.g. there are other non-daemon threads running or there is a shutdown hook.\n\n  [1]: http://download.oracle.com/javase/tutorial/deployment/jar/appman.html\n  [2]: http://download.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html","title":"Who calls the main function in java?","body":"<p>Java classes are executed within a larger context (a particular JVM as others have noted). Below are some possibilities:</p>\n<ul>\n<li>you run <code>java -cp {classpath here} com.example.foo.SomeClass</code> to <a href=\"http://download.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html\" rel=\"noreferrer\">explicitly select a class for the java application launcher to run</a></li>\n<li>you run <code>java -jar somejar.jar</code> (<a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"noreferrer\">the class in question will be selected in the .jar file's manifest</a>)</li>\n<li>you are working within Eclipse and use debug/run to execute a particular class's <code>main()</code> method.</li>\n</ul>\n<p>In all cases the <code>main()</code> method is the canonical entry point to executing code given a particular class. From the docs on the <code>java</code> JVM:</p>\n<blockquote>\n<p><strong>DESCRIPTION</strong></p>\n<p>The java tool launches a Java application. It does this by starting a Java runtime environment, loading a specified class, and invoking that class's main method. The method declaration must look like the following:</p>\n<pre><code>   public static void main(String args[])\n</code></pre>\n<p>The method must be declared public and static, it must not return any value, and it must accept a String array as a parameter. By default, the first non-option argument is the name of the class to be invoked. A fully-qualified class name should be used. If the -jar option is specified, the first non-option argument is the name of a JAR archive containing class and resource files for the application, with the startup class indicated by the Main-Class manifest header.</p>\n<p>The Java runtime searches for the startup class, and other classes used, in three sets of locations: the bootstrap class path, the installed extensions, and the user class path.</p>\n<p>Non-option arguments after the class name or JAR file name are passed to the main function.</p>\n<p>The javaw command is identical to java, except that with javaw there is no associated console window. Use javaw when you don't want a command prompt window to appear. The javaw launcher will, however, display a dialog box with error information if a launch fails for some reason.</p>\n</blockquote>\n<p>You state:</p>\n<blockquote>\n<p>In the above code when the return is used then it should return to the function which calls the main function.</p>\n</blockquote>\n<p>There may not be <em>any</em> other Java function (in fact there usually isn't) which calls the <code>main()</code> function. It's the convention for declaring a well-known entry point. If the JVM is launched to run your class's <code>main()</code> method, then when <code>main()</code> returns, the JVM exits, except in a few special cases, e.g. there are other non-daemon threads running or there is a shutdown hook.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287246723,"creation_date":1287246723,"answer_id":3949730,"question_id":3949642,"body_markdown":"Here&#39;s a nice [example][1] of invoking `main()` via [`JNI_CreateJavaVM`][1].\r\n\r\n[1]:http://www.jguru.com/forums/view.jsp?EID=1264492\r\n[2]:http://download.oracle.com/javase/6/docs/technotes/guides/jni/spec/jniTOC.html","title":"Who calls the main function in java?","body":"<p>Here's a nice <a href=\"http://www.jguru.com/forums/view.jsp?EID=1264492\" rel=\"nofollow\">example</a> of invoking <code>main()</code> via <a href=\"http://www.jguru.com/forums/view.jsp?EID=1264492\" rel=\"nofollow\"><code>JNI_CreateJavaVM</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1491309,"reputation":709,"user_id":1398333,"display_name":"SBTec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338812878,"creation_date":1338812878,"answer_id":10881269,"question_id":3949642,"body_markdown":"Agree with above statements as JVM calls the main method because it is the entry point to any class that has to be loaded in order to execute the class.  ","title":"Who calls the main function in java?","body":"<p>Agree with above statements as JVM calls the main method because it is the entry point to any class that has to be loaded in order to execute the class.  </p>\n"},{"tags":[],"owner":{"account_id":4134521,"reputation":11,"user_id":3391453,"display_name":"Ashish Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394175106,"creation_date":1394175106,"answer_id":22243510,"question_id":3949642,"body_markdown":"Jvm starts main thread to call main method.","title":"Who calls the main function in java?","body":"<p>Jvm starts main thread to call main method.</p>\n"},{"tags":[],"owner":{"account_id":18809894,"reputation":1,"user_id":13718302,"display_name":"Navi Sureka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663999601,"creation_date":1663999579,"answer_id":73835077,"question_id":3949642,"body_markdown":"Java main() method is invoked by : JVM (JAVA VIRTUAL MACHINE)","title":"Who calls the main function in java?","body":"<p>Java main() method is invoked by : JVM (JAVA VIRTUAL MACHINE)</p>\n"}],"owner":{"account_id":194490,"reputation":1048,"user_id":436859,"accept_rate":100,"display_name":"Radheshyam Nayak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11897,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3949655,"answer_count":8,"score":6,"last_activity_date":1663999601,"creation_date":1287245287,"question_id":3949642,"body_markdown":"    public static void main(String[] args) \r\n    {\r\n        boolean t=true;\r\n        System.out.println(&quot;Before return&quot;);\r\n        if(t) return;\r\n        System.out.println(&quot;not execute&quot;);\r\n    }\r\n\r\nIn the above code when the `return` is used then it should return to the function which calls the main function. Who exactly calls the `main` function?","title":"Who calls the main function in java?","body":"<pre><code>public static void main(String[] args) \n{\n    boolean t=true;\n    System.out.println(\"Before return\");\n    if(t) return;\n    System.out.println(\"not execute\");\n}\n</code></pre>\n\n<p>In the above code when the <code>return</code> is used then it should return to the function which calls the main function. Who exactly calls the <code>main</code> function?</p>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663952769,"creation_date":1663952769,"answer_id":73830939,"question_id":73830637,"body_markdown":"Your problem is the actual way types require to do arithmetic in the language.\r\nAll numbers used in an equation must be the same type, However, this is critical for divisions of the outcome may be required to be a float or double!\r\n\r\n\r\n    // avg = (double)sum/a.length;\r\n    // Should be done as\r\n    double avg = (new Integer(sum).doubleValue()/new Integer(a.length).doubleValue());\r\n\r\nYou will often get compiler warnings about conversion of &quot;loss of precision&quot; when using multiple types in an equation when the language will allow it.\r\n","title":"Using variable number of threads in Java","body":"<p>Your problem is the actual way types require to do arithmetic in the language.\nAll numbers used in an equation must be the same type, However, this is critical for divisions of the outcome may be required to be a float or double!</p>\n<pre><code>// avg = (double)sum/a.length;\n// Should be done as\ndouble avg = (new Integer(sum).doubleValue()/new Integer(a.length).doubleValue());\n</code></pre>\n<p>You will often get compiler warnings about conversion of &quot;loss of precision&quot; when using multiple types in an equation when the language will allow it.</p>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663955023,"creation_date":1663954609,"answer_id":73831214,"question_id":73830637,"body_markdown":"### The 2 Ideas On How We Can Improve the quality of your Existing Code.\r\n\r\nPersonal Note: There were a few mistakes in your code, I got the idea of what you were trying to achieve and have done it a bit better way.\r\n\r\n\r\n## 1. Rely on ExecutorService.\r\n\r\nWhy don&#39;t you take advantage of **executor service**, you don&#39;t have to manually control the threads.\r\n\r\n\r\n```\r\nclass Scratch {\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n        System.out.println(parallelAverage(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9, 10,11}, 2));\r\n\r\n    }\r\n\r\n    static double parallelAverage(int a[], final int perSlice) throws ExecutionException, InterruptedException {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(a.length / perSlice);\r\n        List&lt;Future&lt;Double&gt;&gt; futureList = new ArrayList&lt;&gt;();\r\n\r\n        int start, end;\r\n        start = end = 0;\r\n        for (; ; ) {\r\n            if (a.length &lt;= end) {\r\n                break;\r\n            }\r\n            start = end;\r\n            end = Math.min((int) (end + perSlice), a.length);\r\n            futureList.add(executorService.submit(new Worker(a, start, end)));\r\n        }\r\n\r\n\r\n        double avg = 0;\r\n        for (Future&lt;Double&gt; doubleFuture : futureList) {\r\n            Double aDouble = doubleFuture.get();\r\n            avg += aDouble;\r\n        }\r\n        executorService.shutdown();\r\n        return avg;\r\n    }\r\n}\r\n```\r\n\r\n### 2. Use Callable Rather Than Runnable For Returning Values.\r\n\r\nAnd also in your `Worker` class, rather than using a `Runnable` interface a better approach would be to use a `Callable` interface. This allows you to return a value(Future).\r\n\r\n```\r\nfinal class Worker implements Callable&lt;Double&gt; {\r\n    int[] a;\r\n    int low;\r\n    int upp;\r\n\r\n    public Worker(int[] array, final int startInclusive, final int endExclusive) {\r\n        this.a = array;\r\n        this.low = startInclusive;\r\n        this.upp = endExclusive;\r\n    }\r\n\r\n    @Override\r\n    public Double call() throws Exception {\r\n        int sum = 0;\r\n        for (int i = low; i &lt; upp; i++) {\r\n            sum += a[i];\r\n        }\r\n        return (double) sum / a.length;\r\n    }\r\n```","title":"Using variable number of threads in Java","body":"<h3>The 2 Ideas On How We Can Improve the quality of your Existing Code.</h3>\n<p>Personal Note: There were a few mistakes in your code, I got the idea of what you were trying to achieve and have done it a bit better way.</p>\n<h2>1. Rely on ExecutorService.</h2>\n<p>Why don't you take advantage of <strong>executor service</strong>, you don't have to manually control the threads.</p>\n<pre><code>class Scratch {\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        System.out.println(parallelAverage(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9, 10,11}, 2));\n\n    }\n\n    static double parallelAverage(int a[], final int perSlice) throws ExecutionException, InterruptedException {\n        ExecutorService executorService = Executors.newFixedThreadPool(a.length / perSlice);\n        List&lt;Future&lt;Double&gt;&gt; futureList = new ArrayList&lt;&gt;();\n\n        int start, end;\n        start = end = 0;\n        for (; ; ) {\n            if (a.length &lt;= end) {\n                break;\n            }\n            start = end;\n            end = Math.min((int) (end + perSlice), a.length);\n            futureList.add(executorService.submit(new Worker(a, start, end)));\n        }\n\n\n        double avg = 0;\n        for (Future&lt;Double&gt; doubleFuture : futureList) {\n            Double aDouble = doubleFuture.get();\n            avg += aDouble;\n        }\n        executorService.shutdown();\n        return avg;\n    }\n}\n</code></pre>\n<h3>2. Use Callable Rather Than Runnable For Returning Values.</h3>\n<p>And also in your <code>Worker</code> class, rather than using a <code>Runnable</code> interface a better approach would be to use a <code>Callable</code> interface. This allows you to return a value(Future).</p>\n<pre><code>final class Worker implements Callable&lt;Double&gt; {\n    int[] a;\n    int low;\n    int upp;\n\n    public Worker(int[] array, final int startInclusive, final int endExclusive) {\n        this.a = array;\n        this.low = startInclusive;\n        this.upp = endExclusive;\n    }\n\n    @Override\n    public Double call() throws Exception {\n        int sum = 0;\n        for (int i = low; i &lt; upp; i++) {\n            sum += a[i];\n        }\n        return (double) sum / a.length;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663999029,"creation_date":1663999029,"answer_id":73835038,"question_id":73830637,"body_markdown":"The problem is how you initialize the `avg` variable:\r\n```\r\nint avg = 0;\r\n```\r\nIt&#39;s an `int`, every time you add `Worker.avg` to it, which is `double` the decimal part is being lost, `0 + 0.3 = 0`, `1 + 2.7 = 3`, and so on. You can easily observe the behaviour with a debugger.\r\n\r\nYou need to initialize it as double:\r\n```\r\ndouble avg = 0;\r\n```\r\n\r\nAdditional note, this is code duplication and somewhat unclear:\r\n```\r\nif (i+num &gt; a.length){\r\n     Worker x = new Worker(a, i, a.length);\r\n     x.start();\r\n     threads.add(x);\r\n}\r\nelse{\r\n     Worker x = new Worker(a, i, i+num);\r\n     x.start();\r\n     threads.add(x);\r\n}\r\n```\r\nA better way to write it would be using [Math.min()][1]:\r\n```\r\nint upp = Math.min(i + num, a.length);\r\nWorker x = new Worker(a, i, upp);\r\nx.start();\r\nthreads.add(x);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-int-int-","title":"Using variable number of threads in Java","body":"<p>The problem is how you initialize the <code>avg</code> variable:</p>\n<pre><code>int avg = 0;\n</code></pre>\n<p>It's an <code>int</code>, every time you add <code>Worker.avg</code> to it, which is <code>double</code> the decimal part is being lost, <code>0 + 0.3 = 0</code>, <code>1 + 2.7 = 3</code>, and so on. You can easily observe the behaviour with a debugger.</p>\n<p>You need to initialize it as double:</p>\n<pre><code>double avg = 0;\n</code></pre>\n<p>Additional note, this is code duplication and somewhat unclear:</p>\n<pre><code>if (i+num &gt; a.length){\n     Worker x = new Worker(a, i, a.length);\n     x.start();\n     threads.add(x);\n}\nelse{\n     Worker x = new Worker(a, i, i+num);\n     x.start();\n     threads.add(x);\n}\n</code></pre>\n<p>A better way to write it would be using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-int-int-\" rel=\"nofollow noreferrer\">Math.min()</a>:</p>\n<pre><code>int upp = Math.min(i + num, a.length);\nWorker x = new Worker(a, i, upp);\nx.start();\nthreads.add(x);\n</code></pre>\n"}],"owner":{"account_id":26424010,"reputation":11,"user_id":20071270,"display_name":"sstows"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1663999029,"creation_date":1663950634,"question_id":73830637,"body_markdown":"I&#39;m trying to write some code in java that uses a variable number &#39;p&#39; of threads to calculate the average of elements in an array.\r\n\r\nI created this class to represent each thread:\r\n\r\n    class Worker extends Thread {\r\n        int[] a;\r\n        int low;\r\n        int upp;\r\n        double avg = 0;\r\n        public Worker(int[] a, int low, int upp){\r\n            this.a = a;\r\n            this.low = low;\r\n            this.upp = upp;\r\n        }\r\n        public void run(){\r\n            int sum = 0;\r\n            for (int i = low; i &lt; upp; i++){\r\n                sum+=a[i];\r\n            }\r\n            avg = (double)sum/a.length;\r\n        }\r\n    }\r\n\r\n\r\nAnd this is the code to calculate the average:\r\n\r\n    static double parallelaverage(int a[], int p) {\r\n        int avg = 0;\r\n        int num = a.length/p;\r\n        ArrayList&lt;Worker&gt; threads = new ArrayList&lt;Worker&gt;();\r\n        for (int i = 0; i&lt;a.length; i+=num){\r\n            if (i+num &gt; a.length){\r\n                Worker x = new Worker(a, i, a.length);\r\n                x.start();\r\n                threads.add(x);\r\n            }\r\n            else{\r\n                Worker x = new Worker(a, i, i+num);\r\n                x.start();\r\n                threads.add(x);\r\n                \r\n            }\r\n        }\r\n        try{for (Worker thread: threads){\r\n            thread.join();}\r\n        } catch (Exception e){}\r\n        for (Worker thread: threads){\r\n            avg += thread.avg;\r\n        }\r\n        return avg;\r\n    }\r\n\r\nThis seems to make sense to me, but the actual result I get is always way off what would be the actual average. What&#39;s wrong with my code?\r\n","title":"Using variable number of threads in Java","body":"<p>I'm trying to write some code in java that uses a variable number 'p' of threads to calculate the average of elements in an array.</p>\n<p>I created this class to represent each thread:</p>\n<pre><code>class Worker extends Thread {\n    int[] a;\n    int low;\n    int upp;\n    double avg = 0;\n    public Worker(int[] a, int low, int upp){\n        this.a = a;\n        this.low = low;\n        this.upp = upp;\n    }\n    public void run(){\n        int sum = 0;\n        for (int i = low; i &lt; upp; i++){\n            sum+=a[i];\n        }\n        avg = (double)sum/a.length;\n    }\n}\n</code></pre>\n<p>And this is the code to calculate the average:</p>\n<pre><code>static double parallelaverage(int a[], int p) {\n    int avg = 0;\n    int num = a.length/p;\n    ArrayList&lt;Worker&gt; threads = new ArrayList&lt;Worker&gt;();\n    for (int i = 0; i&lt;a.length; i+=num){\n        if (i+num &gt; a.length){\n            Worker x = new Worker(a, i, a.length);\n            x.start();\n            threads.add(x);\n        }\n        else{\n            Worker x = new Worker(a, i, i+num);\n            x.start();\n            threads.add(x);\n            \n        }\n    }\n    try{for (Worker thread: threads){\n        thread.join();}\n    } catch (Exception e){}\n    for (Worker thread: threads){\n        avg += thread.avg;\n    }\n    return avg;\n}\n</code></pre>\n<p>This seems to make sense to me, but the actual result I get is always way off what would be the actual average. What's wrong with my code?</p>\n"},{"tags":["java","algorithm","sorting","bubble-sort"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1663998613,"post_id":73834979,"comment_id":130375580,"body_markdown":"Your `Scanner` `nextInt` method just reads an `int` token.  Your first `Scanner` `nextLine` method reads the EOF whitespace from the last `int` line.  Add a dummy `Scanner` `nextLine` method call after the int loop.","body":"Your <code>Scanner</code> <code>nextInt</code> method just reads an <code>int</code> token.  Your first <code>Scanner</code> <code>nextLine</code> method reads the EOF whitespace from the last <code>int</code> line.  Add a dummy <code>Scanner</code> <code>nextLine</code> method call after the int loop."},{"owner":{"account_id":25054038,"reputation":61,"user_id":18909694,"display_name":"Imaginewagons"},"score":0,"creation_date":1663999493,"post_id":73834979,"comment_id":130375681,"body_markdown":"hello, how do I add a dummy Scanner nextLine method? sorry for the noob question","body":"hello, how do I add a dummy Scanner nextLine method? sorry for the noob question"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1663999567,"post_id":73834979,"comment_id":130375691,"body_markdown":"Just add `sc.nextLine();` after the loop.  Don&#39;t set it to any field.","body":"Just add <code>sc.nextLine();</code> after the loop.  Don&#39;t set it to any field."},{"owner":{"account_id":25054038,"reputation":61,"user_id":18909694,"display_name":"Imaginewagons"},"score":0,"creation_date":1663999668,"post_id":73834979,"comment_id":130375702,"body_markdown":"I tried this and it worked! thank you for the help.","body":"I tried this and it worked! thank you for the help."}],"answers":[{"tags":[],"owner":{"account_id":26310163,"reputation":61,"user_id":19973810,"display_name":"Animesh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663998577,"creation_date":1663998577,"answer_id":73835002,"question_id":73834979,"body_markdown":"So here you are making a mistake:\r\n\r\n    What sorting method you need? U - Bubble Sort, S - Selection Sort\r\n\r\nYou are not providing any input here. You left it blank.","title":"how do I use a string input as a condition in an if-else statement?","body":"<p>So here you are making a mistake:</p>\n<pre><code>What sorting method you need? U - Bubble Sort, S - Selection Sort\n</code></pre>\n<p>You are not providing any input here. You left it blank.</p>\n"}],"owner":{"account_id":25054038,"reputation":61,"user_id":18909694,"display_name":"Imaginewagons"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663999863,"answer_count":1,"score":0,"last_activity_date":1663998577,"creation_date":1663998180,"question_id":73834979,"body_markdown":"Hello I am currently creating a program where it will ask the user 10 integers, and then will ask what sorting method will they use and will it be in ascending or descending order. This is the current progress I&#39;ve made so far:\r\n\r\n     import java.util.*;\r\n     import BubbleSort;\r\n     import SelectionSort;\r\n\r\n    public class SortingAlgorithm{\r\n    public static void main(String args[]){\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    try{\r\n        String reply =&quot;&quot;;\r\n        String choice = &quot;&quot;;\r\n        \r\n    System.out.println(&quot;Please Enter 10 numbers: &quot;);  \r\n    int[] array = new int[10]; \r\n    //reading array elements from the user   \r\n    for(int i=0; i&lt;10; i++) {  \r\n        array[i]=sc.nextInt();  \r\n    }  \r\n\r\n    System.out.println(&quot;What sorting method you need? U - Bubble Sort, S - Selection Sort&quot;);\r\n    reply = sc.nextLine();\r\n\r\n    System.out.println(&quot;Would you like it to be in A - Ascending or D - Descending order?&quot;);\r\n    choice = sc.nextLine();\r\n\r\n        if(reply.equals(&quot;U&quot;) || choice.equals(&quot;u&quot;)){\r\n\r\n            System.out.println(&quot;Your number will be sorted using Bubble Sort&quot;);\r\n          \r\n            if(choice.equals(&quot;A&quot;) || choice.equals(&quot;a&quot;)){\r\n                BubbleSort.bubbleSortAscending(array);\r\n            }\r\n            if(choice.equals(&quot;D&quot;) || choice.equals(&quot;d&quot;)){\r\n                BubbleSort.bubbleSortDescending(array);\r\n            }\r\n            System.out.println(Arrays.toString(array));\r\n        }\r\n        if(reply.equals(&quot;S&quot;) || choice.equals(&quot;s&quot;)){\r\n\r\n            System.out.println(&quot;Your number will be sorted using Selection Sort&quot;);\r\n\r\n            if(choice.equals(&quot;A&quot;) || choice.equals(&quot;a&quot;)){\r\n                SelectionSort.selectionSortAscending(array);\r\n            }\r\n            if(choice.equals(&quot;D&quot;) || choice.equals(&quot;d&quot;)){\r\n                SelectionSort.selectionSortDescending(array);\r\n            }\r\n\r\n            System.out.println(Arrays.toString(array));\r\n        }\r\n     }\r\n     catch(InputMismatchException ime){\r\n         System.out.println(&quot;Can only accept integers.&quot;);\r\n     }\r\n     catch(ArrayIndexOutOfBoundsException ime){\r\n         System.out.println(&quot;Array is out of Bounds.&quot;);\r\n     }   \r\n    }\r\n}\r\n\r\nThe problem is that every time I run the program this is the result\r\n```\r\n     Please Enter 10 numbers: \r\n     1\r\n     5\r\n     2\r\n     8765\r\n     1\r\n     698541\r\n     2\r\n     8\r\n     5\r\n     2\r\n     What sorting method you need? U - Bubble Sort, S - Selection Sort\r\n     Would you like it to be in A - Ascending or D - Descending order?\r\n     A\r\n```\r\n\r\n\r\nAfter asking for 10 integers it skips over asking what sorting method will be used and goes straight to asking if they want it in ascending or descending order, after inputting a value the program ends without showing the expected result, which is the arranged array. Is there anyway to fix or improve this?","title":"how do I use a string input as a condition in an if-else statement?","body":"<p>Hello I am currently creating a program where it will ask the user 10 integers, and then will ask what sorting method will they use and will it be in ascending or descending order. This is the current progress I've made so far:</p>\n<pre><code> import java.util.*;\n import BubbleSort;\n import SelectionSort;\n\npublic class SortingAlgorithm{\npublic static void main(String args[]){\n\nScanner sc = new Scanner(System.in);\ntry{\n    String reply =&quot;&quot;;\n    String choice = &quot;&quot;;\n    \nSystem.out.println(&quot;Please Enter 10 numbers: &quot;);  \nint[] array = new int[10]; \n//reading array elements from the user   \nfor(int i=0; i&lt;10; i++) {  \n    array[i]=sc.nextInt();  \n}  \n\nSystem.out.println(&quot;What sorting method you need? U - Bubble Sort, S - Selection Sort&quot;);\nreply = sc.nextLine();\n\nSystem.out.println(&quot;Would you like it to be in A - Ascending or D - Descending order?&quot;);\nchoice = sc.nextLine();\n\n    if(reply.equals(&quot;U&quot;) || choice.equals(&quot;u&quot;)){\n\n        System.out.println(&quot;Your number will be sorted using Bubble Sort&quot;);\n      \n        if(choice.equals(&quot;A&quot;) || choice.equals(&quot;a&quot;)){\n            BubbleSort.bubbleSortAscending(array);\n        }\n        if(choice.equals(&quot;D&quot;) || choice.equals(&quot;d&quot;)){\n            BubbleSort.bubbleSortDescending(array);\n        }\n        System.out.println(Arrays.toString(array));\n    }\n    if(reply.equals(&quot;S&quot;) || choice.equals(&quot;s&quot;)){\n\n        System.out.println(&quot;Your number will be sorted using Selection Sort&quot;);\n\n        if(choice.equals(&quot;A&quot;) || choice.equals(&quot;a&quot;)){\n            SelectionSort.selectionSortAscending(array);\n        }\n        if(choice.equals(&quot;D&quot;) || choice.equals(&quot;d&quot;)){\n            SelectionSort.selectionSortDescending(array);\n        }\n\n        System.out.println(Arrays.toString(array));\n    }\n }\n catch(InputMismatchException ime){\n     System.out.println(&quot;Can only accept integers.&quot;);\n }\n catch(ArrayIndexOutOfBoundsException ime){\n     System.out.println(&quot;Array is out of Bounds.&quot;);\n }   \n}\n</code></pre>\n<p>}</p>\n<p>The problem is that every time I run the program this is the result</p>\n<pre><code>     Please Enter 10 numbers: \n     1\n     5\n     2\n     8765\n     1\n     698541\n     2\n     8\n     5\n     2\n     What sorting method you need? U - Bubble Sort, S - Selection Sort\n     Would you like it to be in A - Ascending or D - Descending order?\n     A\n</code></pre>\n<p>After asking for 10 integers it skips over asking what sorting method will be used and goes straight to asking if they want it in ascending or descending order, after inputting a value the program ends without showing the expected result, which is the arranged array. Is there anyway to fix or improve this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","gmail","selenium-firefoxdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664009288,"post_id":73834593,"comment_id":130376955,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":19096069,"reputation":149,"user_id":13945310,"display_name":"BayanR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663995644,"creation_date":1663995644,"answer_id":73834844,"question_id":73834593,"body_markdown":"Here are some common client-side checks done by many websites to block selenium and other automated browsers.\r\n\r\n    window._phantom\r\n    window.webdriver\r\n    window.domAutomation\r\n    window.$cdc_asdjflasutopfhvcZLmcfl_\r\n    document.$cdc_asdjflasutopfhvcZLmcfl_\r\n    window.document.documentElement.getAttribute(&#39;webdriver&#39;)\r\n    navigator.webdriver\r\n    window.document.documentElement.getAttribute(&#39;driver&#39;)\r\n    window.document.documentElement.getAttribute(&#39;selenium&#39;)\r\n    window.cdc_adoQpoasnfa76pfcZLmcfl_Array\r\n    window.__nightmare\r\n    window._Selenium_IDE_Recorder\r\n    window.__$webdriverAsyncExecutor\r\n    window.__driver_evaluate\r\n    window.__selenium_evaluate\r\n    window.domAutomationController\r\n    window.calledSelenium\r\n    window.callSelenium\r\n\r\nMajority of checks are in the window, navigator and document javascript object. You can spoof these values using javascript. Make sure your javascript is executed prior to that of the website&#39;s.\r\n\r\nUsing Selenium for emails is overkill. I&#39;d highly suggest looking into the Jakarta Mail API for a much easier, less consumptive approach.\r\n","title":"JAVA - selenium 4 - Firefox : How to avoid detection + login to gmail ERROR","body":"<p>Here are some common client-side checks done by many websites to block selenium and other automated browsers.</p>\n<pre><code>window._phantom\nwindow.webdriver\nwindow.domAutomation\nwindow.$cdc_asdjflasutopfhvcZLmcfl_\ndocument.$cdc_asdjflasutopfhvcZLmcfl_\nwindow.document.documentElement.getAttribute('webdriver')\nnavigator.webdriver\nwindow.document.documentElement.getAttribute('driver')\nwindow.document.documentElement.getAttribute('selenium')\nwindow.cdc_adoQpoasnfa76pfcZLmcfl_Array\nwindow.__nightmare\nwindow._Selenium_IDE_Recorder\nwindow.__$webdriverAsyncExecutor\nwindow.__driver_evaluate\nwindow.__selenium_evaluate\nwindow.domAutomationController\nwindow.calledSelenium\nwindow.callSelenium\n</code></pre>\n<p>Majority of checks are in the window, navigator and document javascript object. You can spoof these values using javascript. Make sure your javascript is executed prior to that of the website's.</p>\n<p>Using Selenium for emails is overkill. I'd highly suggest looking into the Jakarta Mail API for a much easier, less consumptive approach.</p>\n"}],"owner":{"account_id":18378383,"reputation":11,"user_id":13386942,"display_name":"Ismail EZZERRIFI AMRANI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663995644,"creation_date":1663990972,"question_id":73834593,"body_markdown":"I want to automate the connexion to gmail with selenium 4.\r\nbut I get the following message:\r\n\r\n[Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5lvoS.png\r\n\r\nhow can i disable the detection ?\r\nI have tried all the solutions that exist in the web now, but no result :(\r\n\r\nPlease Help !\r\n\r\nThank you\r\n","title":"JAVA - selenium 4 - Firefox : How to avoid detection + login to gmail ERROR","body":"<p>I want to automate the connexion to gmail with selenium 4.\nbut I get the following message:</p>\n<p><a href=\"https://i.stack.imgur.com/5lvoS.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n<p>how can i disable the detection ?\nI have tried all the solutions that exist in the web now, but no result :(</p>\n<p>Please Help !</p>\n<p>Thank you</p>\n"},{"tags":["java","while-loop","try-catch"],"comments":[{"owner":{"account_id":26428129,"reputation":1,"user_id":20074731,"display_name":"An Phan"},"score":0,"creation_date":1663993867,"post_id":73834733,"comment_id":130375166,"body_markdown":"My friend figured out the solution is to change the System.err.println() into System.out.print() but we don&#39;t really understand why? Can anybody help me?","body":"My friend figured out the solution is to change the System.err.println() into System.out.print() but we don&#39;t really understand why? Can anybody help me?"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1663994942,"post_id":73834733,"comment_id":130375254,"body_markdown":"`System.out` and `System.err` are printing to different &quot;output&quot; descriptors, your terminal displays both on console window, but it is just how your particular terminal is configured, and it looks like your terminal displays stderr when input is requested, it looks similar to the [intellij bug](https://youtrack.jetbrains.com/issue/IDEA-70016/error-mixing-stdoutstderr)","body":"<code>System.out</code> and <code>System.err</code> are printing to different &quot;output&quot; descriptors, your terminal displays both on console window, but it is just how your particular terminal is configured, and it looks like your terminal displays stderr when input is requested, it looks similar to the <a href=\"https://youtrack.jetbrains.com/issue/IDEA-70016/error-mixing-stdoutstderr\" rel=\"nofollow noreferrer\">intellij bug</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663995027,"creation_date":1663995027,"answer_id":73834805,"question_id":73834733,"body_markdown":"`System.err` and `System.out` are separate concepts. Your code will write to syserr, then loops and _instantly_ writes to sysout. Effectively then, the &#39;Please input number&#39; and &#39;Enter number&#39; messages are sent at the exact same time (computers are just that fast).\r\n\r\nOne goes to the &#39;error stream&#39;, the other goes, simultaneously to the &#39;output stream&#39;, and as both are going to end up on your terminal they fight and randomly one wins. Sometimes they are in the right order, sometimes in the wrong. Changing the return type from `float` to `void` was irrelevant - just run it a few times.\r\n\r\nBy going with `System.out` for both, there is no racing. It&#39;s the simple way to solve this problem.\r\n","title":"The code keeps print the text in try before printing error in the catch","body":"<p><code>System.err</code> and <code>System.out</code> are separate concepts. Your code will write to syserr, then loops and <em>instantly</em> writes to sysout. Effectively then, the 'Please input number' and 'Enter number' messages are sent at the exact same time (computers are just that fast).</p>\n<p>One goes to the 'error stream', the other goes, simultaneously to the 'output stream', and as both are going to end up on your terminal they fight and randomly one wins. Sometimes they are in the right order, sometimes in the wrong. Changing the return type from <code>float</code> to <code>void</code> was irrelevant - just run it a few times.</p>\n<p>By going with <code>System.out</code> for both, there is no racing. It's the simple way to solve this problem.</p>\n"}],"owner":{"account_id":26428129,"reputation":1,"user_id":20074731,"display_name":"An Phan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663995027,"creation_date":1663993726,"question_id":73834733,"body_markdown":"The requirement is to input until it is a digit. I created a try-catch within a while loop, the code was supposed to print &quot;Please enter number&quot; before forcing it to print &quot;Enter number&quot;, however, the output was reversed. I found out the reason was from the return type, if I change the return type to void, the code will execute properly. Is there any way to keep the return type as float but still print in the right order? Below is the code that has return type as &quot;float&quot;\r\n\r\n    float inputDigit() {\r\n        Scanner sc = new Scanner(System.in);\r\n        float digit = 0;\r\n        while (true) {\r\n            try {\r\n                System.out.print(&quot;Enter number: &quot;);\r\n                digit = Float.parseFloat(sc.nextLine());\r\n                return digit;\r\n            } catch (NumberFormatException e) {\r\n                System.err.println(&quot;Please input number&quot;);\r\n            }\r\n        }\r\n    }","title":"The code keeps print the text in try before printing error in the catch","body":"<p>The requirement is to input until it is a digit. I created a try-catch within a while loop, the code was supposed to print &quot;Please enter number&quot; before forcing it to print &quot;Enter number&quot;, however, the output was reversed. I found out the reason was from the return type, if I change the return type to void, the code will execute properly. Is there any way to keep the return type as float but still print in the right order? Below is the code that has return type as &quot;float&quot;</p>\n<pre><code>float inputDigit() {\n    Scanner sc = new Scanner(System.in);\n    float digit = 0;\n    while (true) {\n        try {\n            System.out.print(&quot;Enter number: &quot;);\n            digit = Float.parseFloat(sc.nextLine());\n            return digit;\n        } catch (NumberFormatException e) {\n            System.err.println(&quot;Please input number&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","pentaho","kettle"],"answers":[{"tags":[],"owner":{"account_id":2191185,"reputation":6226,"user_id":1938185,"accept_rate":73,"display_name":"AlainD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516789413,"creation_date":1516789413,"answer_id":48420067,"question_id":48419828,"body_markdown":"There is a `.kettle` directory in your home directory. In this directory, you may have a `db-cache-&lt;some.numbers&gt;` file. If that is the case: stop spoon, delete the db-cache file, and restart spoon.\r\n\r\nIf it doesn&#39;t work, an other file in that directory may be corrupted.","title":"Kettle / Pentaho Data Integration - unable to create a Database Connection (XulException: java.lang.reflect.InvocationTargetException)","body":"<p>There is a <code>.kettle</code> directory in your home directory. In this directory, you may have a <code>db-cache-&lt;some.numbers&gt;</code> file. If that is the case: stop spoon, delete the db-cache file, and restart spoon.</p>\n\n<p>If it doesn't work, an other file in that directory may be corrupted.</p>\n"},{"tags":[],"owner":{"account_id":12735813,"reputation":281,"user_id":9250801,"display_name":"Blew my stack"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1516938317,"creation_date":1516938317,"answer_id":48455521,"question_id":48419828,"body_markdown":"As I found out from the Pentaho Data Integration forum, it was a matter of my version of Java.\r\n&lt;br/&gt;\r\nI uninstalled Java 9 and installed Java 8 and then no longer got this error.","title":"Kettle / Pentaho Data Integration - unable to create a Database Connection (XulException: java.lang.reflect.InvocationTargetException)","body":"<p>As I found out from the Pentaho Data Integration forum, it was a matter of my version of Java.\n<br/>\nI uninstalled Java 9 and installed Java 8 and then no longer got this error.</p>\n"},{"tags":[],"owner":{"account_id":7421718,"reputation":4181,"user_id":5645769,"accept_rate":50,"display_name":"Tᴀʀᴇǫ Mᴀʜᴍᴏᴏᴅ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544077302,"creation_date":1544077302,"answer_id":53645687,"question_id":48419828,"body_markdown":"As mentioned in [Pentaho Components Reference][1], Only Java 8 is supported by Pentaho Data Integration, So it is not recommended to try out Java 9 or Java 11 at the moment (until they release a version which supports above Java 8).\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://help.pentaho.com/Documentation/8.1/Setup/Components_Reference\r\n  [2]: https://i.stack.imgur.com/MnbOt.png","title":"Kettle / Pentaho Data Integration - unable to create a Database Connection (XulException: java.lang.reflect.InvocationTargetException)","body":"<p>As mentioned in <a href=\"https://help.pentaho.com/Documentation/8.1/Setup/Components_Reference\" rel=\"nofollow noreferrer\">Pentaho Components Reference</a>, Only Java 8 is supported by Pentaho Data Integration, So it is not recommended to try out Java 9 or Java 11 at the moment (until they release a version which supports above Java 8).</p>\n\n<p><a href=\"https://i.stack.imgur.com/MnbOt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MnbOt.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":26428335,"reputation":1,"user_id":20074909,"display_name":"Deepu J.S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663994685,"creation_date":1663994685,"answer_id":73834790,"question_id":48419828,"body_markdown":"Give PENTAHO_JAVA_HOME=&lt;jdk-1.8&gt; path to environment variable.\r\nThis addition has resolved my issue.","title":"Kettle / Pentaho Data Integration - unable to create a Database Connection (XulException: java.lang.reflect.InvocationTargetException)","body":"<p>Give PENTAHO_JAVA_HOME=&lt;jdk-1.8&gt; path to environment variable.\nThis addition has resolved my issue.</p>\n"}],"owner":{"account_id":12735813,"reputation":281,"user_id":9250801,"display_name":"Blew my stack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12668,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1663994685,"creation_date":1516788760,"question_id":48419828,"body_markdown":"Having finally got kettle to start and not hang, I still cannot use it to much avail, as when I try to create a new Database Connection (after creating a new Transformation) I get this error:\n\n    org.pentaho.ui.xul.XulException: java.lang.reflect.InvocationTargetException\n\nThereafter, I get this more general error for the same actions:\n\n    General error in dialog\n\nIn order to get the first &#39;java...TargetException&#39; again, I have to close and restart kettle.&lt;br&gt;\nNote, this also happens when I load an existing kettle job and try to edit its database connection.\n\nCould this be a configuration issue? A missing or misplaced file ? What is the Target that is failing to be Invoked? \nThanks in advance for your help.\n\n### My config: ###\nmacos 10.12.6 (Sierra) &lt;br&gt;\nPentaho Data Integration (or kettle) 7.1.0 &lt;br&gt;\njava version &quot;9.0.4&quot;","title":"Kettle / Pentaho Data Integration - unable to create a Database Connection (XulException: java.lang.reflect.InvocationTargetException)","body":"<p>Having finally got kettle to start and not hang, I still cannot use it to much avail, as when I try to create a new Database Connection (after creating a new Transformation) I get this error:</p>\n<pre><code>org.pentaho.ui.xul.XulException: java.lang.reflect.InvocationTargetException\n</code></pre>\n<p>Thereafter, I get this more general error for the same actions:</p>\n<pre><code>General error in dialog\n</code></pre>\n<p>In order to get the first 'java...TargetException' again, I have to close and restart kettle.<br>\nNote, this also happens when I load an existing kettle job and try to edit its database connection.</p>\n<p>Could this be a configuration issue? A missing or misplaced file ? What is the Target that is failing to be Invoked?\nThanks in advance for your help.</p>\n<h3>My config:</h3>\n<p>macos 10.12.6 (Sierra) <br>\nPentaho Data Integration (or kettle) 7.1.0 <br>\njava version &quot;9.0.4&quot;</p>\n"},{"tags":["java","json","spring","annotations"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1649758425,"post_id":71840793,"comment_id":126951721,"body_markdown":"In this case you can use a wrapper `Integer` class and try to check with null and non null.","body":"In this case you can use a wrapper <code>Integer</code> class and try to check with null and non null."},{"owner":{"account_id":24660786,"reputation":21,"user_id":18557023,"display_name":"papasvenska"},"score":0,"creation_date":1649761150,"post_id":71840793,"comment_id":126952659,"body_markdown":"theres no &quot;null&quot; value if you mean that, both values are 0 as number.","body":"theres no &quot;null&quot; value if you mean that, both values are 0 as number."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1649770006,"post_id":71840793,"comment_id":126956202,"body_markdown":"Kindly note if you use primitive int you will get by default 0 value but if you use Integer wrapper class you will get results as expected.","body":"Kindly note if you use primitive int you will get by default 0 value but if you use Integer wrapper class you will get results as expected."}],"answers":[{"tags":[],"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649761434,"creation_date":1649761434,"answer_id":71841511,"question_id":71840793,"body_markdown":"There is not a way to check whether the int value &quot;0&quot; is set by default or not in Java. Instead you can try one of these options.\r\n\r\n 1. Use **Integer** - When using an Integer instead int, you can differntiate this easily. The Integer will be null if a value is not set. (I prefer this way)\r\n 2. Use int and use a boolean field in order to mark whether a value is set to the int or not. You can set the value of the boolean to &quot;true&quot; in the setter method of your int field. By looking at the boolean value you can differentiate whether a value is set to the int field or not.\r\n```\r\n    private int foo;\r\n    \r\n    private boolean isFooSet;\r\n    \r\n    public void setFoo(int value){\r\n        this.foo = value;\r\n        this.isFooSet = true;\r\n    }\r\n```\r\n\r\n","title":"Java POJO JSON ignore default field annotation","body":"<p>There is not a way to check whether the int value &quot;0&quot; is set by default or not in Java. Instead you can try one of these options.</p>\n<ol>\n<li>Use <strong>Integer</strong> - When using an Integer instead int, you can differntiate this easily. The Integer will be null if a value is not set. (I prefer this way)</li>\n<li>Use int and use a boolean field in order to mark whether a value is set to the int or not. You can set the value of the boolean to &quot;true&quot; in the setter method of your int field. By looking at the boolean value you can differentiate whether a value is set to the int field or not.</li>\n</ol>\n<pre><code>    private int foo;\n    \n    private boolean isFooSet;\n    \n    public void setFoo(int value){\n        this.foo = value;\n        this.isFooSet = true;\n    }\n</code></pre>\n"}],"owner":{"account_id":24660786,"reputation":21,"user_id":18557023,"display_name":"papasvenska"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663992812,"creation_date":1649758163,"question_id":71840793,"body_markdown":"How can I seperate a JSON field that gets actually set to int value 0 versus set to 0 by default?\r\nI want to see the json field with actual value: &#39;0&#39;,\r\nbut ignore it when its not set at all (but still ends up as 0).\r\n\r\nI am currently testing this on my int field variable:\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n\r\nbut it ignores every 0 value for that field in my json.","title":"Java POJO JSON ignore default field annotation","body":"<p>How can I seperate a JSON field that gets actually set to int value 0 versus set to 0 by default?\nI want to see the json field with actual value: '0',\nbut ignore it when its not set at all (but still ends up as 0).</p>\n<p>I am currently testing this on my int field variable:</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_DEFAULT)\n</code></pre>\n<p>but it ignores every 0 value for that field in my json.</p>\n"},{"tags":["java","string","reverse"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1657967791,"post_id":73003464,"comment_id":128938684,"body_markdown":"Please provide example inputs and outputs.","body":"Please provide example inputs and outputs."},{"owner":{"account_id":25418849,"reputation":13,"user_id":19225244,"display_name":"Andriy"},"score":0,"creation_date":1657970940,"post_id":73003464,"comment_id":128939238,"body_markdown":"Example what i need: Input: String rev &quot;abcdefg&quot;, String ignore &quot;cf&quot; Output: &quot;gecdbfa&quot;","body":"Example what i need: Input: String rev &quot;abcdefg&quot;, String ignore &quot;cf&quot; Output: &quot;gecdbfa&quot;"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657971263,"post_id":73003464,"comment_id":128939285,"body_markdown":"And how do you suggest to do this - in your own words? And what is wrong with your current code?","body":"And how do you suggest to do this - in your own words? And what is wrong with your current code?"}],"answers":[{"tags":[],"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657973409,"creation_date":1657973409,"answer_id":73004081,"question_id":73003464,"body_markdown":"In your code, when you swap values at 2 positions, they both have to be valid characters, meaning, both alphabetic and not of the characters of `ignore`. Second issue is you are equating a character of `ignore` directly with left pointer of the `rev` string in `ign[i] == str[l]`. They need not coincide index-wise this way.\r\n\r\n------\r\n\r\n**Algorithm:**\r\n\r\n* Create a set of all the characters in `ignore`.\r\n* Create a `result` array of type `char` with length same as `rev`.\r\n* Create another `reserved` boolean array with length same as `rev`.\r\n* Now, loop on `rev` char by char. If it is non-alphabetic or one of the chars of `ignore`, fix that position with that char. In `reserved`, mark this index as `true` as we can&#39;t mess with this index now. \r\n* Once done, move again on the string `rev` from left to right and this time only consider alphabetic chars and the ones which aren&#39;t a part of `ignore`. Now, add them in a reverse way inside `result` to actually store in the _reversed_ state. Note that the next non-reserved location won&#39;t always be sequential in nature with a simple `ptr--`. We would need a while loop inside to get the next non reserved seat and insert them there.\r\n\r\n**Snippet:**\r\n\r\n    public static String reverseString(String rev, String ignore) {\r\n      Set&lt;Character&gt; set = new HashSet&lt;&gt;();\r\n      for(int i = 0; i &lt; ignore.length(); ++i){\r\n        set.add(ignore.charAt(i));\r\n      }\r\n      \r\n      char[] result = new char[rev.length()];\r\n      boolean[] reserved = new boolean[rev.length()];\r\n      \r\n      \r\n      for(int i = 0; i &lt; rev.length(); ++i){\r\n        if(!Character.isAlphabetic(rev.charAt(i)) || set.contains(rev.charAt(i))){\r\n          result[i] = rev.charAt(i);\r\n          reserved[i] = true;\r\n        }\r\n      }\r\n      \r\n      int ptr = rev.length() - 1;\r\n      for(int i = 0; i &lt; rev.length(); ++i){\r\n        if(Character.isAlphabetic(rev.charAt(i)) &amp;&amp; !set.contains(rev.charAt(i))){\r\n          while(ptr &gt;= 0 &amp;&amp; reserved[ptr]) ptr--;\r\n          result[ptr--] = rev.charAt(i);\r\n        }\r\n      }\r\n      \r\n      return new String(result);\r\n    }\r\n\r\n[**Online Demo**](https://onecompiler.com/java/3ya647bwe)","title":"Reverse string without affecting specific characters that user can input","body":"<p>In your code, when you swap values at 2 positions, they both have to be valid characters, meaning, both alphabetic and not of the characters of <code>ignore</code>. Second issue is you are equating a character of <code>ignore</code> directly with left pointer of the <code>rev</code> string in <code>ign[i] == str[l]</code>. They need not coincide index-wise this way.</p>\n<hr />\n<p><strong>Algorithm:</strong></p>\n<ul>\n<li>Create a set of all the characters in <code>ignore</code>.</li>\n<li>Create a <code>result</code> array of type <code>char</code> with length same as <code>rev</code>.</li>\n<li>Create another <code>reserved</code> boolean array with length same as <code>rev</code>.</li>\n<li>Now, loop on <code>rev</code> char by char. If it is non-alphabetic or one of the chars of <code>ignore</code>, fix that position with that char. In <code>reserved</code>, mark this index as <code>true</code> as we can't mess with this index now.</li>\n<li>Once done, move again on the string <code>rev</code> from left to right and this time only consider alphabetic chars and the ones which aren't a part of <code>ignore</code>. Now, add them in a reverse way inside <code>result</code> to actually store in the <em>reversed</em> state. Note that the next non-reserved location won't always be sequential in nature with a simple <code>ptr--</code>. We would need a while loop inside to get the next non reserved seat and insert them there.</li>\n</ul>\n<p><strong>Snippet:</strong></p>\n<pre><code>public static String reverseString(String rev, String ignore) {\n  Set&lt;Character&gt; set = new HashSet&lt;&gt;();\n  for(int i = 0; i &lt; ignore.length(); ++i){\n    set.add(ignore.charAt(i));\n  }\n  \n  char[] result = new char[rev.length()];\n  boolean[] reserved = new boolean[rev.length()];\n  \n  \n  for(int i = 0; i &lt; rev.length(); ++i){\n    if(!Character.isAlphabetic(rev.charAt(i)) || set.contains(rev.charAt(i))){\n      result[i] = rev.charAt(i);\n      reserved[i] = true;\n    }\n  }\n  \n  int ptr = rev.length() - 1;\n  for(int i = 0; i &lt; rev.length(); ++i){\n    if(Character.isAlphabetic(rev.charAt(i)) &amp;&amp; !set.contains(rev.charAt(i))){\n      while(ptr &gt;= 0 &amp;&amp; reserved[ptr]) ptr--;\n      result[ptr--] = rev.charAt(i);\n    }\n  }\n  \n  return new String(result);\n}\n</code></pre>\n<p><a href=\"https://onecompiler.com/java/3ya647bwe\" rel=\"nofollow noreferrer\"><strong>Online Demo</strong></a></p>\n"}],"owner":{"account_id":25418849,"reputation":13,"user_id":19225244,"display_name":"Andriy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73004081,"answer_count":1,"score":0,"last_activity_date":1663992476,"creation_date":1657967664,"question_id":73003464,"body_markdown":"Need to reverse string without affecting all non alphabetical charachters and specific characters that user can input to ignore. I figured out how to ignore non alphabetical characters and it do the job when text-to-reverse match text-to-ignore strings but don&#39;t work when it different.  \r\nHere&#39;s my code:\r\n\r\n    public class Anagram {\r\n\r\n    public static String reverseString(String rev, String ignore) {\r\n        char[] str = rev.toCharArray();\r\n        int r = str.length - 1;\r\n        int l = 0;\r\n        if ((ignore != null) &amp;&amp; ignore.contains(rev)) {\r\n            char[] ign = ignore.toCharArray();\r\n            while (l &lt; r)\r\n                for (int i = 0; i &lt; ignore.length(); i++) {\r\n                    if (!Character.isAlphabetic(str[l]) || (ign[i] == str[l])) {\r\n                        l++;\r\n                    } else if (!Character.isAlphabetic(str[r]) || (ign[i] == str[r])) {\r\n                        r--;\r\n                    } else {\r\n                        char tmp = str[l];\r\n                        str[l] = str[r];\r\n                        str[r] = tmp;\r\n                        l++;\r\n                        r--;\r\n                    }\r\n                }\r\n        } else {\r\n            while (l &lt; r) {\r\n                if (!Character.isAlphabetic(str[l])) {\r\n                    l++;\r\n                } else if (!Character.isAlphabetic(str[r])) {\r\n                    r--;\r\n                } else {\r\n                    char tmp = str[l];\r\n                    str[l] = str[r];\r\n                    str[r] = tmp;\r\n                    l++;\r\n                    r--;\r\n                }\r\n            }\r\n        }\r\n        return new String(str);\r\n    }}}\r\n\r\n\r\n   \r\n**Example what i need:\r\nInput: String rev &quot;abcdefg&quot;, String ignore &quot;cf&quot;\r\nOutput: &quot;gecdbfa&quot;**\r\n\r\n","title":"Reverse string without affecting specific characters that user can input","body":"<p>Need to reverse string without affecting all non alphabetical charachters and specific characters that user can input to ignore. I figured out how to ignore non alphabetical characters and it do the job when text-to-reverse match text-to-ignore strings but don't work when it different.<br />\nHere's my code:</p>\n<pre><code>public class Anagram {\n\npublic static String reverseString(String rev, String ignore) {\n    char[] str = rev.toCharArray();\n    int r = str.length - 1;\n    int l = 0;\n    if ((ignore != null) &amp;&amp; ignore.contains(rev)) {\n        char[] ign = ignore.toCharArray();\n        while (l &lt; r)\n            for (int i = 0; i &lt; ignore.length(); i++) {\n                if (!Character.isAlphabetic(str[l]) || (ign[i] == str[l])) {\n                    l++;\n                } else if (!Character.isAlphabetic(str[r]) || (ign[i] == str[r])) {\n                    r--;\n                } else {\n                    char tmp = str[l];\n                    str[l] = str[r];\n                    str[r] = tmp;\n                    l++;\n                    r--;\n                }\n            }\n    } else {\n        while (l &lt; r) {\n            if (!Character.isAlphabetic(str[l])) {\n                l++;\n            } else if (!Character.isAlphabetic(str[r])) {\n                r--;\n            } else {\n                char tmp = str[l];\n                str[l] = str[r];\n                str[r] = tmp;\n                l++;\n                r--;\n            }\n        }\n    }\n    return new String(str);\n}}}\n</code></pre>\n<p><strong>Example what i need:\nInput: String rev &quot;abcdefg&quot;, String ignore &quot;cf&quot;\nOutput: &quot;gecdbfa&quot;</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1663976314,"post_id":73833808,"comment_id":130373709,"body_markdown":"Sure: use a regular expression","body":"Sure: use a regular expression"},{"owner":{"account_id":7176240,"reputation":39,"user_id":5482083,"display_name":"St33v3n"},"score":0,"creation_date":1663976550,"post_id":73833808,"comment_id":130373727,"body_markdown":"that&#39;s the only method?","body":"that&#39;s the only method?"},{"owner":{"account_id":2327072,"reputation":7733,"user_id":2041317,"accept_rate":100,"display_name":"cup"},"score":0,"creation_date":1663976563,"post_id":73833808,"comment_id":130373728,"body_markdown":"Alternatively, check if the character is the same as its upper/lowercase equivalent - that is, if upper/lower that you are using also takes the European characters like &#225; and &#193;.  This includes numbers as non-letters","body":"Alternatively, check if the character is the same as its upper/lowercase equivalent - that is, if upper/lower that you are using also takes the European characters like &#225; and &#193;.  This includes numbers as non-letters"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1663976596,"post_id":73833808,"comment_id":130373733,"body_markdown":"No, but it&#39;s by far the most sensible if you just need to test for specific characters, or entire character classes.","body":"No, but it&#39;s by far the most sensible if you just need to test for specific characters, or entire character classes."}],"answers":[{"tags":[],"owner":{"account_id":23848746,"reputation":29,"user_id":17852930,"display_name":"Kyoko Chidori"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663989916,"creation_date":1663986030,"answer_id":73834351,"question_id":73833808,"body_markdown":"Take &quot;!@#$%%^&quot; as a string say A \r\nand then run 1 loop i from 0 to less than length of the input string stored in say S and another loop j from 0 to length of A ( j loop is nested within i loop) \r\nnow check \r\nif ( S.charAt(i) == A.charAt(j) )\r\n{ // relevant code} \r\n\r\nas in:\r\n```\r\nString S= br.readLine();\r\nString A= &quot;!@#$%%^&quot;;\r\nfor ( int i=0; i&lt; S.length(); i++)\r\n {for(int j=0;j&lt; A.length(); j++)\r\n    {\r\n      if (S.charAt(i) == A.charAt(j)) \r\n       {// relevant code\r\n        }\r\n     }\r\n}\r\n```\r\n\r\nthis brings about the worst case complexity to be O(n&#178;) , but considering the point of view of a school student I view this as the easiest one for academic purposes","title":"how to check if there is a symbol on a String java","body":"<p>Take &quot;!@#$%%^&quot; as a string say A\nand then run 1 loop i from 0 to less than length of the input string stored in say S and another loop j from 0 to length of A ( j loop is nested within i loop)\nnow check\nif ( S.charAt(i) == A.charAt(j) )\n{ // relevant code}</p>\n<p>as in:</p>\n<pre><code>String S= br.readLine();\nString A= &quot;!@#$%%^&quot;;\nfor ( int i=0; i&lt; S.length(); i++)\n {for(int j=0;j&lt; A.length(); j++)\n    {\n      if (S.charAt(i) == A.charAt(j)) \n       {// relevant code\n        }\n     }\n}\n</code></pre>\n<p>this brings about the worst case complexity to be O(n²) , but considering the point of view of a school student I view this as the easiest one for academic purposes</p>\n"}],"owner":{"account_id":7176240,"reputation":39,"user_id":5482083,"display_name":"St33v3n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663989916,"creation_date":1663976135,"question_id":73833808,"body_markdown":"I want to know if is there a method to check if there are any symbols in a string, I know that to check if there&#39;s an uppercase is used:\r\n\r\n`enter code here`character.isUpperCase(letter);\r\n\r\nis there any option such as this but for special symbols like: !@#$%%^&quot;","title":"how to check if there is a symbol on a String java","body":"<p>I want to know if is there a method to check if there are any symbols in a string, I know that to check if there's an uppercase is used:</p>\n<p><code>enter code here</code>character.isUpperCase(letter);</p>\n<p>is there any option such as this but for special symbols like: !@#$%%^&quot;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1663976508,"post_id":73833822,"comment_id":130373723,"body_markdown":"YIp, this is a very common programming problem.  So reason it through.  What&#39;s the problem really?  Isn&#39;t it that the first time through the loop, you don&#39;t want to add a comma before adding the next integer?  So how could you enhance your code just a bit to deal with the special case.? (Hint: the string `str` is empty at that point).  \\","body":"YIp, this is a very common programming problem.  So reason it through.  What&#39;s the problem really?  Isn&#39;t it that the first time through the loop, you don&#39;t want to add a comma before adding the next integer?  So how could you enhance your code just a bit to deal with the special case.? (Hint: the string <code>str</code> is empty at that point).  \\"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1663985572,"post_id":73833822,"comment_id":130374470,"body_markdown":"`public static String til(int[] table) { return Arrays.toString(table); }` (note: This will have a space after each comma.)","body":"<code>public static String til(int[] table) { return Arrays.toString(table); }</code> (note: This will have a space after each comma.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1663989568,"post_id":73833822,"comment_id":130374804,"body_markdown":"Use `StringBuilder` rather than `String` concatenation ... if you expect the array may be large.  You can also solve this using `StringJoiner` or Java 8 streams.","body":"Use <code>StringBuilder</code> rather than <code>String</code> concatenation ... if you expect the array may be large.  You can also solve this using <code>StringJoiner</code> or Java 8 streams."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663976516,"creation_date":1663976516,"answer_id":73833831,"question_id":73833822,"body_markdown":"Use a variable to keep track of whether or not you&#39;re on the first iteration. If you are, don&#39;t put a comma before it.\r\n\r\n```\r\nboolean isFirst = true;\r\nfor (int i = 0; i &lt; tabell.length; i++) {\r\n  if (!isFirst) {\r\n    str += &quot;,&quot;;\r\n  }\r\n  isFirst = false;\r\n  str += tabell[i];\r\n}\r\n```","title":"How do I add commas when converting from Int [] to String?","body":"<p>Use a variable to keep track of whether or not you're on the first iteration. If you are, don't put a comma before it.</p>\n<pre><code>boolean isFirst = true;\nfor (int i = 0; i &lt; tabell.length; i++) {\n  if (!isFirst) {\n    str += &quot;,&quot;;\n  }\n  isFirst = false;\n  str += tabell[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663977831,"creation_date":1663976860,"answer_id":73833852,"question_id":73833822,"body_markdown":"You need to handle the first iteration through your loop as a special case, because you don&#39;t want to add a comma the first time around. There&#39;s something you can use to know that you&#39;re in the first iteration...the fact that the string you&#39;re building is empty because you haven&#39;t added anything to it yet.\r\n\r\nThis makes extra good sense because if the string is empty, then it doesn&#39;t yet contain a term that you want to separate from the next term with a comma.  \r\n\r\nHere&#39;s how you do this:\r\n\r\n    String str = &quot;&quot;;\r\n    for (int i = 0; i &lt; tabell.length; i++) {\r\n        if (str.length() &gt; 0)\r\n            str += &quot;,&quot;;\r\n        str += tabell[i];\r\n    }\r\n\r\n","title":"How do I add commas when converting from Int [] to String?","body":"<p>You need to handle the first iteration through your loop as a special case, because you don't want to add a comma the first time around. There's something you can use to know that you're in the first iteration...the fact that the string you're building is empty because you haven't added anything to it yet.</p>\n<p>This makes extra good sense because if the string is empty, then it doesn't yet contain a term that you want to separate from the next term with a comma.</p>\n<p>Here's how you do this:</p>\n<pre><code>String str = &quot;&quot;;\nfor (int i = 0; i &lt; tabell.length; i++) {\n    if (str.length() &gt; 0)\n        str += &quot;,&quot;;\n    str += tabell[i];\n}\n</code></pre>\n"}],"owner":{"account_id":26427076,"reputation":7,"user_id":20073862,"display_name":"Temo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1663986521,"answer_count":2,"score":-1,"last_activity_date":1663988833,"creation_date":1663976301,"question_id":73833822,"body_markdown":"Hei \r\nI&#39;m a beginner in Java and I have homework and I spent all day trying to figure out the solution and I couldn&#39;t. I&#39;m so frustrated\r\nCan someone help me?\r\nConverting from any table in Int [] to string for eksmpel : int [] a = { 1,2,3} to String s = [1,2,3] \r\nI didn&#39;t know how to put the comma, it always shows a trailing comma at the end or at the beginning a trailing comma as well as parentheses.\r\n\r\nThis is my code :\r\n\r\n        public class Test11 {\r\n    \r\n    \tpublic static String til(int[] tabell) {\r\n    \r\n    \t\tString str = &quot;&quot;;\r\n    \t\tString na1 = &quot;[&quot;;\r\n    \t\tString na2 = &quot;]&quot;;\r\n    \t\tString na3 = &quot;,&quot;;\r\n    \t\tString str3 = &quot;&quot;;\r\n    \r\n    \t\tfor (int i = 0; i &lt; tabell.length; i++) {\r\n    \r\n    \t\t\tstr += &quot;,&quot; + tabell[i];\r\n    \r\n    \t\t}\r\n    \t\treturn str;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[] tab = { 1, 2, 3 };\r\n    \r\n    \t\tSystem.out.println(til(tab));\r\n    \t}\r\n    \r\n    }","title":"How do I add commas when converting from Int [] to String?","body":"<p>Hei\nI'm a beginner in Java and I have homework and I spent all day trying to figure out the solution and I couldn't. I'm so frustrated\nCan someone help me?\nConverting from any table in Int [] to string for eksmpel : int [] a = { 1,2,3} to String s = [1,2,3]\nI didn't know how to put the comma, it always shows a trailing comma at the end or at the beginning a trailing comma as well as parentheses.</p>\n<p>This is my code :</p>\n<pre><code>    public class Test11 {\n\n    public static String til(int[] tabell) {\n\n        String str = &quot;&quot;;\n        String na1 = &quot;[&quot;;\n        String na2 = &quot;]&quot;;\n        String na3 = &quot;,&quot;;\n        String str3 = &quot;&quot;;\n\n        for (int i = 0; i &lt; tabell.length; i++) {\n\n            str += &quot;,&quot; + tabell[i];\n\n        }\n        return str;\n    }\n\n    public static void main(String[] args) {\n        int[] tab = { 1, 2, 3 };\n\n        System.out.println(til(tab));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","audio","fft","frequency"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1663990776,"post_id":73834449,"comment_id":130374901,"body_markdown":"Does this answer your question? [How to get the fundamental frequency from FFT?](https://stackoverflow.com/questions/4914832/how-to-get-the-fundamental-frequency-from-fft)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4914832/how-to-get-the-fundamental-frequency-from-fft\">How to get the fundamental frequency from FFT?</a>"},{"owner":{"account_id":15778010,"reputation":134,"user_id":11385284,"display_name":"SprintKeyz"},"score":0,"creation_date":1663992639,"post_id":73834449,"comment_id":130375057,"body_markdown":"@tgdavies that was very helpful, I tried to implement Harmonic Product Spectrum and it generally seems to work well. That said, it still thinks a G is lower than a D (although every other note works correctly)!","body":"@tgdavies that was very helpful, I tried to implement Harmonic Product Spectrum and it generally seems to work well. That said, it still thinks a G is lower than a D (although every other note works correctly)!"},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1664039127,"post_id":73834449,"comment_id":130382234,"body_markdown":"Maybe an interesting test would be to compare your harmonic analysis on a .wav file of your saxophonist, to Audacity&#39;s analysis tool.","body":"Maybe an interesting test would be to compare your harmonic analysis on a .wav file of your saxophonist, to Audacity&#39;s analysis tool."}],"owner":{"account_id":15778010,"reputation":134,"user_id":11385284,"display_name":"SprintKeyz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663988211,"creation_date":1663988211,"question_id":73834449,"body_markdown":"I finally have a working FFT implemented, but the frequency doesn&#39;t seem to work correctly. For example, while playing a musical instrument, the notes give (somewhat) consistent but random frequency values (a &quot;C&quot; on my alto sax gives a 602Hz and an &quot;E&quot; gives a 387hz, should be ~312 and ~397 respectively, at least according to an app I have) Here&#39;s the code:\r\n\r\n    public static void main(final String[] args) throws Exception {\r\n        final AudioFormat format = new AudioFormat(\r\n                AudioFormat.Encoding.PCM_SIGNED,\r\n                44100,\r\n                16,\r\n                1,\r\n                2,\r\n                44100,\r\n                false\r\n        );\r\n\r\n        final DataLine.Info info = new DataLine.Info(\r\n                TargetDataLine.class,\r\n                format\r\n        );\r\n\r\n        final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\r\n        targetLine.open();\r\n        targetLine.start();\r\n\r\n        final AudioInputStream audioInputStream = new AudioInputStream(targetLine);\r\n\r\n        final byte[] buf = new byte[1024];\r\n        final int numberOfSamples = buf.length / format.getFrameSize();\r\n        final JavaFFT fft = new JavaFFT(numberOfSamples);\r\n\r\n        while (true) {\r\n            audioInputStream.read(buf);\r\n\r\n            final float[] samples = decode(buf, format);\r\n            final float[][] transformed = fft.transform(samples);\r\n            final float[] real = transformed[0];\r\n            final float[] imaginary = transformed[1];\r\n            final double[] magnitudes = toMagnitudes(real, imaginary);\r\n\r\n            // do something with magnitudes\r\n\r\n            printDetectedIndex(magnitudes);\r\n        }\r\n    }\r\n\r\n\r\n    private static void printDetectedIndex(double[] magnitudes) {\r\n        int index = maxIndex(magnitudes);\r\n        float frequency = (float) index * 44100 / 1024;\r\n        int fInt = (int) frequency; // remove decimal part\r\n        System.out.println(&quot;Frequency: &quot; + frequency + &quot;Hz (&quot; + fInt + &quot;Hz)&quot;);\r\n    }\r\n\r\n    // function to return index of the largest element in array\r\n    public static int maxIndex(double[] array) {\r\n    \tint maxIndex = 9;\r\n    \tfor (int i = 9; i &lt; array.length; i++) {\r\n    \t\tif (array[i] &gt; array[maxIndex]) {\r\n    \t\t\tmaxIndex = i;\r\n    \t\t}\r\n    \t}\r\n    \treturn maxIndex;\r\n    }\r\n\r\nAny help would be much appreciated!","title":"FFT - Frequency detection doesn&#39;t seem to work correctly","body":"<p>I finally have a working FFT implemented, but the frequency doesn't seem to work correctly. For example, while playing a musical instrument, the notes give (somewhat) consistent but random frequency values (a &quot;C&quot; on my alto sax gives a 602Hz and an &quot;E&quot; gives a 387hz, should be ~312 and ~397 respectively, at least according to an app I have) Here's the code:</p>\n<pre><code>public static void main(final String[] args) throws Exception {\n    final AudioFormat format = new AudioFormat(\n            AudioFormat.Encoding.PCM_SIGNED,\n            44100,\n            16,\n            1,\n            2,\n            44100,\n            false\n    );\n\n    final DataLine.Info info = new DataLine.Info(\n            TargetDataLine.class,\n            format\n    );\n\n    final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\n    targetLine.open();\n    targetLine.start();\n\n    final AudioInputStream audioInputStream = new AudioInputStream(targetLine);\n\n    final byte[] buf = new byte[1024];\n    final int numberOfSamples = buf.length / format.getFrameSize();\n    final JavaFFT fft = new JavaFFT(numberOfSamples);\n\n    while (true) {\n        audioInputStream.read(buf);\n\n        final float[] samples = decode(buf, format);\n        final float[][] transformed = fft.transform(samples);\n        final float[] real = transformed[0];\n        final float[] imaginary = transformed[1];\n        final double[] magnitudes = toMagnitudes(real, imaginary);\n\n        // do something with magnitudes\n\n        printDetectedIndex(magnitudes);\n    }\n}\n\n\nprivate static void printDetectedIndex(double[] magnitudes) {\n    int index = maxIndex(magnitudes);\n    float frequency = (float) index * 44100 / 1024;\n    int fInt = (int) frequency; // remove decimal part\n    System.out.println(&quot;Frequency: &quot; + frequency + &quot;Hz (&quot; + fInt + &quot;Hz)&quot;);\n}\n\n// function to return index of the largest element in array\npublic static int maxIndex(double[] array) {\n    int maxIndex = 9;\n    for (int i = 9; i &lt; array.length; i++) {\n        if (array[i] &gt; array[maxIndex]) {\n            maxIndex = i;\n        }\n    }\n    return maxIndex;\n}\n</code></pre>\n<p>Any help would be much appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":481416,"reputation":355324,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":2,"creation_date":1420817249,"post_id":2025290,"comment_id":44129848,"body_markdown":"A more clear what is JAVA_HOME question: http://stackoverflow.com/questions/5102022/what-does-the-java-home-environment-variable-do","body":"A more clear what is JAVA_HOME question: <a href=\"http://stackoverflow.com/questions/5102022/what-does-the-java-home-environment-variable-do\" title=\"what does the java home environment variable do\">stackoverflow.com/questions/5102022/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":2,"up_vote_count":71,"is_accepted":true,"score":69,"last_activity_date":1434106820,"creation_date":1262921253,"answer_id":2025295,"question_id":2025290,"body_markdown":"JVM does not find `java.exe`.  It doesn&#39;t even call it.  `java.exe` is called by the operating system (Windows in this case).  \r\n\r\n`JAVA_HOME` is just a convention, usually used by Tomcat, other Java EE app servers and build tools such as `Gradle` to find where Java lives.  \r\n\r\nThe important thing from your point of view is that the Java `/bin` directory be on your `PATH` so Windows can find the `.exe` tools that ship with the JDK: `javac.exe`, `java.exe`, `jar.exe`, etc.\r\n","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p>JVM does not find <code>java.exe</code>.  It doesn't even call it.  <code>java.exe</code> is called by the operating system (Windows in this case).  </p>\n\n<p><code>JAVA_HOME</code> is just a convention, usually used by Tomcat, other Java EE app servers and build tools such as <code>Gradle</code> to find where Java lives.  </p>\n\n<p>The important thing from your point of view is that the Java <code>/bin</code> directory be on your <code>PATH</code> so Windows can find the <code>.exe</code> tools that ship with the JDK: <code>javac.exe</code>, <code>java.exe</code>, <code>jar.exe</code>, etc.</p>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1262921283,"creation_date":1262921283,"answer_id":2025298,"question_id":2025290,"body_markdown":"The command prompt wouldn&#39;t use JAVA_HOME to find javac.exe, it would use PATH.","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p>The command prompt wouldn't use JAVA_HOME to find javac.exe, it would use PATH.</p>\n"},{"tags":[],"owner":{"display_name":"user59634"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1262922006,"creation_date":1262922006,"answer_id":2025341,"question_id":2025290,"body_markdown":"JAVA_HOME is a environment variable (in Unix terminologies), or a PATH variable (in Windows terminology). A lot of well behaving Java applications (which need the JDK/JRE) to run, looks up the JAVA_HOME variable for the location where the Java compiler/interpreter may be found.","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p>JAVA_HOME is a environment variable (in Unix terminologies), or a PATH variable (in Windows terminology). A lot of well behaving Java applications (which need the JDK/JRE) to run, looks up the JAVA_HOME variable for the location where the Java compiler/interpreter may be found.</p>\n"},{"tags":[],"owner":{"account_id":3001412,"reputation":149,"user_id":2546847,"display_name":"user2546847"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1372944247,"creation_date":1372942498,"answer_id":17470885,"question_id":2025290,"body_markdown":"set environment variable\r\n\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_24\r\n    \r\n    classpath=C:\\Program Files\\Java\\jdk1.6.0_24\\lib\\tools.jar\r\n    \r\n    path=C:\\Program Files\\Java\\jdk1.6.0_24\\bin","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p>set environment variable</p>\n\n<pre><code>JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_24\n\nclasspath=C:\\Program Files\\Java\\jdk1.6.0_24\\lib\\tools.jar\n\npath=C:\\Program Files\\Java\\jdk1.6.0_24\\bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1434106901,"creation_date":1420000346,"answer_id":27716151,"question_id":2025290,"body_markdown":"`JAVA_HOME` and `JRE_HOME` are not used by Java itself. Some third-party programs (for example Apache Tomcat) expect one of these environment variables to be set to the installation directory of the `JDK` or `JRE`. If you are not using software that requires them, you do not need to set `JAVA_HOME` and `JRE_HOME`.\r\n`PATH` is an environment variable used by the operating system (Windows, Mac OS X, Linux) where it will look for native executable programs to run. You should add the `bin` subdirectory of your `JDK` installation directory to the `PATH`, so that you can use the `javac` and `java` commands and other `JDK` tools in a command prompt window. **Courtesy**: *coderanch*","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p><code>JAVA_HOME</code> and <code>JRE_HOME</code> are not used by Java itself. Some third-party programs (for example Apache Tomcat) expect one of these environment variables to be set to the installation directory of the <code>JDK</code> or <code>JRE</code>. If you are not using software that requires them, you do not need to set <code>JAVA_HOME</code> and <code>JRE_HOME</code>.\n<code>PATH</code> is an environment variable used by the operating system (Windows, Mac OS X, Linux) where it will look for native executable programs to run. You should add the <code>bin</code> subdirectory of your <code>JDK</code> installation directory to the <code>PATH</code>, so that you can use the <code>javac</code> and <code>java</code> commands and other <code>JDK</code> tools in a command prompt window. <strong>Courtesy</strong>: <em>coderanch</em></p>\n"},{"tags":[],"owner":{"account_id":8276133,"reputation":1,"user_id":6222261,"display_name":"Jim Arona"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1461023365,"creation_date":1461023365,"answer_id":36706178,"question_id":2025290,"body_markdown":"JAVA_HOME is an Environment Variable set to the location of the Java directory on your computer.\r\nPATH is an internal DOS command that finds the /bin directory of the version of Java that you are using. Usually they are the same, except that the PATH entry ends with /bin","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p>JAVA_HOME is an Environment Variable set to the location of the Java directory on your computer.\nPATH is an internal DOS command that finds the /bin directory of the version of Java that you are using. Usually they are the same, except that the PATH entry ends with /bin</p>\n"},{"tags":[],"owner":{"account_id":7079055,"reputation":13,"user_id":5418082,"display_name":"RISHABHA SINGH"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1461332849,"creation_date":1461326794,"answer_id":36793434,"question_id":2025290,"body_markdown":"Basically `JAVA_HOME` is use to  set path of the java . it is use in windows.  it&#39;s used for set path of the multiple software like as `java EE` , `ANT` and `Maven`.\r\nthis is the steps to solve your problem:\r\n   \r\nonly for core java to set path :\r\npath :`&quot;C:\\Program Files\\Java\\jre1.8.0_77\\bin&quot;`\r\n but when you are use multi built like as `ANT` , core java then you are used `JAVE_HOME` in environment .\r\n\r\nfollow the steps : \r\n\r\n`JAVA_HOME`:`&quot;C:\\Program Files\\Java\\jre1.8.0_77\\bin&quot;` \r\n`ANT_HOME`:`&quot;C:\\ant\\apache-ant-1.9.6&quot;`\r\n\r\nPath: `JAVA_HOME`, `ANT_HOME`;\r\nit is the systematic way to set the environment variable.. ","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p>Basically <code>JAVA_HOME</code> is use to  set path of the java . it is use in windows.  it's used for set path of the multiple software like as <code>java EE</code> , <code>ANT</code> and <code>Maven</code>.\nthis is the steps to solve your problem:</p>\n\n<p>only for core java to set path :\npath :<code>\"C:\\Program Files\\Java\\jre1.8.0_77\\bin\"</code>\n but when you are use multi built like as <code>ANT</code> , core java then you are used <code>JAVE_HOME</code> in environment .</p>\n\n<p>follow the steps : </p>\n\n<p><code>JAVA_HOME</code>:<code>\"C:\\Program Files\\Java\\jre1.8.0_77\\bin\"</code> \n<code>ANT_HOME</code>:<code>\"C:\\ant\\apache-ant-1.9.6\"</code></p>\n\n<p>Path: <code>JAVA_HOME</code>, <code>ANT_HOME</code>;\nit is the systematic way to set the environment variable.. </p>\n"},{"tags":[],"owner":{"account_id":1940707,"reputation":17,"user_id":1746968,"display_name":"lantian0811"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1477188018,"creation_date":1477188018,"answer_id":40198827,"question_id":2025290,"body_markdown":"use this command /usr/libexec/java_home to check the JAVA_HOME ","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p>use this command /usr/libexec/java_home to check the JAVA_HOME </p>\n"},{"tags":[],"owner":{"account_id":4904867,"reputation":628,"user_id":3951861,"display_name":"Ashraf.Shk786"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551602487,"creation_date":1551602487,"answer_id":54967038,"question_id":2025290,"body_markdown":"`JAVA HOME` is used for setting up the environment variable for JAVA. It means that you are providing a path for compiling a JAVA program and also running the same. So, if you do not set the JAVA HOME( PATH ) and try to run a java or any dependent program in the command prompt. \r\n\r\nYou will deal with an error as \r\n`javac : not recognized as internal or external command`.\r\nNow to set this, Just open your Java jdk then open bin folder then copy the PATH of that bin folder.\r\n\r\n\r\nNow, go to My computer right click on it----&gt; select properties-----&gt; select Advanced system settings-----&gt;Click on Environment Variables------&gt;select New-----&gt;give a name in the text box Variable Name and then paste the path in Value.\r\n\r\nThat&#39;s All!!","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p><code>JAVA HOME</code> is used for setting up the environment variable for JAVA. It means that you are providing a path for compiling a JAVA program and also running the same. So, if you do not set the JAVA HOME( PATH ) and try to run a java or any dependent program in the command prompt. </p>\n\n<p>You will deal with an error as \n<code>javac : not recognized as internal or external command</code>.\nNow to set this, Just open your Java jdk then open bin folder then copy the PATH of that bin folder.</p>\n\n<p>Now, go to My computer right click on it----> select properties-----> select Advanced system settings----->Click on Environment Variables------>select New----->give a name in the text box Variable Name and then paste the path in Value.</p>\n\n<p>That's All!!</p>\n"},{"tags":[],"owner":{"account_id":6826874,"reputation":652,"user_id":5252340,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656258550,"creation_date":1656258550,"answer_id":72763018,"question_id":2025290,"body_markdown":"`JAVA_HOME` is an environment variable which is read by some development tools like Apache Tomcat, Apache Maven, Gradle, Jenkins etc. Usually, `JAVA_HOME` is set to point to JDK instead of JRE because these development tools need to use tools like compiler, debugger, document generator etc. which are only available in JDK since JDK is a development kit. JRE is only meant for running java applications. JDK = JRE + Development tools\r\n\r\nConsumer facing Java applications don&#39;t read `JAVA_HOME` variable and they just need to know where the JVM is located and that&#39;s why JVM location (directory) needs to be added to the `PATH` variable. This is automatically done for you when you install Java software. Whenever you try to run a Java application by either double clicking on the app or through command line, your operating system reads `PATH` variable to locate and run JVM and it doesn&#39;t look for `JAVA_HOME` variable.","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p><code>JAVA_HOME</code> is an environment variable which is read by some development tools like Apache Tomcat, Apache Maven, Gradle, Jenkins etc. Usually, <code>JAVA_HOME</code> is set to point to JDK instead of JRE because these development tools need to use tools like compiler, debugger, document generator etc. which are only available in JDK since JDK is a development kit. JRE is only meant for running java applications. JDK = JRE + Development tools</p>\n<p>Consumer facing Java applications don't read <code>JAVA_HOME</code> variable and they just need to know where the JVM is located and that's why JVM location (directory) needs to be added to the <code>PATH</code> variable. This is automatically done for you when you install Java software. Whenever you try to run a Java application by either double clicking on the app or through command line, your operating system reads <code>PATH</code> variable to locate and run JVM and it doesn't look for <code>JAVA_HOME</code> variable.</p>\n"}],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117789,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"accepted_answer_id":2025295,"answer_count":10,"score":56,"last_activity_date":1663988178,"creation_date":1262921131,"question_id":2025290,"body_markdown":"I would like to know what JAVA_HOME is.  Where do I set the path of javac.exe and java.exe.  It is in environment variables?  When I compile a Java program from command prompt, how does the JVM find `javac.exe`?","title":"What is JAVA_HOME? How does the JVM find the javac path stored in JAVA_HOME?","body":"<p>I would like to know what JAVA_HOME is.  Where do I set the path of javac.exe and java.exe.  It is in environment variables?  When I compile a Java program from command prompt, how does the JVM find <code>javac.exe</code>?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"score":0,"creation_date":1664027650,"post_id":73834020,"comment_id":130380005,"body_markdown":"Is that &quot;onebiz:datastore_testing&quot; project part of the same Gradle multi-module build/project? If so, does that dependency work with other sub-midules?","body":"Is that &quot;onebiz:datastore_testing&quot; project part of the same Gradle multi-module build/project? If so, does that dependency work with other sub-midules?"},{"owner":{"account_id":971715,"reputation":9226,"user_id":994165,"accept_rate":73,"display_name":"user994165"},"score":0,"creation_date":1664086003,"post_id":73834020,"comment_id":130387962,"body_markdown":"@Dimitry Khamitov, yes it is. It does work with other submodules.  Things broke after I added this dependency.","body":"@Dimitry Khamitov, yes it is. It does work with other submodules.  Things broke after I added this dependency."}],"owner":{"account_id":971715,"reputation":9226,"user_id":994165,"accept_rate":73,"display_name":"user994165"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663987280,"creation_date":1663979701,"question_id":73834020,"body_markdown":"When I run gradle tests in Intellij (or using `./gradlew test`, I get `NoClassDefFoundError`.\r\n\r\nWhen I run gradle dependencies, I see:\r\n\r\n    testRuntimeOnly - Runtime only dependencies for source set &#39;test&#39;. (n)\r\n    No dependencies\r\n\r\neven though I have some test-only dependencies in my build file.  I&#39;m also not able to import a class from the onebiz:datastore_testing project.\r\n\r\nI&#39;m running JDK 11\r\n\r\nbuild.gradle:\r\n\r\n    apply plugin: &#39;jacoco&#39;\r\n    \r\n    apply from: &quot;$rootDir/standard-java.gradle&quot;\r\n    apply from: &quot;$rootDir/standard-java-publishing.gradle&quot;\r\n    \r\n    \r\n    ext.googleCloudClientSpannerVersion=&#39;6.28.0&#39;\r\n    \r\n    dependencies {\r\n        compile &quot;com.google.cloud:google-cloud-spanner:$googleCloudClientSpannerVersion&quot;\r\n        compile (project(&quot;:onebiz:onebiz&quot;))\r\n    \r\n        testCompile &quot;org.mockito:mockito-core:$onebiz_MOCKITO&quot;\r\n        testCompile &quot;junit:junit:$onebiz_JUNIT&quot;\r\n        testCompile project(&quot;:onebiz:datastore_testing&quot;)\r\n    }\r\n    \r\n    test {\r\n        finalizedBy jacocoTestReport\r\n    }\r\n    \r\n    jacocoTestReport {\r\n        dependsOn test\r\n    }\r\n    \r\n    jacocoTestCoverageVerification {\r\n        violationRules {\r\n            rule {\r\n                limit {\r\n                    minimum = 0.8\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nError message:\r\n\r\n        Could not initialize class com.s.onebiz.util.TestUtils\r\n    java.lang.NoClassDefFoundError: Could not initialize class com.s.onebiz.util.TestUtils\r\n    \tat com.s.onebiz.util.TestClientManager.&lt;init&gt;(TestClientManager.java:39)\r\n    \tat com.s.onebiz.core.cloud.spanner.CloudSpannerOneDataImplTest.&lt;clinit&gt;(CloudSpannerOneDataImplTest.java:38)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy5.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n","title":"NoClassDefFoundError with Gradle","body":"<p>When I run gradle tests in Intellij (or using <code>./gradlew test</code>, I get <code>NoClassDefFoundError</code>.</p>\n<p>When I run gradle dependencies, I see:</p>\n<pre><code>testRuntimeOnly - Runtime only dependencies for source set 'test'. (n)\nNo dependencies\n</code></pre>\n<p>even though I have some test-only dependencies in my build file.  I'm also not able to import a class from the onebiz:datastore_testing project.</p>\n<p>I'm running JDK 11</p>\n<p>build.gradle:</p>\n<pre><code>apply plugin: 'jacoco'\n\napply from: &quot;$rootDir/standard-java.gradle&quot;\napply from: &quot;$rootDir/standard-java-publishing.gradle&quot;\n\n\next.googleCloudClientSpannerVersion='6.28.0'\n\ndependencies {\n    compile &quot;com.google.cloud:google-cloud-spanner:$googleCloudClientSpannerVersion&quot;\n    compile (project(&quot;:onebiz:onebiz&quot;))\n\n    testCompile &quot;org.mockito:mockito-core:$onebiz_MOCKITO&quot;\n    testCompile &quot;junit:junit:$onebiz_JUNIT&quot;\n    testCompile project(&quot;:onebiz:datastore_testing&quot;)\n}\n\ntest {\n    finalizedBy jacocoTestReport\n}\n\njacocoTestReport {\n    dependsOn test\n}\n\njacocoTestCoverageVerification {\n    violationRules {\n        rule {\n            limit {\n                minimum = 0.8\n            }\n        }\n    }\n}\n</code></pre>\n<p>Error message:</p>\n<pre><code>    Could not initialize class com.s.onebiz.util.TestUtils\njava.lang.NoClassDefFoundError: Could not initialize class com.s.onebiz.util.TestUtils\n    at com.s.onebiz.util.TestClientManager.&lt;init&gt;(TestClientManager.java:39)\n    at com.s.onebiz.core.cloud.spanner.CloudSpannerOneDataImplTest.&lt;clinit&gt;(CloudSpannerOneDataImplTest.java:38)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","aws-lambda","http-post","nested-lists","java-11"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1663828135,"post_id":73809402,"comment_id":130331593,"body_markdown":"You&#39;ll need to show the code you use to convert the JSON","body":"You&#39;ll need to show the code you use to convert the JSON"},{"owner":{"account_id":3464067,"reputation":4768,"user_id":2900199,"accept_rate":63,"display_name":"B.Balamanigandan"},"score":0,"creation_date":1663848229,"post_id":73809402,"comment_id":130338619,"body_markdown":"@tgdavies - are you asking about the java code?","body":"@tgdavies - are you asking about the java code?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1663852419,"post_id":73809402,"comment_id":130340306,"body_markdown":"Yes, the Java code.","body":"Yes, the Java code."},{"owner":{"account_id":3464067,"reputation":4768,"user_id":2900199,"accept_rate":63,"display_name":"B.Balamanigandan"},"score":0,"creation_date":1663984596,"post_id":73809402,"comment_id":130374387,"body_markdown":"@tgdavies - Sorry for the delay in response. I added the java code in the question.","body":"@tgdavies - Sorry for the delay in response. I added the java code in the question."}],"owner":{"account_id":3464067,"reputation":4768,"user_id":2900199,"accept_rate":63,"display_name":"B.Balamanigandan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663984551,"creation_date":1663821346,"question_id":73809402,"body_markdown":"I&#39;m having a model which contains a property of type `List&lt;List&lt;String&gt;&gt;`, I tried to pass a model from the postman it receives `null` instead of the actual data.\r\n\r\n&gt; Technology: **JAVA SE 11** - **Spring Book Maven Application** - **AWS Lambda**\r\n\r\n**Sample Model**\r\n\r\n    public class KeyParamInfo {\r\n    \r\n    \tprivate String key;\r\n    \tprivate List&lt;List&lt;String&gt;&gt; referenceData;\r\n    \t\r\n    \tpublic String getKey() {\r\n    \t\treturn key;\r\n    \t}\r\n    \tpublic void setKey(String key) {\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \tpublic List&lt;List&lt;String&gt;&gt; getReferenceData() {\r\n    \t\treturn referenceData;\r\n    \t}\r\n    \tpublic void setReferenceData(List&lt;List&lt;String&gt;&gt; referenceData) {\r\n    \t\tthis.referenceData = referenceData;\r\n    \t}\r\n    }\r\n\r\nThe respective Body Data in PostMan is\r\n\r\n    {\r\n       &quot;key&quot;:&quot;PROG&quot;,\r\n       &quot;referenceData&quot;:[\r\n          [\r\n             &quot;JAVA&quot;,\r\n             &quot;KOTLIN&quot;\r\n          ],\r\n          [\r\n             &quot;HTML&quot;,\r\n             &quot;JS&quot;\r\n          ]\r\n       ]\r\n    }\r\n\r\nJava Code:\r\n\r\n    public class SampleApplication implements RequestHandler&lt;KeyParamInfo, List&lt;String&gt;&gt; {\r\n    \r\n    \tpublic List&lt;String&gt; handleRequest(KeyParamInfo input, Context context) {\r\n    \t\t\r\n    \t\tList&lt;String&gt; response = new ArrayList&lt;String&gt;();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tif(input != null) {\r\n                    if(input.getReferenceData() != null) {\r\n                        response.add(&quot;Reference Data Received&quot;);\r\n                    } \r\n                    else if(input.getKey() != null &amp;&amp; !input.getKey().equals(&quot;&quot;)) {\r\n                        response.add(&quot;Data Received with key &quot; + input..getKey());\r\n                    }\r\n                    else {\r\n                        response.add(&quot;Empty Data Object&quot;);\r\n                    }\r\n                } else {\r\n                    response.add(&quot;Invalid Data&quot;);\r\n                }\r\n        \r\n            } catch (Exception e) {\r\n    \t\t\t\r\n    \t\t\tresponse.add(&quot;Exception occured in Main method - &quot; + e.getMessage());\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\nFollowing is the response returns from the above code `[&quot;Data Received with key PROG&quot;]`\r\n\r\n&gt; AWS Lambda Documentation:\r\n&gt; https://docs.aws.amazon.com/lambda/index.html\r\n\r\nIn the application the `referenceData` receives the value `null` instead of the above nested list. Please assist how to pass the requested nested list into JAVA.","title":"Pass Nested List of String List&lt;List&lt;String&gt;&gt; to Java SE 11 using ajax POST method","body":"<p>I'm having a model which contains a property of type <code>List&lt;List&lt;String&gt;&gt;</code>, I tried to pass a model from the postman it receives <code>null</code> instead of the actual data.</p>\n<blockquote>\n<p>Technology: <strong>JAVA SE 11</strong> - <strong>Spring Book Maven Application</strong> - <strong>AWS Lambda</strong></p>\n</blockquote>\n<p><strong>Sample Model</strong></p>\n<pre><code>public class KeyParamInfo {\n\n    private String key;\n    private List&lt;List&lt;String&gt;&gt; referenceData;\n    \n    public String getKey() {\n        return key;\n    }\n    public void setKey(String key) {\n        this.key = key;\n    }\n    public List&lt;List&lt;String&gt;&gt; getReferenceData() {\n        return referenceData;\n    }\n    public void setReferenceData(List&lt;List&lt;String&gt;&gt; referenceData) {\n        this.referenceData = referenceData;\n    }\n}\n</code></pre>\n<p>The respective Body Data in PostMan is</p>\n<pre><code>{\n   &quot;key&quot;:&quot;PROG&quot;,\n   &quot;referenceData&quot;:[\n      [\n         &quot;JAVA&quot;,\n         &quot;KOTLIN&quot;\n      ],\n      [\n         &quot;HTML&quot;,\n         &quot;JS&quot;\n      ]\n   ]\n}\n</code></pre>\n<p>Java Code:</p>\n<pre><code>public class SampleApplication implements RequestHandler&lt;KeyParamInfo, List&lt;String&gt;&gt; {\n\n    public List&lt;String&gt; handleRequest(KeyParamInfo input, Context context) {\n        \n        List&lt;String&gt; response = new ArrayList&lt;String&gt;();\n        \n        try {\n            \n            if(input != null) {\n                if(input.getReferenceData() != null) {\n                    response.add(&quot;Reference Data Received&quot;);\n                } \n                else if(input.getKey() != null &amp;&amp; !input.getKey().equals(&quot;&quot;)) {\n                    response.add(&quot;Data Received with key &quot; + input..getKey());\n                }\n                else {\n                    response.add(&quot;Empty Data Object&quot;);\n                }\n            } else {\n                response.add(&quot;Invalid Data&quot;);\n            }\n    \n        } catch (Exception e) {\n            \n            response.add(&quot;Exception occured in Main method - &quot; + e.getMessage());\n        }\n        \n        return response;\n    }\n}\n</code></pre>\n<p>Following is the response returns from the above code <code>[&quot;Data Received with key PROG&quot;]</code></p>\n<blockquote>\n<p>AWS Lambda Documentation:\n<a href=\"https://docs.aws.amazon.com/lambda/index.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/index.html</a></p>\n</blockquote>\n<p>In the application the <code>referenceData</code> receives the value <code>null</code> instead of the above nested list. Please assist how to pass the requested nested list into JAVA.</p>\n"},{"tags":["java","file","nfs"],"answers":[{"tags":[],"owner":{"account_id":14787039,"reputation":5673,"user_id":10678955,"display_name":"root"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663983051,"creation_date":1663983051,"answer_id":73834193,"question_id":73689277,"body_markdown":"In NFS, moving a file is implemented using RENAME. \r\n\r\nWithin the same mount, RENAME is atomic in [NFS][1]:\r\n\r\n&gt; 3.3.14 Procedure 14: RENAME - Rename a File or Directory\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt;    Procedure RENAME renames the file identified by from.name\r\n&gt;    in the directory, from.dir, to to.name in the di- rectory,\r\n&gt;    to.dir. The operation is required to be atomic to the\r\n&gt;    client.\r\n\r\nSources of inconsistency would include:\r\n\r\n* Non-atomic client translation of move to NFS RENAME (e.g. very old client OS) - See [Files.move(ATOMIC_MOVE)][2].\r\n* Weak Cache Consistency (WCC) of paths (e.g. if the racing processes are on different machines) - See [NFSv4][3].\r\n\r\nI&#39;d say yes - move the files. Moving files within a mount is atomic on Unix-like systems, Windows systems, NFS, and SMB. You should be safe.\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc1813#section-3.3.14\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#move%28java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...%29\r\n  [3]: https://www.rfc-editor.org/rfc/rfc7530.html#section-1.4.6","title":"Prevent simultaneous processes accessing same file","body":"<p>In NFS, moving a file is implemented using RENAME.</p>\n<p>Within the same mount, RENAME is atomic in <a href=\"https://www.rfc-editor.org/rfc/rfc1813#section-3.3.14\" rel=\"nofollow noreferrer\">NFS</a>:</p>\n<blockquote>\n<p>3.3.14 Procedure 14: RENAME - Rename a File or Directory</p>\n<p>...</p>\n<p>Procedure RENAME renames the file identified by from.name\nin the directory, from.dir, to to.name in the di- rectory,\nto.dir. The operation is required to be atomic to the\nclient.</p>\n</blockquote>\n<p>Sources of inconsistency would include:</p>\n<ul>\n<li>Non-atomic client translation of move to NFS RENAME (e.g. very old client OS) - See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#move%28java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...%29\" rel=\"nofollow noreferrer\">Files.move(ATOMIC_MOVE)</a>.</li>\n<li>Weak Cache Consistency (WCC) of paths (e.g. if the racing processes are on different machines) - See <a href=\"https://www.rfc-editor.org/rfc/rfc7530.html#section-1.4.6\" rel=\"nofollow noreferrer\">NFSv4</a>.</li>\n</ul>\n<p>I'd say yes - move the files. Moving files within a mount is atomic on Unix-like systems, Windows systems, NFS, and SMB. You should be safe.</p>\n"}],"owner":{"account_id":5953511,"reputation":183,"user_id":4680890,"display_name":"Ziggy000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663983051,"creation_date":1662985770,"question_id":73689277,"body_markdown":"We have an NFS share which receives files. We also have multiple processes listening for new files in this share. \r\n\r\nWhat would be a safe way (in Java) of accessing this file and ensure that only one process can process this file?\r\n\r\nWe were planning to (as first step) let the process move the file - but that might not be atomic on NFS? What about renaming the file first and then move it? Or will multiple processes be able to rename the same file on NFS? I guess a safe way would be to add a file locked flag in a database with row locking but that seems to be overkill. \r\n\r\nAny advice?","title":"Prevent simultaneous processes accessing same file","body":"<p>We have an NFS share which receives files. We also have multiple processes listening for new files in this share.</p>\n<p>What would be a safe way (in Java) of accessing this file and ensure that only one process can process this file?</p>\n<p>We were planning to (as first step) let the process move the file - but that might not be atomic on NFS? What about renaming the file first and then move it? Or will multiple processes be able to rename the same file on NFS? I guess a safe way would be to add a file locked flag in a database with row locking but that seems to be overkill.</p>\n<p>Any advice?</p>\n"},{"tags":["java","oracle","hibernate","spring-data-jpa","primary-key"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1663657145,"post_id":73782650,"comment_id":130285079,"body_markdown":"Put `@Id` on `sep` as well as `tableName` as those 2 columns create the unique identifier. As for the mapping you could attempt something with `@JoinColumns`, `@JoinColumn`, `@JoinColumnOrFormula`, `@JoinFormula`","body":"Put <code>@Id</code> on <code>sep</code> as well as <code>tableName</code> as those 2 columns create the unique identifier. As for the mapping you could attempt something with <code>@JoinColumns</code>, <code>@JoinColumn</code>, <code>@JoinColumnOrFormula</code>, <code>@JoinFormula</code>"},{"owner":{"account_id":15433377,"reputation":261,"user_id":11134123,"display_name":"Habeeb Okunade"},"score":0,"creation_date":1663657375,"post_id":73782650,"comment_id":130285154,"body_markdown":"Thanks @XtremeBaumer\nI have tried that as well, but Hibernate errors &quot;broken column mapping for: ...&quot;","body":"Thanks @XtremeBaumer I have tried that as well, but Hibernate errors &quot;broken column mapping for: ...&quot;"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1663657448,"post_id":73782650,"comment_id":130285182,"body_markdown":"Gonna need the full error","body":"Gonna need the full error"},{"owner":{"account_id":15433377,"reputation":261,"user_id":11134123,"display_name":"Habeeb Okunade"},"score":0,"creation_date":1663657751,"post_id":73782650,"comment_id":130285268,"body_markdown":"- @XtremeBaumer \n\n.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: broken column mapping for: reference.id of: com.entity.sepdba.Person\n\tat","body":"- @XtremeBaumer   .springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpa&zwnj;&#8203;Configuration.class]&zwnj;&#8203;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: broken column mapping for: reference.id of: com.entity.sepdba.Person \tat"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1663658476,"post_id":73782650,"comment_id":130285478,"body_markdown":"Put `@Id` on the 2 columns mentioned above and use `@JoinColumnsOrFormulas(value = {@JoinColumnOrFormula(formula = @JoinFormula(value = &quot;person&quot;, referencedColumnName = &quot;tableName&quot;)), @JoinColumnOrFormula(column = @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;sep&quot;)) })` for the `@OneToOne`","body":"Put <code>@Id</code> on the 2 columns mentioned above and use <code>@JoinColumnsOrFormulas(value = {@JoinColumnOrFormula(formula = @JoinFormula(value = &quot;person&quot;, referencedColumnName = &quot;tableName&quot;)), @JoinColumnOrFormula(column = @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;sep&quot;)) })</code> for the <code>@OneToOne</code>"},{"owner":{"account_id":15433377,"reputation":261,"user_id":11134123,"display_name":"Habeeb Okunade"},"score":0,"creation_date":1663662436,"post_id":73782650,"comment_id":130286808,"body_markdown":"@XtremeBaumer - Great solution. It actually works. I just add &#39;&#39; (quotes) in the JoinFormula value ( = &quot;&#39;person&#39;&quot; tableName is VARCHAR) and it works. Thank you so much. I really appreciate your time.","body":"@XtremeBaumer - Great solution. It actually works. I just add &#39;&#39; (quotes) in the JoinFormula value ( = &quot;&#39;person&#39;&quot; tableName is VARCHAR) and it works. Thank you so much. I really appreciate your time."}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663661081,"creation_date":1663661081,"answer_id":73783419,"question_id":73782650,"body_markdown":"Reference is the owner of the relationship and needs to be specified as such in either a unidirectional or bidirectional relationship\r\n```\r\n// Unidirection relationship\r\n@Entity\r\npublic class Person implements Serializable {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    private String gender;\r\n    // Getters &amp; Setters\r\n}\r\n\r\n@Entity\r\npublic class Reference implements Serializable {\r\n\r\n    @Id\r\n    private String guid;\r\n    private String tableName;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;sep&quot;, insertable = false, updatable = false)\r\n    private Person person;\r\n    //Getters &amp; Setters\r\n}\r\n\r\n// Bidirection relationship\r\n@Entity\r\npublic class Person implements Serializable {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    private String gender;\r\n\r\n    @OneToOne(mappedBy = &quot;person&quot;)\r\n    private Reference reference;\r\n    // Getters &amp; Setters\r\n}\r\n\r\n@Entity\r\npublic class Reference implements Serializable {\r\n\r\n    @Id\r\n    private String guid;\r\n    private String tableName;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;sep&quot;, insertable = false, updatable = false)\r\n    private Person person;\r\n    //Getters &amp; Setters\r\n}\r\n\r\n```\r\n","title":"JPA @OneToOne Mapping a relationship with ReadOnly Oracle data without primary key","body":"<p>Reference is the owner of the relationship and needs to be specified as such in either a unidirectional or bidirectional relationship</p>\n<pre><code>// Unidirection relationship\n@Entity\npublic class Person implements Serializable {\n    @Id\n    private Long id;\n    private String name;\n    private String gender;\n    // Getters &amp; Setters\n}\n\n@Entity\npublic class Reference implements Serializable {\n\n    @Id\n    private String guid;\n    private String tableName;\n\n    @OneToOne\n    @JoinColumn(name = &quot;sep&quot;, insertable = false, updatable = false)\n    private Person person;\n    //Getters &amp; Setters\n}\n\n// Bidirection relationship\n@Entity\npublic class Person implements Serializable {\n    @Id\n    private Long id;\n    private String name;\n    private String gender;\n\n    @OneToOne(mappedBy = &quot;person&quot;)\n    private Reference reference;\n    // Getters &amp; Setters\n}\n\n@Entity\npublic class Reference implements Serializable {\n\n    @Id\n    private String guid;\n    private String tableName;\n\n    @OneToOne\n    @JoinColumn(name = &quot;sep&quot;, insertable = false, updatable = false)\n    private Person person;\n    //Getters &amp; Setters\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6027993,"reputation":126,"user_id":19785805,"display_name":"Alexander Kashpirovsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663667296,"creation_date":1663667296,"answer_id":73784726,"question_id":73782650,"body_markdown":"Same example for read any kind records from table reference:\r\n\r\n    @Entity\r\n    @Table(name = &quot;reference&quot;)\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name = &quot;table_name&quot;)\r\n    public abstract class AbstractReferenceEntity {\r\n        @Id\r\n        private UUID guid;\r\n    \r\n        public UUID getGuid() {\r\n            return guid;\r\n        }\r\n    \r\n        public void setGuid(UUID guid) {\r\n            this.guid = guid;\r\n        }\r\n    }\r\n    \r\n    @Entity\r\n    @DiscriminatorValue(&quot;person&quot;)\r\n    public class PersonReferenceEntity extends AbstractReferenceEntity {\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;sep&quot;)\r\n        private Person person;\r\n    \r\n        public Person getPerson() {\r\n            return person;\r\n        }\r\n    \r\n        public void setPerson(Person person) {\r\n            this.person = person;\r\n        }\r\n    }\r\n    \r\n    // Read all types of records.\r\n    AbstractReferenceEntity e = this.em.find(AbstractReferenceEntity.class, sameUuid));\r\n    \r\n    // Read only person type of records.\r\n    AbstractReferenceEntity e = this.em.find(PersonReferenceEntity, sameUuid);","title":"JPA @OneToOne Mapping a relationship with ReadOnly Oracle data without primary key","body":"<p>Same example for read any kind records from table reference:</p>\n<pre><code>@Entity\n@Table(name = &quot;reference&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;table_name&quot;)\npublic abstract class AbstractReferenceEntity {\n    @Id\n    private UUID guid;\n\n    public UUID getGuid() {\n        return guid;\n    }\n\n    public void setGuid(UUID guid) {\n        this.guid = guid;\n    }\n}\n\n@Entity\n@DiscriminatorValue(&quot;person&quot;)\npublic class PersonReferenceEntity extends AbstractReferenceEntity {\n    @OneToOne\n    @JoinColumn(name = &quot;sep&quot;)\n    private Person person;\n\n    public Person getPerson() {\n        return person;\n    }\n\n    public void setPerson(Person person) {\n        this.person = person;\n    }\n}\n\n// Read all types of records.\nAbstractReferenceEntity e = this.em.find(AbstractReferenceEntity.class, sameUuid));\n\n// Read only person type of records.\nAbstractReferenceEntity e = this.em.find(PersonReferenceEntity, sameUuid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15433377,"reputation":261,"user_id":11134123,"display_name":"Habeeb Okunade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663982716,"creation_date":1663982716,"answer_id":73834176,"question_id":73782650,"body_markdown":"For the benefit of anyone looking to solve this kind of issue, I will be posting the solution that works for me following ***@XtremeBaumer*** suggestion in the comment.\r\n\r\nStep 1: For the REFERENCE table, I made the JPA entity to have two ids (sep &amp; table_name) by creating an extra composite Id class and using it in the Reference Entity.\r\n\r\n```\r\npublic class RefId {\r\n  private Long sep;\r\n  private String tableName;\r\n  \r\n  //All args constructor\r\n  //No args constructor\r\n  //Setters &amp; Getters\r\n  //Override the equals() and hashCode() !very important\r\n}\r\n```\r\n\r\nStep 2: Add the above class as a composite id to the Reference entity by using the @IdClass annotation. We must also declare and annotate the two fields with @Id in the Reference class.\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;reference&quot;)\r\n@IdClass(RefId.class) // Important if not using embeddable type\r\npublic class Reference implements Serializable {\r\n  @Id\r\n  private Long sep;\r\n  private String guid;\r\n  @Id\r\n  private String tableName;\r\n\r\n  //Getters &amp; Setters\r\n}\r\n```\r\n\r\nStep 3: In the Person entity, declare @OneToOne on the Reference entity and annotate it with @JoinColumnsOrFormulas as shown below:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;person&quot;)\r\npublic class Person implements Serializable {\r\n  @Id\r\n  private Long id;\r\n  private String name;\r\n  private String gender;\r\n\r\n  @OneToOne\r\n  @JoinColumnsOrFormulas(value = {\r\n    @JoinColumnOrFormula(column = @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;sep&quot;, insertable = false, updatable = false)),\r\n    @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;&#39;person&#39;&quot;, referencedColumnName = &quot;tableName&quot;))\r\n  })\r\n  private Reference reference;\r\n\r\n // Getters &amp; Setters\r\n}\r\n```\r\n\r\nThis works fine in the scenario above. Note in the formula = @JoinFormula, it is like we are declaring the &#39;WHERE&#39; clause i.e. WHERE table_name = &#39;person&#39; (Don&#39;t miss the single quotes)\r\n\r\nLastly, by using the Jackson object mapper, I was able to get\r\n```\r\n{\r\n &quot;id&quot;: 2001, \r\n &quot;name&quot;: &quot;Moses&quot;, \r\n &quot;gender&quot;: &quot;M&quot;, \r\n &quot;reference&quot;: {\r\n   &quot;sep&quot;: 2001, \r\n   &quot;guid&quot;: &quot;EA48-...&quot;,\r\n   &quot;tableName&quot;: &quot;person&quot;\r\n }\r\n}\r\n```\r\n\r\nThanks for your insight (@XtremeBaumer)","title":"JPA @OneToOne Mapping a relationship with ReadOnly Oracle data without primary key","body":"<p>For the benefit of anyone looking to solve this kind of issue, I will be posting the solution that works for me following <em><strong>@XtremeBaumer</strong></em> suggestion in the comment.</p>\n<p>Step 1: For the REFERENCE table, I made the JPA entity to have two ids (sep &amp; table_name) by creating an extra composite Id class and using it in the Reference Entity.</p>\n<pre><code>public class RefId {\n  private Long sep;\n  private String tableName;\n  \n  //All args constructor\n  //No args constructor\n  //Setters &amp; Getters\n  //Override the equals() and hashCode() !very important\n}\n</code></pre>\n<p>Step 2: Add the above class as a composite id to the Reference entity by using the @IdClass annotation. We must also declare and annotate the two fields with @Id in the Reference class.</p>\n<pre><code>@Entity\n@Table(name=&quot;reference&quot;)\n@IdClass(RefId.class) // Important if not using embeddable type\npublic class Reference implements Serializable {\n  @Id\n  private Long sep;\n  private String guid;\n  @Id\n  private String tableName;\n\n  //Getters &amp; Setters\n}\n</code></pre>\n<p>Step 3: In the Person entity, declare @OneToOne on the Reference entity and annotate it with @JoinColumnsOrFormulas as shown below:</p>\n<pre><code>@Entity\n@Table(name=&quot;person&quot;)\npublic class Person implements Serializable {\n  @Id\n  private Long id;\n  private String name;\n  private String gender;\n\n  @OneToOne\n  @JoinColumnsOrFormulas(value = {\n    @JoinColumnOrFormula(column = @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;sep&quot;, insertable = false, updatable = false)),\n    @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;'person'&quot;, referencedColumnName = &quot;tableName&quot;))\n  })\n  private Reference reference;\n\n // Getters &amp; Setters\n}\n</code></pre>\n<p>This works fine in the scenario above. Note in the formula = @JoinFormula, it is like we are declaring the 'WHERE' clause i.e. WHERE table_name = 'person' (Don't miss the single quotes)</p>\n<p>Lastly, by using the Jackson object mapper, I was able to get</p>\n<pre><code>{\n &quot;id&quot;: 2001, \n &quot;name&quot;: &quot;Moses&quot;, \n &quot;gender&quot;: &quot;M&quot;, \n &quot;reference&quot;: {\n   &quot;sep&quot;: 2001, \n   &quot;guid&quot;: &quot;EA48-...&quot;,\n   &quot;tableName&quot;: &quot;person&quot;\n }\n}\n</code></pre>\n<p>Thanks for your insight (@XtremeBaumer)</p>\n"}],"owner":{"account_id":15433377,"reputation":261,"user_id":11134123,"display_name":"Habeeb Okunade"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73834176,"answer_count":3,"score":0,"last_activity_date":1663982716,"creation_date":1663656833,"question_id":73782650,"body_markdown":"**Preamble** &lt;br&gt; An Oracle DB read-only(I don&#39;t have access) has the following two tables: &lt;br&gt;&lt;br&gt; \r\n**person** &lt;br&gt;\r\n&lt;pre&gt;\r\nperson table\r\n\r\n| id   | name   | gender |\r\n| --   | ------ | ------ |\r\n| 2001 | Moses  | M      |\r\n| 2002 | Luke   | M      |\r\n| 2003 | Maryam | F      |\r\n\r\nPK(id)\r\n&lt;/pre&gt;\r\n\r\n**reference** &lt;br&gt;\r\n&lt;pre&gt;\r\nreference table\r\n\r\n| sep   | guid     | table_name |\r\n| ---   | -------- | ---------- |\r\n| 2001  | EA48-... | person     |\r\n| 2002  | 047F-... | person     |\r\n| 2003  | B23F-... | person     |\r\n| 2003  | 3E3H-... | address    |\r\n| 2001  | H2E0-... | address    |\r\n| 2001  | 92E4-... | report     |\r\n\r\nNo PK, it is generated by some triggers\r\n&lt;/pre&gt;\r\nThe person table is a straight forward table with a primary key. The reference table are generated via a trigger that stores the id(PK) in **sep** column of any table and the table name  that is store in **table_name** column (Note: Since no primary key, the reference table stores duplicate values in the **sep** column but distinct value into guid.)&lt;br&gt;&lt;br&gt;\r\n\r\n**Requirement**&lt;br&gt;&lt;br&gt;\r\nI need to use JPA to get the record from the reference table and map to the person record (person.**id** and other table.**id** are stored in reference.**sep** column) using Jackson as follows\r\n\r\n```\r\n{\r\n &quot;id&quot;: 2001, \r\n &quot;name&quot;: &quot;Moses&quot;, \r\n &quot;gender&quot;: &quot;M&quot;, \r\n &quot;reference&quot;: {\r\n   &quot;sep&quot;: 2001, \r\n   &quot;guid&quot;: &quot;EA48-...&quot;,\r\n   &quot;tableName&quot;: &quot;person&quot;\r\n }\r\n}\r\n```\r\n\r\nEntity (Person) &lt;br&gt;\r\n```\r\n@Entity\r\n@Table(name=&quot;person&quot;)\r\npublic class Person implements Serializable {\r\n  @Id\r\n  private Long id;\r\n  private String name;\r\n  private String gender;\r\n\r\n  @OneToOne\r\n  @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;sep&quot;, insertable = false, updatable = false)\r\n  private Reference reference;\r\n\r\n // Getters &amp; Setters\r\n}\r\n```\r\n\r\nEntity (Reference) &lt;br&gt;\r\n```\r\n@Entity\r\n@Table(name=&quot;reference&quot;)\r\npublic class Reference implements Serializable {\r\n  private Long sep;\r\n  private String guid;\r\n  private String tableName;\r\n\r\n  //Getters &amp; Setters\r\n}\r\n```\r\n\r\n**Problem 1** &lt;br&gt;\r\nJPA throws error of no **@Id** annotation on Reference table.&lt;br&gt;&lt;br&gt;\r\n\r\n**Problem 2** &lt;br&gt;\r\nIf I add the **@Id** annotation on the sep field, JPA throws error of duplicate values for that column.&lt;br&gt;\r\n\r\n**Problem 3** &lt;br&gt;\r\nIf I add the **@Id** annotation on the guid field (it is unique field), JPA throws error of mapping a **Long** to a **String** field (*org.hibernate.TypeMismatchException: Provided id of the wrong type for class*)&lt;br&gt;\r\n\r\n**Question**&lt;br&gt;\r\nHow can I structure the entities (**Person.java** and **Reference.java**) in order to come up with the output below:\r\n```\r\n{\r\n &quot;id&quot;: 2001, \r\n &quot;name&quot;: &quot;Moses&quot;, \r\n &quot;gender&quot;: &quot;M&quot;, \r\n &quot;reference&quot;: {\r\n   &quot;sep&quot;: 2001, \r\n   &quot;guid&quot;: &quot;EA48-...&quot;,\r\n   &quot;tableName&quot;: &quot;person&quot;\r\n }\r\n}\r\n```","title":"JPA @OneToOne Mapping a relationship with ReadOnly Oracle data without primary key","body":"<p><strong>Preamble</strong> <br> An Oracle DB read-only(I don't have access) has the following two tables: <br><br>\n<strong>person</strong> <br></p>\n<pre>\nperson table\n\n| id   | name   | gender |\n| --   | ------ | ------ |\n| 2001 | Moses  | M      |\n| 2002 | Luke   | M      |\n| 2003 | Maryam | F      |\n\nPK(id)\n</pre>\n<p><strong>reference</strong> <br></p>\n<pre>\nreference table\n\n| sep   | guid     | table_name |\n| ---   | -------- | ---------- |\n| 2001  | EA48-... | person     |\n| 2002  | 047F-... | person     |\n| 2003  | B23F-... | person     |\n| 2003  | 3E3H-... | address    |\n| 2001  | H2E0-... | address    |\n| 2001  | 92E4-... | report     |\n\nNo PK, it is generated by some triggers\n</pre>\n<p>The person table is a straight forward table with a primary key. The reference table are generated via a trigger that stores the id(PK) in <strong>sep</strong> column of any table and the table name  that is store in <strong>table_name</strong> column (Note: Since no primary key, the reference table stores duplicate values in the <strong>sep</strong> column but distinct value into guid.)<br><br></p>\n<p><strong>Requirement</strong><br><br>\nI need to use JPA to get the record from the reference table and map to the person record (person.<strong>id</strong> and other table.<strong>id</strong> are stored in reference.<strong>sep</strong> column) using Jackson as follows</p>\n<pre><code>{\n &quot;id&quot;: 2001, \n &quot;name&quot;: &quot;Moses&quot;, \n &quot;gender&quot;: &quot;M&quot;, \n &quot;reference&quot;: {\n   &quot;sep&quot;: 2001, \n   &quot;guid&quot;: &quot;EA48-...&quot;,\n   &quot;tableName&quot;: &quot;person&quot;\n }\n}\n</code></pre>\n<p>Entity (Person) <br></p>\n<pre><code>@Entity\n@Table(name=&quot;person&quot;)\npublic class Person implements Serializable {\n  @Id\n  private Long id;\n  private String name;\n  private String gender;\n\n  @OneToOne\n  @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;sep&quot;, insertable = false, updatable = false)\n  private Reference reference;\n\n // Getters &amp; Setters\n}\n</code></pre>\n<p>Entity (Reference) <br></p>\n<pre><code>@Entity\n@Table(name=&quot;reference&quot;)\npublic class Reference implements Serializable {\n  private Long sep;\n  private String guid;\n  private String tableName;\n\n  //Getters &amp; Setters\n}\n</code></pre>\n<p><strong>Problem 1</strong> <br>\nJPA throws error of no <strong>@Id</strong> annotation on Reference table.<br><br></p>\n<p><strong>Problem 2</strong> <br>\nIf I add the <strong>@Id</strong> annotation on the sep field, JPA throws error of duplicate values for that column.<br></p>\n<p><strong>Problem 3</strong> <br>\nIf I add the <strong>@Id</strong> annotation on the guid field (it is unique field), JPA throws error of mapping a <strong>Long</strong> to a <strong>String</strong> field (<em>org.hibernate.TypeMismatchException: Provided id of the wrong type for class</em>)<br></p>\n<p><strong>Question</strong><br>\nHow can I structure the entities (<strong>Person.java</strong> and <strong>Reference.java</strong>) in order to come up with the output below:</p>\n<pre><code>{\n &quot;id&quot;: 2001, \n &quot;name&quot;: &quot;Moses&quot;, \n &quot;gender&quot;: &quot;M&quot;, \n &quot;reference&quot;: {\n   &quot;sep&quot;: 2001, \n   &quot;guid&quot;: &quot;EA48-...&quot;,\n   &quot;tableName&quot;: &quot;person&quot;\n }\n}\n</code></pre>\n"},{"tags":["java","properties","application-server","payara"],"answers":[{"tags":[],"owner":{"account_id":3531830,"reputation":1,"user_id":2951134,"display_name":"Lenny Primak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663982428,"creation_date":1663982428,"answer_id":73834162,"question_id":64575097,"body_markdown":"I don&#39;t believe there is a way.\r\nAn alternative would be to use system properties along with variable substitution via ${} syntax or environment variable via ${ENV.XXX}","title":"Application Configuration Properties on Payara (how to read them)","body":"<p>I don't believe there is a way.\nAn alternative would be to use system properties along with variable substitution via ${} syntax or environment variable via ${ENV.XXX}</p>\n"}],"owner":{"account_id":9412531,"reputation":566,"user_id":7001119,"accept_rate":83,"display_name":"B. Bri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1663982428,"creation_date":1603895770,"question_id":64575097,"body_markdown":"I would like to use Application Configuration Properties that you can configure using the user interface of payara (for example):\r\n\r\n[![Application Configuration Properties][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v6V8G.png\r\n\r\n\r\nMy question is: how can I access these values on java code side? Through annotation? Through some sort of context instance maybe? Is it even possible?\r\n\r\nI naively tried with System.getProperty with no success.","title":"Application Configuration Properties on Payara (how to read them)","body":"<p>I would like to use Application Configuration Properties that you can configure using the user interface of payara (for example):</p>\n<p><a href=\"https://i.stack.imgur.com/v6V8G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6V8G.png\" alt=\"Application Configuration Properties\" /></a></p>\n<p>My question is: how can I access these values on java code side? Through annotation? Through some sort of context instance maybe? Is it even possible?</p>\n<p>I naively tried with System.getProperty with no success.</p>\n"},{"tags":["java","multithreading","resilience4j","time-limiting"],"answers":[{"tags":[],"owner":{"account_id":15232246,"reputation":11,"user_id":10991044,"display_name":"Alexander Pietsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663978038,"creation_date":1663978038,"answer_id":73833932,"question_id":71353569,"body_markdown":"TimeLimiter cannot cancel a CompletableFuture. See [@TimeLimiter times out slow method but does not cancel running future #905](https://github.com/resilience4j/resilience4j/issues/905) Points out, that: the limited cancel() in case of CompletableFuture is not a bug, but a design decision. CompletableFuture is not inherently bound to any thread, while Future almost always represents background task.","title":"Timelimiter is not interrupting the thread","body":"<p>TimeLimiter cannot cancel a CompletableFuture. See <a href=\"https://github.com/resilience4j/resilience4j/issues/905\" rel=\"nofollow noreferrer\">@TimeLimiter times out slow method but does not cancel running future #905</a> Points out, that: the limited cancel() in case of CompletableFuture is not a bug, but a design decision. CompletableFuture is not inherently bound to any thread, while Future almost always represents background task.</p>\n"}],"owner":{"account_id":24353111,"reputation":21,"user_id":18288690,"display_name":"Ganesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663978038,"creation_date":1646407581,"question_id":71353569,"body_markdown":"I am using resilience4j Timelimiter in my project.\r\n\r\nThe timelimiter is throwing an error if a request is taking more than 10s, but it is not interrupting the thread.\r\n\r\nWhen call comes from postman, i have put the debug and tested, after 10s in postman it displays an exception, but the thread still executes the method and after that added some print statements and it executed as well.\r\n\r\nHow to cancel or interrupt the thread after 10s in resilience4j.\r\n\r\n```\r\nclass A {\r\nTimeLimiterConfig config = TimeLimiterConfig.custom().cancelRunningFuture(true)\r\n      .timeoutDuration(Duration.ofMillis(TimeLimit)).build();\r\n\r\nTimeLimiterRegistry timeLimiterRegistry = TimeLimiterRegistry.of(config);\r\n\r\nTimeLimiter timeLimiter = timeLimiterRegistry.timeLimiter(&quot;APITimelimiter&quot;, config);\r\n\r\n\r\npublic Response someMethod() throws Exception {\r\ntry {\r\n  timeLimiter.executeFutureSupplier(() -&gt; CompletableFuture.supplyAsync(() -&gt; {\r\n            return getData();\r\n          }));\r\n} catch (Exception e) {\r\n      logger.error(&quot;Request has crossed the execution time of &quot; + TimeLimit\r\n          + &quot; seconds&quot;);\r\n      throw new Exception(&quot;Your request has crossed the execution time of &quot;+ TimeLimit+&quot; seconds.&quot;);\r\n    }\r\n}\r\n\r\npublic UserData getData() {\r\nString jsonData = &quot;&quot;;\r\nreturn jsonData;\r\n}\r\n}","title":"Timelimiter is not interrupting the thread","body":"<p>I am using resilience4j Timelimiter in my project.</p>\n<p>The timelimiter is throwing an error if a request is taking more than 10s, but it is not interrupting the thread.</p>\n<p>When call comes from postman, i have put the debug and tested, after 10s in postman it displays an exception, but the thread still executes the method and after that added some print statements and it executed as well.</p>\n<p>How to cancel or interrupt the thread after 10s in resilience4j.</p>\n<pre><code>class A {\nTimeLimiterConfig config = TimeLimiterConfig.custom().cancelRunningFuture(true)\n      .timeoutDuration(Duration.ofMillis(TimeLimit)).build();\n\nTimeLimiterRegistry timeLimiterRegistry = TimeLimiterRegistry.of(config);\n\nTimeLimiter timeLimiter = timeLimiterRegistry.timeLimiter(&quot;APITimelimiter&quot;, config);\n\n\npublic Response someMethod() throws Exception {\ntry {\n  timeLimiter.executeFutureSupplier(() -&gt; CompletableFuture.supplyAsync(() -&gt; {\n            return getData();\n          }));\n} catch (Exception e) {\n      logger.error(&quot;Request has crossed the execution time of &quot; + TimeLimit\n          + &quot; seconds&quot;);\n      throw new Exception(&quot;Your request has crossed the execution time of &quot;+ TimeLimit+&quot; seconds.&quot;);\n    }\n}\n\npublic UserData getData() {\nString jsonData = &quot;&quot;;\nreturn jsonData;\n}\n}\n</code></pre>\n"},{"tags":["java","postgresql","amazon-web-services","jdbc","amazon-rds"],"comments":[{"owner":{"account_id":15384942,"reputation":53,"user_id":15892326,"display_name":"Phil"},"score":0,"creation_date":1669004714,"post_id":73833909,"comment_id":131535748,"body_markdown":"Perhaps this means I should switch to DynamoDB...","body":"Perhaps this means I should switch to DynamoDB..."}],"owner":{"account_id":15384942,"reputation":53,"user_id":15892326,"display_name":"Phil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1663977718,"creation_date":1663977718,"question_id":73833909,"body_markdown":"I am building a serverless application using Lambda and RDS with Java and Postgres. One of my lambdas will need high concurrency and only execute a few small queries per request. To facilitate concurrency I want to use RDS proxy, and as I read the user guide I stumbled on this little beauty:\r\n\r\n&quot;Prepared statements cause the proxy to pin the session. This rule applies whether the prepared statement uses SQL text or the binary protocol.&quot;\r\n\r\nIt also lists &quot;Using prepared statements, setting parameters, or resetting a parameter to its default&quot; under &quot;Conditions that cause pinning for RDS for PostgreSQL.&quot;\r\n\r\n&lt;https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/rds-proxy-managing.html#rds-proxy-pinning&gt;\r\n\r\nPinning the session is undesirable because it prevents other concurrent lambda invocations from reusing the connection. Right now all of my queries use prepared statements. Maybe a pinned session wouldn&#39;t be so bad for a warm lambda, but as I scale up I might want to reduce pinning as much as possible.\r\n\r\nThe natural solution is to stop using prepared statements, but doing so could make my application vulnerable to SQL injection. My question is this: is there an alternative to prepared statements that prevents injection that would also avoid pinning? Something compatible with JDBC?\r\n\r\nGiven that prepared statements are so ubiquitous and useful for security, it makes me wonder what the AWS engineers had in mind as an alternative. Are there common practices to prevent pinning when using RDS proxy?","title":"AWS RDS Proxy Pinning","body":"<p>I am building a serverless application using Lambda and RDS with Java and Postgres. One of my lambdas will need high concurrency and only execute a few small queries per request. To facilitate concurrency I want to use RDS proxy, and as I read the user guide I stumbled on this little beauty:</p>\n<p>&quot;Prepared statements cause the proxy to pin the session. This rule applies whether the prepared statement uses SQL text or the binary protocol.&quot;</p>\n<p>It also lists &quot;Using prepared statements, setting parameters, or resetting a parameter to its default&quot; under &quot;Conditions that cause pinning for RDS for PostgreSQL.&quot;</p>\n<p><a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/rds-proxy-managing.html#rds-proxy-pinning\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/rds-proxy-managing.html#rds-proxy-pinning</a></p>\n<p>Pinning the session is undesirable because it prevents other concurrent lambda invocations from reusing the connection. Right now all of my queries use prepared statements. Maybe a pinned session wouldn't be so bad for a warm lambda, but as I scale up I might want to reduce pinning as much as possible.</p>\n<p>The natural solution is to stop using prepared statements, but doing so could make my application vulnerable to SQL injection. My question is this: is there an alternative to prepared statements that prevents injection that would also avoid pinning? Something compatible with JDBC?</p>\n<p>Given that prepared statements are so ubiquitous and useful for security, it makes me wonder what the AWS engineers had in mind as an alternative. Are there common practices to prevent pinning when using RDS proxy?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":9635091,"reputation":12798,"user_id":7151494,"display_name":"Fureeish"},"score":0,"creation_date":1663972185,"post_id":73833506,"comment_id":130373167,"body_markdown":"Is all your data presented in a form of `[NAME.COUNTRY]`? I.e., a name, followed by a dot, followed by a country name?","body":"Is all your data presented in a form of <code>[NAME.COUNTRY]</code>? I.e., a name, followed by a dot, followed by a country name?"},{"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"score":0,"creation_date":1663972738,"post_id":73833506,"comment_id":130373254,"body_markdown":"Yes, they are Fureeish. Thanks for the prompt response","body":"Yes, they are Fureeish. Thanks for the prompt response"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663977685,"creation_date":1663972528,"answer_id":73833566,"question_id":73833506,"body_markdown":"Regardless of the implementation, your method would be more performant if you generate a `HashSet` of prefixes. That would allow to check each element in the list against this set in constant time.\r\n\r\nTo achieve it with streams, you need to apply [`filter()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) operation, which expects a `Predicate` and would retain in the stream those elements for which the *predicate* would be evaluated to `true`.\r\n\r\nSince your data has a structure `[name][dot][country]`, you can use regular expression `&quot;[^.]*\\\\.&quot;`, which matches zero or more symbols *distinct from a dot* followed by a *dot*, to extract the suffix that corresponds to a country.\r\n\r\nThat&#39;s how it might be implemented.\r\n\r\n    private List&lt;String&gt; getCollectionsFilteredBySuffices(List&lt;String&gt; listParam,\r\n                                                          List&lt;String&gt; allCollections) {\r\n    \r\n        Set&lt;String&gt; suffixes = new HashSet&lt;&gt;(listParam);\r\n        \r\n        return allCollections.stream()\r\n            .filter(s -&gt; suffixes.contains(s.replaceAll(&quot;[^.]*\\\\.&quot;, &quot;&quot;)))\r\n            .collect(Collectors.toList()); // or .toList() for Java 16+\r\n    }\r\n\r\nHere&#39;s a single-statement solution (if you want the code to be consice at all costs):\r\n\r\n```\r\nreturn allCollections.stream()\r\n    .filter(s -&gt; listParam.contains(s.replaceAll(&quot;[^.]*\\\\.&quot;, &quot;&quot;)))\r\n    .collect(Collectors.toList());\r\n```","title":"How to filter a list down to items matching supplied suffix using Streams in Java 8","body":"<p>Regardless of the implementation, your method would be more performant if you generate a <code>HashSet</code> of prefixes. That would allow to check each element in the list against this set in constant time.</p>\n<p>To achieve it with streams, you need to apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>filter()</code></a> operation, which expects a <code>Predicate</code> and would retain in the stream those elements for which the <em>predicate</em> would be evaluated to <code>true</code>.</p>\n<p>Since your data has a structure <code>[name][dot][country]</code>, you can use regular expression <code>&quot;[^.]*\\\\.&quot;</code>, which matches zero or more symbols <em>distinct from a dot</em> followed by a <em>dot</em>, to extract the suffix that corresponds to a country.</p>\n<p>That's how it might be implemented.</p>\n<pre><code>private List&lt;String&gt; getCollectionsFilteredBySuffices(List&lt;String&gt; listParam,\n                                                      List&lt;String&gt; allCollections) {\n\n    Set&lt;String&gt; suffixes = new HashSet&lt;&gt;(listParam);\n    \n    return allCollections.stream()\n        .filter(s -&gt; suffixes.contains(s.replaceAll(&quot;[^.]*\\\\.&quot;, &quot;&quot;)))\n        .collect(Collectors.toList()); // or .toList() for Java 16+\n}\n</code></pre>\n<p>Here's a single-statement solution (if you want the code to be consice at all costs):</p>\n<pre><code>return allCollections.stream()\n    .filter(s -&gt; listParam.contains(s.replaceAll(&quot;[^.]*\\\\.&quot;, &quot;&quot;)))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663977685,"creation_date":1663971853,"question_id":73833506,"body_markdown":"I am new to Java streams but need to master by practice really!\r\n\r\nThe collection input is made up of strings e.g. [name][dot][country], example as follows:\r\n\r\n     - JAMES.BRITAIN\r\n     - JOHN.BRITAIN\r\n     - LEE.BRITAIN\r\n     - GEORGE.FRANCE\r\n     - LEON.FRANCE\r\n     - MARSELLE.FRANCE\r\n     - KOFI.GHANA\r\n     - CHARLIE.GHANA\r\n\r\nGiven a list of countries,\r\nHow do I return a list of items whose suffixes matches the supplied countries\r\n\r\nSo, if I supplied a list parameter containing Britain as item , the resulting list should be:\r\n\r\n     - JAMES.BRITAIN\r\n     - JOHN.BRITAIN\r\n     - LEE.BRITAIN\r\n\r\nIn the real code the streams statement below gives me the list to be filtered i.e.:\r\n\r\n    List&lt;String&gt; allSolrCollections =  (List&lt;String&gt;) findAllCollections()\r\n                        .getJsonArray(SOLR_CLOUD_COLLECTION)\r\n                        .getList()\r\n                        .stream() \r\n                        .map(object -&gt; Objects.toString(object, null))\r\n                        .collect(Collectors.toList());\r\n\r\nThat is:\r\n\r\n     - JAMES.BRITAIN\r\n     - JOHN.BRITAIN\r\n     - LEE.BRITAIN\r\n     - GEORGE.FRANCE\r\n     - LEON.FRANCE\r\n     - MARSELLE.FRANCE\r\n     - KOFI.GHANA\r\n     - CHARLIE.GHANA\r\n\r\nBut, I had to use the following non-stream code to filter by suffice name:\r\n\r\n    private List&lt;String&gt; getCollectionsFilteredBySuffices(List&lt;String&gt; listParam, List&lt;String&gt; allItemsList) {\r\n             \r\n            List&lt;String&gt; finalList = new ArrayList&lt;&gt;();\r\n            for (String country: listParam) {\r\n                 for (String item: allItemsList) {\r\n                    if (item.endsWith(country)) {\r\n                        finalList .add(item);\r\n                    }\r\n                }\r\n            }\r\n            return finalList ;\r\n        }\r\n\r\nCan I do both logic in a single java stream statement e.g.\r\n\r\n     List&lt;String&gt; allSolrCollections =  (List&lt;String&gt;) findAllCollections()\r\n                            .getJsonArray(SOLR_CLOUD_COLLECTION)\r\n                            .getList()\r\n                            .filter(//all items with suffices matching content of list param)\r\n                            .stream() \r\n                            .map(object -&gt; Objects.toString(object, null))\r\n                            .collect(Collectors.toList());\r\n\r\n","title":"How to filter a list down to items matching supplied suffix using Streams in Java 8","body":"<p>I am new to Java streams but need to master by practice really!</p>\n<p>The collection input is made up of strings e.g. [name][dot][country], example as follows:</p>\n<pre><code> - JAMES.BRITAIN\n - JOHN.BRITAIN\n - LEE.BRITAIN\n - GEORGE.FRANCE\n - LEON.FRANCE\n - MARSELLE.FRANCE\n - KOFI.GHANA\n - CHARLIE.GHANA\n</code></pre>\n<p>Given a list of countries,\nHow do I return a list of items whose suffixes matches the supplied countries</p>\n<p>So, if I supplied a list parameter containing Britain as item , the resulting list should be:</p>\n<pre><code> - JAMES.BRITAIN\n - JOHN.BRITAIN\n - LEE.BRITAIN\n</code></pre>\n<p>In the real code the streams statement below gives me the list to be filtered i.e.:</p>\n<pre><code>List&lt;String&gt; allSolrCollections =  (List&lt;String&gt;) findAllCollections()\n                    .getJsonArray(SOLR_CLOUD_COLLECTION)\n                    .getList()\n                    .stream() \n                    .map(object -&gt; Objects.toString(object, null))\n                    .collect(Collectors.toList());\n</code></pre>\n<p>That is:</p>\n<pre><code> - JAMES.BRITAIN\n - JOHN.BRITAIN\n - LEE.BRITAIN\n - GEORGE.FRANCE\n - LEON.FRANCE\n - MARSELLE.FRANCE\n - KOFI.GHANA\n - CHARLIE.GHANA\n</code></pre>\n<p>But, I had to use the following non-stream code to filter by suffice name:</p>\n<pre><code>private List&lt;String&gt; getCollectionsFilteredBySuffices(List&lt;String&gt; listParam, List&lt;String&gt; allItemsList) {\n         \n        List&lt;String&gt; finalList = new ArrayList&lt;&gt;();\n        for (String country: listParam) {\n             for (String item: allItemsList) {\n                if (item.endsWith(country)) {\n                    finalList .add(item);\n                }\n            }\n        }\n        return finalList ;\n    }\n</code></pre>\n<p>Can I do both logic in a single java stream statement e.g.</p>\n<pre><code> List&lt;String&gt; allSolrCollections =  (List&lt;String&gt;) findAllCollections()\n                        .getJsonArray(SOLR_CLOUD_COLLECTION)\n                        .getList()\n                        .filter(//all items with suffices matching content of list param)\n                        .stream() \n                        .map(object -&gt; Objects.toString(object, null))\n                        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","pdf","pdftk"],"comments":[{"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"score":2,"creation_date":1663876459,"post_id":73819865,"comment_id":130348884,"body_markdown":"Can you supply the input or output file?","body":"Can you supply the input or output file?"},{"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"score":0,"creation_date":1663935003,"post_id":73819865,"comment_id":130361919,"body_markdown":"The extra stuff appearing on the page is Optional Content. It looks like pdftk is deleting the Optional Content dictionary when splitting the file, so content which should be suppressed no longer is. So it looks like pdftk won&#39;t work for this. Try another PDF splitter like qpdf or cpdf and see if that works for you.","body":"The extra stuff appearing on the page is Optional Content. It looks like pdftk is deleting the Optional Content dictionary when splitting the file, so content which should be suppressed no longer is. So it looks like pdftk won&#39;t work for this. Try another PDF splitter like qpdf or cpdf and see if that works for you."},{"owner":{"account_id":26416264,"reputation":1,"user_id":20064637,"display_name":"bwoah"},"score":0,"creation_date":1663973142,"post_id":73819865,"comment_id":130373314,"body_markdown":"@johnwhitington Thank you for your help!  I tested qpdf and it introduced the same artifacts.  I will test out cpdf, but I might just have to do all of this manually.  This project is for all elementary grades in a school district, so the scripts would save me many hours of tedious work, but I can&#39;t sink too much more time into trying out tools.  Thanks again!","body":"@johnwhitington Thank you for your help!  I tested qpdf and it introduced the same artifacts.  I will test out cpdf, but I might just have to do all of this manually.  This project is for all elementary grades in a school district, so the scripts would save me many hours of tedious work, but I can&#39;t sink too much more time into trying out tools.  Thanks again!"},{"owner":{"account_id":26416264,"reputation":1,"user_id":20064637,"display_name":"bwoah"},"score":0,"creation_date":1663976608,"post_id":73819865,"comment_id":130373735,"body_markdown":"Installed cpdf using pipx.  When I try &quot;cpdf in.pdf 277,287 -o out.pdf&quot; I get an error message saying &quot; No such command &#39;in.pdf&#39;.&quot;  Tried using full path to in.pdf and also tried &quot;./cpdf in.pdf . . .&quot; but still get same error.  &quot;which cpdf&quot; shows its installed in /home/bwoah/.local/bin/cpdf.","body":"Installed cpdf using pipx.  When I try &quot;cpdf in.pdf 277,287 -o out.pdf&quot; I get an error message saying &quot; No such command &#39;in.pdf&#39;.&quot;  Tried using full path to in.pdf and also tried &quot;./cpdf in.pdf . . .&quot; but still get same error.  &quot;which cpdf&quot; shows its installed in /home/bwoah/.local/bin/cpdf."},{"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"score":0,"creation_date":1664017256,"post_id":73819865,"comment_id":130378225,"body_markdown":"This is not the cpdf in question - it is a different python program named cpdf. Get cpdf from https://community.coherentpdf.com/","body":"This is not the cpdf in question - it is a different python program named cpdf. Get cpdf from <a href=\"https://community.coherentpdf.com/\" rel=\"nofollow noreferrer\">community.coherentpdf.com</a>"},{"owner":{"account_id":26416264,"reputation":1,"user_id":20064637,"display_name":"bwoah"},"score":0,"creation_date":1664054417,"post_id":73819865,"comment_id":130384994,"body_markdown":"Thanks, @johnwhitington!  I had overlooked the link for pre-build cpdf. cpdf  worked great and did not produce the same artifacts that other tools introduced.  Thanks again!","body":"Thanks, @johnwhitington!  I had overlooked the link for pre-build cpdf. cpdf  worked great and did not produce the same artifacts that other tools introduced.  Thanks again!"}],"owner":{"account_id":26416264,"reputation":1,"user_id":20064637,"display_name":"bwoah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663976254,"creation_date":1663875443,"question_id":73819865,"body_markdown":"I am using pdftk to collect specific PDF pages and output them to a new PDF file.  Most of the pages are fine, but I am finding artifacts on some of the pages.  The artifacts are usually similar and appear in about the same place on the page. Two examples that appear on one page are: &quot;6_DirLine&quot; and &quot;6_NumList.&quot;\r\n\r\nI&#39;m using pdftk in a simple script (so maybe that&#39;s where the problem originates), but am wondering if this might be a problem introduced by the pdftk program itself.  (Also: I&#39;m just a school teacher trying to solve a problem at work, not a developer.)\r\n\r\n```\r\necho &quot;What PDF pages do you want to save? (Hint: use a single space between numbers.)&quot;\r\nread PAGE1\r\nvar=$(echo $PAGE1)\r\npdftk &quot;$*&quot; cat $var output &quot;QuickQuiz&#39;$var&#39;&quot;.pdf \r\n```\r\n","title":"pdftk outputting PDFs with artifacts on pages","body":"<p>I am using pdftk to collect specific PDF pages and output them to a new PDF file.  Most of the pages are fine, but I am finding artifacts on some of the pages.  The artifacts are usually similar and appear in about the same place on the page. Two examples that appear on one page are: &quot;6_DirLine&quot; and &quot;6_NumList.&quot;</p>\n<p>I'm using pdftk in a simple script (so maybe that's where the problem originates), but am wondering if this might be a problem introduced by the pdftk program itself.  (Also: I'm just a school teacher trying to solve a problem at work, not a developer.)</p>\n<pre><code>echo &quot;What PDF pages do you want to save? (Hint: use a single space between numbers.)&quot;\nread PAGE1\nvar=$(echo $PAGE1)\npdftk &quot;$*&quot; cat $var output &quot;QuickQuiz'$var'&quot;.pdf \n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663920392,"post_id":73823489,"comment_id":130357123,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":25867309,"reputation":1,"user_id":19598753,"display_name":"cls"},"score":0,"creation_date":1663946484,"post_id":73823489,"comment_id":130366531,"body_markdown":"@AlexMamo I have attached in an image the JSON structure of my database. Thanks for your help!!","body":"@AlexMamo I have attached in an image the JSON structure of my database. Thanks for your help!!"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663962566,"post_id":73823489,"comment_id":130371156,"body_markdown":"Is any of the onDataChange or onCancelled even triggered?","body":"Is any of the onDataChange or onCancelled even triggered?"},{"owner":{"account_id":25867309,"reputation":1,"user_id":19598753,"display_name":"cls"},"score":0,"creation_date":1664061517,"post_id":73823489,"comment_id":130385909,"body_markdown":"Hi again, it seems that my virtual divece is nos runnig properly I tried the app in another  computer and it runs correctly.","body":"Hi again, it seems that my virtual divece is nos runnig properly I tried the app in another  computer and it runs correctly."}],"owner":{"account_id":25867309,"reputation":1,"user_id":19598753,"display_name":"cls"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663975104,"creation_date":1663912114,"question_id":73823489,"body_markdown":"With this code I&#39;m supposed to be able to retrieve a value directly from a RTDB (realtime database) and show it in the screen of my app,  but nothing happens, app compiles fine. I hope you could help me. \r\n\r\n[On the image lays the simple structure of my RTDB][1]\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private static final  String PATH_START = &quot;start&quot;;\r\n    private static final  String PATH_MESSAGE = &quot;message&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        final TextView tvMessage = findViewById(R.id.tvMessage);\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        final DatabaseReference reference = database.getReference(PATH_START)\r\n                .child(PATH_MESSAGE);\r\n\r\n\r\n\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                   tvMessage.setText(snapshot.getValue(String.class));\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MainActivity.this, &quot;not able to read in Firebase&quot;,\r\n                        Toast.LENGTH_LONG).show();\r\n\r\n            }\r\n        });\r\n\r\n\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K2hGu.jpg","title":"Can&#39;t save data in RTDB","body":"<p>With this code I'm supposed to be able to retrieve a value directly from a RTDB (realtime database) and show it in the screen of my app,  but nothing happens, app compiles fine. I hope you could help me.</p>\n<p><a href=\"https://i.stack.imgur.com/K2hGu.jpg\" rel=\"nofollow noreferrer\">On the image lays the simple structure of my RTDB</a></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate static final  String PATH_START = &quot;start&quot;;\nprivate static final  String PATH_MESSAGE = &quot;message&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    final TextView tvMessage = findViewById(R.id.tvMessage);\n\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    final DatabaseReference reference = database.getReference(PATH_START)\n            .child(PATH_MESSAGE);\n\n\n\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n               tvMessage.setText(snapshot.getValue(String.class));\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(MainActivity.this, &quot;not able to read in Firebase&quot;,\n                    Toast.LENGTH_LONG).show();\n\n        }\n    });\n\n\n  }\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","runnable"],"answers":[{"tags":[],"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663927002,"creation_date":1663926215,"answer_id":73825844,"question_id":73825773,"body_markdown":"For adding tasks to threads and replacing them you can use [ExecutorService](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html). You can create it by using:\r\n```java\r\nExecutorService executor = Executors.newFixedThreadPool(10);\r\n```","title":"I want to stop a group of completed threads, wait for uncompleted threads","body":"<p>For adding tasks to threads and replacing them you can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a>. You can create it by using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executor = Executors.newFixedThreadPool(10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663949075,"creation_date":1663941115,"answer_id":73828801,"question_id":73825773,"body_markdown":"# Bare Threads\r\n\r\nIt can be done using bare `Thread` and `Runnable` without diving into more advance technologies.\r\n\r\nFor that, you need to perform the following steps:\r\n* define your task (provide an implementation of the `Runnable` interface);\r\n* generate a collection of Threads creating based on this task);\r\n* start every thread;\r\n* invoke `join()` on every of these thread (**note** that firstly we need to start all threads).\r\n\r\nThat&#39;s how it might look like:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Runnable task = () -&gt; System.out.println(&quot;hi&quot;);\r\n        \r\n        int counter = 0;\r\n        \r\n        while (true) {\r\n            System.out.println(&quot;iteration: &quot; + counter++);\r\n    \r\n            List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n            \r\n            for (int i = 0; i &lt; 10; i++) {\r\n                threads.add(new Thread(task));\r\n            }\r\n    \r\n            for (Thread thread : threads) {\r\n                thread.start();\r\n            }\r\n    \r\n            for (Thread thread : threads) {\r\n                thread.join();\r\n            }\r\n    \r\n            Thread.currentThread().sleep(1000);\r\n        }\r\n    }\r\n\r\nInstead of managing your Threads manually, it definitely would be wise to look at the facilities provided by the implementations of the `ExecutorService` interfaces.\r\n\r\nThings would be a bit earthier if you use `Callable` interface for your task instead of `Runnable`. `Callable` is more handy in many cases because it allows obtaining the result from the worker-thread and also propagating an exception if thing went wrong (as opposed `run()` would force you to catch every checked exception). If you have in mind something more interesting than printing a dummy message, you might find `Callable` to be useful for your purpose.\r\n\r\n# ExecutorService.invokeAll() + Callable\r\n\r\n`ExecutorService` has a blocking method [`invokeAll()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)) which expects a collection of the callable-tasks and return a list of completed `Future` objects when all the tasks are done.\r\n\r\nTo generate a light-weight collection of repeated elements (since we need to fire a bunch of identical tasks) we can use utility method [`Collections.nCopies()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#nCopies(int,T)).\r\n\r\nHere&#39;s a sample code which repeatedly runs a dummy task:\r\n\r\n```\r\nExecutorService executor = Executors.newWorkStealingPool();\r\n\r\nwhile (true) {\r\n    executor.invokeAll(Collections.nCopies(10, () -&gt; {\r\n        System.out.println(&quot;hi&quot;);\r\n        return true;\r\n    }));\r\n}\r\n```\r\n\r\nTo make sure that it does what expected, we can add a counter of iterations and display it on the console and `Thread.currentThread().sleep()` to avoid cluttering the output very fast (for the same reason, the number of tasks reduced to `3`):\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ExecutorService executor = Executors.newWorkStealingPool();\r\n    \r\n        int counter = 0;\r\n        \r\n        while (true) {\r\n            System.out.println(&quot;iteration: &quot; + counter++);\r\n            \r\n            executor.invokeAll(Collections.nCopies(3, () -&gt; {\r\n                System.out.println(&quot;hi&quot;);\r\n                return true;\r\n            }));\r\n            \r\n            Thread.currentThread().sleep(1000);\r\n        }\r\n    }\r\n\r\n*Output:*\r\n```\r\niteration: 0\r\nhi\r\nhi\r\nhi\r\niteration: 1\r\nhi\r\nhi\r\nhi\r\n... etc.\r\n```\r\n\r\n# CompletableFuture.allOf().join() + Runnable\r\n\r\nAnother possibility is to use `CompletableFuture` API, and it&#39;s method [`allOf()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#allOf(java.util.concurrent.CompletableFuture...)) which expects a *varargs* of submitted tasks in the form `CompletableFuture` and return a single `CompletableFuture` which would be completed when all provided arguments are done.\r\n\r\nIn order to synchronize the execution of the tasks with the main thread, we need to invoke [`join()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()) on the resulting `CompletableFuture` instance.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ExecutorService executor = Executors.newWorkStealingPool();\r\n        Runnable task = () -&gt; System.out.println(&quot;hi&quot;);\r\n    \r\n        int counter = 0;\r\n        \r\n        while (true) {\r\n            System.out.println(&quot;iteration: &quot; + counter++);\r\n    \r\n            CompletableFuture.allOf(\r\n                Stream.generate(() -&gt; task)\r\n                    .limit(3)\r\n                    .map(t -&gt; CompletableFuture.runAsync(t, executor))\r\n                    .toArray(CompletableFuture&lt;?&gt;[]::new)\r\n            ).join();\r\n            \r\n            Thread.currentThread().sleep(1000);\r\n        }\r\n    }\r\n\r\n*Output:*\r\n```\r\niteration: 0\r\nhi\r\nhi\r\nhi\r\niteration: 1\r\nhi\r\nhi\r\nhi\r\n... etc.\r\n```\r\n\r\n# ScheduledExecutorService\r\n\r\nI suspect you might interested in scheduling these tasks instead of running them reputedly. If that&#39;s the case, have a look at `ScheduledExecutorService` and it&#39;s methods [`scheduleAtFixedRate()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)) and [`scheduleWithFixedDelay()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)).","title":"I want to stop a group of completed threads, wait for uncompleted threads","body":"<h1>Bare Threads</h1>\n<p>It can be done using bare <code>Thread</code> and <code>Runnable</code> without diving into more advance technologies.</p>\n<p>For that, you need to perform the following steps:</p>\n<ul>\n<li>define your task (provide an implementation of the <code>Runnable</code> interface);</li>\n<li>generate a collection of Threads creating based on this task);</li>\n<li>start every thread;</li>\n<li>invoke <code>join()</code> on every of these thread (<strong>note</strong> that firstly we need to start all threads).</li>\n</ul>\n<p>That's how it might look like:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    Runnable task = () -&gt; System.out.println(&quot;hi&quot;);\n    \n    int counter = 0;\n    \n    while (true) {\n        System.out.println(&quot;iteration: &quot; + counter++);\n\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n        \n        for (int i = 0; i &lt; 10; i++) {\n            threads.add(new Thread(task));\n        }\n\n        for (Thread thread : threads) {\n            thread.start();\n        }\n\n        for (Thread thread : threads) {\n            thread.join();\n        }\n\n        Thread.currentThread().sleep(1000);\n    }\n}\n</code></pre>\n<p>Instead of managing your Threads manually, it definitely would be wise to look at the facilities provided by the implementations of the <code>ExecutorService</code> interfaces.</p>\n<p>Things would be a bit earthier if you use <code>Callable</code> interface for your task instead of <code>Runnable</code>. <code>Callable</code> is more handy in many cases because it allows obtaining the result from the worker-thread and also propagating an exception if thing went wrong (as opposed <code>run()</code> would force you to catch every checked exception). If you have in mind something more interesting than printing a dummy message, you might find <code>Callable</code> to be useful for your purpose.</p>\n<h1>ExecutorService.invokeAll() + Callable</h1>\n<p><code>ExecutorService</code> has a blocking method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>invokeAll()</code></a> which expects a collection of the callable-tasks and return a list of completed <code>Future</code> objects when all the tasks are done.</p>\n<p>To generate a light-weight collection of repeated elements (since we need to fire a bunch of identical tasks) we can use utility method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#nCopies(int,T)\" rel=\"nofollow noreferrer\"><code>Collections.nCopies()</code></a>.</p>\n<p>Here's a sample code which repeatedly runs a dummy task:</p>\n<pre><code>ExecutorService executor = Executors.newWorkStealingPool();\n\nwhile (true) {\n    executor.invokeAll(Collections.nCopies(10, () -&gt; {\n        System.out.println(&quot;hi&quot;);\n        return true;\n    }));\n}\n</code></pre>\n<p>To make sure that it does what expected, we can add a counter of iterations and display it on the console and <code>Thread.currentThread().sleep()</code> to avoid cluttering the output very fast (for the same reason, the number of tasks reduced to <code>3</code>):</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    ExecutorService executor = Executors.newWorkStealingPool();\n\n    int counter = 0;\n    \n    while (true) {\n        System.out.println(&quot;iteration: &quot; + counter++);\n        \n        executor.invokeAll(Collections.nCopies(3, () -&gt; {\n            System.out.println(&quot;hi&quot;);\n            return true;\n        }));\n        \n        Thread.currentThread().sleep(1000);\n    }\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>iteration: 0\nhi\nhi\nhi\niteration: 1\nhi\nhi\nhi\n... etc.\n</code></pre>\n<h1>CompletableFuture.allOf().join() + Runnable</h1>\n<p>Another possibility is to use <code>CompletableFuture</code> API, and it's method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#allOf(java.util.concurrent.CompletableFuture...)\" rel=\"nofollow noreferrer\"><code>allOf()</code></a> which expects a <em>varargs</em> of submitted tasks in the form <code>CompletableFuture</code> and return a single <code>CompletableFuture</code> which would be completed when all provided arguments are done.</p>\n<p>In order to synchronize the execution of the tasks with the main thread, we need to invoke <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()\" rel=\"nofollow noreferrer\"><code>join()</code></a> on the resulting <code>CompletableFuture</code> instance.</p>\n<p>That's how it might be implemented:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    ExecutorService executor = Executors.newWorkStealingPool();\n    Runnable task = () -&gt; System.out.println(&quot;hi&quot;);\n\n    int counter = 0;\n    \n    while (true) {\n        System.out.println(&quot;iteration: &quot; + counter++);\n\n        CompletableFuture.allOf(\n            Stream.generate(() -&gt; task)\n                .limit(3)\n                .map(t -&gt; CompletableFuture.runAsync(t, executor))\n                .toArray(CompletableFuture&lt;?&gt;[]::new)\n        ).join();\n        \n        Thread.currentThread().sleep(1000);\n    }\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>iteration: 0\nhi\nhi\nhi\niteration: 1\nhi\nhi\nhi\n... etc.\n</code></pre>\n<h1>ScheduledExecutorService</h1>\n<p>I suspect you might interested in scheduling these tasks instead of running them reputedly. If that's the case, have a look at <code>ScheduledExecutorService</code> and it's methods <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>scheduleAtFixedRate()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>scheduleWithFixedDelay()</code></a>.</p>\n"}],"owner":{"account_id":25838581,"reputation":65,"user_id":19574576,"display_name":"HamidReza Jahandideh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73828801,"answer_count":2,"score":2,"last_activity_date":1663974731,"creation_date":1663925842,"question_id":73825773,"body_markdown":"I need a group of threads to run at the same time, and then another group of threads after that. For example, `10` threads start working, and then `10` or `15` other threads.\r\n\r\nOf course, the first approach I&#39;ve tried was to create a loop.\r\n\r\n```\r\nwhile (true) {\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        Thread thread = new Thread(\r\n            new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    System.out.println(&quot;hi&quot;);\r\n            }\r\n        });\r\n        thread.start();\r\n    }\r\n}\r\n```\r\n\r\nBut the problem is when scenario like this happens: imagine if in first iteration, 8 threads finished their tasks, and `2` threads take longer time. The next `10` threads won&#39;t start until all `8` + `2` (completed and not completed) threads finish. while, I want an approach where `8` threads get replaced by `8` of waiting to start threads.","title":"I want to stop a group of completed threads, wait for uncompleted threads","body":"<p>I need a group of threads to run at the same time, and then another group of threads after that. For example, <code>10</code> threads start working, and then <code>10</code> or <code>15</code> other threads.</p>\n<p>Of course, the first approach I've tried was to create a loop.</p>\n<pre><code>while (true) {\n    for (int i = 0; i &lt; 10; i++) {\n        Thread thread = new Thread(\n            new Runnable() {\n                @Override\n                public void run() {\n                    System.out.println(&quot;hi&quot;);\n            }\n        });\n        thread.start();\n    }\n}\n</code></pre>\n<p>But the problem is when scenario like this happens: imagine if in first iteration, 8 threads finished their tasks, and <code>2</code> threads take longer time. The next <code>10</code> threads won't start until all <code>8</code> + <code>2</code> (completed and not completed) threads finish. while, I want an approach where <code>8</code> threads get replaced by <code>8</code> of waiting to start threads.</p>\n"},{"tags":["java","c++","compiler-errors","java-11"],"answers":[{"tags":[],"owner":{"account_id":11620973,"reputation":9,"user_id":8512293,"display_name":"taylor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654303460,"creation_date":1654303460,"answer_id":72496329,"question_id":72336864,"body_markdown":"compiling openjdk11 on macos monterey is succe","title":"How to compile OpenJDK 11 on macOS?","body":"<p>compiling openjdk11 on macos monterey is succe</p>\n"},{"tags":[],"owner":{"account_id":2209713,"reputation":474,"user_id":1951952,"display_name":"Karl von Randow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663973017,"creation_date":1663973017,"answer_id":73833601,"question_id":72336864,"body_markdown":"In `./test/hotspot/gtest/unittest.hpp` in the jdk11u source there is this comment and redefinition of `assert`:\r\n\r\n\r\n```\r\n// gtest/gtest.h includes assert.h which will define the assert macro, but hotspot has its\r\n// own standards incompatible assert macro that takes two parameters.\r\n// The workaround is to undef assert and then re-define it. The re-definition\r\n// must unfortunately be copied since debug.hpp might already have been\r\n// included and a second include wouldn&#39;t work due to the header guards in debug.hpp.\r\n#ifdef assert\r\n  #undef assert\r\n  #ifdef vmassert\r\n    #define assert(p, ...) vmassert(p, __VA_ARGS__)\r\n  #endif\r\n#endif\r\n```\r\n\r\nSomehow this has been broken for `test/hotspot/gtest/jfr/test_networkUtilization.cpp`... it appears to be that `assert` is getting redefined in one of the includes _after_ `unittest.hpp`.\r\n\r\nYou can fix the compile by moving the `#include` of `unittest.hpp` down a bit, see this diff:\r\n\r\n```diff\r\n--- a/test/hotspot/gtest/jfr/test_networkUtilization.cpp\r\n+++ b/test/hotspot/gtest/jfr/test_networkUtilization.cpp\r\n@@ -42,12 +42,12 @@\r\n #include &quot;utilities/globalDefinitions.hpp&quot;\r\n #include &quot;utilities/growableArray.hpp&quot;\r\n \r\n-#include &quot;unittest.hpp&quot;\r\n-\r\n #include &lt;vector&gt;\r\n #include &lt;list&gt;\r\n #include &lt;map&gt;\r\n \r\n+#include &quot;unittest.hpp&quot;\r\n+\r\n namespace {\r\n \r\n   class MockFastUnorderedElapsedCounterSource : public ::FastUnorderedElapsedCounterSource {\r\n```\r\n","title":"How to compile OpenJDK 11 on macOS?","body":"<p>In <code>./test/hotspot/gtest/unittest.hpp</code> in the jdk11u source there is this comment and redefinition of <code>assert</code>:</p>\n<pre><code>// gtest/gtest.h includes assert.h which will define the assert macro, but hotspot has its\n// own standards incompatible assert macro that takes two parameters.\n// The workaround is to undef assert and then re-define it. The re-definition\n// must unfortunately be copied since debug.hpp might already have been\n// included and a second include wouldn't work due to the header guards in debug.hpp.\n#ifdef assert\n  #undef assert\n  #ifdef vmassert\n    #define assert(p, ...) vmassert(p, __VA_ARGS__)\n  #endif\n#endif\n</code></pre>\n<p>Somehow this has been broken for <code>test/hotspot/gtest/jfr/test_networkUtilization.cpp</code>... it appears to be that <code>assert</code> is getting redefined in one of the includes <em>after</em> <code>unittest.hpp</code>.</p>\n<p>You can fix the compile by moving the <code>#include</code> of <code>unittest.hpp</code> down a bit, see this diff:</p>\n<pre><code>--- a/test/hotspot/gtest/jfr/test_networkUtilization.cpp\n+++ b/test/hotspot/gtest/jfr/test_networkUtilization.cpp\n@@ -42,12 +42,12 @@\n #include &quot;utilities/globalDefinitions.hpp&quot;\n #include &quot;utilities/growableArray.hpp&quot;\n \n-#include &quot;unittest.hpp&quot;\n-\n #include &lt;vector&gt;\n #include &lt;list&gt;\n #include &lt;map&gt;\n \n+#include &quot;unittest.hpp&quot;\n+\n namespace {\n \n   class MockFastUnorderedElapsedCounterSource : public ::FastUnorderedElapsedCounterSource {\n</code></pre>\n"}],"owner":{"account_id":25357233,"reputation":41,"user_id":19173162,"display_name":"SadMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663973017,"creation_date":1653216429,"question_id":72336864,"body_markdown":"When I make, with:\r\n\r\nConfiguration summary:\r\n* Debug level:    fastdebug\r\n* HS debug level: fastdebug\r\n* JVM variants:   server\r\n* JVM features:   server: &#39;aot cds cmsgc compiler1 compiler2 dtrace epsilongc g1gc graal jfr jni-check jvmci jvmti management nmt parallelgc serialgc services vm-structs&#39; \r\n* OpenJDK target: OS: macosx, CPU architecture: x86, address length: 64\r\n* Version string: 11.0.16-internal+0-adhoc.sadman.jdk11u-dev-master (11.0.16-internal)\r\n\r\nTools summary:\r\n* Boot JDK:       openjdk version &quot;11.0.2&quot; 2019-01-15 OpenJDK Runtime Environment 18.9 (build 11.0.2+9) OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)  (at /Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home)\r\n* Toolchain:      clang (clang/LLVM from Xcode 13.4)\r\n* C Compiler:     Version 13.1.6 (at /usr/bin/clang)\r\n* C++ Compiler:   Version 13.1.6 (at /usr/bin/clang++)\r\n\r\nBuild performance summary:\r\n* Cores to use:   12\r\n* Memory limit:   16384 MB\r\n\r\n\r\nAnd it remind me that\r\n\r\n\r\njdk11u-dev-master/src/hotspot/share/jfr/periodic/jfrNetworkUtilization.cpp:59:30: error: too many arguments provided to function-like macro invocation\r\n  assert(interfaces != NULL, &quot;invariant&quot;);\r\n\r\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX12.3.sdk/usr/include/assert.h:98:9: note: macro &#39;assert&#39; defined here\r\n#define assert(e) \\\r\n\r\n\r\nWhich means the source codes of jdk use two arguments assert, but my Mac just support one argument assert.","title":"How to compile OpenJDK 11 on macOS?","body":"<p>When I make, with:</p>\n<p>Configuration summary:</p>\n<ul>\n<li>Debug level:    fastdebug</li>\n<li>HS debug level: fastdebug</li>\n<li>JVM variants:   server</li>\n<li>JVM features:   server: 'aot cds cmsgc compiler1 compiler2 dtrace epsilongc g1gc graal jfr jni-check jvmci jvmti management nmt parallelgc serialgc services vm-structs'</li>\n<li>OpenJDK target: OS: macosx, CPU architecture: x86, address length: 64</li>\n<li>Version string: 11.0.16-internal+0-adhoc.sadman.jdk11u-dev-master (11.0.16-internal)</li>\n</ul>\n<p>Tools summary:</p>\n<ul>\n<li>Boot JDK:       openjdk version &quot;11.0.2&quot; 2019-01-15 OpenJDK Runtime Environment 18.9 (build 11.0.2+9) OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)  (at /Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home)</li>\n<li>Toolchain:      clang (clang/LLVM from Xcode 13.4)</li>\n<li>C Compiler:     Version 13.1.6 (at /usr/bin/clang)</li>\n<li>C++ Compiler:   Version 13.1.6 (at /usr/bin/clang++)</li>\n</ul>\n<p>Build performance summary:</p>\n<ul>\n<li>Cores to use:   12</li>\n<li>Memory limit:   16384 MB</li>\n</ul>\n<p>And it remind me that</p>\n<p>jdk11u-dev-master/src/hotspot/share/jfr/periodic/jfrNetworkUtilization.cpp:59:30: error: too many arguments provided to function-like macro invocation\nassert(interfaces != NULL, &quot;invariant&quot;);</p>\n<p>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX12.3.sdk/usr/include/assert.h:98:9: note: macro 'assert' defined here\n#define assert(e) \\</p>\n<p>Which means the source codes of jdk use two arguments assert, but my Mac just support one argument assert.</p>\n"},{"tags":["java","oop","design-patterns","memento"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1663976295,"post_id":73833520,"comment_id":130373707,"body_markdown":"Memento classes shouldn&#39;t be reusable. `Originator.restoreState` takes a specific type of Memento. You might have all your Memento classes implement a common interface (e.g. to say when they were created).","body":"Memento classes shouldn&#39;t be reusable. <code>Originator.restoreState</code> takes a specific type of Memento. You might have all your Memento classes implement a common interface (e.g. to say when they were created)."},{"owner":{"account_id":13194533,"reputation":24,"user_id":9594710,"display_name":"Nishant Chauhan"},"score":0,"creation_date":1663979259,"post_id":73833520,"comment_id":130373935,"body_markdown":"@tgdavies From reusable, I meant we should be able to pass memento object between different Originator object of same type.","body":"@tgdavies From reusable, I meant we should be able to pass memento object between different Originator object of same type."},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1664120305,"post_id":73833520,"comment_id":130393685,"body_markdown":"Have you read through https://refactoring.guru/design-patterns/memento?","body":"Have you read through <a href=\"https://refactoring.guru/design-patterns/memento\" rel=\"nofollow noreferrer\">refactoring.guru/design-patterns/memento</a>?"},{"owner":{"account_id":13194533,"reputation":24,"user_id":9594710,"display_name":"Nishant Chauhan"},"score":0,"creation_date":1664160626,"post_id":73833520,"comment_id":130400092,"body_markdown":"@jaco0646, Yes, I have read the article","body":"@jaco0646, Yes, I have read the article"}],"owner":{"account_id":13194533,"reputation":24,"user_id":9594710,"display_name":"Nishant Chauhan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663972038,"creation_date":1663971983,"question_id":73833520,"body_markdown":"\r\n```java\r\nclass Originator {\r\n   private String state;\r\n   Originator(String state) {\r\n\t\tthis.state = state;\r\n   }\r\n   \r\n   public void setState(String newState) {\r\n\t\tthis.state = newState;\r\n   }\r\n   \r\n   public Memento createMemento() {\r\n\t\treturn new Memento(state);\r\n   }\r\n   \r\n   public void restoreState(Memento memento) {\r\n\t\t// HOW to access private state of memento??\r\n   }\r\n}\r\n\r\n\r\nclass Memento {\r\n   private String state;\r\n   Memento(String state) {\r\n\t\tthis.state = state;\r\n   }\r\n}\r\n\r\n\r\nclass CareTaker {\r\n\tpublic static void main(String[] args) {\r\n\t\tOriginator originator = new Originator(&quot;state&quot;);\r\n\t\tMemento memento = originator.createMemento();\r\n\t\t\r\n\t\toriginator.setState(&quot;new state&quot;);\r\n\t\toriginator.restoreState(memento);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to implement memento pattern. I&#39;ve made the state in Memento class private so that it is not accessible by caretaker. But on passing the memento object to originator, it will not be able to access the state of memento itself.\r\n\r\nTo resolve this, we can do few things, but there are disadvantages to it, thats why I didnt do them.\r\n1. Make state in memento public: The disadvantage is that it will not follow encapsulation of internal state.\r\n2. Make memento class internal to originator class: The disadvantage is that memento class will be bound to originator class and will not be reusable by other originators.\r\n3. Passing the originator reference in constructor of memento so that memento can itself restore the state of originator: The disadvantage is that memento class will be bound to single originator object and will not be reusable by other originators.\r\n\r\nPlease suggest solution where we follow encapsulation and we can also support reusability of memento object.\r\n\r\n\r\n","title":"memento pattern - encapsulation and reusability of memento object","body":"<pre class=\"lang-java prettyprint-override\"><code>class Originator {\n   private String state;\n   Originator(String state) {\n        this.state = state;\n   }\n   \n   public void setState(String newState) {\n        this.state = newState;\n   }\n   \n   public Memento createMemento() {\n        return new Memento(state);\n   }\n   \n   public void restoreState(Memento memento) {\n        // HOW to access private state of memento??\n   }\n}\n\n\nclass Memento {\n   private String state;\n   Memento(String state) {\n        this.state = state;\n   }\n}\n\n\nclass CareTaker {\n    public static void main(String[] args) {\n        Originator originator = new Originator(&quot;state&quot;);\n        Memento memento = originator.createMemento();\n        \n        originator.setState(&quot;new state&quot;);\n        originator.restoreState(memento);\n    }\n}\n</code></pre>\n<p>I'm trying to implement memento pattern. I've made the state in Memento class private so that it is not accessible by caretaker. But on passing the memento object to originator, it will not be able to access the state of memento itself.</p>\n<p>To resolve this, we can do few things, but there are disadvantages to it, thats why I didnt do them.</p>\n<ol>\n<li>Make state in memento public: The disadvantage is that it will not follow encapsulation of internal state.</li>\n<li>Make memento class internal to originator class: The disadvantage is that memento class will be bound to originator class and will not be reusable by other originators.</li>\n<li>Passing the originator reference in constructor of memento so that memento can itself restore the state of originator: The disadvantage is that memento class will be bound to single originator object and will not be reusable by other originators.</li>\n</ol>\n<p>Please suggest solution where we follow encapsulation and we can also support reusability of memento object.</p>\n"},{"tags":["java","class","compiler-errors","datasource"],"comments":[{"owner":{"account_id":1199575,"reputation":2614,"user_id":1170514,"accept_rate":70,"display_name":"nolt2232"},"score":0,"creation_date":1329403897,"post_id":9313388,"comment_id":11748403,"body_markdown":"Can you post the code that is throwing the error?","body":"Can you post the code that is throwing the error?"},{"owner":{"account_id":108392,"reputation":843,"user_id":287735,"accept_rate":55,"display_name":"Samurai"},"score":0,"creation_date":1329404393,"post_id":9313388,"comment_id":11748614,"body_markdown":"@nolt This is just an sample code.","body":"@nolt This is just an sample code."}],"answers":[{"tags":[],"owner":{"account_id":1083984,"reputation":1741,"user_id":1080166,"accept_rate":62,"display_name":"bvanvelsen - ACA Group"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1329404152,"creation_date":1329404152,"answer_id":9313477,"question_id":9313388,"body_markdown":"The javadoc states that that class is implemented since java 1.4, if you compile against 1.3.1 then I can understand why it throws that error..\r\n\r\n[DataSource javadoc][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/sql/DataSource.html","title":"javax.sql.DataSource Can not resolve symbol","body":"<p>The javadoc states that that class is implemented since java 1.4, if you compile against 1.3.1 then I can understand why it throws that error..</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/javax/sql/DataSource.html\" rel=\"nofollow\">DataSource javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":15195792,"reputation":339,"user_id":10965177,"display_name":"NELSON RODRIGUEZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663971995,"creation_date":1663971995,"answer_id":73833523,"question_id":9313388,"body_markdown":"add:\r\nrequires java.sql; \r\nin module-info.java","title":"javax.sql.DataSource Can not resolve symbol","body":"<p>add:\nrequires java.sql;\nin module-info.java</p>\n"}],"owner":{"account_id":108392,"reputation":843,"user_id":287735,"accept_rate":55,"display_name":"Samurai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1914,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9313477,"answer_count":2,"score":1,"last_activity_date":1663971995,"creation_date":1329403837,"question_id":9313388,"body_markdown":"When I am javax.sql.DataSource class in my code I am getting can not resolve symbol error. My java version is jdk1.3.1. Please help me..\r\n\r\n    import javax.sql.DataSource;\r\n    public class DBConnectionManager\r\n    {\r\n      public synchronized Connection getConnection(String s)\r\n      {\r\n        try\r\n        {\r\n            DataSource datasource = (DataSource)pools.get(s);\r\n        }\r\n        catch(SQLException sqlexception)\r\n        {\r\n            log(sqlexception, &quot;SQL In getConnection for pool &quot; + s);\r\n        }\r\n      }\r\n    }","title":"javax.sql.DataSource Can not resolve symbol","body":"<p>When I am javax.sql.DataSource class in my code I am getting can not resolve symbol error. My java version is jdk1.3.1. Please help me..</p>\n\n<pre><code>import javax.sql.DataSource;\npublic class DBConnectionManager\n{\n  public synchronized Connection getConnection(String s)\n  {\n    try\n    {\n        DataSource datasource = (DataSource)pools.get(s);\n    }\n    catch(SQLException sqlexception)\n    {\n        log(sqlexception, \"SQL In getConnection for pool \" + s);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","json","jsonpath","json-path-expression"],"comments":[{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":1,"creation_date":1663751956,"post_id":73796828,"comment_id":130311144,"body_markdown":"what have you tried until now? Check some example here https://jsonpath.herokuapp.com/?path=$.store.bicycle[?(@.color==%22red%22)].price","body":"what have you tried until now? Check some example here <a href=\"https://jsonpath.herokuapp.com/?path=$.store.bicycle[?(@.color==%22red%22)].price\" rel=\"nofollow noreferrer\">jsonpath.herokuapp.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5105046,"reputation":107,"user_id":4093370,"display_name":"parhau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663971990,"creation_date":1663764272,"answer_id":73800959,"question_id":73796828,"body_markdown":"We can use conditions\r\n\r\n    $.AValue[?(@.qId ==&quot;ABCD&quot;)].value.eValue\r\n\r\n","title":"Generate JSONPath based on condition","body":"<p>We can use conditions</p>\n<pre><code>$.AValue[?(@.qId ==&quot;ABCD&quot;)].value.eValue\n</code></pre>\n"}],"owner":{"account_id":5105046,"reputation":107,"user_id":4093370,"display_name":"parhau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73800959,"answer_count":1,"score":0,"last_activity_date":1663971990,"creation_date":1663744947,"question_id":73796828,"body_markdown":"Json\r\n````\r\n{\r\n    &quot;Id&quot;: &quot;1234&quot;,\r\n    &quot;AValue&quot;: {\r\n        &quot;qId&quot;: &quot;ABCD&quot;,\r\n        &quot;aType&quot;: &quot;DATE&quot;,\r\n        &quot;value&quot;: {\r\n            &quot;eType&quot;: &quot;ENCRYPTED&quot;,\r\n            &quot;eValue&quot;: &quot;XXXXXXX&quot;\r\n        }\r\n    }\r\n\r\n}\r\n````\r\n\r\nHow to write a jsonpath expression to get **eValue** only if &quot;qId in AValue is ABCD&quot;\r\n\r\n\r\n\r\n","title":"Generate JSONPath based on condition","body":"<p>Json</p>\n<pre><code>{\n    &quot;Id&quot;: &quot;1234&quot;,\n    &quot;AValue&quot;: {\n        &quot;qId&quot;: &quot;ABCD&quot;,\n        &quot;aType&quot;: &quot;DATE&quot;,\n        &quot;value&quot;: {\n            &quot;eType&quot;: &quot;ENCRYPTED&quot;,\n            &quot;eValue&quot;: &quot;XXXXXXX&quot;\n        }\n    }\n\n}\n</code></pre>\n<p>How to write a jsonpath expression to get <strong>eValue</strong> only if &quot;qId in AValue is ABCD&quot;</p>\n"},{"tags":["java","image","heif","avif"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1613472301,"post_id":66222773,"comment_id":117079206,"body_markdown":"Here is a library implementation, https://github.com/AOMediaCodec/libavif and here is the standard. https://aomediacodec.github.io/av1-avif/#av1-item-configuration-property","body":"Here is a library implementation, <a href=\"https://github.com/AOMediaCodec/libavif\" rel=\"nofollow noreferrer\">github.com/AOMediaCodec/libavif</a> and here is the standard. <a href=\"https://aomediacodec.github.io/av1-avif/#av1-item-configuration-property\" rel=\"nofollow noreferrer\">aomediacodec.github.io/av1-avif/&hellip;</a>"},{"owner":{"account_id":8240088,"reputation":21,"user_id":6197967,"display_name":"Jochen Go"},"score":0,"creation_date":1613545052,"post_id":66222773,"comment_id":117103841,"body_markdown":"Thanks  for the links, but as stated above I&#39;ve read through both of it without finding the required Information. Manually including a C-library in my java-application just to get some meta-information doesn&#39;t look ideal to me. Any additional hints?","body":"Thanks  for the links, but as stated above I&#39;ve read through both of it without finding the required Information. Manually including a C-library in my java-application just to get some meta-information doesn&#39;t look ideal to me. Any additional hints?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1613553663,"post_id":66222773,"comment_id":117107082,"body_markdown":"&quot;but as stated above I&#39;ve read through both of it &quot; you didn&#39;t state that anywhere. The links are the documentation and a library with a reference implementation. I&#39;m sure the information is in there, but I don&#39;t know enough about reading the specs to quickly delve into it. Can you link an example image in your post?","body":"&quot;but as stated above I&#39;ve read through both of it &quot; you didn&#39;t state that anywhere. The links are the documentation and a library with a reference implementation. I&#39;m sure the information is in there, but I don&#39;t know enough about reading the specs to quickly delve into it. Can you link an example image in your post?"}],"answers":[{"tags":[],"owner":{"account_id":20498733,"reputation":46,"user_id":15043092,"display_name":"Daniel a Simona Novomesk&#225;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613555286,"creation_date":1613555286,"answer_id":66239407,"question_id":66222773,"body_markdown":"Some of the AVIF files have `ftypavis` (contains animation) and I also saw AVIF with `ftypmif1`\r\n\r\nIf you want to parse AVIF alone, you need to understand ISOBMFF format and [HEIF container][1] first. There are various properties (like Image spatial Extents (ispe)), then various transformations (crop, rotation, mirror). Images can be stored in a form of image grid...\r\n\r\n\r\n  [1]: https://nokiatech.github.io/heif/technical.html","title":"How to get image dimensions from an avif file?","body":"<p>Some of the AVIF files have <code>ftypavis</code> (contains animation) and I also saw AVIF with <code>ftypmif1</code></p>\n<p>If you want to parse AVIF alone, you need to understand ISOBMFF format and <a href=\"https://nokiatech.github.io/heif/technical.html\" rel=\"nofollow noreferrer\">HEIF container</a> first. There are various properties (like Image spatial Extents (ispe)), then various transformations (crop, rotation, mirror). Images can be stored in a form of image grid...</p>\n"},{"tags":[],"owner":{"account_id":4604322,"reputation":3734,"user_id":3734222,"accept_rate":100,"display_name":"Dimitri Podborski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1663971744,"creation_date":1615325510,"answer_id":66555075,"question_id":66222773,"body_markdown":"Search for [`&#39;ispe&#39;`](https://www.iso.org/standard/66067.html) box (this is a mandatory box/item), skip 4 bytes after the type ([FullBox](https://www.iso.org/standard/83102.html) version and flags) read 4 bytes for image width, read 4 bytes for image height. Profit ;)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LMt5R.png","title":"How to get image dimensions from an avif file?","body":"<p>Search for <a href=\"https://www.iso.org/standard/66067.html\" rel=\"nofollow noreferrer\"><code>'ispe'</code></a> box (this is a mandatory box/item), skip 4 bytes after the type (<a href=\"https://www.iso.org/standard/83102.html\" rel=\"nofollow noreferrer\">FullBox</a> version and flags) read 4 bytes for image width, read 4 bytes for image height. Profit ;)</p>\n<p><a href=\"https://i.stack.imgur.com/LMt5R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LMt5R.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8240088,"reputation":21,"user_id":6197967,"display_name":"Jochen Go"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1348,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663971744,"creation_date":1613471802,"question_id":66222773,"body_markdown":"I&#39;m looking for a (fast) way to retrieve image metadata from an avif-file in my java-application. This is currently done for many image formats by analyzing the raw header bytes of a file.\r\n\r\nI can recognize a file as avif through the magic byte sequence at the beginning of the file: `ftypavif`. \r\nBut I&#39;m not able to find any information how to parse the (max) **image width &amp; height** of contained images. For JPEG2000 for example I can search for SIZ marker `0xFF51` and parse dimensions afterwards, but even after spending a lot of time reading through specifications of avif, I&#39;m not able to find something similar for it.\r\n\r\nIs my approach incorrect and I can&#39;t parse the image dimensions without decoding the image(s)? Or is there any documentation (or even usable library) I missed to retrieve width &amp; height from an avif-file?\r\n\r\nAny hints appreciated!","title":"How to get image dimensions from an avif file?","body":"<p>I'm looking for a (fast) way to retrieve image metadata from an avif-file in my java-application. This is currently done for many image formats by analyzing the raw header bytes of a file.</p>\n<p>I can recognize a file as avif through the magic byte sequence at the beginning of the file: <code>ftypavif</code>.\nBut I'm not able to find any information how to parse the (max) <strong>image width &amp; height</strong> of contained images. For JPEG2000 for example I can search for SIZ marker <code>0xFF51</code> and parse dimensions afterwards, but even after spending a lot of time reading through specifications of avif, I'm not able to find something similar for it.</p>\n<p>Is my approach incorrect and I can't parse the image dimensions without decoding the image(s)? Or is there any documentation (or even usable library) I missed to retrieve width &amp; height from an avif-file?</p>\n<p>Any hints appreciated!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8980,"page":1012,"page_size":100}
