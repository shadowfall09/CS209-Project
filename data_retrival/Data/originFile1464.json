{"items":[{"tags":["java","maven"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648913489,"post_id":71718631,"comment_id":126745831,"body_markdown":"Look under File &gt; Project Structure &gt; Project SDK and make sure you have a JDK selected.","body":"Look under File &gt; Project Structure &gt; Project SDK and make sure you have a JDK selected."}],"answers":[{"tags":[],"owner":{"account_id":20345583,"reputation":19,"user_id":14923589,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649001932,"creation_date":1649001932,"answer_id":71727630,"question_id":71718631,"body_markdown":"I figure it out when I reboot my IDEA.\r\nI think it is because I download new jdk jdk17.\r\n","title":"Try import java.util Cannot resolve symbol &#39;java&#39;","body":"<p>I figure it out when I reboot my IDEA.\nI think it is because I download new jdk jdk17.</p>\n"}],"owner":{"account_id":20345583,"reputation":19,"user_id":14923589,"display_name":"Luke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649001932,"creation_date":1648911536,"question_id":71718631,"body_markdown":"In IDEA IDE I met this problem. I tried to import java.util\r\n[compiler setting][1]\r\n\r\nmy pom.xml:\r\n```java\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/suigc.png","title":"Try import java.util Cannot resolve symbol &#39;java&#39;","body":"<p>In IDEA IDE I met this problem. I tried to import java.util\n<a href=\"https://i.stack.imgur.com/suigc.png\" rel=\"nofollow noreferrer\">compiler setting</a></p>\n<p>my pom.xml:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n</code></pre>\n"},{"tags":["java","spring","eclipse","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646599272,"creation_date":1646599272,"answer_id":71374041,"question_id":71373766,"body_markdown":"Your packages do not match. The class ofi.marina.domain.Component has this package:&lt;br&gt;ofi.marina.domain\r\n\r\nBut your Spring Boot main class ConfigurationApplication has a different package o.m.c.&lt;br&gt;\r\nI guess o.m.c.ConfigurationApplication might be ofi.marina.cXYZ.ConfigurationApplication. So you have to change your Component class package to ofi.marina.cXYZ.Component. Or use Spring @Import to load classes in different root packages.","title":"Why is Spring Ingoring a Eclipse Linked Source Package?","body":"<p>Your packages do not match. The class ofi.marina.domain.Component has this package:<br>ofi.marina.domain</p>\n<p>But your Spring Boot main class ConfigurationApplication has a different package o.m.c.<br>\nI guess o.m.c.ConfigurationApplication might be ofi.marina.cXYZ.ConfigurationApplication. So you have to change your Component class package to ofi.marina.cXYZ.Component. Or use Spring @Import to load classes in different root packages.</p>\n"},{"tags":[],"owner":{"account_id":1104631,"reputation":113,"user_id":6288692,"display_name":"Jhonnytunes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649000163,"creation_date":1649000163,"answer_id":71727388,"question_id":71373766,"body_markdown":"So, I got it working. As this is a pet project today i continue tinkering with it. So far 3 changes made it:\r\n\r\n 1. Added @ComponentScan to scan the other package\r\n\r\n**Application Main Class**\r\n\r\n    @SpringBootApplication\r\n    @EntityScan(basePackages = {&quot;ofi.marina.domain&quot;})\r\n    @ComponentScan(basePackages = {&quot;ofi.marina.domain&quot;})\r\n    public class ParametersApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ParametersApplication.class, args);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n 2. Change the repository from @Service to @Component\r\n\r\n   \r\n\r\n \r\n\r\n    @Component\r\n        public interface ComponentRepository extends JpaRepository&lt;ConfigurationComponent, Integer&gt; {\r\n        \r\n        }\r\n\r\n 3. Removed a class from linked source that was not meant to be included(Is possible that this alone fixed it IDK. Need more tests).\r\n\r\nNow Im reorganizing the workspace to avoid this bad designs mistakes. But I hope anybody struggling with a situation like this can find this post.\r\n","title":"Why is Spring Ingoring a Eclipse Linked Source Package?","body":"<p>So, I got it working. As this is a pet project today i continue tinkering with it. So far 3 changes made it:</p>\n<ol>\n<li>Added @ComponentScan to scan the other package</li>\n</ol>\n<p><strong>Application Main Class</strong></p>\n<pre><code>@SpringBootApplication\n@EntityScan(basePackages = {&quot;ofi.marina.domain&quot;})\n@ComponentScan(basePackages = {&quot;ofi.marina.domain&quot;})\npublic class ParametersApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ParametersApplication.class, args);\n        \n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Change the repository from @Service to @Component</p>\n<p>@Component\npublic interface ComponentRepository extends JpaRepository&lt;ConfigurationComponent, Integer&gt; {</p>\n<pre><code>}\n</code></pre>\n</li>\n<li><p>Removed a class from linked source that was not meant to be included(Is possible that this alone fixed it IDK. Need more tests).</p>\n</li>\n</ol>\n<p>Now Im reorganizing the workspace to avoid this bad designs mistakes. But I hope anybody struggling with a situation like this can find this post.</p>\n"}],"owner":{"account_id":1104631,"reputation":113,"user_id":6288692,"display_name":"Jhonnytunes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71727388,"answer_count":2,"score":0,"last_activity_date":1649000163,"creation_date":1646596702,"question_id":71373766,"body_markdown":"I&#39;m developing a small Spring Boot application for a relative one using a microservice architecture. As multiple service will be sharing some code I created a project named domain to stored all shared classes. I created another project, called configuration, for retrieving parameters from the database. While trying to inject a Repository in a RestController, Spring console is telling it can&#39;t find the repository to inject. So far, I&#39;ve tried to link the source project and add as a module dependency in eclipse. I also added the packages scan in the Application class, but without sucess. On the other hand, external classes are compiling sucessfully. The issue seems to be on Spring Dependecy Injection while importing external eclipse project.\r\n\r\n**Repository**\r\n\r\n    @Service\r\n    public interface ComponentRepository extends JpaRepository&lt;Component, Integer&gt; {\r\n\r\n    }\r\n\r\n\r\n**Controller**\r\n\r\n    @RestController\r\npublic class ConfigurationController {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate ComponentRepository repository;\r\n\r\n\t@GetMapping(path = &quot;/configuration/{component}&quot;)\r\n\tpublic Optional&lt;Component&gt; getConfiguration(@PathVariable Component component) {\r\n\t\t\r\n\t\treturn repository.findById(3);//fixed whitle troubleshooting.\r\n\t\t\r\n\t}\r\n\t\r\n    }\r\n\r\n**Application Main Class**\r\n\r\n    @SpringBootApplication(scanBasePackages = { &quot;ofi.marina.configuration&quot;, &quot;ofi.marina.domain&quot; })\r\n    public class ConfigurationApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ConfigurationApplication.class, args);\r\n\t}\r\n\r\n    }\r\n\r\n\r\n**Linked Source and Exclusions**\r\n[![link source][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t7tQm.png\r\n  [2]: https://i.stack.imgur.com/SA4Hx.png\r\n\r\n**Error Running From Maven**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language:  --&gt;\r\n\r\n    2022-03-06 15:52:03.219  INFO 7196 --- [           main] o.m.c.ConfigurationApplication           : Starting ConfigurationApplication using Java 17.0.1 on XXXX with PID 7196 (E:\\JhonnyOnedrive\\OneDrive\\Documents\\Projects\\MarinaOFI\\Source\\configuration\\target\\classes started by XXXXX in E:\\JhonnyOnedrive\\OneDrive\\Documents\\Projects\\MarinaOFI\\Source\\configuration)\r\n    2022-03-06 15:52:03.222  INFO 7196 --- [           main] o.m.c.ConfigurationApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-03-06 15:52:03.853  INFO 7196 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-03-06 15:52:03.907 ERROR 7196 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n    java.lang.TypeNotPresentException: Type ofi.marina.domain.Component not present\r\n    \tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\r\n    \tat java.base/java.lang.Class.getGenericInterfaces(Class.java:1211) ~[na:na]\r\n    \tat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:502) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.core.GenericTypeResolver.buildTypeVariableMap(GenericTypeResolver.java:271) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.core.GenericTypeResolver.getTypeVariableMap(GenericTypeResolver.java:248) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.data.util.ClassTypeInformation.getTypeVariableMap(ClassTypeInformation.java:115) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.util.ClassTypeInformation.getTypeVariableMap(ClassTypeInformation.java:104) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.util.ClassTypeInformation.&lt;init&gt;(ClassTypeInformation.java:93) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n    \tat org.springframework.data.util.ClassTypeInformation.from(ClassTypeInformation.java:71) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.AbstractRepositoryMetadata.&lt;init&gt;(AbstractRepositoryMetadata.java:63) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.DefaultRepositoryMetadata.&lt;init&gt;(DefaultRepositoryMetadata.java:49) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:78) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:103) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:159) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat ofi.marina.configuration.ConfigurationApplication.main(ConfigurationApplication.java:10) ~[classes/:na]\r\n    Caused by: java.lang.ClassNotFoundException: ofi.marina.domain.Component\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\r\n    \t... 40 common frames omitted\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  5.715 s\r\n    [INFO] Finished at: 2022-03-06T15:52:03-04:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default-cli) on project configuration: Application finished with exit code: 1 -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default-cli) on project configuration: Application finished with exit code: 1\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Application finished with exit code: 1\r\n    \tat org.springframework.boot.maven.RunMojo.runWithForkedJvm(RunMojo.java:101)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo.doRunWithForkedJvm(AbstractRunMojo.java:286)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo.run(AbstractRunMojo.java:251)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo.execute(AbstractRunMojo.java:223)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n    \t... 20 more\r\n    [ERROR] \r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Error Running From Eclipse**\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language:  --&gt;\r\n\r\n    Error: Could not find or load main class ofi.marina.configuration.ConfigurationApplication\r\n    Caused by: java.lang.ClassNotFoundException: ofi.marina.configuration.ConfigurationApplication\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Why is Spring Ingoring a Eclipse Linked Source Package?","body":"<p>I'm developing a small Spring Boot application for a relative one using a microservice architecture. As multiple service will be sharing some code I created a project named domain to stored all shared classes. I created another project, called configuration, for retrieving parameters from the database. While trying to inject a Repository in a RestController, Spring console is telling it can't find the repository to inject. So far, I've tried to link the source project and add as a module dependency in eclipse. I also added the packages scan in the Application class, but without sucess. On the other hand, external classes are compiling sucessfully. The issue seems to be on Spring Dependecy Injection while importing external eclipse project.</p>\n<p><strong>Repository</strong></p>\n<pre><code>@Service\npublic interface ComponentRepository extends JpaRepository&lt;Component, Integer&gt; {\n\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n</code></pre>\n<p>public class ConfigurationController {</p>\n<pre><code>@Autowired\nprivate ComponentRepository repository;\n\n@GetMapping(path = &quot;/configuration/{component}&quot;)\npublic Optional&lt;Component&gt; getConfiguration(@PathVariable Component component) {\n    \n    return repository.findById(3);//fixed whitle troubleshooting.\n    \n}\n\n}\n</code></pre>\n<p><strong>Application Main Class</strong></p>\n<pre><code>@SpringBootApplication(scanBasePackages = { &quot;ofi.marina.configuration&quot;, &quot;ofi.marina.domain&quot; })\npublic class ConfigurationApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(ConfigurationApplication.class, args);\n}\n\n}\n</code></pre>\n<p><strong>Linked Source and Exclusions</strong>\n<a href=\"https://i.stack.imgur.com/t7tQm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t7tQm.png\" alt=\"link source\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SA4Hx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SA4Hx.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Error Running From Maven</strong></p>\n\n<pre><code>2022-03-06 15:52:03.219  INFO 7196 --- [           main] o.m.c.ConfigurationApplication           : Starting ConfigurationApplication using Java 17.0.1 on XXXX with PID 7196 (E:\\JhonnyOnedrive\\OneDrive\\Documents\\Projects\\MarinaOFI\\Source\\configuration\\target\\classes started by XXXXX in E:\\JhonnyOnedrive\\OneDrive\\Documents\\Projects\\MarinaOFI\\Source\\configuration)\n2022-03-06 15:52:03.222  INFO 7196 --- [           main] o.m.c.ConfigurationApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-03-06 15:52:03.853  INFO 7196 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-03-06 15:52:03.907 ERROR 7196 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.TypeNotPresentException: Type ofi.marina.domain.Component not present\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\n    at java.base/java.lang.Class.getGenericInterfaces(Class.java:1211) ~[na:na]\n    at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:502) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.core.GenericTypeResolver.buildTypeVariableMap(GenericTypeResolver.java:271) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.core.GenericTypeResolver.getTypeVariableMap(GenericTypeResolver.java:248) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.data.util.ClassTypeInformation.getTypeVariableMap(ClassTypeInformation.java:115) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.util.ClassTypeInformation.getTypeVariableMap(ClassTypeInformation.java:104) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.util.ClassTypeInformation.&lt;init&gt;(ClassTypeInformation.java:93) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\n    at org.springframework.data.util.ClassTypeInformation.from(ClassTypeInformation.java:71) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.&lt;init&gt;(AbstractRepositoryMetadata.java:63) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.DefaultRepositoryMetadata.&lt;init&gt;(DefaultRepositoryMetadata.java:49) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:78) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:103) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:159) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.16.jar:5.3.16]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at ofi.marina.configuration.ConfigurationApplication.main(ConfigurationApplication.java:10) ~[classes/:na]\nCaused by: java.lang.ClassNotFoundException: ofi.marina.domain.Component\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\n    ... 40 common frames omitted\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.715 s\n[INFO] Finished at: 2022-03-06T15:52:03-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default-cli) on project configuration: Application finished with exit code: 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default-cli) on project configuration: Application finished with exit code: 1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Application finished with exit code: 1\n    at org.springframework.boot.maven.RunMojo.runWithForkedJvm(RunMojo.java:101)\n    at org.springframework.boot.maven.AbstractRunMojo.doRunWithForkedJvm(AbstractRunMojo.java:286)\n    at org.springframework.boot.maven.AbstractRunMojo.run(AbstractRunMojo.java:251)\n    at org.springframework.boot.maven.AbstractRunMojo.execute(AbstractRunMojo.java:223)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    ... 20 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p><strong>Error Running From Eclipse</strong></p>\n\n<pre><code>Error: Could not find or load main class ofi.marina.configuration.ConfigurationApplication\nCaused by: java.lang.ClassNotFoundException: ofi.marina.configuration.ConfigurationApplication\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6778270,"reputation":6791,"user_id":5288316,"accept_rate":79,"display_name":"Nicolas"},"score":0,"creation_date":1590626758,"post_id":62055140,"comment_id":109753914,"body_markdown":"Stacktrace please.","body":"Stacktrace please."}],"answers":[{"tags":[],"owner":{"account_id":18383164,"reputation":89,"user_id":13390824,"display_name":"Asutosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590669021,"creation_date":1590669021,"answer_id":62064759,"question_id":62055140,"body_markdown":"I guess you are trying to use `RecyclerView` and populate it with your `arrayAdapter`.You are missing the statement to instruct the recycler view to use the adapter.\r\n\r\nTry adding this and check if it works\r\n\r\n    recyclerView.setAdapter(arrayAdapter);\r\n    arrayAdapter.notifyDataSetChanged();\r\n\r\nIf you are using any other views such as `ListView` you have to set your adapter to that.\r\n\r\n    listView.setAdapter(arrayAdapter);\r\n    arrayAdapter.notifyDataSetChanged();\r\n\r\n\r\nIf you are not using any views, you can&#39;t get your data populated. Please check this article for more on ArrayAdapter: \r\n[ArrayAdapter with ListView][1], [ArrayAdapter with RecyclerView][2]\r\n\r\n\r\n  [1]: https://guides.codepath.com/android/Using-an-ArrayAdapter-with-ListView\r\n  [2]: https://guides.codepath.com/android/using-the-recyclerview","title":"notifydatasetchanged not working after app close?","body":"<p>I guess you are trying to use <code>RecyclerView</code> and populate it with your <code>arrayAdapter</code>.You are missing the statement to instruct the recycler view to use the adapter.</p>\n\n<p>Try adding this and check if it works</p>\n\n<pre><code>recyclerView.setAdapter(arrayAdapter);\narrayAdapter.notifyDataSetChanged();\n</code></pre>\n\n<p>If you are using any other views such as <code>ListView</code> you have to set your adapter to that.</p>\n\n<pre><code>listView.setAdapter(arrayAdapter);\narrayAdapter.notifyDataSetChanged();\n</code></pre>\n\n<p>If you are not using any views, you can't get your data populated. Please check this article for more on ArrayAdapter: \n<a href=\"https://guides.codepath.com/android/Using-an-ArrayAdapter-with-ListView\" rel=\"nofollow noreferrer\">ArrayAdapter with ListView</a>, <a href=\"https://guides.codepath.com/android/using-the-recyclerview\" rel=\"nofollow noreferrer\">ArrayAdapter with RecyclerView</a></p>\n"},{"tags":[],"owner":{"account_id":16393929,"reputation":13,"user_id":11842029,"display_name":"Alp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591027595,"creation_date":1591027595,"answer_id":62136203,"question_id":62055140,"body_markdown":"//I solved the problem. \r\n`list=new ArrayList&lt;Card&gt;(); `\r\n//adding code \r\n`arrayAdapter=new CardArrayAdapter(this.getContext(),list.size(),list);` ","title":"notifydatasetchanged not working after app close?","body":"<p>//I solved the problem. \n<code>list=new ArrayList&lt;Card&gt;();</code>\n//adding code \n<code>arrayAdapter=new CardArrayAdapter(this.getContext(),list.size(),list);</code> </p>\n"}],"owner":{"account_id":16393929,"reputation":13,"user_id":11842029,"display_name":"Alp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":62064759,"answer_count":2,"score":-1,"last_activity_date":1648999785,"creation_date":1590626663,"question_id":62055140,"body_markdown":"My code is as follows. I have a couple of classes and when someone want to update it doesn&#39;t work.what could be the problem?\r\nI checked it a lot and the application closes = arrayAdapter.notifyDataSetChanged();\r\n\r\n\r\n    public class CardArrayAdapter extends ArrayAdapter&lt;Card&gt; {\r\n\r\n\r\n        public CardArrayAdapter(Context context, int resource,List&lt;Card&gt; objects) {\r\n            super(context, resource, objects);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public View getView(int position,View convertView, ViewGroup parent) {\r\n           Card card = getItem(position);\r\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.item,parent,false);\r\n            TextView textView = convertView.findViewById(R.id.ItemTextView);\r\n            ImageView imageView = convertView.findViewById(R.id.ItemImageView);\r\n            textView.setText(card.name);\r\n            Glide.with(getContext()).load(card.photoURL).into(imageView);\r\n            return convertView;\r\n        }\r\n    }\r\n\r\n\r\nMain class\r\n\r\n    ArrayList&lt;Card&gt; list;\r\n    CardArrayAdapter arrayAdapter;\r\n    public void loadsCards(){\r\n            list=new ArrayList&lt;Card&gt;();\r\n             String name = dataSnapshot.child(&quot;name&quot;).getValue().toString();\r\n                                        String photoURL = dataSnapshot.child(&quot;photo&quot;).getValue().toString();\r\n                                        String uid = dataSnapshot.getKey();\r\n                                        Card card = new Card(uid,photoURL,name);\r\n                                        Toast.makeText(getActivity(), &quot;sonuc:&quot;+card.name, Toast.LENGTH_LONG).show();\r\n                                       list.add(card);\r\n                           arrayAdapter.notifyDataSetChanged(); //closes here\r\n                                      }\r\n\r\n\r\n","title":"notifydatasetchanged not working after app close?","body":"<p>My code is as follows. I have a couple of classes and when someone want to update it doesn't work.what could be the problem?\nI checked it a lot and the application closes = arrayAdapter.notifyDataSetChanged();</p>\n<pre><code>public class CardArrayAdapter extends ArrayAdapter&lt;Card&gt; {\n\n\n    public CardArrayAdapter(Context context, int resource,List&lt;Card&gt; objects) {\n        super(context, resource, objects);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position,View convertView, ViewGroup parent) {\n       Card card = getItem(position);\n        convertView = LayoutInflater.from(getContext()).inflate(R.layout.item,parent,false);\n        TextView textView = convertView.findViewById(R.id.ItemTextView);\n        ImageView imageView = convertView.findViewById(R.id.ItemImageView);\n        textView.setText(card.name);\n        Glide.with(getContext()).load(card.photoURL).into(imageView);\n        return convertView;\n    }\n}\n</code></pre>\n<p>Main class</p>\n<pre><code>ArrayList&lt;Card&gt; list;\nCardArrayAdapter arrayAdapter;\npublic void loadsCards(){\n        list=new ArrayList&lt;Card&gt;();\n         String name = dataSnapshot.child(&quot;name&quot;).getValue().toString();\n                                    String photoURL = dataSnapshot.child(&quot;photo&quot;).getValue().toString();\n                                    String uid = dataSnapshot.getKey();\n                                    Card card = new Card(uid,photoURL,name);\n                                    Toast.makeText(getActivity(), &quot;sonuc:&quot;+card.name, Toast.LENGTH_LONG).show();\n                                   list.add(card);\n                       arrayAdapter.notifyDataSetChanged(); //closes here\n                                  }\n</code></pre>\n"},{"tags":["java","maven","jena"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1648999112,"post_id":71726949,"comment_id":126759638,"body_markdown":"The --release option is only available from JDK9+ not before","body":"The --release option is only available from JDK9+ not before"},{"owner":{"account_id":15372836,"reputation":522,"user_id":11090439,"display_name":"J. Doe"},"score":0,"creation_date":1648999377,"post_id":71726949,"comment_id":126759685,"body_markdown":"@khmarbaise The official doc says also version 1.8. So should I just install an older maven version? The maven docs says everything with 1.7+ is fine","body":"@khmarbaise The official doc says also version 1.8. So should I just install an older maven version? The maven docs says everything with 1.7+ is fine"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648999461,"post_id":71726949,"comment_id":126759709,"body_markdown":"Simply wrong. The --release in javac is available since JDK9+ thats it. There is a configuration/property in your pom which assumes different...or you have to use a different JDK version (JDK9+) (BTW: Which official docs?)","body":"Simply wrong. The --release in javac is available since JDK9+ thats it. There is a configuration/property in your pom which assumes different...or you have to use a different JDK version (JDK9+) (BTW: Which official docs?)"},{"owner":{"account_id":15372836,"reputation":522,"user_id":11090439,"display_name":"J. Doe"},"score":0,"creation_date":1648999655,"post_id":71726949,"comment_id":126759755,"body_markdown":"@khmarbaise I dont&#39;t have a pom. I just did a checkout from the jena source code (first step in the docs) I have openjdk version &quot;1.8.0_312&quot;\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_312-b07)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.312-b07, mixed mode) installed","body":"@khmarbaise I dont&#39;t have a pom. I just did a checkout from the jena source code (first step in the docs) I have openjdk version &quot;1.8.0_312&quot; OpenJDK Runtime Environment (Temurin)(build 1.8.0_312-b07) OpenJDK 64-Bit Server VM (Temurin)(build 25.312-b07, mixed mode) installed"},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1648999661,"post_id":71726949,"comment_id":126759756,"body_markdown":"You don&#39;t need to compile jena - the jars are available on maven central.","body":"You don&#39;t need to compile jena - the jars are available on maven central."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1648999804,"post_id":71726949,"comment_id":126759800,"body_markdown":"If you have checked out the source code theree is a pom file... this page states different about the needed JDK: https://jena.apache.org/download/index.cgi (JDK11!!) and **NOT** JDK8...","body":"If you have checked out the source code theree is a pom file... this page states different about the needed JDK: <a href=\"https://jena.apache.org/download/index.cgi\" rel=\"nofollow noreferrer\">jena.apache.org/download/index.cgi</a> (JDK11!!) and <b>NOT</b> JDK8..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648999850,"post_id":71726949,"comment_id":126759815,"body_markdown":"The git repo contains a pom file which requires JDK11+ (https://github.com/apache/jena/blob/main/pom.xml)","body":"The git repo contains a pom file which requires JDK11+ (<a href=\"https://github.com/apache/jena/blob/main/pom.xml\" rel=\"nofollow noreferrer\">github.com/apache/jena/blob/main/pom.xml</a>)"},{"owner":{"account_id":15372836,"reputation":522,"user_id":11090439,"display_name":"J. Doe"},"score":0,"creation_date":1648999966,"post_id":71726949,"comment_id":126759836,"body_markdown":"Oh, I guess the doc article is outdated then. Which way would you recommend me for an easy setup of jena? I thought following the official docs will be the easiest","body":"Oh, I guess the doc article is outdated then. Which way would you recommend me for an easy setup of jena? I thought following the official docs will be the easiest"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649000103,"post_id":71726949,"comment_id":126759869,"body_markdown":"First I would consume the artifacts from central repository instead of self compiling... (JDK11+) ... further steps ... I think follow the docs...","body":"First I would consume the artifacts from central repository instead of self compiling... (JDK11+) ... further steps ... I think follow the docs..."}],"owner":{"account_id":15372836,"reputation":522,"user_id":11090439,"display_name":"J. Doe"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648999770,"creation_date":1648997333,"question_id":71726949,"body_markdown":"I try to use Apache Jena with eclipse on my machine.\r\nI&#39;m following the official documentation:\r\n\r\nhttps://jena.apache.org/tutorials/using_jena_with_eclipse.html\r\n\r\nWhich links to https://jena.apache.org/getting_involved/index.html\r\n\r\nwith the steps:\r\n\r\n 1. git clone https://github.com/apache/jena.git \r\n 2. cd jena\r\n 3. mvn clean install\r\n\r\nBut I get following error on &quot;mvn clean install&quot;\r\n\r\n        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.9.0:compile (default-compile) on project jena-iri: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    [ERROR]\r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;args&gt; -rf :jena-iri\r\n\r\nthis is what `C:/Users/user/apache-maven-3.8.5/bin/mvn -v` gives me\r\n\r\n    Maven home: C:\\Users\\user\\apache-maven-3.8.5\r\n    Java version: 1.8.0_312, vendor: Temurin, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.312.7-hotspot\\jre\r\n    Default locale: de_DE, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nI don&#39;t habe admin rights on this computer\r\n\r\n\r\n","title":"Jena Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.9.0:compile (default-compile) on project jena-iri: Fatal error compiling","body":"<p>I try to use Apache Jena with eclipse on my machine.\nI'm following the official documentation:</p>\n<p><a href=\"https://jena.apache.org/tutorials/using_jena_with_eclipse.html\" rel=\"nofollow noreferrer\">https://jena.apache.org/tutorials/using_jena_with_eclipse.html</a></p>\n<p>Which links to <a href=\"https://jena.apache.org/getting_involved/index.html\" rel=\"nofollow noreferrer\">https://jena.apache.org/getting_involved/index.html</a></p>\n<p>with the steps:</p>\n<ol>\n<li>git clone <a href=\"https://github.com/apache/jena.git\" rel=\"nofollow noreferrer\">https://github.com/apache/jena.git</a></li>\n<li>cd jena</li>\n<li>mvn clean install</li>\n</ol>\n<p>But I get following error on &quot;mvn clean install&quot;</p>\n<pre><code>    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.9.0:compile (default-compile) on project jena-iri: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :jena-iri\n</code></pre>\n<p>this is what <code>C:/Users/user/apache-maven-3.8.5/bin/mvn -v</code> gives me</p>\n<pre><code>Maven home: C:\\Users\\user\\apache-maven-3.8.5\nJava version: 1.8.0_312, vendor: Temurin, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.312.7-hotspot\\jre\nDefault locale: de_DE, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>I don't habe admin rights on this computer</p>\n"},{"tags":["java","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1632204360,"post_id":69263705,"comment_id":122422605,"body_markdown":"As an `@ModelAttribute` is exclusively used for binding a Web form into the controller, I have simply replicated the form attributes exactly, even if the property names aren&#39;t Java-standard, to accurately reflect the form contents. I believe that altering the names would require a custom binder.","body":"As an <code>@ModelAttribute</code> is exclusively used for binding a Web form into the controller, I have simply replicated the form attributes exactly, even if the property names aren&#39;t Java-standard, to accurately reflect the form contents. I believe that altering the names would require a custom binder."},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1632205687,"post_id":69263705,"comment_id":122422963,"body_markdown":"You keep your dto by matching the form fields and use @Column or JsonProperty on Entity class.","body":"You keep your dto by matching the form fields and use @Column or JsonProperty on Entity class."},{"owner":{"account_id":21976516,"reputation":53,"user_id":16252257,"display_name":"Stalwart"},"score":0,"creation_date":1632205774,"post_id":69263705,"comment_id":122422985,"body_markdown":"Thanks @chrylis-cautiouslyoptimistic-  I would have left it to be same named as form data but my Sonar keep ringing :D. So , I thought there must be some way.","body":"Thanks @chrylis-cautiouslyoptimistic-  I would have left it to be same named as form data but my Sonar keep ringing :D. So , I thought there must be some way."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1632206209,"post_id":69263705,"comment_id":122423097,"body_markdown":"I would say this is a specific case where suppressing the Sonar warnings is justified.","body":"I would say this is a specific case where suppressing the Sonar warnings is justified."},{"owner":{"account_id":21976516,"reputation":53,"user_id":16252257,"display_name":"Stalwart"},"score":0,"creation_date":1632228555,"post_id":69263705,"comment_id":122431371,"body_markdown":"@Alien I wanted to basically rename the fields in my dto as the form fields are not consistent.","body":"@Alien I wanted to basically rename the fields in my dto as the form fields are not consistent."}],"answers":[{"tags":[],"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648999733,"creation_date":1648999733,"answer_id":71727313,"question_id":69263705,"body_markdown":"That&#39;s a pretty old question, but I just came across the same problem and figured out that Spring (at least in `spring-webflux`, but it should work the same for `spring-web`) makes use of `@ConstructorProperties` annotation in `ModelAttributeMethodArgumentResolver`. \r\n\r\nThat means the following is possible for a custom field naming inside a `ModelAttribute`:\r\n\r\n```\r\npublic class DemoRequest {\r\n\r\n    private final String deviceId;\r\n    private final String asn; \r\n    private final String portal;\r\n    private final MultipartFile uploadedFile;\r\n    \r\n    @ConstructorProperties({&quot;deviceID&quot;, &quot;ASN&quot;, &quot;portal&quot;, &quot;str_ScanData&quot;})\r\n    public DemoRequest(String deviceId, String asn, String portal, MultipartFile uploadedFile) {\r\n        this.deviceId = deviceId;\r\n        this.asn = asn;\r\n        this.portal = portal;\r\n        this.uploadedFile = uploadedFile;\r\n    }\r\n}\r\n```","title":"In springboot, how to rename Form-data fields while mapping using @ModelAttribute?","body":"<p>That's a pretty old question, but I just came across the same problem and figured out that Spring (at least in <code>spring-webflux</code>, but it should work the same for <code>spring-web</code>) makes use of <code>@ConstructorProperties</code> annotation in <code>ModelAttributeMethodArgumentResolver</code>.</p>\n<p>That means the following is possible for a custom field naming inside a <code>ModelAttribute</code>:</p>\n<pre><code>public class DemoRequest {\n\n    private final String deviceId;\n    private final String asn; \n    private final String portal;\n    private final MultipartFile uploadedFile;\n    \n    @ConstructorProperties({&quot;deviceID&quot;, &quot;ASN&quot;, &quot;portal&quot;, &quot;str_ScanData&quot;})\n    public DemoRequest(String deviceId, String asn, String portal, MultipartFile uploadedFile) {\n        this.deviceId = deviceId;\n        this.asn = asn;\n        this.portal = portal;\n        this.uploadedFile = uploadedFile;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21976516,"reputation":53,"user_id":16252257,"display_name":"Stalwart"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1134,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1648999733,"creation_date":1632201465,"question_id":69263705,"body_markdown":"I am working with spring-boot, in my controller, I am receiving a formData. I&#39;m mapping the request to the POJO using the @ModelAttribute however, the formData names are not uniform. In this case, @JsonProperty is not helping. \r\nI was looking for some annotation or way so I can rename these fields while mapping.\r\n\r\nCurl sample-\r\n\r\n    curl --location --request POST &#39;http://localhost:8080/api/demo&#39; \\\r\n    --header &#39;Authorization: Bearer &#39; \\\r\n    --form &#39;deviceID=&quot;123&quot;&#39; \\\r\n    --form &#39;ASN=&quot;123&quot;&#39; \\\r\n    --form &#39;portal=&quot;demoportal&quot;&#39; \\\r\n    --form &#39;str_ScanData=@&quot;/D:/sample.xml&quot;&#39;\r\n\r\nMy Controller sample-\r\n\r\n     @PostMapping(path = &quot;/demo&quot;, consumes = {&quot;multipart/form-data&quot;}) public ResponseEntity&lt;demoDto&gt; demoController(\r\n    @ModelAttribute DemoRequest demoRequest)\r\n\r\nMy POJO for Request -\r\n\r\n    Class DemoRequest {\r\n    // what i have right now\r\n       private String deviceID;\r\n        private String ASN;\r\n        private String portal;\r\n        private MultipartFile str_ScanData;\r\n    // getter setters constructor\r\n    \r\n    // What I want to have\r\n       private String deviceId; //camelcase\r\n        private String asn; //rename\r\n        private String portal;\r\n        private MultipartFile uploadedFile; //rename\r\n    }\r\n\r\nI am new to using forums and spring-boot. Please let me know if I am on wrong track or have not posted any relevant info.\r\n\r\n","title":"In springboot, how to rename Form-data fields while mapping using @ModelAttribute?","body":"<p>I am working with spring-boot, in my controller, I am receiving a formData. I'm mapping the request to the POJO using the @ModelAttribute however, the formData names are not uniform. In this case, @JsonProperty is not helping.\nI was looking for some annotation or way so I can rename these fields while mapping.</p>\n<p>Curl sample-</p>\n<pre><code>curl --location --request POST 'http://localhost:8080/api/demo' \\\n--header 'Authorization: Bearer ' \\\n--form 'deviceID=&quot;123&quot;' \\\n--form 'ASN=&quot;123&quot;' \\\n--form 'portal=&quot;demoportal&quot;' \\\n--form 'str_ScanData=@&quot;/D:/sample.xml&quot;'\n</code></pre>\n<p>My Controller sample-</p>\n<pre><code> @PostMapping(path = &quot;/demo&quot;, consumes = {&quot;multipart/form-data&quot;}) public ResponseEntity&lt;demoDto&gt; demoController(\n@ModelAttribute DemoRequest demoRequest)\n</code></pre>\n<p>My POJO for Request -</p>\n<pre><code>Class DemoRequest {\n// what i have right now\n   private String deviceID;\n    private String ASN;\n    private String portal;\n    private MultipartFile str_ScanData;\n// getter setters constructor\n\n// What I want to have\n   private String deviceId; //camelcase\n    private String asn; //rename\n    private String portal;\n    private MultipartFile uploadedFile; //rename\n}\n</code></pre>\n<p>I am new to using forums and spring-boot. Please let me know if I am on wrong track or have not posted any relevant info.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1649017093,"post_id":71727147,"comment_id":126763654,"body_markdown":"I suggest following the official Apache Kafka website as it has latest commands (also zookeeper flag would have needed two dashes, anyway)","body":"I suggest following the official Apache Kafka website as it has latest commands (also zookeeper flag would have needed two dashes, anyway)"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648998757,"creation_date":1648998757,"answer_id":71727164,"question_id":71727147,"body_markdown":"New version of Kafka, use\r\n\r\n```\r\n./kafka-topics.sh --create --topic test-topic --bootstrap-server  localhost:9092 --replication-factor 1 --partitions 4\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uFmMa.png","title":"How to fix Kafka 3.x error parameter -zookeeper?","body":"<p>New version of Kafka, use</p>\n<pre><code>./kafka-topics.sh --create --topic test-topic --bootstrap-server  localhost:9092 --replication-factor 1 --partitions 4\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uFmMa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uFmMa.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71727164,"answer_count":1,"score":-1,"last_activity_date":1648998757,"creation_date":1648998630,"question_id":71727147,"body_markdown":"My version https://dlcdn.apache.org/kafka/3.1.0/kafka_2.13-3.1.0.tgz . Run on Ubuntu 21.10, OpenJDK 11. I follow guide at https://github.com/donhuvy/kafka-for-developers-using-spring-boot/blob/master/SetUpKafka.md#how-to-create-a-topic- . My command\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\ndonhuvy@ubuntu:~/Downloads/kafka_2.13-3.1.0/bin$ ./kafka-topics.sh --create --topic test-topic -zookeeper localhost:2181 --replication-factor 1 --partitions 4\r\nException in thread &quot;main&quot; joptsimple.UnrecognizedOptionException: z is not a recognized option\r\n\tat joptsimple.OptionException.unrecognizedOption(OptionException.java:108)\r\n\tat joptsimple.OptionParser.validateOptionCharacters(OptionParser.java:633)\r\n\tat joptsimple.OptionParser.handleShortOptionCluster(OptionParser.java:528)\r\n\tat joptsimple.OptionParser.handleShortOptionToken(OptionParser.java:523)\r\n\tat joptsimple.OptionParserState$2.handleArgument(OptionParserState.java:59)\r\n\tat joptsimple.OptionParser.parse(OptionParser.java:396)\r\n\tat kafka.admin.TopicCommand$TopicCommandOptions.&lt;init&gt;(TopicCommand.scala:567)\r\n\tat kafka.admin.TopicCommand$.main(TopicCommand.scala:47)\r\n\tat kafka.admin.TopicCommand.main(TopicCommand.scala)\r\ndonhuvy@ubuntu:~/Downloads/kafka_2.13-3.1.0/bin$ \r\n\r\n```\r\n\r\nHow to fix it?\r\n\r\n  [1]: https://i.stack.imgur.com/V8hIT.png","title":"How to fix Kafka 3.x error parameter -zookeeper?","body":"<p>My version <a href=\"https://dlcdn.apache.org/kafka/3.1.0/kafka_2.13-3.1.0.tgz\" rel=\"nofollow noreferrer\">https://dlcdn.apache.org/kafka/3.1.0/kafka_2.13-3.1.0.tgz</a> . Run on Ubuntu 21.10, OpenJDK 11. I follow guide at <a href=\"https://github.com/donhuvy/kafka-for-developers-using-spring-boot/blob/master/SetUpKafka.md#how-to-create-a-topic-\" rel=\"nofollow noreferrer\">https://github.com/donhuvy/kafka-for-developers-using-spring-boot/blob/master/SetUpKafka.md#how-to-create-a-topic-</a> . My command</p>\n<p><a href=\"https://i.stack.imgur.com/V8hIT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8hIT.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>donhuvy@ubuntu:~/Downloads/kafka_2.13-3.1.0/bin$ ./kafka-topics.sh --create --topic test-topic -zookeeper localhost:2181 --replication-factor 1 --partitions 4\nException in thread &quot;main&quot; joptsimple.UnrecognizedOptionException: z is not a recognized option\n    at joptsimple.OptionException.unrecognizedOption(OptionException.java:108)\n    at joptsimple.OptionParser.validateOptionCharacters(OptionParser.java:633)\n    at joptsimple.OptionParser.handleShortOptionCluster(OptionParser.java:528)\n    at joptsimple.OptionParser.handleShortOptionToken(OptionParser.java:523)\n    at joptsimple.OptionParserState$2.handleArgument(OptionParserState.java:59)\n    at joptsimple.OptionParser.parse(OptionParser.java:396)\n    at kafka.admin.TopicCommand$TopicCommandOptions.&lt;init&gt;(TopicCommand.scala:567)\n    at kafka.admin.TopicCommand$.main(TopicCommand.scala:47)\n    at kafka.admin.TopicCommand.main(TopicCommand.scala)\ndonhuvy@ubuntu:~/Downloads/kafka_2.13-3.1.0/bin$ \n\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","dependency-injection","dagger"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1648796310,"post_id":71700316,"comment_id":126719629,"body_markdown":"Please don&#39;t add superfluous tags: you&#39;re asking a question about Dagger, there was absolutely no reason to also include Spring and Guice.","body":"Please don&#39;t add superfluous tags: you&#39;re asking a question about Dagger, there was absolutely no reason to also include Spring and Guice."}],"answers":[{"tags":[],"owner":{"account_id":5139737,"reputation":3288,"user_id":4117496,"accept_rate":89,"display_name":"Fisher Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648998508,"creation_date":1648998508,"answer_id":71727128,"question_id":71700316,"body_markdown":"It turned out to be a mix of imports.\r\n\r\nI imported `@Provides` from GoogleGuice instead of Dagger, that&#39;s why Dagger keeps complaining this error...","title":"Issue with Dagger: cannot be provided without an @Provides-annotated method","body":"<p>It turned out to be a mix of imports.</p>\n<p>I imported <code>@Provides</code> from GoogleGuice instead of Dagger, that's why Dagger keeps complaining this error...</p>\n"}],"owner":{"account_id":5139737,"reputation":3288,"user_id":4117496,"accept_rate":89,"display_name":"Fisher Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71727128,"answer_count":1,"score":0,"last_activity_date":1648998508,"creation_date":1648770320,"question_id":71700316,"body_markdown":"I do have a method annotated w/ `@Provides`, but somehow it&#39;s still failing building with this error:\r\n```\r\nRouter1Component.java:13: error: com.nice.AbcServiceClient cannot be provided without an @Provides-annotated method.\r\n```\r\n\r\nHere&#39;s my module:\r\n```\r\n@Module\r\npublic final class Router1Module {\r\n\r\n    @Provides\r\n    public AbcServiceClient provideServiceClient() {\r\n        return new ClientBuilder();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my interface:\r\n```\r\n@Singleton\r\n@Component(modules = {Router1Module.class})\r\npublic interface Router1Component {\r\n    @LambdaHandler\r\n    Router1Lambda buildRouter1Lambda();\r\n}\r\n```\r\n\r\nHere&#39;s my class:\r\n```\r\npublic class Router1Lambda {\r\n\r\n    private AbcServiceClient serviceClient;\r\n\r\n    @Inject\r\n    public Router1Lambda(\r\n            final AbcServiceClient serviceClient\r\n    ) {\r\n        this.serviceClient = serviceClient;\r\n    }\r\n\r\n}\r\n```","title":"Issue with Dagger: cannot be provided without an @Provides-annotated method","body":"<p>I do have a method annotated w/ <code>@Provides</code>, but somehow it's still failing building with this error:</p>\n<pre><code>Router1Component.java:13: error: com.nice.AbcServiceClient cannot be provided without an @Provides-annotated method.\n</code></pre>\n<p>Here's my module:</p>\n<pre><code>@Module\npublic final class Router1Module {\n\n    @Provides\n    public AbcServiceClient provideServiceClient() {\n        return new ClientBuilder();\n    }\n}\n</code></pre>\n<p>Here's my interface:</p>\n<pre><code>@Singleton\n@Component(modules = {Router1Module.class})\npublic interface Router1Component {\n    @LambdaHandler\n    Router1Lambda buildRouter1Lambda();\n}\n</code></pre>\n<p>Here's my class:</p>\n<pre><code>public class Router1Lambda {\n\n    private AbcServiceClient serviceClient;\n\n    @Inject\n    public Router1Lambda(\n            final AbcServiceClient serviceClient\n    ) {\n        this.serviceClient = serviceClient;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","double"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1649003133,"post_id":71726991,"comment_id":126760541,"body_markdown":"Is this csv format? Look for a csv reader library, read all lines and distribute the elements in your arrays. That said, questions here tend to do better if you can provide the code you&#39;ve already tried and what problems you had with it. See [ask].","body":"Is this csv format? Look for a csv reader library, read all lines and distribute the elements in your arrays. That said, questions here tend to do better if you can provide the code you&#39;ve already tried and what problems you had with it. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648998446,"creation_date":1648998446,"answer_id":71727121,"question_id":71726991,"body_markdown":"Here is the simplest way to achieve what you want.\r\n```\r\nList&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;src/main/resources/file.txt&quot;));\r\n\r\ndouble[] first = new double[lines.size()];\r\ndouble[] second = new double[lines.size()];\r\n\r\nfor (int i = 0; i &lt; lines.size(); i++) {\r\n     String line = lines.get(i);\r\n     String[] split = line.split(&quot;,&quot;);\r\n     first[i] = Double.parseDouble(split[0]);\r\n     second[i] = Double.parseDouble(split[1]);\r\n}\r\n```","title":"Adding doubledata from text file to array (Java)","body":"<p>Here is the simplest way to achieve what you want.</p>\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;src/main/resources/file.txt&quot;));\n\ndouble[] first = new double[lines.size()];\ndouble[] second = new double[lines.size()];\n\nfor (int i = 0; i &lt; lines.size(); i++) {\n     String line = lines.get(i);\n     String[] split = line.split(&quot;,&quot;);\n     first[i] = Double.parseDouble(split[0]);\n     second[i] = Double.parseDouble(split[1]);\n}\n</code></pre>\n"}],"owner":{"account_id":24811038,"reputation":1,"user_id":18692484,"display_name":"user18692484"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648998446,"creation_date":1648997653,"question_id":71726991,"body_markdown":"I am trying to figure out how to read data from a text file formatted as below:\r\n\r\n1.0,8.0  \r\n4.0,3.0  \r\n6.0,0.0  \r\n3.0,5.0  \r\n\r\nand add the first element of each line in myNumbers1 and the second in myNumbers2 like so:\r\n\r\ndouble[] myNumbers1 = {};  \r\ndouble[] myNumbers2 = {};\r\n\r\nto get\r\n\r\ndouble[] myNumbers1 = {1.0,4.0,6.0,3.0};  \r\ndouble[] myNumbers2 = {8.0,3.0,0.0,5.0};\r\n\r\nif that makes sense? Thanks! :)","title":"Adding doubledata from text file to array (Java)","body":"<p>I am trying to figure out how to read data from a text file formatted as below:</p>\n<p>1.0,8.0<br />\n4.0,3.0<br />\n6.0,0.0<br />\n3.0,5.0</p>\n<p>and add the first element of each line in myNumbers1 and the second in myNumbers2 like so:</p>\n<p>double[] myNumbers1 = {};<br />\ndouble[] myNumbers2 = {};</p>\n<p>to get</p>\n<p>double[] myNumbers1 = {1.0,4.0,6.0,3.0};<br />\ndouble[] myNumbers2 = {8.0,3.0,0.0,5.0};</p>\n<p>if that makes sense? Thanks! :)</p>\n"},{"tags":["java","jakarta-ee","jax-rs","apache-tomee"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":1,"creation_date":1647908325,"post_id":71365661,"comment_id":126484962,"body_markdown":"Could you please provide a [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve)?","body":"Could you please provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>?"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":1,"creation_date":1647973197,"post_id":71365661,"comment_id":126504622,"body_markdown":"In particular, could you please provide the implementation of the `Principal` class and the related classes?","body":"In particular, could you please provide the implementation of the <code>Principal</code> class and the related classes?"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1648099469,"post_id":71365661,"comment_id":126539659,"body_markdown":"Additionally, in particular, could you please provide the content of the Maven project file (`pom.xml`)?","body":"Additionally, in particular, could you please provide the content of the Maven project file (<code>pom.xml</code>)?"},{"owner":{"account_id":3314485,"reputation":828,"user_id":2787159,"accept_rate":86,"display_name":"thatsIch"},"score":0,"creation_date":1648149716,"post_id":71365661,"comment_id":126558182,"body_markdown":"It is to be assumed, that the class `Principal` owns a field of type `Vector`.","body":"It is to be assumed, that the class <code>Principal</code> owns a field of type <code>Vector</code>."},{"owner":{"account_id":1934567,"reputation":262,"user_id":1916013,"display_name":"Hendr&#233;"},"score":0,"creation_date":1649585294,"post_id":71365661,"comment_id":126908504,"body_markdown":"I never use the Vector class anywhere in my code.","body":"I never use the Vector class anywhere in my code."}],"answers":[{"tags":[],"owner":{"account_id":1370355,"reputation":5676,"user_id":1305740,"display_name":"Carlo Pellegrini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647253498,"creation_date":1647253498,"answer_id":71466211,"question_id":71365661,"body_markdown":"The object (Vector&lt;Principal&gt;) you are returning is not serializable by the default JAXRS implementation.\r\nYou need to provide a serializable DTO as the return value.\r\n\r\n","title":"No message body writer has been found","body":"<p>The object (Vector) you are returning is not serializable by the default JAXRS implementation.\nYou need to provide a serializable DTO as the return value.</p>\n"}],"owner":{"account_id":1934567,"reputation":262,"user_id":1916013,"display_name":"Hendr&#233;"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648998361,"creation_date":1646511345,"question_id":71365661,"body_markdown":"I am trying to create a *JAX-RS* resource that must produce *JSON* data. \r\n\r\nI am running on *Apache TomEE 9.0.0-M7* and *Jakarta Web Profile 9.1*.\r\n\r\nCalling `getPrincipals` on the `PrincipalResource` class produces the error below. \r\n\r\nWhy I am getting a `java.util.Vector` error when the `getPrincipal` method returns a `List`? \r\n\r\nPlease assist.\r\n\r\n&gt; Mar 05, 2022 10:06:57 PM org.apache.cxf.jaxrs.utils.JAXRSUtils\r\n&gt; logMessageHandlerProblem SEVERE: No message body writer has been found\r\n&gt; for class java.util.Vector, ContentType: application/json\r\n\r\n**Get method**\r\n\r\n    @Path(&quot;/principal&quot;)\r\n    public class PrincipalResource {\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic List&lt;Principal&gt; getPrincipals() {\r\n    \t\tAccessControl accessControl = new AccessControl();\r\n    \t\treturn accessControl.findPrincipals();\r\n    \t}\r\n    }\r\n\r\n**Principal class**\r\n\r\n    public class Principal {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;principalNumber&quot;)\r\n    \tprivate long principalNumber;\r\n    \r\n    \t@Pattern(regex = Regex.EMAIL, message = &quot;Invlid email address&quot;)\r\n    \t@Column(name = &quot;emailAddress&quot;)\r\n    \tprivate String emailAddress;\r\n    \r\n    \t@Pattern(regex = Regex.FIRST_NAME, message = &quot;Invlid first name&quot;)\r\n    \t@Column(name = &quot;firstName&quot;)\r\n    \tprivate String firstName;\r\n    \r\n    \t@Pattern(regex = Regex.LAST_NAME, message = &quot;Invlid last name&quot;)\r\n    \t@Column(name = &quot;lastName&quot;)\r\n    \tprivate String lastName;\r\n    \r\n    \t@Pattern(regex = Regex.PASSWORD, message = &quot;Invlid password.&quot;)\r\n    \t@Column(name = &quot;principalPassword&quot;)\r\n    \tprivate String principalPassword;\r\n    \r\n    \t@Column(name = &quot;activated&quot;)\r\n    \tprivate boolean activated;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;principal&quot;, cascade = CascadeType.ALL)\r\n    \t@XmlTransient\r\n    \tprivate List&lt;PrincipalRole&gt; principalRoles;\r\n    \r\n    \tpublic Principal() {\r\n    \t}\r\n\r\n**Maven**\r\n\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;version&gt;9.1.0&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;za.co.ezimax&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;common&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\t\t\t\t\t\t\t\t\r\n\t\t\t&lt;/dependencies&gt;\r\n\r\n","title":"No message body writer has been found","body":"<p>I am trying to create a <em>JAX-RS</em> resource that must produce <em>JSON</em> data.</p>\n<p>I am running on <em>Apache TomEE 9.0.0-M7</em> and <em>Jakarta Web Profile 9.1</em>.</p>\n<p>Calling <code>getPrincipals</code> on the <code>PrincipalResource</code> class produces the error below.</p>\n<p>Why I am getting a <code>java.util.Vector</code> error when the <code>getPrincipal</code> method returns a <code>List</code>?</p>\n<p>Please assist.</p>\n<blockquote>\n<p>Mar 05, 2022 10:06:57 PM org.apache.cxf.jaxrs.utils.JAXRSUtils\nlogMessageHandlerProblem SEVERE: No message body writer has been found\nfor class java.util.Vector, ContentType: application/json</p>\n</blockquote>\n<p><strong>Get method</strong></p>\n<pre><code>@Path(&quot;/principal&quot;)\npublic class PrincipalResource {\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public List&lt;Principal&gt; getPrincipals() {\n        AccessControl accessControl = new AccessControl();\n        return accessControl.findPrincipals();\n    }\n}\n</code></pre>\n<p><strong>Principal class</strong></p>\n<pre><code>public class Principal {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;principalNumber&quot;)\n    private long principalNumber;\n\n    @Pattern(regex = Regex.EMAIL, message = &quot;Invlid email address&quot;)\n    @Column(name = &quot;emailAddress&quot;)\n    private String emailAddress;\n\n    @Pattern(regex = Regex.FIRST_NAME, message = &quot;Invlid first name&quot;)\n    @Column(name = &quot;firstName&quot;)\n    private String firstName;\n\n    @Pattern(regex = Regex.LAST_NAME, message = &quot;Invlid last name&quot;)\n    @Column(name = &quot;lastName&quot;)\n    private String lastName;\n\n    @Pattern(regex = Regex.PASSWORD, message = &quot;Invlid password.&quot;)\n    @Column(name = &quot;principalPassword&quot;)\n    private String principalPassword;\n\n    @Column(name = &quot;activated&quot;)\n    private boolean activated;\n\n    @OneToMany(mappedBy = &quot;principal&quot;, cascade = CascadeType.ALL)\n    @XmlTransient\n    private List&lt;PrincipalRole&gt; principalRoles;\n\n    public Principal() {\n    }\n</code></pre>\n<p><strong>Maven</strong></p>\n<pre><code>        &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                                        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n                                        &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n                                        &lt;version&gt;9.1.0&lt;/version&gt;\n                                        &lt;scope&gt;provided&lt;/scope&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                                        &lt;groupId&gt;za.co.ezimax&lt;/groupId&gt;\n                                        &lt;artifactId&gt;common&lt;/artifactId&gt;\n                                        &lt;version&gt;0.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;                               \n        &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","casting","equals"],"comments":[{"owner":{"account_id":64344,"reputation":8352,"user_id":189992,"accept_rate":95,"display_name":"ssedano"},"score":0,"creation_date":1368278112,"post_id":16497471,"comment_id":23679305,"body_markdown":"Don&#39;t forget to obj == null. And not related with your question but you could just return this.name.equals(other.name) &amp;&amp; (this.age == other.age)","body":"Don&#39;t forget to obj == null. And not related with your question but you could just return this.name.equals(other.name) &amp;&amp; (this.age == other.age)"},{"owner":{"account_id":2400599,"reputation":783,"user_id":2101598,"accept_rate":50,"display_name":"Sandeep Kumar"},"score":0,"creation_date":1368278385,"post_id":16497471,"comment_id":23679378,"body_markdown":"Since this Equals is accepting only one parameter and this is an override of Dog class so this equals expects the object of type Dog. if you pass another type of object then will always return the false this is the part of extreme programming which is to make sure to avoid any expected runtime failure.","body":"Since this Equals is accepting only one parameter and this is an override of Dog class so this equals expects the object of type Dog. if you pass another type of object then will always return the false this is the part of extreme programming which is to make sure to avoid any expected runtime failure."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1368278424,"post_id":16497471,"comment_id":23679386,"body_markdown":"It would be simpler to answer this if you could propose how you would *like* to write the code without a cast, bearing in mind that the compile-time type of `obj` is `Object`.","body":"It would be simpler to answer this if you could propose how you would <i>like</i> to write the code without a cast, bearing in mind that the compile-time type of <code>obj</code> is <code>Object</code>."},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1368278653,"post_id":16497471,"comment_id":23679443,"body_markdown":"This is why: http://ideone.com/rQtw6W","body":"This is why: <a href=\"http://ideone.com/rQtw6W\" rel=\"nofollow noreferrer\">ideone.com/rQtw6W</a>"}],"answers":[{"tags":[],"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1368278074,"creation_date":1368278074,"answer_id":16497482,"question_id":16497471,"body_markdown":"Because you are defining your own parameters for equality, you have to make sure they are the same class. That is, unless you&#39;re comparing them the `==` way, then you need to compare some value inside the objects. To compare values inside the objects, they need to be the same type!\r\n\r\nFor example, let&#39;s say you have two `Dog`s.\r\n\r\n    Dog dog1 = new Dog(&quot;Fido&quot;);\r\n    Dog dog2 = new Dog(&quot;Rover&quot;);\r\n\r\nIf you want to test if they have the same name, as I&#39;m sure you know, you can&#39;t use:\r\n\r\n    if(dog1 == dog2)\r\n\r\nSo you override the equals method. However, because you&#39;re overriding it, it has to have the same *method signature*. A method signature is defined by the name of the method, and the number and type of it&#39;s parameters. Which means if you wish to override it, it needs to have a parameter of type `Object`. Hence:\r\n\r\n    if(dog1.equals(dog2))\r\n\r\nThe reason you need to cast it to use whatever method you&#39;re using to get the `name` value from the dog, and compare those values.\r\n\r\n&lt;b&gt; A note on your class design &lt;/b&gt;\r\n\r\nThe convention in object oriented programming, and certainly in Java, is to have `Accessor` and `Mutator` methods to get and change variables in a class. That is:\r\n\r\n    dog1.name; ----&gt; dog1.getName();\r\n\r\nwhere `getName()` looks like:\r\n\r\n    public String getName()\r\n    {\r\n        return name;\r\n    }","title":"Casting in equals method","body":"<p>Because you are defining your own parameters for equality, you have to make sure they are the same class. That is, unless you're comparing them the <code>==</code> way, then you need to compare some value inside the objects. To compare values inside the objects, they need to be the same type!</p>\n\n<p>For example, let's say you have two <code>Dog</code>s.</p>\n\n<pre><code>Dog dog1 = new Dog(\"Fido\");\nDog dog2 = new Dog(\"Rover\");\n</code></pre>\n\n<p>If you want to test if they have the same name, as I'm sure you know, you can't use:</p>\n\n<pre><code>if(dog1 == dog2)\n</code></pre>\n\n<p>So you override the equals method. However, because you're overriding it, it has to have the same <em>method signature</em>. A method signature is defined by the name of the method, and the number and type of it's parameters. Which means if you wish to override it, it needs to have a parameter of type <code>Object</code>. Hence:</p>\n\n<pre><code>if(dog1.equals(dog2))\n</code></pre>\n\n<p>The reason you need to cast it to use whatever method you're using to get the <code>name</code> value from the dog, and compare those values.</p>\n\n<p><b> A note on your class design </b></p>\n\n<p>The convention in object oriented programming, and certainly in Java, is to have <code>Accessor</code> and <code>Mutator</code> methods to get and change variables in a class. That is:</p>\n\n<pre><code>dog1.name; ----&gt; dog1.getName();\n</code></pre>\n\n<p>where <code>getName()</code> looks like:</p>\n\n<pre><code>public String getName()\n{\n    return name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368278167,"creation_date":1368278167,"answer_id":16497503,"question_id":16497471,"body_markdown":"You are overriding equals method to check equality by `value` **not** by `reference`..\r\n\r\ni.e You want two dogs equal if they have **same** `name` and `age` **not** if they are owned by the same person(i.e not if their references are equal)\r\n\r\n-----------\r\n\r\nWithout cast you can&#39;t access dog&#39;s `name` and `age` members","title":"Casting in equals method","body":"<p>You are overriding equals method to check equality by <code>value</code> <strong>not</strong> by <code>reference</code>..</p>\n\n<p>i.e You want two dogs equal if they have <strong>same</strong> <code>name</code> and <code>age</code> <strong>not</strong> if they are owned by the same person(i.e not if their references are equal)</p>\n\n<hr>\n\n<p>Without cast you can't access dog's <code>name</code> and <code>age</code> members</p>\n"},{"tags":[],"owner":{"account_id":2753731,"reputation":321,"user_id":2372438,"display_name":"javadeveloper"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1368278192,"creation_date":1368278192,"answer_id":16497510,"question_id":16497471,"body_markdown":"For JVM it is not that obvious that obj is Dog, so you have to be explicit with the cast.","title":"Casting in equals method","body":"<p>For JVM it is not that obvious that obj is Dog, so you have to be explicit with the cast.</p>\n"},{"tags":[],"owner":{"account_id":1873537,"reputation":1459,"user_id":1695258,"accept_rate":73,"display_name":"Petr Shypila"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1368278292,"creation_date":1368278292,"answer_id":16497520,"question_id":16497471,"body_markdown":"Because as method parameter `obj` is Instance of `Object` class. So in the method body you need to cast `obj` back to the `Dog` type.","title":"Casting in equals method","body":"<p>Because as method parameter <code>obj</code> is Instance of <code>Object</code> class. So in the method body you need to cast <code>obj</code> back to the <code>Dog</code> type.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1368279050,"creation_date":1368278534,"answer_id":16497558,"question_id":16497471,"body_markdown":"The declared type of `obj` is `Object`, so you must cast it to tell the compiler that it is a `Dog`.\r\n\r\nAlthough *logically* it can&#39;t be anything else at that point in the code, the compiler doesn&#39;t know anything about logic - it only knows about the type.","title":"Casting in equals method","body":"<p>The declared type of <code>obj</code> is <code>Object</code>, so you must cast it to tell the compiler that it is a <code>Dog</code>.</p>\n\n<p>Although <em>logically</em> it can't be anything else at that point in the code, the compiler doesn't know anything about logic - it only knows about the type.</p>\n"},{"tags":[],"owner":{"account_id":2644552,"reputation":4952,"user_id":2287538,"accept_rate":62,"display_name":"Rahul Bobhate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368278585,"creation_date":1368278585,"answer_id":16497566,"question_id":16497471,"body_markdown":"The properties `name` and `age` are specific only to `Dog`. You can&#39;t access `name` or `age` by using `obj`, which is an `Object`. For ex, the following code will generate **compile time error**:\r\n\r\n    this.name.equals(obj.name)\r\n\r\n\r\n&gt; I don&#39;t understand why why have to cast the reference to the Dog reference. If that reference is not of type Dog we return false. Why all the hassle with casting it ?\r\n\r\nBecause although the reference is of `Dog` it doesn&#39;t means that it is the same Dog. The name of the other dog may not be the same as your `Dog`. In order to compare the `name` and `age` of the other `Dog` with your `Dog`, it has to be cast first.","title":"Casting in equals method","body":"<p>The properties <code>name</code> and <code>age</code> are specific only to <code>Dog</code>. You can't access <code>name</code> or <code>age</code> by using <code>obj</code>, which is an <code>Object</code>. For ex, the following code will generate <strong>compile time error</strong>:</p>\n\n<pre><code>this.name.equals(obj.name)\n</code></pre>\n\n<blockquote>\n  <p>I don't understand why why have to cast the reference to the Dog reference. If that reference is not of type Dog we return false. Why all the hassle with casting it ?</p>\n</blockquote>\n\n<p>Because although the reference is of <code>Dog</code> it doesn't means that it is the same Dog. The name of the other dog may not be the same as your <code>Dog</code>. In order to compare the <code>name</code> and <code>age</code> of the other <code>Dog</code> with your <code>Dog</code>, it has to be cast first.</p>\n"},{"tags":[],"owner":{"account_id":997633,"reputation":308,"user_id":1013214,"accept_rate":50,"display_name":"rjdamore"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1459812969,"creation_date":1459812969,"answer_id":36414684,"question_id":16497471,"body_markdown":"I think that your demo class is missing a hashCode() method.  The two objects can only be equal if their call to an overridden hashCode() is equal. (the same integer value).\r\n\r\nI&#39;m pretty sure you need both to guarantee this equation.","title":"Casting in equals method","body":"<p>I think that your demo class is missing a hashCode() method.  The two objects can only be equal if their call to an overridden hashCode() is equal. (the same integer value).</p>\n\n<p>I'm pretty sure you need both to guarantee this equation.</p>\n"}],"owner":{"account_id":2694370,"reputation":145,"user_id":2326847,"display_name":"user2326847"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8969,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":16497558,"answer_count":7,"score":12,"last_activity_date":1648997891,"creation_date":1368277984,"question_id":16497471,"body_markdown":"I have a question about overriding the `equals` method in Java. In my book, I have the following example:\r\n\r\n    public class Dog{\r\n         private String name;\r\n         private int age;\r\n\r\n    public boolean equals(Object obj) {\r\n        if(!(obj instanceof Dog)) return false;\r\n        Dog other = (Dog) obj;                    ---&gt; confused here\r\n        if(this.name.equals(other.name) &amp;&amp; (this.age == other.age) {\r\n         return true;\r\n        }\r\n        else {\r\n         return false;\r\n        }\r\n      }\r\n    }\r\n\r\nI don&#39;t understand why why have to cast the reference to the `Dog` reference. If that reference is not of type `Dog` we return false. Why all the hassle with casting it ?","title":"Casting in equals method","body":"<p>I have a question about overriding the <code>equals</code> method in Java. In my book, I have the following example:</p>\n\n<pre><code>public class Dog{\n     private String name;\n     private int age;\n\npublic boolean equals(Object obj) {\n    if(!(obj instanceof Dog)) return false;\n    Dog other = (Dog) obj;                    ---&gt; confused here\n    if(this.name.equals(other.name) &amp;&amp; (this.age == other.age) {\n     return true;\n    }\n    else {\n     return false;\n    }\n  }\n}\n</code></pre>\n\n<p>I don't understand why why have to cast the reference to the <code>Dog</code> reference. If that reference is not of type <code>Dog</code> we return false. Why all the hassle with casting it ?</p>\n"},{"tags":["java","arrays","spring","for-loop","logic"],"answers":[{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648970720,"creation_date":1648970720,"answer_id":71723834,"question_id":71722880,"body_markdown":"Firstly, the next statements are executed inside the `for` loop:\r\n```\r\ntweetmodel.setTweets(tweets.getTweets().get(i).getText().toString());\r\nthis.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\r\n```\r\nWhat it does is to replace the tweets collection of `tweetModel`, and then it replaces the tweets collection of `tweetModel2`.\r\nBut when you add `this.tweetmodel2` into `tweetmodelList` you&#39;re not adding the collection of tweets that holds `this.tweetmodel2`. Instead, you&#39;re adding the reference to `this.tweetmodel2` itself.\r\n\r\nThen, after each iteration of the `for` loop, the instance of `this.tweetmode2` is the same, but its collection of tweets is not (becase its replaced with the new one). So, after 6 iterations you have only one instance of `this.tweetmode2` and the last tweets replaced. And that&#39;s why you see the last tweet printed out.\r\n\r\nSince the `for` statement iterates 6 times, and you have the next statement inside, then it has added 6 elements into the variable `tweetmodelList`.\r\n```\r\ntweetmodelList.add(this.tweetmodel2); &lt;-- adds the reference to variable tweetmodel2 into tweetmodelList 6 times\r\n```\r\nIt can be fixed by creating and assigning a new instance to `this.tweetmodel2` like following:\r\n```\r\ntweetmodel.setTweets(tweets.getTweets().get(i).getText().toString());\r\nthis.tweetmodel2 = new TweetModel2(); &lt;-- Create and assign a new instance\r\nthis.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\r\ntweetmodelList.add(this.tweetmodel2);\r\n```","title":"for cycle saving the last index instead of saving index by index","body":"<p>Firstly, the next statements are executed inside the <code>for</code> loop:</p>\n<pre><code>tweetmodel.setTweets(tweets.getTweets().get(i).getText().toString());\nthis.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\n</code></pre>\n<p>What it does is to replace the tweets collection of <code>tweetModel</code>, and then it replaces the tweets collection of <code>tweetModel2</code>.\nBut when you add <code>this.tweetmodel2</code> into <code>tweetmodelList</code> you're not adding the collection of tweets that holds <code>this.tweetmodel2</code>. Instead, you're adding the reference to <code>this.tweetmodel2</code> itself.</p>\n<p>Then, after each iteration of the <code>for</code> loop, the instance of <code>this.tweetmode2</code> is the same, but its collection of tweets is not (becase its replaced with the new one). So, after 6 iterations you have only one instance of <code>this.tweetmode2</code> and the last tweets replaced. And that's why you see the last tweet printed out.</p>\n<p>Since the <code>for</code> statement iterates 6 times, and you have the next statement inside, then it has added 6 elements into the variable <code>tweetmodelList</code>.</p>\n<pre><code>tweetmodelList.add(this.tweetmodel2); &lt;-- adds the reference to variable tweetmodel2 into tweetmodelList 6 times\n</code></pre>\n<p>It can be fixed by creating and assigning a new instance to <code>this.tweetmodel2</code> like following:</p>\n<pre><code>tweetmodel.setTweets(tweets.getTweets().get(i).getText().toString());\nthis.tweetmodel2 = new TweetModel2(); &lt;-- Create and assign a new instance\nthis.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\ntweetmodelList.add(this.tweetmodel2);\n</code></pre>\n"}],"owner":{"account_id":21450178,"reputation":167,"user_id":15802798,"display_name":"className"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71723834,"answer_count":1,"score":-1,"last_activity_date":1648997253,"creation_date":1648958054,"question_id":71722880,"body_markdown":"I am new in java I have a problem the for cycle is not adding data to the List:\r\n\r\nthis is the code\r\n\r\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\r\n    \tpublic String index(Model modl) throws TwitterException {\r\n    \t\t\r\n    \t\t// --------------------------------------------------\r\n    \t\t\t\t// getTweets example\r\n    \t\t\t\t// --------------------------------------------------\r\n    \t\t\t\tTwitter twitter = new TwitterFactory().getInstance();\r\n    \t\t\t\t/*\r\n    \t\t\t\t * final TweetsResponse tweets = GetTweetsKt.getTweets(twitter, new\r\n    \t\t\t\t * long[]{1510021574505738201L}, null, null, null, null, null, &quot;&quot;);\r\n    \t\t\t\t */\r\n    \r\n    \t\t\t\t/*\r\n    \t\t\t\t * userId: Long, endTime: Date? = null, exclude: String? = null, expansions:\r\n    \t\t\t\t * String? = null, maxResults: Int? = null, mediaFields: String? = null,\r\n    \t\t\t\t * paginationToken: String? = null, placeFields: String? = null, pollFields:\r\n    \t\t\t\t * String? = null, sinceId: Long? = null, startTime: Date? = null, tweetFields:\r\n    \t\t\t\t * String? = null, untilId: Long? = null, userFields: String? = null,\r\n    \t\t\t\t */\r\n    \r\n    \t\t\t\tlong userId = 1510021146334437310L;\r\n    \t\t\t\tDate endTime = null;\r\n    \t\t\t\tString exclude = null;\r\n    \t\t\t\tString expansions = null;\r\n    \t\t\t\tint maxResults = 100;\r\n    \t\t\t\tString mediaFields = null;\r\n    \t\t\t\tString paginationToken = null;\r\n    \t\t\t\tString placeFields = null;\r\n    \t\t\t\tString pollFields = null;\r\n    \t\t\t\tlong sinceId = 1510021521342926810L;\r\n    \t\t\t\tDate startTime = null;\r\n    \t\t\t\tString tweetFields = null;\r\n    \t\t\t\tlong untilId = 1510022761187627010L;\r\n    \t\t\t\tString userFields = null;\r\n    \r\n    \t\t\t\tfinal TweetsResponse tweets = TimelinesExKt.getUserTweets(twitter, userId, endTime, exclude, expansions,\r\n    \t\t\t\t\t\tmaxResults, mediaFields, paginationToken, placeFields, pollFields, sinceId, startTime, tweetFields,\r\n    \t\t\t\t\t\tuntilId, userFields);\r\n    \r\n    \r\n    \t\t\t\ttweetModel tweetmodel = new tweetModel();\r\n    \t\t\t\tList&lt;tweetModel&gt; tweetmodelList = new ArrayList&lt;&gt;();\r\n    \t\t\t\tfor (int i = 0; i &lt; tweets.getTweets().size(); i++) {\r\n    \t\t\t\t\tSystem.out.println(i);\r\n    \t\t\t\t\tSystem.err.println(&quot;FOR TWEETS = &quot; + tweets.getTweets().get(i).getText().toString());\r\n    \t\t\t\t\ttweetmodel.setTweets(tweets.getTweets().get(i).getText().toString());\r\n    \t\t\t\t\tthis.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\r\n    \t\t\t\t\ttweetmodelList.add(this.tweetmodel2);\r\n    \t\t\t\t\tSystem.err.println(&quot;TWEETMODEL2::::::::::::::::&quot;+this.tweetmodel2.getTweets().toString());\r\n    \t\t\t\t\tSystem.err.println(&quot;//////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==&quot;\r\n    \t\t\t\t\t\t\t+ tweetmodel.getTweets().toString());\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tfor (int z = 0; z &lt; tweetmodelList.size(); z++) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tSystem.err.println(&quot; ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== &quot; + tweetmodelList.get(z).getTweets().toString());\r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t}\r\n    \r\n    \t\tmodl.addAttribute(&quot;tweetlists&quot;, tweetmodelList);\r\n    \r\n    \t\treturn &quot;index&quot;;\r\n    \t}\r\n\r\n\r\nthis is the line of code where I set the data fetched by getTweets() function\r\n\r\n    tweetmodel.setTweets(tweets.getTweets().get(i).getText().toString());\r\n        \t\t\t\t\tthis.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\r\n        \t\t\t\t\ttweetmodelList.add(this.tweetmodel2);\r\n\r\n\r\nthe problem is that tweetmodelList is showing and recording the last recordset, I have 7 tweets and the function writes 7 times the last record, do not know what I am doing wrong, since \r\n\r\n    this.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\r\n            \t\t\t\t\ttweetmodelList.add(this.tweetmodel2);\r\n\r\nis inside the for cycle so it should iterate.... for example and for better understanding of what happens I will post here the results printed in the console\r\n\r\ndata in console HERE\r\n\r\n    FOR TWEETS = tweet 6\r\n    TWEETMODEL2::::::::::::::::tweet 6\r\n    //////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==tweet 6\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    6\r\n    FOR TWEETS = hello\r\n    TWEETMODEL2::::::::::::::::hello\r\n    //////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==hello\r\n    FOR TWEETS = cinco tweets\r\n    TWEETMODEL2::::::::::::::::cinco tweets\r\n    //////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==cinco tweets\r\n    FOR TWEETS = no\r\n    TWEETMODEL2::::::::::::::::no\r\n    //////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==no\r\n    FOR TWEETS = si\r\n    TWEETMODEL2::::::::::::::::si\r\n    //////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==si\r\n    FOR TWEETS = tweet number 3\r\n    TWEETMODEL2::::::::::::::::tweet number 3\r\n    //////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets== tweet number 3\r\n    FOR TWEETS = tweet last\r\n    TWEETMODEL2::::::::::::::::tweet last\r\n    //////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==programar es mi tweet last\r\n     ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\r\n     ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\r\n     ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\r\n     ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\r\n     ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\r\n     ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\r\n     ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== \r\n    tweet last\r\n\r\n\r\nas you can see for some reason TWEETMODELIST only saves the last registry but saves the same the correct amount of tweets fetched which are 7 the problem is that as you can see, the other 7 tweets are different and are not being recorder or saved by the\r\n\r\n    tweetmodelList.add(this.tweetmodel2);\r\n\r\n\r\nthanks in advance, the correct answer will be marked as solved","title":"for cycle saving the last index instead of saving index by index","body":"<p>I am new in java I have a problem the for cycle is not adding data to the List:</p>\n<p>this is the code</p>\n<pre><code>@RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\n    public String index(Model modl) throws TwitterException {\n        \n        // --------------------------------------------------\n                // getTweets example\n                // --------------------------------------------------\n                Twitter twitter = new TwitterFactory().getInstance();\n                /*\n                 * final TweetsResponse tweets = GetTweetsKt.getTweets(twitter, new\n                 * long[]{1510021574505738201L}, null, null, null, null, null, &quot;&quot;);\n                 */\n\n                /*\n                 * userId: Long, endTime: Date? = null, exclude: String? = null, expansions:\n                 * String? = null, maxResults: Int? = null, mediaFields: String? = null,\n                 * paginationToken: String? = null, placeFields: String? = null, pollFields:\n                 * String? = null, sinceId: Long? = null, startTime: Date? = null, tweetFields:\n                 * String? = null, untilId: Long? = null, userFields: String? = null,\n                 */\n\n                long userId = 1510021146334437310L;\n                Date endTime = null;\n                String exclude = null;\n                String expansions = null;\n                int maxResults = 100;\n                String mediaFields = null;\n                String paginationToken = null;\n                String placeFields = null;\n                String pollFields = null;\n                long sinceId = 1510021521342926810L;\n                Date startTime = null;\n                String tweetFields = null;\n                long untilId = 1510022761187627010L;\n                String userFields = null;\n\n                final TweetsResponse tweets = TimelinesExKt.getUserTweets(twitter, userId, endTime, exclude, expansions,\n                        maxResults, mediaFields, paginationToken, placeFields, pollFields, sinceId, startTime, tweetFields,\n                        untilId, userFields);\n\n\n                tweetModel tweetmodel = new tweetModel();\n                List&lt;tweetModel&gt; tweetmodelList = new ArrayList&lt;&gt;();\n                for (int i = 0; i &lt; tweets.getTweets().size(); i++) {\n                    System.out.println(i);\n                    System.err.println(&quot;FOR TWEETS = &quot; + tweets.getTweets().get(i).getText().toString());\n                    tweetmodel.setTweets(tweets.getTweets().get(i).getText().toString());\n                    this.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\n                    tweetmodelList.add(this.tweetmodel2);\n                    System.err.println(&quot;TWEETMODEL2::::::::::::::::&quot;+this.tweetmodel2.getTweets().toString());\n                    System.err.println(&quot;//////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==&quot;\n                            + tweetmodel.getTweets().toString());\n                    \n                }\n                \n                for (int z = 0; z &lt; tweetmodelList.size(); z++) {\n                    \n                    System.err.println(&quot; ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== &quot; + tweetmodelList.get(z).getTweets().toString());\n                    \n\n                \n                \n                }\n\n        modl.addAttribute(&quot;tweetlists&quot;, tweetmodelList);\n\n        return &quot;index&quot;;\n    }\n</code></pre>\n<p>this is the line of code where I set the data fetched by getTweets() function</p>\n<pre><code>tweetmodel.setTweets(tweets.getTweets().get(i).getText().toString());\n                        this.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\n                        tweetmodelList.add(this.tweetmodel2);\n</code></pre>\n<p>the problem is that tweetmodelList is showing and recording the last recordset, I have 7 tweets and the function writes 7 times the last record, do not know what I am doing wrong, since</p>\n<pre><code>this.tweetmodel2.setTweets(tweetmodel.getTweets().toString());\n                            tweetmodelList.add(this.tweetmodel2);\n</code></pre>\n<p>is inside the for cycle so it should iterate.... for example and for better understanding of what happens I will post here the results printed in the console</p>\n<p>data in console HERE</p>\n<pre><code>FOR TWEETS = tweet 6\nTWEETMODEL2::::::::::::::::tweet 6\n//////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==tweet 6\n1\n2\n3\n4\n5\n6\nFOR TWEETS = hello\nTWEETMODEL2::::::::::::::::hello\n//////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==hello\nFOR TWEETS = cinco tweets\nTWEETMODEL2::::::::::::::::cinco tweets\n//////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==cinco tweets\nFOR TWEETS = no\nTWEETMODEL2::::::::::::::::no\n//////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==no\nFOR TWEETS = si\nTWEETMODEL2::::::::::::::::si\n//////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==si\nFOR TWEETS = tweet number 3\nTWEETMODEL2::::::::::::::::tweet number 3\n//////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets== tweet number 3\nFOR TWEETS = tweet last\nTWEETMODEL2::::::::::::::::tweet last\n//////////////////TWEET MODEL HAVE THIS!!!!!!! tweetmodel.settweets==programar es mi tweet last\n ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\n ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\n ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\n ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\n ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\n ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== tweet last\n ====== TWEETS  IN TWEETMODELIST AFTER FIRST FOR tweetmodelList.add(tweetmodel); ======== \ntweet last\n</code></pre>\n<p>as you can see for some reason TWEETMODELIST only saves the last registry but saves the same the correct amount of tweets fetched which are 7 the problem is that as you can see, the other 7 tweets are different and are not being recorder or saved by the</p>\n<pre><code>tweetmodelList.add(this.tweetmodel2);\n</code></pre>\n<p>thanks in advance, the correct answer will be marked as solved</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1648996999,"post_id":71726870,"comment_id":126759135,"body_markdown":"The thing is that it actually works for both cases (try to read that field but also *via reflection* and you should see modified value). Problem with first case is that `private final String name = &quot;test&quot;;` represents compile-time constant expression which is known at compilation time, so when compiler sees code like `System.out.println(name);` it will generate bytecode representing `System.out.println(&quot;test&quot;);` because it assumes that `name` will always be `&quot;test&quot;`. So even when you change later value of `name` it will not affect `System.out.println(&quot;test&quot;);`","body":"The thing is that it actually works for both cases (try to read that field but also <i>via reflection</i> and you should see modified value). Problem with first case is that <code>private final String name = &quot;test&quot;;</code> represents compile-time constant expression which is known at compilation time, so when compiler sees code like <code>System.out.println(name);</code> it will generate bytecode representing <code>System.out.println(&quot;test&quot;);</code> because it assumes that <code>name</code> will always be <code>&quot;test&quot;</code>. So even when you change later value of <code>name</code> it will not affect <code>System.out.println(&quot;test&quot;);</code>"},{"owner":{"account_id":24810763,"reputation":11,"user_id":18692242,"display_name":"HttpMarco"},"score":0,"creation_date":1648997120,"post_id":71726870,"comment_id":126759169,"body_markdown":"Is there a way to do it with the example below?","body":"Is there a way to do it with the example below?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1648999189,"post_id":71726870,"comment_id":126759646,"body_markdown":"Value of *constant variable* can be inlined if it is compilation-time constant (like String *literal*, primitive type *literal*, or result of their addition/concatenation, like `private String constant = &quot;foo&quot;+1;`). But if you initialize such constant variable with resul of something which needs to be *executed* at runtime (like result of method or constructor) which may involve things which compiler isn&#39;t aware of (like reading data from file) then compiler will not be able to know/be sure what value it will be.","body":"Value of <i>constant variable</i> can be inlined if it is compilation-time constant (like String <i>literal</i>, primitive type <i>literal</i>, or result of their addition/concatenation, like <code>private String constant = &quot;foo&quot;+1;</code>). But if you initialize such constant variable with resul of something which needs to be <i>executed</i> at runtime (like result of method or constructor) which may involve things which compiler isn&#39;t aware of (like reading data from file) then compiler will not be able to know/be sure what value it will be."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1648999194,"post_id":71726870,"comment_id":126759649,"body_markdown":"So something like `private final String name = someMethod();` or `private final Stirng name = new String(&quot;abc&quot;);` will not let `name` to be inlined.","body":"So something like <code>private final String name = someMethod();</code> or <code>private final Stirng name = new String(&quot;abc&quot;);</code> will not let <code>name</code> to be inlined."}],"owner":{"account_id":24810763,"reputation":11,"user_id":18692242,"display_name":"HttpMarco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648997027,"creation_date":1648996761,"question_id":71726870,"body_markdown":"I have have a problem with this field:\r\n```\r\nprivate final String name = &quot;test&quot;;\r\n```\r\n\r\nI want to modify it with reflections, but it doesn&#39;t work.\r\n```\r\nField field = Test.class.getDeclaredField(&quot;name&quot;);\r\nfield.setAccessible(true);\r\nfield.set(OBJECT, &quot;Paul&quot;);\r\n```\r\n\r\nBut after this code,... the field is the same. \r\n\r\nIf I create the field with the following code:\r\n\r\n```\r\nprivate final String name;\r\n    \r\npublic Test() {\r\n   name = &quot;test&quot;;\r\n}\r\n```\r\n\r\nIt will work..., but not with the first code :(\r\nIs there a way to do it with the example below?\r\nAny help? ","title":"Java 8 Modify Fields with reflections","body":"<p>I have have a problem with this field:</p>\n<pre><code>private final String name = &quot;test&quot;;\n</code></pre>\n<p>I want to modify it with reflections, but it doesn't work.</p>\n<pre><code>Field field = Test.class.getDeclaredField(&quot;name&quot;);\nfield.setAccessible(true);\nfield.set(OBJECT, &quot;Paul&quot;);\n</code></pre>\n<p>But after this code,... the field is the same.</p>\n<p>If I create the field with the following code:</p>\n<pre><code>private final String name;\n    \npublic Test() {\n   name = &quot;test&quot;;\n}\n</code></pre>\n<p>It will work..., but not with the first code :(\nIs there a way to do it with the example below?\nAny help?</p>\n"},{"tags":["java","android","mysql"],"answers":[{"tags":[],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648996259,"creation_date":1648903397,"answer_id":71717630,"question_id":71717545,"body_markdown":"If you want to use database in 2022 there are two good options.\r\n\r\n   1. First one is using Google Firebase\r\n\r\nTo get started with Firebase go through this : https://www.udacity.com/course/firebase-in-a-weekend-by-google-android--ud0352\r\n\r\nAnd to understand better this tutorial playlist will help : https://youtube.com/playlist?list=PLrnPJCHvNZuBf5KH4XXOthtgo6E4Epjl8\r\n\r\n2. Second best way to create database is using Room Library instead of using SQLite. Room is easy to use and understand.\r\n\r\nHere is the playlist to get you started with Room in Android : https://www.youtube.com/playlist?list=PLk7v1Z2rk4hg_ywZffPgRTmJoy2XWs02d\r\n","title":"Mysql with android","body":"<p>If you want to use database in 2022 there are two good options.</p>\n<ol>\n<li>First one is using Google Firebase</li>\n</ol>\n<p>To get started with Firebase go through this : <a href=\"https://www.udacity.com/course/firebase-in-a-weekend-by-google-android--ud0352\" rel=\"nofollow noreferrer\">https://www.udacity.com/course/firebase-in-a-weekend-by-google-android--ud0352</a></p>\n<p>And to understand better this tutorial playlist will help : <a href=\"https://youtube.com/playlist?list=PLrnPJCHvNZuBf5KH4XXOthtgo6E4Epjl8\" rel=\"nofollow noreferrer\">https://youtube.com/playlist?list=PLrnPJCHvNZuBf5KH4XXOthtgo6E4Epjl8</a></p>\n<ol start=\"2\">\n<li>Second best way to create database is using Room Library instead of using SQLite. Room is easy to use and understand.</li>\n</ol>\n<p>Here is the playlist to get you started with Room in Android : <a href=\"https://www.youtube.com/playlist?list=PLk7v1Z2rk4hg_ywZffPgRTmJoy2XWs02d\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PLk7v1Z2rk4hg_ywZffPgRTmJoy2XWs02d</a></p>\n"}],"owner":{"account_id":23316924,"reputation":1,"user_id":17395418,"display_name":"ajay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648996259,"creation_date":1648902675,"question_id":71717545,"body_markdown":"I am creating an app like Instagram. And I need to use a database right? so I chose MYSQL but I have no idea about how to host the database so that all the users can access the data and how to connect the app with the database. I watched a lot of tutorials on how to connect the database with the app but none of them helped. So can you guys provide me with information on how to host the database and a good example to connect the database with the app. Please..","title":"Mysql with android","body":"<p>I am creating an app like Instagram. And I need to use a database right? so I chose MYSQL but I have no idea about how to host the database so that all the users can access the data and how to connect the app with the database. I watched a lot of tutorials on how to connect the database with the app but none of them helped. So can you guys provide me with information on how to host the database and a good example to connect the database with the app. Please..</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1648995966,"post_id":71726737,"comment_id":126758863,"body_markdown":"your loop implementation in findCustomer looks wrong: it seems to find the match only if the credentials are those of the first customer in the list :) Best to fix the formatting (in particular the indentation) to see it ..","body":"your loop implementation in findCustomer looks wrong: it seems to find the match only if the credentials are those of the first customer in the list :) Best to fix the formatting (in particular the indentation) to see it .."}],"answers":[{"tags":[],"owner":{"account_id":9846233,"reputation":110,"user_id":7293637,"accept_rate":100,"display_name":"97hilfel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648996093,"creation_date":1648996093,"answer_id":71726799,"question_id":71726737,"body_markdown":"You return null after your if block, remove the first return null in the findRegisterdCustomer method and you should be fine.\r\nAlso you might want to look into hashing, equals methods and default passwords and what the issues can be with those.","title":"How to cycle through ObservableArrayList to see if two properties match?","body":"<p>You return null after your if block, remove the first return null in the findRegisterdCustomer method and you should be fine.\nAlso you might want to look into hashing, equals methods and default passwords and what the issues can be with those.</p>\n"}],"owner":{"account_id":22346385,"reputation":53,"user_id":16565318,"display_name":"Robert Williamson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71726799,"answer_count":1,"score":0,"last_activity_date":1648996093,"creation_date":1648995582,"question_id":71726737,"body_markdown":"I have a login system that loops through all customers to see if a particular username and password match but it does not seem to work. The customers are all in an ObservableArrayList. I referred to [this][1] SO post to make it initially but it still did not work. Any help would be greatly appreciated. Thank you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17526608/how-to-find-an-object-in-an-arraylist-by-property\r\n\r\nOther Info\r\n```\r\nTextField username,password;\r\nCustomer checkCustomer;\r\nObservableList&lt;Customer&gt; customers;\r\n\r\ncustomers = FXCollections.observableArrayList();\r\n```\r\n\r\nLogin System(GUI)\r\n```\r\nif(t.getSource() == logIn){\r\n            //Owner login\r\n\r\n\r\n            if(username.getText().equals(&quot;admin&quot;) &amp;&amp; password.getText().equals(&quot;admin&quot;)){\r\n                System.out.println(&quot;success, owner logged in&quot;);\r\n                window.setScene(primaryOwner);\r\n            }\r\n            else {\r\n\r\n                  if(findRegisteredCustomer(username.getText(),password.getText()) != null){\r\n                      System.out.println(&quot;Success, customer logged in&quot;);\r\n                      if(checkCustomer.getPoints() &lt; 1000){\r\n                        status = &quot;Silver&quot;;\r\n                       }\r\n                      else if(checkCustomer.getPoints() &gt; 1000){\r\n                        status = &quot;Gold&quot;;\r\n                       }\r\n                      welcome.setText(&quot;Welcome &quot; + checkCustomer.getUsername() + &quot;. &quot; + &quot;You have &quot; + checkCustomer.getPoints() + &quot; points. &quot; + &quot;Your status is &quot; + status + &quot;.&quot;);\r\n                      System.out.println(&quot;success, &quot; + checkCustomer.getUsername() + &quot; has logged in&quot;);\r\n                      window.setScene(customerStartScreen);\r\n                  }\r\n                  else {\r\n                      System.out.println(&quot;Username: &quot; + username.getText() + &quot;, Password: &quot; + password.getText());\r\n                      System.out.println(&quot;failed, incorrect login details&quot;);\r\n                  }\r\n            }\r\n        }\r\n```\r\nfind if customer is registered method\r\n```\r\npublic Customer findRegisteredCustomer(String username, String password){\r\n          for(Customer customerTest: customers){\r\n              if(customerTest.getUsername().equals(username) &amp;&amp; customerTest.getPassword().equals(password)){\r\n                      System.out.println(&quot;Registered user&quot;);\r\n                      checkCustomer = customerTest;\r\n                      return customerTest;\r\n                  }\r\n              return null;\r\n          }\r\n          return null;\r\n}\r\n```\r\n\r\nCustomer class\r\n```\r\npublic class Customer extends User {\r\n    private int points;\r\n    \r\n    public Customer(String username, String password){\r\n        super(username,password);\r\n        points = 0;\r\n        \r\n    }\r\n    \r\n    public Customer(String username, String password, int points){\r\n        super(username,password);\r\n        this.points = points;\r\n    }\r\n\r\n    public int getPoints() {\r\n        return points;\r\n    }\r\n\r\n    public void setPoints(int points) {\r\n        this.points = points;\r\n    }\r\n    \r\n}\r\n```","title":"How to cycle through ObservableArrayList to see if two properties match?","body":"<p>I have a login system that loops through all customers to see if a particular username and password match but it does not seem to work. The customers are all in an ObservableArrayList. I referred to <a href=\"https://stackoverflow.com/questions/17526608/how-to-find-an-object-in-an-arraylist-by-property\">this</a> SO post to make it initially but it still did not work. Any help would be greatly appreciated. Thank you.</p>\n<p>Other Info</p>\n<pre><code>TextField username,password;\nCustomer checkCustomer;\nObservableList&lt;Customer&gt; customers;\n\ncustomers = FXCollections.observableArrayList();\n</code></pre>\n<p>Login System(GUI)</p>\n<pre><code>if(t.getSource() == logIn){\n            //Owner login\n\n\n            if(username.getText().equals(&quot;admin&quot;) &amp;&amp; password.getText().equals(&quot;admin&quot;)){\n                System.out.println(&quot;success, owner logged in&quot;);\n                window.setScene(primaryOwner);\n            }\n            else {\n\n                  if(findRegisteredCustomer(username.getText(),password.getText()) != null){\n                      System.out.println(&quot;Success, customer logged in&quot;);\n                      if(checkCustomer.getPoints() &lt; 1000){\n                        status = &quot;Silver&quot;;\n                       }\n                      else if(checkCustomer.getPoints() &gt; 1000){\n                        status = &quot;Gold&quot;;\n                       }\n                      welcome.setText(&quot;Welcome &quot; + checkCustomer.getUsername() + &quot;. &quot; + &quot;You have &quot; + checkCustomer.getPoints() + &quot; points. &quot; + &quot;Your status is &quot; + status + &quot;.&quot;);\n                      System.out.println(&quot;success, &quot; + checkCustomer.getUsername() + &quot; has logged in&quot;);\n                      window.setScene(customerStartScreen);\n                  }\n                  else {\n                      System.out.println(&quot;Username: &quot; + username.getText() + &quot;, Password: &quot; + password.getText());\n                      System.out.println(&quot;failed, incorrect login details&quot;);\n                  }\n            }\n        }\n</code></pre>\n<p>find if customer is registered method</p>\n<pre><code>public Customer findRegisteredCustomer(String username, String password){\n          for(Customer customerTest: customers){\n              if(customerTest.getUsername().equals(username) &amp;&amp; customerTest.getPassword().equals(password)){\n                      System.out.println(&quot;Registered user&quot;);\n                      checkCustomer = customerTest;\n                      return customerTest;\n                  }\n              return null;\n          }\n          return null;\n}\n</code></pre>\n<p>Customer class</p>\n<pre><code>public class Customer extends User {\n    private int points;\n    \n    public Customer(String username, String password){\n        super(username,password);\n        points = 0;\n        \n    }\n    \n    public Customer(String username, String password, int points){\n        super(username,password);\n        this.points = points;\n    }\n\n    public int getPoints() {\n        return points;\n    }\n\n    public void setPoints(int points) {\n        this.points = points;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648994411,"creation_date":1648994411,"answer_id":71726603,"question_id":71726481,"body_markdown":"You can listen for text change on those 3 callbacks. It depends on your use case.\r\n\r\n    @Override\r\n    public void onTextChanged(CharSequence textInput, int start, int before, int count) {\r\n        String strInput = textInput.toString();\r\n    \r\n        if (&quot;open&quot;.equalsIgnoreCase(strInput)) {\r\n            // text is &quot;open&quot;\r\n            // change background to desired color\r\n        } else if (&quot;closed&quot;.equalsIgnoreCase(strInput)) {\r\n           // text is &quot;closed&quot;\r\n           // change background to desired color\r\n        }\r\n    }","title":"Changing Background based on update of TextView","body":"<p>You can listen for text change on those 3 callbacks. It depends on your use case.</p>\n<pre><code>@Override\npublic void onTextChanged(CharSequence textInput, int start, int before, int count) {\n    String strInput = textInput.toString();\n\n    if (&quot;open&quot;.equalsIgnoreCase(strInput)) {\n        // text is &quot;open&quot;\n        // change background to desired color\n    } else if (&quot;closed&quot;.equalsIgnoreCase(strInput)) {\n       // text is &quot;closed&quot;\n       // change background to desired color\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19959076,"reputation":15,"user_id":16853128,"display_name":"Radu Catalin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71726603,"answer_count":1,"score":0,"last_activity_date":1648994411,"creation_date":1648993484,"question_id":71726481,"body_markdown":"I am trying to create a simple android app using JAVA(Android Studio). What I am willing to implement is the background color of the app to change based on the content of the TextView (which is updated constantly between two values &quot;Open&quot; and &quot;Closed&quot;). I have seen that onChanged() must be used but I don`t really understand how to Implement the listener for the TextView. \r\n\r\nI tried wrote this :\r\n` measurementValue = (TextView) findViewById(R.id.textbox_main);\r\n  measurementValue.addTextChangedListener(new TextWatcher() {}`\r\nbased on what I have found online, but can`t really figure out what the next step is. I am a total newbie so please be kind. \r\n\r\nBest regards!","title":"Changing Background based on update of TextView","body":"<p>I am trying to create a simple android app using JAVA(Android Studio). What I am willing to implement is the background color of the app to change based on the content of the TextView (which is updated constantly between two values &quot;Open&quot; and &quot;Closed&quot;). I have seen that onChanged() must be used but I don`t really understand how to Implement the listener for the TextView.</p>\n<p>I tried wrote this :\n<code> measurementValue = (TextView) findViewById(R.id.textbox_main); measurementValue.addTextChangedListener(new TextWatcher() {}</code>\nbased on what I have found online, but can`t really figure out what the next step is. I am a total newbie so please be kind.</p>\n<p>Best regards!</p>\n"},{"tags":["java","hashtable"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648992576,"post_id":71726325,"comment_id":126758088,"body_markdown":"There is no general advice on your question, Hashtable and ArrayList are completely different classes and do not share a single interface related to collections. Please provide some more code of your calculations so we can give you better advice on optimizations. And please: follow standard coding conventions and name your variables and fields with a lowercase letter in the beginning. Will help us to understand code snippets better.","body":"There is no general advice on your question, Hashtable and ArrayList are completely different classes and do not share a single interface related to collections. Please provide some more code of your calculations so we can give you better advice on optimizations. And please: follow standard coding conventions and name your variables and fields with a lowercase letter in the beginning. Will help us to understand code snippets better."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648992410,"creation_date":1648992410,"answer_id":71726351,"question_id":71726325,"body_markdown":"Is `Vertix` your own class? If so, it needs to have a definition of equals and hashcode methods to be compared against other instances with _matching values_. \r\n\r\nOtherwise, the `new` _reference_ you&#39;ve created doesn&#39;t exist in the table.\r\n\r\nAlso, unless you need thread safety, you can just use Hashmap ","title":"Method get of Hashtable returns null","body":"<p>Is <code>Vertix</code> your own class? If so, it needs to have a definition of equals and hashcode methods to be compared against other instances with <em>matching values</em>.</p>\n<p>Otherwise, the <code>new</code> <em>reference</em> you've created doesn't exist in the table.</p>\n<p>Also, unless you need thread safety, you can just use Hashmap</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648994191,"creation_date":1648993034,"answer_id":71726418,"question_id":71726325,"body_markdown":"You should read the javadocs for `HashMap` and `HashTable` where it explains how lookups are performed, and the requirements on the `hashcode` and `equals` methods.\r\n\r\nThe most likely explanation for your problem is that your `Vertix` class doe not override `Object::equals` and `Object::hashCode`.  Therefore, your class is inheriting *&quot;equality means same object&quot;* behavior from `java.lang.Object`.  In other words, every `Vertix` instance is not equal to every other `Vertix` instance.  Thus\r\n\r\n        new Vertix(5, 3).equals(new Vertix(5, 3)) \r\n\r\nevaluates to `false`.  That would explain why `Graph.get(new Vertix(5,3))` returns `false`.\r\n\r\n--------------\r\n\r\nSolution: override `equals` and `hashCode` so that they have the correct properties for your application.  \r\n\r\nReference:\r\n\r\n  - [Java `equals()` and `hashCode()` Contracts](https://www.baeldung.com/java-equals-hashcode-contracts)\r\n\r\n--------------\r\n\r\nNote that there are some style, etc errors in your code snippets.\r\n\r\n - You probably should use `HashMap` instead of `Hashtable`.  `Hashtable` is *notionally* thread-safe, but this comes at the cost of acquiring and releasing a lock on each `get` and `put`.  If your code is single threaded, this is unnecessary.  Conversely, if your code is multi-threaded, then a `Hashtable` is liable to be a concurrency bottleneck.\r\n\r\n - `Graph` is a variable name, so it should start with a lowercase letter.\r\n - `Vertix` is probably a spelling error.  The English word for a node in a graph is &quot;vertex&quot;, not &quot;vertix&quot;.  (&quot;Vertix&quot; is a trademark for a GPS watch, a multiplayer shooter game, etcetera.)\r\n\r\n\r\n","title":"Method get of Hashtable returns null","body":"<p>You should read the javadocs for <code>HashMap</code> and <code>HashTable</code> where it explains how lookups are performed, and the requirements on the <code>hashcode</code> and <code>equals</code> methods.</p>\n<p>The most likely explanation for your problem is that your <code>Vertix</code> class doe not override <code>Object::equals</code> and <code>Object::hashCode</code>.  Therefore, your class is inheriting <em>&quot;equality means same object&quot;</em> behavior from <code>java.lang.Object</code>.  In other words, every <code>Vertix</code> instance is not equal to every other <code>Vertix</code> instance.  Thus</p>\n<pre><code>    new Vertix(5, 3).equals(new Vertix(5, 3)) \n</code></pre>\n<p>evaluates to <code>false</code>.  That would explain why <code>Graph.get(new Vertix(5,3))</code> returns <code>false</code>.</p>\n<hr />\n<p>Solution: override <code>equals</code> and <code>hashCode</code> so that they have the correct properties for your application.</p>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">Java <code>equals()</code> and <code>hashCode()</code> Contracts</a></li>\n</ul>\n<hr />\n<p>Note that there are some style, etc errors in your code snippets.</p>\n<ul>\n<li><p>You probably should use <code>HashMap</code> instead of <code>Hashtable</code>.  <code>Hashtable</code> is <em>notionally</em> thread-safe, but this comes at the cost of acquiring and releasing a lock on each <code>get</code> and <code>put</code>.  If your code is single threaded, this is unnecessary.  Conversely, if your code is multi-threaded, then a <code>Hashtable</code> is liable to be a concurrency bottleneck.</p>\n</li>\n<li><p><code>Graph</code> is a variable name, so it should start with a lowercase letter.</p>\n</li>\n<li><p><code>Vertix</code> is probably a spelling error.  The English word for a node in a graph is &quot;vertex&quot;, not &quot;vertix&quot;.  (&quot;Vertix&quot; is a trademark for a GPS watch, a multiplayer shooter game, etcetera.)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":23849405,"reputation":23,"user_id":17853531,"display_name":"t1kumi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1648994191,"creation_date":1648992219,"question_id":71726325,"body_markdown":"I am trying to code a sokoban solver, My code works, but it takes so much time to calculate the solution. I think it&#39;s because I use ArrayList, I tried to use Hashtable but the method get does not work, \r\n```\r\nHashtable &lt; Vertix, ArrayList&lt;Vertix&gt;&gt; Graph;\r\n```\r\nso when I fill my hashtable, and use the key to get the list I get null.\r\n```\r\nGraph.get(new Vertix(5,3));\r\n```\r\nhowever the vertix exists in Graph.\r\n\r\nhow can I solve this problem to increase the speed of my Sokoban solver.\r\n\r\n\r\n\r\n","title":"Method get of Hashtable returns null","body":"<p>I am trying to code a sokoban solver, My code works, but it takes so much time to calculate the solution. I think it's because I use ArrayList, I tried to use Hashtable but the method get does not work,</p>\n<pre><code>Hashtable &lt; Vertix, ArrayList&lt;Vertix&gt;&gt; Graph;\n</code></pre>\n<p>so when I fill my hashtable, and use the key to get the list I get null.</p>\n<pre><code>Graph.get(new Vertix(5,3));\n</code></pre>\n<p>however the vertix exists in Graph.</p>\n<p>how can I solve this problem to increase the speed of my Sokoban solver.</p>\n"},{"tags":["java","junit","junit4","junit3"],"answers":[{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1494821831,"creation_date":1283740610,"answer_id":3648731,"question_id":3648712,"body_markdown":"The reason you need this is that for many tests you often need to initialize state before each test so that the tests can all make assumptions about the start state they&#39;re running in. \r\n\r\nSuppose your test class wraps, say database access. After each test you&#39;d want to remove whatever changes your tests have made to the db - if you didn&#39;t do that, each test runs against a slightly modified database. Additionally, any given test may see a different set of changes if some subset of the previous tests have failed. For example, suppose test1 does an insert, test2 checks that you&#39;re accurately reading the table size. Day 1, test1 fails, and 0 is correct. Day 2, test1 succeeds, and 1 is correct? \r\n\r\nBTW, junit also supports `@BeforeClass` if you want to do a global setup, and setup and teardowns are optional. ","title":"setUp/tearDown (@Before/@After) why we need them in JUnit?","body":"<p>The reason you need this is that for many tests you often need to initialize state before each test so that the tests can all make assumptions about the start state they're running in. </p>\n\n<p>Suppose your test class wraps, say database access. After each test you'd want to remove whatever changes your tests have made to the db - if you didn't do that, each test runs against a slightly modified database. Additionally, any given test may see a different set of changes if some subset of the previous tests have failed. For example, suppose test1 does an insert, test2 checks that you're accurately reading the table size. Day 1, test1 fails, and 0 is correct. Day 2, test1 succeeds, and 1 is correct? </p>\n\n<p>BTW, junit also supports <code>@BeforeClass</code> if you want to do a global setup, and setup and teardowns are optional. </p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1283741438,"creation_date":1283741438,"answer_id":3648770,"question_id":3648712,"body_markdown":"This (old) [JUnit best practices][1] article puts it like this:\r\n\r\n&gt; ### Do not use the test-case constructor to set up a test case\r\n&gt; \r\n&gt; Setting up a test case in the\r\n&gt; constructor is not a good idea.\r\n&gt; Consider:\r\n&gt; \r\n&gt;     public class SomeTest extends TestCase\r\n&gt;        public SomeTest (String testName) {\r\n&gt;           super (testName);\r\n&gt;           // Perform test set-up\r\n&gt;        }\r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; Imagine that while performing the\r\n&gt; setup, the setup code throws an\r\n&gt; `IllegalStateException`. In response,\r\n&gt; JUnit would throw an\r\n&gt; `AssertionFailedError`, indicating that\r\n&gt; the test case could not be\r\n&gt; instantiated. Here is an example of\r\n&gt; the resulting stack trace:\r\n&gt; \r\n&gt;     junit.framework.AssertionFailedError: Cannot instantiate test case: test1   \r\n&gt;         at junit.framework.Assert.fail(Assert.java:143)\r\n&gt;         at junit.framework.TestSuite.runTest(TestSuite.java:178)\r\n&gt;         at junit.framework.TestCase.runBare(TestCase.java:129)\r\n&gt;         at junit.framework.TestResult.protect(TestResult.java:100)\r\n&gt;         at junit.framework.TestResult.runProtected(TestResult.java:117)\r\n&gt;         at junit.framework.TestResult.run(TestResult.java:103)\r\n&gt;         at junit.framework.TestCase.run(TestCase.java:120)\r\n&gt;         at junit.framework.TestSuite.run(TestSuite.java, Compiled Code)\r\n&gt;         at junit.ui.TestRunner2.run(TestRunner.java:429)\r\n&gt;\r\n&gt; This stack trace proves rather\r\n&gt; uninformative; it only indicates that\r\n&gt; the test case could not be\r\n&gt; instantiated. It doesn&#39;t detail the\r\n&gt; original error&#39;s location or place of\r\n&gt; origin. This lack of information makes\r\n&gt; it hard to deduce the exception&#39;s\r\n&gt; underlying cause.\r\n&gt; \r\n&gt; Instead of setting up the data in the\r\n&gt; constructor, perform test setup by\r\n&gt; overriding `setUp()`. Any exception\r\n&gt; thrown within `setUp()` is reported\r\n&gt; correctly. Compare this stack trace\r\n&gt; with the previous example:\r\n&gt; \r\n&gt;     java.lang.IllegalStateException: Oops\r\n&gt;         at bp.DTC.setUp(DTC.java:34) \r\n&gt;         at junit.framework.TestCase.runBare(TestCase.java:127)\r\n&gt;         at junit.framework.TestResult.protect(TestResult.java:100)\r\n&gt;         at junit.framework.TestResult.runProtected(TestResult.java:117)\r\n&gt;         at junit.framework.TestResult.run(TestResult.java:103)\r\n&gt;         ...\r\n&gt; \r\n&gt; This stack trace is much more\r\n&gt; informative; it shows which exception\r\n&gt; was thrown (`IllegalStateException`) and\r\n&gt; from where. That makes it far easier\r\n&gt; to explain the test setup&#39;s failure.\r\n\r\n\r\n  [1]: http://www.javaworld.com/jw-12-2000/jw-1221-junit.html","title":"setUp/tearDown (@Before/@After) why we need them in JUnit?","body":"<p>This (old) <a href=\"http://www.javaworld.com/jw-12-2000/jw-1221-junit.html\" rel=\"noreferrer\">JUnit best practices</a> article puts it like this:</p>\n\n<blockquote>\n  <h3>Do not use the test-case constructor to set up a test case</h3>\n  \n  <p>Setting up a test case in the\n  constructor is not a good idea.\n  Consider:</p>\n\n<pre><code>public class SomeTest extends TestCase\n   public SomeTest (String testName) {\n      super (testName);\n      // Perform test set-up\n   }\n}\n</code></pre>\n  \n  <p>Imagine that while performing the\n  setup, the setup code throws an\n  <code>IllegalStateException</code>. In response,\n  JUnit would throw an\n  <code>AssertionFailedError</code>, indicating that\n  the test case could not be\n  instantiated. Here is an example of\n  the resulting stack trace:</p>\n\n<pre><code>junit.framework.AssertionFailedError: Cannot instantiate test case: test1   \n    at junit.framework.Assert.fail(Assert.java:143)\n    at junit.framework.TestSuite.runTest(TestSuite.java:178)\n    at junit.framework.TestCase.runBare(TestCase.java:129)\n    at junit.framework.TestResult.protect(TestResult.java:100)\n    at junit.framework.TestResult.runProtected(TestResult.java:117)\n    at junit.framework.TestResult.run(TestResult.java:103)\n    at junit.framework.TestCase.run(TestCase.java:120)\n    at junit.framework.TestSuite.run(TestSuite.java, Compiled Code)\n    at junit.ui.TestRunner2.run(TestRunner.java:429)\n</code></pre>\n  \n  <p>This stack trace proves rather\n  uninformative; it only indicates that\n  the test case could not be\n  instantiated. It doesn't detail the\n  original error's location or place of\n  origin. This lack of information makes\n  it hard to deduce the exception's\n  underlying cause.</p>\n  \n  <p>Instead of setting up the data in the\n  constructor, perform test setup by\n  overriding <code>setUp()</code>. Any exception\n  thrown within <code>setUp()</code> is reported\n  correctly. Compare this stack trace\n  with the previous example:</p>\n\n<pre><code>java.lang.IllegalStateException: Oops\n    at bp.DTC.setUp(DTC.java:34) \n    at junit.framework.TestCase.runBare(TestCase.java:127)\n    at junit.framework.TestResult.protect(TestResult.java:100)\n    at junit.framework.TestResult.runProtected(TestResult.java:117)\n    at junit.framework.TestResult.run(TestResult.java:103)\n    ...\n</code></pre>\n  \n  <p>This stack trace is much more\n  informative; it shows which exception\n  was thrown (<code>IllegalStateException</code>) and\n  from where. That makes it far easier\n  to explain the test setup's failure.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":34190,"reputation":6201,"user_id":96386,"accept_rate":83,"display_name":"RichN"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1283742140,"creation_date":1283742140,"answer_id":3648794,"question_id":3648712,"body_markdown":"A custom runner such as `SpringJUnit4ClassRunner` may need to run some codes between the constructor and `@Before` method. In this case, the runner may inject some dependency which the `@Before` methods needs. But dependency injection can only be run after the object is constructed.","title":"setUp/tearDown (@Before/@After) why we need them in JUnit?","body":"<p>A custom runner such as <code>SpringJUnit4ClassRunner</code> may need to run some codes between the constructor and <code>@Before</code> method. In this case, the runner may inject some dependency which the <code>@Before</code> methods needs. But dependency injection can only be run after the object is constructed.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1283812610,"creation_date":1283745688,"answer_id":3648930,"question_id":3648712,"body_markdown":"Here are 3 good reasons why. In summary:\n\n1. Some situations may prefer to defer setting up test fixtures as long as possible, to *just before* the test case executes.\n\n2. Some test cases may be part of a deep test case inheritance hierarchy.  It may be preferable to defer setting up test fixtures until the full hierarchy of constructors has completed.\n\n3. You get better diagnostics if setup code fails in setUp() rather than if it fails in the constructor.\n\n### 1. Defer setting up fixtures until just before test case\n\nDesign for Usability  \nhttp://www.artima.com/weblogs/viewpost.jsp?thread=70189\n\n&gt; ... And as Elliotte Rusty Harold put it, if you&#39;re going to create a new TestCase instance for each test method, *&quot;why the hell bother with a setUp() method?&quot;* You can just use the TestCase constructor.\n&gt;\n&gt; I&#39;ve heard Bruce Eckel point out that there is *one subtle difference* between creating your fixture in setUp() versus creating it in the TestCase constructor. JUnit *creates all the TestCase instances up front*, and *then for each instance, calls setup(), the test method, and tearDown()*. In other words, ***the subtle difference is that constructors are all invoked in batch up front, whereas the setUp() method is called right before each test method***. But this seems to be not that useful a difference in practice.\n\n### 2. Defer setting up fixtures until after all test cases are instantiated\n\nETutorial&#39;s Java Extreme Programming - 4.6 Set Up and Tear Down  \nhttp://etutorials.org/Programming/Java+extreme+programming/Chapter+4.+JUnit/4.6+Set+Up+and+Tear+Down/\n\n&gt; *You may be wondering why you should write a setUp( ) method instead of simply initializing fields in a test case&#39;s constructor*. After all, since a new instance of the test case is created for each of its test methods, the constructor is always called before setUp( ). In a vast majority of cases, you can use the constructor instead of setUp( ) without any side effects.\n&gt;\n&gt; ***In cases where your test case is part of a deeper inheritance hierarchy, you may wish to postpone object initialization until instances of derived [test] classes are fully constructed***. This is a good technical reason why you might want to use setUp( ) instead of a constructor for initialization. Using setUp( ) and tearDown( ) is ***also good for documentation purposes, simply because it may make the code easier to read***.\n\n### 3. Better diagnostics in case of setup failure\n\nJUnit best practices (JavaWorld)  \nhttp://www.javaworld.com/jw-12-2000/jw-1221-junit.html  \n\n&gt; Setting up a test case in the constructor is not a good idea. ...\n&gt;\n&gt; Imagine [in code where setup is done in the test case constructor] that while performing the setup, the setup code throws an IllegalStateException. In response, JUnit would throw an AssertionFailedError, indicating that the test case could not be instantiated. ...\n&gt;\n&gt; ***This stack trace [of an exception thrown in setup code in the test case constructor] proves rather uninformative; it only indicates that the test case could not be instantiated.*** \n&gt;\n&gt; Instead of setting up the data in the constructor, ***perform test setup by overriding setUp(). Any exception thrown within setUp() is reported correctly.*** ...\n&gt;\n&gt; This stack trace [of an exception thrown in setUp() method instead of the test case constructor] is much more informative; it shows which exception was thrown (IllegalStateException) and from where. ***That makes it far easier to explain the test setup&#39;s failure.***\n\n","title":"setUp/tearDown (@Before/@After) why we need them in JUnit?","body":"<p>Here are 3 good reasons why. In summary:</p>\n<ol>\n<li><p>Some situations may prefer to defer setting up test fixtures as long as possible, to <em>just before</em> the test case executes.</p>\n</li>\n<li><p>Some test cases may be part of a deep test case inheritance hierarchy.  It may be preferable to defer setting up test fixtures until the full hierarchy of constructors has completed.</p>\n</li>\n<li><p>You get better diagnostics if setup code fails in setUp() rather than if it fails in the constructor.</p>\n</li>\n</ol>\n<h3>1. Defer setting up fixtures until just before test case</h3>\n<p>Design for Usability<br />\n<a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=70189\" rel=\"noreferrer\">http://www.artima.com/weblogs/viewpost.jsp?thread=70189</a></p>\n<blockquote>\n<p>... And as Elliotte Rusty Harold put it, if you're going to create a new TestCase instance for each test method, <em>&quot;why the hell bother with a setUp() method?&quot;</em> You can just use the TestCase constructor.</p>\n<p>I've heard Bruce Eckel point out that there is <em>one subtle difference</em> between creating your fixture in setUp() versus creating it in the TestCase constructor. JUnit <em>creates all the TestCase instances up front</em>, and <em>then for each instance, calls setup(), the test method, and tearDown()</em>. In other words, <em><strong>the subtle difference is that constructors are all invoked in batch up front, whereas the setUp() method is called right before each test method</strong></em>. But this seems to be not that useful a difference in practice.</p>\n</blockquote>\n<h3>2. Defer setting up fixtures until after all test cases are instantiated</h3>\n<p>ETutorial's Java Extreme Programming - 4.6 Set Up and Tear Down<br />\n<a href=\"http://etutorials.org/Programming/Java+extreme+programming/Chapter+4.+JUnit/4.6+Set+Up+and+Tear+Down/\" rel=\"noreferrer\">http://etutorials.org/Programming/Java+extreme+programming/Chapter+4.+JUnit/4.6+Set+Up+and+Tear+Down/</a></p>\n<blockquote>\n<p><em>You may be wondering why you should write a setUp( ) method instead of simply initializing fields in a test case's constructor</em>. After all, since a new instance of the test case is created for each of its test methods, the constructor is always called before setUp( ). In a vast majority of cases, you can use the constructor instead of setUp( ) without any side effects.</p>\n<p><em><strong>In cases where your test case is part of a deeper inheritance hierarchy, you may wish to postpone object initialization until instances of derived [test] classes are fully constructed</strong></em>. This is a good technical reason why you might want to use setUp( ) instead of a constructor for initialization. Using setUp( ) and tearDown( ) is <em><strong>also good for documentation purposes, simply because it may make the code easier to read</strong></em>.</p>\n</blockquote>\n<h3>3. Better diagnostics in case of setup failure</h3>\n<p>JUnit best practices (JavaWorld)<br />\n<a href=\"http://www.javaworld.com/jw-12-2000/jw-1221-junit.html\" rel=\"noreferrer\">http://www.javaworld.com/jw-12-2000/jw-1221-junit.html</a></p>\n<blockquote>\n<p>Setting up a test case in the constructor is not a good idea. ...</p>\n<p>Imagine [in code where setup is done in the test case constructor] that while performing the setup, the setup code throws an IllegalStateException. In response, JUnit would throw an AssertionFailedError, indicating that the test case could not be instantiated. ...</p>\n<p><em><strong>This stack trace [of an exception thrown in setup code in the test case constructor] proves rather uninformative; it only indicates that the test case could not be instantiated.</strong></em></p>\n<p>Instead of setting up the data in the constructor, <em><strong>perform test setup by overriding setUp(). Any exception thrown within setUp() is reported correctly.</strong></em> ...</p>\n<p>This stack trace [of an exception thrown in setUp() method instead of the test case constructor] is much more informative; it shows which exception was thrown (IllegalStateException) and from where. <em><strong>That makes it far easier to explain the test setup's failure.</strong></em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":145063,"reputation":1004,"user_id":354601,"accept_rate":50,"display_name":"BjornS"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1648993994,"creation_date":1283813640,"answer_id":3654705,"question_id":3648712,"body_markdown":"At work we&#39;ve discovered something rather interesting which answers your question. When you run a test suite, especially a large set of tests (200+), JUnit starts to use a LOT of memory. This is because ALL the tests are instanced before any actual test method is run.\r\n\r\nWe ran into a &quot;memory leak&quot; because of this. Because we used Spring to wire in some JPA EntityManager objects for our database tests, this became A LOT of objects and a lot of memory, and about half way through the tests we were getting OutOfMemory exceptions.\r\n\r\nIMHO, best practice is to use setUp and tearDown to inject your dependencies and null out any and all class references. This will make your tests run faster and save you a lot of headache!\r\n\r\nHope you learn from our mistakes :)","title":"setUp/tearDown (@Before/@After) why we need them in JUnit?","body":"<p>At work we've discovered something rather interesting which answers your question. When you run a test suite, especially a large set of tests (200+), JUnit starts to use a LOT of memory. This is because ALL the tests are instanced before any actual test method is run.</p>\n<p>We ran into a &quot;memory leak&quot; because of this. Because we used Spring to wire in some JPA EntityManager objects for our database tests, this became A LOT of objects and a lot of memory, and about half way through the tests we were getting OutOfMemory exceptions.</p>\n<p>IMHO, best practice is to use setUp and tearDown to inject your dependencies and null out any and all class references. This will make your tests run faster and save you a lot of headache!</p>\n<p>Hope you learn from our mistakes :)</p>\n"},{"tags":[],"owner":{"account_id":650645,"reputation":1,"user_id":451389,"display_name":"GoingWell"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1344433837,"creation_date":1284815173,"answer_id":3741798,"question_id":3648712,"body_markdown":"I think some reason should like the following:\r\n\r\n1. If you move @Before contents to Constructor, That&#39;s fine, but the @After contents where you get to move?\r\n2. The differences of Constructor and @Before/@After is that Constructor should be used to instance some for class, @Before/@After is for preparing test case resources.","title":"setUp/tearDown (@Before/@After) why we need them in JUnit?","body":"<p>I think some reason should like the following:</p>\n\n<ol>\n<li>If you move @Before contents to Constructor, That's fine, but the @After contents where you get to move?</li>\n<li>The differences of Constructor and @Before/@After is that Constructor should be used to instance some for class, @Before/@After is for preparing test case resources.</li>\n</ol>\n"}],"owner":{"account_id":168371,"reputation":16522,"user_id":393786,"accept_rate":78,"display_name":"mhshams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95202,"favorite_count":0,"down_vote_count":1,"up_vote_count":72,"accepted_answer_id":3648770,"answer_count":6,"score":71,"last_activity_date":1648993994,"creation_date":1283740174,"question_id":3648712,"body_markdown":"I believe that we are all know that  setUp (@Before) will execute before any test method and tearDown(@After) will execute after test method.\r\n\r\nAlso we know that Junit will create one instance of Test **per test method**. \r\n\r\nmy question is that can we just move  setUp method content to class Constructor and remove setUp method? is there any specific reason to keep setUp method?","title":"setUp/tearDown (@Before/@After) why we need them in JUnit?","body":"<p>I believe that we are all know that  setUp (@Before) will execute before any test method and tearDown(@After) will execute after test method.</p>\n\n<p>Also we know that Junit will create one instance of Test <strong>per test method</strong>. </p>\n\n<p>my question is that can we just move  setUp method content to class Constructor and remove setUp method? is there any specific reason to keep setUp method?</p>\n"},{"tags":["java","spring-boot","ssl","keytool","mutual-authentication"],"comments":[{"owner":{"account_id":1822028,"reputation":1883,"user_id":1655868,"accept_rate":50,"display_name":"Rowan Smith"},"score":0,"creation_date":1633066735,"post_id":69400914,"comment_id":122665745,"body_markdown":"Your client certificate needs to be signed by  a CA. Not self signed. Then your server needs to announce that CA to the client so the client knows to present it.  Check out &#39; creating a CA with openssl&#39;","body":"Your client certificate needs to be signed by  a CA. Not self signed. Then your server needs to announce that CA to the client so the client knows to present it.  Check out &#39; creating a CA with openssl&#39;"}],"answers":[{"tags":[],"owner":{"account_id":21197670,"reputation":26,"user_id":15588910,"display_name":"Harikumar Adukkadukkam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633071149,"creation_date":1633070024,"answer_id":69401475,"question_id":69400914,"body_markdown":"I think creating `RestTemplate` with new keyword will not send the certificate to the server. Instead, you should wrap the SSL certificate in the Rest template. Please try this:\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate(RestTemplateBuilder builder) throws Exception {\r\n       char[] password = &quot;password&quot;.toCharArray();\r\n\r\n       SSLContext sslContext = SSLContextBuilder.create()\r\n            .loadKeyMaterial(keyStore(&quot;classpath:cert.jks&quot;, password), password)\r\n            .loadTrustMaterial(null, new TrustSelfSignedStrategy()).build();\r\n  \r\n       HttpClient client = HttpClients.custom().setSSLContext(sslContext).build();\r\n       return builder\r\n            .requestFactory(new HttpComponentsClientHttpRequestFactory(client))\r\n            .build();\r\n    } \r\n\r\n    private KeyStore keyStore(String file, char[] password) throws Exception {\r\n       KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n       File key = ResourceUtils.getFile(file);\r\n       try (InputStream in = new FileInputStream(key)) {\r\n           keyStore.load(in, password);\r\n       }\r\n       return keyStore;\r\n    }","title":"How can i solve [Received fatal alert: bad_certificate]?","body":"<p>I think creating <code>RestTemplate</code> with new keyword will not send the certificate to the server. Instead, you should wrap the SSL certificate in the Rest template. Please try this:</p>\n<pre><code>@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder) throws Exception {\n   char[] password = &quot;password&quot;.toCharArray();\n\n   SSLContext sslContext = SSLContextBuilder.create()\n        .loadKeyMaterial(keyStore(&quot;classpath:cert.jks&quot;, password), password)\n        .loadTrustMaterial(null, new TrustSelfSignedStrategy()).build();\n\n   HttpClient client = HttpClients.custom().setSSLContext(sslContext).build();\n   return builder\n        .requestFactory(new HttpComponentsClientHttpRequestFactory(client))\n        .build();\n} \n\nprivate KeyStore keyStore(String file, char[] password) throws Exception {\n   KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n   File key = ResourceUtils.getFile(file);\n   try (InputStream in = new FileInputStream(key)) {\n       keyStore.load(in, password);\n   }\n   return keyStore;\n}\n</code></pre>\n"}],"owner":{"account_id":17442466,"reputation":23,"user_id":12644170,"display_name":"Yesora Choi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69401475,"answer_count":1,"score":1,"last_activity_date":1648993162,"creation_date":1633066440,"question_id":69400914,"body_markdown":"I&#39;ve created two servers locally, and I&#39;m going to apply a mutual authentication to their communication.\r\nI just don&#39;t know what the problem is. I lack understanding of this mechanism, but I also lack understanding of the server itself.\r\n\r\n- Create each key store\r\n\r\n``` \r\nkeytool -genkey -alias julie-server-key -keyalg RSA -keypass 11111111 -storepass 11111111 -keystore julie/src/main/resources/julie-server-key.jks -validity 365 -keysize 2048 -dname &quot;CN=localhost,OU=edge,O=edge,L=edge,S=edge,C=KR&quot;\r\n``` \r\n\r\n``` \r\nkeytool -genkey -alias client-key -keyalg RSA -keypass 11111111 -storepass 11111111 -keystore transmitter/src/main/resources/client-key.jks -validity 365 -keysize 2048 -dname &quot;CN=localhost,OU=edge,O=edge,L=edge,S=edge,C=KR&quot;\r\n``` \r\n\r\n- Export to X.509 to register certificate in Truststore.\r\n\r\n``` \r\nkeytool -export -alias julie-server-key -keystore julie/src/main/resources/julie-server-key.jks -file server_X509.cer -storepass 11111111\r\n``` \r\n``` \r\nkeytool -export -alias client-key -keystore transmitter/src/main/resources/client-key.jks -file client_X509.cer -storepass 11111111\r\n``` \r\n\r\n\r\n- Register each other&#39;s certificates in Truststore.\r\n``` \r\nkeytool -import -alias client-key -keystore julie/src/main/resources/server.truststore -file transmitter/src/main/resources/client_X509.cer -storepass 11111111\r\n``` \r\n``` \r\nkeytool -import -alias julie-server-key -keystore transmitter/src/main/resources/client.truststore -file julie/src/main/resources/server_X509.cer -storepass 11111111\r\n``` \r\n\r\n\r\n- server&#39;s application.properties \r\n```\r\nserver.port=8443\r\n\r\nserver.ssl.enabled=true\r\nserver.ssl.key-store=/Users/julie/IdeaProjects/cloud/julie/src/main/resources/julie-server-key.jks\r\nserver.ssl.key-store-password=11111111\r\nserver.ssl.key-store-type=jks\r\nserver.ssl.key-alias=julie-server-key\r\nerver.ssl.trust-store=/Users/julie/IdeaProjects/cloud/julie/src/main/resources/server.truststore\r\nserver.ssl.trust-store-password=11111111\r\nserver.ssl.trust-store-type=jks\r\nserver.ssl.client-auth=need\r\n```\r\n\r\n- client&#39;s application.properties \r\n```\r\nserver.port=8080\r\n\r\nserver.ssl.key-store=/Users/julie/IdeaProjects/cloud/transmitter/src/main/resources/client-key.jks\r\nserver.ssl.key-store-password=11111111\r\nserver.ssl.trust-store=/Users/julie/IdeaProjects/cloud/transmitter/src/main/resources/client.truststore\r\nserver.ssl.trust-store-password=11111111\r\n```\r\n\r\n- The application main function of the client was set as follows. server as well \r\n\r\n```\r\n@SpringBootApplication\r\npublic class TransmitterApplication {\r\n\r\n    private static String keyStorePath;\r\n    private static String keyStorePassword;\r\n\r\n    private static String trustKeyStorePath;\r\n    private static String trustKeyStorePassword;\r\n\r\n\r\n\r\n    @Value(&quot;${server.ssl.key-store}&quot;)\r\n    public void setKeyStorePath(String keyStorePath) {\r\n        TransmitterApplication.keyStorePath = keyStorePath;\r\n    }\r\n\r\n    @Value(&quot;${server.ssl.key-store-password}&quot;)\r\n    public void setKeyStorePassword(String keyStorePassword) {\r\n        TransmitterApplication.keyStorePassword = keyStorePassword;\r\n    }\r\n\r\n\r\n    @Value(&quot;${server.ssl.trust-store}&quot;)\r\n    public void setTrustKeyStorePath(String trustKeyStorePath) {\r\n        TransmitterApplication.trustKeyStorePath = trustKeyStorePath;\r\n    }\r\n\r\n    @Value(&quot;${server.ssl.trust-store-password}&quot;)\r\n    public void setTrustKeyStorePassword(String trustKeyStorePassword) {\r\n        TransmitterApplication.trustKeyStorePassword = trustKeyStorePassword;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        SpringApplication.run(TransmitterApplication.class, args);\r\n\r\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n\r\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, keyStorePath);\r\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, keyStorePassword);\r\n\r\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustKeyStorePath);\r\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, trustKeyStorePassword);\r\n\r\n\r\n    }\r\n```\r\n\r\n- This is the part where the client calls the server&#39;s API to RestTemplate.\r\n```\r\n String serverUrl = &quot;https://localhost:8443/api/abcd/&quot;;\r\n\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(serverUrl, requestEntity, String.class);\r\n```\r\n\r\n\r\n- I got a exception from client \r\n``` \r\n\r\njavax.net.ssl|DEBUG|21|scheduling-1|2021-10-01 13:32:25.456 KST|Alert.java:238|Received alert message (\r\n&quot;Alert&quot;: {\r\n  &quot;level&quot;      : &quot;fatal&quot;,\r\n  &quot;description&quot;: &quot;bad_certificate&quot;\r\n}\r\n)\r\njavax.net.ssl|ERROR|21|scheduling-1|2021-10-01 13:32:25.457 KST|TransportContext.java:341|Fatal (BAD_CERTIFICATE): Received fatal alert: bad_certificate (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\r\n  \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n  \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:185)\r\n  \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1429)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1396)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:985)\r\n  \tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\r\n  \tat java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\r\n  \tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\r\n  \tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)\r\n  \tat java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)\r\n  \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)\r\n  \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\r\n  \tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)\r\n  \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:334)\r\n  \tat org.springframework.http.client.SimpleClientHttpResponse.getRawStatusCode(SimpleClientHttpResponse.java:55)\r\n  \tat org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:64)\r\n  \tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:807)\r\n  \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\r\n  \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n  \tat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:468)\r\n  \tat com.penta.transmitter.scheduler.SendingScheduler.sendToEdge(SendingScheduler.java:110)\r\n  \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n  \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n  \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n  \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n  \tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n  \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n  \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n  \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n  \tat java.base/java.lang.Thread.run(Thread.java:829)}\r\n\r\n)\r\njavax.net.ssl|ALL|21|scheduling-1|2021-10-01 13:32:25.457 KST|SSLSessionImpl.java:784|Invalidated session:  Session(1633062745301|TLS_AES_128_GCM_SHA256)\r\njavax.net.ssl|DEBUG|21|scheduling-1|2021-10-01 13:32:25.457 KST|SSLSocketImpl.java:1656|close the underlying socket\r\njavax.net.ssl|DEBUG|21|scheduling-1|2021-10-01 13:32:25.457 KST|SSLSocketImpl.java:1675|close the SSL connection (initiative)\r\njavax.net.ssl|WARNING|21|scheduling-1|2021-10-01 13:32:25.458 KST|SSLSocketImpl.java:1573|handling exception (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\r\n  \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n  \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:185)\r\n  \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1429)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1396)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:985)\r\n  \tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\r\n  \tat java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\r\n  \tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\r\n  \tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)\r\n  \tat java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)\r\n  \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)\r\n  \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\r\n  \tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)\r\n  \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:334)\r\n  \tat org.springframework.http.client.SimpleClientHttpResponse.getRawStatusCode(SimpleClientHttpResponse.java:55)\r\n  \tat org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:64)\r\n  \tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:807)\r\n  \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\r\n  \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n  \tat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:468)\r\n  \tat com.penta.transmitter.scheduler.SendingScheduler.sendToEdge(SendingScheduler.java:110)\r\n  \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n  \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n  \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n  \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n  \tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n  \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n  \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n  \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n  \tat java.base/java.lang.Thread.run(Thread.java:829)}\r\n\r\n)\r\n``` \r\n\r\n- and this is server&#39;s exception \r\n```\r\n2021-10-01 13:32:25.328 DEBUG 26886 --- [nio-8443-exec-5] o.a.tomcat.util.net.SecureNioChannel     : Handshake failed during wrap\r\n\r\njavax.net.ssl.SSLHandshakeException: Empty client certificate chain\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:283) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1194) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1181) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1074) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1061) ~[na:na]\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1008) ~[na:na]\r\n\tat org.apache.tomcat.util.net.SecureNioChannel.tasks(SecureNioChannel.java:429) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.net.SecureNioChannel.handshakeUnwrap(SecureNioChannel.java:493) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.net.SecureNioChannel.handshake(SecureNioChannel.java:217) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1702) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n\r\n```\r\n\r\n\r\nI was able to see answer below and fix this problem.By the way I wrote as follows.I hope to be helpful to people who are experiencing the same problem\r\n\r\n\r\n```\r\n    @Bean\r\n    public RestTemplate restTemplate() throws Exception {\r\n            SSLContext sslContext = new SSLContextBuilder()\r\n                    .loadKeyMaterial(keyStorePath, keyStorePassword.toCharArray(), keyStorePassword.toCharArray())\r\n                    .loadTrustMaterial(trustKeyStorePath, trustKeyStorePassword.toCharArray())\r\n                    .build();\r\n            SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\r\n            HttpClient httpClient = HttpClients.custom()\r\n                    .setSSLHostnameVerifier((hostname, session)-&gt;true)\r\n                    .setSSLSocketFactory(socketFactory)\r\n                    .build();\r\n            HttpComponentsClientHttpRequestFactory factory =\r\n                    new HttpComponentsClientHttpRequestFactory(httpClient);\r\n            return new RestTemplate(factory);\r\n\r\n    }\r\n```\r\n\r\n\r\n","title":"How can i solve [Received fatal alert: bad_certificate]?","body":"<p>I've created two servers locally, and I'm going to apply a mutual authentication to their communication.\nI just don't know what the problem is. I lack understanding of this mechanism, but I also lack understanding of the server itself.</p>\n<ul>\n<li>Create each key store</li>\n</ul>\n<pre><code>keytool -genkey -alias julie-server-key -keyalg RSA -keypass 11111111 -storepass 11111111 -keystore julie/src/main/resources/julie-server-key.jks -validity 365 -keysize 2048 -dname &quot;CN=localhost,OU=edge,O=edge,L=edge,S=edge,C=KR&quot;\n</code></pre>\n<pre><code>keytool -genkey -alias client-key -keyalg RSA -keypass 11111111 -storepass 11111111 -keystore transmitter/src/main/resources/client-key.jks -validity 365 -keysize 2048 -dname &quot;CN=localhost,OU=edge,O=edge,L=edge,S=edge,C=KR&quot;\n</code></pre>\n<ul>\n<li>Export to X.509 to register certificate in Truststore.</li>\n</ul>\n<pre><code>keytool -export -alias julie-server-key -keystore julie/src/main/resources/julie-server-key.jks -file server_X509.cer -storepass 11111111\n</code></pre>\n<pre><code>keytool -export -alias client-key -keystore transmitter/src/main/resources/client-key.jks -file client_X509.cer -storepass 11111111\n</code></pre>\n<ul>\n<li>Register each other's certificates in Truststore.</li>\n</ul>\n<pre><code>keytool -import -alias client-key -keystore julie/src/main/resources/server.truststore -file transmitter/src/main/resources/client_X509.cer -storepass 11111111\n</code></pre>\n<pre><code>keytool -import -alias julie-server-key -keystore transmitter/src/main/resources/client.truststore -file julie/src/main/resources/server_X509.cer -storepass 11111111\n</code></pre>\n<ul>\n<li>server's application.properties</li>\n</ul>\n<pre><code>server.port=8443\n\nserver.ssl.enabled=true\nserver.ssl.key-store=/Users/julie/IdeaProjects/cloud/julie/src/main/resources/julie-server-key.jks\nserver.ssl.key-store-password=11111111\nserver.ssl.key-store-type=jks\nserver.ssl.key-alias=julie-server-key\nerver.ssl.trust-store=/Users/julie/IdeaProjects/cloud/julie/src/main/resources/server.truststore\nserver.ssl.trust-store-password=11111111\nserver.ssl.trust-store-type=jks\nserver.ssl.client-auth=need\n</code></pre>\n<ul>\n<li>client's application.properties</li>\n</ul>\n<pre><code>server.port=8080\n\nserver.ssl.key-store=/Users/julie/IdeaProjects/cloud/transmitter/src/main/resources/client-key.jks\nserver.ssl.key-store-password=11111111\nserver.ssl.trust-store=/Users/julie/IdeaProjects/cloud/transmitter/src/main/resources/client.truststore\nserver.ssl.trust-store-password=11111111\n</code></pre>\n<ul>\n<li>The application main function of the client was set as follows. server as well</li>\n</ul>\n<pre><code>@SpringBootApplication\npublic class TransmitterApplication {\n\n    private static String keyStorePath;\n    private static String keyStorePassword;\n\n    private static String trustKeyStorePath;\n    private static String trustKeyStorePassword;\n\n\n\n    @Value(&quot;${server.ssl.key-store}&quot;)\n    public void setKeyStorePath(String keyStorePath) {\n        TransmitterApplication.keyStorePath = keyStorePath;\n    }\n\n    @Value(&quot;${server.ssl.key-store-password}&quot;)\n    public void setKeyStorePassword(String keyStorePassword) {\n        TransmitterApplication.keyStorePassword = keyStorePassword;\n    }\n\n\n    @Value(&quot;${server.ssl.trust-store}&quot;)\n    public void setTrustKeyStorePath(String trustKeyStorePath) {\n        TransmitterApplication.trustKeyStorePath = trustKeyStorePath;\n    }\n\n    @Value(&quot;${server.ssl.trust-store-password}&quot;)\n    public void setTrustKeyStorePassword(String trustKeyStorePassword) {\n        TransmitterApplication.trustKeyStorePassword = trustKeyStorePassword;\n    }\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(TransmitterApplication.class, args);\n\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, keyStorePath);\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, keyStorePassword);\n\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustKeyStorePath);\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, trustKeyStorePassword);\n\n\n    }\n</code></pre>\n<ul>\n<li>This is the part where the client calls the server's API to RestTemplate.</li>\n</ul>\n<pre><code> String serverUrl = &quot;https://localhost:8443/api/abcd/&quot;;\n\n            RestTemplate restTemplate = new RestTemplate();\n            ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(serverUrl, requestEntity, String.class);\n</code></pre>\n<ul>\n<li>I got a exception from client</li>\n</ul>\n<pre><code>\njavax.net.ssl|DEBUG|21|scheduling-1|2021-10-01 13:32:25.456 KST|Alert.java:238|Received alert message (\n&quot;Alert&quot;: {\n  &quot;level&quot;      : &quot;fatal&quot;,\n  &quot;description&quot;: &quot;bad_certificate&quot;\n}\n)\njavax.net.ssl|ERROR|21|scheduling-1|2021-10-01 13:32:25.457 KST|TransportContext.java:341|Fatal (BAD_CERTIFICATE): Received fatal alert: bad_certificate (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:185)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1429)\n    at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1396)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:985)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\n    at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:334)\n    at org.springframework.http.client.SimpleClientHttpResponse.getRawStatusCode(SimpleClientHttpResponse.java:55)\n    at org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:64)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:807)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:468)\n    at com.penta.transmitter.scheduler.SendingScheduler.sendToEdge(SendingScheduler.java:110)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)}\n\n)\njavax.net.ssl|ALL|21|scheduling-1|2021-10-01 13:32:25.457 KST|SSLSessionImpl.java:784|Invalidated session:  Session(1633062745301|TLS_AES_128_GCM_SHA256)\njavax.net.ssl|DEBUG|21|scheduling-1|2021-10-01 13:32:25.457 KST|SSLSocketImpl.java:1656|close the underlying socket\njavax.net.ssl|DEBUG|21|scheduling-1|2021-10-01 13:32:25.457 KST|SSLSocketImpl.java:1675|close the SSL connection (initiative)\njavax.net.ssl|WARNING|21|scheduling-1|2021-10-01 13:32:25.458 KST|SSLSocketImpl.java:1573|handling exception (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:185)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1429)\n    at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1396)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:985)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\n    at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:334)\n    at org.springframework.http.client.SimpleClientHttpResponse.getRawStatusCode(SimpleClientHttpResponse.java:55)\n    at org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:64)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:807)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:468)\n    at com.penta.transmitter.scheduler.SendingScheduler.sendToEdge(SendingScheduler.java:110)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)}\n\n)\n</code></pre>\n<ul>\n<li>and this is server's exception</li>\n</ul>\n<pre><code>2021-10-01 13:32:25.328 DEBUG 26886 --- [nio-8443-exec-5] o.a.tomcat.util.net.SecureNioChannel     : Handshake failed during wrap\n\njavax.net.ssl.SSLHandshakeException: Empty client certificate chain\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:283) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1194) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1181) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443) ~[na:na]\n    at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1074) ~[na:na]\n    at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1061) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(Native Method) ~[na:na]\n    at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1008) ~[na:na]\n    at org.apache.tomcat.util.net.SecureNioChannel.tasks(SecureNioChannel.java:429) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.SecureNioChannel.handshakeUnwrap(SecureNioChannel.java:493) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.SecureNioChannel.handshake(SecureNioChannel.java:217) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1702) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n\n</code></pre>\n<p>I was able to see answer below and fix this problem.By the way I wrote as follows.I hope to be helpful to people who are experiencing the same problem</p>\n<pre><code>    @Bean\n    public RestTemplate restTemplate() throws Exception {\n            SSLContext sslContext = new SSLContextBuilder()\n                    .loadKeyMaterial(keyStorePath, keyStorePassword.toCharArray(), keyStorePassword.toCharArray())\n                    .loadTrustMaterial(trustKeyStorePath, trustKeyStorePassword.toCharArray())\n                    .build();\n            SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\n            HttpClient httpClient = HttpClients.custom()\n                    .setSSLHostnameVerifier((hostname, session)-&gt;true)\n                    .setSSLSocketFactory(socketFactory)\n                    .build();\n            HttpComponentsClientHttpRequestFactory factory =\n                    new HttpComponentsClientHttpRequestFactory(httpClient);\n            return new RestTemplate(factory);\n\n    }\n</code></pre>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":4541771,"reputation":505,"user_id":3689438,"display_name":"Minnow"},"score":0,"creation_date":1649174363,"post_id":63141510,"comment_id":126806859,"body_markdown":"possible duplicate of [this](https://stackoverflow.com/questions/64928337/spring-batch-jdbcpagingitemreader-doesnt-obtain-page-1-onwards/71726384#71726384) question. check my answer [https://stackoverflow.com/a/71726384/3689438](https://stackoverflow.com/a/71726384/3689438)","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/64928337/spring-batch-jdbcpagingitemreader-doesnt-obtain-page-1-onwards/71726384#71726384\">this</a> question. check my answer <a href=\"https://stackoverflow.com/a/71726384/3689438\">https://stackoverflow.com/a/71726384/3689438</a>"}],"owner":{"account_id":19179306,"reputation":11,"user_id":14011388,"display_name":"SirohiSatish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648992751,"creation_date":1595964700,"question_id":63141510,"body_markdown":"       \r\n        \r\n    select item_num \r\n          ,T1.sht_name as &quot;\\&quot;T1.sht_name\\&quot;  (...alias set in Spring Batch Java code)\r\n          ,T2.lct_num\r\n     from ITEM T1 INNER JOIN LOCATION T2\r\n       on T1.sht_name = T2.sht_name\r\n     where T1.code = 1\r\n    orderby item_num, T1.sht_name, T2.lct_num\r\n    \r\n\r\n \r\n\r\n&gt; I have set the above query in the provider.setSelectClause,\r\n&gt; provider.setFromClause and provider.setWhereClause respectively.   I\r\n&gt; am setting the sort keys as:\r\n\r\n        \r\n    \r\n    sortConfiguration.put(&quot;item_num&quot;, Order.ASCENDING);\r\n    sortConfiguration.put(&quot;T1.sht_name&quot;, Order.ASCENDING);\r\n    sortConfiguration.put(&quot;lct_num&quot;, Order.ASCENDING);\r\n        \r\n       \r\n    \r\n    \r\n Mapper bean is :\r\n    \r\n\r\n    public class ItemBean implements Serializable {\r\n            \tprivate static final long serialVersionUID = 1L;\r\n            \tprivate int itemNum;\r\n            \tprivate String shtName;\r\n            \tprivate Integer lctNum;\r\n            }\r\n    \r\n    \r\nreader bean:\r\n    \r\n        @Bean\r\n          public JdbcPagingItemReader&lt;ItemBean &gt; testBatchReader() {\r\n        \r\n            JdbcPagingItemReader&lt;ItemBean &gt; reader = new JdbcPagingItemReader&lt;&gt;();\r\n            reader.setDataSource(db2Config.db2DataSource());\r\n            reader.setQueryProvider(queryProvider());\r\n            reader.setPageSize(chunkSize);\r\n            reader.setRowMapper(new BeanPropertyRowMapper&lt;&gt;(ItemBean.class));\r\n        \r\n            return reader;\r\n          }\r\n    \r\n    \r\n\r\n&gt; However, when I execute the Batch, null is obtained for *shtName*. That\r\n&gt; implies the fetched column is not getting mapped to the Mapper bean\r\n&gt; attribute *shtName*. Any help would be appreciated. (I am thinking to\r\n&gt; use **RepositoryItemReader** if this cannot be mapped but there too I\r\n&gt; am not sure how to map the sort keys for the dependent table\r\n&gt; (LOCATION) column (*T2.sht_name)*).\r\n\r\n","title":"Spring Batch, JdbcPagingItemReader - alias doesn&#39;t map to the Mapper bean attribute","body":"<pre><code>select item_num \n      ,T1.sht_name as &quot;\\&quot;T1.sht_name\\&quot;  (...alias set in Spring Batch Java code)\n      ,T2.lct_num\n from ITEM T1 INNER JOIN LOCATION T2\n   on T1.sht_name = T2.sht_name\n where T1.code = 1\norderby item_num, T1.sht_name, T2.lct_num\n</code></pre>\n<blockquote>\n<p>I have set the above query in the provider.setSelectClause,\nprovider.setFromClause and provider.setWhereClause respectively.   I\nam setting the sort keys as:</p>\n</blockquote>\n<pre><code>sortConfiguration.put(&quot;item_num&quot;, Order.ASCENDING);\nsortConfiguration.put(&quot;T1.sht_name&quot;, Order.ASCENDING);\nsortConfiguration.put(&quot;lct_num&quot;, Order.ASCENDING);\n    \n   \n</code></pre>\n<p>Mapper bean is :</p>\n<pre><code>public class ItemBean implements Serializable {\n            private static final long serialVersionUID = 1L;\n            private int itemNum;\n            private String shtName;\n            private Integer lctNum;\n        }\n</code></pre>\n<p>reader bean:</p>\n<pre><code>    @Bean\n      public JdbcPagingItemReader&lt;ItemBean &gt; testBatchReader() {\n    \n        JdbcPagingItemReader&lt;ItemBean &gt; reader = new JdbcPagingItemReader&lt;&gt;();\n        reader.setDataSource(db2Config.db2DataSource());\n        reader.setQueryProvider(queryProvider());\n        reader.setPageSize(chunkSize);\n        reader.setRowMapper(new BeanPropertyRowMapper&lt;&gt;(ItemBean.class));\n    \n        return reader;\n      }\n</code></pre>\n<blockquote>\n<p>However, when I execute the Batch, null is obtained for <em>shtName</em>. That\nimplies the fetched column is not getting mapped to the Mapper bean\nattribute <em>shtName</em>. Any help would be appreciated. (I am thinking to\nuse <strong>RepositoryItemReader</strong> if this cannot be mapped but there too I\nam not sure how to map the sort keys for the dependent table\n(LOCATION) column (<em>T2.sht_name)</em>).</p>\n</blockquote>\n"},{"tags":["java","android","gradle","build","dependencies"],"comments":[{"owner":{"account_id":16656111,"reputation":411,"user_id":12037478,"display_name":"mohsen sameti"},"score":0,"creation_date":1648849164,"post_id":71712481,"comment_id":126736869,"body_markdown":"Have you tried gradle&#39;s `refreshDependecies`?? also is [this](https://github.com/Gericop/Android-Support-Preference-V7-Fix) the library? because it should be added differently","body":"Have you tried gradle&#39;s <code>refreshDependecies</code>?? also is <a href=\"https://github.com/Gericop/Android-Support-Preference-V7-Fix\" rel=\"nofollow noreferrer\">this</a> the library? because it should be added differently"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1648882017,"post_id":71712481,"comment_id":126740548,"body_markdown":"don&#39;t you think you need to update Android Studio? You are using a very old version","body":"don&#39;t you think you need to update Android Studio? You are using a very old version"},{"owner":{"account_id":24787903,"reputation":1,"user_id":18671020,"display_name":"Pawz"},"score":0,"creation_date":1648992105,"post_id":71712481,"comment_id":126757995,"body_markdown":"@mohsensameti yes this was super helpful! Really basic mistake but I didn&#39;t realize that the &#39;$androidxVersion&#39; or &#39;$nav_version&#39; were placeholders that need to be replaced with the desired version code!! Once I updated those, everything is running well again. Thank you!!","body":"@mohsensameti yes this was super helpful! Really basic mistake but I didn&#39;t realize that the &#39;$androidxVersion&#39; or &#39;$nav_version&#39; were placeholders that need to be replaced with the desired version code!! Once I updated those, everything is running well again. Thank you!!"},{"owner":{"account_id":24787903,"reputation":1,"user_id":18671020,"display_name":"Pawz"},"score":0,"creation_date":1648992128,"post_id":71712481,"comment_id":126758005,"body_markdown":"@Sambhav.K interesting, I&#39;ll look into updating. Out of curiosity, how can you tell which version I am using?","body":"@Sambhav.K interesting, I&#39;ll look into updating. Out of curiosity, how can you tell which version I am using?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1648995160,"post_id":71712481,"comment_id":126758689,"body_markdown":"No idea. Many versions had this. But, u can update it","body":"No idea. Many versions had this. But, u can update it"}],"answers":[{"tags":[],"owner":{"account_id":24787903,"reputation":1,"user_id":18671020,"display_name":"Pawz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648992341,"creation_date":1648992341,"answer_id":71726341,"question_id":71712481,"body_markdown":"Thanks to @Mohsensameti realized that my build.gradle file was throwing errors because I didn&#39;t update the version code for my implementation dependencies. \r\n\r\nFor example, when the implementation ends in &#39;$androidxVersion&#39; or &#39;$nav_version&#39;...then those need to be replaced with the desired version code (e.g., 2.4.1)\r\n\r\nSuper straightforward solution that solved it immediately!!","title":"Build failed: could not resolve com.takisoft.fix:preference-v7:25.3.0.0","body":"<p>Thanks to @Mohsensameti realized that my build.gradle file was throwing errors because I didn't update the version code for my implementation dependencies.</p>\n<p>For example, when the implementation ends in '$androidxVersion' or '$nav_version'...then those need to be replaced with the desired version code (e.g., 2.4.1)</p>\n<p>Super straightforward solution that solved it immediately!!</p>\n"}],"owner":{"account_id":24787903,"reputation":1,"user_id":18671020,"display_name":"Pawz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648992341,"creation_date":1648845209,"question_id":71712481,"body_markdown":"very new to coding. I successfully built, tested, and uploaded my very simple Android App to Google Play. But since building version 2 and trying to generate the APK, I&#39;m running into this Build Gradle and ReleaseSigningConfig issue: \r\n\r\n:app:writeReleaseSigningConfigVersions:\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:dataBindingMergeDependencyArtifactsRelease&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:releaseCompileClasspath&#39;.\r\n&gt; Could not find com.takisoft.fix:preference-v7:25.3.0.0.\r\n     Required by:\r\n         project :app\r\n\r\n**Note takisoft is already in build.grade (:app)...How come it can&#39;t be found?**\r\n\r\nAny advice would be SUPER appreciated, I&#39;ve tried everything I could find online. Including: \r\n\r\n - Checking gradle offline mode\r\n - Updating Grade Plugins and other dependencies \r\n - Invalidate Cache/Restart and Syncing Gradle (painfully this also deleted Local History)\r\n \r\n\r\n**AndroidManifest**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:versionCode=&quot;2&quot;\r\n        android:versionName=&quot;1.1&quot;\r\n        android:compileSdkVersion=&quot;32&quot;\r\n        android:compileSdkVersionCodename=&quot;12&quot;\r\n        package=&quot;com.AppName&quot;&gt;\r\n    \r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.AppName&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/blue_paw_icon&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@drawable/blue_paw_icon&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AppName&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.SettingsActivity&quot;\r\n                android:exported=&quot;true&quot; /&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;meta-data\r\n                android:name=&quot;preloaded_fonts&quot;\r\n                android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n    \r\n            &lt;receiver\r\n                android:name=&quot;.AlarmReceiver&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.action.DISPLAY_NOTIFICATION&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n\r\n**build.gradle (:app)**\r\n\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n     }\r\n    \r\n     android {\r\n        signingConfigs {\r\n           release {\r\n                storeFile file(&#39;FILE_PATH&#39;)\r\n                storePassword &#39;...&#39;\r\n                keyAlias &#39;...&#39;\r\n                keyPassword &#39;...&#39;\r\n            }\r\n        }\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.AppName&quot;\r\n            minSdk 16\r\n            targetSdk 32\r\n            versionCode 2\r\n            versionName &quot;1.1&quot;\r\n            multiDexEnabled true\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            signingConfig signingConfigs.release\r\n        }\r\n    \r\n        signingConfigs {\r\n            debug {\r\n                storeFile file(&#39;FILE_PATH&#39;)\r\n                storePassword &#39;...&#39;\r\n                keyPassword &#39;...&#39;\r\n                keyAlias &#39;AppName&#39;\r\n            }\r\n            release {\r\n                keyAlias &#39;AppName&#39;\r\n                keyPassword &#39;...&#39;\r\n                storeFile file(&#39;FILE_PATH&#39;)\r\n                storePassword &#39;...&#39;\r\n            }\r\n        }\r\n    \r\n    \r\n        buildTypes {\r\n            release {\r\n                shrinkResources true\r\n                minifyEnabled true\r\n                debuggable false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.release\r\n    \r\n            }\r\n            debug {\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n        }\r\n     }\r\n    \r\n     dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.1&#39;\r\n        implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n        implementation &#39;androidx.vectordrawable:vectordrawable:1.1.0&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.1&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.3.5&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.3.5&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        implementation &#39;androidx.core:core-ktx:1.6.0&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \r\n        def nav_version = &quot;2.4.1&quot;\r\n    \r\n        implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n    \r\n        implementation platform(&#39;com.google.firebase:firebase-bom:26.2.0&#39;)\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    \r\n        implementation &#39;com.google.firebase:firebase-messaging:23.0.2&#39;\r\n    \r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation &#39;com.takisoft.fix:preference-v7:25.3.0.0&#39;\r\n    \r\n    }\r\n\r\n\r\n**build.gradle (project)**\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10-RC&quot;\r\n   \r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n        google()\r\n            mavenCentral()\r\n    \r\n    }}\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }","title":"Build failed: could not resolve com.takisoft.fix:preference-v7:25.3.0.0","body":"<p>very new to coding. I successfully built, tested, and uploaded my very simple Android App to Google Play. But since building version 2 and trying to generate the APK, I'm running into this Build Gradle and ReleaseSigningConfig issue:</p>\n<h2>:app:writeReleaseSigningConfigVersions:\n1: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:dataBindingMergeDependencyArtifactsRelease'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:releaseCompileClasspath'.\nCould not find com.takisoft.fix:preference-v7:25.3.0.0.\nRequired by:\nproject :app</p>\n</blockquote>\n<p><strong>Note takisoft is already in build.grade (:app)...How come it can't be found?</strong></p>\n<p>Any advice would be SUPER appreciated, I've tried everything I could find online. Including:</p>\n<ul>\n<li>Checking gradle offline mode</li>\n<li>Updating Grade Plugins and other dependencies</li>\n<li>Invalidate Cache/Restart and Syncing Gradle (painfully this also deleted Local History)</li>\n</ul>\n<p><strong>AndroidManifest</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:versionCode=&quot;2&quot;\n    android:versionName=&quot;1.1&quot;\n    android:compileSdkVersion=&quot;32&quot;\n    android:compileSdkVersionCodename=&quot;12&quot;\n    package=&quot;com.AppName&quot;&gt;\n\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;.AppName&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/blue_paw_icon&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@drawable/blue_paw_icon&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AppName&quot;&gt;\n        &lt;activity\n            android:name=&quot;.SettingsActivity&quot;\n            android:exported=&quot;true&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;meta-data\n            android:name=&quot;preloaded_fonts&quot;\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\n\n        &lt;receiver\n            android:name=&quot;.AlarmReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.action.DISPLAY_NOTIFICATION&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>build.gradle (:app)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n }\n\n android {\n    signingConfigs {\n       release {\n            storeFile file('FILE_PATH')\n            storePassword '...'\n            keyAlias '...'\n            keyPassword '...'\n        }\n    }\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.AppName&quot;\n        minSdk 16\n        targetSdk 32\n        versionCode 2\n        versionName &quot;1.1&quot;\n        multiDexEnabled true\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        signingConfig signingConfigs.release\n    }\n\n    signingConfigs {\n        debug {\n            storeFile file('FILE_PATH')\n            storePassword '...'\n            keyPassword '...'\n            keyAlias 'AppName'\n        }\n        release {\n            keyAlias 'AppName'\n            keyPassword '...'\n            storeFile file('FILE_PATH')\n            storePassword '...'\n        }\n    }\n\n\n    buildTypes {\n        release {\n            shrinkResources true\n            minifyEnabled true\n            debuggable false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n\n        }\n        debug {\n            signingConfig signingConfigs.release\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n }\n\n dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.1'\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'androidx.vectordrawable:vectordrawable:1.1.0'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1'\n    implementation 'androidx.navigation:navigation-fragment:2.3.5'\n    implementation 'androidx.navigation:navigation-ui:2.3.5'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    testImplementation 'junit:junit:4.+'\n    implementation 'androidx.core:core-ktx:1.6.0'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    def nav_version = &quot;2.4.1&quot;\n\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n\n    implementation platform('com.google.firebase:firebase-bom:26.2.0')\n    implementation 'com.google.firebase:firebase-analytics'\n\n    implementation 'com.google.firebase:firebase-messaging:23.0.2'\n\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.takisoft.fix:preference-v7:25.3.0.0'\n\n}\n</code></pre>\n<p><strong>build.gradle (project)</strong></p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.4'\n        classpath 'com.google.gms:google-services:4.3.10'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10-RC&quot;\n\n    }\n}\n\nallprojects {\n    repositories {\n    google()\n        mavenCentral()\n\n}}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","retrofit2","okhttp"],"answers":[{"tags":[],"owner":{"account_id":6764827,"reputation":61,"user_id":5210138,"display_name":"RAMCODER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647006649,"creation_date":1646980897,"answer_id":71434556,"question_id":71393447,"body_markdown":"Depend on your requirement \r\naddBody() function you are not passing any param here. need to pass param.\r\n\r\nlook like api construction in your code missing .\r\nplease follow link to know more-\r\nhttps://www.chillcoding.com/android-retrofit-send-http/\r\n\r\n++ update \r\ndepend on your comment  i think you not get direct answer , i am not give direct answer, its depend on exact architecture you following.\r\nlittle bit more info \r\njava.lang.IllegalArgumentException: code &lt; 400: -1\r\nits define architecture.\r\n\r\n     if (code &lt; 400) throw new IllegalArgumentException(&quot;code &lt; 400: &quot; + code);\r\n\r\n**here i suggest you how you going to return result its quite complicated , you try with some custom class with error handle and success handle.**\r\n\r\n    data class ResponseByApi(val success: Any, val code: Int, val \r\n    error : Any)\r\n\r\n create response model class and set value as per network response \r\nlike success set success body and code else if fail set error body and code -&gt; return as per response.\r\n\r\n","title":"How to create dummy ResponseBody object which required by OkHttp?","body":"<p>Depend on your requirement\naddBody() function you are not passing any param here. need to pass param.</p>\n<p>look like api construction in your code missing .\nplease follow link to know more-\n<a href=\"https://www.chillcoding.com/android-retrofit-send-http/\" rel=\"nofollow noreferrer\">https://www.chillcoding.com/android-retrofit-send-http/</a></p>\n<p>++ update\ndepend on your comment  i think you not get direct answer , i am not give direct answer, its depend on exact architecture you following.\nlittle bit more info\njava.lang.IllegalArgumentException: code &lt; 400: -1\nits define architecture.</p>\n<pre><code> if (code &lt; 400) throw new IllegalArgumentException(&quot;code &lt; 400: &quot; + code);\n</code></pre>\n<p><strong>here i suggest you how you going to return result its quite complicated , you try with some custom class with error handle and success handle.</strong></p>\n<pre><code>data class ResponseByApi(val success: Any, val code: Int, val \nerror : Any)\n</code></pre>\n<p>create response model class and set value as per network response\nlike success set success body and code else if fail set error body and code -&gt; return as per response.</p>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647034955,"creation_date":1647033534,"answer_id":71444740,"question_id":71393447,"body_markdown":"I see that the code looks:\r\n\r\n```\r\npublic static &lt;T&gt; Response&lt;T&gt; error(int code, ResponseBody body) {\r\n    Objects.requireNonNull(body, &quot;body == null&quot;);\r\n    if (code &lt; 400) throw new IllegalArgumentException(&quot;code &lt; 400: &quot; + code);\r\n    return ... // build error response\r\n}\r\n```\r\n\r\nAnd you call it:\r\n\r\n&gt;val response: Response&lt;ReviewResponse&gt; = Response.error(-1, null)\r\n\r\nThus, it will fail by [NullPointerException](https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#requireNonNull-T-java.lang.String-).\r\n\r\nEven if you comment on this line, it will fail by `IllegalArgumentException` because the code is less than `400`.\r\n\r\nHowever, you need to return `Response&lt;ReviewResponse&gt;` type. \r\n\r\nYou could use `ResponseEntity` for this:\r\n\r\n&gt;new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n\r\nIt will be exactly ***creating dummy ResponseBody object which required by OkHttp***. But you need to use `ResponseEntity` instead of Response.\r\n\r\nOr you could throw exception, like:\r\n\r\n```\r\nthrow new ResponseStatusException(\r\n    HttpStatus.NOT_FOUND, &quot;entity not found&quot;\r\n);\r\n```\r\n\r\nFrom `org.springframework.web.server.ResponseStatusException`","title":"How to create dummy ResponseBody object which required by OkHttp?","body":"<p>I see that the code looks:</p>\n<pre><code>public static &lt;T&gt; Response&lt;T&gt; error(int code, ResponseBody body) {\n    Objects.requireNonNull(body, &quot;body == null&quot;);\n    if (code &lt; 400) throw new IllegalArgumentException(&quot;code &lt; 400: &quot; + code);\n    return ... // build error response\n}\n</code></pre>\n<p>And you call it:</p>\n<blockquote>\n<p>val response: Response = Response.error(-1, null)</p>\n</blockquote>\n<p>Thus, it will fail by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#requireNonNull-T-java.lang.String-\" rel=\"nofollow noreferrer\">NullPointerException</a>.</p>\n<p>Even if you comment on this line, it will fail by <code>IllegalArgumentException</code> because the code is less than <code>400</code>.</p>\n<p>However, you need to return <code>Response&lt;ReviewResponse&gt;</code> type.</p>\n<p>You could use <code>ResponseEntity</code> for this:</p>\n<blockquote>\n<p>new ResponseEntity&lt;&gt;(HttpStatus.OK);</p>\n</blockquote>\n<p>It will be exactly <em><strong>creating dummy ResponseBody object which required by OkHttp</strong></em>. But you need to use <code>ResponseEntity</code> instead of Response.</p>\n<p>Or you could throw exception, like:</p>\n<pre><code>throw new ResponseStatusException(\n    HttpStatus.NOT_FOUND, &quot;entity not found&quot;\n);\n</code></pre>\n<p>From <code>org.springframework.web.server.ResponseStatusException</code></p>\n"},{"tags":[],"owner":{"account_id":14507747,"reputation":605,"user_id":10479081,"display_name":"Shogun Nassar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647423632,"creation_date":1647423632,"answer_id":71494708,"question_id":71393447,"body_markdown":"You can create a result data class like this \r\n\r\n   \r\n\r\n     data class ApiResult&lt;out T&gt;(\r\n        val status: Status,\r\n        val data: T?,\r\n        val error: Throwable?,\r\n        val message: String?\r\n    ) {\r\n    \r\n        enum class Status {\r\n            SUCCESS,\r\n            ERROR,\r\n            LOADING\r\n        }\r\n    \r\n        companion object {\r\n            fun &lt;T&gt; success(data: T?): ApiResult&lt;T&gt; {\r\n                return ApiResult(Status.SUCCESS, data, null, null)\r\n            }\r\n    \r\n            fun &lt;T&gt; error(message: String, error: Throwable?): ApiResult&lt;T&gt; {\r\n                return ApiResult(Status.ERROR, null, error, message)\r\n            }\r\n    \r\n            fun &lt;T&gt; loading(data: T? = null): ApiResult&lt;T&gt; {\r\n                return ApiResult(Status.LOADING, data, null, null)\r\n            }\r\n        }\r\n    \r\n        override fun toString(): String {\r\n            return &quot;Result(status=$status, data=$data, error=$error, message=$message)&quot;\r\n        }\r\n    }\r\n\r\nand then create your custom base response like this \r\n\r\n     data class CommonResponse&lt;T&gt;(\r\n        @SerializedName(&quot;error&quot;) val error: Boolean,\r\n        @SerializedName(&quot;status&quot;) val status: Int,\r\n        @SerializedName(&quot;message&quot;) val message: String?,\r\n        @SerializedName(&quot;response&quot;) val response: T?\r\n    )\r\n\r\nand assign them like this in retrofit\r\n \r\n\r\n    suspend fun &lt;T&gt; getResponse(\r\n            request: suspend () -&gt; Response&lt;T&gt;\r\n        ): ApiResult&lt;T&gt; {\r\n            return try {\r\n                val result = request.invoke()\r\n                if (result.isSuccessful) {\r\n                    return ApiResult.success(result.body())\r\n                } else {\r\n    \r\n                    ApiResult.error(&quot;Error&quot;, null)\r\n                }\r\n            } catch (e: Throwable) {\r\n                ApiResult.error(&quot;Unkown Error&quot;, e)\r\n            }\r\n        }\r\n and use them like this in call\r\n\r\n    interface CheckWhereApi {\r\n        //Check Where API\r\n        @GET(&quot;url&quot;)\r\n        suspend fun checkWhere(): Response&lt;CommonResponse&lt;MyModel&gt;&gt;\r\n    }\r\n\r\n ","title":"How to create dummy ResponseBody object which required by OkHttp?","body":"<p>You can create a result data class like this</p>\n<pre><code> data class ApiResult&lt;out T&gt;(\n    val status: Status,\n    val data: T?,\n    val error: Throwable?,\n    val message: String?\n) {\n\n    enum class Status {\n        SUCCESS,\n        ERROR,\n        LOADING\n    }\n\n    companion object {\n        fun &lt;T&gt; success(data: T?): ApiResult&lt;T&gt; {\n            return ApiResult(Status.SUCCESS, data, null, null)\n        }\n\n        fun &lt;T&gt; error(message: String, error: Throwable?): ApiResult&lt;T&gt; {\n            return ApiResult(Status.ERROR, null, error, message)\n        }\n\n        fun &lt;T&gt; loading(data: T? = null): ApiResult&lt;T&gt; {\n            return ApiResult(Status.LOADING, data, null, null)\n        }\n    }\n\n    override fun toString(): String {\n        return &quot;Result(status=$status, data=$data, error=$error, message=$message)&quot;\n    }\n}\n</code></pre>\n<p>and then create your custom base response like this</p>\n<pre><code> data class CommonResponse&lt;T&gt;(\n    @SerializedName(&quot;error&quot;) val error: Boolean,\n    @SerializedName(&quot;status&quot;) val status: Int,\n    @SerializedName(&quot;message&quot;) val message: String?,\n    @SerializedName(&quot;response&quot;) val response: T?\n)\n</code></pre>\n<p>and assign them like this in retrofit</p>\n<pre><code>suspend fun &lt;T&gt; getResponse(\n        request: suspend () -&gt; Response&lt;T&gt;\n    ): ApiResult&lt;T&gt; {\n        return try {\n            val result = request.invoke()\n            if (result.isSuccessful) {\n                return ApiResult.success(result.body())\n            } else {\n\n                ApiResult.error(&quot;Error&quot;, null)\n            }\n        } catch (e: Throwable) {\n            ApiResult.error(&quot;Unkown Error&quot;, e)\n        }\n    }\n</code></pre>\n<p>and use them like this in call</p>\n<pre><code>interface CheckWhereApi {\n    //Check Where API\n    @GET(&quot;url&quot;)\n    suspend fun checkWhere(): Response&lt;CommonResponse&lt;MyModel&gt;&gt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":345487,"reputation":5160,"user_id":678448,"accept_rate":60,"display_name":"Thommy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647445848,"creation_date":1647445848,"answer_id":71500182,"question_id":71393447,"body_markdown":"What about this:\r\n\r\n    Response.error(404, ResponseBody.create(null, &quot;Not found response body&quot;))","title":"How to create dummy ResponseBody object which required by OkHttp?","body":"<p>What about this:</p>\n<pre><code>Response.error(404, ResponseBody.create(null, &quot;Not found response body&quot;))\n</code></pre>\n"}],"owner":{"display_name":"user14016240"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2762,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1648992161,"creation_date":1646735316,"question_id":71393447,"body_markdown":"I am passing `null` right now, which causes a crash!\r\n\r\nSee: `val response: Response&lt;ReviewResponse&gt; = Response.error(-1, null)`\r\n\r\n**Code:**\r\n\r\n    suspend fun getReviewData() = getResult {\r\n            try {\r\n                apiService.getReviewData(getCustomerId())\r\n            } catch (e: Exception) {\r\n                val response: Response&lt;ReviewResponse&gt; = Response.error(-1, null)\r\n                response\r\n            }\r\n        }\r\n    \r\n       \r\n\r\n\r\nAs you can see null is not accepting internally, and I must need pass this: `ResponseBody body`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rzc2O.png","title":"How to create dummy ResponseBody object which required by OkHttp?","body":"<p>I am passing <code>null</code> right now, which causes a crash!</p>\n<p>See: <code>val response: Response&lt;ReviewResponse&gt; = Response.error(-1, null)</code></p>\n<p><strong>Code:</strong></p>\n<pre><code>suspend fun getReviewData() = getResult {\n        try {\n            apiService.getReviewData(getCustomerId())\n        } catch (e: Exception) {\n            val response: Response&lt;ReviewResponse&gt; = Response.error(-1, null)\n            response\n        }\n    }\n\n   \n</code></pre>\n<p>As you can see null is not accepting internally, and I must need pass this: <code>ResponseBody body</code></p>\n<p><a href=\"https://i.stack.imgur.com/rzc2O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rzc2O.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","admob","gdprconsentform"],"comments":[{"owner":{"account_id":10004905,"reputation":262,"user_id":7399693,"display_name":"CodeJoe"},"score":0,"creation_date":1640101770,"post_id":67616371,"comment_id":124512979,"body_markdown":"Have you found solution? I&#39;m struggling with with similar issue","body":"Have you found solution? I&#39;m struggling with with similar issue"}],"answers":[{"tags":[],"owner":{"account_id":1964787,"reputation":1922,"user_id":1765341,"accept_rate":88,"display_name":"stefan.m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648991850,"creation_date":1648991850,"answer_id":71726285,"question_id":67616371,"body_markdown":"The problem might be that you call \r\n\r\n `super.onCreate(savedInstanceState);`\r\n\r\nbefore \r\n\r\n`setContentView(R.layout.activity_category);`\r\n\r\nI moved all Consent-Related code to a separate method `initializeConsent()` in the base class, and I called `initializeConsent()` as last method in my subclass&#39;s `onCreate()` method.\r\n\r\nAdditionally, I call\r\n\r\n` MobileAds.initialize`\r\n\r\nonly in method `onConsentFormLoadSuccess`, it then looks like this:\r\n\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void onConsentFormLoadSuccess(ConsentForm consentForm) {\r\n    \t\t\t\t\t\tDisplayNumberActivity.this.consentForm = consentForm;\r\n    \t\t\t\t\t\tif(consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\r\n    \t\t\t\t\t\t\tconsentForm.show(\r\n    \t\t\t\t\t\t\t\t\tDisplayNumberActivity.this,\r\n    \t\t\t\t\t\t\t\t\tnew ConsentForm.OnConsentFormDismissedListener() {\r\n    \t\t\t\t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\t\t\t\tpublic void onConsentFormDismissed(@Nullable FormError formError) {\r\n    \t\t\t\t\t\t\t\t\t\t\t//reset all DSGVO information for next trial\r\n    \t\t\t\t\t\t\t\t\t\t\t// Handle dismissal by reloading form.\r\n    \t\t\t\t\t\t\t\t\t\t\tloadForm(); //neuerlicher Aufruf, sollte nun ConsentStatus == ConsentInformation.ConsentStatus.OBTAINED haben. Dort wird dann initializeMobileAds() aufgerufen\r\n    \r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t});\r\n    \r\n    \t\t\t\t\t\t} else if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED\r\n    \t\t\t\t\t\t\t\t|| consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.NOT_REQUIRED) {\r\n    \t\t\t\t\t\t\t//Form muss nicht mehr angezeigt werden, Ads k&#246;nnen geladen werden\r\n    \t\t\t\t\t\t\tif (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED) {\r\n    \t\t\t\t\t\t\t\tlogInfo(&quot;DSGVO Consent obtained&quot;);\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\tlogInfo(&quot;DSGVO Consent not required&quot;);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t//ads k&#246;nnen jedenfalls geladen werden, Admob checkt ob es personalisierte werbung sein darf\r\n    \t\t\t\t\t\t\t\t\tinitializeMobileAds();\r\n    \r\n    \r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tToast.makeText(DisplayNumberActivity.this, &quot;DSGVO Consent status: &quot; + consentInformation.getConsentStatus(), Toast.LENGTH_LONG).show();\r\n    \t\t\t\t\t\t\tlogInfo(&quot;unexpected DSGVO Consent: &quot;  + consentInformation.getConsentStatus());\r\n    \t\t\t\t\t\t\tinitializeMobileAds();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t}","title":"Consent form GDPR UserMessagingPlatform: No available form can be built","body":"<p>The problem might be that you call</p>\n<p><code>super.onCreate(savedInstanceState);</code></p>\n<p>before</p>\n<p><code>setContentView(R.layout.activity_category);</code></p>\n<p>I moved all Consent-Related code to a separate method <code>initializeConsent()</code> in the base class, and I called <code>initializeConsent()</code> as last method in my subclass's <code>onCreate()</code> method.</p>\n<p>Additionally, I call</p>\n<p><code> MobileAds.initialize</code></p>\n<p>only in method <code>onConsentFormLoadSuccess</code>, it then looks like this:</p>\n<pre><code>                    @Override\n                    public void onConsentFormLoadSuccess(ConsentForm consentForm) {\n                        DisplayNumberActivity.this.consentForm = consentForm;\n                        if(consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\n                            consentForm.show(\n                                    DisplayNumberActivity.this,\n                                    new ConsentForm.OnConsentFormDismissedListener() {\n                                        @Override\n                                        public void onConsentFormDismissed(@Nullable FormError formError) {\n                                            //reset all DSGVO information for next trial\n                                            // Handle dismissal by reloading form.\n                                            loadForm(); //neuerlicher Aufruf, sollte nun ConsentStatus == ConsentInformation.ConsentStatus.OBTAINED haben. Dort wird dann initializeMobileAds() aufgerufen\n\n                                        }\n                                    });\n\n                        } else if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED\n                                || consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.NOT_REQUIRED) {\n                            //Form muss nicht mehr angezeigt werden, Ads knnen geladen werden\n                            if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED) {\n                                logInfo(&quot;DSGVO Consent obtained&quot;);\n                            } else {\n                                logInfo(&quot;DSGVO Consent not required&quot;);\n                            }\n                            //ads knnen jedenfalls geladen werden, Admob checkt ob es personalisierte werbung sein darf\n                                    initializeMobileAds();\n\n\n                        } else {\n                            Toast.makeText(DisplayNumberActivity.this, &quot;DSGVO Consent status: &quot; + consentInformation.getConsentStatus(), Toast.LENGTH_LONG).show();\n                            logInfo(&quot;unexpected DSGVO Consent: &quot;  + consentInformation.getConsentStatus());\n                            initializeMobileAds();\n                        }\n                }\n</code></pre>\n"}],"owner":{"account_id":21113984,"reputation":31,"user_id":15521595,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648991850,"creation_date":1621497910,"question_id":67616371,"body_markdown":"I am using Obtaining Consent with the User Messaging Platform in my application: https://developers.google.com/admob/ump/android/quick-start\r\n\r\nThe consent form is not shown on the screen at the start of the activity.\r\n\r\nThe logs show the triggering of the method after onResume, but the form does not appear on the eran. What&#39;s wrong with my code?\r\n\r\nIn run, I found the lines:\r\n\r\nUserMessagingPlatform: No available form can be built.\r\n\r\nD / UserMessagingPlatform: Stored info not exists: IDFA_freqCapNumViews\r\n    Stored info not exists: IABTCF_TCString\r\n    Stored info not exists: IABTCF_AddtlConsent\r\nI / System.out: (HTTPLog) -Static: isSBSettingEnabled false\r\n    (HTTPLog) -Static: isSBSettingEnabled false\r\n\r\n\r\nD / UserMessagingPlatform: Action [clear]: {&quot;keys&quot;: [&quot;IABTCF_CmpSdkID&quot;, &quot;IABTCF_CmpSdkVersion&quot;, &quot;IABTCF_PolicyVersion&quot;, &quot;IABTCF_gdprApplies&quot;, &quot;IABTCF_PublisherCC&quot;, &quot;IABTCFreat_Streats&quot; , &quot;IABTCF_VendorLegitimateInterests&quot;, &quot;IABTCF_PurposeConsents&quot;, &quot;IABTCF_PurposeLegitimateInterests&quot;, &quot;IABTCF_SpecialFeaturesOptIns&quot;, &quot;IABTCF_PublisherConsent&quot;, &quot;IABTCF_PublisherLegitimateInterests&quot;, &quot;IABTCF_PublisherCustomPurposesConsents&quot;, &quot;IABTCF_PublisherCustomPurposesLegitimateInterests&quot;, &quot;IABTCF_AddtlConsent&quot;, &quot;IABTCF_UserConsentRecordId&quot;, &quot;IABTCF_idfaFlowControl&quot;]}\r\nD / UserMessagingPlatform: Action [write]: {&quot;IABTCF_idfaFlowControl&quot;: 2}\r\n\r\n\r\nWhat&#39;s wrong with my code?\r\n\r\n```\r\npublic abstract class BaseActivity extends AppCompatActivity {\r\n\r\n    private final String TAG = &quot;ART_APP&quot;;\r\n    private SharedPreferences sp;\r\n\r\n    private ConsentInformation consentInformation;\r\n    private ConsentForm consentForm;\r\n    final String LOG_TAG = &quot;myLogs&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        this.sp = getSharedPreferences(Sp.SP_KEY, Context.MODE_PRIVATE);\r\n        ConsentDebugSettings debugSettings = new ConsentDebugSettings.Builder(this)\r\n                .setDebugGeography(ConsentDebugSettings\r\n                        .DebugGeography\r\n                        .DEBUG_GEOGRAPHY_EEA)\r\n                .addTestDeviceHashedId(&quot;C258BF9BE13D842B973A20309A39C080&quot;)\r\n                .build();\r\n\r\n        ConsentRequestParameters params = new ConsentRequestParameters\r\n                .Builder()\r\n                .setConsentDebugSettings(debugSettings)\r\n                .build();\r\n\r\n        consentInformation = UserMessagingPlatform.getConsentInformation(this);\r\n        consentInformation.requestConsentInfoUpdate(\r\n                this,\r\n                params,\r\n                new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\r\n                    @Override\r\n                    public void onConsentInfoUpdateSuccess() {\r\n                        // The consent information state was updated.\r\n                        // You are now ready to check if a form is available.\r\n                        if (consentInformation.isConsentFormAvailable()) {\r\n                            loadForm();\r\n                        }\r\n                    }\r\n                },\r\n                new ConsentInformation.OnConsentInfoUpdateFailureListener() {\r\n                    @Override\r\n                    public void onConsentInfoUpdateFailure(FormError formError) {\r\n                        // Handle the error.\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n\r\n    public SharedPreferences getSp() {\r\n        return sp;\r\n    }\r\n    public void loadForm(){\r\n        Log.d(LOG_TAG, &quot;showconsent&quot;);\r\n        UserMessagingPlatform.loadConsentForm(\r\n                this,\r\n                new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\r\n                    @Override\r\n                    public void onConsentFormLoadSuccess(ConsentForm consentForm) {\r\n                        BaseActivity.this.consentForm = consentForm;\r\n                        if(consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.UNKNOWN) {\r\n                            consentForm.show(\r\n                                    BaseActivity.this,\r\n                                    new ConsentForm.OnConsentFormDismissedListener() {\r\n                                        @Override\r\n                                        public void onConsentFormDismissed(@Nullable FormError formError) {\r\n                                            // Handle dismissal by reloading form.\r\n                                            loadForm();\r\n                                        }\r\n                                    });\r\n\r\n                        }\r\n\r\n                    }\r\n                },\r\n                new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\r\n                    @Override\r\n                    public void onConsentFormLoadFailure(FormError formError) {\r\n                        /// Handle Error.\r\n                    }\r\n                }\r\n        );\r\n    }\r\n    /**\r\n     *    \r\n     *\r\n     * @param stringId\r\n     * @return\r\n     */\r\n    public String getSpString(String stringId) {\r\n        return getResources().getString(sp.getInt(stringId, 0));\r\n    }\r\n\r\n\r\n    /**\r\n     * @param stringId\r\n     * @return\r\n     */\r\n    public String getSpStringSt(String stringId) {\r\n        return sp.getString(stringId, &quot;&quot;);\r\n    }\r\n\r\n    public void log(String msg) {\r\n        Log.d(TAG, msg);\r\n    }\r\n\r\n    /**\r\n     *    \r\n     *\r\n     * @param url\r\n     */\r\n    public void showLink(String url) {\r\n        startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\r\n    }\r\n\r\n\r\n    /**\r\n     *    ?\r\n     *\r\n     * @return\r\n     */\r\n\r\n}\r\n```\r\n```\r\npublic class CategoryActivity extends BaseActivity implements RVAdapter.ItemClickListener,\r\n        View.OnClickListener, BarMenu.OnItemClick {\r\n\r\n    private static final String TAG = CategoryActivity.class.getSimpleName();\r\n\r\n    private RecyclerView rv;\r\n    private List&lt;Item&gt; items;\r\n    private List&lt;Modal&gt; modals;\r\n    private BarMenu barMenu;\r\n    private HashMap&lt;Integer, MoreApp&gt; moreApps;\r\n\r\n    private AdView adView;\r\n    private FrameLayout adContainerView;\r\n\r\n    private ConsentInformation consentInformation;\r\n    private ConsentForm consentForm;\r\n    final String LOG_TAG = &quot;myLogs&quot;;\r\n\r\n\r\n\r\n\r\n    private SliderView sliderView;\r\n    private SliderPromoAdapter adapter;\r\n\r\n    private ArrayList&lt;SliderItem&gt; sliderViewArrayList = new ArrayList&lt;&gt;();\r\n\r\n    private View banner;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_category);\r\n        Log.d(LOG_TAG, &quot;CategoryCreate&quot;);\r\n        initRateMe();\r\n        showRateMe();\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) { }\r\n        });\r\n\r\n\r\n        //StartAppSDK.init(this, &quot;202286925&quot;, true);\r\n        //------------\r\n        this.barMenu = new BarMenu(this, R.menu.top_bar_menu);\r\n        barMenu.setOnItemClick(this);\r\n        //------------\r\n        adapter = new SliderPromoAdapter(this);\r\n\r\n        SliderItem sliderItem = new SliderItem();\r\n        sliderItem.setSource(R.drawable.banner_premium);\r\n        sliderItem.setType(GlobalData.TYPE_PREMIUM);\r\n        sliderViewArrayList.add(sliderItem);\r\n\r\n        sliderView = findViewById(R.id.slider_view);\r\n        sliderView.setIndicatorAnimation(IndicatorAnimations.WORM); //set indicator animation by using SliderLayout.IndicatorAnimations. :WORM or THIN_WORM or COLOR or DROP or FILL or NONE or SCALE or SCALE_DOWN or SLIDE and SWAP!!\r\n        sliderView.setSliderTransformAnimation(SliderAnimations.SIMPLETRANSFORMATION);\r\n        sliderView.setAutoCycleDirection(SliderView.AUTO_CYCLE_DIRECTION_BACK_AND_FORTH);\r\n        sliderView.setIndicatorSelectedColor(Color.WHITE);\r\n        sliderView.setIndicatorUnselectedColor(Color.GRAY);\r\n        sliderView.setScrollTimeInSec(4); //set scroll delay in seconds :\r\n        sliderView.startAutoCycle();\r\n        sliderView.setSliderAdapter(adapter);\r\n        adapter.renewItems(sliderViewArrayList);\r\n\r\n        ///get the reference to your FrameLayout\r\n        adContainerView = findViewById(R.id.adView_container);\r\n        //Create an AdView and put it into your FrameLayout\r\n        adView = new AdView(this);\r\n        adContainerView.addView(adView);\r\n        String adUnitId = getResources().getString(getSp().getInt(Sp.SP_ADS_BANNER_ID, 0));\r\n        adView.setAdUnitId(adUnitId);\r\n\r\n        //start requesting banner ads\r\n        loadBanner();\r\n\r\n\r\n\r\n        //------------\r\n        ((TextView) findViewById(R.id.top_bar_title)).setText(\r\n                getSp().getInt(Sp.SP_APP_NAME, 0)\r\n        );\r\n        this.items = new ArrayList&lt;&gt;();\r\n        this.moreApps = new HashMap&lt;&gt;();\r\n\r\n        /*\r\n        if (!getSp().getBoolean(Sp.SP_MORE_APP_UP, false)) {\r\n            readJson();\r\n        }*/\r\n        //TODO      ?)\r\n        try {\r\n            if (!getSpStringSt(Sp.SP_MORE_APPS).equals(&quot;&quot;)) {\r\n                Gson gson = new Gson();\r\n                Type type = new TypeToken&lt;List&lt;MoreApp&gt;&gt;() {\r\n                }.getType();\r\n                List&lt;MoreApp&gt; ma = gson.fromJson(getSpStringSt(Sp.SP_MORE_APPS), type);\r\n                for (MoreApp m : ma) {\r\n                    moreApps.put(m.getPosition(), m);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // \r\n        this.banner = findViewById(R.id.custom_banner);\r\n        banner.setOnClickListener(this);\r\n        if (getSp().getBoolean(Sp.SP_IS_FREE5DAY, false)) {\r\n            banner.setVisibility(View.VISIBLE);\r\n        }\r\n\r\n        //if (getSp().getBoolean(Sp.SP_MORE_APP_UP, false)) {\r\n        readJson();\r\n        //}\r\n        this.rv = findViewById(R.id.category_recycler);\r\n        LinearLayoutManager llm = new GridLayoutManager(getApplicationContext(), 2);\r\n        rv.setLayoutManager(llm);\r\n        rv.setHasFixedSize(true);\r\n        RVAdapter adapter = new RVAdapter(items, this, true);\r\n        rv.setAdapter(adapter);\r\n        adapter.setmClickListener(this);\r\n\r\n\r\n\r\n\r\n        findViewById(R.id.top_bar_check).setVisibility(View.GONE);\r\n        findViewById(R.id.top_bar_menu).setOnClickListener(this);\r\n        findViewById(R.id.top_bar_back).setOnClickListener(this);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n @Override\r\n protected void onResume() {\r\n        super.onResume();\r\n        Log.d(LOG_TAG, &quot;onResume&quot;);\r\n        loadForm();\r\n       \r\n        if (getSp().getBoolean(Sp.SP_IS_FAQ, true)) {\r\n//            startActivity(new Intent(this, FaqActivity.class));\r\n            getSp().edit().putBoolean(Sp.SP_IS_FAQ, false).commit();\r\n        }\r\n        if (getSp().getBoolean(Sp.SP_IS_FREE5DAY, false)) {\r\n        }\r\n        hideSystemUI();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Consent form GDPR UserMessagingPlatform: No available form can be built","body":"<p>I am using Obtaining Consent with the User Messaging Platform in my application: <a href=\"https://developers.google.com/admob/ump/android/quick-start\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/ump/android/quick-start</a></p>\n<p>The consent form is not shown on the screen at the start of the activity.</p>\n<p>The logs show the triggering of the method after onResume, but the form does not appear on the eran. What's wrong with my code?</p>\n<p>In run, I found the lines:</p>\n<p>UserMessagingPlatform: No available form can be built.</p>\n<p>D / UserMessagingPlatform: Stored info not exists: IDFA_freqCapNumViews\nStored info not exists: IABTCF_TCString\nStored info not exists: IABTCF_AddtlConsent\nI / System.out: (HTTPLog) -Static: isSBSettingEnabled false\n(HTTPLog) -Static: isSBSettingEnabled false</p>\n<p>D / UserMessagingPlatform: Action [clear]: {&quot;keys&quot;: [&quot;IABTCF_CmpSdkID&quot;, &quot;IABTCF_CmpSdkVersion&quot;, &quot;IABTCF_PolicyVersion&quot;, &quot;IABTCF_gdprApplies&quot;, &quot;IABTCF_PublisherCC&quot;, &quot;IABTCFreat_Streats&quot; , &quot;IABTCF_VendorLegitimateInterests&quot;, &quot;IABTCF_PurposeConsents&quot;, &quot;IABTCF_PurposeLegitimateInterests&quot;, &quot;IABTCF_SpecialFeaturesOptIns&quot;, &quot;IABTCF_PublisherConsent&quot;, &quot;IABTCF_PublisherLegitimateInterests&quot;, &quot;IABTCF_PublisherCustomPurposesConsents&quot;, &quot;IABTCF_PublisherCustomPurposesLegitimateInterests&quot;, &quot;IABTCF_AddtlConsent&quot;, &quot;IABTCF_UserConsentRecordId&quot;, &quot;IABTCF_idfaFlowControl&quot;]}\nD / UserMessagingPlatform: Action [write]: {&quot;IABTCF_idfaFlowControl&quot;: 2}</p>\n<p>What's wrong with my code?</p>\n<pre><code>public abstract class BaseActivity extends AppCompatActivity {\n\n    private final String TAG = &quot;ART_APP&quot;;\n    private SharedPreferences sp;\n\n    private ConsentInformation consentInformation;\n    private ConsentForm consentForm;\n    final String LOG_TAG = &quot;myLogs&quot;;\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        this.sp = getSharedPreferences(Sp.SP_KEY, Context.MODE_PRIVATE);\n        ConsentDebugSettings debugSettings = new ConsentDebugSettings.Builder(this)\n                .setDebugGeography(ConsentDebugSettings\n                        .DebugGeography\n                        .DEBUG_GEOGRAPHY_EEA)\n                .addTestDeviceHashedId(&quot;C258BF9BE13D842B973A20309A39C080&quot;)\n                .build();\n\n        ConsentRequestParameters params = new ConsentRequestParameters\n                .Builder()\n                .setConsentDebugSettings(debugSettings)\n                .build();\n\n        consentInformation = UserMessagingPlatform.getConsentInformation(this);\n        consentInformation.requestConsentInfoUpdate(\n                this,\n                params,\n                new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\n                    @Override\n                    public void onConsentInfoUpdateSuccess() {\n                        // The consent information state was updated.\n                        // You are now ready to check if a form is available.\n                        if (consentInformation.isConsentFormAvailable()) {\n                            loadForm();\n                        }\n                    }\n                },\n                new ConsentInformation.OnConsentInfoUpdateFailureListener() {\n                    @Override\n                    public void onConsentInfoUpdateFailure(FormError formError) {\n                        // Handle the error.\n\n                    }\n                });\n    }\n\n\n\n\n    public SharedPreferences getSp() {\n        return sp;\n    }\n    public void loadForm(){\n        Log.d(LOG_TAG, &quot;showconsent&quot;);\n        UserMessagingPlatform.loadConsentForm(\n                this,\n                new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\n                    @Override\n                    public void onConsentFormLoadSuccess(ConsentForm consentForm) {\n                        BaseActivity.this.consentForm = consentForm;\n                        if(consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.UNKNOWN) {\n                            consentForm.show(\n                                    BaseActivity.this,\n                                    new ConsentForm.OnConsentFormDismissedListener() {\n                                        @Override\n                                        public void onConsentFormDismissed(@Nullable FormError formError) {\n                                            // Handle dismissal by reloading form.\n                                            loadForm();\n                                        }\n                                    });\n\n                        }\n\n                    }\n                },\n                new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\n                    @Override\n                    public void onConsentFormLoadFailure(FormError formError) {\n                        /// Handle Error.\n                    }\n                }\n        );\n    }\n    /**\n     *    \n     *\n     * @param stringId\n     * @return\n     */\n    public String getSpString(String stringId) {\n        return getResources().getString(sp.getInt(stringId, 0));\n    }\n\n\n    /**\n     * @param stringId\n     * @return\n     */\n    public String getSpStringSt(String stringId) {\n        return sp.getString(stringId, &quot;&quot;);\n    }\n\n    public void log(String msg) {\n        Log.d(TAG, msg);\n    }\n\n    /**\n     *    \n     *\n     * @param url\n     */\n    public void showLink(String url) {\n        startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n    }\n\n\n    /**\n     *    ?\n     *\n     * @return\n     */\n\n}\n</code></pre>\n<pre><code>public class CategoryActivity extends BaseActivity implements RVAdapter.ItemClickListener,\n        View.OnClickListener, BarMenu.OnItemClick {\n\n    private static final String TAG = CategoryActivity.class.getSimpleName();\n\n    private RecyclerView rv;\n    private List&lt;Item&gt; items;\n    private List&lt;Modal&gt; modals;\n    private BarMenu barMenu;\n    private HashMap&lt;Integer, MoreApp&gt; moreApps;\n\n    private AdView adView;\n    private FrameLayout adContainerView;\n\n    private ConsentInformation consentInformation;\n    private ConsentForm consentForm;\n    final String LOG_TAG = &quot;myLogs&quot;;\n\n\n\n\n    private SliderView sliderView;\n    private SliderPromoAdapter adapter;\n\n    private ArrayList&lt;SliderItem&gt; sliderViewArrayList = new ArrayList&lt;&gt;();\n\n    private View banner;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_category);\n        Log.d(LOG_TAG, &quot;CategoryCreate&quot;);\n        initRateMe();\n        showRateMe();\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) { }\n        });\n\n\n        //StartAppSDK.init(this, &quot;202286925&quot;, true);\n        //------------\n        this.barMenu = new BarMenu(this, R.menu.top_bar_menu);\n        barMenu.setOnItemClick(this);\n        //------------\n        adapter = new SliderPromoAdapter(this);\n\n        SliderItem sliderItem = new SliderItem();\n        sliderItem.setSource(R.drawable.banner_premium);\n        sliderItem.setType(GlobalData.TYPE_PREMIUM);\n        sliderViewArrayList.add(sliderItem);\n\n        sliderView = findViewById(R.id.slider_view);\n        sliderView.setIndicatorAnimation(IndicatorAnimations.WORM); //set indicator animation by using SliderLayout.IndicatorAnimations. :WORM or THIN_WORM or COLOR or DROP or FILL or NONE or SCALE or SCALE_DOWN or SLIDE and SWAP!!\n        sliderView.setSliderTransformAnimation(SliderAnimations.SIMPLETRANSFORMATION);\n        sliderView.setAutoCycleDirection(SliderView.AUTO_CYCLE_DIRECTION_BACK_AND_FORTH);\n        sliderView.setIndicatorSelectedColor(Color.WHITE);\n        sliderView.setIndicatorUnselectedColor(Color.GRAY);\n        sliderView.setScrollTimeInSec(4); //set scroll delay in seconds :\n        sliderView.startAutoCycle();\n        sliderView.setSliderAdapter(adapter);\n        adapter.renewItems(sliderViewArrayList);\n\n        ///get the reference to your FrameLayout\n        adContainerView = findViewById(R.id.adView_container);\n        //Create an AdView and put it into your FrameLayout\n        adView = new AdView(this);\n        adContainerView.addView(adView);\n        String adUnitId = getResources().getString(getSp().getInt(Sp.SP_ADS_BANNER_ID, 0));\n        adView.setAdUnitId(adUnitId);\n\n        //start requesting banner ads\n        loadBanner();\n\n\n\n        //------------\n        ((TextView) findViewById(R.id.top_bar_title)).setText(\n                getSp().getInt(Sp.SP_APP_NAME, 0)\n        );\n        this.items = new ArrayList&lt;&gt;();\n        this.moreApps = new HashMap&lt;&gt;();\n\n        /*\n        if (!getSp().getBoolean(Sp.SP_MORE_APP_UP, false)) {\n            readJson();\n        }*/\n        //TODO      ?)\n        try {\n            if (!getSpStringSt(Sp.SP_MORE_APPS).equals(&quot;&quot;)) {\n                Gson gson = new Gson();\n                Type type = new TypeToken&lt;List&lt;MoreApp&gt;&gt;() {\n                }.getType();\n                List&lt;MoreApp&gt; ma = gson.fromJson(getSpStringSt(Sp.SP_MORE_APPS), type);\n                for (MoreApp m : ma) {\n                    moreApps.put(m.getPosition(), m);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        // \n        this.banner = findViewById(R.id.custom_banner);\n        banner.setOnClickListener(this);\n        if (getSp().getBoolean(Sp.SP_IS_FREE5DAY, false)) {\n            banner.setVisibility(View.VISIBLE);\n        }\n\n        //if (getSp().getBoolean(Sp.SP_MORE_APP_UP, false)) {\n        readJson();\n        //}\n        this.rv = findViewById(R.id.category_recycler);\n        LinearLayoutManager llm = new GridLayoutManager(getApplicationContext(), 2);\n        rv.setLayoutManager(llm);\n        rv.setHasFixedSize(true);\n        RVAdapter adapter = new RVAdapter(items, this, true);\n        rv.setAdapter(adapter);\n        adapter.setmClickListener(this);\n\n\n\n\n        findViewById(R.id.top_bar_check).setVisibility(View.GONE);\n        findViewById(R.id.top_bar_menu).setOnClickListener(this);\n        findViewById(R.id.top_bar_back).setOnClickListener(this);\n\n    }\n\n\n\n\n @Override\n protected void onResume() {\n        super.onResume();\n        Log.d(LOG_TAG, &quot;onResume&quot;);\n        loadForm();\n       \n        if (getSp().getBoolean(Sp.SP_IS_FAQ, true)) {\n//            startActivity(new Intent(this, FaqActivity.class));\n            getSp().edit().putBoolean(Sp.SP_IS_FAQ, false).commit();\n        }\n        if (getSp().getBoolean(Sp.SP_IS_FREE5DAY, false)) {\n        }\n        hideSystemUI();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","backgroundworker"],"comments":[{"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"score":0,"creation_date":1648804783,"post_id":71704449,"comment_id":126722340,"body_markdown":"You may want to give a look here: https://www.baeldung.com/spring-scheduled-tasks. You just have to enable scheduling in the spring application, then use @Scheduled annotation on the method you want to execute at a given predeterminated time, and finally configure the schedule itself.","body":"You may want to give a look here: <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">baeldung.com/spring-scheduled-tasks</a>. You just have to enable scheduling in the spring application, then use @Scheduled annotation on the method you want to execute at a given predeterminated time, and finally configure the schedule itself."}],"answers":[{"tags":[],"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648819797,"creation_date":1648806448,"answer_id":71704964,"question_id":71704449,"body_markdown":"The @EnableScheduling annotation is used to enable the scheduler for your application. This annotation should be added into the main Spring Boot application class file.\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class DemoApplication {\r\n       public static void main(String[] args) {\r\n          SpringApplication.run(DemoApplication.class, args);\r\n       }\r\n    }\r\n\r\n\r\nThe @Scheduled annotation is used to trigger the scheduler for a specific time period.\r\n\r\n    @Scheduled(cron = &quot;0 * 9 * * ?&quot;)\r\n    public void cronJobSch() throws Exception {\r\n    }\r\n\r\nThe following is a sample code that shows how to execute the task every minute starting at 9:00 AM and ending at 9:59 AM, every day\r\n\r\n    package com.tutorialspoint.demo.scheduler;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Scheduler {\r\n       @Scheduled(cron = &quot;0 * 9 * * ?&quot;)\r\n       public void cronJobSch() {\r\n          System.out.println(LocalDateTime.now());\r\n       }\r\n    }","title":"How to schedule a periodic background work to activate at fixed times?","body":"<p>The @EnableScheduling annotation is used to enable the scheduler for your application. This annotation should be added into the main Spring Boot application class file.</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\npublic class DemoApplication {\n   public static void main(String[] args) {\n      SpringApplication.run(DemoApplication.class, args);\n   }\n}\n</code></pre>\n<p>The @Scheduled annotation is used to trigger the scheduler for a specific time period.</p>\n<pre><code>@Scheduled(cron = &quot;0 * 9 * * ?&quot;)\npublic void cronJobSch() throws Exception {\n}\n</code></pre>\n<p>The following is a sample code that shows how to execute the task every minute starting at 9:00 AM and ending at 9:59 AM, every day</p>\n<pre><code>package com.tutorialspoint.demo.scheduler;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Scheduler {\n   @Scheduled(cron = &quot;0 * 9 * * ?&quot;)\n   public void cronJobSch() {\n      System.out.println(LocalDateTime.now());\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22091437,"reputation":373,"user_id":16349451,"display_name":"Kalle Svensson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648837668,"creation_date":1648830478,"answer_id":71710124,"question_id":71704449,"body_markdown":"You can use class `Timer`. Then, your background job must be implemented in a subclass to `TimerTask` in the overridden method `public void run()`, e.g.:\r\n```\r\npublic class BackgroundWork extends TimerTask {\r\n    @Override\r\n    public void run() {\r\n        // Do your background work here\r\n        Log.i(&quot;BackgroundWork&quot; , &quot;notif sent&quot;);\r\n    }\r\n}\r\n```\r\nYou can schedule this job as follows:\r\n```\r\n// void\tscheduleAtFixedRate(TimerTask task, Date firstTime, long period)\r\nDate date = new Date( 122, 04, 02, 9, 00 );\r\n(new Timer()).scheduleAtFixedRate(new BackgroundWork(), date, 43200000L);\r\n```\r\nTimer starts a new thread to execute this job. You can cancel it, if necessary.\r\n","title":"How to schedule a periodic background work to activate at fixed times?","body":"<p>You can use class <code>Timer</code>. Then, your background job must be implemented in a subclass to <code>TimerTask</code> in the overridden method <code>public void run()</code>, e.g.:</p>\n<pre><code>public class BackgroundWork extends TimerTask {\n    @Override\n    public void run() {\n        // Do your background work here\n        Log.i(&quot;BackgroundWork&quot; , &quot;notif sent&quot;);\n    }\n}\n</code></pre>\n<p>You can schedule this job as follows:</p>\n<pre><code>// void scheduleAtFixedRate(TimerTask task, Date firstTime, long period)\nDate date = new Date( 122, 04, 02, 9, 00 );\n(new Timer()).scheduleAtFixedRate(new BackgroundWork(), date, 43200000L);\n</code></pre>\n<p>Timer starts a new thread to execute this job. You can cancel it, if necessary.</p>\n"},{"tags":[],"owner":{"account_id":23010869,"reputation":21,"user_id":17133416,"display_name":"JudgeFudge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648989203,"creation_date":1648915240,"answer_id":71719111,"question_id":71704449,"body_markdown":"I have found a simple solution, using calendar:\r\n\r\n    calendar.setTimeInMillis(System.currentTimeMillis());\r\n    calendar.set(Calendar.HOUR_OF_DAY, 22);\r\n    calendar.set(Calendar.MINUTE, 0);\r\n    calendar.set(Calendar.SECOND, 0);\r\n    calendar.set(Calendar.MILLISECOND, 0);\r\n    \r\n    if (calendar.getTimeInMillis() &lt;= System.currentTimeMillis()) {\r\n        calendar.set(Calendar.DAY_OF_MONTH, Calendar.DAY_OF_MONTH + 1);\r\n    }\r\n\r\nand the initial delay is set like so:\r\n\r\n    .setInitialDelay(calendar.getTimeInMillis() - System.currentTimeMillis(), TimeUnit.MILLISECONDS)\r\n\r\nand this seems to work well. ","title":"How to schedule a periodic background work to activate at fixed times?","body":"<p>I have found a simple solution, using calendar:</p>\n<pre><code>calendar.setTimeInMillis(System.currentTimeMillis());\ncalendar.set(Calendar.HOUR_OF_DAY, 22);\ncalendar.set(Calendar.MINUTE, 0);\ncalendar.set(Calendar.SECOND, 0);\ncalendar.set(Calendar.MILLISECOND, 0);\n\nif (calendar.getTimeInMillis() &lt;= System.currentTimeMillis()) {\n    calendar.set(Calendar.DAY_OF_MONTH, Calendar.DAY_OF_MONTH + 1);\n}\n</code></pre>\n<p>and the initial delay is set like so:</p>\n<pre><code>.setInitialDelay(calendar.getTimeInMillis() - System.currentTimeMillis(), TimeUnit.MILLISECONDS)\n</code></pre>\n<p>and this seems to work well.</p>\n"},{"tags":[],"owner":{"account_id":16342430,"reputation":209,"user_id":11803029,"display_name":"Ravi Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648991687,"creation_date":1648991687,"answer_id":71726266,"question_id":71704449,"body_markdown":"Use ScheduledExecutorService\r\n\r\n````\r\n        ScheduledExecutorService scheduledExecutorService\r\n                = Executors.newScheduledThreadPool(CORE_POOL_SIZE);\r\n\r\n        // Calculate initial day based on the current time\r\n        Long initalDelay = 0l;\r\n\r\n        ScheduledFuture&lt;?&gt; scheduledFuture =\r\n                scheduledExecutorService.scheduleAtFixedRate(doWork(), initalDelay, 12l, TimeUnit.HOURS); \r\n````","title":"How to schedule a periodic background work to activate at fixed times?","body":"<p>Use ScheduledExecutorService</p>\n<pre><code>        ScheduledExecutorService scheduledExecutorService\n                = Executors.newScheduledThreadPool(CORE_POOL_SIZE);\n\n        // Calculate initial day based on the current time\n        Long initalDelay = 0l;\n\n        ScheduledFuture&lt;?&gt; scheduledFuture =\n                scheduledExecutorService.scheduleAtFixedRate(doWork(), initalDelay, 12l, TimeUnit.HOURS); \n</code></pre>\n"}],"owner":{"account_id":23010869,"reputation":21,"user_id":17133416,"display_name":"JudgeFudge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71719111,"answer_count":4,"score":2,"last_activity_date":1648991687,"creation_date":1648804027,"question_id":71704449,"body_markdown":"I want to push a notification every 12 hours at fixed times (lets say for an example, 9am and 9pm, every day). This is my current doWork() code:\r\n\r\n```\r\n  @NonNull\r\n    @Override\r\n    public Result doWork() {\r\n\r\n        database.child(&quot;business_users&quot;).child(currentUserID).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                user = snapshot.getValue(BusinessUser.class);\r\n                if(user.isNotifications()==true)\r\n                {\r\n                    if(user.getRatingsCount() &gt; user.getLastKnownRC())\r\n                    {\r\n                        theDifference = user.getRatingsCount() - user.getLastKnownRC();\r\n                        notification();\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        Log.i(&quot;BackgroundWork&quot; , &quot;notif sent&quot;);\r\n        return Result.success();\r\n    }\r\n```\r\n\r\n\\`\r\n\r\nand this is the work creation code:\r\n\r\n```\r\npublic void FirstTimeWork ()\r\n     {\r\n         PeriodicWorkRequest myWorkRequest =\r\n                 new PeriodicWorkRequest.Builder(BackgroundWork.class, 12, TimeUnit.HOURS)\r\n                         .setInitialDelay(1, TimeUnit.DAYS)\r\n                         .addTag(&quot;notif&quot;)\r\n                         .build();\r\n     }\r\n```\r\n\r\nI saw some people doing it with calendar but I don&#39;t understand how it works.","title":"How to schedule a periodic background work to activate at fixed times?","body":"<p>I want to push a notification every 12 hours at fixed times (lets say for an example, 9am and 9pm, every day). This is my current doWork() code:</p>\n<pre><code>  @NonNull\n    @Override\n    public Result doWork() {\n\n        database.child(&quot;business_users&quot;).child(currentUserID).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                user = snapshot.getValue(BusinessUser.class);\n                if(user.isNotifications()==true)\n                {\n                    if(user.getRatingsCount() &gt; user.getLastKnownRC())\n                    {\n                        theDifference = user.getRatingsCount() - user.getLastKnownRC();\n                        notification();\n                    }\n                }\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        Log.i(&quot;BackgroundWork&quot; , &quot;notif sent&quot;);\n        return Result.success();\n    }\n</code></pre>\n<p>`</p>\n<p>and this is the work creation code:</p>\n<pre><code>public void FirstTimeWork ()\n     {\n         PeriodicWorkRequest myWorkRequest =\n                 new PeriodicWorkRequest.Builder(BackgroundWork.class, 12, TimeUnit.HOURS)\n                         .setInitialDelay(1, TimeUnit.DAYS)\n                         .addTag(&quot;notif&quot;)\n                         .build();\n     }\n</code></pre>\n<p>I saw some people doing it with calendar but I don't understand how it works.</p>\n"},{"tags":["java","android","selenium","appium"],"answers":[{"tags":[],"owner":{"account_id":6258541,"reputation":91,"user_id":4866387,"display_name":"jammer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1571138840,"creation_date":1449119896,"answer_id":34058394,"question_id":30709631,"body_markdown":"Try below code, it works for me...\r\n```\r\nWebElement abc = driver.findElement(By.xpath (&quot;//android.widget.ImageButton[@bounds=&#39;[9,288][144,318]&#39;]&quot;))\r\n \t \r\nabc.click();\r\n```","title":"Can bounds(co-ordinates) be used while identifying an element on an Android App?","body":"<p>Try below code, it works for me...</p>\n\n<pre><code>WebElement abc = driver.findElement(By.xpath (\"//android.widget.ImageButton[@bounds='[9,288][144,318]']\"))\n\nabc.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23691252,"reputation":1,"user_id":17715574,"display_name":"user17715574"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648990223,"creation_date":1648989967,"answer_id":71726041,"question_id":30709631,"body_markdown":"This is simple. But yet helped me to swipe from right to left, for what I was roaming all over the internet. \r\n\r\n```\r\nTouchAction t = new TouchAction(dr);\r\nWebElement from = dr.findElementByXPath(&quot;//android.widget.Button[@bounds=&#39;[354,2232][539,2263]&#39;]&quot;);\r\nWebElement to = dr.findElementByXPath(&quot;//android.widget.Button[@bounds=&#39;[0,2232][181,2263]&#39;]&quot;);\r\nt.longPress(longPressOptions().withElement(element(from)).withDuration(ofSeconds(2))).moveTo(element(to)).release().perform();\r\n```","title":"Can bounds(co-ordinates) be used while identifying an element on an Android App?","body":"<p>This is simple. But yet helped me to swipe from right to left, for what I was roaming all over the internet.</p>\n<pre><code>TouchAction t = new TouchAction(dr);\nWebElement from = dr.findElementByXPath(&quot;//android.widget.Button[@bounds='[354,2232][539,2263]']&quot;);\nWebElement to = dr.findElementByXPath(&quot;//android.widget.Button[@bounds='[0,2232][181,2263]']&quot;);\nt.longPress(longPressOptions().withElement(element(from)).withDuration(ofSeconds(2))).moveTo(element(to)).release().perform();\n</code></pre>\n"}],"owner":{"account_id":6383810,"reputation":51,"user_id":4952344,"display_name":"Abhinav Aradhya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10544,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1648990223,"creation_date":1433767779,"question_id":30709631,"body_markdown":"Can something like this work? Well, it&#39;s not working for me. Guys, what&#39;s the right-est way of making it work? Need Help   (Appium version - 1.4.0.0 and Selenium 2.4.5)                                \r\n\r\n    dr.findElement(By.xpath(&quot;//android.widget.ImageButton[@bounds=&#39;[9,288][144,318]&#39;]&quot;))\r\n      .click();","title":"Can bounds(co-ordinates) be used while identifying an element on an Android App?","body":"<p>Can something like this work? Well, it's not working for me. Guys, what's the right-est way of making it work? Need Help   (Appium version - 1.4.0.0 and Selenium 2.4.5)                                </p>\n\n<pre><code>dr.findElement(By.xpath(\"//android.widget.ImageButton[@bounds='[9,288][144,318]']\"))\n  .click();\n</code></pre>\n"},{"tags":["java","factory-method","coding-style"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1344070007,"post_id":11807206,"comment_id":15690743,"body_markdown":"The naming conventions really depend on context.  There&#39;s no one rule that says A is better than B.","body":"The naming conventions really depend on context.  There&#39;s no one rule that says A is better than B."},{"owner":{"account_id":1652537,"reputation":1584,"user_id":1522820,"accept_rate":65,"display_name":"user1522820"},"score":0,"creation_date":1344070093,"post_id":11807206,"comment_id":15690759,"body_markdown":"What context you are talking about? That&#39;s what I want to know","body":"What context you are talking about? That&#39;s what I want to know"},{"owner":{"account_id":1341302,"reputation":1225,"user_id":1282907,"display_name":"srikanth yaradla"},"score":0,"creation_date":1344070151,"post_id":11807206,"comment_id":15690770,"body_markdown":"you have implemented the both same way. SO there is no difference. But i wonder what that new is doing inside both methods :)","body":"you have implemented the both same way. SO there is no difference. But i wonder what that new is doing inside both methods :)"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":1,"creation_date":1344070323,"post_id":11807206,"comment_id":15690796,"body_markdown":"newInstance kind of implies it will always create a new instance, whereas valueOf is less tied to that assumption. Note valueOf() is used in a lot of java.lang classes like Integer etc, where objects _are_ cached for some values...","body":"newInstance kind of implies it will always create a new instance, whereas valueOf is less tied to that assumption. Note valueOf() is used in a lot of java.lang classes like Integer etc, where objects <i>are</i> cached for some values..."},{"owner":{"account_id":1652537,"reputation":1584,"user_id":1522820,"accept_rate":65,"display_name":"user1522820"},"score":0,"creation_date":1344070484,"post_id":11807206,"comment_id":15690819,"body_markdown":"How the implementation of these two methods would effect the choice? That&#39;s what I want to know","body":"How the implementation of these two methods would effect the choice? That&#39;s what I want to know"},{"owner":{"account_id":1131452,"reputation":678,"user_id":1117429,"display_name":"Javier"},"score":0,"creation_date":1344071985,"post_id":11807206,"comment_id":15691033,"body_markdown":"@user1522820 If you have a map with existing object instances, then you can return an existing object instead of a new one if the values are repeated, as in [Flyweight pattern](http://en.wikipedia.org/wiki/Flyweight_pattern).","body":"@user1522820 If you have a map with existing object instances, then you can return an existing object instead of a new one if the values are repeated, as in <a href=\"http://en.wikipedia.org/wiki/Flyweight_pattern\" rel=\"nofollow noreferrer\">Flyweight pattern</a>."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1344074048,"creation_date":1344070346,"answer_id":11807246,"question_id":11807206,"body_markdown":"There is no official standard, but this is my opinion,\r\n\r\n`valueOf` or `acquire` implies that you will get any instance which holds the same information.\r\n\r\n`newInstance` or `create` implies you will get a different instance every time.\r\n\r\n`get` implies you will get an instance if it exist, or `null` if it does not.\r\n\r\nIn your case `newInstance` or `create` is appropriate.\r\n\r\nc.f.\r\n\r\n    Integer.valueOf(1) == Integer.valueOf(1) // you get the same object\r\n    Integer.valueOf(-200) != Integer.valueOf(-200) // you get a different object.\r\n","title":"What is the criteria to choose between valueOf() and newInstance()?","body":"<p>There is no official standard, but this is my opinion,</p>\n\n<p><code>valueOf</code> or <code>acquire</code> implies that you will get any instance which holds the same information.</p>\n\n<p><code>newInstance</code> or <code>create</code> implies you will get a different instance every time.</p>\n\n<p><code>get</code> implies you will get an instance if it exist, or <code>null</code> if it does not.</p>\n\n<p>In your case <code>newInstance</code> or <code>create</code> is appropriate.</p>\n\n<p>c.f.</p>\n\n<pre><code>Integer.valueOf(1) == Integer.valueOf(1) // you get the same object\nInteger.valueOf(-200) != Integer.valueOf(-200) // you get a different object.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":931717,"reputation":9993,"user_id":961487,"accept_rate":62,"display_name":"Razvan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344070765,"creation_date":1344070416,"answer_id":11807255,"question_id":11807206,"body_markdown":"In general, in java, String.valueOf() is called when a string representation of some other type of data is needed. In the case of primitive wrappers (Integer, Double), valueOf() takes a String (&quot;12&quot;) and creates an instance of that wrapper.  \r\n\r\nIn your case, you try to create a new object using a number of parameters. That is a factory method. It makes more sense to call it newInstance.","title":"What is the criteria to choose between valueOf() and newInstance()?","body":"<p>In general, in java, String.valueOf() is called when a string representation of some other type of data is needed. In the case of primitive wrappers (Integer, Double), valueOf() takes a String (\"12\") and creates an instance of that wrapper.  </p>\n\n<p>In your case, you try to create a new object using a number of parameters. That is a factory method. It makes more sense to call it newInstance.</p>\n"},{"tags":[],"owner":{"account_id":1341302,"reputation":1225,"user_id":1282907,"display_name":"srikanth yaradla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344071182,"creation_date":1344071182,"answer_id":11807337,"question_id":11807206,"body_markdown":"You answered your own question when you said `And If I want to provide a static factory method to creating instances of this class`\r\nnew Instance makes sense in this context (even if both valueOf and new do the same). To me valueOf (as the name suggests )makes sense when you want to retrieve some meaningful state information from an existing object (not necessarily the entire object state)   where as `new` is creating brand new instance.","title":"What is the criteria to choose between valueOf() and newInstance()?","body":"<p>You answered your own question when you said <code>And If I want to provide a static factory method to creating instances of this class</code>\nnew Instance makes sense in this context (even if both valueOf and new do the same). To me valueOf (as the name suggests )makes sense when you want to retrieve some meaningful state information from an existing object (not necessarily the entire object state)   where as <code>new</code> is creating brand new instance.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1344071215,"creation_date":1344071215,"answer_id":11807340,"question_id":11807206,"body_markdown":"     public static ObjectInfo newObjectInfo(String objectName, String objectType)\r\n\r\nFor a static factory method, I would use the above naming convention. This is useful if the method consumers want to use static imports:\r\n\r\n    import static foo.ObjectInfo.newObjectInfo;\r\n    //....\r\n    ObjectInfo info = newObjectInfo(foo, bar);\r\n\r\nYou can see this pattern [in the Guava API][1].\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Maps.html","title":"What is the criteria to choose between valueOf() and newInstance()?","body":"<pre><code> public static ObjectInfo newObjectInfo(String objectName, String objectType)\n</code></pre>\n\n<p>For a static factory method, I would use the above naming convention. This is useful if the method consumers want to use static imports:</p>\n\n<pre><code>import static foo.ObjectInfo.newObjectInfo;\n//....\nObjectInfo info = newObjectInfo(foo, bar);\n</code></pre>\n\n<p>You can see this pattern <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Maps.html\" rel=\"nofollow\">in the Guava API</a>.</p>\n"}],"owner":{"account_id":1652537,"reputation":1584,"user_id":1522820,"accept_rate":65,"display_name":"user1522820"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":11807340,"answer_count":4,"score":4,"last_activity_date":1648990069,"creation_date":1344069955,"question_id":11807206,"body_markdown":"Suppose I have a class ObjectInfo which contains Object name &amp; Object type as String.(I am just cooking up something for the sake of asking the question.) \r\n\r\n    class ObjectInfo {\r\n        String objectName;\r\n        \r\n        String objectType;\r\n\r\n        private ObjectInfo(String objectName, String objectType) {\r\n              this.objectName = objectName;\r\n              this.objectType = objectType;\r\n        }\r\n    }\r\n\r\nAnd If I want to provide a static factory method to creating instances of this class, which of the following two methods is better &amp; why?\r\n\r\n    public static ObjectInfo newInstance(String objectName, String objectType) {\r\n        return new ObjectInfo(objectName, objectType)    \r\n    }\r\n\r\n    public static ObjectInfo valueOf(String objectName, String objectType) {\r\n        return new ObjectInfo(objectName, objectType)    \r\n    }\r\n\r\nBasically, what I want to ask is  when we should use valueOf() &amp; when newInstance()? Is there any conventions among the programmer&#39;s community?\r\n\r\n","title":"What is the criteria to choose between valueOf() and newInstance()?","body":"<p>Suppose I have a class ObjectInfo which contains Object name &amp; Object type as String.(I am just cooking up something for the sake of asking the question.)</p>\n<pre><code>class ObjectInfo {\n    String objectName;\n    \n    String objectType;\n\n    private ObjectInfo(String objectName, String objectType) {\n          this.objectName = objectName;\n          this.objectType = objectType;\n    }\n}\n</code></pre>\n<p>And If I want to provide a static factory method to creating instances of this class, which of the following two methods is better &amp; why?</p>\n<pre><code>public static ObjectInfo newInstance(String objectName, String objectType) {\n    return new ObjectInfo(objectName, objectType)    \n}\n\npublic static ObjectInfo valueOf(String objectName, String objectType) {\n    return new ObjectInfo(objectName, objectType)    \n}\n</code></pre>\n<p>Basically, what I want to ask is  when we should use valueOf() &amp; when newInstance()? Is there any conventions among the programmer's community?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1648990038,"post_id":71725978,"comment_id":126757565,"body_markdown":"Since Java 9, the constructors have been deprecated.","body":"Since Java 9, the constructors have been deprecated."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":1,"creation_date":1648990064,"post_id":71725978,"comment_id":126757574,"body_markdown":"@ElliottFrisch+MarkRotteveel Read the question.","body":"@ElliottFrisch+MarkRotteveel Read the question."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1648990164,"post_id":71725978,"comment_id":126757600,"body_markdown":"@Boann My comment answers the question in the title (you should use `Double.valueOf` because the constructor is deprecated), while the duplicate answers the question in the body of the question.","body":"@Boann My comment answers the question in the title (you should use <code>Double.valueOf</code> because the constructor is deprecated), while the duplicate answers the question in the body of the question."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":4,"creation_date":1648991472,"post_id":71725978,"comment_id":126757858,"body_markdown":"Note the `@HotSpotIntrinsicCandidate` annotation on the method. Which indicates that the (hotspot) JVM **might** replace this method with hand written assembly or similar. So it doesnt have to actually execute the Java code you see there, it might use **better** code under the hood. (Whether it does this as of today or not is a different story)","body":"Note the <code>@HotSpotIntrinsicCandidate</code> annotation on the method. Which indicates that the (hotspot) JVM <b>might</b> replace this method with hand written assembly or similar. So it doesnt have to actually execute the Java code you see there, it might use <b>better</b> code under the hood. (Whether it does this as of today or not is a different story)"}],"answers":[{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648990010,"creation_date":1648990010,"answer_id":71726049,"question_id":71725978,"body_markdown":"They assumed that they might one day add a cache, in which case the advice would be correct. But it never happened, and probably never will, so it makes no difference.\r\n","title":"Why should I use Double.valueOf() instead of new Double()?","body":"<p>They assumed that they might one day add a cache, in which case the advice would be correct. But it never happened, and probably never will, so it makes no difference.</p>\n"}],"owner":{"account_id":11585596,"reputation":21,"user_id":8487880,"display_name":"Denis A"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1648990109,"accepted_answer_id":71726049,"answer_count":1,"score":1,"last_activity_date":1648990010,"creation_date":1648989571,"question_id":71725978,"body_markdown":"As far as I know Integer, for example, has cached instances with a value of -128 to 127. This is a JLS requirement. JLS 5.1.7:\r\n\r\n&gt; If the value p being boxed is the result of evaluating a constant expression (&#167;15.29) of type boolean, byte, char, short, int, or long, and the result is true, false, a character in the range &#39;\\u0000&#39; to &#39;\\u007f&#39; inclusive, or an integer in the range -128 to 127 inclusive, then let a and b be the results of any two boxing conversions of p. It is always the case that a == b.\r\n\r\nSo I can understand the point of using Integer.valueOf() or Long.valueOf() instead of creating instances with a new operator. Using valueOf() returns fixed instances with values from -128 to 127. In this case, I can even compare two objects using the == operator. Moreover I can increase upper range of cache with `-XX:AutoBoxCacheMax=&lt;size&gt;` java option.\r\n\r\nBut I can&#39;t figure out why the new Float() and new Double() are deprecated? Neither Float nor Double has a cache. And the valueOf() operator returns the instance created with the new operator.\r\n\r\nAccording to the JDK documentation, I should use the static factory methods Float.valueOf() or Double.valueOf() instead of new Float() or new Double() and I&#39;ll have _&quot;significantly better space and time performance&quot;_. But where are they?\r\n\r\n    /**\r\n     * Constructs a newly allocated {@code Double} object that\r\n     * represents the primitive {@code double} argument.\r\n     *\r\n     * @param   value   the value to be represented by the {@code Double}.\r\n     *\r\n     * @deprecated\r\n     * It is rarely appropriate to use this constructor. The static factory\r\n     * {@link #valueOf(double)} is generally a better choice, as it is\r\n     * likely to yield significantly better space and time performance.\r\n     */\r\n    @Deprecated(since=&quot;9&quot;)\r\n    public Double(double value) {\r\n        this.value = value;\r\n    }\r\n\r\n    /**\r\n     * Returns a {@code Double} instance representing the specified\r\n     * {@code double} value.\r\n     * If a new {@code Double} instance is not required, this method\r\n     * should generally be used in preference to the constructor\r\n     * {@link #Double(double)}, as this method is likely to yield\r\n     * significantly better space and time performance by caching\r\n     * frequently requested values.\r\n     *\r\n     * @param  d a double value.\r\n     * @return a {@code Double} instance representing {@code d}.\r\n     * @since  1.5\r\n     */\r\n    @HotSpotIntrinsicCandidate\r\n    public static Double valueOf(double d) {\r\n        return new Double(d);\r\n    }\r\n\r\n","title":"Why should I use Double.valueOf() instead of new Double()?","body":"<p>As far as I know Integer, for example, has cached instances with a value of -128 to 127. This is a JLS requirement. JLS 5.1.7:</p>\n<blockquote>\n<p>If the value p being boxed is the result of evaluating a constant expression (15.29) of type boolean, byte, char, short, int, or long, and the result is true, false, a character in the range '\\u0000' to '\\u007f' inclusive, or an integer in the range -128 to 127 inclusive, then let a and b be the results of any two boxing conversions of p. It is always the case that a == b.</p>\n</blockquote>\n<p>So I can understand the point of using Integer.valueOf() or Long.valueOf() instead of creating instances with a new operator. Using valueOf() returns fixed instances with values from -128 to 127. In this case, I can even compare two objects using the == operator. Moreover I can increase upper range of cache with <code>-XX:AutoBoxCacheMax=&lt;size&gt;</code> java option.</p>\n<p>But I can't figure out why the new Float() and new Double() are deprecated? Neither Float nor Double has a cache. And the valueOf() operator returns the instance created with the new operator.</p>\n<p>According to the JDK documentation, I should use the static factory methods Float.valueOf() or Double.valueOf() instead of new Float() or new Double() and I'll have <em>&quot;significantly better space and time performance&quot;</em>. But where are they?</p>\n<pre><code>/**\n * Constructs a newly allocated {@code Double} object that\n * represents the primitive {@code double} argument.\n *\n * @param   value   the value to be represented by the {@code Double}.\n *\n * @deprecated\n * It is rarely appropriate to use this constructor. The static factory\n * {@link #valueOf(double)} is generally a better choice, as it is\n * likely to yield significantly better space and time performance.\n */\n@Deprecated(since=&quot;9&quot;)\npublic Double(double value) {\n    this.value = value;\n}\n\n/**\n * Returns a {@code Double} instance representing the specified\n * {@code double} value.\n * If a new {@code Double} instance is not required, this method\n * should generally be used in preference to the constructor\n * {@link #Double(double)}, as this method is likely to yield\n * significantly better space and time performance by caching\n * frequently requested values.\n *\n * @param  d a double value.\n * @return a {@code Double} instance representing {@code d}.\n * @since  1.5\n */\n@HotSpotIntrinsicCandidate\npublic static Double valueOf(double d) {\n    return new Double(d);\n}\n</code></pre>\n"},{"tags":["java","android","interface","android-activity","listener"],"answers":[{"tags":[],"owner":{"account_id":2218637,"reputation":4238,"user_id":1958659,"accept_rate":100,"display_name":"npace"},"down_vote_count":2,"up_vote_count":37,"is_accepted":true,"score":35,"last_activity_date":1380194216,"creation_date":1380194216,"answer_id":19026743,"question_id":19026515,"body_markdown":"Have you considered using [LocalBroadcastManager][1]?\r\n\r\nIn Act1&#39;s onCreate:\r\n\r\n    act2InitReceiver= new BroadcastReceiver()\r\n        {\r\n\r\n            @Override\r\n            public void onReceive(Context context, Intent intent)\r\n            {\r\n                // do your listener event stuff\r\n            }\r\n        };\r\n    LocalBroadcastManager.getInstance(this).registerReceiver(act2InitReceiver, new IntentFilter(&quot;activity-2-initialized&quot;));\r\n\r\n\r\nIn Act1&#39;s onDestroy:\r\n\r\n    LocalBroadcastManager.getInstance(this).unregisterReceiver(act2InitReceiver);\r\n\r\nIn Act2&#39;s onCreate:\r\n\r\n    LocalBroadcastManager.getInstance(this).sendBroadcast(new Intent(&quot;activity-2-initialized&quot;));\r\n\r\nGive me a comment if the code doesn&#39;t compile, I&#39;m writing it by hand.\r\n  [1]: http://developer.android.com/reference/android/support/v4/content/LocalBroadcastManager.html","title":"How to use interface to communicate between two activities","body":"<p>Have you considered using <a href=\"http://developer.android.com/reference/android/support/v4/content/LocalBroadcastManager.html\">LocalBroadcastManager</a>?</p>\n\n<p>In Act1's onCreate:</p>\n\n<pre><code>act2InitReceiver= new BroadcastReceiver()\n    {\n\n        @Override\n        public void onReceive(Context context, Intent intent)\n        {\n            // do your listener event stuff\n        }\n    };\nLocalBroadcastManager.getInstance(this).registerReceiver(act2InitReceiver, new IntentFilter(\"activity-2-initialized\"));\n</code></pre>\n\n<p>In Act1's onDestroy:</p>\n\n<pre><code>LocalBroadcastManager.getInstance(this).unregisterReceiver(act2InitReceiver);\n</code></pre>\n\n<p>In Act2's onCreate:</p>\n\n<pre><code>LocalBroadcastManager.getInstance(this).sendBroadcast(new Intent(\"activity-2-initialized\"));\n</code></pre>\n\n<p>Give me a comment if the code doesn't compile, I'm writing it by hand.</p>\n"},{"tags":[],"owner":{"account_id":2520844,"reputation":4665,"user_id":2191256,"display_name":"vilpe89"},"down_vote_count":2,"up_vote_count":79,"is_accepted":false,"score":77,"last_activity_date":1380198855,"creation_date":1380195520,"answer_id":19027202,"question_id":19026515,"body_markdown":"I would suggest to create a [model][1] class. Let me give you an example:\r\n\r\nModel class:\r\n\r\n    public class CustomModel {\r\n\r\n    \tpublic interface OnCustomStateListener {\r\n    \t\tvoid stateChanged();\r\n    \t}\r\n\t\r\n    \tprivate static CustomModel mInstance;\r\n        private OnCustomStateListener mListener;\r\n    \tprivate boolean mState;\r\n    \t\r\n    \tprivate CustomModel() {}\r\n\r\n    \tpublic static CustomModel getInstance() {\r\n        \tif(mInstance == null) {\r\n\t        \tmInstance = new CustomModel();\r\n\t\t    }\r\n    \t\treturn mInstance;\r\n    \t}\r\n\t\r\n    \tpublic void setListener(OnCustomStateListener listener) {\r\n    \t\tmListener = listener;\r\n    \t}\r\n\t\r\n    \tpublic void changeState(boolean state) {\r\n    \t\tif(mListener != null) {\r\n    \t\t\tmState = state;\r\n    \t\t\tnotifyStateChange();\r\n    \t\t}\r\n    \t}\r\n\t\r\n    \tpublic boolean getState() {\r\n    \t\treturn mState;\r\n    \t}\r\n\t\r\n    \tprivate void notifyStateChange() {\r\n    \t\tmListener.stateChanged();\r\n    \t}\r\n    }\r\n\r\nAnd here&#39;s how you would use this:\r\n\r\n\t// Imports\r\n\tpublic class MainActivity extends Activity implements OnCustomStateListener {\r\n\r\n\t\t@Override\r\n\t\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\tsetContentView(R.layout.activity_main);\r\n\t\t\tCustomModel.getInstance().setListener(this);\r\n                        \r\n\t\t\tboolean modelState = CustomModel.getInstance().getState();\r\n\t\t\tLog.d(TAG, &quot;Current state: &quot; + String.valueOf(modelState));\r\n\r\n\t\t\tIntent intent = new Intent(this, SecondActivity.class);\r\n\t\t\tstartActivity(intent);\r\n\t    }\r\n\r\n\t\t@Override\r\n\t\tpublic void stateChanged() {\r\n\t\t\tboolean modelState = CustomModel.getInstance().getState();\r\n\t\t\tLog.d(TAG, &quot;MainActivity says: Model state changed: &quot; + \r\n\t\t\t\tString.valueOf(modelState));\r\n\t\t}\r\n\t}\r\n\r\nChanging the member state in second activity:\r\n\r\n\t// Imports\r\n\tpublic class SecondActivity extends Activity {\r\n\r\n\t\t@Override\r\n\t\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\tCustomModel.getInstance().changeState(true);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n----------------------------\r\nLogCat output:\r\n\r\n`Current state: false`\r\n\r\n`MainActivity says: Model state changed: true`\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Singleton_pattern","title":"How to use interface to communicate between two activities","body":"<p>I would suggest to create a <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"noreferrer\">model</a> class. Let me give you an example:</p>\n\n<p>Model class:</p>\n\n<pre><code>public class CustomModel {\n\n    public interface OnCustomStateListener {\n        void stateChanged();\n    }\n\n    private static CustomModel mInstance;\n    private OnCustomStateListener mListener;\n    private boolean mState;\n\n    private CustomModel() {}\n\n    public static CustomModel getInstance() {\n        if(mInstance == null) {\n            mInstance = new CustomModel();\n        }\n        return mInstance;\n    }\n\n    public void setListener(OnCustomStateListener listener) {\n        mListener = listener;\n    }\n\n    public void changeState(boolean state) {\n        if(mListener != null) {\n            mState = state;\n            notifyStateChange();\n        }\n    }\n\n    public boolean getState() {\n        return mState;\n    }\n\n    private void notifyStateChange() {\n        mListener.stateChanged();\n    }\n}\n</code></pre>\n\n<p>And here's how you would use this:</p>\n\n<pre><code>// Imports\npublic class MainActivity extends Activity implements OnCustomStateListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        CustomModel.getInstance().setListener(this);\n\n        boolean modelState = CustomModel.getInstance().getState();\n        Log.d(TAG, \"Current state: \" + String.valueOf(modelState));\n\n        Intent intent = new Intent(this, SecondActivity.class);\n        startActivity(intent);\n    }\n\n    @Override\n    public void stateChanged() {\n        boolean modelState = CustomModel.getInstance().getState();\n        Log.d(TAG, \"MainActivity says: Model state changed: \" + \n            String.valueOf(modelState));\n    }\n}\n</code></pre>\n\n<p>Changing the member state in second activity:</p>\n\n<pre><code>// Imports\npublic class SecondActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        CustomModel.getInstance().changeState(true);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>LogCat output:</p>\n\n<p><code>Current state: false</code></p>\n\n<p><code>MainActivity says: Model state changed: true</code></p>\n"},{"tags":[],"owner":{"account_id":210642,"reputation":8430,"user_id":1347816,"accept_rate":78,"display_name":"LEMUEL  ADANE"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1599120300,"creation_date":1453339478,"answer_id":34913781,"question_id":19026515,"body_markdown":"The best, shortest and the easiest way to do this is to use static variables, like this:\r\n\r\n    class Main extends Activity {\r\n      static String message = &quot;Hi&quot;;\r\n    }\r\n\r\n    class Another extends Activity {\r\n      public onCreate() {\r\n         Log.i(Main.message); // implementation of the message, &#39;Hi&#39; \r\n      }\r\n    }","title":"How to use interface to communicate between two activities","body":"<p>The best, shortest and the easiest way to do this is to use static variables, like this:</p>\n<pre><code>class Main extends Activity {\n  static String message = &quot;Hi&quot;;\n}\n\nclass Another extends Activity {\n  public onCreate() {\n     Log.i(Main.message); // implementation of the message, 'Hi' \n  }\n}\n</code></pre>\n"}],"owner":{"account_id":194664,"reputation":13476,"user_id":437146,"accept_rate":78,"display_name":"NightFury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43963,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":19026743,"answer_count":3,"score":35,"last_activity_date":1648989982,"creation_date":1380193509,"question_id":19026515,"body_markdown":"I am trying to make listener interface between two activities `Act1 and Act2`. `Act1` will start `Act2`. If there is some event occurred in `Act2`, it will inform it to `Act1`. Problem is that I am starting new activity using Intent, so how Act1 will assign itself as listener to Act2&#39;s interface?\r\n\r\n**Act1.java**\r\n  \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Act1 extends ActionBarActivity implements\r\n    \t\tActionBar.OnNavigationListener {\r\n    \r\n    \tActionBar actionbar;\r\n    \tIntent pizzaIntent;\r\n    \tboolean visibleFirstTime = true;\r\n    \r\n    \tpublic void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.menutab);\r\n    \r\n    \t\t//set actionbar here\r\n    \t}\r\n    \r\n    @Override\r\n    \tpublic boolean onNavigationItemSelected(int arg0, long arg1)// item pos,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// itemid\r\n    \t{\r\n    \t\tswitch (arg0) {\r\n    \t\tcase 0:\r\n    \t\t\tif(this.visibleFirstTime == false)\r\n    \t\t\t{\r\n    \t\t\tif(pizzaIntent == null)\r\n    \t\t\t{\r\n    \t\t\t\tpizzaIntent = new Intent(this,Act2.class);\r\n    \t\t\t\t//how to call setChangeListener?\r\n    \t\t\t}\r\n    \t\t\tstartActivity(pizzaIntent);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t\tthis.visibleFirstTime = false;\r\n    \t\t\tbreak;\r\n    \t\tcase 1:\r\n    \t\t\tSystem.out.println(&quot;selected: &quot; + arg0);\r\n    \t\t\tbreak;\r\n    \t\tcase 2:\r\n    \t\t\tSystem.out.println(&quot;selected: &quot; + arg0);\r\n    \t\t\tbreak;\r\n    \t\tcase 3:\r\n    \t\t\tSystem.out.println(&quot;selected: &quot; + arg0);\r\n    \t\t\tbreak;\r\n    \t\tdefault:\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\n**Act2.java**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Act2 extends Activity {\r\n    \t\r\n    \t selectionChangeListener listener;\r\n    \t\r\n    \tpublic void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.pizza_slice_selection);\r\n    \t}\r\n    \t\r\n    \tpublic void setChangeListener(selectionChangeListener listener)\r\n    \t{\r\n    \t\tthis.listener = listener;\r\n    \t}\r\n    \t\r\n    \tprivate interface selectionChangeListener\r\n    \t{\r\n    \t\tpublic void selectionMadeAtIndex(int index);\r\n    \t}\r\n    }\r\n\r\n**Note:** Please don&#39;t suggest me to use fragments. I want to use activities currently.","title":"How to use interface to communicate between two activities","body":"<p>I am trying to make listener interface between two activities <code>Act1 and Act2</code>. <code>Act1</code> will start <code>Act2</code>. If there is some event occurred in <code>Act2</code>, it will inform it to <code>Act1</code>. Problem is that I am starting new activity using Intent, so how Act1 will assign itself as listener to Act2's interface?</p>\n\n<p><strong>Act1.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Act1 extends ActionBarActivity implements\n        ActionBar.OnNavigationListener {\n\n    ActionBar actionbar;\n    Intent pizzaIntent;\n    boolean visibleFirstTime = true;\n\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.menutab);\n\n        //set actionbar here\n    }\n\n@Override\n    public boolean onNavigationItemSelected(int arg0, long arg1)// item pos,\n                                                                // itemid\n    {\n        switch (arg0) {\n        case 0:\n            if(this.visibleFirstTime == false)\n            {\n            if(pizzaIntent == null)\n            {\n                pizzaIntent = new Intent(this,Act2.class);\n                //how to call setChangeListener?\n            }\n            startActivity(pizzaIntent);\n            }\n            else\n                this.visibleFirstTime = false;\n            break;\n        case 1:\n            System.out.println(\"selected: \" + arg0);\n            break;\n        case 2:\n            System.out.println(\"selected: \" + arg0);\n            break;\n        case 3:\n            System.out.println(\"selected: \" + arg0);\n            break;\n        default:\n            break;\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p><strong>Act2.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Act2 extends Activity {\n\n     selectionChangeListener listener;\n\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.pizza_slice_selection);\n    }\n\n    public void setChangeListener(selectionChangeListener listener)\n    {\n        this.listener = listener;\n    }\n\n    private interface selectionChangeListener\n    {\n        public void selectionMadeAtIndex(int index);\n    }\n}\n</code></pre>\n\n<p><strong>Note:</strong> Please don't suggest me to use fragments. I want to use activities currently.</p>\n"},{"tags":["java","hibernate","jakarta-ee"],"comments":[{"owner":{"account_id":7951510,"reputation":584,"user_id":6002202,"accept_rate":42,"display_name":"subbu royal"},"score":0,"creation_date":1466227474,"post_id":37893510,"comment_id":63241180,"body_markdown":"if you observe in your exception `Caused by: org.postgresql.util.PSQLException: ERROR: schema &quot;hibernatedemo&quot; does not exist`  so, create a table with columns `id,firstName,lastName` and mention that table name in your `domain class` next line to `@Entity` write `@Table(name=&quot;Your table name&quot;)`","body":"if you observe in your exception <code>Caused by: org.postgresql.util.PSQLException: ERROR: schema &quot;hibernatedemo&quot; does not exist</code>  so, create a table with columns <code>id,firstName,lastName</code> and mention that table name in your <code>domain class</code> next line to <code>@Entity</code> write <code>@Table(name=&quot;Your table name&quot;)</code>"},{"owner":{"display_name":"user4671766"},"score":0,"creation_date":1466228629,"post_id":37893510,"comment_id":63241372,"body_markdown":"I want hibernate to create my table. So I have set the &quot;hbm2ddl.auto&quot; property to &quot;create&quot; in the configuration file. Please correct me if I&#39;m wrong.","body":"I want hibernate to create my table. So I have set the &quot;hbm2ddl.auto&quot; property to &quot;create&quot; in the configuration file. Please correct me if I&#39;m wrong."},{"owner":{"account_id":7951510,"reputation":584,"user_id":6002202,"accept_rate":42,"display_name":"subbu royal"},"score":1,"creation_date":1466229000,"post_id":37893510,"comment_id":63241443,"body_markdown":"try to use `update` instead of `create`","body":"try to use <code>update</code> instead of <code>create</code>"},{"owner":{"display_name":"user4671766"},"score":0,"creation_date":1466274287,"post_id":37893510,"comment_id":63253566,"body_markdown":"Thanks for your suggestion. I tried and I&#39;m getting the same error message.","body":"Thanks for your suggestion. I tried and I&#39;m getting the same error message."}],"answers":[{"tags":[],"owner":{"account_id":2260035,"reputation":2448,"user_id":1990359,"display_name":"Sangram Jadhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1466231710,"creation_date":1466231710,"answer_id":37894024,"question_id":37893510,"body_markdown":"Hibernate is trying to create entity in **hibernatedemo** schema. You need to create that schema in database. I did not see your configuration that is pointing to **hibernatedemo** schema. The cfg.xml is generated by MyEclipse Hibernate tools. Check that configuratioon.\r\n\r\nHow to create schema in PostGreSQL [Link](https://www.postgresql.org/docs/9.3/static/sql-createschema.html)\r\n\r\n    CREATE SCHEMA IF NOT EXISTS schema_name\r\n\r\nAfter creating schema try again to start your application","title":"How to resolve &quot;Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;employee&quot; does not exist Position: 13&quot; error?","body":"<p>Hibernate is trying to create entity in <strong>hibernatedemo</strong> schema. You need to create that schema in database. I did not see your configuration that is pointing to <strong>hibernatedemo</strong> schema. The cfg.xml is generated by MyEclipse Hibernate tools. Check that configuratioon.</p>\n\n<p>How to create schema in PostGreSQL <a href=\"https://www.postgresql.org/docs/9.3/static/sql-createschema.html\" rel=\"nofollow\">Link</a></p>\n\n<pre><code>CREATE SCHEMA IF NOT EXISTS schema_name\n</code></pre>\n\n<p>After creating schema try again to start your application</p>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648989308,"creation_date":1648989308,"answer_id":71725958,"question_id":37893510,"body_markdown":"You can simply add that tag to your config xml file\r\n\r\n \r\n\r\n      &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;","title":"How to resolve &quot;Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;employee&quot; does not exist Position: 13&quot; error?","body":"<p>You can simply add that tag to your config xml file</p>\n<pre><code>  &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n</code></pre>\n"}],"owner":{"display_name":"user4671766"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37894024,"answer_count":2,"score":1,"last_activity_date":1648989308,"creation_date":1466226952,"question_id":37893510,"body_markdown":"I have tried to execute the Hibernate Demo application. I&#39;m getting the below error message. \r\n\r\nDatabase: PostgreSQL\r\nHibernate Version: 5\r\n\r\nSource code for Bean class\r\n     package com.javatpoint;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\n\r\n    @Entity\r\n    public class Employee {\r\n    @Id\r\n    private int id;\r\n    private String firstName,lastName;\r\n\r\n    public int getId() {\r\n\treturn id;\r\n    }\r\n    public void setId(int id) {\r\n\tthis.id = id;\r\n    }\r\n    public String getFirstName() {\r\n\treturn firstName;\r\n    }\r\n    public void setFirstName(String firstName) {\r\n\tthis.firstName = firstName;\r\n    }\r\n    public String getLastName() {\r\n\treturn lastName;\r\n    }\r\n    public void setLastName(String lastName) {\r\n\tthis.lastName = lastName;\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\nTest class\r\n    package com.javatpoint;\r\n\r\n    import org.hibernate.*;\r\n    import org.hibernate.cfg.*;\r\n\r\n    public class Test {\r\n    public static void main(String[] args) {\r\n\r\n\tConfiguration cfg=new Configuration();\r\n\tcfg.configure(&quot;/hibernate.cfg.xml&quot;);\r\n\tSessionFactory sf=cfg.buildSessionFactory();\r\n\tSession session=sf.openSession();\r\n\tTransaction t=session.beginTransaction();\r\n\t\r\n\tEmployee e1=new Employee();\r\n\te1.setId(1001);\r\n\te1.setFirstName(&quot;sonoo&quot;);\r\n\te1.setLastName(&quot;jaiswal&quot;);\r\n\t\r\n\tEmployee e2=new Employee();\r\n\te2.setId(1002);\r\n\te2.setFirstName(&quot;vimal&quot;);\r\n\te2.setLastName(&quot;jaiswal&quot;);\r\n\t\r\n\tsession.persist(e1);\r\n\tsession.persist(e2);\r\n\t\r\n\tt.commit();\r\n\tsession.close();\r\n\tSystem.out.println(&quot;successfully saved&quot;);\r\n    }\r\n    }\r\n\r\n\r\nhibernate.cfg.xml\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n          &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n          &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n    &lt;!-- Generated by MyEclipse Hibernate Tools.                   --&gt;\r\n    &lt;hibernate-configuration&gt;\r\n\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://localhost:5555/postgres&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;postgres&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n    \r\n    \t&lt;mapping class=&quot;com.javatpoint.Employee&quot;/&gt;\r\n    &lt;/session-factory&gt;\r\n\r\n\r\nError Message\r\n\r\n\tJun 18, 2016 12:06:34 AM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.2.0.Final}\r\n\tJun 18, 2016 12:06:34 AM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n\tINFO: HHH000206: hibernate.properties not found\r\n\tJun 18, 2016 12:06:34 AM org.hibernate.cfg.Environment buildBytecodeProvider\r\n\tINFO: HHH000021: Bytecode provider name : javassist\r\n\tJun 18, 2016 12:06:34 AM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\r\n\tWARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\r\n\tJun 18, 2016 12:06:35 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n\tINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n\tJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n\tWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n\tJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n\tINFO: HHH10001005: using driver [org.postgresql.Driver] at URL [jdbc:postgresql://localhost:5555/postgres]\r\n\tJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n\tINFO: HHH10001001: Connection properties: {user=postgres, password=****}\r\n\tJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n\tINFO: HHH10001003: Autocommit mode: false\r\n\tJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.PooledConnections &lt;init&gt;\r\n\tINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n\tJun 18, 2016 12:06:35 AM org.hibernate.dialect.Dialect &lt;init&gt;\r\n\tINFO: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n\tJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl useContextualLobCreation\r\n\tINFO: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n\tJun 18, 2016 12:06:35 AM org.hibernate.type.BasicTypeRegistry register\r\n\tINFO: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@236e3f4e\r\n\tJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler logWarning\r\n\tWARN: SQL Warning Code: 0, SQLState: 00000\r\n\tJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler logWarning\r\n\tWARN: schema &quot;hibernatedemo&quot; does not exist, skipping\r\n\tJun 18, 2016 12:06:36 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\n\tWARN: GenerationTarget encountered exception accepting command : Unable to execute command [create table HibernateDemo.Employee (id int4 not null, firstName varchar(255), lastName varchar(255), primary key (id))]\r\n\torg.hibernate.tool.schema.spi.CommandAcceptanceException: Unable to execute command [create table HibernateDemo.Employee (id int4 not null, firstName varchar(255), lastName varchar(255), primary key (id))]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:63)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:434)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:419)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:310)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:165)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:134)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:148)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:65)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:308)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:476)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:707)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:723)\r\n\tat com.javatpoint.Test.main(Test.java:11)\r\n\tCaused by: org.postgresql.util.PSQLException: ERROR: schema &quot;hibernatedemo&quot; does not exist\r\n\tPosition: 14\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:51)\r\n\t... 13 more\r\n\r\n\tJun 18, 2016 12:06:36 AM org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\r\n\tINFO: HHH000476: Executing import script &#39;org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@13f17eb4&#39;\r\n\tJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n\tWARN: SQL Error: 0, SQLState: 42P01\r\n\tJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n\tERROR: ERROR: relation &quot;hibernatedemo.employee&quot; does not exist\r\n\tPosition: 13\r\n\tJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\r\n\tINFO: HHH000010: On release of batch it still contained JDBC statements\r\n\tJun 18, 2016 12:06:36 AM org.hibernate.internal.ExceptionMapperStandardImpl mapManagedFlushFailure\r\n\tERROR: HHH000346: Error during managed flush [org.hibernate.exception.SQLGrammarException: could not execute statement]\r\n\tException in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:147)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:155)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1402)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:472)\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3132)\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2369)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:147)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:221)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)\r\n\tat com.javatpoint.Test.main(Test.java:28)\r\n\tCaused by: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:106)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207)\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:45)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2934)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3434)\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:89)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:560)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:434)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1396)\r\n\t... 9 more\r\n\tCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;hibernatedemo.employee&quot; does not exist\r\n\tPosition: 13\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:161)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:133)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204)\r\n\t... 18 more\r\n\r\n\r\n[Eclipse Project][1]\r\n\r\n\r\n[PostgreSQL Database][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z50pN.jpg\r\n  [2]: https://i.stack.imgur.com/Ol8Nm.jpg","title":"How to resolve &quot;Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;employee&quot; does not exist Position: 13&quot; error?","body":"<p>I have tried to execute the Hibernate Demo application. I'm getting the below error message. </p>\n\n<p>Database: PostgreSQL\nHibernate Version: 5</p>\n\n<p>Source code for Bean class\n     package com.javatpoint;</p>\n\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n\n@Entity\npublic class Employee {\n@Id\nprivate int id;\nprivate String firstName,lastName;\n\npublic int getId() {\nreturn id;\n}\npublic void setId(int id) {\nthis.id = id;\n}\npublic String getFirstName() {\nreturn firstName;\n}\npublic void setFirstName(String firstName) {\nthis.firstName = firstName;\n}\npublic String getLastName() {\nreturn lastName;\n}\npublic void setLastName(String lastName) {\nthis.lastName = lastName;\n}\n\n\n}\n</code></pre>\n\n<p>Test class\n    package com.javatpoint;</p>\n\n<pre><code>import org.hibernate.*;\nimport org.hibernate.cfg.*;\n\npublic class Test {\npublic static void main(String[] args) {\n\nConfiguration cfg=new Configuration();\ncfg.configure(\"/hibernate.cfg.xml\");\nSessionFactory sf=cfg.buildSessionFactory();\nSession session=sf.openSession();\nTransaction t=session.beginTransaction();\n\nEmployee e1=new Employee();\ne1.setId(1001);\ne1.setFirstName(\"sonoo\");\ne1.setLastName(\"jaiswal\");\n\nEmployee e2=new Employee();\ne2.setId(1002);\ne2.setFirstName(\"vimal\");\ne2.setLastName(\"jaiswal\");\n\nsession.persist(e1);\nsession.persist(e2);\n\nt.commit();\nsession.close();\nSystem.out.println(\"successfully saved\");\n}\n}\n</code></pre>\n\n<p>hibernate.cfg.xml</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n      \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n      \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;!-- Generated by MyEclipse Hibernate Tools.                   --&gt;\n&lt;hibernate-configuration&gt;\n\n&lt;session-factory&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\n    &lt;property name=\"connection.url\"&gt;jdbc:postgresql://localhost:5555/postgres&lt;/property&gt;\n    &lt;property name=\"connection.username\"&gt;postgres&lt;/property&gt;\n    &lt;property name=\"connection.password\"&gt;password&lt;/property&gt;\n    &lt;property name=\"connection.driver_class\"&gt;org.postgresql.Driver&lt;/property&gt;\n\n    &lt;mapping class=\"com.javatpoint.Employee\"/&gt;\n&lt;/session-factory&gt;\n</code></pre>\n\n<p>Error Message</p>\n\n<pre><code>Jun 18, 2016 12:06:34 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.2.0.Final}\nJun 18, 2016 12:06:34 AM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nJun 18, 2016 12:06:34 AM org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\nJun 18, 2016 12:06:34 AM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\nWARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\nJun 18, 2016 12:06:35 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\nJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.postgresql.Driver] at URL [jdbc:postgresql://localhost:5555/postgres]\nJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {user=postgres, password=****}\nJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.connections.internal.PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nJun 18, 2016 12:06:35 AM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\nJun 18, 2016 12:06:35 AM org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl useContextualLobCreation\nINFO: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\nJun 18, 2016 12:06:35 AM org.hibernate.type.BasicTypeRegistry register\nINFO: HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@236e3f4e\nJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler logWarning\nWARN: SQL Warning Code: 0, SQLState: 00000\nJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler logWarning\nWARN: schema \"hibernatedemo\" does not exist, skipping\nJun 18, 2016 12:06:36 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Unable to execute command [create table HibernateDemo.Employee (id int4 not null, firstName varchar(255), lastName varchar(255), primary key (id))]\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Unable to execute command [create table HibernateDemo.Employee (id int4 not null, firstName varchar(255), lastName varchar(255), primary key (id))]\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:63)\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:434)\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:419)\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:310)\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:165)\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:134)\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:148)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:65)\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:308)\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:476)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:707)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:723)\nat com.javatpoint.Test.main(Test.java:11)\nCaused by: org.postgresql.util.PSQLException: ERROR: schema \"hibernatedemo\" does not exist\nPosition: 14\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)\nat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:51)\n... 13 more\n\nJun 18, 2016 12:06:36 AM org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\nINFO: HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@13f17eb4'\nJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 0, SQLState: 42P01\nJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: ERROR: relation \"hibernatedemo.employee\" does not exist\nPosition: 13\nJun 18, 2016 12:06:36 AM org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\nINFO: HHH000010: On release of batch it still contained JDBC statements\nJun 18, 2016 12:06:36 AM org.hibernate.internal.ExceptionMapperStandardImpl mapManagedFlushFailure\nERROR: HHH000346: Error during managed flush [org.hibernate.exception.SQLGrammarException: could not execute statement]\nException in thread \"main\" javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute statement\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:147)\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:155)\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\nat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1402)\nat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:472)\nat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3132)\nat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2369)\nat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:147)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:221)\nat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)\nat com.javatpoint.Test.main(Test.java:28)\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute statement\nat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:106)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207)\nat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:45)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2934)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3434)\nat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:89)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:560)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:434)\nat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337)\nat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\nat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1396)\n... 9 more\nCaused by: org.postgresql.util.PSQLException: ERROR: relation \"hibernatedemo.employee\" does not exist\nPosition: 13\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)\nat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:161)\nat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:133)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204)\n... 18 more\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/z50pN.jpg\" rel=\"nofollow\">Eclipse Project</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ol8Nm.jpg\" rel=\"nofollow\">PostgreSQL Database</a></p>\n"},{"tags":["java","regex","java-11"],"answers":[{"tags":[],"owner":{"account_id":29583,"reputation":7140,"user_id":80075,"accept_rate":100,"display_name":"Tony BenBrahim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648850568,"creation_date":1648850568,"answer_id":71713153,"question_id":71712706,"body_markdown":"I would use `(((.+?)=&quot;(.+?)&quot;)\\s*)`\r\nFor each line, you will have a match for each field, so you have to iterate through the matches and each match will have four groups:\r\n- the third group will have the field name \r\n- the fourth group will have the field value\r\n\r\nAlternatively, you could modify your regex to `timestamp=(.+?) message=(.+?) id=(.+?) (.+?=&quot;(.+?)&quot;)*`, but I think the above is cleaner and more flexible.","title":"Java 11 : RegEx to Parse Log Message to CSV format","body":"<p>I would use <code>(((.+?)=&quot;(.+?)&quot;)\\s*)</code>\nFor each line, you will have a match for each field, so you have to iterate through the matches and each match will have four groups:</p>\n<ul>\n<li>the third group will have the field name</li>\n<li>the fourth group will have the field value</li>\n</ul>\n<p>Alternatively, you could modify your regex to <code>timestamp=(.+?) message=(.+?) id=(.+?) (.+?=&quot;(.+?)&quot;)*</code>, but I think the above is cleaner and more flexible.</p>\n"},{"tags":[],"owner":{"account_id":4247894,"reputation":41,"user_id":3475983,"display_name":"djplaistow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648855031,"creation_date":1648855031,"answer_id":71713597,"question_id":71712706,"body_markdown":"Tony BenBrahim&#39;s first regex looks like the generic regex I would use. One thing that might make it more intuitive to some developers is to change the first two parenthesis to non-capturing:\r\n\r\n`(?:(?:(.+?)=&quot;(.+?)&quot;)\\s*)`\r\n\r\nGroup one will contain the field name, group two will contain the field value.\r\n\r\nIf you aren&#39;t in control of the format of all the logs you will be parsing, whitespace may be allowed. I would account for whitespace in one more place where I suspect it may be allowed with:\r\n\r\n`(?:(?:(.+?)=\\s*&quot;(.+?)&quot;)\\s*)`\r\n\r\nAn empty value might also be permitted, so I would allow that by changing the second capture group&#39;s quantifier:\r\n\r\n`(?:(?:(.+?)=\\s*&quot;(.*?)&quot;)\\s*)`\r\n\r\nThe final modification that might be useful is to trim whitespace off the ends of the two captured fields (i.e. remove leading and trailing whitespace from either end of the captured results):\r\n\r\n`(?:(?:\\s*(.+?)\\s*=\\s*&quot;\\s*(.*?)\\s*&quot;)\\s*)` ","title":"Java 11 : RegEx to Parse Log Message to CSV format","body":"<p>Tony BenBrahim's first regex looks like the generic regex I would use. One thing that might make it more intuitive to some developers is to change the first two parenthesis to non-capturing:</p>\n<p><code>(?:(?:(.+?)=&quot;(.+?)&quot;)\\s*)</code></p>\n<p>Group one will contain the field name, group two will contain the field value.</p>\n<p>If you aren't in control of the format of all the logs you will be parsing, whitespace may be allowed. I would account for whitespace in one more place where I suspect it may be allowed with:</p>\n<p><code>(?:(?:(.+?)=\\s*&quot;(.+?)&quot;)\\s*)</code></p>\n<p>An empty value might also be permitted, so I would allow that by changing the second capture group's quantifier:</p>\n<p><code>(?:(?:(.+?)=\\s*&quot;(.*?)&quot;)\\s*)</code></p>\n<p>The final modification that might be useful is to trim whitespace off the ends of the two captured fields (i.e. remove leading and trailing whitespace from either end of the captured results):</p>\n<p><code>(?:(?:\\s*(.+?)\\s*=\\s*&quot;\\s*(.*?)\\s*&quot;)\\s*)</code></p>\n"},{"tags":[],"owner":{"account_id":1706574,"reputation":13314,"user_id":1565512,"display_name":"MikeM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648989133,"creation_date":1648906964,"answer_id":71718058,"question_id":71712706,"body_markdown":"If we are trying to parse an unknown number of key-value pairs from a string then we can use a regex with two capturing groups that matches each key-value pair one at a time, and use it with `find` in a loop. \r\n\r\nA key is matched using `\\S+` to match one or more non-space characters, and a value is matched using either `&quot;[^&quot;]*&quot;` which is `&quot;` followed by zero or more characters that are not `&quot;`, followed by `&quot;`, or using `\\S*` which is zero of more non-space characters.  \r\n\r\n```java\r\nPattern p = Pattern.compile(&quot;(\\\\S+)=(\\&quot;[^\\&quot;]*\\&quot;|\\\\S*)&quot;);\r\nMatcher m = p.matcher(line);\r\nwhile (m.find()) {\r\n  String key = m.group(1);\r\n  String value = m.group(2);\r\n  // Do something with the key and value.\r\n}\r\n```\r\n\r\nThe following will create your desired output exactly, except your output is missing the required trailing comma after `&quot;test1&quot;`.\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\npublic class LogParser {\r\n  public static void main(String[] args) throws Exception {\r\n    String logs = &quot;&quot; +\r\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:36 PDT 2019\\&quot; message=\\&quot;test 10\\&quot; id=10 field_1=\\&quot;test 10\\&quot; field_6=\\&quot;test 1\\&quot;\\n&quot; +\r\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:37 PDT 2019\\&quot; message=\\&quot;test 4\\&quot; id=4 field_2=\\&quot;test 4\\&quot;\\n&quot; +\r\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:38 PDT 2019\\&quot; message=\\&quot;test 2\\&quot; id=3 field_3=\\&quot;test 2\\&quot; field_9=\\&quot;test 23\\&quot;\\n&quot; +\r\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:39 PDT 2019\\&quot; message=\\&quot;test 3\\&quot; id=2 field_4=\\&quot;test 3\\&quot;\\n&quot; +\r\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:40 PDT 2019\\&quot; message=\\&quot;test 4\\&quot; id=1 field_5=\\&quot;test 4\\&quot;\\n&quot; +\r\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:37 PDT 2019\\&quot; message=\\&quot;test 5\\&quot; id=5 field_3=\\&quot;test 10\\&quot;\\n&quot; +\r\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:40 PDT 2019\\&quot; message=\\&quot;test 6\\&quot; id=6 field_1=\\&quot;test 5\\&quot;&quot;;\r\n\r\n    final List&lt;String&gt; knownHeaders = new ArrayList&lt;String&gt;(List.of(&quot;id&quot;, &quot;timestamp&quot;, &quot;message&quot;));\r\n    final List&lt;String&gt; otherHeaders = new ArrayList&lt;String&gt;();\r\n    final List&lt;Map&lt;String, String&gt;&gt; records = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n    final Pattern p = Pattern.compile(&quot;(\\\\S+)=(\\&quot;[^\\&quot;]*\\&quot;|\\\\S+)&quot;);\r\n    \r\n    for (String line : logs.split(&quot;\\n&quot;)) {\r\n      Matcher m = p.matcher(line);\r\n      Map&lt;String, String&gt; record = new HashMap&lt;String, String&gt;();\r\n      while (m.find()) {\r\n        String key = m.group(1);\r\n        if (!knownHeaders.contains(key) &amp;&amp; !otherHeaders.contains(key)) {\r\n          otherHeaders.add(key);\r\n        } else if (record.containsKey(key)) {\r\n          throw new Exception(&quot;Line contains a duplicated field name: &quot; + line);\r\n        }\r\n        record.put(key, m.group(2));\r\n      }\r\n      records.add(record);\r\n    }\r\n\r\n    // Sort records in ascending order of id number.\r\n    Collections.sort(records, new Comparator&lt;Map&lt;String, String&gt;&gt;() {\r\n      @Override\r\n      public int compare(Map&lt;String, String&gt; left, Map&lt;String, String&gt; right) {\r\n        return Integer.parseInt(left.get(&quot;id&quot;)) - Integer.parseInt(right.get(&quot;id&quot;));\r\n      }\r\n    });\r\n    \r\n    // Sort otherHeaders in lexicographical order.\r\n    Collections.sort(otherHeaders);\r\n    knownHeaders.addAll(otherHeaders);\r\n    String csv = String.join(&quot;,&quot;, knownHeaders) + &quot;\\n&quot;;\r\n    \r\n    // Use iterators and hasNext() to prevent unwanted trailing commas and final newline.\r\n    Iterator&lt;Map&lt;String, String&gt;&gt; ri = records.iterator();\r\n    while (ri.hasNext()) {\r\n      Map&lt;String, String&gt; record = ri.next();\r\n      Set&lt;String&gt; keys = record.keySet(); \r\n      String line = &quot;&quot;;\r\n      Iterator&lt;String&gt; hi = knownHeaders.iterator();\r\n      while (hi.hasNext()) {\r\n        String header = hi.next();\r\n        if (keys.contains(header)) line += record.get(header);\r\n        if (hi.hasNext()) line += &quot;,&quot;;\r\n      }\r\n      csv += line;\r\n      if (ri.hasNext()) csv += &quot;\\n&quot;;\r\n    }    \r\n\r\n    System.out.println(csv);\r\n  }\r\n}\r\n```\r\n\r\nA fuller implementation would require checks in the `compare` function that both `id` fields are not `null` and that they can be converted by `parseInt`. \r\n\r\nAlso, the regular expression could be extended if necessary to allow escaped `&quot;` or `=` within the quoted value of a key-value pair.\r\n","title":"Java 11 : RegEx to Parse Log Message to CSV format","body":"<p>If we are trying to parse an unknown number of key-value pairs from a string then we can use a regex with two capturing groups that matches each key-value pair one at a time, and use it with <code>find</code> in a loop.</p>\n<p>A key is matched using <code>\\S+</code> to match one or more non-space characters, and a value is matched using either <code>&quot;[^&quot;]*&quot;</code> which is <code>&quot;</code> followed by zero or more characters that are not <code>&quot;</code>, followed by <code>&quot;</code>, or using <code>\\S*</code> which is zero of more non-space characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;(\\\\S+)=(\\&quot;[^\\&quot;]*\\&quot;|\\\\S*)&quot;);\nMatcher m = p.matcher(line);\nwhile (m.find()) {\n  String key = m.group(1);\n  String value = m.group(2);\n  // Do something with the key and value.\n}\n</code></pre>\n<p>The following will create your desired output exactly, except your output is missing the required trailing comma after <code>&quot;test1&quot;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\npublic class LogParser {\n  public static void main(String[] args) throws Exception {\n    String logs = &quot;&quot; +\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:36 PDT 2019\\&quot; message=\\&quot;test 10\\&quot; id=10 field_1=\\&quot;test 10\\&quot; field_6=\\&quot;test 1\\&quot;\\n&quot; +\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:37 PDT 2019\\&quot; message=\\&quot;test 4\\&quot; id=4 field_2=\\&quot;test 4\\&quot;\\n&quot; +\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:38 PDT 2019\\&quot; message=\\&quot;test 2\\&quot; id=3 field_3=\\&quot;test 2\\&quot; field_9=\\&quot;test 23\\&quot;\\n&quot; +\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:39 PDT 2019\\&quot; message=\\&quot;test 3\\&quot; id=2 field_4=\\&quot;test 3\\&quot;\\n&quot; +\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:40 PDT 2019\\&quot; message=\\&quot;test 4\\&quot; id=1 field_5=\\&quot;test 4\\&quot;\\n&quot; +\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:37 PDT 2019\\&quot; message=\\&quot;test 5\\&quot; id=5 field_3=\\&quot;test 10\\&quot;\\n&quot; +\n      &quot;timestamp=\\&quot;Wed Jun 19 09:35:40 PDT 2019\\&quot; message=\\&quot;test 6\\&quot; id=6 field_1=\\&quot;test 5\\&quot;&quot;;\n\n    final List&lt;String&gt; knownHeaders = new ArrayList&lt;String&gt;(List.of(&quot;id&quot;, &quot;timestamp&quot;, &quot;message&quot;));\n    final List&lt;String&gt; otherHeaders = new ArrayList&lt;String&gt;();\n    final List&lt;Map&lt;String, String&gt;&gt; records = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n    final Pattern p = Pattern.compile(&quot;(\\\\S+)=(\\&quot;[^\\&quot;]*\\&quot;|\\\\S+)&quot;);\n    \n    for (String line : logs.split(&quot;\\n&quot;)) {\n      Matcher m = p.matcher(line);\n      Map&lt;String, String&gt; record = new HashMap&lt;String, String&gt;();\n      while (m.find()) {\n        String key = m.group(1);\n        if (!knownHeaders.contains(key) &amp;&amp; !otherHeaders.contains(key)) {\n          otherHeaders.add(key);\n        } else if (record.containsKey(key)) {\n          throw new Exception(&quot;Line contains a duplicated field name: &quot; + line);\n        }\n        record.put(key, m.group(2));\n      }\n      records.add(record);\n    }\n\n    // Sort records in ascending order of id number.\n    Collections.sort(records, new Comparator&lt;Map&lt;String, String&gt;&gt;() {\n      @Override\n      public int compare(Map&lt;String, String&gt; left, Map&lt;String, String&gt; right) {\n        return Integer.parseInt(left.get(&quot;id&quot;)) - Integer.parseInt(right.get(&quot;id&quot;));\n      }\n    });\n    \n    // Sort otherHeaders in lexicographical order.\n    Collections.sort(otherHeaders);\n    knownHeaders.addAll(otherHeaders);\n    String csv = String.join(&quot;,&quot;, knownHeaders) + &quot;\\n&quot;;\n    \n    // Use iterators and hasNext() to prevent unwanted trailing commas and final newline.\n    Iterator&lt;Map&lt;String, String&gt;&gt; ri = records.iterator();\n    while (ri.hasNext()) {\n      Map&lt;String, String&gt; record = ri.next();\n      Set&lt;String&gt; keys = record.keySet(); \n      String line = &quot;&quot;;\n      Iterator&lt;String&gt; hi = knownHeaders.iterator();\n      while (hi.hasNext()) {\n        String header = hi.next();\n        if (keys.contains(header)) line += record.get(header);\n        if (hi.hasNext()) line += &quot;,&quot;;\n      }\n      csv += line;\n      if (ri.hasNext()) csv += &quot;\\n&quot;;\n    }    \n\n    System.out.println(csv);\n  }\n}\n</code></pre>\n<p>A fuller implementation would require checks in the <code>compare</code> function that both <code>id</code> fields are not <code>null</code> and that they can be converted by <code>parseInt</code>.</p>\n<p>Also, the regular expression could be extended if necessary to allow escaped <code>&quot;</code> or <code>=</code> within the quoted value of a key-value pair.</p>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648989133,"creation_date":1648846858,"question_id":71712706,"body_markdown":"I need to parse the `logs` and print it in csv format as below, so far I was able to extract the timestamp, message and id from the log message but I was having hard time extracting the fields using the regex, can someone please help me parsing the fields such as `field_1,field_2,field_3,field_4,field_5,field_6,field_9.......` from the input logs.\r\nIf the input logs has more fields like `field_10`, `field_11` those needs to be included in the csv headers and values as well, but below is the expected output for the input `logs`\r\n\r\n**Expected CSV output**\r\n\r\n    id,timestamp,message,field_1,field_2,field_3,field_4,field_5,field_6,field_9\r\n    1,&quot;Wed Jun 19 09:35:40 PDT 2019&quot;,&quot;test 4&quot;,,,,,&quot;test 4&quot;,,\r\n    2,&quot;Wed Jun 19 09:35:39 PDT 2019&quot;,&quot;test 3&quot;,,,,&quot;test 3&quot;,,,\r\n    3,&quot;Wed Jun 19 09:35:38 PDT 2019&quot;,&quot;test 2&quot;,,,&quot;test 2&quot;,,,,&quot;test 23&quot;\r\n    4,&quot;Wed Jun 19 09:35:37 PDT 2019&quot;,&quot;test 4&quot;,,&quot;test 4&quot;,,,,,\r\n    5,&quot;Wed Jun 19 09:35:37 PDT 2019&quot;,&quot;test 5&quot;,,,&quot;test 10&quot;,,,,\r\n    6,&quot;Wed Jun 19 09:35:40 PDT 2019&quot;,&quot;test 6&quot;,&quot;test 5&quot;,,,,,,\r\n    10,&quot;Wed Jun 19 09:35:36 PDT 2019&quot;,&quot;test 10&quot;,&quot;test 10&quot;,,,,,&quot;test 1&quot;\r\n\r\n**LogParser**\r\n\r\n    public class LogParser {\r\n        public static void main(String[] args) {\r\n            String logs = &quot;&quot; +\r\n                    &quot;timestamp=\\&quot;Wed Jun 19 09:35:36 PDT 2019\\&quot; message=\\&quot;test 10\\&quot; id=10 field_1=\\&quot;test 10\\&quot; field_6=\\&quot;test 1\\&quot;\\n&quot; +\r\n                    &quot;timestamp=\\&quot;Wed Jun 19 09:35:37 PDT 2019\\&quot; message=\\&quot;test 4\\&quot; id=4 field_2=\\&quot;test 4\\&quot;\\n&quot; +\r\n                    &quot;timestamp=\\&quot;Wed Jun 19 09:35:38 PDT 2019\\&quot; message=\\&quot;test 2\\&quot; id=3 field_3=\\&quot;test 2\\&quot; field_9=\\&quot;test 23\\&quot;\\n&quot; +\r\n                    &quot;timestamp=\\&quot;Wed Jun 19 09:35:39 PDT 2019\\&quot; message=\\&quot;test 3\\&quot; id=2 field_4=\\&quot;test 3\\&quot;\\n&quot; +\r\n                    &quot;timestamp=\\&quot;Wed Jun 19 09:35:40 PDT 2019\\&quot; message=\\&quot;test 4\\&quot; id=1 field_5=\\&quot;test 4\\&quot;\\n&quot; +\r\n                    &quot;timestamp=\\&quot;Wed Jun 19 09:35:37 PDT 2019\\&quot; message=\\&quot;test 5\\&quot; id=5 field_3=\\&quot;test 10\\&quot;\\n&quot; +\r\n                    &quot;timestamp=\\&quot;Wed Jun 19 09:35:40 PDT 2019\\&quot; message=\\&quot;test 6\\&quot; id=6 field_1=\\&quot;test 5\\&quot;&quot;;\r\n            final Pattern p = Pattern.compile(&quot;timestamp=(.+?) message=(.+?) id=(.+?) (.+?)&quot;);\r\n            for (String line : logs.split(&quot;\\n&quot;)) {\r\n\r\n                Matcher m = p.matcher(line);\r\n\r\n                String csvline = null;\r\n                String fields = null;\r\n                if (m.matches()) {\r\n                    csvline = (m.group(3)) + &quot;,&quot; + m.group(1) + &quot;,&quot; + m.group(2);\r\n                    fields = m.group(4);\r\n                }\r\n                System.out.println(fields); // having hard time parsing the headers, values and formating\r\n\r\n            }\r\n        }\r\n    }","title":"Java 11 : RegEx to Parse Log Message to CSV format","body":"<p>I need to parse the <code>logs</code> and print it in csv format as below, so far I was able to extract the timestamp, message and id from the log message but I was having hard time extracting the fields using the regex, can someone please help me parsing the fields such as <code>field_1,field_2,field_3,field_4,field_5,field_6,field_9.......</code> from the input logs.\nIf the input logs has more fields like <code>field_10</code>, <code>field_11</code> those needs to be included in the csv headers and values as well, but below is the expected output for the input <code>logs</code></p>\n<p><strong>Expected CSV output</strong></p>\n<pre><code>id,timestamp,message,field_1,field_2,field_3,field_4,field_5,field_6,field_9\n1,&quot;Wed Jun 19 09:35:40 PDT 2019&quot;,&quot;test 4&quot;,,,,,&quot;test 4&quot;,,\n2,&quot;Wed Jun 19 09:35:39 PDT 2019&quot;,&quot;test 3&quot;,,,,&quot;test 3&quot;,,,\n3,&quot;Wed Jun 19 09:35:38 PDT 2019&quot;,&quot;test 2&quot;,,,&quot;test 2&quot;,,,,&quot;test 23&quot;\n4,&quot;Wed Jun 19 09:35:37 PDT 2019&quot;,&quot;test 4&quot;,,&quot;test 4&quot;,,,,,\n5,&quot;Wed Jun 19 09:35:37 PDT 2019&quot;,&quot;test 5&quot;,,,&quot;test 10&quot;,,,,\n6,&quot;Wed Jun 19 09:35:40 PDT 2019&quot;,&quot;test 6&quot;,&quot;test 5&quot;,,,,,,\n10,&quot;Wed Jun 19 09:35:36 PDT 2019&quot;,&quot;test 10&quot;,&quot;test 10&quot;,,,,,&quot;test 1&quot;\n</code></pre>\n<p><strong>LogParser</strong></p>\n<pre><code>public class LogParser {\n    public static void main(String[] args) {\n        String logs = &quot;&quot; +\n                &quot;timestamp=\\&quot;Wed Jun 19 09:35:36 PDT 2019\\&quot; message=\\&quot;test 10\\&quot; id=10 field_1=\\&quot;test 10\\&quot; field_6=\\&quot;test 1\\&quot;\\n&quot; +\n                &quot;timestamp=\\&quot;Wed Jun 19 09:35:37 PDT 2019\\&quot; message=\\&quot;test 4\\&quot; id=4 field_2=\\&quot;test 4\\&quot;\\n&quot; +\n                &quot;timestamp=\\&quot;Wed Jun 19 09:35:38 PDT 2019\\&quot; message=\\&quot;test 2\\&quot; id=3 field_3=\\&quot;test 2\\&quot; field_9=\\&quot;test 23\\&quot;\\n&quot; +\n                &quot;timestamp=\\&quot;Wed Jun 19 09:35:39 PDT 2019\\&quot; message=\\&quot;test 3\\&quot; id=2 field_4=\\&quot;test 3\\&quot;\\n&quot; +\n                &quot;timestamp=\\&quot;Wed Jun 19 09:35:40 PDT 2019\\&quot; message=\\&quot;test 4\\&quot; id=1 field_5=\\&quot;test 4\\&quot;\\n&quot; +\n                &quot;timestamp=\\&quot;Wed Jun 19 09:35:37 PDT 2019\\&quot; message=\\&quot;test 5\\&quot; id=5 field_3=\\&quot;test 10\\&quot;\\n&quot; +\n                &quot;timestamp=\\&quot;Wed Jun 19 09:35:40 PDT 2019\\&quot; message=\\&quot;test 6\\&quot; id=6 field_1=\\&quot;test 5\\&quot;&quot;;\n        final Pattern p = Pattern.compile(&quot;timestamp=(.+?) message=(.+?) id=(.+?) (.+?)&quot;);\n        for (String line : logs.split(&quot;\\n&quot;)) {\n\n            Matcher m = p.matcher(line);\n\n            String csvline = null;\n            String fields = null;\n            if (m.matches()) {\n                csvline = (m.group(3)) + &quot;,&quot; + m.group(1) + &quot;,&quot; + m.group(2);\n                fields = m.group(4);\n            }\n            System.out.println(fields); // having hard time parsing the headers, values and formating\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user14687465"},"score":1,"creation_date":1648988884,"post_id":71725852,"comment_id":126757327,"body_markdown":"https://stackoverflow.com/questions/9445196/invalid-escape-sequence-valid-ones-are-b-t-n-f-r","body":"<a href=\"https://stackoverflow.com/questions/9445196/invalid-escape-sequence-valid-ones-are-b-t-n-f-r\" title=\"invalid escape sequence valid ones are b t n f r\">stackoverflow.com/questions/9445196/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15884321,"reputation":106,"user_id":11461170,"display_name":"Mussi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648988762,"creation_date":1648988762,"answer_id":71725880,"question_id":71725852,"body_markdown":"Use `\\\\` instead of `\\` in this line:\r\n\r\n      System.out.println(&quot;Please insert your gender (M\\F): &quot;);\r\n\r\nSo :\r\n\r\n      System.out.println(&quot;Please insert your gender (M\\\\F): &quot;);\r\n\r\n","title":"I wrote a code in java and i got error for some reason","body":"<p>Use <code>\\\\</code> instead of <code>\\</code> in this line:</p>\n<pre><code>  System.out.println(&quot;Please insert your gender (M\\F): &quot;);\n</code></pre>\n<p>So :</p>\n<pre><code>  System.out.println(&quot;Please insert your gender (M\\\\F): &quot;);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user18481390"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648989105,"creation_date":1648989105,"answer_id":71725923,"question_id":71725852,"body_markdown":"Your problem is here \r\n\r\n    System.out.println(&quot;Please insert your gender (M\\F): &quot;);\r\n escape sequence is (\\n,\\b,\\t etc)\r\nyou used (M\\F) as your required and java is thinking that &quot;\\F&quot; is an escape sequence.\r\nSo, make your (M\\\\F) like below\r\n\r\n    System.out.println(&quot;Please insert your gender (M\\\\F): &quot;);","title":"I wrote a code in java and i got error for some reason","body":"<p>Your problem is here</p>\n<pre><code>System.out.println(&quot;Please insert your gender (M\\F): &quot;);\n</code></pre>\n<p>escape sequence is (\\n,\\b,\\t etc)\nyou used (M\\F) as your required and java is thinking that &quot;\\F&quot; is an escape sequence.\nSo, make your (M\\F) like below</p>\n<pre><code>System.out.println(&quot;Please insert your gender (M\\\\F): &quot;);\n</code></pre>\n"}],"owner":{"account_id":22064664,"reputation":3,"user_id":16326732,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648989156,"accepted_answer_id":71725923,"answer_count":2,"score":0,"last_activity_date":1648989105,"creation_date":1648988559,"question_id":71725852,"body_markdown":"    /*The code should pick up your gander (m\\f)\r\n    you have to fill in your results.\r\n    If you are female you fill in seven results and if you are male you fill ten.\r\n    At the end, the code writes you the amount of all your results together\r\n      */\r\n    import java.util.*;\r\n    public class gameScore {\r\n      public static void main (String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int i=0, place=0, finalScore=0;\r\n        \r\n        //askes you for your gender until you inserting valid answer\r\n        while (i==0) {\r\n          System.out.println(&quot;Please insert your gender (M\\F): &quot;);\r\n          char gender = scanner.next().charAt(0);\r\n          if (gender==&#39;f&#39; || gender==&#39;F&#39; || gender==&#39;m&#39; || gender==&#39;M&#39;) {\r\n            i++;\r\n          }\r\n        }\r\n       \r\n        //if you inserted m\\M:\r\n        if (gender == &#39;m&#39; || gender == &#39;M&#39;) {\r\n          for (i=0; i&lt;10; i++) {\r\n            System.out.println(&quot;Please insert your score in game number &quot; + (i+1) + &quot;: &quot;);\r\n            int score = scanner.nextInt();\r\n            finalScore += score;\r\n          }\r\n        }\r\n    \r\n    //if you inserted f\\F:\r\n    if (gender == &#39;f&#39; || gender == &#39;F&#39;) {\r\n      for (i=0; i&lt;7; i++) {\r\n        System.out.println(&quot;Please insert your score in game number &quot; + (i+1) + &quot;: &quot;);\r\n        int score = scanner.nextInt();\r\n        finalScore += score;\r\n      }\r\n    }\r\n    \r\n    //prints the final score\r\n    System.out.println(&quot;your final score is: &quot; + finalScore);\r\n    \r\n  }\r\n}\r\n\r\n/* the error i get:\r\nFile: C:\\Users\\avino\\Documents\\java_project\\gameScore.java  [line: 14]\r\nError: Invalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  \\&quot;  \\&#39;  \\\\ )\r\n*/","title":"I wrote a code in java and i got error for some reason","body":"<pre><code>/*The code should pick up your gander (m\\f)\nyou have to fill in your results.\nIf you are female you fill in seven results and if you are male you fill ten.\nAt the end, the code writes you the amount of all your results together\n  */\nimport java.util.*;\npublic class gameScore {\n  public static void main (String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    int i=0, place=0, finalScore=0;\n    \n    //askes you for your gender until you inserting valid answer\n    while (i==0) {\n      System.out.println(&quot;Please insert your gender (M\\F): &quot;);\n      char gender = scanner.next().charAt(0);\n      if (gender=='f' || gender=='F' || gender=='m' || gender=='M') {\n        i++;\n      }\n    }\n   \n    //if you inserted m\\M:\n    if (gender == 'm' || gender == 'M') {\n      for (i=0; i&lt;10; i++) {\n        System.out.println(&quot;Please insert your score in game number &quot; + (i+1) + &quot;: &quot;);\n        int score = scanner.nextInt();\n        finalScore += score;\n      }\n    }\n\n//if you inserted f\\F:\nif (gender == 'f' || gender == 'F') {\n  for (i=0; i&lt;7; i++) {\n    System.out.println(&quot;Please insert your score in game number &quot; + (i+1) + &quot;: &quot;);\n    int score = scanner.nextInt();\n    finalScore += score;\n  }\n}\n\n//prints the final score\nSystem.out.println(&quot;your final score is: &quot; + finalScore);\n</code></pre>\n<p>}\n}</p>\n<p>/* the error i get:\nFile: C:\\Users\\avino\\Documents\\java_project\\gameScore.java  [line: 14]\nError: Invalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  &quot;  '  \\ )\n*/</p>\n"},{"tags":["java","spring","junit5","spring-test"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1649046537,"post_id":71725630,"comment_id":126768028,"body_markdown":"This [article](https://rieckpil.de/what-the-heck-is-the-springextension-used-for/) may help to understand the usages of this JUnit Jupiter extension","body":"This <a href=\"https://rieckpil.de/what-the-heck-is-the-springextension-used-for/\" rel=\"nofollow noreferrer\">article</a> may help to understand the usages of this JUnit Jupiter extension"}],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648988944,"creation_date":1648988357,"answer_id":71725829,"question_id":71725630,"body_markdown":"You get no advantage of using the SpringExtension in this test class as you are not using any Mockito mocks.\r\n\r\nYou add `@ExtendWith(SpringExtension.class)` to the test class when you want to use the Mockito annotations such as `@Mock`, `@Mockbean` etc.\r\n\r\nYou are correct regarding `@Autowired`, there are also other ways to make autowiring work such as using the `@SpringBootTest` annotation.","title":"What exactly is the purpose of SpringExtension?","body":"<p>You get no advantage of using the SpringExtension in this test class as you are not using any Mockito mocks.</p>\n<p>You add <code>@ExtendWith(SpringExtension.class)</code> to the test class when you want to use the Mockito annotations such as <code>@Mock</code>, <code>@Mockbean</code> etc.</p>\n<p>You are correct regarding <code>@Autowired</code>, there are also other ways to make autowiring work such as using the <code>@SpringBootTest</code> annotation.</p>\n"}],"owner":{"account_id":14670659,"reputation":171,"user_id":10595214,"display_name":"saravanan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648988944,"creation_date":1648986830,"question_id":71725630,"body_markdown":"What exactly SpringExtension do here? Even without that, the test case executes below as expected.\r\n\r\nAs per the doc [doc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html)\r\n```\r\nSpringExtension integrates the Spring TestContext Framework into JUnit 5&#39;s Jupiter programming model.\r\n\r\nTo use this extension, simply annotate a JUnit Jupiter based test class with @ExtendWith(SpringExtension.class), @SpringJUnitConfig, or @SpringJUnitWebConfig.\r\n```\r\n\r\n**Unit Test with SpringExtension**\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = SellCarService.class)\r\nclass SellCarServiceTest {\r\n\r\n    @Autowired\r\n    private SellCarService carService;\r\n\r\n    @Test\r\n    public void testGetCarId() {\r\n        String actual = carService.getCarDetails(&quot;1234&quot;);\r\n        String expected = &quot;PRIUS&quot;;\r\n        Assertions.assertEquals(expected, actual);\r\n    }\r\n}\r\n```\r\n\r\n**Simple Unit Test**\r\n```\r\nclass SellCarServiceTest {\r\n\r\n    private final SellCarService carService = new SellCarService();\r\n\r\n    @Test\r\n    public void testGetCarId() {\r\n        String actual = carService.getCarDetails(&quot;1234&quot;);\r\n        String expected = &quot;PRIUS&quot;;\r\n        Assertions.assertEquals(expected, actual);\r\n    }\r\n}\r\n```\r\n\r\nIf we want to use @Autowired in test classes, then we can go for the first approach or else we can use the simple approach as mentioned later. Is this understanding correct?\r\n\r\nOr what is the advantage we get if we use SpringExtension or MockitoExtension?","title":"What exactly is the purpose of SpringExtension?","body":"<p>What exactly SpringExtension do here? Even without that, the test case executes below as expected.</p>\n<p>As per the doc <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html\" rel=\"nofollow noreferrer\">doc</a></p>\n<pre><code>SpringExtension integrates the Spring TestContext Framework into JUnit 5's Jupiter programming model.\n\nTo use this extension, simply annotate a JUnit Jupiter based test class with @ExtendWith(SpringExtension.class), @SpringJUnitConfig, or @SpringJUnitWebConfig.\n</code></pre>\n<p><strong>Unit Test with SpringExtension</strong></p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = SellCarService.class)\nclass SellCarServiceTest {\n\n    @Autowired\n    private SellCarService carService;\n\n    @Test\n    public void testGetCarId() {\n        String actual = carService.getCarDetails(&quot;1234&quot;);\n        String expected = &quot;PRIUS&quot;;\n        Assertions.assertEquals(expected, actual);\n    }\n}\n</code></pre>\n<p><strong>Simple Unit Test</strong></p>\n<pre><code>class SellCarServiceTest {\n\n    private final SellCarService carService = new SellCarService();\n\n    @Test\n    public void testGetCarId() {\n        String actual = carService.getCarDetails(&quot;1234&quot;);\n        String expected = &quot;PRIUS&quot;;\n        Assertions.assertEquals(expected, actual);\n    }\n}\n</code></pre>\n<p>If we want to use @Autowired in test classes, then we can go for the first approach or else we can use the simple approach as mentioned later. Is this understanding correct?</p>\n<p>Or what is the advantage we get if we use SpringExtension or MockitoExtension?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21415032,"reputation":181,"user_id":16720064,"display_name":"0xff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633337079,"creation_date":1633337079,"answer_id":69433231,"question_id":69433168,"body_markdown":"You first need to extract the data from the String. In your case it looks like that can be done with\r\n```\r\ndouble valueOfS1 = Double.parseDouble(s1.split(&quot; &quot;)[1]);\r\n// likewise for s2\r\n```\r\nAnd then sort using those values.\r\nSorting can be done with a `TreeSet` that you insert all the values into and then converting that to an array.","title":"Sort the String by Specific data","body":"<p>You first need to extract the data from the String. In your case it looks like that can be done with</p>\n<pre><code>double valueOfS1 = Double.parseDouble(s1.split(&quot; &quot;)[1]);\n// likewise for s2\n</code></pre>\n<p>And then sort using those values.\nSorting can be done with a <code>TreeSet</code> that you insert all the values into and then converting that to an array.</p>\n"}],"owner":{"account_id":5481479,"reputation":25,"user_id":4357788,"display_name":"arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633337729,"answer_count":1,"score":0,"last_activity_date":1648988518,"creation_date":1633336832,"question_id":69433168,"body_markdown":"I have two Strings s1 and s2 which has amount in that String, I need to sort the whole String based on amount adnd store in arralist.In below code s1 has amount 1541.81 and s2 has amount 500.55, based on amount sort the string and store in Arraylist. \r\n\r\n    String s1=&quot;TO210727B3 1541.81 BBN892400                         S103&quot;;\r\n    String s2=&quot;TI210727T6 500.55 BBN793700                TDOMCATTTS205&quot;;\r\n    Output ArrayList l=[TI210727T6 500.55 BBN793700 TDOMCATTTS205,TO210727B3 1541.81 BBN892400  S103]","title":"Sort the String by Specific data","body":"<p>I have two Strings s1 and s2 which has amount in that String, I need to sort the whole String based on amount adnd store in arralist.In below code s1 has amount 1541.81 and s2 has amount 500.55, based on amount sort the string and store in Arraylist.</p>\n<pre><code>String s1=&quot;TO210727B3 1541.81 BBN892400                         S103&quot;;\nString s2=&quot;TI210727T6 500.55 BBN793700                TDOMCATTTS205&quot;;\nOutput ArrayList l=[TI210727T6 500.55 BBN793700 TDOMCATTTS205,TO210727B3 1541.81 BBN892400  S103]\n</code></pre>\n"},{"tags":["java","arrays","indexer"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648632179,"post_id":71674616,"comment_id":126671369,"body_markdown":"`matrix[0,0]=23;` is not going to work. You need to create a setter like `matrix.setValue(0, 0, 23)` which internally accesses your `_data` matrix.","body":"<code>matrix[0,0]=23;</code> is not going to work. You need to create a setter like <code>matrix.setValue(0, 0, 23)</code> which internally accesses your <code>_data</code> matrix."},{"owner":{"display_name":"user16612111"},"score":0,"creation_date":1648632241,"post_id":71674616,"comment_id":126671402,"body_markdown":"is ther a way to something like `matrix[0][0]=23` for Java?","body":"is ther a way to something like <code>matrix[0][0]=23</code> for Java?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648632367,"post_id":71674616,"comment_id":126671457,"body_markdown":"No, you can only to that if `matrix` is a 2d-array. So you could use `matrix._data[0][0]=23`, but then `_data` would need to be at least non-private.","body":"No, you can only to that if <code>matrix</code> is a 2d-array. So you could use <code>matrix._data[0][0]=23</code>, but then <code>_data</code> would need to be at least non-private."},{"owner":{"display_name":"user16612111"},"score":0,"creation_date":1648632617,"post_id":71674616,"comment_id":126671569,"body_markdown":"I needed to wrap the `_data` inside the class so an object of the class functions as the __data_to a programmer but okay, I will just let it go because the Java programming language does not function that way","body":"I needed to wrap the <code>_data</code> inside the class so an object of the class functions as the __data_to a programmer but okay, I will just let it go because the Java programming language does not function that way"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1648632819,"post_id":71674616,"comment_id":126671655,"body_markdown":"Yes, java does not have operator overloading you you cannot use the `[]` operator on an object, only on an array.","body":"Yes, java does not have operator overloading you you cannot use the <code>[]</code> operator on an object, only on an array."},{"owner":{"display_name":"user16612111"},"score":0,"creation_date":1648633056,"post_id":71674616,"comment_id":126671751,"body_markdown":"Okay, thanks, let&#39;s hope oracle will implement indexing to an object. No wonder I noticed Java objects have methods with integer attributes for getting object that behave like arrays. `gets and sets` with `int` parameters","body":"Okay, thanks, let&#39;s hope oracle will implement indexing to an object. No wonder I noticed Java objects have methods with integer attributes for getting object that behave like arrays. <code>gets and sets</code> with <code>int</code> parameters"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648633179,"post_id":71674616,"comment_id":126671812,"body_markdown":"They will not do that as operator overloading is a massive change to the language.","body":"They will not do that as operator overloading is a massive change to the language."},{"owner":{"display_name":"user16612111"},"score":1,"creation_date":1648633584,"post_id":71674616,"comment_id":126671978,"body_markdown":"`public void set(double val, int x, int y){\n        _data[x][y]=val;\n    }` Is the equivalent of the dotnet indexer?","body":"<code>public void set(double val, int x, int y){         _data[x][y]=val;     }</code> Is the equivalent of the dotnet indexer?"}],"answers":[{"tags":[],"owner":{"account_id":18924081,"reputation":64,"user_id":13807582,"display_name":"Hiten Tandon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648987878,"creation_date":1648658006,"answer_id":71680921,"question_id":71674616,"body_markdown":"You need to use a setter function in Java... Something like this would work:\r\n\r\n    public void setValue ( int rowIndex, int colIndex, double val ) {\r\n        this._data[rowIndex][colIndex] = val;\r\n    }\r\n\r\nAnd then you need to call the setter function from the object you created. For example, say, you created object m, and then you&#39;d have to call, `m.setValue(rowIndex, colIndex, value);` in order for it to do something.\r\n\r\n\r\n","title":"How to apply indexing to a type in Java","body":"<p>You need to use a setter function in Java... Something like this would work:</p>\n<pre><code>public void setValue ( int rowIndex, int colIndex, double val ) {\n    this._data[rowIndex][colIndex] = val;\n}\n</code></pre>\n<p>And then you need to call the setter function from the object you created. For example, say, you created object m, and then you'd have to call, <code>m.setValue(rowIndex, colIndex, value);</code> in order for it to do something.</p>\n"}],"owner":{"display_name":"user16612111"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1648987878,"creation_date":1648631959,"question_id":71674616,"body_markdown":"I have a Matrix class in C#, and I am trying to convert the code into a Java class, but I have managed to copy almost every attribute of the .NET class to the Java source code, but I cannot get around applying an indexing structure to the Java type. The Java multidimensional array looks a lot like that used in [C++][1]. How do I apply the indexer to the Java type like in the .NET code?\r\n\r\n***My indexer in C#***\r\n\r\n```\r\nclass Matrix{\r\n    private int rows;\r\n    private int cols;\r\n\r\n    // Declare the multidimensional array\r\n    private double[,] _data;\r\n\r\n    // Constructor\r\n    public Matrix(int r, int c){\r\n        this.rows = r;\r\n        this.cols = c;\r\n        // Assign the array\r\n        _data = new double[rows, cols];\r\n    }\r\n\r\n    // Apply an indexer struct to the class\r\n    public double this[int row, int column]{\r\n        get{\r\n            return _data[row, column];\r\n        }\r\n        set{\r\n            _data[row, column] = value;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n***Java Matrix class Indexing attempt***\r\n\r\n```\r\nclass Matrix{\r\n    private int rows;\r\n    private int cols;\r\n    private double[][] _data;\r\n    public Matrix(int r, int c){\r\n        this.rows = r;\r\n        this.cols = c;\r\n\r\n        _data = new double[rows][cols];\r\n    }\r\n\r\n    // I tried this, but it will not function the way I need it to\r\n    public double get(int row, int col){\r\n        return _data[row][col];\r\n    }\r\n    public boolean isSquare(){\r\n        return this.rows == this.cols;\r\n    }\r\n}\r\n```\r\n\r\nThe reason why I need this is because the code I have in .NET let&#39;s me assign a location in the array like\r\n\r\n```\r\nMatrix matrix = new Matrix(8, 8);\r\nmatrix[0, 0] = 23;\r\n// I need to achieve that in the Java compiler without errors and warnings\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/C%2B%2B\r\n\r\n\r\n","title":"How to apply indexing to a type in Java","body":"<p>I have a Matrix class in C#, and I am trying to convert the code into a Java class, but I have managed to copy almost every attribute of the .NET class to the Java source code, but I cannot get around applying an indexing structure to the Java type. The Java multidimensional array looks a lot like that used in <a href=\"https://en.wikipedia.org/wiki/C%2B%2B\" rel=\"nofollow noreferrer\">C++</a>. How do I apply the indexer to the Java type like in the .NET code?</p>\n<p><em><strong>My indexer in C#</strong></em></p>\n<pre><code>class Matrix{\n    private int rows;\n    private int cols;\n\n    // Declare the multidimensional array\n    private double[,] _data;\n\n    // Constructor\n    public Matrix(int r, int c){\n        this.rows = r;\n        this.cols = c;\n        // Assign the array\n        _data = new double[rows, cols];\n    }\n\n    // Apply an indexer struct to the class\n    public double this[int row, int column]{\n        get{\n            return _data[row, column];\n        }\n        set{\n            _data[row, column] = value;\n        }\n    }\n}\n</code></pre>\n<p><em><strong>Java Matrix class Indexing attempt</strong></em></p>\n<pre><code>class Matrix{\n    private int rows;\n    private int cols;\n    private double[][] _data;\n    public Matrix(int r, int c){\n        this.rows = r;\n        this.cols = c;\n\n        _data = new double[rows][cols];\n    }\n\n    // I tried this, but it will not function the way I need it to\n    public double get(int row, int col){\n        return _data[row][col];\n    }\n    public boolean isSquare(){\n        return this.rows == this.cols;\n    }\n}\n</code></pre>\n<p>The reason why I need this is because the code I have in .NET let's me assign a location in the array like</p>\n<pre><code>Matrix matrix = new Matrix(8, 8);\nmatrix[0, 0] = 23;\n// I need to achieve that in the Java compiler without errors and warnings\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1648948134,"post_id":71722224,"comment_id":126751685,"body_markdown":"See: https://stackoverflow.com/questions/20616242/comparing-equality-of-2-arraylistint-with-equals","body":"See: <a href=\"https://stackoverflow.com/questions/20616242/comparing-equality-of-2-arraylistint-with-equals\" title=\"comparing equality of 2 arraylistint with equals\">stackoverflow.com/questions/20616242/&hellip;</a>"},{"owner":{"account_id":23768683,"reputation":3,"user_id":17783078,"display_name":"Ahmad Louis"},"score":0,"creation_date":1648948497,"post_id":71722224,"comment_id":126751714,"body_markdown":"@zysaaa That question is comparing two arrayList&lt;int[]&gt;, while im trying to check if an int[] is contained in the arrayList&lt;int[]&gt; ignoring the order.","body":"@zysaaa That question is comparing two arrayList&lt;int[]&gt;, while im trying to check if an int[] is contained in the arrayList&lt;int[]&gt; ignoring the order."}],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1648987856,"creation_date":1648949495,"answer_id":71722342,"question_id":71722224,"body_markdown":"You can&#39;t use ```ArrayList#Contains``` to judge since ```int[]``` don&#39;t have a special ```equals```.  You can iterate list and then compare:\r\n\r\n```\r\n    private static boolean contains(ArrayList&lt;int[]&gt; holder, int[] arr) {\r\n        for (int[] item : holder) {\r\n            if (equals(item, arr)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // from https://stackoverflow.com/questions/10154305/java-checking-equality-of-arrays-order-doesnt-matter\r\n    private static boolean equals(int[] arr1, int[] arr2) {\r\n        int[] copyOfArr1 = Arrays.copyOf(arr1, arr1.length);\r\n        int[] copyOfArr2 = Arrays.copyOf(arr2, arr2.length);\r\n        Arrays.sort(copyOfArr1);\r\n        Arrays.sort(copyOfArr2);\r\n        return Arrays.equals(copyOfArr1, copyOfArr2);\r\n    }\r\n```\r\n","title":"Check if ArrayList&lt;int[]&gt; Contains same array order ignored","body":"<p>You can't use <code>ArrayList#Contains</code> to judge since <code>int[]</code> don't have a special <code>equals</code>.  You can iterate list and then compare:</p>\n<pre><code>    private static boolean contains(ArrayList&lt;int[]&gt; holder, int[] arr) {\n        for (int[] item : holder) {\n            if (equals(item, arr)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    // from https://stackoverflow.com/questions/10154305/java-checking-equality-of-arrays-order-doesnt-matter\n    private static boolean equals(int[] arr1, int[] arr2) {\n        int[] copyOfArr1 = Arrays.copyOf(arr1, arr1.length);\n        int[] copyOfArr2 = Arrays.copyOf(arr2, arr2.length);\n        Arrays.sort(copyOfArr1);\n        Arrays.sort(copyOfArr2);\n        return Arrays.equals(copyOfArr1, copyOfArr2);\n    }\n</code></pre>\n"}],"owner":{"account_id":23768683,"reputation":3,"user_id":17783078,"display_name":"Ahmad Louis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71722342,"answer_count":1,"score":0,"last_activity_date":1648987856,"creation_date":1648947494,"question_id":71722224,"body_markdown":"I&#39;ve initialized an ArrayList holding int arrays as such:\r\n\r\n```ArrayList&lt;int[]&gt; holder = new ArrayList&lt;int[]&gt;();```\r\n\r\nIf I add an int[] like this:\r\n\r\n```int[] first = {1, 2, 3};```\r\n\r\n```holder.add(first);```\r\n\r\nIf I do this check, I want the function to return true, but it returns false right now\r\n\r\n```int[] second = {2, 1, 3};```\r\n\r\n```if(holder.contains(second)) return true;```\r\n\r\n```else return false```","title":"Check if ArrayList&lt;int[]&gt; Contains same array order ignored","body":"<p>I've initialized an ArrayList holding int arrays as such:</p>\n<p><code>ArrayList&lt;int[]&gt; holder = new ArrayList&lt;int[]&gt;();</code></p>\n<p>If I add an int[] like this:</p>\n<p><code>int[] first = {1, 2, 3};</code></p>\n<p><code>holder.add(first);</code></p>\n<p>If I do this check, I want the function to return true, but it returns false right now</p>\n<p><code>int[] second = {2, 1, 3};</code></p>\n<p><code>if(holder.contains(second)) return true;</code></p>\n<p><code>else return false</code></p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":9505849,"reputation":481,"user_id":7065399,"accept_rate":75,"display_name":"agata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1179,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1648987334,"creation_date":1493841914,"question_id":43769045,"body_markdown":"I am getting &quot;Required request part &#39;myFile&#39; is not present&quot; when trying to save an uploaded file in DB.\r\n\r\nThings I tried so far which didn&#39;t help:\r\n\r\n- check pom.xml and version\r\n\r\n- add `@Bean` for `CommonsMultipartResolver`\r\n\r\n- tried to used `@ModelAttribute` instead of `@RequestParam` in `UploadFileController`\r\n\r\nHow can I resolve the error?\r\n\r\npom.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.stopCozi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;stopCozi&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;StopCozi&lt;/name&gt;\r\n\t&lt;description&gt;Stop Cozi &lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;start-class&gt;com.stopcozi.StopCoziApplication&lt;/start-class&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t\r\n\t&lt;/properties&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- for HTML --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Dependecy for database --&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Security dependency for spring boot --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t\r\n\t\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nUploadFile.java\r\n\r\n    package com.stopcozi.domain;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonBackReference;\r\n    /**\r\n     * \r\n     * @author Alexandra\r\n     * \r\n     * We need to write a POJO class to represent an upload file\r\n     * JPA annotations are used to map this model class to the database table.\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;FILES_UPLOAD&quot;)\r\n    public class UploadFile {\r\n\t\r\n\t@Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;FILE_ID&quot;)\r\n    private long id;\r\n\t\r\n    private String fileName;\r\n    private byte[] data;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n\t@JsonBackReference\r\n    private User user;\r\n \r\n    \r\n    public long getId() {\r\n        return id;\r\n    }\r\n \r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n \r\n    @Column(name = &quot;FILE_NAME&quot;)\r\n    public String getFileName() {\r\n        return fileName;\r\n    }\r\n \r\n    public void setFileName(String fileName) {\r\n        this.fileName = fileName;\r\n    }\r\n    \r\n    public User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n \r\n    @Column(name = &quot;FILE_DATA&quot;)\r\n    public byte[] getData() {\r\n        return data;\r\n    }\r\n \r\n    public void setData(byte[] data) {\r\n        this.data = data;\r\n    }\r\n    }\r\n\r\nUploadFileController.java\r\n   \r\n    package com.stopcozi.controller;\r\n\r\n    import java.security.Principal;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n\r\n    import com.stopcozi.domain.UploadFile;\r\n    import com.stopcozi.domain.User;\r\n    import com.stopcozi.service.UploadFileService;\r\n    import com.stopcozi.service.UserService;\r\n\r\n    /**\r\n    * \r\n    * @author Alexandra\r\n    * Handles requests for the file upload page.\r\n    */\r\n    @Controller\r\n    @RequestMapping(&quot;/upload&quot;)\r\n    public class UploadFileController {\r\n\r\n\t @Autowired\r\n\t private UploadFileService uploadService;\r\n\t \r\n\t @Autowired\r\n\tUserService userService;\r\n\r\n\t @RequestMapping(value = &quot;/uploadFile&quot;, method = RequestMethod.GET)\r\n\t    public String showUploadForm() {\r\n\t        return &quot;uploadFile&quot;;\r\n\t    }\r\n\t @RequestMapping(value = &quot;/uploadFile&quot;, method = RequestMethod.POST)\r\n\t    public String handleFileUpload(@RequestParam(&quot;myFile&quot;) MultipartFile \r\n     myFile\r\n\t         /*  @RequestParam(&quot;fileUpload&quot;) CommonsMultipartFile[] fileUpload*/, \r\n     Principal principal) throws Exception {\r\n\t          \r\n\r\n\t\t if(myFile!=null){\r\n\t\t\t UploadFile uploadFile = new UploadFile();\r\n             uploadFile.setFileName(myFile.getOriginalFilename());\r\n             uploadFile.setData(myFile.getBytes());\r\n             \r\n             User user=userService.findByUsername(principal.getName());\r\n             uploadFile.setUser(user);\r\n     \t\t\r\n     \t\t\r\n             uploadService.save(uploadFile);  \r\n\t\t }\r\n\t  \r\n\t        return &quot;uploadFile&quot;;\r\n\t    }  \r\n    }\r\n\r\n\r\nuploadFile.html\r\n\r\n     &lt;form method=&quot;post&quot; th:action=&quot;@{/upload/uploadFile}&quot; enctype=&quot;multipart/form-data&quot;&gt; \r\n     &lt;input type=&quot;file&quot; name=&quot;myFile&quot; size=&quot;50&quot; /&gt;\r\n     &lt;input type=&quot;submit&quot; value=&quot;Incarca&quot; /&gt;\r\n\r\nStopCoziApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class StopCoziApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(StopCoziApplication.class, args);\r\n\t}\r\n\t\r\n\t@Bean\r\n    public SessionFactory sessionFactory(HibernateEntityManagerFactory hemf) {\r\n\t\treturn hemf.getSessionFactory();\r\n\t\t}\r\n\t\r\n\t@Bean(name = &quot;multipartResolver&quot;)\r\n\tpublic CommonsMultipartResolver getCommonsMultipartResolver() {\r\n\t    CommonsMultipartResolver multipartResolver = new \r\n    CommonsMultipartResolver();\r\n\t    multipartResolver.setMaxUploadSize(20971520);   // 20MB\r\n\t    multipartResolver.setMaxInMemorySize(1048576);  // 1MB\r\n\t    return multipartResolver;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic MultipartResolver multipartResolver() {\r\n\t    return new CommonsMultipartResolver();\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\n\r\n","title":"Spring Boot: Required request part &#39;myFile&#39; is not present","body":"<p>I am getting &quot;Required request part 'myFile' is not present&quot; when trying to save an uploaded file in DB.</p>\n<p>Things I tried so far which didn't help:</p>\n<ul>\n<li><p>check pom.xml and version</p>\n</li>\n<li><p>add <code>@Bean</code> for <code>CommonsMultipartResolver</code></p>\n</li>\n<li><p>tried to used <code>@ModelAttribute</code> instead of <code>@RequestParam</code> in <code>UploadFileController</code></p>\n</li>\n</ul>\n<p>How can I resolve the error?</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.stopCozi&lt;/groupId&gt;\n&lt;artifactId&gt;stopCozi&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;StopCozi&lt;/name&gt;\n&lt;description&gt;Stop Cozi &lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.5.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;start-class&gt;com.stopcozi.StopCoziApplication&lt;/start-class&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    \n&lt;/properties&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- for HTML --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- Dependecy for database --&gt;\n    \n    \n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- Security dependency for spring boot --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>UploadFile.java</p>\n<pre><code>package com.stopcozi.domain;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonBackReference;\n/**\n * \n * @author Alexandra\n * \n * We need to write a POJO class to represent an upload file\n * JPA annotations are used to map this model class to the database table.\n */\n@Entity\n@Table(name = &quot;FILES_UPLOAD&quot;)\npublic class UploadFile {\n\n@Id\n@GeneratedValue\n@Column(name = &quot;FILE_ID&quot;)\nprivate long id;\n\nprivate String fileName;\nprivate byte[] data;\n\n@ManyToOne\n@JoinColumn(name = &quot;user_id&quot;)\n@JsonBackReference\nprivate User user;\n\n\npublic long getId() {\n    return id;\n}\n\npublic void setId(long id) {\n    this.id = id;\n}\n\n@Column(name = &quot;FILE_NAME&quot;)\npublic String getFileName() {\n    return fileName;\n}\n\npublic void setFileName(String fileName) {\n    this.fileName = fileName;\n}\n\npublic User getUser() {\n    return user;\n}\npublic void setUser(User user) {\n    this.user = user;\n}\n\n@Column(name = &quot;FILE_DATA&quot;)\npublic byte[] getData() {\n    return data;\n}\n\npublic void setData(byte[] data) {\n    this.data = data;\n}\n}\n</code></pre>\n<p>UploadFileController.java</p>\n<pre><code>package com.stopcozi.controller;\n\nimport java.security.Principal;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport com.stopcozi.domain.UploadFile;\nimport com.stopcozi.domain.User;\nimport com.stopcozi.service.UploadFileService;\nimport com.stopcozi.service.UserService;\n\n/**\n* \n* @author Alexandra\n* Handles requests for the file upload page.\n*/\n@Controller\n@RequestMapping(&quot;/upload&quot;)\npublic class UploadFileController {\n\n @Autowired\n private UploadFileService uploadService;\n \n @Autowired\nUserService userService;\n\n @RequestMapping(value = &quot;/uploadFile&quot;, method = RequestMethod.GET)\n    public String showUploadForm() {\n        return &quot;uploadFile&quot;;\n    }\n @RequestMapping(value = &quot;/uploadFile&quot;, method = RequestMethod.POST)\n    public String handleFileUpload(@RequestParam(&quot;myFile&quot;) MultipartFile \n myFile\n         /*  @RequestParam(&quot;fileUpload&quot;) CommonsMultipartFile[] fileUpload*/, \n Principal principal) throws Exception {\n          \n\n     if(myFile!=null){\n         UploadFile uploadFile = new UploadFile();\n         uploadFile.setFileName(myFile.getOriginalFilename());\n         uploadFile.setData(myFile.getBytes());\n         \n         User user=userService.findByUsername(principal.getName());\n         uploadFile.setUser(user);\n        \n        \n         uploadService.save(uploadFile);  \n     }\n  \n        return &quot;uploadFile&quot;;\n    }  \n}\n</code></pre>\n<p>uploadFile.html</p>\n<pre><code> &lt;form method=&quot;post&quot; th:action=&quot;@{/upload/uploadFile}&quot; enctype=&quot;multipart/form-data&quot;&gt; \n &lt;input type=&quot;file&quot; name=&quot;myFile&quot; size=&quot;50&quot; /&gt;\n &lt;input type=&quot;submit&quot; value=&quot;Incarca&quot; /&gt;\n</code></pre>\n<p>StopCoziApplication.java</p>\n<pre><code>@SpringBootApplication\npublic class StopCoziApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(StopCoziApplication.class, args);\n}\n\n@Bean\npublic SessionFactory sessionFactory(HibernateEntityManagerFactory hemf) {\n    return hemf.getSessionFactory();\n    }\n\n@Bean(name = &quot;multipartResolver&quot;)\npublic CommonsMultipartResolver getCommonsMultipartResolver() {\n    CommonsMultipartResolver multipartResolver = new \nCommonsMultipartResolver();\n    multipartResolver.setMaxUploadSize(20971520);   // 20MB\n    multipartResolver.setMaxInMemorySize(1048576);  // 1MB\n    return multipartResolver;\n}\n\n@Bean\npublic MultipartResolver multipartResolver() {\n    return new CommonsMultipartResolver();\n}\n\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":1,"creation_date":1583838584,"post_id":60612671,"comment_id":107240785,"body_markdown":"Depends on how old the documentation is. You haven&#39;t provided a link to the documentation, nor have you told us which version of Selenium you are using.","body":"Depends on how old the documentation is. You haven&#39;t provided a link to the documentation, nor have you told us which version of Selenium you are using."},{"owner":{"account_id":16557745,"reputation":527,"user_id":11964458,"display_name":"Villa_7"},"score":0,"creation_date":1583854422,"post_id":60612671,"comment_id":107249165,"body_markdown":"It could be obsolete code snippet or you interpreted it improperly.","body":"It could be obsolete code snippet or you interpreted it improperly."},{"owner":{"account_id":1648353,"reputation":630,"user_id":1519417,"accept_rate":62,"display_name":"Vladimir"},"score":0,"creation_date":1583860676,"post_id":60612671,"comment_id":107252478,"body_markdown":"Here is the link to the latest official documentation: https://www.selenium.dev/documentation/en/webdriver/waits/. The Java client version is also the latest - 3.141.59.","body":"Here is the link to the latest official documentation: <a href=\"https://www.selenium.dev/documentation/en/webdriver/waits/\" rel=\"nofollow noreferrer\">selenium.dev/documentation/en/webdriver/waits</a>. The Java client version is also the latest - 3.141.59."},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1583916809,"post_id":60612671,"comment_id":107269245,"body_markdown":"@Vladimir You can see here https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java that this constructor exists","body":"@Vladimir You can see here <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/blob/master/java/client/src/o&zwnj;&#8203;rg/&hellip;</a> that this constructor exists"},{"owner":{"account_id":1648353,"reputation":630,"user_id":1519417,"accept_rate":62,"display_name":"Vladimir"},"score":0,"creation_date":1583946967,"post_id":60612671,"comment_id":107286432,"body_markdown":"@Fenio. Very strange. The latest WebDriver API Doc from the official site https://www.selenium.dev/selenium/docs/api/java/index.html does not describe this constructor for WebDriverWait. My code with Java client 3.141.59 does not compile with it.","body":"@Fenio. Very strange. The latest WebDriver API Doc from the official site <a href=\"https://www.selenium.dev/selenium/docs/api/java/index.html\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/index.html</a> does not describe this constructor for WebDriverWait. My code with Java client 3.141.59 does not compile with it."},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":1,"creation_date":1583996391,"post_id":60612671,"comment_id":107300741,"body_markdown":"@Vladimir I have no answer to your question. You might want to report an issue on GitHub and get the answer there. Also, take a look that in the link I provided constructor `WebDriverWait(WebDriver driver, long timeoutInSeconds)` is deprecated. Maybe those sources aren&#39;t compiled yet and will be available in Selenium 4?","body":"@Vladimir I have no answer to your question. You might want to report an issue on GitHub and get the answer there. Also, take a look that in the link I provided constructor <code>WebDriverWait(WebDriver driver, long timeoutInSeconds)</code> is deprecated. Maybe those sources aren&#39;t compiled yet and will be available in Selenium 4?"}],"answers":[{"tags":[],"owner":{"account_id":16539729,"reputation":161,"user_id":11950776,"display_name":"Ruyut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583983426,"creation_date":1583983426,"answer_id":60647178,"question_id":60612671,"body_markdown":"You can try this,\r\n\r\nHe has no mistake.\r\n\r\n    WebDriverWait wdw = new WebDriverWait(driver, 10);\r\n    wdw.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//a/h3&quot;)));","title":"Is it a bug in Selenium documentation?","body":"<p>You can try this,</p>\n\n<p>He has no mistake.</p>\n\n<pre><code>WebDriverWait wdw = new WebDriverWait(driver, 10);\nwdw.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//a/h3\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1648353,"reputation":630,"user_id":1519417,"accept_rate":62,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1584035892,"creation_date":1584035892,"answer_id":60659559,"question_id":60612671,"body_markdown":"As I wrote in the original question, \r\n\r\n    WebElement firstResult = new WebDriverWait(driver, 10)\r\n                    .until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a/h3&quot;)));\r\n\r\nthe code above still works. I guess, as @Fenio assumed, the new syntax will be available in Selenium 4 since it exists in the GitHub.","title":"Is it a bug in Selenium documentation?","body":"<p>As I wrote in the original question, </p>\n\n<pre><code>WebElement firstResult = new WebDriverWait(driver, 10)\n                .until(ExpectedConditions.elementToBeClickable(By.xpath(\"//a/h3\")));\n</code></pre>\n\n<p>the code above still works. I guess, as @Fenio assumed, the new syntax will be available in Selenium 4 since it exists in the GitHub.</p>\n"},{"tags":[],"owner":{"account_id":24800852,"reputation":1,"user_id":18683251,"display_name":"KESH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648987142,"creation_date":1648917646,"answer_id":71719387,"question_id":60612671,"body_markdown":"Try this, surely should work:\r\n\r\n```java\r\nWebDriverWait w=new WebDriverWait(driver, Duration.ofSeconds(5));\r\n```\r\n\r\n`TimeUnit` from the type `WebDriverWait` is deprecated.","title":"Is it a bug in Selenium documentation?","body":"<p>Try this, surely should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait w=new WebDriverWait(driver, Duration.ofSeconds(5));\n</code></pre>\n<p><code>TimeUnit</code> from the type <code>WebDriverWait</code> is deprecated.</p>\n"}],"owner":{"account_id":1648353,"reputation":630,"user_id":1519417,"accept_rate":62,"display_name":"Vladimir"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60659559,"answer_count":3,"score":1,"last_activity_date":1648987142,"creation_date":1583822792,"question_id":60612671,"body_markdown":"Here is the snippet from the new Selenium doc on Waits:\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;https://google.com/ncr&quot;);\r\n    driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;cheese&quot; + Keys.ENTER);\r\n    // Initialize and wait till element(link) became clickable - timeout in 10 seconds\r\n    WebElement firstResult = new WebDriverWait(driver, Duration.ofSeconds(10))\r\n            .until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a/h3&quot;)));\r\n\r\nWhen I paste this code, it gives me an error on the Duration: \r\n**The constructor WebDriverWait(WebDriver, Duration) is undefined**\r\n\r\nIt still works with the following syntax:\r\n\r\n    WebElement firstResult = new WebDriverWait(driver, 10)\r\n    \t\t        .until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a/h3&quot;)));\r\n\r\nIs it the documentation bug?","title":"Is it a bug in Selenium documentation?","body":"<p>Here is the snippet from the new Selenium doc on Waits:</p>\n\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(\"https://google.com/ncr\");\ndriver.findElement(By.name(\"q\")).sendKeys(\"cheese\" + Keys.ENTER);\n// Initialize and wait till element(link) became clickable - timeout in 10 seconds\nWebElement firstResult = new WebDriverWait(driver, Duration.ofSeconds(10))\n        .until(ExpectedConditions.elementToBeClickable(By.xpath(\"//a/h3\")));\n</code></pre>\n\n<p>When I paste this code, it gives me an error on the Duration: \n<strong>The constructor WebDriverWait(WebDriver, Duration) is undefined</strong></p>\n\n<p>It still works with the following syntax:</p>\n\n<pre><code>WebElement firstResult = new WebDriverWait(driver, 10)\n                .until(ExpectedConditions.elementToBeClickable(By.xpath(\"//a/h3\")));\n</code></pre>\n\n<p>Is it the documentation bug?</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":""},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648985431,"creation_date":1648985431,"answer_id":71725477,"question_id":71725200,"body_markdown":"Please remove the following blocks from your build.gradle:-\r\n```\r\napplication {\r\n        mainClass = &#39;ProjectEmpireUnderworld.App&#39;\r\n    }\r\n```\r\nand\r\n```\r\nplugins {\r\n    id &#39;application&#39;\r\n}\r\n```\r\n\r\nBoth blocks are for java applications not for android apps. Please see [this][1] for more info on building APK\r\n\r\n\r\n  [1]: https://developer.android.com/studio/run","title":"Gradle build: Java plugin not compatible with Android plugins","body":"<p>Please remove the following blocks from your build.gradle:-</p>\n<pre><code>application {\n        mainClass = 'ProjectEmpireUnderworld.App'\n    }\n</code></pre>\n<p>and</p>\n<pre><code>plugins {\n    id 'application'\n}\n</code></pre>\n<p>Both blocks are for java applications not for android apps. Please see <a href=\"https://developer.android.com/studio/run\" rel=\"nofollow noreferrer\">this</a> for more info on building APK</p>\n"}],"owner":{"account_id":17144652,"reputation":11,"user_id":12407861,"display_name":"FelinaSaber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71725477,"answer_count":1,"score":-1,"last_activity_date":1648985431,"creation_date":1648983143,"question_id":71725200,"body_markdown":"When I build, I have the error\r\n&gt;The &#39;java&#39; plugin has been applied, but it is not compatible with the Android plugins.\r\n\r\nThe internet answers says to remove the line &quot;apply plugin: &#39;java&#39;&quot; and the file gradle.init, but I can find neither in my environment...\r\nWhere exactly is the java plugin applied, and how do I remove it?\r\n\r\nMy build.gradle looks like this:\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n        compileSdkVersion &quot;28&quot;\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            testImplementation &#39;org.junit.jupiter:junit-jupiter:5.8.1&#39;\r\n    \r\n            implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n    \r\n        }\r\n    \r\n    \r\n        application {\r\n            mainClass = &#39;ProjectEmpireUnderworld.App&#39;\r\n        }\r\n    \r\n        tasks.named(&#39;test&#39;) {\r\n            useJUnitPlatform()\r\n        }\r\n    }\r\n\r\n","title":"Gradle build: Java plugin not compatible with Android plugins","body":"<p>When I build, I have the error</p>\n<blockquote>\n<p>The 'java' plugin has been applied, but it is not compatible with the Android plugins.</p>\n</blockquote>\n<p>The internet answers says to remove the line &quot;apply plugin: 'java'&quot; and the file gradle.init, but I can find neither in my environment...\nWhere exactly is the java plugin applied, and how do I remove it?</p>\n<p>My build.gradle looks like this:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.4'\n    }\n}\n\nplugins {\n    id 'application'\n}\n\napply plugin: 'com.android.application'\nandroid {\n    compileSdkVersion &quot;28&quot;\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        testImplementation 'org.junit.jupiter:junit-jupiter:5.8.1'\n\n        implementation 'com.google.guava:guava:30.1.1-jre'\n\n    }\n\n\n    application {\n        mainClass = 'ProjectEmpireUnderworld.App'\n    }\n\n    tasks.named('test') {\n        useJUnitPlatform()\n    }\n}\n</code></pre>\n"},{"tags":["java","angular","spring-boot","payment-gateway","paytm"],"answers":[{"tags":[],"owner":{"account_id":24808707,"reputation":26,"user_id":18690413,"display_name":"John117"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648985020,"creation_date":1648985020,"answer_id":71725432,"question_id":68622183,"body_markdown":"There&#39;s now other way to update a initiated transaction. You have to initiate a new transaction every time. [refer here][1]\r\n\r\n\r\n  [1]: https://business.paytm.com/docs/all-in-one-sdk/hybrid-apps/cordova?ref=allInOneMerchantIntegration","title":"Updating transaction amount for an existing order in paytm api","body":"<p>There's now other way to update a initiated transaction. You have to initiate a new transaction every time. <a href=\"https://business.paytm.com/docs/all-in-one-sdk/hybrid-apps/cordova?ref=allInOneMerchantIntegration\" rel=\"nofollow noreferrer\">refer here</a></p>\n"}],"owner":{"account_id":9509722,"reputation":57,"user_id":9583690,"display_name":"Sierra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71725432,"answer_count":1,"score":0,"last_activity_date":1648985020,"creation_date":1627909799,"question_id":68622183,"body_markdown":"I&#39;ve Integrated **paytm API** for payments in my app.I created an Order and initiated a **txn** and completed it. If I want to update the **txnAmount** for that same order, how can I do it? Update Transaction API requires a *txnToken* previously received in the response of Initiate Transaction API. And it&#39;s only valid for 15 minutes. I want to update the Order&#39;s amount whenever I want. Is there any way to do it? Or Is there any way to reinitiate the transaction with a different **txnAmount**? ","title":"Updating transaction amount for an existing order in paytm api","body":"<p>I've Integrated <strong>paytm API</strong> for payments in my app.I created an Order and initiated a <strong>txn</strong> and completed it. If I want to update the <strong>txnAmount</strong> for that same order, how can I do it? Update Transaction API requires a <em>txnToken</em> previously received in the response of Initiate Transaction API. And it's only valid for 15 minutes. I want to update the Order's amount whenever I want. Is there any way to do it? Or Is there any way to reinitiate the transaction with a different <strong>txnAmount</strong>?</p>\n"},{"tags":["java","android","position","size","percentage"],"answers":[{"tags":[],"owner":{"account_id":19426768,"reputation":131,"user_id":14208124,"display_name":"vittoema96"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648984900,"creation_date":1648984900,"answer_id":71725412,"question_id":71717360,"body_markdown":"Ok i finally got it to work, posting the solution if anyone needs it\r\n```\r\n// Define a constraint set that will be used to modify the constraint layout parameters of the child.\r\nConstraintSet set = new ConstraintSet();\r\n// Start with a copy the original constraints.\r\nset.clone(mapView);\r\n// The background of the ConstraintLayout (i need it for width-height ratio)\r\nDrawable map = getResources().getDrawable(R.drawable.pvp_map);\r\nfloat heightPercentSize = .1f; // The area size will be this much of the map&#39;s height\r\n// Defining the width-height ratio so that \r\n// width*heightPercentSize*ratioAdjuster == height*heightPercentSize\r\nfloat ratioAdjuster = (float)map.getIntrinsicHeight()/map.getIntrinsicWidth();\r\n        \r\nfor(Point p : getPvpCoords()){\r\n        ImageView iv = new ImageView(this);\r\n        Guideline gStart = getNewGuideline(this, ConstraintLayout.LayoutParams.VERTICAL);\r\n        Guideline gTop = getNewGuideline(this, ConstraintLayout.LayoutParams.HORIZONTAL);\r\n\r\n        iv.setId(View.generateViewId());\r\n\r\n        gStart.setGuidelinePercent(p.x/100f-heightPercentSize/2);\r\n        gTop.setGuidelinePercent(p.y/100f-heightPercentSize/2);\r\n        set.connect(iv.getId(), ConstraintSet.START, gStart.getId(), ConstraintSet.END);\r\n        set.connect(iv.getId(), ConstraintSet.TOP, gTop.getId(), ConstraintSet.BOTTOM);\r\n\r\n        set.constrainPercentWidth(iv.getId(), heightPercentSize*ratioAdjuster);\r\n        set.constrainPercentHeight(iv.getId(), heightPercentSize);\r\n\r\n        iv.setImageDrawable(getResources().getDrawable(R.drawable.area));\r\n        mapView.addView(gTop);\r\n        mapView.addView(gStart);\r\n        mapView.addView(iv);\r\n}\r\n// Apply the constraints for the child view to the parent layout.\r\nset.applyTo(mapView);\r\n```\r\n","title":"Setting ImageView&#39;s size AND position as percentages programmatically in ConstraintLayout (Android)","body":"<p>Ok i finally got it to work, posting the solution if anyone needs it</p>\n<pre><code>// Define a constraint set that will be used to modify the constraint layout parameters of the child.\nConstraintSet set = new ConstraintSet();\n// Start with a copy the original constraints.\nset.clone(mapView);\n// The background of the ConstraintLayout (i need it for width-height ratio)\nDrawable map = getResources().getDrawable(R.drawable.pvp_map);\nfloat heightPercentSize = .1f; // The area size will be this much of the map's height\n// Defining the width-height ratio so that \n// width*heightPercentSize*ratioAdjuster == height*heightPercentSize\nfloat ratioAdjuster = (float)map.getIntrinsicHeight()/map.getIntrinsicWidth();\n        \nfor(Point p : getPvpCoords()){\n        ImageView iv = new ImageView(this);\n        Guideline gStart = getNewGuideline(this, ConstraintLayout.LayoutParams.VERTICAL);\n        Guideline gTop = getNewGuideline(this, ConstraintLayout.LayoutParams.HORIZONTAL);\n\n        iv.setId(View.generateViewId());\n\n        gStart.setGuidelinePercent(p.x/100f-heightPercentSize/2);\n        gTop.setGuidelinePercent(p.y/100f-heightPercentSize/2);\n        set.connect(iv.getId(), ConstraintSet.START, gStart.getId(), ConstraintSet.END);\n        set.connect(iv.getId(), ConstraintSet.TOP, gTop.getId(), ConstraintSet.BOTTOM);\n\n        set.constrainPercentWidth(iv.getId(), heightPercentSize*ratioAdjuster);\n        set.constrainPercentHeight(iv.getId(), heightPercentSize);\n\n        iv.setImageDrawable(getResources().getDrawable(R.drawable.area));\n        mapView.addView(gTop);\n        mapView.addView(gStart);\n        mapView.addView(iv);\n}\n// Apply the constraints for the child view to the parent layout.\nset.applyTo(mapView);\n</code></pre>\n"}],"owner":{"account_id":19426768,"reputation":131,"user_id":14208124,"display_name":"vittoema96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71725412,"answer_count":1,"score":1,"last_activity_date":1648984900,"creation_date":1648900842,"question_id":71717360,"body_markdown":"As stated in the title i&#39;m trying to set multiple ImageViews size and position as percentages in a ConstraintLayout programmatically.\r\n\r\nI succeeded to do the individually, either via ConstraintSet or ConstraintLayout.LayoutParams, but when i try to do them both at the same time nothing seems to work.\r\n\r\nI also tried to use Guidelines for the position and ConstraintSet for the size but still no result.\r\n\r\nHere is the for loop (position working, no idea how to do size) in which i want to achieve this\r\n```\r\nConstraintLayout layout = findViewById(R.id.mapView);\r\nfor(Point p : getCoords()){\r\n            ImageView iv = new ImageView(this);\r\n            iv.setId(View.generateViewId());\r\n\r\n            iv.setLayoutParams(getFeatureLayout(p.x/100f, p.y/100f));\r\n\r\n            iv.setImageDrawable(getResources().getDrawable(R.drawable.area));\r\n\r\n            layout.addView(iv);\r\n        }\r\n```\r\n\r\nThe getFeatureLayout method is as follows\r\n\r\n```\r\nprivate ConstraintLayout.LayoutParams getFeatureLayout(float percentFromLeft, float percentFromTop){\r\n        assert percentFromTop&gt;=0 &amp;&amp; percentFromTop&lt;=1 : &quot;Inputs must be 0&lt;=x&lt;=1&quot;;\r\n        assert percentFromLeft&gt;=0 &amp;&amp; percentFromLeft&lt;=1 : &quot;Inputs must be 0&lt;=x&lt;=1&quot;;\r\n\r\n        ConstraintLayout.LayoutParams params = new ConstraintLayout.LayoutParams(\r\n                ConstraintProperties.WRAP_CONTENT,\r\n                ConstraintProperties.WRAP_CONTENT\r\n        );\r\n\r\n        params.bottomToBottom= ConstraintProperties.PARENT_ID;\r\n        params.topToTop= ConstraintProperties.PARENT_ID;\r\n        params.startToStart= ConstraintProperties.PARENT_ID;\r\n        params.endToEnd= ConstraintProperties.PARENT_ID;\r\n\r\n        params.verticalBias=percentFromTop;\r\n        params.horizontalBias=percentFromLeft;\r\n\r\n        return params;\r\n    }\r\n```","title":"Setting ImageView&#39;s size AND position as percentages programmatically in ConstraintLayout (Android)","body":"<p>As stated in the title i'm trying to set multiple ImageViews size and position as percentages in a ConstraintLayout programmatically.</p>\n<p>I succeeded to do the individually, either via ConstraintSet or ConstraintLayout.LayoutParams, but when i try to do them both at the same time nothing seems to work.</p>\n<p>I also tried to use Guidelines for the position and ConstraintSet for the size but still no result.</p>\n<p>Here is the for loop (position working, no idea how to do size) in which i want to achieve this</p>\n<pre><code>ConstraintLayout layout = findViewById(R.id.mapView);\nfor(Point p : getCoords()){\n            ImageView iv = new ImageView(this);\n            iv.setId(View.generateViewId());\n\n            iv.setLayoutParams(getFeatureLayout(p.x/100f, p.y/100f));\n\n            iv.setImageDrawable(getResources().getDrawable(R.drawable.area));\n\n            layout.addView(iv);\n        }\n</code></pre>\n<p>The getFeatureLayout method is as follows</p>\n<pre><code>private ConstraintLayout.LayoutParams getFeatureLayout(float percentFromLeft, float percentFromTop){\n        assert percentFromTop&gt;=0 &amp;&amp; percentFromTop&lt;=1 : &quot;Inputs must be 0&lt;=x&lt;=1&quot;;\n        assert percentFromLeft&gt;=0 &amp;&amp; percentFromLeft&lt;=1 : &quot;Inputs must be 0&lt;=x&lt;=1&quot;;\n\n        ConstraintLayout.LayoutParams params = new ConstraintLayout.LayoutParams(\n                ConstraintProperties.WRAP_CONTENT,\n                ConstraintProperties.WRAP_CONTENT\n        );\n\n        params.bottomToBottom= ConstraintProperties.PARENT_ID;\n        params.topToTop= ConstraintProperties.PARENT_ID;\n        params.startToStart= ConstraintProperties.PARENT_ID;\n        params.endToEnd= ConstraintProperties.PARENT_ID;\n\n        params.verticalBias=percentFromTop;\n        params.horizontalBias=percentFromLeft;\n\n        return params;\n    }\n</code></pre>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648986408,"post_id":71725394,"comment_id":126756875,"body_markdown":"You&#39;re doing `toString` on arrays, which will give you characters `[` and `@` for one thing. You probably need `Arrays.toString`","body":"You&#39;re doing <code>toString</code> on arrays, which will give you characters <code>[</code> and <code>@</code> for one thing. You probably need <code>Arrays.toString</code>"},{"owner":{"account_id":20028455,"reputation":17,"user_id":14681780,"display_name":"MrGerwant"},"score":0,"creation_date":1648997814,"post_id":71725394,"comment_id":126759330,"body_markdown":"No, ```Arrays.toString``` can&#39;t have ```table.getValueAt(i, j)``` as a parameter, since it&#39;s not an object, not an array","body":"No, <code>Arrays.toString</code> can&#39;t have <code>table.getValueAt(i, j)</code> as a parameter, since it&#39;s not an object, not an array"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1649004701,"post_id":71725394,"comment_id":126760921,"body_markdown":"@MrGerwant Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"@MrGerwant Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/71725394/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649005892,"post_id":71725394,"comment_id":126761200,"body_markdown":"Sorry. Ignore that comment. I missed the array indexing","body":"Sorry. Ignore that comment. I missed the array indexing"},{"owner":{"account_id":20028455,"reputation":17,"user_id":14681780,"display_name":"MrGerwant"},"score":0,"creation_date":1649006896,"post_id":71725394,"comment_id":126761429,"body_markdown":"I used ```System.out.println(el);``` to see what&#39;s inside the object - and it turns out it&#39;s all nulls, despite the fact that ```el.getTextContent()``` has the correct value. I&#39;ve changed ```el.appendChild(d.createTextNode(value));``` to ```el.setTextContent(value);```, but it&#39;s all the same.","body":"I used <code>System.out.println(el);</code> to see what&#39;s inside the object - and it turns out it&#39;s all nulls, despite the fact that <code>el.getTextContent()</code> has the correct value. I&#39;ve changed <code>el.appendChild(d.createTextNode(value));</code> to <code>el.setTextContent(value);</code>, but it&#39;s all the same."},{"owner":{"account_id":20028455,"reputation":17,"user_id":14681780,"display_name":"MrGerwant"},"score":0,"creation_date":1649175111,"post_id":71725394,"comment_id":126807183,"body_markdown":"Apperently, adding ```.trim()``` in ```appendChild()``` paramether fixed it","body":"Apperently, adding <code>.trim()</code> in <code>appendChild()</code> paramether fixed it"}],"owner":{"account_id":20028455,"reputation":17,"user_id":14681780,"display_name":"MrGerwant"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648984743,"creation_date":1648984743,"question_id":71725394,"body_markdown":"I need to write the contents of a JTable into a XML file which has nested elements, but when I do, I get ```DOMException: INVALID_CHARACTER_ERR: An invalid or illegal XML character is specified``` Below is my class that handles XML stuff:\r\n\r\n```\r\npackage com.example.csvapp;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport javax.swing.table.TableModel;\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.parsers.ParserConfigurationException;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerException;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport org.w3c.dom.Attr;\r\nimport org.w3c.dom.DOMException;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\n\r\n/**\r\n *\r\n * @author Wojtek\r\n */\r\npublic class XMLAdapter {\r\n    Map&lt;String, Integer[]&gt; elemTags;\r\n    String [] headers;\r\n    \r\n    \r\n    public XMLAdapter()\r\n    {\r\n        elemTags = new HashMap&lt;&gt;();\r\n        headers = new String[]{&quot;manufacturer&quot;, &quot;size&quot;, &quot;resolution&quot;, &quot;type&quot;, &quot;touch&quot;, &quot;name&quot;,\r\n        &quot;physical_cores&quot;, &quot;clock_speed&quot;, &quot;ram &quot;, &quot;storage&quot;, &quot;type&quot;, &quot;name&quot;,\r\n        &quot;memory&quot;, &quot;os&quot;, &quot;disc_reader&quot;};\r\n    }\r\n    \r\n    public String writeXML(TableModel table)\r\n    {\r\n        try\r\n        {\r\n            DocumentBuilderFactory dFactory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder dBuilder = dFactory.newDocumentBuilder();\r\n            Document d = dBuilder.newDocument();\r\n            \r\n            Element root = d.createElement(&quot;laptops&quot;);\r\n            d.appendChild(root);\r\n            \r\n            for(int i=0; i&lt;table.getRowCount();i++)\r\n            {\r\n                Element rows = d.createElement(&quot;laptop&quot;);\r\n                root.appendChild(rows);\r\n                Attr attr = d.createAttribute(&quot;id&quot;);\r\n                attr.setValue((i+1)+&quot;&quot;);\r\n                rows.setAttributeNode(attr);\r\n                for(String key: elemTags.keySet())\r\n                {\r\n                    Element elem = d.createElement(key);\r\n                    rows.appendChild(elem);\r\n                    if(elemTags.get(key).length==3)\r\n                    {\r\n                        String attrName=&quot;&quot;;\r\n                        if(key.equals(&quot;screen&quot;))\r\n                        {\r\n                            attrName=&quot;touch&quot;;\r\n                        }\r\n                        if(key.equals(&quot;disc&quot;))\r\n                        {\r\n                            attrName=&quot;type&quot;;\r\n                        }\r\n                        Attr a=d.createAttribute(attrName);\r\n                        a.setValue(table.getValueAt(i, elemTags.get(key)[2]).toString());\r\n                        elem.setAttributeNode(a);\r\n                    }\r\n                    for(int j=elemTags.get(key)[0];j&lt;=elemTags.get(key)[1];j++)\r\n                    {\r\n                        Element el = d.createElement(headers[j]);\r\n                        elem.appendChild(el);\r\n                        String value=&quot;&quot;;\r\n                        if(table.getValueAt(i, j)!=null)\r\n                        {\r\n                            value = table.getValueAt(i, j).toString();\r\n                        }\r\n                        el.appendChild(d.createTextNode(value));\r\n                    }\r\n                }\r\n            }\r\n            TransformerFactory tFactory = TransformerFactory.newInstance();\r\n            Transformer t = tFactory.newTransformer();\r\n            DOMSource source = new DOMSource(d);\r\n            StreamResult result;\r\n            \r\n            try\r\n            {\r\n                FileOutputStream fos=new FileOutputStream(new File(&quot;katalog.xml&quot;));\r\n                result = new StreamResult(fos);\r\n                t.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                t.transform(source, result);\r\n                try\r\n                {\r\n                    fos.close();\r\n                }\r\n                catch(IOException e)\r\n                {\r\n                    return e.getMessage();\r\n                }\r\n            }\r\n            catch(FileNotFoundException e)\r\n            {\r\n                return e.getMessage();\r\n            }\r\n        }\r\n        catch(ParserConfigurationException | TransformerException e)\r\n        {\r\n            return e.getMessage();\r\n        }\r\n        catch(DOMException e)\r\n        {\r\n            return e.getMessage();\r\n        }\r\n        return &quot;Zapisono do XML&quot;;\r\n    }\r\n    \r\n    public void MapTags()\r\n    {\r\n        elemTags.put(&quot;manufacturer&quot;, new Integer[]{0,0});\r\n        elemTags.put(&quot;screen&quot;, new Integer[]{1,3,4});\r\n        elemTags.put(&quot;processor&quot;, new Integer[]{5,7});\r\n        elemTags.put(&quot;ram&quot;, new Integer[]{8,8});\r\n        elemTags.put(&quot;disc&quot;, new Integer[]{9,9,10});\r\n        elemTags.put(&quot;graphic_card&quot;, new Integer[]{11,12});\r\n        elemTags.put(&quot;os&quot;, new Integer[]{13,13});\r\n        elemTags.put(&quot;disc_reader&quot;, new Integer[]{14,14});\r\n    }\r\n}\r\n```\r\n\r\nAlso, that&#39;s what the XML file should look like:\r\n```\r\n&lt;laptops moddate=&quot;2015-10-30 T 10:15&quot;&gt;\r\n  &lt;laptop id=&quot;1&quot;&gt;\r\n    &lt;manufacturer&gt;Asus&lt;/manufacturer&gt;\r\n    &lt;screen touch=&quot;no&quot;&gt;\r\n      &lt;size&gt;12&quot;&lt;/size&gt;\r\n      &lt;resolution&gt;1600x900&lt;/resolution&gt;\r\n      &lt;type&gt;matte&lt;/type&gt;\r\n    &lt;/screen&gt;\r\n    &lt;processor&gt;\r\n       &lt;name&gt;i7&lt;/name&gt;\r\n       &lt;physical_cores&gt;8&lt;/physical_cores&gt;\r\n       &lt;clock_speed&gt;3200&lt;/clock_speed&gt;\r\n    &lt;/processor&gt;\r\n    &lt;ram&gt;8GB&lt;/ram&gt;\r\n    &lt;disc type=&quot;SSD&quot;&gt;\r\n       &lt;storage&gt;240GB&lt;/storage&gt;\r\n    &lt;/disc&gt;\r\n    &lt;graphic_card&gt;\r\n       &lt;name&gt;intel HD Graphics 4000&lt;/name&gt;\r\n       &lt;memory&gt;1GB&lt;/memory&gt;\r\n    &lt;/graphic_card&gt;\r\n    &lt;os&gt;Windows 7 Home&lt;/os&gt;\r\n   &lt;disc_reader&gt;Blu-Ray&lt;/disc_reader&gt;\r\n &lt;/laptop&gt;\r\n &lt;laptop id=&quot;2&quot;&gt;\r\n   &lt;manufacturer&gt;Dell&lt;/manufacturer&gt;\r\n   &lt;screen touch=&quot;yes&quot;&gt;\r\n      &lt;size&gt;16&quot;&lt;/size&gt;\r\n      &lt;resolution&gt;1376x768&lt;/resolution&gt;\r\n      &lt;type/&gt;\r\n   &lt;/screen&gt;\r\n   &lt;processor&gt;\r\n     &lt;name&gt;i5&lt;/name&gt;\r\n     &lt;physical_cores&gt;4&lt;/physical_cores&gt;\r\n     &lt;clock_speed/&gt;\r\n   &lt;/processor&gt;\r\n   &lt;ram&gt;16GB&lt;/ram&gt;\r\n   &lt;disc&gt;\r\n      &lt;storage&gt;120GB&lt;/storage&gt;\r\n   &lt;/disc&gt;\r\n   &lt;graphic_card&gt;\r\n      &lt;name&gt;intel HD Graphics 5000&lt;/name&gt;\r\n      &lt;memory&gt;2GB&lt;/memory&gt;\r\n   &lt;/graphic_card&gt;\r\n   &lt;os&gt;Windows Vista&lt;/os&gt;\r\n   &lt;disc_reader&gt;no&lt;/disc_reader&gt;\r\n &lt;/laptop&gt;\r\n&lt;/laptops&gt;\r\n```\r\n\r\nI don&#39;t know what&#39;s causing this, I tried removing spaces etc., but that didn&#39;t work, so now I&#39;m stumped. Does anyone know what&#39;s the reason and how can I fix it?","title":"Invalid charachter Error while trying to write JTable contents into XML","body":"<p>I need to write the contents of a JTable into a XML file which has nested elements, but when I do, I get <code>DOMException: INVALID_CHARACTER_ERR: An invalid or illegal XML character is specified</code> Below is my class that handles XML stuff:</p>\n<pre><code>package com.example.csvapp;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.swing.table.TableModel;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport org.w3c.dom.Attr;\nimport org.w3c.dom.DOMException;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\n/**\n *\n * @author Wojtek\n */\npublic class XMLAdapter {\n    Map&lt;String, Integer[]&gt; elemTags;\n    String [] headers;\n    \n    \n    public XMLAdapter()\n    {\n        elemTags = new HashMap&lt;&gt;();\n        headers = new String[]{&quot;manufacturer&quot;, &quot;size&quot;, &quot;resolution&quot;, &quot;type&quot;, &quot;touch&quot;, &quot;name&quot;,\n        &quot;physical_cores&quot;, &quot;clock_speed&quot;, &quot;ram &quot;, &quot;storage&quot;, &quot;type&quot;, &quot;name&quot;,\n        &quot;memory&quot;, &quot;os&quot;, &quot;disc_reader&quot;};\n    }\n    \n    public String writeXML(TableModel table)\n    {\n        try\n        {\n            DocumentBuilderFactory dFactory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder dBuilder = dFactory.newDocumentBuilder();\n            Document d = dBuilder.newDocument();\n            \n            Element root = d.createElement(&quot;laptops&quot;);\n            d.appendChild(root);\n            \n            for(int i=0; i&lt;table.getRowCount();i++)\n            {\n                Element rows = d.createElement(&quot;laptop&quot;);\n                root.appendChild(rows);\n                Attr attr = d.createAttribute(&quot;id&quot;);\n                attr.setValue((i+1)+&quot;&quot;);\n                rows.setAttributeNode(attr);\n                for(String key: elemTags.keySet())\n                {\n                    Element elem = d.createElement(key);\n                    rows.appendChild(elem);\n                    if(elemTags.get(key).length==3)\n                    {\n                        String attrName=&quot;&quot;;\n                        if(key.equals(&quot;screen&quot;))\n                        {\n                            attrName=&quot;touch&quot;;\n                        }\n                        if(key.equals(&quot;disc&quot;))\n                        {\n                            attrName=&quot;type&quot;;\n                        }\n                        Attr a=d.createAttribute(attrName);\n                        a.setValue(table.getValueAt(i, elemTags.get(key)[2]).toString());\n                        elem.setAttributeNode(a);\n                    }\n                    for(int j=elemTags.get(key)[0];j&lt;=elemTags.get(key)[1];j++)\n                    {\n                        Element el = d.createElement(headers[j]);\n                        elem.appendChild(el);\n                        String value=&quot;&quot;;\n                        if(table.getValueAt(i, j)!=null)\n                        {\n                            value = table.getValueAt(i, j).toString();\n                        }\n                        el.appendChild(d.createTextNode(value));\n                    }\n                }\n            }\n            TransformerFactory tFactory = TransformerFactory.newInstance();\n            Transformer t = tFactory.newTransformer();\n            DOMSource source = new DOMSource(d);\n            StreamResult result;\n            \n            try\n            {\n                FileOutputStream fos=new FileOutputStream(new File(&quot;katalog.xml&quot;));\n                result = new StreamResult(fos);\n                t.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n                t.transform(source, result);\n                try\n                {\n                    fos.close();\n                }\n                catch(IOException e)\n                {\n                    return e.getMessage();\n                }\n            }\n            catch(FileNotFoundException e)\n            {\n                return e.getMessage();\n            }\n        }\n        catch(ParserConfigurationException | TransformerException e)\n        {\n            return e.getMessage();\n        }\n        catch(DOMException e)\n        {\n            return e.getMessage();\n        }\n        return &quot;Zapisono do XML&quot;;\n    }\n    \n    public void MapTags()\n    {\n        elemTags.put(&quot;manufacturer&quot;, new Integer[]{0,0});\n        elemTags.put(&quot;screen&quot;, new Integer[]{1,3,4});\n        elemTags.put(&quot;processor&quot;, new Integer[]{5,7});\n        elemTags.put(&quot;ram&quot;, new Integer[]{8,8});\n        elemTags.put(&quot;disc&quot;, new Integer[]{9,9,10});\n        elemTags.put(&quot;graphic_card&quot;, new Integer[]{11,12});\n        elemTags.put(&quot;os&quot;, new Integer[]{13,13});\n        elemTags.put(&quot;disc_reader&quot;, new Integer[]{14,14});\n    }\n}\n</code></pre>\n<p>Also, that's what the XML file should look like:</p>\n<pre><code>&lt;laptops moddate=&quot;2015-10-30 T 10:15&quot;&gt;\n  &lt;laptop id=&quot;1&quot;&gt;\n    &lt;manufacturer&gt;Asus&lt;/manufacturer&gt;\n    &lt;screen touch=&quot;no&quot;&gt;\n      &lt;size&gt;12&quot;&lt;/size&gt;\n      &lt;resolution&gt;1600x900&lt;/resolution&gt;\n      &lt;type&gt;matte&lt;/type&gt;\n    &lt;/screen&gt;\n    &lt;processor&gt;\n       &lt;name&gt;i7&lt;/name&gt;\n       &lt;physical_cores&gt;8&lt;/physical_cores&gt;\n       &lt;clock_speed&gt;3200&lt;/clock_speed&gt;\n    &lt;/processor&gt;\n    &lt;ram&gt;8GB&lt;/ram&gt;\n    &lt;disc type=&quot;SSD&quot;&gt;\n       &lt;storage&gt;240GB&lt;/storage&gt;\n    &lt;/disc&gt;\n    &lt;graphic_card&gt;\n       &lt;name&gt;intel HD Graphics 4000&lt;/name&gt;\n       &lt;memory&gt;1GB&lt;/memory&gt;\n    &lt;/graphic_card&gt;\n    &lt;os&gt;Windows 7 Home&lt;/os&gt;\n   &lt;disc_reader&gt;Blu-Ray&lt;/disc_reader&gt;\n &lt;/laptop&gt;\n &lt;laptop id=&quot;2&quot;&gt;\n   &lt;manufacturer&gt;Dell&lt;/manufacturer&gt;\n   &lt;screen touch=&quot;yes&quot;&gt;\n      &lt;size&gt;16&quot;&lt;/size&gt;\n      &lt;resolution&gt;1376x768&lt;/resolution&gt;\n      &lt;type/&gt;\n   &lt;/screen&gt;\n   &lt;processor&gt;\n     &lt;name&gt;i5&lt;/name&gt;\n     &lt;physical_cores&gt;4&lt;/physical_cores&gt;\n     &lt;clock_speed/&gt;\n   &lt;/processor&gt;\n   &lt;ram&gt;16GB&lt;/ram&gt;\n   &lt;disc&gt;\n      &lt;storage&gt;120GB&lt;/storage&gt;\n   &lt;/disc&gt;\n   &lt;graphic_card&gt;\n      &lt;name&gt;intel HD Graphics 5000&lt;/name&gt;\n      &lt;memory&gt;2GB&lt;/memory&gt;\n   &lt;/graphic_card&gt;\n   &lt;os&gt;Windows Vista&lt;/os&gt;\n   &lt;disc_reader&gt;no&lt;/disc_reader&gt;\n &lt;/laptop&gt;\n&lt;/laptops&gt;\n</code></pre>\n<p>I don't know what's causing this, I tried removing spaces etc., but that didn't work, so now I'm stumped. Does anyone know what's the reason and how can I fix it?</p>\n"},{"tags":["java","android","spring-boot","android-studio"],"answers":[{"tags":[],"owner":{"account_id":13908678,"reputation":11,"user_id":10042440,"display_name":"Invincible System"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648984315,"creation_date":1648984315,"answer_id":71725337,"question_id":67814363,"body_markdown":"Picasso is the option to do this. just load your images with the resource you receive from server...","title":"Load Image/Files from Spring Boot Rest api To the Android front end","body":"<p>Picasso is the option to do this. just load your images with the resource you receive from server...</p>\n"}],"owner":{"account_id":13908678,"reputation":11,"user_id":10042440,"display_name":"Invincible System"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71725337,"answer_count":1,"score":1,"last_activity_date":1648984315,"creation_date":1622684219,"question_id":67814363,"body_markdown":"This is my controller end point that will take the request from the frontend with the filename and using that filename image/file shall be returned. It works fine while testing on postman but I have no idea how to load images/files from this end point in android.\r\n```\r\nGetMapping(&quot;downloadFile/{fileName}&quot;)\r\n\t@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;) or hasRole(&#39;MODERATOR&#39;) or hasRole(&#39;USER&#39;)&quot;)\r\n\tpublic ResponseEntity&lt;Resource&gt; downloadFile(@PathVariable String fileName, HttpServletRequest request) {\r\n\t\tResource resource = fileStorageService.loadFileAsResource(fileName);\r\n\t\t//System.out.println(resource);\r\n\t\tString contentType = null;\r\n\t\ttry {\r\n\t\t\tcontentType = request.getServletContext().getMimeType(resource.getFile().getAbsolutePath());\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\tif (contentType == null) {\r\n\t\t\tcontentType = AppConstants.DEFAULT_CONTENT_TYPE;\r\n\t\t}\r\n\t\treturn ResponseEntity.ok().contentType(MediaType.parseMediaType(contentType))\r\n\t\t\t\t.header(HttpHeaders.CONTENT_DISPOSITION,\r\n\t\t\t\t\t\tString.format(AppConstants.FILE_DOWNLOAD_HTTP_HEADER, resource.getFilename()))\r\n\t\t\t\t.body(resource);\r\n\t}\r\n```\r\n\r\nAnd My service for this looks like..\r\n```\r\n public Resource loadFileAsResource(String fileName) {\r\n\t    \ttry {\r\n\t\t\t\t//Path filePath = this.fileStorageLocation.resolve(fileName).normalize();\r\n\t\t\t\tPath filePath= this.fileStoragePath.resolve(fileName).normalize();\r\n\r\n\t\t\t\tResource resource = new UrlResource(filePath.toUri());\r\n\r\n\t\t\t\tif (resource.exists()) {\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn resource;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new FileStorageException(AppConstants.FILE_NOT_FOUND + fileName);\r\n\t\t\t\t}\r\n\t\t\t} catch (MalformedURLException ex) {\r\n\t\t\t\tthrow new FileStorageException(AppConstants.FILE_NOT_FOUND + fileName, ex);\r\n\t\t\t}\r\n\t    \t\r\n\t\t}\r\n```\r\n\r\nI need to load image/files from here to the android frontend.","title":"Load Image/Files from Spring Boot Rest api To the Android front end","body":"<p>This is my controller end point that will take the request from the frontend with the filename and using that filename image/file shall be returned. It works fine while testing on postman but I have no idea how to load images/files from this end point in android.</p>\n<pre><code>GetMapping(&quot;downloadFile/{fileName}&quot;)\n    @PreAuthorize(&quot;hasRole('ADMIN') or hasRole('MODERATOR') or hasRole('USER')&quot;)\n    public ResponseEntity&lt;Resource&gt; downloadFile(@PathVariable String fileName, HttpServletRequest request) {\n        Resource resource = fileStorageService.loadFileAsResource(fileName);\n        //System.out.println(resource);\n        String contentType = null;\n        try {\n            contentType = request.getServletContext().getMimeType(resource.getFile().getAbsolutePath());\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n        if (contentType == null) {\n            contentType = AppConstants.DEFAULT_CONTENT_TYPE;\n        }\n        return ResponseEntity.ok().contentType(MediaType.parseMediaType(contentType))\n                .header(HttpHeaders.CONTENT_DISPOSITION,\n                        String.format(AppConstants.FILE_DOWNLOAD_HTTP_HEADER, resource.getFilename()))\n                .body(resource);\n    }\n</code></pre>\n<p>And My service for this looks like..</p>\n<pre><code> public Resource loadFileAsResource(String fileName) {\n            try {\n                //Path filePath = this.fileStorageLocation.resolve(fileName).normalize();\n                Path filePath= this.fileStoragePath.resolve(fileName).normalize();\n\n                Resource resource = new UrlResource(filePath.toUri());\n\n                if (resource.exists()) {\n                    \n                    return resource;\n                } else {\n                    throw new FileStorageException(AppConstants.FILE_NOT_FOUND + fileName);\n                }\n            } catch (MalformedURLException ex) {\n                throw new FileStorageException(AppConstants.FILE_NOT_FOUND + fileName, ex);\n            }\n            \n        }\n</code></pre>\n<p>I need to load image/files from here to the android frontend.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1648679993,"post_id":71684310,"comment_id":126689257,"body_markdown":"Just speculation, and shouldn&#39;t be necessary, but you could [requestLayout()](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Parent.html#requestLayout()), and see if it resolves your issue.  I&#39;d try replicating your issue, but it would be painful and take some work to do so based on the code you provided.","body":"Just speculation, and shouldn&#39;t be necessary, but you could <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Parent.html#requestLayout()\" rel=\"nofollow noreferrer\">requestLayout()</a>, and see if it resolves your issue.  I&#39;d try replicating your issue, but it would be painful and take some work to do so based on the code you provided."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1648702172,"post_id":71684310,"comment_id":126692656,"body_markdown":"I am not sure if [this](https://stackoverflow.com/questions/48464476/javafx-stage-scene-automatic-resize/48466226#48466226) will help, but have a  look.","body":"I am not sure if <a href=\"https://stackoverflow.com/questions/48464476/javafx-stage-scene-automatic-resize/48466226#48466226\">this</a> will help, but have a  look."},{"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"score":0,"creation_date":1648743840,"post_id":71684310,"comment_id":126708089,"body_markdown":"@kleopatra I created a GitHub repository with a minimal example and updated my post.","body":"@kleopatra I created a GitHub repository with a minimal example and updated my post."},{"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"score":0,"creation_date":1648743996,"post_id":71684310,"comment_id":126708149,"body_markdown":"@jewelsea I tried to call requestLayout() on the accordion after removing a pane, but it didn&#39;t change the behavior. Please have a look on the example GitHub repository I created.","body":"@jewelsea I tried to call requestLayout() on the accordion after removing a pane, but it didn&#39;t change the behavior. Please have a look on the example GitHub repository I created."},{"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"score":1,"creation_date":1648744553,"post_id":71684310,"comment_id":126708352,"body_markdown":"@Sedrick I tried calling sizeToScene() on the stage, but it just resizes the window.","body":"@Sedrick I tried calling sizeToScene() on the stage, but it just resizes the window."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1648779509,"post_id":71684310,"comment_id":126716758,"body_markdown":"Also, can you simplify the example further?  I am not sure why there is a separate property defined for a remove event handler and a changelistener for an observable list.  Neither of those things would seem necessary to replicate the issue you describe.","body":"Also, can you simplify the example further?  I am not sure why there is a separate property defined for a remove event handler and a changelistener for an observable list.  Neither of those things would seem necessary to replicate the issue you describe."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1648779533,"post_id":71684310,"comment_id":126716762,"body_markdown":"I didnt get a chance to try your example, but wrapping components in a non-resizable parent like Group may be an issue.","body":"I didnt get a chance to try your example, but wrapping components in a non-resizable parent like Group may be an issue."},{"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"score":0,"creation_date":1648844718,"post_id":71684310,"comment_id":126735893,"body_markdown":"@kleopatra I simplified the example further and added to code in the post as well.","body":"@kleopatra I simplified the example further and added to code in the post as well."},{"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"score":0,"creation_date":1648844791,"post_id":71684310,"comment_id":126735914,"body_markdown":"@jewelsea I observe the same behavior even without the Group.","body":"@jewelsea I observe the same behavior even without the Group."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1648895477,"post_id":71684310,"comment_id":126742380,"body_markdown":"Thanks for the example! Looks like a bug to me: seems to happen if the expanded pane is removed (doesn&#39;t matter whether from a button on the pane or from an outside handler), all fine for a not-expanded pane. Part of the reason seems to be the animation (setting it to false improves but not entirely heals the layout - the button under the accordion still is off by what appears to be about the title height or a bit less). You might consider reporting the issue :)","body":"Thanks for the example! Looks like a bug to me: seems to happen if the expanded pane is removed (doesn&#39;t matter whether from a button on the pane or from an outside handler), all fine for a not-expanded pane. Part of the reason seems to be the animation (setting it to false improves but not entirely heals the layout - the button under the accordion still is off by what appears to be about the title height or a bit less). You might consider reporting the issue :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1648907842,"post_id":71684310,"comment_id":126744696,"body_markdown":"yeah, definitely a bug in AccordionSkin: it keeps a reference to the previous expanded pane (for performance reasons?) which is used for calculating the min/pref - that reference is not nulled on removing so still included into the size calc.","body":"yeah, definitely a bug in AccordionSkin: it keeps a reference to the previous expanded pane (for performance reasons?) which is used for calculating the min/pref - that reference is not nulled on removing so still included into the size calc."},{"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"score":0,"creation_date":1648928648,"post_id":71684310,"comment_id":126748887,"body_markdown":"@kleopatra Thank you very much for your help. Setting the animated property to false &quot;fixes&quot; the problem somewhat, but I will have look at the AccordionSkin  and try to fix the problem you described and report the bug.","body":"@kleopatra Thank you very much for your help. Setting the animated property to false &quot;fixes&quot; the problem somewhat, but I will have look at the AccordionSkin  and try to fix the problem you described and report the bug."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649757659,"post_id":71684310,"comment_id":126951471,"body_markdown":"thanks for reporting https://bugs.openjdk.java.net/browse/JDK-8284568 :)","body":"thanks for reporting <a href=\"https://bugs.openjdk.java.net/browse/JDK-8284568\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8284568</a> :)"}],"answers":[{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648983705,"creation_date":1648983705,"answer_id":71725273,"question_id":71684310,"body_markdown":"The behavior is a bug in AccordionSkin. The technical reason is that it keeps internal references to the current and previous expanded pane - both used in calculating the min/pref height - which are not updated correctly on removing the expanded pane. A fix would be to null those references if the panes are no longer part of the accordion, f.i. from the skin&#39;s listener to the panes list.\r\n\r\nThere is no clean way to work around this because all involved fields/methods are private - if we are allowed to go dirty, though, we can hack around the bug with reflection. \r\n\r\nThe basics:\r\n\r\n- extend AccordionSkin and let our accordion use the extended version\r\n- in the skin, override both computeMin/Pref/Height to check/fix the references before returning super\r\n- check: the panes should be contained in the accordion&#39;s panes\r\n- fix: if not, set the reference to null \r\n\r\nNotes:\r\n\r\n- the reflective access to internal fields requires that the package is opened at runtime\r\n- the usual beware: tweaking/relying on implementation internals is highly version dependent and might/will break eventually\r\n- FXUtils is my local utility class for reflection, you have to replace it with your own implementation\r\n\r\nThe code:\r\n\r\n    public class SimpleLayoutAccordionOnRemove extends Application {\r\n    \r\n        /**\r\n         * AccordionSkin that hacks the broken layout after remove of expanded pane.\r\n         */\r\n        public static class HackedAccordionSkin extends AccordionSkin {\r\n    \r\n            public HackedAccordionSkin(Accordion control) {\r\n                super(control);\r\n            }\r\n    \r\n            @Override\r\n            protected double computeMinHeight(double width, double topInset, double rightInset,\r\n                    double bottomInset, double leftInset) {\r\n                checkPaneFields();\r\n                return super.computeMinHeight(width, topInset, rightInset, bottomInset, leftInset);\r\n            }\r\n    \r\n            @Override\r\n            protected double computePrefHeight(double width, double topInset, double rightInset,\r\n                    double bottomInset, double leftInset) {\r\n                checkPaneFields();\r\n                return super.computePrefHeight(width, topInset, rightInset, bottomInset, leftInset);\r\n            }\r\n    \r\n            private void checkPaneFields() {\r\n                checkPaneField(&quot;previousPane&quot;);\r\n                checkPaneField(&quot;expandedPane&quot;);\r\n            }\r\n    \r\n            /**\r\n             * Check if the pane referenced by the field with the given name is contained\r\n             * in the accordion&#39;s panes and sets it to null if not.\r\n             */\r\n            private void checkPaneField(String fieldName) {\r\n                TitledPane prev = (TitledPane) FXUtils.invokeGetFieldValue(AccordionSkin.class, this, fieldName);\r\n                if (!getSkinnable().getPanes().contains(prev)) {\r\n                    FXUtils.invokeSetFieldValue(AccordionSkin.class, this, fieldName, null);\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        private Parent createContent() {\r\n            Accordion accordion = new Accordion() {\r\n    \r\n                @Override\r\n                protected Skin&lt;?&gt; createDefaultSkin() {\r\n                    return new HackedAccordionSkin(this);\r\n                }\r\n    \r\n            };\r\n    \r\n            Button add = new Button(&quot;add&quot;);\r\n            add.setOnAction(e -&gt; {\r\n                addTitledPane(accordion);\r\n            });\r\n            VBox accBox = new VBox(accordion, add);\r\n    \r\n            StackPane content = new StackPane(new Group(accBox));\r\n            return content;\r\n        }\r\n    \r\n        int count;\r\n        private void addTitledPane(Accordion accordion) {\r\n            TitledPane pane = new TitledPane();\r\n            pane.setText(&quot;Pane &quot; + count++);\r\n            Button remove = new Button(&quot;remove&quot;);\r\n            remove.setOnAction(e -&gt; {\r\n                accordion.getPanes().remove(pane);\r\n            });\r\n            VBox box = new VBox(remove);\r\n            pane.setContent(box);\r\n            accordion.getPanes().add(pane);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            stage.setScene(new Scene(createContent(), 600, 400));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n    }\r\n","title":"How to resize accordion after removing a pane in JavaFX","body":"<p>The behavior is a bug in AccordionSkin. The technical reason is that it keeps internal references to the current and previous expanded pane - both used in calculating the min/pref height - which are not updated correctly on removing the expanded pane. A fix would be to null those references if the panes are no longer part of the accordion, f.i. from the skin's listener to the panes list.</p>\n<p>There is no clean way to work around this because all involved fields/methods are private - if we are allowed to go dirty, though, we can hack around the bug with reflection.</p>\n<p>The basics:</p>\n<ul>\n<li>extend AccordionSkin and let our accordion use the extended version</li>\n<li>in the skin, override both computeMin/Pref/Height to check/fix the references before returning super</li>\n<li>check: the panes should be contained in the accordion's panes</li>\n<li>fix: if not, set the reference to null</li>\n</ul>\n<p>Notes:</p>\n<ul>\n<li>the reflective access to internal fields requires that the package is opened at runtime</li>\n<li>the usual beware: tweaking/relying on implementation internals is highly version dependent and might/will break eventually</li>\n<li>FXUtils is my local utility class for reflection, you have to replace it with your own implementation</li>\n</ul>\n<p>The code:</p>\n<pre><code>public class SimpleLayoutAccordionOnRemove extends Application {\n\n    /**\n     * AccordionSkin that hacks the broken layout after remove of expanded pane.\n     */\n    public static class HackedAccordionSkin extends AccordionSkin {\n\n        public HackedAccordionSkin(Accordion control) {\n            super(control);\n        }\n\n        @Override\n        protected double computeMinHeight(double width, double topInset, double rightInset,\n                double bottomInset, double leftInset) {\n            checkPaneFields();\n            return super.computeMinHeight(width, topInset, rightInset, bottomInset, leftInset);\n        }\n\n        @Override\n        protected double computePrefHeight(double width, double topInset, double rightInset,\n                double bottomInset, double leftInset) {\n            checkPaneFields();\n            return super.computePrefHeight(width, topInset, rightInset, bottomInset, leftInset);\n        }\n\n        private void checkPaneFields() {\n            checkPaneField(&quot;previousPane&quot;);\n            checkPaneField(&quot;expandedPane&quot;);\n        }\n\n        /**\n         * Check if the pane referenced by the field with the given name is contained\n         * in the accordion's panes and sets it to null if not.\n         */\n        private void checkPaneField(String fieldName) {\n            TitledPane prev = (TitledPane) FXUtils.invokeGetFieldValue(AccordionSkin.class, this, fieldName);\n            if (!getSkinnable().getPanes().contains(prev)) {\n                FXUtils.invokeSetFieldValue(AccordionSkin.class, this, fieldName, null);\n            }\n        }\n\n    }\n\n    private Parent createContent() {\n        Accordion accordion = new Accordion() {\n\n            @Override\n            protected Skin&lt;?&gt; createDefaultSkin() {\n                return new HackedAccordionSkin(this);\n            }\n\n        };\n\n        Button add = new Button(&quot;add&quot;);\n        add.setOnAction(e -&gt; {\n            addTitledPane(accordion);\n        });\n        VBox accBox = new VBox(accordion, add);\n\n        StackPane content = new StackPane(new Group(accBox));\n        return content;\n    }\n\n    int count;\n    private void addTitledPane(Accordion accordion) {\n        TitledPane pane = new TitledPane();\n        pane.setText(&quot;Pane &quot; + count++);\n        Button remove = new Button(&quot;remove&quot;);\n        remove.setOnAction(e -&gt; {\n            accordion.getPanes().remove(pane);\n        });\n        VBox box = new VBox(remove);\n        pane.setContent(box);\n        accordion.getPanes().add(pane);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        stage.setScene(new Scene(createContent(), 600, 400));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71725273,"answer_count":1,"score":1,"last_activity_date":1648983705,"creation_date":1648675309,"question_id":71684310,"body_markdown":"Im working on a small JavaFX project. In one of my scenes, I want to dynamically add and remove a custom component I implemented, which extends from TitledPane, to respectively from an Accordion. This works all well and good, but after removing the pane from the Accordion the damn thing won&#39;t resize **immidately**, but only after I click somewhere on the gui. I prepared the following GIF to visualize the problem to you.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan someone tell me why the accordion only resizes after I clicked somewhere on the gui interface and not immidiately? I mean auto resizing doesn&#39;t seem to be a problem, it just won&#39;t trigger...can someone tell me why that is the case? Maybe this is obvious, but I am not very familiar with JavaFX, so I am really stuck here. I also observed a similar behavior with other component, so maybe I am missing something fundamentally here.\r\n\r\n**UPDATE**\r\n\r\nOk I created a minimal example for you to reproduce my problem. You can clone the repository on GitHub [javafx-demo][2] and try it out yourself. Doing this I noticed, that the Accordion resizes only if I click on it and not when I click anywhere else on the gui.\r\n\r\n**UPDATE 1**\r\n\r\nI simplified the example further. You can find the example in the GitHub repository above or see the code below:\r\n\r\n**App**\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;parentView.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    }\r\n\r\n**ParentController**\r\n\r\n    public class ParentController {\r\n    \r\n        @FXML\r\n        private Accordion accordion;\r\n    \r\n        public void onAddAction() {\r\n            var itemControl = new ItemControl();\r\n            EventHandler&lt;ActionEvent&gt; removeEventHandler = event -&gt; {\r\n                accordion.getPanes().remove(itemControl);\r\n            };\r\n            itemControl.setOnRemoveProperty(removeEventHandler);\r\n            accordion.getPanes().add(itemControl);\r\n        }\r\n    }\r\n\r\n**Parent View**\r\n\r\n    &lt;StackPane xmlns=&quot;http://javafx.com/javafx/16&quot;\r\n               xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n               fx:controller=&quot;org.example.ParentController&quot;&gt;\r\n       &lt;Group StackPane.alignment=&quot;CENTER&quot;&gt;\r\n          &lt;VBox&gt;\r\n             &lt;Accordion fx:id=&quot;accordion&quot;/&gt;\r\n             &lt;Button onAction=&quot;#onAddAction&quot; text=&quot;Add&quot;/&gt;\r\n          &lt;/VBox&gt;\r\n       &lt;/Group&gt;\r\n    &lt;/StackPane&gt;\r\n\r\n**ItemControl**\r\n\r\n    public class ItemControl extends TitledPane {\r\n    \r\n        private final UUID id = UUID.randomUUID();\r\n        private final ObjectProperty&lt;EventHandler&lt;ActionEvent&gt;&gt; onRemoveProperty = new SimpleObjectProperty&lt;&gt;();\r\n    \r\n        @FXML\r\n        private Button removeButton;\r\n    \r\n        public ItemControl() {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(ItemControl.class.getResource(&quot;itemControl.fxml&quot;));\r\n            fxmlLoader.setRoot(this);\r\n            fxmlLoader.setController(this);\r\n    \r\n            try {\r\n                fxmlLoader.load();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @FXML\r\n        public void initialize() {\r\n            removeButton.onActionProperty().bind(onRemoveProperty);\r\n        }\r\n    \r\n        public void setOnRemoveProperty(EventHandler&lt;ActionEvent&gt; onRemoveProperty) {\r\n            this.onRemoveProperty.set(onRemoveProperty);\r\n        }\r\n        \r\n        // equals and hashCode omitted for brevity (id instance variable is used as identifier)\r\n    }\r\n\r\n**ItemControl FXML**\r\n\r\n    &lt;fx:root type=&quot;javafx.scene.control.TitledPane&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;VBox&gt;\r\n            &lt;Button fx:id=&quot;removeButton&quot; text=&quot;Remove&quot;/&gt;\r\n        &lt;/VBox&gt;\r\n    &lt;/fx:root&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/VUYsi.gif\r\n  [2]: https://github.com/MaikBasel/javafx-demo","title":"How to resize accordion after removing a pane in JavaFX","body":"<p>Im working on a small JavaFX project. In one of my scenes, I want to dynamically add and remove a custom component I implemented, which extends from TitledPane, to respectively from an Accordion. This works all well and good, but after removing the pane from the Accordion the damn thing won't resize <strong>immidately</strong>, but only after I click somewhere on the gui. I prepared the following GIF to visualize the problem to you.</p>\n<p><a href=\"https://i.stack.imgur.com/VUYsi.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VUYsi.gif\" alt=\"enter image description here\" /></a></p>\n<p>Can someone tell me why the accordion only resizes after I clicked somewhere on the gui interface and not immidiately? I mean auto resizing doesn't seem to be a problem, it just won't trigger...can someone tell me why that is the case? Maybe this is obvious, but I am not very familiar with JavaFX, so I am really stuck here. I also observed a similar behavior with other component, so maybe I am missing something fundamentally here.</p>\n<p><strong>UPDATE</strong></p>\n<p>Ok I created a minimal example for you to reproduce my problem. You can clone the repository on GitHub <a href=\"https://github.com/MaikBasel/javafx-demo\" rel=\"nofollow noreferrer\">javafx-demo</a> and try it out yourself. Doing this I noticed, that the Accordion resizes only if I click on it and not when I click anywhere else on the gui.</p>\n<p><strong>UPDATE 1</strong></p>\n<p>I simplified the example further. You can find the example in the GitHub repository above or see the code below:</p>\n<p><strong>App</strong></p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;parentView.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p><strong>ParentController</strong></p>\n<pre><code>public class ParentController {\n\n    @FXML\n    private Accordion accordion;\n\n    public void onAddAction() {\n        var itemControl = new ItemControl();\n        EventHandler&lt;ActionEvent&gt; removeEventHandler = event -&gt; {\n            accordion.getPanes().remove(itemControl);\n        };\n        itemControl.setOnRemoveProperty(removeEventHandler);\n        accordion.getPanes().add(itemControl);\n    }\n}\n</code></pre>\n<p><strong>Parent View</strong></p>\n<pre><code>&lt;StackPane xmlns=&quot;http://javafx.com/javafx/16&quot;\n           xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n           fx:controller=&quot;org.example.ParentController&quot;&gt;\n   &lt;Group StackPane.alignment=&quot;CENTER&quot;&gt;\n      &lt;VBox&gt;\n         &lt;Accordion fx:id=&quot;accordion&quot;/&gt;\n         &lt;Button onAction=&quot;#onAddAction&quot; text=&quot;Add&quot;/&gt;\n      &lt;/VBox&gt;\n   &lt;/Group&gt;\n&lt;/StackPane&gt;\n</code></pre>\n<p><strong>ItemControl</strong></p>\n<pre><code>public class ItemControl extends TitledPane {\n\n    private final UUID id = UUID.randomUUID();\n    private final ObjectProperty&lt;EventHandler&lt;ActionEvent&gt;&gt; onRemoveProperty = new SimpleObjectProperty&lt;&gt;();\n\n    @FXML\n    private Button removeButton;\n\n    public ItemControl() {\n        FXMLLoader fxmlLoader = new FXMLLoader(ItemControl.class.getResource(&quot;itemControl.fxml&quot;));\n        fxmlLoader.setRoot(this);\n        fxmlLoader.setController(this);\n\n        try {\n            fxmlLoader.load();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @FXML\n    public void initialize() {\n        removeButton.onActionProperty().bind(onRemoveProperty);\n    }\n\n    public void setOnRemoveProperty(EventHandler&lt;ActionEvent&gt; onRemoveProperty) {\n        this.onRemoveProperty.set(onRemoveProperty);\n    }\n    \n    // equals and hashCode omitted for brevity (id instance variable is used as identifier)\n}\n</code></pre>\n<p><strong>ItemControl FXML</strong></p>\n<pre><code>&lt;fx:root type=&quot;javafx.scene.control.TitledPane&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;VBox&gt;\n        &lt;Button fx:id=&quot;removeButton&quot; text=&quot;Remove&quot;/&gt;\n    &lt;/VBox&gt;\n&lt;/fx:root&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1648916905,"post_id":71719116,"comment_id":126746533,"body_markdown":"I think it crashes because it tries to initialise `StringConcatFactory`, which involves creating a new stack frame, but the stack already overflowed... There&#39;s probably some implementation differences between JDK 11 and whatever you were using before. In any case, **you are not supposed to catch** `StackOverflowError`s.","body":"I think it crashes because it tries to initialise <code>StringConcatFactory</code>, which involves creating a new stack frame, but the stack already overflowed... There&#39;s probably some implementation differences between JDK 11 and whatever you were using before. In any case, <b>you are not supposed to catch</b> <code>StackOverflowError</code>s."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1648917493,"post_id":71719116,"comment_id":126746628,"body_markdown":"This looks like an error where the compiler, JDK, and runtime are not all running at the same version of Java.","body":"This looks like an error where the compiler, JDK, and runtime are not all running at the same version of Java."}],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648982303,"creation_date":1648915263,"question_id":71719116,"body_markdown":"I&#39;m working on a Java CPU benchmark that tests the number of recursive calls for a method that returns the sum of all prime numbers, from a variable called `start`. This is how my method looks like:\r\n\r\n    private long recursive(long start, int size, int counter) {\r\n        long temp = findNextPrime(start);\r\n        if (temp &gt; size) return 0;\r\n        try {\r\n            return temp + recursive(temp, size, counter + 1);\r\n        } catch (StackOverflowError e) {\r\n            System.out.println(&quot;Reached nr &quot; + start + &quot;/&quot; + size + &quot; after &quot; + counter + &quot; calls.&quot;);\r\n            return 0;\r\n        }\r\n    }\r\n\r\nI am looking for a `StackOverflowError` exception and want to output the last sum calculated before reaching that exception. Everything seems to work fine from a logical point of view, when I&#39;m using a smaller value for `size`. The prime numbers are picked up correctly, and the sum is calculated correctly. \r\n\r\nThe problem is for greater values of `size`, where the exception is actually thrown. When I don&#39;t output anything in the `catch()` section (I comment the `System.out.println()` line), everything seems to be okay, but when I just let the print line as it is, I receive the following error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class java.lang.invoke.StringConcatFactory\r\nat java.base/java.lang.invoke.DirectMethodHandle.shouldBeInitialized(DirectMethodHandle.java:347)\r\n\tat java.base/java.lang.invoke.DirectMethodHandle.preparedLambdaForm(DirectMethodHandle.java:193)\r\n\tat java.base/java.lang.invoke.DirectMethodHandle.preparedLambdaForm(DirectMethodHandle.java:210)\r\n\tat java.base/java.lang.invoke.DirectMethodHandle.make(DirectMethodHandle.java:105)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.getDirectMethodCommon(MethodHandles.java:2322)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.getDirectMethodNoSecurityManager(MethodHandles.java:2278)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.getDirectMethodForConstant(MethodHandles.java:2520)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.linkMethodHandleConstant(MethodHandles.java:2466)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.linkMethodHandleConstant(MethodHandleNatives.java:592)\r\n\tat benchmark.cpu.CPURecursionLoopUnrollingBenchmark.recursive(CPURecursionLoopUnrollingBenchmark.java:61)\r\n\tat benchmark.cpu.CPURecursionLoopUnrollingBenchmark.recursive(CPURecursionLoopUnrollingBenchmark.java:59)\r\n```\r\nThe last line repeats itself a huge number of times. **Line 59** in my code represents the `return` statement from the `try` block (`return temp + ...`). I am using IntelliJ with a Java 11 SDK and never ever met this error before.\r\n\r\nIt is obviously a concatenation problem, because if I&#39;m just outputting a simple string (without any `+` operators), everything seems to work fine. The string concatenation **works** outside this method.\r\n\r\nI am not going to also display the other method (`findNextPrime()`), because I feel like wasting too much space and making the question more complex as it already is. If you need more details, please leave a comment and I will surely add the other method, too (or what you&#39;re asking for).","title":"StringConcatFactory problem in try catch block with recursion","body":"<p>I'm working on a Java CPU benchmark that tests the number of recursive calls for a method that returns the sum of all prime numbers, from a variable called <code>start</code>. This is how my method looks like:</p>\n<pre><code>private long recursive(long start, int size, int counter) {\n    long temp = findNextPrime(start);\n    if (temp &gt; size) return 0;\n    try {\n        return temp + recursive(temp, size, counter + 1);\n    } catch (StackOverflowError e) {\n        System.out.println(&quot;Reached nr &quot; + start + &quot;/&quot; + size + &quot; after &quot; + counter + &quot; calls.&quot;);\n        return 0;\n    }\n}\n</code></pre>\n<p>I am looking for a <code>StackOverflowError</code> exception and want to output the last sum calculated before reaching that exception. Everything seems to work fine from a logical point of view, when I'm using a smaller value for <code>size</code>. The prime numbers are picked up correctly, and the sum is calculated correctly.</p>\n<p>The problem is for greater values of <code>size</code>, where the exception is actually thrown. When I don't output anything in the <code>catch()</code> section (I comment the <code>System.out.println()</code> line), everything seems to be okay, but when I just let the print line as it is, I receive the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class java.lang.invoke.StringConcatFactory\nat java.base/java.lang.invoke.DirectMethodHandle.shouldBeInitialized(DirectMethodHandle.java:347)\n    at java.base/java.lang.invoke.DirectMethodHandle.preparedLambdaForm(DirectMethodHandle.java:193)\n    at java.base/java.lang.invoke.DirectMethodHandle.preparedLambdaForm(DirectMethodHandle.java:210)\n    at java.base/java.lang.invoke.DirectMethodHandle.make(DirectMethodHandle.java:105)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.getDirectMethodCommon(MethodHandles.java:2322)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.getDirectMethodNoSecurityManager(MethodHandles.java:2278)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.getDirectMethodForConstant(MethodHandles.java:2520)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.linkMethodHandleConstant(MethodHandles.java:2466)\n    at java.base/java.lang.invoke.MethodHandleNatives.linkMethodHandleConstant(MethodHandleNatives.java:592)\n    at benchmark.cpu.CPURecursionLoopUnrollingBenchmark.recursive(CPURecursionLoopUnrollingBenchmark.java:61)\n    at benchmark.cpu.CPURecursionLoopUnrollingBenchmark.recursive(CPURecursionLoopUnrollingBenchmark.java:59)\n</code></pre>\n<p>The last line repeats itself a huge number of times. <strong>Line 59</strong> in my code represents the <code>return</code> statement from the <code>try</code> block (<code>return temp + ...</code>). I am using IntelliJ with a Java 11 SDK and never ever met this error before.</p>\n<p>It is obviously a concatenation problem, because if I'm just outputting a simple string (without any <code>+</code> operators), everything seems to work fine. The string concatenation <strong>works</strong> outside this method.</p>\n<p>I am not going to also display the other method (<code>findNextPrime()</code>), because I feel like wasting too much space and making the question more complex as it already is. If you need more details, please leave a comment and I will surely add the other method, too (or what you're asking for).</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"score":0,"creation_date":1648979604,"post_id":71724454,"comment_id":126755638,"body_markdown":"share your code. also explain how do you expect the app to guess wich fragment you want to switch for...","body":"share your code. also explain how do you expect the app to guess wich fragment you want to switch for..."},{"owner":{"account_id":6573204,"reputation":19,"user_id":5080366,"display_name":" "},"score":0,"creation_date":1648980192,"post_id":71724454,"comment_id":126755750,"body_markdown":"If the first element of the array is Fish, then the first fragment Fragment_Fish.java . If the second element of the array is Bird, then when the Next button is clicked, the fragment is Fragment_Fish.java is replaced by the fragment Fragment_Bird.java and so on.\nThe application will guess which fragment you want to switch to by the order of words in the array.","body":"If the first element of the array is Fish, then the first fragment Fragment_Fish.java . If the second element of the array is Bird, then when the Next button is clicked, the fragment is Fragment_Fish.java is replaced by the fragment Fragment_Bird.java and so on. The application will guess which fragment you want to switch to by the order of words in the array."},{"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"score":0,"creation_date":1648981355,"post_id":71724454,"comment_id":126755979,"body_markdown":"post your current code","body":"post your current code"}],"answers":[{"tags":[],"owner":{"account_id":22264480,"reputation":89,"user_id":16495473,"display_name":"Mohit Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648981565,"creation_date":1648981565,"answer_id":71724998,"question_id":71724454,"body_markdown":"I don&#39;t understand your problem clearly, I think you want to switch between fragments.\r\n\r\nIf you want to switch between multiple fragments, you can use **navigation components** for this.\r\nYou can explore about navigation components.\r\n\r\nResources :- [Integrate the Navigation component][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-migrate#integrate","title":"Dynamic switching of fragments","body":"<p>I don't understand your problem clearly, I think you want to switch between fragments.</p>\n<p>If you want to switch between multiple fragments, you can use <strong>navigation components</strong> for this.\nYou can explore about navigation components.</p>\n<p>Resources :- <a href=\"https://developer.android.com/guide/navigation/navigation-migrate#integrate\" rel=\"nofollow noreferrer\">Integrate the Navigation component</a></p>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1648981717,"creation_date":1648981717,"answer_id":71725020,"question_id":71724454,"body_markdown":"1. You need to make an array of the fragments like this:\r\n```java\r\nFragment[] fragments = new Fragment[]]{new Fragment_Fish(), and other fragments separated with commas};\r\n```\r\n\r\n2. Make a int variable in the class something like this:\r\n```java\r\nint counter = 0;\r\n```\r\n\r\n3. Increase the counter on button click and update the fragment. Like this:\r\n```java\r\nbuttonNext.setOnClickListener(v -&gt; {\r\n   counter ++;\r\n   if(!counter &gt;= fragments.size()){\r\n      //all the fragments are opened do what you need\r\n      return;\r\n   }\r\n   final FragmentTransaction ft = getFragmentManager().beginTransaction(); \r\n   ft.replace(R.id.details, fragments[counter]); \r\n   ft.commit(); \r\n   //came to another fragment\r\n});\r\n```","title":"Dynamic switching of fragments","body":"<ol>\n<li>You need to make an array of the fragments like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Fragment[] fragments = new Fragment[]]{new Fragment_Fish(), and other fragments separated with commas};\n</code></pre>\n<ol start=\"2\">\n<li>Make a int variable in the class something like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>int counter = 0;\n</code></pre>\n<ol start=\"3\">\n<li>Increase the counter on button click and update the fragment. Like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>buttonNext.setOnClickListener(v -&gt; {\n   counter ++;\n   if(!counter &gt;= fragments.size()){\n      //all the fragments are opened do what you need\n      return;\n   }\n   final FragmentTransaction ft = getFragmentManager().beginTransaction(); \n   ft.replace(R.id.details, fragments[counter]); \n   ft.commit(); \n   //came to another fragment\n});\n</code></pre>\n"}],"owner":{"account_id":6573204,"reputation":19,"user_id":5080366,"display_name":" "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1648982574,"accepted_answer_id":71725020,"answer_count":2,"score":-2,"last_activity_date":1648981717,"creation_date":1648976758,"question_id":71724454,"body_markdown":"My Activity contains two buttons (Next and Back) and a fragment. When the Activity starts, it gets an array of resources.\r\nSuch as {&quot;Fish&quot;, &quot;Bird&quot;, &quot;Animal&quot;};\r\nOr this {&quot;Fish&quot;, &quot;Bird&quot;, &quot;Animal&quot;, &quot;Bird&quot;, &quot;Bird&quot;}; etc.\r\nDepending on the contents of the array, the Next button should switch the fragments accordingly:\r\nSo: Fragment_Fish.java &gt;Fragment_Bird.java&gt;Fragment_Animal.java.\r\nSo: Fragment_Fish.java &gt;Fragment_Bird.java&gt;Fragment_Animal.java. &gt;Fragment_Bird.java&gt;Fragment_Bird.java&gt;\r\n\r\nHow is it easier to implement in Java, please tell me?","title":"Dynamic switching of fragments","body":"<p>My Activity contains two buttons (Next and Back) and a fragment. When the Activity starts, it gets an array of resources.\nSuch as {&quot;Fish&quot;, &quot;Bird&quot;, &quot;Animal&quot;};\nOr this {&quot;Fish&quot;, &quot;Bird&quot;, &quot;Animal&quot;, &quot;Bird&quot;, &quot;Bird&quot;}; etc.\nDepending on the contents of the array, the Next button should switch the fragments accordingly:\nSo: Fragment_Fish.java &gt;Fragment_Bird.java&gt;Fragment_Animal.java.\nSo: Fragment_Fish.java &gt;Fragment_Bird.java&gt;Fragment_Animal.java. &gt;Fragment_Bird.java&gt;Fragment_Bird.java&gt;</p>\n<p>How is it easier to implement in Java, please tell me?</p>\n"},{"tags":["java","serversocket"],"comments":[{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":1,"creation_date":1648987340,"post_id":71724945,"comment_id":126757021,"body_markdown":"I think you are looking for IP address 0.0.0.0 - more about that at https://serverfault.com/q/78048","body":"I think you are looking for IP address 0.0.0.0 - more about that at <a href=\"https://serverfault.com/q/78048\">serverfault.com/q/78048</a>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1649004355,"post_id":71724945,"comment_id":126760825,"body_markdown":"What is the value of `address`?","body":"What is the value of <code>address</code>?"},{"owner":{"account_id":20757668,"reputation":76,"user_id":15243700,"display_name":"Turtle corporation"},"score":0,"creation_date":1649062742,"post_id":71724945,"comment_id":126772143,"body_markdown":"The address was the address of the server. This somehow did not work, but when I used 0.0.0.0 it worked","body":"The address was the address of the server. This somehow did not work, but when I used 0.0.0.0 it worked"}],"owner":{"account_id":20757668,"reputation":76,"user_id":15243700,"display_name":"Turtle corporation"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648980978,"creation_date":1648980978,"question_id":71724945,"body_markdown":"I created a socket server that I wanted to assign an address to so that the socket server is global and available to clients. However, I tried for a long time to associate the server with the address and failed, since it is always a local address when I specify it.&lt;br&gt;\r\n(IP is a string, which is outside of this code snippet)&lt;br&gt;\r\n*Here is my code:*\r\n```\r\nnew Thread(new Runnable() {\r\n  @Override\r\n  public void run() {\r\n    try {\r\n      InetAddress address = InetAddress.getByName(IP);\r\n      ServerSocket server = new ServerSocket(8080,0,address);\r\n      while(true) {\r\n        Socket client = server.accept();\r\n        System.out.println(&quot;Client connected!&quot;);\r\n      }\r\n    } catch(IOException err) {\r\n      err.printStackTrace();\r\n    }\r\n  }\r\n}).start();\r\n```\r\nSo is it possible to host the socket server globally or is the SocketServer only for localhosting?","title":"Global Server Socket","body":"<p>I created a socket server that I wanted to assign an address to so that the socket server is global and available to clients. However, I tried for a long time to associate the server with the address and failed, since it is always a local address when I specify it.<br>\n(IP is a string, which is outside of this code snippet)<br>\n<em>Here is my code:</em></p>\n<pre><code>new Thread(new Runnable() {\n  @Override\n  public void run() {\n    try {\n      InetAddress address = InetAddress.getByName(IP);\n      ServerSocket server = new ServerSocket(8080,0,address);\n      while(true) {\n        Socket client = server.accept();\n        System.out.println(&quot;Client connected!&quot;);\n      }\n    } catch(IOException err) {\n      err.printStackTrace();\n    }\n  }\n}).start();\n</code></pre>\n<p>So is it possible to host the socket server globally or is the SocketServer only for localhosting?</p>\n"},{"tags":["java","xml","xml-parsing","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":1374661,"reputation":139,"user_id":18631004,"display_name":"Frankio1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648980735,"creation_date":1648980735,"answer_id":71724901,"question_id":71676371,"body_markdown":"So despite there were no answers, I&#39;ve figured it out by myself.. So I am adding info for future searchers - please mark my answer as valid if u will find it useful because I don&#39;t want to do it by myself.\r\n\r\nI used NamespacePrefixMapper where I had mapping prefix -&gt; namespace uri for each namespace read in xml file from its first element. It worked fine, but Sonar was complaining that I am using sun internal classes:\r\n\r\n     JAXBContext context = JAXBContext.newInstance(clazz);\r\n            Marshaller m = context.createMarshaller();\r\n            m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n            m.setProperty(&quot;com.sun.xml.bind.namespacePrefixMapper&quot;, new MyNamespacePrefixMapper(namespaces));\r\n\r\nSo I then used package-info.java approach. I noticed, that `jaxb2-maven-plugin` `xjc` goal creates default package-info.java. Inside this file it is possible to add your own namespace prefix to namespace uri mapping. Then I used `maven-resources-plugin` to copy my own package-info.java to package of generated classes. Finally when marshaller is converting objects back to xml files, it uses my package-info.java and original namespace prefixes are preserved instead of ns1, ns2, etc.\r\n\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-resources&lt;/id&gt;\r\n                            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n                                &lt;outputDirectory&gt;${basedir}/target/generated-sources/java/package_where_default_package_info_is_generated&lt;/outputDirectory&gt;\r\n                                &lt;resources&gt;\r\n                                    &lt;resource&gt;\r\n                                        &lt;directory&gt;${basedir}/src/main/resources/bindings&lt;/directory&gt;\r\n                                        &lt;include&gt;package-info.java&lt;/include&gt;\r\n                                    &lt;/resource&gt;\r\n                                &lt;/resources&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;        ","title":"Jaxb marshalling parts of xml with keeping original namespacess prefix","body":"<p>So despite there were no answers, I've figured it out by myself.. So I am adding info for future searchers - please mark my answer as valid if u will find it useful because I don't want to do it by myself.</p>\n<p>I used NamespacePrefixMapper where I had mapping prefix -&gt; namespace uri for each namespace read in xml file from its first element. It worked fine, but Sonar was complaining that I am using sun internal classes:</p>\n<pre><code> JAXBContext context = JAXBContext.newInstance(clazz);\n        Marshaller m = context.createMarshaller();\n        m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n        m.setProperty(&quot;com.sun.xml.bind.namespacePrefixMapper&quot;, new MyNamespacePrefixMapper(namespaces));\n</code></pre>\n<p>So I then used package-info.java approach. I noticed, that <code>jaxb2-maven-plugin</code> <code>xjc</code> goal creates default package-info.java. Inside this file it is possible to add your own namespace prefix to namespace uri mapping. Then I used <code>maven-resources-plugin</code> to copy my own package-info.java to package of generated classes. Finally when marshaller is converting objects back to xml files, it uses my package-info.java and original namespace prefixes are preserved instead of ns1, ns2, etc.</p>\n<pre><code>&lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;overwrite&gt;true&lt;/overwrite&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/generated-sources/java/package_where_default_package_info_is_generated&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;${basedir}/src/main/resources/bindings&lt;/directory&gt;\n                                    &lt;include&gt;package-info.java&lt;/include&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;        \n</code></pre>\n"}],"owner":{"account_id":1374661,"reputation":139,"user_id":18631004,"display_name":"Frankio1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648980735,"creation_date":1648639614,"question_id":71676371,"body_markdown":"I am using below plugin to generate jaxb classes. I then read some XML from filesystem and unmarshall it to generated jaxb classes. Those classes has collection of entries that I need to unmarshall separately, do some business logic and for each part unmarshalled and store them as xml parts. So in fact I am doing XML -\\&gt; Object (to do some business logic) -\\&gt; smaller XMLs which I am storing somewhere. Problem is that the XML in filesystem has correct namespaces prefixes (like tca, tcb, tcc) and while marshalling those smaller parts back to xml, jaxb creates its own namespaces prefixes like ns1, ns2, ns3. Is it possible to have tca, tcb, tcc as in original file ? But maybe not to define my own prefixes map because I never know what prefixes will come to my filesystem. Some external party may change them in future and I only want to keep original ones. Belo is my code.\r\n\r\n**Code generation plugin:**\r\n\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jaxb2-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;src/main/resources/my.xsd&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                    &lt;outputDirectory&gt;${basedir}/target/generated-sources/java&lt;/outputDirectory&gt;\r\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n**The code**\r\n\r\n            JAXBContext jaxbContext = JAXBContext.newInstance(MyRoot.class);\r\n\r\n            Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n            while (streamReader.hasNext()) {\r\n                if (streamReader.isStartElement()) {\r\n                    if (streamReader.getName() != null &amp;&amp; streamReader.getName().getLocalPart() != null) {\r\n                        String localPart = streamReader.getName().getLocalPart();\r\n                        if (localPart.equalsIgnoreCase(XmlElements.CAR)) {\r\n                            JAXBElement&lt;Car&gt; carJAXBElement = unmarshaller.unmarshal(streamReader, Car.class);\r\n                            //doing some business logic \r\n                            JAXBContext context = JAXBContext.newInstance(Car.class);\r\n                            Marshaller m = context.createMarshaller();\r\n                            m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n                            StringWriter sw = new StringWriter();\r\n                            m.marshal(carJAXBElement, sw);\r\n                            String result = sw.toString();  //the result has namespaces prefixes changed\r\n                            //and then saving one car xml part somewhere\r\n                           \r\n                        }\r\n                    }\r\n                }\r\n                streamReader.next();\r\n\r\n**The xml files**\r\n\r\n**Original file:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;tca:myroot xmlns:tca=&quot;http://myspec/tca/1.0&quot; &gt;\r\n    &lt;tca:car&gt;\r\n        &lt;tca:owner&gt;\r\n            &lt;tca:name&gt;\r\n            &lt;/tca:name&gt;\r\n        &lt;/tca:owner&gt;\r\n    &lt;/tca:car&gt;\r\n    &lt;tca:car&gt;\r\n        &lt;tca:owner&gt;\r\n            &lt;tca:name&gt;\r\n            &lt;/tca:name&gt;\r\n        &lt;/tca:owner&gt;\r\n    &lt;/tca:car&gt;\r\n&lt;/tca:myroot&gt;\r\n```\r\n\r\n**Marshalled car xml part:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;ns4:car xmlns:ns4=&quot;http://myspec/tca/1.0&quot; &gt;\r\n    &lt;ns4:owner&gt;\r\n        &lt;ns4:name&gt;\r\n        &lt;/ns4:name&gt;\r\n    &lt;/ns4:owner&gt;\r\n&lt;/ns4:car&gt;\r\n```\r\n\r\nIs it possible to have original namespaces prefixes in those small car parts after marshalling them?","title":"Jaxb marshalling parts of xml with keeping original namespacess prefix","body":"<p>I am using below plugin to generate jaxb classes. I then read some XML from filesystem and unmarshall it to generated jaxb classes. Those classes has collection of entries that I need to unmarshall separately, do some business logic and for each part unmarshalled and store them as xml parts. So in fact I am doing XML -&gt; Object (to do some business logic) -&gt; smaller XMLs which I am storing somewhere. Problem is that the XML in filesystem has correct namespaces prefixes (like tca, tcb, tcc) and while marshalling those smaller parts back to xml, jaxb creates its own namespaces prefixes like ns1, ns2, ns3. Is it possible to have tca, tcb, tcc as in original file ? But maybe not to define my own prefixes map because I never know what prefixes will come to my filesystem. Some external party may change them in future and I only want to keep original ones. Belo is my code.</p>\n<p><strong>Code generation plugin:</strong></p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jaxb2-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;src/main/resources/my.xsd&lt;/source&gt;\n                    &lt;/sources&gt;\n                    &lt;outputDirectory&gt;${basedir}/target/generated-sources/java&lt;/outputDirectory&gt;\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p><strong>The code</strong></p>\n<pre><code>        JAXBContext jaxbContext = JAXBContext.newInstance(MyRoot.class);\n\n        Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n        while (streamReader.hasNext()) {\n            if (streamReader.isStartElement()) {\n                if (streamReader.getName() != null &amp;&amp; streamReader.getName().getLocalPart() != null) {\n                    String localPart = streamReader.getName().getLocalPart();\n                    if (localPart.equalsIgnoreCase(XmlElements.CAR)) {\n                        JAXBElement&lt;Car&gt; carJAXBElement = unmarshaller.unmarshal(streamReader, Car.class);\n                        //doing some business logic \n                        JAXBContext context = JAXBContext.newInstance(Car.class);\n                        Marshaller m = context.createMarshaller();\n                        m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n                        StringWriter sw = new StringWriter();\n                        m.marshal(carJAXBElement, sw);\n                        String result = sw.toString();  //the result has namespaces prefixes changed\n                        //and then saving one car xml part somewhere\n                       \n                    }\n                }\n            }\n            streamReader.next();\n</code></pre>\n<p><strong>The xml files</strong></p>\n<p><strong>Original file:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;tca:myroot xmlns:tca=&quot;http://myspec/tca/1.0&quot; &gt;\n    &lt;tca:car&gt;\n        &lt;tca:owner&gt;\n            &lt;tca:name&gt;\n            &lt;/tca:name&gt;\n        &lt;/tca:owner&gt;\n    &lt;/tca:car&gt;\n    &lt;tca:car&gt;\n        &lt;tca:owner&gt;\n            &lt;tca:name&gt;\n            &lt;/tca:name&gt;\n        &lt;/tca:owner&gt;\n    &lt;/tca:car&gt;\n&lt;/tca:myroot&gt;\n</code></pre>\n<p><strong>Marshalled car xml part:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns4:car xmlns:ns4=&quot;http://myspec/tca/1.0&quot; &gt;\n    &lt;ns4:owner&gt;\n        &lt;ns4:name&gt;\n        &lt;/ns4:name&gt;\n    &lt;/ns4:owner&gt;\n&lt;/ns4:car&gt;\n</code></pre>\n<p>Is it possible to have original namespaces prefixes in those small car parts after marshalling them?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":6914793,"reputation":2511,"user_id":5309486,"display_name":"Ashok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648980390,"creation_date":1648980390,"answer_id":71724851,"question_id":71724196,"body_markdown":"As per the exception, the error is occuring for following code:\r\n```xml\r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            app:headerLayout=&quot;@layout/nav_header&quot;\r\n            app:menu=&quot;@menu/nav_header_menu&quot; /&gt;\r\n```\r\n\r\nHere, `@layout/nav_header` is either not present in your code base or it is present in different folder or module, which is causing the issue. Since the error is caused by \r\n```\r\n     Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f0b0082\r\n        at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:237)\r\n        at android.content.res.Resources.loadXmlResourceParser(Resources.java:2400)\r\n        at android.content.res.Resources.getLayout(Resources.java:1252)\r\n``` ","title":"Error when executing code in android studio","body":"<p>As per the exception, the error is occuring for following code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;com.google.android.material.navigation.NavigationView\n            android:id=&quot;@+id/nav_view&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;start&quot;\n            app:headerLayout=&quot;@layout/nav_header&quot;\n            app:menu=&quot;@menu/nav_header_menu&quot; /&gt;\n</code></pre>\n<p>Here, <code>@layout/nav_header</code> is either not present in your code base or it is present in different folder or module, which is causing the issue. Since the error is caused by</p>\n<pre><code>     Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f0b0082\n        at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:237)\n        at android.content.res.Resources.loadXmlResourceParser(Resources.java:2400)\n        at android.content.res.Resources.getLayout(Resources.java:1252)\n</code></pre>\n"}],"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71724851,"answer_count":1,"score":0,"last_activity_date":1648980390,"creation_date":1648974306,"question_id":71724196,"body_markdown":"Getting the following error when execting the code. I am try to implement a navigation bar on a fragment. However the follwing error arises. E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.myhouse, PID: 10969 android.view.InflateException: Binary XML file line #38 in com.example.myhouse:layout/fragment_navigation__bar: Binary XML file lin\r\n\r\nEror \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.myhouse, PID: 10969\r\n        android.view.InflateException: Binary XML file line #38 in com.example.myhouse:layout/fragment_navigation__bar: Binary XML file line #38 in com.example.myhouse:layout/fragment_navigation__bar: Error inflating class com.google.android.material.navigation.NavigationView\r\n        Caused by: android.view.InflateException: Binary XML file line #38 in com.example.myhouse:layout/fragment_navigation__bar: Error inflating class com.google.android.material.navigation.NavigationView\r\n        Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:852)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n            at com.example.myhouse.Navigation_Bar.onCreateView(Navigation_Bar.java:42)\r\n            at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2698)\r\n            at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:320)\r\n            at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1187)\r\n            at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1356)\r\n            at androidx.fragment.app.FragmentManager.moveFragmentToExpectedState(FragmentManager.java:1434)\r\n            at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:442)\r\n            at androidx.fragment.app.FragmentManager.executeOps(FragmentManager.java:2169)\r\n            at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1992)\r\n            at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1947)\r\n            at androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1818)\r\n            at androidx.fragment.app.BackStackRecord.commitNow(BackStackRecord.java:297)\r\n            at androidx.viewpager2.adapter.FragmentStateAdapter.placeFragmentInViewHolder(FragmentStateAdapter.java:341)\r\n            at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:276)\r\n            at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:67)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:7556)\r\n            at androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:860)\r\n            at androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\r\n            at androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:8601)\r\n            at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8559)\r\n            at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8547)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1641)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\r\n            at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\r\n            at android.view.View.layout(View.java:22844)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n            at androidx.viewpager2.widget.ViewPager2.onLayout(ViewPager2.java:527)\r\n            at android.view.View.layout(View.java:22844)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n    E/AndroidRuntime:     at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n            at android.view.View.layout(View.java:22844)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n            at android.view.View.layout(View.java:22844)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n            at android.view.View.layout(View.java:22844)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n            at android.view.View.layout(View.java:22844)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n            at android.view.View.layout(View.java:22844)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n            at com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\r\n            at android.view.View.layout(View.java:22844)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n            at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:796)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:731)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n         Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f0b0082\r\n            at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:237)\r\n            at android.content.res.Resources.loadXmlResourceParser(Resources.java:2400)\r\n            at android.content.res.Resources.getLayout(Resources.java:1252)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:530)\r\n            at com.google.android.material.internal.NavigationMenuPresenter.inflateHeaderView(NavigationMenuPresenter.java:222)\r\n            at com.google.android.material.navigation.NavigationView.inflateHeaderView(NavigationView.java:387)\r\n            at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:241)\r\n            at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:122)\r\n            \t... 84 more\r\n\r\n\r\n\r\nXML\r\n\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.drawerlayout.widget.DrawerLayout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:id=&quot;@+id/drawer_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            tools:openDrawer=&quot;start&quot;\r\n            tools:context=&quot;.Navigation_Bar&quot;&gt;\r\n            &lt;FrameLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n                &lt;androidx.appcompat.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:background=&quot;@color/purple_200&quot;\r\n                    android:elevation=&quot;4dp&quot;\r\n                    android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n                    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot; /&gt;\r\n        \r\n                &lt;FrameLayout\r\n                    android:id=&quot;@+id/fragment_container&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot; /&gt;\r\n        \r\n            &lt;/FrameLayout&gt;\r\n            &lt;com.google.android.material.navigation.NavigationView\r\n                android:id=&quot;@+id/nav_view&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;start&quot;\r\n                app:headerLayout=&quot;@layout/nav_header&quot;\r\n                app:menu=&quot;@menu/nav_header_menu&quot; /&gt;\r\n        \r\n        &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n\r\njava code\r\n\r\n    public class Navigation_Bar extends Fragment {\r\n    \r\n  \r\n\r\n      // TODO: Rename parameter arguments, choose names that match\r\n        // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n        private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n        private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n    \r\n        // TODO: Rename and change types of parameters\r\n        private String mParam1;\r\n        private String mParam2;\r\n    \r\n        public Navigation_Bar() {\r\n            // Required empty public constructor\r\n        }\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            if (getArguments() != null) {\r\n                mParam1 = getArguments().getString(ARG_PARAM1);\r\n                mParam2 = getArguments().getString(ARG_PARAM2);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view = inflater.inflate(R.layout.fragment_navigation__bar, container, false);\r\n            Toolbar toolbar = view.findViewById(R.id.toolbar);\r\n            AppCompatActivity activity = (AppCompatActivity) getActivity();\r\n            activity.setSupportActionBar(toolbar);\r\n            DrawerLayout drawer=(DrawerLayout) view.findViewById(R.id.drawer_layout);\r\n    \r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(getActivity(), drawer, toolbar,\r\n                    R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawer.addDrawerListener(toggle);\r\n            toggle.syncState();\r\n            return inflater.inflate(R.layout.fragment_navigation__bar, container, false);\r\n        }\r\n    }","title":"Error when executing code in android studio","body":"<p>Getting the following error when execting the code. I am try to implement a navigation bar on a fragment. However the follwing error arises. E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.myhouse, PID: 10969 android.view.InflateException: Binary XML file line #38 in com.example.myhouse:layout/fragment_navigation__bar: Binary XML file lin</p>\n<p>Eror</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myhouse, PID: 10969\n    android.view.InflateException: Binary XML file line #38 in com.example.myhouse:layout/fragment_navigation__bar: Binary XML file line #38 in com.example.myhouse:layout/fragment_navigation__bar: Error inflating class com.google.android.material.navigation.NavigationView\n    Caused by: android.view.InflateException: Binary XML file line #38 in com.example.myhouse:layout/fragment_navigation__bar: Error inflating class com.google.android.material.navigation.NavigationView\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n        at com.example.myhouse.Navigation_Bar.onCreateView(Navigation_Bar.java:42)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2698)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:320)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1187)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1356)\n        at androidx.fragment.app.FragmentManager.moveFragmentToExpectedState(FragmentManager.java:1434)\n        at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:442)\n        at androidx.fragment.app.FragmentManager.executeOps(FragmentManager.java:2169)\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1992)\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1947)\n        at androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1818)\n        at androidx.fragment.app.BackStackRecord.commitNow(BackStackRecord.java:297)\n        at androidx.viewpager2.adapter.FragmentStateAdapter.placeFragmentInViewHolder(FragmentStateAdapter.java:341)\n        at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:276)\n        at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:67)\n        at androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:7556)\n        at androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:860)\n        at androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:8601)\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8559)\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8547)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1641)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\n        at android.view.View.layout(View.java:22844)\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n        at androidx.viewpager2.widget.ViewPager2.onLayout(ViewPager2.java:527)\n        at android.view.View.layout(View.java:22844)\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\nE/AndroidRuntime:     at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:22844)\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:22844)\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:22844)\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:22844)\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:22844)\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\n        at android.view.View.layout(View.java:22844)\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:796)\n        at android.view.Choreographer.doFrame(Choreographer.java:731)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f0b0082\n        at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:237)\n        at android.content.res.Resources.loadXmlResourceParser(Resources.java:2400)\n        at android.content.res.Resources.getLayout(Resources.java:1252)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:530)\n        at com.google.android.material.internal.NavigationMenuPresenter.inflateHeaderView(NavigationMenuPresenter.java:222)\n        at com.google.android.material.navigation.NavigationView.inflateHeaderView(NavigationView.java:387)\n        at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:241)\n        at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:122)\n            ... 84 more\n</code></pre>\n<p>XML</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.drawerlayout.widget.DrawerLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:id=&quot;@+id/drawer_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        tools:openDrawer=&quot;start&quot;\n        tools:context=&quot;.Navigation_Bar&quot;&gt;\n        &lt;FrameLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n    \n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;@color/purple_200&quot;\n                android:elevation=&quot;4dp&quot;\n                android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\n                app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot; /&gt;\n    \n            &lt;FrameLayout\n                android:id=&quot;@+id/fragment_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot; /&gt;\n    \n        &lt;/FrameLayout&gt;\n        &lt;com.google.android.material.navigation.NavigationView\n            android:id=&quot;@+id/nav_view&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;start&quot;\n            app:headerLayout=&quot;@layout/nav_header&quot;\n            app:menu=&quot;@menu/nav_header_menu&quot; /&gt;\n    \n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>java code</p>\n<pre><code>public class Navigation_Bar extends Fragment {\n\n\n\n  // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public Navigation_Bar() {\n        // Required empty public constructor\n    }\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_navigation__bar, container, false);\n        Toolbar toolbar = view.findViewById(R.id.toolbar);\n        AppCompatActivity activity = (AppCompatActivity) getActivity();\n        activity.setSupportActionBar(toolbar);\n        DrawerLayout drawer=(DrawerLayout) view.findViewById(R.id.drawer_layout);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(getActivity(), drawer, toolbar,\n                R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.addDrawerListener(toggle);\n        toggle.syncState();\n        return inflater.inflate(R.layout.fragment_navigation__bar, container, false);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1405112,"reputation":262,"user_id":1333044,"display_name":"Tarun Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560833924,"creation_date":1560833924,"answer_id":56641999,"question_id":56641878,"body_markdown":"Update your PersonEntity class as below,\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;CREATED_BY&quot;, referencedColumnName = &quot;ID, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private UserEntity createdBy;\r\n\r\nAdd referencedColumnName to your @joinColumn","title":"Exception trying convert UUID attribute (foreign key) to Entity object","body":"<p>Update your PersonEntity class as below,</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = \"CREATED_BY\", referencedColumnName = \"ID, updatable = false)\n@Getter\n@Setter\nprivate UserEntity createdBy;\n</code></pre>\n\n<p>Add referencedColumnName to your @joinColumn</p>\n"},{"tags":[],"owner":{"account_id":6524369,"reputation":21,"user_id":5047506,"display_name":"Ivan Rasikhin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560833929,"creation_date":1560833929,"answer_id":56642000,"question_id":56641878,"body_markdown":"Try to use UUID type instead of String for &#39;id&#39; fields, because UUID is a binary format, not character based, so databases use special type for UUID fields.","title":"Exception trying convert UUID attribute (foreign key) to Entity object","body":"<p>Try to use UUID type instead of String for 'id' fields, because UUID is a binary format, not character based, so databases use special type for UUID fields.</p>\n"},{"tags":[],"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560868853,"creation_date":1560868853,"answer_id":56651660,"question_id":56641878,"body_markdown":"UUID in Postgres is automatically converted for you into UUID datatype. You must change your id datatype from String to UUID and everything will work as expected.\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;ID&quot;, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private UUID id;","title":"Exception trying convert UUID attribute (foreign key) to Entity object","body":"<p>UUID in Postgres is automatically converted for you into UUID datatype. You must change your id datatype from String to UUID and everything will work as expected.</p>\n\n<pre><code>@Id\n@GeneratedValue(generator = \"uuid2\")\n@GenericGenerator(name = \"uuid2\", strategy = \"uuid2\")\n@Column(name = \"ID\", updatable = false)\n@Getter\n@Setter\nprivate UUID id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7122736,"reputation":26890,"user_id":5446749,"accept_rate":80,"display_name":"vvvvv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648979393,"creation_date":1648979393,"answer_id":71724746,"question_id":56641878,"body_markdown":"Use `UUID` instead of `String`.\r\n\r\nMoreover, replace \r\n\r\n```\r\n@ManyToOne(fetch = FetchType.LAZY)\r\n@JoinColumn(name = &quot;CREATED_BY&quot;, updatable = false)\r\n```\r\n\r\nby\r\n\r\n```\r\n@ManyToOne(fetch = FetchType.EAGER)\r\n@JoinColumn(name = &quot;CREATED_BY&quot;, referencedColumnName = &quot;ID&quot;, updatable = false)\r\n```\r\n\r\n____\r\n\r\nIt gives:\r\n\r\nThe `UserEntity`:\r\n\r\n```\r\n@Entity(name = &quot;User&quot;)\r\n@Table(name = &quot;USR&quot;)\r\n@EntityListeners(UserPersistListener.class)\r\n@EqualsAndHashCode\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;ID&quot;, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;LOGIN&quot;, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private String login;\r\n\r\n    @Column(name = &quot;PASS&quot;)\r\n    @Getter\r\n    @Setter\r\n    private String pass;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;ROLE&quot;)\r\n    @Getter\r\n    @Setter\r\n    private Role role;\r\n\r\n}\r\n```\r\n\r\nThe other Entity Person using `UserEntity` (foreign key)\r\n\r\n```\r\n@Entity(name = &quot;Person&quot;)\r\n@Table(name = &quot;PERSON&quot;)\r\n@EqualsAndHashCode\r\npublic class PersonEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;ID&quot;, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    @Getter\r\n    @Setter\r\n    private String name;\r\n\r\n    @Column(name = &quot;SUBSCRIPTION&quot;)\r\n    @Getter\r\n    @Setter\r\n    private Long subscription;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;SUBSCRIPTION_TYPE&quot;)\r\n    @Getter\r\n    @Setter\r\n    private SubscriptionType subscriptionType;\r\n\r\n    @Column(name = &quot;PHONE1&quot;)\r\n    @Getter\r\n    @Setter\r\n    private Long phone1;\r\n\r\n    @Column(name = &quot;PHONE2&quot;)\r\n    @Getter\r\n    @Setter\r\n    private Long phone2;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;CREATED_BY&quot;, referencedColumnName = &quot;ID&quot;, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private UserEntity createdBy;\r\n\r\n    @Convert(converter = LocalDateAttributeConverter.class)\r\n    @Column(name = &quot;CREATION_DATE&quot;)\r\n    @Getter\r\n    @Setter\r\n    private LocalDateTime creationDate;\r\n\r\n}\r\n```\r\n\r\nas per OP gmrosa&#39;s own prior edit to the question.","title":"Exception trying convert UUID attribute (foreign key) to Entity object","body":"<p>Use <code>UUID</code> instead of <code>String</code>.</p>\n<p>Moreover, replace</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;CREATED_BY&quot;, updatable = false)\n</code></pre>\n<p>by</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;CREATED_BY&quot;, referencedColumnName = &quot;ID&quot;, updatable = false)\n</code></pre>\n<hr />\n<p>It gives:</p>\n<p>The <code>UserEntity</code>:</p>\n<pre><code>@Entity(name = &quot;User&quot;)\n@Table(name = &quot;USR&quot;)\n@EntityListeners(UserPersistListener.class)\n@EqualsAndHashCode\npublic class UserEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    @Column(name = &quot;ID&quot;, updatable = false)\n    @Getter\n    @Setter\n    private UUID id;\n\n    @Column(name = &quot;LOGIN&quot;, updatable = false)\n    @Getter\n    @Setter\n    private String login;\n\n    @Column(name = &quot;PASS&quot;)\n    @Getter\n    @Setter\n    private String pass;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;ROLE&quot;)\n    @Getter\n    @Setter\n    private Role role;\n\n}\n</code></pre>\n<p>The other Entity Person using <code>UserEntity</code> (foreign key)</p>\n<pre><code>@Entity(name = &quot;Person&quot;)\n@Table(name = &quot;PERSON&quot;)\n@EqualsAndHashCode\npublic class PersonEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    @Column(name = &quot;ID&quot;, updatable = false)\n    @Getter\n    @Setter\n    private UUID id;\n\n    @Column(name = &quot;NAME&quot;)\n    @Getter\n    @Setter\n    private String name;\n\n    @Column(name = &quot;SUBSCRIPTION&quot;)\n    @Getter\n    @Setter\n    private Long subscription;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;SUBSCRIPTION_TYPE&quot;)\n    @Getter\n    @Setter\n    private SubscriptionType subscriptionType;\n\n    @Column(name = &quot;PHONE1&quot;)\n    @Getter\n    @Setter\n    private Long phone1;\n\n    @Column(name = &quot;PHONE2&quot;)\n    @Getter\n    @Setter\n    private Long phone2;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;CREATED_BY&quot;, referencedColumnName = &quot;ID&quot;, updatable = false)\n    @Getter\n    @Setter\n    private UserEntity createdBy;\n\n    @Convert(converter = LocalDateAttributeConverter.class)\n    @Column(name = &quot;CREATION_DATE&quot;)\n    @Getter\n    @Setter\n    private LocalDateTime creationDate;\n\n}\n</code></pre>\n<p>as per OP gmrosa's own prior edit to the question.</p>\n"}],"owner":{"account_id":2801342,"reputation":9,"user_id":2409535,"display_name":"gmrosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1732,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1648979493,"creation_date":1560832939,"question_id":56641878,"body_markdown":"I am developing a spring-boot application (jpa...etc), and I am stuck in one problem. I am using the UUID attribute for the primary keys. When I try to create object as foreign key, the jpa can&#39;t cast correctly to my object.\r\n\r\nI tried to use a `AttributeConverter`, but jpa does not call it.\r\n\r\n### My UserEntity\r\n\r\n```java\r\n@Entity(name = &quot;User&quot;)\r\n@Table(name = &quot;USR&quot;)\r\n@EntityListeners(UserPersistListener.class)\r\n@EqualsAndHashCode\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;ID&quot;, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private String id;\r\n\r\n    @Column(name = &quot;LOGIN&quot;, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private String login;\r\n\r\n    @Column(name = &quot;PASS&quot;)\r\n    @Getter\r\n    @Setter\r\n    private String pass;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;ROLE&quot;)\r\n    @Getter\r\n    @Setter\r\n    private Role role;\r\n\r\n}\r\n```\r\n\r\n### My other Entity Person using `UserEntity` (foreign key)\r\n\r\n```java\r\n@Entity(name = &quot;Person&quot;)\r\n@Table(name = &quot;PERSON&quot;)\r\n@EqualsAndHashCode\r\npublic class PersonEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;ID&quot;, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private String id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    @Getter\r\n    @Setter\r\n    private String name;\r\n\r\n    @Column(name = &quot;SUBSCRIPTION&quot;)\r\n    @Getter\r\n    @Setter\r\n    private Long subscription;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;SUBSCRIPTION_TYPE&quot;)\r\n    @Getter\r\n    @Setter\r\n    private SubscriptionType subscriptionType;\r\n\r\n    @Column(name = &quot;PHONE1&quot;)\r\n    @Getter\r\n    @Setter\r\n    private Long phone1;\r\n\r\n    @Column(name = &quot;PHONE2&quot;)\r\n    @Getter\r\n    @Setter\r\n    private Long phone2;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;CREATED_BY&quot;, updatable = false)\r\n    @Getter\r\n    @Setter\r\n    private UserEntity createdBy;\r\n\r\n    @Convert(converter = LocalDateAttributeConverter.class)\r\n    @Column(name = &quot;CREATION_DATE&quot;)\r\n    @Getter\r\n    @Setter\r\n    private LocalDateTime creationDate;\r\n\r\n}\r\n```\r\n\r\n### Exception\r\n\r\n```\r\norg.springframework.data.domain.PageImpl[&quot;content&quot;]-&gt;java.util.Collections$UnmodifiableRandomAccessList[0]-&gt;br.com.orangesun.entity.person.PersonEntity[&quot;createdBy&quot;]-&gt;br.com.orangesun.entity.user.UserEntity_$$_jvst424_1[&quot;id&quot;])\r\n2019-06-18 00:52:55.163  WARN 15432 --- [nio-8099-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42883\r\n2019-06-18 00:52:55.164 ERROR 15432 --- [nio-8099-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: operator does not exist: uuid = character varying\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n```\r\n## Edit\r\n\r\n### My database definition\r\n\r\n```\r\n| Field Name        | Type    |\r\n|-----------------------------|\r\n| id                | uuid    |\r\n| name              | varchar |\r\n| subscription      | int8    |\r\n| subscription_type | varchar |\r\n| created_by        | uuid    |\r\n| creation_date     | instant |\r\n| phone1            | int8    |\r\n| phone2            | int8    |\r\n|-----------------------------|\r\n```\r\n\r\n## EDIT 2\r\n\r\n### Other details about same error\r\n\r\n```\r\njava.lang.IllegalArgumentException: Provided id of the wrong type for class br.com.orangesun.entity.person.PersonEntity. Expected: class java.lang.String, got class java.util.UUID\r\n```","title":"Exception trying convert UUID attribute (foreign key) to Entity object","body":"<p>I am developing a spring-boot application (jpa...etc), and I am stuck in one problem. I am using the UUID attribute for the primary keys. When I try to create object as foreign key, the jpa can't cast correctly to my object.</p>\n<p>I tried to use a <code>AttributeConverter</code>, but jpa does not call it.</p>\n<h3>My UserEntity</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;User&quot;)\n@Table(name = &quot;USR&quot;)\n@EntityListeners(UserPersistListener.class)\n@EqualsAndHashCode\npublic class UserEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    @Column(name = &quot;ID&quot;, updatable = false)\n    @Getter\n    @Setter\n    private String id;\n\n    @Column(name = &quot;LOGIN&quot;, updatable = false)\n    @Getter\n    @Setter\n    private String login;\n\n    @Column(name = &quot;PASS&quot;)\n    @Getter\n    @Setter\n    private String pass;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;ROLE&quot;)\n    @Getter\n    @Setter\n    private Role role;\n\n}\n</code></pre>\n<h3>My other Entity Person using <code>UserEntity</code> (foreign key)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Person&quot;)\n@Table(name = &quot;PERSON&quot;)\n@EqualsAndHashCode\npublic class PersonEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    @Column(name = &quot;ID&quot;, updatable = false)\n    @Getter\n    @Setter\n    private String id;\n\n    @Column(name = &quot;NAME&quot;)\n    @Getter\n    @Setter\n    private String name;\n\n    @Column(name = &quot;SUBSCRIPTION&quot;)\n    @Getter\n    @Setter\n    private Long subscription;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;SUBSCRIPTION_TYPE&quot;)\n    @Getter\n    @Setter\n    private SubscriptionType subscriptionType;\n\n    @Column(name = &quot;PHONE1&quot;)\n    @Getter\n    @Setter\n    private Long phone1;\n\n    @Column(name = &quot;PHONE2&quot;)\n    @Getter\n    @Setter\n    private Long phone2;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;CREATED_BY&quot;, updatable = false)\n    @Getter\n    @Setter\n    private UserEntity createdBy;\n\n    @Convert(converter = LocalDateAttributeConverter.class)\n    @Column(name = &quot;CREATION_DATE&quot;)\n    @Getter\n    @Setter\n    private LocalDateTime creationDate;\n\n}\n</code></pre>\n<h3>Exception</h3>\n<pre><code>org.springframework.data.domain.PageImpl[&quot;content&quot;]-&gt;java.util.Collections$UnmodifiableRandomAccessList[0]-&gt;br.com.orangesun.entity.person.PersonEntity[&quot;createdBy&quot;]-&gt;br.com.orangesun.entity.user.UserEntity_$$_jvst424_1[&quot;id&quot;])\n2019-06-18 00:52:55.163  WARN 15432 --- [nio-8099-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42883\n2019-06-18 00:52:55.164 ERROR 15432 --- [nio-8099-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: operator does not exist: uuid = character varying\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n</code></pre>\n<h2>Edit</h2>\n<h3>My database definition</h3>\n<pre><code>| Field Name        | Type    |\n|-----------------------------|\n| id                | uuid    |\n| name              | varchar |\n| subscription      | int8    |\n| subscription_type | varchar |\n| created_by        | uuid    |\n| creation_date     | instant |\n| phone1            | int8    |\n| phone2            | int8    |\n|-----------------------------|\n</code></pre>\n<h2>EDIT 2</h2>\n<h3>Other details about same error</h3>\n<pre><code>java.lang.IllegalArgumentException: Provided id of the wrong type for class br.com.orangesun.entity.person.PersonEntity. Expected: class java.lang.String, got class java.util.UUID\n</code></pre>\n"},{"tags":["java","arrays","time-complexity","big-o"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1648974862,"post_id":71724210,"comment_id":126754854,"body_markdown":"The quotes in your question do not describe the behavior of Java arrays. The do, however, match the behavior of Java ArrayLists.","body":"The quotes in your question do not describe the behavior of Java arrays. The do, however, match the behavior of Java ArrayLists."}],"answers":[{"tags":[],"owner":{"account_id":6914793,"reputation":2511,"user_id":5309486,"display_name":"Ashok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648979462,"creation_date":1648974733,"answer_id":71724242,"question_id":71724210,"body_markdown":"There are two use cases of inserting data in the array.\r\n\r\n1. Inplace replacement\r\n2. Shift the data\r\n\r\nIn first case (Inplace replacement), we generally have code like `arr[5] = 99`. For this use case, we are not going to shift the data of index 5 to index 6 and so on. Hence, the time complexity of such operation is `O(1)`.\r\n\r\nWhereas, in second case (Shift data), for inserting data at index 5, we will first shift the data of index 5 to index 6, and index 6 data to index 7 and so on. In this case, the time complexity of such operation would be `O(N)`","title":"Insertion Time complexity on Java arrays","body":"<p>There are two use cases of inserting data in the array.</p>\n<ol>\n<li>Inplace replacement</li>\n<li>Shift the data</li>\n</ol>\n<p>In first case (Inplace replacement), we generally have code like <code>arr[5] = 99</code>. For this use case, we are not going to shift the data of index 5 to index 6 and so on. Hence, the time complexity of such operation is <code>O(1)</code>.</p>\n<p>Whereas, in second case (Shift data), for inserting data at index 5, we will first shift the data of index 5 to index 6, and index 6 data to index 7 and so on. In this case, the time complexity of such operation would be <code>O(N)</code></p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648975278,"creation_date":1648974971,"answer_id":71724269,"question_id":71724210,"body_markdown":"There&#39;s a misunderstanding:\r\n\r\n`arr[5]=999;` is a direct **assignment**, not an &#39;insertion&#39; where shifting would occur, so yes: it&#39;s O(1)\r\n\r\n**Insertion** on the other hand consists of the following steps:\r\n - if array is full, create a new array\r\n - - and copy data below index (&lt;) to 0\r\n - copy data equal and above index (&gt;=) to `index + 1`\r\n - assign value `arr[index]=newValue;`\r\n\r\nSo insertion, because it has to copy/move `n-index` elements on each insert, is considered O(n), because big-oh notation is designed to showcase worst-case.\r\n\r\nNow, with MXX registers and parallel piplines on GPUs and stuff like that, we can speed this up by another big (constant) factor, but the problem itself remains in the O(n) category.","title":"Insertion Time complexity on Java arrays","body":"<p>There's a misunderstanding:</p>\n<p><code>arr[5]=999;</code> is a direct <strong>assignment</strong>, not an 'insertion' where shifting would occur, so yes: it's O(1)</p>\n<p><strong>Insertion</strong> on the other hand consists of the following steps:</p>\n<ul>\n<li>if array is full, create a new array</li>\n<li>\n<ul>\n<li>and copy data below index (&lt;) to 0</li>\n</ul>\n</li>\n<li>copy data equal and above index (&gt;=) to <code>index + 1</code></li>\n<li>assign value <code>arr[index]=newValue;</code></li>\n</ul>\n<p>So insertion, because it has to copy/move <code>n-index</code> elements on each insert, is considered O(n), because big-oh notation is designed to showcase worst-case.</p>\n<p>Now, with MXX registers and parallel piplines on GPUs and stuff like that, we can speed this up by another big (constant) factor, but the problem itself remains in the O(n) category.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648975465,"creation_date":1648975465,"answer_id":71724332,"question_id":71724210,"body_markdown":"Not to argue with other answers, but I think the OP ask about direct assignment on array `arr[5]=999;` This operation will assign the value 999 to 5th index in array (if array has length 6 or more). It will not do any shifting or allocation. and for this operation the notion is definitely is O(1)","title":"Insertion Time complexity on Java arrays","body":"<p>Not to argue with other answers, but I think the OP ask about direct assignment on array <code>arr[5]=999;</code> This operation will assign the value 999 to 5th index in array (if array has length 6 or more). It will not do any shifting or allocation. and for this operation the notion is definitely is O(1)</p>\n"}],"owner":{"account_id":16495259,"reputation":17,"user_id":11918013,"display_name":"Bago"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648979462,"creation_date":1648974464,"question_id":71724210,"body_markdown":"I have array of 10 elements. Integer[] arr =  new Integer[10]();\r\nWhat is the time complexity when I add 5th element like arr[5]=999;. I strongly believe that time complexity in arrays for insertion is O(1) , but on some literatures its said that for insertion on arrays (not arraylist) T.C is O(N) because the shifting occurs. How there can be shifting occured? It is not dynamic array. \r\n\r\nHere the sources which I believe they are wrong:\r\n1) https://stackoverflow.com/questions/7770569/big-o-notation-arrays-vs-linked-list-insertions\r\n&gt; O(1) accurately describes inserting at the end of the array. However,\r\n&gt; if you&#39;re inserting into the middle of an array, you have to shift all\r\n&gt; the elements after that element, so the complexity for insertion in\r\n&gt; that case is O(n) for arrays. End appending also discounts the case\r\n&gt; where you&#39;d have to resize an array if it&#39;s full.\r\n\r\n2. https://iq.opengenus.org/time-complexity-of-array/\r\n\r\n&gt; Inserting and deleting elements take linear time depending on the \r\n&gt; implementation. If we want to insert an element at a specific index,\r\n&gt; we  need to skip all elements from that index to the right by one\r\n&gt; position.  This takes linear time O(N).\r\n\r\n3.https://www.log2base2.com/data-structures/array/insert-element-particular-index-array.html\r\n\r\n&gt; If we want to insert an element to index 0, then we need to shift all\r\n&gt; the elements to right.\r\n&gt; \r\n&gt; For example, if we have 5 elements in  the array and need to insert an\r\n&gt; element in arr[0], we need to shift all  those 5 elements one position\r\n&gt; to the right.","title":"Insertion Time complexity on Java arrays","body":"<p>I have array of 10 elements. Integer[] arr =  new Integer10;\nWhat is the time complexity when I add 5th element like arr[5]=999;. I strongly believe that time complexity in arrays for insertion is O(1) , but on some literatures its said that for insertion on arrays (not arraylist) T.C is O(N) because the shifting occurs. How there can be shifting occured? It is not dynamic array.</p>\n<p>Here the sources which I believe they are wrong:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/7770569/big-o-notation-arrays-vs-linked-list-insertions\">Big O Notation Arrays vs. Linked List insertions</a></li>\n</ol>\n<blockquote>\n<p>O(1) accurately describes inserting at the end of the array. However,\nif you're inserting into the middle of an array, you have to shift all\nthe elements after that element, so the complexity for insertion in\nthat case is O(n) for arrays. End appending also discounts the case\nwhere you'd have to resize an array if it's full.</p>\n</blockquote>\n<ol start=\"2\">\n<li><a href=\"https://iq.opengenus.org/time-complexity-of-array/\" rel=\"nofollow noreferrer\">https://iq.opengenus.org/time-complexity-of-array/</a></li>\n</ol>\n<blockquote>\n<p>Inserting and deleting elements take linear time depending on the\nimplementation. If we want to insert an element at a specific index,\nwe  need to skip all elements from that index to the right by one\nposition.  This takes linear time O(N).</p>\n</blockquote>\n<p>3.https://www.log2base2.com/data-structures/array/insert-element-particular-index-array.html</p>\n<blockquote>\n<p>If we want to insert an element to index 0, then we need to shift all\nthe elements to right.</p>\n<p>For example, if we have 5 elements in  the array and need to insert an\nelement in arr[0], we need to shift all  those 5 elements one position\nto the right.</p>\n</blockquote>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648978692,"creation_date":1648978692,"answer_id":71724680,"question_id":71724640,"body_markdown":"In your code, you are looking at all visitors every time you look at one date. That is what the inner loop is doing.\r\n\r\nYou want to look at one date, and one visitor count each time.\r\n\r\nGet rid of the inner loop and use your `i` variable to reference your date and your visitor list.\r\n\r\n\r\n\r\n    ArrayList&lt;PieEntry&gt; barEntries = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; dates.size(); i++){                         \r\n        String date= dates.get(i);                              \r\n        int numberofvisitors =  visitors.get(i);                             \r\n        barEntries.add(new PieEntry(numberofvisitors , date));\r\n    }","title":"Inner for loop in Android Studio","body":"<p>In your code, you are looking at all visitors every time you look at one date. That is what the inner loop is doing.</p>\n<p>You want to look at one date, and one visitor count each time.</p>\n<p>Get rid of the inner loop and use your <code>i</code> variable to reference your date and your visitor list.</p>\n<pre><code>ArrayList&lt;PieEntry&gt; barEntries = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; dates.size(); i++){                         \n    String date= dates.get(i);                              \n    int numberofvisitors =  visitors.get(i);                             \n    barEntries.add(new PieEntry(numberofvisitors , date));\n}\n</code></pre>\n"}],"owner":{"display_name":"user14506347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71724680,"answer_count":1,"score":0,"last_activity_date":1648979104,"creation_date":1648978357,"question_id":71724640,"body_markdown":"I have a Java code that I write in Android Studio. I have two arraylists (dates and visitors). I want to add one date and the corresponding number of visitors of the date, but when I run my code, it adds the date successfully, but it adds all the number of visitors. I have 6 dates, and the first date is 2021-12-28 and the code adds 6 number of visitors to this date, then it goes to the second date and adds 6 number of visitors again. Here is my code:\r\n\r\n    ArrayList&lt;PieEntry&gt; barEntries = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; dates.size(); i++){\r\n        for (int a = 0; a &lt; visitors.size(); a++){\r\n            String date= dates.get(i);\r\n            int numberofvisitors = visitors.get(a);\r\n            barEntries.add(new PieEntry(numberofvisitors , date));\r\n        }\r\n    }","title":"Inner for loop in Android Studio","body":"<p>I have a Java code that I write in Android Studio. I have two arraylists (dates and visitors). I want to add one date and the corresponding number of visitors of the date, but when I run my code, it adds the date successfully, but it adds all the number of visitors. I have 6 dates, and the first date is 2021-12-28 and the code adds 6 number of visitors to this date, then it goes to the second date and adds 6 number of visitors again. Here is my code:</p>\n<pre><code>ArrayList&lt;PieEntry&gt; barEntries = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; dates.size(); i++){\n    for (int a = 0; a &lt; visitors.size(); a++){\n        String date= dates.get(i);\n        int numberofvisitors = visitors.get(a);\n        barEntries.add(new PieEntry(numberofvisitors , date));\n    }\n}\n</code></pre>\n"},{"tags":["java","volatile"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648979010,"creation_date":1648979010,"answer_id":71724713,"question_id":71724604,"body_markdown":"It depends.\r\n\r\n`Varhandle` has [`getVolatile()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/VarHandle.html#getVolatile(java.lang.Object...)) / [`setVolatile()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/VarHandle.html#setVolatile(java.lang.Object...)) that can access `x` is if it where declared volatile:\r\n\r\n&gt; Returns the value of a variable, with memory semantics of reading as if the variable was declared `volatile`.\r\n\r\nBut that only handles the case when you access `x` through the `VarHandle`.\r\n\r\nIf any code accesses `x` directly you **still** need to declare it as volatile because otherwise the JIT is still allowed to cache `x` in an internal register and read it only once - for example in the following code:\r\n\r\n    while (x &lt; 10) {\r\n        // do something with x\r\n    }\r\n\r\nFrom a performance point this will not matter - accessing `x` through the `VarHandle` cannot be faster than accessing `x` directly. (There might be an exception if you declare `x` as volatile but access it through the `VarHandle`s `get()` method that doesn&#39;t observe volatile semantics - but then you will run into concurrency issues.)","title":"Varhandles and volatile and memory access","body":"<p>It depends.</p>\n<p><code>Varhandle</code> has <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/VarHandle.html#getVolatile(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>getVolatile()</code></a> / <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/VarHandle.html#setVolatile(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>setVolatile()</code></a> that can access <code>x</code> is if it where declared volatile:</p>\n<blockquote>\n<p>Returns the value of a variable, with memory semantics of reading as if the variable was declared <code>volatile</code>.</p>\n</blockquote>\n<p>But that only handles the case when you access <code>x</code> through the <code>VarHandle</code>.</p>\n<p>If any code accesses <code>x</code> directly you <strong>still</strong> need to declare it as volatile because otherwise the JIT is still allowed to cache <code>x</code> in an internal register and read it only once - for example in the following code:</p>\n<pre><code>while (x &lt; 10) {\n    // do something with x\n}\n</code></pre>\n<p>From a performance point this will not matter - accessing <code>x</code> through the <code>VarHandle</code> cannot be faster than accessing <code>x</code> directly. (There might be an exception if you declare <code>x</code> as volatile but access it through the <code>VarHandle</code>s <code>get()</code> method that doesn't observe volatile semantics - but then you will run into concurrency issues.)</p>\n"}],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648979010,"creation_date":1648978063,"question_id":71724604,"body_markdown":"I am trying to understand Varhandles but some examples contain different approaches to the visibility of a variable. \r\n\r\n\r\nE.g. \r\n\r\n```\r\nimport java.lang.invoke.MethodHandles;\r\nimport java.lang.invoke.VarHandle;\r\nclass Point {\r\n   volatile int x;\r\n   private static final VarHandle X;\r\n   static {\r\n     try {\r\n       X = MethodHandles.lookup().\r\n           findVarHandle(Point.class, &quot;x&quot;,\r\n                         int.class);\r\n     } catch (ReflectiveOperationException e) {\r\n       throw new Error(e);\r\n     }\r\n   }\r\n   // ...\r\n}\r\n```\r\n\r\nExample shows x field that is volatile. Is it necessary? I mean if you have a volatile field then we have a memory barrier and other mechanisms related to program order etc. but from my perspective in that example volatile is not necessary otherwise it has a significant impact on performance and from the other side, Varhandle provides all necessary instrumentation to do this safely.\r\n\r\nWhat is the proper solution for that? ","title":"Varhandles and volatile and memory access","body":"<p>I am trying to understand Varhandles but some examples contain different approaches to the visibility of a variable.</p>\n<p>E.g.</p>\n<pre><code>import java.lang.invoke.MethodHandles;\nimport java.lang.invoke.VarHandle;\nclass Point {\n   volatile int x;\n   private static final VarHandle X;\n   static {\n     try {\n       X = MethodHandles.lookup().\n           findVarHandle(Point.class, &quot;x&quot;,\n                         int.class);\n     } catch (ReflectiveOperationException e) {\n       throw new Error(e);\n     }\n   }\n   // ...\n}\n</code></pre>\n<p>Example shows x field that is volatile. Is it necessary? I mean if you have a volatile field then we have a memory barrier and other mechanisms related to program order etc. but from my perspective in that example volatile is not necessary otherwise it has a significant impact on performance and from the other side, Varhandle provides all necessary instrumentation to do this safely.</p>\n<p>What is the proper solution for that?</p>\n"},{"tags":["java","keystore","keytool","secret-key","java-security"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1648987869,"post_id":71724595,"comment_id":126757119,"body_markdown":"Your last line is wrong because keys in a keystore are not in base64 -- `getEncoded()` is really for a _format_ like PKCS8 not a true encoding, and for AES is just raw bytes -- and moreover are not characters that can be stored in `String`. However the exception you are getting on line 8 should not occur (and does not for me, in 11.0.11 and 17.0.2) unless you answered the keytool prompt for &#39;Enter key password&#39; with something other than return.","body":"Your last line is wrong because keys in a keystore are not in base64 -- <code>getEncoded()</code> is really for a <i>format</i> like PKCS8 not a true encoding, and for AES is just raw bytes -- and moreover are not characters that can be stored in <code>String</code>. However the exception you are getting on line 8 should not occur (and does not for me, in 11.0.11 and 17.0.2) unless you answered the keytool prompt for &#39;Enter key password&#39; with something other than return."},{"owner":{"account_id":13533600,"reputation":1,"user_id":9763447,"display_name":"theencodedbong"},"score":0,"creation_date":1649164363,"post_id":71724595,"comment_id":126802362,"body_markdown":"Yes, I had entered the value &quot;securesvc&quot; when prompted later as that is the secret password that I need to store.\nAlso, I need to capture the key password to be passed to another program, how do I convert it to String? I tried converting it as hexadecimal but didn&#39;t work that way either.","body":"Yes, I had entered the value &quot;securesvc&quot; when prompted later as that is the secret password that I need to store. Also, I need to capture the key password to be passed to another program, how do I convert it to String? I tried converting it as hexadecimal but didn&#39;t work that way either."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1649306318,"post_id":71724595,"comment_id":126843466,"body_markdown":"The key password is not stored anywhere. The _key_ is stored, encrypted _using_ the key password. You must _supply_ the same key password to retrieve and decrypt the key. The _password_ is normally human-typable and can be handled in a String; the key cannot. If by &#39;program&#39; you mean a separate process, in general you can&#39;t pass a symmetric key to a different process. If you meant other Java code, you often pass either a `[Secret]Key` object or the not-really-encoded `byte[]`, but it varies widely depending on the code which you didn&#39;t show or identify.","body":"The key password is not stored anywhere. The <i>key</i> is stored, encrypted <i>using</i> the key password. You must <i>supply</i> the same key password to retrieve and decrypt the key. The <i>password</i> is normally human-typable and can be handled in a String; the key cannot. If by &#39;program&#39; you mean a separate process, in general you can&#39;t pass a symmetric key to a different process. If you meant other Java code, you often pass either a <code>[Secret]Key</code> object or the not-really-encoded <code>byte[]</code>, but it varies widely depending on the code which you didn&#39;t show or identify."}],"owner":{"account_id":13533600,"reputation":1,"user_id":9763447,"display_name":"theencodedbong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648977957,"creation_date":1648977957,"question_id":71724595,"body_markdown":"I am facing an issue while trying to fetch the secret key entry from a keystore, created to store the password for a service account.\r\n\r\nMy **keytool** command reads as below:\r\n\r\n    keytool -genseckey -alias securesvc -keyalg AES -keysize 256 -keystore myseckey.jceks -storetype JCEKS -storepass myseckey\r\n\r\nNext, I am trying to extract the key for **securesvc** using **KeyStore.SecretKeyEntry**:\r\n\r\n    1  String keystorePath = &quot;security/myseckey.jceks&quot;;\r\n    2  char[] keystorePass = &quot;myseckey&quot;.trim().toCharArray();\r\n    3  KeyStore ks = KeyStore.getInstance(new File(keystorePath), keystorePass);\r\n    4  try (FileInputStream fis = new FileInputStream(keystorePath)) {\r\n    5  \tks.load(fis, keystorePass);\r\n    6  }\r\n    7  KeyStore.ProtectionParameter pp = new KeyStore.PasswordProtection(keystorePass);\r\n    8  KeyStore.SecretKeyEntry ske = (SecretKeyEntry) ks.getEntry(&quot;securesvc&quot;, pp);\r\n    9  SecretKey sk = ske.getSecretKey();\r\n    10 String securedKey = new String(Base64.getDecoder().decode(sk.getEncoded()));\r\nBut, I keep getting the exception below:\r\n\r\n    Exception in thread &quot;main&quot; java.security.UnrecoverableKeyException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n    \tat java.base/com.sun.crypto.provider.KeyProtector.unseal(KeyProtector.java:399)\r\n    \tat java.base/com.sun.crypto.provider.JceKeyStore.engineGetKey(JceKeyStore.java:146)\r\n    \tat java.base/java.security.KeyStoreSpi.engineGetEntry(KeyStoreSpi.java:499)\r\n    \tat java.base/java.security.KeyStore.getEntry(KeyStore.java:1548)\r\n    \tat com.practice.TestClass.getSecretKey(TestClass.java:8)\r\n\r\nCan anyone point out where I am possibly going wrong here, and suggest a solution?\r\nThanks in advance.\r\n\r\n","title":"Java Security: KeyStore.SecretKeyEntry unable to fetch key stored using keytool -genseckey command","body":"<p>I am facing an issue while trying to fetch the secret key entry from a keystore, created to store the password for a service account.</p>\n<p>My <strong>keytool</strong> command reads as below:</p>\n<pre><code>keytool -genseckey -alias securesvc -keyalg AES -keysize 256 -keystore myseckey.jceks -storetype JCEKS -storepass myseckey\n</code></pre>\n<p>Next, I am trying to extract the key for <strong>securesvc</strong> using <strong>KeyStore.SecretKeyEntry</strong>:</p>\n<pre><code>1  String keystorePath = &quot;security/myseckey.jceks&quot;;\n2  char[] keystorePass = &quot;myseckey&quot;.trim().toCharArray();\n3  KeyStore ks = KeyStore.getInstance(new File(keystorePath), keystorePass);\n4  try (FileInputStream fis = new FileInputStream(keystorePath)) {\n5   ks.load(fis, keystorePass);\n6  }\n7  KeyStore.ProtectionParameter pp = new KeyStore.PasswordProtection(keystorePass);\n8  KeyStore.SecretKeyEntry ske = (SecretKeyEntry) ks.getEntry(&quot;securesvc&quot;, pp);\n9  SecretKey sk = ske.getSecretKey();\n10 String securedKey = new String(Base64.getDecoder().decode(sk.getEncoded()));\n</code></pre>\n<p>But, I keep getting the exception below:</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.UnrecoverableKeyException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at java.base/com.sun.crypto.provider.KeyProtector.unseal(KeyProtector.java:399)\n    at java.base/com.sun.crypto.provider.JceKeyStore.engineGetKey(JceKeyStore.java:146)\n    at java.base/java.security.KeyStoreSpi.engineGetEntry(KeyStoreSpi.java:499)\n    at java.base/java.security.KeyStore.getEntry(KeyStore.java:1548)\n    at com.practice.TestClass.getSecretKey(TestClass.java:8)\n</code></pre>\n<p>Can anyone point out where I am possibly going wrong here, and suggest a solution?\nThanks in advance.</p>\n"},{"tags":["java","inputmismatchexception"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1648978326,"post_id":71724591,"comment_id":126755437,"body_markdown":"`int engineDisplacement=scanner.nextInt()` reads &quot;Sedan&quot;, not &quot;1998&quot;","body":"<code>int engineDisplacement=scanner.nextInt()</code> reads &quot;Sedan&quot;, not &quot;1998&quot;"},{"owner":{"account_id":15248789,"reputation":1,"user_id":11002877,"display_name":"Aishwary Singh"},"score":0,"creation_date":1648980166,"post_id":71724591,"comment_id":126755744,"body_markdown":"Yess but how do i resolve this? I have already taken the input of bodytype so why it is reading sedan?","body":"Yess but how do i resolve this? I have already taken the input of bodytype so why it is reading sedan?"}],"owner":{"account_id":15248789,"reputation":1,"user_id":11002877,"display_name":"Aishwary Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648978285,"answer_count":0,"score":0,"last_activity_date":1648977868,"creation_date":1648977868,"question_id":71724591,"body_markdown":"I am getting the input mismatch exception error on my code.\r\nI am getting error at the Engine displacement line.\r\n \r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    \t\tCar[] arr;\r\n    \t\tSystem.out.println(&quot;Enter the number of car details to created&quot;);\r\n    \t\tint number=scanner.nextInt();\r\n    \t\tarr=new Car[number];\r\n    \t\tfor(int i=0;i&lt;number;i++)\r\n    \t\t{\r\n    \t\t     System.out.println(&quot;Enter Car Id&quot;);\r\n    \t         String carId=scanner.nextLine();\r\n    \t         System.out.println(&quot;Enter Model Number&quot;);\r\n    \t         String modelNumber=scanner.nextLine();\r\n    \t         System.out.println(&quot;Enter Colour&quot;);\r\n    \t         String colour=scanner.nextLine();\r\n    \t         System.out.println(&quot;Enter Transmission Type&quot;);\r\n    \t         String transmissionType=scanner.nextLine();\r\n    \t         System.out.println(&quot;Enter Fuel Type&quot;);\r\n    \t         String fuelType=scanner.nextLine();\r\n    \t         System.out.println(&quot;Enter Engine Type&quot;);\r\n    \t         String engineType=scanner.nextLine();\r\n    \t         System.out.println(&quot;Enter Body Type&quot;);\r\n    \t         String bodyType=scanner.nextLine();\r\n    \t         System.out.println(&quot;Enter Engine Displacement&quot;);\r\n    \t          //Here Input.mismatchexception\r\n                 int engineDisplacement=scanner.nextInt();\r\n    \t         System.out.println(&quot;Enter Boot Space&quot;);\r\n    \t         int bootSpace=scanner.nextInt();\r\n    \t         System.out.println(&quot;Enter Seat Capacity&quot;);\r\n    \t         int seatCapacity=scanner.nextInt(); \r\n    \t         arr[i]=new Car(carId,modelNumber,colour,transmissionType,fuelType,engineType,bodyType,engineDisplacement,bootSpace,seatCapacity);\r\n    \t\t}\r\nInput-\r\n1\r\nTN-7474\r\nA4\r\nBlack\r\nAutomatic\r\nPetrol\r\n2.0LTFSI\r\nSedan\r\n1998\r\n460\r\n5","title":"Input Mismatch exception Java","body":"<p>I am getting the input mismatch exception error on my code.\nI am getting error at the Engine displacement line.</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\n        Car[] arr;\n        System.out.println(&quot;Enter the number of car details to created&quot;);\n        int number=scanner.nextInt();\n        arr=new Car[number];\n        for(int i=0;i&lt;number;i++)\n        {\n             System.out.println(&quot;Enter Car Id&quot;);\n             String carId=scanner.nextLine();\n             System.out.println(&quot;Enter Model Number&quot;);\n             String modelNumber=scanner.nextLine();\n             System.out.println(&quot;Enter Colour&quot;);\n             String colour=scanner.nextLine();\n             System.out.println(&quot;Enter Transmission Type&quot;);\n             String transmissionType=scanner.nextLine();\n             System.out.println(&quot;Enter Fuel Type&quot;);\n             String fuelType=scanner.nextLine();\n             System.out.println(&quot;Enter Engine Type&quot;);\n             String engineType=scanner.nextLine();\n             System.out.println(&quot;Enter Body Type&quot;);\n             String bodyType=scanner.nextLine();\n             System.out.println(&quot;Enter Engine Displacement&quot;);\n              //Here Input.mismatchexception\n             int engineDisplacement=scanner.nextInt();\n             System.out.println(&quot;Enter Boot Space&quot;);\n             int bootSpace=scanner.nextInt();\n             System.out.println(&quot;Enter Seat Capacity&quot;);\n             int seatCapacity=scanner.nextInt(); \n             arr[i]=new Car(carId,modelNumber,colour,transmissionType,fuelType,engineType,bodyType,engineDisplacement,bootSpace,seatCapacity);\n        }\n</code></pre>\n<p>Input-\n1\nTN-7474\nA4\nBlack\nAutomatic\nPetrol\n2.0LTFSI\nSedan\n1998\n460\n5</p>\n"},{"tags":["java","matlab","64-bit","jna","jvm-crash"],"comments":[{"owner":{"account_id":9897892,"reputation":57148,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":0,"creation_date":1648844107,"post_id":71712247,"comment_id":126735741,"body_markdown":"Is `ToJava.convert` your code?","body":"Is <code>ToJava.convert</code> your code?"},{"owner":{"account_id":2210603,"reputation":300,"user_id":1952576,"display_name":"John Smith"},"score":0,"creation_date":1648844137,"post_id":71712247,"comment_id":126735749,"body_markdown":"indeed, that is my code and it is only calling `mx.mxGetClassID(ar)`","body":"indeed, that is my code and it is only calling <code>mx.mxGetClassID(ar)</code>"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1648887596,"post_id":71712247,"comment_id":126741290,"body_markdown":"What is the JNA mapping of ClassID and MX? What is the native API signature ?","body":"What is the JNA mapping of ClassID and MX? What is the native API signature ?"},{"owner":{"account_id":2210603,"reputation":300,"user_id":1952576,"display_name":"John Smith"},"score":0,"creation_date":1648905286,"post_id":71712247,"comment_id":126744162,"body_markdown":"@DanielWiddis \nJNA mapping of ClassID\n`int mxGetClassID(Pointer ar);\n`\nnative API signature\n`#include &quot;matrix.h&quot;\nmxClassID mxGetClassID(const mxArray *pm);`\n\nhttps://nl.mathworks.com/help/matlab/apiref/mxgetclassid.html","body":"@DanielWiddis  JNA mapping of ClassID <code>int mxGetClassID(Pointer ar); </code> native API signature <code>#include &quot;matrix.h&quot; mxClassID mxGetClassID(const mxArray *pm);</code>  <a href=\"https://nl.mathworks.com/help/matlab/apiref/mxgetclassid.html\" rel=\"nofollow noreferrer\">nl.mathworks.com/help/matlab/apiref/mxgetclassid.html</a>"},{"owner":{"account_id":2210603,"reputation":300,"user_id":1952576,"display_name":"John Smith"},"score":1,"creation_date":1648927368,"post_id":71712247,"comment_id":126748630,"body_markdown":"I think I figured it out, I mean the solution direction at least. This one helped me https://nl.mathworks.com/matlabcentral/answers/99401-how-do-i-use-the-mxcreatechararray-routine-in-my-c-mex-function  JNA crash turns out to be an indirect result of running code that is incompatible with 64 bits architecture.","body":"I think I figured it out, I mean the solution direction at least. This one helped me <a href=\"https://nl.mathworks.com/matlabcentral/answers/99401-how-do-i-use-the-mxcreatechararray-routine-in-my-c-mex-function\" rel=\"nofollow noreferrer\">nl.mathworks.com/matlabcentral/answers/&hellip;</a>  JNA crash turns out to be an indirect result of running code that is incompatible with 64 bits architecture."},{"owner":{"account_id":2210603,"reputation":300,"user_id":1952576,"display_name":"John Smith"},"score":1,"creation_date":1648932189,"post_id":71712247,"comment_id":126749538,"body_markdown":"**Update Arguments Used to Call Functions in the 64-Bit API** section in [this](https://nl.mathworks.com/help/matlab/matlab_external/upgrading-mex-files-to-use-64-bit-api.html) article explains it well","body":"<b>Update Arguments Used to Call Functions in the 64-Bit API</b> section in <a href=\"https://nl.mathworks.com/help/matlab/matlab_external/upgrading-mex-files-to-use-64-bit-api.html\" rel=\"nofollow noreferrer\">this</a> article explains it well"}],"answers":[{"tags":[],"owner":{"account_id":2210603,"reputation":300,"user_id":1952576,"display_name":"John Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648977690,"creation_date":1648977690,"answer_id":71724569,"question_id":71712247,"body_markdown":"The code in this question calls the functions exposed by Matlab Compiler Runtime via JNA. It turns out that \r\nthe interface has been changed on Matlab side for 64bit architecture. They use mwSize type in their native API signature while our JNA mapping uses int. On a 64-bit machine where mwSize is equivalent to size_t, an int will be 32-bits. Therefore, the JNA mapping and the native API signature do not match anymore. After repeatedly calling these functions via JNA, it even causes JNA to crash. \r\n\r\nThe solution direction is to replace int with a 64-bit integer on Java code.This can be done by extending the abstract class called IntegerType provided by JNA and using this extended class wherever applicable\r\n\r\n**Reference article from Matlab:** https://nl.mathworks.com/help/matlab/matlab_external/upgrading-mex-files-to-use-64-bit-api.html","title":"JNA crashes with 64 bit libmx.so on Linux","body":"<p>The code in this question calls the functions exposed by Matlab Compiler Runtime via JNA. It turns out that\nthe interface has been changed on Matlab side for 64bit architecture. They use mwSize type in their native API signature while our JNA mapping uses int. On a 64-bit machine where mwSize is equivalent to size_t, an int will be 32-bits. Therefore, the JNA mapping and the native API signature do not match anymore. After repeatedly calling these functions via JNA, it even causes JNA to crash.</p>\n<p>The solution direction is to replace int with a 64-bit integer on Java code.This can be done by extending the abstract class called IntegerType provided by JNA and using this extended class wherever applicable</p>\n<p><strong>Reference article from Matlab:</strong> <a href=\"https://nl.mathworks.com/help/matlab/matlab_external/upgrading-mex-files-to-use-64-bit-api.html\" rel=\"nofollow noreferrer\">https://nl.mathworks.com/help/matlab/matlab_external/upgrading-mex-files-to-use-64-bit-api.html</a></p>\n"}],"owner":{"account_id":2210603,"reputation":300,"user_id":1952576,"display_name":"John Smith"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71724569,"answer_count":1,"score":1,"last_activity_date":1648977690,"creation_date":1648843390,"question_id":71712247,"body_markdown":"I have a legacy Java application that uses JNA to interact with Matlab C Matrix API. \r\n```java\r\n/**\r\n * Load a MAT-file. Must be synchronized because of native libraries calls.\r\n *\r\n * @param file MAT file\r\n * @return map with the variables in the MAT file\r\n */\r\npublic static synchronized Map&lt;String, MObj&gt; load(final File file) {\r\n    if (file == null) {\r\n        throw new InvalidMatFileException(null, ERROR_MSG_FILE_NOT_FOUND);\r\n    }\r\n    if (!file.isFile()) {\r\n        throw new InvalidMatFileException(file.getName(), ERROR_MSG_FILE_NOT_FOUND);\r\n    }\r\n    final Map&lt;String, MObj&gt; vars = new HashMap&lt;String, MObj&gt;();\r\n    final Pointer matfile = MAT_LIB.matOpen(file.getAbsolutePath(), &quot;r&quot;);\r\n    if (matfile == null) {\r\n        throw new InvalidMatFileException(file.getName(), ERROR_MSG_NOT_A_PROPER_MAT_FILE);\r\n    }\r\n    for (;;) {\r\n        final PointerByReference name = new PointerByReference();\r\n        final Pointer ar = MAT_LIB.matGetNextVariable(matfile, name);\r\n        if (ar == null) {\r\n            break;\r\n        }\r\n        final MObj obj = ToJava.convert(MX_LIB, ar);\r\n        MX_LIB.mxDestroyArray(ar);\r\n        vars.put(name.getValue().getString(0), obj);\r\n    }\r\n    MAT_LIB.matClose(matfile);\r\n    return vars;\r\n}\r\n\r\n//ToJava class has the following methods that are called from the code above\r\n /**\r\n * Convert a single mxArray\r\n *\r\n * @param mx MX library\r\n * @param ar mxArray\r\n * @return MObj instance\r\n */\r\npublic static MObj convert(MX mx, Pointer ar) {\r\n    final ToJava tr = new ToJava(mx);\r\n    tr.transform(ar);\r\n    return tr.obj;\r\n}\r\n\r\n/**\r\n * Top-level transform\r\n *\r\n * @param ar mxArray\r\n */\r\nprivate void transform(Pointer ar) {\r\n    final ClassID classID = ClassID.valueOf(mx.mxGetClassID(ar));\r\n    switch (classID) {\r\n\r\n    case DOUBLE:\r\n        transformDoubleArray(ar);\r\n        break;\r\n\r\n```\r\nInside the for loop &lt;pre&gt;ToJava.convert&lt;/pre&gt; calls\r\n```java\r\nmx.mxGetClassID(ar)\r\n```\r\nunder the hood.  This is [defined in the api][1] as\r\n```c\r\nmxClassID mxGetClassID(const mxArray *pm);\r\n```\r\nwhere `mxClassID` is an enum.  This is mapped in JNA as\r\n```java\r\nint mxGetClassID(Pointer ar);\r\n```\r\nThis is the exact piece of code causing the crash below\r\n\r\n```text\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007fbb7fcd45f0, pid=13363, tid=140445588428544\r\n#\r\n# JRE version: 6.0_45-b06\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (20.45-b01 mixed mode linux-amd64 compressed oops)\r\n# Problematic frame:\r\n# C  [libmx.so+0x615f0]  matrix::detail::noninlined::mx_array_api::mxGetClassID(mxArray_tag const*)+0x0\r\nRegister to memory mapping:\r\n\r\nRAX=0x0000000000000000 is an unknown value\r\nRBX=0x0000000000000008 is an unknown value\r\nRCX=0x00007fbc04252a7a is an unknown value\r\nRDX=0x00007fbc04252a7a is an unknown value\r\nRSP=0x00007fbc09686888 is pointing into the stack for thread: 0x00007fbc04006800\r\nRBP=0x00007fbc09686890 is pointing into the stack for thread: 0x00007fbc04006800\r\nRSI=0x00007fbc04252a7a is an unknown value\r\nRDI=0x0000000000000000 is an unknown value\r\nR8 =0x00007fbc04252a7a is an unknown value\r\nR9 =0x00007fbc04252a95 is an unknown value\r\nR10=0x0000000000000000 is an unknown value\r\nR11=0x00007fbb7fd46800: mxGetClassID+0 in /var/opt/Matlab_MCR/v91/bin/glnxa64/libmx.so at 0x00007fbb7fc73000\r\nR12=0x00007fbc096869d0 is pointing into the stack for thread: 0x00007fbc04006800\r\nR13=0x0000000000000008 is an unknown value\r\nR14=0x0000000000000001 is an unknown value\r\nR15=0x00007fbc096869b0 is pointing into the stack for thread: 0x00007fbc04006800\r\n\r\n Stack: [0x00007fbc09589000,0x00007fbc0968a000],  sp=0x00007fbc09686888,  free space=1014k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [libmx.so+0x615f0]  matrix::detail::noninlined::mx_array_api::mxGetClassID(mxArray_tag const*)+0x0\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  com.sun.jna.Native.invokeInt(Lcom/sun/jna/Function;JI[Ljava/lang/Object;)I+0\r\nj  com.sun.jna.Function.invoke([Ljava/lang/Object;Ljava/lang/Class;ZI)Ljava/lang/Object;+211\r\nj  com.sun.jna.Function.invoke(Ljava/lang/reflect/Method;[Ljava/lang/Class;Ljava/lang/Class;[Ljava/lang/Object;Ljava/util/Map;)Ljava/lang/Object;+271\r\nj  com.sun.jna.Library$Handler.invoke(Ljava/lang/Object;Ljava/lang/reflect/Method;[Ljava/lang/Object;)Ljava/lang/Object;+390\r\nj  com.sun.proxy.$Proxy12.mxGetClassID(Lcom/sun/jna/Pointer;)I+16\r\n```\r\nTo sum it up,\r\n\r\n - Linux 32 bits MCR (matlab compiler runtime) + 32bit Java6/7/8 : **works**\r\n - Windows 32 bits MCR (matlab compiler runtime) + 32bit Java6/7/8 : **works**\r\n - Windows 64 bits MCR (matlab compiler runtime) + 64bit Java6/7/8 : **works**\r\n - Linux 64 bits MCR (matlab compiler runtime) + 64bit Java6/7/8 : JNA crashes\r\n\r\nSo far, I tried setting the LD_LIBRARY_PATH as well as the java.library.path and pointed both to the MCR location on the file system\r\n```\r\n/var/opt/Matlab_MCR/v91/runtime/glnxa64:/var/opt/Matlab_MCR/v91/bin/glnxa64:/var/opt/Matlab_MCR/v91/sys/os/glnxa64\r\n```\r\nDoes anybody know how to troubleshoot this further?\r\n\r\n\r\n  [1]: https://nl.mathworks.com/help/matlab/apiref/mxgetclassid.html","title":"JNA crashes with 64 bit libmx.so on Linux","body":"<p>I have a legacy Java application that uses JNA to interact with Matlab C Matrix API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Load a MAT-file. Must be synchronized because of native libraries calls.\n *\n * @param file MAT file\n * @return map with the variables in the MAT file\n */\npublic static synchronized Map&lt;String, MObj&gt; load(final File file) {\n    if (file == null) {\n        throw new InvalidMatFileException(null, ERROR_MSG_FILE_NOT_FOUND);\n    }\n    if (!file.isFile()) {\n        throw new InvalidMatFileException(file.getName(), ERROR_MSG_FILE_NOT_FOUND);\n    }\n    final Map&lt;String, MObj&gt; vars = new HashMap&lt;String, MObj&gt;();\n    final Pointer matfile = MAT_LIB.matOpen(file.getAbsolutePath(), &quot;r&quot;);\n    if (matfile == null) {\n        throw new InvalidMatFileException(file.getName(), ERROR_MSG_NOT_A_PROPER_MAT_FILE);\n    }\n    for (;;) {\n        final PointerByReference name = new PointerByReference();\n        final Pointer ar = MAT_LIB.matGetNextVariable(matfile, name);\n        if (ar == null) {\n            break;\n        }\n        final MObj obj = ToJava.convert(MX_LIB, ar);\n        MX_LIB.mxDestroyArray(ar);\n        vars.put(name.getValue().getString(0), obj);\n    }\n    MAT_LIB.matClose(matfile);\n    return vars;\n}\n\n//ToJava class has the following methods that are called from the code above\n /**\n * Convert a single mxArray\n *\n * @param mx MX library\n * @param ar mxArray\n * @return MObj instance\n */\npublic static MObj convert(MX mx, Pointer ar) {\n    final ToJava tr = new ToJava(mx);\n    tr.transform(ar);\n    return tr.obj;\n}\n\n/**\n * Top-level transform\n *\n * @param ar mxArray\n */\nprivate void transform(Pointer ar) {\n    final ClassID classID = ClassID.valueOf(mx.mxGetClassID(ar));\n    switch (classID) {\n\n    case DOUBLE:\n        transformDoubleArray(ar);\n        break;\n\n</code></pre>\n<p>Inside the for loop <pre>ToJava.convert</pre> calls</p>\n<pre class=\"lang-java prettyprint-override\"><code>mx.mxGetClassID(ar)\n</code></pre>\n<p>under the hood.  This is <a href=\"https://nl.mathworks.com/help/matlab/apiref/mxgetclassid.html\" rel=\"nofollow noreferrer\">defined in the api</a> as</p>\n<pre class=\"lang-c prettyprint-override\"><code>mxClassID mxGetClassID(const mxArray *pm);\n</code></pre>\n<p>where <code>mxClassID</code> is an enum.  This is mapped in JNA as</p>\n<pre class=\"lang-java prettyprint-override\"><code>int mxGetClassID(Pointer ar);\n</code></pre>\n<p>This is the exact piece of code causing the crash below</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007fbb7fcd45f0, pid=13363, tid=140445588428544\n#\n# JRE version: 6.0_45-b06\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (20.45-b01 mixed mode linux-amd64 compressed oops)\n# Problematic frame:\n# C  [libmx.so+0x615f0]  matrix::detail::noninlined::mx_array_api::mxGetClassID(mxArray_tag const*)+0x0\nRegister to memory mapping:\n\nRAX=0x0000000000000000 is an unknown value\nRBX=0x0000000000000008 is an unknown value\nRCX=0x00007fbc04252a7a is an unknown value\nRDX=0x00007fbc04252a7a is an unknown value\nRSP=0x00007fbc09686888 is pointing into the stack for thread: 0x00007fbc04006800\nRBP=0x00007fbc09686890 is pointing into the stack for thread: 0x00007fbc04006800\nRSI=0x00007fbc04252a7a is an unknown value\nRDI=0x0000000000000000 is an unknown value\nR8 =0x00007fbc04252a7a is an unknown value\nR9 =0x00007fbc04252a95 is an unknown value\nR10=0x0000000000000000 is an unknown value\nR11=0x00007fbb7fd46800: mxGetClassID+0 in /var/opt/Matlab_MCR/v91/bin/glnxa64/libmx.so at 0x00007fbb7fc73000\nR12=0x00007fbc096869d0 is pointing into the stack for thread: 0x00007fbc04006800\nR13=0x0000000000000008 is an unknown value\nR14=0x0000000000000001 is an unknown value\nR15=0x00007fbc096869b0 is pointing into the stack for thread: 0x00007fbc04006800\n\n Stack: [0x00007fbc09589000,0x00007fbc0968a000],  sp=0x00007fbc09686888,  free space=1014k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [libmx.so+0x615f0]  matrix::detail::noninlined::mx_array_api::mxGetClassID(mxArray_tag const*)+0x0\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  com.sun.jna.Native.invokeInt(Lcom/sun/jna/Function;JI[Ljava/lang/Object;)I+0\nj  com.sun.jna.Function.invoke([Ljava/lang/Object;Ljava/lang/Class;ZI)Ljava/lang/Object;+211\nj  com.sun.jna.Function.invoke(Ljava/lang/reflect/Method;[Ljava/lang/Class;Ljava/lang/Class;[Ljava/lang/Object;Ljava/util/Map;)Ljava/lang/Object;+271\nj  com.sun.jna.Library$Handler.invoke(Ljava/lang/Object;Ljava/lang/reflect/Method;[Ljava/lang/Object;)Ljava/lang/Object;+390\nj  com.sun.proxy.$Proxy12.mxGetClassID(Lcom/sun/jna/Pointer;)I+16\n</code></pre>\n<p>To sum it up,</p>\n<ul>\n<li>Linux 32 bits MCR (matlab compiler runtime) + 32bit Java6/7/8 : <strong>works</strong></li>\n<li>Windows 32 bits MCR (matlab compiler runtime) + 32bit Java6/7/8 : <strong>works</strong></li>\n<li>Windows 64 bits MCR (matlab compiler runtime) + 64bit Java6/7/8 : <strong>works</strong></li>\n<li>Linux 64 bits MCR (matlab compiler runtime) + 64bit Java6/7/8 : JNA crashes</li>\n</ul>\n<p>So far, I tried setting the LD_LIBRARY_PATH as well as the java.library.path and pointed both to the MCR location on the file system</p>\n<pre><code>/var/opt/Matlab_MCR/v91/runtime/glnxa64:/var/opt/Matlab_MCR/v91/bin/glnxa64:/var/opt/Matlab_MCR/v91/sys/os/glnxa64\n</code></pre>\n<p>Does anybody know how to troubleshoot this further?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":3,"creation_date":1648975236,"post_id":71724241,"comment_id":126754906,"body_markdown":"Use flatMap and not doOnSuccess","body":"Use flatMap and not doOnSuccess"},{"owner":{"account_id":17203622,"reputation":163,"user_id":12454691,"display_name":"Chee Conroy"},"score":0,"creation_date":1648977346,"post_id":71724241,"comment_id":126755250,"body_markdown":"it is flatMapMany, thanks","body":"it is flatMapMany, thanks"}],"answers":[{"tags":[],"owner":{"account_id":17203622,"reputation":163,"user_id":12454691,"display_name":"Chee Conroy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648977587,"creation_date":1648977587,"answer_id":71724558,"question_id":71724241,"body_markdown":"I found the answer, stuck because of a few typos, and thanks to Toerktumlare pointing it out. I need to use flatMapMany.\r\n\r\n    public Mono&lt;ServerResponse&gt; getUserList(ServerRequest request) {\r\n\r\n        Flux&lt;User&gt; results = request.bodyToMono(String.class)\r\n                .flatMapMany(x -&gt; {\r\n                    JSONObject req = new JSONObject(x);\r\n                    List userList = req.getJSONArray(&quot;users&quot;).toList();\r\n                    return userRepository.findByUserIn(userList);\r\n                });\r\n        return ServerResponse.ok().body(results, User.class);\r\n    }","title":"Java Reactive get ServerRequest body, run repository and return flux","body":"<p>I found the answer, stuck because of a few typos, and thanks to Toerktumlare pointing it out. I need to use flatMapMany.</p>\n<pre><code>public Mono&lt;ServerResponse&gt; getUserList(ServerRequest request) {\n\n    Flux&lt;User&gt; results = request.bodyToMono(String.class)\n            .flatMapMany(x -&gt; {\n                JSONObject req = new JSONObject(x);\n                List userList = req.getJSONArray(&quot;users&quot;).toList();\n                return userRepository.findByUserIn(userList);\n            });\n    return ServerResponse.ok().body(results, User.class);\n}\n</code></pre>\n"}],"owner":{"account_id":17203622,"reputation":163,"user_id":12454691,"display_name":"Chee Conroy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648977587,"creation_date":1648974728,"question_id":71724241,"body_markdown":"I was trying to get the body of &quot;users&quot; in HttpRequest body from ServerRequest. I am using RouterFunction for this. This &quot;users&quot; key contains a list of users. \r\n\r\nAfter that, I need to extract this list of users to get the Flux&lt;User&gt; from a repository and return back to frontend. How can I achieve that?\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends ReactiveCrudRepository&lt;User, Integer&gt; {\r\n    Flux&lt;Account&gt; findByUserIn(List userList);\r\n}\r\n```\r\n\r\n\r\n\r\n**How to modify the below code for it to work?**\r\n\r\n```\r\n    public Mono&lt;ServerResponse&gt; getUserList(ServerRequest request) {\r\n\r\n        Flux&lt;User&gt; users = request.bodyToMono(String.class).doOnSuccess(x -&gt; {\r\n            JSONObject jObject = new JSONObject(x);\r\n            List userList= jObject.getJSONArray(&quot;users&quot;).toList();\r\n            userRepository.findByUserIn(userList);\r\n        })\r\n        return ServerResponse.ok().body(users, Repo.class);\r\n    }\r\n```\r\n","title":"Java Reactive get ServerRequest body, run repository and return flux","body":"<p>I was trying to get the body of &quot;users&quot; in HttpRequest body from ServerRequest. I am using RouterFunction for this. This &quot;users&quot; key contains a list of users.</p>\n<p>After that, I need to extract this list of users to get the Flux from a repository and return back to frontend. How can I achieve that?</p>\n<pre><code>@Repository\npublic interface UserRepository extends ReactiveCrudRepository&lt;User, Integer&gt; {\n    Flux&lt;Account&gt; findByUserIn(List userList);\n}\n</code></pre>\n<p><strong>How to modify the below code for it to work?</strong></p>\n<pre><code>    public Mono&lt;ServerResponse&gt; getUserList(ServerRequest request) {\n\n        Flux&lt;User&gt; users = request.bodyToMono(String.class).doOnSuccess(x -&gt; {\n            JSONObject jObject = new JSONObject(x);\n            List userList= jObject.getJSONArray(&quot;users&quot;).toList();\n            userRepository.findByUserIn(userList);\n        })\n        return ServerResponse.ok().body(users, Repo.class);\n    }\n</code></pre>\n"},{"tags":["java","jenkins","debian","vps"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1648976833,"post_id":61445038,"comment_id":126755169,"body_markdown":"Please do not edit solution announcements into the question. Accept (i.e. click the &quot;tick&quot; next to it) one of the existing answer, if there are any. You can also create your own answer, and even accept it, if your solution is not yet covered by an existing answer. Compare https://stackoverflow.com/help/self-answer","body":"Please do not edit solution announcements into the question. Accept (i.e. click the &quot;tick&quot; next to it) one of the existing answer, if there are any. You can also create your own answer, and even accept it, if your solution is not yet covered by an existing answer. Compare <a href=\"https://stackoverflow.com/help/self-answer\">stackoverflow.com/help/self-answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":7122736,"reputation":26890,"user_id":5446749,"accept_rate":80,"display_name":"vvvvv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648976759,"creation_date":1648976759,"answer_id":71724455,"question_id":61445038,"body_markdown":"Reduce the Thread Stack size.\r\n\r\nAccess to the configuration Jenkins File at:\r\n\r\n```\r\nnano /etc/default/jenkins\r\n```\r\n\r\nChanging the `JAVA_ARGS` on deploy:\r\n\r\n```\r\nJAVA_ARGS=&quot;-Xmx3584m -XX:MaxPermSize=512m -Xms128m -Xss256k -Djava.awt.headless=true&quot;\r\n```\r\n_(For 4Gb RAM)_\r\n\r\nReboot the Jenkins Service:\r\n\r\n```\r\nsystemctl restart jenkins\r\n```\r\n\r\n**Note:** per OP @JPMG Developer&#39;s own edit to the question.","title":"Jenkins - Unable to create new native thread","body":"<p>Reduce the Thread Stack size.</p>\n<p>Access to the configuration Jenkins File at:</p>\n<pre><code>nano /etc/default/jenkins\n</code></pre>\n<p>Changing the <code>JAVA_ARGS</code> on deploy:</p>\n<pre><code>JAVA_ARGS=&quot;-Xmx3584m -XX:MaxPermSize=512m -Xms128m -Xss256k -Djava.awt.headless=true&quot;\n</code></pre>\n<p><em>(For 4Gb RAM)</em></p>\n<p>Reboot the Jenkins Service:</p>\n<pre><code>systemctl restart jenkins\n</code></pre>\n<p><strong>Note:</strong> per OP @JPMG Developer's own edit to the question.</p>\n"}],"owner":{"account_id":3822950,"reputation":74,"user_id":3170573,"display_name":"JMPG Developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6337,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1648977035,"creation_date":1587921931,"question_id":61445038,"body_markdown":"I do a clean install on my Debian 9 VPS Server with 4GB RAM and 2 CPUs.\r\n\r\nThe installation is sucessfull but when I configure any MAVEN project, (On Java 8) I get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:137)\r\n    \tat jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:65)\r\n    Caused by: java.lang.OutOfMemoryError: unable to create new native thread\r\n    \tat java.lang.Thread.start0(Native Method)\r\n    \tat java.lang.Thread.start(Thread.java:717)\r\n    \tat hudson.remoting.AtmostOneThreadExecutor.execute(AtmostOneThreadExecutor.java:95)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n    \tat hudson.remoting.RemoteInvocationHandler$Unexporter.watch(RemoteInvocationHandler.java:826)\r\n    \tat hudson.remoting.RemoteInvocationHandler$Unexporter.access$100(RemoteInvocationHandler.java:409)\r\n    \tat hudson.remoting.RemoteInvocationHandler.wrap(RemoteInvocationHandler.java:166)\r\n    \tat hudson.remoting.Channel.&lt;init&gt;(Channel.java:582)\r\n    \tat hudson.remoting.ChannelBuilder.build(ChannelBuilder.java:360)\r\n    \tat hudson.remoting.Launcher.main(Launcher.java:770)\r\n    \tat hudson.remoting.Launcher.main(Launcher.java:751)\r\n    \tat hudson.remoting.Launcher.main(Launcher.java:742)\r\n    \tat hudson.remoting.Launcher.main(Launcher.java:738)\r\n    \t... 6 more\r\n    Finished: FAILURE\r\n\r\nI did some changes but nothing works.\r\n\r\n\r\n----------\r\n\r\n\r\nTry 1 (Not Working): Ulimit Configuration \r\n------------------------\r\n\r\nSee the current limits of your system, run ulimit -a on the command-line with the user running Jenkins (usually jenkins).\r\n\r\n    core file size          (blocks, -c) 0\r\n    data seg size           (kbytes, -d) unlimited\r\n    scheduling priority             (-e) 30\r\n    file size               (blocks, -f) unlimited\r\n    pending signals                 (-i) 30654\r\n    max locked memory       (kbytes, -l) unlimited\r\n    max memory size         (kbytes, -m) unlimited\r\n    open files                      (-n) 1024\r\n    pipe size            (512 bytes, -p) 8\r\n    POSIX message queues     (bytes, -q) 819200\r\n    real-time priority              (-r) 99\r\n    stack size              (kbytes, -s) 8192\r\n    cpu time               (seconds, -t) unlimited\r\n    max user processes              (-u) 1024\r\n    virtual memory          (kbytes, -v) unlimited\r\n    file locks                      (-x) unlimited\r\n\r\nIncreaseasing limits, adding these lines to /etc/security/limits.conf:\r\n\r\n    jenkins      soft   nofile  4096\r\n    jenkins      hard   nofile  8192\r\n    jenkins      soft   nproc   30654        \r\n    jenkins      hard   nproc   30654\r\n\r\n\r\n**Get The Same Error**\r\n\r\n\r\n----------\r\n\r\n\r\nTry 2 (Not Working): MAVEN_OPTS\r\n-----------------------\r\n\r\nAdding some Options to maven configuration.\r\n\r\n    -Xmx256m -Xss228k\r\n\r\n**Get The Same Error**\r\n\r\n\r\n----------\r\n\r\nTry 3 (Not Working): Default Task Max\r\n----------\r\n\r\nUpdate Default Task Max\r\n\r\n```\r\nnano /etc/systemd/system.conf\r\n```\r\n\r\nPut the next line into the file\r\n\r\n```\r\nDefaultTasksMax=10000\r\n```\r\n\r\nReboot the system.\r\n\r\n**Get The Same Error**\r\n\r\n-----\r\n\r\nI am getting frustrated trying to use an CI Environment on Debian.\r\n\r\nAny suggestions? I accept even a new CI server that works similar to jenkins.","title":"Jenkins - Unable to create new native thread","body":"<p>I do a clean install on my Debian 9 VPS Server with 4GB RAM and 2 CPUs.</p>\n<p>The installation is sucessfull but when I configure any MAVEN project, (On Java 8) I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:137)\n    at jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:65)\nCaused by: java.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method)\n    at java.lang.Thread.start(Thread.java:717)\n    at hudson.remoting.AtmostOneThreadExecutor.execute(AtmostOneThreadExecutor.java:95)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n    at hudson.remoting.RemoteInvocationHandler$Unexporter.watch(RemoteInvocationHandler.java:826)\n    at hudson.remoting.RemoteInvocationHandler$Unexporter.access$100(RemoteInvocationHandler.java:409)\n    at hudson.remoting.RemoteInvocationHandler.wrap(RemoteInvocationHandler.java:166)\n    at hudson.remoting.Channel.&lt;init&gt;(Channel.java:582)\n    at hudson.remoting.ChannelBuilder.build(ChannelBuilder.java:360)\n    at hudson.remoting.Launcher.main(Launcher.java:770)\n    at hudson.remoting.Launcher.main(Launcher.java:751)\n    at hudson.remoting.Launcher.main(Launcher.java:742)\n    at hudson.remoting.Launcher.main(Launcher.java:738)\n    ... 6 more\nFinished: FAILURE\n</code></pre>\n<p>I did some changes but nothing works.</p>\n<hr />\n<h2>Try 1 (Not Working): Ulimit Configuration</h2>\n<p>See the current limits of your system, run ulimit -a on the command-line with the user running Jenkins (usually jenkins).</p>\n<pre><code>core file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 30\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 30654\nmax locked memory       (kbytes, -l) unlimited\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 99\nstack size              (kbytes, -s) 8192\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 1024\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre>\n<p>Increaseasing limits, adding these lines to /etc/security/limits.conf:</p>\n<pre><code>jenkins      soft   nofile  4096\njenkins      hard   nofile  8192\njenkins      soft   nproc   30654        \njenkins      hard   nproc   30654\n</code></pre>\n<p><strong>Get The Same Error</strong></p>\n<hr />\n<h2>Try 2 (Not Working): MAVEN_OPTS</h2>\n<p>Adding some Options to maven configuration.</p>\n<pre><code>-Xmx256m -Xss228k\n</code></pre>\n<p><strong>Get The Same Error</strong></p>\n<hr />\n<h2>Try 3 (Not Working): Default Task Max</h2>\n<p>Update Default Task Max</p>\n<pre><code>nano /etc/systemd/system.conf\n</code></pre>\n<p>Put the next line into the file</p>\n<pre><code>DefaultTasksMax=10000\n</code></pre>\n<p>Reboot the system.</p>\n<p><strong>Get The Same Error</strong></p>\n<hr />\n<p>I am getting frustrated trying to use an CI Environment on Debian.</p>\n<p>Any suggestions? I accept even a new CI server that works similar to jenkins.</p>\n"},{"tags":["java","arrays","json","spring","jackson2"],"answers":[{"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1493892549,"creation_date":1493892549,"answer_id":43779917,"question_id":43779425,"body_markdown":"You can deserialize directly to a list by using the TypeReference wrapper.\r\n\r\n\r\n    @Data\r\n    public class Provider {\r\n        private Long id;\r\n        private String name;\r\n        private String url;\r\n        private boolean active;\r\n    }\r\n\r\n    @Data\r\n    public class ProviderList {\r\n        List&lt;Provider&gt; providerList;\r\n    }\r\n\r\n    public class JsonTest {\r\n    \r\n        @Test\r\n        public void  test() {\r\n            String json = &quot;[{\\n&quot; +\r\n                    &quot;        \\&quot;id\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;name\\&quot;: \\&quot;some name\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;url\\&quot;: \\&quot;some url\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;active\\&quot;: true\\n&quot; +\r\n                    &quot;    }, {\\n&quot; +\r\n                    &quot;        \\&quot;id\\&quot;: \\&quot;2\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;name\\&quot;: \\&quot;some other name\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;url\\&quot;: \\&quot;some other url\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;active\\&quot;: true\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;]&quot;;\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            try {\r\n                List&lt;Provider&gt; providerList = mapper.readValue(json, new TypeReference&lt;List&lt;Provider&gt;&gt;(){});\r\n                for (Provider provider : providerList) {\r\n                    System.out.println(provider);\r\n                }\r\n    \r\n                ProviderList list = new ProviderList();\r\n                list.setProviderList(providerList);\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"deserialize a json array into a java object holding list","body":"<p>You can deserialize directly to a list by using the TypeReference wrapper.</p>\n\n<pre><code>@Data\npublic class Provider {\n    private Long id;\n    private String name;\n    private String url;\n    private boolean active;\n}\n\n@Data\npublic class ProviderList {\n    List&lt;Provider&gt; providerList;\n}\n\npublic class JsonTest {\n\n    @Test\n    public void  test() {\n        String json = \"[{\\n\" +\n                \"        \\\"id\\\": \\\"1\\\",\\n\" +\n                \"        \\\"name\\\": \\\"some name\\\",\\n\" +\n                \"        \\\"url\\\": \\\"some url\\\",\\n\" +\n                \"        \\\"active\\\": true\\n\" +\n                \"    }, {\\n\" +\n                \"        \\\"id\\\": \\\"2\\\",\\n\" +\n                \"        \\\"name\\\": \\\"some other name\\\",\\n\" +\n                \"        \\\"url\\\": \\\"some other url\\\",\\n\" +\n                \"        \\\"active\\\": true\\n\" +\n                \"    }\\n\" +\n                \"]\";\n\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            List&lt;Provider&gt; providerList = mapper.readValue(json, new TypeReference&lt;List&lt;Provider&gt;&gt;(){});\n            for (Provider provider : providerList) {\n                System.out.println(provider);\n            }\n\n            ProviderList list = new ProviderList();\n            list.setProviderList(providerList);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4381293,"reputation":210,"user_id":3572878,"accept_rate":50,"display_name":"SwissArmyKnife"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3622,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":43779917,"answer_count":1,"score":-1,"last_activity_date":1648976215,"creation_date":1493891277,"question_id":43779425,"body_markdown":"I&#39;m getting a json array holding objects looking like this:\r\n\r\n```\r\n[\r\n    {\r\n\t\t&quot;id&quot;: &quot;1&quot;,\r\n\t\t&quot;name&quot;: &quot;some name&quot;,\r\n\t\t&quot;url&quot;: &quot;some url&quot;,\r\n\t\t&quot;active&quot;: true\r\n\t}, {\r\n\t\t&quot;id&quot;: &quot;2&quot;,\r\n\t\t&quot;name&quot;: &quot;some other name&quot;,\r\n\t\t&quot;url&quot;: &quot;some other url&quot;,\r\n\t\t&quot;active&quot;: true\r\n\t}\r\n]\r\n```\r\n\r\nNow, I want to be able to deserialize that array into a java object holding a list of the objects in the array. I have made a custom deserializer looking like this:\r\n\r\n```\r\npublic class ListSerializer extends JsonDeserializer&lt;List&lt;Provider&gt;&gt;{\r\n\r\n    private static final long serialVersionUID = 9114152571639338391L;\r\n\r\n    @Override\r\n    public List&lt;Provider&gt; deserialize(JsonParser jsonParser, \r\n    DeserializationContext arg1) throws IOException, JsonProcessingException {\r\n    // TODO Auto-generated method stub\r\n    final ObjectCodec objectCodec = jsonParser.getCodec();\r\n    final JsonNode listOrObjectNode = objectCodec.readTree(jsonParser);\r\n    final List&lt;Provider&gt; result = new ArrayList&lt;Provider&gt;();\r\n    for (JsonNode node : listOrObjectNode) {\r\n      result.add(objectCodec.treeToValue(node, Provider.class));\r\n    }\r\n      return result;\r\n    }\r\n}\r\n```\r\n\r\nAnd the class holding the list looks like this:\r\n\r\n```\r\npublic class ProviderList {\r\n\r\n    @JsonDeserialize(using = ListSerializer.class)\r\n    private List&lt;Provider&gt; providerList;\r\n\r\n     public List&lt;Provider&gt; getProviderList() {\r\n      return providerList;\r\n    }\r\n\r\n    public void setProviderList(final List&lt;Provider&gt; providerList) {\r\n      this.providerList = providerList;\r\n     }\r\n}\r\n```\r\n\r\nI am obviously doing something wrong, because I&#39;m getting this error:\r\n\r\n&gt; Can not deserialize instance of\r\n&gt; com.wirelesscar.trailser.v1_0.domain.ProviderList out of START_ARRAY\r\n&gt; token  at [Source:\r\n&gt; [{&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;Posttrack&quot;,&quot;url&quot;:&quot;http:\\dev.posttrack.com&quot;,&quot;active&quot;:true},{&quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;Trackunit&quot;,&quot;url&quot;:&quot;http:\\dev.trackunit.com&quot;,&quot;active&quot;:true}];\r\n&gt; line: 1, column: 1]\r\n\r\nHow can I do this properly?","title":"deserialize a json array into a java object holding list","body":"<p>I'm getting a json array holding objects looking like this:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;1&quot;,\n        &quot;name&quot;: &quot;some name&quot;,\n        &quot;url&quot;: &quot;some url&quot;,\n        &quot;active&quot;: true\n    }, {\n        &quot;id&quot;: &quot;2&quot;,\n        &quot;name&quot;: &quot;some other name&quot;,\n        &quot;url&quot;: &quot;some other url&quot;,\n        &quot;active&quot;: true\n    }\n]\n</code></pre>\n<p>Now, I want to be able to deserialize that array into a java object holding a list of the objects in the array. I have made a custom deserializer looking like this:</p>\n<pre><code>public class ListSerializer extends JsonDeserializer&lt;List&lt;Provider&gt;&gt;{\n\n    private static final long serialVersionUID = 9114152571639338391L;\n\n    @Override\n    public List&lt;Provider&gt; deserialize(JsonParser jsonParser, \n    DeserializationContext arg1) throws IOException, JsonProcessingException {\n    // TODO Auto-generated method stub\n    final ObjectCodec objectCodec = jsonParser.getCodec();\n    final JsonNode listOrObjectNode = objectCodec.readTree(jsonParser);\n    final List&lt;Provider&gt; result = new ArrayList&lt;Provider&gt;();\n    for (JsonNode node : listOrObjectNode) {\n      result.add(objectCodec.treeToValue(node, Provider.class));\n    }\n      return result;\n    }\n}\n</code></pre>\n<p>And the class holding the list looks like this:</p>\n<pre><code>public class ProviderList {\n\n    @JsonDeserialize(using = ListSerializer.class)\n    private List&lt;Provider&gt; providerList;\n\n     public List&lt;Provider&gt; getProviderList() {\n      return providerList;\n    }\n\n    public void setProviderList(final List&lt;Provider&gt; providerList) {\n      this.providerList = providerList;\n     }\n}\n</code></pre>\n<p>I am obviously doing something wrong, because I'm getting this error:</p>\n<blockquote>\n<p>Can not deserialize instance of\ncom.wirelesscar.trailser.v1_0.domain.ProviderList out of START_ARRAY\ntoken  at [Source:\n[{&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;Posttrack&quot;,&quot;url&quot;:&quot;http:\\dev.posttrack.com&quot;,&quot;active&quot;:true},{&quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;Trackunit&quot;,&quot;url&quot;:&quot;http:\\dev.trackunit.com&quot;,&quot;active&quot;:true}];\nline: 1, column: 1]</p>\n</blockquote>\n<p>How can I do this properly?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1648835422,"post_id":71710841,"comment_id":126733638,"body_markdown":"this is probably going to get closed as some sort of duplicate, but do research on [DialogFragment](https://developer.android.com/guide/fragments/dialogs), i think that&#39;s what you&#39;re essentially trying to achieve","body":"this is probably going to get closed as some sort of duplicate, but do research on <a href=\"https://developer.android.com/guide/fragments/dialogs\" rel=\"nofollow noreferrer\">DialogFragment</a>, i think that&#39;s what you&#39;re essentially trying to achieve"}],"answers":[{"tags":[],"owner":{"account_id":21983218,"reputation":84,"user_id":16257893,"display_name":"Harshit Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648884692,"creation_date":1648884692,"answer_id":71715653,"question_id":71710841,"body_markdown":"      AlertDialog alertDialog1 = new AlertDialog.Builder(\r\n                    getActivity()).create();\r\n\r\n            alertDialog1.setTitle(&quot;Alert Dialog&quot;);\r\n            alertDialog1.setMessage(&quot;this is alert dialog box&quot;);\r\n            alertDialog1.setIcon(R.drawable.tick);\r\n            alertDialog1.setButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    Toast.makeText(getContext(),\r\n                            &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n            alertDialog1.show();\r\n","title":"Show alert dialog on onCreateView() of fragment","body":"<pre><code>  AlertDialog alertDialog1 = new AlertDialog.Builder(\n                getActivity()).create();\n\n        alertDialog1.setTitle(&quot;Alert Dialog&quot;);\n        alertDialog1.setMessage(&quot;this is alert dialog box&quot;);\n        alertDialog1.setIcon(R.drawable.tick);\n        alertDialog1.setButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int which) {\n                Toast.makeText(getContext(),\n                        &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        alertDialog1.show();\n</code></pre>\n"}],"owner":{"account_id":24785415,"reputation":3,"user_id":18668690,"display_name":"user18668690"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648975843,"creation_date":1648834647,"question_id":71710841,"body_markdown":"I&#39;m new to android development. From my activity.java file, I am checking if create_task menu item is clicked. If it is clicked, i want to show a pop up screen create_task(layout in xml).\r\n\r\nactivity.java\r\n\r\n```\r\ncase R.id.create_task:\r\nCreateTaskFragment createTaskFragment = new CreateTaskFragment();\r\n                FragmentTransaction createTaskft = getSupportFragmentManager().beginTransaction();\r\n                createTaskft.replace(R.id.flContent, createTaskFragment);\r\n                createTaskft.commit(); \r\n```\r\n\r\nCreateTaskFragment.java\r\n\r\n```\r\npublic class CreateTaskFragment extends Fragment {\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.create_task, container, false);\r\n        AlertDialog newTaskdialog = new AlertDialog.Builder(getContext())\r\n                .setView(view)\r\n                .create();\r\n        newTaskdialog.show();\r\n        newTaskdialog.setCanceledOnTouchOutside(true);\r\n        return view;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI get this error when i run it currently:\r\n\r\n&gt; The specified child already has a parent. You must call removeView()\r\n&gt; on the child&#39;s parent first.","title":"Show alert dialog on onCreateView() of fragment","body":"<p>I'm new to android development. From my activity.java file, I am checking if create_task menu item is clicked. If it is clicked, i want to show a pop up screen create_task(layout in xml).</p>\n<p>activity.java</p>\n<pre><code>case R.id.create_task:\nCreateTaskFragment createTaskFragment = new CreateTaskFragment();\n                FragmentTransaction createTaskft = getSupportFragmentManager().beginTransaction();\n                createTaskft.replace(R.id.flContent, createTaskFragment);\n                createTaskft.commit(); \n</code></pre>\n<p>CreateTaskFragment.java</p>\n<pre><code>public class CreateTaskFragment extends Fragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.create_task, container, false);\n        AlertDialog newTaskdialog = new AlertDialog.Builder(getContext())\n                .setView(view)\n                .create();\n        newTaskdialog.show();\n        newTaskdialog.setCanceledOnTouchOutside(true);\n        return view;\n    }\n\n}\n</code></pre>\n<p>I get this error when i run it currently:</p>\n<blockquote>\n<p>The specified child already has a parent. You must call removeView()\non the child's parent first.</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":3,"creation_date":1648970588,"post_id":71723803,"comment_id":126754110,"body_markdown":"Why should it give an error? A Java class is just a class and doesn&#39;t care in what folder is in.","body":"Why should it give an error? A Java class is just a class and doesn&#39;t care in what folder is in."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1648970738,"post_id":71723803,"comment_id":126754132,"body_markdown":"A class without a package declaration is in the default package. That means it is rooted in `/Project/src/Test`, instead of in `/Project/src` like when it has a `package Test` statement.","body":"A class without a package declaration is in the default package. That means it is rooted in <code>&#47;Project&#47;src&#47;Test</code>, instead of in <code>&#47;Project&#47;src</code> like when it has a <code>package Test</code> statement."},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1648970833,"post_id":71723803,"comment_id":126754144,"body_markdown":"I can explicitly mark sources root, and most commonly `src` is marked.","body":"I can explicitly mark sources root, and most commonly <code>src</code> is marked."},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1648970903,"post_id":71723803,"comment_id":126754156,"body_markdown":"@Tom Well I can&#39;t argue on that, but most of the IDE&#39;s and linting tools classify this as a smell.","body":"@Tom Well I can&#39;t argue on that, but most of the IDE&#39;s and linting tools classify this as a smell."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1648970961,"post_id":71723803,"comment_id":126754166,"body_markdown":"They can apply their own stricter rules, but you ask about the core Java rules.","body":"They can apply their own stricter rules, but you ask about the core Java rules."},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1648971126,"post_id":71723803,"comment_id":126754199,"body_markdown":"@Tom Hmm, I think you gave a pretty valid reason for this not classifying as a compile-time error, feel free to add it as an answer.","body":"@Tom Hmm, I think you gave a pretty valid reason for this not classifying as a compile-time error, feel free to add it as an answer."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1648971708,"post_id":71723803,"comment_id":126754298,"body_markdown":"As @Tom said: how could `javac` possibly know that you wanted `Class1` to be in a package?","body":"As @Tom said: how could <code>javac</code> possibly know that you wanted <code>Class1</code> to be in a package?"}],"answers":[{"tags":[],"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648974574,"creation_date":1648974574,"answer_id":71724220,"question_id":71723803,"body_markdown":"Answering this with the suggestions from the comments to get it out of the unanswered questions queue:\r\n\r\n`javac` can&#39;t know that you want `Class1` to be in a package if you compile it with\r\n\r\n    /Project/src/Test $ javac Class1.java\r\n\r\nBut Intellij will sure argue about that, given the folder structure you gave.","title":"Why a missing package statement does not give a compile time error in java?","body":"<p>Answering this with the suggestions from the comments to get it out of the unanswered questions queue:</p>\n<p><code>javac</code> can't know that you want <code>Class1</code> to be in a package if you compile it with</p>\n<pre><code>/Project/src/Test $ javac Class1.java\n</code></pre>\n<p>But Intellij will sure argue about that, given the folder structure you gave.</p>\n"}],"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71724220,"answer_count":1,"score":0,"last_activity_date":1648974574,"creation_date":1648970442,"question_id":71723803,"body_markdown":"I have been coding in java for about a year now and I discovered something strange. Consider the following project structure-\r\n```\r\nProject\r\n|\r\n|--src\r\n   |\r\n   |--Test\r\n      |\r\n      |--Class1.java  \r\n```\r\n`Class1.java`\r\n```java\r\npublic class Class1 {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Woah no package statement!&quot;);\r\n    }\r\n}\r\n```\r\nAs you can see `Class1` has no package statement and Intellij actually gives an error -&lt;br&gt;\r\n`Missing package statement: &#39;Class1&#39;`\r\n\r\nI can compile and execute the main method through the command line as follows-\r\n```bash\r\n/Project/src/Test $ javac Class1.java\r\n\r\n/Project/src/Test $ java Class1\r\nWoah no package statement!\r\n```\r\nNow I know that when I try to run it through sources root, I will get an exception-\r\n```bash\r\n/Project/src $ javac Test/Class1.java\r\n\r\n/Project/src $ java Test.Class1\r\nError: Could not find or load main class Test.Class1\r\nCaused by: java.lang.NoClassDefFoundError: Class1 (wrong name: Test/Class1)\r\n```\r\n\r\nNow I want to know the reason behind having such a design, why doesn&#39;t java straight away give a compile-time error if the package statement is missing **and** the class is not present in the default package.\r\n\r\nIs there any use case for such type of design?","title":"Why a missing package statement does not give a compile time error in java?","body":"<p>I have been coding in java for about a year now and I discovered something strange. Consider the following project structure-</p>\n<pre><code>Project\n|\n|--src\n   |\n   |--Test\n      |\n      |--Class1.java  \n</code></pre>\n<p><code>Class1.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Class1 {\n    public static void main(String[] args) {\n        System.out.println(&quot;Woah no package statement!&quot;);\n    }\n}\n</code></pre>\n<p>As you can see <code>Class1</code> has no package statement and Intellij actually gives an error -<br>\n<code>Missing package statement: 'Class1'</code></p>\n<p>I can compile and execute the main method through the command line as follows-</p>\n<pre class=\"lang-sh prettyprint-override\"><code>/Project/src/Test $ javac Class1.java\n\n/Project/src/Test $ java Class1\nWoah no package statement!\n</code></pre>\n<p>Now I know that when I try to run it through sources root, I will get an exception-</p>\n<pre class=\"lang-sh prettyprint-override\"><code>/Project/src $ javac Test/Class1.java\n\n/Project/src $ java Test.Class1\nError: Could not find or load main class Test.Class1\nCaused by: java.lang.NoClassDefFoundError: Class1 (wrong name: Test/Class1)\n</code></pre>\n<p>Now I want to know the reason behind having such a design, why doesn't java straight away give a compile-time error if the package statement is missing <strong>and</strong> the class is not present in the default package.</p>\n<p>Is there any use case for such type of design?</p>\n"},{"tags":["java","spring","spring-boot","microservices"],"comments":[{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1648764368,"post_id":71699573,"comment_id":126714530,"body_markdown":"Sorry I can&#39;t say without seeing the whole project. But I think there is a little bit a problem, that you maybe forget adding this, you should add following code before SecurityContextHolder\nauthentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));","body":"Sorry I can&#39;t say without seeing the whole project. But I think there is a little bit a problem, that you maybe forget adding this, you should add following code before SecurityContextHolder authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));"},{"owner":{"account_id":20085530,"reputation":161,"user_id":14727166,"display_name":"Velat Necmettin Kanat"},"score":0,"creation_date":1648764949,"post_id":71699573,"comment_id":126714654,"body_markdown":"Thank you for your help but unfortunately it didn&#39;t work","body":"Thank you for your help but unfortunately it didn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":20085530,"reputation":161,"user_id":14727166,"display_name":"Velat Necmettin Kanat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648974326,"creation_date":1648765086,"answer_id":71699734,"question_id":71699573,"body_markdown":"I solved the issue. That is my mistake. I forgot to return ResponseEntity as the response. After returning ResponseEntity, the problem is solved... ","title":"Spring boot gives 404 status although request comes into endpoint","body":"<p>I solved the issue. That is my mistake. I forgot to return ResponseEntity as the response. After returning ResponseEntity, the problem is solved...</p>\n"}],"owner":{"account_id":20085530,"reputation":161,"user_id":14727166,"display_name":"Velat Necmettin Kanat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71699734,"answer_count":1,"score":0,"last_activity_date":1648974326,"creation_date":1648763826,"question_id":71699573,"body_markdown":"I created a microservice project that consist of a few services. In one of these services, I added an HTTP Filter to get user id in the request header that comes from API gateway. But after adding this filter, the application gives 404 not found error. But whenever I put a breakpoint to the target endpoint, I can see the request comes sucessfully but gives 404-not found.\r\n\r\nFor 2 days, I&#39;ve tried to find a solution but nothing did work. Do you have any idea why this eror occures?\r\n\r\nMy web security config\r\n\r\n```\r\n@Configuration\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private HttpFilter httpFilter;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.addFilterBefore(httpFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n}\r\n```\r\n\r\nHttpFilter class\r\n\r\n```\r\n\r\n@Component\r\npublic class HttpFilter extends OncePerRequestFilter {\r\n\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String userId = request.getHeader(&quot;x-auth-user-id&quot;);\r\n        if(userId !=null){\r\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n                    userId,null,null\r\n            );\r\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n        }\r\n        filterChain.doFilter(request,response);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nLOGS\r\n\r\n    2022-04-01 00:39:49.734 DEBUG 6384 --- [nio-8080-exec-2] o.a.t.util.http.Rfc6265CookieProcessor   : Cookies: Parsing b[]: JSESSIONID=F04A8A4650623E59586BA5D0B3AFFB78\r\n    2022-04-01 00:39:49.734 DEBUG 6384 --- [nio-8080-exec-2] o.a.catalina.connector.CoyoteAdapter     :  Requested cookie session id is F04A8A4650623E59586BA5D0B3AFFB78\r\n    2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Security checking request GET /api/message/getAll\r\n    2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] org.apache.catalina.realm.RealmBase      :   No applicable constraints defined\r\n    2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Not subject to any constraint\r\n    2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/message/getAll\r\n    2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\r\n    2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\r\n    2022-04-01 00:39:49.736 DEBUG 6384 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/message/getAll] with attributes [permitAll]\r\n    2022-04-01 00:39:49.736 DEBUG 6384 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/message/getAll\r\n    2022-04-01 00:39:49.737 DEBUG 6384 --- [nio-8080-exec-2] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\r\n    2022-04-01 00:39:49.737 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/message/getAll&quot;, parameters={}\r\n    2022-04-01 00:39:49.737 DEBUG 6384 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.speakiv.socialservice.api.MessageApi#getAll()\r\n    2022-04-01 00:39:49.737 DEBUG 6384 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    2022-04-01 00:39:49.738 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(494638892&lt;open&gt;)] for JPA transaction\r\n    2022-04-01 00:39:49.739 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly\r\n    2022-04-01 00:39:49.747 DEBUG 6384 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1484327655 wrapping com.mysql.cj.jdbc.ConnectionImpl@47fa3671] read-only\r\n    2022-04-01 00:39:49.751 DEBUG 6384 --- [nio-8080-exec-2] o.h.e.t.internal.TransactionImpl         : On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\r\n    2022-04-01 00:39:49.751 DEBUG 6384 --- [nio-8080-exec-2] o.h.e.t.internal.TransactionImpl         : begin\r\n    2022-04-01 00:39:49.753 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@50106ca8]\r\n    2022-04-01 00:39:49.753 DEBUG 6384 --- [nio-8080-exec-2] o.h.q.c.internal.CriteriaQueryImpl       : Rendered criteria query -&gt; select generatedAlias0 from UserMessage as generatedAlias0\r\n    2022-04-01 00:39:49.754 DEBUG 6384 --- [nio-8080-exec-2] org.hibernate.SQL                        : select usermessag0_.id as id1_5_, usermessag0_.date as date2_5_, usermessag0_.message as message3_5_, usermessag0_.receiver_id as receiver4_5_, usermessag0_.sender_id as sender_i5_5_ from user_messages usermessag0_\r\n    2022-04-01 00:39:49.760 DEBUG 6384 --- [nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 0\r\n    2022-04-01 00:39:49.760 DEBUG 6384 --- [nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: EntityKey[com.speakiv.socialservice.model.entity.UserMessage#1]\r\n    2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Resolving attributes for [com.speakiv.socialservice.model.entity.UserMessage#1]\r\n    2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `date` : value = 2022-03-28 13:46:10.319\r\n    2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Attribute (`date`)  - enhanced for lazy-loading? - false\r\n    2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `message` : value = Hello world\r\n    2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Attribute (`message`)  - enhanced for lazy-loading? - false\r\n    2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `receiverId` : value = 1\r\n    2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Attribute (`receiverId`)  - enhanced for lazy-loading? - false\r\n    2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `senderId` : value = 1\r\n    2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Attribute (`senderId`)  - enhanced for lazy-loading? - false\r\n    2022-04-01 00:39:49.766 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [com.speakiv.socialservice.model.entity.UserMessage#1]\r\n    2022-04-01 00:39:49.766 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Resolving attributes for [com.speakiv.socialservice.model.entity.UserMessage#2]\r\n    2022-04-01 00:39:49.766 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `date` : value = 2022-03-28 13:46:25.956\r\n    2022-04-01 00:39:49.769 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [com.speakiv.socialservice.model.entity.UserMessage#13]\r\n    2022-04-01 00:39:49.769 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit\r\n    2022-04-01 00:39:49.769 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(494638892&lt;open&gt;)]\r\n    2022-04-01 00:39:49.769 DEBUG 6384 --- [nio-8080-exec-2] o.h.e.t.internal.TransactionImpl         : committing\r\n    2022-04-01 00:39:49.777 DEBUG 6384 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1484327655 wrapping com.mysql.cj.jdbc.ConnectionImpl@47fa3671]\r\n    2022-04-01 00:39:49.780 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction\r\n    2022-04-01 00:39:49.781 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;*/*&#39; given [*/*]\r\n    2022-04-01 00:39:49.781 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : View name &#39;api/message/getAll&#39;, model {dataResponse=com.speakiv.speakivcore.model.response.SuccessDataResponse@3d2c9c93, org.springframework.validation.BindingResult.dataResponse=org.springframework.validation.BeanPropertyBindingResult: 0 errors}\r\n    2022-04-01 00:39:49.781 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [api/message/getAll]\r\n    2022-04-01 00:39:49.782 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : &quot;FORWARD&quot; dispatch for GET &quot;/api/message/api/message/getAll&quot;, parameters={}\r\n    2022-04-01 00:39:49.782 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/], Classpath [resources/], Classpath [static/], Classpath [public/], ServletContext [/]]\r\n    2022-04-01 00:39:49.787 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n    2022-04-01 00:39:49.787 DEBUG 6384 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@11a677b0]\r\n    2022-04-01 00:39:49.787 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;FORWARD&quot; dispatch, status 404\r\n    2022-04-01 00:39:49.788 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\r\n    2022-04-01 00:39:49.788 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  The Response is vehiculed using a wrapper: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterResponse\r\n    2022-04-01 00:39:49.789 DEBUG 6384 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    2022-04-01 00:39:49.789 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n    2022-04-01 00:39:49.790 DEBUG 6384 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@11a677b0]\r\n    2022-04-01 00:39:49.790 DEBUG 6384 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n    2022-04-01 00:39:49.790 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\r\n    2022-04-01 00:39:49.791 DEBUG 6384 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n    2022-04-01 00:39:49.792 DEBUG 6384 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\r\n    2022-04-01 00:39:49.792 DEBUG 6384 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\r\n    2022-04-01 00:39:49.792 DEBUG 6384 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n    2022-04-01 00:39:49.793 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    2022-04-01 00:39:49.793 DEBUG 6384 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    2022-04-01 00:39:49.793 DEBUG 6384 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    2022-04-01 00:39:49.795 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\r\n    2022-04-01 00:39:49.795 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Apr 01 00:39:49 EET 2022, status=404, error=Not Found, path=/api/message/getAll}]\r\n    2022-04-01 00:39:49.796 DEBUG 6384 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    2022-04-01 00:39:49.797 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\r\n    2022-04-01 00:39:49.798 DEBUG 6384 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n    2022-04-01 00:39:49.798 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\r\n    2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] o.a.coyote.http11.Http11InputBuffer      : Before fill(): parsingHeader: [true], parsingRequestLine: [true], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [0], byteBuffer.limit(): [0], end: [678]\r\n    2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] o.a.tomcat.util.net.SocketWrapperBase    : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@2efc81a4:org.apache.tomcat.util.net.NioChannel@4fd730ea:java.nio.channels.SocketChannel[connected local=/192.168.1.110:8080 remote=/192.168.1.110:52685]], Read from buffer: [0]\r\n    2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] org.apache.tomcat.util.net.NioEndpoint   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@2efc81a4:org.apache.tomcat.util.net.NioChannel@4fd730ea:java.nio.channels.SocketChannel[connected local=/192.168.1.110:8080 remote=/192.168.1.110:52685]], Read direct from socket: [0]\r\n    2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] o.a.coyote.http11.Http11InputBuffer      : Received []\r\n    2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@2efc81a4:org.apache.tomcat.util.net.NioChannel@4fd730ea:java.nio.channels.SocketChannel[connected local=/192.168.1.110:8080 remote=/192.168.1.110:52685]], Status in: [OPEN_READ], State out: [OPEN]\r\n    2022-04-01 00:39:49.800 DEBUG 6384 --- [nio-8080-exec-2] org.apache.tomcat.util.net.NioEndpoint   : Registered read interest for [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@2efc81a4:org.apache.tomcat.util.net.NioChannel@4fd730ea:java.nio.channels.SocketChannel[connected local=/192.168.1.110:8080 remote=/192.168.1.110:52685]]\r\n\r\nAfter implementing WebSecurityConfigurerAdapter class, I&#39;ve faced this issue. But I tried to get current user id from request header and adding this user id in to SecurityContextHolder to access current user&#39;s id. Where am I wrong? do you have any idea?\r\n","title":"Spring boot gives 404 status although request comes into endpoint","body":"<p>I created a microservice project that consist of a few services. In one of these services, I added an HTTP Filter to get user id in the request header that comes from API gateway. But after adding this filter, the application gives 404 not found error. But whenever I put a breakpoint to the target endpoint, I can see the request comes sucessfully but gives 404-not found.</p>\n<p>For 2 days, I've tried to find a solution but nothing did work. Do you have any idea why this eror occures?</p>\n<p>My web security config</p>\n<pre><code>@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private HttpFilter httpFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.addFilterBefore(httpFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n}\n</code></pre>\n<p>HttpFilter class</p>\n<pre><code>\n@Component\npublic class HttpFilter extends OncePerRequestFilter {\n\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String userId = request.getHeader(&quot;x-auth-user-id&quot;);\n        if(userId !=null){\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n                    userId,null,null\n            );\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n        }\n        filterChain.doFilter(request,response);\n\n\n    }\n}\n</code></pre>\n<p>LOGS</p>\n<pre><code>2022-04-01 00:39:49.734 DEBUG 6384 --- [nio-8080-exec-2] o.a.t.util.http.Rfc6265CookieProcessor   : Cookies: Parsing b[]: JSESSIONID=F04A8A4650623E59586BA5D0B3AFFB78\n2022-04-01 00:39:49.734 DEBUG 6384 --- [nio-8080-exec-2] o.a.catalina.connector.CoyoteAdapter     :  Requested cookie session id is F04A8A4650623E59586BA5D0B3AFFB78\n2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Security checking request GET /api/message/getAll\n2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] org.apache.catalina.realm.RealmBase      :   No applicable constraints defined\n2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Not subject to any constraint\n2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/message/getAll\n2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\n2022-04-01 00:39:49.735 DEBUG 6384 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\n2022-04-01 00:39:49.736 DEBUG 6384 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/message/getAll] with attributes [permitAll]\n2022-04-01 00:39:49.736 DEBUG 6384 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/message/getAll\n2022-04-01 00:39:49.737 DEBUG 6384 --- [nio-8080-exec-2] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\n2022-04-01 00:39:49.737 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/message/getAll&quot;, parameters={}\n2022-04-01 00:39:49.737 DEBUG 6384 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.speakiv.socialservice.api.MessageApi#getAll()\n2022-04-01 00:39:49.737 DEBUG 6384 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n2022-04-01 00:39:49.738 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(494638892&lt;open&gt;)] for JPA transaction\n2022-04-01 00:39:49.739 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly\n2022-04-01 00:39:49.747 DEBUG 6384 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1484327655 wrapping com.mysql.cj.jdbc.ConnectionImpl@47fa3671] read-only\n2022-04-01 00:39:49.751 DEBUG 6384 --- [nio-8080-exec-2] o.h.e.t.internal.TransactionImpl         : On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\n2022-04-01 00:39:49.751 DEBUG 6384 --- [nio-8080-exec-2] o.h.e.t.internal.TransactionImpl         : begin\n2022-04-01 00:39:49.753 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@50106ca8]\n2022-04-01 00:39:49.753 DEBUG 6384 --- [nio-8080-exec-2] o.h.q.c.internal.CriteriaQueryImpl       : Rendered criteria query -&gt; select generatedAlias0 from UserMessage as generatedAlias0\n2022-04-01 00:39:49.754 DEBUG 6384 --- [nio-8080-exec-2] org.hibernate.SQL                        : select usermessag0_.id as id1_5_, usermessag0_.date as date2_5_, usermessag0_.message as message3_5_, usermessag0_.receiver_id as receiver4_5_, usermessag0_.sender_id as sender_i5_5_ from user_messages usermessag0_\n2022-04-01 00:39:49.760 DEBUG 6384 --- [nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 0\n2022-04-01 00:39:49.760 DEBUG 6384 --- [nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: EntityKey[com.speakiv.socialservice.model.entity.UserMessage#1]\n2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Resolving attributes for [com.speakiv.socialservice.model.entity.UserMessage#1]\n2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `date` : value = 2022-03-28 13:46:10.319\n2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Attribute (`date`)  - enhanced for lazy-loading? - false\n2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `message` : value = Hello world\n2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Attribute (`message`)  - enhanced for lazy-loading? - false\n2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `receiverId` : value = 1\n2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Attribute (`receiverId`)  - enhanced for lazy-loading? - false\n2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `senderId` : value = 1\n2022-04-01 00:39:49.765 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Attribute (`senderId`)  - enhanced for lazy-loading? - false\n2022-04-01 00:39:49.766 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [com.speakiv.socialservice.model.entity.UserMessage#1]\n2022-04-01 00:39:49.766 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Resolving attributes for [com.speakiv.socialservice.model.entity.UserMessage#2]\n2022-04-01 00:39:49.766 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Processing attribute `date` : value = 2022-03-28 13:46:25.956\n2022-04-01 00:39:49.769 DEBUG 6384 --- [nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [com.speakiv.socialservice.model.entity.UserMessage#13]\n2022-04-01 00:39:49.769 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit\n2022-04-01 00:39:49.769 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(494638892&lt;open&gt;)]\n2022-04-01 00:39:49.769 DEBUG 6384 --- [nio-8080-exec-2] o.h.e.t.internal.TransactionImpl         : committing\n2022-04-01 00:39:49.777 DEBUG 6384 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1484327655 wrapping com.mysql.cj.jdbc.ConnectionImpl@47fa3671]\n2022-04-01 00:39:49.780 DEBUG 6384 --- [nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction\n2022-04-01 00:39:49.781 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]\n2022-04-01 00:39:49.781 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : View name 'api/message/getAll', model {dataResponse=com.speakiv.speakivcore.model.response.SuccessDataResponse@3d2c9c93, org.springframework.validation.BindingResult.dataResponse=org.springframework.validation.BeanPropertyBindingResult: 0 errors}\n2022-04-01 00:39:49.781 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [api/message/getAll]\n2022-04-01 00:39:49.782 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : &quot;FORWARD&quot; dispatch for GET &quot;/api/message/api/message/getAll&quot;, parameters={}\n2022-04-01 00:39:49.782 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/], Classpath [resources/], Classpath [static/], Classpath [public/], ServletContext [/]]\n2022-04-01 00:39:49.787 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2022-04-01 00:39:49.787 DEBUG 6384 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@11a677b0]\n2022-04-01 00:39:49.787 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;FORWARD&quot; dispatch, status 404\n2022-04-01 00:39:49.788 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\n2022-04-01 00:39:49.788 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  The Response is vehiculed using a wrapper: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterResponse\n2022-04-01 00:39:49.789 DEBUG 6384 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n2022-04-01 00:39:49.789 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2022-04-01 00:39:49.790 DEBUG 6384 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@11a677b0]\n2022-04-01 00:39:49.790 DEBUG 6384 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-04-01 00:39:49.790 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\n2022-04-01 00:39:49.791 DEBUG 6384 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\n2022-04-01 00:39:49.792 DEBUG 6384 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\n2022-04-01 00:39:49.792 DEBUG 6384 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\n2022-04-01 00:39:49.792 DEBUG 6384 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\n2022-04-01 00:39:49.793 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2022-04-01 00:39:49.793 DEBUG 6384 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2022-04-01 00:39:49.793 DEBUG 6384 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n2022-04-01 00:39:49.795 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\n2022-04-01 00:39:49.795 DEBUG 6384 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Apr 01 00:39:49 EET 2022, status=404, error=Not Found, path=/api/message/getAll}]\n2022-04-01 00:39:49.796 DEBUG 6384 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n2022-04-01 00:39:49.797 DEBUG 6384 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\n2022-04-01 00:39:49.798 DEBUG 6384 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-04-01 00:39:49.798 DEBUG 6384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\n2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] o.a.coyote.http11.Http11InputBuffer      : Before fill(): parsingHeader: [true], parsingRequestLine: [true], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [0], byteBuffer.limit(): [0], end: [678]\n2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] o.a.tomcat.util.net.SocketWrapperBase    : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@2efc81a4:org.apache.tomcat.util.net.NioChannel@4fd730ea:java.nio.channels.SocketChannel[connected local=/192.168.1.110:8080 remote=/192.168.1.110:52685]], Read from buffer: [0]\n2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] org.apache.tomcat.util.net.NioEndpoint   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@2efc81a4:org.apache.tomcat.util.net.NioChannel@4fd730ea:java.nio.channels.SocketChannel[connected local=/192.168.1.110:8080 remote=/192.168.1.110:52685]], Read direct from socket: [0]\n2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] o.a.coyote.http11.Http11InputBuffer      : Received []\n2022-04-01 00:39:49.799 DEBUG 6384 --- [nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@2efc81a4:org.apache.tomcat.util.net.NioChannel@4fd730ea:java.nio.channels.SocketChannel[connected local=/192.168.1.110:8080 remote=/192.168.1.110:52685]], Status in: [OPEN_READ], State out: [OPEN]\n2022-04-01 00:39:49.800 DEBUG 6384 --- [nio-8080-exec-2] org.apache.tomcat.util.net.NioEndpoint   : Registered read interest for [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@2efc81a4:org.apache.tomcat.util.net.NioChannel@4fd730ea:java.nio.channels.SocketChannel[connected local=/192.168.1.110:8080 remote=/192.168.1.110:52685]]\n</code></pre>\n<p>After implementing WebSecurityConfigurerAdapter class, I've faced this issue. But I tried to get current user id from request header and adding this user id in to SecurityContextHolder to access current user's id. Where am I wrong? do you have any idea?</p>\n"},{"tags":["java","spring","spring-boot","spring-roo"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1648571615,"post_id":71665381,"comment_id":126656430,"body_markdown":"It is already known that Apple M1 have some problems with some specific tools (Docker for instance), So I would recommend posting this issue to the Spring Roo github. You may get better help there.","body":"It is already known that Apple M1 have some problems with some specific tools (Docker for instance), So I would recommend posting this issue to the Spring Roo github. You may get better help there."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1648571733,"post_id":71665381,"comment_id":126656469,"body_markdown":"Looks like you are in bad luck. Spring Roo is being deprecated? https://github.com/spring-attic/spring-roo","body":"Looks like you are in bad luck. Spring Roo is being deprecated? <a href=\"https://github.com/spring-attic/spring-roo\" rel=\"nofollow noreferrer\">github.com/spring-attic/spring-roo</a>"},{"owner":{"account_id":1773188,"reputation":2439,"user_id":1617550,"accept_rate":50,"display_name":"mwarren"},"score":0,"creation_date":1648572096,"post_id":71665381,"comment_id":126656595,"body_markdown":"Yes, it&#39;s no longer supported","body":"Yes, it&#39;s no longer supported"},{"owner":{"account_id":2773648,"reputation":1167,"user_id":2387708,"accept_rate":79,"display_name":"Spartan"},"score":0,"creation_date":1648586181,"post_id":71665381,"comment_id":126661051,"body_markdown":"It&#39;s a good project for scaffolding and it&#39;s very sad that it&#39;s deprecated, jhipster took it&#39;s place","body":"It&#39;s a good project for scaffolding and it&#39;s very sad that it&#39;s deprecated, jhipster took it&#39;s place"}],"answers":[{"tags":[],"owner":{"account_id":1773188,"reputation":2439,"user_id":1617550,"accept_rate":50,"display_name":"mwarren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648974099,"creation_date":1648740401,"answer_id":71695256,"question_id":71665381,"body_markdown":"Unfortunately there&#39;s only one possible answer to this question since roo is no longer going to be supported.\r\n\r\nThe roo project from the very beginning was conceived to allow you to remove it, along with all the aspectj .aj files, leaving you with normal, working .java files. Which is really neat, like the whole project was.\r\n\r\nJust right click the project (cleaning it first if you get any error messages) choose Refactor &gt; Push In.. and confirm. \r\n\r\nWhich leaves me with perfectly working code, so I&#39;m happy.\r\n\r\nThanks to the guys who conceived and worked on Spring Roo, it was brilliant. It made Hibernate so easy, and the user interface was world class.","title":"Spring roo won&#39;t work on Apple M1 with Java 11","body":"<p>Unfortunately there's only one possible answer to this question since roo is no longer going to be supported.</p>\n<p>The roo project from the very beginning was conceived to allow you to remove it, along with all the aspectj .aj files, leaving you with normal, working .java files. Which is really neat, like the whole project was.</p>\n<p>Just right click the project (cleaning it first if you get any error messages) choose Refactor &gt; Push In.. and confirm.</p>\n<p>Which leaves me with perfectly working code, so I'm happy.</p>\n<p>Thanks to the guys who conceived and worked on Spring Roo, it was brilliant. It made Hibernate so easy, and the user interface was world class.</p>\n"}],"owner":{"account_id":1773188,"reputation":2439,"user_id":1617550,"accept_rate":50,"display_name":"mwarren"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71695256,"answer_count":1,"score":0,"last_activity_date":1648974099,"creation_date":1648569966,"question_id":71665381,"body_markdown":"I have a nice new Apple M1 machine.\r\nI was quite happy to toddle along with Java 8, but Eclipse wanted Java 11 so I have updated to Java 11. \r\n\r\nThe problem with **Spring roo** originated in **Eclipse SpringToolSuite4**, where I tried and failed to start the roo shell. However I&#39;ve since worked out that the problem is not in the SpringToolSuite installation, but with roo itself.\r\n\r\nI would be perfectly happy to work with roo outside of Eclipse/STS.\r\nSo I tried launching `./roo.sh` from the command line, and I got a massive trail of errors, some of which I include here below.\r\n\r\nAnybody got any ideas on what&#39;s happening? Launching Spring roo from the shell continues to work perfectly normally on my old mac.\r\n\r\nThis happens both with `spring-roo-1.3.2.RC1` and with `spring-roo-2.0.0.M1`. \r\n\r\nLooking at the default.properties in the felix .jar provided with roo I notice that `arm` processors don&#39;t have an alias, could that mean anything?\r\n\r\n    # Native Processor Aliases.  Format is felix.native.processor.alias.&lt;normalized Processor Name&gt;=alias1,alias2\r\n    felix.native.processor.alias.68k=\r\n    felix.native.processor.alias.arm=\r\n    felix.native.processor.alias.arm_le=\r\n    felix.native.processor.alias.arm_be=\r\n    felix.native.processor.alias.alpha=\r\n    felix.native.processor.alias.ignite=psc1k\r\n    felix.native.processor.alias.mips=\r\n    felix.native.processor.alias.parisc=\r\n    felix.native.processor.alias.powerpc=power,ppc\r\n    felix.native.processor.alias.x86=pentium,i386,i486,i586,i686\r\n    felix.native.processor.alias.x86-64=amd64,em64t,x86_64\r\n    felix.native.processor.alias.sparc=\r\n\r\n\r\nThe errors all seem to pass through Felix at this line:\r\n\r\n    org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\r\n\r\n&gt; malcolm@MacBook-Pro-2 bin % ./roo.sh WARNING: An illegal reflective\r\n&gt; access operation has occurred WARNING: Illegal reflective access by\r\n&gt; org.apache.felix.framework.util.SecureAction\r\n&gt; (file:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bin/org.apache.felix.framework-4.4.1.jar)\r\n&gt; to method java.net.URLClassLoader.addURL(java.net.URL) WARNING: Please\r\n&gt; consider reporting this to the maintainers of\r\n&gt; org.apache.felix.framework.util.SecureAction WARNING: Use\r\n&gt; --illegal-access=warn to enable warnings of further illegal reflective access operations WARNING: All illegal access operations will be\r\n&gt; denied in a future release **ERROR**: Bundle\r\n&gt; com.github.antlrjavaparser.antlr-java-parser [3] Error starting\r\n&gt; file:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bundle/antlr-java-parser-1.0.15.jar\r\n&gt; (org.osgi.framework.BundleException: Unresolved constraint in bundle\r\n&gt; com.github.antlrjavaparser.antlr-java-parser [3]: Unable to resolve\r\n&gt; 3.0: missing requirement [3.0] osgi.wiring.package; (osgi.wiring.package=org.antlr.v4.runtime) [caused by: Unable to\r\n&gt; resolve 78.0: missing requirement [78.0] osgi.wiring.package;\r\n&gt; (osgi.wiring.package=javax.annotation.processing)])\r\n&gt; org.osgi.framework.BundleException: Unresolved constraint in bundle\r\n&gt; com.github.antlrjavaparser.antlr-java-parser [3]: Unable to resolve\r\n&gt; 3.0: missing requirement [3.0] osgi.wiring.package; (osgi.wiring.package=org.antlr.v4.runtime) [caused by: Unable to\r\n&gt; resolve 78.0: missing requirement [78.0] osgi.wiring.package;\r\n&gt; (osgi.wiring.package=javax.annotation.processing)] \tat\r\n&gt; org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\r\n&gt; \tat org.apache.felix.framework.Felix.startBundle(Felix.java:2045) \tat\r\n&gt; org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1299)\r\n&gt; \tat\r\n&gt; org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829) ERROR: Bundle\r\n&gt; org.objectweb.asm.all [8] Error starting\r\n&gt; file:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bundle/asm-all-5.0.2.jar\r\n&gt; (org.osgi.framework.BundleException: Unresolved constraint in bundle\r\n&gt; org.objectweb.asm.all [8]: Unable to resolve 8.0: missing requirement\r\n&gt; [8.0] osgi.ee; (&amp;(osgi.ee=JavaSE)(version=1.3.0)))\r\n&gt; org.osgi.framework.BundleException: Unresolved constraint in bundle\r\n&gt; org.objectweb.asm.all [8]: Unable to resolve 8.0: missing requirement\r\n&gt; [8.0] osgi.ee; (&amp;(osgi.ee=JavaSE)(version=1.3.0)) \tat\r\n&gt; org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\r\n&gt; \tat org.apache.felix.framework.Felix.startBundle(Felix.java:2045) \tat\r\n&gt; org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1299)\r\n&gt; \tat\r\n&gt; org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829) ERROR: Bundle\r\n&gt; org.springframework.roo.addon.backup [22] Error starting\r\n&gt; file:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bundle/org.springframework.roo.addon.backup-1.3.2.RC1.jar\r\n&gt; (org.osgi.framework.BundleException: Unresolved constraint in bundle\r\n&gt; org.springframework.roo.addon.backup [22]: Unable to resolve 22.0:\r\n&gt; missing requirement [22.0] osgi.wiring.package;\r\n&gt; (&amp;(osgi.wiring.package=org.springframework.roo.process.manager)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\r\n&gt; [caused by: Unable to resolve 66.0: missing requirement [66.0]\r\n&gt; osgi.wiring.package;\r\n&gt; (&amp;(osgi.wiring.package=org.springframework.roo.file.monitor)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\r\n&gt; [caused by: Unable to resolve 60.0: missing requirement [60.0]\r\n&gt; osgi.wiring.package;\r\n&gt; (&amp;(osgi.wiring.package=org.springframework.roo.support.util)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\r\n&gt; [caused by: Unable to resolve 73.0: missing requirement [73.0]\r\n&gt; osgi.wiring.package; (osgi.wiring.package=javax.xml.namespace)]]])\r\n&gt; org.osgi.framework.BundleException: Unresolved constraint in bundle\r\n&gt; org.springframework.roo.addon.backup [22]: Unable to resolve 22.0:\r\n&gt; missing requirement [22.0] osgi.wiring.package;\r\n&gt; (&amp;(osgi.wiring.package=org.springframework.roo.process.manager)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\r\n&gt; [caused by: Unable to resolve 66.0: missing requirement [66.0]\r\n&gt; osgi.wiring.package;\r\n&gt; (&amp;(osgi.wiring.package=org.springframework.roo.file.monitor)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\r\n&gt; [caused by: Unable to resolve 60.0: missing requirement [60.0]\r\n&gt; osgi.wiring.package;\r\n&gt; (&amp;(osgi.wiring.package=org.springframework.roo.support.util)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\r\n&gt; [caused by: Unable to resolve 73.0: missing requirement [73.0]\r\n&gt; osgi.wiring.package; (osgi.wiring.package=javax.xml.namespace)]]] \tat\r\n&gt; org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\r\n&gt; \tat org.apache.felix.framework.Felix.startBundle(Felix.java:2045) \tat\r\n&gt; org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1299)\r\n&gt; \tat\r\n&gt; org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829) ERROR: Bundle\r\n&gt; org.springframework.roo.addon.cloud [23] Error starting\r\n&gt; file:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bundle/org.springframework.roo.addon.cloud-1.3.2.RC1.jar\r\n&gt; (org.osgi.framework.BundleException: Unresolved constraint in bundle\r\n&gt; org.springframework.roo.addon.cloud [23]: Unable to resolve 23.0:\r\n&gt; missing requirement [23.0] osgi.wiring.package;\r\n&gt; (osgi.wiring.package=javax.xml.parsers))\r\n&gt; org.osgi.framework.BundleException: Unresolved constraint in bundle\r\n&gt; org.springframework.roo.addon.cloud [23]: Unable to resolve 23.0:\r\n&gt; missing requirement [23.0] osgi.wiring.package;\r\n&gt; (osgi.wiring.package=javax.xml.parsers) \tat\r\n&gt; org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\r\n&gt; \tat org.apache.felix.framework.Felix.startBundle(Felix.java:2045) \tat\r\n&gt; org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1299)\r\n&gt; \tat\r\n&gt; org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\n\r\n","title":"Spring roo won&#39;t work on Apple M1 with Java 11","body":"<p>I have a nice new Apple M1 machine.\nI was quite happy to toddle along with Java 8, but Eclipse wanted Java 11 so I have updated to Java 11.</p>\n<p>The problem with <strong>Spring roo</strong> originated in <strong>Eclipse SpringToolSuite4</strong>, where I tried and failed to start the roo shell. However I've since worked out that the problem is not in the SpringToolSuite installation, but with roo itself.</p>\n<p>I would be perfectly happy to work with roo outside of Eclipse/STS.\nSo I tried launching <code>./roo.sh</code> from the command line, and I got a massive trail of errors, some of which I include here below.</p>\n<p>Anybody got any ideas on what's happening? Launching Spring roo from the shell continues to work perfectly normally on my old mac.</p>\n<p>This happens both with <code>spring-roo-1.3.2.RC1</code> and with <code>spring-roo-2.0.0.M1</code>.</p>\n<p>Looking at the default.properties in the felix .jar provided with roo I notice that <code>arm</code> processors don't have an alias, could that mean anything?</p>\n<pre><code># Native Processor Aliases.  Format is felix.native.processor.alias.&lt;normalized Processor Name&gt;=alias1,alias2\nfelix.native.processor.alias.68k=\nfelix.native.processor.alias.arm=\nfelix.native.processor.alias.arm_le=\nfelix.native.processor.alias.arm_be=\nfelix.native.processor.alias.alpha=\nfelix.native.processor.alias.ignite=psc1k\nfelix.native.processor.alias.mips=\nfelix.native.processor.alias.parisc=\nfelix.native.processor.alias.powerpc=power,ppc\nfelix.native.processor.alias.x86=pentium,i386,i486,i586,i686\nfelix.native.processor.alias.x86-64=amd64,em64t,x86_64\nfelix.native.processor.alias.sparc=\n</code></pre>\n<p>The errors all seem to pass through Felix at this line:</p>\n<pre><code>org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\n</code></pre>\n<blockquote>\n<p>malcolm@MacBook-Pro-2 bin % ./roo.sh WARNING: An illegal reflective\naccess operation has occurred WARNING: Illegal reflective access by\norg.apache.felix.framework.util.SecureAction\n(file:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bin/org.apache.felix.framework-4.4.1.jar)\nto method java.net.URLClassLoader.addURL(java.net.URL) WARNING: Please\nconsider reporting this to the maintainers of\norg.apache.felix.framework.util.SecureAction WARNING: Use\n--illegal-access=warn to enable warnings of further illegal reflective access operations WARNING: All illegal access operations will be\ndenied in a future release <strong>ERROR</strong>: Bundle\ncom.github.antlrjavaparser.antlr-java-parser [3] Error starting\nfile:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bundle/antlr-java-parser-1.0.15.jar\n(org.osgi.framework.BundleException: Unresolved constraint in bundle\ncom.github.antlrjavaparser.antlr-java-parser [3]: Unable to resolve\n3.0: missing requirement [3.0] osgi.wiring.package; (osgi.wiring.package=org.antlr.v4.runtime) [caused by: Unable to\nresolve 78.0: missing requirement [78.0] osgi.wiring.package;\n(osgi.wiring.package=javax.annotation.processing)])\norg.osgi.framework.BundleException: Unresolved constraint in bundle\ncom.github.antlrjavaparser.antlr-java-parser [3]: Unable to resolve\n3.0: missing requirement [3.0] osgi.wiring.package; (osgi.wiring.package=org.antlr.v4.runtime) [caused by: Unable to\nresolve 78.0: missing requirement [78.0] osgi.wiring.package;\n(osgi.wiring.package=javax.annotation.processing)]    at\norg.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\nat org.apache.felix.framework.Felix.startBundle(Felix.java:2045)    at\norg.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1299)\nat\norg.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)\nat java.base/java.lang.Thread.run(Thread.java:829) ERROR: Bundle\norg.objectweb.asm.all [8] Error starting\nfile:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bundle/asm-all-5.0.2.jar\n(org.osgi.framework.BundleException: Unresolved constraint in bundle\norg.objectweb.asm.all [8]: Unable to resolve 8.0: missing requirement\n[8.0] osgi.ee; (&amp;(osgi.ee=JavaSE)(version=1.3.0)))\norg.osgi.framework.BundleException: Unresolved constraint in bundle\norg.objectweb.asm.all [8]: Unable to resolve 8.0: missing requirement\n[8.0] osgi.ee; (&amp;(osgi.ee=JavaSE)(version=1.3.0))     at\norg.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\nat org.apache.felix.framework.Felix.startBundle(Felix.java:2045)    at\norg.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1299)\nat\norg.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)\nat java.base/java.lang.Thread.run(Thread.java:829) ERROR: Bundle\norg.springframework.roo.addon.backup [22] Error starting\nfile:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bundle/org.springframework.roo.addon.backup-1.3.2.RC1.jar\n(org.osgi.framework.BundleException: Unresolved constraint in bundle\norg.springframework.roo.addon.backup [22]: Unable to resolve 22.0:\nmissing requirement [22.0] osgi.wiring.package;\n(&amp;(osgi.wiring.package=org.springframework.roo.process.manager)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\n[caused by: Unable to resolve 66.0: missing requirement [66.0]\nosgi.wiring.package;\n(&amp;(osgi.wiring.package=org.springframework.roo.file.monitor)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\n[caused by: Unable to resolve 60.0: missing requirement [60.0]\nosgi.wiring.package;\n(&amp;(osgi.wiring.package=org.springframework.roo.support.util)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\n[caused by: Unable to resolve 73.0: missing requirement [73.0]\nosgi.wiring.package; (osgi.wiring.package=javax.xml.namespace)]]])\norg.osgi.framework.BundleException: Unresolved constraint in bundle\norg.springframework.roo.addon.backup [22]: Unable to resolve 22.0:\nmissing requirement [22.0] osgi.wiring.package;\n(&amp;(osgi.wiring.package=org.springframework.roo.process.manager)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\n[caused by: Unable to resolve 66.0: missing requirement [66.0]\nosgi.wiring.package;\n(&amp;(osgi.wiring.package=org.springframework.roo.file.monitor)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\n[caused by: Unable to resolve 60.0: missing requirement [60.0]\nosgi.wiring.package;\n(&amp;(osgi.wiring.package=org.springframework.roo.support.util)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\n[caused by: Unable to resolve 73.0: missing requirement [73.0]\nosgi.wiring.package; (osgi.wiring.package=javax.xml.namespace)]]]     at\norg.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\nat org.apache.felix.framework.Felix.startBundle(Felix.java:2045)    at\norg.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1299)\nat\norg.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)\nat java.base/java.lang.Thread.run(Thread.java:829) ERROR: Bundle\norg.springframework.roo.addon.cloud [23] Error starting\nfile:/Users/malcolm/springRoo/spring-roo-1.3.2.RC1/bundle/org.springframework.roo.addon.cloud-1.3.2.RC1.jar\n(org.osgi.framework.BundleException: Unresolved constraint in bundle\norg.springframework.roo.addon.cloud [23]: Unable to resolve 23.0:\nmissing requirement [23.0] osgi.wiring.package;\n(osgi.wiring.package=javax.xml.parsers))\norg.osgi.framework.BundleException: Unresolved constraint in bundle\norg.springframework.roo.addon.cloud [23]: Unable to resolve 23.0:\nmissing requirement [23.0] osgi.wiring.package;\n(osgi.wiring.package=javax.xml.parsers)   at\norg.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)\nat org.apache.felix.framework.Felix.startBundle(Felix.java:2045)    at\norg.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1299)\nat\norg.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)\nat java.base/java.lang.Thread.run(Thread.java:829)</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648907605,"post_id":71716697,"comment_id":126744644,"body_markdown":"*However when I use update-alternatives --config java , it does not supply me with the option to select 1.80* That would be for one of two reasons: a. it&#39;s not installed or b. it IS installed but was not installed with the package manager. My guess: it&#39;s the latter. If so, uninstall it and reinstall openjdk-8-jdk with the package manager","body":"<i>However when I use update-alternatives --config java , it does not supply me with the option to select 1.80</i> That would be for one of two reasons: a. it&#39;s not installed or b. it IS installed but was not installed with the package manager. My guess: it&#39;s the latter. If so, uninstall it and reinstall openjdk-8-jdk with the package manager"}],"answers":[{"tags":[],"owner":{"account_id":1911219,"reputation":5572,"user_id":1940850,"display_name":"karel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648972780,"creation_date":1648971779,"answer_id":71723933,"question_id":71716697,"body_markdown":"To switch between installed JDKs:\r\n\r\n1. List Java alternatives:\r\n\r\n       update-java-alternatives -l\r\n\r\n2. Find the line with the Java version that you want to select.\r\n\r\n3. The output of `update-java-alternatives -l` will look something like this if Java 8 was installed by `sudo apt install openjdk-8-jdk` which also matches the 2nd screenshot in your question.\r\n\r\n    &lt;pre&gt;java-1.11.0-openjdk-amd64      1111       /usr/lib/jvm/java-1.11.0-openjdk-amd64\r\n   java-1.8.0-openjdk-amd64       1081       /usr/lib/jvm/java-1.8.0-openjdk-amd64&lt;/pre&gt;\r\n\r\n    The first part of the second line there is `java-1.8.0-openjdk-amd64`.\r\n\r\n4. Set the first part of the line you want as the Java alternative.\r\n\r\n      &lt;pre&gt;sudo update-java-alternatives -s java-1.8.0-openjdk-amd64&lt;/pre&gt;\r\n\r\nTo sum it all up the key thing to watch for here is that you have installed both of the Java versions that you want to switch between with apt so that both Java versions will be recognized.","title":"Kali Linux update-alternatives --config java","body":"<p>To switch between installed JDKs:</p>\n<ol>\n<li><p>List Java alternatives:</p>\n<pre><code>update-java-alternatives -l\n</code></pre>\n</li>\n<li><p>Find the line with the Java version that you want to select.</p>\n</li>\n<li><p>The output of <code>update-java-alternatives -l</code> will look something like this if Java 8 was installed by <code>sudo apt install openjdk-8-jdk</code> which also matches the 2nd screenshot in your question.</p>\n <pre>java-1.11.0-openjdk-amd64      1111       /usr/lib/jvm/java-1.11.0-openjdk-amd64\njava-1.8.0-openjdk-amd64       1081       /usr/lib/jvm/java-1.8.0-openjdk-amd64</pre>\n<p>The first part of the second line there is <code>java-1.8.0-openjdk-amd64</code>.</p>\n</li>\n<li><p>Set the first part of the line you want as the Java alternative.</p>\n   <pre>sudo update-java-alternatives -s java-1.8.0-openjdk-amd64</pre>\n</li>\n</ol>\n<p>To sum it all up the key thing to watch for here is that you have installed both of the Java versions that you want to switch between with apt so that both Java versions will be recognized.</p>\n"}],"owner":{"account_id":24796611,"reputation":11,"user_id":18679294,"display_name":"Ryan Kietzmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3045,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648972780,"creation_date":1648894971,"question_id":71716697,"body_markdown":"I am attempting to use L3MON to build an apk. It requires me to select Java 1.80 OpenJDK as I am currently running, however when I use `sudo update-alternatives --config java` it does not supply me with the option to select 1.80. See below. \r\n\r\nI have installed Java 8 OpenJDK and it reflects in my `/usr/lib/jvm` file structure. I just can&#39;t seem to get the option to select it to use for L3MON.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nW0Ej.png\r\n  [2]: https://i.stack.imgur.com/BYhQS.png\r\n  [3]: https://i.stack.imgur.com/iSViT.png","title":"Kali Linux update-alternatives --config java","body":"<p>I am attempting to use L3MON to build an apk. It requires me to select Java 1.80 OpenJDK as I am currently running, however when I use <code>sudo update-alternatives --config java</code> it does not supply me with the option to select 1.80. See below.</p>\n<p>I have installed Java 8 OpenJDK and it reflects in my <code>/usr/lib/jvm</code> file structure. I just can't seem to get the option to select it to use for L3MON.</p>\n<p><a href=\"https://i.stack.imgur.com/nW0Ej.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nW0Ej.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BYhQS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BYhQS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/iSViT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSViT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-batch","spring-cloud-task"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1628240963,"post_id":68647761,"comment_id":121373175,"body_markdown":"There is a lot going on here, but I tried to answer your questions (see my answer). For the NPE, please open an issue and provide a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces it. Thank you.","body":"There is a lot going on here, but I tried to answer your questions (see my answer). For the NPE, please open an issue and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces it. Thank you."},{"owner":{"account_id":7497564,"reputation":25,"user_id":5697219,"display_name":"Danil Ko"},"score":0,"creation_date":1628275724,"post_id":68647761,"comment_id":121386063,"body_markdown":"@MahmoudBenHassine, thanks a lot for helping and info. I now update the entire question with image + shorter explanation + reproduce case for each attempt (in public git repo with README about how to execute) + complete log trace. And also responding to your questions in comments about my attempts.","body":"@MahmoudBenHassine, thanks a lot for helping and info. I now update the entire question with image + shorter explanation + reproduce case for each attempt (in public git repo with README about how to execute) + complete log trace. And also responding to your questions in comments about my attempts."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1628419037,"post_id":68647761,"comment_id":121410210,"body_markdown":"Thank you for the updates and for opening the issue on Github. Please follow the updates on that issue on Github.","body":"Thank you for the updates and for opening the issue on Github. Please follow the updates on that issue on Github."},{"owner":{"account_id":7497564,"reputation":25,"user_id":5697219,"display_name":"Danil Ko"},"score":0,"creation_date":1628537369,"post_id":68647761,"comment_id":121442797,"body_markdown":"@Mahmoud, After debugging more, like you mentioned, it will work with partitionhandler, but will need some additional adjustments mentioned in https://github.com/spring-cloud/spring-cloud-task/issues/793#issuecomment-895478909, the key is after declaration of deployerpartitioner `partitionHandler.beforeTask(taskExplorer.getTaskExecutionIdByJobExecutionId(stepExecution.getJobExecutionId()););`. Do you mind if I edit your answer to include it or should I just add a new comment to accept the answer?","body":"@Mahmoud, After debugging more, like you mentioned, it will work with partitionhandler, but will need some additional adjustments mentioned in <a href=\"https://github.com/spring-cloud/spring-cloud-task/issues/793#issuecomment-895478909\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-task/issues/&hellip;</a>, the key is after declaration of deployerpartitioner <code>partitionHandler.beforeTask(taskExplorer.getTaskExecutionIdB&zwnj;&#8203;yJobExecutionId(step&zwnj;&#8203;Execution.getJobExec&zwnj;&#8203;utionId()););</code>. Do you mind if I edit your answer to include it or should I just add a new comment to accept the answer?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1628537549,"post_id":68647761,"comment_id":121442867,"body_markdown":"Sure, you are welcome. The goal is to help you and help the community in a collaborative way. So please go ahead and improve the answer as needed. Once that done, please consider accepting it so that people know that it solved the issue. Thank you upfront.","body":"Sure, you are welcome. The goal is to help you and help the community in a collaborative way. So please go ahead and improve the answer as needed. Once that done, please consider accepting it so that people know that it solved the issue. Thank you upfront."},{"owner":{"account_id":7497564,"reputation":25,"user_id":5697219,"display_name":"Danil Ko"},"score":0,"creation_date":1628994693,"post_id":68647761,"comment_id":121568270,"body_markdown":"@MahmoudBenHassine, thanks a lot, I now updated your answer to include my analyze from github issue and working solution. May you approve the edit and I will accept your answer?","body":"@MahmoudBenHassine, thanks a lot, I now updated your answer to include my analyze from github issue and working solution. May you approve the edit and I will accept your answer?"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1629034414,"creation_date":1628240832,"answer_id":68679012,"question_id":68647761,"body_markdown":"&gt; 1. Is above even possible setup?\r\n\r\nyes, nothing prevents you from having two partitioned steps in a single Spring Batch job.\r\n\r\n&gt; 2. Is it possible to use JobScope/StepScope to pass info to the partitionhandler\r\n\r\nyes, it is possible for the partition handler to be declared as a job/step scoped bean if it needs the late-binding feature to be configured.\r\n\r\n\r\nUpdated on 08/14/2021 by @DanilKo\r\n\r\nThe original answer is correct in high - level. However, to actually achieve the partition handeler to be step scoped, a code modification is required\r\n\r\nBelow is the analyze + my proposed workaround/fix (maybe eventually code maintainer will have better way to make it work, but so far below fix is working for me)\r\n\r\nIssue being continued to discuss at:\r\nhttps://github.com/spring-cloud/spring-cloud-task/issues/793 (multiple partitioner handler discussion)\r\nhttps://github.com/spring-cloud/spring-cloud-task/issues/792\r\n(which this fix is based up to use partitionerhandler at step scope to configure different worker steps + resources + max worker)\r\n\r\nRoot cause analyze (hypothesis)\r\n----\r\nThe problem is DeployerPartitionHandler utilize annoation @BeforeTask to force task to pass in TaskExecution object as part of Task setup\r\n\r\nBut as this partionerHandler is now at @StepScope (instead of directly at @Bean level with @Enable Task) or there are two partitionHandler, that setup is no longer triggered, as `@EnableTask` seem not able to locate one `partitionhandler` during creation.\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-task/blob/main/spring-cloud-task-batch/src/main/java/org/springframework/cloud/task/batch/partition/DeployerPartitionHandler.java @ 269\r\n\r\n Resulted created DeployerHandler faced a null with `taskExecution` when trying to launch (as it is never setup)\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-task/blob/main/spring-cloud-task-batch/src/main/java/org/springframework/cloud/task/batch/partition/DeployerPartitionHandler.java @ 347\r\n\r\n\r\n\r\nWorkaround Resolution\r\n---\r\nBelow is essentially a workaround to use the current job execution id to retrieve the associated task execution id\r\nFrom there, got that task execution and passed to deploy handler to fulfill its need of taskExecution reference\r\nIt seem to work, but still not clear if there is other side effect (so far during test not found any)\r\n\r\nFull code can be found in https://github.com/danilko/spring-batch-remote-k8s-paritition-example/tree/attempt_2_partitionhandler_with_stepscope_workaround_resolution\r\n\r\nIn the partitionHandler method\r\n\r\n```\r\n    @Bean\r\n    @StepScope\r\n    public PartitionHandler partitionHandler(TaskLauncher taskLauncher,\r\n                                                   JobExplorer jobExplorer,\r\n                                             @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) throws Exception {\r\n\r\n...\r\n\r\n      // After the declaration of partitionhandler\r\n        DeployerPartitionHandler partitionHandler =\r\n                new DeployerPartitionHandler(taskLauncher, jobExplorer, resource,\r\n                        stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerStep&quot;)\r\n                        , taskRepository);\r\n\r\n        // Issue https://github.com/spring-cloud/spring-cloud-task/issues/793\r\n        // Perform the setting of execution as this partitioner now not created at task level so @beforetask is no longer vaild\r\n        // The problem is DeployerPartitionHandler utilize annoation @BeforeTask to force task to pass in TaskExecution object as part of Task setup\r\n        // But as this partionerHandler is now at @StepScope (instead of directly at @Bean level with @Enable Task), that setup is no longer triggered\r\n        // Resulted created DeployerHandler faced a null\r\n\r\n        // Below is essentially a workaround to use the current job execution id to retrieve the associated task execution id\r\n        // From there, got that task execution and passed to deploy handler to fulfill its need of taskExecution reference\r\n        // It seem to work, but still not clear if there is other side effect (so far during test not found any)\r\n        long executionId = taskExplorer.getTaskExecutionIdByJobExecutionId(stepExecution.getJobExecutionId());\r\n\r\n        System.out.println(&quot;Current execution job to task execution id &quot; + executionId);\r\n        TaskExecution taskExecution = taskExplorer.getTaskExecution(taskExplorer.getTaskExecutionIdByJobExecutionId(stepExecution.getJobExecutionId()));\r\n        System.out.println(&quot;Current execution job to task execution is not null: &quot; + (taskExecution != null));\r\n        partitionHandler.beforeTask(taskExecution);\r\n...\r\n\r\n// rest of code continue\r\n```\r\n\r\n (note it utilize `stepExecution` context to find out the current trigger step name and therefore assign different worker step) \r\nWorker name  in this case is coming from pre-defined job execution, but may able to come from jobparameter or another place too)\r\n\r\nThat job context is populated with job listner\r\n\r\nJob is configured with job listener\r\n```\r\n\r\n    @Bean(name = &quot;partitionedJob&quot;)\r\n    @Profile(&quot;!worker&quot;)\r\n    public Job partitionedJob()throws Exception {\r\n        Random random = new Random();\r\n        return jobBuilderFactory.get(&quot;partitionedJob&quot; + random.nextInt())\r\n                .start(partitionReaderStep())\r\n                .listener(jobExecutionListener())\r\n                .next(partitionProcessorStep())\r\n                .build();\r\n    }\r\n\r\n```\r\n\r\nIn job listener populated it\r\n```\r\n\r\n    @Bean\r\n    public JobExecutionListener jobExecutionListener() {\r\n    JobExecutionListener listener = new JobExecutionListener(){\r\n        @Override\r\n        public void beforeJob(JobExecution jobExecution)\r\n        {\r\n            jobExecution.getExecutionContext().putString(&quot;readerCPURequest&quot;, &quot;1&quot;);\r\n            jobExecution.getExecutionContext().putString(&quot;readerCPULimit&quot;, &quot;2&quot;);\r\n\r\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerGridSize&quot;, &quot;1&quot;);\r\n\r\n            // For now using same image for reader/processor, but if it work, can split them\r\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerImage&quot;, &quot;worker:latest&quot;);\r\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerStep&quot;, &quot;workerStepReader&quot;);\r\n\r\n            jobExecution.getExecutionContext().putString(&quot;processorCPURequest&quot;, &quot;3&quot;);\r\n            jobExecution.getExecutionContext().putString(&quot;processorCPULimit&quot;, &quot;4&quot;);\r\n\r\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerGridSize&quot;, &quot;2&quot;);\r\n\r\n            // For now using same image for reader/processor, but if it work, will split them\r\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerImage&quot;, &quot;worker:latest&quot;);\r\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerStep&quot;, &quot;workerStepProcessor&quot;);\r\n\r\n            System.out.println(&quot;Set readerGridSize == &quot; + jobExecution.getExecutionContext().getString(&quot;readerGridSize&quot;, &quot;IT IS NULL WHICH IS INCORRECT&quot;));\r\n\r\n        }\r\n\r\n        @Override\r\n        public void afterJob(JobExecution jobExecution) {\r\n        }\r\n    };\r\n\r\n    return listener;\r\n    }\r\n\r\n```\r\n\r\nFull code (can also be found in my code github after the workaround fix is being applied): https://github.com/danilko/spring-batch-remote-k8s-paritition-example/blob/main/src/main/java/com/example/batchprocessing/BatchConfiguration.java\r\n\r\n\r\n```\r\npackage com.example.batchprocessing;\r\n\r\nimport io.fabric8.kubernetes.api.model.DeletionPropagation;\r\nimport io.fabric8.kubernetes.api.model.batch.JobList;\r\nimport io.fabric8.kubernetes.api.model.batch.JobSpec;\r\nimport io.fabric8.kubernetes.api.model.batch.JobStatus;\r\nimport io.fabric8.kubernetes.client.KubernetesClient;\r\nimport org.springframework.batch.core.*;\r\nimport org.springframework.batch.core.configuration.JobRegistry;\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepScope;\r\nimport org.springframework.batch.core.explore.JobExplorer;\r\nimport org.springframework.batch.core.partition.PartitionHandler;\r\nimport org.springframework.batch.core.partition.support.Partitioner;\r\nimport org.springframework.batch.core.repository.JobRepository;\r\nimport org.springframework.batch.core.scope.context.ChunkContext;\r\nimport org.springframework.batch.core.step.tasklet.Tasklet;\r\nimport org.springframework.batch.item.ExecutionContext;\r\nimport org.springframework.batch.repeat.RepeatStatus;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.cloud.deployer.resource.docker.DockerResource;\r\nimport org.springframework.cloud.deployer.resource.support.DelegatingResourceLoader;\r\nimport org.springframework.cloud.deployer.spi.kubernetes.*;\r\nimport org.springframework.cloud.deployer.spi.task.TaskLauncher;\r\nimport org.springframework.cloud.task.batch.partition.*;\r\nimport org.springframework.cloud.task.configuration.EnableTask;\r\nimport org.springframework.cloud.task.repository.TaskExecution;\r\nimport org.springframework.cloud.task.repository.TaskExplorer;\r\nimport org.springframework.cloud.task.repository.TaskRepository;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.core.env.SystemEnvironmentPropertySource;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.core.task.TaskExecutor;\r\nimport org.springframework.core.task.TaskRejectedException;\r\nimport org.springframework.util.StringUtils;\r\n\r\nimport java.util.*;\r\n\r\n\r\n@Configuration\r\n@EnableBatchProcessing\r\n@EnableTask\r\npublic class BatchConfiguration {\r\n\r\n    private static int BACK_OFF_LIMIT = 6;\r\n\r\n    // Set the kuberentes job name\r\n    private String taskName_prefix=&quot;partitionedbatchjob&quot;;\r\n\r\n    @Autowired\r\n    public JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Autowired\r\n    public StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Autowired\r\n    public JobExplorer jobExplorer;\r\n\r\n    @Autowired\r\n    public JobRepository jobRepository;\r\n\r\n    @Autowired\r\n    public TaskExecutor taskExecutor;\r\n\r\n    @Autowired\r\n    public TaskRepository taskRepository;\r\n\r\n    @Autowired\r\n    public TaskExplorer taskExplorer;\r\n\r\n    @Autowired\r\n    private ConfigurableApplicationContext context;\r\n\r\n    @Autowired\r\n    private DelegatingResourceLoader resourceLoader;\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Bean\r\n    @StepScope\r\n    public Partitioner partitioner( @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\r\n        return new Partitioner() {\r\n            @Override\r\n            public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\r\n\r\n                Map&lt;String, ExecutionContext&gt; partitions = new HashMap&lt;&gt;(gridSize);\r\n\r\n                int targetGridSize = 0;\r\n                String step = &quot;&quot;;\r\n                if(stepExecution.getStepName().equalsIgnoreCase(&quot;partitionReaderStep&quot;))\r\n                {\r\n                    step = &quot;reader&quot;;\r\n                }\r\n                else\r\n                {\r\n                    step = &quot;processor&quot;;\r\n                }\r\n\r\n                targetGridSize = Integer.parseInt(stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerGridSize&quot;));\r\n\r\n                for (int i = 0; i &lt; targetGridSize; i++) {\r\n                    ExecutionContext context1 = new ExecutionContext();\r\n                    context1.put(&quot;partitionNumber&quot;, i);\r\n\r\n                    partitions.put(&quot;partition&quot; + i, context1);\r\n                }\r\n\r\n                return partitions;\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public KubernetesClient kuberentesClient()\r\n    {\r\n        KubernetesDeployerProperties kubernetesDeployerProperties = new KubernetesDeployerProperties();\r\n\r\n        return KubernetesClientFactory.getKubernetesClient(kubernetesDeployerProperties);\r\n    }\r\n\r\n\r\n    @Bean\r\n    @StepScope\r\n    public TaskLauncher taskLauncher( @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution)\r\n    {\r\n        KubernetesDeployerProperties kubernetesDeployerProperties = new KubernetesDeployerProperties();\r\n        kubernetesDeployerProperties.setNamespace(&quot;default&quot;);\r\n\r\n        kubernetesDeployerProperties.setCreateJob(true);\r\n\r\n        // Database setup to reference configmap for database info\r\n        List&lt;KubernetesDeployerProperties.ConfigMapKeyRef&gt; configMapKeyRefList = new ArrayList&lt;KubernetesDeployerProperties.ConfigMapKeyRef&gt;();\r\n        KubernetesDeployerProperties.ConfigMapKeyRef configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\r\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\r\n        configMapKeyRef.setDataKey(&quot;SPRING_DATASOURCE_URL&quot;);\r\n        configMapKeyRef.setEnvVarName(&quot;SPRING_DATASOURCE_URL&quot;);\r\n        configMapKeyRefList.add(configMapKeyRef);\r\n\r\n        configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\r\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\r\n        configMapKeyRef.setDataKey(&quot;SPRING_DATASOURCE_USERNAME&quot;);\r\n        configMapKeyRef.setEnvVarName(&quot;SPRING_DATASOURCE_USERNAME&quot;);\r\n        configMapKeyRefList.add(configMapKeyRef);\r\n\r\n        configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\r\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\r\n        configMapKeyRef.setDataKey(&quot;SPRING_DATASOURCE_PASSWORD&quot;);\r\n        configMapKeyRef.setEnvVarName(&quot;SPRING_DATASOURCE_PASSWORD&quot;);\r\n        configMapKeyRefList.add(configMapKeyRef);\r\n\r\n        configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\r\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\r\n        configMapKeyRef.setDataKey(&quot;SPRING_DATASOURCE_DRIVERCLASSNAME&quot;);\r\n        configMapKeyRef.setEnvVarName(&quot;SPRING_DATASOURCE_DRIVERCLASSNAME&quot;);\r\n        configMapKeyRefList.add(configMapKeyRef);\r\n\r\n        configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\r\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\r\n        configMapKeyRef.setDataKey(&quot;SPRING_PROFILES_ACTIVE&quot;);\r\n        configMapKeyRef.setEnvVarName(&quot;SPRING_PROFILES_ACTIVE&quot;);\r\n        configMapKeyRefList.add(configMapKeyRef);\r\n\r\n\r\n        kubernetesDeployerProperties.setConfigMapKeyRefs(configMapKeyRefList);\r\n\r\n        // Set request resource\r\n        KubernetesDeployerProperties.RequestsResources request = new KubernetesDeployerProperties.RequestsResources();\r\n        KubernetesDeployerProperties.LimitsResources limit = new KubernetesDeployerProperties.LimitsResources();\r\n\r\n        String step = &quot;&quot;;\r\n\r\n        if(stepExecution.getStepName().equalsIgnoreCase(&quot;partitionReaderStep&quot;))\r\n        {\r\n            step=&quot;reader&quot;;\r\n        }\r\n        else\r\n        {\r\n            step=&quot;processor&quot;;\r\n        }\r\n\r\n        request.setCpu(stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;CPURequest&quot;));\r\n        request.setMemory(&quot;2000Mi&quot;);\r\n\r\n\r\n        limit.setCpu(stepExecution.getJobExecution().getExecutionContext().getString(step +&quot;CPULimit&quot;));\r\n        limit.setMemory(&quot;3000Mi&quot;);\r\n\r\n\r\n        kubernetesDeployerProperties.setRequests(request);\r\n        kubernetesDeployerProperties.setLimits(limit);\r\n\r\n        // as build on local image, so need to use local\r\n        kubernetesDeployerProperties.setImagePullPolicy(ImagePullPolicy.IfNotPresent);\r\n\r\n        // Set task launcher properties to not repeat and not restart\r\n        KubernetesTaskLauncherProperties kubernetesTaskLauncherProperties = new KubernetesTaskLauncherProperties();\r\n\r\n        // https://kubernetes.io/docs/concepts/workloads/controllers/job/\r\n        // Set to never to create new pod on restart\r\n        kubernetesTaskLauncherProperties.setBackoffLimit(BACK_OFF_LIMIT);\r\n        kubernetesTaskLauncherProperties.setRestartPolicy(RestartPolicy.Never);\r\n        KubernetesTaskLauncher kubernetesTaskLauncher = new KubernetesTaskLauncher(kubernetesDeployerProperties,\r\n                kubernetesTaskLauncherProperties, kuberentesClient());\r\n\r\n        return kubernetesTaskLauncher;\r\n    }\r\n\r\n\r\n    @Bean(name = &quot;partitionedJob&quot;)\r\n    @Profile(&quot;!worker&quot;)\r\n    public Job partitionedJob()throws Exception {\r\n        Random random = new Random();\r\n        return jobBuilderFactory.get(&quot;partitionedJob&quot; + random.nextInt())\r\n                .start(partitionReaderStep())\r\n                .listener(jobExecutionListener())\r\n                .next(partitionProcessorStep())\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;partitionReaderStep&quot;)\r\n    public Step partitionReaderStep() throws Exception {\r\n\r\n        return stepBuilderFactory.get(&quot;partitionReaderStep&quot;)\r\n                .partitioner(workerStepReader().getName(),  partitioner( null))\r\n                .step(workerStepReader())\r\n                .partitionHandler(partitionHandler(\r\n                        taskLauncher( null),\r\n                        jobExplorer, null))\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;partitionProcessorStep&quot;)\r\n    public Step partitionProcessorStep() throws Exception {\r\n\r\n        return stepBuilderFactory.get(&quot;partitionProcessorStep&quot;)\r\n                .partitioner(workerStepProcessor().getName(), partitioner( null))\r\n                .step(workerStepProcessor())\r\n                .partitionHandler(partitionHandler(\r\n                        taskLauncher( null),\r\n                        jobExplorer, null))\r\n                .build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    @StepScope\r\n    public PartitionHandler partitionHandler(TaskLauncher taskLauncher,\r\n                                                   JobExplorer jobExplorer,\r\n                                             @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) throws Exception {\r\n\r\n        String step =&quot;processor&quot;;\r\n\r\n        if(stepExecution.getStepName().equalsIgnoreCase(&quot;partitionReaderStep&quot;)) {\r\n            step = &quot;reader&quot;;\r\n        }\r\n\r\n        // Use local build image\r\n        DockerResource resource = new DockerResource(stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerImage&quot;));\r\n\r\n\r\n        DeployerPartitionHandler partitionHandler =\r\n                new DeployerPartitionHandler(taskLauncher, jobExplorer, resource,\r\n                        stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerStep&quot;)\r\n                        , taskRepository);\r\n\r\n        // Issue https://github.com/spring-cloud/spring-cloud-task/issues/793\r\n        // Perform the setting of execution as this partitioner now not created at task level so @beforetask is no longer vaild\r\n        // The problem is DeployerPartitionHandler utilize annoation @BeforeTask to force task to pass in TaskExecution object as part of Task setup\r\n        // But as this partionerHandler is now at @StepScope (instead of directly at @Bean level with @Enable Task), that setup is no longer triggered\r\n        // Resulted created DeployerHandler faced a null\r\n\r\n        // Below is essentially a workaround to use the current job execution id to retrieve the associated task execution id\r\n        // From there, got that task execution and passed to deploy handler to fulfill its need of taskExecution reference\r\n        // It seem to work, but still not clear if there is other side effect (so far during test not found any)\r\n        long executionId = taskExplorer.getTaskExecutionIdByJobExecutionId(stepExecution.getJobExecutionId());\r\n\r\n        System.out.println(&quot;Current execution job to task execution id &quot; + executionId);\r\n        TaskExecution taskExecution = taskExplorer.getTaskExecution(taskExplorer.getTaskExecutionIdByJobExecutionId(stepExecution.getJobExecutionId()));\r\n        System.out.println(&quot;Current execution job to task execution is not null: &quot; + (taskExecution != null));\r\n        partitionHandler.beforeTask(taskExecution);\r\n\r\n        List&lt;String&gt; commandLineArgs = new ArrayList&lt;&gt;(3);\r\n        commandLineArgs.add(&quot;--spring.profiles.active=worker&quot;);\r\n        commandLineArgs.add(&quot;--spring.cloud.task.initialize.enable=false&quot;);\r\n        commandLineArgs.add(&quot;--spring.batch.initializer.enabled=false&quot;);\r\n        partitionHandler\r\n                .setCommandLineArgsProvider(new PassThroughCommandLineArgsProvider(commandLineArgs));\r\n        partitionHandler.setEnvironmentVariablesProvider(new NoOpEnvironmentVariablesProvider());\r\n        partitionHandler.setMaxWorkers(Integer.parseInt(stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerGridSize&quot;)));\r\n\r\n            partitionHandler.setApplicationName(taskName_prefix + step);\r\n\r\n        return partitionHandler;\r\n    }\r\n\r\n    @Bean\r\n    public JobExecutionListener jobExecutionListener() {\r\n    JobExecutionListener listener = new JobExecutionListener(){\r\n        @Override\r\n        public void beforeJob(JobExecution jobExecution)\r\n        {\r\n            jobExecution.getExecutionContext().putString(&quot;readerCPURequest&quot;, &quot;1&quot;);\r\n            jobExecution.getExecutionContext().putString(&quot;readerCPULimit&quot;, &quot;2&quot;);\r\n\r\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerGridSize&quot;, &quot;1&quot;);\r\n\r\n            // For now using same image for reader/processor, but if it work, can split them\r\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerImage&quot;, &quot;worker:latest&quot;);\r\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerStep&quot;, &quot;workerStepReader&quot;);\r\n\r\n            jobExecution.getExecutionContext().putString(&quot;processorCPURequest&quot;, &quot;3&quot;);\r\n            jobExecution.getExecutionContext().putString(&quot;processorCPULimit&quot;, &quot;4&quot;);\r\n\r\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerGridSize&quot;, &quot;2&quot;);\r\n\r\n            // For now using same image for reader/processor, but if it work, will split them\r\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerImage&quot;, &quot;worker:latest&quot;);\r\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerStep&quot;, &quot;workerStepProcessor&quot;);\r\n\r\n            System.out.println(&quot;Set readerGridSize == &quot; + jobExecution.getExecutionContext().getString(&quot;readerGridSize&quot;, &quot;IT IS NULL WHICH IS INCORRECT&quot;));\r\n\r\n        }\r\n\r\n        @Override\r\n        public void afterJob(JobExecution jobExecution) {\r\n        }\r\n    };\r\n\r\n    return listener;\r\n    }\r\n\r\n    @Bean\r\n    @Profile(&quot;worker&quot;)\r\n    public DeployerStepExecutionHandler stepExecutionHandler(JobExplorer jobExplorer) {\r\n        return new DeployerStepExecutionHandler(this.context, jobExplorer, this.jobRepository);\r\n    }\r\n\r\n    @Bean(name = &quot;workerStepReader&quot;)\r\n    public Step workerStepReader() {\r\n        return this.stepBuilderFactory.get(&quot;workerStepReader&quot;)\r\n                .tasklet(workerTaskletReader(null))\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;workerStepProcessor&quot;)\r\n    public Step workerStepProcessor() {\r\n        return this.stepBuilderFactory.get(&quot;workerStepProcessor&quot;)\r\n                .tasklet(workerTaskletProcessor(null))\r\n                .build();\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    @StepScope\r\n    public Tasklet workerTaskletReader(\r\n            final @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\r\n\r\n        return new Tasklet() {\r\n            @Override\r\n            public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n                Integer partitionNumber = stepExecution.getExecutionContext().getInt(&quot;partitionNumber&quot;);\r\n                System.out.println(&quot;This workerTaskletReader ran partition: &quot; + partitionNumber);\r\n\r\n                return RepeatStatus.FINISHED;\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public Tasklet workerTaskletProcessor(\r\n            final @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\r\n\r\n        return new Tasklet() {\r\n            @Override\r\n            public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n                Integer partitionNumber = stepExecution.getExecutionContext().getInt(&quot;partitionNumber&quot;);\r\n                System.out.println(&quot;This workerTaskletProcessor ran partition: &quot; + partitionNumber);\r\n\r\n                return RepeatStatus.FINISHED;\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"Spring Batch with multi - step Spring Cloud Task (PartitionHandler) for Remote Partition","body":"<blockquote>\n<ol>\n<li>Is above even possible setup?</li>\n</ol>\n</blockquote>\n<p>yes, nothing prevents you from having two partitioned steps in a single Spring Batch job.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Is it possible to use JobScope/StepScope to pass info to the partitionhandler</li>\n</ol>\n</blockquote>\n<p>yes, it is possible for the partition handler to be declared as a job/step scoped bean if it needs the late-binding feature to be configured.</p>\n<p>Updated on 08/14/2021 by @DanilKo</p>\n<p>The original answer is correct in high - level. However, to actually achieve the partition handeler to be step scoped, a code modification is required</p>\n<p>Below is the analyze + my proposed workaround/fix (maybe eventually code maintainer will have better way to make it work, but so far below fix is working for me)</p>\n<p>Issue being continued to discuss at:\n<a href=\"https://github.com/spring-cloud/spring-cloud-task/issues/793\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-task/issues/793</a> (multiple partitioner handler discussion)\n<a href=\"https://github.com/spring-cloud/spring-cloud-task/issues/792\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-task/issues/792</a>\n(which this fix is based up to use partitionerhandler at step scope to configure different worker steps + resources + max worker)</p>\n<h2>Root cause analyze (hypothesis)</h2>\n<p>The problem is DeployerPartitionHandler utilize annoation @BeforeTask to force task to pass in TaskExecution object as part of Task setup</p>\n<p>But as this partionerHandler is now at @StepScope (instead of directly at @Bean level with @Enable Task) or there are two partitionHandler, that setup is no longer triggered, as <code>@EnableTask</code> seem not able to locate one <code>partitionhandler</code> during creation.</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-task/blob/main/spring-cloud-task-batch/src/main/java/org/springframework/cloud/task/batch/partition/DeployerPartitionHandler.java\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-task/blob/main/spring-cloud-task-batch/src/main/java/org/springframework/cloud/task/batch/partition/DeployerPartitionHandler.java</a> @ 269</p>\n<p>Resulted created DeployerHandler faced a null with <code>taskExecution</code> when trying to launch (as it is never setup)</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-task/blob/main/spring-cloud-task-batch/src/main/java/org/springframework/cloud/task/batch/partition/DeployerPartitionHandler.java\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-task/blob/main/spring-cloud-task-batch/src/main/java/org/springframework/cloud/task/batch/partition/DeployerPartitionHandler.java</a> @ 347</p>\n<h2>Workaround Resolution</h2>\n<p>Below is essentially a workaround to use the current job execution id to retrieve the associated task execution id\nFrom there, got that task execution and passed to deploy handler to fulfill its need of taskExecution reference\nIt seem to work, but still not clear if there is other side effect (so far during test not found any)</p>\n<p>Full code can be found in <a href=\"https://github.com/danilko/spring-batch-remote-k8s-paritition-example/tree/attempt_2_partitionhandler_with_stepscope_workaround_resolution\" rel=\"nofollow noreferrer\">https://github.com/danilko/spring-batch-remote-k8s-paritition-example/tree/attempt_2_partitionhandler_with_stepscope_workaround_resolution</a></p>\n<p>In the partitionHandler method</p>\n<pre><code>    @Bean\n    @StepScope\n    public PartitionHandler partitionHandler(TaskLauncher taskLauncher,\n                                                   JobExplorer jobExplorer,\n                                             @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) throws Exception {\n\n...\n\n      // After the declaration of partitionhandler\n        DeployerPartitionHandler partitionHandler =\n                new DeployerPartitionHandler(taskLauncher, jobExplorer, resource,\n                        stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerStep&quot;)\n                        , taskRepository);\n\n        // Issue https://github.com/spring-cloud/spring-cloud-task/issues/793\n        // Perform the setting of execution as this partitioner now not created at task level so @beforetask is no longer vaild\n        // The problem is DeployerPartitionHandler utilize annoation @BeforeTask to force task to pass in TaskExecution object as part of Task setup\n        // But as this partionerHandler is now at @StepScope (instead of directly at @Bean level with @Enable Task), that setup is no longer triggered\n        // Resulted created DeployerHandler faced a null\n\n        // Below is essentially a workaround to use the current job execution id to retrieve the associated task execution id\n        // From there, got that task execution and passed to deploy handler to fulfill its need of taskExecution reference\n        // It seem to work, but still not clear if there is other side effect (so far during test not found any)\n        long executionId = taskExplorer.getTaskExecutionIdByJobExecutionId(stepExecution.getJobExecutionId());\n\n        System.out.println(&quot;Current execution job to task execution id &quot; + executionId);\n        TaskExecution taskExecution = taskExplorer.getTaskExecution(taskExplorer.getTaskExecutionIdByJobExecutionId(stepExecution.getJobExecutionId()));\n        System.out.println(&quot;Current execution job to task execution is not null: &quot; + (taskExecution != null));\n        partitionHandler.beforeTask(taskExecution);\n...\n\n// rest of code continue\n</code></pre>\n<p>(note it utilize <code>stepExecution</code> context to find out the current trigger step name and therefore assign different worker step)\nWorker name  in this case is coming from pre-defined job execution, but may able to come from jobparameter or another place too)</p>\n<p>That job context is populated with job listner</p>\n<p>Job is configured with job listener</p>\n<pre><code>\n    @Bean(name = &quot;partitionedJob&quot;)\n    @Profile(&quot;!worker&quot;)\n    public Job partitionedJob()throws Exception {\n        Random random = new Random();\n        return jobBuilderFactory.get(&quot;partitionedJob&quot; + random.nextInt())\n                .start(partitionReaderStep())\n                .listener(jobExecutionListener())\n                .next(partitionProcessorStep())\n                .build();\n    }\n\n</code></pre>\n<p>In job listener populated it</p>\n<pre><code>\n    @Bean\n    public JobExecutionListener jobExecutionListener() {\n    JobExecutionListener listener = new JobExecutionListener(){\n        @Override\n        public void beforeJob(JobExecution jobExecution)\n        {\n            jobExecution.getExecutionContext().putString(&quot;readerCPURequest&quot;, &quot;1&quot;);\n            jobExecution.getExecutionContext().putString(&quot;readerCPULimit&quot;, &quot;2&quot;);\n\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerGridSize&quot;, &quot;1&quot;);\n\n            // For now using same image for reader/processor, but if it work, can split them\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerImage&quot;, &quot;worker:latest&quot;);\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerStep&quot;, &quot;workerStepReader&quot;);\n\n            jobExecution.getExecutionContext().putString(&quot;processorCPURequest&quot;, &quot;3&quot;);\n            jobExecution.getExecutionContext().putString(&quot;processorCPULimit&quot;, &quot;4&quot;);\n\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerGridSize&quot;, &quot;2&quot;);\n\n            // For now using same image for reader/processor, but if it work, will split them\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerImage&quot;, &quot;worker:latest&quot;);\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerStep&quot;, &quot;workerStepProcessor&quot;);\n\n            System.out.println(&quot;Set readerGridSize == &quot; + jobExecution.getExecutionContext().getString(&quot;readerGridSize&quot;, &quot;IT IS NULL WHICH IS INCORRECT&quot;));\n\n        }\n\n        @Override\n        public void afterJob(JobExecution jobExecution) {\n        }\n    };\n\n    return listener;\n    }\n\n</code></pre>\n<p>Full code (can also be found in my code github after the workaround fix is being applied): <a href=\"https://github.com/danilko/spring-batch-remote-k8s-paritition-example/blob/main/src/main/java/com/example/batchprocessing/BatchConfiguration.java\" rel=\"nofollow noreferrer\">https://github.com/danilko/spring-batch-remote-k8s-paritition-example/blob/main/src/main/java/com/example/batchprocessing/BatchConfiguration.java</a></p>\n<pre><code>package com.example.batchprocessing;\n\nimport io.fabric8.kubernetes.api.model.DeletionPropagation;\nimport io.fabric8.kubernetes.api.model.batch.JobList;\nimport io.fabric8.kubernetes.api.model.batch.JobSpec;\nimport io.fabric8.kubernetes.api.model.batch.JobStatus;\nimport io.fabric8.kubernetes.client.KubernetesClient;\nimport org.springframework.batch.core.*;\nimport org.springframework.batch.core.configuration.JobRegistry;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepScope;\nimport org.springframework.batch.core.explore.JobExplorer;\nimport org.springframework.batch.core.partition.PartitionHandler;\nimport org.springframework.batch.core.partition.support.Partitioner;\nimport org.springframework.batch.core.repository.JobRepository;\nimport org.springframework.batch.core.scope.context.ChunkContext;\nimport org.springframework.batch.core.step.tasklet.Tasklet;\nimport org.springframework.batch.item.ExecutionContext;\nimport org.springframework.batch.repeat.RepeatStatus;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.cloud.deployer.resource.docker.DockerResource;\nimport org.springframework.cloud.deployer.resource.support.DelegatingResourceLoader;\nimport org.springframework.cloud.deployer.spi.kubernetes.*;\nimport org.springframework.cloud.deployer.spi.task.TaskLauncher;\nimport org.springframework.cloud.task.batch.partition.*;\nimport org.springframework.cloud.task.configuration.EnableTask;\nimport org.springframework.cloud.task.repository.TaskExecution;\nimport org.springframework.cloud.task.repository.TaskExplorer;\nimport org.springframework.cloud.task.repository.TaskRepository;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.core.env.Environment;\nimport org.springframework.core.env.SystemEnvironmentPropertySource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.task.TaskExecutor;\nimport org.springframework.core.task.TaskRejectedException;\nimport org.springframework.util.StringUtils;\n\nimport java.util.*;\n\n\n@Configuration\n@EnableBatchProcessing\n@EnableTask\npublic class BatchConfiguration {\n\n    private static int BACK_OFF_LIMIT = 6;\n\n    // Set the kuberentes job name\n    private String taskName_prefix=&quot;partitionedbatchjob&quot;;\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    public JobExplorer jobExplorer;\n\n    @Autowired\n    public JobRepository jobRepository;\n\n    @Autowired\n    public TaskExecutor taskExecutor;\n\n    @Autowired\n    public TaskRepository taskRepository;\n\n    @Autowired\n    public TaskExplorer taskExplorer;\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    @Autowired\n    private DelegatingResourceLoader resourceLoader;\n\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    @StepScope\n    public Partitioner partitioner( @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\n        return new Partitioner() {\n            @Override\n            public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\n\n                Map&lt;String, ExecutionContext&gt; partitions = new HashMap&lt;&gt;(gridSize);\n\n                int targetGridSize = 0;\n                String step = &quot;&quot;;\n                if(stepExecution.getStepName().equalsIgnoreCase(&quot;partitionReaderStep&quot;))\n                {\n                    step = &quot;reader&quot;;\n                }\n                else\n                {\n                    step = &quot;processor&quot;;\n                }\n\n                targetGridSize = Integer.parseInt(stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerGridSize&quot;));\n\n                for (int i = 0; i &lt; targetGridSize; i++) {\n                    ExecutionContext context1 = new ExecutionContext();\n                    context1.put(&quot;partitionNumber&quot;, i);\n\n                    partitions.put(&quot;partition&quot; + i, context1);\n                }\n\n                return partitions;\n            }\n        };\n    }\n\n    @Bean\n    public KubernetesClient kuberentesClient()\n    {\n        KubernetesDeployerProperties kubernetesDeployerProperties = new KubernetesDeployerProperties();\n\n        return KubernetesClientFactory.getKubernetesClient(kubernetesDeployerProperties);\n    }\n\n\n    @Bean\n    @StepScope\n    public TaskLauncher taskLauncher( @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution)\n    {\n        KubernetesDeployerProperties kubernetesDeployerProperties = new KubernetesDeployerProperties();\n        kubernetesDeployerProperties.setNamespace(&quot;default&quot;);\n\n        kubernetesDeployerProperties.setCreateJob(true);\n\n        // Database setup to reference configmap for database info\n        List&lt;KubernetesDeployerProperties.ConfigMapKeyRef&gt; configMapKeyRefList = new ArrayList&lt;KubernetesDeployerProperties.ConfigMapKeyRef&gt;();\n        KubernetesDeployerProperties.ConfigMapKeyRef configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\n        configMapKeyRef.setDataKey(&quot;SPRING_DATASOURCE_URL&quot;);\n        configMapKeyRef.setEnvVarName(&quot;SPRING_DATASOURCE_URL&quot;);\n        configMapKeyRefList.add(configMapKeyRef);\n\n        configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\n        configMapKeyRef.setDataKey(&quot;SPRING_DATASOURCE_USERNAME&quot;);\n        configMapKeyRef.setEnvVarName(&quot;SPRING_DATASOURCE_USERNAME&quot;);\n        configMapKeyRefList.add(configMapKeyRef);\n\n        configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\n        configMapKeyRef.setDataKey(&quot;SPRING_DATASOURCE_PASSWORD&quot;);\n        configMapKeyRef.setEnvVarName(&quot;SPRING_DATASOURCE_PASSWORD&quot;);\n        configMapKeyRefList.add(configMapKeyRef);\n\n        configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\n        configMapKeyRef.setDataKey(&quot;SPRING_DATASOURCE_DRIVERCLASSNAME&quot;);\n        configMapKeyRef.setEnvVarName(&quot;SPRING_DATASOURCE_DRIVERCLASSNAME&quot;);\n        configMapKeyRefList.add(configMapKeyRef);\n\n        configMapKeyRef = new KubernetesDeployerProperties.ConfigMapKeyRef();\n        configMapKeyRef.setConfigMapName(&quot;mariadb&quot;);\n        configMapKeyRef.setDataKey(&quot;SPRING_PROFILES_ACTIVE&quot;);\n        configMapKeyRef.setEnvVarName(&quot;SPRING_PROFILES_ACTIVE&quot;);\n        configMapKeyRefList.add(configMapKeyRef);\n\n\n        kubernetesDeployerProperties.setConfigMapKeyRefs(configMapKeyRefList);\n\n        // Set request resource\n        KubernetesDeployerProperties.RequestsResources request = new KubernetesDeployerProperties.RequestsResources();\n        KubernetesDeployerProperties.LimitsResources limit = new KubernetesDeployerProperties.LimitsResources();\n\n        String step = &quot;&quot;;\n\n        if(stepExecution.getStepName().equalsIgnoreCase(&quot;partitionReaderStep&quot;))\n        {\n            step=&quot;reader&quot;;\n        }\n        else\n        {\n            step=&quot;processor&quot;;\n        }\n\n        request.setCpu(stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;CPURequest&quot;));\n        request.setMemory(&quot;2000Mi&quot;);\n\n\n        limit.setCpu(stepExecution.getJobExecution().getExecutionContext().getString(step +&quot;CPULimit&quot;));\n        limit.setMemory(&quot;3000Mi&quot;);\n\n\n        kubernetesDeployerProperties.setRequests(request);\n        kubernetesDeployerProperties.setLimits(limit);\n\n        // as build on local image, so need to use local\n        kubernetesDeployerProperties.setImagePullPolicy(ImagePullPolicy.IfNotPresent);\n\n        // Set task launcher properties to not repeat and not restart\n        KubernetesTaskLauncherProperties kubernetesTaskLauncherProperties = new KubernetesTaskLauncherProperties();\n\n        // https://kubernetes.io/docs/concepts/workloads/controllers/job/\n        // Set to never to create new pod on restart\n        kubernetesTaskLauncherProperties.setBackoffLimit(BACK_OFF_LIMIT);\n        kubernetesTaskLauncherProperties.setRestartPolicy(RestartPolicy.Never);\n        KubernetesTaskLauncher kubernetesTaskLauncher = new KubernetesTaskLauncher(kubernetesDeployerProperties,\n                kubernetesTaskLauncherProperties, kuberentesClient());\n\n        return kubernetesTaskLauncher;\n    }\n\n\n    @Bean(name = &quot;partitionedJob&quot;)\n    @Profile(&quot;!worker&quot;)\n    public Job partitionedJob()throws Exception {\n        Random random = new Random();\n        return jobBuilderFactory.get(&quot;partitionedJob&quot; + random.nextInt())\n                .start(partitionReaderStep())\n                .listener(jobExecutionListener())\n                .next(partitionProcessorStep())\n                .build();\n    }\n\n    @Bean(name = &quot;partitionReaderStep&quot;)\n    public Step partitionReaderStep() throws Exception {\n\n        return stepBuilderFactory.get(&quot;partitionReaderStep&quot;)\n                .partitioner(workerStepReader().getName(),  partitioner( null))\n                .step(workerStepReader())\n                .partitionHandler(partitionHandler(\n                        taskLauncher( null),\n                        jobExplorer, null))\n                .build();\n    }\n\n    @Bean(name = &quot;partitionProcessorStep&quot;)\n    public Step partitionProcessorStep() throws Exception {\n\n        return stepBuilderFactory.get(&quot;partitionProcessorStep&quot;)\n                .partitioner(workerStepProcessor().getName(), partitioner( null))\n                .step(workerStepProcessor())\n                .partitionHandler(partitionHandler(\n                        taskLauncher( null),\n                        jobExplorer, null))\n                .build();\n    }\n\n\n    @Bean\n    @StepScope\n    public PartitionHandler partitionHandler(TaskLauncher taskLauncher,\n                                                   JobExplorer jobExplorer,\n                                             @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) throws Exception {\n\n        String step =&quot;processor&quot;;\n\n        if(stepExecution.getStepName().equalsIgnoreCase(&quot;partitionReaderStep&quot;)) {\n            step = &quot;reader&quot;;\n        }\n\n        // Use local build image\n        DockerResource resource = new DockerResource(stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerImage&quot;));\n\n\n        DeployerPartitionHandler partitionHandler =\n                new DeployerPartitionHandler(taskLauncher, jobExplorer, resource,\n                        stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerStep&quot;)\n                        , taskRepository);\n\n        // Issue https://github.com/spring-cloud/spring-cloud-task/issues/793\n        // Perform the setting of execution as this partitioner now not created at task level so @beforetask is no longer vaild\n        // The problem is DeployerPartitionHandler utilize annoation @BeforeTask to force task to pass in TaskExecution object as part of Task setup\n        // But as this partionerHandler is now at @StepScope (instead of directly at @Bean level with @Enable Task), that setup is no longer triggered\n        // Resulted created DeployerHandler faced a null\n\n        // Below is essentially a workaround to use the current job execution id to retrieve the associated task execution id\n        // From there, got that task execution and passed to deploy handler to fulfill its need of taskExecution reference\n        // It seem to work, but still not clear if there is other side effect (so far during test not found any)\n        long executionId = taskExplorer.getTaskExecutionIdByJobExecutionId(stepExecution.getJobExecutionId());\n\n        System.out.println(&quot;Current execution job to task execution id &quot; + executionId);\n        TaskExecution taskExecution = taskExplorer.getTaskExecution(taskExplorer.getTaskExecutionIdByJobExecutionId(stepExecution.getJobExecutionId()));\n        System.out.println(&quot;Current execution job to task execution is not null: &quot; + (taskExecution != null));\n        partitionHandler.beforeTask(taskExecution);\n\n        List&lt;String&gt; commandLineArgs = new ArrayList&lt;&gt;(3);\n        commandLineArgs.add(&quot;--spring.profiles.active=worker&quot;);\n        commandLineArgs.add(&quot;--spring.cloud.task.initialize.enable=false&quot;);\n        commandLineArgs.add(&quot;--spring.batch.initializer.enabled=false&quot;);\n        partitionHandler\n                .setCommandLineArgsProvider(new PassThroughCommandLineArgsProvider(commandLineArgs));\n        partitionHandler.setEnvironmentVariablesProvider(new NoOpEnvironmentVariablesProvider());\n        partitionHandler.setMaxWorkers(Integer.parseInt(stepExecution.getJobExecution().getExecutionContext().getString(step + &quot;WorkerGridSize&quot;)));\n\n            partitionHandler.setApplicationName(taskName_prefix + step);\n\n        return partitionHandler;\n    }\n\n    @Bean\n    public JobExecutionListener jobExecutionListener() {\n    JobExecutionListener listener = new JobExecutionListener(){\n        @Override\n        public void beforeJob(JobExecution jobExecution)\n        {\n            jobExecution.getExecutionContext().putString(&quot;readerCPURequest&quot;, &quot;1&quot;);\n            jobExecution.getExecutionContext().putString(&quot;readerCPULimit&quot;, &quot;2&quot;);\n\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerGridSize&quot;, &quot;1&quot;);\n\n            // For now using same image for reader/processor, but if it work, can split them\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerImage&quot;, &quot;worker:latest&quot;);\n            jobExecution.getExecutionContext().putString(&quot;readerWorkerStep&quot;, &quot;workerStepReader&quot;);\n\n            jobExecution.getExecutionContext().putString(&quot;processorCPURequest&quot;, &quot;3&quot;);\n            jobExecution.getExecutionContext().putString(&quot;processorCPULimit&quot;, &quot;4&quot;);\n\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerGridSize&quot;, &quot;2&quot;);\n\n            // For now using same image for reader/processor, but if it work, will split them\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerImage&quot;, &quot;worker:latest&quot;);\n            jobExecution.getExecutionContext().putString(&quot;processorWorkerStep&quot;, &quot;workerStepProcessor&quot;);\n\n            System.out.println(&quot;Set readerGridSize == &quot; + jobExecution.getExecutionContext().getString(&quot;readerGridSize&quot;, &quot;IT IS NULL WHICH IS INCORRECT&quot;));\n\n        }\n\n        @Override\n        public void afterJob(JobExecution jobExecution) {\n        }\n    };\n\n    return listener;\n    }\n\n    @Bean\n    @Profile(&quot;worker&quot;)\n    public DeployerStepExecutionHandler stepExecutionHandler(JobExplorer jobExplorer) {\n        return new DeployerStepExecutionHandler(this.context, jobExplorer, this.jobRepository);\n    }\n\n    @Bean(name = &quot;workerStepReader&quot;)\n    public Step workerStepReader() {\n        return this.stepBuilderFactory.get(&quot;workerStepReader&quot;)\n                .tasklet(workerTaskletReader(null))\n                .build();\n    }\n\n    @Bean(name = &quot;workerStepProcessor&quot;)\n    public Step workerStepProcessor() {\n        return this.stepBuilderFactory.get(&quot;workerStepProcessor&quot;)\n                .tasklet(workerTaskletProcessor(null))\n                .build();\n    }\n\n\n\n    @Bean\n    @StepScope\n    public Tasklet workerTaskletReader(\n            final @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\n\n        return new Tasklet() {\n            @Override\n            public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n                Integer partitionNumber = stepExecution.getExecutionContext().getInt(&quot;partitionNumber&quot;);\n                System.out.println(&quot;This workerTaskletReader ran partition: &quot; + partitionNumber);\n\n                return RepeatStatus.FINISHED;\n            }\n        };\n    }\n\n    @Bean\n    @StepScope\n    public Tasklet workerTaskletProcessor(\n            final @Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\n\n        return new Tasklet() {\n            @Override\n            public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n                Integer partitionNumber = stepExecution.getExecutionContext().getInt(&quot;partitionNumber&quot;);\n                System.out.println(&quot;This workerTaskletProcessor ran partition: &quot; + partitionNumber);\n\n                return RepeatStatus.FINISHED;\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7497564,"reputation":25,"user_id":5697219,"display_name":"Danil Ko"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68679012,"answer_count":1,"score":2,"last_activity_date":1648972776,"creation_date":1628065082,"question_id":68647761,"body_markdown":"Latest Update (with an image to hope simplify the problem) (thanks for feedback from @Mahmoud)\r\n\r\nRelate issue reports for other reference (after this original post created, it seem someone filed issues for Spring Cloud on similar issue, so also update there too):\r\n\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-task/issues/793 relate to approach #1\r\n\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-task/issues/792 relate to approach #2\r\n\r\nAlso find a workaround resolution for that issue and update on that github issue, will update this once it is confirmed good by developer\r\nhttps://github.com/spring-cloud/spring-cloud-task/issues/793#issuecomment-894617929\r\n\r\n\r\n\r\nI am developing an application involved multi-steps using spring batch job but hit some roadblock. Did try to research doc and different attempts, but no success. So thought to check if community can shed light\r\n\r\nSpring batch job 1 (received job parameter for setting for step 1/setting for step 2)\r\n\r\n        Step 1 -&gt; remote partition (partitionhandler (cpu/memory for step 1 + grid) + partitioner) with setting from step1 (job configuration or step configuration)\r\n\r\n        Step 2 -&gt; remote partition (partitionhandler (cpu/memory for step 2 + grid) + partitioner) with setting from step2 (job configuration or step configuration, and diff from step 1)\r\n\r\nThe reason we want is to have different step with different k8s setting (like cpu/memory/grid)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAttempts:\r\n\r\n 1. Create two partition handler (partitionHandlerReader + partitionHandlerProcessor) and their corresponding launcher (LauncherReader + LauncherProcessor)\r\n[![enter image description here][2]][2]\r\n\r\nComplete Project can be found in\r\nhttps://github.com/danilko/spring-batch-remote-k8s-paritition-example/tree/attempt_1_two_partitionhandlers\r\n\r\nThe main class of configuration is try to simplify into one class\r\nhttps://github.com/danilko/spring-batch-remote-k8s-paritition-example/blob/attempt_1_two_partitionhandlers/src/main/java/com/example/batchprocessing/BatchConfiguration.java\r\n\r\n\r\n 2. Use one PartitionerHandler + one TaskLauncher but with @StepScope for late binding for dynamic change base on step and job setup\r\n\r\n[![enter image description here][3]][3]\r\n\r\nComplete Project can be found in\r\nhttps://github.com/danilko/spring-batch-remote-k8s-paritition-example/tree/attempt_2_partitionhandler_with_stepscope\r\n\r\nThe main class of configuration is try to simplify into one class\r\nhttps://github.com/danilko/spring-batch-remote-k8s-paritition-example/blob/attempt_2_partitionhandler_with_stepscope/src/main/java/com/example/batchprocessing/BatchConfiguration.java\r\n\r\n\r\nBoth Result Following (full trace at above git repo):\r\n\r\nDuring job trigger, it will error (it seem pass initial start up, but error during execution)\r\n\r\nBecause below will only occur when there are multiple `PartitionHandler` or when that Bean is at `@StepScope` or `@JobScope`\r\n\r\n```\r\n\r\njava.lang.NullPointerException: null\r\n    at org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.launchWorker(DeployerPartitionHandler.java:347) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\r\n    at org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.launchWorkers(DeployerPartitionHandler.java:313) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\r\n    at org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.handle(DeployerPartitionHandler.java:302) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\r\n\r\n```\r\n\r\n\r\nFull Log\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.4.6)\r\n\r\n2021-08-06 11:24:29.242  INFO 90294 --- [           main] c.e.b.BatchProcessingApplication         : Starting BatchProcessingApplication v0.0.1-SNAPSHOT using Java 11.0.7 on localhost.localdomain with PID 90294 (/home/danilko/IdeaProjects/partition/target/batchprocessing-0.0.1-SNAPSHOT.jar started by danilko in /home/danilko/IdeaProjects/partition)\r\n2021-08-06 11:24:29.244  INFO 90294 --- [           main] c.e.b.BatchProcessingApplication         : The following profiles are active: controller\r\n2021-08-06 11:24:29.790  INFO 90294 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\r\n2021-08-06 11:24:29.794  INFO 90294 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;taskScheduler&#39; has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.\r\n2021-08-06 11:24:29.797  INFO 90294 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;integrationHeaderChannelRegistry&#39; has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\r\n2021-08-06 11:24:29.833  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.integration.config.IntegrationManagementConfiguration&#39; of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2021-08-06 11:24:29.947  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;integrationChannelResolver&#39; of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2021-08-06 11:24:29.947  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;integrationDisposableAutoCreatedBeans&#39; of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2021-08-06 11:24:29.959  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.task.batch.configuration.TaskBatchAutoConfiguration&#39; of type [org.springframework.cloud.task.batch.configuration.TaskBatchAutoConfiguration$$EnhancerBySpringCGLIB$$83e6c2be] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2021-08-06 11:24:29.968  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.task.batch.listener.BatchEventAutoConfiguration&#39; of type [org.springframework.cloud.task.batch.listener.BatchEventAutoConfiguration$$EnhancerBySpringCGLIB$$cc3cccc1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2021-08-06 11:24:30.093  INFO 90294 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2021-08-06 11:24:30.160  INFO 90294 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2021-08-06 11:24:30.724  INFO 90294 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: MYSQL\r\n2021-08-06 11:24:30.736  INFO 90294 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\r\n2021-08-06 11:24:30.897  INFO 90294 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the &#39;errorChannel&#39; channel\r\n2021-08-06 11:24:30.897  INFO 90294 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application.errorChannel&#39; has 1 subscriber(s).\r\n2021-08-06 11:24:30.897  INFO 90294 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;_org.springframework.integration.errorLogger&#39;\r\n2021-08-06 11:24:30.974  INFO 90294 --- [           main] c.e.b.BatchProcessingApplication         : Started BatchProcessingApplication in 2.024 seconds (JVM running for 2.366)\r\n2021-08-06 11:24:30.975  INFO 90294 --- [           main] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\r\n2021-08-06 11:24:31.010  INFO 90294 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=partitionedJob-1538890488]] launched with the following parameters: [{}]\r\nSet readerGridSize == 1\r\n2021-08-06 11:24:31.020  INFO 90294 --- [           main] o.s.c.t.b.l.TaskBatchExecutionListener   : The job execution id 22 was run within the task execution 54\r\n2021-08-06 11:24:31.046  INFO 90294 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [partitionReaderStep]\r\n2021-08-06 11:24:31.101 ERROR 90294 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step partitionReaderStep in job partitionedJob-1538890488\r\n\r\njava.lang.NullPointerException: null\r\n\tat org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.launchWorker(DeployerPartitionHandler.java:347) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\r\n\tat org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.launchWorkers(DeployerPartitionHandler.java:313) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\r\n\tat org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.handle(DeployerPartitionHandler.java:302) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat com.sun.proxy.$Proxy65.handle(Unknown Source) ~[na:na]\r\n\tat org.springframework.batch.core.partition.support.PartitionStep.doExecute(PartitionStep.java:106) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\r\n\tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\r\n\tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\r\n\tat org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\r\n\tat org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\r\n\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n\tat com.sun.proxy.$Proxy51.run(Unknown Source) ~[na:na]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:799) ~[spring-boot-2.4.6.jar!/:2.4.6]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:789) ~[spring-boot-2.4.6.jar!/:2.4.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:346) ~[spring-boot-2.4.6.jar!/:2.4.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.6.jar!/:2.4.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1318) ~[spring-boot-2.4.6.jar!/:2.4.6]\r\n\tat com.example.batchprocessing.BatchProcessingApplication.main(BatchProcessingApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[batchprocessing-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[batchprocessing-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[batchprocessing-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[batchprocessing-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\r\n\r\n```\r\n\r\nStudy/Reference:\r\nMost tutorial I found online only involved one partition step.\r\nhttps://dataflow.spring.io/docs/feature-guides/batch/partitioning/\r\n\r\nThanks for info/helps in advance\r\n\r\n  [1]: https://i.stack.imgur.com/NLvOk.png\r\n  [2]: https://i.stack.imgur.com/bg8pc.png\r\n  [3]: https://i.stack.imgur.com/LUSDf.png","title":"Spring Batch with multi - step Spring Cloud Task (PartitionHandler) for Remote Partition","body":"<p>Latest Update (with an image to hope simplify the problem) (thanks for feedback from @Mahmoud)</p>\n<p>Relate issue reports for other reference (after this original post created, it seem someone filed issues for Spring Cloud on similar issue, so also update there too):</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-task/issues/793\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-task/issues/793</a> relate to approach #1</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-task/issues/792\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-task/issues/792</a> relate to approach #2</p>\n<p>Also find a workaround resolution for that issue and update on that github issue, will update this once it is confirmed good by developer\n<a href=\"https://github.com/spring-cloud/spring-cloud-task/issues/793#issuecomment-894617929\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-task/issues/793#issuecomment-894617929</a></p>\n<p>I am developing an application involved multi-steps using spring batch job but hit some roadblock. Did try to research doc and different attempts, but no success. So thought to check if community can shed light</p>\n<p>Spring batch job 1 (received job parameter for setting for step 1/setting for step 2)</p>\n<pre><code>    Step 1 -&gt; remote partition (partitionhandler (cpu/memory for step 1 + grid) + partitioner) with setting from step1 (job configuration or step configuration)\n\n    Step 2 -&gt; remote partition (partitionhandler (cpu/memory for step 2 + grid) + partitioner) with setting from step2 (job configuration or step configuration, and diff from step 1)\n</code></pre>\n<p>The reason we want is to have different step with different k8s setting (like cpu/memory/grid)</p>\n<p><a href=\"https://i.stack.imgur.com/NLvOk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NLvOk.png\" alt=\"enter image description here\" /></a></p>\n<p>Attempts:</p>\n<ol>\n<li>Create two partition handler (partitionHandlerReader + partitionHandlerProcessor) and their corresponding launcher (LauncherReader + LauncherProcessor)\n<a href=\"https://i.stack.imgur.com/bg8pc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bg8pc.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>Complete Project can be found in\n<a href=\"https://github.com/danilko/spring-batch-remote-k8s-paritition-example/tree/attempt_1_two_partitionhandlers\" rel=\"nofollow noreferrer\">https://github.com/danilko/spring-batch-remote-k8s-paritition-example/tree/attempt_1_two_partitionhandlers</a></p>\n<p>The main class of configuration is try to simplify into one class\n<a href=\"https://github.com/danilko/spring-batch-remote-k8s-paritition-example/blob/attempt_1_two_partitionhandlers/src/main/java/com/example/batchprocessing/BatchConfiguration.java\" rel=\"nofollow noreferrer\">https://github.com/danilko/spring-batch-remote-k8s-paritition-example/blob/attempt_1_two_partitionhandlers/src/main/java/com/example/batchprocessing/BatchConfiguration.java</a></p>\n<ol start=\"2\">\n<li>Use one PartitionerHandler + one TaskLauncher but with @StepScope for late binding for dynamic change base on step and job setup</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/LUSDf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LUSDf.png\" alt=\"enter image description here\" /></a></p>\n<p>Complete Project can be found in\n<a href=\"https://github.com/danilko/spring-batch-remote-k8s-paritition-example/tree/attempt_2_partitionhandler_with_stepscope\" rel=\"nofollow noreferrer\">https://github.com/danilko/spring-batch-remote-k8s-paritition-example/tree/attempt_2_partitionhandler_with_stepscope</a></p>\n<p>The main class of configuration is try to simplify into one class\n<a href=\"https://github.com/danilko/spring-batch-remote-k8s-paritition-example/blob/attempt_2_partitionhandler_with_stepscope/src/main/java/com/example/batchprocessing/BatchConfiguration.java\" rel=\"nofollow noreferrer\">https://github.com/danilko/spring-batch-remote-k8s-paritition-example/blob/attempt_2_partitionhandler_with_stepscope/src/main/java/com/example/batchprocessing/BatchConfiguration.java</a></p>\n<p>Both Result Following (full trace at above git repo):</p>\n<p>During job trigger, it will error (it seem pass initial start up, but error during execution)</p>\n<p>Because below will only occur when there are multiple <code>PartitionHandler</code> or when that Bean is at <code>@StepScope</code> or <code>@JobScope</code></p>\n<pre><code>\njava.lang.NullPointerException: null\n    at org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.launchWorker(DeployerPartitionHandler.java:347) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\n    at org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.launchWorkers(DeployerPartitionHandler.java:313) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\n    at org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.handle(DeployerPartitionHandler.java:302) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\n\n</code></pre>\n<p>Full Log</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.4.6)\n\n2021-08-06 11:24:29.242  INFO 90294 --- [           main] c.e.b.BatchProcessingApplication         : Starting BatchProcessingApplication v0.0.1-SNAPSHOT using Java 11.0.7 on localhost.localdomain with PID 90294 (/home/danilko/IdeaProjects/partition/target/batchprocessing-0.0.1-SNAPSHOT.jar started by danilko in /home/danilko/IdeaProjects/partition)\n2021-08-06 11:24:29.244  INFO 90294 --- [           main] c.e.b.BatchProcessingApplication         : The following profiles are active: controller\n2021-08-06 11:24:29.790  INFO 90294 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\n2021-08-06 11:24:29.794  INFO 90294 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.\n2021-08-06 11:24:29.797  INFO 90294 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\n2021-08-06 11:24:29.833  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-08-06 11:24:29.947  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-08-06 11:24:29.947  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-08-06 11:24:29.959  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.task.batch.configuration.TaskBatchAutoConfiguration' of type [org.springframework.cloud.task.batch.configuration.TaskBatchAutoConfiguration$$EnhancerBySpringCGLIB$$83e6c2be] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-08-06 11:24:29.968  INFO 90294 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.task.batch.listener.BatchEventAutoConfiguration' of type [org.springframework.cloud.task.batch.listener.BatchEventAutoConfiguration$$EnhancerBySpringCGLIB$$cc3cccc1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-08-06 11:24:30.093  INFO 90294 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-08-06 11:24:30.160  INFO 90294 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-08-06 11:24:30.724  INFO 90294 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: MYSQL\n2021-08-06 11:24:30.736  INFO 90294 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\n2021-08-06 11:24:30.897  INFO 90294 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel\n2021-08-06 11:24:30.897  INFO 90294 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).\n2021-08-06 11:24:30.897  INFO 90294 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'\n2021-08-06 11:24:30.974  INFO 90294 --- [           main] c.e.b.BatchProcessingApplication         : Started BatchProcessingApplication in 2.024 seconds (JVM running for 2.366)\n2021-08-06 11:24:30.975  INFO 90294 --- [           main] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\n2021-08-06 11:24:31.010  INFO 90294 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=partitionedJob-1538890488]] launched with the following parameters: [{}]\nSet readerGridSize == 1\n2021-08-06 11:24:31.020  INFO 90294 --- [           main] o.s.c.t.b.l.TaskBatchExecutionListener   : The job execution id 22 was run within the task execution 54\n2021-08-06 11:24:31.046  INFO 90294 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [partitionReaderStep]\n2021-08-06 11:24:31.101 ERROR 90294 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step partitionReaderStep in job partitionedJob-1538890488\n\njava.lang.NullPointerException: null\n    at org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.launchWorker(DeployerPartitionHandler.java:347) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\n    at org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.launchWorkers(DeployerPartitionHandler.java:313) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\n    at org.springframework.cloud.task.batch.partition.DeployerPartitionHandler.handle(DeployerPartitionHandler.java:302) ~[spring-cloud-task-batch-2.3.1-SNAPSHOT.jar!/:2.3.1-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at com.sun.proxy.$Proxy65.handle(Unknown Source) ~[na:na]\n    at org.springframework.batch.core.partition.support.PartitionStep.doExecute(PartitionStep.java:106) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\n    at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\n    at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.3.7.jar!/:5.3.7]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.3.jar!/:4.3.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.7.jar!/:5.3.7]\n    at com.sun.proxy.$Proxy51.run(Unknown Source) ~[na:na]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150) ~[spring-boot-autoconfigure-2.4.6.jar!/:2.4.6]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:799) ~[spring-boot-2.4.6.jar!/:2.4.6]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:789) ~[spring-boot-2.4.6.jar!/:2.4.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:346) ~[spring-boot-2.4.6.jar!/:2.4.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.6.jar!/:2.4.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1318) ~[spring-boot-2.4.6.jar!/:2.4.6]\n    at com.example.batchprocessing.BatchProcessingApplication.main(BatchProcessingApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[batchprocessing-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[batchprocessing-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[batchprocessing-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[batchprocessing-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n\n\n</code></pre>\n<p>Study/Reference:\nMost tutorial I found online only involved one partition step.\n<a href=\"https://dataflow.spring.io/docs/feature-guides/batch/partitioning/\" rel=\"nofollow noreferrer\">https://dataflow.spring.io/docs/feature-guides/batch/partitioning/</a></p>\n<p>Thanks for info/helps in advance</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1648964889,"post_id":71723316,"comment_id":126753400,"body_markdown":"Why are you casting to JSONObject?","body":"Why are you casting to JSONObject?"},{"owner":{"account_id":22749883,"reputation":1,"user_id":16910198,"display_name":"Uvini Amasha"},"score":0,"creation_date":1648965632,"post_id":71723316,"comment_id":126753479,"body_markdown":"My Requirement is  Read the Jason File from One Class, then use the values on that Json file in another class. If I Did not Cast IDE return me the error","body":"My Requirement is  Read the Jason File from One Class, then use the values on that Json file in another class. If I Did not Cast IDE return me the error"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648965960,"post_id":71723316,"comment_id":126753509,"body_markdown":"Do you know whether your JSON file will contain a JSON Object, or a JSON Array? Or might it contain either?","body":"Do you know whether your JSON file will contain a JSON Object, or a JSON Array? Or might it contain either?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648971953,"post_id":71723316,"comment_id":126754340,"body_markdown":"Then use the debugger to have a look at the `JSONArray` that `parse` is returning. Perhaps it has a single element which is your object?","body":"Then use the debugger to have a look at the <code>JSONArray</code> that <code>parse</code> is returning. Perhaps it has a single element which is your object?"},{"owner":{"account_id":22749883,"reputation":1,"user_id":16910198,"display_name":"Uvini Amasha"},"score":0,"creation_date":1648978635,"post_id":71723316,"comment_id":126755480,"body_markdown":"Yes, My parse is returning the values","body":"Yes, My parse is returning the values"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648978767,"post_id":71723316,"comment_id":126755501,"body_markdown":"I&#39;m not sure what you mean. What are the contents of the JSONArray?","body":"I&#39;m not sure what you mean. What are the contents of the JSONArray?"},{"owner":{"account_id":22749883,"reputation":1,"user_id":16910198,"display_name":"Uvini Amasha"},"score":0,"creation_date":1648978920,"post_id":71723316,"comment_id":126755527,"body_markdown":"{\n        &quot;browserName&quot;: &quot;Chrome&quot;,\n        &quot;url&quot;: &quot;https://googlr.com/&quot;\n      }","body":"{         &quot;browserName&quot;: &quot;Chrome&quot;,         &quot;url&quot;: &quot;<a href=\"https://googlr.com/\" rel=\"nofollow noreferrer\">googlr.com</a>&quot;       }"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648979440,"post_id":71723316,"comment_id":126755610,"body_markdown":"That&#39;s a JSON Object, not an array, so I&#39;m still not sure what `parse` is returning.","body":"That&#39;s a JSON Object, not an array, so I&#39;m still not sure what <code>parse</code> is returning."},{"owner":{"account_id":15151036,"reputation":1056,"user_id":10933373,"display_name":"gfmoore"},"score":0,"creation_date":1673632795,"post_id":71723316,"comment_id":132550671,"body_markdown":"@tgdavies - you gave me my lightbulb moment :)","body":"@tgdavies - you gave me my lightbulb moment :)"}],"answers":[{"tags":[],"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648966336,"creation_date":1648966336,"answer_id":71723446,"question_id":71723316,"body_markdown":"Why not directly use org.json.JSONObject\r\n\r\nJSONObject myJsonObject = new JSONObject(new FileReader(fileName));","title":"class org.json.simple.JSONArray cannot be cast to class org.json.JSONObject","body":"<p>Why not directly use org.json.JSONObject</p>\n<p>JSONObject myJsonObject = new JSONObject(new FileReader(fileName));</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648971801,"creation_date":1648967173,"answer_id":71723499,"question_id":71723316,"body_markdown":"A JSON Object looks like:\r\n`{&quot;foo&quot;: &quot;bar&quot;, ... }`\r\nwhile a JSON Array looks like: `[&quot;foo&quot;, &quot;bar&quot;, ...]`.\r\n\r\n\r\nIf you read the documentation for `org.json.simple` you&#39;ll see that `parse` returns `Object` and that `org.json.JSONObject` is not part of that library.\r\n\r\nIf you want to use `org.json.simple`, then your `readJsonFile` method will need to return `Object`, unless you are certain that the JSON file contains a JSON Array, i.e. `[&quot;foo&quot;, &quot;bar&quot;, ...]`, in which case you can cast to `org.json.simple.JSONArray`.\r\n\r\nThis will give you a `ClassCastException` when your JSON file contains a JSON Object instead of an array.","title":"class org.json.simple.JSONArray cannot be cast to class org.json.JSONObject","body":"<p>A JSON Object looks like:\n<code>{&quot;foo&quot;: &quot;bar&quot;, ... }</code>\nwhile a JSON Array looks like: <code>[&quot;foo&quot;, &quot;bar&quot;, ...]</code>.</p>\n<p>If you read the documentation for <code>org.json.simple</code> you'll see that <code>parse</code> returns <code>Object</code> and that <code>org.json.JSONObject</code> is not part of that library.</p>\n<p>If you want to use <code>org.json.simple</code>, then your <code>readJsonFile</code> method will need to return <code>Object</code>, unless you are certain that the JSON file contains a JSON Array, i.e. <code>[&quot;foo&quot;, &quot;bar&quot;, ...]</code>, in which case you can cast to <code>org.json.simple.JSONArray</code>.</p>\n<p>This will give you a <code>ClassCastException</code> when your JSON file contains a JSON Object instead of an array.</p>\n"},{"tags":[],"owner":{"account_id":9301027,"reputation":121,"user_id":6906504,"display_name":"Tarun Bisht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648968611,"creation_date":1648967361,"answer_id":71723521,"question_id":71723316,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n    try {\r\n        FileReader fr = new FileReader(&quot;path/to/file.json&quot;);\r\n        JSONParser parser = new JSONParser();\r\n        JSONArray jObj = (JSONArray) parser.parse(fr);      \r\n    } catch (IOException | ParseException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nUse JSONObject for JSON like\r\n```\r\n{\r\n  &quot;id&quot;:&quot;101&quot;,\r\n  &quot;name&quot;:&quot;Tarun&quot;\r\n} \r\n```\r\nand JSONArray for array of JSON like \r\n```\r\n[\r\n {&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;ankur&quot;},\r\n {&quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;mahajan&quot;}\r\n]\r\n```\r\n\r\nyou can wrap it in a func. and return the jObj according to your needs.","title":"class org.json.simple.JSONArray cannot be cast to class org.json.JSONObject","body":"<pre><code>public static void main(String[] args) {\n    try {\n        FileReader fr = new FileReader(&quot;path/to/file.json&quot;);\n        JSONParser parser = new JSONParser();\n        JSONArray jObj = (JSONArray) parser.parse(fr);      \n    } catch (IOException | ParseException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Use JSONObject for JSON like</p>\n<pre><code>{\n  &quot;id&quot;:&quot;101&quot;,\n  &quot;name&quot;:&quot;Tarun&quot;\n} \n</code></pre>\n<p>and JSONArray for array of JSON like</p>\n<pre><code>[\n {&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;ankur&quot;},\n {&quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;mahajan&quot;}\n]\n</code></pre>\n<p>you can wrap it in a func. and return the jObj according to your needs.</p>\n"}],"owner":{"account_id":22749883,"reputation":1,"user_id":16910198,"display_name":"Uvini Amasha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4061,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648971801,"creation_date":1648964785,"question_id":71723316,"body_markdown":" - Here is my Java Class\r\n     \r\n       I am getting below Exception, \r\n       My Requirement is : Read the Json entire Json file and return it, can come one please help me to figure this out\r\n\r\n    \r\n```\r\n    package Resources;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    import org.json.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    \r\n    public class ObjectRepository {\r\n    \t\tpublic static JSONObject readJsonFile(String fileName) throws IOException, Exception {\r\n    \t\tfileName=&quot;C:\\\\Users\\\\AamP\\\\eclipse-workspace\\\\globalData.json&quot;;\r\n    \t\tJSONParser myParser = new JSONParser();\r\n    \t\tObject myObject = myParser.parse(new FileReader(fileName));\r\n    \t\tJSONObject myJsonObject = (JSONObject) myObject;\r\n    \t\treturn myJsonObject;\r\n    \r\n    \t}\r\n    \r\n    }\r\n```    \r\n    \r\n   \r\n```    \r\n        java.lang.ClassCastException: class org.json.simple.JSONArray cannot be cast to class org.json.JSONObject (org.json.simple.JSONArray and org.json.JSONObject are in unnamed module of loader &#39;app&#39;)\r\n        \tat Resources.ObjectRepository.readJsonFile(ObjectRepository.java:41)\r\n        \tat Resources.BaseClass.initializeDriver(BaseClass.java:57)\r\n        \tat Nimbly.nimbly_ui.SampleTest.loadUrl(SampleTest.java:29)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n        \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n        \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n        \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n        \tat org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:637)\r\n        \tat org.testng.TestRunner.beforeRun(TestRunner.java:627)\r\n        \tat org.testng.TestRunner.run(TestRunner.java:589)\r\n        \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n        \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n        \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n        \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n        \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n        \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n        \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n        \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n        \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n        \tat org.testng.TestNG.run(TestNG.java:1031)\r\n        \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n        \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n        \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n```\r\n\r\n\r\n","title":"class org.json.simple.JSONArray cannot be cast to class org.json.JSONObject","body":"<ul>\n<li><p>Here is my Java Class</p>\n<pre><code>I am getting below Exception, \nMy Requirement is : Read the Json entire Json file and return it, can come one please help me to figure this out\n</code></pre>\n</li>\n</ul>\n<pre><code>    package Resources;\n    import java.io.FileInputStream;\n    import java.io.FileReader;\n    import java.io.IOException;\n    import java.util.Properties;\n    \n    import org.json.JSONObject;\n    import org.json.simple.parser.JSONParser;\n    import org.json.simple.parser.ParseException;\n    import org.openqa.selenium.WebDriver;\n    import org.openqa.selenium.WebElement;\n    import com.fasterxml.jackson.core.JsonParser;\n    \n    public class ObjectRepository {\n            public static JSONObject readJsonFile(String fileName) throws IOException, Exception {\n            fileName=&quot;C:\\\\Users\\\\AamP\\\\eclipse-workspace\\\\globalData.json&quot;;\n            JSONParser myParser = new JSONParser();\n            Object myObject = myParser.parse(new FileReader(fileName));\n            JSONObject myJsonObject = (JSONObject) myObject;\n            return myJsonObject;\n    \n        }\n    \n    }\n</code></pre>\n<pre><code>        java.lang.ClassCastException: class org.json.simple.JSONArray cannot be cast to class org.json.JSONObject (org.json.simple.JSONArray and org.json.JSONObject are in unnamed module of loader 'app')\n            at Resources.ObjectRepository.readJsonFile(ObjectRepository.java:41)\n            at Resources.BaseClass.initializeDriver(BaseClass.java:57)\n            at Nimbly.nimbly_ui.SampleTest.loadUrl(SampleTest.java:29)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n            at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n            at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n            at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n            at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n            at org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:637)\n            at org.testng.TestRunner.beforeRun(TestRunner.java:627)\n            at org.testng.TestRunner.run(TestRunner.java:589)\n            at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n            at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n            at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n            at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n            at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n            at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n            at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n            at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n            at org.testng.TestNG.runSuites(TestNG.java:1063)\n            at org.testng.TestNG.run(TestNG.java:1031)\n            at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n            at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n            at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1648928074,"post_id":71720596,"comment_id":126748771,"body_markdown":"Your three methods `union`, `difference` and `intersection` (spelling) are not correct. Without seeing them, it&#39;s hard to tell you exactly how they&#39;re wrong. Although I can *probably* guess.","body":"Your three methods <code>union</code>, <code>difference</code> and <code>intersection</code> (spelling) are not correct. Without seeing them, it&#39;s hard to tell you exactly how they&#39;re wrong. Although I can <i>probably</i> guess."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648929864,"creation_date":1648929864,"answer_id":71720814,"question_id":71720596,"body_markdown":"`addAll`, `removeAll`, and `retainAll` do not return a new `PriorityQueue`; they modify the queue the method is called on and return a boolean indicating whether or not it was modified by the call. Therefore, you should return the queue itself after calling one of those methods. To prevent the original queue from being modified by these operations, make a copy of the first queue to return.\r\n\r\n```java\r\npublic static PriorityQueue&lt;String&gt; union(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\r\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;&gt;(pr1);\r\n    pq.addAll(pr2);\r\n    return pq;\r\n}\r\n\r\npublic static PriorityQueue&lt;String&gt; difference(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\r\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;&gt;(pr1);\r\n    pq.removeAll(pr2);\r\n    return pq;\r\n}\r\n\r\npublic static PriorityQueue&lt;String&gt; intersection(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\r\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;&gt;(pr1);\r\n    pq.retainAll(pr2);\r\n    return pq;\r\n}\r\n```","title":"How to implement a program to find the union, intersection, and difference between two priority queues in Java","body":"<p><code>addAll</code>, <code>removeAll</code>, and <code>retainAll</code> do not return a new <code>PriorityQueue</code>; they modify the queue the method is called on and return a boolean indicating whether or not it was modified by the call. Therefore, you should return the queue itself after calling one of those methods. To prevent the original queue from being modified by these operations, make a copy of the first queue to return.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static PriorityQueue&lt;String&gt; union(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;&gt;(pr1);\n    pq.addAll(pr2);\n    return pq;\n}\n\npublic static PriorityQueue&lt;String&gt; difference(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;&gt;(pr1);\n    pq.removeAll(pr2);\n    return pq;\n}\n\npublic static PriorityQueue&lt;String&gt; intersection(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;&gt;(pr1);\n    pq.retainAll(pr2);\n    return pq;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648971379,"creation_date":1648930106,"answer_id":71720834,"question_id":71720596,"body_markdown":"Your method need to return `PriorityQueue&lt;String&gt;`, but you are returning a `boolean`. Check [javadoc][1] for `addAll()`. To cite - `true if this queue changed as a result of the call`.\r\n\r\nSince `addAll()`, etc., change the collection, and you are working with the same collections every time, you need something like this:\r\n```\r\npublic static PriorityQueue&lt;String&gt; union(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\r\n    PriorityQueue&lt;String&gt; result = new PriorityQueue&lt;&gt;(pr1);\r\n    result.addAll(pr2);\r\n    return result;\r\n}\r\n```\r\nThe idea is not to change the initial queues. Do the same with `difference` and `intersection`.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/AbstractQueue.html#addAll(java.util.Collection)","title":"How to implement a program to find the union, intersection, and difference between two priority queues in Java","body":"<p>Your method need to return <code>PriorityQueue&lt;String&gt;</code>, but you are returning a <code>boolean</code>. Check <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/AbstractQueue.html#addAll(java.util.Collection)\" rel=\"nofollow noreferrer\">javadoc</a> for <code>addAll()</code>. To cite - <code>true if this queue changed as a result of the call</code>.</p>\n<p>Since <code>addAll()</code>, etc., change the collection, and you are working with the same collections every time, you need something like this:</p>\n<pre><code>public static PriorityQueue&lt;String&gt; union(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\n    PriorityQueue&lt;String&gt; result = new PriorityQueue&lt;&gt;(pr1);\n    result.addAll(pr2);\n    return result;\n}\n</code></pre>\n<p>The idea is not to change the initial queues. Do the same with <code>difference</code> and <code>intersection</code>.</p>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1648971379,"creation_date":1648927496,"question_id":71720596,"body_markdown":"I am trying to write a program to perform the following operations on two priority queues. \r\n\r\n 1. union.\r\n 2. intersection.\r\n 3. difference.\r\n\r\nActual:\r\n```\r\nTest1.java:46: error: incompatible types: boolean cannot be converted to PriorityQueue&lt;String&gt;\r\n        return pr1.addAll(pr2);\r\n                         ^\r\nTest1.java:50: error: incompatible types: boolean cannot be converted to PriorityQueue&lt;String&gt;\r\n        return pr1.removeAll(pr2);\r\n                            ^\r\nTest1.java:54: error: incompatible types: boolean cannot be converted to PriorityQueue&lt;String&gt;\r\n        return pr1.retainAll(pr2);\r\n                            ^\r\n3 errors\r\n```\r\n\r\nExpected:\r\n```\r\nThe union of the two priority queue is [Blake, George, George, Jim, Kevin, Michael, John, Katie, Kevin, Michelle, Ryan]\r\nThe difference of the two priority queue is [Blake, Jim, John, Michael]\r\nThe intersection of the two priority queue is [George, Kevin]\r\n```\r\n\r\nMy attempt\r\n```\r\npackage Lists_Stacks_Queues_PriorityQueues;\r\nimport java.util.ArrayList;\r\nimport java.util.PriorityQueue;\r\nimport java.util.Scanner;\r\n\r\n/*\r\n    name: Evan Getis\r\n    date: 04/02\r\n    program: priority queue\r\n*/\r\npublic class Test1 {\r\n    \r\n    public static void main(String args[]){\r\n        PriorityQueue&lt;String&gt; pr1 = new PriorityQueue&lt;&gt;();\r\n        pr1.add(&quot;George&quot;);\r\n        pr1.add(&quot;Jim&quot;);\r\n        pr1.add(&quot;John&quot;);\r\n        pr1.add(&quot;Blake&quot;);\r\n        pr1.add(&quot;Kevin&quot;);\r\n        pr1.add(&quot;Michael&quot;);\r\n        PriorityQueue&lt;String&gt; pr2 = new PriorityQueue&lt;&gt;();\r\n        pr2.add(&quot;George&quot;);\r\n        pr2.add(&quot;Katie&quot;);\r\n        pr2.add(&quot;Kevin&quot;);\r\n        pr2.add(&quot;Michelle&quot;);\r\n        pr2.add(&quot;Ryan&quot;);\r\n\r\n        PriorityQueue&lt;String&gt; result = union(pr1,pr2);\r\n        System.out.print(&quot;The union of the two priority queues is: &quot;);\r\n        System.out.print(result.toString());\r\n        System.out.println();\r\n        result = difference(pr1, pr2);\r\n        System.out.print(&quot;The difference of the two priority queues is: &quot;);\r\n        System.out.print(result.toString());\r\n        System.out.println();\r\n        result = intersection(pr1, pr2);\r\n        System.out.print(&quot;The interesection of the two priority queues is: &quot;);\r\n        System.out.print(result.toString());\r\n        System.out.println();\r\n    }\r\n\r\n    public static PriorityQueue&lt;String&gt; union(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\r\n        return pr1.addAll(pr2);\r\n    }\r\n\r\n    public static PriorityQueue&lt;String&gt; difference(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\r\n        return pr1.removeAll(pr2);\r\n    }\r\n\r\n    public static PriorityQueue&lt;String&gt; intersection(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\r\n        return pr1.retainAll(pr2);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nHow can I debug this code?\r\n","title":"How to implement a program to find the union, intersection, and difference between two priority queues in Java","body":"<p>I am trying to write a program to perform the following operations on two priority queues.</p>\n<ol>\n<li>union.</li>\n<li>intersection.</li>\n<li>difference.</li>\n</ol>\n<p>Actual:</p>\n<pre><code>Test1.java:46: error: incompatible types: boolean cannot be converted to PriorityQueue&lt;String&gt;\n        return pr1.addAll(pr2);\n                         ^\nTest1.java:50: error: incompatible types: boolean cannot be converted to PriorityQueue&lt;String&gt;\n        return pr1.removeAll(pr2);\n                            ^\nTest1.java:54: error: incompatible types: boolean cannot be converted to PriorityQueue&lt;String&gt;\n        return pr1.retainAll(pr2);\n                            ^\n3 errors\n</code></pre>\n<p>Expected:</p>\n<pre><code>The union of the two priority queue is [Blake, George, George, Jim, Kevin, Michael, John, Katie, Kevin, Michelle, Ryan]\nThe difference of the two priority queue is [Blake, Jim, John, Michael]\nThe intersection of the two priority queue is [George, Kevin]\n</code></pre>\n<p>My attempt</p>\n<pre><code>package Lists_Stacks_Queues_PriorityQueues;\nimport java.util.ArrayList;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\n/*\n    name: Evan Getis\n    date: 04/02\n    program: priority queue\n*/\npublic class Test1 {\n    \n    public static void main(String args[]){\n        PriorityQueue&lt;String&gt; pr1 = new PriorityQueue&lt;&gt;();\n        pr1.add(&quot;George&quot;);\n        pr1.add(&quot;Jim&quot;);\n        pr1.add(&quot;John&quot;);\n        pr1.add(&quot;Blake&quot;);\n        pr1.add(&quot;Kevin&quot;);\n        pr1.add(&quot;Michael&quot;);\n        PriorityQueue&lt;String&gt; pr2 = new PriorityQueue&lt;&gt;();\n        pr2.add(&quot;George&quot;);\n        pr2.add(&quot;Katie&quot;);\n        pr2.add(&quot;Kevin&quot;);\n        pr2.add(&quot;Michelle&quot;);\n        pr2.add(&quot;Ryan&quot;);\n\n        PriorityQueue&lt;String&gt; result = union(pr1,pr2);\n        System.out.print(&quot;The union of the two priority queues is: &quot;);\n        System.out.print(result.toString());\n        System.out.println();\n        result = difference(pr1, pr2);\n        System.out.print(&quot;The difference of the two priority queues is: &quot;);\n        System.out.print(result.toString());\n        System.out.println();\n        result = intersection(pr1, pr2);\n        System.out.print(&quot;The interesection of the two priority queues is: &quot;);\n        System.out.print(result.toString());\n        System.out.println();\n    }\n\n    public static PriorityQueue&lt;String&gt; union(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\n        return pr1.addAll(pr2);\n    }\n\n    public static PriorityQueue&lt;String&gt; difference(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\n        return pr1.removeAll(pr2);\n    }\n\n    public static PriorityQueue&lt;String&gt; intersection(PriorityQueue&lt;String&gt; pr1, PriorityQueue&lt;String&gt; pr2){\n        return pr1.retainAll(pr2);\n    }\n}\n\n\n</code></pre>\n<p>How can I debug this code?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1648805131,"post_id":71704618,"comment_id":126722463,"body_markdown":"The number is the index of the result column (see [here](https://developer.android.com/reference/android/database/Cursor#getString(int))). About your second question (by the way, you should ask one question per post only) there&#39;s no guarantee about the ordering of the results if you don&#39;t specify an `ORDER BY` clause in the query, so just moving the cursor to the last row doesn&#39;t guarantee you&#39;ll get the latest new row in the database.","body":"The number is the index of the result column (see <a href=\"https://developer.android.com/reference/android/database/Cursor#getString(int)\" rel=\"nofollow noreferrer\">here</a>). About your second question (by the way, you should ask one question per post only) there&#39;s no guarantee about the ordering of the results if you don&#39;t specify an <code>ORDER BY</code> clause in the query, so just moving the cursor to the last row doesn&#39;t guarantee you&#39;ll get the latest new row in the database."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648970709,"creation_date":1648872992,"answer_id":71714823,"question_id":71704618,"body_markdown":"Lets start with the query `&quot;SELECT * FROM SomeTable&quot;`.  What does it do?\r\n\r\nWhat is does is return all of the rows in the table (in some order that will depend on the actual database).   This row set presented via the `Cursor` object returned by the `rawQuery` command.\r\n\r\nThe `Cursor` API presents the row set as a sequence of rows, and allows the application to step through the sequence.  At any point in time, the `Cursor` has a current row.  \r\n\r\nThe `Cursor` API provides a bunch of `get` methods (e.g. `getFloat`, `getInt`, `getString`, `getBlob`) that take an *column index* argument and return a value.  The *column index* is the index of a column / field within the the row.\r\n\r\n  - You can lookup the column index value using the `Cursor.getColumnIndex(String)` method where the string is the *name* of the column; e.g. from the row set.  See the [javadoc][1].\r\n\r\n  - Alternatively, you can rely on the fact that order of the column indexes is the same as the order of the columns in the row set.  Thus index `1` is the first column in the rowset, index `2` is the second column, and so on.\r\n\r\nThe example code is doing the latter.  So `cursorCourses.getString(2)` means return the value of the second column of the current row as a string.\r\n\r\nFinally, in your example they have used `SELECT *` to select all columns in the table.  The columns in the resulting row set will be in the same order as columns in the table declaration.\r\n\r\n---------------------------\r\n\r\nIt is worth noting that using `SELECT *` and hard-wired column index values like that code does makes the code rather fragile.  If someone or something added an extra column at the start or reordered the columns, the hard-wired indexes would be incorrect.  You can avoid this by selecting specific columns, or by using `getColumnIndex` as above.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/Cursor#getColumnIndex(java.lang.String)","title":"What does getString(1) mean in terms of getting info from a database?","body":"<p>Lets start with the query <code>&quot;SELECT * FROM SomeTable&quot;</code>.  What does it do?</p>\n<p>What is does is return all of the rows in the table (in some order that will depend on the actual database).   This row set presented via the <code>Cursor</code> object returned by the <code>rawQuery</code> command.</p>\n<p>The <code>Cursor</code> API presents the row set as a sequence of rows, and allows the application to step through the sequence.  At any point in time, the <code>Cursor</code> has a current row.</p>\n<p>The <code>Cursor</code> API provides a bunch of <code>get</code> methods (e.g. <code>getFloat</code>, <code>getInt</code>, <code>getString</code>, <code>getBlob</code>) that take an <em>column index</em> argument and return a value.  The <em>column index</em> is the index of a column / field within the the row.</p>\n<ul>\n<li><p>You can lookup the column index value using the <code>Cursor.getColumnIndex(String)</code> method where the string is the <em>name</em> of the column; e.g. from the row set.  See the <a href=\"https://developer.android.com/reference/android/database/Cursor#getColumnIndex(java.lang.String)\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n</li>\n<li><p>Alternatively, you can rely on the fact that order of the column indexes is the same as the order of the columns in the row set.  Thus index <code>1</code> is the first column in the rowset, index <code>2</code> is the second column, and so on.</p>\n</li>\n</ul>\n<p>The example code is doing the latter.  So <code>cursorCourses.getString(2)</code> means return the value of the second column of the current row as a string.</p>\n<p>Finally, in your example they have used <code>SELECT *</code> to select all columns in the table.  The columns in the resulting row set will be in the same order as columns in the table declaration.</p>\n<hr />\n<p>It is worth noting that using <code>SELECT *</code> and hard-wired column index values like that code does makes the code rather fragile.  If someone or something added an extra column at the start or reordered the columns, the hard-wired indexes would be incorrect.  You can avoid this by selecting specific columns, or by using <code>getColumnIndex</code> as above.</p>\n"}],"owner":{"account_id":24596354,"reputation":17,"user_id":18499683,"display_name":"jrrj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71714823,"answer_count":1,"score":0,"last_activity_date":1648970709,"creation_date":1648804827,"question_id":71704618,"body_markdown":"So there is this [tutorial](https://www.geeksforgeeks.org/how-to-read-data-from-sqlite-database-in-android/) on reading data from databases. My questions are: \r\n\r\nDo the numbers inside the getString represent the field that the method is getting the string from? \r\n\r\nHere is the method:\r\n\r\n    public ArrayList&lt;CourseModal&gt; readCourses() {\r\n            // on below line we are creating a\r\n            // database for reading our database.\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n      \r\n            // on below line we are creating a cursor with query to read data from database.\r\n            Cursor cursorCourses = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\r\n      \r\n            // on below line we are creating a new array list.\r\n            ArrayList&lt;CourseModal&gt; courseModalArrayList = new ArrayList&lt;&gt;();\r\n      \r\n            // moving our cursor to first position.\r\n            if (cursorCourses.moveToFirst()) {\r\n                do {\r\n                    // on below line we are adding the data from cursor to our array list.\r\n                    courseModalArrayList.add(new CourseModal(cursorCourses.getString(1), \r\n    cursorCourses.getString(4), \r\n                                                 cursorCourses.getString(2), \r\n                                                 cursorCourses.getString(3)));\r\n                } while (cursorCourses.moveToNext());\r\n                // moving our cursor to next.\r\n            }\r\n            // at last closing our cursor \r\n            // and returning our array list.\r\n            cursorCourses.close();\r\n            return courseModalArrayList;\r\n    }","title":"What does getString(1) mean in terms of getting info from a database?","body":"<p>So there is this <a href=\"https://www.geeksforgeeks.org/how-to-read-data-from-sqlite-database-in-android/\" rel=\"nofollow noreferrer\">tutorial</a> on reading data from databases. My questions are:</p>\n<p>Do the numbers inside the getString represent the field that the method is getting the string from?</p>\n<p>Here is the method:</p>\n<pre><code>public ArrayList&lt;CourseModal&gt; readCourses() {\n        // on below line we are creating a\n        // database for reading our database.\n        SQLiteDatabase db = this.getReadableDatabase();\n  \n        // on below line we are creating a cursor with query to read data from database.\n        Cursor cursorCourses = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\n  \n        // on below line we are creating a new array list.\n        ArrayList&lt;CourseModal&gt; courseModalArrayList = new ArrayList&lt;&gt;();\n  \n        // moving our cursor to first position.\n        if (cursorCourses.moveToFirst()) {\n            do {\n                // on below line we are adding the data from cursor to our array list.\n                courseModalArrayList.add(new CourseModal(cursorCourses.getString(1), \ncursorCourses.getString(4), \n                                             cursorCourses.getString(2), \n                                             cursorCourses.getString(3)));\n            } while (cursorCourses.moveToNext());\n            // moving our cursor to next.\n        }\n        // at last closing our cursor \n        // and returning our array list.\n        cursorCourses.close();\n        return courseModalArrayList;\n}\n</code></pre>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":15367088,"reputation":108,"user_id":11086286,"display_name":"Dharmesh Dhameliya"},"score":0,"creation_date":1586229979,"post_id":61072307,"comment_id":108045361,"body_markdown":"What is your answer for the last question? if it is &quot;y&quot; then it will continue else it won&#39;t continue with while loop","body":"What is your answer for the last question? if it is &quot;y&quot; then it will continue else it won&#39;t continue with while loop"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1586230247,"post_id":61072307,"comment_id":108045410,"body_markdown":"You need to try debugging your code. While using a real debugger is very helpful, I would start out by printing the value of `answer` at the bottom of the loop after you call `nextLine()`, then reading [the documentation for the `next()` method](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--).","body":"You need to try debugging your code. While using a real debugger is very helpful, I would start out by printing the value of <code>answer</code> at the bottom of the loop after you call <code>nextLine()</code>, then reading <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\" rel=\"nofollow noreferrer\">the documentation for the <code>next()</code> method</a>."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1586231609,"post_id":61072307,"comment_id":108045679,"body_markdown":"reyna - Any update?","body":"reyna - Any update?"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1586232503,"post_id":61072307,"comment_id":108045864,"body_markdown":"If I change the final scan.next() to scan.nextLine(), that worked. This is why I normally use BufferedReader() and parse the numbers myself.","body":"If I change the final scan.next() to scan.nextLine(), that worked. This is why I normally use BufferedReader() and parse the numbers myself."},{"owner":{"account_id":18200186,"reputation":21,"user_id":13244492,"display_name":"reyna"},"score":0,"creation_date":1586233652,"post_id":61072307,"comment_id":108046068,"body_markdown":"yes, it&#39;s working now thank you! You helped me so much with my grade in college!!","body":"yes, it&#39;s working now thank you! You helped me so much with my grade in college!!"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1648971251,"post_id":61072307,"comment_id":126754219,"body_markdown":"A do/while loop would be more appropriate if you always want the loop to execute at least once.","body":"A do/while loop would be more appropriate if you always want the loop to execute at least once."}],"answers":[{"tags":[],"owner":{"account_id":17044529,"reputation":891,"user_id":12331678,"display_name":"backdoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586230381,"creation_date":1586230381,"answer_id":61072412,"question_id":61072307,"body_markdown":"Using `next()` will only return what comes before the delimiter (defaults to whitespace). `nextLine()` automatically moves the scanner down after returning the current line.\r\n\r\nTo get rid of the \\n use `scan.nextLine`\r\n```\r\n// gets rid of \\n in the input stream\r\n            scan.nextLine();\r\n            answer=scan.nextLine();\r\n```\r\n\r\nHope this help.","title":"My while loop in java doesn&#39;t work and only completes it one time","body":"<p>Using <code>next()</code> will only return what comes before the delimiter (defaults to whitespace). <code>nextLine()</code> automatically moves the scanner down after returning the current line.</p>\n\n<p>To get rid of the \\n use <code>scan.nextLine</code></p>\n\n<pre><code>// gets rid of \\n in the input stream\n            scan.nextLine();\n            answer=scan.nextLine();\n</code></pre>\n\n<p>Hope this help.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648970705,"creation_date":1586230528,"answer_id":61072427,"question_id":61072307,"body_markdown":"Replace\r\n\r\n    people=scan.nextInt();\r\n\r\nwith\r\n\r\n    people = Integer.parseInt(scan.nextLine());\r\nCheck https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo to learn more about it.\r\n\r\nGiven below is the corrected program:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \r\n    \t\tfinal int CAPACITY = 30;\r\n    \t\tString name;\r\n    \t\tint people = 0;\r\n    \t\tint morePeople;\r\n    \t\tString answer = &quot;y&quot;;\r\n    \t\tint fewerPeople;\r\n    \t\tboolean valid;\r\n    \t\tSystem.out.println(&quot;--------Meeting Request System&quot; + &quot;--------&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;\\nWelcome to the Meeting Request System.&quot; + &quot; May I know your name?&quot;);\r\n    \t\tname = scan.nextLine();\r\n    \r\n    \t\tdo {\r\n    \t\t\tdo {\r\n    \t\t\t\tvalid = true;\r\n    \t\t\t\tSystem.out.println(&quot;Hello, &quot; + name + &quot;, how many people&quot; + &quot; will be attending the meeting?&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tpeople = Integer.parseInt(scan.nextLine());\r\n    \t\t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Invalid entry. Pleaase try again.&quot;);\r\n    \t\t\t\t\tvalid = false;\r\n    \t\t\t\t}\r\n    \t\t\t} while (!valid);\r\n    \r\n    \t\t\tmorePeople = CAPACITY - people;\r\n    \t\t\tif (people &lt; CAPACITY)\r\n    \t\t\t\tSystem.out.println(&quot;You can invite &quot; + morePeople + &quot; more people to the meeting.&quot;);\r\n    \t\t\telse if (people &gt; CAPACITY) {\r\n    \t\t\t\tfewerPeople = people - CAPACITY;\r\n    \t\t\t\tSystem.out.println(&quot;Sorry, the room is not &quot; + &quot;big enough to seat that many people. You have to &quot;\r\n    \t\t\t\t\t\t+ &quot;exclude &quot; + fewerPeople + &quot; from the meeting.&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Would you like to make another&quot; + &quot; request?(y /n)&quot;);\r\n    \t\t\tanswer = scan.nextLine();\r\n    \t\t} while (answer.equalsIgnoreCase(&quot;y&quot;));\r\n    \t}\r\n    }\r\n\r\n**A sample run:**\r\n\r\n    --------Meeting Request System--------\r\n    \r\n    Welcome to the Meeting Request System. May I know your name?\r\n    abc\r\n    Hello, abc, how many people will be attending the meeting?\r\n    x\r\n    Invalid entry. Pleaase try again.\r\n    Hello, abc, how many people will be attending the meeting?\r\n    10.4\r\n    Invalid entry. Pleaase try again.\r\n    Hello, abc, how many people will be attending the meeting?\r\n    4\r\n    You can invite 26 more people to the meeting.\r\n    \r\n    Would you like to make another request?(y /n)\r\n    y\r\n    Hello, abc, how many people will be attending the meeting?\r\n    5\r\n    You can invite 25 more people to the meeting.\r\n    \r\n    Would you like to make another request?(y /n)\r\n    n\r\n\r\nSome other important points:\r\n\r\n 1. As you can see, a `do...while` loop is more appropriate instead of `while` loop in this case.\r\n 2. You should always check for the `NumberFormatException` whenever you parse a text (e.g. `Scanner::nextLine()`) to integer.\r\n","title":"My while loop in java doesn&#39;t work and only completes it one time","body":"<p>Replace</p>\n<pre><code>people=scan.nextInt();\n</code></pre>\n<p>with</p>\n<pre><code>people = Integer.parseInt(scan.nextLine());\n</code></pre>\n<p>Check <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> to learn more about it.</p>\n<p>Given below is the corrected program:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n\n        final int CAPACITY = 30;\n        String name;\n        int people = 0;\n        int morePeople;\n        String answer = &quot;y&quot;;\n        int fewerPeople;\n        boolean valid;\n        System.out.println(&quot;--------Meeting Request System&quot; + &quot;--------&quot;);\n\n        System.out.println(&quot;\\nWelcome to the Meeting Request System.&quot; + &quot; May I know your name?&quot;);\n        name = scan.nextLine();\n\n        do {\n            do {\n                valid = true;\n                System.out.println(&quot;Hello, &quot; + name + &quot;, how many people&quot; + &quot; will be attending the meeting?&quot;);\n                try {\n                    people = Integer.parseInt(scan.nextLine());\n                } catch (NumberFormatException e) {\n                    System.out.println(&quot;Invalid entry. Pleaase try again.&quot;);\n                    valid = false;\n                }\n            } while (!valid);\n\n            morePeople = CAPACITY - people;\n            if (people &lt; CAPACITY)\n                System.out.println(&quot;You can invite &quot; + morePeople + &quot; more people to the meeting.&quot;);\n            else if (people &gt; CAPACITY) {\n                fewerPeople = people - CAPACITY;\n                System.out.println(&quot;Sorry, the room is not &quot; + &quot;big enough to seat that many people. You have to &quot;\n                        + &quot;exclude &quot; + fewerPeople + &quot; from the meeting.&quot;);\n            }\n            System.out.println();\n\n            System.out.println(&quot;Would you like to make another&quot; + &quot; request?(y /n)&quot;);\n            answer = scan.nextLine();\n        } while (answer.equalsIgnoreCase(&quot;y&quot;));\n    }\n}\n</code></pre>\n<p><strong>A sample run:</strong></p>\n<pre><code>--------Meeting Request System--------\n\nWelcome to the Meeting Request System. May I know your name?\nabc\nHello, abc, how many people will be attending the meeting?\nx\nInvalid entry. Pleaase try again.\nHello, abc, how many people will be attending the meeting?\n10.4\nInvalid entry. Pleaase try again.\nHello, abc, how many people will be attending the meeting?\n4\nYou can invite 26 more people to the meeting.\n\nWould you like to make another request?(y /n)\ny\nHello, abc, how many people will be attending the meeting?\n5\nYou can invite 25 more people to the meeting.\n\nWould you like to make another request?(y /n)\nn\n</code></pre>\n<p>Some other important points:</p>\n<ol>\n<li>As you can see, a <code>do...while</code> loop is more appropriate instead of <code>while</code> loop in this case.</li>\n<li>You should always check for the <code>NumberFormatException</code> whenever you parse a text (e.g. <code>Scanner::nextLine()</code>) to integer.</li>\n</ol>\n"}],"owner":{"account_id":18200186,"reputation":21,"user_id":13244492,"display_name":"reyna"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61072427,"answer_count":2,"score":1,"last_activity_date":1648970705,"creation_date":1586229726,"question_id":61072307,"body_markdown":"It will only go through one time so it will end with &quot;Would you like to make another request?(y/n)&quot;\r\nand when I input &quot;y&quot; it stops there and won&#39;t do the loop.\r\n\r\n\r\n\r\n    package Chaterp5PPReynaGuerra;\r\n    import java.util.*;\r\n    public class MeetingRequest \r\n    {\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\t\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t\r\n    \t\tfinal int CAPACITY=30;\r\n    \t\tString name;\r\n    \t\tint people;\r\n    \t\tint morePeople;\r\n    \t\tString answer=&quot;y&quot;;\r\n    \t\tint fewerPeople;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;--------Meeting Request System&quot;+\r\n    \t\t&quot;--------&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;\\nWelcome to the Meeting Request System.&quot;+\r\n    \t\t&quot; May I know your name?&quot;);\r\n    \t\tname=scan.nextLine();\r\n    \t\t\r\n    \t\t\r\n    \t\twhile(answer.equalsIgnoreCase(&quot;y&quot;)) \r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Hello, &quot;+name+&quot;, how many people&quot;+\r\n    \t\t\t\t\t&quot; will be attending the meeting?&quot;);\r\n    \t\t\t\t\tpeople=scan.nextInt();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tmorePeople = CAPACITY - people;\r\n    \t\t\t\tif(people &lt; CAPACITY)\r\n    \t\t\t\t\tSystem.out.println(&quot;You can invite &quot;+morePeople+\r\n    \t\t\t\t\t&quot; more people to the meeting.&quot;);\r\n    \t\t\t\telse if(people &gt; CAPACITY) {\r\n    \t\t\t\t\tfewerPeople= people - CAPACITY;\r\n    \t\t\t\t         System.out.println(&quot;Sorry, the room is not &quot;+\r\n    \t\t\t\t&quot;big enough to seat that many people. You have to &quot;+\r\n    \t\t\t\t\t &quot;exclude &quot;+fewerPeople+&quot; from the meeting.&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Would you like to make another&quot;+\r\n    \t\t\t&quot; request?(y /n)&quot;);\r\n    \t\t\t// gets rid of \\n in the input stream\r\n    \t\t\tscan.next();\r\n    \t\t\tanswer=scan.nextLine();\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"My while loop in java doesn&#39;t work and only completes it one time","body":"<p>It will only go through one time so it will end with \"Would you like to make another request?(y/n)\"\nand when I input \"y\" it stops there and won't do the loop.</p>\n\n<pre><code>package Chaterp5PPReynaGuerra;\nimport java.util.*;\npublic class MeetingRequest \n{\n\n    public static void main(String[] args) \n    {\n\n        Scanner scan = new Scanner(System.in);\n\n        final int CAPACITY=30;\n        String name;\n        int people;\n        int morePeople;\n        String answer=\"y\";\n        int fewerPeople;\n\n        System.out.println(\"--------Meeting Request System\"+\n        \"--------\");\n\n        System.out.println(\"\\nWelcome to the Meeting Request System.\"+\n        \" May I know your name?\");\n        name=scan.nextLine();\n\n\n        while(answer.equalsIgnoreCase(\"y\")) \n        {\n            System.out.println(\"Hello, \"+name+\", how many people\"+\n                    \" will be attending the meeting?\");\n                    people=scan.nextInt();\n\n                    morePeople = CAPACITY - people;\n                if(people &lt; CAPACITY)\n                    System.out.println(\"You can invite \"+morePeople+\n                    \" more people to the meeting.\");\n                else if(people &gt; CAPACITY) {\n                    fewerPeople= people - CAPACITY;\n                         System.out.println(\"Sorry, the room is not \"+\n                \"big enough to seat that many people. You have to \"+\n                     \"exclude \"+fewerPeople+\" from the meeting.\");\n                    }\n            System.out.println();\n\n            System.out.println(\"Would you like to make another\"+\n            \" request?(y /n)\");\n            // gets rid of \\n in the input stream\n            scan.next();\n            answer=scan.nextLine();\n        }\n\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1586297700,"post_id":61090201,"comment_id":108077254,"body_markdown":"You need `while` not `if`. Unlike if, which will execute at most once, a while executes repeatedly until the condition returns false (eg. ask for an input repeatedly until the input becomes valid)","body":"You need <code>while</code> not <code>if</code>. Unlike if, which will execute at most once, a while executes repeatedly until the condition returns false (eg. ask for an input repeatedly until the input becomes valid)"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1586297841,"post_id":61090201,"comment_id":108077306,"body_markdown":"This might be easiest if you make a method to input the next positive integer. You would have a loop which will work until you get valid input.","body":"This might be easiest if you make a method to input the next positive integer. You would have a loop which will work until you get valid input."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1586298159,"post_id":61090201,"comment_id":108077391,"body_markdown":"I&#39;m sorry, but what if you did get a [clue](https://youtu.be/8DQh086cB-Q?t=148)?","body":"I&#39;m sorry, but what if you did get a <a href=\"https://youtu.be/8DQh086cB-Q?t=148\" rel=\"nofollow noreferrer\">clue</a>?"}],"answers":[{"tags":[],"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586298501,"creation_date":1586298501,"answer_id":61090406,"question_id":61090201,"body_markdown":"To do this, you need a do-while loop where you check each time if the input is valid, and also a try-catch block inside the loop so if the Scanner throws an exception, you can catch it and ask the user to enter a positive number.\r\n\r\nAlso, you need to close the scanner at the end.\r\n\r\n```\r\nimport java.util.Scanner;\r\n class recursion2{\r\n public static void main(String args[]){\r\n\r\n   Scanner input1 = new Scanner(System.in);\r\n   Scanner scanner = new Scanner(System.in);\r\n  char cont = &#39;y&#39;;\r\n while (cont == &#39;y&#39;) {\r\n\r\n  System.out.println(&quot;Enter the number:&quot;);\r\n\r\n  int num = -1;  //Negative by default so it&#39;s invalid\r\n  do {  //Do-while so it gets run at least once\r\n    try {\r\n      num = scanner.nextInt();\r\n    } catch (InputMismatchException e) { //When it&#39;s not an int, loop again\r\n      System.out.println(&quot;Please enter a valid input&quot;);\r\n    }\r\n  while (num &lt;= 0); //Check if positive here\r\n\r\n\r\n  int factorial = fact(num);\r\n  System.out.println(&quot;Factorial of entered number is: &quot; + factorial);\r\n\r\n  System.out.println(&quot;Do you want to loop again?&quot;);\r\n cont = input1.next().charAt(0);\r\n }\r\n scanner.close();\r\n }\r\n static int fact(int n)\r\n {\r\n   int output;\r\n   if(n == 1){\r\n     return 1;\r\n   }\r\n\r\n   output = fact(n - 1) * n;\r\n   return output;\r\n\r\n }\r\n }\r\n```","title":"How can I make sure the User can input again after entering something invalid?","body":"<p>To do this, you need a do-while loop where you check each time if the input is valid, and also a try-catch block inside the loop so if the Scanner throws an exception, you can catch it and ask the user to enter a positive number.</p>\n\n<p>Also, you need to close the scanner at the end.</p>\n\n<pre><code>import java.util.Scanner;\n class recursion2{\n public static void main(String args[]){\n\n   Scanner input1 = new Scanner(System.in);\n   Scanner scanner = new Scanner(System.in);\n  char cont = 'y';\n while (cont == 'y') {\n\n  System.out.println(\"Enter the number:\");\n\n  int num = -1;  //Negative by default so it's invalid\n  do {  //Do-while so it gets run at least once\n    try {\n      num = scanner.nextInt();\n    } catch (InputMismatchException e) { //When it's not an int, loop again\n      System.out.println(\"Please enter a valid input\");\n    }\n  while (num &lt;= 0); //Check if positive here\n\n\n  int factorial = fact(num);\n  System.out.println(\"Factorial of entered number is: \" + factorial);\n\n  System.out.println(\"Do you want to loop again?\");\n cont = input1.next().charAt(0);\n }\n scanner.close();\n }\n static int fact(int n)\n {\n   int output;\n   if(n == 1){\n     return 1;\n   }\n\n   output = fact(n - 1) * n;\n   return output;\n\n }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10278781,"reputation":850,"user_id":7584739,"display_name":"omar jayed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586298929,"creation_date":1586298536,"answer_id":61090416,"question_id":61090201,"body_markdown":"Use this method to validate the input.\r\n\r\n    public int validInput() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        while(1) {\r\n            // If you wish to end the loop after a certain number of attempts\r\n            // use a counter to exit the loop\r\n            System.out.println(&quot;Enter the number:&quot;);\r\n            int num = scanner.nextInt();\r\n            if(num &gt; 0) {\r\n                return num;\r\n            }\r\n            System.out.println(&quot;Input must be greater than zero. Please try again.&quot;);\r\n        } \r\n    }\r\n\r\nThen call this method from your code.\r\n\r\n    while (cont == &#39;y&#39;) {\r\n      int num = validInput();\r\n    \r\n      int factorial = fact(num);\r\n      System.out.println(&quot;Factorial of entered number is: &quot; + factorial);\r\n    \r\n      System.out.println(&quot;Do you want to loop again?&quot;);\r\n      cont = input1.next().charAt(0);\r\n     }\r\n\r\nYou can also use this method anywhere in your project.","title":"How can I make sure the User can input again after entering something invalid?","body":"<p>Use this method to validate the input.</p>\n\n<pre><code>public int validInput() {\n    Scanner scanner = new Scanner(System.in);\n    while(1) {\n        // If you wish to end the loop after a certain number of attempts\n        // use a counter to exit the loop\n        System.out.println(\"Enter the number:\");\n        int num = scanner.nextInt();\n        if(num &gt; 0) {\n            return num;\n        }\n        System.out.println(\"Input must be greater than zero. Please try again.\");\n    } \n}\n</code></pre>\n\n<p>Then call this method from your code.</p>\n\n<pre><code>while (cont == 'y') {\n  int num = validInput();\n\n  int factorial = fact(num);\n  System.out.println(\"Factorial of entered number is: \" + factorial);\n\n  System.out.println(\"Do you want to loop again?\");\n  cont = input1.next().charAt(0);\n }\n</code></pre>\n\n<p>You can also use this method anywhere in your project.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648970678,"creation_date":1586299123,"answer_id":61090532,"question_id":61090201,"body_markdown":"Do it as follows:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tchar cont = &#39;y&#39;;\r\n    \t\tint num;\r\n    \t\tboolean valid;\r\n    \t\tString strNum;\r\n    \t\tdo {\r\n    \t\t\tvalid = false;\r\n    \t\t\tSystem.out.print(&quot;Enter the number: &quot;);\r\n    \t\t\tstrNum = scanner.nextLine();\r\n    \t\t\tif (strNum.matches(&quot;\\\\d+&quot;)) {\r\n    \t\t\t\tint factorial = fact(Integer.parseInt(strNum));\r\n    \t\t\t\tSystem.out.println(&quot;Factorial of entered number is: &quot; + factorial);\r\n    \t\t\t\tSystem.out.print(&quot;Do you want to loop again?&quot;);\r\n    \t\t\t\tcont = scanner.nextLine().toLowerCase().charAt(0);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Invalid entry. Please try a positive integer.&quot;);\r\n    \t\t\t}\r\n    \t\t} while (cont == &#39;y&#39;);\r\n    \t\tSystem.out.println(&quot;Goodbye!&quot;);\r\n    \t}\r\n    \r\n    \tstatic int fact(int n) {\r\n    \t\tint output;\r\n    \t\tif (n == 1) {\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \t\toutput = fact(n - 1) * n;\r\n    \t\treturn output;\r\n    \t}\r\n    }\r\n**A sample run:**\r\n\r\n    Enter the number: a\r\n    Invalid entry. Please try a positive integer.\r\n    Enter the number: 10.5\r\n    Invalid entry. Please try a positive integer.\r\n    Enter the number: -5\r\n    Invalid entry. Please try a positive integer.\r\n    Enter the number: 5\r\n    Factorial of entered number is: 120\r\n    Do you want to loop again?y\r\n    Enter the number: 3\r\n    Factorial of entered number is: 6\r\n    Do you want to loop again?n\r\n    Goodbye!\r\n\r\n**Notes:**\r\n\r\n 1. Use of `do...while` is more appropriate in this case. It doesn&#39;t mean that it can not be done using `while` loop but `do...while` makes it more comprehensible.\r\n 2. Compare `scanner.nextLine().toLowerCase().charAt(0)` with `y` so that the program can continue for both `Y` and `y`. \r\n 3. `\\\\d+` is used to restrict a string matching with only digits and nothing else i.e. it allows only intgers.\r\n 4. `Integer::parseInt` is used to convert an integer string into `int`.\r\n 5. You do not need two `Scanner` instances.\r\n 6. Follow [Java naming conventions][1] e.g. `class recursion2` should be named as `class Recursion2` as per the naming convention.\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/codeconventions-135099.html","title":"How can I make sure the User can input again after entering something invalid?","body":"<p>Do it as follows:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        char cont = 'y';\n        int num;\n        boolean valid;\n        String strNum;\n        do {\n            valid = false;\n            System.out.print(&quot;Enter the number: &quot;);\n            strNum = scanner.nextLine();\n            if (strNum.matches(&quot;\\\\d+&quot;)) {\n                int factorial = fact(Integer.parseInt(strNum));\n                System.out.println(&quot;Factorial of entered number is: &quot; + factorial);\n                System.out.print(&quot;Do you want to loop again?&quot;);\n                cont = scanner.nextLine().toLowerCase().charAt(0);\n            } else {\n                System.out.println(&quot;Invalid entry. Please try a positive integer.&quot;);\n            }\n        } while (cont == 'y');\n        System.out.println(&quot;Goodbye!&quot;);\n    }\n\n    static int fact(int n) {\n        int output;\n        if (n == 1) {\n            return 1;\n        }\n        output = fact(n - 1) * n;\n        return output;\n    }\n}\n</code></pre>\n<p><strong>A sample run:</strong></p>\n<pre><code>Enter the number: a\nInvalid entry. Please try a positive integer.\nEnter the number: 10.5\nInvalid entry. Please try a positive integer.\nEnter the number: -5\nInvalid entry. Please try a positive integer.\nEnter the number: 5\nFactorial of entered number is: 120\nDo you want to loop again?y\nEnter the number: 3\nFactorial of entered number is: 6\nDo you want to loop again?n\nGoodbye!\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ol>\n<li>Use of <code>do...while</code> is more appropriate in this case. It doesn't mean that it can not be done using <code>while</code> loop but <code>do...while</code> makes it more comprehensible.</li>\n<li>Compare <code>scanner.nextLine().toLowerCase().charAt(0)</code> with <code>y</code> so that the program can continue for both <code>Y</code> and <code>y</code>.</li>\n<li><code>\\\\d+</code> is used to restrict a string matching with only digits and nothing else i.e. it allows only intgers.</li>\n<li><code>Integer::parseInt</code> is used to convert an integer string into <code>int</code>.</li>\n<li>You do not need two <code>Scanner</code> instances.</li>\n<li>Follow <a href=\"https://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow noreferrer\">Java naming conventions</a> e.g. <code>class recursion2</code> should be named as <code>class Recursion2</code> as per the naming convention.</li>\n</ol>\n"}],"owner":{"account_id":18080471,"reputation":35,"user_id":13142748,"display_name":"CluelessJavaUser123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61090532,"answer_count":3,"score":2,"last_activity_date":1648970678,"creation_date":1586297483,"question_id":61090201,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    class recursion2 {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tScanner input1 = new Scanner(System.in);\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tchar cont = &#39;y&#39;;\r\n    \t\twhile (cont == &#39;y&#39;) {\r\n    \r\n    \t\t\tSystem.out.println(&quot;Enter the number:&quot;);\r\n    \r\n    \t\t\tint num = scanner.nextInt();\r\n    \r\n    \t\t\tint factorial = fact(num);\r\n    \t\t\tSystem.out.println(&quot;Factorial of entered number is: &quot; + factorial);\r\n    \r\n    \t\t\tSystem.out.println(&quot;Do you want to loop again?&quot;);\r\n    \t\t\tcont = input1.next().charAt(0);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic int fact(int n) {\r\n    \t\tint output;\r\n    \t\tif (n == 1) {\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \r\n    \t\toutput = fact(n - 1) * n;\r\n    \t\treturn output;\r\n    \t}\r\n    }\r\n\r\nThe code above has 0 errors. However, Id like the code to only allow positive integers and if a user were to enter a negative integer (-20) or letters (abc) then the program would ask them to try again. I tried to use an If else statement saying if anything other than numbers &gt; 0 would ask to try again but I could never make it work. Any tips?\r\n\r\n        \r\n\r\n           ","title":"How can I make sure the User can input again after entering something invalid?","body":"<pre><code>import java.util.Scanner;\n\nclass recursion2 {\n    public static void main(String args[]) {\n        Scanner input1 = new Scanner(System.in);\n        Scanner scanner = new Scanner(System.in);\n        char cont = 'y';\n        while (cont == 'y') {\n\n            System.out.println(\"Enter the number:\");\n\n            int num = scanner.nextInt();\n\n            int factorial = fact(num);\n            System.out.println(\"Factorial of entered number is: \" + factorial);\n\n            System.out.println(\"Do you want to loop again?\");\n            cont = input1.next().charAt(0);\n        }\n    }\n\n    static int fact(int n) {\n        int output;\n        if (n == 1) {\n            return 1;\n        }\n\n        output = fact(n - 1) * n;\n        return output;\n    }\n}\n</code></pre>\n\n<p>The code above has 0 errors. However, Id like the code to only allow positive integers and if a user were to enter a negative integer (-20) or letters (abc) then the program would ask them to try again. I tried to use an If else statement saying if anything other than numbers > 0 would ask to try again but I could never make it work. Any tips?</p>\n"},{"tags":["java","spring-boot","console-application","netflix-dgs","graphqlclient"],"answers":[{"tags":[],"owner":{"account_id":2865658,"reputation":1715,"user_id":2460038,"accept_rate":0,"display_name":"Yuri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648970584,"creation_date":1648970584,"answer_id":71723816,"question_id":68731196,"body_markdown":"Spring Boot console app with Netflix DGS client:\r\n\r\n    package org.example;\r\n\r\n    import com.netflix.graphql.dgs.client.GraphQLClient;\r\n    import com.netflix.graphql.dgs.client.GraphQLResponse;\r\n    import com.netflix.graphql.dgs.client.HttpResponse;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpEntity;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    \r\n    @Configuration\r\n    @SpringBootApplication\r\n    public class Application implements CommandLineRunner {\r\n        private static final Logger LOG = LoggerFactory.getLogger(Application.class);\r\n        private static final String ENDPOINT = &quot;https://graphql-weather-api.herokuapp.com/&quot;;\r\n    \r\n        @Bean\r\n        GraphQLClient graphQLClient() {\r\n            RestTemplate restTemplate = new RestTemplate(); // underlying http client for blocking calls\r\n            // for reactive calls use MonoGraphQLClient\r\n    \r\n            return GraphQLClient.createCustom(ENDPOINT,\r\n                    (url, headers, body) -&gt; {\r\n                        HttpHeaders httpHeaders = new HttpHeaders();\r\n                        headers.forEach(httpHeaders::addAll);\r\n                        ResponseEntity&lt;String&gt; exchange =\r\n                                restTemplate.exchange(url, HttpMethod.POST, new HttpEntity&lt;&gt;(body, httpHeaders), String.class);\r\n                        return new HttpResponse(exchange.getStatusCodeValue(), exchange.getBody());\r\n                    });\r\n        }\r\n    \r\n        @Autowired\r\n        private GraphQLClient client;\r\n    \r\n        public static void main(String[] args) {\r\n            LOG.info(&quot;started&quot;);\r\n            SpringApplication.run(Application.class, args);\r\n            LOG.info(&quot;finished&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) {\r\n            GraphQLResponse response = client.executeQuery(&quot;query { getCityById(id: \\&quot;2729907\\&quot;) { name } }&quot;);\r\n            String name = response.extractValueAsObject(&quot;getCityById[0].name&quot;, String.class);\r\n            LOG.info(&quot;got city name: &quot; + name);\r\n        }\r\n    }\r\n\r\n\r\napplication.yml:\r\n\r\n    spring.main.web-application-type: NONE\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gqlclient&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;!-- required for RestTemplate --&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;graphql-dgs-client&lt;/artifactId&gt;\r\n                &lt;version&gt;4.9.24&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nHope it helps.   \r\nI&#39;d also suggest next fetching the remote schema and using it for type generation (type-safe queries and dtos).\r\n","title":"How to create a console application that uses NetFlix DGS Client","body":"<p>Spring Boot console app with Netflix DGS client:</p>\n<pre><code>package org.example;\n\nimport com.netflix.graphql.dgs.client.GraphQLClient;\nimport com.netflix.graphql.dgs.client.GraphQLResponse;\nimport com.netflix.graphql.dgs.client.HttpResponse;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.client.RestTemplate;\n\n\n@Configuration\n@SpringBootApplication\npublic class Application implements CommandLineRunner {\n    private static final Logger LOG = LoggerFactory.getLogger(Application.class);\n    private static final String ENDPOINT = &quot;https://graphql-weather-api.herokuapp.com/&quot;;\n\n    @Bean\n    GraphQLClient graphQLClient() {\n        RestTemplate restTemplate = new RestTemplate(); // underlying http client for blocking calls\n        // for reactive calls use MonoGraphQLClient\n\n        return GraphQLClient.createCustom(ENDPOINT,\n                (url, headers, body) -&gt; {\n                    HttpHeaders httpHeaders = new HttpHeaders();\n                    headers.forEach(httpHeaders::addAll);\n                    ResponseEntity&lt;String&gt; exchange =\n                            restTemplate.exchange(url, HttpMethod.POST, new HttpEntity&lt;&gt;(body, httpHeaders), String.class);\n                    return new HttpResponse(exchange.getStatusCodeValue(), exchange.getBody());\n                });\n    }\n\n    @Autowired\n    private GraphQLClient client;\n\n    public static void main(String[] args) {\n        LOG.info(&quot;started&quot;);\n        SpringApplication.run(Application.class, args);\n        LOG.info(&quot;finished&quot;);\n    }\n\n    @Override\n    public void run(String... args) {\n        GraphQLResponse response = client.executeQuery(&quot;query { getCityById(id: \\&quot;2729907\\&quot;) { name } }&quot;);\n        String name = response.extractValueAsObject(&quot;getCityById[0].name&quot;, String.class);\n        LOG.info(&quot;got city name: &quot; + name);\n    }\n}\n</code></pre>\n<p>application.yml:</p>\n<pre><code>spring.main.web-application-type: NONE\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;gqlclient&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- required for RestTemplate --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-dgs-client&lt;/artifactId&gt;\n            &lt;version&gt;4.9.24&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Hope it helps.<br />\nI'd also suggest next fetching the remote schema and using it for type generation (type-safe queries and dtos).</p>\n"}],"owner":{"account_id":102957,"reputation":720,"user_id":276036,"accept_rate":60,"display_name":"NickBeaugi&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648970584,"creation_date":1628616660,"question_id":68731196,"body_markdown":"I want to use the excellent-looking [DGS Framework](https://netflix.github.io/dgs/) from NetFlix to make client calls against a GraphQL service.\r\n\r\nAll the examples I find assume that I&#39;m *building* a service and the [Java GraphQL Client](https://netflix.github.io/dgs/advanced/java-client/) is introduced as something of an afterthought.\r\n\r\nThe application from which I want to call the service is *just a console application*. It needs no web server, no `dgsQueryExecutor` or schema. Yet, when I run my application, it bombs out with loads of runtime errors about these being needed.\r\n\r\nI&#39;m a relative newbie in the Java/Maven/SpringBoot world and am still struggling with the concept of things starting up without my asking them; and of removing dependencies.\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.7.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;io.m.t&lt;/groupId&gt;\r\n        &lt;artifactId&gt;t-l-g-m&lt;/artifactId&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.25&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;graphql-dgs-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;graphql-dgs-platform-dependencies&lt;/artifactId&gt;\r\n                    &lt;!-- The DGS BOM/platform dependency. This is the only place you set version of DGS --&gt;\r\n                    &lt;version&gt;4.5.0&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAnd this is my main class (note: it doesn&#39;t actually do anything yet, I just want it to run without errors).\r\n\r\n    package io.m.t.l.g;\r\n    \r\n    import io.m.t.l.g.config.DatabaseConfig;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.WebApplicationType;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    \r\n    /**\r\n     * 1. Act as main class for spring boot application\r\n     * 2. Also implements CommandLineRunner, so that code within run method\r\n     * is executed before application startup but after all beans are effectively created\r\n     */\r\n    @SpringBootApplication\r\n    @Slf4j\r\n    public class MyConsoleApplication implements CommandLineRunner {\r\n    \r\n        public static void main(String[] args) {\r\n            log.info(&quot;STARTING THE APPLICATION&quot;);\r\n            new SpringApplicationBuilder(MyConsoleApplication.class)\r\n                    .web(WebApplicationType.NONE)\r\n                    .run(args);\r\n            // NOTE: different from the usual to prevent Tomcat from starting (not needed in console app)\r\n            //SpringApplication.run(MyConsoleApplication.class, args);\r\n            log.info(&quot;APPLICATION FINISHED&quot;);\r\n        }\r\n    \r\n        /**\r\n         * This method will be executed after the application context is loaded and\r\n         * right before the Spring Application main method is completed.\r\n         */\r\n        @Override\r\n        public void run(String... args) {\r\n    \r\n            log.info(&quot;For now, I just want to get to this line without runtime errors.&quot;);\r\n        }        \r\n    }\r\n\r\n","title":"How to create a console application that uses NetFlix DGS Client","body":"<p>I want to use the excellent-looking <a href=\"https://netflix.github.io/dgs/\" rel=\"nofollow noreferrer\">DGS Framework</a> from NetFlix to make client calls against a GraphQL service.</p>\n<p>All the examples I find assume that I'm <em>building</em> a service and the <a href=\"https://netflix.github.io/dgs/advanced/java-client/\" rel=\"nofollow noreferrer\">Java GraphQL Client</a> is introduced as something of an afterthought.</p>\n<p>The application from which I want to call the service is <em>just a console application</em>. It needs no web server, no <code>dgsQueryExecutor</code> or schema. Yet, when I run my application, it bombs out with loads of runtime errors about these being needed.</p>\n<p>I'm a relative newbie in the Java/Maven/SpringBoot world and am still struggling with the concept of things starting up without my asking them; and of removing dependencies.</p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.7.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;io.m.t&lt;/groupId&gt;\n    &lt;artifactId&gt;t-l-g-m&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.25&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.12.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-dgs-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\n                &lt;artifactId&gt;graphql-dgs-platform-dependencies&lt;/artifactId&gt;\n                &lt;!-- The DGS BOM/platform dependency. This is the only place you set version of DGS --&gt;\n                &lt;version&gt;4.5.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And this is my main class (note: it doesn't actually do anything yet, I just want it to run without errors).</p>\n<pre><code>package io.m.t.l.g;\n\nimport io.m.t.l.g.config.DatabaseConfig;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.WebApplicationType;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\n\n/**\n * 1. Act as main class for spring boot application\n * 2. Also implements CommandLineRunner, so that code within run method\n * is executed before application startup but after all beans are effectively created\n */\n@SpringBootApplication\n@Slf4j\npublic class MyConsoleApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        log.info(&quot;STARTING THE APPLICATION&quot;);\n        new SpringApplicationBuilder(MyConsoleApplication.class)\n                .web(WebApplicationType.NONE)\n                .run(args);\n        // NOTE: different from the usual to prevent Tomcat from starting (not needed in console app)\n        //SpringApplication.run(MyConsoleApplication.class, args);\n        log.info(&quot;APPLICATION FINISHED&quot;);\n    }\n\n    /**\n     * This method will be executed after the application context is loaded and\n     * right before the Spring Application main method is completed.\n     */\n    @Override\n    public void run(String... args) {\n\n        log.info(&quot;For now, I just want to get to this line without runtime errors.&quot;);\n    }        \n}\n</code></pre>\n"},{"tags":["java","business-process-management","camunda"],"comments":[{"owner":{"account_id":3137147,"reputation":539,"user_id":2653440,"display_name":"meyerdan"},"score":0,"creation_date":1383658620,"post_id":19787839,"comment_id":29417581,"body_markdown":"The behavior you describe is not expected. What is the nature of the `out` variable? Is it a complex java object implementing `Serializable`?","body":"The behavior you describe is not expected. What is the nature of the <code>out</code> variable? Is it a complex java object implementing <code>Serializable</code>?"},{"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"score":0,"creation_date":1383661858,"post_id":19787839,"comment_id":29419591,"body_markdown":"It is a `Serializable` and by now, we are rather certain to have uncovered at least one bug.","body":"It is a <code>Serializable</code> and by now, we are rather certain to have uncovered at least one bug."},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1383685493,"post_id":19787839,"comment_id":29433653,"body_markdown":"instead of runtimeService.setVariable &amp;&amp; taskService.completeTask, consider joining the two calls: taskService.completeTask(id, Map)","body":"instead of runtimeService.setVariable &amp;&amp; taskService.completeTask, consider joining the two calls: taskService.completeTask(id, Map)"},{"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"score":0,"creation_date":1383729220,"post_id":19787839,"comment_id":29448706,"body_markdown":"Excellent idea which works in most of our cases, however in one case we need to store variables during execution and prior to task completion. Is there a mechanism for this scenario also?","body":"Excellent idea which works in most of our cases, however in one case we need to store variables during execution and prior to task completion. Is there a mechanism for this scenario also?"},{"owner":{"account_id":3137147,"reputation":539,"user_id":2653440,"display_name":"meyerdan"},"score":0,"creation_date":1383742396,"post_id":19787839,"comment_id":29456114,"body_markdown":"I cannot reproduce it with [this gist](https://gist.github.com/meyerdan/7335610). What is different in your case? Can you provide a failing testcase?","body":"I cannot reproduce it with <a href=\"https://gist.github.com/meyerdan/7335610\" rel=\"nofollow noreferrer\">this gist</a>. What is different in your case? Can you provide a failing testcase?"},{"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"score":0,"creation_date":1383754110,"post_id":19787839,"comment_id":29463924,"body_markdown":"We think, we found it (although we do not have a contained testcase). We were using a Tasklistener, listening for Task-creation. Within this TaskListener we also made a call to `runtimeService.getVariables()`. This was the culprit, changing it to `delegateTask.getVariables()` solves the issue. I will check, whether I can get a contained Testcase to reproduce this error.","body":"We think, we found it (although we do not have a contained testcase). We were using a Tasklistener, listening for Task-creation. Within this TaskListener we also made a call to <code>runtimeService.getVariables()</code>. This was the culprit, changing it to <code>delegateTask.getVariables()</code> solves the issue. I will check, whether I can get a contained Testcase to reproduce this error."}],"answers":[{"tags":[],"owner":{"account_id":3137147,"reputation":539,"user_id":2653440,"display_name":"meyerdan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383658543,"creation_date":1383658543,"answer_id":19790272,"question_id":19787839,"body_markdown":"You could consider using an asynchronous continuation on the service task. This will make sure that the service task is executed inside a new transaction / command context. \r\nConsider reading the [camunda documentation on transactions and asynchronous continuations][1].\r\n\r\nThe `DelegateExecution` object is meant for providing service task (`JavaDelegate`) implementations access to process instance variables. It is not meant to be used from a User Task.\r\n\r\n  [1]: http://docs.camunda.org/latest/guides/user-guide/#process-engine-transactions-in-processes-transaction-boundaries","title":"OptimisticLockingException with Camunda Service Task","body":"<p>You could consider using an asynchronous continuation on the service task. This will make sure that the service task is executed inside a new transaction / command context. \nConsider reading the <a href=\"http://docs.camunda.org/latest/guides/user-guide/#process-engine-transactions-in-processes-transaction-boundaries\" rel=\"nofollow\">camunda documentation on transactions and asynchronous continuations</a>.</p>\n\n<p>The <code>DelegateExecution</code> object is meant for providing service task (<code>JavaDelegate</code>) implementations access to process instance variables. It is not meant to be used from a User Task.</p>\n"},{"tags":[],"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1383812283,"creation_date":1383771155,"answer_id":19822585,"question_id":19787839,"body_markdown":"After long and cumbersome search we think, we have nailed two issues with camunda which (added together) lead to the Exception from the original question.\r\n\r\n1. Camunda uses `equals` on serialized objects (represented by byte-arrays) to determine, whether process variables have to be written back to the database. This even happens when variables are only read and not set. As `equals` is defined by pointer-identity on arrays, a serializabled-Object is never determined &quot;equal&quot; if it has been serialized more than once. We have found, that a single `runtimeService.setVariable()` leads to four db-updates at the time of `completeTask()` (One for setVariable itself, the other three for various camunda-internal validation actions). We think this is a bug and will file a bug report to camunda.\r\n\r\n2. Obviously there are two ways to set variables. One way is to use `runtimeService.setVariable()`, the other is to use `delegateTask/delegateExecution.setVariable()`. There is some flaw when using both ways at the same time. While we cannot simplify our setup to a simple unit-test, we have identified several components which have to be involved for the Exception to occur:\r\n\r\n2.1 We are using a `TaskListener` to set up some context-variables at the start of Tasks this task-listener used `runtimeService.setVariable()` instead of `delegateTask.setVariable()`. After we changed that, the Exception vanished.\r\n\r\n2.2 We used (and still use) `runtimeService.setVariable()` during Task-Execution. After we switched to `completeTask(Variables)` and omitted the `runtimeService.setVariable()` calls, the Exception vanished as well. However, this isn&#39;t a permanent solution as we have to store process variables during task execution.\r\n\r\n2.3 The exception occured only in combination when process variables where read or written by the `delegate&lt;X&gt;.getVariable()` way (either by our code or implicitly in the camunda implementation of juel-parsing with gateways and serviceTasks or `completeTask(HashMap)`)\r\n\r\nThanks a lot for all your input. ","title":"OptimisticLockingException with Camunda Service Task","body":"<p>After long and cumbersome search we think, we have nailed two issues with camunda which (added together) lead to the Exception from the original question.</p>\n\n<ol>\n<li><p>Camunda uses <code>equals</code> on serialized objects (represented by byte-arrays) to determine, whether process variables have to be written back to the database. This even happens when variables are only read and not set. As <code>equals</code> is defined by pointer-identity on arrays, a serializabled-Object is never determined \"equal\" if it has been serialized more than once. We have found, that a single <code>runtimeService.setVariable()</code> leads to four db-updates at the time of <code>completeTask()</code> (One for setVariable itself, the other three for various camunda-internal validation actions). We think this is a bug and will file a bug report to camunda.</p></li>\n<li><p>Obviously there are two ways to set variables. One way is to use <code>runtimeService.setVariable()</code>, the other is to use <code>delegateTask/delegateExecution.setVariable()</code>. There is some flaw when using both ways at the same time. While we cannot simplify our setup to a simple unit-test, we have identified several components which have to be involved for the Exception to occur:</p></li>\n</ol>\n\n<p>2.1 We are using a <code>TaskListener</code> to set up some context-variables at the start of Tasks this task-listener used <code>runtimeService.setVariable()</code> instead of <code>delegateTask.setVariable()</code>. After we changed that, the Exception vanished.</p>\n\n<p>2.2 We used (and still use) <code>runtimeService.setVariable()</code> during Task-Execution. After we switched to <code>completeTask(Variables)</code> and omitted the <code>runtimeService.setVariable()</code> calls, the Exception vanished as well. However, this isn't a permanent solution as we have to store process variables during task execution.</p>\n\n<p>2.3 The exception occured only in combination when process variables where read or written by the <code>delegate&lt;X&gt;.getVariable()</code> way (either by our code or implicitly in the camunda implementation of juel-parsing with gateways and serviceTasks or <code>completeTask(HashMap)</code>)</p>\n\n<p>Thanks a lot for all your input. </p>\n"}],"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7213,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":19822585,"answer_count":2,"score":4,"last_activity_date":1648969837,"creation_date":1383650574,"question_id":19787839,"body_markdown":"We&#39;re seeing OptimisticLockingExceptions in a Camunda process with the following Scenario:\r\n\r\nThe process consists of one UserTask followed by one Gateway and one ServiceTask. The UserTask executes \r\n\r\n    runtimeService.setVariable(execId, &quot;object&quot;, out);`. \r\n    taskService.complete(taskId);\r\n\r\n\r\nThe following ServiceTask uses &quot;object&quot; as input variable (does not modify it) and, upon completion  throws said `OptimisticLockingException`. My problem seems to originate from the fact, that `taskService.complete()` immediately executes the ServiceTask, prior to flushing the variables set in the UserTask. \r\n\r\nI&#39;ve had another, related issue, which occured, when in one UserTask I executed `runtimeService.setVariable(Map&lt;Strong, Boolean&gt;)` and tried to access the members of the Map as transition-guards in a gateway following that UserTask.\r\n\r\nI&#39;ve found the following article: http://forums.activiti.org/content/urgenterror-updated-another-transaction-concurrently which seems somehow related to my issue. However, I&#39;m not clear on the question whether this is (un)wanted behaviour and how I can access a `DelegateExecution`-Object from a UserTask.","title":"OptimisticLockingException with Camunda Service Task","body":"<p>We're seeing OptimisticLockingExceptions in a Camunda process with the following Scenario:</p>\n\n<p>The process consists of one UserTask followed by one Gateway and one ServiceTask. The UserTask executes </p>\n\n<pre><code>runtimeService.setVariable(execId, \"object\", out);`. \ntaskService.complete(taskId);\n</code></pre>\n\n<p>The following ServiceTask uses \"object\" as input variable (does not modify it) and, upon completion  throws said <code>OptimisticLockingException</code>. My problem seems to originate from the fact, that <code>taskService.complete()</code> immediately executes the ServiceTask, prior to flushing the variables set in the UserTask. </p>\n\n<p>I've had another, related issue, which occured, when in one UserTask I executed <code>runtimeService.setVariable(Map&lt;Strong, Boolean&gt;)</code> and tried to access the members of the Map as transition-guards in a gateway following that UserTask.</p>\n\n<p>I've found the following article: <a href=\"http://forums.activiti.org/content/urgenterror-updated-another-transaction-concurrently\" rel=\"nofollow\">http://forums.activiti.org/content/urgenterror-updated-another-transaction-concurrently</a> which seems somehow related to my issue. However, I'm not clear on the question whether this is (un)wanted behaviour and how I can access a <code>DelegateExecution</code>-Object from a UserTask.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1648935183,"post_id":71721303,"comment_id":126750036,"body_markdown":"After the first delete in StringBuilder, its not consistent with myString.","body":"After the first delete in StringBuilder, its not consistent with myString."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648935674,"creation_date":1648935674,"answer_id":71721371,"question_id":71721303,"body_markdown":"The problem is that you are comparing the length of myString in the for loop which is fixed. Instead you should be comparing it with the length of StringBuilder ( newString in this case) as you are reducing the length when performing the delete operation. \r\n\r\nAlso, the time complexity (t.c) of the above code is O(n*k) where n is the length of the string and k the length of string that needs to be removed. \r\n\r\nYou can improve the time complexity by storing the character in a set and then iterating the newString and performing the remove operation. \r\n\r\n    public class CodioCustomString {\r\n        public static void main(String[] args) {\r\n            System.out.println(remove(&quot;pdi&quot;));\r\n            System.out.println(remove2(&quot;pdi&quot;));\r\n        }\r\n    \r\n        // 2 Variables\r\n        static String myString = &quot;peter piper picked&quot;;\r\n        boolean isSet;\r\n    \r\n        /** tc - o(nk) where k is length of args string and n is length of string */\r\n        private static String remove(String arg) {\r\n            char[] chars = arg.toCharArray();\r\n            StringBuilder newString = new StringBuilder(myString);\r\n            for (char i : chars) {\r\n                for (int k = 0; k &lt; newString.length(); k++) {\r\n                    if (i == newString.charAt(k)) {\r\n                        newString.deleteCharAt(k);\r\n                        k--;\r\n                    } else {\r\n                        continue;\r\n                    }\r\n    \r\n                }\r\n    \r\n            }\r\n            return newString.toString();\r\n        }\r\n    \r\n        /**\r\n         * tc - o(n) + o(k) where k is length of args string and n is length of string\r\n         */\r\n        private static String remove2(String arg) {\r\n            char[] chars = arg.toCharArray();\r\n            Set&lt;Character&gt; set = new HashSet&lt;&gt;();\r\n            for (char i : chars) {\r\n                set.add(i);\r\n            }\r\n            StringBuilder newString = new StringBuilder(myString);\r\n    \r\n            for (int k = 0; k &lt; newString.length(); k++) {\r\n                if (set.contains(newString.charAt(k))) { // set.contains is o(1) operations\r\n                    newString.deleteCharAt(k);\r\n                    k--;\r\n                }\r\n    \r\n            }\r\n    \r\n            return newString.toString();\r\n        }\r\n    }\r\n\r\nand the expected output : \r\n\r\n    eter er cke\r\n    eter er cke\r\n\r\n","title":"Removing a string of letters from a String Java","body":"<p>The problem is that you are comparing the length of myString in the for loop which is fixed. Instead you should be comparing it with the length of StringBuilder ( newString in this case) as you are reducing the length when performing the delete operation.</p>\n<p>Also, the time complexity (t.c) of the above code is O(n*k) where n is the length of the string and k the length of string that needs to be removed.</p>\n<p>You can improve the time complexity by storing the character in a set and then iterating the newString and performing the remove operation.</p>\n<pre><code>public class CodioCustomString {\n    public static void main(String[] args) {\n        System.out.println(remove(&quot;pdi&quot;));\n        System.out.println(remove2(&quot;pdi&quot;));\n    }\n\n    // 2 Variables\n    static String myString = &quot;peter piper picked&quot;;\n    boolean isSet;\n\n    /** tc - o(nk) where k is length of args string and n is length of string */\n    private static String remove(String arg) {\n        char[] chars = arg.toCharArray();\n        StringBuilder newString = new StringBuilder(myString);\n        for (char i : chars) {\n            for (int k = 0; k &lt; newString.length(); k++) {\n                if (i == newString.charAt(k)) {\n                    newString.deleteCharAt(k);\n                    k--;\n                } else {\n                    continue;\n                }\n\n            }\n\n        }\n        return newString.toString();\n    }\n\n    /**\n     * tc - o(n) + o(k) where k is length of args string and n is length of string\n     */\n    private static String remove2(String arg) {\n        char[] chars = arg.toCharArray();\n        Set&lt;Character&gt; set = new HashSet&lt;&gt;();\n        for (char i : chars) {\n            set.add(i);\n        }\n        StringBuilder newString = new StringBuilder(myString);\n\n        for (int k = 0; k &lt; newString.length(); k++) {\n            if (set.contains(newString.charAt(k))) { // set.contains is o(1) operations\n                newString.deleteCharAt(k);\n                k--;\n            }\n\n        }\n\n        return newString.toString();\n    }\n}\n</code></pre>\n<p>and the expected output :</p>\n<pre><code>eter er cke\neter er cke\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648939549,"creation_date":1648937440,"answer_id":71721541,"question_id":71721303,"body_markdown":"Here are three methods to do it. The methods take two argument.\r\n- the `target` string subject to removal\r\n- the `source` string of characters to be removed.\r\n```\r\nString result1 = remove1(&quot;peter piper picked&quot;, &quot;pbi&quot;);\r\nSystem.out.println(result1);\r\n\r\nString result2 = remove2(&quot;peter piper picked&quot;, &quot;pbi&quot;);\r\nSystem.out.println(result2);\r\n\r\nString result3 = remove3(&quot;peter piper picked&quot;, &quot;pbi&quot;);\r\nSystem.out.println(result3);\r\n\r\n```\r\nprints\r\n```\r\neter er cked\r\neter er cked\r\neter er cked\r\n```\r\n\r\n**Explanations**\r\n\r\n**remove1**\r\n\r\nThe easiest way is as follows:\r\n\r\n- use `replaceAll` which takes a regular expression\r\n- `[abc]` is a character class which matches any of those characters. So simply create one by surrounding your letters to be removed with brackets.\r\n- replace the occurrence of those characters with an empty string.\r\n```\r\npublic static String remove1(String target, String toBeRemoved) {\r\n\treturn target.replaceAll(&quot;[&quot; + toBeRemoved + &quot;]&quot;, &quot;&quot;);\r\n}\r\n```\r\n**remove2**\r\n\r\nIf you prefer to do it in a loop you can do the following:\r\n- simply iterate across the characters of the string.\r\n- if the removal letters contains the character, ignore it.\r\n- else append it to a `StringBuilder`\r\n```\r\npublic static String remove2(String target, String toBeRemoved) {\r\n\tStringBuilder sb = new StringBuilder();\r\n\tfor (char ch : target.toCharArray()) {\r\n\t\tif (!toBeRemoved.contains(Character.toString(ch))) {\r\n\t\t\tsb.append(ch);\r\n\t\t}\r\n\t}\r\n\treturn sb.toString();\r\n}\r\n```\r\n**remove3**\r\n\r\nThis method streams the characters.\r\n- map each character to a string\r\n- filter out the ones to be removed\r\n- collect into a new String using `Collectors.joining()`\r\n```\r\npublic static String remove3(String target, String toBeRemoved) {\r\n\treturn target.chars().mapToObj(Character::toString)\r\n\t\t\t.filter(Predicate.not(toBeRemoved::contains)))\r\n\t\t\t.collect(Collectors.joining());\r\n}\r\n\t","title":"Removing a string of letters from a String Java","body":"<p>Here are three methods to do it. The methods take two argument.</p>\n<ul>\n<li>the <code>target</code> string subject to removal</li>\n<li>the <code>source</code> string of characters to be removed.</li>\n</ul>\n<pre><code>String result1 = remove1(&quot;peter piper picked&quot;, &quot;pbi&quot;);\nSystem.out.println(result1);\n\nString result2 = remove2(&quot;peter piper picked&quot;, &quot;pbi&quot;);\nSystem.out.println(result2);\n\nString result3 = remove3(&quot;peter piper picked&quot;, &quot;pbi&quot;);\nSystem.out.println(result3);\n\n</code></pre>\n<p>prints</p>\n<pre><code>eter er cked\neter er cked\neter er cked\n</code></pre>\n<p><strong>Explanations</strong></p>\n<p><strong>remove1</strong></p>\n<p>The easiest way is as follows:</p>\n<ul>\n<li>use <code>replaceAll</code> which takes a regular expression</li>\n<li><code>[abc]</code> is a character class which matches any of those characters. So simply create one by surrounding your letters to be removed with brackets.</li>\n<li>replace the occurrence of those characters with an empty string.</li>\n</ul>\n<pre><code>public static String remove1(String target, String toBeRemoved) {\n    return target.replaceAll(&quot;[&quot; + toBeRemoved + &quot;]&quot;, &quot;&quot;);\n}\n</code></pre>\n<p><strong>remove2</strong></p>\n<p>If you prefer to do it in a loop you can do the following:</p>\n<ul>\n<li>simply iterate across the characters of the string.</li>\n<li>if the removal letters contains the character, ignore it.</li>\n<li>else append it to a <code>StringBuilder</code></li>\n</ul>\n<pre><code>public static String remove2(String target, String toBeRemoved) {\n    StringBuilder sb = new StringBuilder();\n    for (char ch : target.toCharArray()) {\n        if (!toBeRemoved.contains(Character.toString(ch))) {\n            sb.append(ch);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p><strong>remove3</strong></p>\n<p>This method streams the characters.</p>\n<ul>\n<li>map each character to a string</li>\n<li>filter out the ones to be removed</li>\n<li>collect into a new String using <code>Collectors.joining()</code></li>\n</ul>\n<pre><code>public static String remove3(String target, String toBeRemoved) {\n    return target.chars().mapToObj(Character::toString)\n            .filter(Predicate.not(toBeRemoved::contains)))\n            .collect(Collectors.joining());\n}\n    \n</code></pre>\n"}],"owner":{"account_id":23638673,"reputation":1,"user_id":17669281,"display_name":"RegularShrimp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648969199,"creation_date":1648934936,"question_id":71721303,"body_markdown":"Okay been on this for a while now and have gone through many different versions of doing this the goal is to have a method like remove(&quot;pdi&quot;) and it will return &quot;eter er cke&quot;\r\n\r\nThe `remove()` function has to remove all the characters in myString matching with characters of `args` passed as an argument to the function.\r\n\r\n    public class CodioCustomString {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(remove(&quot;pdi&quot;));\r\n\t\t\r\n\t}\r\n\t\r\n\t//2 Variables\r\n    static String myString = &quot;peter piper picked&quot;;\r\n\tboolean isSet;\r\n\t\r\n\t//constructor\r\n\r\n\tpublic static String remove(String arg) {\r\n\t\tchar[] chars = arg.toCharArray();\r\n\t\tStringBuilder newString = new StringBuilder(myString);\r\n\t\tfor(char i: chars) {\r\n\t\t\tfor(int k = 0; k &lt; myString.length(); k++) {\r\n\t\t\t\tif(i == myString.charAt(k)) {\r\n\t\t\t\t\tnewString.deleteCharAt(k);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\treturn newString.toString();\r\n\t}","title":"Removing a string of letters from a String Java","body":"<p>Okay been on this for a while now and have gone through many different versions of doing this the goal is to have a method like remove(&quot;pdi&quot;) and it will return &quot;eter er cke&quot;</p>\n<p>The <code>remove()</code> function has to remove all the characters in myString matching with characters of <code>args</code> passed as an argument to the function.</p>\n<pre><code>public class CodioCustomString {\n\npublic static void main(String[] args) {\n    System.out.println(remove(&quot;pdi&quot;));\n    \n}\n\n//2 Variables\nstatic String myString = &quot;peter piper picked&quot;;\nboolean isSet;\n\n//constructor\n\npublic static String remove(String arg) {\n    char[] chars = arg.toCharArray();\n    StringBuilder newString = new StringBuilder(myString);\n    for(char i: chars) {\n        for(int k = 0; k &lt; myString.length(); k++) {\n            if(i == myString.charAt(k)) {\n                newString.deleteCharAt(k);\n                continue;\n            }\n            else {\n                continue;\n            }\n\n        }\n        \n        }\n    return newString.toString();\n}\n</code></pre>\n"},{"tags":["java","arrays","for-loop","arraylist"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648871093,"creation_date":1648871093,"answer_id":71714703,"question_id":71714678,"body_markdown":"When you write\r\n\r\n```\r\npublic class Odd\r\n{\r\nint size;\r\nint a[]=new int[size];\r\n```\r\n\r\nthen whenever `Odd` is constructed, `a` is created to be an array with size equal to the current value of `size`, which is 0.\r\n\r\nWhen you then write\r\n```\r\nsize=sc.nextInt();\r\n```\r\n\r\nthe size of `a` does not change to the new value of the `size` variable.","title":"I&#39;m unable to store values in array as it is showing error?","body":"<p>When you write</p>\n<pre><code>public class Odd\n{\nint size;\nint a[]=new int[size];\n</code></pre>\n<p>then whenever <code>Odd</code> is constructed, <code>a</code> is created to be an array with size equal to the current value of <code>size</code>, which is 0.</p>\n<p>When you then write</p>\n<pre><code>size=sc.nextInt();\n</code></pre>\n<p>the size of <code>a</code> does not change to the new value of the <code>size</code> variable.</p>\n"},{"tags":[],"owner":{"account_id":137700,"reputation":8264,"user_id":342073,"accept_rate":64,"display_name":"Ramesh Kotha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648871166,"creation_date":1648871166,"answer_id":71714711,"question_id":71714678,"body_markdown":"Move the array initialization to inside main method as the size is required while creating array.\r\n\r\n```\r\npublic class Odd {\r\n\tstatic int size;\r\n\tstatic int a[];\r\n\tpublic static void main(String[]args){\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter Size of array&quot;);\r\n\t\tsize=sc.nextInt();\r\n\t\ta = new int[size];\r\n\t\tfor(int i=0;i&lt;size;i++)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;enter &quot;+i+&quot;th element&quot;);\r\n\t\t\ta[i]=sc.nextInt();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;your array is&quot;);\r\n\t\tfor(int i=0;i&lt;size;i++)\r\n\t\t{\r\n\t\t\tSystem.out.print(a[i]+&quot; &quot;);\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nand here is the output\r\n\r\nEnter Size of array\r\n3\r\nenter 0th element\r\n1\r\nenter 1th element\r\n2\r\nenter 2th element\r\n3\r\nyour array is\r\n1 2 3 ","title":"I&#39;m unable to store values in array as it is showing error?","body":"<p>Move the array initialization to inside main method as the size is required while creating array.</p>\n<pre><code>public class Odd {\n    static int size;\n    static int a[];\n    public static void main(String[]args){\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter Size of array&quot;);\n        size=sc.nextInt();\n        a = new int[size];\n        for(int i=0;i&lt;size;i++)\n        {\n            System.out.println(&quot;enter &quot;+i+&quot;th element&quot;);\n            a[i]=sc.nextInt();\n        }\n        System.out.println(&quot;your array is&quot;);\n        for(int i=0;i&lt;size;i++)\n        {\n            System.out.print(a[i]+&quot; &quot;);\n        }\n\n    }\n}\n\nand here is the output\n\nEnter Size of array\n3\nenter 0th element\n1\nenter 1th element\n2\nenter 2th element\n3\nyour array is\n1 2 3 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648871250,"creation_date":1648871250,"answer_id":71714715,"question_id":71714678,"body_markdown":"When the array is created, the value of size is defaultly 0. Do this for better results:\r\n\r\n    public class Odd\r\n    {\r\n        int size;\r\n        int a[];\r\n        public static void main(String[]args)\r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Enter Size of array&quot;);\r\n            size=sc.nextInt();\r\n            a = new int[size];\r\n\r\nThen whatever you have to do you can do...\r\n","title":"I&#39;m unable to store values in array as it is showing error?","body":"<p>When the array is created, the value of size is defaultly 0. Do this for better results:</p>\n<pre><code>public class Odd\n{\n    int size;\n    int a[];\n    public static void main(String[]args)\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter Size of array&quot;);\n        size=sc.nextInt();\n        a = new int[size];\n</code></pre>\n<p>Then whatever you have to do you can do...</p>\n"},{"tags":[],"owner":{"account_id":24765622,"reputation":1118,"user_id":18649495,"display_name":"Fed_Dragon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648871392,"creation_date":1648871392,"answer_id":71714724,"question_id":71714678,"body_markdown":"You don&#39;t actually need these member variables.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class SizeArray {\r\n    public static void main(String[]args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter Size of array: &quot;);\r\n        int size = sc.nextInt();\r\n        int a[] = new int[size];\r\n\r\n        for(int i = 0; i &lt; size;i ++) {\r\n            System.out.print(&quot;enter &quot;+ i +&quot;th element: &quot;);\r\n            a[i]=sc.nextInt();\r\n        }\r\n\r\n        System.out.println(&quot;your array is&quot;);\r\n\r\n        for(int i = 0; i &lt; size; i++) {\r\n            System.out.print(a[i]+&quot; &quot;);\r\n        }\r\n\r\n        sc.close();\r\n    }\r\n}\r\n```\r\n\r\nYou can just put in the main function instead of modifying them after creation.\r\n\r\nOutput:\r\n```\r\nEnter Size of array: 4\r\nenter 0th element: 1\r\nenter 1th element: 2\r\nenter 2th element: 3\r\nenter 3th element: 4\r\nyour array is\r\n1 2 3 4\r\n```\r\n\r\n\r\nBTW please write your code in more readable format.","title":"I&#39;m unable to store values in array as it is showing error?","body":"<p>You don't actually need these member variables.</p>\n<pre><code>import java.util.Scanner;\n\npublic class SizeArray {\n    public static void main(String[]args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter Size of array: &quot;);\n        int size = sc.nextInt();\n        int a[] = new int[size];\n\n        for(int i = 0; i &lt; size;i ++) {\n            System.out.print(&quot;enter &quot;+ i +&quot;th element: &quot;);\n            a[i]=sc.nextInt();\n        }\n\n        System.out.println(&quot;your array is&quot;);\n\n        for(int i = 0; i &lt; size; i++) {\n            System.out.print(a[i]+&quot; &quot;);\n        }\n\n        sc.close();\n    }\n}\n</code></pre>\n<p>You can just put in the main function instead of modifying them after creation.</p>\n<p>Output:</p>\n<pre><code>Enter Size of array: 4\nenter 0th element: 1\nenter 1th element: 2\nenter 2th element: 3\nenter 3th element: 4\nyour array is\n1 2 3 4\n</code></pre>\n<p>BTW please write your code in more readable format.</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648871607,"creation_date":1648871607,"answer_id":71714741,"question_id":71714678,"body_markdown":"There are several things wrong with your code.\r\n\r\nFirst, the static method main is not able to access size and a because they are instance variables.  You would need to make them static or make them local variables in the main method.\r\n\r\nSecond, size is zero.  You create the array without knowing what the user will enter for size.  The array has a size of zero.\r\n\r\nThird, you don&#39;t need the variable size since you don&#39;t really use it anywhere else.  \r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main{\r\n\r\n   public static void main(String[]args){\r\n      Scanner sc=new Scanner(System.in);\r\n   \r\n      System.out.println(&quot;Enter Size of array&quot;);\r\n      int[] a = new int[sc.nextInt()];\r\n   \r\n      for(int i=0;i&lt;a.length;i++){\r\n         System.out.println(&quot;enter &quot;+i+&quot;th element&quot;);\r\n         a[i]=sc.nextInt();\r\n      }\r\n   \r\n      System.out.println(&quot;your array is&quot;);\r\n      for(int i=0;i&lt;a.length;i++){\r\n         System.out.print(a[i]+&quot; &quot;);\r\n      }\r\n      \r\n   }\r\n}\r\n```","title":"I&#39;m unable to store values in array as it is showing error?","body":"<p>There are several things wrong with your code.</p>\n<p>First, the static method main is not able to access size and a because they are instance variables.  You would need to make them static or make them local variables in the main method.</p>\n<p>Second, size is zero.  You create the array without knowing what the user will enter for size.  The array has a size of zero.</p>\n<p>Third, you don't need the variable size since you don't really use it anywhere else.</p>\n<pre><code>import java.util.Scanner;\npublic class Main{\n\n   public static void main(String[]args){\n      Scanner sc=new Scanner(System.in);\n   \n      System.out.println(&quot;Enter Size of array&quot;);\n      int[] a = new int[sc.nextInt()];\n   \n      for(int i=0;i&lt;a.length;i++){\n         System.out.println(&quot;enter &quot;+i+&quot;th element&quot;);\n         a[i]=sc.nextInt();\n      }\n   \n      System.out.println(&quot;your array is&quot;);\n      for(int i=0;i&lt;a.length;i++){\n         System.out.print(a[i]+&quot; &quot;);\n      }\n      \n   }\n}\n</code></pre>\n"}],"owner":{"account_id":24792104,"reputation":1,"user_id":18675047,"display_name":"AKSHAY THADKAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1648969114,"creation_date":1648870705,"question_id":71714678,"body_markdown":"I have to take the size of the array from user input and store it\r\nand also I tried to store values in array ac to size but when I run the program, for loop executes once after its showing an error of boundary exception\r\n\r\n     import java.util.Scanner;     \r\n\r\n     public class Odd {\r\n        int size;\r\n        int a[] = new int[size];\r\n\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter Size of array&quot;);\r\n            size = sc.nextInt();\r\n            for (int i = 0; i &lt; size; i++) {\r\n                System.out.println(&quot;enter &quot; + i + &quot;th element&quot;);\r\n                a[i] = sc.nextInt();\r\n            }\r\n            System.out.println(&quot;your array is&quot;);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                System.out.print(a[i] + &quot; &quot;);\r\n            }\r\n        }\r\n    }","title":"I&#39;m unable to store values in array as it is showing error?","body":"<p>I have to take the size of the array from user input and store it\nand also I tried to store values in array ac to size but when I run the program, for loop executes once after its showing an error of boundary exception</p>\n<pre><code> import java.util.Scanner;     \n\n public class Odd {\n    int size;\n    int a[] = new int[size];\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter Size of array&quot;);\n        size = sc.nextInt();\n        for (int i = 0; i &lt; size; i++) {\n            System.out.println(&quot;enter &quot; + i + &quot;th element&quot;);\n            a[i] = sc.nextInt();\n        }\n        System.out.println(&quot;your array is&quot;);\n        for (int i = 0; i &lt; size; i++) {\n            System.out.print(a[i] + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","indexoutofboundsexception"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1648966428,"post_id":71723420,"comment_id":126753561,"body_markdown":"That&#39;s because `split` is returning an empty array. Look at your input data.","body":"That&#39;s because <code>split</code> is returning an empty array. Look at your input data."}],"answers":[{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648968862,"creation_date":1648968862,"answer_id":71723656,"question_id":71723420,"body_markdown":"The problem is clearly related to the `split(&quot; &quot;)` statement in some case when a line cannot be splitted because it has no whitespace character.\r\n```\r\nString values[] = line.split(&quot; &quot;);\r\nBook book = new Book(values[1],values[2]); &lt;-- Here you access at position 1\r\n```\r\nLooking at the text input example you shown, it seems that it has an empty line.\r\nIt might be the 1st or the last one.","title":"I&#39;m getting Index 1 out of bounds for length 0 at Driver.main(Driver.java:17) and I have no clue how to fix it","body":"<p>The problem is clearly related to the <code>split(&quot; &quot;)</code> statement in some case when a line cannot be splitted because it has no whitespace character.</p>\n<pre><code>String values[] = line.split(&quot; &quot;);\nBook book = new Book(values[1],values[2]); &lt;-- Here you access at position 1\n</code></pre>\n<p>Looking at the text input example you shown, it seems that it has an empty line.\nIt might be the 1st or the last one.</p>\n"}],"owner":{"account_id":23114133,"reputation":1,"user_id":17221653,"display_name":"cornel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648982534,"answer_count":1,"score":0,"last_activity_date":1648968862,"creation_date":1648966012,"question_id":71723420,"body_markdown":"I&#39;m trying to make a code that is passing a string into AVLTree.java but I&#39;m getting the Index 1 out of bounds for length 0 at Driver.main(Driver.java:17) error.\r\nDriver main:\r\n\r\n    import java.io.*;\r\n\timport java.util.Scanner;\r\npublic class Driver {\r\n\t\r\n\r\n\t\r\n\r\n\tpublic static void main(String[] args) throws IOException  {\r\n\t\t\r\n\t\t\r\n\t\tBufferedReader in = new BufferedReader(new FileReader(&quot;Booklist.txt&quot;));\r\n\t    String line;\r\n\t\t\tAVLTree bst = new AVLTree();\r\n\t\t\twhile((line = in.readLine()) != null) {\r\n\t\t\t\t String values[] = line.split(&quot; &quot;);\r\n\t\r\n\t\t\t\t  Book book = new Book(values[1],values[2]);\r\n\t\t\t\r\n\t\t\t\tbst.insert(values[0]);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tin.close();\r\n\t\t/*\t\r\n\t    \tbst.insert(1);\r\n\t    \tbst.insert(2);\r\n\t    \tbst.insert(3);\r\n\t    \tbst.insert(4);\r\n\t    \tbst.insert(5);\r\n\t    \tbst.insert(6);\r\n\t    \tbst.insert(7);\r\n\t    \tbst.insert(8);\r\n\t    \tbst.prettyPrint();\r\n\t    \t*/\r\n\t\t}\r\n\t}\r\n\r\n.....\r\n\r\nAVLTree insert function.\r\n\r\n    public void insert(String isbn) {\r\n\t\tAVLNode node = new AVLNode(isbn,  null);\r\n\t\tAVLNode y = null;\r\n\t\tAVLNode x = this.root;\r\n\r\n\t\twhile (x != null) {\r\n\t\t\ty = x;\r\n\t\t\tif (node.ISBN.compareTo(x.ISBN)&lt;0) {\r\n\t\t\t\tx = x.left;\r\n\t\t\t} else {\r\n\t\t\t\tx = x.right;\r\n\t\t\t}\r\n\t\t}\r\n\t\tnode.parent = y;\r\n\t\tif (y == null) {\r\n\t\t\troot = node;\r\n\t\t} else if (node.ISBN.compareTo(y.ISBN)&lt;0 ) {\r\n\t\t\ty.left = node;\r\n\t\t} else {\r\n\t\t\ty.right = node;\r\n\t\t}\r\n\t\tupdateBalance(node);\r\n\t}\r\n\r\nThe txt I&#39;m using looks like this\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z20wB.png","title":"I&#39;m getting Index 1 out of bounds for length 0 at Driver.main(Driver.java:17) and I have no clue how to fix it","body":"<p>I'm trying to make a code that is passing a string into AVLTree.java but I'm getting the Index 1 out of bounds for length 0 at Driver.main(Driver.java:17) error.\nDriver main:</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n</code></pre>\n<p>public class Driver {</p>\n<pre><code>public static void main(String[] args) throws IOException  {\n    \n    \n    BufferedReader in = new BufferedReader(new FileReader(&quot;Booklist.txt&quot;));\n    String line;\n        AVLTree bst = new AVLTree();\n        while((line = in.readLine()) != null) {\n             String values[] = line.split(&quot; &quot;);\n\n              Book book = new Book(values[1],values[2]);\n        \n            bst.insert(values[0]);\n            \n        }\n        \n        \n        in.close();\n    /*  \n        bst.insert(1);\n        bst.insert(2);\n        bst.insert(3);\n        bst.insert(4);\n        bst.insert(5);\n        bst.insert(6);\n        bst.insert(7);\n        bst.insert(8);\n        bst.prettyPrint();\n        */\n    }\n}\n</code></pre>\n<p>.....</p>\n<p>AVLTree insert function.</p>\n<pre><code>public void insert(String isbn) {\n    AVLNode node = new AVLNode(isbn,  null);\n    AVLNode y = null;\n    AVLNode x = this.root;\n\n    while (x != null) {\n        y = x;\n        if (node.ISBN.compareTo(x.ISBN)&lt;0) {\n            x = x.left;\n        } else {\n            x = x.right;\n        }\n    }\n    node.parent = y;\n    if (y == null) {\n        root = node;\n    } else if (node.ISBN.compareTo(y.ISBN)&lt;0 ) {\n        y.left = node;\n    } else {\n        y.right = node;\n    }\n    updateBalance(node);\n}\n</code></pre>\n<p>The txt I'm using looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/Z20wB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":1452032,"reputation":529,"user_id":1368671,"accept_rate":88,"display_name":"LoXatoR"},"score":0,"creation_date":1648713029,"post_id":71679264,"comment_id":126695658,"body_markdown":"You need to get the gas price from some provider, you can&#39;t rely on a static value as it keeps changing throughout the day. You can see the current gas price on ropsten right now - https://dashboards.anyblock.tools/ethereum/ethereum/ropsten/gas-metrics/?currency=usd&amp;chunk_size=hour&amp;interval=latest_week&amp;speed=slow&amp;tx_type=NATIVE&amp;tx_currency=usd&amp;tx_chunk_size=hour","body":"You need to get the gas price from some provider, you can&#39;t rely on a static value as it keeps changing throughout the day. You can see the current gas price on ropsten right now - <a href=\"https://dashboards.anyblock.tools/ethereum/ethereum/ropsten/gas-metrics/?currency=usd&amp;chunk_size=hour&amp;interval=latest_week&amp;speed=slow&amp;tx_type=NATIVE&amp;tx_currency=usd&amp;tx_chunk_size=hour\" rel=\"nofollow noreferrer\">dashboards.anyblock.tools/ethereum/ethereum/ropsten/gas-metr&zwnj;&#8203;ics/&hellip;</a>"},{"owner":{"account_id":1452032,"reputation":529,"user_id":1368671,"accept_rate":88,"display_name":"LoXatoR"},"score":1,"creation_date":1648713094,"post_id":71679264,"comment_id":126695678,"body_markdown":"Also, do your transaction submit to the blockchain? It shouldn&#39;t matter whether gas prices high are or low, the transaction has to submit and the network can then process it or reject it, but you should be able to get back a transaction hash, which you can then use to find your submitted transaction on https://ropsten.etherscan.io","body":"Also, do your transaction submit to the blockchain? It shouldn&#39;t matter whether gas prices high are or low, the transaction has to submit and the network can then process it or reject it, but you should be able to get back a transaction hash, which you can then use to find your submitted transaction on <a href=\"https://ropsten.etherscan.io\" rel=\"nofollow noreferrer\">ropsten.etherscan.io</a>"},{"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"score":0,"creation_date":1648714595,"post_id":71679264,"comment_id":126696213,"body_markdown":"@LoXatoR if the transaction should show in the network while it is in progress in the ropsten website then, my answer is no. I can&#39;t see any transactions (not even the failed one). Do you have any other way in which I can send the transaction or is there anything wrong you can see here?","body":"@LoXatoR if the transaction should show in the network while it is in progress in the ropsten website then, my answer is no. I can&#39;t see any transactions (not even the failed one). Do you have any other way in which I can send the transaction or is there anything wrong you can see here?"},{"owner":{"account_id":1452032,"reputation":529,"user_id":1368671,"accept_rate":88,"display_name":"LoXatoR"},"score":1,"creation_date":1648727446,"post_id":71679264,"comment_id":126701022,"body_markdown":"Well, that means that your transaction isn&#39;t being posted to the network. I haven&#39;t called smart contracts in Java so I don&#39;t really what&#39;s going on here, sorry. But I assume your problem is that you are either not calling the function correctly (in JS, you either send() or call() functions, and transactions are of type send(), since you are sending a transaction to the network). OR if your smart contract function call is correct, then your transaction object is not built correctly and the provider through which you send it, rejects it before sending it along to the network.","body":"Well, that means that your transaction isn&#39;t being posted to the network. I haven&#39;t called smart contracts in Java so I don&#39;t really what&#39;s going on here, sorry. But I assume your problem is that you are either not calling the function correctly (in JS, you either send() or call() functions, and transactions are of type send(), since you are sending a transaction to the network). OR if your smart contract function call is correct, then your transaction object is not built correctly and the provider through which you send it, rejects it before sending it along to the network."},{"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"score":0,"creation_date":1648728152,"post_id":71679264,"comment_id":126701282,"body_markdown":"@LoXatoR the class I have at the top is an autogenerated class generated using the web3 CLI. So, I&#39;m assuming that the autogenerated class is not a problem. the only remaining place for a problem to form is in the second class I have provided (atleast thats what I&#39;m assuming). Also, about the send() function, all tutorials for web3-java had the send function similar to web3js (I&#39;m assuming). can you just verify if my gas pricing is good enough for a transaction? That way I can look for other problems and not have to focus on having that right.","body":"@LoXatoR the class I have at the top is an autogenerated class generated using the web3 CLI. So, I&#39;m assuming that the autogenerated class is not a problem. the only remaining place for a problem to form is in the second class I have provided (atleast thats what I&#39;m assuming). Also, about the send() function, all tutorials for web3-java had the send function similar to web3js (I&#39;m assuming). can you just verify if my gas pricing is good enough for a transaction? That way I can look for other problems and not have to focus on having that right."},{"owner":{"account_id":1452032,"reputation":529,"user_id":1368671,"accept_rate":88,"display_name":"LoXatoR"},"score":1,"creation_date":1648746416,"post_id":71679264,"comment_id":126709077,"body_markdown":"I mean if I understand the gas code correctly, you are setting 150 GWEI, which is more than enough to make a transaction. I don&#39;t undestand the `4_000_000L` gas limit bit. Rule of thumb for a transaction is that it should be greater than 21000 in case of ETH transactions. Sorry, can&#39;t be more of help :/","body":"I mean if I understand the gas code correctly, you are setting 150 GWEI, which is more than enough to make a transaction. I don&#39;t undestand the <code>4_000_000L</code> gas limit bit. Rule of thumb for a transaction is that it should be greater than 21000 in case of ETH transactions. Sorry, can&#39;t be more of help :/"},{"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"score":0,"creation_date":1648787783,"post_id":71679264,"comment_id":126717883,"body_markdown":"4_000_000L is the same as 4,000,000. just easier to read and kotlin allows it. so, I have to assume something else is the problem. still, you were more help than other. So, have an upvote.","body":"4_000_000L is the same as 4,000,000. just easier to read and kotlin allows it. so, I have to assume something else is the problem. still, you were more help than other. So, have an upvote."}],"answers":[{"tags":[],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648967829,"creation_date":1648967829,"answer_id":71723572,"question_id":71679264,"body_markdown":"&lt;li&gt;In my case, I had to go for a raw transaction instead of the autogenerated functions.\r\n&lt;li&gt;My assumption is that either the web3j library isn&#39;t best suited for test net transactions\r\n&lt;li&gt;Or, the `executeRemoteCallTransaction` is faulty because even with my current settings, it won&#39;t perform the transactions.\r\n\r\n---\r\nFor how I solved this issue,\r\n&lt;li&gt;Just copy/modify the function&#39;s autogenerated method from the java file such that you get only the encoded function.\r\n&lt;li&gt;Then, use the encoded function as the data for the raw transaction.\r\n&lt;li&gt;The example below isn&#39;t the best. but, at the very least it executes.\r\n&lt;li&gt;And, of course, you&#39;ll have to optimize the function according to your needs.\r\n\r\n---\r\nThe auto generated function that&#39;s suspected to be faulty - \r\n\r\n\r\n    public RemoteFunctionCall&lt;TransactionReceipt&gt; registerVote(BigInteger num) {\r\n        final Function function = new Function(\r\n                FUNC_REGISTERVOTE,\r\n                Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(num)),\r\n                Collections.&lt;TypeReference&lt;?&gt;&gt;emptyList());\r\n        return executeRemoteCallTransaction(function);\r\n    }\r\n\r\nMy test function that returns an encoded function string -\r\n\r\n    String TAG = &quot;Test&quot;;\r\n\r\n    public String testFunction(Long num) throws IOException, ExecutionException, InterruptedException {\r\n        Function function = new Function(\r\n                &quot;registerVote&quot;,\r\n                Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(num)),\r\n                Collections.&lt;TypeReference&lt;?&gt;&gt;emptyList());\r\n\r\n        String encodedFunction = FunctionEncoder.encode(function);\r\n        return encodedFunction;\r\n    }\r\n\r\nMy final function that executes -\r\n\r\n\r\n    private const val TAG = &quot;VoteContractDelegate&quot;\r\n    \r\n    class VoteContractDelegate() {\r\n        //------------------------------------------------------------------------------project-elements\r\n        private val CONTRACT_ADDRESS = &quot;0x84D46ba7aAac6221DF9038d3Ccf41F1cd46001aF&quot;\r\n    \r\n        //-----------------------------------------------------------------------------------credentials\r\n        private val USER_PRIVATE_KEY =\r\n            &quot;66c53799ee0c63f2564305e73bea7479d7aeewraed3aac4c01e54a7acbcc4d92&quot;\r\n        //use your own private key above.\r\n        private val credentials = Credentials.create(USER_PRIVATE_KEY)\r\n    \r\n        private val ROPSTEN_INFURA_URL = &quot;https://ropsten.infura.io/v3/c358089e1aaa4746aa50e61d4ec41c5c&quot;\r\n        private val web3j: Web3j = Web3j.build(HttpService(ROPSTEN_INFURA_URL))\r\n    \r\n        //--------------------------------------------------------------------------------gas-controller\r\n        private val gasPrice: BigInteger = Convert.toWei(&quot;200&quot;, Convert.Unit.GWEI).toBigInteger()\r\n        private val gasLimit = BigInteger.valueOf(40000)\r\n        private val gasProvider: ContractGasProvider = StaticGasProvider(gasPrice, gasLimit)\r\n    \r\n        private var contract: ContractHex = ContractHex.load(\r\n            CONTRACT_ADDRESS,\r\n            web3j,\r\n            RawTransactionManager(web3j, credentials, ChainIdLong.ROPSTEN),\r\n            gasProvider\r\n        )\r\n    \r\n        fun testingFunction() {\r\n            val nonce = web3j\r\n                .ethGetTransactionCount(credentials.address, DefaultBlockParameterName.LATEST)\r\n                .send()\r\n                .transactionCount\r\n            // TODO: change bigint to 1\r\n            Log.d(TAG, &quot;nonce for transaction nonce = $nonce&quot;)\r\n    \r\n            val rawTransaction = RawTransaction.createTransaction(\r\n                ChainIdLong.ROPSTEN,\r\n                nonce,\r\n                gasLimit,\r\n                CONTRACT_ADDRESS,\r\n                BigInteger.ZERO,             //value for the transaction. the function doesn&#39;t accept ether. so, zero\r\n                Test().testFunction(1),      //this returns the encoded function using the function encoder\r\n                gasPrice,                    //this is the &#39;maxPriorityFeePerGas&#39; I set this high to be on the safe side\r\n                gasPrice                     //this is the &#39;maxFeePerGas&#39;         I set this high to be on the safe side\r\n            )\r\n    \r\n            val signedTransaction =\r\n                TransactionEncoder.signMessage(rawTransaction, ChainIdLong.ROPSTEN, credentials)\r\n            Log.d(TAG, &quot;signed transaction byte array = ${signedTransaction.toList()}&quot;)\r\n    \r\n            val hex = Numeric.toHexString(signedTransaction)\r\n            Log.d(TAG, &quot;hex of a signed transaction for value one - $hex&quot;)\r\n    \r\n            Log.d(TAG, &quot;transaction test started...&quot;)      //transaction hash gets generated below.\r\n    \r\n            val transactionHash = web3j.ethSendRawTransaction(hex).send().transactionHash\r\n            Log.d(TAG, &quot;transactionHash = $transactionHash&quot;)\r\n        }\r\n    }\r\n\r\n","title":"web3j - my ethereum transactions are not being processed / mined / confirmed","body":"<li>In my case, I had to go for a raw transaction instead of the autogenerated functions.\n<li>My assumption is that either the web3j library isn't best suited for test net transactions\n<li>Or, the `executeRemoteCallTransaction` is faulty because even with my current settings, it won't perform the transactions.\n<hr />\n<p>For how I solved this issue,</p>\n<li>Just copy/modify the function's autogenerated method from the java file such that you get only the encoded function.\n<li>Then, use the encoded function as the data for the raw transaction.\n<li>The example below isn't the best. but, at the very least it executes.\n<li>And, of course, you'll have to optimize the function according to your needs.\n<hr />\n<p>The auto generated function that's suspected to be faulty -</p>\n<pre><code>public RemoteFunctionCall&lt;TransactionReceipt&gt; registerVote(BigInteger num) {\n    final Function function = new Function(\n            FUNC_REGISTERVOTE,\n            Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(num)),\n            Collections.&lt;TypeReference&lt;?&gt;&gt;emptyList());\n    return executeRemoteCallTransaction(function);\n}\n</code></pre>\n<p>My test function that returns an encoded function string -</p>\n<pre><code>String TAG = &quot;Test&quot;;\n\npublic String testFunction(Long num) throws IOException, ExecutionException, InterruptedException {\n    Function function = new Function(\n            &quot;registerVote&quot;,\n            Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(num)),\n            Collections.&lt;TypeReference&lt;?&gt;&gt;emptyList());\n\n    String encodedFunction = FunctionEncoder.encode(function);\n    return encodedFunction;\n}\n</code></pre>\n<p>My final function that executes -</p>\n<pre><code>private const val TAG = &quot;VoteContractDelegate&quot;\n\nclass VoteContractDelegate() {\n    //------------------------------------------------------------------------------project-elements\n    private val CONTRACT_ADDRESS = &quot;0x84D46ba7aAac6221DF9038d3Ccf41F1cd46001aF&quot;\n\n    //-----------------------------------------------------------------------------------credentials\n    private val USER_PRIVATE_KEY =\n        &quot;66c53799ee0c63f2564305e73bea7479d7aeewraed3aac4c01e54a7acbcc4d92&quot;\n    //use your own private key above.\n    private val credentials = Credentials.create(USER_PRIVATE_KEY)\n\n    private val ROPSTEN_INFURA_URL = &quot;https://ropsten.infura.io/v3/c358089e1aaa4746aa50e61d4ec41c5c&quot;\n    private val web3j: Web3j = Web3j.build(HttpService(ROPSTEN_INFURA_URL))\n\n    //--------------------------------------------------------------------------------gas-controller\n    private val gasPrice: BigInteger = Convert.toWei(&quot;200&quot;, Convert.Unit.GWEI).toBigInteger()\n    private val gasLimit = BigInteger.valueOf(40000)\n    private val gasProvider: ContractGasProvider = StaticGasProvider(gasPrice, gasLimit)\n\n    private var contract: ContractHex = ContractHex.load(\n        CONTRACT_ADDRESS,\n        web3j,\n        RawTransactionManager(web3j, credentials, ChainIdLong.ROPSTEN),\n        gasProvider\n    )\n\n    fun testingFunction() {\n        val nonce = web3j\n            .ethGetTransactionCount(credentials.address, DefaultBlockParameterName.LATEST)\n            .send()\n            .transactionCount\n        // TODO: change bigint to 1\n        Log.d(TAG, &quot;nonce for transaction nonce = $nonce&quot;)\n\n        val rawTransaction = RawTransaction.createTransaction(\n            ChainIdLong.ROPSTEN,\n            nonce,\n            gasLimit,\n            CONTRACT_ADDRESS,\n            BigInteger.ZERO,             //value for the transaction. the function doesn't accept ether. so, zero\n            Test().testFunction(1),      //this returns the encoded function using the function encoder\n            gasPrice,                    //this is the 'maxPriorityFeePerGas' I set this high to be on the safe side\n            gasPrice                     //this is the 'maxFeePerGas'         I set this high to be on the safe side\n        )\n\n        val signedTransaction =\n            TransactionEncoder.signMessage(rawTransaction, ChainIdLong.ROPSTEN, credentials)\n        Log.d(TAG, &quot;signed transaction byte array = ${signedTransaction.toList()}&quot;)\n\n        val hex = Numeric.toHexString(signedTransaction)\n        Log.d(TAG, &quot;hex of a signed transaction for value one - $hex&quot;)\n\n        Log.d(TAG, &quot;transaction test started...&quot;)      //transaction hash gets generated below.\n\n        val transactionHash = web3j.ethSendRawTransaction(hex).send().transactionHash\n        Log.d(TAG, &quot;transactionHash = $transactionHash&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71723572,"answer_count":1,"score":-1,"last_activity_date":1648967829,"creation_date":1648650952,"question_id":71679264,"body_markdown":"I only have problems with the smart contract functions which require a gas fees. I am able to call the other functions no problem. Through different posts, I found out that it might have to do with setting the correct gas price. but, even after trying multiple variations for gas prices, I am still stuck. If you have any suggestions, please do type them.\r\n\r\nMy autogenerated class (name - ContractHex, function being called - registerVote)-\r\n\r\n\r\n    package com.kenetic.blockchainvs.block_connector.contract.contract_interface;\r\n    \r\n    import org.web3j.abi.TypeReference;\r\n    import org.web3j.abi.datatypes.Address;\r\n    import org.web3j.abi.datatypes.Bool;\r\n    import org.web3j.abi.datatypes.DynamicArray;\r\n    import org.web3j.abi.datatypes.Function;\r\n    import org.web3j.abi.datatypes.Type;\r\n    import org.web3j.abi.datatypes.generated.Uint256;\r\n    import org.web3j.crypto.Credentials;\r\n    import org.web3j.protocol.Web3j;\r\n    import org.web3j.protocol.core.RemoteCall;\r\n    import org.web3j.protocol.core.RemoteFunctionCall;\r\n    import org.web3j.protocol.core.methods.response.TransactionReceipt;\r\n    import org.web3j.tx.Contract;\r\n    import org.web3j.tx.TransactionManager;\r\n    import org.web3j.tx.gas.ContractGasProvider;\r\n    \r\n    import java.math.BigInteger;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.concurrent.Callable;\r\n    \r\n    /**\r\n     * &lt;p&gt;Auto generated code.\r\n     * &lt;p&gt;&lt;strong&gt;Do not modify!&lt;/strong&gt;\r\n     * &lt;p&gt;Please use the &lt;a href=&quot;https://docs.web3j.io/command_line.html&quot;&gt;web3j command line tools&lt;/a&gt;,\r\n     * or the org.web3j.codegen.SolidityFunctionWrapperGenerator in the\r\n     * &lt;a href=&quot;https://github.com/web3j/web3j/tree/master/codegen&quot;&gt;codegen module&lt;/a&gt; to update.\r\n     *\r\n     * &lt;p&gt;Generated with web3j version 1.4.1.\r\n     */\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public class ContractHex extends Contract {\r\n        public static final String BINARY = &quot;{\\n&quot;\r\n                + &quot;\\t\\&quot;functionDebugData\\&quot;: {\\n&quot;\r\n                + &quot;\\t\\t\\&quot;@_30\\&quot;: {\\n&quot;\r\n                + &quot;\\t\\t\\t\\&quot;entryPoint\\&quot;: null,\\n&quot;\r\n                + &quot;\\t\\t\\t\\&quot;id\\&quot;: 30,\\n&quot;\r\n                + &quot;\\t\\t\\t\\&quot;parameterSlots\\&quot;: 0,\\n&quot;\r\n                + &quot;\\t\\t\\t\\&quot;returnSlots\\&quot;: 0\\n&quot;\r\n                + &quot;\\t\\t}\\n&quot;\r\n                + &quot;\\t},\\n&quot;\r\n                + &quot;\\t\\&quot;generatedSources\\&quot;: [],\\n&quot;\r\n                + &quot;\\t\\&quot;linkReferences\\&quot;: {},\\n&quot;\r\n                + &quot;\\t\\&quot;object\\&quot;: \\&quot;608060405234801561001057600080fd5b506000600281905560038190556004556103be8061002f6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063449b6db21161005b578063449b6db2146100b8578063464d4a92146100db578063a483f4e1146100ee578063f5a31579146100f657600080fd5b8063068ea0eb146100825780630efcb43c1461008c57806342cff738146100a3575b600080fd5b61008a6100fe565b005b6004545b6040519081526020015b60405180910390f35b6100ab6101cb565b60405161009a9190610312565b3360009081526020819052604090205460ff16604051901515815260200161009a565b61008a6100e93660046102f9565b61022d565b600354610090565b600254610090565b3360009081526020819052604090205460ff16156101635760405162461bcd60e51b815260206004820152601b60248201527f596f75204861766520416c7265616479204265656e204164646564000000000060448201526064015b60405180910390fd5b336000818152602081905260408120805460ff191660019081179091558054808201825591527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf601805473ffffffffffffffffffffffffffffffffffffffff19169091179055565b6060600180548060200260200160405190810160405280929190818152602001828054801561022357602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610205575b5050505050905090565b60048110801561023d5750600081115b6102af5760405162461bcd60e51b815260206004820152603960248201527f74686520676976656e206e756d62657220697320696e76616c6964206173207460448201527f6865206e756d626572206973206f7574206f662072616e676500000000000000606482015260840161015a565b80600114156102d057600280549060006102c88361035f565b919050555050565b80600214156102e957600380549060006102c88361035f565b600480549060006102c88361035f565b60006020828403121561030b57600080fd5b5035919050565b6020808252825182820181905260009190848201906040850190845b818110156103535783516001600160a01b03168352928401929184019160010161032e565b50909695505050505050565b600060001982141561038157634e487b7160e01b600052601160045260246000fd5b506001019056fea264697066735822122036c7a6eb905bfb9bbcbf2436975878a32327f0fd4a8648f67281fd07be0ff4b064736f6c63430008070033\\&quot;,\\n&quot;\r\n                + &quot;\\t\\&quot;opcodes\\&quot;: \\&quot;PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x0 PUSH1 0x2 DUP2 SWAP1 SSTORE PUSH1 0x3 DUP2 SWAP1 SSTORE PUSH1 0x4 SSTORE PUSH2 0x3BE DUP1 PUSH2 0x2F PUSH1 0x0 CODECOPY PUSH1 0x0 RETURN INVALID PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x4 CALLDATASIZE LT PUSH2 0x7D JUMPI PUSH1 0x0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH4 0x449B6DB2 GT PUSH2 0x5B JUMPI DUP1 PUSH4 0x449B6DB2 EQ PUSH2 0xB8 JUMPI DUP1 PUSH4 0x464D4A92 EQ PUSH2 0xDB JUMPI DUP1 PUSH4 0xA483F4E1 EQ PUSH2 0xEE JUMPI DUP1 PUSH4 0xF5A31579 EQ PUSH2 0xF6 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP1 PUSH4 0x68EA0EB EQ PUSH2 0x82 JUMPI DUP1 PUSH4 0xEFCB43C EQ PUSH2 0x8C JUMPI DUP1 PUSH4 0x42CFF738 EQ PUSH2 0xA3 JUMPI JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x8A PUSH2 0xFE JUMP JUMPDEST STOP JUMPDEST PUSH1 0x4 SLOAD JUMPDEST PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE PUSH1 0x20 ADD JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST PUSH2 0xAB PUSH2 0x1CB JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH2 0x9A SWAP2 SWAP1 PUSH2 0x312 JUMP JUMPDEST CALLER PUSH1 0x0 SWAP1 DUP2 MSTORE PUSH1 0x20 DUP2 SWAP1 MSTORE PUSH1 0x40 SWAP1 KECCAK256 SLOAD PUSH1 0xFF AND PUSH1 0x40 MLOAD SWAP1 ISZERO ISZERO DUP2 MSTORE PUSH1 0x20 ADD PUSH2 0x9A JUMP JUMPDEST PUSH2 0x8A PUSH2 0xE9 CALLDATASIZE PUSH1 0x4 PUSH2 0x2F9 JUMP JUMPDEST PUSH2 0x22D JUMP JUMPDEST PUSH1 0x3 SLOAD PUSH2 0x90 JUMP JUMPDEST PUSH1 0x2 SLOAD PUSH2 0x90 JUMP JUMPDEST CALLER PUSH1 0x0 SWAP1 DUP2 MSTORE PUSH1 0x20 DUP2 SWAP1 MSTORE PUSH1 0x40 SWAP1 KECCAK256 SLOAD PUSH1 0xFF AND ISZERO PUSH2 0x163 JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x1B PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x596F75204861766520416C7265616479204265656E2041646465640000000000 PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 REVERT JUMPDEST CALLER PUSH1 0x0 DUP2 DUP2 MSTORE PUSH1 0x20 DUP2 SWAP1 MSTORE PUSH1 0x40 DUP2 KECCAK256 DUP1 SLOAD PUSH1 0xFF NOT AND PUSH1 0x1 SWAP1 DUP2 OR SWAP1 SWAP2 SSTORE DUP1 SLOAD DUP1 DUP3 ADD DUP3 SSTORE SWAP2 MSTORE PUSH32 0xB10E2D527612073B26EECDFD717E6A320CF44B4AFAC2B0732D9FCBE2B7FA0CF6 ADD DUP1 SLOAD PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF NOT AND SWAP1 SWAP2 OR SWAP1 SSTORE JUMP JUMPDEST PUSH1 0x60 PUSH1 0x1 DUP1 SLOAD DUP1 PUSH1 0x20 MUL PUSH1 0x20 ADD PUSH1 0x40 MLOAD SWAP1 DUP2 ADD PUSH1 0x40 MSTORE DUP1 SWAP3 SWAP2 SWAP1 DUP2 DUP2 MSTORE PUSH1 0x20 ADD DUP3 DUP1 SLOAD DUP1 ISZERO PUSH2 0x223 JUMPI PUSH1 0x20 MUL DUP3 ADD SWAP2 SWAP1 PUSH1 0x0 MSTORE PUSH1 0x20 PUSH1 0x0 KECCAK256 SWAP1 JUMPDEST DUP2 SLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP2 MSTORE PUSH1 0x1 SWAP1 SWAP2 ADD SWAP1 PUSH1 0x20 ADD DUP1 DUP4 GT PUSH2 0x205 JUMPI JUMPDEST POP POP POP POP POP SWAP1 POP SWAP1 JUMP JUMPDEST PUSH1 0x4 DUP2 LT DUP1 ISZERO PUSH2 0x23D JUMPI POP PUSH1 0x0 DUP2 GT JUMPDEST PUSH2 0x2AF JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x39 PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x74686520676976656E206E756D62657220697320696E76616C69642061732074 PUSH1 0x44 DUP3 ADD MSTORE PUSH32 0x6865206E756D626572206973206F7574206F662072616E676500000000000000 PUSH1 0x64 DUP3 ADD MSTORE PUSH1 0x84 ADD PUSH2 0x15A JUMP JUMPDEST DUP1 PUSH1 0x1 EQ ISZERO PUSH2 0x2D0 JUMPI PUSH1 0x2 DUP1 SLOAD SWAP1 PUSH1 0x0 PUSH2 0x2C8 DUP4 PUSH2 0x35F JUMP JUMPDEST SWAP2 SWAP1 POP SSTORE POP POP JUMP JUMPDEST DUP1 PUSH1 0x2 EQ ISZERO PUSH2 0x2E9 JUMPI PUSH1 0x3 DUP1 SLOAD SWAP1 PUSH1 0x0 PUSH2 0x2C8 DUP4 PUSH2 0x35F JUMP JUMPDEST PUSH1 0x4 DUP1 SLOAD SWAP1 PUSH1 0x0 PUSH2 0x2C8 DUP4 PUSH2 0x35F JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0x30B JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP CALLDATALOAD SWAP2 SWAP1 POP JUMP JUMPDEST PUSH1 0x20 DUP1 DUP3 MSTORE DUP3 MLOAD DUP3 DUP3 ADD DUP2 SWAP1 MSTORE PUSH1 0x0 SWAP2 SWAP1 DUP5 DUP3 ADD SWAP1 PUSH1 0x40 DUP6 ADD SWAP1 DUP5 JUMPDEST DUP2 DUP2 LT ISZERO PUSH2 0x353 JUMPI DUP4 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP4 MSTORE SWAP3 DUP5 ADD SWAP3 SWAP2 DUP5 ADD SWAP2 PUSH1 0x1 ADD PUSH2 0x32E JUMP JUMPDEST POP SWAP1 SWAP7 SWAP6 POP POP POP POP POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x0 NOT DUP3 EQ ISZERO PUSH2 0x381 JUMPI PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x11 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST POP PUSH1 0x1 ADD SWAP1 JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 CALLDATASIZE 0xC7 0xA6 0xEB SWAP1 JUMPDEST 0xFB SWAP12 0xBC 0xBF 0x24 CALLDATASIZE SWAP8 PC PUSH25 0xA32327F0FD4A8648F67281FD07BE0FF4B064736F6C63430008 SMOD STOP CALLER \\&quot;,\\n&quot;\r\n                + &quot;\\t\\&quot;sourceMap\\&quot;: \\&quot;74:1607:0:-:0;;;272:108;;;;;;;;;-1:-1:-1;313:1:0;297:13;:17;;;325:13;:17;;;353:15;:19;74:1607;;;;;;\\&quot;\\n&quot;\r\n                + &quot;}&quot;;\r\n    \r\n        public static final String FUNC_ADDMETOVOTEDLIST = &quot;addMeToVotedList&quot;;\r\n    \r\n        public static final String FUNC_GETADDRESSVALUES = &quot;getAddressValues&quot;;\r\n    \r\n        public static final String FUNC_GETPARTY1VOTES = &quot;getParty1Votes&quot;;\r\n    \r\n        public static final String FUNC_GETPARTY2VOTES = &quot;getParty2Votes&quot;;\r\n    \r\n        public static final String FUNC_GETPARTY3VOTES = &quot;getParty3Votes&quot;;\r\n    \r\n        public static final String FUNC_HASALREADYVOTED = &quot;hasAlreadyVoted&quot;;\r\n    \r\n        public static final String FUNC_REGISTERVOTE = &quot;registerVote&quot;;\r\n    \r\n        @Deprecated\r\n        protected ContractHex(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {\r\n            super(BINARY, contractAddress, web3j, credentials, gasPrice, gasLimit);\r\n        }\r\n    \r\n        protected ContractHex(String contractAddress, Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider) {\r\n            super(BINARY, contractAddress, web3j, credentials, contractGasProvider);\r\n        }\r\n    \r\n        @Deprecated\r\n        protected ContractHex(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {\r\n            super(BINARY, contractAddress, web3j, transactionManager, gasPrice, gasLimit);\r\n        }\r\n    \r\n        protected ContractHex(String contractAddress, Web3j web3j, TransactionManager transactionManager, ContractGasProvider contractGasProvider) {\r\n            super(BINARY, contractAddress, web3j, transactionManager, contractGasProvider);\r\n        }\r\n    \r\n        @Deprecated\r\n        public static ContractHex load(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {\r\n            return new ContractHex(contractAddress, web3j, credentials, gasPrice, gasLimit);\r\n        }\r\n    \r\n        @Deprecated\r\n        public static ContractHex load(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {\r\n            return new ContractHex(contractAddress, web3j, transactionManager, gasPrice, gasLimit);\r\n        }\r\n    \r\n        public static ContractHex load(String contractAddress, Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider) {\r\n            return new ContractHex(contractAddress, web3j, credentials, contractGasProvider);\r\n        }\r\n    \r\n        public static ContractHex load(String contractAddress, Web3j web3j, TransactionManager transactionManager, ContractGasProvider contractGasProvider) {\r\n            return new ContractHex(contractAddress, web3j, transactionManager, contractGasProvider);\r\n        }\r\n    \r\n        public static RemoteCall&lt;ContractHex&gt; deploy(Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider) {\r\n            return deployRemoteCall(ContractHex.class, web3j, credentials, contractGasProvider, BINARY, &quot;&quot;);\r\n        }\r\n    \r\n        public static RemoteCall&lt;ContractHex&gt; deploy(Web3j web3j, TransactionManager transactionManager, ContractGasProvider contractGasProvider) {\r\n            return deployRemoteCall(ContractHex.class, web3j, transactionManager, contractGasProvider, BINARY, &quot;&quot;);\r\n        }\r\n    \r\n        @Deprecated\r\n        public static RemoteCall&lt;ContractHex&gt; deploy(Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {\r\n            return deployRemoteCall(ContractHex.class, web3j, credentials, gasPrice, gasLimit, BINARY, &quot;&quot;);\r\n        }\r\n    \r\n        @Deprecated\r\n        public static RemoteCall&lt;ContractHex&gt; deploy(Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {\r\n            return deployRemoteCall(ContractHex.class, web3j, transactionManager, gasPrice, gasLimit, BINARY, &quot;&quot;);\r\n        }\r\n    \r\n        public RemoteFunctionCall&lt;TransactionReceipt&gt; addMeToVotedList() {\r\n            final Function function = new Function(\r\n                    FUNC_ADDMETOVOTEDLIST,\r\n                    Arrays.&lt;Type&gt;asList(),\r\n                    Collections.&lt;TypeReference&lt;?&gt;&gt;emptyList());\r\n            return executeRemoteCallTransaction(function);\r\n        }\r\n    \r\n        public RemoteFunctionCall&lt;List&gt; getAddressValues() {\r\n            final Function function = new Function(FUNC_GETADDRESSVALUES,\r\n                    Arrays.&lt;Type&gt;asList(),\r\n                    Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;DynamicArray&lt;Address&gt;&gt;() {\r\n                    }));\r\n            return new RemoteFunctionCall&lt;List&gt;(function,\r\n                    new Callable&lt;List&gt;() {\r\n                        @Override\r\n                        @SuppressWarnings(&quot;unchecked&quot;)\r\n                        public List call() throws Exception {\r\n                            List&lt;Type&gt; result = (List&lt;Type&gt;) executeCallSingleValueReturn(function, List.class);\r\n                            return convertToNative(result);\r\n                        }\r\n                    });\r\n        }\r\n    \r\n        public RemoteFunctionCall&lt;BigInteger&gt; getParty1Votes() {\r\n            final Function function = new Function(FUNC_GETPARTY1VOTES,\r\n                    Arrays.&lt;Type&gt;asList(),\r\n                    Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Uint256&gt;() {\r\n                    }));\r\n            return executeRemoteCallSingleValueReturn(function, BigInteger.class);\r\n        }\r\n    \r\n        public RemoteFunctionCall&lt;BigInteger&gt; getParty2Votes() {\r\n            final Function function = new Function(FUNC_GETPARTY2VOTES,\r\n                    Arrays.&lt;Type&gt;asList(),\r\n                    Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Uint256&gt;() {\r\n                    }));\r\n            return executeRemoteCallSingleValueReturn(function, BigInteger.class);\r\n        }\r\n    \r\n        public RemoteFunctionCall&lt;BigInteger&gt; getParty3Votes() {\r\n            final Function function = new Function(FUNC_GETPARTY3VOTES,\r\n                    Arrays.&lt;Type&gt;asList(),\r\n                    Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Uint256&gt;() {\r\n                    }));\r\n            return executeRemoteCallSingleValueReturn(function, BigInteger.class);\r\n        }\r\n    \r\n        public RemoteFunctionCall&lt;Boolean&gt; hasAlreadyVoted() {\r\n            final Function function = new Function(FUNC_HASALREADYVOTED,\r\n                    Arrays.&lt;Type&gt;asList(),\r\n                    Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Bool&gt;() {\r\n                    }));\r\n            return executeRemoteCallSingleValueReturn(function, Boolean.class);\r\n        }\r\n    \r\n        public RemoteFunctionCall&lt;TransactionReceipt&gt; registerVote(BigInteger num) {\r\n            final Function function = new Function(\r\n                    FUNC_REGISTERVOTE,\r\n                    Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(num)),\r\n                    Collections.&lt;TypeReference&lt;?&gt;&gt;emptyList());\r\n            return executeRemoteCallTransaction(function);\r\n        }\r\n    }\r\n\r\n\r\nthe class I use to access the wrapper class functions -\r\n\r\n\r\n    package com.kenetic.blockchainvs.block_connector.contract.contract_interface\r\n    \r\n    import android.util.Log\r\n    import org.web3j.crypto.Credentials\r\n    import org.web3j.protocol.Web3j\r\n    import org.web3j.protocol.core.DefaultBlockParameterName\r\n    import org.web3j.protocol.http.HttpService\r\n    import org.web3j.tx.ChainIdLong\r\n    import org.web3j.tx.RawTransactionManager\r\n    import org.web3j.tx.gas.ContractGasProvider\r\n    import org.web3j.tx.gas.StaticGasProvider\r\n    import org.web3j.utils.Convert\r\n    import java.math.BigDecimal\r\n    import java.math.BigInteger\r\n    import java.util.concurrent.TimeUnit\r\n    \r\n    private const val TAG = &quot;VoteContractDelegate&quot;\r\n    \r\n    class VoteContractDelegate() {\r\n        //-----------------------------------------------------------------------------contract-elements\r\n        // TODO: get this from data store\r\n        private val USER_PRIVATE_KEY =\r\n            &quot;66c53799ee0c63f2564305e738ea7479d7aee84aed3aac4c01e54a7acbcc4d92&quot;\r\n        private val ROPSTEN_INFURA_URL = &quot;https://ropsten.infura.io/v3/c358089e1aaa4746aa50e61d4ec41c5c&quot;\r\n        private val CONTRACT_ADDRESS = &quot;0x84D46ba7aAac6221DF9038d3Ccf41F1cd46001aF&quot;\r\n    \r\n        private val credentials = Credentials.create(USER_PRIVATE_KEY)\r\n    \r\n        private val web3j: Web3j = Web3j.build(HttpService(ROPSTEN_INFURA_URL))\r\n        //-----------------------------------------------------------------------------works-as-intended\r\n    \r\n        // TODO: set correct value\r\n        private val gasPrice: BigInteger = Convert.toWei(&quot;150&quot;, Convert.Unit.GWEI).toBigInteger()\r\n    \r\n        //this gas limit value is from deployment and has to be constant\r\n        private val gasLimit = BigInteger.valueOf(4_000_000L)\r\n    \r\n        private val gasProvider: ContractGasProvider = StaticGasProvider(gasPrice, gasLimit)\r\n    \r\n        private var contract: ContractHex =\r\n            ContractHex.load(\r\n                CONTRACT_ADDRESS,\r\n                web3j,\r\n                RawTransactionManager(web3j, credentials, ChainIdLong.ROPSTEN),\r\n                gasProvider\r\n            )\r\n    \r\n        // TODO: this is the problem function...\r\n        fun casteVote(party: PartyEnum): String {\r\n            return try {\r\n                Log.d(TAG, &quot;started casteVote, Vote to be caste for ${party.name}&quot;)\r\n                val remoteCall = contract.registerVote(\r\n                    BigInteger.valueOf(\r\n                        when (party) {\r\n                            PartyEnum.ONE -&gt; 1\r\n                            PartyEnum.TWO -&gt; 2\r\n                            PartyEnum.THREE -&gt; 3\r\n                        }\r\n                    )\r\n                )\r\n                Log.d(\r\n                    TAG,\r\n                    &quot;remote call generated, \\nhashcode = ${remoteCall.hashCode()}\\n${remoteCall.toString()}&quot;\r\n                )\r\n                val asyncSent = remoteCall.sendAsync()\r\n                Log.d(TAG, &quot;async sent&quot;)\r\n                val gasUsedForTransaction = asyncSent.get(5, TimeUnit.MINUTES).gasUsed.toString()\r\n                Log.d(TAG, &quot;get passed&quot;)\r\n                gasUsedForTransaction\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                e.message.toString()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nthe github link for this project - [android kotlin project][1]\r\n\r\n\r\n  [1]: https://github.com/Vaishnav-Kanhirathingal/BlockChain-VS","title":"web3j - my ethereum transactions are not being processed / mined / confirmed","body":"<p>I only have problems with the smart contract functions which require a gas fees. I am able to call the other functions no problem. Through different posts, I found out that it might have to do with setting the correct gas price. but, even after trying multiple variations for gas prices, I am still stuck. If you have any suggestions, please do type them.</p>\n<p>My autogenerated class (name - ContractHex, function being called - registerVote)-</p>\n<pre><code>package com.kenetic.blockchainvs.block_connector.contract.contract_interface;\n\nimport org.web3j.abi.TypeReference;\nimport org.web3j.abi.datatypes.Address;\nimport org.web3j.abi.datatypes.Bool;\nimport org.web3j.abi.datatypes.DynamicArray;\nimport org.web3j.abi.datatypes.Function;\nimport org.web3j.abi.datatypes.Type;\nimport org.web3j.abi.datatypes.generated.Uint256;\nimport org.web3j.crypto.Credentials;\nimport org.web3j.protocol.Web3j;\nimport org.web3j.protocol.core.RemoteCall;\nimport org.web3j.protocol.core.RemoteFunctionCall;\nimport org.web3j.protocol.core.methods.response.TransactionReceipt;\nimport org.web3j.tx.Contract;\nimport org.web3j.tx.TransactionManager;\nimport org.web3j.tx.gas.ContractGasProvider;\n\nimport java.math.BigInteger;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.Callable;\n\n/**\n * &lt;p&gt;Auto generated code.\n * &lt;p&gt;&lt;strong&gt;Do not modify!&lt;/strong&gt;\n * &lt;p&gt;Please use the &lt;a href=&quot;https://docs.web3j.io/command_line.html&quot;&gt;web3j command line tools&lt;/a&gt;,\n * or the org.web3j.codegen.SolidityFunctionWrapperGenerator in the\n * &lt;a href=&quot;https://github.com/web3j/web3j/tree/master/codegen&quot;&gt;codegen module&lt;/a&gt; to update.\n *\n * &lt;p&gt;Generated with web3j version 1.4.1.\n */\n@SuppressWarnings(&quot;rawtypes&quot;)\npublic class ContractHex extends Contract {\n    public static final String BINARY = &quot;{\\n&quot;\n            + &quot;\\t\\&quot;functionDebugData\\&quot;: {\\n&quot;\n            + &quot;\\t\\t\\&quot;@_30\\&quot;: {\\n&quot;\n            + &quot;\\t\\t\\t\\&quot;entryPoint\\&quot;: null,\\n&quot;\n            + &quot;\\t\\t\\t\\&quot;id\\&quot;: 30,\\n&quot;\n            + &quot;\\t\\t\\t\\&quot;parameterSlots\\&quot;: 0,\\n&quot;\n            + &quot;\\t\\t\\t\\&quot;returnSlots\\&quot;: 0\\n&quot;\n            + &quot;\\t\\t}\\n&quot;\n            + &quot;\\t},\\n&quot;\n            + &quot;\\t\\&quot;generatedSources\\&quot;: [],\\n&quot;\n            + &quot;\\t\\&quot;linkReferences\\&quot;: {},\\n&quot;\n            + &quot;\\t\\&quot;object\\&quot;: \\&quot;608060405234801561001057600080fd5b506000600281905560038190556004556103be8061002f6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063449b6db21161005b578063449b6db2146100b8578063464d4a92146100db578063a483f4e1146100ee578063f5a31579146100f657600080fd5b8063068ea0eb146100825780630efcb43c1461008c57806342cff738146100a3575b600080fd5b61008a6100fe565b005b6004545b6040519081526020015b60405180910390f35b6100ab6101cb565b60405161009a9190610312565b3360009081526020819052604090205460ff16604051901515815260200161009a565b61008a6100e93660046102f9565b61022d565b600354610090565b600254610090565b3360009081526020819052604090205460ff16156101635760405162461bcd60e51b815260206004820152601b60248201527f596f75204861766520416c7265616479204265656e204164646564000000000060448201526064015b60405180910390fd5b336000818152602081905260408120805460ff191660019081179091558054808201825591527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf601805473ffffffffffffffffffffffffffffffffffffffff19169091179055565b6060600180548060200260200160405190810160405280929190818152602001828054801561022357602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610205575b5050505050905090565b60048110801561023d5750600081115b6102af5760405162461bcd60e51b815260206004820152603960248201527f74686520676976656e206e756d62657220697320696e76616c6964206173207460448201527f6865206e756d626572206973206f7574206f662072616e676500000000000000606482015260840161015a565b80600114156102d057600280549060006102c88361035f565b919050555050565b80600214156102e957600380549060006102c88361035f565b600480549060006102c88361035f565b60006020828403121561030b57600080fd5b5035919050565b6020808252825182820181905260009190848201906040850190845b818110156103535783516001600160a01b03168352928401929184019160010161032e565b50909695505050505050565b600060001982141561038157634e487b7160e01b600052601160045260246000fd5b506001019056fea264697066735822122036c7a6eb905bfb9bbcbf2436975878a32327f0fd4a8648f67281fd07be0ff4b064736f6c63430008070033\\&quot;,\\n&quot;\n            + &quot;\\t\\&quot;opcodes\\&quot;: \\&quot;PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x0 PUSH1 0x2 DUP2 SWAP1 SSTORE PUSH1 0x3 DUP2 SWAP1 SSTORE PUSH1 0x4 SSTORE PUSH2 0x3BE DUP1 PUSH2 0x2F PUSH1 0x0 CODECOPY PUSH1 0x0 RETURN INVALID PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x4 CALLDATASIZE LT PUSH2 0x7D JUMPI PUSH1 0x0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH4 0x449B6DB2 GT PUSH2 0x5B JUMPI DUP1 PUSH4 0x449B6DB2 EQ PUSH2 0xB8 JUMPI DUP1 PUSH4 0x464D4A92 EQ PUSH2 0xDB JUMPI DUP1 PUSH4 0xA483F4E1 EQ PUSH2 0xEE JUMPI DUP1 PUSH4 0xF5A31579 EQ PUSH2 0xF6 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP1 PUSH4 0x68EA0EB EQ PUSH2 0x82 JUMPI DUP1 PUSH4 0xEFCB43C EQ PUSH2 0x8C JUMPI DUP1 PUSH4 0x42CFF738 EQ PUSH2 0xA3 JUMPI JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x8A PUSH2 0xFE JUMP JUMPDEST STOP JUMPDEST PUSH1 0x4 SLOAD JUMPDEST PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE PUSH1 0x20 ADD JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST PUSH2 0xAB PUSH2 0x1CB JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH2 0x9A SWAP2 SWAP1 PUSH2 0x312 JUMP JUMPDEST CALLER PUSH1 0x0 SWAP1 DUP2 MSTORE PUSH1 0x20 DUP2 SWAP1 MSTORE PUSH1 0x40 SWAP1 KECCAK256 SLOAD PUSH1 0xFF AND PUSH1 0x40 MLOAD SWAP1 ISZERO ISZERO DUP2 MSTORE PUSH1 0x20 ADD PUSH2 0x9A JUMP JUMPDEST PUSH2 0x8A PUSH2 0xE9 CALLDATASIZE PUSH1 0x4 PUSH2 0x2F9 JUMP JUMPDEST PUSH2 0x22D JUMP JUMPDEST PUSH1 0x3 SLOAD PUSH2 0x90 JUMP JUMPDEST PUSH1 0x2 SLOAD PUSH2 0x90 JUMP JUMPDEST CALLER PUSH1 0x0 SWAP1 DUP2 MSTORE PUSH1 0x20 DUP2 SWAP1 MSTORE PUSH1 0x40 SWAP1 KECCAK256 SLOAD PUSH1 0xFF AND ISZERO PUSH2 0x163 JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x1B PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x596F75204861766520416C7265616479204265656E2041646465640000000000 PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 REVERT JUMPDEST CALLER PUSH1 0x0 DUP2 DUP2 MSTORE PUSH1 0x20 DUP2 SWAP1 MSTORE PUSH1 0x40 DUP2 KECCAK256 DUP1 SLOAD PUSH1 0xFF NOT AND PUSH1 0x1 SWAP1 DUP2 OR SWAP1 SWAP2 SSTORE DUP1 SLOAD DUP1 DUP3 ADD DUP3 SSTORE SWAP2 MSTORE PUSH32 0xB10E2D527612073B26EECDFD717E6A320CF44B4AFAC2B0732D9FCBE2B7FA0CF6 ADD DUP1 SLOAD PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF NOT AND SWAP1 SWAP2 OR SWAP1 SSTORE JUMP JUMPDEST PUSH1 0x60 PUSH1 0x1 DUP1 SLOAD DUP1 PUSH1 0x20 MUL PUSH1 0x20 ADD PUSH1 0x40 MLOAD SWAP1 DUP2 ADD PUSH1 0x40 MSTORE DUP1 SWAP3 SWAP2 SWAP1 DUP2 DUP2 MSTORE PUSH1 0x20 ADD DUP3 DUP1 SLOAD DUP1 ISZERO PUSH2 0x223 JUMPI PUSH1 0x20 MUL DUP3 ADD SWAP2 SWAP1 PUSH1 0x0 MSTORE PUSH1 0x20 PUSH1 0x0 KECCAK256 SWAP1 JUMPDEST DUP2 SLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP2 MSTORE PUSH1 0x1 SWAP1 SWAP2 ADD SWAP1 PUSH1 0x20 ADD DUP1 DUP4 GT PUSH2 0x205 JUMPI JUMPDEST POP POP POP POP POP SWAP1 POP SWAP1 JUMP JUMPDEST PUSH1 0x4 DUP2 LT DUP1 ISZERO PUSH2 0x23D JUMPI POP PUSH1 0x0 DUP2 GT JUMPDEST PUSH2 0x2AF JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x39 PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x74686520676976656E206E756D62657220697320696E76616C69642061732074 PUSH1 0x44 DUP3 ADD MSTORE PUSH32 0x6865206E756D626572206973206F7574206F662072616E676500000000000000 PUSH1 0x64 DUP3 ADD MSTORE PUSH1 0x84 ADD PUSH2 0x15A JUMP JUMPDEST DUP1 PUSH1 0x1 EQ ISZERO PUSH2 0x2D0 JUMPI PUSH1 0x2 DUP1 SLOAD SWAP1 PUSH1 0x0 PUSH2 0x2C8 DUP4 PUSH2 0x35F JUMP JUMPDEST SWAP2 SWAP1 POP SSTORE POP POP JUMP JUMPDEST DUP1 PUSH1 0x2 EQ ISZERO PUSH2 0x2E9 JUMPI PUSH1 0x3 DUP1 SLOAD SWAP1 PUSH1 0x0 PUSH2 0x2C8 DUP4 PUSH2 0x35F JUMP JUMPDEST PUSH1 0x4 DUP1 SLOAD SWAP1 PUSH1 0x0 PUSH2 0x2C8 DUP4 PUSH2 0x35F JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0x30B JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP CALLDATALOAD SWAP2 SWAP1 POP JUMP JUMPDEST PUSH1 0x20 DUP1 DUP3 MSTORE DUP3 MLOAD DUP3 DUP3 ADD DUP2 SWAP1 MSTORE PUSH1 0x0 SWAP2 SWAP1 DUP5 DUP3 ADD SWAP1 PUSH1 0x40 DUP6 ADD SWAP1 DUP5 JUMPDEST DUP2 DUP2 LT ISZERO PUSH2 0x353 JUMPI DUP4 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP4 MSTORE SWAP3 DUP5 ADD SWAP3 SWAP2 DUP5 ADD SWAP2 PUSH1 0x1 ADD PUSH2 0x32E JUMP JUMPDEST POP SWAP1 SWAP7 SWAP6 POP POP POP POP POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x0 NOT DUP3 EQ ISZERO PUSH2 0x381 JUMPI PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x11 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST POP PUSH1 0x1 ADD SWAP1 JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 CALLDATASIZE 0xC7 0xA6 0xEB SWAP1 JUMPDEST 0xFB SWAP12 0xBC 0xBF 0x24 CALLDATASIZE SWAP8 PC PUSH25 0xA32327F0FD4A8648F67281FD07BE0FF4B064736F6C63430008 SMOD STOP CALLER \\&quot;,\\n&quot;\n            + &quot;\\t\\&quot;sourceMap\\&quot;: \\&quot;74:1607:0:-:0;;;272:108;;;;;;;;;-1:-1:-1;313:1:0;297:13;:17;;;325:13;:17;;;353:15;:19;74:1607;;;;;;\\&quot;\\n&quot;\n            + &quot;}&quot;;\n\n    public static final String FUNC_ADDMETOVOTEDLIST = &quot;addMeToVotedList&quot;;\n\n    public static final String FUNC_GETADDRESSVALUES = &quot;getAddressValues&quot;;\n\n    public static final String FUNC_GETPARTY1VOTES = &quot;getParty1Votes&quot;;\n\n    public static final String FUNC_GETPARTY2VOTES = &quot;getParty2Votes&quot;;\n\n    public static final String FUNC_GETPARTY3VOTES = &quot;getParty3Votes&quot;;\n\n    public static final String FUNC_HASALREADYVOTED = &quot;hasAlreadyVoted&quot;;\n\n    public static final String FUNC_REGISTERVOTE = &quot;registerVote&quot;;\n\n    @Deprecated\n    protected ContractHex(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {\n        super(BINARY, contractAddress, web3j, credentials, gasPrice, gasLimit);\n    }\n\n    protected ContractHex(String contractAddress, Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider) {\n        super(BINARY, contractAddress, web3j, credentials, contractGasProvider);\n    }\n\n    @Deprecated\n    protected ContractHex(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {\n        super(BINARY, contractAddress, web3j, transactionManager, gasPrice, gasLimit);\n    }\n\n    protected ContractHex(String contractAddress, Web3j web3j, TransactionManager transactionManager, ContractGasProvider contractGasProvider) {\n        super(BINARY, contractAddress, web3j, transactionManager, contractGasProvider);\n    }\n\n    @Deprecated\n    public static ContractHex load(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {\n        return new ContractHex(contractAddress, web3j, credentials, gasPrice, gasLimit);\n    }\n\n    @Deprecated\n    public static ContractHex load(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {\n        return new ContractHex(contractAddress, web3j, transactionManager, gasPrice, gasLimit);\n    }\n\n    public static ContractHex load(String contractAddress, Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider) {\n        return new ContractHex(contractAddress, web3j, credentials, contractGasProvider);\n    }\n\n    public static ContractHex load(String contractAddress, Web3j web3j, TransactionManager transactionManager, ContractGasProvider contractGasProvider) {\n        return new ContractHex(contractAddress, web3j, transactionManager, contractGasProvider);\n    }\n\n    public static RemoteCall&lt;ContractHex&gt; deploy(Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider) {\n        return deployRemoteCall(ContractHex.class, web3j, credentials, contractGasProvider, BINARY, &quot;&quot;);\n    }\n\n    public static RemoteCall&lt;ContractHex&gt; deploy(Web3j web3j, TransactionManager transactionManager, ContractGasProvider contractGasProvider) {\n        return deployRemoteCall(ContractHex.class, web3j, transactionManager, contractGasProvider, BINARY, &quot;&quot;);\n    }\n\n    @Deprecated\n    public static RemoteCall&lt;ContractHex&gt; deploy(Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {\n        return deployRemoteCall(ContractHex.class, web3j, credentials, gasPrice, gasLimit, BINARY, &quot;&quot;);\n    }\n\n    @Deprecated\n    public static RemoteCall&lt;ContractHex&gt; deploy(Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {\n        return deployRemoteCall(ContractHex.class, web3j, transactionManager, gasPrice, gasLimit, BINARY, &quot;&quot;);\n    }\n\n    public RemoteFunctionCall&lt;TransactionReceipt&gt; addMeToVotedList() {\n        final Function function = new Function(\n                FUNC_ADDMETOVOTEDLIST,\n                Arrays.&lt;Type&gt;asList(),\n                Collections.&lt;TypeReference&lt;?&gt;&gt;emptyList());\n        return executeRemoteCallTransaction(function);\n    }\n\n    public RemoteFunctionCall&lt;List&gt; getAddressValues() {\n        final Function function = new Function(FUNC_GETADDRESSVALUES,\n                Arrays.&lt;Type&gt;asList(),\n                Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;DynamicArray&lt;Address&gt;&gt;() {\n                }));\n        return new RemoteFunctionCall&lt;List&gt;(function,\n                new Callable&lt;List&gt;() {\n                    @Override\n                    @SuppressWarnings(&quot;unchecked&quot;)\n                    public List call() throws Exception {\n                        List&lt;Type&gt; result = (List&lt;Type&gt;) executeCallSingleValueReturn(function, List.class);\n                        return convertToNative(result);\n                    }\n                });\n    }\n\n    public RemoteFunctionCall&lt;BigInteger&gt; getParty1Votes() {\n        final Function function = new Function(FUNC_GETPARTY1VOTES,\n                Arrays.&lt;Type&gt;asList(),\n                Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Uint256&gt;() {\n                }));\n        return executeRemoteCallSingleValueReturn(function, BigInteger.class);\n    }\n\n    public RemoteFunctionCall&lt;BigInteger&gt; getParty2Votes() {\n        final Function function = new Function(FUNC_GETPARTY2VOTES,\n                Arrays.&lt;Type&gt;asList(),\n                Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Uint256&gt;() {\n                }));\n        return executeRemoteCallSingleValueReturn(function, BigInteger.class);\n    }\n\n    public RemoteFunctionCall&lt;BigInteger&gt; getParty3Votes() {\n        final Function function = new Function(FUNC_GETPARTY3VOTES,\n                Arrays.&lt;Type&gt;asList(),\n                Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Uint256&gt;() {\n                }));\n        return executeRemoteCallSingleValueReturn(function, BigInteger.class);\n    }\n\n    public RemoteFunctionCall&lt;Boolean&gt; hasAlreadyVoted() {\n        final Function function = new Function(FUNC_HASALREADYVOTED,\n                Arrays.&lt;Type&gt;asList(),\n                Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Bool&gt;() {\n                }));\n        return executeRemoteCallSingleValueReturn(function, Boolean.class);\n    }\n\n    public RemoteFunctionCall&lt;TransactionReceipt&gt; registerVote(BigInteger num) {\n        final Function function = new Function(\n                FUNC_REGISTERVOTE,\n                Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(num)),\n                Collections.&lt;TypeReference&lt;?&gt;&gt;emptyList());\n        return executeRemoteCallTransaction(function);\n    }\n}\n</code></pre>\n<p>the class I use to access the wrapper class functions -</p>\n<pre><code>package com.kenetic.blockchainvs.block_connector.contract.contract_interface\n\nimport android.util.Log\nimport org.web3j.crypto.Credentials\nimport org.web3j.protocol.Web3j\nimport org.web3j.protocol.core.DefaultBlockParameterName\nimport org.web3j.protocol.http.HttpService\nimport org.web3j.tx.ChainIdLong\nimport org.web3j.tx.RawTransactionManager\nimport org.web3j.tx.gas.ContractGasProvider\nimport org.web3j.tx.gas.StaticGasProvider\nimport org.web3j.utils.Convert\nimport java.math.BigDecimal\nimport java.math.BigInteger\nimport java.util.concurrent.TimeUnit\n\nprivate const val TAG = &quot;VoteContractDelegate&quot;\n\nclass VoteContractDelegate() {\n    //-----------------------------------------------------------------------------contract-elements\n    // TODO: get this from data store\n    private val USER_PRIVATE_KEY =\n        &quot;66c53799ee0c63f2564305e738ea7479d7aee84aed3aac4c01e54a7acbcc4d92&quot;\n    private val ROPSTEN_INFURA_URL = &quot;https://ropsten.infura.io/v3/c358089e1aaa4746aa50e61d4ec41c5c&quot;\n    private val CONTRACT_ADDRESS = &quot;0x84D46ba7aAac6221DF9038d3Ccf41F1cd46001aF&quot;\n\n    private val credentials = Credentials.create(USER_PRIVATE_KEY)\n\n    private val web3j: Web3j = Web3j.build(HttpService(ROPSTEN_INFURA_URL))\n    //-----------------------------------------------------------------------------works-as-intended\n\n    // TODO: set correct value\n    private val gasPrice: BigInteger = Convert.toWei(&quot;150&quot;, Convert.Unit.GWEI).toBigInteger()\n\n    //this gas limit value is from deployment and has to be constant\n    private val gasLimit = BigInteger.valueOf(4_000_000L)\n\n    private val gasProvider: ContractGasProvider = StaticGasProvider(gasPrice, gasLimit)\n\n    private var contract: ContractHex =\n        ContractHex.load(\n            CONTRACT_ADDRESS,\n            web3j,\n            RawTransactionManager(web3j, credentials, ChainIdLong.ROPSTEN),\n            gasProvider\n        )\n\n    // TODO: this is the problem function...\n    fun casteVote(party: PartyEnum): String {\n        return try {\n            Log.d(TAG, &quot;started casteVote, Vote to be caste for ${party.name}&quot;)\n            val remoteCall = contract.registerVote(\n                BigInteger.valueOf(\n                    when (party) {\n                        PartyEnum.ONE -&gt; 1\n                        PartyEnum.TWO -&gt; 2\n                        PartyEnum.THREE -&gt; 3\n                    }\n                )\n            )\n            Log.d(\n                TAG,\n                &quot;remote call generated, \\nhashcode = ${remoteCall.hashCode()}\\n${remoteCall.toString()}&quot;\n            )\n            val asyncSent = remoteCall.sendAsync()\n            Log.d(TAG, &quot;async sent&quot;)\n            val gasUsedForTransaction = asyncSent.get(5, TimeUnit.MINUTES).gasUsed.toString()\n            Log.d(TAG, &quot;get passed&quot;)\n            gasUsedForTransaction\n        } catch (e: Exception) {\n            e.printStackTrace()\n            e.message.toString()\n        }\n    }\n}\n</code></pre>\n<p>the github link for this project - <a href=\"https://github.com/Vaishnav-Kanhirathingal/BlockChain-VS\" rel=\"nofollow noreferrer\">android kotlin project</a></p>\n"},{"tags":["java","android","android-studio","kotlin","android-activity"],"comments":[{"owner":{"account_id":6529233,"reputation":3369,"user_id":5050924,"display_name":"Facundo Larrosa"},"score":0,"creation_date":1648943073,"post_id":71721934,"comment_id":126751173,"body_markdown":"What do you mean by &quot;code is not allowing &quot;. What is the error?","body":"What do you mean by &quot;code is not allowing &quot;. What is the error?"}],"answers":[{"tags":[],"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648943411,"creation_date":1648943411,"answer_id":71721984,"question_id":71721934,"body_markdown":"Solved the error and found solution\r\n\r\njust add \\ before the @\r\n\r\nit will work fine","title":"How to add string that starts with &#39;@&#39; into the String.xml file?","body":"<p>Solved the error and found solution</p>\n<p>just add \\ before the @</p>\n<p>it will work fine</p>\n"},{"tags":[],"owner":{"display_name":"user18481390"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648961804,"creation_date":1648961804,"answer_id":71723124,"question_id":71721934,"body_markdown":"Just Add this &quot;\\\\&quot; before your &quot;@&quot; like below\r\n\r\n    &lt;string name=&quot;emailSuffix&quot;&gt;\\@gmail.com&lt;/string&gt;\r\nIf you have any issues. Let me know","title":"How to add string that starts with &#39;@&#39; into the String.xml file?","body":"<p>Just Add this &quot;\\&quot; before your &quot;@&quot; like below</p>\n<pre><code>&lt;string name=&quot;emailSuffix&quot;&gt;\\@gmail.com&lt;/string&gt;\n</code></pre>\n<p>If you have any issues. Let me know</p>\n"}],"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1648966149,"answer_count":2,"score":0,"last_activity_date":1648966158,"creation_date":1648942778,"question_id":71721934,"body_markdown":"I want to set suffix for the email and want to use string.xml\r\n\r\n\\&lt;string name=&quot;emailSuffix&quot;\\&gt;@gmail.com\\&lt;/string\\&gt;\r\n\r\ncode is not allowing me to add &#39;@&#39; at start of the string.\r\n\r\nAny idea how and what should I do?\r\n\r\nI have searched but found nothing but I have tried finding code for &#39;@&#39; like &#39; , &quot; etc but no result there also.\r\n","title":"How to add string that starts with &#39;@&#39; into the String.xml file?","body":"<p>I want to set suffix for the email and want to use string.xml</p>\n<p>&lt;string name=&quot;emailSuffix&quot;&gt;@gmail.com&lt;/string&gt;</p>\n<p>code is not allowing me to add '@' at start of the string.</p>\n<p>Any idea how and what should I do?</p>\n<p>I have searched but found nothing but I have tried finding code for '@' like ' , &quot; etc but no result there also.</p>\n"},{"tags":["java","lambda","java-8","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648965142,"creation_date":1648965142,"answer_id":71723344,"question_id":71723016,"body_markdown":"The reason is the behavior of [Function.compose][1] and [Function.andThen][2] being non identical and non swappable.\r\n\r\nIf you run the following code. \r\n\r\n        Function&lt;Long,Long&gt; y1 = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).andThen(x -&gt; x+1).andThen(x -&gt; x+2);\r\n\r\n        System.out.println(y1.apply(10l));\r\n\r\n        Function&lt;Long,Long&gt; y2 = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).compose((Long x) -&gt; x+1).compose(x -&gt; x+2);\r\n\r\n        System.out.println(y2.apply(10l));\r\n\r\nEven though we run both functions with same values (10) it returns different values. Where `andThen` is used it returns 103 (10x10+(1+2)) and where `compose` is used it returns 169 (10+1+2, 13x13). Thus `compose` is called before the multiplication lambda applies and `compose` gets a `Function&lt;Object, Long&gt;` as the parameter instead of `Function&lt;Long, Long&gt;` compose has no visibility as to any lambda that happened prior because it will be first to be called. \r\n\r\nSince there is no context at the time calling `compose` we need to either cast to `Function&lt;Long, Long&gt;` or use type in the lambda itself as I have done. Hope this helps.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#compose-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#andThen-java.util.function.Function-","title":"Why casting is required with compose method but not with andThen Method","body":"<p>The reason is the behavior of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#compose-java.util.function.Function-\" rel=\"nofollow noreferrer\">Function.compose</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#andThen-java.util.function.Function-\" rel=\"nofollow noreferrer\">Function.andThen</a> being non identical and non swappable.</p>\n<p>If you run the following code.</p>\n<pre><code>    Function&lt;Long,Long&gt; y1 = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).andThen(x -&gt; x+1).andThen(x -&gt; x+2);\n\n    System.out.println(y1.apply(10l));\n\n    Function&lt;Long,Long&gt; y2 = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).compose((Long x) -&gt; x+1).compose(x -&gt; x+2);\n\n    System.out.println(y2.apply(10l));\n</code></pre>\n<p>Even though we run both functions with same values (10) it returns different values. Where <code>andThen</code> is used it returns 103 (10x10+(1+2)) and where <code>compose</code> is used it returns 169 (10+1+2, 13x13). Thus <code>compose</code> is called before the multiplication lambda applies and <code>compose</code> gets a <code>Function&lt;Object, Long&gt;</code> as the parameter instead of <code>Function&lt;Long, Long&gt;</code> compose has no visibility as to any lambda that happened prior because it will be first to be called.</p>\n<p>Since there is no context at the time calling <code>compose</code> we need to either cast to <code>Function&lt;Long, Long&gt;</code> or use type in the lambda itself as I have done. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648966055,"creation_date":1648965358,"answer_id":71723361,"question_id":71723016,"body_markdown":"&gt; Why do we need casting with compose calls but not with andThen calls?\r\n\r\nThe two methods are different. `compose()` takes a function whose input is of a type that is not necessarily the same as the current function&#39;s parameter type. Here&#39;s a slightly modified example to show that the compiler did not have to assume `Long`:\r\n\r\n\tFunction&lt;Long, Long&gt; f = (x -&gt; x * x);\r\n\tFunction&lt;String, Long&gt; g = f.compose(Long::parseLong);\r\n\r\nYou can observe that `f.compose()` has a type argument of type `String`. In the above code, it&#39;s inferred from the assignment context (i.e., the compiler knows the input is `String`-typed because the resulting function is being assigned to a `Function&lt;String, Long&gt;` variable).\r\n\r\nWhen it comes to `.andThen()`, however, things are simpler for the compiler : the type parameter `&lt;V&gt;` is for the output of the given function (not for the input, as is the case for `compose`). And because it already knows the input type, it has all the information: `.andThen(x -&gt; x+1)` can only have `Long` as output type, because `Long + int` will produce `long`, boxed to `Long`. The end.\r\n\r\n&gt; Why do we need casting with intermediate compose calls but not with terminal compose calls?\r\n\r\nNow, think about it, what happens if I wrote this?\r\n\r\n    Function&lt;String, Long&gt; g = f.compose(Long::parseLong).compose(Long::parseLong);\r\n\r\nWhat happens is that the compiler is ready to infer the `&lt;V&gt;` of the *last* `.compose()` to `String` because of the assignment context (see above). &lt;br/&gt;Question is: Should it assume `String` for the intermediate `.compose()`? The answer is Yes *in this case** (because `Long.parseLong` only takes a string, there&#39;s no overload), but the compiler doesn&#39;t do that; it&#39;s a [known limitation][1]. \r\n\r\nI can get it to work with `f.&lt;String&gt;compose(Long::parseLong).compose(Long::parseLong);` (which of course breaks my last `.compose()` call for obvious reasons, but you get the idea.\r\n\r\nIn other words, you can fix it with\r\n\r\nA type witness\r\n\r\n\t...&lt;Long&gt;compose(x -&gt; x + 1).compose(x -&gt; x + 2)\r\n\r\nAn explicit parameter type (my preferred option)\r\n\r\n    \t...compose((Long x) -&gt; x + 1).compose(x -&gt; x + 2)\r\n\r\n---\r\n\r\n**I say &quot;yes **in this case**&quot; because you cannot expect the compiler to always know the type. It&#39;s unambiguous here because `Long.parseLong` with a single parameter is not overloaded, so we can argue that the compiler could infer the intermediate `.compose()`&#39;s `&lt;V&gt;` as `&lt;String&gt;`. But that should not be understood to mean that the compiler should be able to perform such inference in all situations. The function passed to `.compose()` could be one taking any other parameter type. The end to the discussion for now is that the compiler does not support this kind of inference.*\r\n\r\n  [1]: https://stackoverflow.com/a/22938136/5761558\r\n\r\n","title":"Why casting is required with compose method but not with andThen Method","body":"<blockquote>\n<p>Why do we need casting with compose calls but not with andThen calls?</p>\n</blockquote>\n<p>The two methods are different. <code>compose()</code> takes a function whose input is of a type that is not necessarily the same as the current function's parameter type. Here's a slightly modified example to show that the compiler did not have to assume <code>Long</code>:</p>\n<pre><code>Function&lt;Long, Long&gt; f = (x -&gt; x * x);\nFunction&lt;String, Long&gt; g = f.compose(Long::parseLong);\n</code></pre>\n<p>You can observe that <code>f.compose()</code> has a type argument of type <code>String</code>. In the above code, it's inferred from the assignment context (i.e., the compiler knows the input is <code>String</code>-typed because the resulting function is being assigned to a <code>Function&lt;String, Long&gt;</code> variable).</p>\n<p>When it comes to <code>.andThen()</code>, however, things are simpler for the compiler : the type parameter <code>&lt;V&gt;</code> is for the output of the given function (not for the input, as is the case for <code>compose</code>). And because it already knows the input type, it has all the information: <code>.andThen(x -&gt; x+1)</code> can only have <code>Long</code> as output type, because <code>Long + int</code> will produce <code>long</code>, boxed to <code>Long</code>. The end.</p>\n<blockquote>\n<p>Why do we need casting with intermediate compose calls but not with terminal compose calls?</p>\n</blockquote>\n<p>Now, think about it, what happens if I wrote this?</p>\n<pre><code>Function&lt;String, Long&gt; g = f.compose(Long::parseLong).compose(Long::parseLong);\n</code></pre>\n<p>What happens is that the compiler is ready to infer the <code>&lt;V&gt;</code> of the <em>last</em> <code>.compose()</code> to <code>String</code> because of the assignment context (see above). <br/>Question is: Should it assume <code>String</code> for the intermediate <code>.compose()</code>? The answer is Yes <em>in this case</em>* (because <code>Long.parseLong</code> only takes a string, there's no overload), but the compiler doesn't do that; it's a <a href=\"https://stackoverflow.com/a/22938136/5761558\">known limitation</a>.</p>\n<p>I can get it to work with <code>f.&lt;String&gt;compose(Long::parseLong).compose(Long::parseLong);</code> (which of course breaks my last <code>.compose()</code> call for obvious reasons, but you get the idea.</p>\n<p>In other words, you can fix it with</p>\n<p>A type witness</p>\n<pre><code>...&lt;Long&gt;compose(x -&gt; x + 1).compose(x -&gt; x + 2)\n</code></pre>\n<p>An explicit parameter type (my preferred option)</p>\n<pre><code>    ...compose((Long x) -&gt; x + 1).compose(x -&gt; x + 2)\n</code></pre>\n<hr />\n<p>*<em>I say &quot;yes <strong>in this case</strong>&quot; because you cannot expect the compiler to always know the type. It's unambiguous here because <code>Long.parseLong</code> with a single parameter is not overloaded, so we can argue that the compiler could infer the intermediate <code>.compose()</code>'s <code>&lt;V&gt;</code> as <code>&lt;String&gt;</code>. But that should not be understood to mean that the compiler should be able to perform such inference in all situations. The function passed to <code>.compose()</code> could be one taking any other parameter type. The end to the discussion for now is that the compiler does not support this kind of inference.</em></p>\n"}],"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71723361,"answer_count":2,"score":1,"last_activity_date":1648966055,"creation_date":1648960218,"question_id":71723016,"body_markdown":"I have following expression that gets executed successfully:\r\n\r\n    Function&lt;Long,Long&gt; y = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).andThen(x -&gt; x+1).andThen(x -&gt; x+2);\r\n\r\nI understand why casting is required with the first lambda expression here. But following lambda gives error that &quot;x+1&quot; is not a valid operation for the second compose lambda expression\r\n\r\n    Function&lt;Long,Long&gt; y = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).compose(x -&gt; x+1).compose(x -&gt; x+2);\r\n\r\nI was able to resolve the above error using casting with compose:\r\n\r\n    Function&lt;Long,Long&gt; y = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).compose((Function&lt;Long,Long&gt;)x -&gt; x+1).compose(x -&gt; x+2);\r\n\r\nI have following questions:   \r\n\r\n 1. Why do we need casting with compose calls but not with andThen\r\n    calls?  \r\n 2. Why do we need casting with intermediate compose calls but not with\r\n    terminal compose calls?","title":"Why casting is required with compose method but not with andThen Method","body":"<p>I have following expression that gets executed successfully:</p>\n<pre><code>Function&lt;Long,Long&gt; y = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).andThen(x -&gt; x+1).andThen(x -&gt; x+2);\n</code></pre>\n<p>I understand why casting is required with the first lambda expression here. But following lambda gives error that &quot;x+1&quot; is not a valid operation for the second compose lambda expression</p>\n<pre><code>Function&lt;Long,Long&gt; y = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).compose(x -&gt; x+1).compose(x -&gt; x+2);\n</code></pre>\n<p>I was able to resolve the above error using casting with compose:</p>\n<pre><code>Function&lt;Long,Long&gt; y = ((Function&lt;Long,Long&gt;)(x -&gt; x*x)).compose((Function&lt;Long,Long&gt;)x -&gt; x+1).compose(x -&gt; x+2);\n</code></pre>\n<p>I have following questions:</p>\n<ol>\n<li>Why do we need casting with compose calls but not with andThen\ncalls?</li>\n<li>Why do we need casting with intermediate compose calls but not with\nterminal compose calls?</li>\n</ol>\n"},{"tags":["java","spring","hibernate","tomcat"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1648949435,"post_id":71722325,"comment_id":126751815,"body_markdown":"Please don&#39;t use images of text.","body":"Please don&#39;t use images of text."},{"owner":{"account_id":11392586,"reputation":31,"user_id":8352059,"display_name":"Abhishek"},"score":0,"creation_date":1648951690,"post_id":71722325,"comment_id":126752070,"body_markdown":"I have modified the question now as per your suggestion. Please help me on this.","body":"I have modified the question now as per your suggestion. Please help me on this."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648952977,"post_id":71722325,"comment_id":126752196,"body_markdown":"What&#39;s at line 16 of `about.jsp`?","body":"What&#39;s at line 16 of <code>about.jsp</code>?"},{"owner":{"account_id":11392586,"reputation":31,"user_id":8352059,"display_name":"Abhishek"},"score":0,"creation_date":1648954827,"post_id":71722325,"comment_id":126752334,"body_markdown":"At line 16 the following code is written: &lt;%@ include file=&quot;/WEB-INF/views/template/footer.jsp&quot; %&gt;","body":"At line 16 the following code is written: &lt;%@ include file=&quot;/WEB-INF/views/template/footer.jsp&quot; %&gt;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648954886,"post_id":71722325,"comment_id":126752340,"body_markdown":"And does `/WEB-INF/views/template/footer.jsp` exist?","body":"And does <code>&#47;WEB-INF&#47;views&#47;template&#47;footer.jsp</code> exist?"},{"owner":{"account_id":11392586,"reputation":31,"user_id":8352059,"display_name":"Abhishek"},"score":0,"creation_date":1648955668,"post_id":71722325,"comment_id":126752417,"body_markdown":"Yes, it does. I have already mentioned footer.jsp file path in the screenshot of the Project Explorer.","body":"Yes, it does. I have already mentioned footer.jsp file path in the screenshot of the Project Explorer."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1648956043,"post_id":71722325,"comment_id":126752460,"body_markdown":"Does spring support Jakarta EE? Otherwise use tomcat 9","body":"Does spring support Jakarta EE? Otherwise use tomcat 9"},{"owner":{"account_id":11392586,"reputation":31,"user_id":8352059,"display_name":"Abhishek"},"score":0,"creation_date":1648956611,"post_id":71722325,"comment_id":126752518,"body_markdown":"Also, using tomcat 9 I am getting the same error.","body":"Also, using tomcat 9 I am getting the same error."}],"owner":{"account_id":11392586,"reputation":31,"user_id":8352059,"display_name":"Abhishek"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648965903,"creation_date":1648949258,"question_id":71722325,"body_markdown":"I am trying to run Spring Framework project using Apache Tomcat Server (10.0.13 version). I am getting the above **HTTP Status 500** error while running all the JSP pages.\r\nError Message:\r\n\r\n    HTTP Status 500  Internal Server Error\r\n**Type** Exception Report\r\n\r\n**Message** /views/about.jsp (line: [16], column: [2]) JSP file [/WEB-INF/views/template/footer.jsp] not found\r\n\r\n**Description** The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\n**Exception**\r\n```\r\norg.apache.jasper.JasperException: /views/about.jsp (line: [16], column: [2]) JSP file [/WEB-INF/views/template/footer.jsp] not found\r\nrg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:41)\r\n\torg.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:292)\r\n\torg.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:98)\r\n\torg.apache.jasper.compiler.Parser.processIncludeDirective(Parser.java:343)\r\n\torg.apache.jasper.compiler.Parser.parseIncludeDirective(Parser.java:378)\r\n\torg.apache.jasper.compiler.Parser.parseDirective(Parser.java:479)\r\n\torg.apache.jasper.compiler.Parser.parseFileDirectives(Parser.java:1796)\r\n\torg.apache.jasper.compiler.Parser.parse(Parser.java:135)\r\n\torg.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\r\n\torg.apache.jasper.compiler.ParserController.parseDirectives(ParserController.java:127)\r\n\torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:202)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:391)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:367)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:351)\r\n\torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:399)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n```\r\n**Apache Tomcat/10.0.13**\r\n\r\nThe code written in **About.JSP** page:\r\n\r\n    &lt;jsp:include page=&quot;/WEB-INF/views/template/header.jsp&quot; /&gt;\r\n\r\n    &lt;div class=&quot;container-wrapper&quot;&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n\r\n        &lt;div class=&quot;page-header&quot;&gt;\r\n            &lt;h1&gt;About Us&lt;/h1&gt;\r\n            &lt;p&gt;We are a humble team who are passionate about helping our customers to get the best experience on music instruments and stuff.\r\n            We are determined to provide the best products and services.&lt;/p&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/div&gt;\r\n          \r\n     &lt;%@ include file=&quot;/WEB-INF/views/template/footer.jsp&quot; %&gt;\r\n\r\nThe code written **Web.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://JAVA.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; version=&quot;2.5&quot;&gt;\r\n    \r\n      &lt;display-name&gt;Online-shopping-Spring-MVC-java-config-mysql-hibernate-master&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n    \r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n    \r\n      &lt;/welcome-file-list&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\nScreenshot of the Project Explorer tab\r\n\r\n[![][1]][1]\r\n\r\nBuild Source Path tab\r\n\r\n[![][2]][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jlbL2.png\r\n  [2]: https://i.stack.imgur.com/zHVrD.png\r\n\r\nI have tried to clean and publish Apache Tomcat Server multiple times but that didn&#39;t work.\r\nCould you please provide me the steps to resolve this issue?","title":"Getting HTTP Status 500  Internal Server Error","body":"<p>I am trying to run Spring Framework project using Apache Tomcat Server (10.0.13 version). I am getting the above <strong>HTTP Status 500</strong> error while running all the JSP pages.\nError Message:</p>\n<pre><code>HTTP Status 500  Internal Server Error\n</code></pre>\n<p><strong>Type</strong> Exception Report</p>\n<p><strong>Message</strong> /views/about.jsp (line: [16], column: <a href=\"https://i.stack.imgur.com/zHVrD.png\" rel=\"nofollow noreferrer\">2</a>) JSP file [/WEB-INF/views/template/footer.jsp] not found</p>\n<p><strong>Description</strong> The server encountered an unexpected condition that prevented it from fulfilling the request.</p>\n<p><strong>Exception</strong></p>\n<pre><code>org.apache.jasper.JasperException: /views/about.jsp (line: [16], column: [2]) JSP file [/WEB-INF/views/template/footer.jsp] not found\nrg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:41)\n    org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:292)\n    org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:98)\n    org.apache.jasper.compiler.Parser.processIncludeDirective(Parser.java:343)\n    org.apache.jasper.compiler.Parser.parseIncludeDirective(Parser.java:378)\n    org.apache.jasper.compiler.Parser.parseDirective(Parser.java:479)\n    org.apache.jasper.compiler.Parser.parseFileDirectives(Parser.java:1796)\n    org.apache.jasper.compiler.Parser.parse(Parser.java:135)\n    org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\n    org.apache.jasper.compiler.ParserController.parseDirectives(ParserController.java:127)\n    org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:202)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:391)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:367)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:351)\n    org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:399)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nNote The full stack trace of the root cause is available in the server logs.\n</code></pre>\n<p><strong>Apache Tomcat/10.0.13</strong></p>\n<p>The code written in <strong>About.JSP</strong> page:</p>\n<pre><code>&lt;jsp:include page=&quot;/WEB-INF/views/template/header.jsp&quot; /&gt;\n\n&lt;div class=&quot;container-wrapper&quot;&gt;\n&lt;div class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;page-header&quot;&gt;\n        &lt;h1&gt;About Us&lt;/h1&gt;\n        &lt;p&gt;We are a humble team who are passionate about helping our customers to get the best experience on music instruments and stuff.\n        We are determined to provide the best products and services.&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n      \n &lt;%@ include file=&quot;/WEB-INF/views/template/footer.jsp&quot; %&gt;\n</code></pre>\n<p>The code written <strong>Web.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://JAVA.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; version=&quot;2.5&quot;&gt;\n\n  &lt;display-name&gt;Online-shopping-Spring-MVC-java-config-mysql-hibernate-master&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n\n  &lt;/welcome-file-list&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>Screenshot of the Project Explorer tab</p>\n<p><a href=\"https://i.stack.imgur.com/jlbL2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jlbL2.png\" alt=\"\" /></a></p>\n<p>Build Source Path tab</p>\n<p><a href=\"https://i.stack.imgur.com/zHVrD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zHVrD.png\" alt=\"\" /></a></p>\n<p>I have tried to clean and publish Apache Tomcat Server multiple times but that didn't work.\nCould you please provide me the steps to resolve this issue?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":4,"creation_date":1648966202,"post_id":71723392,"comment_id":126753541,"body_markdown":"Before you do that, think of `Map.of(0, List.of(1), 1, List.of(0, 2, 3), ...)`. That initialization hack is [generally frowned upon](https://stackoverflow.com/a/1958961/5761558).","body":"Before you do that, think of <code>Map.of(0, List.of(1), 1, List.of(0, 2, 3), ...)</code>. That initialization hack is <a href=\"https://stackoverflow.com/a/1958961/5761558\">generally frowned upon</a>."},{"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"score":0,"creation_date":1649052505,"post_id":71723392,"comment_id":126769116,"body_markdown":"@ernest_k thanks! you saved me some pain around json serialization.","body":"@ernest_k thanks! you saved me some pain around json serialization."}],"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648972416,"answer_count":0,"score":0,"last_activity_date":1648965745,"creation_date":1648965745,"question_id":71723392,"body_markdown":"I recently came across an example where the author initializes a HashMap like shown below.\r\n\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; graph =  new HashMap&lt;&gt;() {\r\n                {\r\n                    put(0, Arrays.asList(1));\r\n                    put(1, Arrays.asList(0, 2, 3));\r\n                    put(2, Arrays.asList(1, 3));\r\n                    put(3, Arrays.asList(1, 2));\r\n                }\r\n            };\r\n\r\nFrom what I understand, the above code supplies an overridden anonymous object of the HashMap class.\r\n\r\nI have been using the below way of creating and putting values in objects. \r\n\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; graph =  new HashMap&lt;&gt;();\r\n    graph.put(0, Arrays.asList(1));\r\n    graph.put(1, Arrays.asList(0, 2, 3));\r\n    graph.put(2, Arrays.asList(1, 3));\r\n    graph.put(3, Arrays.asList(1, 2));\r\n\r\nI agree that the author&#39;s way seems much clean and elegant, therefore, I am thinking of adopting it.\r\n\r\n**My question is apart from elegance, are there any other benefits to this?\r\nAre there any pitfalls/side-effects that I should be careful of?**\r\n\r\nThank you.","title":"What are the benefits &amp; side-effects of using an instance block for initializing an object in Java?","body":"<p>I recently came across an example where the author initializes a HashMap like shown below.</p>\n<pre><code>Map&lt;Integer, List&lt;Integer&gt;&gt; graph =  new HashMap&lt;&gt;() {\n            {\n                put(0, Arrays.asList(1));\n                put(1, Arrays.asList(0, 2, 3));\n                put(2, Arrays.asList(1, 3));\n                put(3, Arrays.asList(1, 2));\n            }\n        };\n</code></pre>\n<p>From what I understand, the above code supplies an overridden anonymous object of the HashMap class.</p>\n<p>I have been using the below way of creating and putting values in objects.</p>\n<pre><code>Map&lt;Integer, List&lt;Integer&gt;&gt; graph =  new HashMap&lt;&gt;();\ngraph.put(0, Arrays.asList(1));\ngraph.put(1, Arrays.asList(0, 2, 3));\ngraph.put(2, Arrays.asList(1, 3));\ngraph.put(3, Arrays.asList(1, 2));\n</code></pre>\n<p>I agree that the author's way seems much clean and elegant, therefore, I am thinking of adopting it.</p>\n<p><strong>My question is apart from elegance, are there any other benefits to this?\nAre there any pitfalls/side-effects that I should be careful of?</strong></p>\n<p>Thank you.</p>\n"},{"tags":["java","android","flutter","dart"],"comments":[{"owner":{"account_id":8048251,"reputation":2035,"user_id":6067774,"display_name":"Md. Kamrul Amin"},"score":0,"creation_date":1648970130,"post_id":71723363,"comment_id":126754040,"body_markdown":"Just stop app. Clean project using - flutter clean. Run - flutter pub get. Uninstall app from emulator/device. Build and run again.","body":"Just stop app. Clean project using - flutter clean. Run - flutter pub get. Uninstall app from emulator/device. Build and run again."},{"owner":{"account_id":24806837,"reputation":1,"user_id":18688740,"display_name":"user18688740"},"score":0,"creation_date":1648972836,"post_id":71723363,"comment_id":126754484,"body_markdown":"This does not solve the problem.I try flutter build apk --profile,it works.","body":"This does not solve the problem.I try flutter build apk --profile,it works."}],"owner":{"account_id":24806837,"reputation":1,"user_id":18688740,"display_name":"user18688740"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648965419,"creation_date":1648965419,"question_id":71723363,"body_markdown":"Everything is fine in the debug version, but with two problems in the release\r\n\r\n1. Use the shared_preferences plugin in the debugging version, and the storage works normally.In the release version, if missing\r\n\r\n   ```dart\r\n   &quot;SharedPreferences.setMockInitialValues ({});&quot;.\r\n   ```\r\n\r\n   It will be displayed\r\n\r\n   ```\r\n   E/flutter (23058): [ERROR:flutter/lib/ui/ui_dart_state.cc(186)] Unhandled Exception: MissingPluginException(No implementation found for method requestPermissions on channel flutter.baseflow.com/permissions/methods)\r\n   E/flutter (23058): #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:156)\r\n   E/flutter (23058): &lt;asynchronous suspension&gt;\r\n   E/flutter (23058): #1      PermissionHandler.requestPermissions (package:permission_handler/src/permission_handler.dart:97)\r\n   E/flutter (23058): &lt;asynchronous suspension&gt;\r\n   E/flutter (23058): #2      LocationFlutterPlugin.requestPermission (package:flutter_bmflocation/bdmap_location_flutter_plugin.dart:85)\r\n   E/flutter (23058): &lt;asynchronous suspension&gt;\r\n   E/flutter (23058):\r\n   E/flutter (23058): [ERROR:flutter/lib/ui/ui_dart_state.cc(186)] Unhandled Exception: MissingPluginException(No implementation found for method getAll on channel plugins.flutter.io/shared_preferences)\r\n   \r\n   ```\r\n\r\n   If  add\r\n\r\n   ```\r\n   &quot;SharedPreferences.setMockInitialValues ({});&quot;\r\n   ```\r\n\r\n   When the APP is off, the data is cleared and it cannot be saved,but APP works.\r\n   I have tried adding\r\n\r\n   ```java\r\n   public class MainActivity extends FlutterActivity {\r\n   @Override\r\n   public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\r\n   super.configureFlutterEngine(flutterEngine);\r\n   flutterEngine.getPlugins().add(new InstallAPKPlugin(this));\r\n     }\r\n   }\r\n   ```\r\n\r\n   But when I compile it:\r\n\r\n* \r\n\r\n```\r\n* What went wrong:\r\n  Execution failed for task &#39;:app:compileReleaseJavaWithJavac&#39;.\r\n\r\n&gt; Compilation failed; see the compiler error output for details.\r\n```\r\n\r\nif\r\n\r\n```java\r\nimport io.flutter.embedding.android.FlutterActivity;\r\n\r\npublic class MainActivity extends FlutterActivity {\r\n//    @Override\r\n//    public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\r\n//        super.configureFlutterEngine(flutterEngine);\r\n//        flutterEngine.getPlugins().add(new InstallAPKPlugin(this));\r\n//    }\r\n}\r\n```\r\n\r\nit works\r\n\r\n2. Debug the version of the &quot;image_picker &quot;plugin is working normally.\r\n\r\n   Using this plugin in the release gets stuck and the function calls this up again\r\n\r\n   ```\r\n   E/flutter (22312): [ERROR:flutter/lib/ui/ui_dart_state.cc(186)] Unhandled Exception: PlatformException(already_active, Image picker is already active, null, null)\r\n   E/flutter (22312): #0      StandardMethodCodec.decodeEnvelope (package:flutter/src/services/message_codecs.dart:581)\r\n   E/flutter (22312): #1      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:158)\r\n   E/flutter (22312): &lt;asynchronous suspension&gt;\r\n   E/flutter (22312): #2      ImagePicker.pickImage (package:image_picker/image_picker.dart:85)\r\n   E/flutter (22312): &lt;asynchronous suspension&gt;\r\n   E/flutter (22312): #3      getImageByGallery.&lt;anonymous closure&gt; (package:catmap/server/GetImageByGallery.dart)\r\n   E/flutter (22312): &lt;asynchronous suspension&gt;\r\n   ```\r\n\r\n   flutter doctor\r\n\r\n```\r\n\r\n   Doctor summary (to see all details, run flutter doctor -v):\r\n   \\[\\] Flutter (Channel stable, 2.0.6, on Microsoft Windows \\[Version 10.0.19044.1586\\], locale zh-CN)\r\n   \\[\\] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\r\n   \\[\\] Chrome - develop for the web\r\n   \\[\\] Android Studio (version 4.1.0)\r\n   \\[\\] IntelliJ IDEA Ultimate Edition (version 2021.1)\r\n   \\[\\] Connected device (3 available)\r\n\r\n    No issues found!\r\n```\r\n\r\nThis is pubspec.yaml:\r\n\r\n```\r\nversion: 1.0.0+1\r\n\r\nenvironment:\r\n  sdk: &quot;&gt;=2.7.0 &lt;3.0.0&quot;\r\n\r\ndependencies:\r\n  flutter_native_image: ^0.0.6+1\r\n  html: ^0.15.0\r\n  flutter_bmflocation: 1.0.2\r\n  image_picker: ^0.6.0+10\r\n  event_bus: ^2.0.0\r\n  dio: ^4.0.0\r\n  shared_preferences: ^2.0.6\r\n  flutter_drag_scale:\r\n    git: https://github.com/LiuC520/flutter_drag_scale.git\r\n  fluttertoast: ^8.0.7\r\n  transparent_image: ^2.0.0\r\n  flutter:\r\n    sdk: flutter\r\n\r\n\r\n  # The following adds the Cupertino Icons font to your application.\r\n  # Use with the CupertinoIcons class for iOS style icons.\r\n  cupertino_icons: ^1.0.2\r\n\r\ndev_dependencies:\r\n  flutter_test:\r\n    sdk: flutter\r\n```\r\n\r\n\r\nI guess it might be permissions issues but I can t fix it","title":"Flutter shared_preferences and image_picker Error","body":"<p>Everything is fine in the debug version, but with two problems in the release</p>\n<ol>\n<li><p>Use the shared_preferences plugin in the debugging version, and the storage works normally.In the release version, if missing</p>\n<pre class=\"lang-dart prettyprint-override\"><code>&quot;SharedPreferences.setMockInitialValues ({});&quot;.\n</code></pre>\n<p>It will be displayed</p>\n<pre><code>E/flutter (23058): [ERROR:flutter/lib/ui/ui_dart_state.cc(186)] Unhandled Exception: MissingPluginException(No implementation found for method requestPermissions on channel flutter.baseflow.com/permissions/methods)\nE/flutter (23058): #0      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:156)\nE/flutter (23058): &lt;asynchronous suspension&gt;\nE/flutter (23058): #1      PermissionHandler.requestPermissions (package:permission_handler/src/permission_handler.dart:97)\nE/flutter (23058): &lt;asynchronous suspension&gt;\nE/flutter (23058): #2      LocationFlutterPlugin.requestPermission (package:flutter_bmflocation/bdmap_location_flutter_plugin.dart:85)\nE/flutter (23058): &lt;asynchronous suspension&gt;\nE/flutter (23058):\nE/flutter (23058): [ERROR:flutter/lib/ui/ui_dart_state.cc(186)] Unhandled Exception: MissingPluginException(No implementation found for method getAll on channel plugins.flutter.io/shared_preferences)\n\n</code></pre>\n<p>If  add</p>\n<pre><code>&quot;SharedPreferences.setMockInitialValues ({});&quot;\n</code></pre>\n<p>When the APP is off, the data is cleared and it cannot be saved,but APP works.\nI have tried adding</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends FlutterActivity {\n@Override\npublic void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\nsuper.configureFlutterEngine(flutterEngine);\nflutterEngine.getPlugins().add(new InstallAPKPlugin(this));\n  }\n}\n</code></pre>\n<p>But when I compile it:</p>\n</li>\n</ol>\n<ul>\n<li></li>\n</ul>\n<pre><code>* What went wrong:\n  Execution failed for task ':app:compileReleaseJavaWithJavac'.\n\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n<p>if</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.flutter.embedding.android.FlutterActivity;\n\npublic class MainActivity extends FlutterActivity {\n//    @Override\n//    public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\n//        super.configureFlutterEngine(flutterEngine);\n//        flutterEngine.getPlugins().add(new InstallAPKPlugin(this));\n//    }\n}\n</code></pre>\n<p>it works</p>\n<ol start=\"2\">\n<li><p>Debug the version of the &quot;image_picker &quot;plugin is working normally.</p>\n<p>Using this plugin in the release gets stuck and the function calls this up again</p>\n<pre><code>E/flutter (22312): [ERROR:flutter/lib/ui/ui_dart_state.cc(186)] Unhandled Exception: PlatformException(already_active, Image picker is already active, null, null)\nE/flutter (22312): #0      StandardMethodCodec.decodeEnvelope (package:flutter/src/services/message_codecs.dart:581)\nE/flutter (22312): #1      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:158)\nE/flutter (22312): &lt;asynchronous suspension&gt;\nE/flutter (22312): #2      ImagePicker.pickImage (package:image_picker/image_picker.dart:85)\nE/flutter (22312): &lt;asynchronous suspension&gt;\nE/flutter (22312): #3      getImageByGallery.&lt;anonymous closure&gt; (package:catmap/server/GetImageByGallery.dart)\nE/flutter (22312): &lt;asynchronous suspension&gt;\n</code></pre>\n<p>flutter doctor</p>\n</li>\n</ol>\n<pre><code>\n   Doctor summary (to see all details, run flutter doctor -v):\n   \\[\\] Flutter (Channel stable, 2.0.6, on Microsoft Windows \\[Version 10.0.19044.1586\\], locale zh-CN)\n   \\[\\] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\n   \\[\\] Chrome - develop for the web\n   \\[\\] Android Studio (version 4.1.0)\n   \\[\\] IntelliJ IDEA Ultimate Edition (version 2021.1)\n   \\[\\] Connected device (3 available)\n\n    No issues found!\n</code></pre>\n<p>This is pubspec.yaml:</p>\n<pre><code>version: 1.0.0+1\n\nenvironment:\n  sdk: &quot;&gt;=2.7.0 &lt;3.0.0&quot;\n\ndependencies:\n  flutter_native_image: ^0.0.6+1\n  html: ^0.15.0\n  flutter_bmflocation: 1.0.2\n  image_picker: ^0.6.0+10\n  event_bus: ^2.0.0\n  dio: ^4.0.0\n  shared_preferences: ^2.0.6\n  flutter_drag_scale:\n    git: https://github.com/LiuC520/flutter_drag_scale.git\n  fluttertoast: ^8.0.7\n  transparent_image: ^2.0.0\n  flutter:\n    sdk: flutter\n\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.2\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n</code></pre>\n<p>I guess it might be permissions issues but I can t fix it</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648965293,"creation_date":1648963150,"answer_id":71723202,"question_id":71723070,"body_markdown":"You should iterate the collection inside the `&lt;tr&gt;` label.\r\n```\r\n&lt;tbody&gt;\r\n    &lt;tr th:each=&quot;profesor : ${profesores}&quot;&gt;\r\n      &lt;td th:text=&quot;${profesor.nombre}&quot;&gt;&lt;/td&gt;\r\n      &lt;td th:text=&quot;${profesor.nombre}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n&lt;/tbody&gt;\r\n```","title":"Thymeleaf not loading the data","body":"<p>You should iterate the collection inside the <code>&lt;tr&gt;</code> label.</p>\n<pre><code>&lt;tbody&gt;\n    &lt;tr th:each=&quot;profesor : ${profesores}&quot;&gt;\n      &lt;td th:text=&quot;${profesor.nombre}&quot;&gt;&lt;/td&gt;\n      &lt;td th:text=&quot;${profesor.nombre}&quot;&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n"}],"owner":{"account_id":9568330,"reputation":13,"user_id":7106872,"display_name":"Luis Salazar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648965293,"creation_date":1648960988,"question_id":71723070,"body_markdown":"i have a spring boot application, and when i load the data in thymeleaf it doesn&#39;t load, it&#39;s empty. I&#39;m using H2, so every time i launch the app i do some inserts to test, but it never loads the data. I&#39;ve tried the enpoints with Postman, and they all work. I&#39;m thinking it&#39;s something with the method i&#39;m using, but i don&#39;t know yet.\r\nHere&#39;s my application models:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n\r\n@Entity\r\n@Table(name = &quot;estudiante&quot;)\r\npublic class Estudiante {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;estudiante_generator&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;nombre&quot;)\r\n    private String nombre;\r\n\r\n    @Column(name = &quot;apellido&quot;)\r\n    private String apellido;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;profesor_id&quot;, nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private Profesor profesor;\r\n\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n\r\n@Entity\r\n@Table(name = &quot;profesor&quot;)\r\npublic class Profesor {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;profesor_generator&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;nombre&quot;)\r\n    private String nombre;\r\n\r\n    @Column(name = &quot;apellido&quot;)\r\n    private String apellido;\r\n\r\n    @Column(name = &quot;curso&quot;)\r\n    private String curso;\r\n\r\n    public Profesor(String nombre, String apellido, String curso){\r\n        this.nombre = nombre;\r\n        this.apellido = apellido;\r\n        this.curso = curso;\r\n    }\r\n}\r\n\r\n```\r\nThe controller for the index, and the controller for the backend:\r\n```\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String mostrarProfesores(Model model){\r\n        List&lt;Profesor&gt; profesor = profesorRepository.findAll();\r\n        model.addAttribute(&quot;profesores&quot;, profesor);\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n@GetMapping(&quot;/profesores&quot;)\r\n    public ResponseEntity&lt;List&lt;Profesor&gt;&gt; getProfesores(){\r\n        List&lt;Profesor&gt; profesor = new ArrayList&lt;Profesor&gt;();\r\n        profesorRepository.findAll().forEach(profesor::add);\r\n\r\n        if(profesor.isEmpty()){\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(profesor, HttpStatus.OK);\r\n    }\r\n```\r\nAnd the thymeleaf template:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div&gt;\r\n        &lt;h2&gt;Users&lt;/h2&gt;\r\n        &lt;table&gt;\r\n            &lt;thead&gt;\r\n                &lt;th&gt;Nombre&lt;/th&gt;\r\n                &lt;th&gt;Apellido&lt;/th&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;th:block th:each=&quot;profesor : ${profesores}&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;[[${profesor.nombre}]]&lt;/td&gt;\r\n                    &lt;td&gt;[[${profesor.apellido}]]&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;/th:block&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAny help is appreciated, thanks in advance for  your help.","title":"Thymeleaf not loading the data","body":"<p>i have a spring boot application, and when i load the data in thymeleaf it doesn't load, it's empty. I'm using H2, so every time i launch the app i do some inserts to test, but it never loads the data. I've tried the enpoints with Postman, and they all work. I'm thinking it's something with the method i'm using, but i don't know yet.\nHere's my application models:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n\n@Entity\n@Table(name = &quot;estudiante&quot;)\npublic class Estudiante {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;estudiante_generator&quot;)\n    private Long id;\n\n    @Column(name = &quot;nombre&quot;)\n    private String nombre;\n\n    @Column(name = &quot;apellido&quot;)\n    private String apellido;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;profesor_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private Profesor profesor;\n\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n\n@Entity\n@Table(name = &quot;profesor&quot;)\npublic class Profesor {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;profesor_generator&quot;)\n    private Long id;\n\n    @Column(name = &quot;nombre&quot;)\n    private String nombre;\n\n    @Column(name = &quot;apellido&quot;)\n    private String apellido;\n\n    @Column(name = &quot;curso&quot;)\n    private String curso;\n\n    public Profesor(String nombre, String apellido, String curso){\n        this.nombre = nombre;\n        this.apellido = apellido;\n        this.curso = curso;\n    }\n}\n\n</code></pre>\n<p>The controller for the index, and the controller for the backend:</p>\n<pre><code>    @GetMapping(&quot;/index&quot;)\n    public String mostrarProfesores(Model model){\n        List&lt;Profesor&gt; profesor = profesorRepository.findAll();\n        model.addAttribute(&quot;profesores&quot;, profesor);\n        return &quot;index&quot;;\n    }\n\n@GetMapping(&quot;/profesores&quot;)\n    public ResponseEntity&lt;List&lt;Profesor&gt;&gt; getProfesores(){\n        List&lt;Profesor&gt; profesor = new ArrayList&lt;Profesor&gt;();\n        profesorRepository.findAll().forEach(profesor::add);\n\n        if(profesor.isEmpty()){\n            return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n        }\n        return new ResponseEntity&lt;&gt;(profesor, HttpStatus.OK);\n    }\n</code></pre>\n<p>And the thymeleaf template:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;h2&gt;Users&lt;/h2&gt;\n        &lt;table&gt;\n            &lt;thead&gt;\n                &lt;th&gt;Nombre&lt;/th&gt;\n                &lt;th&gt;Apellido&lt;/th&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;th:block th:each=&quot;profesor : ${profesores}&quot;&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;[[${profesor.nombre}]]&lt;/td&gt;\n                    &lt;td&gt;[[${profesor.apellido}]]&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;/th:block&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Any help is appreciated, thanks in advance for  your help.</p>\n"},{"tags":["java","sorting","hashmap"],"comments":[{"owner":{"account_id":2071228,"reputation":4128,"user_id":1845671,"accept_rate":100,"display_name":"jsedano"},"score":4,"creation_date":1363362239,"post_id":15436516,"comment_id":21834801,"body_markdown":"what do you mean the top 10 ? based on what?","body":"what do you mean the top 10 ? based on what?"},{"owner":{"account_id":157427,"reputation":6752,"user_id":375375,"accept_rate":89,"display_name":"Ian R. O&#39;Brien"},"score":0,"creation_date":1363362282,"post_id":15436516,"comment_id":21834836,"body_markdown":"Can you please post some code to show what kind of elements you are comparing?","body":"Can you please post some code to show what kind of elements you are comparing?"},{"owner":{"account_id":76111,"reputation":3509,"user_id":218121,"accept_rate":94,"display_name":"Kevin"},"score":0,"creation_date":1363362324,"post_id":15436516,"comment_id":21834859,"body_markdown":"TreeMap can do the sorting for you. But in order for us to know what you are trying to sort it by u have to tell us!","body":"TreeMap can do the sorting for you. But in order for us to know what you are trying to sort it by u have to tell us!"},{"owner":{"account_id":2019584,"reputation":547,"user_id":1806089,"accept_rate":64,"display_name":"Tohmas"},"score":0,"creation_date":1363363100,"post_id":15436516,"comment_id":21835331,"body_markdown":"Ahh sorry missed it out, the K,V are String,Integer. I still need to know which keys have the highest values.I have tried TreeMap but it only sorts by key as defined in the specification.","body":"Ahh sorry missed it out, the K,V are String,Integer. I still need to know which keys have the highest values.I have tried TreeMap but it only sorts by key as defined in the specification."},{"owner":{"account_id":2118345,"reputation":12755,"user_id":1882149,"display_name":"Achintya Jha"},"score":0,"creation_date":1363363298,"post_id":15436516,"comment_id":21835462,"body_markdown":"http://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java","body":"<a href=\"http://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java\" title=\"how to sort a mapkey value on the values in java\">stackoverflow.com/questions/109383/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363362508,"creation_date":1363362508,"answer_id":15436614,"question_id":15436516,"body_markdown":"I am afraid you&#39;ll have to iterate over the entire map. [Heap][1] is a commonly-used data structure for finding top K elements, as explained in [this book][2].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Heap_%28data_structure%29\r\n  [2]: http://books.google.co.uk/books?id=hyvdUQUmf2UC&amp;pg=PA392","title":"Get top 10 values in hash map","body":"<p>I am afraid you'll have to iterate over the entire map. <a href=\"http://en.wikipedia.org/wiki/Heap_%28data_structure%29\" rel=\"nofollow\">Heap</a> is a commonly-used data structure for finding top K elements, as explained in <a href=\"http://books.google.co.uk/books?id=hyvdUQUmf2UC&amp;pg=PA392\" rel=\"nofollow\">this book</a>.</p>\n"},{"tags":[],"owner":{"account_id":474231,"reputation":3887,"user_id":883780,"display_name":"aymeric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363362536,"creation_date":1363362536,"answer_id":15436620,"question_id":15436516,"body_markdown":"If you are trying to get the 10 highest values of the map (assuming the values are numeric or at least implementing Comparable) then try this:\r\n\r\n    List list = new ArrayList(hashMap.values());\r\n    Collections.sort(list);\r\n    for(int i=0; i&lt;10; i++) {\r\n       // Deal with your value\r\n    }","title":"Get top 10 values in hash map","body":"<p>If you are trying to get the 10 highest values of the map (assuming the values are numeric or at least implementing Comparable) then try this:</p>\n\n<pre><code>List list = new ArrayList(hashMap.values());\nCollections.sort(list);\nfor(int i=0; i&lt;10; i++) {\n   // Deal with your value\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1772892,"reputation":1698,"user_id":1617325,"accept_rate":75,"display_name":"sk2212"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1363362774,"creation_date":1363362774,"answer_id":15436724,"question_id":15436516,"body_markdown":"Maybe you should implement the `Comparable` Interface to your value objects stored in the hashmap.\r\nThen you can create a array list of all values: \r\n\r\n    List&lt;YourValueType&gt; l = new ArrayList&lt;YourValueType&gt;(hashmap.values());\r\n    Collection.sort(l);\r\n    l = l.subList(0,10);\r\n\r\nRegards","title":"Get top 10 values in hash map","body":"<p>Maybe you should implement the <code>Comparable</code> Interface to your value objects stored in the hashmap.\nThen you can create a array list of all values: </p>\n\n<pre><code>List&lt;YourValueType&gt; l = new ArrayList&lt;YourValueType&gt;(hashmap.values());\nCollection.sort(l);\nl = l.subList(0,10);\n</code></pre>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":2437517,"reputation":1119,"user_id":2127028,"display_name":"Jirawat Uttayaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363362962,"creation_date":1363362962,"answer_id":15436779,"question_id":15436516,"body_markdown":"Let&#39;s assume you have a Map&lt;String, String&gt;, but this example can work for any type of &lt;K,V&gt;\r\n\r\n    Map&lt;String, String&gt; m = yourMethodToGetYourMap();\r\n    List&lt;String&gt; c = new ArrayList&lt;String&gt;(m.values());\r\n    Collections.sort(c);\r\n    for(int i=0 ; i&lt; 10; ++i) {\r\n        System.out.println(i + &quot; rank is &quot; + c.get(i));\t\r\n    }\r\n\r\n","title":"Get top 10 values in hash map","body":"<p>Let's assume you have a Map, but this example can work for any type of </p>\n\n<pre><code>Map&lt;String, String&gt; m = yourMethodToGetYourMap();\nList&lt;String&gt; c = new ArrayList&lt;String&gt;(m.values());\nCollections.sort(c);\nfor(int i=0 ; i&lt; 10; ++i) {\n    System.out.println(i + \" rank is \" + c.get(i)); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1727166,"reputation":2466,"user_id":1581576,"accept_rate":42,"display_name":"Biswajit"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1363363059,"creation_date":1363363059,"answer_id":15436822,"question_id":15436516,"body_markdown":"    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.TreeMap;\r\n    \r\n    public class Testing {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            HashMap&lt;String,Double&gt; map = new HashMap&lt;String,Double&gt;();\r\n            ValueComparator bvc =  new ValueComparator(map);\r\n            TreeMap&lt;String,Double&gt; sorted_map = new TreeMap&lt;String,Double&gt;(bvc);\r\n    \r\n            map.put(&quot;A&quot;,99.5);\r\n            map.put(&quot;B&quot;,67.4);\r\n            map.put(&quot;C&quot;,67.4);\r\n            map.put(&quot;D&quot;,67.3);\r\n    \r\n            System.out.println(&quot;unsorted map: &quot;+map);\r\n    \r\n            sorted_map.putAll(map);\r\n    \r\n            System.out.println(&quot;results: &quot;+sorted_map);\r\n        }\r\n    }\r\n    \r\n    class ValueComparator implements Comparator&lt;String&gt; {\r\n    \r\n        Map&lt;String, Double&gt; base;\r\n        public ValueComparator(Map&lt;String, Double&gt; base) {\r\n            this.base = base;\r\n        }\r\n    \r\n        // Note: this comparator imposes orderings that are inconsistent with equals.    \r\n        public int compare(String a, String b) {\r\n            if (base.get(a) &gt;= base.get(b)) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            } // returning 0 would merge keys\r\n        }\r\n    }","title":"Get top 10 values in hash map","body":"<pre><code>import java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.TreeMap;\n\npublic class Testing {\n\n    public static void main(String[] args) {\n\n        HashMap&lt;String,Double&gt; map = new HashMap&lt;String,Double&gt;();\n        ValueComparator bvc =  new ValueComparator(map);\n        TreeMap&lt;String,Double&gt; sorted_map = new TreeMap&lt;String,Double&gt;(bvc);\n\n        map.put(\"A\",99.5);\n        map.put(\"B\",67.4);\n        map.put(\"C\",67.4);\n        map.put(\"D\",67.3);\n\n        System.out.println(\"unsorted map: \"+map);\n\n        sorted_map.putAll(map);\n\n        System.out.println(\"results: \"+sorted_map);\n    }\n}\n\nclass ValueComparator implements Comparator&lt;String&gt; {\n\n    Map&lt;String, Double&gt; base;\n    public ValueComparator(Map&lt;String, Double&gt; base) {\n        this.base = base;\n    }\n\n    // Note: this comparator imposes orderings that are inconsistent with equals.    \n    public int compare(String a, String b) {\n        if (base.get(a) &gt;= base.get(b)) {\n            return -1;\n        } else {\n            return 1;\n        } // returning 0 would merge keys\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3997109,"reputation":1595,"user_id":3294286,"accept_rate":67,"display_name":"Sebastian D&#39;Agostino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492294302,"creation_date":1492294302,"answer_id":43431775,"question_id":15436516,"body_markdown":"I base my answer in this one from [sk2212][1]\r\n\r\nFirst you need to implement a descending comparator:\r\n\r\n    class EntryComparator implements Comparator&lt;Entry&lt;String,Integer&gt;&gt; {\r\n    \r\n        /**\r\n         * Implements descending order.\r\n         */\r\n        @Override\r\n        public int compare(Entry&lt;String, Integer&gt; o1, Entry&lt;String, Integer&gt; o2) {\r\n            if (o1.getValue() &lt; o2.getValue()) {\r\n                return 1;\r\n            } else if (o1.getValue() &gt; o2.getValue()) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        }\r\n        \r\n    }\r\n\r\nThen you can use it in a method such as this one for the attribute &quot;hashmap&quot;:\r\n\r\n    public List&lt;Entry&lt;String,Integer&gt;&gt; getTopKeysWithOccurences(int top) {\r\n        List&lt;Entry&lt;String,Integer&gt;&gt; results = new ArrayList&lt;&gt;(hashmap.entrySet());\r\n        Collections.sort(results, new EntryComparator());\r\n        return results.subList(0, top);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/15436516/get-top-10-values-in-hash-map/15436724#15436724","title":"Get top 10 values in hash map","body":"<p>I base my answer in this one from <a href=\"https://stackoverflow.com/questions/15436516/get-top-10-values-in-hash-map/15436724#15436724\">sk2212</a></p>\n\n<p>First you need to implement a descending comparator:</p>\n\n<pre><code>class EntryComparator implements Comparator&lt;Entry&lt;String,Integer&gt;&gt; {\n\n    /**\n     * Implements descending order.\n     */\n    @Override\n    public int compare(Entry&lt;String, Integer&gt; o1, Entry&lt;String, Integer&gt; o2) {\n        if (o1.getValue() &lt; o2.getValue()) {\n            return 1;\n        } else if (o1.getValue() &gt; o2.getValue()) {\n            return -1;\n        }\n        return 0;\n    }\n\n}\n</code></pre>\n\n<p>Then you can use it in a method such as this one for the attribute \"hashmap\":</p>\n\n<pre><code>public List&lt;Entry&lt;String,Integer&gt;&gt; getTopKeysWithOccurences(int top) {\n    List&lt;Entry&lt;String,Integer&gt;&gt; results = new ArrayList&lt;&gt;(hashmap.entrySet());\n    Collections.sort(results, new EntryComparator());\n    return results.subList(0, top);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18904663,"reputation":1,"user_id":13792041,"display_name":"Neetu T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648964985,"creation_date":1648964985,"answer_id":71723331,"question_id":15436516,"body_markdown":"\r\n    public static void main(String[] args) {\r\n    \t    HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    \t    // Initialize map\r\n    \t    System.out.println(getTopKeysWithOccurences(map, 10));\r\n    }\r\n    \r\n    public static List&lt;Entry&lt;String,Integer&gt;&gt; getTopKeysWithOccurences(Map mp, int top) {\r\n    \t    List&lt;Entry&lt;String,Double&gt;&gt; results = new ArrayList&lt;&gt;(mp.entrySet());\r\n    \t    Collections.sort(results, (e1,e2) -&gt; e2.getValue() - e1.getValue());\r\n    \t    //Ascending order - e1.getValue() - e2.getValue()\r\n    \t    //Descending order - e2.getValue() - e1.getValue()\r\n    \t    return results.subList(0, top);\r\n    }","title":"Get top 10 values in hash map","body":"<pre><code>public static void main(String[] args) {\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n        // Initialize map\n        System.out.println(getTopKeysWithOccurences(map, 10));\n}\n\npublic static List&lt;Entry&lt;String,Integer&gt;&gt; getTopKeysWithOccurences(Map mp, int top) {\n        List&lt;Entry&lt;String,Double&gt;&gt; results = new ArrayList&lt;&gt;(mp.entrySet());\n        Collections.sort(results, (e1,e2) -&gt; e2.getValue() - e1.getValue());\n        //Ascending order - e1.getValue() - e2.getValue()\n        //Descending order - e2.getValue() - e1.getValue()\n        return results.subList(0, top);\n}\n</code></pre>\n"}],"owner":{"account_id":2019584,"reputation":547,"user_id":1806089,"accept_rate":64,"display_name":"Tohmas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27193,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":7,"score":8,"last_activity_date":1648964985,"creation_date":1363362184,"question_id":15436516,"body_markdown":"I am trying to figure out how could I get the top 10 values from the `HashMap`. I was initially trying to use the `TreeMap` and have it sort by value and then take the first 10 values however it seems that that is not the option, as `TreeMap` sorts by key.\r\n\r\nI want to still be able to know which keys have the highest values, the `K, V` of the map are `String, Integer`.","title":"Get top 10 values in hash map","body":"<p>I am trying to figure out how could I get the top 10 values from the <code>HashMap</code>. I was initially trying to use the <code>TreeMap</code> and have it sort by value and then take the first 10 values however it seems that that is not the option, as <code>TreeMap</code> sorts by key.</p>\n\n<p>I want to still be able to know which keys have the highest values, the <code>K, V</code> of the map are <code>String, Integer</code>.</p>\n"},{"tags":["javascript","java","html","mapping","http-post"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1648970530,"post_id":71723300,"comment_id":126754100,"body_markdown":"Instead of trying to map them as @RequestParams, pull them out of the request object -- each row has different names for the input elements.","body":"Instead of trying to map them as @RequestParams, pull them out of the request object -- each row has different names for the input elements."},{"owner":{"account_id":18322198,"reputation":137,"user_id":13342723,"display_name":"abdcg"},"score":0,"creation_date":1649000934,"post_id":71723300,"comment_id":126760063,"body_markdown":"@tgdavies Oh good idea!, but I still don&#39;t know how to capture the rows dynamically, as in I don&#39;t know how many rows there will be when the user posts the data.","body":"@tgdavies Oh good idea!, but I still don&#39;t know how to capture the rows dynamically, as in I don&#39;t know how many rows there will be when the user posts the data."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1649025127,"post_id":71723300,"comment_id":126765070,"body_markdown":"Look for each name in turn (`firtsname1`, `firstname2`, ... ) until one is missing.","body":"Look for each name in turn (<code>firtsname1</code>, <code>firstname2</code>, ... ) until one is missing."}],"owner":{"account_id":18322198,"reputation":137,"user_id":13342723,"display_name":"abdcg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648964565,"creation_date":1648964565,"question_id":71723300,"body_markdown":"I have this dynamic form, where the user can add or remove rows from the form. The form takes a first name, last name and an email. I am really at a loss as to how to capture the data from the rows. If someone can point me to a resource that can help me with this I would really appreciate it! Please find below the html and JavaScript for the form, as well as the post mapping for the page. \r\n```  \r\n&lt;div class=&quot;container&quot;&gt;\r\n                                            &lt;div class=&quot;row clearfix&quot;&gt;\r\n                                                &lt;div class=&quot;col-md-12 column&quot;&gt;\r\n                                                    &lt;table class=&quot;table table-bordered table-hover&quot; id=&quot;tab_logic&quot;&gt;\r\n                                                        &lt;thead&gt;\r\n                                                            &lt;tr &gt;\r\n                                                                &lt;th class=&quot;text-center&quot;&gt;\r\n                                                                    #\r\n                                                                &lt;/th&gt;\r\n                                                                &lt;th class=&quot;text-center&quot;&gt;\r\n                                                                    First Name\r\n                                                                &lt;/th&gt;\r\n                                                                &lt;th class=&quot;text-center&quot;&gt;\r\n                                                                    Last Name\r\n                                                                &lt;/th&gt;\r\n                                                                &lt;th class=&quot;text-center&quot;&gt;\r\n                                                                    Email\r\n                                                            &lt;/tr&gt;\r\n                                                        &lt;/thead&gt;\r\n                                                        &lt;tbody&gt;\r\n                                                            &lt;tr id=&#39;addr0&#39;&gt;\r\n                                                                &lt;td&gt;\r\n                                                                1\r\n                                                                &lt;/td&gt;\r\n                                                                &lt;td&gt;\r\n                                                                &lt;input type=&quot;text&quot; name=&#39;firstName&#39;  placeholder=&#39;First Name&#39; class=&quot;form-control&quot;/&gt;\r\n                                                                &lt;/td&gt;\r\n                                                                &lt;td&gt;\r\n                                                                &lt;input type=&quot;text&quot; name=&#39;lastName&#39; placeholder=&#39;Last Name&#39; class=&quot;form-control&quot;/&gt;\r\n                                                                &lt;/td&gt;\r\n                                                                &lt;td&gt;\r\n                                                                &lt;input type=&quot;text&quot; name=&#39;email&#39; placeholder=&#39;Email Adress&#39; class=&quot;form-control&quot;/&gt;\r\n                                                                &lt;/td&gt;\r\n                                                            &lt;/tr&gt;\r\n                                                            &lt;tr id=&#39;addr1&#39;&gt;&lt;/tr&gt;\r\n                                                        &lt;/tbody&gt;\r\n                                                    &lt;/table&gt;\r\n                                                &lt;/div&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;a id=&quot;add_row&quot; class=&quot;btn btn-default pull-left&quot;&gt;Add Row&lt;/a&gt;\r\n                                            &lt;a id=&#39;delete_row&#39; class=&quot;pull-right btn btn-default&quot;&gt;Delete Row&lt;/a&gt;\r\n                                        &lt;/div&gt;\r\n\r\n```  \r\n```  \r\n&lt;script&gt; \r\n         var i=1;\r\n    $(document).ready(function(e){    \r\n     $(&quot;#add_row&quot;).click(function()\r\n     {\r\n        $(&#39;#addr&#39;+i).html(&quot;&lt;td&gt;&quot;+ (i+1) +&quot;&lt;/td&gt;&lt;td&gt;&lt;input name=&#39;firstName&quot;+i+&quot;&#39; type=&#39;text&#39; placeholder=&#39;First Name&#39; class=&#39;form-control input-md&#39;  /&gt;&lt;/td&gt;&lt;td&gt;&lt;input  name=&#39;lastName&quot;+i+&quot;&#39; type=&#39;text&#39; placeholder=&#39;Last Name&#39;  class=&#39;form-control input-md&#39;&gt;&lt;/td&gt;&lt;td&gt;&lt;input  name=&#39;email&quot;+i+&quot;&#39; type=&#39;text&#39; placeholder=&#39;Email Address&#39;  class=&#39;form-control input-md&#39;&gt;&lt;/td&gt;&quot;);\r\n\r\n        $(&#39;#tab_logic&#39;).append(&#39;&lt;tr id=&quot;addr&#39;+(i+1)+&#39;&quot;&gt;&lt;/tr&gt;&#39;);\r\n        i++; \r\n     })});\r\n     $(document).ready(function(e){\r\n     $(&quot;#delete_row&quot;).click(function()\r\n     {\r\n         if(i&gt;1)\r\n         {\r\n            $(&quot;#addr&quot;+(i-1)).html(&#39;&#39;);\r\n            i--;\r\n         }\r\n     })});\r\n    &lt;/script&gt;\r\n\r\n``` \r\n``` \r\n//Post Mapping Contract Trace Report\r\n    @PostMapping(&quot;/patienthome/contact-trace-report&quot;)\r\n    public ModelAndView contractTraceReportPost(ModelAndView modelAndView, User user, @RequestParam String email, @RequestParam String firstName, @RequestParam String lastName ) throws IOException, ParseException\r\n    {\r\n\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        \r\n        Patient patient = patientRepo.findByEmail(authentication.getName());\r\n\r\n        //Need to capture as many emails as there are rows\r\n        Patient contact1 =patientRepo.findByEmail(email); \r\n\r\n\r\n        modelAndView = new ModelAndView(&quot;redirect:/patienthome&quot;); \r\n        \r\n        modelAndView.addObject(&quot;confirmationMessage&quot;, &quot;Patient Profile Was Updated&quot;);\r\n\r\n        return modelAndView;   \r\n    }\r\n\r\n```\r\n\r\nThank you all in advance I really appreciate it!!!!","title":"How to Capture Data With Dynamic Form Post Mapping Java","body":"<p>I have this dynamic form, where the user can add or remove rows from the form. The form takes a first name, last name and an email. I am really at a loss as to how to capture the data from the rows. If someone can point me to a resource that can help me with this I would really appreciate it! Please find below the html and JavaScript for the form, as well as the post mapping for the page.</p>\n<pre><code>&lt;div class=&quot;container&quot;&gt;\n                                            &lt;div class=&quot;row clearfix&quot;&gt;\n                                                &lt;div class=&quot;col-md-12 column&quot;&gt;\n                                                    &lt;table class=&quot;table table-bordered table-hover&quot; id=&quot;tab_logic&quot;&gt;\n                                                        &lt;thead&gt;\n                                                            &lt;tr &gt;\n                                                                &lt;th class=&quot;text-center&quot;&gt;\n                                                                    #\n                                                                &lt;/th&gt;\n                                                                &lt;th class=&quot;text-center&quot;&gt;\n                                                                    First Name\n                                                                &lt;/th&gt;\n                                                                &lt;th class=&quot;text-center&quot;&gt;\n                                                                    Last Name\n                                                                &lt;/th&gt;\n                                                                &lt;th class=&quot;text-center&quot;&gt;\n                                                                    Email\n                                                            &lt;/tr&gt;\n                                                        &lt;/thead&gt;\n                                                        &lt;tbody&gt;\n                                                            &lt;tr id='addr0'&gt;\n                                                                &lt;td&gt;\n                                                                1\n                                                                &lt;/td&gt;\n                                                                &lt;td&gt;\n                                                                &lt;input type=&quot;text&quot; name='firstName'  placeholder='First Name' class=&quot;form-control&quot;/&gt;\n                                                                &lt;/td&gt;\n                                                                &lt;td&gt;\n                                                                &lt;input type=&quot;text&quot; name='lastName' placeholder='Last Name' class=&quot;form-control&quot;/&gt;\n                                                                &lt;/td&gt;\n                                                                &lt;td&gt;\n                                                                &lt;input type=&quot;text&quot; name='email' placeholder='Email Adress' class=&quot;form-control&quot;/&gt;\n                                                                &lt;/td&gt;\n                                                            &lt;/tr&gt;\n                                                            &lt;tr id='addr1'&gt;&lt;/tr&gt;\n                                                        &lt;/tbody&gt;\n                                                    &lt;/table&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                            &lt;a id=&quot;add_row&quot; class=&quot;btn btn-default pull-left&quot;&gt;Add Row&lt;/a&gt;\n                                            &lt;a id='delete_row' class=&quot;pull-right btn btn-default&quot;&gt;Delete Row&lt;/a&gt;\n                                        &lt;/div&gt;\n\n</code></pre>\n<pre><code>&lt;script&gt; \n         var i=1;\n    $(document).ready(function(e){    \n     $(&quot;#add_row&quot;).click(function()\n     {\n        $('#addr'+i).html(&quot;&lt;td&gt;&quot;+ (i+1) +&quot;&lt;/td&gt;&lt;td&gt;&lt;input name='firstName&quot;+i+&quot;' type='text' placeholder='First Name' class='form-control input-md'  /&gt;&lt;/td&gt;&lt;td&gt;&lt;input  name='lastName&quot;+i+&quot;' type='text' placeholder='Last Name'  class='form-control input-md'&gt;&lt;/td&gt;&lt;td&gt;&lt;input  name='email&quot;+i+&quot;' type='text' placeholder='Email Address'  class='form-control input-md'&gt;&lt;/td&gt;&quot;);\n\n        $('#tab_logic').append('&lt;tr id=&quot;addr'+(i+1)+'&quot;&gt;&lt;/tr&gt;');\n        i++; \n     })});\n     $(document).ready(function(e){\n     $(&quot;#delete_row&quot;).click(function()\n     {\n         if(i&gt;1)\n         {\n            $(&quot;#addr&quot;+(i-1)).html('');\n            i--;\n         }\n     })});\n    &lt;/script&gt;\n\n</code></pre>\n<pre><code>//Post Mapping Contract Trace Report\n    @PostMapping(&quot;/patienthome/contact-trace-report&quot;)\n    public ModelAndView contractTraceReportPost(ModelAndView modelAndView, User user, @RequestParam String email, @RequestParam String firstName, @RequestParam String lastName ) throws IOException, ParseException\n    {\n\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        \n        Patient patient = patientRepo.findByEmail(authentication.getName());\n\n        //Need to capture as many emails as there are rows\n        Patient contact1 =patientRepo.findByEmail(email); \n\n\n        modelAndView = new ModelAndView(&quot;redirect:/patienthome&quot;); \n        \n        modelAndView.addObject(&quot;confirmationMessage&quot;, &quot;Patient Profile Was Updated&quot;);\n\n        return modelAndView;   \n    }\n\n</code></pre>\n<p>Thank you all in advance I really appreciate it!!!!</p>\n"},{"tags":["java","kotlin","redis","jedis"],"owner":{"account_id":13168587,"reputation":531,"user_id":9511844,"display_name":"J P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648964472,"creation_date":1648843423,"question_id":71712250,"body_markdown":"If I run the below code, how can I know if this value has actually been set successfully or not?\r\n```kotlin\r\nval localRedisPool: JedisPool = JedisPool(&quot;localhost&quot;)\r\n// ...\r\nMyApp.localRedisPool.resource.use {\r\n    localRedis -&gt; localRedis.set(name, value)\r\n}\r\n```\r\nI can&#39;t seem to find any info about errors that I might be able to catch or anything useful returned from the `set` operation itself.","title":"Check if Jedis set operation executed successfully","body":"<p>If I run the below code, how can I know if this value has actually been set successfully or not?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val localRedisPool: JedisPool = JedisPool(&quot;localhost&quot;)\n// ...\nMyApp.localRedisPool.resource.use {\n    localRedis -&gt; localRedis.set(name, value)\n}\n</code></pre>\n<p>I can't seem to find any info about errors that I might be able to catch or anything useful returned from the <code>set</code> operation itself.</p>\n"},{"tags":["java","android","windows","email","android-intent"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1648960254,"post_id":71723000,"comment_id":126752920,"body_markdown":"Post actual code, not an image.  Especially here, the image is too small to read.","body":"Post actual code, not an image.  Especially here, the image is too small to read."}],"answers":[{"tags":[],"owner":{"account_id":5680624,"reputation":1330,"user_id":4491971,"display_name":"Mohit Ajwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648960842,"creation_date":1648960842,"answer_id":71723060,"question_id":71723000,"body_markdown":"You are using an old or deprecated way to start activity for ACTION_SEND scenarios. Use below snippet for the correct way.\r\n\r\n```\r\nval sendIntent: Intent = Intent().apply {\r\n    action = Intent.ACTION_SEND\r\n    putExtra(Intent.EXTRA_TEXT, &quot;This is my text to send.&quot;)\r\n    type = &quot;text/plain&quot;\r\n}\r\n\r\nval shareIntent = Intent.createChooser(sendIntent, null)\r\nstartActivity(shareIntent)\r\n```\r\n\r\nYou can check out the code snippet and detailed explanation here.\r\nhttps://developer.android.com/training/sharing/send#using-android-system-sharesheet","title":"When program is run the email app do not opens on mobile phone. OR when tried to modify code the app crashes","body":"<p>You are using an old or deprecated way to start activity for ACTION_SEND scenarios. Use below snippet for the correct way.</p>\n<pre><code>val sendIntent: Intent = Intent().apply {\n    action = Intent.ACTION_SEND\n    putExtra(Intent.EXTRA_TEXT, &quot;This is my text to send.&quot;)\n    type = &quot;text/plain&quot;\n}\n\nval shareIntent = Intent.createChooser(sendIntent, null)\nstartActivity(shareIntent)\n</code></pre>\n<p>You can check out the code snippet and detailed explanation here.\n<a href=\"https://developer.android.com/training/sharing/send#using-android-system-sharesheet\" rel=\"nofollow noreferrer\">https://developer.android.com/training/sharing/send#using-android-system-sharesheet</a></p>\n"},{"tags":[],"owner":{"account_id":9779900,"reputation":335,"user_id":7248394,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648964097,"creation_date":1648964097,"answer_id":71723266,"question_id":71723000,"body_markdown":"Starting with API level 30, if you&#39;re targeting that version or higher, your app cannot see, or directly interact with, most external packages without explicitly requesting allowance.\r\n\r\nCheck this answer, it works for me.\r\n\r\nhttps://stackoverflow.com/a/65166064/7248394","title":"When program is run the email app do not opens on mobile phone. OR when tried to modify code the app crashes","body":"<p>Starting with API level 30, if you're targeting that version or higher, your app cannot see, or directly interact with, most external packages without explicitly requesting allowance.</p>\n<p>Check this answer, it works for me.</p>\n<p><a href=\"https://stackoverflow.com/a/65166064/7248394\">https://stackoverflow.com/a/65166064/7248394</a></p>\n"}],"owner":{"account_id":22553374,"reputation":11,"user_id":16742166,"display_name":"Rajvardhan Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1648964097,"creation_date":1648959899,"question_id":71723000,"body_markdown":"![Java Code for intent](https://i.stack.imgur.com/AVjqd.png)\r\n\r\nthe email app is not opening on my android device. there are no error in code but don&#39;t know why app isn&#39;t working","title":"When program is run the email app do not opens on mobile phone. OR when tried to modify code the app crashes","body":"<p><img src=\"https://i.stack.imgur.com/AVjqd.png\" alt=\"Java Code for intent\" /></p>\n<p>the email app is not opening on my android device. there are no error in code but don't know why app isn't working</p>\n"},{"tags":["java","sybase","bouncycastle","sap-ase","anypoint-studio"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1648814019,"post_id":71706343,"comment_id":126725547,"body_markdown":"Does this answer your question? [How to pass encryption related properties from tomcat&#39;s context.xml for jdbc connection in java?](https://stackoverflow.com/questions/33735298/how-to-pass-encryption-related-properties-from-tomcats-context-xml-for-jdbc-con). Mule database connector uses JDBC URLs, same as many other Java based products. None of those can use Java code to set configurations, so you need to use JDBC URL configurations instead.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33735298/how-to-pass-encryption-related-properties-from-tomcats-context-xml-for-jdbc-con\">How to pass encryption related properties from tomcat&#39;s context.xml for jdbc connection in java?</a>. Mule database connector uses JDBC URLs, same as many other Java based products. None of those can use Java code to set configurations, so you need to use JDBC URL configurations instead."},{"owner":{"account_id":3690071,"reputation":109,"user_id":3072859,"display_name":"dowonderatwill"},"score":0,"creation_date":1648815049,"post_id":71706343,"comment_id":126725924,"body_markdown":"I think the property JCE_PROVIDER_CLASS is no longer supported. Now it needs to be set using java.security.Provider with value as fully qualified path of org.bouncycastle.jce.provider.BouncyCastleProvider. This problem I had when trying with Java and have solved it. So from Java it works. And I tried the same JDBC Url as in java. Rechecking if anything missing.","body":"I think the property JCE_PROVIDER_CLASS is no longer supported. Now it needs to be set using java.security.Provider with value as fully qualified path of org.bouncycastle.jce.provider.BouncyCastleProvider. This problem I had when trying with Java and have solved it. So from Java it works. And I tried the same JDBC Url as in java. Rechecking if anything missing."},{"owner":{"account_id":3690071,"reputation":109,"user_id":3072859,"display_name":"dowonderatwill"},"score":0,"creation_date":1648823247,"post_id":71706343,"comment_id":126729254,"body_markdown":"One way I tried is by adding a java class with static method and invoked it as static method from Anypoint Studio, then, the connection in the java method works okay. The java code is same as listed above in OP. So, if the java Invoke Method is able to make the connection then Database Config-&gt;TestConnection, should also, let me try it as next step.","body":"One way I tried is by adding a java class with static method and invoked it as static method from Anypoint Studio, then, the connection in the java method works okay. The java code is same as listed above in OP. So, if the java Invoke Method is able to make the connection then Database Config-&gt;TestConnection, should also, let me try it as next step."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1648826880,"post_id":71706343,"comment_id":126730764,"body_markdown":"I don&#39;t think it should work because the Database Connector doesn&#39;t know about invoking Java, and maybe classloader issues, but you can try.","body":"I don&#39;t think it should work because the Database Connector doesn&#39;t know about invoking Java, and maybe classloader issues, but you can try."},{"owner":{"account_id":3690071,"reputation":109,"user_id":3072859,"display_name":"dowonderatwill"},"score":0,"creation_date":1648871495,"post_id":71706343,"comment_id":126739529,"body_markdown":"@aled I tried but now it is giving new error. The suspected class loading issue, looks through now it is giving new error. Updated in OP.","body":"@aled I tried but now it is giving new error. The suspected class loading issue, looks through now it is giving new error. Updated in OP."},{"owner":{"account_id":3690071,"reputation":109,"user_id":3072859,"display_name":"dowonderatwill"},"score":0,"creation_date":1648872018,"post_id":71706343,"comment_id":126739585,"body_markdown":"Probably this new Tooling exception (glassfish.jersey..) and status=500 giving clue some issue from server side like permission issue? Wondering... there is similar issue but for different application like Mule trying to connect Workday and there it says permission issue. https://help.mulesoft.com/s/article/Getting-an-exception-about-Get-Degrees-operation-when-trying-to-Test-Connectivity-in-Studio-using-the-Mule-4-Workday-connector","body":"Probably this new Tooling exception (glassfish.jersey..) and status=500 giving clue some issue from server side like permission issue? Wondering... there is similar issue but for different application like Mule trying to connect Workday and there it says permission issue. <a href=\"https://help.mulesoft.com/s/article/Getting-an-exception-about-Get-Degrees-operation-when-trying-to-Test-Connectivity-in-Studio-using-the-Mule-4-Workday-connector\" rel=\"nofollow noreferrer\">help.mulesoft.com/s/article/&hellip;</a>"},{"owner":{"account_id":3690071,"reputation":109,"user_id":3072859,"display_name":"dowonderatwill"},"score":0,"creation_date":1648876389,"post_id":71706343,"comment_id":126739997,"body_markdown":"Tooling exception is solved as mentioned in Update 2. But original error still coming!","body":"Tooling exception is solved as mentioned in Update 2. But original error still coming!"}],"answers":[{"tags":[],"owner":{"account_id":3690071,"reputation":109,"user_id":3072859,"display_name":"dowonderatwill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648963524,"creation_date":1648963524,"answer_id":71723231,"question_id":71706343,"body_markdown":"Finally got it to work! Since the flow was working in Anypoint Studio, so it means jars were correct, but Test Connection of Database Config was not getting in its classpath. May be some classloader issue. So, I searched on the internet about where to put this jar into a path so that the Database Config can load and use it. Found that in the file %MULE_HOME%/conf/wrapper.conf.template there are properties to set the classpath for jars. I put this BouncyCastle jar in the library path and then it worked. The librbary path in my case was at %MULE_HOME%/lib/boot, so I kept here also apart from keeping at %MULE_HOME%/lib/usr. \r\nThen it worked","title":"Anypoint Studio how to configure BouncyCastle","body":"<p>Finally got it to work! Since the flow was working in Anypoint Studio, so it means jars were correct, but Test Connection of Database Config was not getting in its classpath. May be some classloader issue. So, I searched on the internet about where to put this jar into a path so that the Database Config can load and use it. Found that in the file %MULE_HOME%/conf/wrapper.conf.template there are properties to set the classpath for jars. I put this BouncyCastle jar in the library path and then it worked. The librbary path in my case was at %MULE_HOME%/lib/boot, so I kept here also apart from keeping at %MULE_HOME%/lib/usr.\nThen it worked</p>\n"}],"owner":{"account_id":3690071,"reputation":109,"user_id":3072859,"display_name":"dowonderatwill"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71723231,"answer_count":1,"score":0,"last_activity_date":1648963524,"creation_date":1648813238,"question_id":71706343,"body_markdown":"Our goal is to connect to Sybase ASE DB from Anypoint Studio. This DB Server expects encrypted password. So we wrote the java code and able to make connection. In the java project added external BouncyCastle jar (bcprov-jdk15on-170.jar) and the jConnecter (jconn.jar) the JDBC Driver. And it works.\r\n\r\n    \t\tClass.forName(DRIVER_CLASS); //DRIVER_CLASS = &quot;com.sybase.jdbc4.jdbc.SybDriver&quot;;\r\n\t\tprop.put(&quot;ENCRYPT_PASSWORD&quot;, &quot;true&quot;); // by default this is false.\r\n\t\tprop.put(&quot;java.security.Provider&quot;, &quot;org.bouncycastle.jce.BouncyCastleProvider&quot;);\r\n\t\t\r\n\t\tprop.put(&quot;user&quot;, UID);\r\n\t\tprop.put(&quot;password&quot;, PWD);\r\n\t\t\r\n\t\tSecurity.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider()); \r\n\t\t\t\t\r\n\t\tSystem.out.println(&quot;Trying to connect&quot;);\r\n\t\tConnection con = DriverManager.getConnection(JDBC_URL, prop);\r\n\t\tSystem.out.println(&quot;Connection success!&quot;);\r\n\r\nThe next thing, same we want to achieve in Anypoint Studio 7.11. The Database Config I give below parameters:\r\n\r\n    Connection: Generic\r\n    JDBC Driver: jconn4\r\n    URL: jdbc:sybase:Tds:&lt;host&gt;:&lt;port&gt;/&lt;DB&gt;?ENCRYPT_PASSWORD=true&amp;java.security.Provider=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n    Driver Class: com.sybase.jdbc4.jdbc.SybDriver\r\n    Followed by User: and Password.\r\n\r\nThen added the bcprov-jdk15on-170.jar as project/external jar in Referenced Libraries.\r\n\r\nBut when I do test connection it gives error:\r\n\r\n    org.mule.runtime.api.connection.ConnectionException: Could not obtain connection from data source\r\n    Caused by: org.mule.db.commons.shaded.api.exception.connection.ConnectionCreationException: Could not obtain connection from data source\r\n    Caused by: java.sql.SQLException: Cannot get connection for URL jdbc:sybase:Tds:&lt;host&gt;:&lt;port&gt;/&lt;DB&gt;?ENCRYPT_PASSWORD=true&amp;java.security.Provider=org.bouncycastle.jce.provider.BouncyCastleProvider : JZ0LA: Failed to instantiate Cipher object. Transformation RSA/NONE/OAEPWithSHA1AndMGF1Padding is not implemented by any of the loaded JCE providers.\r\n  \r\n\r\nThis error had happened while testing with Java project, but then I have solved by adding below line of code:\r\n\r\n    Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n\r\nBut in Anypoint Studio how to do it? Or how to solve it? The Anypoint Studio Database Config is not getting this class file. I checked internet it says to specify the provider in java.security file. [the other post on SOF][1]. I have done that also. Still it does not work from Anypoint Studio. If anyone of you have successfully done it in past kindly share idea. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57717503/globally-register-bouncycastle-security-provider-in-jdk-11\r\n\r\n**[Update 1]** I added Invoke-Static Moulde in Anypoint Studio flow, that is working. So next trying to give same setting in the Database Config (global element) but it is giving now new error on TestConnection.\r\nProvider I have changed and it works from Invoke-Static flow.\r\n\r\nThe Invoke-Static Java code which makes connection (and is okay):\r\n\r\n     Security.addProvider(new org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider()); // new provider\r\n    //Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n\r\n\r\nAlso in the jdk/conf/java.security which this Anypoint is using made the addition of BouncyCastle at top: \r\n\r\n    security.provider.1=org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider\r\n\r\nBut when I make corresponding settings in Database Config as below url:\r\n\r\n    url=&quot;jdbc:sybase:Tds:&lt;host&gt;:&lt;port&gt;/&lt;DB&gt;?ENCRYPT_PASSWORD=true&amp;java.security.Provider=org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider&quot;\r\n    user and password same.\r\n\r\nit gives new error on clicking TestConnection from Database Config:\r\n\r\n    ToolingException{message=&#39;Got status code: 500 when trying to resolve a Mule Runtime operation. Reason: &#39;Server Error. {&quot;errorType&quot;:null,&quot;errorMessage&quot;:null,&quot;errorDetail&quot;:null,&quot;additionalProperties&quot;:{servlet=org.glassfish.jersey.servlet.ServletContainer-29fe8bdb, message=Request failed., url=/mule/tooling/applications/70c8b7ab-8bbc-4863-a0aa-718be6d803b9/components/Database_Sybase/connection, status=500}}&#39;&#39;\r\n\r\nNow investigating, why this error?\r\n\r\n**[Update 2]** The above mentioned new error of Tooling exception is gone by appending the &amp;RETRY_WITH_NO_ENCRYPTION=true in the URL, but the original error still coming. JZ0LA: Failed to instantiate Cipher object. Transformation RSA/NONE/OAEPWithSHA1AndMGF1Padding is not implemented\r\n","title":"Anypoint Studio how to configure BouncyCastle","body":"<p>Our goal is to connect to Sybase ASE DB from Anypoint Studio. This DB Server expects encrypted password. So we wrote the java code and able to make connection. In the java project added external BouncyCastle jar (bcprov-jdk15on-170.jar) and the jConnecter (jconn.jar) the JDBC Driver. And it works.</p>\n<pre><code>        Class.forName(DRIVER_CLASS); //DRIVER_CLASS = &quot;com.sybase.jdbc4.jdbc.SybDriver&quot;;\n    prop.put(&quot;ENCRYPT_PASSWORD&quot;, &quot;true&quot;); // by default this is false.\n    prop.put(&quot;java.security.Provider&quot;, &quot;org.bouncycastle.jce.BouncyCastleProvider&quot;);\n    \n    prop.put(&quot;user&quot;, UID);\n    prop.put(&quot;password&quot;, PWD);\n    \n    Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider()); \n            \n    System.out.println(&quot;Trying to connect&quot;);\n    Connection con = DriverManager.getConnection(JDBC_URL, prop);\n    System.out.println(&quot;Connection success!&quot;);\n</code></pre>\n<p>The next thing, same we want to achieve in Anypoint Studio 7.11. The Database Config I give below parameters:</p>\n<pre><code>Connection: Generic\nJDBC Driver: jconn4\nURL: jdbc:sybase:Tds:&lt;host&gt;:&lt;port&gt;/&lt;DB&gt;?ENCRYPT_PASSWORD=true&amp;java.security.Provider=org.bouncycastle.jce.provider.BouncyCastleProvider\nDriver Class: com.sybase.jdbc4.jdbc.SybDriver\nFollowed by User: and Password.\n</code></pre>\n<p>Then added the bcprov-jdk15on-170.jar as project/external jar in Referenced Libraries.</p>\n<p>But when I do test connection it gives error:</p>\n<pre><code>org.mule.runtime.api.connection.ConnectionException: Could not obtain connection from data source\nCaused by: org.mule.db.commons.shaded.api.exception.connection.ConnectionCreationException: Could not obtain connection from data source\nCaused by: java.sql.SQLException: Cannot get connection for URL jdbc:sybase:Tds:&lt;host&gt;:&lt;port&gt;/&lt;DB&gt;?ENCRYPT_PASSWORD=true&amp;java.security.Provider=org.bouncycastle.jce.provider.BouncyCastleProvider : JZ0LA: Failed to instantiate Cipher object. Transformation RSA/NONE/OAEPWithSHA1AndMGF1Padding is not implemented by any of the loaded JCE providers.\n</code></pre>\n<p>This error had happened while testing with Java project, but then I have solved by adding below line of code:</p>\n<pre><code>Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n</code></pre>\n<p>But in Anypoint Studio how to do it? Or how to solve it? The Anypoint Studio Database Config is not getting this class file. I checked internet it says to specify the provider in java.security file. <a href=\"https://stackoverflow.com/questions/57717503/globally-register-bouncycastle-security-provider-in-jdk-11\">the other post on SOF</a>. I have done that also. Still it does not work from Anypoint Studio. If anyone of you have successfully done it in past kindly share idea.</p>\n<p><strong>[Update 1]</strong> I added Invoke-Static Moulde in Anypoint Studio flow, that is working. So next trying to give same setting in the Database Config (global element) but it is giving now new error on TestConnection.\nProvider I have changed and it works from Invoke-Static flow.</p>\n<p>The Invoke-Static Java code which makes connection (and is okay):</p>\n<pre><code> Security.addProvider(new org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider()); // new provider\n//Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n</code></pre>\n<p>Also in the jdk/conf/java.security which this Anypoint is using made the addition of BouncyCastle at top:</p>\n<pre><code>security.provider.1=org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider\n</code></pre>\n<p>But when I make corresponding settings in Database Config as below url:</p>\n<pre><code>url=&quot;jdbc:sybase:Tds:&lt;host&gt;:&lt;port&gt;/&lt;DB&gt;?ENCRYPT_PASSWORD=true&amp;java.security.Provider=org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider&quot;\nuser and password same.\n</code></pre>\n<p>it gives new error on clicking TestConnection from Database Config:</p>\n<pre><code>ToolingException{message='Got status code: 500 when trying to resolve a Mule Runtime operation. Reason: 'Server Error. {&quot;errorType&quot;:null,&quot;errorMessage&quot;:null,&quot;errorDetail&quot;:null,&quot;additionalProperties&quot;:{servlet=org.glassfish.jersey.servlet.ServletContainer-29fe8bdb, message=Request failed., url=/mule/tooling/applications/70c8b7ab-8bbc-4863-a0aa-718be6d803b9/components/Database_Sybase/connection, status=500}}''\n</code></pre>\n<p>Now investigating, why this error?</p>\n<p><strong>[Update 2]</strong> The above mentioned new error of Tooling exception is gone by appending the &amp;RETRY_WITH_NO_ENCRYPTION=true in the URL, but the original error still coming. JZ0LA: Failed to instantiate Cipher object. Transformation RSA/NONE/OAEPWithSHA1AndMGF1Padding is not implemented</p>\n"},{"tags":["java","string","android-studio"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1648958994,"post_id":71722937,"comment_id":126752754,"body_markdown":"Welcome to Stack Overflow!  In general on this site, questions should be limited to a single question, and I see three distinct questions in here: how to split into substrings containing three numeric values, how to get the highest and lowest value from a string containing multiple numeric values, and how to get the first and last value from a string containing multiple numeric values.  You would be better off asking each question individually.","body":"Welcome to Stack Overflow!  In general on this site, questions should be limited to a single question, and I see three distinct questions in here: how to split into substrings containing three numeric values, how to get the highest and lowest value from a string containing multiple numeric values, and how to get the first and last value from a string containing multiple numeric values.  You would be better off asking each question individually."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1648959173,"post_id":71722937,"comment_id":126752772,"body_markdown":"You might want to break this down into a number of steps.  (1) Split the text up wherever there&#39;s a semicolon, (2) convert each piece into a suitable data type, (3) organise the numbers into groups of three, (4) find the highest and lowest within each group.  Concentrate on solving one step at a time, before moving onto the next.","body":"You might want to break this down into a number of steps.  (1) Split the text up wherever there&#39;s a semicolon, (2) convert each piece into a suitable data type, (3) organise the numbers into groups of three, (4) find the highest and lowest within each group.  Concentrate on solving one step at a time, before moving onto the next."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1648959193,"post_id":71722937,"comment_id":126752776,"body_markdown":"Is it intentional that your example substrings changed the delimiter from semicolon to comma?","body":"Is it intentional that your example substrings changed the delimiter from semicolon to comma?"},{"owner":{"account_id":22211170,"reputation":25,"user_id":16450320,"display_name":"Exsent"},"score":0,"creation_date":1648959629,"post_id":71722937,"comment_id":126752832,"body_markdown":"yes its intentional, I want it that way, or anyhow, as long um getting the same end results","body":"yes its intentional, I want it that way, or anyhow, as long um getting the same end results"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1648959675,"post_id":71722937,"comment_id":126752836,"body_markdown":"To follow up on @DawoodibnKareem, here&#39;s some pointers to the different parts: (1) https://stackoverflow.com/q/10631715/1108305, (2) https://stackoverflow.com/q/23057549/1108305, (3) https://stackoverflow.com/q/12026885/1108305, (4) https://stackoverflow.com/q/22335544/1108305","body":"To follow up on @DawoodibnKareem, here&#39;s some pointers to the different parts: (1) <a href=\"https://stackoverflow.com/q/10631715/1108305\">stackoverflow.com/q/10631715/1108305</a>, (2) <a href=\"https://stackoverflow.com/q/23057549/1108305\">stackoverflow.com/q/23057549/1108305</a>, (3) <a href=\"https://stackoverflow.com/q/12026885/1108305\">stackoverflow.com/q/12026885/1108305</a>, (4) <a href=\"https://stackoverflow.com/q/22335544/1108305\">stackoverflow.com/q/22335544/1108305</a>"},{"owner":{"account_id":22211170,"reputation":25,"user_id":16450320,"display_name":"Exsent"},"score":1,"creation_date":1648959817,"post_id":71722937,"comment_id":126752856,"body_markdown":"It is now one question, those that had suggested","body":"It is now one question, those that had suggested"}],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648962483,"creation_date":1648961074,"answer_id":71723072,"question_id":71722937,"body_markdown":"This can be accomplished by splitting the string into a list containing the individual elements, partitioning that into groups of three, and then joining the elements in each partition back together.\r\n\r\n```lang-java\r\nString s_prices = &quot;19; 16; 20; 01; 16; 1.3; 1.6; 50; 2.0; 17&quot;;\r\n\r\n// Convert to List of strings:\r\n// [&quot;19&quot;, &quot;16&quot;, &quot;20&quot;, &quot;01&quot;, &quot;16&quot;, &quot;1.3&quot;, &quot;1.6&quot;, &quot;50&quot;, &quot;2.0&quot;, &quot;17&quot;]\r\nList&lt;String&gt; prices = Arrays.asList(s_prices.split(&quot;; &quot;));\r\n\r\n// Convert to List of 3-element lists of strings (possibly fewer for last one):\r\n// [[&quot;19&quot;, &quot;16&quot;, &quot;20&quot;], [&quot;01&quot;, &quot;16&quot;, &quot;1.3&quot;], [&quot;1.6&quot;, &quot;50&quot;, &quot;2.0&quot;], [&quot;17&quot;]]\r\nList&lt;List&lt;String&gt;&gt; partitions = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; prices.size(); i += 3) {\r\n    partitions.add(prices.subList(i, Math.min(i + 3, prices.size())));\r\n}\r\n\r\n// Convert each partition List to a comma-delimited string\r\n// [&quot;13, 16, 20&quot;, &quot;01, 16, 1.3&quot;, &quot;1.6, 50, 2.0&quot;, &quot;17&quot;]\r\nList&lt;String&gt; substrings =\r\n        partitions.stream().map(p -&gt; String.join(&quot;, &quot;, p)).toList();\r\n\r\n// Output each list element on a new line to view the results\r\nSystem.out.println(String.join(&quot;\\n&quot;, substrings));\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\n19, 16, 20\r\n01, 16, 1.3\r\n1.6, 50, 2.0\r\n17\r\n```","title":"How to split a string of delimited elements into substrings containing an equal number of elements?","body":"<p>This can be accomplished by splitting the string into a list containing the individual elements, partitioning that into groups of three, and then joining the elements in each partition back together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s_prices = &quot;19; 16; 20; 01; 16; 1.3; 1.6; 50; 2.0; 17&quot;;\n\n// Convert to List of strings:\n// [&quot;19&quot;, &quot;16&quot;, &quot;20&quot;, &quot;01&quot;, &quot;16&quot;, &quot;1.3&quot;, &quot;1.6&quot;, &quot;50&quot;, &quot;2.0&quot;, &quot;17&quot;]\nList&lt;String&gt; prices = Arrays.asList(s_prices.split(&quot;; &quot;));\n\n// Convert to List of 3-element lists of strings (possibly fewer for last one):\n// [[&quot;19&quot;, &quot;16&quot;, &quot;20&quot;], [&quot;01&quot;, &quot;16&quot;, &quot;1.3&quot;], [&quot;1.6&quot;, &quot;50&quot;, &quot;2.0&quot;], [&quot;17&quot;]]\nList&lt;List&lt;String&gt;&gt; partitions = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; prices.size(); i += 3) {\n    partitions.add(prices.subList(i, Math.min(i + 3, prices.size())));\n}\n\n// Convert each partition List to a comma-delimited string\n// [&quot;13, 16, 20&quot;, &quot;01, 16, 1.3&quot;, &quot;1.6, 50, 2.0&quot;, &quot;17&quot;]\nList&lt;String&gt; substrings =\n        partitions.stream().map(p -&gt; String.join(&quot;, &quot;, p)).toList();\n\n// Output each list element on a new line to view the results\nSystem.out.println(String.join(&quot;\\n&quot;, substrings));\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>19, 16, 20\n01, 16, 1.3\n1.6, 50, 2.0\n17\n</code></pre>\n"}],"owner":{"account_id":22211170,"reputation":25,"user_id":16450320,"display_name":"Exsent"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71723072,"answer_count":1,"score":0,"last_activity_date":1648962483,"creation_date":1648958809,"question_id":71722937,"body_markdown":"I have a very long string with prices of about 400 000 and even more..\r\n\r\n    String s_prices = &quot;19; 16; 20; 01; 16; 1.3; 1.6; 50; 2.0; 17; ...&quot;\r\n\r\nThen from this very long string, I want to cut it into multiple substrings , and each sub-string should have 3 prices, example: \r\n\r\n    19, 16, 20 \r\n\r\n    01, 16, 1.3\r\n\r\n    1.6, 50, 2.0 \r\n  \r\n    and more...\r\n\r\nHow do I create sub-strings each with three prices?\r\n","title":"How to split a string of delimited elements into substrings containing an equal number of elements?","body":"<p>I have a very long string with prices of about 400 000 and even more..</p>\n<pre><code>String s_prices = &quot;19; 16; 20; 01; 16; 1.3; 1.6; 50; 2.0; 17; ...&quot;\n</code></pre>\n<p>Then from this very long string, I want to cut it into multiple substrings , and each sub-string should have 3 prices, example:</p>\n<pre><code>19, 16, 20 \n\n01, 16, 1.3\n\n1.6, 50, 2.0 \n\nand more...\n</code></pre>\n<p>How do I create sub-strings each with three prices?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10943089,"reputation":59,"user_id":8042198,"accept_rate":80,"display_name":"Matt"},"score":0,"creation_date":1495321675,"post_id":44091610,"comment_id":75204831,"body_markdown":"the output for integer 5, prints like this: 1   1   2   3   4   5   2   2   4   6   8  10   3   3   6   9  12  15   4   4   8  12  16  20   5   5  10  15  20  25","body":"the output for integer 5, prints like this: 1   1   2   3   4   5   2   2   4   6   8  10   3   3   6   9  12  15   4   4   8  12  16  20   5   5  10  15  20  25"},{"owner":{"account_id":7710805,"reputation":13604,"user_id":6365112,"accept_rate":100,"display_name":"Yahya"},"score":1,"creation_date":1495322225,"post_id":44091610,"comment_id":75204943,"body_markdown":"Would you please explain what is the use of `i` because it overwrites the old value every time. I guess you&#39;re looking for `Array` of `ArrayList`, am I right?","body":"Would you please explain what is the use of <code>i</code> because it overwrites the old value every time. I guess you&#39;re looking for <code>Array</code> of <code>ArrayList</code>, am I right?"}],"answers":[{"tags":[],"owner":{"account_id":10922151,"reputation":1249,"user_id":8028053,"display_name":"fileyfood500"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495340434,"creation_date":1495321794,"answer_id":44091626,"question_id":44091610,"body_markdown":"After the second for loop, add a new line `\\n`:\r\n\r\n    for (int x = 1; x &lt;= i; x++) {\r\n        System.out.printf(&quot;%4d&quot;,x);\r\n        for (int y = 1; y &lt;= i; y++){\r\n            System.out.printf(&quot;%4d&quot;,x*y);\r\n        }\r\n        System.out.println();\r\n    }","title":"formatting a multiplication table with line spacing","body":"<p>After the second for loop, add a new line <code>\\n</code>:</p>\n\n<pre><code>for (int x = 1; x &lt;= i; x++) {\n    System.out.printf(\"%4d\",x);\n    for (int y = 1; y &lt;= i; y++){\n        System.out.printf(\"%4d\",x*y);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1495343885,"creation_date":1495322360,"answer_id":44091695,"question_id":44091610,"body_markdown":"You should add a newline after the second `for` loop, and since you print `x` don&#39;t print `x * 1`. So,\r\n\r\n    for (int x = 1; x &lt;= i; x++) {\r\n        System.out.printf(&quot;%4d&quot;, x);\r\n        for (int y = 2; y &lt;= i; y++) {\r\n            System.out.printf(&quot;%4d&quot;, x * y);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n**or** you could eliminate the first print like,\r\n\r\n    for (int x = 1; x &lt;= i; x++) {\r\n        for (int y = 1; y &lt;= i; y++) {\r\n            System.out.printf(&quot;%-4d&quot;, x * y); // and simply for variety, left-aligned\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n**or** if you are using Java 8+, you might use [`IntStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html) like\r\n\r\n\tIntStream.rangeClosed(1, i).forEachOrdered(x -&gt; {\r\n\t\tIntStream.rangeClosed(1, i).forEachOrdered(y -&gt; System.out.printf(\r\n\t\t\t\t\t&quot;%-4d&quot;, x * y));\r\n\t\tSystem.out.println();\r\n\t});\r\n\r\n","title":"formatting a multiplication table with line spacing","body":"<p>You should add a newline after the second <code>for</code> loop, and since you print <code>x</code> don't print <code>x * 1</code>. So,</p>\n\n<pre><code>for (int x = 1; x &lt;= i; x++) {\n    System.out.printf(\"%4d\", x);\n    for (int y = 2; y &lt;= i; y++) {\n        System.out.printf(\"%4d\", x * y);\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p><strong>or</strong> you could eliminate the first print like,</p>\n\n<pre><code>for (int x = 1; x &lt;= i; x++) {\n    for (int y = 1; y &lt;= i; y++) {\n        System.out.printf(\"%-4d\", x * y); // and simply for variety, left-aligned\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p><strong>or</strong> if you are using Java 8+, you might use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a> like</p>\n\n<pre><code>IntStream.rangeClosed(1, i).forEachOrdered(x -&gt; {\n    IntStream.rangeClosed(1, i).forEachOrdered(y -&gt; System.out.printf(\n                \"%-4d\", x * y));\n    System.out.println();\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24794880,"reputation":11,"user_id":18677667,"display_name":"VladimirTazev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648961664,"creation_date":1648961664,"answer_id":71723117,"question_id":44091610,"body_markdown":"Try the following. My screen only fits 14 numbers neatly. I make a list (it can house empty space `&#39;&#39;`) and then I start to display the list neatly using the `end=&#39;\\t&#39;` argument keyword to create tabs. \r\n\r\n    n = int(input(&#39;Enter a number(max 14): &#39;))\r\n    # n = 12\r\n    \r\n    list_x = list(range(1,n + 1))\r\n    list_y = list(range(1,n + 1))\r\n    list_z = [&#39;&#39;,] + list_x\r\n    \r\n    for y in list_y:\r\n        list_z.append(y)\r\n        for x in list_x:\r\n            x = x*y\r\n            list_z.append(x)\r\n    \r\n    count = 0\r\n    \r\n    for i in list_z:\r\n        print(i, end=&#39;\\t&#39;)\r\n        count += 1\r\n        if count == (n + 1):\r\n            count = 0\r\n            print(&#39;&#39;, end=&#39;\\n&#39;,)","title":"formatting a multiplication table with line spacing","body":"<p>Try the following. My screen only fits 14 numbers neatly. I make a list (it can house empty space <code>''</code>) and then I start to display the list neatly using the <code>end='\\t'</code> argument keyword to create tabs.</p>\n<pre><code>n = int(input('Enter a number(max 14): '))\n# n = 12\n\nlist_x = list(range(1,n + 1))\nlist_y = list(range(1,n + 1))\nlist_z = ['',] + list_x\n\nfor y in list_y:\n    list_z.append(y)\n    for x in list_x:\n        x = x*y\n        list_z.append(x)\n\ncount = 0\n\nfor i in list_z:\n    print(i, end='\\t')\n    count += 1\n    if count == (n + 1):\n        count = 0\n        print('', end='\\n',)\n</code></pre>\n"}],"owner":{"account_id":10943089,"reputation":59,"user_id":8042198,"accept_rate":80,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44091695,"answer_count":3,"score":1,"last_activity_date":1648961664,"creation_date":1495321633,"question_id":44091610,"body_markdown":"I&#39;m trying to make a multiplication table which is as big as the user specifies. The problem I&#39;m having is with the format. The output right now prints all the numbers to one line, whereas I want it all on multiple lines on a nice neat table. With it formatted as it is, I can&#39;t tell where the `\\n` would go to do so, or if there is another way.\r\n\r\nhere&#39;s my code:\r\n\r\n\r\n\r\n    import java.util.*;\r\n\r\n    public class question2 {\r\n\r\n      public static void main(String []  args) {\r\n\r\n        Scanner keyb = new Scanner(System.in);\r\n\r\n        int i = 0;\r\n\r\n        while (i&lt;=0 || i&gt;=11) {\r\n           System.out.print(&quot;please enter an integer between 1 and 10: &quot;);\r\n           i = keyb.nextInt();\r\n        }\r\n\r\n        for (int x = 1; x &lt;= i; x++) {\r\n           System.out.printf(&quot;%4d&quot;,x);\r\n           for (int y = 1; y &lt;= i; y++){\r\n              System.out.printf(&quot;%4d&quot;,x*y);\r\n           }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n**EDIT:**\r\nThe output for integer `5`, prints like this: \r\n\r\n`1 1 2 3 4 5 2 2 4 6 8 10 3 3 6 9 12 15 4 4 8 12 16 20 5 5 10 15 20 25`","title":"formatting a multiplication table with line spacing","body":"<p>I'm trying to make a multiplication table which is as big as the user specifies. The problem I'm having is with the format. The output right now prints all the numbers to one line, whereas I want it all on multiple lines on a nice neat table. With it formatted as it is, I can't tell where the <code>\\n</code> would go to do so, or if there is another way.</p>\n\n<p>here's my code:</p>\n\n<pre><code>import java.util.*;\n\npublic class question2 {\n\n  public static void main(String []  args) {\n\n    Scanner keyb = new Scanner(System.in);\n\n    int i = 0;\n\n    while (i&lt;=0 || i&gt;=11) {\n       System.out.print(\"please enter an integer between 1 and 10: \");\n       i = keyb.nextInt();\n    }\n\n    for (int x = 1; x &lt;= i; x++) {\n       System.out.printf(\"%4d\",x);\n       for (int y = 1; y &lt;= i; y++){\n          System.out.printf(\"%4d\",x*y);\n       }\n    }\n  }\n}\n</code></pre>\n\n<p><strong>EDIT:</strong>\nThe output for integer <code>5</code>, prints like this: </p>\n\n<p><code>1 1 2 3 4 5 2 2 4 6 8 10 3 3 6 9 12 15 4 4 8 12 16 20 5 5 10 15 20 25</code></p>\n"},{"tags":["java","loops","for-loop","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648961370,"creation_date":1648926506,"answer_id":71720462,"question_id":71718883,"body_markdown":"Because the figure you need to print consist of three parts, you have to spit your solution into three separate methods. So it&#39;ll be easier to test them.\r\n\r\nThe *top* and *bottom* a very similar. The simplest approach you can take is to reuse the same code for *bottom part* with only one change: the index of the outer `for` is being initialed with a max value and will get decremented at each step of iteration (*you get it right, but you&#39;ve also changed the inner `for` loop because your first block of loops is also responsible for printing the middle part*).\r\n\r\n    public static void print(int size) {\r\n        printTopPart(size);\r\n        if (size % 2 == 1) { // middle part will be printed if size is odd\r\n            printMiddlePart(size);\r\n        }\r\n        printBottomPart(size);\r\n    }\r\n\r\n    public static void printTopPart(int size) {\r\n        int height = size / 2;\r\n        for (int row = 0; row &lt; height; row++) {\r\n            // print the white space\r\n            for (int i = 0; i &lt; height - row; i++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            // print the row of numbers\r\n            for (int i = 0; i &lt; row * 2 + 1; i++) {\r\n                System.out.print(Math.abs(row - i));\r\n            }\r\n            System.out.println(); // advance the output to the next row\r\n        }\r\n    }\r\n\r\n    public static void printMiddlePart(int size) {\r\n        // print the row of numbers\r\n        for (int i = 0; i &lt; size; i++) {\r\n            System.out.print(Math.abs(size / 2 - i));\r\n        }\r\n        System.out.println(); // advance the output to the next row\r\n    }\r\n\r\n    public static void printBottomPart(int size) {\r\n        int height = size / 2;\r\n        for (int row = height - 1; row &gt;= 0; row--) {\r\n            // print the white space\r\n            for (int i = 0; i &lt; height - row; i++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            // print the row of numbers\r\n            for (int i = 0; i &lt; row * 2 + 1; i++) {\r\n                System.out.print(Math.abs(row - i));\r\n            }\r\n            System.out.println(); // advance the output to the next row\r\n        }\r\n    }\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        print(7);\r\n    }\r\n\r\n**Output**\r\n```\r\n   0\r\n  101\r\n 21012\r\n3210123\r\n 21012\r\n  101\r\n   0\r\n```","title":"Pattern-printing program - Unable to print the mirrored part in reverse order","body":"<p>Because the figure you need to print consist of three parts, you have to spit your solution into three separate methods. So it'll be easier to test them.</p>\n<p>The <em>top</em> and <em>bottom</em> a very similar. The simplest approach you can take is to reuse the same code for <em>bottom part</em> with only one change: the index of the outer <code>for</code> is being initialed with a max value and will get decremented at each step of iteration (<em>you get it right, but you've also changed the inner <code>for</code> loop because your first block of loops is also responsible for printing the middle part</em>).</p>\n<pre><code>public static void print(int size) {\n    printTopPart(size);\n    if (size % 2 == 1) { // middle part will be printed if size is odd\n        printMiddlePart(size);\n    }\n    printBottomPart(size);\n}\n\npublic static void printTopPart(int size) {\n    int height = size / 2;\n    for (int row = 0; row &lt; height; row++) {\n        // print the white space\n        for (int i = 0; i &lt; height - row; i++) {\n            System.out.print(&quot; &quot;);\n        }\n        // print the row of numbers\n        for (int i = 0; i &lt; row * 2 + 1; i++) {\n            System.out.print(Math.abs(row - i));\n        }\n        System.out.println(); // advance the output to the next row\n    }\n}\n\npublic static void printMiddlePart(int size) {\n    // print the row of numbers\n    for (int i = 0; i &lt; size; i++) {\n        System.out.print(Math.abs(size / 2 - i));\n    }\n    System.out.println(); // advance the output to the next row\n}\n\npublic static void printBottomPart(int size) {\n    int height = size / 2;\n    for (int row = height - 1; row &gt;= 0; row--) {\n        // print the white space\n        for (int i = 0; i &lt; height - row; i++) {\n            System.out.print(&quot; &quot;);\n        }\n        // print the row of numbers\n        for (int i = 0; i &lt; row * 2 + 1; i++) {\n            System.out.print(Math.abs(row - i));\n        }\n        System.out.println(); // advance the output to the next row\n    }\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    print(7);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>   0\n  101\n 21012\n3210123\n 21012\n  101\n   0\n</code></pre>\n"}],"owner":{"account_id":22431405,"reputation":83,"user_id":16637183,"display_name":"CHANDRU R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71720462,"answer_count":1,"score":0,"last_activity_date":1648961370,"creation_date":1648913449,"question_id":71718883,"body_markdown":"I am trying to create a pattern printing program. \r\n\r\nI&#39;m not able to print my pattern in reverse order. I know there&#39;s some logical error in the second `for` loop, but I can&#39;t identify it.\r\n        \r\n        public class test {\r\n          public static void main(String[] args) {\r\n            int num = 7;\r\n            int temp1 = 1;\r\n            int temp2 = 1;\r\n            for (int i = 1; i &lt;= num / 2; i++) {\r\n              for (int j = 1; j &lt;= num - i; j++) {\r\n                System.out.print(&quot; &quot;);\r\n              }\r\n              for (int k = 1; k &lt;= temp1; k++) {\r\n                System.out.print(Math.abs(k - temp2));\r\n              }\r\n              temp1 += 2;\r\n              temp2++;\r\n              System.out.println();\r\n            }\r\n            temp1 = 1;\r\n            temp2 = 1;\r\n            for (int i = num - (num / 2); i &gt;= 1; i--) {\r\n              for (int j = 1; j &lt;= num - i; j++) {\r\n                System.out.print(&quot; &quot;);\r\n              }\r\n              for (int k = temp1; k &gt;= 1; k--) {\r\n                System.out.print(Math.abs(k - temp2));\r\n              }\r\n              temp1 += 2;\r\n              temp2++;\r\n              System.out.println();\r\n            }\r\n          }\r\n        }\r\n\r\nProgram output:\r\n\r\n          0   \r\n         101  \r\n        21012 \r\n       0      \r\n        101   \r\n         21012\r\n          3210123\r\n\r\nExpected output:\r\n\r\n          0   \r\n         101  \r\n        21012 \r\n       3210123\r\n        21012\r\n         101\r\n          0","title":"Pattern-printing program - Unable to print the mirrored part in reverse order","body":"<p>I am trying to create a pattern printing program.</p>\n<p>I'm not able to print my pattern in reverse order. I know there's some logical error in the second <code>for</code> loop, but I can't identify it.</p>\n<pre><code>    public class test {\n      public static void main(String[] args) {\n        int num = 7;\n        int temp1 = 1;\n        int temp2 = 1;\n        for (int i = 1; i &lt;= num / 2; i++) {\n          for (int j = 1; j &lt;= num - i; j++) {\n            System.out.print(&quot; &quot;);\n          }\n          for (int k = 1; k &lt;= temp1; k++) {\n            System.out.print(Math.abs(k - temp2));\n          }\n          temp1 += 2;\n          temp2++;\n          System.out.println();\n        }\n        temp1 = 1;\n        temp2 = 1;\n        for (int i = num - (num / 2); i &gt;= 1; i--) {\n          for (int j = 1; j &lt;= num - i; j++) {\n            System.out.print(&quot; &quot;);\n          }\n          for (int k = temp1; k &gt;= 1; k--) {\n            System.out.print(Math.abs(k - temp2));\n          }\n          temp1 += 2;\n          temp2++;\n          System.out.println();\n        }\n      }\n    }\n</code></pre>\n<p>Program output:</p>\n<pre><code>      0   \n     101  \n    21012 \n   0      \n    101   \n     21012\n      3210123\n</code></pre>\n<p>Expected output:</p>\n<pre><code>      0   \n     101  \n    21012 \n   3210123\n    21012\n     101\n      0\n</code></pre>\n"},{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1648958378,"post_id":71722866,"comment_id":126752693,"body_markdown":"Have a look at your `for` loop.  You&#39;re asking six times for the user to enter the password, but you&#39;re never checking what they type.  That would be a good place for you to start looking for your problem.","body":"Have a look at your <code>for</code> loop.  You&#39;re asking six times for the user to enter the password, but you&#39;re never checking what they type.  That would be a good place for you to start looking for your problem."}],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648958823,"creation_date":1648958823,"answer_id":71722939,"question_id":71722866,"body_markdown":"Once you entered the wrong password, code flow stuck in the for loop and remain there for available iterations, no comparison with entered password is going on there so you need to modify the flow. One way to do so as per your initial code posted is\r\n\r\n    public static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot;Tell us the Password&quot;);\r\n    \t\tint tryCountForFailure = 6;\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\tString password = scanner.nextLine();\r\n    \t\t\tif (password.equalsIgnoreCase(&quot;Happy&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Correct password&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Incorrect password &quot;);\r\n    \t\t\t\tSystem.out.println(tryCountForFailure + &quot; Trys left&quot;);\r\n    \t\t\t\ttryCountForFailure--;\r\n    \t\t\t\tif (tryCountForFailure == 0) {\r\n    \t\t\t\t\tSystem.out.println(&quot;No more trys&quot;);\r\n    \t\t\t\t\tSystem.out.println(&quot;Program exits&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tscanner.close();\r\n    \t}\r\n\r\n\r\n","title":"Simple Password Check","body":"<p>Once you entered the wrong password, code flow stuck in the for loop and remain there for available iterations, no comparison with entered password is going on there so you need to modify the flow. One way to do so as per your initial code posted is</p>\n<pre><code>public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Tell us the Password&quot;);\n        int tryCountForFailure = 6;\n\n        while (true) {\n            String password = scanner.nextLine();\n            if (password.equalsIgnoreCase(&quot;Happy&quot;)) {\n                System.out.println(&quot;Correct password&quot;);\n                break;\n            } else {\n                System.out.println(&quot;Incorrect password &quot;);\n                System.out.println(tryCountForFailure + &quot; Trys left&quot;);\n                tryCountForFailure--;\n                if (tryCountForFailure == 0) {\n                    System.out.println(&quot;No more trys&quot;);\n                    System.out.println(&quot;Program exits&quot;);\n                    break;\n                }\n            }\n        }\n        scanner.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22184586,"reputation":31,"user_id":16427721,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648961286,"creation_date":1648961286,"answer_id":71723090,"question_id":71722866,"body_markdown":"In your code, the loop gets stuck in the Else statement. Let&#39;s run through the logic. \r\n\r\n1. The program asks for the password and stores it in a password String.\r\n2. The program check&#39;s if that password is right, if it is the program stops and if not it continues to the else statement. \r\n3. The program uses a for statement to run this block of code 6 times:\r\n\r\n    ```\r\n        System.out.println(&quot;Incorrect password &quot;);\r\n    \tSystem.out.println(+ i + &quot; Trys left&quot;);\r\n    \tpassword = scanner.nextLine();\r\nThe problem is even if you enter a correct String for the password field, it never checks if that value is correct. You would be better of refactoring your code so the logic is sound. Let&#39;s run through what should happen. \r\n\r\n1. Program defines a variable named `count` and set&#39;s it to 0.\r\n2. The program uses a while loop to ask if count is less than 6.\r\n3. The program takes in a password String with a scanner. \r\n4. The program checks if that password String is equal to the correct password, if yes, it breaks and,\r\n5. If it does not equal the correct password it adds one to `count`\r\n\r\n```\r\n     Scanner scanner = new Scanner(System.in); \r\n     System.out.println(&quot;Tell us the Password&quot;); \r\n\t String password = scanner.nextLine(); \r\n\t\tif (password.equalsIgnoreCase(&quot;Happy&quot;)) { \r\n\t\t        System.out.println(&quot;Correct password&quot;); \r\n\t\t        break; \r\n\t\t    } else { \r\n\t\t        count++ \r\n\t\t        }\r\n\t\t   }  ","title":"Simple Password Check","body":"<p>In your code, the loop gets stuck in the Else statement. Let's run through the logic.</p>\n<ol>\n<li><p>The program asks for the password and stores it in a password String.</p>\n</li>\n<li><p>The program check's if that password is right, if it is the program stops and if not it continues to the else statement.</p>\n</li>\n<li><p>The program uses a for statement to run this block of code 6 times:</p>\n<pre><code>    System.out.println(&quot;Incorrect password &quot;);\n    System.out.println(+ i + &quot; Trys left&quot;);\n    password = scanner.nextLine();\n</code></pre>\n</li>\n</ol>\n<p>The problem is even if you enter a correct String for the password field, it never checks if that value is correct. You would be better of refactoring your code so the logic is sound. Let's run through what should happen.</p>\n<ol>\n<li>Program defines a variable named <code>count</code> and set's it to 0.</li>\n<li>The program uses a while loop to ask if count is less than 6.</li>\n<li>The program takes in a password String with a scanner.</li>\n<li>The program checks if that password String is equal to the correct password, if yes, it breaks and,</li>\n<li>If it does not equal the correct password it adds one to <code>count</code></li>\n</ol>\n<pre><code>     Scanner scanner = new Scanner(System.in); \n     System.out.println(&quot;Tell us the Password&quot;); \n     String password = scanner.nextLine(); \n        if (password.equalsIgnoreCase(&quot;Happy&quot;)) { \n                System.out.println(&quot;Correct password&quot;); \n                break; \n            } else { \n                count++ \n                }\n           }  \n</code></pre>\n"}],"owner":{"account_id":24806148,"reputation":3,"user_id":18688143,"display_name":"Altuism"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71722939,"answer_count":2,"score":0,"last_activity_date":1648961286,"creation_date":1648957816,"question_id":71722866,"body_markdown":"Just beginning to learn java and I am trying to code a simple password check that gives you tries if you type the incorrect password. The problem is when I type the incorrect password and followed by the correct password it still says its the wrong password.\r\n\r\n    public static void main(String[] args) {\r\n    \tScanner scanner = new Scanner(System.in);\r\n    \tSystem.out.println(&quot;Tell us the Password&quot;);\r\n    \twhile(true) {\r\n            String password = scanner.nextLine();\r\n            if (password.equalsIgnoreCase(&quot;Happy&quot;)) {\r\n                System.out.println(&quot;Correct password&quot;);\r\n                break;\r\n            }\r\n            else {\r\n                for (int i =6; i&gt;0;i--) {\r\n                    System.out.println(&quot;Incorrect password &quot;);\r\n                    System.out.println(+ i + &quot; Trys left&quot;);\r\n                    password= scanner.nextLine();\r\n                }\r\n            }\r\n            System.out.println(&quot;No more tries&quot;);\r\n   \t\t\tSystem.out.println(&quot;Program exits&quot;);\r\n   \t\t\tbreak;\r\n   \t\t}\r\n    }\r\n\r\nI want the program to check if the password is correct or incorrect.\r\n","title":"Simple Password Check","body":"<p>Just beginning to learn java and I am trying to code a simple password check that gives you tries if you type the incorrect password. The problem is when I type the incorrect password and followed by the correct password it still says its the wrong password.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Tell us the Password&quot;);\n    while(true) {\n        String password = scanner.nextLine();\n        if (password.equalsIgnoreCase(&quot;Happy&quot;)) {\n            System.out.println(&quot;Correct password&quot;);\n            break;\n        }\n        else {\n            for (int i =6; i&gt;0;i--) {\n                System.out.println(&quot;Incorrect password &quot;);\n                System.out.println(+ i + &quot; Trys left&quot;);\n                password= scanner.nextLine();\n            }\n        }\n        System.out.println(&quot;No more tries&quot;);\n        System.out.println(&quot;Program exits&quot;);\n        break;\n    }\n}\n</code></pre>\n<p>I want the program to check if the password is correct or incorrect.</p>\n"},{"tags":["java","c#","regex","testing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1648900712,"post_id":71717226,"comment_id":126743330,"body_markdown":"*accepting only numeric values or values whit two digits after the dot.* Why, in that case, is *23.1 =&gt; ok*? That only has *one* digit","body":"<i>accepting only numeric values or values whit two digits after the dot.</i> Why, in that case, is <i>23.1 =&gt; ok</i>? That only has <i>one</i> digit"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1648901093,"post_id":71717226,"comment_id":126743398,"body_markdown":"If your description is correct, the simple `&quot;\\\\d+(\\\\.\\\\d{2})?&quot;` will do it for you","body":"If your description is correct, the simple <code>&quot;\\\\d+(\\\\.\\\\d{2})?&quot;</code> will do it for you"},{"owner":{"account_id":16884689,"reputation":9,"user_id":12209802,"display_name":"Dr.Sun"},"score":0,"creation_date":1648902049,"post_id":71717226,"comment_id":126743556,"body_markdown":"@g00se\ncorrection: 1 to max 2 digits after the dot.","body":"@g00se correction: 1 to max 2 digits after the dot."},{"owner":{"account_id":16884689,"reputation":9,"user_id":12209802,"display_name":"Dr.Sun"},"score":0,"creation_date":1648902462,"post_id":71717226,"comment_id":126743631,"body_markdown":"@g00se - by the way. I&#39;m still getting an System.FormatExeption. \nInput String was not in a correct format...","body":"@g00se - by the way. I&#39;m still getting an System.FormatExeption.  Input String was not in a correct format..."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1648902612,"post_id":71717226,"comment_id":126743659,"body_markdown":"&quot;*For some reason you can enter everything after the dot.*&quot; reason is `[^\\\\,]`. Note that `[^...]` is negated character class and it matches all characters *except those which are specified in it*. In other worlds `[^\\\\,]` represents *any single character except `,`* (``\\\\`` is considered as escaping which is unnecessary for `,` and ignored).","body":"&quot;<i>For some reason you can enter everything after the dot.</i>&quot; reason is <code>[^\\\\,]</code>. Note that <code>[^...]</code> is negated character class and it matches all characters <i>except those which are specified in it</i>. In other worlds <code>[^\\\\,]</code> represents <i>any single character except <code>,</code></i> (<code>\\\\</code> is considered as escaping which is unnecessary for <code>,</code> and ignored)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1648902619,"post_id":71717226,"comment_id":126743663,"body_markdown":"That&#39;s another problem entirely and probably should be posted separately","body":"That&#39;s another problem entirely and probably should be posted separately"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1648903543,"post_id":71717226,"comment_id":126743818,"body_markdown":"BTW dot `.` inside character `[...]` is ***not*** metacharacter (it has no special meaning) so there is no need to escape it. Instead of `[\\\\.]` you can/should write `[.]`. Same about comma, which is only &quot;special&quot; inside quantifiers like `{min,}` and `{min,max}`. Outside of them it represents only itself. So `[^\\\\,]` is same as `[^,]` (but more confusing because of unnecessary ``\\\\``).","body":"BTW dot <code>.</code> inside character <code>[...]</code> is <b><i>not</i></b> metacharacter (it has no special meaning) so there is no need to escape it. Instead of <code>[\\\\.]</code> you can/should write <code>[.]</code>. Same about comma, which is only &quot;special&quot; inside quantifiers like <code>{min,}</code> and <code>{min,max}</code>. Outside of them it represents only itself. So <code>[^\\\\,]</code> is same as <code>[^,]</code> (but more confusing because of unnecessary <code>\\\\</code>)."},{"owner":{"account_id":16884689,"reputation":9,"user_id":12209802,"display_name":"Dr.Sun"},"score":0,"creation_date":1648907896,"post_id":71717226,"comment_id":126744715,"body_markdown":"@Pshemo - great great feedback. 1000 thanks to you. made my weekend.... ;-)","body":"@Pshemo - great great feedback. 1000 thanks to you. made my weekend.... ;-)"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648902572,"creation_date":1648902572,"answer_id":71717533,"question_id":71717226,"body_markdown":"    &quot;\\\\d+(\\\\.\\\\d{1,2})?&quot;\r\n\r\nallows for one or two digits after a decimal point or only an integral number ","title":"RegEx Pattern - accepting what shouldn&#39;t be accepted","body":"<pre><code>&quot;\\\\d+(\\\\.\\\\d{1,2})?&quot;\n</code></pre>\n<p>allows for one or two digits after a decimal point or only an integral number</p>\n"},{"tags":[],"owner":{"account_id":9135182,"reputation":255,"user_id":6795125,"display_name":"Deepak Koshy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648959762,"creation_date":1648915040,"answer_id":71719079,"question_id":71717226,"body_markdown":"    var pattern = @&quot;^\\d+$|^\\d+\\.\\d{1,2}$&quot;\r\nPlease check this pattern also. Note that it is C# verbatim string (string constants that starts with @ to escape all special characters). The generated output matches with your test.\r\n   \r\n    23. =&gt;  False\r\n    23 =&gt;  True\r\n    23.1 =&gt;  True\r\n    23.02 =&gt;  True\r\n    0. =&gt;  False\r\n    .0 =&gt;  False\r\n    0, =&gt;  False\r\n    ,0 =&gt;  False\r\n    23, =&gt;  False\r\n    23,1 =&gt;  False\r\n    0,0 =&gt;  False\r\n\r\n","title":"RegEx Pattern - accepting what shouldn&#39;t be accepted","body":"<pre><code>var pattern = @&quot;^\\d+$|^\\d+\\.\\d{1,2}$&quot;\n</code></pre>\n<p>Please check this pattern also. Note that it is C# verbatim string (string constants that starts with @ to escape all special characters). The generated output matches with your test.</p>\n<pre><code>23. =&gt;  False\n23 =&gt;  True\n23.1 =&gt;  True\n23.02 =&gt;  True\n0. =&gt;  False\n.0 =&gt;  False\n0, =&gt;  False\n,0 =&gt;  False\n23, =&gt;  False\n23,1 =&gt;  False\n0,0 =&gt;  False\n</code></pre>\n"}],"owner":{"account_id":16884689,"reputation":9,"user_id":12209802,"display_name":"Dr.Sun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1648959762,"creation_date":1648899728,"question_id":71717226,"body_markdown":"I know the Title &quot;regex pattern does not work&quot; links to many existing question within Stackoverflow. But I did not find a solution for my issue.\r\n\r\nI currently work with the following pattern:\r\n\r\n\r\n    ^[0-9]$|^[0-9]+[\\\\.][^\\\\,][0-9]*$\r\n\r\n\r\nso far so good a friend of mine started explorative testing. We found out that entering the value: 23.a would be accepted. And that should not be the case!\r\n\r\nFor some reason you can enter everything after the dot. as soon as you enter 23.aa or 23.!a or what ever regex works again.\r\n\r\nSo in short:\r\nUser can enter value 23.a\r\nUser can&#39;t enter 23.aa\r\n\r\nit is strange and I don&#39;t understand what&#39;s wrong. \r\n\r\nthanks for helping.\r\n\r\np.s.\r\nRequirement of my regex: \r\n\r\naccepting only numeric values or values whit two digits after the dot. no commas or other characters allowed.\r\n\r\n    23 =&gt; 0k\r\n    23.1 =&gt; ok\r\n    23.02 =&gt;\r\n    0. = nok\r\n    .0 = nok\r\n    0, = nok\r\n    ,0 = nok\r\n\r\netc...","title":"RegEx Pattern - accepting what shouldn&#39;t be accepted","body":"<p>I know the Title &quot;regex pattern does not work&quot; links to many existing question within Stackoverflow. But I did not find a solution for my issue.</p>\n<p>I currently work with the following pattern:</p>\n<pre><code>^[0-9]$|^[0-9]+[\\\\.][^\\\\,][0-9]*$\n</code></pre>\n<p>so far so good a friend of mine started explorative testing. We found out that entering the value: 23.a would be accepted. And that should not be the case!</p>\n<p>For some reason you can enter everything after the dot. as soon as you enter 23.aa or 23.!a or what ever regex works again.</p>\n<p>So in short:\nUser can enter value 23.a\nUser can't enter 23.aa</p>\n<p>it is strange and I don't understand what's wrong.</p>\n<p>thanks for helping.</p>\n<p>p.s.\nRequirement of my regex:</p>\n<p>accepting only numeric values or values whit two digits after the dot. no commas or other characters allowed.</p>\n<pre><code>23 =&gt; 0k\n23.1 =&gt; ok\n23.02 =&gt;\n0. = nok\n.0 = nok\n0, = nok\n,0 = nok\n</code></pre>\n<p>etc...</p>\n"},{"tags":["java","eclipse","web-applications"],"comments":[{"owner":{"account_id":207849,"reputation":42971,"user_id":457982,"accept_rate":95,"display_name":"Vikas Patidar"},"score":1,"creation_date":1298037963,"post_id":5041975,"comment_id":5641784,"body_markdown":"There is nothing like this but do you really want such feature in your eclipse?","body":"There is nothing like this but do you really want such feature in your eclipse?"},{"owner":{"account_id":214500,"reputation":10290,"user_id":468508,"accept_rate":96,"display_name":"bluefoot"},"score":4,"creation_date":1298038144,"post_id":5041975,"comment_id":5641828,"body_markdown":"I sure do. Every time it opens a new tab in the browser, but sometimes I just want to keep working on my current tab.","body":"I sure do. Every time it opens a new tab in the browser, but sometimes I just want to keep working on my current tab."}],"answers":[{"tags":[],"owner":{"account_id":287953,"reputation":3186,"user_id":588077,"accept_rate":86,"display_name":"Eduard"},"down_vote_count":4,"up_vote_count":16,"is_accepted":true,"score":12,"last_activity_date":1438069552,"creation_date":1298036856,"answer_id":5042036,"question_id":5041975,"body_markdown":"No there is not. The way to do this is not click on the apllication and run as, but to click on your server and launch it(and deploy your application). Then you will get rid of browser opening.","title":"Is there a way to prevent Eclipse from opening the browser when starting a Web application?","body":"<p>No there is not. The way to do this is not click on the apllication and run as, but to click on your server and launch it(and deploy your application). Then you will get rid of browser opening.</p>\n"},{"tags":[],"owner":{"account_id":230303,"reputation":14381,"user_id":493823,"display_name":"fmucar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1298037428,"creation_date":1298037428,"answer_id":5042142,"question_id":5041975,"body_markdown":"If you run the server from the server view it won&#39;t open the browser. ","title":"Is there a way to prevent Eclipse from opening the browser when starting a Web application?","body":"<p>If you run the server from the server view it won't open the browser. </p>\n"},{"tags":[],"owner":{"account_id":489876,"reputation":871,"user_id":2501586,"display_name":"Jonathan Barber"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1574433266,"creation_date":1371652174,"answer_id":17193998,"question_id":5041975,"body_markdown":"On Eclipse Juno through Oxygen, change the preferences (Window-&gt;Preferences-&gt;General-&gt;Web Browser) to add a new external web browser and set it&#39;s location as &quot;`/bin/true`&quot; (under UNIX), &quot;`/usr/bin/true`&quot; (under Mac OS Yosemite through Mojave), or &quot;`C:\\Windows\\System32\\cmd.exe`&quot; with parameter &quot;`/c`&quot; (under Windows). Then set this as the default browser.\r\n\r\nAfter this, whenever you &quot;Run on server&quot;, Eclipse will spawn this command  (which immediately succeeds) instead of touching your browser.\r\n\r\nThis isn&#39;t a per-project setting though.","title":"Is there a way to prevent Eclipse from opening the browser when starting a Web application?","body":"<p>On Eclipse Juno through Oxygen, change the preferences (Window->Preferences->General->Web Browser) to add a new external web browser and set it's location as \"<code>/bin/true</code>\" (under UNIX), \"<code>/usr/bin/true</code>\" (under Mac OS Yosemite through Mojave), or \"<code>C:\\Windows\\System32\\cmd.exe</code>\" with parameter \"<code>/c</code>\" (under Windows). Then set this as the default browser.</p>\n\n<p>After this, whenever you \"Run on server\", Eclipse will spawn this command  (which immediately succeeds) instead of touching your browser.</p>\n\n<p>This isn't a per-project setting though.</p>\n"},{"tags":[],"owner":{"account_id":3277434,"reputation":800,"user_id":2759005,"accept_rate":78,"display_name":"WoutVanAertTheBest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400056782,"creation_date":1400056782,"answer_id":23649611,"question_id":5041975,"body_markdown":"I was wondering the same question\r\n\r\nInstead of clicking the run button ![enter image description here][1]\r\n\r\ntry press Relaunch ![Relaunch][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oDTjQ.png\r\n  [2]: http://i.stack.imgur.com/hFLoK.png\r\n\r\n(I&#39;m on STS)","title":"Is there a way to prevent Eclipse from opening the browser when starting a Web application?","body":"<p>I was wondering the same question</p>\n\n<p>Instead of clicking the run button <img src=\"https://i.stack.imgur.com/oDTjQ.png\" alt=\"enter image description here\"></p>\n\n<p>try press Relaunch <img src=\"https://i.stack.imgur.com/hFLoK.png\" alt=\"Relaunch\"></p>\n\n<p>(I'm on STS)</p>\n"},{"tags":[],"owner":{"account_id":7440713,"reputation":19,"user_id":5658574,"display_name":"Rahul Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462368132,"creation_date":1462368132,"answer_id":37029097,"question_id":5041975,"body_markdown":"You should try this: \r\n    \r\nIn MyEclipse, change the preferences (Window-&gt;Preferences-&gt;General-&gt;Web Browser) check radio button (use external web browser) and click on new to add a new external web browser and set it&#39;s location of your browser and enter name (as your choice), then click on ok.","title":"Is there a way to prevent Eclipse from opening the browser when starting a Web application?","body":"<p>You should try this: </p>\n\n<p>In MyEclipse, change the preferences (Window->Preferences->General->Web Browser) check radio button (use external web browser) and click on new to add a new external web browser and set it's location of your browser and enter name (as your choice), then click on ok.</p>\n"},{"tags":[],"owner":{"account_id":17584713,"reputation":340,"user_id":12757709,"display_name":"Vector-Hector"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579888409,"creation_date":1579888409,"answer_id":59901465,"question_id":5041975,"body_markdown":"Just fixed this issue for me. You should do the following:\r\nCreate a file null.bat that contains something like &quot;@echo off&quot;. It doesn&#39;t really matter where you put it. \r\n\r\nGo to Eclipse=&gt;Preferences=&gt;General=&gt;Web Browser, check &quot;Use external web browser&quot;. Create a new external Web broswer.\r\nName it something and\r\npoint the Location to where you stored your null.bat\r\n\r\nThat way Eclipse runs your null.bat and does nothing :)","title":"Is there a way to prevent Eclipse from opening the browser when starting a Web application?","body":"<p>Just fixed this issue for me. You should do the following:\nCreate a file null.bat that contains something like \"@echo off\". It doesn't really matter where you put it. </p>\n\n<p>Go to Eclipse=>Preferences=>General=>Web Browser, check \"Use external web browser\". Create a new external Web broswer.\nName it something and\npoint the Location to where you stored your null.bat</p>\n\n<p>That way Eclipse runs your null.bat and does nothing :)</p>\n"},{"tags":[],"owner":{"account_id":23019663,"reputation":9,"user_id":17140876,"display_name":"BeBlack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648955994,"creation_date":1648955994,"answer_id":71722742,"question_id":5041975,"body_markdown":"In latest version of Eclipse 2022-03 or later \r\nSimply Click on Window---&gt;Web Browser---&gt;Internal Web Browser.\r\nYou can select other browser too as per your wish.","title":"Is there a way to prevent Eclipse from opening the browser when starting a Web application?","body":"<p>In latest version of Eclipse 2022-03 or later\nSimply Click on Window---&gt;Web Browser---&gt;Internal Web Browser.\nYou can select other browser too as per your wish.</p>\n"}],"owner":{"account_id":214500,"reputation":10290,"user_id":468508,"accept_rate":96,"display_name":"bluefoot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16070,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":5042036,"answer_count":7,"score":29,"last_activity_date":1648955994,"creation_date":1298036499,"question_id":5041975,"body_markdown":"Ahoy!\r\n\r\nI was wondering if there&#39;s a way to configure eclipse not to open the browser (internal or external, doesn&#39;t matter) when the user selects Run As &gt; Run or server in a specific (or any) web project.\r\n\r\nCouldn&#39;t find that option...","title":"Is there a way to prevent Eclipse from opening the browser when starting a Web application?","body":"<p>Ahoy!</p>\n\n<p>I was wondering if there's a way to configure eclipse not to open the browser (internal or external, doesn't matter) when the user selects Run As > Run or server in a specific (or any) web project.</p>\n\n<p>Couldn't find that option...</p>\n"},{"tags":["java","windows","maven","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1648955852,"post_id":71722704,"comment_id":126752439,"body_markdown":"How are you running it?","body":"How are you running it?"},{"owner":{"account_id":12609078,"reputation":19,"user_id":9168923,"display_name":"shubham sharma"},"score":0,"creation_date":1648956113,"post_id":71722704,"comment_id":126752466,"body_markdown":"I am running it by testng.xml file &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot;&gt;\n  &lt;test thread-count=&quot;5&quot; name=&quot;Test&quot;&gt;\n    &lt;classes&gt;\n     \n      &lt;class name=&quot;com.Automation.Test.VerifyFlightClickTest&quot;/&gt;\n      &lt;class name=&quot;com.Automation.Test.VerifyFlightBook&quot;/&gt;\n    \n    &lt;/classes&gt;\n  &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;","body":"I am running it by testng.xml file &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE suite SYSTEM &quot;<a href=\"https://testng.org/testng-1.0.dtd\" rel=\"nofollow noreferrer\">testng.org/testng-1.0.dtd</a>&quot;&gt; &lt;suite name=&quot;Suite&quot;&gt;   &lt;test thread-count=&quot;5&quot; name=&quot;Test&quot;&gt;     &lt;classes&gt;             &lt;class name=&quot;com.Automation.Test.VerifyFlightClickTest&quot;/&gt;       &lt;class name=&quot;com.Automation.Test.VerifyFlightBook&quot;/&gt;          &lt;/classes&gt;   &lt;/test&gt; &lt;!-- Test --&gt; &lt;/suite&gt; &lt;!-- Suite --&gt;"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1648956598,"post_id":71722704,"comment_id":126752514,"body_markdown":"I can&#39;t see where you&#39;ve specified which URL to go to for the second test. Were you expecting it to use the same browser window as the first test?","body":"I can&#39;t see where you&#39;ve specified which URL to go to for the second test. Were you expecting it to use the same browser window as the first test?"},{"owner":{"account_id":12609078,"reputation":19,"user_id":9168923,"display_name":"shubham sharma"},"score":0,"creation_date":1648957631,"post_id":71722704,"comment_id":126752620,"body_markdown":"yes! I am expecting that first it open the URL and then click on the flight button and then as written in the second test case in the same windows it will do some action with the help of the second test case in the search flight windows type the destination and departing city name select the date and click on search flight. but after executing the first test case it remains the same","body":"yes! I am expecting that first it open the URL and then click on the flight button and then as written in the second test case in the same windows it will do some action with the help of the second test case in the search flight windows type the destination and departing city name select the date and click on search flight. but after executing the first test case it remains the same"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1648958240,"post_id":71722704,"comment_id":126752674,"body_markdown":"TestNG generally makes no guarantees about the order tests will run, or that they&#39;ll even run in the same thread.  You can&#39;t expect any information to be passed from one test to another - that is, the two tests will generally run completely independently of each other.  If you have dependent test steps like this, I would recommend coding them into the same test method.","body":"TestNG generally makes no guarantees about the order tests will run, or that they&#39;ll even run in the same thread.  You can&#39;t expect any information to be passed from one test to another - that is, the two tests will generally run completely independently of each other.  If you have dependent test steps like this, I would recommend coding them into the same test method."},{"owner":{"account_id":12609078,"reputation":19,"user_id":9168923,"display_name":"shubham sharma"},"score":0,"creation_date":1648958364,"post_id":71722704,"comment_id":126752688,"body_markdown":"ok Dawood ibn Kareem\n :)","body":"ok Dawood ibn Kareem  :)"}],"owner":{"account_id":12609078,"reputation":19,"user_id":9168923,"display_name":"shubham sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648955443,"creation_date":1648955443,"question_id":71722704,"body_markdown":"I am trying to automate Justdial.com with the TestNG Maven project. My first test case &quot;VerifyFlightClickTest&quot; is working fine it is clicking on the Flight option by justdial the home page. \r\nAfter that, I created a new class for my second test searching the flight for my input(e.g - New Delhi to Jaipur on 04-April-2022).\r\nthe test case name is &quot;Validation_Flight_Booking&quot; and the class name is &quot;VerifyFlightBook&quot;.\r\nhelp me to find out what I am doing wrong \r\n\r\nonly one test is pass \r\n\r\n------- This code is for driver location ------\r\n\r\n```\r\npackage com.Automation.GenericUtils;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n\r\npublic class DriverUtils {\r\n\t\r\n\t\tstatic WebDriver driver;\r\n\t\t\r\n\t\tpublic static void createDriver()\r\n\t\t{\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\ss49655\\\\eclipse-workspace\\\\JustDial_Shubham\\\\Driver\\\\chromedriver.exe&quot;);\r\n\t\t\t\r\n\t\t\tChromeOptions option = new ChromeOptions();\r\n\t\t\toption.addArguments(&quot;start-maximized&quot;);\r\n\t\t\toption.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\r\n\t\t\toption.addArguments(&quot;--disable-notifications&quot;);// Disabling any notifications\r\n\t\t\tdriver=new ChromeDriver(option);\r\n\t\t\tdriver.manage().window().maximize();\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic static WebDriver getDriver()\r\n\t\t{\r\n\t\t\tif(driver== null) {\r\n\t\t\tcreateDriver();\r\n\t\t\t}\r\n\t\t\treturn driver;\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\n------- This code is for Base page ----\r\n\r\n```\r\npackage com.Automation.Pages;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.support.PageFactory;\r\n\r\nimport com.Automation.GenericUtils.DriverUtils;\r\n\r\npublic class BasePage {\r\n\t WebDriver driver;\r\n\r\n\tpublic BasePage()\r\n\t{\r\n\t\tdriver=DriverUtils.getDriver();\r\n\t\tPageFactory.initElements(driver,this);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n----- This code is for Home page (JustDial home page)------\r\n\r\n```\r\npackage com.Automation.Pages;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.FindBy;\r\n\r\npublic class HomePage extends BasePage{\r\n\r\n\t@FindBy(xpath=&quot;//*[@id=\\&quot;hotkeys_text_25\\&quot;]&quot;)\r\n\tprivate WebElement KeyClick;\r\n\t\r\n\tpublic void clickOnFlights() {\r\n\t\tKeyClick.click();\r\n\t}\r\n}\r\n```\r\n\r\n-------- this code is for base test---\r\n\r\n```\r\npackage com.Automation.Test;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.testng.annotations.AfterMethod;\r\nimport org.testng.annotations.BeforeMethod;\r\n\r\n\r\npublic class BaseTest {\r\n\tWebDriver driver;\r\n\t\r\n\t@BeforeMethod\r\n\t\r\n\tpublic void setUp() throws FileNotFoundException, IOException\r\n\t{\r\n\t\tcom.Automation.GenericUtils.DriverUtils.createDriver();\r\n\t\t\r\n}\r\n\t/*@AfterMethod\r\n\tpublic void Close()\r\n\t{\r\n\t\tdriver.quit();\r\n\t}*/\r\n}\r\n```\r\n\r\n----------- This code is for clicking on the flights page -----\r\n\r\n```\r\npackage com.Automation.Test;\r\n\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.testng.annotations.Test;\r\n\r\nimport com.Automation.GenericUtils.DriverUtils;\r\nimport com.Automation.Pages.HomePage;\r\n\r\npublic class VerifyFlightClickTest extends BaseTest {\r\n\t@Test\r\n\tpublic void ValidateFlightClick () throws InterruptedException\r\n\t{\r\n\t\tDriverUtils.getDriver().get(&quot;https://www.justdial.com/&quot;);\r\n\t\r\n\t\r\n\t\tHomePage hp= new HomePage();\r\n\t\t\r\n\t\thp.clickOnFlights();\r\n}}\r\n```\r\n\r\n****** This code is for flight book page after clicking on the flights in home page----\r\n\r\n```\r\npackage com.Automation.Pages;\r\n\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.FindBy;\r\n\r\npublic class FlightBookPage extends BasePage{\r\n\r\n\r\n\t@FindBy(xpath=&quot;//input[@placeholder=&#39;Type Departure City&#39;]&quot;)\r\n\tprivate WebElement DC;\r\n\t\r\n\t\r\n\t@FindBy(xpath=&quot;//li[text()=&#39;New Delhi, IN - Indira Gandhi Airport (DEL)&#39;]&quot;)\r\n\tprivate WebElement Select_Airport;\r\n\t\r\n\tpublic void DepartureCity(String username)\r\n\t{\r\n\t\tDC.sendKeys(username);\r\n\t\t}\r\n@FindBy(xpath=&quot;//input[@placeholder=&#39;Type Departure City&#39;]&quot;)\r\n\tprivate WebElement CityName1;\r\n\t\r\n\t@FindBy(xpath=&quot;//li[text()=&#39;New Delhi, IN - Indira Gandhi Airport (DEL)&#39;]&quot;)\r\n\tprivate WebElement airPort1;\r\n\t\r\n\t@FindBy(xpath=&quot;//input[@placeholder=&#39;Type Destination City&#39;]&quot;)\r\n\tprivate WebElement clickOnDestinationCity;\r\n\t\r\n\t@FindBy(xpath=&quot;//input[@placeholder=&#39;Type Destination City&#39;]&quot;)\r\n\tprivate WebElement typeDestinationCity;\r\n\t\r\n\t@FindBy(xpath=&quot;//li[text()=&#39;Jaipur, IN - Sanganeer (JAI)&#39;]&quot;)\r\n\tprivate WebElement selectDestinationCity;\r\n\t\r\n\t\r\n\t// SELECT DATE \r\n\t\r\n\t@FindBy(xpath=&quot;//input[@placeholder=&#39;Select Date&#39;]&quot;)\r\n\tprivate WebElement dateClick;\r\n\t\r\n\t@FindBy(xpath=&quot;//*[@id=\\&quot;second_2022-04-04\\&quot;]&quot;)\r\n\tprivate WebElement myDate;\r\n\t\r\n\t//CLICK ON SEARCH BUTTON\r\n\t\r\n\t@FindBy(xpath=&quot;//input[@value=&#39;SEARCH&#39;]&quot;)\r\n\tprivate WebElement search;\r\n\t\r\n\tpublic void clickOnDeparture() {\r\n\t\tDC.click();\r\n\t}\r\n\tpublic void typeName(String username) {\r\n\t\tCityName1.sendKeys(username);\r\n\t}\r\n\t\r\n\tpublic void selectName() {\r\n\t\tairPort1.click();\r\n\t}\r\n\t\r\n\tpublic void DestinationCity() {\r\n\t\tclickOnDestinationCity.click();\r\n\t}\r\n\t\r\n\tpublic void typeName2(String username) {\r\n\t\ttypeDestinationCity.sendKeys(username);\r\n\t}\r\n\t\r\n\tpublic void selectdescity() {\r\n\t\tselectDestinationCity.click();\r\n\t}\r\n\t\r\n\tpublic void clickOnDate() {\r\n\t\tdateClick.click();\r\n\t}\r\n\t\r\n\tpublic void MyDate() {\r\n\t\tmyDate.click();\r\n\t}\r\n\t\r\n\tpublic void btnsearch() {\r\n\t\tsearch.click();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n---\r\nThis is for test flight book page ----\r\n\r\n```\r\npackage com.Automation.Test;\r\n\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.Test;\r\n\r\nimport com.Automation.GenericUtils.DriverUtils;\r\nimport com.Automation.Pages.FlightBookPage;\r\nimport com.Automation.Pages.HomePage;\r\n\r\npublic class VerifyFlightBook extends BaseTest {\r\n\r\n\t\r\n\t\r\n\t@Test\r\n\t\t\t\r\n\r\n\tpublic void Validation_Flight_Booking() throws InterruptedException\r\n\t{\t\r\n\t\t\r\n\t\tFlightBookPage fb=new FlightBookPage();\r\n\t\t\r\n\t\tfb.clickOnDeparture();\r\n\t\tfb.DepartureCity(&quot;New Delhi&quot;);\r\n\t\t/*fb.SelectAirport();\r\n\t\tfb.DestinationCity(&quot;Jaipur&quot;);\r\n\t\tfb.Destination();\r\n\t\tfb.Selectdate();\r\n\t\tfb.Date();\r\n\t\tfb.Flight_search();*/\r\n\t\t\r\n\t\t\r\n\t\tThread.sleep(5000);\r\n\t\tfb.selectName();\r\n\t\tfb.DestinationCity();\r\n\t\tfb.typeName2(&quot;Jaipur&quot;);\r\n\t\tThread.sleep(5000);\r\n\t\tfb.selectdescity();\r\n\t\tThread.sleep(5000);\r\n\t\tfb.clickOnDate();\r\n\t\tfb.MyDate();\r\n\t\tThread.sleep(5000);\r\n\t\tfb.btnsearch();\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"second Test case is not call in testng maven project with selenium","body":"<p>I am trying to automate Justdial.com with the TestNG Maven project. My first test case &quot;VerifyFlightClickTest&quot; is working fine it is clicking on the Flight option by justdial the home page.\nAfter that, I created a new class for my second test searching the flight for my input(e.g - New Delhi to Jaipur on 04-April-2022).\nthe test case name is &quot;Validation_Flight_Booking&quot; and the class name is &quot;VerifyFlightBook&quot;.\nhelp me to find out what I am doing wrong</p>\n<p>only one test is pass</p>\n<p>------- This code is for driver location ------</p>\n<pre><code>package com.Automation.GenericUtils;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\n\npublic class DriverUtils {\n    \n        static WebDriver driver;\n        \n        public static void createDriver()\n        {\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\ss49655\\\\eclipse-workspace\\\\JustDial_Shubham\\\\Driver\\\\chromedriver.exe&quot;);\n            \n            ChromeOptions option = new ChromeOptions();\n            option.addArguments(&quot;start-maximized&quot;);\n            option.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\n            option.addArguments(&quot;--disable-notifications&quot;);// Disabling any notifications\n            driver=new ChromeDriver(option);\n            driver.manage().window().maximize();    \n        }\n        \n        public static WebDriver getDriver()\n        {\n            if(driver== null) {\n            createDriver();\n            }\n            return driver;\n        }\n\n    }\n</code></pre>\n<p>------- This code is for Base page ----</p>\n<pre><code>package com.Automation.Pages;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\n\nimport com.Automation.GenericUtils.DriverUtils;\n\npublic class BasePage {\n     WebDriver driver;\n\n    public BasePage()\n    {\n        driver=DriverUtils.getDriver();\n        PageFactory.initElements(driver,this);\n        \n    }\n}\n</code></pre>\n<p>----- This code is for Home page (JustDial home page)------</p>\n<pre><code>package com.Automation.Pages;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\n\npublic class HomePage extends BasePage{\n\n    @FindBy(xpath=&quot;//*[@id=\\&quot;hotkeys_text_25\\&quot;]&quot;)\n    private WebElement KeyClick;\n    \n    public void clickOnFlights() {\n        KeyClick.click();\n    }\n}\n</code></pre>\n<p>-------- this code is for base test---</p>\n<pre><code>package com.Automation.Test;\n\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\nimport org.openqa.selenium.WebDriver;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.BeforeMethod;\n\n\npublic class BaseTest {\n    WebDriver driver;\n    \n    @BeforeMethod\n    \n    public void setUp() throws FileNotFoundException, IOException\n    {\n        com.Automation.GenericUtils.DriverUtils.createDriver();\n        \n}\n    /*@AfterMethod\n    public void Close()\n    {\n        driver.quit();\n    }*/\n}\n</code></pre>\n<p>----------- This code is for clicking on the flights page -----</p>\n<pre><code>package com.Automation.Test;\n\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebElement;\nimport org.testng.annotations.Test;\n\nimport com.Automation.GenericUtils.DriverUtils;\nimport com.Automation.Pages.HomePage;\n\npublic class VerifyFlightClickTest extends BaseTest {\n    @Test\n    public void ValidateFlightClick () throws InterruptedException\n    {\n        DriverUtils.getDriver().get(&quot;https://www.justdial.com/&quot;);\n    \n    \n        HomePage hp= new HomePage();\n        \n        hp.clickOnFlights();\n}}\n</code></pre>\n<p>****** This code is for flight book page after clicking on the flights in home page----</p>\n<pre><code>package com.Automation.Pages;\n\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\n\npublic class FlightBookPage extends BasePage{\n\n\n    @FindBy(xpath=&quot;//input[@placeholder='Type Departure City']&quot;)\n    private WebElement DC;\n    \n    \n    @FindBy(xpath=&quot;//li[text()='New Delhi, IN - Indira Gandhi Airport (DEL)']&quot;)\n    private WebElement Select_Airport;\n    \n    public void DepartureCity(String username)\n    {\n        DC.sendKeys(username);\n        }\n@FindBy(xpath=&quot;//input[@placeholder='Type Departure City']&quot;)\n    private WebElement CityName1;\n    \n    @FindBy(xpath=&quot;//li[text()='New Delhi, IN - Indira Gandhi Airport (DEL)']&quot;)\n    private WebElement airPort1;\n    \n    @FindBy(xpath=&quot;//input[@placeholder='Type Destination City']&quot;)\n    private WebElement clickOnDestinationCity;\n    \n    @FindBy(xpath=&quot;//input[@placeholder='Type Destination City']&quot;)\n    private WebElement typeDestinationCity;\n    \n    @FindBy(xpath=&quot;//li[text()='Jaipur, IN - Sanganeer (JAI)']&quot;)\n    private WebElement selectDestinationCity;\n    \n    \n    // SELECT DATE \n    \n    @FindBy(xpath=&quot;//input[@placeholder='Select Date']&quot;)\n    private WebElement dateClick;\n    \n    @FindBy(xpath=&quot;//*[@id=\\&quot;second_2022-04-04\\&quot;]&quot;)\n    private WebElement myDate;\n    \n    //CLICK ON SEARCH BUTTON\n    \n    @FindBy(xpath=&quot;//input[@value='SEARCH']&quot;)\n    private WebElement search;\n    \n    public void clickOnDeparture() {\n        DC.click();\n    }\n    public void typeName(String username) {\n        CityName1.sendKeys(username);\n    }\n    \n    public void selectName() {\n        airPort1.click();\n    }\n    \n    public void DestinationCity() {\n        clickOnDestinationCity.click();\n    }\n    \n    public void typeName2(String username) {\n        typeDestinationCity.sendKeys(username);\n    }\n    \n    public void selectdescity() {\n        selectDestinationCity.click();\n    }\n    \n    public void clickOnDate() {\n        dateClick.click();\n    }\n    \n    public void MyDate() {\n        myDate.click();\n    }\n    \n    public void btnsearch() {\n        search.click();\n    }\n    \n}\n</code></pre>\n<hr />\n<p>This is for test flight book page ----</p>\n<pre><code>package com.Automation.Test;\n\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.Test;\n\nimport com.Automation.GenericUtils.DriverUtils;\nimport com.Automation.Pages.FlightBookPage;\nimport com.Automation.Pages.HomePage;\n\npublic class VerifyFlightBook extends BaseTest {\n\n    \n    \n    @Test\n            \n\n    public void Validation_Flight_Booking() throws InterruptedException\n    {   \n        \n        FlightBookPage fb=new FlightBookPage();\n        \n        fb.clickOnDeparture();\n        fb.DepartureCity(&quot;New Delhi&quot;);\n        /*fb.SelectAirport();\n        fb.DestinationCity(&quot;Jaipur&quot;);\n        fb.Destination();\n        fb.Selectdate();\n        fb.Date();\n        fb.Flight_search();*/\n        \n        \n        Thread.sleep(5000);\n        fb.selectName();\n        fb.DestinationCity();\n        fb.typeName2(&quot;Jaipur&quot;);\n        Thread.sleep(5000);\n        fb.selectdescity();\n        Thread.sleep(5000);\n        fb.clickOnDate();\n        fb.MyDate();\n        Thread.sleep(5000);\n        fb.btnsearch();\n        \n        \n    }\n    \n    \n    \n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1648953779,"post_id":71722584,"comment_id":126752259,"body_markdown":"You do not initialize it before the if statement. You *only* initialize it in the if statement, so if `symbol` is anything other than `&quot;+&quot;` (also [don&#39;t use `==` for strings](https://stackoverflow.com/questions/767372/string-equals-versus)) then it&#39;s uninitialized.","body":"You do not initialize it before the if statement. You <i>only</i> initialize it in the if statement, so if <code>symbol</code> is anything other than <code>&quot;+&quot;</code> (also <a href=\"https://stackoverflow.com/questions/767372/string-equals-versus\">don&#39;t use <code>==</code> for strings</a>) then it&#39;s uninitialized."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1648953933,"post_id":71722584,"comment_id":126752267,"body_markdown":"Because it&#39;s possible that the user might type in something other than +, -, * or / and then `symbol` will never have been assigned a value.j Additionally, you should be using `symbol.equals(&quot;+&quot;)`, etc.  A double equals there is asking is the two strings occupy the same space in memory, which is not what you want.  You&#39;re want to know if the contents of the two strings are equivalent.","body":"Because it&#39;s possible that the user might type in something other than +, -, * or / and then <code>symbol</code> will never have been assigned a value.j Additionally, you should be using <code>symbol.equals(&quot;+&quot;)</code>, etc.  A double equals there is asking is the two strings occupy the same space in memory, which is not what you want.  You&#39;re want to know if the contents of the two strings are equivalent."}],"answers":[{"tags":[],"owner":{"account_id":6268008,"reputation":26,"user_id":4873039,"display_name":"MarkC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648953938,"creation_date":1648953938,"answer_id":71722612,"question_id":71722584,"body_markdown":"When you declare `int final1` on line 21, you have *declared* the variable, but not yet *initialized* because it has no value.  You conditionally initialize it on line 23, but the compiler is detecting that the variable could not have a value by the time it reaches line 32 in runtime, so you get a compile error.\r\n\r\nTo fix, set final1 to a value for every possible condition, e.g.\r\n```\r\nint final1; //africa wakaka wakakakakakakakkakakakakakakwaaaa AFRIICAAAAAA WAWAKKAKAKWAKKAKKAK HEHEHEHE\r\nif (symbol == &quot;+&quot;) {\r\n    final1 = (number + number2);\r\n} else if(symbol == &quot;-&quot;) {\r\n    final1 = number - number2);\r\n} else if(symbol == &quot;*&quot;) {\r\n    final1 = number * number2);\r\n} else if(symbol == &quot;/&quot;) {\r\n    final1 = number / number2);\r\n} else {\r\n    final1 == //todo some value;\r\n}\r\n\r\nSystem.out.println(final1);","title":"My java code is not working because &quot;the local variable has not been initialized&quot;","body":"<p>When you declare <code>int final1</code> on line 21, you have <em>declared</em> the variable, but not yet <em>initialized</em> because it has no value.  You conditionally initialize it on line 23, but the compiler is detecting that the variable could not have a value by the time it reaches line 32 in runtime, so you get a compile error.</p>\n<p>To fix, set final1 to a value for every possible condition, e.g.</p>\n<pre><code>int final1; //africa wakaka wakakakakakakakkakakakakakakwaaaa AFRIICAAAAAA WAWAKKAKAKWAKKAKKAK HEHEHEHE\nif (symbol == &quot;+&quot;) {\n    final1 = (number + number2);\n} else if(symbol == &quot;-&quot;) {\n    final1 = number - number2);\n} else if(symbol == &quot;*&quot;) {\n    final1 = number * number2);\n} else if(symbol == &quot;/&quot;) {\n    final1 = number / number2);\n} else {\n    final1 == //todo some value;\n}\n\nSystem.out.println(final1);\n</code></pre>\n"}],"owner":{"account_id":24187526,"reputation":5,"user_id":18147142,"display_name":"xef5000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648955169,"accepted_answer_id":71722612,"answer_count":1,"score":-1,"last_activity_date":1648953938,"creation_date":1648953541,"question_id":71722584,"body_markdown":"        package fr.xeira.programme;\r\n    \r\n    import java.util.Scanner; // import the Scanner class \r\n    \r\n    class Main {\r\n      public static void main(String[] args) {\r\n        Scanner myObj = new Scanner(System.in);\r\n        String name;\r\n        System.out.println(&quot;Enter First Number&quot;);\r\n    \r\n        String firstnumber = myObj.nextLine();\r\n        System.out.println(&quot;Enter Symbol&quot;);\r\n        String symbol = myObj.nextLine();\r\n        System.out.println(&quot;Enter Second Number&quot;);\r\n        String secondnumber = myObj.nextLine();\r\n    \r\n        int number = Integer.parseInt(firstnumber);\r\n    \r\n        int number2 = Integer.parseInt(secondnumber);\r\n    \r\n        int final1; //africa wakaka wakakakakakakakkakakakakakakwaaaa AFRIICAAAAAA WAWAKKAKAKWAKKAKKAK HEHEHEHE\r\n        if (symbol == &quot;+&quot;) {\r\n            final1 = (number + number2);\r\n        } else if(symbol == &quot;-&quot;) {\r\n            System.out.println(number - number2);\r\n        } else if(symbol == &quot;*&quot;) {\r\n            System.out.println(number * number2);\r\n        } else if(symbol == &quot;/&quot;) {\r\n            System.out.println(number / number2);\r\n        }\r\n    \r\n        System.out.println(final1);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nIt tells me (line 32) that &quot;the local variable has not been initialized&quot;. Why is that? I initialize before the if statement, change it during the if statement, and now I&#39;m simply trying to call it.\r\n\r\nI&#39;d apreciate some help ^^\r\n\r\n","title":"My java code is not working because &quot;the local variable has not been initialized&quot;","body":"<pre><code>    package fr.xeira.programme;\n\nimport java.util.Scanner; // import the Scanner class \n\nclass Main {\n  public static void main(String[] args) {\n    Scanner myObj = new Scanner(System.in);\n    String name;\n    System.out.println(&quot;Enter First Number&quot;);\n\n    String firstnumber = myObj.nextLine();\n    System.out.println(&quot;Enter Symbol&quot;);\n    String symbol = myObj.nextLine();\n    System.out.println(&quot;Enter Second Number&quot;);\n    String secondnumber = myObj.nextLine();\n\n    int number = Integer.parseInt(firstnumber);\n\n    int number2 = Integer.parseInt(secondnumber);\n\n    int final1; //africa wakaka wakakakakakakakkakakakakakakwaaaa AFRIICAAAAAA WAWAKKAKAKWAKKAKKAK HEHEHEHE\n    if (symbol == &quot;+&quot;) {\n        final1 = (number + number2);\n    } else if(symbol == &quot;-&quot;) {\n        System.out.println(number - number2);\n    } else if(symbol == &quot;*&quot;) {\n        System.out.println(number * number2);\n    } else if(symbol == &quot;/&quot;) {\n        System.out.println(number / number2);\n    }\n\n    System.out.println(final1);\n    }\n\n}\n</code></pre>\n<p>It tells me (line 32) that &quot;the local variable has not been initialized&quot;. Why is that? I initialize before the if statement, change it during the if statement, and now I'm simply trying to call it.</p>\n<p>I'd apreciate some help ^^</p>\n"},{"tags":["java","rest","http","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648953467,"creation_date":1648953467,"answer_id":71722577,"question_id":71722537,"body_markdown":"The `Endpoints` tool is a plugin compatible with the `Ultimate` version of intelliJ.\r\n\r\nSo if you want to use that tool you&#39;ll have to upgrade from community edition to the Ultimate edition.","title":"@RequestMapping HTTP test not available","body":"<p>The <code>Endpoints</code> tool is a plugin compatible with the <code>Ultimate</code> version of intelliJ.</p>\n<p>So if you want to use that tool you'll have to upgrade from community edition to the Ultimate edition.</p>\n"}],"owner":{"account_id":15266289,"reputation":617,"user_id":11014826,"display_name":"CFD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648953467,"creation_date":1648952742,"question_id":71722537,"body_markdown":"I am new to java and I am following a tutorial but I faced a problem. When I want to test a POST, I don&#39;t find ENDPOINTS tool window and when I write @RequestMapping it shows up like this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nbut in the tutorial, it shows it like this:\r\n[![enter image description here][2]][2]\r\nso the globe sign which helps in making HTTP client test is not available.\r\n\r\nIt would be highly appreciated if anyone can help me with this.\r\nI am using INTELLIJ 2021.3.3.\r\n\r\n  [1]: https://i.stack.imgur.com/LpkSR.png\r\n  [2]: https://i.stack.imgur.com/NelNY.png","title":"@RequestMapping HTTP test not available","body":"<p>I am new to java and I am following a tutorial but I faced a problem. When I want to test a POST, I don't find ENDPOINTS tool window and when I write @RequestMapping it shows up like this:\n<a href=\"https://i.stack.imgur.com/LpkSR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LpkSR.png\" alt=\"enter image description here\" /></a></p>\n<p>but in the tutorial, it shows it like this:\n<a href=\"https://i.stack.imgur.com/NelNY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NelNY.png\" alt=\"enter image description here\" /></a>\nso the globe sign which helps in making HTTP client test is not available.</p>\n<p>It would be highly appreciated if anyone can help me with this.\nI am using INTELLIJ 2021.3.3.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1648945838,"post_id":71722094,"comment_id":126751433,"body_markdown":"Does `Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set` mean anything to you?","body":"Does <code>Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set</code> mean anything to you?"},{"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"score":0,"creation_date":1649046843,"post_id":71722094,"comment_id":126768072,"body_markdown":"Can you show the configuration class placed at `com/coupang/casper/domain/configuration/datasource/pa/PaDataSourceConfiguration`?","body":"Can you show the configuration class placed at <code>com&#47;coupang&#47;casper&#47;domain&#47;configuration&#47;datasource&#47;pa&#47;PaData&zwnj;&#8203;SourceConfiguration</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4678173,"reputation":2456,"user_id":3787750,"accept_rate":48,"display_name":"Ekansh Rastogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648952316,"creation_date":1648952316,"answer_id":71722507,"question_id":71722094,"body_markdown":"Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set.\r\n\r\n\r\njust add the dialect info in application.properties file\r\n\r\n``` spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect``` ","title":"hibernate error is occured in spring-boot","body":"<p>Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set.</p>\n<p>just add the dialect info in application.properties file</p>\n<p><code> spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect</code></p>\n"}],"owner":{"account_id":23671051,"reputation":47,"user_id":17697807,"display_name":"carrot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648952316,"creation_date":1648945429,"question_id":71722094,"body_markdown":"Error is this.\r\n```\r\nApplication run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [com/coupang/casper/domain/configuration/datasource/pa/PaDataSourceConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat com.coupang.casper.api.ApiApplicationKt.main(ApiApplication.kt:12)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:64)\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\r\n\t... 22 common frames omitted\r\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n```\r\n\r\nI can connect the database. and also there is a database and table too. \r\nI tried modify the application.yml file but it didn&#39;t work. still same. \r\nhow can I solve this problem? now I use 2.3.2 RELEASE version of spring and 1.8 version of java. \r\nis can be some problem related with development settings?","title":"hibernate error is occured in spring-boot","body":"<p>Error is this.</p>\n<pre><code>Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [com/coupang/casper/domain/configuration/datasource/pa/PaDataSourceConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at com.coupang.casper.api.ApiApplicationKt.main(ApiApplication.kt:12)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:64)\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\n    ... 22 common frames omitted\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n</code></pre>\n<p>I can connect the database. and also there is a database and table too.\nI tried modify the application.yml file but it didn't work. still same.\nhow can I solve this problem? now I use 2.3.2 RELEASE version of spring and 1.8 version of java.\nis can be some problem related with development settings?</p>\n"},{"tags":["java","testing","junit","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1648951545,"creation_date":1568848082,"answer_id":58001760,"question_id":58001572,"body_markdown":"Your title makes the problem clear: you are not injecting the dependency on `EmailService`. To do that, add a setter or (better) make it `final` and add it to the constructor.\r\n\r\nThat&#39;d look like:\r\n\r\n    public class MyApplication {\r\n        private final EmailService email;\r\n    \r\n        public MyApplication(EmailService email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public boolean processMessages (String msg , String recipient ) {\r\n            if (msg.length() == 0 || recipient.length() == 0 ) {\r\n                return false ;\r\n            }\r\n            return this.email.sendEmail (msg , recipient ) ;\r\n        }\r\n    }\r\n\r\nAnd an appropriate test might be (using junit and mockito):\r\n\r\n    private MyApplication app;\r\n    private EmailService email;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        email = mock(EmailService.class);\r\n        when(email.sendEmail(any(), any())).thenReturn(true);\r\n        app = new MyApplication(email);\r\n    }\r\n\r\n    @Test\r\n    void testProcessZeroLengthMessageOrPerson() {\r\n        assertFalse(app.processMessages(&quot;&quot;, &quot;Person&quot;));\r\n        assertFalse(app.processMessages(&quot;Message&quot;, &quot;&quot;));\r\n        assertFalse(app.processMessages(&quot;&quot;, &quot;&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testProcessMessage() {\r\n        assertTrue(app.processMessage(&quot;Message&quot;, &quot;Person&quot;));\r\n        verify(email).sendEmail(&quot;Message&quot;, &quot;Person&quot;);\r\n    }","title":"Java Dependency Injection Unit Testing","body":"<p>Your title makes the problem clear: you are not injecting the dependency on <code>EmailService</code>. To do that, add a setter or (better) make it <code>final</code> and add it to the constructor.</p>\n<p>That'd look like:</p>\n<pre><code>public class MyApplication {\n    private final EmailService email;\n\n    public MyApplication(EmailService email) {\n        this.email = email;\n    }\n\n    public boolean processMessages (String msg , String recipient ) {\n        if (msg.length() == 0 || recipient.length() == 0 ) {\n            return false ;\n        }\n        return this.email.sendEmail (msg , recipient ) ;\n    }\n}\n</code></pre>\n<p>And an appropriate test might be (using junit and mockito):</p>\n<pre><code>private MyApplication app;\nprivate EmailService email;\n\n@BeforeEach\nvoid setup() {\n    email = mock(EmailService.class);\n    when(email.sendEmail(any(), any())).thenReturn(true);\n    app = new MyApplication(email);\n}\n\n@Test\nvoid testProcessZeroLengthMessageOrPerson() {\n    assertFalse(app.processMessages(&quot;&quot;, &quot;Person&quot;));\n    assertFalse(app.processMessages(&quot;Message&quot;, &quot;&quot;));\n    assertFalse(app.processMessages(&quot;&quot;, &quot;&quot;));\n}\n\n@Test\nvoid testProcessMessage() {\n    assertTrue(app.processMessage(&quot;Message&quot;, &quot;Person&quot;));\n    verify(email).sendEmail(&quot;Message&quot;, &quot;Person&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16701336,"reputation":42,"user_id":12071010,"display_name":"Pablo Atoche Seminario"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568873502,"creation_date":1568852726,"answer_id":58002191,"question_id":58001572,"body_markdown":"I performed tests for mail service using green mail \r\n\r\n    @Autowired\r\n    @Qualifier(&quot;emailSenderService&quot;)\r\n    private SenderService service;\r\n\r\n    @Autowired\r\n    @Rule\r\n    public SmtpServerRule smtpServerRule;\r\n\r\n    @Test\r\n    public void send() throws IOException, MessagingException {\r\n\r\n        final String CONTENT = Util.randomValue();\r\n\r\n        Message message = create();\r\n\r\n       /* ... */\r\n\r\n        service.send(message);\r\n\r\n        Assert.assertTrue(smtpServerRule.getMessages().stream().findFirst().isPresent());\r\n\r\n        String messageContent = String.valueOf(smtpServerRule.getMessages().stream().findFirst().get().getContent()).trim();\r\n\r\n        Assert.assertTrue(messageContent.equalsIgnoreCase(CONTENT));\r\n    }\r\n\r\n[github][1]\r\n\r\n\r\n  [1]: https://github.com/PalituxD/message-delivery-microservice/blob/message-delivery-application/message-delivery-application/src/test/java/org/justfoolingaround/apps/messagedelivery/services/senders/impl/EmailSenderServiceTest.java","title":"Java Dependency Injection Unit Testing","body":"<p>I performed tests for mail service using green mail </p>\n\n<pre><code>@Autowired\n@Qualifier(\"emailSenderService\")\nprivate SenderService service;\n\n@Autowired\n@Rule\npublic SmtpServerRule smtpServerRule;\n\n@Test\npublic void send() throws IOException, MessagingException {\n\n    final String CONTENT = Util.randomValue();\n\n    Message message = create();\n\n   /* ... */\n\n    service.send(message);\n\n    Assert.assertTrue(smtpServerRule.getMessages().stream().findFirst().isPresent());\n\n    String messageContent = String.valueOf(smtpServerRule.getMessages().stream().findFirst().get().getContent()).trim();\n\n    Assert.assertTrue(messageContent.equalsIgnoreCase(CONTENT));\n}\n</code></pre>\n\n<p><a href=\"https://github.com/PalituxD/message-delivery-microservice/blob/message-delivery-application/message-delivery-application/src/test/java/org/justfoolingaround/apps/messagedelivery/services/senders/impl/EmailSenderServiceTest.java\" rel=\"nofollow noreferrer\">github</a></p>\n"},{"tags":[],"owner":{"account_id":1051445,"reputation":5513,"user_id":1055284,"accept_rate":100,"display_name":"Ben Barkay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569325892,"creation_date":1568858016,"answer_id":58002666,"question_id":58001572,"body_markdown":"The obvious solution would be to instead use dependency injection. You are already familiar with the term, so I assume you&#39;re resourceful enough to find the information required in order to apply dependency injection to the class at hand (there is information for this all over the Internet -- Wikipedia, YouTube, this site and many more..).\r\n\r\nHowever, given a scenario in which you wish to test this class, and are not willing or unable to change its source code and correct the violation, then if `EmailService` and `EmailService#sendEmail` are not final, you can use reflection:\r\n\r\n    @Test\r\n    public void testWithoutDependencyInjection() throws NoSuchFieldException, IllegalAccessException {\r\n        Map&lt;String, String&gt; expected = new HashMap&lt;&gt;();\r\n        expected.put(&quot;Dimitris Sourailidis&quot;, &quot;Yes, you can! But you should use dependency injection instead.&quot;);\r\n        Map&lt;String, String&gt; actual = new HashMap&lt;&gt;();\r\n\r\n        MyApplication app = new MyApplication();\r\n        Field emailField = MyApplication.class.getDeclaredField(&quot;email&quot;);\r\n        emailField.setAccessible(true);\r\n        emailField.set(app, new EmailService() {\r\n            @Override\r\n            public boolean sendEmail(String msg, String email) {\r\n                actual.put(msg, email);\r\n                return true;\r\n            }\r\n        });\r\n\r\n        for (String recipient : expected.keySet()) {\r\n            app.processMessages(recipient, expected.get(recipient));\r\n        }\r\n\r\n        assertEquals(expected, actual);\r\n    }\r\n\r\nIf they are final, then we can make a new ClassLoader which will override `EmailService` with our own class (maybe some day I&#39;ll edit this answer and provide an example of this).\r\n\r\nWhile these techniques allow testing of offending classes, they make for tests that are hard to understand and maintain. I&#39;d think twice before I add a test like one of the above into my test suite, and will consider the possibility of refactoring or replacing the class under test well before that.","title":"Java Dependency Injection Unit Testing","body":"<p>The obvious solution would be to instead use dependency injection. You are already familiar with the term, so I assume you're resourceful enough to find the information required in order to apply dependency injection to the class at hand (there is information for this all over the Internet -- Wikipedia, YouTube, this site and many more..).</p>\n\n<p>However, given a scenario in which you wish to test this class, and are not willing or unable to change its source code and correct the violation, then if <code>EmailService</code> and <code>EmailService#sendEmail</code> are not final, you can use reflection:</p>\n\n<pre><code>@Test\npublic void testWithoutDependencyInjection() throws NoSuchFieldException, IllegalAccessException {\n    Map&lt;String, String&gt; expected = new HashMap&lt;&gt;();\n    expected.put(\"Dimitris Sourailidis\", \"Yes, you can! But you should use dependency injection instead.\");\n    Map&lt;String, String&gt; actual = new HashMap&lt;&gt;();\n\n    MyApplication app = new MyApplication();\n    Field emailField = MyApplication.class.getDeclaredField(\"email\");\n    emailField.setAccessible(true);\n    emailField.set(app, new EmailService() {\n        @Override\n        public boolean sendEmail(String msg, String email) {\n            actual.put(msg, email);\n            return true;\n        }\n    });\n\n    for (String recipient : expected.keySet()) {\n        app.processMessages(recipient, expected.get(recipient));\n    }\n\n    assertEquals(expected, actual);\n}\n</code></pre>\n\n<p>If they are final, then we can make a new ClassLoader which will override <code>EmailService</code> with our own class (maybe some day I'll edit this answer and provide an example of this).</p>\n\n<p>While these techniques allow testing of offending classes, they make for tests that are hard to understand and maintain. I'd think twice before I add a test like one of the above into my test suite, and will consider the possibility of refactoring or replacing the class under test well before that.</p>\n"}],"owner":{"account_id":16723199,"reputation":9,"user_id":12087495,"display_name":"Dimitris Sourailidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9304,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"accepted_answer_id":58001760,"answer_count":3,"score":-5,"last_activity_date":1648951545,"creation_date":1568846370,"question_id":58001572,"body_markdown":"Can somebody make an junit test on this class?\r\n\r\n    public class MyApplication {\r\n        private EmailService email = new EmailService();\r\n\r\n        public boolean processMessages (String msg , String recipient ) {\r\n            if (msg.length ==0 | | recipient.length ==0 ) {\r\n                return false ;\r\n            }\r\n            return this.email.sendEmail (msg , recipient ) ;\r\n        }\r\n    }","title":"Java Dependency Injection Unit Testing","body":"<p>Can somebody make an junit test on this class?</p>\n\n<pre><code>public class MyApplication {\n    private EmailService email = new EmailService();\n\n    public boolean processMessages (String msg , String recipient ) {\n        if (msg.length ==0 | | recipient.length ==0 ) {\n            return false ;\n        }\n        return this.email.sendEmail (msg , recipient ) ;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","geometry","h2"],"answers":[{"tags":[],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648951006,"creation_date":1648951006,"answer_id":71722429,"question_id":71691531,"body_markdown":"As posted in the question, only version 1.4.197 of H2 works with H2GIS. On order to get this working with SpringBoot 2.6, which uses much newer versions of H2 I had to override H2 version in my build.gradle.\r\n\r\n**BUILD.GRADLE**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    ext[&#39;h2.version&#39;] = &#39;1.4.197&#39;\r\n    \r\n    group = &#39;com.nz&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    ...\r\n\r\nNote the `ext[h2.version] = &#39;1.4.197&#39;` this overrides the Springboot 2.6 default h2 version.\r\n\r\nI also used a slightly older version of h2gis in my build.gradle\r\n\r\n\timplementation group: &#39;org.orbisgis&#39;, name: &#39;h2gis&#39;, version: &#39;1.5.0&#39;\r\n\r\nThis was again for compatability reasons.\r\n\r\n","title":"H2GIS data in Springboot 2.6","body":"<p>As posted in the question, only version 1.4.197 of H2 works with H2GIS. On order to get this working with SpringBoot 2.6, which uses much newer versions of H2 I had to override H2 version in my build.gradle.</p>\n<p><strong>BUILD.GRADLE</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\next['h2.version'] = '1.4.197'\n\ngroup = 'com.nz'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n...\n</code></pre>\n<p>Note the <code>ext[h2.version] = '1.4.197'</code> this overrides the Springboot 2.6 default h2 version.</p>\n<p>I also used a slightly older version of h2gis in my build.gradle</p>\n<pre><code>implementation group: 'org.orbisgis', name: 'h2gis', version: '1.5.0'\n</code></pre>\n<p>This was again for compatability reasons.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648951006,"creation_date":1648725360,"question_id":71691531,"body_markdown":"I am trying to persist GIS point data in spring-boot 2.6 with a H2 in mem database.\r\n\r\nI have followed the setup as per [here][1] with the exception of the newer spring-boot version.\r\n\r\nMy build.gradle\r\n\r\n    plugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n    }\r\n\r\n    group = &#39;com.nz&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    ext {\r\n    \tset(&#39;azureVersion&#39;, &quot;3.14.0&quot;)\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;com.azure.spring:azure-spring-boot-starter-active-directory&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;mysql:mysql-connector-java&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \timplementation group: &#39;com.h2database&#39;, name: &#39;h2&#39;, version: &#39;1.4.197&#39;\r\n    \t//implementation group: &#39;org.locationtech.jts&#39;, name: &#39;jts-core&#39;, version: &#39;1.18.2&#39;\r\n    \timplementation group: &#39;com.graphhopper.external&#39;, name: &#39;jackson-datatype-jts&#39;, version: &#39;1.0-2.7&#39;\r\n    \timplementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-spatial&#39;, version: &#39;6.0.0.CR2&#39;, ext: &#39;pom&#39;\r\n    \timplementation group: &#39;org.orbisgis&#39;, name: &#39;h2gis&#39;, version: &#39;1.5.0&#39;\r\n    }\r\n\r\nmy application.properties\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    \r\n    # Initialise H2 with H2GIS for spatial support  see schema-h2.sql also\r\n    spring.datasource.platform=h2\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.h2geodb.GeoDBDialect\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    \r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\nMy schema.sql\r\n\r\n    -- Needed to add H2GIS support for spatial data types\r\n    CREATE ALIAS IF NOT EXISTS H2GIS_SPATIAL FOR &quot;org.h2gis.functions.factory.H2GISFunctions.load&quot;;\r\n    CALL H2GIS_SPATIAL();\r\n\r\nAbbreviated entity \r\n\r\n    @Id\r\n    @GeneratedValue(strategy = AUTO)\r\n    private Long id;\r\n    @Column(columnDefinition = &quot;POINT&quot;)\r\n    @JsonSerialize(using = GeometrySerializer.class)\r\n    @JsonDeserialize(using = GeometryDeserializer.class)\r\n    private Point location;\r\n\r\nBut I get the following error when I try to run:\r\n\r\n    org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.spatial.dialect.h2geodb.GeoDBDialect] as strategy [org.hibernate.dialect.Dialect]\r\n\r\n  [1]: https://stackoverflow.com/questions/60541794/spring-boot-app-with-embedded-h2gis-initialization-throws-sql-syntax-error\r\n","title":"H2GIS data in Springboot 2.6","body":"<p>I am trying to persist GIS point data in spring-boot 2.6 with a H2 in mem database.</p>\n<p>I have followed the setup as per <a href=\"https://stackoverflow.com/questions/60541794/spring-boot-app-with-embedded-h2gis-initialization-throws-sql-syntax-error\">here</a> with the exception of the newer spring-boot version.</p>\n<p>My build.gradle</p>\n<pre><code>plugins {\nid 'org.springframework.boot' version '2.6.4'\nid 'io.spring.dependency-management' version '1.0.11.RELEASE'\nid 'java'\n}\n\ngroup = 'com.nz'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('azureVersion', &quot;3.14.0&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.azure.spring:azure-spring-boot-starter-active-directory'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'mysql:mysql-connector-java'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation group: 'com.h2database', name: 'h2', version: '1.4.197'\n    //implementation group: 'org.locationtech.jts', name: 'jts-core', version: '1.18.2'\n    implementation group: 'com.graphhopper.external', name: 'jackson-datatype-jts', version: '1.0-2.7'\n    implementation group: 'org.hibernate', name: 'hibernate-spatial', version: '6.0.0.CR2', ext: 'pom'\n    implementation group: 'org.orbisgis', name: 'h2gis', version: '1.5.0'\n}\n</code></pre>\n<p>my application.properties</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\n\n# Initialise H2 with H2GIS for spatial support  see schema-h2.sql also\nspring.datasource.platform=h2\nspring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.h2geodb.GeoDBDialect\n\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>My schema.sql</p>\n<pre><code>-- Needed to add H2GIS support for spatial data types\nCREATE ALIAS IF NOT EXISTS H2GIS_SPATIAL FOR &quot;org.h2gis.functions.factory.H2GISFunctions.load&quot;;\nCALL H2GIS_SPATIAL();\n</code></pre>\n<p>Abbreviated entity</p>\n<pre><code>@Id\n@GeneratedValue(strategy = AUTO)\nprivate Long id;\n@Column(columnDefinition = &quot;POINT&quot;)\n@JsonSerialize(using = GeometrySerializer.class)\n@JsonDeserialize(using = GeometryDeserializer.class)\nprivate Point location;\n</code></pre>\n<p>But I get the following error when I try to run:</p>\n<pre><code>org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.spatial.dialect.h2geodb.GeoDBDialect] as strategy [org.hibernate.dialect.Dialect]\n</code></pre>\n"},{"tags":["java","for-loop","foreach","java-stream"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648935128,"creation_date":1648935128,"answer_id":71721322,"question_id":71721290,"body_markdown":"There is no better alternative.   You could write your own method converting `countBarrier::count` into a `Consumer&lt;Integer&gt;`, but there is not, generally, a way to do what you&#39;re trying to do better than what you have.","title":"Replace the usual for loop with a stream","body":"<p>There is no better alternative.   You could write your own method converting <code>countBarrier::count</code> into a <code>Consumer&lt;Integer&gt;</code>, but there is not, generally, a way to do what you're trying to do better than what you have.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648940321,"creation_date":1648935135,"answer_id":71721323,"question_id":71721290,"body_markdown":"The method reference that you are passing into the `forEach()` is classified as a [reference to an instance method of a particular object](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html). \r\n```\r\ncontainingObject::instanceMethodName \t\r\n```\r\nThe compiler by default will assume an integer element of the stream needs to be used as a method parameter.\r\n\r\nBecause your method `count()` takes no parameters, you are getting a compilation error. If you had an overloaded version like `count(int)` then `forEach(countBarrier::count)` will compile.\r\n\r\nThe important thing to note is that you are misusing the Stream API here by changing the state of the object outside the stream. \r\n\r\nMethod `forEach()` is able to operate only via side effects. According to the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects), it must be used only in situations there&#39;s no other way to implement it.\r\n\r\nLike for instance when you are dialing with a method that *return a stream*, and you need to process its elements somehow and then need to invoke a method on each of the stream elements. In this case, the usage of `forEach()` will be justifiable because there&#39;s no other way around. Loops are not an option, if you create an intermediate collection, it&#39;ll increase the memory consumption and could damage the performance.\r\n\r\nBut for your simple example, `forEahc()` ins&#39;t indispensable. You don&#39;t need a stream for this operation.","title":"Replace the usual for loop with a stream","body":"<p>The method reference that you are passing into the <code>forEach()</code> is classified as a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">reference to an instance method of a particular object</a>.</p>\n<pre><code>containingObject::instanceMethodName    \n</code></pre>\n<p>The compiler by default will assume an integer element of the stream needs to be used as a method parameter.</p>\n<p>Because your method <code>count()</code> takes no parameters, you are getting a compilation error. If you had an overloaded version like <code>count(int)</code> then <code>forEach(countBarrier::count)</code> will compile.</p>\n<p>The important thing to note is that you are misusing the Stream API here by changing the state of the object outside the stream.</p>\n<p>Method <code>forEach()</code> is able to operate only via side effects. According to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">documentation</a>, it must be used only in situations there's no other way to implement it.</p>\n<p>Like for instance when you are dialing with a method that <em>return a stream</em>, and you need to process its elements somehow and then need to invoke a method on each of the stream elements. In this case, the usage of <code>forEach()</code> will be justifiable because there's no other way around. Loops are not an option, if you create an intermediate collection, it'll increase the memory consumption and could damage the performance.</p>\n<p>But for your simple example, <code>forEahc()</code> ins't indispensable. You don't need a stream for this operation.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1648939591,"creation_date":1648939591,"answer_id":71721701,"question_id":71721290,"body_markdown":"&quot;Doctor, it hurts when I press here!&quot; &quot;Well, stop pressing there then&quot;.\r\n\r\nIt sounds like you wish to write the notion of &#39;call this method 5 times&#39;, as succintly as possible.\r\n\r\nJava can do that - and has been capable of doing that for 30 years:\r\n\r\n```\r\nfor (int i = 0; i &lt; 5; i++) countBarrier.count();\r\n```\r\n\r\nExactly like that. No braces. No newline.\r\n\r\nImagine your attempt to use foreach actually worked (it doesn&#39;t, and cannot be made to, but let&#39;s travel to hypothetical-land and find this code nestled between the unicorns and the rainbows):\r\n\r\n```\r\nIntStream.range(0, 5).forEach(countBarrier::count);\r\n```\r\n\r\nIt&#39;s __longer__. Clearly the first is superior then, if we go by golfing standards.\r\n\r\nBut, that last snippet (already inferior) doesn&#39;t even work - as you found it. The problem is, `forEach`&#39;s purpose is to execute a given consumer (which is a code block that takes 1 parameter and returns nothing) once for each thing in the stream, and _the stream element is passed to each invocation_. You have a stream of integers here (from 0 to 4, inclusive), so `.forEach`&#39;s purpose is to run some code for 0, for 1, for 2, for 3, and finally for 4, and that index __is handed to the code__. Your `count` method must therefore take as parameter an `int`. It doesn&#39;t, hence java refuses to compile this. There is no language feature to tell java: Yeah, whatever, I don&#39;t care about the `i` just run it - because java is a stickler like that. There is no (easy) fix for this.\r\n\r\nWhich gets us back to to:\r\n\r\n```\r\nfor (int i = 0; i &lt; 5; i++) countBarrier.count();\r\n```\r\n\r\nis the superior way to do this job. So, write that.\r\n\r\n## But braces are mandatory!\r\n\r\nNo, they aren&#39;t. It&#39;s somewhat common in style guides to demand you use them, but there&#39;s a very very simple solution to that problem: Don&#39;t use such needlessly restrictive style guides, and always ask _why_. Style guides don&#39;t come from the mountain; the rules they convey have an underlying intent. The intent of style guide rules in the vein of &#39;braces for ALL THE THINGS&#39; is primarily that you can easily add extra statements (maybe you want to also emit a log message in addition to invoking `count()`, every loop), and partly to avoid really long lines.\r\n\r\nChaining lambdas / stream API has the exact same problem if you just pile it all on. Given your preferred (non-working) syntax, if you want to also emit a log message in addition to calling count, you need to turn this:\r\n\r\n```\r\nIntStream.range(0, 5).forEach(countBarrier::count);\r\n```\r\n\r\ninto this:\r\n\r\n```\r\nIntStream.range(0, 5).forEach(() -&gt; {\r\n  log.info(&quot;Counting!&quot;);\r\n  countBarrier.count();\r\n});\r\n```\r\n\r\nThat is _way more_ rewriting compared to turning this:\r\n\r\n```\r\nfor (int i = 0; i &lt; 5; i++) countBarrier.count();\r\n```\r\n\r\ninto this:\r\n\r\n```\r\nfor (int i = 0; i &lt; 5; i++) {\r\n  log.info(&quot;Counting!&quot;);\r\n  countBarrier.count();\r\n}\r\n```\r\n\r\nThere are only three options:\r\n* You are a hopeless slave to a style guide. That&#39;s weird.\r\n* You believe that some slight extra rewriting effort required to expand on a single-statement loop body is acceptable (in which case one-linering that traditional for loop is fine).\r\n* You believe that some slight extra rewriting will lead to bugs or is just too much effort, so instead one should always write loops to be capable of receiving extra statements merely by injecting them in the middle. In which case your intended new-style `.forEach` is a style violation.\r\n\r\nLong lines? Well, it&#39;s obvious that piling on with stream API leads to incredulously long lines so that&#39;s clearly a non-starter: You can&#39;t use &#39;but lambdas let me put stuff on one line!&#39; whilst also supporting the notion that all traditional for loops _must_ use braces because otherwise lines get too long.\r\n\r\n## Lambdas are just better.. just.. because!\r\n\r\nThey definitely aren&#39;t. Lambdas in java have no idea if they run &#39;in context&#39; or &#39;out of context&#39;. For example, `.forEach()` runs &#39;in context&#39;: The call `foo.forEach(x -&gt; codeGoesHere)` will finish __all loops__ before that entire statement, lambda and all, &#39;resolves&#39; and completes. However, that doesn&#39;t have to be the case with lambdas. For example, this:\r\n\r\n```\r\nnew TreeSet&lt;&gt;(Comparator.comparing(Student::getName))\r\n```\r\n\r\nNever invokes any student object&#39;s `.getName()` method. That &#39;code&#39; instead is saved in a field in TreeSet and will be invoked anytime you interact with that treeset. Which could be 5 days from now, in a different thread.\r\n\r\nAnd java doesn&#39;t know.\r\n\r\nBecause of that, java _intentionally_ makes these things __non-transparent__ in lambdas of any stripe:\r\n\r\n* You cannot throw checked exceptions from a lambda, even if the containing code catches them. i.e. this:\r\n\r\n```\r\ntry {\r\n  listOfPaths.forEach(path -&gt; books.append(Files.readString(path)));\r\n} catch (IOException e) { .. }\r\n```\r\n\r\nIs a compiler error, because `Files.readString` is declared to `throws IOException` - and even though we catch it, javac has no idea if that lambda is run &#39;in context&#39; or not, and therefore doesn&#39;t compile the above. Replace it with a plain jane for loop and that works fine.\r\n\r\nHence, lambdas aren&#39;t a replacement for loops / control flow statements like `do`, `while`, or `try`. They are different tools and are good at different things. Use the right tool for the job. Which, for this job, is __not__ lambdas.\r\n\r\n* Non-final local variables\r\n\r\nYou cannot interact with them or even read them from within a lambda. After all, if that code ends up running 5 days from now in a different thread, well, that context is long gone. Yes, _we_ know that it&#39;ll run in context, but javac doesn&#39;t, and therefore won&#39;t let you. No such problem with traditional for loops.\r\n\r\n* Control flow\r\n\r\nYou can `break`, `continue`, or `return` from inside a normal for loop to outside of it. But lambdas cannot do that. Again, same reason. It&#39;d make absolutely no sense at all if the lambda runs out of its context. The thing you are attempting to break/continue/return to is looong gone.\r\n\r\nHence, whilst any and all benefits to using `.forEach` style looping are purely based on &#39;style&#39; (and beauty is in the eye of the beholder. You cannot make rational arguments in favour of finding one thing more beautiful than another)  the benefits of using traditional for loops are objective. They can do more.\r\n\r\n## But `forEach` allows the list construct to control the looping behaviour\r\n\r\nIt&#39;s specced specifically to go in list order, sequentially. There is no difference in how it runs now and never will be, as that would be backwards incompatible.\r\n\r\n## But `.forEach` lets me omit the variable type, so, it is shorter\r\n\r\nNot so, as `var` exists. This is legal java:\r\n\r\n```\r\nfor (var map : listOfMapsOfStringsToLists) { .... }\r\n```\r\n\r\n## But, hey, if you _really_ want it...\r\n\r\n`IntStream` is &#39;abuse&#39; - the purpose of IntStream is to generate a consecutive sequence of `int` values. You have no interest in them (you are merely &#39;abusing&#39; it to make something be called 5 times, you have no interest specifically in the sequence &#39;0, 1, 2, 3, 4&#39; - you merely have an interest in any sequence of length precisely 5), but because you have them, you can only use `::` syntax to invoke a method that consumes an int. Your `count()` method doesn&#39;t (and you don&#39;t want it to), so you shouldn&#39;t be using IntStream. What you&#39;d want instead is something like:\r\n\r\n```\r\nLoops.forEach(5, countBarrier::count);\r\n```\r\n\r\nUnfortunately, java doesn&#39;t have this method. But, you can write it yourself, of course! It&#39;s easy:\r\n\r\n```\r\nclass Loops {\r\n  public static void forEach(int count, Runnable r) {\r\n    if (i &lt; 0) throw new IllegalArgumentException(&quot;i is negative&quot;);\r\n    for (int i = 0; i &lt; count; i++) r.run();\r\n  }\r\n}\r\n```\r\n\r\nA trivial 2 liner.\r\n","title":"Replace the usual for loop with a stream","body":"<p>&quot;Doctor, it hurts when I press here!&quot; &quot;Well, stop pressing there then&quot;.</p>\n<p>It sounds like you wish to write the notion of 'call this method 5 times', as succintly as possible.</p>\n<p>Java can do that - and has been capable of doing that for 30 years:</p>\n<pre><code>for (int i = 0; i &lt; 5; i++) countBarrier.count();\n</code></pre>\n<p>Exactly like that. No braces. No newline.</p>\n<p>Imagine your attempt to use foreach actually worked (it doesn't, and cannot be made to, but let's travel to hypothetical-land and find this code nestled between the unicorns and the rainbows):</p>\n<pre><code>IntStream.range(0, 5).forEach(countBarrier::count);\n</code></pre>\n<p>It's <strong>longer</strong>. Clearly the first is superior then, if we go by golfing standards.</p>\n<p>But, that last snippet (already inferior) doesn't even work - as you found it. The problem is, <code>forEach</code>'s purpose is to execute a given consumer (which is a code block that takes 1 parameter and returns nothing) once for each thing in the stream, and <em>the stream element is passed to each invocation</em>. You have a stream of integers here (from 0 to 4, inclusive), so <code>.forEach</code>'s purpose is to run some code for 0, for 1, for 2, for 3, and finally for 4, and that index <strong>is handed to the code</strong>. Your <code>count</code> method must therefore take as parameter an <code>int</code>. It doesn't, hence java refuses to compile this. There is no language feature to tell java: Yeah, whatever, I don't care about the <code>i</code> just run it - because java is a stickler like that. There is no (easy) fix for this.</p>\n<p>Which gets us back to to:</p>\n<pre><code>for (int i = 0; i &lt; 5; i++) countBarrier.count();\n</code></pre>\n<p>is the superior way to do this job. So, write that.</p>\n<h2>But braces are mandatory!</h2>\n<p>No, they aren't. It's somewhat common in style guides to demand you use them, but there's a very very simple solution to that problem: Don't use such needlessly restrictive style guides, and always ask <em>why</em>. Style guides don't come from the mountain; the rules they convey have an underlying intent. The intent of style guide rules in the vein of 'braces for ALL THE THINGS' is primarily that you can easily add extra statements (maybe you want to also emit a log message in addition to invoking <code>count()</code>, every loop), and partly to avoid really long lines.</p>\n<p>Chaining lambdas / stream API has the exact same problem if you just pile it all on. Given your preferred (non-working) syntax, if you want to also emit a log message in addition to calling count, you need to turn this:</p>\n<pre><code>IntStream.range(0, 5).forEach(countBarrier::count);\n</code></pre>\n<p>into this:</p>\n<pre><code>IntStream.range(0, 5).forEach(() -&gt; {\n  log.info(&quot;Counting!&quot;);\n  countBarrier.count();\n});\n</code></pre>\n<p>That is <em>way more</em> rewriting compared to turning this:</p>\n<pre><code>for (int i = 0; i &lt; 5; i++) countBarrier.count();\n</code></pre>\n<p>into this:</p>\n<pre><code>for (int i = 0; i &lt; 5; i++) {\n  log.info(&quot;Counting!&quot;);\n  countBarrier.count();\n}\n</code></pre>\n<p>There are only three options:</p>\n<ul>\n<li>You are a hopeless slave to a style guide. That's weird.</li>\n<li>You believe that some slight extra rewriting effort required to expand on a single-statement loop body is acceptable (in which case one-linering that traditional for loop is fine).</li>\n<li>You believe that some slight extra rewriting will lead to bugs or is just too much effort, so instead one should always write loops to be capable of receiving extra statements merely by injecting them in the middle. In which case your intended new-style <code>.forEach</code> is a style violation.</li>\n</ul>\n<p>Long lines? Well, it's obvious that piling on with stream API leads to incredulously long lines so that's clearly a non-starter: You can't use 'but lambdas let me put stuff on one line!' whilst also supporting the notion that all traditional for loops <em>must</em> use braces because otherwise lines get too long.</p>\n<h2>Lambdas are just better.. just.. because!</h2>\n<p>They definitely aren't. Lambdas in java have no idea if they run 'in context' or 'out of context'. For example, <code>.forEach()</code> runs 'in context': The call <code>foo.forEach(x -&gt; codeGoesHere)</code> will finish <strong>all loops</strong> before that entire statement, lambda and all, 'resolves' and completes. However, that doesn't have to be the case with lambdas. For example, this:</p>\n<pre><code>new TreeSet&lt;&gt;(Comparator.comparing(Student::getName))\n</code></pre>\n<p>Never invokes any student object's <code>.getName()</code> method. That 'code' instead is saved in a field in TreeSet and will be invoked anytime you interact with that treeset. Which could be 5 days from now, in a different thread.</p>\n<p>And java doesn't know.</p>\n<p>Because of that, java <em>intentionally</em> makes these things <strong>non-transparent</strong> in lambdas of any stripe:</p>\n<ul>\n<li>You cannot throw checked exceptions from a lambda, even if the containing code catches them. i.e. this:</li>\n</ul>\n<pre><code>try {\n  listOfPaths.forEach(path -&gt; books.append(Files.readString(path)));\n} catch (IOException e) { .. }\n</code></pre>\n<p>Is a compiler error, because <code>Files.readString</code> is declared to <code>throws IOException</code> - and even though we catch it, javac has no idea if that lambda is run 'in context' or not, and therefore doesn't compile the above. Replace it with a plain jane for loop and that works fine.</p>\n<p>Hence, lambdas aren't a replacement for loops / control flow statements like <code>do</code>, <code>while</code>, or <code>try</code>. They are different tools and are good at different things. Use the right tool for the job. Which, for this job, is <strong>not</strong> lambdas.</p>\n<ul>\n<li>Non-final local variables</li>\n</ul>\n<p>You cannot interact with them or even read them from within a lambda. After all, if that code ends up running 5 days from now in a different thread, well, that context is long gone. Yes, <em>we</em> know that it'll run in context, but javac doesn't, and therefore won't let you. No such problem with traditional for loops.</p>\n<ul>\n<li>Control flow</li>\n</ul>\n<p>You can <code>break</code>, <code>continue</code>, or <code>return</code> from inside a normal for loop to outside of it. But lambdas cannot do that. Again, same reason. It'd make absolutely no sense at all if the lambda runs out of its context. The thing you are attempting to break/continue/return to is looong gone.</p>\n<p>Hence, whilst any and all benefits to using <code>.forEach</code> style looping are purely based on 'style' (and beauty is in the eye of the beholder. You cannot make rational arguments in favour of finding one thing more beautiful than another)  the benefits of using traditional for loops are objective. They can do more.</p>\n<h2>But <code>forEach</code> allows the list construct to control the looping behaviour</h2>\n<p>It's specced specifically to go in list order, sequentially. There is no difference in how it runs now and never will be, as that would be backwards incompatible.</p>\n<h2>But <code>.forEach</code> lets me omit the variable type, so, it is shorter</h2>\n<p>Not so, as <code>var</code> exists. This is legal java:</p>\n<pre><code>for (var map : listOfMapsOfStringsToLists) { .... }\n</code></pre>\n<h2>But, hey, if you <em>really</em> want it...</h2>\n<p><code>IntStream</code> is 'abuse' - the purpose of IntStream is to generate a consecutive sequence of <code>int</code> values. You have no interest in them (you are merely 'abusing' it to make something be called 5 times, you have no interest specifically in the sequence '0, 1, 2, 3, 4' - you merely have an interest in any sequence of length precisely 5), but because you have them, you can only use <code>::</code> syntax to invoke a method that consumes an int. Your <code>count()</code> method doesn't (and you don't want it to), so you shouldn't be using IntStream. What you'd want instead is something like:</p>\n<pre><code>Loops.forEach(5, countBarrier::count);\n</code></pre>\n<p>Unfortunately, java doesn't have this method. But, you can write it yourself, of course! It's easy:</p>\n<pre><code>class Loops {\n  public static void forEach(int count, Runnable r) {\n    if (i &lt; 0) throw new IllegalArgumentException(&quot;i is negative&quot;);\n    for (int i = 0; i &lt; count; i++) r.run();\n  }\n}\n</code></pre>\n<p>A trivial 2 liner.</p>\n"}],"owner":{"account_id":20725395,"reputation":53,"user_id":15218846,"display_name":"WantBecomeJavaCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71721701,"answer_count":3,"score":0,"last_activity_date":1648950906,"creation_date":1648934770,"question_id":71721290,"body_markdown":"I have simple class `CountBarrier` with method `count()`\r\nand I want to replace something like that:\r\n\r\n    for (int i = 0; i &lt; 5; i++) {\r\n        countBarrier.count()\r\n    }\r\n\r\nwith:\r\n   \r\n\r\n     IntStream.range(0, 5).forEach(countBarrier::count);\r\nbut to work properly I can write only this :\r\n\r\n    IntStream.range(0, 5).forEach((i) -&gt; countBarrier.count());\r\n\r\nHow to manage this issue (don&#39;t want to see var i)?\r\n","title":"Replace the usual for loop with a stream","body":"<p>I have simple class <code>CountBarrier</code> with method <code>count()</code>\nand I want to replace something like that:</p>\n<pre><code>for (int i = 0; i &lt; 5; i++) {\n    countBarrier.count()\n}\n</code></pre>\n<p>with:</p>\n<pre><code> IntStream.range(0, 5).forEach(countBarrier::count);\n</code></pre>\n<p>but to work properly I can write only this :</p>\n<pre><code>IntStream.range(0, 5).forEach((i) -&gt; countBarrier.count());\n</code></pre>\n<p>How to manage this issue (don't want to see var i)?</p>\n"},{"tags":["java","precision","division","bigdecimal","financial"],"comments":[{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":1,"creation_date":1272707431,"post_id":2749375,"comment_id":2779515,"body_markdown":"By the way, I&#39;d really appreciate insight from people who&#39;ve worked with financial software. I often heard `BigDecimal` being advocated over `double`, and I&#39;d like to hear how they deal with `divide`.","body":"By the way, I&#39;d really appreciate insight from people who&#39;ve worked with financial software. I often heard <code>BigDecimal</code> being advocated over <code>double</code>, and I&#39;d like to hear how they deal with <code>divide</code>."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":1,"creation_date":1272720366,"post_id":2749375,"comment_id":2780141,"body_markdown":"I&#39;m working on a very complex Java apps displaying lots of financial information in JTables (btw, JTables so complex and so often updated that I was forced to use several of the http://java.sun.com/products/jfc/tsc/articles/ChristmasTree/ optimizations to have my JTables performs acceptably on fast machines). **The** two things that stand out: the unit is typically the cent and I&#39;ve got my own NumDiv rational abstraction. Note that it is not a shortcoming of the Java platform: at worst it&#39;s a shortcoming, if any, of the default JAVA APIs.","body":"I&#39;m working on a very complex Java apps displaying lots of financial information in JTables (btw, JTables so complex and so often updated that I was forced to use several of the <a href=\"http://java.sun.com/products/jfc/tsc/articles/ChristmasTree/\" rel=\"nofollow noreferrer\">java.sun.com/products/jfc/tsc/articles/ChristmasTree</a> optimizations to have my JTables performs acceptably on fast machines). <b>The</b> two things that stand out: the unit is typically the cent and I&#39;ve got my own NumDiv rational abstraction. Note that it is not a shortcoming of the Java platform: at worst it&#39;s a shortcoming, if any, of the default JAVA APIs."}],"answers":[{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1272705552,"creation_date":1272705552,"answer_id":2749405,"question_id":2749375,"body_markdown":"Notice we are using a computer... A computer has a lot of ram and precision takes ram. So when you want an infinite precision you need &lt;br&gt;\r\n`(infinite * infinite) ^ (infinite * Integer.MAX_VALUE)` terrabyte ram...\r\n\r\nI know `1 / 3` is `0.333333...` and it should be possible to store it in ram like &quot;one divided by three&quot; and then you can multiply it back and you should have `1`. But I don&#39;t think Java has something like that...&lt;br&gt;\r\nMaybe you have to win the Nobel Price for writing something doing that. `;-)`","title":"ArithmeticException thrown during BigDecimal.divide","body":"<p>Notice we are using a computer... A computer has a lot of ram and precision takes ram. So when you want an infinite precision you need <br>\n<code>(infinite * infinite) ^ (infinite * Integer.MAX_VALUE)</code> terrabyte ram...</p>\n\n<p>I know <code>1 / 3</code> is <code>0.333333...</code> and it should be possible to store it in ram like \"one divided by three\" and then you can multiply it back and you should have <code>1</code>. But I don't think Java has something like that...<br>\nMaybe you have to win the Nobel Price for writing something doing that. <code>;-)</code></p>\n"},{"tags":[],"owner":{"account_id":3062,"reputation":45059,"user_id":4332,"accept_rate":88,"display_name":"Adrian Mouat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1272707250,"creation_date":1272706676,"answer_id":2749445,"question_id":2749375,"body_markdown":"I accept that Java doesn&#39;t have great support for representing fractions, but you have to realise that it is *impossible* to keep things entirely precise when working with computers. At least in this case, the exception is telling you that precision is being lost.\r\n\r\nAs far as I know, &quot;infinite precision arithmetic with decimal numbers&quot; just isn&#39;t going to happen. If you have to work with decimals, what you&#39;re doing is probably fine, just catch the exceptions. Otherwise, a quick google search finds some interesting resources for working with fractions in Java:\r\n\r\nhttp://commons.apache.org/math/userguide/fraction.html\r\n\r\nhttp://www.merriampark.com/fractions.htm\r\n\r\nhttps://stackoverflow.com/questions/474535/best-way-to-represent-a-fraction-in-java\r\n","title":"ArithmeticException thrown during BigDecimal.divide","body":"<p>I accept that Java doesn't have great support for representing fractions, but you have to realise that it is <em>impossible</em> to keep things entirely precise when working with computers. At least in this case, the exception is telling you that precision is being lost.</p>\n\n<p>As far as I know, \"infinite precision arithmetic with decimal numbers\" just isn't going to happen. If you have to work with decimals, what you're doing is probably fine, just catch the exceptions. Otherwise, a quick google search finds some interesting resources for working with fractions in Java:</p>\n\n<p><a href=\"http://commons.apache.org/math/userguide/fraction.html\" rel=\"nofollow noreferrer\">http://commons.apache.org/math/userguide/fraction.html</a></p>\n\n<p><a href=\"http://www.merriampark.com/fractions.htm\" rel=\"nofollow noreferrer\">http://www.merriampark.com/fractions.htm</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/474535/best-way-to-represent-a-fraction-in-java\">Best way to represent a fraction in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1272709176,"creation_date":1272709176,"answer_id":2749548,"question_id":2749375,"body_markdown":"&gt; By the way, I&#39;d really appreciate\r\n&gt; insight from people who&#39;ve worked with\r\n&gt; financial software. I often heard\r\n&gt; BigDecimal being advocated over double\r\n\r\nIn financial reports we use alwasy BigDecimal with scale = 2 and [ROUND_HALF_UP](http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html#ROUND_HALF_UP), since all printed values in a report must be lead to a reproducable result. If someone checks this using a simple calculator. \r\n\r\nIn switzerland they round to 0.05 since they no longer have 1 or 2 [Rappen](http://en.wikipedia.org/wiki/Rappen) coins.\r\n\r\n","title":"ArithmeticException thrown during BigDecimal.divide","body":"<blockquote>\n  <p>By the way, I'd really appreciate\n  insight from people who've worked with\n  financial software. I often heard\n  BigDecimal being advocated over double</p>\n</blockquote>\n\n<p>In financial reports we use alwasy BigDecimal with scale = 2 and <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html#ROUND_HALF_UP\" rel=\"noreferrer\">ROUND_HALF_UP</a>, since all printed values in a report must be lead to a reproducable result. If someone checks this using a simple calculator. </p>\n\n<p>In switzerland they round to 0.05 since they no longer have 1 or 2 <a href=\"http://en.wikipedia.org/wiki/Rappen\" rel=\"noreferrer\">Rappen</a> coins.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1648949944,"creation_date":1272711027,"answer_id":2749636,"question_id":2749375,"body_markdown":"&gt; If this is not the right answer, what CAN we use for exact division in financial calculation? (I mean, I don&#39;t have a finance major, but they still use division, right???).\r\n\r\nThen I was in primary school&lt;sup&gt;1&lt;/sup&gt;, they taught me that when you divide by 1 by 3 you get a 0.33333... i.e. a *recurring* decimal.  Division of numbers represented in decimal form is NOT exact.   In fact for any fixed *base* there will be fractions (the result of dividing one integer by another) that cannot be represented *exactly* as a finite precision floating point number in that base.   (The number will have a recurring part ...)\r\n\r\nWhen you do financial calculations involving division, you *have* to consider the what to do with a recurring fraction.  You can round it up, or down, or to the nearest whole number, or something else, but basically you *cannot* just forget about the issue.\r\n\r\nThe BigDecimal javadoc says this:\r\n\r\n&gt; The BigDecimal class gives its user complete control over rounding behavior. If no rounding mode is specified and the exact result cannot be represented, an exception is thrown; otherwise, calculations can be carried out to a chosen precision and rounding mode by supplying an appropriate MathContext  object to the operation. \r\n\r\nIn other words, it is *your responsibility* to tell BigDecimal what to do about rounding.\r\n\r\n**EDIT** - in response to these followups from the OP.\r\n\r\n&gt; How does BigDecimal detect infinite recurring decimal? \r\n\r\nIt does not explicitly detect the recurring decimal.  It simply detects that the result of some operation cannot be represented exactly using the specified precision; e.g. too many digits are required after the decimal point for an exact representation.\r\n\r\n&gt; It must keep track of and detect a cycle in the dividend. It COULD HAVE chosen to handle this another way, by marking where the recurring portion is, etc.\r\n\r\nI suppose that `BigDecimal` could have been specified to represent a recurring decimal exactly; i.e. as a `BigRational` class.  However, this would make the implementation more complicated and more expensive to use&lt;sup&gt;2&lt;/sup&gt;. And since most people expect numbers to be displayed in decimal, and the problem of recurring decimal recurs at that point.\r\n\r\nThe bottom line is that this extra complexity and runtime cost would be inappropriate for typical use-cases for `BigDecimal`.  This includes financial calculations, where accounting conventions do not allow you to use recurring decimals.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - It was an excellent primary school.  You may have been taught this in high school.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - Either you try to remove common factors of the divisor and dividend (computationally expensive), or allow them to grow without bounds (expensive in space usage and computationally expensive for subsequent operations).&lt;/sup&gt;","title":"ArithmeticException thrown during BigDecimal.divide","body":"<blockquote>\n<p>If this is not the right answer, what CAN we use for exact division in financial calculation? (I mean, I don't have a finance major, but they still use division, right???).</p>\n</blockquote>\n<p>Then I was in primary school<sup>1</sup>, they taught me that when you divide by 1 by 3 you get a 0.33333... i.e. a <em>recurring</em> decimal.  Division of numbers represented in decimal form is NOT exact.   In fact for any fixed <em>base</em> there will be fractions (the result of dividing one integer by another) that cannot be represented <em>exactly</em> as a finite precision floating point number in that base.   (The number will have a recurring part ...)</p>\n<p>When you do financial calculations involving division, you <em>have</em> to consider the what to do with a recurring fraction.  You can round it up, or down, or to the nearest whole number, or something else, but basically you <em>cannot</em> just forget about the issue.</p>\n<p>The BigDecimal javadoc says this:</p>\n<blockquote>\n<p>The BigDecimal class gives its user complete control over rounding behavior. If no rounding mode is specified and the exact result cannot be represented, an exception is thrown; otherwise, calculations can be carried out to a chosen precision and rounding mode by supplying an appropriate MathContext  object to the operation.</p>\n</blockquote>\n<p>In other words, it is <em>your responsibility</em> to tell BigDecimal what to do about rounding.</p>\n<p><strong>EDIT</strong> - in response to these followups from the OP.</p>\n<blockquote>\n<p>How does BigDecimal detect infinite recurring decimal?</p>\n</blockquote>\n<p>It does not explicitly detect the recurring decimal.  It simply detects that the result of some operation cannot be represented exactly using the specified precision; e.g. too many digits are required after the decimal point for an exact representation.</p>\n<blockquote>\n<p>It must keep track of and detect a cycle in the dividend. It COULD HAVE chosen to handle this another way, by marking where the recurring portion is, etc.</p>\n</blockquote>\n<p>I suppose that <code>BigDecimal</code> could have been specified to represent a recurring decimal exactly; i.e. as a <code>BigRational</code> class.  However, this would make the implementation more complicated and more expensive to use<sup>2</sup>. And since most people expect numbers to be displayed in decimal, and the problem of recurring decimal recurs at that point.</p>\n<p>The bottom line is that this extra complexity and runtime cost would be inappropriate for typical use-cases for <code>BigDecimal</code>.  This includes financial calculations, where accounting conventions do not allow you to use recurring decimals.</p>\n<hr />\n<p><sup>1 - It was an excellent primary school.  You may have been taught this in high school.</sup></p>\n<p><sup>2 - Either you try to remove common factors of the divisor and dividend (computationally expensive), or allow them to grow without bounds (expensive in space usage and computationally expensive for subsequent operations).</sup></p>\n"},{"tags":[],"owner":{"account_id":88993,"reputation":2497,"user_id":245813,"display_name":"COME FROM"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1272733953,"creation_date":1272713474,"answer_id":2749740,"question_id":2749375,"body_markdown":"If you want to work with decimals, not rational numbers, and you need exact arithmetics before the final rounding (rounding to cents or something), here&#39;s a little trick.\r\n\r\nYou can always manipulate your formulas so that there&#39;s only one final division. That way you won&#39;t lose precision during calculations and you&#39;ll always get the correctly rounded result. For instance\r\n\r\n    a/b + c\r\n\r\nequals\r\n\r\n    (a + bc) / b.","title":"ArithmeticException thrown during BigDecimal.divide","body":"<p>If you want to work with decimals, not rational numbers, and you need exact arithmetics before the final rounding (rounding to cents or something), here's a little trick.</p>\n\n<p>You can always manipulate your formulas so that there's only one final division. That way you won't lose precision during calculations and you'll always get the correctly rounded result. For instance</p>\n\n<pre><code>a/b + c\n</code></pre>\n\n<p>equals</p>\n\n<pre><code>(a + bc) / b.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1272718903,"creation_date":1272718903,"answer_id":2750012,"question_id":2749375,"body_markdown":"Is there a need for \r\n\r\n    a=1/3;\r\n    b=a*3;\r\n\r\n    resulting in\r\n    \r\n    b==1;\r\n\r\nin financial systems? I guess not. In financial systems it is defined, which roundmode and scale has to be used, when doing calculations. In some situations, the roundmode and scale is defined in the law. All components can rely on such a defined behaviour. Returning b==1 would be a failure, because it would not fulfill the specified behaviour. This is very important when calculating prices etc. \r\n\r\nIt is like the IEEE 754 specifications for representing floats in binary digits. A component must not optimize a &quot;better&quot; representation without loss of information, because this will break the contract.  ","title":"ArithmeticException thrown during BigDecimal.divide","body":"<p>Is there a need for </p>\n\n<pre><code>a=1/3;\nb=a*3;\n\nresulting in\n\nb==1;\n</code></pre>\n\n<p>in financial systems? I guess not. In financial systems it is defined, which roundmode and scale has to be used, when doing calculations. In some situations, the roundmode and scale is defined in the law. All components can rely on such a defined behaviour. Returning b==1 would be a failure, because it would not fulfill the specified behaviour. This is very important when calculating prices etc. </p>\n\n<p>It is like the IEEE 754 specifications for representing floats in binary digits. A component must not optimize a \"better\" representation without loss of information, because this will break the contract.  </p>\n"},{"tags":[],"owner":{"account_id":130866,"reputation":1351,"user_id":330445,"accept_rate":88,"display_name":"tkr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1272731067,"creation_date":1272731067,"answer_id":2750677,"question_id":2749375,"body_markdown":"You should prefer BigDecimal for finance calculations. Rounding should be specified by the business. E.g. an amount (100,00$) has to be split equally across three accounts. There has to be a business rule which account takes the extra cent.\r\n\r\nDouble, floats are not approriate for use in financial applications because they can not represent fractions of 1 precisely that are not exponentials of 2. E.g. consider 0.6 = 6/10 = 1*1/2 + 0*1/4 + 0*1/8 + 1*1/16 + ... = 0.1001...b\r\n\r\nFor mathematic calculations you can use a symbolic number, e.g. storing denominator and numerator or even a whole expression (e.g. this number is sqrt(5)+3/4). As this is not the main use case of the java api you won&#39; find it there.","title":"ArithmeticException thrown during BigDecimal.divide","body":"<p>You should prefer BigDecimal for finance calculations. Rounding should be specified by the business. E.g. an amount (100,00$) has to be split equally across three accounts. There has to be a business rule which account takes the extra cent.</p>\n\n<p>Double, floats are not approriate for use in financial applications because they can not represent fractions of 1 precisely that are not exponentials of 2. E.g. consider 0.6 = 6/10 = 1*1/2 + 0*1/4 + 0*1/8 + 1*1/16 + ... = 0.1001...b</p>\n\n<p>For mathematic calculations you can use a symbolic number, e.g. storing denominator and numerator or even a whole expression (e.g. this number is sqrt(5)+3/4). As this is not the main use case of the java api you won' find it there.</p>\n"},{"tags":[],"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1272733787,"creation_date":1272733787,"answer_id":2750829,"question_id":2749375,"body_markdown":"The class is `BigDecimal` not `BigFractional`. From some of your comments it sounds like you just want to complain that someone didn&#39;t build in all possible number handling algorithms into this class. Financial apps do not need infinite decimal precision; just perfectly accurate values to the precision required (typically 0, 2, 4, or 5 decimal digits).\r\n\r\nActually I have dealt with many financial applications that use `double`. I don&#39;t like it but that was the way they are written (not in Java either). When there are exchange rates and unit conversions then there are both the potential of rounding and bruising problems. `BigDecimal` eliminates the later but there is still the former for division.","title":"ArithmeticException thrown during BigDecimal.divide","body":"<p>The class is <code>BigDecimal</code> not <code>BigFractional</code>. From some of your comments it sounds like you just want to complain that someone didn't build in all possible number handling algorithms into this class. Financial apps do not need infinite decimal precision; just perfectly accurate values to the precision required (typically 0, 2, 4, or 5 decimal digits).</p>\n\n<p>Actually I have dealt with many financial applications that use <code>double</code>. I don't like it but that was the way they are written (not in Java either). When there are exchange rates and unit conversions then there are both the potential of rounding and bruising problems. <code>BigDecimal</code> eliminates the later but there is still the former for division.</p>\n"},{"tags":[],"owner":{"account_id":1606421,"reputation":21,"user_id":1486447,"display_name":"Raymond Cidad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340821591,"creation_date":1340817918,"answer_id":11231812,"question_id":2749375,"body_markdown":"To divide save, you have to set the `MATHcontext`, \r\n\r\n`BigDecimal bd = new BigDecimal(12.12, MathContext.DECIMAL32).divide(new BigDecimal(2)).setScale(2, RoundingMode.HALF_UP);`","title":"ArithmeticException thrown during BigDecimal.divide","body":"<p>To divide save, you have to set the <code>MATHcontext</code>, </p>\n\n<p><code>BigDecimal bd = new BigDecimal(12.12, MathContext.DECIMAL32).divide(new BigDecimal(2)).setScale(2, RoundingMode.HALF_UP);</code></p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34909,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":2749636,"answer_count":9,"score":33,"last_activity_date":1648949944,"creation_date":1272704587,"question_id":2749375,"body_markdown":"I thought [`java.math.BigDecimal`](http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html) is supposed to be The Answer&amp;trade; to the need of performing infinite precision arithmetic with decimal numbers.\r\n\r\nConsider the following snippet:\r\n\r\n\timport java.math.BigDecimal;\r\n\t//...\r\n\r\n\tfinal BigDecimal one = BigDecimal.ONE;\r\n\tfinal BigDecimal three = BigDecimal.valueOf(3);\r\n\tfinal BigDecimal third = one.divide(three);\r\n\r\n\tassert third.multiply(three).equals(one); // this should pass, right?\r\n\r\nI expect the `assert` to pass, but in fact the execution doesn&#39;t even get there: `one.divide(three)` causes `ArithmeticException` to be thrown!\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ArithmeticException:\r\n    Non-terminating decimal expansion; no exact representable decimal result.\r\n    \tat java.math.BigDecimal.divide\r\n\r\nIt turns out that this behavior is explicitly documented in the [API](http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html):\r\n\r\n&gt; In the case of `divide`, the exact quotient could have an infinitely long decimal expansion; for example, 1 divided by 3. If the quotient has a non-terminating decimal expansion and the operation is specified to return an exact result, an `ArithmeticException` is thrown. Otherwise, the exact result of the division is returned, as done for other operations.\r\n\r\nBrowsing around the API further, one finds that in fact there are various overloads of `divide` that performs _inexact_ division, i.e.: \r\n\r\n\tfinal BigDecimal third = one.divide(three, 33, RoundingMode.DOWN);\r\n\tSystem.out.println(three.multiply(third));\r\n\t// prints &quot;0.999999999999999999999999999999999&quot;\r\n\r\nOf course, the obvious question now is &quot;What&#39;s the point???&quot;. I thought `BigDecimal` is the solution when we need _exact_ arithmetic, e.g. for financial calculations. If we can&#39;t even `divide` exactly, then how useful can this be? Does it actually serve a general purpose, or is it only useful in a very niche application where you fortunately just don&#39;t need to `divide` at all?\r\n\r\nIf this is not the right answer, what _CAN_ we use for exact division in financial calculation? (I mean, I don&#39;t have a finance major, but they still use division, right???).","title":"ArithmeticException thrown during BigDecimal.divide","body":"<p>I thought <a href=\"http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>java.math.BigDecimal</code></a> is supposed to be The Answer&trade; to the need of performing infinite precision arithmetic with decimal numbers.</p>\n\n<p>Consider the following snippet:</p>\n\n<pre><code>import java.math.BigDecimal;\n//...\n\nfinal BigDecimal one = BigDecimal.ONE;\nfinal BigDecimal three = BigDecimal.valueOf(3);\nfinal BigDecimal third = one.divide(three);\n\nassert third.multiply(three).equals(one); // this should pass, right?\n</code></pre>\n\n<p>I expect the <code>assert</code> to pass, but in fact the execution doesn't even get there: <code>one.divide(three)</code> causes <code>ArithmeticException</code> to be thrown!</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ArithmeticException:\nNon-terminating decimal expansion; no exact representable decimal result.\n    at java.math.BigDecimal.divide\n</code></pre>\n\n<p>It turns out that this behavior is explicitly documented in the <a href=\"http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">API</a>:</p>\n\n<blockquote>\n  <p>In the case of <code>divide</code>, the exact quotient could have an infinitely long decimal expansion; for example, 1 divided by 3. If the quotient has a non-terminating decimal expansion and the operation is specified to return an exact result, an <code>ArithmeticException</code> is thrown. Otherwise, the exact result of the division is returned, as done for other operations.</p>\n</blockquote>\n\n<p>Browsing around the API further, one finds that in fact there are various overloads of <code>divide</code> that performs <em>inexact</em> division, i.e.: </p>\n\n<pre><code>final BigDecimal third = one.divide(three, 33, RoundingMode.DOWN);\nSystem.out.println(three.multiply(third));\n// prints \"0.999999999999999999999999999999999\"\n</code></pre>\n\n<p>Of course, the obvious question now is \"What's the point???\". I thought <code>BigDecimal</code> is the solution when we need <em>exact</em> arithmetic, e.g. for financial calculations. If we can't even <code>divide</code> exactly, then how useful can this be? Does it actually serve a general purpose, or is it only useful in a very niche application where you fortunately just don't need to <code>divide</code> at all?</p>\n\n<p>If this is not the right answer, what <em>CAN</em> we use for exact division in financial calculation? (I mean, I don't have a finance major, but they still use division, right???).</p>\n"},{"tags":["java","maven","arguments"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":4,"creation_date":1334156054,"post_id":10108374,"comment_id":12950954,"body_markdown":"What exactly did you not understand from the linked tutorial? Its pretty straight-forward. Please add to your question, the code you have tried so far.","body":"What exactly did you not understand from the linked tutorial? Its pretty straight-forward. Please add to your question, the code you have tried so far."},{"owner":{"account_id":1172500,"reputation":1750,"user_id":1149360,"accept_rate":81,"display_name":"phedon rousou"},"score":0,"creation_date":1334157043,"post_id":10108374,"comment_id":12951413,"body_markdown":"Basically what I am trying to do is to call a java class from another java class. Normally I run that class from Eclipse. I am using Runtime.getRuntime().exec(&quot;&quot;); to execute that class from another java program. But Main.class needs mvn to run. (I edited the question)","body":"Basically what I am trying to do is to call a java class from another java class. Normally I run that class from Eclipse. I am using Runtime.getRuntime().exec(&quot;&quot;); to execute that class from another java program. But Main.class needs mvn to run. (I edited the question)"}],"answers":[{"tags":[],"owner":{"account_id":1178010,"reputation":7642,"user_id":1153530,"accept_rate":80,"display_name":"Behe"},"down_vote_count":0,"up_vote_count":175,"is_accepted":true,"score":175,"last_activity_date":1398117307,"creation_date":1334157030,"answer_id":10108780,"question_id":10108374,"body_markdown":"You could run: `mvn exec:exec -Dexec.args=&quot;arg1&quot;`. \r\n\r\nThis will pass the argument *arg1* to your program.\r\n\r\nYou should specify the main class fully qualified, for example, a Main.java that is in a package test would need\r\n\r\n    mvn exec:java  -Dexec.mainClass=test.Main\r\n\r\nBy using the `-f` parameter, as decribed [here](https://stackoverflow.com/questions/6478536/how-to-run-maven-from-another-directory-without-cd-to-project-dir), you can also run it from other directories.\r\n    \r\n    mvn exec:java -Dexec.mainClass=test.Main -f folder/pom.xm\r\n    \r\nFor multiple arguments, simply separate them with a space as you would at the command line.\r\n\r\n    mvn exec:java -Dexec.mainClass=test.Main -Dexec.args=&quot;arg1 arg2 arg3&quot;\r\n\r\nFor arguments separated with a &lt;kbd&gt;space&lt;/kbd&gt;, you can group using `&#39;argument separated with space&#39;`  inside the quotation marks.\r\n\r\n    mvn exec:java -Dexec.mainClass=test.Main -Dexec.args=&quot;&#39;argument separated with space&#39; &#39;another one&#39;&quot;\r\n\r\n\r\n","title":"Maven: How to run a .java file from command line passing arguments","body":"<p>You could run: <code>mvn exec:exec -Dexec.args=\"arg1\"</code>. </p>\n\n<p>This will pass the argument <em>arg1</em> to your program.</p>\n\n<p>You should specify the main class fully qualified, for example, a Main.java that is in a package test would need</p>\n\n<pre><code>mvn exec:java  -Dexec.mainClass=test.Main\n</code></pre>\n\n<p>By using the <code>-f</code> parameter, as decribed <a href=\"https://stackoverflow.com/questions/6478536/how-to-run-maven-from-another-directory-without-cd-to-project-dir\">here</a>, you can also run it from other directories.</p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=test.Main -f folder/pom.xm\n</code></pre>\n\n<p>For multiple arguments, simply separate them with a space as you would at the command line.</p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=test.Main -Dexec.args=\"arg1 arg2 arg3\"\n</code></pre>\n\n<p>For arguments separated with a <kbd>space</kbd>, you can group using <code>'argument separated with space'</code>  inside the quotation marks.</p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=test.Main -Dexec.args=\"'argument separated with space' 'another one'\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1066775,"reputation":4941,"user_id":1067124,"accept_rate":75,"display_name":"Benedikt K&#246;ppel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1452608025,"creation_date":1452608025,"answer_id":34745983,"question_id":10108374,"body_markdown":"In addition to running it with `mvn exec:java`, you can also run it with `mvn exec:exec`\r\n\r\n    mvn exec:exec -Dexec.executable=&quot;java&quot; -Dexec.args=&quot;-classpath %classpath your.package.MainClass&quot;\r\n","title":"Maven: How to run a .java file from command line passing arguments","body":"<p>In addition to running it with <code>mvn exec:java</code>, you can also run it with <code>mvn exec:exec</code></p>\n\n<pre><code>mvn exec:exec -Dexec.executable=\"java\" -Dexec.args=\"-classpath %classpath your.package.MainClass\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16057017,"reputation":121,"user_id":11589015,"display_name":"Tommy1005"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1559460317,"creation_date":1559460317,"answer_id":56412997,"question_id":10108374,"body_markdown":"Adding a shell script e.g. `run.sh` makes it much more easier:\r\n\r\n    #!/usr/bin/env bash\r\n    export JAVA_PROGRAM_ARGS=`echo &quot;$@&quot;`\r\n    mvn exec:java -Dexec.mainClass=&quot;test.Main&quot; -Dexec.args=&quot;$JAVA_PROGRAM_ARGS&quot;\r\n\r\nThen you are able to execute:\r\n\r\n    ./run.sh arg1 arg2 arg3\r\n\r\n","title":"Maven: How to run a .java file from command line passing arguments","body":"<p>Adding a shell script e.g. <code>run.sh</code> makes it much more easier:</p>\n\n<pre><code>#!/usr/bin/env bash\nexport JAVA_PROGRAM_ARGS=`echo \"$@\"`\nmvn exec:java -Dexec.mainClass=\"test.Main\" -Dexec.args=\"$JAVA_PROGRAM_ARGS\"\n</code></pre>\n\n<p>Then you are able to execute:</p>\n\n<pre><code>./run.sh arg1 arg2 arg3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648949654,"creation_date":1648949654,"answer_id":71722346,"question_id":10108374,"body_markdown":"this aproach is half line command , half .pom file . you can put your args in a plugin inside the `&lt;build&gt; &lt;/build&gt;` tag like this \r\n\r\n    \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;%classpath your.package.MainClass&lt;/mainClass&gt;\r\n            &lt;arguments&gt;\r\n                &lt;argument&gt;your_arg&lt;/argument&gt;\r\n            &lt;/arguments&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\nnow your arg is in the pom file . then just execute this in the command line\r\n\r\n    mvn clean compile exec:java\r\n\r\nyou can put many args :\r\n\r\n           &lt;arguments&gt;\r\n                &lt;argument&gt;your_arg1&lt;/argument&gt;\r\n                &lt;argument&gt;your_arg2&lt;/argument&gt;\r\n                &lt;argument&gt;your_arg3&lt;/argument&gt;\r\n            &lt;/arguments&gt;","title":"Maven: How to run a .java file from command line passing arguments","body":"<p>this aproach is half line command , half .pom file . you can put your args in a plugin inside the <code>&lt;build&gt; &lt;/build&gt;</code> tag like this</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;%classpath your.package.MainClass&lt;/mainClass&gt;\n        &lt;arguments&gt;\n            &lt;argument&gt;your_arg&lt;/argument&gt;\n        &lt;/arguments&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>now your arg is in the pom file . then just execute this in the command line</p>\n<pre><code>mvn clean compile exec:java\n</code></pre>\n<p>you can put many args :</p>\n<pre><code>       &lt;arguments&gt;\n            &lt;argument&gt;your_arg1&lt;/argument&gt;\n            &lt;argument&gt;your_arg2&lt;/argument&gt;\n            &lt;argument&gt;your_arg3&lt;/argument&gt;\n        &lt;/arguments&gt;\n</code></pre>\n"}],"owner":{"account_id":1172500,"reputation":1750,"user_id":1149360,"accept_rate":81,"display_name":"phedon rousou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133228,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"accepted_answer_id":10108780,"answer_count":4,"score":106,"last_activity_date":1648949654,"creation_date":1334155643,"question_id":10108374,"body_markdown":"I have the following problem. I would like to run `mvn` from command line for a `Main.java` file. `Main.java` accepts a parameter. **How do I do that from command line?**\r\n\r\nI tried finding an example but I was not successful. Could someone help me by giving me an example of that?\r\n\r\nI looked [here](http://www.vineetmanohar.com/2009/11/3-ways-to-run-java-main-from-maven/) but didn&#39;t quite understand what I should do.\r\n\r\nAlso, **how do I execute that command from a different folder than the Main.java folder?**\r\n\r\nfor example the `Main.java` is located in `my/java/program/Main.java`. \r\nWhat should I put in\r\n\r\n    mvn exec:java -Dexec.mainClass=&quot;what to put here?&quot; -Dexec.args=&quot;arg0 arg1 arg2&quot;","title":"Maven: How to run a .java file from command line passing arguments","body":"<p>I have the following problem. I would like to run <code>mvn</code> from command line for a <code>Main.java</code> file. <code>Main.java</code> accepts a parameter. <strong>How do I do that from command line?</strong></p>\n\n<p>I tried finding an example but I was not successful. Could someone help me by giving me an example of that?</p>\n\n<p>I looked <a href=\"http://www.vineetmanohar.com/2009/11/3-ways-to-run-java-main-from-maven/\" rel=\"noreferrer\">here</a> but didn't quite understand what I should do.</p>\n\n<p>Also, <strong>how do I execute that command from a different folder than the Main.java folder?</strong></p>\n\n<p>for example the <code>Main.java</code> is located in <code>my/java/program/Main.java</code>. \nWhat should I put in</p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=\"what to put here?\" -Dexec.args=\"arg0 arg1 arg2\"\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8528,"page":1464,"page_size":100}
