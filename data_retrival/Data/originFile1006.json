{"items":[{"tags":["java","sql-server","github-actions"],"answers":[{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664288204,"creation_date":1664287779,"answer_id":73869041,"question_id":73868587,"body_markdown":"Suggest to use [Testcontainers][1] instead. This way it is the testcontainers Java library which takes care of starting a database to use it for Integration Testing. It is sooo much easier than the path you are currently on. IMHO.\r\n\r\nYour GitHub Action YAML then becomes simpler.  It will just be pure Maven actions. You also make your test code less dependent on GitHub Actions as your CI system.\r\n\r\nUsing Testcontainers has other advantages: Your test can have full control over the database (or the container in which it runs). For example you can have a test where you kill the container during the test, thereby similating the effect on your application on a database which suddenly is lost.\r\n\r\nBtw: Strictly speaking, what you are attempting is not *Unit Tests*, but *Integration Tests*. Maven makes a distinction. It is advisable to make this distinction. Integration Tests are often quite heavy. By using Testcontainers approach the database container will only be started when you tell Maven to execute Integration Tests. In your example, the database container is always started, regardless if it is needed.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.testcontainers.org/","title":"Cannot access Github Action MSSQL database in tests","body":"<p>Suggest to use <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Testcontainers</a> instead. This way it is the testcontainers Java library which takes care of starting a database to use it for Integration Testing. It is sooo much easier than the path you are currently on. IMHO.</p>\n<p>Your GitHub Action YAML then becomes simpler.  It will just be pure Maven actions. You also make your test code less dependent on GitHub Actions as your CI system.</p>\n<p>Using Testcontainers has other advantages: Your test can have full control over the database (or the container in which it runs). For example you can have a test where you kill the container during the test, thereby similating the effect on your application on a database which suddenly is lost.</p>\n<p>Btw: Strictly speaking, what you are attempting is not <em>Unit Tests</em>, but <em>Integration Tests</em>. Maven makes a distinction. It is advisable to make this distinction. Integration Tests are often quite heavy. By using Testcontainers approach the database container will only be started when you tell Maven to execute Integration Tests. In your example, the database container is always started, regardless if it is needed.</p>\n"}],"owner":{"account_id":9912369,"reputation":43,"user_id":7338580,"display_name":"Bonjean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664288204,"creation_date":1664285880,"question_id":73868587,"body_markdown":"I have a Spring Boot application with MSSQL database. I would like to run github action and run tests for pull requests and merges to master. However I have problem with connecting to database from GA tests. My application uses YAML configuration and I have separate config file for CI tests.\r\nHere is workflow: \r\n```\r\nname: Java CI with Maven\r\n\r\non:\r\n  push:\r\n    branches: [ &quot;master&quot; ]\r\n  pull_request:\r\n    branches: [ &quot;master&quot; ]\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    services: \r\n      mssql:\r\n        image: mcr.microsoft.com/mssql/server:2019-latest\r\n        env:\r\n          SA_PASSWORD: myPassword\r\n          ACCEPT_EULA: &#39;Y&#39;\r\n          DBNAME: test\r\n        ports:\r\n        - 1433:1433\r\n    steps:\r\n    - uses: actions/checkout@v3\r\n    - name: Set up JDK 11\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        java-version: &#39;11&#39;\r\n        distribution: &#39;temurin&#39;\r\n        cache: maven\r\n    - name: Build with Maven\r\n      run: mvn -ntp -U clean test -P junit-ci\r\n```\r\nAnd junit-ci config file: \r\n```\r\nspring:\r\n  datasource:\r\n    driverClassName: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    url: jdbc:sqlserver://mssql:1433;database=test;\r\n    username: sa\r\n    password: myPassword\r\n```\r\n\r\nAnd here is error: \r\n```\r\n[main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host mssql, port 1433 has failed. Error: &quot;mssql. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:234)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:285)\r\n\tat com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2434)\r\n```","title":"Cannot access Github Action MSSQL database in tests","body":"<p>I have a Spring Boot application with MSSQL database. I would like to run github action and run tests for pull requests and merges to master. However I have problem with connecting to database from GA tests. My application uses YAML configuration and I have separate config file for CI tests.\nHere is workflow:</p>\n<pre><code>name: Java CI with Maven\n\non:\n  push:\n    branches: [ &quot;master&quot; ]\n  pull_request:\n    branches: [ &quot;master&quot; ]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    services: \n      mssql:\n        image: mcr.microsoft.com/mssql/server:2019-latest\n        env:\n          SA_PASSWORD: myPassword\n          ACCEPT_EULA: 'Y'\n          DBNAME: test\n        ports:\n        - 1433:1433\n    steps:\n    - uses: actions/checkout@v3\n    - name: Set up JDK 11\n      uses: actions/setup-java@v3\n      with:\n        java-version: '11'\n        distribution: 'temurin'\n        cache: maven\n    - name: Build with Maven\n      run: mvn -ntp -U clean test -P junit-ci\n</code></pre>\n<p>And junit-ci config file:</p>\n<pre><code>spring:\n  datasource:\n    driverClassName: com.microsoft.sqlserver.jdbc.SQLServerDriver\n    url: jdbc:sqlserver://mssql:1433;database=test;\n    username: sa\n    password: myPassword\n</code></pre>\n<p>And here is error:</p>\n<pre><code>[main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.\ncom.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host mssql, port 1433 has failed. Error: &quot;mssql. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:234)\n    at com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:285)\n    at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2434)\n</code></pre>\n"},{"tags":["java","android","sqlite","android-recyclerview","android-room"],"answers":[{"tags":[],"owner":{"account_id":6635887,"reputation":1123,"user_id":5123074,"accept_rate":36,"display_name":"Александр Волошиновский"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664259633,"creation_date":1664259633,"answer_id":73863145,"question_id":73862975,"body_markdown":"add an interface\r\n\r\n    interface AdapterItemClickListener {\r\n      void onItemClickListener(Employee employee, int position)\r\n    }\r\n\r\nyour actvity must implement this interface\r\n\r\n    public class ShowEmployees extends AppCompatActivity implements AdapterItemClickListener  {\r\n            private static final int EDIT_COURSE_REQUEST = 2;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_show_employees);\r\n    \r\n            RecyclerView recyclerView;\r\n            FloatingActionButton fab = findViewById(R.id.idFABAdd);\r\n            EmployeeDao employeeDao;\r\n    \r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    //starting a new activity for adding a new course and passing a constant value in it.\r\n                    Intent intent = new Intent(ShowEmployees.this, MainActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            employeeDao = EmployeeDatabase.getDBInstance(this).employeeDao();\r\n            recyclerView = findViewById(R.id.employeeRecyclerView);\r\n    \r\n            EmployeeRecycler employeeRecycler = new EmployeeRecycler(employeeDao.getAllEmployee(), this);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            recyclerView.setAdapter(employeeRecycler);\r\n    \r\n    \r\n    \r\n    \r\n            //below method is use to add swipe to delete method for item of recycler view.\r\n            new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\r\n                @Override\r\n                public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n                    //on recycler view item swiped then we are deleting the item of our recycler view.\r\n                    employeeDao.deleteEmployee(employeeRecycler.data.get(viewHolder.getAdapterPosition()));\r\n                    Toast.makeText(ShowEmployees.this, &quot;Employee deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }).attachToRecyclerView(recyclerView);\r\n        }\r\n    \r\n       void onItemClickListener(Employee employee, int position) {\r\n          //update or another job\r\n       }\r\n    }\r\n\r\n\r\nand your adapter\r\n\r\n \r\n\r\n       public class EmployeeRecycler extends RecyclerView.Adapter&lt;EmployeeViewHolder&gt; {\r\n            \r\n                List&lt;Employee&gt; data;\r\n                AdapterItemClickListener itemClickListener;\r\n            \r\n                public EmployeeRecycler(List&lt;Employee&gt; employees, AdapterItemClickListener itemClickListener){\r\n                    data = employees;\r\n                    this.itemClickListener = itemClickListener;\r\n                }\r\n            \r\n                @NonNull\r\n                @Override\r\n                public EmployeeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                    View view = LayoutInflater.from(parent.getContext()).inflate(\r\n                            R.layout.list_item_1,\r\n                            parent,false\r\n                    );\r\n                    return new EmployeeViewHolder(view);\r\n                }\r\n            \r\n                @Override\r\n                public void onBindViewHolder(@NonNull EmployeeViewHolder holder, int position) {\r\n                    Employee employee = data.get(position);\r\n                    holder.imageView.setImageBitmap(DataConverter.convertByteArraytoImage(employee.getImage()));\r\n                    holder.firstName.setText(employee.getFirstName());\r\n                    holder.middleName.setText(employee.getMiddleName());\r\n                    holder.lastName.setText(employee.getLastName());\r\n                    holder.dob.setText(employee.getDOB());\r\n                    holder.gender.setText(employee.getGender());\r\n                    holder.address.setText(employee.getAddress());\r\n                    holder.designation.setText(employee.getDesignation());\r\n                    holder.email.setText(employee.getEmail());\r\n                    holder.phoneNumber.setText(employee.getPhoneNumber());\r\n                   \r\n                    holder.itemView.setOnClickListener (v -&gt; { \r\n                       itemClickListener.onItemClickListener(employee, position);\r\n                   });\r\n                }\r\n            \r\n                @Override\r\n                public int getItemCount() {\r\n                    return data.size();\r\n                }\r\n            \r\n            }\r\n\r\n","title":"How do I set onClick listener to recyclerView?","body":"<p>add an interface</p>\n<pre><code>interface AdapterItemClickListener {\n  void onItemClickListener(Employee employee, int position)\n}\n</code></pre>\n<p>your actvity must implement this interface</p>\n<pre><code>public class ShowEmployees extends AppCompatActivity implements AdapterItemClickListener  {\n        private static final int EDIT_COURSE_REQUEST = 2;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_show_employees);\n\n        RecyclerView recyclerView;\n        FloatingActionButton fab = findViewById(R.id.idFABAdd);\n        EmployeeDao employeeDao;\n\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                //starting a new activity for adding a new course and passing a constant value in it.\n                Intent intent = new Intent(ShowEmployees.this, MainActivity.class);\n                startActivity(intent);\n            }\n        });\n\n        employeeDao = EmployeeDatabase.getDBInstance(this).employeeDao();\n        recyclerView = findViewById(R.id.employeeRecyclerView);\n\n        EmployeeRecycler employeeRecycler = new EmployeeRecycler(employeeDao.getAllEmployee(), this);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(employeeRecycler);\n\n\n\n\n        //below method is use to add swipe to delete method for item of recycler view.\n        new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\n            @Override\n            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n                return false;\n            }\n\n            @Override\n            public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n                //on recycler view item swiped then we are deleting the item of our recycler view.\n                employeeDao.deleteEmployee(employeeRecycler.data.get(viewHolder.getAdapterPosition()));\n                Toast.makeText(ShowEmployees.this, &quot;Employee deleted&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }).attachToRecyclerView(recyclerView);\n    }\n\n   void onItemClickListener(Employee employee, int position) {\n      //update or another job\n   }\n}\n</code></pre>\n<p>and your adapter</p>\n<pre><code>   public class EmployeeRecycler extends RecyclerView.Adapter&lt;EmployeeViewHolder&gt; {\n        \n            List&lt;Employee&gt; data;\n            AdapterItemClickListener itemClickListener;\n        \n            public EmployeeRecycler(List&lt;Employee&gt; employees, AdapterItemClickListener itemClickListener){\n                data = employees;\n                this.itemClickListener = itemClickListener;\n            }\n        \n            @NonNull\n            @Override\n            public EmployeeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext()).inflate(\n                        R.layout.list_item_1,\n                        parent,false\n                );\n                return new EmployeeViewHolder(view);\n            }\n        \n            @Override\n            public void onBindViewHolder(@NonNull EmployeeViewHolder holder, int position) {\n                Employee employee = data.get(position);\n                holder.imageView.setImageBitmap(DataConverter.convertByteArraytoImage(employee.getImage()));\n                holder.firstName.setText(employee.getFirstName());\n                holder.middleName.setText(employee.getMiddleName());\n                holder.lastName.setText(employee.getLastName());\n                holder.dob.setText(employee.getDOB());\n                holder.gender.setText(employee.getGender());\n                holder.address.setText(employee.getAddress());\n                holder.designation.setText(employee.getDesignation());\n                holder.email.setText(employee.getEmail());\n                holder.phoneNumber.setText(employee.getPhoneNumber());\n               \n                holder.itemView.setOnClickListener (v -&gt; { \n                   itemClickListener.onItemClickListener(employee, position);\n               });\n            }\n        \n            @Override\n            public int getItemCount() {\n                return data.size();\n            }\n        \n        }\n</code></pre>\n"}],"owner":{"account_id":15741943,"reputation":55,"user_id":11359082,"display_name":"Nishil Raiyarela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73863145,"answer_count":1,"score":1,"last_activity_date":1664287967,"creation_date":1664258393,"question_id":73862975,"body_markdown":"I want to add `onClick` to `recyclerView` to send data back to form Activity for update data process. How can I implement `onItemClickListner` when this code doesn&#39;t have adapter in it?\r\n\r\nShow_Employees.java:\r\n\r\n     package com.example.roomdatabaseandroid;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.ItemTouchHelper;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n    import com.example.roomdatabaseandroid.DataModel.EmployeeDao;\r\n    import com.example.roomdatabaseandroid.DataModel.EmployeeDatabase;\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    \r\n    public class ShowEmployees extends AppCompatActivity {\r\n    \r\n        private static final int EDIT_COURSE_REQUEST = 2;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_show_employees);\r\n    \r\n            RecyclerView recyclerView;\r\n            FloatingActionButton fab = findViewById(R.id.idFABAdd);\r\n            EmployeeDao employeeDao;\r\n    \r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    //starting a new activity for adding a new course and passing a constant value in it.\r\n                    Intent intent = new Intent(ShowEmployees.this, MainActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            employeeDao = EmployeeDatabase.getDBInstance(this).employeeDao();\r\n            recyclerView = findViewById(R.id.employeeRecyclerView);\r\n    \r\n            EmployeeRecycler employeeRecycler = new EmployeeRecycler(employeeDao.getAllEmployee());\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            recyclerView.setAdapter(employeeRecycler);\r\n    \r\n            //below method is use to add swipe to delete method for item of recycler view.\r\n            new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\r\n                @Override\r\n                public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n                    //on recycler view item swiped then we are deleting the item of our recycler view.\r\n                    employeeDao.deleteEmployee(employeeRecycler.data.get(viewHolder.getAdapterPosition()));\r\n                    Toast.makeText(ShowEmployees.this, &quot;Employee deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }).attachToRecyclerView(recyclerView);\r\n        }\r\n    }\r\n\r\nEmployee_Recycler.java:\r\n\r\n        package com.example.roomdatabaseandroid;\r\n        \r\n        import android.view.LayoutInflater;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        \r\n        import androidx.annotation.NonNull;\r\n        import androidx.recyclerview.widget.RecyclerView;\r\n        \r\n        import com.example.roomdatabaseandroid.DataModel.DataConverter;\r\n        import com.example.roomdatabaseandroid.DataModel.Employee;\r\n        \r\n        import java.util.List;\r\n        \r\n        public class EmployeeRecycler extends RecyclerView.Adapter&lt;EmployeeViewHolder&gt; {\r\n        \r\n            List&lt;Employee&gt; data;\r\n        \r\n            public EmployeeRecycler(List&lt;Employee&gt; employees){\r\n                data = employees;\r\n            }\r\n        \r\n            @NonNull\r\n            @Override\r\n            public EmployeeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(\r\n                        R.layout.list_item_1,\r\n                        parent,false\r\n                );\r\n                return new EmployeeViewHolder(view);\r\n            }\r\n        \r\n            @Override\r\n            public void onBindViewHolder(@NonNull EmployeeViewHolder holder, int position) {\r\n                Employee employee = data.get(position);\r\n                holder.imageView.setImageBitmap(DataConverter.convertByteArraytoImage(employee.getImage()));\r\n                holder.firstName.setText(employee.getFirstName());\r\n                holder.middleName.setText(employee.getMiddleName());\r\n                holder.lastName.setText(employee.getLastName());\r\n                holder.dob.setText(employee.getDOB());\r\n                holder.gender.setText(employee.getGender());\r\n                holder.address.setText(employee.getAddress());\r\n                holder.designation.setText(employee.getDesignation());\r\n                holder.email.setText(employee.getEmail());\r\n                holder.phoneNumber.setText(employee.getPhoneNumber());\r\n            }\r\n        \r\n            @Override\r\n            public int getItemCount() {\r\n                return data.size();\r\n            }\r\n        \r\n        }\r\n\r\nEmployeeViewHolder.java:\r\n    \r\n    package com.example.roomdatabaseandroid;\r\n    \r\n    import android.view.View;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    public class EmployeeViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n        ImageView imageView;\r\n        TextView firstName,middleName,lastName,email,phoneNumber,address,designation,gender,dob;\r\n\r\n        public EmployeeViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            firstName = itemView.findViewById(R.id.idTVFirstName);\r\n            middleName = itemView.findViewById(R.id.idTVMiddleName);\r\n            lastName = itemView.findViewById(R.id.idTVLastName);\r\n            dob = itemView.findViewById(R.id.idTVDOB);\r\n            address = itemView.findViewById(R.id.idTVAddress);\r\n            gender = itemView.findViewById(R.id.idTVGender);\r\n            designation = itemView.findViewById(R.id.idTVDesignation);\r\n            email = itemView.findViewById(R.id.idTVEmail);\r\n            phoneNumber = itemView.findViewById(R.id.idTVPhoneNumber);\r\n            imageView = itemView.findViewById(R.id.profileImageView);\r\n        }\r\n    }","title":"How do I set onClick listener to recyclerView?","body":"<p>I want to add <code>onClick</code> to <code>recyclerView</code> to send data back to form Activity for update data process. How can I implement <code>onItemClickListner</code> when this code doesn't have adapter in it?</p>\n<p>Show_Employees.java:</p>\n<pre><code> package com.example.roomdatabaseandroid;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.ItemTouchHelper;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\nimport com.example.roomdatabaseandroid.DataModel.EmployeeDao;\nimport com.example.roomdatabaseandroid.DataModel.EmployeeDatabase;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\npublic class ShowEmployees extends AppCompatActivity {\n\n    private static final int EDIT_COURSE_REQUEST = 2;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_show_employees);\n\n        RecyclerView recyclerView;\n        FloatingActionButton fab = findViewById(R.id.idFABAdd);\n        EmployeeDao employeeDao;\n\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                //starting a new activity for adding a new course and passing a constant value in it.\n                Intent intent = new Intent(ShowEmployees.this, MainActivity.class);\n                startActivity(intent);\n            }\n        });\n\n        employeeDao = EmployeeDatabase.getDBInstance(this).employeeDao();\n        recyclerView = findViewById(R.id.employeeRecyclerView);\n\n        EmployeeRecycler employeeRecycler = new EmployeeRecycler(employeeDao.getAllEmployee());\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(employeeRecycler);\n\n        //below method is use to add swipe to delete method for item of recycler view.\n        new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\n            @Override\n            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n                return false;\n            }\n\n            @Override\n            public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n                //on recycler view item swiped then we are deleting the item of our recycler view.\n                employeeDao.deleteEmployee(employeeRecycler.data.get(viewHolder.getAdapterPosition()));\n                Toast.makeText(ShowEmployees.this, &quot;Employee deleted&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }).attachToRecyclerView(recyclerView);\n    }\n}\n</code></pre>\n<p>Employee_Recycler.java:</p>\n<pre><code>    package com.example.roomdatabaseandroid;\n    \n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    \n    import androidx.annotation.NonNull;\n    import androidx.recyclerview.widget.RecyclerView;\n    \n    import com.example.roomdatabaseandroid.DataModel.DataConverter;\n    import com.example.roomdatabaseandroid.DataModel.Employee;\n    \n    import java.util.List;\n    \n    public class EmployeeRecycler extends RecyclerView.Adapter&lt;EmployeeViewHolder&gt; {\n    \n        List&lt;Employee&gt; data;\n    \n        public EmployeeRecycler(List&lt;Employee&gt; employees){\n            data = employees;\n        }\n    \n        @NonNull\n        @Override\n        public EmployeeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext()).inflate(\n                    R.layout.list_item_1,\n                    parent,false\n            );\n            return new EmployeeViewHolder(view);\n        }\n    \n        @Override\n        public void onBindViewHolder(@NonNull EmployeeViewHolder holder, int position) {\n            Employee employee = data.get(position);\n            holder.imageView.setImageBitmap(DataConverter.convertByteArraytoImage(employee.getImage()));\n            holder.firstName.setText(employee.getFirstName());\n            holder.middleName.setText(employee.getMiddleName());\n            holder.lastName.setText(employee.getLastName());\n            holder.dob.setText(employee.getDOB());\n            holder.gender.setText(employee.getGender());\n            holder.address.setText(employee.getAddress());\n            holder.designation.setText(employee.getDesignation());\n            holder.email.setText(employee.getEmail());\n            holder.phoneNumber.setText(employee.getPhoneNumber());\n        }\n    \n        @Override\n        public int getItemCount() {\n            return data.size();\n        }\n    \n    }\n</code></pre>\n<p>EmployeeViewHolder.java:</p>\n<pre><code>package com.example.roomdatabaseandroid;\n\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class EmployeeViewHolder extends RecyclerView.ViewHolder {\n\n    ImageView imageView;\n    TextView firstName,middleName,lastName,email,phoneNumber,address,designation,gender,dob;\n\n    public EmployeeViewHolder(@NonNull View itemView) {\n        super(itemView);\n        firstName = itemView.findViewById(R.id.idTVFirstName);\n        middleName = itemView.findViewById(R.id.idTVMiddleName);\n        lastName = itemView.findViewById(R.id.idTVLastName);\n        dob = itemView.findViewById(R.id.idTVDOB);\n        address = itemView.findViewById(R.id.idTVAddress);\n        gender = itemView.findViewById(R.id.idTVGender);\n        designation = itemView.findViewById(R.id.idTVDesignation);\n        email = itemView.findViewById(R.id.idTVEmail);\n        phoneNumber = itemView.findViewById(R.id.idTVPhoneNumber);\n        imageView = itemView.findViewById(R.id.profileImageView);\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664287576,"creation_date":1664287576,"answer_id":73869002,"question_id":73528546,"body_markdown":"Use subtypes\r\n\r\nExample\r\n\r\n```\r\n   @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, \r\n      include = As.PROPERTY, property = &quot;type&quot;) @JsonSubTypes({\r\n         \r\n      @JsonSubTypes.Type(value = Square.class, name = &quot;square&quot;),\r\n      @JsonSubTypes.Type(value = Circle.class, name = &quot;circle&quot;)\r\n   })\r\n   static class Shape {\r\n      public String name;    \r\n      Shape(String name) {\r\n         this.name = name;\r\n      }\r\n   }\r\n\r\n   @JsonTypeName(&quot;square&quot;)\r\n   static class Square extends Shape {\r\n      public double length;\r\n      Square(){\r\n         this(null,0.0);\r\n      }\r\n      Square(String name, double length){\r\n         super(name);\r\n         this.length = length;\r\n      }\r\n   }\r\n\r\n   @JsonTypeName(&quot;circle&quot;)\r\n   static class Circle extends Shape {\r\n     ... \r\n```\r\n\r\nThe deserializer should only need the class type, not start/end positions ","title":"Deserialize to object whose field should be deserialized based on runtime","body":"<p>Use subtypes</p>\n<p>Example</p>\n<pre><code>   @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, \n      include = As.PROPERTY, property = &quot;type&quot;) @JsonSubTypes({\n         \n      @JsonSubTypes.Type(value = Square.class, name = &quot;square&quot;),\n      @JsonSubTypes.Type(value = Circle.class, name = &quot;circle&quot;)\n   })\n   static class Shape {\n      public String name;    \n      Shape(String name) {\n         this.name = name;\n      }\n   }\n\n   @JsonTypeName(&quot;square&quot;)\n   static class Square extends Shape {\n      public double length;\n      Square(){\n         this(null,0.0);\n      }\n      Square(String name, double length){\n         super(name);\n         this.length = length;\n      }\n   }\n\n   @JsonTypeName(&quot;circle&quot;)\n   static class Circle extends Shape {\n     ... \n</code></pre>\n<p>The deserializer should only need the class type, not start/end positions</p>\n"}],"owner":{"account_id":2003546,"reputation":772,"user_id":1794012,"accept_rate":27,"display_name":"chebus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664287576,"creation_date":1661774733,"question_id":73528546,"body_markdown":"I have  a class like below,\r\n\r\n    class KafkaJsonWrapper{\r\n    \r\n    String version;\r\n    Object kafkaEvent;\r\n    \r\n    }\r\n\r\nwhen I serialize this object , I pass the kafkaEvent which is from different services and datamodel is different.\r\n\r\nFor instance, \r\n\r\n    KafkaJsonWrapper obj = ..\r\n    obj.setKafkaEvent(new AccountEvent()) \r\n    obj.setKafkaEvent(new BonusTriggeredEvent()) //OR\r\n    etc..\r\n    objectMapper.writeValueAsBytes(object)\r\n\r\nHowever when i deserialize it how can i deserialize to type which i used for serialization.\r\n\r\n        ACTUAL:\r\n        KafkaJsonWrapper wrapper = objectMapper.readValue(buffer.array(), start, length, type); //type is KafkaJsonWrapper\r\n        wrapper.getKafkaEvent()// inside this KafkaJsonWrapper is LinkedHashMap all the time.\r\n        EXPECTED:\r\n        KafkaJsonWrapper wrapper = objectMapper.readValue(buffer.array(), start, length, type); \r\n        wrapper.getKafkaEvent() // should be the type when it was serialzed like BonusTriggeredEvent etc.\r\n\r\n","title":"Deserialize to object whose field should be deserialized based on runtime","body":"<p>I have  a class like below,</p>\n<pre><code>class KafkaJsonWrapper{\n\nString version;\nObject kafkaEvent;\n\n}\n</code></pre>\n<p>when I serialize this object , I pass the kafkaEvent which is from different services and datamodel is different.</p>\n<p>For instance,</p>\n<pre><code>KafkaJsonWrapper obj = ..\nobj.setKafkaEvent(new AccountEvent()) \nobj.setKafkaEvent(new BonusTriggeredEvent()) //OR\netc..\nobjectMapper.writeValueAsBytes(object)\n</code></pre>\n<p>However when i deserialize it how can i deserialize to type which i used for serialization.</p>\n<pre><code>    ACTUAL:\n    KafkaJsonWrapper wrapper = objectMapper.readValue(buffer.array(), start, length, type); //type is KafkaJsonWrapper\n    wrapper.getKafkaEvent()// inside this KafkaJsonWrapper is LinkedHashMap all the time.\n    EXPECTED:\n    KafkaJsonWrapper wrapper = objectMapper.readValue(buffer.array(), start, length, type); \n    wrapper.getKafkaEvent() // should be the type when it was serialzed like BonusTriggeredEvent etc.\n</code></pre>\n"},{"tags":["java","android","xml","android-10.0"],"comments":[{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1664290651,"post_id":73868985,"comment_id":130434955,"body_markdown":"Does this answer your question? [How to disable emojis programmatically in Android](https://stackoverflow.com/questions/40888902/how-to-disable-emojis-programmatically-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40888902/how-to-disable-emojis-programmatically-in-android\">How to disable emojis programmatically in Android</a>"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1664290919,"post_id":73868985,"comment_id":130435084,"body_markdown":"There are hundreds of soft keyboard implementations, both pre-installed and user-installed. Their respective developers can do whatever they want. Some will have buttons like this, some will not. Things like `inputType` are hints that can and will be ignored or interpreted differently by different soft keyboards.","body":"There are hundreds of soft keyboard implementations, both pre-installed and user-installed. Their respective developers can do whatever they want. Some will have buttons like this, some will not. Things like <code>inputType</code> are hints that can and will be ignored or interpreted differently by different soft keyboards."},{"owner":{"account_id":14338249,"reputation":3000,"user_id":10357086,"display_name":"Dev4Life"},"score":0,"creation_date":1692857848,"post_id":73868985,"comment_id":135681392,"body_markdown":"You can&#39;t do it for all keyboards maybe as @CommonsWare mentioned. Still, you can override `onTextChanged` or `filter` the input to get the desired result.","body":"You can&#39;t do it for all keyboards maybe as @CommonsWare mentioned. Still, you can override <code>onTextChanged</code> or <code>filter</code> the input to get the desired result."}],"owner":{"account_id":14952907,"reputation":31,"user_id":10795297,"display_name":"javi Alvarez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664287502,"creation_date":1664287502,"question_id":73868985,"body_markdown":"I want to remove the smilly key in the Android 10 keyboard.\r\n[![enter image description here][1]][1]\r\n\r\nI tried with diferent android:inputType in the EditText.\r\n\r\n\r\n```\r\nandroid:inputType=&quot;textCapSentences|textAutoCorrect|textMultiLine|textShortMessage&quot;\r\n```\r\nI don&#39;t want to forbid this creating a InputFilter in java code\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sXabh.png","title":"Its posible to remove the smiley key in the android 10 keyboard?","body":"<p>I want to remove the smilly key in the Android 10 keyboard.\n<a href=\"https://i.stack.imgur.com/sXabh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXabh.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried with diferent android:inputType in the EditText.</p>\n<pre><code>android:inputType=&quot;textCapSentences|textAutoCorrect|textMultiLine|textShortMessage&quot;\n</code></pre>\n<p>I don't want to forbid this creating a InputFilter in java code</p>\n"},{"tags":["java","spring-boot","spring-webflux","okhttp"],"comments":[{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1670009554,"post_id":65418385,"comment_id":131781148,"body_markdown":"The accepted solution is **inherently wrong**. You should not use specific versions for dependencies managed by Spring, unless you really have a very specific reason. Your problem is primarily *not the version* you specified, but the fact itself *that you specified* any version. You should leave it to Spring to manage the dependencies consistently.","body":"The accepted solution is <b>inherently wrong</b>. You should not use specific versions for dependencies managed by Spring, unless you really have a very specific reason. Your problem is primarily <i>not the version</i> you specified, but the fact itself <i>that you specified</i> any version. You should leave it to Spring to manage the dependencies consistently."}],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1659700812,"creation_date":1608701349,"answer_id":65419450,"question_id":65418385,"body_markdown":"You&#39;re using OkHttp 3.14.9 with MockWebServer 4.9.0. These versions must match.","title":"okhhtp3 mockserver java.lang.NoClassDefFoundError: okhttp3/internal/concurrent/TaskRunner$RealBackend","body":"<p>You're using OkHttp 3.14.9 with MockWebServer 4.9.0. These versions must match.</p>\n"},{"tags":[],"owner":{"account_id":4029137,"reputation":462,"user_id":3316015,"display_name":"traeper"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1613450470,"creation_date":1613450470,"answer_id":66218779,"question_id":65418385,"body_markdown":"I solved the issue by excluding embedded default okhttp v3.14.9\r\n\r\n    testImplementation(&quot;com.squareup.okhttp3:mockwebserver:4.9.0&quot;) {\r\n        exclude(&quot;com.squareup.okhttp3&quot;, &quot;okhttp&quot;)\r\n    }\r\n    testImplementation(&quot;com.squareup.okhttp3:okhttp:4.9.0&quot;)","title":"okhhtp3 mockserver java.lang.NoClassDefFoundError: okhttp3/internal/concurrent/TaskRunner$RealBackend","body":"<p>I solved the issue by excluding embedded default okhttp v3.14.9</p>\n<pre><code>testImplementation(&quot;com.squareup.okhttp3:mockwebserver:4.9.0&quot;) {\n    exclude(&quot;com.squareup.okhttp3&quot;, &quot;okhttp&quot;)\n}\ntestImplementation(&quot;com.squareup.okhttp3:okhttp:4.9.0&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1655211403,"creation_date":1632952550,"answer_id":69383742,"question_id":65418385,"body_markdown":"If you don&#39;t have a specific reason for a specific version, don&#39;t specify it in the `POM` file and leave it for Maven to decide. \r\n\r\nThe version is set in the `&lt;dependencyManagement&gt;` of the `org.springframework.boot/spring-boot-dependencies`. It is set consistently with other related dependencies and there *rarely* is a legitimate reason to change it.\r\n\r\nThen the versions of the transitive dependencies will not collide.\r\n\r\nIn your `POM` this should be enough:\r\n\r\n``` xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n``` ","title":"okhhtp3 mockserver java.lang.NoClassDefFoundError: okhttp3/internal/concurrent/TaskRunner$RealBackend","body":"<p>If you don't have a specific reason for a specific version, don't specify it in the <code>POM</code> file and leave it for Maven to decide.</p>\n<p>The version is set in the <code>&lt;dependencyManagement&gt;</code> of the <code>org.springframework.boot/spring-boot-dependencies</code>. It is set consistently with other related dependencies and there <em>rarely</em> is a legitimate reason to change it.</p>\n<p>Then the versions of the transitive dependencies will not collide.</p>\n<p>In your <code>POM</code> this should be enough:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6212435,"reputation":141,"user_id":4838339,"display_name":"Kaira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664286990,"creation_date":1664286990,"answer_id":73868878,"question_id":65418385,"body_markdown":"I added explicitly dependency for okio:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nbasically it replaced **1.17.2** to **3.2.0**\r\n\r\nOkio is part of okhttp3, and some of it the versions use okio without some elements which were introduced in the newer okio version (maybe BOM was neglected) ","title":"okhhtp3 mockserver java.lang.NoClassDefFoundError: okhttp3/internal/concurrent/TaskRunner$RealBackend","body":"<p>I added explicitly dependency for okio:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n        &lt;artifactId&gt;okio&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>basically it replaced <strong>1.17.2</strong> to <strong>3.2.0</strong></p>\n<p>Okio is part of okhttp3, and some of it the versions use okio without some elements which were introduced in the newer okio version (maybe BOM was neglected)</p>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10623,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":65419450,"answer_count":4,"score":17,"last_activity_date":1664286990,"creation_date":1608691627,"question_id":65418385,"body_markdown":"Maven dependency \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe test I&#39;ve written \r\n\r\n    @SpringJUnitConfig(classes = {GithubApiService.class, WebClientConfiguration.class})\r\n    @EnableAutoConfiguration\r\n    public class GithubApiServiceTest {\r\n    \r\n        @Test\r\n        public void testGithubResponseJsonToMapConversion(\r\n                @Autowired GithubApiService service,\r\n                @Value(&quot;classpath:github/commit-payload.json&quot;) Resource commitPayloadFile) throws IOException {\r\n    \r\n            final String COMMITS_URL = &quot;/repos/Codertocat/Hello-World/commits/sha&quot;;\r\n    \r\n            //Stub response from Github Server\r\n            String responseJson = new ObjectMapper().writeValueAsString(\r\n                    new String(Files.readAllBytes(Paths.get(commitPayloadFile.getFile().getAbsolutePath()))));\r\n            MockWebServer server = new MockWebServer();\r\n            server.enqueue(new MockResponse()\r\n                                   .addHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n                                   .setBody(responseJson)\r\n                                   .setResponseCode(OK.value()));\r\n            server.start();\r\n            // Get mock server&#39;s URL\r\n            HttpUrl mockGithubUrl = server.url(COMMITS_URL);\r\n    \r\n            //Call API Service\r\n            Map&lt;String, Object&gt; result = service.getCommitDetails(mockGithubUrl.toString()).block();\r\n    \r\n            //Expect return type is hashmap\r\n            assertThat(result.get(&quot;sha&quot;)).isEqualTo(&quot;6dcb09b5b57875f334f61aebed695e2e4193db5e&quot;);\r\n    \r\n            server.shutdown();\r\n        }\r\n    }\r\n\r\nThe class under test \r\n\r\n    @Service\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class GithubApiService {\r\n    \r\n        @Autowired\r\n        private final WebClient webClient;\r\n    \r\n        public Mono&lt;Map&lt;String, Object&gt;&gt; getCommitDetails(String commitsUrl) {\r\n            return webClient.get()\r\n                    .uri(commitsUrl)\r\n                    .httpRequest(httpRequest -&gt; {\r\n                        HttpClientRequest reactorRequest = httpRequest.getNativeRequest();\r\n                        reactorRequest.responseTimeout(Duration.ofSeconds(2));\r\n                    })\r\n                    .accept(APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n                    });\r\n        }\r\n    }\r\n\r\nI get this error when I run the test \r\n\r\n    java.lang.NoClassDefFoundError: okhttp3/internal/concurrent/TaskRunner$RealBackend\r\n    \r\n    \tat okhttp3.mockwebserver.MockWebServer.&lt;init&gt;(MockWebServer.kt:101)\r\n    \tat com.digite.vcs.git.analytics.github.webhook.GithubApiServiceTest.testGithubResponseJsonToMapConversion(GithubApiServiceTest.java:37)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n    Caused by: java.lang.ClassNotFoundException: okhttp3.internal.concurrent.TaskRunner$RealBackend\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 67 more\r\n\r\nWhen I browse on source TaskRunner on github I do see the TaskRunner class but not when I search for it from within my IDE. Am I missing something in the dependency declaration?\r\n\r\n\r\n    [INFO] --- maven-dependency-plugin:3.1.2:tree (default-cli) @ git-analytics ---\r\n    [INFO] com.digite.vcs:git-analytics:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.4.1:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.4.1:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:2.4.1:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.4.1:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.4.1:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.2.3:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.3:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.13.3:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.13.3:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.30:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.27:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.4.1:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.11.3:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.11.3:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.11.3:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.4.1:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.41:compile\r\n    [INFO] |  |  +- org.glassfish:jakarta.el:jar:3.0.3:compile\r\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.41:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:5.3.2:compile\r\n    [INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.2:compile\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.2:compile\r\n    [INFO] |     +- org.springframework:spring-aop:jar:5.3.2:compile\r\n    [INFO] |     +- org.springframework:spring-context:jar:5.3.2:compile\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:5.3.2:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:2.4.1:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.4.1:compile\r\n    [INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.2:compile\r\n    [INFO] |  |     +- io.netty:netty-codec-http:jar:4.1.55.Final:compile\r\n    [INFO] |  |     |  +- io.netty:netty-common:jar:4.1.55.Final:compile\r\n    [INFO] |  |     |  +- io.netty:netty-buffer:jar:4.1.55.Final:compile\r\n    [INFO] |  |     |  +- io.netty:netty-transport:jar:4.1.55.Final:compile\r\n    [INFO] |  |     |  +- io.netty:netty-codec:jar:4.1.55.Final:compile\r\n    [INFO] |  |     |  \\- io.netty:netty-handler:jar:4.1.55.Final:compile\r\n    [INFO] |  |     +- io.netty:netty-codec-http2:jar:4.1.55.Final:compile\r\n    [INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.55.Final:compile\r\n    [INFO] |  |     |  +- io.netty:netty-resolver:jar:4.1.55.Final:compile\r\n    [INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.55.Final:compile\r\n    [INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.55.Final:compile\r\n    [INFO] |  |     |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.55.Final:compile\r\n    [INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.2:compile\r\n    [INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.55.Final:compile\r\n    [INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.55.Final:compile\r\n    [INFO] |  \\- org.springframework:spring-webflux:jar:5.3.2:compile\r\n    [INFO] |     \\- io.projectreactor:reactor-core:jar:3.4.1:compile\r\n    [INFO] |        \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-mongodb:jar:2.4.1:compile\r\n    [INFO] |  +- org.mongodb:mongodb-driver-sync:jar:4.1.1:compile\r\n    [INFO] |  |  +- org.mongodb:bson:jar:4.1.1:compile\r\n    [INFO] |  |  \\- org.mongodb:mongodb-driver-core:jar:4.1.1:compile\r\n    [INFO] |  \\- org.springframework.data:spring-data-mongodb:jar:3.1.2:compile\r\n    [INFO] |     +- org.springframework:spring-tx:jar:5.3.2:compile\r\n    [INFO] |     \\- org.springframework.data:spring-data-commons:jar:2.4.2:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.11.3:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.11.3:compile\r\n    [INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.11.3:compile\r\n    [INFO] +- org.projectlombok:lombok:jar:1.18.16:compile (optional) \r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.4.1:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.4.1:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.4.1:test\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:test\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:test\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.18.1:test\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.7.0:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.7.0:test\r\n    [INFO] |  |  |  +- org.apiguardian:apiguardian-api:jar:1.1.0:test\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n    [INFO] |  |  |  \\- org.junit.platform:junit-platform-commons:jar:1.7.0:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.7.0:test\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.7.0:test\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.7.0:test\r\n    [INFO] |  +- org.mockito:mockito-core:jar:3.6.28:test\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.10.18:test\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.18:test\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.1:test\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:3.6.28:test\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n    [INFO] |  +- org.springframework:spring-core:jar:5.3.2:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.2:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:5.3.2:test\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.7.0:test\r\n    [INFO] +- de.flapdoodle.embed:de.flapdoodle.embed.mongo:jar:2.2.0:test\r\n    [INFO] |  \\- de.flapdoodle.embed:de.flapdoodle.embed.process:jar:2.1.2:test\r\n    [INFO] |     +- org.apache.commons:commons-lang3:jar:3.11:test\r\n    [INFO] |     +- net.java.dev.jna:jna:jar:4.0.0:test\r\n    [INFO] |     +- net.java.dev.jna:jna-platform:jar:4.0.0:test\r\n    [INFO] |     \\- org.apache.commons:commons-compress:jar:1.18:test\r\n    [INFO] +- com.jayway.jsonpath:json-path:jar:2.4.0:test\r\n    [INFO] |  +- net.minidev:json-smart:jar:2.3:test\r\n    [INFO] |  |  \\- net.minidev:accessors-smart:jar:1.2:test\r\n    [INFO] |  |     \\- org.ow2.asm:asm:jar:5.0.4:test\r\n    [INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.30:compile\r\n    [INFO] \\- com.squareup.okhttp3:mockwebserver:jar:4.9.0:test\r\n    [INFO]    +- com.squareup.okhttp3:okhttp:jar:3.14.9:test\r\n    [INFO]    |  \\- com.squareup.okio:okio:jar:1.17.2:test\r\n    [INFO]    +- junit:junit:jar:4.13.1:test\r\n    [INFO]    |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\r\n    [INFO]    \\- org.jetbrains.kotlin:kotlin-stdlib-jdk8:jar:1.4.21:test\r\n    [INFO]       +- org.jetbrains.kotlin:kotlin-stdlib:jar:1.4.21:test\r\n    [INFO]       |  +- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.4.21:test\r\n    [INFO]       |  \\- org.jetbrains:annotations:jar:13.0:test\r\n    [INFO]       \\- org.jetbrains.kotlin:kotlin-stdlib-jdk7:jar:1.4.21:test\r\n\r\n","title":"okhhtp3 mockserver java.lang.NoClassDefFoundError: okhttp3/internal/concurrent/TaskRunner$RealBackend","body":"<p>Maven dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n        &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The test I've written</p>\n<pre><code>@SpringJUnitConfig(classes = {GithubApiService.class, WebClientConfiguration.class})\n@EnableAutoConfiguration\npublic class GithubApiServiceTest {\n\n    @Test\n    public void testGithubResponseJsonToMapConversion(\n            @Autowired GithubApiService service,\n            @Value(&quot;classpath:github/commit-payload.json&quot;) Resource commitPayloadFile) throws IOException {\n\n        final String COMMITS_URL = &quot;/repos/Codertocat/Hello-World/commits/sha&quot;;\n\n        //Stub response from Github Server\n        String responseJson = new ObjectMapper().writeValueAsString(\n                new String(Files.readAllBytes(Paths.get(commitPayloadFile.getFile().getAbsolutePath()))));\n        MockWebServer server = new MockWebServer();\n        server.enqueue(new MockResponse()\n                               .addHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\n                               .setBody(responseJson)\n                               .setResponseCode(OK.value()));\n        server.start();\n        // Get mock server's URL\n        HttpUrl mockGithubUrl = server.url(COMMITS_URL);\n\n        //Call API Service\n        Map&lt;String, Object&gt; result = service.getCommitDetails(mockGithubUrl.toString()).block();\n\n        //Expect return type is hashmap\n        assertThat(result.get(&quot;sha&quot;)).isEqualTo(&quot;6dcb09b5b57875f334f61aebed695e2e4193db5e&quot;);\n\n        server.shutdown();\n    }\n}\n</code></pre>\n<p>The class under test</p>\n<pre><code>@Service\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class GithubApiService {\n\n    @Autowired\n    private final WebClient webClient;\n\n    public Mono&lt;Map&lt;String, Object&gt;&gt; getCommitDetails(String commitsUrl) {\n        return webClient.get()\n                .uri(commitsUrl)\n                .httpRequest(httpRequest -&gt; {\n                    HttpClientRequest reactorRequest = httpRequest.getNativeRequest();\n                    reactorRequest.responseTimeout(Duration.ofSeconds(2));\n                })\n                .accept(APPLICATION_JSON)\n                .retrieve()\n                .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n                });\n    }\n}\n</code></pre>\n<p>I get this error when I run the test</p>\n<pre><code>java.lang.NoClassDefFoundError: okhttp3/internal/concurrent/TaskRunner$RealBackend\n\n    at okhttp3.mockwebserver.MockWebServer.&lt;init&gt;(MockWebServer.kt:101)\n    at com.digite.vcs.git.analytics.github.webhook.GithubApiServiceTest.testGithubResponseJsonToMapConversion(GithubApiServiceTest.java:37)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\nCaused by: java.lang.ClassNotFoundException: okhttp3.internal.concurrent.TaskRunner$RealBackend\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 67 more\n</code></pre>\n<p>When I browse on source TaskRunner on github I do see the TaskRunner class but not when I search for it from within my IDE. Am I missing something in the dependency declaration?</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.1.2:tree (default-cli) @ git-analytics ---\n[INFO] com.digite.vcs:git-analytics:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.4.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.4.1:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:2.4.1:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.4.1:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.4.1:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.2.3:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.3:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.13.3:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.13.3:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.30:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.27:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.4.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.11.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.11.3:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.11.3:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.4.1:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.41:compile\n[INFO] |  |  +- org.glassfish:jakarta.el:jar:3.0.3:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.41:compile\n[INFO] |  +- org.springframework:spring-web:jar:5.3.2:compile\n[INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.2:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.2:compile\n[INFO] |     +- org.springframework:spring-aop:jar:5.3.2:compile\n[INFO] |     +- org.springframework:spring-context:jar:5.3.2:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:5.3.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:2.4.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.4.1:compile\n[INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.2:compile\n[INFO] |  |     +- io.netty:netty-codec-http:jar:4.1.55.Final:compile\n[INFO] |  |     |  +- io.netty:netty-common:jar:4.1.55.Final:compile\n[INFO] |  |     |  +- io.netty:netty-buffer:jar:4.1.55.Final:compile\n[INFO] |  |     |  +- io.netty:netty-transport:jar:4.1.55.Final:compile\n[INFO] |  |     |  +- io.netty:netty-codec:jar:4.1.55.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-handler:jar:4.1.55.Final:compile\n[INFO] |  |     +- io.netty:netty-codec-http2:jar:4.1.55.Final:compile\n[INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.55.Final:compile\n[INFO] |  |     |  +- io.netty:netty-resolver:jar:4.1.55.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.55.Final:compile\n[INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.55.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.55.Final:compile\n[INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.2:compile\n[INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.55.Final:compile\n[INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.55.Final:compile\n[INFO] |  \\- org.springframework:spring-webflux:jar:5.3.2:compile\n[INFO] |     \\- io.projectreactor:reactor-core:jar:3.4.1:compile\n[INFO] |        \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-mongodb:jar:2.4.1:compile\n[INFO] |  +- org.mongodb:mongodb-driver-sync:jar:4.1.1:compile\n[INFO] |  |  +- org.mongodb:bson:jar:4.1.1:compile\n[INFO] |  |  \\- org.mongodb:mongodb-driver-core:jar:4.1.1:compile\n[INFO] |  \\- org.springframework.data:spring-data-mongodb:jar:3.1.2:compile\n[INFO] |     +- org.springframework:spring-tx:jar:5.3.2:compile\n[INFO] |     \\- org.springframework.data:spring-data-commons:jar:2.4.2:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.11.3:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.11.3:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.11.3:compile\n[INFO] +- org.projectlombok:lombok:jar:1.18.16:compile (optional) \n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.4.1:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.4.1:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.4.1:test\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:test\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:test\n[INFO] |  +- org.assertj:assertj-core:jar:3.18.1:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.7.0:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.7.0:test\n[INFO] |  |  |  +- org.apiguardian:apiguardian-api:jar:1.1.0:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  \\- org.junit.platform:junit-platform-commons:jar:1.7.0:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.7.0:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.7.0:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.7.0:test\n[INFO] |  +- org.mockito:mockito-core:jar:3.6.28:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.10.18:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.18:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.1:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:3.6.28:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-core:jar:5.3.2:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.2:compile\n[INFO] |  +- org.springframework:spring-test:jar:5.3.2:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.7.0:test\n[INFO] +- de.flapdoodle.embed:de.flapdoodle.embed.mongo:jar:2.2.0:test\n[INFO] |  \\- de.flapdoodle.embed:de.flapdoodle.embed.process:jar:2.1.2:test\n[INFO] |     +- org.apache.commons:commons-lang3:jar:3.11:test\n[INFO] |     +- net.java.dev.jna:jna:jar:4.0.0:test\n[INFO] |     +- net.java.dev.jna:jna-platform:jar:4.0.0:test\n[INFO] |     \\- org.apache.commons:commons-compress:jar:1.18:test\n[INFO] +- com.jayway.jsonpath:json-path:jar:2.4.0:test\n[INFO] |  +- net.minidev:json-smart:jar:2.3:test\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:1.2:test\n[INFO] |  |     \\- org.ow2.asm:asm:jar:5.0.4:test\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.30:compile\n[INFO] \\- com.squareup.okhttp3:mockwebserver:jar:4.9.0:test\n[INFO]    +- com.squareup.okhttp3:okhttp:jar:3.14.9:test\n[INFO]    |  \\- com.squareup.okio:okio:jar:1.17.2:test\n[INFO]    +- junit:junit:jar:4.13.1:test\n[INFO]    |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\n[INFO]    \\- org.jetbrains.kotlin:kotlin-stdlib-jdk8:jar:1.4.21:test\n[INFO]       +- org.jetbrains.kotlin:kotlin-stdlib:jar:1.4.21:test\n[INFO]       |  +- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.4.21:test\n[INFO]       |  \\- org.jetbrains:annotations:jar:13.0:test\n[INFO]       \\- org.jetbrains.kotlin:kotlin-stdlib-jdk7:jar:1.4.21:test\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1664287738,"post_id":73868857,"comment_id":130433774,"body_markdown":"@Autowired requires the spring context, so the test is probably trying to load the entire context which is failing.  Try creating a `JacksonTester&lt;UserDto&gt;` manually in a @BeforeEach or as part of the @Test.  Side note: there doesn&#39;t appear to be much value to this test since the code tests a third party library (which presumably has its own tests).","body":"@Autowired requires the spring context, so the test is probably trying to load the entire context which is failing.  Try creating a <code>JacksonTester&lt;UserDto&gt;</code> manually in a @BeforeEach or as part of the @Test.  Side note: there doesn&#39;t appear to be much value to this test since the code tests a third party library (which presumably has its own tests)."},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664287772,"post_id":73868857,"comment_id":130433783,"body_markdown":"Look like a issue in item repo","body":"Look like a issue in item repo"}],"owner":{"account_id":26370194,"reputation":21,"user_id":20025005,"display_name":"Dmitriy Kandalov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664286921,"creation_date":1664286921,"question_id":73868857,"body_markdown":"I&#39;m trying to test my DTO classes using the @JsonTest annotation, but the tests fail with an error\r\nDescription:\r\n\r\nA component required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;itemRepository&#39; defined in ru.practicum.shareit.item.Repository.ItemRepository defined in @EnableJpaRepositories declared on\r\n\r\nEntities do not contain complex objects and interactions with the database\r\n\r\n    package ru.practicum.shareit.user;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.json.JsonTest;\r\n    import org.springframework.boot.test.json.JacksonTester;\r\n    import org.springframework.boot.test.json.JsonContent;\r\n    import ru.practicum.shareit.item.Repository.ItemRepository;\r\n    import ru.practicum.shareit.user.dto.UserDto;\r\n    import ru.practicum.shareit.user.userStorage.UserRepository;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n    @JsonTest\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class UserDtoTest {\r\n        @Autowired\r\n        private JacksonTester&lt;UserDto&gt; json;\r\n    \r\n        @Test\r\n        public void testUserDto() throws Exception {\r\n            UserDto userDto = new UserDto(\r\n                    1l,\r\n                    &quot;name&quot;,\r\n                    &quot;email@ya.ru&quot;\r\n            );\r\n            JsonContent&lt;UserDto&gt; result = json.write(userDto);\r\n            assertThat(result).extractingJsonPathNumberValue(&quot;$.id&quot;).isEqualTo(1);\r\n            assertThat(result).extractingJsonPathStringValue(&quot;$.name&quot;).isEqualTo(&quot;name&quot;);\r\n            assertThat(result).extractingJsonPathStringValue(&quot;$.email&quot;).isEqualTo(&quot;email@ya.ru&quot;);\r\n        }\r\n    }\r\n\r\n","title":"DTO entity tests using Json Test do not pass","body":"<p>I'm trying to test my DTO classes using the @JsonTest annotation, but the tests fail with an error\nDescription:</p>\n<p>A component required a bean named 'entityManagerFactory' that could not be found.\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'itemRepository' defined in ru.practicum.shareit.item.Repository.ItemRepository defined in @EnableJpaRepositories declared on</p>\n<p>Entities do not contain complex objects and interactions with the database</p>\n<pre><code>package ru.practicum.shareit.user;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.json.JsonTest;\nimport org.springframework.boot.test.json.JacksonTester;\nimport org.springframework.boot.test.json.JsonContent;\nimport ru.practicum.shareit.item.Repository.ItemRepository;\nimport ru.practicum.shareit.user.dto.UserDto;\nimport ru.practicum.shareit.user.userStorage.UserRepository;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@JsonTest\n@ExtendWith(MockitoExtension.class)\npublic class UserDtoTest {\n    @Autowired\n    private JacksonTester&lt;UserDto&gt; json;\n\n    @Test\n    public void testUserDto() throws Exception {\n        UserDto userDto = new UserDto(\n                1l,\n                &quot;name&quot;,\n                &quot;email@ya.ru&quot;\n        );\n        JsonContent&lt;UserDto&gt; result = json.write(userDto);\n        assertThat(result).extractingJsonPathNumberValue(&quot;$.id&quot;).isEqualTo(1);\n        assertThat(result).extractingJsonPathStringValue(&quot;$.name&quot;).isEqualTo(&quot;name&quot;);\n        assertThat(result).extractingJsonPathStringValue(&quot;$.email&quot;).isEqualTo(&quot;email@ya.ru&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":25621594,"reputation":1,"user_id":19393397,"display_name":"Nick Simpson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664286541,"creation_date":1664286541,"answer_id":73868762,"question_id":73859804,"body_markdown":"I wasn&#39;t able to determine the cause of this error, but I did workaround it by recompiling and rebuilding the Eclipse launcher and then copying over the VM options from Eclipse to IntelliJ.","title":"Unable to Run Aries2 Locally - Error: Target is this Node","body":"<p>I wasn't able to determine the cause of this error, but I did workaround it by recompiling and rebuilding the Eclipse launcher and then copying over the VM options from Eclipse to IntelliJ.</p>\n"}],"owner":{"account_id":25621594,"reputation":1,"user_id":19393397,"display_name":"Nick Simpson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664286541,"creation_date":1664225308,"question_id":73859804,"body_markdown":"Trying to run an Aries 2 service locally and getting an exception:\r\n\r\n```\r\nSEVERE: [localhost]:7750 [local] [4.2.2] Target is this node! -&gt; [localhost]:7750\r\njava.lang.IllegalArgumentException: Target is this node! -&gt; [localhost]:7750\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OutboundResponseHandler.checkTarget(OutboundResponseHandler.java:226)\r\n\r\nSep 26, 2022 4:38:40 PM com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl\r\nWARNING: [localhost]:7750 [local] [4.2.2] While sending op error... op: com.hazelcast.internal.cluster.impl.operations.JoinMastershipClaimOp{serviceName=&#39;hz:core:clusterService&#39;, identityHash=753771767, partitionId=-1, replicaIndex=0, callId=1, invocationTime=1664224720443 (2022-09-26 16:38:40.443), waitTimeout=-1, callTimeout=60000, tenantControl=com.hazelcast.spi.impl.tenantcontrol.NoopTenantControl@0}, error: java.lang.IllegalArgumentException: Target is this node! -&gt; [localhost]:7750\r\njava.lang.IllegalArgumentException: Target is this node! -&gt; [localhost]:7750, response: ErrorResponse{callId=1, urgent=true, cause=java.lang.IllegalArgumentException: Target is this node! -&gt; [localhost]:7750}\r\n```","title":"Unable to Run Aries2 Locally - Error: Target is this Node","body":"<p>Trying to run an Aries 2 service locally and getting an exception:</p>\n<pre><code>SEVERE: [localhost]:7750 [local] [4.2.2] Target is this node! -&gt; [localhost]:7750\njava.lang.IllegalArgumentException: Target is this node! -&gt; [localhost]:7750\n    at com.hazelcast.spi.impl.operationservice.impl.OutboundResponseHandler.checkTarget(OutboundResponseHandler.java:226)\n\nSep 26, 2022 4:38:40 PM com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl\nWARNING: [localhost]:7750 [local] [4.2.2] While sending op error... op: com.hazelcast.internal.cluster.impl.operations.JoinMastershipClaimOp{serviceName='hz:core:clusterService', identityHash=753771767, partitionId=-1, replicaIndex=0, callId=1, invocationTime=1664224720443 (2022-09-26 16:38:40.443), waitTimeout=-1, callTimeout=60000, tenantControl=com.hazelcast.spi.impl.tenantcontrol.NoopTenantControl@0}, error: java.lang.IllegalArgumentException: Target is this node! -&gt; [localhost]:7750\njava.lang.IllegalArgumentException: Target is this node! -&gt; [localhost]:7750, response: ErrorResponse{callId=1, urgent=true, cause=java.lang.IllegalArgumentException: Target is this node! -&gt; [localhost]:7750}\n</code></pre>\n"},{"tags":["java","spring","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1553606257,"creation_date":1353932248,"answer_id":13564700,"question_id":13564627,"body_markdown":"The aspect is applied to a *proxy* surrounding the bean. Note that everytime you get a reference to a bean, it&#39;s not actually the class referenced in your config, but a synthetic class implementing the relevant interfaces, delegating to the actual class and adding functionality, such as your AOP.\r\n\r\nIn your above example you&#39;re calling *directly* on the class, whereas if that class instance is injected into another as a Spring bean, it&#39;s injected as its proxy, and hence method calls will be invoked on the proxy (and the aspects will be triggered)\r\n\r\nIf you want to achieve the above, you could split `method1`/`method2` into separate beans, or use a non-spring-orientated AOP framework.\r\n\r\nThe [Spring doc (section &quot;Understanding AOP Proxies&quot;)][1] details this, and a couple of workarounds (including my first suggestion above)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-understanding-aop-proxies","title":"Spring AOP not working for method call inside another method","body":"<p>The aspect is applied to a <em>proxy</em> surrounding the bean. Note that everytime you get a reference to a bean, it's not actually the class referenced in your config, but a synthetic class implementing the relevant interfaces, delegating to the actual class and adding functionality, such as your AOP.</p>\n\n<p>In your above example you're calling <em>directly</em> on the class, whereas if that class instance is injected into another as a Spring bean, it's injected as its proxy, and hence method calls will be invoked on the proxy (and the aspects will be triggered)</p>\n\n<p>If you want to achieve the above, you could split <code>method1</code>/<code>method2</code> into separate beans, or use a non-spring-orientated AOP framework.</p>\n\n<p>The <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-understanding-aop-proxies\" rel=\"noreferrer\">Spring doc (section \"Understanding AOP Proxies\")</a> details this, and a couple of workarounds (including my first suggestion above)</p>\n"},{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1353932265,"creation_date":1353932265,"answer_id":13564705,"question_id":13564627,"body_markdown":"It is not possible what you want to achieve. An explanation is in the [Spring Reference Documentation][1].\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/aop.html#aop-understanding-aop-proxies","title":"Spring AOP not working for method call inside another method","body":"<p>It is not possible what you want to achieve. An explanation is in the <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/aop.html#aop-understanding-aop-proxies\" rel=\"nofollow\">Spring Reference Documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":1686205,"reputation":361,"user_id":1549449,"accept_rate":40,"display_name":"Raghuram"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1620283777,"creation_date":1353959652,"answer_id":13572094,"question_id":13564627,"body_markdown":"\r\nSpring AOP framework is &quot;proxy&quot; based, the documentation at [Understanding AOP Proxies][1] explains it very well.\r\n\r\nWhen Spring constructs a bean that is configured with an aspect (like &quot;ABC&quot; in your example), it actually creates a &quot;proxy&quot; object that acts like the real bean. The proxy simply delegates the calls to the &quot;real&quot; object but by creating this indirection, the proxy gets a chance to implement the &quot;advice&quot;. For example, your advice can log a message for each method call. In this scheme, if the method in the real object (&quot;method1&quot;) calls other methods in the same object (say, method2), those calls happen without proxy in the picture so there is no chance for it to implement any advice. \r\n\r\nIn your example, when method1() is called, the proxy will get a chance to do what ever it is supposed to do but if method1() calls method2(), there is no aspect in the picture. However, if method2 is called from some other bean, the proxy will be able to carry out the advice.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-understanding-aop-proxies","title":"Spring AOP not working for method call inside another method","body":"<p>Spring AOP framework is &quot;proxy&quot; based, the documentation at <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-understanding-aop-proxies\" rel=\"noreferrer\">Understanding AOP Proxies</a> explains it very well.</p>\n<p>When Spring constructs a bean that is configured with an aspect (like &quot;ABC&quot; in your example), it actually creates a &quot;proxy&quot; object that acts like the real bean. The proxy simply delegates the calls to the &quot;real&quot; object but by creating this indirection, the proxy gets a chance to implement the &quot;advice&quot;. For example, your advice can log a message for each method call. In this scheme, if the method in the real object (&quot;method1&quot;) calls other methods in the same object (say, method2), those calls happen without proxy in the picture so there is no chance for it to implement any advice.</p>\n<p>In your example, when method1() is called, the proxy will get a chance to do what ever it is supposed to do but if method1() calls method2(), there is no aspect in the picture. However, if method2 is called from some other bean, the proxy will be able to carry out the advice.</p>\n"},{"tags":[],"owner":{"account_id":422707,"reputation":3255,"user_id":801631,"accept_rate":40,"display_name":"pavan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1387166008,"creation_date":1379601497,"answer_id":18897680,"question_id":13564627,"body_markdown":"I had the same kind of problem and I overcame by implementing Spring&#39;s `ApplicationContextAware`,`BeanNameAware` and implementing corresponding methods as below.\r\n\r\n\tclass ABC implements ApplicationContextAware,BeanNameAware{\r\n\r\n\t      @Override\r\n          public void setApplicationContext(ApplicationContext ac) throws BeansException {\r\n              applicationContext=ac;\r\n          }\r\n      \r\n          @Override\r\n          public void setBeanName(String beanName) {\r\n              this.beanName=beanName;\r\n          }\r\n          private ApplicationContext applicationContext;\r\n          private String beanName;\r\n    }\r\n\r\n   then I replaced `this.` with   `((ABC) applicationContext.getBean(beanName)).` while calling the methods of the same class. This ensures that calls to methods of the same class happen through the proxy only.\r\n\r\nSo `method1()` changes to\r\n\r\n \r\n\r\n     public void method1(){\r\n        .........\r\n        ((ABC) applicationContext.getBean(beanName)).method2();\r\n        ...........\r\n      }\r\n\r\nHope this helps.","title":"Spring AOP not working for method call inside another method","body":"<p>I had the same kind of problem and I overcame by implementing Spring's <code>ApplicationContextAware</code>,<code>BeanNameAware</code> and implementing corresponding methods as below.</p>\n\n<pre><code>class ABC implements ApplicationContextAware,BeanNameAware{\n\n      @Override\n      public void setApplicationContext(ApplicationContext ac) throws BeansException {\n          applicationContext=ac;\n      }\n\n      @Override\n      public void setBeanName(String beanName) {\n          this.beanName=beanName;\n      }\n      private ApplicationContext applicationContext;\n      private String beanName;\n}\n</code></pre>\n\n<p>then I replaced <code>this.</code> with   <code>((ABC) applicationContext.getBean(beanName)).</code> while calling the methods of the same class. This ensures that calls to methods of the same class happen through the proxy only.</p>\n\n<p>So <code>method1()</code> changes to</p>\n\n<pre><code> public void method1(){\n    .........\n    ((ABC) applicationContext.getBean(beanName)).method2();\n    ...........\n  }\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5022046,"reputation":660,"user_id":4035262,"display_name":"Konstantin Ziubin"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1644420773,"creation_date":1472568507,"answer_id":39230717,"question_id":13564627,"body_markdown":"Update 2022:\r\n------------\r\n\r\nNow I personally prefer using TransactionHandler class described [here][1] - much cleaner and flexible way.\r\n \r\n\r\nOriginal answer:\r\n----------------\r\n\r\nIt can be done by self injection usage. You can call inner method through injected instance:\r\n\r\n    @Component\r\n    public class Foo {\r\n        @Resource\r\n        private Foo foo;\r\n        \r\n        public void method1(){\r\n            ..\r\n            foo.method2();\r\n            ..\r\n        }\r\n        public void method2(){\r\n            ..\r\n        }\r\n    }\r\nSince Spring 4.3 you also can do it using @Autowired.\r\n\r\n&gt; As of 4.3, @Autowired also considers self references for injection,\r\n&gt; i.e. references back to the bean that is currently injected.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56327004/4035262","title":"Spring AOP not working for method call inside another method","body":"<h2>Update 2022:</h2>\n<p>Now I personally prefer using TransactionHandler class described <a href=\"https://stackoverflow.com/a/56327004/4035262\">here</a> - much cleaner and flexible way.</p>\n<h2>Original answer:</h2>\n<p>It can be done by self injection usage. You can call inner method through injected instance:</p>\n<pre><code>@Component\npublic class Foo {\n    @Resource\n    private Foo foo;\n    \n    public void method1(){\n        ..\n        foo.method2();\n        ..\n    }\n    public void method2(){\n        ..\n    }\n}\n</code></pre>\n<p>Since Spring 4.3 you also can do it using @Autowired.</p>\n<blockquote>\n<p>As of 4.3, @Autowired also considers self references for injection,\ni.e. references back to the bean that is currently injected.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10514058,"reputation":37,"user_id":7748723,"display_name":"Rashmingadhvi"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1511765157,"creation_date":1507752294,"answer_id":46696633,"question_id":13564627,"body_markdown":"Using `@Autowired` it works.\r\nInstead of calling the inner method as `this.method()`, you can do:\r\n\r\n    @Autowired\r\n    Foo foo;\r\n\r\nand then calling:\r\n\r\n    foo.method2();\r\n\r\n","title":"Spring AOP not working for method call inside another method","body":"<p>Using <code>@Autowired</code> it works.\nInstead of calling the inner method as <code>this.method()</code>, you can do:</p>\n\n<pre><code>@Autowired\nFoo foo;\n</code></pre>\n\n<p>and then calling:</p>\n\n<pre><code>foo.method2();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1192757,"reputation":1767,"user_id":1165178,"accept_rate":100,"display_name":"Qianyue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536563150,"creation_date":1536563150,"answer_id":52252659,"question_id":13564627,"body_markdown":"As indicated in the [Spring docs](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-understanding-aop-proxies), chapter 5.6.1 Understanding AOP proxies, there is another way you can do:\r\n\r\n\r\n    public class SimplePojo implements Pojo {\r\n    \r\n        public void foo() {\r\n            // this works, but... gah!\r\n            ((Pojo) AopContext.currentProxy()).bar();\r\n        }\r\n    \r\n        public void bar() {\r\n            // some logic...\r\n        }\r\n    }\r\n\r\nAlthough the author doesn&#39;t recommand this way. Because:\r\n\r\n&gt; This totally couples your code to Spring AOP, and it makes the class itself aware of the fact that it is being used in an AOP context, which flies in the face of AOP. It also requires some additional configuration when the proxy is being created.","title":"Spring AOP not working for method call inside another method","body":"<p>As indicated in the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">Spring docs</a>, chapter 5.6.1 Understanding AOP proxies, there is another way you can do:</p>\n\n<pre><code>public class SimplePojo implements Pojo {\n\n    public void foo() {\n        // this works, but... gah!\n        ((Pojo) AopContext.currentProxy()).bar();\n    }\n\n    public void bar() {\n        // some logic...\n    }\n}\n</code></pre>\n\n<p>Although the author doesn't recommand this way. Because:</p>\n\n<blockquote>\n  <p>This totally couples your code to Spring AOP, and it makes the class itself aware of the fact that it is being used in an AOP context, which flies in the face of AOP. It also requires some additional configuration when the proxy is being created.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6861306,"reputation":344,"user_id":5275185,"display_name":"Fai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1543291689,"creation_date":1543291689,"answer_id":53492605,"question_id":13564627,"body_markdown":"You can do self-injection this way so that this class can be used outside Spring application.\r\n\r\n    @Component\r\n    public class ABC {\r\n    \t\r\n    \t@Resource\r\n    \tprivate ABC self = this;\r\n    \r\n    \tpublic void method1() {\r\n    \t\tself.method2();\r\n    \t}\r\n    \r\n    \tpublic void method2() {\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Spring AOP not working for method call inside another method","body":"<p>You can do self-injection this way so that this class can be used outside Spring application.</p>\n\n<pre><code>@Component\npublic class ABC {\n\n    @Resource\n    private ABC self = this;\n\n    public void method1() {\n        self.method2();\n    }\n\n    public void method2() {\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2790085,"reputation":11324,"user_id":2400485,"accept_rate":43,"display_name":"shiva kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543313481,"creation_date":1543313481,"answer_id":53497282,"question_id":13564627,"body_markdown":"Annotate calls with @EnableAspectJAutoProxy(exposeProxy = true) and call the instance methods with ((Class) AopContext.currentProxy()).method();\r\n\r\nThis is strictly not recommended as it increases to coupling ","title":"Spring AOP not working for method call inside another method","body":"<p>Annotate calls with @EnableAspectJAutoProxy(exposeProxy = true) and call the instance methods with ((Class) AopContext.currentProxy()).method();</p>\n\n<p>This is strictly not recommended as it increases to coupling </p>\n"},{"tags":[],"owner":{"account_id":10257462,"reputation":101,"user_id":7569908,"display_name":"Arjun Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551470051,"creation_date":1551470051,"answer_id":54951435,"question_id":13564627,"body_markdown":"I am surprised no one mentioned this but i think we can use ControlFlowPointcut provided by Spring.\r\n\r\nControlFlowPointcut looks at stacktrace and matches the pointcut only if it finds a particular method in the stacktrace. essentially pointcut is matched only when a method is called in a particular context.\r\n\r\nIn this case, we can create a pointcut like \r\n\r\n    ControlFlowPointcut cf = new ControlFlowPointcut(MyClass.class, &quot;method1&quot;);\r\n\r\nnow, using ProxyFactory create a proxy on MyClass instance and call method1().\r\n\r\nIn above case, only method2() will be advised since it is called from method1().\r\n\r\n ","title":"Spring AOP not working for method call inside another method","body":"<p>I am surprised no one mentioned this but i think we can use ControlFlowPointcut provided by Spring.</p>\n\n<p>ControlFlowPointcut looks at stacktrace and matches the pointcut only if it finds a particular method in the stacktrace. essentially pointcut is matched only when a method is called in a particular context.</p>\n\n<p>In this case, we can create a pointcut like </p>\n\n<pre><code>ControlFlowPointcut cf = new ControlFlowPointcut(MyClass.class, \"method1\");\n</code></pre>\n\n<p>now, using ProxyFactory create a proxy on MyClass instance and call method1().</p>\n\n<p>In above case, only method2() will be advised since it is called from method1().</p>\n"},{"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564892162,"creation_date":1564892162,"answer_id":57343756,"question_id":13564627,"body_markdown":"Another way around is to mode the method2() to some other Class File ,and that class is annotated with @Component. Then inject that using @Autowired when you need that.This way AOP can intercept that.\r\n\r\n**Example:**\r\n\r\n    You were doing this...\r\n\r\n\r\n    Class demo{\r\n       method1(){\r\n       \t-------\r\n       \t-------\r\n        method2();\r\n        -------\r\n        -------\r\n       }\r\n    \r\n       method2(){\r\n       \t------\r\n       \t-----\r\n       }\r\n    }\r\n    \r\n    Now if possible do this :\r\n    \r\n    @Component\r\n    class NewClass{\r\n    \tmethod2(){\r\n       \t------\r\n       \t-----\r\n       }\r\n    }\r\n    \r\n    \r\n    Class demo{\r\n    \r\n     @AutoWired\r\n     NewClass newClass;\r\n    \r\n       method1(){\r\n       \t-------\r\n       \t-------\r\n        newClass.method2();\r\n        -------\r\n        -------\r\n       }\r\n    \r\n    }","title":"Spring AOP not working for method call inside another method","body":"<p>Another way around is to mode the method2() to some other Class File ,and that class is annotated with @Component. Then inject that using @Autowired when you need that.This way AOP can intercept that.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>You were doing this...\n\n\nClass demo{\n   method1(){\n    -------\n    -------\n    method2();\n    -------\n    -------\n   }\n\n   method2(){\n    ------\n    -----\n   }\n}\n\nNow if possible do this :\n\n@Component\nclass NewClass{\n    method2(){\n    ------\n    -----\n   }\n}\n\n\nClass demo{\n\n @AutoWired\n NewClass newClass;\n\n   method1(){\n    -------\n    -------\n    newClass.method2();\n    -------\n    -------\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9824751,"reputation":145,"user_id":7278126,"accept_rate":100,"display_name":"AHM200"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575728628,"creation_date":1575728628,"answer_id":59226928,"question_id":13564627,"body_markdown":"You can refer to this question: https://stackoverflow.com/a/30611671/7278126\r\n\r\nIt&#39;s a workaround but will do the trick, the key here is to use the same bean (proxy) to invoke &#39;method2&#39; instead of this.","title":"Spring AOP not working for method call inside another method","body":"<p>You can refer to this question: <a href=\"https://stackoverflow.com/a/30611671/7278126\">https://stackoverflow.com/a/30611671/7278126</a></p>\n\n<p>It's a workaround but will do the trick, the key here is to use the same bean (proxy) to invoke 'method2' instead of this.</p>\n"},{"tags":[],"owner":{"account_id":4306298,"reputation":1246,"user_id":3518580,"accept_rate":25,"display_name":"Doogle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588931569,"creation_date":1588931569,"answer_id":61676429,"question_id":13564627,"body_markdown":"After a lot of research, \r\nI found the following which works like a charm. But there is always a better way with ASPECTJ WEAVING. In essence of time use a self reference.\r\n\r\n    @Autowired\r\n    private ApplicationContext applicationContext;\r\n    private &lt;&lt;BEAN&gt;&gt; self;\r\n\r\n&gt; Please note the &lt;&lt;BEAN&gt;&gt; is of the same class which needs to be logged with AOP or to be used for something else.\r\n\r\n    @PostConstruct\r\n    private void init() {\r\n        self = applicationContext.getBean(MyBean.class);\r\n    }\r\n\r\n&gt; With this change all you have to do is move the calls for\r\n&gt; \r\n&gt; **this.methodName(args) -&gt;** **self.methodName(args)**\r\n\r\nHope this helps all who want to use a solution for just performance logging in the application.\r\n\r\n\r\n   ","title":"Spring AOP not working for method call inside another method","body":"<p>After a lot of research, \nI found the following which works like a charm. But there is always a better way with ASPECTJ WEAVING. In essence of time use a self reference.</p>\n\n<pre><code>@Autowired\nprivate ApplicationContext applicationContext;\nprivate &lt;&lt;BEAN&gt;&gt; self;\n</code></pre>\n\n<blockquote>\n  <p>Please note the &lt;> is of the same class which needs to be logged with AOP or to be used for something else.</p>\n</blockquote>\n\n<pre><code>@PostConstruct\nprivate void init() {\n    self = applicationContext.getBean(MyBean.class);\n}\n</code></pre>\n\n<blockquote>\n  <p>With this change all you have to do is move the calls for</p>\n  \n  <p><strong>this.methodName(args) -></strong> <strong>self.methodName(args)</strong></p>\n</blockquote>\n\n<p>Hope this helps all who want to use a solution for just performance logging in the application.</p>\n"},{"tags":[],"owner":{"account_id":14946452,"reputation":23,"user_id":10791583,"display_name":"Ali Shoman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612266722,"creation_date":1612263318,"answer_id":66008277,"question_id":13564627,"body_markdown":"You could do this :\r\n\r\n    @Autowired // to make this bean refers to proxy class \r\n    \r\n    ABC self;\r\n    \r\n    public void method1(){\r\n    \r\n       .........\r\n    \r\n       self.method2();\r\n    \r\n      ...........\r\n    \r\n    }\r\n    \r\n    \r\n    public void method2(){\r\n    \r\n      ...............\r\n    \r\n      ...............  \r\n    \r\n    }","title":"Spring AOP not working for method call inside another method","body":"<p>You could do this :</p>\n<pre><code>@Autowired // to make this bean refers to proxy class \n\nABC self;\n\npublic void method1(){\n\n   .........\n\n   self.method2();\n\n  ...........\n\n}\n\n\npublic void method2(){\n\n  ...............\n\n  ...............  \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14771089,"reputation":31,"user_id":10667541,"display_name":"Alaa jawhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658408663,"creation_date":1658408663,"answer_id":73066770,"question_id":13564627,"body_markdown":"AOP prevents you to wrap a function if it is in the caller is in the same class of the callee. \r\n\r\nBut you can do the below work around to achieve the above by using self-injection\r\n\r\n    public class Test {\r\n    \r\n\r\n      @Autowire \r\n      private Test test;\r\n\r\n    \r\n      public void method1(){\r\n         .........\r\n         test.method2();\r\n        ...........\r\n      }\r\n    \r\n    \r\n      public void method2(){\r\n        ...............\r\n        ...............  \r\n      }\r\n    }\r\n\r\nnotice the self-injection when I did\r\n\r\n      @Autowire \r\n      private Test test;\r\n\r\n and I did call the method 2 by `test.method2();` instead of `this.method2()`","title":"Spring AOP not working for method call inside another method","body":"<p>AOP prevents you to wrap a function if it is in the caller is in the same class of the callee.</p>\n<p>But you can do the below work around to achieve the above by using self-injection</p>\n<pre><code>public class Test {\n\n\n  @Autowire \n  private Test test;\n\n\n  public void method1(){\n     .........\n     test.method2();\n    ...........\n  }\n\n\n  public void method2(){\n    ...............\n    ...............  \n  }\n}\n</code></pre>\n<p>notice the self-injection when I did</p>\n<pre><code>  @Autowire \n  private Test test;\n</code></pre>\n<p>and I did call the method 2 by <code>test.method2();</code> instead of <code>this.method2()</code></p>\n"},{"tags":[],"owner":{"account_id":15421706,"reputation":21,"user_id":11125559,"display_name":"drumboy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664286436,"creation_date":1664286436,"answer_id":73868732,"question_id":13564627,"body_markdown":"Lazy! I had the same problem. I use Autowired with Lazy and it is works.\r\n\r\n    @Component\r\n    public class Foo {\r\n    \r\n        @Lazy\r\n        @Autowired\r\n        private Foo foo;\r\n        \r\n        public void method1(){\r\n            ..\r\n            foo.method2();\r\n            ..\r\n        }\r\n        public void method2(){\r\n            ..\r\n        }\r\n    }","title":"Spring AOP not working for method call inside another method","body":"<p>Lazy! I had the same problem. I use Autowired with Lazy and it is works.</p>\n<pre><code>@Component\npublic class Foo {\n\n    @Lazy\n    @Autowired\n    private Foo foo;\n    \n    public void method1(){\n        ..\n        foo.method2();\n        ..\n    }\n    public void method2(){\n        ..\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74681,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":13564700,"answer_count":16,"score":79,"last_activity_date":1664286436,"creation_date":1353932001,"question_id":13564627,"body_markdown":"There are two methods defined in **ABC.java**\r\n\r\n    public void method1(){\r\n       .........\r\n       method2();\r\n      ...........\r\n    }\r\n    \r\n    \r\n    public void method2(){\r\n      ...............\r\n      ...............  \r\n    }\r\nI want to have AOP on call of **method2**.So,\r\nI created one class,**AOPLogger.java**,having aspect functionality provided in a method **checkAccess**  \r\nIn configuration file, I did something like below\r\n\r\n    &lt;bean id=&quot;advice&quot; class=&quot;p.AOPLogger&quot; /&gt;\r\n    &lt;aop:config&gt;\r\n      &lt;aop:pointcut id=&quot;abc&quot; expression=&quot;execution(*p.ABC.method2(..))&quot; /&gt;\r\n      &lt;aop:aspect id=&quot;service&quot; ref=&quot;advice&quot;&gt;\r\n        &lt;aop:before pointcut-ref=&quot;abc&quot; method=&quot;checkAccess&quot; /&gt;\t\t\t\r\n      &lt;/aop:aspect&gt;\r\n    &lt;/aop:config&gt;\r\n\r\nBut when my method2 is called, AOP functionality is not getting invoked i.e. **checkAccess** method is not getting invoked of AOPLogger class.\r\n\r\nAny thing i am missing?","title":"Spring AOP not working for method call inside another method","body":"<p>There are two methods defined in <strong>ABC.java</strong></p>\n\n<pre><code>public void method1(){\n   .........\n   method2();\n  ...........\n}\n\n\npublic void method2(){\n  ...............\n  ...............  \n}\n</code></pre>\n\n<p>I want to have AOP on call of <strong>method2</strong>.So,\nI created one class,<strong>AOPLogger.java</strong>,having aspect functionality provided in a method <strong>checkAccess</strong><br>\nIn configuration file, I did something like below</p>\n\n<pre><code>&lt;bean id=\"advice\" class=\"p.AOPLogger\" /&gt;\n&lt;aop:config&gt;\n  &lt;aop:pointcut id=\"abc\" expression=\"execution(*p.ABC.method2(..))\" /&gt;\n  &lt;aop:aspect id=\"service\" ref=\"advice\"&gt;\n    &lt;aop:before pointcut-ref=\"abc\" method=\"checkAccess\" /&gt;          \n  &lt;/aop:aspect&gt;\n&lt;/aop:config&gt;\n</code></pre>\n\n<p>But when my method2 is called, AOP functionality is not getting invoked i.e. <strong>checkAccess</strong> method is not getting invoked of AOPLogger class.</p>\n\n<p>Any thing i am missing?</p>\n"},{"tags":["java","coding-style"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":3,"creation_date":1443667885,"post_id":32878679,"comment_id":53588245,"body_markdown":"`private` If it&#39;s not needed outside of the class, then why expose it?","body":"<code>private</code> If it&#39;s not needed outside of the class, then why expose it?"}],"answers":[{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443667870,"creation_date":1443667870,"answer_id":32878692,"question_id":32878679,"body_markdown":"If you only need these values in the class, they should be `private`. In general make things as inaccessible as possible and only increase accessibility when necessary.","title":"Which access modifier should I use for constants?","body":"<p>If you only need these values in the class, they should be <code>private</code>. In general make things as inaccessible as possible and only increase accessibility when necessary.</p>\n"},{"tags":[],"owner":{"account_id":6345385,"reputation":819,"user_id":4926126,"accept_rate":90,"display_name":"jiaweizhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443669121,"creation_date":1443668305,"answer_id":32878757,"question_id":32878679,"body_markdown":"`private` should be used when using multiple classes. You can use a getter if you need to access its value.\r\n\r\n`public` should only really be used when you have just one class.","title":"Which access modifier should I use for constants?","body":"<p><code>private</code> should be used when using multiple classes. You can use a getter if you need to access its value.</p>\n\n<p><code>public</code> should only really be used when you have just one class.</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443669340,"creation_date":1443669340,"answer_id":32878882,"question_id":32878679,"body_markdown":"Why not be lazy, and just do\r\n\r\n        static final\r\n\r\nI think it&#39;s better to start with &#39;package&#39; access; you might needed it in unit test at least. Then you may change it to public/private or protected if you must. \r\n\r\n&#39;private&#39; is usually not necessary - you seldom need to worry that other classes under the same package may screw up this class.","title":"Which access modifier should I use for constants?","body":"<p>Why not be lazy, and just do</p>\n\n<pre><code>    static final\n</code></pre>\n\n<p>I think it's better to start with 'package' access; you might needed it in unit test at least. Then you may change it to public/private or protected if you must. </p>\n\n<p>'private' is usually not necessary - you seldom need to worry that other classes under the same package may screw up this class.</p>\n"},{"tags":[],"owner":{"account_id":1733468,"reputation":777,"user_id":1586547,"accept_rate":0,"display_name":"SacJn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443670115,"creation_date":1443670115,"answer_id":32878963,"question_id":32878679,"body_markdown":"Why don&#39;t you use **`enum`** for the same. They are actually designed to serve the purpose of `constant` along with flexibility to add functionality later if needed. \r\n&gt;Just have a look at the following links to [compare constants with enums][1] , [here][2] and many more links you ll get. I just posted some of them.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9969690/whats-the-advantage-of-a-java-enum-versus-a-class-with-public-static-final-fiel\r\n  [2]: https://stackoverflow.com/questions/2077634/enum-in-java-advantages","title":"Which access modifier should I use for constants?","body":"<p>Why don't you use <strong><code>enum</code></strong> for the same. They are actually designed to serve the purpose of <code>constant</code> along with flexibility to add functionality later if needed. </p>\n\n<blockquote>\n  <p>Just have a look at the following links to <a href=\"https://stackoverflow.com/questions/9969690/whats-the-advantage-of-a-java-enum-versus-a-class-with-public-static-final-fiel\">compare constants with enums</a> , <a href=\"https://stackoverflow.com/questions/2077634/enum-in-java-advantages\">here</a> and many more links you ll get. I just posted some of them.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6848125,"reputation":11,"user_id":5266196,"display_name":"M. Mott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443671740,"creation_date":1443671740,"answer_id":32879177,"question_id":32878679,"body_markdown":"If the constant only needs to be accessed in the class it is in, using \r\n\r\n    private static void \r\n\r\nor even just \r\n\r\n    static final\r\n\r\nwould work, since it is not needed to be called elsewhere.\r\n\r\nHowever, if private static final is used for the constant, it is good practice to use a getter to call the constant, like this:\r\n\r\n    private static final String CONSTANTVARIABLE = &quot;Some constant&quot;;\r\n    \r\n    public String getConstantVariable() {\r\n      return CONSTANTVARIABLE;\r\n    }","title":"Which access modifier should I use for constants?","body":"<p>If the constant only needs to be accessed in the class it is in, using </p>\n\n<pre><code>private static void \n</code></pre>\n\n<p>or even just </p>\n\n<pre><code>static final\n</code></pre>\n\n<p>would work, since it is not needed to be called elsewhere.</p>\n\n<p>However, if private static final is used for the constant, it is good practice to use a getter to call the constant, like this:</p>\n\n<pre><code>private static final String CONSTANTVARIABLE = \"Some constant\";\n\npublic String getConstantVariable() {\n  return CONSTANTVARIABLE;\n}\n</code></pre>\n"}],"owner":{"account_id":482605,"reputation":7823,"user_id":897090,"accept_rate":70,"display_name":"Nelson Tatius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1664286398,"creation_date":1443667684,"question_id":32878679,"body_markdown":"    public static final\r\n\r\nor\r\n\r\n    private static final\r\n\r\nConsidering cases when constants are used only from class itself. Which style is preferable?","title":"Which access modifier should I use for constants?","body":"<pre><code>public static final\n</code></pre>\n\n<p>or</p>\n\n<pre><code>private static final\n</code></pre>\n\n<p>Considering cases when constants are used only from class itself. Which style is preferable?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664286438,"post_id":73868683,"comment_id":130433165,"body_markdown":"Please show the error message and an [mcve]","body":"Please show the error message and an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1664286530,"post_id":73868683,"comment_id":130433214,"body_markdown":"If you use a `PreparedStatement` then you should execute it with `ps.executeQuery()` - i.e. without passing it the query again.","body":"If you use a <code>PreparedStatement</code> then you should execute it with <code>ps.executeQuery()</code> - i.e. without passing it the query again."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1664286659,"post_id":73868683,"comment_id":130433272,"body_markdown":"...and if you had used a plain `Statement` then you _would_ pass the query when executing, but not when initializing the statement.","body":"...and if you had used a plain <code>Statement</code> then you <i>would</i> pass the query when executing, but not when initializing the statement."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1664288559,"post_id":73868683,"comment_id":130434082,"body_markdown":"`ps.setString(1, query)` -&gt; certainly you do not want to set the query into the first placeholder of the same query","body":"<code>ps.setString(1, query)</code> -&gt; certainly you do not want to set the query into the first placeholder of the same query"},{"owner":{"account_id":26458737,"reputation":11,"user_id":20100989,"display_name":"Wondermom"},"score":0,"creation_date":1664369809,"post_id":73868683,"comment_id":130455632,"body_markdown":"Thank you all for your comments I think I had figured it our!","body":"Thank you all for your comments I think I had figured it our!"}],"owner":{"account_id":26458737,"reputation":11,"user_id":20100989,"display_name":"Wondermom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664286392,"creation_date":1664286273,"question_id":73868683,"body_markdown":"I am wondering if I have the following code in a Java web app: \r\n\r\n    Statement st = null;\r\n\tResultSet rs = null;\r\n\ttry {\r\n        st = connection.createStatement();\r\n        rs = st.executeQuery(query);\r\n\r\nAnd I need to transform this by using a PreparedStatement can I rewritte the code as following:\r\n\r\n        PreparedStatement ps = connection.prepareStatement(query);\r\n      \tSystem.out.println(&quot;Querying...&quot;+ query);\r\n      \t\r\n      \tps.setString(1, query);\r\n\t\tResultSet rs = null;\r\n\t\ttry {\r\n\t        \t        rs = ps.executeQuery(query);\r\n\r\nWhen replacing this code my app wont give me any visible errors however when debug it wont run giving mentioning that could to generate a *createstatement*. What could be the error? Why it doesn&#39;t work? \r\n\r\n","title":"PreparedStatement can be use to replace a CreateStatement?","body":"<p>I am wondering if I have the following code in a Java web app:</p>\n<pre><code>Statement st = null;\nResultSet rs = null;\ntry {\n    st = connection.createStatement();\n    rs = st.executeQuery(query);\n</code></pre>\n<p>And I need to transform this by using a PreparedStatement can I rewritte the code as following:</p>\n<pre><code>    PreparedStatement ps = connection.prepareStatement(query);\n    System.out.println(&quot;Querying...&quot;+ query);\n    \n    ps.setString(1, query);\n    ResultSet rs = null;\n    try {\n                    rs = ps.executeQuery(query);\n</code></pre>\n<p>When replacing this code my app wont give me any visible errors however when debug it wont run giving mentioning that could to generate a <em>createstatement</em>. What could be the error? Why it doesn't work?</p>\n"},{"tags":["java","openpdf"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664280067,"post_id":73865240,"comment_id":130430553,"body_markdown":"Don&#39;t read the file into a byte array first: **a.** it&#39;s quite unnecessary - there are plenty of ctors which will read a file on construction and (more importantly) **b.** the way you load the byte array does *not* guarantee that it will be filled fully. btw, that stack trace was *not* produced by the above code so I&#39;m wondering if that&#39;s your *actual* code..?","body":"Don&#39;t read the file into a byte array first: <b>a.</b> it&#39;s quite unnecessary - there are plenty of ctors which will read a file on construction and (more importantly) <b>b.</b> the way you load the byte array does <i>not</i> guarantee that it will be filled fully. btw, that stack trace was <i>not</i> produced by the above code so I&#39;m wondering if that&#39;s your <i>actual</i> code..?"},{"owner":{"account_id":16261895,"reputation":139,"user_id":11888510,"display_name":"Fairuz Yassar"},"score":0,"creation_date":1664284684,"post_id":73865240,"comment_id":130432431,"body_markdown":"i am debuging on legacy merge pdf code (has parameter byte[]) because there is usecase to merge encrypted pdf but pdf reader keep showing above error when tried to read btye array from encrypted pdf","body":"i am debuging on legacy merge pdf code (has parameter byte[]) because there is usecase to merge encrypted pdf but pdf reader keep showing above error when tried to read btye array from encrypted pdf"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664284833,"post_id":73865240,"comment_id":130432490,"body_markdown":"Yes but you&#39;re not merging anything. You&#39;re reading from a file. You should probably post a link to a sample source file","body":"Yes but you&#39;re not merging anything. You&#39;re reading from a file. You should probably post a link to a sample source file"},{"owner":{"account_id":16261895,"reputation":139,"user_id":11888510,"display_name":"Fairuz Yassar"},"score":0,"creation_date":1664284940,"post_id":73865240,"comment_id":130432534,"body_markdown":"yes i am not showing merging file because the actual problem is not merging itself but when read byte array from encrypted pdf","body":"yes i am not showing merging file because the actual problem is not merging itself but when read byte array from encrypted pdf"},{"owner":{"account_id":16261895,"reputation":139,"user_id":11888510,"display_name":"Fairuz Yassar"},"score":0,"creation_date":1664285023,"post_id":73865240,"comment_id":130432574,"body_markdown":"if you wondering how merging code look like you can check this question https://stackoverflow.com/questions/72723546/pdf-file-generated-by-pdfwriter-is-showing-blank-page","body":"if you wondering how merging code look like you can check this question <a href=\"https://stackoverflow.com/questions/72723546/pdf-file-generated-by-pdfwriter-is-showing-blank-page\" title=\"pdf file generated by pdfwriter is showing blank page\">stackoverflow.com/questions/72723546/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664285290,"post_id":73865240,"comment_id":130432700,"body_markdown":"That&#39;s OK but the point stands - your *are* reading into a byte array but are not doing it correctly. Now that might *not* be the reason for your problem, but should be eliminated by doing it correctly","body":"That&#39;s OK but the point stands - your <i>are</i> reading into a byte array but are not doing it correctly. Now that might <i>not</i> be the reason for your problem, but should be eliminated by doing it correctly"},{"owner":{"account_id":16261895,"reputation":139,"user_id":11888510,"display_name":"Fairuz Yassar"},"score":0,"creation_date":1664285555,"post_id":73865240,"comment_id":130432823,"body_markdown":"I have tried to merge two non encrypted pdf, code working as expected","body":"I have tried to merge two non encrypted pdf, code working as expected"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1664285751,"post_id":73865240,"comment_id":130432893,"body_markdown":"you really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)\nNo merging, please. No byte arrays. Just direct from file. You&#39;ve already stated yourself: *the actual problem is not merging itself...*","body":"you really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> No merging, please. No byte arrays. Just direct from file. You&#39;ve already stated yourself: <i>the actual problem is not merging itself...</i>"},{"owner":{"account_id":16261895,"reputation":139,"user_id":11888510,"display_name":"Fairuz Yassar"},"score":0,"creation_date":1664286101,"post_id":73865240,"comment_id":130433020,"body_markdown":"the problem is when above code is reading unencrypted document its working but not for encrypted document","body":"the problem is when above code is reading unencrypted document its working but not for encrypted document"}],"owner":{"account_id":16261895,"reputation":139,"user_id":11888510,"display_name":"Fairuz Yassar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664286264,"creation_date":1664270755,"question_id":73865240,"body_markdown":"I have tried to unlock pdf reader but still got bad user password\r\n```\r\nException in thread &quot;main&quot; com.lowagie.text.exceptions.BadPasswordException: Bad user password\r\n\tat com.lowagie.text.pdf.PdfReader.readPdf(PdfReader.java:611)\r\n\tat com.lowagie.text.pdf.PdfReader.&lt;init&gt;(PdfReader.java:214)\r\n\tat com.lowagie.text.pdf.PdfReader.&lt;init&gt;(PdfReader.java:198)\r\n```\r\n\r\nHere the code\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) throws IOException {\r\n        List&lt;String&gt; test = new ArrayList&lt;&gt;();\r\n        File path = new File(&quot;encryptPdf.pdf&quot;);\r\n      \r\n        byte[] byteArr = fileToByteArray(path);\r\n        PdfReader pdfReader = new PdfReader(byteArr);\r\n        pdfReader = unlockPdf(pdfReader1);\r\n    }\r\n\r\n    public static byte[] fileToByteArray(File file) throws IOException {\r\n        FileInputStream fl = new FileInputStream(file);\r\n        byte[] arr = new byte[(int)file.length()];\r\n        fl.read(arr);\r\n        fl.close();\r\n        return arr;\r\n    }\r\n\r\n    public static PdfReader unlockPdf(PdfReader reader) {\r\n        if (reader == null) {\r\n            return reader;\r\n        }\r\n        try {\r\n            Field f = reader.getClass().getDeclaredField(&quot;encrypted&quot;);\r\n            f.setAccessible(true);\r\n            f.set(reader, false);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;exception&quot;);\r\n        }\r\n        return reader;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am using opendpdf library version 1.0.5 (https://github.com/LibrePDF/OpenPDF)\r\n\r\nEnvironment : Java 11\r\n\r\nI tried above code for unencrypted pdf its working as expected but for encrypted pdf keep showing above error even thought i have set accessible to true\r\n\r\nAnyone is facing similar problem ? any suggestion to fix this issue ?","title":"Failed to read encrypted file using unlocked PDFReader using openPDF library java","body":"<p>I have tried to unlock pdf reader but still got bad user password</p>\n<pre><code>Exception in thread &quot;main&quot; com.lowagie.text.exceptions.BadPasswordException: Bad user password\n    at com.lowagie.text.pdf.PdfReader.readPdf(PdfReader.java:611)\n    at com.lowagie.text.pdf.PdfReader.&lt;init&gt;(PdfReader.java:214)\n    at com.lowagie.text.pdf.PdfReader.&lt;init&gt;(PdfReader.java:198)\n</code></pre>\n<p>Here the code</p>\n<pre><code>public class Test {\n    public static void main(String[] args) throws IOException {\n        List&lt;String&gt; test = new ArrayList&lt;&gt;();\n        File path = new File(&quot;encryptPdf.pdf&quot;);\n      \n        byte[] byteArr = fileToByteArray(path);\n        PdfReader pdfReader = new PdfReader(byteArr);\n        pdfReader = unlockPdf(pdfReader1);\n    }\n\n    public static byte[] fileToByteArray(File file) throws IOException {\n        FileInputStream fl = new FileInputStream(file);\n        byte[] arr = new byte[(int)file.length()];\n        fl.read(arr);\n        fl.close();\n        return arr;\n    }\n\n    public static PdfReader unlockPdf(PdfReader reader) {\n        if (reader == null) {\n            return reader;\n        }\n        try {\n            Field f = reader.getClass().getDeclaredField(&quot;encrypted&quot;);\n            f.setAccessible(true);\n            f.set(reader, false);\n        } catch (Exception e) {\n            System.out.println(&quot;exception&quot;);\n        }\n        return reader;\n    }\n}\n\n</code></pre>\n<p>I am using opendpdf library version 1.0.5 (<a href=\"https://github.com/LibrePDF/OpenPDF\" rel=\"nofollow noreferrer\">https://github.com/LibrePDF/OpenPDF</a>)</p>\n<p>Environment : Java 11</p>\n<p>I tried above code for unencrypted pdf its working as expected but for encrypted pdf keep showing above error even thought i have set accessible to true</p>\n<p>Anyone is facing similar problem ? any suggestion to fix this issue ?</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":24584079,"reputation":56,"user_id":18488807,"display_name":"Jediro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1647482850,"creation_date":1647482850,"answer_id":71506283,"question_id":71029574,"body_markdown":"The answer could be because the PendingIntent for that app&#39;s notifications hasn&#39;t had its mutability defined. Starting from Android 12, you have to define whether a PendingIntent is immutable or mutable for it to work properly: \r\n\r\nhttps://developer.android.com/about/versions/12/behavior-changes-12#pending-intent-mutability\r\n\r\nAnother thing to try to make notifications work again is to add the &quot;exported:false&quot; tag to the notifications service:\r\n\r\nhttps://developer.android.com/about/versions/12/behavior-changes-12#exported\r\n\r\nThat should help.","title":"Firebase Push notification not receiving in Android12 in Samsung S10 Device After updating Patch Update","body":"<p>The answer could be because the PendingIntent for that app's notifications hasn't had its mutability defined. Starting from Android 12, you have to define whether a PendingIntent is immutable or mutable for it to work properly:</p>\n<p><a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#pending-intent-mutability\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/12/behavior-changes-12#pending-intent-mutability</a></p>\n<p>Another thing to try to make notifications work again is to add the &quot;exported:false&quot; tag to the notifications service:</p>\n<p><a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/12/behavior-changes-12#exported</a></p>\n<p>That should help.</p>\n"},{"tags":[],"owner":{"account_id":8546942,"reputation":171,"user_id":6405199,"display_name":"Winteriscoming"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664286015,"creation_date":1664286015,"answer_id":73868619,"question_id":71029574,"body_markdown":"In comments for checks answer, Shobana wrote aboute PendingIntent. My answer will be for Xamarin dev. After 12+ android, users not receive messages. This helped me(**PendingIntentFlags.Mutable**):  \r\n\r\n    public void CreateNotification(string title, string message, string action)\r\n    \r\n    var pendingIntent = PendingIntent.GetActivity(mContext, 0, intent, PendingIntentFlags.Mutable);","title":"Firebase Push notification not receiving in Android12 in Samsung S10 Device After updating Patch Update","body":"<p>In comments for checks answer, Shobana wrote aboute PendingIntent. My answer will be for Xamarin dev. After 12+ android, users not receive messages. This helped me(<strong>PendingIntentFlags.Mutable</strong>):</p>\n<pre><code>public void CreateNotification(string title, string message, string action)\n\nvar pendingIntent = PendingIntent.GetActivity(mContext, 0, intent, PendingIntentFlags.Mutable);\n</code></pre>\n"}],"owner":{"account_id":9142894,"reputation":506,"user_id":6800200,"display_name":"Shobana Velmurugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1972,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71506283,"answer_count":2,"score":6,"last_activity_date":1664286015,"creation_date":1644302621,"question_id":71029574,"body_markdown":"I am using a Samsung Galaxy S10 mobile. On February 3rd Security patch was updated on my phone. After the update Push notification was not received in my App. Other App notifications are working fine. Anyone can answer my question, please? What was the reason for not receiving notification?","title":"Firebase Push notification not receiving in Android12 in Samsung S10 Device After updating Patch Update","body":"<p>I am using a Samsung Galaxy S10 mobile. On February 3rd Security patch was updated on my phone. After the update Push notification was not received in my App. Other App notifications are working fine. Anyone can answer my question, please? What was the reason for not receiving notification?</p>\n"},{"tags":["java","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664284767,"creation_date":1664284767,"answer_id":73868293,"question_id":73868186,"body_markdown":"Firestore charges for **document** reads, so if you&#39;re reading 30 documents from the server, you will be charged for 30 document reads.\r\n\r\nIf you want to read fewer documents, consider merging the information from those 30 documents into fewer documents. For example, if you add a &quot;30 most recent contracts&quot; document to the collection, with information about the 30 most recent contracts, you will only need to read that one document to get the information.","title":"How to retrieve all documents from a collection in Firestore optimizing reads?","body":"<p>Firestore charges for <strong>document</strong> reads, so if you're reading 30 documents from the server, you will be charged for 30 document reads.</p>\n<p>If you want to read fewer documents, consider merging the information from those 30 documents into fewer documents. For example, if you add a &quot;30 most recent contracts&quot; document to the collection, with information about the 30 most recent contracts, you will only need to read that one document to get the information.</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664285708,"creation_date":1664285708,"answer_id":73868531,"question_id":73868186,"body_markdown":"You&#39;re reading all 30 documents, because you have created a [CollectionReference][1] object and not a [Query][2]. A CollectionReference is basically a query without any constraints. When you&#39;re attaching a listener to it, you&#39;re getting as a result, all the documents that exist in that particular collection. If you want to read fewer documents, as also @FrankvanPuffelen mentioned in his answer, you can merge that data in fewer documents, or even in a **single** document if it fits in the [1 Mib document maximum limitation][3], or, you can limit the amount of data that you get, by calling [Query#limit(long limit)][4] which:\r\n\r\n&gt; Creates and returns a new Query that only returns the first matching documents up to the specified number.\r\n\r\nIn addition, if you intend to add to your collection a number of documents that is much bigger than a user can see/read, then I recommend you implement pagination, as explained in my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\r\n\r\nIt&#39;s for Android, but almost the same mechanism can be used when creating apps with Java.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/CollectionReference\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query\r\n  [3]: https://firebase.google.com/docs/firestore/quotas#collections_documents_and_fields\r\n  [4]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#limit(long)","title":"How to retrieve all documents from a collection in Firestore optimizing reads?","body":"<p>You're reading all 30 documents, because you have created a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/CollectionReference\" rel=\"nofollow noreferrer\">CollectionReference</a> object and not a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query\" rel=\"nofollow noreferrer\">Query</a>. A CollectionReference is basically a query without any constraints. When you're attaching a listener to it, you're getting as a result, all the documents that exist in that particular collection. If you want to read fewer documents, as also @FrankvanPuffelen mentioned in his answer, you can merge that data in fewer documents, or even in a <strong>single</strong> document if it fits in the <a href=\"https://firebase.google.com/docs/firestore/quotas#collections_documents_and_fields\" rel=\"nofollow noreferrer\">1 Mib document maximum limitation</a>, or, you can limit the amount of data that you get, by calling <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#limit(long)\" rel=\"nofollow noreferrer\">Query#limit(long limit)</a> which:</p>\n<blockquote>\n<p>Creates and returns a new Query that only returns the first matching documents up to the specified number.</p>\n</blockquote>\n<p>In addition, if you intend to add to your collection a number of documents that is much bigger than a user can see/read, then I recommend you implement pagination, as explained in my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\">How to paginate Firestore with Android?</a></li>\n</ul>\n<p>It's for Android, but almost the same mechanism can be used when creating apps with Java.</p>\n"}],"owner":{"account_id":19653119,"reputation":56,"user_id":14386420,"display_name":"Brik000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664285764,"creation_date":1664284323,"question_id":73868186,"body_markdown":"Basically I&#39;m having an issue with the amount of reads that I get from using the following code:\r\n\r\n     public Iterable&lt;Contract&gt; findAllExpired(){\r\n        List&lt;Contract&gt; empList = new ArrayList&lt;Contract&gt;();\r\n        CollectionReference collaborator = fb.getFirestore().collection(&quot;Contracts&quot;);\r\n        ApiFuture&lt;QuerySnapshot&gt; querySnapshot = collaborator.get();\r\n        try {\r\n            for (DocumentSnapshot doc : querySnapshot.get().getDocuments()) {   \r\n                Contract emp = doc.toObject(Contract.class);\r\n                if (emp.isExpired()) {\r\n                    empList.add(emp);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            // TODO Auto-generated catch block\r\n        }\r\nCurrently, I have 30 documents in my DB, is there a way in which I can retrieve those documents without causing the Firestore to count the query as 30 reads but as only one?\r\n","title":"How to retrieve all documents from a collection in Firestore optimizing reads?","body":"<p>Basically I'm having an issue with the amount of reads that I get from using the following code:</p>\n<pre><code> public Iterable&lt;Contract&gt; findAllExpired(){\n    List&lt;Contract&gt; empList = new ArrayList&lt;Contract&gt;();\n    CollectionReference collaborator = fb.getFirestore().collection(&quot;Contracts&quot;);\n    ApiFuture&lt;QuerySnapshot&gt; querySnapshot = collaborator.get();\n    try {\n        for (DocumentSnapshot doc : querySnapshot.get().getDocuments()) {   \n            Contract emp = doc.toObject(Contract.class);\n            if (emp.isExpired()) {\n                empList.add(emp);\n            }\n        }\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n    }\n</code></pre>\n<p>Currently, I have 30 documents in my DB, is there a way in which I can retrieve those documents without causing the Firestore to count the query as 30 reads but as only one?</p>\n"},{"tags":["java","csv","arraylist","import","try-catch"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664282197,"post_id":73867178,"comment_id":130431397,"body_markdown":"Your code is generally good (though your class should be called ```Student``` ) and if you separate each ```parseInt``` into separate try-catch blocks, you can catch the exception and substitute the default value before calling the ctor of ```Student```","body":"Your code is generally good (though your class should be called <code>Student</code> ) and if you separate each <code>parseInt</code> into separate try-catch blocks, you can catch the exception and substitute the default value before calling the ctor of <code>Student</code>"},{"owner":{"account_id":17838934,"reputation":3,"user_id":12957240,"display_name":"Negh_var"},"score":0,"creation_date":1664283984,"post_id":73867178,"comment_id":130432139,"body_markdown":"So I need to read the line in the CSV, parse the individual values on each line, with try/catch using int = 0 for the int variables and after that&#39;s done, pass them through to the chemistry.add?\nwould I need to store each value as a temp local variable, then use that temp local variable in the add statement, and the while loop would take care of moving down the lines?","body":"So I need to read the line in the CSV, parse the individual values on each line, with try/catch using int = 0 for the int variables and after that&#39;s done, pass them through to the chemistry.add? would I need to store each value as a temp local variable, then use that temp local variable in the add statement, and the while loop would take care of moving down the lines?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664284471,"post_id":73867178,"comment_id":130432328,"body_markdown":"Basically, yes. Your split pattern should be ```&quot;\\\\s*,\\\\s*&quot;``` . I&#39;ll let you work out why","body":"Basically, yes. Your split pattern should be <code>&quot;\\\\s*,\\\\s*&quot;</code> . I&#39;ll let you work out why"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664285353,"post_id":73867178,"comment_id":130432726,"body_markdown":"Ah, you should delete that (unreadable) comment and join it with your posted code. I would do the initializations first and have the catch block empty, *apart* from a comment as to *why* it&#39;s empty","body":"Ah, you should delete that (unreadable) comment and join it with your posted code. I would do the initializations first and have the catch block empty, <i>apart</i> from a comment as to <i>why</i> it&#39;s empty"}],"owner":{"account_id":17838934,"reputation":3,"user_id":12957240,"display_name":"Negh_var"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664285548,"creation_date":1664279808,"question_id":73867178,"body_markdown":"I&#39;m hoping some might be able to suggest an alternate method to a program I&#39;m working on. I&#39;ve done the below *test* code to display my query without having to post my full code.\r\n\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n\r\n\tArrayList&lt;Students&gt; chemistry = new ArrayList&lt;&gt;();\r\n\r\n\tpublic void loadClass() {\r\n\r\n\t\ttry (BufferedReader br = new BufferedReader(new FileReader(&quot;Chemistry.csv&quot;))) {\r\n\t\t\tString line;\r\n\t\t\tline = br.readLine();\r\n\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\tString[] values = line.split(&quot;,&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tchemistry.add(new Students(values[0], values[1], Integer.parseInt(values[2]),\r\n\t\t\t\t\t\t\tInteger.parseInt(values[3]), Integer.parseInt(values[4])));\r\n\t\t\t\t} catch (NumberFormatException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;You have some text in a number field for entry: &quot; + values[0] + &quot; &quot; + values[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;The file has not been found in the path \\&quot;&quot; + (new File(&quot;.&quot;).getAbsoluteFile()) + &quot;\\&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;Please place the CSV file at this location&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Sorry an input/output error has occured.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;students loaded from the file are:&quot;);\r\n\r\n\t\tfor (Students pupils : chemistry) {\r\n\t\t\tSystem.out.println(&quot;Student &quot; + pupils.getFirstName() + &quot; &quot; + pupils.getSurname() + &quot; was born in &quot;\r\n\t\t\t\t\t+ pupils.getBirthYear() + &quot;/&quot; + pupils.getBirthMonth() + &quot; /&quot;\r\n\t\t\t\t\t+ pupils.getBirthDay());\r\n\t\t}\r\n\t\tSystem.out.println(&quot;\\nThe number of students in the class is: &quot; + chemistry.size());\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMain main = new Main();\r\n\t\tmain.loadClass();\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\npublic class Students {\r\n\tprivate String firstName;\r\n\tprivate String surname;\r\n\tprivate int birthYear;\r\n\tprivate int birthMonth;\r\n\tprivate int birthDay;\r\n\r\n\t// All-args constructor, getters and setters omitted for brevity\r\n}\r\n\r\n```\r\n\r\nHere is the CSV data I&#39;m using in the *Chemistry.csv* file\r\n```none\r\nFirst Name,Surname,Year of Birth,Month of Birth,Day of Birth\r\nJoe,Bloggs,2002,12,8\r\nJane,Bloggs,2003,11,15\r\nHarry,Smith,2004,10,2\r\nWilliam,Wallace,2001,9,7\r\nPhilip,Jones,2002,Aug,9th\r\n```\r\n\r\nAs you can see in my CSV file, I&#39;ve deliberately put a string entry for the month and day in the last line. This is to test my NumberFormatException try/catch.\r\n\r\nIt works and the user gets prompted that there&#39;s an error with that line entry, but this is a small dataset. I&#39;m wondering what I can do when there may be hundreds of lines.\r\n\r\nI was thinking that in the catch I could have something that would replace the invalid String with a valid int number.  I know in this case I would have to engineer an if/else or switch statement to account for the 12 months and 30(ish) days, however I would just like &#39;0&#39; to be entered for now.\r\n\r\nI&#39;m not sure how to pass *int 0* as a default value for this as my *chemistry.add* line parses the file.\r\n\r\nI also thought there may be an alternate way of entering the values into my ArrayList so I can put the try/catch around just the *Integer.parseInt* bits, but again, I&#39;m not sure of another method.\r\n\r\nCan anyone suggest a good option to investigate?\r\n\r\nEDIT:\r\nAfter the comment by g00se below, I used this instead and it seemed to work:\r\n\r\n```java\r\nwhile ((line = br.readLine()) != null) {\r\n\t\t\t\tint third, fourth, fifth;\r\n\t\t\t\tString[] values = line.split(&quot;,&quot;);\r\n\t\t\t\tString first = values[0];\r\n\t\t\t\tString second = values[1];\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthird = Integer.parseInt(values[2]);\r\n\t\t\t\t} catch (NumberFormatException e3) {\r\n\t\t\t\t\tthird = 0;\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfourth = Integer.parseInt(values[3]);\r\n\t\t\t\t} catch (NumberFormatException e4) {\r\n\t\t\t\t\tfourth = 0;\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfifth = Integer.parseInt(values[4]);\r\n\t\t\t\t} catch (NumberFormatException e5) {\r\n\t\t\t\t\tfifth = 0;\r\n\t\t\t\t}\r\n\t\t\t\t\tchemistry.add(new Student(first, second, third, fourth, fifth));\r\n\t\t\t}\r\n```\r\nNeeds some tidying up but at least I have a way forward...","title":"Read CSV containing Strings &amp; int to arraylist with try/catch","body":"<p>I'm hoping some might be able to suggest an alternate method to a program I'm working on. I've done the below <em>test</em> code to display my query without having to post my full code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\npublic class Main {\n\n    ArrayList&lt;Students&gt; chemistry = new ArrayList&lt;&gt;();\n\n    public void loadClass() {\n\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;Chemistry.csv&quot;))) {\n            String line;\n            line = br.readLine();\n            while ((line = br.readLine()) != null) {\n                String[] values = line.split(&quot;,&quot;);\n                try {\n                    chemistry.add(new Students(values[0], values[1], Integer.parseInt(values[2]),\n                            Integer.parseInt(values[3]), Integer.parseInt(values[4])));\n                } catch (NumberFormatException e) {\n                    System.out.println(&quot;You have some text in a number field for entry: &quot; + values[0] + &quot; &quot; + values[1]);\n                }\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;The file has not been found in the path \\&quot;&quot; + (new File(&quot;.&quot;).getAbsoluteFile()) + &quot;\\&quot;&quot;);\n            System.out.println(&quot;Please place the CSV file at this location&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;Sorry an input/output error has occured.&quot;);\n            e.printStackTrace();\n        }\n\n        System.out.println(&quot;students loaded from the file are:&quot;);\n\n        for (Students pupils : chemistry) {\n            System.out.println(&quot;Student &quot; + pupils.getFirstName() + &quot; &quot; + pupils.getSurname() + &quot; was born in &quot;\n                    + pupils.getBirthYear() + &quot;/&quot; + pupils.getBirthMonth() + &quot; /&quot;\n                    + pupils.getBirthDay());\n        }\n        System.out.println(&quot;\\nThe number of students in the class is: &quot; + chemistry.size());\n\n    }\n\n    public static void main(String[] args) {\n        Main main = new Main();\n        main.loadClass();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Students {\n    private String firstName;\n    private String surname;\n    private int birthYear;\n    private int birthMonth;\n    private int birthDay;\n\n    // All-args constructor, getters and setters omitted for brevity\n}\n\n</code></pre>\n<p>Here is the CSV data I'm using in the <em>Chemistry.csv</em> file</p>\n<pre class=\"lang-none prettyprint-override\"><code>First Name,Surname,Year of Birth,Month of Birth,Day of Birth\nJoe,Bloggs,2002,12,8\nJane,Bloggs,2003,11,15\nHarry,Smith,2004,10,2\nWilliam,Wallace,2001,9,7\nPhilip,Jones,2002,Aug,9th\n</code></pre>\n<p>As you can see in my CSV file, I've deliberately put a string entry for the month and day in the last line. This is to test my NumberFormatException try/catch.</p>\n<p>It works and the user gets prompted that there's an error with that line entry, but this is a small dataset. I'm wondering what I can do when there may be hundreds of lines.</p>\n<p>I was thinking that in the catch I could have something that would replace the invalid String with a valid int number.  I know in this case I would have to engineer an if/else or switch statement to account for the 12 months and 30(ish) days, however I would just like '0' to be entered for now.</p>\n<p>I'm not sure how to pass <em>int 0</em> as a default value for this as my <em>chemistry.add</em> line parses the file.</p>\n<p>I also thought there may be an alternate way of entering the values into my ArrayList so I can put the try/catch around just the <em>Integer.parseInt</em> bits, but again, I'm not sure of another method.</p>\n<p>Can anyone suggest a good option to investigate?</p>\n<p>EDIT:\nAfter the comment by g00se below, I used this instead and it seemed to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while ((line = br.readLine()) != null) {\n                int third, fourth, fifth;\n                String[] values = line.split(&quot;,&quot;);\n                String first = values[0];\n                String second = values[1];\n                try {\n                    third = Integer.parseInt(values[2]);\n                } catch (NumberFormatException e3) {\n                    third = 0;\n                }\n                try {\n                    fourth = Integer.parseInt(values[3]);\n                } catch (NumberFormatException e4) {\n                    fourth = 0;\n                }\n                try {\n                    fifth = Integer.parseInt(values[4]);\n                } catch (NumberFormatException e5) {\n                    fifth = 0;\n                }\n                    chemistry.add(new Student(first, second, third, fourth, fifth));\n            }\n</code></pre>\n<p>Needs some tidying up but at least I have a way forward...</p>\n"},{"tags":["java","android","multithreading","android-snackbar"],"answers":[{"tags":[],"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664285132,"creation_date":1664285132,"answer_id":73868388,"question_id":73868254,"body_markdown":"You need to run it on the UI/Main thread.\r\n\r\nUse [runOnUiThread(action: Runnable)][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Activity#runOnUiThread(java.lang.Runnable)\r\n\r\n    runOnUiThread(() -&gt; snackbarMsg(view, &quot;insert message&quot;));","title":"Android java - Trying to show snackbar in new thread","body":"<p>You need to run it on the UI/Main thread.</p>\n<p>Use <a href=\"https://developer.android.com/reference/android/app/Activity#runOnUiThread(java.lang.Runnable)\" rel=\"nofollow noreferrer\">runOnUiThread(action: Runnable)</a></p>\n<pre><code>runOnUiThread(() -&gt; snackbarMsg(view, &quot;insert message&quot;));\n</code></pre>\n"}],"owner":{"account_id":26332661,"reputation":13,"user_id":19992954,"display_name":"MegaBread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73868388,"answer_count":1,"score":1,"last_activity_date":1664285467,"creation_date":1664284623,"question_id":73868254,"body_markdown":"Ive been trying to make my bluetooth connection thread be able to send messages to the user through snackbars, but they never appear on the screen.\r\n\r\nIn main method:\r\n\r\n    //listener for connect button\r\n        try {\r\n            Button btn_connect = findViewById(R.id.btn_connect);\r\n            btn_connect.setOnClickListener(view -&gt; {\r\n                if(bluetoothService.isStarted()){\r\n                    snackbarMsg(findViewById(R.id.btn_connect), &quot;Bluetooth connection already established&quot;);\r\n                } else{\r\n                    new Thread(() -&gt; {\r\n                        try {\r\n                            Log.i(TAG, &quot;New thread started&quot;);\r\n                            bluetoothService.run(MainActivity.this);\r\n                            Log.i(TAG,&quot;Bluetooth service started&quot;);\r\n                            snackbarMsg(findViewById(R.id.btn_connect), &quot;Bluetooth service started&quot;);\r\n                        } catch (Exception e) {\r\n                            Log.e(TAG, &quot;Bluetooth service failed&quot;, e);\r\n                        }\r\n                    }).start();\r\n                }\r\n            });\r\n        } catch (Exception exception){\r\n            Log.e(TAG, &quot;Bluetooth service failed&quot;);\r\n        }\r\n\r\nin BluetoothService class:\r\n\r\n    public void snackbarMsg (View view, String msg){\r\n        try {\r\n            Snackbar snackbar = Snackbar.make(view, msg, BaseTransientBottomBar.LENGTH_SHORT);\r\n\r\n            snackbar.show();\r\n        } catch (Exception exception){\r\n            Log.e(TAG, &quot;Could not show snackbar&quot;, exception);\r\n        }\r\n    }\r\n\r\nThe view i send with the method is always of something on the main screen, so for example using &quot;snackbarMsg(findViewById(R.id.button_send),&quot;Failed to find bluetooth server&quot;);&quot; \r\nwhere button_send is on the screen i want to show the snackbar.\r\n\r\nive tried using runnables and extends thread and whatnot. But since i already have extensions on bluetoothservice class that didnt work, and runnable proved troublesome because i need to send context when starting the run method, and that context seemingly cant be sent at an earlier state, meaning i cant send that info when i create and object fom bluetoothservice at the beginning of the program.\r\n\r\nSecondly: im not sure i even need a second thread, since my bluetooth connection is only sending data, not receiving, am i just doing useless work?\r\n","title":"Android java - Trying to show snackbar in new thread","body":"<p>Ive been trying to make my bluetooth connection thread be able to send messages to the user through snackbars, but they never appear on the screen.</p>\n<p>In main method:</p>\n<pre><code>//listener for connect button\n    try {\n        Button btn_connect = findViewById(R.id.btn_connect);\n        btn_connect.setOnClickListener(view -&gt; {\n            if(bluetoothService.isStarted()){\n                snackbarMsg(findViewById(R.id.btn_connect), &quot;Bluetooth connection already established&quot;);\n            } else{\n                new Thread(() -&gt; {\n                    try {\n                        Log.i(TAG, &quot;New thread started&quot;);\n                        bluetoothService.run(MainActivity.this);\n                        Log.i(TAG,&quot;Bluetooth service started&quot;);\n                        snackbarMsg(findViewById(R.id.btn_connect), &quot;Bluetooth service started&quot;);\n                    } catch (Exception e) {\n                        Log.e(TAG, &quot;Bluetooth service failed&quot;, e);\n                    }\n                }).start();\n            }\n        });\n    } catch (Exception exception){\n        Log.e(TAG, &quot;Bluetooth service failed&quot;);\n    }\n</code></pre>\n<p>in BluetoothService class:</p>\n<pre><code>public void snackbarMsg (View view, String msg){\n    try {\n        Snackbar snackbar = Snackbar.make(view, msg, BaseTransientBottomBar.LENGTH_SHORT);\n\n        snackbar.show();\n    } catch (Exception exception){\n        Log.e(TAG, &quot;Could not show snackbar&quot;, exception);\n    }\n}\n</code></pre>\n<p>The view i send with the method is always of something on the main screen, so for example using &quot;snackbarMsg(findViewById(R.id.button_send),&quot;Failed to find bluetooth server&quot;);&quot;\nwhere button_send is on the screen i want to show the snackbar.</p>\n<p>ive tried using runnables and extends thread and whatnot. But since i already have extensions on bluetoothservice class that didnt work, and runnable proved troublesome because i need to send context when starting the run method, and that context seemingly cant be sent at an earlier state, meaning i cant send that info when i create and object fom bluetoothservice at the beginning of the program.</p>\n<p>Secondly: im not sure i even need a second thread, since my bluetooth connection is only sending data, not receiving, am i just doing useless work?</p>\n"},{"tags":["java","android","navigation-drawer"],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664283686,"creation_date":1664283686,"answer_id":73868038,"question_id":73867649,"body_markdown":"**Try this -** \r\n\r\n  \r\n\r\n      public class MainActivity extends AppCompatActivity\r\n            implements NavigationView.OnNavigationItemSelectedListener {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n             binding = ActivityHomepageBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n    \r\n        setSupportActionBar(binding.appBarHomepage.toolbar);\r\n        binding.appBarHomepage.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();\r\n            }\r\n    \r\n        });\r\n    \r\n    \r\n    \r\n        DrawerLayout drawer = binding.drawerLayout;\r\n        NavigationView navigationView = binding.navView;\r\n    \r\n        navigationView.setNavigationItemSelectedListener(this);\r\n    \r\n    \r\n     // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(R.id.nav_dashboard, R.id.nav_profile, R.id.nav_orders, R.id.nav_recent_orders,\r\n                R.id.nav_pending_deliveries, R.id.nav_cancelled_orders, R.id.nav_settings)\r\n                .setOpenableLayout(drawer)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_homepage);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n    \r\n     }\r\n    \r\n        @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.homepage, menu);\r\n        return true;\r\n    }\r\n    \r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_homepage);\r\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    \r\n    \r\n    }\r\n    \r\n     @Override\r\n        public boolean onNavigationItemSelected(MenuItem menuItem) {\r\n    \r\n           int id=menuItem.getItemId();\r\n                if (id == R.id.nav_Sign_out){\r\n                    Intent intent = new Intent(Homepage.this, Login.class);\r\n                    startActivity(intent);\r\n                }\r\n                return true;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Trying to open an activity from a navigation drawer item","body":"<p><strong>Try this -</strong></p>\n<pre><code>  public class MainActivity extends AppCompatActivity\n        implements NavigationView.OnNavigationItemSelectedListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n         binding = ActivityHomepageBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    setSupportActionBar(binding.appBarHomepage.toolbar);\n    binding.appBarHomepage.fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                    .setAction(&quot;Action&quot;, null).show();\n        }\n\n    });\n\n\n\n    DrawerLayout drawer = binding.drawerLayout;\n    NavigationView navigationView = binding.navView;\n\n    navigationView.setNavigationItemSelectedListener(this);\n\n\n // Passing each menu ID as a set of Ids because each\n    // menu should be considered as top level destinations.\n    mAppBarConfiguration = new AppBarConfiguration.Builder(R.id.nav_dashboard, R.id.nav_profile, R.id.nav_orders, R.id.nav_recent_orders,\n            R.id.nav_pending_deliveries, R.id.nav_cancelled_orders, R.id.nav_settings)\n            .setOpenableLayout(drawer)\n            .build();\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_homepage);\n    NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n    NavigationUI.setupWithNavController(navigationView, navController);\n\n }\n\n    @Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.homepage, menu);\n    return true;\n}\n\n@Override\npublic boolean onSupportNavigateUp() {\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_homepage);\n    return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n            || super.onSupportNavigateUp();\n\n\n}\n\n @Override\n    public boolean onNavigationItemSelected(MenuItem menuItem) {\n\n       int id=menuItem.getItemId();\n            if (id == R.id.nav_Sign_out){\n                Intent intent = new Intent(Homepage.this, Login.class);\n                startActivity(intent);\n            }\n            return true;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26337320,"reputation":3,"user_id":19996981,"display_name":"NoobieMobileDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664285424,"creation_date":1664281977,"question_id":73867649,"body_markdown":"I&#39;m trying to make the &quot;sign out&quot; item take me back to the Login window. I did a lot of searching and watching videos but nothing worked for me.\r\n\r\n\r\nHere&#39;s my built-in navigation drawer code.\r\nThe code I typed starts from line 46 to line 56, most codes are just built-in.\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityHomepageBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        setSupportActionBar(binding.appBarHomepage.toolbar);\r\n        binding.appBarHomepage.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();\r\n            }\r\n\r\n        });\r\n\r\n\r\n\r\n        DrawerLayout drawer = binding.drawerLayout;\r\n        NavigationView navigationView = binding.navView;\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n                int id=menuItem.getItemId();\r\n                if (id == R.id.nav_Sign_out){\r\n                    Intent intent = new Intent(Homepage.this, Login.class);\r\n                    startActivity(intent);\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(R.id.nav_dashboard, R.id.nav_profile, R.id.nav_orders, R.id.nav_recent_orders,\r\n                R.id.nav_pending_deliveries, R.id.nav_cancelled_orders, R.id.nav_settings)\r\n                .setOpenableLayout(drawer)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_homepage);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.homepage, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_homepage);\r\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nLogin.java\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        textview = (TextView) findViewById(R.id.textViewSignUp);\r\n\r\n        textview.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(Login.this,Register.class);\r\n                startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n        button = (Button) findViewById(R.id.btnLogin);\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Login.this,Homepage.class);\r\n                startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nIt doesn&#39;t have an error but it doesn&#39;t work.\r\n\r\nHere&#39;s the activity_main_drawer.xml where I put the items.\r\n\r\n    &lt;group\r\n        android:id=&quot;@+id/menu_top&quot;\r\n        android:checkableBehavior=&quot;none&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_dashboard&quot;\r\n            android:icon=&quot;@drawable/ic_baseline_dashboard_24&quot;\r\n            android:title=&quot;@string/dashboard&quot;&gt;\r\n        &lt;/item&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_profile&quot;\r\n            android:icon=&quot;@drawable/ic_baseline_person_24&quot;\r\n            android:title=&quot;@string/profile&quot; &gt;\r\n        &lt;/item&gt;\r\n    &lt;/group&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/nav_orders&quot;\r\n        android:title=&quot;@string/orders&quot; &gt;\r\n        &lt;menu&gt;\r\n            &lt;item\r\n                android:id=&quot;@+id/nav_menu_orders&quot;\r\n                android:title=&quot;@string/Orders&quot;\r\n                android:icon=&quot;@drawable/ic_orders&quot; /&gt;\r\n\r\n            &lt;item\r\n                android:id=&quot;@+id/nav_recent_orders&quot;\r\n                android:title=&quot;@string/recent_orders&quot;\r\n                android:icon=&quot;@drawable/ic_recent&quot; /&gt;\r\n        &lt;/menu&gt;\r\n    &lt;/item&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_deliveries&quot;\r\n            android:title=&quot;@string/deliveries&quot; &gt;\r\n            &lt;menu&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/nav_pending_deliveries&quot;\r\n                    android:title=&quot;@string/pending_deliveries&quot;\r\n                    android:icon=&quot;@drawable/ic_pending_deliveries&quot;/&gt;\r\n\r\n                &lt;item\r\n                    android:id=&quot;@+id/nav_recent_deliveries&quot;\r\n                    android:title=&quot;@string/recent_deliveries&quot;\r\n                    android:icon=&quot;@drawable/ic_recent&quot; /&gt;\r\n            &lt;/menu&gt;\r\n\r\n        &lt;/item&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/nav_cancelled_orders&quot;\r\n        android:icon=&quot;@drawable/ic_baseline_cancel_24&quot;\r\n        android:title=&quot;@string/cancelled_orders&quot; &gt;\r\n        &lt;/item&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/nav_settings&quot;\r\n        android:icon=&quot;@drawable/ic_baseline_settings_24&quot;\r\n        android:title=&quot;@string/settings&quot; &gt;\r\n\r\n    &lt;/item&gt;\r\n\r\n    &lt;group\r\n        android:id=&quot;@+id/nav_menu_bottom&quot;\r\n        android:checkableBehavior=&quot;none&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_Sign_out&quot;\r\n            android:icon=&quot;@drawable/ic_sign_out&quot;\r\n            android:title=&quot;@string/sign_out&quot;&gt;\r\n        &lt;/item&gt;\r\n    &lt;/group&gt;\r\n\r\n&lt;/menu&gt;","title":"Trying to open an activity from a navigation drawer item","body":"<p>I'm trying to make the &quot;sign out&quot; item take me back to the Login window. I did a lot of searching and watching videos but nothing worked for me.</p>\n<p>Here's my built-in navigation drawer code.\nThe code I typed starts from line 46 to line 56, most codes are just built-in.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    binding = ActivityHomepageBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    setSupportActionBar(binding.appBarHomepage.toolbar);\n    binding.appBarHomepage.fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                    .setAction(&quot;Action&quot;, null).show();\n        }\n\n    });\n\n\n\n    DrawerLayout drawer = binding.drawerLayout;\n    NavigationView navigationView = binding.navView;\n    navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n            int id=menuItem.getItemId();\n            if (id == R.id.nav_Sign_out){\n                Intent intent = new Intent(Homepage.this, Login.class);\n                startActivity(intent);\n            }\n            return true;\n        }\n    });\n    // Passing each menu ID as a set of Ids because each\n    // menu should be considered as top level destinations.\n    mAppBarConfiguration = new AppBarConfiguration.Builder(R.id.nav_dashboard, R.id.nav_profile, R.id.nav_orders, R.id.nav_recent_orders,\n            R.id.nav_pending_deliveries, R.id.nav_cancelled_orders, R.id.nav_settings)\n            .setOpenableLayout(drawer)\n            .build();\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_homepage);\n    NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n    NavigationUI.setupWithNavController(navigationView, navController);\n\n\n}\n\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.homepage, menu);\n    return true;\n}\n\n@Override\npublic boolean onSupportNavigateUp() {\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_homepage);\n    return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n            || super.onSupportNavigateUp();\n\n\n}\n</code></pre>\n<p>}</p>\n<p>Login.java</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n\n    textview = (TextView) findViewById(R.id.textViewSignUp);\n\n    textview.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(Login.this,Register.class);\n            startActivity(intent);\n\n        }\n    });\n\n    button = (Button) findViewById(R.id.btnLogin);\n\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(Login.this,Homepage.class);\n            startActivity(intent);\n\n        }\n    });\n\n\n}\n</code></pre>\n<p>}</p>\n<p>It doesn't have an error but it doesn't work.</p>\n<p>Here's the activity_main_drawer.xml where I put the items.</p>\n<pre><code>&lt;group\n    android:id=&quot;@+id/menu_top&quot;\n    android:checkableBehavior=&quot;none&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_dashboard&quot;\n        android:icon=&quot;@drawable/ic_baseline_dashboard_24&quot;\n        android:title=&quot;@string/dashboard&quot;&gt;\n    &lt;/item&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_profile&quot;\n        android:icon=&quot;@drawable/ic_baseline_person_24&quot;\n        android:title=&quot;@string/profile&quot; &gt;\n    &lt;/item&gt;\n&lt;/group&gt;\n&lt;item\n    android:id=&quot;@+id/nav_orders&quot;\n    android:title=&quot;@string/orders&quot; &gt;\n    &lt;menu&gt;\n        &lt;item\n            android:id=&quot;@+id/nav_menu_orders&quot;\n            android:title=&quot;@string/Orders&quot;\n            android:icon=&quot;@drawable/ic_orders&quot; /&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_recent_orders&quot;\n            android:title=&quot;@string/recent_orders&quot;\n            android:icon=&quot;@drawable/ic_recent&quot; /&gt;\n    &lt;/menu&gt;\n&lt;/item&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_deliveries&quot;\n        android:title=&quot;@string/deliveries&quot; &gt;\n        &lt;menu&gt;\n            &lt;item\n                android:id=&quot;@+id/nav_pending_deliveries&quot;\n                android:title=&quot;@string/pending_deliveries&quot;\n                android:icon=&quot;@drawable/ic_pending_deliveries&quot;/&gt;\n\n            &lt;item\n                android:id=&quot;@+id/nav_recent_deliveries&quot;\n                android:title=&quot;@string/recent_deliveries&quot;\n                android:icon=&quot;@drawable/ic_recent&quot; /&gt;\n        &lt;/menu&gt;\n\n    &lt;/item&gt;\n&lt;item\n    android:id=&quot;@+id/nav_cancelled_orders&quot;\n    android:icon=&quot;@drawable/ic_baseline_cancel_24&quot;\n    android:title=&quot;@string/cancelled_orders&quot; &gt;\n    &lt;/item&gt;\n&lt;item\n    android:id=&quot;@+id/nav_settings&quot;\n    android:icon=&quot;@drawable/ic_baseline_settings_24&quot;\n    android:title=&quot;@string/settings&quot; &gt;\n\n&lt;/item&gt;\n\n&lt;group\n    android:id=&quot;@+id/nav_menu_bottom&quot;\n    android:checkableBehavior=&quot;none&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_Sign_out&quot;\n        android:icon=&quot;@drawable/ic_sign_out&quot;\n        android:title=&quot;@string/sign_out&quot;&gt;\n    &lt;/item&gt;\n&lt;/group&gt;\n</code></pre>\n\n"},{"tags":["java","string","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":20155916,"reputation":124,"user_id":14782128,"display_name":"mahdi lotfi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664151199,"creation_date":1664151199,"answer_id":73848616,"question_id":73848516,"body_markdown":"- for the first part of problem, you need to convert each entry to corresponding country. so, you could use `String.split` function and keep the country part.\r\n- for the second part you could take advantage of the `Stream.distinct` function that will remove duplicates from incoming stream.\r\n\r\nfinally, this should work:\r\n```java\r\nList&lt;String&gt; res = list.stream()\r\n        .map(s -&gt; s.split(&quot;\\\\.&quot;)[1])\r\n        .distinct()\r\n        .collect(Collectors.toList());\r\n```","title":"How to filter a list of String down to a distinct list made of string suffices in Java 8 Streams","body":"<ul>\n<li>for the first part of problem, you need to convert each entry to corresponding country. so, you could use <code>String.split</code> function and keep the country part.</li>\n<li>for the second part you could take advantage of the <code>Stream.distinct</code> function that will remove duplicates from incoming stream.</li>\n</ul>\n<p>finally, this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; res = list.stream()\n        .map(s -&gt; s.split(&quot;\\\\.&quot;)[1])\n        .distinct()\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664153033,"creation_date":1664153033,"answer_id":73848725,"question_id":73848516,"body_markdown":"If you want to be careful about format it would be worth using a regular expression. This also makes the meaning of the code clearer to a reader.\r\n\r\n    Pattern inputPattern = Pattern.compile(&quot;- (?&lt;name&gt;[A-Z]+)\\\\.(?&lt;country&gt;[A-Z]+)&quot;);\r\n    list.stream()\r\n        .map(inputPattern::match)\r\n        .filter(Matcher::matches)\r\n        .map(m -&gt; m.group(&quot;country&quot;))\r\n        .distinct()\r\n        .toList();\r\n\r\nThis ignores lines that don&#39;t match the expected format.","title":"How to filter a list of String down to a distinct list made of string suffices in Java 8 Streams","body":"<p>If you want to be careful about format it would be worth using a regular expression. This also makes the meaning of the code clearer to a reader.</p>\n<pre><code>Pattern inputPattern = Pattern.compile(&quot;- (?&lt;name&gt;[A-Z]+)\\\\.(?&lt;country&gt;[A-Z]+)&quot;);\nlist.stream()\n    .map(inputPattern::match)\n    .filter(Matcher::matches)\n    .map(m -&gt; m.group(&quot;country&quot;))\n    .distinct()\n    .toList();\n</code></pre>\n<p>This ignores lines that don't match the expected format.</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664168963,"creation_date":1664168963,"answer_id":73849810,"question_id":73848516,"body_markdown":"**Alternative solution**\r\n\r\nYou can use the advantage of the method `Pattern#splitAsStream(CharSerquence)`. Once you split each line into a new Stream, skip the first item, `flatMap` the result into a new Stream and produce a `Set`.\r\n\r\n```java\r\nfinal Pattern pattern = Pattern.compile(&quot;\\\\.&quot;);\r\n\r\nfinal Set&lt;String&gt; result = list.stream()\r\n\t\t.flatMap(string -&gt; pattern.splitAsStream(string).skip(1))\r\n\t\t.collect(Collectors.toSet());\r\n```\r\n\r\n&gt; ```\r\n&gt; [GHANA, FRANCE, BRITAIN]\r\n&gt; ```","title":"How to filter a list of String down to a distinct list made of string suffices in Java 8 Streams","body":"<p><strong>Alternative solution</strong></p>\n<p>You can use the advantage of the method <code>Pattern#splitAsStream(CharSerquence)</code>. Once you split each line into a new Stream, skip the first item, <code>flatMap</code> the result into a new Stream and produce a <code>Set</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Pattern pattern = Pattern.compile(&quot;\\\\.&quot;);\n\nfinal Set&lt;String&gt; result = list.stream()\n        .flatMap(string -&gt; pattern.splitAsStream(string).skip(1))\n        .collect(Collectors.toSet());\n</code></pre>\n<blockquote>\n<pre><code>[GHANA, FRANCE, BRITAIN]\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73849810,"answer_count":3,"score":0,"last_activity_date":1664285119,"creation_date":1664149400,"question_id":73848516,"body_markdown":"I am new to Java streams but need to master by practice really!\r\n\r\nThe collection input is made up of strings e.g. `[name][dot][country]`, example as follows:\r\n\r\n    JAMES.BRITAIN\r\n    JOHN.BRITAIN\r\n    LEE.BRITAIN\r\n    GEORGE.FRANCE\r\n    LEON.FRANCE\r\n    MARSELLE.FRANCE\r\n    KOFI.GHANA\r\n    CHARLIE.GHANA\r\n\r\nPlease, how do I return a list of unique countries in a single stream statement?\r\n\r\nExpected result will be a **distinct** list as follows:\r\n\r\n    BRITAIN\r\n    FRANCE\r\n    GHANA\r\n\r\n \r\nIn the real code the streams statement below gives me the list to be filtered i.e.:\r\n\r\n```java\r\nList&lt;String&gt; allSolrCollections =  (List&lt;String&gt;) findAllCollections()\r\n    .getJsonArray(SOLR_CLOUD_COLLECTION)\r\n    .getList()\r\n    .stream() \r\n    .map(object -&gt; Objects.toString(object, null))\r\n    .collect(Collectors.toList());\r\n```","title":"How to filter a list of String down to a distinct list made of string suffices in Java 8 Streams","body":"<p>I am new to Java streams but need to master by practice really!</p>\n<p>The collection input is made up of strings e.g. <code>[name][dot][country]</code>, example as follows:</p>\n<pre><code>JAMES.BRITAIN\nJOHN.BRITAIN\nLEE.BRITAIN\nGEORGE.FRANCE\nLEON.FRANCE\nMARSELLE.FRANCE\nKOFI.GHANA\nCHARLIE.GHANA\n</code></pre>\n<p>Please, how do I return a list of unique countries in a single stream statement?</p>\n<p>Expected result will be a <strong>distinct</strong> list as follows:</p>\n<pre><code>BRITAIN\nFRANCE\nGHANA\n</code></pre>\n<p>In the real code the streams statement below gives me the list to be filtered i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; allSolrCollections =  (List&lt;String&gt;) findAllCollections()\n    .getJsonArray(SOLR_CLOUD_COLLECTION)\n    .getList()\n    .stream() \n    .map(object -&gt; Objects.toString(object, null))\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","macos","zsh","java-home"],"comments":[{"owner":{"account_id":20233393,"reputation":432,"user_id":14839305,"display_name":"Rhett Harrison"},"score":1,"creation_date":1657115849,"post_id":72884476,"comment_id":128733275,"body_markdown":"Do you happen to be using IntelliJ or Android Studio? I believe you can change the JVM to whichever you please for certain projects in Preferences.","body":"Do you happen to be using IntelliJ or Android Studio? I believe you can change the JVM to whichever you please for certain projects in Preferences."},{"owner":{"account_id":365431,"reputation":4956,"user_id":2057091,"accept_rate":89,"display_name":"Aserre"},"score":1,"creation_date":1657116723,"post_id":72884476,"comment_id":128733676,"body_markdown":"A good tool to easily switch between java versions on the fly is [sdkman](https://sdkman.io/)","body":"A good tool to easily switch between java versions on the fly is <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a>"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1657119286,"post_id":72884476,"comment_id":128734962,"body_markdown":"Did you check [this](https://medium.com/notes-for-geeks/java-home-and-java-home-on-macos-f246cab643bd) page? It shows how to run a Java process with a specific JAVA_HOME setting.","body":"Did you check <a href=\"https://medium.com/notes-for-geeks/java-home-and-java-home-on-macos-f246cab643bd\" rel=\"nofollow noreferrer\">this</a> page? It shows how to run a Java process with a specific JAVA_HOME setting."}],"answers":[{"tags":[],"owner":{"account_id":2676787,"reputation":1076,"user_id":2352196,"accept_rate":67,"display_name":"Bojan Trajkovski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664285028,"creation_date":1657115843,"answer_id":72884878,"question_id":72884476,"body_markdown":"One thing you should do after changing `.zshrc` file is to execute:\r\n\r\n`source ~/.zshrc` in order for the changes in your `.zshrc` to be activated\r\n\r\n---\r\n\r\nBut I would suggest when working with multiple java version, to setup alias and be able to easily change versions on-demand. \r\n\r\nYou can find a guide for this on this Stackoverflow answer:\r\nhttps://stackoverflow.com/a/40754792/2352196\r\n\r\n ","title":"Setting JAVA_HOME in zshrc on M1 Mac?","body":"<p>One thing you should do after changing <code>.zshrc</code> file is to execute:</p>\n<p><code>source ~/.zshrc</code> in order for the changes in your <code>.zshrc</code> to be activated</p>\n<hr />\n<p>But I would suggest when working with multiple java version, to setup alias and be able to easily change versions on-demand.</p>\n<p>You can find a guide for this on this Stackoverflow answer:\n<a href=\"https://stackoverflow.com/a/40754792/2352196\">https://stackoverflow.com/a/40754792/2352196</a></p>\n"}],"owner":{"account_id":18939487,"reputation":223,"user_id":13819875,"display_name":"Before The Empire"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72884878,"answer_count":1,"score":1,"last_activity_date":1664285028,"creation_date":1657114325,"question_id":72884476,"body_markdown":"When I use \r\n\r\n`/usr/libexec/java_home`\r\n\r\nI get\r\n\r\n\r\n`/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home`\r\n\r\nbut I want to be getting\r\n\r\n`/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home`\r\n\r\nI&#39;ve changed my .zshrc file a number of times and it seems to always revert to the default of temurin 17.\r\n\r\nMy application will not run android pointing to temurin 17 and it should be selecting zulu 11 jdk.\r\n\r\n\r\n","title":"Setting JAVA_HOME in zshrc on M1 Mac?","body":"<p>When I use</p>\n<p><code>/usr/libexec/java_home</code></p>\n<p>I get</p>\n<p><code>/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home</code></p>\n<p>but I want to be getting</p>\n<p><code>/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home</code></p>\n<p>I've changed my .zshrc file a number of times and it seems to always revert to the default of temurin 17.</p>\n<p>My application will not run android pointing to temurin 17 and it should be selecting zulu 11 jdk.</p>\n"},{"tags":["java","guava","splitter"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1322140255,"post_id":8257545,"comment_id":10161712,"body_markdown":"Do you have two versions of Guava (or its predecessor) in your classpath perhaps?","body":"Do you have two versions of Guava (or its predecessor) in your classpath perhaps?"},{"owner":{"account_id":880069,"reputation":1906,"user_id":212814,"accept_rate":58,"display_name":"mip"},"score":0,"creation_date":1322140400,"post_id":8257545,"comment_id":10161757,"body_markdown":"No I don&#39;t think so. This is the first time I&#39;ve downloaded and tried to use Guava.","body":"No I don&#39;t think so. This is the first time I&#39;ve downloaded and tried to use Guava."},{"owner":{"account_id":48170,"reputation":12634,"user_id":142983,"accept_rate":80,"display_name":"Etienne Neveu"},"score":5,"creation_date":1322145118,"post_id":8257545,"comment_id":10163276,"body_markdown":"You might have a google collection jar in your classpath. Some libraries depend on it.","body":"You might have a google collection jar in your classpath. Some libraries depend on it."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":1,"creation_date":1322148016,"post_id":8257545,"comment_id":10164274,"body_markdown":"possible duplicate of [Splitter blows up on simple Pattern](http://stackoverflow.com/questions/3126276/splitter-blows-up-on-simple-pattern)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3126276/splitter-blows-up-on-simple-pattern\">Splitter blows up on simple Pattern</a>"},{"owner":{"account_id":880069,"reputation":1906,"user_id":212814,"accept_rate":58,"display_name":"mip"},"score":0,"creation_date":1322150993,"post_id":8257545,"comment_id":10165151,"body_markdown":"Hmm. I really don&#39;t think this is my classpath. What the easiest was to check in eclipse? It&#39;s not on my build path.","body":"Hmm. I really don&#39;t think this is my classpath. What the easiest was to check in eclipse? It&#39;s not on my build path."},{"owner":{"account_id":880069,"reputation":1906,"user_id":212814,"accept_rate":58,"display_name":"mip"},"score":5,"creation_date":1322152003,"post_id":8257545,"comment_id":10165473,"body_markdown":"Looks like another of the third party libraries which I was including is already using either Google Collections or Guava. Removed all third party libraries except for Guava and it worked. Thanks for the response.","body":"Looks like another of the third party libraries which I was including is already using either Google Collections or Guava. Removed all third party libraries except for Guava and it worked. Thanks for the response."},{"owner":{"account_id":880069,"reputation":1906,"user_id":212814,"accept_rate":58,"display_name":"mip"},"score":0,"creation_date":1322152137,"post_id":8257545,"comment_id":10165512,"body_markdown":"This proved useful http://www.java-tips.org/java-se-tips/java.lang/how-to-print-classpath.html","body":"This proved useful <a href=\"http://www.java-tips.org/java-se-tips/java.lang/how-to-print-classpath.html\" rel=\"nofollow noreferrer\">java-tips.org/java-se-tips/java.lang/&hellip;</a>"},{"owner":{"account_id":48170,"reputation":12634,"user_id":142983,"accept_rate":80,"display_name":"Etienne Neveu"},"score":0,"creation_date":1322166081,"post_id":8257545,"comment_id":10168712,"body_markdown":"If you use Maven, the dependency:tree plugin is pretty awesome to find these transitive dependencies: http://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html","body":"If you use Maven, the dependency:tree plugin is pretty awesome to find these transitive dependencies: <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":0,"creation_date":1322234160,"post_id":8257545,"comment_id":10181739,"body_markdown":"@mip: Note also that if you&#39;re using Maven you can find what dependency was including Google Collections and add an exclusion to that dependency to prevent it from including it.","body":"@mip: Note also that if you&#39;re using Maven you can find what dependency was including Google Collections and add an exclusion to that dependency to prevent it from including it."},{"owner":{"account_id":3572865,"reputation":2148,"user_id":2982798,"display_name":"heroin"},"score":0,"creation_date":1415019114,"post_id":8257545,"comment_id":42019884,"body_markdown":"Such type of errors could occur also if you are using ``guava-jdk`` library together with ``guava``.","body":"Such type of errors could occur also if you are using <code>guava-jdk</code> library together with <code>guava</code>."}],"answers":[{"tags":[],"owner":{"account_id":1953715,"reputation":337,"user_id":1757258,"display_name":"Kurtymckurt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371493017,"creation_date":1371493017,"answer_id":17154096,"question_id":8257545,"body_markdown":"Your problem is that another library might also contain a guava library and it&#39;s being loaded first from your classpath instead of the version you want.  This would cause this runtime exception.","title":"NoSuchMethodError exception when using com.google.common.base.Splitter","body":"<p>Your problem is that another library might also contain a guava library and it's being loaded first from your classpath instead of the version you want.  This would cause this runtime exception.</p>\n"},{"tags":[],"owner":{"account_id":1029911,"reputation":331,"user_id":1038442,"display_name":"Sam003"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1398280751,"creation_date":1398280751,"answer_id":23253320,"question_id":8257545,"body_markdown":"I encountered the same problem.\r\nIt turned out that I used a older version of guava.\r\nGo to this website:https://code.google.com/p/guava-libraries/, and download a newer version.\r\n\r\nBy the way,google-collections was renamed to Guava.","title":"NoSuchMethodError exception when using com.google.common.base.Splitter","body":"<p>I encountered the same problem.\nIt turned out that I used a older version of guava.\nGo to this website:<a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">https://code.google.com/p/guava-libraries/</a>, and download a newer version.</p>\n\n<p>By the way,google-collections was renamed to Guava.</p>\n"},{"tags":[],"owner":{"account_id":3128076,"reputation":1246,"user_id":2646575,"display_name":"Vali Shah"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1412181268,"creation_date":1412181268,"answer_id":26146183,"question_id":8257545,"body_markdown":"Yeah, It&#39;s the problem with guava library only. Keep the updated library and remove all remaining versions of guava if you have any and try. Should work fine.","title":"NoSuchMethodError exception when using com.google.common.base.Splitter","body":"<p>Yeah, It's the problem with guava library only. Keep the updated library and remove all remaining versions of guava if you have any and try. Should work fine.</p>\n"},{"tags":[],"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1473230653,"creation_date":1473230653,"answer_id":39362861,"question_id":8257545,"body_markdown":"&gt; *Use the below dependency to fix the issue*\r\n\r\n**To add a dependency on Guava using Maven, use the following:**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**To add a dependency using Gradle:**\r\n\r\n    dependencies {\r\n      compile &#39;com.google.guava:guava:19.0&#39;\r\n    }","title":"NoSuchMethodError exception when using com.google.common.base.Splitter","body":"<blockquote>\n  <p><em>Use the below dependency to fix the issue</em></p>\n</blockquote>\n\n<p><strong>To add a dependency on Guava using Maven, use the following:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n  &lt;artifactId&gt;guava&lt;/artifactId&gt;\n  &lt;version&gt;19.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>To add a dependency using Gradle:</strong></p>\n\n<pre><code>dependencies {\n  compile 'com.google.guava:guava:19.0'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10379987,"reputation":119,"user_id":7655096,"accept_rate":17,"display_name":"n4rush0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529013066,"creation_date":1529013066,"answer_id":50866427,"question_id":8257545,"body_markdown":"Another reason this happens is if the GSON library is imported before the Guava library.\r\n\r\nSee:\r\nhttps://github.com/google/guava/issues/2786\r\n\r\nI was importing the jars from a folder into IntelliJ. What ended up working was add a &quot;z&quot; next to gson (so the jar would be named zgson) so that Guava would import first. ","title":"NoSuchMethodError exception when using com.google.common.base.Splitter","body":"<p>Another reason this happens is if the GSON library is imported before the Guava library.</p>\n\n<p>See:\n<a href=\"https://github.com/google/guava/issues/2786\" rel=\"nofollow noreferrer\">https://github.com/google/guava/issues/2786</a></p>\n\n<p>I was importing the jars from a folder into IntelliJ. What ended up working was add a \"z\" next to gson (so the jar would be named zgson) so that Guava would import first. </p>\n"},{"tags":[],"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530216108,"creation_date":1530216108,"answer_id":51090464,"question_id":8257545,"body_markdown":"For me this happens when you have a dependency which depends on an earlier version of Guava, and this dependency is listed first. Guava will be resolved at the place it was found first and ignore the rest.\r\n\r\nThe fix is to add the dependency on guava first, but careful that it does not break other projects which use guava","title":"NoSuchMethodError exception when using com.google.common.base.Splitter","body":"<p>For me this happens when you have a dependency which depends on an earlier version of Guava, and this dependency is listed first. Guava will be resolved at the place it was found first and ignore the rest.</p>\n\n<p>The fix is to add the dependency on guava first, but careful that it does not break other projects which use guava</p>\n"},{"tags":[],"owner":{"account_id":9299705,"reputation":906,"user_id":6905587,"display_name":"Andrew Glukhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534171879,"creation_date":1534171879,"answer_id":51825104,"question_id":8257545,"body_markdown":"There are 2 versions: 1) com.google.guava:guava:26.0-android 2) com.google.guava:guava:26.0-jre . Most likely, you assign wrong version as in my case","title":"NoSuchMethodError exception when using com.google.common.base.Splitter","body":"<p>There are 2 versions: 1) com.google.guava:guava:26.0-android 2) com.google.guava:guava:26.0-jre . Most likely, you assign wrong version as in my case</p>\n"},{"tags":[],"owner":{"account_id":2058743,"reputation":304,"user_id":1835862,"display_name":"Farasy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664284633,"creation_date":1664284633,"answer_id":73868260,"question_id":8257545,"body_markdown":"Got that issue recently. What helps is to override the used version of Guava for all dependencies:\r\n\r\n\r\n    implementation (&quot;com.google.guava:guava&quot;) {\r\n        version{\r\n            strictly &#39;31.1-android&#39;\r\n        }\r\n    }\r\n","title":"NoSuchMethodError exception when using com.google.common.base.Splitter","body":"<p>Got that issue recently. What helps is to override the used version of Guava for all dependencies:</p>\n<pre><code>implementation (&quot;com.google.guava:guava&quot;) {\n    version{\n        strictly '31.1-android'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":880069,"reputation":1906,"user_id":212814,"accept_rate":58,"display_name":"mip"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43274,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":8,"score":24,"last_activity_date":1664284633,"creation_date":1322139871,"question_id":8257545,"body_markdown":"I&#39;m trying to use com.google.common.base.Splitter as follows\r\n\r\n    Iterable&lt;String&gt; segs = Splitter.on(&quot;/&quot;).split(&quot;one/two/three/four/five&quot;);\r\n    \r\n    for (String seg : segs) {\r\n      System.out.println(seg);\r\n    }\r\n\r\nHowever, I&#39;m seeing the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.base.Platform.precomputeCharMatcher(Lcom/google/common/base/CharMatcher;)Lcom/google/common/base/CharMatcher;\r\n    \tat com.google.common.base.CharMatcher.precomputed(CharMatcher.java:664)\r\n    \tat com.google.common.base.CharMatcher.&lt;clinit&gt;(CharMatcher.java:71)\r\n    \tat com.google.common.base.Splitter.&lt;init&gt;(Splitter.java:107)\r\n    \tat com.google.common.base.Splitter.on(Splitter.java:171)\r\n    \tat Test.main(Test.java:30)\r\n\r\nDoes anyone have any idea what I&#39;m doing wrong here?","title":"NoSuchMethodError exception when using com.google.common.base.Splitter","body":"<p>I'm trying to use com.google.common.base.Splitter as follows</p>\n\n<pre><code>Iterable&lt;String&gt; segs = Splitter.on(\"/\").split(\"one/two/three/four/five\");\n\nfor (String seg : segs) {\n  System.out.println(seg);\n}\n</code></pre>\n\n<p>However, I'm seeing the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: com.google.common.base.Platform.precomputeCharMatcher(Lcom/google/common/base/CharMatcher;)Lcom/google/common/base/CharMatcher;\n    at com.google.common.base.CharMatcher.precomputed(CharMatcher.java:664)\n    at com.google.common.base.CharMatcher.&lt;clinit&gt;(CharMatcher.java:71)\n    at com.google.common.base.Splitter.&lt;init&gt;(Splitter.java:107)\n    at com.google.common.base.Splitter.on(Splitter.java:171)\n    at Test.main(Test.java:30)\n</code></pre>\n\n<p>Does anyone have any idea what I'm doing wrong here?</p>\n"},{"tags":["java","postgresql","multithreading","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664284503,"creation_date":1664284503,"answer_id":73868224,"question_id":73868119,"body_markdown":"To avoid this you can try to use `saveAndFlush` instead of `save`. This might solve your problem of unexpected deletion.\r\n\r\nRefer: https://stackoverflow.com/questions/21203875/difference-between-save-and-saveandflush-in-spring-data-jpa","title":"Spring JPA Multithreading delete contention","body":"<p>To avoid this you can try to use <code>saveAndFlush</code> instead of <code>save</code>. This might solve your problem of unexpected deletion.</p>\n<p>Refer: <a href=\"https://stackoverflow.com/questions/21203875/difference-between-save-and-saveandflush-in-spring-data-jpa\">Difference between save and saveAndFlush in Spring data jpa</a></p>\n"}],"owner":{"account_id":22388090,"reputation":49,"user_id":16600627,"display_name":"PerennialLearning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664284503,"creation_date":1664284058,"question_id":73868119,"body_markdown":"I have a Spring JPA multi threaded program in which multiple threads are saving to one of the tables. I wanted to know what will happen in the following scenario:\r\n\r\n2 threads pick up same object to process and `save` to the table. Data is successfully saved.\r\nA contention resolution mechanism identifies that one of the data is a duplicate and makes a `delete` request. Will this delete also remove the object from the context of the first thread ?\r\n\r\n(We have an intermittent issue appearing when an object which is supposed to be a successful return via the `save` method of JPA is suddenly logged as `null`.)","title":"Spring JPA Multithreading delete contention","body":"<p>I have a Spring JPA multi threaded program in which multiple threads are saving to one of the tables. I wanted to know what will happen in the following scenario:</p>\n<p>2 threads pick up same object to process and <code>save</code> to the table. Data is successfully saved.\nA contention resolution mechanism identifies that one of the data is a duplicate and makes a <code>delete</code> request. Will this delete also remove the object from the context of the first thread ?</p>\n<p>(We have an intermittent issue appearing when an object which is supposed to be a successful return via the <code>save</code> method of JPA is suddenly logged as <code>null</code>.)</p>\n"},{"tags":["java","html","css","jsoup","element"],"answers":[{"tags":[],"owner":{"account_id":9535434,"reputation":46,"user_id":7085773,"display_name":"Aaron Hagopian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479853477,"creation_date":1479853477,"answer_id":40752759,"question_id":40751441,"body_markdown":"You can either traverse the element&#39;s children you have or use a more fine grained selection in the first place.  I changed your selection to return the spans that contain the title and using the text() method it returns the text inside the span tags.\r\n\r\n    Elements elements = document.select(&quot;.indexed-biz-name span&quot;);\r\n    for (Element element : elements) \r\n    {\r\n    \tSystem.out.println(element.text());\r\n    }\r\n","title":"How do I retrieve information off Yelp using jSoup?","body":"<p>You can either traverse the element's children you have or use a more fine grained selection in the first place.  I changed your selection to return the spans that contain the title and using the text() method it returns the text inside the span tags.</p>\n\n<pre><code>Elements elements = document.select(\".indexed-biz-name span\");\nfor (Element element : elements) \n{\n    System.out.println(element.text());\n}\n</code></pre>\n"}],"owner":{"account_id":9700907,"reputation":21,"user_id":7195902,"accept_rate":0,"display_name":"Brandon Woodruff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664284472,"creation_date":1479848096,"question_id":40751441,"body_markdown":"I&#39;m currently trying to extract the names of all given companies upon a particular yelp search, and store the results into an array. Here&#39;s what I have going:\r\n\r\n    import java.util.ArrayList;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    import java.io.IOException;\r\n    \r\n    public class YelpScraper\r\n    {\r\n        public static void main(String[] args) throws IOException\r\n        {\r\n            String url = &quot;https://www.yelp.com/search?find_desc=&amp;find_loc=new+jersey&amp;ns=1&quot;;\r\n            Document document = Jsoup.connect(url).get();\r\n            \r\n            Elements elements = document.getElementsByClass(&quot;biz-name js-analytics-click&quot;);\r\n            \r\n            for (Element element : elements)\r\n            {\r\n                System.out.println(elements.toString());\r\n            }\r\n        }\r\n    }\r\n\r\nThis is the output:\r\n\r\n```html\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/casa-d-paco-newark&quot; data-hovercard-id=&quot;iIJ-dWgYcZTewVGJyP6EfQ&quot;&gt;&lt;span&gt;Casa d’Paco&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hero-king-handcrafted-sandwiches-newark&quot; data-hovercard-id=&quot;hzwE2ub1J7fTwJDjTJwksA&quot;&gt;&lt;span&gt;Hero King Handcrafted Sandwiches&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/the-green-chicpea-newark-2&quot; data-hovercard-id=&quot;bDWWtSm-8uoW9_urjMCzTA&quot;&gt;&lt;span&gt;The Green Chicpea&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/casa-d-paco-newark&quot; data-hovercard-id=&quot;iIJ-dWgYcZTewVGJyP6EfQ&quot;&gt;&lt;span&gt;Casa d’Paco&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hero-king-handcrafted-sandwiches-newark&quot; data-hovercard-id=&quot;hzwE2ub1J7fTwJDjTJwksA&quot;&gt;&lt;span&gt;Hero King Handcrafted Sandwiches&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/the-green-chicpea-newark-2&quot; data-hovercard-id=&quot;bDWWtSm-8uoW9_urjMCzTA&quot;&gt;&lt;span&gt;The Green Chicpea&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/casa-d-paco-newark&quot; data-hovercard-id=&quot;iIJ-dWgYcZTewVGJyP6EfQ&quot;&gt;&lt;span&gt;Casa d’Paco&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hero-king-handcrafted-sandwiches-newark&quot; data-hovercard-id=&quot;hzwE2ub1J7fTwJDjTJwksA&quot;&gt;&lt;span&gt;Hero King Handcrafted Sandwiches&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/the-green-chicpea-newark-2&quot; data-hovercard-id=&quot;bDWWtSm-8uoW9_urjMCzTA&quot;&gt;&lt;span&gt;The Green Chicpea&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/casa-d-paco-newark&quot; data-hovercard-id=&quot;iIJ-dWgYcZTewVGJyP6EfQ&quot;&gt;&lt;span&gt;Casa d’Paco&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hero-king-handcrafted-sandwiches-newark&quot; data-hovercard-id=&quot;hzwE2ub1J7fTwJDjTJwksA&quot;&gt;&lt;span&gt;Hero King Handcrafted Sandwiches&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/the-green-chicpea-newark-2&quot; data-hovercard-id=&quot;bDWWtSm-8uoW9_urjMCzTA&quot;&gt;&lt;span&gt;The Green Chicpea&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\r\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\r\n```\r\n\r\nAs you can see, it outputs the HTML code of that class, and what I want is simply the name of the business. How I can do it differently?\r\n\r\nClearly the `getElementsByClass()` method is not what I should be using.","title":"How do I retrieve information off Yelp using jSoup?","body":"<p>I'm currently trying to extract the names of all given companies upon a particular yelp search, and store the results into an array. Here's what I have going:</p>\n<pre><code>import java.util.ArrayList;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\nimport java.io.IOException;\n\npublic class YelpScraper\n{\n    public static void main(String[] args) throws IOException\n    {\n        String url = &quot;https://www.yelp.com/search?find_desc=&amp;find_loc=new+jersey&amp;ns=1&quot;;\n        Document document = Jsoup.connect(url).get();\n        \n        Elements elements = document.getElementsByClass(&quot;biz-name js-analytics-click&quot;);\n        \n        for (Element element : elements)\n        {\n            System.out.println(elements.toString());\n        }\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/casa-d-paco-newark&quot; data-hovercard-id=&quot;iIJ-dWgYcZTewVGJyP6EfQ&quot;&gt;&lt;span&gt;Casa d’Paco&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hero-king-handcrafted-sandwiches-newark&quot; data-hovercard-id=&quot;hzwE2ub1J7fTwJDjTJwksA&quot;&gt;&lt;span&gt;Hero King Handcrafted Sandwiches&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/the-green-chicpea-newark-2&quot; data-hovercard-id=&quot;bDWWtSm-8uoW9_urjMCzTA&quot;&gt;&lt;span&gt;The Green Chicpea&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/casa-d-paco-newark&quot; data-hovercard-id=&quot;iIJ-dWgYcZTewVGJyP6EfQ&quot;&gt;&lt;span&gt;Casa d’Paco&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hero-king-handcrafted-sandwiches-newark&quot; data-hovercard-id=&quot;hzwE2ub1J7fTwJDjTJwksA&quot;&gt;&lt;span&gt;Hero King Handcrafted Sandwiches&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/the-green-chicpea-newark-2&quot; data-hovercard-id=&quot;bDWWtSm-8uoW9_urjMCzTA&quot;&gt;&lt;span&gt;The Green Chicpea&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/casa-d-paco-newark&quot; data-hovercard-id=&quot;iIJ-dWgYcZTewVGJyP6EfQ&quot;&gt;&lt;span&gt;Casa d’Paco&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hero-king-handcrafted-sandwiches-newark&quot; data-hovercard-id=&quot;hzwE2ub1J7fTwJDjTJwksA&quot;&gt;&lt;span&gt;Hero King Handcrafted Sandwiches&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/the-green-chicpea-newark-2&quot; data-hovercard-id=&quot;bDWWtSm-8uoW9_urjMCzTA&quot;&gt;&lt;span&gt;The Green Chicpea&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/casa-d-paco-newark&quot; data-hovercard-id=&quot;iIJ-dWgYcZTewVGJyP6EfQ&quot;&gt;&lt;span&gt;Casa d’Paco&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hero-king-handcrafted-sandwiches-newark&quot; data-hovercard-id=&quot;hzwE2ub1J7fTwJDjTJwksA&quot;&gt;&lt;span&gt;Hero King Handcrafted Sandwiches&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/the-green-chicpea-newark-2&quot; data-hovercard-id=&quot;bDWWtSm-8uoW9_urjMCzTA&quot;&gt;&lt;span&gt;The Green Chicpea&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/darios-restaurant-newark&quot; data-hovercard-id=&quot;resfu-JNLUKR3l82D5W7-A&quot;&gt;&lt;span&gt;Dario’s Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/sushi-house-21-newark-2&quot; data-hovercard-id=&quot;vMpJRWxm71XSBnWL9XfYpQ&quot;&gt;&lt;span&gt;Sushi House 21&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/burger-walla-newark&quot; data-hovercard-id=&quot;JmPZ-AyewjQPIJkKbkU0dA&quot;&gt;&lt;span&gt;Burger Walla&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/hobbys-delicatessen-and-restaurant-newark&quot; data-hovercard-id=&quot;-dEkFa3N6SXLahAMBAM8EA&quot;&gt;&lt;span&gt;Hobby’s Delicatessen &amp;amp; Restaurant&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/krugs-tavern-newark&quot; data-hovercard-id=&quot;YhiUGWjAB1y7reqoKLWCow&quot;&gt;&lt;span&gt;Krug’s Tavern&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/mcwhorter-barbecue-newark&quot; data-hovercard-id=&quot;6xf4H2rOCtUIhyMgazRsnA&quot;&gt;&lt;span&gt;McWhorter Barbecue&lt;/span&gt;&lt;/a&gt;\n&lt;a class=&quot;biz-name js-analytics-click&quot; data-analytics-label=&quot;biz-name&quot; href=&quot;/biz/spanish-tavern-newark&quot; data-hovercard-id=&quot;muXH1f3nwoSgWB3KN-rAfA&quot;&gt;&lt;span&gt;Spanish Tavern&lt;/span&gt;&lt;/a&gt;\n</code></pre>\n<p>As you can see, it outputs the HTML code of that class, and what I want is simply the name of the business. How I can do it differently?</p>\n<p>Clearly the <code>getElementsByClass()</code> method is not what I should be using.</p>\n"},{"tags":["java","transactions","spring-kafka","spring-cloud-stream-binder-kafka","retry-logic"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664284407,"creation_date":1664284407,"answer_id":73868206,"question_id":73863004,"body_markdown":"I assume you mean the delivery attempt in the consumer; you can use a `ContainerCustomizer` bean to set the `deliveryAttemptHeader` property to true.\r\n\r\n```java\r\n/**\r\n * Set to true to populate the\r\n * {@link org.springframework.kafka.support.KafkaHeaders#DELIVERY_ATTEMPT} header when\r\n * the error handler or after rollback processor implements\r\n * {@code DeliveryAttemptAware}. There is a small overhead so this is false by\r\n * default.\r\n * @param deliveryAttemptHeader true to populate\r\n * @since 2.5\r\n */\r\npublic void setDeliveryAttemptHeader(boolean deliveryAttemptHeader) {\r\n\tthis.deliveryAttemptHeader = deliveryAttemptHeader;\r\n}\r\n```\r\n\r\nThen consume the entire `Message&lt;?&gt;` to examine the header.","title":"Accessing retry attempt number in spring cloud stream kafka transaction","body":"<p>I assume you mean the delivery attempt in the consumer; you can use a <code>ContainerCustomizer</code> bean to set the <code>deliveryAttemptHeader</code> property to true.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Set to true to populate the\n * {@link org.springframework.kafka.support.KafkaHeaders#DELIVERY_ATTEMPT} header when\n * the error handler or after rollback processor implements\n * {@code DeliveryAttemptAware}. There is a small overhead so this is false by\n * default.\n * @param deliveryAttemptHeader true to populate\n * @since 2.5\n */\npublic void setDeliveryAttemptHeader(boolean deliveryAttemptHeader) {\n    this.deliveryAttemptHeader = deliveryAttemptHeader;\n}\n</code></pre>\n<p>Then consume the entire <code>Message&lt;?&gt;</code> to examine the header.</p>\n"}],"owner":{"account_id":14458668,"reputation":23,"user_id":10444071,"display_name":"DreamCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73868206,"answer_count":1,"score":1,"last_activity_date":1664284407,"creation_date":1664258639,"question_id":73863004,"body_markdown":"I need to access the retry attempt number in spring cloud stream kafka transactional retry so that for a particular exception, based on the retry attempt number i can post the outcome to different topic","title":"Accessing retry attempt number in spring cloud stream kafka transaction","body":"<p>I need to access the retry attempt number in spring cloud stream kafka transactional retry so that for a particular exception, based on the retry attempt number i can post the outcome to different topic</p>\n"},{"tags":["java","windows-installer","wix3.6","silent-installer"],"comments":[{"owner":{"account_id":36503,"reputation":21568,"user_id":104149,"display_name":"Bob Arnson"},"score":0,"creation_date":1664286829,"post_id":73867836,"comment_id":130433365,"body_markdown":"Does this answer your question? [Trigger java install using wix](https://stackoverflow.com/questions/33394280/trigger-java-install-using-wix)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33394280/trigger-java-install-using-wix\">Trigger java install using wix</a>"},{"owner":{"account_id":5700422,"reputation":698,"user_id":4505573,"display_name":"Doc"},"score":0,"creation_date":1664328397,"post_id":73867836,"comment_id":130444590,"body_markdown":"OP says it&#39;s after InstallFinalize so that should not be the issue. I think the issue is that you&#39;re trying to run the MSI directly. See if calling it with msiexec.exe with /i &lt;pathToMSI&gt; works better.","body":"OP says it&#39;s after InstallFinalize so that should not be the issue. I think the issue is that you&#39;re trying to run the MSI directly. See if calling it with msiexec.exe with /i &lt;pathToMSI&gt; works better."}],"owner":{"account_id":21715405,"reputation":1,"user_id":16026514,"display_name":"syam kumar Garapati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664284221,"creation_date":1664282826,"question_id":73867836,"body_markdown":"I am trying to install JDK18.EXE through wix installer but its not working.We are not using bootstrap and calling from Binaryfile and Customaction its not working.\r\n\r\nI tried after install finalize also getting the error.\r\n\r\n```xml\r\n&lt;Binary Id=&quot;JDK18.exe&quot; SourceFile=&quot;..\\jdk-18_windows-x64_bin.msi&quot;&gt;&lt;/Binary&gt;\r\n&lt;CustomAction Id=&quot;InstallJDK&quot; Impersonate=&quot;no&quot; Execute=&quot;deferred&quot; BinaryKey=&quot;JDK18.exe&quot; ExeCommand=&quot;&quot; Return=&quot;asyncWait&quot;/&gt;\r\n\r\n&lt;Custom Action=&quot;InstallJDK&quot; After=&quot;InstallFiles&quot;&gt;NOT Installed&lt;/Custom&gt;\r\n```\r\n```none\r\nLine 10186: MSI (s) (DC:B0) [17:52:23:737]: Doing action: InstallJDK\r\nLine 10187: Action 17:52:23: InstallJDK. Installing JDK,This might take a while\r\nLine 10188: Action start 17:52:23: InstallJDK.\r\nLine 10190: Action ended 17:52:27: InstallJDK. Return value 1.\r\nLine 38286: MSI (s) (DC:B0) [17:53:13:158]: Executing op: ActionStart(Name=InstallJDK,Description=Installing JDK,This might take a while,)\r\nLine 38287: Action 17:53:13: InstallJDK. Installing JDK,This might take a while\r\nLine 38288: MSI (s) (DC:B0) [17:53:14:139]: Executing op: CustomActionSchedule(Action=InstallJDK,ActionType=3202,Source=BinaryData,Target=&quot;/qn&quot; &quot;/s&quot;,)\r\nLine 38934: 1: InstallJDK 2: 1631\r\n```","title":"Trying to install JDK18.exe through WIX installer","body":"<p>I am trying to install JDK18.EXE through wix installer but its not working.We are not using bootstrap and calling from Binaryfile and Customaction its not working.</p>\n<p>I tried after install finalize also getting the error.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Binary Id=&quot;JDK18.exe&quot; SourceFile=&quot;..\\jdk-18_windows-x64_bin.msi&quot;&gt;&lt;/Binary&gt;\n&lt;CustomAction Id=&quot;InstallJDK&quot; Impersonate=&quot;no&quot; Execute=&quot;deferred&quot; BinaryKey=&quot;JDK18.exe&quot; ExeCommand=&quot;&quot; Return=&quot;asyncWait&quot;/&gt;\n\n&lt;Custom Action=&quot;InstallJDK&quot; After=&quot;InstallFiles&quot;&gt;NOT Installed&lt;/Custom&gt;\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Line 10186: MSI (s) (DC:B0) [17:52:23:737]: Doing action: InstallJDK\nLine 10187: Action 17:52:23: InstallJDK. Installing JDK,This might take a while\nLine 10188: Action start 17:52:23: InstallJDK.\nLine 10190: Action ended 17:52:27: InstallJDK. Return value 1.\nLine 38286: MSI (s) (DC:B0) [17:53:13:158]: Executing op: ActionStart(Name=InstallJDK,Description=Installing JDK,This might take a while,)\nLine 38287: Action 17:53:13: InstallJDK. Installing JDK,This might take a while\nLine 38288: MSI (s) (DC:B0) [17:53:14:139]: Executing op: CustomActionSchedule(Action=InstallJDK,ActionType=3202,Source=BinaryData,Target=&quot;/qn&quot; &quot;/s&quot;,)\nLine 38934: 1: InstallJDK 2: 1631\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-task"],"comments":[{"owner":{"account_id":20633,"reputation":17376,"user_id":49489,"accept_rate":100,"display_name":"Barend"},"score":2,"creation_date":1497166034,"post_id":44481342,"comment_id":75957274,"body_markdown":"If you have multiple main classes in the jar file, then you can issue `java -classpath myapp.jar com.example.Task1` on the command line instead of `java -jar myapp.jar`. No if-else anywhere in sight. Why the hate for if-else though? Program&#39;s got to branch some times.","body":"If you have multiple main classes in the jar file, then you can issue <code>java -classpath myapp.jar com.example.Task1</code> on the command line instead of <code>java -jar myapp.jar</code>. No if-else anywhere in sight. Why the hate for if-else though? Program&#39;s got to branch some times."},{"owner":{"account_id":11092347,"reputation":121,"user_id":8143753,"display_name":"Shay"},"score":1,"creation_date":1497254514,"post_id":44481342,"comment_id":75981843,"body_markdown":"Thanks, I&#39;m not sure that spring boot allow using multiple main classes. Using hardcoded if-else its harder to maintain then inject components","body":"Thanks, I&#39;m not sure that spring boot allow using multiple main classes. Using hardcoded if-else its harder to maintain then inject components"}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1497175118,"creation_date":1497175118,"answer_id":44482525,"question_id":44481342,"body_markdown":"Spring Boot runs all the `CommandLineRunner` or `ApplicationRunner` beans from the application context. You cannot select one by any args.\r\n\r\nSo basically you have two possibiities:\r\n\r\n 1. You have different `CommandLineRunner` implementations and in each you check the arguments to determine if this special `CommandLineRunner` should run.\r\n 2. You implement only one `CommandLineRunner` which acts as a dispatcher. Code might look something like this:\r\n\r\n\r\nThis is the new Interface that your runners will implement:\r\n\r\n    public interface MyCommandLineRunner {\r\n        void run(String... strings) throws Exception;\r\n    }\r\n\r\nYou then define implementations and identify them with a name:\r\n\r\n    @Component(&quot;one&quot;)\r\n    public class MyCommandLineRunnerOne implements MyCommandLineRunner {\r\n        private static final Logger log = LoggerFactory.getLogger(MyCommandLineRunnerOne.class);\r\n    \r\n        @Override\r\n        public void run(String... strings) throws Exception {\r\n            log.info(&quot;running&quot;);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @Component(&quot;two&quot;)\r\n    public class MyCommandLineRunnerTwo implements MyCommandLineRunner {\r\n        private static final Logger log = LoggerFactory.getLogger(MyCommandLineRunnerTwo.class);\r\n        @Override\r\n        public void run(String... strings) throws Exception {\r\n            log.info(&quot;running&quot;);\r\n        }\r\n    }\r\n\r\nThen in your single `CommandLineRunner` implementation you get hold of the application context and resolve the required bean by name, my example uses just the first argument, and call it&#39;s `MyCommandLineRunner.run()`method:\r\n\r\n    @Component\r\n    public class CommandLineRunnerImpl implements CommandLineRunner, ApplicationContextAware {\r\n        private ApplicationContext applicationContext;\r\n    \r\n    \r\n        @Override\r\n        public void run(String... strings) throws Exception {\r\n            if (strings.length &lt; 1) {\r\n                throw new IllegalArgumentException(&quot;no args given&quot;);\r\n            }\r\n    \r\n            String name = strings[0];\r\n            final MyCommandLineRunner myCommandLineRunner = applicationContext.getBean(name, MyCommandLineRunner.class);\r\n            myCommandLineRunner.run(strings);\r\n        }\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/htmlsingle/#boot-features-command-line-runner","title":"Multiple Spring boot CommandLineRunner based on command line argument","body":"<p>Spring Boot runs all the <code>CommandLineRunner</code> or <code>ApplicationRunner</code> beans from the application context. You cannot select one by any args.</p>\n\n<p>So basically you have two possibiities:</p>\n\n<ol>\n<li>You have different <code>CommandLineRunner</code> implementations and in each you check the arguments to determine if this special <code>CommandLineRunner</code> should run.</li>\n<li>You implement only one <code>CommandLineRunner</code> which acts as a dispatcher. Code might look something like this:</li>\n</ol>\n\n<p>This is the new Interface that your runners will implement:</p>\n\n<pre><code>public interface MyCommandLineRunner {\n    void run(String... strings) throws Exception;\n}\n</code></pre>\n\n<p>You then define implementations and identify them with a name:</p>\n\n<pre><code>@Component(\"one\")\npublic class MyCommandLineRunnerOne implements MyCommandLineRunner {\n    private static final Logger log = LoggerFactory.getLogger(MyCommandLineRunnerOne.class);\n\n    @Override\n    public void run(String... strings) throws Exception {\n        log.info(\"running\");\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Component(\"two\")\npublic class MyCommandLineRunnerTwo implements MyCommandLineRunner {\n    private static final Logger log = LoggerFactory.getLogger(MyCommandLineRunnerTwo.class);\n    @Override\n    public void run(String... strings) throws Exception {\n        log.info(\"running\");\n    }\n}\n</code></pre>\n\n<p>Then in your single <code>CommandLineRunner</code> implementation you get hold of the application context and resolve the required bean by name, my example uses just the first argument, and call it's <code>MyCommandLineRunner.run()</code>method:</p>\n\n<pre><code>@Component\npublic class CommandLineRunnerImpl implements CommandLineRunner, ApplicationContextAware {\n    private ApplicationContext applicationContext;\n\n\n    @Override\n    public void run(String... strings) throws Exception {\n        if (strings.length &lt; 1) {\n            throw new IllegalArgumentException(\"no args given\");\n        }\n\n        String name = strings[0];\n        final MyCommandLineRunner myCommandLineRunner = applicationContext.getBean(name, MyCommandLineRunner.class);\n        myCommandLineRunner.run(strings);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2329881,"reputation":133,"user_id":2043566,"display_name":"user2043566"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1552412126,"creation_date":1552412126,"answer_id":55127538,"question_id":44481342,"body_markdown":"You can also make your CommandLineRunner implementations @Component and @ConditionalOnExpression(&quot;${someproperty:false}&quot;)\r\n\r\nthen have multiple profiles, that set someproperty to true to include those CommandLineRunners in the Context.\r\n\r\n```java\r\n@Component\r\n@Slf4j\r\n@ConditionalOnExpression(&quot;${myRunnerEnabled:false}&quot;)\r\npublic class MyRunner implements CommandLineRunner {\r\n    @Override\r\n    public void run(String ... args) throws Exception {\r\n        log.info(&quot;this ran&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand in the yml application-myrunner.yml\r\n```yaml\r\nmyRunnerEnabled: true\r\n```\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class SpringMain {\r\n    public static void main(String ... args) {\r\n        SpringApplication.run(SpringMain.class, args);\r\n    }\r\n}\r\n```","title":"Multiple Spring boot CommandLineRunner based on command line argument","body":"<p>You can also make your CommandLineRunner implementations @Component and @ConditionalOnExpression(\"${someproperty:false}\")</p>\n\n<p>then have multiple profiles, that set someproperty to true to include those CommandLineRunners in the Context.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\n@ConditionalOnExpression(\"${myRunnerEnabled:false}\")\npublic class MyRunner implements CommandLineRunner {\n    @Override\n    public void run(String ... args) throws Exception {\n        log.info(\"this ran\");\n    }\n}\n</code></pre>\n\n<p>and in the yml application-myrunner.yml</p>\n\n<pre><code>myRunnerEnabled: true\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SpringMain {\n    public static void main(String ... args) {\n        SpringApplication.run(SpringMain.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328375,"reputation":1972,"user_id":651288,"accept_rate":20,"display_name":"Pierluigi Vernetto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553963533,"creation_date":1553963533,"answer_id":55433507,"question_id":44481342,"body_markdown":"Strangely there is not a built-in mechanism to select a set of CommandLineRunner. By default all of them are executed. \r\n\r\nI have reused - maybe improperly - the Profile mechanism, that is I have annotated each CommandLineRunner with  @org.springframework.context.annotation.Profile(&quot;mycommand&quot;), and I select the one I want to execute with the System property -Dspring.profiles.active=mycommand\r\n\r\nFor more information on the Profile mechanism, please refer to https://www.baeldung.com/spring-profiles\r\n","title":"Multiple Spring boot CommandLineRunner based on command line argument","body":"<p>Strangely there is not a built-in mechanism to select a set of CommandLineRunner. By default all of them are executed. </p>\n\n<p>I have reused - maybe improperly - the Profile mechanism, that is I have annotated each CommandLineRunner with  @org.springframework.context.annotation.Profile(\"mycommand\"), and I select the one I want to execute with the System property -Dspring.profiles.active=mycommand</p>\n\n<p>For more information on the Profile mechanism, please refer to <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-profiles</a></p>\n"},{"tags":[],"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573726814,"creation_date":1573291543,"answer_id":58777948,"question_id":44481342,"body_markdown":"Similar to this answer https://stackoverflow.com/a/44482525/986160 but using injection and less configuration.\r\n\r\nHaving a similar requirement, what has worked for me is to have one `CommandLineApps` class implementing `CommandLineRunner`, then inject all my other command line runners as `@Component` and use the first argument to delegate to one of the injected runners. Please note that the injected ones should not extend `CommandLineRunner` and not be annotated as `@SpringBootAppplication`.\r\n\r\n**Important**: be careful though if you put the call in a crontab one call will destroy the previous one if it is not done.\r\n\r\nHere is an example:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class CommandLineApps implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    private FetchSmsStatusCmd fetchSmsStatusCmd;\r\n\r\n    @Autowired\r\n    private OffersFolderSyncCmd offersFolderSyncCmd;\r\n\r\n    public static void main(String[] args) {\r\n        ConfigurableApplicationContext ctx = SpringApplication.run(CommandLineApps.class,  args);\r\n        ctx.close();\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n\r\n        if (args.length == 0) {\r\n            return;\r\n        }\r\n\r\n        List&lt;String&gt; restOfArgs = Arrays.asList(args).subList(1, args.length);\r\n\r\n        switch (args[0]) {\r\n            case &quot;fetch-sms-status&quot;:\r\n                fetchSmsStatusCmd.run(restOfArgs.toArray(new String[restOfArgs.size()]));\r\n                break;\r\n            case &quot;offers-folder-sync&quot;:\r\n                offersFolderSyncCmd.run(restOfArgs.toArray(new String[restOfArgs.size()]));\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class FetchSmsStatusCmd {\r\n\r\n    [...] @Autowired dependencies    \r\n\r\n    public void run(String[] args) {\r\n\r\n        if (args.length != 1) {\r\n            logger.error(&quot;Wrong number of arguments&quot;);\r\n            return;\r\n        }\r\n        [...]\r\n    }\r\n }\r\n```\r\n","title":"Multiple Spring boot CommandLineRunner based on command line argument","body":"<p>Similar to this answer <a href=\"https://stackoverflow.com/a/44482525/986160\">https://stackoverflow.com/a/44482525/986160</a> but using injection and less configuration.</p>\n\n<p>Having a similar requirement, what has worked for me is to have one <code>CommandLineApps</code> class implementing <code>CommandLineRunner</code>, then inject all my other command line runners as <code>@Component</code> and use the first argument to delegate to one of the injected runners. Please note that the injected ones should not extend <code>CommandLineRunner</code> and not be annotated as <code>@SpringBootAppplication</code>.</p>\n\n<p><strong>Important</strong>: be careful though if you put the call in a crontab one call will destroy the previous one if it is not done.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>@SpringBootApplication\npublic class CommandLineApps implements CommandLineRunner {\n\n    @Autowired\n    private FetchSmsStatusCmd fetchSmsStatusCmd;\n\n    @Autowired\n    private OffersFolderSyncCmd offersFolderSyncCmd;\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = SpringApplication.run(CommandLineApps.class,  args);\n        ctx.close();\n    }\n\n    @Override\n    public void run(String... args) {\n\n        if (args.length == 0) {\n            return;\n        }\n\n        List&lt;String&gt; restOfArgs = Arrays.asList(args).subList(1, args.length);\n\n        switch (args[0]) {\n            case \"fetch-sms-status\":\n                fetchSmsStatusCmd.run(restOfArgs.toArray(new String[restOfArgs.size()]));\n                break;\n            case \"offers-folder-sync\":\n                offersFolderSyncCmd.run(restOfArgs.toArray(new String[restOfArgs.size()]));\n                break;\n        }\n    }\n}\n</code></pre>\n\n<pre><code>@Component\npublic class FetchSmsStatusCmd {\n\n    [...] @Autowired dependencies    \n\n    public void run(String[] args) {\n\n        if (args.length != 1) {\n            logger.error(\"Wrong number of arguments\");\n            return;\n        }\n        [...]\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26458602,"reputation":137,"user_id":20100868,"display_name":"D.S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664284173,"creation_date":1664284173,"answer_id":73868154,"question_id":44481342,"body_markdown":"You can have multiple CommandLineRunner in single file or application. Which one needs to be executed ( calling &quot;run&quot; method) decided by the one and only - Order (@Order annotation).\r\nIf you need to execute multiple CommandLineRunner, write them, pass the value to Order annotation. \r\n\r\n    @Bean\r\n    \t@Order(value = 1)\r\n    \tpublic CommandLineRunner demo1(CustomerRepository customerRepository){\r\n    \t\treturn (args) -&gt;{\r\n    \t\t\tcustomerRepository.save(new Customer(&quot;Viji&quot;, &quot;Veerappan&quot;));\r\n    \t\t\tcustomerRepository.save(new Customer(&quot;Dhinesh&quot;, &quot;Veerappan&quot;));\r\n    \t\t\tcustomerRepository.save(new Customer(&quot;Senbagavalli&quot;, &quot;Veerappan&quot;));\r\n    \t\t};\r\n    \t}\r\n\r\n\r\n\r\n    @Order(value = 2)\r\n    \tpublic CommandLineRunner demo(CustomerRepository customerRepository){\r\n    \t\treturn (args) -&gt;{\r\n    \r\n    \t\t\t// Save all the customers\r\n    \t\t\tcustomerRepository.save(new Customer(&quot;Mahith&quot;, &quot;Saravanan&quot;));\r\n    \t\t\tcustomerRepository.save(new Customer(&quot;Pooshi&quot;, &quot;Saravanan&quot;));\r\n    \t\t\tcustomerRepository.save(new Customer(&quot;Dharma&quot;, &quot;Saravanan&quot;));\r\n    \t\t\tcustomerRepository.save(new Customer(&quot;Mookayee&quot;, &quot;Veerayandi&quot;));\r\n    \t\t\tcustomerRepository.save(new Customer(&quot;Chellammal&quot;, &quot;Kandasamy&quot;));\r\n    \r\n    \t\t\t//fetch all customer\r\n    \t\t\tlog.info(&quot;Fetching all the customers by findAll()&quot;);\r\n    \t\t\tlog.info(&quot;----------------------------------------&quot;);\r\n    \t\t\tfor(Customer customer : customerRepository.findAll()){\r\n    \t\t\t\tlog.info(customer.toString());\r\n    \t\t\t}\r\n    \t\t\tlog.info(&quot;&quot;);\r\n    \r\n    \t\t\t//fetch one customer by Id\r\n    \t\t\tlog.info(&quot;Fetch one customer Id by findById(1L)&quot;);\r\n    \t\t\tlog.info(&quot;----------------------------------------&quot;);\r\n    \t\t\tlog.info(customerRepository.findById(1L).toString());\r\n    \t\t\tlog.info(&quot;&quot;);\r\n    \r\n    \t\t\t//fetch by last name\r\n    \t\t\tlog.info(&quot;Fetch all customers that have lastname = Saravanan&quot;);\r\n    \t\t\tlog.info(&quot;---------------------------------------------------&quot;);\r\n    \t\t\tfor(Customer customer: customerRepository.findByLastName(&quot;Saravanan&quot;)){\r\n    \t\t\t\tlog.info(customer.toString());\r\n    \t\t\t}\r\n    \t\t\t/*customerRepository.findByLastName(&quot;Saravanan&quot;).forEach( saravanan -&gt;{\r\n    \t\t\t\tsaravanan.toString();\r\n    \t\t\t});*/\r\n    \t\t};\r\n    \t}\r\n\r\n","title":"Multiple Spring boot CommandLineRunner based on command line argument","body":"<p>You can have multiple CommandLineRunner in single file or application. Which one needs to be executed ( calling &quot;run&quot; method) decided by the one and only - Order (@Order annotation).\nIf you need to execute multiple CommandLineRunner, write them, pass the value to Order annotation.</p>\n<pre><code>@Bean\n    @Order(value = 1)\n    public CommandLineRunner demo1(CustomerRepository customerRepository){\n        return (args) -&gt;{\n            customerRepository.save(new Customer(&quot;Viji&quot;, &quot;Veerappan&quot;));\n            customerRepository.save(new Customer(&quot;Dhinesh&quot;, &quot;Veerappan&quot;));\n            customerRepository.save(new Customer(&quot;Senbagavalli&quot;, &quot;Veerappan&quot;));\n        };\n    }\n\n\n\n@Order(value = 2)\n    public CommandLineRunner demo(CustomerRepository customerRepository){\n        return (args) -&gt;{\n\n            // Save all the customers\n            customerRepository.save(new Customer(&quot;Mahith&quot;, &quot;Saravanan&quot;));\n            customerRepository.save(new Customer(&quot;Pooshi&quot;, &quot;Saravanan&quot;));\n            customerRepository.save(new Customer(&quot;Dharma&quot;, &quot;Saravanan&quot;));\n            customerRepository.save(new Customer(&quot;Mookayee&quot;, &quot;Veerayandi&quot;));\n            customerRepository.save(new Customer(&quot;Chellammal&quot;, &quot;Kandasamy&quot;));\n\n            //fetch all customer\n            log.info(&quot;Fetching all the customers by findAll()&quot;);\n            log.info(&quot;----------------------------------------&quot;);\n            for(Customer customer : customerRepository.findAll()){\n                log.info(customer.toString());\n            }\n            log.info(&quot;&quot;);\n\n            //fetch one customer by Id\n            log.info(&quot;Fetch one customer Id by findById(1L)&quot;);\n            log.info(&quot;----------------------------------------&quot;);\n            log.info(customerRepository.findById(1L).toString());\n            log.info(&quot;&quot;);\n\n            //fetch by last name\n            log.info(&quot;Fetch all customers that have lastname = Saravanan&quot;);\n            log.info(&quot;---------------------------------------------------&quot;);\n            for(Customer customer: customerRepository.findByLastName(&quot;Saravanan&quot;)){\n                log.info(customer.toString());\n            }\n            /*customerRepository.findByLastName(&quot;Saravanan&quot;).forEach( saravanan -&gt;{\n                saravanan.toString();\n            });*/\n        };\n    }\n</code></pre>\n"}],"owner":{"account_id":11092347,"reputation":121,"user_id":8143753,"display_name":"Shay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15580,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1664284173,"creation_date":1497165756,"question_id":44481342,"body_markdown":"I have created spring boot application with spring cloud task which should executes a few commands(tasks). \r\nEach task/command is shorted-lived task, and all tasks are start from command line, do some short ETL job and finish execution.\r\n\r\nThere is one spring boot jar which contain all the commands/tasks.\r\nEach task is CommandLineRunner, and I like to decide which tasks (one or more) will be executed based on the params from command line.\r\nWhat is the best practice to do so?\r\nI don&#39;t like to have dirty code which ask &quot;if else&quot; or something like this.","title":"Multiple Spring boot CommandLineRunner based on command line argument","body":"<p>I have created spring boot application with spring cloud task which should executes a few commands(tasks). \nEach task/command is shorted-lived task, and all tasks are start from command line, do some short ETL job and finish execution.</p>\n\n<p>There is one spring boot jar which contain all the commands/tasks.\nEach task is CommandLineRunner, and I like to decide which tasks (one or more) will be executed based on the params from command line.\nWhat is the best practice to do so?\nI don't like to have dirty code which ask \"if else\" or something like this.</p>\n"},{"tags":["java","spring-boot","configuration"],"answers":[{"tags":[],"owner":{"account_id":12166166,"reputation":468,"user_id":8882414,"display_name":"Matthew Formosa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586205428,"creation_date":1586197926,"answer_id":61066555,"question_id":61066430,"body_markdown":"In your `MultitenancyConfiguration` class, you just need to replace the current `@Conditional` annotation with `@ConditionalOnClass(EnableMulitenancy.class)`.\r\n\r\nUpdate: Sorry, I misunderstood. Why don&#39;t you just import the `MultitenancyConfiguration` class by using `@Import(MultitenancyConfiguration.class)` in your `EnableMultitenancy` class? This will guarantee that your `MultitenancyConfiguration` class is enabled whenever `@EnableMultitenancy` is used.","title":"SpringBoot: how to enable a @Configuration Class only if the corresponding @EnablerAnnotation has been used on a class?","body":"<p>In your <code>MultitenancyConfiguration</code> class, you just need to replace the current <code>@Conditional</code> annotation with <code>@ConditionalOnClass(EnableMulitenancy.class)</code>.</p>\n\n<p>Update: Sorry, I misunderstood. Why don't you just import the <code>MultitenancyConfiguration</code> class by using <code>@Import(MultitenancyConfiguration.class)</code> in your <code>EnableMultitenancy</code> class? This will guarantee that your <code>MultitenancyConfiguration</code> class is enabled whenever <code>@EnableMultitenancy</code> is used.</p>\n"},{"tags":[],"owner":{"account_id":6192345,"reputation":43,"user_id":4824727,"display_name":"lover summer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664283857,"creation_date":1664283857,"answer_id":73868080,"question_id":61066430,"body_markdown":"`org.springframework.context.annotation.ConditionContext` interface shows theability of `@Conditional`.\r\n\r\nConditionContext contains five methods:\r\n\r\n- getRegistry\r\n- getBeanFactory\r\n- getEnvironment\r\n- getResourceLoader\r\n- getClassLoader\r\n\r\nSo it seems your cannot directly depend on annotation, eg: `@EnableCaching`. But you can depend on the bean related to them, eg: ProxyCachingConfiguration for `EnableCaching`.\r\n\r\nBut i think is not a good design. Usually we will **declare** our dependency, this makes component sperately, also make things easy. When user want to use our component, they don&#39;t need to add all of depended annotation, eg: `@EnableEureka`,`@EnableWebSecurity`, just `@ MultitenancyConfiguration`.\r\n\r\n","title":"SpringBoot: how to enable a @Configuration Class only if the corresponding @EnablerAnnotation has been used on a class?","body":"<p><code>org.springframework.context.annotation.ConditionContext</code> interface shows theability of <code>@Conditional</code>.</p>\n<p>ConditionContext contains five methods:</p>\n<ul>\n<li>getRegistry</li>\n<li>getBeanFactory</li>\n<li>getEnvironment</li>\n<li>getResourceLoader</li>\n<li>getClassLoader</li>\n</ul>\n<p>So it seems your cannot directly depend on annotation, eg: <code>@EnableCaching</code>. But you can depend on the bean related to them, eg: ProxyCachingConfiguration for <code>EnableCaching</code>.</p>\n<p>But i think is not a good design. Usually we will <strong>declare</strong> our dependency, this makes component sperately, also make things easy. When user want to use our component, they don't need to add all of depended annotation, eg: <code>@EnableEureka</code>,<code>@EnableWebSecurity</code>, just <code>@ MultitenancyConfiguration</code>.</p>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664283857,"creation_date":1586197456,"question_id":61066430,"body_markdown":"How can I enable a `@Configuration` class only if the corresponding `@EnableCustomConfiguration` annotation has been used?\r\n\r\nTo make it clear I am trying to recreate the behaviour of common SpringBoot annotations, like e.g. `@EnableEurekaClient`, `@EnableWebSecurity` and so on.\r\n\r\nThis is my enabler:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface EnableMultitenancy {}\r\n\r\nHere my configuration properties:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Validated\r\n    @ConfigurationProperties(&quot;multitenancy&quot;)\r\n    public class MultitenancyProperties {\r\n        @NotEmpty(message = &quot;You must provide at least one tenant&quot;)\r\n        private List&lt;Tenant&gt; tenants;\r\n    }\r\n\r\nand this is my Configuration class:\r\n\r\n    @Configuration\r\n    @Conditional(&quot;On EnableMultitenancy used&quot;)\r\n    @EnableConfigurationProperties(MultitenancyProperties.class)\r\n    public class MultitenancyConfiguration{\r\n        @Bean\r\n        public MyFirstBean first(MultitenancyProperties properties){\r\n            return new MyFirstBean(properties);\r\n        }\r\n    \r\n        @Bean\r\n        public MySecondBean second(MultitenancyProperties properties){\r\n            return new MySecondBean(properties);\r\n        }\r\n    }\r\n\r\nHow can I write such a condition, e.g. the annotation has been used on a class/component?\r\n","title":"SpringBoot: how to enable a @Configuration Class only if the corresponding @EnablerAnnotation has been used on a class?","body":"<p>How can I enable a <code>@Configuration</code> class only if the corresponding <code>@EnableCustomConfiguration</code> annotation has been used?</p>\n\n<p>To make it clear I am trying to recreate the behaviour of common SpringBoot annotations, like e.g. <code>@EnableEurekaClient</code>, <code>@EnableWebSecurity</code> and so on.</p>\n\n<p>This is my enabler:</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface EnableMultitenancy {}\n</code></pre>\n\n<p>Here my configuration properties:</p>\n\n<pre><code>@Getter\n@Setter\n@Validated\n@ConfigurationProperties(\"multitenancy\")\npublic class MultitenancyProperties {\n    @NotEmpty(message = \"You must provide at least one tenant\")\n    private List&lt;Tenant&gt; tenants;\n}\n</code></pre>\n\n<p>and this is my Configuration class:</p>\n\n<pre><code>@Configuration\n@Conditional(\"On EnableMultitenancy used\")\n@EnableConfigurationProperties(MultitenancyProperties.class)\npublic class MultitenancyConfiguration{\n    @Bean\n    public MyFirstBean first(MultitenancyProperties properties){\n        return new MyFirstBean(properties);\n    }\n\n    @Bean\n    public MySecondBean second(MultitenancyProperties properties){\n        return new MySecondBean(properties);\n    }\n}\n</code></pre>\n\n<p>How can I write such a condition, e.g. the annotation has been used on a class/component?</p>\n"},{"tags":["java","for-loop","jsp","servlets"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1664247769,"post_id":73856412,"comment_id":130422013,"body_markdown":"See https://stackoverflow.com/questions/18825950/how-to-get-a-index-value-from-foreach-loop-in-jstl","body":"See <a href=\"https://stackoverflow.com/questions/18825950/how-to-get-a-index-value-from-foreach-loop-in-jstl\" title=\"how to get a index value from foreach loop in jstl\">stackoverflow.com/questions/18825950/&hellip;</a>"}],"owner":{"account_id":22873416,"reputation":23,"user_id":17016103,"display_name":"utente1234567890"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664283535,"creation_date":1664206016,"question_id":73856412,"body_markdown":"Since I have a forEach loop nested inside another that doesn&#39;t work for me, I read that I have to use methods to access variables in jsp, but my method needs the index i to read the array element and I pass it to it as an argument, then my forEach turns into a simple for, but the parliamentari.size() variable is not recognized, the jsp variable in java how does it transform?\r\n\r\n    for(int i = 0; i &lt; ${parlamentare.getPk().getCircoscrizione();}; \r\n    i++) { %&gt;  \r\n\r\nParlamentare.java\r\n\r\n    public String getElement(String[] a, int n) {\r\n\t\treturn a[n] ;\r\n\t}\r\n\r\nListaParlamentari.java\r\n\r\n    public ModelAndView doPost()//(Parlamentare parlamentare) \r\n\t{\t\r\n\t\tModelAndView mv= new ModelAndView();\r\n\t\r\n\t\tList&lt;Parlamentare&gt; parlamentari =parlamRepo.findAll();\r\n\t\tmv.addObject(&quot;parlamentari&quot;,parlamentari);\r\n\t\tmv.setViewName(&quot;lista_parlamentari.jsp&quot;);\r\n\t\treturn mv;\r\n\t}\r\n\r\nlista_parlamentari.jsp\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot;%&gt;\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.giuggiola.entity.Parlamentare&quot; %&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Lista parlamentari&lt;/title&gt;\r\n\r\n    &lt;/head&gt;\r\n    &lt;body&gt;    \r\n     \r\n     &lt;h2&gt;Lista dei parlamentari:&lt;/h2&gt;\r\n    &lt;form method=&quot;POST&quot; action=&quot;lista_parlamentari.jsp&quot;&gt;\r\n     &lt;c:forEach items=&quot;${parlamentari}&quot; var=&quot;parlamentare&quot;&gt;\r\n     &lt;table&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt;Nome:&lt;/td&gt;\r\n    &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getNome()}&quot;/&gt;&lt;/td&gt; &lt;!-- se non funziona \r\n    prova con getPk().getNome() --&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n     &lt;td&gt;Partito:&lt;/td&gt;\r\n    &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getPartito()}&quot;/&gt;&lt;/td&gt; &lt;!-- se non funziona \r\n    prova con getPk().getPartito() --&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n     &lt;td&gt;Circoscrizione:&lt;/td&gt;\r\n   \r\n     &lt;!--   for(int i = 0; i &lt; ${parlamentare.getPk().getCircoscrizione();}; i++) { %&gt;  - \r\n     -&gt;  \r\n     &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; var=&quot;CIRCOSCRIZIONE&quot;&gt; \r\n     &lt;!-- se non funziona prova con getPk().getCircoscrizione() --&gt;\r\n      &lt;td&gt;&lt;c:out value=&quot;${CIRCOSCRIZIONE.getElement(CIRCOSCRIZIONE,i)}&quot;/&gt;&lt;br&gt;&lt;/td&gt;  &lt;!-- \r\n    parlamentari.get(i).getCircoscrizione().getElement(a,1); --&gt;\r\n   \r\n        &lt;/c:forEach&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt;Data di nascita:&lt;/td&gt;\r\n    &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getData_nascita()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n     &lt;td&gt;Luogo:&lt;/td&gt;\r\n    &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getLuogo()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n     &lt;td&gt;Titolo di studi:&lt;/td&gt;\r\n    &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getTitolo_studi()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt;Mandati:&lt;/td&gt;\r\n    &lt;c:forEach items=&quot;${parlamentare.getMandati()}&quot; var=&quot;mandato&quot;&gt;\r\n       &lt;table&gt;\r\n        &lt;tr&gt;\r\n       &lt;td&gt;Mandato:&lt;/td&gt; \r\n       &lt;td&gt;&lt;c:out value=&quot;${mandato}&quot;/&gt;&lt;/td&gt;\r\n       &lt;/tr&gt;\r\n       &lt;/table&gt;\r\n       &lt;/c:forEach&gt;\r\n     &lt;/tr&gt;\r\n \r\n     &lt;tr&gt;\r\n     &lt;td&gt;Commissioni:&lt;/td&gt;\r\n      &lt;c:forEach items=&quot;${parlamentare.getCommissioni()}&quot; var=&quot;commissione&quot;&gt;\r\n       &lt;table&gt;\r\n        &lt;tr&gt;\r\n       &lt;td&gt;Commissione:&lt;/td&gt; \r\n       &lt;td&gt;&lt;c:out value=&quot;${commissione.getElement(commissione,i)}&quot;/&gt;&lt;/td&gt;\r\n       &lt;/tr&gt;\r\n       &lt;/table&gt;\r\n       &lt;/c:forEach&gt;\r\n    &lt;/tr&gt;\r\n   \r\n    \r\n   \r\n  \r\n   &lt;/table&gt;\r\n   &lt;/c:forEach&gt;\r\n \r\n     &lt;/form&gt;\r\n     \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n \r\n\r\n   \r\n\r\n","title":"how to transform a jsp variable into java","body":"<p>Since I have a forEach loop nested inside another that doesn't work for me, I read that I have to use methods to access variables in jsp, but my method needs the index i to read the array element and I pass it to it as an argument, then my forEach turns into a simple for, but the parliamentari.size() variable is not recognized, the jsp variable in java how does it transform?</p>\n<pre><code>for(int i = 0; i &lt; ${parlamentare.getPk().getCircoscrizione();}; \ni++) { %&gt;  \n</code></pre>\n<p>Parlamentare.java</p>\n<pre><code>public String getElement(String[] a, int n) {\n    return a[n] ;\n}\n</code></pre>\n<p>ListaParlamentari.java</p>\n<pre><code>public ModelAndView doPost()//(Parlamentare parlamentare) \n{   \n    ModelAndView mv= new ModelAndView();\n\n    List&lt;Parlamentare&gt; parlamentari =parlamRepo.findAll();\n    mv.addObject(&quot;parlamentari&quot;,parlamentari);\n    mv.setViewName(&quot;lista_parlamentari.jsp&quot;);\n    return mv;\n}\n</code></pre>\n<p>lista_parlamentari.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\npageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot;%&gt;\n\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ page import=&quot;com.giuggiola.entity.Parlamentare&quot; %&gt;\n\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Lista parlamentari&lt;/title&gt;\n\n&lt;/head&gt;\n&lt;body&gt;    \n \n &lt;h2&gt;Lista dei parlamentari:&lt;/h2&gt;\n&lt;form method=&quot;POST&quot; action=&quot;lista_parlamentari.jsp&quot;&gt;\n &lt;c:forEach items=&quot;${parlamentari}&quot; var=&quot;parlamentare&quot;&gt;\n &lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt;Nome:&lt;/td&gt;\n&lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getNome()}&quot;/&gt;&lt;/td&gt; &lt;!-- se non funziona \nprova con getPk().getNome() --&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n &lt;td&gt;Partito:&lt;/td&gt;\n&lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getPartito()}&quot;/&gt;&lt;/td&gt; &lt;!-- se non funziona \nprova con getPk().getPartito() --&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n &lt;td&gt;Circoscrizione:&lt;/td&gt;\n\n &lt;!--   for(int i = 0; i &lt; ${parlamentare.getPk().getCircoscrizione();}; i++) { %&gt;  - \n -&gt;  \n &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; var=&quot;CIRCOSCRIZIONE&quot;&gt; \n &lt;!-- se non funziona prova con getPk().getCircoscrizione() --&gt;\n  &lt;td&gt;&lt;c:out value=&quot;${CIRCOSCRIZIONE.getElement(CIRCOSCRIZIONE,i)}&quot;/&gt;&lt;br&gt;&lt;/td&gt;  &lt;!-- \nparlamentari.get(i).getCircoscrizione().getElement(a,1); --&gt;\n\n    &lt;/c:forEach&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Data di nascita:&lt;/td&gt;\n&lt;td&gt;&lt;c:out value=&quot;${parlamentare.getData_nascita()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n &lt;td&gt;Luogo:&lt;/td&gt;\n&lt;td&gt;&lt;c:out value=&quot;${parlamentare.getLuogo()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n &lt;td&gt;Titolo di studi:&lt;/td&gt;\n&lt;td&gt;&lt;c:out value=&quot;${parlamentare.getTitolo_studi()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Mandati:&lt;/td&gt;\n&lt;c:forEach items=&quot;${parlamentare.getMandati()}&quot; var=&quot;mandato&quot;&gt;\n   &lt;table&gt;\n    &lt;tr&gt;\n   &lt;td&gt;Mandato:&lt;/td&gt; \n   &lt;td&gt;&lt;c:out value=&quot;${mandato}&quot;/&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n   &lt;/table&gt;\n   &lt;/c:forEach&gt;\n &lt;/tr&gt;\n\n &lt;tr&gt;\n &lt;td&gt;Commissioni:&lt;/td&gt;\n  &lt;c:forEach items=&quot;${parlamentare.getCommissioni()}&quot; var=&quot;commissione&quot;&gt;\n   &lt;table&gt;\n    &lt;tr&gt;\n   &lt;td&gt;Commissione:&lt;/td&gt; \n   &lt;td&gt;&lt;c:out value=&quot;${commissione.getElement(commissione,i)}&quot;/&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n   &lt;/table&gt;\n   &lt;/c:forEach&gt;\n&lt;/tr&gt;\n</code></pre>\n   \n   \n \n     \n     \n    \n    \n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1664276998,"post_id":73866495,"comment_id":130429511,"body_markdown":"The code doesn&#39;t seem to match the result picture","body":"The code doesn&#39;t seem to match the result picture"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1664277541,"post_id":73866495,"comment_id":130429683,"body_markdown":"Also would help if you could draft a picture with which components should have which color","body":"Also would help if you could draft a picture with which components should have which color"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1664282942,"post_id":73866495,"comment_id":130431711,"body_markdown":"You are hopefully aware that the first step would be to pick a nice look-and-feel, like Nimbus.","body":"You are hopefully aware that the first step would be to pick a nice look-and-feel, like Nimbus."},{"owner":{"account_id":21024939,"reputation":11,"user_id":15450499,"display_name":"andy_07"},"score":0,"creation_date":1664283571,"post_id":73866495,"comment_id":130431957,"body_markdown":"@XtremeBaumer Thanks for flagging that: I edited the initial code in the question and added to the previous picture an explanation of what I am expecting to get.","body":"@XtremeBaumer Thanks for flagging that: I edited the initial code in the question and added to the previous picture an explanation of what I am expecting to get."},{"owner":{"account_id":21024939,"reputation":11,"user_id":15450499,"display_name":"andy_07"},"score":0,"creation_date":1664283802,"post_id":73866495,"comment_id":130432054,"body_markdown":"@JoopEggen I am, but actually so far Metal has served me well enough, since I always managed to change how some elements looked when needed.","body":"@JoopEggen I am, but actually so far Metal has served me well enough, since I always managed to change how some elements looked when needed."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1664285180,"post_id":73866495,"comment_id":130432654,"body_markdown":"Aha, I stumbled over that Metal theme, as it is not my favorite. So it is intentional. One can also globally customize JTextField and others with the UI* classes. You can walk child components, and the scroll view to reach the entire background component. The JTextField with rounded borders I would maybe develop separately.","body":"Aha, I stumbled over that Metal theme, as it is not my favorite. So it is intentional. One can also globally customize JTextField and others with the UI* classes. You can walk child components, and the scroll view to reach the entire background component. The JTextField with rounded borders I would maybe develop separately."},{"owner":{"account_id":21024939,"reputation":11,"user_id":15450499,"display_name":"andy_07"},"score":0,"creation_date":1664287261,"post_id":73866495,"comment_id":130433576,"body_markdown":"@JoopEggen Thank you for the suggestions! Could you please provide an example of how I can use the UI* classes in this context (I have never used them except for UIManager for setting the general look and feel)? Indeed I have already accessed some of the child components (panels) in the code above, and managed to change some backgrounds to red. I will try to see what happens when I modify the background of other components.","body":"@JoopEggen Thank you for the suggestions! Could you please provide an example of how I can use the UI* classes in this context (I have never used them except for UIManager for setting the general look and feel)? Indeed I have already accessed some of the child components (panels) in the code above, and managed to change some backgrounds to red. I will try to see what happens when I modify the background of other components."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1664287979,"post_id":73866495,"comment_id":130433864,"body_markdown":"Looking at your picture, I&#39;d just forget the Swing JFileChooser and create my own custom file chooser using a JDialog from other Swing components.","body":"Looking at your picture, I&#39;d just forget the Swing JFileChooser and create my own custom file chooser using a JDialog from other Swing components."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1664290650,"post_id":73866495,"comment_id":130434954,"body_markdown":"I moved on to JavaFX, Install the sources, src.zip, and look at the children of [`ComponentUI`](https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/ComponentUI.html). UIManager also holds things. Maybe you can install your own [`FileChooserUI`](https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/FileChooserUI.html)","body":"I moved on to JavaFX, Install the sources, src.zip, and look at the children of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/ComponentUI.html\" rel=\"nofollow noreferrer\"><code>ComponentUI</code></a>. UIManager also holds things. Maybe you can install your own <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/FileChooserUI.html\" rel=\"nofollow noreferrer\"><code>FileChooserUI</code></a>"},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":0,"creation_date":1665073193,"post_id":73866495,"comment_id":130619344,"body_markdown":"Have you tried to use `java.awt.FileDialog` if you want it to look like the native OS?","body":"Have you tried to use <code>java.awt.FileDialog</code> if you want it to look like the native OS?"}],"owner":{"account_id":21024939,"reputation":11,"user_id":15450499,"display_name":"andy_07"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664283400,"creation_date":1664276378,"question_id":73866495,"body_markdown":"I need to insert a JFileChooser dialog in my Swing application, and I would like to customize its look so that it matches that of the other windows. Specifically, I am having troubles:\r\n1. changing the background color of the JFileChooser\r\n2. changing the shape of the JTextField showing the folder path\r\n\r\nI am including three classes below which exemplify the problem I am facing.\r\n\r\n**This is the custom JDialog class**\r\n(the idea to embed the JFileChooser in a JDialog came from here https://stackoverflow.com/questions/62850787/possible-to-remove-title-bar-from-jfilechooser)\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class FileChooserDialog extends JDialog {\r\n\r\n    private ModifiedFileChooser modifiedFileChooser;\r\n\r\n    public FileChooserDialog(ModifiedFileChooser modifiedFileChooser) {\r\n        super();\r\n        this.modifiedFileChooser = modifiedFileChooser;\r\n        setUndecorated(true);\r\n        setLayout(new BorderLayout());\r\n        add(modifiedFileChooser, BorderLayout.CENTER);\r\n        setBackground(new Color(180, 14, 14));\r\n\r\n        pack();\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        JFrame frame = new JFrame();\r\n        JButton openB = new JButton(&quot;Open&quot;);\r\n        openB.setPreferredSize(new Dimension(50,20));\r\n        frame.setLayout(new BorderLayout());\r\n        frame.add(openB, BorderLayout.CENTER);\r\n\r\n        openB.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                new FileChooserDialog(new ModifiedFileChooser());\r\n            }\r\n        });\r\n\r\n        frame.setPreferredSize(new Dimension(300, 200));\r\n        frame.setLocationRelativeTo(null);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n\r\n    }\r\n}\r\n```\r\n\r\n**This is the custom JFileChooser class** (I referred to this post on how to customize a JFileChooser https://stackoverflow.com/questions/6720957/creating-custom-jfilechooser)\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class ModifiedFileChooser extends JFileChooser {\r\n\r\n    public ModifiedFileChooser() {\r\n        super();\r\n\r\n        customizeFileChooser(this.getComponents());\r\n        setBackground(new Color(180, 14, 14));\r\n        repaint();\r\n    }\r\n\r\n    private void customizeFileChooser(Component[] comp) {\r\n\r\n        for (int x = 0; x &lt; comp.length; x++) {\r\n\r\n            if (comp[x] instanceof JScrollPane) {\r\n                ((JScrollPane) comp[x]).setBackground(new Color(180, 14, 14));\r\n            }\r\n            \r\n            if (comp[x] instanceof JPanel) {\r\n\r\n                ((JPanel) comp[x]).setBackground(new Color(180, 14, 14));\r\n\r\n                customizeFileChooser(((JPanel) comp[x]).getComponents());\r\n\r\n                Component[] c = ((JPanel) comp[x]).getComponents();\r\n\r\n                for (int i = 0; i &lt; c.length; i++) {\r\n\r\n                    if (c[i] instanceof JTextField) {\r\n                        int previousSize = ((JTextField) c[i]).getColumns();\r\n                        c[i] = new RoundedTextField(previousSize);\r\n\r\n                    }\r\n\r\n                    if (c[i] instanceof JPanel) {\r\n                        ((JPanel) c[i]).setBackground(new Color(180, 14, 14));\r\n                    }\r\n\r\n                    if (c[i] instanceof JScrollPane) {\r\n                        ((JScrollPane) c[i]).setBackground(new Color(180, 14, 14));\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**This is the custom JTextField class**\r\n(the code is taken from this post: https://stackoverflow.com/questions/8515601/java-swing-rounded-border-for-jtextfield)\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.geom.RoundRectangle2D;\r\n\r\npublic class RoundedTextField extends JTextField {\r\n\r\n    private Shape shape;\r\n    public RoundedTextField(int size) {\r\n        super(size);\r\n        setOpaque(false);\r\n    }\r\n    protected void paintComponent(Graphics g) {\r\n        g.setColor(getBackground());\r\n        g.fillRoundRect(0, 0, getWidth()-1, getHeight()-1, 15, 15);\r\n        super.paintComponent(g);\r\n    }\r\n    protected void paintBorder(Graphics g) {\r\n        g.setColor(getForeground());\r\n        g.drawRoundRect(0, 0, getWidth()-1, getHeight()-1, 15, 15);\r\n    }\r\n    public boolean contains(int x, int y) {\r\n        if (shape == null || !shape.getBounds().equals(getBounds())) {\r\n            shape = new RoundRectangle2D.Float(0, 0, getWidth()-1, getHeight()-1, 15, 15);\r\n        }\r\n        return shape.contains(x, y);\r\n    }\r\n}\r\n```\r\n\r\nThe dialog that is diaplyed after pressing the button in the frame looks like this:\r\n\r\n[![Dialog with explanation of current issues][1]][1]\r\n\r\nIdeally, I would want the textfield close to the &quot;File Name:&quot; label to have rounded corners, and the background of the JFileChooser to be red instead of grey.\r\n\r\n\r\nMany thanks in advance for any help on this!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mTYbv.png","title":"How to customize a JFileChooser component?","body":"<p>I need to insert a JFileChooser dialog in my Swing application, and I would like to customize its look so that it matches that of the other windows. Specifically, I am having troubles:</p>\n<ol>\n<li>changing the background color of the JFileChooser</li>\n<li>changing the shape of the JTextField showing the folder path</li>\n</ol>\n<p>I am including three classes below which exemplify the problem I am facing.</p>\n<p><strong>This is the custom JDialog class</strong>\n(the idea to embed the JFileChooser in a JDialog came from here <a href=\"https://stackoverflow.com/questions/62850787/possible-to-remove-title-bar-from-jfilechooser\">Possible to remove Title bar from JFileChooser?</a>)</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class FileChooserDialog extends JDialog {\n\n    private ModifiedFileChooser modifiedFileChooser;\n\n    public FileChooserDialog(ModifiedFileChooser modifiedFileChooser) {\n        super();\n        this.modifiedFileChooser = modifiedFileChooser;\n        setUndecorated(true);\n        setLayout(new BorderLayout());\n        add(modifiedFileChooser, BorderLayout.CENTER);\n        setBackground(new Color(180, 14, 14));\n\n        pack();\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n\n        JFrame frame = new JFrame();\n        JButton openB = new JButton(&quot;Open&quot;);\n        openB.setPreferredSize(new Dimension(50,20));\n        frame.setLayout(new BorderLayout());\n        frame.add(openB, BorderLayout.CENTER);\n\n        openB.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                new FileChooserDialog(new ModifiedFileChooser());\n            }\n        });\n\n        frame.setPreferredSize(new Dimension(300, 200));\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setVisible(true);\n\n    }\n}\n</code></pre>\n<p><strong>This is the custom JFileChooser class</strong> (I referred to this post on how to customize a JFileChooser <a href=\"https://stackoverflow.com/questions/6720957/creating-custom-jfilechooser\">Creating custom JFileChooser</a>)</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class ModifiedFileChooser extends JFileChooser {\n\n    public ModifiedFileChooser() {\n        super();\n\n        customizeFileChooser(this.getComponents());\n        setBackground(new Color(180, 14, 14));\n        repaint();\n    }\n\n    private void customizeFileChooser(Component[] comp) {\n\n        for (int x = 0; x &lt; comp.length; x++) {\n\n            if (comp[x] instanceof JScrollPane) {\n                ((JScrollPane) comp[x]).setBackground(new Color(180, 14, 14));\n            }\n            \n            if (comp[x] instanceof JPanel) {\n\n                ((JPanel) comp[x]).setBackground(new Color(180, 14, 14));\n\n                customizeFileChooser(((JPanel) comp[x]).getComponents());\n\n                Component[] c = ((JPanel) comp[x]).getComponents();\n\n                for (int i = 0; i &lt; c.length; i++) {\n\n                    if (c[i] instanceof JTextField) {\n                        int previousSize = ((JTextField) c[i]).getColumns();\n                        c[i] = new RoundedTextField(previousSize);\n\n                    }\n\n                    if (c[i] instanceof JPanel) {\n                        ((JPanel) c[i]).setBackground(new Color(180, 14, 14));\n                    }\n\n                    if (c[i] instanceof JScrollPane) {\n                        ((JScrollPane) c[i]).setBackground(new Color(180, 14, 14));\n                    }\n\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>This is the custom JTextField class</strong>\n(the code is taken from this post: <a href=\"https://stackoverflow.com/questions/8515601/java-swing-rounded-border-for-jtextfield\">Java Swing rounded border for Jtextfield</a>)</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.geom.RoundRectangle2D;\n\npublic class RoundedTextField extends JTextField {\n\n    private Shape shape;\n    public RoundedTextField(int size) {\n        super(size);\n        setOpaque(false);\n    }\n    protected void paintComponent(Graphics g) {\n        g.setColor(getBackground());\n        g.fillRoundRect(0, 0, getWidth()-1, getHeight()-1, 15, 15);\n        super.paintComponent(g);\n    }\n    protected void paintBorder(Graphics g) {\n        g.setColor(getForeground());\n        g.drawRoundRect(0, 0, getWidth()-1, getHeight()-1, 15, 15);\n    }\n    public boolean contains(int x, int y) {\n        if (shape == null || !shape.getBounds().equals(getBounds())) {\n            shape = new RoundRectangle2D.Float(0, 0, getWidth()-1, getHeight()-1, 15, 15);\n        }\n        return shape.contains(x, y);\n    }\n}\n</code></pre>\n<p>The dialog that is diaplyed after pressing the button in the frame looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/mTYbv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mTYbv.png\" alt=\"Dialog with explanation of current issues\" /></a></p>\n<p>Ideally, I would want the textfield close to the &quot;File Name:&quot; label to have rounded corners, and the background of the JFileChooser to be red instead of grey.</p>\n<p>Many thanks in advance for any help on this!</p>\n"},{"tags":["java","spring","spring-boot","spring-el"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664204849,"creation_date":1664204849,"answer_id":73856156,"question_id":73828992,"body_markdown":"`${...}` has nothing to do with SpEL; that syntax is for property placeholders in Spring.\r\n\r\ne.g. `@Value(&quot;${property.foo:default}&quot; String someProperty`.\r\n\r\n\r\nThis will set `someProperty` to the value of `property.foo` if present, or `default` otherwise. (the `:...` part can be omitted to force the property to exist).","title":"Spring Boot: using SpEL collection selection from YAML in @ConditionalOnExpression","body":"<p><code>${...}</code> has nothing to do with SpEL; that syntax is for property placeholders in Spring.</p>\n<p>e.g. <code>@Value(&quot;${property.foo:default}&quot; String someProperty</code>.</p>\n<p>This will set <code>someProperty</code> to the value of <code>property.foo</code> if present, or <code>default</code> otherwise. (the <code>:...</code> part can be omitted to force the property to exist).</p>\n"},{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664283202,"creation_date":1664208446,"answer_id":73856908,"question_id":73828992,"body_markdown":"[Spring SpEL](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions) supports only simple property placeholders inside the properties file.\r\n\r\nIf your properties file and condition code are like this, your SpEL will work:\r\n\r\n```java\r\nfeatures:\r\n  feature1:\r\n    enabled: true\r\n    description: First feature.\r\n  feature2:\r\n    enabled: false\r\n    description: Second feature.\r\n```\r\n\r\n```java\r\n@ConditionalOnExpression(\r\n        value = &quot;#{&#39;${features.feature1.enabled}&#39;.equals(&#39;true&#39;)}&quot;\r\n)\r\n```\r\n\r\n##### But if you want to load it as a map feature and use the map SpEL features;\r\n\r\nThe most elegant way is writing the [key-values as an inline JSON](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps) (use &#39; and &quot; chars to avoid cumbersome escaping) and parsing it using SpEL:\r\n\r\n```java\r\nfeatures: &#39;{\r\n&quot;feature1&quot;: {&quot;enabled&quot;:&quot;true&quot;, &quot;description&quot;:&quot;...&quot;},\r\n&quot;feature2&quot;: {&quot;enabled&quot;:&quot;false&quot;, &quot;description&quot;:&quot;...&quot;}\r\n}&#39;\r\n```\r\n\r\n```java\r\n@ConditionalOnExpression(\r\n        value = &quot;#{${features}[&#39;feature1&#39;][&#39;enabled&#39;].equals(&#39;true&#39;)}&quot;\r\n)\r\n```\r\n\r\nIf you had used the selection method it would have looked like this;\r\n\r\n```java\r\n@ConditionalOnExpression(\r\n        value = &quot;#{${features}.?[key==&#39;feature1&#39;][&#39;feature1&#39;][&#39;enabled&#39;].equals(&#39;true&#39;)}&quot;\r\n)\r\n```","title":"Spring Boot: using SpEL collection selection from YAML in @ConditionalOnExpression","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">Spring SpEL</a> supports only simple property placeholders inside the properties file.</p>\n<p>If your properties file and condition code are like this, your SpEL will work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>features:\n  feature1:\n    enabled: true\n    description: First feature.\n  feature2:\n    enabled: false\n    description: Second feature.\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@ConditionalOnExpression(\n        value = &quot;#{'${features.feature1.enabled}'.equals('true')}&quot;\n)\n</code></pre>\n<h5>But if you want to load it as a map feature and use the map SpEL features;</h5>\n<p>The most elegant way is writing the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-inline-maps\" rel=\"nofollow noreferrer\">key-values as an inline JSON</a> (use ' and &quot; chars to avoid cumbersome escaping) and parsing it using SpEL:</p>\n<pre class=\"lang-java prettyprint-override\"><code>features: '{\n&quot;feature1&quot;: {&quot;enabled&quot;:&quot;true&quot;, &quot;description&quot;:&quot;...&quot;},\n&quot;feature2&quot;: {&quot;enabled&quot;:&quot;false&quot;, &quot;description&quot;:&quot;...&quot;}\n}'\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@ConditionalOnExpression(\n        value = &quot;#{${features}['feature1']['enabled'].equals('true')}&quot;\n)\n</code></pre>\n<p>If you had used the selection method it would have looked like this;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConditionalOnExpression(\n        value = &quot;#{${features}.?[key=='feature1']['feature1']['enabled'].equals('true')}&quot;\n)\n</code></pre>\n"}],"owner":{"account_id":26382015,"reputation":23,"user_id":20035120,"display_name":"Alexander Prikhodko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73856908,"answer_count":2,"score":0,"last_activity_date":1664283202,"creation_date":1663941966,"question_id":73828992,"body_markdown":"I have a Spring Boot application with a YAML configuration that contains a feature list like this:\r\n\r\n    features:\r\n      - key: feature1\r\n        enabled: true\r\n        description: First feature\r\n      - key: feature2\r\n        enabled: false\r\n        description: Second feature\r\n    ...\r\n\r\nI would like to use @ConditionalOnExpression to conditionally initialize beans related to those features, identifying them by keys. Since &quot;features&quot; property is a list, it seems I need collection selection to do this. I have tried these two options for the annotation&#39;s value:\r\n\r\n    @ConditionalOnExpression(&quot;${features.?[key == &#39;feature1&#39;][0].enabled}&quot;)\r\n\r\n    @ConditionalOnExpression(&quot;${features}.?[key == &#39;feature1&#39;][0].enabled&quot;)\r\n\r\nBut both give the same error on startup:\r\n\r\n    org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lcurly({)&#39;\r\n\r\nIf I pass the expression (without ${}) to SpelExpressionParser.parseExpression() and then evaluate it (against a list of feature objects built programmatically), it works as expected and returns the value of &quot;enabled&quot; property. So the expression&#39;s structure seems to be OK, and the problem is how I use it in @ConditionalOnExpression. What exactly can I be doing wrong?","title":"Spring Boot: using SpEL collection selection from YAML in @ConditionalOnExpression","body":"<p>I have a Spring Boot application with a YAML configuration that contains a feature list like this:</p>\n<pre><code>features:\n  - key: feature1\n    enabled: true\n    description: First feature\n  - key: feature2\n    enabled: false\n    description: Second feature\n...\n</code></pre>\n<p>I would like to use @ConditionalOnExpression to conditionally initialize beans related to those features, identifying them by keys. Since &quot;features&quot; property is a list, it seems I need collection selection to do this. I have tried these two options for the annotation's value:</p>\n<pre><code>@ConditionalOnExpression(&quot;${features.?[key == 'feature1'][0].enabled}&quot;)\n\n@ConditionalOnExpression(&quot;${features}.?[key == 'feature1'][0].enabled&quot;)\n</code></pre>\n<p>But both give the same error on startup:</p>\n<pre><code>org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'lcurly({)'\n</code></pre>\n<p>If I pass the expression (without ${}) to SpelExpressionParser.parseExpression() and then evaluate it (against a list of feature objects built programmatically), it works as expected and returns the value of &quot;enabled&quot; property. So the expression's structure seems to be OK, and the problem is how I use it in @ConditionalOnExpression. What exactly can I be doing wrong?</p>\n"},{"tags":["java","jsp","tomcat","hotswap","hot-reload"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1613395006,"post_id":65847576,"comment_id":117053914,"body_markdown":"to me, this question seems like a duplicate of https://stackoverflow.com/questions/3319740/reloading-jstl-tag-files-in-tomcat-development-mode, or is there some reason why this is not so?","body":"to me, this question seems like a duplicate of <a href=\"https://stackoverflow.com/questions/3319740/reloading-jstl-tag-files-in-tomcat-development-mode\" title=\"reloading jstl tag files in tomcat development mode\">stackoverflow.com/questions/3319740/&hellip;</a>, or is there some reason why this is not so?"},{"owner":{"account_id":5565357,"reputation":1013,"user_id":4412885,"display_name":"mihca"},"score":0,"creation_date":1613395418,"post_id":65847576,"comment_id":117054118,"body_markdown":"The linked post is asking for a reload feature in general. Such a feature exists (in my example for `webapp-map`). My question goes one stept further, asking also for reload feature of compressed library that the webapp depends on.","body":"The linked post is asking for a reload feature in general. Such a feature exists (in my example for <code>webapp-map</code>). My question goes one stept further, asking also for reload feature of compressed library that the webapp depends on."},{"owner":{"account_id":5565357,"reputation":1013,"user_id":4412885,"display_name":"mihca"},"score":0,"creation_date":1613396283,"post_id":65847576,"comment_id":117054525,"body_markdown":"I also found this [thread](https://stackoverflow.com/questions/4331806/exploded-jar-in-war-libs) that asks if the JAR inside lib-folder can be unzipped. Overall it does not seem to be possible out-of-the-box what I want.","body":"I also found this <a href=\"https://stackoverflow.com/questions/4331806/exploded-jar-in-war-libs\">thread</a> that asks if the JAR inside lib-folder can be unzipped. Overall it does not seem to be possible out-of-the-box what I want."}],"answers":[{"tags":[],"owner":{"account_id":5565357,"reputation":1013,"user_id":4412885,"display_name":"mihca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664283177,"creation_date":1664283177,"answer_id":73867918,"question_id":65847576,"body_markdown":"I noticed that Tomcat DOES recompile jsp and tag files inside JAR files.\r\n\r\nHowever, &quot;Package File&quot; action of IntelliJ, which updates the file in the JAR, is not enough for this.\r\n\r\nTo recompile jsp and tag files in a JAR from a dependency, I have to\r\n\r\n- compile the dependency project\r\n    - In the example, go to `core` project and run `mvn install`\r\n- package the webapp project\r\n    - In the example, go to `webapp-demo` project and run `mvn package`\r\n\r\nTomcat then notices the changed JAR and recompiles the jsp and tag files.\r\n\r\nNote that it does not work, when running `mvn package` in `core` project. It seems like Tomcat is missing something, when the dependency project is packaged but not build.\r\n\r\nNote further that Tomcat seems to recompile all jsp and tag files in the JAR in this case. Maybe even further files from later projects that depend on these. Thus, in my case recompilation of the jsp and tag files of the changed JAR takes nearly as long as deploying the webapp from scratch.\r\n\r\nTested with Tomcat 9.0.50 and Maven 3.6.0","title":"Tomcat hot reload of JSP file that is inside a JAR of an exploded webapp","body":"<p>I noticed that Tomcat DOES recompile jsp and tag files inside JAR files.</p>\n<p>However, &quot;Package File&quot; action of IntelliJ, which updates the file in the JAR, is not enough for this.</p>\n<p>To recompile jsp and tag files in a JAR from a dependency, I have to</p>\n<ul>\n<li>compile the dependency project\n<ul>\n<li>In the example, go to <code>core</code> project and run <code>mvn install</code></li>\n</ul>\n</li>\n<li>package the webapp project\n<ul>\n<li>In the example, go to <code>webapp-demo</code> project and run <code>mvn package</code></li>\n</ul>\n</li>\n</ul>\n<p>Tomcat then notices the changed JAR and recompiles the jsp and tag files.</p>\n<p>Note that it does not work, when running <code>mvn package</code> in <code>core</code> project. It seems like Tomcat is missing something, when the dependency project is packaged but not build.</p>\n<p>Note further that Tomcat seems to recompile all jsp and tag files in the JAR in this case. Maybe even further files from later projects that depend on these. Thus, in my case recompilation of the jsp and tag files of the changed JAR takes nearly as long as deploying the webapp from scratch.</p>\n<p>Tested with Tomcat 9.0.50 and Maven 3.6.0</p>\n"}],"owner":{"account_id":5565357,"reputation":1013,"user_id":4412885,"display_name":"mihca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73867918,"answer_count":1,"score":0,"last_activity_date":1664283177,"creation_date":1611327756,"question_id":65847576,"body_markdown":"I have a multi-module Maven project for a webapp. Example:\r\n```\r\nproject-root\r\n|- core\r\n|- webapp-demo\r\n```\r\nwhere `webapp-demo` references `core`.\r\n\r\nMost jsp and tag files are placed in `webapp-demo`. However, some are placed in `core`.\r\n\r\nFor development, I build and deploy this project using Maven as [exploded webapp](https://maven.apache.org/plugins/maven-war-plugin/exploded-mojo.html) (i.e. the content of the WAR file but uncompressed).\r\nThis also works fine from IntelliJ. Further, when I do &quot;Build &gt; Rebuild Project&quot; in IntelliJ, then \r\n* JSP and tag files are packaged.\r\n* Changes to the files in `webapp-demo` are immediatedly recompiled by Tomcat. I can see the new version when I reload the page.\r\n\r\nHowever, changes to the jsp and tag files in `core` are not immediately recompiled by Tomcat. I have to stop and start Tomcat to see the changes.\r\n\r\nI noticed that the changed files are packaged correctly by IntelliJ. The new tag file is available in the JAR of the webapp&#39;s &quot;lib&quot;-folder (/WEB-INF/lib).\r\nSadly, Tomcat does not seem to notice this.\r\n\r\nIs there a Tomcat configuration to make this work?\r\nI want Tomcat to recompile changed jsp and tag files even though they are inside a JAR in /WEB-INF/lib.\r\n\r\nMaybe there is an option to also &quot;explode&quot; these JAR files (or at least their jsp and tag files)?\r\n\r\n---\r\nI prepared an example project on [GitHub](https://github.com/achimmihca/multi-module-tag-file-hotswap) to reproduce my issue.\r\n\r\n---\r\n* I found [this thread](https://stackoverflow.com/questions/3319740/reloading-jstl-tag-files-in-tomcat-development-mode) where it is said not to work for stuff inside /WEB-INF/lib.\r\n* I found [this other thread](https://stackoverflow.com/questions/1390487/tomcat-hot-deploying-new-jars) where it is said to work when one adds a `&lt;WatchedResource&gt;` config. I tried this and it did not work.\r\n* I tried &quot;start&quot; and &quot;stop&quot; of the webapp in the Tomcat Manager but the changed tag file is still not recompiled. It still shows the old version. Only when I stop and start the run config in IntelliJ (which stops and starts whole Tomcat), then I see the changed tag file of `core`. ","title":"Tomcat hot reload of JSP file that is inside a JAR of an exploded webapp","body":"<p>I have a multi-module Maven project for a webapp. Example:</p>\n<pre><code>project-root\n|- core\n|- webapp-demo\n</code></pre>\n<p>where <code>webapp-demo</code> references <code>core</code>.</p>\n<p>Most jsp and tag files are placed in <code>webapp-demo</code>. However, some are placed in <code>core</code>.</p>\n<p>For development, I build and deploy this project using Maven as <a href=\"https://maven.apache.org/plugins/maven-war-plugin/exploded-mojo.html\" rel=\"nofollow noreferrer\">exploded webapp</a> (i.e. the content of the WAR file but uncompressed).\nThis also works fine from IntelliJ. Further, when I do &quot;Build &gt; Rebuild Project&quot; in IntelliJ, then</p>\n<ul>\n<li>JSP and tag files are packaged.</li>\n<li>Changes to the files in <code>webapp-demo</code> are immediatedly recompiled by Tomcat. I can see the new version when I reload the page.</li>\n</ul>\n<p>However, changes to the jsp and tag files in <code>core</code> are not immediately recompiled by Tomcat. I have to stop and start Tomcat to see the changes.</p>\n<p>I noticed that the changed files are packaged correctly by IntelliJ. The new tag file is available in the JAR of the webapp's &quot;lib&quot;-folder (/WEB-INF/lib).\nSadly, Tomcat does not seem to notice this.</p>\n<p>Is there a Tomcat configuration to make this work?\nI want Tomcat to recompile changed jsp and tag files even though they are inside a JAR in /WEB-INF/lib.</p>\n<p>Maybe there is an option to also &quot;explode&quot; these JAR files (or at least their jsp and tag files)?</p>\n<hr />\n<p>I prepared an example project on <a href=\"https://github.com/achimmihca/multi-module-tag-file-hotswap\" rel=\"nofollow noreferrer\">GitHub</a> to reproduce my issue.</p>\n<hr />\n<ul>\n<li>I found <a href=\"https://stackoverflow.com/questions/3319740/reloading-jstl-tag-files-in-tomcat-development-mode\">this thread</a> where it is said not to work for stuff inside /WEB-INF/lib.</li>\n<li>I found <a href=\"https://stackoverflow.com/questions/1390487/tomcat-hot-deploying-new-jars\">this other thread</a> where it is said to work when one adds a <code>&lt;WatchedResource&gt;</code> config. I tried this and it did not work.</li>\n<li>I tried &quot;start&quot; and &quot;stop&quot; of the webapp in the Tomcat Manager but the changed tag file is still not recompiled. It still shows the old version. Only when I stop and start the run config in IntelliJ (which stops and starts whole Tomcat), then I see the changed tag file of <code>core</code>.</li>\n</ul>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-ide","selenium-grid"],"owner":{"account_id":21488866,"reputation":31,"user_id":15834985,"display_name":"Ajay "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664283137,"creation_date":1655539791,"question_id":72667724,"body_markdown":"I am trying to use selenium grid 4.2.2 I am creating a hub on the server and trying to create a node in the local machine but when  I am trying to make the connection between the hub and node connection **I am getting an error sending registration event again and again(local machine and server are in the same network)** \r\n\r\nhub:\r\n&gt;java -jar selenium-server-4.2.2.jar hub\r\n\r\nnode:\r\njava -jar selenium-server-4.2.2.jar node --detect-drivers true --publish-events tcp://{hubIP}:4442 --subscribe-events tcp://{hubIP}:4443\r\n\r\n\r\nplease check the attachment in that hub is successfully created even though I cannot create a node in the local machine I don&#39;t know why??please help me reading to this thank you in advanced(all Brwoser driver present in selenium grid folder )\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qLQ9k.png","title":"Not able to connect node with hub in selenium grid 4.2.2","body":"<p>I am trying to use selenium grid 4.2.2 I am creating a hub on the server and trying to create a node in the local machine but when  I am trying to make the connection between the hub and node connection <strong>I am getting an error sending registration event again and again(local machine and server are in the same network)</strong></p>\n<p>hub:</p>\n<blockquote>\n<p>java -jar selenium-server-4.2.2.jar hub</p>\n</blockquote>\n<p>node:\njava -jar selenium-server-4.2.2.jar node --detect-drivers true --publish-events tcp://{hubIP}:4442 --subscribe-events tcp://{hubIP}:4443</p>\n<p>please check the attachment in that hub is successfully created even though I cannot create a node in the local machine I don't know why??please help me reading to this thank you in advanced(all Brwoser driver present in selenium grid folder )</p>\n<p><a href=\"https://i.stack.imgur.com/qLQ9k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qLQ9k.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","liferay"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657094733,"creation_date":1657094733,"answer_id":72879889,"question_id":72871094,"body_markdown":"A java File (as in `java.io.File`) is an abstraction for a pointer to something sitting on your file system. When you upload data in a portlet or any other means in a web application, you&#39;re first dealing with a stream of data that usually has no representation on the hard drive (unless you explicitly store it there). Thus, `ParamUtil` will not reveal anything of type `File`, because that&#39;s - by definition - not part of a http request.\r\n\r\nThere is a lot of upload sample code, that you might need to adapt to the version you&#39;re running ([for example this][1]) - but you&#39;ll first need to understand that you&#39;re not looking for any representation of data on your hard drive.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27518094/13447","title":"Can you save the value of a input type=file in a java variable?","body":"<p>A java File (as in <code>java.io.File</code>) is an abstraction for a pointer to something sitting on your file system. When you upload data in a portlet or any other means in a web application, you're first dealing with a stream of data that usually has no representation on the hard drive (unless you explicitly store it there). Thus, <code>ParamUtil</code> will not reveal anything of type <code>File</code>, because that's - by definition - not part of a http request.</p>\n<p>There is a lot of upload sample code, that you might need to adapt to the version you're running (<a href=\"https://stackoverflow.com/a/27518094/13447\">for example this</a>) - but you'll first need to understand that you're not looking for any representation of data on your hard drive.</p>\n"}],"owner":{"account_id":20696487,"reputation":57,"user_id":15196570,"display_name":"Lincolnmyth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664283107,"creation_date":1657031152,"question_id":72871094,"body_markdown":"I&#39;ve been trying to do this in a liferay module project. By making an input type=file in my view.jsp and saving it in a java File variable but i can&#39;t get it to work. Is this possible? and if yes, how?\r\n\r\n\r\nSo far i&#39;ve looked for a paramutil method that i can use but there don&#39;t seem to be any. And i&#39;ve tried to use request.getParameter but this doesn&#39;t allow for the type File to be used. After that I tried to create a upload request and fill it with the data from the form. But this also didn&#39;t work for me.\r\n\r\nI wanted to make a form in my jsp file and let people upload a file via the input and let my java code run on submit to add the file to the documentlibrary.","title":"Can you save the value of a input type=file in a java variable?","body":"<p>I've been trying to do this in a liferay module project. By making an input type=file in my view.jsp and saving it in a java File variable but i can't get it to work. Is this possible? and if yes, how?</p>\n<p>So far i've looked for a paramutil method that i can use but there don't seem to be any. And i've tried to use request.getParameter but this doesn't allow for the type File to be used. After that I tried to create a upload request and fill it with the data from the form. But this also didn't work for me.</p>\n<p>I wanted to make a form in my jsp file and let people upload a file via the input and let my java code run on submit to add the file to the documentlibrary.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4972270,"reputation":1482,"user_id":3999642,"display_name":"Rajat Mehra"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1619425483,"creation_date":1562320047,"answer_id":56900600,"question_id":56900149,"body_markdown":"Put compileOptions inside android tag like this :\r\n\r\n\r\n    android {\r\n    ...\r\n    ...\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n\r\nEDIT: To be exact\r\n\r\n    android {\r\n        compileSdkVersion 28\r\n        buildToolsVersion &quot;29.0.0&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.example.myapplication&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 28\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        \r\n        compileOptions {\r\n\t\t\tsourceCompatibility JavaVersion.VERSION_1_8\r\n\t\t\ttargetCompatibility JavaVersion.VERSION_1_8\r\n\t\t}\r\n    }","title":"Could not find method compileOptions() for arguments","body":"<p>Put compileOptions inside android tag like this :</p>\n<pre><code>android {\n...\n...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n<p>EDIT: To be exact</p>\n<pre><code>android {\n    compileSdkVersion 28\n    buildToolsVersion &quot;29.0.0&quot;\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdkVersion 15\n        targetSdkVersion 28\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    \n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26362734,"reputation":1,"user_id":20018691,"display_name":"Bala Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664282559,"creation_date":1664282559,"answer_id":73867786,"question_id":56900149,"body_markdown":"apply plugin:&#39;com.android.application&#39;\r\n\r\n\r\napply  plugin:  &#39;kotlin-android&#39;\r\nandroid {\r\n   compileSdk 32\r\n    defaultConfig {\r\n        applicationId &quot;com.example.app&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 21\r\n        versionName 1\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.android.support:support-annotations:28.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n\r\n}","title":"Could not find method compileOptions() for arguments","body":"<p>apply plugin:'com.android.application'</p>\n<p>apply  plugin:  'kotlin-android'\nandroid {\ncompileSdk 32\ndefaultConfig {\napplicationId &quot;com.example.app&quot;\nminSdk 21\ntargetSdk 32\nversionCode 21\nversionName 1\ntestInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}</p>\n<pre><code>buildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>}</p>\n<p>dependencies {</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.5.1'\nimplementation 'com.google.android.material:material:1.6.1'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'com.android.support:support-annotations:28.0.0'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16232310,"reputation":93,"user_id":11743229,"display_name":"Gorpe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6345,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":56900600,"answer_count":2,"score":9,"last_activity_date":1664282559,"creation_date":1562318356,"question_id":56900149,"body_markdown":"The error appears: \r\n\r\n&gt; Could not find method compileOptions() for arguments\r\n&gt; [build_88ddjipq2tquhqjwgj0asxwi4$_run_closure3@5ddee9dd] on project\r\n&gt; &#39;:app&#39; of type org.gradle.api.Project.\r\n\r\n \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n        \r\n        android {\r\n            compileSdkVersion 28\r\n            buildToolsVersion &quot;29.0.0&quot;\r\n            defaultConfig {\r\n                applicationId &quot;com.example.myapplication&quot;\r\n                minSdkVersion 15\r\n                targetSdkVersion 28\r\n                versionCode 1\r\n                versionName &quot;1.0&quot;\r\n                testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            }\r\n            buildTypes {\r\n                release {\r\n                    minifyEnabled false\r\n                    proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                }\r\n            }\r\n        }\r\n        \r\n        dependencies {\r\n            implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n            implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n            implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n            testImplementation &#39;junit:junit:4.12&#39;\r\n            androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n            androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n        \r\n            implementation &#39;com.twitter.sdk.android:twitter-core:3.3.0&#39;\r\n            implementation &#39;com.twitter.sdk.android:tweet-ui:3.3.0&#39;\r\n            implementation &#39;com.twitter.sdk.android:tweet-composer:3.3.0&#39;\r\n        }\r\n        \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }","title":"Could not find method compileOptions() for arguments","body":"<p>The error appears: </p>\n\n<blockquote>\n  <p>Could not find method compileOptions() for arguments\n  [build_88ddjipq2tquhqjwgj0asxwi4$_run_closure3@5ddee9dd] on project\n  ':app' of type org.gradle.api.Project.</p>\n</blockquote>\n\n<pre><code>apply plugin: 'com.android.application'\n\n    android {\n        compileSdkVersion 28\n        buildToolsVersion \"29.0.0\"\n        defaultConfig {\n            applicationId \"com.example.myapplication\"\n            minSdkVersion 15\n            targetSdkVersion 28\n            versionCode 1\n            versionName \"1.0\"\n            testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        }\n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            }\n        }\n    }\n\n    dependencies {\n        implementation fileTree(dir: 'libs', include: ['*.jar'])\n        implementation 'com.android.support:appcompat-v7:28.0.0'\n        implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n        testImplementation 'junit:junit:4.12'\n        androidTestImplementation 'com.android.support.test:runner:1.0.2'\n        androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n        implementation 'com.twitter.sdk.android:twitter-core:3.3.0'\n        implementation 'com.twitter.sdk.android:tweet-ui:3.3.0'\n        implementation 'com.twitter.sdk.android:tweet-composer:3.3.0'\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":14232399,"reputation":189,"user_id":10281237,"display_name":"Ascendise"},"score":1,"creation_date":1664285363,"post_id":73867602,"comment_id":130432733,"body_markdown":"When you build your program via IntelliJ, does the &#39;Modified&#39;-date of the .class-File(s) change? If no, does it change when using `mvn compile` instead?","body":"When you build your program via IntelliJ, does the &#39;Modified&#39;-date of the .class-File(s) change? If no, does it change when using <code>mvn compile</code> instead?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1664290209,"post_id":73867602,"comment_id":130434757,"body_markdown":"Try re-install the IDE with all 3rd plugins disabled. Try the version from https://www.jetbrains.com/idea/download/ If issue remains, file a report at https://intellij-support.jetbrains.com/hc/en-us/requests/new with logs attached (Help | Collect Logs and Diagnostic Data action) and a sample project if possible or zipped `.idea` directory.","body":"Try re-install the IDE with all 3rd plugins disabled. Try the version from <a href=\"https://www.jetbrains.com/idea/download/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a> If issue remains, file a report at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> with logs attached (Help | Collect Logs and Diagnostic Data action) and a sample project if possible or zipped <code>.idea</code> directory."}],"owner":{"account_id":12566277,"reputation":11,"user_id":9142152,"display_name":"Ajay Nithiyanandan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664281792,"creation_date":1664281792,"question_id":73867602,"body_markdown":"I have a maven project written in Java. I was able to make changes to code and see its updates until the beginning of this week. For past 2 days  however, I am seeing a strange issue where no matter what changes I make to my java files, the compiled classes in target are not reflecting the changes and somehow seem to point to an older version of the compiled classes. I deleted target, invalidated cache, deleted .idea, changes the project folder to a different location and pulled again from git and nothing worked. I tried all comments listed at: https://stackoverflow.com/questions/41711167/intellij-idea-does-not-detect-file-changes\r\n\r\nI have Intellij version - 2022.1.3\r\n\r\nStill no solution. I am not sure what is causing this issue. Any assistance in this would be greatly helpful. Thank you.","title":"Intellij Compiled classes not reflecting changes to java files","body":"<p>I have a maven project written in Java. I was able to make changes to code and see its updates until the beginning of this week. For past 2 days  however, I am seeing a strange issue where no matter what changes I make to my java files, the compiled classes in target are not reflecting the changes and somehow seem to point to an older version of the compiled classes. I deleted target, invalidated cache, deleted .idea, changes the project folder to a different location and pulled again from git and nothing worked. I tried all comments listed at: <a href=\"https://stackoverflow.com/questions/41711167/intellij-idea-does-not-detect-file-changes\">Intellij IDEA does not detect file changes</a></p>\n<p>I have Intellij version - 2022.1.3</p>\n<p>Still no solution. I am not sure what is causing this issue. Any assistance in this would be greatly helpful. Thank you.</p>\n"},{"tags":["java","string","integer","numberformatexception"],"comments":[{"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"score":3,"creation_date":1438835270,"post_id":31846838,"comment_id":51614705,"body_markdown":"Because the number goes out of range for an `int`.","body":"Because the number goes out of range for an <code>int</code>."},{"owner":{"account_id":151071,"reputation":146046,"user_id":364696,"display_name":"ShadowRanger"},"score":1,"creation_date":1438837349,"post_id":31846838,"comment_id":51615250,"body_markdown":"The removed zero is expected; an int only has a value, not a notion of the format, and any leading zeroes would be formatting unrelated to the value. If you need to output it with leading zeroes to a specified width, you&#39;d need to convert it back to a String using [String.format](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29) with an appropriate format code, e.g. `&quot;%010d&quot;` to make the output ten characters wide with zero padding if the value requires less than 10 characters to display.","body":"The removed zero is expected; an int only has a value, not a notion of the format, and any leading zeroes would be formatting unrelated to the value. If you need to output it with leading zeroes to a specified width, you&#39;d need to convert it back to a String using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow noreferrer\">String.format</a> with an appropriate format code, e.g. <code>&quot;%010d&quot;</code> to make the output ten characters wide with zero padding if the value requires less than 10 characters to display."},{"owner":{"account_id":5161291,"reputation":147,"user_id":4132896,"accept_rate":50,"display_name":"manic bubble"},"score":0,"creation_date":1438867060,"post_id":31846838,"comment_id":51633086,"body_markdown":"yes thanks, I realise my mistake now.","body":"yes thanks, I realise my mistake now."}],"answers":[{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438835335,"creation_date":1438835335,"answer_id":31846866,"question_id":31846838,"body_markdown":"MAX_INT is 2147483647 and you&#39;re trying to parse a bigger number as Integer.\r\n\r\nYou can use `Long.parseLong` instead:\r\n\r\n    System.out.println(Long.parseLong(&quot;3020857508&quot;)); // 3020857508","title":"Integer.parseInt(String str) java.lang.NumberFormatException: Errors","body":"<p>MAX_INT is 2147483647 and you're trying to parse a bigger number as Integer.</p>\n\n<p>You can use <code>Long.parseLong</code> instead:</p>\n\n<pre><code>System.out.println(Long.parseLong(\"3020857508\")); // 3020857508\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1640947,"reputation":28880,"user_id":1513384,"accept_rate":96,"display_name":"ntalbs"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1541534023,"creation_date":1438835398,"answer_id":31846875,"question_id":31846838,"body_markdown":"It&#39;s because `3020857508` exceeds `Integer.MAX_VALUE`. You should use `long` to convert the string to number.\r\n\r\n    java&gt; String n=&quot;3020857508&quot;;\r\n    //=&gt; java.lang.String n = &quot;3020857508&quot;\r\n    java&gt; Integer a = Integer.parseInt(n.trim());\r\n    //=&gt; java.lang.NumberFormatException: For input string: &quot;3020857508&quot;\r\n    java&gt; Integer.MAX_VALUE\r\n    //=&gt; java.lang.Integer res2 = 2147483647\r\n    java&gt; Long a = Long.parseLong(n.trim());\r\n    //=&gt;java.lang.Long a = 3020857508\r\n\r\nThe above is [javarepl][1] output.\r\n\r\nIf you are using JDK9 or above, you can see the same result in jshell.\r\n\r\n    jshell&gt; String n=&quot;3020857508&quot;\r\n    n ==&gt; &quot;3020857508&quot;\r\n    \r\n    jshell&gt; Integer a = Integer.parseInt(n.trim())\r\n    |  Exception java.lang.NumberFormatException: For input string: &quot;3020857508&quot;\r\n    |        at NumberFormatException.forInputString (NumberFormatException.java:65)\r\n    |        at Integer.parseInt (Integer.java:652)\r\n    |        at Integer.parseInt (Integer.java:770)\r\n    |        at (#2:1)\r\n    \r\n    jshell&gt; Integer.MAX_VALUE\r\n    $3 ==&gt; 2147483647\r\n    \r\n    jshell&gt; Long a = Long.parseLong(n.trim());\r\n    a ==&gt; 3020857508\r\n\r\n\r\n  [1]: http://www.javarepl.com/console.html","title":"Integer.parseInt(String str) java.lang.NumberFormatException: Errors","body":"<p>It's because <code>3020857508</code> exceeds <code>Integer.MAX_VALUE</code>. You should use <code>long</code> to convert the string to number.</p>\n\n<pre><code>java&gt; String n=\"3020857508\";\n//=&gt; java.lang.String n = \"3020857508\"\njava&gt; Integer a = Integer.parseInt(n.trim());\n//=&gt; java.lang.NumberFormatException: For input string: \"3020857508\"\njava&gt; Integer.MAX_VALUE\n//=&gt; java.lang.Integer res2 = 2147483647\njava&gt; Long a = Long.parseLong(n.trim());\n//=&gt;java.lang.Long a = 3020857508\n</code></pre>\n\n<p>The above is <a href=\"http://www.javarepl.com/console.html\" rel=\"nofollow noreferrer\">javarepl</a> output.</p>\n\n<p>If you are using JDK9 or above, you can see the same result in jshell.</p>\n\n<pre><code>jshell&gt; String n=\"3020857508\"\nn ==&gt; \"3020857508\"\n\njshell&gt; Integer a = Integer.parseInt(n.trim())\n|  Exception java.lang.NumberFormatException: For input string: \"3020857508\"\n|        at NumberFormatException.forInputString (NumberFormatException.java:65)\n|        at Integer.parseInt (Integer.java:652)\n|        at Integer.parseInt (Integer.java:770)\n|        at (#2:1)\n\njshell&gt; Integer.MAX_VALUE\n$3 ==&gt; 2147483647\n\njshell&gt; Long a = Long.parseLong(n.trim());\na ==&gt; 3020857508\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438836033,"creation_date":1438835470,"answer_id":31846883,"question_id":31846838,"body_markdown":"The number you&#39;re trying to parse is larger than the max value of an `Integer`, you would have to use a larger data type like `Long`.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Integer max value: &quot; + Integer.MAX_VALUE);\r\n        System.out.println(&quot;Long max value: &quot; + Long.MAX_VALUE);\r\n        System.out.println();\r\n        \r\n        String n = &quot;3020857508&quot;;\r\n        Long a = Long.parseLong(n.trim());\r\n        System.out.println(a);\r\n    }\r\n\r\nResults:\r\n\r\n    Integer max value: 2147483647\r\n    Long max value: 9223372036854775807\r\n    \r\n    3020857508","title":"Integer.parseInt(String str) java.lang.NumberFormatException: Errors","body":"<p>The number you're trying to parse is larger than the max value of an <code>Integer</code>, you would have to use a larger data type like <code>Long</code>.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"Integer max value: \" + Integer.MAX_VALUE);\n    System.out.println(\"Long max value: \" + Long.MAX_VALUE);\n    System.out.println();\n\n    String n = \"3020857508\";\n    Long a = Long.parseLong(n.trim());\n    System.out.println(a);\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>Integer max value: 2147483647\nLong max value: 9223372036854775807\n\n3020857508\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017202,"reputation":5167,"user_id":4725592,"accept_rate":65,"display_name":"Harshit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438835499,"creation_date":1438835499,"answer_id":31846889,"question_id":31846838,"body_markdown":"You could use\r\n\r\n    String n=&quot;3020857508&quot;;\r\n    Long a = Long.valueOf(n.trim()).longValue();\r\n    System.out.println(a);\r\n\r\n\r\n\r\n","title":"Integer.parseInt(String str) java.lang.NumberFormatException: Errors","body":"<p>You could use</p>\n\n<pre><code>String n=\"3020857508\";\nLong a = Long.valueOf(n.trim()).longValue();\nSystem.out.println(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6344542,"reputation":165,"user_id":4925500,"display_name":"jtothebee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438835516,"creation_date":1438835516,"answer_id":31846891,"question_id":31846838,"body_markdown":"Just like what @Codebender said. Your value is out of range for int. Try using long/Long instead. ","title":"Integer.parseInt(String str) java.lang.NumberFormatException: Errors","body":"<p>Just like what @Codebender said. Your value is out of range for int. Try using long/Long instead. </p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1438835683,"creation_date":1438835683,"answer_id":31846929,"question_id":31846838,"body_markdown":"The largest number parseable as an `int` is `2147483647` (2&lt;sup&gt;31&lt;/sup&gt;-1), and the largest `long` is `9223372036854775807` (2&lt;sup&gt;63&lt;/sup&gt;-1), only about twice as long.\r\n\r\nTo parse arbitrarily long numbers, use:\r\n\r\n    import java.math.BigInteger;\r\n\r\n    BigInteger number = new BigInteger(str);\r\n","title":"Integer.parseInt(String str) java.lang.NumberFormatException: Errors","body":"<p>The largest number parseable as an <code>int</code> is <code>2147483647</code> (2<sup>31</sup>-1), and the largest <code>long</code> is <code>9223372036854775807</code> (2<sup>63</sup>-1), only about twice as long.</p>\n\n<p>To parse arbitrarily long numbers, use:</p>\n\n<pre><code>import java.math.BigInteger;\n\nBigInteger number = new BigInteger(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1095607,"reputation":1616,"user_id":1089258,"accept_rate":50,"display_name":"swapy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438835725,"creation_date":1438835725,"answer_id":31846937,"question_id":31846838,"body_markdown":"        String n=&quot;3020857508&quot;;\r\n    \tLong l = Long.parseLong(n.trim());\r\n    \tSystem.out.println(l);\r\n\r\nInteger MAX_VALUE : 2147483647,\r\nLong MAX_VALUE : 9223372036854775807\r\n\r\nAs string n will not fit in `Integer` after conversion we have to use `Long`. \r\n\r\nAnd if you are still not sure about range that can come in String. go with `BigInteger`where number is held in an `int[]`","title":"Integer.parseInt(String str) java.lang.NumberFormatException: Errors","body":"<pre><code>    String n=\"3020857508\";\n    Long l = Long.parseLong(n.trim());\n    System.out.println(l);\n</code></pre>\n\n<p>Integer MAX_VALUE : 2147483647,\nLong MAX_VALUE : 9223372036854775807</p>\n\n<p>As string n will not fit in <code>Integer</code> after conversion we have to use <code>Long</code>. </p>\n\n<p>And if you are still not sure about range that can come in String. go with <code>BigInteger</code>where number is held in an <code>int[]</code></p>\n"},{"tags":[],"owner":{"account_id":6147981,"reputation":1870,"user_id":4793343,"accept_rate":87,"display_name":"Piyush Mittal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438835811,"creation_date":1438835811,"answer_id":31846954,"question_id":31846838,"body_markdown":"In Java, the integer range is from -2,147,483,648 to 2,147,483,647 make sure your numeric value is between the same.","title":"Integer.parseInt(String str) java.lang.NumberFormatException: Errors","body":"<p>In Java, the integer range is from -2,147,483,648 to 2,147,483,647 make sure your numeric value is between the same.</p>\n"}],"owner":{"account_id":5161291,"reputation":147,"user_id":4132896,"accept_rate":50,"display_name":"manic bubble"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22215,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1664281488,"accepted_answer_id":31846875,"answer_count":8,"score":5,"last_activity_date":1664281598,"creation_date":1438835155,"question_id":31846838,"body_markdown":" I keep getting number format expectations, even though I&#39;m trimming the strings and they don&#39;t contain non numerical characters bizarrely it works for some numbers and not others. Below is an example of a string I get number format exception for. Also, any string starting with 0 e.g &quot;0208405223&quot;, is returned 208405223, there&#39;s no zero anymore is that supposed to happen?\r\n\r\n    String n=&quot;3020857508&quot;;\r\n    Integer a = Integer.parseInt(n.trim());\r\n    System.out.println(a);\r\nThis is the exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;3020857508&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n    \tat java.lang.Integer.parseInt(Integer.java:583)\r\n    \tat java.lang.Integer.parseInt(Integer.java:615)\r\n    \tat JavaBeans.Main.main(Main.java:15)","title":"Integer.parseInt(String str) java.lang.NumberFormatException: Errors","body":"<p>I keep getting number format expectations, even though I'm trimming the strings and they don't contain non numerical characters bizarrely it works for some numbers and not others. Below is an example of a string I get number format exception for. Also, any string starting with 0 e.g \"0208405223\", is returned 208405223, there's no zero anymore is that supposed to happen?</p>\n\n<pre><code>String n=\"3020857508\";\nInteger a = Integer.parseInt(n.trim());\nSystem.out.println(a);\n</code></pre>\n\n<p>This is the exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NumberFormatException: For input string: \"3020857508\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:583)\n    at java.lang.Integer.parseInt(Integer.java:615)\n    at JavaBeans.Main.main(Main.java:15)\n</code></pre>\n"},{"tags":["java","tomcat","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green绿色"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664281416,"creation_date":1664281416,"answer_id":73867523,"question_id":73862143,"body_markdown":"I managed to solve this issue by going back to Spring Boot version 2.3.9.RELEASE.","title":"Serving static resources with Tomcat: ResponseFacade.setContentLengthLong(J)V is abstract","body":"<p>I managed to solve this issue by going back to Spring Boot version 2.3.9.RELEASE.</p>\n"}],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green绿色"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664281416,"creation_date":1664250562,"question_id":73862143,"body_markdown":"I have a SpringBoot web service that is served via Tomcat version 8. Using the SpringBoot API is normal, but requesting static resources leads to the following error:\r\n\r\n```\r\n[ERROR] 2022-09-27 11:38:00,537 [http-bio-172.17.0.19-8080-exec-1]  [] - Servlet.service() for servlet [dispatcherServlet] threw exception -org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/].[dispatcherServlet]\r\njava.lang.AbstractMethodError: Method org/apache/catalina/connector/ResponseFacade.setContentLengthLong(J)V is abstract\r\n        at org.apache.catalina.connector.ResponseFacade.setContentLengthLong(ResponseFacade.java) ~[catalina.jar:7.0.99]\r\n        at javax.servlet.ServletResponseWrapper.setContentLengthLong(ServletResponseWrapper.java:135) ~[javax.servlet-api-4.0.1.jar:4.0.1]\r\n        at org.springframework.http.server.ServletServerHttpResponse.writeHeaders(ServletServerHttpResponse.java:130) ~[spring-web-5.3.9.jar:5.3.9]\r\n        at org.springframework.http.server.ServletServerHttpResponse.getBody(ServletServerHttpResponse.java:96) ~[spring-web-5.3.9.jar:5.3.9]\r\n        at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:137) ~[spring-web-5.3.9.jar:5.3.9]\r\n        at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:129) ~[spring-web-5.3.9.jar:5.3.9]\r\n        at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45) ~[spring-web-5.3.9.jar:5.3.9]\r\n        at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227) ~[spring-web-5.3.9.jar:5.3.9]\r\n        at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:555) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n        at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n        ...\r\n```\r\n\r\nIs there a way to solve this? I already tried to exclude the embedded Tomcat from `pom.xml`, which led to a compilation error and configured the document content root in Tomcat&#39;s `server.xml` to the path, which also led to the error above.","title":"Serving static resources with Tomcat: ResponseFacade.setContentLengthLong(J)V is abstract","body":"<p>I have a SpringBoot web service that is served via Tomcat version 8. Using the SpringBoot API is normal, but requesting static resources leads to the following error:</p>\n<pre><code>[ERROR] 2022-09-27 11:38:00,537 [http-bio-172.17.0.19-8080-exec-1]  [] - Servlet.service() for servlet [dispatcherServlet] threw exception -org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/].[dispatcherServlet]\njava.lang.AbstractMethodError: Method org/apache/catalina/connector/ResponseFacade.setContentLengthLong(J)V is abstract\n        at org.apache.catalina.connector.ResponseFacade.setContentLengthLong(ResponseFacade.java) ~[catalina.jar:7.0.99]\n        at javax.servlet.ServletResponseWrapper.setContentLengthLong(ServletResponseWrapper.java:135) ~[javax.servlet-api-4.0.1.jar:4.0.1]\n        at org.springframework.http.server.ServletServerHttpResponse.writeHeaders(ServletServerHttpResponse.java:130) ~[spring-web-5.3.9.jar:5.3.9]\n        at org.springframework.http.server.ServletServerHttpResponse.getBody(ServletServerHttpResponse.java:96) ~[spring-web-5.3.9.jar:5.3.9]\n        at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:137) ~[spring-web-5.3.9.jar:5.3.9]\n        at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:129) ~[spring-web-5.3.9.jar:5.3.9]\n        at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45) ~[spring-web-5.3.9.jar:5.3.9]\n        at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227) ~[spring-web-5.3.9.jar:5.3.9]\n        at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:555) ~[spring-webmvc-5.3.9.jar:5.3.9]\n        at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-5.3.9.jar:5.3.9]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\n        ...\n</code></pre>\n<p>Is there a way to solve this? I already tried to exclude the embedded Tomcat from <code>pom.xml</code>, which led to a compilation error and configured the document content root in Tomcat's <code>server.xml</code> to the path, which also led to the error above.</p>\n"},{"tags":["java","testing","jmeter","stress-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664281194,"creation_date":1664281194,"answer_id":73867462,"question_id":73867205,"body_markdown":"It&#39;s neither connected with JMeter or Java, it&#39;s your operating system who limits the maximum number of processes which can be created by a single user. I believe you should raise this question in the https://apple.stackexchange.com/ community.  \r\n\r\nCheck out [Mac OS X … “fork: Resource temporarily unavailable”][1] article for hints on how to increase the number. \r\n\r\n`sudo launchctl limit maxproc` command should give you the current limit and the possibility to amend it. \r\n\r\nMore information: [9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure][2]\r\n\r\n\r\n  [1]: http://blog.ghostinthemachines.com/2010/01/19/mac-os-x-fork-resource-temporarily-unavailable/\r\n  [2]: https://www.blazemeter.com/blog/jmeter-memory-profiling","title":"Unable to increase heap size for jmeter on mac M1","body":"<p>It's neither connected with JMeter or Java, it's your operating system who limits the maximum number of processes which can be created by a single user. I believe you should raise this question in the <a href=\"https://apple.stackexchange.com/\">https://apple.stackexchange.com/</a> community.</p>\n<p>Check out <a href=\"http://blog.ghostinthemachines.com/2010/01/19/mac-os-x-fork-resource-temporarily-unavailable/\" rel=\"nofollow noreferrer\">Mac OS X … “fork: Resource temporarily unavailable”</a> article for hints on how to increase the number.</p>\n<p><code>sudo launchctl limit maxproc</code> command should give you the current limit and the possibility to amend it.</p>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/jmeter-memory-profiling\" rel=\"nofollow noreferrer\">9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure</a></p>\n"}],"owner":{"account_id":13088541,"reputation":59,"user_id":9456788,"display_name":"Kumar Rounak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664281194,"creation_date":1664279958,"question_id":73867205,"body_markdown":"Whenever I am running more than 4000 threads, the jemter test run throws \r\n```Uncaught Exception java.lang.OutOfMemoryError: unable to create new native thread in thread Thread[StandardJMeterEngine,5,main]. See log file for details.```\r\n\r\nIs there a way to increase heap size of JMeter in Mac OSX? I have tried editing the jmeter.bat and jmter.sh file, but it didn&#39;t help.\r\n\r\n```set HEAP=-Xms1g -Xmx4g -XX:MaxMetaspaceSize=1024m```\r\n\r\n\r\nDoes any one know how to do it in Mac OSX. ","title":"Unable to increase heap size for jmeter on mac M1","body":"<p>Whenever I am running more than 4000 threads, the jemter test run throws\n<code>Uncaught Exception java.lang.OutOfMemoryError: unable to create new native thread in thread Thread[StandardJMeterEngine,5,main]. See log file for details.</code></p>\n<p>Is there a way to increase heap size of JMeter in Mac OSX? I have tried editing the jmeter.bat and jmter.sh file, but it didn't help.</p>\n<p><code>set HEAP=-Xms1g -Xmx4g -XX:MaxMetaspaceSize=1024m</code></p>\n<p>Does any one know how to do it in Mac OSX.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":11895795,"reputation":638,"user_id":8705275,"display_name":"twinklehawk"},"score":0,"creation_date":1516118435,"post_id":48285103,"comment_id":83554739,"body_markdown":"The error is saying that the retXML string does not contain valid XML. What does retXML contain?","body":"The error is saying that the retXML string does not contain valid XML. What does retXML contain?"},{"owner":{"account_id":6954204,"reputation":551,"user_id":5335804,"accept_rate":76,"display_name":"Tony"},"score":0,"creation_date":1516118968,"post_id":48285103,"comment_id":83555125,"body_markdown":"Please see amended infomation.","body":"Please see amended infomation."}],"answers":[{"tags":[],"owner":{"account_id":11895795,"reputation":638,"user_id":8705275,"display_name":"twinklehawk"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1516119375,"creation_date":1516119375,"answer_id":48285576,"question_id":48285103,"body_markdown":"From your code, it looks like your XML will end up as\r\n\r\n    &lt;Question ...&gt;&lt;/Question&gt;\r\n    &lt;Question ...&gt;&lt;/Question&gt;\r\n\r\nYou cannot have multiple root elements in an XML document. You could try wrapping all your Question elements in a root element, like\r\n\r\n    &lt;Questions&gt;\r\n        &lt;Question ...&gt;&lt;/Question&gt;\r\n        &lt;Question ...&gt;&lt;/Question&gt;\r\n    &lt;/Questions&gt;","title":"org.xml.sax.SAXParseException The markup in the document following the root element must be well-formed","body":"<p>From your code, it looks like your XML will end up as</p>\n\n<pre><code>&lt;Question ...&gt;&lt;/Question&gt;\n&lt;Question ...&gt;&lt;/Question&gt;\n</code></pre>\n\n<p>You cannot have multiple root elements in an XML document. You could try wrapping all your Question elements in a root element, like</p>\n\n<pre><code>&lt;Questions&gt;\n    &lt;Question ...&gt;&lt;/Question&gt;\n    &lt;Question ...&gt;&lt;/Question&gt;\n&lt;/Questions&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25353416,"reputation":11,"user_id":19169926,"display_name":"Nganga petero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664280863,"creation_date":1664280863,"answer_id":73867371,"question_id":48285103,"body_markdown":"Just ensure you only have one element as the root of the contents you are converting","title":"org.xml.sax.SAXParseException The markup in the document following the root element must be well-formed","body":"<p>Just ensure you only have one element as the root of the contents you are converting</p>\n"}],"owner":{"account_id":6954204,"reputation":551,"user_id":5335804,"accept_rate":76,"display_name":"Tony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21653,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48285576,"answer_count":2,"score":7,"last_activity_date":1664280863,"creation_date":1516117810,"question_id":48285103,"body_markdown":"I know there are some similar threads out there but none of them are any help to me, I&#39;m trying to create XML file via Java but I&#39;m seeing this error constantly on this line \r\n`doc = db.parse(is);`\r\n, can someone please tell me where am I going wrong ? \r\nError:-\r\n\r\n    Severe:   [Fatal Error] :2:2: The markup in the document following the root element must be well-formed.\r\n\tSevere:   org.xml.sax.SAXParseException; lineNumber: 2; columnNumber: 2; The markup in the document following the root element must be well-formed.\r\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:257)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:348)\r\n\tat com.digivote.digivote.XmlServlet.doPost(XmlServlet.java:194)\r\nMy code:\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        response.setContentType(&quot;text/html&quot;);        \r\n        String level = request.getParameter(&quot;level&quot;);\r\n        String add = request.getParameter(&quot;add&quot;);\r\n        String addCat = request.getParameter(&quot;addCat&quot;);\r\n        String addQuestions = request.getParameter(&quot;addQuestion&quot;);\r\n        String add_multiChoice = request.getParameter(&quot;add_multiChoice&quot;);\r\n        \r\n        try \r\n        {\r\n            DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n\r\n              // root elements\r\n            Document doc = db.newDocument();\r\n            Element rootElement = doc.createElement(&quot;XML&quot;);\r\n            doc.appendChild(rootElement);\r\n\r\n            /***** GeneratedSet ****/\r\n            Element genSet = doc.createElement(&quot;GeneratedSet&quot;);\r\n            rootElement.appendChild(genSet);\r\n\r\n            Attr genDate = doc.createAttribute(&quot;genDate&quot;);\r\n            genDate.setValue(&quot;11/01/2018&quot;);\r\n            genSet.setAttributeNode(genDate);\r\n\r\n            Attr genBy = doc.createAttribute(&quot;genBy&quot;);\r\n            genBy.setValue(&quot;Tom Jones&quot;);\r\n            genSet.setAttributeNode(genBy);\r\n\r\n            Attr lev = doc.createAttribute(&quot;level&quot;);\r\n            lev.setValue(level);\r\n            genSet.setAttributeNode(lev);\r\n\r\n            /****** Questions *****/\r\n            Element questions = doc.createElement(&quot;Questions&quot;);\r\n            genSet.appendChild(questions);\r\n\r\n            Attr noq = doc.createAttribute(&quot;Questions&quot;);\r\n            noq.setValue(addQuestions);\r\n            questions.setAttributeNode(noq);\r\n\r\n            Attr type = doc.createAttribute(&quot;Type&quot;);\r\n            type.setValue(add);\r\n            questions.setAttributeNode(type);\r\n\r\n            /****** Question *****/\r\n            int numOfQues = Integer.parseInt(addQuestions) ;\r\n            int leve = Integer.parseInt(level) ;\r\n            \r\n            String retXML = null;\r\n            if(add != null){\r\n                InputSource is = new InputSource();\r\n                genMaths gm = new genMaths();\r\n                retXML = gm.additionQ(leve, 2, numOfQues, 0);\r\n                is.setCharacterStream(new StringReader(retXML));\r\n                doc = db.parse(is);\r\n                //doc = db.parse(new InputSource(new StringReader(is.toString())));\r\n            }\r\n\t\t\t\tTransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n\t\t\t\tTransformer transformer = transformerFactory.newTransformer();\r\n\t\t\t\tDOMSource source = new DOMSource(doc);\r\n\t\t\t\tStreamResult result = new StreamResult(new File(&quot;C:\\\\Users\\\\xxxx\\\\Documents\\\\XML Files\\\\RandomQuestions.xml&quot;));\r\n\r\n\t\t\t\ttransformer.transform(source, result);\r\n\t\t\t\tSystem.out.println(&quot;File saved!&quot;);\r\n                \r\n        } catch (ParserConfigurationException | TransformerException pce) {} catch (SAXException ex) {\r\n            Logger.getLogger(XmlServlet.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n       }\r\n     }\r\nretXML:-\r\n\r\n    \t\tpublic String forwardQ ( int level, int operands, int operation, int questions, int type )\r\n\t\t{\r\n\t\t\tStringBuffer retXML = new StringBuffer ();\r\n\t\t\tfloat operand = 0;\r\n\t\t\tfloat answer = 0;\r\n\t\t\tint minVal = (int)getLevelMin(level);\r\n\t\t\tint maxVal = (int)getLevelMax(level);\r\n\t\t\t\r\n\t\t\tString addSign = &quot;&quot;;\r\n\r\n\t\t\tfor ( int j = 0; j &lt; questions; j++ )\r\n\t\t\t{\r\n\t\t\t\tretXML.append(&quot;&lt;Question Text=&#39;&quot;);\r\n\t\t\t\taddSign = &quot;&quot;;\r\n\r\n\t\t\t\tif ( operation == 1 )\r\n\t\t\t\t{\r\n\t\t\t\t\tanswer = 0;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tanswer = 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor ( int i = 0; i &lt; operands; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\toperand = randNum(minVal, maxVal);\r\n\t\t\t\t\tif ( operation == 1 )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanswer = answer + operand;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanswer = answer * operand;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tretXML.append( addSign + operand );\r\n\t\t\t\t\tif ( operation == 1 )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\taddSign = &quot; + &quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\taddSign = &quot; x &quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ( type == 1 )\r\n\t\t\t\t{\r\n\t\t\t\t\tretXML.append(&quot;&#39; Answer=&#39;&quot;+ answer + &quot;&#39;&gt;&quot;);            \r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tretXML.append(createMultiChoice(answer));\r\n\t\t\t\t}\r\n\t\t\t\tretXML.append(&quot;&lt;/Question&gt;&quot; + System.getProperty(&quot;line.separator&quot;));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn ( retXML.toString() );\r\n\t\t}\r\n\t\t\r\n\t\tpublic String additionQ ( int level, int operands, int questions, int type )\r\n\t\t{\r\n\t\t\treturn ( forwardQ ( level, operands, 1, questions, type ) );\r\n\t\t}","title":"org.xml.sax.SAXParseException The markup in the document following the root element must be well-formed","body":"<p>I know there are some similar threads out there but none of them are any help to me, I'm trying to create XML file via Java but I'm seeing this error constantly on this line \n<code>doc = db.parse(is);</code>\n, can someone please tell me where am I going wrong ? \nError:-</p>\n\n<pre><code>Severe:   [Fatal Error] :2:2: The markup in the document following the root element must be well-formed.\nSevere:   org.xml.sax.SAXParseException; lineNumber: 2; columnNumber: 2; The markup in the document following the root element must be well-formed.\nat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:257)\nat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:348)\nat com.digivote.digivote.XmlServlet.doPost(XmlServlet.java:194)\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>@Override\nprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n    response.setContentType(\"text/html\");        \n    String level = request.getParameter(\"level\");\n    String add = request.getParameter(\"add\");\n    String addCat = request.getParameter(\"addCat\");\n    String addQuestions = request.getParameter(\"addQuestion\");\n    String add_multiChoice = request.getParameter(\"add_multiChoice\");\n\n    try \n    {\n        DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n\n          // root elements\n        Document doc = db.newDocument();\n        Element rootElement = doc.createElement(\"XML\");\n        doc.appendChild(rootElement);\n\n        /***** GeneratedSet ****/\n        Element genSet = doc.createElement(\"GeneratedSet\");\n        rootElement.appendChild(genSet);\n\n        Attr genDate = doc.createAttribute(\"genDate\");\n        genDate.setValue(\"11/01/2018\");\n        genSet.setAttributeNode(genDate);\n\n        Attr genBy = doc.createAttribute(\"genBy\");\n        genBy.setValue(\"Tom Jones\");\n        genSet.setAttributeNode(genBy);\n\n        Attr lev = doc.createAttribute(\"level\");\n        lev.setValue(level);\n        genSet.setAttributeNode(lev);\n\n        /****** Questions *****/\n        Element questions = doc.createElement(\"Questions\");\n        genSet.appendChild(questions);\n\n        Attr noq = doc.createAttribute(\"Questions\");\n        noq.setValue(addQuestions);\n        questions.setAttributeNode(noq);\n\n        Attr type = doc.createAttribute(\"Type\");\n        type.setValue(add);\n        questions.setAttributeNode(type);\n\n        /****** Question *****/\n        int numOfQues = Integer.parseInt(addQuestions) ;\n        int leve = Integer.parseInt(level) ;\n\n        String retXML = null;\n        if(add != null){\n            InputSource is = new InputSource();\n            genMaths gm = new genMaths();\n            retXML = gm.additionQ(leve, 2, numOfQues, 0);\n            is.setCharacterStream(new StringReader(retXML));\n            doc = db.parse(is);\n            //doc = db.parse(new InputSource(new StringReader(is.toString())));\n        }\n            TransformerFactory transformerFactory = TransformerFactory.newInstance();\n            Transformer transformer = transformerFactory.newTransformer();\n            DOMSource source = new DOMSource(doc);\n            StreamResult result = new StreamResult(new File(\"C:\\\\Users\\\\xxxx\\\\Documents\\\\XML Files\\\\RandomQuestions.xml\"));\n\n            transformer.transform(source, result);\n            System.out.println(\"File saved!\");\n\n    } catch (ParserConfigurationException | TransformerException pce) {} catch (SAXException ex) {\n        Logger.getLogger(XmlServlet.class.getName()).log(Level.SEVERE, null, ex);\n    }\n   }\n }\n</code></pre>\n\n<p>retXML:-</p>\n\n<pre><code>        public String forwardQ ( int level, int operands, int operation, int questions, int type )\n    {\n        StringBuffer retXML = new StringBuffer ();\n        float operand = 0;\n        float answer = 0;\n        int minVal = (int)getLevelMin(level);\n        int maxVal = (int)getLevelMax(level);\n\n        String addSign = \"\";\n\n        for ( int j = 0; j &lt; questions; j++ )\n        {\n            retXML.append(\"&lt;Question Text='\");\n            addSign = \"\";\n\n            if ( operation == 1 )\n            {\n                answer = 0;\n            }\n            else\n            {\n                answer = 1;\n            }\n\n            for ( int i = 0; i &lt; operands; i++ )\n            {\n                operand = randNum(minVal, maxVal);\n                if ( operation == 1 )\n                {\n                    answer = answer + operand;\n                }\n                else\n                {\n                    answer = answer * operand;\n                }\n                retXML.append( addSign + operand );\n                if ( operation == 1 )\n                {\n                    addSign = \" + \";\n                }\n                else\n                {\n                    addSign = \" x \";\n                }\n            }\n\n            if ( type == 1 )\n            {\n                retXML.append(\"' Answer='\"+ answer + \"'&gt;\");            \n            }\n            else\n            {\n                retXML.append(createMultiChoice(answer));\n            }\n            retXML.append(\"&lt;/Question&gt;\" + System.getProperty(\"line.separator\"));\n        }\n\n        return ( retXML.toString() );\n    }\n\n    public String additionQ ( int level, int operands, int questions, int type )\n    {\n        return ( forwardQ ( level, operands, 1, questions, type ) );\n    }\n</code></pre>\n"},{"tags":["java","spring","google-cloud-pubsub","testcontainers"],"comments":[{"owner":{"account_id":5621248,"reputation":996,"user_id":4451010,"display_name":"Ilya Lapitan"},"score":0,"creation_date":1664246703,"post_id":73854090,"comment_id":130421863,"body_markdown":"Please, share source code for `com.mypackage.model.Consumer` class.","body":"Please, share source code for <code>com.mypackage.model.Consumer</code> class."},{"owner":{"account_id":5768727,"reputation":1920,"user_id":4552808,"accept_rate":86,"display_name":"Rlarroque"},"score":0,"creation_date":1664264557,"post_id":73854090,"comment_id":130425410,"body_markdown":"@IlyaLapitan I&#39;ve edited my question with the Consumer class, there are multiple other fields, I simplified the model for the sake of the simplicity of the question since I thought the mapping itself was not an issue. I&#39;ve also got lists of other POJOs and multiple dates as fields in Consumer.","body":"@IlyaLapitan I&#39;ve edited my question with the Consumer class, there are multiple other fields, I simplified the model for the sake of the simplicity of the question since I thought the mapping itself was not an issue. I&#39;ve also got lists of other POJOs and multiple dates as fields in Consumer."}],"answers":[{"tags":[],"owner":{"account_id":5768727,"reputation":1920,"user_id":4552808,"accept_rate":86,"display_name":"Rlarroque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664280834,"creation_date":1664280834,"answer_id":73867367,"question_id":73854090,"body_markdown":"I&#39;ve actually found the answer by looking deeper at [this documentation][1]. The issue came from the way I specified the payload when publishing my message to pubsub.\r\n\r\n    publisherTemplate.publish(&quot;My_Topic&quot;, ByteString.copyFromUtf8(&quot;{\\&quot;name\\&quot;: \\&quot;test\\&quot;}&quot;), headers)\r\n\r\n\r\n  [1]: https://www.testcontainers.org/modules/gcloud/#pubsub","title":"Deserialization issue using test container pubsub emulator","body":"<p>I've actually found the answer by looking deeper at <a href=\"https://www.testcontainers.org/modules/gcloud/#pubsub\" rel=\"nofollow noreferrer\">this documentation</a>. The issue came from the way I specified the payload when publishing my message to pubsub.</p>\n<pre><code>publisherTemplate.publish(&quot;My_Topic&quot;, ByteString.copyFromUtf8(&quot;{\\&quot;name\\&quot;: \\&quot;test\\&quot;}&quot;), headers)\n</code></pre>\n"}],"owner":{"account_id":5768727,"reputation":1920,"user_id":4552808,"accept_rate":86,"display_name":"Rlarroque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73867367,"answer_count":1,"score":5,"last_activity_date":1664280834,"creation_date":1664194945,"question_id":73854090,"body_markdown":"I&#39;m having an issue doing integration tests with my spring application. I&#39;m using testcontainer to setup a pubsub emulator:\r\n\r\n    @Container\r\n\tprivate static final PubSubEmulatorContainer pubsubEmulator =\r\n\t\tnew PubSubEmulatorContainer(DockerImageName.parse(&quot;gcr.io/google.com/cloudsdktool/cloud-sdk:317.0.0-emulators&quot;));\r\n\r\n\t@DynamicPropertySource\r\n\tstatic void emulatorProperties(DynamicPropertyRegistry registry) {\r\n\t\tregistry.add(&quot;spring.cloud.gcp.pubsub.emulator-host&quot;, pubsubEmulator::getEmulatorEndpoint);\r\n\t}\r\n\r\n\t@Bean\r\n\tCredentialsProvider googleCredentials() {\r\n\t\treturn NoCredentialsProvider.create();\r\n\t}\r\n\r\nI&#39;m publishing a message juste like that:\r\n\r\n    publisherTemplate.publish(&quot;My_Topic&quot;, &quot;{\\&quot;name\\&quot;: \\&quot;test\\&quot;}&quot;, headers)\r\n\r\nHere is my application configuration for pubsub and jackson:\r\n\r\n\t@Configuration\r\n    @RequiredArgsConstructor\r\n    public class PubSubConsumerConfiguration {\r\n\t\r\n\t    private final ConsumerRepository consumerRepository;\r\n\r\n        @Bean\r\n\t     public PubSubMessageConverter pubSubMessageConverter(ObjectMapper objectMapper) {\r\n\t\t    return new JacksonPubSubMessageConverter(objectMapper);\r\n\t    }\r\n\r\n        @Bean\r\n\t    public ObjectMapper objectMapper() {\r\n\t\t    ObjectMapper mapper = new ObjectMapper();\r\n\t\t    mapper.registerModule(new JavaTimeModule());\r\n\t\t    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n\t\t    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\t\t    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\t\t    return mapper;\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public MessageChannel inputMessageChannel() {\r\n\t    \treturn new PublishSubscribeChannel();\r\n\t    }\r\n\t\r\n\t    @Bean\r\n\t    public PubSubInboundChannelAdapter inboundChannelAdapter(MessageChannel inputMessageChannel, PubSubTemplate pubSubTemplate) {\r\n            PubSubInboundChannelAdapter adapter = new \r\n            PubSubInboundChannelAdapter(pubSubTemplate, &quot;my_sub&quot;);\r\n\t\t    adapter.setOutputChannel(messageChannel);\r\n\t\t    adapter.setAckMode(AckMode.MANUAL);\r\n\t\t    adapter.setPayloadType(Consumer.class);\r\n\t\t    return adapter;\r\n\t    }\r\n\t\r\n\t    @ServiceActivator(inputChannel = &quot;inputMessageChannel&quot;)\r\n\t    public void messageReceiver(\r\n\t\t    @Payload Consumer payload,\r\n\t\t    @Header(GcpPubSubHeaders.ORIGINAL_MESSAGE) BasicAcknowledgeablePubsubMessage message\r\n\t    ) {\r\n\r\n\t\t    consumerRepository.save(payload);\r\n\t\t    message.ack();\r\n\t    }\r\n    }\r\n\r\nI&#39;m defining a bean to setup jackson as the main way to deserialize messsage payload from the pubsub. Everythin works great using pubsub on GCP, the payload i&#39;m sending in the console is correctly deserialized and saved into the database. However in my integration tests with the test container version of the pubsub i&#39;m getting this error during deserialization: \r\n\r\n    com.google.cloud.spring.pubsub.support.converter.PubSubMessageConversionException: \r\n    JSON deserialization of an object of type com.mypackage.model.Consumer failed.; \r\n    nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: \r\n    Cannot construct instance of `com.mypackage.model.Consumer` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{&quot;name&quot;: &quot;test&quot;}&#39;)\r\n\r\nIs something wrong with my way of testing? \r\n\r\nEDIT : as asked by @Ilya here is a sample of the content of the class com.mypackage.model.Consumer, I&#39;ve tried with and without empty constructor etc.. :\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Consumer  {\r\n\r\n\t    private String name;\r\n\t    private ZonedDateTime deletedOn;\r\n        ...\r\n    }","title":"Deserialization issue using test container pubsub emulator","body":"<p>I'm having an issue doing integration tests with my spring application. I'm using testcontainer to setup a pubsub emulator:</p>\n<pre><code>@Container\nprivate static final PubSubEmulatorContainer pubsubEmulator =\n    new PubSubEmulatorContainer(DockerImageName.parse(&quot;gcr.io/google.com/cloudsdktool/cloud-sdk:317.0.0-emulators&quot;));\n\n@DynamicPropertySource\nstatic void emulatorProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;spring.cloud.gcp.pubsub.emulator-host&quot;, pubsubEmulator::getEmulatorEndpoint);\n}\n\n@Bean\nCredentialsProvider googleCredentials() {\n    return NoCredentialsProvider.create();\n}\n</code></pre>\n<p>I'm publishing a message juste like that:</p>\n<pre><code>publisherTemplate.publish(&quot;My_Topic&quot;, &quot;{\\&quot;name\\&quot;: \\&quot;test\\&quot;}&quot;, headers)\n</code></pre>\n<p>Here is my application configuration for pubsub and jackson:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class PubSubConsumerConfiguration {\n\n    private final ConsumerRepository consumerRepository;\n\n    @Bean\n     public PubSubMessageConverter pubSubMessageConverter(ObjectMapper objectMapper) {\n        return new JacksonPubSubMessageConverter(objectMapper);\n    }\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        return mapper;\n    }\n\n    @Bean\n    public MessageChannel inputMessageChannel() {\n        return new PublishSubscribeChannel();\n    }\n\n    @Bean\n    public PubSubInboundChannelAdapter inboundChannelAdapter(MessageChannel inputMessageChannel, PubSubTemplate pubSubTemplate) {\n        PubSubInboundChannelAdapter adapter = new \n        PubSubInboundChannelAdapter(pubSubTemplate, &quot;my_sub&quot;);\n        adapter.setOutputChannel(messageChannel);\n        adapter.setAckMode(AckMode.MANUAL);\n        adapter.setPayloadType(Consumer.class);\n        return adapter;\n    }\n\n    @ServiceActivator(inputChannel = &quot;inputMessageChannel&quot;)\n    public void messageReceiver(\n        @Payload Consumer payload,\n        @Header(GcpPubSubHeaders.ORIGINAL_MESSAGE) BasicAcknowledgeablePubsubMessage message\n    ) {\n\n        consumerRepository.save(payload);\n        message.ack();\n    }\n}\n</code></pre>\n<p>I'm defining a bean to setup jackson as the main way to deserialize messsage payload from the pubsub. Everythin works great using pubsub on GCP, the payload i'm sending in the console is correctly deserialized and saved into the database. However in my integration tests with the test container version of the pubsub i'm getting this error during deserialization:</p>\n<pre><code>com.google.cloud.spring.pubsub.support.converter.PubSubMessageConversionException: \nJSON deserialization of an object of type com.mypackage.model.Consumer failed.; \nnested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: \nCannot construct instance of `com.mypackage.model.Consumer` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{&quot;name&quot;: &quot;test&quot;}')\n</code></pre>\n<p>Is something wrong with my way of testing?</p>\n<p>EDIT : as asked by @Ilya here is a sample of the content of the class com.mypackage.model.Consumer, I've tried with and without empty constructor etc.. :</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Consumer  {\n\n    private String name;\n    private ZonedDateTime deletedOn;\n    ...\n}\n</code></pre>\n"},{"tags":["javascript","java","elasticsearch","elasticsearch-painless"],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664280660,"creation_date":1664280660,"answer_id":73867328,"question_id":73867177,"body_markdown":"The `_update_by_query` endpoint does not accept `script_fields`, you simply need to specify your script like this:\r\n\r\n    POST test_index/_update_by_query\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;match_all&quot;: {}\r\n      },\r\n      &quot;script&quot;: {\r\n          &quot;source&quot;: &quot;&quot;&quot;           \r\n            String replace(String word) {\r\n              String[] pieces = word.splitOnToken(&#39;file://whatstheGuess.intra/wining/Teams&#39;);\r\n              int lastElIndex = pieces.length - 2;\r\n              pieces[lastElIndex] = &#39;&#39;;\r\n              def list = Arrays.asList(pieces);\r\n              return String.join(&#39;&#39;,list);\r\n            }\r\n      \r\n            //usage sample\r\n            def path = replace(params[&#39;_source&#39;][&#39;d_path&#39;]);\r\n            boolean dum=false;\r\n            def path1,indexOfGet1,indexGet1,random;\r\n            for (item in doc[&#39;d_filesize&#39;])\r\n          {\r\n            path1 = params[&#39;_source&#39;][&#39;d_path&#39;];\r\n             indexOfGet1=path1.indexOf(&#39;Teams&#39;);\r\n             indexGet1 =path1.substring(indexOfGet1+6);\r\n             if(params.pathArray.contains(indexGet1)){\r\n              \r\n              ctx.op = &#39;delete&#39;;\r\n              //params.pathArray.remove(item);\r\n             }\r\n           \r\n          }\r\n         \r\n            params.pathArray.add(path);\r\n          \r\n      \r\n            return params.pathArray;\r\n        &quot;&quot;&quot;,\r\n        &quot;lang&quot;: &quot;painless&quot;,\r\n        &quot;params&quot;: {\r\n          &quot;pathArray&quot;: []\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Variable [ctx] is not defined when using inside source as script","body":"<p>The <code>_update_by_query</code> endpoint does not accept <code>script_fields</code>, you simply need to specify your script like this:</p>\n<pre><code>POST test_index/_update_by_query\n{\n  &quot;query&quot;: {\n    &quot;match_all&quot;: {}\n  },\n  &quot;script&quot;: {\n      &quot;source&quot;: &quot;&quot;&quot;           \n        String replace(String word) {\n          String[] pieces = word.splitOnToken('file://whatstheGuess.intra/wining/Teams');\n          int lastElIndex = pieces.length - 2;\n          pieces[lastElIndex] = '';\n          def list = Arrays.asList(pieces);\n          return String.join('',list);\n        }\n  \n        //usage sample\n        def path = replace(params['_source']['d_path']);\n        boolean dum=false;\n        def path1,indexOfGet1,indexGet1,random;\n        for (item in doc['d_filesize'])\n      {\n        path1 = params['_source']['d_path'];\n         indexOfGet1=path1.indexOf('Teams');\n         indexGet1 =path1.substring(indexOfGet1+6);\n         if(params.pathArray.contains(indexGet1)){\n          \n          ctx.op = 'delete';\n          //params.pathArray.remove(item);\n         }\n       \n      }\n     \n        params.pathArray.add(path);\n      \n  \n        return params.pathArray;\n    &quot;&quot;&quot;,\n    &quot;lang&quot;: &quot;painless&quot;,\n    &quot;params&quot;: {\n      &quot;pathArray&quot;: []\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16289004,"reputation":11,"user_id":11762946,"display_name":"JavaAnswer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664280660,"creation_date":1664279806,"question_id":73867177,"body_markdown":"    &quot;reason&quot; : &quot;compile error&quot;,\r\n    &quot;lang&quot; : &quot;painless&quot;,\r\n              &quot;caused_by&quot; : {\r\n                &quot;type&quot; : &quot;illegal_argument_exception&quot;,\r\n  &quot;reason&quot; : &quot;Variable [ctx] is not defined.&quot;\r\n \r\nBelow is the details\r\n             \r\n    \r\n    Script used\r\n    POST test_index/_update_by_query\r\n    {\r\n        &quot;query&quot;: {\r\n        &quot;match_all&quot;: {}\r\n      },\r\n      &quot;script_fields&quot;: {\r\n        &quot;dummy_data&quot;: {\r\n          &quot;script&quot;: {\r\n            &quot;source&quot;: &quot;&quot;&quot;\r\n            \r\n            String replace(String word) {\r\n              String[] pieces = word.splitOnToken(&#39;file://whatstheGuess.intra/wining/Teams&#39;);\r\n              int lastElIndex = pieces.length - 2;\r\n              pieces[lastElIndex] = &#39;&#39;;\r\n              def list = Arrays.asList(pieces);\r\n              return String.join(&#39;&#39;,list);\r\n            }\r\n      \r\n            //usage sample\r\n            def path = replace(params[&#39;_source&#39;][&#39;d_path&#39;]);\r\n            boolean dum=false;\r\n            def path1,indexOfGet1,indexGet1,random;\r\n            for (item in doc[&#39;d_filesize&#39;])\r\n          {\r\n            path1 = params[&#39;_source&#39;][&#39;d_path&#39;];\r\n             indexOfGet1=path1.indexOf(&#39;Teams&#39;);\r\n             indexGet1 =path1.substring(indexOfGet1+6);\r\n             if(params.pathArray.contains(indexGet1)){\r\n              \r\n              ctx.op = &#39;delete&#39;;\r\n              //params.pathArray.remove(item);\r\n             }\r\n           \r\n          }\r\n         \r\n            params.pathArray.add(path);\r\n          \r\n      \r\n            return params.pathArray;\r\n             &quot;&quot;&quot;,\r\n             &quot;lang&quot;: &quot;painless&quot;,\r\n            &quot;params&quot;: {\r\n              &quot;pathArray&quot;: []\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    Requirement is to first replace the part of string with empty&quot;&quot; , which is working , then storing the substring value after replacement into array and then a loop on every  document in ES index , if match then the matched value should be deleted from params array and the also the document as a whole should be deleted from index ,to implement it, I have tried using ctx.op=&#39;delete&#39; , which is not working , this has been implemented to remove some duplication\r\n    \r\n    On the other hand ,\r\n    POST test_index/_update_by_query\r\n    {\r\n      &quot;script&quot;: {\r\n        &quot;source&quot;: \r\n        \r\n        &quot;ctx.op = &#39;delete&#39;&quot;,\r\n        &quot;lang&quot;: &quot;painless&quot;\r\n        \r\n      },\r\n        &quot;query&quot;: {\r\n        &quot;match&quot;: {\r\n           &quot;d_title.keyword&quot; : &quot;1210011-Forms&quot;\r\n        }`enter code here`\r\n      }\r\n    }\r\nQuery :-\r\n    second script works fine , so why not ctx.op is working in my main script , when it has been defined in both scripts inside source only\r\n    What is the difference between defining &quot;source&quot; in both cases.\r\n    Any help would be great!","title":"Variable [ctx] is not defined when using inside source as script","body":"<pre><code>&quot;reason&quot; : &quot;compile error&quot;,\n&quot;lang&quot; : &quot;painless&quot;,\n          &quot;caused_by&quot; : {\n            &quot;type&quot; : &quot;illegal_argument_exception&quot;,\n</code></pre>\n<p>&quot;reason&quot; : &quot;Variable [ctx] is not defined.&quot;</p>\n<p>Below is the details</p>\n<pre><code>Script used\nPOST test_index/_update_by_query\n{\n    &quot;query&quot;: {\n    &quot;match_all&quot;: {}\n  },\n  &quot;script_fields&quot;: {\n    &quot;dummy_data&quot;: {\n      &quot;script&quot;: {\n        &quot;source&quot;: &quot;&quot;&quot;\n        \n        String replace(String word) {\n          String[] pieces = word.splitOnToken('file://whatstheGuess.intra/wining/Teams');\n          int lastElIndex = pieces.length - 2;\n          pieces[lastElIndex] = '';\n          def list = Arrays.asList(pieces);\n          return String.join('',list);\n        }\n  \n        //usage sample\n        def path = replace(params['_source']['d_path']);\n        boolean dum=false;\n        def path1,indexOfGet1,indexGet1,random;\n        for (item in doc['d_filesize'])\n      {\n        path1 = params['_source']['d_path'];\n         indexOfGet1=path1.indexOf('Teams');\n         indexGet1 =path1.substring(indexOfGet1+6);\n         if(params.pathArray.contains(indexGet1)){\n          \n          ctx.op = 'delete';\n          //params.pathArray.remove(item);\n         }\n       \n      }\n     \n        params.pathArray.add(path);\n      \n  \n        return params.pathArray;\n         &quot;&quot;&quot;,\n         &quot;lang&quot;: &quot;painless&quot;,\n        &quot;params&quot;: {\n          &quot;pathArray&quot;: []\n        }\n      }\n    }\n  }\n}\n\nRequirement is to first replace the part of string with empty&quot;&quot; , which is working , then storing the substring value after replacement into array and then a loop on every  document in ES index , if match then the matched value should be deleted from params array and the also the document as a whole should be deleted from index ,to implement it, I have tried using ctx.op='delete' , which is not working , this has been implemented to remove some duplication\n\nOn the other hand ,\nPOST test_index/_update_by_query\n{\n  &quot;script&quot;: {\n    &quot;source&quot;: \n    \n    &quot;ctx.op = 'delete'&quot;,\n    &quot;lang&quot;: &quot;painless&quot;\n    \n  },\n    &quot;query&quot;: {\n    &quot;match&quot;: {\n       &quot;d_title.keyword&quot; : &quot;1210011-Forms&quot;\n    }`enter code here`\n  }\n}\n</code></pre>\n<p>Query :-\nsecond script works fine , so why not ctx.op is working in my main script , when it has been defined in both scripts inside source only\nWhat is the difference between defining &quot;source&quot; in both cases.\nAny help would be great!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1000547,"reputation":4232,"user_id":1015495,"accept_rate":88,"display_name":"User1000547"},"score":1,"creation_date":1362000101,"post_id":15122617,"comment_id":21283261,"body_markdown":"Where are you getting the error? Are you sure it&#39;s not the other way around? [Oracle says](http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html) that `Math.pow()` takes doubles, you&#39;re giving it `ints`","body":"Where are you getting the error? Are you sure it&#39;s not the other way around? <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow noreferrer\">Oracle says</a> that <code>Math.pow()</code> takes doubles, you&#39;re giving it <code>ints</code>"},{"owner":{"account_id":1245537,"reputation":2911,"user_id":1207086,"accept_rate":95,"display_name":"SRy"},"score":0,"creation_date":1362000345,"post_id":15122617,"comment_id":21283382,"body_markdown":"declare `x` as `double x=...`","body":"declare <code>x</code> as <code>double x=...</code>"}],"answers":[{"tags":[],"owner":{"account_id":1142837,"reputation":13532,"user_id":1126273,"accept_rate":81,"display_name":"Bal&#225;zs &#201;des"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1664280549,"creation_date":1362000278,"answer_id":15122711,"question_id":15122617,"body_markdown":"If you take a look at the [documentation][1], it says, that `Math.pow()` expects two `doubles`, and returns a `double`. When you pass ints to this function, it means no harm, because casting (converting) an `int` to `double` means no loss. But when you assign the value to an `int`, it means, it can lose precision.\r\n\r\nSimply do this:\r\n\r\n    int x = (int)Math.pow(2,4);\r\n\r\nor\r\n\r\n    double x = Math.pow(2,4);\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#pow%28double,%20double%29","title":"Possible loss of precision","body":"<p>If you take a look at the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#pow%28double,%20double%29\" rel=\"nofollow noreferrer\">documentation</a>, it says, that <code>Math.pow()</code> expects two <code>doubles</code>, and returns a <code>double</code>. When you pass ints to this function, it means no harm, because casting (converting) an <code>int</code> to <code>double</code> means no loss. But when you assign the value to an <code>int</code>, it means, it can lose precision.</p>\n<p>Simply do this:</p>\n<pre><code>int x = (int)Math.pow(2,4);\n</code></pre>\n<p>or</p>\n<pre><code>double x = Math.pow(2,4);\n</code></pre>\n"}],"owner":{"account_id":2415160,"reputation":107,"user_id":2109359,"display_name":"Sandra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28042,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":15122711,"answer_count":1,"score":6,"last_activity_date":1664280549,"creation_date":1361999960,"question_id":15122617,"body_markdown":"I am trying to run this code in java and getting following error, required int found double.\r\n\r\n    public class UseMath{\r\n    public static void main(String[]args){\r\n      int x = Math.pow (2,4);\r\n    System.out.println (&quot;2 to the power of 4 is&quot; + x);\r\n\r\n     }\r\n    }\r\n\r\n","title":"Possible loss of precision","body":"<p>I am trying to run this code in java and getting following error, required int found double.</p>\n\n<pre><code>public class UseMath{\npublic static void main(String[]args){\n  int x = Math.pow (2,4);\nSystem.out.println (\"2 to the power of 4 is\" + x);\n\n }\n}\n</code></pre>\n"},{"tags":["java","ejb"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1664279553,"post_id":73866922,"comment_id":130430329,"body_markdown":"knittl has provided the right answer. Your original line actually has _two_ problems. One is using Mockito on something that isn&#39;t a mock. That should have triggered a different error, but `underTest.transform` is actually _called_, and that triggers the NPE first. If `underTest` would have been spied, the correct usage would have been `doReturn(&quot;test123&quot;).when(underTest).transform(message)`, as that will not call the actual `transform` message.","body":"knittl has provided the right answer. Your original line actually has <i>two</i> problems. One is using Mockito on something that isn&#39;t a mock. That should have triggered a different error, but <code>underTest.transform</code> is actually <i>called</i>, and that triggers the NPE first. If <code>underTest</code> would have been spied, the correct usage would have been <code>doReturn(&quot;test123&quot;).when(underTest).transform(message)</code>, as that will not call the actual <code>transform</code> message."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664278894,"creation_date":1664278894,"answer_id":73866984,"question_id":73866922,"body_markdown":"When you run `Mockito.when(underTest.transform(message)).thenReturn(&quot;test123&quot;)`, then Mockito must call `underTest.transform(message)`, which is a real method call (because Java is eagerly evaluated) _on your class under test_. But you should setup your _mock_ instead, not the class under test. You want:\r\n\r\n```\r\nMockito.when(transformer.transformMessage(anyString()))\r\n        .thenReturn(&quot;test123&quot;);\r\n```","title":"How to mock annotated private EJB field","body":"<p>When you run <code>Mockito.when(underTest.transform(message)).thenReturn(&quot;test123&quot;)</code>, then Mockito must call <code>underTest.transform(message)</code>, which is a real method call (because Java is eagerly evaluated) <em>on your class under test</em>. But you should setup your <em>mock</em> instead, not the class under test. You want:</p>\n<pre><code>Mockito.when(transformer.transformMessage(anyString()))\n        .thenReturn(&quot;test123&quot;);\n</code></pre>\n"}],"owner":{"account_id":14074874,"reputation":5,"user_id":10167447,"display_name":"exover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664278894,"creation_date":1664278612,"question_id":73866922,"body_markdown":"Im struggling with following problem:\r\n\r\n1. In our &quot;underTest&quot; Class we have  following field:\r\n\r\n```\r\n@EJB\r\nprivate Transformer transformer;\r\n```\r\n\r\n2. Method which I want to test calls this `transformer`:\r\n\r\n```\r\n public void writeMessage(Message message) {\r\n        String txtMessage = transformer.transformMessage(message);\r\n        }    \r\n```\r\n\r\nI want to mock `Transformer` class and whenever it calls `transformMessage` it will return some String, eg. &quot;test123&quot;\r\n\r\nI&#39;ve already tried to use:\r\n\r\n```\r\n    @InjectMocks\r\n    private UnderTest underTest = new UnderTest();\r\n    \r\n    @Mock\r\n    private Transformer transformer;\r\n    \r\n    @Before\r\n    public void setup() {\r\n        underTest .setTransformer(transformer);\r\n    }\r\n```\r\n\r\nAnd then: \r\n\r\n```\r\nMockito.when(underTest.transform(message)).thenReturn(&quot;test123&quot;)\r\n```\r\n\r\nBut I keep getting &quot;java.lang.NullPointerException&quot; in method transform.\r\n\r\nWe don&#39;t have PowerMockito in our Project, same as Spring. ","title":"How to mock annotated private EJB field","body":"<p>Im struggling with following problem:</p>\n<ol>\n<li>In our &quot;underTest&quot; Class we have  following field:</li>\n</ol>\n<pre><code>@EJB\nprivate Transformer transformer;\n</code></pre>\n<ol start=\"2\">\n<li>Method which I want to test calls this <code>transformer</code>:</li>\n</ol>\n<pre><code> public void writeMessage(Message message) {\n        String txtMessage = transformer.transformMessage(message);\n        }    \n</code></pre>\n<p>I want to mock <code>Transformer</code> class and whenever it calls <code>transformMessage</code> it will return some String, eg. &quot;test123&quot;</p>\n<p>I've already tried to use:</p>\n<pre><code>    @InjectMocks\n    private UnderTest underTest = new UnderTest();\n    \n    @Mock\n    private Transformer transformer;\n    \n    @Before\n    public void setup() {\n        underTest .setTransformer(transformer);\n    }\n</code></pre>\n<p>And then:</p>\n<pre><code>Mockito.when(underTest.transform(message)).thenReturn(&quot;test123&quot;)\n</code></pre>\n<p>But I keep getting &quot;java.lang.NullPointerException&quot; in method transform.</p>\n<p>We don't have PowerMockito in our Project, same as Spring.</p>\n"},{"tags":["java","spring","jhipster"],"answers":[{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664278776,"creation_date":1664210352,"answer_id":73857276,"question_id":73852433,"body_markdown":"No, you must modify manually the generated code or write a (local) blueprint to do so.\r\n\r\nKeeping your custom changes while re-generating can be done more easily by generating on a git branch and then merging to your main branch. \r\n\r\nWriting a blueprint is documented here: \r\nhttps://www.jhipster.tech/modules/creating-a-blueprint/","title":"How to set fetchType in entity generated from jdl","body":"<p>No, you must modify manually the generated code or write a (local) blueprint to do so.</p>\n<p>Keeping your custom changes while re-generating can be done more easily by generating on a git branch and then merging to your main branch.</p>\n<p>Writing a blueprint is documented here:\n<a href=\"https://www.jhipster.tech/modules/creating-a-blueprint/\" rel=\"nofollow noreferrer\">https://www.jhipster.tech/modules/creating-a-blueprint/</a></p>\n"}],"owner":{"account_id":20686847,"reputation":21,"user_id":15189063,"display_name":"Oladejo Olajide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664278776,"creation_date":1664186145,"question_id":73852433,"body_markdown":"I am generating an entity using JDL in Jhipster. I want to know how to add @OneToMany(mappedBy = &quot;lostAmount&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL) by default. Jhipster only generates it as @OneToMany(mappedBy = &quot;lostAmount&quot;) and If I manually add the fetchType and cascade, once I regenerate jhipster they will all be wiped out. \r\n\r\nIs there a way to make Jhipster do it automatically?","title":"How to set fetchType in entity generated from jdl","body":"<p>I am generating an entity using JDL in Jhipster. I want to know how to add @OneToMany(mappedBy = &quot;lostAmount&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL) by default. Jhipster only generates it as @OneToMany(mappedBy = &quot;lostAmount&quot;) and If I manually add the fetchType and cascade, once I regenerate jhipster they will all be wiped out.</p>\n<p>Is there a way to make Jhipster do it automatically?</p>\n"},{"tags":["java","eclipse","jaxb"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1664275969,"post_id":73866150,"comment_id":130429174,"body_markdown":"So what&#39;s your question?","body":"So what&#39;s your question?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1664276009,"post_id":73866150,"comment_id":130429185,"body_markdown":"JAXB is not included anymore in newer versions of Java, so it&#39;s expected that you have to add the API and an implementation JAR to the classpath if you&#39;re using a current Java version. See [my blog post](https://jesperdj.com/2018/09/30/jaxb-on-java-9-10-11-and-beyond/) for details.","body":"JAXB is not included anymore in newer versions of Java, so it&#39;s expected that you have to add the API and an implementation JAR to the classpath if you&#39;re using a current Java version. See <a href=\"https://jesperdj.com/2018/09/30/jaxb-on-java-9-10-11-and-beyond/\" rel=\"nofollow noreferrer\">my blog post</a> for details."},{"owner":{"account_id":26457014,"reputation":11,"user_id":20099484,"display_name":"errorrelativo"},"score":0,"creation_date":1664278143,"post_id":73866150,"comment_id":130429877,"body_markdown":"it seems that the EclipseLink MOXy option solved the problem","body":"it seems that the EclipseLink MOXy option solved the problem"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1664278200,"post_id":73866150,"comment_id":130429900,"body_markdown":"The problem was that you added the API, but not an implementation. That&#39;s the case for most APIs of JEE / Jakarta EE. MOXy is a JAXB implementation, that&#39;s why it worked.","body":"The problem was that you added the API, but not an implementation. That&#39;s the case for most APIs of JEE / Jakarta EE. MOXy is a JAXB implementation, that&#39;s why it worked."}],"answers":[{"tags":[],"owner":{"account_id":26457014,"reputation":11,"user_id":20099484,"display_name":"errorrelativo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664278175,"creation_date":1664277989,"answer_id":73866796,"question_id":73866150,"body_markdown":"It seems that error was solved following &quot;Specifying the EclipseLink MOXy Runtime&quot; instructions at [https://wiki.eclipse.org/EclipseLink/Examples/MOXy/GettingStarted/TheBasics][1] \r\n\r\n 1. adding eclipselink.jar to the project classpath\r\n 2. adding a jaxb.properties file at the package location with this content: &quot;javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory&quot;\r\n\r\n  [1]: https://The%20error%20was%20solved%20following%20%22Specifying%20the%20EclipseLink%20MOXy%20Runtime%22%20instructions%20at%20https://wiki.eclipse.org/EclipseLink/Examples/MOXy/GettingStarted/TheBasics%20First%20adding","title":"JAXB-API has not been found on module path or classpath","body":"<p>It seems that error was solved following &quot;Specifying the EclipseLink MOXy Runtime&quot; instructions at <a href=\"https://The%20error%20was%20solved%20following%20%22Specifying%20the%20EclipseLink%20MOXy%20Runtime%22%20instructions%20at%20https://wiki.eclipse.org/EclipseLink/Examples/MOXy/GettingStarted/TheBasics%20First%20adding\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/EclipseLink/Examples/MOXy/GettingStarted/TheBasics</a></p>\n<ol>\n<li>adding eclipselink.jar to the project classpath</li>\n<li>adding a jaxb.properties file at the package location with this content: &quot;javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory&quot;</li>\n</ol>\n"}],"owner":{"account_id":26457014,"reputation":11,"user_id":20099484,"display_name":"errorrelativo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664278175,"creation_date":1664274753,"question_id":73866150,"body_markdown":"How could I solve this?\r\n\r\nI&#39;m trying some Java code from a textbook (my first ever JAXB practice) in Eclipse. \r\n\r\nI get the following error at runtime:\r\n&gt; Exception in thread &quot;main&quot; javax.xml.bind.JAXBException:\r\n&gt; Implementation of JAXB-API has not been found on module path or\r\n&gt; classpath.\r\n&gt;  - with linked exception: [java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory] \tat\r\n&gt; javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278) \tat\r\n&gt; javax.xml.bind.ContextFinder.find(ContextFinder.java:421) \tat\r\n&gt; javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) \tat\r\n&gt; javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) \tat\r\n&gt; clasesjaxb.Ejemplo1_JAXB.main(Ejemplo1_JAXB.java:31) Caused by:\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; com.sun.xml.internal.bind.v2.ContextFactory \tat\r\n&gt; java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n&gt; \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n&gt; \tat\r\n&gt; javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\r\n&gt; \tat\r\n&gt; javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\r\n&gt; \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276)\r\n&gt; \t... 4 more\r\n\r\nI needed to add the jaxb-api-2.3.1.jar to the project classpath in order to the project classes to compile:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QDRzi.png","title":"JAXB-API has not been found on module path or classpath","body":"<p>How could I solve this?</p>\n<p>I'm trying some Java code from a textbook (my first ever JAXB practice) in Eclipse.</p>\n<p>I get the following error at runtime:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; javax.xml.bind.JAXBException:\nImplementation of JAXB-API has not been found on module path or\nclasspath.</p>\n<ul>\n<li>with linked exception: [java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]     at\njavax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278)  at\njavax.xml.bind.ContextFinder.find(ContextFinder.java:421)     at\njavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)  at\njavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)  at\nclasesjaxb.Ejemplo1_JAXB.main(Ejemplo1_JAXB.java:31) Caused by:\njava.lang.ClassNotFoundException:\ncom.sun.xml.internal.bind.v2.ContextFactory   at\njava.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat\njava.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat\njavax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\nat\njavax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276)\n... 4 more</li>\n</ul>\n</blockquote>\n<p>I needed to add the jaxb-api-2.3.1.jar to the project classpath in order to the project classes to compile:\n<a href=\"https://i.stack.imgur.com/QDRzi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-mvc","youtube-api","spring-webclient"],"comments":[{"owner":{"account_id":9593777,"reputation":3971,"user_id":7123660,"display_name":"Benjamin Loison"},"score":0,"creation_date":1664274259,"post_id":73865252,"comment_id":130428598,"body_markdown":"Please renew your YouTube Data API v3 key as you just leaked it.","body":"Please renew your YouTube Data API v3 key as you just leaked it."}],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664276960,"creation_date":1664276960,"answer_id":73866621,"question_id":73865252,"body_markdown":"In your URI string `&quot;/videos?part=snippet%2Cstatistics&amp;id=&quot;+id+&quot;&amp;key=&quot;+API_KEY` you have a character &quot;%&quot; which has a so called reserved meaning.  \r\n`uri(String uri, Object... uriVariables)` method of `UriSpec` class uses `DefaultUriBuilderFactory` [by default under the hood][1], which uses `UriComponentsBuilder`&#39;s `encode()` method [by default][2]. So, **symbol *&quot;%&quot;* is encoded to *&quot;%25&quot;*** in your URI.\r\n\r\nYou can check what symbols are encoded and to what [here][3].\r\n\r\nYou used *&quot;%2C&quot;* in your URI, so I believe you meant &quot;,&quot; there.  \r\nAs URL-encoding is the default behavior of `WebClient`, you can define you uri path in unencoded way with a simple coma like this:\r\n```\r\n.uri(&quot;/videos?part=snippet,statistics&amp;id=&quot;+id+&quot;&amp;key=&quot;+API_KEY)\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-webflux/src/main/java/org/springframework/web/reactive/function/client/DefaultWebClient.java#L219\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/util/DefaultUriBuilderFactory.java#L251\r\n  [3]: https://www.w3schools.com/tags/ref_urlencode.asp","title":"Spring WebClient automatically adding value to url","body":"<p>In your URI string <code>&quot;/videos?part=snippet%2Cstatistics&amp;id=&quot;+id+&quot;&amp;key=&quot;+API_KEY</code> you have a character &quot;%&quot; which has a so called reserved meaning.<br />\n<code>uri(String uri, Object... uriVariables)</code> method of <code>UriSpec</code> class uses <code>DefaultUriBuilderFactory</code> <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-webflux/src/main/java/org/springframework/web/reactive/function/client/DefaultWebClient.java#L219\" rel=\"nofollow noreferrer\">by default under the hood</a>, which uses <code>UriComponentsBuilder</code>'s <code>encode()</code> method <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/util/DefaultUriBuilderFactory.java#L251\" rel=\"nofollow noreferrer\">by default</a>. So, <strong>symbol <em>&quot;%&quot;</em> is encoded to <em>&quot;%25&quot;</em></strong> in your URI.</p>\n<p>You can check what symbols are encoded and to what <a href=\"https://www.w3schools.com/tags/ref_urlencode.asp\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You used <em>&quot;%2C&quot;</em> in your URI, so I believe you meant &quot;,&quot; there.<br />\nAs URL-encoding is the default behavior of <code>WebClient</code>, you can define you uri path in unencoded way with a simple coma like this:</p>\n<pre><code>.uri(&quot;/videos?part=snippet,statistics&amp;id=&quot;+id+&quot;&amp;key=&quot;+API_KEY)\n</code></pre>\n"}],"owner":{"account_id":24786044,"reputation":21,"user_id":18669284,"display_name":"Kien Nguyen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73866621,"answer_count":1,"score":0,"last_activity_date":1664278146,"creation_date":1664270816,"question_id":73865252,"body_markdown":"I&#39;m new in spring.\r\n\r\nI&#39;m trying to get data from youtube&#39;s api using webclient\r\n\r\nMy service layer look like this\r\n\r\n\r\n    @Service\r\n    public class YoutubeService implements YTB {\r\n    private WebClient webClient;\r\n    \r\n    private final String API_KEY=&quot;&quot;;\r\n    \r\n    public YoutubeService() {\r\n        webClient=WebClient.create(&quot;https://youtube.googleapis.com/youtube/v3/&quot;);\r\n    }\r\n\r\n    public YoutubeService(WebClient webClient) {\r\n        this.webClient = webClient;\r\n    }\r\n\r\n    public List&lt;youtubeData&gt; getData(String id){\r\n       \r\n        return webClient.get()\r\n                .uri(&quot;/videos?part=snippet%2Cstatistics&amp;id=&quot;+id+&quot;&amp;key=&quot;+API_KEY)\r\n                .retrieve()\r\n                .bodyToFlux(youtubeData.class)\r\n                .collectList()\r\n                .block();\r\n    }\r\n    }\r\n\r\nAnd my controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/ytbapi&quot;)\r\n    public class ytbController {\r\n\r\n    @Autowired\r\n    private YTB service;\r\n\r\n    @GetMapping(&quot;/getData/{id}&quot;)\r\n    public List&lt;youtubeData&gt; show(@PathVariable String id){\r\n        return service.getData(id);\r\n    }\r\n    }\r\n\r\nIt work fine when I set \r\n\r\n    uri(&quot;/videos?part=snippet&amp;id=&quot;+id+&quot;&amp;key=&quot;+API_KEY&quot;)\r\n\r\nBut when I change it to like above and run, I got HTTP Status 500\r\n\r\n&gt;Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest:\r\n&gt; 400 Bad Request from GET\r\n&gt; https://youtube.googleapis.com/youtube/v3/videos?part=snippet%252Cstatistics&amp;id=r9LqfLM93Hw&amp;key=AIzaSyDpPf8w8YN4O6KSiedVUwusiPhU-HP4Iek\r\n\r\nThe problem is something add 25 in this part: `snippet%252Cstatistics`\r\n\r\n How should I fix it?","title":"Spring WebClient automatically adding value to url","body":"<p>I'm new in spring.</p>\n<p>I'm trying to get data from youtube's api using webclient</p>\n<p>My service layer look like this</p>\n<pre><code>@Service\npublic class YoutubeService implements YTB {\nprivate WebClient webClient;\n\nprivate final String API_KEY=&quot;&quot;;\n\npublic YoutubeService() {\n    webClient=WebClient.create(&quot;https://youtube.googleapis.com/youtube/v3/&quot;);\n}\n\npublic YoutubeService(WebClient webClient) {\n    this.webClient = webClient;\n}\n\npublic List&lt;youtubeData&gt; getData(String id){\n   \n    return webClient.get()\n            .uri(&quot;/videos?part=snippet%2Cstatistics&amp;id=&quot;+id+&quot;&amp;key=&quot;+API_KEY)\n            .retrieve()\n            .bodyToFlux(youtubeData.class)\n            .collectList()\n            .block();\n}\n}\n</code></pre>\n<p>And my controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/ytbapi&quot;)\npublic class ytbController {\n\n@Autowired\nprivate YTB service;\n\n@GetMapping(&quot;/getData/{id}&quot;)\npublic List&lt;youtubeData&gt; show(@PathVariable String id){\n    return service.getData(id);\n}\n}\n</code></pre>\n<p>It work fine when I set</p>\n<pre><code>uri(&quot;/videos?part=snippet&amp;id=&quot;+id+&quot;&amp;key=&quot;+API_KEY&quot;)\n</code></pre>\n<p>But when I change it to like above and run, I got HTTP Status 500</p>\n<blockquote>\n<p>Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest:\n400 Bad Request from GET\n<a href=\"https://youtube.googleapis.com/youtube/v3/videos?part=snippet%252Cstatistics&amp;id=r9LqfLM93Hw&amp;key=AIzaSyDpPf8w8YN4O6KSiedVUwusiPhU-HP4Iek\" rel=\"nofollow noreferrer\">https://youtube.googleapis.com/youtube/v3/videos?part=snippet%252Cstatistics&amp;id=r9LqfLM93Hw&amp;key=AIzaSyDpPf8w8YN4O6KSiedVUwusiPhU-HP4Iek</a></p>\n</blockquote>\n<p>The problem is something add 25 in this part: <code>snippet%252Cstatistics</code></p>\n<p>How should I fix it?</p>\n"},{"tags":["java","pdf","svg","pdfbox","batik"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1664286451,"post_id":73866819,"comment_id":130433173,"body_markdown":"Yes PDFBox doesn&#39;t keep font information when printing. Historically this was because the java font engine was crappy.","body":"Yes PDFBox doesn&#39;t keep font information when printing. Historically this was because the java font engine was crappy."},{"owner":{"account_id":26457525,"reputation":11,"user_id":20099925,"display_name":"Chiaki"},"score":0,"creation_date":1664354244,"post_id":73866819,"comment_id":130449940,"body_markdown":"I see...but if I want to use java to generate svg from pdf, and there is text in it, what can I do?@TilmanHausherr","body":"I see...but if I want to use java to generate svg from pdf, and there is text in it, what can I do?@TilmanHausherr"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1664354874,"post_id":73866819,"comment_id":130450177,"body_markdown":"There&#39;s a guy who managed to use the java font engine for output, it&#39;s described here https://bugs.openjdk.org/browse/JDK-8265761 but it&#39;s not part of PDFBox, you need to have some understanding how PDFBox works inside.","body":"There&#39;s a guy who managed to use the java font engine for output, it&#39;s described here <a href=\"https://bugs.openjdk.org/browse/JDK-8265761\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8265761</a> but it&#39;s not part of PDFBox, you need to have some understanding how PDFBox works inside."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1664420441,"post_id":73866819,"comment_id":130469037,"body_markdown":"And this one https://github.com/AlexanderScherbatiy/pdfbox/commit/b806d44f9514a7b5fededfa49c98ad2858b93a92 from https://issues.apache.org/jira/browse/PDFBOX-5093","body":"And this one <a href=\"https://github.com/AlexanderScherbatiy/pdfbox/commit/b806d44f9514a7b5fededfa49c98ad2858b93a92\" rel=\"nofollow noreferrer\">github.com/AlexanderScherbatiy/pdfbox/commit/&hellip;</a> from <a href=\"https://issues.apache.org/jira/browse/PDFBOX-5093\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-5093</a>"},{"owner":{"account_id":26457525,"reputation":11,"user_id":20099925,"display_name":"Chiaki"},"score":0,"creation_date":1665388449,"post_id":73866819,"comment_id":130679888,"body_markdown":"@TilmanHausherr Another problem is that when there are pictures in the pdf I want to print, if I set dpi in printable, the entire pdf will be converted into pictures, and the generated svg file will be a&lt;image&gt;. However, if the dpi is not set, the image quality in the generated svg file will be poor if the method described in my description is used for printing. What can I do to improve the quality of the generated images without converting the entire pdf into a&lt;image&gt;.","body":"@TilmanHausherr Another problem is that when there are pictures in the pdf I want to print, if I set dpi in printable, the entire pdf will be converted into pictures, and the generated svg file will be a&lt;image&gt;. However, if the dpi is not set, the image quality in the generated svg file will be poor if the method described in my description is used for printing. What can I do to improve the quality of the generated images without converting the entire pdf into a&lt;image&gt;."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1665390145,"post_id":73866819,"comment_id":130680440,"body_markdown":"Maybe that new question is answered here: https://stackoverflow.com/questions/11234455/poor-image-quality-when-using-svgconverter-in-batik-to-convert-svg-to-png","body":"Maybe that new question is answered here: <a href=\"https://stackoverflow.com/questions/11234455/poor-image-quality-when-using-svgconverter-in-batik-to-convert-svg-to-png\" title=\"poor image quality when using svgconverter in batik to convert svg to png\">stackoverflow.com/questions/11234455/&hellip;</a>"},{"owner":{"account_id":26457525,"reputation":11,"user_id":20099925,"display_name":"Chiaki"},"score":0,"creation_date":1665394266,"post_id":73866819,"comment_id":130681879,"body_markdown":"@TilmanHausherr Thanks a lot, I can solve my problem by adding RenderingHints.Key【KEY_RESOLUTION_VARIANT】 to pdfPrintable","body":"@TilmanHausherr Thanks a lot, I can solve my problem by adding RenderingHints.Key【KEY_RESOLUTION_VARIANT】 to pdfPrintable"},{"owner":{"account_id":26457525,"reputation":11,"user_id":20099925,"display_name":"Chiaki"},"score":0,"creation_date":1672386435,"post_id":73866819,"comment_id":132279584,"body_markdown":"Hi @TilmanHausherr, sorry to bother you. But I have a problem. I used the pdfbox to print a Chinese pdf file on the mac, and there was no problem. Then I deploy the same code to the server, print the same pdf file, and the printed Chinese characters will become boxes. I want to know whether this is due to the lack of a corresponding font library on the server.","body":"Hi @TilmanHausherr, sorry to bother you. But I have a problem. I used the pdfbox to print a Chinese pdf file on the mac, and there was no problem. Then I deploy the same code to the server, print the same pdf file, and the printed Chinese characters will become boxes. I want to know whether this is due to the lack of a corresponding font library on the server."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1672391293,"post_id":73866819,"comment_id":132280558,"body_markdown":"Likely PDF without embedded fonts, and missing fonts on the server. Please install chinese fonts on the server. Check the logs, these mention that is missing.","body":"Likely PDF without embedded fonts, and missing fonts on the server. Please install chinese fonts on the server. Check the logs, these mention that is missing."},{"owner":{"account_id":26457525,"reputation":11,"user_id":20099925,"display_name":"Chiaki"},"score":0,"creation_date":1676353469,"post_id":73866819,"comment_id":133115105,"body_markdown":"Hi @TilmanHausherr, about your previous mention that PDFBox will not retain font information when printing, i wonder whether all information of Text will not be saved, or just font? Thanks","body":"Hi @TilmanHausherr, about your previous mention that PDFBox will not retain font information when printing, i wonder whether all information of Text will not be saved, or just font? Thanks"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1676364260,"post_id":73866819,"comment_id":133117149,"body_markdown":"The printing is just raster or vector graphics.","body":"The printing is just raster or vector graphics."}],"owner":{"account_id":26457525,"reputation":11,"user_id":20099925,"display_name":"Chiaki"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664278103,"creation_date":1664278103,"question_id":73866819,"body_markdown":"Use Apache pdfbox and batik to generate svg files, but all texts in the generated svg files become paths\r\nThis is\r\n\r\n    Printable page = new PDFPrintable(document);\r\n    SVGGraphics2D svgGenerator = new SVGGraphics2D(ctx, false);\r\n    page.print(svgGenerator, pageFormat, i);\r\n    svgGenerator.stream(svgFName,true);\r\n\r\nIf the svg file generated with pdfbox and batik cannot generate text What method do I need to use to generate an svg file from pdf using java, and text exists in the svg","title":"PDF2SVG:Use pdfbox and batik to generate svg files, but no text","body":"<p>Use Apache pdfbox and batik to generate svg files, but all texts in the generated svg files become paths\nThis is</p>\n<pre><code>Printable page = new PDFPrintable(document);\nSVGGraphics2D svgGenerator = new SVGGraphics2D(ctx, false);\npage.print(svgGenerator, pageFormat, i);\nsvgGenerator.stream(svgFName,true);\n</code></pre>\n<p>If the svg file generated with pdfbox and batik cannot generate text What method do I need to use to generate an svg file from pdf using java, and text exists in the svg</p>\n"},{"tags":["java","design-patterns","decorator","cdi"],"answers":[{"tags":[],"owner":{"account_id":1910816,"reputation":60,"user_id":1724676,"display_name":"p4w3l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664277676,"creation_date":1664277676,"answer_id":73866748,"question_id":73866747,"body_markdown":"Finally I created two clases to implement this:\r\n\r\n```\r\n@Dependent\r\npublic abstract class ElementDecorator&lt;E&gt; {\r\n\tpublic abstract void wrap( E elem );\r\n}\r\n```\r\nand\r\n```\r\n@Dependent\r\npublic class MyList&lt;E extends ElementDecorator&gt; extends AbstractList {\r\n\t\r\n\tprivate Log log = LogFactory.getLog( this.getClass() );\r\n\tprivate List list;\r\n\tprivate Class&lt;E&gt; clazz;\r\n\tprivate Annotation annotation;\r\n\t\r\n\tpublic MyList(){}\r\n\t\r\n\tpublic MyList( List oryList, Class&lt;E&gt; c ){\r\n\t\tlist = oryList;\r\n\t\tclazz = c;\r\n\t}\r\n\t\r\n\tpublic MyList( List oryList, Class&lt;E&gt; c, Annotation a ){\r\n\t\tlist = oryList;\r\n\t\tclazz = c;\r\n\t\tannotation = a;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic E get( int index ){\r\n\t\tif( annotation == null )\r\n\t\t\tannotation = new AnnotationLiteral&lt;Default&gt;() {};\r\n\t\tE element = null;\r\n\t\ttry{\r\n\t\t\telement = CDI.current().select( clazz, annotation ).get();\r\n\t\t\telement.wrap( list.get( index ) );\r\n\t\t}catch( Exception e ){\r\n\t\t\tlog.error( e.getMessage() );\r\n\t\t}\r\n\t\treturn element;\r\n\t}\r\n\t\r\n\tpublic int size(){\r\n\t\treturn list.size();\r\n\t}\r\n\r\n}\r\n```\r\nNow whenever I need a list of decorated elements I extend ElementDecorator with:\r\n```\r\n@Dependent\r\n@Default\r\npublic class AppointmentDecorator extends ElementDecorator&lt;Appointment&gt; implements Serializable {\r\n\t\r\n\tprivate Log log = LogFactory.getLog( this.getClass() );\r\n\tprivate @Inject SmCostDao smCostDao;\r\n\tprivate Appointment appointment;\r\n\t\r\n\t@Override\r\n\tpublic void wrap( Appointment a ){\r\n\t\tappointment = a;\r\n\t}\r\n\t\r\n\tpublic Appointment getAppointment(){\r\n\t\treturn appointment;\r\n\t}\r\n\t\r\n\tpublic String getCostCorrected(){\r\n\t\tSmCost smcost = smCostDao.findBy(appointment.getKey());\r\n\t\tsmcost.getCost();\r\n\t}\r\n\t\r\n}\r\n```\r\nand I can instantiate: MyList&lt;AppointmentDecorator&gt;( oryginalList, AppointmentDecorator )\r\n","title":"How to implement a list with decorated elements","body":"<p>Finally I created two clases to implement this:</p>\n<pre><code>@Dependent\npublic abstract class ElementDecorator&lt;E&gt; {\n    public abstract void wrap( E elem );\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Dependent\npublic class MyList&lt;E extends ElementDecorator&gt; extends AbstractList {\n    \n    private Log log = LogFactory.getLog( this.getClass() );\n    private List list;\n    private Class&lt;E&gt; clazz;\n    private Annotation annotation;\n    \n    public MyList(){}\n    \n    public MyList( List oryList, Class&lt;E&gt; c ){\n        list = oryList;\n        clazz = c;\n    }\n    \n    public MyList( List oryList, Class&lt;E&gt; c, Annotation a ){\n        list = oryList;\n        clazz = c;\n        annotation = a;\n    }\n    \n    @Override\n    public E get( int index ){\n        if( annotation == null )\n            annotation = new AnnotationLiteral&lt;Default&gt;() {};\n        E element = null;\n        try{\n            element = CDI.current().select( clazz, annotation ).get();\n            element.wrap( list.get( index ) );\n        }catch( Exception e ){\n            log.error( e.getMessage() );\n        }\n        return element;\n    }\n    \n    public int size(){\n        return list.size();\n    }\n\n}\n</code></pre>\n<p>Now whenever I need a list of decorated elements I extend ElementDecorator with:</p>\n<pre><code>@Dependent\n@Default\npublic class AppointmentDecorator extends ElementDecorator&lt;Appointment&gt; implements Serializable {\n    \n    private Log log = LogFactory.getLog( this.getClass() );\n    private @Inject SmCostDao smCostDao;\n    private Appointment appointment;\n    \n    @Override\n    public void wrap( Appointment a ){\n        appointment = a;\n    }\n    \n    public Appointment getAppointment(){\n        return appointment;\n    }\n    \n    public String getCostCorrected(){\n        SmCost smcost = smCostDao.findBy(appointment.getKey());\n        smcost.getCost();\n    }\n    \n}\n</code></pre>\n<p>and I can instantiate: MyList( oryginalList, AppointmentDecorator )</p>\n"}],"owner":{"account_id":1910816,"reputation":60,"user_id":1724676,"display_name":"p4w3l"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664277994,"creation_date":1664277676,"question_id":73866747,"body_markdown":"Having a result of REST or JPA query I have an often requirement to decorate items with some additional attributes that come from some other queries. To avoid coping and processing the list ( the result ) I am thinking about a runtime universal list decorator that contains items decorated at runtime. \r\n\r\nThe question: is there any standard pattern for that?\r\n\r\nExample: as a result of REST query I have list of people. I need to decorate each person with vacation quota.\r\n\r\nI searched occasionally for such pattern for many years but couldn&#39;t find anything.\r\n","title":"How to implement a list with decorated elements","body":"<p>Having a result of REST or JPA query I have an often requirement to decorate items with some additional attributes that come from some other queries. To avoid coping and processing the list ( the result ) I am thinking about a runtime universal list decorator that contains items decorated at runtime.</p>\n<p>The question: is there any standard pattern for that?</p>\n<p>Example: as a result of REST query I have list of people. I need to decorate each person with vacation quota.</p>\n<p>I searched occasionally for such pattern for many years but couldn't find anything.</p>\n"},{"tags":["java","google-tag-manager","google-analytics-api","google-analytics-4"],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664275997,"creation_date":1664275997,"answer_id":73866416,"question_id":73864343,"body_markdown":"Finally I found out how to do it. As an example for the tag and trigger I created:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\r\n    import com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\r\n    import com.google.analytics.data.v1beta.DateRange;\r\n    import com.google.analytics.data.v1beta.Dimension;\r\n    import com.google.analytics.data.v1beta.RunReportRequest;\r\n    import com.google.analytics.data.v1beta.RunReportResponse;\r\n    import com.google.api.gax.core.FixedCredentialsProvider;\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n    \r\n    import io.grpc.LoadBalancerRegistry;\r\n    import io.grpc.grpclb.GrpclbLoadBalancerProvider;\r\n    \r\n    public class Ga4DataAnalytics2 {\r\n    \r\n    \tstatic {\r\n    \t\tLoadBalancerRegistry.getDefaultRegistry().register( new GrpclbLoadBalancerProvider());\r\n    \t}\r\n    \tpublic static void main(String[] args) throws IOException {\r\n\r\n\t\tString credentialsJsonPath=&quot;path to credential.json&quot;;\r\n\t\tString propertyId = &quot;your property ID&quot;;\r\n\t\tFiles.createDirectories(Paths.get(credentialsJsonPath).getParent());\r\n\r\n\t\tGoogleCredentials credentials =\r\n\t\t\t\tGoogleCredentials.fromStream(new FileInputStream(credentialsJsonPath));\r\n\r\n\t\tBetaAnalyticsDataSettings betaAnalyticsDataSettings =\r\n\t\t\t\tBetaAnalyticsDataSettings.newBuilder()\r\n\t\t\t\t.setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n\t\t\t\t.build();    \r\n\r\n\t\ttry (BetaAnalyticsDataClient analyticsData =\r\n\t\t\t\tBetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {\r\n\t\t\tRunReportRequest request =\r\n\t\t\t\t\tRunReportRequest.newBuilder()\r\n\t\t\t\t\t.setProperty(&quot;properties/&quot; + propertyId)\r\n\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;linkUrl&quot;))\r\n\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;linkText&quot;)) \t\t\t\r\n\t\t\t\t\t.addDateRanges(DateRange.newBuilder().setStartDate(&quot;2022-09-25&quot;).setEndDate(&quot;2022-09-26&quot;))\r\n\t\t\t\t\t.build();\r\n\t\t\tRunReportResponse response = analyticsData.runReport(request);\r\n\t\t\tSystem.out.println(&quot;Report result:\\n&quot;+response);\r\n\t\t \r\n\t\t}\r\n\r\n\t}\r\n\r\n    }\r\n\r\n\r\nand why I am using `linkUrl` and `linkText` as dimensions, that is because my tag configuration was :\r\n [![My Tag Configuration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ECGKC.png","title":"How to read tag and their related triggers name/ value in google analytics 4 using java","body":"<p>Finally I found out how to do it. As an example for the tag and trigger I created:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\nimport com.google.analytics.data.v1beta.DateRange;\nimport com.google.analytics.data.v1beta.Dimension;\nimport com.google.analytics.data.v1beta.RunReportRequest;\nimport com.google.analytics.data.v1beta.RunReportResponse;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.auth.oauth2.GoogleCredentials;\n\nimport io.grpc.LoadBalancerRegistry;\nimport io.grpc.grpclb.GrpclbLoadBalancerProvider;\n\npublic class Ga4DataAnalytics2 {\n\n    static {\n        LoadBalancerRegistry.getDefaultRegistry().register( new GrpclbLoadBalancerProvider());\n    }\n    public static void main(String[] args) throws IOException {\n\n    String credentialsJsonPath=&quot;path to credential.json&quot;;\n    String propertyId = &quot;your property ID&quot;;\n    Files.createDirectories(Paths.get(credentialsJsonPath).getParent());\n\n    GoogleCredentials credentials =\n            GoogleCredentials.fromStream(new FileInputStream(credentialsJsonPath));\n\n    BetaAnalyticsDataSettings betaAnalyticsDataSettings =\n            BetaAnalyticsDataSettings.newBuilder()\n            .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n            .build();    \n\n    try (BetaAnalyticsDataClient analyticsData =\n            BetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {\n        RunReportRequest request =\n                RunReportRequest.newBuilder()\n                .setProperty(&quot;properties/&quot; + propertyId)\n                .addDimensions(Dimension.newBuilder().setName(&quot;linkUrl&quot;))\n                .addDimensions(Dimension.newBuilder().setName(&quot;linkText&quot;))          \n                .addDateRanges(DateRange.newBuilder().setStartDate(&quot;2022-09-25&quot;).setEndDate(&quot;2022-09-26&quot;))\n                .build();\n        RunReportResponse response = analyticsData.runReport(request);\n        System.out.println(&quot;Report result:\\n&quot;+response);\n     \n    }\n\n}\n\n}\n</code></pre>\n<p>and why I am using <code>linkUrl</code> and <code>linkText</code> as dimensions, that is because my tag configuration was :\n<a href=\"https://i.stack.imgur.com/ECGKC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ECGKC.png\" alt=\"My Tag Configuration\" /></a></p>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73866416,"answer_count":1,"score":0,"last_activity_date":1664277933,"creation_date":1664266366,"question_id":73864343,"body_markdown":"I am using [GA4 tutorial][1] to make an API call to `Google Analytics 4`and the code provided in that link is listing my data based on defined dimension and metrics.Suppose in `Google Tag Manager`, I have created a tag and relative triggers like in this photo:  [![Tag Trigger][2]][2]\r\nFor example if the user clicks on the menu bar and the `Click URL` contains specific URL, then the tag is fired. Of course it is possible to see this information from  [Google Tag Assistant][3].\r\n[![My variables in Google Tag Assistant, while the tag is triggered][4]][4]\r\n Now I want to know if it is possible to list these tags and triggers using `JAVA` as well or not?\r\nThank you in advance\r\n\r\n\r\n  [1]: https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries?hl=en_GB\r\n  [2]: https://i.stack.imgur.com/gG9qy.png\r\n  [3]: https://tagassistant.google.com/\r\n  [4]: https://i.stack.imgur.com/5mIN5.png","title":"How to read tag and their related triggers name/ value in google analytics 4 using java","body":"<p>I am using <a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries?hl=en_GB\" rel=\"nofollow noreferrer\">GA4 tutorial</a> to make an API call to <code>Google Analytics 4</code>and the code provided in that link is listing my data based on defined dimension and metrics.Suppose in <code>Google Tag Manager</code>, I have created a tag and relative triggers like in this photo:  <a href=\"https://i.stack.imgur.com/gG9qy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gG9qy.png\" alt=\"Tag Trigger\" /></a>\nFor example if the user clicks on the menu bar and the <code>Click URL</code> contains specific URL, then the tag is fired. Of course it is possible to see this information from  <a href=\"https://tagassistant.google.com/\" rel=\"nofollow noreferrer\">Google Tag Assistant</a>.\n<a href=\"https://i.stack.imgur.com/5mIN5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5mIN5.png\" alt=\"My variables in Google Tag Assistant, while the tag is triggered\" /></a>\nNow I want to know if it is possible to list these tags and triggers using <code>JAVA</code> as well or not?\nThank you in advance</p>\n"},{"tags":["java","eclipse","maven"],"answers":[{"tags":[],"owner":{"account_id":1344668,"reputation":3458,"user_id":1285655,"accept_rate":77,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1343643807,"creation_date":1343643807,"answer_id":11719577,"question_id":11719545,"body_markdown":"In the maven project directory try \r\n\r\n    mvn eclipse:eclipse\r\n\r\nthat may do the trick.","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>In the maven project directory try </p>\n\n<pre><code>mvn eclipse:eclipse\n</code></pre>\n\n<p>that may do the trick.</p>\n"},{"tags":[],"owner":{"account_id":191595,"reputation":3629,"user_id":432259,"accept_rate":94,"display_name":"Art Licis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343644140,"creation_date":1343644140,"answer_id":11719649,"question_id":11719545,"body_markdown":"Either turn your project into Eclipse project, using `mvn eclipse:eclipse`, or install Maven Integration for Eclipse plugins, like [m2eclipse][1], and import project as a Maven project.\r\n\r\n\r\n  [1]: http://www.eclipse.org/m2e/","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>Either turn your project into Eclipse project, using <code>mvn eclipse:eclipse</code>, or install Maven Integration for Eclipse plugins, like <a href=\"http://www.eclipse.org/m2e/\" rel=\"noreferrer\">m2eclipse</a>, and import project as a Maven project.</p>\n"},{"tags":[],"owner":{"account_id":294465,"reputation":535,"user_id":598377,"accept_rate":43,"display_name":"Kimberley Coburn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1363788062,"creation_date":1363788062,"answer_id":15525706,"question_id":11719545,"body_markdown":"I got the same error in a slightly different context (Indigo with m2eclipse):\r\n\r\nI imported a multi-module (1 jar module and 1 war module) maven project into Eclipse. Everything worked fine (clean, install OK) until I tried to add a new class to one of the modules and got the &quot;Source Folder is not a Java project&quot; error.\r\n\r\nI solved this by opening the properties on the parent project and selecting the following Project Facets:&lt;br&gt;\r\nJava&lt;br&gt;\r\nDynamic Web Module\r\n\r\nThis solved the problem. My guess is that, because the parent project for a multi-module project has pom packaging (&lt;code&gt;&amp;lt;packaging&amp;gt;pom&amp;lt;/packaging&amp;gt;&lt;/code&gt;), Eclipse doesn&#39;t know what kind of projects the parent project encloses (i.e. if the packaging were jar, it would know that it&#39;s a java project; if the packaging were war, it would know that it&#39;s a static or dynamic web module, etc.)\r\n\r\nThis is just my guess, but the fix worked for me, and it makes sense.","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>I got the same error in a slightly different context (Indigo with m2eclipse):</p>\n\n<p>I imported a multi-module (1 jar module and 1 war module) maven project into Eclipse. Everything worked fine (clean, install OK) until I tried to add a new class to one of the modules and got the \"Source Folder is not a Java project\" error.</p>\n\n<p>I solved this by opening the properties on the parent project and selecting the following Project Facets:<br>\nJava<br>\nDynamic Web Module</p>\n\n<p>This solved the problem. My guess is that, because the parent project for a multi-module project has pom packaging (<code>&lt;packaging&gt;pom&lt;/packaging&gt;</code>), Eclipse doesn't know what kind of projects the parent project encloses (i.e. if the packaging were jar, it would know that it's a java project; if the packaging were war, it would know that it's a static or dynamic web module, etc.)</p>\n\n<p>This is just my guess, but the fix worked for me, and it makes sense.</p>\n"},{"tags":[],"owner":{"account_id":2833509,"reputation":2007,"user_id":2434565,"display_name":"lkisac"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1421270188,"creation_date":1421270188,"answer_id":27952602,"question_id":11719545,"body_markdown":"I ran into the same issue and fixed it by converting my project to [faceted form][1].\r\n\r\nRight click your project &gt; *Properties* &gt; *Project Facets* &gt; *Convert to Faceted Form*, and select Java.\r\n\r\n![Java Project Facets][2]\r\n\r\n\r\n  [1]: https://eclipse.org/proposals/fproj/\r\n  [2]: http://i.stack.imgur.com/AoxTM.png\r\n","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>I ran into the same issue and fixed it by converting my project to <a href=\"https://eclipse.org/proposals/fproj/\" rel=\"noreferrer\">faceted form</a>.</p>\n\n<p>Right click your project > <em>Properties</em> > <em>Project Facets</em> > <em>Convert to Faceted Form</em>, and select Java.</p>\n\n<p><img src=\"https://i.stack.imgur.com/AoxTM.png\" alt=\"Java Project Facets\"></p>\n"},{"tags":[],"owner":{"account_id":4982623,"reputation":174,"user_id":4007115,"display_name":"Nagesh Paraddi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1454633653,"creation_date":1454629556,"answer_id":35213863,"question_id":11719545,"body_markdown":"I had the same problem... But you just need to update &quot;source Folder&quot; to correct source &quot;src/main/java&quot; from whatever mentioned in the pop up:\r\n\r\n[![Updating the Source Folder in Eclipse][1]]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/y5Oxc.png","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>I had the same problem... But you just need to update \"source Folder\" to correct source \"src/main/java\" from whatever mentioned in the pop up:</p>\n\n<p>[<img src=\"https://i.stack.imgur.com/y5Oxc.png\" alt=\"Updating the Source Folder in Eclipse\">]</p>\n"},{"tags":[],"owner":{"account_id":9030050,"reputation":189,"user_id":6728009,"display_name":"venkat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476733117,"creation_date":1476733117,"answer_id":40094327,"question_id":11719545,"body_markdown":"for those who already see java selected, uncheck and check it again. \r\nselect apply to override the existing setttings. finally it works ! \r\n\r\nRight click your project &gt; Properties &gt; Project Facets &gt; Convert to Faceted Form, and select Java","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>for those who already see java selected, uncheck and check it again. \nselect apply to override the existing setttings. finally it works ! </p>\n\n<p>Right click your project > Properties > Project Facets > Convert to Faceted Form, and select Java</p>\n"},{"tags":[],"owner":{"account_id":3637018,"reputation":31,"user_id":3032137,"display_name":"user3032137"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503261101,"creation_date":1503261101,"answer_id":45786534,"question_id":11719545,"body_markdown":"mvn eclipse:eclipse\r\n will resolve this problem. convert to maven project.","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>mvn eclipse:eclipse\n will resolve this problem. convert to maven project.</p>\n"},{"tags":[],"owner":{"account_id":14812039,"reputation":11,"user_id":10697370,"display_name":"Jason Rueda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543011545,"creation_date":1543011545,"answer_id":53453452,"question_id":11719545,"body_markdown":"I had this error because I tried to create a new Project by doing &quot;Ctrl+N&quot;, typing &quot;Project&quot; on the Wizard&#39;s input label and then just pushing &quot;Enter&quot; until it was created.\r\nI solved this by typing **&quot;Java Project&quot;** instead of just &quot;Project&quot;.\r\nYou can also create a JAVA PROJECT by going to File &gt; New &gt; Java Project.\r\n","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>I had this error because I tried to create a new Project by doing \"Ctrl+N\", typing \"Project\" on the Wizard's input label and then just pushing \"Enter\" until it was created.\nI solved this by typing <strong>\"Java Project\"</strong> instead of just \"Project\".\nYou can also create a JAVA PROJECT by going to File > New > Java Project.</p>\n"},{"tags":[],"owner":{"account_id":6207427,"reputation":815,"user_id":4834907,"display_name":"Pujan Shah"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583218706,"creation_date":1583218706,"answer_id":60501676,"question_id":11719545,"body_markdown":"Right click your `project &gt; Maven &gt; Update Project`\r\n\r\nThis step will add your project so the issue resolves easily.","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>Right click your <code>project &gt; Maven &gt; Update Project</code></p>\n\n<p>This step will add your project so the issue resolves easily.</p>\n"},{"tags":[],"owner":{"account_id":14647849,"reputation":21,"user_id":10578646,"display_name":"upcomingCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586958092,"creation_date":1586957011,"answer_id":61229870,"question_id":11719545,"body_markdown":"open cmd and run the following command in the folder of your project-\r\n```\r\nmvn eclipse:eclipse\r\n```\r\nThis did the trick for me\r\n\r\n\r\n\r\n\r\n","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>open cmd and run the following command in the folder of your project-</p>\n\n<pre><code>mvn eclipse:eclipse\n</code></pre>\n\n<p>This did the trick for me</p>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663321348,"creation_date":1663321348,"answer_id":73742899,"question_id":11719545,"body_markdown":"If you are having maven project and you are getting this error. You can follow below steps.\r\n\r\n1. Right click on the project and select **properties**.\r\n2. Then click on **Project Natures**\r\n3. In the dialogue box, click on **Add** and in the warning click on **OK**.\r\n4. Filter **java** in the popup box and click on **OK**.\r\n5. Click on **apply and close**.\r\n\r\nIt will add java nature to your maven project and you will not get this error anymore.","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>If you are having maven project and you are getting this error. You can follow below steps.</p>\n<ol>\n<li>Right click on the project and select <strong>properties</strong>.</li>\n<li>Then click on <strong>Project Natures</strong></li>\n<li>In the dialogue box, click on <strong>Add</strong> and in the warning click on <strong>OK</strong>.</li>\n<li>Filter <strong>java</strong> in the popup box and click on <strong>OK</strong>.</li>\n<li>Click on <strong>apply and close</strong>.</li>\n</ol>\n<p>It will add java nature to your maven project and you will not get this error anymore.</p>\n"},{"tags":[],"owner":{"account_id":26457615,"reputation":1,"user_id":20100002,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664277790,"creation_date":1664277790,"answer_id":73866765,"question_id":11719545,"body_markdown":"Right click your project &gt; Properties &gt; Project Facets &gt; Convert to Faceted Form, select Java,  and apply&amp;close","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>Right click your project &gt; Properties &gt; Project Facets &gt; Convert to Faceted Form, select Java,  and apply&amp;close</p>\n"}],"owner":{"account_id":934441,"reputation":4715,"user_id":965884,"accept_rate":88,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118184,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":11719577,"answer_count":12,"score":50,"last_activity_date":1664277790,"creation_date":1343643697,"question_id":11719545,"body_markdown":"I am trying to import maven project into eclipse 4.2 version.Its not importing the project properly. Its giving me error &quot;Source folder is not a Java project&quot; while I am trying to create a new call in it. Even ctrl+mouse click is also not working. I don&#39;t understand the problem. Even when I right click on project and select build path it shows me no action available. Anyone face the same issue\r\n","title":"&quot;Source folder is not a Java project&quot; error in eclipse","body":"<p>I am trying to import maven project into eclipse 4.2 version.Its not importing the project properly. Its giving me error \"Source folder is not a Java project\" while I am trying to create a new call in it. Even ctrl+mouse click is also not working. I don't understand the problem. Even when I right click on project and select build path it shows me no action available. Anyone face the same issue</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":3883769,"reputation":2892,"user_id":3215673,"accept_rate":58,"display_name":"TheBakker"},"score":0,"creation_date":1523779972,"post_id":49839808,"comment_id":86694380,"body_markdown":"Either you : 1) create a ClassB object which chain call would result in &quot;abc&quot;. 2) Or you mock a classB object but then you gotta chain mock every chained calls. \nThis is somewhat related to the Law of demeter.\n3) Or you create a method in classB that will do all those chained call, that way you only have to mock that one method","body":"Either you : 1) create a ClassB object which chain call would result in &quot;abc&quot;. 2) Or you mock a classB object but then you gotta chain mock every chained calls.  This is somewhat related to the Law of demeter. 3) Or you create a method in classB that will do all those chained call, that way you only have to mock that one method"},{"owner":{"account_id":4431100,"reputation":155,"user_id":3608245,"accept_rate":50,"display_name":"user3608245"},"score":0,"creation_date":1523787657,"post_id":49839808,"comment_id":86696244,"body_markdown":"I have edited the question and tried implementing the third way you told.\nBut its still giving me the NullPointerException.","body":"I have edited the question and tried implementing the third way you told. But its still giving me the NullPointerException."},{"owner":{"account_id":3883769,"reputation":2892,"user_id":3215673,"accept_rate":58,"display_name":"TheBakker"},"score":0,"creation_date":1523813149,"post_id":49839808,"comment_id":86704299,"body_markdown":"Can you post your whole test please?\nHow do you inject the `classAVar` in your test? You need to mock `ClassA.builder().build();` and make it return the mock object `classAVar`.","body":"Can you post your whole test please? How do you inject the <code>classAVar</code> in your test? You need to mock <code>ClassA.builder().build();</code> and make it return the mock object <code>classAVar</code>."}],"answers":[{"tags":[],"owner":{"account_id":9842817,"reputation":515,"user_id":7291343,"display_name":"Roni Koren Kurtberg"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1523780303,"creation_date":1523780303,"answer_id":49839887,"question_id":49839808,"body_markdown":"In `Mockito` you need to define the behavior of your mock objects.\r\n\r\n        //  create mock\r\n        ClassB product = mock(ClassB.class);\r\n\r\n        // Define the other mocks from your chain:\r\n        // X, Y, Z, ...\r\n\r\n        // define return value for method getProductData()\r\n        when(product.getProductData()).thenReturn(X);\r\n        when(X.offers()).thenReturn(Y);\r\n        when(Y.get(0)()).thenReturn(Z); // And so on.... until the last mock object will return &quot;abc&quot;\r\n\r\n","title":"How to mock chain of method calls using Mockito","body":"<p>In <code>Mockito</code> you need to define the behavior of your mock objects.</p>\n\n<pre><code>    //  create mock\n    ClassB product = mock(ClassB.class);\n\n    // Define the other mocks from your chain:\n    // X, Y, Z, ...\n\n    // define return value for method getProductData()\n    when(product.getProductData()).thenReturn(X);\n    when(X.offers()).thenReturn(Y);\n    when(Y.get(0)()).thenReturn(Z); // And so on.... until the last mock object will return \"abc\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523780464,"creation_date":1523780464,"answer_id":49839904,"question_id":49839808,"body_markdown":"You should  mock the dependencies that you want to isolate and not the data/model of your test.   \r\nMocking the parameter of the tested method will make it much less readable as you will have to mock many things.   \r\n\r\nYour chain of methods has multiple scenarios, so test each one of them by creating as fixture a B instance corresponding to each one of scenarios.","title":"How to mock chain of method calls using Mockito","body":"<p>You should  mock the dependencies that you want to isolate and not the data/model of your test.<br>\nMocking the parameter of the tested method will make it much less readable as you will have to mock many things.   </p>\n\n<p>Your chain of methods has multiple scenarios, so test each one of them by creating as fixture a B instance corresponding to each one of scenarios.</p>\n"},{"tags":[],"owner":{"account_id":6642206,"reputation":880,"user_id":5127598,"display_name":"valegians"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664277660,"creation_date":1664277660,"answer_id":73866743,"question_id":49839808,"body_markdown":"Mockito has a feature called *deep stubbing/mocking*. It lets you mock a chain of calls as a single mock.\r\n\r\n    Builder builder = Mockito.mock(Builder.class, Mockito.RETURNS_DEEP_STUBS);\r\n     \r\n    Mockito.when(\r\n        builder.newObject()\r\n               .withId(1)\r\n               .withName(&quot;My Object&quot;)\r\n               .withDescription(&quot;Some description&quot;)\r\n               .build()\r\n    ).thenReturn(anObject);\r\n     \r\n    // Use the mock...\r\n    someService.someServiceMethod(builder);\r\n\r\nHowever, it should be noted that deep mocking is generally discouraged.\r\nDeep in the mockito code you will find a comment that reads: *Every time a mock returns a mock a fairy dies*.\r\n\r\nSee this page for tips on when to use deep mocking, and why it is bad: https://tuhrig.de/everytime-a-mock-returns-a-mock-a-fairy-dies/\r\n\r\nI would especially advise against mocking each of the object/method calls individually as even the tiniest amount of refactoring is likely to break the test code.","title":"How to mock chain of method calls using Mockito","body":"<p>Mockito has a feature called <em>deep stubbing/mocking</em>. It lets you mock a chain of calls as a single mock.</p>\n<pre><code>Builder builder = Mockito.mock(Builder.class, Mockito.RETURNS_DEEP_STUBS);\n \nMockito.when(\n    builder.newObject()\n           .withId(1)\n           .withName(&quot;My Object&quot;)\n           .withDescription(&quot;Some description&quot;)\n           .build()\n).thenReturn(anObject);\n \n// Use the mock...\nsomeService.someServiceMethod(builder);\n</code></pre>\n<p>However, it should be noted that deep mocking is generally discouraged.\nDeep in the mockito code you will find a comment that reads: <em>Every time a mock returns a mock a fairy dies</em>.</p>\n<p>See this page for tips on when to use deep mocking, and why it is bad: <a href=\"https://tuhrig.de/everytime-a-mock-returns-a-mock-a-fairy-dies/\" rel=\"nofollow noreferrer\">https://tuhrig.de/everytime-a-mock-returns-a-mock-a-fairy-dies/</a></p>\n<p>I would especially advise against mocking each of the object/method calls individually as even the tiniest amount of refactoring is likely to break the test code.</p>\n"}],"owner":{"account_id":4431100,"reputation":155,"user_id":3608245,"accept_rate":50,"display_name":"user3608245"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10223,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":49839887,"answer_count":3,"score":6,"last_activity_date":1664277660,"creation_date":1523779723,"question_id":49839808,"body_markdown":"I have a function like this:\r\n\r\n        @Override\r\n            public ClassA createViewModel(ClassB product, ClassC classCVar)\r\n                    throws ModuleException\r\n            {\r\n                ClassA classAVar = ClassA.builder().build();\r\n                try {\r\n                    if (product != null &amp;&amp; product.getProductData() != null) {\r\n        \r\n                        String gl_name = product.getProductData().offers().get(0).productCategory().asProductCategory()\r\n                                .inlined().map(ProductCategory::glProductGroup).map(ProductCategory.GLProductGroup::symbol)\r\n                                .orElse(&quot;&quot;);\r\n                        classAVar.setName = gl_name;\r\n        \r\n                    }\r\n                    return classAVar;\r\n                } catch (Exception e) {\r\n                    // some lines of code.\r\n                }\r\nI have a line here like String gl_name = ............\r\nwhich contains a chain of method calls.\r\nNow I want to mock this function using Mockito and want a final result out of all these function calls simply like gl_name = &quot;abc&quot;;\r\n\r\nHow can I do this?\r\n\r\n\r\nI have created a new function and had put the chain of method calls inside it like this:\r\n\r\n    public String fetchGLNameFunction(ClassB product)\r\n        {\r\n            String gl_name_result = product.getProductData().offers().get(0).productCategory().asProductCategory()\r\n                    .inlined().map(ProductCategory::glProductGroup).map(ProductCategory.GLProductGroup::symbol)\r\n                    .orElse(&quot;&quot;);\r\n            return gl_name_result;\r\n        }\r\n\r\n\r\nAnd now I have tried to create a mock like this:\r\n\r\n    @Mock\r\n        private ClassA classAVar;\r\n    ..........\r\n    ............\r\n    \r\n    @Test\r\n        public void testfunction1() throws Exception\r\n        {\r\n            when(classAVar.fetchGLNameFromAmazonAPI(classBVar)).thenReturn(&quot;abc&quot;);\r\n\r\n\r\nIt is still giving me NullPointerException because it is executing my newly created function.","title":"How to mock chain of method calls using Mockito","body":"<p>I have a function like this:</p>\n\n<pre><code>    @Override\n        public ClassA createViewModel(ClassB product, ClassC classCVar)\n                throws ModuleException\n        {\n            ClassA classAVar = ClassA.builder().build();\n            try {\n                if (product != null &amp;&amp; product.getProductData() != null) {\n\n                    String gl_name = product.getProductData().offers().get(0).productCategory().asProductCategory()\n                            .inlined().map(ProductCategory::glProductGroup).map(ProductCategory.GLProductGroup::symbol)\n                            .orElse(\"\");\n                    classAVar.setName = gl_name;\n\n                }\n                return classAVar;\n            } catch (Exception e) {\n                // some lines of code.\n            }\n</code></pre>\n\n<p>I have a line here like String gl_name = ............\nwhich contains a chain of method calls.\nNow I want to mock this function using Mockito and want a final result out of all these function calls simply like gl_name = \"abc\";</p>\n\n<p>How can I do this?</p>\n\n<p>I have created a new function and had put the chain of method calls inside it like this:</p>\n\n<pre><code>public String fetchGLNameFunction(ClassB product)\n    {\n        String gl_name_result = product.getProductData().offers().get(0).productCategory().asProductCategory()\n                .inlined().map(ProductCategory::glProductGroup).map(ProductCategory.GLProductGroup::symbol)\n                .orElse(\"\");\n        return gl_name_result;\n    }\n</code></pre>\n\n<p>And now I have tried to create a mock like this:</p>\n\n<pre><code>@Mock\n    private ClassA classAVar;\n..........\n............\n\n@Test\n    public void testfunction1() throws Exception\n    {\n        when(classAVar.fetchGLNameFromAmazonAPI(classBVar)).thenReturn(\"abc\");\n</code></pre>\n\n<p>It is still giving me NullPointerException because it is executing my newly created function.</p>\n"},{"tags":["java","spring","spring-boot","testing","junit"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664276565,"post_id":73866510,"comment_id":130429367,"body_markdown":"... why would that need to be dynamic?","body":"... why would that need to be dynamic?"},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1664276857,"post_id":73866510,"comment_id":130429453,"body_markdown":"well, I does not need to be, but anyway I need to inject the property into the service...","body":"well, I does not need to be, but anyway I need to inject the property into the service..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664276926,"post_id":73866510,"comment_id":130429479,"body_markdown":"meaning it is dynamic. Why do you need that, that is the question.","body":"meaning it is dynamic. Why do you need that, that is the question."},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1664277364,"post_id":73866510,"comment_id":130429634,"body_markdown":"Well, the name will depend on the execution environment...","body":"Well, the name will depend on the execution environment..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664277923,"post_id":73866510,"comment_id":130429808,"body_markdown":"it&#39;s a unit test. even if it were an integration test, why would you execute this on different execution environments? please don&#39;t tell me you execute tests on your production environment","body":"it&#39;s a unit test. even if it were an integration test, why would you execute this on different execution environments? please don&#39;t tell me you execute tests on your production environment"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1664277632,"creation_date":1664277632,"answer_id":73866732,"question_id":73866510,"body_markdown":"Since you&#39;re using Mockito, Spring isn&#39;t really involved in bootstrapping your test so things like `@Value` or `application-test.yml` mean nothing. \r\n\r\nThe best solution is to add the `filename` property in `Service` to your constructor (like `repository`):\r\n\r\n```java\r\n@Service\r\npublic class Service {\r\n    private final String filename;\r\n    private final Repository repository;\r\n\r\n    // Now you don&#39;t need @RequiredArgConstructor\r\n    public Service(@Value(&quot;${filename}&quot;) String filename, Repository repository) {\r\n        this.filename = filename;\r\n        this.repository.repository;\r\n    }\r\n}\r\n```\r\n\r\nThis allows you to inject any value you want by calling the constructor in your test:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass ServiceTest {\r\n    @Mock\r\n    private Repository repository;\r\n\r\n    private Service service;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        // Now you don&#39;t need @InjectMocks\r\n        this.service = new Service(&quot;my beautiful name&quot;, repository);\r\n    }\r\n}\r\n```","title":"How to resolve @Value with resources in testing","body":"<p>Since you're using Mockito, Spring isn't really involved in bootstrapping your test so things like <code>@Value</code> or <code>application-test.yml</code> mean nothing.</p>\n<p>The best solution is to add the <code>filename</code> property in <code>Service</code> to your constructor (like <code>repository</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class Service {\n    private final String filename;\n    private final Repository repository;\n\n    // Now you don't need @RequiredArgConstructor\n    public Service(@Value(&quot;${filename}&quot;) String filename, Repository repository) {\n        this.filename = filename;\n        this.repository.repository;\n    }\n}\n</code></pre>\n<p>This allows you to inject any value you want by calling the constructor in your test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass ServiceTest {\n    @Mock\n    private Repository repository;\n\n    private Service service;\n\n    @BeforeEach\n    void setUp() {\n        // Now you don't need @InjectMocks\n        this.service = new Service(&quot;my beautiful name&quot;, repository);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73866732,"answer_count":1,"score":0,"last_activity_date":1664277632,"creation_date":1664276437,"question_id":73866510,"body_markdown":"I have the following service:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class Service {\r\n\r\n    @Value(&quot;${filename}&quot;)\r\n    private String filename;\r\n\r\n    private final Repository repository;\r\n\r\n}\r\n```\r\n\r\nAnd I&#39;m trying to test it, for which I&#39;d like to resolve `filename` with a specific value from `application-test.yml`:\r\n\r\n```\r\nfilename: a beautiful name\r\n```\r\n\r\nSo far, my test is the following:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass ServiceTest {\r\n\r\n    @Value(&quot;${filename}&quot;)\r\n    private String filename;\r\n\r\n    @Mock\r\n    private Repository repository;\r\n\r\n    @InjectMocks\r\n    private Service service;\r\n\r\n}\r\n```\r\n\r\nWhat can I do to initialize `filename` correctly?","title":"How to resolve @Value with resources in testing","body":"<p>I have the following service:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class Service {\n\n    @Value(&quot;${filename}&quot;)\n    private String filename;\n\n    private final Repository repository;\n\n}\n</code></pre>\n<p>And I'm trying to test it, for which I'd like to resolve <code>filename</code> with a specific value from <code>application-test.yml</code>:</p>\n<pre><code>filename: a beautiful name\n</code></pre>\n<p>So far, my test is the following:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ServiceTest {\n\n    @Value(&quot;${filename}&quot;)\n    private String filename;\n\n    @Mock\n    private Repository repository;\n\n    @InjectMocks\n    private Service service;\n\n}\n</code></pre>\n<p>What can I do to initialize <code>filename</code> correctly?</p>\n"},{"tags":["java","ssl","ldap","openldap"],"comments":[{"owner":{"account_id":85671,"reputation":40848,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1664306692,"post_id":73866686,"comment_id":130440374,"body_markdown":"What approach? What security issues?","body":"What approach? What security issues?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664329501,"post_id":73866686,"comment_id":130444746,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26457444,"reputation":1,"user_id":20099859,"display_name":"rohan1705"},"score":0,"creation_date":1673454684,"post_id":73866686,"comment_id":132504327,"body_markdown":"It was related to overriding SSL Socket functionality, if we do not want to validate for valid certificate than we can override it in LDAP creating customeSSLSocketFactory, But it is not good approach, btw thanks for your response.","body":"It was related to overriding SSL Socket functionality, if we do not want to validate for valid certificate than we can override it in LDAP creating customeSSLSocketFactory, But it is not good approach, btw thanks for your response."}],"owner":{"account_id":26457444,"reputation":1,"user_id":20099859,"display_name":"rohan1705"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664277385,"creation_date":1664277385,"question_id":73866686,"body_markdown":"I have found below article which provides a solution for &quot;javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]&quot;\r\n\r\nI have came across the same error while connecting to OpenLDAP server using SSL. Could someone provide a light on the security issues of the given approach ?\r\n\r\nArticle Link - &lt;https://stackoverflow.com/questions/67840668/javax-net-ssl-sslhandshakeexception-the-server-selected-protocol-version-tls10&gt;\r\n\r\n-Rohan\r\n\r\n","title":"Can someone explain the compromise with security if we use the given approach during SSL connection","body":"<p>I have found below article which provides a solution for &quot;javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]&quot;</p>\n<p>I have came across the same error while connecting to OpenLDAP server using SSL. Could someone provide a light on the security issues of the given approach ?</p>\n<p>Article Link - <a href=\"https://stackoverflow.com/questions/67840668/javax-net-ssl-sslhandshakeexception-the-server-selected-protocol-version-tls10\">javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]</a></p>\n<p>-Rohan</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664277189,"creation_date":1664277189,"answer_id":73866654,"question_id":73865409,"body_markdown":"[DatabaseReference#child(String pathString)][1] method, returns an object of type [DatabaseReference][2]. As you can see, there is no `getValue()` method inside this class. However, [DataSnapshot][3] class does contain a [getValue()][4].\r\n\r\nSo in order to check the value of a field in the Realtime Database against a particular value, you have to perform a query and attach a lister like this:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference userOneRef = db.child(&quot;Users/user1&quot;);\r\n\tQuery query = userOneRef.orderByChild(&quot;AmazonLink&quot;).equalTo(amazonLink.getText());\r\n    query.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tString amazonLink = ds.child(&quot;AmazonLink&quot;).getValue(String.class);\r\n\t\t\t\t\tLog.d(&quot;TAG&quot;, amazonLink);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nSee I have used now [DataSnapshot#getValue(Class&lt;T&gt; valueType)][5] which indeed allows me to read the value of the field in a String format.\r\n\r\nP.S. The above code will work, **only** if `amazonLink.getText()` will return the exact value of the field it exists in the database.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#child(java.lang.String)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot\r\n  [4]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue()\r\n  [5]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue(java.lang.Class%3CT%3E)","title":"I am unable to getValue() from a child in Firebase","body":"<p><a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#child(java.lang.String)\" rel=\"nofollow noreferrer\">DatabaseReference#child(String pathString)</a> method, returns an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference\" rel=\"nofollow noreferrer\">DatabaseReference</a>. As you can see, there is no <code>getValue()</code> method inside this class. However, <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot\" rel=\"nofollow noreferrer\">DataSnapshot</a> class does contain a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue()\" rel=\"nofollow noreferrer\">getValue()</a>.</p>\n<p>So in order to check the value of a field in the Realtime Database against a particular value, you have to perform a query and attach a lister like this:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference userOneRef = db.child(&quot;Users/user1&quot;);\nQuery query = userOneRef.orderByChild(&quot;AmazonLink&quot;).equalTo(amazonLink.getText());\nquery.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                String amazonLink = ds.child(&quot;AmazonLink&quot;).getValue(String.class);\n                Log.d(&quot;TAG&quot;, amazonLink);\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>See I have used now <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue(java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\">DataSnapshot#getValue(Class valueType)</a> which indeed allows me to read the value of the field in a String format.</p>\n<p>P.S. The above code will work, <strong>only</strong> if <code>amazonLink.getText()</code> will return the exact value of the field it exists in the database.</p>\n"}],"owner":{"display_name":"user19585404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73866654,"answer_count":1,"score":0,"last_activity_date":1664277222,"creation_date":1664271538,"question_id":73865409,"body_markdown":"I&#39;m new to Android and Firebase. I&#39;m trying to get a String from the Firebase and compare it with the given string.\r\n\r\nNow, when I use getValue(), it displays &quot;Cannot resolve method &#39;getValue&#39; in &#39;DatabaseReference&#39;&quot;\r\n\r\nHere is the structure of my database\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere the name after the node &quot;user1&quot; will change, so I am refining the database till user1\r\n\r\nEvery time a new folder is created by the app, a new node is created within user1 with the same structure \r\n\r\nNow, I want to compare each string in node &quot;AmazonLink&quot; with the given string \r\n\r\nHere is my code\r\n\r\n  \r\n\r\n      DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users/user1&quot;);\r\n    \r\n    \r\n    else if(databaseReference.child(&quot;AmazonLink&quot;).getValue().equals(amazonLink.getText()))\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MeRji.png","title":"I am unable to getValue() from a child in Firebase","body":"<p>I'm new to Android and Firebase. I'm trying to get a String from the Firebase and compare it with the given string.</p>\n<p>Now, when I use getValue(), it displays &quot;Cannot resolve method 'getValue' in 'DatabaseReference'&quot;</p>\n<p>Here is the structure of my database</p>\n<p><a href=\"https://i.stack.imgur.com/MeRji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MeRji.png\" alt=\"enter image description here\" /></a></p>\n<p>Here the name after the node &quot;user1&quot; will change, so I am refining the database till user1</p>\n<p>Every time a new folder is created by the app, a new node is created within user1 with the same structure</p>\n<p>Now, I want to compare each string in node &quot;AmazonLink&quot; with the given string</p>\n<p>Here is my code</p>\n<pre><code>  DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users/user1&quot;);\n\n\nelse if(databaseReference.child(&quot;AmazonLink&quot;).getValue().equals(amazonLink.getText()))\n</code></pre>\n"},{"tags":["java","android","messageformat"],"answers":[{"tags":[],"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384906536,"creation_date":1384900689,"answer_id":20083609,"question_id":20083538,"body_markdown":"In XML, you can use the entity  `&amp;#39;` for the apostrophe.\r\n\r\nHowever, the android resource does some further processing after parsing the XML and requires that apostrophes to be escaped with a backslash - regardless of whether they are represented as a entity or placed directly in the markup.  This has nothing to do with XML.  See [guidelines here](http://developer.android.com/guide/topics/resources/string-resource.html#FormattingAndStyling).  Yuck!  XML already offer complete encoding for all possible characters, it is a shame that the android system decided to put this unnecessary layer this on top.\r\n\r\nFinally, the formatting of a message for output requires that apostrophes be doubled because apostrophe is the escape character for [Java MessageFormat](http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html).  \r\n\r\n","title":"Java MessageFormat - issue escaping characters","body":"<p>In XML, you can use the entity  <code>&amp;#39;</code> for the apostrophe.</p>\n\n<p>However, the android resource does some further processing after parsing the XML and requires that apostrophes to be escaped with a backslash - regardless of whether they are represented as a entity or placed directly in the markup.  This has nothing to do with XML.  See <a href=\"http://developer.android.com/guide/topics/resources/string-resource.html#FormattingAndStyling\" rel=\"nofollow\">guidelines here</a>.  Yuck!  XML already offer complete encoding for all possible characters, it is a shame that the android system decided to put this unnecessary layer this on top.</p>\n\n<p>Finally, the formatting of a message for output requires that apostrophes be doubled because apostrophe is the escape character for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"nofollow\">Java MessageFormat</a>.  </p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1384900817,"creation_date":1384900817,"answer_id":20083643,"question_id":20083538,"body_markdown":"The file is an android resoure file, which mandates that every apostrophe is escaped with a preceding backslah. And MessageFormat requires every apostrophe in the pattern to be doubled. So you need two escaped apostrophes:\r\n\r\n    &lt;string name=&quot;unformatted_string&quot;&gt;Here\\&#39;\\&#39;s a song I\\&#39;\\&#39;ve created just for you\\! {0}&lt;/string&gt;","title":"Java MessageFormat - issue escaping characters","body":"<p>The file is an android resoure file, which mandates that every apostrophe is escaped with a preceding backslah. And MessageFormat requires every apostrophe in the pattern to be doubled. So you need two escaped apostrophes:</p>\n\n<pre><code>&lt;string name=\"unformatted_string\"&gt;Here\\'\\'s a song I\\'\\'ve created just for you\\! {0}&lt;/string&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1057595,"reputation":5076,"user_id":1059969,"display_name":"Agent_L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664276929,"creation_date":1664276929,"answer_id":73866615,"question_id":20083538,"body_markdown":"All sources (Google, Unicode) recommend to use single quote \\\\u2019 ’ for human-readable text, and limit usage of the ASCII apostrophe (\\\\u0027 &#39; ) to program syntax.\r\n\r\n&gt; RIGHT SINGLE QUOTATION MARK\\\r\n&gt; = single comma quotation mark\\\r\n&gt; • this is the preferred character to use for\r\napostrophe\r\n\r\n\r\nThis completely avoids problems like yours.\r\n\r\nhttps://en.wikipedia.org/wiki/Right_single_quotation_mark\r\n\r\nhttps://www.cl.cam.ac.uk/~mgk25/ucs/quotes.html","title":"Java MessageFormat - issue escaping characters","body":"<p>All sources (Google, Unicode) recommend to use single quote \\u2019 ’ for human-readable text, and limit usage of the ASCII apostrophe (\\u0027 ' ) to program syntax.</p>\n<blockquote>\n<p>RIGHT SINGLE QUOTATION MARK<br />\n= single comma quotation mark<br />\n• this is the preferred character to use for\napostrophe</p>\n</blockquote>\n<p>This completely avoids problems like yours.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Right_single_quotation_mark\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Right_single_quotation_mark</a></p>\n<p><a href=\"https://www.cl.cam.ac.uk/%7Emgk25/ucs/quotes.html\" rel=\"nofollow noreferrer\">https://www.cl.cam.ac.uk/~mgk25/ucs/quotes.html</a></p>\n"}],"owner":{"account_id":98127,"reputation":7386,"user_id":265791,"accept_rate":88,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1458,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20083643,"answer_count":3,"score":3,"last_activity_date":1664276929,"creation_date":1384900463,"question_id":20083538,"body_markdown":"I define a String in my strings.xml file:\r\n\r\n    &lt;string name=&quot;unformatted_string&quot;&gt;Here\\&#39;s a song I\\&#39;ve created just for you\\! {0}&lt;/string&gt;\r\n\r\nAnd then I fetch that string and using MessageFormat.format, I replace {0} with a URL:\r\n\r\n    String str = MessageFormat.format(getString(R.string.unformatted_string), url);\r\n\r\nWhen I print str, I see this:\r\n\r\n    Heres a song Ive created just for you http://www.google.com\r\n\r\nThe [MessageFormat documentation][1] states that rules for quotes are somewhat confusing, and then goes on to provide only a single example that only uses double-quotes. From my reading of the documentation, it seems my single-quote woes could be solved by using &#39;&#39;&#39;:\r\n\r\n    &lt;string name=&quot;unformatted_string&quot;&gt;Here&#39;&#39;&#39;s a song I&#39;&#39;&#39;ve created just for you\\! {0}&lt;/string&gt;\r\n\r\nBut the Android Resource Packaging step throws an error because I have an apostrophe not preceded by a `\\`. \r\n\r\nMy only requirement is that the string be defined in strings.xml (to support localization). \r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html","title":"Java MessageFormat - issue escaping characters","body":"<p>I define a String in my strings.xml file:</p>\n\n<pre><code>&lt;string name=\"unformatted_string\"&gt;Here\\'s a song I\\'ve created just for you\\! {0}&lt;/string&gt;\n</code></pre>\n\n<p>And then I fetch that string and using MessageFormat.format, I replace {0} with a URL:</p>\n\n<pre><code>String str = MessageFormat.format(getString(R.string.unformatted_string), url);\n</code></pre>\n\n<p>When I print str, I see this:</p>\n\n<pre><code>Heres a song Ive created just for you http://www.google.com\n</code></pre>\n\n<p>The <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html\" rel=\"nofollow\">MessageFormat documentation</a> states that rules for quotes are somewhat confusing, and then goes on to provide only a single example that only uses double-quotes. From my reading of the documentation, it seems my single-quote woes could be solved by using ''':</p>\n\n<pre><code>&lt;string name=\"unformatted_string\"&gt;Here'''s a song I'''ve created just for you\\! {0}&lt;/string&gt;\n</code></pre>\n\n<p>But the Android Resource Packaging step throws an error because I have an apostrophe not preceded by a <code>\\</code>. </p>\n\n<p>My only requirement is that the string be defined in strings.xml (to support localization). </p>\n"},{"tags":["java","android-room","android-room-migration"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666620644,"post_id":73866576,"comment_id":130974072,"body_markdown":"What connects those data?","body":"What connects those data?"},{"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"score":0,"creation_date":1666623604,"post_id":73866576,"comment_id":130975315,"body_markdown":"I am creating  a pdf using these datas. Currently I am using sqlitehelper class","body":"I am creating  a pdf using these datas. Currently I am using sqlitehelper class"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":1,"creation_date":1666624940,"post_id":73866576,"comment_id":130975860,"body_markdown":"You can interconnect those data just as before without LiveData, you will have to do it on a background thread/executor.","body":"You can interconnect those data just as before without LiveData, you will have to do it on a background thread/executor."},{"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"score":0,"creation_date":1666628261,"post_id":73866576,"comment_id":130977014,"body_markdown":"How can ai do it without Livedata using room dao?","body":"How can ai do it without Livedata using room dao?"}],"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664276707,"creation_date":1664276707,"question_id":73866576,"body_markdown":"Previously I am using Sqlite database with SqliteHelper class. As Room is much easier , I started to migrate that to AndroidX Room. \r\n\r\nIn sqlite database I get data as follows and process thereafter\r\n\r\n      ArrayList&lt;DCRData&gt; dcrData = new DataLoader(mCon).getDCRData(Year,Month);\r\n      ArrayList&lt;ExpensesData&gt; expensesData = new DataLoader(mCon).getExpensesData(Year,Month);\r\n      ArrayList&lt;MileageData&gt; mileage = new DataLoader(mCon).getFilteredMileageData(Year,Month);\r\n\r\nI used to interconnect those Arraylists and generate the data I want. The problem I have is , how can I do the same in Room? By using observer and LiveData, I am getting those data in different time. Can I get all thses mutliple data streams as above ? \r\n\r\nDo I need to use the following code multiple times?\r\n\r\n       LiveData&lt;List&lt;ItineraryData&gt;&gt; DayItinerary = new ItineraryRepo(mCon).getDayItinerary(Date, Month,Year);\r\n    \r\n        DayItinerary.observe((LifecycleOwner) mContext, new Observer&lt;List&lt;ItineraryData&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;ItineraryData&gt; models) {\r\n\r\n       \r\n            }\r\n        });\r\n\r\nThank you\r\n\r\n(I am a newbie to Androidx Room)","title":"Getting multiple Arraylists from multiple Room DAO","body":"<p>Previously I am using Sqlite database with SqliteHelper class. As Room is much easier , I started to migrate that to AndroidX Room.</p>\n<p>In sqlite database I get data as follows and process thereafter</p>\n<pre><code>  ArrayList&lt;DCRData&gt; dcrData = new DataLoader(mCon).getDCRData(Year,Month);\n  ArrayList&lt;ExpensesData&gt; expensesData = new DataLoader(mCon).getExpensesData(Year,Month);\n  ArrayList&lt;MileageData&gt; mileage = new DataLoader(mCon).getFilteredMileageData(Year,Month);\n</code></pre>\n<p>I used to interconnect those Arraylists and generate the data I want. The problem I have is , how can I do the same in Room? By using observer and LiveData, I am getting those data in different time. Can I get all thses mutliple data streams as above ?</p>\n<p>Do I need to use the following code multiple times?</p>\n<pre><code>   LiveData&lt;List&lt;ItineraryData&gt;&gt; DayItinerary = new ItineraryRepo(mCon).getDayItinerary(Date, Month,Year);\n\n    DayItinerary.observe((LifecycleOwner) mContext, new Observer&lt;List&lt;ItineraryData&gt;&gt;() {\n        @Override\n        public void onChanged(List&lt;ItineraryData&gt; models) {\n\n   \n        }\n    });\n</code></pre>\n<p>Thank you</p>\n<p>(I am a newbie to Androidx Room)</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":7206624,"reputation":554,"user_id":5502033,"accept_rate":50,"display_name":"Seng Wee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664276624,"creation_date":1664276624,"answer_id":73866555,"question_id":73767630,"body_markdown":"I finally found the answer to this problem, I didn&#39;t mock the body properly.\r\n\r\nI was doing this,\r\n\r\n`when(tallyService.createTally(req, exchange)).thenReturn(Mono.just(res));`\r\n\r\nwhen I should be doing this,\r\n\r\n`when(tallyService.createTally(any(NewTallyRequest.class), any(ServerWebExchange.class)).thenReturn(Mono.just(res));`\r\n\r\nThe body of the `ServerResponse` entity wasn&#39;t mocked hence I was faced with the error of returning an empty body.\r\n","title":"Mock flatMap ServerResponse Body in Spring Webflux","body":"<p>I finally found the answer to this problem, I didn't mock the body properly.</p>\n<p>I was doing this,</p>\n<p><code>when(tallyService.createTally(req, exchange)).thenReturn(Mono.just(res));</code></p>\n<p>when I should be doing this,</p>\n<p><code>when(tallyService.createTally(any(NewTallyRequest.class), any(ServerWebExchange.class)).thenReturn(Mono.just(res));</code></p>\n<p>The body of the <code>ServerResponse</code> entity wasn't mocked hence I was faced with the error of returning an empty body.</p>\n"}],"owner":{"account_id":7206624,"reputation":554,"user_id":5502033,"accept_rate":50,"display_name":"Seng Wee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73866555,"answer_count":1,"score":1,"last_activity_date":1664276624,"creation_date":1663552457,"question_id":73767630,"body_markdown":"I am running a Spring Webflux application, as such I am using flatMap to convert my request body. I have a Router that looks like this,\r\n\r\n    @Configuration\r\n    public class TallyRouter {\r\n    \tprivate static final String TALLY_BASE_URL = &quot;/admin/tally&quot;;\r\n    \tprivate static final String TALLY_ID_URL = &quot;/{tallyId}&quot;;\r\n    \r\n    \t@Bean\r\n    \tRouterFunction&lt;ServerResponse&gt; tallyRoutes(tallyHandler handler) {\r\n    \t\treturn RouterFunctions.route(GET(TALLY_CONFIG_BASE_URL + &quot;/active&quot;), handler::getActiveTally)\r\n    \t\t\t\t.andRoute(POST(TALLY_BASE_URL).and(accept(MediaType.APPLICATION_JSON)), handler::createTally);\r\n    }\r\n\r\nMy handler class looks like this,\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class TallyHandler {\r\n    \r\n    \t@Autowired\r\n    \tTallyService tallyService;\r\n    \r\n        private static final Logger logger = LogManager.getLogger(TallyHandler.class);\r\n    \r\n    \tpublic Mono&lt;ServerResponse&gt; createTally(ServerRequest request) {\r\n    \t\tMono&lt;NewTallyRequest&gt; req = request.bodyToMono(NewTallyRequest.class);\r\n    \t\treturn req\r\n    \t\t\t\t.doOnNext(result -&gt; logger.info(result))\r\n    \t\t\t\t.flatMap(a -&gt; ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\r\n    \t\t\t\t\t\t.body(tallyService.createTally(a, request.exchange()), String.class));   // the line of the code that is null\r\n    \t}\r\n    }\r\n\r\nThis is how my test looks like,\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @WebFluxTest\r\n    @ContextConfiguration(classes = { TallyHandler.class, TallyRouter.class })\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class TallyHandlerTest {\r\n    \r\n    \t@MockBean\r\n    \tWebClient webClient;\r\n    \r\n    \t@MockBean\r\n    \tTallyService tallyService;\r\n    \r\n    \t@Autowired\r\n    \tprivate ApplicationContext context;\r\n    \r\n    \tWebTestClient webTestClient;\r\n    \r\n        MockWebServer mockWebServer;\r\n    \r\n        String res = &quot;testRes&quot;;\r\n    \r\n    \t@BeforeEach\r\n    \tvoid before() throws IOException {\r\n    \r\n    \t\twebTestClient = WebTestClient.bindToApplicationContext(this.context).configureClient().build();\r\n    \r\n    \t\tmockWebServer = new MockWebServer();\r\n    \t\tmockWebServer.start();\r\n    \t}\r\n    \r\n    \t@AfterEach\r\n    \tvoid tearDown() throws IOException {\r\n    \t\tmockWebServer.close();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@WithMockUser(roles = &quot;ADMIN&quot;)\r\n    \tvoid createTallyTest_200() {\r\n    \t\tString url = &quot;/admin/tally&quot;;\r\n    \r\n    \t\tMockResponse mockedResponse = new MockResponse().setStatus(&quot;200&quot;).setBody(res);\r\n    \t\tmockWebServer.enqueue(mockedResponse);\r\n    \r\n    \t\tNewTallyRequest req = new NewTallyRequest();\r\n    \t\treq.setIsActive(isActive);\r\n    \r\n    \t\twhen(tallyService.createTally(req, exchange)).thenReturn(Mono.just(res));\r\n    \r\n    \t\twebTestClient.mutateWith(csrf()).post().uri(uriBuilder -&gt; uriBuilder.path(url).build())\r\n    \t\t\t\t.body(BodyInserters.fromValue(req)).exchange().expectStatus().is2xxSuccessful();\r\n    \t}\r\n    }\r\n\r\nError:\r\n\r\n    java.lang.IllegalArgumentException: &#39;publisher&#39; must not be null\r\n    \tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.ui.LogoutPageGeneratingWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.ui.LoginPageGeneratingWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.csrf.CsrfWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.csrf.CsrfWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ HTTP POST &quot;/admin/tally&quot; [ExceptionHandlingWebHandler]\r\n    Original Stack Trace:\r\n    \t\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n    \t\tat org.springframework.web.reactive.function.BodyInserters.fromPublisher(BodyInserters.java:182)\r\n    \t\tat org.springframework.web.reactive.function.server.DefaultServerResponseBuilder.body(DefaultServerResponseBuilder.java:233)\r\n    \t\tat my.company.app.handler.TallyHandler.lambda$1(TallyHandler.java:58)\r\n\r\n\r\nI have tried to mock the return value of the `tallyService` but the test is not picking it up in the body of `ServerResponse`. What should I do to mock that part of the code to return a correct `ServerResponse` value?","title":"Mock flatMap ServerResponse Body in Spring Webflux","body":"<p>I am running a Spring Webflux application, as such I am using flatMap to convert my request body. I have a Router that looks like this,</p>\n<pre><code>@Configuration\npublic class TallyRouter {\n    private static final String TALLY_BASE_URL = &quot;/admin/tally&quot;;\n    private static final String TALLY_ID_URL = &quot;/{tallyId}&quot;;\n\n    @Bean\n    RouterFunction&lt;ServerResponse&gt; tallyRoutes(tallyHandler handler) {\n        return RouterFunctions.route(GET(TALLY_CONFIG_BASE_URL + &quot;/active&quot;), handler::getActiveTally)\n                .andRoute(POST(TALLY_BASE_URL).and(accept(MediaType.APPLICATION_JSON)), handler::createTally);\n}\n</code></pre>\n<p>My handler class looks like this,</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class TallyHandler {\n\n    @Autowired\n    TallyService tallyService;\n\n    private static final Logger logger = LogManager.getLogger(TallyHandler.class);\n\n    public Mono&lt;ServerResponse&gt; createTally(ServerRequest request) {\n        Mono&lt;NewTallyRequest&gt; req = request.bodyToMono(NewTallyRequest.class);\n        return req\n                .doOnNext(result -&gt; logger.info(result))\n                .flatMap(a -&gt; ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\n                        .body(tallyService.createTally(a, request.exchange()), String.class));   // the line of the code that is null\n    }\n}\n</code></pre>\n<p>This is how my test looks like,</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@WebFluxTest\n@ContextConfiguration(classes = { TallyHandler.class, TallyRouter.class })\n@ActiveProfiles(&quot;test&quot;)\nclass TallyHandlerTest {\n\n    @MockBean\n    WebClient webClient;\n\n    @MockBean\n    TallyService tallyService;\n\n    @Autowired\n    private ApplicationContext context;\n\n    WebTestClient webTestClient;\n\n    MockWebServer mockWebServer;\n\n    String res = &quot;testRes&quot;;\n\n    @BeforeEach\n    void before() throws IOException {\n\n        webTestClient = WebTestClient.bindToApplicationContext(this.context).configureClient().build();\n\n        mockWebServer = new MockWebServer();\n        mockWebServer.start();\n    }\n\n    @AfterEach\n    void tearDown() throws IOException {\n        mockWebServer.close();\n    }\n\n    @Test\n    @WithMockUser(roles = &quot;ADMIN&quot;)\n    void createTallyTest_200() {\n        String url = &quot;/admin/tally&quot;;\n\n        MockResponse mockedResponse = new MockResponse().setStatus(&quot;200&quot;).setBody(res);\n        mockWebServer.enqueue(mockedResponse);\n\n        NewTallyRequest req = new NewTallyRequest();\n        req.setIsActive(isActive);\n\n        when(tallyService.createTally(req, exchange)).thenReturn(Mono.just(res));\n\n        webTestClient.mutateWith(csrf()).post().uri(uriBuilder -&gt; uriBuilder.path(url).build())\n                .body(BodyInserters.fromValue(req)).exchange().expectStatus().is2xxSuccessful();\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>java.lang.IllegalArgumentException: 'publisher' must not be null\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.ui.LogoutPageGeneratingWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.ui.LoginPageGeneratingWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.csrf.CsrfWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.csrf.CsrfWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ HTTP POST &quot;/admin/tally&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at org.springframework.util.Assert.notNull(Assert.java:201)\n        at org.springframework.web.reactive.function.BodyInserters.fromPublisher(BodyInserters.java:182)\n        at org.springframework.web.reactive.function.server.DefaultServerResponseBuilder.body(DefaultServerResponseBuilder.java:233)\n        at my.company.app.handler.TallyHandler.lambda$1(TallyHandler.java:58)\n</code></pre>\n<p>I have tried to mock the return value of the <code>tallyService</code> but the test is not picking it up in the body of <code>ServerResponse</code>. What should I do to mock that part of the code to return a correct <code>ServerResponse</code> value?</p>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1664289969,"post_id":73866474,"comment_id":130434663,"body_markdown":"Set the style for the paragraph to be a heading style?","body":"Set the style for the paragraph to be a heading style?"},{"owner":{"account_id":24366223,"reputation":23,"user_id":18299934,"display_name":"shtanddwn"},"score":0,"creation_date":1664290121,"post_id":73866474,"comment_id":130434721,"body_markdown":"@Gagravarr So Headings are normal paragraphs with runs and text with different style and changing the style would also include them in the table of content?","body":"@Gagravarr So Headings are normal paragraphs with runs and text with different style and changing the style would also include them in the table of content?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1664290678,"post_id":73866474,"comment_id":130434966,"body_markdown":"Word `.docx` files are a zip of XML files. Just setup a document how you want in Word, rename to `.zip`, unpack and look at what Word decided to stuff into the XML. Once you know how it is done by Word you know what to ask POI to recreate for your specific case","body":"Word <code>.docx</code> files are a zip of XML files. Just setup a document how you want in Word, rename to <code>.zip</code>, unpack and look at what Word decided to stuff into the XML. Once you know how it is done by Word you know what to ask POI to recreate for your specific case"}],"owner":{"account_id":24366223,"reputation":23,"user_id":18299934,"display_name":"shtanddwn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664276267,"creation_date":1664276267,"question_id":73866474,"body_markdown":"I am creating the content of a docx file and try to have headings above tables I create. I currently create the text like that:\r\n```\r\nXWPFParagraph newParagraph = document.insertNewParagraph(cursor);\r\nXWPFRun run = newParagraph.createRun();\r\nrun.setText(headingCounter + &quot;: Heading&quot;);\r\n```\r\nMy problem is that this is a normal text and not a heading which also leads to the text not being shown in the table of content. How can I solve this?","title":"Apache POI set Heading","body":"<p>I am creating the content of a docx file and try to have headings above tables I create. I currently create the text like that:</p>\n<pre><code>XWPFParagraph newParagraph = document.insertNewParagraph(cursor);\nXWPFRun run = newParagraph.createRun();\nrun.setText(headingCounter + &quot;: Heading&quot;);\n</code></pre>\n<p>My problem is that this is a normal text and not a heading which also leads to the text not being shown in the table of content. How can I solve this?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1663351565,"post_id":73747736,"comment_id":130227364,"body_markdown":"`I really need the (id_table1, pk2) to be the key` - No you don&#39;t. You already have a primary key in table2.","body":"<code>I really need the (id_table1, pk2) to be the key</code> - No you don&#39;t. You already have a primary key in table2."},{"owner":{"account_id":26356543,"reputation":11,"user_id":20013443,"display_name":"Gilles Schorter"},"score":0,"creation_date":1663488881,"post_id":73747736,"comment_id":130248115,"body_markdown":"Thank you @K.Nicholas for answering my question but I do need the tuple (id_table1, pk2) to be unique not pk2 (I should have named the tuple (pfk1, pk2))\n\nI could also have another pk in table2 to avoid the tuple but that means that the tuple (id_table1, pk2) will not be unique. That bothers me but if I have no other choice I will do that and make sure the database is filled respecting this constraint","body":"Thank you @K.Nicholas for answering my question but I do need the tuple (id_table1, pk2) to be unique not pk2 (I should have named the tuple (pfk1, pk2))  I could also have another pk in table2 to avoid the tuple but that means that the tuple (id_table1, pk2) will not be unique. That bothers me but if I have no other choice I will do that and make sure the database is filled respecting this constraint"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664275941,"creation_date":1664275941,"answer_id":73866400,"question_id":73747736,"body_markdown":"How about mapping it like this instead?\r\n\r\n```java\r\n@Entity(name = &quot;table1&quot;)\r\npublic class Table1 {\r\n\r\n  @Id\r\n  private Long id;\r\n\r\n  private String param1;\r\n\r\n  @ElementCollection\r\n  @CollectionTable(name = &quot;table2&quot;)\r\n  @JoinColumn(name = &quot;id_table1&quot;)\r\n  @MapKeyColumn(name = &quot;pk2&quot;)\r\n  private Map&lt;String, Table2&gt; table2Elements;\r\n\r\n  // constructors, getters, setters…\r\n}\r\n@Embeddable\r\npublic class Table2 {\r\n\r\n  private String param2;\r\n\r\n}\r\n```\r\n\r\nThis way, you can use the database schema that you seem to want and a model that fits the schema better.","title":"Foreign key part of a multi-Primary key","body":"<p>How about mapping it like this instead?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;table1&quot;)\npublic class Table1 {\n\n  @Id\n  private Long id;\n\n  private String param1;\n\n  @ElementCollection\n  @CollectionTable(name = &quot;table2&quot;)\n  @JoinColumn(name = &quot;id_table1&quot;)\n  @MapKeyColumn(name = &quot;pk2&quot;)\n  private Map&lt;String, Table2&gt; table2Elements;\n\n  // constructors, getters, setters…\n}\n@Embeddable\npublic class Table2 {\n\n  private String param2;\n\n}\n</code></pre>\n<p>This way, you can use the database schema that you seem to want and a model that fits the schema better.</p>\n"}],"owner":{"account_id":26356543,"reputation":11,"user_id":20013443,"display_name":"Gilles Schorter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664275941,"creation_date":1663345143,"question_id":73747736,"body_markdown":"My tables are the following :\r\n```\r\nCREATE TABLE table1\r\n(\r\n    id BIGSERIAL PRIMARY KEY NOT NULL,\r\n    param1            varchar(255)\r\n);\r\n\r\nCREATE TABLE table2\r\n(\r\n    id_table1         BIGINT NOT NULL,\r\n    pk2 varchar(255) NOT NULL,\r\n    param2 varchar(255) NOT NULL,\r\n    CONSTRAINT fk_table1 FOREIGN KEY (id_table1) REFERENCES merging_configuration(id)\r\n);\r\n\r\nALTER TABLE merging_configuration_type\r\n    ADD PRIMARY KEY (id_table1, pk2);\r\n```\r\n\r\nI really need the `(id_table1, pk2)` to be the key\r\n\r\n\r\nSo In hibernate I wrote the following classes:\r\n\r\n```\r\n@Entity(name = &quot;table1&quot;)\r\npublic class Table1 {\r\n\r\n  @Id\r\n  private Long id;\r\n\r\n  private String param1;\r\n\r\n  @OneToMany\r\n  @JoinColumn(name = &quot;id_table1&quot;)\r\n  private List&lt;Table2&gt; table2list;\r\n\r\n  // constructors, getters, setters…\r\n}\r\n```\r\n```\r\n@Entity(name = &quot;table2&quot;)\r\npublic class Table2 {\r\n\r\n  @EmbeddedId\r\n  private Table2Id id;\r\n\r\n  private String param2;\r\n\r\n}\r\n```\r\n```\r\n@Embeddable\r\npublic class Table2Id implements Serializable {\r\n\r\n  @Column(name = &quot;id_table1&quot;)\r\n  private Long idTable1;\r\n\r\n  @Column(name = &quot;pk2&quot;)\r\n  private String pk2;\r\n\r\n}\r\n```\r\n\r\nSo everything compile and the get functions works perfectly but I cannot POST or PUT anything with the Table1Repository.save(entity):\r\n- case 1: the keys in `table2List` of my `entity` **are the same** as  for the database: the `param1` updates but not `param2`\r\n- case 2: `table2List` of my `entity` **does not contains existing data** in the database: I have this error in the logs:\r\n```\r\n[ERROR] o.h.e.j.s.SqlExceptionHelper - ERROR: a NULL value violates the NOT NULL constraint of the column &quot;id_table1&quot; in the relation &quot;table2&quot;.\r\n  Meaning: The failed row contains (null, myPK2, myParam2)\r\n```\r\n- case 3 : `table2List`of my `entity` **contains non existing data** in the database: the .save throw an error with the following message : `Unable to find path.Table2 with id Table2Id(idTableB=1, pk2=myPK2)`\r\n\r\nCould anyone help me ? I think there is a problem with my entities but I don&#39;t see anything else that could work\r\n\r\nThanks a lot","title":"Foreign key part of a multi-Primary key","body":"<p>My tables are the following :</p>\n<pre><code>CREATE TABLE table1\n(\n    id BIGSERIAL PRIMARY KEY NOT NULL,\n    param1            varchar(255)\n);\n\nCREATE TABLE table2\n(\n    id_table1         BIGINT NOT NULL,\n    pk2 varchar(255) NOT NULL,\n    param2 varchar(255) NOT NULL,\n    CONSTRAINT fk_table1 FOREIGN KEY (id_table1) REFERENCES merging_configuration(id)\n);\n\nALTER TABLE merging_configuration_type\n    ADD PRIMARY KEY (id_table1, pk2);\n</code></pre>\n<p>I really need the <code>(id_table1, pk2)</code> to be the key</p>\n<p>So In hibernate I wrote the following classes:</p>\n<pre><code>@Entity(name = &quot;table1&quot;)\npublic class Table1 {\n\n  @Id\n  private Long id;\n\n  private String param1;\n\n  @OneToMany\n  @JoinColumn(name = &quot;id_table1&quot;)\n  private List&lt;Table2&gt; table2list;\n\n  // constructors, getters, setters…\n}\n</code></pre>\n<pre><code>@Entity(name = &quot;table2&quot;)\npublic class Table2 {\n\n  @EmbeddedId\n  private Table2Id id;\n\n  private String param2;\n\n}\n</code></pre>\n<pre><code>@Embeddable\npublic class Table2Id implements Serializable {\n\n  @Column(name = &quot;id_table1&quot;)\n  private Long idTable1;\n\n  @Column(name = &quot;pk2&quot;)\n  private String pk2;\n\n}\n</code></pre>\n<p>So everything compile and the get functions works perfectly but I cannot POST or PUT anything with the Table1Repository.save(entity):</p>\n<ul>\n<li>case 1: the keys in <code>table2List</code> of my <code>entity</code> <strong>are the same</strong> as  for the database: the <code>param1</code> updates but not <code>param2</code></li>\n<li>case 2: <code>table2List</code> of my <code>entity</code> <strong>does not contains existing data</strong> in the database: I have this error in the logs:</li>\n</ul>\n<pre><code>[ERROR] o.h.e.j.s.SqlExceptionHelper - ERROR: a NULL value violates the NOT NULL constraint of the column &quot;id_table1&quot; in the relation &quot;table2&quot;.\n  Meaning: The failed row contains (null, myPK2, myParam2)\n</code></pre>\n<ul>\n<li>case 3 : <code>table2List</code>of my <code>entity</code> <strong>contains non existing data</strong> in the database: the .save throw an error with the following message : <code>Unable to find path.Table2 with id Table2Id(idTableB=1, pk2=myPK2)</code></li>\n</ul>\n<p>Could anyone help me ? I think there is a problem with my entities but I don't see anything else that could work</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","spring","spring-boot","multi-module"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1664274107,"post_id":73865924,"comment_id":130428552,"body_markdown":"Does this answer your question? [How to inherit application.properties with spring boot multiple modules](https://stackoverflow.com/questions/58091902/how-to-inherit-application-properties-with-spring-boot-multiple-modules)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58091902/how-to-inherit-application-properties-with-spring-boot-multiple-modules\">How to inherit application.properties with spring boot multiple modules</a>"},{"owner":{"account_id":8169046,"reputation":265,"user_id":6150230,"accept_rate":100,"display_name":"Sanjay Prajapat"},"score":0,"creation_date":1664274609,"post_id":73865924,"comment_id":130428711,"body_markdown":"No, because in that case, I have to put my config properties in application module. But I want to keep those in config module itself.","body":"No, because in that case, I have to put my config properties in application module. But I want to keep those in config module itself."}],"answers":[{"tags":[],"owner":{"account_id":247054,"reputation":1100,"user_id":521535,"accept_rate":80,"display_name":"Yervand Aghababyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664275365,"creation_date":1664275365,"answer_id":73866286,"question_id":73865924,"body_markdown":"This isn&#39;t a complete answer to your question but more a list of advices I think you should follow when designing your multi-module application project.\r\n\r\n* With spring many things are easier to configure with `@Configuration` beans. On many occasions, you&#39;ll be forced to have such beans to configure specific functionalities. These configuration beans are also a great way of including a configuration of one module in another.\r\n* What I do is the following - each module has one main `@Configuration` bean. This bean `@Import`s all other `@Configuration` beans inside your module, as well as, loads the properties file and imports the main `@Configuration` beans of the modules and maybe external dependencies your module depends on.\r\n* You should remember that spring, and java in general uses the classloader to load these `.properties` files that you have in the `resources` folders. The way you have organized the `.property` files currently they override each other; depending on how spring boot works the classloader will either load the first `*.properties` file it encounters, or maybe, your extra property files won&#39;t even make it into the shaded jar file. As a solution, use packages. Each module should have all of its stuff in a specific package, this includes the configuration files.\r\n* Do not include environment-related configuration files in your application source code. Move it to your deployment procedures. You can have samples of these environment-related files in your `/docs` or `/distribution` folder in your project, but have them here as documentation and not as actual configurations used in these environments. In 99% of the cases, environment-related configurations should be stored separately from your compiled application, the way you have it now they are compiled into the application itself.\r\n\r\nHope this was helpful.\r\n\r\nP.S.\r\nOnce you organize the config files in the manner I describe, you may still end up fighting a battle against Spring&#39;s property file loader(don&#39;t remember the exact name), but that&#39;s a separate topic, and there are already many questions on that topic here.","title":"How to create per module application.properties in spring boot?","body":"<p>This isn't a complete answer to your question but more a list of advices I think you should follow when designing your multi-module application project.</p>\n<ul>\n<li>With spring many things are easier to configure with <code>@Configuration</code> beans. On many occasions, you'll be forced to have such beans to configure specific functionalities. These configuration beans are also a great way of including a configuration of one module in another.</li>\n<li>What I do is the following - each module has one main <code>@Configuration</code> bean. This bean <code>@Import</code>s all other <code>@Configuration</code> beans inside your module, as well as, loads the properties file and imports the main <code>@Configuration</code> beans of the modules and maybe external dependencies your module depends on.</li>\n<li>You should remember that spring, and java in general uses the classloader to load these <code>.properties</code> files that you have in the <code>resources</code> folders. The way you have organized the <code>.property</code> files currently they override each other; depending on how spring boot works the classloader will either load the first <code>*.properties</code> file it encounters, or maybe, your extra property files won't even make it into the shaded jar file. As a solution, use packages. Each module should have all of its stuff in a specific package, this includes the configuration files.</li>\n<li>Do not include environment-related configuration files in your application source code. Move it to your deployment procedures. You can have samples of these environment-related files in your <code>/docs</code> or <code>/distribution</code> folder in your project, but have them here as documentation and not as actual configurations used in these environments. In 99% of the cases, environment-related configurations should be stored separately from your compiled application, the way you have it now they are compiled into the application itself.</li>\n</ul>\n<p>Hope this was helpful.</p>\n<p>P.S.\nOnce you organize the config files in the manner I describe, you may still end up fighting a battle against Spring's property file loader(don't remember the exact name), but that's a separate topic, and there are already many questions on that topic here.</p>\n"}],"owner":{"account_id":8169046,"reputation":265,"user_id":6150230,"accept_rate":100,"display_name":"Sanjay Prajapat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664275365,"creation_date":1664273780,"question_id":73865924,"body_markdown":"I have a spring boot project in which there are multiple modules, I want to have each module separate application properties file, but when I added properties file in all modules, it&#39;s still picking properties from main application properties file.\r\n\r\nProject Structure:\r\n\r\n```\r\n|-- Dockerfile\r\n|-- build.gradle\r\n|-- modules\r\n|   |-- application\r\n|   |   |-- build.gradle\r\n|   |   `-- src\r\n|   |       `-- main\r\n|   |           |-- java\r\n|   |           |   `-- org\r\n|   |           |       `-- example\r\n|   |           |           |-- CoreApplication.java\r\n|   |           `-- resources\r\n|   |               |-- application-beta.properties\r\n|   |               |-- application-dev.properties\r\n|   |               |-- application-local.properties\r\n|   |               |-- application-prod.properties\r\n|   |               |-- application-test.properties\r\n|   |               `-- application.properties\r\n|   |-- config-management\r\n|   |   |-- build.gradle\r\n|   |   `-- src\r\n|   |       `-- main\r\n|   |           |-- java\r\n|   |           |   `-- org\r\n|   |           |       `-- example\r\n|   |           |           `-- controller\r\n|   |           |               `-- TestController.java\r\n|   |           `-- resources\r\n|   |               |-- application-beta.properties\r\n|   |               |-- application-dev.properties\r\n|   |               |-- application-local.properties\r\n|   |               |-- application-prod.properties\r\n|   |               |-- application-test.properties\r\n|   |               `-- application.properties\r\n`-- settings.gradle\r\n```\r\n\r\n`application.properties` in config module\r\n```\r\nconfig.hello=hello-from-config\r\n```\r\n\r\n`application.properties` in application module\r\n```\r\nconfig.hello=hello-from-application\r\n```\r\n\r\n\r\n`TestController.java` in config module\r\n```java\r\n@RestController\r\npublic class TestController {\r\n    @Value(&quot;${config.hello}&quot;)\r\n    private String hello;\r\n\r\n    @GetMapping(&quot;hello&quot;)\r\n    public String get() {\r\n        return hello;\r\n    }\r\n}\r\n```\r\n\r\nAfter calling `/hello` api, response: `hello-from-application`\r\n\r\n\r\n\r\n\r\n","title":"How to create per module application.properties in spring boot?","body":"<p>I have a spring boot project in which there are multiple modules, I want to have each module separate application properties file, but when I added properties file in all modules, it's still picking properties from main application properties file.</p>\n<p>Project Structure:</p>\n<pre><code>|-- Dockerfile\n|-- build.gradle\n|-- modules\n|   |-- application\n|   |   |-- build.gradle\n|   |   `-- src\n|   |       `-- main\n|   |           |-- java\n|   |           |   `-- org\n|   |           |       `-- example\n|   |           |           |-- CoreApplication.java\n|   |           `-- resources\n|   |               |-- application-beta.properties\n|   |               |-- application-dev.properties\n|   |               |-- application-local.properties\n|   |               |-- application-prod.properties\n|   |               |-- application-test.properties\n|   |               `-- application.properties\n|   |-- config-management\n|   |   |-- build.gradle\n|   |   `-- src\n|   |       `-- main\n|   |           |-- java\n|   |           |   `-- org\n|   |           |       `-- example\n|   |           |           `-- controller\n|   |           |               `-- TestController.java\n|   |           `-- resources\n|   |               |-- application-beta.properties\n|   |               |-- application-dev.properties\n|   |               |-- application-local.properties\n|   |               |-- application-prod.properties\n|   |               |-- application-test.properties\n|   |               `-- application.properties\n`-- settings.gradle\n</code></pre>\n<p><code>application.properties</code> in config module</p>\n<pre><code>config.hello=hello-from-config\n</code></pre>\n<p><code>application.properties</code> in application module</p>\n<pre><code>config.hello=hello-from-application\n</code></pre>\n<p><code>TestController.java</code> in config module</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestController {\n    @Value(&quot;${config.hello}&quot;)\n    private String hello;\n\n    @GetMapping(&quot;hello&quot;)\n    public String get() {\n        return hello;\n    }\n}\n</code></pre>\n<p>After calling <code>/hello</code> api, response: <code>hello-from-application</code></p>\n"},{"tags":["java","sql","jdbc","while-loop","hashmap"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1664273645,"post_id":73865848,"comment_id":130428381,"body_markdown":"You are misunderstanding what a Map is in java. A Map maps one key to a specific value. In your case those keys are &quot;StateName&quot; and &quot;CapitalCity&quot;. Your Map can only have one single value for each of those keys. You could use a multimap, but honestly this would also not be an ideal data structure to hold your data. You should really just create your own custom class (for example StateCapital) that holds the state name and capital name as properties and then return a list of that custom class.","body":"You are misunderstanding what a Map is in java. A Map maps one key to a specific value. In your case those keys are &quot;StateName&quot; and &quot;CapitalCity&quot;. Your Map can only have one single value for each of those keys. You could use a multimap, but honestly this would also not be an ideal data structure to hold your data. You should really just create your own custom class (for example StateCapital) that holds the state name and capital name as properties and then return a list of that custom class."},{"owner":{"account_id":14943619,"reputation":13,"user_id":10789520,"display_name":"mohammed azharuddin"},"score":0,"creation_date":1664273851,"post_id":73865848,"comment_id":130428462,"body_markdown":"Why I retrieve like the above method is I need to pass those as together into an rest-assured api","body":"Why I retrieve like the above method is I need to pass those as together into an rest-assured api"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664274754,"creation_date":1664273667,"answer_id":73865902,"question_id":73865848,"body_markdown":"The values are overridden with each iteration, that&#39;s why the first `println` statement correctly prints out the key and value. The `Map` only contains the last added pair as long as by definition it doesn&#39;t allow duplicate keys.\r\n\r\n___\r\n\r\nI recommend rather using an object encapsulating the `stateName` and `capitalCity` and adding such an object into a `List`. \r\n\r\n```java\r\npublic class State {\r\n\r\n    private final String name;\r\n    private final String capitalCity\r\n\r\n    // all-args constructor and getters\r\n}\r\n```\r\n```\r\nList&lt;State&gt; c1 = new ArrayList&lt;&gt;();\r\n\r\n...\r\n\r\n// in the while-loop\r\nc1.add(new State(rs.getString(3), rs.getString(3)));\r\n```\r\n\r\n____\r\n\r\nAlso, it is possible to group the map-values into the `List` resulting in `Map&lt;String, List&lt;String&gt;&gt;`.\r\n\r\n```java\r\nMap&lt;String, List&lt;String&gt;&gt; c1 = new HashMap&lt;&gt;();\r\n\r\n...\r\n\r\n// in the while-loop\r\nc1.computeIfAbsent(&quot;StateName&quot;, k -&gt; new ArrayList&lt;&gt;()).add(rs.getString(3));\r\nc1.computeIfAbsent(&quot;CapitalCity&quot;, k -&gt; new ArrayList&lt;&gt;()).add(rs.getString(3));\r\n```\r\n\r\nAn alternative solution would be using a sort of [`MultiValueMap`][1] (from Spring framework, but feel free to search for other libraries or frameworks if they offer something similar) that is just a wrapper to the structure above: `Map&lt;String, List&lt;String&gt;&gt;`.\r\n\r\n___\r\n\r\nA side note: Always program against interfaces, i.e.:\r\n\r\n```java\r\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();     // :)\r\nHashMap&lt;String, String&gt; map = new HashMap&lt;&gt;(); // :(\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/MultiValueMap.html","title":"How do I get all elements of Hashmap key and values outside while loop","body":"<p>The values are overridden with each iteration, that's why the first <code>println</code> statement correctly prints out the key and value. The <code>Map</code> only contains the last added pair as long as by definition it doesn't allow duplicate keys.</p>\n<hr />\n<p>I recommend rather using an object encapsulating the <code>stateName</code> and <code>capitalCity</code> and adding such an object into a <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class State {\n\n    private final String name;\n    private final String capitalCity\n\n    // all-args constructor and getters\n}\n</code></pre>\n<pre><code>List&lt;State&gt; c1 = new ArrayList&lt;&gt;();\n\n...\n\n// in the while-loop\nc1.add(new State(rs.getString(3), rs.getString(3)));\n</code></pre>\n<hr />\n<p>Also, it is possible to group the map-values into the <code>List</code> resulting in <code>Map&lt;String, List&lt;String&gt;&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; c1 = new HashMap&lt;&gt;();\n\n...\n\n// in the while-loop\nc1.computeIfAbsent(&quot;StateName&quot;, k -&gt; new ArrayList&lt;&gt;()).add(rs.getString(3));\nc1.computeIfAbsent(&quot;CapitalCity&quot;, k -&gt; new ArrayList&lt;&gt;()).add(rs.getString(3));\n</code></pre>\n<p>An alternative solution would be using a sort of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/MultiValueMap.html\" rel=\"nofollow noreferrer\"><code>MultiValueMap</code></a> (from Spring framework, but feel free to search for other libraries or frameworks if they offer something similar) that is just a wrapper to the structure above: <code>Map&lt;String, List&lt;String&gt;&gt;</code>.</p>\n<hr />\n<p>A side note: Always program against interfaces, i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();     // :)\nHashMap&lt;String, String&gt; map = new HashMap&lt;&gt;(); // :(\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664274146,"creation_date":1664274146,"answer_id":73865992,"question_id":73865848,"body_markdown":"Consider that `Map` is a list of entries. Each entry is composed by a `key` and a `value`.\r\nThe key inside is unique, then the value is overridden every time you put the same key.\r\n\r\nYou can resolve to create a class that represents the state.\r\n```java\r\npublic class State {\r\n    private String stateName;\r\n    private String capitalCity;\r\n\r\n    public State(String stateName, String capitalCity) {\r\n        this.stateName = stateName;\r\n        this.capitalCity = capitalCity;\r\n    }\r\n\r\n    public String getStateName() {\r\n        return stateName;\r\n    }\r\n\r\n    public String getCapitalCity() {\r\n        return capitalCity;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return &quot;State{&quot; +\r\n            &quot;stateName=&#39;&quot; + stateName + &#39;\\&#39;&#39; +\r\n            &quot;, capitalCity=&#39;&quot; + capitalCity + &#39;\\&#39;&#39; +\r\n            &#39;}&#39;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd you can fill a list of `State` in order to avoid overriding.\r\n```java\r\npublic HashMap&lt;String, String&gt; getStateCapital(String Country) {\r\n\r\n    List&lt;State&gt; states = new ArrayList&lt;&gt;();\r\n\r\n    String query = DB query + Country;\r\n\r\n    try {\r\n        Connection db = DriverManager.getConnection(URL, Username, Password);\r\n        Statement st = db.createStatement();\r\n        ResultSet rs = st.executeQuery(query);\r\n        while (rs.next()) {\r\n            states.add(new State(rs.getString(3), rs.getString(3)));\r\n        }\r\n        System.out.println(states);\r\n    }\r\n}\r\n```","title":"How do I get all elements of Hashmap key and values outside while loop","body":"<p>Consider that <code>Map</code> is a list of entries. Each entry is composed by a <code>key</code> and a <code>value</code>.\nThe key inside is unique, then the value is overridden every time you put the same key.</p>\n<p>You can resolve to create a class that represents the state.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class State {\n    private String stateName;\n    private String capitalCity;\n\n    public State(String stateName, String capitalCity) {\n        this.stateName = stateName;\n        this.capitalCity = capitalCity;\n    }\n\n    public String getStateName() {\n        return stateName;\n    }\n\n    public String getCapitalCity() {\n        return capitalCity;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;State{&quot; +\n            &quot;stateName='&quot; + stateName + '\\'' +\n            &quot;, capitalCity='&quot; + capitalCity + '\\'' +\n            '}';\n    }\n\n}\n</code></pre>\n<p>And you can fill a list of <code>State</code> in order to avoid overriding.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HashMap&lt;String, String&gt; getStateCapital(String Country) {\n\n    List&lt;State&gt; states = new ArrayList&lt;&gt;();\n\n    String query = DB query + Country;\n\n    try {\n        Connection db = DriverManager.getConnection(URL, Username, Password);\n        Statement st = db.createStatement();\n        ResultSet rs = st.executeQuery(query);\n        while (rs.next()) {\n            states.add(new State(rs.getString(3), rs.getString(3)));\n        }\n        System.out.println(states);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14943619,"reputation":13,"user_id":10789520,"display_name":"mohammed azharuddin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73865992,"answer_count":2,"score":1,"last_activity_date":1664275365,"creation_date":1664273421,"question_id":73865848,"body_markdown":"I have a query where I retrieve DB values like:\r\n \r\n```java\r\npublic HashMap&lt;String,String&gt; getStateCapital(String Country) {\r\n    \r\n    HashMap&lt;String,String&gt; c1 = new HashMap&lt;String,String&gt;();\r\n        \r\n    String query = DB query+Country;\r\n        \r\n    try {\r\n        Connection db = DriverManager.getConnection(URL,Username,Password);\r\n        Statement st = db.createStatement();\r\n        ResultSet rs = st.executeQuery(query);\r\n        while(rs.next()) {\r\n        \r\n            c1.put(&quot;StateName&quot;,rs.getString(3));\r\n            c1.put(&quot;CapitalCity&quot;,rs.getString(4)); \r\n           \r\n            System.out.println(c1);                // First c1 output\r\n        } \r\n\r\n        System.out.println(c1);                    // Second c1 output\r\n    \r\n    }\r\n}\r\n```\r\n\r\nHere when I print the first `c1` I get `HashMap&lt;key,value&gt;` Output as\r\n\r\n```\r\n{StateName=Karnata, CapitalCity=Bengaluru}\r\n{StateName=Kerala, CapitalCity=Thiruvananthapuram} \r\n{StateName=Telangana, CapitalCity=Hyderabad} \r\n{StateName=TamilNadu, CapitalCity=Chennai}\r\netc...\r\n```\r\n\r\nBut when I print the second `c1` I get `HashMap&lt;key,value&gt;` Output as\r\n\r\n```\r\n{StateName=Karnata, CapitalCity=Bengaluru}\r\n```\r\n\r\nHow do I retrieve all the `HashMap&lt;key,value&gt;` like the first `c1` Output outside while loop?","title":"How do I get all elements of Hashmap key and values outside while loop","body":"<p>I have a query where I retrieve DB values like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HashMap&lt;String,String&gt; getStateCapital(String Country) {\n    \n    HashMap&lt;String,String&gt; c1 = new HashMap&lt;String,String&gt;();\n        \n    String query = DB query+Country;\n        \n    try {\n        Connection db = DriverManager.getConnection(URL,Username,Password);\n        Statement st = db.createStatement();\n        ResultSet rs = st.executeQuery(query);\n        while(rs.next()) {\n        \n            c1.put(&quot;StateName&quot;,rs.getString(3));\n            c1.put(&quot;CapitalCity&quot;,rs.getString(4)); \n           \n            System.out.println(c1);                // First c1 output\n        } \n\n        System.out.println(c1);                    // Second c1 output\n    \n    }\n}\n</code></pre>\n<p>Here when I print the first <code>c1</code> I get <code>HashMap&lt;key,value&gt;</code> Output as</p>\n<pre><code>{StateName=Karnata, CapitalCity=Bengaluru}\n{StateName=Kerala, CapitalCity=Thiruvananthapuram} \n{StateName=Telangana, CapitalCity=Hyderabad} \n{StateName=TamilNadu, CapitalCity=Chennai}\netc...\n</code></pre>\n<p>But when I print the second <code>c1</code> I get <code>HashMap&lt;key,value&gt;</code> Output as</p>\n<pre><code>{StateName=Karnata, CapitalCity=Bengaluru}\n</code></pre>\n<p>How do I retrieve all the <code>HashMap&lt;key,value&gt;</code> like the first <code>c1</code> Output outside while loop?</p>\n"},{"tags":["java","jwt","auth0"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1497907964,"post_id":44640260,"comment_id":76266547,"body_markdown":"Define &quot;secure&quot;.  i.e. what threat model are you attempting to secure against?","body":"Define &quot;secure&quot;.  i.e. what threat model are you attempting to secure against?"},{"owner":{"account_id":3323719,"reputation":2084,"user_id":2794211,"accept_rate":77,"display_name":"Elbbard"},"score":0,"creation_date":1497908584,"post_id":44640260,"comment_id":76266818,"body_markdown":"It will be a public application, so the possible threats are people being able to generate a token based on the email address (which is public to some of the users). If I had to reformulate the question, I would say &quot;Is my usage of the library right and is SHA256 unbreakable?&quot;","body":"It will be a public application, so the possible threats are people being able to generate a token based on the email address (which is public to some of the users). If I had to reformulate the question, I would say &quot;Is my usage of the library right and is SHA256 unbreakable?&quot;"},{"owner":{"account_id":8100689,"reputation":143,"user_id":6103805,"display_name":"rolyanos"},"score":0,"creation_date":1518695723,"post_id":44640260,"comment_id":84615985,"body_markdown":"Token encryption is only for those, who know the secret key. Your header and body will be encrypted with base64, and can be decrypted very easy. Jwt is not the way to encrypt your data, it is creation of some signature for verification, which based on header + body + secret_key","body":"Token encryption is only for those, who know the secret key. Your header and body will be encrypted with base64, and can be decrypted very easy. Jwt is not the way to encrypt your data, it is creation of some signature for verification, which based on header + body + secret_key"}],"answers":[{"tags":[],"owner":{"account_id":10543635,"reputation":184,"user_id":7768683,"display_name":"Behdad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563696043,"creation_date":1563695025,"answer_id":57131286,"question_id":44640260,"body_markdown":"Yes &amp; No!, your code seems to be OK!\r\n\r\n\r\nJWT is to put something encrypted in client&#39;s computer(like cookies) and then it is the ticket for your api.(We usually use jwt in OAuth )\r\n\r\nYou can make sure that your data in client&#39;s computer has not been modified. Then it is excellent option for small distributed session management.\r\n\r\n**Should I use expiration dates?**\r\n\r\nYes especially for session management.You don&#39;t want a user to be logined forever and maybe another user be able to steal his session.This token is now his username &amp; password. Be careful about this!\r\n\r\n**Is it secure?!**\r\n\r\nSecurity has constraints and one important one is time.Every password is breakable but in its time.You&#39;d better change your secret once in a while.\r\n\r\nThough Your code seems to be secure but there are many other circumstances that hacker can break into your system and get your secret. You should be aware about them too.All parts of your code including your system must have acceptable security level.\r\nRemember:\r\n\r\n**A chain is only as strong as its weakest link**\r\n\r\n","title":"Auth0 JWT with Java","body":"<p>Yes &amp; No!, your code seems to be OK!</p>\n\n<p>JWT is to put something encrypted in client's computer(like cookies) and then it is the ticket for your api.(We usually use jwt in OAuth )</p>\n\n<p>You can make sure that your data in client's computer has not been modified. Then it is excellent option for small distributed session management.</p>\n\n<p><strong>Should I use expiration dates?</strong></p>\n\n<p>Yes especially for session management.You don't want a user to be logined forever and maybe another user be able to steal his session.This token is now his username &amp; password. Be careful about this!</p>\n\n<p><strong>Is it secure?!</strong></p>\n\n<p>Security has constraints and one important one is time.Every password is breakable but in its time.You'd better change your secret once in a while.</p>\n\n<p>Though Your code seems to be secure but there are many other circumstances that hacker can break into your system and get your secret. You should be aware about them too.All parts of your code including your system must have acceptable security level.\nRemember:</p>\n\n<p><strong>A chain is only as strong as its weakest link</strong></p>\n"},{"tags":[],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664275360,"creation_date":1664275360,"answer_id":73866285,"question_id":44640260,"body_markdown":"To say simply in context of your curiosity &quot;It is not secure&quot;. Because JWT is not to pass secure data.\r\n\r\nBasically JWT is to use to protect &#39;MODIFICATION&#39; your data that you provided to others or from channel. You give then a data with a signature. And when your provided data returned back from them, you can check your data MODIFIED-OR-NOT by that Signature.\r\n\r\nOn the the other hand your provided data is public, anyone can see your Payload-Data by Base64 decoder. So you should not pass plain password over JWT at all.","title":"Auth0 JWT with Java","body":"<p>To say simply in context of your curiosity &quot;It is not secure&quot;. Because JWT is not to pass secure data.</p>\n<p>Basically JWT is to use to protect 'MODIFICATION' your data that you provided to others or from channel. You give then a data with a signature. And when your provided data returned back from them, you can check your data MODIFIED-OR-NOT by that Signature.</p>\n<p>On the the other hand your provided data is public, anyone can see your Payload-Data by Base64 decoder. So you should not pass plain password over JWT at all.</p>\n"}],"owner":{"account_id":3323719,"reputation":2084,"user_id":2794211,"accept_rate":77,"display_name":"Elbbard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6196,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664275360,"creation_date":1497907757,"question_id":44640260,"body_markdown":"I implemented JSON Web Tokens using this library [Aut0 Java JWT][1] for my REST API which uses the Spring Framework.\r\n\r\nHere is the code\r\n\r\n    import com.auth0.jwt.JWT;\r\n    import com.auth0.jwt.JWTVerifier;\r\n    import com.auth0.jwt.algorithms.Algorithm;\r\n    import com.auth0.jwt.exceptions.JWTCreationException;\r\n    import com.auth0.jwt.exceptions.JWTDecodeException;\r\n    import com.auth0.jwt.interfaces.DecodedJWT;\r\n    import java.io.UnsupportedEncodingException;\r\n    \r\n    public class JWTutils {\r\n        private final static String secret = &quot;fj32Jfv02Mq33g0f8ioDkw&quot;;\r\n    \r\n        public static String createToken(String email)\r\n        {\r\n            try {\r\n                return JWT.create()\r\n                        .withIssuer(&quot;auth0&quot;)\r\n                        .withClaim(&quot;email&quot;, email)\r\n                        .sign(Algorithm.HMAC256(secret));\r\n            } catch (JWTCreationException exception){\r\n                throw new RuntimeException(&quot;You need to enable Algorithm.HMAC256&quot;);\r\n            } catch (UnsupportedEncodingException e) {\r\n                throw new RuntimeException(e.getMessage());\r\n            }\r\n        }\r\n    \r\n        public static String getEmailInToken(String token)\r\n        {\r\n            try {\r\n                JWTVerifier verifier = JWT.require(Algorithm.HMAC256(secret))\r\n                        .withIssuer(&quot;auth0&quot;)\r\n                        .build();\r\n                DecodedJWT jwt = verifier.verify(token);\r\n                return jwt.getClaim(&quot;email&quot;).asString();\r\n            } catch (JWTDecodeException exception){\r\n                return null;\r\n            } catch (UnsupportedEncodingException e) {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nIs my JWT secure as long as I use HTTPS? Should I use expiration dates?\r\n\r\n  [1]: https://github.com/auth0/java-jwt","title":"Auth0 JWT with Java","body":"<p>I implemented JSON Web Tokens using this library <a href=\"https://github.com/auth0/java-jwt\" rel=\"nofollow noreferrer\">Aut0 Java JWT</a> for my REST API which uses the Spring Framework.</p>\n\n<p>Here is the code</p>\n\n<pre><code>import com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.exceptions.JWTCreationException;\nimport com.auth0.jwt.exceptions.JWTDecodeException;\nimport com.auth0.jwt.interfaces.DecodedJWT;\nimport java.io.UnsupportedEncodingException;\n\npublic class JWTutils {\n    private final static String secret = \"fj32Jfv02Mq33g0f8ioDkw\";\n\n    public static String createToken(String email)\n    {\n        try {\n            return JWT.create()\n                    .withIssuer(\"auth0\")\n                    .withClaim(\"email\", email)\n                    .sign(Algorithm.HMAC256(secret));\n        } catch (JWTCreationException exception){\n            throw new RuntimeException(\"You need to enable Algorithm.HMAC256\");\n        } catch (UnsupportedEncodingException e) {\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n\n    public static String getEmailInToken(String token)\n    {\n        try {\n            JWTVerifier verifier = JWT.require(Algorithm.HMAC256(secret))\n                    .withIssuer(\"auth0\")\n                    .build();\n            DecodedJWT jwt = verifier.verify(token);\n            return jwt.getClaim(\"email\").asString();\n        } catch (JWTDecodeException exception){\n            return null;\n        } catch (UnsupportedEncodingException e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Is my JWT secure as long as I use HTTPS? Should I use expiration dates?</p>\n"},{"tags":["java","sql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664275216,"creation_date":1664275216,"answer_id":73866262,"question_id":73777983,"body_markdown":"You can configure an explicit schema for entity C by specifying `@Table(name = &quot;T3&quot;, schema = &quot;S1&quot;)`. That way, you can use schema based multi tenancy for regular entities, but have that one entity refer to a table in a fixed schema.","title":"Hibernate Multitenancy with partially shared tables and multiple schemas per tenant","body":"<p>You can configure an explicit schema for entity C by specifying <code>@Table(name = &quot;T3&quot;, schema = &quot;S1&quot;)</code>. That way, you can use schema based multi tenancy for regular entities, but have that one entity refer to a table in a fixed schema.</p>\n"}],"owner":{"account_id":22805042,"reputation":307,"user_id":16957185,"display_name":"Gumpf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664275216,"creation_date":1663613060,"question_id":73777983,"body_markdown":"I am interested in using Hibernate multitenancy to solve the following issue:\r\n\r\nA JSF, JPA application I am developing accesses a DB2 (AS400) database, but currently there are two environments the application can run in. Between these environments, some tables are shared, but others exist in different schemas, and there are two such schemas with this property. To be more clear, it is something like this: the application has environments ALPHA and BETA, and has classes A, B, and C. In environment ALPHA, A corresponds to table T1 in schema S1_1, and B corresponds to table T2 and S1_2. In BETA, the table names are the same, but A has schema S2_1 and B has schema S2_2. C corresponds to table T3 in schema S1 in both environments. All tables and databases are on the same database. There is no option to modify the structure of the existing tables or schemas.\r\n\r\nIs multitenancy a viable approach to handling this sort of situation? I&#39;ve seen some articles say that Hibernate multitenancy supports same database different *schemas*, but I don&#39;t know if this means &quot;The same database, but each tenant has a single different schema&quot;, or &quot;The same database, and each tenant has arbitrarily many schemas&quot;. Also, I&#39;m not sure it can support any shared schemas between the two.\r\n\r\nLooking at [this article][1], the author just sets the schema to the tenant identifier, but this doesn&#39;t work in my situation because one identifier corresponds to multiple schemas (ALPHA to S1 and S2), and one schema can correspond to multiple identifiers (S1 to ALPHA and BETA). This would imply one would need to know the tenant identifier and the resource being accessed *before* a valid connection could be formed. And even this assumes the connection is not reused (I do not know the life cycle of the provided connection) and that there are no joins occurring across schemas, because the schema seems to be set per connection.\r\n\r\nThough I&#39;ve presented many questions, I have these main ones:\r\n\r\n 1. Is Hibernate multitenancy supported when there is a many to many association between tenant identifiers and schemas?\r\n 2. Is there a way to know the request for which a connection is being formed from within the Hibernate multitenancy interfaces/superclasses?\r\n 3. If multitenancy cannot work in this situation, is there any alternative possible in Hibernate/JPA?\r\n\r\n  [1]: https://medium.com/swlh/multi-tenancy-implementation-using-spring-boot-hibernate-6a8e3ecb251a","title":"Hibernate Multitenancy with partially shared tables and multiple schemas per tenant","body":"<p>I am interested in using Hibernate multitenancy to solve the following issue:</p>\n<p>A JSF, JPA application I am developing accesses a DB2 (AS400) database, but currently there are two environments the application can run in. Between these environments, some tables are shared, but others exist in different schemas, and there are two such schemas with this property. To be more clear, it is something like this: the application has environments ALPHA and BETA, and has classes A, B, and C. In environment ALPHA, A corresponds to table T1 in schema S1_1, and B corresponds to table T2 and S1_2. In BETA, the table names are the same, but A has schema S2_1 and B has schema S2_2. C corresponds to table T3 in schema S1 in both environments. All tables and databases are on the same database. There is no option to modify the structure of the existing tables or schemas.</p>\n<p>Is multitenancy a viable approach to handling this sort of situation? I've seen some articles say that Hibernate multitenancy supports same database different <em>schemas</em>, but I don't know if this means &quot;The same database, but each tenant has a single different schema&quot;, or &quot;The same database, and each tenant has arbitrarily many schemas&quot;. Also, I'm not sure it can support any shared schemas between the two.</p>\n<p>Looking at <a href=\"https://medium.com/swlh/multi-tenancy-implementation-using-spring-boot-hibernate-6a8e3ecb251a\" rel=\"nofollow noreferrer\">this article</a>, the author just sets the schema to the tenant identifier, but this doesn't work in my situation because one identifier corresponds to multiple schemas (ALPHA to S1 and S2), and one schema can correspond to multiple identifiers (S1 to ALPHA and BETA). This would imply one would need to know the tenant identifier and the resource being accessed <em>before</em> a valid connection could be formed. And even this assumes the connection is not reused (I do not know the life cycle of the provided connection) and that there are no joins occurring across schemas, because the schema seems to be set per connection.</p>\n<p>Though I've presented many questions, I have these main ones:</p>\n<ol>\n<li>Is Hibernate multitenancy supported when there is a many to many association between tenant identifiers and schemas?</li>\n<li>Is there a way to know the request for which a connection is being formed from within the Hibernate multitenancy interfaces/superclasses?</li>\n<li>If multitenancy cannot work in this situation, is there any alternative possible in Hibernate/JPA?</li>\n</ol>\n"},{"tags":["java","spring","hibernate","relational-database","one-to-one"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664274944,"creation_date":1664274944,"answer_id":73866197,"question_id":73778362,"body_markdown":"The `ShapeEntity` you are creating has no `ShapeDetailsEntity` assigned i.e. the field is null, so that&#39;s why you get a NPE. If you don&#39;t want that, you have to assign an object to that field.\r\n\r\nIMO, this `shapeService.createShapeDetails(shapeEntity);` code shouldn&#39;t be necessary. Your `ShapeService.createShape` method should assign a `ShapeDetailsEntity` object to the field.\r\n","title":"Setting OneToOne relationship in entity with inheritance","body":"<p>The <code>ShapeEntity</code> you are creating has no <code>ShapeDetailsEntity</code> assigned i.e. the field is null, so that's why you get a NPE. If you don't want that, you have to assign an object to that field.</p>\n<p>IMO, this <code>shapeService.createShapeDetails(shapeEntity);</code> code shouldn't be necessary. Your <code>ShapeService.createShape</code> method should assign a <code>ShapeDetailsEntity</code> object to the field.</p>\n"}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664274944,"creation_date":1663615457,"question_id":73778362,"body_markdown":"I created abstract class Entity (I want to create different types of shapes):\r\n\r\n    @Entity\r\n    @Inheritance(strategy = TABLE_PER_CLASS)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public abstract class ShapeEntity {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n        @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n        private String id;\r\n        @OneToOne\r\n        private ShapeDetailsEntity shapeDetailsEntity;\r\n\r\n        public abstract double getArea();\r\n\r\n        public abstract double getPerimeter();\r\n    }\r\n\r\nand I want to every add to every entity table with details:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Table(name = &quot;shape_details&quot;)\r\n    @AllArgsConstructor\r\n    public class ShapeDetailsEntity {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n        @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n        private String id;\r\n        ...\r\n        @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;shapeDetailsEntity&quot;, fetch = FetchType.LAZY)\r\n        private ShapeEntity shapeEntity;\r\n\r\nThe logic of creating entites is in service:\r\n\r\n    public class ShapeService {\r\n        public ShapeEntity createShape(ShapeType type, List&lt;Double&gt; parameters) {\r\n            switch (type) {\r\n                case CIRCLE:\r\n                    return circleEntityRepository.saveAndFlush(new CircleEntity(parameters));\r\n                case SQUARE:\r\n                    return squareEntityRepository.saveAndFlush(new SquareEntity(parameters));\r\n                case RECTANGLE:\r\n                    return rectangleEntityRepository.saveAndFlush(new RectangleEntity(parameters));\r\n                default:\r\n                    throw new IllegalArgumentException();\r\n            }\r\n        }\r\n\r\nand now for tests in controller I would like to create new entity - in comments I put response in console:\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;String&gt; post(@Valid @RequestBody ShapeRequestModel shapeRequestModel) {\r\n        ShapeEntity shapeEntity = shapeService.createShape(ShapeType.valueOf(shapeRequestModel.getType()), shapeRequestModel.getParameters());\r\n        ShapeDetailsEntity shapeDetailsEntity = shapeService.createShapeDetails(shapeEntity);\r\n        System.out.println(shapeDetailsEntity.getShapeEntity().toString()); // -&gt; CircleEntity{radius=4.5}\r\n        System.out.println(shapeDetailsEntity); // -&gt; ShapeDetailsEntity{all details...}\r\n        System.out.println(shapeEntity.getShapeDetailsEntity().toString()); // -&gt; java.lang.NullPointerException: null\r\n\r\n        return new ResponseEntity&lt;&gt;(shapeEntity.toString(), HttpStatus.CREATED);\r\n    }\r\n\r\nin **shapeService.createShapeDetails(shapeEntity)**  looks like:\r\n\r\n     public ShapeDetailsEntity createShapeDetails(ShapeEntity shapeEntity) {\r\n        ShapeDetailsEntity shapeDetailsEntity = new ShapeDetailsEntity();\r\n        shapeDetailsEntity.setShapeEntity(shapeEntity);\r\n        return shapeDetailsEntityRepository.saveAndFlush(shapeDetailsEntity);\r\n    }\r\n\r\nHow should I do it correctly to not getting null in\r\n**shapeEntity.getShapeDetailsEntity().toString())**\r\n? In database place when should be id of shapeDetailsEntity I am getting null.\r\n","title":"Setting OneToOne relationship in entity with inheritance","body":"<p>I created abstract class Entity (I want to create different types of shapes):</p>\n<pre><code>@Entity\n@Inheritance(strategy = TABLE_PER_CLASS)\n@Getter\n@Setter\n@NoArgsConstructor\npublic abstract class ShapeEntity {\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n    @OneToOne\n    private ShapeDetailsEntity shapeDetailsEntity;\n\n    public abstract double getArea();\n\n    public abstract double getPerimeter();\n}\n</code></pre>\n<p>and I want to every add to every entity table with details:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;shape_details&quot;)\n@AllArgsConstructor\npublic class ShapeDetailsEntity {\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n    ...\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;shapeDetailsEntity&quot;, fetch = FetchType.LAZY)\n    private ShapeEntity shapeEntity;\n</code></pre>\n<p>The logic of creating entites is in service:</p>\n<pre><code>public class ShapeService {\n    public ShapeEntity createShape(ShapeType type, List&lt;Double&gt; parameters) {\n        switch (type) {\n            case CIRCLE:\n                return circleEntityRepository.saveAndFlush(new CircleEntity(parameters));\n            case SQUARE:\n                return squareEntityRepository.saveAndFlush(new SquareEntity(parameters));\n            case RECTANGLE:\n                return rectangleEntityRepository.saveAndFlush(new RectangleEntity(parameters));\n            default:\n                throw new IllegalArgumentException();\n        }\n    }\n</code></pre>\n<p>and now for tests in controller I would like to create new entity - in comments I put response in console:</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;String&gt; post(@Valid @RequestBody ShapeRequestModel shapeRequestModel) {\n    ShapeEntity shapeEntity = shapeService.createShape(ShapeType.valueOf(shapeRequestModel.getType()), shapeRequestModel.getParameters());\n    ShapeDetailsEntity shapeDetailsEntity = shapeService.createShapeDetails(shapeEntity);\n    System.out.println(shapeDetailsEntity.getShapeEntity().toString()); // -&gt; CircleEntity{radius=4.5}\n    System.out.println(shapeDetailsEntity); // -&gt; ShapeDetailsEntity{all details...}\n    System.out.println(shapeEntity.getShapeDetailsEntity().toString()); // -&gt; java.lang.NullPointerException: null\n\n    return new ResponseEntity&lt;&gt;(shapeEntity.toString(), HttpStatus.CREATED);\n}\n</code></pre>\n<p>in <strong>shapeService.createShapeDetails(shapeEntity)</strong>  looks like:</p>\n<pre><code> public ShapeDetailsEntity createShapeDetails(ShapeEntity shapeEntity) {\n    ShapeDetailsEntity shapeDetailsEntity = new ShapeDetailsEntity();\n    shapeDetailsEntity.setShapeEntity(shapeEntity);\n    return shapeDetailsEntityRepository.saveAndFlush(shapeDetailsEntity);\n}\n</code></pre>\n<p>How should I do it correctly to not getting null in\n<strong>shapeEntity.getShapeDetailsEntity().toString())</strong>\n? In database place when should be id of shapeDetailsEntity I am getting null.</p>\n"},{"tags":["java","spring","hash","spring-cloud-gateway","http-signature"],"answers":[{"tags":[],"owner":{"account_id":1317274,"reputation":1240,"user_id":1263867,"accept_rate":100,"display_name":"Koos Gadellaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664274605,"creation_date":1664274605,"answer_id":73866118,"question_id":73104711,"body_markdown":"You&#39;re going to need to write your own routefilter for that.\r\n\r\nSee https://www.baeldung.com/spring-cloud-custom-gateway-filters for example","title":"Add HTTP Signature and Digest headers with Spring Cloud Gateway","body":"<p>You're going to need to write your own routefilter for that.</p>\n<p>See <a href=\"https://www.baeldung.com/spring-cloud-custom-gateway-filters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cloud-custom-gateway-filters</a> for example</p>\n"}],"owner":{"account_id":2567388,"reputation":1842,"user_id":2227064,"accept_rate":50,"display_name":"Vegard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664274605,"creation_date":1658729707,"question_id":73104711,"body_markdown":"I would like to add some http headers to requests running through a Spring Cloud Gateway. The issue is that there seems to be methods for adding headers, and methods for doing something with the body, but no method that allows me to adjust the headers while looking at the body.\r\n\r\nThe reason I need to look at the body while making headers is to create the digest for the http signature.\r\n\r\nHow I can add headers and body while being unable to look at the body while updating the headers:\r\n\r\n```\r\n.filters(f -&gt; {\r\n  return f\r\n    .addResponseHeader(&quot;foo&quot;, &quot;bar&quot;)\r\n    .modifyRequestBody(String.class, String.class,\r\n      (exchange, s) -&gt; {\r\n        ...\r\n    })\r\n```\r\n\r\nIs there a way to use `addRequestHeader()` while also seeing the body?\r\n","title":"Add HTTP Signature and Digest headers with Spring Cloud Gateway","body":"<p>I would like to add some http headers to requests running through a Spring Cloud Gateway. The issue is that there seems to be methods for adding headers, and methods for doing something with the body, but no method that allows me to adjust the headers while looking at the body.</p>\n<p>The reason I need to look at the body while making headers is to create the digest for the http signature.</p>\n<p>How I can add headers and body while being unable to look at the body while updating the headers:</p>\n<pre><code>.filters(f -&gt; {\n  return f\n    .addResponseHeader(&quot;foo&quot;, &quot;bar&quot;)\n    .modifyRequestBody(String.class, String.class,\n      (exchange, s) -&gt; {\n        ...\n    })\n</code></pre>\n<p>Is there a way to use <code>addRequestHeader()</code> while also seeing the body?</p>\n"},{"tags":["java","sql","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1463397731,"creation_date":1384932664,"answer_id":20089913,"question_id":20089031,"body_markdown":"Try using inner join in your Query\r\n\r\n        Query query=session.createQuery(&quot;from Product as p INNER JOIN p.catalog as c \r\n        WHERE c.idCatalog= :id and p.productName like :XXX&quot;);\r\n        query.setParameter(&quot;id&quot;, 7);\r\n        query.setParameter(&quot;xxx&quot;, &quot;%&quot;+abc+&quot;%&quot;);\r\n        List list = query.list();\r\n\r\nalso in the hibernate config file have \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!--hibernate.cfg.xml --&gt;\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\nTo display what is being queried on the console.","title":"could not extract ResultSet in hibernate","body":"<p>Try using inner join in your Query</p>\n\n<pre><code>    Query query=session.createQuery(\"from Product as p INNER JOIN p.catalog as c \n    WHERE c.idCatalog= :id and p.productName like :XXX\");\n    query.setParameter(\"id\", 7);\n    query.setParameter(\"xxx\", \"%\"+abc+\"%\");\n    List list = query.list();\n</code></pre>\n\n<p>also in the hibernate config file have </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!--hibernate.cfg.xml --&gt;\n&lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>To display what is being queried on the console.</p>\n"},{"tags":[],"owner":{"account_id":2392308,"reputation":22265,"user_id":2091925,"display_name":"Will Keeling"},"down_vote_count":1,"up_vote_count":98,"is_accepted":true,"score":97,"last_activity_date":1384955613,"creation_date":1384955613,"answer_id":20097822,"question_id":20089031,"body_markdown":"The `@JoinColumn` annotation specifies the name of the column being used as the foreign key on the targeted entity. \r\n\r\nOn the `Product` class above, the name of the join column is set to `ID_CATALOG`.\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;ID_CATALOG&quot;)\r\n    private Catalog catalog;\r\n\r\n\r\nHowever, the foreign key on the `Product` table is called `catalog_id`\r\n\r\n    `catalog_id` int(11) DEFAULT NULL,\r\n\r\nYou&#39;ll need to change either the column name on the table or the name you&#39;re using in the `@JoinColumn` so that they match. See [http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html/entity.html#entity-mapping-association][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html/entity.html#entity-mapping-association","title":"could not extract ResultSet in hibernate","body":"<p>The <code>@JoinColumn</code> annotation specifies the name of the column being used as the foreign key on the targeted entity. </p>\n\n<p>On the <code>Product</code> class above, the name of the join column is set to <code>ID_CATALOG</code>.</p>\n\n<pre><code>@ManyToOne\n@JoinColumn(name=\"ID_CATALOG\")\nprivate Catalog catalog;\n</code></pre>\n\n<p>However, the foreign key on the <code>Product</code> table is called <code>catalog_id</code></p>\n\n<pre><code>`catalog_id` int(11) DEFAULT NULL,\n</code></pre>\n\n<p>You'll need to change either the column name on the table or the name you're using in the <code>@JoinColumn</code> so that they match. See <a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html/entity.html#entity-mapping-association\">http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html/entity.html#entity-mapping-association</a></p>\n"},{"tags":[],"owner":{"account_id":100879,"reputation":1276,"user_id":271703,"accept_rate":62,"display_name":"Gico"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1469105383,"creation_date":1469105383,"answer_id":38504745,"question_id":20089031,"body_markdown":"I had similar issue. Try use the HQL editor. It will display you the SQL (as you have a SQL grammar exception). Copy your SQL and execute it separately. In my case the problem was in schema definition. I defined the schema, but I should leave it empty. This raised the same exception as you got. And the error description reflected the actual state, as the schema name was included in SQL statement. ","title":"could not extract ResultSet in hibernate","body":"<p>I had similar issue. Try use the HQL editor. It will display you the SQL (as you have a SQL grammar exception). Copy your SQL and execute it separately. In my case the problem was in schema definition. I defined the schema, but I should leave it empty. This raised the same exception as you got. And the error description reflected the actual state, as the schema name was included in SQL statement. </p>\n"},{"tags":[],"owner":{"account_id":228364,"reputation":5505,"user_id":490614,"accept_rate":91,"display_name":"sweetfa"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1490812689,"creation_date":1486001834,"answer_id":41993189,"question_id":20089031,"body_markdown":"Another potential cause, for other people coming across the same error message is that this error will occur if you are accessing a table in a different schema from the one you have authenticated with.\r\n\r\nIn this case you would need to add the schema name to your entity entry:\r\n\r\n    @Table(name= &quot;catalog&quot;, schema = &quot;targetSchemaName&quot;)\r\n\r\n","title":"could not extract ResultSet in hibernate","body":"<p>Another potential cause, for other people coming across the same error message is that this error will occur if you are accessing a table in a different schema from the one you have authenticated with.</p>\n\n<p>In this case you would need to add the schema name to your entity entry:</p>\n\n<pre><code>@Table(name= \"catalog\", schema = \"targetSchemaName\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7616071,"reputation":738,"user_id":5775462,"display_name":"Mohammad Badiuzzaman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1522821378,"creation_date":1522821378,"answer_id":49643781,"question_id":20089031,"body_markdown":"If you don&#39;t have &#39;HIBERNATE_SEQUENCE&#39; sequence created in database (if use oracle or any sequence based database), you shall get same type of error;\r\n\r\nEnsure the sequence is present there;","title":"could not extract ResultSet in hibernate","body":"<p>If you don't have 'HIBERNATE_SEQUENCE' sequence created in database (if use oracle or any sequence based database), you shall get same type of error;</p>\n\n<p>Ensure the sequence is present there;</p>\n"},{"tags":[],"owner":{"account_id":14499744,"reputation":59,"user_id":10473308,"display_name":"thadian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542889024,"creation_date":1542888216,"answer_id":53430613,"question_id":20089031,"body_markdown":"I faced the same problem after migrating a database from online server to localhost. The schema changed so I had to define the schema manually for each table:\r\n\r\n    @Entity\r\n    @Table(name = &quot;ESBCORE_DOMAIN&quot;, schema = &quot;SYS&quot;)","title":"could not extract ResultSet in hibernate","body":"<p>I faced the same problem after migrating a database from online server to localhost. The schema changed so I had to define the schema manually for each table:</p>\n\n<pre><code>@Entity\n@Table(name = \"ESBCORE_DOMAIN\", schema = \"SYS\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14499744,"reputation":59,"user_id":10473308,"display_name":"thadian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1543231362,"creation_date":1543231362,"answer_id":53480061,"question_id":20089031,"body_markdown":"Another solution is add @JsonIgnore :\r\n\r\n\r\n    @OneToMany(mappedBy=&quot;catalog&quot;, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private Set&lt;Product&gt; products = new HashSet&lt;Product&gt;(0);\r\n\r\n\r\n\r\n\r\n","title":"could not extract ResultSet in hibernate","body":"<p>Another solution is add @JsonIgnore :</p>\n\n<pre><code>@OneToMany(mappedBy=\"catalog\", fetch = FetchType.LAZY)\n@JsonIgnore\nprivate Set&lt;Product&gt; products = new HashSet&lt;Product&gt;(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8434198,"reputation":647,"user_id":6328841,"display_name":"Saurabh Verma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571935256,"creation_date":1571935256,"answer_id":58545719,"question_id":20089031,"body_markdown":"I Used the following properties in my application.properties file and the issue got resolved\r\n\r\n    spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n\r\nand \r\n    \r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n\r\nearlier was getting an error \r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    could not extract ResultSet; SQL [n/a]; nested exception is \r\n    org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:280)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:254)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\r\n","title":"could not extract ResultSet in hibernate","body":"<p>I Used the following properties in my application.properties file and the issue got resolved</p>\n\n<pre><code>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\n</code></pre>\n\n<p>and </p>\n\n<pre><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n\n<p>earlier was getting an error </p>\n\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\ncould not extract ResultSet; SQL [n/a]; nested exception is \norg.hibernate.exception.SQLGrammarException: could not extract ResultSet\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:280)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:254)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5387895,"reputation":5212,"user_id":4291264,"accept_rate":88,"display_name":"Manuel Schmitzberger"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1576234297,"creation_date":1576234297,"answer_id":59321046,"question_id":20089031,"body_markdown":"I had the same issue, when I tried to update a row:\r\n\r\n\t@Query(value = &quot;UPDATE data SET value = &#39;asdf&#39;&quot;, nativeQuery = true)\r\n\tvoid setValue();\r\n\r\nMy Problem was that I forgot to add the `@Modifying` annotation:\r\n\r\n    @Modifying    \r\n    @Query(value = &quot;UPDATE data SET value = &#39;asdf&#39;&quot;, nativeQuery = true)\r\n    void setValue();","title":"could not extract ResultSet in hibernate","body":"<p>I had the same issue, when I tried to update a row:</p>\n\n<pre><code>@Query(value = \"UPDATE data SET value = 'asdf'\", nativeQuery = true)\nvoid setValue();\n</code></pre>\n\n<p>My Problem was that I forgot to add the <code>@Modifying</code> annotation:</p>\n\n<pre><code>@Modifying    \n@Query(value = \"UPDATE data SET value = 'asdf'\", nativeQuery = true)\nvoid setValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601842576,"creation_date":1601842576,"answer_id":64199465,"question_id":20089031,"body_markdown":"I was using Spring Data JPA with PostgreSql and during UPDATE call it was showing errors-\r\n\r\n - &#39;**could not extract ResultSet**&#39; and another one.\r\n - org.springframework.dao.InvalidDataAccessApiUsageException: Executing\r\n   an update/delete query; nested exception is\r\n   javax.persistence.TransactionRequiredException: Executing an\r\n   update/delete query. (*Showing Transactional required.*)\r\n\r\nActually, I was **missing** two required Annotations.\r\n\r\n - @Transactional and\r\n - @Modifying\r\n\r\n\r\n*With-*\r\n\r\n    @Query(vlaue = &quot; UPDATE DB.TABLE SET Col1 = ?1 WHERE id = ?2 &quot;, nativeQuery = true)\r\n    void updateCol1(String value, long id);\r\n\r\n","title":"could not extract ResultSet in hibernate","body":"<p>I was using Spring Data JPA with PostgreSql and during UPDATE call it was showing errors-</p>\n<ul>\n<li>'<strong>could not extract ResultSet</strong>' and another one.</li>\n<li>org.springframework.dao.InvalidDataAccessApiUsageException: Executing\nan update/delete query; nested exception is\njavax.persistence.TransactionRequiredException: Executing an\nupdate/delete query. (<em>Showing Transactional required.</em>)</li>\n</ul>\n<p>Actually, I was <strong>missing</strong> two required Annotations.</p>\n<ul>\n<li>@Transactional and</li>\n<li>@Modifying</li>\n</ul>\n<p><em>With-</em></p>\n<pre><code>@Query(vlaue = &quot; UPDATE DB.TABLE SET Col1 = ?1 WHERE id = ?2 &quot;, nativeQuery = true)\nvoid updateCol1(String value, long id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15949124,"reputation":3270,"user_id":11508914,"display_name":"Panagiss"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609406137,"creation_date":1609405791,"answer_id":65518823,"question_id":20089031,"body_markdown":"For **MySql** take in mind that it&#39;s not a good idea to write *camelcase*.\r\nFor example if the schema is like that:\r\n```\r\nCREATE TABLE IF NOT EXISTS `task`(\r\n    `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,\r\n    `teaching_hours` DECIMAL(5,2) DEFAULT NULL,\r\n    `isActive` BOOLEAN DEFAULT FALSE,\r\n    `is_validated` BOOLEAN DEFAULT FALSE,\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\n```\r\nYou must be very careful cause ```isActive``` column will translate to ```isactive```.\r\nSo in your Entity class is should be like this:\r\n```\r\n @Basic\r\n @Column(name = &quot;isactive&quot;, nullable = true)\r\n public boolean isActive() {\r\n     return isActive;\r\n }\r\n public void setActive(boolean active) {\r\n     isActive = active;\r\n }\r\n```\r\nThat was my problem at least that got me your error\r\n\r\nThis has nothing to do with **MySql** which is case insensitive, but rather is a naming strategy that spring will use to translate your tables.\r\nFor more refer to this [post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36353492/jpa-uppercase-table-names/36398277","title":"could not extract ResultSet in hibernate","body":"<p>For <strong>MySql</strong> take in mind that it's not a good idea to write <em>camelcase</em>.\nFor example if the schema is like that:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS `task`(\n    `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,\n    `teaching_hours` DECIMAL(5,2) DEFAULT NULL,\n    `isActive` BOOLEAN DEFAULT FALSE,\n    `is_validated` BOOLEAN DEFAULT FALSE,\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n</code></pre>\n<p>You must be very careful cause <code>isActive</code> column will translate to <code>isactive</code>.\nSo in your Entity class is should be like this:</p>\n<pre><code> @Basic\n @Column(name = &quot;isactive&quot;, nullable = true)\n public boolean isActive() {\n     return isActive;\n }\n public void setActive(boolean active) {\n     isActive = active;\n }\n</code></pre>\n<p>That was my problem at least that got me your error</p>\n<p>This has nothing to do with <strong>MySql</strong> which is case insensitive, but rather is a naming strategy that spring will use to translate your tables.\nFor more refer to this <a href=\"https://stackoverflow.com/questions/36353492/jpa-uppercase-table-names/36398277\">post</a></p>\n"},{"tags":[],"owner":{"account_id":2642470,"reputation":107,"user_id":2285846,"display_name":"Liviu Florin Ilie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624517332,"creation_date":1624517332,"answer_id":68110818,"question_id":20089031,"body_markdown":"This message also appears if you by mistake use a reserved keyword for your table (https://dev.mysql.com/doc/refman/8.0/en/keywords.html#keywords-8-0-detailed-C). When doing a join on a table which has the name the sama as the reserved mysql keyword you would get the same message, although everything else is correct. \r\nHopefully this will spare some time and pain for other people. ","title":"could not extract ResultSet in hibernate","body":"<p>This message also appears if you by mistake use a reserved keyword for your table (<a href=\"https://dev.mysql.com/doc/refman/8.0/en/keywords.html#keywords-8-0-detailed-C\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/keywords.html#keywords-8-0-detailed-C</a>). When doing a join on a table which has the name the sama as the reserved mysql keyword you would get the same message, although everything else is correct.\nHopefully this will spare some time and pain for other people.</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635637838,"creation_date":1635634739,"answer_id":69782763,"question_id":20089031,"body_markdown":"I&#39;ve reproduced similar issue:\r\n\r\n    Caused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:279)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\r\n    ...\r\n    \r\n    Caused by: java.sql.SQLSyntaxErrorException: Unknown column &#39;setting0_.advance_payment_first_text&#39; in &#39;field list&#39;\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:975)\r\n        \r\n\r\nAnd in my specific use case it was because of the conflict between new dump which was used for database and `liquibase` configuration files `data.xml` with logic like:\r\n\r\n    &lt;changeSet  author=&quot;liquibase-docs&quot;  id=&quot;sqlFile-data&quot;&gt;\r\n            &lt;sqlFile  dbms=&quot;!h2, oracle, mysql&quot;\r\n                      encoding=&quot;UTF-8&quot;\r\n                      path=&quot;..\\..\\..\\sql\\data.sql&quot;\r\n                      relativeToChangelogFile=&quot;true&quot;\r\n                      splitStatements=&quot;true&quot;\r\n                      stripComments=&quot;true&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nand `structure.xml`: \r\n\r\n    &lt;changeSet  author=&quot;liquibase-docs&quot;  id=&quot;sqlFile-structure&quot;&gt;\r\n            &lt;sqlFile  dbms=&quot;!h2, oracle, mysql&quot;\r\n                      encoding=&quot;UTF-8&quot;\r\n                      path=&quot;..\\..\\..\\sql\\structure.sql&quot;\r\n                      relativeToChangelogFile=&quot;true&quot;\r\n                      splitStatements=&quot;true&quot;\r\n                      stripComments=&quot;true&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nfor old scripts of the project.\r\n\r\nAfter some investigations by checking the correspondence of tables with columns in the code I understood these old scripts overwrote after running the project new dump. \r\n\r\nSo after removing old scripts `data.sql` and `structure.sql` with configuration files `data.xml` and `structure.xml` from the project this problem was solved.","title":"could not extract ResultSet in hibernate","body":"<p>I've reproduced similar issue:</p>\n<pre><code>Caused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:279)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n\n...\n\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column 'setting0_.advance_payment_first_text' in 'field list'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:975)\n    \n</code></pre>\n<p>And in my specific use case it was because of the conflict between new dump which was used for database and <code>liquibase</code> configuration files <code>data.xml</code> with logic like:</p>\n<pre><code>&lt;changeSet  author=&quot;liquibase-docs&quot;  id=&quot;sqlFile-data&quot;&gt;\n        &lt;sqlFile  dbms=&quot;!h2, oracle, mysql&quot;\n                  encoding=&quot;UTF-8&quot;\n                  path=&quot;..\\..\\..\\sql\\data.sql&quot;\n                  relativeToChangelogFile=&quot;true&quot;\n                  splitStatements=&quot;true&quot;\n                  stripComments=&quot;true&quot;/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>and <code>structure.xml</code>:</p>\n<pre><code>&lt;changeSet  author=&quot;liquibase-docs&quot;  id=&quot;sqlFile-structure&quot;&gt;\n        &lt;sqlFile  dbms=&quot;!h2, oracle, mysql&quot;\n                  encoding=&quot;UTF-8&quot;\n                  path=&quot;..\\..\\..\\sql\\structure.sql&quot;\n                  relativeToChangelogFile=&quot;true&quot;\n                  splitStatements=&quot;true&quot;\n                  stripComments=&quot;true&quot;/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>for old scripts of the project.</p>\n<p>After some investigations by checking the correspondence of tables with columns in the code I understood these old scripts overwrote after running the project new dump.</p>\n<p>So after removing old scripts <code>data.sql</code> and <code>structure.sql</code> with configuration files <code>data.xml</code> and <code>structure.xml</code> from the project this problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":20797851,"reputation":59,"user_id":15274531,"display_name":"lf.melo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664141669,"creation_date":1664141669,"answer_id":73847992,"question_id":20089031,"body_markdown":"in my case, I had changed the ddl property to create-drop, and I ran it after the tables were deleted.\r\n\r\n**spring.jpa.hibernate.ddl-auto=create-drop**\r\n\r\njust put the ddl to create, and after that, return to none (not to change the database anymore)\r\n\r\n**spring.jpa.hibernate.ddl-auto=none**","title":"could not extract ResultSet in hibernate","body":"<p>in my case, I had changed the ddl property to create-drop, and I ran it after the tables were deleted.</p>\n<p><strong>spring.jpa.hibernate.ddl-auto=create-drop</strong></p>\n<p>just put the ddl to create, and after that, return to none (not to change the database anymore)</p>\n<p><strong>spring.jpa.hibernate.ddl-auto=none</strong></p>\n"},{"tags":[],"owner":{"account_id":8937324,"reputation":107,"user_id":6667710,"display_name":"Andrei Iovan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664274193,"creation_date":1664274193,"answer_id":73866007,"question_id":20089031,"body_markdown":"For me the issue was first uppercase/lowercase differences between my local workspace and dev database server&#39;s table name.\r\n\r\nExample:\r\n\r\n    select name from customer;\r\n\r\nvs\r\n\r\n    select name from Customer;\r\n\r\nBy fixing the typo the error was gone.\r\n\r\nHope this will be a solution for someone out there.","title":"could not extract ResultSet in hibernate","body":"<p>For me the issue was first uppercase/lowercase differences between my local workspace and dev database server's table name.</p>\n<p>Example:</p>\n<pre><code>select name from customer;\n</code></pre>\n<p>vs</p>\n<pre><code>select name from Customer;\n</code></pre>\n<p>By fixing the typo the error was gone.</p>\n<p>Hope this will be a solution for someone out there.</p>\n"}],"owner":{"account_id":3120461,"reputation":1581,"user_id":2640327,"accept_rate":73,"display_name":"Thanh Duy Ngo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938874,"favorite_count":0,"down_vote_count":0,"up_vote_count":124,"accepted_answer_id":20097822,"answer_count":15,"score":124,"last_activity_date":1664274193,"creation_date":1384929141,"question_id":20089031,"body_markdown":"I have a problem with *Hibernate*. I try to parse to List but It throws an exception: `HTTP Status 500 - could not extract ResultSet`. When I debug, It fault at line `query.list()`...  \r\n\r\nMy sample code here\r\n\r\n    @Entity\r\n    @Table(name = &quot;catalog&quot;)\r\n    public class Catalog implements Serializable {\r\n\t\r\n\t@Id\r\n    @Column(name=&quot;ID_CATALOG&quot;)\r\n    @GeneratedValue\t\r\n\tprivate Integer idCatalog;\r\n\t\r\n\t@Column(name=&quot;Catalog_Name&quot;)\r\n\tprivate String catalogName;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;catalog&quot;, fetch = FetchType.LAZY)\r\n\tprivate Set&lt;Product&gt; products = new HashSet&lt;Product&gt;(0);\r\n\r\n\t//getter &amp; setter &amp; constructor\r\n\t//...\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;product&quot;)\r\n    public class Product implements Serializable {\r\n\t\r\n\t@Id\r\n    @Column(name=&quot;id_product&quot;)\r\n    @GeneratedValue\t\r\n\tprivate Integer idProduct;\r\n\t\r\n\t@ManyToOne\r\n    @JoinColumn(name=&quot;ID_CATALOG&quot;)\r\n\tprivate Catalog catalog;\r\n\t\r\n\t@Column(name=&quot;product_name&quot;)\r\n\tprivate String productName;\r\n\t\r\n\t@Column(name=&quot;date&quot;)\r\n\tprivate Date date;\r\n\t\r\n\t@Column(name=&quot;author&quot;)\r\n\tprivate String author;\r\n\t\r\n\t@Column(name=&quot;price&quot;)\r\n\tprivate Integer price;\r\n\t\r\n\t@Column(name=&quot;linkimage&quot;)\r\n\tprivate String linkimage;\r\n\r\n\t//getter &amp; setter &amp; constructor\r\n    }\r\n\r\n\r\n\r\n    @Repository\r\n\t@SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;})\r\n\tpublic class ProductDAOImpl implements ProductDAO {\r\n\t\t@Autowired\r\n\t\tprivate SessionFactory sessionFactory;\r\n\tpublic List&lt;Product&gt; searchProductByCatalog(String catalogid, String keyword) {\r\n\t\tString sql = &quot;select p from Product p where 1 = 1&quot;;\r\n\t\tSession session = sessionFactory.getCurrentSession();\r\n\r\n\t\tif (keyword.trim().equals(&quot;&quot;) == false) {\r\n\t\t\tsql += &quot; and p.productName like &#39;%&quot; + keyword + &quot;%&#39;&quot;;\r\n\t\t}\r\n\t\tif (catalogid.trim().equals(&quot;-1&quot;) == false\r\n\t\t\t\t&amp;&amp; catalogid.trim().equals(&quot;&quot;) == false) {\r\n\t\t\tsql += &quot; and p.catalog.idCatalog = &quot; + Integer.parseInt(catalogid);\r\n\t\t}\r\n\t\tQuery query = session.createQuery(sql);\r\n\t\tList listProduct = query.list();\r\n\t\treturn listProduct;\r\n\t}\r\n\r\n    }\r\n\r\n\r\nMy beans\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n      &lt;!-- Scan classpath for annotations (eg: @Service, @Repository etc) --&gt;\r\n      &lt;context:component-scan base-package=&quot;com.shopmvc&quot;/&gt;\r\n       \r\n      &lt;!-- JDBC Data Source. It is assumed you have MySQL running on localhost port 3306 with \r\n           username root and blank password. Change below if it&#39;s not the case --&gt;\r\n      &lt;bean id=&quot;myDataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/shoesshopdb?autoReconnect=true&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;12345&quot;/&gt;\r\n        &lt;property name=&quot;validationQuery&quot; value=&quot;SELECT 1&quot;/&gt;\r\n      &lt;/bean&gt;\r\n       \r\n      &lt;!-- Hibernate Session Factory --&gt;\r\n      &lt;bean id=&quot;mySessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n          &lt;array&gt;\r\n            &lt;value&gt;com.shopmvc.pojo&lt;/value&gt;\r\n          &lt;/array&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n          &lt;value&gt;\r\n            hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n          &lt;/value&gt;\r\n        &lt;/property&gt;\r\n      &lt;/bean&gt;\r\n       \r\n      &lt;!-- Hibernate Transaction Manager --&gt;\r\n      &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;mySessionFactory&quot;/&gt;\r\n      &lt;/bean&gt;\r\n       \r\n      &lt;!-- Activates annotation based transaction management --&gt;\r\n      &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n\r\n\r\n   Exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    \r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:948)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:827)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n    \r\n    root cause \r\n    \r\n    org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \torg.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:82)\r\n    \torg.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n    \torg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)\r\n    \torg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)\r\n    \torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:61)\r\n    \torg.hibernate.loader.Loader.getResultSet(Loader.java:2036)\r\n\r\n    root cause \r\n    \r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column &#39;product0_.ID_CATALOG&#39; in &#39;field list&#39;\r\n    \tsun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tsun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tsun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tjava.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tcom.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n    \tcom.mysql.jdbc.Util.getInstance(Util.java:386)\r\n    \tcom.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054)\r\n    \tcom.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4187)\r\n    \tcom.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4119)\r\n    \tcom.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2570)\r\n    \tcom.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2731)\r\n    \tcom.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2815)\r\n    \tcom.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)\r\n    \tcom.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2322)\r\n    \torg.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)\r\n    \torg.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)\r\n    \torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:56)\r\n    \torg.hibernate.loader.Loader.getResultSet(Loader.java:2036)\r\n    \torg.hibernate.loader.Loader.executeQueryStatement(Loader.java:1836)\r\n    \torg.hibernate.loader.Loader.executeQueryStatement(Loader.java:1815)\r\n    \torg.hibernate.loader.Loader.doQuery(Loader.java:899)\r\n    \torg.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:341)\r\n    \torg.hibernate.loader.Loader.doList(Loader.java:2522)\r\n    \torg.hibernate.loader.Loader.doList(Loader.java:2508)\r\n    \torg.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2338)\r\n    \torg.hibernate.loader.Loader.list(Loader.java:2333)\r\n    \torg.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:490)\r\n\r\n\r\nMy Database:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TABLE `catalog` (\r\n      `ID_CATALOG` int(11) NOT NULL AUTO_INCREMENT,\r\n      `Catalog_Name` varchar(45) DEFAULT NULL,\r\n      PRIMARY KEY (`ID_CATALOG`)\r\n    )\r\n\r\n    CREATE TABLE `product` (\r\n      `id_product` int(11) NOT NULL AUTO_INCREMENT,\r\n      `product_name` varchar(45) DEFAULT NULL,\r\n      `date` date DEFAULT NULL,\r\n      `author` varchar(45) DEFAULT NULL,\r\n      `price` int(11) DEFAULT NULL,\r\n      `catalog_id` int(11) DEFAULT NULL,\r\n      `linkimage` varchar(45) DEFAULT NULL,\r\n      PRIMARY KEY (`id_product`),\r\n      KEY `FK_Product_idx` (`catalog_id`),\r\n      CONSTRAINT `FK_Product` FOREIGN KEY (`catalog_id`) REFERENCES `catalog` (`ID_CATALOG`) ON DELETE NO ACTION ON UPDATE NO ACTION\r\n    )","title":"could not extract ResultSet in hibernate","body":"<p>I have a problem with <em>Hibernate</em>. I try to parse to List but It throws an exception: <code>HTTP Status 500 - could not extract ResultSet</code>. When I debug, It fault at line <code>query.list()</code>...  </p>\n\n<p>My sample code here</p>\n\n<pre><code>@Entity\n@Table(name = \"catalog\")\npublic class Catalog implements Serializable {\n\n@Id\n@Column(name=\"ID_CATALOG\")\n@GeneratedValue \nprivate Integer idCatalog;\n\n@Column(name=\"Catalog_Name\")\nprivate String catalogName;\n\n@OneToMany(mappedBy=\"catalog\", fetch = FetchType.LAZY)\nprivate Set&lt;Product&gt; products = new HashSet&lt;Product&gt;(0);\n\n//getter &amp; setter &amp; constructor\n//...\n}\n\n\n@Entity\n@Table(name = \"product\")\npublic class Product implements Serializable {\n\n@Id\n@Column(name=\"id_product\")\n@GeneratedValue \nprivate Integer idProduct;\n\n@ManyToOne\n@JoinColumn(name=\"ID_CATALOG\")\nprivate Catalog catalog;\n\n@Column(name=\"product_name\")\nprivate String productName;\n\n@Column(name=\"date\")\nprivate Date date;\n\n@Column(name=\"author\")\nprivate String author;\n\n@Column(name=\"price\")\nprivate Integer price;\n\n@Column(name=\"linkimage\")\nprivate String linkimage;\n\n//getter &amp; setter &amp; constructor\n}\n\n\n\n@Repository\n@SuppressWarnings({\"unchecked\", \"rawtypes\"})\npublic class ProductDAOImpl implements ProductDAO {\n    @Autowired\n    private SessionFactory sessionFactory;\npublic List&lt;Product&gt; searchProductByCatalog(String catalogid, String keyword) {\n    String sql = \"select p from Product p where 1 = 1\";\n    Session session = sessionFactory.getCurrentSession();\n\n    if (keyword.trim().equals(\"\") == false) {\n        sql += \" and p.productName like '%\" + keyword + \"%'\";\n    }\n    if (catalogid.trim().equals(\"-1\") == false\n            &amp;&amp; catalogid.trim().equals(\"\") == false) {\n        sql += \" and p.catalog.idCatalog = \" + Integer.parseInt(catalogid);\n    }\n    Query query = session.createQuery(sql);\n    List listProduct = query.list();\n    return listProduct;\n}\n\n}\n</code></pre>\n\n<p>My beans</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!-- Scan classpath for annotations (eg: @Service, @Repository etc) --&gt;\n  &lt;context:component-scan base-package=\"com.shopmvc\"/&gt;\n\n  &lt;!-- JDBC Data Source. It is assumed you have MySQL running on localhost port 3306 with \n       username root and blank password. Change below if it's not the case --&gt;\n  &lt;bean id=\"myDataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/shoesshopdb?autoReconnect=true\"/&gt;\n    &lt;property name=\"username\" value=\"root\"/&gt;\n    &lt;property name=\"password\" value=\"12345\"/&gt;\n    &lt;property name=\"validationQuery\" value=\"SELECT 1\"/&gt;\n  &lt;/bean&gt;\n\n  &lt;!-- Hibernate Session Factory --&gt;\n  &lt;bean id=\"mySessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"myDataSource\"/&gt;\n    &lt;property name=\"packagesToScan\"&gt;\n      &lt;array&gt;\n        &lt;value&gt;com.shopmvc.pojo&lt;/value&gt;\n      &lt;/array&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n      &lt;value&gt;\n        hibernate.dialect=org.hibernate.dialect.MySQLDialect\n      &lt;/value&gt;\n    &lt;/property&gt;\n  &lt;/bean&gt;\n\n  &lt;!-- Hibernate Transaction Manager --&gt;\n  &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"mySessionFactory\"/&gt;\n  &lt;/bean&gt;\n\n  &lt;!-- Activates annotation based transaction management --&gt;\n  &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n</code></pre>\n\n<p>Exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:948)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:827)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n\nroot cause \n\norg.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:82)\n    org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:61)\n    org.hibernate.loader.Loader.getResultSet(Loader.java:2036)\n\nroot cause \n\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'product0_.ID_CATALOG' in 'field list'\n    sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    java.lang.reflect.Constructor.newInstance(Unknown Source)\n    com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    com.mysql.jdbc.Util.getInstance(Util.java:386)\n    com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054)\n    com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4187)\n    com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4119)\n    com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2570)\n    com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2731)\n    com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2815)\n    com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)\n    com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2322)\n    org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)\n    org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:56)\n    org.hibernate.loader.Loader.getResultSet(Loader.java:2036)\n    org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1836)\n    org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1815)\n    org.hibernate.loader.Loader.doQuery(Loader.java:899)\n    org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:341)\n    org.hibernate.loader.Loader.doList(Loader.java:2522)\n    org.hibernate.loader.Loader.doList(Loader.java:2508)\n    org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2338)\n    org.hibernate.loader.Loader.list(Loader.java:2333)\n    org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:490)\n</code></pre>\n\n<p>My Database:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `catalog` (\n  `ID_CATALOG` int(11) NOT NULL AUTO_INCREMENT,\n  `Catalog_Name` varchar(45) DEFAULT NULL,\n  PRIMARY KEY (`ID_CATALOG`)\n)\n\nCREATE TABLE `product` (\n  `id_product` int(11) NOT NULL AUTO_INCREMENT,\n  `product_name` varchar(45) DEFAULT NULL,\n  `date` date DEFAULT NULL,\n  `author` varchar(45) DEFAULT NULL,\n  `price` int(11) DEFAULT NULL,\n  `catalog_id` int(11) DEFAULT NULL,\n  `linkimage` varchar(45) DEFAULT NULL,\n  PRIMARY KEY (`id_product`),\n  KEY `FK_Product_idx` (`catalog_id`),\n  CONSTRAINT `FK_Product` FOREIGN KEY (`catalog_id`) REFERENCES `catalog` (`ID_CATALOG`) ON DELETE NO ACTION ON UPDATE NO ACTION\n)\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1560533656,"post_id":56602802,"comment_id":99781671,"body_markdown":"The exception happens at EnumJavaTypeDescriptor.fromOrdinal. So my guess is that your role_id value in the database column is 2, but that there are only two values in the UserType enum (whose ordinals are thus 0 and 1).","body":"The exception happens at EnumJavaTypeDescriptor.fromOrdinal. So my guess is that your role_id value in the database column is 2, but that there are only two values in the UserType enum (whose ordinals are thus 0 and 1)."},{"owner":{"account_id":14485085,"reputation":135,"user_id":10463284,"display_name":"aristas"},"score":0,"creation_date":1560535613,"post_id":56602802,"comment_id":99782411,"body_markdown":"@JBNizet , I edit my question with my enum class and the 2 tables  but I cannot understand the conflict. Could you please see it and tell me if you found something!","body":"@JBNizet , I edit my question with my enum class and the 2 tables  but I cannot understand the conflict. Could you please see it and tell me if you found something!"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1560535792,"post_id":56602802,"comment_id":99782477,"body_markdown":"UserType has two values: ADMIN and USER. ADMIN&#39;s ordinal is 0, and USER&#39;s ordinal is 1. So if your row contains 2 in the user_type column, it&#39;s an invalid ordinal for the UserType enum. https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#ordinal--","body":"UserType has two values: ADMIN and USER. ADMIN&#39;s ordinal is 0, and USER&#39;s ordinal is 1. So if your row contains 2 in the user_type column, it&#39;s an invalid ordinal for the UserType enum. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#ordinal--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#ordina&zwnj;&#8203;l--</a>"},{"owner":{"account_id":14485085,"reputation":135,"user_id":10463284,"display_name":"aristas"},"score":0,"creation_date":1560536216,"post_id":56602802,"comment_id":99782655,"body_markdown":"@JBNizet Thank you very much!!!","body":"@JBNizet Thank you very much!!!"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1560589418,"post_id":56602802,"comment_id":99793051,"body_markdown":"@JBNizet Please post your comments as the answer. I&#39;m really tired of reading unanswered questions where the answer is in the comment","body":"@JBNizet Please post your comments as the answer. I&#39;m really tired of reading unanswered questions where the answer is in the comment"},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":0,"creation_date":1653407818,"post_id":56602802,"comment_id":127843103,"body_markdown":"@SimonMartinelli please how we can solve this problem ? I read somewhere that default ordinal cannot be changed ?","body":"@SimonMartinelli please how we can solve this problem ? I read somewhere that default ordinal cannot be changed ?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1653420464,"post_id":56602802,"comment_id":127847539,"body_markdown":"Please ask a new question","body":"Please ask a new question"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1560621382,"creation_date":1560621382,"answer_id":56612842,"question_id":56602802,"body_markdown":"The exception happens at `EnumJavaTypeDescriptor.fromOrdinal`. So my guess is that your role_id value in the database column is 2. \r\n\r\nBut there are only two values in the UserType enum: ADMIN and USER. ADMIN&#39;s ordinal is 0, and USER&#39;s ordinal is 1. So if your row contains 2 in the user_type column, it&#39;s an invalid ordinal for the UserType enum.","title":"How to fix &quot;nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2&quot; in a Spring Boot - postgresql Project","body":"<p>The exception happens at <code>EnumJavaTypeDescriptor.fromOrdinal</code>. So my guess is that your role_id value in the database column is 2. </p>\n\n<p>But there are only two values in the UserType enum: ADMIN and USER. ADMIN's ordinal is 0, and USER's ordinal is 1. So if your row contains 2 in the user_type column, it's an invalid ordinal for the UserType enum.</p>\n"},{"tags":[],"owner":{"account_id":26135934,"reputation":11,"user_id":19825926,"display_name":"Shalini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664274060,"creation_date":1664274060,"answer_id":73865979,"question_id":56602802,"body_markdown":"Pls Check your database value should be 0,1 \r\n","title":"How to fix &quot;nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2&quot; in a Spring Boot - postgresql Project","body":"<p>Pls Check your database value should be 0,1</p>\n"}],"owner":{"account_id":14485085,"reputation":135,"user_id":10463284,"display_name":"aristas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13482,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":56612842,"answer_count":2,"score":8,"last_activity_date":1664274060,"creation_date":1560533397,"question_id":56602802,"body_markdown":"I have a Spring Boot Project with PostgreSQL and when I try to execute the findAll() method from the UserController I get the error. You can see my User Class and the error that I get back, it has to do with the query but I cant find it. Also I use a UserRepository that extends JpaRepository I can execute the method findById but I have this problem in findAll(). \r\n\r\n\r\n\r\n    package com.application.vehicleRepairShop.domain;\r\n\r\n\r\n    @Entity\r\n\r\n    @Table(name = &quot;users&quot;, schema = &quot;vehicleproject&quot;)\r\n\r\n    public class User {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @Column(name = &quot;afm&quot;)\r\n    private int afm;\r\n\r\n    @Column(name = &quot;role_id&quot;)\r\n    private UserType type;\r\n\r\n    @OneToMany(mappedBy = &quot;userId&quot;)\r\n    private List&lt;Vehicle&gt; vehicles;\r\n\r\n    public User(){}\r\n\r\n    public User(long id, String email, String password, String firstName, String lastName, String address, int afm, UserType type, List&lt;Vehicle&gt; vehicles) {\r\n        this.id = id;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.address = address;\r\n        this.afm = afm;\r\n        this.type = type;\r\n        this.vehicles = vehicles;\r\n    }\r\n\r\n    public User(long id, String email, String password, String firstName, String lastName, String address, int afm, UserType type) {\r\n        this.id = id;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.address = address;\r\n        this.afm = afm;\r\n        this.type = type;\r\n        this.vehicles = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public User(String email, String password, String firstName, String lastName, String address, int afm, UserType type) {\r\n\r\n        this.email = email;\r\n        this.password = password;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.address = address;\r\n        this.afm = afm;\r\n        this.type = type;\r\n        this.vehicles = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n\r\n    public List&lt;Vehicle&gt; getVehicles() {\r\n        return vehicles;\r\n    }\r\n\r\n    public void setVehicles(List&lt;Vehicle&gt; vehicles) {\r\n\r\n        this.vehicles = vehicles;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public int getAfm() {\r\n        return afm;\r\n    }\r\n\r\n    public void setAfm(int afm) {\r\n        this.afm = afm;\r\n    }\r\n\r\n    public UserType getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(UserType type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public void addVehicleToList(Vehicle vehicle){\r\n        this.vehicles.add(vehicle);\r\n    }\r\n\r\n    public void removeVehicleFromUserList(Vehicle vehicle){\r\n        this.vehicles.remove(vehicle);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, address=&#39;&quot; + address + &#39;\\&#39;&#39; +\r\n                &quot;, afm=&quot; + afm +\r\n                &quot;, type=&#39;&quot; + type + &#39;\\&#39;&#39; +\r\n                &quot;, vehicles=&quot; + vehicles +\r\n                &#39;}&#39;;\r\n    }\r\n    }\r\n\r\nENUM\r\n\r\n    public enum UserType {\r\n        ADMIN(1),\r\n        USER(2);\r\n    \r\n        private int code;\r\n    \r\n        UserType(int code){\r\n            this.code = code;\r\n        }\r\n    \r\n        public int getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public void setCode(int code) {\r\n            this.code = code;\r\n        }\r\n    }\r\n\r\n\r\nSQL TABLES\r\n\r\n    CREATE TABLE vehicleproject.&quot;roles&quot; (\r\n    \tid serial NOT NULL,\r\n    \t&quot;name&quot; varchar(255) NOT NULL,\r\n    \tCONSTRAINT role_pkey PRIMARY KEY (id)\r\n    );\r\n    \r\n    insert into vehicleproject.&quot;roles&quot;\r\n    (&quot;name&quot;)\r\n    values\r\n    (&#39;ADMIN&#39;),\r\n    (&#39;USER&#39;)\r\n    \r\n    --USERS TABLE-----\r\n    ------------------\r\n    \r\n    CREATE TABLE vehicleproject.&quot;users&quot; (\r\n    \tid serial NOT NULL,\r\n    \temail varchar(255) NULL,\r\n    \t&quot;password&quot; varchar(255) NULL,\r\n    \tfirst_name varchar(255) NOT NULL,\r\n    \tlast_name varchar(255) NOT NULL,\r\n    \taddress varchar(255) NOT NULL,\r\n    \tafm int8 NULL,\r\n    \trole_id int8 NOT NULL,\r\n    \tCONSTRAINT user_email_key UNIQUE (email),\r\n    \tCONSTRAINT user_pkey PRIMARY KEY (id),\r\n    \tCONSTRAINT user_role_id_fkey FOREIGN KEY (role_id) REFERENCES vehicleproject.&quot;roles&quot;(id)\r\n    );\r\n\r\n\r\nERROR\r\n\r\n    2019-06-14 19:56:33.678  INFO 13992 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2019-06-14 19:56:33.806  INFO 13992 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2019-06-14 19:56:33.850  INFO 13992 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\r\n    \tname: default\r\n    \t...]\r\n    2019-06-14 19:56:33.926  INFO 13992 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}\r\n    2019-06-14 19:56:33.927  INFO 13992 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2019-06-14 19:56:34.064  INFO 13992 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n    2019-06-14 19:56:34.241  INFO 13992 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect\r\n    2019-06-14 19:56:34.432  INFO 13992 --- [           main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true\r\n    2019-06-14 19:56:34.434  INFO 13992 --- [           main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6c5ca0b6\r\n    2019-06-14 19:56:35.346  INFO 13992 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-06-14 19:56:35.904  INFO 13992 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2019-06-14 19:56:35.956  WARN 13992 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2019-06-14 19:56:36.284  INFO 13992 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2019-06-14 19:56:36.289  INFO 13992 --- [           main] c.a.v.VehicleRepairShopApplication       : Started VehicleRepairShopApplication in 5.695 seconds (JVM running for 6.765)\r\n    2019-06-14 19:56:40.761  INFO 13992 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2019-06-14 19:56:40.762  INFO 13992 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2019-06-14 19:56:40.773  INFO 13992 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\r\n    2019-06-14 19:56:40.845  INFO 13992 --- [nio-8080-exec-1] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\r\n    2019-06-14 19:56:40.966 DEBUG 13992 --- [nio-8080-exec-1] org.hibernate.SQL                        : \r\n        select\r\n            user0_.id as id1_0_,\r\n            user0_.address as address2_0_,\r\n            user0_.afm as afm3_0_,\r\n            user0_.email as email4_0_,\r\n            user0_.first_name as first_na5_0_,\r\n            user0_.last_name as last_nam6_0_,\r\n            user0_.password as password7_0_,\r\n            user0_.role_id as role_id8_0_ \r\n        from\r\n            vehicleproject.users user0_\r\n    2019-06-14 19:56:41.003 ERROR 13992 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2] with root cause\r\n    \r\n    java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\r\n    \tat org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromOrdinal(EnumJavaTypeDescriptor.java:76) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.metamodel.model.convert.internal.OrdinalEnumValueConverter.toDomainValue(OrdinalEnumValueConverter.java:38) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.metamodel.model.convert.internal.OrdinalEnumValueConverter.readValue(OrdinalEnumValueConverter.java:67) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3010) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1746) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1672) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.getRow(Loader.java:1561) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:731) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.processResultSet(Loader.java:990) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:340) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2689) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2672) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2506) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2501) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:504) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:395) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:220) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1507) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1537) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1505) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:132) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:74) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:306) ~[spring-data-jpa-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:138) ~[spring-data-jpa-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat com.sun.proxy.$Proxy92.findAll(Unknown Source) ~[na:na]\r\n    \tat com.application.vehicleRepairShop.service.UserServiceImpl.findAll(UserServiceImpl.java:72) ~[classes/:na]\r\n    \tat com.application.vehicleRepairShop.controller.UserController.findAll(UserController.java:41) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\n","title":"How to fix &quot;nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2&quot; in a Spring Boot - postgresql Project","body":"<p>I have a Spring Boot Project with PostgreSQL and when I try to execute the findAll() method from the UserController I get the error. You can see my User Class and the error that I get back, it has to do with the query but I cant find it. Also I use a UserRepository that extends JpaRepository I can execute the method findById but I have this problem in findAll(). </p>\n\n<pre><code>package com.application.vehicleRepairShop.domain;\n\n\n@Entity\n\n@Table(name = \"users\", schema = \"vehicleproject\")\n\npublic class User {\n\n@Id\n@Column(name = \"id\")\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@Column(name = \"email\")\nprivate String email;\n\n@Column(name = \"password\")\nprivate String password;\n\n@Column(name = \"first_name\")\nprivate String firstName;\n\n@Column(name = \"last_name\")\nprivate String lastName;\n\n@Column(name = \"address\")\nprivate String address;\n\n@Column(name = \"afm\")\nprivate int afm;\n\n@Column(name = \"role_id\")\nprivate UserType type;\n\n@OneToMany(mappedBy = \"userId\")\nprivate List&lt;Vehicle&gt; vehicles;\n\npublic User(){}\n\npublic User(long id, String email, String password, String firstName, String lastName, String address, int afm, UserType type, List&lt;Vehicle&gt; vehicles) {\n    this.id = id;\n    this.email = email;\n    this.password = password;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.address = address;\n    this.afm = afm;\n    this.type = type;\n    this.vehicles = vehicles;\n}\n\npublic User(long id, String email, String password, String firstName, String lastName, String address, int afm, UserType type) {\n    this.id = id;\n    this.email = email;\n    this.password = password;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.address = address;\n    this.afm = afm;\n    this.type = type;\n    this.vehicles = new ArrayList&lt;&gt;();\n}\n\npublic User(String email, String password, String firstName, String lastName, String address, int afm, UserType type) {\n\n    this.email = email;\n    this.password = password;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.address = address;\n    this.afm = afm;\n    this.type = type;\n    this.vehicles = new ArrayList&lt;&gt;();\n}\n\n\npublic List&lt;Vehicle&gt; getVehicles() {\n    return vehicles;\n}\n\npublic void setVehicles(List&lt;Vehicle&gt; vehicles) {\n\n    this.vehicles = vehicles;\n}\n\npublic long getId() {\n    return id;\n}\n\npublic void setId(long id) {\n    this.id = id;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic String getAddress() {\n    return address;\n}\n\npublic void setAddress(String address) {\n    this.address = address;\n}\n\npublic int getAfm() {\n    return afm;\n}\n\npublic void setAfm(int afm) {\n    this.afm = afm;\n}\n\npublic UserType getType() {\n    return type;\n}\n\npublic void setType(UserType type) {\n    this.type = type;\n}\n\npublic void addVehicleToList(Vehicle vehicle){\n    this.vehicles.add(vehicle);\n}\n\npublic void removeVehicleFromUserList(Vehicle vehicle){\n    this.vehicles.remove(vehicle);\n}\n\n\n\n@Override\npublic String toString() {\n    return \"User{\" +\n            \"id=\" + id +\n            \", email='\" + email + '\\'' +\n            \", password='\" + password + '\\'' +\n            \", firstName='\" + firstName + '\\'' +\n            \", lastName='\" + lastName + '\\'' +\n            \", address='\" + address + '\\'' +\n            \", afm=\" + afm +\n            \", type='\" + type + '\\'' +\n            \", vehicles=\" + vehicles +\n            '}';\n}\n}\n</code></pre>\n\n<p>ENUM</p>\n\n<pre><code>public enum UserType {\n    ADMIN(1),\n    USER(2);\n\n    private int code;\n\n    UserType(int code){\n        this.code = code;\n    }\n\n    public int getCode() {\n        return code;\n    }\n\n    public void setCode(int code) {\n        this.code = code;\n    }\n}\n</code></pre>\n\n<p>SQL TABLES</p>\n\n<pre><code>CREATE TABLE vehicleproject.\"roles\" (\n    id serial NOT NULL,\n    \"name\" varchar(255) NOT NULL,\n    CONSTRAINT role_pkey PRIMARY KEY (id)\n);\n\ninsert into vehicleproject.\"roles\"\n(\"name\")\nvalues\n('ADMIN'),\n('USER')\n\n--USERS TABLE-----\n------------------\n\nCREATE TABLE vehicleproject.\"users\" (\n    id serial NOT NULL,\n    email varchar(255) NULL,\n    \"password\" varchar(255) NULL,\n    first_name varchar(255) NOT NULL,\n    last_name varchar(255) NOT NULL,\n    address varchar(255) NOT NULL,\n    afm int8 NULL,\n    role_id int8 NOT NULL,\n    CONSTRAINT user_email_key UNIQUE (email),\n    CONSTRAINT user_pkey PRIMARY KEY (id),\n    CONSTRAINT user_role_id_fkey FOREIGN KEY (role_id) REFERENCES vehicleproject.\"roles\"(id)\n);\n</code></pre>\n\n<p>ERROR</p>\n\n<pre><code>2019-06-14 19:56:33.678  INFO 13992 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2019-06-14 19:56:33.806  INFO 13992 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2019-06-14 19:56:33.850  INFO 13992 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\n    name: default\n    ...]\n2019-06-14 19:56:33.926  INFO 13992 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}\n2019-06-14 19:56:33.927  INFO 13992 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2019-06-14 19:56:34.064  INFO 13992 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n2019-06-14 19:56:34.241  INFO 13992 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect\n2019-06-14 19:56:34.432  INFO 13992 --- [           main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true\n2019-06-14 19:56:34.434  INFO 13992 --- [           main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6c5ca0b6\n2019-06-14 19:56:35.346  INFO 13992 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2019-06-14 19:56:35.904  INFO 13992 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2019-06-14 19:56:35.956  WARN 13992 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2019-06-14 19:56:36.284  INFO 13992 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2019-06-14 19:56:36.289  INFO 13992 --- [           main] c.a.v.VehicleRepairShopApplication       : Started VehicleRepairShopApplication in 5.695 seconds (JVM running for 6.765)\n2019-06-14 19:56:40.761  INFO 13992 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2019-06-14 19:56:40.762  INFO 13992 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2019-06-14 19:56:40.773  INFO 13992 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\n2019-06-14 19:56:40.845  INFO 13992 --- [nio-8080-exec-1] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\n2019-06-14 19:56:40.966 DEBUG 13992 --- [nio-8080-exec-1] org.hibernate.SQL                        : \n    select\n        user0_.id as id1_0_,\n        user0_.address as address2_0_,\n        user0_.afm as afm3_0_,\n        user0_.email as email4_0_,\n        user0_.first_name as first_na5_0_,\n        user0_.last_name as last_nam6_0_,\n        user0_.password as password7_0_,\n        user0_.role_id as role_id8_0_ \n    from\n        vehicleproject.users user0_\n2019-06-14 19:56:41.003 ERROR 13992 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2] with root cause\n\njava.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\n    at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromOrdinal(EnumJavaTypeDescriptor.java:76) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.metamodel.model.convert.internal.OrdinalEnumValueConverter.toDomainValue(OrdinalEnumValueConverter.java:38) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.metamodel.model.convert.internal.OrdinalEnumValueConverter.readValue(OrdinalEnumValueConverter.java:67) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3010) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1746) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1672) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.getRow(Loader.java:1561) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:731) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:990) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:340) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2689) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2672) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2506) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2501) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:504) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:395) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:220) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1507) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1537) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1505) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:132) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:74) ~[hibernate-core-5.3.9.Final.jar:5.3.9.Final]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:306) ~[spring-data-jpa-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:138) ~[spring-data-jpa-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at com.sun.proxy.$Proxy92.findAll(Unknown Source) ~[na:na]\n    at com.application.vehicleRepairShop.service.UserServiceImpl.findAll(UserServiceImpl.java:72) ~[classes/:na]\n    at com.application.vehicleRepairShop.controller.UserController.findAll(UserController.java:41) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.17.jar:9.0.17]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n"},{"tags":["java","xml","spring-boot","logging","logstash-logback-encoder"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1664273844,"post_id":73865911,"comment_id":130428455,"body_markdown":"Your `logging` properties in your `application.properties` are useless because you included a `logback.xml`. That `logback.xml` doesn&#39;t contain any console logger so naturally there is no logging to the console. Include the console logger.","body":"Your <code>logging</code> properties in your <code>application.properties</code> are useless because you included a <code>logback.xml</code>. That <code>logback.xml</code> doesn&#39;t contain any console logger so naturally there is no logging to the console. Include the console logger."},{"owner":{"account_id":7792578,"reputation":137,"user_id":5894962,"display_name":"Yusuf gndz"},"score":0,"creation_date":1664274537,"post_id":73865911,"comment_id":130428689,"body_markdown":"https://howtodoinjava.com/spring-boot2/logging/console-logging-configuration/ and \n https://stackoverflow.com/questions/5653062/how-can-i-configure-logback-to-log-different-levels-for-a-logger-to-different-de has helped me thanks for pointing that the logs can be sent to any kind of appender.","body":"<a href=\"https://howtodoinjava.com/spring-boot2/logging/console-logging-configuration/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring-boot2/logging/&hellip;</a> and   <a href=\"https://stackoverflow.com/questions/5653062/how-can-i-configure-logback-to-log-different-levels-for-a-logger-to-different-de\" title=\"how can i configure logback to log different levels for a logger to different de\">stackoverflow.com/questions/5653062/&hellip;</a> has helped me thanks for pointing that the logs can be sent to any kind of appender."}],"owner":{"account_id":7792578,"reputation":137,"user_id":5894962,"display_name":"Yusuf gndz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664274245,"answer_count":0,"score":0,"last_activity_date":1664273712,"creation_date":1664273712,"question_id":73865911,"body_markdown":"I succeeded sending logs to my elk stack but now the issue is I don&#39;t have any standart output. it basically makes development hard. I wan&#39;t to be able to get logs on the console as well. \r\n\r\n\r\nonly log I get is as below, continuing logs are sent to logstash.\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.4)\r\n\r\n```\r\n\r\nMy `logback.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;stash&quot; class=&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;&gt;\r\n        &lt;destination&gt;host:port&lt;/destination&gt;\r\n\r\n        &lt;reconnectionDelay&gt;1 second&lt;/reconnectionDelay&gt;\r\n        &lt;connectionTimeout&gt;5 seconds&lt;/connectionTimeout&gt;\r\n        &lt;keepAliveDuration&gt;5 minutes&lt;/keepAliveDuration&gt;\r\n        &lt;writeBufferSize&gt;16384&lt;/writeBufferSize&gt;\r\n        &lt;writeTimeout&gt;1 minute&lt;/writeTimeout&gt;\r\n\r\n        &lt;!-- encoder is required --&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; &gt;\r\n            &lt;customFields&gt;{&quot;app_name&quot;:&quot;app name&quot;, &quot;app_port&quot;: &quot;app port&quot;}&lt;/customFields&gt;\r\n\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;all&quot;&gt;\r\n        &lt;appender-ref ref=&quot;stash&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nmy `pom.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;name&lt;/name&gt;\r\n    &lt;description&gt;desc&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n            &lt;version&gt;7.2&lt;/version&gt;\r\n            &lt;!-- Use runtime scope if the project does not have any compile-time usage of logstash-logback-encoder,\r\n                 such as usage of StructuredArguments/Markers or implementations such as\r\n                 JsonProvider, AppenderListener, JsonFactoryDecorator, JsonGeneratorDecorator, etc\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.uuid/java-uuid-generator --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!--used for skipping tests connection during build--&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nit also does not produce log files. Well it is no longer important to me as it streams to elk stack.\r\n\r\n`application.properties`:\r\n\r\n```\r\nlogging.level.root=INFO\r\nlogging.level.web=INFO\r\nlogging.logback.rollingpolicy.max-file-size=20MB\r\nlogging.file.name=logs/app.log\r\nlogging.file.path=logs\r\nlogging.logback.rollingpolicy.max-history=7\r\n```","title":"How to enable console logging while sending logs to logstash","body":"<p>I succeeded sending logs to my elk stack but now the issue is I don't have any standart output. it basically makes development hard. I wan't to be able to get logs on the console as well.</p>\n<p>only log I get is as below, continuing logs are sent to logstash.</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.4)\n\n</code></pre>\n<p>My <code>logback.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;stash&quot; class=&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;&gt;\n        &lt;destination&gt;host:port&lt;/destination&gt;\n\n        &lt;reconnectionDelay&gt;1 second&lt;/reconnectionDelay&gt;\n        &lt;connectionTimeout&gt;5 seconds&lt;/connectionTimeout&gt;\n        &lt;keepAliveDuration&gt;5 minutes&lt;/keepAliveDuration&gt;\n        &lt;writeBufferSize&gt;16384&lt;/writeBufferSize&gt;\n        &lt;writeTimeout&gt;1 minute&lt;/writeTimeout&gt;\n\n        &lt;!-- encoder is required --&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; &gt;\n            &lt;customFields&gt;{&quot;app_name&quot;:&quot;app name&quot;, &quot;app_port&quot;: &quot;app port&quot;}&lt;/customFields&gt;\n\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;all&quot;&gt;\n        &lt;appender-ref ref=&quot;stash&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;name&lt;/name&gt;\n    &lt;description&gt;desc&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;7.2&lt;/version&gt;\n            &lt;!-- Use runtime scope if the project does not have any compile-time usage of logstash-logback-encoder,\n                 such as usage of StructuredArguments/Markers or implementations such as\n                 JsonProvider, AppenderListener, JsonFactoryDecorator, JsonGeneratorDecorator, etc\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.13.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.13.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.uuid/java-uuid-generator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\n            &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!--used for skipping tests connection during build--&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>it also does not produce log files. Well it is no longer important to me as it streams to elk stack.</p>\n<p><code>application.properties</code>:</p>\n<pre><code>logging.level.root=INFO\nlogging.level.web=INFO\nlogging.logback.rollingpolicy.max-file-size=20MB\nlogging.file.name=logs/app.log\nlogging.file.path=logs\nlogging.logback.rollingpolicy.max-history=7\n</code></pre>\n"},{"tags":["java","spring","spring-boot","logging","resttemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1664273136,"post_id":73865697,"comment_id":130428210,"body_markdown":"Create 2 `RestTemplate` instances, one with and the other without the logging. Use the logging one wherever you want to use logging. You can use an `@Qualifier` for that (create one yourself and use that on the bean and target, like `@Logged`), define the one used by default as `@Primary`).","body":"Create 2 <code>RestTemplate</code> instances, one with and the other without the logging. Use the logging one wherever you want to use logging. You can use an <code>@Qualifier</code> for that (create one yourself and use that on the bean and target, like <code>@Logged</code>), define the one used by default as <code>@Primary</code>)."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664273625,"creation_date":1664273625,"answer_id":73865889,"question_id":73865697,"body_markdown":"2 ways I can think of this:\r\n\r\n1. Implement the URLs (or patterns) you want to log in your interceptor\r\n2. Configure 2 `RestTemplate` instances one with and one without logging and decide which to use where. You can use a dedicated `@Qualifier` for this. \r\n\r\n```java\r\n@Target({ElementType.FIELD,\r\n            ElementType.METHOD,\r\n            ElementType.TYPE,\r\n            ElementType.PARAMETER})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Qualifier\r\npublic @interface Logged {}\r\n```\r\n\r\nYou can now use this qualifing annotation to create 2 beans and put it on the `@Autowired` field or constructor argument to decide which to inject. \r\n\r\n```java\r\n@Bean\r\n@Primary\r\npublic RestTemplate restTemplate(RestTemplateBuilder rtb) {\r\n  return rtb.build();\r\n}\r\n\r\n@Bean\r\n@Logged\r\npublic RestTemplate restTemplate(RestTemplateBuilder rtb) {\r\n  return rtb.interceptors(new RequestLoggingInterceptor()).build();\r\n}\r\n```\r\n\r\nNow your code will use the `@Primary` one where ever there is a `RestTemplate` needed. If you want to use the logging one then explicitly annotate that place with `@Logged`. \r\n\r\n```java\r\n@Service\r\npublic class MyService {\r\n\r\n  private final RestTemplate rest;\r\n\r\n  public MyService(@Logged RestTemplate rest) {\r\n    this.rest=rest;\r\n  }\r\n}\r\n```","title":"rest template logging request and response for specific endpoint only","body":"<p>2 ways I can think of this:</p>\n<ol>\n<li>Implement the URLs (or patterns) you want to log in your interceptor</li>\n<li>Configure 2 <code>RestTemplate</code> instances one with and one without logging and decide which to use where. You can use a dedicated <code>@Qualifier</code> for this.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.FIELD,\n            ElementType.METHOD,\n            ElementType.TYPE,\n            ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\n@Qualifier\npublic @interface Logged {}\n</code></pre>\n<p>You can now use this qualifing annotation to create 2 beans and put it on the <code>@Autowired</code> field or constructor argument to decide which to inject.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Primary\npublic RestTemplate restTemplate(RestTemplateBuilder rtb) {\n  return rtb.build();\n}\n\n@Bean\n@Logged\npublic RestTemplate restTemplate(RestTemplateBuilder rtb) {\n  return rtb.interceptors(new RequestLoggingInterceptor()).build();\n}\n</code></pre>\n<p>Now your code will use the <code>@Primary</code> one where ever there is a <code>RestTemplate</code> needed. If you want to use the logging one then explicitly annotate that place with <code>@Logged</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n\n  private final RestTemplate rest;\n\n  public MyService(@Logged RestTemplate rest) {\n    this.rest=rest;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664273625,"creation_date":1664272759,"question_id":73865697,"body_markdown":"Im trying to get log the Rest template request and response and it **working** and my reference is this https://www.baeldung.com/spring-resttemplate-logging and https://medium.com/javarevisited/spring-resttemplate-request-response-logging-f021be66c2c0\r\nbut the problem is, its getting it **all endpont**. I want for a c**ertain endpoint only**. https://www.baeldung.com/rest-template .If you have suggestion, kindly share.I been looking for a solution for days.\r\n","title":"rest template logging request and response for specific endpoint only","body":"<p>Im trying to get log the Rest template request and response and it <strong>working</strong> and my reference is this <a href=\"https://www.baeldung.com/spring-resttemplate-logging\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-resttemplate-logging</a> and <a href=\"https://medium.com/javarevisited/spring-resttemplate-request-response-logging-f021be66c2c0\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/spring-resttemplate-request-response-logging-f021be66c2c0</a>\nbut the problem is, its getting it <strong>all endpont</strong>. I want for a c<strong>ertain endpoint only</strong>. <a href=\"https://www.baeldung.com/rest-template\" rel=\"nofollow noreferrer\">https://www.baeldung.com/rest-template</a> .If you have suggestion, kindly share.I been looking for a solution for days.</p>\n"},{"tags":["java","json","jackson","apache-tomee","tomee-8"],"answers":[{"tags":[],"owner":{"account_id":26447592,"reputation":71,"user_id":20091245,"display_name":"Massimo Intelisano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664273507,"creation_date":1664273507,"answer_id":73865867,"question_id":73856720,"body_markdown":"I think I have found a solution creating a class with the Provider annotation.\r\n\r\nThe opnejb-jar.xml is not necessary.\r\n\r\n```\r\nimport com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.ext.Provider;\r\n\r\n@Provider\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class MyDefaultJsonRestProvider extends JacksonJsonProvider {\r\n    \r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Apache TomEE Webprofile 8 - Unable to Change JSon Rest Provider from Johnzon to Jackson","body":"<p>I think I have found a solution creating a class with the Provider annotation.</p>\n<p>The opnejb-jar.xml is not necessary.</p>\n<pre><code>import com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.ext.Provider;\n\n@Provider\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic class MyDefaultJsonRestProvider extends JacksonJsonProvider {\n    \n}\n</code></pre>\n"}],"owner":{"account_id":26447592,"reputation":71,"user_id":20091245,"display_name":"Massimo Intelisano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664273507,"creation_date":1664207493,"question_id":73856720,"body_markdown":"I have a web application deployed on Apache TomEE web profile 8.0.12.\r\nThe application exposes a rest service that returns a json.\r\nThe default library used from TomEE is Johnzon.\r\nI&#39;m trying to change the default Johnzon json provider with the Jackson json provider.\r\n\r\nTo test the switch of the provider I have developed a rest service that returns a class with two strings, and one of the two strings is ignored using the Jackson @JsonIgnore annotation.\r\n```\r\npublic class PropContainer {\r\n    \r\n    @JsonIgnore\r\n    private String prop1;\r\n\t\r\n\tprivate String prop2;\r\n...\r\n```\r\nAnd a rest service that returns the PropContainer class\r\n\r\n```\r\n@Path(&quot;config&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Stateless\r\npublic class PreferencesService {\r\n    \r\n    @Path(&quot;get&quot;)\r\n    @GET\r\n    @JacksonFeatures(serializationEnable =  { SerializationFeature.INDENT_OUTPUT })\r\n    public PropContainer get(){\r\n\t\r\n\t...\r\n```\r\n\r\nAfter invoking the service, the json is not formatted (the @JacksonFeatures is ignored) and prop1 attribute is in the response (the Jackson @JsonIgnore annotation is ignored). I think that TomEE is still using the Johnzon library.\r\n\r\nReading the TomEE documentation, the steps to change the json rest provider are:\r\n\r\n 1. create the file openejb-jar.xml under src\\main\\webapp\\WEB-INF\\\r\n 2. in openejb-jar.xml file specify the Jackson provider\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;openejb-jar xmlns=&quot;http://www.openejb.org/openejb-jar/1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.openejb.org/openejb-jar/1.1&quot;&gt;\r\n\t   &lt;pojo-deployment class-name=&quot;jaxrs-application&quot;&gt;\r\n\t\t  &lt;properties&gt;\r\n\t\t\t cxf.jaxrs.providers = com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider\r\n\t\t  &lt;/properties&gt;\r\n\t   &lt;/pojo-deployment&gt;\r\n\t&lt;/openejb-jar&gt;\r\n```\r\n\r\nAny suggestions?\r\n\r\nThank you for the support.\r\n","title":"Apache TomEE Webprofile 8 - Unable to Change JSon Rest Provider from Johnzon to Jackson","body":"<p>I have a web application deployed on Apache TomEE web profile 8.0.12.\nThe application exposes a rest service that returns a json.\nThe default library used from TomEE is Johnzon.\nI'm trying to change the default Johnzon json provider with the Jackson json provider.</p>\n<p>To test the switch of the provider I have developed a rest service that returns a class with two strings, and one of the two strings is ignored using the Jackson @JsonIgnore annotation.</p>\n<pre><code>public class PropContainer {\n    \n    @JsonIgnore\n    private String prop1;\n    \n    private String prop2;\n...\n</code></pre>\n<p>And a rest service that returns the PropContainer class</p>\n<pre><code>@Path(&quot;config&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n@Stateless\npublic class PreferencesService {\n    \n    @Path(&quot;get&quot;)\n    @GET\n    @JacksonFeatures(serializationEnable =  { SerializationFeature.INDENT_OUTPUT })\n    public PropContainer get(){\n    \n    ...\n</code></pre>\n<p>After invoking the service, the json is not formatted (the @JacksonFeatures is ignored) and prop1 attribute is in the response (the Jackson @JsonIgnore annotation is ignored). I think that TomEE is still using the Johnzon library.</p>\n<p>Reading the TomEE documentation, the steps to change the json rest provider are:</p>\n<ol>\n<li>create the file openejb-jar.xml under src\\main\\webapp\\WEB-INF\\</li>\n<li>in openejb-jar.xml file specify the Jackson provider</li>\n</ol>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;openejb-jar xmlns=&quot;http://www.openejb.org/openejb-jar/1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.openejb.org/openejb-jar/1.1&quot;&gt;\n       &lt;pojo-deployment class-name=&quot;jaxrs-application&quot;&gt;\n          &lt;properties&gt;\n             cxf.jaxrs.providers = com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider\n          &lt;/properties&gt;\n       &lt;/pojo-deployment&gt;\n    &lt;/openejb-jar&gt;\n</code></pre>\n<p>Any suggestions?</p>\n<p>Thank you for the support.</p>\n"},{"tags":["java","arrays","loops","for-loop","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":9342962,"reputation":1,"user_id":6935071,"display_name":"PandaChen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664272717,"creation_date":1664272717,"answer_id":73865684,"question_id":73865327,"body_markdown":"Hi， in your first loop code,the value of i less than &#39;1&#39;, so always print a[0][j].\r\n\r\n     int k = 0;\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            for (int j = 0; j &lt; 5; j++) {\r\n                if (k == 12) {\r\n                    System.out.print(&quot;FR&quot;+&quot; &quot;);\r\n                }else {\r\n                    System.out.print(arr[i][j] + &quot; &quot;);\r\n                }\r\n                k++;\r\n            }\r\n\r\n            System.out.println();\r\n        }\r\n","title":"How to create a 2D array using linear data","body":"<p>Hi， in your first loop code,the value of i less than '1', so always print a[0][j].</p>\n<pre><code> int k = 0;\n    for (int i = 0; i &lt; 5; i++) {\n        for (int j = 0; j &lt; 5; j++) {\n            if (k == 12) {\n                System.out.print(&quot;FR&quot;+&quot; &quot;);\n            }else {\n                System.out.print(arr[i][j] + &quot; &quot;);\n            }\n            k++;\n        }\n\n        System.out.println();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664273376,"creation_date":1664273376,"answer_id":73865838,"question_id":73865327,"body_markdown":"Try this.\r\n\r\n    int center = 12;\r\n    for (int i = 0; i &lt; 5; ++i) {\r\n        for (int j = i; j &lt; i + 25; j += 5) {\r\n            if (j == center)\r\n                System.out.printf(&quot;FR &quot;);\r\n            else\r\n                System.out.printf(&quot;%-3d&quot;, arr[0][j &lt;= center ? j : j - 1]);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\noutput:\r\n\r\n    9  26 32 58 74 \r\n    15 30 39 21 65 \r\n    4  18 FR 49 75 \r\n    10 24 42 56 71 \r\n    7  21 37 50 72 \r\n\r\n","title":"How to create a 2D array using linear data","body":"<p>Try this.</p>\n<pre><code>int center = 12;\nfor (int i = 0; i &lt; 5; ++i) {\n    for (int j = i; j &lt; i + 25; j += 5) {\n        if (j == center)\n            System.out.printf(&quot;FR &quot;);\n        else\n            System.out.printf(&quot;%-3d&quot;, arr[0][j &lt;= center ? j : j - 1]);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>output:</p>\n<pre><code>9  26 32 58 74 \n15 30 39 21 65 \n4  18 FR 49 75 \n10 24 42 56 71 \n7  21 37 50 72 \n</code></pre>\n"}],"owner":{"account_id":24469355,"reputation":1,"user_id":18389315,"display_name":"Peter "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664273376,"creation_date":1664271233,"question_id":73865327,"body_markdown":"I have this issue where I am trying to create a 5x5 grid of values. \r\n\r\nthis is what my code currently looks like \r\n\r\n    public class a {\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        int[][] arr ={ { 9, 15, 4, 10, 7, 26, 30, 18, 24, 21, 32, 39, 42, 37, 58, 21, 49, 56, 50, 74, 65, 75, 71, 72 },\r\n        { 12, 3, 7, 6, 11, 28, 24, 25, 22, 19, 31, 35, 45, 37, 52, 57, 56, 57, 53, 62, 66, 67, 72, 75 },\r\n        { 4, 8, 5, 2, 13, 25, 27, 22, 26, 18, 36, 33, 34, 44, 50, 59, 48, 58, 46, 74, 71, 73, 70, 66 },\r\n        { 11, 3, 7, 6, 12, 28, 24, 25, 22, 19, 31, 35, 45, 37, 52, 57, 56, 50, 53, 62, 66, 67, 72, 75 },\r\n        { 9, 15, 4, 10, 7, 26, 30, 18, 24, 21, 32, 39, 42, 37, 58, 51, 49, 56, 50, 74, 65, 75, 71, 72 },\r\n        { 10, 5, 12, 7, 2, 26, 24, 18, 29, 21, 33, 40, 43, 32, 49, 60, 57, 46, 56, 64, 67, 72, 62, 65 },\r\n        { 7, 8, 6, 14, 9, 27, 16, 23, 25, 21, 44, 37, 45, 34, 53, 52, 60, 56, 48, 73, 66, 65, 74, 62 },\r\n        { 4, 2, 13, 15, 6, 19, 24, 22, 26, 18, 33, 43, 34, 32, 55, 50, 58, 59, 46, 70, 73, 68, 64, 71 },\r\n        { 5, 13, 7, 12, 10, 29, 19, 23, 26, 30, 41, 36, 40, 35, 51, 54, 56, 48, 53, 71, 61, 66, 69, 74 },\r\n        { 5, 11, 9, 1, 2, 25, 16, 28, 20, 19, 39, 40, 44, 42, 55, 58, 54, 53, 60, 72, 67, 70, 61, 71 },\r\n        { 6, 7, 11, 3, 4, 17, 18, 25, 24, 20, 38, 42, 33, 41, 48, 54, 52, 57, 46, 66, 63, 69, 64, 61 } };\r\n    ;\r\n\r\n        for (int i = 0; i &lt; 1; i++)\r\n            for (int j = 0; j &lt; 5; j++)\r\n                System.out.println(arr[i][j] );\r\n    }\r\n\r\n\r\nand the output looks like this:\r\n\r\n    9\r\n    15\r\n    4\r\n    10\r\n    7\r\n\r\nhow would I alter this for the output to look like \r\n\r\n    9   26  32  58  74\r\n    15  30  39  21  65\r\n    4   18  FR  49  75\r\n    10  24  42  56  71\r\n    7   21  37  50  72\r\n\r\nafter the first 12 numbers I want FR to appear and then display the last 12 numbers ","title":"How to create a 2D array using linear data","body":"<p>I have this issue where I am trying to create a 5x5 grid of values.</p>\n<p>this is what my code currently looks like</p>\n<pre><code>public class a {\npublic static void main(String[] args)\n{\n\n    int[][] arr ={ { 9, 15, 4, 10, 7, 26, 30, 18, 24, 21, 32, 39, 42, 37, 58, 21, 49, 56, 50, 74, 65, 75, 71, 72 },\n    { 12, 3, 7, 6, 11, 28, 24, 25, 22, 19, 31, 35, 45, 37, 52, 57, 56, 57, 53, 62, 66, 67, 72, 75 },\n    { 4, 8, 5, 2, 13, 25, 27, 22, 26, 18, 36, 33, 34, 44, 50, 59, 48, 58, 46, 74, 71, 73, 70, 66 },\n    { 11, 3, 7, 6, 12, 28, 24, 25, 22, 19, 31, 35, 45, 37, 52, 57, 56, 50, 53, 62, 66, 67, 72, 75 },\n    { 9, 15, 4, 10, 7, 26, 30, 18, 24, 21, 32, 39, 42, 37, 58, 51, 49, 56, 50, 74, 65, 75, 71, 72 },\n    { 10, 5, 12, 7, 2, 26, 24, 18, 29, 21, 33, 40, 43, 32, 49, 60, 57, 46, 56, 64, 67, 72, 62, 65 },\n    { 7, 8, 6, 14, 9, 27, 16, 23, 25, 21, 44, 37, 45, 34, 53, 52, 60, 56, 48, 73, 66, 65, 74, 62 },\n    { 4, 2, 13, 15, 6, 19, 24, 22, 26, 18, 33, 43, 34, 32, 55, 50, 58, 59, 46, 70, 73, 68, 64, 71 },\n    { 5, 13, 7, 12, 10, 29, 19, 23, 26, 30, 41, 36, 40, 35, 51, 54, 56, 48, 53, 71, 61, 66, 69, 74 },\n    { 5, 11, 9, 1, 2, 25, 16, 28, 20, 19, 39, 40, 44, 42, 55, 58, 54, 53, 60, 72, 67, 70, 61, 71 },\n    { 6, 7, 11, 3, 4, 17, 18, 25, 24, 20, 38, 42, 33, 41, 48, 54, 52, 57, 46, 66, 63, 69, 64, 61 } };\n;\n\n    for (int i = 0; i &lt; 1; i++)\n        for (int j = 0; j &lt; 5; j++)\n            System.out.println(arr[i][j] );\n}\n</code></pre>\n<p>and the output looks like this:</p>\n<pre><code>9\n15\n4\n10\n7\n</code></pre>\n<p>how would I alter this for the output to look like</p>\n<pre><code>9   26  32  58  74\n15  30  39  21  65\n4   18  FR  49  75\n10  24  42  56  71\n7   21  37  50  72\n</code></pre>\n<p>after the first 12 numbers I want FR to appear and then display the last 12 numbers</p>\n"},{"tags":["java","ssl-certificate","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1664304773,"post_id":73865776,"comment_id":130439846,"body_markdown":"no one has reported this before so it sounds like you are missing something. I have a feeling windows paths like what you are using won&#39;t work. try keeping the files side-by-side with your tests to troubleshoot. besides asking you to &quot;read the docs&quot; I don&#39;t have any other advice right now. karate is open-source and contributions are welcome","body":"no one has reported this before so it sounds like you are missing something. I have a feeling windows paths like what you are using won&#39;t work. try keeping the files side-by-side with your tests to troubleshoot. besides asking you to &quot;read the docs&quot; I don&#39;t have any other advice right now. karate is open-source and contributions are welcome"}],"owner":{"account_id":26334041,"reputation":21,"user_id":19994157,"display_name":"Aishani Mukerji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664273067,"creation_date":1664273067,"question_id":73865776,"body_markdown":"Can anyone please help me understand how I can add a CA.crt file without any private key to karate , in which format? I am not being able to convert the CA.crt file into JKS/PKCS12/PKCS11 due to the lack of private key. Its a public cert and working when I am firing the api in Postman with SSL verification on. \r\n\r\nI tried to use openssl to convert the .crt to .p12 file following the command:\r\n```\r\nopenssl pkcs12 -export -in sapCA.crt -out cert.p12\r\n```\r\nHowever, it is showing the following error:\r\n```\r\nCould not read private key from -in file from sapCA.crt\r\n```\r\nI tried to force download the CA file in jks format and run my feature file.\r\nThis is my feature file:\r\n```\r\n Scenario: To get the api authenticated- to execute the api with client credential.  \r\n    \r\n   \t* configure ssl = {trustStore:&#39;C:\\\\Users\\\\Certificates\\\\Root CA.jks&#39;,trustStoreType: &#39;jks&#39;}\r\n    Given url baseUrl\r\n    When method GET\r\n    Then status 200\r\n    * print response\r\n```\r\nHowever, in karate its showing the following error:\r\n```\r\nsrc.test.java.features.firsttest: firsttest.feature:14 - java.io.IOException: Invalid keystore format\r\n```","title":"How to add a public CA file in the truststore format without any private key to karate framework for SSL verification?","body":"<p>Can anyone please help me understand how I can add a CA.crt file without any private key to karate , in which format? I am not being able to convert the CA.crt file into JKS/PKCS12/PKCS11 due to the lack of private key. Its a public cert and working when I am firing the api in Postman with SSL verification on.</p>\n<p>I tried to use openssl to convert the .crt to .p12 file following the command:</p>\n<pre><code>openssl pkcs12 -export -in sapCA.crt -out cert.p12\n</code></pre>\n<p>However, it is showing the following error:</p>\n<pre><code>Could not read private key from -in file from sapCA.crt\n</code></pre>\n<p>I tried to force download the CA file in jks format and run my feature file.\nThis is my feature file:</p>\n<pre><code> Scenario: To get the api authenticated- to execute the api with client credential.  \n    \n    * configure ssl = {trustStore:'C:\\\\Users\\\\Certificates\\\\Root CA.jks',trustStoreType: 'jks'}\n    Given url baseUrl\n    When method GET\n    Then status 200\n    * print response\n</code></pre>\n<p>However, in karate its showing the following error:</p>\n<pre><code>src.test.java.features.firsttest: firsttest.feature:14 - java.io.IOException: Invalid keystore format\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1664266071,"post_id":73864238,"comment_id":130425864,"body_markdown":"Can&#39;t you use an `OffsetDateTime` instead and define the offset to be used?","body":"Can&#39;t you use an <code>OffsetDateTime</code> instead and define the offset to be used?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1664267745,"post_id":73864238,"comment_id":130426367,"body_markdown":"Which database are you using, and what is the data type of the database column?  Most databases give you a choice of storing a UTC time, or storing a &quot;local&quot; time.  It may be that the type of the column doesn&#39;t match the type that you&#39;re trying to read it into.","body":"Which database are you using, and what is the data type of the database column?  Most databases give you a choice of storing a UTC time, or storing a &quot;local&quot; time.  It may be that the type of the column doesn&#39;t match the type that you&#39;re trying to read it into."},{"owner":{"account_id":14241835,"reputation":81,"user_id":17043939,"display_name":"killsteenkill"},"score":0,"creation_date":1664273087,"post_id":73864238,"comment_id":130428196,"body_markdown":"@DawoodibnKareem I am using mysql and my column data type is DATETIME.","body":"@DawoodibnKareem I am using mysql and my column data type is DATETIME."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1664303941,"post_id":73864238,"comment_id":130439579,"body_markdown":"OK, that&#39;s good.  The DATETIME type corresponds to a LocalDateTime.  The question is then, what happens to the value before it gets saved.  You should probably step through this with your debugger, to see the actual value of `timeWhichIsToBeSaved` and `timeToSave` at each point in the process, both saving and retrieving.  The problem is not in the code you&#39;ve shown here.","body":"OK, that&#39;s good.  The DATETIME type corresponds to a LocalDateTime.  The question is then, what happens to the value before it gets saved.  You should probably step through this with your debugger, to see the actual value of <code>timeWhichIsToBeSaved</code> and <code>timeToSave</code> at each point in the process, both saving and retrieving.  The problem is not in the code you&#39;ve shown here."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1664317078,"post_id":73864238,"comment_id":130443008,"body_markdown":"JDBC doesn&#39;t understand or have a LocalDateTime, so the statements generated have to convert it into a long (java.util.Date/java.sql.Timestamp) to pass it to the database. This process is likely your issue - check Hibernate and its docs if you want different behavior in a LocalDateTime-&gt;DateTime. Also note MYSQL DATETIME is pretty much a numeric long with no timezone, so the long value is pretty much universally a UTC value that then gets converted based on timezones being applied.","body":"JDBC doesn&#39;t understand or have a LocalDateTime, so the statements generated have to convert it into a long (java.util.Date/java.sql.Timestamp) to pass it to the database. This process is likely your issue - check Hibernate and its docs if you want different behavior in a LocalDateTime-&gt;DateTime. Also note MYSQL DATETIME is pretty much a numeric long with no timezone, so the long value is pretty much universally a UTC value that then gets converted based on timezones being applied."}],"owner":{"account_id":14241835,"reputation":81,"user_id":17043939,"display_name":"killsteenkill"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664273034,"creation_date":1664265792,"question_id":73864238,"body_markdown":"I am using mysql and my column name in the entity is stored in the form of DATETIME.\r\nI have an entity: (Base Entity has createdAt and updatedAt in the form of LocalDateTime)\r\n\r\n        @Builder\r\n        @Data\r\n        @Entity\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @EqualsAndHashCode(callSuper = false)\r\n        public class ExampleEntity extends BaseEntity {\r\n        \r\n            private LocalDateTime timeToSave;\r\n    }\r\n\r\nand I have an object like \r\n\r\n        public class SomeObject {\r\n            private LocalDateTime timeWhichIsToBeSaved;\r\n    }\r\nWhile I am trying to save,\r\n\r\n    example = ExampleEntity.builder().timeToSave(someObject.gettimeWhichIsToBeSaved());\r\n    exampleRepository.save(example);\r\n The time gets added by 5 hours 30 mins, which I reckon is the UTC offset amount, I live in UTC+5:30. The createdAt and updatedAt is at my current time.\r\n\r\n","title":"LocalDateTime gets added the amount of UTC offset while JPA saving","body":"<p>I am using mysql and my column name in the entity is stored in the form of DATETIME.\nI have an entity: (Base Entity has createdAt and updatedAt in the form of LocalDateTime)</p>\n<pre><code>    @Builder\n    @Data\n    @Entity\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @EqualsAndHashCode(callSuper = false)\n    public class ExampleEntity extends BaseEntity {\n    \n        private LocalDateTime timeToSave;\n}\n</code></pre>\n<p>and I have an object like</p>\n<pre><code>    public class SomeObject {\n        private LocalDateTime timeWhichIsToBeSaved;\n}\n</code></pre>\n<p>While I am trying to save,</p>\n<pre><code>example = ExampleEntity.builder().timeToSave(someObject.gettimeWhichIsToBeSaved());\nexampleRepository.save(example);\n</code></pre>\n<p>The time gets added by 5 hours 30 mins, which I reckon is the UTC offset amount, I live in UTC+5:30. The createdAt and updatedAt is at my current time.</p>\n"},{"tags":["java","generics","collections"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":2,"creation_date":1664266696,"post_id":73864285,"comment_id":130426041,"body_markdown":"Generics isn&#39;t only about collections.","body":"Generics isn&#39;t only about collections."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1664267112,"post_id":73864285,"comment_id":130426175,"body_markdown":"Does this answer your question? [Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java](https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\">Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java</a>"},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1664267256,"post_id":73864285,"comment_id":130426215,"body_markdown":"@Thomas the linked question does show how to make a write only collection but does not answer &#39;why&#39; would you need one in the first place.So it&#39;s not a duplicate.","body":"@Thomas the linked question does show how to make a write only collection but does not answer &#39;why&#39; would you need one in the first place.So it&#39;s not a duplicate."},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1664267785,"post_id":73864285,"comment_id":130426388,"body_markdown":"@talex Can you elaborate?","body":"@talex Can you elaborate?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1664267848,"post_id":73864285,"comment_id":130426406,"body_markdown":"The answer tells you why: if your method needs a collection so that it can add elements to it your method is fine with a &quot;write only collection&quot; (from the point of your method). For the caller it is any collection - specifically for the caller the collection is not &quot;write only&quot;.","body":"The answer tells you why: if your method needs a collection so that it can add elements to it your method is fine with a &quot;write only collection&quot; (from the point of your method). For the caller it is any collection - specifically for the caller the collection is not &quot;write only&quot;."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1664268204,"post_id":73864285,"comment_id":130426500,"body_markdown":"@microwth Look at the `copy` method at the bottom of the linked answer and assume that `T` is `Integer`. If `dest` was defined as `List&lt;T&gt;`, than a caller could only pass `List&lt;Integer&gt;` as an argument for `dest`. But because it&#39;s defined as `List&lt;? super T&gt;` a caller can also pass `List&lt;Number&gt;` or `List&lt;Object&gt;`.","body":"@microwth Look at the <code>copy</code> method at the bottom of the linked answer and assume that <code>T</code> is <code>Integer</code>. If <code>dest</code> was defined as <code>List&lt;T&gt;</code>, than a caller could only pass <code>List&lt;Integer&gt;</code> as an argument for <code>dest</code>. But because it&#39;s defined as <code>List&lt;? super T&gt;</code> a caller can also pass <code>List&lt;Number&gt;</code> or <code>List&lt;Object&gt;</code>."},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1664268277,"post_id":73864285,"comment_id":130426526,"body_markdown":"@Thomas but what is the use case? In what scenario would you need such a write-only collection? Is there any practical use case or is it just theory?","body":"@Thomas but what is the use case? In what scenario would you need such a write-only collection? Is there any practical use case or is it just theory?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1664268310,"creation_date":1664268310,"answer_id":73864712,"question_id":73864285,"body_markdown":"Note that &quot;write only collection&quot; depends on the point of view.\r\n\r\nLets write a method that adds a bunch of numbers to a collection:\r\n\r\n    public static void addNumbers(List&lt;? super Integer&gt; target, int count) {\r\n        for (int i = 0; i &lt; count; i++) {\r\n            target.add(i);\r\n        }\r\n    }\r\n\r\nFor this method the list `target` is a write only list: the method can only add numbers to it, it can not use the values that it added to the list.\r\n\r\nOn the other side there is the caller:\r\n\r\n    public static void caller() {\r\n        List&lt;Number&gt; myList = new ArrayList&lt;&gt;();\r\n        addNumbers(myList, 10);\r\n        double sum = 0;\r\n        for (Number n: myList) {\r\n            sum += n.doubleValue();\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n\r\nThis method works with a specific list (`myList`) and therefore can read the values that `addNumbers` stuffed into it.\r\n\r\nFor this method the list **is not** a write only list, for this method it is an ordinary list.","title":"What&#39;s the point of a write-only collection?","body":"<p>Note that &quot;write only collection&quot; depends on the point of view.</p>\n<p>Lets write a method that adds a bunch of numbers to a collection:</p>\n<pre><code>public static void addNumbers(List&lt;? super Integer&gt; target, int count) {\n    for (int i = 0; i &lt; count; i++) {\n        target.add(i);\n    }\n}\n</code></pre>\n<p>For this method the list <code>target</code> is a write only list: the method can only add numbers to it, it can not use the values that it added to the list.</p>\n<p>On the other side there is the caller:</p>\n<pre><code>public static void caller() {\n    List&lt;Number&gt; myList = new ArrayList&lt;&gt;();\n    addNumbers(myList, 10);\n    double sum = 0;\n    for (Number n: myList) {\n        sum += n.doubleValue();\n    }\n    System.out.println(sum);\n}\n</code></pre>\n<p>This method works with a specific list (<code>myList</code>) and therefore can read the values that <code>addNumbers</code> stuffed into it.</p>\n<p>For this method the list <strong>is not</strong> a write only list, for this method it is an ordinary list.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1664272982,"creation_date":1664272982,"answer_id":73865752,"question_id":73864285,"body_markdown":"Statements like\r\n\r\n&gt; - `&lt;? extends T&gt;` makes for a read-only collection\r\n&gt; \r\n&gt; - `&lt;? super T&gt;` makes for a write-only collection\r\n\r\nare just wrong. Wildcard element types do not say anything about the ability to read or write.\r\n\r\nTo show counter examples:\r\n\r\n```java\r\nstatic &lt;T&gt; void modify(List&lt;? extends T&gt; l) {\r\n    l.sort(Comparator.comparing(Object::toString));\r\n    l.remove(l.size() - 1);\r\n    Collections.swap(l, 0, l.size() - 1);\r\n    l.add(null);\r\n    duplicateFirst(l);\r\n}\r\nstatic &lt;U&gt; void duplicateFirst(List&lt;U&gt; l) {\r\n    U u = l.get(0);\r\n    l.add(u);\r\n}\r\n```\r\n\r\nshows quite some modifications possible for the `List&lt;? extends T&gt;`, [without problems].\r\n\r\nLikewise, you [can read] a `List&lt;? super T&gt;`.\r\n\r\n```java\r\nstatic &lt;T&gt; void read(List&lt;? super T&gt; l) {\r\n    for(var t: l) System.out.println(t);\r\n}\r\n```\r\n\r\nUsage restrictions imposed by `? extends T` or `? super T` are only *in relation to `T`*. You can not take an object of type `T`, e.g. from another method parameter, and add it to a `List&lt;? extends T&gt;`, because the list’s actual type might be a subtype of `T`. Likewise, you can not assume the elements of a `List&lt;? super T&gt;` to be of type `T`, because the list’s actual type might be a supertype of `T`, so the only assumption you can make, is that the elements are instances of `Object`, as every object is.\r\n\r\nSo when you have a method like\r\n\r\n```java\r\npublic static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src)\r\n```\r\nthe method can not take elements from `dest` and add them to `src` (in a typesafe way), but only the other way round.\r\n\r\nIt’s important to emphasize that unlike other programming languages, Java has *use site variance*, so the relationship between the two list described above only applies to the `copy` method declaring this relationship. The lists passed to this method do not have to be “consumer of `T`” and “producer of `T`” throughout their entire lifetime.\r\n\r\nSo you can use the method like\r\n\r\n```java\r\nList&lt;Integer&gt; first = List.of(0, 1, 2, 3, 7, 8, 9);\r\nList&lt;Number&gt; second = new ArrayList&lt;&gt;(Collections.nCopies(7, null));\r\nCollections.copy(second, first);\r\nList&lt;Object&gt; third = new ArrayList&lt;&gt;(Collections.nCopies(11, &quot; x &quot;));\r\nCollections.copy(third.subList(2, 9), second);\r\nSystem.out.println(third);\r\n```\r\n&lt;sup&gt;Yes, [`copy` was a real life example]. [Online demo]&lt;/sup&gt;\r\n\r\nNote how the `second` list changes its role from consumer of `Integer` to producer of `Object` for the two `copy` invocations while its actual element type is `Number`.\r\n\r\nOther examples for `? super T`\r\n\r\n - [`Collections.fill(List&lt;? super T&gt; list, T obj)`][fill]\r\n - [`Collections.addAll(Collection&lt;? super T&gt; c, T... elements)`][addAll]\r\n\r\n---\r\n\r\nTo sum it up, in Java, rules like [PECS] are relevant for the declaration of methods, to determine the (typical) roles of the arguments within the method itself. This raises the flexibility for the caller, as it allows combining different invariant types, like the example of copying from a `List&lt;Integer&gt;` to a `List&lt;Number&gt;`.\r\n\r\nBut never assume that the generic types tell anything about the ability to read or write a collection.\r\n\r\n[without problems]: https://jdoodle.com/ia/w5s\r\n[can read]: https://jdoodle.com/ia/w5u\r\n[`copy` was a real life example]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#copy(java.util.List,java.util.List)\r\n[Online demo]: https://jdoodle.com/ia/w5A\r\n[fill]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#fill(java.util.List,T)\r\n[addAll]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#addAll(java.util.Collection,T...)\r\n[PECS]: https://stackoverflow.com/q/2723397/2711488","title":"What&#39;s the point of a write-only collection?","body":"<p>Statements like</p>\n<blockquote>\n<ul>\n<li><p><code>&lt;? extends T&gt;</code> makes for a read-only collection</p>\n</li>\n<li><p><code>&lt;? super T&gt;</code> makes for a write-only collection</p>\n</li>\n</ul>\n</blockquote>\n<p>are just wrong. Wildcard element types do not say anything about the ability to read or write.</p>\n<p>To show counter examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; void modify(List&lt;? extends T&gt; l) {\n    l.sort(Comparator.comparing(Object::toString));\n    l.remove(l.size() - 1);\n    Collections.swap(l, 0, l.size() - 1);\n    l.add(null);\n    duplicateFirst(l);\n}\nstatic &lt;U&gt; void duplicateFirst(List&lt;U&gt; l) {\n    U u = l.get(0);\n    l.add(u);\n}\n</code></pre>\n<p>shows quite some modifications possible for the <code>List&lt;? extends T&gt;</code>, <a href=\"https://jdoodle.com/ia/w5s\" rel=\"noreferrer\">without problems</a>.</p>\n<p>Likewise, you <a href=\"https://jdoodle.com/ia/w5u\" rel=\"noreferrer\">can read</a> a <code>List&lt;? super T&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; void read(List&lt;? super T&gt; l) {\n    for(var t: l) System.out.println(t);\n}\n</code></pre>\n<p>Usage restrictions imposed by <code>? extends T</code> or <code>? super T</code> are only <em>in relation to <code>T</code></em>. You can not take an object of type <code>T</code>, e.g. from another method parameter, and add it to a <code>List&lt;? extends T&gt;</code>, because the list’s actual type might be a subtype of <code>T</code>. Likewise, you can not assume the elements of a <code>List&lt;? super T&gt;</code> to be of type <code>T</code>, because the list’s actual type might be a supertype of <code>T</code>, so the only assumption you can make, is that the elements are instances of <code>Object</code>, as every object is.</p>\n<p>So when you have a method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src)\n</code></pre>\n<p>the method can not take elements from <code>dest</code> and add them to <code>src</code> (in a typesafe way), but only the other way round.</p>\n<p>It’s important to emphasize that unlike other programming languages, Java has <em>use site variance</em>, so the relationship between the two list described above only applies to the <code>copy</code> method declaring this relationship. The lists passed to this method do not have to be “consumer of <code>T</code>” and “producer of <code>T</code>” throughout their entire lifetime.</p>\n<p>So you can use the method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; first = List.of(0, 1, 2, 3, 7, 8, 9);\nList&lt;Number&gt; second = new ArrayList&lt;&gt;(Collections.nCopies(7, null));\nCollections.copy(second, first);\nList&lt;Object&gt; third = new ArrayList&lt;&gt;(Collections.nCopies(11, &quot; x &quot;));\nCollections.copy(third.subList(2, 9), second);\nSystem.out.println(third);\n</code></pre>\n<p><sup>Yes, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#copy(java.util.List,java.util.List)\" rel=\"noreferrer\"><code>copy</code> was a real life example</a>. <a href=\"https://jdoodle.com/ia/w5A\" rel=\"noreferrer\">Online demo</a></sup></p>\n<p>Note how the <code>second</code> list changes its role from consumer of <code>Integer</code> to producer of <code>Object</code> for the two <code>copy</code> invocations while its actual element type is <code>Number</code>.</p>\n<p>Other examples for <code>? super T</code></p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#fill(java.util.List,T)\" rel=\"noreferrer\"><code>Collections.fill(List&lt;? super T&gt; list, T obj)</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#addAll(java.util.Collection,T...)\" rel=\"noreferrer\"><code>Collections.addAll(Collection&lt;? super T&gt; c, T... elements)</code></a></li>\n</ul>\n<hr />\n<p>To sum it up, in Java, rules like <a href=\"https://stackoverflow.com/q/2723397/2711488\">PECS</a> are relevant for the declaration of methods, to determine the (typical) roles of the arguments within the method itself. This raises the flexibility for the caller, as it allows combining different invariant types, like the example of copying from a <code>List&lt;Integer&gt;</code> to a <code>List&lt;Number&gt;</code>.</p>\n<p>But never assume that the generic types tell anything about the ability to read or write a collection.</p>\n"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73864712,"answer_count":2,"score":6,"last_activity_date":1664272982,"creation_date":1664266050,"question_id":73864285,"body_markdown":" `&lt;? extends T&gt;` makes for a read-only collection\r\n\r\n `&lt;? super T&gt;` makes for a write-only collection\r\n\r\nI somehow get why use a read-only collection,for instance to use it in a multithreaded environment (any other cases?)\r\n\r\nBut why use a write-only collection? What&#39;s the point if you cannot read from it and use its values at some point? I know that you can get an Object out of it but that defies type safety.\r\n\r\nEdit:\r\n@Thomas the linked question (https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java) does show how to make a write only collection but does not answer &#39;why&#39; would you need one in the first place.So it&#39;s not a duplicate","title":"What&#39;s the point of a write-only collection?","body":"<p><code>&lt;? extends T&gt;</code> makes for a read-only collection</p>\n<p><code>&lt;? super T&gt;</code> makes for a write-only collection</p>\n<p>I somehow get why use a read-only collection,for instance to use it in a multithreaded environment (any other cases?)</p>\n<p>But why use a write-only collection? What's the point if you cannot read from it and use its values at some point? I know that you can get an Object out of it but that defies type safety.</p>\n<p>Edit:\n@Thomas the linked question (<a href=\"https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\">Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java</a>) does show how to make a write only collection but does not answer 'why' would you need one in the first place.So it's not a duplicate</p>\n"},{"tags":["java","spring","hibernate","jpa","caching"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1663833830,"post_id":73704812,"comment_id":130333407,"body_markdown":"Are you using an explicit transaction around this operation? If so, the transaction callbacks probably require that a physical connection exists.","body":"Are you using an explicit transaction around this operation? If so, the transaction callbacks probably require that a physical connection exists."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1663833902,"post_id":73704812,"comment_id":130333422,"body_markdown":"You can debug into `org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl#acquireConnectionIfNeeded` to understand what acquires the connection. If you think this can be improved, please create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"You can debug into <code>org.hibernate.resource.jdbc.internal.LogicalConnectionManage&zwnj;&#8203;dImpl#acquireConnect&zwnj;&#8203;ionIfNeeded</code> to understand what acquires the connection. If you think this can be improved, please create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."},{"owner":{"account_id":2934261,"reputation":61,"user_id":2513633,"display_name":"Sander Knopper"},"score":0,"creation_date":1664186828,"post_id":73704812,"comment_id":130405782,"body_markdown":"Thank you for the pointers. As far as I know Spring Data JPA methods have a `@Transactional` by default with `read-only` enabled where applicable. So this might very well be the issue.","body":"Thank you for the pointers. As far as I know Spring Data JPA methods have a <code>@Transactional</code> by default with <code>read-only</code> enabled where applicable. So this might very well be the issue."}],"answers":[{"tags":[],"owner":{"account_id":2934261,"reputation":61,"user_id":2513633,"display_name":"Sander Knopper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664266098,"creation_date":1664266098,"answer_id":73864292,"question_id":73704812,"body_markdown":"Thanks to pointers given by Christian Beikov I&#39;ve found out that the jdbc connection is necessary for the transaction around the operation.\r\n\r\nIt was the `@Transactional` that is enabled for methods in the default Spring Data JPA repository implementation. Overriding one of these methods and leaving the annotation away causes everything to work solely on the cache without any jdbc connection involved.","title":"Spring Data / Hibernate - don&#39;t automatically open JDBC connection before checking L2 cache","body":"<p>Thanks to pointers given by Christian Beikov I've found out that the jdbc connection is necessary for the transaction around the operation.</p>\n<p>It was the <code>@Transactional</code> that is enabled for methods in the default Spring Data JPA repository implementation. Overriding one of these methods and leaving the annotation away causes everything to work solely on the cache without any jdbc connection involved.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664272923,"creation_date":1664268900,"answer_id":73864838,"question_id":73704812,"body_markdown":"Although removing `@Transactional` might appear to solve your issue it actually isn&#39;t. You want to delay the acquisition of the connection for this you would need to do some additional configuration \r\n\r\n1. Set `spring.jpa.open-in-view=false` this disables Open Session In View\r\n2. Set `spring.datasource.hikari.auto-commit=false`, this will optimize Hibernate to not set this (performance of your app)\r\n\r\nThis should stop Hibernate from actually getting a physical connection to the point when it actually needs to. Even when inside the transaction (as it now not needs to check the connection for auto-commit). \r\n\r\nI&#39;m assuming you are using Spring Boot, if not at least set the `autoCommit` property of your datasource to `false` should already fix this (if you are on a recent Spring (Boot) version!). \r\n\r\nSee also [this explanation][1] by Vlad Mihalcea (the goto source for JPA/Hibernate related stuff :) ). \r\n\r\n[1]: https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/\r\n","title":"Spring Data / Hibernate - don&#39;t automatically open JDBC connection before checking L2 cache","body":"<p>Although removing <code>@Transactional</code> might appear to solve your issue it actually isn't. You want to delay the acquisition of the connection for this you would need to do some additional configuration</p>\n<ol>\n<li>Set <code>spring.jpa.open-in-view=false</code> this disables Open Session In View</li>\n<li>Set <code>spring.datasource.hikari.auto-commit=false</code>, this will optimize Hibernate to not set this (performance of your app)</li>\n</ol>\n<p>This should stop Hibernate from actually getting a physical connection to the point when it actually needs to. Even when inside the transaction (as it now not needs to check the connection for auto-commit).</p>\n<p>I'm assuming you are using Spring Boot, if not at least set the <code>autoCommit</code> property of your datasource to <code>false</code> should already fix this (if you are on a recent Spring (Boot) version!).</p>\n<p>See also <a href=\"https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/\" rel=\"nofollow noreferrer\">this explanation</a> by Vlad Mihalcea (the goto source for JPA/Hibernate related stuff :) ).</p>\n"}],"owner":{"account_id":2934261,"reputation":61,"user_id":2513633,"display_name":"Sander Knopper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73864292,"answer_count":2,"score":2,"last_activity_date":1664272923,"creation_date":1663079642,"question_id":73704812,"body_markdown":"We use Spring Data JPA and have successfully configured L2 entity and query caches. What still bothers me though is the fact that Hibernate always opens a JDBC connection before checking the L2 cache. This sometimes causes issues (too many open connections) due to a very busy database.\r\n\r\nIs there a way to make Hibernate only open a JDBC connection after a L2 cache miss?\r\n\r\nJust to clarify, here are the session metrics:\r\n```\r\ni.StatisticalLoggingSessionEventListener : Session Metrics {\r\n    1716707 nanoseconds spent acquiring 1 JDBC connections;\r\n    0 nanoseconds spent releasing 0 JDBC connections;\r\n    0 nanoseconds spent preparing 0 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC batches;\r\n    0 nanoseconds spent performing 0 L2C puts;\r\n    236767 nanoseconds spent performing 1 L2C hits;\r\n    0 nanoseconds spent performing 0 L2C misses;\r\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\r\n}\r\n```\r\n\r\nSo even though there was absolutely no query performed on the database, a JDBC connection was still opened.","title":"Spring Data / Hibernate - don&#39;t automatically open JDBC connection before checking L2 cache","body":"<p>We use Spring Data JPA and have successfully configured L2 entity and query caches. What still bothers me though is the fact that Hibernate always opens a JDBC connection before checking the L2 cache. This sometimes causes issues (too many open connections) due to a very busy database.</p>\n<p>Is there a way to make Hibernate only open a JDBC connection after a L2 cache miss?</p>\n<p>Just to clarify, here are the session metrics:</p>\n<pre><code>i.StatisticalLoggingSessionEventListener : Session Metrics {\n    1716707 nanoseconds spent acquiring 1 JDBC connections;\n    0 nanoseconds spent releasing 0 JDBC connections;\n    0 nanoseconds spent preparing 0 JDBC statements;\n    0 nanoseconds spent executing 0 JDBC statements;\n    0 nanoseconds spent executing 0 JDBC batches;\n    0 nanoseconds spent performing 0 L2C puts;\n    236767 nanoseconds spent performing 1 L2C hits;\n    0 nanoseconds spent performing 0 L2C misses;\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\n}\n</code></pre>\n<p>So even though there was absolutely no query performed on the database, a JDBC connection was still opened.</p>\n"},{"tags":["java","docker","ssl"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664272758,"post_id":73865653,"comment_id":130428084,"body_markdown":"I guess on the host is the [Java Cryptography Extension (JCE)](https://www.oracle.com/de/java/technologies/javase-jce8-downloads.html) installed","body":"I guess on the host is the <a href=\"https://www.oracle.com/de/java/technologies/javase-jce8-downloads.html\" rel=\"nofollow noreferrer\">Java Cryptography Extension (JCE)</a> installed"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1664272832,"post_id":73865653,"comment_id":130428117,"body_markdown":"Maybe the content of [this question](https://stackoverflow.com/questions/31971499/ecdhe-cipher-suites-not-supported-on-openjdk-8-installed-on-ec2-linux-machine) can help you.","body":"Maybe the content of <a href=\"https://stackoverflow.com/questions/31971499/ecdhe-cipher-suites-not-supported-on-openjdk-8-installed-on-ec2-linux-machine\">this question</a> can help you."},{"owner":{"account_id":2046888,"reputation":2202,"user_id":1826788,"accept_rate":23,"display_name":"Ankit Bansal"},"score":0,"creation_date":1664273526,"post_id":73865653,"comment_id":130428345,"body_markdown":"JCE is installed on both HOST &amp; Container","body":"JCE is installed on both HOST &amp; Container"},{"owner":{"account_id":2046888,"reputation":2202,"user_id":1826788,"accept_rate":23,"display_name":"Ankit Bansal"},"score":0,"creation_date":1664273632,"post_id":73865653,"comment_id":130428373,"body_markdown":"@JoachimSauer I am using Oracle JDK and hence it already has libsunec.so","body":"@JoachimSauer I am using Oracle JDK and hence it already has libsunec.so"}],"owner":{"account_id":2046888,"reputation":2202,"user_id":1826788,"accept_rate":23,"display_name":"Ankit Bansal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664272801,"creation_date":1664272584,"question_id":73865653,"body_markdown":"I am using Java 8 update 202.\r\n\r\nThis is my **java -version** from within the container : \r\n\r\n    java version &quot;1.8.0_202&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_202-b08)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)\r\n     \r\nBase Image for the container : \r\n\r\n    FROM alpine:3.13\r\n    \r\n    RUN apk --no-progress --purge --no-cache upgrade \\\r\n    &amp;&amp; apk --no-progress --purge --no-cache add --upgrade \\\r\n        curl \\\r\n        wget \\\r\n        openssh \\\r\n    &amp;&amp; apk --no-progress --purge --no-cache upgrade \\\r\n    &amp;&amp; rm -vrf /var/cache/apk/* \\\r\n    &amp;&amp; curl --version\r\n    \r\n    RUN curl -o /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub \\\r\n    &amp;&amp; curl -LO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.32-r0/glibc-2.32-r0.apk \\\r\n    &amp;&amp; apk add glibc-2.32-r0.apk\r\n    \r\n    COPY ./jdk-8u202-linux-x64.tar.gz /opt\r\n    RUN tar -zxf /opt/jdk-8u202-linux-x64.tar.gz -C /opt &amp;&amp; ln -s /opt/jdk1.8.0_202 /opt/jdk &amp;&amp; rm -r /opt/jdk-8u202-linux-x64.tar.gz\r\n    \r\n    ENV JAVA_HOME /opt/jdk\r\n    ENV PATH $PATH:/opt/jdk/bin\r\n    \r\n    RUN apk --update --no-cache add busybox-extras\r\n\r\nMain Dockerfile just contains application-related stuff hence skipping posting it.\r\n\r\nNow same java version(JDK 8 update 202) is installed on the host(Cent Os 7.x)\r\n \r\nWhen I am running this command to get list of ciphers , the output is different in container and in host : \r\n\r\n**On Container**\r\n\r\n    TLS_RSA_WITH_AES_256_CBC_SHA256\r\n    TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n    TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n    TLS_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\n    TLS_RSA_WITH_AES_128_CBC_SHA256\r\n    TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n    TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n    TLS_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\n    TLS_RSA_WITH_AES_256_GCM_SHA384\r\n    TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n    TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\n    TLS_RSA_WITH_AES_128_GCM_SHA256\r\n    TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n    TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n\r\n**Whereas on Host**\r\n\r\n    TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n    TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n    TLS_RSA_WITH_AES_256_CBC_SHA256\r\n    TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\n    TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\n    TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n    TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n    TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\r\n    TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\r\n    TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\n    TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n    TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n    TLS_RSA_WITH_AES_128_CBC_SHA256\r\n    TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\n    TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\n    TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n    TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n    TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\r\n    TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\r\n    TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\n    TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\n    TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n    TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n    TLS_RSA_WITH_AES_256_GCM_SHA384\r\n    TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\r\n    TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\r\n    TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n    TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\n    TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n    TLS_RSA_WITH_AES_128_GCM_SHA256\r\n    TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\r\n    TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\r\n    TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n    TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n\r\nAs it is visible that list is very long on host with same java version. What needs to be done to fix this?\r\n","title":"Java 8 Cipher missing in Docker Container","body":"<p>I am using Java 8 update 202.</p>\n<p>This is my <strong>java -version</strong> from within the container :</p>\n<pre><code>java version &quot;1.8.0_202&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_202-b08)\nJava HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)\n \n</code></pre>\n<p>Base Image for the container :</p>\n<pre><code>FROM alpine:3.13\n\nRUN apk --no-progress --purge --no-cache upgrade \\\n&amp;&amp; apk --no-progress --purge --no-cache add --upgrade \\\n    curl \\\n    wget \\\n    openssh \\\n&amp;&amp; apk --no-progress --purge --no-cache upgrade \\\n&amp;&amp; rm -vrf /var/cache/apk/* \\\n&amp;&amp; curl --version\n\nRUN curl -o /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub \\\n&amp;&amp; curl -LO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.32-r0/glibc-2.32-r0.apk \\\n&amp;&amp; apk add glibc-2.32-r0.apk\n\nCOPY ./jdk-8u202-linux-x64.tar.gz /opt\nRUN tar -zxf /opt/jdk-8u202-linux-x64.tar.gz -C /opt &amp;&amp; ln -s /opt/jdk1.8.0_202 /opt/jdk &amp;&amp; rm -r /opt/jdk-8u202-linux-x64.tar.gz\n\nENV JAVA_HOME /opt/jdk\nENV PATH $PATH:/opt/jdk/bin\n\nRUN apk --update --no-cache add busybox-extras\n</code></pre>\n<p>Main Dockerfile just contains application-related stuff hence skipping posting it.</p>\n<p>Now same java version(JDK 8 update 202) is installed on the host(Cent Os 7.x)</p>\n<p>When I am running this command to get list of ciphers , the output is different in container and in host :</p>\n<p><strong>On Container</strong></p>\n<pre><code>TLS_RSA_WITH_AES_256_CBC_SHA256\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA256\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA256\nTLS_RSA_WITH_AES_256_CBC_SHA\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA\nTLS_RSA_WITH_AES_128_CBC_SHA256\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA256\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA256\nTLS_RSA_WITH_AES_128_CBC_SHA\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA\nTLS_RSA_WITH_AES_256_GCM_SHA384\nTLS_DHE_RSA_WITH_AES_256_GCM_SHA384\nTLS_DHE_DSS_WITH_AES_256_GCM_SHA384\nTLS_RSA_WITH_AES_128_GCM_SHA256\nTLS_DHE_RSA_WITH_AES_128_GCM_SHA256\nTLS_DHE_DSS_WITH_AES_128_GCM_SHA256\n</code></pre>\n<p><strong>Whereas on Host</strong></p>\n<pre><code>TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\nTLS_RSA_WITH_AES_256_CBC_SHA256\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA256\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA256\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\nTLS_RSA_WITH_AES_256_CBC_SHA\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\nTLS_RSA_WITH_AES_128_CBC_SHA256\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA256\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA256\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\nTLS_RSA_WITH_AES_128_CBC_SHA\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA\nTLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\nTLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\nTLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\nTLS_RSA_WITH_AES_256_GCM_SHA384\nTLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\nTLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\nTLS_DHE_RSA_WITH_AES_256_GCM_SHA384\nTLS_DHE_DSS_WITH_AES_256_GCM_SHA384\nTLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\nTLS_RSA_WITH_AES_128_GCM_SHA256\nTLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\nTLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\nTLS_DHE_RSA_WITH_AES_128_GCM_SHA256\nTLS_DHE_DSS_WITH_AES_128_GCM_SHA256\n</code></pre>\n<p>As it is visible that list is very long on host with same java version. What needs to be done to fix this?</p>\n"},{"tags":["java","android","firebase","android-recyclerview"],"comments":[{"owner":{"account_id":7302782,"reputation":158,"user_id":5564845,"display_name":"Saurabh"},"score":0,"creation_date":1664276017,"post_id":73865638,"comment_id":130429189,"body_markdown":"Also post your firebase structure please.","body":"Also post your firebase structure please."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664277494,"post_id":73865638,"comment_id":130429667,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data). Please respond using @AlexMamo","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>. Please respond using @AlexMamo"}],"owner":{"account_id":26456414,"reputation":1,"user_id":20098936,"display_name":"john"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664272517,"creation_date":1664272517,"question_id":73865638,"body_markdown":"I encountered a problem while retrieving specific data from the firebase database, however, I was able to retrieve other data and view it using RecyclerView. The address and contact number is not showing. Here is my code and snippet of the output.\r\n\r\n[lopdetails_items.xml][1]\r\n[Emulator Output][2]\r\n\r\n **LopDetailsAdapter.java**\r\n   \r\n\r\n\r\n\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    import com.firebase.ui.database.FirebaseRecyclerAdapter;\r\n    import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n\r\n    public class LoPdetailsAdapter extends \r\n    FirebaseRecyclerAdapter&lt;RegisterParking,LoPdetailsAdapter.myViewHolder&gt; {\r\n        /**\r\n         * Initialize a {@link RecyclerView.Adapter} that listens to a Firebase query. See\r\n         * {@link FirebaseRecyclerOptions} for configuration options.\r\n         *\r\n        * @param options\r\n        */\r\n        public LoPdetailsAdapter(@NonNull FirebaseRecyclerOptions&lt;RegisterParking&gt; options) {\r\n            super(options);\r\n        }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull LoPdetailsAdapter.myViewHolder holder, int position, @NonNull RegisterParking model) {\r\n        holder.loparkingname.setText(model.getLoparkingname());\r\n        holder.lofullname.setText(model.getLofullname());\r\n        holder.lorates.setText(model.getLorates());\r\n        holder.lovtypes.setText(model.getLovtypes());\r\n        holder.loallowed.setText(model.getLoallowed());\r\n        holder.loparkingtype.setText(model.getLoparkingtype());\r\n        holder.lopenalty.setText(model.getLopenalty());\r\n        holder.lonumber.setText(model.getLonumber());\r\n        holder.loaddress.setText(model.getLoaddress());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public LoPdetailsAdapter.myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.lopdetails_items,parent,false);\r\n        return new LoPdetailsAdapter.myViewHolder(view);\r\n    }\r\n\r\n    class myViewHolder extends RecyclerView.ViewHolder{\r\n        TextView loparkingname, lofullname,  lorates, lovtypes, loallowed, loparkingtype, lopenalty, lonumber, loaddress;\r\n\r\n        public myViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            loparkingname = (TextView) itemView.findViewById(R.id.Pname);\r\n            lofullname = (TextView) itemView.findViewById(R.id.fullNamelo);\r\n            lonumber = (TextView) itemView.findViewById(R.id.contactnoLO);\r\n            loaddress = (TextView) itemView.findViewById(R.id.randomAddress);\r\n            lorates = (TextView) itemView.findViewById(R.id.Ratelo);\r\n            lovtypes = (TextView) itemView.findViewById(R.id.Typeslo);\r\n            loallowed = (TextView) itemView.findViewById(R.id.Numberlo);\r\n            loparkingtype = (TextView) itemView.findViewById(R.id.Ptypeslo);\r\n            lopenalty = (TextView) itemView.findViewById(R.id.PRateslo);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n**LoParkingDetails.java**\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.Toolbar;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.widget.Toast;\r\n    import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n\r\n    public class LoParkingDetails extends AppCompatActivity {\r\n\r\n    Toolbar toolbar;\r\n    private FirebaseAuth mAuth;\r\n\r\n    //parkingDetails\r\n    RecyclerView recyclerView;\r\n    LoPdetailsAdapter loPdetailsAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lo_parking_details);\r\n\r\n        toolbar =(Toolbar) findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        //ParkingDetails\r\n        recyclerView = (RecyclerView) findViewById(R.id.loD);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        FirebaseRecyclerOptions&lt;RegisterParking&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;RegisterParking&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\r\n                        .build();\r\n\r\n        loPdetailsAdapter = new LoPdetailsAdapter(options);\r\n        recyclerView.setAdapter(loPdetailsAdapter);\r\n    }\r\n    //ParkingDetails\r\n        @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        loPdetailsAdapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        loPdetailsAdapter.stopListening();\r\n    }\r\n    //Endpoint\r\n\r\n\r\n\r\n\r\n\r\n**lopdetails_items.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    app:cardCornerRadius=&quot;6dp&quot;\r\n    android:elevation=&quot;6dp&quot;\r\n    app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;412dp&quot;\r\n        android:layout_height=&quot;360dp&quot;\r\n        android:padding=&quot;15dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/Pname&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Parking Name:&quot;\r\n            android:textSize=&quot;25dp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/fullNamelo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/Pname&quot;\r\n            android:text=&quot;Landowner Fullname:&quot;\r\n            android:textSize=&quot;25dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/contactnoLO&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/fullNamelo&quot;\r\n            android:text=&quot;Phone Number:&quot;\r\n            android:textSize=&quot;25dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/randomAddress&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/contactnoLO&quot;\r\n            android:text=&quot;Complete Address:&quot;\r\n            android:textSize=&quot;25dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/Ratelo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/randomAddress&quot;\r\n            android:text=&quot;Parking Rates:&quot;\r\n            android:textSize=&quot;25dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/Typeslo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/Ratelo&quot;\r\n            android:text=&quot;Types of vehicle allowed:&quot;\r\n            android:textSize=&quot;25dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/Numberlo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/Typeslo&quot;\r\n            android:text=&quot;Number of allowed Vehicle:&quot;\r\n            android:textSize=&quot;25dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/Ptypeslo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/Numberlo&quot;\r\n            android:text=&quot;Type Parking type:&quot;\r\n            android:textSize=&quot;25dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/PRateslo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/Ptypeslo&quot;\r\n            android:text=&quot;Penalty Rates:&quot;\r\n            android:textSize=&quot;25dp&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a7QnM.png\r\n  [2]: https://i.stack.imgur.com/HJW8B.png\r\n\r\n","title":"Fetching and retrieving data from realtime database Android studio","body":"<p>I encountered a problem while retrieving specific data from the firebase database, however, I was able to retrieve other data and view it using RecyclerView. The address and contact number is not showing. Here is my code and snippet of the output.</p>\n<p><a href=\"https://i.stack.imgur.com/a7QnM.png\" rel=\"nofollow noreferrer\">lopdetails_items.xml</a>\n<a href=\"https://i.stack.imgur.com/HJW8B.png\" rel=\"nofollow noreferrer\">Emulator Output</a></p>\n<p><strong>LopDetailsAdapter.java</strong></p>\n<pre><code>import android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\nimport com.firebase.ui.database.FirebaseRecyclerAdapter;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\n\npublic class LoPdetailsAdapter extends \nFirebaseRecyclerAdapter&lt;RegisterParking,LoPdetailsAdapter.myViewHolder&gt; {\n    /**\n     * Initialize a {@link RecyclerView.Adapter} that listens to a Firebase query. See\n     * {@link FirebaseRecyclerOptions} for configuration options.\n     *\n    * @param options\n    */\n    public LoPdetailsAdapter(@NonNull FirebaseRecyclerOptions&lt;RegisterParking&gt; options) {\n        super(options);\n    }\n\n@Override\nprotected void onBindViewHolder(@NonNull LoPdetailsAdapter.myViewHolder holder, int position, @NonNull RegisterParking model) {\n    holder.loparkingname.setText(model.getLoparkingname());\n    holder.lofullname.setText(model.getLofullname());\n    holder.lorates.setText(model.getLorates());\n    holder.lovtypes.setText(model.getLovtypes());\n    holder.loallowed.setText(model.getLoallowed());\n    holder.loparkingtype.setText(model.getLoparkingtype());\n    holder.lopenalty.setText(model.getLopenalty());\n    holder.lonumber.setText(model.getLonumber());\n    holder.loaddress.setText(model.getLoaddress());\n}\n\n@NonNull\n@Override\npublic LoPdetailsAdapter.myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.lopdetails_items,parent,false);\n    return new LoPdetailsAdapter.myViewHolder(view);\n}\n\nclass myViewHolder extends RecyclerView.ViewHolder{\n    TextView loparkingname, lofullname,  lorates, lovtypes, loallowed, loparkingtype, lopenalty, lonumber, loaddress;\n\n    public myViewHolder(@NonNull View itemView) {\n        super(itemView);\n        loparkingname = (TextView) itemView.findViewById(R.id.Pname);\n        lofullname = (TextView) itemView.findViewById(R.id.fullNamelo);\n        lonumber = (TextView) itemView.findViewById(R.id.contactnoLO);\n        loaddress = (TextView) itemView.findViewById(R.id.randomAddress);\n        lorates = (TextView) itemView.findViewById(R.id.Ratelo);\n        lovtypes = (TextView) itemView.findViewById(R.id.Typeslo);\n        loallowed = (TextView) itemView.findViewById(R.id.Numberlo);\n        loparkingtype = (TextView) itemView.findViewById(R.id.Ptypeslo);\n        lopenalty = (TextView) itemView.findViewById(R.id.PRateslo);\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>LoParkingDetails.java</strong></p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.Toast;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class LoParkingDetails extends AppCompatActivity {\n\nToolbar toolbar;\nprivate FirebaseAuth mAuth;\n\n//parkingDetails\nRecyclerView recyclerView;\nLoPdetailsAdapter loPdetailsAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_lo_parking_details);\n\n    toolbar =(Toolbar) findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n    mAuth = FirebaseAuth.getInstance();\n\n    //ParkingDetails\n    recyclerView = (RecyclerView) findViewById(R.id.loD);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    FirebaseRecyclerOptions&lt;RegisterParking&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;RegisterParking&gt;()\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\n                    .build();\n\n    loPdetailsAdapter = new LoPdetailsAdapter(options);\n    recyclerView.setAdapter(loPdetailsAdapter);\n}\n//ParkingDetails\n    @Override\nprotected void onStart() {\n    super.onStart();\n    loPdetailsAdapter.startListening();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    loPdetailsAdapter.stopListening();\n}\n//Endpoint\n</code></pre>\n<p><strong>lopdetails_items.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\napp:cardCornerRadius=&quot;6dp&quot;\nandroid:elevation=&quot;6dp&quot;\napp:cardUseCompatPadding=&quot;true&quot;&gt;\n\n&lt;RelativeLayout\n    android:layout_width=&quot;412dp&quot;\n    android:layout_height=&quot;360dp&quot;\n    android:padding=&quot;15dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/Pname&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Parking Name:&quot;\n        android:textSize=&quot;25dp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/fullNamelo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/Pname&quot;\n        android:text=&quot;Landowner Fullname:&quot;\n        android:textSize=&quot;25dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/contactnoLO&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/fullNamelo&quot;\n        android:text=&quot;Phone Number:&quot;\n        android:textSize=&quot;25dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/randomAddress&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/contactnoLO&quot;\n        android:text=&quot;Complete Address:&quot;\n        android:textSize=&quot;25dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/Ratelo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/randomAddress&quot;\n        android:text=&quot;Parking Rates:&quot;\n        android:textSize=&quot;25dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/Typeslo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/Ratelo&quot;\n        android:text=&quot;Types of vehicle allowed:&quot;\n        android:textSize=&quot;25dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/Numberlo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/Typeslo&quot;\n        android:text=&quot;Number of allowed Vehicle:&quot;\n        android:textSize=&quot;25dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/Ptypeslo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/Numberlo&quot;\n        android:text=&quot;Type Parking type:&quot;\n        android:textSize=&quot;25dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/PRateslo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/Ptypeslo&quot;\n        android:text=&quot;Penalty Rates:&quot;\n        android:textSize=&quot;25dp&quot; /&gt;\n&lt;/RelativeLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":2514996,"reputation":1513,"user_id":2186642,"display_name":"Ponmudi VN"},"score":0,"creation_date":1664279959,"post_id":73864220,"comment_id":130430509,"body_markdown":"Turns out foreign key reference was wrong. (Check detailed answer). Leaving the question open as it might help others.","body":"Turns out foreign key reference was wrong. (Check detailed answer). Leaving the question open as it might help others."}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664271869,"creation_date":1664270208,"answer_id":73865135,"question_id":73864220,"body_markdown":"You haven&#39;t pasted your PlanId class, but I assume it is something like this\r\n```\r\npublic class PlanId implements Serializable {\r\n\r\n    public Long id;\r\n    public Long version;\r\n}\r\n```\r\nI copied your code and the following test works, all I did was implement PlanId as above and added necessary setters in your entities. I am using an H2 DB\r\n```\r\n    @Test\r\n    public void plan() {\r\n        PlanEntity planEntity = new PlanEntity();\r\n        planEntity.setVersion(1L);\r\n\r\n        planEntity.addPlanGoalBucketEntity(new PlanGoalBucketEntity());\r\n        planEntity.addPlanGoalBucketEntity(new PlanGoalBucketEntity());\r\n\r\n        planEntityRepository.save(planEntity);\r\n\r\n        // Check save of 2 plan goal buckets is successful\r\n\r\n        List&lt;PlanEntity&gt; planEntities =\r\n                entityManager.createQuery(\r\n                        &quot;select distinct p from PlanEntity p left join fetch p.goalBuckets&quot;, PlanEntity.class)\r\n                        .getResultList();\r\n\r\n        assertEquals(1, planEntities.size());\r\n        assertEquals(2, planEntities.iterator().next().getGoalBuckets().size());\r\n    }\r\n\r\n// JpaRepository\r\n\r\n@Repository\r\npublic interface PlanEntityRepository extends JpaRepository&lt;PlanEntity, PlanId&gt; {}\r\n```","title":"Hibernate sequence increments parent id for each child insert","body":"<p>You haven't pasted your PlanId class, but I assume it is something like this</p>\n<pre><code>public class PlanId implements Serializable {\n\n    public Long id;\n    public Long version;\n}\n</code></pre>\n<p>I copied your code and the following test works, all I did was implement PlanId as above and added necessary setters in your entities. I am using an H2 DB</p>\n<pre><code>    @Test\n    public void plan() {\n        PlanEntity planEntity = new PlanEntity();\n        planEntity.setVersion(1L);\n\n        planEntity.addPlanGoalBucketEntity(new PlanGoalBucketEntity());\n        planEntity.addPlanGoalBucketEntity(new PlanGoalBucketEntity());\n\n        planEntityRepository.save(planEntity);\n\n        // Check save of 2 plan goal buckets is successful\n\n        List&lt;PlanEntity&gt; planEntities =\n                entityManager.createQuery(\n                        &quot;select distinct p from PlanEntity p left join fetch p.goalBuckets&quot;, PlanEntity.class)\n                        .getResultList();\n\n        assertEquals(1, planEntities.size());\n        assertEquals(2, planEntities.iterator().next().getGoalBuckets().size());\n    }\n\n// JpaRepository\n\n@Repository\npublic interface PlanEntityRepository extends JpaRepository&lt;PlanEntity, PlanId&gt; {}\n</code></pre>\n"}],"owner":{"account_id":2514996,"reputation":1513,"user_id":2186642,"display_name":"Ponmudi VN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664271869,"creation_date":1664265667,"question_id":73864220,"body_markdown":"Using hibernate, insert to child fails with &quot;Referential integrity constraint violation&quot; on child. Parent Id is incremented for each child.\r\n\r\n    // Parent: Composite primary key, one auto generated\r\n    @IdClass(PlanId.class)\r\n    public class PlanEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;PlanIdGenerator&quot;)\r\n        @SequenceGenerator(name = &quot;PlanIdGenerator&quot;, sequenceName = &quot;PLAN_ID_SEQUENCE&quot;, allocationSize = 1)\r\n        private Long id;\r\n    \r\n        @Id\r\n        private Long version;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;planEntity&quot;, fetch = FetchType.LAZY, orphanRemoval = true) //\r\n        private Collection&lt;PlanGoalBucketEntity&gt; goalBuckets = new ArrayList&lt;&gt;();\r\n    \r\n    public void addPlanGoalBucketEntity(PlanGoalBucketEntity goalBucket) {\r\n        goalBuckets.add(goalBucket);\r\n        goalBucket.setPlanEntity(this);\r\n    }\r\n\r\n    public void removePosition(PlanGoalBucketEntity goalBucket) {\r\n        goalBuckets.remove(goalBucket);\r\n        goalBucket.setPlanEntity(null);\r\n    }\r\n    .....    \r\n    }\r\n\r\n//Child \r\n\r\n    public class PlanGoalBucketEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne(optional = false)\r\n        @JoinColumns({ @JoinColumn(name = &quot;plan_id&quot;, referencedColumnName = &quot;id&quot;),\r\n                @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;) })\r\n        private PlanEntity planEntity;\r\n    \r\n        .....\r\n    }\r\n\r\n\r\nInsert to planentity (parent) with one PlanGoalBucketEntity (child) is all good.\r\n\r\nInserting parent with multiple child, it fails with foreign key violation &quot;Referential integrity constraint violation&quot;. Inserting first child is fine but second child fails because it increments parent id for second child.\r\n\r\n\r\nCouldn&#39;t figure out what is going wrong. ","title":"Hibernate sequence increments parent id for each child insert","body":"<p>Using hibernate, insert to child fails with &quot;Referential integrity constraint violation&quot; on child. Parent Id is incremented for each child.</p>\n<pre><code>// Parent: Composite primary key, one auto generated\n@IdClass(PlanId.class)\npublic class PlanEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;PlanIdGenerator&quot;)\n    @SequenceGenerator(name = &quot;PlanIdGenerator&quot;, sequenceName = &quot;PLAN_ID_SEQUENCE&quot;, allocationSize = 1)\n    private Long id;\n\n    @Id\n    private Long version;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;planEntity&quot;, fetch = FetchType.LAZY, orphanRemoval = true) //\n    private Collection&lt;PlanGoalBucketEntity&gt; goalBuckets = new ArrayList&lt;&gt;();\n\npublic void addPlanGoalBucketEntity(PlanGoalBucketEntity goalBucket) {\n    goalBuckets.add(goalBucket);\n    goalBucket.setPlanEntity(this);\n}\n\npublic void removePosition(PlanGoalBucketEntity goalBucket) {\n    goalBuckets.remove(goalBucket);\n    goalBucket.setPlanEntity(null);\n}\n.....    \n}\n</code></pre>\n<p>//Child</p>\n<pre><code>public class PlanGoalBucketEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(optional = false)\n    @JoinColumns({ @JoinColumn(name = &quot;plan_id&quot;, referencedColumnName = &quot;id&quot;),\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;) })\n    private PlanEntity planEntity;\n\n    .....\n}\n</code></pre>\n<p>Insert to planentity (parent) with one PlanGoalBucketEntity (child) is all good.</p>\n<p>Inserting parent with multiple child, it fails with foreign key violation &quot;Referential integrity constraint violation&quot;. Inserting first child is fine but second child fails because it increments parent id for second child.</p>\n<p>Couldn't figure out what is going wrong.</p>\n"},{"tags":["java","android","android-camera-intent"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1663921727,"post_id":73784342,"comment_id":130357553,"body_markdown":"If you want that level of control over the image capture process, then chances are you simply want to create the activity to take the picture yourself and not delegate that to the default application (which can vary wildly from device to device)","body":"If you want that level of control over the image capture process, then chances are you simply want to create the activity to take the picture yourself and not delegate that to the default application (which can vary wildly from device to device)"},{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1663924504,"post_id":73784342,"comment_id":130358556,"body_markdown":"@JoachimSauer \nYes, I think I&#39;ll end up doing that if there is no way to control the default app.","body":"@JoachimSauer  Yes, I think I&#39;ll end up doing that if there is no way to control the default app."}],"answers":[{"tags":[],"owner":{"account_id":15069208,"reputation":329,"user_id":10875322,"display_name":"Gokula Krishnan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664271755,"creation_date":1663666242,"answer_id":73784486,"question_id":73784342,"body_markdown":"Unfortunately there is no way you can configure the screen of native android app. We can only pass the URI where the image needs to be saved and size of image.\r\n\r\nIf you would like to create your own layout, it is possible. You can refer to this repo [Open Camera][1], especially this class [AlmalenceGUI][2] which has icon arrangements.\r\n\r\n\r\n  [1]: https://github.com/almalence/OpenCamera\r\n  [2]: https://github.com/almalence/OpenCamera/blob/master/src/com/almalence/opencam/ui/AlmalenceGUI.java","title":"Is it possible to change the default configuration of the default Camera app in android?","body":"<p>Unfortunately there is no way you can configure the screen of native android app. We can only pass the URI where the image needs to be saved and size of image.</p>\n<p>If you would like to create your own layout, it is possible. You can refer to this repo <a href=\"https://github.com/almalence/OpenCamera\" rel=\"nofollow noreferrer\">Open Camera</a>, especially this class <a href=\"https://github.com/almalence/OpenCamera/blob/master/src/com/almalence/opencam/ui/AlmalenceGUI.java\" rel=\"nofollow noreferrer\">AlmalenceGUI</a> which has icon arrangements.</p>\n"},{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663931341,"creation_date":1663931341,"answer_id":73826805,"question_id":73784342,"body_markdown":"&gt; Now, Is there any way to change the default settings of the default app of Camera by passing some specific parameters for example, image size, etc..?\r\n\r\nFirst, there is no single &quot;default app of Camera&quot;. There are dozens, perhaps hundreds, of default camera apps across the tens of thousands of Android device models. Also, on most older Android versions, `ACTION_IMAGE_CAPTURE` can be used to launch the user&#39;s own installed camera app.\r\n\r\nSecond, the only [&quot;specific parameters&quot; documented for `ACTION_IMAGE_CAPTURE`](https://developer.android.com/reference/kotlin/android/provider/MediaStore#action_image_capture) is `EXTRA_OUTPUT`.\r\n\r\n&gt; This is the screen that I get when opening the default camera app\r\n\r\nThat is the screen that you get when opening *a* camera app on *a* device. There are many, many camera apps that `ACTION_IMAGE_CAPTURE` can launch &amp;mdash; what you get will depend on the device.\r\n\r\n&gt; so Is there any way to hide one of the buttons above or at least make it un-clickable?\r\n\r\nThere is no requirement for a camera app to have those buttons. Or a camera app can have more buttons. FWIW, I own several dozen Android devices, and I do not recall seeing a camera app with that particular UI before.\r\n","title":"Is it possible to change the default configuration of the default Camera app in android?","body":"<blockquote>\n<p>Now, Is there any way to change the default settings of the default app of Camera by passing some specific parameters for example, image size, etc..?</p>\n</blockquote>\n<p>First, there is no single &quot;default app of Camera&quot;. There are dozens, perhaps hundreds, of default camera apps across the tens of thousands of Android device models. Also, on most older Android versions, <code>ACTION_IMAGE_CAPTURE</code> can be used to launch the user's own installed camera app.</p>\n<p>Second, the only <a href=\"https://developer.android.com/reference/kotlin/android/provider/MediaStore#action_image_capture\" rel=\"nofollow noreferrer\">&quot;specific parameters&quot; documented for <code>ACTION_IMAGE_CAPTURE</code></a> is <code>EXTRA_OUTPUT</code>.</p>\n<blockquote>\n<p>This is the screen that I get when opening the default camera app</p>\n</blockquote>\n<p>That is the screen that you get when opening <em>a</em> camera app on <em>a</em> device. There are many, many camera apps that <code>ACTION_IMAGE_CAPTURE</code> can launch — what you get will depend on the device.</p>\n<blockquote>\n<p>so Is there any way to hide one of the buttons above or at least make it un-clickable?</p>\n</blockquote>\n<p>There is no requirement for a camera app to have those buttons. Or a camera app can have more buttons. FWIW, I own several dozen Android devices, and I do not recall seeing a camera app with that particular UI before.</p>\n"}],"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73826805,"answer_count":2,"score":0,"last_activity_date":1664271755,"creation_date":1663665512,"question_id":73784342,"body_markdown":"I&#39;m creating an app in which I got one button and when clicking on it, I open the default camera app of the device using the following code:\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n                if (result.getResultCode() == RESULT_OK) {\r\n                    //do sth;\r\n                }\r\n            });\r\n    \r\n     Intent pictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n     activityResultLauncher.launch(pictureIntent);\r\nSo in this case I am using **MediaStore.ACTION_IMAGE_CAPTURE** passed to the **Intent** and this allows me to take a picture and get the result back with the help of **ActivityResultLauncher**.\r\n\r\nNow, Is there any way to **change** the **default settings** of the default app of **Camera** by passing some specific **parameters** for example, image size, etc..?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3AhFZ.jpg\r\n\r\nThis is the screen that I get when opening the default camera app, so Is there any way to **hide** one of the **buttons** above or at least make it **un-clickable**? ","title":"Is it possible to change the default configuration of the default Camera app in android?","body":"<p>I'm creating an app in which I got one button and when clicking on it, I open the default camera app of the device using the following code:</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n            if (result.getResultCode() == RESULT_OK) {\n                //do sth;\n            }\n        });\n\n Intent pictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n activityResultLauncher.launch(pictureIntent);\n</code></pre>\n<p>So in this case I am using <strong>MediaStore.ACTION_IMAGE_CAPTURE</strong> passed to the <strong>Intent</strong> and this allows me to take a picture and get the result back with the help of <strong>ActivityResultLauncher</strong>.</p>\n<p>Now, Is there any way to <strong>change</strong> the <strong>default settings</strong> of the default app of <strong>Camera</strong> by passing some specific <strong>parameters</strong> for example, image size, etc..?</p>\n<p><a href=\"https://i.stack.imgur.com/3AhFZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AhFZ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is the screen that I get when opening the default camera app, so Is there any way to <strong>hide</strong> one of the <strong>buttons</strong> above or at least make it <strong>un-clickable</strong>?</p>\n"},{"tags":["java","maven-2","plugins","build","build-process"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":2,"creation_date":1290185378,"post_id":4227180,"comment_id":4574880,"body_markdown":"This is not directly applicable, but maven3 gives a warning when you don&#39;t provide a version number for plugins, siting that the warning is there for backward compatibility.","body":"This is not directly applicable, but maven3 gives a warning when you don&#39;t provide a version number for plugins, siting that the warning is there for backward compatibility."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1290265770,"post_id":4227180,"comment_id":4582849,"body_markdown":"@Jeremy Non backward compatible changes will be in Maven 3.1. Meanwhile, Maven 3.0 helps you to fix your poms.","body":"@Jeremy Non backward compatible changes will be in Maven 3.1. Meanwhile, Maven 3.0 helps you to fix your poms."}],"answers":[{"tags":[],"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1505731149,"creation_date":1290185316,"answer_id":4227304,"question_id":4227180,"body_markdown":"You could tie something like the [versions-maven-plugin][1] to your primary build such that you get a report on each build that shows whether your plugins are up to date.\r\n\r\nSee this link for detail on how: [Display Plugin Updates](http://mojohaus.org/versions-maven-plugin/examples/display-plugin-updates.html)\r\n\r\nIf you want to get fancy, have your CI server run the output of your maven build through a script to check for `[WARNING]` log entries that signal new versions and then have it notify relevant members of your team via email or some other notification.\r\n\r\n\r\n  [1]: http://mojohaus.org/versions-maven-plugin","title":"How to get Maven to use the latest versions of certain plugins?","body":"<p>You could tie something like the <a href=\"http://mojohaus.org/versions-maven-plugin\" rel=\"nofollow noreferrer\">versions-maven-plugin</a> to your primary build such that you get a report on each build that shows whether your plugins are up to date.</p>\n\n<p>See this link for detail on how: <a href=\"http://mojohaus.org/versions-maven-plugin/examples/display-plugin-updates.html\" rel=\"nofollow noreferrer\">Display Plugin Updates</a></p>\n\n<p>If you want to get fancy, have your CI server run the output of your maven build through a script to check for <code>[WARNING]</code> log entries that signal new versions and then have it notify relevant members of your team via email or some other notification.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1290185714,"creation_date":1290185714,"answer_id":4227376,"question_id":4227180,"body_markdown":"The second time I get to write this today:\r\n\r\nTry using the `-cpu` flag. Output from `mvn -help`:\r\n\r\n\r\n    usage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]\r\n    \r\n    Options:\r\n     -cpu,--check-plugin-updates            Force upToDate check for any\r\n                                            relevant registered plugins\r\n","title":"How to get Maven to use the latest versions of certain plugins?","body":"<p>The second time I get to write this today:</p>\n\n<p>Try using the <code>-cpu</code> flag. Output from <code>mvn -help</code>:</p>\n\n<pre><code>usage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]\n\nOptions:\n -cpu,--check-plugin-updates            Force upToDate check for any\n                                        relevant registered plugins\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13696,"reputation":17521,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1290186450,"creation_date":1290186450,"answer_id":4227502,"question_id":4227180,"body_markdown":"You could also use version ranges in your plugins.","title":"How to get Maven to use the latest versions of certain plugins?","body":"<p>You could also use version ranges in your plugins.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1664271622,"creation_date":1290191509,"answer_id":4228202,"question_id":4227180,"body_markdown":"&gt; Apparently if you don&#39;t specify the version of the Maven compiler plugin, Maven 2.2.1 just gives you v2.0.2.\r\n\r\nYes, as of [Maven 2.0.9][1] (see [MNG-3395][2]) the versions of core and common plugins are fixed in the [super POM][3] and Maven disabled plugin version discovery for the sake of **build reproducibility**.\r\n\r\n\r\n&gt; Our project uses 15+ Maven plugins. Some of them we want to pin down a certain version, but most of which (like the compiler plugin) we&#39;d like to upgrade without having to think about it.\r\n\r\nAs hinted above, this is a bad idea. You simply don&#39;t want a maven build to suddenly start to fail because of some plugin update. In other words, you should use fixed versions and not doing so is a **bad practice**. Actually, Maven 3.0 promotes this practice and warns you if you don&#39;t do so. And in 3.1, **you will have to specify a version** (see [MNG-1968][4]). \r\n\r\nPersonally, I use the [Maven Enforcer Plugin][5] and its [Require Plugin Versions][6] rule to enforce this practice (which means the build will fail if you don&#39;t lock down plugins versions).\r\n\r\n&gt; Is there a way to do this automatically with Maven, or do we have to assign someone the thankless task of researching possible Maven plug-in upgrades every month and then changing the PluginManagement version numbers in our parent POM?\r\n\r\nAs suggested, the [Versions Maven Plugin][7] has goals allowing to check if there are more recent versions of plugins, dependencies, etc (and note that `-cpu` is deprecated in Maven 3.0 and will be removed from future versions). \r\n\r\nBut the real question is: why do you want to always use ultimate versions? IMO, there is no good reason to do so, you should upgrade only if there is something to fix (*&quot;if it ain&#39;t broke, don&#39;t fix it&quot;*).\r\n\r\nBottom line: use fixed plugins versions and forget automatic updates, version ranges, etc.\r\n\r\n  [1]: http://maven.apache.org/release-notes-all.html#Complete_list_of_issues_fixed_in_2.0.9\r\n  [2]: http://jira.codehaus.org/browse/MNG-3395\r\n  [3]: http://svn.apache.org/viewvc/maven/components/tags/maven-2.0.9/maven-project/src/main/resources/org/apache/maven/project/pom-4.0.0.xml\r\n  [4]: http://jira.codehaus.org/browse/MNG-1968\r\n  [5]: http://maven.apache.org/plugins/maven-enforcer-plugin/\r\n  [6]: http://maven.apache.org/enforcer/enforcer-rules/requirePluginVersions.html\r\n  [7]: https://www.mojohaus.org/versions-maven-plugin/","title":"How to get Maven to use the latest versions of certain plugins?","body":"<blockquote>\n<p>Apparently if you don't specify the version of the Maven compiler plugin, Maven 2.2.1 just gives you v2.0.2.</p>\n</blockquote>\n<p>Yes, as of <a href=\"http://maven.apache.org/release-notes-all.html#Complete_list_of_issues_fixed_in_2.0.9\" rel=\"nofollow noreferrer\">Maven 2.0.9</a> (see <a href=\"http://jira.codehaus.org/browse/MNG-3395\" rel=\"nofollow noreferrer\">MNG-3395</a>) the versions of core and common plugins are fixed in the <a href=\"http://svn.apache.org/viewvc/maven/components/tags/maven-2.0.9/maven-project/src/main/resources/org/apache/maven/project/pom-4.0.0.xml\" rel=\"nofollow noreferrer\">super POM</a> and Maven disabled plugin version discovery for the sake of <strong>build reproducibility</strong>.</p>\n<blockquote>\n<p>Our project uses 15+ Maven plugins. Some of them we want to pin down a certain version, but most of which (like the compiler plugin) we'd like to upgrade without having to think about it.</p>\n</blockquote>\n<p>As hinted above, this is a bad idea. You simply don't want a maven build to suddenly start to fail because of some plugin update. In other words, you should use fixed versions and not doing so is a <strong>bad practice</strong>. Actually, Maven 3.0 promotes this practice and warns you if you don't do so. And in 3.1, <strong>you will have to specify a version</strong> (see <a href=\"http://jira.codehaus.org/browse/MNG-1968\" rel=\"nofollow noreferrer\">MNG-1968</a>).</p>\n<p>Personally, I use the <a href=\"http://maven.apache.org/plugins/maven-enforcer-plugin/\" rel=\"nofollow noreferrer\">Maven Enforcer Plugin</a> and its <a href=\"http://maven.apache.org/enforcer/enforcer-rules/requirePluginVersions.html\" rel=\"nofollow noreferrer\">Require Plugin Versions</a> rule to enforce this practice (which means the build will fail if you don't lock down plugins versions).</p>\n<blockquote>\n<p>Is there a way to do this automatically with Maven, or do we have to assign someone the thankless task of researching possible Maven plug-in upgrades every month and then changing the PluginManagement version numbers in our parent POM?</p>\n</blockquote>\n<p>As suggested, the <a href=\"https://www.mojohaus.org/versions-maven-plugin/\" rel=\"nofollow noreferrer\">Versions Maven Plugin</a> has goals allowing to check if there are more recent versions of plugins, dependencies, etc (and note that <code>-cpu</code> is deprecated in Maven 3.0 and will be removed from future versions).</p>\n<p>But the real question is: why do you want to always use ultimate versions? IMO, there is no good reason to do so, you should upgrade only if there is something to fix (<em>&quot;if it ain't broke, don't fix it&quot;</em>).</p>\n<p>Bottom line: use fixed plugins versions and forget automatic updates, version ranges, etc.</p>\n"}],"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2684,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4227304,"answer_count":4,"score":2,"last_activity_date":1664271622,"creation_date":1290184601,"question_id":4227180,"body_markdown":"I just lost 2 hours of time because of a bug in the maven-compiler-plugin v2.0.2 that was fixed in version v2.3.2.\r\n\r\nApparently if you don&#39;t specify the version of the Maven compiler plugin, Maven 2.2.1 just gives you v2.0.2.\r\n\r\nOur project uses 15+ Maven plugins.  Some of them we want to pin down a certain version, but most of which (like the compiler plugin) we&#39;d like to upgrade without having to think about it.\r\n\r\nIs there a way to do this automatically with Maven, or do we have to assign someone the thankless task of researching possible Maven plug-in upgrades every month and then changing the PluginManagement version numbers in our parent POM?","title":"How to get Maven to use the latest versions of certain plugins?","body":"<p>I just lost 2 hours of time because of a bug in the maven-compiler-plugin v2.0.2 that was fixed in version v2.3.2.</p>\n\n<p>Apparently if you don't specify the version of the Maven compiler plugin, Maven 2.2.1 just gives you v2.0.2.</p>\n\n<p>Our project uses 15+ Maven plugins.  Some of them we want to pin down a certain version, but most of which (like the compiler plugin) we'd like to upgrade without having to think about it.</p>\n\n<p>Is there a way to do this automatically with Maven, or do we have to assign someone the thankless task of researching possible Maven plug-in upgrades every month and then changing the PluginManagement version numbers in our parent POM?</p>\n"},{"tags":["java","format"],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664271596,"creation_date":1664271596,"answer_id":73865421,"question_id":73865235,"body_markdown":"Most probably, the source code was written in the UTF-8 encoding, and your Eclipse is configured to interpret the sources as ANSI, ISO-8859-1, cp1252 or similar.\r\n\r\nThen, what you see as `&#207;†` is in fact the two-byte UTF-8 representation of the greek character phi (`φ`), interpreted according to ANSI.\r\n\r\nConfigure Eclipse to expect the UTF-8 encoding (Preferences / General / Workspace / Text file encoding), then it should be able to compile.\r\n\r\nThis example shows why it is a bad idea even today to use characters outside ASCII in source code.","title":"Unusual formatting of Vincenty Formulae in Java","body":"<p>Most probably, the source code was written in the UTF-8 encoding, and your Eclipse is configured to interpret the sources as ANSI, ISO-8859-1, cp1252 or similar.</p>\n<p>Then, what you see as <code>Ï†</code> is in fact the two-byte UTF-8 representation of the greek character phi (<code>φ</code>), interpreted according to ANSI.</p>\n<p>Configure Eclipse to expect the UTF-8 encoding (Preferences / General / Workspace / Text file encoding), then it should be able to compile.</p>\n<p>This example shows why it is a bad idea even today to use characters outside ASCII in source code.</p>\n"}],"owner":{"account_id":14970623,"reputation":270,"user_id":10807611,"display_name":"Zerox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73865421,"answer_count":1,"score":0,"last_activity_date":1664271596,"creation_date":1664270738,"question_id":73865235,"body_markdown":"I am in the process of taking over a project and noticed that, when the vincenty formulae is used,\r\nit has been written in a unusual way. This is how it&#39;s written:\r\n\r\n```\r\n\tString direct(double distance, double initialBearing, double positionlat, double positionlong)  {\r\n\t\t// if (this.height != 0) throw new RangeError(&#39;point must be on the surface of\r\n\t\t// the ellipsoid&#39;);\r\n\r\n\t\tdouble &#207;†1 = this.toRad(positionlat)/* .toRadians() */, &#206;&#187;1 = this.toRad(positionlong)/* .toRadians() */;\r\n\t\tdouble &#206;&#177;1 = this.toRad(initialBearing);\r\n\t\tdouble s = distance;\r\n\r\n\t\t// allow alternative ellipsoid to be specified\r\n\t\t// double ellipsoid = /*this.datum ? this.datum.ellipsoid :*/\r\n\t\t// LatLonEllipsoidal.ellipsoids.WGS84;\r\n\t\t// const {a, b, f} = ellipsoid;\r\n\t\tdouble a = 6378137;\r\n\t\tdouble b = 6356752.314245;\r\n\t\tdouble f = 1 / 298.257223563;\r\n\t\t// double a = ellipsoid;\r\n\t\t// double b = ellipsoid;\r\n\t\t// double f = ellipsoid;\r\n\r\n\t\tdouble sin&#206;&#177;1 = Math.sin(&#206;&#177;1);\r\n\t\tdouble cos&#206;&#177;1 = Math.cos(&#206;&#177;1);\r\n\r\n\t\tdouble tanU1 = (1 - f) * Math.tan(&#207;†1), cosU1 = 1 / Math.sqrt((1 + tanU1 * tanU1)), sinU1 = tanU1 * cosU1;\r\n\t\tdouble &#207;ƒ1 = Math.atan2(tanU1, cos&#206;&#177;1); // &#207;ƒ1 = angular distance on the sphere from the equator to P1\r\n\t\tdouble sin&#206;&#177; = cosU1 * sin&#206;&#177;1; // &#206;&#177; = azimuth of the geodesic at the equator\r\n\t\tdouble cosSq&#206;&#177; = 1 - sin&#206;&#177; * sin&#206;&#177;;\r\n\t\tdouble uSq = cosSq&#206;&#177; * (a * a - b * b) / (b * b);\r\n\t\tdouble A = 1 + uSq / 16384 * (4096 + uSq * (-768 + uSq * (320 - 175 * uSq)));\r\n\t\tdouble B = uSq / 1024 * (256 + uSq * (-128 + uSq * (74 - 47 * uSq)));\r\n\r\n\t\tdouble &#207;ƒ = s / (b * A);\r\n\t\tDouble sin&#207;ƒ = null, cos&#207;ƒ = null, &#206;”&#207;ƒ = null; // &#207;ƒ = angular distance P&#226;‚� P&#226;‚‚ on the sphere\r\n\t\tDouble cos2&#207;ƒ&#226;‚˜ = null; // &#207;ƒ&#226;‚˜ = angular distance on the sphere from the equator to the midpoint of the\r\n\t\t\t\t\t\t\t\t// line\r\n\r\n\t\tDouble &#207;ƒ&#202;&#185; = null, iterations = 0d;\r\n\t\tdo {\r\n\t\t\tcos2&#207;ƒ&#226;‚˜ = Math.cos(2 * &#207;ƒ1 + &#207;ƒ);\r\n\t\t\tsin&#207;ƒ = Math.sin(&#207;ƒ);\r\n\t\t\tcos&#207;ƒ = Math.cos(&#207;ƒ);\r\n\t\t\t&#206;”&#207;ƒ = B * sin&#207;ƒ * (cos2&#207;ƒ&#226;‚˜ + B / 4 * (cos&#207;ƒ * (-1 + 2 * cos2&#207;ƒ&#226;‚˜ * cos2&#207;ƒ&#226;‚˜)\r\n\t\t\t\t\t- B / 6 * cos2&#207;ƒ&#226;‚˜ * (-3 + 4 * sin&#207;ƒ * sin&#207;ƒ) * (-3 + 4 * cos2&#207;ƒ&#226;‚˜ * cos2&#207;ƒ&#226;‚˜)));\r\n\t\t\t&#207;ƒ&#202;&#185; = &#207;ƒ;\r\n\t\t\t&#207;ƒ = s / (b * A) + &#206;”&#207;ƒ;\r\n\t\t} while (Math.abs(&#207;ƒ - &#207;ƒ&#202;&#185;) &gt; 1e-12 &amp;&amp; ++iterations &lt; 100);\r\n\t\tif (iterations &gt;= 100) {\r\n\t\t\t//throw new Exception(&quot;Vincenty formula failed to converge&quot;); // not possible?\r\n\t\t\tSystem.err.println(&quot;Warning: Vincenty formula failed to converge!&quot;);\r\n\t\t}\r\n\t\t\r\n\r\n\t\tdouble x = sinU1 * sin&#207;ƒ - cosU1 * cos&#207;ƒ * cos&#206;&#177;1;\r\n\t\tdouble &#207;†2 = Math.atan2(sinU1 * cos&#207;ƒ + cosU1 * sin&#207;ƒ * cos&#206;&#177;1, (1 - f) * Math.sqrt(sin&#206;&#177; * sin&#206;&#177; + x * x));\r\n\t\tdouble &#206;&#187; = Math.atan2(sin&#207;ƒ * sin&#206;&#177;1, cosU1 * cos&#207;ƒ - sinU1 * sin&#207;ƒ * cos&#206;&#177;1);\r\n\t\tdouble C = f / 16 * cosSq&#206;&#177; * (4 + f * (4 - 3 * cosSq&#206;&#177;));\r\n\t\tdouble L = &#206;&#187; - (1 - C) * f * sin&#206;&#177; * (&#207;ƒ + C * sin&#207;ƒ * (cos2&#207;ƒ&#226;‚˜ + C * cos&#207;ƒ * (-1 + 2 * cos2&#207;ƒ&#226;‚˜ * cos2&#207;ƒ&#226;‚˜)));\r\n\t\tdouble &#206;&#187;2 = &#206;&#187;1 + L;\r\n\r\n\t\tdouble &#206;&#177;2 = Math.atan2(sin&#206;&#177;, -x);\r\n\r\n\t\t// const destinationPoint = new\r\n\t\t// LatLonEllipsoidal_Vincenty(this.toDeg(&#207;†2)/*.toDegrees()*/,\r\n\t\t// this.toDeg(&#206;&#187;2)/*.toDegrees()*/, 0, undefined);\r\n\r\n\t\treturn this.toDeg(&#207;†2) + &quot;;&quot; + this.toDeg(&#206;&#187;2);/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t * { lat: this.toDeg(&#207;†2), lng: this.toDeg(&#206;&#187;2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t */\r\n\t\t/*\r\n\t\t * destinationPoint.g point: destinationPoint, finalBearing:\r\n\t\t * Dms.wrap360(this.toDeg(&#206;&#177;2)/*.toDegrees()\r\n\t\t *//*\r\n\t\t\t * ), iterations: iterations,\r\n\t\t\t */\r\n\t\t// };\r\n\t}\r\n```\r\nNow the IDE (eclipse) is responding, that it can&#39;t handle variable names such as e.g. `&#207;†1`. Is there a elegant solution to fixing this or do I have to re-write it?","title":"Unusual formatting of Vincenty Formulae in Java","body":"<p>I am in the process of taking over a project and noticed that, when the vincenty formulae is used,\nit has been written in a unusual way. This is how it's written:</p>\n<pre><code>    String direct(double distance, double initialBearing, double positionlat, double positionlong)  {\n        // if (this.height != 0) throw new RangeError('point must be on the surface of\n        // the ellipsoid');\n\n        double Ï†1 = this.toRad(positionlat)/* .toRadians() */, Î»1 = this.toRad(positionlong)/* .toRadians() */;\n        double Î±1 = this.toRad(initialBearing);\n        double s = distance;\n\n        // allow alternative ellipsoid to be specified\n        // double ellipsoid = /*this.datum ? this.datum.ellipsoid :*/\n        // LatLonEllipsoidal.ellipsoids.WGS84;\n        // const {a, b, f} = ellipsoid;\n        double a = 6378137;\n        double b = 6356752.314245;\n        double f = 1 / 298.257223563;\n        // double a = ellipsoid;\n        // double b = ellipsoid;\n        // double f = ellipsoid;\n\n        double sinÎ±1 = Math.sin(Î±1);\n        double cosÎ±1 = Math.cos(Î±1);\n\n        double tanU1 = (1 - f) * Math.tan(Ï†1), cosU1 = 1 / Math.sqrt((1 + tanU1 * tanU1)), sinU1 = tanU1 * cosU1;\n        double Ïƒ1 = Math.atan2(tanU1, cosÎ±1); // Ïƒ1 = angular distance on the sphere from the equator to P1\n        double sinÎ± = cosU1 * sinÎ±1; // Î± = azimuth of the geodesic at the equator\n        double cosSqÎ± = 1 - sinÎ± * sinÎ±;\n        double uSq = cosSqÎ± * (a * a - b * b) / (b * b);\n        double A = 1 + uSq / 16384 * (4096 + uSq * (-768 + uSq * (320 - 175 * uSq)));\n        double B = uSq / 1024 * (256 + uSq * (-128 + uSq * (74 - 47 * uSq)));\n\n        double Ïƒ = s / (b * A);\n        Double sinÏƒ = null, cosÏƒ = null, Î”Ïƒ = null; // Ïƒ = angular distance Pâ‚� Pâ‚‚ on the sphere\n        Double cos2Ïƒâ‚˜ = null; // Ïƒâ‚˜ = angular distance on the sphere from the equator to the midpoint of the\n                                // line\n\n        Double ÏƒÊ¹ = null, iterations = 0d;\n        do {\n            cos2Ïƒâ‚˜ = Math.cos(2 * Ïƒ1 + Ïƒ);\n            sinÏƒ = Math.sin(Ïƒ);\n            cosÏƒ = Math.cos(Ïƒ);\n            Î”Ïƒ = B * sinÏƒ * (cos2Ïƒâ‚˜ + B / 4 * (cosÏƒ * (-1 + 2 * cos2Ïƒâ‚˜ * cos2Ïƒâ‚˜)\n                    - B / 6 * cos2Ïƒâ‚˜ * (-3 + 4 * sinÏƒ * sinÏƒ) * (-3 + 4 * cos2Ïƒâ‚˜ * cos2Ïƒâ‚˜)));\n            ÏƒÊ¹ = Ïƒ;\n            Ïƒ = s / (b * A) + Î”Ïƒ;\n        } while (Math.abs(Ïƒ - ÏƒÊ¹) &gt; 1e-12 &amp;&amp; ++iterations &lt; 100);\n        if (iterations &gt;= 100) {\n            //throw new Exception(&quot;Vincenty formula failed to converge&quot;); // not possible?\n            System.err.println(&quot;Warning: Vincenty formula failed to converge!&quot;);\n        }\n        \n\n        double x = sinU1 * sinÏƒ - cosU1 * cosÏƒ * cosÎ±1;\n        double Ï†2 = Math.atan2(sinU1 * cosÏƒ + cosU1 * sinÏƒ * cosÎ±1, (1 - f) * Math.sqrt(sinÎ± * sinÎ± + x * x));\n        double Î» = Math.atan2(sinÏƒ * sinÎ±1, cosU1 * cosÏƒ - sinU1 * sinÏƒ * cosÎ±1);\n        double C = f / 16 * cosSqÎ± * (4 + f * (4 - 3 * cosSqÎ±));\n        double L = Î» - (1 - C) * f * sinÎ± * (Ïƒ + C * sinÏƒ * (cos2Ïƒâ‚˜ + C * cosÏƒ * (-1 + 2 * cos2Ïƒâ‚˜ * cos2Ïƒâ‚˜)));\n        double Î»2 = Î»1 + L;\n\n        double Î±2 = Math.atan2(sinÎ±, -x);\n\n        // const destinationPoint = new\n        // LatLonEllipsoidal_Vincenty(this.toDeg(Ï†2)/*.toDegrees()*/,\n        // this.toDeg(Î»2)/*.toDegrees()*/, 0, undefined);\n\n        return this.toDeg(Ï†2) + &quot;;&quot; + this.toDeg(Î»2);/*\n                                                         * { lat: this.toDeg(Ï†2), lng: this.toDeg(Î»2)\n                                                         */\n        /*\n         * destinationPoint.g point: destinationPoint, finalBearing:\n         * Dms.wrap360(this.toDeg(Î±2)/*.toDegrees()\n         *//*\n             * ), iterations: iterations,\n             */\n        // };\n    }\n</code></pre>\n<p>Now the IDE (eclipse) is responding, that it can't handle variable names such as e.g. <code>Ï†1</code>. Is there a elegant solution to fixing this or do I have to re-write it?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":26377214,"reputation":68,"user_id":20030981,"display_name":"Sneh Malani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664271002,"creation_date":1664270640,"answer_id":73865222,"question_id":73864259,"body_markdown":"I think you might want to try loading a simple fragment into an activity.\r\n\r\nTry this code. It&#39;s working for you.\r\n\r\nFor more info: [click](https://medium.com/@anandh51295/how-to-use-fragment-in-activity-android-application-c494433e26fc)\r\n\r\n**Note:**   Always create a new object like this to load fragments ``new ProductDetailFragment()`` , and use ``setContentView();`` inside of ``onCreate()``.\r\n\r\n\r\n**1.** First of all, create the perfect activity to load a fragment.\r\n\r\n``MainActivity.class``\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    String TAG = &quot;MainActivity&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        getSupportFragmentManager().beginTransaction()\r\n                    .setReorderingAllowed(true)\r\n                    .add(R.id.main, new ProductDetailFragment(), null)\r\n                    .commit();\r\n        }\r\n    }\r\n\r\n\r\n``activity_main.xml``\r\n\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n       xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:id=&quot;@+id/main&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        &gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n**2.**  create fragment ``ProductDetailFragment.class``\r\n\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    public class ProductDetailFragment extends Fragment {\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            View view =inflater.inflate(R.layout.fragment_product_details,container,false);\r\n            System.out.println(view);\r\n            return view;\r\n        }\r\n    }\r\n\r\n**3.**  make diffrent layout for fragment ``fragment_product_details.xml``\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;30dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/brand&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/item&quot;\r\n            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:adjustViewBounds=&quot;true&quot;\r\n            app:srcCompat=&quot;@drawable/gibson_1&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;right&quot;\r\n            android:text=&quot;@string/price&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;right&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;15dp&quot;\r\n                android:inputType=&quot;phone&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/addCart&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:drawableLeft=&quot;@drawable/drawablestart&quot;\r\n                android:text=&quot;Add to cart&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/FrameLayout&gt;\r\n&lt;/LinearLayout&gt;","title":"Why do I get the android.view.InflateException when using FragmentContainerView","body":"<p>I think you might want to try loading a simple fragment into an activity.</p>\n<p>Try this code. It's working for you.</p>\n<p>For more info: <a href=\"https://medium.com/@anandh51295/how-to-use-fragment-in-activity-android-application-c494433e26fc\" rel=\"nofollow noreferrer\">click</a></p>\n<p><strong>Note:</strong>   Always create a new object like this to load fragments <code>new ProductDetailFragment()</code> , and use <code>setContentView();</code> inside of <code>onCreate()</code>.</p>\n<p><strong>1.</strong> First of all, create the perfect activity to load a fragment.</p>\n<p><code>MainActivity.class</code></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nString TAG = &quot;MainActivity&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    getSupportFragmentManager().beginTransaction()\n                .setReorderingAllowed(true)\n                .add(R.id.main, new ProductDetailFragment(), null)\n                .commit();\n    }\n}\n</code></pre>\n<p><code>activity_main.xml</code></p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n   xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/main&quot;\n    android:orientation=&quot;horizontal&quot;\n    &gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>2.</strong>  create fragment <code>ProductDetailFragment.class</code></p>\n<pre><code>import android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\npublic class ProductDetailFragment extends Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view =inflater.inflate(R.layout.fragment_product_details,container,false);\n        System.out.println(view);\n        return view;\n    }\n}\n</code></pre>\n<p><strong>3.</strong>  make diffrent layout for fragment <code>fragment_product_details.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n\n&lt;FrameLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;30dp&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/brand&quot; /&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/item&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        app:srcCompat=&quot;@drawable/gibson_1&quot; /&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;right&quot;\n        android:text=&quot;@string/price&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:gravity=&quot;right&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginRight=&quot;15dp&quot;\n            android:inputType=&quot;phone&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/addCart&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:drawableLeft=&quot;@drawable/drawablestart&quot;\n            android:text=&quot;Add to cart&quot; /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":23340559,"reputation":366,"user_id":17415517,"display_name":"Khush Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664270821,"creation_date":1664270821,"answer_id":73865255,"question_id":73864259,"body_markdown":"You misunderstood the actual code in the link :- https://developer.android.com/guide/fragments/create\r\n\r\nYou put the fragment xml code inside your fragment container view which is inside your main activity.\r\n\r\nYou just need to declare the fragment container view defined below.\r\n\r\nThe fragment container view is main container which contains your fragment like below in your main activity.\r\n    \r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/fragment_container_view&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:name=&quot;&lt;provide your fragment class here from your code it is ProductDetailFragment&gt;&quot; /&gt;\r\n\r\nThen create the fragment xml file in layout directory named fragment_product_detail:- \r\n\r\nThen put your fragment xml code in it. like below.\r\n\r\nfragment_product_detail.xml :-\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;30dp&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:text=&quot;@string/brand&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/item&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        /&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        app:srcCompat=&quot;@drawable/gibson_1&quot;\r\n        /&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/price&quot;\r\n            android:gravity=&quot;right&quot;\r\n            /&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:gravity=&quot;right&quot;\r\n            &gt;\r\n            &lt;EditText\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:inputType=&quot;phone&quot;\r\n                android:layout_marginRight=&quot;15dp&quot;\r\n                /&gt;\r\n            &lt;Button\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Add to cart&quot;\r\n                android:drawableLeft=&quot;@drawable/drawablestart&quot;\r\n                android:id=&quot;@+id/addCart&quot;\r\n                /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\nThen in your fragment **onCreateView** method make sure to inflate the fragment layout like below :-\r\n\r\n    View view =inflater.inflate(R.layout.fragment_product_detail,container,false);\r\n\r\nThis will resolve your problem.\r\nLet me know if you still face any issue.","title":"Why do I get the android.view.InflateException when using FragmentContainerView","body":"<p>You misunderstood the actual code in the link :- <a href=\"https://developer.android.com/guide/fragments/create\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/create</a></p>\n<p>You put the fragment xml code inside your fragment container view which is inside your main activity.</p>\n<p>You just need to declare the fragment container view defined below.</p>\n<p>The fragment container view is main container which contains your fragment like below in your main activity.</p>\n<pre><code>&lt;androidx.fragment.app.FragmentContainerView\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:id=&quot;@+id/fragment_container_view&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:name=&quot;&lt;provide your fragment class here from your code it is ProductDetailFragment&gt;&quot; /&gt;\n</code></pre>\n<p>Then create the fragment xml file in layout directory named fragment_product_detail:-</p>\n<p>Then put your fragment xml code in it. like below.</p>\n<p>fragment_product_detail.xml :-</p>\n<pre><code>&lt;FrameLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;30dp&quot;&gt;\n\n\n&lt;TextView\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:text=&quot;@string/brand&quot;\n    /&gt;\n&lt;TextView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;@string/item&quot;\n    android:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot;\n    android:textStyle=&quot;bold&quot;\n    /&gt;\n\n&lt;ImageView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:adjustViewBounds=&quot;true&quot;\n    app:srcCompat=&quot;@drawable/gibson_1&quot;\n    /&gt;\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/price&quot;\n        android:gravity=&quot;right&quot;\n        /&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:gravity=&quot;right&quot;\n        &gt;\n        &lt;EditText\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:inputType=&quot;phone&quot;\n            android:layout_marginRight=&quot;15dp&quot;\n            /&gt;\n        &lt;Button\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Add to cart&quot;\n            android:drawableLeft=&quot;@drawable/drawablestart&quot;\n            android:id=&quot;@+id/addCart&quot;\n            /&gt;\n    &lt;/LinearLayout&gt;\n\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Then in your fragment <strong>onCreateView</strong> method make sure to inflate the fragment layout like below :-</p>\n<pre><code>View view =inflater.inflate(R.layout.fragment_product_detail,container,false);\n</code></pre>\n<p>This will resolve your problem.\nLet me know if you still face any issue.</p>\n"}],"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73865222,"answer_count":2,"score":1,"last_activity_date":1664271002,"creation_date":1664265936,"question_id":73864259,"body_markdown":"I am still pretty new to fragments and I am sure I do not understand things correctly. But I hope I can learn from this now.\r\n\r\nI follow this guide for connecting my xml with the fragments: https://developer.android.com/guide/fragments/create. But when starting the app I get an error that says that some parts are not compatible. \r\n\r\nHere are my files:\r\n\r\nmain.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.fragment.app.FragmentContainerView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/main&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    &gt;\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;30dp&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:text=&quot;@string/brand&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/item&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        /&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        app:srcCompat=&quot;@drawable/gibson_1&quot;\r\n        /&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/price&quot;\r\n            android:gravity=&quot;right&quot;\r\n            /&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:gravity=&quot;right&quot;\r\n            &gt;\r\n            &lt;EditText\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:inputType=&quot;phone&quot;\r\n                android:layout_marginRight=&quot;15dp&quot;\r\n                /&gt;\r\n            &lt;Button\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Add to cart&quot;\r\n                android:drawableLeft=&quot;@drawable/drawablestart&quot;\r\n                android:id=&quot;@+id/addCart&quot;\r\n                /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n&lt;/androidx.fragment.app.FragmentContainerView&gt;\r\n```\r\n\r\nMainActive.java\r\n```\r\npackage at.hlpinkafeld.android.musicstore;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.util.AttributeSet;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    public MainActivity() {\r\n        super(R.layout.activity_main);\r\n    }\r\n\r\n    @Nullable\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (savedInstanceState == null) {\r\n            getSupportFragmentManager().beginTransaction()\r\n                    .setReorderingAllowed(true)\r\n                    .add(R.id.main, ProductDetailFragment.class, null)\r\n                    .commit();\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nfragment.java\r\n```\r\npackage at.hlpinkafeld.android.musicstore;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.google.android.material.textview.MaterialTextView;\r\n\r\npublic class ProductDetailFragment extends Fragment {\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view =inflater.inflate(R.layout.activity_main,container,false);\r\n        System.out.println(view);\r\n        return view;\r\n    }\r\n}\r\n\r\n```\r\n\r\nthe error\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: at.hlpinkafeld.android.musicstore, PID: 13020\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{at.hlpinkafeld.android.musicstore/at.hlpinkafeld.android.musicstore.MainActivity}: android.view.InflateException: Binary XML file line #11 in at.hlpinkafeld.android.musicstore:layout/activity_main: Views added to a FragmentContainerView must be associated with a Fragment. View android.widget.FrameLayout{58ede95 V.E...... ......I. 0,0-0,0} is not associated with a Fragment.\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3635)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n     Caused by: android.view.InflateException: Binary XML file line #11 in at.hlpinkafeld.android.musicstore:layout/activity_main: Views added to a FragmentContainerView must be associated with a Fragment. View android.widget.FrameLayout{58ede95 V.E...... ......I. 0,0-0,0} is not associated with a Fragment.\r\n     Caused by: java.lang.IllegalStateException: Views added to a FragmentContainerView must be associated with a Fragment. View android.widget.FrameLayout{58ede95 V.E...... ......I. 0,0-0,0} is not associated with a Fragment.\r\n        at androidx.fragment.app.FragmentContainerView.addView(FragmentContainerView.kt:266)\r\n        at android.view.ViewGroup.addView(ViewGroup.java:5048)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1131)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:485)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n        at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:356)\r\n        at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:217)\r\n        at at.hlpinkafeld.android.musicstore.MainActivity.onCreate(MainActivity.java:25)\r\n        at android.app.Activity.performCreate(Activity.java:8051)\r\n        at android.app.Activity.performCreate(Activity.java:8031)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3608)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n```\r\n\r\n\r\nFor help and an explanation why it didn&#39;t work like that, would be nice","title":"Why do I get the android.view.InflateException when using FragmentContainerView","body":"<p>I am still pretty new to fragments and I am sure I do not understand things correctly. But I hope I can learn from this now.</p>\n<p>I follow this guide for connecting my xml with the fragments: <a href=\"https://developer.android.com/guide/fragments/create\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/create</a>. But when starting the app I get an error that says that some parts are not compatible.</p>\n<p>Here are my files:</p>\n<p>main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.fragment.app.FragmentContainerView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/main&quot;\n    android:orientation=&quot;horizontal&quot;\n    &gt;\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        android:padding=&quot;30dp&quot;&gt;\n\n\n    &lt;TextView\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:text=&quot;@string/brand&quot;\n        /&gt;\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/item&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot;\n        android:textStyle=&quot;bold&quot;\n        /&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        app:srcCompat=&quot;@drawable/gibson_1&quot;\n        /&gt;\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/price&quot;\n            android:gravity=&quot;right&quot;\n            /&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:gravity=&quot;right&quot;\n            &gt;\n            &lt;EditText\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:inputType=&quot;phone&quot;\n                android:layout_marginRight=&quot;15dp&quot;\n                /&gt;\n            &lt;Button\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Add to cart&quot;\n                android:drawableLeft=&quot;@drawable/drawablestart&quot;\n                android:id=&quot;@+id/addCart&quot;\n                /&gt;\n        &lt;/LinearLayout&gt;\n\n\n\n    &lt;/FrameLayout&gt;\n\n&lt;/androidx.fragment.app.FragmentContainerView&gt;\n</code></pre>\n<p>MainActive.java</p>\n<pre><code>package at.hlpinkafeld.android.musicstore;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.util.AttributeSet;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    public MainActivity() {\n        super(R.layout.activity_main);\n    }\n\n    @Nullable\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (savedInstanceState == null) {\n            getSupportFragmentManager().beginTransaction()\n                    .setReorderingAllowed(true)\n                    .add(R.id.main, ProductDetailFragment.class, null)\n                    .commit();\n        }\n\n\n    }\n}\n</code></pre>\n<p>fragment.java</p>\n<pre><code>package at.hlpinkafeld.android.musicstore;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport com.google.android.material.textview.MaterialTextView;\n\npublic class ProductDetailFragment extends Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view =inflater.inflate(R.layout.activity_main,container,false);\n        System.out.println(view);\n        return view;\n    }\n}\n\n</code></pre>\n<p>the error</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: at.hlpinkafeld.android.musicstore, PID: 13020\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{at.hlpinkafeld.android.musicstore/at.hlpinkafeld.android.musicstore.MainActivity}: android.view.InflateException: Binary XML file line #11 in at.hlpinkafeld.android.musicstore:layout/activity_main: Views added to a FragmentContainerView must be associated with a Fragment. View android.widget.FrameLayout{58ede95 V.E...... ......I. 0,0-0,0} is not associated with a Fragment.\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3635)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n     Caused by: android.view.InflateException: Binary XML file line #11 in at.hlpinkafeld.android.musicstore:layout/activity_main: Views added to a FragmentContainerView must be associated with a Fragment. View android.widget.FrameLayout{58ede95 V.E...... ......I. 0,0-0,0} is not associated with a Fragment.\n     Caused by: java.lang.IllegalStateException: Views added to a FragmentContainerView must be associated with a Fragment. View android.widget.FrameLayout{58ede95 V.E...... ......I. 0,0-0,0} is not associated with a Fragment.\n        at androidx.fragment.app.FragmentContainerView.addView(FragmentContainerView.kt:266)\n        at android.view.ViewGroup.addView(ViewGroup.java:5048)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1131)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:485)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:356)\n        at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:217)\n        at at.hlpinkafeld.android.musicstore.MainActivity.onCreate(MainActivity.java:25)\n        at android.app.Activity.performCreate(Activity.java:8051)\n        at android.app.Activity.performCreate(Activity.java:8031)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3608)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>For help and an explanation why it didn't work like that, would be nice</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-security"],"comments":[{"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"score":0,"creation_date":1664234128,"post_id":73860429,"comment_id":130420148,"body_markdown":"@zapl I added the (redacted) stack trace and the rest controller. It appears to me that the AccessDeniedException is thrown before the invocation of getEntities","body":"@zapl I added the (redacted) stack trace and the rest controller. It appears to me that the AccessDeniedException is thrown before the invocation of getEntities"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1664234786,"post_id":73860429,"comment_id":130420248,"body_markdown":"What is your reason for a custom `AccessDeniedHandler`? The default implementation is exactly to send a 403, and there are built-in declarative options for the most common alternatives.","body":"What is your reason for a custom <code>AccessDeniedHandler</code>? The default implementation is exactly to send a 403, and there are built-in declarative options for the most common alternatives."}],"answers":[{"tags":[],"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1664235519,"creation_date":1664235519,"answer_id":73860953,"question_id":73860429,"body_markdown":"The issue was that I had a general ExceptionHandler in place:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class ExceptionHandlerAdvice {\r\n\r\n  @ExceptionHandler(Throwable.class)\r\n  public ResponseEntity&lt;ErrorMessageDTO&gt; handleAllExceptions(Throwable t) {\r\n    return ExceptionHandlerAdvice.handleNativeException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n            ErrorCodes.UNKNOWN,\r\n            &quot;Internal Server Error&quot;, t);\r\n  }\r\n}\r\n```\r\n\r\nThis will disable Spring&#39;s default handling of the error and will only return a proper 403 error, if you explicitly tell it so:\r\n\r\n```\r\n  @ExceptionHandler(AccessDeniedException.class)\r\n  public ResponseEntity&lt;ErrorMessageDTO&gt; handleAccessDeniedException(AccessDeniedException e) {\r\n    return handleNativeExceptionWithDetails(HttpStatus.FORBIDDEN, ErrorCodes.ACCESS_DENIED,\r\n            &quot;Access denied&quot;, e, false);\r\n  }\r\n```","title":"Spring Boot returns 500 Internal Server Error instead of desired 403 Forbidden","body":"<p>The issue was that I had a general ExceptionHandler in place:</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlerAdvice {\n\n  @ExceptionHandler(Throwable.class)\n  public ResponseEntity&lt;ErrorMessageDTO&gt; handleAllExceptions(Throwable t) {\n    return ExceptionHandlerAdvice.handleNativeException(HttpStatus.INTERNAL_SERVER_ERROR,\n            ErrorCodes.UNKNOWN,\n            &quot;Internal Server Error&quot;, t);\n  }\n}\n</code></pre>\n<p>This will disable Spring's default handling of the error and will only return a proper 403 error, if you explicitly tell it so:</p>\n<pre><code>  @ExceptionHandler(AccessDeniedException.class)\n  public ResponseEntity&lt;ErrorMessageDTO&gt; handleAccessDeniedException(AccessDeniedException e) {\n    return handleNativeExceptionWithDetails(HttpStatus.FORBIDDEN, ErrorCodes.ACCESS_DENIED,\n            &quot;Access denied&quot;, e, false);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1664270754,"creation_date":1664270754,"answer_id":73865239,"question_id":73860429,"body_markdown":"It&#39;s good to understand how and when spring-security authorize users.\r\n\r\nThere are two main ways to configure user authorization with Spring security:\r\n1) configuring `HttpSecurity` using `.antMatchers()` or similar methods\r\n2) using annotations like `@Secured`, `@PreAuthorize`, `@RolesAllowed` at controller or service layer.\r\n\r\nIn the first case Spring checks roles and other authorization stuff **before** reaching controller, and here spring-security ***automatically translates*** insufficient authorization to 403 status code (unless you provide your custom `AccessDeniedHandler` implementation).  \r\nIn the second case Spring tries to authorize user at controller or service layer and just throws `AccessDeniedException` in case of failure, so it&#39;s a developer&#39;s responsibility to catch it and translate into desired http response.\r\n\r\nFor example, if your code has something like `http.antMatchers(&quot;/product/**&quot;).hasRole(&quot;ADMIN&quot;)`, this rule will be checked in spring-security filters before executing controller method, and if the current user&#39;s role is not &quot;ADMIN&quot;, you&#39;ll get 403 response automatically.\r\n\r\nIf you have `http.antMatchers(&quot;/product/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;CLIENT&quot;)`, and some method at service layer has `@Secured(&quot;ADMIN&quot;)` (without &quot;CLIENT&quot; role), *both rules will be checked*, but by different mechanisms.  \r\nSo, if the current user&#39;s role is &quot;CLIENT&quot;, user will be authorized at filter level and the controller method will be executed, but `AccessDeniedException` will be thrown at service layer, and you&#39;ll get 500 response if there&#39;s no `@ExceptionHandler` for it.","title":"Spring Boot returns 500 Internal Server Error instead of desired 403 Forbidden","body":"<p>It's good to understand how and when spring-security authorize users.</p>\n<p>There are two main ways to configure user authorization with Spring security:</p>\n<ol>\n<li>configuring <code>HttpSecurity</code> using <code>.antMatchers()</code> or similar methods</li>\n<li>using annotations like <code>@Secured</code>, <code>@PreAuthorize</code>, <code>@RolesAllowed</code> at controller or service layer.</li>\n</ol>\n<p>In the first case Spring checks roles and other authorization stuff <strong>before</strong> reaching controller, and here spring-security <em><strong>automatically translates</strong></em> insufficient authorization to 403 status code (unless you provide your custom <code>AccessDeniedHandler</code> implementation).<br />\nIn the second case Spring tries to authorize user at controller or service layer and just throws <code>AccessDeniedException</code> in case of failure, so it's a developer's responsibility to catch it and translate into desired http response.</p>\n<p>For example, if your code has something like <code>http.antMatchers(&quot;/product/**&quot;).hasRole(&quot;ADMIN&quot;)</code>, this rule will be checked in spring-security filters before executing controller method, and if the current user's role is not &quot;ADMIN&quot;, you'll get 403 response automatically.</p>\n<p>If you have <code>http.antMatchers(&quot;/product/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;CLIENT&quot;)</code>, and some method at service layer has <code>@Secured(&quot;ADMIN&quot;)</code> (without &quot;CLIENT&quot; role), <em>both rules will be checked</em>, but by different mechanisms.<br />\nSo, if the current user's role is &quot;CLIENT&quot;, user will be authorized at filter level and the controller method will be executed, but <code>AccessDeniedException</code> will be thrown at service layer, and you'll get 500 response if there's no <code>@ExceptionHandler</code> for it.</p>\n"}],"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6158,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73860953,"answer_count":2,"score":3,"last_activity_date":1664270754,"creation_date":1664230125,"question_id":73860429,"body_markdown":"I am using `spring-security-web:5.6.3` to build a RESTful API. The API has a working authentication via Bearer tokens (JWT) and role-based authorization.\r\n\r\nThe problem is that when ever an authenticated user not not authorized to access a certain resource, the API returns a 500 error instead of a 403. Log output:\r\n\r\n    org.springframework.security.access.AccessDeniedException: Access is denied\r\n    \tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73)\r\n    \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:239)\r\n    \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208)\r\n    \tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n    \tat com.&lt;redacted&gt;.&lt;redacted&gt;.api.controller.RedactedController$$EnhancerBySpringCGLIB$$8274b324.getWorkInstructions(&lt;generated&gt;)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat com.&lt;redacted&gt;.&lt;redacted&gt;.api.util.LogContextFilter.doFilter(LogContextFilter.java:40)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat com.&lt;redacted&gt;.&lt;redacted&gt;.api.security.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:73)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:68)\r\n    \tat org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:131)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.springframework.cloud.sleuth.instrument.web.tomcat.TraceValve.invoke(TraceValve.java:90)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nI created a custom `AccessDeniedHandler` and wired it up in my `WebSecurityConfig`, but the error still persists. Can you verify my filtering order is correct?\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Autowired\r\n      private ApiUserDetailService userDetailsService;\r\n    \r\n      @Autowired\r\n      private ApiAccessDeniedHandler apiAccessDeniedHandler;\r\n    \r\n      @Autowired\r\n      private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    \r\n      @Autowired\r\n      private JwtRequestFilter jwtRequestFilter;\r\n    \r\n      @Override\r\n      public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n      }\r\n    \r\n      @Bean\r\n      public PasswordEncoder passwordEncoder() {\r\n        return new CustomPasswordEncoder();\r\n      }\r\n    \r\n      @Bean\r\n      @Override\r\n      public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n      }\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n            .authorizeRequests().antMatchers(&quot;/authentication/*&quot;).permitAll()\r\n            .antMatchers(&quot;/health&quot;).permitAll()\r\n            .antMatchers(&quot;/swagger-ui/*&quot;).permitAll()\r\n            .antMatchers(&quot;/api-docs&quot;).permitAll()\r\n            .antMatchers(&quot;/api-docs/*&quot;).permitAll()\r\n            .antMatchers(&quot;/swagger.html&quot;).permitAll()\r\n            .antMatchers(HttpMethod.OPTIONS).permitAll()\r\n            .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n            .exceptionHandling()\r\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .accessDeniedHandler(apiAccessDeniedHandler)\r\n                .and()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n        // Add a filter to validate the tokens with every request\r\n        http.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n      }\r\n    }\r\n\r\nApiAccessDeniedHandler (a breakpoint on `response.sendError` will never be hit)\r\n\r\n    @Component\r\n    public class ApiAccessDeniedHandler implements AccessDeniedHandler {\r\n        @Override\r\n        public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n            response.sendError(HttpServletResponse.SC_FORBIDDEN, &quot;Forbidden&quot;);\r\n        }\r\n    }\r\n\r\nThis is my controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/redacted&quot;)\r\n    @RolesAllowed({ROLE_1, ROLE_2, ROLE_3})\r\n    public class RedactedController {\r\n    \r\n      private final RedactedService redactedService;\r\n    \r\n      @Autowired\r\n      public RedactedController(RedactedService service) {\r\n        this.redactedService = service;\r\n      }\r\n    \r\n    \r\n      @GetMapping(path = &quot;/entities&quot;)\r\n      public ResponseEntity&lt;PaginatedDTO&lt;RedactedDTO&gt;&gt; getEntities(Pageable pageable) {\r\n        Slice&lt;RedactedDTO&gt; entities = redactedService.getEntities(pageable);\r\n        if (entities.getContent().size() == 0) {\r\n          return ResponseEntity.notFound().build();\r\n        }\r\n        return ResponseEntity.ok(new PaginatedDTO&lt;RedactedDTO&gt;().fromSlice(entities));\r\n      }\r\n    }\r\n\r\n","title":"Spring Boot returns 500 Internal Server Error instead of desired 403 Forbidden","body":"<p>I am using <code>spring-security-web:5.6.3</code> to build a RESTful API. The API has a working authentication via Bearer tokens (JWT) and role-based authorization.</p>\n<p>The problem is that when ever an authenticated user not not authorized to access a certain resource, the API returns a 500 error instead of a 403. Log output:</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73)\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:239)\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208)\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at com.&lt;redacted&gt;.&lt;redacted&gt;.api.controller.RedactedController$$EnhancerBySpringCGLIB$$8274b324.getWorkInstructions(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.&lt;redacted&gt;.&lt;redacted&gt;.api.util.LogContextFilter.doFilter(LogContextFilter.java:40)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at com.&lt;redacted&gt;.&lt;redacted&gt;.api.security.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:73)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:68)\n    at org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:131)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.springframework.cloud.sleuth.instrument.web.tomcat.TraceValve.invoke(TraceValve.java:90)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>I created a custom <code>AccessDeniedHandler</code> and wired it up in my <code>WebSecurityConfig</code>, but the error still persists. Can you verify my filtering order is correct?</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Autowired\n  private ApiUserDetailService userDetailsService;\n\n  @Autowired\n  private ApiAccessDeniedHandler apiAccessDeniedHandler;\n\n  @Autowired\n  private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n  @Autowired\n  private JwtRequestFilter jwtRequestFilter;\n\n  @Override\n  public void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n  }\n\n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new CustomPasswordEncoder();\n  }\n\n  @Bean\n  @Override\n  public AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n  }\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n        .authorizeRequests().antMatchers(&quot;/authentication/*&quot;).permitAll()\n        .antMatchers(&quot;/health&quot;).permitAll()\n        .antMatchers(&quot;/swagger-ui/*&quot;).permitAll()\n        .antMatchers(&quot;/api-docs&quot;).permitAll()\n        .antMatchers(&quot;/api-docs/*&quot;).permitAll()\n        .antMatchers(&quot;/swagger.html&quot;).permitAll()\n        .antMatchers(HttpMethod.OPTIONS).permitAll()\n        .anyRequest()\n            .authenticated()\n            .and()\n        .exceptionHandling()\n            .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n            .accessDeniedHandler(apiAccessDeniedHandler)\n            .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n    // Add a filter to validate the tokens with every request\n    http.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n  }\n}\n</code></pre>\n<p>ApiAccessDeniedHandler (a breakpoint on <code>response.sendError</code> will never be hit)</p>\n<pre><code>@Component\npublic class ApiAccessDeniedHandler implements AccessDeniedHandler {\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\n        response.sendError(HttpServletResponse.SC_FORBIDDEN, &quot;Forbidden&quot;);\n    }\n}\n</code></pre>\n<p>This is my controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/redacted&quot;)\n@RolesAllowed({ROLE_1, ROLE_2, ROLE_3})\npublic class RedactedController {\n\n  private final RedactedService redactedService;\n\n  @Autowired\n  public RedactedController(RedactedService service) {\n    this.redactedService = service;\n  }\n\n\n  @GetMapping(path = &quot;/entities&quot;)\n  public ResponseEntity&lt;PaginatedDTO&lt;RedactedDTO&gt;&gt; getEntities(Pageable pageable) {\n    Slice&lt;RedactedDTO&gt; entities = redactedService.getEntities(pageable);\n    if (entities.getContent().size() == 0) {\n      return ResponseEntity.notFound().build();\n    }\n    return ResponseEntity.ok(new PaginatedDTO&lt;RedactedDTO&gt;().fromSlice(entities));\n  }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664265189,"post_id":73864043,"comment_id":130425592,"body_markdown":"Hey again, Vivek. Please edit your question and add your database structure as a screenshot.","body":"Hey again, Vivek. Please edit your question and add your database structure as a screenshot."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664265463,"post_id":73864043,"comment_id":130425678,"body_markdown":"@AlexMamo please check sir","body":"@AlexMamo please check sir"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664265998,"post_id":73864043,"comment_id":130425840,"body_markdown":"Is your second `onComplete` even triggered?","body":"Is your second <code>onComplete</code> even triggered?"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664266204,"post_id":73864043,"comment_id":130425911,"body_markdown":"@AlexMamo it is not triggering sir","body":"@AlexMamo it is not triggering sir"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664266322,"post_id":73864043,"comment_id":130425947,"body_markdown":"At least `onScrolled` is called?","body":"At least <code>onScrolled</code> is called?"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664266380,"post_id":73864043,"comment_id":130425967,"body_markdown":"@AlexMamo yes sir it is called","body":"@AlexMamo yes sir it is called"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664266632,"post_id":73864043,"comment_id":130426026,"body_markdown":"Then most likely `isScrolling &amp;&amp; (firstVisibleItemPosition + visibleItemCount == totalItemCount`, returns false, right?","body":"Then most likely <code>isScrolling &amp;&amp; (firstVisibleItemPosition + visibleItemCount == totalItemCount</code>, returns false, right?"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664266734,"post_id":73864043,"comment_id":130426052,"body_markdown":"@AlexMamo yes sir now?","body":"@AlexMamo yes sir now?"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664267816,"post_id":73864043,"comment_id":130426397,"body_markdown":"sir if I am click in the other fragment and return back to that fragment then it is showing the data but when I scroll it throws error i have added above please check","body":"sir if I am click in the other fragment and return back to that fragment then it is showing the data but when I scroll it throws error i have added above please check"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664268635,"post_id":73864043,"comment_id":130426641,"body_markdown":"Do you have enough data in the database so it can be paginated? Are you sure all documents within that collection, are of the same type? I see document with different ID lenghts.","body":"Do you have enough data in the database so it can be paginated? Are you sure all documents within that collection, are of the same type? I see document with different ID lenghts."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664269730,"post_id":73864043,"comment_id":130427015,"body_markdown":"@AlexMamo sorry sir thay was dummy data i have deleted these files so in my database i have 8 items and my limit is 4 sir","body":"@AlexMamo sorry sir thay was dummy data i have deleted these files so in my database i have 8 items and my limit is 4 sir"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664270649,"post_id":73864043,"comment_id":130427327,"body_markdown":"sir now when app opens for the first it does not showing then i go another fragment then come back this time it is showing the data. what is hapening sir","body":"sir now when app opens for the first it does not showing then i go another fragment then come back this time it is showing the data. what is hapening sir"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664276715,"post_id":73864043,"comment_id":130429405,"body_markdown":"If you set the limit to 4, then add at least 20 elements in the database, to see the pagination working. But this will work only if those 4 elements fit into the entire screen.","body":"If you set the limit to 4, then add at least 20 elements in the database, to see the pagination working. But this will work only if those 4 elements fit into the entire screen."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664276878,"post_id":73864043,"comment_id":130429461,"body_markdown":"in my screen max two items is showing  sir","body":"in my screen max two items is showing  sir"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664278274,"post_id":73864043,"comment_id":130429927,"body_markdown":"Most likely the issue is related to those boolean values, right? So you should step through the debugger and see why those variables do not hold the correct values.","body":"Most likely the issue is related to those boolean values, right? So you should step through the debugger and see why those variables do not hold the correct values."},{"owner":{"display_name":"user20008723"},"score":1,"creation_date":1664286686,"post_id":73864043,"comment_id":130433292,"body_markdown":"@AlexMamo sir i changed my xml design and now it is working i was using nested scroll view and some other elements drawerlayout and all i removed them it working now","body":"@AlexMamo sir i changed my xml design and now it is working i was using nested scroll view and some other elements drawerlayout and all i removed them it working now"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664286758,"post_id":73864043,"comment_id":130433330,"body_markdown":"Good to hear that ;)","body":"Good to hear that ;)"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664389730,"post_id":73864043,"comment_id":130462941,"body_markdown":"@AlexMamo hey sir can you please help me problem with this please sir, i am putting question link here","body":"@AlexMamo hey sir can you please help me problem with this please sir, i am putting question link here"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664389747,"post_id":73864043,"comment_id":130462945,"body_markdown":"@AlexMamo https://stackoverflow.com/questions/73872420/passing-arraylist-of-object-between-fragments-throwing-error-using-safe-args","body":"@AlexMamo <a href=\"https://stackoverflow.com/questions/73872420/passing-arraylist-of-object-between-fragments-throwing-error-using-safe-args\" title=\"passing arraylist of object between fragments throwing error using safe args\">stackoverflow.com/questions/73872420/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664440236,"post_id":73864043,"comment_id":130473622,"body_markdown":"I&#39;ll take a look and if I&#39;ll know the answer, I&#39;ll write to you.","body":"I&#39;ll take a look and if I&#39;ll know the answer, I&#39;ll write to you."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664452375,"post_id":73864043,"comment_id":130477878,"body_markdown":"ok sir please check i tried every solution but nothing works.","body":"ok sir please check i tried every solution but nothing works."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664452479,"post_id":73864043,"comment_id":130477912,"body_markdown":"i tried viewmodel it is also not working here link https://stackoverflow.com/questions/73881373/how-to-make-viewmodel-variable-assesible-outside-method-in-android","body":"i tried viewmodel it is also not working here link <a href=\"https://stackoverflow.com/questions/73881373/how-to-make-viewmodel-variable-assesible-outside-method-in-android\" title=\"how to make viewmodel variable assesible outside method in android\">stackoverflow.com/questions/73881373/&hellip;</a>"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664518552,"post_id":73864043,"comment_id":130494352,"body_markdown":"@AlexMamo did you check sir??","body":"@AlexMamo did you check sir??"},{"owner":{"account_id":25241637,"reputation":1294,"user_id":19075433,"display_name":"Vaidehi Jamankar"},"score":0,"creation_date":1664532619,"post_id":73864043,"comment_id":130498656,"body_markdown":"Vivek , please post the resolution steps that worked for you as an answer,so others who are facing similar issues can get help.Thankyou.","body":"Vivek , please post the resolution steps that worked for you as an answer,so others who are facing similar issues can get help.Thankyou."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664533374,"post_id":73864043,"comment_id":130498888,"body_markdown":"@VaidehiJamankar it was not the problem of code it was an issue of my xml. I just made some minor changes in my xml.","body":"@VaidehiJamankar it was not the problem of code it was an issue of my xml. I just made some minor changes in my xml."}],"owner":{"display_name":"user20008723"},"comment_count":25,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664270494,"creation_date":1664264741,"question_id":73864043,"body_markdown":"I am working on an application where I want to use pagination in my recyclerview, I have a nested database and I want to get the data progressively. By scrolling to load 10 items but the problem is after loading 10 items it shows no data. No error nothing simply it does not show the data. I tried this same code with simple databse it is working fine but in my nested database it is not working. please guide me\r\n\r\n**VARIABLES**\r\n\r\n    private int limit = 10;\r\n    private DocumentSnapshot lastVisible;\r\n    private boolean isScrolling = false;\r\n    private boolean isLastItemReached = false;\r\n\r\nCOMPLETE CODE\r\n\r\n    \r\n        FirebaseFirestore firebaseFirestore = FirebaseFirestore.getInstance();\r\n        Query productsRef =  firebaseFirestore.collectionGroup(&quot;room_details&quot;);\r\n        Query query = productsRef.orderBy(&quot;location&quot;, Query.Direction.ASCENDING).limit(limit);\r\n\r\n        query.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n\r\n\r\n                if (task.isSuccessful()) {\r\n                    for (DocumentSnapshot d : task.getResult()) {\r\n                        RoomsDetails obj = d.toObject(RoomsDetails.class);\r\n                        roomsDetails.add(obj);\r\n                    }\r\n\r\n                    roomsAdapter.notifyDataSetChanged();\r\n                }\r\n                lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\r\n\r\n                RecyclerView.OnScrollListener onScrollListener = new RecyclerView.OnScrollListener() {\r\n                    @Override\r\n                    public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\r\n                        super.onScrollStateChanged(recyclerView, newState);\r\n                        if (newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {\r\n                            isScrolling = true;\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n                        super.onScrolled(recyclerView, dx, dy);\r\n                        LinearLayoutManager linearLayoutManager = ((LinearLayoutManager) recyclerView.getLayoutManager());\r\n                        int firstVisibleItemPosition = linearLayoutManager.findFirstVisibleItemPosition();\r\n                        int visibleItemCount = linearLayoutManager.getChildCount();\r\n                        int totalItemCount = linearLayoutManager.getItemCount();\r\n\r\n                        if (isScrolling &amp;&amp; (firstVisibleItemPosition + visibleItemCount == totalItemCount) &amp;&amp; !isLastItemReached) {\r\n                            isScrolling = false;\r\n                            Query nextQuery = productsRef.orderBy(&quot;location&quot;, Query.Direction.ASCENDING).startAfter(lastVisible).limit(limit);\r\n                            nextQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; t) {\r\n                                    if (t.isSuccessful()) {\r\n                                        for (DocumentSnapshot d : t.getResult()) {\r\n                                            RoomsDetails productModel = d.toObject(RoomsDetails.class);\r\n                                            roomsDetails.add(productModel);\r\n                                        }\r\n                                        roomsAdapter.notifyDataSetChanged();\r\n                                        lastVisible = t.getResult().getDocuments().get(t.getResult().size() - 1);\r\n\r\n                                        if (t.getResult().size() &lt; limit) {\r\n                                            isLastItemReached = true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                        }\r\n                    }\r\n                };                            recyclerViewRooms.addOnScrollListener(onScrollListener);\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n**COLLECTION GROUP ASC_Index Image**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**DataBase Structure**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bIrx7.png\r\n  [2]: https://i.stack.imgur.com/p6SM0.png\r\n\r\n\r\n                                  \r\n\r\n\r\n\r\n                                     ","title":"complete data is not showing on pagination firestore android","body":"<p>I am working on an application where I want to use pagination in my recyclerview, I have a nested database and I want to get the data progressively. By scrolling to load 10 items but the problem is after loading 10 items it shows no data. No error nothing simply it does not show the data. I tried this same code with simple databse it is working fine but in my nested database it is not working. please guide me</p>\n<p><strong>VARIABLES</strong></p>\n<pre><code>private int limit = 10;\nprivate DocumentSnapshot lastVisible;\nprivate boolean isScrolling = false;\nprivate boolean isLastItemReached = false;\n</code></pre>\n<p>COMPLETE CODE</p>\n<pre><code>    FirebaseFirestore firebaseFirestore = FirebaseFirestore.getInstance();\n    Query productsRef =  firebaseFirestore.collectionGroup(&quot;room_details&quot;);\n    Query query = productsRef.orderBy(&quot;location&quot;, Query.Direction.ASCENDING).limit(limit);\n\n    query.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n\n\n            if (task.isSuccessful()) {\n                for (DocumentSnapshot d : task.getResult()) {\n                    RoomsDetails obj = d.toObject(RoomsDetails.class);\n                    roomsDetails.add(obj);\n                }\n\n                roomsAdapter.notifyDataSetChanged();\n            }\n            lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\n\n            RecyclerView.OnScrollListener onScrollListener = new RecyclerView.OnScrollListener() {\n                @Override\n                public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\n                    super.onScrollStateChanged(recyclerView, newState);\n                    if (newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {\n                        isScrolling = true;\n                    }\n                }\n\n                @Override\n                public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n                    super.onScrolled(recyclerView, dx, dy);\n                    LinearLayoutManager linearLayoutManager = ((LinearLayoutManager) recyclerView.getLayoutManager());\n                    int firstVisibleItemPosition = linearLayoutManager.findFirstVisibleItemPosition();\n                    int visibleItemCount = linearLayoutManager.getChildCount();\n                    int totalItemCount = linearLayoutManager.getItemCount();\n\n                    if (isScrolling &amp;&amp; (firstVisibleItemPosition + visibleItemCount == totalItemCount) &amp;&amp; !isLastItemReached) {\n                        isScrolling = false;\n                        Query nextQuery = productsRef.orderBy(&quot;location&quot;, Query.Direction.ASCENDING).startAfter(lastVisible).limit(limit);\n                        nextQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; t) {\n                                if (t.isSuccessful()) {\n                                    for (DocumentSnapshot d : t.getResult()) {\n                                        RoomsDetails productModel = d.toObject(RoomsDetails.class);\n                                        roomsDetails.add(productModel);\n                                    }\n                                    roomsAdapter.notifyDataSetChanged();\n                                    lastVisible = t.getResult().getDocuments().get(t.getResult().size() - 1);\n\n                                    if (t.getResult().size() &lt; limit) {\n                                        isLastItemReached = true;\n                                    }\n                                }\n                            }\n                        });\n\n                    }\n                }\n            };                            recyclerViewRooms.addOnScrollListener(onScrollListener);\n\n\n        }\n    });\n}\n</code></pre>\n<p><strong>COLLECTION GROUP ASC_Index Image</strong>\n<a href=\"https://i.stack.imgur.com/bIrx7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bIrx7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>DataBase Structure</strong>\n<a href=\"https://i.stack.imgur.com/p6SM0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p6SM0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","search","elasticsearch","mapping","reindex"],"comments":[{"owner":{"account_id":1539817,"reputation":4735,"user_id":1434740,"accept_rate":50,"display_name":"Jettro Coenradie"},"score":0,"creation_date":1431523320,"post_id":30215320,"comment_id":48536057,"body_markdown":"If you check for an existing mapping, why not check for an existing index? The moment you insert your first document you will have a mapping. One proposed solution would be to store the sha1 key of your mapping and when starting check if the sha1 key of the provided mapping is still the same. This only works when you do not dynamically add new fields though. This is coming from the link as mentioned in the other comment. pea53.com/2014/03/versioning-elasticsearch-indices","body":"If you check for an existing mapping, why not check for an existing index? The moment you insert your first document you will have a mapping. One proposed solution would be to store the sha1 key of your mapping and when starting check if the sha1 key of the provided mapping is still the same. This only works when you do not dynamically add new fields though. This is coming from the link as mentioned in the other comment. pea53.com/2014/03/versioning-elasticsearch-indices"}],"answers":[{"tags":[],"owner":{"account_id":1539817,"reputation":4735,"user_id":1434740,"accept_rate":50,"display_name":"Jettro Coenradie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431522429,"creation_date":1431522429,"answer_id":30215768,"question_id":30215320,"body_markdown":"There is not a way to update mapping. You can add new fields, but that is it. If you do want to change the mapping the best way is to copy everything to a new index with the changed mapping. Make sure your application uses an alias that points to the current index\r\n\r\n1. Create a new index with new mapping\r\n2. Use scan/scroll/bulk to copy all data to new index\r\n3. Move alias to new index\r\n4. remove old index\r\n\r\nI have created a tool to help you with this. It currently uses a GUI, but it is not to hard to copy the right classes to embed it in your own application. You can read about it more in this blog:\r\nhttp://amsterdam.luminis.eu/2015/01/13/maintain-elasticsearch-the-indexes/\r\n\r\nAlso look out for the upcoming reindex api, but here yet but I heard good things about it.\r\n","title":"How do I update a mapping in ElasticSearch with Java?","body":"<p>There is not a way to update mapping. You can add new fields, but that is it. If you do want to change the mapping the best way is to copy everything to a new index with the changed mapping. Make sure your application uses an alias that points to the current index</p>\n\n<ol>\n<li>Create a new index with new mapping</li>\n<li>Use scan/scroll/bulk to copy all data to new index</li>\n<li>Move alias to new index</li>\n<li>remove old index</li>\n</ol>\n\n<p>I have created a tool to help you with this. It currently uses a GUI, but it is not to hard to copy the right classes to embed it in your own application. You can read about it more in this blog:\n<a href=\"http://amsterdam.luminis.eu/2015/01/13/maintain-elasticsearch-the-indexes/\" rel=\"nofollow\">http://amsterdam.luminis.eu/2015/01/13/maintain-elasticsearch-the-indexes/</a></p>\n\n<p>Also look out for the upcoming reindex api, but here yet but I heard good things about it.</p>\n"},{"tags":[],"owner":{"account_id":1520550,"reputation":583,"user_id":1420331,"display_name":"KLaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460990813,"creation_date":1460989079,"answer_id":36696611,"question_id":30215320,"body_markdown":"Not only can you add new fields and insert their values, but you can also update the values of your existing fields. \r\n\r\nUse the UpdateRequest class to update the records that you wish (ids) and change the values of certain fields as follows: \r\n\r\n    updateRequest.doc(jsonBuilder().startObject().field(&quot;gender&quot;, &quot;male&quot;).endObject());\r\n\r\nOn the other hand, if you need to create new fields in the existing mapping you can use again the same class as above and a new field will be automatically created:\r\n\r\n    updateRequest.doc(jsonBuilder().startObject().field(&quot;newField&quot;, &quot;testContent&quot;).endObject()\r\n\r\nIf the field &quot;newField&quot; doesn&#39;t exist, then a new one will be created. Although you can create it, I doubt that you can specify the type of this new field (after [reading][1] the documentation).\r\n\r\nFurthermore, I am not entirely sure what you mean by updating the **mapping**. even though you can create new fields and update the old ones, if you want to change the type of an existing field, for instance, I don&#39;t think it is possible. Have a look also [here][2] about how to use PUT to update an existing mapping. \r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/java-docs-update.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html","title":"How do I update a mapping in ElasticSearch with Java?","body":"<p>Not only can you add new fields and insert their values, but you can also update the values of your existing fields. </p>\n\n<p>Use the UpdateRequest class to update the records that you wish (ids) and change the values of certain fields as follows: </p>\n\n<pre><code>updateRequest.doc(jsonBuilder().startObject().field(\"gender\", \"male\").endObject());\n</code></pre>\n\n<p>On the other hand, if you need to create new fields in the existing mapping you can use again the same class as above and a new field will be automatically created:</p>\n\n<pre><code>updateRequest.doc(jsonBuilder().startObject().field(\"newField\", \"testContent\").endObject()\n</code></pre>\n\n<p>If the field \"newField\" doesn't exist, then a new one will be created. Although you can create it, I doubt that you can specify the type of this new field (after <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/java-docs-update.html\" rel=\"nofollow\">reading</a> the documentation).</p>\n\n<p>Furthermore, I am not entirely sure what you mean by updating the <strong>mapping</strong>. even though you can create new fields and update the old ones, if you want to change the type of an existing field, for instance, I don't think it is possible. Have a look also <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html\" rel=\"nofollow\">here</a> about how to use PUT to update an existing mapping. </p>\n"}],"owner":{"account_id":1336598,"reputation":5274,"user_id":1279200,"accept_rate":71,"display_name":"Johnathan Au"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2040,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664270290,"creation_date":1431521401,"question_id":30215320,"body_markdown":"I have an existing mapping in Elastic Search and this is in live production. Currently, whenever I update the mapping someone else has to manually drop the index and insert reindex everything again. We want a way for Elastic Search to automatically handle update/changed mappings. How can we make this possible with Java?\r\n\r\n**EDIT**\r\n\r\nThe procedure we have for loading the mapping during startup of the application is this:\r\n\r\n1. Check if there&#39;s an existing mapping\r\n2. If not load new mapping.\r\n\r\nAs you can see this is very simplistic and as such it will never pick up changed fields/updated mappings. Is it a bad idea to reload the mapping every time the application starts up? Is there some overhead to this? Is there an alternative procedure so it accounts for updated mappings? More importantly, is this the correct way of doing it?","title":"How do I update a mapping in ElasticSearch with Java?","body":"<p>I have an existing mapping in Elastic Search and this is in live production. Currently, whenever I update the mapping someone else has to manually drop the index and insert reindex everything again. We want a way for Elastic Search to automatically handle update/changed mappings. How can we make this possible with Java?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The procedure we have for loading the mapping during startup of the application is this:</p>\n\n<ol>\n<li>Check if there's an existing mapping</li>\n<li>If not load new mapping.</li>\n</ol>\n\n<p>As you can see this is very simplistic and as such it will never pick up changed fields/updated mappings. Is it a bad idea to reload the mapping every time the application starts up? Is there some overhead to this? Is there an alternative procedure so it accounts for updated mappings? More importantly, is this the correct way of doing it?</p>\n"},{"tags":["java","oracle","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2605303,"reputation":744,"user_id":2256575,"display_name":"Mannekenpix"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1391080714,"creation_date":1391080714,"answer_id":21454985,"question_id":21451601,"body_markdown":"First I think you need to declare your primary key and define how the PK is generated.\r\nExample :\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\nThen, the best way to add new child to your parent should be like this (on the parent side):\r\n\r\n    \tpublic Child addChild() {\r\n                Child child = new Child()\r\n\t\tif (childList== null) {\r\n\t\t\tchildList= new ArrayList&lt;childList&gt;();\r\n\t\t}\r\n\t\tchild.setparent(this);\r\n\t\tchildList.add(child);\r\n\t\treturn child;\r\n\t}\r\n\r\nWhen the child already exist, simply do the same but without creating a new Child.\r\n\r\nI think it should resolve some of your problems.\r\n\r\n","title":"Hibernate @Version does not work with one-to-many","body":"<p>First I think you need to declare your primary key and define how the PK is generated.\nExample :</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = \"id\")\nprivate Long id;\n</code></pre>\n\n<p>Then, the best way to add new child to your parent should be like this (on the parent side):</p>\n\n<pre><code>    public Child addChild() {\n            Child child = new Child()\n    if (childList== null) {\n        childList= new ArrayList&lt;childList&gt;();\n    }\n    child.setparent(this);\n    childList.add(child);\n    return child;\n}\n</code></pre>\n\n<p>When the child already exist, simply do the same but without creating a new Child.</p>\n\n<p>I think it should resolve some of your problems.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610272941,"creation_date":1472552435,"answer_id":39224835,"question_id":21451601,"body_markdown":"Only unidirectional collection changes are going to be [propagated to the parent entity version](https://vladmihalcea.com/hibernate-collections-optimistic-locking/). Because you are using a bidirectional association, it&#39;s the `@ManyToOne` side that will control this association, so adding/removing an entity in the parent-side collection is not going to affect the parent entity version.\r\n\r\nHowever, you can still propagate changes from child entities to parent entities. This requires you to propagate the [`OPTIMISTIC_FORCE_INCREMENT`](https://vladmihalcea.com/hibernate-locking-patterns-how-does-optimistic_force_increment-lock-mode-work/) lock whenever the child entity is modified.\r\n\r\nIn short, you need to have all your entities implementing a [`RootAware`](https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/) interface:\r\n\r\n    public interface RootAware&lt;T&gt; {\r\n        T root();\r\n    }\r\n\r\n    @Entity(name = &quot;Post&quot;) \r\n    @Table(name = &quot;post&quot;)\r\n    public class Post {\r\n     \r\n        @Id\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @Version\r\n        private int version;\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n     \r\n    @Entity(name = &quot;PostComment&quot;)\r\n    @Table(name = &quot;post_comment&quot;)\r\n    public class PostComment \r\n        implements RootAware&lt;Post&gt; {\r\n     \r\n        @Id\r\n        private Long id;\r\n     \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private Post post;\r\n     \r\n        private String review;\r\n     \r\n        //Getters and setters omitted for brevity\r\n     \r\n        @Override\r\n        public Post root() {\r\n            return post;\r\n        }\r\n    }\r\n     \r\n    @Entity(name = &quot;PostCommentDetails&quot;)\r\n    @Table(name = &quot;post_comment_details&quot;)\r\n    public class PostCommentDetails \r\n        implements RootAware&lt;Post&gt; {\r\n     \r\n        @Id\r\n        private Long id;\r\n     \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId\r\n        private PostComment comment;\r\n     \r\n        private int votes;\r\n     \r\n        //Getters and setters omitted for brevity\r\n     \r\n        @Override\r\n        public Post root() {\r\n            return comment.getPost();\r\n        }\r\n    }\r\n\r\nThen, you need two event listeners:\r\n\r\n    public static class RootAwareInsertEventListener \r\n        implements PersistEventListener {\r\n     \r\n        private static final Logger LOGGER = \r\n            LoggerFactory.getLogger(RootAwareInsertEventListener.class);\r\n     \r\n        public static final RootAwareInsertEventListener INSTANCE = \r\n            new RootAwareInsertEventListener();\r\n     \r\n        @Override\r\n        public void onPersist(PersistEvent event) throws HibernateException {\r\n            final Object entity = event.getObject();\r\n     \r\n            if(entity instanceof RootAware) {\r\n                RootAware rootAware = (RootAware) entity;\r\n                Object root = rootAware.root();\r\n                event.getSession().lock(root, LockMode.OPTIMISTIC_FORCE_INCREMENT);\r\n     \r\n                LOGGER.info(&quot;Incrementing {} entity version because a {} child entity has been inserted&quot;, root, entity);\r\n            }\r\n        }\r\n     \r\n        @Override\r\n        public void onPersist(PersistEvent event, Map createdAlready) \r\n            throws HibernateException {\r\n            onPersist(event);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    public static class RootAwareInsertEventListener \r\n        implements PersistEventListener {\r\n     \r\n        private static final Logger LOGGER = \r\n            LoggerFactory.getLogger(RootAwareInsertEventListener.class);\r\n     \r\n        public static final RootAwareInsertEventListener INSTANCE = \r\n            new RootAwareInsertEventListener();\r\n     \r\n        @Override\r\n        public void onPersist(PersistEvent event) throws HibernateException {\r\n            final Object entity = event.getObject();\r\n     \r\n            if(entity instanceof RootAware) {\r\n                RootAware rootAware = (RootAware) entity;\r\n                Object root = rootAware.root();\r\n                event.getSession().lock(root, LockMode.OPTIMISTIC_FORCE_INCREMENT);\r\n     \r\n                LOGGER.info(&quot;Incrementing {} entity version because a {} child entity has been inserted&quot;, root, entity);\r\n            }\r\n        }\r\n     \r\n        @Override\r\n        public void onPersist(PersistEvent event, Map createdAlready) \r\n            throws HibernateException {\r\n            onPersist(event);\r\n        }\r\n    }\r\n\r\nwhich you can register as follows:\r\n\r\n    public class RootAwareEventListenerIntegrator\r\n        implements org.hibernate.integrator.spi.Integrator {\r\n     \r\n        public static final RootAwareEventListenerIntegrator INSTANCE = \r\n            new RootAwareEventListenerIntegrator();\r\n     \r\n        @Override\r\n        public void integrate(\r\n                Metadata metadata,\r\n                SessionFactoryImplementor sessionFactory,\r\n                SessionFactoryServiceRegistry serviceRegistry) {\r\n     \r\n            final EventListenerRegistry eventListenerRegistry =\r\n                    serviceRegistry.getService( EventListenerRegistry.class );\r\n     \r\n            eventListenerRegistry.appendListeners(EventType.PERSIST, RootAwareInsertEventListener.INSTANCE);\r\n            eventListenerRegistry.appendListeners(EventType.FLUSH_ENTITY, RootAwareUpdateAndDeleteEventListener.INSTANCE);\r\n        }\r\n     \r\n        @Override\r\n        public void disintegrate(\r\n                SessionFactoryImplementor sessionFactory,\r\n                SessionFactoryServiceRegistry serviceRegistry) {\r\n            //Do nothing\r\n        }\r\n    }\r\n\r\nand then supply the `RootAwareFlushEntityEventListenerIntegrator` via a Hibernate configuration property:\r\n\r\n    configuration.put(\r\n        &quot;hibernate.integrator_provider&quot;, \r\n        (IntegratorProvider) () -&gt; Collections.singletonList(\r\n            RootAwareEventListenerIntegrator.INSTANCE\r\n        )\r\n    );\r\n\r\nNow, when you modify a `PostCommentDetails` entity:\r\n\r\n    PostCommentDetails postCommentDetails = entityManager.createQuery(\r\n        &quot;select pcd &quot; +\r\n        &quot;from PostCommentDetails pcd &quot; +\r\n        &quot;join fetch pcd.comment pc &quot; +\r\n        &quot;join fetch pc.post p &quot; +\r\n        &quot;where pcd.id = :id&quot;, PostCommentDetails.class)\r\n    .setParameter(&quot;id&quot;, 2L)\r\n    .getSingleResult();\r\n     \r\n    postCommentDetails.setVotes(15);\r\n\r\nThe parent `Post` entity version is modified as well:\r\n\r\n    SELECT  pcd.comment_id AS comment_2_2_0_ ,\r\n            pc.id AS id1_1_1_ ,\r\n            p.id AS id1_0_2_ ,\r\n            pcd.votes AS votes1_2_0_ ,\r\n            pc.post_id AS post_id3_1_1_ ,\r\n            pc.review AS review2_1_1_ ,\r\n            p.title AS title2_0_2_ ,\r\n            p.version AS version3_0_2_\r\n    FROM    post_comment_details pcd\r\n    INNER JOIN post_comment pc ON pcd.comment_id = pc.id\r\n    INNER JOIN post p ON pc.post_id = p.id\r\n    WHERE   pcd.comment_id = 2\r\n     \r\n    UPDATE post_comment_details \r\n    SET votes = 15 \r\n    WHERE comment_id = 2\r\n     \r\n    UPDATE post \r\n    SET version = 1 \r\n    where id = 1 AND version = 0\r\n\r\n\r\n\r\n","title":"Hibernate @Version does not work with one-to-many","body":"<p>Only unidirectional collection changes are going to be <a href=\"https://vladmihalcea.com/hibernate-collections-optimistic-locking/\" rel=\"nofollow noreferrer\">propagated to the parent entity version</a>. Because you are using a bidirectional association, it's the <code>@ManyToOne</code> side that will control this association, so adding/removing an entity in the parent-side collection is not going to affect the parent entity version.</p>\n<p>However, you can still propagate changes from child entities to parent entities. This requires you to propagate the <a href=\"https://vladmihalcea.com/hibernate-locking-patterns-how-does-optimistic_force_increment-lock-mode-work/\" rel=\"nofollow noreferrer\"><code>OPTIMISTIC_FORCE_INCREMENT</code></a> lock whenever the child entity is modified.</p>\n<p>In short, you need to have all your entities implementing a <a href=\"https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\"><code>RootAware</code></a> interface:</p>\n<pre><code>public interface RootAware&lt;T&gt; {\n    T root();\n}\n\n@Entity(name = &quot;Post&quot;) \n@Table(name = &quot;post&quot;)\npublic class Post {\n \n    @Id\n    private Long id;\n \n    private String title;\n \n    @Version\n    private int version;\n \n    //Getters and setters omitted for brevity\n}\n \n@Entity(name = &quot;PostComment&quot;)\n@Table(name = &quot;post_comment&quot;)\npublic class PostComment \n    implements RootAware&lt;Post&gt; {\n \n    @Id\n    private Long id;\n \n    @ManyToOne(fetch = FetchType.LAZY)\n    private Post post;\n \n    private String review;\n \n    //Getters and setters omitted for brevity\n \n    @Override\n    public Post root() {\n        return post;\n    }\n}\n \n@Entity(name = &quot;PostCommentDetails&quot;)\n@Table(name = &quot;post_comment_details&quot;)\npublic class PostCommentDetails \n    implements RootAware&lt;Post&gt; {\n \n    @Id\n    private Long id;\n \n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId\n    private PostComment comment;\n \n    private int votes;\n \n    //Getters and setters omitted for brevity\n \n    @Override\n    public Post root() {\n        return comment.getPost();\n    }\n}\n</code></pre>\n<p>Then, you need two event listeners:</p>\n<pre><code>public static class RootAwareInsertEventListener \n    implements PersistEventListener {\n \n    private static final Logger LOGGER = \n        LoggerFactory.getLogger(RootAwareInsertEventListener.class);\n \n    public static final RootAwareInsertEventListener INSTANCE = \n        new RootAwareInsertEventListener();\n \n    @Override\n    public void onPersist(PersistEvent event) throws HibernateException {\n        final Object entity = event.getObject();\n \n        if(entity instanceof RootAware) {\n            RootAware rootAware = (RootAware) entity;\n            Object root = rootAware.root();\n            event.getSession().lock(root, LockMode.OPTIMISTIC_FORCE_INCREMENT);\n \n            LOGGER.info(&quot;Incrementing {} entity version because a {} child entity has been inserted&quot;, root, entity);\n        }\n    }\n \n    @Override\n    public void onPersist(PersistEvent event, Map createdAlready) \n        throws HibernateException {\n        onPersist(event);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public static class RootAwareInsertEventListener \n    implements PersistEventListener {\n \n    private static final Logger LOGGER = \n        LoggerFactory.getLogger(RootAwareInsertEventListener.class);\n \n    public static final RootAwareInsertEventListener INSTANCE = \n        new RootAwareInsertEventListener();\n \n    @Override\n    public void onPersist(PersistEvent event) throws HibernateException {\n        final Object entity = event.getObject();\n \n        if(entity instanceof RootAware) {\n            RootAware rootAware = (RootAware) entity;\n            Object root = rootAware.root();\n            event.getSession().lock(root, LockMode.OPTIMISTIC_FORCE_INCREMENT);\n \n            LOGGER.info(&quot;Incrementing {} entity version because a {} child entity has been inserted&quot;, root, entity);\n        }\n    }\n \n    @Override\n    public void onPersist(PersistEvent event, Map createdAlready) \n        throws HibernateException {\n        onPersist(event);\n    }\n}\n</code></pre>\n<p>which you can register as follows:</p>\n<pre><code>public class RootAwareEventListenerIntegrator\n    implements org.hibernate.integrator.spi.Integrator {\n \n    public static final RootAwareEventListenerIntegrator INSTANCE = \n        new RootAwareEventListenerIntegrator();\n \n    @Override\n    public void integrate(\n            Metadata metadata,\n            SessionFactoryImplementor sessionFactory,\n            SessionFactoryServiceRegistry serviceRegistry) {\n \n        final EventListenerRegistry eventListenerRegistry =\n                serviceRegistry.getService( EventListenerRegistry.class );\n \n        eventListenerRegistry.appendListeners(EventType.PERSIST, RootAwareInsertEventListener.INSTANCE);\n        eventListenerRegistry.appendListeners(EventType.FLUSH_ENTITY, RootAwareUpdateAndDeleteEventListener.INSTANCE);\n    }\n \n    @Override\n    public void disintegrate(\n            SessionFactoryImplementor sessionFactory,\n            SessionFactoryServiceRegistry serviceRegistry) {\n        //Do nothing\n    }\n}\n</code></pre>\n<p>and then supply the <code>RootAwareFlushEntityEventListenerIntegrator</code> via a Hibernate configuration property:</p>\n<pre><code>configuration.put(\n    &quot;hibernate.integrator_provider&quot;, \n    (IntegratorProvider) () -&gt; Collections.singletonList(\n        RootAwareEventListenerIntegrator.INSTANCE\n    )\n);\n</code></pre>\n<p>Now, when you modify a <code>PostCommentDetails</code> entity:</p>\n<pre><code>PostCommentDetails postCommentDetails = entityManager.createQuery(\n    &quot;select pcd &quot; +\n    &quot;from PostCommentDetails pcd &quot; +\n    &quot;join fetch pcd.comment pc &quot; +\n    &quot;join fetch pc.post p &quot; +\n    &quot;where pcd.id = :id&quot;, PostCommentDetails.class)\n.setParameter(&quot;id&quot;, 2L)\n.getSingleResult();\n \npostCommentDetails.setVotes(15);\n</code></pre>\n<p>The parent <code>Post</code> entity version is modified as well:</p>\n<pre><code>SELECT  pcd.comment_id AS comment_2_2_0_ ,\n        pc.id AS id1_1_1_ ,\n        p.id AS id1_0_2_ ,\n        pcd.votes AS votes1_2_0_ ,\n        pc.post_id AS post_id3_1_1_ ,\n        pc.review AS review2_1_1_ ,\n        p.title AS title2_0_2_ ,\n        p.version AS version3_0_2_\nFROM    post_comment_details pcd\nINNER JOIN post_comment pc ON pcd.comment_id = pc.id\nINNER JOIN post p ON pc.post_id = p.id\nWHERE   pcd.comment_id = 2\n \nUPDATE post_comment_details \nSET votes = 15 \nWHERE comment_id = 2\n \nUPDATE post \nSET version = 1 \nwhere id = 1 AND version = 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9543909,"reputation":487,"user_id":7090808,"accept_rate":55,"display_name":"deve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664269828,"creation_date":1664269828,"answer_id":73865048,"question_id":21451601,"body_markdown":"For me it was enough to set the `OptimisticLock` annotation:\r\n\r\n```java\r\n@OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n@OptimisticLock(excluded = false)\r\nprivate Set&lt;Child&gt; children = new HashSet&lt;Child&gt;();\r\n```","title":"Hibernate @Version does not work with one-to-many","body":"<p>For me it was enough to set the <code>OptimisticLock</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n@OptimisticLock(excluded = false)\nprivate Set&lt;Child&gt; children = new HashSet&lt;Child&gt;();\n</code></pre>\n"}],"owner":{"account_id":239851,"reputation":1760,"user_id":509723,"accept_rate":82,"display_name":"ike3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2735,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1664269828,"creation_date":1391071800,"question_id":21451601,"body_markdown":"I have a hibernate entity with one-to-many association:\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY)\r\n        @Cascade(CascadeType.ALL)\r\n        private Set&lt;Child&gt; children = new HashSet&lt;Child&gt;();\r\n\r\n        @Version\r\n        private Date version;\r\n    }\r\n\r\n    @Entity\r\n    public class Child {\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;PARENT_ID&quot;)\r\n        private Parent parent;\r\n\r\n        @Basic\r\n        private String key;\r\n    }\r\n\r\n*some annotations removed for clarity\r\n\r\nChild entity maps on a table with composite primary key (KEY and PARENT_ID). The problem is when two users adds the same Child (with the same key) to the same Parent the cascade save (session.saveOrUpdate(parent)) fails with Child&#39;s primary key violation instead of optimistic lock failure.\r\n\r\nIf users change some other property in the Parent entity in addition to the collection, the optimistic lock works fine.\r\n\r\nI could add some fictive property to the Parent class and change it every time when the collection changes and it will do the trick but it looks like a hack.\r\n\r\nOr I could replace composite primary key to a surrogate one (by adding @Id).\r\n\r\nThe question is: **What is the recommended approach of implementing optimistic locking in such a case?** \r\n\r\nCould be related to https://stackoverflow.com/questions/16152539/hibernate-version-causing-database-foreign-key-constraint-failure.","title":"Hibernate @Version does not work with one-to-many","body":"<p>I have a hibernate entity with one-to-many association:</p>\n\n<pre><code>@Entity\npublic class Parent {\n    @OneToMany(mappedBy = \"parent\", fetch = FetchType.LAZY)\n    @Cascade(CascadeType.ALL)\n    private Set&lt;Child&gt; children = new HashSet&lt;Child&gt;();\n\n    @Version\n    private Date version;\n}\n\n@Entity\npublic class Child {\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"PARENT_ID\")\n    private Parent parent;\n\n    @Basic\n    private String key;\n}\n</code></pre>\n\n<p>*some annotations removed for clarity</p>\n\n<p>Child entity maps on a table with composite primary key (KEY and PARENT_ID). The problem is when two users adds the same Child (with the same key) to the same Parent the cascade save (session.saveOrUpdate(parent)) fails with Child's primary key violation instead of optimistic lock failure.</p>\n\n<p>If users change some other property in the Parent entity in addition to the collection, the optimistic lock works fine.</p>\n\n<p>I could add some fictive property to the Parent class and change it every time when the collection changes and it will do the trick but it looks like a hack.</p>\n\n<p>Or I could replace composite primary key to a surrogate one (by adding @Id).</p>\n\n<p>The question is: <strong>What is the recommended approach of implementing optimistic locking in such a case?</strong> </p>\n\n<p>Could be related to <a href=\"https://stackoverflow.com/questions/16152539/hibernate-version-causing-database-foreign-key-constraint-failure\">Hibernate @Version causing database foreign key constraint failure</a>.</p>\n"},{"tags":["java","jpa","jpql"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664206210,"post_id":73856203,"comment_id":130412691,"body_markdown":"Does this answer your question? [UNION to JPA Query](https://stackoverflow.com/questions/18958614/union-to-jpa-query)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18958614/union-to-jpa-query\">UNION to JPA Query</a>"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1664206648,"post_id":73856203,"comment_id":130412856,"body_markdown":"@HiranChaudhuri No. Union will create two result-rows. I need one result-row.","body":"@HiranChaudhuri No. Union will create two result-rows. I need one result-row."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664206553,"creation_date":1664206155,"answer_id":73856441,"question_id":73856203,"body_markdown":"If you have a huge database this problem probably should be addressed by tweaking the schema design. Most RDBMS would have to do a full table scan on `Payment` table to find both minimum and maximum  `amount` value. You can check this by looking at [`EXPLAIN`][1] output for your current query.\r\n\r\nSince you are concerned with the query speed you can denormalize the schema and store the `maxAmount` and `minAmount` columns in `Person` table or create a new `PersonMinMaxPayment` table. You can then update these when new row is inserted into `Payment` table e.g. by declaring `@PrePersist` or [creating a trigger][2].\r\n\r\nThere are also few more possibilities if your system can be eventually consistent. You can recalculate these values with a delay e.g. as a once a day batch job.\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/14/sql-explain.html\r\n  [2]: https://www.postgresql.org/docs/14/sql-createtrigger.html","title":"Min and Max from same subquery","body":"<p>If you have a huge database this problem probably should be addressed by tweaking the schema design. Most RDBMS would have to do a full table scan on <code>Payment</code> table to find both minimum and maximum  <code>amount</code> value. You can check this by looking at <a href=\"https://www.postgresql.org/docs/14/sql-explain.html\" rel=\"nofollow noreferrer\"><code>EXPLAIN</code></a> output for your current query.</p>\n<p>Since you are concerned with the query speed you can denormalize the schema and store the <code>maxAmount</code> and <code>minAmount</code> columns in <code>Person</code> table or create a new <code>PersonMinMaxPayment</code> table. You can then update these when new row is inserted into <code>Payment</code> table e.g. by declaring <code>@PrePersist</code> or <a href=\"https://www.postgresql.org/docs/14/sql-createtrigger.html\" rel=\"nofollow noreferrer\">creating a trigger</a>.</p>\n<p>There are also few more possibilities if your system can be eventually consistent. You can recalculate these values with a delay e.g. as a once a day batch job.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664269779,"creation_date":1664269779,"answer_id":73865041,"question_id":73856203,"body_markdown":"I used this:\r\n\r\n       SELECT p.firstname,\r\n              p.lastname, \r\n              MAX(pmt.amount),\r\n              MIN(pmt.amount)\r\n         FROM Person p\r\n    LEFT JOIN p.payments pmt\r\n        GROUP BY p.firstname, p.lastname\r\n\r\n","title":"Min and Max from same subquery","body":"<p>I used this:</p>\n<pre><code>   SELECT p.firstname,\n          p.lastname, \n          MAX(pmt.amount),\n          MIN(pmt.amount)\n     FROM Person p\nLEFT JOIN p.payments pmt\n    GROUP BY p.firstname, p.lastname\n</code></pre>\n"}],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73865041,"answer_count":2,"score":1,"last_activity_date":1664269779,"creation_date":1664205044,"question_id":73856203,"body_markdown":"If a query having a subselect for the highest money payed and the lowest money payed in example:\r\n\r\n    SELECT p.firstname, \r\n           p.lastname, \r\n           (SELECT MAX(pmt.amount) \r\n              FROM Payment pmt \r\n             WHERE pmt.person.id = p.id)  maxAmount,\r\n           (SELECT MIN(pmt.amount) \r\n              FROM Payment pmt \r\n             WHERE pmt.person.id = p.id)  minAmount,\r\n      FROM Person p\r\n\r\nWe need to write two subqueries. This have a bad performance on huge databases. \r\n\r\nAny solutions in plain JPQL?","title":"Min and Max from same subquery","body":"<p>If a query having a subselect for the highest money payed and the lowest money payed in example:</p>\n<pre><code>SELECT p.firstname, \n       p.lastname, \n       (SELECT MAX(pmt.amount) \n          FROM Payment pmt \n         WHERE pmt.person.id = p.id)  maxAmount,\n       (SELECT MIN(pmt.amount) \n          FROM Payment pmt \n         WHERE pmt.person.id = p.id)  minAmount,\n  FROM Person p\n</code></pre>\n<p>We need to write two subqueries. This have a bad performance on huge databases.</p>\n<p>Any solutions in plain JPQL?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","design-patterns"],"comments":[{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":0,"creation_date":1663329512,"post_id":73744318,"comment_id":130219498,"body_markdown":"Decorator pattern does not transform code. Decorator pattern adds new behaviour by adding new class","body":"Decorator pattern does not transform code. Decorator pattern adds new behaviour by adding new class"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1663334134,"post_id":73744318,"comment_id":130221261,"body_markdown":"A little improvement use `Optional` API. `user.map(u -&gt; new ResponseEntity&lt;&gt;(u.get(), HttpStatus.OK)).orElseThrow(RecordNotFoundException::new)`","body":"A little improvement use <code>Optional</code> API. <code>user.map(u -&gt; new ResponseEntity&lt;&gt;(u.get(), HttpStatus.OK)).orElseThrow(RecordNotFoundException::new)</code>"},{"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"score":0,"creation_date":1663662203,"post_id":73744318,"comment_id":130286715,"body_markdown":"@StepUp sure - my thought was where it takes the current function, wraps into a class and generates that class. just a thought..but this is what i want to achieve - where i just define a function and my decorator (or some plugin) transforms it into a bean","body":"@StepUp sure - my thought was where it takes the current function, wraps into a class and generates that class. just a thought..but this is what i want to achieve - where i just define a function and my decorator (or some plugin) transforms it into a bean"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1663699437,"post_id":73744318,"comment_id":130300180,"body_markdown":"*&quot;that takes a very simple function&quot;* There are no &quot;functions&quot; in Java. Do you mean a method in an existing class?","body":"<i>&quot;that takes a very simple function&quot;</i> There are no &quot;functions&quot; in Java. Do you mean a method in an existing class?"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1663709738,"post_id":73744318,"comment_id":130303069,"body_markdown":"You need to use code generation at compile time. It is only one way to achieve such a complex transformation. Examples are [Mapstruct](https://github.com/mapstruct/mapstruct) or [Lombok](https://github.com/projectlombok/lombok).","body":"You need to use code generation at compile time. It is only one way to achieve such a complex transformation. Examples are <a href=\"https://github.com/mapstruct/mapstruct\" rel=\"nofollow noreferrer\">Mapstruct</a> or <a href=\"https://github.com/projectlombok/lombok\" rel=\"nofollow noreferrer\">Lombok</a>."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1663760010,"post_id":73744318,"comment_id":130314036,"body_markdown":"How someone will supply the function ? I meant to say where is the function defined.","body":"How someone will supply the function ? I meant to say where is the function defined."},{"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"score":0,"creation_date":1664259938,"post_id":73744318,"comment_id":130424051,"body_markdown":"@Olivier - my apologies for poor english. i wanted to convey that these are static functions/util functions. im importing a third party library with a large number of functions and trying to generate endpoints for them automatically. so im not able to use the standard way of defining a controller class and annotating methods in it","body":"@Olivier - my apologies for poor english. i wanted to convey that these are static functions/util functions. im importing a third party library with a large number of functions and trying to generate endpoints for them automatically. so im not able to use the standard way of defining a controller class and annotating methods in it"},{"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"score":1,"creation_date":1664264925,"post_id":73744318,"comment_id":130425516,"body_markdown":"@AnishB. the function is defined in global scope. think of it as defined as a utility function. it has no controller, etc around it. on startup, we have to autogenerate the controller classes and wrap these functions so that spring can generate the endpoints","body":"@AnishB. the function is defined in global scope. think of it as defined as a utility function. it has no controller, etc around it. on startup, we have to autogenerate the controller classes and wrap these functions so that spring can generate the endpoints"},{"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"score":0,"creation_date":1664269538,"post_id":73744318,"comment_id":130426962,"body_markdown":"pardon my english, but ive been thinking of callable/runnables here or anonymous classes here","body":"pardon my english, but ive been thinking of callable/runnables here or anonymous classes here"}],"answers":[{"tags":[],"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663800137,"creation_date":1663800137,"answer_id":73807636,"question_id":73744318,"body_markdown":"One way to do it could be using the approach described in [Interface Driven Controllers](https://www.baeldung.com/spring-interface-driven-controllers) article with some additions.\r\n\r\nAs in the article, we can create an interface with the default annotations. Additionally, we can implement the `default` methods and enforce the implementation of the certain methods in the service layer using some generics like this:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/default&quot;)\r\npublic interface BasicRestController&lt;ID, T, S extends BasicRestService&lt;T, ID&gt;&gt; {\r\n    @NonNull S getService();\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    default ResponseEntity&lt;T&gt; getById(@PathVariable ID id) {\r\n        return getService().getById(id)\r\n                .map(ResponseEntity::ok)\r\n                .orElseThrow(RecordNotFoundException::new);\r\n    }\r\n\r\n    @GetMapping\r\n    default ResponseEntity&lt;List&lt;T&gt;&gt; getAll() {\r\n        List&lt;T&gt; results = getService().getAll();\r\n        return ResponseEntity.ok(results);\r\n    }\r\n}\r\n```\r\n```java\r\npublic interface BasicRestService&lt;T, ID&gt; {\r\n    Optional&lt;T&gt; getById(ID id);\r\n\r\n    List&lt;T&gt; getAll();\r\n}\r\n```\r\n\r\nAnd then use it in the controller like this:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/bars&quot;)\r\n@RequiredArgsConstructor\r\npublic class BarController implements BasicRestController&lt;Long, Bar, BarService&gt; {\r\n    private final BarService barService;\r\n\r\n    @Override\r\n    public @NonNull BarService getService() {\r\n        return barService;\r\n    }\r\n}\r\n```\r\nMinimal working example can be found here: https://bitbucket.org/kasptom/stack-73744318-interface-driven-controller","title":"Create a convenience decorator to generate a Controller from a function using BeanPostProcessor?","body":"<p>One way to do it could be using the approach described in <a href=\"https://www.baeldung.com/spring-interface-driven-controllers\" rel=\"nofollow noreferrer\">Interface Driven Controllers</a> article with some additions.</p>\n<p>As in the article, we can create an interface with the default annotations. Additionally, we can implement the <code>default</code> methods and enforce the implementation of the certain methods in the service layer using some generics like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/default&quot;)\npublic interface BasicRestController&lt;ID, T, S extends BasicRestService&lt;T, ID&gt;&gt; {\n    @NonNull S getService();\n\n    @GetMapping(&quot;/{id}&quot;)\n    default ResponseEntity&lt;T&gt; getById(@PathVariable ID id) {\n        return getService().getById(id)\n                .map(ResponseEntity::ok)\n                .orElseThrow(RecordNotFoundException::new);\n    }\n\n    @GetMapping\n    default ResponseEntity&lt;List&lt;T&gt;&gt; getAll() {\n        List&lt;T&gt; results = getService().getAll();\n        return ResponseEntity.ok(results);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BasicRestService&lt;T, ID&gt; {\n    Optional&lt;T&gt; getById(ID id);\n\n    List&lt;T&gt; getAll();\n}\n</code></pre>\n<p>And then use it in the controller like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/bars&quot;)\n@RequiredArgsConstructor\npublic class BarController implements BasicRestController&lt;Long, Bar, BarService&gt; {\n    private final BarService barService;\n\n    @Override\n    public @NonNull BarService getService() {\n        return barService;\n    }\n}\n</code></pre>\n<p>Minimal working example can be found here: <a href=\"https://bitbucket.org/kasptom/stack-73744318-interface-driven-controller\" rel=\"nofollow noreferrer\">https://bitbucket.org/kasptom/stack-73744318-interface-driven-controller</a></p>\n"}],"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73807636,"answer_count":1,"score":4,"last_activity_date":1664269502,"creation_date":1663328544,"question_id":73744318,"body_markdown":"I&#39;m looking to write a decorator that takes a very static function and wraps it inside a controller.\r\n\r\nThink of it as a global scope utility callable/runnable, so pathvariable/requestbody has to be injected into the parameters. And then it has to automatically be wrapped inside a bean controller with the appropriate getmapping/postmapping to expose it an endpoint\r\n\r\n```\r\n@AutoGetMapping(&quot;/users/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; getById(@PathVariable long id) {\r\n        Optional&lt;User&gt; user = userService.getById(id);\r\n        if (user.isPresent()) {\r\n            return new ResponseEntity&lt;&gt;(user.get(), HttpStatus.OK);\r\n        } else {\r\n            throw new RecordNotFoundException();\r\n        }\r\n    }\r\n```\r\n\r\ngets transformed to \r\n\r\n```\r\n@RestController\r\npublic class UserController {\r\n \r\n    @Autowired\r\n    UserService userService;\r\n \r\n    @GetMapping(&quot;users&quot;)\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getAll() {\r\n        return new ResponseEntity&lt;&gt;(userService.getAll(), HttpStatus.OK);\r\n    }\r\n \r\n    @GetMapping(&quot;users/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; getById(@PathVariable long id) {\r\n        Optional&lt;User&gt; user = userService.getById(id);\r\n        if (user.isPresent()) {\r\n            return new ResponseEntity&lt;&gt;(user.get(), HttpStatus.OK);\r\n        } else {\r\n            throw new RecordNotFoundException();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n(maybe even the service layers).\r\n\r\nI&#39;m just looking for a place to start. I think im making a mistake in trying to use BeanPostProcessor and BeanDefinitionRegistryPostProcessor  to do this. Can someone point me in the right direction on how to start doing this ?","title":"Create a convenience decorator to generate a Controller from a function using BeanPostProcessor?","body":"<p>I'm looking to write a decorator that takes a very static function and wraps it inside a controller.</p>\n<p>Think of it as a global scope utility callable/runnable, so pathvariable/requestbody has to be injected into the parameters. And then it has to automatically be wrapped inside a bean controller with the appropriate getmapping/postmapping to expose it an endpoint</p>\n<pre><code>@AutoGetMapping(&quot;/users/{id}&quot;)\n    public ResponseEntity&lt;User&gt; getById(@PathVariable long id) {\n        Optional&lt;User&gt; user = userService.getById(id);\n        if (user.isPresent()) {\n            return new ResponseEntity&lt;&gt;(user.get(), HttpStatus.OK);\n        } else {\n            throw new RecordNotFoundException();\n        }\n    }\n</code></pre>\n<p>gets transformed to</p>\n<pre><code>@RestController\npublic class UserController {\n \n    @Autowired\n    UserService userService;\n \n    @GetMapping(&quot;users&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getAll() {\n        return new ResponseEntity&lt;&gt;(userService.getAll(), HttpStatus.OK);\n    }\n \n    @GetMapping(&quot;users/{id}&quot;)\n    public ResponseEntity&lt;User&gt; getById(@PathVariable long id) {\n        Optional&lt;User&gt; user = userService.getById(id);\n        if (user.isPresent()) {\n            return new ResponseEntity&lt;&gt;(user.get(), HttpStatus.OK);\n        } else {\n            throw new RecordNotFoundException();\n        }\n    }\n}\n</code></pre>\n<p>(maybe even the service layers).</p>\n<p>I'm just looking for a place to start. I think im making a mistake in trying to use BeanPostProcessor and BeanDefinitionRegistryPostProcessor  to do this. Can someone point me in the right direction on how to start doing this ?</p>\n"},{"tags":["java","swing","2d"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664268942,"post_id":73864461,"comment_id":130426742,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."}],"answers":[{"tags":[],"owner":{"account_id":23032422,"reputation":1,"user_id":19673805,"display_name":"Mohammed Baig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664269325,"creation_date":1664269242,"answer_id":73864913,"question_id":73864461,"body_markdown":"Nvm, I found the problem. \r\n\r\nDon&#39;t try to register mousePressed events via MouseMotionListener, they aren&#39;t even called when the application runs. This caused the initial startPanX and startPanY to be 0, which simply added the location of the mouse onto the rect. Then all movements applied to viewX and viewY will simply make the rect follow the mouse.\r\n\r\nNo joke, I was fighting over this for 2 days, and after taking a break and sitting down, it hit me. That&#39;s programming for ya :^)","title":"Panning Algorithm following mouse Java Swing","body":"<p>Nvm, I found the problem.</p>\n<p>Don't try to register mousePressed events via MouseMotionListener, they aren't even called when the application runs. This caused the initial startPanX and startPanY to be 0, which simply added the location of the mouse onto the rect. Then all movements applied to viewX and viewY will simply make the rect follow the mouse.</p>\n<p>No joke, I was fighting over this for 2 days, and after taking a break and sitting down, it hit me. That's programming for ya :^)</p>\n"}],"owner":{"account_id":23032422,"reputation":1,"user_id":19673805,"display_name":"Mohammed Baig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664269325,"creation_date":1664267038,"question_id":73864461,"body_markdown":"I have an algorithm that is frustratingly stubborn for the last 2 days. It&#39;s an algorithm that pans around a view. The code below implements the actual panning logic: \r\n\r\n    package com.next.plugin.designer.actions;\r\n    \r\n    import com.next.plugin.designer.Canvas;\r\n    import com.next.plugin.designer.SketchDesigner;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    public class CanvasInteraction extends UserAction {\r\n    \r\n    \r\n        private int startPanX, startPanY;\r\n    \r\n        @Override\r\n        public void onExtendSketchDesigner(SketchDesigner sd) {\r\n    \r\n            Canvas canvas = sd.getCanvas();\r\n    \r\n    \r\n            sd.addMouseMotionListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseDragged(MouseEvent e) {\r\n                    if(SwingUtilities.isLeftMouseButton(e)){\r\n    \r\n    \r\n    \r\n                   \r\n                        canvas.viewX += (e.getX() - startPanX);\r\n                        canvas.viewY += (e.getY() - startPanY);\r\n    \r\n    \r\n                        startPanX = e.getX();\r\n                        startPanY = e.getY();\r\n    \r\n                        sd.repaint();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                    if(SwingUtilities.isLeftMouseButton(e)){\r\n                        startPanX = e.getX();\r\n                        startPanY = e.getY();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis class just draws the Rectangle at the pan offsets\r\n\r\n\r\n\r\n    package com.next.plugin.designer;\r\n    \r\n    import java.awt.*;\r\n    \r\n    public class Canvas {\r\n    \r\n        public int viewX = 0, viewY = 0;\r\n        private int width = 640, height = 480;\r\n    \r\n        private BasicStroke basicStroke = new BasicStroke(3);\r\n    \r\n    \r\n    \r\n        public void draw(Graphics2D graphics2D) {\r\n    \r\n    \r\n            graphics2D.setStroke(basicStroke);\r\n            graphics2D.setColor(Color.WHITE);\r\n            graphics2D.drawRect(viewX, viewY, width, height);\r\n        }\r\n    }\r\n\r\nI&#39;m not quite sure how to add videos on StackOverflow but the best description of the result is that the moment I start dragging (no matter where my mouse is), the rectangle in the above code just follows my mouse. \r\n\r\nThanks ","title":"Panning Algorithm following mouse Java Swing","body":"<p>I have an algorithm that is frustratingly stubborn for the last 2 days. It's an algorithm that pans around a view. The code below implements the actual panning logic:</p>\n<pre><code>package com.next.plugin.designer.actions;\n\nimport com.next.plugin.designer.Canvas;\nimport com.next.plugin.designer.SketchDesigner;\n\nimport javax.swing.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class CanvasInteraction extends UserAction {\n\n\n    private int startPanX, startPanY;\n\n    @Override\n    public void onExtendSketchDesigner(SketchDesigner sd) {\n\n        Canvas canvas = sd.getCanvas();\n\n\n        sd.addMouseMotionListener(new MouseAdapter() {\n            @Override\n            public void mouseDragged(MouseEvent e) {\n                if(SwingUtilities.isLeftMouseButton(e)){\n\n\n\n               \n                    canvas.viewX += (e.getX() - startPanX);\n                    canvas.viewY += (e.getY() - startPanY);\n\n\n                    startPanX = e.getX();\n                    startPanY = e.getY();\n\n                    sd.repaint();\n                }\n            }\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n                if(SwingUtilities.isLeftMouseButton(e)){\n                    startPanX = e.getX();\n                    startPanY = e.getY();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>This class just draws the Rectangle at the pan offsets</p>\n<pre><code>package com.next.plugin.designer;\n\nimport java.awt.*;\n\npublic class Canvas {\n\n    public int viewX = 0, viewY = 0;\n    private int width = 640, height = 480;\n\n    private BasicStroke basicStroke = new BasicStroke(3);\n\n\n\n    public void draw(Graphics2D graphics2D) {\n\n\n        graphics2D.setStroke(basicStroke);\n        graphics2D.setColor(Color.WHITE);\n        graphics2D.drawRect(viewX, viewY, width, height);\n    }\n}\n</code></pre>\n<p>I'm not quite sure how to add videos on StackOverflow but the best description of the result is that the moment I start dragging (no matter where my mouse is), the rectangle in the above code just follows my mouse.</p>\n<p>Thanks</p>\n"},{"tags":["java","class","object","theory","scjp"],"comments":[{"owner":{"account_id":6018851,"reputation":3101,"user_id":4726707,"accept_rate":70,"display_name":"Blip"},"score":1,"creation_date":1439740128,"post_id":32037008,"comment_id":51974821,"body_markdown":"what is the compilation error? kindly post it","body":"what is the compilation error? kindly post it"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1439740178,"post_id":32037008,"comment_id":51974840,"body_markdown":"You can&#39;t. Don&#39;t design it this way. The class `MyMethodInnerClass` is a local class. Its scope is only the body of the method.","body":"You can&#39;t. Don&#39;t design it this way. The class <code>MyMethodInnerClass</code> is a local class. Its scope is only the body of the method."},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":1,"creation_date":1439740235,"post_id":32037008,"comment_id":51974857,"body_markdown":"I don&#39;t have a Java compiler right one. Is it even possible to declare a class in a method ?","body":"I don&#39;t have a Java compiler right one. Is it even possible to declare a class in a method ?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1439740263,"post_id":32037008,"comment_id":51974867,"body_markdown":"@Dici it is but it is also very rarely used.","body":"@Dici it is but it is also very rarely used."},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":1,"creation_date":1439740529,"post_id":32037008,"comment_id":51974951,"body_markdown":"@PeterLawrey ok, thanks. Does not really make sense to me. You cannot define a method in a method, but a class in a method is fine. Hum...","body":"@PeterLawrey ok, thanks. Does not really make sense to me. You cannot define a method in a method, but a class in a method is fine. Hum..."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1439740609,"post_id":32037008,"comment_id":51974978,"body_markdown":"@dici https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html","body":"@dici <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/localclasses.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":2392528,"reputation":2186,"user_id":2092109,"accept_rate":83,"display_name":"Benas"},"score":0,"creation_date":1439740699,"post_id":32037008,"comment_id":51975011,"body_markdown":"@Dici added exception text, you asked","body":"@Dici added exception text, you asked"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1439740734,"post_id":32037008,"comment_id":51975024,"body_markdown":"@Dici You can&#39;t define an interface, enum or annotation.","body":"@Dici You can&#39;t define an interface, enum or annotation."},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":0,"creation_date":1439740799,"post_id":32037008,"comment_id":51975051,"body_markdown":"Ok thanks to both of you :p","body":"Ok thanks to both of you :p"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1439740232,"creation_date":1439740232,"answer_id":32037030,"question_id":32037008,"body_markdown":"The scope of your class is inside the method only.  You can do this however\r\n\r\n    public Object getMethodInnerClassObject() {\r\n\r\nor\r\n\r\n    static class MyMethodInnerClass { }\r\n\r\n    public MyMethodInnerClass getMethodInnerClassObject() {\r\n        return new MyMethodInnerClass();\r\n    }\r\n    ","title":"Java. Method Inner Object as return type","body":"<p>The scope of your class is inside the method only.  You can do this however</p>\n\n<pre><code>public Object getMethodInnerClassObject() {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>static class MyMethodInnerClass { }\n\npublic MyMethodInnerClass getMethodInnerClassObject() {\n    return new MyMethodInnerClass();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20689108,"reputation":17580,"user_id":15273968,"display_name":"the Hutt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614182005,"creation_date":1614182005,"answer_id":66354325,"question_id":32037008,"body_markdown":"I know it&#39;s a bad design. But just for fun, you can use this object outside the method using reflection.\r\n\r\n    public class Test{\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tOuter o = new Outer();\r\n    \t\tOuter.Inner in = o.new Inner();\r\n    \t\t//method local object\r\n    \t\tObject localObj = in.printInner();\r\n    \t\t//abusing reflection\r\n    \t\tlocalObj.getClass().getMethods()[0].invoke(localObj);\r\n    \t}\r\n    }\r\n    \r\n    class Outer {\r\n    \tclass Inner{\r\n    \t\t\r\n    \t\tObject printInner() {\r\n    \t\t\tclass LocalInner {\r\n    \t\t\t\tpublic void printLocal() {\r\n    \t\t\t\t\tSystem.out.println(&quot;Inside local inner... :P&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn new LocalInner();\r\n    \t\t}\r\n    \t}\r\n    }\r\nThis prints: \r\n\r\n&gt; Inside local inner... :P","title":"Java. Method Inner Object as return type","body":"<p>I know it's a bad design. But just for fun, you can use this object outside the method using reflection.</p>\n<pre><code>public class Test{\n    public static void main(String[] args) throws Exception {\n        Outer o = new Outer();\n        Outer.Inner in = o.new Inner();\n        //method local object\n        Object localObj = in.printInner();\n        //abusing reflection\n        localObj.getClass().getMethods()[0].invoke(localObj);\n    }\n}\n\nclass Outer {\n    class Inner{\n        \n        Object printInner() {\n            class LocalInner {\n                public void printLocal() {\n                    System.out.println(&quot;Inside local inner... :P&quot;);\n                }\n            }\n            return new LocalInner();\n        }\n    }\n}\n</code></pre>\n<p>This prints:</p>\n<blockquote>\n<p>Inside local inner... :P</p>\n</blockquote>\n"}],"owner":{"account_id":2392528,"reputation":2186,"user_id":2092109,"accept_rate":83,"display_name":"Benas"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":940,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":32037030,"answer_count":2,"score":-4,"last_activity_date":1664269315,"creation_date":1439740042,"question_id":32037008,"body_markdown":"Can I return method local inner object from method?\r\n\r\n\r\n    public class myClass {\r\n    \tpublic MyMethodInnerClass getMethodInnerClassObject() {\r\n    \t\tclass MyMethodInnerClass {\r\n    \t\t}\r\n    \t\t\r\n    \t\tMyMethodInnerClass myMethodClass = new MyMethodInnerClass();\r\n    \t\t\r\n    \t\treturn myMethodClass;\r\n    \t}\r\n    }\r\n\r\nthrows compilation error. \r\nIf I can&#39;t return my method-local inner class object, then how can I save it after the method returns?\r\nHow can I reference this object for future usage?\r\n\r\n-------\r\nException thrown:\r\n\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tMethodInnerClass cannot be resolved to a type\r\n\r\n\r\nAnd also, I&#39;m aware, that local variables in method are stored in stack and deleted just after the method exists.","title":"Java. Method Inner Object as return type","body":"<p>Can I return method local inner object from method?</p>\n<pre><code>public class myClass {\n    public MyMethodInnerClass getMethodInnerClassObject() {\n        class MyMethodInnerClass {\n        }\n        \n        MyMethodInnerClass myMethodClass = new MyMethodInnerClass();\n        \n        return myMethodClass;\n    }\n}\n</code></pre>\n<p>throws compilation error.\nIf I can't return my method-local inner class object, then how can I save it after the method returns?\nHow can I reference this object for future usage?</p>\n<hr />\n<p>Exception thrown:</p>\n<p>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\nMethodInnerClass cannot be resolved to a type</p>\n<p>And also, I'm aware, that local variables in method are stored in stack and deleted just after the method exists.</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":12581210,"reputation":196,"user_id":9151832,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664269090,"creation_date":1664269090,"answer_id":73864873,"question_id":73742061,"body_markdown":"Issue was with settings.xml \r\nadded to solve above issue \r\n-\r\n\r\n    &lt;repository&gt;\r\n      &lt;id&gt;central1&lt;/id&gt; \r\n      &lt;name&gt;Central Repository&lt;/name&gt;\r\n      &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;  \r\n      &lt;layout&gt;default&lt;/layout&gt;\r\n    &lt;snapshots&gt;\r\n       &lt;enabled&gt;false&lt;/enabled&gt;\r\n    &lt;/snapshots&gt;   \r\n    &lt;/repository&gt;","title":"org.eclipse.aether.transfer.ChecksumFailureException after deleting m2 folder","body":"<h2>Issue was with settings.xml\nadded to solve above issue</h2>\n<pre><code>&lt;repository&gt;\n  &lt;id&gt;central1&lt;/id&gt; \n  &lt;name&gt;Central Repository&lt;/name&gt;\n  &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;  \n  &lt;layout&gt;default&lt;/layout&gt;\n&lt;snapshots&gt;\n   &lt;enabled&gt;false&lt;/enabled&gt;\n&lt;/snapshots&gt;   \n&lt;/repository&gt;\n</code></pre>\n"}],"owner":{"account_id":12581210,"reputation":196,"user_id":9151832,"display_name":"Varun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73864873,"answer_count":1,"score":0,"last_activity_date":1664269090,"creation_date":1663317149,"question_id":73742061,"body_markdown":"I tried cleaning m2 folder then working application is throwing below error.\r\n\r\nI tried, Recleaning the m2 folder, deleted branch and cloned again but I am facing same issue. Can anyone please help on this.\r\n\r\nThank you in advance.  \r\n\r\nError Log :\r\n\r\n    [WARNING] Checksum validation failed, expected &lt;!doctype but is 74a0061f89255bc52ee21eb07944fe42518a97ad from Spring plugin alt repo for https://repo.spring.io/ui/native/plugins-release/org/springframework/boot/spring-boot-starter-parent/2.7.0/spring-boot-starter-parent-2.7.0.pom\r\n    [WARNING] Could not validate integrity of download from https://repo.spring.io/ui/native/plugins-release/org/springframework/boot/spring-boot-starter-parent/2.7.0/spring-boot-starter-parent-2.7.0.pom\r\n    org.eclipse.aether.transfer.ChecksumFailureException: Checksum validation failed, expected &lt;!doctype but is 74a0061f89255bc52ee21eb07944fe42518a97ad\r\n        at org.eclipse.aether.connector.basic.ChecksumValidator.validateExternalChecksums (ChecksumValidator.java:174)\r\n        at org.eclipse.aether.connector.basic.ChecksumValidator.validate (ChecksumValidator.java:103)\r\n        at org.eclipse.aether.connector.basic.BasicRepositoryConnector$GetTaskRunner.runTask (BasicRepositoryConnector.java:460)\r\n        at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run (BasicRepositoryConnector.java:364)\r\n        at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run (RunnableErrorForwarder.java:75)\r\n        at org.eclipse.aether.connector.basic.BasicRepositoryConnector$DirectExecutor.execute (BasicRepositoryConnector.java:628)\r\n        at org.eclipse.aether.connector.basic.BasicRepositoryConnector.get (BasicRepositoryConnector.java:262)\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads (DefaultArtifactResolver.java:513)\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:401)\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact (DefaultArtifactResolver.java:207)\r\n        at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveArtifact (DefaultRepositorySystem.java:262)\r\n        at org.apache.maven.project.ProjectModelResolver.resolveModel (ProjectModelResolver.java:192)\r\n        at org.apache.maven.project.ProjectModelResolver.resolveModel (ProjectModelResolver.java:242)\r\n        at org.apache.maven.model.building.DefaultModelBuilder.readParentExternally (DefaultModelBuilder.java:1070)\r\n        at org.apache.maven.model.building.DefaultModelBuilder.readParent (DefaultModelBuilder.java:846)\r\n        at org.apache.maven.model.building.DefaultModelBuilder.build (DefaultModelBuilder.java:337)\r\n        at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:448)\r\n        at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:414)\r\n        at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:377)\r\n        at org.apache.maven.graph.DefaultGraphBuilder.collectProjects (DefaultGraphBuilder.java:414)\r\n        at org.apache.maven.graph.DefaultGraphBuilder.getProjectsForMavenReactor (DefaultGraphBuilder.java:405)\r\n        at org.apache.maven.graph.DefaultGraphBuilder.build (DefaultGraphBuilder.java:82)\r\n\r\n&gt; Pom :\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;","title":"org.eclipse.aether.transfer.ChecksumFailureException after deleting m2 folder","body":"<p>I tried cleaning m2 folder then working application is throwing below error.</p>\n<p>I tried, Recleaning the m2 folder, deleted branch and cloned again but I am facing same issue. Can anyone please help on this.</p>\n<p>Thank you in advance.</p>\n<p>Error Log :</p>\n<pre><code>[WARNING] Checksum validation failed, expected &lt;!doctype but is 74a0061f89255bc52ee21eb07944fe42518a97ad from Spring plugin alt repo for https://repo.spring.io/ui/native/plugins-release/org/springframework/boot/spring-boot-starter-parent/2.7.0/spring-boot-starter-parent-2.7.0.pom\n[WARNING] Could not validate integrity of download from https://repo.spring.io/ui/native/plugins-release/org/springframework/boot/spring-boot-starter-parent/2.7.0/spring-boot-starter-parent-2.7.0.pom\norg.eclipse.aether.transfer.ChecksumFailureException: Checksum validation failed, expected &lt;!doctype but is 74a0061f89255bc52ee21eb07944fe42518a97ad\n    at org.eclipse.aether.connector.basic.ChecksumValidator.validateExternalChecksums (ChecksumValidator.java:174)\n    at org.eclipse.aether.connector.basic.ChecksumValidator.validate (ChecksumValidator.java:103)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$GetTaskRunner.runTask (BasicRepositoryConnector.java:460)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run (BasicRepositoryConnector.java:364)\n    at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run (RunnableErrorForwarder.java:75)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$DirectExecutor.execute (BasicRepositoryConnector.java:628)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector.get (BasicRepositoryConnector.java:262)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads (DefaultArtifactResolver.java:513)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:401)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact (DefaultArtifactResolver.java:207)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveArtifact (DefaultRepositorySystem.java:262)\n    at org.apache.maven.project.ProjectModelResolver.resolveModel (ProjectModelResolver.java:192)\n    at org.apache.maven.project.ProjectModelResolver.resolveModel (ProjectModelResolver.java:242)\n    at org.apache.maven.model.building.DefaultModelBuilder.readParentExternally (DefaultModelBuilder.java:1070)\n    at org.apache.maven.model.building.DefaultModelBuilder.readParent (DefaultModelBuilder.java:846)\n    at org.apache.maven.model.building.DefaultModelBuilder.build (DefaultModelBuilder.java:337)\n    at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:448)\n    at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:414)\n    at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:377)\n    at org.apache.maven.graph.DefaultGraphBuilder.collectProjects (DefaultGraphBuilder.java:414)\n    at org.apache.maven.graph.DefaultGraphBuilder.getProjectsForMavenReactor (DefaultGraphBuilder.java:405)\n    at org.apache.maven.graph.DefaultGraphBuilder.build (DefaultGraphBuilder.java:82)\n</code></pre>\n<blockquote>\n<p>Pom :</p>\n</blockquote>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","autowired"],"answers":[{"tags":[],"owner":{"account_id":8762502,"reputation":51,"user_id":6552071,"display_name":"Purnima Patidar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664268831,"creation_date":1664268745,"answer_id":73864800,"question_id":73864718,"body_markdown":"There is cyclic dependency in your code as you have autowired RequestProcessingService into ErpDataRepository and into RequestProcessingService you autowired  ErpDataRepository so it seems like-\r\n\r\n    RequestProcessingService\r\n        |                 ^\r\n        |                 |\r\n    ErpDataRepository     |\r\n        |.                |\r\n        |_________________|","title":"Execution failure when using @Autowired annotation in Spring app","body":"<p>There is cyclic dependency in your code as you have autowired RequestProcessingService into ErpDataRepository and into RequestProcessingService you autowired  ErpDataRepository so it seems like-</p>\n<pre><code>RequestProcessingService\n    |                 ^\n    |                 |\nErpDataRepository     |\n    |.                |\n    |_________________|\n</code></pre>\n"}],"owner":{"account_id":13257387,"reputation":97,"user_id":9573000,"display_name":"Mana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664268831,"creation_date":1664268371,"question_id":73864718,"body_markdown":"I have two classes, `ErpDataRepository` and `RequestProcessingService`. I want to autowire the &quot;Request&quot; class and did so in the &quot;ErpDataRepo&quot; class below. \r\n\r\nHowever, when I added that line, my Spring app crashes with an error that the command:\r\n\r\n&gt; failed with non-zero exit value 1\r\n\r\nMy understanding is that it&#39;s crashing because Spring cannot find the classes that I defined as a component or service. However, I&#39;ve already added the `@Service` annotation to the `RequestProcessingService` class and Spring still can&#39;t detect it. I also checked the `@ComponentScan` in my configuration class and it should be able to find the classes that I&#39;ve set for it.\r\n\r\nAny ideas as to why this error is happening?\r\n\r\n**ErpDataRepository** class\r\n```\r\n@Slf4j\r\n@Repository\r\npublic class ErpDataRepository extends BaseRepository implements IAccountingObjectTypeRepository {\r\n\r\n    private static final int DELETE_ALL_FOR_TYPE_PAGE_LIMIT = 1500;\r\n\r\n    protected DynamoDBMapper dynamoDBMapper;\r\n    protected AmazonDynamoDB amazonDynamoDB;\r\n\r\n    @Autowired\r\n    private RequestProcessingService requestProcessingService;\r\n\r\n    public ErpDataRepository(AmazonDynamoDB amazonDynamoDB, DynamoDBMapper dynamoDBMapper) {\r\n        super(EcpConstants.ERP_DATA_TABLE, EcpConstants.DATA_COMPANY_ID_ERP_ID_INDEX, dynamoDBMapper, amazonDynamoDB);\r\n        this.dynamoDBMapper = dynamoDBMapper;\r\n        this.amazonDynamoDB = amazonDynamoDB;\r\n    }\r\n}\r\n```\r\n\r\n**RequestProcessingService** class\r\n```\r\n@Service\r\n@CustomLog\r\npublic class RequestProcessingService {\r\n    @Autowired\r\n    private ProcessingErrorRepository processingErrorRepository;\r\n    @Autowired\r\n    private ErpDataRepository erpDataRepository;\r\n\r\n    public PaginatedDataResponse&lt;ProcessingError&gt; getProcessingErrors(String requestId) throws NotFoundException {\r\n        return getProcessingErrors(requestId, EcpConstants.DEFAULT_NEXT_PAGE);\r\n    }\r\n}\r\n```","title":"Execution failure when using @Autowired annotation in Spring app","body":"<p>I have two classes, <code>ErpDataRepository</code> and <code>RequestProcessingService</code>. I want to autowire the &quot;Request&quot; class and did so in the &quot;ErpDataRepo&quot; class below.</p>\n<p>However, when I added that line, my Spring app crashes with an error that the command:</p>\n<blockquote>\n<p>failed with non-zero exit value 1</p>\n</blockquote>\n<p>My understanding is that it's crashing because Spring cannot find the classes that I defined as a component or service. However, I've already added the <code>@Service</code> annotation to the <code>RequestProcessingService</code> class and Spring still can't detect it. I also checked the <code>@ComponentScan</code> in my configuration class and it should be able to find the classes that I've set for it.</p>\n<p>Any ideas as to why this error is happening?</p>\n<p><strong>ErpDataRepository</strong> class</p>\n<pre><code>@Slf4j\n@Repository\npublic class ErpDataRepository extends BaseRepository implements IAccountingObjectTypeRepository {\n\n    private static final int DELETE_ALL_FOR_TYPE_PAGE_LIMIT = 1500;\n\n    protected DynamoDBMapper dynamoDBMapper;\n    protected AmazonDynamoDB amazonDynamoDB;\n\n    @Autowired\n    private RequestProcessingService requestProcessingService;\n\n    public ErpDataRepository(AmazonDynamoDB amazonDynamoDB, DynamoDBMapper dynamoDBMapper) {\n        super(EcpConstants.ERP_DATA_TABLE, EcpConstants.DATA_COMPANY_ID_ERP_ID_INDEX, dynamoDBMapper, amazonDynamoDB);\n        this.dynamoDBMapper = dynamoDBMapper;\n        this.amazonDynamoDB = amazonDynamoDB;\n    }\n}\n</code></pre>\n<p><strong>RequestProcessingService</strong> class</p>\n<pre><code>@Service\n@CustomLog\npublic class RequestProcessingService {\n    @Autowired\n    private ProcessingErrorRepository processingErrorRepository;\n    @Autowired\n    private ErpDataRepository erpDataRepository;\n\n    public PaginatedDataResponse&lt;ProcessingError&gt; getProcessingErrors(String requestId) throws NotFoundException {\n        return getProcessingErrors(requestId, EcpConstants.DEFAULT_NEXT_PAGE);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":558626,"reputation":1783,"user_id":921075,"accept_rate":87,"display_name":"dtc"},"score":0,"creation_date":1594134138,"post_id":62777113,"comment_id":111016571,"body_markdown":"is there something happening with the files before you get to `uploadMultipleFiles`? also, is `writeByteArrayToFile` supposed to have file as the first argument?","body":"is there something happening with the files before you get to <code>uploadMultipleFiles</code>? also, is <code>writeByteArrayToFile</code> supposed to have file as the first argument?"},{"owner":{"account_id":4934030,"reputation":401,"user_id":3972814,"accept_rate":14,"display_name":"TheNightsWatch"},"score":0,"creation_date":1594134308,"post_id":62777113,"comment_id":111016676,"body_markdown":"I have updated the question with that method. Through debug I have seen that during aws upload itself some how file name is getting changed.","body":"I have updated the question with that method. Through debug I have seen that during aws upload itself some how file name is getting changed."},{"owner":{"account_id":4934030,"reputation":401,"user_id":3972814,"accept_rate":14,"display_name":"TheNightsWatch"},"score":0,"creation_date":1602152187,"post_id":62777113,"comment_id":113632539,"body_markdown":"On analysis, I found this issue is occurring in  TransferManager. If I switch to aws sdk putObject method then it is working fine.","body":"On analysis, I found this issue is occurring in  TransferManager. If I switch to aws sdk putObject method then it is working fine."}],"answers":[{"tags":[],"owner":{"account_id":26455376,"reputation":11,"user_id":20098013,"display_name":"OneWayDream"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664268744,"creation_date":1664268744,"answer_id":73864799,"question_id":62777113,"body_markdown":"The reason of the problem\r\n-------------------------\r\n\r\nYou lose the first two charecters of the file names because of the third argument of this method:\r\n```\r\ntransferManager.uploadFileList(bucketName, null, new File(&quot;.&quot;), files);\r\n```\r\n\r\nWhat happens in this case\r\n--------------------------\r\n\r\nSo, what is the third argument:\r\n\r\n```\r\n/**\r\n...\r\n* @param directory\r\n* The common parent directory of files to upload. The keys\r\n* of the files in the list of files are constructed relative to\r\n* this directory and the virtualDirectoryKeyPrefix.\r\n...\r\n*/\r\npublic MultipleFileUpload uploadFileList(... , File directory, ...){...}\r\n```\r\n\r\nAnd how will it be used:\r\n\r\n```\r\n...\r\nint startingPosition = directory.getAbsolutePath().length();\r\n            if (!(directory.getAbsolutePath().endsWith(File.separator)))\r\n                startingPosition++;\r\n...\r\nString key = f.getAbsolutePath().substring(startingPosition)...\r\n```\r\n\r\nThus, the directory variable is used to define a starting index to trim file paths to get file keys.\r\n\r\nWhen you pass **new File(&quot;.&quot;)** as a directory, the parent directory for your files will be **{your_path}.**\r\n\r\nBut this is a directory, and you need to work with files inside it. So the common part, retrieved from your directory file, is **{your_path}./** \r\n\r\nThat is 2 symbols more than you actually need. And for this reason this method trims the 2 extra characters - an extra shift of two characters when trimming the file path.\r\n\r\nThe solution\r\n------------\r\n\r\nIf you only need to work with the current directory, you can pass the current directory as follows:\r\n\r\n```\r\nMultipleFileUpload upload = transferManager.uploadFileList(bucketName, &quot;&quot;, \r\n                            System.getProperty(&quot;user.dir&quot;), files);\r\n```\r\n\r\nBut if you start working with external sources, it won&#39;t work. So you can use this code, which creates one MultipleFileUpload per group of files from one directory.\r\n\r\n```\r\n\r\nprivate final String PATH_SEPARATOR = File.separator;\r\nprivate String bucketName;\r\nprivate TransferManager transferManager;\r\n\r\npublic void uploadMultipleFiles(String prefix, List&lt;File&gt; filesToUpload){\r\n    Map&lt;File, List&lt;File&gt;&gt; multipleUploadArguments = \r\n                  getMultipleUploadArguments(filesToUpload);\r\n    for (Map.Entry&lt;File, List&lt;File&gt;&gt; multipleUploadArgument:\r\n                                      multipleUploadArguments.entrySet()){\r\n        try{\r\n            MultipleFileUpload upload = transferManager.uploadFileList(\r\n                    bucketName, prefix,\r\n                    multipleUploadArgument.getKey(),\r\n                    multipleUploadArgument.getValue()\r\n            );\r\n            upload.waitForCompletion();\r\n        } catch (InterruptedException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n}\r\n\r\nprivate Map&lt;File, List&lt;File&gt;&gt; getMultipleUploadArguments(List&lt;File&gt; filesToUpload){\r\n    return filesToUpload.stream()\r\n            .collect(Collectors.groupingBy(this::getDirectoryPathForFile));\r\n}\r\n\r\nprivate File getDirectoryPathForFile(File file){\r\n    String filePath = file.getAbsolutePath();\r\n    String directoryPath = filePath.substring(0, filePath.lastIndexOf(PATH_SEPARATOR));\r\n    return new File(directoryPath);\r\n}\r\n```","title":"AWS S3 upload file name mismatch","body":"<h2>The reason of the problem</h2>\n<p>You lose the first two charecters of the file names because of the third argument of this method:</p>\n<pre><code>transferManager.uploadFileList(bucketName, null, new File(&quot;.&quot;), files);\n</code></pre>\n<h2>What happens in this case</h2>\n<p>So, what is the third argument:</p>\n<pre><code>/**\n...\n* @param directory\n* The common parent directory of files to upload. The keys\n* of the files in the list of files are constructed relative to\n* this directory and the virtualDirectoryKeyPrefix.\n...\n*/\npublic MultipleFileUpload uploadFileList(... , File directory, ...){...}\n</code></pre>\n<p>And how will it be used:</p>\n<pre><code>...\nint startingPosition = directory.getAbsolutePath().length();\n            if (!(directory.getAbsolutePath().endsWith(File.separator)))\n                startingPosition++;\n...\nString key = f.getAbsolutePath().substring(startingPosition)...\n</code></pre>\n<p>Thus, the directory variable is used to define a starting index to trim file paths to get file keys.</p>\n<p>When you pass <strong>new File(&quot;.&quot;)</strong> as a directory, the parent directory for your files will be <strong>{your_path}.</strong></p>\n<p>But this is a directory, and you need to work with files inside it. So the common part, retrieved from your directory file, is <strong>{your_path}./</strong></p>\n<p>That is 2 symbols more than you actually need. And for this reason this method trims the 2 extra characters - an extra shift of two characters when trimming the file path.</p>\n<h2>The solution</h2>\n<p>If you only need to work with the current directory, you can pass the current directory as follows:</p>\n<pre><code>MultipleFileUpload upload = transferManager.uploadFileList(bucketName, &quot;&quot;, \n                            System.getProperty(&quot;user.dir&quot;), files);\n</code></pre>\n<p>But if you start working with external sources, it won't work. So you can use this code, which creates one MultipleFileUpload per group of files from one directory.</p>\n<pre><code>\nprivate final String PATH_SEPARATOR = File.separator;\nprivate String bucketName;\nprivate TransferManager transferManager;\n\npublic void uploadMultipleFiles(String prefix, List&lt;File&gt; filesToUpload){\n    Map&lt;File, List&lt;File&gt;&gt; multipleUploadArguments = \n                  getMultipleUploadArguments(filesToUpload);\n    for (Map.Entry&lt;File, List&lt;File&gt;&gt; multipleUploadArgument:\n                                      multipleUploadArguments.entrySet()){\n        try{\n            MultipleFileUpload upload = transferManager.uploadFileList(\n                    bucketName, prefix,\n                    multipleUploadArgument.getKey(),\n                    multipleUploadArgument.getValue()\n            );\n            upload.waitForCompletion();\n        } catch (InterruptedException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n}\n\nprivate Map&lt;File, List&lt;File&gt;&gt; getMultipleUploadArguments(List&lt;File&gt; filesToUpload){\n    return filesToUpload.stream()\n            .collect(Collectors.groupingBy(this::getDirectoryPathForFile));\n}\n\nprivate File getDirectoryPathForFile(File file){\n    String filePath = file.getAbsolutePath();\n    String directoryPath = filePath.substring(0, filePath.lastIndexOf(PATH_SEPARATOR));\n    return new File(directoryPath);\n}\n</code></pre>\n"}],"owner":{"account_id":4934030,"reputation":401,"user_id":3972814,"accept_rate":14,"display_name":"TheNightsWatch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664268744,"creation_date":1594130719,"question_id":62777113,"body_markdown":"I am able to upload multiple files to s3 bucket at once. However there is a mismatch in the file name the one I provided and uploaded file. I am interested in file name as I need to generate cloud front signed url based on that.\r\n\r\n**File generation code**\r\n```\r\nfinal String fileName = System.currentTimeMillis() + pictureData.getFileName();\r\nfinal File file = new File(fileName); //fileName is -&gt; 1594125913522_image1.png\r\nwriteByteArrayToFile(img, file);\r\n```\r\n\r\n**AWS file upload code**\r\n\r\n```\r\npublic void uploadMultipleFiles(final List&lt;File&gt; files) {\r\n\r\n\t\tfinal TransferManager transferManager = TransferManagerBuilder.standard().withS3Client(amazonS3).build();\r\n\t\ttry {\r\n\t\t\tfinal MultipleFileUpload xfer = transferManager.uploadFileList(bucketName, null, new File(&quot;.&quot;), files);\r\n\t\t\txfer.waitForCompletion();\r\n\t\t} catch (InterruptedException exception) {\r\n\t\t\tif (LOGGER.isInfoEnabled()) {\r\n\t\t\t\tLOGGER.info(&quot;InterruptedException occurred=&gt;&quot; + exception);\r\n\t\t\t}\r\n\t\t} catch (AmazonServiceException exception) {\r\n\t\t\tif (LOGGER.isInfoEnabled()) {\r\n\t\t\t\tLOGGER.info(&quot;AmazonServiceException occurred =&gt;&quot; + exception);\r\n\t\t\t}\r\n\t\t\tthrow exception;\r\n\t\t}\r\n\t}\r\n```\r\nUploaded file name is **94125913522_image1.png**. As you can see first two characters disappeared. What am I missing here. I am not able to figure out. Kindly advice.\r\n\r\n```\r\nprivate static void writeByteArrayToFile(final byte[] byteArray, final File file) {\r\n\t\ttry (OutputStream outputStream = new BufferedOutputStream(Files.newOutputStream(Paths.get(file.getName())))) {\r\n\t\t\toutputStream.write(byteArray);\r\n\t\t} catch (IOException exception) {\r\n\t\t\tthrow new FileIllegalStateException(&quot;Error while writing image to file&quot;, exception);\r\n\t\t}\r\n\t}\r\n```","title":"AWS S3 upload file name mismatch","body":"<p>I am able to upload multiple files to s3 bucket at once. However there is a mismatch in the file name the one I provided and uploaded file. I am interested in file name as I need to generate cloud front signed url based on that.</p>\n<p><strong>File generation code</strong></p>\n<pre><code>final String fileName = System.currentTimeMillis() + pictureData.getFileName();\nfinal File file = new File(fileName); //fileName is -&gt; 1594125913522_image1.png\nwriteByteArrayToFile(img, file);\n</code></pre>\n<p><strong>AWS file upload code</strong></p>\n<pre><code>public void uploadMultipleFiles(final List&lt;File&gt; files) {\n\n        final TransferManager transferManager = TransferManagerBuilder.standard().withS3Client(amazonS3).build();\n        try {\n            final MultipleFileUpload xfer = transferManager.uploadFileList(bucketName, null, new File(&quot;.&quot;), files);\n            xfer.waitForCompletion();\n        } catch (InterruptedException exception) {\n            if (LOGGER.isInfoEnabled()) {\n                LOGGER.info(&quot;InterruptedException occurred=&gt;&quot; + exception);\n            }\n        } catch (AmazonServiceException exception) {\n            if (LOGGER.isInfoEnabled()) {\n                LOGGER.info(&quot;AmazonServiceException occurred =&gt;&quot; + exception);\n            }\n            throw exception;\n        }\n    }\n</code></pre>\n<p>Uploaded file name is <strong>94125913522_image1.png</strong>. As you can see first two characters disappeared. What am I missing here. I am not able to figure out. Kindly advice.</p>\n<pre><code>private static void writeByteArrayToFile(final byte[] byteArray, final File file) {\n        try (OutputStream outputStream = new BufferedOutputStream(Files.newOutputStream(Paths.get(file.getName())))) {\n            outputStream.write(byteArray);\n        } catch (IOException exception) {\n            throw new FileIllegalStateException(&quot;Error while writing image to file&quot;, exception);\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664268682,"creation_date":1664258074,"answer_id":73862929,"question_id":73858125,"body_markdown":"If I understood correctly, you want to get the number of children that exist under the &quot;Products&quot; node, which has the field `productSeasonCategory` set to &quot;Spring&quot;. If that&#39;s the case, then instead of using a database reference, you should use a query, as you can see in the following lines of code:\r\n\r\n\tString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference productsRef = db.child(&quot;Users&quot;).child(uid).child(&quot;Products&quot;);\r\n\tQuery queryByProductSeasonCategory = productsRef.orderByChild(&quot;productSeasonCategory&quot;).equalTo(&quot;Spring&quot;);\r\n    queryByProductSeasonCategory.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tlong count = task.getResult().getChildrenCount();\r\n\t\t\t\tLog.d(&quot;TAG&quot;, &quot;count: &quot; + count);\r\n                Text1.settext(String.valueOf(count)) //Added\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});","title":"How to count the specific values from firebase in android studio?","body":"<p>If I understood correctly, you want to get the number of children that exist under the &quot;Products&quot; node, which has the field <code>productSeasonCategory</code> set to &quot;Spring&quot;. If that's the case, then instead of using a database reference, you should use a query, as you can see in the following lines of code:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference productsRef = db.child(&quot;Users&quot;).child(uid).child(&quot;Products&quot;);\nQuery queryByProductSeasonCategory = productsRef.orderByChild(&quot;productSeasonCategory&quot;).equalTo(&quot;Spring&quot;);\nqueryByProductSeasonCategory.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            long count = task.getResult().getChildrenCount();\n            Log.d(&quot;TAG&quot;, &quot;count: &quot; + count);\n            Text1.settext(String.valueOf(count)) //Added\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":26351306,"reputation":11,"user_id":20008872,"display_name":"kmskms"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664268682,"creation_date":1664215049,"question_id":73858125,"body_markdown":"There are four seasons in the category, but I want to count only &quot;Spring&quot;. Finally, I want to print the counted number on the screen.\r\nWhat should I do?\r\n\r\n[enter image description here][1]\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YpC7v.png\r\n  [2]: https://i.stack.imgur.com/4uyOJ.png","title":"How to count the specific values from firebase in android studio?","body":"<p>There are four seasons in the category, but I want to count only &quot;Spring&quot;. Finally, I want to print the counted number on the screen.\nWhat should I do?</p>\n<p><a href=\"https://i.stack.imgur.com/YpC7v.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/4uyOJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":118337,"reputation":170822,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"score":7,"creation_date":1275179769,"post_id":2937086,"comment_id":2991626,"body_markdown":"How to get the first day of the month? It&#39;s the one numbered `1`...","body":"How to get the first day of the month? It&#39;s the one numbered <code>1</code>..."},{"owner":{"account_id":1944316,"reputation":3606,"user_id":1749806,"accept_rate":100,"display_name":"Goran Horia Mihail"},"score":0,"creation_date":1392147586,"post_id":2937086,"comment_id":32829536,"body_markdown":"Yeah, but how to get the name of the 1st day of the month?","body":"Yeah, but how to get the name of the 1st day of the month?"}],"answers":[{"tags":[],"owner":{"account_id":102191,"reputation":40009,"user_id":274466,"display_name":"ig0774"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275179858,"creation_date":1275179858,"answer_id":2937101,"question_id":2937086,"body_markdown":"You should be able to convert your number to a Java Calendar, e.g.:\r\n\r\n     Calendar.getInstance().setTimeInMillis(myDate);\r\n\r\nFrom there, the comparison shouldn&#39;t be too hard.","title":"How to get the first day of the current week and month?","body":"<p>You should be able to convert your number to a Java Calendar, e.g.:</p>\n\n<pre><code> Calendar.getInstance().setTimeInMillis(myDate);\n</code></pre>\n\n<p>From there, the comparison shouldn't be too hard.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1275180915,"creation_date":1275180391,"answer_id":2937121,"question_id":2937086,"body_markdown":"The first day of week can be determined with help of [`java.util.Calendar`][1] as follows:\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.clear();\r\n    calendar.setTimeInMillis(timestamp);\r\n    while (calendar.get(Calendar.DAY_OF_WEEK) &gt; calendar.getFirstDayOfWeek()) {\r\n        calendar.add(Calendar.DATE, -1); // Substract 1 day until first day of week.\r\n    }\r\n    long firstDayOfWeekTimestamp = calendar.getTimeInMillis();\r\n\r\nThe first day of month can be determined as follows:\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.clear();\r\n    calendar.setTimeInMillis(timestamp);\r\n    while (calendar.get(Calendar.DATE) &gt; 1) {\r\n        calendar.add(Calendar.DATE, -1); // Substract 1 day until first day of month.\r\n    }\r\n    long firstDayOfMonthTimestamp = calendar.getTimeInMillis();\r\n\r\n\r\nPretty verbose, yes.\r\n\r\n---\r\n\r\nJava 7 will come with a much improved Date and Time API ([JSR-310][2]). If you can&#39;t switch yet, then you can as far use [JodaTime][3] which makes it all less complicated:\r\n\r\n    DateTime dateTime = new DateTime(timestamp);\r\n    long firstDayOfWeekTimestamp = dateTime.withDayOfWeek(1).getMillis();\r\n\r\nand\r\n\r\n    DateTime dateTime = new DateTime(timestamp);\r\n    long firstDayOfMonthTimestamp = dateTime.withDayOfMonth(1).getMillis();\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\r\n  [2]: https://jsr-310.dev.java.net/\r\n  [3]: http://joda-time.sourceforge.net/\r\n\r\n","title":"How to get the first day of the current week and month?","body":"<p>The first day of week can be determined with help of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>java.util.Calendar</code></a> as follows:</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.clear();\ncalendar.setTimeInMillis(timestamp);\nwhile (calendar.get(Calendar.DAY_OF_WEEK) &gt; calendar.getFirstDayOfWeek()) {\n    calendar.add(Calendar.DATE, -1); // Substract 1 day until first day of week.\n}\nlong firstDayOfWeekTimestamp = calendar.getTimeInMillis();\n</code></pre>\n\n<p>The first day of month can be determined as follows:</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.clear();\ncalendar.setTimeInMillis(timestamp);\nwhile (calendar.get(Calendar.DATE) &gt; 1) {\n    calendar.add(Calendar.DATE, -1); // Substract 1 day until first day of month.\n}\nlong firstDayOfMonthTimestamp = calendar.getTimeInMillis();\n</code></pre>\n\n<p>Pretty verbose, yes.</p>\n\n<hr>\n\n<p>Java 7 will come with a much improved Date and Time API (<a href=\"https://jsr-310.dev.java.net/\" rel=\"noreferrer\">JSR-310</a>). If you can't switch yet, then you can as far use <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">JodaTime</a> which makes it all less complicated:</p>\n\n<pre><code>DateTime dateTime = new DateTime(timestamp);\nlong firstDayOfWeekTimestamp = dateTime.withDayOfWeek(1).getMillis();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>DateTime dateTime = new DateTime(timestamp);\nlong firstDayOfMonthTimestamp = dateTime.withDayOfMonth(1).getMillis();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88993,"reputation":2497,"user_id":245813,"display_name":"COME FROM"},"down_vote_count":0,"up_vote_count":183,"is_accepted":true,"score":183,"last_activity_date":1356071896,"creation_date":1275215200,"answer_id":2938209,"question_id":2937086,"body_markdown":"This week in milliseconds:    \r\n\r\n    // get today and clear time of day\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.set(Calendar.HOUR_OF_DAY, 0); // ! clear would not reset the hour of day !\r\n    cal.clear(Calendar.MINUTE);\r\n    cal.clear(Calendar.SECOND);\r\n    cal.clear(Calendar.MILLISECOND);\r\n    \r\n    // get start of this week in milliseconds\r\n    cal.set(Calendar.DAY_OF_WEEK, cal.getFirstDayOfWeek());\r\n    System.out.println(&quot;Start of this week:       &quot; + cal.getTime());\r\n    System.out.println(&quot;... in milliseconds:      &quot; + cal.getTimeInMillis());\r\n    \r\n    // start of the next week\r\n    cal.add(Calendar.WEEK_OF_YEAR, 1);\r\n    System.out.println(&quot;Start of the next week:   &quot; + cal.getTime());\r\n    System.out.println(&quot;... in milliseconds:      &quot; + cal.getTimeInMillis());\r\n\r\nThis month in milliseconds:\r\n\r\n    // get today and clear time of day\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.set(Calendar.HOUR_OF_DAY, 0); // ! clear would not reset the hour of day !\r\n    cal.clear(Calendar.MINUTE);\r\n    cal.clear(Calendar.SECOND);\r\n    cal.clear(Calendar.MILLISECOND);\r\n    \r\n    // get start of the month\r\n    cal.set(Calendar.DAY_OF_MONTH, 1);\r\n    System.out.println(&quot;Start of the month:       &quot; + cal.getTime());\r\n    System.out.println(&quot;... in milliseconds:      &quot; + cal.getTimeInMillis());\r\n    \r\n    // get start of the next month\r\n    cal.add(Calendar.MONTH, 1);\r\n    System.out.println(&quot;Start of the next month:  &quot; + cal.getTime());\r\n    System.out.println(&quot;... in milliseconds:      &quot; + cal.getTimeInMillis());","title":"How to get the first day of the current week and month?","body":"<p>This week in milliseconds:    </p>\n\n<pre><code>// get today and clear time of day\nCalendar cal = Calendar.getInstance();\ncal.set(Calendar.HOUR_OF_DAY, 0); // ! clear would not reset the hour of day !\ncal.clear(Calendar.MINUTE);\ncal.clear(Calendar.SECOND);\ncal.clear(Calendar.MILLISECOND);\n\n// get start of this week in milliseconds\ncal.set(Calendar.DAY_OF_WEEK, cal.getFirstDayOfWeek());\nSystem.out.println(\"Start of this week:       \" + cal.getTime());\nSystem.out.println(\"... in milliseconds:      \" + cal.getTimeInMillis());\n\n// start of the next week\ncal.add(Calendar.WEEK_OF_YEAR, 1);\nSystem.out.println(\"Start of the next week:   \" + cal.getTime());\nSystem.out.println(\"... in milliseconds:      \" + cal.getTimeInMillis());\n</code></pre>\n\n<p>This month in milliseconds:</p>\n\n<pre><code>// get today and clear time of day\nCalendar cal = Calendar.getInstance();\ncal.set(Calendar.HOUR_OF_DAY, 0); // ! clear would not reset the hour of day !\ncal.clear(Calendar.MINUTE);\ncal.clear(Calendar.SECOND);\ncal.clear(Calendar.MILLISECOND);\n\n// get start of the month\ncal.set(Calendar.DAY_OF_MONTH, 1);\nSystem.out.println(\"Start of the month:       \" + cal.getTime());\nSystem.out.println(\"... in milliseconds:      \" + cal.getTimeInMillis());\n\n// get start of the next month\ncal.add(Calendar.MONTH, 1);\nSystem.out.println(\"Start of the next month:  \" + cal.getTime());\nSystem.out.println(\"... in milliseconds:      \" + cal.getTimeInMillis());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38237,"reputation":37,"user_id":109612,"display_name":"cesarlinux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1275320201,"creation_date":1275320201,"answer_id":2944519,"question_id":2937086,"body_markdown":"In this case:\r\n\r\n    // get today and clear time of day\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.clear(Calendar.HOUR_OF_DAY);  &lt;---- is the current hour not 0 hour\r\n    cal.clear(Calendar.MINUTE);\r\n    cal.clear(Calendar.SECOND);\r\n    cal.clear(Calendar.MILLISECOND);\r\n\r\nSo the Calendar.HOUR_OF_DAY returns 8, 9, 12, 15, 18 as the current running hour.\r\nI think will be better change such line by:\r\n\r\n    c.set(Calendar.HOUR_OF_DAY,0);\r\nthis way the day always begin at 0 hour","title":"How to get the first day of the current week and month?","body":"<p>In this case:</p>\n\n<pre><code>// get today and clear time of day\nCalendar cal = Calendar.getInstance();\ncal.clear(Calendar.HOUR_OF_DAY);  &lt;---- is the current hour not 0 hour\ncal.clear(Calendar.MINUTE);\ncal.clear(Calendar.SECOND);\ncal.clear(Calendar.MILLISECOND);\n</code></pre>\n\n<p>So the Calendar.HOUR_OF_DAY returns 8, 9, 12, 15, 18 as the current running hour.\nI think will be better change such line by:</p>\n\n<pre><code>c.set(Calendar.HOUR_OF_DAY,0);\n</code></pre>\n\n<p>this way the day always begin at 0 hour</p>\n"},{"tags":[],"owner":{"account_id":45674,"reputation":11408,"user_id":134758,"display_name":"Diego Pino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345647625,"creation_date":1345647625,"answer_id":12075998,"question_id":2937086,"body_markdown":"To get the first day of the month, simply get a `Date` and set the current day to day 1 of the month. Clear hour, minute, second and milliseconds if you need it.\r\n\r\n    private static Date firstDayOfMonth(Date date) {\r\n       Calendar calendar = Calendar.getInstance();\r\n       calendar.setTime(date);\r\n       calendar.set(Calendar.DATE, 1);\r\n       return calendar.getTime();\r\n    }\r\n\r\nFirst day of the week is the same thing, but using `Calendar.DAY_OF_WEEK` instead\r\n\r\n    private static Date firstDayOfWeek(Date date) {\r\n       Calendar calendar = Calendar.getInstance();\r\n       calendar.setTime(date);\r\n       calendar.set(Calendar.DAY_OF_WEEK, 1);\r\n       return calendar.getTime();\r\n    }","title":"How to get the first day of the current week and month?","body":"<p>To get the first day of the month, simply get a <code>Date</code> and set the current day to day 1 of the month. Clear hour, minute, second and milliseconds if you need it.</p>\n\n<pre><code>private static Date firstDayOfMonth(Date date) {\n   Calendar calendar = Calendar.getInstance();\n   calendar.setTime(date);\n   calendar.set(Calendar.DATE, 1);\n   return calendar.getTime();\n}\n</code></pre>\n\n<p>First day of the week is the same thing, but using <code>Calendar.DAY_OF_WEEK</code> instead</p>\n\n<pre><code>private static Date firstDayOfWeek(Date date) {\n   Calendar calendar = Calendar.getInstance();\n   calendar.setTime(date);\n   calendar.set(Calendar.DAY_OF_WEEK, 1);\n   return calendar.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1260931,"reputation":6212,"user_id":1219241,"display_name":"alcsan"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1349625964,"creation_date":1349625964,"answer_id":12770429,"question_id":2937086,"body_markdown":"Attention!\r\n\r\n    while (calendar.get(Calendar.DAY_OF_WEEK) &gt; calendar.getFirstDayOfWeek()) {\r\n        calendar.add(Calendar.DATE, -1); // Substract 1 day until first day of week.\r\n    }\r\n\r\nis good idea, but there is some issue:\r\nFor example, i&#39;m from Ukraine and calendar.getFirstDayOfWeek() in my country is 2 (Monday).\r\nAnd today is 1 (Sunday). In this case calendar.add not called.\r\n\r\nSo, correct way is change &quot;&gt;&quot; to &quot;!=&quot;:\r\n\r\n    while (calendar.get(Calendar.DAY_OF_WEEK) != calendar.getFirstDayOfWeek()) {...","title":"How to get the first day of the current week and month?","body":"<p>Attention!</p>\n\n<pre><code>while (calendar.get(Calendar.DAY_OF_WEEK) &gt; calendar.getFirstDayOfWeek()) {\n    calendar.add(Calendar.DATE, -1); // Substract 1 day until first day of week.\n}\n</code></pre>\n\n<p>is good idea, but there is some issue:\nFor example, i'm from Ukraine and calendar.getFirstDayOfWeek() in my country is 2 (Monday).\nAnd today is 1 (Sunday). In this case calendar.add not called.</p>\n\n<p>So, correct way is change \">\" to \"!=\":</p>\n\n<pre><code>while (calendar.get(Calendar.DAY_OF_WEEK) != calendar.getFirstDayOfWeek()) {...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5294870,"reputation":1,"user_id":4226294,"display_name":"Manoj Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415355005,"creation_date":1415355005,"answer_id":26798795,"question_id":2937086,"body_markdown":"\timport java.text.SimpleDateFormat;\r\n\timport java.util.Calendar;\r\n\timport java.util.GregorianCalendar;\r\n\timport java.util.Scanner;\r\n\t\r\n\t/**\r\n\tThis Program will display day for, 1st and last days in a given month and year\r\n\t\r\n\t@author Manoj Kumar Dunna\r\n\tMail Id : manojdunna@gmail.com\r\n\t*/\r\n\tpublic class DayOfWeek {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString strDate = null;\r\n\t\t\tint  year = 0, month = 0;\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Enter YYYY/MM: &quot;);\r\n\t\t\tstrDate = sc.next();\r\n\t\t\tCalendar cal = new GregorianCalendar();\r\n\t\t\tString [] date = strDate.split(&quot;/&quot;);\r\n\t\t\tyear = Integer.parseInt(date[0]);\r\n\t\t\tmonth = Integer.parseInt(date[1]);\r\n\t\t\tcal.set(year, month-1, 1);\r\n\t\t\tSystem.out.println(new SimpleDateFormat(&quot;EEEE&quot;).format(cal.getTime()));\r\n\t\t\tcal.add(Calendar.MONTH, 1);\r\n\t        cal.add(Calendar.DAY_OF_YEAR, -1);\r\n\t\t\tSystem.out.println(new SimpleDateFormat(&quot;EEEE&quot;).format(cal.getTime()));\r\n\t\t}\r\n\t}","title":"How to get the first day of the current week and month?","body":"<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.GregorianCalendar;\nimport java.util.Scanner;\n\n/**\nThis Program will display day for, 1st and last days in a given month and year\n\n@author Manoj Kumar Dunna\nMail Id : manojdunna@gmail.com\n*/\npublic class DayOfWeek {\n    public static void main(String[] args) {\n        String strDate = null;\n        int  year = 0, month = 0;\n        Scanner sc = new Scanner(System.in);\n        System.out.print(\"Enter YYYY/MM: \");\n        strDate = sc.next();\n        Calendar cal = new GregorianCalendar();\n        String [] date = strDate.split(\"/\");\n        year = Integer.parseInt(date[0]);\n        month = Integer.parseInt(date[1]);\n        cal.set(year, month-1, 1);\n        System.out.println(new SimpleDateFormat(\"EEEE\").format(cal.getTime()));\n        cal.add(Calendar.MONTH, 1);\n        cal.add(Calendar.DAY_OF_YEAR, -1);\n        System.out.println(new SimpleDateFormat(\"EEEE\").format(cal.getTime()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1560130132,"creation_date":1446961707,"answer_id":33591149,"question_id":2937086,"body_markdown":"# java.time\r\n\r\nThe [java.time][1] framework in Java 8 and later supplants the old java.util.Date/.Calendar classes. The old classes have proven to be troublesome, confusing, and flawed. Avoid them.\r\n\r\nThe java.time framework is inspired by the highly-successful [Joda-Time](http://www.joda.org/joda-time/) library, defined by [JSR&#160;310](http://jcp.org/en/jsr/detail?id=310), extended by the [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project, and explained in the [Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html).\r\n\r\n## `Instant` \r\n\r\nThe `Instant` class represents a moment on the timeline in [UTC][2].\r\n\r\nThe java.time framework has a resolution of nanoseconds, or 9 digits of a fractional second. Milliseconds is only 3 digits of a fractional second. Because [millisecond resolution][3] is common, java.time includes a handy factory method.\r\n\r\n    long millisecondsSinceEpoch = 1446959825213L;\r\n    Instant instant = Instant.ofEpochMilli ( millisecondsSinceEpoch );\r\n\r\n&gt;millisecondsSinceEpoch: 1446959825213 is instant: 2015-11-08T05:17:05.213Z\r\n\r\n## `ZonedDateTime`\r\n\r\nTo consider current week and current month, we need to apply a particular time zone. \r\n\r\n    ZoneId zoneId = ZoneId.of ( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant ( instant , zoneId );\r\n\r\n&gt;In zoneId: America/Montreal that is: 2015-11-08T00:17:05.213-05:00[America/Montreal]\r\n\r\n## Half-Open\r\n\r\nIn date-time work, we commonly use the Half-Open approach to defining a span of time. The beginning is *inclusive* while the ending in *exclusive*. Rather than try to determine the last split-second of the end of the week (or month), we get the first moment of the *following* week (or month). So a week runs from the first moment of Monday and goes up to *but not including* the first moment of the *following* Monday. \r\n\r\nLet&#39;s the first day of the week, and last. The java.time framework includes a tool for that, the [`with`][4] method and the [`ChronoField`][5] enum. \r\n\r\nBy default, java.time uses the [ISO 8601][6] standard. So Monday is the first day of the week (1) and Sunday is last (7).\r\n\r\n    ZonedDateTime firstOfWeek = zdt.with ( ChronoField.DAY_OF_WEEK , 1 ); // ISO 8601, Monday is first day of week.\r\n    ZonedDateTime firstOfNextWeek = firstOfWeek.plusWeeks ( 1 );\r\n\r\n&gt;That week runs from: 2015-11-02T00:17:05.213-05:00[America/Montreal] to 2015-11-09T00:17:05.213-05:00[America/Montreal]\r\n\r\nOops! Look at the time-of-day on those values. We want the first moment of the day. The first moment of the day is not always `00:00:00.000` because of Daylight Saving Time (DST) or other anomalies. So we should let java.time make the adjustment on our behalf. To do that, we must go through the `LocalDate` class.\r\n\r\n    ZonedDateTime firstOfWeek = zdt.with ( ChronoField.DAY_OF_WEEK , 1 ); // ISO 8601, Monday is first day of week.\r\n    firstOfWeek = firstOfWeek.toLocalDate ().atStartOfDay ( zoneId );\r\n    ZonedDateTime firstOfNextWeek = firstOfWeek.plusWeeks ( 1 );\r\n\r\n&gt;That week runs from: 2015-11-02T00:00-05:00[America/Montreal] to 2015-11-09T00:00-05:00[America/Montreal]\r\n\r\nAnd same for the month.\r\n\r\n    ZonedDateTime firstOfMonth = zdt.with ( ChronoField.DAY_OF_MONTH , 1 );\r\n    firstOfMonth = firstOfMonth.toLocalDate ().atStartOfDay ( zoneId );\r\n    ZonedDateTime firstOfNextMonth = firstOfMonth.plusMonths ( 1 );\r\n\r\n&gt;That month runs from: 2015-11-01T00:00-04:00[America/Montreal] to 2015-12-01T00:00-05:00[America/Montreal]\r\n\r\n# `YearMonth`\r\n\r\nAnother way to see if a pair of moments are in the same month is to check for the same [`YearMonth`][7] value. \r\n\r\nFor example, assuming `thisZdt` and `thatZdt` are both `ZonedDateTime` objects:\r\n\r\n    boolean inSameMonth = YearMonth.from( thisZdt ).equals( YearMonth.from( thatZdt ) ) ;\r\n\r\n## Milliseconds\r\n\r\nI strongly recommend against doing your date-time work in milliseconds-from-epoch. That is indeed the way date-time classes tend to work internally, but we have the classes for a reason. Handling a count-from-epoch is clumsy as the values are not intelligible by humans so debugging and logging is difficult and error-prone. And, as we&#39;ve already seen, different resolutions may be in play; old Java classes and Joda-Time library use milliseconds, while databases like Postgres use microseconds, and now java.time uses nanoseconds.\r\n\r\nWould you handle text as bits, or do you let classes such as `String`, `StringBuffer`, and `StringBuilder` handle such details?\r\n\r\nBut if you insist, from a `ZonedDateTime` get an `Instant`, and from that get a milliseconds-count-from-epoch. But keep in mind **this call can mean loss of data**. Any microseconds or nanoseconds that you might have in your `ZonedDateTime`/`Instant` will be truncated (lost).\r\n\r\n    long millis = firstOfWeek.toInstant().toEpochMilli();  // Possible data loss.\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [3]: http://currentmillis.com\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#with-java.time.temporal.TemporalField-long-\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html\r\n  [6]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html","title":"How to get the first day of the current week and month?","body":"<h1>java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework in Java 8 and later supplants the old java.util.Date/.Calendar classes. The old classes have proven to be troublesome, confusing, and flawed. Avoid them.</p>\n\n<p>The java.time framework is inspired by the highly-successful <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> library, defined by <a href=\"http://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>, extended by the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project, and explained in the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Tutorial</a>.</p>\n\n<h2><code>Instant</code></h2>\n\n<p>The <code>Instant</code> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>.</p>\n\n<p>The java.time framework has a resolution of nanoseconds, or 9 digits of a fractional second. Milliseconds is only 3 digits of a fractional second. Because <a href=\"http://currentmillis.com\" rel=\"noreferrer\">millisecond resolution</a> is common, java.time includes a handy factory method.</p>\n\n<pre><code>long millisecondsSinceEpoch = 1446959825213L;\nInstant instant = Instant.ofEpochMilli ( millisecondsSinceEpoch );\n</code></pre>\n\n<blockquote>\n  <p>millisecondsSinceEpoch: 1446959825213 is instant: 2015-11-08T05:17:05.213Z</p>\n</blockquote>\n\n<h2><code>ZonedDateTime</code></h2>\n\n<p>To consider current week and current month, we need to apply a particular time zone. </p>\n\n<pre><code>ZoneId zoneId = ZoneId.of ( \"America/Montreal\" );\nZonedDateTime zdt = ZonedDateTime.ofInstant ( instant , zoneId );\n</code></pre>\n\n<blockquote>\n  <p>In zoneId: America/Montreal that is: 2015-11-08T00:17:05.213-05:00[America/Montreal]</p>\n</blockquote>\n\n<h2>Half-Open</h2>\n\n<p>In date-time work, we commonly use the Half-Open approach to defining a span of time. The beginning is <em>inclusive</em> while the ending in <em>exclusive</em>. Rather than try to determine the last split-second of the end of the week (or month), we get the first moment of the <em>following</em> week (or month). So a week runs from the first moment of Monday and goes up to <em>but not including</em> the first moment of the <em>following</em> Monday. </p>\n\n<p>Let's the first day of the week, and last. The java.time framework includes a tool for that, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#with-java.time.temporal.TemporalField-long-\" rel=\"noreferrer\"><code>with</code></a> method and the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html\" rel=\"noreferrer\"><code>ChronoField</code></a> enum. </p>\n\n<p>By default, java.time uses the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> standard. So Monday is the first day of the week (1) and Sunday is last (7).</p>\n\n<pre><code>ZonedDateTime firstOfWeek = zdt.with ( ChronoField.DAY_OF_WEEK , 1 ); // ISO 8601, Monday is first day of week.\nZonedDateTime firstOfNextWeek = firstOfWeek.plusWeeks ( 1 );\n</code></pre>\n\n<blockquote>\n  <p>That week runs from: 2015-11-02T00:17:05.213-05:00[America/Montreal] to 2015-11-09T00:17:05.213-05:00[America/Montreal]</p>\n</blockquote>\n\n<p>Oops! Look at the time-of-day on those values. We want the first moment of the day. The first moment of the day is not always <code>00:00:00.000</code> because of Daylight Saving Time (DST) or other anomalies. So we should let java.time make the adjustment on our behalf. To do that, we must go through the <code>LocalDate</code> class.</p>\n\n<pre><code>ZonedDateTime firstOfWeek = zdt.with ( ChronoField.DAY_OF_WEEK , 1 ); // ISO 8601, Monday is first day of week.\nfirstOfWeek = firstOfWeek.toLocalDate ().atStartOfDay ( zoneId );\nZonedDateTime firstOfNextWeek = firstOfWeek.plusWeeks ( 1 );\n</code></pre>\n\n<blockquote>\n  <p>That week runs from: 2015-11-02T00:00-05:00[America/Montreal] to 2015-11-09T00:00-05:00[America/Montreal]</p>\n</blockquote>\n\n<p>And same for the month.</p>\n\n<pre><code>ZonedDateTime firstOfMonth = zdt.with ( ChronoField.DAY_OF_MONTH , 1 );\nfirstOfMonth = firstOfMonth.toLocalDate ().atStartOfDay ( zoneId );\nZonedDateTime firstOfNextMonth = firstOfMonth.plusMonths ( 1 );\n</code></pre>\n\n<blockquote>\n  <p>That month runs from: 2015-11-01T00:00-04:00[America/Montreal] to 2015-12-01T00:00-05:00[America/Montreal]</p>\n</blockquote>\n\n<h1><code>YearMonth</code></h1>\n\n<p>Another way to see if a pair of moments are in the same month is to check for the same <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"noreferrer\"><code>YearMonth</code></a> value. </p>\n\n<p>For example, assuming <code>thisZdt</code> and <code>thatZdt</code> are both <code>ZonedDateTime</code> objects:</p>\n\n<pre><code>boolean inSameMonth = YearMonth.from( thisZdt ).equals( YearMonth.from( thatZdt ) ) ;\n</code></pre>\n\n<h2>Milliseconds</h2>\n\n<p>I strongly recommend against doing your date-time work in milliseconds-from-epoch. That is indeed the way date-time classes tend to work internally, but we have the classes for a reason. Handling a count-from-epoch is clumsy as the values are not intelligible by humans so debugging and logging is difficult and error-prone. And, as we've already seen, different resolutions may be in play; old Java classes and Joda-Time library use milliseconds, while databases like Postgres use microseconds, and now java.time uses nanoseconds.</p>\n\n<p>Would you handle text as bits, or do you let classes such as <code>String</code>, <code>StringBuffer</code>, and <code>StringBuilder</code> handle such details?</p>\n\n<p>But if you insist, from a <code>ZonedDateTime</code> get an <code>Instant</code>, and from that get a milliseconds-count-from-epoch. But keep in mind <strong>this call can mean loss of data</strong>. Any microseconds or nanoseconds that you might have in your <code>ZonedDateTime</code>/<code>Instant</code> will be truncated (lost).</p>\n\n<pre><code>long millis = firstOfWeek.toInstant().toEpochMilli();  // Possible data loss.\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7680597,"reputation":1,"user_id":5819936,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453362161,"creation_date":1453362161,"answer_id":34917982,"question_id":2937086,"body_markdown":"    Simple Solution:\r\n    package com.util.calendarutil;\r\n    \r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.GregorianCalendar;\r\n    \r\n    public class CalUtil {\r\n    \tpublic static void main(String args[]){\r\n    \t\tDateFormat df = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;);\r\n    \t\tDate dt = null;\r\n    \t\ttry {\r\n    \t\t\tdt = df.parse(&quot;23/01/2016&quot;);\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\tSystem.out.println(&quot;Error&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(dt);\r\n    \t\tcal.set(Calendar.DAY_OF_WEEK, cal.getFirstDayOfWeek());\r\n    \t\tDate startDate = cal.getTime();\r\n    \t\tcal.add(Calendar.DATE, 6);\r\n    \t\tDate endDate = cal.getTime();\r\n    \t\tSystem.out.println(&quot;Start Date:&quot;+startDate+&quot;End Date:&quot;+endDate);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to get the first day of the current week and month?","body":"<pre><code>Simple Solution:\npackage com.util.calendarutil;\n\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.GregorianCalendar;\n\npublic class CalUtil {\n    public static void main(String args[]){\n        DateFormat df = new SimpleDateFormat(\"dd/mm/yyyy\");\n        Date dt = null;\n        try {\n            dt = df.parse(\"23/01/2016\");\n        } catch (ParseException e) {\n            System.out.println(\"Error\");\n        }\n\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(dt);\n        cal.set(Calendar.DAY_OF_WEEK, cal.getFirstDayOfWeek());\n        Date startDate = cal.getTime();\n        cal.add(Calendar.DATE, 6);\n        Date endDate = cal.getTime();\n        System.out.println(\"Start Date:\"+startDate+\"End Date:\"+endDate);\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6460531,"reputation":1339,"user_id":5004526,"display_name":"Alberto Cerqueira"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481050605,"creation_date":1481050605,"answer_id":41002783,"question_id":2937086,"body_markdown":"I have created some methods for this:\r\n\r\n    public static String catchLastDayOfCurrentWeek(String pattern) {\r\n\t\tCalendar cal = Calendar.getInstance();\r\n\t\tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n\t\tcal.clear(Calendar.MINUTE);\r\n\t\tcal.clear(Calendar.SECOND);\r\n\t\tcal.clear(Calendar.MILLISECOND);\r\n\t\t\r\n\t\tcal.set(Calendar.DAY_OF_WEEK, cal.getFirstDayOfWeek());\r\n\r\n\t\treturn calendarToString(cal, pattern);\r\n\t}\r\n\t\r\n\tpublic static String catchLastDayOfCurrentWeek(String pattern) {\r\n\t\tCalendar cal = Calendar.getInstance();\r\n\t\tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n\t\tcal.clear(Calendar.MINUTE);\r\n\t\tcal.clear(Calendar.SECOND);\r\n\t\tcal.clear(Calendar.MILLISECOND);\r\n\t\t\r\n\t\tcal.set(Calendar.DAY_OF_WEEK, cal.getFirstDayOfWeek());\r\n\t\t\r\n\t\tcal.add(Calendar.WEEK_OF_YEAR, 1);\r\n\t\tcal.add(Calendar.MILLISECOND, -1);\r\n\r\n\t\treturn calendarToString(cal, pattern);\r\n\t}\r\n\r\n    public static String catchTheFirstDayOfThemonth(Integer month, pattern padrao) {\r\n    \tCalendar cal = GregorianCalendar.getInstance();\r\n    \tcal.setTime(new Date());\r\n   \t\tcal.set(Calendar.MONTH, month);\r\n    \tcal.set(Calendar.DAY_OF_MONTH, 1);\r\n    \r\n    \treturn calendarToString(cal, pattern);\r\n   \t}\r\n\r\n    public static String catchTheLastDayOfThemonth(Integer month, String pattern) {\r\n    \tCalendar cal = GregorianCalendar.getInstance();\r\n    \tcal.setTime(new Date());\r\n   \t\tcal.set(cal.get(Calendar.YEAR), month, cal.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n    \t\t\r\n    \treturn calendarToString(cal, pattern);\r\n    }\r\n\r\n\tpublic static String calendarToString(Calendar calendar, String pattern) {\r\n\t\tif (calendar == null) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\tSimpleDateFormat format = new SimpleDateFormat(pattern, LocaleUtils.DEFAULT_LOCALE);\r\n\t\treturn format.format(calendar.getTime());\r\n\t}\r\n\r\nYou can see more [here][1].\r\n\r\n\r\n  [1]: https://github.com/albertocerqueira/java-utils/blob/master/src/main/java/com/java/utils/DateUtils.java","title":"How to get the first day of the current week and month?","body":"<p>I have created some methods for this:</p>\n\n<pre><code>public static String catchLastDayOfCurrentWeek(String pattern) {\n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.clear(Calendar.MINUTE);\n    cal.clear(Calendar.SECOND);\n    cal.clear(Calendar.MILLISECOND);\n\n    cal.set(Calendar.DAY_OF_WEEK, cal.getFirstDayOfWeek());\n\n    return calendarToString(cal, pattern);\n}\n\npublic static String catchLastDayOfCurrentWeek(String pattern) {\n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.clear(Calendar.MINUTE);\n    cal.clear(Calendar.SECOND);\n    cal.clear(Calendar.MILLISECOND);\n\n    cal.set(Calendar.DAY_OF_WEEK, cal.getFirstDayOfWeek());\n\n    cal.add(Calendar.WEEK_OF_YEAR, 1);\n    cal.add(Calendar.MILLISECOND, -1);\n\n    return calendarToString(cal, pattern);\n}\n\npublic static String catchTheFirstDayOfThemonth(Integer month, pattern padrao) {\n    Calendar cal = GregorianCalendar.getInstance();\n    cal.setTime(new Date());\n    cal.set(Calendar.MONTH, month);\n    cal.set(Calendar.DAY_OF_MONTH, 1);\n\n    return calendarToString(cal, pattern);\n}\n\npublic static String catchTheLastDayOfThemonth(Integer month, String pattern) {\n    Calendar cal = GregorianCalendar.getInstance();\n    cal.setTime(new Date());\n    cal.set(cal.get(Calendar.YEAR), month, cal.getActualMaximum(Calendar.DAY_OF_MONTH));\n\n    return calendarToString(cal, pattern);\n}\n\npublic static String calendarToString(Calendar calendar, String pattern) {\n    if (calendar == null) {\n        return \"\";\n    }\n    SimpleDateFormat format = new SimpleDateFormat(pattern, LocaleUtils.DEFAULT_LOCALE);\n    return format.format(calendar.getTime());\n}\n</code></pre>\n\n<p>You can see more <a href=\"https://github.com/albertocerqueira/java-utils/blob/master/src/main/java/com/java/utils/DateUtils.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11119041,"reputation":1,"user_id":8162514,"display_name":"vikash kumar"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1497469188,"creation_date":1497469188,"answer_id":44553368,"question_id":2937086,"body_markdown":"    public static void main(String[] args) {\r\n\t\tSystem.out.println(getMonthlyEpochList(1498867199L,12,&quot;Monthly&quot;));\r\n\r\n\t}\r\n\t\r\n\tpublic static Map&lt;String,String&gt; getMonthlyEpochList(Long currentEpoch, int noOfTerms, String timeMode) {\r\n\t\tMap&lt;String,String&gt; map = new LinkedHashMap&lt;String,String&gt;();\r\n\t\tint month = 0;\r\n\t\twhile(noOfTerms != 0) {\r\n\t\t\tCalendar calendar = Calendar.getInstance();         \r\n\t\t\tcalendar.add(Calendar.MONTH, month);\r\n\t\t\tcalendar.set(Calendar.DATE, calendar.getActualMinimum(Calendar.DAY_OF_MONTH));\r\n\t\t\tDate monthFirstDay = calendar.getTime();\r\n\t\t\tcalendar.set(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n\t\t\tDate monthLastDay = calendar.getTime();\r\n\t\t\tmap.put(getMMYY(monthFirstDay.getTime()), monthFirstDay + &quot;:&quot; +monthLastDay);\r\n\t\t\tmonth--;\r\n\t\t\tnoOfTerms--;\r\n\t\t}\r\n\t\treturn map;\t\t\r\n\t}\r\n","title":"How to get the first day of the current week and month?","body":"<pre><code>public static void main(String[] args) {\n    System.out.println(getMonthlyEpochList(1498867199L,12,\"Monthly\"));\n\n}\n\npublic static Map&lt;String,String&gt; getMonthlyEpochList(Long currentEpoch, int noOfTerms, String timeMode) {\n    Map&lt;String,String&gt; map = new LinkedHashMap&lt;String,String&gt;();\n    int month = 0;\n    while(noOfTerms != 0) {\n        Calendar calendar = Calendar.getInstance();         \n        calendar.add(Calendar.MONTH, month);\n        calendar.set(Calendar.DATE, calendar.getActualMinimum(Calendar.DAY_OF_MONTH));\n        Date monthFirstDay = calendar.getTime();\n        calendar.set(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\n        Date monthLastDay = calendar.getTime();\n        map.put(getMMYY(monthFirstDay.getTime()), monthFirstDay + \":\" +monthLastDay);\n        month--;\n        noOfTerms--;\n    }\n    return map;     \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13485816,"reputation":11,"user_id":9729661,"display_name":"Navjot Kaur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525259447,"creation_date":1525257525,"answer_id":50132639,"question_id":2937086,"body_markdown":"**Get First date of next month**:-\r\n\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;);\r\n    String selectedDate=&quot;MM-dd-yyyy like 07-02-2018&quot;;\r\n    Date dt = df.parse(selectedDate);`enter code here`\r\n    calendar = Calendar.getInstance();\r\n    calendar.setTime(dt);\r\n    calendar.set(Calendar.DAY_OF_MONTH, calendar.getActualMaximum(Calendar.DAY_OF_MONTH) + 1);\r\n\r\n    String firstDate = df.format(calendar.getTime());\r\n    System.out.println(&quot;firstDateof next month ==&gt;&quot; + firstDate);","title":"How to get the first day of the current week and month?","body":"<p><strong>Get First date of next month</strong>:-</p>\n\n<pre><code>SimpleDateFormat df = new SimpleDateFormat(\"MM-dd-yyyy\");\nString selectedDate=\"MM-dd-yyyy like 07-02-2018\";\nDate dt = df.parse(selectedDate);`enter code here`\ncalendar = Calendar.getInstance();\ncalendar.setTime(dt);\ncalendar.set(Calendar.DAY_OF_MONTH, calendar.getActualMaximum(Calendar.DAY_OF_MONTH) + 1);\n\nString firstDate = df.format(calendar.getTime());\nSystem.out.println(\"firstDateof next month ==&gt;\" + firstDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13316547,"reputation":33,"user_id":9612786,"display_name":"ahmed mohammed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1560113041,"creation_date":1560113041,"answer_id":56518245,"question_id":2937086,"body_markdown":"i use this trick to get the first day of the current month\r\nnote the order is\r\n1 for Sunday\r\n2 for Monday\r\n3 for Tuesday\r\n.... and so on\r\n\r\n    Calendar cal = new GregorianCalendar();\r\n    int startDay = cal.get(Calendar.DAY_OF_YEAR) % 7 + 1;\r\n    System.out.println(startDay);","title":"How to get the first day of the current week and month?","body":"<p>i use this trick to get the first day of the current month\nnote the order is\n1 for Sunday\n2 for Monday\n3 for Tuesday\n.... and so on</p>\n\n<pre><code>Calendar cal = new GregorianCalendar();\nint startDay = cal.get(Calendar.DAY_OF_YEAR) % 7 + 1;\nSystem.out.println(startDay);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15177234,"reputation":925,"user_id":10951602,"display_name":"xxxception"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1581880547,"creation_date":1581880547,"answer_id":60252243,"question_id":2937086,"body_markdown":"You can use the `java.time` package (since Java8 and late) to get start/end of day/week/month.  \r\nThe util class example below:  \r\n\r\n    import org.junit.Test;\r\n    \r\n    import java.time.DayOfWeek;\r\n    import java.time.LocalDateTime;\r\n    import java.time.LocalTime;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.TemporalAdjusters;\r\n    import java.util.Date;\r\n    \r\n    public class DateUtil {\r\n        private static final ZoneId DEFAULT_ZONE_ID = ZoneId.of(&quot;UTC&quot;);\r\n    \r\n        public static LocalDateTime startOfDay() {\r\n            return LocalDateTime.now(DEFAULT_ZONE_ID).with(LocalTime.MIN);\r\n        }\r\n    \r\n        public static LocalDateTime endOfDay() {\r\n            return LocalDateTime.now(DEFAULT_ZONE_ID).with(LocalTime.MAX);\r\n        }\r\n    \r\n        public static boolean belongsToCurrentDay(final LocalDateTime localDateTime) {\r\n            return localDateTime.isAfter(startOfDay()) &amp;&amp; localDateTime.isBefore(endOfDay());\r\n        }\r\n    \r\n        //note that week starts with Monday\r\n        public static LocalDateTime startOfWeek() {\r\n            return LocalDateTime.now(DEFAULT_ZONE_ID)\r\n                    .with(LocalTime.MIN)\r\n                    .with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY));\r\n        }\r\n    \r\n        //note that week ends with Sunday\r\n        public static LocalDateTime endOfWeek() {\r\n            return LocalDateTime.now(DEFAULT_ZONE_ID)\r\n                    .with(LocalTime.MAX)\r\n                    .with(TemporalAdjusters.nextOrSame(DayOfWeek.SUNDAY));\r\n        }\r\n    \r\n        public static boolean belongsToCurrentWeek(final LocalDateTime localDateTime) {\r\n            return localDateTime.isAfter(startOfWeek()) &amp;&amp; localDateTime.isBefore(endOfWeek());\r\n        }\r\n    \r\n        public static LocalDateTime startOfMonth() {\r\n            return LocalDateTime.now(DEFAULT_ZONE_ID)\r\n                    .with(LocalTime.MIN)\r\n                    .with(TemporalAdjusters.firstDayOfMonth());\r\n        }\r\n    \r\n        public static LocalDateTime endOfMonth() {\r\n            return LocalDateTime.now(DEFAULT_ZONE_ID)\r\n                    .with(LocalTime.MAX)\r\n                    .with(TemporalAdjusters.lastDayOfMonth());\r\n        }\r\n    \r\n        public static boolean belongsToCurrentMonth(final LocalDateTime localDateTime) {\r\n            return localDateTime.isAfter(startOfMonth()) &amp;&amp; localDateTime.isBefore(endOfMonth());\r\n        }\r\n    \r\n        public static long toMills(final LocalDateTime localDateTime) {\r\n            return localDateTime.atZone(DEFAULT_ZONE_ID).toInstant().toEpochMilli();\r\n        }\r\n    \r\n        public static Date toDate(final LocalDateTime localDateTime) {\r\n            return Date.from(localDateTime.atZone(DEFAULT_ZONE_ID).toInstant());\r\n        }\r\n    \r\n        public static String toString(final LocalDateTime localDateTime) {\r\n            return localDateTime.format(DateTimeFormatter.ISO_DATE_TIME);\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            //day\r\n            final LocalDateTime now = LocalDateTime.now();\r\n            System.out.println(&quot;Now: &quot; + toString(now) + &quot;, in mills: &quot; + toMills(now));\r\n            System.out.println(&quot;Start of day: &quot; + toString(startOfDay()));\r\n            System.out.println(&quot;End of day: &quot; + toString(endOfDay()));\r\n            System.out.println(&quot;Does &#39;&quot; + toString(now) + &quot;&#39; belong to the current day? &gt; &quot; + belongsToCurrentDay(now));\r\n            final LocalDateTime yesterday = now.minusDays(1);\r\n            System.out.println(&quot;Does &#39;&quot; + toString(yesterday) + &quot;&#39; belong to the current day? &gt; &quot; + belongsToCurrentDay(yesterday));\r\n            final LocalDateTime tomorrow = now.plusDays(1);\r\n            System.out.println(&quot;Does &#39;&quot; + toString(tomorrow) + &quot;&#39; belong to the current day? &gt; &quot; + belongsToCurrentDay(tomorrow));\r\n            //week\r\n            System.out.println(&quot;Start of week: &quot; + toString(startOfWeek()));\r\n            System.out.println(&quot;End of week: &quot; + toString(endOfWeek()));\r\n            System.out.println(&quot;Does &#39;&quot; + toString(now) + &quot;&#39; belong to the current week? &gt; &quot; + belongsToCurrentWeek(now));\r\n            final LocalDateTime previousWeek = now.minusWeeks(1);\r\n            System.out.println(&quot;Does &#39;&quot; + toString(previousWeek) + &quot;&#39; belong to the current week? &gt; &quot; + belongsToCurrentWeek(previousWeek));\r\n            final LocalDateTime nextWeek = now.plusWeeks(1);\r\n            System.out.println(&quot;Does &#39;&quot; + toString(nextWeek) + &quot;&#39; belong to the current week? &gt; &quot; + belongsToCurrentWeek(nextWeek));\r\n            //month\r\n            System.out.println(&quot;Start of month: &quot; + toString(startOfMonth()));\r\n            System.out.println(&quot;End of month: &quot; + toString(endOfMonth()));\r\n            System.out.println(&quot;Does &#39;&quot; + toString(now) + &quot;&#39; belong to the current month? &gt; &quot; + belongsToCurrentMonth(now));\r\n            final LocalDateTime previousMonth = now.minusMonths(1);\r\n            System.out.println(&quot;Does &#39;&quot; + toString(previousMonth) + &quot;&#39; belong to the current month? &gt; &quot; + belongsToCurrentMonth(previousMonth));\r\n            final LocalDateTime nextMonth = now.plusMonths(1);\r\n            System.out.println(&quot;Does &#39;&quot; + toString(nextMonth) + &quot;&#39; belong to the current month? &gt; &quot; + belongsToCurrentMonth(nextMonth));\r\n        }\r\n    }\r\n\r\nTest output:\r\n\r\n    Now: 2020-02-16T22:12:49.957, in mills: 1581891169957\r\n    Start of day: 2020-02-16T00:00:00\r\n    End of day: 2020-02-16T23:59:59.999999999\r\n    Does &#39;2020-02-16T22:12:49.957&#39; belong to the current day? &gt; true\r\n    Does &#39;2020-02-15T22:12:49.957&#39; belong to the current day? &gt; false\r\n    Does &#39;2020-02-17T22:12:49.957&#39; belong to the current day? &gt; false\r\n    Start of week: 2020-02-10T00:00:00\r\n    End of week: 2020-02-16T23:59:59.999999999\r\n    Does &#39;2020-02-16T22:12:49.957&#39; belong to the current week? &gt; true\r\n    Does &#39;2020-02-09T22:12:49.957&#39; belong to the current week? &gt; false\r\n    Does &#39;2020-02-23T22:12:49.957&#39; belong to the current week? &gt; false\r\n    Start of month: 2020-02-01T00:00:00\r\n    End of month: 2020-02-29T23:59:59.999999999\r\n    Does &#39;2020-02-16T22:12:49.957&#39; belong to the current month? &gt; true\r\n    Does &#39;2020-01-16T22:12:49.957&#39; belong to the current month? &gt; false\r\n    Does &#39;2020-03-16T22:12:49.957&#39; belong to the current month? &gt; false","title":"How to get the first day of the current week and month?","body":"<p>You can use the <code>java.time</code> package (since Java8 and late) to get start/end of day/week/month.<br>\nThe util class example below:  </p>\n\n<pre><code>import org.junit.Test;\n\nimport java.time.DayOfWeek;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.TemporalAdjusters;\nimport java.util.Date;\n\npublic class DateUtil {\n    private static final ZoneId DEFAULT_ZONE_ID = ZoneId.of(\"UTC\");\n\n    public static LocalDateTime startOfDay() {\n        return LocalDateTime.now(DEFAULT_ZONE_ID).with(LocalTime.MIN);\n    }\n\n    public static LocalDateTime endOfDay() {\n        return LocalDateTime.now(DEFAULT_ZONE_ID).with(LocalTime.MAX);\n    }\n\n    public static boolean belongsToCurrentDay(final LocalDateTime localDateTime) {\n        return localDateTime.isAfter(startOfDay()) &amp;&amp; localDateTime.isBefore(endOfDay());\n    }\n\n    //note that week starts with Monday\n    public static LocalDateTime startOfWeek() {\n        return LocalDateTime.now(DEFAULT_ZONE_ID)\n                .with(LocalTime.MIN)\n                .with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY));\n    }\n\n    //note that week ends with Sunday\n    public static LocalDateTime endOfWeek() {\n        return LocalDateTime.now(DEFAULT_ZONE_ID)\n                .with(LocalTime.MAX)\n                .with(TemporalAdjusters.nextOrSame(DayOfWeek.SUNDAY));\n    }\n\n    public static boolean belongsToCurrentWeek(final LocalDateTime localDateTime) {\n        return localDateTime.isAfter(startOfWeek()) &amp;&amp; localDateTime.isBefore(endOfWeek());\n    }\n\n    public static LocalDateTime startOfMonth() {\n        return LocalDateTime.now(DEFAULT_ZONE_ID)\n                .with(LocalTime.MIN)\n                .with(TemporalAdjusters.firstDayOfMonth());\n    }\n\n    public static LocalDateTime endOfMonth() {\n        return LocalDateTime.now(DEFAULT_ZONE_ID)\n                .with(LocalTime.MAX)\n                .with(TemporalAdjusters.lastDayOfMonth());\n    }\n\n    public static boolean belongsToCurrentMonth(final LocalDateTime localDateTime) {\n        return localDateTime.isAfter(startOfMonth()) &amp;&amp; localDateTime.isBefore(endOfMonth());\n    }\n\n    public static long toMills(final LocalDateTime localDateTime) {\n        return localDateTime.atZone(DEFAULT_ZONE_ID).toInstant().toEpochMilli();\n    }\n\n    public static Date toDate(final LocalDateTime localDateTime) {\n        return Date.from(localDateTime.atZone(DEFAULT_ZONE_ID).toInstant());\n    }\n\n    public static String toString(final LocalDateTime localDateTime) {\n        return localDateTime.format(DateTimeFormatter.ISO_DATE_TIME);\n    }\n\n    @Test\n    public void test() {\n        //day\n        final LocalDateTime now = LocalDateTime.now();\n        System.out.println(\"Now: \" + toString(now) + \", in mills: \" + toMills(now));\n        System.out.println(\"Start of day: \" + toString(startOfDay()));\n        System.out.println(\"End of day: \" + toString(endOfDay()));\n        System.out.println(\"Does '\" + toString(now) + \"' belong to the current day? &gt; \" + belongsToCurrentDay(now));\n        final LocalDateTime yesterday = now.minusDays(1);\n        System.out.println(\"Does '\" + toString(yesterday) + \"' belong to the current day? &gt; \" + belongsToCurrentDay(yesterday));\n        final LocalDateTime tomorrow = now.plusDays(1);\n        System.out.println(\"Does '\" + toString(tomorrow) + \"' belong to the current day? &gt; \" + belongsToCurrentDay(tomorrow));\n        //week\n        System.out.println(\"Start of week: \" + toString(startOfWeek()));\n        System.out.println(\"End of week: \" + toString(endOfWeek()));\n        System.out.println(\"Does '\" + toString(now) + \"' belong to the current week? &gt; \" + belongsToCurrentWeek(now));\n        final LocalDateTime previousWeek = now.minusWeeks(1);\n        System.out.println(\"Does '\" + toString(previousWeek) + \"' belong to the current week? &gt; \" + belongsToCurrentWeek(previousWeek));\n        final LocalDateTime nextWeek = now.plusWeeks(1);\n        System.out.println(\"Does '\" + toString(nextWeek) + \"' belong to the current week? &gt; \" + belongsToCurrentWeek(nextWeek));\n        //month\n        System.out.println(\"Start of month: \" + toString(startOfMonth()));\n        System.out.println(\"End of month: \" + toString(endOfMonth()));\n        System.out.println(\"Does '\" + toString(now) + \"' belong to the current month? &gt; \" + belongsToCurrentMonth(now));\n        final LocalDateTime previousMonth = now.minusMonths(1);\n        System.out.println(\"Does '\" + toString(previousMonth) + \"' belong to the current month? &gt; \" + belongsToCurrentMonth(previousMonth));\n        final LocalDateTime nextMonth = now.plusMonths(1);\n        System.out.println(\"Does '\" + toString(nextMonth) + \"' belong to the current month? &gt; \" + belongsToCurrentMonth(nextMonth));\n    }\n}\n</code></pre>\n\n<p>Test output:</p>\n\n<pre><code>Now: 2020-02-16T22:12:49.957, in mills: 1581891169957\nStart of day: 2020-02-16T00:00:00\nEnd of day: 2020-02-16T23:59:59.999999999\nDoes '2020-02-16T22:12:49.957' belong to the current day? &gt; true\nDoes '2020-02-15T22:12:49.957' belong to the current day? &gt; false\nDoes '2020-02-17T22:12:49.957' belong to the current day? &gt; false\nStart of week: 2020-02-10T00:00:00\nEnd of week: 2020-02-16T23:59:59.999999999\nDoes '2020-02-16T22:12:49.957' belong to the current week? &gt; true\nDoes '2020-02-09T22:12:49.957' belong to the current week? &gt; false\nDoes '2020-02-23T22:12:49.957' belong to the current week? &gt; false\nStart of month: 2020-02-01T00:00:00\nEnd of month: 2020-02-29T23:59:59.999999999\nDoes '2020-02-16T22:12:49.957' belong to the current month? &gt; true\nDoes '2020-01-16T22:12:49.957' belong to the current month? &gt; false\nDoes '2020-03-16T22:12:49.957' belong to the current month? &gt; false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9074664,"reputation":2435,"user_id":6756683,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592292249,"creation_date":1591957643,"answer_id":62342341,"question_id":2937086,"body_markdown":"A one-line solution using Java 8 features\r\n------------------------------------------------\r\n\r\n\r\nIn **Java**\r\n\r\n    LocalDateTime firstOfWeek = LocalDateTime.now().with(ChronoField.DAY_OF_WEEK, 1).toLocalDate().atStartOfDay(); // 2020-06-08 00:00 MONDAY\r\n    LocalDateTime firstOfMonth = LocalDateTime.now().with(ChronoField.DAY_OF_MONTH , 1).toLocalDate().atStartOfDay(); // 2020-06-01 00:00\r\n    // Convert to milliseconds: \r\n    firstOfWeek.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();\r\n\r\nIn **Kotlin**\r\n\r\n    val firstOfWeek = LocalDateTime.now().with(ChronoField.DAY_OF_WEEK, 1).toLocalDate().atStartOfDay() // 2020-06-08 00:00 MONDAY\r\n    val firstOfMonth = LocalDateTime.now().with(ChronoField.DAY_OF_MONTH , 1).toLocalDate().atStartOfDay() // 2020-06-01 00:00\r\n    // Convert to milliseconds: \r\n    firstOfWeek.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli()","title":"How to get the first day of the current week and month?","body":"<h2>A one-line solution using Java 8 features</h2>\n\n<p>In <strong>Java</strong></p>\n\n<pre><code>LocalDateTime firstOfWeek = LocalDateTime.now().with(ChronoField.DAY_OF_WEEK, 1).toLocalDate().atStartOfDay(); // 2020-06-08 00:00 MONDAY\nLocalDateTime firstOfMonth = LocalDateTime.now().with(ChronoField.DAY_OF_MONTH , 1).toLocalDate().atStartOfDay(); // 2020-06-01 00:00\n// Convert to milliseconds: \nfirstOfWeek.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();\n</code></pre>\n\n<p>In <strong>Kotlin</strong></p>\n\n<pre><code>val firstOfWeek = LocalDateTime.now().with(ChronoField.DAY_OF_WEEK, 1).toLocalDate().atStartOfDay() // 2020-06-08 00:00 MONDAY\nval firstOfMonth = LocalDateTime.now().with(ChronoField.DAY_OF_MONTH , 1).toLocalDate().atStartOfDay() // 2020-06-01 00:00\n// Convert to milliseconds: \nfirstOfWeek.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli()\n</code></pre>\n"}],"owner":{"account_id":621129,"reputation":843,"user_id":353811,"display_name":"cesarlinux"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174302,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"accepted_answer_id":2938209,"answer_count":15,"score":84,"last_activity_date":1664268513,"creation_date":1275179231,"question_id":2937086,"body_markdown":"I have the date of several events expressed in **milliseconds**[1], and I want to know which events are inside the current week and the current month, but I can&#39;t figure out how to obtain the first day (day/month/year) of the running week and convert it to milliseconds, the same for the first day of the month.\r\n\r\n    [1]Since January 1, 1970, 00:00:00 GMT","title":"How to get the first day of the current week and month?","body":"<p>I have the date of several events expressed in <strong>milliseconds</strong>[1], and I want to know which events are inside the current week and the current month, but I can't figure out how to obtain the first day (day/month/year) of the running week and convert it to milliseconds, the same for the first day of the month.</p>\n\n<pre><code>[1]Since January 1, 1970, 00:00:00 GMT\n</code></pre>\n"},{"tags":["java","oracle","java-11","oracle19c","ojdbc"],"answers":[{"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664267858,"creation_date":1664267858,"answer_id":73864630,"question_id":73864003,"body_markdown":"The 19c UCP limitations with respect to JDK11 are related to the DataSource APIs added in DataSource APIs in JDK9 (for example [createConnectionBuilder][1] and [createShardingKey][2]) that you won&#39;t find in UCP in 19c. If you don&#39;t use these features, you should be fine.\r\n\r\nAnd yes you&#39;re right, the current Long Term Support (LTS) release is 19c. 21c should only be used to explore new features.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/javax/sql/DataSource.html#createConnectionBuilder()\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/javax/sql/CommonDataSource.html#createShardingKeyBuilder()","title":"Oracle Database 19c ucp.jar limitations with JDK 11","body":"<p>The 19c UCP limitations with respect to JDK11 are related to the DataSource APIs added in DataSource APIs in JDK9 (for example <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/javax/sql/DataSource.html#createConnectionBuilder()\" rel=\"nofollow noreferrer\">createConnectionBuilder</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/javax/sql/CommonDataSource.html#createShardingKeyBuilder()\" rel=\"nofollow noreferrer\">createShardingKey</a>) that you won't find in UCP in 19c. If you don't use these features, you should be fine.</p>\n<p>And yes you're right, the current Long Term Support (LTS) release is 19c. 21c should only be used to explore new features.</p>\n"}],"owner":{"account_id":313433,"reputation":640,"user_id":3405398,"accept_rate":56,"display_name":"kaluva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73864630,"answer_count":1,"score":0,"last_activity_date":1664267858,"creation_date":1664264521,"question_id":73864003,"body_markdown":"we are using database **Oracle 19c** version in production and we are migrating to JDK 11 (currently we are on JDK 7). So i downloaded necessary ojdbc jars from oracle website:\r\nhttps://www.oracle.com/in/database/technologies/appdev/jdbc-downloads.html\r\n\r\nBut i found below in the website:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/THNr2.png\r\n\r\nIt said **ucp.jar certified with JDK11 but with some limitations**. Can&#39;t find any information about those limitations.\r\n\r\nPlease share if anyone has idea on those limitations.\r\n\r\n*Please note that i&#39;m aware Oracle 21c drivers listed in the website certified with JDK11 (including ucp.jar) but those don&#39;t have Long Term Support yet. So want to use Oracle 19c drivers only.*","title":"Oracle Database 19c ucp.jar limitations with JDK 11","body":"<p>we are using database <strong>Oracle 19c</strong> version in production and we are migrating to JDK 11 (currently we are on JDK 7). So i downloaded necessary ojdbc jars from oracle website:\n<a href=\"https://www.oracle.com/in/database/technologies/appdev/jdbc-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/in/database/technologies/appdev/jdbc-downloads.html</a></p>\n<p>But i found below in the website:\n<a href=\"https://i.stack.imgur.com/THNr2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/THNr2.png\" alt=\"enter image description here\" /></a></p>\n<p>It said <strong>ucp.jar certified with JDK11 but with some limitations</strong>. Can't find any information about those limitations.</p>\n<p>Please share if anyone has idea on those limitations.</p>\n<p><em>Please note that i'm aware Oracle 21c drivers listed in the website certified with JDK11 (including ucp.jar) but those don't have Long Term Support yet. So want to use Oracle 19c drivers only.</em></p>\n"},{"tags":["java","web-scraping","exception","jsoup"],"comments":[{"owner":{"account_id":471659,"reputation":3578,"user_id":879592,"accept_rate":84,"display_name":"Yan"},"score":1,"creation_date":1479869949,"post_id":40755178,"comment_id":68736333,"body_markdown":"Can you print the URL after concatenating and see if you can access the page in a browser.  Might be some issue with the URL","body":"Can you print the URL after concatenating and see if you can access the page in a browser.  Might be some issue with the URL"},{"owner":{"account_id":9700907,"reputation":21,"user_id":7195902,"accept_rate":0,"display_name":"Brandon Woodruff"},"score":1,"creation_date":1479882412,"post_id":40755178,"comment_id":68739938,"body_markdown":"actually i just threw an Exception and it apparently runs now. Go figure.","body":"actually i just threw an Exception and it apparently runs now. Go figure."}],"answers":[{"tags":[],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479893731,"creation_date":1479893731,"answer_id":40760623,"question_id":40755178,"body_markdown":"Maybe setting a timeout might help? \r\n\r\n    Document document = Jsoup.connect(url).timeout(10000).get();","title":"How do I get past this error for my Yelp extractor?","body":"<p>Maybe setting a timeout might help? </p>\n\n<pre><code>Document document = Jsoup.connect(url).timeout(10000).get();\n</code></pre>\n"}],"owner":{"account_id":9700907,"reputation":21,"user_id":7195902,"accept_rate":0,"display_name":"Brandon Woodruff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664267585,"creation_date":1479869222,"question_id":40755178,"body_markdown":"I originally compiled this before I made a few changes to allow the me to specify searches and location. I can take it out if need be, but I&#39;d rather not. Here&#39;s what I got:\r\n\r\n    import java.util.ArrayList;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    \r\n    public class YelpScrapper\r\n    {\r\n        public static void main(String[] args) throws IOException\r\n        {\r\n            String description;\r\n            String location;\r\n            int pages;\r\n            \r\n            Scanner keyboard = new Scanner(System.in);\r\n            \r\n            System.out.print(&quot;Enter a description: &quot;);\r\n            description = keyboard.nextLine();\r\n            \r\n            System.out.print(&quot;Enter a location: &quot;);\r\n            location = keyboard.nextLine();\r\n            \r\n            System.out.print(&quot;How many pages should we scan? &quot;);\r\n            pages = keyboard.nextInt();\r\n            \r\n            String descString = &quot;find_desc=&quot; + description.replace(&#39; &#39;, &#39;+&#39;) + &quot;&amp;&quot;;\r\n            String locString = &quot;find_loc=&quot; + location.replace(&#39; &#39;, &#39;+&#39;) + &quot;&amp;&quot;;\r\n            int number = (pages * 10) - 10;\r\n            \r\n            String url = &quot;https://www.yelp.com/search?&quot; + descString + locString + &quot;start=&quot; + number;\r\n            ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n            ArrayList&lt;String&gt; address = new ArrayList&lt;String&gt;();\r\n            ArrayList&lt;String&gt; phone = new ArrayList&lt;String&gt;();\r\n            Document document = Jsoup.connect(url).get();\r\n        \r\n            Elements nameElements = document.select(&quot;.indexed-biz-name span&quot;);\r\n            Elements addressElements = document.select(&quot;.secondary-attributes address&quot;);\r\n            Elements phoneElements = document.select(&quot;.biz-phone&quot;);\r\n            \r\n            for (Element element : nameElements)\r\n            {\r\n                names.add(element.text());\r\n            }\r\n            \r\n            for (Element element : addressElements)\r\n            {\r\n                address.add(element.text());\r\n            }\r\n            \r\n            for (Element element : phoneElements)\r\n            {\r\n                phone.add(element.text());\r\n            }\r\n            \r\n            for (int index = 0 ; index &lt;= number ; index++)\r\n            {\r\n                System.out.println(&quot;\\nLead &quot; + index);\r\n                System.out.println(&quot;Company Name: &quot; + names.get(index));\r\n                System.out.println(&quot;Address: &quot; + address.get(index));\r\n                System.out.println(&quot;Phone Number: &quot; + phone.get(index));\r\n            }\r\n            \r\n            //for (String name : names)\r\n            //{\r\n               // System.out.println(name);\r\n            //}\r\n            \r\n            //System.out.println(&quot;\\n&quot;);\r\n            \r\n            //for (String add : address)\r\n            //{\r\n                //System.out.println(add);\r\n            //}\r\n            \r\n            //for (String pho : phone)\r\n            //{\r\n                //System.out.println(pho);\r\n            //}\r\n        }\r\n    }\r\n\r\nThe error I am receiving from BlueJ java.net.SocketTimeoutException; Read timed out(in java.net.SocketInputStream)\r\n\r\nShould I be throwing another exception?","title":"How do I get past this error for my Yelp extractor?","body":"<p>I originally compiled this before I made a few changes to allow the me to specify searches and location. I can take it out if need be, but I'd rather not. Here's what I got:</p>\n<pre><code>import java.util.ArrayList;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class YelpScrapper\n{\n    public static void main(String[] args) throws IOException\n    {\n        String description;\n        String location;\n        int pages;\n        \n        Scanner keyboard = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter a description: &quot;);\n        description = keyboard.nextLine();\n        \n        System.out.print(&quot;Enter a location: &quot;);\n        location = keyboard.nextLine();\n        \n        System.out.print(&quot;How many pages should we scan? &quot;);\n        pages = keyboard.nextInt();\n        \n        String descString = &quot;find_desc=&quot; + description.replace(' ', '+') + &quot;&amp;&quot;;\n        String locString = &quot;find_loc=&quot; + location.replace(' ', '+') + &quot;&amp;&quot;;\n        int number = (pages * 10) - 10;\n        \n        String url = &quot;https://www.yelp.com/search?&quot; + descString + locString + &quot;start=&quot; + number;\n        ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\n        ArrayList&lt;String&gt; address = new ArrayList&lt;String&gt;();\n        ArrayList&lt;String&gt; phone = new ArrayList&lt;String&gt;();\n        Document document = Jsoup.connect(url).get();\n    \n        Elements nameElements = document.select(&quot;.indexed-biz-name span&quot;);\n        Elements addressElements = document.select(&quot;.secondary-attributes address&quot;);\n        Elements phoneElements = document.select(&quot;.biz-phone&quot;);\n        \n        for (Element element : nameElements)\n        {\n            names.add(element.text());\n        }\n        \n        for (Element element : addressElements)\n        {\n            address.add(element.text());\n        }\n        \n        for (Element element : phoneElements)\n        {\n            phone.add(element.text());\n        }\n        \n        for (int index = 0 ; index &lt;= number ; index++)\n        {\n            System.out.println(&quot;\\nLead &quot; + index);\n            System.out.println(&quot;Company Name: &quot; + names.get(index));\n            System.out.println(&quot;Address: &quot; + address.get(index));\n            System.out.println(&quot;Phone Number: &quot; + phone.get(index));\n        }\n        \n        //for (String name : names)\n        //{\n           // System.out.println(name);\n        //}\n        \n        //System.out.println(&quot;\\n&quot;);\n        \n        //for (String add : address)\n        //{\n            //System.out.println(add);\n        //}\n        \n        //for (String pho : phone)\n        //{\n            //System.out.println(pho);\n        //}\n    }\n}\n</code></pre>\n<p>The error I am receiving from BlueJ java.net.SocketTimeoutException; Read timed out(in java.net.SocketInputStream)</p>\n<p>Should I be throwing another exception?</p>\n"},{"tags":["java","android","listview","android-listview"],"answers":[{"tags":[],"owner":{"account_id":23751541,"reputation":31,"user_id":17768226,"display_name":"supercode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664267512,"creation_date":1664267512,"answer_id":73864555,"question_id":73860417,"body_markdown":"try using the index of the arraylist not of the listview .\r\nsomething like this :\r\n\r\n``int lastIndex = products.indexOf(products.get(products.size() - 1 )) ;``\r\n\r\n``int firstIndex = products.indexOf(products.get(0 )) ;``\r\n\r\nbut you should *ensure that your list is neither empty nor null*.\r\n\r\n``listView.getChildAt(lastIndex).setBackgroundColor(Color.GREEN);``\r\n\r\nOr \r\n\r\n``listView.getChildAt(firstIndex).setBackgroundColor(Color.GREEN);``\r\n\r\n\r\n\r\n","title":"ListView is full ,But It gives a Null Pointer Exception While trying to change Backround Color","body":"<p>try using the index of the arraylist not of the listview .\nsomething like this :</p>\n<p><code>int lastIndex = products.indexOf(products.get(products.size() - 1 )) ;</code></p>\n<p><code>int firstIndex = products.indexOf(products.get(0 )) ;</code></p>\n<p>but you should <em>ensure that your list is neither empty nor null</em>.</p>\n<p><code>listView.getChildAt(lastIndex).setBackgroundColor(Color.GREEN);</code></p>\n<p>Or</p>\n<p><code>listView.getChildAt(firstIndex).setBackgroundColor(Color.GREEN);</code></p>\n"}],"owner":{"account_id":12448745,"reputation":27,"user_id":9064120,"display_name":"Coderer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664267512,"creation_date":1664229983,"question_id":73860417,"body_markdown":"I have a list view which is made from strings. There are two items in it.\r\n   \r\n\r\n    // System.out.println(&quot;X-&gt;&quot;+listView.getLastVisiblePosition()+&quot;Y-&gt;&quot;+listView.getFirstVisiblePosition());\r\n    listView.getChildAt(listView.getLastVisiblePosition()).setBackgroundColor(Color.GREEN);\r\n\r\n\r\nWhen I print the Last and First Visible Position It prints 1 and 0 ;however, It gives an null pointer expectation error , when I try to change background color . What could be the reason?\r\n\r\n***The Error-&gt; Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.view.View.setBackgroundColor(int)&#39; on a null object reference***\r\n\r\nIt is not necessary ,but I would like to share the implementation of listView as well,\r\n\r\n          listView=(ListView)findViewById(R.id.listViewProductList);\r\n\r\n        if(products!=null){\r\n            ArrayList&lt;String&gt; names=new ArrayList&lt;&gt;();\r\n            for(int i=0;i&lt;products.size();i++){\r\n                names.add(&quot;&#220;r&#252;n Adı-&gt; &quot;+products.get(i).getProductName()+&quot;\\n&quot;+&quot;Konum-&gt; &quot;+ products.get(i).getLocationName());\r\n            }\r\n\r\n            final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\r\n                    android.R.layout.simple_list_item_1, android.R.id.text1, names);\r\n            listView.setAdapter(adapter);\r\n    }","title":"ListView is full ,But It gives a Null Pointer Exception While trying to change Backround Color","body":"<p>I have a list view which is made from strings. There are two items in it.</p>\n<pre><code>// System.out.println(&quot;X-&gt;&quot;+listView.getLastVisiblePosition()+&quot;Y-&gt;&quot;+listView.getFirstVisiblePosition());\nlistView.getChildAt(listView.getLastVisiblePosition()).setBackgroundColor(Color.GREEN);\n</code></pre>\n<p>When I print the Last and First Visible Position It prints 1 and 0 ;however, It gives an null pointer expectation error , when I try to change background color . What could be the reason?</p>\n<p><em><strong>The Error-&gt; Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.View.setBackgroundColor(int)' on a null object reference</strong></em></p>\n<p>It is not necessary ,but I would like to share the implementation of listView as well,</p>\n<pre><code>      listView=(ListView)findViewById(R.id.listViewProductList);\n\n    if(products!=null){\n        ArrayList&lt;String&gt; names=new ArrayList&lt;&gt;();\n        for(int i=0;i&lt;products.size();i++){\n            names.add(&quot;Ürün Adı-&gt; &quot;+products.get(i).getProductName()+&quot;\\n&quot;+&quot;Konum-&gt; &quot;+ products.get(i).getLocationName());\n        }\n\n        final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n                android.R.layout.simple_list_item_1, android.R.id.text1, names);\n        listView.setAdapter(adapter);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","material-design"],"answers":[{"tags":[],"owner":{"account_id":18352363,"reputation":131,"user_id":13366254,"display_name":"nitro_nitrat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664267482,"creation_date":1657094205,"answer_id":72879790,"question_id":71228956,"body_markdown":"**Update:** Appended Jetpack Compose answer.\r\n# With XML\r\n \r\nSo as far as I can tell there is no embed way to simply enable this animation, but I found two ways to **mimic the animation** shown in your linked video.\r\n# Results\r\n### Option 1\r\n[![Gif showing the result of option 1][1]][1]\r\n\r\n### Option 2\r\n[![Gif showing the result of option 2][2]][2]\r\n\r\n# Code &amp; Explaination\r\n## Option 1\r\n\r\nThis option works by **enabling the `animateLayoutChanges` option** of the ChipGroup that contains your chips\r\n```\r\nandroid:animateLayoutChanges=&quot;true&quot;\r\n```\r\n\r\nand adding the following code for your `ChipGroup`:\r\n```\r\nfor (view in chipGroup.children) {\r\n    val chip = view as Chip\r\n    chip.setOnCheckedChangeListener { buttonView, _ -&gt;\r\n        val index = chipGroup.indexOfChild(buttonView)\r\n        chipGroup.removeView(buttonView)\r\n        chipGroup.addView(buttonView, index)\r\n    }\r\n}\r\n```\r\nThis code will automatically **remove the chip and instantly add it back** to the ChipGroup whenever the selection state of a chip changes.\r\n\r\n#### Drawbacks\r\n- The animation is rather a transition of the form *stateBefore -&gt; invisible -&gt; stateAfter* than *stateBefore -&gt; stateAfter* what results in the chip **&quot;flashing&quot;**.\r\n\r\n\r\n----------\r\n\r\n\r\n## Option 2\r\n\r\nFor this option add the following **custom Chip class (*Kotlin*)** to your project and change your chips to be instances of `CheckAnimationChip` instead of `com.google.android.material.chip.Chip`:\r\n\r\n```\r\nimport android.animation.ObjectAnimator\r\nimport android.content.Context\r\nimport android.util.AttributeSet\r\nimport androidx.core.animation.doOnEnd\r\nimport com.google.android.material.chip.Chip\r\nimport com.google.android.material.chip.ChipDrawable\r\n\r\nprivate const val CHIP_ICON_SIZE_PROPERTY_NAME = &quot;chipIconSize&quot;\r\n\r\n// A value of &#39;0f&#39; would be interpreted as &#39;use the default size&#39; by the ChipDrawable, so use a slightly larger value.\r\nprivate const val INVISIBLE_CHIP_ICON_SIZE = 0.00001f\r\n\r\n/**\r\n * Custom Chip class which will animate transition between the [isChecked] states.\r\n */\r\nclass CheckAnimationChip @JvmOverloads constructor(\r\n    context: Context,\r\n    attrs: AttributeSet? = null,\r\n    defStyleAttr: Int = com.google.android.material.R.attr.chipStyle\r\n) : Chip(context, attrs, defStyleAttr) {\r\n\r\n    private var onCheckedChangeListener: OnCheckedChangeListener? = null\r\n    private var _chipDrawable: ChipDrawable\r\n    private var defaultCheckedIconSize: Float\r\n    private var currentlyScalingDown = false\r\n\r\n    var animationDuration = 200L\r\n\r\n    init {\r\n        // Set default values for this category of chip.\r\n        isCheckable = true\r\n        isCheckedIconVisible = true\r\n\r\n        _chipDrawable = chipDrawable as ChipDrawable\r\n        defaultCheckedIconSize = _chipDrawable.chipIconSize\r\n\r\n        super.setOnCheckedChangeListener { buttonView, isChecked -&gt;\r\n            if (currentlyScalingDown) {\r\n                // Block the changes caused by the scaling-down animation.\r\n                return@setOnCheckedChangeListener\r\n            }\r\n            onCheckedChangeListener?.onCheckedChanged(buttonView, isChecked)\r\n\r\n            if (isChecked) {\r\n                scaleCheckedIconUp()\r\n            } else if (!isChecked) {\r\n                scaleCheckedIconDown()\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Scale the size of the Checked-Icon from invisible to its default size.\r\n     */\r\n    private fun scaleCheckedIconUp() {\r\n        ObjectAnimator.ofFloat(_chipDrawable, CHIP_ICON_SIZE_PROPERTY_NAME,\r\n            INVISIBLE_CHIP_ICON_SIZE, defaultCheckedIconSize)\r\n            .apply {\r\n                duration =  animationDuration\r\n                start()\r\n                doOnEnd {\r\n                    _chipDrawable.chipIconSize = defaultCheckedIconSize\r\n                }\r\n            }\r\n    }\r\n\r\n    /**\r\n     * Scale the size of the Checked-Icon from its default size down to invisible. To achieve this, the\r\n     * [isChecked] property needs to be manipulated. It is set to be true till the animation has ended.\r\n     */\r\n    private fun scaleCheckedIconDown() {\r\n        currentlyScalingDown = true\r\n        isChecked = true\r\n        ObjectAnimator.ofFloat(_chipDrawable, CHIP_ICON_SIZE_PROPERTY_NAME,\r\n            defaultCheckedIconSize, INVISIBLE_CHIP_ICON_SIZE)\r\n            .apply {\r\n                duration =  animationDuration\r\n                start()\r\n                doOnEnd {\r\n                    isChecked = false\r\n                    currentlyScalingDown = false\r\n                    _chipDrawable.chipIconSize = defaultCheckedIconSize\r\n                }\r\n            }\r\n    }\r\n\r\n    override fun setOnCheckedChangeListener(listener: OnCheckedChangeListener?) {\r\n        onCheckedChangeListener = listener\r\n    }\r\n}\r\n```\r\nThis class **changes the size of the chip&#39;s icon** by using an `ObjectAnimator`. Therefore it accesses the `ChipDrawable` of the chip and changes the `chipIconSize` property with the animator.\r\n\r\n#### Drawbacks (rather picky)\r\n- This will only animate the icon size and not a complete transition between the drawables of the chip like in the linked video (e.g. there is **no smooth transition of the border or background** in this implementation).\r\n- You can observe a **flickering of adjacent chips** during the animation (see chip &quot;Last 4 Weeks&quot; in the gif), however I could only observe this problem on the emulator and did **not** notice it **on a physical device**. \r\n\r\n  [1]: https://i.stack.imgur.com/Stu3z.gif\r\n  [2]: https://i.stack.imgur.com/M8J2C.gif\r\n\r\n---\r\n# Jetpack Compose\r\n\r\nIn Jetpack Compose you can make use of the `animateConentSize()` Modifier:\r\n```\r\nFilterChip(\r\n    selected = selected,\r\n    onClick = { /* Handle Click */ },\r\n    leadingIcon = {\r\n        Box(\r\n            Modifier.animateContentSize(keyframes { durationMillis = 200 })\r\n        ) {\r\n            if (selected) {\r\n                Icon(\r\n                    imageVector = Icons.Default.Done,\r\n                    contentDescription = null,\r\n                    modifier = Modifier.size(FilterChipDefaults.IconSize)\r\n                )\r\n            }\r\n        }\r\n    },\r\n    label = { /* Text */ }\r\n)\r\n```\r\nThe important part here is to always have a composable (here the `Box`) for the `leadingIcon` that holds the check-icon if the chip is selected and is empty if not. This composable can then be animated smoothly with the `animateContentSize()` modifier.\r\n","title":"Animate Chip checking in Material Chipgroup (Android)","body":"<p><strong>Update:</strong> Appended Jetpack Compose answer.</p>\n<h1>With XML</h1>\n<p>So as far as I can tell there is no embed way to simply enable this animation, but I found two ways to <strong>mimic the animation</strong> shown in your linked video.</p>\n<h1>Results</h1>\n<h3>Option 1</h3>\n<p><a href=\"https://i.stack.imgur.com/Stu3z.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Stu3z.gif\" alt=\"Gif showing the result of option 1\" /></a></p>\n<h3>Option 2</h3>\n<p><a href=\"https://i.stack.imgur.com/M8J2C.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M8J2C.gif\" alt=\"Gif showing the result of option 2\" /></a></p>\n<h1>Code &amp; Explaination</h1>\n<h2>Option 1</h2>\n<p>This option works by <strong>enabling the <code>animateLayoutChanges</code> option</strong> of the ChipGroup that contains your chips</p>\n<pre><code>android:animateLayoutChanges=&quot;true&quot;\n</code></pre>\n<p>and adding the following code for your <code>ChipGroup</code>:</p>\n<pre><code>for (view in chipGroup.children) {\n    val chip = view as Chip\n    chip.setOnCheckedChangeListener { buttonView, _ -&gt;\n        val index = chipGroup.indexOfChild(buttonView)\n        chipGroup.removeView(buttonView)\n        chipGroup.addView(buttonView, index)\n    }\n}\n</code></pre>\n<p>This code will automatically <strong>remove the chip and instantly add it back</strong> to the ChipGroup whenever the selection state of a chip changes.</p>\n<h4>Drawbacks</h4>\n<ul>\n<li>The animation is rather a transition of the form <em>stateBefore -&gt; invisible -&gt; stateAfter</em> than <em>stateBefore -&gt; stateAfter</em> what results in the chip <strong>&quot;flashing&quot;</strong>.</li>\n</ul>\n<hr />\n<h2>Option 2</h2>\n<p>For this option add the following <strong>custom Chip class (<em>Kotlin</em>)</strong> to your project and change your chips to be instances of <code>CheckAnimationChip</code> instead of <code>com.google.android.material.chip.Chip</code>:</p>\n<pre><code>import android.animation.ObjectAnimator\nimport android.content.Context\nimport android.util.AttributeSet\nimport androidx.core.animation.doOnEnd\nimport com.google.android.material.chip.Chip\nimport com.google.android.material.chip.ChipDrawable\n\nprivate const val CHIP_ICON_SIZE_PROPERTY_NAME = &quot;chipIconSize&quot;\n\n// A value of '0f' would be interpreted as 'use the default size' by the ChipDrawable, so use a slightly larger value.\nprivate const val INVISIBLE_CHIP_ICON_SIZE = 0.00001f\n\n/**\n * Custom Chip class which will animate transition between the [isChecked] states.\n */\nclass CheckAnimationChip @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyleAttr: Int = com.google.android.material.R.attr.chipStyle\n) : Chip(context, attrs, defStyleAttr) {\n\n    private var onCheckedChangeListener: OnCheckedChangeListener? = null\n    private var _chipDrawable: ChipDrawable\n    private var defaultCheckedIconSize: Float\n    private var currentlyScalingDown = false\n\n    var animationDuration = 200L\n\n    init {\n        // Set default values for this category of chip.\n        isCheckable = true\n        isCheckedIconVisible = true\n\n        _chipDrawable = chipDrawable as ChipDrawable\n        defaultCheckedIconSize = _chipDrawable.chipIconSize\n\n        super.setOnCheckedChangeListener { buttonView, isChecked -&gt;\n            if (currentlyScalingDown) {\n                // Block the changes caused by the scaling-down animation.\n                return@setOnCheckedChangeListener\n            }\n            onCheckedChangeListener?.onCheckedChanged(buttonView, isChecked)\n\n            if (isChecked) {\n                scaleCheckedIconUp()\n            } else if (!isChecked) {\n                scaleCheckedIconDown()\n            }\n        }\n    }\n\n    /**\n     * Scale the size of the Checked-Icon from invisible to its default size.\n     */\n    private fun scaleCheckedIconUp() {\n        ObjectAnimator.ofFloat(_chipDrawable, CHIP_ICON_SIZE_PROPERTY_NAME,\n            INVISIBLE_CHIP_ICON_SIZE, defaultCheckedIconSize)\n            .apply {\n                duration =  animationDuration\n                start()\n                doOnEnd {\n                    _chipDrawable.chipIconSize = defaultCheckedIconSize\n                }\n            }\n    }\n\n    /**\n     * Scale the size of the Checked-Icon from its default size down to invisible. To achieve this, the\n     * [isChecked] property needs to be manipulated. It is set to be true till the animation has ended.\n     */\n    private fun scaleCheckedIconDown() {\n        currentlyScalingDown = true\n        isChecked = true\n        ObjectAnimator.ofFloat(_chipDrawable, CHIP_ICON_SIZE_PROPERTY_NAME,\n            defaultCheckedIconSize, INVISIBLE_CHIP_ICON_SIZE)\n            .apply {\n                duration =  animationDuration\n                start()\n                doOnEnd {\n                    isChecked = false\n                    currentlyScalingDown = false\n                    _chipDrawable.chipIconSize = defaultCheckedIconSize\n                }\n            }\n    }\n\n    override fun setOnCheckedChangeListener(listener: OnCheckedChangeListener?) {\n        onCheckedChangeListener = listener\n    }\n}\n</code></pre>\n<p>This class <strong>changes the size of the chip's icon</strong> by using an <code>ObjectAnimator</code>. Therefore it accesses the <code>ChipDrawable</code> of the chip and changes the <code>chipIconSize</code> property with the animator.</p>\n<h4>Drawbacks (rather picky)</h4>\n<ul>\n<li>This will only animate the icon size and not a complete transition between the drawables of the chip like in the linked video (e.g. there is <strong>no smooth transition of the border or background</strong> in this implementation).</li>\n<li>You can observe a <strong>flickering of adjacent chips</strong> during the animation (see chip &quot;Last 4 Weeks&quot; in the gif), however I could only observe this problem on the emulator and did <strong>not</strong> notice it <strong>on a physical device</strong>.</li>\n</ul>\n<hr />\n<h1>Jetpack Compose</h1>\n<p>In Jetpack Compose you can make use of the <code>animateConentSize()</code> Modifier:</p>\n<pre><code>FilterChip(\n    selected = selected,\n    onClick = { /* Handle Click */ },\n    leadingIcon = {\n        Box(\n            Modifier.animateContentSize(keyframes { durationMillis = 200 })\n        ) {\n            if (selected) {\n                Icon(\n                    imageVector = Icons.Default.Done,\n                    contentDescription = null,\n                    modifier = Modifier.size(FilterChipDefaults.IconSize)\n                )\n            }\n        }\n    },\n    label = { /* Text */ }\n)\n</code></pre>\n<p>The important part here is to always have a composable (here the <code>Box</code>) for the <code>leadingIcon</code> that holds the check-icon if the chip is selected and is empty if not. This composable can then be animated smoothly with the <code>animateContentSize()</code> modifier.</p>\n"}],"owner":{"account_id":17167775,"reputation":185,"user_id":12425619,"display_name":"Emil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72879790,"answer_count":1,"score":2,"last_activity_date":1664267482,"creation_date":1645567984,"question_id":71228956,"body_markdown":"I&#39;m writing an Android app where a user has to select an option using a `ChipGroup` and `Chips`.\r\nEverything is working fine, it&#39;s just a bit clunky as there is no animation except the default ripple when selecting a `Chip`.\r\n\r\nI&#39;ve read [the Material Design 3 Docs][1] and **found [this video][2] showing a nice animation that I&#39;d like to implement**, but I don&#39;t know how.\r\n\r\nI&#39;ve tried: \r\n\r\n1. enabling \r\n\r\n       android:animateLayoutChanges=&quot;true&quot;\r\n\r\n   but that only animates the adding and removing of a `Chip`, not the checking and unchecking.\r\n\r\n2. using\r\n\r\n       TransitionManager.beginDelayedTransition(chipGroup);\r\n\r\n   and that works fine on the chipGroup but the content of the `Chip` (tick appearing and text rescaling) does not animate.\r\n\r\n\r\n----------\r\n\r\n\r\nPlease tell me if I&#39;m doing something wrong, here is also the method I use to add and select those `Chips`:\r\n\r\n    ChipAdapter adapter = new ChipAdapter(getContext());\r\n\r\n        for(int i = 0; i &lt; adapter.getCount(); i++){\r\n            View chip = adapter.getView(i, chipGroup, chipGroup);\r\n            if(chip instanceof Chip) {\r\n                chip.setId(i);\r\n                chip.setOnClickListener(v -&gt; {\r\n                    for(int p = 0; p &lt; chipGroup.getChildCount(); p++){\r\n                        chipGroup.getChildAt(p).setSelected(false);\r\n                    }\r\n                    chip.setSelected(true);\r\n                });\r\n                chipGroup.addView(chip);\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://m3.material.io/components/chips/overview\r\n  [2]: https://firebasestorage.googleapis.com/v0/b/design-spec/o/projects%2Fm3%2Fimages%2Fkzeduuwe-hero_single-select_3P.mp4?alt=media&amp;token=b9b421ed-c64f-4217-9908-66bb66b86304","title":"Animate Chip checking in Material Chipgroup (Android)","body":"<p>I'm writing an Android app where a user has to select an option using a <code>ChipGroup</code> and <code>Chips</code>.\nEverything is working fine, it's just a bit clunky as there is no animation except the default ripple when selecting a <code>Chip</code>.</p>\n<p>I've read <a href=\"https://m3.material.io/components/chips/overview\" rel=\"nofollow noreferrer\">the Material Design 3 Docs</a> and <strong>found <a href=\"https://firebasestorage.googleapis.com/v0/b/design-spec/o/projects%2Fm3%2Fimages%2Fkzeduuwe-hero_single-select_3P.mp4?alt=media&amp;token=b9b421ed-c64f-4217-9908-66bb66b86304\" rel=\"nofollow noreferrer\">this video</a> showing a nice animation that I'd like to implement</strong>, but I don't know how.</p>\n<p>I've tried:</p>\n<ol>\n<li><p>enabling</p>\n<pre><code>android:animateLayoutChanges=&quot;true&quot;\n</code></pre>\n<p>but that only animates the adding and removing of a <code>Chip</code>, not the checking and unchecking.</p>\n</li>\n<li><p>using</p>\n<pre><code>TransitionManager.beginDelayedTransition(chipGroup);\n</code></pre>\n<p>and that works fine on the chipGroup but the content of the <code>Chip</code> (tick appearing and text rescaling) does not animate.</p>\n</li>\n</ol>\n<hr />\n<p>Please tell me if I'm doing something wrong, here is also the method I use to add and select those <code>Chips</code>:</p>\n<pre><code>ChipAdapter adapter = new ChipAdapter(getContext());\n\n    for(int i = 0; i &lt; adapter.getCount(); i++){\n        View chip = adapter.getView(i, chipGroup, chipGroup);\n        if(chip instanceof Chip) {\n            chip.setId(i);\n            chip.setOnClickListener(v -&gt; {\n                for(int p = 0; p &lt; chipGroup.getChildCount(); p++){\n                    chipGroup.getChildAt(p).setSelected(false);\n                }\n                chip.setSelected(true);\n            });\n            chipGroup.addView(chip);\n        }\n    }\n</code></pre>\n"},{"tags":["java","api","collections","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1664246801,"post_id":73861752,"comment_id":130421883,"body_markdown":"I don&#39;t think something like this *should* be available on `Stream` or any of the primitive streams. `Stream`s are lazy, so converting to a `Collection` like this kinda loses its point. If you output another `Stream` instead, that&#39;s just the same as `filter(...).map(...)`, which is shorter, so again, no point. I also think that it&#39;s not really worth doing this on `Iterator`, since it&#39;s very rare that such operations is needed on an `Iterator`. You&#39;d almost always have an `Iterable` at hand as well. That just leaves `Iterable`, and the arrays.","body":"I don&#39;t think something like this <i>should</i> be available on <code>Stream</code> or any of the primitive streams. <code>Stream</code>s are lazy, so converting to a <code>Collection</code> like this kinda loses its point. If you output another <code>Stream</code> instead, that&#39;s just the same as <code>filter(...).map(...)</code>, which is shorter, so again, no point. I also think that it&#39;s not really worth doing this on <code>Iterator</code>, since it&#39;s very rare that such operations is needed on an <code>Iterator</code>. You&#39;d almost always have an <code>Iterable</code> at hand as well. That just leaves <code>Iterable</code>, and the arrays."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1664247141,"post_id":73861752,"comment_id":130421934,"body_markdown":"...and that&#39;s similar to what happened when `Stream` was added too. It was decided that overloads of `Arrays.stream` were only added for `T[]`, `int[]`, `long[]`, `double[]`, plus a default `stream` method in the `Collection` interface. Those were the most frequently used arrays anyway, don&#39;t you agree? The point is, *you don&#39;t have to force yourself to write things for **every** type for it to be useful*.","body":"...and that&#39;s similar to what happened when <code>Stream</code> was added too. It was decided that overloads of <code>Arrays.stream</code> were only added for <code>T[]</code>, <code>int[]</code>, <code>long[]</code>, <code>double[]</code>, plus a default <code>stream</code> method in the <code>Collection</code> interface. Those were the most frequently used arrays anyway, don&#39;t you agree? The point is, <i>you don&#39;t have to force yourself to write things for <b>every</b> type for it to be useful</i>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1664247232,"post_id":73861752,"comment_id":130421950,"body_markdown":"Finally, how about just not writing anything extra at all, and just using Stream&#39;s `filter` and `map`? What&#39;s wrong with that? As you pointed out, it is a lot shorter than what you have written.","body":"Finally, how about just not writing anything extra at all, and just using Stream&#39;s <code>filter</code> and <code>map</code>? What&#39;s wrong with that? As you pointed out, it is a lot shorter than what you have written."},{"owner":{"account_id":7912607,"reputation":111,"user_id":5976170,"display_name":"zombieParrot"},"score":0,"creation_date":1664247396,"post_id":73861752,"comment_id":130421972,"body_markdown":"Hi @Sweeper thanks for the feedback. Honestly I think the use case for anything other than an Iterable is rare but there&#39;s still an allure to the idea that you could finally stop thinking about which container type you have in hand and just get the damn result you want.. kinda freeing no? it&#39;s the opposite of regular java :)\nabout it being short - the terse form with the overload is 50% shorter than the Stream way of doing that. of course, Stream is always there too if you need it.","body":"Hi @Sweeper thanks for the feedback. Honestly I think the use case for anything other than an Iterable is rare but there&#39;s still an allure to the idea that you could finally stop thinking about which container type you have in hand and just get the damn result you want.. kinda freeing no? it&#39;s the opposite of regular java :) about it being short - the terse form with the overload is 50% shorter than the Stream way of doing that. of course, Stream is always there too if you need it."},{"owner":{"account_id":7912607,"reputation":111,"user_id":5976170,"display_name":"zombieParrot"},"score":0,"creation_date":1664247795,"post_id":73861752,"comment_id":130422018,"body_markdown":"Of course, if you have a stream in hand and don&#39;t want this to be a terminal operation you should just use the regular Stream api","body":"Of course, if you have a stream in hand and don&#39;t want this to be a terminal operation you should just use the regular Stream api"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":5,"creation_date":1664247857,"post_id":73861752,"comment_id":130422030,"body_markdown":"&quot;opposite of regular java&quot; See, you are fighting the system, and the system is fighting back. If you think `Iterator`, `Iterable` and `Stream` are just different &quot;container types&quot; then that&#39;s quite a big misunderstanding you have there... From Java&#39;s perspective, they are completely different. Maybe Java isn&#39;t for you, just like how Python isn&#39;t for me...","body":"&quot;opposite of regular java&quot; See, you are fighting the system, and the system is fighting back. If you think <code>Iterator</code>, <code>Iterable</code> and <code>Stream</code> are just different &quot;container types&quot; then that&#39;s quite a big misunderstanding you have there... From Java&#39;s perspective, they are completely different. Maybe Java isn&#39;t for you, just like how Python isn&#39;t for me..."},{"owner":{"account_id":7912607,"reputation":111,"user_id":5976170,"display_name":"zombieParrot"},"score":0,"creation_date":1664247960,"post_id":73861752,"comment_id":130422049,"body_markdown":"Haha yup it could be!","body":"Haha yup it could be!"},{"owner":{"account_id":7912607,"reputation":111,"user_id":5976170,"display_name":"zombieParrot"},"score":0,"creation_date":1664248806,"post_id":73861752,"comment_id":130422189,"body_markdown":"I know the reason why Iterator is not iterable, and so is stream etc.. it&#39;s just the way it&#39;s handelled.. they were not made iterable so people would not assume they can be iterated on more than once.. then why not make this explicit with all of them implementing a different interface, that says &quot;this thing is iterable, but don&#39;t count on it being possible more than once!&quot;. so instead of not making this useful common denominator available at all, just give it a distinct name..","body":"I know the reason why Iterator is not iterable, and so is stream etc.. it&#39;s just the way it&#39;s handelled.. they were not made iterable so people would not assume they can be iterated on more than once.. then why not make this explicit with all of them implementing a different interface, that says &quot;this thing is iterable, but don&#39;t count on it being possible more than once!&quot;. so instead of not making this useful common denominator available at all, just give it a distinct name.."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664267446,"creation_date":1664266920,"answer_id":73864435,"question_id":73861752,"body_markdown":"The problem of your approach is not the amount of possible inputs, but that all that you have yet achieved, is a compact way to produce a list. If you want something other than a list, your `list(…)` method is useless.\r\n\r\nSo you have two choices\r\n\r\n  1) Create a new method for each imaginable result and limit the use cases to what you have imagined. Or\r\n\r\n  2) Create an abstraction that allows to be expanded to produce results not hard-coded into your solution. Then, realize…\r\n\r\n…that you have just re-invented the Stream API.\r\n\r\nAs you already noticed, there are different sources to be integrated\r\n\r\n - Collections: `collection.stream()`\r\n\r\n - Arrays, of objects or `int`, `long`, or `double`: `Arrays.stream(array)`\r\n\r\n - Other primitive arrays: `IntStream.range(0, array.length).map(ix -&gt; array[ix])` (resp. `mapToDouble` or `mapToObj`)\r\n\r\n - A `String` (`chars()` or `codePoints()`) or a `BufferedReader` (`lines()`) or regex matches (`matcher.results()`),  \r\n   when you understand that getting a stream is the *solution*, rather than seeing a stream as a problem (another source to be integrated into your Stream reinvention).\r\n\r\n - Obviously, there is no need to integrate a Stream into a Stream and an `Iterator` is not a source but a mediator between the source and the target. However, solutions exist, see https://stackoverflow.com/q/24511052/2711488 and https://stackoverflow.com/q/23932061/2711488\r\n\r\n - The point of an abstraction is, that new sources can be integrated by independent developers, like with https://stackoverflow.com/q/32209248/2711488\r\n\r\nThen, you might want to support producing a result other than a list and end up at adding a new method for every imaginable result (as said above) or reinvent [the `Collector` abstraction] to support [two dozen *combinable* built-in results] and be extensible at the same time. Plus the option to use other terminal operations for counting, testing, plain reduction, etc.\r\n\r\nBut since producing a list has been recognized as a common case worth a dedicated method, you can write\r\n\r\n```java\r\nList&lt;Integer&gt; evensSquared = numbers.stream()\r\n    .filter(i -&gt; i % 2 == 0).map(x -&gt; x * x).toList();\r\n```\r\n\r\nin recent Java versions, which can be written only slightly more compact with your approach, because you’re hardcoding both, the result *and* the intermediate operations, only supporting filtering-followed-by-mapping, unless you’re adding another overload to the method.\r\n\r\nI can easily use the Stream API to write\r\n\r\n```java\r\nList&lt;String&gt; squaresWithTwoDigits = numbers.stream()\r\n    .map(x -&gt; String.valueOf(x * x)).filter(s -&gt; s.length() == 2).toList();\r\n```\r\n\r\ninstead, without waiting for the Stream API authors to provide a suitable method for “do map, followed by filter”. There’s an infinite number of combinations of intermediate operations, but only a finite number of methods you can add to your API.\r\n\r\n---\r\n\r\nTo sum it up, you can always create a slightly more compact API by reducing the flexibility. But that’s not a proof that the far more flexible API was too verbose.\r\n\r\nIf you really think that your specific use case deserve a more compact method, you can implement your utility method(s) *using* the Stream API, instead of reinventing the Stream API…\r\n\r\n```java\r\npublic static void main(String args[]) {\r\n    Set&lt;Integer&gt; numbers = Set.of(1,2,3,4,5,6,7,8);\r\n    List&lt;Integer&gt; evensSquared = list(numbers, i -&gt; i % 2 == 0, x -&gt; x * x);\r\n    System.out.println(evensSquared);\r\n}\r\npublic static &lt;T,K&gt; List&lt;K&gt; list(\r\n    Collection&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action) {\r\n\r\n    return source.stream().filter(filter).map(action).toList();\r\n}\r\n```\r\n\r\n[the `Collector` abstraction]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html\r\n[two dozen *combinable* built-in results]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html","title":"Java - Concise comprehensions-like functionality using function overloads","body":"<p>The problem of your approach is not the amount of possible inputs, but that all that you have yet achieved, is a compact way to produce a list. If you want something other than a list, your <code>list(…)</code> method is useless.</p>\n<p>So you have two choices</p>\n<ol>\n<li><p>Create a new method for each imaginable result and limit the use cases to what you have imagined. Or</p>\n</li>\n<li><p>Create an abstraction that allows to be expanded to produce results not hard-coded into your solution. Then, realize…</p>\n</li>\n</ol>\n<p>…that you have just re-invented the Stream API.</p>\n<p>As you already noticed, there are different sources to be integrated</p>\n<ul>\n<li><p>Collections: <code>collection.stream()</code></p>\n</li>\n<li><p>Arrays, of objects or <code>int</code>, <code>long</code>, or <code>double</code>: <code>Arrays.stream(array)</code></p>\n</li>\n<li><p>Other primitive arrays: <code>IntStream.range(0, array.length).map(ix -&gt; array[ix])</code> (resp. <code>mapToDouble</code> or <code>mapToObj</code>)</p>\n</li>\n<li><p>A <code>String</code> (<code>chars()</code> or <code>codePoints()</code>) or a <code>BufferedReader</code> (<code>lines()</code>) or regex matches (<code>matcher.results()</code>),<br />\nwhen you understand that getting a stream is the <em>solution</em>, rather than seeing a stream as a problem (another source to be integrated into your Stream reinvention).</p>\n</li>\n<li><p>Obviously, there is no need to integrate a Stream into a Stream and an <code>Iterator</code> is not a source but a mediator between the source and the target. However, solutions exist, see <a href=\"https://stackoverflow.com/q/24511052/2711488\">How to convert an Iterator to a Stream?</a> and <a href=\"https://stackoverflow.com/q/23932061/2711488\">Convert Iterable to Stream using Java 8 JDK</a></p>\n</li>\n<li><p>The point of an abstraction is, that new sources can be integrated by independent developers, like with <a href=\"https://stackoverflow.com/q/32209248/2711488\">java.util.stream with ResultSet</a></p>\n</li>\n</ul>\n<p>Then, you might want to support producing a result other than a list and end up at adding a new method for every imaginable result (as said above) or reinvent <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\">the <code>Collector</code> abstraction</a> to support <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">two dozen <em>combinable</em> built-in results</a> and be extensible at the same time. Plus the option to use other terminal operations for counting, testing, plain reduction, etc.</p>\n<p>But since producing a list has been recognized as a common case worth a dedicated method, you can write</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; evensSquared = numbers.stream()\n    .filter(i -&gt; i % 2 == 0).map(x -&gt; x * x).toList();\n</code></pre>\n<p>in recent Java versions, which can be written only slightly more compact with your approach, because you’re hardcoding both, the result <em>and</em> the intermediate operations, only supporting filtering-followed-by-mapping, unless you’re adding another overload to the method.</p>\n<p>I can easily use the Stream API to write</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; squaresWithTwoDigits = numbers.stream()\n    .map(x -&gt; String.valueOf(x * x)).filter(s -&gt; s.length() == 2).toList();\n</code></pre>\n<p>instead, without waiting for the Stream API authors to provide a suitable method for “do map, followed by filter”. There’s an infinite number of combinations of intermediate operations, but only a finite number of methods you can add to your API.</p>\n<hr />\n<p>To sum it up, you can always create a slightly more compact API by reducing the flexibility. But that’s not a proof that the far more flexible API was too verbose.</p>\n<p>If you really think that your specific use case deserve a more compact method, you can implement your utility method(s) <em>using</em> the Stream API, instead of reinventing the Stream API…</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String args[]) {\n    Set&lt;Integer&gt; numbers = Set.of(1,2,3,4,5,6,7,8);\n    List&lt;Integer&gt; evensSquared = list(numbers, i -&gt; i % 2 == 0, x -&gt; x * x);\n    System.out.println(evensSquared);\n}\npublic static &lt;T,K&gt; List&lt;K&gt; list(\n    Collection&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action) {\n\n    return source.stream().filter(filter).map(action).toList();\n}\n</code></pre>\n"}],"owner":{"account_id":7912607,"reputation":111,"user_id":5976170,"display_name":"zombieParrot"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664267446,"creation_date":1664245584,"question_id":73861752,"body_markdown":"It&#39;s no secrete that one of the most common rants about java is that it&#39;s so damn verbose.. so I decided one day to toy with writing some simple code to help myself with this problem. I wanted to have something like python&#39;s comprehension expressions. so I focused on capturing the main aspect which I feel makes them useful, which is that they condense 4 logical operations into a single expression -\r\n1. creating a new container to hold the result\r\n2. iterating over every element in the original container\r\n3. filtering (if you want)\r\n4. potentially applying some function before the elements are inserted to the result container.\r\n\r\nso if in java you would write\r\n\r\n```\r\nSet&lt;Integer&gt; numbers = Set.of(1,2,3,4,5,6,7,8); // assuming you have this set of numbers\r\n\r\n// Pre java 8\r\nArrayList&lt;Integer&gt; evensSquared = new ArrayList&lt;&gt;();\r\nfor (Integer i: numbers){\r\n    if (i % 2 == 0)\r\n        evens.add(i*i);\r\n}\r\n\r\n\r\n// Post java 8\r\nList&lt;Integer&gt; evensSquared = numbers.stream().filter(i -&gt; i % 2 == 0).map(x -&gt; x * x).collect(Collectors.toList());\r\n```\r\n\r\nin python you could just\r\n\r\n`evens_squared = {x * x for x in numbers if x % 2 == 0}`\r\n\r\nnow, to be honest this simple example is not really that horrible. And even with some more realistic examples that span a few more lines the big problem is not that it would take me another 20 seconds to type the code in java, rather that in general the language feels so inelegant that after writing a file or few I&#39;d often be looking at the code displeased, spending a few more hours refactoring just to make it feel less clunky. And this can be a real time spender.\r\n\r\nSo I&#39;ve written some code to try my version of comprehensions\r\n\r\n```\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.Iterator;\r\nimport java.util.Objects;\r\nimport java.util.function.Function;\r\nimport java.util.function.Predicate;\r\n\r\n// naive implementation, can be made better of course\r\n\r\npublic abstract class Comprehension&lt;T,K, TCollection extends Collection&lt;T&gt;, KCollection extends Collection&lt;K&gt;&gt;{\r\n\r\n        protected abstract TCollection getSinkAsTCollection();\r\n\r\n        protected abstract KCollection getSinkAsKCollection();\r\n\r\n        TCollection comprehend(Iterator&lt;T&gt; source){\r\n            return collectionComprehension(source, x -&gt; true, Function.identity(), getSinkAsTCollection());\r\n        }\r\n\r\n        TCollection comprehend(Iterator&lt;T&gt; source, Predicate&lt;T&gt; filter){\r\n            return collectionComprehension(source, filter, Function.identity(), getSinkAsTCollection());\r\n        }\r\n\r\n        KCollection comprehend(Iterator&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action){\r\n            return collectionComprehension(source, filter, action, getSinkAsKCollection());\r\n        }\r\n\r\n    public static &lt;T,K,U extends Collection&lt;K&gt;&gt; U collectionComprehension(Iterator&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action, U sink) {\r\n        Objects.requireNonNull(source);\r\n        Objects.requireNonNull(action);\r\n        Objects.requireNonNull(sink);\r\n\r\n        ArrayList&lt;K&gt; transformedElements = new ArrayList&lt;&gt;(); // accumulating elements into this list first to avoid a ConcurrentModificationException in case source and sink are backed by the same structure\r\n\r\n        filter = filter == null? x-&gt;true: filter;\r\n        for (Iterator&lt;T&gt; it = source; it.hasNext(); ) {\r\n            T t = it.next();\r\n            if (filter.test(t))\r\n                transformedElements.add(action.apply(t));\r\n        }\r\n\r\n        sink.addAll(transformedElements);\r\n        return sink;\r\n    }\r\n\r\n    public static &lt;T,K,U extends Collection&lt;K&gt;&gt; U collectionComprehension(Iterable&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action, U sink) {\r\n            return collectionComprehension(source.iterator(), filter, action, sink);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nand two examples for concrete comprehension classes:\r\n\r\n\r\n```\r\npackage Conversions;\r\n\r\nimport java.util.HashSet;\r\n\r\npublic class SetComprehension&lt;T,K&gt; extends Comprehension&lt;T,K, HashSet&lt;T&gt;,HashSet&lt;K&gt;&gt; {\r\n\r\n    @Override\r\n    protected HashSet&lt;T&gt; getSinkAsTCollection() {\r\n        return new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    protected HashSet&lt;K&gt; getSinkAsKCollection() {\r\n        return new HashSet&lt;&gt;();\r\n    }\r\n    \r\n}\r\n\r\n\r\n```\r\n\r\n```\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ListComprehension&lt;T,K&gt; extends Comprehension&lt;T,K, ArrayList&lt;T&gt;,ArrayList&lt;K&gt;&gt; {\r\n\r\n    @Override\r\n    protected ArrayList&lt;T&gt; getSinkAsTCollection() {\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    protected ArrayList&lt;K&gt; getSinkAsKCollection() {\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAt this point you could write (in keeping with the previous example)\r\n\r\n`List&lt;Integer&gt; evensSquared = new ListComprehension&lt;Integer,Integer&gt;().comprehend(numbers.iterator(), x -&gt; x % 2 == 0, x -&gt; x * x);`\r\n\r\nbut compare this with the stream version, this new take is even worse!..\r\n\r\n`List&lt;Integer&gt; evensSquared = numbers.stream().filter(num -&gt; num % 2 == 0).map(x -&gt; x * x).collect(Collectors.toList());`\r\n\r\n\r\nTo shorten this to anything idiomatic you&#39;d need to supply static methods to alleviate the need for the class instantiation ceremony, iterator() and type qualifiers. so you start adding some static methods to the ListComprehension class... \r\n\r\n```\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; list(Iterable&lt;T&gt; source) {\r\n        return new ListComprehension&lt;T,T&gt;().comprehend(source.iterator());\r\n    }\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; list(Iterable&lt;T&gt; source, Predicate&lt;T&gt; filter) {\r\n        return new ListComprehension&lt;T,T&gt;().comprehend(source.iterator(), filter);\r\n    }\r\n\r\n    public static &lt;T,K&gt; List&lt;K&gt; list(Iterable&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action) {\r\n        return new ListComprehension&lt;T,K&gt;().comprehend(source.iterator(),filter,action);\r\n    }\r\n\r\n```\r\n\r\nand now it works great! nice and short! \r\n\r\n`List&lt;Integer&gt; evensSquared  = list(integers, num -&gt; num % 2 == 0, x -&gt; x * x);`\r\n\r\n\r\n**However, now you need to handle a different problem - if you want to support even just the basic java containers as input you would need to write no less than a mind boggling 45(!!!) such overloads**. How come? because java has fragmented itself into no less than 6!! different container types, with no common denominator to any of them:\r\n1. Iterable\r\n2. Iterator (which is not iterable)\r\n3. Stream (which is not iterable)\r\n4. BaseStream: IntStream, DoubleStream, LongStream (all of which are neither iterable nor a stream)\r\n5. Object Array (again, is none of the above)\r\n6. Primitive Array - with 8 types of primitives.. and not a subtype of any other option\r\n\r\nSo in total you have 15 types of container * 3 signatures = 45 static functions.. ***for each type of Comprehension you would want to make.***\r\n\r\nSo to sum, my questions are:\r\n1. what do you think about the api? I obviously recon why java haven&#39;t done that itself in it&#39;s streams as it would explode the Streams api, but it&#39;s just really handy to have a concise way of converting any container to the common ones without the usual ceremony.\r\n2. is there any common denominator to at least some of the above types that I missed, or any other method I can use to reduce the number of overloads you would need to cover the conversions between at least some of those types? \r\n3. Are there any additional java built containers that I missed and aren&#39;t covered by any of the above signatures? \r\n4. Are there any commonly used java libraries with container types that aren&#39;t covered by any of the above signatures? for example I think google&#39;s Guava collections are Iterable so they should be covered, but vavr&#39;s collections are rather Traversable so would need additional static overrides\r\n5. have any library already done this painstaking job? feels like a job for code generators\r\n\r\nThanks a bunch\r\n\r\n\r\n\r\nP.S - Since each input type has 3 signatures I could of course drop the partial ones and leave only the overloads that have all parameters supplied(i.e send params such as filter=x-&gt;true and action=x-&gt;x when no filter/mapping is needed).. but the whole point was making these expressions as terse as possible","title":"Java - Concise comprehensions-like functionality using function overloads","body":"<p>It's no secrete that one of the most common rants about java is that it's so damn verbose.. so I decided one day to toy with writing some simple code to help myself with this problem. I wanted to have something like python's comprehension expressions. so I focused on capturing the main aspect which I feel makes them useful, which is that they condense 4 logical operations into a single expression -</p>\n<ol>\n<li>creating a new container to hold the result</li>\n<li>iterating over every element in the original container</li>\n<li>filtering (if you want)</li>\n<li>potentially applying some function before the elements are inserted to the result container.</li>\n</ol>\n<p>so if in java you would write</p>\n<pre><code>Set&lt;Integer&gt; numbers = Set.of(1,2,3,4,5,6,7,8); // assuming you have this set of numbers\n\n// Pre java 8\nArrayList&lt;Integer&gt; evensSquared = new ArrayList&lt;&gt;();\nfor (Integer i: numbers){\n    if (i % 2 == 0)\n        evens.add(i*i);\n}\n\n\n// Post java 8\nList&lt;Integer&gt; evensSquared = numbers.stream().filter(i -&gt; i % 2 == 0).map(x -&gt; x * x).collect(Collectors.toList());\n</code></pre>\n<p>in python you could just</p>\n<p><code>evens_squared = {x * x for x in numbers if x % 2 == 0}</code></p>\n<p>now, to be honest this simple example is not really that horrible. And even with some more realistic examples that span a few more lines the big problem is not that it would take me another 20 seconds to type the code in java, rather that in general the language feels so inelegant that after writing a file or few I'd often be looking at the code displeased, spending a few more hours refactoring just to make it feel less clunky. And this can be a real time spender.</p>\n<p>So I've written some code to try my version of comprehensions</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Iterator;\nimport java.util.Objects;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\n\n// naive implementation, can be made better of course\n\npublic abstract class Comprehension&lt;T,K, TCollection extends Collection&lt;T&gt;, KCollection extends Collection&lt;K&gt;&gt;{\n\n        protected abstract TCollection getSinkAsTCollection();\n\n        protected abstract KCollection getSinkAsKCollection();\n\n        TCollection comprehend(Iterator&lt;T&gt; source){\n            return collectionComprehension(source, x -&gt; true, Function.identity(), getSinkAsTCollection());\n        }\n\n        TCollection comprehend(Iterator&lt;T&gt; source, Predicate&lt;T&gt; filter){\n            return collectionComprehension(source, filter, Function.identity(), getSinkAsTCollection());\n        }\n\n        KCollection comprehend(Iterator&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action){\n            return collectionComprehension(source, filter, action, getSinkAsKCollection());\n        }\n\n    public static &lt;T,K,U extends Collection&lt;K&gt;&gt; U collectionComprehension(Iterator&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action, U sink) {\n        Objects.requireNonNull(source);\n        Objects.requireNonNull(action);\n        Objects.requireNonNull(sink);\n\n        ArrayList&lt;K&gt; transformedElements = new ArrayList&lt;&gt;(); // accumulating elements into this list first to avoid a ConcurrentModificationException in case source and sink are backed by the same structure\n\n        filter = filter == null? x-&gt;true: filter;\n        for (Iterator&lt;T&gt; it = source; it.hasNext(); ) {\n            T t = it.next();\n            if (filter.test(t))\n                transformedElements.add(action.apply(t));\n        }\n\n        sink.addAll(transformedElements);\n        return sink;\n    }\n\n    public static &lt;T,K,U extends Collection&lt;K&gt;&gt; U collectionComprehension(Iterable&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action, U sink) {\n            return collectionComprehension(source.iterator(), filter, action, sink);\n    }\n\n}\n\n</code></pre>\n<p>and two examples for concrete comprehension classes:</p>\n<pre><code>package Conversions;\n\nimport java.util.HashSet;\n\npublic class SetComprehension&lt;T,K&gt; extends Comprehension&lt;T,K, HashSet&lt;T&gt;,HashSet&lt;K&gt;&gt; {\n\n    @Override\n    protected HashSet&lt;T&gt; getSinkAsTCollection() {\n        return new HashSet&lt;&gt;();\n    }\n\n    @Override\n    protected HashSet&lt;K&gt; getSinkAsKCollection() {\n        return new HashSet&lt;&gt;();\n    }\n    \n}\n\n\n</code></pre>\n<pre><code>\nimport java.util.ArrayList;\n\npublic class ListComprehension&lt;T,K&gt; extends Comprehension&lt;T,K, ArrayList&lt;T&gt;,ArrayList&lt;K&gt;&gt; {\n\n    @Override\n    protected ArrayList&lt;T&gt; getSinkAsTCollection() {\n        return new ArrayList&lt;&gt;();\n    }\n\n    @Override\n    protected ArrayList&lt;K&gt; getSinkAsKCollection() {\n        return new ArrayList&lt;&gt;();\n    }\n}\n\n</code></pre>\n<p>At this point you could write (in keeping with the previous example)</p>\n<p><code>List&lt;Integer&gt; evensSquared = new ListComprehension&lt;Integer,Integer&gt;().comprehend(numbers.iterator(), x -&gt; x % 2 == 0, x -&gt; x * x);</code></p>\n<p>but compare this with the stream version, this new take is even worse!..</p>\n<p><code>List&lt;Integer&gt; evensSquared = numbers.stream().filter(num -&gt; num % 2 == 0).map(x -&gt; x * x).collect(Collectors.toList());</code></p>\n<p>To shorten this to anything idiomatic you'd need to supply static methods to alleviate the need for the class instantiation ceremony, iterator() and type qualifiers. so you start adding some static methods to the ListComprehension class...</p>\n<pre><code>\n    public static &lt;T&gt; List&lt;T&gt; list(Iterable&lt;T&gt; source) {\n        return new ListComprehension&lt;T,T&gt;().comprehend(source.iterator());\n    }\n\n    public static &lt;T&gt; List&lt;T&gt; list(Iterable&lt;T&gt; source, Predicate&lt;T&gt; filter) {\n        return new ListComprehension&lt;T,T&gt;().comprehend(source.iterator(), filter);\n    }\n\n    public static &lt;T,K&gt; List&lt;K&gt; list(Iterable&lt;T&gt; source, Predicate&lt;T&gt; filter, Function&lt;T,K&gt; action) {\n        return new ListComprehension&lt;T,K&gt;().comprehend(source.iterator(),filter,action);\n    }\n\n</code></pre>\n<p>and now it works great! nice and short!</p>\n<p><code>List&lt;Integer&gt; evensSquared  = list(integers, num -&gt; num % 2 == 0, x -&gt; x * x);</code></p>\n<p><strong>However, now you need to handle a different problem - if you want to support even just the basic java containers as input you would need to write no less than a mind boggling 45(!!!) such overloads</strong>. How come? because java has fragmented itself into no less than 6!! different container types, with no common denominator to any of them:</p>\n<ol>\n<li>Iterable</li>\n<li>Iterator (which is not iterable)</li>\n<li>Stream (which is not iterable)</li>\n<li>BaseStream: IntStream, DoubleStream, LongStream (all of which are neither iterable nor a stream)</li>\n<li>Object Array (again, is none of the above)</li>\n<li>Primitive Array - with 8 types of primitives.. and not a subtype of any other option</li>\n</ol>\n<p>So in total you have 15 types of container * 3 signatures = 45 static functions.. <em><strong>for each type of Comprehension you would want to make.</strong></em></p>\n<p>So to sum, my questions are:</p>\n<ol>\n<li>what do you think about the api? I obviously recon why java haven't done that itself in it's streams as it would explode the Streams api, but it's just really handy to have a concise way of converting any container to the common ones without the usual ceremony.</li>\n<li>is there any common denominator to at least some of the above types that I missed, or any other method I can use to reduce the number of overloads you would need to cover the conversions between at least some of those types?</li>\n<li>Are there any additional java built containers that I missed and aren't covered by any of the above signatures?</li>\n<li>Are there any commonly used java libraries with container types that aren't covered by any of the above signatures? for example I think google's Guava collections are Iterable so they should be covered, but vavr's collections are rather Traversable so would need additional static overrides</li>\n<li>have any library already done this painstaking job? feels like a job for code generators</li>\n</ol>\n<p>Thanks a bunch</p>\n<p>P.S - Since each input type has 3 signatures I could of course drop the partial ones and leave only the overloads that have all parameters supplied(i.e send params such as filter=x-&gt;true and action=x-&gt;x when no filter/mapping is needed).. but the whole point was making these expressions as terse as possible</p>\n"},{"tags":["java","spring-boot","maven","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1664210767,"post_id":73856859,"comment_id":130414303,"body_markdown":"try to use @ExtendWith(SpringExtension.class), and delete the @SpringBootTest","body":"try to use @ExtendWith(SpringExtension.class), and delete the @SpringBootTest"}],"answers":[{"tags":[],"owner":{"account_id":2824708,"reputation":199,"user_id":2427589,"display_name":"Dilyano Senders"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664266814,"creation_date":1664266814,"answer_id":73864415,"question_id":73856859,"body_markdown":"I think you are misusing the annotations.\r\n\r\n**@RunWith(SpringRunner.class)** \r\nThis one is used just to enable spring boot features. (@Autowire, @mockbean). It is the bridge between unit tests and spring boot test features used for testing. When you need to test those Spring Boot associated elements, you use this annotation.\r\n\r\n**@SpringBootTest** \r\nThis one is used for integration testing. It loads a complete application context which is used for end-to-end testing.\r\n\r\nYou used not mix up these 2 annotations.\r\n","title":"imcompatible types, cannot import springrunner class","body":"<p>I think you are misusing the annotations.</p>\n<p><strong>@RunWith(SpringRunner.class)</strong>\nThis one is used just to enable spring boot features. (@Autowire, @mockbean). It is the bridge between unit tests and spring boot test features used for testing. When you need to test those Spring Boot associated elements, you use this annotation.</p>\n<p><strong>@SpringBootTest</strong>\nThis one is used for integration testing. It loads a complete application context which is used for end-to-end testing.</p>\n<p>You used not mix up these 2 annotations.</p>\n"}],"owner":{"account_id":26448456,"reputation":1,"user_id":20091983,"display_name":"Lanlan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664266814,"creation_date":1664208198,"question_id":73856859,"body_markdown":"```\r\n@ExtendWith(SpringRunner.class)\r\n@SpringBootTest\r\n@ContextConfiguration(classes= CommunityApplication.class)\r\n```\r\nit said \r\n&gt;Incompatible types. Found: &#39;java.lang.Class&lt;org.springframework.test.context.junit4.SpringRunner&gt;&#39;, required: &#39;java.lang.Class&lt;? extends org.junit.jupiter.api.extension.Extension&gt;[]&#39;\r\n\r\nthen I added codes in the pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nthen it said \r\n&gt;Package &#39;junit:junit&#39; can be upgraded to version &#39;4.13.2&#39;\r\n\r\n\r\n\r\n","title":"imcompatible types, cannot import springrunner class","body":"<pre><code>@ExtendWith(SpringRunner.class)\n@SpringBootTest\n@ContextConfiguration(classes= CommunityApplication.class)\n</code></pre>\n<p>it said</p>\n<blockquote>\n<p>Incompatible types. Found: 'java.lang.Class&lt;org.springframework.test.context.junit4.SpringRunner&gt;', required: 'java.lang.Class&lt;? extends org.junit.jupiter.api.extension.Extension&gt;[]'</p>\n</blockquote>\n<p>then I added codes in the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then it said</p>\n<blockquote>\n<p>Package 'junit:junit' can be upgraded to version '4.13.2'</p>\n</blockquote>\n"},{"tags":["java","swap"],"comments":[{"owner":{"account_id":76594,"reputation":5792,"user_id":219155,"accept_rate":80,"display_name":"Nate C-K"},"score":3,"creation_date":1267905567,"post_id":2393906,"comment_id":2372727,"body_markdown":"You&#39;ll have to state more specifically what you&#39;re trying to accomplish if you want to get help with this.","body":"You&#39;ll have to state more specifically what you&#39;re trying to accomplish if you want to get help with this."},{"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"score":1,"creation_date":1267905708,"post_id":2393906,"comment_id":2372737,"body_markdown":"Check out this article: http://www.javaworld.com/javaworld/javaqa/2000-05/03-qa-0526-pass.html","body":"Check out this article: <a href=\"http://www.javaworld.com/javaworld/javaqa/2000-05/03-qa-0526-pass.html\" rel=\"nofollow noreferrer\">javaworld.com/javaworld/javaqa/2000-05/03-qa-0526-pass.html</a>"},{"owner":{"account_id":92864,"reputation":27045,"user_id":254306,"accept_rate":84,"display_name":"Travis Gockel"},"score":1,"creation_date":1267905724,"post_id":2393906,"comment_id":2372738,"body_markdown":"All parameters in Java are passed by value.","body":"All parameters in Java are passed by value."},{"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"score":0,"creation_date":1267906270,"post_id":2393906,"comment_id":2372781,"body_markdown":"you should use Integer instead int.","body":"you should use Integer instead int."},{"owner":{"account_id":50123,"reputation":365443,"user_id":149392,"display_name":"sepp2k"},"score":5,"creation_date":1267906550,"post_id":2393906,"comment_id":2372811,"body_markdown":"@gurukulki: That won&#39;t change a thing. If Integer had a `setValue` method, you could use that method instead of assignment and that would have the desired effect (unless you also want the object identity to change), but since there&#39;s not, using Integer won&#39;t help a bit.","body":"@gurukulki: That won&#39;t change a thing. If Integer had a <code>setValue</code> method, you could use that method instead of assignment and that would have the desired effect (unless you also want the object identity to change), but since there&#39;s not, using Integer won&#39;t help a bit."},{"owner":{"display_name":"user1487767"},"score":1,"creation_date":1340868193,"post_id":2393906,"comment_id":14769586,"body_markdown":"Chk this out.More info on swap by reference. http://www.cs.utsa.edu/~wagner/CS2213/swap/swap.html Chk this out.More info on swap by reference.","body":"Chk this out.More info on swap by reference. <a href=\"http://www.cs.utsa.edu/~wagner/CS2213/swap/swap.html\" rel=\"nofollow noreferrer\">cs.utsa.edu/~wagner/CS2213/swap/swap.html</a> Chk this out.More info on swap by reference."}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1267922309,"creation_date":1267905523,"answer_id":2393913,"question_id":2393906,"body_markdown":"It depends on what you want to do. This code swaps two elements of an array.\r\n\r\n    void swap(int i, int j, int[] arr) {\r\n      int t = arr[i];\r\n      arr[i] = arr[j];\r\n      arr[j] = t;\r\n    }\r\n\r\nSomething like this swaps the content of two `int[]` of equal length.\r\n\r\n    void swap(int[] arr1, int[] arr2) {\r\n      int[] t = arr1.clone();\r\n      System.arraycopy(arr2, 0, arr1, 0, t.length);\r\n      System.arraycopy(t, 0, arr2, 0, t.length);\r\n    }\r\n\r\nSomething like this swaps the content of two `BitSet` (using the [XOR swap algorithm](http://en.wikipedia.org/wiki/XOR_swap_algorithm)):\r\n\r\n    void swap(BitSet s1, BitSet s2) {\r\n      s1.xor(s2);\r\n      s2.xor(s1);\r\n      s1.xor(s2);\r\n    }\r\n\r\nSomething like this swaps the `x` and `y` fields of some `Point` class:\r\n\r\n    void swapXY(Point p) {\r\n      int t = p.x;\r\n      p.x = p.y;\r\n      p.y = t;\r\n    }","title":"Java method to swap primitives","body":"<p>It depends on what you want to do. This code swaps two elements of an array.</p>\n\n<pre><code>void swap(int i, int j, int[] arr) {\n  int t = arr[i];\n  arr[i] = arr[j];\n  arr[j] = t;\n}\n</code></pre>\n\n<p>Something like this swaps the content of two <code>int[]</code> of equal length.</p>\n\n<pre><code>void swap(int[] arr1, int[] arr2) {\n  int[] t = arr1.clone();\n  System.arraycopy(arr2, 0, arr1, 0, t.length);\n  System.arraycopy(t, 0, arr2, 0, t.length);\n}\n</code></pre>\n\n<p>Something like this swaps the content of two <code>BitSet</code> (using the <a href=\"http://en.wikipedia.org/wiki/XOR_swap_algorithm\" rel=\"noreferrer\">XOR swap algorithm</a>):</p>\n\n<pre><code>void swap(BitSet s1, BitSet s2) {\n  s1.xor(s2);\n  s2.xor(s1);\n  s1.xor(s2);\n}\n</code></pre>\n\n<p>Something like this swaps the <code>x</code> and <code>y</code> fields of some <code>Point</code> class:</p>\n\n<pre><code>void swapXY(Point p) {\n  int t = p.x;\n  p.x = p.y;\n  p.y = t;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50123,"reputation":365443,"user_id":149392,"display_name":"sepp2k"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1353759802,"creation_date":1267905738,"answer_id":2393934,"question_id":2393906,"body_markdown":"You can&#39;t create a method swap, so that after calling `swap(x,y)` the values of x and y will be swapped. You could create such a method for mutable classes by swapping their contents&#185;, but this would not change their object identity and you could not define a general method for this.\r\n\r\nYou can however write a method that swaps two items in an array or list if that&#39;s what you want.\r\n\r\n&#185; For example you could create a swap method that takes two lists and after executing the method, list x will have the previous contents of list y and list y will have the previous contents of list x.","title":"Java method to swap primitives","body":"<p>You can't create a method swap, so that after calling <code>swap(x,y)</code> the values of x and y will be swapped. You could create such a method for mutable classes by swapping their contents¹, but this would not change their object identity and you could not define a general method for this.</p>\n\n<p>You can however write a method that swaps two items in an array or list if that's what you want.</p>\n\n<p>¹ For example you could create a swap method that takes two lists and after executing the method, list x will have the previous contents of list y and list y will have the previous contents of list x.</p>\n"},{"tags":[],"owner":{"account_id":11848,"reputation":9165,"user_id":23056,"accept_rate":100,"display_name":"nicerobot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441830320,"creation_date":1267921150,"answer_id":2394633,"question_id":2393906,"body_markdown":"I might do something like the following. Of course, with the wealth of Collection classes, i can&#39;t imagine ever needing to use this in any practical code.\r\n\r\n    public class Shift {\r\n      public static &lt;T&gt; T[] left (final T... i) {\r\n        if (1 &gt;= i.length) {\r\n          return i;\r\n        }\r\n        final T t = i[0];\r\n        int x = 0;\r\n        for (; x &lt; i.length - 1; x++) {\r\n          i[x] = i[x + 1];\r\n        }\r\n        i[x] = t;\r\n        return i;\r\n      }\r\n    }\r\n\r\nCalled with two arguments, it&#39;s a swap.\r\n\r\nIt can be used as follows:\r\n\r\n    int x = 1;\r\n    int y = 2;\r\n    Integer[] yx = Shift.left(x,y);\r\n\r\nAlternatively:\r\n\r\n    Integer[] yx = {x,y};\r\n    Shift.left(yx);\r\n\r\nThen\r\n\r\n    x = yx[0];\r\n    y = yx[1];\r\n\r\nNote: it auto-boxes primitives.","title":"Java method to swap primitives","body":"<p>I might do something like the following. Of course, with the wealth of Collection classes, i can't imagine ever needing to use this in any practical code.</p>\n\n<pre><code>public class Shift {\n  public static &lt;T&gt; T[] left (final T... i) {\n    if (1 &gt;= i.length) {\n      return i;\n    }\n    final T t = i[0];\n    int x = 0;\n    for (; x &lt; i.length - 1; x++) {\n      i[x] = i[x + 1];\n    }\n    i[x] = t;\n    return i;\n  }\n}\n</code></pre>\n\n<p>Called with two arguments, it's a swap.</p>\n\n<p>It can be used as follows:</p>\n\n<pre><code>int x = 1;\nint y = 2;\nInteger[] yx = Shift.left(x,y);\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>Integer[] yx = {x,y};\nShift.left(yx);\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>x = yx[0];\ny = yx[1];\n</code></pre>\n\n<p>Note: it auto-boxes primitives.</p>\n"},{"tags":[],"owner":{"account_id":1433328,"reputation":11556,"user_id":1355221,"accept_rate":100,"display_name":"dansalmo"},"down_vote_count":3,"up_vote_count":80,"is_accepted":false,"score":77,"last_activity_date":1387153852,"creation_date":1387142887,"answer_id":20600020,"question_id":2393906,"body_markdown":"I think this is the closest you can get to a simple swap, but it does not have a straightforward usage pattern:\r\n\r\n    int swap(int a, int b) {  // usage: y = swap(x, x=y);\r\n       return a;\r\n    }\r\n\r\n    y = swap(x, x=y);\r\n\r\nIt relies on the fact that `x` will pass into `swap` before `y` is assigned to `x`, then `x` is returned and assigned to `y`.\r\n\r\nYou can make it generic and swap any number of objects of the same type:\r\n\r\n    &lt;T&gt; T swap(T... args) {   // usage: z = swap(a, a=b, b=c, ... y=z);\r\n        return args[0];\r\n    }\r\n\r\n    c = swap(a, a=b, b=c)\r\n","title":"Java method to swap primitives","body":"<p>I think this is the closest you can get to a simple swap, but it does not have a straightforward usage pattern:</p>\n\n<pre><code>int swap(int a, int b) {  // usage: y = swap(x, x=y);\n   return a;\n}\n\ny = swap(x, x=y);\n</code></pre>\n\n<p>It relies on the fact that <code>x</code> will pass into <code>swap</code> before <code>y</code> is assigned to <code>x</code>, then <code>x</code> is returned and assigned to <code>y</code>.</p>\n\n<p>You can make it generic and swap any number of objects of the same type:</p>\n\n<pre><code>&lt;T&gt; T swap(T... args) {   // usage: z = swap(a, a=b, b=c, ... y=z);\n    return args[0];\n}\n\nc = swap(a, a=b, b=c)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3205604,"reputation":8237,"user_id":2706707,"display_name":"D&#250;thomhas"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1535736043,"creation_date":1444152163,"answer_id":32975883,"question_id":2393906,"body_markdown":"Apparently I don&#39;t have enough reputation points to *comment* on [**Dansalmo**&#39;s\r\nanswer](https://stackoverflow.com/a/20600020/2706707), but it is a good one, though mis-named. His answer is actually a K-combinator.\r\n\r\n    int K( int a, int b ) {\r\n        return a;\r\n    }\r\n\r\nThe [JLS is specific about argument evaluation when passing to methods/ctors/etc](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.7.4). (Was this not so in older specs?)\r\n\r\nGranted, this is a *functional* idiom, but it is clear enough to those who recognize it. (If you don&#39;t understand code you find, don&#39;t mess with it!)\r\n\r\n    y = K(x, x=y);  // swap x and y\r\n\r\nThe K-combinator is specifically designed for this kind of thing. AFAIK there&#39;s no reason it shouldn&#39;t pass a code review.\r\n\r\nMy $0.02.","title":"Java method to swap primitives","body":"<p>Apparently I don't have enough reputation points to <em>comment</em> on <a href=\"https://stackoverflow.com/a/20600020/2706707\"><strong>Dansalmo</strong>'s\nanswer</a>, but it is a good one, though mis-named. His answer is actually a K-combinator.</p>\n\n<pre><code>int K( int a, int b ) {\n    return a;\n}\n</code></pre>\n\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.7.4\" rel=\"nofollow noreferrer\">JLS is specific about argument evaluation when passing to methods/ctors/etc</a>. (Was this not so in older specs?)</p>\n\n<p>Granted, this is a <em>functional</em> idiom, but it is clear enough to those who recognize it. (If you don't understand code you find, don't mess with it!)</p>\n\n<pre><code>y = K(x, x=y);  // swap x and y\n</code></pre>\n\n<p>The K-combinator is specifically designed for this kind of thing. AFAIK there's no reason it shouldn't pass a code review.</p>\n\n<p>My $0.02.</p>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1664266652,"creation_date":1465913766,"answer_id":37814602,"question_id":2393906,"body_markdown":"AFAIS, no one mentions of [atomic reference][1]. \r\n\r\nInteger\r\n\r\n    public void swap(AtomicInteger a, AtomicInteger b){\r\n        a.set(b.getAndSet(a.get()));\r\n    }\r\n\r\nString\r\n\r\n    public void swap(AtomicReference&lt;String&gt; a, AtomicReference&lt;String&gt; b){\r\n        a.set(b.getAndSet(a.get()));\r\n    }\r\n\r\n\r\nAs per @Stephan&#39;s comment: as long as you are not in a multi-threaded app, the following will work as well.\r\n\r\nFirst: wrap your simple types in an array of size 1.\r\n\r\n    int[] x1 = {x};\r\n    int[] y1 = {y};\r\n\r\nThen write a swap method\r\n\r\n    public void swap(int[] a, int[] b) {\r\n        assert(a.length == 1);\r\n        assert(b.length == 1);\r\n        int temp = a[0];\r\n        a[0] = b[0];\r\n        b[0] = temp;\r\n    }\r\n    \r\nIf you want to make this work for all simple types, you&#39;ll have to write overloads, because [Java Generics don&#39;t work for simple types][2].\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html\r\n  [2]: https://stackoverflow.com/q/1617843/650492","title":"Java method to swap primitives","body":"<p>AFAIS, no one mentions of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\">atomic reference</a>.</p>\n<p>Integer</p>\n<pre><code>public void swap(AtomicInteger a, AtomicInteger b){\n    a.set(b.getAndSet(a.get()));\n}\n</code></pre>\n<p>String</p>\n<pre><code>public void swap(AtomicReference&lt;String&gt; a, AtomicReference&lt;String&gt; b){\n    a.set(b.getAndSet(a.get()));\n}\n</code></pre>\n<p>As per @Stephan's comment: as long as you are not in a multi-threaded app, the following will work as well.</p>\n<p>First: wrap your simple types in an array of size 1.</p>\n<pre><code>int[] x1 = {x};\nint[] y1 = {y};\n</code></pre>\n<p>Then write a swap method</p>\n<pre><code>public void swap(int[] a, int[] b) {\n    assert(a.length == 1);\n    assert(b.length == 1);\n    int temp = a[0];\n    a[0] = b[0];\n    b[0] = temp;\n}\n</code></pre>\n<p>If you want to make this work for all simple types, you'll have to write overloads, because <a href=\"https://stackoverflow.com/q/1617843/650492\">Java Generics don't work for simple types</a>.</p>\n"},{"tags":[],"owner":{"account_id":1610807,"reputation":1622,"user_id":1489782,"display_name":"Mark Hetherington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518205666,"creation_date":1507670151,"answer_id":46676169,"question_id":2393906,"body_markdown":"Try this magic\r\n\r\n    public static &lt;T&gt; void swap(T a, T b) {\r\n        try {\r\n            Field[] fields = a.getClass().getDeclaredFields();\r\n            for (Field field : fields) {\r\n                field.setAccessible(true);\r\n                Object temp = field.get(a);\r\n                field.set(a, field.get(b));\r\n                field.set(b, temp);\r\n            }\r\n        } catch (IllegalAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nAnd test it!\r\n\r\n        System.out.println(&quot;a:&quot; + a);\r\n        System.out.println(&quot;b:&quot; + b);\r\n        swap(a,b);\r\n        System.out.println(&quot;a:&quot; + a);\r\n        System.out.println(&quot;b:&quot; + b);","title":"Java method to swap primitives","body":"<p>Try this magic</p>\n\n<pre><code>public static &lt;T&gt; void swap(T a, T b) {\n    try {\n        Field[] fields = a.getClass().getDeclaredFields();\n        for (Field field : fields) {\n            field.setAccessible(true);\n            Object temp = field.get(a);\n            field.set(a, field.get(b));\n            field.set(b, temp);\n        }\n    } catch (IllegalAccessException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And test it!</p>\n\n<pre><code>    System.out.println(\"a:\" + a);\n    System.out.println(\"b:\" + b);\n    swap(a,b);\n    System.out.println(\"a:\" + a);\n    System.out.println(\"b:\" + b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3967710,"reputation":1462,"user_id":3273130,"display_name":"Bolpat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571340486,"creation_date":1571340486,"answer_id":58439523,"question_id":2393906,"body_markdown":"For integer types, you can do\r\n```\r\na ^= b;\r\nb ^= a;\r\na ^= b;\r\n```\r\nusing the bit-wise xor operator `^`. As all the other suggestions, you probably shouldn&#39;t use it in production code.\r\n\r\nFor a reason I don&#39;t know, the single line version `a ^= b ^= a ^= b` doesn&#39;t work (maybe my Java compiler has a bug). The single line worked in C with all compilers I tried. However, two-line versions work:\r\n```\r\na ^= b ^= a;\r\nb ^= a;\r\n```\r\nas well as\r\n```\r\nb ^= a;\r\na ^= b ^= a;\r\n```\r\n\r\nA proof that it works: Let a₀ and b₀ be the initial values for `a` and `b`. After the first line, `a` is a₁ = a₀ xor b₀; after the second line, `b` is b₁ = b₀ xor a₁ = b₀ xor (a₀ xor b₀) = a₀. After the third line, `a` is a₂ = a₁ xor b₁ = a₁ xor (b₀ xor a₁) = b₀.","title":"Java method to swap primitives","body":"<p>For integer types, you can do</p>\n\n<pre><code>a ^= b;\nb ^= a;\na ^= b;\n</code></pre>\n\n<p>using the bit-wise xor operator <code>^</code>. As all the other suggestions, you probably shouldn't use it in production code.</p>\n\n<p>For a reason I don't know, the single line version <code>a ^= b ^= a ^= b</code> doesn't work (maybe my Java compiler has a bug). The single line worked in C with all compilers I tried. However, two-line versions work:</p>\n\n<pre><code>a ^= b ^= a;\nb ^= a;\n</code></pre>\n\n<p>as well as</p>\n\n<pre><code>b ^= a;\na ^= b ^= a;\n</code></pre>\n\n<p>A proof that it works: Let a₀ and b₀ be the initial values for <code>a</code> and <code>b</code>. After the first line, <code>a</code> is a₁ = a₀ xor b₀; after the second line, <code>b</code> is b₁ = b₀ xor a₁ = b₀ xor (a₀ xor b₀) = a₀. After the third line, <code>a</code> is a₂ = a₁ xor b₁ = a₁ xor (b₀ xor a₁) = b₀.</p>\n"}],"owner":{"account_id":96642,"reputation":1561,"user_id":262588,"accept_rate":90,"display_name":"higherDefender"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113209,"favorite_count":0,"down_vote_count":3,"up_vote_count":53,"accepted_answer_id":2393934,"answer_count":8,"score":50,"last_activity_date":1664266652,"creation_date":1267905407,"question_id":2393906,"body_markdown":"how do I make my swap function in java if there is no method by which we can pass by reference?  Could somebody give me a code?\r\n\r\n    swap(int a, int b)\r\n    {\r\n         int temp = a;\r\n         a = b;\r\n         b = temp;\r\n    }\r\n\r\nBut the changes wont be reflected back since java passes parameters by value.\r\n","title":"Java method to swap primitives","body":"<p>how do I make my swap function in java if there is no method by which we can pass by reference?  Could somebody give me a code?</p>\n\n<pre><code>swap(int a, int b)\n{\n     int temp = a;\n     a = b;\n     b = temp;\n}\n</code></pre>\n\n<p>But the changes wont be reflected back since java passes parameters by value.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8986,"page":1006,"page_size":100}
