{"items":[{"tags":["java","selenium","environment-variables","appium","appium-android"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1663700737,"post_id":73791292,"comment_id":130300575,"body_markdown":"sounds like it&#39;s looking for run-time (JRE) not the JDK.   You could probably just re-install Java JRE to fix this.","body":"sounds like it&#39;s looking for run-time (JRE) not the JDK.   You could probably just re-install Java JRE to fix this."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1663703478,"post_id":73791292,"comment_id":130301417,"body_markdown":"if installing the JRE doesn&#39;t help, check your PATH environmental variable to be sure it&#39;s pointing to the &quot;bin&quot; directory that contains &quot;java.exe&quot;.  (and double-check it for multiple entries)","body":"if installing the JRE doesn&#39;t help, check your PATH environmental variable to be sure it&#39;s pointing to the &quot;bin&quot; directory that contains &quot;java.exe&quot;.  (and double-check it for multiple entries)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1663704906,"post_id":73791292,"comment_id":130301788,"body_markdown":"No experience with Appium, but this problem is not unique for that scenario. How exactly to you start the Appium Inspector?","body":"No experience with Appium, but this problem is not unique for that scenario. How exactly to you start the Appium Inspector?"},{"owner":{"account_id":25643144,"reputation":1,"user_id":19575912,"display_name":"bounyh"},"score":0,"creation_date":1663705916,"post_id":73791292,"comment_id":130302077,"body_markdown":"@pcalkins I figured it out appium just had a seperate config pannel for environment variables that I needed to correct. Thank you for the help though","body":"@pcalkins I figured it out appium just had a seperate config pannel for environment variables that I needed to correct. Thank you for the help though"},{"owner":{"account_id":25643144,"reputation":1,"user_id":19575912,"display_name":"bounyh"},"score":0,"creation_date":1663705960,"post_id":73791292,"comment_id":130302091,"body_markdown":"@cyberbrain it&#39;s through a GUI separately installed from appium. but I figured it out appium just had a separate config panel for environment variables that I needed to correct. Thank you for the help though","body":"@cyberbrain it&#39;s through a GUI separately installed from appium. but I figured it out appium just had a separate config panel for environment variables that I needed to correct. Thank you for the help though"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1663706086,"post_id":73791292,"comment_id":130302124,"body_markdown":"If possible I would recommend not to set the environment variable `JAVA_HOME` in that configuration but try to use the &quot;incoming&quot; value from the operating system. This is no value that is dependent on an installed application - if you don&#39;t include a JDK in your installation as well.","body":"If possible I would recommend not to set the environment variable <code>JAVA_HOME</code> in that configuration but try to use the &quot;incoming&quot; value from the operating system. This is no value that is dependent on an installed application - if you don&#39;t include a JDK in your installation as well."}],"owner":{"account_id":25643144,"reputation":1,"user_id":19575912,"display_name":"bounyh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663699292,"creation_date":1663699292,"question_id":73791292,"body_markdown":"Appium Inspector seems to think my [JAVA_HOME is set to C:\\Program Files\\Java\\bin][1]\r\n\r\n\r\nHowever, [JAVA_HOME is set to C:\\Program Files\\Java\\jdk1.8.0_341][2]\r\n\r\nWhich is probably why I think I am unable to start the appium session getting this message: \r\n\r\n&gt; Original error: The &#39;java.exe&#39; binary could not be found neither in PATH nor under JAVA_HOME (C:\\Program Files\\Java\\bin)\r\n\r\nI also have %JAVA_HOME%\\bin in my PATH, so I&#39;m unable to figure out why appium is detecting the wrong path for my JAVA_HOME variable. Any help would be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/q5Lze.png\r\n  [2]: https://i.stack.imgur.com/5KRub.png","title":"Appium Inspector displaying the wrong JAVA_HOME","body":"<p>Appium Inspector seems to think my <a href=\"https://i.stack.imgur.com/q5Lze.png\" rel=\"nofollow noreferrer\">JAVA_HOME is set to C:\\Program Files\\Java\\bin</a></p>\n<p>However, <a href=\"https://i.stack.imgur.com/5KRub.png\" rel=\"nofollow noreferrer\">JAVA_HOME is set to C:\\Program Files\\Java\\jdk1.8.0_341</a></p>\n<p>Which is probably why I think I am unable to start the appium session getting this message:</p>\n<blockquote>\n<p>Original error: The 'java.exe' binary could not be found neither in PATH nor under JAVA_HOME (C:\\Program Files\\Java\\bin)</p>\n</blockquote>\n<p>I also have %JAVA_HOME%\\bin in my PATH, so I'm unable to figure out why appium is detecting the wrong path for my JAVA_HOME variable. Any help would be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1663698379,"post_id":73791092,"comment_id":130299887,"body_markdown":"Your question does not contain enough information.  Are you sure you’re extending JFrame?  Are you sure you’re displaying that same JFrame instance?  If `Rules` is a component in that JFrame, how can it make its own JFrame ancestor visible?  What “back button” are you talking about?","body":"Your question does not contain enough information.  Are you sure you’re extending JFrame?  Are you sure you’re displaying that same JFrame instance?  If <code>Rules</code> is a component in that JFrame, how can it make its own JFrame ancestor visible?  What “back button” are you talking about?"},{"owner":{"account_id":22027897,"reputation":13,"user_id":16295604,"display_name":"Newbie coder"},"score":0,"creation_date":1663699265,"post_id":73791092,"comment_id":130300129,"body_markdown":"hey i have edited this post so you can check again","body":"hey i have edited this post so you can check again"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1663699376,"post_id":73791092,"comment_id":130300164,"body_markdown":"`actionPerformed` is never called, because you never called `addActionListener` on either of your buttons.","body":"<code>actionPerformed</code> is never called, because you never called <code>addActionListener</code> on either of your buttons."},{"owner":{"account_id":22027897,"reputation":13,"user_id":16295604,"display_name":"Newbie coder"},"score":0,"creation_date":1663699718,"post_id":73791092,"comment_id":130300270,"body_markdown":"oh thanks man don&#39;t know i forgot about it thanks :)","body":"oh thanks man don&#39;t know i forgot about it thanks :)"}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663698271,"creation_date":1663698271,"answer_id":73791119,"question_id":73791092,"body_markdown":"Do you know what it the purpose of:\r\n\r\n    JFrame.dispose();\r\n\r\n?\r\n\r\nIt is exactly what you need :)","title":"JFrame window is not closing","body":"<p>Do you know what it the purpose of:</p>\n<pre><code>JFrame.dispose();\n</code></pre>\n<p>?</p>\n<p>It is exactly what you need :)</p>\n"}],"owner":{"account_id":22027897,"reputation":13,"user_id":16295604,"display_name":"Newbie coder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663699210,"creation_date":1663698088,"question_id":73791092,"body_markdown":"   so i was trying to make a quiz application but i got this error below\r\n\r\n   I Want to close the JFrame window so i tried setVisible(false); to close window if someone click back button but it is not working help me as im new. i even tried Jframe.dispose(); and other methods i dont what error i have made if you help me pls\r\n ```````````````````````````````````````````````\r\n   import javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\n\r\npublic class Login extends JFrame implements ActionListener {\r\n    JButton Rules,Back;\r\n    \r\n\r\n    Login() {\r\n        getContentPane().setBackground(Color.white);\r\n        ImageIcon i1 = new ImageIcon(ClassLoader.getSystemResource(&quot;icon/login.jpeg&quot;));//&lt;-- to pick images from directory\r\n        setLayout(null);\r\n        JLabel image = new JLabel(i1);\r\n\r\n        JLabel heading = new JLabel(&quot;Quiz Bazzi&quot;);\r\n        heading.setBounds(750,50,300,50);\r\n        heading.setFont(new Font(&quot;Mongolian Baiti&quot;,Font.BOLD,42));\r\n        heading.setForeground(Color.ORANGE);\r\n        add(heading);\r\n\r\n        JLabel name = new JLabel(&quot;Enter Your Name&quot;);\r\n        name.setBounds(785,150,350,20);\r\n        name.setFont(new Font(&quot;Mongolian Baiti&quot;,Font.BOLD,18));\r\n        name.setForeground(Color.black);\r\n\r\n        add(name);\r\n\r\n        JTextField tfname = new JTextField();\r\n        tfname.setBounds(715,180,300,25);\r\n        tfname.setFont(new Font(&quot;Times New Roman&quot;,Font.BOLD,18));\r\n        tfname.setForeground(Color.black);\r\n        add(tfname);\r\n\r\n        Rules = new JButton(&quot;Rules&quot;);\r\n        Rules.setBounds(715,220,120,25);\r\n        Rules.setBackground(Color.black);\r\n        Rules.setForeground(Color.white);\r\n        add(Rules);\r\n\r\n        Back = new JButton(&quot;Back&quot;);\r\n        Back.setBounds(895,220,120,25);\r\n        Back.setBackground(Color.black);\r\n        Back.setForeground(Color.white);\r\n        add(Back);\r\n\r\n        image.setBounds(0,0,500,400);\r\n        add(image);\r\n\r\n        setSize(1200,439);\r\n        setLocation(180,100);\r\n        setVisible(true);\r\n\r\n    }  \r\n    public void actionPerformed(ActionEvent e){\r\n        if(e.getSource() == Rules){\r\n            setVisible(true);\r\n        } else if (e.getSource() == Back) {\r\n            setVisible(false);\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n       new Login();\r\n    }\r\n}\r\n````````````````````````````````````````````````````\r\n\r\n        ","title":"JFrame window is not closing","body":"<p>so i was trying to make a quiz application but i got this error below</p>\n<p>I Want to close the JFrame window so i tried setVisible(false); to close window if someone click back button but it is not working help me as im new. i even tried Jframe.dispose(); and other methods i dont what error i have made if you help me pls</p>\n<pre><code>  import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\n\npublic class Login extends JFrame implements ActionListener {\n   JButton Rules,Back;\n   \n\n   Login() {\n       getContentPane().setBackground(Color.white);\n       ImageIcon i1 = new ImageIcon(ClassLoader.getSystemResource(&quot;icon/login.jpeg&quot;));//&lt;-- to pick images from directory\n       setLayout(null);\n       JLabel image = new JLabel(i1);\n\n       JLabel heading = new JLabel(&quot;Quiz Bazzi&quot;);\n       heading.setBounds(750,50,300,50);\n       heading.setFont(new Font(&quot;Mongolian Baiti&quot;,Font.BOLD,42));\n       heading.setForeground(Color.ORANGE);\n       add(heading);\n\n       JLabel name = new JLabel(&quot;Enter Your Name&quot;);\n       name.setBounds(785,150,350,20);\n       name.setFont(new Font(&quot;Mongolian Baiti&quot;,Font.BOLD,18));\n       name.setForeground(Color.black);\n\n       add(name);\n\n       JTextField tfname = new JTextField();\n       tfname.setBounds(715,180,300,25);\n       tfname.setFont(new Font(&quot;Times New Roman&quot;,Font.BOLD,18));\n       tfname.setForeground(Color.black);\n       add(tfname);\n\n       Rules = new JButton(&quot;Rules&quot;);\n       Rules.setBounds(715,220,120,25);\n       Rules.setBackground(Color.black);\n       Rules.setForeground(Color.white);\n       add(Rules);\n\n       Back = new JButton(&quot;Back&quot;);\n       Back.setBounds(895,220,120,25);\n       Back.setBackground(Color.black);\n       Back.setForeground(Color.white);\n       add(Back);\n\n       image.setBounds(0,0,500,400);\n       add(image);\n\n       setSize(1200,439);\n       setLocation(180,100);\n       setVisible(true);\n\n   }  \n   public void actionPerformed(ActionEvent e){\n       if(e.getSource() == Rules){\n           setVisible(true);\n       } else if (e.getSource() == Back) {\n           setVisible(false);\n\n       }\n\n\n   }\n\n   public static void main(String[] args) {\n      new Login();\n   }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1663652865,"post_id":73780001,"comment_id":130283958,"body_markdown":"How do you get information about internal and external storage and micro sd card?","body":"How do you get information about internal and external storage and micro sd card?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663674429,"post_id":73780001,"comment_id":130290808,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23537401,"reputation":1,"user_id":17582146,"display_name":"calebinski"},"score":0,"creation_date":1663698610,"post_id":73780001,"comment_id":130299943,"body_markdown":"@blackapps I am not grabbing any information regarding internal or external storage, and I do NOT want any information regarding any SD cards in the phone. I am using the ACTION_OPEN_DOCUMENT_TREE intent to grab the URI of the connected usb storage device then creating a DocumentFile object from that URI.","body":"@blackapps I am not grabbing any information regarding internal or external storage, and I do NOT want any information regarding any SD cards in the phone. I am using the ACTION_OPEN_DOCUMENT_TREE intent to grab the URI of the connected usb storage device then creating a DocumentFile object from that URI."}],"owner":{"account_id":23537401,"reputation":1,"user_id":17582146,"display_name":"calebinski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663698790,"creation_date":1663627949,"question_id":73780001,"body_markdown":"I am creating an Android application that accesses a connected USB Mass Storage device and saves files to it. Part of the functionality that I want for my app is for the user to be able to see how much space is left on the connected device. I am able to access the device and copy files to and from the device just fine. What I need to know is how would I go about finding the memory information about the connected device?\r\n\r\nI have tried using External Storage information but that only grabs the SD card information (unless I am using it incorrectly).\r\n\r\nEDIT: I am not getting any information regarding internal or external storage. The way I am getting the USB storage device is by using the ACTION_OPEN_DOCUMENT_TREE Intent then creating a DocumentFile object from the URI that is returned. I do NOT want any information about other storage on the device. I just want the connected USB.","title":"ANDROID: How do I get information about connected USB mass storage devices?","body":"<p>I am creating an Android application that accesses a connected USB Mass Storage device and saves files to it. Part of the functionality that I want for my app is for the user to be able to see how much space is left on the connected device. I am able to access the device and copy files to and from the device just fine. What I need to know is how would I go about finding the memory information about the connected device?</p>\n<p>I have tried using External Storage information but that only grabs the SD card information (unless I am using it incorrectly).</p>\n<p>EDIT: I am not getting any information regarding internal or external storage. The way I am getting the USB storage device is by using the ACTION_OPEN_DOCUMENT_TREE Intent then creating a DocumentFile object from the URI that is returned. I do NOT want any information about other storage on the device. I just want the connected USB.</p>\n"},{"tags":["java","annotations","set","lombok","hashcode"],"answers":[{"tags":[],"owner":{"account_id":8651403,"reputation":18,"user_id":6476956,"display_name":"Austin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663698626,"creation_date":1663696316,"answer_id":73790810,"question_id":73790676,"body_markdown":"You need to override the equals method.\r\n\r\nSee here for details: https://www.geeksforgeeks.org/overriding-equals-method-in-java/\r\n\r\nin your Custom class you would write a method called equals and use the @Override annotation:\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n \r\n        // If the object is compared with itself then return true \r\n        if (o != null &amp;&amp; o.a == this.a &amp;&amp; o.b == this.b) {\r\n            return true;\r\n        }else{\r\n            return false;...\r\n\r\n\r\nThis will cause a collision when you add two objects with matching a and b values, thus preventing it from being added to the set again.","title":"How to Distinguish Object in Java Set","body":"<p>You need to override the equals method.</p>\n<p>See here for details: <a href=\"https://www.geeksforgeeks.org/overriding-equals-method-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/overriding-equals-method-in-java/</a></p>\n<p>in your Custom class you would write a method called equals and use the @Override annotation:</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n\n    // If the object is compared with itself then return true \n    if (o != null &amp;&amp; o.a == this.a &amp;&amp; o.b == this.b) {\n        return true;\n    }else{\n        return false;...\n</code></pre>\n<p>This will cause a collision when you add two objects with matching a and b values, thus preventing it from being added to the set again.</p>\n"},{"tags":[],"owner":{"account_id":25211297,"reputation":271,"user_id":19048941,"display_name":"Wilderness Ranger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663696912,"creation_date":1663696912,"answer_id":73790913,"question_id":73790676,"body_markdown":"Yes, that annotation works. If you don&#39;t override `equals()` or `hashCode()` methods, objects are only equal when they refer to the same object instance. This Lombok annotation can generate the two methods automatically. You can also exclude fields using `transient` modifier or `@EqualsAndHashCode.Exclude`. Read [this article](https://projectlombok.org/features/EqualsAndHashCode) for more information.","title":"How to Distinguish Object in Java Set","body":"<p>Yes, that annotation works. If you don't override <code>equals()</code> or <code>hashCode()</code> methods, objects are only equal when they refer to the same object instance. This Lombok annotation can generate the two methods automatically. You can also exclude fields using <code>transient</code> modifier or <code>@EqualsAndHashCode.Exclude</code>. Read <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">this article</a> for more information.</p>\n"}],"owner":{"account_id":10649202,"reputation":41,"user_id":7840805,"display_name":"Sourav gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663698626,"creation_date":1663695479,"question_id":73790676,"body_markdown":"Hey Guys I want to store objects in a Set . \r\nBut even if an object contains same key-value it&#39;s stored as a separate entity in the set \r\n```\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nclass HelloWorld {\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n        Set&lt;Custom&gt; set = new HashSet();\r\n        set.add(new Custom(1,&quot;HEY&quot;));\r\n        set.add(new Custom(1,&quot;HEY&quot;));\r\n        System.out.println(set.size());\r\n        for (Custom s : set) {\r\n            System.out.println(s);\r\n        }\r\n    }\r\n}\r\n\r\nclass Custom {\r\n    private int a;\r\n    private String b;\r\n\r\n    Custom(int a,String b) {\r\n        this.a = a;\r\n        this.b = b;\r\n    }\r\n    public String toString() {\r\n        return &quot;a : &quot; + Integer.toString(a) + &quot;b : &quot; + b;\r\n    }\r\n\r\n}\r\n```\r\nPrints\r\n```\r\nHello, World!\r\n2\r\na : 1b : HEY\r\na : 1b : HEY \r\n```\r\n\r\nCan anyone suggest ways to store this as a same object . \r\nDoes adding annotation of ```@EqualsAndHashCode``` works ?","title":"How to Distinguish Object in Java Set","body":"<p>Hey Guys I want to store objects in a Set .\nBut even if an object contains same key-value it's stored as a separate entity in the set</p>\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\nclass HelloWorld {\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n        Set&lt;Custom&gt; set = new HashSet();\n        set.add(new Custom(1,&quot;HEY&quot;));\n        set.add(new Custom(1,&quot;HEY&quot;));\n        System.out.println(set.size());\n        for (Custom s : set) {\n            System.out.println(s);\n        }\n    }\n}\n\nclass Custom {\n    private int a;\n    private String b;\n\n    Custom(int a,String b) {\n        this.a = a;\n        this.b = b;\n    }\n    public String toString() {\n        return &quot;a : &quot; + Integer.toString(a) + &quot;b : &quot; + b;\n    }\n\n}\n</code></pre>\n<p>Prints</p>\n<pre><code>Hello, World!\n2\na : 1b : HEY\na : 1b : HEY \n</code></pre>\n<p>Can anyone suggest ways to store this as a same object .\nDoes adding annotation of <code>@EqualsAndHashCode</code> works ?</p>\n"},{"tags":["java","mapping","dozer","apache-commons-beanutils"],"answers":[{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1663698367,"creation_date":1308855678,"answer_id":6459281,"question_id":6453540,"body_markdown":"You might check out my [ModelMapper](http://modelmapper.org). It will intelligently map properties (fields/methods) even if the names are not exactly the same. Defining specific properties to be mapped or skipped is simple and uses real code instead of XML:\r\n\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    modelMapper.addMappings(new PropertyMap&lt;Order, OrderDTO&gt;() {\r\n      protected void configure() {\r\n        map().setBillingStreet(source.getBillingStreetAddress());\r\n        skip().setBillingCity(null);\r\n      }\r\n    });\r\n\r\nCheck out the project homepage for more info:\r\n\r\nhttp://modelmapper.org","title":"BeanUtils.copyProperties() vs DozerBeanMapper.map()","body":"<p>You might check out my <a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">ModelMapper</a>. It will intelligently map properties (fields/methods) even if the names are not exactly the same. Defining specific properties to be mapped or skipped is simple and uses real code instead of XML:</p>\n<pre><code>ModelMapper modelMapper = new ModelMapper();\nmodelMapper.addMappings(new PropertyMap&lt;Order, OrderDTO&gt;() {\n  protected void configure() {\n    map().setBillingStreet(source.getBillingStreetAddress());\n    skip().setBillingCity(null);\n  }\n});\n</code></pre>\n<p>Check out the project homepage for more info:</p>\n<p><a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">http://modelmapper.org</a></p>\n"},{"tags":[],"owner":{"account_id":3298523,"reputation":1109,"user_id":2775185,"accept_rate":6,"display_name":"user2775185"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1492086504,"creation_date":1478815451,"answer_id":40537821,"question_id":6453540,"body_markdown":"We considered mapstruct for our usecase. See a sample below:\r\n\r\n    @Mapper\r\n    public interface MyMapper {\r\n    \r\n        MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\r\n    \r\n        To to(From from);\r\n    \r\n    }\r\n\r\n\r\nHere is a performance comparison of MapStruct against Selma, Orika, ModelMapper, Dozer and manual mapping:\r\n\r\n![Manual mapping vs. Selma vs. MapStruct vs. Orika vs. ModelMapper vs. Dozer][1]\r\n\r\n[Selma vs. MapStruct][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vkww4.png\r\n  [2]: https://stackoverflow.com/questions/34786737/java-mapping-selma-vs-mapstruct","title":"BeanUtils.copyProperties() vs DozerBeanMapper.map()","body":"<p>We considered mapstruct for our usecase. See a sample below:</p>\n\n<pre><code>@Mapper\npublic interface MyMapper {\n\n    MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\n\n    To to(From from);\n\n}\n</code></pre>\n\n<p>Here is a performance comparison of MapStruct against Selma, Orika, ModelMapper, Dozer and manual mapping:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vkww4.png\" alt=\"Manual mapping vs. Selma vs. MapStruct vs. Orika vs. ModelMapper vs. Dozer\"></p>\n\n<p><a href=\"https://stackoverflow.com/questions/34786737/java-mapping-selma-vs-mapstruct\">Selma vs. MapStruct</a></p>\n"}],"owner":{"account_id":264582,"reputation":82175,"user_id":550966,"accept_rate":97,"display_name":"Pankaj Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13924,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":6459281,"answer_count":2,"score":7,"last_activity_date":1663698367,"creation_date":1308829868,"question_id":6453540,"body_markdown":"I am using [`BeanUtils.copyProperties()`][1] for bean to dto mapping when I need to map all fields and field names are same. But I need not all field of source bean to map in destination dto, I used  [`DozerBeanMapper.map()`][2] , because I haven&#39;t idea about to use BeanUtils in this situation.\r\n\r\n*So I think both methods having their own functionality, and there is no any similarity between both. Am I right? Please guide me.*  \r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/api/org/apache/commons/beanutils/BeanUtils.html#copyProperties%28java.lang.Object,%20java.lang.Object%29\r\n  [2]: http://dozer.sourceforge.net/apidocs/org/dozer/DozerBeanMapper.html#map%28java.lang.Object,%20java.lang.Object%29","title":"BeanUtils.copyProperties() vs DozerBeanMapper.map()","body":"<p>I am using <a href=\"http://commons.apache.org/beanutils/api/org/apache/commons/beanutils/BeanUtils.html#copyProperties%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\"><code>BeanUtils.copyProperties()</code></a> for bean to dto mapping when I need to map all fields and field names are same. But I need not all field of source bean to map in destination dto, I used  <a href=\"http://dozer.sourceforge.net/apidocs/org/dozer/DozerBeanMapper.html#map%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\"><code>DozerBeanMapper.map()</code></a> , because I haven't idea about to use BeanUtils in this situation.</p>\n\n<p><em>So I think both methods having their own functionality, and there is no any similarity between both. Am I right? Please guide me.</em>  </p>\n"},{"tags":["java","mapping","dto","pojo","apache-commons-beanutils"],"comments":[{"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"score":1,"creation_date":1308733343,"post_id":6436089,"comment_id":7555477,"body_markdown":"Why do you have capitalized names for the fields in your pojo? This should be camelcased.","body":"Why do you have capitalized names for the fields in your pojo? This should be camelcased."},{"owner":{"account_id":264582,"reputation":82175,"user_id":550966,"accept_rate":97,"display_name":"Pankaj Kumar"},"score":0,"creation_date":1308734645,"post_id":6436089,"comment_id":7555840,"body_markdown":"Its not a real POJO. I putted it just for example and showing that POJO&#39;s fields as same as database table column names.","body":"Its not a real POJO. I putted it just for example and showing that POJO&#39;s fields as same as database table column names."}],"answers":[{"tags":[],"owner":{"account_id":290453,"reputation":4967,"user_id":592015,"accept_rate":75,"display_name":"Cris"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1308726779,"creation_date":1308726779,"answer_id":6436224,"question_id":6436089,"body_markdown":"http://sourceforge.net/projects/dozer/develop ? (not sure it maps your needs,but take a  look)\r\nhttp://dozer.sourceforge.net/","title":"How to map POJO in to DTO, if fields are with different name","body":"<p><a href=\"http://sourceforge.net/projects/dozer/develop\">http://sourceforge.net/projects/dozer/develop</a> ? (not sure it maps your needs,but take a  look)\n<a href=\"http://dozer.sourceforge.net/\">http://dozer.sourceforge.net/</a></p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663698295,"creation_date":1308891503,"answer_id":6463567,"question_id":6436089,"body_markdown":"My [ModelMapper](http://modelmapper) is another library worth checking out. It offers a fluent API to map properties as opposed to using string references or XML.\r\n\r\nCheck out the ModelMapper site for more info:\r\n\r\nhttp://modelmapper.org","title":"How to map POJO in to DTO, if fields are with different name","body":"<p>My <a href=\"http://modelmapper\" rel=\"nofollow noreferrer\">ModelMapper</a> is another library worth checking out. It offers a fluent API to map properties as opposed to using string references or XML.</p>\n<p>Check out the ModelMapper site for more info:</p>\n<p><a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">http://modelmapper.org</a></p>\n"},{"tags":[],"owner":{"account_id":1810593,"reputation":282,"user_id":1646745,"accept_rate":86,"display_name":"Alessandro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361360032,"creation_date":1361360032,"answer_id":14978817,"question_id":6436089,"body_markdown":"I suggest you try [JMapper Framework][1]. \r\nWith a little configuration (with annotations or xml) you&#39;re ready to map\r\n\r\n\r\n  [1]: http://code.google.com/p/jmapper-framework/","title":"How to map POJO in to DTO, if fields are with different name","body":"<p>I suggest you try <a href=\"http://code.google.com/p/jmapper-framework/\" rel=\"nofollow\">JMapper Framework</a>. \nWith a little configuration (with annotations or xml) you're ready to map</p>\n"},{"tags":[],"owner":{"account_id":4451832,"reputation":975,"user_id":3623456,"accept_rate":68,"display_name":"Root"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609775920,"creation_date":1609774971,"answer_id":65565458,"question_id":6436089,"body_markdown":"You can add `@JsonProperty(&quot;salery&quot;)` for mapping the **EMP_SALERY** field on the top of the field.\r\nwhich uses the import of `import com.fasterxml.jackson.annotation.JsonProperty;`\r\n\r\nThis works for me when using the ModelMapper.\r\n\r\nIf again deserialization is your concern you have 2 options.\r\n\r\n    @JsonProperty(&quot;EMP_SALERY&quot;)\r\n        public byte getEMP_SALERY() {\r\n        return red;\r\n    }\r\n\r\n    @JsonProperty(&quot;salery&quot;)\r\n         public void setEMP_SALERY(byte red) {\r\n         this.red = red;\r\n    }\r\nThe other way is using Alias\r\n\r\n    @JsonAlias({&quot;salery&quot;, &quot;EMP_SALERY&quot;})\r\n    private String EMP_SALERY;\r\n","title":"How to map POJO in to DTO, if fields are with different name","body":"<p>You can add <code>@JsonProperty(&quot;salery&quot;)</code> for mapping the <strong>EMP_SALERY</strong> field on the top of the field.\nwhich uses the import of <code>import com.fasterxml.jackson.annotation.JsonProperty;</code></p>\n<p>This works for me when using the ModelMapper.</p>\n<p>If again deserialization is your concern you have 2 options.</p>\n<pre><code>@JsonProperty(&quot;EMP_SALERY&quot;)\n    public byte getEMP_SALERY() {\n    return red;\n}\n\n@JsonProperty(&quot;salery&quot;)\n     public void setEMP_SALERY(byte red) {\n     this.red = red;\n}\n</code></pre>\n<p>The other way is using Alias</p>\n<pre><code>@JsonAlias({&quot;salery&quot;, &quot;EMP_SALERY&quot;})\nprivate String EMP_SALERY;\n</code></pre>\n"}],"owner":{"account_id":264582,"reputation":82175,"user_id":550966,"accept_rate":97,"display_name":"Pankaj Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11259,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":6436224,"answer_count":4,"score":3,"last_activity_date":1663698295,"creation_date":1308725906,"question_id":6436089,"body_markdown":"***Problem description:***\r\n\r\nI have a POJO object, which is mapped from database. Which having attributes(column) with same name as in database table. But it required some changes and I will have to use DTOs. But problem is that DTO having attributes with different names as defined in database table,(*because of this I am mapping database table to POJO and then POJO to DTO*) so at the time of mapping I have to use field and field mapping(One field of POJO and one field of DTO object), and that will take 50 lines of code( *database table having 50 columns*). Is there any solution to map directly to my POJO with DTO?   Or is there a way to map database table to POJO/DTO if database table and POJO/DTO having diffrent column names?\r\n\r\n***For example*** \r\n\r\n    public class EmployeePOJO {\r\n    \t\r\n    \tString EMP_ID;\r\n    \tString EMP_NAME;\r\n    \tString EMP_SALERY;\r\n    \tString EMP_DOB;\r\n    \tString EMP_CONTACT_NO;\r\n    \tString EMP_ADDRESS;\r\n    \tString EMP_BLOOD_GROUP;\r\n    \tString ASSIGNED_PROJECT;\r\n    \tString PROJECT_MANAGER;\r\n    \tString ROLE;\r\n    \t\r\n    \t//Getters and setters\r\n    }\r\n\r\n\r\n\r\n    public class EmployeeDTO {\r\n    \t\r\n    \t//String EMP_ID;\r\n    \t//String EMP_NAME;\r\n    \tString salery;            //EMP_SALERY;\r\n    \t//String EMP_DOB;\r\n    \tString phoneNumber;       //EMP_CONTACT_NO;\r\n    \tString address;           //EMP_ADDRESS;\r\n    \t//String EMP_BLOOD_GROUP;\r\n    \tString currentProject;    //ASSIGNED_PROJECT;\r\n    \tString projectManager;    //PROJECT_MANAGER;\r\n    \tString role;              //ROLE;\r\n    \t\r\n    \t//getters and setters\r\n    }","title":"How to map POJO in to DTO, if fields are with different name","body":"<p><em><strong>Problem description:</em></strong></p>\n\n<p>I have a POJO object, which is mapped from database. Which having attributes(column) with same name as in database table. But it required some changes and I will have to use DTOs. But problem is that DTO having attributes with different names as defined in database table,(<em>because of this I am mapping database table to POJO and then POJO to DTO</em>) so at the time of mapping I have to use field and field mapping(One field of POJO and one field of DTO object), and that will take 50 lines of code( <em>database table having 50 columns</em>). Is there any solution to map directly to my POJO with DTO?   Or is there a way to map database table to POJO/DTO if database table and POJO/DTO having diffrent column names?</p>\n\n<p><em><strong>For example</em></strong> </p>\n\n<pre><code>public class EmployeePOJO {\n\n    String EMP_ID;\n    String EMP_NAME;\n    String EMP_SALERY;\n    String EMP_DOB;\n    String EMP_CONTACT_NO;\n    String EMP_ADDRESS;\n    String EMP_BLOOD_GROUP;\n    String ASSIGNED_PROJECT;\n    String PROJECT_MANAGER;\n    String ROLE;\n\n    //Getters and setters\n}\n\n\n\npublic class EmployeeDTO {\n\n    //String EMP_ID;\n    //String EMP_NAME;\n    String salery;            //EMP_SALERY;\n    //String EMP_DOB;\n    String phoneNumber;       //EMP_CONTACT_NO;\n    String address;           //EMP_ADDRESS;\n    //String EMP_BLOOD_GROUP;\n    String currentProject;    //ASSIGNED_PROJECT;\n    String projectManager;    //PROJECT_MANAGER;\n    String role;              //ROLE;\n\n    //getters and setters\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting","parity"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661497477,"post_id":73497230,"comment_id":129790732,"body_markdown":"Step through your code with the debugger.","body":"Step through your code with the debugger."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661501269,"creation_date":1661501269,"answer_id":73497953,"question_id":73497230,"body_markdown":"Because it in the first case, your code puts the odd numbers in the `res` array, and then stops because of the `c &lt; nums.length+1` condition. You only need `a &lt; nums.length` as `while` condition.\r\n\r\n","title":"Leetcode - 922 Sorting By Parity 2","body":"<p>Because it in the first case, your code puts the odd numbers in the <code>res</code> array, and then stops because of the <code>c &lt; nums.length+1</code> condition. You only need <code>a &lt; nums.length</code> as <code>while</code> condition.</p>\n"}],"owner":{"account_id":18006051,"reputation":29,"user_id":13086799,"display_name":"Prateek Goyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663698285,"creation_date":1661497343,"question_id":73497230,"body_markdown":"Given an array of integers nums, half of the integers in nums are odd, and the other half are even. Sort the array so that whenever nums[i] is odd, i is odd, and whenever nums[i] is even, i is even. Return any answer array that satisfies this condition. \r\n\r\nI&#39;ve written this code. \r\n\r\n    public static void main(String[] args) {\r\n            int[] nums = {1,3,5,7,2,4,6,8};\r\n            int[] res = new int[nums.length]; \r\n            int a=0;\r\n            int b=0;\r\n            int c=1;\r\n            while (a &lt; nums.length &amp;&amp; b &lt; nums.length+1 &amp;&amp; c &lt; nums.length+1){\r\n                if (nums[a]%2 == 0){\r\n                    res[b] = nums[a];\r\n                    a++;\r\n                    b += 2;\r\n                }\r\n                if (nums[a]%2 != 0){\r\n                    res[c] = nums[a];\r\n                    a++; \r\n                    c += 2;\r\n                }\r\n            }\r\n            for (int i : res){\r\n                System.out.println(res[i]);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\nWhile executing the {1,3,5,7,2,4,6,8} in even spaces it fills &#39;0&#39; but, while executing the {2,4,6,8,10,1,3,5,7,9} it gives correct answer. Can someone please help me here?","title":"Leetcode - 922 Sorting By Parity 2","body":"<p>Given an array of integers nums, half of the integers in nums are odd, and the other half are even. Sort the array so that whenever nums[i] is odd, i is odd, and whenever nums[i] is even, i is even. Return any answer array that satisfies this condition.</p>\n<p>I've written this code.</p>\n<pre><code>public static void main(String[] args) {\n        int[] nums = {1,3,5,7,2,4,6,8};\n        int[] res = new int[nums.length]; \n        int a=0;\n        int b=0;\n        int c=1;\n        while (a &lt; nums.length &amp;&amp; b &lt; nums.length+1 &amp;&amp; c &lt; nums.length+1){\n            if (nums[a]%2 == 0){\n                res[b] = nums[a];\n                a++;\n                b += 2;\n            }\n            if (nums[a]%2 != 0){\n                res[c] = nums[a];\n                a++; \n                c += 2;\n            }\n        }\n        for (int i : res){\n            System.out.println(res[i]);\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>While executing the {1,3,5,7,2,4,6,8} in even spaces it fills '0' but, while executing the {2,4,6,8,10,1,3,5,7,9} it gives correct answer. Can someone please help me here?</p>\n"},{"tags":["java","persistence","dto"],"answers":[{"tags":[],"owner":{"account_id":185736,"reputation":1494,"user_id":422651,"accept_rate":75,"display_name":"Bivas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1289059495,"creation_date":1289059495,"answer_id":4113885,"question_id":4113823,"body_markdown":"You should check out [Dozer][1] - Java bean to bean mapper. Easy to use, easy to extend.\r\n\r\n\r\n  [1]: http://dozer.sourceforge.net/","title":"Framework for converting java objects","body":"<p>You should check out <a href=\"http://dozer.sourceforge.net/\" rel=\"noreferrer\">Dozer</a> - Java bean to bean mapper. Easy to use, easy to extend.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663698228,"creation_date":1308895684,"answer_id":6464077,"question_id":4113823,"body_markdown":"You might check out my [ModelMapper](http://modelmapper.org).\r\n\r\nIt differs from Dozer and others in that it minimizes the amount of configuration needed by intelligently mapping object models. Where configuration is needed, ModelMapper offers a refactoring safe API that uses actual code to map properties and values rather than using string references or XML.\r\n\r\nCheck out the ModelMapper site for more info:\r\n\r\nhttp://modelmapper.org","title":"Framework for converting java objects","body":"<p>You might check out my <a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">ModelMapper</a>.</p>\n<p>It differs from Dozer and others in that it minimizes the amount of configuration needed by intelligently mapping object models. Where configuration is needed, ModelMapper offers a refactoring safe API that uses actual code to map properties and values rather than using string references or XML.</p>\n<p>Check out the ModelMapper site for more info:</p>\n<p><a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">http://modelmapper.org</a></p>\n"},{"tags":[],"owner":{"account_id":1191502,"reputation":4664,"user_id":1164169,"accept_rate":100,"display_name":"Juan Alberto L&#243;pez Cavallotti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337438164,"creation_date":1337438164,"answer_id":10666100,"question_id":4113823,"body_markdown":"One alternative to dozer, that you may find interesting is jDTO Binder, it is really simple to use and provides integration with the most popular backend containers.\r\n\r\n[jDTO Binder][1]\r\n\r\n\r\n  [1]: http://www.jdto.org","title":"Framework for converting java objects","body":"<p>One alternative to dozer, that you may find interesting is jDTO Binder, it is really simple to use and provides integration with the most popular backend containers.</p>\n\n<p><a href=\"http://www.jdto.org\" rel=\"nofollow\">jDTO Binder</a></p>\n"},{"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454629217,"creation_date":1392885879,"answer_id":21902469,"question_id":4113823,"body_markdown":"You might be interested in [MapStruct][1] which is a compile-time code generator for exactly this use case (disclaimer: I&#39;m working on this project). \r\n\r\nAs MapStruct is a build-time tool, it doesn&#39;t make use of reflection nor requires sort of runtime dependencies. You need to declare an interface like this:\r\n\r\n    @Mapper\r\n    public interface CarMapper {\r\n\r\n        CarMapper INSTANCE = Mappers.getMapper ( CarMapper.class );\r\n\r\n        @Mapping(source=&quot;number&quot;, target=&quot;carNumber&quot;)\r\n        @Mapping(source=&quot;driver.name&quot;, target=&quot;name&quot;)\r\n        @Mapping(source=&quot;driver.license.serial&quot;, target=&quot;licenseSerial&quot;)\r\n        CarDto carToCarDto(Car car);\r\n\r\n        DriverDto driverToDriverDto(Driver driver);\r\n    }\r\n\r\nDuring the build (e.g. via Maven or in your IDE), MapStruct will generate an implementation of that interface which basically looks like your original hand-written code.\r\n\r\nIf you&#39;re interested, you can find out more in the [reference guide][2].\r\n\r\n  [1]: http://mapstruct.org/\r\n  [2]: http://mapstruct.org/documentation","title":"Framework for converting java objects","body":"<p>You might be interested in <a href=\"http://mapstruct.org/\" rel=\"nofollow\">MapStruct</a> which is a compile-time code generator for exactly this use case (disclaimer: I'm working on this project). </p>\n\n<p>As MapStruct is a build-time tool, it doesn't make use of reflection nor requires sort of runtime dependencies. You need to declare an interface like this:</p>\n\n<pre><code>@Mapper\npublic interface CarMapper {\n\n    CarMapper INSTANCE = Mappers.getMapper ( CarMapper.class );\n\n    @Mapping(source=\"number\", target=\"carNumber\")\n    @Mapping(source=\"driver.name\", target=\"name\")\n    @Mapping(source=\"driver.license.serial\", target=\"licenseSerial\")\n    CarDto carToCarDto(Car car);\n\n    DriverDto driverToDriverDto(Driver driver);\n}\n</code></pre>\n\n<p>During the build (e.g. via Maven or in your IDE), MapStruct will generate an implementation of that interface which basically looks like your original hand-written code.</p>\n\n<p>If you're interested, you can find out more in the <a href=\"http://mapstruct.org/documentation\" rel=\"nofollow\">reference guide</a>.</p>\n"}],"owner":{"account_id":216900,"reputation":763,"user_id":472412,"accept_rate":46,"display_name":"Zalivaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6065,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"closed_date":1663698158,"accepted_answer_id":4113885,"answer_count":4,"score":11,"last_activity_date":1663698228,"creation_date":1289058664,"question_id":4113823,"body_markdown":"I am working on project that converts database entities into DTO objects. To do it a special converter class is used for each convertion.\r\n\r\n\r\n----------\r\n\r\n\r\nI am providing simplified example of the things we are doing. I intentionally missed setters/getters and some other things for code clarity.\r\n\r\nSo here are persistent entities:\r\n\r\n    class Car {\r\n        String number;\r\n        Driver driver;\r\n    }\r\n    \r\n    class Driver {\r\n        String name;\r\n        License license;\r\n    }\r\n    \r\n    class License {\r\n        String serial;\r\n        Date expired;\r\n    } \r\n\r\n\r\n----------\r\n\r\nAnd assuming that we need following DTO object:\r\n\r\n    class DriverDTO {\r\n        String name;\r\n        String carNumber;\r\n        String licenseSerial;\r\n    }\r\n\r\nWe create following converter class:\r\n\r\n    class DriverDTOConverter {\r\n        DriverDTO convert(Car car) {\r\n            DriverDTO driverDto = new DriverDTO();\r\n            driverDto.carNumber = car.number;\r\n            driverDto.name = car.driver.name;\r\n            driverDto.licenseSerial = car.driver.license.serial;\r\n            return driverDto;\r\n        }\r\n    }\r\n\r\n----------\r\n\r\nAnd a little bit more complex example:\r\n\r\n    class CarDTO {\r\n        String number;\r\n        String driverName;\r\n        LicenseDTO driverLicense;\r\n    }\r\n    \r\n    class LicenseDTO {\r\n        String serial;\r\n    }\r\n    \r\n    class CarDTOConverter {\r\n        CarDTO convert(Car car) {\r\n            CarDTO carDto = new CarDTO();\r\n            carDto.number = car.number;\r\n            carDto.driverName = car.driver.name;\r\n            LicenseDtoConverter c = new LicenseDtoConverter();\r\n            carDto.driverLicense = c.convert(car.driver.license);\r\n            return carDto;\r\n        }\r\n    }\r\n    \r\n    class LicenseDtoConverter {\r\n        LicenseDTO convert(License license) {\r\n            LicenseDTO licenseDto = new LicenseDTO();\r\n            licenseDto.serial = license.serial;\r\n            return licenseDto;\r\n        }\r\n    }\r\n\r\n----------\r\n\r\nIt takes a lot of time, so I wonder if there is any framework which can take the responsbility for that work. And I will only need to configure it with property files or annotations.\r\n\r\nSmth like that\r\n\r\nIf made by property file: \r\n\r\n    DriverDto &lt;--&gt; Car {\r\n    carNumber = number;\r\n    name = driver.name;            \r\n    licenseSerial = driver.license.serial;\r\n    }\r\n\r\n    CarDTO &lt;--&gt; Car {\r\n    number = number;\r\n    driverName = driver.name;\r\n    driverLicense = driver.license;\r\n    }\r\n\r\n    LicenseDTO &lt;--&gt; License {\r\n    license = license;\r\n    }\r\n\r\nOr example of possible annotated entity\r\n\r\n    @Converted(Car.class)\r\n    class DriverDTO {\r\n        @Associated(&quot;driver.name&quot;)\r\n        String name;\r\n        @Associated(&quot;number&quot;)\r\n        String carNumber;\r\n        @Associated(&quot;driver.license.serial&quot;)\r\n        String licenseSerial;\r\n    }\r\n\r\nThe important requirement is that it should not use any reflection. All annotations or property files should be compiled on compile or precompile stage and bytecode or source code should be generated.\r\n\r\nI will be very glad if anybody can point me to such a framework. I will also with pleasure participate in its creation if it is still on developent.\r\n\r\n\r\n\r\n","title":"Framework for converting java objects","body":"<p>I am working on project that converts database entities into DTO objects. To do it a special converter class is used for each convertion.</p>\n\n<hr>\n\n<p>I am providing simplified example of the things we are doing. I intentionally missed setters/getters and some other things for code clarity.</p>\n\n<p>So here are persistent entities:</p>\n\n<pre><code>class Car {\n    String number;\n    Driver driver;\n}\n\nclass Driver {\n    String name;\n    License license;\n}\n\nclass License {\n    String serial;\n    Date expired;\n} \n</code></pre>\n\n<hr>\n\n<p>And assuming that we need following DTO object:</p>\n\n<pre><code>class DriverDTO {\n    String name;\n    String carNumber;\n    String licenseSerial;\n}\n</code></pre>\n\n<p>We create following converter class:</p>\n\n<pre><code>class DriverDTOConverter {\n    DriverDTO convert(Car car) {\n        DriverDTO driverDto = new DriverDTO();\n        driverDto.carNumber = car.number;\n        driverDto.name = car.driver.name;\n        driverDto.licenseSerial = car.driver.license.serial;\n        return driverDto;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>And a little bit more complex example:</p>\n\n<pre><code>class CarDTO {\n    String number;\n    String driverName;\n    LicenseDTO driverLicense;\n}\n\nclass LicenseDTO {\n    String serial;\n}\n\nclass CarDTOConverter {\n    CarDTO convert(Car car) {\n        CarDTO carDto = new CarDTO();\n        carDto.number = car.number;\n        carDto.driverName = car.driver.name;\n        LicenseDtoConverter c = new LicenseDtoConverter();\n        carDto.driverLicense = c.convert(car.driver.license);\n        return carDto;\n    }\n}\n\nclass LicenseDtoConverter {\n    LicenseDTO convert(License license) {\n        LicenseDTO licenseDto = new LicenseDTO();\n        licenseDto.serial = license.serial;\n        return licenseDto;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>It takes a lot of time, so I wonder if there is any framework which can take the responsbility for that work. And I will only need to configure it with property files or annotations.</p>\n\n<p>Smth like that</p>\n\n<p>If made by property file: </p>\n\n<pre><code>DriverDto &lt;--&gt; Car {\ncarNumber = number;\nname = driver.name;            \nlicenseSerial = driver.license.serial;\n}\n\nCarDTO &lt;--&gt; Car {\nnumber = number;\ndriverName = driver.name;\ndriverLicense = driver.license;\n}\n\nLicenseDTO &lt;--&gt; License {\nlicense = license;\n}\n</code></pre>\n\n<p>Or example of possible annotated entity</p>\n\n<pre><code>@Converted(Car.class)\nclass DriverDTO {\n    @Associated(\"driver.name\")\n    String name;\n    @Associated(\"number\")\n    String carNumber;\n    @Associated(\"driver.license.serial\")\n    String licenseSerial;\n}\n</code></pre>\n\n<p>The important requirement is that it should not use any reflection. All annotations or property files should be compiled on compile or precompile stage and bytecode or source code should be generated.</p>\n\n<p>I will be very glad if anybody can point me to such a framework. I will also with pleasure participate in its creation if it is still on developent.</p>\n"},{"tags":["java","code-generation","mapping","dto"],"comments":[{"owner":{"account_id":7694,"reputation":19359,"user_id":13433,"accept_rate":100,"display_name":"JasonTrue"},"score":0,"creation_date":1273767339,"post_id":2828403,"comment_id":2869238,"body_markdown":"Possibly, but it might help to get an idea which language you&#39;re referring to. Java/.Net?","body":"Possibly, but it might help to get an idea which language you&#39;re referring to. Java/.Net?"},{"owner":{"account_id":31380,"reputation":944,"user_id":86117,"accept_rate":80,"display_name":"Nicolas C"},"score":0,"creation_date":1273767620,"post_id":2828403,"comment_id":2869279,"body_markdown":"Yes... sorry... I realized after asking the question. I&#39;ve updated it.","body":"Yes... sorry... I realized after asking the question. I&#39;ve updated it."},{"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"score":0,"creation_date":1308896056,"post_id":2828403,"comment_id":7593975,"body_markdown":"Dozer is a horrible, slow, black box, hard to debug, hard to maintain all kinds of problems mapping collections, updating objects in place with any kind of complex relationship, difficult to customize....ugh. Better to write your mapping by hand: fast, debuggable, refactorable via IDE.  My 2&#162;","body":"Dozer is a horrible, slow, black box, hard to debug, hard to maintain all kinds of problems mapping collections, updating objects in place with any kind of complex relationship, difficult to customize....ugh. Better to write your mapping by hand: fast, debuggable, refactorable via IDE.  My 2&#162;"},{"owner":{"account_id":3265289,"reputation":1455,"user_id":2749913,"accept_rate":65,"display_name":"AbVog"},"score":0,"creation_date":1479065217,"post_id":2828403,"comment_id":68391296,"body_markdown":"@NicolasC: did you finally find a tool and if yes, which did you use? It seems like none of the answers actually answers the need to generate DTOs (&quot;I have plenty of java domain objects that I need to transform to DTOs.&quot;), which is exactly the need that I have now. The answers all seem to assume that the DTOs already exist.","body":"@NicolasC: did you finally find a tool and if yes, which did you use? It seems like none of the answers actually answers the need to generate DTOs (&quot;I have plenty of java domain objects that I need to transform to DTOs.&quot;), which is exactly the need that I have now. The answers all seem to assume that the DTOs already exist."},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":1,"creation_date":1513056264,"post_id":2828403,"comment_id":82492845,"body_markdown":"Possible duplicate of [any tool for java object to object mapping?](https://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping\">any tool for java object to object mapping?</a>"}],"answers":[{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1663697990,"creation_date":1308895866,"answer_id":6464107,"question_id":2828403,"body_markdown":"Consider checking out my [ModelMapper](http://modelmapper.org).\r\n\r\nIt differs from Dozer and others in that it minimizes the amount of configuration needed by intelligently mapping object models. Where configuration is needed, ModelMapper offers a refactoring safe API that uses actual code to map properties and values rather than using string references or XML.\r\n\r\nCheck out the ModelMapper site for more info:\r\n\r\nhttp://modelmapper.org","title":"DTO and mapper generation from Domain Objects","body":"<p>Consider checking out my <a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">ModelMapper</a>.</p>\n<p>It differs from Dozer and others in that it minimizes the amount of configuration needed by intelligently mapping object models. Where configuration is needed, ModelMapper offers a refactoring safe API that uses actual code to map properties and values rather than using string references or XML.</p>\n<p>Check out the ModelMapper site for more info:</p>\n<p><a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">http://modelmapper.org</a></p>\n"},{"tags":[],"owner":{"account_id":2331923,"reputation":209,"user_id":2045133,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360110671,"creation_date":1360110671,"answer_id":14719545,"question_id":2828403,"body_markdown":"Use GeDA - much faster and more flexible than all of the mentioned mappers.\r\nhttp://inspire-software.com/confluence/display/GeDA/GeDA+-+Generic+DTO+Assembler\r\n\r\nThere aren&#39;t many examples on the wiki but the junits (in source) are full of them","title":"DTO and mapper generation from Domain Objects","body":"<p>Use GeDA - much faster and more flexible than all of the mentioned mappers.\n<a href=\"http://inspire-software.com/confluence/display/GeDA/GeDA+-+Generic+DTO+Assembler\" rel=\"nofollow\">http://inspire-software.com/confluence/display/GeDA/GeDA+-+Generic+DTO+Assembler</a></p>\n\n<p>There aren't many examples on the wiki but the junits (in source) are full of them</p>\n"},{"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1376224461,"creation_date":1376224461,"answer_id":18171940,"question_id":2828403,"body_markdown":"You might be interested in [MapStruct](http://mapstruct.org/), a code generator for JavaBeans mappers. You&#39;d have to implement source model (e.g. your domain objects) and target model (e.g. DTOs), and MapStruct generates type-safe and fast code for mapping between these models (disclaimer: I&#39;m the author of this project).","title":"DTO and mapper generation from Domain Objects","body":"<p>You might be interested in <a href=\"http://mapstruct.org/\" rel=\"noreferrer\">MapStruct</a>, a code generator for JavaBeans mappers. You'd have to implement source model (e.g. your domain objects) and target model (e.g. DTOs), and MapStruct generates type-safe and fast code for mapping between these models (disclaimer: I'm the author of this project).</p>\n"},{"tags":[],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504275431,"creation_date":1504275431,"answer_id":46002233,"question_id":2828403,"body_markdown":"This thread is a bit old, but if anyone is is still trying to do this, http://www.dtonator.org/ is the best option I have found so far. It is the only tool I have been able to find that actually CREATES the DTO files and isn&#39;t tied to a specific framework (Spring, Seam, etc.) or IDE.","title":"DTO and mapper generation from Domain Objects","body":"<p>This thread is a bit old, but if anyone is is still trying to do this, <a href=\"http://www.dtonator.org/\" rel=\"nofollow noreferrer\">http://www.dtonator.org/</a> is the best option I have found so far. It is the only tool I have been able to find that actually CREATES the DTO files and isn't tied to a specific framework (Spring, Seam, etc.) or IDE.</p>\n"},{"tags":[],"owner":{"account_id":3710550,"reputation":847,"user_id":3087999,"display_name":"vipcxj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608922546,"creation_date":1608922546,"answer_id":65450900,"question_id":2828403,"body_markdown":"Mybe late, I develop an annotation processor called [beanknife](https://github.com/vipcxj/beanknife) recently, it support generate DTO from any class. You need config by annotation. But you don&#39;t need change the original class. This library support configuring on a separate class. Of course you can choose which property you want and which you not need. And you can add new property by the static method in the config class. The most power feature of this library is it support automatically convert a object property to the DTO version. for example\r\n\r\n    class Pojo1 {\r\n        String a;\r\n        Pojo b;\r\n    }\r\n\r\n    class Pojo2 {\r\n        Pojo1 a;\r\n        List&lt;Pojo1&gt; b;\r\n        Map&lt;List&lt;Pojo1&gt;&gt;[] c;\r\n    }\r\n\r\n    @ViewOf(value = Pojo1.class, includePattern = &quot;.*&quot;, excludes={Pojo1Meta.b})\r\n    class ConfigureOfPojo2 {}\r\n\r\n    @ViewOf(value = Pojo2.class, includePattern = &quot;.*&quot;)\r\n    class ConfigureOfPojo2 {\r\n        // convert b to dto version\r\n        @OverrideViewProperty(Pojo2Meta.b)\r\n        private List&lt;Pojo1View&gt; b;\r\n        // convert c to dto version\r\n        @OverrideViewProperty(Pojo2Meta.c)\r\n        private Map&lt;List&lt;Pojo1View&gt;&gt;[] c;\r\n    }\r\n\r\nwill generate\r\n\r\n    // meta class, you can use it to reference the property name in a safe way.\r\n    class Pojo1Meta {\r\n        public final String a = &quot;a&quot;;\r\n        public final String b = &quot;b&quot;;\r\n    }\r\n\r\n    // generated DTO class. The actual one will be more complicate, there are many other method.\r\n    class Pojo1View {\r\n        private String a;\r\n        public Pojo1View read(Pojo1 source) { ... }\r\n        ... getters and setters ...\r\n    }\r\n\r\n    class Pojo2Meta {\r\n        public final String a = &quot;a&quot;;\r\n        public final String b = &quot;b&quot;;\r\n        public final String c = &quot;c&quot;;\r\n    }\r\n\r\n    class Pojo2View {\r\n        private String a;\r\n        private List&lt;Pojo1View&gt; b;\r\n        private Map&lt;List&lt;Pojo1View&gt;&gt;[] c;\r\n        public Pojo1View read(Pojo2 source) { ... }\r\n        ... getters and setters ...\r\n    }\r\n\r\nThe interest things here is you can safely use the class not exist yet in the source. Although the compiler may complain, all will be ok after compiled. Because all the extra class will be automatically generated just before compiled. \r\nA better approach may be to compile step by step, first add @ViewOf annotations, and then compile, so that all the classes that need to be used later are generated. Compile again after the configuration is complete. The advantage of this is that the IDE will not have grammatical error prompts, and can make better use of the IDE&#39;s auto-complete function.","title":"DTO and mapper generation from Domain Objects","body":"<p>Mybe late, I develop an annotation processor called <a href=\"https://github.com/vipcxj/beanknife\" rel=\"nofollow noreferrer\">beanknife</a> recently, it support generate DTO from any class. You need config by annotation. But you don't need change the original class. This library support configuring on a separate class. Of course you can choose which property you want and which you not need. And you can add new property by the static method in the config class. The most power feature of this library is it support automatically convert a object property to the DTO version. for example</p>\n<pre><code>class Pojo1 {\n    String a;\n    Pojo b;\n}\n\nclass Pojo2 {\n    Pojo1 a;\n    List&lt;Pojo1&gt; b;\n    Map&lt;List&lt;Pojo1&gt;&gt;[] c;\n}\n\n@ViewOf(value = Pojo1.class, includePattern = &quot;.*&quot;, excludes={Pojo1Meta.b})\nclass ConfigureOfPojo2 {}\n\n@ViewOf(value = Pojo2.class, includePattern = &quot;.*&quot;)\nclass ConfigureOfPojo2 {\n    // convert b to dto version\n    @OverrideViewProperty(Pojo2Meta.b)\n    private List&lt;Pojo1View&gt; b;\n    // convert c to dto version\n    @OverrideViewProperty(Pojo2Meta.c)\n    private Map&lt;List&lt;Pojo1View&gt;&gt;[] c;\n}\n</code></pre>\n<p>will generate</p>\n<pre><code>// meta class, you can use it to reference the property name in a safe way.\nclass Pojo1Meta {\n    public final String a = &quot;a&quot;;\n    public final String b = &quot;b&quot;;\n}\n\n// generated DTO class. The actual one will be more complicate, there are many other method.\nclass Pojo1View {\n    private String a;\n    public Pojo1View read(Pojo1 source) { ... }\n    ... getters and setters ...\n}\n\nclass Pojo2Meta {\n    public final String a = &quot;a&quot;;\n    public final String b = &quot;b&quot;;\n    public final String c = &quot;c&quot;;\n}\n\nclass Pojo2View {\n    private String a;\n    private List&lt;Pojo1View&gt; b;\n    private Map&lt;List&lt;Pojo1View&gt;&gt;[] c;\n    public Pojo1View read(Pojo2 source) { ... }\n    ... getters and setters ...\n}\n</code></pre>\n<p>The interest things here is you can safely use the class not exist yet in the source. Although the compiler may complain, all will be ok after compiled. Because all the extra class will be automatically generated just before compiled.\nA better approach may be to compile step by step, first add @ViewOf annotations, and then compile, so that all the classes that need to be used later are generated. Compile again after the configuration is complete. The advantage of this is that the IDE will not have grammatical error prompts, and can make better use of the IDE's auto-complete function.</p>\n"}],"owner":{"account_id":31380,"reputation":944,"user_id":86117,"accept_rate":80,"display_name":"Nicolas C"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14998,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"closed_date":1663697976,"accepted_answer_id":6464107,"answer_count":5,"score":16,"last_activity_date":1663697990,"creation_date":1273767204,"question_id":2828403,"body_markdown":"I have plenty of java domain objects that I need to transform to DTOs.\r\n\r\nPlease, don&#39;t start with the anti-pattern thing, the Domain Objects are what they are because of a long history, and I can&#39;t modify them (or not too much, see below).\r\n\r\nSo, of course, we&#39;ve passed the age of doing all that manually.\r\nI&#39;ve looked around, and dozer seems the framework of choice for DTO mapping.\r\n\r\nBut... what I&#39;d really like is this: annotate classes and fields that I want in DTO, and run a tool that would generate the DTOs and the mappers.\r\n\r\nDoes that sound too unreasonable? \r\n\r\nDoes such a tool already exist?","title":"DTO and mapper generation from Domain Objects","body":"<p>I have plenty of java domain objects that I need to transform to DTOs.</p>\n\n<p>Please, don't start with the anti-pattern thing, the Domain Objects are what they are because of a long history, and I can't modify them (or not too much, see below).</p>\n\n<p>So, of course, we've passed the age of doing all that manually.\nI've looked around, and dozer seems the framework of choice for DTO mapping.</p>\n\n<p>But... what I'd really like is this: annotate classes and fields that I want in DTO, and run a tool that would generate the DTOs and the mappers.</p>\n\n<p>Does that sound too unreasonable? </p>\n\n<p>Does such a tool already exist?</p>\n"},{"tags":["java","mapping","dto"],"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1501766689,"post_id":1432764,"comment_id":77931674,"body_markdown":"Jackson (the JSON library) has a method `new ObjectMapper().convertValue(...)`. Jackson also has support for annotations and annotation-mixins so I find it a very good option.","body":"Jackson (the JSON library) has a method <code>new ObjectMapper().convertValue(...)</code>. Jackson also has support for annotations and annotation-mixins so I find it a very good option."},{"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"score":2,"creation_date":1541423012,"post_id":1432764,"comment_id":93200174,"body_markdown":"Here is an article with different frameworks and performance comparison. https://www.baeldung.com/java-performance-mapping-frameworks","body":"Here is an article with different frameworks and performance comparison. <a href=\"https://www.baeldung.com/java-performance-mapping-frameworks\" rel=\"nofollow noreferrer\">baeldung.com/java-performance-mapping-frameworks</a>"},{"owner":{"account_id":6022505,"reputation":3558,"user_id":4729203,"accept_rate":88,"display_name":"wonsuc"},"score":0,"creation_date":1644889245,"post_id":1432764,"comment_id":125719508,"body_markdown":"I readed all answers from this article, and decided to use [`MapStruct`](https://github.com/mapstruct/mapstruct) :)","body":"I readed all answers from this article, and decided to use <a href=\"https://github.com/mapstruct/mapstruct\" rel=\"nofollow noreferrer\"><code>MapStruct</code></a> :)"}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":3,"up_vote_count":112,"is_accepted":true,"score":109,"last_activity_date":1253105540,"creation_date":1253105540,"answer_id":1432773,"question_id":1432764,"body_markdown":"You could try [Dozer][1].\r\n\r\n&gt; Dozer is a Java Bean to Java Bean\r\n&gt; mapper that recursively copies data\r\n&gt; from one object to another. Typically,\r\n&gt; these Java Beans will be of different\r\n&gt; complex types.\r\n&gt; \r\n&gt; Dozer supports simple property\r\n&gt; mapping, complex type mapping,\r\n&gt; bi-directional mapping,\r\n&gt; implicit-explicit mapping, as well as\r\n&gt; recursive mapping. This includes\r\n&gt; mapping collection attributes that\r\n&gt; also need mapping at the element\r\n&gt; level.\r\n\r\n  [1]: http://dozer.sourceforge.net/","title":"any tool for java object to object mapping?","body":"<p>You could try <a href=\"http://dozer.sourceforge.net/\" rel=\"noreferrer\">Dozer</a>.</p>\n\n<blockquote>\n  <p>Dozer is a Java Bean to Java Bean\n  mapper that recursively copies data\n  from one object to another. Typically,\n  these Java Beans will be of different\n  complex types.</p>\n  \n  <p>Dozer supports simple property\n  mapping, complex type mapping,\n  bi-directional mapping,\n  implicit-explicit mapping, as well as\n  recursive mapping. This includes\n  mapping collection attributes that\n  also need mapping at the element\n  level.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":38490,"reputation":8552,"user_id":110478,"accept_rate":63,"display_name":"Pablojim"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1438108991,"creation_date":1253106317,"answer_id":1432845,"question_id":1432764,"body_markdown":"Use Apache commons beanutils:\r\n\r\n&gt; `static void copyProperties(Object dest, Object orig)` \r\n&gt; -Copy property values from the origin bean to the destination bean for all\r\n&gt; cases where the property names are the\r\n&gt; same.\r\n\r\n\r\n[http://commons.apache.org/proper/commons-beanutils/][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-beanutils/","title":"any tool for java object to object mapping?","body":"<p>Use Apache commons beanutils:</p>\n\n<blockquote>\n  <p><code>static void copyProperties(Object dest, Object orig)</code> \n  -Copy property values from the origin bean to the destination bean for all\n  cases where the property names are the\n  same.</p>\n</blockquote>\n\n<p><a href=\"http://commons.apache.org/proper/commons-beanutils/\" rel=\"noreferrer\">http://commons.apache.org/proper/commons-beanutils/</a></p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":412,"is_accepted":false,"score":412,"last_activity_date":1572285381,"creation_date":1253107666,"answer_id":1432956,"question_id":1432764,"body_markdown":"There are some libraries around there:\r\n\r\n - [Commons-BeanUtils][3]: ConvertUtils -&gt; Utility methods for converting String scalar values to objects of the specified Class, String arrays to arrays of the specified Class. \r\n\r\n - [Commons-Lang][4]: ArrayUtils -&gt; Operations on arrays, primitive arrays (like int[]) and primitive wrapper arrays (like Integer[]).  \r\n\r\n - [Spring framework][8]: Spring has an excellent support for PropertyEditors, that can also be used to transform Objects to/from Strings.\r\n\r\n - [Dozer][9]: Dozer is a powerful, yet simple Java Bean to Java Bean mapper that recursively copies data from one object to another. Typically, these Java Beans will be of different complex types. \r\n\r\n - [ModelMapper][10]: ModelMapper is an intelligent object mapping framework that automatically maps objects to each other. It uses a convention based approach to map objects while providing a simple refactoring safe API for handling specific use cases.\r\n\r\n - [MapStruct][14]: MapStruct is a compile-time code generator for bean mappings, resulting in fast (no usage of reflection or similar), dependency-less and type-safe mapping code at runtime.\r\n\r\n - [Orika][15]: Orika uses byte code generation to create fast mappers with minimal overhead.\r\n\r\n - [Selma][16]: Compile-time code-generator for mappings\r\n\r\n - &lt;strike&gt;[JMapper][17]: Bean mapper generation using Annotation, XML or API&lt;/strike&gt; (seems dead, last updated 2 years ago)\r\n\r\n - &lt;strike&gt;[Smooks][12]: The Smooks JavaBean Cartridge allows you to create and populate Java objects from your message data (i.e. bind data to) (suggested by [superfilin][12] in comments).&lt;/strike&gt; (No longer under active development)\r\n\r\n - &lt;strike&gt;[Commons-Convert][5]: Commons-Convert aims to provide a single library dedicated to the task of converting an object of one type to another. The first stage will focus on Object to String and String to Object conversions. (seems dead, last update 2010)\r\n\r\n - &lt;strike&gt;[Transmorph][1]: Transmorph is a free java library used to convert a Java object of one type into an object of another type (with another signature, possibly parameterized).&lt;/strike&gt; (seems dead, last update 2013)\r\n\r\n - &lt;strike&gt;[EZMorph][2]: EZMorph is simple java library for transforming an Object to another Object. It supports transformations for primitives and Objects, for multidimensional arrays and transformations with DynaBeans &lt;/strike&gt; (seems dead, last updated 2008)\r\n\r\n\r\n - &lt;strike&gt;[Morph][6]: Morph is a Java framework that eases the internal interoperability of an application. As information flows through an application, it undergoes multiple transformations. Morph provides a standard way to implement these transformations.&lt;/strike&gt; (seems dead, last update 2008)\r\n\r\n\r\n - &lt;strike&gt;[Lorentz][7]: Lorentz is a generic object-to-object conversion framework. It provides a simple API to convert a Java objects of one type into an object of another type.&lt;/strike&gt; (seems dead)\r\n\r\n - &lt;strike&gt;[OTOM][11]: With OTOM, you can copy any data from any object to any other object. The possibilities are endless. Welcome to &quot;Autumn&quot;.&lt;/strike&gt; (seems dead)\r\n\r\n  [1]: https://github.com/cchabanois/transmorph\r\n  [2]: http://aalmiray.github.io/ezmorph/\r\n  [3]: http://jakarta.apache.org/commons/beanutils\r\n  [4]: http://jakarta.apache.org/commons/lang\r\n  [5]: http://commons.apache.org/dormant/convert/\r\n  [6]: http://morph.sourceforge.net/\r\n  [7]: http://gleamynode.net/dev/lorentz/docs/index.html\r\n  [8]: http://springframework.org/\r\n  [9]: https://github.com/DozerMapper/dozer/\r\n  [10]: https://github.com/modelmapper/modelmapper\r\n  [11]: https://java.net/projects/otom\r\n  [12]: http://www.smooks.org\r\n  [13]: http://stackoverflow.com/users/162792/superfilin\r\n  [14]: http://mapstruct.org/\r\n  [15]: https://github.com/orika-mapper/orika\r\n  [16]: http://www.selma-java.org/\r\n  [17]: http://jmapper-framework.github.io/jmapper-core/","title":"any tool for java object to object mapping?","body":"<p>There are some libraries around there:</p>\n\n<ul>\n<li><p><a href=\"http://jakarta.apache.org/commons/beanutils\" rel=\"noreferrer\">Commons-BeanUtils</a>: ConvertUtils -> Utility methods for converting String scalar values to objects of the specified Class, String arrays to arrays of the specified Class. </p></li>\n<li><p><a href=\"http://jakarta.apache.org/commons/lang\" rel=\"noreferrer\">Commons-Lang</a>: ArrayUtils -> Operations on arrays, primitive arrays (like int[]) and primitive wrapper arrays (like Integer[]).  </p></li>\n<li><p><a href=\"http://springframework.org/\" rel=\"noreferrer\">Spring framework</a>: Spring has an excellent support for PropertyEditors, that can also be used to transform Objects to/from Strings.</p></li>\n<li><p><a href=\"https://github.com/DozerMapper/dozer/\" rel=\"noreferrer\">Dozer</a>: Dozer is a powerful, yet simple Java Bean to Java Bean mapper that recursively copies data from one object to another. Typically, these Java Beans will be of different complex types. </p></li>\n<li><p><a href=\"https://github.com/modelmapper/modelmapper\" rel=\"noreferrer\">ModelMapper</a>: ModelMapper is an intelligent object mapping framework that automatically maps objects to each other. It uses a convention based approach to map objects while providing a simple refactoring safe API for handling specific use cases.</p></li>\n<li><p><a href=\"http://mapstruct.org/\" rel=\"noreferrer\">MapStruct</a>: MapStruct is a compile-time code generator for bean mappings, resulting in fast (no usage of reflection or similar), dependency-less and type-safe mapping code at runtime.</p></li>\n<li><p><a href=\"https://github.com/orika-mapper/orika\" rel=\"noreferrer\">Orika</a>: Orika uses byte code generation to create fast mappers with minimal overhead.</p></li>\n<li><p><a href=\"http://www.selma-java.org/\" rel=\"noreferrer\">Selma</a>: Compile-time code-generator for mappings</p></li>\n<li><p><strike><a href=\"http://jmapper-framework.github.io/jmapper-core/\" rel=\"noreferrer\">JMapper</a>: Bean mapper generation using Annotation, XML or API</strike> (seems dead, last updated 2 years ago)</p></li>\n<li><p><strike><a href=\"http://www.smooks.org\" rel=\"noreferrer\">Smooks</a>: The Smooks JavaBean Cartridge allows you to create and populate Java objects from your message data (i.e. bind data to) (suggested by <a href=\"http://www.smooks.org\" rel=\"noreferrer\">superfilin</a> in comments).</strike> (No longer under active development)</p></li>\n<li><p><strike><a href=\"http://commons.apache.org/dormant/convert/\" rel=\"noreferrer\">Commons-Convert</a>: Commons-Convert aims to provide a single library dedicated to the task of converting an object of one type to another. The first stage will focus on Object to String and String to Object conversions. (seems dead, last update 2010)</p></li>\n<li><p><strike><a href=\"https://github.com/cchabanois/transmorph\" rel=\"noreferrer\">Transmorph</a>: Transmorph is a free java library used to convert a Java object of one type into an object of another type (with another signature, possibly parameterized).</strike> (seems dead, last update 2013)</p></li>\n<li><p><strike><a href=\"http://aalmiray.github.io/ezmorph/\" rel=\"noreferrer\">EZMorph</a>: EZMorph is simple java library for transforming an Object to another Object. It supports transformations for primitives and Objects, for multidimensional arrays and transformations with DynaBeans </strike> (seems dead, last updated 2008)</p></li>\n<li><p><strike><a href=\"http://morph.sourceforge.net/\" rel=\"noreferrer\">Morph</a>: Morph is a Java framework that eases the internal interoperability of an application. As information flows through an application, it undergoes multiple transformations. Morph provides a standard way to implement these transformations.</strike> (seems dead, last update 2008)</p></li>\n<li><p><strike><a href=\"http://gleamynode.net/dev/lorentz/docs/index.html\" rel=\"noreferrer\">Lorentz</a>: Lorentz is a generic object-to-object conversion framework. It provides a simple API to convert a Java objects of one type into an object of another type.</strike> (seems dead)</p></li>\n<li><p><a href=\"https://java.net/projects/otom\" rel=\"noreferrer\">OTOM</a>: With OTOM, you can copy any data from any object to any other object. The possibilities are endless. Welcome to \"Autumn\".</strike> (seems dead)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":210884,"reputation":332,"user_id":462735,"display_name":"Dmitry"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1291934063,"creation_date":1291934063,"answer_id":4403830,"question_id":1432764,"body_markdown":"There is one more Java mapping engine/framework Nomin: http://nomin.sourceforge.net.","title":"any tool for java object to object mapping?","body":"<p>There is one more Java mapping engine/framework Nomin: <a href=\"http://nomin.sourceforge.net\" rel=\"noreferrer\">http://nomin.sourceforge.net</a>.</p>\n"},{"tags":[],"owner":{"account_id":47591,"reputation":5499,"user_id":141042,"accept_rate":86,"display_name":"Geoffrey Wiseman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303400177,"creation_date":1303400177,"answer_id":5746381,"question_id":1432764,"body_markdown":"I&#39;m happy to add Moo as an option, although clearly I&#39;m biased towards it:\r\nhttp://geoffreywiseman.github.com/Moo/\r\n\r\nIt&#39;s very easy to use for simple cases, reasonable capable for more complex cases, although there are still some areas where I can imagine enhancing it for even further complexities.","title":"any tool for java object to object mapping?","body":"<p>I'm happy to add Moo as an option, although clearly I'm biased towards it:\n<a href=\"http://geoffreywiseman.github.com/Moo/\" rel=\"nofollow\">http://geoffreywiseman.github.com/Moo/</a></p>\n\n<p>It's very easy to use for simple cases, reasonable capable for more complex cases, although there are still some areas where I can imagine enhancing it for even further complexities.</p>\n"},{"tags":[],"owner":{"account_id":767438,"reputation":329,"user_id":799416,"display_name":"Tomas"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1447771887,"creation_date":1308135027,"answer_id":6356562,"question_id":1432764,"body_markdown":"Another one is Orika - https://github.com/orika-mapper/orika\n\n&gt; Orika is a Java Bean mapping framework that recursively copies (among other capabilities) data from one object to another. It can be very useful when developing multi-layered applications.\n&gt;\n&gt; Orika focuses on automating as much as possible, while providing customization through configuration and extension where needed.\n&gt;\n&gt; Orika enables the developer to :\n&gt;\n&gt; * Map complex and deeply structured objects\n&gt; * &quot;Flatten&quot; or &quot;Expand&quot; objects by mapping nested properties to top-level properties, and vice versa\n&gt; * Create mappers on-the-fly, and apply customizations to control some or all of the mapping\n&gt; * Create converters for complete control over the mapping of a specific set of objects anywhere in the object graph--by type, or even by specific property name\n&gt; * Handle proxies or enhanced objects (like those of Hibernate, or the various mock frameworks)\n&gt; * Apply bi-directional mapping with one configuration\n&gt; * Map to instances of an appropriate concrete class for a target abstract class or interface\n&gt; * Handle reverse mappings\n&gt; * Handle complex conventions beyond JavaBean specs.\n&gt;\n&gt; Orika uses byte code generation to create fast mappers with minimal overhead.","title":"any tool for java object to object mapping?","body":"<p>Another one is Orika - <a href=\"https://github.com/orika-mapper/orika\" rel=\"noreferrer\">https://github.com/orika-mapper/orika</a></p>\n<blockquote>\n<p>Orika is a Java Bean mapping framework that recursively copies (among other capabilities) data from one object to another. It can be very useful when developing multi-layered applications.</p>\n<p>Orika focuses on automating as much as possible, while providing customization through configuration and extension where needed.</p>\n<p>Orika enables the developer to :</p>\n<ul>\n<li>Map complex and deeply structured objects</li>\n<li>&quot;Flatten&quot; or &quot;Expand&quot; objects by mapping nested properties to top-level properties, and vice versa</li>\n<li>Create mappers on-the-fly, and apply customizations to control some or all of the mapping</li>\n<li>Create converters for complete control over the mapping of a specific set of objects anywhere in the object graph--by type, or even by specific property name</li>\n<li>Handle proxies or enhanced objects (like those of Hibernate, or the various mock frameworks)</li>\n<li>Apply bi-directional mapping with one configuration</li>\n<li>Map to instances of an appropriate concrete class for a target abstract class or interface</li>\n<li>Handle reverse mappings</li>\n<li>Handle complex conventions beyond JavaBean specs.</li>\n</ul>\n<p>Orika uses byte code generation to create fast mappers with minimal overhead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":772290,"reputation":21,"user_id":806480,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308566526,"creation_date":1308566526,"answer_id":6409973,"question_id":1432764,"body_markdown":"You can also try mapping framework based on Dozer, but with Excel mapping declaration. They&#39;ve got some tools and additional cool features. \r\nCheck at [http://openl-tablets.sf.net/mapper][1]\r\n\r\n\r\n  [1]: http://openl-tablets.sf.net/mapper","title":"any tool for java object to object mapping?","body":"<p>You can also try mapping framework based on Dozer, but with Excel mapping declaration. They've got some tools and additional cool features. \nCheck at <a href=\"http://openl-tablets.sf.net/mapper\" rel=\"nofollow\">http://openl-tablets.sf.net/mapper</a></p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1663697921,"creation_date":1308770750,"answer_id":6445359,"question_id":1432764,"body_markdown":"My [ModelMapper](http://modelmapper.org) is another library worth checking out. ModelMapper&#39;s design is different from other libraries in that it:\r\n\r\n * Automatically maps object models by intelligently matching source and destination properties\r\n * Provides a refactoring safe mapping API that uses actual code to map fields and methods rather than using strings\r\n * Utilizes convention based configuration for simple handling of custom scenarios\r\n\r\nCheck out the ModelMapper site for more info:\r\n\r\nhttp://modelmapper.org","title":"any tool for java object to object mapping?","body":"<p>My <a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">ModelMapper</a> is another library worth checking out. ModelMapper's design is different from other libraries in that it:</p>\n<ul>\n<li>Automatically maps object models by intelligently matching source and destination properties</li>\n<li>Provides a refactoring safe mapping API that uses actual code to map fields and methods rather than using strings</li>\n<li>Utilizes convention based configuration for simple handling of custom scenarios</li>\n</ul>\n<p>Check out the ModelMapper site for more info:</p>\n<p><a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">http://modelmapper.org</a></p>\n"},{"tags":[],"owner":{"account_id":1810593,"reputation":282,"user_id":1646745,"accept_rate":86,"display_name":"Alessandro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447772091,"creation_date":1346775202,"answer_id":12267485,"question_id":1432764,"body_markdown":"I suggest you try [JMapper Framework](https://github.com/jmapper-framework/jmapper-core).\r\n\r\nIt is a Java bean to Java bean mapper, allows you to perform the passage of data dynamically with annotations and / or XML.\r\n\r\nWith JMapper you can:\r\n\r\n- Create and enrich target objects\r\n- Apply a specific logic to the mapping\r\n- Automatically manage the XML file\r\n- Implement the 1 to N and N to 1 relationships\r\n- Implement explicit conversions\r\n- Apply inherited configurations\r\n","title":"any tool for java object to object mapping?","body":"<p>I suggest you try <a href=\"https://github.com/jmapper-framework/jmapper-core\" rel=\"nofollow\">JMapper Framework</a>.</p>\n\n<p>It is a Java bean to Java bean mapper, allows you to perform the passage of data dynamically with annotations and / or XML.</p>\n\n<p>With JMapper you can:</p>\n\n<ul>\n<li>Create and enrich target objects</li>\n<li>Apply a specific logic to the mapping</li>\n<li>Automatically manage the XML file</li>\n<li>Implement the 1 to N and N to 1 relationships</li>\n<li>Implement explicit conversions</li>\n<li>Apply inherited configurations</li>\n</ul>\n"}],"owner":{"account_id":46097,"reputation":3676,"user_id":136106,"accept_rate":88,"display_name":"ravinikam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184116,"favorite_count":0,"down_vote_count":3,"up_vote_count":252,"closed_date":1352900358,"accepted_answer_id":1432773,"answer_count":9,"score":249,"last_activity_date":1663697921,"creation_date":1253105439,"question_id":1432764,"body_markdown":"I am trying to convert DO to DTO using java and looking for automated tool before start writing my own. I just wanted to know if there any free tool available for the same.","title":"any tool for java object to object mapping?","body":"<p>I am trying to convert DO to DTO using java and looking for automated tool before start writing my own. I just wanted to know if there any free tool available for the same.</p>\n"},{"tags":["java",".net","mapping","automapper"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1279895884,"post_id":3319002,"comment_id":3440686,"body_markdown":"If you could tell us what Automapper does in .NET, then we Java-freaks could answer as well ;-)","body":"If you could tell us what Automapper does in .NET, then we Java-freaks could answer as well ;-)"},{"owner":{"account_id":38939,"reputation":70186,"user_id":112100,"accept_rate":91,"display_name":"Omu"},"score":0,"creation_date":1280152573,"post_id":3319002,"comment_id":3460019,"body_markdown":"@Joachim Sauer http://automapper.codeplex.com","body":"@Joachim Sauer <a href=\"http://automapper.codeplex.com\" rel=\"nofollow noreferrer\">automapper.codeplex.com</a>"},{"owner":{"account_id":34640,"reputation":20249,"user_id":97964,"accept_rate":88,"display_name":"jocull"},"score":2,"creation_date":1549056546,"post_id":3319002,"comment_id":95781364,"body_markdown":"Despite this question being closed, it contains a lot of great information! There are many other mappers not mentioned here. Please see this article for a great comparison of examples and performance (2018): https://www.baeldung.com/java-performance-mapping-frameworks","body":"Despite this question being closed, it contains a lot of great information! There are many other mappers not mentioned here. Please see this article for a great comparison of examples and performance (2018): <a href=\"https://www.baeldung.com/java-performance-mapping-frameworks\" rel=\"nofollow noreferrer\">baeldung.com/java-performance-mapping-frameworks</a>"}],"answers":[{"tags":[],"owner":{"account_id":155065,"reputation":3396,"user_id":371457,"accept_rate":100,"display_name":"frm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279895564,"creation_date":1279895564,"answer_id":3319132,"question_id":3319002,"body_markdown":"You should check the open source project [Beanutils][1] from [Apache Commons][2].\r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/\r\n  [2]: http://commons.apache.org/","title":"Automapper for Java","body":"<p>You should check the open source project <a href=\"http://commons.apache.org/beanutils/\" rel=\"nofollow noreferrer\">Beanutils</a> from <a href=\"http://commons.apache.org/\" rel=\"nofollow noreferrer\">Apache Commons</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user159088"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1284409068,"creation_date":1284409068,"answer_id":3704067,"question_id":3319002,"body_markdown":"Checkout the [Dozer][1] project. \r\n\r\nDozer supports simple property mapping, complex type mapping, bi-directional mapping, implicit-explicit mapping, as well as recursive mapping. \r\n\r\nIt makes use of [BeanUtils][2] and extends on it.\r\n\r\n\r\n  [1]: http://dozer.sourceforge.net/\r\n  [2]: http://commons.apache.org/beanutils/","title":"Automapper for Java","body":"<p>Checkout the <a href=\"http://dozer.sourceforge.net/\" rel=\"noreferrer\">Dozer</a> project. </p>\n\n<p>Dozer supports simple property mapping, complex type mapping, bi-directional mapping, implicit-explicit mapping, as well as recursive mapping. </p>\n\n<p>It makes use of <a href=\"http://commons.apache.org/beanutils/\" rel=\"noreferrer\">BeanUtils</a> and extends on it.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1663697906,"creation_date":1308892115,"answer_id":6463639,"question_id":3319002,"body_markdown":"Check out my [ModelMapper](http://modelmapper.org). It was inspired by AutoMapper, but adds a few new things such as intelligent mapping.\r\n\r\n&gt; ModelMapper is an intelligent object\r\n&gt; mapping framework that eliminates the\r\n&gt; need to manually map objects to each\r\n&gt; other. It uses a convention-based\r\n&gt; approach to map objects while\r\n&gt; providing a simple refactoring safe\r\n&gt; API for handling specific mapping\r\n&gt; scenarios.\r\n\r\nhttp://modelmapper.org\r\n\r\nAlso a brief blog post from Jimmy Bogard, the creator of AutoMapper:\r\n\r\nhttp://lostechies.com/jimmybogard/2012/09/17/automapper-for-java/","title":"Automapper for Java","body":"<p>Check out my <a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">ModelMapper</a>. It was inspired by AutoMapper, but adds a few new things such as intelligent mapping.</p>\n<blockquote>\n<p>ModelMapper is an intelligent object\nmapping framework that eliminates the\nneed to manually map objects to each\nother. It uses a convention-based\napproach to map objects while\nproviding a simple refactoring safe\nAPI for handling specific mapping\nscenarios.</p>\n</blockquote>\n<p><a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">http://modelmapper.org</a></p>\n<p>Also a brief blog post from Jimmy Bogard, the creator of AutoMapper:</p>\n<p><a href=\"http://lostechies.com/jimmybogard/2012/09/17/automapper-for-java/\" rel=\"nofollow noreferrer\">http://lostechies.com/jimmybogard/2012/09/17/automapper-for-java/</a></p>\n"}],"owner":{"account_id":23724,"reputation":13660,"user_id":59666,"accept_rate":76,"display_name":"mgamer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27098,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"closed_date":1358524803,"accepted_answer_id":3704067,"answer_count":3,"score":53,"last_activity_date":1663697906,"creation_date":1279894754,"question_id":3319002,"body_markdown":"Is there Java equivalent of .Net&#39;s [Automapper][1]?\r\n\r\n\r\n  [1]: http://automapper.codeplex.com/","title":"Automapper for Java","body":"<p>Is there Java equivalent of .Net's <a href=\"http://automapper.codeplex.com/\" rel=\"noreferrer\">Automapper</a>?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1641382513,"post_id":70592113,"comment_id":124788934,"body_markdown":"You want to inject list of beans of some type X into a bean of type X without including the latter in the list or you want to do something with beans of type X, excluding some bean of type X, before the bean is also included in the list?","body":"You want to inject list of beans of some type X into a bean of type X without including the latter in the list or you want to do something with beans of type X, excluding some bean of type X, before the bean is also included in the list?"},{"owner":{"account_id":1062864,"reputation":767,"user_id":1064127,"accept_rate":48,"display_name":"Sutty1000"},"score":0,"creation_date":1641383274,"post_id":70592113,"comment_id":124789201,"body_markdown":"The former, inject list of beans of interface X into Class Y that also implements interface X but exclude Y from that list of beans","body":"The former, inject list of beans of interface X into Class Y that also implements interface X but exclude Y from that list of beans"},{"owner":{"account_id":1062864,"reputation":767,"user_id":1064127,"accept_rate":48,"display_name":"Sutty1000"},"score":0,"creation_date":1641383332,"post_id":70592113,"comment_id":124789228,"body_markdown":"However in say class Z that implements interface X then I want to inject the list of beans of interface X but exclude Z from that list of beans","body":"However in say class Z that implements interface X then I want to inject the list of beans of interface X but exclude Z from that list of beans"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641386458,"post_id":70592113,"comment_id":124790375,"body_markdown":"use an `ObjectProvider&lt;Foo&gt;` and use that instead of the `List`. When needed use the `stream()` method to either do something with each or first filter the ones you need.","body":"use an <code>ObjectProvider&lt;Foo&gt;</code> and use that instead of the <code>List</code>. When needed use the <code>stream()</code> method to either do something with each or first filter the ones you need."},{"owner":{"account_id":13919742,"reputation":964,"user_id":10342150,"display_name":"robertobatts"},"score":0,"creation_date":1641387665,"post_id":70592113,"comment_id":124790818,"body_markdown":"This looks like an anti-pattern, why would you ever want to do something like this?\nIt looks like, from each implementation of Foo, you want to trigger the doSomething method of all the other implementations, that would cause an infinite loop, and would not make sense. What are you trying to achieve?","body":"This looks like an anti-pattern, why would you ever want to do something like this? It looks like, from each implementation of Foo, you want to trigger the doSomething method of all the other implementations, that would cause an infinite loop, and would not make sense. What are you trying to achieve?"}],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641387263,"creation_date":1641387263,"answer_id":70593212,"question_id":70592113,"body_markdown":"Instead of injecting a list in the constructor, you can look up all beans of type `Foo` in the `doSomething` methods, and then exclude the current one. To look up, use any of the methods from [BeanFactoryUtils](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactoryUtils.html), like `beanNamesForTypeIncludingAncestors`, and then exclude `foo1`, which is the bean name for class `Foo1`. The look up can even be coded into a default method in interface `Foo`.","title":"Autowire beans by interface but exclude specific bean at injection time","body":"<p>Instead of injecting a list in the constructor, you can look up all beans of type <code>Foo</code> in the <code>doSomething</code> methods, and then exclude the current one. To look up, use any of the methods from <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactoryUtils.html\" rel=\"nofollow noreferrer\">BeanFactoryUtils</a>, like <code>beanNamesForTypeIncludingAncestors</code>, and then exclude <code>foo1</code>, which is the bean name for class <code>Foo1</code>. The look up can even be coded into a default method in interface <code>Foo</code>.</p>\n"},{"tags":[],"owner":{"account_id":20681699,"reputation":148,"user_id":15185138,"display_name":"Vrezh Arakelyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663697754,"creation_date":1663697754,"answer_id":73791031,"question_id":70592113,"body_markdown":"This solution is pretty much a hack, and I would not recommend using it unless really necessary. Instead of declaring `Foo2` as a component you can define it inside a `@Configuration` class by \r\ninjecting [ListableBeanFactory](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ListableBeanFactory.html) as a parameter in the bean definition method and then using it&#39;s `getBeansOfType` method to filter out the implementations of `Foo` that you actually need to instantiate the `Foo2` bean.\r\n\r\nSo your Foo2 class would look like\r\n\r\n```\r\npublic class Foo2 implements Foo {\r\n\r\n    private final List&lt;Foo&gt; foos;\r\n\r\n    public Foo2(final List&lt;Foo&gt; foos) {\r\n        this.foos = foos;\r\n    }\r\n\r\n    public String doSomething() {\r\n        foos.forEach(foo -&gt; foo.doSomething());\r\n        return &quot;anotherString&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAnd the configuration class would look like\r\n\r\n```\r\n@Configuration\r\npublic class MyConfiguration {\r\n\r\n    @Bean\r\n    Foo2 foo2(ListableBeanFactory bf) {\r\n        final Map&lt;String, Foo&gt; fooBeans = bf.getBeansOfType(Foo.class);\r\n        List&lt;Foo&gt; foos = // filter out what you don&#39;t need from fooBeans\r\n        return new Foo2(foos);\r\n    }\r\n\r\n}\r\n```","title":"Autowire beans by interface but exclude specific bean at injection time","body":"<p>This solution is pretty much a hack, and I would not recommend using it unless really necessary. Instead of declaring <code>Foo2</code> as a component you can define it inside a <code>@Configuration</code> class by\ninjecting <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ListableBeanFactory.html\" rel=\"nofollow noreferrer\">ListableBeanFactory</a> as a parameter in the bean definition method and then using it's <code>getBeansOfType</code> method to filter out the implementations of <code>Foo</code> that you actually need to instantiate the <code>Foo2</code> bean.</p>\n<p>So your Foo2 class would look like</p>\n<pre><code>public class Foo2 implements Foo {\n\n    private final List&lt;Foo&gt; foos;\n\n    public Foo2(final List&lt;Foo&gt; foos) {\n        this.foos = foos;\n    }\n\n    public String doSomething() {\n        foos.forEach(foo -&gt; foo.doSomething());\n        return &quot;anotherString&quot;;\n    }\n}\n</code></pre>\n<p>And the configuration class would look like</p>\n<pre><code>@Configuration\npublic class MyConfiguration {\n\n    @Bean\n    Foo2 foo2(ListableBeanFactory bf) {\n        final Map&lt;String, Foo&gt; fooBeans = bf.getBeansOfType(Foo.class);\n        List&lt;Foo&gt; foos = // filter out what you don't need from fooBeans\n        return new Foo2(foos);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1062864,"reputation":767,"user_id":1064127,"accept_rate":48,"display_name":"Sutty1000"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1663697754,"creation_date":1641382160,"question_id":70592113,"body_markdown":"I&#39;m currently injecting a list of Spring `@Component`  which all implement the same interface. This works fine however I want to inject this same list into an instance of a bean in that list so I can act on all the other beans in that list. I can&#39;t see how to exclude a specific bean from that injection, I can filter the list after injecting it but this of course results in a Spring circular dependency exception at startup. My question is can I at the point of injecting tell spring to exclude the class being injected to from the list of beans?\r\n```\r\npublic interface Foo {\r\n    String doSomething();\r\n}\r\n```\r\n```    \r\n@Component\r\npublic class Foo1 implements Foo {\r\n\r\n    private final List&lt;Foo&gt; foos;\r\n\r\n    public Sample(final List&lt;Foo&gt; foos) {\r\n        //Don&#39;t include Foo1\r\n        this.foos = foos;\r\n    }\r\n\r\n    public String doSomething() {\r\n        foos.forEach(foo -&gt; foo.doSomething());\r\n        return &quot;aString&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```java    \r\n\r\n@Component\r\npublic class Foo2 implements Foo {\r\n\r\n    private final List&lt;Foo&gt; foos;\r\n\r\n    public Sample(final List&lt;Foo&gt; foos) {\r\n        //Don&#39;t include Foo2\r\n        this.foos = foos;\r\n    }\r\n\r\n    public String doSomething() {\r\n        foos.forEach(foo -&gt; foo.doSomething());\r\n        return &quot;anotherString&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```    \r\n@Component\r\npublic class Foo3 implements Foo {\r\n//and so on\r\n```\r\n","title":"Autowire beans by interface but exclude specific bean at injection time","body":"<p>I'm currently injecting a list of Spring <code>@Component</code>  which all implement the same interface. This works fine however I want to inject this same list into an instance of a bean in that list so I can act on all the other beans in that list. I can't see how to exclude a specific bean from that injection, I can filter the list after injecting it but this of course results in a Spring circular dependency exception at startup. My question is can I at the point of injecting tell spring to exclude the class being injected to from the list of beans?</p>\n<pre><code>public interface Foo {\n    String doSomething();\n}\n</code></pre>\n<pre><code>@Component\npublic class Foo1 implements Foo {\n\n    private final List&lt;Foo&gt; foos;\n\n    public Sample(final List&lt;Foo&gt; foos) {\n        //Don't include Foo1\n        this.foos = foos;\n    }\n\n    public String doSomething() {\n        foos.forEach(foo -&gt; foo.doSomething());\n        return &quot;aString&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\npublic class Foo2 implements Foo {\n\n    private final List&lt;Foo&gt; foos;\n\n    public Sample(final List&lt;Foo&gt; foos) {\n        //Don't include Foo2\n        this.foos = foos;\n    }\n\n    public String doSomething() {\n        foos.forEach(foo -&gt; foo.doSomething());\n        return &quot;anotherString&quot;;\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class Foo3 implements Foo {\n//and so on\n</code></pre>\n"},{"tags":["java","multithreading","events","junit","rcp"],"answers":[{"tags":[],"owner":{"account_id":64336,"reputation":12440,"user_id":189974,"accept_rate":96,"display_name":"Abhijeet Kashnia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300349345,"creation_date":1300349345,"answer_id":5336437,"question_id":5336251,"body_markdown":"I suggest you use a mocking framework, to confirm that the server call was indeed made. As for the thread unit testing: [Unit testing multithreaded applications][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3914822/unit-testing-multithreaded-applications/3914948#3914948","title":"How do I write a JUnit test case to test threads and events","body":"<p>I suggest you use a mocking framework, to confirm that the server call was indeed made. As for the thread unit testing: <a href=\"https://stackoverflow.com/questions/3914822/unit-testing-multithreaded-applications/3914948#3914948\">Unit testing multithreaded applications</a></p>\n"},{"tags":[],"owner":{"account_id":5040,"reputation":21365,"user_id":7898,"accept_rate":92,"display_name":"Jean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1300350183,"creation_date":1300350183,"answer_id":5336564,"question_id":5336251,"body_markdown":"The resources provided by [Abhijeet Kashnia][1] may help, but I am not sure what you are trying to achieve.\r\n\r\nYou can do unit testing with mocks to verify your code, that won&#39;t test concurrency but will provide coverage. \r\nYou can write an integration test to verify that the threads are being created and joined in the fashion you expect.However this will not guarantee against concurrency problems. Most concurrent problems are caused by timing bugs which are not predictable and thus can&#39;t be tested for accurately. \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/189974/abhijeet-kashnia","title":"How do I write a JUnit test case to test threads and events","body":"<p>The resources provided by <a href=\"https://stackoverflow.com/users/189974/abhijeet-kashnia\">Abhijeet Kashnia</a> may help, but I am not sure what you are trying to achieve.</p>\n\n<p>You can do unit testing with mocks to verify your code, that won't test concurrency but will provide coverage. \nYou can write an integration test to verify that the threads are being created and joined in the fashion you expect.However this will not guarantee against concurrency problems. Most concurrent problems are caused by timing bugs which are not predictable and thus can't be tested for accurately. </p>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1300350484,"creation_date":1300350484,"answer_id":5336608,"question_id":5336251,"body_markdown":"\r\nYou may need to restructure your code so that it can be easily tested.\r\n\r\nI can see several distinct areas for testing:\r\n\r\n 1. Thread Management code: the code that launches the thread(s) and perhaps waits for results\r\n 2. The &quot;worker&quot; code run in the thread\r\n 3. The concurrency issues that may result when multiple threads are active\r\n\r\nStructure your implementation so that Your Thread Management code is agnostic as to the details of the Worker. Then you can use Mock Workers to enable testing of Thread Management - for example a Mock Worker that fails in certain ways allows you to test certain paths in the management code.\r\n\r\nImplement the Worker code so that it can be run in isolation. You can then unit test this independently, using mocks for the server.\r\n\r\nFor concurrency testing the links provided by Abhijeet Kashnia will help.\r\n","title":"How do I write a JUnit test case to test threads and events","body":"<p>You may need to restructure your code so that it can be easily tested.</p>\n\n<p>I can see several distinct areas for testing:</p>\n\n<ol>\n<li>Thread Management code: the code that launches the thread(s) and perhaps waits for results</li>\n<li>The \"worker\" code run in the thread</li>\n<li>The concurrency issues that may result when multiple threads are active</li>\n</ol>\n\n<p>Structure your implementation so that Your Thread Management code is agnostic as to the details of the Worker. Then you can use Mock Workers to enable testing of Thread Management - for example a Mock Worker that fails in certain ways allows you to test certain paths in the management code.</p>\n\n<p>Implement the Worker code so that it can be run in isolation. You can then unit test this independently, using mocks for the server.</p>\n\n<p>For concurrency testing the links provided by Abhijeet Kashnia will help.</p>\n"},{"tags":[],"owner":{"account_id":334744,"reputation":169,"user_id":661398,"display_name":"roghughe"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1300352796,"creation_date":1300352796,"answer_id":5336932,"question_id":5336251,"body_markdown":"I&#39;m guessing that you may have done your mocking code and may want a simple integration test to ensure that that your server call works. \r\n\r\nOne of the difficulties in testing threads comes from their very nature - they&#39;re concurrent. This means that you&#39;re force into writing JUnit test code that is forced to wait until your thread has finished its job before testing your code&#39;s results. This isn&#39;t a very good way of testing code, and can be unreliable, but usually means that you have some idea about whether you code is working.\r\n\r\nAs an example, your code may look something like:\r\n\r\n\t@Test\r\n\tpublic void myIntegrationTest() throws Exception {\r\n\r\n\t   // Setup your test\r\n\r\n\r\n\t   // call your threading code\r\n\t   Results result = myServerClient.doThreadedCode();\r\n\r\n\t   // Wait for your code to complete\r\n\t   sleep(5);\r\n\r\n\t   // Test the results\r\n\t   assertEquals(&quot;some value&quot;,result.getSomeValue());\r\n\r\n\t}\r\n\r\n\r\n\tprivate void sleep(int seconds) {\r\n\r\n\t\ttry {\r\n\t\t\tTimeUnit.SECONDS.sleep(seconds);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nI really don&#39;t like doing this and prefer mocks and agree with the other answers. But, if you need to test your threads, then this is one approach that I find works.\r\n\r\n","title":"How do I write a JUnit test case to test threads and events","body":"<p>I'm guessing that you may have done your mocking code and may want a simple integration test to ensure that that your server call works. </p>\n\n<p>One of the difficulties in testing threads comes from their very nature - they're concurrent. This means that you're force into writing JUnit test code that is forced to wait until your thread has finished its job before testing your code's results. This isn't a very good way of testing code, and can be unreliable, but usually means that you have some idea about whether you code is working.</p>\n\n<p>As an example, your code may look something like:</p>\n\n<pre><code>@Test\npublic void myIntegrationTest() throws Exception {\n\n   // Setup your test\n\n\n   // call your threading code\n   Results result = myServerClient.doThreadedCode();\n\n   // Wait for your code to complete\n   sleep(5);\n\n   // Test the results\n   assertEquals(\"some value\",result.getSomeValue());\n\n}\n\n\nprivate void sleep(int seconds) {\n\n    try {\n        TimeUnit.SECONDS.sleep(seconds);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I really don't like doing this and prefer mocks and agree with the other answers. But, if you need to test your threads, then this is one approach that I find works.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1663697653,"creation_date":1308607161,"answer_id":6418069,"question_id":5336251,"body_markdown":"This is what I created [ConcurrentUnit][1] for. The general usage is:\r\n\r\n 1. Spawn some threads\r\n 2. Have the main thread wait or sleep\r\n 3. Perform assertions from within the worker threads (which via ConcurrentUnit, are reported back to the main thread)\r\n 4. Resume the main thread from one of the worker threads once all assertions are complete\r\n\r\n  [1]: https://github.com/jhalterman/concurrentunit\r\n\r\nSee the ConcurrentUnit page for more info.","title":"How do I write a JUnit test case to test threads and events","body":"<p>This is what I created <a href=\"https://github.com/jhalterman/concurrentunit\" rel=\"nofollow noreferrer\">ConcurrentUnit</a> for. The general usage is:</p>\n<ol>\n<li>Spawn some threads</li>\n<li>Have the main thread wait or sleep</li>\n<li>Perform assertions from within the worker threads (which via ConcurrentUnit, are reported back to the main thread)</li>\n<li>Resume the main thread from one of the worker threads once all assertions are complete</li>\n</ol>\n<p>See the ConcurrentUnit page for more info.</p>\n"},{"tags":[],"owner":{"account_id":3617102,"reputation":1787,"user_id":3016686,"display_name":"Ultimate Fighter"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1474013114,"creation_date":1474009934,"answer_id":39525700,"question_id":5336251,"body_markdown":"Here is my solution to test asynchrone method which used thread.start:\r\n\r\n    public class MyClass {\t\t\r\n\t   public void doSomthingAsynchrone() {\r\n\t\t  new Thread(() -&gt; {\r\n\t\t\t doSomthing();\r\n\t\t  }).start();\r\n       }\r\n\t\r\n   \t   private void doSomthing() {\r\n\t   }\r\n    }\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(MyClass.class)\r\n    public class MyClassTest {\r\n       ArgumentCaptor&lt;Runnable&gt; runnables = ArgumentCaptor.forClass(Runnable.class);\r\n\r\n   \t   @InjectMocks\r\n       private MyClass myClass;\r\n\r\n\t   @Test\r\n       public void shouldDoSomthingAsynchrone() throws Exception {\t\r\n\t\r\n\t      // create a mock for Thread.class\r\n          Thread mock = Mockito.mock(Thread.class);\r\n\t\t\r\n\t\t  // mock the &#39;new Thread&#39;, return the mock and capture the given runnable\r\n          whenNew(Thread.class).withParameterTypes(Runnable.class)\r\n                .withArguments(runnables.capture()).thenReturn(mock);\r\n\t\t\t\t\r\n\t\t  myClass.doSomthingAsynchrone();\r\n\r\n          runnables.getValue().run();\r\n\t\t\r\n\t\t  /**\r\n           *  instead of &#39;runnables.getValue().run();&#39; you can use a real thread.start\r\n\t\t   *\r\n\t\t   *   MockRepository.remove(Thread.class);\r\n           *   Thread thread = new Thread(runnables.getValue());\r\n           *   thread.start();\r\n           *   thread.join();\r\n\t\t   **/\r\n\r\n          verify(myClass, times(1)).doSomthing();\r\n\t   }\r\n    }\r\n\r\n\r\n","title":"How do I write a JUnit test case to test threads and events","body":"<p>Here is my solution to test asynchrone method which used thread.start:</p>\n\n<pre><code>public class MyClass {      \n   public void doSomthingAsynchrone() {\n      new Thread(() -&gt; {\n         doSomthing();\n      }).start();\n   }\n\n   private void doSomthing() {\n   }\n}\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(MyClass.class)\npublic class MyClassTest {\n   ArgumentCaptor&lt;Runnable&gt; runnables = ArgumentCaptor.forClass(Runnable.class);\n\n   @InjectMocks\n   private MyClass myClass;\n\n   @Test\n   public void shouldDoSomthingAsynchrone() throws Exception {  \n\n      // create a mock for Thread.class\n      Thread mock = Mockito.mock(Thread.class);\n\n      // mock the 'new Thread', return the mock and capture the given runnable\n      whenNew(Thread.class).withParameterTypes(Runnable.class)\n            .withArguments(runnables.capture()).thenReturn(mock);\n\n      myClass.doSomthingAsynchrone();\n\n      runnables.getValue().run();\n\n      /**\n       *  instead of 'runnables.getValue().run();' you can use a real thread.start\n       *\n       *   MockRepository.remove(Thread.class);\n       *   Thread thread = new Thread(runnables.getValue());\n       *   thread.start();\n       *   thread.join();\n       **/\n\n      verify(myClass, times(1)).doSomthing();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1844706,"reputation":3419,"user_id":1673320,"accept_rate":86,"display_name":"itachi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566476442,"creation_date":1566476442,"answer_id":57609234,"question_id":5336251,"body_markdown":"When your only problem is waiting for the result, use [ExecutorService][1] for spawning your threads. It can accept work jobs both as [Runnable][2] and [Callable][3]. When you use the latter, then you are given a [Future][4] object in return, that can be used to wait for the result. You should consider using *ExecutorService* anyway, as from what I understand, you create many threads, and this is a perfect use case for executor services.\r\n\r\n    class AnyClass {\r\n        private ExecutorService threadPool = Executors.newFixedThreadPool(5);\r\n\r\n        public List&lt;Future&lt;Integer&gt;&gt; anyMethod() {\r\n            List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n            futures.add(threadPool.submit(() -&gt; {\r\n                // Do your job here\r\n                return anyStatusCode;\r\n            }));\r\n\r\n            futures.add(threadPool.submit(() -&gt; {\r\n                // Do your other job here\r\n                return anyStatusCode;\r\n            }));\r\n\r\n            return futures;\r\n        }\r\n    }\r\n\r\nAnd the test class:\r\n\r\n    class TestAnyClass {\r\n        @Test\r\n        public void testAnyMethod() {\r\n            AnyClass anyObject = new AnyClass();\r\n\r\n            List&lt;Future&lt;Integer&gt;&gt; futures = anyObject.anyMethod();\r\n            CompletableFuture[] completable = futures.toArray(new CompletableFuture[futures.size()]);\r\n\r\n            // Wait for all\r\n            CompletableFuture.allOf(completable).join();\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html","title":"How do I write a JUnit test case to test threads and events","body":"<p>When your only problem is waiting for the result, use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a> for spawning your threads. It can accept work jobs both as <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\">Callable</a>. When you use the latter, then you are given a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\">Future</a> object in return, that can be used to wait for the result. You should consider using <em>ExecutorService</em> anyway, as from what I understand, you create many threads, and this is a perfect use case for executor services.</p>\n\n<pre><code>class AnyClass {\n    private ExecutorService threadPool = Executors.newFixedThreadPool(5);\n\n    public List&lt;Future&lt;Integer&gt;&gt; anyMethod() {\n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n\n        futures.add(threadPool.submit(() -&gt; {\n            // Do your job here\n            return anyStatusCode;\n        }));\n\n        futures.add(threadPool.submit(() -&gt; {\n            // Do your other job here\n            return anyStatusCode;\n        }));\n\n        return futures;\n    }\n}\n</code></pre>\n\n<p>And the test class:</p>\n\n<pre><code>class TestAnyClass {\n    @Test\n    public void testAnyMethod() {\n        AnyClass anyObject = new AnyClass();\n\n        List&lt;Future&lt;Integer&gt;&gt; futures = anyObject.anyMethod();\n        CompletableFuture[] completable = futures.toArray(new CompletableFuture[futures.size()]);\n\n        // Wait for all\n        CompletableFuture.allOf(completable).join();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":722484,"reputation":193,"user_id":663888,"display_name":"stalwalk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68742,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":5336608,"answer_count":7,"score":19,"last_activity_date":1663697653,"creation_date":1300348047,"question_id":5336251,"body_markdown":"I have a java code which works in one (main) thread. From the main thread, i spawn a new thread in which I make a server call. After the server call is done, I am doing some work in the new thread and after that the code joins the main thread.\r\n\r\nI am using eclipse Jobs to do the server call.\r\n\r\nI want to know, how do I write a JUnit test case for this. ","title":"How do I write a JUnit test case to test threads and events","body":"<p>I have a java code which works in one (main) thread. From the main thread, i spawn a new thread in which I make a server call. After the server call is done, I am doing some work in the new thread and after that the code joins the main thread.</p>\n\n<p>I am using eclipse Jobs to do the server call.</p>\n\n<p>I want to know, how do I write a JUnit test case for this. </p>\n"},{"tags":["java","hamming-distance"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1663698153,"post_id":73790757,"comment_id":130299818,"body_markdown":"In the `genBinaryStrings()` recursive method, make `binString[i] = 1;` first then make it `binString[i] = 0;` next instead of the other way around","body":"In the <code>genBinaryStrings()</code> recursive method, make <code>binString[i] = 1;</code> first then make it <code>binString[i] = 0;</code> next instead of the other way around"},{"owner":{"account_id":25791085,"reputation":1,"user_id":19535145,"display_name":"Brian"},"score":0,"creation_date":1663700934,"post_id":73790757,"comment_id":130300636,"body_markdown":"Wow, I can&#39;t believe I missed that! You are a lifesaver, thank you!","body":"Wow, I can&#39;t believe I missed that! You are a lifesaver, thank you!"}],"owner":{"account_id":25791085,"reputation":1,"user_id":19535145,"display_name":"Brian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663697624,"creation_date":1663695968,"question_id":73790757,"body_markdown":"Good afternoon everyone,\r\nJust looking to see if anyone could help. I am getting the right output but it is in reverse order for some reason. I think it is something small in my code that I messed up but just trying to see if fresh eyes looking at it could help. \r\n\r\n“Hamming,”  will read in an integer “k” and a bit string “s” from the command line, calculate the “Hamming Distances,” and prints all bit strings that have Hamming distance of “k” from “s.”\r\n\r\nNote: The Hamming Distance is equal to the number of bits in which the two strings differ.\r\n\r\nA sample run would be as follows.\r\n\r\n    &gt;java Hamming 2 0011\r\n     1111 1001 1010 0101 0110 0000\r\n\r\nMy current code is as follows.\r\n\r\n    public class Hamming{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint k = Integer.parseInt(args[0]); // first argument, hamming distance\r\n\r\n\t\tString s = args[1]; // second argument, binary string\r\n\r\n\t\t// int array of binary bits that make up the binary string\r\n\t\tint[] bitsString = new int[s.length()];\r\n\r\n\t\t// genBinaryStrings(length of string, array of bits, iterating value, hamming distance, binary string)\t\r\n\t\tgenBinaryStrings(s.length(), bitsString, 0, k, s);\r\n\t}\r\n\r\n\r\n\t//Recursive function that prints all binary strings that are &#39;h&#39; hamming distance from original\r\n\t \r\n\tprivate static void genBinaryStrings(int numBits, int binString[], int i, int h, String givenBinString) {\r\n\r\n\t\tif (i == numBits) { // base case\r\n\t\t\t// convert array of bits into binary string of bits\r\n\t\t\tString currResult = &quot;&quot;;\r\n\t\t\tfor (int bit : binString) {\r\n\t\t\t\tcurrResult += Integer.toString(bit);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// check the hamming distance between the current result and the original string\r\n\t\t\tif (h == getHamDistance(currResult, givenBinString)) {\r\n\t\t\t\tSystem.out.print(currResult + &quot; &quot;); // valid hamming distance, print\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n        // generate next possible binary strings\r\n\t\t// generate binary string where next value = 0\r\n\t\tbinString[i] = 0;\r\n\t\tgenBinaryStrings(numBits, binString, i+1, h, givenBinString);\r\n\r\n\t\t// generate binary string where next value = 1\r\n\t\tbinString[i] = 1;\r\n\t\tgenBinaryStrings(numBits, binString, i+1, h, givenBinString);\r\n\t}\r\n\t\r\n\r\n\r\n\t// This method will Compute Hamming Distance between two binary string\r\n\tprivate static int getHamDistance(String resultBinString, String givenBinString) {\r\n\t\tint hamDist = 0; // assume distance is 0 initially\r\n\r\n\t\t// iterate thru current resulting binary string\r\n\t\tfor (int i = 0; i &lt; resultBinString.length(); i++) {\r\n\t\t\t// check for differing bit values\r\n\t\t\tif (resultBinString.charAt(i) != givenBinString.charAt(i))\r\n\t\t\t\thamDist++; // binary string is 1 more bit different\r\n\t\t}\r\n\t\treturn hamDist; // total distance\r\n\t}\r\n}\r\n\r\nThe current output I am getting for my code is:\r\n\r\n    &gt;java Hamming 2 0011\r\n     0000 0101 0110 1001 1010 1111\r\n\r\n\r\nAny help would be greatly appreciated, thank you!\r\n\r\n","title":"Getting the correct output but in the opposite order (hamming distance)","body":"<p>Good afternoon everyone,\nJust looking to see if anyone could help. I am getting the right output but it is in reverse order for some reason. I think it is something small in my code that I messed up but just trying to see if fresh eyes looking at it could help.</p>\n<p>“Hamming,”  will read in an integer “k” and a bit string “s” from the command line, calculate the “Hamming Distances,” and prints all bit strings that have Hamming distance of “k” from “s.”</p>\n<p>Note: The Hamming Distance is equal to the number of bits in which the two strings differ.</p>\n<p>A sample run would be as follows.</p>\n<pre><code>&gt;java Hamming 2 0011\n 1111 1001 1010 0101 0110 0000\n</code></pre>\n<p>My current code is as follows.</p>\n<pre><code>public class Hamming{\n\npublic static void main(String[] args) {\n    int k = Integer.parseInt(args[0]); // first argument, hamming distance\n\n    String s = args[1]; // second argument, binary string\n\n    // int array of binary bits that make up the binary string\n    int[] bitsString = new int[s.length()];\n\n    // genBinaryStrings(length of string, array of bits, iterating value, hamming distance, binary string)  \n    genBinaryStrings(s.length(), bitsString, 0, k, s);\n}\n\n\n//Recursive function that prints all binary strings that are 'h' hamming distance from original\n \nprivate static void genBinaryStrings(int numBits, int binString[], int i, int h, String givenBinString) {\n\n    if (i == numBits) { // base case\n        // convert array of bits into binary string of bits\n        String currResult = &quot;&quot;;\n        for (int bit : binString) {\n            currResult += Integer.toString(bit);\n        }\n        \n        // check the hamming distance between the current result and the original string\n        if (h == getHamDistance(currResult, givenBinString)) {\n            System.out.print(currResult + &quot; &quot;); // valid hamming distance, print\n        }\n        return;\n    }\n    // generate next possible binary strings\n    // generate binary string where next value = 0\n    binString[i] = 0;\n    genBinaryStrings(numBits, binString, i+1, h, givenBinString);\n\n    // generate binary string where next value = 1\n    binString[i] = 1;\n    genBinaryStrings(numBits, binString, i+1, h, givenBinString);\n}\n\n\n\n// This method will Compute Hamming Distance between two binary string\nprivate static int getHamDistance(String resultBinString, String givenBinString) {\n    int hamDist = 0; // assume distance is 0 initially\n\n    // iterate thru current resulting binary string\n    for (int i = 0; i &lt; resultBinString.length(); i++) {\n        // check for differing bit values\n        if (resultBinString.charAt(i) != givenBinString.charAt(i))\n            hamDist++; // binary string is 1 more bit different\n    }\n    return hamDist; // total distance\n}\n</code></pre>\n<p>}</p>\n<p>The current output I am getting for my code is:</p>\n<pre><code>&gt;java Hamming 2 0011\n 0000 0101 0110 1001 1010 1111\n</code></pre>\n<p>Any help would be greatly appreciated, thank you!</p>\n"},{"tags":["java","algorithm","arraylist","collections","counting-sort"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1663667232,"post_id":73784663,"comment_id":130288382,"body_markdown":"What is `count`? Is it a `HashSet`? (I guess do because below you are doing `count.set(...)`). You cannot index into a `HashSet` with `[...]`.","body":"What is <code>count</code>? Is it a <code>HashSet</code>? (I guess do because below you are doing <code>count.set(...)</code>). You cannot index into a <code>HashSet</code> with <code>[...]</code>."},{"owner":{"account_id":26389114,"reputation":7,"user_id":20041217,"display_name":"Alessandro"},"score":0,"creation_date":1663667330,"post_id":73784663,"comment_id":130288418,"body_markdown":"Hi, count is List&lt;Integer&gt; count = new ArrayList&lt;&gt;(max-min+1);","body":"Hi, count is List&lt;Integer&gt; count = new ArrayList&lt;&gt;(max-min+1);"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663691224,"creation_date":1663668347,"answer_id":73784984,"question_id":73784663,"body_markdown":"By using a parameterized constructor of `ArrayList` which allows providing a *capacity* you&#39;re still getting an **empty** `ArrayList`. The difference is that it would have an underlying array of the desired size instead of the default size of `10`.\r\n\r\nBut you still have no elements to access. In order to populate `ArrayList` with default values, you can use another parameterized constructor that allows to provide a collection.\r\n\r\nTo create a light-weight auxiliary list of size `max - min + 1` filled with zero integers (which would be passed to the constructor) you can use the utility method [`Collections.nCopies()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#nCopies(int,T)):\r\n\r\n```\r\nList&lt;Integer&gt; count = new ArrayList&lt;&gt;(Collections.nCopies(0, max - min + 1));\r\n\r\nfor (int i = 0; i &lt; l.size(); i++) {\r\n    int index = l.get(i) - min;\r\n            \r\n    int value = count.get(index);\r\n    count.set(index, value + 1);\r\n}\r\n```\r\n\r\n**Note** that implementing Counting sort by using `ArrayList` instead of a plane array, frankly saying, isn&#39;t very convenient. If it&#39;s an assignment requirement or self-imposed challenge - make sure that you understand how to implement the algorithm using arrays.","title":"CountingSort with ArrayList","body":"<p>By using a parameterized constructor of <code>ArrayList</code> which allows providing a <em>capacity</em> you're still getting an <strong>empty</strong> <code>ArrayList</code>. The difference is that it would have an underlying array of the desired size instead of the default size of <code>10</code>.</p>\n<p>But you still have no elements to access. In order to populate <code>ArrayList</code> with default values, you can use another parameterized constructor that allows to provide a collection.</p>\n<p>To create a light-weight auxiliary list of size <code>max - min + 1</code> filled with zero integers (which would be passed to the constructor) you can use the utility method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#nCopies(int,T)\" rel=\"nofollow noreferrer\"><code>Collections.nCopies()</code></a>:</p>\n<pre><code>List&lt;Integer&gt; count = new ArrayList&lt;&gt;(Collections.nCopies(0, max - min + 1));\n\nfor (int i = 0; i &lt; l.size(); i++) {\n    int index = l.get(i) - min;\n            \n    int value = count.get(index);\n    count.set(index, value + 1);\n}\n</code></pre>\n<p><strong>Note</strong> that implementing Counting sort by using <code>ArrayList</code> instead of a plane array, frankly saying, isn't very convenient. If it's an assignment requirement or self-imposed challenge - make sure that you understand how to implement the algorithm using arrays.</p>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663697606,"creation_date":1663697606,"answer_id":73791005,"question_id":73784663,"body_markdown":"There are different ways to increment a primitive numerical variable, say, `value`.  \r\n`value++` is one of them, additionally resulting in the value of `value` *before* the increment.  \r\nI&#39;d have to read up whether the sequence between incrementing `value` and assigning to value in `value = value++` is defined -  \r\nsanity advises to avoid it.  \r\nI use the increment operator where I intend *next*,  \r\nand `value += 1` where I intend *increase by 1*.  \r\n(The other shortest one is `++value`… yielding the value after increment.)\r\n\r\nWhen incrementing the value in a `List&lt;Integer&gt; values` at a given index `i`, there are two possibilities:  \r\neither explicitly `get()` and `set()`, relying on auto-(un)boxing like [Alexander Ivanchenko](https://stackoverflow.com/a/73784984) suggests,  \r\nor use a *mutable Integer* - [`java.util.concurrent.atomic.AtomicInteger`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html) has `set(newValue)`, `getAndIncrement()` and `incrementAndGet()`.","title":"CountingSort with ArrayList","body":"<p>There are different ways to increment a primitive numerical variable, say, <code>value</code>.<br />\n<code>value++</code> is one of them, additionally resulting in the value of <code>value</code> <em>before</em> the increment.<br />\nI'd have to read up whether the sequence between incrementing <code>value</code> and assigning to value in <code>value = value++</code> is defined -<br />\nsanity advises to avoid it.<br />\nI use the increment operator where I intend <em>next</em>,<br />\nand <code>value += 1</code> where I intend <em>increase by 1</em>.<br />\n(The other shortest one is <code>++value</code>… yielding the value after increment.)</p>\n<p>When incrementing the value in a <code>List&lt;Integer&gt; values</code> at a given index <code>i</code>, there are two possibilities:<br />\neither explicitly <code>get()</code> and <code>set()</code>, relying on auto-(un)boxing like <a href=\"https://stackoverflow.com/a/73784984\">Alexander Ivanchenko</a> suggests,<br />\nor use a <em>mutable Integer</em> - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.atomic.AtomicInteger</code></a> has <code>set(newValue)</code>, <code>getAndIncrement()</code> and <code>incrementAndGet()</code>.</p>\n"}],"owner":{"account_id":26389114,"reputation":7,"user_id":20041217,"display_name":"Alessandro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73784984,"answer_count":2,"score":0,"last_activity_date":1663697606,"creation_date":1663667015,"question_id":73784663,"body_markdown":"I&#39;m trying to implement the Counting Sort algorithm with an `ArrayList` but I have some difficulties.\r\n\r\nI in this piece of code I want to calculate the occurrence of each element in the `ArrayList` named `l`.\r\n\r\n*My code:*\r\n```\r\nList&lt;Integer&gt; l = // initializing the given list\r\n\r\n/** initialize the occurrence of each element in the count array **/\r\n\r\nList&lt;Integer&gt; count = new ArrayList&lt;&gt;(max-min+1);\r\n\r\nfor(int i = 0; i &lt; l.size(); i++){\r\n    \r\n    //count[arr[i]-min]++;\r\n\r\n    int index = l.get(i) - min; //ok\r\n    int value = 0;\r\n    value = value++;\r\n    count.set(index, value);\r\n}\r\n```\r\nI can&#39;t find out how to perform the increment.","title":"CountingSort with ArrayList","body":"<p>I'm trying to implement the Counting Sort algorithm with an <code>ArrayList</code> but I have some difficulties.</p>\n<p>I in this piece of code I want to calculate the occurrence of each element in the <code>ArrayList</code> named <code>l</code>.</p>\n<p><em>My code:</em></p>\n<pre><code>List&lt;Integer&gt; l = // initializing the given list\n\n/** initialize the occurrence of each element in the count array **/\n\nList&lt;Integer&gt; count = new ArrayList&lt;&gt;(max-min+1);\n\nfor(int i = 0; i &lt; l.size(); i++){\n    \n    //count[arr[i]-min]++;\n\n    int index = l.get(i) - min; //ok\n    int value = 0;\n    value = value++;\n    count.set(index, value);\n}\n</code></pre>\n<p>I can't find out how to perform the increment.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":938389,"reputation":896,"user_id":966914,"accept_rate":33,"display_name":"John"},"score":1,"creation_date":1416331652,"post_id":27000227,"comment_id":42530757,"body_markdown":"Instead of telling us it &quot;is not working&quot; it would probably be better to post the compiler error. I reckon the problem is with `ResultContainData&lt;Boolean&gt;.class`, right?","body":"Instead of telling us it &quot;is not working&quot; it would probably be better to post the compiler error. I reckon the problem is with <code>ResultContainData&lt;Boolean&gt;.class</code>, right?"},{"owner":{"account_id":4242264,"reputation":469,"user_id":3471822,"display_name":"Grzesuav"},"score":0,"creation_date":1416331827,"post_id":27000227,"comment_id":42530857,"body_markdown":"As @John wrote, there is no such thing as **ResultContainData&lt;Boolean&gt;.class**, try **ResultContainData.class**.","body":"As @John wrote, there is no such thing as <b>ResultContainData&lt;Boolean&gt;.class</b>, try <b>ResultContainData.class</b>."},{"owner":{"account_id":4252560,"reputation":425,"user_id":3479145,"accept_rate":50,"display_name":"Michael"},"score":0,"creation_date":1416331889,"post_id":27000227,"comment_id":42530898,"body_markdown":"yes, the compile error is cannot select Parameterized Type","body":"yes, the compile error is cannot select Parameterized Type"}],"answers":[{"tags":[],"owner":{"account_id":4252560,"reputation":425,"user_id":3479145,"accept_rate":50,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1416332854,"creation_date":1416332854,"answer_id":27000660,"question_id":27000227,"body_markdown":"I got the solution.\r\n\r\n    ResultContainData&lt;Boolean&gt; result = new ResultContainData&lt;&gt;();\r\n    RestHelper&lt;User, ResultContainData&lt;Boolean&gt;&gt; helper = new RestHelper&lt;&gt;(url, user, (Class&lt;ResultContainData&lt;Boolean&gt;&gt;)result.getClass());\r\n\r\nIt&#39;s working for me. I am still looking for a better solution.","title":"cannot select Parameterized Type","body":"<p>I got the solution.</p>\n\n<pre><code>ResultContainData&lt;Boolean&gt; result = new ResultContainData&lt;&gt;();\nRestHelper&lt;User, ResultContainData&lt;Boolean&gt;&gt; helper = new RestHelper&lt;&gt;(url, user, (Class&lt;ResultContainData&lt;Boolean&gt;&gt;)result.getClass());\n</code></pre>\n\n<p>It's working for me. I am still looking for a better solution.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1663697593,"creation_date":1417723210,"answer_id":27302949,"question_id":27000227,"body_markdown":"You can only learn the value of I and R by capturing them in a subclass definition - otherwise they are erased at runtime. Ex:\r\n\r\n    class MyStringRestHelper extends RestHelper&lt;String, String&gt; {\r\n\r\nThen using something like my [TypeTools](https://github.com/jhalterman/typetools) you can resolve the values of I and R:\r\n\r\n    Class&lt;?&gt;[] typeArgs = TypeResolver.resolveRawArguments(RestHelper.class, MyStringRestHelper.class);\r\n    Class&lt;?&gt; i = typeArgs[0];\r\n    Class&lt;?&gt; r = typeArgs[1];\r\n    assert i == r == String.class;\r\n    ","title":"cannot select Parameterized Type","body":"<p>You can only learn the value of I and R by capturing them in a subclass definition - otherwise they are erased at runtime. Ex:</p>\n<pre><code>class MyStringRestHelper extends RestHelper&lt;String, String&gt; {\n</code></pre>\n<p>Then using something like my <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> you can resolve the values of I and R:</p>\n<pre><code>Class&lt;?&gt;[] typeArgs = TypeResolver.resolveRawArguments(RestHelper.class, MyStringRestHelper.class);\nClass&lt;?&gt; i = typeArgs[0];\nClass&lt;?&gt; r = typeArgs[1];\nassert i == r == String.class;\n</code></pre>\n"}],"owner":{"account_id":4252560,"reputation":425,"user_id":3479145,"accept_rate":50,"display_name":"Michael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48017,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":2,"score":23,"last_activity_date":1663697593,"creation_date":1416331398,"question_id":27000227,"body_markdown":"I want to create a rest to communicate between server and client.\r\n\r\nThe constructor given below: \r\n\r\n    public class RestHelper&lt;I, R&gt; {\r\n        public RestHelper(String url, I input, Class&lt;R&gt; output){\r\n            ResponseEntity&lt;R&gt; responseEntity = restTemplate.exchange(url, HttpMethod.POST, requestEntity, output );\r\n        }\r\n    }\r\n\r\nFor normal type, I can do:\r\n\r\n    RestHelper&lt;User, Result&gt; helper = new RestHelper&lt;&gt;(url, user, Result.class);\r\n\r\nHow can I pass a generic type, like:\r\n\r\n    ResultContainData&lt;Boolean&gt;\r\nThe code below is not working:\r\n\r\n        ResultContainData&lt;Boolean&gt; result = new ResultContainData&lt;&gt;();\r\n        RestHelper&lt;User, ResultContainData&lt;Boolean&gt;&gt; helper = new RestHelper&lt;&gt;(url, user, (Class&lt;ResultContainData&lt;Boolean&gt;&gt;) ((ParameterizedType) result.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\r\n\r\nI got a runtime error: cannot cast to ParameterizedType.","title":"cannot select Parameterized Type","body":"<p>I want to create a rest to communicate between server and client.</p>\n\n<p>The constructor given below: </p>\n\n<pre><code>public class RestHelper&lt;I, R&gt; {\n    public RestHelper(String url, I input, Class&lt;R&gt; output){\n        ResponseEntity&lt;R&gt; responseEntity = restTemplate.exchange(url, HttpMethod.POST, requestEntity, output );\n    }\n}\n</code></pre>\n\n<p>For normal type, I can do:</p>\n\n<pre><code>RestHelper&lt;User, Result&gt; helper = new RestHelper&lt;&gt;(url, user, Result.class);\n</code></pre>\n\n<p>How can I pass a generic type, like:</p>\n\n<pre><code>ResultContainData&lt;Boolean&gt;\n</code></pre>\n\n<p>The code below is not working:</p>\n\n<pre><code>    ResultContainData&lt;Boolean&gt; result = new ResultContainData&lt;&gt;();\n    RestHelper&lt;User, ResultContainData&lt;Boolean&gt;&gt; helper = new RestHelper&lt;&gt;(url, user, (Class&lt;ResultContainData&lt;Boolean&gt;&gt;) ((ParameterizedType) result.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\n</code></pre>\n\n<p>I got a runtime error: cannot cast to ParameterizedType.</p>\n"},{"tags":["java","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662585766,"creation_date":1662585766,"answer_id":73641597,"question_id":73639526,"body_markdown":"You could make [`@BindsInstance` `@Nullable`](https://dagger.dev/api/latest/dagger/BindsInstance.html):\r\n\r\n&gt; For builders, `@BindsInstance` methods must be called before building the component, unless their parameter is marked `@Nullable`, in which case the component will act as though it was called with a `null` argument. Primitives, of course, may not be marked `@Nullable`.\r\n\r\nAt that point you would need to `@Inject` a `@Nullable ApiOptions` to help Dagger understand that the value could be `null`, or you could create a general fallback here:\r\n\r\n```java\r\nprivate static final ApiOptions DEFAULT_OPTIONS = ApiOptions.builder()\r\n    /* ... */\r\n    .build();\r\n\r\n/** Define a qualifier. You could also use @Named(&quot;defaults&quot;) etc. */\r\n@Qualifier\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic static @interface WithDefaults {}\r\n\r\n@Provides\r\n@WithDefaults\r\nApiOptions provideApiOptions(@Nullable ApiOptions options) {\r\n  if (options == null) return DEFAULT_OPTIONS;\r\n  return options;\r\n}\r\n```\r\n\r\nNaturally, you could also do the reverse, using `@BindsInstance @Nullable @HasDefaults options` so you can inject an unqualified non-nullable ApiOptions where you need it:\r\n\r\n```\r\n@Qualifier @Retention(RetentionPolicy.RUNTIME) public static @interface HasDefaults {}\r\n\r\n@Provides ApiOptions provideApiOptions(@Nullable @HasDefaults ApiOptions options) {\r\n  if (options == null) return DEFAULT_OPTIONS;\r\n  return options;\r\n}\r\n```","title":"Fallback / default value for @BindsInstance object","body":"<p>You could make <a href=\"https://dagger.dev/api/latest/dagger/BindsInstance.html\" rel=\"nofollow noreferrer\"><code>@BindsInstance</code> <code>@Nullable</code></a>:</p>\n<blockquote>\n<p>For builders, <code>@BindsInstance</code> methods must be called before building the component, unless their parameter is marked <code>@Nullable</code>, in which case the component will act as though it was called with a <code>null</code> argument. Primitives, of course, may not be marked <code>@Nullable</code>.</p>\n</blockquote>\n<p>At that point you would need to <code>@Inject</code> a <code>@Nullable ApiOptions</code> to help Dagger understand that the value could be <code>null</code>, or you could create a general fallback here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final ApiOptions DEFAULT_OPTIONS = ApiOptions.builder()\n    /* ... */\n    .build();\n\n/** Define a qualifier. You could also use @Named(&quot;defaults&quot;) etc. */\n@Qualifier\n@Retention(RetentionPolicy.RUNTIME)\npublic static @interface WithDefaults {}\n\n@Provides\n@WithDefaults\nApiOptions provideApiOptions(@Nullable ApiOptions options) {\n  if (options == null) return DEFAULT_OPTIONS;\n  return options;\n}\n</code></pre>\n<p>Naturally, you could also do the reverse, using <code>@BindsInstance @Nullable @HasDefaults options</code> so you can inject an unqualified non-nullable ApiOptions where you need it:</p>\n<pre><code>@Qualifier @Retention(RetentionPolicy.RUNTIME) public static @interface HasDefaults {}\n\n@Provides ApiOptions provideApiOptions(@Nullable @HasDefaults ApiOptions options) {\n  if (options == null) return DEFAULT_OPTIONS;\n  return options;\n}\n</code></pre>\n"}],"owner":{"account_id":12132601,"reputation":11,"user_id":8859029,"display_name":"Q. Jing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663697586,"creation_date":1662571752,"question_id":73639526,"body_markdown":"```java\r\n// Previously, our Api looks like this:\r\n@Component(modules = ApiManagerModule.class)\r\npublic interface ApiComponent {\r\n  \r\n  @Component.Builder\r\n  interface Builder {\r\n    ApiComponent build();\r\n  }\r\n\r\n  ApiManager apiManager();\r\n}\r\n\r\n@Module\r\npublic interface ApiManagerModule {\r\n  @Binds\r\n  ApiManager bindApiManager(ApiManagerImpl impl);\r\n}\r\n\r\n// User uses our API like:\r\nApiComponent apiComponent = \r\n    DaggerApiComponent.builder().build();\r\nApiManager apiManager = apiComponent.apiManager();\r\napiManager.doApiThings();\r\n```\r\nFor some reason, we want to add an option object to our api. We made following changes:\r\n```java\r\n@Component(modules = ApiManagerModule.class)\r\npublic interface ApiComponent {\r\n  \r\n  @Component.Builder\r\n  interface Builder {\r\n    ApiComponent build();\r\n    \r\n    // **new**\r\n    @BindsInstance\r\n    Builder setApiOptions(ApiOptions options);\r\n  }\r\n\r\n  ApiManager apiManager();\r\n}\r\n\r\n@Module\r\npublic interface ApiManagerModule {\r\n  @Binds\r\n  ApiManager bindApiManager(ApiManagerImpl impl);\r\n}\r\n\r\n// **new**\r\n@AutoValue\r\npublic abstract class ApiOptions {\r\n  //...\r\n  \r\n  @AutoValue.Builder\r\n  public abstract static class Builder {\r\n    //...\r\n  }\r\n}\r\n\r\n// User will now use our Api like:\r\nApiComponent apiComponent = DaggerApiComponent.builder()\r\n    .setApiOptions(\r\n        ApiOptions.builder()\r\n            /*setters*/\r\n            .build());\r\nApiManager apiManager = apiComponent.apiManager();\r\napiManager.doApiThings();\r\n```\r\n\r\nHowever, one issue is this is a breaking change. Users already integrated to our API has to make changes to set the @BindsInstance option object.\r\n\r\nMy question is, is it possible to provide fallback value for the `@BindsInstance` option object? We want to have something like this:\r\n```java\r\nApiComponent apiComponent = \r\n    DaggerApiComponent.builder()\r\n    // when `setApiOptions()` is not called, a default ApiOptions is created and provided.\r\n    .build();\r\nApiManager apiManager = apiComponent.apiManager();\r\napiManager.doApiThings();\r\n```","title":"Fallback / default value for @BindsInstance object","body":"<pre class=\"lang-java prettyprint-override\"><code>// Previously, our Api looks like this:\n@Component(modules = ApiManagerModule.class)\npublic interface ApiComponent {\n  \n  @Component.Builder\n  interface Builder {\n    ApiComponent build();\n  }\n\n  ApiManager apiManager();\n}\n\n@Module\npublic interface ApiManagerModule {\n  @Binds\n  ApiManager bindApiManager(ApiManagerImpl impl);\n}\n\n// User uses our API like:\nApiComponent apiComponent = \n    DaggerApiComponent.builder().build();\nApiManager apiManager = apiComponent.apiManager();\napiManager.doApiThings();\n</code></pre>\n<p>For some reason, we want to add an option object to our api. We made following changes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component(modules = ApiManagerModule.class)\npublic interface ApiComponent {\n  \n  @Component.Builder\n  interface Builder {\n    ApiComponent build();\n    \n    // **new**\n    @BindsInstance\n    Builder setApiOptions(ApiOptions options);\n  }\n\n  ApiManager apiManager();\n}\n\n@Module\npublic interface ApiManagerModule {\n  @Binds\n  ApiManager bindApiManager(ApiManagerImpl impl);\n}\n\n// **new**\n@AutoValue\npublic abstract class ApiOptions {\n  //...\n  \n  @AutoValue.Builder\n  public abstract static class Builder {\n    //...\n  }\n}\n\n// User will now use our Api like:\nApiComponent apiComponent = DaggerApiComponent.builder()\n    .setApiOptions(\n        ApiOptions.builder()\n            /*setters*/\n            .build());\nApiManager apiManager = apiComponent.apiManager();\napiManager.doApiThings();\n</code></pre>\n<p>However, one issue is this is a breaking change. Users already integrated to our API has to make changes to set the @BindsInstance option object.</p>\n<p>My question is, is it possible to provide fallback value for the <code>@BindsInstance</code> option object? We want to have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ApiComponent apiComponent = \n    DaggerApiComponent.builder()\n    // when `setApiOptions()` is not called, a default ApiOptions is created and provided.\n    .build();\nApiManager apiManager = apiComponent.apiManager();\napiManager.doApiThings();\n</code></pre>\n"},{"tags":["java","android","android-studio","admob","ads"],"answers":[{"tags":[],"owner":{"account_id":11875285,"reputation":79,"user_id":8690501,"display_name":"Viva"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1662917566,"creation_date":1662917566,"answer_id":73681350,"question_id":73681295,"body_markdown":"You can use this\r\n\r\n    Thread.sleep(delay_time_in_milliseconds);","title":"Set a delay of some seconds before reloading an interstitial ad","body":"<p>You can use this</p>\n<pre><code>Thread.sleep(delay_time_in_milliseconds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662983326,"creation_date":1662917664,"answer_id":73681362,"question_id":73681295,"body_markdown":"You can use a simple `Handler` to delay a function like this:\\\r\n(Kotlin version, but you get the idea)\r\n```kotlin\r\nprivate fun reloadInterstitialAd() {\r\n    if (maxRetry &gt; 0) {\r\n        val delayTime = 5000L // 5 seconds.\r\n        val looper = mainLooper // Use `Looper.getMainLooper()` if you do not have access to an Activity context.\r\n\r\n        mInterstitialAd = null\r\n        Handler(looper).postDelayed({\r\n            maxRetry--\r\n            requestNewInterstitial(maxRetry)\r\n        }, delayTime)\r\n    } else {\r\n        Log.d(TAG, &quot;Max reload reached&quot;)\r\n    }\r\n}\r\n```\r\n\r\nUse this function like `reloadInterstitialAd()` in the `onAdFailedToLoad` callback.","title":"Set a delay of some seconds before reloading an interstitial ad","body":"<p>You can use a simple <code>Handler</code> to delay a function like this:<br />\n(Kotlin version, but you get the idea)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun reloadInterstitialAd() {\n    if (maxRetry &gt; 0) {\n        val delayTime = 5000L // 5 seconds.\n        val looper = mainLooper // Use `Looper.getMainLooper()` if you do not have access to an Activity context.\n\n        mInterstitialAd = null\n        Handler(looper).postDelayed({\n            maxRetry--\n            requestNewInterstitial(maxRetry)\n        }, delayTime)\n    } else {\n        Log.d(TAG, &quot;Max reload reached&quot;)\n    }\n}\n</code></pre>\n<p>Use this function like <code>reloadInterstitialAd()</code> in the <code>onAdFailedToLoad</code> callback.</p>\n"},{"tags":[],"owner":{"account_id":16909157,"reputation":163,"user_id":12228688,"display_name":"Skerdi Velo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662917738,"creation_date":1662917738,"answer_id":73681369,"question_id":73681295,"body_markdown":"I tried to do this.\r\n\r\n\r\n    if (maxRetry&gt;0){\r\n                   \r\n          //add a delay before retrying\r\n          new Handler().postDelayed(new Runnable() {\r\n              @Override\r\n              public void run() {\r\n                  requestNewInterstitial(maxRetry-1);\r\n\r\n              }\r\n          }, 1000);\r\n      }\r\nHope this fixes your problem.","title":"Set a delay of some seconds before reloading an interstitial ad","body":"<p>I tried to do this.</p>\n<pre><code>if (maxRetry&gt;0){\n               \n      //add a delay before retrying\n      new Handler().postDelayed(new Runnable() {\n          @Override\n          public void run() {\n              requestNewInterstitial(maxRetry-1);\n\n          }\n      }, 1000);\n  }\n</code></pre>\n<p>Hope this fixes your problem.</p>\n"}],"owner":{"account_id":25929375,"reputation":69,"user_id":19650731,"display_name":"Eldestornillador"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1663697548,"creation_date":1662917175,"question_id":73681295,"body_markdown":"I want to set/add a delay when reloading an ad when it has failed to load. I think it could be done with Looper.getMainLooper() but I don&#180;t know how to do this. You can see I have implemented that if the ad fails to load,it will be reloaded up to 5 times, so I think that adding a delay before reloading the ad could be a good option.\r\n\r\nHere is my code:\r\n\r\n```java\r\n @Override\r\n      protected void onResume() {\r\n        super.onResume();\r\n        requestNewInterstitial(5);\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n private void requestNewInterstitial(int maxRetry) {\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        InterstitialAd.load(Activityone.this, getString(R.string.interid),\r\n                adRequest, new InterstitialAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                        mInterstitialAd = interstitialAd;\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n\r\n\r\n          if (maxRetry&gt;0){\r\n                         \r\n                  /*HERE IS WHERE THE AD IS RELOADED, SO THE DELAY COULD BE SET HERE BEFORE \r\n                 CALLING THE REQUEST NEW INTERSTITIAL FUNCTION*/\r\n                 mInterstitialAd = null;\r\n                 requestNewInterstitial(maxRetry-1);\r\n              \r\n                   \r\n                    }\r\n                });\r\n                     }\r\n           \r\n    }\r\n\r\n\r\n\r\n\r\n  btnPause.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n            \r\n                if (mInterstitialAd != null) {\r\n\r\n                    mInterstitialAd.show(Activityone.this);\r\n\r\n                    mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                        @Override\r\n                        public void onAdDismissedFullScreenContent() {\r\n                  \r\n                        }\r\n\r\n                        @Override\r\n                        public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\r\n\r\n                        }\r\n\r\n                    });\r\n```\r\n\r\n","title":"Set a delay of some seconds before reloading an interstitial ad","body":"<p>I want to set/add a delay when reloading an ad when it has failed to load. I think it could be done with Looper.getMainLooper() but I don´t know how to do this. You can see I have implemented that if the ad fails to load,it will be reloaded up to 5 times, so I think that adding a delay before reloading the ad could be a good option.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n      protected void onResume() {\n        super.onResume();\n        requestNewInterstitial(5);\n\n        }\n\n\n\n\n private void requestNewInterstitial(int maxRetry) {\n        AdRequest adRequest = new AdRequest.Builder().build();\n        InterstitialAd.load(Activityone.this, getString(R.string.interid),\n                adRequest, new InterstitialAdLoadCallback() {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                        mInterstitialAd = interstitialAd;\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n\n\n          if (maxRetry&gt;0){\n                         \n                  /*HERE IS WHERE THE AD IS RELOADED, SO THE DELAY COULD BE SET HERE BEFORE \n                 CALLING THE REQUEST NEW INTERSTITIAL FUNCTION*/\n                 mInterstitialAd = null;\n                 requestNewInterstitial(maxRetry-1);\n              \n                   \n                    }\n                });\n                     }\n           \n    }\n\n\n\n\n  btnPause.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n            \n                if (mInterstitialAd != null) {\n\n                    mInterstitialAd.show(Activityone.this);\n\n                    mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                        @Override\n                        public void onAdDismissedFullScreenContent() {\n                  \n                        }\n\n                        @Override\n                        public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\n\n                        }\n\n                    });\n</code></pre>\n"},{"tags":["java","caching","data-structures","collections"],"answers":[{"tags":[],"owner":{"account_id":1156634,"reputation":576,"user_id":1137065,"accept_rate":58,"display_name":"uahakan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326032275,"creation_date":1326032275,"answer_id":8778266,"question_id":8778225,"body_markdown":"I think your decision is right.\r\nI would be using HashMap to be exact.","title":"Object cache data structure with &quot;object expiration&quot;","body":"<p>I think your decision is right.\nI would be using HashMap to be exact.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426295290,"creation_date":1326032313,"answer_id":8778270,"question_id":8778225,"body_markdown":"I would consider using an existing library like `ehcache`.\r\n\r\nHowever, if you want to write your own, I would not use a background thread unless you need it as it adds complexity. Instead I would have the foreground thread remove expired entries.\r\n\r\nI would use `LinkedHashMap` if you just need an LRU cache. However if you want timed expiry, I would use a `HashMap` with a `PriorityQueue` (so you can check whether the next to expire entry has expired)","title":"Object cache data structure with &quot;object expiration&quot;","body":"<p>I would consider using an existing library like <code>ehcache</code>.</p>\n\n<p>However, if you want to write your own, I would not use a background thread unless you need it as it adds complexity. Instead I would have the foreground thread remove expired entries.</p>\n\n<p>I would use <code>LinkedHashMap</code> if you just need an LRU cache. However if you want timed expiry, I would use a <code>HashMap</code> with a <code>PriorityQueue</code> (so you can check whether the next to expire entry has expired)</p>\n"},{"tags":[],"owner":{"account_id":351616,"reputation":3033,"user_id":688206,"display_name":"Dan Hardiker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1426295394,"creation_date":1326032515,"answer_id":8778294,"question_id":8778225,"body_markdown":"Caching frameworks are pretty mature now:\r\n\r\n * EhCache: http://ehcache.org/\r\n * Memcached: http://memcached.org/\r\n\r\nHowever, if you insist on reinventing the wheel, remember to account for memory utilisation. All too often I see a badly implemented cache (`HashMap`) effectively turn into a memory leak.\r\n\r\nSee Cowan&#39;s answer here: https://stackoverflow.com/questions/1802809/javas-weakhashmap-and-caching-why-is-it-referencing-the-keys-not-the-values","title":"Object cache data structure with &quot;object expiration&quot;","body":"<p>Caching frameworks are pretty mature now:</p>\n\n<ul>\n<li>EhCache: <a href=\"http://ehcache.org/\" rel=\"nofollow noreferrer\">http://ehcache.org/</a></li>\n<li>Memcached: <a href=\"http://memcached.org/\" rel=\"nofollow noreferrer\">http://memcached.org/</a></li>\n</ul>\n\n<p>However, if you insist on reinventing the wheel, remember to account for memory utilisation. All too often I see a badly implemented cache (<code>HashMap</code>) effectively turn into a memory leak.</p>\n\n<p>See Cowan's answer here: <a href=\"https://stackoverflow.com/questions/1802809/javas-weakhashmap-and-caching-why-is-it-referencing-the-keys-not-the-values\">Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?</a></p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1663697501,"creation_date":1426284393,"answer_id":29042779,"question_id":8778225,"body_markdown":"What you&#39;re describing building is basically my [ExpiringMap](https://github.com/jhalterman/expiringmap). There are other similar implementations, such as Guava (see [CacheBuilder](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/cache/CacheBuilder.html)) - though I don&#39;t believe it supports per-entry expiration as ExpiringMap does.","title":"Object cache data structure with &quot;object expiration&quot;","body":"<p>What you're describing building is basically my <a href=\"https://github.com/jhalterman/expiringmap\" rel=\"nofollow noreferrer\">ExpiringMap</a>. There are other similar implementations, such as Guava (see <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/cache/CacheBuilder.html\" rel=\"nofollow noreferrer\">CacheBuilder</a>) - though I don't believe it supports per-entry expiration as ExpiringMap does.</p>\n"},{"tags":[],"owner":{"account_id":261006,"reputation":2552,"user_id":544918,"accept_rate":67,"display_name":"Om."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1507224645,"creation_date":1426697905,"answer_id":29128157,"question_id":8778225,"body_markdown":"\r\nGuava Cachebuilder :\r\n\r\n    LoadingCache&lt;Key, Graph&gt; graphs = CacheBuilder.newBuilder()\r\n           .maximumSize(10000)\r\n           .expireAfterWrite(10, TimeUnit.MINUTES)\r\n           .removalListener(MY_LISTENER)\r\n           .build(\r\n               new CacheLoader&lt;Key, Graph&gt;() {\r\n                 public Graph load(Key key) throws AnyException {\r\n                   return createExpensiveGraph(key);\r\n                 }\r\n               });\r\n    \r\n\r\nSince WeekHashmap doesn&#39;t fit caching but you can always utilize `Map&lt;K,WeakReference&lt;V&gt;&gt;` whose value become eligible for GC for week references.\r\n\r\nAbove all we always have **EhCache** ,**Memcached** and **coherence**  as popular choice.\r\n","title":"Object cache data structure with &quot;object expiration&quot;","body":"<p>Guava Cachebuilder :</p>\n\n<pre><code>LoadingCache&lt;Key, Graph&gt; graphs = CacheBuilder.newBuilder()\n       .maximumSize(10000)\n       .expireAfterWrite(10, TimeUnit.MINUTES)\n       .removalListener(MY_LISTENER)\n       .build(\n           new CacheLoader&lt;Key, Graph&gt;() {\n             public Graph load(Key key) throws AnyException {\n               return createExpensiveGraph(key);\n             }\n           });\n</code></pre>\n\n<p>Since WeekHashmap doesn't fit caching but you can always utilize <code>Map&lt;K,WeakReference&lt;V&gt;&gt;</code> whose value become eligible for GC for week references.</p>\n\n<p>Above all we always have <strong>EhCache</strong> ,<strong>Memcached</strong> and <strong>coherence</strong>  as popular choice.</p>\n"},{"tags":[],"owner":{"account_id":5309320,"reputation":1226,"user_id":4236207,"display_name":"hemant1900"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426883339,"creation_date":1426883339,"answer_id":29175303,"question_id":8778225,"body_markdown":"As mentioned in previous answers, it is better to use one of the popular in-memory caches like EhCache, Memcached etc.\r\n\r\nBut just as you wanted implement it by your own cache which has the object expiry feature and less time complexity, I tried to implement it like this - (any test reviews/suggestions much appreciated)..\r\n\r\n    public class ObjectCache&lt;K, V&gt; {\r\n    \r\n        private volatile boolean shutdown;\r\n        private final long maxObjects;\r\n        private final long timeToLive;\r\n        private final long removalThreadRunDelay;\r\n        private final long objectsToRemovePerRemovalThreadRun;\r\n        private final AtomicLong objectsCount;\r\n        private final Map&lt;K, CacheEntryWrapper&gt; cachedDataStore;\r\n        private final BlockingQueue&lt;CacheEntryReference&gt; queue;\r\n        private final Object lock = new Object();\r\n        private ScheduledExecutorService executorService;\r\n    \r\n        public ObjectCache(long maxObjects, long timeToLive, long removalThreadRunDelay, long objectsToRemovePerRemovalThreadRun) {\r\n            this.maxObjects = maxObjects;\r\n            this.timeToLive = timeToLive;\r\n            this.removalThreadRunDelay = removalThreadRunDelay;\r\n            this.objectsToRemovePerRemovalThreadRun = objectsToRemovePerRemovalThreadRun;\r\n            this.objectsCount = new AtomicLong(0);\r\n            this.cachedDataStore = new HashMap&lt;K, CacheEntryWrapper&gt;();\r\n            this.queue = new LinkedBlockingQueue&lt;CacheEntryReference&gt;();\r\n        }\r\n    \r\n        public void put(K key, V value) {\r\n            if (key == null || value == null) {\r\n                throw new IllegalArgumentException(&quot;Key and Value both should be not null&quot;);\r\n            }\r\n            if (objectsCount.get() + 1 &gt; maxObjects) {\r\n                throw new RuntimeException(&quot;Max objects limit reached. Can not store more objects in cache.&quot;);\r\n            }\r\n            // create a value wrapper and add it to data store map\r\n            CacheEntryWrapper entryWrapper = new CacheEntryWrapper(key, value);\r\n            synchronized (lock) {\r\n                cachedDataStore.put(key, entryWrapper);\r\n            }\r\n            // add the cache entry reference to queue which will be used by removal thread\r\n            queue.add(entryWrapper.getCacheEntryReference());\r\n            objectsCount.incrementAndGet();\r\n            // start the removal thread if not started already\r\n            if (executorService == null) {\r\n                synchronized (lock) {\r\n                    if (executorService == null) {\r\n                        executorService = Executors.newSingleThreadScheduledExecutor();\r\n                        executorService.scheduleWithFixedDelay(new CacheEntryRemover(), 0, removalThreadRunDelay, TimeUnit.MILLISECONDS);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public V get(K key) {\r\n            if (key == null) {\r\n                throw new IllegalArgumentException(&quot;Key can not be null&quot;);\r\n            }\r\n            CacheEntryWrapper entryWrapper;\r\n            synchronized (lock) {\r\n                entryWrapper = cachedDataStore.get(key);\r\n                if (entryWrapper != null) {\r\n                    // reset the last access time\r\n                    entryWrapper.resetLastAccessedTime();\r\n                    // reset the reference (so the weak reference is cleared)\r\n                    entryWrapper.resetCacheEntryReference();\r\n                    // add the new reference to queue\r\n                    queue.add(entryWrapper.getCacheEntryReference());\r\n                }\r\n            }\r\n            return entryWrapper == null ? null : entryWrapper.getValue();\r\n        }\r\n    \r\n        public void remove(K key) {\r\n            if (key == null) {\r\n                throw new IllegalArgumentException(&quot;Key can not be null&quot;);\r\n            }\r\n            CacheEntryWrapper entryWrapper;\r\n            synchronized (lock) {\r\n                entryWrapper = cachedDataStore.remove(key);\r\n                if (entryWrapper != null) {\r\n                    // reset the reference (so the weak reference is cleared)\r\n                    entryWrapper.resetCacheEntryReference();\r\n                }\r\n            }\r\n            objectsCount.decrementAndGet();\r\n        }\r\n    \r\n        public void shutdown() {\r\n            shutdown = true;\r\n            executorService.shutdown();\r\n            queue.clear();\r\n            cachedDataStore.clear();\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ObjectCache&lt;Long, Long&gt; cache = new ObjectCache&lt;&gt;(1000000, 60000, 1000, 1000);\r\n            long i = 0;\r\n            while (i++ &lt; 10000) {\r\n                cache.put(i, i);\r\n            }\r\n            i = 0;\r\n            while(i++ &lt; 100) {\r\n                Thread.sleep(1000);\r\n                System.out.println(&quot;Data store size: &quot; + cache.cachedDataStore.size() + &quot;, queue size: &quot; + cache.queue.size());\r\n            }\r\n            cache.shutdown();\r\n        }\r\n    \r\n        private class CacheEntryRemover implements Runnable {\r\n            public void run() {\r\n                if (!shutdown) {\r\n                    try {\r\n                        int count = 0;\r\n                        CacheEntryReference entryReference;\r\n                        while ((entryReference = queue.peek()) != null &amp;&amp; count++ &lt; objectsToRemovePerRemovalThreadRun) {\r\n                            long currentTime = System.currentTimeMillis();\r\n                            CacheEntryWrapper cacheEntryWrapper = entryReference.getWeakReference().get();\r\n                            if (cacheEntryWrapper == null || !cachedDataStore.containsKey(cacheEntryWrapper.getKey())) {\r\n                                queue.poll(100, TimeUnit.MILLISECONDS); // remove the reference object from queue as value is removed from cache\r\n                            } else if (currentTime - cacheEntryWrapper.getLastAccessedTime().get() &gt; timeToLive) {\r\n                                synchronized (lock) {\r\n                                    // get the cacheEntryWrapper again just to find if put() has overridden the same key or remove() has removed it already\r\n                                    CacheEntryWrapper newCacheEntryWrapper = cachedDataStore.get(cacheEntryWrapper.getKey());\r\n                                    // poll the queue if -\r\n                                    // case 1 - value is removed from cache\r\n                                    // case 2 - value is overridden by new value\r\n                                    // case 3 - value is still in cache but it is old now\r\n                                    if (newCacheEntryWrapper == null || newCacheEntryWrapper != cacheEntryWrapper || currentTime - cacheEntryWrapper.getLastAccessedTime().get() &gt; timeToLive) {\r\n                                        queue.poll(100, TimeUnit.MILLISECONDS);\r\n                                        newCacheEntryWrapper = newCacheEntryWrapper == null ? cacheEntryWrapper : newCacheEntryWrapper;\r\n                                        if (currentTime - newCacheEntryWrapper.getLastAccessedTime().get() &gt; timeToLive) {\r\n                                            remove(newCacheEntryWrapper.getKey());\r\n                                        }\r\n                                    } else {\r\n                                        break; // try next time\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private class CacheEntryWrapper {\r\n            private K key;\r\n            private V value;\r\n            private AtomicLong lastAccessedTime;\r\n            private CacheEntryReference cacheEntryReference;\r\n    \r\n            public CacheEntryWrapper(K key, V value) {\r\n                this.key = key;\r\n                this.value = value;\r\n                this.lastAccessedTime = new AtomicLong(System.currentTimeMillis());\r\n                this.cacheEntryReference = new CacheEntryReference(this);\r\n            }\r\n    \r\n            public K getKey() {\r\n                return key;\r\n            }\r\n    \r\n            public V getValue() {\r\n                return value;\r\n            }\r\n    \r\n            public AtomicLong getLastAccessedTime() {\r\n                return lastAccessedTime;\r\n            }\r\n    \r\n            public CacheEntryReference getCacheEntryReference() {\r\n                return cacheEntryReference;\r\n            }\r\n    \r\n            public void resetLastAccessedTime() {\r\n                lastAccessedTime.set(System.currentTimeMillis());\r\n            }\r\n    \r\n            public void resetCacheEntryReference() {\r\n                cacheEntryReference.clear();\r\n                cacheEntryReference = new CacheEntryReference(this);\r\n            }\r\n        }\r\n    \r\n        private class CacheEntryReference {\r\n            private WeakReference&lt;CacheEntryWrapper&gt; weakReference;\r\n    \r\n            public CacheEntryReference(CacheEntryWrapper entryWrapper) {\r\n                this.weakReference = new WeakReference&lt;CacheEntryWrapper&gt;(entryWrapper);\r\n            }\r\n    \r\n            public WeakReference&lt;CacheEntryWrapper&gt; getWeakReference() {\r\n                return weakReference;\r\n            }\r\n    \r\n            public void clear() {\r\n                weakReference.clear();\r\n            }\r\n        }\r\n    }","title":"Object cache data structure with &quot;object expiration&quot;","body":"<p>As mentioned in previous answers, it is better to use one of the popular in-memory caches like EhCache, Memcached etc.</p>\n\n<p>But just as you wanted implement it by your own cache which has the object expiry feature and less time complexity, I tried to implement it like this - (any test reviews/suggestions much appreciated)..</p>\n\n<pre><code>public class ObjectCache&lt;K, V&gt; {\n\n    private volatile boolean shutdown;\n    private final long maxObjects;\n    private final long timeToLive;\n    private final long removalThreadRunDelay;\n    private final long objectsToRemovePerRemovalThreadRun;\n    private final AtomicLong objectsCount;\n    private final Map&lt;K, CacheEntryWrapper&gt; cachedDataStore;\n    private final BlockingQueue&lt;CacheEntryReference&gt; queue;\n    private final Object lock = new Object();\n    private ScheduledExecutorService executorService;\n\n    public ObjectCache(long maxObjects, long timeToLive, long removalThreadRunDelay, long objectsToRemovePerRemovalThreadRun) {\n        this.maxObjects = maxObjects;\n        this.timeToLive = timeToLive;\n        this.removalThreadRunDelay = removalThreadRunDelay;\n        this.objectsToRemovePerRemovalThreadRun = objectsToRemovePerRemovalThreadRun;\n        this.objectsCount = new AtomicLong(0);\n        this.cachedDataStore = new HashMap&lt;K, CacheEntryWrapper&gt;();\n        this.queue = new LinkedBlockingQueue&lt;CacheEntryReference&gt;();\n    }\n\n    public void put(K key, V value) {\n        if (key == null || value == null) {\n            throw new IllegalArgumentException(\"Key and Value both should be not null\");\n        }\n        if (objectsCount.get() + 1 &gt; maxObjects) {\n            throw new RuntimeException(\"Max objects limit reached. Can not store more objects in cache.\");\n        }\n        // create a value wrapper and add it to data store map\n        CacheEntryWrapper entryWrapper = new CacheEntryWrapper(key, value);\n        synchronized (lock) {\n            cachedDataStore.put(key, entryWrapper);\n        }\n        // add the cache entry reference to queue which will be used by removal thread\n        queue.add(entryWrapper.getCacheEntryReference());\n        objectsCount.incrementAndGet();\n        // start the removal thread if not started already\n        if (executorService == null) {\n            synchronized (lock) {\n                if (executorService == null) {\n                    executorService = Executors.newSingleThreadScheduledExecutor();\n                    executorService.scheduleWithFixedDelay(new CacheEntryRemover(), 0, removalThreadRunDelay, TimeUnit.MILLISECONDS);\n                }\n            }\n        }\n    }\n\n    public V get(K key) {\n        if (key == null) {\n            throw new IllegalArgumentException(\"Key can not be null\");\n        }\n        CacheEntryWrapper entryWrapper;\n        synchronized (lock) {\n            entryWrapper = cachedDataStore.get(key);\n            if (entryWrapper != null) {\n                // reset the last access time\n                entryWrapper.resetLastAccessedTime();\n                // reset the reference (so the weak reference is cleared)\n                entryWrapper.resetCacheEntryReference();\n                // add the new reference to queue\n                queue.add(entryWrapper.getCacheEntryReference());\n            }\n        }\n        return entryWrapper == null ? null : entryWrapper.getValue();\n    }\n\n    public void remove(K key) {\n        if (key == null) {\n            throw new IllegalArgumentException(\"Key can not be null\");\n        }\n        CacheEntryWrapper entryWrapper;\n        synchronized (lock) {\n            entryWrapper = cachedDataStore.remove(key);\n            if (entryWrapper != null) {\n                // reset the reference (so the weak reference is cleared)\n                entryWrapper.resetCacheEntryReference();\n            }\n        }\n        objectsCount.decrementAndGet();\n    }\n\n    public void shutdown() {\n        shutdown = true;\n        executorService.shutdown();\n        queue.clear();\n        cachedDataStore.clear();\n    }\n\n    public static void main(String[] args) throws Exception {\n        ObjectCache&lt;Long, Long&gt; cache = new ObjectCache&lt;&gt;(1000000, 60000, 1000, 1000);\n        long i = 0;\n        while (i++ &lt; 10000) {\n            cache.put(i, i);\n        }\n        i = 0;\n        while(i++ &lt; 100) {\n            Thread.sleep(1000);\n            System.out.println(\"Data store size: \" + cache.cachedDataStore.size() + \", queue size: \" + cache.queue.size());\n        }\n        cache.shutdown();\n    }\n\n    private class CacheEntryRemover implements Runnable {\n        public void run() {\n            if (!shutdown) {\n                try {\n                    int count = 0;\n                    CacheEntryReference entryReference;\n                    while ((entryReference = queue.peek()) != null &amp;&amp; count++ &lt; objectsToRemovePerRemovalThreadRun) {\n                        long currentTime = System.currentTimeMillis();\n                        CacheEntryWrapper cacheEntryWrapper = entryReference.getWeakReference().get();\n                        if (cacheEntryWrapper == null || !cachedDataStore.containsKey(cacheEntryWrapper.getKey())) {\n                            queue.poll(100, TimeUnit.MILLISECONDS); // remove the reference object from queue as value is removed from cache\n                        } else if (currentTime - cacheEntryWrapper.getLastAccessedTime().get() &gt; timeToLive) {\n                            synchronized (lock) {\n                                // get the cacheEntryWrapper again just to find if put() has overridden the same key or remove() has removed it already\n                                CacheEntryWrapper newCacheEntryWrapper = cachedDataStore.get(cacheEntryWrapper.getKey());\n                                // poll the queue if -\n                                // case 1 - value is removed from cache\n                                // case 2 - value is overridden by new value\n                                // case 3 - value is still in cache but it is old now\n                                if (newCacheEntryWrapper == null || newCacheEntryWrapper != cacheEntryWrapper || currentTime - cacheEntryWrapper.getLastAccessedTime().get() &gt; timeToLive) {\n                                    queue.poll(100, TimeUnit.MILLISECONDS);\n                                    newCacheEntryWrapper = newCacheEntryWrapper == null ? cacheEntryWrapper : newCacheEntryWrapper;\n                                    if (currentTime - newCacheEntryWrapper.getLastAccessedTime().get() &gt; timeToLive) {\n                                        remove(newCacheEntryWrapper.getKey());\n                                    }\n                                } else {\n                                    break; // try next time\n                                }\n                            }\n                        }\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private class CacheEntryWrapper {\n        private K key;\n        private V value;\n        private AtomicLong lastAccessedTime;\n        private CacheEntryReference cacheEntryReference;\n\n        public CacheEntryWrapper(K key, V value) {\n            this.key = key;\n            this.value = value;\n            this.lastAccessedTime = new AtomicLong(System.currentTimeMillis());\n            this.cacheEntryReference = new CacheEntryReference(this);\n        }\n\n        public K getKey() {\n            return key;\n        }\n\n        public V getValue() {\n            return value;\n        }\n\n        public AtomicLong getLastAccessedTime() {\n            return lastAccessedTime;\n        }\n\n        public CacheEntryReference getCacheEntryReference() {\n            return cacheEntryReference;\n        }\n\n        public void resetLastAccessedTime() {\n            lastAccessedTime.set(System.currentTimeMillis());\n        }\n\n        public void resetCacheEntryReference() {\n            cacheEntryReference.clear();\n            cacheEntryReference = new CacheEntryReference(this);\n        }\n    }\n\n    private class CacheEntryReference {\n        private WeakReference&lt;CacheEntryWrapper&gt; weakReference;\n\n        public CacheEntryReference(CacheEntryWrapper entryWrapper) {\n            this.weakReference = new WeakReference&lt;CacheEntryWrapper&gt;(entryWrapper);\n        }\n\n        public WeakReference&lt;CacheEntryWrapper&gt; getWeakReference() {\n            return weakReference;\n        }\n\n        public void clear() {\n            weakReference.clear();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5523,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29042779,"answer_count":6,"score":4,"last_activity_date":1663697501,"creation_date":1326031865,"question_id":8778225,"body_markdown":"Which data structure in Java would be best to implement an in-memory object cache, where objects have an individual expiration time? \r\n\r\nBasically for the cache I could use a Map (where key could be a String) which offers the put and get methods, and use a ordered list of &quot;timestamp&quot;+&quot;object&quot; pairs to manage the expiration time. So a cleanup thread could check the first list entry and delete the object when its expiration time passed. (Deletion of the first element should be in O(1) time)","title":"Object cache data structure with &quot;object expiration&quot;","body":"<p>Which data structure in Java would be best to implement an in-memory object cache, where objects have an individual expiration time? </p>\n\n<p>Basically for the cache I could use a Map (where key could be a String) which offers the put and get methods, and use a ordered list of \"timestamp\"+\"object\" pairs to manage the expiration time. So a cleanup thread could check the first list entry and delete the object when its expiration time passed. (Deletion of the first element should be in O(1) time)</p>\n"},{"tags":["java","postgresql","postgis","glassfish-5"],"comments":[{"owner":{"account_id":16322412,"reputation":41,"user_id":11787870,"display_name":"Patrick Aboagye"},"score":0,"creation_date":1663804711,"post_id":73781497,"comment_id":130327979,"body_markdown":"so i partially figured a solution. it works if I select the resource_type as `javax.sql.Driver` and choose Vendor `Postgres`. If still fails if I attempt to use a datasource configuration instead. Not sure what is happening here tbh.","body":"so i partially figured a solution. it works if I select the resource_type as <code>javax.sql.Driver</code> and choose Vendor <code>Postgres</code>. If still fails if I attempt to use a datasource configuration instead. Not sure what is happening here tbh."}],"answers":[{"tags":[],"owner":{"account_id":25914610,"reputation":11,"user_id":19638174,"display_name":"Pauel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663697271,"creation_date":1663697151,"answer_id":73790948,"question_id":73781497,"body_markdown":"If gps_coordinates field type is GEOMETRY try this one:\r\nINSERT INTO digital_addresses (gps_coordinates, digital_address) VALUES (ST_GeomFromText(&#39;POINT(-70.064544 40.28787)&#39;,4326)), ?)","title":"Cannot save to geometry field from app deployed in Glassfish to Postgres13 with Postgis3.1.7","body":"<p>If gps_coordinates field type is GEOMETRY try this one:\nINSERT INTO digital_addresses (gps_coordinates, digital_address) VALUES (ST_GeomFromText('POINT(-70.064544 40.28787)',4326)), ?)</p>\n"}],"owner":{"account_id":16322412,"reputation":41,"user_id":11787870,"display_name":"Patrick Aboagye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663697271,"creation_date":1663646172,"question_id":73781497,"body_markdown":"I have this weird issue where I cannot read or write to geometry fields in my Database.\r\n`INSERT INTO digital_addresses(gps_coordinates, digital_address) VALUES (ST_SetSRID(ST_MakePoint(?, ?), 4326), ?)` fails with the error: \r\n```\r\nexception in get getOrSaveDigitalAddress. Reason: ERROR: function st_makepoint(real, real) does not exist\r\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 233\r\n```\r\n\r\nI know postgis is installed correctly because I am able to execute same query from pgAdmin.\r\n\r\nI have tried putting `postgis-geometry-2.5.1.jar`, `postgis-jdbc-2.5.0.jar` and                      `postgresql-42.2.25.jar` in different permutations and different versions into `{domain_dir}/domain1/lib/ext` still the issue persists.\r\n\r\n\r\nselect select postgis_full_version():\r\n```\r\nPOSTGIS=&quot;3.1.7 aafe1ff&quot; [EXTENSION] PGSQL=&quot;130&quot; GEOS=&quot;3.9.2-CAPI-1.14.3&quot; PROJ=&quot;8.2.1&quot; LIBXML=&quot;2.9.7&quot; LIBJSON=&quot;0.13.1&quot; LIBPROTOBUF=&quot;1.3.0&quot; WAGYU=&quot;0.5.0 (Internal)&quot;\r\n```\r\n\r\n\r\nDoes anyone know what might be wrong or what versions of postgressql and postgis should work for my setup. \r\n\r\nThanks!","title":"Cannot save to geometry field from app deployed in Glassfish to Postgres13 with Postgis3.1.7","body":"<p>I have this weird issue where I cannot read or write to geometry fields in my Database.\n<code>INSERT INTO digital_addresses(gps_coordinates, digital_address) VALUES (ST_SetSRID(ST_MakePoint(?, ?), 4326), ?)</code> fails with the error:</p>\n<pre><code>exception in get getOrSaveDigitalAddress. Reason: ERROR: function st_makepoint(real, real) does not exist\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts.\n  Position: 233\n</code></pre>\n<p>I know postgis is installed correctly because I am able to execute same query from pgAdmin.</p>\n<p>I have tried putting <code>postgis-geometry-2.5.1.jar</code>, <code>postgis-jdbc-2.5.0.jar</code> and                      <code>postgresql-42.2.25.jar</code> in different permutations and different versions into <code>{domain_dir}/domain1/lib/ext</code> still the issue persists.</p>\n<p>select select postgis_full_version():</p>\n<pre><code>POSTGIS=&quot;3.1.7 aafe1ff&quot; [EXTENSION] PGSQL=&quot;130&quot; GEOS=&quot;3.9.2-CAPI-1.14.3&quot; PROJ=&quot;8.2.1&quot; LIBXML=&quot;2.9.7&quot; LIBJSON=&quot;0.13.1&quot; LIBPROTOBUF=&quot;1.3.0&quot; WAGYU=&quot;0.5.0 (Internal)&quot;\n</code></pre>\n<p>Does anyone know what might be wrong or what versions of postgressql and postgis should work for my setup.</p>\n<p>Thanks!</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":123953,"reputation":16498,"user_id":318749,"accept_rate":82,"display_name":"Randy"},"score":0,"creation_date":1663693310,"post_id":73790205,"comment_id":130298239,"body_markdown":"you are stuck with code in this case.  if you split off the end_state (PASSED/FAILED) from the active state(REGISTERED/IN PROGRESS) then you can use a unique index on the active state along with user and test","body":"you are stuck with code in this case.  if you split off the end_state (PASSED/FAILED) from the active state(REGISTERED/IN PROGRESS) then you can use a unique index on the active state along with user and test"},{"owner":{"account_id":20423221,"reputation":183,"user_id":14983790,"display_name":"Mike"},"score":0,"creation_date":1663693755,"post_id":73790205,"comment_id":130298369,"body_markdown":"@Randy with 2 columns, there will be null for active state, will unique index take effect in that case since we allow unlimited duplicate `PASSED` / `FAILED` attempts?","body":"@Randy with 2 columns, there will be null for active state, will unique index take effect in that case since we allow unlimited duplicate <code>PASSED</code> / <code>FAILED</code> attempts?"},{"owner":{"account_id":123953,"reputation":16498,"user_id":318749,"accept_rate":82,"display_name":"Randy"},"score":0,"creation_date":1663695120,"post_id":73790205,"comment_id":130298805,"body_markdown":"I believe it is a combination of CHECK and UNIQUE constraints. here is a reference for sql server https://learn.microsoft.com/en-us/sql/relational-databases/tables/unique-constraints-and-check-constraints?view=sql-server-ver16","body":"I believe it is a combination of CHECK and UNIQUE constraints. here is a reference for sql server <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/tables/unique-constraints-and-check-constraints?view=sql-server-ver16\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/relational-databases/tables/&hellip;</a>"},{"owner":{"account_id":20423221,"reputation":183,"user_id":14983790,"display_name":"Mike"},"score":0,"creation_date":1663695616,"post_id":73790205,"comment_id":130298973,"body_markdown":"It is not ture in mysql `A UNIQUE index permits multiple NULL values for columns that can contain NULL` https://dev.mysql.com/doc/refman/5.7/en/create-index.html#create-index-unique Then how can I enforce the uniqueness over active state of `REGISTERED` or `IN_PROGRESS`","body":"It is not ture in mysql <code>A UNIQUE index permits multiple NULL values for columns that can contain NULL</code> <a href=\"https://dev.mysql.com/doc/refman/5.7/en/create-index.html#create-index-unique\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/&hellip;</a> Then how can I enforce the uniqueness over active state of <code>REGISTERED</code> or <code>IN_PROGRESS</code>"}],"owner":{"account_id":20423221,"reputation":183,"user_id":14983790,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663696833,"creation_date":1663693117,"question_id":73790205,"body_markdown":"I have 3 entities in SQL: `User`, `Test` and `UserTestAttempt`.\r\n\r\n    class User {\r\n      Long id;\r\n    }\r\n\r\n    class Test {\r\n      Long id;\r\n    }\r\n\r\n    class UserTestAttempt {\r\n      Long id;\r\n      Long userId;\r\n      Long testId;\r\n      StatusEnum status; // REGISTERED, IN_PROGRESS, PASSED, FAILED\r\n    }\r\n\r\nA `User` can make a `UserTestAttempt` to take a `Test`. However, when `status` is `REGISTERED` or `IN_PROGRESS`, no new `UserTestAttempt` can be created with identical `userId` and `testId`. After `status` turns into `PASSED` or `FAILED`, `User` can create new `UserTestAttempt` to retake `Test`.\r\n\r\nIs there an easy way to achieve this through SQL unique index? Or I have to implement it in pure code?","title":"How to use sql unique index to restrict the number of `unfinalized` records","body":"<p>I have 3 entities in SQL: <code>User</code>, <code>Test</code> and <code>UserTestAttempt</code>.</p>\n<pre><code>class User {\n  Long id;\n}\n\nclass Test {\n  Long id;\n}\n\nclass UserTestAttempt {\n  Long id;\n  Long userId;\n  Long testId;\n  StatusEnum status; // REGISTERED, IN_PROGRESS, PASSED, FAILED\n}\n</code></pre>\n<p>A <code>User</code> can make a <code>UserTestAttempt</code> to take a <code>Test</code>. However, when <code>status</code> is <code>REGISTERED</code> or <code>IN_PROGRESS</code>, no new <code>UserTestAttempt</code> can be created with identical <code>userId</code> and <code>testId</code>. After <code>status</code> turns into <code>PASSED</code> or <code>FAILED</code>, <code>User</code> can create new <code>UserTestAttempt</code> to retake <code>Test</code>.</p>\n<p>Is there an easy way to achieve this through SQL unique index? Or I have to implement it in pure code?</p>\n"},{"tags":["java","xml","stax","bean-io"],"answers":[{"tags":[],"owner":{"account_id":5939517,"reputation":5041,"user_id":4673475,"display_name":"kucing_terbang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1441612415,"creation_date":1441612415,"answer_id":32433655,"question_id":32431107,"body_markdown":"Close, but you still need to add the `segment` element inside the `segment` tag to tell which field the attribute is belong to.\r\n\r\nexample.\r\n\r\n    &lt;segment name=&quot;amount&quot;&gt;\r\n    \t&lt;field name=&quot;totalAmount&quot; xmlName=&quot;totalAmt&quot;&gt;&lt;/field&gt;\r\n    \t&lt;segment name=&quot;totalAmt&quot;&gt;\r\n    \t\t&lt;field name=&quot;type&quot; xmlName=&quot;Ccy&quot; xmlType=&quot;attribute&quot;&gt;&lt;/field&gt;\r\n    \t&lt;/segment&gt;\r\n    &lt;/segment&gt;","title":"Mapping both xml element and its attribute using BeanIO","body":"<p>Close, but you still need to add the <code>segment</code> element inside the <code>segment</code> tag to tell which field the attribute is belong to.</p>\n\n<p>example.</p>\n\n<pre><code>&lt;segment name=\"amount\"&gt;\n    &lt;field name=\"totalAmount\" xmlName=\"totalAmt\"&gt;&lt;/field&gt;\n    &lt;segment name=\"totalAmt\"&gt;\n        &lt;field name=\"type\" xmlName=\"Ccy\" xmlType=\"attribute\"&gt;&lt;/field&gt;\n    &lt;/segment&gt;\n&lt;/segment&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26393681,"reputation":1,"user_id":20045166,"display_name":"Nagendra E"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663696332,"creation_date":1663695278,"answer_id":73790617,"question_id":32431107,"body_markdown":"I am using bean io 2.1 version\r\nThe \r\n\r\n\r\n&lt;segment name=&quot;amount&quot;&gt;\r\n\r\n    &lt;segment name=&quot;totalAmt&quot;&gt;\r\n        &lt;field name=&quot;totalAmount&quot; xmlType=&quot;text&quot;&gt;&lt;/field&gt;  ---&gt;the bean variable &quot;totalAmount&quot; will give say 100 \r\n        &lt;field name=&quot;Cctype&quot; xmlName=&quot;Ccy&quot; xmlType=&quot;attribute&quot; default=&quot;XXX&quot;&gt;&lt;/field&gt;    --&gt;either set default value as XXX or it will take from cctype variable\r\n    &lt;/segment&gt;\r\n\r\n&lt;/segment&gt;\r\n\r\n\r\n\r\n","title":"Mapping both xml element and its attribute using BeanIO","body":"<p>I am using bean io 2.1 version\nThe</p>\n\n<pre><code>&lt;segment name=&quot;totalAmt&quot;&gt;\n    &lt;field name=&quot;totalAmount&quot; xmlType=&quot;text&quot;&gt;&lt;/field&gt;  ---&gt;the bean variable &quot;totalAmount&quot; will give say 100 \n    &lt;field name=&quot;Cctype&quot; xmlName=&quot;Ccy&quot; xmlType=&quot;attribute&quot; default=&quot;XXX&quot;&gt;&lt;/field&gt;    --&gt;either set default value as XXX or it will take from cctype variable\n&lt;/segment&gt;\n</code></pre>\n\n"}],"owner":{"account_id":113431,"reputation":1914,"user_id":298727,"accept_rate":95,"display_name":"sarahTheButterFly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1552,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32433655,"answer_count":2,"score":3,"last_activity_date":1663696332,"creation_date":1441600157,"question_id":32431107,"body_markdown":"I would like to map the **totalAmt** tag in below xml file, both its value 100 and it&#39;s attribute Ccy. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;transaction&gt;\r\n       &lt;id&gt;\r\n           &lt;eId&gt;transactionId001&lt;/eId&gt;\r\n       &lt;/id&gt;\r\n       &lt;amount&gt;\r\n           &lt;totalAmt Ccy=&quot;XXX&quot;&gt;100&lt;/totalAmt&gt;\r\n       &lt;/amount&gt;\r\n    &lt;/transaction&gt;\r\n\r\n\r\nBy reading BeanIO reference guide and posts here I got the impression that only one of them can be mapped. \r\n\r\nSo my question is: Can BeanIO handle this tag and could you show me how?\r\n\r\nWhat I have tried and didn&#39;t work: \r\n\r\n    &lt;segment name=&quot;amount&quot;&gt;\r\n        &lt;field name=&quot;totalAmount&quot; xmlName=&quot;totalAmt&quot;&gt;&lt;/field&gt;\r\n        &lt;field name=&quot;currency&quot; xmlName=&quot;Ccy&quot; xmlType=&quot;attribute&quot;&gt;&lt;/field&gt;\r\n    &lt;/segment&gt;\r\n\r\n","title":"Mapping both xml element and its attribute using BeanIO","body":"<p>I would like to map the <strong>totalAmt</strong> tag in below xml file, both its value 100 and it's attribute Ccy. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;transaction&gt;\n   &lt;id&gt;\n       &lt;eId&gt;transactionId001&lt;/eId&gt;\n   &lt;/id&gt;\n   &lt;amount&gt;\n       &lt;totalAmt Ccy=\"XXX\"&gt;100&lt;/totalAmt&gt;\n   &lt;/amount&gt;\n&lt;/transaction&gt;\n</code></pre>\n\n<p>By reading BeanIO reference guide and posts here I got the impression that only one of them can be mapped. </p>\n\n<p>So my question is: Can BeanIO handle this tag and could you show me how?</p>\n\n<p>What I have tried and didn't work: </p>\n\n<pre><code>&lt;segment name=\"amount\"&gt;\n    &lt;field name=\"totalAmount\" xmlName=\"totalAmt\"&gt;&lt;/field&gt;\n    &lt;field name=\"currency\" xmlName=\"Ccy\" xmlType=\"attribute\"&gt;&lt;/field&gt;\n&lt;/segment&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"score":0,"creation_date":1663695431,"post_id":73790394,"comment_id":130298913,"body_markdown":"Did you check troubleshooting page suggested in the error popup? https://jb.gg/ide/critical-startup-errors","body":"Did you check troubleshooting page suggested in the error popup? <a href=\"https://jb.gg/ide/critical-startup-errors\" rel=\"nofollow noreferrer\">jb.gg/ide/critical-startup-errors</a>"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1663695858,"post_id":73790394,"comment_id":130299076,"body_markdown":"@ocos of course.","body":"@ocos of course."},{"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"score":0,"creation_date":1663696886,"post_id":73790394,"comment_id":130299410,"body_markdown":"Sorry to hear that troubleshooting page did not solve your problem. I would try a clean install with `Intellij IDEA` and/or `IDEA Community Edition`.","body":"Sorry to hear that troubleshooting page did not solve your problem. I would try a clean install with <code>Intellij IDEA</code> and/or <code>IDEA Community Edition</code>."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1663743079,"post_id":73790394,"comment_id":130308186,"body_markdown":"Please contact IDEA support at https://intellij-support.jetbrains.com/hc/en-us/requests/new and provide the [logs folder](https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files)","body":"Please contact IDEA support at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> and provide the <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files\" rel=\"nofollow noreferrer\">logs folder</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1663743082,"post_id":73790394,"comment_id":130308188,"body_markdown":"As a workaround you can try to backup and delete the [system](https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#system-directory) and [plugins](https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#plugins-directory) directories and reinstall from https://www.jetbrains.com/idea/download","body":"As a workaround you can try to backup and delete the <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#system-directory\" rel=\"nofollow noreferrer\">system</a> and <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#plugins-directory\" rel=\"nofollow noreferrer\">plugins</a> directories and reinstall from <a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a>"}],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663695934,"creation_date":1663694167,"question_id":73790394,"body_markdown":"Cool. Per my observation, IntelliJ IDEA has been getting slower and slower, more and more buggy, as the time passed. Now it got freezed during development process (a simple Hibernate maven project) and when I killed the process (IntelliJ IDEA) and attempted to start a it over, I got this:\r\n\r\n![](https://i.stack.imgur.com/oCzvp.png)\r\n\r\n..and now it&#39;s showing up again and again.. as many times, as I unsuccessfully try to run the IDE. [This](https://jb.gg/ide/critical-startup-errors) does not help.\r\n\r\nWhat has been done with this IDE, seriously?\r\n\r\nPlease, note, that I&#39;m well aware, that uploading pictures are not the best thing we can do here, but sometimes there is no better way do demonstrate the problem.","title":"IntelliJ stopped responding and after restarting, it throws &quot;Start Failed - Internal error&quot; and I cannot start it again","body":"<p>Cool. Per my observation, IntelliJ IDEA has been getting slower and slower, more and more buggy, as the time passed. Now it got freezed during development process (a simple Hibernate maven project) and when I killed the process (IntelliJ IDEA) and attempted to start a it over, I got this:</p>\n<p><img src=\"https://i.stack.imgur.com/oCzvp.png\" alt=\"\" /></p>\n<p>..and now it's showing up again and again.. as many times, as I unsuccessfully try to run the IDE. <a href=\"https://jb.gg/ide/critical-startup-errors\" rel=\"nofollow noreferrer\">This</a> does not help.</p>\n<p>What has been done with this IDE, seriously?</p>\n<p>Please, note, that I'm well aware, that uploading pictures are not the best thing we can do here, but sometimes there is no better way do demonstrate the problem.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1663688948,"post_id":73789226,"comment_id":130296736,"body_markdown":"Use XPath like `//Calculation_Results[1]` and increment the index to get them one by one. Even getting all of them with `//Calculation_Results` and iterating over the node set could help.","body":"Use XPath like <code>&#47;&#47;Calculation_Results[1]</code> and increment the index to get them one by one. Even getting all of them with <code>&#47;&#47;Calculation_Results</code> and iterating over the node set could help."}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663690310,"creation_date":1663690310,"answer_id":73789688,"question_id":73789226,"body_markdown":"This line is getting all children every time  \r\n`NodeList calcChildNodes = calcResults.getElementByTagName(&quot;Calculation_Result&quot;);`\r\n\r\nGetting child starting at the proper element should get the expected result\r\n\r\n    NodeList calcResults = doc.getElementByTagName(&quot;Calculation_Results&quot;);\r\n       for (int a=0;a&lt;calcResults.getLength();a++) {\r\n          NodeList calcChildNodes = calcResults.item(a).getElementByTagName(&quot;Calculation_Result&quot;); \r\n             for (int b=0;b&lt;calcChildNodes.getLength();b++) {\r\n                String name = calcChildNodes.item(b).getAttributes().getNamedItem(&quot;Name&quot;).getTextContent();\r\n                String value = calcChildNodes.item(b).getAttributes().getNamedItem(&quot;Value&quot;).getTextContent();\r\n    \r\n               **Insert rows into database**\r\n       }\r\n    }","title":"Java XML parser loop thru repetitive XML and grab a specific node","body":"<p>This line is getting all children every time<br />\n<code>NodeList calcChildNodes = calcResults.getElementByTagName(&quot;Calculation_Result&quot;);</code></p>\n<p>Getting child starting at the proper element should get the expected result</p>\n<pre><code>NodeList calcResults = doc.getElementByTagName(&quot;Calculation_Results&quot;);\n   for (int a=0;a&lt;calcResults.getLength();a++) {\n      NodeList calcChildNodes = calcResults.item(a).getElementByTagName(&quot;Calculation_Result&quot;); \n         for (int b=0;b&lt;calcChildNodes.getLength();b++) {\n            String name = calcChildNodes.item(b).getAttributes().getNamedItem(&quot;Name&quot;).getTextContent();\n            String value = calcChildNodes.item(b).getAttributes().getNamedItem(&quot;Value&quot;).getTextContent();\n\n           **Insert rows into database**\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":26392201,"reputation":1,"user_id":20043929,"display_name":"Edmo1001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663695897,"creation_date":1663687933,"question_id":73789226,"body_markdown":"I&#39;m working with Java and I have an XML file with repetitive nodes with the same names. I need to grab the 1st ```&lt;Calculation_Results Mass=&quot;1234&quot;&gt;```, its child nodes and loop thru them to insert a database row, then grab the 2nd, 3rd, xxx and do the same for each node section. The problem I&#39;m having is: since the child nodes are all the same name, the ```Calculation_Result```child from every node section is grabbed every time I loop through them.  \r\n\r\n    File inputFile = new File(&quot;TestSet01_Network.xml&quot;);\r\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    Document doc = dBuilder.parse(inputFile);\r\n    doc.getDocumentElement().normalize();\r\n\r\n    NodeList calcResults = doc.getElementByTagName(&quot;Calculation_Results&quot;);\r\n       for (int a=0;a&lt;calcResults.getLength();a++) {\r\n          NodeList calcChildNodes = calcResults.getElementByTagName(&quot;Calculation_Result&quot;); \r\n             for (int b=0;b&lt;calcResults.getLength();b++) {\r\n                String name = calcChildNodes.item(b).getAttributes().getNamedItem(&quot;Name&quot;).getTextContent();\r\n                String value = calcChildNodes.item(b).getAttributes().getNamedItem(&quot;Value&quot;).getTextContent();\r\n    \r\n               **Insert rows into database**\r\n       }\r\n    }\r\n\r\nXML Example:\r\n\r\n    &lt;Calculation_Results Mass=&quot;1234&quot;&gt;\r\n      &lt;Calculation_Result Name=&quot;Name1&quot; Value=&quot;Value1&quot;/&gt;\r\n      &lt;Calculation_Result Name=&quot;Name2&quot; Value=&quot;Value2&quot;/&gt;\r\n      &lt;Calculation_Result Name=&quot;Name3&quot; Value=&quot;Value3&quot;/&gt;\r\n    &lt;/Calculation_Results&gt;\r\n    &lt;Calculation_Results Mass=&quot;5678&quot;&gt;\r\n      &lt;Calculation_Result Name=&quot;Name1&quot; Value=&quot;Value10&quot;/&gt;\r\n      &lt;Calculation_Result Name=&quot;Name2&quot; Value=&quot;Value20&quot;/&gt;\r\n      &lt;Calculation_Result Name=&quot;Name3&quot; Value=&quot;Value30&quot;/&gt;\r\n    &lt;/Calculation_Results&gt;\r\n    &lt;Calculation_Results Mass=&quot;9876&quot;&gt;\r\n      &lt;Calculation_Result Name=&quot;Name1&quot; Value=&quot;Value100&quot;/&gt;\r\n      &lt;Calculation_Result Name=&quot;Name2&quot; Value=&quot;Value200&quot;/&gt;\r\n      &lt;Calculation_Result Name=&quot;Name3&quot; Value=&quot;Value300&quot;/&gt;\r\n    &lt;/Calculation_Results&gt;\r\n\r\n","title":"Java XML parser loop thru repetitive XML and grab a specific node","body":"<p>I'm working with Java and I have an XML file with repetitive nodes with the same names. I need to grab the 1st <code>&lt;Calculation_Results Mass=&quot;1234&quot;&gt;</code>, its child nodes and loop thru them to insert a database row, then grab the 2nd, 3rd, xxx and do the same for each node section. The problem I'm having is: since the child nodes are all the same name, the <code>Calculation_Result</code>child from every node section is grabbed every time I loop through them.</p>\n<pre><code>File inputFile = new File(&quot;TestSet01_Network.xml&quot;);\nDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\nDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\nDocument doc = dBuilder.parse(inputFile);\ndoc.getDocumentElement().normalize();\n\nNodeList calcResults = doc.getElementByTagName(&quot;Calculation_Results&quot;);\n   for (int a=0;a&lt;calcResults.getLength();a++) {\n      NodeList calcChildNodes = calcResults.getElementByTagName(&quot;Calculation_Result&quot;); \n         for (int b=0;b&lt;calcResults.getLength();b++) {\n            String name = calcChildNodes.item(b).getAttributes().getNamedItem(&quot;Name&quot;).getTextContent();\n            String value = calcChildNodes.item(b).getAttributes().getNamedItem(&quot;Value&quot;).getTextContent();\n\n           **Insert rows into database**\n   }\n}\n</code></pre>\n<p>XML Example:</p>\n<pre><code>&lt;Calculation_Results Mass=&quot;1234&quot;&gt;\n  &lt;Calculation_Result Name=&quot;Name1&quot; Value=&quot;Value1&quot;/&gt;\n  &lt;Calculation_Result Name=&quot;Name2&quot; Value=&quot;Value2&quot;/&gt;\n  &lt;Calculation_Result Name=&quot;Name3&quot; Value=&quot;Value3&quot;/&gt;\n&lt;/Calculation_Results&gt;\n&lt;Calculation_Results Mass=&quot;5678&quot;&gt;\n  &lt;Calculation_Result Name=&quot;Name1&quot; Value=&quot;Value10&quot;/&gt;\n  &lt;Calculation_Result Name=&quot;Name2&quot; Value=&quot;Value20&quot;/&gt;\n  &lt;Calculation_Result Name=&quot;Name3&quot; Value=&quot;Value30&quot;/&gt;\n&lt;/Calculation_Results&gt;\n&lt;Calculation_Results Mass=&quot;9876&quot;&gt;\n  &lt;Calculation_Result Name=&quot;Name1&quot; Value=&quot;Value100&quot;/&gt;\n  &lt;Calculation_Result Name=&quot;Name2&quot; Value=&quot;Value200&quot;/&gt;\n  &lt;Calculation_Result Name=&quot;Name3&quot; Value=&quot;Value300&quot;/&gt;\n&lt;/Calculation_Results&gt;\n</code></pre>\n"},{"tags":["java","graalvm"],"comments":[{"owner":{"account_id":2048853,"reputation":1976,"user_id":1828296,"accept_rate":75,"display_name":"lospejos"},"score":0,"creation_date":1655761109,"post_id":72201702,"comment_id":128404025,"body_markdown":"AFAIK If you compile binary on default Linux, it compiles with dependencies to `stdlibc` or something like that. Whereas `Alpine Linux` has no these libraries, it uses `musl` instead. This may the issue.","body":"AFAIK If you compile binary on default Linux, it compiles with dependencies to <code>stdlibc</code> or something like that. Whereas <code>Alpine Linux</code> has no these libraries, it uses <code>musl</code> instead. This may the issue."},{"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"score":0,"creation_date":1672788027,"post_id":72201702,"comment_id":132351989,"body_markdown":"Does this answer your question? [Docker Alpine executable binary not found even if in PATH](https://stackoverflow.com/questions/66963068/docker-alpine-executable-binary-not-found-even-if-in-path)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66963068/docker-alpine-executable-binary-not-found-even-if-in-path\">Docker Alpine executable binary not found even if in PATH</a>"}],"answers":[{"tags":[],"owner":{"account_id":10746410,"reputation":1,"user_id":7907558,"display_name":"Luiz Augusto Guimar&#227;es Costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663695877,"creation_date":1663695877,"answer_id":73790740,"question_id":72201702,"body_markdown":"Replace `RUN native-image Main` with `RUN native-image --static Main`.\r\n\r\nExplanation: Alpine uses a different glibc implementation from the linux used to build the binary. When you use the option `--static` all glibc from the linux you build are going to be included in the binary.\r\n\r\nIf you need more detail see https://github.com/oracle/graal/issues/386","title":"Why I can&#39;t run GraalVM native image with Alpine docker image?","body":"<p>Replace <code>RUN native-image Main</code> with <code>RUN native-image --static Main</code>.</p>\n<p>Explanation: Alpine uses a different glibc implementation from the linux used to build the binary. When you use the option <code>--static</code> all glibc from the linux you build are going to be included in the binary.</p>\n<p>If you need more detail see <a href=\"https://github.com/oracle/graal/issues/386\" rel=\"nofollow noreferrer\">https://github.com/oracle/graal/issues/386</a></p>\n"}],"owner":{"account_id":18250480,"reputation":1681,"user_id":13285583,"display_name":"Jason Rich Darmawan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663695877,"creation_date":1652274757,"question_id":72201702,"body_markdown":"My goal is to run native image file created by GraalVM with Alpine docker because the Docker Image with GraalVM JDK size is too big, around `587.82 MB`\r\n\r\nWhat I&#39;ve did:\r\n1. Use GraalVM JDK, and it works when I try to call `./main`\r\n```\r\nFROM ghcr.io/graalvm/native-image:java11-21.2\r\nWORKDIR /app\r\nCOPY ./src/main/java/ /app\r\nRUN javac Main.java\r\nRUN native-image Main\r\n\r\nFROM ghcr.io/graalvm/jdk:java11-21.2\r\nWORKDIR /app\r\nCOPY --from=0 /app/main /app/main\r\nCMD ./main\r\n```\r\n\r\nThe problem is when I try to switch GraalVM JDK to Alpine\r\n```\r\nFROM ghcr.io/graalvm/native-image:java11-21.2\r\nWORKDIR /app\r\nCOPY ./src/main/java/ /app\r\nRUN javac Main.java\r\nRUN native-image Main\r\n\r\nFROM alpine:3.15\r\nWORKDIR /app\r\nCOPY --from=0 /app/main /app/main\r\nCMD ./main\r\n```\r\n\r\nIt throws an error `native-image_1  | /bin/sh: ./main: not found`","title":"Why I can&#39;t run GraalVM native image with Alpine docker image?","body":"<p>My goal is to run native image file created by GraalVM with Alpine docker because the Docker Image with GraalVM JDK size is too big, around <code>587.82 MB</code></p>\n<p>What I've did:</p>\n<ol>\n<li>Use GraalVM JDK, and it works when I try to call <code>./main</code></li>\n</ol>\n<pre><code>FROM ghcr.io/graalvm/native-image:java11-21.2\nWORKDIR /app\nCOPY ./src/main/java/ /app\nRUN javac Main.java\nRUN native-image Main\n\nFROM ghcr.io/graalvm/jdk:java11-21.2\nWORKDIR /app\nCOPY --from=0 /app/main /app/main\nCMD ./main\n</code></pre>\n<p>The problem is when I try to switch GraalVM JDK to Alpine</p>\n<pre><code>FROM ghcr.io/graalvm/native-image:java11-21.2\nWORKDIR /app\nCOPY ./src/main/java/ /app\nRUN javac Main.java\nRUN native-image Main\n\nFROM alpine:3.15\nWORKDIR /app\nCOPY --from=0 /app/main /app/main\nCMD ./main\n</code></pre>\n<p>It throws an error <code>native-image_1  | /bin/sh: ./main: not found</code></p>\n"},{"tags":["java","android","amazon-web-services","android-studio","aws-amplify"],"answers":[{"tags":[],"owner":{"account_id":20360662,"reputation":101,"user_id":14935078,"display_name":"Juan Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663695371,"creation_date":1663695371,"answer_id":73790645,"question_id":72568573,"body_markdown":"    Amplify.DataStore.query(\r\n       Product.class,\r\n       items -&gt; {\r\n           while (items.hasNext()) {\r\n               Product item = items.next();\r\n               Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId());\r\n           }\r\n       },\r\n       failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\r\n);\r\n\r\n\r\nYou can check full doc here \r\nhttps://docs.amplify.aws/lib/datastore/data-access/q/platform/android/#create-and-update\r\n\r\nAnd some examples here\r\nhttps://github.com/enlearacademy/chatme-android-amplify\r\nhttps://aws.amazon.com/es/getting-started/hands-on/build-android-app-amplify/","title":"How to search data in aws amplify datastore using @searchable in android(java)?","body":"<pre><code>Amplify.DataStore.query(\n   Product.class,\n   items -&gt; {\n       while (items.hasNext()) {\n           Product item = items.next();\n           Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId());\n       }\n   },\n   failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\n</code></pre>\n<p>);</p>\n<p>You can check full doc here\n<a href=\"https://docs.amplify.aws/lib/datastore/data-access/q/platform/android/#create-and-update\" rel=\"nofollow noreferrer\">https://docs.amplify.aws/lib/datastore/data-access/q/platform/android/#create-and-update</a></p>\n<p>And some examples here\n<a href=\"https://github.com/enlearacademy/chatme-android-amplify\" rel=\"nofollow noreferrer\">https://github.com/enlearacademy/chatme-android-amplify</a>\n<a href=\"https://aws.amazon.com/es/getting-started/hands-on/build-android-app-amplify/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/es/getting-started/hands-on/build-android-app-amplify/</a></p>\n"}],"owner":{"account_id":25512083,"reputation":19,"user_id":19303537,"display_name":"ThinQ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663695371,"creation_date":1654829104,"question_id":72568573,"body_markdown":"I read this documentation:\r\nhttps://docs.amplify.aws/cli-legacy/graphql-transformer/searchable/#definition\r\nBut how to impliment the query in android studio using java.What are the methods of Amplify to get search query?","title":"How to search data in aws amplify datastore using @searchable in android(java)?","body":"<p>I read this documentation:\n<a href=\"https://docs.amplify.aws/cli-legacy/graphql-transformer/searchable/#definition\" rel=\"nofollow noreferrer\">https://docs.amplify.aws/cli-legacy/graphql-transformer/searchable/#definition</a>\nBut how to impliment the query in android studio using java.What are the methods of Amplify to get search query?</p>\n"},{"tags":["java","sql","sql-server","enums"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":2,"creation_date":1663669077,"post_id":73785087,"comment_id":130288994,"body_markdown":"Which dbms are you using?","body":"Which dbms are you using?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1663670432,"post_id":73785087,"comment_id":130289449,"body_markdown":"@jarlh SQL Server","body":"@jarlh SQL Server"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1663683305,"post_id":73785087,"comment_id":130294436,"body_markdown":"Don’t rely on ordinal values.  A developer may decide to add a new constant definition in the middle of the existing constants, which will immediately break all of those values.  Always store enum values as varchar data corresponding to enum constant names.  As for your descriptions, those belong in the application, not in a database.","body":"Don’t rely on ordinal values.  A developer may decide to add a new constant definition in the middle of the existing constants, which will immediately break all of those values.  Always store enum values as varchar data corresponding to enum constant names.  As for your descriptions, those belong in the application, not in a database."}],"answers":[{"tags":[],"owner":{"account_id":6027993,"reputation":126,"user_id":19785805,"display_name":"Alexander Kashpirovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663694998,"creation_date":1663676571,"answer_id":73786649,"question_id":73785087,"body_markdown":"I&#39;d good way, based on dictionary table ResultType. And you can build SQL reports with human readable name of types. Also using of table ResultType can provides same additional information, &#39;outdated&#39; type for example.\r\n\r\n```sql\r\nselect cr.*, ct.description \r\nfrom CandidateResult cr \r\njoin ResultType ct \r\non cr.result = ct.result \r\n;\r\n```\r\n","title":"Database enum fields","body":"<p>I'd good way, based on dictionary table ResultType. And you can build SQL reports with human readable name of types. Also using of table ResultType can provides same additional information, 'outdated' type for example.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select cr.*, ct.description \nfrom CandidateResult cr \njoin ResultType ct \non cr.result = ct.result \n;\n</code></pre>\n"}],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663695259,"creation_date":1663668862,"question_id":73785087,"body_markdown":"I&#39;m trying to simulate a Java Enum type in a Microsoft SQL Server table:\r\n\r\n    CREATE TABLE ResultType(\r\n        result TINYINT PRIMARY KEY,\r\n        description VARCHAR(30)\r\n    );\r\n\r\n    INSERT INTO ResultType\r\n    VALUES (0, &#39;Pass with distinction&#39;),\r\n           (1, &#39;Pass with credit&#39;),\r\n           (2, &#39;Pass&#39;),\r\n           (3, &#39;Fail first attempt),\r\n           (4, &#39;Fail and debar&#39;);\r\n\r\n    CREATE TABLE CandidateResult(\r\n        candidate_id INT PRIMARY KEY,\r\n        candidate_name NVARCHAR(100),\r\n        result TINYINT References ResultType(result)\r\n    )\r\n\r\nNow, what is the best practice for ensuring that the ResultType table is consistent with a Java ResultType enum?\r\n\r\n    enum ResultType { DISTINCTION, CREDIT, PASS, FAIL, DEBAR };\r\n    ...\r\n    ResultType result;\r\n    if (mark &gt; 90) {\r\n        result = ResultType.DISTINCTION;\r\n    } else if (mark &gt; 70)\r\n        result = ResultType.CREDIT;\r\n    }\r\n    etc...\r\n    preparedStatement.setInt(1, result.ordinal)\r\n\r\nThe above doesn&#39;t look robust enough to me: I have to manually and constantly ensure that the `enum` agrees with the values in the ResultType table. How should I ensure this correspondence always holds, but without creating a performance overhead?","title":"Database enum fields","body":"<p>I'm trying to simulate a Java Enum type in a Microsoft SQL Server table:</p>\n<pre><code>CREATE TABLE ResultType(\n    result TINYINT PRIMARY KEY,\n    description VARCHAR(30)\n);\n\nINSERT INTO ResultType\nVALUES (0, 'Pass with distinction'),\n       (1, 'Pass with credit'),\n       (2, 'Pass'),\n       (3, 'Fail first attempt),\n       (4, 'Fail and debar');\n\nCREATE TABLE CandidateResult(\n    candidate_id INT PRIMARY KEY,\n    candidate_name NVARCHAR(100),\n    result TINYINT References ResultType(result)\n)\n</code></pre>\n<p>Now, what is the best practice for ensuring that the ResultType table is consistent with a Java ResultType enum?</p>\n<pre><code>enum ResultType { DISTINCTION, CREDIT, PASS, FAIL, DEBAR };\n...\nResultType result;\nif (mark &gt; 90) {\n    result = ResultType.DISTINCTION;\n} else if (mark &gt; 70)\n    result = ResultType.CREDIT;\n}\netc...\npreparedStatement.setInt(1, result.ordinal)\n</code></pre>\n<p>The above doesn't look robust enough to me: I have to manually and constantly ensure that the <code>enum</code> agrees with the values in the ResultType table. How should I ensure this correspondence always holds, but without creating a performance overhead?</p>\n"},{"tags":["java","properties","apache-poi","document"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1608734600,"post_id":65423214,"comment_id":115670335,"body_markdown":"If you set a language using Word, save the file, rename the `.docx` to `.zip` and unpack, which xml file inside the zip holds the language setting?","body":"If you set a language using Word, save the file, rename the <code>.docx</code> to <code>.zip</code> and unpack, which xml file inside the zip holds the language setting?"},{"owner":{"account_id":18305570,"reputation":21,"user_id":13329467,"display_name":"AnasBn"},"score":0,"creation_date":1608736367,"post_id":65423214,"comment_id":115671080,"body_markdown":"the `docProps/core.xml` contains the language: ```&lt;dc:language&gt;en-GB&lt;/dc:language&gt;```","body":"the <code>docProps&#47;core.xml</code> contains the language: <code>&lt;dc:language&gt;en-GB&lt;&#47;dc:language&gt;</code>"},{"owner":{"account_id":18305570,"reputation":21,"user_id":13329467,"display_name":"AnasBn"},"score":0,"creation_date":1608736440,"post_id":65423214,"comment_id":115671112,"body_markdown":"Btw the language is set to the system language not the one I chose in the document !!","body":"Btw the language is set to the system language not the one I chose in the document !!"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1608737414,"post_id":65423214,"comment_id":115671522,"body_markdown":"It&#39;s not ideal but I think you can get at set that via [the underlying properties](https://poi.apache.org/apidocs/4.0/org/apache/poi/ooxml/POIXMLProperties.CoreProperties.html#getUnderlyingProperties--)","body":"It&#39;s not ideal but I think you can get at set that via <a href=\"https://poi.apache.org/apidocs/4.0/org/apache/poi/ooxml/POIXMLProperties.CoreProperties.html#getUnderlyingProperties--\" rel=\"nofollow noreferrer\">the underlying properties</a>"}],"owner":{"account_id":18305570,"reputation":21,"user_id":13329467,"display_name":"AnasBn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663695155,"creation_date":1608721352,"question_id":65423214,"body_markdown":"I&#39;ve extracted the `POIXMLProperties` from my document(template created locally) and I see the language property exist with a value (the system language) but I can&#39;t modify it as the `POIXMLProperties` don&#39;t let you do it as described in the [api doc](https://poi.apache.org/apidocs/4.0/org/apache/poi/ooxml/POIXMLProperties.CoreProperties.html).\r\nHere is the full code:\r\n```\r\npublic InputStream updateMetadata(String extension,\r\n                                    InputStream source,\r\n                                    Date created,\r\n                                    String creator,\r\n                                    String language) throws IOException {\r\n    \r\nFile tempFile = File.createTempFile(&quot;editor-document&quot;, &quot;.tmp&quot;);\r\n    try (POIXMLDocument document = getDocument(source, extension);\r\n         FileOutputStream fos = new FileOutputStream(tempFile))\r\n    {\r\n      POIXMLProperties props = document.getProperties();\r\n      POIXMLProperties.CoreProperties coreProps = props.getCoreProperties();\r\n      coreProps.setCreator(creator);\r\n      coreProps.setCreated(metadataFormat.format(created));\r\n      document.write(fos);\r\n    }\r\n}\r\n```\r\n\r\nIs there any solution to change the language property, please?\r\n\r\n\r\nNote that I set the doc template language to none (from tools &gt; options inside the doc)\r\n","title":"Can&#39;t update language of doc file","body":"<p>I've extracted the <code>POIXMLProperties</code> from my document(template created locally) and I see the language property exist with a value (the system language) but I can't modify it as the <code>POIXMLProperties</code> don't let you do it as described in the <a href=\"https://poi.apache.org/apidocs/4.0/org/apache/poi/ooxml/POIXMLProperties.CoreProperties.html\" rel=\"nofollow noreferrer\">api doc</a>.\nHere is the full code:</p>\n<pre><code>public InputStream updateMetadata(String extension,\n                                    InputStream source,\n                                    Date created,\n                                    String creator,\n                                    String language) throws IOException {\n    \nFile tempFile = File.createTempFile(&quot;editor-document&quot;, &quot;.tmp&quot;);\n    try (POIXMLDocument document = getDocument(source, extension);\n         FileOutputStream fos = new FileOutputStream(tempFile))\n    {\n      POIXMLProperties props = document.getProperties();\n      POIXMLProperties.CoreProperties coreProps = props.getCoreProperties();\n      coreProps.setCreator(creator);\n      coreProps.setCreated(metadataFormat.format(created));\n      document.write(fos);\n    }\n}\n</code></pre>\n<p>Is there any solution to change the language property, please?</p>\n<p>Note that I set the doc template language to none (from tools &gt; options inside the doc)</p>\n"},{"tags":["java","import","enums"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1519734507,"post_id":49008101,"comment_id":85021775,"body_markdown":"Your error means that you should also import `mypackage.ShapeSize` along with statically importing its values.","body":"Your error means that you should also import <code>mypackage.ShapeSize</code> along with statically importing its values."},{"owner":{"account_id":13032347,"reputation":91,"user_id":9418357,"display_name":"citizenoftheworld91"},"score":0,"creation_date":1519736038,"post_id":49008101,"comment_id":85022650,"body_markdown":"@M.Prokhorov Indeed. I was too invested in my trials-and-errors that I didn&#39;t even see your comment.","body":"@M.Prokhorov Indeed. I was too invested in my trials-and-errors that I didn&#39;t even see your comment."}],"answers":[{"tags":[],"owner":{"account_id":3088217,"reputation":427,"user_id":3053097,"display_name":"AntMor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519733068,"creation_date":1519733068,"answer_id":49008277,"question_id":49008101,"body_markdown":"You can use:\r\n\r\n    import static mypackage.ShapeColor.PURPLE;\r\n    import static mypackage.ShapeSize.MEDIUM;\r\n","title":"How to static-import enums residing in separate files in Java?","body":"<p>You can use:</p>\n\n<pre><code>import static mypackage.ShapeColor.PURPLE;\nimport static mypackage.ShapeSize.MEDIUM;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13032347,"reputation":91,"user_id":9418357,"display_name":"citizenoftheworld91"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1519735211,"creation_date":1519735211,"answer_id":49008952,"question_id":49008101,"body_markdown":"Figured it out!\r\nMoved both `enum` source files to sub-folder called `mypackage` and also normal-`import`ed them in addition to `import static` their values. Shape class now starts like this:\r\n\r\n    import mypackage.ShapeSize;\r\n    import mypackage.ShapeColor;\r\n    import static mypackage.ShapeSize.*;\r\n    import static mypackage.ShapeColor.*;\r\n\r\n**EDIT:**\r\nActually, no need to move the `enum` source files. Just had to standard-`import` them.","title":"How to static-import enums residing in separate files in Java?","body":"<p>Figured it out!\nMoved both <code>enum</code> source files to sub-folder called <code>mypackage</code> and also normal-<code>import</code>ed them in addition to <code>import static</code> their values. Shape class now starts like this:</p>\n\n<pre><code>import mypackage.ShapeSize;\nimport mypackage.ShapeColor;\nimport static mypackage.ShapeSize.*;\nimport static mypackage.ShapeColor.*;\n</code></pre>\n\n<p><strong>EDIT:</strong>\nActually, no need to move the <code>enum</code> source files. Just had to standard-<code>import</code> them.</p>\n"}],"owner":{"account_id":13032347,"reputation":91,"user_id":9418357,"display_name":"citizenoftheworld91"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6139,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49008952,"answer_count":2,"score":4,"last_activity_date":1663695143,"creation_date":1519732522,"question_id":49008101,"body_markdown":"Basically, here&#39;s the gist of my code:\r\n\r\n    // File: ShapeColor.java\r\n    package mypackage;\r\n\r\n    public enum ShapeColor\r\n    {\r\n        MAUVE,\r\n        PURPLE,\r\n        VIOLET;\r\n    }\r\n\r\n    // File: ShapeSize.java\r\n    package mypackage;\r\n\r\n    public enum ShapeSize\r\n    {\r\n        TINY,\r\n        SMALL,\r\n        MEDIUM,\r\n        LARGE,\r\n        HUGE,\r\n        COLOSSAL;\r\n    }\r\n\r\n    // File: Shape.java\r\n    import static mypackage.ShapeSize.*;\r\n    import static mypackage.ShapeColor.*;\r\n\r\n    public class Shape\r\n    {\r\n        private ShapeSize size;\r\n        private ShapeColor color;\r\n\r\n        public Shape()\r\n        {\r\n            this(ShapeSize.MEDIUM, ShapeColor.PURPLE);\r\n        }\r\n\r\n        public Shape(ShapeSize ss, ShapeColor sc)\r\n        {\r\n            this.size = ss;\r\n            this.color = sc;\r\n        }\r\n    }\r\n\r\nHow can I `import static` my `enum` definitions so I can access the `enum` values without qualifying them? I have all my .java source files slapped in one directory and I&#39;m compiling from the command line. I have no idea about packages and how to &quot;organize&quot; my source files in directories (or if I even should do so). I&#39;ve tried reading about these concepts but all that did was get me more confused. I learn much better through examples and demo code than by reading documentation, unfortunately.\r\n\r\n**EDIT:**\r\n\r\nAfter adding `package mypackage;` to the `enum` files and `import static mypackage.*` to the `class` file. I get the following errors:\r\n\r\n```java\r\n.\\ShapeSize.java:4: error: duplicate class: mypackage.ShapeSize\r\npublic enum ShapeSize\r\n       ^\r\nShape.java:7: error: cannot access ShapeSize\r\n    private ShapeSize size;\r\n            ^\r\n  bad source file: .\\ShapeSize.java\r\n    file does not contain class ShapeSize\r\n    Please remove or make sure it appears in the correct subdirectory of the sourcepath.\r\n```","title":"How to static-import enums residing in separate files in Java?","body":"<p>Basically, here's the gist of my code:</p>\n<pre><code>// File: ShapeColor.java\npackage mypackage;\n\npublic enum ShapeColor\n{\n    MAUVE,\n    PURPLE,\n    VIOLET;\n}\n\n// File: ShapeSize.java\npackage mypackage;\n\npublic enum ShapeSize\n{\n    TINY,\n    SMALL,\n    MEDIUM,\n    LARGE,\n    HUGE,\n    COLOSSAL;\n}\n\n// File: Shape.java\nimport static mypackage.ShapeSize.*;\nimport static mypackage.ShapeColor.*;\n\npublic class Shape\n{\n    private ShapeSize size;\n    private ShapeColor color;\n\n    public Shape()\n    {\n        this(ShapeSize.MEDIUM, ShapeColor.PURPLE);\n    }\n\n    public Shape(ShapeSize ss, ShapeColor sc)\n    {\n        this.size = ss;\n        this.color = sc;\n    }\n}\n</code></pre>\n<p>How can I <code>import static</code> my <code>enum</code> definitions so I can access the <code>enum</code> values without qualifying them? I have all my .java source files slapped in one directory and I'm compiling from the command line. I have no idea about packages and how to &quot;organize&quot; my source files in directories (or if I even should do so). I've tried reading about these concepts but all that did was get me more confused. I learn much better through examples and demo code than by reading documentation, unfortunately.</p>\n<p><strong>EDIT:</strong></p>\n<p>After adding <code>package mypackage;</code> to the <code>enum</code> files and <code>import static mypackage.*</code> to the <code>class</code> file. I get the following errors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.\\ShapeSize.java:4: error: duplicate class: mypackage.ShapeSize\npublic enum ShapeSize\n       ^\nShape.java:7: error: cannot access ShapeSize\n    private ShapeSize size;\n            ^\n  bad source file: .\\ShapeSize.java\n    file does not contain class ShapeSize\n    Please remove or make sure it appears in the correct subdirectory of the sourcepath.\n</code></pre>\n"},{"tags":["java","spring","tomcat","geowebcache"],"owner":{"account_id":13769677,"reputation":181,"user_id":9937471,"display_name":"Luis Carlos Cruz Castillo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663695020,"creation_date":1663695020,"question_id":73790560,"body_markdown":"I&#39;m using the GeoWebCache java app to display cached map images. I looked into the browser console and found in the response a 500 error, telling that there was a BeanInstantiationException due to a nested ClassCastException and the image does not displays. I went to the catalina.out logs of Tomcat and found the following:\r\n```\r\n20 sep 12:11:34 ERROR [servlet.DispatcherServlet] - Context initialization failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;gwcRuntimeStats&#39; defined in ServletContext resource [/WEB-INF/geowebcache-core-context.xml]: Instanti\r\nation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.geowebcache.stats.RuntimeStats]: Constructor threw exce\r\nption; nested exception is java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:254)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:925)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:835)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:221)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:729)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:381)\r\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:402)\r\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:316)\r\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:282)\r\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:126)\r\n        at javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\r\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5176)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5460)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\r\n        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1113)\r\n        at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1671)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.geowebcache.stats.RuntimeStats]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:115)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:248)\r\n        ... 35 more\r\nCaused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\r\n        at org.geowebcache.stats.RuntimeStats.&lt;init&gt;(RuntimeStats.java:88)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:100)\r\n        ... 37 more\r\n\r\n```\r\nThis is the webpage where I&#39;m using the GeoWebCache app http://ovie.mpiochih.gob.mx/#","title":"GeoWebCache does not display map","body":"<p>I'm using the GeoWebCache java app to display cached map images. I looked into the browser console and found in the response a 500 error, telling that there was a BeanInstantiationException due to a nested ClassCastException and the image does not displays. I went to the catalina.out logs of Tomcat and found the following:</p>\n<pre><code>20 sep 12:11:34 ERROR [servlet.DispatcherServlet] - Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gwcRuntimeStats' defined in ServletContext resource [/WEB-INF/geowebcache-core-context.xml]: Instanti\nation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.geowebcache.stats.RuntimeStats]: Constructor threw exce\nption; nested exception is java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:254)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:925)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:835)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:221)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:729)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:381)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:402)\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:316)\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:282)\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:126)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:160)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5176)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5460)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\n        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1113)\n        at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1671)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.geowebcache.stats.RuntimeStats]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:115)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:248)\n        ... 35 more\nCaused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\n        at org.geowebcache.stats.RuntimeStats.&lt;init&gt;(RuntimeStats.java:88)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:100)\n        ... 37 more\n\n</code></pre>\n<p>This is the webpage where I'm using the GeoWebCache app <a href=\"http://ovie.mpiochih.gob.mx/#\" rel=\"nofollow noreferrer\">http://ovie.mpiochih.gob.mx/#</a></p>\n"},{"tags":["java","spring","spring-boot","java-8","java-11"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1663688541,"post_id":73789326,"comment_id":130296562,"body_markdown":"Springboot is not a data framework. Do you mean spring-data-jpa or JPA or JdbcTemplate or JDBC?","body":"Springboot is not a data framework. Do you mean spring-data-jpa or JPA or JdbcTemplate or JDBC?"},{"owner":{"account_id":3272354,"reputation":348,"user_id":2755407,"display_name":"user2755407"},"score":0,"creation_date":1663688713,"post_id":73789326,"comment_id":130296638,"body_markdown":"spring-data-jpa","body":"spring-data-jpa"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1663688737,"post_id":73789326,"comment_id":130296649,"body_markdown":"Ok. Figure out the magic method name and use projection.","body":"Ok. Figure out the magic method name and use projection."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663739772,"post_id":73789326,"comment_id":130307413,"body_markdown":"1. Write query, 2. map to object, 3 return collection. Well actually there is no 3. If you have JPA you can do this with a JPQL and project but if you have JPA you already have model objects for A and B.","body":"1. Write query, 2. map to object, 3 return collection. Well actually there is no 3. If you have JPA you can do this with a JPQL and project but if you have JPA you already have model objects for A and B."}],"answers":[{"tags":[],"owner":{"account_id":22450223,"reputation":41,"user_id":16653647,"display_name":"Maneesha Randeniya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663694976,"creation_date":1663694976,"answer_id":73790553,"question_id":73789326,"body_markdown":"Yes, first you have to create a model class which includes the required details as the attributes. \r\n\r\n \r\n\r\n       @SqlResultSetMapping(\r\n            name = &quot;ResultMap&quot;,\r\n            classes = @ConstructorResult(\r\n                    targetClass = A.class,\r\n                    columns = {\r\n                            @ColumnResult(name = &quot;x_id&quot;, type = Long.class),\r\n                            @ColumnResult(name = &quot;emp_id&quot;, type = Long.class),\r\n                            @ColumnResult(name = &quot;company_id&quot;, type = Long.class),\r\n                            @ColumnResult(name = &quot;name&quot;, type = String.class)\r\n                    }\r\n            )\r\n    )\r\n    public class ResultMap {\r\n        private BigInteger x_id;\r\n        private BigInteger emp_id;\r\n        private BigInteger company_id;\r\n        private String name;\r\n    \r\n        public ResultMap(BigInteger x_id, BigInteger emp_id, BigInteger company_id, String name) {\r\n            this.x_id = x_id;\r\n            this.emp_id = emp_id;\r\n            this.company_id = company_id;\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n\r\nThen, write a custom query in repository class to get required data. Return type will be List of Tuple.\r\n\r\n    @Query(\r\n            value = &quot;SELECT a.x_id, a.emp_id, b.company_id, a.name \\n&quot; +\r\n                    &quot;FROM A as a, B as b \\n&quot; +\r\n                    &quot;WHERE a.emp_id = b.emp_id&quot;,\r\n            nativeQuery = true)\r\n    List&lt;Tuple&gt; findResultMaps();\r\n\r\nFinally Map this List of Tuple to List of ResultMap where ever it used in.\r\n\r\n    List&lt;Tuple&gt; resultsMapTuples = resultMapDao.findResultMaps();\r\n        List&lt;ResultMap&gt; resultMaps = resultsMapTuples.stream()\r\n                .map(t -&gt; new ResultMap(\r\n                        t.get(&quot;x_id&quot;, BigInteger.class),\r\n                        t.get(&quot;emp_id&quot;, BigInteger.class),\r\n                        t.get(&quot;company_id&quot;, BigInteger.class)\r\n                        t.get(&quot;name&quot;, String.class)\r\n                )).collect(Collectors.toList());\r\n\r\n`resultMapDao` is the repository class that `findResultMaps()` method written in.\r\n\r\n","title":"Best way to fetch data in SpringBoot by query from two tables","body":"<p>Yes, first you have to create a model class which includes the required details as the attributes.</p>\n<pre><code>   @SqlResultSetMapping(\n        name = &quot;ResultMap&quot;,\n        classes = @ConstructorResult(\n                targetClass = A.class,\n                columns = {\n                        @ColumnResult(name = &quot;x_id&quot;, type = Long.class),\n                        @ColumnResult(name = &quot;emp_id&quot;, type = Long.class),\n                        @ColumnResult(name = &quot;company_id&quot;, type = Long.class),\n                        @ColumnResult(name = &quot;name&quot;, type = String.class)\n                }\n        )\n)\npublic class ResultMap {\n    private BigInteger x_id;\n    private BigInteger emp_id;\n    private BigInteger company_id;\n    private String name;\n\n    public ResultMap(BigInteger x_id, BigInteger emp_id, BigInteger company_id, String name) {\n        this.x_id = x_id;\n        this.emp_id = emp_id;\n        this.company_id = company_id;\n        this.name = name;\n    }\n}\n</code></pre>\n<p>Then, write a custom query in repository class to get required data. Return type will be List of Tuple.</p>\n<pre><code>@Query(\n        value = &quot;SELECT a.x_id, a.emp_id, b.company_id, a.name \\n&quot; +\n                &quot;FROM A as a, B as b \\n&quot; +\n                &quot;WHERE a.emp_id = b.emp_id&quot;,\n        nativeQuery = true)\nList&lt;Tuple&gt; findResultMaps();\n</code></pre>\n<p>Finally Map this List of Tuple to List of ResultMap where ever it used in.</p>\n<pre><code>List&lt;Tuple&gt; resultsMapTuples = resultMapDao.findResultMaps();\n    List&lt;ResultMap&gt; resultMaps = resultsMapTuples.stream()\n            .map(t -&gt; new ResultMap(\n                    t.get(&quot;x_id&quot;, BigInteger.class),\n                    t.get(&quot;emp_id&quot;, BigInteger.class),\n                    t.get(&quot;company_id&quot;, BigInteger.class)\n                    t.get(&quot;name&quot;, String.class)\n            )).collect(Collectors.toList());\n</code></pre>\n<p><code>resultMapDao</code> is the repository class that <code>findResultMaps()</code> method written in.</p>\n"}],"owner":{"account_id":3272354,"reputation":348,"user_id":2755407,"display_name":"user2755407"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663694976,"creation_date":1663688358,"question_id":73789326,"body_markdown":"I have two tables:\r\n\r\n    A : x_id, emp_id, name, age\r\n    \r\n    \r\n    B: emp_id, company_id, location\r\n\r\nI want to fetch data which contain columns &#39;x_id&#39;, &#39;emp_id&#39;, &#39;company_id&#39;, &#39;name&#39; joining tables &#39;A&#39; and &#39;B&#39; using emp_id..What is the best way to get it?\r\n\r\nIs it possible to fetch data without creating beans mapping A and B like\r\nCan I create a bean &#39;Result&#39; containing variables &#39;x_id&#39;, &#39;emp_id&#39;, &#39;company_id&#39;, &#39;name&#39; and populate it and get list of &#39;Result&#39; beans as my output?","title":"Best way to fetch data in SpringBoot by query from two tables","body":"<p>I have two tables:</p>\n<pre><code>A : x_id, emp_id, name, age\n\n\nB: emp_id, company_id, location\n</code></pre>\n<p>I want to fetch data which contain columns 'x_id', 'emp_id', 'company_id', 'name' joining tables 'A' and 'B' using emp_id..What is the best way to get it?</p>\n<p>Is it possible to fetch data without creating beans mapping A and B like\nCan I create a bean 'Result' containing variables 'x_id', 'emp_id', 'company_id', 'name' and populate it and get list of 'Result' beans as my output?</p>\n"},{"tags":["java","maven","azure-devops","testng"],"comments":[{"owner":{"account_id":26393051,"reputation":1,"user_id":20044654,"display_name":"Meg"},"score":0,"creation_date":1663695285,"post_id":73790467,"comment_id":130298861,"body_markdown":"I was unable to add pom.xml code not sure why","body":"I was unable to add pom.xml code not sure why"},{"owner":{"account_id":26393051,"reputation":1,"user_id":20044654,"display_name":"Meg"},"score":0,"creation_date":1663695735,"post_id":73790467,"comment_id":130299022,"body_markdown":"&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.0.0-M7&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;suiteXmlFiles&gt;\n        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\n    &lt;/suiteXmlFiles&gt;\n&lt;/configuration&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n   &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n   &lt;version&gt;3.0.0-M7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n    &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M7&lt;/version&gt;\n&lt;/dependency&gt;","body":"&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.0-M7&lt;/version&gt; &lt;configuration&gt;     &lt;suiteXmlFiles&gt;         &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;     &lt;/suiteXmlFiles&gt; &lt;/configuration&gt; &lt;dependencies&gt; &lt;dependency&gt;    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;    &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;    &lt;version&gt;3.0.0-M7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt;     &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;     &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;     &lt;version&gt;3.0.0-M7&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1663696310,"post_id":73790467,"comment_id":130299227,"body_markdown":"Remove the manual addition of provider: `surefire-junit4` ... and you are using TestNG and not junit 4.X?","body":"Remove the manual addition of provider: <code>surefire-junit4</code> ... and you are using TestNG and not junit 4.X?"}],"owner":{"account_id":26393051,"reputation":1,"user_id":20044654,"display_name":"Meg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663694752,"creation_date":1663694521,"question_id":73790467,"body_markdown":"Not able to trigger TestNG testcases in Azure DevOps pipeline it is failing with maven-surefire-plugin, how ever it is working in IntelliJ local\r\n---------------------------------------------------------------------------------------\r\n\r\n   \r\n **This is the error Message I&#39;m getting when I trigger the pipeline** \r\n\r\n-------------------------------------------------------------------------\r\n-------------------------------------------------------------------------\r\n        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M7:test (default-test) on project community: \r\n        [ERROR] \r\n        [ERROR] Please refer to D:\\a\\1\\s\\target\\surefire-reports for the individual test results.\r\n        [ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n        [ERROR] Exception in provider\r\n        [ERROR] org.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\r\n        \r\n            [ERROR] Caused by: org.testng.TestNGException: \r\n            [ERROR] Cannot find class in classpath: WfmsgFunctionalitiesSmokeTestcases.WfmsgSimpleLoginTest\r\n            [ERROR] \tat org.testng.xml.XmlClass.loadClass(XmlClass.java:81)\r\n            [ERROR] \tat org.testng.xml.XmlClass.init(XmlClass.java:73)\r\n            [ERROR] \tat org.testng.xml.XmlClass.&lt;init&gt;(XmlClass.java:59)\r\n            [ERROR] \tat org.testng.xml.TestNGContentHandler.startElement(TestNGContentHandler.java:548)\r\n            [ERROR] \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\r\n            [ERROR] \tat com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:183)\r\n            [ERROR] \tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.emptyElement(XMLDTDValidator.java:765)\r\n\r\n\r\n**This is my pipeline yaml that is used while creating maven pipeline**\r\n\r\n \r\n        trigger:\r\n        - master\r\n        \r\n        pool:\r\n          vmImage: windows-latest\r\n        \r\n        steps:\r\n        - task: Maven@3\r\n          inputs:\r\n            mavenPomFile: &#39;pom.xml&#39;\r\n            goals: &#39;test&#39;\r\n            publishJUnitResults: true\r\n            testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n            javaHomeOption: &#39;JDKVersion&#39;\r\n            jdkVersionOption: 1.8\r\n            jdkArchitectureOption: &#39;x64&#39;\r\n            mavenVersionOption: &#39;-Xmx3072m&#39;\r\n            mavenAuthenticateFeed: false\r\n            effectivePomSkip: false\r\n            sonarQubeRunAnalysis: false\r\n","title":"Getting ERROR Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M7:test (default-test)on project : in Azure DevOps Pipeline","body":"<h2>Not able to trigger TestNG testcases in Azure DevOps pipeline it is failing with maven-surefire-plugin, how ever it is working in IntelliJ local</h2>\n<p><strong>This is the error Message I'm getting when I trigger the pipeline</strong></p>\n<hr />\n<hr />\n<pre><code>    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M7:test (default-test) on project community: \n    [ERROR] \n    [ERROR] Please refer to D:\\a\\1\\s\\target\\surefire-reports for the individual test results.\n    [ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n    [ERROR] Exception in provider\n    [ERROR] org.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\n    \n        [ERROR] Caused by: org.testng.TestNGException: \n        [ERROR] Cannot find class in classpath: WfmsgFunctionalitiesSmokeTestcases.WfmsgSimpleLoginTest\n        [ERROR]     at org.testng.xml.XmlClass.loadClass(XmlClass.java:81)\n        [ERROR]     at org.testng.xml.XmlClass.init(XmlClass.java:73)\n        [ERROR]     at org.testng.xml.XmlClass.&lt;init&gt;(XmlClass.java:59)\n        [ERROR]     at org.testng.xml.TestNGContentHandler.startElement(TestNGContentHandler.java:548)\n        [ERROR]     at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\n        [ERROR]     at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:183)\n        [ERROR]     at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.emptyElement(XMLDTDValidator.java:765)\n</code></pre>\n<p><strong>This is my pipeline yaml that is used while creating maven pipeline</strong></p>\n<pre><code>    trigger:\n    - master\n    \n    pool:\n      vmImage: windows-latest\n    \n    steps:\n    - task: Maven@3\n      inputs:\n        mavenPomFile: 'pom.xml'\n        goals: 'test'\n        publishJUnitResults: true\n        testResultsFiles: '**/surefire-reports/TEST-*.xml'\n        javaHomeOption: 'JDKVersion'\n        jdkVersionOption: 1.8\n        jdkArchitectureOption: 'x64'\n        mavenVersionOption: '-Xmx3072m'\n        mavenAuthenticateFeed: false\n        effectivePomSkip: false\n        sonarQubeRunAnalysis: false\n</code></pre>\n"},{"tags":["java","regex","intellij-idea"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1490613552,"post_id":43044918,"comment_id":73174022,"body_markdown":"The regex engine sees `[` as the start of a character class, so if you mean the literal `[` character, it needs escaping. Presumably it won&#39;t read `]` as the end of a character class unless you are in the middle of defining a character class, so it does not need escaping in this situation.","body":"The regex engine sees <code>[</code> as the start of a character class, so if you mean the literal <code>[</code> character, it needs escaping. Presumably it won&#39;t read <code>]</code> as the end of a character class unless you are in the middle of defining a character class, so it does not need escaping in this situation."}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1663694656,"creation_date":1490613592,"answer_id":43044987,"question_id":43044918,"body_markdown":"The `]` is considered metacharacter **only when it is used to close [character set][1]** `[...]`.\r\n\r\nIf before `]` there is no unclosed and unescaped opening square bracket `[` then `]` is as simple literal which doesn&#39;t require escaping (but *allows* it, which is why your IDE gives you *&quot;warning&quot;* instead of *error*).\r\n\r\n---\r\nOnly place when you may want to escape `]` is *inside character set* when you want regex to treat is as simple symbol instead of metacharacter which is *closing* character set. \r\n\r\nFor instance regex like `&quot;[ab\\\\]cd]&quot;` represents `a` or `b` or `]` or `c` or `d`.\r\n\r\nBUT similar regex can be also written like `[a-d]|]`. Notice that last `]` is not &quot;special&quot; because there is no *opened* character class before it. So it is considered as literal -  character without special meaning, which means it doesn&#39;t require escaping.\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/charclass.html","title":"Why closing square bracket &quot;]&quot; doesn&#39;t require escaping in regex?","body":"<p>The <code>]</code> is considered metacharacter <strong>only when it is used to close <a href=\"https://www.regular-expressions.info/charclass.html\" rel=\"nofollow noreferrer\">character set</a></strong> <code>[...]</code>.</p>\n<p>If before <code>]</code> there is no unclosed and unescaped opening square bracket <code>[</code> then <code>]</code> is as simple literal which doesn't require escaping (but <em>allows</em> it, which is why your IDE gives you <em>&quot;warning&quot;</em> instead of <em>error</em>).</p>\n<hr />\n<p>Only place when you may want to escape <code>]</code> is <em>inside character set</em> when you want regex to treat is as simple symbol instead of metacharacter which is <em>closing</em> character set.</p>\n<p>For instance regex like <code>&quot;[ab\\\\]cd]&quot;</code> represents <code>a</code> or <code>b</code> or <code>]</code> or <code>c</code> or <code>d</code>.</p>\n<p>BUT similar regex can be also written like <code>[a-d]|]</code>. Notice that last <code>]</code> is not &quot;special&quot; because there is no <em>opened</em> character class before it. So it is considered as literal -  character without special meaning, which means it doesn't require escaping.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1633200430,"creation_date":1490613607,"answer_id":43044993,"question_id":43044918,"body_markdown":"The `]` symbol is not a special regex operator outside the character class if there is no corresponding unescaped `[` before it. Only special characters require escaping. A `[` is a special regex operator outside a character class (as it may mark the starting point of a character class). Once the Java regular expression engine sees an unescaped `[` in the pattern, it knows there must be a `]` to close the character class ahead. Whether it is escaped or not, it does not matter for the engine. If there is no opening `[` in the expression, the `]` is treated as a mere literal `]` symbol. So, `[abc]` will match `a`, `b` or `c`, and `\\[abc]` or `\\[abc\\]` will match `[abc]` literal character sequence.\r\n\r\nSo, the `[` should be escaped always, and `]` does not have to be escaped *outside a character class*.\r\n\r\nWhen used *inside a character class*, both `[` and `]` must be escaped inside a Java regular expression as they may form intersection/subtraction patterns, *unless* the `]` appears at the beginning of a character class (i.e. `&quot;[a]&quot;.replaceAll(&quot;[]\\\\[]&quot;, &quot;&quot;)` [returns][1] `a`).\r\n\r\n**Other regex flavors**\r\n\r\n[tag:icu] [tag:onigmo] - In ICU and Onigmo regex flavor, `]` behaves the same as in Java regex flavor. Languages affected: [tag:swift], [tag:ruby], [tag:r] (*`stringr`*), [tag:kotlin], [tag:groovy].\r\n\r\n[tag:pcre] [tag:boost] [tag:.net] [tag:re2] [tag:python] [tag:posix] - In Boost, PCRE, `]` is not a special char (i.e. needs no escaping) outside a character class, and is a special char (=needs escaping) inside a character class (where it does not need escaping only if it is the first char in the character class.) It is not an error to escape it everywhere where it is supposted to match a literal `]` char. Languages/tools affected: [tag:php], [tag:perl], [tag:c#]/[tag:vb.net]/etc., [tag:python], [tag:sed], [tag:grep], [tag:awk], [tag:elixir], [tag:R] (both default base R TRE and PCRE enabled with `&quot;perl=TRUE&quot;`), [tag:tcl], [tag:google-sheets].\r\n\r\n[tag:ECMAScript] - In ECMAScript flavors, `]` is not special outside a character class, while `[` is special outside a character class. Inside a character class, `]` must ALWAYS be escaped, even if it is the first char in the character class. `[` inside a character class is not special, but escaping it is an error if the regexp is compiled with the `/u` flag (in JavaScript). So, be careful here. Languages affected: [tag:JavaScript], [tag:Dart], [tag:C++], [tag:VBA], [tag:google-apps-script] (which uses JavaScript).\r\n\r\n\r\n  [1]: https://ideone.com/q9OGTm","title":"Why closing square bracket &quot;]&quot; doesn&#39;t require escaping in regex?","body":"<p>The <code>]</code> symbol is not a special regex operator outside the character class if there is no corresponding unescaped <code>[</code> before it. Only special characters require escaping. A <code>[</code> is a special regex operator outside a character class (as it may mark the starting point of a character class). Once the Java regular expression engine sees an unescaped <code>[</code> in the pattern, it knows there must be a <code>]</code> to close the character class ahead. Whether it is escaped or not, it does not matter for the engine. If there is no opening <code>[</code> in the expression, the <code>]</code> is treated as a mere literal <code>]</code> symbol. So, <code>[abc]</code> will match <code>a</code>, <code>b</code> or <code>c</code>, and <code>\\[abc]</code> or <code>\\[abc\\]</code> will match <code>[abc]</code> literal character sequence.</p>\n<p>So, the <code>[</code> should be escaped always, and <code>]</code> does not have to be escaped <em>outside a character class</em>.</p>\n<p>When used <em>inside a character class</em>, both <code>[</code> and <code>]</code> must be escaped inside a Java regular expression as they may form intersection/subtraction patterns, <em>unless</em> the <code>]</code> appears at the beginning of a character class (i.e. <code>&quot;[a]&quot;.replaceAll(&quot;[]\\\\[]&quot;, &quot;&quot;)</code> <a href=\"https://ideone.com/q9OGTm\" rel=\"nofollow noreferrer\">returns</a> <code>a</code>).</p>\n<p><strong>Other regex flavors</strong></p>\n<p><a href=\"/questions/tagged/icu\" class=\"post-tag\" title=\"show questions tagged &#39;icu&#39;\" rel=\"tag\">icu</a> <a href=\"/questions/tagged/onigmo\" class=\"post-tag\" title=\"show questions tagged &#39;onigmo&#39;\" rel=\"tag\">onigmo</a> - In ICU and Onigmo regex flavor, <code>]</code> behaves the same as in Java regex flavor. Languages affected: <a href=\"/questions/tagged/swift\" class=\"post-tag\" title=\"show questions tagged &#39;swift&#39;\" rel=\"tag\">swift</a>, <a href=\"/questions/tagged/ruby\" class=\"post-tag\" title=\"show questions tagged &#39;ruby&#39;\" rel=\"tag\">ruby</a>, <a href=\"/questions/tagged/r\" class=\"post-tag\" title=\"show questions tagged &#39;r&#39;\" rel=\"tag\">r</a> (<em><code>stringr</code></em>), <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\">kotlin</a>, <a href=\"/questions/tagged/groovy\" class=\"post-tag\" title=\"show questions tagged &#39;groovy&#39;\" rel=\"tag\">groovy</a>.</p>\n<p><a href=\"/questions/tagged/pcre\" class=\"post-tag\" title=\"show questions tagged &#39;pcre&#39;\" rel=\"tag\">pcre</a> <a href=\"/questions/tagged/boost\" class=\"post-tag\" title=\"show questions tagged &#39;boost&#39;\" rel=\"tag\">boost</a> <a href=\"/questions/tagged/.net\" class=\"post-tag\" title=\"show questions tagged &#39;.net&#39;\" rel=\"tag\">.net</a> <a href=\"/questions/tagged/re2\" class=\"post-tag\" title=\"show questions tagged &#39;re2&#39;\" rel=\"tag\">re2</a> <a href=\"/questions/tagged/python\" class=\"post-tag\" title=\"show questions tagged &#39;python&#39;\" rel=\"tag\">python</a> <a href=\"/questions/tagged/posix\" class=\"post-tag\" title=\"show questions tagged &#39;posix&#39;\" rel=\"tag\">posix</a> - In Boost, PCRE, <code>]</code> is not a special char (i.e. needs no escaping) outside a character class, and is a special char (=needs escaping) inside a character class (where it does not need escaping only if it is the first char in the character class.) It is not an error to escape it everywhere where it is supposted to match a literal <code>]</code> char. Languages/tools affected: <a href=\"/questions/tagged/php\" class=\"post-tag\" title=\"show questions tagged &#39;php&#39;\" rel=\"tag\">php</a>, <a href=\"/questions/tagged/perl\" class=\"post-tag\" title=\"show questions tagged &#39;perl&#39;\" rel=\"tag\">perl</a>, <a href=\"/questions/tagged/c%23\" class=\"post-tag\" title=\"show questions tagged &#39;c#&#39;\" rel=\"tag\">c#</a>/<a href=\"/questions/tagged/vb.net\" class=\"post-tag\" title=\"show questions tagged &#39;vb.net&#39;\" rel=\"tag\">vb.net</a>/etc., <a href=\"/questions/tagged/python\" class=\"post-tag\" title=\"show questions tagged &#39;python&#39;\" rel=\"tag\">python</a>, <a href=\"/questions/tagged/sed\" class=\"post-tag\" title=\"show questions tagged &#39;sed&#39;\" rel=\"tag\">sed</a>, <a href=\"/questions/tagged/grep\" class=\"post-tag\" title=\"show questions tagged &#39;grep&#39;\" rel=\"tag\">grep</a>, <a href=\"/questions/tagged/awk\" class=\"post-tag\" title=\"show questions tagged &#39;awk&#39;\" rel=\"tag\">awk</a>, <a href=\"/questions/tagged/elixir\" class=\"post-tag\" title=\"show questions tagged &#39;elixir&#39;\" rel=\"tag\">elixir</a>, <a href=\"/questions/tagged/r\" class=\"post-tag\" title=\"show questions tagged &#39;r&#39;\" rel=\"tag\">r</a> (both default base R TRE and PCRE enabled with <code>&quot;perl=TRUE&quot;</code>), <a href=\"/questions/tagged/tcl\" class=\"post-tag\" title=\"show questions tagged &#39;tcl&#39;\" rel=\"tag\">tcl</a>, <a href=\"/questions/tagged/google-sheets\" class=\"post-tag\" title=\"show questions tagged &#39;google-sheets&#39;\" rel=\"tag\">google-sheets</a>.</p>\n<p><a href=\"/questions/tagged/ecmascript\" class=\"post-tag\" title=\"show questions tagged &#39;ecmascript&#39;\" rel=\"tag\">ecmascript</a> - In ECMAScript flavors, <code>]</code> is not special outside a character class, while <code>[</code> is special outside a character class. Inside a character class, <code>]</code> must ALWAYS be escaped, even if it is the first char in the character class. <code>[</code> inside a character class is not special, but escaping it is an error if the regexp is compiled with the <code>/u</code> flag (in JavaScript). So, be careful here. Languages affected: <a href=\"/questions/tagged/javascript\" class=\"post-tag\" title=\"show questions tagged &#39;javascript&#39;\" rel=\"tag\">javascript</a>, <a href=\"/questions/tagged/dart\" class=\"post-tag\" title=\"show questions tagged &#39;dart&#39;\" rel=\"tag\">dart</a>, <a href=\"/questions/tagged/c%2b%2b\" class=\"post-tag\" title=\"show questions tagged &#39;c++&#39;\" rel=\"tag\">c++</a>, <a href=\"/questions/tagged/vba\" class=\"post-tag\" title=\"show questions tagged &#39;vba&#39;\" rel=\"tag\">vba</a>, <a href=\"/questions/tagged/google-apps-script\" class=\"post-tag\" title=\"show questions tagged &#39;google-apps-script&#39;\" rel=\"tag\">google-apps-script</a> (which uses JavaScript).</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3257,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":2,"score":10,"last_activity_date":1663694656,"creation_date":1490613407,"question_id":43044918,"body_markdown":"Consider the array:\r\n\r\n    new Pattern[] {Pattern.compile(&quot;\\\\[&quot;),Pattern.compile(&quot;\\\\]&quot;) };\r\n\r\nIntellij IDEA tells me that `\\\\` is redundant and tells me to replace this with `]` e.g. the result is:\r\n\r\n    new Pattern[] {Pattern.compile(&quot;\\\\[&quot;),Pattern.compile(&quot;]&quot;) };\r\n\r\nWhy in the first `Pattern.compile(&quot;\\\\[&quot;)` is the `\\\\` OK, but for the second it is redundant?","title":"Why closing square bracket &quot;]&quot; doesn&#39;t require escaping in regex?","body":"<p>Consider the array:</p>\n\n<pre><code>new Pattern[] {Pattern.compile(\"\\\\[\"),Pattern.compile(\"\\\\]\") };\n</code></pre>\n\n<p>Intellij IDEA tells me that <code>\\\\</code> is redundant and tells me to replace this with <code>]</code> e.g. the result is:</p>\n\n<pre><code>new Pattern[] {Pattern.compile(\"\\\\[\"),Pattern.compile(\"]\") };\n</code></pre>\n\n<p>Why in the first <code>Pattern.compile(\"\\\\[\")</code> is the <code>\\\\</code> OK, but for the second it is redundant?</p>\n"},{"tags":["java","spring","maven","application.properties"],"comments":[{"owner":{"account_id":6811028,"reputation":415,"user_id":6376299,"display_name":"dryleaf"},"score":0,"creation_date":1523001847,"post_id":49688106,"comment_id":86387453,"body_markdown":"You need to create `profiles`. For example: `application-local.properties`, `application-dev.properties`, `application-prod.properties`","body":"You need to create <code>profiles</code>. For example: <code>application-local.properties</code>, <code>application-dev.properties</code>, <code>application-prod.properties</code>"},{"owner":{"account_id":5959246,"reputation":880,"user_id":4684896,"display_name":"Hamid Ghasemi"},"score":2,"creation_date":1523001863,"post_id":49688106,"comment_id":86387466,"body_markdown":"why you don&#39;t create specific `application.properties` file in your `test/resources` directory ?","body":"why you don&#39;t create specific <code>application.properties</code> file in your <code>test&#47;resources</code> directory ?"},{"owner":{"account_id":5662204,"reputation":1856,"user_id":4479510,"accept_rate":38,"display_name":"nintschger"},"score":0,"creation_date":1523001982,"post_id":49688106,"comment_id":86387530,"body_markdown":"@hamidghasemi because I run `mvn test` in different pipelines where the values are all different (dev pipeline is different to master pipeline)","body":"@hamidghasemi because I run <code>mvn test</code> in different pipelines where the values are all different (dev pipeline is different to master pipeline)"},{"owner":{"account_id":7938112,"reputation":3993,"user_id":5993278,"accept_rate":39,"display_name":"Alex"},"score":0,"creation_date":1523002000,"post_id":49688106,"comment_id":86387541,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\nand read that too, maybe it will be useful","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> and read that too, maybe it will be useful"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1523006757,"post_id":49688106,"comment_id":86390512,"body_markdown":"`--spring.datasource.jdbc:` is obviously not a correct property --`spring.datasource.url=&lt;your-url-here&gt;` is. Basically you are supplying the wrong parameters and thus there is nothing to override. However I would strongly suggest the use of profiles and the support that Spring Boot has for that.","body":"<code>--spring.datasource.jdbc:</code> is obviously not a correct property --<code>spring.datasource.url=&lt;your-url-here&gt;</code> is. Basically you are supplying the wrong parameters and thus there is nothing to override. However I would strongly suggest the use of profiles and the support that Spring Boot has for that."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1523002021,"creation_date":1523002021,"answer_id":49688218,"question_id":49688106,"body_markdown":"Something like this should work:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.20.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;systemPropertyVariables&gt;\r\n            &lt;spring.datasource.jdbc&gt;value&lt;/spring.datasource.jdbc&gt;\r\n          &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nBut more often we do this by placing a test version of `application.properties` into the `src/test/resources`. During testing, that file will have greater priority.\r\n","title":"mvn test - override values in application.properties","body":"<p>Something like this should work:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.20.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;systemPropertyVariables&gt;\n        &lt;spring.datasource.jdbc&gt;value&lt;/spring.datasource.jdbc&gt;\n      &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>But more often we do this by placing a test version of <code>application.properties</code> into the <code>src/test/resources</code>. During testing, that file will have greater priority.</p>\n"},{"tags":[],"owner":{"account_id":6811028,"reputation":415,"user_id":6376299,"display_name":"dryleaf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523002607,"creation_date":1523002295,"answer_id":49688288,"question_id":49688106,"body_markdown":"Create another `application-dev.properties` file and paste:\r\n\r\n    spring.datasource.url=jdbc:postgresql://my.test.server.com:5432/myDatabase\r\n    spring.datasource.username=anotherUsername\r\n\r\nThen run with the option `-Dspring.profiles.active=dev` in your `mvn` command.\r\n\r\n- E.g.: `mvn test -Dspring.profiles.active=dev`\r\n\r\nYou can add as many profiles as needed.\r\n\r\n- syntax: `application-&lt;profile name&gt;.properties`\r\n\r\n","title":"mvn test - override values in application.properties","body":"<p>Create another <code>application-dev.properties</code> file and paste:</p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://my.test.server.com:5432/myDatabase\nspring.datasource.username=anotherUsername\n</code></pre>\n\n<p>Then run with the option <code>-Dspring.profiles.active=dev</code> in your <code>mvn</code> command.</p>\n\n<ul>\n<li>E.g.: <code>mvn test -Dspring.profiles.active=dev</code></li>\n</ul>\n\n<p>You can add as many profiles as needed.</p>\n\n<ul>\n<li>syntax: <code>application-&lt;profile name&gt;.properties</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523003229,"creation_date":1523002345,"answer_id":49688297,"question_id":49688106,"body_markdown":"**Option 1** (*preferred as is Maven structure-specific*)\r\n\r\nCreate an `application.properties` under the `test/resources` to be picked up for your testing purposes\r\n\r\n**Option 2** (*Spring Test fine-tuning a particular Test class alone*)\r\n\r\nOverride your properties directly on the Test class by inlining the ones you want by using [@TestPropertySource][1]\r\n\r\n\r\n**Option 3** (*Spring Boot - multiple properties files or a single YAML file*)\r\n\r\nGroup the props under a Spring Profile ([Example here][2]) and invoke it directly from maven:  `mvn test -Dspring.profiles.active=&quot;myOtherSpringProfile&quot;`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testpropertysource\r\n  [2]: http://*Spring%20Boot%20-%20multiple%20properties%20files%20or%20a%20single%20YAML%20file*","title":"mvn test - override values in application.properties","body":"<p><strong>Option 1</strong> (<em>preferred as is Maven structure-specific</em>)</p>\n\n<p>Create an <code>application.properties</code> under the <code>test/resources</code> to be picked up for your testing purposes</p>\n\n<p><strong>Option 2</strong> (<em>Spring Test fine-tuning a particular Test class alone</em>)</p>\n\n<p>Override your properties directly on the Test class by inlining the ones you want by using <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testpropertysource\" rel=\"nofollow noreferrer\">@TestPropertySource</a></p>\n\n<p><strong>Option 3</strong> (<em>Spring Boot - multiple properties files or a single YAML file</em>)</p>\n\n<p>Group the props under a Spring Profile (<a href=\"http://*Spring%20Boot%20-%20multiple%20properties%20files%20or%20a%20single%20YAML%20file*\" rel=\"nofollow noreferrer\">Example here</a>) and invoke it directly from maven:  <code>mvn test -Dspring.profiles.active=\"myOtherSpringProfile\"</code></p>\n"},{"tags":[],"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618914182,"creation_date":1523004090,"answer_id":49688778,"question_id":49688106,"body_markdown":"When overriding parameters in the command line, use a comma as separator, not a space:\r\n\r\n    mvn test -Drun.arguments=&#39;--spring.datasource.url=...,--spring.datasource.username=...&#39;\r\n\r\nThis should work too:\r\n\r\n    mvn test -Dspring.datasource.url=... -Dspring.datasource.username=...\r\n\r\nEdit from april 2021\r\n--------------------\r\n\r\nThe syntax above was valid for Spring Boot 1.X.\r\nWith Spring Boot 2.0/2.1, use:\r\n\r\n    mvn test -Dspring-boot.run.arguments=&#39;--spring.datasource.url=...,--spring.datasource.username=...&#39;\r\n\r\nAnd with Spring Boot 2.2, the syntax was changed again (use a whitespace as separator):\r\n\r\n    mvn test -Dspring-boot.run.arguments=&#39;--spring.datasource.url=... --spring.datasource.username=...&#39;\r\n\r\nOther answers and comments mention using profiles and put a custom `application.properties` in `/src/test/resources`, which is not a viable solution for you since you use different pipelines, but if I remember correctly, you can even use `application-{profile}.properties` in `/src/test/resources`. This way you should be able to maintain one test profile per pipeline, where you put your custom parameters, and then test your pipeline with:\r\n\r\n    mvn test -Dspring.profiles.active=foobar\r\n\r\n","title":"mvn test - override values in application.properties","body":"<p>When overriding parameters in the command line, use a comma as separator, not a space:</p>\n<pre><code>mvn test -Drun.arguments='--spring.datasource.url=...,--spring.datasource.username=...'\n</code></pre>\n<p>This should work too:</p>\n<pre><code>mvn test -Dspring.datasource.url=... -Dspring.datasource.username=...\n</code></pre>\n<h2>Edit from april 2021</h2>\n<p>The syntax above was valid for Spring Boot 1.X.\nWith Spring Boot 2.0/2.1, use:</p>\n<pre><code>mvn test -Dspring-boot.run.arguments='--spring.datasource.url=...,--spring.datasource.username=...'\n</code></pre>\n<p>And with Spring Boot 2.2, the syntax was changed again (use a whitespace as separator):</p>\n<pre><code>mvn test -Dspring-boot.run.arguments='--spring.datasource.url=... --spring.datasource.username=...'\n</code></pre>\n<p>Other answers and comments mention using profiles and put a custom <code>application.properties</code> in <code>/src/test/resources</code>, which is not a viable solution for you since you use different pipelines, but if I remember correctly, you can even use <code>application-{profile}.properties</code> in <code>/src/test/resources</code>. This way you should be able to maintain one test profile per pipeline, where you put your custom parameters, and then test your pipeline with:</p>\n<pre><code>mvn test -Dspring.profiles.active=foobar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6375843,"reputation":591,"user_id":4946819,"display_name":"JamesD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663694349,"creation_date":1663694349,"answer_id":73790437,"question_id":49688106,"body_markdown":"I don&#39;t see many people using the environment variable option. If you set an environment variable for corresponding properties, then the value in the environment variable will be used. e.g.\r\n\r\nEnvironment variables:\r\nSPRING_DATASOURCE_URL=&quot;jdbc:postgresql://my.test.server.com:5432/myDatabase&quot;\r\nSPRING_DATASOURCE_USERNAME=anotherUsername\r\n\r\nInside the properties file:\r\nspring.datasource.url=jdbc:postgresql://localhsost:5432/myDatabase\r\nspring.datasource.username=myUsername\r\n\r\nThe application will use the values in the environment variables. For this to work you&#39;ll need to follow the naming convention. Use uppercase and replace &quot;.&quot; with &quot;_&quot;.","title":"mvn test - override values in application.properties","body":"<p>I don't see many people using the environment variable option. If you set an environment variable for corresponding properties, then the value in the environment variable will be used. e.g.</p>\n<p>Environment variables:\nSPRING_DATASOURCE_URL=&quot;jdbc:postgresql://my.test.server.com:5432/myDatabase&quot;\nSPRING_DATASOURCE_USERNAME=anotherUsername</p>\n<p>Inside the properties file:\nspring.datasource.url=jdbc:postgresql://localhsost:5432/myDatabase\nspring.datasource.username=myUsername</p>\n<p>The application will use the values in the environment variables. For this to work you'll need to follow the naming convention. Use uppercase and replace &quot;.&quot; with &quot;_&quot;.</p>\n"}],"owner":{"account_id":5662204,"reputation":1856,"user_id":4479510,"accept_rate":38,"display_name":"nintschger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11675,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":49688218,"answer_count":5,"score":2,"last_activity_date":1663694349,"creation_date":1523001672,"question_id":49688106,"body_markdown":"I have these properties in my `application.properties`:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhsost:5432/myDatabase\r\n    spring.datasource.username=myUsername\r\n\r\nI would like to run `mvn test` with other values than the above, for example:\r\n\r\n    spring.datasource.url=jdbc:postgresql://my.test.server.com:5432/myDatabase\r\n    spring.datasource.username=anotherUsername\r\n\r\nI tried the following\r\n\r\n    mvn test -Drun.arguments=&#39;--spring.datasource.jdbc:postgresql://my.test.server.com:5432/myDatabase --spring.datasource.username=anotherUsername&#39;\r\nand without `spring` prefix:\r\n\r\n    mvn test -Drun.arguments=&#39;--datasource.jdbc:postgresql://my.test.server.com:5432/myDatabase --datasource.username=anotherUsername&#39;\r\n\r\nBut this does not seem to work. How can I override the values in the `application.properties` in context of running `mvn test`?","title":"mvn test - override values in application.properties","body":"<p>I have these properties in my <code>application.properties</code>:</p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://localhsost:5432/myDatabase\nspring.datasource.username=myUsername\n</code></pre>\n\n<p>I would like to run <code>mvn test</code> with other values than the above, for example:</p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://my.test.server.com:5432/myDatabase\nspring.datasource.username=anotherUsername\n</code></pre>\n\n<p>I tried the following</p>\n\n<pre><code>mvn test -Drun.arguments='--spring.datasource.jdbc:postgresql://my.test.server.com:5432/myDatabase --spring.datasource.username=anotherUsername'\n</code></pre>\n\n<p>and without <code>spring</code> prefix:</p>\n\n<pre><code>mvn test -Drun.arguments='--datasource.jdbc:postgresql://my.test.server.com:5432/myDatabase --datasource.username=anotherUsername'\n</code></pre>\n\n<p>But this does not seem to work. How can I override the values in the <code>application.properties</code> in context of running <code>mvn test</code>?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11044772,"reputation":48,"user_id":8111380,"display_name":"Sertachak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663694074,"creation_date":1663694074,"answer_id":73790381,"question_id":73790148,"body_markdown":"That&#39;s why you should separate the repository actions from the service functions. Repository actions are rollbacked. If you separate them the repository level will throw an error and rollback itself. And before the static method, you can check whether the transaction is finished or not by @transactionaleventlistener.","title":"Transactional annotation not working as expected","body":"<p>That's why you should separate the repository actions from the service functions. Repository actions are rollbacked. If you separate them the repository level will throw an error and rollback itself. And before the static method, you can check whether the transaction is finished or not by @transactionaleventlistener.</p>\n"}],"owner":{"account_id":8992977,"reputation":1,"user_id":6704287,"display_name":"nrgth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663694074,"creation_date":1663692804,"question_id":73790148,"body_markdown":"I have an issue with rollbacking in @Transactional. When rollback is called, rollback itself is working, but another method after is executed.\r\n\r\n```\r\n@Transactional(rollbackFor = { Exception.class })\r\n@Service\r\npublic class Service {\r\n\r\n    public void method1() {\r\n        stuffToGetListOfObjects();\r\n        deleteAllAndSaveAll(listOfObejcts);\r\n        Util.staticMethod();\r\n    }\r\n\r\n    private deleteAllAndSaveAll(List list) {\r\n        repository.deleteAll();\r\n        repository.saveAll(list);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application implements ApplicationRunner {\r\n\r\n    private final Service service;\r\n\r\n    @Autowired\r\n    public Application(Service service) {\r\n        this.service = service;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(ApplicationArguments args) throws Exception {\r\n        service.method1();\r\n    }\r\n}\r\n```\r\n\r\nWhen something goes wrong during the insertion in repository.saveAll(list), no data is actually deleted which is fine and expected. The issue is program is going on the Util.staticMethod() method is executed &quot;after&quot; rollback.\r\nI know that static methods cannot be @Transactional and private methods are ignored, but that doesn&#39;t seem the issue here. According to the log, everything in method1() is executed first and after that, the inserting is happening. I guess I need to pick out the Util.staticMethod() calling from transaction somehow.","title":"Transactional annotation not working as expected","body":"<p>I have an issue with rollbacking in @Transactional. When rollback is called, rollback itself is working, but another method after is executed.</p>\n<pre><code>@Transactional(rollbackFor = { Exception.class })\n@Service\npublic class Service {\n\n    public void method1() {\n        stuffToGetListOfObjects();\n        deleteAllAndSaveAll(listOfObejcts);\n        Util.staticMethod();\n    }\n\n    private deleteAllAndSaveAll(List list) {\n        repository.deleteAll();\n        repository.saveAll(list);\n    }\n}\n</code></pre>\n<pre><code>@SpringBootApplication\npublic class Application implements ApplicationRunner {\n\n    private final Service service;\n\n    @Autowired\n    public Application(Service service) {\n        this.service = service;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        service.method1();\n    }\n}\n</code></pre>\n<p>When something goes wrong during the insertion in repository.saveAll(list), no data is actually deleted which is fine and expected. The issue is program is going on the Util.staticMethod() method is executed &quot;after&quot; rollback.\nI know that static methods cannot be @Transactional and private methods are ignored, but that doesn't seem the issue here. According to the log, everything in method1() is executed first and after that, the inserting is happening. I guess I need to pick out the Util.staticMethod() calling from transaction somehow.</p>\n"},{"tags":["java","mongodb","aws-documentdb"],"comments":[{"owner":{"account_id":20092469,"reputation":12122,"user_id":14732669,"display_name":"ray"},"score":0,"creation_date":1663694278,"post_id":73790354,"comment_id":130298542,"body_markdown":"Are you looking for the [$in](https://www.mongodb.com/docs/manual/reference/operator/query/in/) operator?","body":"Are you looking for the <a href=\"https://www.mongodb.com/docs/manual/reference/operator/query/in/\" rel=\"nofollow noreferrer\">$in</a> operator?"},{"owner":{"account_id":6089074,"reputation":63,"user_id":8324957,"display_name":"slick"},"score":0,"creation_date":1663699856,"post_id":73790354,"comment_id":130300310,"body_markdown":"@ray Yeah. Something like $in . But I don&#39;t think $in is the right choice for 70k params.","body":"@ray Yeah. Something like $in . But I don&#39;t think $in is the right choice for 70k params."},{"owner":{"account_id":20092469,"reputation":12122,"user_id":14732669,"display_name":"ray"},"score":0,"creation_date":1663701319,"post_id":73790354,"comment_id":130300755,"body_markdown":"You can import your list into a collection and perform lookup to that collection like [this](https://mongoplayground.net/p/r5oT-VpdhIl)","body":"You can import your list into a collection and perform lookup to that collection like <a href=\"https://mongoplayground.net/p/r5oT-VpdhIl\" rel=\"nofollow noreferrer\">this</a>"}],"owner":{"account_id":6089074,"reputation":63,"user_id":8324957,"display_name":"slick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663693958,"creation_date":1663693958,"question_id":73790354,"body_markdown":"I&#39;ve an application where I&#39;ve to fetch account information from the MongoDB by accountId . But the problem is each api call takes around 0.8 sec on average  so processing 70000 accounts would take around more than half a day. If I have all the accountIDs in my application already how can I reduce the round trips to database ? \r\nI&#39;ve already made the application multithreaded, its still not enough. \r\n\r\nAccountId is the only identifying information. Any hack using AWS for DocuemntDB store would also work.","title":"How to reduce the number of api calls to MongoDB by doing bulk read?","body":"<p>I've an application where I've to fetch account information from the MongoDB by accountId . But the problem is each api call takes around 0.8 sec on average  so processing 70000 accounts would take around more than half a day. If I have all the accountIDs in my application already how can I reduce the round trips to database ?\nI've already made the application multithreaded, its still not enough.</p>\n<p>AccountId is the only identifying information. Any hack using AWS for DocuemntDB store would also work.</p>\n"},{"tags":["java","arraylist","collections"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1663686674,"post_id":73788759,"comment_id":130295797,"body_markdown":"I don&#39;t understand. If you want to read `String` then use `sc.next()` or `sc.nextLine()`.  You can first check `sc.hasNextInt()` and `break` if that&#39;s true.","body":"I don&#39;t understand. If you want to read <code>String</code> then use <code>sc.next()</code> or <code>sc.nextLine()</code>.  You can first check <code>sc.hasNextInt()</code> and <code>break</code> if that&#39;s true."},{"owner":{"account_id":26389709,"reputation":1,"user_id":20041738,"display_name":"Atchi Reddy"},"score":0,"creation_date":1663689802,"post_id":73788759,"comment_id":130297071,"body_markdown":"i will be declaring an arraylist this way --&gt;```ArrayList obj =new ArrayList(); ``` . this need to accept both ```String``` and ```Integer``` values using ```Scanner```. How to do that?","body":"i will be declaring an arraylist this way --&gt;<code>ArrayList obj =new ArrayList(); </code> . this need to accept both <code>String</code> and <code>Integer</code> values using <code>Scanner</code>. How to do that?"}],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663692909,"creation_date":1663692909,"answer_id":73790161,"question_id":73788759,"body_markdown":"To read a mixed list of strings and numbers:\r\n```\r\nScanner sc = new Scanner(System.in);\r\nList&lt;Object&gt; alobj = new ArrayList&lt;&gt;();\r\nSystem.out.println(&quot;Enter your input: &quot;);\r\n// What condition ends the loop??\r\nwhile (sc.hasNext()) {\r\n    // Read next as a string\r\n    String input = sc.next();\r\n    // First, try to convert to integer and add\r\n    try {\r\n        int number = Integer.parseInt(input);\r\n        alobj.add(number);\r\n    }\r\n    catch (Exception e) {\r\n        // Add as integer failed so add as string\r\n        alobj.add(input);\r\n    }\r\n}\r\nalobj.forEach(System.out::println);","title":"How to take User input to an ArrayList which can accept any Objects, and help me out in accepting only STRING&#39;s too #java","body":"<p>To read a mixed list of strings and numbers:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nList&lt;Object&gt; alobj = new ArrayList&lt;&gt;();\nSystem.out.println(&quot;Enter your input: &quot;);\n// What condition ends the loop??\nwhile (sc.hasNext()) {\n    // Read next as a string\n    String input = sc.next();\n    // First, try to convert to integer and add\n    try {\n        int number = Integer.parseInt(input);\n        alobj.add(number);\n    }\n    catch (Exception e) {\n        // Add as integer failed so add as string\n        alobj.add(input);\n    }\n}\nalobj.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":26389709,"reputation":1,"user_id":20041738,"display_name":"Atchi Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663692909,"creation_date":1663685829,"question_id":73788759,"body_markdown":"Here my code just accepts Integers type. if i enter any other type other than INT it exits out of loop and i need a code which accepts string and it should exit the loop if we enter a Int type.\r\n\r\n    import java.util.*;\r\n    class AL\r\n    {\r\n    \tpublic void alMethod() \r\n    \t{\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter your input: &quot;);\r\n    \t\tArrayList&lt;Integer&gt;alobj = new ArrayList&lt;&gt;();    &#39;//ArrayList of which accepts Integer&#39;\r\n    \t\t    while( sc.hasNextInt())           &#39;//used for adding the Int objects in ArrayList&#39;\r\n    \t\t\t{                                              \r\n    \t\t\t\talobj.add(sc.nextInt() );\r\n    \t\t\t} \r\n    \t\tSystem.out.println(&quot;\\n&quot;+&quot;AL ---&gt; &quot;+alobj + &quot;\\n&quot;);\r\n    \t\tSystem.out.println(&quot;---- Iterating the ARRAYList ----&quot;);\r\n    \t\tfor(int var : alobj) \r\n    \t\t{                                                &#39;//loop to iterate on arrayList&#39;\r\n    \t\t\tSystem.out.println(var);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    public class Iterating_ArrayList \r\n    {\r\n       public static void main(String[] args) \r\n    \t{\r\n    \t\tAL obj = new AL();                               &#39;//ObjectCreation for AL class&#39;\r\n    \t\tobj.alMethod();\r\n        }\r\n    }\r\n","title":"How to take User input to an ArrayList which can accept any Objects, and help me out in accepting only STRING&#39;s too #java","body":"<p>Here my code just accepts Integers type. if i enter any other type other than INT it exits out of loop and i need a code which accepts string and it should exit the loop if we enter a Int type.</p>\n<pre><code>import java.util.*;\nclass AL\n{\n    public void alMethod() \n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter your input: &quot;);\n        ArrayList&lt;Integer&gt;alobj = new ArrayList&lt;&gt;();    '//ArrayList of which accepts Integer'\n            while( sc.hasNextInt())           '//used for adding the Int objects in ArrayList'\n            {                                              \n                alobj.add(sc.nextInt() );\n            } \n        System.out.println(&quot;\\n&quot;+&quot;AL ---&gt; &quot;+alobj + &quot;\\n&quot;);\n        System.out.println(&quot;---- Iterating the ARRAYList ----&quot;);\n        for(int var : alobj) \n        {                                                '//loop to iterate on arrayList'\n            System.out.println(var);\n        }\n    }\n}\npublic class Iterating_ArrayList \n{\n   public static void main(String[] args) \n    {\n        AL obj = new AL();                               '//ObjectCreation for AL class'\n        obj.alMethod();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","netflix-eureka","spring-cloud-netflix"],"comments":[{"owner":{"account_id":12922543,"reputation":9,"user_id":9344429,"display_name":"Nasheer"},"score":0,"creation_date":1663730390,"post_id":73790159,"comment_id":130305945,"body_markdown":"@tyrantqiao hi guys I&#39;ve gone through https://stackoverflow.com/a/42427493/9344429 this but its needed to inject can you help me with that?","body":"@tyrantqiao hi guys I&#39;ve gone through <a href=\"https://stackoverflow.com/a/42427493/9344429\">stackoverflow.com/a/42427493/9344429</a> this but its needed to inject can you help me with that?"},{"owner":{"account_id":12922543,"reputation":9,"user_id":9344429,"display_name":"Nasheer"},"score":0,"creation_date":1663730430,"post_id":73790159,"comment_id":130305953,"body_markdown":"@Kihats https://stackoverflow.com/a/42427493/9344429","body":"@Kihats <a href=\"https://stackoverflow.com/a/42427493/9344429\">stackoverflow.com/a/42427493/9344429</a>"}],"owner":{"account_id":12922543,"reputation":9,"user_id":9344429,"display_name":"Nasheer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663692894,"creation_date":1663692894,"question_id":73790159,"body_markdown":" Spring Boot ::                (v2.7.3)\r\n\r\nList&lt;ServiceInstance&gt; accountslist = eurekaDiscoveryClient.getInstances(&quot;ACCOUNTS&quot;);\r\n\t\tServiceInstance accounts = accountslist.get(0);\r\n\t\tURI accountsMS = accounts.getUri();\r\nthis is not working for me cause im using latest version should i degarde or any other ways i could implemnt any one?\r\n\r\nappreciated if you could answer!","title":"im using latest version (v2.7.3) my question is how can get the eureka server instances to get my uri?","body":"<p>Spring Boot ::                (v2.7.3)</p>\n<p>List accountslist = eurekaDiscoveryClient.getInstances(&quot;ACCOUNTS&quot;);\nServiceInstance accounts = accountslist.get(0);\nURI accountsMS = accounts.getUri();\nthis is not working for me cause im using latest version should i degarde or any other ways i could implemnt any one?</p>\n<p>appreciated if you could answer!</p>\n"},{"tags":["javascript","java","android","webview"],"comments":[{"owner":{"account_id":5285394,"reputation":7879,"user_id":4224337,"accept_rate":50,"display_name":"Rami"},"score":0,"creation_date":1449735359,"post_id":34196603,"comment_id":56139009,"body_markdown":"Give a try with `&quot;javascript:document.getElementById(\\&quot;YourDivId\\&quot;).setAttribute(\\&quot;style\\&quot;,\\&quot;display:none;\\&quot;);&quot;`","body":"Give a try with <code>&quot;javascript:document.getElementById(\\&quot;YourDivId\\&quot;).setAttrib&zwnj;&#8203;ute(\\&quot;style\\&quot;,\\&quot;disp&zwnj;&#8203;lay:none;\\&quot;);&quot;</code>"},{"owner":{"account_id":3834577,"reputation":593,"user_id":3179249,"accept_rate":60,"display_name":"yigitserin"},"score":0,"creation_date":1449736533,"post_id":34196603,"comment_id":56139618,"body_markdown":"Thanks for the reply, the element I want to hide actually have no id, but it has a class name. &lt;div class = &quot;page&quot;&gt;","body":"Thanks for the reply, the element I want to hide actually have no id, but it has a class name. &lt;div class = &quot;page&quot;&gt;"}],"answers":[{"tags":[],"owner":{"account_id":26327309,"reputation":1,"user_id":19988427,"display_name":"Huber Berrio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663692515,"creation_date":1663091850,"answer_id":73707396,"question_id":34196603,"body_markdown":"Try this:\r\n~~~\r\n&quot;javascript:(function() {document.getElementsByTagName(&#39;YourDivTag&#39;)[0].remove();})()&quot;\r\n~~~","title":"Only show one div in webview","body":"<p>Try this:</p>\n<pre><code>&quot;javascript:(function() {document.getElementsByTagName('YourDivTag')[0].remove();})()&quot;\n</code></pre>\n"}],"owner":{"account_id":3834577,"reputation":593,"user_id":3179249,"accept_rate":60,"display_name":"yigitserin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663692515,"creation_date":1449734721,"question_id":34196603,"body_markdown":"I have been trying to implement this but I could not get it work. Anyway here is the deal:\r\n\r\nIn the main page of a website, I only want a specific div to be shown in a webview. Hide all other elements. But keep the styling and scripts of that page of course.(This means no Jsoup) \r\n\r\nI tried doing it by using javascript in webview and here is what I tried:\r\n\r\n        webview = (WebView) this.findViewById(R.id.webView);\r\n        final WebSettings settings = webview.getSettings();\r\n\r\n        settings.setJavaScriptEnabled(true);\r\n        settings.setAppCacheEnabled(true);\r\n\r\n        WebViewClient myClient = new WebViewClient(){\r\n\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                super.onPageFinished(view, url);\r\n                Log.e(&quot;LogTxt&quot;,&quot;Test&quot;);\r\n                view.loadUrl(&quot;javascript:var con = document.getElementsByClassName(&#39;page-content&#39;); &quot; +&quot;con[0].style.display = &#39;none&#39;; &quot;);\r\n            }\r\n        };\r\n\r\n        String cookieString = &quot;.ASPXAUTH=&quot;+ getIntent().getStringExtra(&quot;key&quot;);\r\n        headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;Cookie&quot;, cookieString);\r\n        headers.put(&quot;Accept&quot;,&quot;mobile&quot;);\r\n\r\n        webview.setWebViewClient(myClient);\r\n        webview.loadUrl(&quot;http://www.myurl.com&quot;,headers);\r\n\r\n\r\nLooks like this:\r\n\r\n[![][1]][1]\r\n\r\nSo how can I do this? What are other alternative ways? Thanks!\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/h9Di7.png","title":"Only show one div in webview","body":"<p>I have been trying to implement this but I could not get it work. Anyway here is the deal:</p>\n\n<p>In the main page of a website, I only want a specific div to be shown in a webview. Hide all other elements. But keep the styling and scripts of that page of course.(This means no Jsoup) </p>\n\n<p>I tried doing it by using javascript in webview and here is what I tried:</p>\n\n<pre><code>    webview = (WebView) this.findViewById(R.id.webView);\n    final WebSettings settings = webview.getSettings();\n\n    settings.setJavaScriptEnabled(true);\n    settings.setAppCacheEnabled(true);\n\n    WebViewClient myClient = new WebViewClient(){\n\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            super.onPageFinished(view, url);\n            Log.e(\"LogTxt\",\"Test\");\n            view.loadUrl(\"javascript:var con = document.getElementsByClassName('page-content'); \" +\"con[0].style.display = 'none'; \");\n        }\n    };\n\n    String cookieString = \".ASPXAUTH=\"+ getIntent().getStringExtra(\"key\");\n    headers = new HashMap&lt;&gt;();\n    headers.put(\"Cookie\", cookieString);\n    headers.put(\"Accept\",\"mobile\");\n\n    webview.setWebViewClient(myClient);\n    webview.loadUrl(\"http://www.myurl.com\",headers);\n</code></pre>\n\n<p>Looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/h9Di7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h9Di7.png\" alt=\"\"></a></p>\n\n<p>So how can I do this? What are other alternative ways? Thanks!</p>\n"},{"tags":["java","unit-testing","try-catch","testng","system.out"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1663633678,"post_id":73780463,"comment_id":130281135,"body_markdown":"You may find some good ideas on [this question](https://stackoverflow.com/q/3677271/1081110), especially harunurhan&#39;s answer.","body":"You may find some good ideas on <a href=\"https://stackoverflow.com/q/3677271/1081110\">this question</a>, especially harunurhan&#39;s answer."},{"owner":{"account_id":26385298,"reputation":11,"user_id":20037904,"display_name":"Jack"},"score":0,"creation_date":1663634389,"post_id":73780463,"comment_id":130281225,"body_markdown":"thank you Dawood, how about the body of the test case I already did the same but no good results","body":"thank you Dawood, how about the body of the test case I already did the same but no good results"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1663634554,"post_id":73780463,"comment_id":130281254,"body_markdown":"All you need to do in the body of your test case is run the method that throws the exception.  If you&#39;ve set up the `@Test` annotation properly, with the right `expectedExceptions` and `expectedExceptionsMessageRegExp` values, you don&#39;t need any other assertions.","body":"All you need to do in the body of your test case is run the method that throws the exception.  If you&#39;ve set up the <code>@Test</code> annotation properly, with the right <code>expectedExceptions</code> and <code>expectedExceptionsMessageRegExp</code> values, you don&#39;t need any other assertions."},{"owner":{"account_id":26385298,"reputation":11,"user_id":20037904,"display_name":"Jack"},"score":0,"creation_date":1663635001,"post_id":73780463,"comment_id":130281314,"body_markdown":"I did the same but still fail \n\n@Test(expectedExceptions = FileNotFoundException.class)\n\tpublic void testCatchBlockInTask() {\n\t\t//method that throws the exception\n          }","body":"I did the same but still fail   @Test(expectedExceptions = FileNotFoundException.class) \tpublic void testCatchBlockInTask() { \t\t//method that throws the exception           }"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663641136,"post_id":73780463,"comment_id":130282159,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":1,"creation_date":1663652626,"post_id":73780463,"comment_id":130283904,"body_markdown":"Use `ex.getMessage()` and then use `testNG` `assertion` to verify.","body":"Use <code>ex.getMessage()</code> and then use <code>testNG</code> <code>assertion</code> to verify."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663653037,"post_id":73780463,"comment_id":130283995,"body_markdown":"@NandanA How will that test the System.out.println output?","body":"@NandanA How will that test the System.out.println output?"},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1663653176,"post_id":73780463,"comment_id":130284030,"body_markdown":"@OneCricketeer I think the question is not clear. He wants to do something like this \t\t\t`Assert.assertEquals(e.getMessage(), &quot;File doesn&#39;t..&quot;);`","body":"@OneCricketeer I think the question is not clear. He wants to do something like this \t\t\t<code>Assert.assertEquals(e.getMessage(), &quot;File doesn&#39;t..&quot;);</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663653584,"post_id":73780463,"comment_id":130284126,"body_markdown":"@NandanA There&#39;s no `e` being returned to any unit test","body":"@NandanA There&#39;s no <code>e</code> being returned to any unit test"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663653686,"post_id":73780463,"comment_id":130284144,"body_markdown":"@DawoodibnKareem Those suggestions will only work if the method under test actually throws, no?","body":"@DawoodibnKareem Those suggestions will only work if the method under test actually throws, no?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1663706149,"post_id":73780463,"comment_id":130302145,"body_markdown":"Yes, @OneCricketeer, that&#39;s what Jack is trying to test.","body":"Yes, @OneCricketeer, that&#39;s what Jack is trying to test."}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1663659513,"creation_date":1663640225,"answer_id":73780967,"question_id":73780463,"body_markdown":"Try this code, you will get the FileNotFoundException, the file &#39;test.txt&#39; should not be available in the path:\r\n\r\n        @Test\r\n        public void fileSetup() {    \r\n            try {\r\n    \t\t\tFile file = new File(&quot;C:\\\\Users\\\\test\\\\Desktop\\\\test.txt&quot;);\r\n    \t\t\tScanner sc = new Scanner(file);\r\n    \r\n    \t\t\tSystem.out.println(sc.next());\r\n    \t\t\tsc.close();\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\tSystem.out.println(&quot;In catch block&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        }     \r\n","title":"Test System.out message printed in catch block","body":"<p>Try this code, you will get the FileNotFoundException, the file 'test.txt' should not be available in the path:</p>\n<pre><code>    @Test\n    public void fileSetup() {    \n        try {\n            File file = new File(&quot;C:\\\\Users\\\\test\\\\Desktop\\\\test.txt&quot;);\n            Scanner sc = new Scanner(file);\n\n            System.out.println(sc.next());\n            sc.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;In catch block&quot;);\n            e.printStackTrace();\n        }\n    }     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1663692270,"creation_date":1663653346,"answer_id":73782176,"question_id":73780463,"body_markdown":"Ideally, you don&#39;t use System output. You&#39;d rather inject a logger and test against that.\r\n\r\nBut, it can still be done\r\n\r\n```\r\n// Store the original standard out before changing it.\r\nprivate final PrintStream originalStdOut = System.out;\r\nprivate ByteArrayOutputStream consoleContent = new ByteArrayOutputStream();\r\n \r\n@BeforeMethod\r\npublic void beforeTest() {\r\n    // Redirect all System.out to consoleContent.\r\n    System.setOut(new PrintStream(this.consoleContent));\r\n}\r\n```\r\n\r\nYou may need to do something similar for `System.err` for `ex.printStackTrace()` output... \r\n\r\nThen run your function in a standard test, and assert against the `consoleContent` contents.\r\n\r\n```\r\n@Test\r\npublic void testFileExistence() {    \r\n    doSomething(&quot;missing-file.txt&quot;);  // call a method of your service code that prints an exception\r\n    \r\n    int n = this.consoleContent.available();\r\n    byte[] bytes = new byte[n];\r\n    this.consoleContent.read(bytes, 0, n);\r\n    String s = new String(bytes, StandardCharsets.UTF_8);\r\n    // TODO: split on line-breaks, and test printed content\r\n}   \r\n```\r\n\r\nAfter each test, you&#39;ll need to reset the stream, and if you still want to print the data, then do that too\r\n\r\n```\r\n@AfterMethod\r\npublic void afterTest() {\r\n    // Put back the standard out.\r\n    System.setOut(this.originalStdOut);\r\n \r\n    // Print what has been captured.\r\n    System.out.println(this.consoleContent.toString());\r\n    System.out.println(String.format(&quot;              ====&gt;Captured Console length=%d&quot;,\r\n            this.consoleContent.toString().length()));\r\n \r\n    // Clear the consoleContent.\r\n    this.consoleContent = new ByteArrayOutputStream();\r\n}\r\n```\r\n\r\nOr, more ideally, you define your own RuntimeException / Exception subclasses, then use assertThrows methods, where you can properly verify exception object content, including the message body. ","title":"Test System.out message printed in catch block","body":"<p>Ideally, you don't use System output. You'd rather inject a logger and test against that.</p>\n<p>But, it can still be done</p>\n<pre><code>// Store the original standard out before changing it.\nprivate final PrintStream originalStdOut = System.out;\nprivate ByteArrayOutputStream consoleContent = new ByteArrayOutputStream();\n \n@BeforeMethod\npublic void beforeTest() {\n    // Redirect all System.out to consoleContent.\n    System.setOut(new PrintStream(this.consoleContent));\n}\n</code></pre>\n<p>You may need to do something similar for <code>System.err</code> for <code>ex.printStackTrace()</code> output...</p>\n<p>Then run your function in a standard test, and assert against the <code>consoleContent</code> contents.</p>\n<pre><code>@Test\npublic void testFileExistence() {    \n    doSomething(&quot;missing-file.txt&quot;);  // call a method of your service code that prints an exception\n    \n    int n = this.consoleContent.available();\n    byte[] bytes = new byte[n];\n    this.consoleContent.read(bytes, 0, n);\n    String s = new String(bytes, StandardCharsets.UTF_8);\n    // TODO: split on line-breaks, and test printed content\n}   \n</code></pre>\n<p>After each test, you'll need to reset the stream, and if you still want to print the data, then do that too</p>\n<pre><code>@AfterMethod\npublic void afterTest() {\n    // Put back the standard out.\n    System.setOut(this.originalStdOut);\n \n    // Print what has been captured.\n    System.out.println(this.consoleContent.toString());\n    System.out.println(String.format(&quot;              ====&gt;Captured Console length=%d&quot;,\n            this.consoleContent.toString().length()));\n \n    // Clear the consoleContent.\n    this.consoleContent = new ByteArrayOutputStream();\n}\n</code></pre>\n<p>Or, more ideally, you define your own RuntimeException / Exception subclasses, then use assertThrows methods, where you can properly verify exception object content, including the message body.</p>\n"}],"owner":{"account_id":26385298,"reputation":11,"user_id":20037904,"display_name":"Jack"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1663692313,"creation_date":1663633415,"question_id":73780463,"body_markdown":"I would like to create a test case to test this `catch` block\r\n\r\nI want to test this message `&quot;File does&#39;t exit, please put the file inside resources folder.&quot;`\r\nand `FileNotFoundException` exception using testNG. \r\n\r\n    try { //something here \r\n    \r\n    } catch (FileNotFoundException ex) { \r\n\t\tSystem.out.println(&quot;File does&#39;t exit, please put the file inside resources folder.&quot;);\r\n\t\tex.printStackTrace(); \r\n\t}\r\n\r\n","title":"Test System.out message printed in catch block","body":"<p>I would like to create a test case to test this <code>catch</code> block</p>\n<p>I want to test this message <code>&quot;File does't exit, please put the file inside resources folder.&quot;</code>\nand <code>FileNotFoundException</code> exception using testNG.</p>\n<pre><code>try { //something here \n\n} catch (FileNotFoundException ex) { \n    System.out.println(&quot;File does't exit, please put the file inside resources folder.&quot;);\n    ex.printStackTrace(); \n}\n</code></pre>\n"},{"tags":["java","javafx","scrollbar"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1663693258,"post_id":73790044,"comment_id":130298228,"body_markdown":"I’ve noticed WebView scrollbars behave differently from explicitly created scrollbars and scrollpanes, so I’m not surprised they can’t be directly manipulated.  I would instead use WebEngine’s [executeScript](https://openjfx.io/javadoc/18/javafx.web/javafx/scene/web/WebEngine.html#executeScript(java.lang.String)) method to listen for JavaScript [scroll events](https://developer.mozilla.org/en-US/docs/Web/API/Document/scroll_event).","body":"I’ve noticed WebView scrollbars behave differently from explicitly created scrollbars and scrollpanes, so I’m not surprised they can’t be directly manipulated.  I would instead use WebEngine’s <a href=\"https://openjfx.io/javadoc/18/javafx.web/javafx/scene/web/WebEngine.html#executeScript(java.lang.String)\" rel=\"nofollow noreferrer\">executeScript</a> method to listen for JavaScript <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/scroll_event\" rel=\"nofollow noreferrer\">scroll events</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1663694304,"post_id":73790044,"comment_id":130298551,"body_markdown":"Alternatively, instrument the parent node&#39;s scroll properties: `onScroll`, et al. In addition, please [edit] you question to clarify the goal.","body":"Alternatively, instrument the parent node&#39;s scroll properties: <code>onScroll</code>, et al. In addition, please <a href=\"https://stackoverflow.com/posts/73790044/edit\">edit</a> you question to clarify the goal."},{"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"score":0,"creation_date":1663694389,"post_id":73790044,"comment_id":130298572,"body_markdown":"Thanks for the suggestion, I&#39;ll do it alternatively with JavaScript Scroll event, and will also try to instrument the parent node&#39;s onScroll property","body":"Thanks for the suggestion, I&#39;ll do it alternatively with JavaScript Scroll event, and will also try to instrument the parent node&#39;s onScroll property"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1663895183,"post_id":73790044,"comment_id":130352482,"body_markdown":"What version of JavaFX are you using?  I ask because I just tested with JavaFX 19 and it is working as I would expect it to.","body":"What version of JavaFX are you using?  I ask because I just tested with JavaFX 19 and it is working as I would expect it to."},{"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"score":0,"creation_date":1664033745,"post_id":73790044,"comment_id":130381217,"body_markdown":"I tried using javafx 19, and it&#39;s still now working.","body":"I tried using javafx 19, and it&#39;s still now working."}],"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663692257,"creation_date":1663692257,"question_id":73790044,"body_markdown":"I&#39;m trying to capture all scroll actions (scroll by mouse, scroll by dragging scroll bar) for a `WebView` in JavaFX. I am doing it in the following way, but it&#39;s not working. Any suggestions on why it&#39;s not working and how to fix this?\r\n```java\r\nWebEngine webEngine = webView.getEngine();\r\nwebEngine.getLoadWorker().stateProperty().addListener((ov, oldState, newState) -&gt; {\r\n    if (newState == Worker.State.SUCCEEDED) {\r\n        ScrollBar webViewVerticalScrollBar = getVerticalScrollbar(webView);\r\n        if (webViewVerticalScrollBar != null) {\r\n            webViewVerticalScrollBar\r\n                    .valueProperty()\r\n                    .addListener((observable, oldValue, newValue) -&gt; {\r\n                        System.out.println(&quot;webview: &quot; + newValue);\r\n                    });\r\n            scrollBarListenerAddedForItem2 = true;\r\n        }\r\n    }\r\n\r\n});\r\n```\r\n\r\n```java\r\npublic static ScrollBar getVerticalScrollbar(Node textArea) {\r\n    ScrollBar result = null;\r\n    for (javafx.scene.Node n : textArea.lookupAll(&quot;.scroll-bar&quot;)) {\r\n        if (n instanceof ScrollBar) {\r\n            ScrollBar bar = (ScrollBar) n;\r\n            if (bar.getOrientation().equals(Orientation.VERTICAL)) {\r\n                result = bar;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nI debugged and found that for the `WebView`, when I have a scroll bar, `getVerticalScrollbar` is returning a non-null value, but still the sysout is not getting called even when I scroll using mouse.\r\n","title":"JavaFX WebView - not able to capture scroll action","body":"<p>I'm trying to capture all scroll actions (scroll by mouse, scroll by dragging scroll bar) for a <code>WebView</code> in JavaFX. I am doing it in the following way, but it's not working. Any suggestions on why it's not working and how to fix this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebEngine webEngine = webView.getEngine();\nwebEngine.getLoadWorker().stateProperty().addListener((ov, oldState, newState) -&gt; {\n    if (newState == Worker.State.SUCCEEDED) {\n        ScrollBar webViewVerticalScrollBar = getVerticalScrollbar(webView);\n        if (webViewVerticalScrollBar != null) {\n            webViewVerticalScrollBar\n                    .valueProperty()\n                    .addListener((observable, oldValue, newValue) -&gt; {\n                        System.out.println(&quot;webview: &quot; + newValue);\n                    });\n            scrollBarListenerAddedForItem2 = true;\n        }\n    }\n\n});\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static ScrollBar getVerticalScrollbar(Node textArea) {\n    ScrollBar result = null;\n    for (javafx.scene.Node n : textArea.lookupAll(&quot;.scroll-bar&quot;)) {\n        if (n instanceof ScrollBar) {\n            ScrollBar bar = (ScrollBar) n;\n            if (bar.getOrientation().equals(Orientation.VERTICAL)) {\n                result = bar;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>I debugged and found that for the <code>WebView</code>, when I have a scroll bar, <code>getVerticalScrollbar</code> is returning a non-null value, but still the sysout is not getting called even when I scroll using mouse.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":2,"creation_date":1663329333,"post_id":73743787,"comment_id":130219427,"body_markdown":"Show the code with POST method implementation and also capture from Postman","body":"Show the code with POST method implementation and also capture from Postman"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663345210,"post_id":73743787,"comment_id":130225455,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663680402,"post_id":73743787,"comment_id":130293182,"body_markdown":"Please post code as code not as images (or worse links to images).","body":"Please post code as code not as images (or worse links to images)."},{"owner":{"account_id":15683559,"reputation":1,"user_id":11316882,"display_name":"isaac ndri"},"score":0,"creation_date":1663680848,"post_id":73743787,"comment_id":130293352,"body_markdown":"@RafałSokalski I just edited my post with your comments.","body":"@RafałSokalski I just edited my post with your comments."},{"owner":{"account_id":15683559,"reputation":1,"user_id":11316882,"display_name":"isaac ndri"},"score":0,"creation_date":1663680870,"post_id":73743787,"comment_id":130293364,"body_markdown":"@M.Deinum I just edited my post with your comments.","body":"@M.Deinum I just edited my post with your comments."},{"owner":{"account_id":15683559,"reputation":1,"user_id":11316882,"display_name":"isaac ndri"},"score":0,"creation_date":1663680889,"post_id":73743787,"comment_id":130293381,"body_markdown":"@Community I just edited my post with your comments.","body":"@Community I just edited my post with your comments."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663681185,"post_id":73743787,"comment_id":130293516,"body_markdown":"I still see links to image of code, no code in the question.","body":"I still see links to image of code, no code in the question."}],"answers":[{"tags":[],"owner":{"account_id":15683559,"reputation":1,"user_id":11316882,"display_name":"isaac ndri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663692065,"creation_date":1663692065,"answer_id":73790015,"question_id":73743787,"body_markdown":"I solved my problem\r\n\r\nthe concern was that when migrating to a version of spring boot compatible with java 10, we have certain ways of declaring the properties in the application.properties file which change.\r\n\r\nexample:\r\nthe program no longer recognizes:\r\n**server.contextPath=...**\r\nhe now recognizes\r\n**server.servlet.context-path=...**\r\n\r\nsuddenly the error message: &quot;*Request method &#39;POST&#39; not supported*&quot; is due to the fact that the context path was not found. it returned empty.\r\n\r\nthank !!","title":"spring boot: error message &quot;Request method &#39;POST&#39; not supported&quot; after migration from jdk1.8 to jdk10","body":"<p>I solved my problem</p>\n<p>the concern was that when migrating to a version of spring boot compatible with java 10, we have certain ways of declaring the properties in the application.properties file which change.</p>\n<p>example:\nthe program no longer recognizes:\n<strong>server.contextPath=...</strong>\nhe now recognizes\n<strong>server.servlet.context-path=...</strong></p>\n<p>suddenly the error message: &quot;<em>Request method 'POST' not supported</em>&quot; is due to the fact that the context path was not found. it returned empty.</p>\n<p>thank !!</p>\n"}],"owner":{"account_id":15683559,"reputation":1,"user_id":11316882,"display_name":"isaac ndri"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73790015,"answer_count":1,"score":-2,"last_activity_date":1663692065,"creation_date":1663325932,"question_id":73743787,"body_markdown":"I specify that the program worked well with java 1.8. However, as soon as I migrated to java 10, nothing works now and I get this error message every time I try to execute an http request in postman\r\n\r\n[capture console][1]\r\n\r\n\r\nI just added two more images.\r\nthe first is the post method and the second is the response in postman\r\n\r\n[la methode POST][2]\r\n\r\n\r\n[la r&#233;ponse dans postman][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fty41.png\r\n  [2]: https://i.stack.imgur.com/HgG7O.png\r\n  [3]: https://i.stack.imgur.com/tAlte.png","title":"spring boot: error message &quot;Request method &#39;POST&#39; not supported&quot; after migration from jdk1.8 to jdk10","body":"<p>I specify that the program worked well with java 1.8. However, as soon as I migrated to java 10, nothing works now and I get this error message every time I try to execute an http request in postman</p>\n<p><a href=\"https://i.stack.imgur.com/Fty41.png\" rel=\"nofollow noreferrer\">capture console</a></p>\n<p>I just added two more images.\nthe first is the post method and the second is the response in postman</p>\n<p><a href=\"https://i.stack.imgur.com/HgG7O.png\" rel=\"nofollow noreferrer\">la methode POST</a></p>\n<p><a href=\"https://i.stack.imgur.com/tAlte.png\" rel=\"nofollow noreferrer\">la réponse dans postman</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1370976456,"post_id":17051481,"comment_id":24653657,"body_markdown":"What do you mean by *printing the `toString()` method implementation*?","body":"What do you mean by <i>printing the <code>toString()</code> method implementation</i>?"}],"answers":[{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370976463,"creation_date":1370976463,"answer_id":17051516,"question_id":17051481,"body_markdown":"Everything inherits from Object, so the [toString][1] on Object will be called if you have not defined one.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#toString%28%29","title":"How an object will call toString method implicitly?","body":"<p>Everything inherits from Object, so the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#toString%28%29\" rel=\"noreferrer\">toString</a> on Object will be called if you have not defined one.</p>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1663691767,"creation_date":1370977098,"answer_id":17051707,"question_id":17051481,"body_markdown":"You&#39;re not explicitly calling `toString()`, but implicitly you are:\r\n\r\nSee:\r\n\r\n```java\r\nSystem.out.println(foo); // foo is a non primitive variable\r\n```\r\n\r\n[`System`][1] is a class, with a `static` field [`out`][2], of type [`PrintStream`][3]. So you&#39;re calling the [`println(Object)`][4] method of a `PrintStream`.\r\n\r\nIt is implemented like this:\r\n\r\n```java\r\npublic void println(Object x) {\r\n    String s = String.valueOf(x);\r\n    synchronized (this) {\r\n        print(s);\r\n        newLine();\r\n    }\r\n}\r\n```\r\n\r\nAs we see, it&#39;s calling the [`String.valueOf(Object)`][5] method.  \r\nThis is implemented as follows:\r\n\r\n```java\r\npublic static String valueOf(Object obj) {\r\n    return (obj == null) ? &quot;null&quot; : obj.toString();\r\n}\r\n```\r\n\r\nAnd here you see, that [`toString()`][6] is called.\r\n\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html\r\n[2]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out\r\n[3]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html\r\n[4]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#println%28java.lang.Object%29\r\n[5]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#valueOf%28java.lang.Object%29\r\n[6]: http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString%28%29","title":"How an object will call toString method implicitly?","body":"<p>You're not explicitly calling <code>toString()</code>, but implicitly you are:</p>\n<p>See:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(foo); // foo is a non primitive variable\n</code></pre>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\"><code>System</code></a> is a class, with a <code>static</code> field <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out\" rel=\"nofollow noreferrer\"><code>out</code></a>, of type <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\"><code>PrintStream</code></a>. So you're calling the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#println%28java.lang.Object%29\" rel=\"nofollow noreferrer\"><code>println(Object)</code></a> method of a <code>PrintStream</code>.</p>\n<p>It is implemented like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void println(Object x) {\n    String s = String.valueOf(x);\n    synchronized (this) {\n        print(s);\n        newLine();\n    }\n}\n</code></pre>\n<p>As we see, it's calling the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#valueOf%28java.lang.Object%29\" rel=\"nofollow noreferrer\"><code>String.valueOf(Object)</code></a> method.<br />\nThis is implemented as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String valueOf(Object obj) {\n    return (obj == null) ? &quot;null&quot; : obj.toString();\n}\n</code></pre>\n<p>And here you see, that <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString%28%29\" rel=\"nofollow noreferrer\"><code>toString()</code></a> is called.</p>\n"},{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1370978236,"creation_date":1370977406,"answer_id":17051779,"question_id":17051481,"body_markdown":"Every object in Java **IS-A**(n) `Object` as well. Hence, if a `toString()` implementation has not been provided by a class the default `Object.toString()` gets invoked automatically.\r\n\r\n`Object.toString()`&#39;s ***default implementation*** simply prints the object&#39;s class name followed by the object&#39;s hash code which isn&#39;t very helpful. So, one should usually override `toString()` to provide a more meaningful String representation of an object&#39;s runtime state.\r\n\r\n&gt; even I am not writing the toString() method so what are the implementation,how it is calling toString() internally?\r\n\r\n`toString()` is one of the few methods (like `equals()`, `hashCode()` etc.) that gets ***called implicitly*** under certain programmatic situations like (just naming a few)\r\n\r\n - printing an object using `println()`\r\n - printing a `Collection` of objects *(`toString()` is invoked on all the elements)*\r\n - concatenation with a String *(like `strObj = &quot;My obj as string is &quot; + myObj;`)*","title":"How an object will call toString method implicitly?","body":"<p>Every object in Java <strong>IS-A</strong>(n) <code>Object</code> as well. Hence, if a <code>toString()</code> implementation has not been provided by a class the default <code>Object.toString()</code> gets invoked automatically.</p>\n\n<p><code>Object.toString()</code>'s <strong><em>default implementation</em></strong> simply prints the object's class name followed by the object's hash code which isn't very helpful. So, one should usually override <code>toString()</code> to provide a more meaningful String representation of an object's runtime state.</p>\n\n<blockquote>\n  <p>even I am not writing the toString() method so what are the implementation,how it is calling toString() internally?</p>\n</blockquote>\n\n<p><code>toString()</code> is one of the few methods (like <code>equals()</code>, <code>hashCode()</code> etc.) that gets <strong><em>called implicitly</em></strong> under certain programmatic situations like (just naming a few)</p>\n\n<ul>\n<li>printing an object using <code>println()</code></li>\n<li>printing a <code>Collection</code> of objects <em>(<code>toString()</code> is invoked on all the elements)</em></li>\n<li>concatenation with a String <em>(like <code>strObj = \"My obj as string is \" + myObj;</code>)</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3678447,"reputation":1,"user_id":3063966,"display_name":"Mallikarjuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386123598,"creation_date":1386121721,"answer_id":20365322,"question_id":17051481,"body_markdown":"toString() method is present in Object class, so when u put obj in System.out.println(obj);, impliciyly it will call toString() present in Object class since every user created class will implicitly inherits Object class so as ur newly created class, that means that toString() is available in ur class so it will print something like for example: &quot;PkgNamePackage.Classname@12cf4&quot;\r\nHowever if u explicitely override toString method and give ur own implementation then it will written the string what ever u give in Overriden tostring method();\r\nex:\r\n\r\n    public class DogArray {\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Im the newly created Object&quot;;\r\n        }\r\n\r\n        public static void main(String args[]) {\r\n            DogArray d1 = new DogArray();\r\n            System.out.println(d1);\r\n        }\r\n    }\r\n\r\n    output: Im the newly created Object","title":"How an object will call toString method implicitly?","body":"<p>toString() method is present in Object class, so when u put obj in System.out.println(obj);, impliciyly it will call toString() present in Object class since every user created class will implicitly inherits Object class so as ur newly created class, that means that toString() is available in ur class so it will print something like for example: \"PkgNamePackage.Classname@12cf4\"\nHowever if u explicitely override toString method and give ur own implementation then it will written the string what ever u give in Overriden tostring method();\nex:</p>\n\n<pre><code>public class DogArray {\n    @Override\n    public String toString() {\n        return \"Im the newly created Object\";\n    }\n\n    public static void main(String args[]) {\n        DogArray d1 = new DogArray();\n        System.out.println(d1);\n    }\n}\n\noutput: Im the newly created Object\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9734519,"reputation":1,"user_id":7218240,"display_name":"avinashnarisetty"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1480301797,"creation_date":1480301797,"answer_id":40836538,"question_id":17051481,"body_markdown":"In java object class is super class to the each and every class.whenever your passing parameter to the system.out.println internally object class to string method will be excuted.it returns class name@reference value given but as per our application requirement object class to string method will override in collection and string class.it returns their content.","title":"How an object will call toString method implicitly?","body":"<p>In java object class is super class to the each and every class.whenever your passing parameter to the system.out.println internally object class to string method will be excuted.it returns class name@reference value given but as per our application requirement object class to string method will override in collection and string class.it returns their content.</p>\n"}],"owner":{"account_id":2885877,"reputation":121,"user_id":2475808,"display_name":"user2475808"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25770,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":5,"score":11,"last_activity_date":1663691767,"creation_date":1370976354,"question_id":17051481,"body_markdown":"If I am printing an object of the class then it is printing the `toString()` method implementation even I am not writing the `toString()` method so what are the implementation,how it is calling `toString()` internally?","title":"How an object will call toString method implicitly?","body":"<p>If I am printing an object of the class then it is printing the <code>toString()</code> method implementation even I am not writing the <code>toString()</code> method so what are the implementation,how it is calling <code>toString()</code> internally?</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":19541934,"reputation":412,"user_id":14299513,"display_name":"Suresh"},"score":0,"creation_date":1617962392,"post_id":67018948,"comment_id":118463248,"body_markdown":"What&#39;s the version of database?","body":"What&#39;s the version of database?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1617962424,"post_id":67018948,"comment_id":118463262,"body_markdown":"Attempting to connect to DB2 using the Oracle JDBC driver makes no sense at all. DB2 is an entirely different product than Oracle. Given the error, I&#39;m assuming you&#39;re actually connecting to Oracle, and have removed the db2 tag. Please provide a [mre], including your exact server version, driver version and connection URL. (and no, ojdbc8 is not a version number, it just means the driver is for Java 8).","body":"Attempting to connect to DB2 using the Oracle JDBC driver makes no sense at all. DB2 is an entirely different product than Oracle. Given the error, I&#39;m assuming you&#39;re actually connecting to Oracle, and have removed the db2 tag. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, including your exact server version, driver version and connection URL. (and no, ojdbc8 is not a version number, it just means the driver is for Java 8)."},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":1,"creation_date":1617962910,"post_id":67018948,"comment_id":118463463,"body_markdown":"What is your time zone? You may set it with Environment variable like this: `JAVA_TOOL_OPTIONS=-Duser.timezone=Europe/Zurich`","body":"What is your time zone? You may set it with Environment variable like this: <code>JAVA_TOOL_OPTIONS=-Duser.timezone=Europe&#47;Zurich</code>"},{"owner":{"account_id":19541934,"reputation":412,"user_id":14299513,"display_name":"Suresh"},"score":0,"creation_date":1617964650,"post_id":67018948,"comment_id":118464103,"body_markdown":"Check this [post](https://stackoverflow.com/questions/28452513/how-to-set-the-timezone-region-for-jdbc-connection-and-avoid-the-sqlexception-ti).","body":"Check this <a href=\"https://stackoverflow.com/questions/28452513/how-to-set-the-timezone-region-for-jdbc-connection-and-avoid-the-sqlexception-ti\">post</a>."}],"owner":{"account_id":20619547,"reputation":75,"user_id":15136884,"display_name":"R_S_C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663691752,"creation_date":1617962152,"question_id":67018948,"body_markdown":"While trying to connect to db2, using ojdbc8, I am getting an error:\r\n\r\n&gt; java.sql.SQLException: ORA-00604: error occurred at recursive SQL\r\n&gt; level 1 ORA-01882: timezone region not found\r\n&gt; \r\n&gt; \r\n&gt;  at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509) \r\n&gt; at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:456) \r\n&gt; at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:451) \r\n&gt; at oracle.jdbc.driver.T4CTTIfun.processError(T4CTTIfun.java:1040)  at\r\n&gt; oracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:552)\r\n&gt; at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:550)  at\r\n&gt; oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:268)  at\r\n&gt; oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:501)\r\n&gt; at\r\n&gt; oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1292)\r\n&gt; at\r\n&gt; oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1025)\r\n&gt; at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)  at\r\n&gt; oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\r\n&gt; at\r\n&gt; oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\r\n&gt; at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)  at\r\n&gt; oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)  at\r\n&gt; java.sql.DriverManager.getConnection(DriverManager.java:664)  at\r\n&gt; java.sql.DriverManager.getConnection(DriverManager.java:247)  at\r\n&gt; com.Learnjdbc.Connect.getConnection(Connect.java:33)\r\n\r\nAs per the line in logs, I am getting error on below line\r\n\r\n    conn = DriverManager.getConnection(URL,username,password);\r\n\r\nCode snippet:\r\n\r\n           try {\r\n        \t\t\tClass.forName(className);\r\n        \t\t\tconn = DriverManager.getConnection(URL,username,password);\r\n        \t\t} catch (SQLException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t} catch (ClassNotFoundException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n\r\nThere is one way mentioned in [https://stackoverflow.com/questions/9156379/ora-01882-timezone-region-not-found][1] but this talks about changes in JAR, while I am using maven repo to get packages.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9156379/ora-01882-timezone-region-not-found","title":"ORA-01882: timezone region not found error not letting establish connection","body":"<p>While trying to connect to db2, using ojdbc8, I am getting an error:</p>\n<blockquote>\n<p>java.sql.SQLException: ORA-00604: error occurred at recursive SQL\nlevel 1 ORA-01882: timezone region not found</p>\n<p>at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509)\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:456)\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:451)\nat oracle.jdbc.driver.T4CTTIfun.processError(T4CTTIfun.java:1040)  at\noracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:552)\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:550)  at\noracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:268)  at\noracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:501)\nat\noracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1292)\nat\noracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1025)\nat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:743)  at\noracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\nat\noracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\nat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)  at\noracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)  at\njava.sql.DriverManager.getConnection(DriverManager.java:664)  at\njava.sql.DriverManager.getConnection(DriverManager.java:247)  at\ncom.Learnjdbc.Connect.getConnection(Connect.java:33)</p>\n</blockquote>\n<p>As per the line in logs, I am getting error on below line</p>\n<pre><code>conn = DriverManager.getConnection(URL,username,password);\n</code></pre>\n<p>Code snippet:</p>\n<pre><code>       try {\n                Class.forName(className);\n                conn = DriverManager.getConnection(URL,username,password);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n<p>There is one way mentioned in <a href=\"https://stackoverflow.com/questions/9156379/ora-01882-timezone-region-not-found\">ORA-01882: timezone region not found</a> but this talks about changes in JAR, while I am using maven repo to get packages.</p>\n"},{"tags":["java","spring","timezone","locale"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1292095143,"creation_date":1292074648,"answer_id":4416969,"question_id":4416955,"body_markdown":"I&#39;ve used a `ServletContextListener`. In `contextInitialized(..)` `TimeZone.setDefault(..)` is called.\r\n\r\nIt won&#39;t be taken into account if you rely on the timezone in any constructor or `@PostConstruct` / `afterPropertiesSet()` though.\r\n\r\nIf you need it, take a look at [this question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2401489/execute-method-on-startup-in-spring","title":"Initialize default Locale and Timezone with Spring configuration","body":"<p>I've used a <code>ServletContextListener</code>. In <code>contextInitialized(..)</code> <code>TimeZone.setDefault(..)</code> is called.</p>\n\n<p>It won't be taken into account if you rely on the timezone in any constructor or <code>@PostConstruct</code> / <code>afterPropertiesSet()</code> though.</p>\n\n<p>If you need it, take a look at <a href=\"https://stackoverflow.com/questions/2401489/execute-method-on-startup-in-spring\">this question</a></p>\n"},{"tags":[],"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1414656921,"creation_date":1414656921,"answer_id":26647966,"question_id":4416955,"body_markdown":"I found Spring loads some of its default beans including other beans before calling the contextInitialized method, so, here is a better approach &quot;draft&quot; that I can think of, let me know if you see any concern:\r\n\r\n    public class SystemPropertyDefaultsInitializer \r\n    \timplements WebApplicationInitializer{\r\n    \r\n    \tprivate static final Logger logger = Logger\r\n    \t\t\t.getLogger(SystemPropertyDefaultsInitializer.class);\r\n    \r\n    \t@Override\r\n    \tpublic void onStartup(ServletContext servletContext)\r\n    \t\t\tthrows ServletException {\r\n    \t\tlogger.info(&quot;SystemPropertyWebApplicationInitializer onStartup called&quot;);\r\n    \t\t\r\n    \t\t// can be set runtime before Spring instantiates any beans\r\n    \t\t// TimeZone.setDefault(TimeZone.getTimeZone(&quot;GMT+00:00&quot;));\r\n    \t\tTimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \t\t\r\n    \t\t// cannot override encoding in Spring at runtime as some strings have already been read\r\n    \t\t// however, we can assert and ensure right values are loaded here\r\n    \t\t\r\n    \t\t// verify system property is set\r\n    \t\tAssert.isTrue(&quot;UTF-8&quot;.equals(System.getProperty(&quot;file.encoding&quot;)));\r\n    \t\t\r\n    \t\t// and actually verify it is being used\r\n    \t\tCharset charset = Charset.defaultCharset();\r\n    \t\tAssert.isTrue(charset.equals(Charset.forName(&quot;UTF-8&quot;)));\r\n    \t\t\r\n    \t\t// locale\r\n    \t\t// set and verify language\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Initialize default Locale and Timezone with Spring configuration","body":"<p>I found Spring loads some of its default beans including other beans before calling the contextInitialized method, so, here is a better approach \"draft\" that I can think of, let me know if you see any concern:</p>\n\n<pre><code>public class SystemPropertyDefaultsInitializer \n    implements WebApplicationInitializer{\n\n    private static final Logger logger = Logger\n            .getLogger(SystemPropertyDefaultsInitializer.class);\n\n    @Override\n    public void onStartup(ServletContext servletContext)\n            throws ServletException {\n        logger.info(\"SystemPropertyWebApplicationInitializer onStartup called\");\n\n        // can be set runtime before Spring instantiates any beans\n        // TimeZone.setDefault(TimeZone.getTimeZone(\"GMT+00:00\"));\n        TimeZone.setDefault(TimeZone.getTimeZone(\"UTC\"));\n\n        // cannot override encoding in Spring at runtime as some strings have already been read\n        // however, we can assert and ensure right values are loaded here\n\n        // verify system property is set\n        Assert.isTrue(\"UTF-8\".equals(System.getProperty(\"file.encoding\")));\n\n        // and actually verify it is being used\n        Charset charset = Charset.defaultCharset();\n        Assert.isTrue(charset.equals(Charset.forName(\"UTF-8\")));\n\n        // locale\n        // set and verify language\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2979903,"reputation":1915,"user_id":2530100,"accept_rate":46,"display_name":"richard"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1485244675,"creation_date":1485244675,"answer_id":41822850,"question_id":4416955,"body_markdown":"How about standalone spring boot application? \r\nThe java application looks like:\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    @EnableConfigurationProperties(TaskProperty.class)\r\n    public class JobApplication {\r\n    \r\n    /*\t@Autowired\r\n    \tprivate TaskProperty taskProperty;\r\n    */\t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(JobApplication.class, args);\r\n    \t}\r\n    } \r\n\r\n","title":"Initialize default Locale and Timezone with Spring configuration","body":"<p>How about standalone spring boot application? \nThe java application looks like:</p>\n\n<pre><code>@SpringBootApplication\n@EnableScheduling\n@EnableConfigurationProperties(TaskProperty.class)\npublic class JobApplication {\n\n/*  @Autowired\n    private TaskProperty taskProperty;\n*/  \n    public static void main(String[] args) {\n        SpringApplication.run(JobApplication.class, args);\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586995829,"creation_date":1586992885,"answer_id":61240202,"question_id":4416955,"body_markdown":"It may make sense to ensure that these are set before any beans are processed or initialized, as any beans created before this code is run could end up using the previous system default values.  If you are using Spring Boot, you could do this in the `main` method before even initializing Spring:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        Locale.setDefault(Locale.US);\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;America/New_York&quot;));\r\n\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\nIf this needs to be run as part of a context that doesn&#39;t call the main method, e.g. in a JUnit integration test, you would need to make sure that it&#39;s called:\r\n\r\n```\r\n@SpringBootTest\r\npublic class ApplicationTest {\r\n    @BeforeClass\r\n    public static void initializeLocaleAndTimeZone() {\r\n        // These could be moved into a separate static method in\r\n        // Application.java, to be called in both locations\r\n        Locale.setDefault(Locale.US);\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;America/New_York&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void applicationStartsUpSuccessfully() {\r\n    }\r\n}\r\n```","title":"Initialize default Locale and Timezone with Spring configuration","body":"<p>It may make sense to ensure that these are set before any beans are processed or initialized, as any beans created before this code is run could end up using the previous system default values.  If you are using Spring Boot, you could do this in the <code>main</code> method before even initializing Spring:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        Locale.setDefault(Locale.US);\n        TimeZone.setDefault(TimeZone.getTimeZone(\"America/New_York\"));\n\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>If this needs to be run as part of a context that doesn't call the main method, e.g. in a JUnit integration test, you would need to make sure that it's called:</p>\n\n<pre><code>@SpringBootTest\npublic class ApplicationTest {\n    @BeforeClass\n    public static void initializeLocaleAndTimeZone() {\n        // These could be moved into a separate static method in\n        // Application.java, to be called in both locations\n        Locale.setDefault(Locale.US);\n        TimeZone.setDefault(TimeZone.getTimeZone(\"America/New_York\"));\n    }\n\n    @Test\n    public void applicationStartsUpSuccessfully() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":77238,"reputation":26925,"user_id":220599,"accept_rate":74,"display_name":"Tauren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30199,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":4416969,"answer_count":4,"score":15,"last_activity_date":1663691437,"creation_date":1292074498,"question_id":4416955,"body_markdown":"I&#39;m loading application settings such as JDBC connection info from a properties file using `PropertyPlaceholderConfigurer`. I&#39;d like to also have other settings such as default locale and timezone as properties. \r\n\r\nBut I&#39;m unsure of the best method to execute `Locale.setDefault()` and `TimeZone.setDefault()`. I want them run early in startup and only once. Is there a proper way in Spring to execute some code FIRST, before other code is executed? Any suggestions?\r\n\r\nI know I can specify default values on the command line, but this application will get installed in many places and I want to avoid problems caused by someone forgetting to specify `-Duser.timezone=UTC` or whatever.\r\n\r\n\r\n","title":"Initialize default Locale and Timezone with Spring configuration","body":"<p>I'm loading application settings such as JDBC connection info from a properties file using <code>PropertyPlaceholderConfigurer</code>. I'd like to also have other settings such as default locale and timezone as properties. </p>\n\n<p>But I'm unsure of the best method to execute <code>Locale.setDefault()</code> and <code>TimeZone.setDefault()</code>. I want them run early in startup and only once. Is there a proper way in Spring to execute some code FIRST, before other code is executed? Any suggestions?</p>\n\n<p>I know I can specify default values on the command line, but this application will get installed in many places and I want to avoid problems caused by someone forgetting to specify <code>-Duser.timezone=UTC</code> or whatever.</p>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1663693792,"post_id":73789829,"comment_id":130298388,"body_markdown":"`data/logs/log` is a relative file name.  Whether it exists will depend on the [current directory](https://en.wikipedia.org/wiki/Working_directory) of the Java process.  Unless you are explicitly changing to a particular directory every time you run your Java program, the real location of data/logs/log is *not* guaranteed.","body":"<code>data&#47;logs&#47;log</code> is a relative file name.  Whether it exists will depend on the <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">current directory</a> of the Java process.  Unless you are explicitly changing to a particular directory every time you run your Java program, the real location of data/logs/log is <i>not</i> guaranteed."},{"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"score":0,"creation_date":1663714369,"post_id":73789829,"comment_id":130303879,"body_markdown":"so how can I fix it?","body":"so how can I fix it?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1663760674,"post_id":73789829,"comment_id":130314249,"body_markdown":"You can fix it by using a known location, instead of blindly hoping that the current directory is writable.  The current user’s home directory is usually a good choice;  for example, `System.getProperty(&quot;user.home&quot;) + &quot;/data/logs/log&quot;`.  Also, make sure the parent directory exists using [Files.createDirectories](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#createDirectories(java.nio.file.Path,java.nio.file.attribute.FileAttribute...)).","body":"You can fix it by using a known location, instead of blindly hoping that the current directory is writable.  The current user’s home directory is usually a good choice;  for example, <code>System.getProperty(&quot;user.home&quot;) + &quot;&#47;data&#47;logs&#47;log&quot;</code>.  Also, make sure the parent directory exists using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#createDirectories(java.nio.file.Path,java.nio.file.attribute.FileAttribute...)\" rel=\"nofollow noreferrer\">Files.createDirectories</a>."}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663691120,"creation_date":1663691120,"question_id":73789829,"body_markdown":"I&#39;m trying to create a jar file from my project where I use `java.utils.logging` and I&#39;m getting NoSuchFileException when running the jar with **&quot;java -jar .\\RideShare-2.0-jar-with-dependencies.jar&quot;**.\r\n\r\nThe `\\logs` folder does exist and the code is running perfectly when I run it without a jar file.\r\n\r\nWhat did I do wrong?\r\n\r\n### error\r\n\r\n```\r\n\r\njava.nio.file.NoSuchFileException: data\\logs\\log.0.lck\r\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newFileChannel(WindowsFileSystemProvider.java:121)\r\n        at java.base/java.nio.channels.FileChannel.open(FileChannel.java:298)\r\n        at java.base/java.nio.channels.FileChannel.open(FileChannel.java:357)\r\n        at java.logging/java.util.logging.FileHandler.openFiles(FileHandler.java:512)\r\n        at java.logging/java.util.logging.FileHandler.&lt;init&gt;(FileHandler.java:378)\r\n        at utils.logs.LogHandler.&lt;clinit&gt;(LogHandler.java:42)\r\n        at app.Main.init(Main.java:108)\r\n        at app.Main.main(Main.java:69)\r\n```\r\n\r\n### Logger file\r\n```java\r\npublic class LogHandler{\r\n    public static Logger LOGGER = Logger.getLogger(LogHandler.class.getName());\r\n    public static ConsoleHandler CONSOLE_HANDLER = new ConsoleHandler();;\r\n    public static Handler FILE_HANDLER;\r\n\r\n    static{\r\n        LOGGER.setUseParentHandlers(false);\r\n        LOGGER.setLevel(Level.ALL);\r\n\r\n        try {\r\n            //file handler\r\n            FILE_HANDLER = new FileHandler(&quot;data/logs/log&quot;, 20000, 10);\r\n            FILE_HANDLER.setFormatter(new LineFormat());\r\n            FILE_HANDLER.setLevel(Level.ALL);\r\n\r\n            //console handler\r\n            CONSOLE_HANDLER.setFormatter(new colorFormat());\r\n            CONSOLE_HANDLER.setLevel(Level.ALL);\r\n\r\n            //add custom handlers\r\n            LOGGER.addHandler(FILE_HANDLER);\r\n            LOGGER.addHandler(CONSOLE_HANDLER);\r\n\r\n        } catch (SecurityException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n### pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.finalProject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;RideShare&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0&lt;/version&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;app.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n    .\r\n    .\r\n    .\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"&#39; .lck&#39; file gives NoSuchFileException in maven jar","body":"<p>I'm trying to create a jar file from my project where I use <code>java.utils.logging</code> and I'm getting NoSuchFileException when running the jar with <strong>&quot;java -jar .\\RideShare-2.0-jar-with-dependencies.jar&quot;</strong>.</p>\n<p>The <code>\\logs</code> folder does exist and the code is running perfectly when I run it without a jar file.</p>\n<p>What did I do wrong?</p>\n<h3>error</h3>\n<pre><code>\njava.nio.file.NoSuchFileException: data\\logs\\log.0.lck\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newFileChannel(WindowsFileSystemProvider.java:121)\n        at java.base/java.nio.channels.FileChannel.open(FileChannel.java:298)\n        at java.base/java.nio.channels.FileChannel.open(FileChannel.java:357)\n        at java.logging/java.util.logging.FileHandler.openFiles(FileHandler.java:512)\n        at java.logging/java.util.logging.FileHandler.&lt;init&gt;(FileHandler.java:378)\n        at utils.logs.LogHandler.&lt;clinit&gt;(LogHandler.java:42)\n        at app.Main.init(Main.java:108)\n        at app.Main.main(Main.java:69)\n</code></pre>\n<h3>Logger file</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class LogHandler{\n    public static Logger LOGGER = Logger.getLogger(LogHandler.class.getName());\n    public static ConsoleHandler CONSOLE_HANDLER = new ConsoleHandler();;\n    public static Handler FILE_HANDLER;\n\n    static{\n        LOGGER.setUseParentHandlers(false);\n        LOGGER.setLevel(Level.ALL);\n\n        try {\n            //file handler\n            FILE_HANDLER = new FileHandler(&quot;data/logs/log&quot;, 20000, 10);\n            FILE_HANDLER.setFormatter(new LineFormat());\n            FILE_HANDLER.setLevel(Level.ALL);\n\n            //console handler\n            CONSOLE_HANDLER.setFormatter(new colorFormat());\n            CONSOLE_HANDLER.setLevel(Level.ALL);\n\n            //add custom handlers\n            LOGGER.addHandler(FILE_HANDLER);\n            LOGGER.addHandler(CONSOLE_HANDLER);\n\n        } catch (SecurityException | IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<h3>pom.xml</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.finalProject&lt;/groupId&gt;\n    &lt;artifactId&gt;RideShare&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;app.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n    .\n    .\n    .\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663690946,"creation_date":1663690946,"answer_id":73789801,"question_id":73789320,"body_markdown":"What you&#39;re looking for is just\r\n\r\n```\r\nprivate  &lt;T&gt; T callApi(Class&lt;T&gt; type, String endpoint) {\r\n  T responseSuccessObject = null;\r\n  String responseBody = ...\r\n  responseSuccessObject = (T) gson.fromJson(responseBody, type);\r\n}\r\n```\r\n\r\nIf there were a solution that avoided passing along the `Class` object, Gson would already use it.  There isn&#39;t.  To learn more, research [type erasure](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html).","title":"how to use gson.fromJson with generic type T","body":"<p>What you're looking for is just</p>\n<pre><code>private  &lt;T&gt; T callApi(Class&lt;T&gt; type, String endpoint) {\n  T responseSuccessObject = null;\n  String responseBody = ...\n  responseSuccessObject = (T) gson.fromJson(responseBody, type);\n}\n</code></pre>\n<p>If there were a solution that avoided passing along the <code>Class</code> object, Gson would already use it.  There isn't.  To learn more, research <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>.</p>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73789801,"answer_count":1,"score":1,"last_activity_date":1663690946,"creation_date":1663688331,"question_id":73789320,"body_markdown":"I am trying to build a generic method which will call any of an APIs specific endpoints, each of which returns its own object type.\r\n\r\n    private  &lt;T&gt; T callApi(String endpoint) {\r\n      T responseSuccessObject = null;\r\n      String responseBody = ...\r\n      responseSuccessObject = (T) gson.fromJson(responseBody, responseSuccessObject.getClass());\r\n    }\r\n\r\nThe above does not work (fails with null pointer exception)\r\n\r\nAlso tried this:\r\n\r\n    private  &lt;T&gt; T callApi(String endpoint) {\r\n      T responseSuccessObject = (T) new Object();\r\n      String responseBody = ...\r\n      responseSuccessObject = (T) gson.fromJson(responseBody, responseSuccessObject.getClass());\r\n    }\r\n\r\nWhich fails with this: \r\n\r\n    com.xx.AuthResponseModel is in unnamed module of loader org.apache.felix.framework.BundleWiringImpl$BundleClassLoader @58bd8c78)\r\n\r\nI have seen a possible solution by passing in a dummy object of the required class, but this is not an ideal option, as it would require adding and passing the type parameter down a long line of calls.\r\n\r\nNot sure how this would work.\r\n\r\n    private  &lt;T&gt; T callApi(Class&lt;T&gt; type, String endpoint) {\r\n      T responseSuccessObject = null;\r\n      String responseBody = ...\r\n      responseSuccessObject = (T) gson.fromJson(responseBody, ?);\r\n    }","title":"how to use gson.fromJson with generic type T","body":"<p>I am trying to build a generic method which will call any of an APIs specific endpoints, each of which returns its own object type.</p>\n<pre><code>private  &lt;T&gt; T callApi(String endpoint) {\n  T responseSuccessObject = null;\n  String responseBody = ...\n  responseSuccessObject = (T) gson.fromJson(responseBody, responseSuccessObject.getClass());\n}\n</code></pre>\n<p>The above does not work (fails with null pointer exception)</p>\n<p>Also tried this:</p>\n<pre><code>private  &lt;T&gt; T callApi(String endpoint) {\n  T responseSuccessObject = (T) new Object();\n  String responseBody = ...\n  responseSuccessObject = (T) gson.fromJson(responseBody, responseSuccessObject.getClass());\n}\n</code></pre>\n<p>Which fails with this:</p>\n<pre><code>com.xx.AuthResponseModel is in unnamed module of loader org.apache.felix.framework.BundleWiringImpl$BundleClassLoader @58bd8c78)\n</code></pre>\n<p>I have seen a possible solution by passing in a dummy object of the required class, but this is not an ideal option, as it would require adding and passing the type parameter down a long line of calls.</p>\n<p>Not sure how this would work.</p>\n<pre><code>private  &lt;T&gt; T callApi(Class&lt;T&gt; type, String endpoint) {\n  T responseSuccessObject = null;\n  String responseBody = ...\n  responseSuccessObject = (T) gson.fromJson(responseBody, ?);\n}\n</code></pre>\n"},{"tags":["java","multithreading","kotlin","annotations"],"answers":[{"tags":[],"owner":{"account_id":12411897,"reputation":8867,"user_id":12191177,"display_name":"IR42"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663690704,"creation_date":1663690704,"answer_id":73789762,"question_id":73789615,"body_markdown":"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets \r\n```\r\n@get:UiThread\r\nval order get() = value.order\r\n```\r\nor \r\n```\r\nval order @UiThread get() = value.order\r\n```","title":"Using java thread annotations on kotlin properties","body":"<p><a href=\"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets</a></p>\n<pre><code>@get:UiThread\nval order get() = value.order\n</code></pre>\n<p>or</p>\n<pre><code>val order @UiThread get() = value.order\n</code></pre>\n"}],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663690704,"creation_date":1663689924,"question_id":73789615,"body_markdown":"I am using java annotations @UiThread @AnyThread @WorkerThread that help me to better understand my code and also notify me not supposed thread call of method. Howwhere there is BIG limitations that ruins whole purpose that I cannnot use them on properties:\r\n\r\n    @UiThread\r\n    val order get() = value.order\r\n\r\nGives: \r\n\r\n&gt; This annotation is not applicable to target &#39;member property without\r\n&gt; backing field or delegate&#39;\r\n\r\nIs there no any other library with some preprocessor or anything other that just solve this little issue ? This looks to me like unfinished language feature. Looks like they where not supposed for kotlin maybe ? So kotlin has no way of being working with this correctly ?","title":"Using java thread annotations on kotlin properties","body":"<p>I am using java annotations @UiThread @AnyThread @WorkerThread that help me to better understand my code and also notify me not supposed thread call of method. Howwhere there is BIG limitations that ruins whole purpose that I cannnot use them on properties:</p>\n<pre><code>@UiThread\nval order get() = value.order\n</code></pre>\n<p>Gives:</p>\n<blockquote>\n<p>This annotation is not applicable to target 'member property without\nbacking field or delegate'</p>\n</blockquote>\n<p>Is there no any other library with some preprocessor or anything other that just solve this little issue ? This looks to me like unfinished language feature. Looks like they where not supposed for kotlin maybe ? So kotlin has no way of being working with this correctly ?</p>\n"},{"tags":["java","keycloak","infinispan"],"comments":[{"owner":{"account_id":26392813,"reputation":1,"user_id":20044456,"display_name":"satanshiro"},"score":0,"creation_date":1663695493,"post_id":73789707,"comment_id":130298932,"body_markdown":"and I need to add the configuration because of getting this error Unexpected error: retrieving data. &quot;ISPN000936: Class &#39;org.keycloak.cluster.infinispan.WrapperClusterEvent&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;","body":"and I need to add the configuration because of getting this error Unexpected error: retrieving data. &quot;ISPN000936: Class &#39;org.keycloak.cluster.infinispan.WrapperClusterEvent&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;"},{"owner":{"account_id":3136416,"reputation":462,"user_id":2652847,"display_name":"Petr H"},"score":0,"creation_date":1664815452,"post_id":73789707,"comment_id":130552426,"body_markdown":"You probably use some persistent store that was created using another serialization (protostream ?) and it can&#39;t be read now. Clearing and thus forcing the persistent store recreation could help.\n\nHowever I can report that I&#39;m unable to get past the ISPN000936 even with the properly working config and the desired classes on the allow-list. It appears that it doesn&#39;t work with clustered caches and media-type application/x-java-object (which is what I&#39;d like to achieve in order to avoid serialization for local objects).","body":"You probably use some persistent store that was created using another serialization (protostream ?) and it can&#39;t be read now. Clearing and thus forcing the persistent store recreation could help.  However I can report that I&#39;m unable to get past the ISPN000936 even with the properly working config and the desired classes on the allow-list. It appears that it doesn&#39;t work with clustered caches and media-type application/x-java-object (which is what I&#39;d like to achieve in order to avoid serialization for local objects)."},{"owner":{"account_id":26392813,"reputation":1,"user_id":20044456,"display_name":"satanshiro"},"score":0,"creation_date":1675950377,"post_id":73789707,"comment_id":133040592,"body_markdown":"I ended not using an external infinispan server and instead just used keycloaks embedded infinispan feature that is easily configured. I&#39;m not sure what are the ups and downs for this but atleast for now I can scale down and up multiple keycloak replicas, I can have a full restart of all of keycloak pods and won&#39;t lose sessions.","body":"I ended not using an external infinispan server and instead just used keycloaks embedded infinispan feature that is easily configured. I&#39;m not sure what are the ups and downs for this but atleast for now I can scale down and up multiple keycloak replicas, I can have a full restart of all of keycloak pods and won&#39;t lose sessions."}],"owner":{"account_id":26392813,"reputation":1,"user_id":20044456,"display_name":"satanshiro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663690416,"creation_date":1663690416,"question_id":73789707,"body_markdown":"extending infinispan configuration with a configmap on kubernetes\r\nI have the following configuration:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;infinispan&gt;\r\n      &lt;cache-container&gt;\r\n        &lt;serialization marshaller=&quot;org.infinispan.commons.marshall.JavaSerializationMarshaller&quot;&gt;\r\n          &lt;allow-list&gt;\r\n            &lt;class&gt;org.keycloak.cluster.infinispan.WrapperClusterEvent&lt;/class&gt;\r\n            &lt;class&gt;java.time.Instant&lt;/class&gt;\r\n            &lt;regex&gt;.*&lt;/regex&gt;\r\n          &lt;/allow-list&gt;\r\n        &lt;/serialization&gt;\r\n      &lt;/cache-container&gt;\r\n    &lt;/infinispan&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI checked several times and my ispn starts normally without the serialization tag and using other tags such as replicated-cache-configuration works and pods start normally, \r\nso I know that the serialization tag is the culprit but I can&#39;t understand why\r\nhttps://infinispan.org/docs/13.0.x/titles/encoding/encoding.html#adding-deserialization-allowlist_marshaller-implementations\r\nam I missing something from the docs?\r\n\r\nthe error:\r\n```\r\n15:49:13,130 FATAL (main) [org.infinispan.SERVER] ISPN080028: Infinispan Server failed to start org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\r\n\tat org.infinispan.manager.DefaultCacheManager.internalStart(DefaultCacheManager.java:770)\r\n\tat org.infinispan.manager.DefaultCacheManager.start(DefaultCacheManager.java:734)\r\n\tat org.infinispan.server.SecurityActions.lambda$startCacheManager$1(SecurityActions.java:69)\r\n\tat org.infinispan.security.Security.doPrivileged(Security.java:56)\r\n\tat org.infinispan.server.SecurityActions.doPrivileged(SecurityActions.java:40)\r\n\tat org.infinispan.server.SecurityActions.startCacheManager(SecurityActions.java:72)\r\n\tat org.infinispan.server.Server.run(Server.java:398)\r\n\tat org.infinispan.server.Bootstrap.runInternal(Bootstrap.java:165)\r\n\tat org.infinispan.server.tool.Main.run(Main.java:98)\r\n\tat org.infinispan.server.Bootstrap.main(Bootstrap.java:50)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.infinispan.server.loader.Loader.run(Loader.java:106)\r\n\tat org.infinispan.server.loader.Loader.main(Loader.java:51)\r\nCaused by: org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:585)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startDependencies(BasicComponentRegistryImpl.java:635)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:599)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startDependencies(BasicComponentRegistryImpl.java:635)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:599)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startDependencies(BasicComponentRegistryImpl.java:635)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:599)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startDependencies(BasicComponentRegistryImpl.java:635)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:599)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\r\n\tat org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:354)\r\n\tat org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:250)\r\n\tat org.infinispan.factories.ComponentRegistry.start(ComponentRegistry.java:216)\r\n\tat org.infinispan.cache.impl.CacheImpl.start(CacheImpl.java:1014)\r\n\tat org.infinispan.cache.impl.AbstractDelegatingCache.start(AbstractDelegatingCache.java:512)\r\n\tat org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:714)\r\n\tat org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:660)\r\n\tat org.infinispan.manager.DefaultCacheManager.internalGetCache(DefaultCacheManager.java:549)\r\n\tat org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:517)\r\n\tat org.infinispan.security.actions.GetCacheAction.run(GetCacheAction.java:26)\r\n\tat org.infinispan.security.actions.GetCacheAction.run(GetCacheAction.java:14)\r\n\tat org.infinispan.security.Security.doPrivileged(Security.java:61)\r\n\tat org.infinispan.globalstate.impl.SecurityActions.doPrivileged(SecurityActions.java:30)\r\n\tat org.infinispan.globalstate.impl.SecurityActions.getCache(SecurityActions.java:39)\r\n\tat org.infinispan.globalstate.impl.GlobalConfigurationManagerImpl.start(GlobalConfigurationManagerImpl.java:104)\r\n\tat org.infinispan.globalstate.impl.CorePackageImpl$2.start(CorePackageImpl.java:60)\r\n\tat org.infinispan.globalstate.impl.CorePackageImpl$2.start(CorePackageImpl.java:48)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.invokeStart(BasicComponentRegistryImpl.java:617)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:608)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\r\n\tat org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\r\n\tat org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:354)\r\n\tat org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:250)\r\n\tat org.infinispan.manager.DefaultCacheManager.internalStart(DefaultCacheManager.java:766)\r\n\t... 15 more\r\nCaused by: java.util.concurrent.CompletionException: org.infinispan.persistence.spi.PersistenceException: java.io.StreamCorruptedException: invalid stream header: 9801ED07\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1739)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.infinispan.persistence.spi.PersistenceException: java.io.StreamCorruptedException: invalid stream header: 9801ED07\r\n\tat org.infinispan.persistence.file.SingleFileStore.blockingStart(SingleFileStore.java:231)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736)\r\n\t... 5 more\r\nCaused by: java.io.StreamCorruptedException: invalid stream header: 9801ED07\r\n\tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:940)\r\n\tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:379)\r\n\tat org.infinispan.commons.marshall.CheckedInputStream.&lt;init&gt;(CheckedInputStream.java:18)\r\n\tat org.infinispan.commons.marshall.JavaSerializationMarshaller.objectFromByteBuffer(JavaSerializationMarshaller.java:52)\r\n\tat org.infinispan.commons.marshall.AbstractMarshaller.objectFromByteBuffer(AbstractMarshaller.java:82)\r\n\tat org.infinispan.marshall.core.impl.DelegatingUserMarshaller.objectFromByteBuffer(DelegatingUserMarshaller.java:63)\r\n\tat org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.read(MarshallableUserObject.java:139)\r\n\tat org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.read(MarshallableUserObject.java:100)\r\n\tat org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.unmarshall(ProtobufTagMarshallerDelegate.java:32)\r\n\tat org.infinispan.protostream.WrappedMessage.readMessage(WrappedMessage.java:539)\r\n\tat org.infinispan.protostream.WrappedMessage.read(WrappedMessage.java:351)\r\n\tat org.infinispan.protostream.ProtobufUtil.fromWrappedByteArray(ProtobufUtil.java:129)\r\n\tat org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectFromByteBuffer(AbstractInternalProtoStreamMarshaller.java:97)\r\n\tat org.infinispan.persistence.file.SingleFileStore.rebuildIndex(SingleFileStore.java:395)\r\n\tat org.infinispan.persistence.file.SingleFileStore.blockingStart(SingleFileStore.java:205)\r\n\t... 6 more\r\n```\r\n","title":"infinispan server fails to start when adding serialization configuration","body":"<p>extending infinispan configuration with a configmap on kubernetes\nI have the following configuration:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;infinispan&gt;\n  &lt;cache-container&gt;\n    &lt;serialization marshaller=&quot;org.infinispan.commons.marshall.JavaSerializationMarshaller&quot;&gt;\n      &lt;allow-list&gt;\n        &lt;class&gt;org.keycloak.cluster.infinispan.WrapperClusterEvent&lt;/class&gt;\n        &lt;class&gt;java.time.Instant&lt;/class&gt;\n        &lt;regex&gt;.*&lt;/regex&gt;\n      &lt;/allow-list&gt;\n    &lt;/serialization&gt;\n  &lt;/cache-container&gt;\n&lt;/infinispan&gt;\n</code></pre>\n\n<p>I checked several times and my ispn starts normally without the serialization tag and using other tags such as replicated-cache-configuration works and pods start normally,\nso I know that the serialization tag is the culprit but I can't understand why\n<a href=\"https://infinispan.org/docs/13.0.x/titles/encoding/encoding.html#adding-deserialization-allowlist_marshaller-implementations\" rel=\"nofollow noreferrer\">https://infinispan.org/docs/13.0.x/titles/encoding/encoding.html#adding-deserialization-allowlist_marshaller-implementations</a>\nam I missing something from the docs?</p>\n<p>the error:</p>\n<pre><code>15:49:13,130 FATAL (main) [org.infinispan.SERVER] ISPN080028: Infinispan Server failed to start org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\n    at org.infinispan.manager.DefaultCacheManager.internalStart(DefaultCacheManager.java:770)\n    at org.infinispan.manager.DefaultCacheManager.start(DefaultCacheManager.java:734)\n    at org.infinispan.server.SecurityActions.lambda$startCacheManager$1(SecurityActions.java:69)\n    at org.infinispan.security.Security.doPrivileged(Security.java:56)\n    at org.infinispan.server.SecurityActions.doPrivileged(SecurityActions.java:40)\n    at org.infinispan.server.SecurityActions.startCacheManager(SecurityActions.java:72)\n    at org.infinispan.server.Server.run(Server.java:398)\n    at org.infinispan.server.Bootstrap.runInternal(Bootstrap.java:165)\n    at org.infinispan.server.tool.Main.run(Main.java:98)\n    at org.infinispan.server.Bootstrap.main(Bootstrap.java:50)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.infinispan.server.loader.Loader.run(Loader.java:106)\n    at org.infinispan.server.loader.Loader.main(Loader.java:51)\nCaused by: org.infinispan.commons.CacheConfigurationException: Error starting component org.infinispan.persistence.manager.PersistenceManager\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:585)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startDependencies(BasicComponentRegistryImpl.java:635)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:599)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startDependencies(BasicComponentRegistryImpl.java:635)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:599)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startDependencies(BasicComponentRegistryImpl.java:635)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:599)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startDependencies(BasicComponentRegistryImpl.java:635)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:599)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\n    at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:354)\n    at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:250)\n    at org.infinispan.factories.ComponentRegistry.start(ComponentRegistry.java:216)\n    at org.infinispan.cache.impl.CacheImpl.start(CacheImpl.java:1014)\n    at org.infinispan.cache.impl.AbstractDelegatingCache.start(AbstractDelegatingCache.java:512)\n    at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:714)\n    at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:660)\n    at org.infinispan.manager.DefaultCacheManager.internalGetCache(DefaultCacheManager.java:549)\n    at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:517)\n    at org.infinispan.security.actions.GetCacheAction.run(GetCacheAction.java:26)\n    at org.infinispan.security.actions.GetCacheAction.run(GetCacheAction.java:14)\n    at org.infinispan.security.Security.doPrivileged(Security.java:61)\n    at org.infinispan.globalstate.impl.SecurityActions.doPrivileged(SecurityActions.java:30)\n    at org.infinispan.globalstate.impl.SecurityActions.getCache(SecurityActions.java:39)\n    at org.infinispan.globalstate.impl.GlobalConfigurationManagerImpl.start(GlobalConfigurationManagerImpl.java:104)\n    at org.infinispan.globalstate.impl.CorePackageImpl$2.start(CorePackageImpl.java:60)\n    at org.infinispan.globalstate.impl.CorePackageImpl$2.start(CorePackageImpl.java:48)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.invokeStart(BasicComponentRegistryImpl.java:617)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.doStartWrapper(BasicComponentRegistryImpl.java:608)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.startWrapper(BasicComponentRegistryImpl.java:577)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl.access$700(BasicComponentRegistryImpl.java:30)\n    at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:808)\n    at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:354)\n    at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:250)\n    at org.infinispan.manager.DefaultCacheManager.internalStart(DefaultCacheManager.java:766)\n    ... 15 more\nCaused by: java.util.concurrent.CompletionException: org.infinispan.persistence.spi.PersistenceException: java.io.StreamCorruptedException: invalid stream header: 9801ED07\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1739)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.infinispan.persistence.spi.PersistenceException: java.io.StreamCorruptedException: invalid stream header: 9801ED07\n    at org.infinispan.persistence.file.SingleFileStore.blockingStart(SingleFileStore.java:231)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736)\n    ... 5 more\nCaused by: java.io.StreamCorruptedException: invalid stream header: 9801ED07\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:940)\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:379)\n    at org.infinispan.commons.marshall.CheckedInputStream.&lt;init&gt;(CheckedInputStream.java:18)\n    at org.infinispan.commons.marshall.JavaSerializationMarshaller.objectFromByteBuffer(JavaSerializationMarshaller.java:52)\n    at org.infinispan.commons.marshall.AbstractMarshaller.objectFromByteBuffer(AbstractMarshaller.java:82)\n    at org.infinispan.marshall.core.impl.DelegatingUserMarshaller.objectFromByteBuffer(DelegatingUserMarshaller.java:63)\n    at org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.read(MarshallableUserObject.java:139)\n    at org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.read(MarshallableUserObject.java:100)\n    at org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.unmarshall(ProtobufTagMarshallerDelegate.java:32)\n    at org.infinispan.protostream.WrappedMessage.readMessage(WrappedMessage.java:539)\n    at org.infinispan.protostream.WrappedMessage.read(WrappedMessage.java:351)\n    at org.infinispan.protostream.ProtobufUtil.fromWrappedByteArray(ProtobufUtil.java:129)\n    at org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectFromByteBuffer(AbstractInternalProtoStreamMarshaller.java:97)\n    at org.infinispan.persistence.file.SingleFileStore.rebuildIndex(SingleFileStore.java:395)\n    at org.infinispan.persistence.file.SingleFileStore.blockingStart(SingleFileStore.java:205)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","math","excel-formula","apache-commons-math"],"comments":[{"owner":{"account_id":1252022,"reputation":19996,"user_id":6730571,"display_name":"Hugues M."},"score":1,"creation_date":1504857221,"post_id":46102149,"comment_id":79185110,"body_markdown":"If you want to track future changes to that function, it was removed from `commons-math-4` (not released yet) and included in new (unreleased) project `commons-numbers` in its own class [InverseErf](https://github.com/apache/commons-numbers/blob/master/commons-numbers-gamma/src/main/java/org/apache/commons/numbers/gamma/InverseErf.java) (but the code looks identical right now, including typo in comments...)","body":"If you want to track future changes to that function, it was removed from <code>commons-math-4</code> (not released yet) and included in new (unreleased) project <code>commons-numbers</code> in its own class <a href=\"https://github.com/apache/commons-numbers/blob/master/commons-numbers-gamma/src/main/java/org/apache/commons/numbers/gamma/InverseErf.java\" rel=\"nofollow noreferrer\">InverseErf</a> (but the code looks identical right now, including typo in comments...)"}],"owner":{"account_id":4013647,"reputation":798,"user_id":3306402,"accept_rate":43,"display_name":"Sxilderik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1663690342,"creation_date":1504805525,"question_id":46102149,"body_markdown":"I have to compute in Java the same result as Excel `NORM.S.INV`.\r\n\r\n&lt;sup&gt;(actually using [`LOI.NORMALE.STANDARD.INVERSE`](https://support.office.com/fr-fr/article/LOI-NORMALE-STANDARD-INVERSE-LOI-NORMALE-STANDARD-INVERSE-fonction-8d1bce66-8e4d-4f3b-967c-30eed61f019d) in French, that&#39;s [`NORM.S.INV`](https://support.office.com/en-us/article/NORM-S-INV-function-d6d556b4-ab7f-49cd-b526-5a20918452b1) in English)&lt;/sup&gt;\r\n\r\nI use `org.apache.commons.math3.special.Erf.erfInv` this way:\r\n\r\n    return Math.sqrt(2) * Erf.erfInv(2 * p - 1);\r\n\r\nBut when `p` is small enough (around `1e-17`), `erfInv` returns `Infinity`, because when `p` is that small, `2 * p -1` is equal to `-1`.\r\n\r\nSo I created a modified `erfInv` function, preventing this kind of problem by turning the equations around, and it works well, well, up to a point.\r\n\r\n----------\r\n\r\n\tpublic double inverseCumulativeProbability(final double p) throws OutOfRangeException {\r\n\r\n\t\tif (p &lt; 0.0 || p &gt; 1.0) {\r\n\t\t\tthrow new OutOfRangeException(Double.valueOf(p), Double.valueOf(0), Double.valueOf(1));\r\n\t\t}\r\n\t\tfinal boolean precisionError = p &gt; 0 &amp;&amp; Double.compare(1 - 2 * p, 1) == 0;\r\n\t\treturn FastMath.sqrt(2) * (precisionError ? this.erfInvModified(2 * p) : Erf.erfInv(2 * p - 1));\r\n\t}\r\n\r\n\t/**\r\n\t * Rewrite of {@link Erf#erfInv(double)} using a parameter which has yet to be subtracted 1, which has not been\r\n\t * done because of the error ε -1 = -1\r\n\t *\r\n\t * @param ε a very small value, which has yet to be subtracted 1\r\n\t * @return the correct value\r\n\t */\r\n\tprivate double erfInvModified(final double ε) {\r\n\r\n\t\t// the original writing [ (1 - (ε - 1)) &#215; (1 + ( ε - 1)) ] gave a result of 0 instead of  [ 2 &#215; ε ]\r\n\t\tdouble w = -FastMath.log(2 * ε);\r\n\t\tdouble p = this.__originalCode(w);\r\n\r\n\t\t// rounding equivalent to the original writing [ p &#215; (ε - 1) ]\r\n\t\treturn -p;\r\n\t}\r\n\r\n\t/**\r\n\t * This part is copied unmodified from the original erfInv method\r\n\t */\r\n\tprivate double __originalCode(double w) {\r\n\r\n\t\tdouble p;\r\n\r\n\t\tif (w &lt; 6.25) {\r\n\t\t\tw = w - 3.125;\r\n\t\t\tp = -3.6444120640178196996e-21;\r\n\t\t\tp = -1.685059138182016589e-19 + p * w;\r\n\t\t\tp = 1.2858480715256400167e-18 + p * w;\r\n\t\t\tp = 1.115787767802518096e-17 + p * w;\r\n\t\t\tp = -1.333171662854620906e-16 + p * w;\r\n\t\t\tp = 2.0972767875968561637e-17 + p * w;\r\n\t\t\tp = 6.6376381343583238325e-15 + p * w;\r\n\t\t\tp = -4.0545662729752068639e-14 + p * w;\r\n\t\t\tp = -8.1519341976054721522e-14 + p * w;\r\n\t\t\tp = 2.6335093153082322977e-12 + p * w;\r\n\t\t\tp = -1.2975133253453532498e-11 + p * w;\r\n\t\t\tp = -5.4154120542946279317e-11 + p * w;\r\n\t\t\tp = 1.051212273321532285e-09 + p * w;\r\n\t\t\tp = -4.1126339803469836976e-09 + p * w;\r\n\t\t\tp = -2.9070369957882005086e-08 + p * w;\r\n\t\t\tp = 4.2347877827932403518e-07 + p * w;\r\n\t\t\tp = -1.3654692000834678645e-06 + p * w;\r\n\t\t\tp = -1.3882523362786468719e-05 + p * w;\r\n\t\t\tp = 0.0001867342080340571352 + p * w;\r\n\t\t\tp = -0.00074070253416626697512 + p * w;\r\n\t\t\tp = -0.0060336708714301490533 + p * w;\r\n\t\t\tp = 0.24015818242558961693 + p * w;\r\n\t\t\tp = 1.6536545626831027356 + p * w;\r\n\t\t}\r\n\t\telse if (w &lt; 16.0) {\r\n\t\t\tw = FastMath.sqrt(w) - 3.25;\r\n\t\t\tp = 2.2137376921775787049e-09;\r\n\t\t\tp = 9.0756561938885390979e-08 + p * w;\r\n\t\t\tp = -2.7517406297064545428e-07 + p * w;\r\n\t\t\tp = 1.8239629214389227755e-08 + p * w;\r\n\t\t\tp = 1.5027403968909827627e-06 + p * w;\r\n\t\t\tp = -4.013867526981545969e-06 + p * w;\r\n\t\t\tp = 2.9234449089955446044e-06 + p * w;\r\n\t\t\tp = 1.2475304481671778723e-05 + p * w;\r\n\t\t\tp = -4.7318229009055733981e-05 + p * w;\r\n\t\t\tp = 6.8284851459573175448e-05 + p * w;\r\n\t\t\tp = 2.4031110387097893999e-05 + p * w;\r\n\t\t\tp = -0.0003550375203628474796 + p * w;\r\n\t\t\tp = 0.00095328937973738049703 + p * w;\r\n\t\t\tp = -0.0016882755560235047313 + p * w;\r\n\t\t\tp = 0.0024914420961078508066 + p * w;\r\n\t\t\tp = -0.0037512085075692412107 + p * w;\r\n\t\t\tp = 0.005370914553590063617 + p * w;\r\n\t\t\tp = 1.0052589676941592334 + p * w;\r\n\t\t\tp = 3.0838856104922207635 + p * w;\r\n\t\t}\r\n\t\telse if (!Double.isInfinite(w)) {\r\n\t\t\tw = FastMath.sqrt(w) - 5.0;\r\n\t\t\tp = -2.7109920616438573243e-11;\r\n\t\t\tp = -2.5556418169965252055e-10 + p * w;\r\n\t\t\tp = 1.5076572693500548083e-09 + p * w;\r\n\t\t\tp = -3.7894654401267369937e-09 + p * w;\r\n\t\t\tp = 7.6157012080783393804e-09 + p * w;\r\n\t\t\tp = -1.4960026627149240478e-08 + p * w;\r\n\t\t\tp = 2.9147953450901080826e-08 + p * w;\r\n\t\t\tp = -6.7711997758452339498e-08 + p * w;\r\n\t\t\tp = 2.2900482228026654717e-07 + p * w;\r\n\t\t\tp = -9.9298272942317002539e-07 + p * w;\r\n\t\t\tp = 4.5260625972231537039e-06 + p * w;\r\n\t\t\tp = -1.9681778105531670567e-05 + p * w;\r\n\t\t\tp = 7.5995277030017761139e-05 + p * w;\r\n\t\t\tp = -0.00021503011930044477347 + p * w;\r\n\t\t\tp = -0.00013871931833623122026 + p * w;\r\n\t\t\tp = 1.0103004648645343977 + p * w;\r\n\t\t\tp = 4.8499064014085844221 + p * w;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tp = Double.POSITIVE_INFINITY;\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n\r\n----------\r\n\r\nThis produces accurate results, very near to those given by `NORM.S.INV`, but they slowly diverge as p is becoming smaller:\r\n\r\n\tp        Excel    modified erfInv\r\n\t1E-30    11.464   11.458\r\n\t1E-40    13.311   11.642\r\n\t1E-50    14.933   -49.694 \r\n\t1E-75    18.377   -19628.2\r\n\t1E-100   21.273   -705825.1\r\n\r\nI see no error in my logic, the only source of error I can think of is the third polynomial part in apache library when `w` is getting too high… !\r\n\r\nI tried using BigDecimal, but the divergence is the same, it is not a rounding problem…\r\n\r\nWhat advice can you give me ? An other library to use maybe ?\r\n\r\nThanks for your help…\r\n","title":"Apache math3 erfInv fails on very small values, while Excel NORM.S.INV does it right…","body":"<p>I have to compute in Java the same result as Excel <code>NORM.S.INV</code>.</p>\n\n<p><sup>(actually using <a href=\"https://support.office.com/fr-fr/article/LOI-NORMALE-STANDARD-INVERSE-LOI-NORMALE-STANDARD-INVERSE-fonction-8d1bce66-8e4d-4f3b-967c-30eed61f019d\" rel=\"nofollow noreferrer\"><code>LOI.NORMALE.STANDARD.INVERSE</code></a> in French, that's <a href=\"https://support.office.com/en-us/article/NORM-S-INV-function-d6d556b4-ab7f-49cd-b526-5a20918452b1\" rel=\"nofollow noreferrer\"><code>NORM.S.INV</code></a> in English)</sup></p>\n\n<p>I use <code>org.apache.commons.math3.special.Erf.erfInv</code> this way:</p>\n\n<pre><code>return Math.sqrt(2) * Erf.erfInv(2 * p - 1);\n</code></pre>\n\n<p>But when <code>p</code> is small enough (around <code>1e-17</code>), <code>erfInv</code> returns <code>Infinity</code>, because when <code>p</code> is that small, <code>2 * p -1</code> is equal to <code>-1</code>.</p>\n\n<p>So I created a modified <code>erfInv</code> function, preventing this kind of problem by turning the equations around, and it works well, well, up to a point.</p>\n\n<hr>\n\n<pre><code>public double inverseCumulativeProbability(final double p) throws OutOfRangeException {\n\n    if (p &lt; 0.0 || p &gt; 1.0) {\n        throw new OutOfRangeException(Double.valueOf(p), Double.valueOf(0), Double.valueOf(1));\n    }\n    final boolean precisionError = p &gt; 0 &amp;&amp; Double.compare(1 - 2 * p, 1) == 0;\n    return FastMath.sqrt(2) * (precisionError ? this.erfInvModified(2 * p) : Erf.erfInv(2 * p - 1));\n}\n\n/**\n * Rewrite of {@link Erf#erfInv(double)} using a parameter which has yet to be subtracted 1, which has not been\n * done because of the error ε -1 = -1\n *\n * @param ε a very small value, which has yet to be subtracted 1\n * @return the correct value\n */\nprivate double erfInvModified(final double ε) {\n\n    // the original writing [ (1 - (ε - 1)) × (1 + ( ε - 1)) ] gave a result of 0 instead of  [ 2 × ε ]\n    double w = -FastMath.log(2 * ε);\n    double p = this.__originalCode(w);\n\n    // rounding equivalent to the original writing [ p × (ε - 1) ]\n    return -p;\n}\n\n/**\n * This part is copied unmodified from the original erfInv method\n */\nprivate double __originalCode(double w) {\n\n    double p;\n\n    if (w &lt; 6.25) {\n        w = w - 3.125;\n        p = -3.6444120640178196996e-21;\n        p = -1.685059138182016589e-19 + p * w;\n        p = 1.2858480715256400167e-18 + p * w;\n        p = 1.115787767802518096e-17 + p * w;\n        p = -1.333171662854620906e-16 + p * w;\n        p = 2.0972767875968561637e-17 + p * w;\n        p = 6.6376381343583238325e-15 + p * w;\n        p = -4.0545662729752068639e-14 + p * w;\n        p = -8.1519341976054721522e-14 + p * w;\n        p = 2.6335093153082322977e-12 + p * w;\n        p = -1.2975133253453532498e-11 + p * w;\n        p = -5.4154120542946279317e-11 + p * w;\n        p = 1.051212273321532285e-09 + p * w;\n        p = -4.1126339803469836976e-09 + p * w;\n        p = -2.9070369957882005086e-08 + p * w;\n        p = 4.2347877827932403518e-07 + p * w;\n        p = -1.3654692000834678645e-06 + p * w;\n        p = -1.3882523362786468719e-05 + p * w;\n        p = 0.0001867342080340571352 + p * w;\n        p = -0.00074070253416626697512 + p * w;\n        p = -0.0060336708714301490533 + p * w;\n        p = 0.24015818242558961693 + p * w;\n        p = 1.6536545626831027356 + p * w;\n    }\n    else if (w &lt; 16.0) {\n        w = FastMath.sqrt(w) - 3.25;\n        p = 2.2137376921775787049e-09;\n        p = 9.0756561938885390979e-08 + p * w;\n        p = -2.7517406297064545428e-07 + p * w;\n        p = 1.8239629214389227755e-08 + p * w;\n        p = 1.5027403968909827627e-06 + p * w;\n        p = -4.013867526981545969e-06 + p * w;\n        p = 2.9234449089955446044e-06 + p * w;\n        p = 1.2475304481671778723e-05 + p * w;\n        p = -4.7318229009055733981e-05 + p * w;\n        p = 6.8284851459573175448e-05 + p * w;\n        p = 2.4031110387097893999e-05 + p * w;\n        p = -0.0003550375203628474796 + p * w;\n        p = 0.00095328937973738049703 + p * w;\n        p = -0.0016882755560235047313 + p * w;\n        p = 0.0024914420961078508066 + p * w;\n        p = -0.0037512085075692412107 + p * w;\n        p = 0.005370914553590063617 + p * w;\n        p = 1.0052589676941592334 + p * w;\n        p = 3.0838856104922207635 + p * w;\n    }\n    else if (!Double.isInfinite(w)) {\n        w = FastMath.sqrt(w) - 5.0;\n        p = -2.7109920616438573243e-11;\n        p = -2.5556418169965252055e-10 + p * w;\n        p = 1.5076572693500548083e-09 + p * w;\n        p = -3.7894654401267369937e-09 + p * w;\n        p = 7.6157012080783393804e-09 + p * w;\n        p = -1.4960026627149240478e-08 + p * w;\n        p = 2.9147953450901080826e-08 + p * w;\n        p = -6.7711997758452339498e-08 + p * w;\n        p = 2.2900482228026654717e-07 + p * w;\n        p = -9.9298272942317002539e-07 + p * w;\n        p = 4.5260625972231537039e-06 + p * w;\n        p = -1.9681778105531670567e-05 + p * w;\n        p = 7.5995277030017761139e-05 + p * w;\n        p = -0.00021503011930044477347 + p * w;\n        p = -0.00013871931833623122026 + p * w;\n        p = 1.0103004648645343977 + p * w;\n        p = 4.8499064014085844221 + p * w;\n    }\n    else {\n        p = Double.POSITIVE_INFINITY;\n    }\n    return p;\n}\n</code></pre>\n\n<hr>\n\n<p>This produces accurate results, very near to those given by <code>NORM.S.INV</code>, but they slowly diverge as p is becoming smaller:</p>\n\n<pre><code>p        Excel    modified erfInv\n1E-30    11.464   11.458\n1E-40    13.311   11.642\n1E-50    14.933   -49.694 \n1E-75    18.377   -19628.2\n1E-100   21.273   -705825.1\n</code></pre>\n\n<p>I see no error in my logic, the only source of error I can think of is the third polynomial part in apache library when <code>w</code> is getting too high… !</p>\n\n<p>I tried using BigDecimal, but the divergence is the same, it is not a rounding problem…</p>\n\n<p>What advice can you give me ? An other library to use maybe ?</p>\n\n<p>Thanks for your help…</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":1629327,"reputation":2020,"user_id":1504208,"accept_rate":62,"display_name":"Emerson Cod"},"score":2,"creation_date":1519502146,"post_id":48966972,"comment_id":84939649,"body_markdown":"you simply build the project, but did not execute it ?","body":"you simply build the project, but did not execute it ?"},{"owner":{"account_id":10343904,"reputation":22,"user_id":7629434,"accept_rate":0,"display_name":"Dan"},"score":0,"creation_date":1519502154,"post_id":48966972,"comment_id":84939653,"body_markdown":"This is the only class in my project, so I can&#39;t be running another one.","body":"This is the only class in my project, so I can&#39;t be running another one."},{"owner":{"account_id":10343904,"reputation":22,"user_id":7629434,"accept_rate":0,"display_name":"Dan"},"score":0,"creation_date":1519502202,"post_id":48966972,"comment_id":84939669,"body_markdown":"@ Emerson Cod I pressed the Run button and there is no output. I&#39;m new to java so excuse my ignorance.","body":"@ Emerson Cod I pressed the Run button and there is no output. I&#39;m new to java so excuse my ignorance."},{"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"score":0,"creation_date":1519502454,"post_id":48966972,"comment_id":84939739,"body_markdown":"Building does not imply running. Right-click on the Java Class in the Project window and choose &quot;Run File&quot;.","body":"Building does not imply running. Right-click on the Java Class in the Project window and choose &quot;Run File&quot;."},{"owner":{"account_id":10343904,"reputation":22,"user_id":7629434,"accept_rate":0,"display_name":"Dan"},"score":0,"creation_date":1519502455,"post_id":48966972,"comment_id":84939740,"body_markdown":"I have another project in netbeans and it runs with no problem.","body":"I have another project in netbeans and it runs with no problem."},{"owner":{"account_id":10343904,"reputation":22,"user_id":7629434,"accept_rate":0,"display_name":"Dan"},"score":0,"creation_date":1519502799,"post_id":48966972,"comment_id":84939835,"body_markdown":"@Costis Avialis, Yes this worked, but why it doesn&#39;t work when I simply click on the green &quot;Run project&quot; button on the top?","body":"@Costis Avialis, Yes this worked, but why it doesn&#39;t work when I simply click on the green &quot;Run project&quot; button on the top?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1519502813,"post_id":48966972,"comment_id":84939839,"body_markdown":"NetBeans has more project types than just &quot;executable.&quot;  If you start with for example a Java Library type project, there&#39;s no main class recorded for the project and so &quot;run&quot; doesn&#39;t do anything.  Check your project type, make sure you have something like Java Desktop Application.","body":"NetBeans has more project types than just &quot;executable.&quot;  If you start with for example a Java Library type project, there&#39;s no main class recorded for the project and so &quot;run&quot; doesn&#39;t do anything.  Check your project type, make sure you have something like Java Desktop Application."},{"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"score":0,"creation_date":1519503261,"post_id":48966972,"comment_id":84939952,"body_markdown":"The green run button runs the main class of your project only if you have changed the &quot;Run&quot; property of the project and defined the &quot;Main Class&quot; Field. Else you can define a Main Project Run--&gt;Set Main Project from the main menu.","body":"The green run button runs the main class of your project only if you have changed the &quot;Run&quot; property of the project and defined the &quot;Main Class&quot; Field. Else you can define a Main Project Run--&gt;Set Main Project from the main menu."},{"owner":{"account_id":10343904,"reputation":22,"user_id":7629434,"accept_rate":0,"display_name":"Dan"},"score":0,"creation_date":1519503409,"post_id":48966972,"comment_id":84939982,"body_markdown":"How do I check what&#39;s my project type?","body":"How do I check what&#39;s my project type?"},{"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"score":0,"creation_date":1519504808,"post_id":48966972,"comment_id":84940358,"body_markdown":"Right click on the project and choose Properties. You have all the settings you need to check and change.","body":"Right click on the project and choose Properties. You have all the settings you need to check and change."},{"owner":{"account_id":5346811,"reputation":3500,"user_id":4262148,"accept_rate":100,"display_name":"another"},"score":0,"creation_date":1668098624,"post_id":48966972,"comment_id":131329560,"body_markdown":"You possibly have more than 1 main code. You only can run one main code per project. If you have more than one, it will run the first on the list, and ignore the main code you want to run.","body":"You possibly have more than 1 main code. You only can run one main code per project. If you have more than one, it will run the first on the list, and ignore the main code you want to run."}],"answers":[{"tags":[],"owner":{"account_id":12883512,"reputation":4803,"user_id":9317830,"display_name":"L Y E S  -  C H I O U K H"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519502264,"creation_date":1519502264,"answer_id":48967005,"question_id":48966972,"body_markdown":"To run the program:\r\n\r\n - Choose Run &gt; Run Project.\r\n\r\nThe next figure shows what you should now see.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lpRC7.png","title":"Netbeans Java Build successful but no output","body":"<p>To run the program:</p>\n\n<ul>\n<li>Choose Run > Run Project.</li>\n</ul>\n\n<p>The next figure shows what you should now see.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lpRC7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lpRC7.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":15036588,"reputation":1,"user_id":10852751,"display_name":"MRahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546312454,"creation_date":1546283218,"answer_id":53990670,"question_id":48966972,"body_markdown":"I hope this is still relevant. I have Netbeans 9, Go to\r\n\r\n&gt; run -&gt; set project configuration -&gt; customize.\r\n\r\nThis would open a new window. In that window in the RUN area, please change Main class to the current file.\r\n","title":"Netbeans Java Build successful but no output","body":"<p>I hope this is still relevant. I have Netbeans 9, Go to</p>\n\n<blockquote>\n  <p>run -> set project configuration -> customize.</p>\n</blockquote>\n\n<p>This would open a new window. In that window in the RUN area, please change Main class to the current file.</p>\n"},{"tags":[],"owner":{"account_id":14892512,"reputation":126,"user_id":10753767,"display_name":"Abhishek Iyengar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572328280,"creation_date":1572328280,"answer_id":58602020,"question_id":48966972,"body_markdown":"If you are on NetBeans IDE 11.1, just clean and build the project with &quot;Shift+F11&quot; and then run your project with &quot;F6&quot;. That will fix your issue. In some cases, merely restarting the IDE can also do the job.","title":"Netbeans Java Build successful but no output","body":"<p>If you are on NetBeans IDE 11.1, just clean and build the project with \"Shift+F11\" and then run your project with \"F6\". That will fix your issue. In some cases, merely restarting the IDE can also do the job.</p>\n"},{"tags":[],"owner":{"account_id":12432951,"reputation":337,"user_id":9054477,"display_name":"Harsha Madusanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615836738,"creation_date":1615836738,"answer_id":66644531,"question_id":48966972,"body_markdown":"There are two options availble run the project(F6) and Run the File (Shift + F6).\r\n\r\n[![enter image description here][1]][1]\r\nFor mine this worked like this (F6)\r\n\r\nF6\r\n&gt; run: BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\n  Shift + f6 \r\n\r\n&gt;      run:\r\n&gt;         Welcome to JavaBUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\n  [1]: https://i.stack.imgur.com/saj08.png\r\n","title":"Netbeans Java Build successful but no output","body":"<p>There are two options availble run the project(F6) and Run the File (Shift + F6).</p>\n<p><a href=\"https://i.stack.imgur.com/saj08.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/saj08.png\" alt=\"enter image description here\" /></a>\nFor mine this worked like this (F6)</p>\n<p>F6</p>\n<blockquote>\n<p>run: BUILD SUCCESSFUL (total time: 0 seconds)</p>\n</blockquote>\n<p>Shift + f6</p>\n<blockquote>\n<pre><code> run:\n    Welcome to JavaBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":10343904,"reputation":22,"user_id":7629434,"accept_rate":0,"display_name":"Dan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19289,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1663689675,"creation_date":1519502086,"question_id":48966972,"body_markdown":"Wrote this simple java code:\r\n\r\n    public class NewMain {\r\n        public static void main(String[] args) {\r\n            int a;\r\n            a = 5;\r\n            System.out.println(&quot;The value of a is&quot; + a);\r\n        }\r\n    }\r\n\r\n\r\n\r\nAll it gives me is:\r\n\r\nrun:\r\nBUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\nWhat&#39;s going on? My Eclipse doesn&#39;t do this.","title":"Netbeans Java Build successful but no output","body":"<p>Wrote this simple java code:</p>\n\n<pre><code>public class NewMain {\n    public static void main(String[] args) {\n        int a;\n        a = 5;\n        System.out.println(\"The value of a is\" + a);\n    }\n}\n</code></pre>\n\n<p>All it gives me is:</p>\n\n<p>run:\nBUILD SUCCESSFUL (total time: 0 seconds)</p>\n\n<p>What's going on? My Eclipse doesn't do this.</p>\n"},{"tags":["java","rabbitmq","apache-camel","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663688861,"creation_date":1663688861,"answer_id":73789421,"question_id":73788818,"body_markdown":"I don&#39;t know camel, but from a Spring perspective, you could use a `DeadLetterPublishingRecoverer` instead of a `RejectAndDontRequeueRecoverer`; this will re-publish the failed message to the DLQ with exception information in the headers.\r\n\r\nIf you just want the original message moved to the DLQ by the broker, you must configure the queue with a dead-letter-exchange and routing key.\r\n\r\nSee `QueueBuilder`.\r\n\r\n```java\r\n\t/**\r\n\t * Set the dead-letter exchange to which to route expired or rejected messages.\r\n\t * @param dlx the dead-letter exchange.\r\n\t * @return the builder.\r\n\t * @since 2.2\r\n\t * @see #deadLetterRoutingKey(String)\r\n\t */\r\n\tpublic QueueBuilder deadLetterExchange(String dlx) {\r\n\t\treturn withArgument(&quot;x-dead-letter-exchange&quot;, dlx);\r\n\t}\r\n\r\n\t/**\r\n\t * Set the routing key to use when routing expired or rejected messages to the\r\n\t * dead-letter exchange.\r\n\t * @param dlrk the dead-letter routing key.\r\n\t * @return the builder.\r\n\t * @since 2.2\r\n\t * @see #deadLetterExchange(String)\r\n\t */\r\n\tpublic QueueBuilder deadLetterRoutingKey(String dlrk) {\r\n\t\treturn withArgument(&quot;x-dead-letter-routing-key&quot;, dlrk);\r\n\t}\r\n```","title":"Camel - Acknowledgement management with spring-rabbitmq","body":"<p>I don't know camel, but from a Spring perspective, you could use a <code>DeadLetterPublishingRecoverer</code> instead of a <code>RejectAndDontRequeueRecoverer</code>; this will re-publish the failed message to the DLQ with exception information in the headers.</p>\n<p>If you just want the original message moved to the DLQ by the broker, you must configure the queue with a dead-letter-exchange and routing key.</p>\n<p>See <code>QueueBuilder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Set the dead-letter exchange to which to route expired or rejected messages.\n     * @param dlx the dead-letter exchange.\n     * @return the builder.\n     * @since 2.2\n     * @see #deadLetterRoutingKey(String)\n     */\n    public QueueBuilder deadLetterExchange(String dlx) {\n        return withArgument(&quot;x-dead-letter-exchange&quot;, dlx);\n    }\n\n    /**\n     * Set the routing key to use when routing expired or rejected messages to the\n     * dead-letter exchange.\n     * @param dlrk the dead-letter routing key.\n     * @return the builder.\n     * @since 2.2\n     * @see #deadLetterExchange(String)\n     */\n    public QueueBuilder deadLetterRoutingKey(String dlrk) {\n        return withArgument(&quot;x-dead-letter-routing-key&quot;, dlrk);\n    }\n</code></pre>\n"}],"owner":{"account_id":26391949,"reputation":3,"user_id":20043701,"display_name":"B. Meert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73789421,"answer_count":1,"score":0,"last_activity_date":1663688861,"creation_date":1663686083,"question_id":73788818,"body_markdown":"I am trying to write a simple consumer for a rabbitMQ queue on which a DLX (binded to another queue is configured).\r\nI am using camel 3.14.5 at the moment.\r\n\r\nMy camel route declaration looks like : \r\n\r\n    from(&quot;spring-rabbitmq:my-exchange?connectionFactory=#rabbitMQConnectionFactory&amp;queues=my-queue&quot;)\r\n                .onException(Exception.class)\r\n                    .log(LoggingLevel.ERROR, &quot;Something went wrong!&quot;)\r\n                .end()\r\n                .process(&quot;myProcessor&quot;);\r\n\r\nAnd my connectionFactory : \r\n\r\n    \t&lt;bean id=&quot;rabbitMQConnectionFactory&quot; class=&quot;org.springframework.amqp.rabbit.connection.CachingConnectionFactory&quot;&gt;\r\n\t\t&lt;property name=&quot;uri&quot; value=&quot;amqps://myhost:5671&quot;/&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;my-user&quot;/&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;my-password&quot;/&gt;\r\n\t\t&lt;property name=&quot;virtualHost&quot; value=&quot;my-virtual-host&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nBut then when my processor throw an exception I get the following logs : \r\n\r\n   \r\n\r\n     16:33:10,441 ERROR [org.apache.camel.component.springrabbit.CamelDirectMessageListenerContainer] (pool-4-thread-5) Failed to invoke listener: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Retry Policy Exhausted\r\n    \tat org.springframework.amqp.rabbit.retry.RejectAndDontRequeueRecoverer.recover(RejectAndDontRequeueRecoverer.java:76) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat org.springframework.amqp.rabbit.config.StatelessRetryOperationsInterceptorFactoryBean.recover(StatelessRetryOperationsInterceptorFactoryBean.java:78) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat org.springframework.retry.interceptor.RetryOperationsInterceptor$ItemRecovererCallback.recover(RetryOperationsInterceptor.java:157) [spring-retry-1.3.3.jar:]\r\n    \tat org.springframework.retry.support.RetryTemplate.handleRetryExhausted(RetryTemplate.java:539) [spring-retry-1.3.3.jar:]\r\n    \tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:387) [spring-retry-1.3.3.jar:]\r\n    \tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:225) [spring-retry-1.3.3.jar:]\r\n    \tat org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:122) [spring-retry-1.3.3.jar:]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) [spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.amqp.rabbit.listener.$Proxy52.invokeListener(Unknown Source) [:2.4.6]\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat org.springframework.amqp.rabbit.listener.DirectMessageListenerContainer$SimpleConsumer.callExecuteListener(DirectMessageListenerContainer.java:1108) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat org.springframework.amqp.rabbit.listener.DirectMessageListenerContainer$SimpleConsumer.handleDelivery(DirectMessageListenerContainer.java:1068) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat com.rabbitmq.client.impl.ConsumerDispatcher$5.run(ConsumerDispatcher.java:149) [amqp-client-5.13.1.jar:5.13.1]\r\n    \tat com.rabbitmq.client.impl.ConsumerWorkService$WorkPoolRunnable.run(ConsumerWorkService.java:104) [amqp-client-5.13.1.jar:5.13.1]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_342]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_342]\r\n    \tat java.lang.Thread.run(Thread.java:750) [rt.jar:1.8.0_342]\r\n    Caused by: org.springframework.amqp.AmqpRejectAndDontRequeueException\r\n    \t... 20 more\r\n    Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener threw exception\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.wrapToListenerExecutionFailedExceptionIfNeeded(AbstractMessageListenerContainer.java:1784) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1674) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) [spring-rabbit-2.4.6.jar:2.4.6]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_342]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_342]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_342]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_342]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:97) [spring-retry-1.3.3.jar:]\r\n    \tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329) [spring-retry-1.3.3.jar:]\r\n    \t... 15 more\r\n    Caused by: org.apache.camel.RuntimeCamelException: my processing exception\r\n\r\n\r\nHow should I configure the queue/connection factory for this message to be nack and send to the DLX configure on the rabbitMQ broker ?\r\n","title":"Camel - Acknowledgement management with spring-rabbitmq","body":"<p>I am trying to write a simple consumer for a rabbitMQ queue on which a DLX (binded to another queue is configured).\nI am using camel 3.14.5 at the moment.</p>\n<p>My camel route declaration looks like :</p>\n<pre><code>from(&quot;spring-rabbitmq:my-exchange?connectionFactory=#rabbitMQConnectionFactory&amp;queues=my-queue&quot;)\n            .onException(Exception.class)\n                .log(LoggingLevel.ERROR, &quot;Something went wrong!&quot;)\n            .end()\n            .process(&quot;myProcessor&quot;);\n</code></pre>\n<p>And my connectionFactory :</p>\n<pre><code>    &lt;bean id=&quot;rabbitMQConnectionFactory&quot; class=&quot;org.springframework.amqp.rabbit.connection.CachingConnectionFactory&quot;&gt;\n    &lt;property name=&quot;uri&quot; value=&quot;amqps://myhost:5671&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;my-user&quot;/&gt;\n    &lt;property name=&quot;password&quot; value=&quot;my-password&quot;/&gt;\n    &lt;property name=&quot;virtualHost&quot; value=&quot;my-virtual-host&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>But then when my processor throw an exception I get the following logs :</p>\n<pre><code> 16:33:10,441 ERROR [org.apache.camel.component.springrabbit.CamelDirectMessageListenerContainer] (pool-4-thread-5) Failed to invoke listener: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Retry Policy Exhausted\n    at org.springframework.amqp.rabbit.retry.RejectAndDontRequeueRecoverer.recover(RejectAndDontRequeueRecoverer.java:76) [spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.config.StatelessRetryOperationsInterceptorFactoryBean.recover(StatelessRetryOperationsInterceptorFactoryBean.java:78) [spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor$ItemRecovererCallback.recover(RetryOperationsInterceptor.java:157) [spring-retry-1.3.3.jar:]\n    at org.springframework.retry.support.RetryTemplate.handleRetryExhausted(RetryTemplate.java:539) [spring-retry-1.3.3.jar:]\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:387) [spring-retry-1.3.3.jar:]\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:225) [spring-retry-1.3.3.jar:]\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:122) [spring-retry-1.3.3.jar:]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) [spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.amqp.rabbit.listener.$Proxy52.invokeListener(Unknown Source) [:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) [spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) [spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) [spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.DirectMessageListenerContainer$SimpleConsumer.callExecuteListener(DirectMessageListenerContainer.java:1108) [spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.DirectMessageListenerContainer$SimpleConsumer.handleDelivery(DirectMessageListenerContainer.java:1068) [spring-rabbit-2.4.6.jar:2.4.6]\n    at com.rabbitmq.client.impl.ConsumerDispatcher$5.run(ConsumerDispatcher.java:149) [amqp-client-5.13.1.jar:5.13.1]\n    at com.rabbitmq.client.impl.ConsumerWorkService$WorkPoolRunnable.run(ConsumerWorkService.java:104) [amqp-client-5.13.1.jar:5.13.1]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_342]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_342]\n    at java.lang.Thread.run(Thread.java:750) [rt.jar:1.8.0_342]\nCaused by: org.springframework.amqp.AmqpRejectAndDontRequeueException\n    ... 20 more\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener threw exception\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.wrapToListenerExecutionFailedExceptionIfNeeded(AbstractMessageListenerContainer.java:1784) [spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1674) [spring-rabbit-2.4.6.jar:2.4.6]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) [spring-rabbit-2.4.6.jar:2.4.6]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_342]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_342]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_342]\n    at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_342]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:97) [spring-retry-1.3.3.jar:]\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329) [spring-retry-1.3.3.jar:]\n    ... 15 more\nCaused by: org.apache.camel.RuntimeCamelException: my processing exception\n</code></pre>\n<p>How should I configure the queue/connection factory for this message to be nack and send to the DLX configure on the rabbitMQ broker ?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658771854,"post_id":73109687,"comment_id":129129702,"body_markdown":"Ideally, you don&#39;t immediately create a topic after it is marked for deletion. I assume this is only for illustration purposes?","body":"Ideally, you don&#39;t immediately create a topic after it is marked for deletion. I assume this is only for illustration purposes?"},{"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"score":0,"creation_date":1658813466,"post_id":73109687,"comment_id":129137930,"body_markdown":"No, I have some internal tools process where I actually want to make sure the topic really gets deleted and re-created with the same name. If that was RabbitMQ I would not have this problem haha.","body":"No, I have some internal tools process where I actually want to make sure the topic really gets deleted and re-created with the same name. If that was RabbitMQ I would not have this problem haha."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658849774,"post_id":73109687,"comment_id":129151793,"body_markdown":"I&#39;m not familiar with RabbitMQ, but I assume it is not distributed in a way like Kafka such that it needs to coordinate deletes across multiple servers. In Kafka case, all brokers with a replica need removed, then also all related Zookeeper entries, to fully remove the topic information. The Kafka response from the delete action is immediate (think: HTTP status 202), but the action itself on the cluster is not","body":"I&#39;m not familiar with RabbitMQ, but I assume it is not distributed in a way like Kafka such that it needs to coordinate deletes across multiple servers. In Kafka case, all brokers with a replica need removed, then also all related Zookeeper entries, to fully remove the topic information. The Kafka response from the delete action is immediate (think: HTTP status 202), but the action itself on the cluster is not"}],"answers":[{"tags":[],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658755341,"creation_date":1658754110,"answer_id":73109688,"question_id":73109687,"body_markdown":"So far I have not found anything interesting in API, but I have some possible ideas, unfortunately all of them are ugly.\r\n\r\n1) Each topic appears to have multiple metrics-beans related to their size, such as `kafka.log:type=Log,name=LogStartOffset,topic=aaa,partition=0`. So we could wait until they disappear. However to be fully sure we might need to check all brokers (or at least: all the replica-hosting ones).\r\n\r\n2) A broker instance appears to have a bean named `kafka.controller:type=KafkaController,name=TopicsToDeleteCount` what might be what we want, however without fine-grained control. And we still might need to check all brokers in a cluster and wait until all of them reach 0.\r\n\r\n3) Take a look into internal Zookeeper / KRaft structures. The interesting parts might be present at paths such as `/brokers/topics` and `/admin/delete_topics`, however this means bringing another (Zookeeper) dependency. KRaft is a similar case, we would be digging in brokers&#39; internals.","title":"How can I make sure that a Kafka topic has been deleted?","body":"<p>So far I have not found anything interesting in API, but I have some possible ideas, unfortunately all of them are ugly.</p>\n<ol>\n<li><p>Each topic appears to have multiple metrics-beans related to their size, such as <code>kafka.log:type=Log,name=LogStartOffset,topic=aaa,partition=0</code>. So we could wait until they disappear. However to be fully sure we might need to check all brokers (or at least: all the replica-hosting ones).</p>\n</li>\n<li><p>A broker instance appears to have a bean named <code>kafka.controller:type=KafkaController,name=TopicsToDeleteCount</code> what might be what we want, however without fine-grained control. And we still might need to check all brokers in a cluster and wait until all of them reach 0.</p>\n</li>\n<li><p>Take a look into internal Zookeeper / KRaft structures. The interesting parts might be present at paths such as <code>/brokers/topics</code> and <code>/admin/delete_topics</code>, however this means bringing another (Zookeeper) dependency. KRaft is a similar case, we would be digging in brokers' internals.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3893168,"reputation":59,"user_id":3222856,"display_name":"whuwangyong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663688839,"creation_date":1663679766,"answer_id":73787354,"question_id":73109687,"body_markdown":"Create a `foo` topic after delete your topics, this maybe speed up Kafka Deletion. And then create the useful topics.\r\nMy test found that there is a certain effect.\r\n\r\n```java\r\npublic void reCreateTopics(Set&lt;String&gt; topics) {\r\n    adminClient.deleteTopics(topics).all().get();\r\n    createFooTopic4TriggeringDelete();\r\n\r\n    // may be sleep 1s before creating\r\n    TimeUnit.SECONDS.sleep(1);\r\n\r\n    adminClient.createTopics(topics).all().get();\r\n}\r\n\r\n\r\nprivate void createFooTopic4TriggeringDelete()  {\r\n    NewTopic foo = new NewTopic(&quot;foo_&quot; + System.currentTimeMillis(), 1, (short) 1);\r\n    adminClient.createTopics(Collections.singleton(foo)).all().get();\r\n    adminClient.deleteTopics(Collections.singleton(foo.name())).all().get();\r\n}\r\n\r\n```\r\n\r\n","title":"How can I make sure that a Kafka topic has been deleted?","body":"<p>Create a <code>foo</code> topic after delete your topics, this maybe speed up Kafka Deletion. And then create the useful topics.\nMy test found that there is a certain effect.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void reCreateTopics(Set&lt;String&gt; topics) {\n    adminClient.deleteTopics(topics).all().get();\n    createFooTopic4TriggeringDelete();\n\n    // may be sleep 1s before creating\n    TimeUnit.SECONDS.sleep(1);\n\n    adminClient.createTopics(topics).all().get();\n}\n\n\nprivate void createFooTopic4TriggeringDelete()  {\n    NewTopic foo = new NewTopic(&quot;foo_&quot; + System.currentTimeMillis(), 1, (short) 1);\n    adminClient.createTopics(Collections.singleton(foo)).all().get();\n    adminClient.deleteTopics(Collections.singleton(foo.name())).all().get();\n}\n\n</code></pre>\n"}],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663688839,"creation_date":1658754110,"question_id":73109687,"body_markdown":"Kafka&#39;s `Admin.deleteTopics` API unfortunately returns only after the request has been received - what only means that the topics are scheduled for deletion by the cluster, but not necessarily deleted _now_.\r\n\r\nTo show that as an example, the following code can often throw:\r\n```\r\nfinal var newTopic = new NewTopic(&quot;aaa&quot;, Optional.empty(), Optional.empty());\r\nthis.admin.createTopics(Collections.singleton(newTopic), opt).all().get();\r\nthis.admin.deleteTopics(Arrays.asList(&quot;aaa&quot;)).all().get();\r\nthis.admin.listTopics( ).names().get().contains(&quot;aaa&quot;); // Returns &#39;false&#39;.\r\nthis.admin.createTopics(Collections.singleton(newTopic), opt).all().get(); // &lt;- throws\r\n```\r\nwith an exception:\r\n```\r\njava.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TopicExistsException: Topic &#39;aaa&#39; is marked for deletion.\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n...\r\nCaused by: org.apache.kafka.common.errors.TopicExistsException: Topic &#39;aaa&#39; is marked for deletion.\r\n```\r\nUnfortunately `Admin.listTopics()` that does not help here, the topic stops being visible after the delete request is submitted.\r\n\r\nSo the question is - is there any programatic way (preferably API) that would allow us to monitor that the topic is really gone?\r\n\r\nKafka (both client &amp; server) version used is 3.2.","title":"How can I make sure that a Kafka topic has been deleted?","body":"<p>Kafka's <code>Admin.deleteTopics</code> API unfortunately returns only after the request has been received - what only means that the topics are scheduled for deletion by the cluster, but not necessarily deleted <em>now</em>.</p>\n<p>To show that as an example, the following code can often throw:</p>\n<pre><code>final var newTopic = new NewTopic(&quot;aaa&quot;, Optional.empty(), Optional.empty());\nthis.admin.createTopics(Collections.singleton(newTopic), opt).all().get();\nthis.admin.deleteTopics(Arrays.asList(&quot;aaa&quot;)).all().get();\nthis.admin.listTopics( ).names().get().contains(&quot;aaa&quot;); // Returns 'false'.\nthis.admin.createTopics(Collections.singleton(newTopic), opt).all().get(); // &lt;- throws\n</code></pre>\n<p>with an exception:</p>\n<pre><code>java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TopicExistsException: Topic 'aaa' is marked for deletion.\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n...\nCaused by: org.apache.kafka.common.errors.TopicExistsException: Topic 'aaa' is marked for deletion.\n</code></pre>\n<p>Unfortunately <code>Admin.listTopics()</code> that does not help here, the topic stops being visible after the delete request is submitted.</p>\n<p>So the question is - is there any programatic way (preferably API) that would allow us to monitor that the topic is really gone?</p>\n<p>Kafka (both client &amp; server) version used is 3.2.</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1663687960,"post_id":73789133,"comment_id":130296306,"body_markdown":"when you get each values, check if the input is the minimum. If it is, save `i`and `j`.","body":"when you get each values, check if the input is the minimum. If it is, save <code>i</code>and <code>j</code>."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1663688367,"post_id":73789133,"comment_id":130296481,"body_markdown":"The most straightforward way to find the minimum of any collection of elements is to examine each one and keep track of the least seen so far.  When you have finished examining all the elements, the least so far is the overall least.  If you want to know the location of the least element, then simply record (also) the location each time you update the least so far.  Then at all times, including after processing all the elements, you know the location where the least one seen up to that point was observed.","body":"The most straightforward way to find the minimum of any collection of elements is to examine each one and keep track of the least seen so far.  When you have finished examining all the elements, the least so far is the overall least.  If you want to know the location of the least element, then simply record (also) the location each time you update the least so far.  Then at all times, including after processing all the elements, you know the location where the least one seen up to that point was observed."}],"answers":[{"tags":[],"owner":{"account_id":26392075,"reputation":16,"user_id":20043818,"display_name":"Snowald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663688607,"creation_date":1663688607,"answer_id":73789380,"question_id":73789133,"body_markdown":"You add something like this to the begining\r\n\r\n    int min, minCol, minRow;\r\n    min = Integer.MAX_VALUE;\r\n  \r\nThen you extend your input for loop with an if statement\r\n\r\n    for( i=0;i&lt; n ; i++){\r\n        for( j=0; j&lt; m; j++) {\r\n            System.out.print(&quot;enter values[&quot;+i+&quot;][&quot;+j+&quot;] &quot;);\r\n            v= dati.nextInt();\r\n            a[i][j] = v; \r\n            if( v &lt; min ) {\r\n                min = v;\r\n                minRow = i;\r\n                minCol = j;\r\n            }\r\n        }\r\n    }","title":"how to find specific row and column with smallest value 2D array?","body":"<p>You add something like this to the begining</p>\n<pre><code>int min, minCol, minRow;\nmin = Integer.MAX_VALUE;\n</code></pre>\n<p>Then you extend your input for loop with an if statement</p>\n<pre><code>for( i=0;i&lt; n ; i++){\n    for( j=0; j&lt; m; j++) {\n        System.out.print(&quot;enter values[&quot;+i+&quot;][&quot;+j+&quot;] &quot;);\n        v= dati.nextInt();\n        a[i][j] = v; \n        if( v &lt; min ) {\n            min = v;\n            minRow = i;\n            minCol = j;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26392322,"reputation":13,"user_id":20044035,"display_name":"newbieprogammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73789380,"answer_count":1,"score":-1,"last_activity_date":1663688607,"creation_date":1663687530,"question_id":73789133,"body_markdown":"so i dont have to find the min value but the specific row and column where the min value is located. This is how much i have that is working haha.\r\n\r\n\t\t \r\n    Scanner dati=new Scanner(System.in); \r\n    int[][] a;\r\n    int n,m,i,j,z,vertiba,x,v;\r\n    vertiba=0;\r\n\r\n    do{ \r\n\t\t System.out.print(&quot;How many crows (max=20): &quot;);\r\n\t\t n=dati.nextInt();\r\n\t}while (n&lt;1 || n&gt;20);\r\n\r\n\tdo{\r\n\t\t System.out.print(&quot;How many columns (max=20): &quot;);\r\n\t\t m=dati.nextInt();;\r\n\t}while (m&lt;1 || m&gt;20);\r\n\t\t \r\n\tSystem.out.print(&quot;enter values &quot;);\r\n\ta=new int[n][m];\r\n\t\t  \r\n\tfor( i=0;i&lt; n ; i++){\r\n\t    for( j=0; j&lt; m; j++) {\r\n\t\t    System.out.print(&quot;enter values[&quot;+i+&quot;][&quot;+j+&quot;] &quot;);\r\n\t\t    v= dati.nextInt();\r\n\t\t    a[i][j] = v; \r\n        }\r\n    }\r\n\r\n    for ( i = 0; i &lt; n; i++) {\r\n\t    for ( j = 0; j &lt; m; j++) {\r\n\t\t    System.out.print(a[i][j] + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    } \r\n\t\t        \r\n","title":"how to find specific row and column with smallest value 2D array?","body":"<p>so i dont have to find the min value but the specific row and column where the min value is located. This is how much i have that is working haha.</p>\n<pre><code>Scanner dati=new Scanner(System.in); \nint[][] a;\nint n,m,i,j,z,vertiba,x,v;\nvertiba=0;\n\ndo{ \n     System.out.print(&quot;How many crows (max=20): &quot;);\n     n=dati.nextInt();\n}while (n&lt;1 || n&gt;20);\n\ndo{\n     System.out.print(&quot;How many columns (max=20): &quot;);\n     m=dati.nextInt();;\n}while (m&lt;1 || m&gt;20);\n     \nSystem.out.print(&quot;enter values &quot;);\na=new int[n][m];\n      \nfor( i=0;i&lt; n ; i++){\n    for( j=0; j&lt; m; j++) {\n        System.out.print(&quot;enter values[&quot;+i+&quot;][&quot;+j+&quot;] &quot;);\n        v= dati.nextInt();\n        a[i][j] = v; \n    }\n}\n\nfor ( i = 0; i &lt; n; i++) {\n    for ( j = 0; j &lt; m; j++) {\n        System.out.print(a[i][j] + &quot; &quot;);\n    }\n    System.out.println();\n} \n            \n</code></pre>\n"},{"tags":["java","macos","android-studio","gradle","gradlew"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1628505964,"post_id":68710716,"comment_id":121430096,"body_markdown":"The android sdk nor the android sources are a JDK","body":"The android sdk nor the android sources are a JDK"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1628506075,"post_id":68710716,"comment_id":121430134,"body_markdown":"Sounds to me like you should be using `brew install openjdk@8`","body":"Sounds to me like you should be using <code>brew install openjdk@8</code>"},{"owner":{"account_id":1211489,"reputation":20463,"user_id":1179925,"accept_rate":47,"display_name":"mrgloom"},"score":0,"creation_date":1628506369,"post_id":68710716,"comment_id":121430249,"body_markdown":"Seems JDK is shipped with android studio: https://developer.android.com/studio/intro/studio-config","body":"Seems JDK is shipped with android studio: <a href=\"https://developer.android.com/studio/intro/studio-config\" rel=\"nofollow noreferrer\">developer.android.com/studio/intro/studio-config</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1628506603,"post_id":68710716,"comment_id":121430336,"body_markdown":"It is, but this is meant to be used by the IDE, only, IMO. If you are expecting to individually run Gradle or Java commands outside the IDE, then install it _outside of the IDE_","body":"It is, but this is meant to be used by the IDE, only, IMO. If you are expecting to individually run Gradle or Java commands outside the IDE, then install it <i>outside of the IDE</i>"}],"answers":[{"tags":[],"owner":{"account_id":1211489,"reputation":20463,"user_id":1179925,"accept_rate":47,"display_name":"mrgloom"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1628506781,"creation_date":1628506781,"answer_id":68710927,"question_id":68710716,"body_markdown":"Using JDK shipped with Android Studio and setting `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home` helped me.","title":"./gradlew The operation couldn’t be completed. Unable to locate a Java Runtime","body":"<p>Using JDK shipped with Android Studio and setting <code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home</code> helped me.</p>\n"},{"tags":[],"owner":{"account_id":3184466,"reputation":313,"user_id":2690455,"accept_rate":50,"display_name":"Ankita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663688563,"creation_date":1663688563,"answer_id":73789372,"question_id":68710716,"body_markdown":"Might need to clear caches and restart the studio. These steps worked for me -\r\n1. Set Java home. You can use embedded JDK in Android Studio.\r\n\r\nexport JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home.\r\n\r\nUse [Setting Java Home in MAC][1] for reference if required.\r\n\r\n2. Close terminal\r\n3. Invalidate Caches &amp; restart - Include &#39;Clear file system cache and local history&#39;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22842743/how-to-set-java-home-environment-variable-on-mac-os-x-10-9","title":"./gradlew The operation couldn’t be completed. Unable to locate a Java Runtime","body":"<p>Might need to clear caches and restart the studio. These steps worked for me -</p>\n<ol>\n<li>Set Java home. You can use embedded JDK in Android Studio.</li>\n</ol>\n<p>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home.</p>\n<p>Use <a href=\"https://stackoverflow.com/questions/22842743/how-to-set-java-home-environment-variable-on-mac-os-x-10-9\">Setting Java Home in MAC</a> for reference if required.</p>\n<ol start=\"2\">\n<li>Close terminal</li>\n<li>Invalidate Caches &amp; restart - Include 'Clear file system cache and local history'</li>\n</ol>\n"}],"owner":{"account_id":1211489,"reputation":20463,"user_id":1179925,"accept_rate":47,"display_name":"mrgloom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10852,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":68710927,"answer_count":2,"score":23,"last_activity_date":1663688563,"creation_date":1628505755,"question_id":68710716,"body_markdown":"When I run `./gradlew` from project folder I get:\r\n\r\n    ./gradlew\r\n    The operation couldn’t be completed. Unable to locate a Java Runtime.\r\n    Please visit http://www.java.com for information on installing Java.\r\n    \r\n\r\nThe same with java:\r\n\r\n    which java\r\n    /usr/bin/java\r\n    \r\n    /usr/bin/java\r\n    The operation couldn’t be completed. Unable to locate a Java Runtime.\r\n    Please visit http://www.java.com for information on installing Java.\r\n\r\n\r\nI installed JDK in Android studio, seems it&#39;s installed in `~/Library/Android/sdk/sources/android-28`\r\n\r\nSetting `export JAVA_HOME=/Users/mrgloom/Library/Android/sdk/sources/android-28/` or `export JAVA_HOME=/Users/mrgloom/Library/Android/sdk` produce error like:\r\n\r\n    ERROR: JAVA_HOME is set to an invalid directory: /Users/mrgloom/Library/Android/sdk/sources/android-28/\r\n    \r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n\r\nHow to specify java path for `gradlew` ?","title":"./gradlew The operation couldn’t be completed. Unable to locate a Java Runtime","body":"<p>When I run <code>./gradlew</code> from project folder I get:</p>\n<pre><code>./gradlew\nThe operation couldn’t be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>The same with java:</p>\n<pre><code>which java\n/usr/bin/java\n\n/usr/bin/java\nThe operation couldn’t be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>I installed JDK in Android studio, seems it's installed in <code>~/Library/Android/sdk/sources/android-28</code></p>\n<p>Setting <code>export JAVA_HOME=/Users/mrgloom/Library/Android/sdk/sources/android-28/</code> or <code>export JAVA_HOME=/Users/mrgloom/Library/Android/sdk</code> produce error like:</p>\n<pre><code>ERROR: JAVA_HOME is set to an invalid directory: /Users/mrgloom/Library/Android/sdk/sources/android-28/\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n<p>How to specify java path for <code>gradlew</code> ?</p>\n"},{"tags":["java","class","object","instance"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1663687369,"post_id":73789059,"comment_id":130296059,"body_markdown":"You can&#39;t use `&gt;=` and `&lt;=` on your own custom class directly. You could however use it on the int field your class has: `if(October.pastMonthSpend &gt;= 1000)`","body":"You can&#39;t use <code>&gt;=</code> and <code>&lt;=</code> on your own custom class directly. You could however use it on the int field your class has: <code>if(October.pastMonthSpend &gt;= 1000)</code>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1663687419,"post_id":73789059,"comment_id":130296075,"body_markdown":"As an aside, by convention class names start with an upper case letter (so `AuditorForum`) while variable names start with a lower case letter (so `october`).","body":"As an aside, by convention class names start with an upper case letter (so <code>AuditorForum</code>) while variable names start with a lower case letter (so <code>october</code>)."},{"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"score":1,"creation_date":1663687544,"post_id":73789059,"comment_id":130296135,"body_markdown":"There a various problems in your code: The assignment in the constructor is wrong (has to be flipped to work). Your are trying to compare an object instance (October) to an int, where you probably would want to compare October&#39;s pastMonthSpend with that int. Also check Java code conventions, e.g. https://www.oracle.com/technetwork/java/codeconventions-150003.pdf. For a start...","body":"There a various problems in your code: The assignment in the constructor is wrong (has to be flipped to work). Your are trying to compare an object instance (October) to an int, where you probably would want to compare October&#39;s pastMonthSpend with that int. Also check Java code conventions, e.g. <a href=\"https://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/codeconventions-150003.pdf</a>. For a start..."}],"answers":[{"tags":[],"owner":{"account_id":12331407,"reputation":284,"user_id":8997268,"display_name":"Umesh Sulakude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663687964,"creation_date":1663687657,"answer_id":73789164,"question_id":73789059,"body_markdown":"Two mistakes I see and have corrected. please find the below program.\r\nOctober is reference variable for the newly created object. so you should use October.pastMonthSpend and another issue is in a constructor, you have to assign value this way pastMonthSpend=spending; \r\n\r\n    public class Demo123 {\r\n        int pastMonthSpend;\r\n    \r\n        public Demo123(int spending){\r\n            pastMonthSpend=spending;\r\n        }\r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;hii&quot;);\r\n            Demo123 October = new Demo123(1433);\r\n            if (October.pastMonthSpend &gt;= 1000) {\r\n                if (October.pastMonthSpend &lt;= 1500){\r\n                    System.out.println(&quot;Eligible&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Ineligible&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Trying to print out different message depending on the value of an instance","body":"<p>Two mistakes I see and have corrected. please find the below program.\nOctober is reference variable for the newly created object. so you should use October.pastMonthSpend and another issue is in a constructor, you have to assign value this way pastMonthSpend=spending;</p>\n<pre><code>public class Demo123 {\n    int pastMonthSpend;\n\n    public Demo123(int spending){\n        pastMonthSpend=spending;\n    }\n    public static void main(String[] args) {\n\n        System.out.println(&quot;hii&quot;);\n        Demo123 October = new Demo123(1433);\n        if (October.pastMonthSpend &gt;= 1000) {\n            if (October.pastMonthSpend &lt;= 1500){\n                System.out.println(&quot;Eligible&quot;);\n            } else {\n                System.out.println(&quot;Ineligible&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7811782,"reputation":1,"user_id":5907770,"display_name":"thewj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663688551,"creation_date":1663688551,"answer_id":73789365,"question_id":73789059,"body_markdown":"&quot;October&quot; is an object instance. You have to access the integer variable &quot;pastMonthSpend&quot; for the comparison. and variable value assigning should be  pastMonthSpend = spending; not  spending = pastMonthSpend;","title":"Trying to print out different message depending on the value of an instance","body":"<p>&quot;October&quot; is an object instance. You have to access the integer variable &quot;pastMonthSpend&quot; for the comparison. and variable value assigning should be  pastMonthSpend = spending; not  spending = pastMonthSpend;</p>\n"}],"owner":{"account_id":26272105,"reputation":1,"user_id":19941868,"display_name":"phylansalvador"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663688551,"creation_date":1663687267,"question_id":73789059,"body_markdown":"heres my code:\r\n```\r\npublic class auditorForum {\r\n   int pastMonthSpend;\r\n\r\n  public auditorForum(int spending){\r\n      spending = pastMonthSpend;\r\n  }\r\n  public static void main(String[] args) {\r\n      auditorForum October = new auditorForum(1433);\r\n      if (October &gt;= 1000) {\r\n        if (October &lt;= 1500){\r\n          System.out.println(&quot;Eligible&quot;);\r\n        } else {\r\n          System.out.println(&quot;Ineligible&quot;);\r\n        }\r\n      }\r\n    }\r\n}\r\n```\r\n\r\nIt results in \r\n\r\n```\r\nauditorForum.java:9: error: bad operand types for binary operator &#39;&gt;=&#39;\r\n      if (October &gt;= 1000) {\r\n                  ^\r\n  first type:  auditorForum\r\n  second type: int\r\n1 error\r\n```\r\nand im not sure what the fix is, ive tried making separate values for the minimum and maximum values (1000 and 1500) but no","title":"Trying to print out different message depending on the value of an instance","body":"<p>heres my code:</p>\n<pre><code>public class auditorForum {\n   int pastMonthSpend;\n\n  public auditorForum(int spending){\n      spending = pastMonthSpend;\n  }\n  public static void main(String[] args) {\n      auditorForum October = new auditorForum(1433);\n      if (October &gt;= 1000) {\n        if (October &lt;= 1500){\n          System.out.println(&quot;Eligible&quot;);\n        } else {\n          System.out.println(&quot;Ineligible&quot;);\n        }\n      }\n    }\n}\n</code></pre>\n<p>It results in</p>\n<pre><code>auditorForum.java:9: error: bad operand types for binary operator '&gt;='\n      if (October &gt;= 1000) {\n                  ^\n  first type:  auditorForum\n  second type: int\n1 error\n</code></pre>\n<p>and im not sure what the fix is, ive tried making separate values for the minimum and maximum values (1000 and 1500) but no</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1663686742,"post_id":73788927,"comment_id":130295825,"body_markdown":"You&#39;re thinking inheritance wrong. There aren&#39;t two `ram` variables in the `MacBook` instance `mb` (one in `MacBook` itself and one in `Laptop`). There&#39;s only that instance&#39;s variable, and you explicitly set it to 16.","body":"You&#39;re thinking inheritance wrong. There aren&#39;t two <code>ram</code> variables in the <code>MacBook</code> instance <code>mb</code> (one in <code>MacBook</code> itself and one in <code>Laptop</code>). There&#39;s only that instance&#39;s variable, and you explicitly set it to 16."},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1663686747,"post_id":73788927,"comment_id":130295827,"body_markdown":"They&#39;re one and the same variable, so `16 16` is the correct output","body":"They&#39;re one and the same variable, so <code>16 16</code> is the correct output"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1663687094,"post_id":73788927,"comment_id":130295957,"body_markdown":"Why the child class&#39;s &quot;inherited method&quot; also seems to call the super class&#39;s method? Which inherited method is that? `setRam`? There&#39;s only one `setRam` function--there&#39;s no other function to call. `getRam`? There&#39;s only one `getRam` function--there&#39;s no other function to call.","body":"Why the child class&#39;s &quot;inherited method&quot; also seems to call the super class&#39;s method? Which inherited method is that? <code>setRam</code>? There&#39;s only one <code>setRam</code> function--there&#39;s no other function to call. <code>getRam</code>? There&#39;s only one <code>getRam</code> function--there&#39;s no other function to call."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1663687169,"post_id":73788927,"comment_id":130295987,"body_markdown":"probably just me, but I think this is a valid question, why are there downvotes, can somebody help me clear this up?","body":"probably just me, but I think this is a valid question, why are there downvotes, can somebody help me clear this up?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1663687700,"post_id":73788927,"comment_id":130296206,"body_markdown":"@wuhoyt While I didn&#39;t downvote, inheritance mechanisms are generally well-explained in tutorials--it&#39;s not clear where the OP&#39;s confusion is stemming from.","body":"@wuhoyt While I didn&#39;t downvote, inheritance mechanisms are generally well-explained in tutorials--it&#39;s not clear where the OP&#39;s confusion is stemming from."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1663691534,"post_id":73788927,"comment_id":130297635,"body_markdown":"@DaveNewton thanks for the reply, it makes sense. I am not saying nobody should downvote it or anythings, who am i to tell others do this or that, right. I think I can say we encourage PO to look the answer up from other places, know the concept of inheritance better(cuz it is basic) and then come here and ask question if still get one","body":"@DaveNewton thanks for the reply, it makes sense. I am not saying nobody should downvote it or anythings, who am i to tell others do this or that, right. I think I can say we encourage PO to look the answer up from other places, know the concept of inheritance better(cuz it is basic) and then come here and ask question if still get one"},{"owner":{"account_id":26392101,"reputation":1,"user_id":20043842,"display_name":"HT KR"},"score":0,"creation_date":1663768453,"post_id":73788927,"comment_id":130317255,"body_markdown":"Sorry if you guys felt that this was an unnecessary question. I was studying the concept of inheritance and fiddling with Java to reinforce my learning, but came across this and wished to find a specific answer to this specific scenario. Thanks for your input.","body":"Sorry if you guys felt that this was an unnecessary question. I was studying the concept of inheritance and fiddling with Java to reinforce my learning, but came across this and wished to find a specific answer to this specific scenario. Thanks for your input."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663688057,"creation_date":1663688057,"answer_id":73789250,"question_id":73788927,"body_markdown":"You&#39;re misunderstanding what object oriented means, at least, java&#39;s take on the idea.\r\n\r\n`class MacBook extends Laptop` basically means: The definition of MacBook is thusly: First, take everything Laptops can do (all fields, all methods). Then, _add_ everything in this definition of the MacBook class _on top of_ what Laptop already provides (with the caveat that any methods you write in MacBook that have an identical signature to anything in Laptop isn&#39;t _adding a second variant_, it&#39;s _overwriting_ it. Not so for fields - if you define a field in Laptop named &#39;foo&#39; and one in MacBook also named &#39;foo&#39;, then all MacBook instances have 2 separate fields, both unfortunately named &#39;foo&#39;).\r\n\r\nSo, MacBook isn&#39;t &quot;two things&quot;, where one can conceivably refer to &#39;the macbook part&#39; and &#39;the laptop&#39; part. Not how it works. There&#39;s just the macbook part (which is all laptop defines and more on top of that).\r\n\r\nNote that you can only add, never remove. If Laptops have a `getRam` method, then MacBooks will also have it. You can&#39;t remove it.\r\n\r\nThat&#39;s because java is covariant: You can treat any MacBook as a Laptop. If you were allowed to only selectively grab things from Laptop to &#39;copy over&#39;, then java&#39;s covariance would break. Imagine:\r\n\r\n```\r\nLaptop myLaptop = new MacBook(); // legal java\r\nmyLaptop.getRam(); // what would this mean, if MacBooks removed the getRam method?\r\n```\r\n\r\n\r\nIn this case, MacBooks have:\r\n\r\n* A field named `ram`, source: `class Laptop`.\r\n* A method named `setRam(int)`, defined in Laptop and not overridden in Macbook.\r\n* A method named `getRam()`, defined in Laptop and not overridden in Macbook.\r\n* A method named `superRam()`, defined by Macbook.\r\n\r\nAll macbooks have this, and it&#39;s not divided out. The source of a definition could possibly be from Laptop or MacBook, but that&#39;s just &#39;defining what instances of this thing have&#39;. Once you start writing the code (the stuff inside the `{` and `}`), you&#39;re writing code that runs for a given instance of the stuff, and there&#39;s no distinction about where things came from.\r\n\r\n## So what about `super()`?\r\n\r\nIn constructors only, you _must_ invoke your parent constructor. The job of creating a new instance of MacBook is a process that starts from the bottom (`java.lang.Object`) and goes up through the hierarchy, with each definition contributing whatever it needs to initialize an object. After all, if MacBook defines a new type by saying &quot;everything Laptops do, and more&quot;, then clearly we need Laptop&#39;s initialization code to run first and then we can add to the initialization. If you don&#39;t write `super(x)` at the start of your constructor, then java will stick a silent `super();` (call the no-args super constructor) at the top, and if that&#39;s not legal (because there is no no-args super constructor) then it won&#39;t compile. In addition, if you have no constructors, java gives you a no-args one that is `public` and has no code in it - which then means `super();` is assumed to be in it. Which is why you can write `class MacBook extends Laptop {}` without writing any constructors - java is writing them for you.\r\n\r\nCalling `super()` isn&#39;t &#39;calling a method on that part of you that is the laptop part. The construction process is just like inheritance itself: First do all the stuff in Object&#39;s constructor (which is nothing - it has an empty one), then all the stuff in Laptop&#39;s constructor, then all the stuff in MacBook&#39;s constructor, in one go. The one question is: If e.g. Laptop has more than one constructor, when we get to the &#39;do the laptop init part&#39;, which of the constructors should be used? Thats&#39; what `super()` calls are about.\r\n\r\n## What about `super.getRam()`\r\n\r\nYou could have just written `getRam()`, without the `super.`: A MacBook is defined as &#39;everything Laptop does and more&#39;, and Laptops have `getRam()`, therefore so do MacBook instances. You can&#39;t &#39;remove&#39; the method, either. You can only add more stuff, not remove stuff.\r\n\r\n`super.` is meaningless, but legal, except in one case: If you _override_ a method, that is, you declare a new method in MacBook with the exact same signature as a method in Laptop, then you aren&#39;t a second identical method; no, you&#39;re re-defining what that method should do. If as part of the code in your MacBook definition you&#39;d like to specifically invoke the original definition and not your re-definition, you can use `super.getRam()` instead. __This is only useful if you redefined the `getRam()` method in your MacBook class__.\r\n\r\nOnly the source file itself can do this; some other source file can&#39;t do something like:\r\n\r\n```\r\nMacBook mb = new MacBook();\r\nmb.super.getRam(); // nope, will not compile\r\n```\r\n\r\nIt&#39;s possible you want to redefine what `getRam()` does, but only to add behaviours. For example, &#39;just do whatever Laptop&#39;s implementation of this method does, but then add 5 to the end result&#39;. Then you&#39;d write it as `return super.getRam() + 5;` for example. That&#39;s what `super` is for.\r\n\r\nNB: Obviously here, `superRam` is pointless. You can just call `getRam` because MacBooks have that method. Not &#39;Laptops have that method and you can treat a MacBook as a laptop&#39;, nono - MacBooks ARE laptops.\r\n\r\nThink of socrates:\r\n\r\n1. All MacBooks are Laptops.\r\n2. Laptops have a getRam method.\r\n3. Therefore, MacBooks have a getRam method.\r\n","title":"Does a child class&#39;s method refers to &quot;this&quot;, does it also refer to the super class?","body":"<p>You're misunderstanding what object oriented means, at least, java's take on the idea.</p>\n<p><code>class MacBook extends Laptop</code> basically means: The definition of MacBook is thusly: First, take everything Laptops can do (all fields, all methods). Then, <em>add</em> everything in this definition of the MacBook class <em>on top of</em> what Laptop already provides (with the caveat that any methods you write in MacBook that have an identical signature to anything in Laptop isn't <em>adding a second variant</em>, it's <em>overwriting</em> it. Not so for fields - if you define a field in Laptop named 'foo' and one in MacBook also named 'foo', then all MacBook instances have 2 separate fields, both unfortunately named 'foo').</p>\n<p>So, MacBook isn't &quot;two things&quot;, where one can conceivably refer to 'the macbook part' and 'the laptop' part. Not how it works. There's just the macbook part (which is all laptop defines and more on top of that).</p>\n<p>Note that you can only add, never remove. If Laptops have a <code>getRam</code> method, then MacBooks will also have it. You can't remove it.</p>\n<p>That's because java is covariant: You can treat any MacBook as a Laptop. If you were allowed to only selectively grab things from Laptop to 'copy over', then java's covariance would break. Imagine:</p>\n<pre><code>Laptop myLaptop = new MacBook(); // legal java\nmyLaptop.getRam(); // what would this mean, if MacBooks removed the getRam method?\n</code></pre>\n<p>In this case, MacBooks have:</p>\n<ul>\n<li>A field named <code>ram</code>, source: <code>class Laptop</code>.</li>\n<li>A method named <code>setRam(int)</code>, defined in Laptop and not overridden in Macbook.</li>\n<li>A method named <code>getRam()</code>, defined in Laptop and not overridden in Macbook.</li>\n<li>A method named <code>superRam()</code>, defined by Macbook.</li>\n</ul>\n<p>All macbooks have this, and it's not divided out. The source of a definition could possibly be from Laptop or MacBook, but that's just 'defining what instances of this thing have'. Once you start writing the code (the stuff inside the <code>{</code> and <code>}</code>), you're writing code that runs for a given instance of the stuff, and there's no distinction about where things came from.</p>\n<h2>So what about <code>super()</code>?</h2>\n<p>In constructors only, you <em>must</em> invoke your parent constructor. The job of creating a new instance of MacBook is a process that starts from the bottom (<code>java.lang.Object</code>) and goes up through the hierarchy, with each definition contributing whatever it needs to initialize an object. After all, if MacBook defines a new type by saying &quot;everything Laptops do, and more&quot;, then clearly we need Laptop's initialization code to run first and then we can add to the initialization. If you don't write <code>super(x)</code> at the start of your constructor, then java will stick a silent <code>super();</code> (call the no-args super constructor) at the top, and if that's not legal (because there is no no-args super constructor) then it won't compile. In addition, if you have no constructors, java gives you a no-args one that is <code>public</code> and has no code in it - which then means <code>super();</code> is assumed to be in it. Which is why you can write <code>class MacBook extends Laptop {}</code> without writing any constructors - java is writing them for you.</p>\n<p>Calling <code>super()</code> isn't 'calling a method on that part of you that is the laptop part. The construction process is just like inheritance itself: First do all the stuff in Object's constructor (which is nothing - it has an empty one), then all the stuff in Laptop's constructor, then all the stuff in MacBook's constructor, in one go. The one question is: If e.g. Laptop has more than one constructor, when we get to the 'do the laptop init part', which of the constructors should be used? Thats' what <code>super()</code> calls are about.</p>\n<h2>What about <code>super.getRam()</code></h2>\n<p>You could have just written <code>getRam()</code>, without the <code>super.</code>: A MacBook is defined as 'everything Laptop does and more', and Laptops have <code>getRam()</code>, therefore so do MacBook instances. You can't 'remove' the method, either. You can only add more stuff, not remove stuff.</p>\n<p><code>super.</code> is meaningless, but legal, except in one case: If you <em>override</em> a method, that is, you declare a new method in MacBook with the exact same signature as a method in Laptop, then you aren't a second identical method; no, you're re-defining what that method should do. If as part of the code in your MacBook definition you'd like to specifically invoke the original definition and not your re-definition, you can use <code>super.getRam()</code> instead. <strong>This is only useful if you redefined the <code>getRam()</code> method in your MacBook class</strong>.</p>\n<p>Only the source file itself can do this; some other source file can't do something like:</p>\n<pre><code>MacBook mb = new MacBook();\nmb.super.getRam(); // nope, will not compile\n</code></pre>\n<p>It's possible you want to redefine what <code>getRam()</code> does, but only to add behaviours. For example, 'just do whatever Laptop's implementation of this method does, but then add 5 to the end result'. Then you'd write it as <code>return super.getRam() + 5;</code> for example. That's what <code>super</code> is for.</p>\n<p>NB: Obviously here, <code>superRam</code> is pointless. You can just call <code>getRam</code> because MacBooks have that method. Not 'Laptops have that method and you can treat a MacBook as a laptop', nono - MacBooks ARE laptops.</p>\n<p>Think of socrates:</p>\n<ol>\n<li>All MacBooks are Laptops.</li>\n<li>Laptops have a getRam method.</li>\n<li>Therefore, MacBooks have a getRam method.</li>\n</ol>\n"}],"owner":{"account_id":26392101,"reputation":1,"user_id":20043842,"display_name":"HT KR"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1663688057,"creation_date":1663686635,"question_id":73788927,"body_markdown":"I know that a child class automatically calls super() in its constructor method, but was wondering why it seems like a child class&#39;s inherited method also seems to call the super class&#39;s method.\r\n\r\nFor example:\r\n\r\n    public class Laptop{\r\n        private int ram = 8;\r\n        void setRam(int r){\r\n            this.ram = r;\r\n        }\r\n        int getRam(){\r\n            return this.ram;\r\n        }\r\n    }\r\n\r\n\r\n    public class MacBook extends Laptop{\r\n        int superRam(){\r\n            return super.getRam();\r\n        }\r\n    }\r\n\r\n\r\n    public class Main\r\n    {\r\n\t    public static void main(String[] args) {\r\n            MacBook mb = new MacBook();\r\n            mb.setRam(16);\r\n            System.out.println(mb.getRam() + &quot;\\n&quot; +\r\n            mb.superRam());\r\n        }\r\n    }\r\n\r\nThis code returns\r\n16\r\n16\r\n\r\nSince mb is an object of MacBook, shouldn&#39;t the setRam() method&#39;s **this** affect MacBook and not the super class&#39;s variable? Thus, shouldn&#39;t it return\r\n16\r\n8?\r\n\r\nThanks for any help.","title":"Does a child class&#39;s method refers to &quot;this&quot;, does it also refer to the super class?","body":"<p>I know that a child class automatically calls super() in its constructor method, but was wondering why it seems like a child class's inherited method also seems to call the super class's method.</p>\n<p>For example:</p>\n<pre><code>public class Laptop{\n    private int ram = 8;\n    void setRam(int r){\n        this.ram = r;\n    }\n    int getRam(){\n        return this.ram;\n    }\n}\n\n\npublic class MacBook extends Laptop{\n    int superRam(){\n        return super.getRam();\n    }\n}\n\n\npublic class Main\n{\n    public static void main(String[] args) {\n        MacBook mb = new MacBook();\n        mb.setRam(16);\n        System.out.println(mb.getRam() + &quot;\\n&quot; +\n        mb.superRam());\n    }\n}\n</code></pre>\n<p>This code returns\n16\n16</p>\n<p>Since mb is an object of MacBook, shouldn't the setRam() method's <strong>this</strong> affect MacBook and not the super class's variable? Thus, shouldn't it return\n16\n8?</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","apache-poi","powerpoint"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1663708107,"post_id":73789034,"comment_id":130302685,"body_markdown":"XSLFShape has many subclasses and those subclasses might have extra methods to expose extra data - eg position data - that might help you to work out where all the shapes are relative to each other. Trying printing out thisShape.getClass().getName().","body":"XSLFShape has many subclasses and those subclasses might have extra methods to expose extra data - eg position data - that might help you to work out where all the shapes are relative to each other. Trying printing out thisShape.getClass().getName()."},{"owner":{"account_id":13595329,"reputation":124,"user_id":9807545,"display_name":"Rasputin"},"score":0,"creation_date":1663857170,"post_id":73789034,"comment_id":130342413,"body_markdown":"Thanks for the suggestion, let me try today.","body":"Thanks for the suggestion, let me try today."}],"owner":{"account_id":13595329,"reputation":124,"user_id":9807545,"display_name":"Rasputin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663687145,"creation_date":1663687145,"question_id":73789034,"body_markdown":"I am using Java and Apache POI to parse a powerpoint slide where there will be a shape, a connector, and another shape.  I can extract the connector, but what I am wondering is whether, if I know that I have a connector, whether I can be certain which shape is above and which shape is below that connector.  For example, here is the relevant code:\r\n\r\n```\r\n           XMLSlideShow ppt = new XMLSlideShow(new FileInputStream(file));\r\n            List&lt;XSLFSlide&gt; slide = ppt.getSlides();\r\n            System.out.println(&quot;These are the shapes in the presentation: &quot;);\r\n            for (int i = 0; i &lt; slide.size(); i++) {\r\n                List&lt;XSLFShape&gt; listOfShapes = slide.get(i).getShapes();\r\n                for (int j = 0; j &lt; listOfShapes.size(); j++) {\r\n                    XSLFShape thisShape = listOfShapes.get(j);\r\n                    String thisShapeName = thisShape.getShapeName();\r\n                    int thisShapeID = thisShape.getShapeId();\r\n                    XSLFShapeContainer thisShapeParent = thisShape.getParent();\r\n                    Rectangle2D thisAnchor = thisShape.getAnchor();\r\n                    String textBody = thisShape.;\r\n                    System.out.println(&quot;Name: &quot; + thisShapeName + &quot; ID: &quot; + thisShapeID + &quot; Anchor: &quot; + thisAnchor.toString());\r\n                }\r\n            }\r\n```\r\nSo, as this iterates through, &#39;thisShape&#39; will, sometimes, be a connector.  I would like to stop, when I know I have a connector, and get the shape on either side of the connector.  I can see when this prints out that it appears to print out:\r\n\r\nrectangle 3\r\n\r\nconnector \r\n\r\nrectangle 4\r\n\r\nconnector\r\n\r\nAnd so, I can &quot;infer&quot; that the first connector is connecting rectangle 3 and 4 but I was hoping/assuming that the connector object itself contained information about what it was connected to.  Does it?  If so, do you know how to access it?  I am looking at the documentation for the XSLFShape class and I don&#39;t see anything that appears on point.","title":"Apache POI XSLF Getting Shapes On Either Side of a Connector","body":"<p>I am using Java and Apache POI to parse a powerpoint slide where there will be a shape, a connector, and another shape.  I can extract the connector, but what I am wondering is whether, if I know that I have a connector, whether I can be certain which shape is above and which shape is below that connector.  For example, here is the relevant code:</p>\n<pre><code>           XMLSlideShow ppt = new XMLSlideShow(new FileInputStream(file));\n            List&lt;XSLFSlide&gt; slide = ppt.getSlides();\n            System.out.println(&quot;These are the shapes in the presentation: &quot;);\n            for (int i = 0; i &lt; slide.size(); i++) {\n                List&lt;XSLFShape&gt; listOfShapes = slide.get(i).getShapes();\n                for (int j = 0; j &lt; listOfShapes.size(); j++) {\n                    XSLFShape thisShape = listOfShapes.get(j);\n                    String thisShapeName = thisShape.getShapeName();\n                    int thisShapeID = thisShape.getShapeId();\n                    XSLFShapeContainer thisShapeParent = thisShape.getParent();\n                    Rectangle2D thisAnchor = thisShape.getAnchor();\n                    String textBody = thisShape.;\n                    System.out.println(&quot;Name: &quot; + thisShapeName + &quot; ID: &quot; + thisShapeID + &quot; Anchor: &quot; + thisAnchor.toString());\n                }\n            }\n</code></pre>\n<p>So, as this iterates through, 'thisShape' will, sometimes, be a connector.  I would like to stop, when I know I have a connector, and get the shape on either side of the connector.  I can see when this prints out that it appears to print out:</p>\n<p>rectangle 3</p>\n<p>connector</p>\n<p>rectangle 4</p>\n<p>connector</p>\n<p>And so, I can &quot;infer&quot; that the first connector is connecting rectangle 3 and 4 but I was hoping/assuming that the connector object itself contained information about what it was connected to.  Does it?  If so, do you know how to access it?  I am looking at the documentation for the XSLFShape class and I don't see anything that appears on point.</p>\n"},{"tags":["java","eclipse","debugging","loops","for-loop"],"answers":[{"tags":[],"owner":{"account_id":3297308,"reputation":6374,"user_id":2774284,"accept_rate":33,"display_name":"Jake Haller-Roby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393003075,"creation_date":1393003075,"answer_id":21940913,"question_id":21940873,"body_markdown":"Pause the debugger at the for loop.  Highlight a section of code.  Right click it and select the &quot;Inspect&quot; option to see it&#39;s value (e.g., highlight `numbers.indexOf(number)` to see what the return value of that function is).","title":"Comfortable way for debugging for-loops in eclipse","body":"<p>Pause the debugger at the for loop.  Highlight a section of code.  Right click it and select the \"Inspect\" option to see it's value (e.g., highlight <code>numbers.indexOf(number)</code> to see what the return value of that function is).</p>\n"},{"tags":[],"owner":{"account_id":1086989,"reputation":744,"user_id":1082476,"display_name":"Radha Mohan Maheshwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393003604,"creation_date":1393003604,"answer_id":21941111,"question_id":21940873,"body_markdown":"use debug view&#39;s variables  components\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/MzXHz.png","title":"Comfortable way for debugging for-loops in eclipse","body":"<p>use debug view's variables  components\n<img src=\"https://i.stack.imgur.com/MzXHz.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1661108,"reputation":379,"user_id":1529394,"display_name":"ogm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393003651,"creation_date":1393003651,"answer_id":21941124,"question_id":21940873,"body_markdown":"If your for is running fine, i suggest using system.println(String the data incremented). To see the data in each loop. The console will show the content of the loop.\r\n\r\nIf your for is breaking at some point, i suggest using debug mode and putting a break point in the middle of the loop, the execution of the code will stop each time it reaches the breakpoint and you can look at all the variables in the for loop at that state.","title":"Comfortable way for debugging for-loops in eclipse","body":"<p>If your for is running fine, i suggest using system.println(String the data incremented). To see the data in each loop. The console will show the content of the loop.</p>\n\n<p>If your for is breaking at some point, i suggest using debug mode and putting a break point in the middle of the loop, the execution of the code will stop each time it reaches the breakpoint and you can look at all the variables in the for loop at that state.</p>\n"},{"tags":[],"owner":{"account_id":26392075,"reputation":16,"user_id":20043818,"display_name":"Snowald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663687099,"creation_date":1663687099,"answer_id":73789023,"question_id":21940873,"body_markdown":"Split the head of the for loop into multiple lines\r\n\r\n    for (int i = numbers.indexOf(number), j = -1; \r\n                i &gt; j; \r\n                j = i, i += numbers.subList(i + 1, numbers.size()).indexOf(number) + 1) {\r\n            System.out.println(&quot;found number: &quot; + number + &quot; at position: &quot; + i);           \r\n        }","title":"Comfortable way for debugging for-loops in eclipse","body":"<p>Split the head of the for loop into multiple lines</p>\n<pre><code>for (int i = numbers.indexOf(number), j = -1; \n            i &gt; j; \n            j = i, i += numbers.subList(i + 1, numbers.size()).indexOf(number) + 1) {\n        System.out.println(&quot;found number: &quot; + number + &quot; at position: &quot; + i);           \n    }\n</code></pre>\n"}],"owner":{"account_id":1258272,"reputation":1198,"user_id":1217253,"accept_rate":45,"display_name":"Jan Koester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1663687099,"creation_date":1393002945,"question_id":21940873,"body_markdown":"How can I debug complicated for-loops in eclipse like in this code?\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class ListTraining {\r\n    \t\r\n    \tpublic void countOccurence() {\r\n    \t\tList&lt;Integer&gt; numbers = Arrays.asList(3, 4, 3, 5, 2, 3);\r\n    \t\tInteger number = 3;\t\t\r\n    \t\tfor (int i = numbers.indexOf(number), j = -1; i &gt; j; j = i, i += numbers.subList(i + 1, numbers.size()).indexOf(number) + 1) {\r\n    \t\t\tSystem.out.println(&quot;found number: &quot; + number + &quot; at position: &quot; + i);\t\t\t\r\n    \t\t}\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nIf I use &quot;Step Over&quot; I&#39;m in the instruction block. If I use &quot;Step Into&quot; I&#39;m inside methods like indexOf. How can I investigate the variables and calls in the loop header in a comfortable way? \r\n\r\nIs it possible to jump in the single instructions of the loop like in the condition check or in the variable assignment?","title":"Comfortable way for debugging for-loops in eclipse","body":"<p>How can I debug complicated for-loops in eclipse like in this code?</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic class ListTraining {\n\n    public void countOccurence() {\n        List&lt;Integer&gt; numbers = Arrays.asList(3, 4, 3, 5, 2, 3);\n        Integer number = 3;     \n        for (int i = numbers.indexOf(number), j = -1; i &gt; j; j = i, i += numbers.subList(i + 1, numbers.size()).indexOf(number) + 1) {\n            System.out.println(\"found number: \" + number + \" at position: \" + i);           \n        }       \n    }\n\n}\n</code></pre>\n\n<p>If I use \"Step Over\" I'm in the instruction block. If I use \"Step Into\" I'm inside methods like indexOf. How can I investigate the variables and calls in the loop header in a comfortable way? </p>\n\n<p>Is it possible to jump in the single instructions of the loop like in the condition check or in the variable assignment?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1663604412,"post_id":73776318,"comment_id":130273893,"body_markdown":"A side question, what is the point of having feature toggles in an properties like file (yaml) if you can&#39;t actually toggle them? If you have only one instance of you app running it is fine to have the file and control in memory as long as you are willing to do so every time your app restarts, now if you have two instances of the same app it will be even more problematic to control the toggles... This doesn&#39;t answer your question of course but it might save you some future troubles if this is the path you are choosing.","body":"A side question, what is the point of having feature toggles in an properties like file (yaml) if you can&#39;t actually toggle them? If you have only one instance of you app running it is fine to have the file and control in memory as long as you are willing to do so every time your app restarts, now if you have two instances of the same app it will be even more problematic to control the toggles... This doesn&#39;t answer your question of course but it might save you some future troubles if this is the path you are choosing."},{"owner":{"account_id":26382015,"reputation":23,"user_id":20035120,"display_name":"Alexander Prikhodko"},"score":0,"creation_date":1663651452,"post_id":73776318,"comment_id":130283661,"body_markdown":"I don&#39;t know the details yet, but it&#39;s going to be some centralized solution for multiple apps that will depend on this yaml being named the same in all apps and having the same structure.","body":"I don&#39;t know the details yet, but it&#39;s going to be some centralized solution for multiple apps that will depend on this yaml being named the same in all apps and having the same structure."}],"answers":[{"tags":[],"owner":{"account_id":26382015,"reputation":23,"user_id":20035120,"display_name":"Alexander Prikhodko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663658767,"creation_date":1663658767,"answer_id":73782992,"question_id":73776318,"body_markdown":"I have found the cause. One other thing I did in my code was calling FeatureService in an SpEL expression in a @Conditional for another bean. So it seems FeatureService tried to initialize before FeatureProperties. Without this condition, FeatureService gets proper FeatureProperties.\r\n\r\nI think I will eventually find a workaround now, but would be thankful if someone knows how to conditionally initialize a bean depending on some ConfigurationProperties if it also involves some logic to process the configs.","title":"Reading custom objects from additional YAML in Spring Boot","body":"<p>I have found the cause. One other thing I did in my code was calling FeatureService in an SpEL expression in a @Conditional for another bean. So it seems FeatureService tried to initialize before FeatureProperties. Without this condition, FeatureService gets proper FeatureProperties.</p>\n<p>I think I will eventually find a workaround now, but would be thankful if someone knows how to conditionally initialize a bean depending on some ConfigurationProperties if it also involves some logic to process the configs.</p>\n"}],"owner":{"account_id":26382015,"reputation":23,"user_id":20035120,"display_name":"Alexander Prikhodko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663687018,"creation_date":1663603724,"question_id":73776318,"body_markdown":"I have a task of reading settings from a YAML file in a Spring Boot application. The requirement is that these settings are stored in a specific file, separate from application.yml. The file is called applicationFeatureToggles.yml and is supposed to have contents like these:\r\n\r\n    features:\r\n      - key: feature1\r\n        isEnabled: false\r\n        description: First feature\r\n      - key: feature2\r\n        isEnabled: true\r\n        description: Second feature\r\n    ...\r\n\r\nWhat I need to implement right now is to check in my components&#39; code if a specific feature is enabled. To do this, I created a class for a single feature:\r\n\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class Feature {\r\n        private String key;\r\n        private boolean isEnabled;\r\n        private String description;\r\n    }\r\n\r\nthen a configuration properties class to store all settings:\r\n\r\n    @Component\r\n    @ConfigurationProperties\r\n    @PropertySource(value = &quot;classpath:applicationFeatureToggles.yml&quot;, factory = YamlPropertySourceFactory.class)\r\n    public class FeatureProperties {\r\n        private List&lt;Feature&gt; features;\r\n        \r\n        // Constructor, getters and setters\r\n    }\r\n\r\nand a service that uses it to check if a feature is enabled:\r\n\r\n    @Service\r\n    @EnableConfigurationProperties(FeatureProperties.class)\r\n    public class FeatureService {\r\n    \r\n        @Autowired\r\n        private FeatureProperties featureProperties;\r\n    \r\n        // logic that reads required info from featureProperties\r\n    }\r\n\r\nThe class YamlPropertySourceFactory used in FeatureProperties looks like this:\r\n\r\n    public class YamlPropertySourceFactory implements PropertySourceFactory {\r\n    \r\n        @Override\r\n        public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) {\r\n            YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n            factory.setResources(resource.getResource());\r\n    \r\n            Properties properties = factory.getObject();\r\n    \r\n            return new PropertiesPropertySource(resource.getResource().getFilename(), properties);\r\n        }\r\n    }\r\n\r\nAs I understand, this should result in FeatureService having access to FeatureProperties populated with data from applicationFeatureToggles.yml, but the data is missing. At the same time, I checked with a breakpoint that YamlPropertySourceFactory is invoked and reads the data, it&#39;s present in the properties object before exiting createPropertySource(). So all seems fine with reading properties from the file, but they don&#39;t get into the FeatureProperties object.\r\n\r\nWhat else can my code need to populate FeatureProperties?\r\n\r\nIf it&#39;s not possible at all or can cause some other issues, I&#39;d also be thankful for details, as it may help convince the architect to change the approach.\r\n\r\nSpring Boot version used: 2.5.6\r\n\r\n","title":"Reading custom objects from additional YAML in Spring Boot","body":"<p>I have a task of reading settings from a YAML file in a Spring Boot application. The requirement is that these settings are stored in a specific file, separate from application.yml. The file is called applicationFeatureToggles.yml and is supposed to have contents like these:</p>\n<pre><code>features:\n  - key: feature1\n    isEnabled: false\n    description: First feature\n  - key: feature2\n    isEnabled: true\n    description: Second feature\n...\n</code></pre>\n<p>What I need to implement right now is to check in my components' code if a specific feature is enabled. To do this, I created a class for a single feature:</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\npublic class Feature {\n    private String key;\n    private boolean isEnabled;\n    private String description;\n}\n</code></pre>\n<p>then a configuration properties class to store all settings:</p>\n<pre><code>@Component\n@ConfigurationProperties\n@PropertySource(value = &quot;classpath:applicationFeatureToggles.yml&quot;, factory = YamlPropertySourceFactory.class)\npublic class FeatureProperties {\n    private List&lt;Feature&gt; features;\n    \n    // Constructor, getters and setters\n}\n</code></pre>\n<p>and a service that uses it to check if a feature is enabled:</p>\n<pre><code>@Service\n@EnableConfigurationProperties(FeatureProperties.class)\npublic class FeatureService {\n\n    @Autowired\n    private FeatureProperties featureProperties;\n\n    // logic that reads required info from featureProperties\n}\n</code></pre>\n<p>The class YamlPropertySourceFactory used in FeatureProperties looks like this:</p>\n<pre><code>public class YamlPropertySourceFactory implements PropertySourceFactory {\n\n    @Override\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) {\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n        factory.setResources(resource.getResource());\n\n        Properties properties = factory.getObject();\n\n        return new PropertiesPropertySource(resource.getResource().getFilename(), properties);\n    }\n}\n</code></pre>\n<p>As I understand, this should result in FeatureService having access to FeatureProperties populated with data from applicationFeatureToggles.yml, but the data is missing. At the same time, I checked with a breakpoint that YamlPropertySourceFactory is invoked and reads the data, it's present in the properties object before exiting createPropertySource(). So all seems fine with reading properties from the file, but they don't get into the FeatureProperties object.</p>\n<p>What else can my code need to populate FeatureProperties?</p>\n<p>If it's not possible at all or can cause some other issues, I'd also be thankful for details, as it may help convince the architect to change the approach.</p>\n<p>Spring Boot version used: 2.5.6</p>\n"},{"tags":["java","soap","java-11","wsimport"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1658321638,"post_id":72984802,"comment_id":129022291,"body_markdown":"It is generally adviced to use a build system like maven, which has excellent plugin support for generating WSDL to Java (`jaxws-maven-plugin` or `maven-jaxb2-plugin`). This means no more manual `wsimport` calls on every WSDL change, reducing possible developer error and the need for specialized tools. See for example the &quot;post JDK8&quot; part on https://www.baeldung.com/jax-ws#1-generating-web-service-source-files-from-wsdl","body":"It is generally adviced to use a build system like maven, which has excellent plugin support for generating WSDL to Java (<code>jaxws-maven-plugin</code> or <code>maven-jaxb2-plugin</code>). This means no more manual <code>wsimport</code> calls on every WSDL change, reducing possible developer error and the need for specialized tools. See for example the &quot;post JDK8&quot; part on <a href=\"https://www.baeldung.com/jax-ws#1-generating-web-service-source-files-from-wsdl\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4836479,"reputation":407,"user_id":3902990,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657821418,"creation_date":1657821418,"answer_id":72984803,"question_id":72984802,"body_markdown":"1. Download and unzip the latest release from [here](https://github.com/eclipse-ee4j/metro-jax-ws/releases/tag/3.0.2).\r\n1. Install [maven](https://maven.apache.org/install.html).\r\n1. cd to `metro-jax-ws-3.0.2/jaxws-ri/bundles` and run `mvn install`.\r\n1. After `mvn install`, read the last line of the installation process and find where `jaxws-ri` was installed (e.g., `.m2/repository/com/sun/xml/ws/`).\r\n1. cd to where `jaxws-ri` was installed and then also cd to `{latest_version}/jaxws-ri/bin`.\r\n1. Run `wsimport.sh` (e.g., `sh wsimport.sh http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso\\?WSDL`)","title":"Installing metro-jax-ws and running wsimport issue","body":"<ol>\n<li>Download and unzip the latest release from <a href=\"https://github.com/eclipse-ee4j/metro-jax-ws/releases/tag/3.0.2\" rel=\"noreferrer\">here</a>.</li>\n<li>Install <a href=\"https://maven.apache.org/install.html\" rel=\"noreferrer\">maven</a>.</li>\n<li>cd to <code>metro-jax-ws-3.0.2/jaxws-ri/bundles</code> and run <code>mvn install</code>.</li>\n<li>After <code>mvn install</code>, read the last line of the installation process and find where <code>jaxws-ri</code> was installed (e.g., <code>.m2/repository/com/sun/xml/ws/</code>).</li>\n<li>cd to where <code>jaxws-ri</code> was installed and then also cd to <code>{latest_version}/jaxws-ri/bin</code>.</li>\n<li>Run <code>wsimport.sh</code> (e.g., <code>sh wsimport.sh http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso\\?WSDL</code>)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4938910,"reputation":195,"user_id":3976240,"accept_rate":75,"display_name":"Steve Newcomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659462431,"creation_date":1659462431,"answer_id":73211666,"question_id":72984802,"body_markdown":"If you&#39;re running Debian Bookworm (which is, as of this writing, at the &quot;Debian testing&quot; pre-release phase), and you need `wsimport`, install the package `jaxws`, which will automagically install many dependencies if you haven&#39;t already installed them.  Somewhere in all that is the `wsimport` command.  Thereafter, it worked for me, anyway, and I finally succeeded in building VirtualBox from source.","title":"Installing metro-jax-ws and running wsimport issue","body":"<p>If you're running Debian Bookworm (which is, as of this writing, at the &quot;Debian testing&quot; pre-release phase), and you need <code>wsimport</code>, install the package <code>jaxws</code>, which will automagically install many dependencies if you haven't already installed them.  Somewhere in all that is the <code>wsimport</code> command.  Thereafter, it worked for me, anyway, and I finally succeeded in building VirtualBox from source.</p>\n"},{"tags":[],"owner":{"account_id":4342649,"reputation":41,"user_id":3545527,"display_name":"Aravind Sarma Yeluripati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663687008,"creation_date":1663687008,"answer_id":73789003,"question_id":72984802,"body_markdown":"Adding to https://stackoverflow.com/a/72984803/3545527\r\n\r\n5.1. Unzip .m2\\repository\\com\\sun\\xml\\ws\\jaxws-ri\\3.0.2\\jaxws-ri-3.0.2.zip\\\r\n\r\n5.2 Add the full path to the unzipped \r\njaxws-ri/bin  to path before attempting point 6.\r\n\r\n\r\nFor example, on my machine, I added the following to path\r\n.m2\\repository\\com\\sun\\xml\\ws\\jaxws-ri\\3.0.2\\jaxws-ri-3.0.2\\jaxws-ri\\bin\\","title":"Installing metro-jax-ws and running wsimport issue","body":"<p>Adding to <a href=\"https://stackoverflow.com/a/72984803/3545527\">https://stackoverflow.com/a/72984803/3545527</a></p>\n<p>5.1. Unzip .m2\\repository\\com\\sun\\xml\\ws\\jaxws-ri\\3.0.2\\jaxws-ri-3.0.2.zip\\</p>\n<p>5.2 Add the full path to the unzipped\njaxws-ri/bin  to path before attempting point 6.</p>\n<p>For example, on my machine, I added the following to path\n.m2\\repository\\com\\sun\\xml\\ws\\jaxws-ri\\3.0.2\\jaxws-ri-3.0.2\\jaxws-ri\\bin\\</p>\n"}],"owner":{"account_id":4836479,"reputation":407,"user_id":3902990,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72984803,"answer_count":3,"score":1,"last_activity_date":1663687008,"creation_date":1657821418,"question_id":72984802,"body_markdown":"Since `wsimport` is not included since JDK11 (https://stackoverflow.com/questions/19966595/where-to-download-and-how-to-install-jax-ws-wsimport-tools), I think I need to install `metro-jax-ws`; however, there are no instructions on how to do so...","title":"Installing metro-jax-ws and running wsimport issue","body":"<p>Since <code>wsimport</code> is not included since JDK11 (<a href=\"https://stackoverflow.com/questions/19966595/where-to-download-and-how-to-install-jax-ws-wsimport-tools\">Where to download and how to install JAX-WS wsimport tools?</a>), I think I need to install <code>metro-jax-ws</code>; however, there are no instructions on how to do so...</p>\n"},{"tags":["java","spring-boot","log4j","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":17869288,"reputation":59,"user_id":12980946,"display_name":"wcase6"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663686572,"creation_date":1663686572,"answer_id":73788918,"question_id":70673495,"body_markdown":"Looks like this was asked a long time ago, but I just ran across the same issue and resolved it myself, so I&#39;m posting the solution here.\r\n\r\nIn my build.gradle file I added the following import\r\n\r\n```\r\ncompile &quot;com.github.jnr:jnr-posix:3.1.15&quot;\r\n```","title":"java.lang.NoClassDefFoundError: jnr/posix/POSIXHandler while starting up cassandra based spring-boot app","body":"<p>Looks like this was asked a long time ago, but I just ran across the same issue and resolved it myself, so I'm posting the solution here.</p>\n<p>In my build.gradle file I added the following import</p>\n<pre><code>compile &quot;com.github.jnr:jnr-posix:3.1.15&quot;\n</code></pre>\n"}],"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1865,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663686572,"creation_date":1641935474,"question_id":70673495,"body_markdown":"When I startup my SpringBoot app (where I am using Cassandra as the DB), I get the following trace during startup : \r\n\r\n    Could not register Graph extensions; this is normal if Tinkerpop was explicitly excluded from classpath\r\n    Unable to load JNR native implementation. This could be normal if JNR is excluded from the classpath\r\n    java.lang.NoClassDefFoundError: jnr/posix/POSIXHandler\r\n    \tat com.datastax.oss.driver.internal.core.os.Native$LibcLoader.load(Native.java:42)\r\n    \tat com.datastax.oss.driver.internal.core.os.Native.&lt;clinit&gt;(Native.java:59)\r\n    \tat com.datastax.oss.driver.internal.core.time.Clock.getInstance(Clock.java:34)\r\n    \tat com.datastax.oss.driver.internal.core.time.MonotonicTimestampGenerator.buildClock(MonotonicTimestampGenerator.java:109)\r\n    \tat com.datastax.oss.driver.internal.core.time.MonotonicTimestampGenerator.&lt;init&gt;(MonotonicTimestampGenerator.java:43)\r\n    \tat com.datastax.oss.driver.internal.core.time.AtomicTimestampGenerator.&lt;init&gt;(AtomicTimestampGenerator.java:52)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat com.datastax.oss.driver.internal.core.util.Reflection.buildFromConfig(Reflection.java:246)\r\n    \tat com.datastax.oss.driver.internal.core.util.Reflection.buildFromConfig(Reflection.java:108)\r\n    \tat com.datastax.oss.driver.internal.core.context.DefaultDriverContext.buildTimestampGenerator(DefaultDriverContext.java:373)\r\n    \tat com.datastax.oss.driver.internal.core.util.concurrent.LazyReference.get(LazyReference.java:55)\r\n    \tat com.datastax.oss.driver.internal.core.context.DefaultDriverContext.getTimestampGenerator(DefaultDriverContext.java:759)\r\n    \tat com.datastax.oss.driver.internal.core.session.DefaultSession$SingleThreaded.init(DefaultSession.java:349)\r\n    \tat com.datastax.oss.driver.internal.core.session.DefaultSession$SingleThreaded.access$1100(DefaultSession.java:300)\r\n    \tat com.datastax.oss.driver.internal.core.session.DefaultSession.lambda$init$0(DefaultSession.java:146)\r\n    \tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n    \tat io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:106)\r\n    \tat io.netty.channel.DefaultEventLoop.run(DefaultEventLoop.java:54)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: jnr.posix.POSIXHandler\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n    \t... 25 common frames omitted\r\n\r\nThe application starts fine, but is there a workaround to avoid/suppress this?","title":"java.lang.NoClassDefFoundError: jnr/posix/POSIXHandler while starting up cassandra based spring-boot app","body":"<p>When I startup my SpringBoot app (where I am using Cassandra as the DB), I get the following trace during startup :</p>\n<pre><code>Could not register Graph extensions; this is normal if Tinkerpop was explicitly excluded from classpath\nUnable to load JNR native implementation. This could be normal if JNR is excluded from the classpath\njava.lang.NoClassDefFoundError: jnr/posix/POSIXHandler\n    at com.datastax.oss.driver.internal.core.os.Native$LibcLoader.load(Native.java:42)\n    at com.datastax.oss.driver.internal.core.os.Native.&lt;clinit&gt;(Native.java:59)\n    at com.datastax.oss.driver.internal.core.time.Clock.getInstance(Clock.java:34)\n    at com.datastax.oss.driver.internal.core.time.MonotonicTimestampGenerator.buildClock(MonotonicTimestampGenerator.java:109)\n    at com.datastax.oss.driver.internal.core.time.MonotonicTimestampGenerator.&lt;init&gt;(MonotonicTimestampGenerator.java:43)\n    at com.datastax.oss.driver.internal.core.time.AtomicTimestampGenerator.&lt;init&gt;(AtomicTimestampGenerator.java:52)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.datastax.oss.driver.internal.core.util.Reflection.buildFromConfig(Reflection.java:246)\n    at com.datastax.oss.driver.internal.core.util.Reflection.buildFromConfig(Reflection.java:108)\n    at com.datastax.oss.driver.internal.core.context.DefaultDriverContext.buildTimestampGenerator(DefaultDriverContext.java:373)\n    at com.datastax.oss.driver.internal.core.util.concurrent.LazyReference.get(LazyReference.java:55)\n    at com.datastax.oss.driver.internal.core.context.DefaultDriverContext.getTimestampGenerator(DefaultDriverContext.java:759)\n    at com.datastax.oss.driver.internal.core.session.DefaultSession$SingleThreaded.init(DefaultSession.java:349)\n    at com.datastax.oss.driver.internal.core.session.DefaultSession$SingleThreaded.access$1100(DefaultSession.java:300)\n    at com.datastax.oss.driver.internal.core.session.DefaultSession.lambda$init$0(DefaultSession.java:146)\n    at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n    at io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:106)\n    at io.netty.channel.DefaultEventLoop.run(DefaultEventLoop.java:54)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: jnr.posix.POSIXHandler\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n    ... 25 common frames omitted\n</code></pre>\n<p>The application starts fine, but is there a workaround to avoid/suppress this?</p>\n"},{"tags":["java","txt"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1663687094,"post_id":73788807,"comment_id":130295958,"body_markdown":"FYI there is a program called &quot;GREP&quot; (General Regular Expression Processor) that comes automatically installed on unix and mac computers. It is a souped up version of what you are trying to accomplish here, and the original intent was that other programs would use it for tasks like yours (it sends out its results via the standard process stream)","body":"FYI there is a program called &quot;GREP&quot; (General Regular Expression Processor) that comes automatically installed on unix and mac computers. It is a souped up version of what you are trying to accomplish here, and the original intent was that other programs would use it for tasks like yours (it sends out its results via the standard process stream)"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663686477,"creation_date":1663686260,"answer_id":73788853,"question_id":73788807,"body_markdown":"The logic of your `while` loop should be to iterate over all lines in the file until either you find a match or you hit the end of the file.  Consider this version:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void ChcekIfPasswordExsists(String check) throws FileNotFoundException {\r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;Passwords.txt&quot;));\r\n        Scanner fileScanner = new Scanner(reader);\r\n        boolean flag = false;\r\n        while (fileScanner.hasNextLine()) {\r\n            final String line = fileScanner.next();\r\n            if (line.contains(check)) {\r\n                flag = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (flag) {\r\n            System.out.println(&quot;Password for &quot; + check + &quot; already exsits&quot;);\r\n        }\r\n        else {\r\n            System.out.println(check + &quot; is usable&quot;);\r\n        }\r\n    }\r\n\r\nAlso, I might be inclined to change the method signature to return a boolean value (true/false).  Based on that return value, you can display to the console the message you want.\r\n\r\nSide note: If you are actually storing cleartext passwords in a text file, then stop doing that immediately.  It is a security hole.  Instead, setup a proper database and only store an irreversible hash of the passwords.","title":"Check if string exists in text file","body":"<p>The logic of your <code>while</code> loop should be to iterate over all lines in the file until either you find a match or you hit the end of the file.  Consider this version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void ChcekIfPasswordExsists(String check) throws FileNotFoundException {\n    BufferedReader reader = new BufferedReader(new FileReader(&quot;Passwords.txt&quot;));\n    Scanner fileScanner = new Scanner(reader);\n    boolean flag = false;\n    while (fileScanner.hasNextLine()) {\n        final String line = fileScanner.next();\n        if (line.contains(check)) {\n            flag = true;\n            break;\n        }\n    }\n\n    if (flag) {\n        System.out.println(&quot;Password for &quot; + check + &quot; already exsits&quot;);\n    }\n    else {\n        System.out.println(check + &quot; is usable&quot;);\n    }\n}\n</code></pre>\n<p>Also, I might be inclined to change the method signature to return a boolean value (true/false).  Based on that return value, you can display to the console the message you want.</p>\n<p>Side note: If you are actually storing cleartext passwords in a text file, then stop doing that immediately.  It is a security hole.  Instead, setup a proper database and only store an irreversible hash of the passwords.</p>\n"}],"owner":{"account_id":26366626,"reputation":13,"user_id":20021981,"display_name":"robinyg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73788853,"answer_count":1,"score":0,"last_activity_date":1663686477,"creation_date":1663686040,"question_id":73788807,"body_markdown":"I&#39;m trying to write a method, which checks if a given string exists in a .txt file, but it seems like my if/else statement isn&#39;t working correctly.\r\n\r\n    public void ChcekIfPasswordExsists(String check) throws FileNotFoundException{\r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;Passwords.txt&quot;));\r\n        Scanner fileScanner = new Scanner(reader);\r\n        while(fileScanner.hasNextLine()){\r\n            final String line = fileScanner.next();\r\n            if(line.contains(check)){\r\n                System.out.println(&quot;Password for &quot; + check + &quot; already exsits&quot;);\r\n                break;\r\n            }\r\n            else{\r\n                System.out.println(check + &quot; is usable&quot;);\r\n                break;\r\n            }        \r\n        }\r\n    }\r\nThis is where I&#39;m calling the method:\r\n\r\n    System.out.println(&quot;Enter the name of the app or website,\\nwhere password is going to be use:&quot;);\r\n    useCase = s.nextLine();\r\n     ChcekIfPasswordExsists(useCase);\r\nI have looked at countless other posts with no effect. No matter what, it seems like the code skips the &quot;if&quot; statement and directly jumps to the &quot;else&quot; statement.","title":"Check if string exists in text file","body":"<p>I'm trying to write a method, which checks if a given string exists in a .txt file, but it seems like my if/else statement isn't working correctly.</p>\n<pre><code>public void ChcekIfPasswordExsists(String check) throws FileNotFoundException{\n    BufferedReader reader = new BufferedReader(new FileReader(&quot;Passwords.txt&quot;));\n    Scanner fileScanner = new Scanner(reader);\n    while(fileScanner.hasNextLine()){\n        final String line = fileScanner.next();\n        if(line.contains(check)){\n            System.out.println(&quot;Password for &quot; + check + &quot; already exsits&quot;);\n            break;\n        }\n        else{\n            System.out.println(check + &quot; is usable&quot;);\n            break;\n        }        \n    }\n}\n</code></pre>\n<p>This is where I'm calling the method:</p>\n<pre><code>System.out.println(&quot;Enter the name of the app or website,\\nwhere password is going to be use:&quot;);\nuseCase = s.nextLine();\n ChcekIfPasswordExsists(useCase);\n</code></pre>\n<p>I have looked at countless other posts with no effect. No matter what, it seems like the code skips the &quot;if&quot; statement and directly jumps to the &quot;else&quot; statement.</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1663685162,"post_id":73788585,"comment_id":130295172,"body_markdown":"`javac MyClass.java &amp;&amp; rm MyClass.class`?","body":"<code>javac MyClass.java &amp;&amp; rm MyClass.class</code>?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1663685189,"post_id":73788585,"comment_id":130295185,"body_markdown":"I&#39;m not sure javac can do this. Is producing the class file a problem?","body":"I&#39;m not sure javac can do this. Is producing the class file a problem?"},{"owner":{"account_id":32578,"reputation":68658,"user_id":90511,"accept_rate":91,"display_name":"hugomg"},"score":0,"creation_date":1663685528,"post_id":73788585,"comment_id":130295329,"body_markdown":"Not a big deal, other than the waste of cpu and disk space. Is there a least a way to tell it to pipe the class file straight to /dev/null, so I don&#39;t have to do a separate `rm` command?","body":"Not a big deal, other than the waste of cpu and disk space. Is there a least a way to tell it to pipe the class file straight to /dev/null, so I don&#39;t have to do a separate <code>rm</code> command?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1663685586,"post_id":73788585,"comment_id":130295353,"body_markdown":"Btw, you could try another approach e.g. Eclipse JDT, the `JavaCompiler` class or some other syntax checker (depending on your needs you could also try to use ANTLR with a [Java grammar](https://github.com/antlr/grammars-v4/tree/master/java/java)).","body":"Btw, you could try another approach e.g. Eclipse JDT, the <code>JavaCompiler</code> class or some other syntax checker (depending on your needs you could also try to use ANTLR with a <a href=\"https://github.com/antlr/grammars-v4/tree/master/java/java\" rel=\"nofollow noreferrer\">Java grammar</a>)."},{"owner":{"account_id":12331407,"reputation":284,"user_id":8997268,"display_name":"Umesh Sulakude"},"score":0,"creation_date":1663686545,"post_id":73788585,"comment_id":130295739,"body_markdown":"You try this  -&gt; javac -Werror filename.java  but only problem is it will stop compilation if there are any error and warnings as well.","body":"You try this  -&gt; javac -Werror filename.java  but only problem is it will stop compilation if there are any error and warnings as well."}],"owner":{"account_id":32578,"reputation":68658,"user_id":90511,"accept_rate":91,"display_name":"hugomg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663686069,"creation_date":1663685034,"question_id":73788585,"body_markdown":"Is there a way to have javac only check a Java file for errors, but without compiling it to a class file? I&#39;m only interested in checking whether the file has syntax errors and so on. I don&#39;t want the compiled class file.","title":"How can I check a Java file for errors, without producinv a .class file?","body":"<p>Is there a way to have javac only check a Java file for errors, but without compiling it to a class file? I'm only interested in checking whether the file has syntax errors and so on. I don't want the compiled class file.</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":5139094,"reputation":101,"user_id":4117017,"display_name":"Uday Fokane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518505208,"creation_date":1518503293,"answer_id":48760698,"question_id":48760477,"body_markdown":"You are perhaps looking for custom layout. Below articles should help you. In a nutshell, create a custom layout, set up your own conversion characters and handle the log message (&amp; object var args) accordingly to replace conversion characters with appropriate dynamic values.\r\n\r\nhttp://www.wideskills.com/log4j-tutorial/10-custom-appender-and-layout-in-log4j\r\n\r\nhttps://fw-geekycoder.blogspot.in/2010/07/creating-log4j-custom-patternlayout.html\r\n\r\nOR\r\n\r\nYou can try MDC/ThreadContext in log4j/log4j2 for that matter. This will allow you to supply dynamic piece of log information by means of a simple Map &amp; have that available in your log layout using custom patterns strings. Please take a look at below article in this regard -\r\n\r\nhttp://www.baeldung.com/mdc-in-log4j-2-logback","title":"Need to append params to each and every log before - in log4j in java","body":"<p>You are perhaps looking for custom layout. Below articles should help you. In a nutshell, create a custom layout, set up your own conversion characters and handle the log message (&amp; object var args) accordingly to replace conversion characters with appropriate dynamic values.</p>\n\n<p><a href=\"http://www.wideskills.com/log4j-tutorial/10-custom-appender-and-layout-in-log4j\" rel=\"nofollow noreferrer\">http://www.wideskills.com/log4j-tutorial/10-custom-appender-and-layout-in-log4j</a></p>\n\n<p><a href=\"https://fw-geekycoder.blogspot.in/2010/07/creating-log4j-custom-patternlayout.html\" rel=\"nofollow noreferrer\">https://fw-geekycoder.blogspot.in/2010/07/creating-log4j-custom-patternlayout.html</a></p>\n\n<p>OR</p>\n\n<p>You can try MDC/ThreadContext in log4j/log4j2 for that matter. This will allow you to supply dynamic piece of log information by means of a simple Map &amp; have that available in your log layout using custom patterns strings. Please take a look at below article in this regard -</p>\n\n<p><a href=\"http://www.baeldung.com/mdc-in-log4j-2-logback\" rel=\"nofollow noreferrer\">http://www.baeldung.com/mdc-in-log4j-2-logback</a></p>\n"},{"tags":[],"owner":{"account_id":1705913,"reputation":484,"user_id":1564958,"accept_rate":100,"display_name":"Madhavi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663685154,"creation_date":1519207348,"answer_id":48903020,"question_id":48760477,"body_markdown":"By using ThreadContext and pattern in log4j2.xml or log4j2.properties file in got expected output. Please find the below piece of code.\r\nlog4j2.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration&gt;\r\n      &lt;Appenders&gt;\r\n    \r\n    &lt;!--     Console Appender --&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n          &lt;PatternLayout\r\n            pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L %X{param1} %X{param2} %X{param3} - %m%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    \r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;all&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nor\r\n\r\nlog4j2.properties\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=INFO, file, stdout\r\n    \r\n    # Direct log messages to stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L %X{param1} %X{param2} %X{param3} - %m%n\r\n\r\nAnd\r\n\r\nIn JAVA file\r\n\r\n    package com.test;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.ThreadContext;\r\n    \r\n    public class Test {\r\n        public static void ThreadContextLoggerCreation(long param1, String param2, String param3) {\r\n            ThreadContext.push(UUID.randomUUID().toString()); // Add the fishtag;\r\n            ThreadContext.put(&quot;param1&quot;, param1);\r\n            ThreadContext.put(&quot;param2&quot;, param2);\r\n            ThreadContext.put(&quot;param3&quot;, param3);\r\n            ThreadContext.pop();\r\n        }\r\n    \r\n        public static void ThreadContextLoggerClear() {\r\n            ThreadContext.clearAll();\r\n        }\r\n        public static void main(String args[]) {\r\n            Logger logger = LogManager.getLogger(Test.class);\r\n            LogUtil.ThreadContextLoggerCreation(logger, currentTime, customerId, agentLocation, streamId, streamVariant, levelOfDetail);\r\n            logger.info(&quot;Current Time of execution(HHmm) is: {}&quot;, BatchTimeUtil.convertTimestampToReadableDate(currentTime));\r\n        }\r\n    }\r\n\r\n","title":"Need to append params to each and every log before - in log4j in java","body":"<p>By using ThreadContext and pattern in log4j2.xml or log4j2.properties file in got expected output. Please find the below piece of code.\nlog4j2.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n  &lt;Appenders&gt;\n\n&lt;!--     Console Appender --&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout\n        pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L %X{param1} %X{param2} %X{param3} - %m%n&quot; /&gt;\n    &lt;/Console&gt;\n\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;all&quot;&gt;\n      &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>or</p>\n<p>log4j2.properties</p>\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, file, stdout\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L %X{param1} %X{param2} %X{param3} - %m%n\n</code></pre>\n<p>And</p>\n<p>In JAVA file</p>\n<pre><code>package com.test;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.ThreadContext;\n\npublic class Test {\n    public static void ThreadContextLoggerCreation(long param1, String param2, String param3) {\n        ThreadContext.push(UUID.randomUUID().toString()); // Add the fishtag;\n        ThreadContext.put(&quot;param1&quot;, param1);\n        ThreadContext.put(&quot;param2&quot;, param2);\n        ThreadContext.put(&quot;param3&quot;, param3);\n        ThreadContext.pop();\n    }\n\n    public static void ThreadContextLoggerClear() {\n        ThreadContext.clearAll();\n    }\n    public static void main(String args[]) {\n        Logger logger = LogManager.getLogger(Test.class);\n        LogUtil.ThreadContextLoggerCreation(logger, currentTime, customerId, agentLocation, streamId, streamVariant, levelOfDetail);\n        logger.info(&quot;Current Time of execution(HHmm) is: {}&quot;, BatchTimeUtil.convertTimestampToReadableDate(currentTime));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1705913,"reputation":484,"user_id":1564958,"accept_rate":100,"display_name":"Madhavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5821,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48903020,"answer_count":2,"score":1,"last_activity_date":1663685154,"creation_date":1518502201,"question_id":48760477,"body_markdown":"I need to append my variables to my logger for each and every log.\r\nHas to update the configuration log4J file to update the print statements for every log output. This information should be at the beginning of every log statement.\r\n\r\nIf you look at one of the log outputs :\r\n&quot;2018-02-02 15:34:43 INFO TestClass:135 - Start time stamp is: 1517585580000 and HHmm is: 1533&quot;\r\nI need to edit the part before the &quot;-&quot;\r\ni.e., 1533 param1 Param2 timestamp 2018-02-02 15:34:43 INFO TestClass:135 -  - Start time stamp is: 1517585580000 and HHmm is: 1533.\r\nNote: the params vary from log to log i can pass them in through logger.info.\r\nCan anyone help me on this?","title":"Need to append params to each and every log before - in log4j in java","body":"<p>I need to append my variables to my logger for each and every log.\nHas to update the configuration log4J file to update the print statements for every log output. This information should be at the beginning of every log statement.</p>\n\n<p>If you look at one of the log outputs :\n\"2018-02-02 15:34:43 INFO TestClass:135 - Start time stamp is: 1517585580000 and HHmm is: 1533\"\nI need to edit the part before the \"-\"\ni.e., 1533 param1 Param2 timestamp 2018-02-02 15:34:43 INFO TestClass:135 -  - Start time stamp is: 1517585580000 and HHmm is: 1533.\nNote: the params vary from log to log i can pass them in through logger.info.\nCan anyone help me on this?</p>\n"},{"tags":["java","linux","java-8","apple-m1"],"comments":[{"owner":{"account_id":157012,"reputation":749,"user_id":374642,"display_name":"brunson"},"score":0,"creation_date":1663608873,"post_id":73777205,"comment_id":130275248,"body_markdown":"What is the output of `file /opt/module/jdk1.8.0_212/bin/java`?","body":"What is the output of <code>file &#47;opt&#47;module&#47;jdk1.8.0_212&#47;bin&#47;java</code>?"},{"owner":{"account_id":26379929,"reputation":11,"user_id":20033332,"display_name":"EZ Sun"},"score":0,"creation_date":1663609259,"post_id":73777205,"comment_id":130275381,"body_markdown":"# file java\n\njava: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.9, not stripped","body":"# file java  java: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.9, not stripped"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663611481,"post_id":73777205,"comment_id":130276064,"body_markdown":"What&#39;s the output of ```$JAVA_HOME/bin/java -version``` ?","body":"What&#39;s the output of <code>$JAVA_HOME&#47;bin&#47;java -version</code> ?"},{"owner":{"account_id":157012,"reputation":749,"user_id":374642,"display_name":"brunson"},"score":0,"creation_date":1663625408,"post_id":73777205,"comment_id":130279943,"body_markdown":"`x86-64` is not an ARM compatible binary, it is compiled for Intel/AMD. It would say something like : `arm64e` if it was an ARM binary.","body":"<code>x86-64</code> is not an ARM compatible binary, it is compiled for Intel/AMD. It would say something like : <code>arm64e</code> if it was an ARM binary."},{"owner":{"account_id":26379929,"reputation":11,"user_id":20033332,"display_name":"EZ Sun"},"score":0,"creation_date":1663640775,"post_id":73777205,"comment_id":130282100,"body_markdown":"Thanks! I found another JDK adapted to arm and the problem is solved","body":"Thanks! I found another JDK adapted to arm and the problem is solved"},{"owner":{"account_id":56534,"reputation":85018,"user_id":169346,"display_name":"JeremyP"},"score":0,"creation_date":1663685267,"post_id":73777205,"comment_id":130295211,"body_markdown":"@EZSun Hi. Since you solved the problem yourself, you should answer your own question and then accept the answer. That way, other people with the same problem  can find the answer here.","body":"@EZSun Hi. Since you solved the problem yourself, you should answer your own question and then accept the answer. That way, other people with the same problem  can find the answer here."}],"owner":{"account_id":26379929,"reputation":11,"user_id":20033332,"display_name":"EZ Sun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663685115,"creation_date":1663608707,"question_id":73777205,"body_markdown":"In the virtual machine, after I installed jdk1.8 and configured the environment variables, I tried typing &quot;java&quot; to make sure jdk was configured successfully. But it reported an error:\r\n &quot;-bash: /opt/module/jdk1.8.0_212/bin/java: **cannot execute binary file**&quot;\r\n\r\n[Run java][1]\r\n\r\nWHY？？？\r\n\r\nI&#39;m sure all the software I use is arm architecture, otherwise I wouldn&#39;t be able to start Linux. And the JDK is 64-bit.\r\n\r\nI created my own environment variable configuration file under &quot;profile.d&quot;. Here&#39;s what&#39;s inside that file.\r\n\r\n    #JAVA_HOME\r\n    export JAVA_HOME=/opt/module/jdk1.8.0_212\r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n\r\n|PC|MacBook Air M1 |\r\n| -------- | -------- |\r\n|Virtual Machine|VMware Fusion|\r\n|Linux|CentOS 7 ARM|\r\n|JDK|jdk1.8.0_212|\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DzlPQ.png","title":"Linux on M1 Mac install java, error: Java:cannot execute binary file","body":"<p>In the virtual machine, after I installed jdk1.8 and configured the environment variables, I tried typing &quot;java&quot; to make sure jdk was configured successfully. But it reported an error:\n&quot;-bash: /opt/module/jdk1.8.0_212/bin/java: <strong>cannot execute binary file</strong>&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/DzlPQ.png\" rel=\"nofollow noreferrer\">Run java</a></p>\n<p>WHY？？？</p>\n<p>I'm sure all the software I use is arm architecture, otherwise I wouldn't be able to start Linux. And the JDK is 64-bit.</p>\n<p>I created my own environment variable configuration file under &quot;profile.d&quot;. Here's what's inside that file.</p>\n<pre><code>#JAVA_HOME\nexport JAVA_HOME=/opt/module/jdk1.8.0_212\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>PC</th>\n<th>MacBook Air M1</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Virtual Machine</td>\n<td>VMware Fusion</td>\n</tr>\n<tr>\n<td>Linux</td>\n<td>CentOS 7 ARM</td>\n</tr>\n<tr>\n<td>JDK</td>\n<td>jdk1.8.0_212</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat9"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1553331464,"post_id":55312065,"comment_id":97351398,"body_markdown":"The property is named `spring.http.multipart.max-file-size`, not `Spring.http.multipart.max-file-size`.","body":"The property is named <code>spring.http.multipart.max-file-size</code>, not <code>Spring.http.multipart.max-file-size</code>."},{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1553331575,"post_id":55312065,"comment_id":97351424,"body_markdown":"Possible duplicate of [How to set the max size of upload file](https://stackoverflow.com/questions/37540028/how-to-set-the-max-size-of-upload-file)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/37540028/how-to-set-the-max-size-of-upload-file\">How to set the max size of upload file</a>"},{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":0,"creation_date":1553332562,"post_id":55312065,"comment_id":97351591,"body_markdown":"please try to clean the project and make sure you have not misspelled it","body":"please try to clean the project and make sure you have not misspelled it"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580911557,"creation_date":1553332579,"answer_id":55312260,"question_id":55312065,"body_markdown":"There is a typo in your property `S` in Spring is uppercase instead of lowercase.\r\n\r\nWith spring-boot 1.5.2 you can use the following property in `application.yml`\r\n\r\n    spring:\r\n     http:\r\n      multipart:\r\n       max-file-size: 100MB\r\n       max-request-size: 100MB\r\n\r\n    \r\n**Make sure to use spaces and not tab in your yaml file.**","title":"How to resolve FileSizeLimitExceededException error?","body":"<p>There is a typo in your property <code>S</code> in Spring is uppercase instead of lowercase.</p>\n\n<p>With spring-boot 1.5.2 you can use the following property in <code>application.yml</code></p>\n\n<pre><code>spring:\n http:\n  multipart:\n   max-file-size: 100MB\n   max-request-size: 100MB\n</code></pre>\n\n<p><strong>Make sure to use spaces and not tab in your yaml file.</strong></p>\n"},{"tags":[],"owner":{"account_id":12693917,"reputation":73,"user_id":9222960,"display_name":"Akki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553417616,"creation_date":1553339899,"answer_id":55313153,"question_id":55312065,"body_markdown":"Include below code in your SpringBootWebApplication class(Main):\r\n\r\nFor Java 8:\r\n\r\n```\r\n@Bean\r\npublic TomcatEmbeddedServletContainerFactory tomcatEmbedded() {\r\n    TomcatEmbeddedServletContainerFactory tomcat = new TomcatEmbeddedServletContainerFactory();\r\n    tomcat.addConnectorCustomizers((TomcatConnectorCustomizer) connector -&gt; {\r\n        if ((connector.getProtocolHandler() instanceof AbstractHttp11Protocol&lt;?&gt;)) {\r\n            //-1 for unlimited\r\n            ((AbstractHttp11Protocol&lt;?&gt;) connector.getProtocolHandler()).setMaxSwallowSize(-1);\r\n        }\r\n    });\r\n    return tomcat;\r\n}\r\n```\r\n\r\nfor Java 7:\r\n\r\n```\r\n@Bean\r\npublic TomcatEmbeddedServletContainerFactory tomcatEmbedded() {\r\n    TomcatEmbeddedServletContainerFactory tomcat = new TomcatEmbeddedServletContainerFactory();\r\n    tomcat.addConnectorCustomizers(new TomcatConnectorCustomizer()  {\r\n        @Override\r\n        public void customize(Connector connector) {\r\n            if ((connector.getProtocolHandler() instanceof AbstractHttp11Protocol&lt;?&gt;)) {\r\n                //-1 for unlimited\r\n                ((AbstractHttp11Protocol&lt;?&gt;) connector.getProtocolHandler()).setMaxSwallowSize(-1);\r\n            }\r\n        }\r\n    });\r\n    return tomcat;\r\n}\r\n```","title":"How to resolve FileSizeLimitExceededException error?","body":"<p>Include below code in your SpringBootWebApplication class(Main):</p>\n\n<p>For Java 8:</p>\n\n<pre><code>@Bean\npublic TomcatEmbeddedServletContainerFactory tomcatEmbedded() {\n    TomcatEmbeddedServletContainerFactory tomcat = new TomcatEmbeddedServletContainerFactory();\n    tomcat.addConnectorCustomizers((TomcatConnectorCustomizer) connector -&gt; {\n        if ((connector.getProtocolHandler() instanceof AbstractHttp11Protocol&lt;?&gt;)) {\n            //-1 for unlimited\n            ((AbstractHttp11Protocol&lt;?&gt;) connector.getProtocolHandler()).setMaxSwallowSize(-1);\n        }\n    });\n    return tomcat;\n}\n</code></pre>\n\n<p>for Java 7:</p>\n\n<pre><code>@Bean\npublic TomcatEmbeddedServletContainerFactory tomcatEmbedded() {\n    TomcatEmbeddedServletContainerFactory tomcat = new TomcatEmbeddedServletContainerFactory();\n    tomcat.addConnectorCustomizers(new TomcatConnectorCustomizer()  {\n        @Override\n        public void customize(Connector connector) {\n            if ((connector.getProtocolHandler() instanceof AbstractHttp11Protocol&lt;?&gt;)) {\n                //-1 for unlimited\n                ((AbstractHttp11Protocol&lt;?&gt;) connector.getProtocolHandler()).setMaxSwallowSize(-1);\n            }\n        }\n    });\n    return tomcat;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5227441,"reputation":515,"user_id":4179039,"display_name":"Semir Umut Kurt"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1577894788,"creation_date":1577894788,"answer_id":59554005,"question_id":55312065,"body_markdown":"I tried Alien&#39;s solution but it gave deprecated error, hence I want to share new way of solution\r\n\r\n    spring.servlet.multipart.max-request-size=10MB\r\n    spring.servlet.multipart.max-file-size=10MB\r\n\r\n","title":"How to resolve FileSizeLimitExceededException error?","body":"<p>I tried Alien's solution but it gave deprecated error, hence I want to share new way of solution</p>\n\n<pre><code>spring.servlet.multipart.max-request-size=10MB\nspring.servlet.multipart.max-file-size=10MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12961689,"reputation":21,"user_id":9370753,"display_name":"Sivasankar Thalavai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580892313,"creation_date":1580892130,"answer_id":60071931,"question_id":55312065,"body_markdown":"Try using the below code:\r\n\r\n    spring:\r\n      profiles: development\r\n      servlet:\r\n        multipart:\r\n          enabled: true\r\n          max-file-size: 10MB\r\n          max-request-size: 10MB","title":"How to resolve FileSizeLimitExceededException error?","body":"<p>Try using the below code:</p>\n\n<pre><code>spring:\n  profiles: development\n  servlet:\n    multipart:\n      enabled: true\n      max-file-size: 10MB\n      max-request-size: 10MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18618594,"reputation":158,"user_id":13569349,"display_name":"Mateus Nogueira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663685103,"creation_date":1663685103,"answer_id":73788606,"question_id":55312065,"body_markdown":"For Spring boot 2.x and above its\r\n\r\nApplication properties\r\n\r\n    spring.servlet.multipart.max-file-size=10MB\r\n    spring.servlet.multipart.max-request-size=10MB\r\n\r\nYAML\r\n\r\n    spring:\r\n      servlet:\r\n        multipart:\r\n          max-file-size: 10MB\r\n          max-request-size: 10MB\r\n\r\n","title":"How to resolve FileSizeLimitExceededException error?","body":"<p>For Spring boot 2.x and above its</p>\n<p>Application properties</p>\n<pre><code>spring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n</code></pre>\n<p>YAML</p>\n<pre><code>spring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n</code></pre>\n"}],"owner":{"account_id":3715120,"reputation":630,"user_id":3091530,"accept_rate":50,"display_name":"user3091530"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9581,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1663685103,"creation_date":1553330607,"question_id":55312065,"body_markdown":"I&#39;m getting error while uploading excel file size is more the 1MB.\r\n\r\n    [org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request;\r\n     nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$FileSizeLimitExceededException:\r\n     The field files exceeds its maximum permitted size of 1048576 bytes.]\r\n\r\nI tried to fix it by applying the following config changes but none of them help me.\r\n\r\nTry with configuration in `application.yml` file : \r\n\r\n    spring:\r\n          http:\r\n             multipart:\r\n                 max-file-size:5MB\r\n                 max-request-size:5MB\r\n\r\n   \r\nAnd also I&#39;ve tried the below annotation:\r\n\r\n    @MultipartConfig(fileSizeThreshold=1024*1024*10,maxFileSize=1024*1024*10,maxRequestSize=1024*1024*10)\r\n\r\nAnd last I made this change: \r\n\r\n    &lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot; maxSwallowSize=&quot;-1&quot;   /&gt;\r\n\r\nBut nothing does work !","title":"How to resolve FileSizeLimitExceededException error?","body":"<p>I'm getting error while uploading excel file size is more the 1MB.</p>\n\n<pre><code>[org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request;\n nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$FileSizeLimitExceededException:\n The field files exceeds its maximum permitted size of 1048576 bytes.]\n</code></pre>\n\n<p>I tried to fix it by applying the following config changes but none of them help me.</p>\n\n<p>Try with configuration in <code>application.yml</code> file : </p>\n\n<pre><code>spring:\n      http:\n         multipart:\n             max-file-size:5MB\n             max-request-size:5MB\n</code></pre>\n\n<p>And also I've tried the below annotation:</p>\n\n<pre><code>@MultipartConfig(fileSizeThreshold=1024*1024*10,maxFileSize=1024*1024*10,maxRequestSize=1024*1024*10)\n</code></pre>\n\n<p>And last I made this change: </p>\n\n<pre><code>&lt;Connector connectionTimeout=\"20000\" port=\"8080\" protocol=\"HTTP/1.1\" redirectPort=\"8443\" maxSwallowSize=\"-1\"   /&gt;\n</code></pre>\n\n<p>But nothing does work !</p>\n"},{"tags":["java","sql-server","jdbc","driver","sqlexception"],"comments":[{"owner":{"account_id":441418,"reputation":6984,"user_id":831498,"accept_rate":67,"display_name":"Piraba"},"score":0,"creation_date":1321003630,"post_id":5616898,"comment_id":9919050,"body_markdown":"hi .. Did you get the solution for this? I also face same issue..please help me","body":"hi .. Did you get the solution for this? I also face same issue..please help me"},{"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"score":2,"creation_date":1340772383,"post_id":5616898,"comment_id":14734421,"body_markdown":"To solve above problem check my simple code below...","body":"To solve above problem check my simple code below..."},{"owner":{"display_name":"user2087766"},"score":0,"creation_date":1361288968,"post_id":5616898,"comment_id":21006205,"body_markdown":"Please download sqljdbc4.jar and place in lib of Jmeter","body":"Please download sqljdbc4.jar and place in lib of Jmeter"}],"answers":[{"tags":[],"owner":{"account_id":65096,"reputation":15637,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1302500292,"creation_date":1302500292,"answer_id":5617164,"question_id":5616898,"body_markdown":"Your URL should be `jdbc:sqlserver://server:port;DatabaseName=dbname` &lt;br/&gt;\r\nand Class name should be like `com.microsoft.sqlserver.jdbc.SQLServerDriver` &lt;br/&gt;\r\nUse [MicrosoftSQL Server JDBC Driver 2.0][1]\r\n\r\n\r\n  [1]: http://www.microsoft.com/downloads/en/details.aspx?FamilyID=99b21b65-e98f-4a61-b811-19912601fdc9&amp;displaylang=en","title":"java.sql.SQLException: No suitable driver found for jdbc:microsoft:sqlserver","body":"<p>Your URL should be <code>jdbc:sqlserver://server:port;DatabaseName=dbname</code> <br/>\nand Class name should be like <code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code> <br/>\nUse <a href=\"http://www.microsoft.com/downloads/en/details.aspx?FamilyID=99b21b65-e98f-4a61-b811-19912601fdc9&amp;displaylang=en\" rel=\"noreferrer\">MicrosoftSQL Server JDBC Driver 2.0</a></p>\n"},{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1423167125,"creation_date":1340772269,"answer_id":11219543,"question_id":5616898,"body_markdown":"Following is a simple code to read from SQL database.\r\nDatabase names is &quot;database1&quot;.\r\nTable name is &quot;table1&quot;.\r\nIt contain two columns &quot;uname&quot; and &quot;pass&quot;.\r\nDont forget to add &quot;sqljdbc4.jar&quot; to your project. [Download sqljdbc4.jar][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/s/Downloadsqljdbc420jar.htm &quot;Download sqljdbc4.jar&quot;\r\n\r\n\r\n    public class NewClass {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Connection conn = null;\r\n            String dbName = &quot;database1&quot;;\r\n            String serverip=&quot;192.168.100.100&quot;;\r\n            String serverport=&quot;1433&quot;;\r\n            String url = &quot;jdbc:sqlserver://&quot;+serverip+&quot;\\\\SQLEXPRESS:&quot;+serverport+&quot;;databaseName=&quot;+dbName+&quot;&quot;;\r\n            Statement stmt = null;\r\n            ResultSet result = null;\r\n            String driver = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n            String databaseUserName = &quot;admin&quot;;\r\n            String databasePassword = &quot;root&quot;;\r\n            try {\r\n                Class.forName(driver).newInstance();\r\n                conn = DriverManager.getConnection(url, databaseUserName, databasePassword);\r\n                stmt = conn.createStatement();\r\n                result = null;\r\n                String pa,us;\r\n                result = stmt.executeQuery(&quot;select * from table1 &quot;);\r\n             \r\n                while (result.next()) {\r\n                    us=result.getString(&quot;uname&quot;);\r\n                    pa = result.getString(&quot;pass&quot;);              \r\n                    System.out.println(us+&quot;  &quot;+pa);\r\n                }\r\n    \r\n                conn.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"java.sql.SQLException: No suitable driver found for jdbc:microsoft:sqlserver","body":"<p>Following is a simple code to read from SQL database.\nDatabase names is \"database1\".\nTable name is \"table1\".\nIt contain two columns \"uname\" and \"pass\".\nDont forget to add \"sqljdbc4.jar\" to your project. <a href=\"http://www.java2s.com/Code/Jar/s/Downloadsqljdbc420jar.htm\" rel=\"noreferrer\" title=\"Download sqljdbc4.jar\">Download sqljdbc4.jar</a></p>\n\n<pre><code>public class NewClass {\n\n    public static void main(String[] args) {\n\n        Connection conn = null;\n        String dbName = \"database1\";\n        String serverip=\"192.168.100.100\";\n        String serverport=\"1433\";\n        String url = \"jdbc:sqlserver://\"+serverip+\"\\\\SQLEXPRESS:\"+serverport+\";databaseName=\"+dbName+\"\";\n        Statement stmt = null;\n        ResultSet result = null;\n        String driver = \"com.microsoft.sqlserver.jdbc.SQLServerDriver\";\n        String databaseUserName = \"admin\";\n        String databasePassword = \"root\";\n        try {\n            Class.forName(driver).newInstance();\n            conn = DriverManager.getConnection(url, databaseUserName, databasePassword);\n            stmt = conn.createStatement();\n            result = null;\n            String pa,us;\n            result = stmt.executeQuery(\"select * from table1 \");\n\n            while (result.next()) {\n                us=result.getString(\"uname\");\n                pa = result.getString(\"pass\");              \n                System.out.println(us+\"  \"+pa);\n            }\n\n            conn.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3754654,"reputation":450,"user_id":3121290,"display_name":"shivam srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501085421,"creation_date":1501085421,"answer_id":45332275,"question_id":5616898,"body_markdown":"You can try like below with sqljdbc4-2.0.jar:\r\n\r\n     public void getConnection() throws ClassNotFoundException, SQLException, IllegalAccessException, InstantiationException {\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;).newInstance();\r\n            String url = &quot;jdbc:sqlserver://&lt;SERVER_IP&gt;:&lt;PORT_NO&gt;;databaseName=&quot; + DATABASE_NAME;\r\n            Connection conn = DriverManager.getConnection(url, USERNAME, PASSWORD);\r\n            System.out.println(&quot;DB Connection started&quot;);\r\n            Statement sta = conn.createStatement();\r\n            String Sql = &quot;select * from TABLE_NAME&quot;;\r\n            ResultSet rs = sta.executeQuery(Sql);\r\n            while (rs.next()) {\r\n                System.out.println(rs.getString(&quot;COLUMN_NAME&quot;));\r\n            }\r\n        }","title":"java.sql.SQLException: No suitable driver found for jdbc:microsoft:sqlserver","body":"<p>You can try like below with sqljdbc4-2.0.jar:</p>\n\n<pre><code> public void getConnection() throws ClassNotFoundException, SQLException, IllegalAccessException, InstantiationException {\n        Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\").newInstance();\n        String url = \"jdbc:sqlserver://&lt;SERVER_IP&gt;:&lt;PORT_NO&gt;;databaseName=\" + DATABASE_NAME;\n        Connection conn = DriverManager.getConnection(url, USERNAME, PASSWORD);\n        System.out.println(\"DB Connection started\");\n        Statement sta = conn.createStatement();\n        String Sql = \"select * from TABLE_NAME\";\n        ResultSet rs = sta.executeQuery(Sql);\n        while (rs.next()) {\n            System.out.println(rs.getString(\"COLUMN_NAME\"));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45419,"reputation":39421,"user_id":133840,"display_name":"JeffryHouser"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514480394,"creation_date":1514480394,"answer_id":48011392,"question_id":5616898,"body_markdown":"I was having the same error, but had a proper connection string.  My problem was that the driver was not being used, therefore was optimized out of the compiled war.\r\n\r\nBe sure to import the driver:\r\n\r\n    import com.microsoft.sqlserver.jdbc.SQLServerDriver;\r\n\r\n\r\nAnd then to force it to be included in the final war, you can do something like this:\r\n\r\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n\r\nThat line is in the original question.  This will also work:\r\n\r\n    SQLServerDriver driver = new SQLServerDriver();\r\n\r\n","title":"java.sql.SQLException: No suitable driver found for jdbc:microsoft:sqlserver","body":"<p>I was having the same error, but had a proper connection string.  My problem was that the driver was not being used, therefore was optimized out of the compiled war.</p>\n\n<p>Be sure to import the driver:</p>\n\n<pre><code>import com.microsoft.sqlserver.jdbc.SQLServerDriver;\n</code></pre>\n\n<p>And then to force it to be included in the final war, you can do something like this:</p>\n\n<pre><code>Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n</code></pre>\n\n<p>That line is in the original question.  This will also work:</p>\n\n<pre><code>SQLServerDriver driver = new SQLServerDriver();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268020,"reputation":3637,"user_id":556540,"accept_rate":76,"display_name":"Shams"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1535707419,"creation_date":1535707013,"answer_id":52112245,"question_id":5616898,"body_markdown":"For someone looking to solve same by using maven. Add below dependency in POM:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;7.0.0.jre8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd use below code for connection:\r\n\r\n    String connectionUrl = &quot;jdbc:sqlserver://localhost:1433;databaseName=master;user=sa;password=your_password&quot;;\r\n    \r\n    try {\r\n    \tSystem.out.print(&quot;Connecting to SQL Server ... &quot;);\r\n    \ttry (Connection connection = DriverManager.getConnection(connectionUrl))        {\r\n    \t\tSystem.out.println(&quot;Done.&quot;);\r\n        }\r\n    } catch (Exception e) {\r\n    \tSystem.out.println();\r\n    \te.printStackTrace();\r\n    }\r\n\r\nLook for [this][1] link for other CRUD type of queries.\r\n\r\n\r\n  [1]: https://sqlchoice.azurewebsites.net/en-us/sql-server/developer-get-started/java/sles/step/2.html","title":"java.sql.SQLException: No suitable driver found for jdbc:microsoft:sqlserver","body":"<p>For someone looking to solve same by using maven. Add below dependency in POM:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0.jre8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And use below code for connection:</p>\n\n<pre><code>String connectionUrl = \"jdbc:sqlserver://localhost:1433;databaseName=master;user=sa;password=your_password\";\n\ntry {\n    System.out.print(\"Connecting to SQL Server ... \");\n    try (Connection connection = DriverManager.getConnection(connectionUrl))        {\n        System.out.println(\"Done.\");\n    }\n} catch (Exception e) {\n    System.out.println();\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Look for <a href=\"https://sqlchoice.azurewebsites.net/en-us/sql-server/developer-get-started/java/sles/step/2.html\" rel=\"noreferrer\">this</a> link for other CRUD type of queries.</p>\n"},{"tags":[],"owner":{"account_id":10363128,"reputation":29,"user_id":7781768,"display_name":"Ita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663685008,"creation_date":1663685008,"answer_id":73788583,"question_id":5616898,"body_markdown":"Try append the archive .JAR in Libraries Into The NETBEANS Project . Attention: The Project Category must be &quot;Ant&quot;","title":"java.sql.SQLException: No suitable driver found for jdbc:microsoft:sqlserver","body":"<p>Try append the archive .JAR in Libraries Into The NETBEANS Project . Attention: The Project Category must be &quot;Ant&quot;</p>\n"}],"owner":{"account_id":40944,"reputation":10156,"user_id":118860,"accept_rate":91,"display_name":"Larry Watanabe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323732,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":5617164,"answer_count":6,"score":65,"last_activity_date":1663685008,"creation_date":1302497780,"question_id":5616898,"body_markdown":"I&#39;m getting this exception when I try to run this program. It&#39;s one of the Microsoft examples. I&#39;ve added the sqljdbc4.jar to the classpath in netbeans for both compile and Run, via the project properties. I also tested that the class could be found by using an import statement below - no error during compile, so it must be finding the jar.\r\n\r\nCould it be related to a dll or some sql dll that the sqldbc4.jar references?\r\n\r\nThis is the exact exception, and below is the exact code, except for password.\r\n\r\nException:\r\n\r\n    run:\r\n    java.sql.SQLException: No suitable driver found for jdbc:microsoft:sqlserver://localhost:1433;databaseName=HealthCareDatabase\r\n    Error Trace in getConnection() : No suitable driver found for jdbc:microsoft:sqlserver://localhost:1433;databaseName=HealthCareDatabase\r\n    Error: No active Connection\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:602)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:185)\r\n    \tat javaapplication1.Connect.getConnection(Connect.java:35)\r\n    \tat javaapplication1.Connect.displayDbProperties(Connect.java:50)\r\n    \tat javaapplication1.JavaApplication1.main(JavaApplication1.java:23)\r\n    BUILD SUCCESSFUL (total time: 1 second)\r\n\r\n\r\nCode:\r\n\r\n     package javaapplication1;\r\n    import com.microsoft.sqlserver.jdbc.SQLServerDriver;\r\n    \r\n    import java.*;\r\n    \r\n    public class Connect {\r\n    \r\n        private java.sql.Connection con = null;\r\n        private final String url = &quot;jdbc:microsoft:sqlserver://&quot;;\r\n        private final String serverName = &quot;localhost&quot;;\r\n        private final String portNumber = &quot;1433&quot;;\r\n        private final String databaseName = &quot;HealthCareDatabase&quot;;\r\n        private final String userName = &quot;larry&quot;;\r\n        private final String password = &quot;xxxxxxx&quot;;\r\n      \r\n        // Constructor\r\n        public Connect() {\r\n        }\r\n    \r\n        private String getConnectionUrl() {\r\n            return url + serverName + &quot;:&quot; + portNumber + &quot;;databaseName=&quot; + databaseName ;\r\n        }\r\n    \r\n        private java.sql.Connection getConnection() {\r\n            try {\r\n                Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n                con = java.sql.DriverManager.getConnection(getConnectionUrl(), userName, password);\r\n                if (con != null) {\r\n                    System.out.println(&quot;Connection Successful!&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.out.println(&quot;Error Trace in getConnection() : &quot; + e.getMessage());\r\n            }\r\n            return con;\r\n        }\r\n    \r\n        public void displayDbProperties() {\r\n            java.sql.DatabaseMetaData dm = null;\r\n            java.sql.ResultSet rs = null;\r\n            try {\r\n                con = this.getConnection();\r\n                if (con != null) {\r\n                    dm = con.getMetaData();\r\n                    System.out.println(&quot;Driver Information&quot;);\r\n                    System.out.println(&quot;\\tDriver Name: &quot; + dm.getDriverName());\r\n                    System.out.println(&quot;\\tDriver Version: &quot; + dm.getDriverVersion());\r\n                    System.out.println(&quot;\\nDatabase Information &quot;);\r\n                    System.out.println(&quot;\\tDatabase Name: &quot; + dm.getDatabaseProductName());\r\n                    System.out.println(&quot;\\tDatabase Version: &quot; + dm.getDatabaseProductVersion());\r\n                    System.out.println(&quot;Avalilable Catalogs &quot;);\r\n                    rs = dm.getCatalogs();\r\n                    while (rs.next()) {\r\n                        System.out.println(&quot;\\tcatalog: &quot; + rs.getString(1));\r\n                    }\r\n                    rs.close();\r\n                    rs = null;\r\n                    closeConnection();\r\n                } else {\r\n                    System.out.println(&quot;Error: No active Connection&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            dm = null;\r\n        }\r\n    \r\n        private void closeConnection() {\r\n            try {\r\n                if (con != null) {\r\n                    con.close();\r\n                }\r\n                con = null;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Connect myDbTest = new Connect();\r\n            myDbTest.displayDbProperties();\r\n        }\r\n\r\n}\r\n\r\n\r\n","title":"java.sql.SQLException: No suitable driver found for jdbc:microsoft:sqlserver","body":"<p>I'm getting this exception when I try to run this program. It's one of the Microsoft examples. I've added the sqljdbc4.jar to the classpath in netbeans for both compile and Run, via the project properties. I also tested that the class could be found by using an import statement below - no error during compile, so it must be finding the jar.</p>\n\n<p>Could it be related to a dll or some sql dll that the sqldbc4.jar references?</p>\n\n<p>This is the exact exception, and below is the exact code, except for password.</p>\n\n<p>Exception:</p>\n\n<pre><code>run:\njava.sql.SQLException: No suitable driver found for jdbc:microsoft:sqlserver://localhost:1433;databaseName=HealthCareDatabase\nError Trace in getConnection() : No suitable driver found for jdbc:microsoft:sqlserver://localhost:1433;databaseName=HealthCareDatabase\nError: No active Connection\n    at java.sql.DriverManager.getConnection(DriverManager.java:602)\n    at java.sql.DriverManager.getConnection(DriverManager.java:185)\n    at javaapplication1.Connect.getConnection(Connect.java:35)\n    at javaapplication1.Connect.displayDbProperties(Connect.java:50)\n    at javaapplication1.JavaApplication1.main(JavaApplication1.java:23)\nBUILD SUCCESSFUL (total time: 1 second)\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code> package javaapplication1;\nimport com.microsoft.sqlserver.jdbc.SQLServerDriver;\n\nimport java.*;\n\npublic class Connect {\n\n    private java.sql.Connection con = null;\n    private final String url = \"jdbc:microsoft:sqlserver://\";\n    private final String serverName = \"localhost\";\n    private final String portNumber = \"1433\";\n    private final String databaseName = \"HealthCareDatabase\";\n    private final String userName = \"larry\";\n    private final String password = \"xxxxxxx\";\n\n    // Constructor\n    public Connect() {\n    }\n\n    private String getConnectionUrl() {\n        return url + serverName + \":\" + portNumber + \";databaseName=\" + databaseName ;\n    }\n\n    private java.sql.Connection getConnection() {\n        try {\n            Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n            con = java.sql.DriverManager.getConnection(getConnectionUrl(), userName, password);\n            if (con != null) {\n                System.out.println(\"Connection Successful!\");\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(\"Error Trace in getConnection() : \" + e.getMessage());\n        }\n        return con;\n    }\n\n    public void displayDbProperties() {\n        java.sql.DatabaseMetaData dm = null;\n        java.sql.ResultSet rs = null;\n        try {\n            con = this.getConnection();\n            if (con != null) {\n                dm = con.getMetaData();\n                System.out.println(\"Driver Information\");\n                System.out.println(\"\\tDriver Name: \" + dm.getDriverName());\n                System.out.println(\"\\tDriver Version: \" + dm.getDriverVersion());\n                System.out.println(\"\\nDatabase Information \");\n                System.out.println(\"\\tDatabase Name: \" + dm.getDatabaseProductName());\n                System.out.println(\"\\tDatabase Version: \" + dm.getDatabaseProductVersion());\n                System.out.println(\"Avalilable Catalogs \");\n                rs = dm.getCatalogs();\n                while (rs.next()) {\n                    System.out.println(\"\\tcatalog: \" + rs.getString(1));\n                }\n                rs.close();\n                rs = null;\n                closeConnection();\n            } else {\n                System.out.println(\"Error: No active Connection\");\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        dm = null;\n    }\n\n    private void closeConnection() {\n        try {\n            if (con != null) {\n                con.close();\n            }\n            con = null;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        Connect myDbTest = new Connect();\n        myDbTest.displayDbProperties();\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","redis","spring-data-redis"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1663684792,"post_id":73788492,"comment_id":130295018,"body_markdown":"So for `false` you&#39;d like to query again and again?","body":"So for <code>false</code> you&#39;d like to query again and again?"},{"owner":{"account_id":8728852,"reputation":47,"user_id":11060841,"display_name":"programmer420"},"score":0,"creation_date":1663684902,"post_id":73788492,"comment_id":130295062,"body_markdown":"@Thomas Yes, If it returned `false` then query again.","body":"@Thomas Yes, If it returned <code>false</code> then query again."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1663685028,"post_id":73788492,"comment_id":130295116,"body_markdown":"In that case try something like `unless=&quot;#result == false&quot;` of `unless=&quot;#{!result}&quot;`. However, note that `Boolean` also would allow for `null` values so if those are possible and you only want to cache `true` then maybe it should be `unless=&quot;#{result != true}&quot;`","body":"In that case try something like <code>unless=&quot;#result == false&quot;</code> of <code>unless=&quot;#{!result}&quot;</code>. However, note that <code>Boolean</code> also would allow for <code>null</code> values so if those are possible and you only want to cache <code>true</code> then maybe it should be <code>unless=&quot;#{result != true}&quot;</code>"},{"owner":{"account_id":8728852,"reputation":47,"user_id":11060841,"display_name":"programmer420"},"score":0,"creation_date":1663686582,"post_id":73788492,"comment_id":130295756,"body_markdown":"Thanks @Thomas  `unless=&quot;#result == false&quot;` working well. Thanks once again.","body":"Thanks @Thomas  <code>unless=&quot;#result == false&quot;</code> working well. Thanks once again."}],"owner":{"account_id":8728852,"reputation":47,"user_id":11060841,"display_name":"programmer420"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663684747,"creation_date":1663684597,"question_id":73788492,"body_markdown":"I need to save this cache once `response` is `true` only. \r\n\r\nIf it is `false` then no need to save it in the cache.\r\n\r\n```java\r\n@Cacheable(value = RedisCacheConfig.CONFIGURATION_CACHE, key  = &quot;#username.concat(&#39;_&#39;).concat(#channel)&quot;, cacheManager = RedisCacheConfig.CACHE_MANAGER)\r\npublic Boolean getConfigurations( String username, String channel, ValidateAccess validateAccess){\r\n\tBoolean response = configurationService.validateAdAndFetchRole(username, validateAccess);\r\n\treturn response;\r\n}\r\n```\r\n\r\nHow I can achieve this logic here?","title":"Springboot Redis not save in cache if return value is false","body":"<p>I need to save this cache once <code>response</code> is <code>true</code> only.</p>\n<p>If it is <code>false</code> then no need to save it in the cache.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(value = RedisCacheConfig.CONFIGURATION_CACHE, key  = &quot;#username.concat('_').concat(#channel)&quot;, cacheManager = RedisCacheConfig.CACHE_MANAGER)\npublic Boolean getConfigurations( String username, String channel, ValidateAccess validateAccess){\n    Boolean response = configurationService.validateAdAndFetchRole(username, validateAccess);\n    return response;\n}\n</code></pre>\n<p>How I can achieve this logic here?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":260512,"reputation":4246,"user_id":544109,"accept_rate":64,"display_name":"jerluc"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1294737467,"creation_date":1294737467,"answer_id":4655960,"question_id":4655931,"body_markdown":"I would consider a simple hashing of System.nanoTime() assuming you don&#39;t mind the 1 out of 1 billion chance of hash collision.","title":"12 Digit unique random number generation in Java","body":"<p>I would consider a simple hashing of System.nanoTime() assuming you don't mind the 1 out of 1 billion chance of hash collision.</p>\n"},{"tags":[],"owner":{"account_id":203255,"reputation":10399,"user_id":450811,"accept_rate":77,"display_name":"Waldheinz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295518078,"creation_date":1294738002,"answer_id":4656049,"question_id":4655931,"body_markdown":"I had a very similar requirement lately and came up with this:\r\n\r\n    import com.google.inject.Provider;\r\n    import java.security.SecureRandom;\r\n    import org.apache.commons.codec.binary.Base64;\r\n\r\n    public final class SecureKeyProvider {\r\n\r\n        private final SecureRandom rng;\r\n        private final int entropyBytes;\r\n\r\n        public SecureKeyProvider(int entropyBytes) {\r\n            this.rng = new SecureRandom();\r\n            this.entropyBytes = entropyBytes;\r\n        }\r\n\r\n        public String get() {\r\n\r\n            /* SecureRandom documentation does not state if it&#39;s thread-safe,\r\n             * therefore we do our own synchronization. see\r\n             *\r\n             * http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6498354\r\n             */\r\n\r\n            synchronized (this.rng) {\r\n                final byte[] random = new byte[this.entropyBytes];\r\n                rng.nextBytes(random);\r\n                return Base64.encodeBase64URLSafeString(random);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nIt uses the Base64 encoder from apache commons which I had in my project anyway. Maybe you want to replace it with something simple, but otherwise it does the job.","title":"12 Digit unique random number generation in Java","body":"<p>I had a very similar requirement lately and came up with this:</p>\n\n<pre><code>import com.google.inject.Provider;\nimport java.security.SecureRandom;\nimport org.apache.commons.codec.binary.Base64;\n\npublic final class SecureKeyProvider {\n\n    private final SecureRandom rng;\n    private final int entropyBytes;\n\n    public SecureKeyProvider(int entropyBytes) {\n        this.rng = new SecureRandom();\n        this.entropyBytes = entropyBytes;\n    }\n\n    public String get() {\n\n        /* SecureRandom documentation does not state if it's thread-safe,\n         * therefore we do our own synchronization. see\n         *\n         * http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6498354\n         */\n\n        synchronized (this.rng) {\n            final byte[] random = new byte[this.entropyBytes];\n            rng.nextBytes(random);\n            return Base64.encodeBase64URLSafeString(random);\n        }\n    }\n\n}\n</code></pre>\n\n<p>It uses the Base64 encoder from apache commons which I had in my project anyway. Maybe you want to replace it with something simple, but otherwise it does the job.</p>\n"},{"tags":[],"owner":{"account_id":271772,"reputation":644,"user_id":562483,"display_name":"Bence Olah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294738354,"creation_date":1294738354,"answer_id":4656099,"question_id":4655931,"body_markdown":"    Random random = new Random();\r\n    Math.round(random.nextFloat() * Math.pow(10,12))","title":"12 Digit unique random number generation in Java","body":"<pre><code>Random random = new Random();\nMath.round(random.nextFloat() * Math.pow(10,12))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1294739465,"creation_date":1294738472,"answer_id":4656118,"question_id":4655931,"body_markdown":"    (long)Math.random()*1000000000000L\r\n\r\nBut there are chances of collision\r\n\r\nWhy not use sequence? Starting from 100,000,000,000 to 999,999,999,999? keep a record of last generated number.\r\n\r\n----\r\nEdit: thanks to [bence olah][1], I fixed a creepy mistake \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/562483/bence-olah","title":"12 Digit unique random number generation in Java","body":"<pre><code>(long)Math.random()*1000000000000L\n</code></pre>\n\n<p>But there are chances of collision</p>\n\n<p>Why not use sequence? Starting from 100,000,000,000 to 999,999,999,999? keep a record of last generated number.</p>\n\n<hr>\n\n<p>Edit: thanks to <a href=\"https://stackoverflow.com/users/562483/bence-olah\">bence olah</a>, I fixed a creepy mistake </p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1319219106,"creation_date":1294738786,"answer_id":4656159,"question_id":4655931,"body_markdown":"Generate each digit by calling `random.nextInt`. For uniqueness, you can keep track of the random numbers you have used so far by keeping them in a set and checking if the set contains the number you generate each time.\r\n\r\n    public static long generateRandom(int length) {\r\n        Random random = new Random();\r\n        char[] digits = new char[length];\r\n        digits[0] = (char) (random.nextInt(9) + &#39;1&#39;);\r\n        for (int i = 1; i &lt; length; i++) {\r\n            digits[i] = (char) (random.nextInt(10) + &#39;0&#39;);\r\n        }\r\n        return Long.parseLong(new String(digits));\r\n    }","title":"12 Digit unique random number generation in Java","body":"<p>Generate each digit by calling <code>random.nextInt</code>. For uniqueness, you can keep track of the random numbers you have used so far by keeping them in a set and checking if the set contains the number you generate each time.</p>\n\n<pre><code>public static long generateRandom(int length) {\n    Random random = new Random();\n    char[] digits = new char[length];\n    digits[0] = (char) (random.nextInt(9) + '1');\n    for (int i = 1; i &lt; length; i++) {\n        digits[i] = (char) (random.nextInt(10) + '0');\n    }\n    return Long.parseLong(new String(digits));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294739265,"creation_date":1294739265,"answer_id":4656244,"question_id":4655931,"body_markdown":"You can try like this.This is generating random number for 12 digits.you have to mention the ranges.\r\n\r\n        package test;\r\n    import java.util.Random;\r\n    /** Generate random integers in a certain range. */\r\n    public final class RandomRange {\r\n      public static final void main(String... aArgs){\r\n        log(&quot;Generating random integers in the range 100000000000..999999999999.&quot;);\r\n        long START = 100000000000l;\r\n        long END = 999999999999l;\r\n        Random random = new Random();\r\n        for (int idx = 1; idx &lt;= 10; ++idx){\r\n          showRandomInteger(START, END, random);\r\n        }\r\n        log(&quot;Done.&quot;);\r\n      }\r\n    \r\n      private static void showRandomInteger(long aStart, long aEnd, Random aRandom){\r\n        if ( aStart &gt; aEnd ) {\r\n          throw new IllegalArgumentException(&quot;Start cannot exceed End.&quot;);\r\n        }\r\n        //get the range, casting to long to avoid overflow problems\r\n        long range = (long)aEnd - (long)aStart + 1;\r\n        // compute a fraction of the range, 0 &lt;= frac &lt; range\r\n        long randomNumber = (long)(range * aRandom.nextDouble());\r\n        System.out.println(&quot; fraction... &quot;+randomNumber);\r\n      }\r\n    \r\n      private static void log(String aMessage){\r\n        System.out.println(aMessage);\r\n      }\r\n    }","title":"12 Digit unique random number generation in Java","body":"<p>You can try like this.This is generating random number for 12 digits.you have to mention the ranges.</p>\n\n<pre><code>    package test;\nimport java.util.Random;\n/** Generate random integers in a certain range. */\npublic final class RandomRange {\n  public static final void main(String... aArgs){\n    log(\"Generating random integers in the range 100000000000..999999999999.\");\n    long START = 100000000000l;\n    long END = 999999999999l;\n    Random random = new Random();\n    for (int idx = 1; idx &lt;= 10; ++idx){\n      showRandomInteger(START, END, random);\n    }\n    log(\"Done.\");\n  }\n\n  private static void showRandomInteger(long aStart, long aEnd, Random aRandom){\n    if ( aStart &gt; aEnd ) {\n      throw new IllegalArgumentException(\"Start cannot exceed End.\");\n    }\n    //get the range, casting to long to avoid overflow problems\n    long range = (long)aEnd - (long)aStart + 1;\n    // compute a fraction of the range, 0 &lt;= frac &lt; range\n    long randomNumber = (long)(range * aRandom.nextDouble());\n    System.out.println(\" fraction... \"+randomNumber);\n  }\n\n  private static void log(String aMessage){\n    System.out.println(aMessage);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61169,"reputation":1527,"user_id":182462,"accept_rate":58,"display_name":"malaverdiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294739908,"creation_date":1294739908,"answer_id":4656347,"question_id":4655931,"body_markdown":"You could try getting the UUIDs LSB and MSB halves as longs, and convert that to a number.","title":"12 Digit unique random number generation in Java","body":"<p>You could try getting the UUIDs LSB and MSB halves as longs, and convert that to a number.</p>\n"},{"tags":[],"owner":{"account_id":2366362,"reputation":101,"user_id":2072016,"display_name":"Radek Jira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424954195,"creation_date":1424954195,"answer_id":28742670,"question_id":4655931,"body_markdown":"Improved checked solution using StringBuilder():\r\n\r\n    public static long generateRandom() {\r\n        Random random = new Random();\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        // first not 0 digit\r\n        sb.append(random.nextInt(9) + 1);\r\n\r\n        // rest of 11 digits\r\n        for (int i = 0; i &lt; 11; i++) {\r\n            sb.append(random.nextInt(10));\r\n        }\r\n\r\n        return Long.valueOf(sb.toString()).longValue();\r\n    }\r\n","title":"12 Digit unique random number generation in Java","body":"<p>Improved checked solution using StringBuilder():</p>\n\n<pre><code>public static long generateRandom() {\n    Random random = new Random();\n    StringBuilder sb = new StringBuilder();\n\n    // first not 0 digit\n    sb.append(random.nextInt(9) + 1);\n\n    // rest of 11 digits\n    for (int i = 0; i &lt; 11; i++) {\n        sb.append(random.nextInt(10));\n    }\n\n    return Long.valueOf(sb.toString()).longValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9882126,"reputation":1,"user_id":7317887,"display_name":"Kzwisler"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1489163252,"creation_date":1487306673,"answer_id":42289580,"question_id":4655931,"body_markdown":"    long number = 0l;\r\n    Random rand = new Random();\r\n    number = (rand.nextInt(1000000)+1000000000l) * (rand.nextInt(900)+100);","title":"12 Digit unique random number generation in Java","body":"<pre><code>long number = 0l;\nRandom rand = new Random();\nnumber = (rand.nextInt(1000000)+1000000000l) * (rand.nextInt(900)+100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5849829,"reputation":21,"user_id":4608807,"display_name":"Kmvprasad Chitturi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598094444,"creation_date":1598077755,"answer_id":63533239,"question_id":4655931,"body_markdown":"The below is the best solution,I have written after tried multiple combination .\r\nThe below is the 12 digit unique Id....for every call &amp; multiple threads also will return unique id .\r\n\r\nThanks\r\n**CH.K M V Prasad***\r\n\r\n\tprivate static int counter=0;\r\n\tprivate static int oldMinute=-1;\r\n    private static int minIncr=0;\r\n\r\n\r\n\tprivate static String repeatNumber(String repeatString ,int numberOftimes) {\r\n\t\tString returnStr=&quot;&quot;;\r\n\t\tfor(int indexCounter=0;indexCounter&lt;numberOftimes;indexCounter++) {\r\n\t\t\treturnStr+=repeatString;\r\n\t\t}\r\n\t\treturn returnStr;\r\n\t}\r\n\t\r\n\tpublic synchronized static String getUniqueID() {\r\n\t\r\n\t\tSystem.out.println(&quot;curr Mill &quot;+System.currentTimeMillis()+&quot;D:&quot;+(2020%1000)+&quot;-&quot;+(2021));\r\n\t\tCalendar cal = Calendar.getInstance();\r\n\t\tif(oldMinute==-1 || oldMinute&lt; cal.get(Calendar.MINUTE) ) {\r\n\t\t\toldMinute=cal.get(Calendar.MINUTE);\r\n\t\t\tminIncr=0;\r\n\t\t\tcounter=0;\r\n\t\t}else if(counter==99) {\r\n\t\t\tSystem.out.println(&quot;99 counter &quot;);\r\n\t\t\toldMinute=cal.get(Calendar.MINUTE)+(++minIncr);\r\n\t\t\tcounter=0;\r\n\t\t}\r\n\t\tString uId=cal.get(Calendar.HOUR_OF_DAY)+&quot;&quot;+cal.get(Calendar.MONTH)+&quot;&quot;+(cal.get(Calendar.YEAR)%100)+&quot;&quot;+oldMinute+&quot;&quot;+cal.get(Calendar.DATE);\r\n\t\tString incrCounter=&quot;&quot;+(++counter);\r\n\t\tint appendZeros=uId.length()+incrCounter.length();\r\n\t\tSystem.out.println(&quot;Uid=&quot;+uId+&quot;,incrCounter=&quot;+incrCounter+&quot; , tolalZero=&quot;+appendZeros);\r\n\t\treturn uId+repeatNumber(&quot;0&quot;, 12-appendZeros)+incrCounter;\r\n\r\n\t}","title":"12 Digit unique random number generation in Java","body":"<p>The below is the best solution,I have written after tried multiple combination .\nThe below is the 12 digit unique Id....for every call &amp; multiple threads also will return unique id .</p>\n<p>Thanks\n<strong>CH.K M V Prasad</strong>*</p>\n<pre><code>private static int counter=0;\nprivate static int oldMinute=-1;\nprivate static int minIncr=0;\n\n\nprivate static String repeatNumber(String repeatString ,int numberOftimes) {\n    String returnStr=&quot;&quot;;\n    for(int indexCounter=0;indexCounter&lt;numberOftimes;indexCounter++) {\n        returnStr+=repeatString;\n    }\n    return returnStr;\n}\n\npublic synchronized static String getUniqueID() {\n\n    System.out.println(&quot;curr Mill &quot;+System.currentTimeMillis()+&quot;D:&quot;+(2020%1000)+&quot;-&quot;+(2021));\n    Calendar cal = Calendar.getInstance();\n    if(oldMinute==-1 || oldMinute&lt; cal.get(Calendar.MINUTE) ) {\n        oldMinute=cal.get(Calendar.MINUTE);\n        minIncr=0;\n        counter=0;\n    }else if(counter==99) {\n        System.out.println(&quot;99 counter &quot;);\n        oldMinute=cal.get(Calendar.MINUTE)+(++minIncr);\n        counter=0;\n    }\n    String uId=cal.get(Calendar.HOUR_OF_DAY)+&quot;&quot;+cal.get(Calendar.MONTH)+&quot;&quot;+(cal.get(Calendar.YEAR)%100)+&quot;&quot;+oldMinute+&quot;&quot;+cal.get(Calendar.DATE);\n    String incrCounter=&quot;&quot;+(++counter);\n    int appendZeros=uId.length()+incrCounter.length();\n    System.out.println(&quot;Uid=&quot;+uId+&quot;,incrCounter=&quot;+incrCounter+&quot; , tolalZero=&quot;+appendZeros);\n    return uId+repeatNumber(&quot;0&quot;, 12-appendZeros)+incrCounter;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5145630,"reputation":9,"user_id":4121715,"display_name":"Amit Biton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601473196,"creation_date":1601473196,"answer_id":64138843,"question_id":4655931,"body_markdown":"You can simply use                     \r\n\r\n    Random generator = new Random(System.currentTimeMillis());\r\n    return generator.nextLong() % 1000000000000;\r\n\r\nThis will limit the result to 12 digits.\r\n","title":"12 Digit unique random number generation in Java","body":"<p>You can simply use</p>\n<pre><code>Random generator = new Random(System.currentTimeMillis());\nreturn generator.nextLong() % 1000000000000;\n</code></pre>\n<p>This will limit the result to 12 digits.</p>\n"},{"tags":[],"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663684710,"creation_date":1663684710,"answer_id":73788520,"question_id":4655931,"body_markdown":"I had similar issue (16 digits in my case) and didn&#39;t found a good solution so i created one [here](https://github.com/BrownTechnologies/random-unique-number-generator)\r\n\r\n### Idea\r\nThis utility works like clock, so you get unique random numbers per installation. we generate 16 digit integer value for example 2226015501234239\r\n\r\n### Implementation\r\n\r\n```\r\nimport java.math.BigInteger;\r\nimport java.time.LocalDateTime;\r\nimport java.util.HashSet;\r\nimport java.util.Random;\r\nimport java.util.Set;\r\n\r\npublic class App {\r\n    private Set set = new HashSet&lt;BigInteger&gt;();\r\n    private String flag = mostSignificantCounter();\r\n\r\n    private String mostSignificantCounter() {\r\n        LocalDateTime localDateTime = LocalDateTime.now();\r\n        return new StringBuilder()\r\n                .append((localDateTime.getYear() + &quot;&quot;).substring(2))\r\n                .append(localDateTime.getDayOfYear())\r\n                .append(localDateTime.getHour())\r\n                .append(localDateTime.getMinute())\r\n                .append(localDateTime.getSecond())\r\n                .toString();\r\n    }\r\n\r\n    private String leastSignificantCounter() {\r\n        Random random = new Random(LocalDateTime.now().getNano());\r\n        Integer rId = (1 + random.nextInt(10) * 10000) + random.nextInt(10000);\r\n        return String.format(&quot;%05d&quot;, rId);\r\n    }\r\n\r\n    public BigInteger uniqueRandomBigInt() {\r\n        String msc = mostSignificantCounter();\r\n        BigInteger uniqueBigIntId = new BigInteger(msc + leastSignificantCounter());\r\n        if (set.contains(uniqueBigIntId)) {\r\n            return uniqueRandomBigInt();\r\n        } else {\r\n            if (!flag.equals(msc)) {\r\n                set.clear();\r\n                flag = msc;\r\n            }\r\n            set.add(uniqueBigIntId);\r\n            return uniqueBigIntId;\r\n        }\r\n    }\r\n}\r\n```\r\n### Stress test\r\n```\r\n @Test\r\n    public void testApp() {\r\n        Long startTime = System.currentTimeMillis();\r\n        App app = new App();\r\n        while ((System.currentTimeMillis() - startTime) &lt; (1000 * 60)) {\r\n            BigInteger uniqueRandomBigInt = app.uniqueRandomBigInt();\r\n            assertFalse(\r\n                    testSet.contains(uniqueRandomBigInt),\r\n                    &quot;Failed to generate unique random ID, found duplicate -&gt; &quot; + uniqueRandomBigInt\r\n            );\r\n            testSet.add(uniqueRandomBigInt);\r\n        }\r\n        assertTrue(true);\r\n    }\r\n```","title":"12 Digit unique random number generation in Java","body":"<p>I had similar issue (16 digits in my case) and didn't found a good solution so i created one <a href=\"https://github.com/BrownTechnologies/random-unique-number-generator\" rel=\"nofollow noreferrer\">here</a></p>\n<h3>Idea</h3>\n<p>This utility works like clock, so you get unique random numbers per installation. we generate 16 digit integer value for example 2226015501234239</p>\n<h3>Implementation</h3>\n<pre><code>import java.math.BigInteger;\nimport java.time.LocalDateTime;\nimport java.util.HashSet;\nimport java.util.Random;\nimport java.util.Set;\n\npublic class App {\n    private Set set = new HashSet&lt;BigInteger&gt;();\n    private String flag = mostSignificantCounter();\n\n    private String mostSignificantCounter() {\n        LocalDateTime localDateTime = LocalDateTime.now();\n        return new StringBuilder()\n                .append((localDateTime.getYear() + &quot;&quot;).substring(2))\n                .append(localDateTime.getDayOfYear())\n                .append(localDateTime.getHour())\n                .append(localDateTime.getMinute())\n                .append(localDateTime.getSecond())\n                .toString();\n    }\n\n    private String leastSignificantCounter() {\n        Random random = new Random(LocalDateTime.now().getNano());\n        Integer rId = (1 + random.nextInt(10) * 10000) + random.nextInt(10000);\n        return String.format(&quot;%05d&quot;, rId);\n    }\n\n    public BigInteger uniqueRandomBigInt() {\n        String msc = mostSignificantCounter();\n        BigInteger uniqueBigIntId = new BigInteger(msc + leastSignificantCounter());\n        if (set.contains(uniqueBigIntId)) {\n            return uniqueRandomBigInt();\n        } else {\n            if (!flag.equals(msc)) {\n                set.clear();\n                flag = msc;\n            }\n            set.add(uniqueBigIntId);\n            return uniqueBigIntId;\n        }\n    }\n}\n</code></pre>\n<h3>Stress test</h3>\n<pre><code> @Test\n    public void testApp() {\n        Long startTime = System.currentTimeMillis();\n        App app = new App();\n        while ((System.currentTimeMillis() - startTime) &lt; (1000 * 60)) {\n            BigInteger uniqueRandomBigInt = app.uniqueRandomBigInt();\n            assertFalse(\n                    testSet.contains(uniqueRandomBigInt),\n                    &quot;Failed to generate unique random ID, found duplicate -&gt; &quot; + uniqueRandomBigInt\n            );\n            testSet.add(uniqueRandomBigInt);\n        }\n        assertTrue(true);\n    }\n</code></pre>\n"}],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59609,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":4656159,"answer_count":12,"score":17,"last_activity_date":1663684710,"creation_date":1294737279,"question_id":4655931,"body_markdown":"i was working on an application where we need to generate some unique number and practically there was no predefined restrictions so was using java UUD generator and was working fine.\r\nNow we are given a new requirements to generate 12 digits unique random number.\r\n\r\nCan any one point me some good way/algorithm to achieve this as i can not see any possibility in the UUID generated number.\r\n\r\nThanks in advance","title":"12 Digit unique random number generation in Java","body":"<p>i was working on an application where we need to generate some unique number and practically there was no predefined restrictions so was using java UUD generator and was working fine.\nNow we are given a new requirements to generate 12 digits unique random number.</p>\n\n<p>Can any one point me some good way/algorithm to achieve this as i can not see any possibility in the UUID generated number.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","playwright"],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663684615,"creation_date":1663684615,"answer_id":73788499,"question_id":73742442,"body_markdown":"Playwright has an assertion system. You can use it to wait until a lot of useful and smart conditions:\r\n\r\n* Element to be visible \r\n* Element Not to be visible\r\n* Selector to have X count\r\n* Element to be enabled\r\n* Element attribute the have Y value\r\n\r\nImport the class:\r\n\r\n    import static com.microsoft.playwright.assertions.PlaywrightAssertions.assertThat;\r\n\r\nCode example:\r\n\r\n    assertThat(page.locator(&quot;//*[contains(text(), &#39;Loading...&#39;)]&quot;)).hasCount(0);\r\n    // or:\r\n    assertThat(page.locator(&quot;//*[contains(text(), &#39;Loading...&#39;)]&quot;)).isHidden();\r\n\r\nAfter the assert has passed - you are good to go.\r\n\r\n","title":"Playwright: wait for selector using a regexp, to NOT contain specific text","body":"<p>Playwright has an assertion system. You can use it to wait until a lot of useful and smart conditions:</p>\n<ul>\n<li>Element to be visible</li>\n<li>Element Not to be visible</li>\n<li>Selector to have X count</li>\n<li>Element to be enabled</li>\n<li>Element attribute the have Y value</li>\n</ul>\n<p>Import the class:</p>\n<pre><code>import static com.microsoft.playwright.assertions.PlaywrightAssertions.assertThat;\n</code></pre>\n<p>Code example:</p>\n<pre><code>assertThat(page.locator(&quot;//*[contains(text(), 'Loading...')]&quot;)).hasCount(0);\n// or:\nassertThat(page.locator(&quot;//*[contains(text(), 'Loading...')]&quot;)).isHidden();\n</code></pre>\n<p>After the assert has passed - you are good to go.</p>\n"}],"owner":{"account_id":15278830,"reputation":1642,"user_id":11023821,"display_name":"Ralf Ulrich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73788499,"answer_count":1,"score":1,"last_activity_date":1663684615,"creation_date":1663319056,"question_id":73742442,"body_markdown":"I am using playwright in java and I have a page that runs javascript. After opening it shows &quot;Loading...&quot; and only when this disappears the content to be tested appears. \r\n\r\nSo, I want to load the (iframe) with a selector to check for the text &quot;Loading...&quot; to disappear. While I can select for the &quot;headerMessage&quot; etc. I don&#39;t get this working with the negated regexp. Is this not possible? What am I doing wrong?\r\n\r\n&lt;code&gt;\r\nFrame frame = page.frame(&quot;tf_content&quot;).waitForSelector(&quot;#headerMessage :text-matches(\\&quot;!Loading...\\&quot;)&quot;).ownerFrame();\r\n&lt;/code&gt;\r\n\r\n","title":"Playwright: wait for selector using a regexp, to NOT contain specific text","body":"<p>I am using playwright in java and I have a page that runs javascript. After opening it shows &quot;Loading...&quot; and only when this disappears the content to be tested appears.</p>\n<p>So, I want to load the (iframe) with a selector to check for the text &quot;Loading...&quot; to disappear. While I can select for the &quot;headerMessage&quot; etc. I don't get this working with the negated regexp. Is this not possible? What am I doing wrong?</p>\n<code>\nFrame frame = page.frame(\"tf_content\").waitForSelector(\"#headerMessage :text-matches(\\\"!Loading...\\\")\").ownerFrame();\n</code>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-test"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1663673078,"post_id":73783510,"comment_id":130290326,"body_markdown":"Can we see your `@WithMockCustomUser` interface?","body":"Can we see your <code>@WithMockCustomUser</code> interface?"},{"owner":{"account_id":24329011,"reputation":103,"user_id":18268160,"display_name":"YSEO"},"score":0,"creation_date":1663673867,"post_id":73783510,"comment_id":130290596,"body_markdown":"it&#39;s in the test code above!\nMaybe It shouldn&#39;t be there...? \nI&#39;m newbie to spring security so I&#39;m not sure I placed it correctly..","body":"it&#39;s in the test code above! Maybe It shouldn&#39;t be there...?  I&#39;m newbie to spring security so I&#39;m not sure I placed it correctly.."},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1663677992,"post_id":73783510,"comment_id":130292145,"body_markdown":"I mean the actual implementation, not the usage. But I&#39;m pretty sure that you are facing this issue https://github.com/spring-projects/spring-security/issues/6899","body":"I mean the actual implementation, not the usage. But I&#39;m pretty sure that you are facing this issue <a href=\"https://github.com/spring-projects/spring-security/issues/6899\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/6899</a>"},{"owner":{"account_id":24329011,"reputation":103,"user_id":18268160,"display_name":"YSEO"},"score":0,"creation_date":1663683263,"post_id":73783510,"comment_id":130294420,"body_markdown":"I followed this solution, and got another error.. I feel like lost and have no grasp in this problem\nError is ....\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.StringIndexOutOfBoundsException: String index out of range: -2","body":"I followed this solution, and got another error.. I feel like lost and have no grasp in this problem Error is .... org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.StringIndexOutOfBoundsException: String index out of range: -2"}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663684089,"creation_date":1663684089,"answer_id":73788363,"question_id":73783510,"body_markdown":"Take a look at the stacktrace, the actual error is:\r\n\r\n```\r\nCaused by: java.lang.ClassCastException: com.sun.proxy.$Proxy8 cannot be cast to org.springframework.security.test.context.support.WithUserDetails\r\n    at springboot.web.WithUserDetailsSecurityContextFactory.createSecurityContext(CommentsApiControllerTest.java:64)\r\n```\r\n\r\nYou are not using `@WithUserDetails` in your tests, you are using `@WithMockCustomUser`, therefore I think your class declaration should be:\r\n\r\n```java\r\nfinal class WithUserDetailsSecurityContextFactory implements WithSecurityContextFactory&lt;WithMockCustomUser&gt; {\r\n    // ...\r\n}\r\n```","title":"Unable to create SecurityContext using @springboot.web.CommentsApiControllerTest$WithMockCustomUser","body":"<p>Take a look at the stacktrace, the actual error is:</p>\n<pre><code>Caused by: java.lang.ClassCastException: com.sun.proxy.$Proxy8 cannot be cast to org.springframework.security.test.context.support.WithUserDetails\n    at springboot.web.WithUserDetailsSecurityContextFactory.createSecurityContext(CommentsApiControllerTest.java:64)\n</code></pre>\n<p>You are not using <code>@WithUserDetails</code> in your tests, you are using <code>@WithMockCustomUser</code>, therefore I think your class declaration should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class WithUserDetailsSecurityContextFactory implements WithSecurityContextFactory&lt;WithMockCustomUser&gt; {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":24329011,"reputation":103,"user_id":18268160,"display_name":"YSEO"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73788363,"answer_count":1,"score":2,"last_activity_date":1663684089,"creation_date":1663661533,"question_id":73783510,"body_markdown":"\r\nI&#39;m trying to make custom SecurityContext and using it by @WithMockCustomUser(custom annotation) to test my Comments_post feature. \r\nThe reason I&#39;m using @WithMockCustomeUser is that I need user&#39;s email to verify user.\r\n\r\nI refered to \r\n\r\n&gt; https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/test-method.html\r\nto use it.\r\n\r\nBut somehow I&#39;m getting above error. \r\n\r\nI think there&#39;s some misunderstanding combining security and test. \r\n\r\nHere&#39;s my test Code.\r\n\r\n\r\n    final class WithUserDetailsSecurityContextFactory implements WithSecurityContextFactory&lt;WithUserDetails&gt; {\r\n        private final UserDetailsService userDetailsService;\r\n        @Autowired\r\n        public WithUserDetailsSecurityContextFactory(UserDetailsService userDetailsService) {\r\n            this.userDetailsService = userDetailsService;\r\n        }\r\n        public org.springframework.security.core.context.SecurityContext createSecurityContext(WithUserDetails withUser) {\r\n            String username = withUser.value();\r\n            Assert.hasLength(username, &quot;value() must be non-empty String&quot;);\r\n            UserDetails principal = userDetailsService.loadUserByUsername(username);\r\n            Authentication authentication = new UsernamePasswordAuthenticationToken(principal, principal.getPassword(), principal.getAuthorities());\r\n            SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n            context.setAuthentication(authentication);\r\n            return context;\r\n        }\r\n    }\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @Transactional\r\n    public class CommentsApiControllerTest {\r\n    \r\n        @LocalServerPort\r\n        private int port;\r\n    \r\n        @Autowired\r\n        private PostsRepository postsRepository;\r\n    \r\n        @Autowired\r\n        private CommentRepository commentRepository;\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        private PostsService postsService;\r\n    \r\n        @Autowired\r\n        private CommentService commentService;\r\n    \r\n        @Autowired\r\n        private UserDetailService userDetailsService;\r\n    \r\n        @Autowired\r\n        private WebApplicationContext context;\r\n    \r\n        @Autowired ObjectMapper objectMapper;\r\n    \r\n        private MockMvc mvc;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            mvc = MockMvcBuilders\r\n                    .webAppContextSetup(context)\r\n                    .apply(springSecurity())\r\n                    .apply(sharedHttpSession())\r\n                    .build();\r\n        }\r\n    \r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @WithSecurityContext(factory = WithUserDetailsSecurityContextFactory.class, setupBefore = TestExecutionEvent.TEST_EXECUTION)\r\n        public @interface WithMockCustomUser {\r\n            String name() default &quot;testName&quot;;\r\n    \r\n            String email() default &quot;testemail@gmail.com&quot;;\r\n    \r\n            Role role() default Role.USER;\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() throws Exception {\r\n            postsRepository.deleteAll();\r\n            commentRepository.deleteAll();\r\n        }\r\n    \r\n        @Test\r\n        @WithMockCustomUser\r\n        @Transactional // 프록시 객체에 실제 데이터를 불러올 수 있게 영속성 컨텍스트에서 관리\r\n        public void comment_등록() throws Exception {\r\n            // given\r\n            String title = &quot;title&quot;;\r\n            String content = &quot;content&quot;;\r\n            User user = userRepository.save(User.builder()\r\n                    .name(&quot;name&quot;)\r\n                    .email(&quot;fake@naver.com&quot;)\r\n                    .picture(&quot;fakePic.com&quot;)\r\n                    .role(Role.USER)\r\n                    .build());\r\n    \r\n            PostsSaveRequestDto requestDto = PostsSaveRequestDto.builder()\r\n                    .title(title)\r\n                    .content(content)\r\n                    .user(user)\r\n                    .build();\r\n            postsRepository.save(requestDto.toEntity());\r\n    \r\n            String comment = &quot;comment&quot;;\r\n            Posts posts = postsRepository.findAll().get(0);\r\n    \r\n            CommentSaveRequestDto saveRequestDto = CommentSaveRequestDto.builder()\r\n                    .comment(comment)\r\n                    .posts(posts)\r\n                    .build();\r\n    \r\n            Long id = posts.getId();\r\n    \r\n            String url = &quot;http://localhost:&quot;+ port + &quot;/api/posts/&quot; + id + &quot;/comments&quot;;\r\n    \r\n            //when\r\n    \r\n            mvc.perform(post(url)\r\n                            .contentType(MediaType.APPLICATION_JSON_UTF8)\r\n                            .content(objectMapper.writeValueAsString(saveRequestDto)))\r\n                    .andExpect(status().isOk())\r\n                    .andDo(print());\r\n    \r\n        }\r\n\r\nAnd it is full error trace\r\n\r\n    java.lang.IllegalStateException: Unable to create SecurityContext using @springboot.web.CommentsApiControllerTest$WithMockCustomUser(name=testName, email=testemail@gmail.com, role=USER)\r\n    \r\n    \tat org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.createTestSecurityContext(WithSecurityContextTestExecutionListener.java:126)\r\n    \tat org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.createTestSecurityContext(WithSecurityContextTestExecutionListener.java:96)\r\n    \tat org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.beforeTestMethod(WithSecurityContextTestExecutionListener.java:62)\r\n    \tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: java.lang.ClassCastException: com.sun.proxy.$Proxy8 cannot be cast to org.springframework.security.test.context.support.WithUserDetails\r\n    \tat springboot.web.WithUserDetailsSecurityContextFactory.createSecurityContext(CommentsApiControllerTest.java:64)\r\n    \tat org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.createTestSecurityContext(WithSecurityContextTestExecutionListener.java:123)\r\n    \t... 26 more\r\n\r\nThanks in advance..!","title":"Unable to create SecurityContext using @springboot.web.CommentsApiControllerTest$WithMockCustomUser","body":"<p>I'm trying to make custom SecurityContext and using it by @WithMockCustomUser(custom annotation) to test my Comments_post feature.\nThe reason I'm using @WithMockCustomeUser is that I need user's email to verify user.</p>\n<p>I refered to</p>\n<blockquote>\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/test-method.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/test-method.html</a>\nto use it.</p>\n</blockquote>\n<p>But somehow I'm getting above error.</p>\n<p>I think there's some misunderstanding combining security and test.</p>\n<p>Here's my test Code.</p>\n<pre><code>final class WithUserDetailsSecurityContextFactory implements WithSecurityContextFactory&lt;WithUserDetails&gt; {\n    private final UserDetailsService userDetailsService;\n    @Autowired\n    public WithUserDetailsSecurityContextFactory(UserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n    public org.springframework.security.core.context.SecurityContext createSecurityContext(WithUserDetails withUser) {\n        String username = withUser.value();\n        Assert.hasLength(username, &quot;value() must be non-empty String&quot;);\n        UserDetails principal = userDetailsService.loadUserByUsername(username);\n        Authentication authentication = new UsernamePasswordAuthenticationToken(principal, principal.getPassword(), principal.getAuthorities());\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n        context.setAuthentication(authentication);\n        return context;\n    }\n}\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Transactional\npublic class CommentsApiControllerTest {\n\n    @LocalServerPort\n    private int port;\n\n    @Autowired\n    private PostsRepository postsRepository;\n\n    @Autowired\n    private CommentRepository commentRepository;\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private PostsService postsService;\n\n    @Autowired\n    private CommentService commentService;\n\n    @Autowired\n    private UserDetailService userDetailsService;\n\n    @Autowired\n    private WebApplicationContext context;\n\n    @Autowired ObjectMapper objectMapper;\n\n    private MockMvc mvc;\n\n    @Before\n    public void setup() {\n        mvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity())\n                .apply(sharedHttpSession())\n                .build();\n    }\n\n    @Retention(RetentionPolicy.RUNTIME)\n    @WithSecurityContext(factory = WithUserDetailsSecurityContextFactory.class, setupBefore = TestExecutionEvent.TEST_EXECUTION)\n    public @interface WithMockCustomUser {\n        String name() default &quot;testName&quot;;\n\n        String email() default &quot;testemail@gmail.com&quot;;\n\n        Role role() default Role.USER;\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        postsRepository.deleteAll();\n        commentRepository.deleteAll();\n    }\n\n    @Test\n    @WithMockCustomUser\n    @Transactional // 프록시 객체에 실제 데이터를 불러올 수 있게 영속성 컨텍스트에서 관리\n    public void comment_등록() throws Exception {\n        // given\n        String title = &quot;title&quot;;\n        String content = &quot;content&quot;;\n        User user = userRepository.save(User.builder()\n                .name(&quot;name&quot;)\n                .email(&quot;fake@naver.com&quot;)\n                .picture(&quot;fakePic.com&quot;)\n                .role(Role.USER)\n                .build());\n\n        PostsSaveRequestDto requestDto = PostsSaveRequestDto.builder()\n                .title(title)\n                .content(content)\n                .user(user)\n                .build();\n        postsRepository.save(requestDto.toEntity());\n\n        String comment = &quot;comment&quot;;\n        Posts posts = postsRepository.findAll().get(0);\n\n        CommentSaveRequestDto saveRequestDto = CommentSaveRequestDto.builder()\n                .comment(comment)\n                .posts(posts)\n                .build();\n\n        Long id = posts.getId();\n\n        String url = &quot;http://localhost:&quot;+ port + &quot;/api/posts/&quot; + id + &quot;/comments&quot;;\n\n        //when\n\n        mvc.perform(post(url)\n                        .contentType(MediaType.APPLICATION_JSON_UTF8)\n                        .content(objectMapper.writeValueAsString(saveRequestDto)))\n                .andExpect(status().isOk())\n                .andDo(print());\n\n    }\n</code></pre>\n<p>And it is full error trace</p>\n<pre><code>java.lang.IllegalStateException: Unable to create SecurityContext using @springboot.web.CommentsApiControllerTest$WithMockCustomUser(name=testName, email=testemail@gmail.com, role=USER)\n\n    at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.createTestSecurityContext(WithSecurityContextTestExecutionListener.java:126)\n    at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.createTestSecurityContext(WithSecurityContextTestExecutionListener.java:96)\n    at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.beforeTestMethod(WithSecurityContextTestExecutionListener.java:62)\n    at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.ClassCastException: com.sun.proxy.$Proxy8 cannot be cast to org.springframework.security.test.context.support.WithUserDetails\n    at springboot.web.WithUserDetailsSecurityContextFactory.createSecurityContext(CommentsApiControllerTest.java:64)\n    at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.createTestSecurityContext(WithSecurityContextTestExecutionListener.java:123)\n    ... 26 more\n</code></pre>\n<p>Thanks in advance..!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1663237646,"post_id":73729383,"comment_id":130194045,"body_markdown":"nothing seems wrong with the code, it could be a scanning issue.\njust to be sure - CustomException extends Exception? try also writing the same class in the annotation and in the signature (replace CustomException with CustomRuntimeException)\ntry writing in the annotation value = {CustomRuntimeException.class} (that works in my code, just to make sure)\nwhat package is this class in? are you sure its being scanned by Spring?","body":"nothing seems wrong with the code, it could be a scanning issue. just to be sure - CustomException extends Exception? try also writing the same class in the annotation and in the signature (replace CustomException with CustomRuntimeException) try writing in the annotation value = {CustomRuntimeException.class} (that works in my code, just to make sure) what package is this class in? are you sure its being scanned by Spring?"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":1,"creation_date":1663238227,"post_id":73729383,"comment_id":130194223,"body_markdown":"also, why is the method private? try making the method public or protected","body":"also, why is the method private? try making the method public or protected"},{"owner":{"account_id":4176385,"reputation":2149,"user_id":3422795,"display_name":"Lorenzo D&#39;Isidoro"},"score":0,"creation_date":1663238426,"post_id":73729383,"comment_id":130194278,"body_markdown":"Yes @TomElias, CustomException extends RuntimeException","body":"Yes @TomElias, CustomException extends RuntimeException"},{"owner":{"account_id":4176385,"reputation":2149,"user_id":3422795,"display_name":"Lorenzo D&#39;Isidoro"},"score":0,"creation_date":1663238577,"post_id":73729383,"comment_id":130194329,"body_markdown":"@TomElias about CutomExceptionManager class, it&#39;s part of a custom package that I&#39;m using as a library.","body":"@TomElias about CutomExceptionManager class, it&#39;s part of a custom package that I&#39;m using as a library."}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663683737,"creation_date":1663683737,"answer_id":73788282,"question_id":73729383,"body_markdown":"As mentioned in the comments by @Tom Elias, the method should be ```protected``` or ```public``` to be taken in account by Spring.\r\n\r\nAs an example, the following code is working.\r\n\r\n```Java\r\n@ExceptionHandler(ControllerException.class)\r\npublic ResponseEntity&lt;ControllerException&gt; handleControllerException(ControllerException controllerException) {\r\n    log.error(controllerException.getFullMessage(), controllerException);\r\n    return new ResponseEntity&lt;&gt;(controllerException, HttpStatus.valueOf(controllerException.getStatus()));\r\n}\r\n```\r\n\r\nBTW, no need to add the ```@ResponseBody``` annotation to the method.","title":"Handle custom exceptions using @ExceptionHandler","body":"<p>As mentioned in the comments by @Tom Elias, the method should be <code>protected</code> or <code>public</code> to be taken in account by Spring.</p>\n<p>As an example, the following code is working.</p>\n<pre><code>@ExceptionHandler(ControllerException.class)\npublic ResponseEntity&lt;ControllerException&gt; handleControllerException(ControllerException controllerException) {\n    log.error(controllerException.getFullMessage(), controllerException);\n    return new ResponseEntity&lt;&gt;(controllerException, HttpStatus.valueOf(controllerException.getStatus()));\n}\n</code></pre>\n<p>BTW, no need to add the <code>@ResponseBody</code> annotation to the method.</p>\n"}],"owner":{"account_id":4176385,"reputation":2149,"user_id":3422795,"display_name":"Lorenzo D&#39;Isidoro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663683737,"creation_date":1663237022,"question_id":73729383,"body_markdown":"I have a class that catches exceptions using the Spring annotation @ExceptionHandler and this class support some custom exceptions as well. I would like that when I raise the exception `CustomRuntimeException` in this way `throw new CustomRuntimeException(args...);`, it will be caught and handled in the following method:\r\n\r\n    @ControllerAdvice\r\n    public class CutomExceptionManager {\r\n    \r\n    \t// code\r\n    \t\r\n    \t@ExceptionHandler({CustomRuntimeException.class})\r\n    \t@ResponseBody\r\n    \tprivate ResponseEntity&lt;ErrorResource&gt; handleCustomException(CustomException e, HttpServletRequest request, HttpServletResponse response) {\r\n    \t\tlogger.error(&quot;unhandled exception: &quot;, (Exception)e);\r\n    \t\t\r\n    \t\t// other code\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nThis doesn&#39;t work.","title":"Handle custom exceptions using @ExceptionHandler","body":"<p>I have a class that catches exceptions using the Spring annotation @ExceptionHandler and this class support some custom exceptions as well. I would like that when I raise the exception <code>CustomRuntimeException</code> in this way <code>throw new CustomRuntimeException(args...);</code>, it will be caught and handled in the following method:</p>\n<pre><code>@ControllerAdvice\npublic class CutomExceptionManager {\n\n    // code\n    \n    @ExceptionHandler({CustomRuntimeException.class})\n    @ResponseBody\n    private ResponseEntity&lt;ErrorResource&gt; handleCustomException(CustomException e, HttpServletRequest request, HttpServletResponse response) {\n        logger.error(&quot;unhandled exception: &quot;, (Exception)e);\n        \n        // other code\n    }\n    \n}\n</code></pre>\n<p>This doesn't work.</p>\n"},{"tags":["java","arrays","try-catch"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1663681562,"post_id":73787726,"comment_id":130293695,"body_markdown":"Do `i--;` in your catch block when you tell the user to enter a number again.","body":"Do <code>i--;</code> in your catch block when you tell the user to enter a number again."},{"owner":{"account_id":3906149,"reputation":1065,"user_id":3232812,"accept_rate":86,"display_name":"Culme"},"score":0,"creation_date":1663681572,"post_id":73787726,"comment_id":130293699,"body_markdown":"For starters, you shouldn&#39;t have a loop that is &quot;pre-set&quot; to go 3 times, because if the wrong information is input you will need to do more iterations.","body":"For starters, you shouldn&#39;t have a loop that is &quot;pre-set&quot; to go 3 times, because if the wrong information is input you will need to do more iterations."},{"owner":{"account_id":3906149,"reputation":1065,"user_id":3232812,"accept_rate":86,"display_name":"Culme"},"score":0,"creation_date":1663682138,"post_id":73787726,"comment_id":130293970,"body_markdown":"Create a counter variable, as suggested by @Alexandr below.\nUse a while loop to iterate until you have 3 valid replies. I mean, you could do this in many ways, but something like this is what I would probably do. :-)","body":"Create a counter variable, as suggested by @Alexandr below. Use a while loop to iterate until you have 3 valid replies. I mean, you could do this in many ways, but something like this is what I would probably do. :-)"}],"answers":[{"tags":[],"owner":{"account_id":18853736,"reputation":28,"user_id":13752229,"display_name":"Konkord360"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663681788,"creation_date":1663681707,"answer_id":73787798,"question_id":73787726,"body_markdown":"The easiest would be to move the \r\n\r\n    System.out.println(&quot;done! thank you.&quot;);\r\n\r\ninto the try block like that \r\n\r\n\r\n    for(int i = 0; i&lt;3; i++){\r\n                try{\r\n                    System.out.print(&quot;Enter an integer:&quot;);\r\n                    user_input[i] = input.nextInt();\r\n                    System.out.println(&quot;done! thank you.&quot;);\r\n                }catch(InputMismatchException e){\r\n                    System.out.println(&quot;the input is invalid, please try again&quot;);\r\n                    input.next();\r\n                }\r\n            }\r\n\r\nFinally block tries to execute always - no matter how the execution was interrupted. And if you want the user to repeat the the entry, than go i--; in the catch block.","title":"how to ask an integer from the user 3 times with try catch block","body":"<p>The easiest would be to move the</p>\n<pre><code>System.out.println(&quot;done! thank you.&quot;);\n</code></pre>\n<p>into the try block like that</p>\n<pre><code>for(int i = 0; i&lt;3; i++){\n            try{\n                System.out.print(&quot;Enter an integer:&quot;);\n                user_input[i] = input.nextInt();\n                System.out.println(&quot;done! thank you.&quot;);\n            }catch(InputMismatchException e){\n                System.out.println(&quot;the input is invalid, please try again&quot;);\n                input.next();\n            }\n        }\n</code></pre>\n<p>Finally block tries to execute always - no matter how the execution was interrupted. And if you want the user to repeat the the entry, than go i--; in the catch block.</p>\n"},{"tags":[],"owner":{"account_id":20661622,"reputation":21,"user_id":15169468,"display_name":"Alexandr Pumnea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663681788,"creation_date":1663681788,"answer_id":73787818,"question_id":73787726,"body_markdown":"you can make use of a counter variable, to count valid inputs.","title":"how to ask an integer from the user 3 times with try catch block","body":"<p>you can make use of a counter variable, to count valid inputs.</p>\n"}],"owner":{"account_id":22993115,"reputation":73,"user_id":17118303,"display_name":"User617290653251457439"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73787798,"answer_count":2,"score":-1,"last_activity_date":1663683611,"creation_date":1663681372,"question_id":73787726,"body_markdown":"the user has to enter 3 integers into a list. im trying to make a try catch block to filer out if the user inputs anything other than an integer.\r\n\r\ni inserted the try catch block inside the for loop, the problem is even if the input is not an integer my code scans it and only prints the &quot;enter an integer:&quot; 3 times. how to fix that?\r\n\r\n```\r\nTHIS IS MY CODE\r\n\r\n\r\nfor(int i = 0; i&lt;3; i++){\r\n\t\t\ttry{\r\n\t\t\t\t//some code\r\n\t\t\t}catch(Exception e){}\r\n\t\t}\r\n```\r\n\r\ni would like the code to go like this:\r\n\r\nif the user enters an integer, they only need to input 2 integers\r\nif the user enters a character, the code will prompt an error and will loop back to ask for an integer (2 integers only because the user already entered 1 integer)\r\n\r\n```\r\nenter an integer: 1\r\nenter an integer: z\r\n\r\nthe input is invalid, please try again.\r\n\r\nenter an integer: 2\r\nenter an integer: ac\r\n\r\nthe input is invalid, please try again.\r\n\r\nenter an integer: 3\r\n```","title":"how to ask an integer from the user 3 times with try catch block","body":"<p>the user has to enter 3 integers into a list. im trying to make a try catch block to filer out if the user inputs anything other than an integer.</p>\n<p>i inserted the try catch block inside the for loop, the problem is even if the input is not an integer my code scans it and only prints the &quot;enter an integer:&quot; 3 times. how to fix that?</p>\n<pre><code>THIS IS MY CODE\n\n\nfor(int i = 0; i&lt;3; i++){\n            try{\n                //some code\n            }catch(Exception e){}\n        }\n</code></pre>\n<p>i would like the code to go like this:</p>\n<p>if the user enters an integer, they only need to input 2 integers\nif the user enters a character, the code will prompt an error and will loop back to ask for an integer (2 integers only because the user already entered 1 integer)</p>\n<pre><code>enter an integer: 1\nenter an integer: z\n\nthe input is invalid, please try again.\n\nenter an integer: 2\nenter an integer: ac\n\nthe input is invalid, please try again.\n\nenter an integer: 3\n</code></pre>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":26387416,"reputation":1,"user_id":20039741,"display_name":"xxkarolxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663683523,"creation_date":1663683523,"answer_id":73788233,"question_id":73768789,"body_markdown":"Try to add this property in your spring-boot configuration file: \r\n\r\n*springdoc.swagger-ui.path=/openapi-spec.yaml*","title":"How to disable default /v3/api-docs definition in springdoc Swagger UI page?","body":"<p>Try to add this property in your spring-boot configuration file:</p>\n<p><em>springdoc.swagger-ui.path=/openapi-spec.yaml</em></p>\n"}],"owner":{"account_id":16143882,"reputation":31,"user_id":11654174,"display_name":"SPG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663683523,"creation_date":1663564615,"question_id":73768789,"body_markdown":"I have my own OpenAPI specification YAML file which I can able to load in Swagger UI via /openapi-spec.yaml definition but the default /v3/api-docs is still exists. My goal is to disable the default /v3/api-docs and show only /openapi-spec.yaml as default.\r\n\r\nNote: I&#39;m using this dependency:\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n/v3/api-docs:\r\n![](https://i.stack.imgur.com/lmf4O.png)\r\n\r\n/openapi-spec.yaml\r\n![](https://i.stack.imgur.com/926c2.png)","title":"How to disable default /v3/api-docs definition in springdoc Swagger UI page?","body":"<p>I have my own OpenAPI specification YAML file which I can able to load in Swagger UI via /openapi-spec.yaml definition but the default /v3/api-docs is still exists. My goal is to disable the default /v3/api-docs and show only /openapi-spec.yaml as default.</p>\n<p>Note: I'm using this dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>/v3/api-docs:\n<img src=\"https://i.stack.imgur.com/lmf4O.png\" alt=\"\" /></p>\n<p>/openapi-spec.yaml\n<img src=\"https://i.stack.imgur.com/926c2.png\" alt=\"\" /></p>\n"},{"tags":["java","android","ethereum","web3-java"],"answers":[{"tags":[],"owner":{"account_id":23334452,"reputation":793,"user_id":17410359,"display_name":"Joe Dow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663683481,"creation_date":1663683481,"answer_id":73788223,"question_id":73753520,"body_markdown":"Web3j has abstract class `Contract` which should be used as a parent class for yours `ERC20` and `ERC721` tokens implementation. \r\n\r\nUnder the hood they use an one of implementations of abstract class `TransactionManager` to execute call on chain. For more information please check the [source code of library][1]. \r\n\r\nThanks to [Jahangir Jadi][2] for the clue and reference to [web3j ERC20 implementation][3].  \r\n\r\n\r\n  [1]: https://github.com/web3j/web3j/blob/master/core/src/main/java/org/web3j/tx/Contract.java\r\n  [2]: https://stackoverflow.com/users/9075811/jahangir-jadi\r\n  [3]: https://stackoverflow.com/a/73754400/17410359","title":"How to mint ethereum token from Java\\Kotlin?","body":"<p>Web3j has abstract class <code>Contract</code> which should be used as a parent class for yours <code>ERC20</code> and <code>ERC721</code> tokens implementation.</p>\n<p>Under the hood they use an one of implementations of abstract class <code>TransactionManager</code> to execute call on chain. For more information please check the <a href=\"https://github.com/web3j/web3j/blob/master/core/src/main/java/org/web3j/tx/Contract.java\" rel=\"nofollow noreferrer\">source code of library</a>.</p>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/9075811/jahangir-jadi\">Jahangir Jadi</a> for the clue and reference to <a href=\"https://stackoverflow.com/a/73754400/17410359\">web3j ERC20 implementation</a>.</p>\n"}],"owner":{"account_id":23334452,"reputation":793,"user_id":17410359,"display_name":"Joe Dow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663683481,"creation_date":1663405051,"question_id":73753520,"body_markdown":"I have blockchain extension for my project and want to extend android client to work with ethereum directly by using web3j. My current issue is get contract instance to execute mint function. \r\n\r\nContract has been deployed by using Remix IDE and Metamask account. Code snippets which shows work with chain use some token class instance with unclear nature: in [some place][1] it is assumed it should be provided with web3j package, [in other place][2] there is a reference it should be generated, e.g. with help of Truffle.   \r\n\r\n    // Connect Web3j to the Blockchain\r\n    String rpcEndpoint = &quot;http://localhost:8545&quot;;\r\n    Web3j web3j = Web3j.build(new HttpService(rpcEndpoint));\r\n    \r\n    // Prepare a wallet\r\n    String pk = &quot;0x5bbbef76458bf30511c9ee6ed56783644eb339258d02656755c68098c4809130&quot;;\r\n    // Account address: 0x1583c05d6304b6651a7d9d723a5c32830f53a12f\r\n    Credentials credentials = Credentials.create(pk);\r\n    \r\n    // Load the contract\r\n    String contractAddress = &quot;0xe4F275cE131eF87Cb8bF425E02D9215055e9F875&quot;;\r\n    ERC20 javaToken = ERC20.load(contractAddress, web3j, credentials, new DefaultGasProvider()\r\n[Source][3] \r\n\r\nHow do you get contract instance by having deployed contract address to mint a new token? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72388904/erc20-class-not-found-in-web3-core-android-library\r\n  [2]: https://hackernoon.com/ethereum-token-development-using-java-and-web3j-an-overview-spas324r\r\n  [3]: https://kauri.io/#communities/Java%20Ethereum/manage-erc20-tokens-in-java-with-web3j/","title":"How to mint ethereum token from Java\\Kotlin?","body":"<p>I have blockchain extension for my project and want to extend android client to work with ethereum directly by using web3j. My current issue is get contract instance to execute mint function.</p>\n<p>Contract has been deployed by using Remix IDE and Metamask account. Code snippets which shows work with chain use some token class instance with unclear nature: in <a href=\"https://stackoverflow.com/questions/72388904/erc20-class-not-found-in-web3-core-android-library\">some place</a> it is assumed it should be provided with web3j package, <a href=\"https://hackernoon.com/ethereum-token-development-using-java-and-web3j-an-overview-spas324r\" rel=\"nofollow noreferrer\">in other place</a> there is a reference it should be generated, e.g. with help of Truffle.</p>\n<pre><code>// Connect Web3j to the Blockchain\nString rpcEndpoint = &quot;http://localhost:8545&quot;;\nWeb3j web3j = Web3j.build(new HttpService(rpcEndpoint));\n\n// Prepare a wallet\nString pk = &quot;0x5bbbef76458bf30511c9ee6ed56783644eb339258d02656755c68098c4809130&quot;;\n// Account address: 0x1583c05d6304b6651a7d9d723a5c32830f53a12f\nCredentials credentials = Credentials.create(pk);\n\n// Load the contract\nString contractAddress = &quot;0xe4F275cE131eF87Cb8bF425E02D9215055e9F875&quot;;\nERC20 javaToken = ERC20.load(contractAddress, web3j, credentials, new DefaultGasProvider()\n</code></pre>\n<p><a href=\"https://kauri.io/#communities/Java%20Ethereum/manage-erc20-tokens-in-java-with-web3j/\" rel=\"nofollow noreferrer\">Source</a></p>\n<p>How do you get contract instance by having deployed contract address to mint a new token?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","date"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1663253650,"post_id":73733301,"comment_id":130200456,"body_markdown":"Did you use the dependency injection? Because I can not see it in this code.@Repository annotation.","body":"Did you use the dependency injection? Because I can not see it in this code.@Repository annotation."},{"owner":{"account_id":26346422,"reputation":1,"user_id":20004718,"display_name":"GiviXbo"},"score":0,"creation_date":1663253819,"post_id":73733301,"comment_id":130200533,"body_markdown":"Yes sir i did. I just didn&#39;t show it because the code would be larger. I was just oriented on the  findRate method. But yes i injected dependency of repository. in findRate method you can see i am calling exchangeRateRepository.findByDate","body":"Yes sir i did. I just didn&#39;t show it because the code would be larger. I was just oriented on the  findRate method. But yes i injected dependency of repository. in findRate method you can see i am calling exchangeRateRepository.findByDate"},{"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"score":0,"creation_date":1663254290,"post_id":73733301,"comment_id":130200722,"body_markdown":"change SimpleDateFormat(&quot;yyyy/dd/MM&quot;) to SimpleDateFormat(&quot;yyyy-dd-MM&quot;) and sort String s to -&gt; = year + &quot;-&quot; + day + &quot;-&quot; + month ;","body":"change SimpleDateFormat(&quot;yyyy/dd/MM&quot;) to SimpleDateFormat(&quot;yyyy-dd-MM&quot;) and sort String s to -&gt; = year + &quot;-&quot; + day + &quot;-&quot; + month ;"},{"owner":{"account_id":26346422,"reputation":1,"user_id":20004718,"display_name":"GiviXbo"},"score":0,"creation_date":1663255277,"post_id":73733301,"comment_id":130201103,"body_markdown":"@OmarHussien does not work i get javax.persistence.NonUniqueResultException: query did not return a unique result: 5. despite the fact that all rows are unique in db","body":"@OmarHussien does not work i get javax.persistence.NonUniqueResultException: query did not return a unique result: 5. despite the fact that all rows are unique in db"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663272828,"post_id":73733301,"comment_id":130206988,"body_markdown":"Don’t use `Date`. Don’t use `SimpleDateFormat`. Use java.time, the modern Java date and time API.","body":"Don’t use <code>Date</code>. Don’t use <code>SimpleDateFormat</code>. Use java.time, the modern Java date and time API."},{"owner":{"account_id":26346422,"reputation":1,"user_id":20004718,"display_name":"GiviXbo"},"score":0,"creation_date":1663310804,"post_id":73733301,"comment_id":130213488,"body_markdown":"@OleV.V. sorry i could not understand what do you mean by java.time do you mean localDate ? or what?","body":"@OleV.V. sorry i could not understand what do you mean by java.time do you mean localDate ? or what?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663310997,"post_id":73733301,"comment_id":130213539,"body_markdown":"In this case `LocalDate` is probably the correct type to use, yes. Hibernate supports it from version 5, I think.","body":"In this case <code>LocalDate</code> is probably the correct type to use, yes. Hibernate supports it from version 5, I think."},{"owner":{"account_id":26346422,"reputation":1,"user_id":20004718,"display_name":"GiviXbo"},"score":0,"creation_date":1663311506,"post_id":73733301,"comment_id":130213685,"body_markdown":"@OleV.V. what about Calendar? is it a better option?","body":"@OleV.V. what about Calendar? is it a better option?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663313457,"post_id":73733301,"comment_id":130214292,"body_markdown":"No, `Calendar` was a failed attempt to fix the problems with `Date`. It is very cumbersome to work with and was replaced by java.time eight and a half years ago. You will love java.time once you get to know it.","body":"No, <code>Calendar</code> was a failed attempt to fix the problems with <code>Date</code>. It is very cumbersome to work with and was replaced by java.time eight and a half years ago. You will love java.time once you get to know it."},{"owner":{"account_id":26346422,"reputation":1,"user_id":20004718,"display_name":"GiviXbo"},"score":0,"creation_date":1663314813,"post_id":73733301,"comment_id":130214711,"body_markdown":"@OleV.V. i think i fixed the problem with Calendar. It does not have any deprecated methods works fine. Should i replace it with java.time still?","body":"@OleV.V. i think i fixed the problem with Calendar. It does not have any deprecated methods works fine. Should i replace it with java.time still?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663329616,"post_id":73733301,"comment_id":130219540,"body_markdown":"I certainly would. It&#39;s most likely to make life easier for those reading and maintaining your code.","body":"I certainly would. It&#39;s most likely to make life easier for those reading and maintaining your code."}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663683234,"creation_date":1663683234,"answer_id":73788172,"question_id":73733301,"body_markdown":"You are doing this:\r\n```Java\r\nString s = day + &quot;-&quot; + month + &quot;-&quot; + year;\r\n```\r\nbut when parsing, you are expecting ```yyyy/mm/dd```. Set the data correctly to the SimpleDateFormat.\r\n\r\n```Java\r\npublic static void main(String[] args) throws ParseException {\r\n\tString s = &quot;10-10-1989&quot;;\r\n\tDate date = new SimpleDateFormat(&quot;yyyy/dd/MM&quot;).parse(s);\r\n\tSystem.out.println(date);\r\n}\r\n```\r\nThe above example throws Unparseable date: &quot;10-10-1989&quot;\r\n\r\nBesides that, in the comments I saw you are not getting an unique result, which makes sense since the query won&#39;t have any limit. There could be multiple rows for one date.\r\n\r\nModify the name of the method to return one value or change the return value to a ```List&lt;EmployeeExchangeRate&gt;```","title":"How to properly find a row in SQL based on Date field from spring boot","body":"<p>You are doing this:</p>\n<pre><code>String s = day + &quot;-&quot; + month + &quot;-&quot; + year;\n</code></pre>\n<p>but when parsing, you are expecting <code>yyyy/mm/dd</code>. Set the data correctly to the SimpleDateFormat.</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n    String s = &quot;10-10-1989&quot;;\n    Date date = new SimpleDateFormat(&quot;yyyy/dd/MM&quot;).parse(s);\n    System.out.println(date);\n}\n</code></pre>\n<p>The above example throws Unparseable date: &quot;10-10-1989&quot;</p>\n<p>Besides that, in the comments I saw you are not getting an unique result, which makes sense since the query won't have any limit. There could be multiple rows for one date.</p>\n<p>Modify the name of the method to return one value or change the return value to a <code>List&lt;EmployeeExchangeRate&gt;</code></p>\n"}],"owner":{"account_id":26346422,"reputation":1,"user_id":20004718,"display_name":"GiviXbo"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73788172,"answer_count":1,"score":-1,"last_activity_date":1663683234,"creation_date":1663253432,"question_id":73733301,"body_markdown":"I have created a entity which has two fields date and rate (exchange rating currency). I want to create a method in my service class so that i can find rate exchanges, based on date time, which will be in the format of yyyy/dd/mm no other additional time fields. \r\n\r\nHere is what i done so far:\r\n\r\ni created a model:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Table(name = &quot;ExchangeRate&quot;)\r\n    public class EmployeeExchangeRate extends BaseEntity {\r\n\r\n\r\n    @Basic\r\n    @Temporal(TemporalType.DATE)\r\n    @Column(name = &quot;date&quot;, nullable = false)\r\n    private Date date;\r\n\r\n    @Column(name = &quot;rate&quot;, nullable = false)\r\n    private double rate;\r\n\r\n    }\r\n\r\nthen i created a repository:\r\n\r\n    public interface EmployeeExchangeRateRepository extends JpaRepository&lt;EmployeeExchangeRate, Long&gt; {\r\n    EmployeeExchangeRate findByDate(Date date);\r\n    }\r\n\r\nin my service i have written the following method:\r\n\r\n    private void findRate(int day, int month, int year){\r\n\r\n        String s = day + &quot;-&quot; + month + &quot;-&quot; + year;\r\n\r\n        Optional&lt;EmployeeExchangeRate&gt; foundExchangeRate =\r\n                exchangeRateRepository.findByDate(new SimpleDateFormat(&quot;yyyy/dd/MM&quot;).parse(s));\r\n\r\n        System.out.println(foundExchangeRate.get());\r\n    }\r\n\r\nNote: that this code does not work, i have tried several variants but i could not parse the string correctly to a date time. In the method i want to pass day, month, and year and based on that arguments i want to find a exchange rate. The question is What is the most correct way for finding a row based on date? How can i convert parameters: day, month, year to date, so that i can find a row based on this date time? Note: that date in mySql is represented as yyyy/dd/mm","title":"How to properly find a row in SQL based on Date field from spring boot","body":"<p>I have created a entity which has two fields date and rate (exchange rating currency). I want to create a method in my service class so that i can find rate exchanges, based on date time, which will be in the format of yyyy/dd/mm no other additional time fields.</p>\n<p>Here is what i done so far:</p>\n<p>i created a model:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;ExchangeRate&quot;)\npublic class EmployeeExchangeRate extends BaseEntity {\n\n\n@Basic\n@Temporal(TemporalType.DATE)\n@Column(name = &quot;date&quot;, nullable = false)\nprivate Date date;\n\n@Column(name = &quot;rate&quot;, nullable = false)\nprivate double rate;\n\n}\n</code></pre>\n<p>then i created a repository:</p>\n<pre><code>public interface EmployeeExchangeRateRepository extends JpaRepository&lt;EmployeeExchangeRate, Long&gt; {\nEmployeeExchangeRate findByDate(Date date);\n}\n</code></pre>\n<p>in my service i have written the following method:</p>\n<pre><code>private void findRate(int day, int month, int year){\n\n    String s = day + &quot;-&quot; + month + &quot;-&quot; + year;\n\n    Optional&lt;EmployeeExchangeRate&gt; foundExchangeRate =\n            exchangeRateRepository.findByDate(new SimpleDateFormat(&quot;yyyy/dd/MM&quot;).parse(s));\n\n    System.out.println(foundExchangeRate.get());\n}\n</code></pre>\n<p>Note: that this code does not work, i have tried several variants but i could not parse the string correctly to a date time. In the method i want to pass day, month, and year and based on that arguments i want to find a exchange rate. The question is What is the most correct way for finding a row based on date? How can i convert parameters: day, month, year to date, so that i can find a row based on this date time? Note: that date in mySql is represented as yyyy/dd/mm</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":1,"creation_date":1663670391,"post_id":73785276,"comment_id":130289438,"body_markdown":"The issue is not with thread because in that case your button backgroundColor would also have not chagne","body":"The issue is not with thread because in that case your button backgroundColor would also have not chagne"},{"owner":{"account_id":26389517,"reputation":11,"user_id":20041566,"display_name":"Rising Sun"},"score":0,"creation_date":1663682353,"post_id":73785276,"comment_id":130294070,"body_markdown":"@AshutoshOjha , toasts that are outside that method do show, that why i am thinking runonuithread is the problem","body":"@AshutoshOjha , toasts that are outside that method do show, that why i am thinking runonuithread is the problem"},{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1663689285,"post_id":73785276,"comment_id":130296871,"body_markdown":"Have you  tried using debugger ?  Is app control coming to the Toast ?","body":"Have you  tried using debugger ?  Is app control coming to the Toast ?"},{"owner":{"account_id":26389517,"reputation":11,"user_id":20041566,"display_name":"Rising Sun"},"score":0,"creation_date":1663689521,"post_id":73785276,"comment_id":130296972,"body_markdown":"I changed the emulator and the android version. Now its showing","body":"I changed the emulator and the android version. Now its showing"}],"answers":[{"tags":[],"owner":{"account_id":26389573,"reputation":1,"user_id":20041617,"display_name":"Monil Doshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663670843,"creation_date":1663670843,"answer_id":73785469,"question_id":73785276,"body_markdown":"hey can you share your file name and import section ........\r\nor else try to run on clicklistener after **sendbtn** and try to link with your button ","title":"How to show a Toast using a RunOnUIThread method","body":"<p>hey can you share your file name and import section ........\nor else try to run on clicklistener after <strong>sendbtn</strong> and try to link with your button</p>\n"}],"owner":{"account_id":26389517,"reputation":11,"user_id":20041566,"display_name":"Rising Sun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663682575,"creation_date":1663669898,"question_id":73785276,"body_markdown":"\r\nI have been trying to figure out why the toast is not showing. from the code, the onReceive method does get executed and change the button color, but the Toast does not display. I dont  know why.\r\n\r\n       \r\n\r\n\r\n \r\n\r\n     client = new Client(\r\n                    (publisher, topic, params) -&gt; runOnUiThread(\r\n                            () -&gt; onReceive((Publisher) publisher, topic, params)\r\n                    ));\r\n    \r\n                client.connectToServer(&quot;192.168.3.52&quot;,5050);\r\n    \r\n      private void onReceive(Publisher publisher, String topic, Map&lt;String, Object&gt; params) {\r\n    \r\n    \r\n            sendBtn.setBackgroundColor(getColor(R.color.white));\r\n    \r\n            Toast.makeText(MainActivity.this, &quot;Hey&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n        }\r\n\r\nImports \r\n\r\n    import android.app.AlertDialog;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.io.Serializable;\r\n    import java.time.LocalDateTime;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n\r\nClass name\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n\r\n","title":"How to show a Toast using a RunOnUIThread method","body":"<p>I have been trying to figure out why the toast is not showing. from the code, the onReceive method does get executed and change the button color, but the Toast does not display. I dont  know why.</p>\n<pre><code> client = new Client(\n                (publisher, topic, params) -&gt; runOnUiThread(\n                        () -&gt; onReceive((Publisher) publisher, topic, params)\n                ));\n\n            client.connectToServer(&quot;192.168.3.52&quot;,5050);\n\n  private void onReceive(Publisher publisher, String topic, Map&lt;String, Object&gt; params) {\n\n\n        sendBtn.setBackgroundColor(getColor(R.color.white));\n\n        Toast.makeText(MainActivity.this, &quot;Hey&quot;, Toast.LENGTH_LONG).show();\n\n    }\n</code></pre>\n<p>Imports</p>\n<pre><code>import android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n</code></pre>\n<p>Class name</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n</code></pre>\n"},{"tags":["java","spring","maven","gitlab","gitlab-ci"],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663682520,"creation_date":1663682520,"answer_id":73787991,"question_id":73734805,"body_markdown":"If the error is &quot;Cannot find docker&quot; it means docker-cli is not installed in your environment.\r\nInstall it and try again.","title":"Upload docker image gitlab ci/cd Java Spring","body":"<p>If the error is &quot;Cannot find docker&quot; it means docker-cli is not installed in your environment.\nInstall it and try again.</p>\n"}],"owner":{"account_id":25822209,"reputation":1,"user_id":19561091,"display_name":"iraklikairakliirakli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663682520,"creation_date":1663260475,"question_id":73734805,"body_markdown":"    java-build:\r\n      tags:\r\n        - docker-in-docker\r\n      image: maven:3.8-openjdk-11\r\n      services:\r\n        - docker:20.10.13-dind-alpine3.15\r\n    \r\n      stage: build\r\n      script:\r\n        - mvn clean package \r\n\r\n\r\nHello guys , this is my `yaml` where i try to build java spring image , now i wanto to upload in DockerHub , what is best way ? when i try \r\n\r\n    - echo &quot;$DOCKER_REGISTRY_PASSWORD&quot; | docker login -u $DOCKER_REGISTRY_USER --password-stdin\r\n    - docker push $DOCKER_IMAGE:latest\r\n\r\n\r\nthere is error ,  can not find docker ... i know beacuse i am using  `image: maven:3.8-openjdk-11` ... what is best way? to upload this build ? ","title":"Upload docker image gitlab ci/cd Java Spring","body":"<pre><code>java-build:\n  tags:\n    - docker-in-docker\n  image: maven:3.8-openjdk-11\n  services:\n    - docker:20.10.13-dind-alpine3.15\n\n  stage: build\n  script:\n    - mvn clean package \n</code></pre>\n<p>Hello guys , this is my <code>yaml</code> where i try to build java spring image , now i wanto to upload in DockerHub , what is best way ? when i try</p>\n<pre><code>- echo &quot;$DOCKER_REGISTRY_PASSWORD&quot; | docker login -u $DOCKER_REGISTRY_USER --password-stdin\n- docker push $DOCKER_IMAGE:latest\n</code></pre>\n<p>there is error ,  can not find docker ... i know beacuse i am using  <code>image: maven:3.8-openjdk-11</code> ... what is best way? to upload this build ?</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","postman"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1663680578,"post_id":73787456,"comment_id":130293259,"body_markdown":"Do you have access to the book id?","body":"Do you have access to the book id?"},{"owner":{"account_id":18130353,"reputation":65,"user_id":13185519,"display_name":"Mathew Pius"},"score":0,"creation_date":1663680920,"post_id":73787456,"comment_id":130293401,"body_markdown":"the book id is auto generated, so I don&#39;t really need it, I just need the user Id  along with the other details such as book name, genre etc so I can create an entry in the database","body":"the book id is auto generated, so I don&#39;t really need it, I just need the user Id  along with the other details such as book name, genre etc so I can create an entry in the database"},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1663681316,"post_id":73787456,"comment_id":130293573,"body_markdown":"As I understood your task atleast you need the bookId if you do not know the book detsils.","body":"As I understood your task atleast you need the bookId if you do not know the book detsils."}],"answers":[{"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663682106,"creation_date":1663681176,"answer_id":73787678,"question_id":73787456,"body_markdown":"For your task you need both userId and bookId from frontend to pass to addBorrowedBook controller.If you have bookId, because the bookId is the primary key of book entity you can uniquely identify the book. No need of knowing book genre or name. Therefore from bookId you can fetch data from boook table and create book object. Then you can add that book object to the user object borrowed book List and save/update as in the sample code.\r\n\r\nOtherwise if your table not contain book details in your table you do not have other choise rather than passing book genre and etc... from frontend.\r\n\r\nTo pass book info well as userId do this way.\r\n\r\n        @postMapping(&#39;/user&#39;)\r\n        public void addBorrowedBook(@RequestParam int userId, @RequestParam String genre, @RequestParam Stringbookname)","title":"One-to-many unidirectional relationship using spring boot","body":"<p>For your task you need both userId and bookId from frontend to pass to addBorrowedBook controller.If you have bookId, because the bookId is the primary key of book entity you can uniquely identify the book. No need of knowing book genre or name. Therefore from bookId you can fetch data from boook table and create book object. Then you can add that book object to the user object borrowed book List and save/update as in the sample code.</p>\n<p>Otherwise if your table not contain book details in your table you do not have other choise rather than passing book genre and etc... from frontend.</p>\n<p>To pass book info well as userId do this way.</p>\n<pre><code>    @postMapping('/user')\n    public void addBorrowedBook(@RequestParam int userId, @RequestParam String genre, @RequestParam Stringbookname)\n</code></pre>\n"}],"owner":{"account_id":18130353,"reputation":65,"user_id":13185519,"display_name":"Mathew Pius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73787678,"answer_count":1,"score":0,"last_activity_date":1663682106,"creation_date":1663680220,"question_id":73787456,"body_markdown":"I have an entity class called user with the following code:\r\n\r\n```@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User {\r\n\r\n\t//one-to-many relationship with borrowed books\r\n\t\r\n\t@OneToMany(mappedBy=&quot;user&quot;, cascade = CascadeType.ALL)\r\n\t@JoinColumn(name=&quot;user_id&quot;)\r\n\t\r\n\tprivate List&lt;BorrowedBooks&gt; borrowedBooks;\r\n\t\r\n\t\r\n\t\r\n\r\n\r\n\t//define fields\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate Integer id;\r\n\t\r\n\t@Column(name=&quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\r\n\t\r\n    // getters and setters go here\r\n\r\n    //this is the method used to add the borrowed books\r\n      public void addBorrowedBook(BorrowedBooks borrowedbook) {\r\n\t\tif(borrowedBooks==null) {\r\n\t\t\tborrowedBooks = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\tborrowedBooks.add(borrowedbook);\r\n\t}\r\n```\r\nbelow is the code for books table\r\n```\r\n@Entity\r\n@Table(name=&quot;books&quot;)\r\npublic class Books {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;)\r\n\tprivate Integer Id; // autogenerated unique values.\r\n\t\r\n\t@Column(name=&quot;title&quot;)\r\n\tprivate String title;\r\n\t@Column(name=&quot;genre&quot;)\r\n//getters and setters go here\r\n```\r\n\r\nBelow is the code for borrowed books entity class:\r\n\r\n```\r\n   public class BorrowedBooks {\r\n\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy= GenerationType.AUTO)\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate Integer id;\r\n\t\r\n\t@Column(name=&quot;bookName&quot;)\r\n\tprivate String bookName;\r\n\t@Column(name=&quot;genre&quot;)\r\n\tprivate String genre ;\r\n    //getters and setters goes here\r\n}\r\n\r\n```\r\n\r\nThe hibernate code for adding the borrowed book code is as follows:\r\n\r\n```\r\nUser newUser = new User(1,&quot;john doe&quot;) //the values are userId,first_name\r\nnewUser.addBorrowedBook(new BorrowedBooks(1,&quot;love to code&quot;, &quot;computer science&quot;)); //values are id,book name, genre\r\nsession.save(newUser) // this saves the user along with the borrowed book details with userId as foreignKey into the database\r\n```\r\n\r\nI am trying to implement this code using spring rest controller\r\n\r\n``` \r\n@RestController\r\n@RequestMapping(&quot;/base path goes here&quot;)\r\npublic class BorrowedBooksRestController {\r\nprivate BorrowedBooksService borrowedBooksService;\r\n\t\r\n\tpublic BorrowedBooksRestController(BorrowedBooksService borrowedBooksService) {\r\n\t\tthis.borrowedBooksService = borrowedBooksService;\r\n\t}\r\n@PostMapping(&quot;/users&quot;)\r\n\tpublic void addBorrowedBooks(@RequestBody User theUser) {\r\n\t            //this allows me to access the user id which is the foreign key for the borrowedBooks entity class but I need to access the borrowedBooks details as well such as bookName, genre etc. \r\nHow do I send values from both user and borrowed books entity class.\r\n   borrowedBooksService.save()//here we add the borrowedBook object to save in the database\r\n\r\n\t}\r\n\r\n```\r\n\r\nAs seen from the code above, I can access the userId from the frontend, but how am I to replicate the object creation seen in the hibernate code here? I need to access the bookName and genre from the frontend along with the user id. I am using postman as a rest client for the time being.","title":"One-to-many unidirectional relationship using spring boot","body":"<p>I have an entity class called user with the following code:</p>\n<pre><code>@Table(name=&quot;user&quot;)\npublic class User {\n\n    //one-to-many relationship with borrowed books\n    \n    @OneToMany(mappedBy=&quot;user&quot;, cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;user_id&quot;)\n    \n    private List&lt;BorrowedBooks&gt; borrowedBooks;\n    \n    \n    \n\n\n    //define fields\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Integer id;\n    \n    @Column(name=&quot;first_name&quot;)\n    private String firstName;\n\n    \n    // getters and setters go here\n\n    //this is the method used to add the borrowed books\n      public void addBorrowedBook(BorrowedBooks borrowedbook) {\n        if(borrowedBooks==null) {\n            borrowedBooks = new ArrayList&lt;&gt;();\n        }\n        borrowedBooks.add(borrowedbook);\n    }\n</code></pre>\n<p>below is the code for books table</p>\n<pre><code>@Entity\n@Table(name=&quot;books&quot;)\npublic class Books {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Integer Id; // autogenerated unique values.\n    \n    @Column(name=&quot;title&quot;)\n    private String title;\n    @Column(name=&quot;genre&quot;)\n//getters and setters go here\n</code></pre>\n<p>Below is the code for borrowed books entity class:</p>\n<pre><code>   public class BorrowedBooks {\n\n    \n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    @Column(name=&quot;id&quot;)\n    private Integer id;\n    \n    @Column(name=&quot;bookName&quot;)\n    private String bookName;\n    @Column(name=&quot;genre&quot;)\n    private String genre ;\n    //getters and setters goes here\n}\n\n</code></pre>\n<p>The hibernate code for adding the borrowed book code is as follows:</p>\n<pre><code>User newUser = new User(1,&quot;john doe&quot;) //the values are userId,first_name\nnewUser.addBorrowedBook(new BorrowedBooks(1,&quot;love to code&quot;, &quot;computer science&quot;)); //values are id,book name, genre\nsession.save(newUser) // this saves the user along with the borrowed book details with userId as foreignKey into the database\n</code></pre>\n<p>I am trying to implement this code using spring rest controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/base path goes here&quot;)\npublic class BorrowedBooksRestController {\nprivate BorrowedBooksService borrowedBooksService;\n    \n    public BorrowedBooksRestController(BorrowedBooksService borrowedBooksService) {\n        this.borrowedBooksService = borrowedBooksService;\n    }\n@PostMapping(&quot;/users&quot;)\n    public void addBorrowedBooks(@RequestBody User theUser) {\n                //this allows me to access the user id which is the foreign key for the borrowedBooks entity class but I need to access the borrowedBooks details as well such as bookName, genre etc. \nHow do I send values from both user and borrowed books entity class.\n   borrowedBooksService.save()//here we add the borrowedBook object to save in the database\n\n    }\n\n</code></pre>\n<p>As seen from the code above, I can access the userId from the frontend, but how am I to replicate the object creation seen in the hibernate code here? I need to access the bookName and genre from the frontend along with the user id. I am using postman as a rest client for the time being.</p>\n"},{"tags":["java","spring","thread-local","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":21647131,"reputation":11,"user_id":15968303,"display_name":"Giliguala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622001230,"creation_date":1622001230,"answer_id":67698298,"question_id":67283655,"body_markdown":"i think you want to get params from threadlocal from parent-thread when you in sub-thread, in hystrix it use command-model to decorate callabletask\r\n\r\nin resilience4j i think u can fix it like this:\r\n\r\n    @Resource\r\n    DispatcherServlet dispatcherServlet;\r\n\r\n    @PostConstruct\r\n    public void changeThreadLocalModel() {\r\n        dispatcherServlet.setThreadContextInheritable(true);\r\n    }\r\n    ","title":"Resilience4j context propagator not able to propagte thread local values","body":"<p>i think you want to get params from threadlocal from parent-thread when you in sub-thread, in hystrix it use command-model to decorate callabletask</p>\n<p>in resilience4j i think u can fix it like this:</p>\n<pre><code>@Resource\nDispatcherServlet dispatcherServlet;\n\n@PostConstruct\npublic void changeThreadLocalModel() {\n    dispatcherServlet.setThreadContextInheritable(true);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21647131,"reputation":11,"user_id":15968303,"display_name":"Giliguala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622010903,"creation_date":1622010903,"answer_id":67699687,"question_id":67283655,"body_markdown":"i find my last answer may lead to some problems, when you use &quot;dispatcherServlet.setThreadContextInheritable(true);&quot;\r\n\r\nit may pollute your custom thread-pool`s threadlocalmap;\r\n\r\nso here is my final resolve, and it only works at resilience4j;\r\n  \r\n\r\n    @Resource\r\n    Resilience4jBulkheadProvider resilience4jBulkheadProvider;\r\n\r\n    @PostConstruct\r\n    public void concurrentThreadContextStrategy() {\r\n        ThreadPoolBulkheadConfig threadPoolBulkheadConfig = ThreadPoolBulkheadConfig.custom().contextPropagator(new CustomInheritContextPropagator()).build();\r\n        resilience4jBulkheadProvider.configureDefault(id -&gt; new Resilience4jBulkheadConfigurationBuilder()\r\n                .bulkheadConfig(BulkheadConfig.ofDefaults()).threadPoolBulkheadConfig(threadPoolBulkheadConfig)\r\n                .build());\r\n    }\r\n\r\n    \r\n    private static class CustomInheritContextPropagator implements ContextPropagator&lt;RequestAttributes&gt; {\r\n\r\n        @Override\r\n        public Supplier&lt;Optional&lt;RequestAttributes&gt;&gt; retrieve() {\r\n            //  give requestcontext to reference from threadlocal;\r\n            //  this method call by web-container thread, such as tomcat, jetty,or undertow, depends on what you used;\r\n            return () -&gt; Optional.ofNullable(RequestContextHolder.getRequestAttributes());\r\n        }\r\n\r\n        @Override\r\n        public Consumer&lt;Optional&lt;RequestAttributes&gt;&gt; copy() {\r\n            // load requestcontex into real-call thread\r\n            // this method call by resilience4j bulkhead thread;\r\n            return requestAttributes -&gt; requestAttributes.ifPresent(context -&gt; {\r\n                RequestContextHolder.resetRequestAttributes();\r\n                RequestContextHolder.setRequestAttributes(context);\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public Consumer&lt;Optional&lt;RequestAttributes&gt;&gt; clear() {\r\n            // clean requestcontext finally ;\r\n            // this method call by resilience4j bulkhead thread;\r\n            return requestAttributes -&gt; RequestContextHolder.resetRequestAttributes();\r\n        }\r\n    }\r\n    ","title":"Resilience4j context propagator not able to propagte thread local values","body":"<p>i find my last answer may lead to some problems, when you use &quot;dispatcherServlet.setThreadContextInheritable(true);&quot;</p>\n<p>it may pollute your custom thread-pool`s threadlocalmap;</p>\n<p>so here is my final resolve, and it only works at resilience4j;</p>\n<pre><code>@Resource\nResilience4jBulkheadProvider resilience4jBulkheadProvider;\n\n@PostConstruct\npublic void concurrentThreadContextStrategy() {\n    ThreadPoolBulkheadConfig threadPoolBulkheadConfig = ThreadPoolBulkheadConfig.custom().contextPropagator(new CustomInheritContextPropagator()).build();\n    resilience4jBulkheadProvider.configureDefault(id -&gt; new Resilience4jBulkheadConfigurationBuilder()\n            .bulkheadConfig(BulkheadConfig.ofDefaults()).threadPoolBulkheadConfig(threadPoolBulkheadConfig)\n            .build());\n}\n\n\nprivate static class CustomInheritContextPropagator implements ContextPropagator&lt;RequestAttributes&gt; {\n\n    @Override\n    public Supplier&lt;Optional&lt;RequestAttributes&gt;&gt; retrieve() {\n        //  give requestcontext to reference from threadlocal;\n        //  this method call by web-container thread, such as tomcat, jetty,or undertow, depends on what you used;\n        return () -&gt; Optional.ofNullable(RequestContextHolder.getRequestAttributes());\n    }\n\n    @Override\n    public Consumer&lt;Optional&lt;RequestAttributes&gt;&gt; copy() {\n        // load requestcontex into real-call thread\n        // this method call by resilience4j bulkhead thread;\n        return requestAttributes -&gt; requestAttributes.ifPresent(context -&gt; {\n            RequestContextHolder.resetRequestAttributes();\n            RequestContextHolder.setRequestAttributes(context);\n        });\n    }\n\n    @Override\n    public Consumer&lt;Optional&lt;RequestAttributes&gt;&gt; clear() {\n        // clean requestcontext finally ;\n        // this method call by resilience4j bulkhead thread;\n        return requestAttributes -&gt; RequestContextHolder.resetRequestAttributes();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6617832,"reputation":653,"user_id":5110508,"display_name":"Bertrand Cedric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663682056,"creation_date":1663682056,"answer_id":73787874,"question_id":67283655,"body_markdown":"i got the same problem with springboot 2.5 et springboot cloud 2020.0.6\r\nand I solved it with an implementation of **ContextPropagator**\r\n\r\n    public class SleuthPropagator implements ContextPropagator&lt;TraceContext&gt; {\r\n        ThreadLocal&lt;ScopedSpan&gt; scopedSpanThreadLocal = new ThreadLocal&lt;&gt;();\r\n    \r\n        @Override\r\n        public Supplier&lt;Optional&lt;TraceContext&gt;&gt; retrieve() {\r\n            return this::getCurrentcontext;\r\n        }\r\n    \r\n        @Override\r\n        public Consumer&lt;Optional&lt;TraceContext&gt;&gt; copy() {\r\n            return c -&gt; {\r\n                if (!c.isPresent()) {\r\n                    return;\r\n                }\r\n                TraceContext traceContext = c.get();\r\n                ScopedSpan resilience4jSpan = getTracer()\r\n                        .map(t -&gt; t.startScopedSpanWithParent(&quot;Resilience4j&quot;, traceContext))\r\n                        .orElse(null);\r\n                scopedSpanThreadLocal.set(resilience4jSpan);\r\n            };\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public Consumer&lt;Optional&lt;TraceContext&gt;&gt; clear() {\r\n            return t -&gt; {\r\n                try {\r\n                    ScopedSpan resilience4jSpan = scopedSpanThreadLocal.get();\r\n                    if (resilience4jSpan != null) {\r\n                        resilience4jSpan.finish();\r\n                    }\r\n                } finally {\r\n                    scopedSpanThreadLocal.remove();\r\n                }\r\n            };\r\n        }\r\n    \r\n        private static Optional&lt;Tracer&gt; getTracer() {\r\n            return Optional.ofNullable(Tracing.current())\r\n                    .map(Tracing::tracer);\r\n        }\r\n    \r\n        private Optional&lt;TraceContext&gt; getCurrentcontext() {\r\n            return getTracer()\r\n                    .map(Tracer::currentSpan)\r\n                    .map(Span::context);\r\n        }\r\n    }\r\n\r\nAnd use the propagator in adding this to your application.properties\r\n\r\n    resilience4j.thread-pool-bulkhead.instances.YOUR_BULKHEAD_CONFIG.context-propagators=com.your.package.SleuthPropagator","title":"Resilience4j context propagator not able to propagte thread local values","body":"<p>i got the same problem with springboot 2.5 et springboot cloud 2020.0.6\nand I solved it with an implementation of <strong>ContextPropagator</strong></p>\n<pre><code>public class SleuthPropagator implements ContextPropagator&lt;TraceContext&gt; {\n    ThreadLocal&lt;ScopedSpan&gt; scopedSpanThreadLocal = new ThreadLocal&lt;&gt;();\n\n    @Override\n    public Supplier&lt;Optional&lt;TraceContext&gt;&gt; retrieve() {\n        return this::getCurrentcontext;\n    }\n\n    @Override\n    public Consumer&lt;Optional&lt;TraceContext&gt;&gt; copy() {\n        return c -&gt; {\n            if (!c.isPresent()) {\n                return;\n            }\n            TraceContext traceContext = c.get();\n            ScopedSpan resilience4jSpan = getTracer()\n                    .map(t -&gt; t.startScopedSpanWithParent(&quot;Resilience4j&quot;, traceContext))\n                    .orElse(null);\n            scopedSpanThreadLocal.set(resilience4jSpan);\n        };\n    }\n\n\n    @Override\n    public Consumer&lt;Optional&lt;TraceContext&gt;&gt; clear() {\n        return t -&gt; {\n            try {\n                ScopedSpan resilience4jSpan = scopedSpanThreadLocal.get();\n                if (resilience4jSpan != null) {\n                    resilience4jSpan.finish();\n                }\n            } finally {\n                scopedSpanThreadLocal.remove();\n            }\n        };\n    }\n\n    private static Optional&lt;Tracer&gt; getTracer() {\n        return Optional.ofNullable(Tracing.current())\n                .map(Tracing::tracer);\n    }\n\n    private Optional&lt;TraceContext&gt; getCurrentcontext() {\n        return getTracer()\n                .map(Tracer::currentSpan)\n                .map(Span::context);\n    }\n}\n</code></pre>\n<p>And use the propagator in adding this to your application.properties</p>\n<pre><code>resilience4j.thread-pool-bulkhead.instances.YOUR_BULKHEAD_CONFIG.context-propagators=com.your.package.SleuthPropagator\n</code></pre>\n"}],"owner":{"account_id":21057294,"reputation":51,"user_id":15476339,"display_name":"aryan rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1516,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1663682056,"creation_date":1619528776,"question_id":67283655,"body_markdown":"I am trying to migrate my circuit breaker code from Hystrix to Resilience4j. The communication is between two applications out of which one is an artifact containing all the resilience 4j config in the java code itself and the second application which is a microservice uses it directly.\r\n\r\nThere&#39;s one RequestId which generates in the microservice and propagates to the artifact context where it gets printed in the logs. With Hystrix, it was working perfectly fine but ever since I moved to resilience, I am getting null for the request Id.\r\n\r\nBelow is my config for bulk head and context propagator :\r\n\r\n    ThreadPoolBulkheadConfig bulkheadConfig = ThreadPoolBulkheadConfig.custom()\r\n                .maxThreadPoolSize(maxThreadPoolSize)\r\n                .coreThreadPoolSize(coreThreadPoolSize)\r\n                .queueCapacity(queueCapacity)\r\n                .contextPropagator(new DummyContextPropagator())\r\n                .build();\r\n\r\n        // Bulk Head Registry\r\n        ThreadPoolBulkheadRegistry bulkheadRegistry = ThreadPoolBulkheadRegistry.of(bulkheadConfig);\r\n\r\n        // Create Bulk Head\r\n        ThreadPoolBulkhead bulkhead = bulkheadRegistry.bulkhead(name, bulkheadConfig);\r\n\r\n\r\nDummy Context Propagator  :\r\n\r\n    public class  DummyContextPropagator implements ContextPropagator {\r\n    private static final Logger log = LoggerFactory.getLogger( DummyContextPropagator.class);\r\n\r\n    @Override\r\n    public Supplier&lt;Optional&lt;Object&gt;&gt; retrieve() {\r\n        return () -&gt; (Optional&lt;Object&gt;) get();\r\n    }\r\n\r\n    @Override\r\n    public Consumer&lt;Optional&lt;Object&gt;&gt; copy() {\r\n        return (t) -&gt; t.ifPresent(e -&gt; {\r\n            clear();\r\n            put(e);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public Consumer&lt;Optional&lt;Object&gt;&gt; clear() {\r\n        return (t) -&gt;  DummyContextHolder.clear();\r\n    }\r\n\r\n    public static class  DummyContextHolder {\r\n\r\n        private static final ThreadLocal threadLocal = new ThreadLocal();\r\n\r\n        private  DummyContextHolder() {\r\n        }\r\n\r\n        public static void put(Object context) {\r\n            if (threadLocal.get() != null) {\r\n                clear();\r\n            }\r\n            threadLocal.set(context);\r\n        }\r\n\r\n        public static void clear() {\r\n            if (threadLocal.get() != null) {\r\n                threadLocal.set(null);\r\n                threadLocal.remove();\r\n            }\r\n        }\r\n\r\n        public static Optional&lt;Object&gt; get() {\r\n            return Optional.ofNullable(threadLocal.get());\r\n        }\r\n    }\r\n    }\r\n\r\nHowever, nothing seems to work so that I can get the RequestId.\r\n\r\nAm I doing everything right or is there another way to do that ?\r\n\r\n","title":"Resilience4j context propagator not able to propagte thread local values","body":"<p>I am trying to migrate my circuit breaker code from Hystrix to Resilience4j. The communication is between two applications out of which one is an artifact containing all the resilience 4j config in the java code itself and the second application which is a microservice uses it directly.</p>\n<p>There's one RequestId which generates in the microservice and propagates to the artifact context where it gets printed in the logs. With Hystrix, it was working perfectly fine but ever since I moved to resilience, I am getting null for the request Id.</p>\n<p>Below is my config for bulk head and context propagator :</p>\n<pre><code>ThreadPoolBulkheadConfig bulkheadConfig = ThreadPoolBulkheadConfig.custom()\n            .maxThreadPoolSize(maxThreadPoolSize)\n            .coreThreadPoolSize(coreThreadPoolSize)\n            .queueCapacity(queueCapacity)\n            .contextPropagator(new DummyContextPropagator())\n            .build();\n\n    // Bulk Head Registry\n    ThreadPoolBulkheadRegistry bulkheadRegistry = ThreadPoolBulkheadRegistry.of(bulkheadConfig);\n\n    // Create Bulk Head\n    ThreadPoolBulkhead bulkhead = bulkheadRegistry.bulkhead(name, bulkheadConfig);\n</code></pre>\n<p>Dummy Context Propagator  :</p>\n<pre><code>public class  DummyContextPropagator implements ContextPropagator {\nprivate static final Logger log = LoggerFactory.getLogger( DummyContextPropagator.class);\n\n@Override\npublic Supplier&lt;Optional&lt;Object&gt;&gt; retrieve() {\n    return () -&gt; (Optional&lt;Object&gt;) get();\n}\n\n@Override\npublic Consumer&lt;Optional&lt;Object&gt;&gt; copy() {\n    return (t) -&gt; t.ifPresent(e -&gt; {\n        clear();\n        put(e);\n    });\n}\n\n@Override\npublic Consumer&lt;Optional&lt;Object&gt;&gt; clear() {\n    return (t) -&gt;  DummyContextHolder.clear();\n}\n\npublic static class  DummyContextHolder {\n\n    private static final ThreadLocal threadLocal = new ThreadLocal();\n\n    private  DummyContextHolder() {\n    }\n\n    public static void put(Object context) {\n        if (threadLocal.get() != null) {\n            clear();\n        }\n        threadLocal.set(context);\n    }\n\n    public static void clear() {\n        if (threadLocal.get() != null) {\n            threadLocal.set(null);\n            threadLocal.remove();\n        }\n    }\n\n    public static Optional&lt;Object&gt; get() {\n        return Optional.ofNullable(threadLocal.get());\n    }\n}\n}\n</code></pre>\n<p>However, nothing seems to work so that I can get the RequestId.</p>\n<p>Am I doing everything right or is there another way to do that ?</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":2,"creation_date":1663682240,"post_id":73787822,"comment_id":130294015,"body_markdown":"@levgen has never accepted an answer.","body":"@levgen has never accepted an answer."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1663688983,"post_id":73787822,"comment_id":130296749,"body_markdown":"Did you have an **attempt**, what are the problems you&#39;ve encountered? You&#39;ve listed only requirements and sample data.","body":"Did you have an <b>attempt</b>, what are the problems you&#39;ve encountered? You&#39;ve listed only requirements and sample data."}],"owner":{"account_id":6270455,"reputation":2029,"user_id":4874863,"accept_rate":0,"display_name":"Ievgen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663681797,"creation_date":1663681797,"question_id":73787822,"body_markdown":"Suppose I have the following structure:\r\n```\r\nclass Person {\r\n  public String name;\r\n  public double netWorth;\r\n  public Person(String name, String netWorth) { this.name = name; this.netWorth = netWorth; }\r\n}\r\n```\r\nand following stream: \r\n```\r\nStream.of(\r\n  new Person(&quot;Jeff Bezos&quot;, 12),\r\n  new Person(&quot;Jeff Bezos&quot;, 165_345_678_910), \r\n  new Person(&quot;Jeff Bezos&quot;, 1_234),\r\n  new Person(&quot;Jeff Bezos(1)&quot;, 1_234),\r\n  new Person(&quot;Jeff Bezos(1)(2)&quot;, 42),\r\n  new Person(&quot;Bill Gates&quot;, 130_000_000_000));\r\n```\r\n\r\nby using Java Streams API I want to transform stream above so that:\r\n* `Person`-s with same names should receive different strings (by adding `(i)`) in the end of the name\r\n* no cycles /  if statements / interim stream terminators\r\n* order of names does not matter, e.g. out of two `Person`-s with same names either of two can receive `(1)` suffix\r\n\r\ne.g. to a following map:\r\n```\r\nnew HashMap&lt;String, Double&gt;() {{\r\n  put(&quot;Jeff Bezos&quot;, 12);\r\n  put(&quot;Jeff Bezos(1)(1)(1)&quot;, 165_345_678_91);\r\n  put(&quot;Jeff Bezos(1)(1)(2)&quot;, 1_234);\r\n  put(&quot;Jeff Bezos(1)&quot;, 1_234);\r\n  put(&quot;Jeff Bezos(1)(2)&quot;, 42);\r\n  put(&quot;Bill Gates&quot;, 130_000_000_000);\r\n}};\r\n```\r\n\r\nP.S. Complicatoion, order of `Person`s matter, person with the highest net worth should receive the cleanest name, e.g. with min suffixes etc:\r\n\r\n```\r\nnew HashMap&lt;String, Double&gt;() {{\r\n  put(&quot;Jeff Bezos&quot;, 165_345_678_91);\r\n  put(&quot;Jeff Bezos(1)(1)(1)&quot;, 1_234);\r\n  put(&quot;Jeff Bezos(1)(1)(2)&quot;, 12);\r\n  put(&quot;Jeff Bezos(1)(2)&quot;, 42);\r\n  put(&quot;Jeff Bezos(1)&quot;, 1_234);\r\n  put(&quot;Bill Gates&quot;, 130_000_000_000);\r\n}};\r\n```","title":"Modify Matching Objects using Java Streams","body":"<p>Suppose I have the following structure:</p>\n<pre><code>class Person {\n  public String name;\n  public double netWorth;\n  public Person(String name, String netWorth) { this.name = name; this.netWorth = netWorth; }\n}\n</code></pre>\n<p>and following stream:</p>\n<pre><code>Stream.of(\n  new Person(&quot;Jeff Bezos&quot;, 12),\n  new Person(&quot;Jeff Bezos&quot;, 165_345_678_910), \n  new Person(&quot;Jeff Bezos&quot;, 1_234),\n  new Person(&quot;Jeff Bezos(1)&quot;, 1_234),\n  new Person(&quot;Jeff Bezos(1)(2)&quot;, 42),\n  new Person(&quot;Bill Gates&quot;, 130_000_000_000));\n</code></pre>\n<p>by using Java Streams API I want to transform stream above so that:</p>\n<ul>\n<li><code>Person</code>-s with same names should receive different strings (by adding <code>(i)</code>) in the end of the name</li>\n<li>no cycles /  if statements / interim stream terminators</li>\n<li>order of names does not matter, e.g. out of two <code>Person</code>-s with same names either of two can receive <code>(1)</code> suffix</li>\n</ul>\n<p>e.g. to a following map:</p>\n<pre><code>new HashMap&lt;String, Double&gt;() {{\n  put(&quot;Jeff Bezos&quot;, 12);\n  put(&quot;Jeff Bezos(1)(1)(1)&quot;, 165_345_678_91);\n  put(&quot;Jeff Bezos(1)(1)(2)&quot;, 1_234);\n  put(&quot;Jeff Bezos(1)&quot;, 1_234);\n  put(&quot;Jeff Bezos(1)(2)&quot;, 42);\n  put(&quot;Bill Gates&quot;, 130_000_000_000);\n}};\n</code></pre>\n<p>P.S. Complicatoion, order of <code>Person</code>s matter, person with the highest net worth should receive the cleanest name, e.g. with min suffixes etc:</p>\n<pre><code>new HashMap&lt;String, Double&gt;() {{\n  put(&quot;Jeff Bezos&quot;, 165_345_678_91);\n  put(&quot;Jeff Bezos(1)(1)(1)&quot;, 1_234);\n  put(&quot;Jeff Bezos(1)(1)(2)&quot;, 12);\n  put(&quot;Jeff Bezos(1)(2)&quot;, 42);\n  put(&quot;Jeff Bezos(1)&quot;, 1_234);\n  put(&quot;Bill Gates&quot;, 130_000_000_000);\n}};\n</code></pre>\n"},{"tags":["java","string","java-ee-6","builder","eclipse-jee"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1663679778,"post_id":73787333,"comment_id":130292899,"body_markdown":"There are better ways to do this.  One way is to simply tack `1 = 1` onto the end of your SQL statement.","body":"There are better ways to do this.  One way is to simply tack <code>1 = 1</code> onto the end of your SQL statement."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1663679808,"post_id":73787333,"comment_id":130292910,"body_markdown":"You should read the javadoc https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#delete(int,%20int)","body":"You should read the javadoc <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#delete(int,%20int)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1663679878,"post_id":73787333,"comment_id":130292935,"body_markdown":"Here&#39;s a simple way: https://www.codeproject.com/Questions/838096/How-can-I-remove-last-word-from-a-string","body":"Here&#39;s a simple way: <a href=\"https://www.codeproject.com/Questions/838096/How-can-I-remove-last-word-from-a-string\" rel=\"nofollow noreferrer\">codeproject.com/Questions/838096/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663680214,"creation_date":1663680214,"answer_id":73787453,"question_id":73787333,"body_markdown":"Step 1 is generally to check the javadoc first, _before_ asking on Stack Overflow. Had you done that, you would have found [the `StringBuilder.setLength()` method](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html#setLength(int)) which you can use to &#39;set the length&#39;. Trivially, set the length to 4 less (that same javadoc tells you that `.length()` gets you the current length, so, `builder.setLength(builder.length() - 4)` and you have your result.\r\n\r\nBut..\r\n\r\n## It&#39;s 6, not 4.\r\n\r\nAs per your own snippet, you&#39;re adding `&quot; AND  &quot;` - note the spaces. That&#39;s 6, not 4.\r\n\r\n## Swap AND\r\n\r\nA much better way to do this is to swap where/and to the front of your appends. Instead of adding ` AND` at the end every time you append another aspect of your query, instead _start_ with `AND ` (for the first entry, `WHERE `). Now the problem has gone away entirely. If that `WHERE` thing is annoying, you&#39;re always free to start a query with `SELECT stuff FROM table WHERE true` and _then_ you can get in the habit of writing each additional query rule as ` AND thingie = value` from there.\r\n\r\n## Actually, use JDBI/JOOQ\r\n\r\nJDBC is extremely low level and isn&#39;t really meant to be used like this. As you found, it&#39;s quite annoying to write code for it. That&#39;s because JDBC is low-level glue; it exists as common ground for DB engine builders and the JVM. Instead, use a library that makes &#39;talking SQL with databases from java&#39; a _lot_ easier, faster, and more sustainable (easier to maintain, test, and modify in face of change requests). Such as [JDBI](https://www.jdbi.org/) or [JOOQ](https://www.jooq.org).\r\n","title":"How can I delete last word of sentence in StringBuilder?","body":"<p>Step 1 is generally to check the javadoc first, <em>before</em> asking on Stack Overflow. Had you done that, you would have found <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html#setLength(int)\" rel=\"nofollow noreferrer\">the <code>StringBuilder.setLength()</code> method</a> which you can use to 'set the length'. Trivially, set the length to 4 less (that same javadoc tells you that <code>.length()</code> gets you the current length, so, <code>builder.setLength(builder.length() - 4)</code> and you have your result.</p>\n<p>But..</p>\n<h2>It's 6, not 4.</h2>\n<p>As per your own snippet, you're adding <code>&quot; AND  &quot;</code> - note the spaces. That's 6, not 4.</p>\n<h2>Swap AND</h2>\n<p>A much better way to do this is to swap where/and to the front of your appends. Instead of adding <code> AND</code> at the end every time you append another aspect of your query, instead <em>start</em> with <code>AND </code> (for the first entry, <code>WHERE </code>). Now the problem has gone away entirely. If that <code>WHERE</code> thing is annoying, you're always free to start a query with <code>SELECT stuff FROM table WHERE true</code> and <em>then</em> you can get in the habit of writing each additional query rule as <code> AND thingie = value</code> from there.</p>\n<h2>Actually, use JDBI/JOOQ</h2>\n<p>JDBC is extremely low level and isn't really meant to be used like this. As you found, it's quite annoying to write code for it. That's because JDBC is low-level glue; it exists as common ground for DB engine builders and the JVM. Instead, use a library that makes 'talking SQL with databases from java' a <em>lot</em> easier, faster, and more sustainable (easier to maintain, test, and modify in face of change requests). Such as <a href=\"https://www.jdbi.org/\" rel=\"nofollow noreferrer\">JDBI</a> or <a href=\"https://www.jooq.org\" rel=\"nofollow noreferrer\">JOOQ</a>.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663681469,"creation_date":1663681469,"answer_id":73787747,"question_id":73787333,"body_markdown":"It would be more logical to do less superfluous SQL.\r\n\r\n        int startWhere = builder.length();\r\n        if (type == EnumTypePrestation.OPTIQUE) {\r\n            builder.append(&quot; and d.idDossier=p.id and d.statut=4&quot;);\r\n        }\r\n        if (...) {\r\n            builder.append(&quot; and ...&quot;);\r\n        }\r\n        ...\r\n        if (builder.length() &gt; startWhere) {\r\n             builder.replace(startWhere, &quot; and&quot;.length(), &quot; where&quot;);\r\n        }\r\n\r\nThis code still is ugly. The attempt to be efficient using a StringBuilder is even error prone.\r\n\r\n    List&lt;String&gt; criteria = new ArrayList&lt;&gt;();\r\n    if (type == EnumTypePrestation.OPTIQUE) {\r\n        criteria.add(&quot;d.idDossier=p.id and d.statut=4&quot;);\r\n    }\r\n    ...\r\n    if (!criteria.empty()) {\r\n        builder.append(criteria.stream()\r\n            .collect(Collectors.joining(&quot; and &quot;, &quot; where &quot;, &quot; &quot;);\r\n        // Or:\r\n        builder.append(criteria.stream()\r\n            .collect(Collectors.joining(&quot;) and (&quot;, &quot; where (&quot;, &quot;)&quot;);\r\n    }\r\n\r\n_`joining` has here 3 parameters: separator, prefix and suffix._\r\n\r\nThere is one hard advise: do not try to make such code easier with this kind of tiny frameworks. This kind of database coding is very often done.\r\nHowever the next programmer has to learn it, instead of an existing library. And the chance people program around it or the API will show up deficits, is large.\r\nBetter invest the time looking for an existing solution. You will save time on maintenance work (new features, difficult things with prepared statements, and so on).\r\n\r\nThe answer of rzwitserloot is to the point.","title":"How can I delete last word of sentence in StringBuilder?","body":"<p>It would be more logical to do less superfluous SQL.</p>\n<pre><code>    int startWhere = builder.length();\n    if (type == EnumTypePrestation.OPTIQUE) {\n        builder.append(&quot; and d.idDossier=p.id and d.statut=4&quot;);\n    }\n    if (...) {\n        builder.append(&quot; and ...&quot;);\n    }\n    ...\n    if (builder.length() &gt; startWhere) {\n         builder.replace(startWhere, &quot; and&quot;.length(), &quot; where&quot;);\n    }\n</code></pre>\n<p>This code still is ugly. The attempt to be efficient using a StringBuilder is even error prone.</p>\n<pre><code>List&lt;String&gt; criteria = new ArrayList&lt;&gt;();\nif (type == EnumTypePrestation.OPTIQUE) {\n    criteria.add(&quot;d.idDossier=p.id and d.statut=4&quot;);\n}\n...\nif (!criteria.empty()) {\n    builder.append(criteria.stream()\n        .collect(Collectors.joining(&quot; and &quot;, &quot; where &quot;, &quot; &quot;);\n    // Or:\n    builder.append(criteria.stream()\n        .collect(Collectors.joining(&quot;) and (&quot;, &quot; where (&quot;, &quot;)&quot;);\n}\n</code></pre>\n<p><em><code>joining</code> has here 3 parameters: separator, prefix and suffix.</em></p>\n<p>There is one hard advise: do not try to make such code easier with this kind of tiny frameworks. This kind of database coding is very often done.\nHowever the next programmer has to learn it, instead of an existing library. And the chance people program around it or the API will show up deficits, is large.\nBetter invest the time looking for an existing solution. You will save time on maintenance work (new features, difficult things with prepared statements, and so on).</p>\n<p>The answer of rzwitserloot is to the point.</p>\n"}],"owner":{"account_id":26106383,"reputation":27,"user_id":19801031,"display_name":"darine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1663681469,"creation_date":1663679671,"question_id":73787333,"body_markdown":"I want to detele the last word of string in  StringBuilder here is it my code: \r\n\r\n    builder.append(&quot; where&quot;);\r\n    \t\tif(type.equals(EnumTypePrestation.OPTIQUE)){\r\n    \t\t\tbuilder.append(&quot; d.idDossier=p.id and d.statut=4 and  &quot;);\r\n    \r\n    \t\t}\r\n    \r\n    builder.substring(0,builder.lastIndexOf(&quot; &quot;)-1);\r\n\r\n\r\nthe builder contains : \t`WHERE d.idDossier = p.id AND d.statut = 4 AND`\r\n\r\nI want to remove the last word &quot;AND&quot; \r\ncan anyone help me to do that! ","title":"How can I delete last word of sentence in StringBuilder?","body":"<p>I want to detele the last word of string in  StringBuilder here is it my code:</p>\n<pre><code>builder.append(&quot; where&quot;);\n        if(type.equals(EnumTypePrestation.OPTIQUE)){\n            builder.append(&quot; d.idDossier=p.id and d.statut=4 and  &quot;);\n\n        }\n\nbuilder.substring(0,builder.lastIndexOf(&quot; &quot;)-1);\n</code></pre>\n<p>the builder contains :  <code>WHERE d.idDossier = p.id AND d.statut = 4 AND</code></p>\n<p>I want to remove the last word &quot;AND&quot;\ncan anyone help me to do that!</p>\n"},{"tags":["java","spring-batch","threadpoolexecutor"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663679430,"post_id":73787004,"comment_id":130292754,"body_markdown":"The default throttle limit is 4 (you can set that on the tasklet) which means it will at most start 4 threads at a time (or process using 4 threads at a time). Increase this if you want more concurrent processing.","body":"The default throttle limit is 4 (you can set that on the tasklet) which means it will at most start 4 threads at a time (or process using 4 threads at a time). Increase this if you want more concurrent processing."},{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1663681444,"post_id":73787004,"comment_id":130293645,"body_markdown":"Please try to avoid using words like *lac* that are not globally understood.","body":"Please try to avoid using words like <i>lac</i> that are not globally understood."},{"owner":{"account_id":16391939,"reputation":89,"user_id":11840493,"display_name":"andrew"},"score":0,"creation_date":1663687325,"post_id":73787004,"comment_id":130296038,"body_markdown":"@M.Deinum- I tried to add throttle-limit=&quot;15&quot; as below in my tasklet but still same issue.\n\n\n&lt;batch:tasklet  task-executor=&quot;threadPoolTaskExecutor&quot; throttle-limit=&quot;15&quot;&gt;\n            &lt;batch:chunk reader=&quot;inputItemReader&quot; writer=&quot;itemWriter&quot;\n                commit-interval=&quot;20000&quot; skip-limit=&quot;10000&quot;&gt;\n            &lt;/batch:chunk&gt;\n&lt;/batch:tasklet&gt;","body":"@M.Deinum- I tried to add throttle-limit=&quot;15&quot; as below in my tasklet but still same issue.   &lt;batch:tasklet  task-executor=&quot;threadPoolTaskExecutor&quot; throttle-limit=&quot;15&quot;&gt;             &lt;batch:chunk reader=&quot;inputItemReader&quot; writer=&quot;itemWriter&quot;                 commit-interval=&quot;20000&quot; skip-limit=&quot;10000&quot;&gt;             &lt;/batch:chunk&gt; &lt;/batch:tasklet&gt;"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1663714469,"post_id":73787004,"comment_id":130303892,"body_markdown":"If you increase the throttle limit, you should see more threads processing data concurrently. If this is not the case, please provide a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) the issue and I will try to dig deeper.","body":"If you increase the throttle limit, you should see more threads processing data concurrently. If this is not the case, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> the issue and I will try to dig deeper."}],"owner":{"account_id":16391939,"reputation":89,"user_id":11840493,"display_name":"andrew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663681427,"creation_date":1663678196,"question_id":73787004,"body_markdown":"I am using **threadPoolTaskExecutor** with below configuration in `Spring Batch` application.\r\n\r\n    &lt;bean id=&quot;threadPoolTaskExecutor&quot;\r\n    \t\tclass=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;&gt;\r\n    \t\t&lt;property name=&quot;corePoolSize&quot; value=&quot;10&quot;/&gt;\r\n    \t\t&lt;property name=&quot;maxPoolSize&quot; value=&quot;15&quot;/&gt;\r\n    \t\t&lt;property name=&quot;queueCapacity&quot; value=&quot;30&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nAlso  processing records in chunk  with `commit-interval=&quot;20000&quot;`.\r\n\r\n    &lt;batch:tasklet  task-executor=&quot;threadPoolTaskExecutor&quot;&gt;\r\n    \t\t\t&lt;batch:chunk reader=&quot;inputItemReader&quot; writer=&quot;itemWriter&quot;\r\n    \t\t\t\tcommit-interval=&quot;20000&quot; skip-limit=&quot;10000&quot;&gt;\r\n    \t\t\t&lt;/batch:chunk&gt;\r\n    &lt;/batch:tasklet&gt;\r\n\r\nI am processing of file with 200k records, what i am observing is\r\n\r\nIt starts 4 thread each of picking 20000 records to process. Once all the 4 threads process the records then next again 4 threads will be created to process remaining records. I am not understanding why it is creating only 4 threads  and waiting to complete. \r\n\r\nI want to process all the records `parallelly`, .i.e it should create  more than 4 threads (may be 10 threads) and process all  parallely.\r\n\r\nwhat is missing here?","title":"Spring -batch Process all the records parallelly using threadPoolTaskExecutor","body":"<p>I am using <strong>threadPoolTaskExecutor</strong> with below configuration in <code>Spring Batch</code> application.</p>\n<pre><code>&lt;bean id=&quot;threadPoolTaskExecutor&quot;\n        class=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;&gt;\n        &lt;property name=&quot;corePoolSize&quot; value=&quot;10&quot;/&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;15&quot;/&gt;\n        &lt;property name=&quot;queueCapacity&quot; value=&quot;30&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>Also  processing records in chunk  with <code>commit-interval=&quot;20000&quot;</code>.</p>\n<pre><code>&lt;batch:tasklet  task-executor=&quot;threadPoolTaskExecutor&quot;&gt;\n            &lt;batch:chunk reader=&quot;inputItemReader&quot; writer=&quot;itemWriter&quot;\n                commit-interval=&quot;20000&quot; skip-limit=&quot;10000&quot;&gt;\n            &lt;/batch:chunk&gt;\n&lt;/batch:tasklet&gt;\n</code></pre>\n<p>I am processing of file with 200k records, what i am observing is</p>\n<p>It starts 4 thread each of picking 20000 records to process. Once all the 4 threads process the records then next again 4 threads will be created to process remaining records. I am not understanding why it is creating only 4 threads  and waiting to complete.</p>\n<p>I want to process all the records <code>parallelly</code>, .i.e it should create  more than 4 threads (may be 10 threads) and process all  parallely.</p>\n<p>what is missing here?</p>\n"},{"tags":["java","eclipse","junit","libraries","hamcrest"],"comments":[{"owner":{"account_id":6920070,"reputation":474,"user_id":5313017,"accept_rate":20,"display_name":"Saim Doruklu"},"score":0,"creation_date":1575485959,"post_id":59182172,"comment_id":104586707,"body_markdown":"according to hamcrest 1.3 javadoc there seems to be a Matcher interface but it should be implemented by a concrete class http://hamcrest.org/JavaHamcrest/javadoc/1.3/\ni couldn&#39;t find the method *contains* in the interface","body":"according to hamcrest 1.3 javadoc there seems to be a Matcher interface but it should be implemented by a concrete class <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/\" rel=\"nofollow noreferrer\">hamcrest.org/JavaHamcrest/javadoc/1.3</a> i couldn&#39;t find the method <i>contains</i> in the interface"},{"owner":{"account_id":15368491,"reputation":33,"user_id":11087229,"display_name":"Jonah Downs"},"score":0,"creation_date":1575490152,"post_id":59182172,"comment_id":104588337,"body_markdown":"Sorry, I meant to say contains is in Matchers, not the Matcher interface, but my IDE doesn&#39;t find Matchers. I&#39;ve updated the post so that it&#39;s correct now.","body":"Sorry, I meant to say contains is in Matchers, not the Matcher interface, but my IDE doesn&#39;t find Matchers. I&#39;ve updated the post so that it&#39;s correct now."}],"answers":[{"tags":[],"owner":{"account_id":3200595,"reputation":2502,"user_id":2702708,"accept_rate":100,"display_name":"Krayo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663680875,"creation_date":1663680875,"answer_id":73787606,"question_id":59182172,"body_markdown":"I couldn&#39;t find it either, but I only had the **org.hamcrest-core** jar on the path. Then I realised that the Matchers class is in the **org.hamcrest-library** jar!","title":"Problem with Matcher in the Hamcrest library","body":"<p>I couldn't find it either, but I only had the <strong>org.hamcrest-core</strong> jar on the path. Then I realised that the Matchers class is in the <strong>org.hamcrest-library</strong> jar!</p>\n"}],"owner":{"account_id":15368491,"reputation":33,"user_id":11087229,"display_name":"Jonah Downs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663680875,"creation_date":1575482360,"question_id":59182172,"body_markdown":"I&#39;m following along with a learning course for Java and the person uses the ```contains()``` method in the Hamcrest library. Here&#39;s what the code looks like\r\n\r\n```\r\nimport org.junit.Test;\r\n\r\npublic class ShipmentTest\r\n{\r\n\tprivate Shipment shipment = new Shipment();\r\n\t\r\n\t@Test\r\n\tpublic void shouldAddItems() throws Exception\r\n\t{\r\n\t\tshipment.add(door);\r\n\t\tshipment.add(window);\r\n\t\t\r\n\t\tassertThat(shipment, contains(door, window));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void shouldReplaceItems() throws Exception\r\n\t{\r\n\t\tshipment.add(door);\r\n\t\tshipment.add(window);\r\n\t\t\r\n\t\tshipment.replace(door, floorPanel);\r\n\t\t\r\n\t\tassertThat(shipment, contains(floorPanel, window));\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m using Eclipse, and it doesn&#39;t recognize the ```contains()``` method, since it&#39;s part of the Hamcrest library. However, when I try to implement it, Eclipse doesn&#39;t find ```Matchers``` in the Hamcrest library. It finds ```Matcher```, ```CoreMatchers```, and ```MatcherAssert```, but not ```Matchers```, which should have the ```contains()``` method. I&#39;ve downloaded the jar file for version 1.3 of hamcrest, but even when I include it in the build path, it still does not find ```Matcher```. What should I be doing?","title":"Problem with Matcher in the Hamcrest library","body":"<p>I'm following along with a learning course for Java and the person uses the <code>contains()</code> method in the Hamcrest library. Here's what the code looks like</p>\n\n<pre><code>import org.junit.Test;\n\npublic class ShipmentTest\n{\n    private Shipment shipment = new Shipment();\n\n    @Test\n    public void shouldAddItems() throws Exception\n    {\n        shipment.add(door);\n        shipment.add(window);\n\n        assertThat(shipment, contains(door, window));\n    }\n\n    @Test\n    public void shouldReplaceItems() throws Exception\n    {\n        shipment.add(door);\n        shipment.add(window);\n\n        shipment.replace(door, floorPanel);\n\n        assertThat(shipment, contains(floorPanel, window));\n    }\n}\n</code></pre>\n\n<p>I'm using Eclipse, and it doesn't recognize the <code>contains()</code> method, since it's part of the Hamcrest library. However, when I try to implement it, Eclipse doesn't find <code>Matchers</code> in the Hamcrest library. It finds <code>Matcher</code>, <code>CoreMatchers</code>, and <code>MatcherAssert</code>, but not <code>Matchers</code>, which should have the <code>contains()</code> method. I've downloaded the jar file for version 1.3 of hamcrest, but even when I include it in the build path, it still does not find <code>Matcher</code>. What should I be doing?</p>\n"},{"tags":["java","jackson","deserialization","objectmapper"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1663673149,"post_id":73785857,"comment_id":130290357,"body_markdown":"Given that `propertyB` and `propertyC` are `int` fields, I&#39;d expect them to be 0 rather than null. But fundamentally you&#39;ve got a class - you can&#39;t change which fields are present in the class at execution time. What would you expect to happen to any code that refers to `propertyB` or `propertyC`?","body":"Given that <code>propertyB</code> and <code>propertyC</code> are <code>int</code> fields, I&#39;d expect them to be 0 rather than null. But fundamentally you&#39;ve got a class - you can&#39;t change which fields are present in the class at execution time. What would you expect to happen to any code that refers to <code>propertyB</code> or <code>propertyC</code>?"},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1663673470,"post_id":73785857,"comment_id":130290460,"body_markdown":"Oh right, sorry, in real code I have String type - Ive retyped it cause I cannot post real code.\nI would expect some exception to occur but I dont know the name :)","body":"Oh right, sorry, in real code I have String type - Ive retyped it cause I cannot post real code. I would expect some exception to occur but I dont know the name :)"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1663675252,"post_id":73785857,"comment_id":130291148,"body_markdown":"You don&#39;t have to post *the* real code, but it&#39;s a lot easier to help if you provide *representative* code. Fundamentally it sounds like you want something more dynamic than a POJO - maybe just deserialize to a map?","body":"You don&#39;t have to post <i>the</i> real code, but it&#39;s a lot easier to help if you provide <i>representative</i> code. Fundamentally it sounds like you want something more dynamic than a POJO - maybe just deserialize to a map?"},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1663675298,"post_id":73785857,"comment_id":130291173,"body_markdown":"What I am checking is:\n\nA) my model in Swagger has not all properties required \nB) In my cucumber test I have method checking whether obtained model has no nul or empty fields\nC) The reason why I want not to include nonrequired properties in POJO because I do NOT require them to occur and if they are missing I want them to be also missing from my POJO to be able to check whethe rest of properties is not null :)","body":"What I am checking is:  A) my model in Swagger has not all properties required  B) In my cucumber test I have method checking whether obtained model has no nul or empty fields C) The reason why I want not to include nonrequired properties in POJO because I do NOT require them to occur and if they are missing I want them to be also missing from my POJO to be able to check whethe rest of properties is not null :)"},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1663675375,"post_id":73785857,"comment_id":130291199,"body_markdown":"Okay sorry Ive edited my post to have Strings instead of ints","body":"Okay sorry Ive edited my post to have Strings instead of ints"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1663676360,"post_id":73785857,"comment_id":130291545,"body_markdown":"But you still haven&#39;t really clearly said what you&#39;re trying to achieve. Classes don&#39;t change at execution time. They&#39;re compiled, and the fields that are there, are there. Without knowing what you&#39;re trying to achieve in more detail, no-one will be able to help you.","body":"But you still haven&#39;t really clearly said what you&#39;re trying to achieve. Classes don&#39;t change at execution time. They&#39;re compiled, and the fields that are there, are there. Without knowing what you&#39;re trying to achieve in more detail, no-one will be able to help you."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1663676672,"post_id":73785857,"comment_id":130291654,"body_markdown":"I want to check whether my response model .hasNoNullFieldsOrProperties but only for those properties which are not required. Actually you did help me - I believe I went too far with it, I should abb tag @NotNull and a BeanValidator to my object mapper and assert that at casting stage, not later on.","body":"I want to check whether my response model .hasNoNullFieldsOrProperties but only for those properties which are not required. Actually you did help me - I believe I went too far with it, I should abb tag @NotNull and a BeanValidator to my object mapper and assert that at casting stage, not later on."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663680915,"post_id":73785857,"comment_id":130293397,"body_markdown":"And why shouldn&#39;t it include `null`? You haven&#39;t told Jackson to exclude those? See https://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null on how to configure jackson as such. For the incoming part use java bean validation with `@NotNull` and or `@NotEmpty`.","body":"And why shouldn&#39;t it include <code>null</code>? You haven&#39;t told Jackson to exclude those? See <a href=\"https://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null\" title=\"how to tell jackson to ignore a field during serialization if its value is null\">stackoverflow.com/questions/11757487/&hellip;</a> on how to configure jackson as such. For the incoming part use java bean validation with <code>@NotNull</code> and or <code>@NotEmpty</code>."}],"answers":[{"tags":[],"owner":{"account_id":24007156,"reputation":154,"user_id":17991175,"display_name":"Danial Eskandari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663677094,"creation_date":1663677094,"answer_id":73786759,"question_id":73785857,"body_markdown":"If any of your fields are not required, you have to check them whether they are null or else, while using them. Because your class is represented by all the fields you define for it, and there is no way to ignore those fields with null values.\r\n\r\nIt&#39;s possible while serializing and converting to json, but not in deserializing.","title":"Do not include property in POJO if it is null or doesn&#39;t exist in incoming JSON","body":"<p>If any of your fields are not required, you have to check them whether they are null or else, while using them. Because your class is represented by all the fields you define for it, and there is no way to ignore those fields with null values.</p>\n<p>It's possible while serializing and converting to json, but not in deserializing.</p>\n"},{"tags":[],"owner":{"account_id":11186541,"reputation":184,"user_id":8208674,"display_name":"Edson Vicente Carli Junior"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663680553,"creation_date":1663680236,"answer_id":73787460,"question_id":73785857,"body_markdown":"One solution is create your own anotation @RequiredOnLoad \r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface RequiredOnLoad { \r\n}\r\n```\r\nAnd your own load json, some like this:\r\n\r\n```\r\n//new function with check required fields\r\npublic &lt;T&gt; T myConvertJSONtoPOJO(String inputJSON,\r\n                               Class&lt;T&gt; valueType) throws Exception {\r\n   T pojo  = convertJSONtoPOJO(inputJSON,valueType);\r\n\r\n   Field[] allFields = Person.class.getDeclaredFields();\r\n\r\n   for (Field field : allFields)\r\n   {\r\n       if(field.isAnnotationPresent(RequiredOnLoad.class))\r\n       {\r\n          field.setAccessible(true);//to access private fields\r\n          Object value = field.get(pojo);\r\n          if (value == null ) \r\n          {\r\n            throw new Exception(&quot;Field is required on load!&quot;);\r\n          }\r\n       } \r\n   }\r\n\r\n   return pojo;\r\n}\r\n//old function without check\r\npublic &lt;T&gt; T convertJSONtoPOJO(String inputJSON,\r\n{\r\n...\r\n``` \r\n\r\nOf course, in your POJO you need put the annotation when you field is required in load time","title":"Do not include property in POJO if it is null or doesn&#39;t exist in incoming JSON","body":"<p>One solution is create your own anotation @RequiredOnLoad</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface RequiredOnLoad { \n}\n</code></pre>\n<p>And your own load json, some like this:</p>\n<pre><code>//new function with check required fields\npublic &lt;T&gt; T myConvertJSONtoPOJO(String inputJSON,\n                               Class&lt;T&gt; valueType) throws Exception {\n   T pojo  = convertJSONtoPOJO(inputJSON,valueType);\n\n   Field[] allFields = Person.class.getDeclaredFields();\n\n   for (Field field : allFields)\n   {\n       if(field.isAnnotationPresent(RequiredOnLoad.class))\n       {\n          field.setAccessible(true);//to access private fields\n          Object value = field.get(pojo);\n          if (value == null ) \n          {\n            throw new Exception(&quot;Field is required on load!&quot;);\n          }\n       } \n   }\n\n   return pojo;\n}\n//old function without check\npublic &lt;T&gt; T convertJSONtoPOJO(String inputJSON,\n{\n...\n</code></pre>\n<p>Of course, in your POJO you need put the annotation when you field is required in load time</p>\n"}],"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73786759,"answer_count":2,"score":1,"last_activity_date":1663680553,"creation_date":1663672761,"question_id":73785857,"body_markdown":"Hi I have the following object mapper:\r\n\r\n    public &lt;T&gt; T convertJSONtoPOJO(String inputJSON,\r\n                                   Class&lt;T&gt; valueType) throws Exception {\r\n        try {\r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n            return objectMapper.readValue(inputJSON, valueType);\r\n        } catch (Exception exception) { \r\n            //my exception which doesnt matter now\r\n        }\r\n    }\r\n\r\nAnd incoming JSON:\r\n\r\n    {\r\n        &quot;propertyA&quot;: &quot;1&quot;,\r\n        &quot;propertyB&quot;: null, \r\n    }\r\n\r\nAnd POJO:\r\n\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    @Data\r\n    public class MyClazz {\r\n        String propertyA;\r\n        String propertyB;\r\n        String propertyC;\r\n    }\r\n\r\nBy default @JsonProperty required is set to false on all of them.\r\n\r\nNow while deserializing I want to obtain POJO which does NOT include:\r\na) non-required variables if they do NOT occur in JSON\r\nb) variables which have null value.\r\n\r\nCurrently my code does NOT fail, it simply gives me the following POJO:\r\n\r\n    propertyA = 1\r\n    propertyB = null\r\n    propertyC = null\r\n\r\nBut I want to obtain POJO with only:\r\n\r\n    propertyA = 1\r\n\r\n","title":"Do not include property in POJO if it is null or doesn&#39;t exist in incoming JSON","body":"<p>Hi I have the following object mapper:</p>\n<pre><code>public &lt;T&gt; T convertJSONtoPOJO(String inputJSON,\n                               Class&lt;T&gt; valueType) throws Exception {\n    try {\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n        return objectMapper.readValue(inputJSON, valueType);\n    } catch (Exception exception) { \n        //my exception which doesnt matter now\n    }\n}\n</code></pre>\n<p>And incoming JSON:</p>\n<pre><code>{\n    &quot;propertyA&quot;: &quot;1&quot;,\n    &quot;propertyB&quot;: null, \n}\n</code></pre>\n<p>And POJO:</p>\n<pre><code>@FieldDefaults(level = AccessLevel.PRIVATE)\n@Data\npublic class MyClazz {\n    String propertyA;\n    String propertyB;\n    String propertyC;\n}\n</code></pre>\n<p>By default @JsonProperty required is set to false on all of them.</p>\n<p>Now while deserializing I want to obtain POJO which does NOT include:\na) non-required variables if they do NOT occur in JSON\nb) variables which have null value.</p>\n<p>Currently my code does NOT fail, it simply gives me the following POJO:</p>\n<pre><code>propertyA = 1\npropertyB = null\npropertyC = null\n</code></pre>\n<p>But I want to obtain POJO with only:</p>\n<pre><code>propertyA = 1\n</code></pre>\n"},{"tags":["java","spring","spring-boot","query-string"],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663680305,"creation_date":1663680305,"answer_id":73787478,"question_id":73786851,"body_markdown":"Instead of using a ```@GetMapping``` I&#39;d suggest to use ```@PostMapping``` so Spring can map the object directly from the body of the request.\r\n\r\nFollow [this link](https://stackoverflow.com/a/59420933/19979867)","title":"Make object containing map property to querystring for Java @RequestParam","body":"<p>Instead of using a <code>@GetMapping</code> I'd suggest to use <code>@PostMapping</code> so Spring can map the object directly from the body of the request.</p>\n<p>Follow <a href=\"https://stackoverflow.com/a/59420933/19979867\">this link</a></p>\n"}],"owner":{"account_id":12710481,"reputation":63,"user_id":9234265,"display_name":"Rolf R&#252;diger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663680305,"creation_date":1663677529,"question_id":73786851,"body_markdown":"  \r\nThis is my class:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Example {\r\n        private boolean taxFree;\r\n        private String email;\r\n        private Map&lt;Enum,String&gt; additionalConstraints;\r\n    }\r\n\r\n\r\nThis is my endpoint: \r\n\r\n    @GetMapping(value = &quot;/search&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic TransformedExample&lt;Example&gt; getPurchases(ExampleSearchQueryModel searchModel,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  BindingResult result) {\r\n\t\tif (result.hasErrors() || searchModel == null) {\r\n\t\t\tLOGGER.error(result.getAllErrors().toString());\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn exampleService.findByExampleSearchModel(searchModel);\r\n\t}\r\n\r\nIf i have a class and endpoint like this how would my querystring have to look like so that spring can populate the map field &quot;additionalConstraints&quot; ? \r\n\r\nadditionalConstraints.EMAIL=test\r\nor\r\nadditionConstraints[EMAIL]=test \r\n\r\nalways result in the map being mapped to null or a size(0) map. How do i do this correctly?","title":"Make object containing map property to querystring for Java @RequestParam","body":"<p>This is my class:</p>\n<pre><code>@Getter\n@Setter\npublic class Example {\n    private boolean taxFree;\n    private String email;\n    private Map&lt;Enum,String&gt; additionalConstraints;\n}\n</code></pre>\n<p>This is my endpoint:</p>\n<pre><code>@GetMapping(value = &quot;/search&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic TransformedExample&lt;Example&gt; getPurchases(ExampleSearchQueryModel searchModel,\n                                                  BindingResult result) {\n    if (result.hasErrors() || searchModel == null) {\n        LOGGER.error(result.getAllErrors().toString());\n        return null;\n    }\n\n    return exampleService.findByExampleSearchModel(searchModel);\n}\n</code></pre>\n<p>If i have a class and endpoint like this how would my querystring have to look like so that spring can populate the map field &quot;additionalConstraints&quot; ?</p>\n<p>additionalConstraints.EMAIL=test\nor\nadditionConstraints[EMAIL]=test</p>\n<p>always result in the map being mapped to null or a size(0) map. How do i do this correctly?</p>\n"},{"tags":["java","c","autoboxing","coercion","type-coercion"],"comments":[{"owner":{"account_id":372833,"reputation":86869,"user_id":722121,"accept_rate":100,"display_name":"Gareth Latty"},"score":3,"creation_date":1340033757,"post_id":11086114,"comment_id":14514661,"body_markdown":"[First result on google for `programming coercion`](https://en.wikipedia.org/wiki/Type_conversion).","body":"<a href=\"https://en.wikipedia.org/wiki/Type_conversion\" rel=\"nofollow noreferrer\">First result on google for <code>programming coercion</code></a>."},{"owner":{"account_id":4495,"reputation":335853,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"score":0,"creation_date":1340138943,"post_id":11086114,"comment_id":14552106,"body_markdown":"auto-boxing is something completely different, and wasn&#39;t in the original question.  Specifically, auto-boxing is a Java feature that (implicitly) wraps a primitive value into its &quot;Object&quot; variety, e.g. an `int` into an `Integer`.  The reverse can happen too, e.g. an `Integer` can be automatically unboxed into an `int` value.","body":"auto-boxing is something completely different, and wasn&#39;t in the original question.  Specifically, auto-boxing is a Java feature that (implicitly) wraps a primitive value into its &quot;Object&quot; variety, e.g. an <code>int</code> into an <code>Integer</code>.  The reverse can happen too, e.g. an <code>Integer</code> can be automatically unboxed into an <code>int</code> value."}],"answers":[{"tags":[],"owner":{"account_id":74861,"reputation":10346,"user_id":214919,"accept_rate":100,"display_name":"Tom Studee"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1340033767,"creation_date":1340033767,"answer_id":11086157,"question_id":11086114,"body_markdown":"Coercion refers to &quot;type coercion&quot;. In other words, you add a variable of type `Integer` to a `Float`, the `Integer` will be coerced to `Float`, and the numbers added together.","title":"What is the difference between autoboxing and coercion?","body":"<p>Coercion refers to \"type coercion\". In other words, you add a variable of type <code>Integer</code> to a <code>Float</code>, the <code>Integer</code> will be coerced to <code>Float</code>, and the numbers added together.</p>\n"},{"tags":[],"owner":{"account_id":1245453,"reputation":1616,"user_id":1207026,"accept_rate":83,"display_name":"Brandon Kreisel"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1340033787,"creation_date":1340033787,"answer_id":11086166,"question_id":11086114,"body_markdown":"Coercion is the process of changing one data type into another. http://en.wikipedia.org/wiki/Type_conversion","title":"What is the difference between autoboxing and coercion?","body":"<p>Coercion is the process of changing one data type into another. <a href=\"http://en.wikipedia.org/wiki/Type_conversion\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Type_conversion</a></p>\n"},{"tags":[],"owner":{"account_id":4495,"reputation":335853,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1340033854,"creation_date":1340033854,"answer_id":11086191,"question_id":11086114,"body_markdown":"Coercion is another name for an _implicit_ type cast, i.e. one mandated by the language rules, and not explicitly added by the programmer.","title":"What is the difference between autoboxing and coercion?","body":"<p>Coercion is another name for an <em>implicit</em> type cast, i.e. one mandated by the language rules, and not explicitly added by the programmer.</p>\n"}],"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8674,"favorite_count":0,"down_vote_count":5,"up_vote_count":7,"closed_date":1340034315,"accepted_answer_id":11086191,"answer_count":3,"score":2,"last_activity_date":1663680272,"creation_date":1340033657,"question_id":11086114,"body_markdown":"I program in Java, C and Python. \r\n\r\n&gt; The rule for automatic coercions among arithmetic types have been\r\n&gt; augmented to handle the richer set of types\r\n\r\nSource: &quot;The C Programming Language&quot;\r\n\r\nBut what does &quot;coercion&quot; mean? The answers say it&#39;s like type conversion and implicit casts and implicit type conversions and called autoboxing where I read it.\r\n\r\nWhat is the difference between autoboxing and coercion?","title":"What is the difference between autoboxing and coercion?","body":"<p>I program in Java, C and Python.</p>\n<blockquote>\n<p>The rule for automatic coercions among arithmetic types have been\naugmented to handle the richer set of types</p>\n</blockquote>\n<p>Source: &quot;The C Programming Language&quot;</p>\n<p>But what does &quot;coercion&quot; mean? The answers say it's like type conversion and implicit casts and implicit type conversions and called autoboxing where I read it.</p>\n<p>What is the difference between autoboxing and coercion?</p>\n"},{"tags":["java","redis","key","composite","spring-data-redis"],"owner":{"account_id":5701327,"reputation":532,"user_id":4506190,"display_name":"Swaram Jagtap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1663680164,"creation_date":1575523804,"question_id":59188808,"body_markdown":"I am using a spring data redis repository for retrieval and persistence into Redis. But I need the id to be composite of 2 fields. \r\n How can this be achieved? Is there any way equivalent to @EmbeddedId?","title":"How to use composite key as id in spring redis entity as equivalent to @embedded id","body":"<p>I am using a spring data redis repository for retrieval and persistence into Redis. But I need the id to be composite of 2 fields.\nHow can this be achieved? Is there any way equivalent to @EmbeddedId?</p>\n"},{"tags":["java","android","api","retrofit2"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1663678469,"post_id":73786800,"comment_id":130292347,"body_markdown":"what is the error?","body":"what is the error?"},{"owner":{"account_id":24274748,"reputation":1,"user_id":18222209,"display_name":"sidali"},"score":0,"creation_date":1663678763,"post_id":73786800,"comment_id":130292470,"body_markdown":"@Antoniossss when i use the button that intiate the call i get a toast saying &quot;not found&quot; \n which if you check the code means the call was unsuccessful, in other words am not getting any response from the api","body":"@Antoniossss when i use the button that intiate the call i get a toast saying &quot;not found&quot;   which if you check the code means the call was unsuccessful, in other words am not getting any response from the api"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1663681185,"post_id":73786800,"comment_id":130293518,"body_markdown":"Great, but I still dont know what is the response ;) `isSuccessfull` means only that response code == 200 ;) Check the actual response for some details","body":"Great, but I still dont know what is the response ;) <code>isSuccessfull</code> means only that response code == 200 ;) Check the actual response for some details"}],"answers":[{"tags":[],"owner":{"account_id":7612800,"reputation":16,"user_id":5773181,"display_name":"Jo&#227;o Pedro Pedrosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663679798,"creation_date":1663679798,"answer_id":73787360,"question_id":73786800,"body_markdown":"Try to add an interceptor so you can see all calls logs (headers, body, URLs, etc...) and see what it&#39;s the error that the API is sending.\r\n\r\nAdd `OkHtpp` to your grade dependencies:\r\n```gradle\r\nimplementation &quot;com.squareup.okhttp3:okhttp:5.0.0-alpha.2&quot;\r\nimplementation &quot;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.2&quot;\r\n````\r\n\r\nAnd after that, when you create your Retrofit instance, add the interceptor, should look something like this:\r\n\r\n```kotlin\r\nval httpClient = OkHttpClient.Builder()\r\nval interceptor = HttpLoggingInterceptor()\r\ninterceptor.setLevel(HttpLoggingInterceptor.Level.BODY)\r\nhttpClient.addInterceptor(interceptor)\r\nhttpClient.addInterceptor(Interceptor { chain: Interceptor.Chain -&gt;\r\n   val original: Request = chain.request()\r\n   val request: Request = original.newBuilder()\r\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n        .method(original.method, original.body)\r\n        .build()\r\n   chain.proceed(request)\r\n})\r\n      \r\nval okHttpClient = httpClient.build()\r\nval retrofit = Retrofit.Builder()\r\n            .baseUrl(&quot;https://api.calorieninjas.com/v1/&quot;)\r\n            .client(okHttpClient)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build()\r\n```","title":"why is my retrofit call is returning an unsuccessful response?","body":"<p>Try to add an interceptor so you can see all calls logs (headers, body, URLs, etc...) and see what it's the error that the API is sending.</p>\n<p>Add <code>OkHtpp</code> to your grade dependencies:</p>\n<pre><code>implementation &quot;com.squareup.okhttp3:okhttp:5.0.0-alpha.2&quot;\nimplementation &quot;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.2&quot;\n</code></pre>\n<p>And after that, when you create your Retrofit instance, add the interceptor, should look something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val httpClient = OkHttpClient.Builder()\nval interceptor = HttpLoggingInterceptor()\ninterceptor.setLevel(HttpLoggingInterceptor.Level.BODY)\nhttpClient.addInterceptor(interceptor)\nhttpClient.addInterceptor(Interceptor { chain: Interceptor.Chain -&gt;\n   val original: Request = chain.request()\n   val request: Request = original.newBuilder()\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .method(original.method, original.body)\n        .build()\n   chain.proceed(request)\n})\n      \nval okHttpClient = httpClient.build()\nval retrofit = Retrofit.Builder()\n            .baseUrl(&quot;https://api.calorieninjas.com/v1/&quot;)\n            .client(okHttpClient)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n</code></pre>\n"}],"owner":{"account_id":24274748,"reputation":1,"user_id":18222209,"display_name":"sidali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663679798,"creation_date":1663677291,"question_id":73786800,"body_markdown":"so basically am using retrofit to get data from an api called calorieNinja and for some reason i keep getting an unsuccessful response \r\n\r\nhere is the retrofit code :\r\n\r\n    retrofit = new Retrofit.Builder().baseUrl(&quot;https://api.calorieninjas.com/v1/&quot;)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build();\r\n                ApiCalorieNinjas apiCalorieNinjas = retrofit.create(ApiCalorieNinjas.class);\r\n                Call&lt;MealCalories&gt; call = apiCalorieNinjas.getMeal(&quot;nutrition?query= 5 eggs&quot;);\r\n                call.enqueue(new Callback&lt;MealCalories&gt;() {\r\n                    @Override\r\n                    public void onResponse(Call&lt;MealCalories&gt; call, Response&lt;MealCalories&gt; response) {\r\n                        if(!response.isSuccessful()){\r\n                            Toast.makeText(getContext(),&quot;Not Found&quot;,Toast.LENGTH_SHORT).show();\r\n                            return;\r\n                        }\r\n                        mealEaten = response.body();\r\n                        Meal meal1 = new Meal(mealEaten.getName(),mealEaten.getCalories(),mealEaten.getProtein_g(),mealEaten.getCarbohydrates_total_g());\r\n                        mealViewModel.insertMeal(meal1);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call&lt;MealCalories&gt; call, Throwable t) {\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\nbtw am using 2 different types of meal objects because one is responsible of getting the data from the api and one is used as an entity for Room databse and they dont have the same parameters so instead of just adding @Ignore i decided to use two different objects while i try fixing this problem.\r\n\r\n\r\nand here is the interface of it :\r\n\r\n    public interface ApiCalorieNinjas {\r\n    @Headers(&quot;X-Api-Key: PiQfBb0CZy2GfOZWjWyj6Tg==EdGjoESjqxQh1q4M&quot;)\r\n    @GET(&quot;{meal}&quot;)\r\n    public Call&lt;MealCalories&gt; getMeal(@Path(&quot;meal&quot;) String meal);\r\n\r\nthe api key isnt real!\r\n\r\nif additional code is needed please let me know!\r\n","title":"why is my retrofit call is returning an unsuccessful response?","body":"<p>so basically am using retrofit to get data from an api called calorieNinja and for some reason i keep getting an unsuccessful response</p>\n<p>here is the retrofit code :</p>\n<pre><code>retrofit = new Retrofit.Builder().baseUrl(&quot;https://api.calorieninjas.com/v1/&quot;)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n            ApiCalorieNinjas apiCalorieNinjas = retrofit.create(ApiCalorieNinjas.class);\n            Call&lt;MealCalories&gt; call = apiCalorieNinjas.getMeal(&quot;nutrition?query= 5 eggs&quot;);\n            call.enqueue(new Callback&lt;MealCalories&gt;() {\n                @Override\n                public void onResponse(Call&lt;MealCalories&gt; call, Response&lt;MealCalories&gt; response) {\n                    if(!response.isSuccessful()){\n                        Toast.makeText(getContext(),&quot;Not Found&quot;,Toast.LENGTH_SHORT).show();\n                        return;\n                    }\n                    mealEaten = response.body();\n                    Meal meal1 = new Meal(mealEaten.getName(),mealEaten.getCalories(),mealEaten.getProtein_g(),mealEaten.getCarbohydrates_total_g());\n                    mealViewModel.insertMeal(meal1);\n                }\n\n                @Override\n                public void onFailure(Call&lt;MealCalories&gt; call, Throwable t) {\n\n                }\n            });\n        }\n    });\n</code></pre>\n<p>btw am using 2 different types of meal objects because one is responsible of getting the data from the api and one is used as an entity for Room databse and they dont have the same parameters so instead of just adding @Ignore i decided to use two different objects while i try fixing this problem.</p>\n<p>and here is the interface of it :</p>\n<pre><code>public interface ApiCalorieNinjas {\n@Headers(&quot;X-Api-Key: PiQfBb0CZy2GfOZWjWyj6Tg==EdGjoESjqxQh1q4M&quot;)\n@GET(&quot;{meal}&quot;)\npublic Call&lt;MealCalories&gt; getMeal(@Path(&quot;meal&quot;) String meal);\n</code></pre>\n<p>the api key isnt real!</p>\n<p>if additional code is needed please let me know!</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663679428,"creation_date":1663679428,"answer_id":73787264,"question_id":73787112,"body_markdown":"You mocked the interface `userInterface` with an empty mock. This does nothing.\r\n\r\nYou should return a user object if the method is called:\r\n\r\n    class RecipeTest{\r\n      \r\n      @InjectMock private RecipeService recipeService;\r\n      @Mock private RecipeRepository recipeRepository;\r\n      @Mock private UserInterface userInterface;\r\n    \r\n      @BeforeEach\r\n      void setUp(){\r\n        recipeService = new RecipeService(userInterface);\r\n      }\r\n      \r\n    \r\n          @Test\r\n          void getRecipe(){\r\n            Recipe recipe = new Recipe();\r\n            recipe.setId(1L);\r\n            recipe.setTitle(&quot;SomeTitle&quot;);\r\n        \r\n            when(userInterface.currentUser()).thenReturn(new User())\r\n            when(recipeRepository.findById(1L)).thenReturn(Optional.of(recipe))\r\n            \r\n            recipeService.getRecipe(1L);\r\n            verify(recipeRepository).findById(1L);\r\n          } \r\n        }\r\n\r\n","title":"How to test a method that is dependent on another method from different service?","body":"<p>You mocked the interface <code>userInterface</code> with an empty mock. This does nothing.</p>\n<p>You should return a user object if the method is called:</p>\n<pre><code>class RecipeTest{\n  \n  @InjectMock private RecipeService recipeService;\n  @Mock private RecipeRepository recipeRepository;\n  @Mock private UserInterface userInterface;\n\n  @BeforeEach\n  void setUp(){\n    recipeService = new RecipeService(userInterface);\n  }\n  \n\n      @Test\n      void getRecipe(){\n        Recipe recipe = new Recipe();\n        recipe.setId(1L);\n        recipe.setTitle(&quot;SomeTitle&quot;);\n    \n        when(userInterface.currentUser()).thenReturn(new User())\n        when(recipeRepository.findById(1L)).thenReturn(Optional.of(recipe))\n        \n        recipeService.getRecipe(1L);\n        verify(recipeRepository).findById(1L);\n      } \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26390971,"reputation":13,"user_id":20042838,"display_name":"Kurtis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663679528,"creation_date":1663679528,"answer_id":73787294,"question_id":73787112,"body_markdown":"You&#39;re mocking the UserInterface. You need to have a when().thenReturn() for the currentUser() method","title":"How to test a method that is dependent on another method from different service?","body":"<p>You're mocking the UserInterface. You need to have a when().thenReturn() for the currentUser() method</p>\n"},{"tags":[],"owner":{"account_id":18853736,"reputation":28,"user_id":13752229,"display_name":"Konkord360"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663679597,"creation_date":1663679597,"answer_id":73787312,"question_id":73787112,"body_markdown":"It seems that you have an error on the RecipeService line as there is no @InjectMock annotation in Mockito. It should be @InjectMocks in plural.\r\n\r\nAlso the test structure isn&#39;t really proper. If you want a method to return a fixed user you should also mock it in the test like that\r\n\r\n    when(UserInterface.currentUser()).thenReturn(new User());\r\n\r\n","title":"How to test a method that is dependent on another method from different service?","body":"<p>It seems that you have an error on the RecipeService line as there is no @InjectMock annotation in Mockito. It should be @InjectMocks in plural.</p>\n<p>Also the test structure isn't really proper. If you want a method to return a fixed user you should also mock it in the test like that</p>\n<pre><code>when(UserInterface.currentUser()).thenReturn(new User());\n</code></pre>\n"}],"owner":{"account_id":23727935,"reputation":117,"user_id":17747601,"display_name":"m_novak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73787264,"answer_count":3,"score":0,"last_activity_date":1663679597,"creation_date":1663678661,"question_id":73787112,"body_markdown":"So I have UserService and UserInterface, where there is a method that returns a fixed user.\r\n\r\n    public User currentUser(){\r\n      User user = new User();\r\n      user.setId(1L);\r\n      user.setName(&quot;Steve&quot;);\r\n      return user;\r\n    }\r\n\r\nI also have a RecipeService, where the getRecipe method is located, which I want to test. In this method, I first check if the user ID of the user who created the recipe is the same as the currentUser ID. If yes, the recipe is returned to the user.\r\n\r\n    public Recipe getRecipe(Long id){\r\n      User user = userInterface.currentUser();\r\n      Recipe recipe = recipeRepository.findById(id);\r\n    \r\n      if(user.getId == recipe.getUser.getId()){\r\n        return recipe;\r\n      }\r\n      \r\n      return null;\r\n    }\r\n\r\nSo my test looks like this:\r\n\r\n    class RecipeTest{\r\n      \r\n      @InjectMock private RecipeService recipeService;\r\n      @Mock private RecipeRepository recipeRepository;\r\n      @Mock private UserInterface userInterface;\r\n    \r\n      @BeforeEach\r\n      void setUp(){\r\n        recipeService = new RecipeService(userInterface);\r\n      }\r\n      \r\n      @Test\r\n      void getRecipe(){\r\n        Recipe recipe = new Recipe();\r\n        recipe.setId(1L);\r\n        recipe.setTitle(&quot;SomeTitle&quot;);\r\n    \r\n        when(recipeRepository.findById(1L)).thenReturn(Optional.of(recipe))\r\n        \r\n        recipeService.getRecipe(1L);\r\n        verify(recipeRepository).findById(1L);\r\n      } \r\n    }\r\n\r\nWhen I start the test, Im getting error that currentUser that is called from UserInterface in the getRecipe method is null (when comparing IDs in the if statment). It looks like the method currentUser() is not called.\r\n\r\nCan you guys tell me what am I doing wrong? \r\n\r\n","title":"How to test a method that is dependent on another method from different service?","body":"<p>So I have UserService and UserInterface, where there is a method that returns a fixed user.</p>\n<pre><code>public User currentUser(){\n  User user = new User();\n  user.setId(1L);\n  user.setName(&quot;Steve&quot;);\n  return user;\n}\n</code></pre>\n<p>I also have a RecipeService, where the getRecipe method is located, which I want to test. In this method, I first check if the user ID of the user who created the recipe is the same as the currentUser ID. If yes, the recipe is returned to the user.</p>\n<pre><code>public Recipe getRecipe(Long id){\n  User user = userInterface.currentUser();\n  Recipe recipe = recipeRepository.findById(id);\n\n  if(user.getId == recipe.getUser.getId()){\n    return recipe;\n  }\n  \n  return null;\n}\n</code></pre>\n<p>So my test looks like this:</p>\n<pre><code>class RecipeTest{\n  \n  @InjectMock private RecipeService recipeService;\n  @Mock private RecipeRepository recipeRepository;\n  @Mock private UserInterface userInterface;\n\n  @BeforeEach\n  void setUp(){\n    recipeService = new RecipeService(userInterface);\n  }\n  \n  @Test\n  void getRecipe(){\n    Recipe recipe = new Recipe();\n    recipe.setId(1L);\n    recipe.setTitle(&quot;SomeTitle&quot;);\n\n    when(recipeRepository.findById(1L)).thenReturn(Optional.of(recipe))\n    \n    recipeService.getRecipe(1L);\n    verify(recipeRepository).findById(1L);\n  } \n}\n</code></pre>\n<p>When I start the test, Im getting error that currentUser that is called from UserInterface in the getRecipe method is null (when comparing IDs in the if statment). It looks like the method currentUser() is not called.</p>\n<p>Can you guys tell me what am I doing wrong?</p>\n"},{"tags":["javascript","java","html","vaadin","web-component"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663679346,"creation_date":1663679346,"answer_id":73787251,"question_id":73785120,"body_markdown":"This happens because your component is not setting &quot;id&quot; of the element. And in your case there is accidentally other div with id=outlet, and your JavaScript `document.getElementById(&quot;outlet&quot;);` finds it and uses it as element where it builds the Network.\r\n\r\nI would do it this way\r\n\r\n    @JsModule(&quot;./visjs-test.js&quot;)\r\n    @NpmPackage(value = &quot;vis&quot;, version = &quot;0.110.0&quot;)\r\n    @Tag(&quot;div&quot;)\r\n    public class VisJs extends Composite&lt;Div&gt; {\r\n    \r\n        public VisJs(List&lt;VisJsEdge&gt; edges, List&lt;VisJsNode&gt; nodes) throws JsonProcessingException {\r\n            String id=randomId(10);\r\n            setId();\r\n            ...\r\n            getElement().executeJs(&quot;window.initThree($0, $1, $2)&quot;, this, jsonEdges, jsonNodes, id);\r\n        }\r\n        \r\n        private String randomId(int chars) {\r\n            int limit = (10 * chars) - 1;\r\n            String key = &quot;&quot; + rand.nextInt(limit);\r\n            key = String.format(&quot;%&quot; + chars + &quot;s&quot;, key).replace(&#39; &#39;, &#39;0&#39;);\r\n            return &quot;vis-&quot; + key;\r\n        }\r\n\r\nAnd naturally update the `initThree` function you have set to `window` to use that `id` parameter.\r\n\r\nYou need to have unique id for each component instance. This way you can create multiple components on the same view. Otherwise new instances would ruin the old ones.","title":"Tagged Custom Vaadin Component is not added to the MainView layout","body":"<p>This happens because your component is not setting &quot;id&quot; of the element. And in your case there is accidentally other div with id=outlet, and your JavaScript <code>document.getElementById(&quot;outlet&quot;);</code> finds it and uses it as element where it builds the Network.</p>\n<p>I would do it this way</p>\n<pre><code>@JsModule(&quot;./visjs-test.js&quot;)\n@NpmPackage(value = &quot;vis&quot;, version = &quot;0.110.0&quot;)\n@Tag(&quot;div&quot;)\npublic class VisJs extends Composite&lt;Div&gt; {\n\n    public VisJs(List&lt;VisJsEdge&gt; edges, List&lt;VisJsNode&gt; nodes) throws JsonProcessingException {\n        String id=randomId(10);\n        setId();\n        ...\n        getElement().executeJs(&quot;window.initThree($0, $1, $2)&quot;, this, jsonEdges, jsonNodes, id);\n    }\n    \n    private String randomId(int chars) {\n        int limit = (10 * chars) - 1;\n        String key = &quot;&quot; + rand.nextInt(limit);\n        key = String.format(&quot;%&quot; + chars + &quot;s&quot;, key).replace(' ', '0');\n        return &quot;vis-&quot; + key;\n    }\n</code></pre>\n<p>And naturally update the <code>initThree</code> function you have set to <code>window</code> to use that <code>id</code> parameter.</p>\n<p>You need to have unique id for each component instance. This way you can create multiple components on the same view. Otherwise new instances would ruin the old ones.</p>\n"}],"owner":{"account_id":26389231,"reputation":23,"user_id":20041316,"display_name":"Niyaz Karimov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73787251,"answer_count":1,"score":2,"last_activity_date":1663679346,"creation_date":1663668999,"question_id":73785120,"body_markdown":"I&#39;m trying to add my custom vis component to MainView VerticalLayout. But it is rendered above the layout and the layout itself contains an empty component tag.\r\n\r\n#### Custom component code\r\nHere I&#39;m tagging my component as &quot;div&quot;\r\n```\r\n@JsModule(&quot;./visjs-test.js&quot;)\r\n@NpmPackage(value = &quot;vis&quot;, version = &quot;0.110.0&quot;)\r\n@Tag(&quot;div&quot;)\r\npublic class VisJs extends Component {\r\n\r\n    public VisJs(List&lt;VisJsEdge&gt; edges, List&lt;VisJsNode&gt; nodes) throws JsonProcessingException {\r\n        ObjectWriter owForEdges = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n        ObjectWriter owForNodes = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n\r\n        String jsonEdges = owForEdges.writeValueAsString(edges);\r\n        String jsonNodes = owForNodes.writeValueAsString(nodes);\r\n\r\n        getElement().executeJs(&quot;window.initThree($0, $1, $2)&quot;, this, jsonEdges, jsonNodes);\r\n    }\r\n}\r\n```\r\n\r\n#### visjs-test.js:\r\nHere I&#39;m filling nodes and edge of future network and trying to render it\r\n```\r\nimport {DataSet, Network} from &quot;vis&quot;;\r\n\r\nclass VisJsTest {\r\n    init(element, edges, nodes) {\r\n        this.element = element;\r\n\r\n        var loadedNodes = JSON.parse(nodes);\r\n        \r\n        var _this = this;\r\n        var step;\r\n        for (step = 0; step &lt; loadedNodes.length; step++) {\r\n            loadedNodes[step] = this.fillNode(loadedNodes[step]);\r\n        }\r\n        this.nodes = new DataSet(loadedNodes);\r\n        \r\n        var loadedEdges = JSON.parse(edges);\r\n        for (step = 0; step &lt; loadedEdges.length; step++) {\r\n            loadedEdges[step] = this.fillEdge(loadedEdges[step]);\r\n        }\r\n        this.edges = new DataSet(loadedEdges);\r\n\r\n        this.container = document.getElementById(&quot;outlet&quot;);\r\n        \r\n        this.data = {\r\n            nodes: this.nodes,\r\n            edges: this.edges,\r\n        };\r\n        var options = {};\r\n        this.network = new Network(this.container, this.data, options);\r\n}\r\n```\r\n\r\n#### Rendered HTML \r\n```\r\n&lt;div id=&quot;outlet&quot;&gt;\r\n   &lt;!-- Network is here, but not must be --&gt;\r\n   &lt;div class=&quot;vis-network&quot; tabindex=&quot;900&quot; style=&quot;position: relative; overflow: hidden; touch-action: pan-y; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); width: 100%; height: 100%;&quot;&gt;\r\n      &lt;canvas style=&quot;position: relative; touch-action: none; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); width: 100%; height: 100%;&quot; width=&quot;1260&quot; height=&quot;563&quot;&gt;&lt;/canvas&gt;\r\n   &lt;/div&gt;\r\n   &lt;flow-container-root-2521314 id=&quot;ROOT-2521314&quot; style=&quot;&quot;&gt;\r\n      &lt;vaadin-vertical-layout theme=&quot;padding spacing&quot; id=&quot;mainview&quot; style=&quot;width: 100%;&quot;&gt;\r\n         ...\r\n         &lt;vaadin-button tabindex=&quot;0&quot; role=&quot;button&quot;&gt;Add node&lt;/vaadin-button&gt;\r\n         &lt;vaadin-horizontal-layout theme=&quot;spacing&quot;&gt;\r\n            &lt;vaadin-upload target=&quot;VAADIN/dynamic/resource/3/c968ce30-4fc1-4e36-8d06-ddba9ecfbfd1/upload&quot;&gt;&lt;/vaadin-upload&gt;\r\n            &lt;vaadin-button disabled=&quot;&quot; tabindex=&quot;-1&quot; aria-disabled=&quot;true&quot; role=&quot;button&quot;&gt;Load data to XML&lt;/vaadin-button&gt;\r\n         &lt;/vaadin-horizontal-layout&gt;\r\n         ... \r\n         &lt;div&gt;&lt;/div&gt; &lt;!-- Network must be here --&gt;\r\n         ...\r\n      &lt;/vaadin-vertical-layout&gt;\r\n   &lt;/flow-container-root-2521314&gt;\r\n&lt;/div&gt;\r\n```","title":"Tagged Custom Vaadin Component is not added to the MainView layout","body":"<p>I'm trying to add my custom vis component to MainView VerticalLayout. But it is rendered above the layout and the layout itself contains an empty component tag.</p>\n<h4>Custom component code</h4>\n<p>Here I'm tagging my component as &quot;div&quot;</p>\n<pre><code>@JsModule(&quot;./visjs-test.js&quot;)\n@NpmPackage(value = &quot;vis&quot;, version = &quot;0.110.0&quot;)\n@Tag(&quot;div&quot;)\npublic class VisJs extends Component {\n\n    public VisJs(List&lt;VisJsEdge&gt; edges, List&lt;VisJsNode&gt; nodes) throws JsonProcessingException {\n        ObjectWriter owForEdges = new ObjectMapper().writer().withDefaultPrettyPrinter();\n        ObjectWriter owForNodes = new ObjectMapper().writer().withDefaultPrettyPrinter();\n\n        String jsonEdges = owForEdges.writeValueAsString(edges);\n        String jsonNodes = owForNodes.writeValueAsString(nodes);\n\n        getElement().executeJs(&quot;window.initThree($0, $1, $2)&quot;, this, jsonEdges, jsonNodes);\n    }\n}\n</code></pre>\n<h4>visjs-test.js:</h4>\n<p>Here I'm filling nodes and edge of future network and trying to render it</p>\n<pre><code>import {DataSet, Network} from &quot;vis&quot;;\n\nclass VisJsTest {\n    init(element, edges, nodes) {\n        this.element = element;\n\n        var loadedNodes = JSON.parse(nodes);\n        \n        var _this = this;\n        var step;\n        for (step = 0; step &lt; loadedNodes.length; step++) {\n            loadedNodes[step] = this.fillNode(loadedNodes[step]);\n        }\n        this.nodes = new DataSet(loadedNodes);\n        \n        var loadedEdges = JSON.parse(edges);\n        for (step = 0; step &lt; loadedEdges.length; step++) {\n            loadedEdges[step] = this.fillEdge(loadedEdges[step]);\n        }\n        this.edges = new DataSet(loadedEdges);\n\n        this.container = document.getElementById(&quot;outlet&quot;);\n        \n        this.data = {\n            nodes: this.nodes,\n            edges: this.edges,\n        };\n        var options = {};\n        this.network = new Network(this.container, this.data, options);\n}\n</code></pre>\n<h4>Rendered HTML</h4>\n<pre><code>&lt;div id=&quot;outlet&quot;&gt;\n   &lt;!-- Network is here, but not must be --&gt;\n   &lt;div class=&quot;vis-network&quot; tabindex=&quot;900&quot; style=&quot;position: relative; overflow: hidden; touch-action: pan-y; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); width: 100%; height: 100%;&quot;&gt;\n      &lt;canvas style=&quot;position: relative; touch-action: none; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); width: 100%; height: 100%;&quot; width=&quot;1260&quot; height=&quot;563&quot;&gt;&lt;/canvas&gt;\n   &lt;/div&gt;\n   &lt;flow-container-root-2521314 id=&quot;ROOT-2521314&quot; style=&quot;&quot;&gt;\n      &lt;vaadin-vertical-layout theme=&quot;padding spacing&quot; id=&quot;mainview&quot; style=&quot;width: 100%;&quot;&gt;\n         ...\n         &lt;vaadin-button tabindex=&quot;0&quot; role=&quot;button&quot;&gt;Add node&lt;/vaadin-button&gt;\n         &lt;vaadin-horizontal-layout theme=&quot;spacing&quot;&gt;\n            &lt;vaadin-upload target=&quot;VAADIN/dynamic/resource/3/c968ce30-4fc1-4e36-8d06-ddba9ecfbfd1/upload&quot;&gt;&lt;/vaadin-upload&gt;\n            &lt;vaadin-button disabled=&quot;&quot; tabindex=&quot;-1&quot; aria-disabled=&quot;true&quot; role=&quot;button&quot;&gt;Load data to XML&lt;/vaadin-button&gt;\n         &lt;/vaadin-horizontal-layout&gt;\n         ... \n         &lt;div&gt;&lt;/div&gt; &lt;!-- Network must be here --&gt;\n         ...\n      &lt;/vaadin-vertical-layout&gt;\n   &lt;/flow-container-root-2521314&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1556651866,"creation_date":1556651866,"answer_id":55927413,"question_id":55923893,"body_markdown":"[ErrorHandlingDeserializer][1]\r\n\r\n&gt; **When a deserializer fails to deserialize a message, Spring has no way to handle the problem because it occurs before the poll() returns.** To solve this problem, **version 2.2 introduced the ErrorHandlingDeserializer.** This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the ErrorHandlingDeserializer returns a DeserializationException instead, containing the cause and raw bytes. **When using a record-level MessageListener, if either the key or value contains a DeserializationException, the container’s ErrorHandler is called with the failed ConsumerRecord.** When using a BatchMessageListener, the failed record is passed to the application along with the remaining records in the batch, so it is the responsibility of the application listener to check whether the key or value in a particular record is a DeserializationException.\r\n\r\nSo according to your code you are using `record-level MessageListener` then just add `ErrorHandler` to `Container`\r\n\r\n[Handling Exceptions][2]\r\n\r\n&gt;If your error handler implements this interface you can, for example, adjust the offsets accordingly. For example, to reset the offset to replay the failed message, you could do something like the following; note however, these are simplistic implementations and you would probably want more checking in the error handler.\r\n\r\n    @Bean\r\n    public ConsumerAwareListenerErrorHandler listen3ErrorHandler() {\r\n    return (m, e, c) -&gt; {\r\n        this.listen3Exception = e;\r\n        MessageHeaders headers = m.getHeaders();\r\n        c.seek(new org.apache.kafka.common.TopicPartition(\r\n                headers.get(KafkaHeaders.RECEIVED_TOPIC, String.class),\r\n                headers.get(KafkaHeaders.RECEIVED_PARTITION_ID, Integer.class)),\r\n                headers.get(KafkaHeaders.OFFSET, Long.class));\r\n        return null;\r\n       };\r\n    }\r\n\r\nOr you can do custom implementation like in this example\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, GenericRecord&gt;\r\n    kafkaListenerContainerFactory()  {\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, GenericRecord&gt; factory\r\n                = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.getContainerProperties().setErrorHandler(new ErrorHandler() {\r\n            @Override\r\n            public void handle(Exception thrownException, List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records, Consumer&lt;?, ?&gt; consumer, MessageListenerContainer container) {\r\n                String s = thrownException.getMessage().split(&quot;Error deserializing key/value for partition &quot;)[1].split(&quot;. If needed, please seek past the record to continue consumption.&quot;)[0];\r\n                String topics = s.split(&quot;-&quot;)[0];\r\n                int offset = Integer.valueOf(s.split(&quot;offset &quot;)[1]);\r\n                int partition = Integer.valueOf(s.split(&quot;-&quot;)[1].split(&quot; at&quot;)[0]);\r\n\r\n                TopicPartition topicPartition = new TopicPartition(topics, partition);\r\n                //log.info(&quot;Skipping &quot; + topic + &quot;-&quot; + partition + &quot; offset &quot; + offset);\r\n                consumer.seek(topicPartition, offset + 1);\r\n                System.out.println(&quot;OKKKKK&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void handle(Exception e, ConsumerRecord&lt;?, ?&gt; consumerRecord) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void handle(Exception e, ConsumerRecord&lt;?, ?&gt; consumerRecord, Consumer&lt;?,?&gt; consumer) {\r\n                String s = e.getMessage().split(&quot;Error deserializing key/value for partition &quot;)[1].split(&quot;. If needed, please seek past the record to continue consumption.&quot;)[0];\r\n                String topics = s.split(&quot;-&quot;)[0];\r\n                int offset = Integer.valueOf(s.split(&quot;offset &quot;)[1]);\r\n                int partition = Integer.valueOf(s.split(&quot;-&quot;)[1].split(&quot; at&quot;)[0]);\r\n\r\n                TopicPartition topicPartition = new TopicPartition(topics, partition);\r\n                //log.info(&quot;Skipping &quot; + topic + &quot;-&quot; + partition + &quot; offset &quot; + offset);\r\n                consumer.seek(topicPartition, offset + 1);\r\n                System.out.println(&quot;OKKKKK&quot;);\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n        return factory;\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/docs/2.2.0.RELEASE/reference/html/_reference.html#error-handling-deserializer\r\n  [2]: https://docs.spring.io/spring-kafka/docs/2.2.0.RELEASE/reference/html/_reference.html#annotation-error-handling","title":"How to catch deserialization error in Kafka-Spring?","body":"<p><a href=\"https://docs.spring.io/spring-kafka/docs/2.2.0.RELEASE/reference/html/_reference.html#error-handling-deserializer\" rel=\"noreferrer\">ErrorHandlingDeserializer</a></p>\n\n<blockquote>\n  <p><strong>When a deserializer fails to deserialize a message, Spring has no way to handle the problem because it occurs before the poll() returns.</strong> To solve this problem, <strong>version 2.2 introduced the ErrorHandlingDeserializer.</strong> This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the ErrorHandlingDeserializer returns a DeserializationException instead, containing the cause and raw bytes. <strong>When using a record-level MessageListener, if either the key or value contains a DeserializationException, the container’s ErrorHandler is called with the failed ConsumerRecord.</strong> When using a BatchMessageListener, the failed record is passed to the application along with the remaining records in the batch, so it is the responsibility of the application listener to check whether the key or value in a particular record is a DeserializationException.</p>\n</blockquote>\n\n<p>So according to your code you are using <code>record-level MessageListener</code> then just add <code>ErrorHandler</code> to <code>Container</code></p>\n\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/2.2.0.RELEASE/reference/html/_reference.html#annotation-error-handling\" rel=\"noreferrer\">Handling Exceptions</a></p>\n\n<blockquote>\n  <p>If your error handler implements this interface you can, for example, adjust the offsets accordingly. For example, to reset the offset to replay the failed message, you could do something like the following; note however, these are simplistic implementations and you would probably want more checking in the error handler.</p>\n</blockquote>\n\n<pre><code>@Bean\npublic ConsumerAwareListenerErrorHandler listen3ErrorHandler() {\nreturn (m, e, c) -&gt; {\n    this.listen3Exception = e;\n    MessageHeaders headers = m.getHeaders();\n    c.seek(new org.apache.kafka.common.TopicPartition(\n            headers.get(KafkaHeaders.RECEIVED_TOPIC, String.class),\n            headers.get(KafkaHeaders.RECEIVED_PARTITION_ID, Integer.class)),\n            headers.get(KafkaHeaders.OFFSET, Long.class));\n    return null;\n   };\n}\n</code></pre>\n\n<p>Or you can do custom implementation like in this example</p>\n\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, GenericRecord&gt;\nkafkaListenerContainerFactory()  {\n\n    ConcurrentKafkaListenerContainerFactory&lt;String, GenericRecord&gt; factory\n            = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    factory.getContainerProperties().setErrorHandler(new ErrorHandler() {\n        @Override\n        public void handle(Exception thrownException, List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records, Consumer&lt;?, ?&gt; consumer, MessageListenerContainer container) {\n            String s = thrownException.getMessage().split(\"Error deserializing key/value for partition \")[1].split(\". If needed, please seek past the record to continue consumption.\")[0];\n            String topics = s.split(\"-\")[0];\n            int offset = Integer.valueOf(s.split(\"offset \")[1]);\n            int partition = Integer.valueOf(s.split(\"-\")[1].split(\" at\")[0]);\n\n            TopicPartition topicPartition = new TopicPartition(topics, partition);\n            //log.info(\"Skipping \" + topic + \"-\" + partition + \" offset \" + offset);\n            consumer.seek(topicPartition, offset + 1);\n            System.out.println(\"OKKKKK\");\n        }\n\n        @Override\n        public void handle(Exception e, ConsumerRecord&lt;?, ?&gt; consumerRecord) {\n\n        }\n\n        @Override\n        public void handle(Exception e, ConsumerRecord&lt;?, ?&gt; consumerRecord, Consumer&lt;?,?&gt; consumer) {\n            String s = e.getMessage().split(\"Error deserializing key/value for partition \")[1].split(\". If needed, please seek past the record to continue consumption.\")[0];\n            String topics = s.split(\"-\")[0];\n            int offset = Integer.valueOf(s.split(\"offset \")[1]);\n            int partition = Integer.valueOf(s.split(\"-\")[1].split(\" at\")[0]);\n\n            TopicPartition topicPartition = new TopicPartition(topics, partition);\n            //log.info(\"Skipping \" + topic + \"-\" + partition + \" offset \" + offset);\n            consumer.seek(topicPartition, offset + 1);\n            System.out.println(\"OKKKKK\");\n\n\n        }\n    });\n\n\n    return factory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8444814,"reputation":131,"user_id":6335902,"display_name":"Sathish Soundararajan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606223595,"creation_date":1606223595,"answer_id":64987273,"question_id":55923893,"body_markdown":"Above answer may have problem if the partion name have character like &#39;-&#39;. so, i have modified same logic with regex.\r\n\r\n        import java.util.List;\r\n        import java.util.regex.Matcher;\r\n        import java.util.regex.Pattern;\r\n        \r\n        import org.apache.kafka.clients.consumer.Consumer;\r\n        import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n        import org.apache.kafka.common.TopicPartition;\r\n        import org.apache.kafka.common.errors.SerializationException;\r\n        import org.springframework.kafka.listener.ErrorHandler;\r\n        import org.springframework.kafka.listener.MessageListenerContainer;\r\n        \r\n        import lombok.extern.slf4j.Slf4j;\r\n        \r\n        @Slf4j\r\n        public class KafkaErrHandler implements ErrorHandler {\r\n        \r\n            /**\r\n             * Method prevents serialization error freeze\r\n             * \r\n             * @param e\r\n             * @param consumer\r\n             */\r\n            private void seekSerializeException(Exception e, Consumer&lt;?, ?&gt; consumer) {\r\n                String p = &quot;.*partition (.*) at offset ([0-9]*).*&quot;;\r\n                Pattern r = Pattern.compile(p);\r\n        \r\n                Matcher m = r.matcher(e.getMessage());\r\n        \r\n                if (m.find()) {\r\n                    int idx = m.group(1).lastIndexOf(&quot;-&quot;);\r\n                    String topics = m.group(1).substring(0, idx);\r\n                    int partition = Integer.parseInt(m.group(1).substring(idx));\r\n                    int offset = Integer.parseInt(m.group(2));\r\n        \r\n                    TopicPartition topicPartition = new TopicPartition(topics, partition);\r\n        \r\n                    consumer.seek(topicPartition, (offset + 1));\r\n        \r\n                    log.info(&quot;Skipped message with offset {} from partition {}&quot;, offset, partition);\r\n                }\r\n            }\r\n        \r\n            @Override\r\n            public void handle(Exception e, ConsumerRecord&lt;?, ?&gt; record, Consumer&lt;?, ?&gt; consumer) {\r\n                log.error(&quot;Error in process with Exception {} and the record is {}&quot;, e, record);\r\n        \r\n                if (e instanceof SerializationException)\r\n                    seekSerializeException(e, consumer);\r\n            }\r\n        \r\n            @Override\r\n            public void handle(Exception e, List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records, Consumer&lt;?, ?&gt; consumer,\r\n                    MessageListenerContainer container) {\r\n                log.error(&quot;Error in process with Exception {} and the records are {}&quot;, e, records);\r\n        \r\n                if (e instanceof SerializationException)\r\n                    seekSerializeException(e, consumer);\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public void handle(Exception e, ConsumerRecord&lt;?, ?&gt; record) {\r\n                log.error(&quot;Error in process with Exception {} and the record is {}&quot;, e, record);\r\n            }\r\n        \r\n        } \r\n\r\nfinally use the error handler in config.\r\n\r\n     @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, GenericType&gt; macdStatusListenerFactory() {\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, GenericType&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(macdStatusConsumerFactory());\r\n        factory.setRetryTemplate(retryTemplate());\r\n        factory.setErrorHandler(new KafkaErrHandler());\r\n\r\n        return factory;\r\n    }\r\n\r\n\r\n\r\n\r\nHowever parsing error string to get parition, topic and offset is not recommended. If anyone have better solution please post here.\r\n","title":"How to catch deserialization error in Kafka-Spring?","body":"<p>Above answer may have problem if the partion name have character like '-'. so, i have modified same logic with regex.</p>\n<pre><code>    import java.util.List;\n    import java.util.regex.Matcher;\n    import java.util.regex.Pattern;\n    \n    import org.apache.kafka.clients.consumer.Consumer;\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\n    import org.apache.kafka.common.TopicPartition;\n    import org.apache.kafka.common.errors.SerializationException;\n    import org.springframework.kafka.listener.ErrorHandler;\n    import org.springframework.kafka.listener.MessageListenerContainer;\n    \n    import lombok.extern.slf4j.Slf4j;\n    \n    @Slf4j\n    public class KafkaErrHandler implements ErrorHandler {\n    \n        /**\n         * Method prevents serialization error freeze\n         * \n         * @param e\n         * @param consumer\n         */\n        private void seekSerializeException(Exception e, Consumer&lt;?, ?&gt; consumer) {\n            String p = &quot;.*partition (.*) at offset ([0-9]*).*&quot;;\n            Pattern r = Pattern.compile(p);\n    \n            Matcher m = r.matcher(e.getMessage());\n    \n            if (m.find()) {\n                int idx = m.group(1).lastIndexOf(&quot;-&quot;);\n                String topics = m.group(1).substring(0, idx);\n                int partition = Integer.parseInt(m.group(1).substring(idx));\n                int offset = Integer.parseInt(m.group(2));\n    \n                TopicPartition topicPartition = new TopicPartition(topics, partition);\n    \n                consumer.seek(topicPartition, (offset + 1));\n    \n                log.info(&quot;Skipped message with offset {} from partition {}&quot;, offset, partition);\n            }\n        }\n    \n        @Override\n        public void handle(Exception e, ConsumerRecord&lt;?, ?&gt; record, Consumer&lt;?, ?&gt; consumer) {\n            log.error(&quot;Error in process with Exception {} and the record is {}&quot;, e, record);\n    \n            if (e instanceof SerializationException)\n                seekSerializeException(e, consumer);\n        }\n    \n        @Override\n        public void handle(Exception e, List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records, Consumer&lt;?, ?&gt; consumer,\n                MessageListenerContainer container) {\n            log.error(&quot;Error in process with Exception {} and the records are {}&quot;, e, records);\n    \n            if (e instanceof SerializationException)\n                seekSerializeException(e, consumer);\n    \n        }\n    \n        @Override\n        public void handle(Exception e, ConsumerRecord&lt;?, ?&gt; record) {\n            log.error(&quot;Error in process with Exception {} and the record is {}&quot;, e, record);\n        }\n    \n    } \n</code></pre>\n<p>finally use the error handler in config.</p>\n<pre><code> @Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, GenericType&gt; macdStatusListenerFactory() {\n\n    ConcurrentKafkaListenerContainerFactory&lt;String, GenericType&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(macdStatusConsumerFactory());\n    factory.setRetryTemplate(retryTemplate());\n    factory.setErrorHandler(new KafkaErrHandler());\n\n    return factory;\n}\n</code></pre>\n<p>However parsing error string to get parition, topic and offset is not recommended. If anyone have better solution please post here.</p>\n"},{"tags":[],"owner":{"account_id":8444814,"reputation":131,"user_id":6335902,"display_name":"Sathish Soundararajan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1606392677,"creation_date":1606300903,"answer_id":65003008,"question_id":55923893,"body_markdown":"Use ErrorHandlingDeserializer.\r\n\r\n&gt; When a deserializer fails to deserialize a message, Spring has no way to handle the problem because it occurs before the poll() returns. To solve this problem, version 2.2 introduced the ErrorHandlingDeserializer. This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the ErrorHandlingDeserializer returns a DeserializationException instead, containing the cause and raw bytes. When using a record-level MessageListener, if either the key or value contains a DeserializationException, the container’s ErrorHandler is called with the failed ConsumerRecord. When using a BatchMessageListener, the failed record is passed to the application along with the remaining records in the batch, so it is the responsibility of the application listener to check whether the key or value in a particular record is a DeserializationException.\r\n&gt; \r\n&gt; You can use the DefaultKafkaConsumerFactory constructor that takes key and value Deserializer objects and wire in appropriate ErrorHandlingDeserializer configured with the proper delegates. Alternatively, you can use consumer configuration properties which are used by the ErrorHandlingDeserializer to instantiate the delegates. The property names are ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS and ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS; the property value can be a class or class name\r\n\r\n    package com.mypackage.app.config;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    import com.mypacakage.app.model.kafka.message.KafkaEvent;\r\n    \r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.ConsumerFactory;\r\n    import org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n    import org.springframework.kafka.listener.ListenerExecutionFailedException;\r\n    import org.springframework.kafka.support.serializer.ErrorHandlingDeserializer;\r\n    import org.springframework.kafka.support.serializer.JsonDeserializer;\r\n    import org.springframework.retry.policy.SimpleRetryPolicy;\r\n    import org.springframework.retry.support.RetryTemplate;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @EnableKafka\r\n    @Configuration\r\n    @Slf4j\r\n    public class KafkaConsumerConfig {\r\n    \r\n        @Value(&quot;${kafka.bootstrap-servers}&quot;)\r\n        private String servers;\r\n    \r\n        @Value(&quot;${listener.group-id}&quot;)\r\n        private String groupId;\r\n    \r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, KafkaEvent&gt; ListenerFactory() {\r\n        \r\n            ConcurrentKafkaListenerContainerFactory&lt;String, KafkaEvent&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(consumerFactory());\r\n    \r\n            factory.setRetryTemplate(retryTemplate());\r\n            factory.setErrorHandler(((exception, data) -&gt; {\r\n                /*\r\n                 * here you can do you custom handling, I am just logging it same as default\r\n                 * Error handler does If you just want to log. you need not configure the error\r\n                 * handler here. The default handler does it for you. Generally, you will\r\n                 * persist the failed records to DB for tracking the failed records.\r\n                 */\r\n                log.error(&quot;Error in process with Exception {} and the record is {}&quot;, exception, data);\r\n            }));\r\n    \r\n            return factory;\r\n    \r\n        }\r\n    \r\n        @Bean\r\n        public ConsumerFactory&lt;String, KafkaEvent&gt; consumerFactory() {\r\n            Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n    \r\n            config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, servers);\r\n            config.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n    \r\n            config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n            config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n            config.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class);\r\n            config.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class.getName());\r\n            config.put(JsonDeserializer.VALUE_DEFAULT_TYPE,\r\n                    &quot;com.mypackage.app.model.kafka.message.KafkaEvent&quot;);\r\n            config.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;com.mypackage.app&quot;);\r\n    \r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(config);\r\n        }\r\n    \r\n        private RetryTemplate retryTemplate() {\r\n            RetryTemplate retryTemplate = new RetryTemplate();\r\n    \r\n            /*\r\n             * here retry policy is used to set the number of attempts to retry and what\r\n             * exceptions you wanted to try and what you don&#39;t want to retry.\r\n             */\r\n            retryTemplate.setRetryPolicy(retryPolicy());\r\n    \r\n            return retryTemplate;\r\n        }\r\n    \r\n        private SimpleRetryPolicy retryPolicy() {\r\n            Map&lt;Class&lt;? extends Throwable&gt;, Boolean&gt; exceptionMap = new HashMap&lt;&gt;();\r\n    \r\n            // the boolean value in the map determines whether exception should be retried\r\n            exceptionMap.put(IllegalArgumentException.class, false);\r\n            exceptionMap.put(TimeoutException.class, true);\r\n            exceptionMap.put(ListenerExecutionFailedException.class, true);\r\n    \r\n            return new SimpleRetryPolicy(3, exceptionMap, true);\r\n        }\r\n    }\r\n    ","title":"How to catch deserialization error in Kafka-Spring?","body":"<p>Use ErrorHandlingDeserializer.</p>\n<blockquote>\n<p>When a deserializer fails to deserialize a message, Spring has no way to handle the problem because it occurs before the poll() returns. To solve this problem, version 2.2 introduced the ErrorHandlingDeserializer. This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the ErrorHandlingDeserializer returns a DeserializationException instead, containing the cause and raw bytes. When using a record-level MessageListener, if either the key or value contains a DeserializationException, the container’s ErrorHandler is called with the failed ConsumerRecord. When using a BatchMessageListener, the failed record is passed to the application along with the remaining records in the batch, so it is the responsibility of the application listener to check whether the key or value in a particular record is a DeserializationException.</p>\n<p>You can use the DefaultKafkaConsumerFactory constructor that takes key and value Deserializer objects and wire in appropriate ErrorHandlingDeserializer configured with the proper delegates. Alternatively, you can use consumer configuration properties which are used by the ErrorHandlingDeserializer to instantiate the delegates. The property names are ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS and ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS; the property value can be a class or class name</p>\n</blockquote>\n<pre><code>package com.mypackage.app.config;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.TimeoutException;\n\nimport com.mypacakage.app.model.kafka.message.KafkaEvent;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.listener.ListenerExecutionFailedException;\nimport org.springframework.kafka.support.serializer.ErrorHandlingDeserializer;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\nimport org.springframework.retry.policy.SimpleRetryPolicy;\nimport org.springframework.retry.support.RetryTemplate;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@EnableKafka\n@Configuration\n@Slf4j\npublic class KafkaConsumerConfig {\n\n    @Value(&quot;${kafka.bootstrap-servers}&quot;)\n    private String servers;\n\n    @Value(&quot;${listener.group-id}&quot;)\n    private String groupId;\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, KafkaEvent&gt; ListenerFactory() {\n    \n        ConcurrentKafkaListenerContainerFactory&lt;String, KafkaEvent&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n\n        factory.setRetryTemplate(retryTemplate());\n        factory.setErrorHandler(((exception, data) -&gt; {\n            /*\n             * here you can do you custom handling, I am just logging it same as default\n             * Error handler does If you just want to log. you need not configure the error\n             * handler here. The default handler does it for you. Generally, you will\n             * persist the failed records to DB for tracking the failed records.\n             */\n            log.error(&quot;Error in process with Exception {} and the record is {}&quot;, exception, data);\n        }));\n\n        return factory;\n\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, KafkaEvent&gt; consumerFactory() {\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, servers);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n        config.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class);\n        config.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class.getName());\n        config.put(JsonDeserializer.VALUE_DEFAULT_TYPE,\n                &quot;com.mypackage.app.model.kafka.message.KafkaEvent&quot;);\n        config.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;com.mypackage.app&quot;);\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config);\n    }\n\n    private RetryTemplate retryTemplate() {\n        RetryTemplate retryTemplate = new RetryTemplate();\n\n        /*\n         * here retry policy is used to set the number of attempts to retry and what\n         * exceptions you wanted to try and what you don't want to retry.\n         */\n        retryTemplate.setRetryPolicy(retryPolicy());\n\n        return retryTemplate;\n    }\n\n    private SimpleRetryPolicy retryPolicy() {\n        Map&lt;Class&lt;? extends Throwable&gt;, Boolean&gt; exceptionMap = new HashMap&lt;&gt;();\n\n        // the boolean value in the map determines whether exception should be retried\n        exceptionMap.put(IllegalArgumentException.class, false);\n        exceptionMap.put(TimeoutException.class, true);\n        exceptionMap.put(ListenerExecutionFailedException.class, true);\n\n        return new SimpleRetryPolicy(3, exceptionMap, true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1709850,"reputation":2020,"user_id":1568120,"accept_rate":57,"display_name":"Ging3r"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663679131,"creation_date":1663679131,"answer_id":73787207,"question_id":55923893,"body_markdown":"in my factory I&#39;ve added commonErrorHander\r\n\r\n    factory.setCommonErrorHandler(new KafkaMessageErrorHandler());\r\n\r\nand `KafkaMessageErrorHandler` is created as follow\r\n    \r\n    class KafkaMessageErrorHandler implements CommonErrorHandler {\r\n\r\n        @Override\r\n        public void handleRecord(Exception thrownException, ConsumerRecord&lt;?, ?&gt; record, Consumer&lt;?, ?&gt; consumer, MessageListenerContainer container) {\r\n            manageException(thrownException, consumer);\r\n        }\r\n\r\n        @Override\r\n        public void handleOtherException(Exception thrownException, Consumer&lt;?, ?&gt; consumer, MessageListenerContainer container, boolean batchListener) {\r\n            manageException(thrownException, consumer);\r\n        }\r\n\r\n        private void manageException(Exception ex, Consumer&lt;?, ?&gt; consumer) {\r\n            log.error(&quot;Error polling message: &quot; + ex.getMessage());\r\n            if (ex instanceof RecordDeserializationException) {\r\n                RecordDeserializationException rde = (RecordDeserializationException) ex;\r\n                consumer.seek(rde.topicPartition(), rde.offset() + 1L);\r\n                consumer.commitSync();\r\n            } else {\r\n                log.error(&quot;Exception not handled&quot;);\r\n            }\r\n        }\r\n    }\r\n","title":"How to catch deserialization error in Kafka-Spring?","body":"<p>in my factory I've added commonErrorHander</p>\n<pre><code>factory.setCommonErrorHandler(new KafkaMessageErrorHandler());\n</code></pre>\n<p>and <code>KafkaMessageErrorHandler</code> is created as follow</p>\n<pre><code>class KafkaMessageErrorHandler implements CommonErrorHandler {\n\n    @Override\n    public void handleRecord(Exception thrownException, ConsumerRecord&lt;?, ?&gt; record, Consumer&lt;?, ?&gt; consumer, MessageListenerContainer container) {\n        manageException(thrownException, consumer);\n    }\n\n    @Override\n    public void handleOtherException(Exception thrownException, Consumer&lt;?, ?&gt; consumer, MessageListenerContainer container, boolean batchListener) {\n        manageException(thrownException, consumer);\n    }\n\n    private void manageException(Exception ex, Consumer&lt;?, ?&gt; consumer) {\n        log.error(&quot;Error polling message: &quot; + ex.getMessage());\n        if (ex instanceof RecordDeserializationException) {\n            RecordDeserializationException rde = (RecordDeserializationException) ex;\n            consumer.seek(rde.topicPartition(), rde.offset() + 1L);\n            consumer.commitSync();\n        } else {\n            log.error(&quot;Exception not handled&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5226352,"reputation":337,"user_id":4178286,"accept_rate":17,"display_name":"Pietro Fragnito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46532,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":55927413,"answer_count":4,"score":11,"last_activity_date":1663679131,"creation_date":1556636982,"question_id":55923893,"body_markdown":"I&#39;m getting up an application consuming kafka messages.\r\n\r\nI followed [Spring-docs](https://docs.spring.io/spring-kafka/docs/2.2.4.RELEASE/reference/#error-handling-deserializer) about Deserialization Error Handling in order to catch deserialization exception. I&#39;ve tried the failedDeserializationFunction method.\r\n\r\nThis is my Consumer Configuration Class\r\n\r\n```\r\n@Bean\r\n\tpublic Map&lt;String, Object&gt; consumerConfigs() {\r\n\t\tMap&lt;String, Object&gt; consumerProps = new HashMap&lt;&gt;();\r\n\t\tconsumerProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n\t\tconsumerProps.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n\t\tconsumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, offsetReset);\r\n\t\tconsumerProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, autoCommit);\r\n\t\t\r\n\t\t/*  Error Handling */\r\n\t\tconsumerProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer2.class);\r\n\t\tconsumerProps.put(ErrorHandlingDeserializer2.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class.getName());\r\n\t\tconsumerProps.put(ErrorHandlingDeserializer2.VALUE_FUNCTION, FailedNTCMessageBodyProvider.class);\r\n\r\n\t\treturn consumerProps;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConsumerFactory&lt;String, NTCMessageBody&gt; consumerFactory() {\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(),\r\n\t\t\t\tnew JsonDeserializer&lt;&gt;(NTCMessageBody.class));\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic ConcurrentKafkaListenerContainerFactory&lt;String, NTCMessageBody&gt; kafkaListenerContainerFactory() {\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;String, NTCMessageBody&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactory());\r\n\r\n\t\treturn factory;\r\n\t}\r\n```\r\n\r\nThis is the BiFunction Provider\r\n\r\n```\r\npublic class FailedNTCMessageBodyProvider implements BiFunction&lt;byte[], Headers, NTCMessageBody&gt; {\r\n\r\n\t@Override\r\n\tpublic NTCMessageBody apply(byte[] t, Headers u) {\r\n\t\treturn new NTCBadMessageBody(t);\r\n\t}\r\n\r\n}\r\n\r\npublic class NTCBadMessageBody extends NTCMessageBody{\r\n\r\n\tprivate final byte[] failedDecode;\r\n\r\n\tpublic NTCBadMessageBody(byte[] failedDecode) {\r\n\t\tthis.failedDecode = failedDecode;\r\n\t}\r\n\r\n\tpublic byte[] getFailedDecode() {\r\n\t\treturn this.failedDecode;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nWhen I send just one corrupted message on the topic I got this error (in loop):\r\n\r\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value\r\n\r\nI understood that the ErrorHandlingDeserializer2 should delegate the NTCBadMessageBody type and continue the consumption. I also saw (in debug mode) it didn&#39;t never go in the constructor of the NTCBadMessageBody class.","title":"How to catch deserialization error in Kafka-Spring?","body":"<p>I'm getting up an application consuming kafka messages.</p>\n<p>I followed <a href=\"https://docs.spring.io/spring-kafka/docs/2.2.4.RELEASE/reference/#error-handling-deserializer\" rel=\"noreferrer\">Spring-docs</a> about Deserialization Error Handling in order to catch deserialization exception. I've tried the failedDeserializationFunction method.</p>\n<p>This is my Consumer Configuration Class</p>\n<pre><code>@Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; consumerProps = new HashMap&lt;&gt;();\n        consumerProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        consumerProps.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        consumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, offsetReset);\n        consumerProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, autoCommit);\n        \n        /*  Error Handling */\n        consumerProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer2.class);\n        consumerProps.put(ErrorHandlingDeserializer2.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class.getName());\n        consumerProps.put(ErrorHandlingDeserializer2.VALUE_FUNCTION, FailedNTCMessageBodyProvider.class);\n\n        return consumerProps;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, NTCMessageBody&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(),\n                new JsonDeserializer&lt;&gt;(NTCMessageBody.class));\n    }\n    \n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, NTCMessageBody&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, NTCMessageBody&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n\n        return factory;\n    }\n</code></pre>\n<p>This is the BiFunction Provider</p>\n<pre><code>public class FailedNTCMessageBodyProvider implements BiFunction&lt;byte[], Headers, NTCMessageBody&gt; {\n\n    @Override\n    public NTCMessageBody apply(byte[] t, Headers u) {\n        return new NTCBadMessageBody(t);\n    }\n\n}\n\npublic class NTCBadMessageBody extends NTCMessageBody{\n\n    private final byte[] failedDecode;\n\n    public NTCBadMessageBody(byte[] failedDecode) {\n        this.failedDecode = failedDecode;\n    }\n\n    public byte[] getFailedDecode() {\n        return this.failedDecode;\n    }\n\n}\n\n</code></pre>\n<p>When I send just one corrupted message on the topic I got this error (in loop):</p>\n<p>org.apache.kafka.common.errors.SerializationException: Error deserializing key/value</p>\n<p>I understood that the ErrorHandlingDeserializer2 should delegate the NTCBadMessageBody type and continue the consumption. I also saw (in debug mode) it didn't never go in the constructor of the NTCBadMessageBody class.</p>\n"},{"tags":["java","spring","spring-session"],"comments":[{"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"score":0,"creation_date":1663680939,"post_id":73774027,"comment_id":130293406,"body_markdown":"It is generally not a good idea to store too much data in your session, certainly not whole controllers. That being said, i have seen solutions where the session handling is left to Spring and certain elements, e.g. auth data, are sent to Redis by using Spring&#39;s RedisTemplate.","body":"It is generally not a good idea to store too much data in your session, certainly not whole controllers. That being said, i have seen solutions where the session handling is left to Spring and certain elements, e.g. auth data, are sent to Redis by using Spring&#39;s RedisTemplate."},{"owner":{"account_id":18111266,"reputation":1,"user_id":13168290,"display_name":"Michał Budziło"},"score":0,"creation_date":1663753840,"post_id":73774027,"comment_id":130311874,"body_markdown":"@Pao do you have any example? Where did you see it? I searched for just such a solution on github, but did not find it.","body":"@Pao do you have any example? Where did you see it? I searched for just such a solution on github, but did not find it."},{"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"score":0,"creation_date":1663760859,"post_id":73774027,"comment_id":130314313,"body_markdown":"It was not my code, so i can&#39;t share it, and i don&#39;t remember it exactly, but i think in essence the default Spring session was used and additionally a simple Spring component with a RedisTemplate&lt;K, V&gt; talked with Redis, mainly sending the data that was required for sessions of other applications. The downside is that you have do the communication with Redis on your own. IIRC the goal was to not share the whole session, like in your case, but limit it to the required data.","body":"It was not my code, so i can&#39;t share it, and i don&#39;t remember it exactly, but i think in essence the default Spring session was used and additionally a simple Spring component with a RedisTemplate&lt;K, V&gt; talked with Redis, mainly sending the data that was required for sessions of other applications. The downside is that you have do the communication with Redis on your own. IIRC the goal was to not share the whole session, like in your case, but limit it to the required data."}],"owner":{"account_id":18111266,"reputation":1,"user_id":13168290,"display_name":"Michał Budziło"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663678939,"creation_date":1663593626,"question_id":73774027,"body_markdown":"I&#39;m using Spring-boot, spring-security and spring-session + redis. \r\nMy web application stores a lot of information in HTTP Session, for example Controllers because it is JSF and I use ViewScope.\r\n\r\nDo you have any ideas how to limit the classes that should be stored in redis? Or limit session attributes? Is there any option to choose which HTTP session data should be stored by spring-session in redis? \r\n\r\nFor example, I would like to store in redis only authentication-related data (Spring Security), but omit my old Controllers (controllers still \r\nneed to be stored in HTTP session).\r\n","title":"Spring session - customize session content","body":"<p>I'm using Spring-boot, spring-security and spring-session + redis.\nMy web application stores a lot of information in HTTP Session, for example Controllers because it is JSF and I use ViewScope.</p>\n<p>Do you have any ideas how to limit the classes that should be stored in redis? Or limit session attributes? Is there any option to choose which HTTP session data should be stored by spring-session in redis?</p>\n<p>For example, I would like to store in redis only authentication-related data (Spring Security), but omit my old Controllers (controllers still\nneed to be stored in HTTP session).</p>\n"},{"tags":["java","swing","user-interface","tooltip"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1663680465,"post_id":73787134,"comment_id":130293211,"body_markdown":"Back in the day, I created an AreaManager. I think it would be worth your time to check out (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/shape/)","body":"Back in the day, I created an AreaManager. I think it would be worth your time to check out (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/shape/\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/shape</a>)"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1663680627,"post_id":73787134,"comment_id":130293279,"body_markdown":"It doesn&#39;t have &quot;tooltip&quot; capabilities, but if you look at Buttonize, you should start to get ideas about how you could create a JLabel in the popup layer in a JLayeredPane (Instead of a JPanel)","body":"It doesn&#39;t have &quot;tooltip&quot; capabilities, but if you look at Buttonize, you should start to get ideas about how you could create a JLabel in the popup layer in a JLayeredPane (Instead of a JPanel)"},{"owner":{"account_id":26384091,"reputation":1,"user_id":20036897,"display_name":"mgwqiwdd"},"score":0,"creation_date":1663681700,"post_id":73787134,"comment_id":130293762,"body_markdown":"@ControlAltDel Do you perhaps know of any components that I can use instead of an ellipse that has built-in tooltip functionality? It doesn&#39;t have to be an ellipse specifically; I was looking at ImageIcon but I don&#39;t think that has tooltip functionality either.","body":"@ControlAltDel Do you perhaps know of any components that I can use instead of an ellipse that has built-in tooltip functionality? It doesn&#39;t have to be an ellipse specifically; I was looking at ImageIcon but I don&#39;t think that has tooltip functionality either."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1663681861,"post_id":73787134,"comment_id":130293830,"body_markdown":"You definitely need to remove `setToolTipText` from your drawCoordinates method.  Never modify a component’s state while painting it.  Your `getToolTipText` implementation looks correct;  perhaps there is an issue with the Coordinate.contains method, or perhaps `initOrigin()` is applying a transformation that is causing the coordinates’ visible locations to differ from the x and y in the data?","body":"You definitely need to remove <code>setToolTipText</code> from your drawCoordinates method.  Never modify a component’s state while painting it.  Your <code>getToolTipText</code> implementation looks correct;  perhaps there is an issue with the Coordinate.contains method, or perhaps <code>initOrigin()</code> is applying a transformation that is causing the coordinates’ visible locations to differ from the x and y in the data?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1663682495,"post_id":73787134,"comment_id":130294127,"body_markdown":"Setting the tool tip text in the drawCoordinates() method doesn&#39;t help. This will always set the text to the last coordinate painted. You need to: 1) set the tool tip text to an empty value when the component is created to register tooltip processing for the component. 2) Override the `getToolTipLocation()` method to the placement of the tool top vollows the mouse. 3) Check out: https://stackoverflow.com/questions/7138914/swing-how-to-create-a-custom-jtooltip-like-widget-that-moves-with-the-mouse/7139057#7139057 for a basic example to get you started.","body":"Setting the tool tip text in the drawCoordinates() method doesn&#39;t help. This will always set the text to the last coordinate painted. You need to: 1) set the tool tip text to an empty value when the component is created to register tooltip processing for the component. 2) Override the <code>getToolTipLocation()</code> method to the placement of the tool top vollows the mouse. 3) Check out: <a href=\"https://stackoverflow.com/questions/7138914/swing-how-to-create-a-custom-jtooltip-like-widget-that-moves-with-the-mouse/7139057#7139057\" title=\"swing how to create a custom jtooltip like widget that moves with the mouse\">stackoverflow.com/questions/7138914/&hellip;</a> for a basic example to get you started."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1663682810,"post_id":73787134,"comment_id":130294267,"body_markdown":"*I can&#39;t get it to work properly* - define what that means when asking a question. We can&#39;t guess what behaviour you see. Tell us what happens and what you expect to happen. For example, to you ever see a tooltip? If so, does the text ever change?","body":"<i>I can&#39;t get it to work properly</i> - define what that means when asking a question. We can&#39;t guess what behaviour you see. Tell us what happens and what you expect to happen. For example, to you ever see a tooltip? If so, does the text ever change?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1663684354,"post_id":73787134,"comment_id":130294851,"body_markdown":"@mgwqiwdd &quot;... instead of an ellipse&quot; There are plenty of components both in J2SE and on GitHub. The issue is that (J)Component is defined as being a rectangle (x,y,width,height) if you want non-rectangular components, you will need something like what I created","body":"@mgwqiwdd &quot;... instead of an ellipse&quot; There are plenty of components both in J2SE and on GitHub. The issue is that (J)Component is defined as being a rectangle (x,y,width,height) if you want non-rectangular components, you will need something like what I created"}],"owner":{"account_id":26384091,"reputation":1,"user_id":20036897,"display_name":"mgwqiwdd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663678765,"creation_date":1663678765,"question_id":73787134,"body_markdown":"I have a program that draws coordinates to a screen. I need to add functionality that displays a tooltip with its location when hovering over each point. However, I can&#39;t get it to work properly and I&#39;m not sure why.\r\n\r\nCoordinate class:\r\n```\r\npublic class Coordinate extends Ellipse2D.Double {\r\n    private Point point;\r\n    private String name;\r\n    private int radius;\r\n\r\n    public Coordinate(Point point, String name, int radius) {\r\n        super(point.getX(), point.getY(), radius, radius);\r\n        this.point = point;\r\n        this.name = name;\r\n        this.radius = radius;\r\n    }\r\n}\r\n\r\n```\r\n\r\nGrid class:\r\n```\r\nprotected void paintComponent(Graphics graphics) {\r\n        initOrigin();\r\n        super.paintComponent(graphics);\r\n\r\n        graphics.drawLine(0, getHeight() / 2, getWidth(), getHeight() / 2);\r\n\r\n        // draw Y axis\r\n        graphics.drawLine(getWidth() / 2, 0, getWidth() / 2, getHeight());\r\n        if (coordinates != null) {\r\n            drawCoordinates(graphics);\r\n        }\r\n    }\r\n\r\n    protected void drawCoordinates(Graphics graphics) {\r\n        System.out.println(coordinates.toString());\r\n        for (int i = 0; i &lt; this.coordinates.size(); i++) {\r\n            int radius = coordinates.get(i).getRadius();\r\n            int x = (int) Math.round(coordinates.get(i).getPoint().x * X_SCALING) + originX;\r\n            int y = (int) Math.round(coordinates.get(i).getPoint().y * -1 * Y_SCALING) + originY; // flip bit to get vertical coordinates in proper place\r\n            System.out.println(x);\r\n            System.out.println(y);\r\n            graphics.fillOval(x - radius, y - radius, radius * 2, radius * 2);\r\n            setToolTipText(coordinates.get(i).toString());\r\n\r\n        }\r\n    }\r\n\r\n@Override\r\n    public String getToolTipText(MouseEvent event) {\r\n        for (Coordinate coordinate : coordinates) {\r\n            if (coordinate.contains(event.getPoint())) {\r\n                return coordinate.toString();\r\n            }\r\n\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nI&#39;m setting the tooltip in the ```drawCoordinates()``` method and overriding the ```getToolTip()``` method as well but nothing is popping up. Obviously I&#39;m missing something but I&#39;m not sure where to start. Can anyone point me in the right direction?","title":"ToolTip for components that are not JComponent (Ellipse)","body":"<p>I have a program that draws coordinates to a screen. I need to add functionality that displays a tooltip with its location when hovering over each point. However, I can't get it to work properly and I'm not sure why.</p>\n<p>Coordinate class:</p>\n<pre><code>public class Coordinate extends Ellipse2D.Double {\n    private Point point;\n    private String name;\n    private int radius;\n\n    public Coordinate(Point point, String name, int radius) {\n        super(point.getX(), point.getY(), radius, radius);\n        this.point = point;\n        this.name = name;\n        this.radius = radius;\n    }\n}\n\n</code></pre>\n<p>Grid class:</p>\n<pre><code>protected void paintComponent(Graphics graphics) {\n        initOrigin();\n        super.paintComponent(graphics);\n\n        graphics.drawLine(0, getHeight() / 2, getWidth(), getHeight() / 2);\n\n        // draw Y axis\n        graphics.drawLine(getWidth() / 2, 0, getWidth() / 2, getHeight());\n        if (coordinates != null) {\n            drawCoordinates(graphics);\n        }\n    }\n\n    protected void drawCoordinates(Graphics graphics) {\n        System.out.println(coordinates.toString());\n        for (int i = 0; i &lt; this.coordinates.size(); i++) {\n            int radius = coordinates.get(i).getRadius();\n            int x = (int) Math.round(coordinates.get(i).getPoint().x * X_SCALING) + originX;\n            int y = (int) Math.round(coordinates.get(i).getPoint().y * -1 * Y_SCALING) + originY; // flip bit to get vertical coordinates in proper place\n            System.out.println(x);\n            System.out.println(y);\n            graphics.fillOval(x - radius, y - radius, radius * 2, radius * 2);\n            setToolTipText(coordinates.get(i).toString());\n\n        }\n    }\n\n@Override\n    public String getToolTipText(MouseEvent event) {\n        for (Coordinate coordinate : coordinates) {\n            if (coordinate.contains(event.getPoint())) {\n                return coordinate.toString();\n            }\n\n        }\n        return null;\n    }\n</code></pre>\n<p>I'm setting the tooltip in the <code>drawCoordinates()</code> method and overriding the <code>getToolTip()</code> method as well but nothing is popping up. Obviously I'm missing something but I'm not sure where to start. Can anyone point me in the right direction?</p>\n"},{"tags":["java","optimization","constants"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1471430636,"post_id":38994306,"comment_id":65340593,"body_markdown":"Your question is answered in the comment included in your question.","body":"Your question is answered in the comment included in your question."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":2,"creation_date":1471433933,"post_id":38994306,"comment_id":65342813,"body_markdown":"@Kayaman As you can see in the answer, there&#39;s more behind it.","body":"@Kayaman As you can see in the answer, there&#39;s more behind it."}],"answers":[{"tags":[],"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1663678182,"creation_date":1471431114,"answer_id":38994612,"question_id":38994306,"body_markdown":"TLDR: It&#39;s an example of [Fibonacci hashing](https://web.archive.org/web/20161121124236/http://brpreiss.com/books/opus4/html/page214.html). \r\n\r\nIf you convert 0x61c88647 into decimal, you&#39;ll get 1640531527 which is nonsensical until you realise that in 32 bits, it&#39;s the signed version of 2654435769. Again this number seems a bit odd until you realise that it is  2&lt;sup&gt;32&lt;/sup&gt; &amp;divide; &amp;phi; where &amp;phi; is the golden ratio (&amp;radic;5&amp;plus;1)&amp;divide;2.\r\n\r\nNow how does this fit into ThreadLocal? When you create a new ThreadLocal it is assigned an ID based on the previous id + our magic number. It&#39;s put into a ThreadLocalMap. In the event of a clash, the ThreadLocalMap puts the value into the next available space. Our magic value allows an optimal &quot;spreading out&quot; of the values in this hash in order to avoid this.","title":"What is the meaning of 0x61C88647 constant in ThreadLocal.java","body":"<p>TLDR: It's an example of <a href=\"https://web.archive.org/web/20161121124236/http://brpreiss.com/books/opus4/html/page214.html\" rel=\"nofollow noreferrer\">Fibonacci hashing</a>.</p>\n<p>If you convert 0x61c88647 into decimal, you'll get 1640531527 which is nonsensical until you realise that in 32 bits, it's the signed version of 2654435769. Again this number seems a bit odd until you realise that it is  2<sup>32</sup> ÷ φ where φ is the golden ratio (√5+1)÷2.</p>\n<p>Now how does this fit into ThreadLocal? When you create a new ThreadLocal it is assigned an ID based on the previous id + our magic number. It's put into a ThreadLocalMap. In the event of a clash, the ThreadLocalMap puts the value into the next available space. Our magic value allows an optimal &quot;spreading out&quot; of the values in this hash in order to avoid this.</p>\n"},{"tags":[],"owner":{"account_id":6555617,"reputation":11,"user_id":5068408,"display_name":"贾宇晓"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538260998,"creation_date":1538260998,"answer_id":52573145,"question_id":38994306,"body_markdown":"0x61c88647 = 1640531527 ≈ 2 ^ 32 * (1 - 1 / φ), φ = (√5 + 1) &#247; 2, it is an another Golden ratio Num of 32 bits.\r\n","title":"What is the meaning of 0x61C88647 constant in ThreadLocal.java","body":"<p>0x61c88647 = 1640531527 ≈ 2 ^ 32 * (1 - 1 / φ), φ = (√5 + 1) ÷ 2, it is an another Golden ratio Num of 32 bits.</p>\n"}],"owner":{"account_id":60766,"reputation":6021,"user_id":181406,"accept_rate":52,"display_name":"Adrian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3247,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":38994612,"answer_count":2,"score":6,"last_activity_date":1663678182,"creation_date":1471430308,"question_id":38994306,"body_markdown":"I recently read an article about [Equation Group&#39;s Sophisticated Hacking][1] and the smoking gun is a constant which also appears in JDK 8 source code e.g. [ThreadLocal.java][2]\r\n\r\nWhat is the meaning of HASH_INCREMENT constant and how does it improve performance?\r\n\r\n    /**\r\n     * The difference between successively generated hash codes - turns\r\n     * implicit sequential thread-local IDs into near-optimally spread\r\n     * multiplicative hash values for power-of-two-sized tables.\r\n     */\r\n    private static final int HASH_INCREMENT = 0x61c88647;\r\n\r\n  [1]: http://arstechnica.co.uk/security/2016/08/code-dumped-online-came-from-omnipotent-nsa-tied-hacking-group/\r\n  [2]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/lang/ThreadLocal.java","title":"What is the meaning of 0x61C88647 constant in ThreadLocal.java","body":"<p>I recently read an article about <a href=\"http://arstechnica.co.uk/security/2016/08/code-dumped-online-came-from-omnipotent-nsa-tied-hacking-group/\" rel=\"nofollow\">Equation Group's Sophisticated Hacking</a> and the smoking gun is a constant which also appears in JDK 8 source code e.g. <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/lang/ThreadLocal.java\" rel=\"nofollow\">ThreadLocal.java</a></p>\n\n<p>What is the meaning of HASH_INCREMENT constant and how does it improve performance?</p>\n\n<pre><code>/**\n * The difference between successively generated hash codes - turns\n * implicit sequential thread-local IDs into near-optimally spread\n * multiplicative hash values for power-of-two-sized tables.\n */\nprivate static final int HASH_INCREMENT = 0x61c88647;\n</code></pre>\n"},{"tags":["java","android","android-studio","android-audiomanager"],"comments":[{"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"score":0,"creation_date":1658851342,"post_id":73125363,"comment_id":129152393,"body_markdown":"I think no. You must respect user settings.","body":"I think no. You must respect user settings."}],"answers":[{"tags":[],"owner":{"account_id":12918840,"reputation":363,"user_id":9342060,"display_name":"Surendar Dharavath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663678092,"creation_date":1663678092,"answer_id":73786975,"question_id":73125363,"body_markdown":"Yes, you can adjust notification sound alone by calling [AudioManager.setStreamVolume][1]\r\n\r\nExample:\r\n\r\n    val audioManager = getSystemService(AUDIO_SERVICE) as AudioManager\r\n    val notificationMaxVol = audioManager.getStreamMaxVolume(AudioManager.STREAM_NOTIFICATION) \r\n    audioManager.setStreamVolume(AudioManager.STREAM_NOTIFICATION, notificationMaxVol, 0)\r\n\r\n**Note**: You must get **Do Not disturb access** for your app before calling the above method.\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/android/media/AudioManager#setstreamvolume","title":"Adjust notification sound volume on android","body":"<p>Yes, you can adjust notification sound alone by calling <a href=\"https://developer.android.com/reference/kotlin/android/media/AudioManager#setstreamvolume\" rel=\"nofollow noreferrer\">AudioManager.setStreamVolume</a></p>\n<p>Example:</p>\n<pre><code>val audioManager = getSystemService(AUDIO_SERVICE) as AudioManager\nval notificationMaxVol = audioManager.getStreamMaxVolume(AudioManager.STREAM_NOTIFICATION) \naudioManager.setStreamVolume(AudioManager.STREAM_NOTIFICATION, notificationMaxVol, 0)\n</code></pre>\n<p><strong>Note</strong>: You must get <strong>Do Not disturb access</strong> for your app before calling the above method.</p>\n"}],"owner":{"account_id":25335247,"reputation":23,"user_id":19154488,"display_name":"Kali C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663678092,"creation_date":1658846229,"question_id":73125363,"body_markdown":"Is there any way to adjust notification sound volume without adjusting media / call volume?\r\n\r\nI want to set notification volume to the max level while keeping current media / call volume level.\r\n\r\nThanks in advance!\r\n\r\nCurrently using Java on Android Studio","title":"Adjust notification sound volume on android","body":"<p>Is there any way to adjust notification sound volume without adjusting media / call volume?</p>\n<p>I want to set notification volume to the max level while keeping current media / call volume level.</p>\n<p>Thanks in advance!</p>\n<p>Currently using Java on Android Studio</p>\n"},{"tags":["java","graphstream"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1656164986,"post_id":72753879,"comment_id":128507501,"body_markdown":"Which version are you referring? I don&#39;t see `addAttribute` in Element for version 2.0","body":"Which version are you referring? I don&#39;t see <code>addAttribute</code> in Element for version 2.0"},{"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"score":0,"creation_date":1656181573,"post_id":72753879,"comment_id":128510906,"body_markdown":"I&#39;m using version 1.3, thanks for the input, the hyper link was deleted by mistake.","body":"I&#39;m using version 1.3, thanks for the input, the hyper link was deleted by mistake."},{"owner":{"account_id":21009405,"reputation":654,"user_id":15438360,"display_name":"Muhammad Khuzaima Umair"},"score":0,"creation_date":1656186905,"post_id":72753879,"comment_id":128512035,"body_markdown":"probably `consistency` means avoiding duplicates","body":"probably <code>consistency</code> means avoiding duplicates"}],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663678055,"creation_date":1663676154,"answer_id":73786559,"question_id":72753879,"body_markdown":"It is most likely that they mean `api consistency` with this wording; overall consistency between their own API or what developers might expect to find in general in the API of a Java library. \r\n\r\nFor example `properties` on Java Beans (pojo&#39;s) are usually implemented as `getter` and `setter` methods by convention (rather than language features, as can be found in [C#](https://stackoverflow.com/questions/2963243/does-java-have-something-similar-to-c-sharp-properties)). \r\n\r\nSo perhaps the `graphstream` devs wanted to have both `getAttribute` and `setAttribute` in a similar fashion.\r\n\r\nThis can be confirmed by checking one of the `Known Implementing Classes` as listed in the javadoc; for example [org.graphstream.graph.implementations.AbstractElement](https://data.graphstream-project.org/api/gs-core/1.3/org/graphstream/graph/implementations/AbstractElement.html), where the `setAttribute` method is just calling `addAttribute` directly:\r\n\r\n```lang-java\r\n\t/**\r\n\t * @complexity O(log(n)) with n being the number of attributes of this\r\n\t *             element.\r\n\t */\r\n\tpublic void setAttribute(String attribute, Object... values) {\r\n\t\taddAttribute(attribute, values);\r\n\t}\r\n```\r\nTaken from the [decompiled](https://github.com/java-decompiler/jd-gui) jar or the [sources jar](https://repo1.maven.org/maven2/org/graphstream/gs-core/1.3/) of the [following](https://mvnrepository.com/artifact/org.graphstream/gs-core/1.3) artifact.","title":"GraphStream setAttribute( ) vs addAttribute( )","body":"<p>It is most likely that they mean <code>api consistency</code> with this wording; overall consistency between their own API or what developers might expect to find in general in the API of a Java library.</p>\n<p>For example <code>properties</code> on Java Beans (pojo's) are usually implemented as <code>getter</code> and <code>setter</code> methods by convention (rather than language features, as can be found in <a href=\"https://stackoverflow.com/questions/2963243/does-java-have-something-similar-to-c-sharp-properties\">C#</a>).</p>\n<p>So perhaps the <code>graphstream</code> devs wanted to have both <code>getAttribute</code> and <code>setAttribute</code> in a similar fashion.</p>\n<p>This can be confirmed by checking one of the <code>Known Implementing Classes</code> as listed in the javadoc; for example <a href=\"https://data.graphstream-project.org/api/gs-core/1.3/org/graphstream/graph/implementations/AbstractElement.html\" rel=\"nofollow noreferrer\">org.graphstream.graph.implementations.AbstractElement</a>, where the <code>setAttribute</code> method is just calling <code>addAttribute</code> directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * @complexity O(log(n)) with n being the number of attributes of this\n     *             element.\n     */\n    public void setAttribute(String attribute, Object... values) {\n        addAttribute(attribute, values);\n    }\n</code></pre>\n<p>Taken from the <a href=\"https://github.com/java-decompiler/jd-gui\" rel=\"nofollow noreferrer\">decompiled</a> jar or the <a href=\"https://repo1.maven.org/maven2/org/graphstream/gs-core/1.3/\" rel=\"nofollow noreferrer\">sources jar</a> of the <a href=\"https://mvnrepository.com/artifact/org.graphstream/gs-core/1.3\" rel=\"nofollow noreferrer\">following</a> artifact.</p>\n"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73786559,"answer_count":1,"score":0,"last_activity_date":1663678055,"creation_date":1656160199,"question_id":72753879,"body_markdown":"I don&#39;t understand the difference between ***setAttribute( )*** and ***addAttribute( )*** in `GraphStream1.3`.\r\n\r\nIn `GraphStream`&#39;s `Element` [API 1.3][1] it&#39;s explained that setAttribute is \r\n\r\n&gt; Like addAttribute() but for consistency.\r\n\r\nwhat does it means?\r\n\r\n\r\n  [1]: https://data.graphstream-project.org/api/gs-core/1.3/org/graphstream/graph/Element.html#setAttribute(java.lang.String,%20java.lang.Object...)","title":"GraphStream setAttribute( ) vs addAttribute( )","body":"<p>I don't understand the difference between <em><strong>setAttribute( )</strong></em> and <em><strong>addAttribute( )</strong></em> in <code>GraphStream1.3</code>.</p>\n<p>In <code>GraphStream</code>'s <code>Element</code> <a href=\"https://data.graphstream-project.org/api/gs-core/1.3/org/graphstream/graph/Element.html#setAttribute(java.lang.String,%20java.lang.Object...)\" rel=\"nofollow noreferrer\">API 1.3</a> it's explained that setAttribute is</p>\n<blockquote>\n<p>Like addAttribute() but for consistency.</p>\n</blockquote>\n<p>what does it means?</p>\n"},{"tags":["java","reflection","enums"],"comments":[{"owner":{"account_id":8414754,"reputation":1326,"user_id":6315553,"display_name":"Markus Fischer"},"score":0,"creation_date":1472939249,"post_id":39311517,"comment_id":65956061,"body_markdown":"Please test what is null in the for statement - e or the return value of getEnumConstants(). I bet e is null and something goes wrong before/during the call of writeEnum(). Since the method argument e is definitely an enum, and the example in your png file seems to have actual enum constants, getEnumConstants() should not return null.","body":"Please test what is null in the for statement - e or the return value of getEnumConstants(). I bet e is null and something goes wrong before/during the call of writeEnum(). Since the method argument e is definitely an enum, and the example in your png file seems to have actual enum constants, getEnumConstants() should not return null."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1472939474,"post_id":39311517,"comment_id":65956110,"body_markdown":"@MarkusFischer if `e` was null then we would get NPE earlier. So it looks like `getEnumConstants()` is culprit. But that also doesn&#39;t make much sense since OP requires from `e` to be *instance* of some Enum, so that enum must have at last one enum constant (the one passed as argument).","body":"@MarkusFischer if <code>e</code> was null then we would get NPE earlier. So it looks like <code>getEnumConstants()</code> is culprit. But that also doesn&#39;t make much sense since OP requires from <code>e</code> to be <i>instance</i> of some Enum, so that enum must have at last one enum constant (the one passed as argument)."},{"owner":{"account_id":5939040,"reputation":452,"user_id":4670987,"display_name":"Sneling"},"score":0,"creation_date":1472940029,"post_id":39311517,"comment_id":65956215,"body_markdown":"Yes, that&#39;s why I was very disturbed about why this happened. At the same time, I&#39;d rather have a call for values() to parse through as it would be easier (i think?) to get the information the Enum. Then again, if you guys have another method to do so, i&#39;d love it. This is temporary, as at a later date I will make them &#39;print&#39; into an excel table.","body":"Yes, that&#39;s why I was very disturbed about why this happened. At the same time, I&#39;d rather have a call for values() to parse through as it would be easier (i think?) to get the information the Enum. Then again, if you guys have another method to do so, i&#39;d love it. This is temporary, as at a later date I will make them &#39;print&#39; into an excel table."},{"owner":{"account_id":8414754,"reputation":1326,"user_id":6315553,"display_name":"Markus Fischer"},"score":0,"creation_date":1472940057,"post_id":39311517,"comment_id":65956223,"body_markdown":"@Pshemo You are right, I overlooked the previous usage of e - it can&#39;t be null at that point.","body":"@Pshemo You are right, I overlooked the previous usage of e - it can&#39;t be null at that point."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1472940519,"post_id":39311517,"comment_id":65956307,"body_markdown":"I am not sure how to help you since I don&#39;t know exactly what results you are expecting and I can&#39;t reproduce NPE problem from your question. So post example of input/enum class you want to handle (but don&#39;t post it as picture, we can&#39;t copy that to our IDEs). Include your expected results (you can add some info about why they are expected) and what you get instead. Also reduce your code, if `SnelPlugin` is not required, then don&#39;t include it in code. Also not everyone here may have logging mechanism configured, so why not use simple `System.out` instead?","body":"I am not sure how to help you since I don&#39;t know exactly what results you are expecting and I can&#39;t reproduce NPE problem from your question. So post example of input/enum class you want to handle (but don&#39;t post it as picture, we can&#39;t copy that to our IDEs). Include your expected results (you can add some info about why they are expected) and what you get instead. Also reduce your code, if <code>SnelPlugin</code> is not required, then don&#39;t include it in code. Also not everyone here may have logging mechanism configured, so why not use simple <code>System.out</code> instead?"},{"owner":{"account_id":8414754,"reputation":1326,"user_id":6315553,"display_name":"Markus Fischer"},"score":0,"creation_date":1472940535,"post_id":39311517,"comment_id":65956314,"body_markdown":"@Sneling Passing the enum values() and processing is of course a valid solution. However, it&#39;s puzzling where the NPE comes from. Is this plain stand-alone Java, or is it within a framework of any kind? Is there a chance that framework functionality is manipulating your classes?","body":"@Sneling Passing the enum values() and processing is of course a valid solution. However, it&#39;s puzzling where the NPE comes from. Is this plain stand-alone Java, or is it within a framework of any kind? Is there a chance that framework functionality is manipulating your classes?"},{"owner":{"account_id":5939040,"reputation":452,"user_id":4670987,"display_name":"Sneling"},"score":0,"creation_date":1472953380,"post_id":39311517,"comment_id":65958496,"body_markdown":"@Pshemo Thanks for your help! I posted an update on my question with updated code, wit hwhat you guys have asked for. \nI feel like I am missing something very important, but as I am new with reflection, I am not sure what exactly. Would, for example, &#39;COMMANDS_SNELAPI&#39; would be considered as an Enum with its own variables? If yes, then would having a way to easily get the &quot;Enum Class&quot; help me parse through the enums, and then from there get the fields? If yes, I would assume that there might be a way to get the Fields in the &quot;Enum Class&quot; by default?\nThanks.","body":"@Pshemo Thanks for your help! I posted an update on my question with updated code, wit hwhat you guys have asked for.  I feel like I am missing something very important, but as I am new with reflection, I am not sure what exactly. Would, for example, &#39;COMMANDS_SNELAPI&#39; would be considered as an Enum with its own variables? If yes, then would having a way to easily get the &quot;Enum Class&quot; help me parse through the enums, and then from there get the fields? If yes, I would assume that there might be a way to get the Fields in the &quot;Enum Class&quot; by default? Thanks."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1472989575,"post_id":39311517,"comment_id":65965155,"body_markdown":"If you are asking how to get enum values like how to get from `enum MyEnum{FOO, BAR;}` values `FOO` and `BAR` but passing any of that value, then you can pass Class representing this enum `Class&lt;MyEnum&gt;` (you can get it via `MyEnum.class`). Then assuming that your method is accepting `Class&lt;E&gt; c` (where `E` is method&#39;s generic type `&lt;E extends Enum&lt;E&gt;&gt;`) you can call `c.getEnumConstants()` and get `E[]` array containing all enums (just like `values()`). DEMO: https://ideone.com/tJ5qAt (my previous answer on that subject http://stackoverflow.com/a/37765856/1393766)","body":"If you are asking how to get enum values like how to get from <code>enum MyEnum{FOO, BAR;}</code> values <code>FOO</code> and <code>BAR</code> but passing any of that value, then you can pass Class representing this enum <code>Class&lt;MyEnum&gt;</code> (you can get it via <code>MyEnum.class</code>). Then assuming that your method is accepting <code>Class&lt;E&gt; c</code> (where <code>E</code> is method&#39;s generic type <code>&lt;E extends Enum&lt;E&gt;&gt;</code>) you can call <code>c.getEnumConstants()</code> and get <code>E[]</code> array containing all enums (just like <code>values()</code>). DEMO: <a href=\"https://ideone.com/tJ5qAt\" rel=\"nofollow noreferrer\">ideone.com/tJ5qAt</a> (my previous answer on that subject <a href=\"http://stackoverflow.com/a/37765856/1393766\">stackoverflow.com/a/37765856/1393766</a>)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1472989721,"post_id":39311517,"comment_id":65965196,"body_markdown":"But what I am not sure if getting enums is all you want. Like what about fields? Each enum constant may have its own values in fields (like id) from one of your previous examples. Do you also want to handle it? If so how?","body":"But what I am not sure if getting enums is all you want. Like what about fields? Each enum constant may have its own values in fields (like id) from one of your previous examples. Do you also want to handle it? If so how?"},{"owner":{"account_id":5939040,"reputation":452,"user_id":4670987,"display_name":"Sneling"},"score":0,"creation_date":1472994246,"post_id":39311517,"comment_id":65966377,"body_markdown":"@Pshemo What I want to do is be able to &#39;see&#39; the value of every field for each E. For example, here, i&#39;d like it to print the field &#39;id&#39;, or at least it should show me something like it would see the &#39;id&#39;. (https://ideone.com/y0dCNJ) I looked at your other post, which has already the beginning of the code, but i&#39;m still stuck with getting the different variables for each E.\nTo be precise, I want to be able to read every fields for every E. So, from my code I sent you in this comment, I would expect to get:\nhttp://pastebin.com/2SpGWuYs","body":"@Pshemo What I want to do is be able to &#39;see&#39; the value of every field for each E. For example, here, i&#39;d like it to print the field &#39;id&#39;, or at least it should show me something like it would see the &#39;id&#39;. (<a href=\"https://ideone.com/y0dCNJ\" rel=\"nofollow noreferrer\">ideone.com/y0dCNJ</a>) I looked at your other post, which has already the beginning of the code, but i&#39;m still stuck with getting the different variables for each E. To be precise, I want to be able to read every fields for every E. So, from my code I sent you in this comment, I would expect to get: <a href=\"http://pastebin.com/2SpGWuYs\" rel=\"nofollow noreferrer\">pastebin.com/2SpGWuYs</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1472995564,"post_id":39311517,"comment_id":65966774,"body_markdown":"So it looks like you want to get all (not only public ones) fields which are not static (since they should belong to instance, not class). In that case you may may want to use `getDeclaredFields()` instead of `getFields()`. Difference is that `getFields` returns only public fields, including inherited ones, while `getDeclaredFields()` returns only fields *declared* in that class (including even private ones - so if you want to `get` value of that field you may need to invoke earlier `setAccessible(true)` on them). DEMO: https://ideone.com/qVkHIg","body":"So it looks like you want to get all (not only public ones) fields which are not static (since they should belong to instance, not class). In that case you may may want to use <code>getDeclaredFields()</code> instead of <code>getFields()</code>. Difference is that <code>getFields</code> returns only public fields, including inherited ones, while <code>getDeclaredFields()</code> returns only fields <i>declared</i> in that class (including even private ones - so if you want to <code>get</code> value of that field you may need to invoke earlier <code>setAccessible(true)</code> on them). DEMO: <a href=\"https://ideone.com/qVkHIg\" rel=\"nofollow noreferrer\">ideone.com/qVkHIg</a>"},{"owner":{"account_id":5939040,"reputation":452,"user_id":4670987,"display_name":"Sneling"},"score":0,"creation_date":1473000638,"post_id":39311517,"comment_id":65968353,"body_markdown":"@Pshemo Oh, ok! That actually is exactly what I was looking for. I tried with your method, which worked, now I will try to implement in in the method that I already have, and see what it gives. If it works well, would you want me to post the full answer to my question and tag you in it, or would you rather do it yourself?\nFIY, I have full working method, but it contains both SnelPlugin and my Logger.","body":"@Pshemo Oh, ok! That actually is exactly what I was looking for. I tried with your method, which worked, now I will try to implement in in the method that I already have, and see what it gives. If it works well, would you want me to post the full answer to my question and tag you in it, or would you rather do it yourself? FIY, I have full working method, but it contains both SnelPlugin and my Logger."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1473001406,"post_id":39311517,"comment_id":65968608,"body_markdown":"If it is possible try to simplify your question like &quot;I would like to print each enum constant, and if that enum has its fields, values of that fields for each of that constants, for example [post enum structure and expected results]. I tried with this code [post simple code showing your approach - &quot;simple&quot; like avoid unnecessary things like writing to file when we can simply write to console] but problem is that [describe problem you are facing, like fact you don&#39;t want method to accept instance, since some enums may be empty and you want to be also able to handle them]&quot;.","body":"If it is possible try to simplify your question like &quot;I would like to print each enum constant, and if that enum has its fields, values of that fields for each of that constants, for example [post enum structure and expected results]. I tried with this code [post simple code showing your approach - &quot;simple&quot; like avoid unnecessary things like writing to file when we can simply write to console] but problem is that [describe problem you are facing, like fact you don&#39;t want method to accept instance, since some enums may be empty and you want to be also able to handle them]&quot;."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1473001737,"post_id":39311517,"comment_id":65968710,"body_markdown":"Also IMO there is no need for these `Update #X` versions. We are not forum, we expect one specific question per ... question which can be answered reasonably. So as long as you are adding more information it is OK to skip that UPDATE part.","body":"Also IMO there is no need for these <code>Update #X</code> versions. We are not forum, we expect one specific question per ... question which can be answered reasonably. So as long as you are adding more information it is OK to skip that UPDATE part."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1473001985,"post_id":39311517,"comment_id":65968772,"body_markdown":"Now if that linked code worked for you and question will be updated in a way that this code will answer it directly feel free to post it as your own answer (I don&#39;t mind), or let me know and I will post it as my own.","body":"Now if that linked code worked for you and question will be updated in a way that this code will answer it directly feel free to post it as your own answer (I don&#39;t mind), or let me know and I will post it as my own."}],"answers":[{"tags":[],"owner":{"account_id":7790200,"reputation":1166,"user_id":5893468,"display_name":"pamcevoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663677935,"creation_date":1472944287,"answer_id":39312100,"question_id":39311517,"body_markdown":"If you want to get the values of the Enum, normally you would just call the ```values()``` method on the Enum class.  But since you are starting with an instance you need to get the class and call it.  I don&#39;t see any way to just cast the class to Enum, so I used reflection to get the ```public static Enum[] values()``` method like this.\r\n\r\n    /**\r\n     * Get the Enum values for this Enum instance.\r\n     * @param e the enum value\r\n     * @return all the values for this type of enum\r\n     */\r\n    private Enum[] getValues(Enum e) {\r\n        Enum[] values = new Enum[0];\r\n        try {\r\n            Class&lt;? extends Enum&gt; enumClass = e.getDeclaringClass();\r\n            Method mtd = enumClass.getMethod(&quot;values&quot;);\r\n            values = (Enum[])mtd.invoke(null);\r\n        }\r\n        catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return values;\r\n    }\r\n\r\nObviously you should do better error handling.  I am not sure what else you wanted from the Enum class in regards to fields.","title":"Get Values of variables under an Enum","body":"<p>If you want to get the values of the Enum, normally you would just call the <code>values()</code> method on the Enum class.  But since you are starting with an instance you need to get the class and call it.  I don't see any way to just cast the class to Enum, so I used reflection to get the <code>public static Enum[] values()</code> method like this.</p>\n<pre><code>/**\n * Get the Enum values for this Enum instance.\n * @param e the enum value\n * @return all the values for this type of enum\n */\nprivate Enum[] getValues(Enum e) {\n    Enum[] values = new Enum[0];\n    try {\n        Class&lt;? extends Enum&gt; enumClass = e.getDeclaringClass();\n        Method mtd = enumClass.getMethod(&quot;values&quot;);\n        values = (Enum[])mtd.invoke(null);\n    }\n    catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return values;\n}\n</code></pre>\n<p>Obviously you should do better error handling.  I am not sure what else you wanted from the Enum class in regards to fields.</p>\n"},{"tags":[],"owner":{"account_id":5939040,"reputation":452,"user_id":4670987,"display_name":"Sneling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1473003642,"creation_date":1473003642,"answer_id":39318649,"question_id":39311517,"body_markdown":"Thanks to @Pshemo and @MarkusFisher, I&#39;ve come to a solution.\r\n\r\nNote that this method DOES include other classes and methods, but they don&#39;t affect the way this method works.\r\n\r\nIf you want to test for yourself:\r\n\r\n - Logger.debug can be replaced with System.out.println, LColor should\r\n   be deleted\r\n - SnelPlugin is only needed for the Logger.debug and locating a directory.\r\n - SnelTextFile is just a class to make creating text files easier. Remove if you&#39;re only printing.\r\n\r\nMethod Code:\r\n\r\n    public static &lt;E extends Enum&lt;E&gt;&gt; void writeEnum(String fileName, Class&lt;E&gt; c, SnelPlugin plugin){\r\n        SnelTextFile file = new SnelTextFile(plugin, new File(plugin.getDataFolder() + &quot;/&quot; + fileName + &quot;.txt&quot;));\r\n        Logger.debug(&quot;Starting EnumWriter for &quot; + file.getFile().getName(), plugin);\r\n\r\n        try {\r\n            file.openWriter(true);\r\n            Logger.debug(&quot;Opened FileWriter&quot;, plugin);\r\n\r\n            Field[] classFields = c.getDeclaredFields();\r\n\r\n            String header = &quot;Value&quot;;\r\n\r\n            for(Field f: classFields){\r\n                if(!Modifier.isStatic(f.getModifiers())) {\r\n                    header += &quot;, &quot; + f.getName();\r\n                    Logger.debug(&quot;Discovered variable &#39;&quot; + f.getName() + &quot;&#39;&quot;, plugin);\r\n                }\r\n            }\r\n\r\n            file.addLine(header);\r\n            file.addLine(&quot;&quot;);\r\n\r\n            for(E en: c.getEnumConstants()){\r\n                Logger.debug(&quot;Reading Enum Constant: &quot; + en.toString(), plugin);\r\n                Field[] fields = en.getDeclaringClass().getDeclaredFields();\r\n\r\n                String current = en.toString();\r\n\r\n                for(Field f: fields){\r\n                    if(!Modifier.isStatic(f.getModifiers())){\r\n                        f.setAccessible(true);\r\n                        current += &quot;, &quot; + f.get(en);\r\n                        Logger.debug(&quot;Value for &#39;&quot; +f.getName() + &quot;&#39; = &#39;&quot; +  f.get(en) + &quot;&#39;&quot; , plugin);\r\n                    }\r\n                }\r\n\r\n                file.addLine(current);\r\n            }\r\n        }catch (Exception ex){\r\n            ex.printStackTrace();\r\n        }finally {\r\n            try {\r\n                file.closeWriter();\r\n                Logger.debug(&quot;Closer FileWriter&quot;);\r\n            } catch (IOException ex) {\r\n            }\r\n        }\r\n\r\n        Logger.log(LColor.GREEN + &quot;Finished EnumWriter for &quot; + file.getFile().getName() + &quot;. It can be found at &quot; + file.getFile().getPath(), plugin);\r\n    }\r\n\r\n","title":"Get Values of variables under an Enum","body":"<p>Thanks to @Pshemo and @MarkusFisher, I've come to a solution.</p>\n\n<p>Note that this method DOES include other classes and methods, but they don't affect the way this method works.</p>\n\n<p>If you want to test for yourself:</p>\n\n<ul>\n<li>Logger.debug can be replaced with System.out.println, LColor should\nbe deleted</li>\n<li>SnelPlugin is only needed for the Logger.debug and locating a directory.</li>\n<li>SnelTextFile is just a class to make creating text files easier. Remove if you're only printing.</li>\n</ul>\n\n<p>Method Code:</p>\n\n<pre><code>public static &lt;E extends Enum&lt;E&gt;&gt; void writeEnum(String fileName, Class&lt;E&gt; c, SnelPlugin plugin){\n    SnelTextFile file = new SnelTextFile(plugin, new File(plugin.getDataFolder() + \"/\" + fileName + \".txt\"));\n    Logger.debug(\"Starting EnumWriter for \" + file.getFile().getName(), plugin);\n\n    try {\n        file.openWriter(true);\n        Logger.debug(\"Opened FileWriter\", plugin);\n\n        Field[] classFields = c.getDeclaredFields();\n\n        String header = \"Value\";\n\n        for(Field f: classFields){\n            if(!Modifier.isStatic(f.getModifiers())) {\n                header += \", \" + f.getName();\n                Logger.debug(\"Discovered variable '\" + f.getName() + \"'\", plugin);\n            }\n        }\n\n        file.addLine(header);\n        file.addLine(\"\");\n\n        for(E en: c.getEnumConstants()){\n            Logger.debug(\"Reading Enum Constant: \" + en.toString(), plugin);\n            Field[] fields = en.getDeclaringClass().getDeclaredFields();\n\n            String current = en.toString();\n\n            for(Field f: fields){\n                if(!Modifier.isStatic(f.getModifiers())){\n                    f.setAccessible(true);\n                    current += \", \" + f.get(en);\n                    Logger.debug(\"Value for '\" +f.getName() + \"' = '\" +  f.get(en) + \"'\" , plugin);\n                }\n            }\n\n            file.addLine(current);\n        }\n    }catch (Exception ex){\n        ex.printStackTrace();\n    }finally {\n        try {\n            file.closeWriter();\n            Logger.debug(\"Closer FileWriter\");\n        } catch (IOException ex) {\n        }\n    }\n\n    Logger.log(LColor.GREEN + \"Finished EnumWriter for \" + file.getFile().getName() + \". It can be found at \" + file.getFile().getPath(), plugin);\n}\n</code></pre>\n"}],"owner":{"account_id":5939040,"reputation":452,"user_id":4670987,"display_name":"Sneling"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39318649,"answer_count":2,"score":3,"last_activity_date":1663677935,"creation_date":1472938245,"question_id":39311517,"body_markdown":"I want to write into a file/print the constants of an enum, as well as the values of their variables.\r\n\r\nFor example, here is what I thought of doing:\r\n\r\n    id, field_name_1, field_name_2, ...\r\n    enum_id, field_value_1, field_value_2, ...\r\n    ...\r\n\r\nHowever, I am not fully sure on how to do such a thing, as I only recently began working with reflection.\r\n\r\nThis is the code that I currently have.\r\n\r\n    public static void writeEnum(String filename, Enum e, SnelPlugin plugin){\r\n            SnelTextFile file = new SnelTextFile(plugin, new File(plugin.getDataFolder() + &quot;/&quot; + filename + &quot;.txt&quot;));\r\n            Logger.debug(&quot;Starting an EnumWriter for &quot; + filename + &quot;.txt for plugin &quot; + plugin.getPluginName());\r\n\r\n        try {\r\n            file.openWriter(true);\r\n\r\n            Field[] fields = e.getClass().getFields();\r\n\r\n            // HEADER\r\n            String info = &quot;&quot;;\r\n            for(Field f: fields) {\r\n                info += &quot;, &quot; + f.getName();\r\n                Logger.debug(&quot;Detected value: &quot; + f.getName());\r\n            }\r\n            info = info.replaceFirst(&quot;, &quot;, &quot;&quot;);\r\n            file.addLine(info);\r\n\r\n            // CONTENT\r\n            for(Object current: e.getDeclaringClass().getEnumConstants()){\r\n                Logger.debug(current.toString());\r\n\r\n                String result = &quot;&quot;;\r\n\r\n                for(Field f: fields){\r\n                    result += &quot;, &quot; + f.get(current);\r\n                }\r\n\r\n                result = result.replaceFirst(&quot;, &quot;, &quot;&quot;);\r\n\r\n                file.addLine(result);\r\n\r\n                Logger.debug(&quot;Added row: &quot; + result);\r\n            }\r\n        }catch (Exception ex){\r\n            ex.printStackTrace();\r\n        }finally {\r\n            try {\r\n                file.closeWriter();\r\n            } catch (IOException e1) {\r\n            }\r\n        }\r\n\r\n        Logger.log(LColor.GREEN + &quot;Finished an EnumWriter action on &quot; + filename + &quot;.txt from &quot; + plugin.getPluginName());\r\n    }\r\n\r\nHere is the Enum (APIPerm), which I setup for a simple test:\r\n\r\n    COMMANDS_SNELAPI,\r\n    COMMANDS_SNELAPI_INFO;\r\n\r\n    private String id;\r\n\r\n    APIPerm(){\r\n        id = getID();\r\n    }\r\n\r\n    @Override\r\n    public String getPrefix() {\r\n        return &quot;snelapi&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getID(){\r\n        return getPrefix() + &quot;.&quot; + this.toString().toLowerCase().replaceAll(&quot;_&quot;, &quot;.&quot;);\r\n    }\r\n\r\nHowever, I get an NPE in `for(Object current: e.getDeclaringClass().getEnumConstants())`\r\n\r\nThanks for your help,\r\nSneling.\r\n\r\n","title":"Get Values of variables under an Enum","body":"<p>I want to write into a file/print the constants of an enum, as well as the values of their variables.</p>\n\n<p>For example, here is what I thought of doing:</p>\n\n<pre><code>id, field_name_1, field_name_2, ...\nenum_id, field_value_1, field_value_2, ...\n...\n</code></pre>\n\n<p>However, I am not fully sure on how to do such a thing, as I only recently began working with reflection.</p>\n\n<p>This is the code that I currently have.</p>\n\n<pre><code>public static void writeEnum(String filename, Enum e, SnelPlugin plugin){\n        SnelTextFile file = new SnelTextFile(plugin, new File(plugin.getDataFolder() + \"/\" + filename + \".txt\"));\n        Logger.debug(\"Starting an EnumWriter for \" + filename + \".txt for plugin \" + plugin.getPluginName());\n\n    try {\n        file.openWriter(true);\n\n        Field[] fields = e.getClass().getFields();\n\n        // HEADER\n        String info = \"\";\n        for(Field f: fields) {\n            info += \", \" + f.getName();\n            Logger.debug(\"Detected value: \" + f.getName());\n        }\n        info = info.replaceFirst(\", \", \"\");\n        file.addLine(info);\n\n        // CONTENT\n        for(Object current: e.getDeclaringClass().getEnumConstants()){\n            Logger.debug(current.toString());\n\n            String result = \"\";\n\n            for(Field f: fields){\n                result += \", \" + f.get(current);\n            }\n\n            result = result.replaceFirst(\", \", \"\");\n\n            file.addLine(result);\n\n            Logger.debug(\"Added row: \" + result);\n        }\n    }catch (Exception ex){\n        ex.printStackTrace();\n    }finally {\n        try {\n            file.closeWriter();\n        } catch (IOException e1) {\n        }\n    }\n\n    Logger.log(LColor.GREEN + \"Finished an EnumWriter action on \" + filename + \".txt from \" + plugin.getPluginName());\n}\n</code></pre>\n\n<p>Here is the Enum (APIPerm), which I setup for a simple test:</p>\n\n<pre><code>COMMANDS_SNELAPI,\nCOMMANDS_SNELAPI_INFO;\n\nprivate String id;\n\nAPIPerm(){\n    id = getID();\n}\n\n@Override\npublic String getPrefix() {\n    return \"snelapi\";\n}\n\n@Override\npublic String getID(){\n    return getPrefix() + \".\" + this.toString().toLowerCase().replaceAll(\"_\", \".\");\n}\n</code></pre>\n\n<p>However, I get an NPE in <code>for(Object current: e.getDeclaringClass().getEnumConstants())</code></p>\n\n<p>Thanks for your help,\nSneling.</p>\n"},{"tags":["java","html","swing","colors","jlabel"],"comments":[{"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"score":0,"creation_date":1644848219,"post_id":71113317,"comment_id":125707092,"body_markdown":"Share your code on how you are setting.","body":"Share your code on how you are setting."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644848565,"post_id":71113317,"comment_id":125707242,"body_markdown":"Do you think it is possible for us to know what is wrong with your code without looking at **_your code_**?","body":"Do you think it is possible for us to know what is wrong with your code without looking at <b><i>your code</i></b>?"},{"owner":{"account_id":14226434,"reputation":88,"user_id":10601796,"display_name":"user10276995"},"score":0,"creation_date":1660170755,"post_id":71113317,"comment_id":129472881,"body_markdown":"After reading your question, I sent a Pull Request to the OpenJDK project.","body":"After reading your question, I sent a Pull Request to the OpenJDK project."},{"owner":{"account_id":14226434,"reputation":88,"user_id":10601796,"display_name":"user10276995"},"score":0,"creation_date":1660171439,"post_id":71113317,"comment_id":129473017,"body_markdown":"It&#39;s the forge for Java Implementation (https://github.com/openjdk/jdk/pull/9825). This is really easy to implement, the proposal is a simple extension of existing code, I also made other propositions to improve it. If acceped, Java Swing HTML will take in charge all CSS Level 4 named colors and then the cyan and magenta (https://www.w3.org/TR/2022/CR-css-color-4-20220705/#named-colors).","body":"It&#39;s the forge for Java Implementation (<a href=\"https://github.com/openjdk/jdk/pull/9825\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/pull/9825</a>). This is really easy to implement, the proposal is a simple extension of existing code, I also made other propositions to improve it. If acceped, Java Swing HTML will take in charge all CSS Level 4 named colors and then the cyan and magenta (<a href=\"https://www.w3.org/TR/2022/CR-css-color-4-20220705/#named-colors\" rel=\"nofollow noreferrer\">w3.org/TR/2022/CR-css-color-4-20220705/#named-colors</a>)."},{"owner":{"account_id":14226434,"reputation":88,"user_id":10601796,"display_name":"user10276995"},"score":0,"creation_date":1660297457,"post_id":71113317,"comment_id":129504668,"body_markdown":"This issue is now referenced and waiting its review. Fill free to comment at https://github.com/scientificware/jdk/issues/12.","body":"This issue is now referenced and waiting its review. Fill free to comment at <a href=\"https://github.com/scientificware/jdk/issues/12\" rel=\"nofollow noreferrer\">github.com/scientificware/jdk/issues/12</a>."},{"owner":{"account_id":14226434,"reputation":88,"user_id":10601796,"display_name":"user10276995"},"score":0,"creation_date":1664630819,"post_id":71113317,"comment_id":130518153,"body_markdown":"This issue is in review and needs an update of its java documentation. Next step CSR.","body":"This issue is in review and needs an update of its java documentation. Next step CSR."},{"owner":{"account_id":14226434,"reputation":88,"user_id":10601796,"display_name":"user10276995"},"score":0,"creation_date":1664631721,"post_id":71113317,"comment_id":130518307,"body_markdown":"I posted another PR to update hexadecimal notation support, allowing #RGB #RGBA #RRGGBB and #RRGGBBAA https://github.com/openjdk/jdk/pull/10317. It&#39;s waiting a review after a new implementation proposition.","body":"I posted another PR to update hexadecimal notation support, allowing #RGB #RGBA #RRGGBB and #RRGGBBAA <a href=\"https://github.com/openjdk/jdk/pull/10317\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/pull/10317</a>. It&#39;s waiting a review after a new implementation proposition."},{"owner":{"account_id":14226434,"reputation":88,"user_id":10601796,"display_name":"user10276995"},"score":0,"creation_date":1665069808,"post_id":71113317,"comment_id":130617979,"body_markdown":"@Moungsung Thanks for your question. I&#39;m going to post another and last PR about rgb() and rgba() functions.","body":"@Moungsung Thanks for your question. I&#39;m going to post another and last PR about rgb() and rgba() functions."},{"owner":{"account_id":14226434,"reputation":88,"user_id":10601796,"display_name":"user10276995"},"score":0,"creation_date":1697683108,"post_id":71113317,"comment_id":136311552,"body_markdown":"Named colors (https://github.com/openjdk/jdk/pull/9825), hexadecimal notations (https://github.com/openjdk/jdk/pull/10317) and RGB/RGBA function (https://github.com/openjdk/jdk/pull/15262) are now in the same PR : https://github.com/openjdk/jdk/pull/9825. Release in JDK 22 ?","body":"Named colors (<a href=\"https://github.com/openjdk/jdk/pull/9825\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/pull/9825</a>), hexadecimal notations (<a href=\"https://github.com/openjdk/jdk/pull/10317\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/pull/10317</a>) and RGB/RGBA function (<a href=\"https://github.com/openjdk/jdk/pull/15262\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/pull/15262</a>) are now in the same PR : <a href=\"https://github.com/openjdk/jdk/pull/9825\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/pull/9825</a>. Release in JDK 22 ?"}],"answers":[{"tags":[],"owner":{"account_id":16820672,"reputation":39,"user_id":12161225,"display_name":"Moungsung Im"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644916004,"creation_date":1644848522,"answer_id":71113398,"question_id":71113317,"body_markdown":"If anyone has the same issue, try to use hex `#00FFFF` instead of `cyan`.\r\n\r\nAs Mr. [Andrew Thompson][1] commented, Swing&#39;s HTML support (which is a subset of HTML 3.2), and CSS is so poor, it would be safest to only use hex or RGB values for colors.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/418556/andrew-thompson","title":"Java swing set font color with HTML tag but cyan and magenta color don&#39;t work","body":"<p>If anyone has the same issue, try to use hex <code>#00FFFF</code> instead of <code>cyan</code>.</p>\n<p>As Mr. <a href=\"https://stackoverflow.com/users/418556/andrew-thompson\">Andrew Thompson</a> commented, Swing's HTML support (which is a subset of HTML 3.2), and CSS is so poor, it would be safest to only use hex or RGB values for colors.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644850679,"creation_date":1644850679,"answer_id":71113850,"question_id":71113317,"body_markdown":"Unfortunately, the Swing HTML renderer is quite old.  It conforms to HTML 3.2 and CSS 1.0.\r\n\r\nThe `color` attribute of `&lt;font&gt;` is parsed using the non-public [CSS.stringToColor](https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/javax/swing/text/html/CSS.java#L1393) method, which only recognizes 17 color names: Black, Silver, Gray, White, Maroon, Red, Purple, Fuchsia, Green, Lime, Olive, Yellow, Navy, Blue, Teal, Aqua, and Orange.\r\n\r\nFor what it’s worth, JavaFX is a more modern UI library which has a [WebView](https://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebView.html) component that uses WebKit for rendering, and thus has much more up-to-date HTML and CSS support.\r\n","title":"Java swing set font color with HTML tag but cyan and magenta color don&#39;t work","body":"<p>Unfortunately, the Swing HTML renderer is quite old.  It conforms to HTML 3.2 and CSS 1.0.</p>\n<p>The <code>color</code> attribute of <code>&lt;font&gt;</code> is parsed using the non-public <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/javax/swing/text/html/CSS.java#L1393\" rel=\"nofollow noreferrer\">CSS.stringToColor</a> method, which only recognizes 17 color names: Black, Silver, Gray, White, Maroon, Red, Purple, Fuchsia, Green, Lime, Olive, Yellow, Navy, Blue, Teal, Aqua, and Orange.</p>\n<p>For what it’s worth, JavaFX is a more modern UI library which has a <a href=\"https://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebView.html\" rel=\"nofollow noreferrer\">WebView</a> component that uses WebKit for rendering, and thus has much more up-to-date HTML and CSS support.</p>\n"}],"owner":{"account_id":16820672,"reputation":39,"user_id":12161225,"display_name":"Moungsung Im"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1644915529,"answer_count":2,"score":2,"last_activity_date":1663677438,"creation_date":1644848154,"question_id":71113317,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7JJbp.png\r\n\r\nHello I&#39;m trying to change font color in JLabel with html tag like this,\r\n`&lt;font color=&quot;+fontColor+&quot;&gt;`\r\nevery other color such as red, orange, blue, fuchsia, gray, lime, maroon, navy, olive, purple, silver, teal, green, yellow, white, and black but cyan and magenta do not. \r\n\r\nDoes anyone know why those two special colors don&#39;t work in java?\r\n\r\nThank you!","title":"Java swing set font color with HTML tag but cyan and magenta color don&#39;t work","body":"<p><a href=\"https://i.stack.imgur.com/7JJbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7JJbp.png\" alt=\"enter image description here\" /></a></p>\n<p>Hello I'm trying to change font color in JLabel with html tag like this,\n<code>&lt;font color=&quot;+fontColor+&quot;&gt;</code>\nevery other color such as red, orange, blue, fuchsia, gray, lime, maroon, navy, olive, purple, silver, teal, green, yellow, white, and black but cyan and magenta do not.</p>\n<p>Does anyone know why those two special colors don't work in java?</p>\n<p>Thank you!</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8970,"page":1022,"page_size":100}
